<!DOCTYPE html><html><head><title>Help for package scatterplot3d</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {scatterplot3d}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#scatterplot3d'><p>3D Scatter Plot</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Version:</td>
<td>0.3-44</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-05-05</td>
</tr>
<tr>
<td>Title:</td>
<td>3D Scatter Plot</td>
</tr>
<tr>
<td>Author:</td>
<td>Uwe Ligges &lt;ligges@statistik.tu-dortmund.de&gt;, Martin Maechler, Sarah Schnackenberg</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Uwe Ligges &lt;ligges@statistik.tu-dortmund.de&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Plots a three dimensional (3D) point cloud.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.7.0)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Imports:</td>
<td>grDevices, graphics, stats</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-05-05 08:23:11 UTC; ligges</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-05-05 09:20:09 UTC</td>
</tr>
</table>
<hr>
<h2 id='scatterplot3d'>3D Scatter Plot</h2><span id='topic+scatterplot3d'></span>

<h3>Description</h3>

<p>Plots a three dimensional (3D) point cloud.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scatterplot3d(x, y=NULL, z=NULL, color=par("col"), pch=par("pch"),
    main=NULL, sub=NULL, xlim=NULL, ylim=NULL, zlim=NULL,
    xlab=NULL, ylab=NULL, zlab=NULL, scale.y=1, angle=40,
    axis=TRUE, tick.marks=TRUE, label.tick.marks=TRUE,
    x.ticklabs=NULL, y.ticklabs=NULL, z.ticklabs=NULL,
    y.margin.add=0, y.axis.offset=1, grid=TRUE, box=TRUE, 
    lab=par("lab"), lab.z=mean(lab[1:2]), type="p", 
    highlight.3d=FALSE, mar=c(5,3,4,3)+0.1, bg=par("bg"), 
    col.axis=par("col.axis"), col.grid="grey", col.lab=par("col.lab"), 
    cex.symbols=par("cex"), cex.axis=0.8 * par("cex.axis"),
    cex.lab=par("cex.lab"), font.axis=par("font.axis"),
    font.lab=par("font.lab"), lty.axis=par("lty"),
    lty.grid=par("lty"), lty.hide=NULL, lty.hplot=par("lty"),
    log="", asp=NA, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="scatterplot3d_+3A_x">x</code></td>
<td>
<p>the coordinates of points in the plot.</p>
</td></tr>
<tr><td><code id="scatterplot3d_+3A_y">y</code></td>
<td>
<p>the y coordinates of points in the plot, optional if <code>x</code> is an appropriate structure.</p>
</td></tr>
<tr><td><code id="scatterplot3d_+3A_z">z</code></td>
<td>
<p>the z coordinates of points in the plot, optional if <code>x</code> is an appropriate structure.</p>
</td></tr>
<tr><td><code id="scatterplot3d_+3A_color">color</code></td>
<td>
<p>colors of points in the plot, optional if <code>x</code> is an appropriate structure.
Will be ignored if <code>highlight.3d = TRUE</code>.</p>
</td></tr>
<tr><td><code id="scatterplot3d_+3A_pch">pch</code></td>
<td>
<p>plotting &quot;character&quot;, i.e. symbol to use.</p>
</td></tr>
<tr><td><code id="scatterplot3d_+3A_main">main</code></td>
<td>
<p>an overall title for the plot.</p>
</td></tr>
<tr><td><code id="scatterplot3d_+3A_sub">sub</code></td>
<td>
<p>sub-title.</p>
</td></tr>
<tr><td><code id="scatterplot3d_+3A_xlim">xlim</code>, <code id="scatterplot3d_+3A_ylim">ylim</code>, <code id="scatterplot3d_+3A_zlim">zlim</code></td>
<td>
<p>the x, y and z limits (min, max) of the plot. Note that setting enlarged limits 
may not work as exactly as expected (a known but unfixed bug).</p>
</td></tr>
<tr><td><code id="scatterplot3d_+3A_xlab">xlab</code>, <code id="scatterplot3d_+3A_ylab">ylab</code>, <code id="scatterplot3d_+3A_zlab">zlab</code></td>
<td>
<p>titles for the x, y and z axis.</p>
</td></tr>
<tr><td><code id="scatterplot3d_+3A_scale.y">scale.y</code></td>
<td>
<p>scale of y axis related to x- and z axis.</p>
</td></tr>
<tr><td><code id="scatterplot3d_+3A_angle">angle</code></td>
<td>
<p>angle between x and y axis (Attention: result depends on scaling).</p>
</td></tr>
<tr><td><code id="scatterplot3d_+3A_axis">axis</code></td>
<td>
<p>a logical value indicating whether axes should be drawn on the plot.</p>
</td></tr>
<tr><td><code id="scatterplot3d_+3A_tick.marks">tick.marks</code></td>
<td>
<p>a logical value indicating whether tick marks should
be drawn on the plot (only if <code>axis = TRUE</code>).</p>
</td></tr>
<tr><td><code id="scatterplot3d_+3A_label.tick.marks">label.tick.marks</code></td>
<td>
<p>a logical value indicating whether tick marks should be labeled on the plot
(only if <code>axis = TRUE</code> and <code>tick.marks = TRUE</code>).</p>
</td></tr>
<tr><td><code id="scatterplot3d_+3A_x.ticklabs">x.ticklabs</code>, <code id="scatterplot3d_+3A_y.ticklabs">y.ticklabs</code>, <code id="scatterplot3d_+3A_z.ticklabs">z.ticklabs</code></td>
<td>
<p>vector of tick mark labels.</p>
</td></tr>
<tr><td><code id="scatterplot3d_+3A_y.margin.add">y.margin.add</code></td>
<td>
<p>add additional space between tick mark labels and
axis label of the y axis</p>
</td></tr>
<tr><td><code id="scatterplot3d_+3A_y.axis.offset">y.axis.offset</code></td>
<td>
<p>a numeric (default 1) specifying the offset of y axis tick mark labels 
from the axis, see offset argument of <code><a href="graphics.html#topic+text">text</a></code>.</p>
</td></tr>
<tr><td><code id="scatterplot3d_+3A_grid">grid</code></td>
<td>
<p>a logical value indicating whether a grid should be drawn on the plot.</p>
</td></tr>
<tr><td><code id="scatterplot3d_+3A_box">box</code></td>
<td>
<p>a logical value indicating whether a box should be drawn around the plot.</p>
</td></tr>
<tr><td><code id="scatterplot3d_+3A_lab">lab</code></td>
<td>
<p>a numerical vector of the form c(x, y, len).  The values of
x and y give the (approximate) number of tickmarks on the x and y axes.</p>
</td></tr>
<tr><td><code id="scatterplot3d_+3A_lab.z">lab.z</code></td>
<td>
<p>the same as <code>lab</code>, but for z axis.</p>
</td></tr>
<tr><td><code id="scatterplot3d_+3A_type">type</code></td>
<td>
<p>character indicating the type of plot: &quot;p&quot; for points, &quot;l&quot;
for lines, &quot;h&quot; for vertical lines to x-y-plane, etc.</p>
</td></tr>
<tr><td><code id="scatterplot3d_+3A_highlight.3d">highlight.3d</code></td>
<td>
<p>points will be drawn in different colors related to y coordinates
(only if <code>type = "p"</code> or <code>type = "h"</code>, else <code>color</code> will be used).<br />
On some devices not all colors can be displayed. In this case try the
postscript device or use <code>highlight.3d = FALSE</code>.</p>
</td></tr>
<tr><td><code id="scatterplot3d_+3A_mar">mar</code></td>
<td>
<p>A numerical vector of the form c(bottom, left, top, right)
which gives the lines of margin to be specified on the four sides of the plot.
See section Values on how to change the setting back to the default / previous setting.</p>
</td></tr>
<tr><td><code id="scatterplot3d_+3A_bg">bg</code></td>
<td>
<p>background (fill) color for the open plot symbols given by pch = 21:25.</p>
</td></tr>
<tr><td><code id="scatterplot3d_+3A_col.axis">col.axis</code>, <code id="scatterplot3d_+3A_col.grid">col.grid</code>, <code id="scatterplot3d_+3A_col.lab">col.lab</code></td>
<td>
<p>the color to be used for axis / grid / axis labels.</p>
</td></tr>
<tr><td><code id="scatterplot3d_+3A_cex.symbols">cex.symbols</code></td>
<td>
<p>the magnification to be used for point symbols.</p>
</td></tr>
<tr><td><code id="scatterplot3d_+3A_cex.axis">cex.axis</code>, <code id="scatterplot3d_+3A_cex.lab">cex.lab</code></td>
<td>
<p>the magnification to be used for
axis annotation and labels relative to the current.</p>
</td></tr>
<tr><td><code id="scatterplot3d_+3A_font.axis">font.axis</code>, <code id="scatterplot3d_+3A_font.lab">font.lab</code></td>
<td>
<p>the font to be used for axis annotation / labels.</p>
</td></tr>
<tr><td><code id="scatterplot3d_+3A_lty.axis">lty.axis</code>, <code id="scatterplot3d_+3A_lty.grid">lty.grid</code></td>
<td>
<p>the line type to be used for axis / grid.</p>
</td></tr>
<tr><td><code id="scatterplot3d_+3A_lty.hide">lty.hide</code></td>
<td>
<p>line style used to plot &lsquo;non-visible&rsquo; edges (defaults of the <code>lty.axis</code> style)</p>
</td></tr>
<tr><td><code id="scatterplot3d_+3A_lty.hplot">lty.hplot</code></td>
<td>
<p>the line type to be used for vertical segments with <code>type = "h"</code>.</p>
</td></tr>
<tr><td><code id="scatterplot3d_+3A_log">log</code></td>
<td>
<p>Not yet implemented!  A character string which contains &quot;x&quot;
(if the x axis is to be logarithmic), &quot;y&quot;, &quot;z&quot;, &quot;xy&quot;, &quot;xz&quot;, &quot;yz&quot;, &quot;xyz&quot;.</p>
</td></tr>
<tr><td><code id="scatterplot3d_+3A_asp">asp</code></td>
<td>
<p>numeric, giving the <b>asp</b>ect ratio z/x or z/y, see &lsquo;Note&rsquo;.</p>
</td></tr>
<tr><td><code id="scatterplot3d_+3A_...">...</code></td>
<td>
<p>more graphical parameters can be given as arguments,
<code>pch = 16</code> or <code>pch = 20</code> may be nice.</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>xyz.convert</code></td>
<td>
<p>function which converts coordinates from 3D (x, y, z)
to 2D-projection (x, y) of <code>scatterplot3d</code>.
Useful to plot objects into existing plot.</p>
</td></tr>
<tr><td><code>points3d</code></td>
<td>
<p>function which draws points or lines into the existing plot.</p>
</td></tr>
<tr><td><code>plane3d</code></td>
<td>
<p>function which draws a plane into the existing plot:
<code>plane3d(Intercept, x.coef = NULL, y.coef = NULL, lty =
      "dashed", lty.box = NULL, draw_lines = TRUE, draw_polygon = FALSE, 
      polygon_args = list(border = NA, col = rgb(0,0,0,0.2)), ...)</code>.
Instead of <code>Intercept</code> a vector containing 3
elements or an (g)lm object can be specified.
The argument <code>lty.box</code> allows to set a different line style for the 
intersecting lines in the box's walls. The arguments <code>draw_lines</code> and <code>draw_polygon</code>
allow for choosing whether to represent the plane via line segments or as a solid surface, respectively.
The list in <code>polygon_args</code> collects arguments to be passed to the underlying 
<code><a href="graphics.html#topic+polygon">polygon</a></code> call that draws a solid (or transparent) plane if <code>draw_polygon=TRUE</code>.</p>
</td></tr>
<tr><td><code>box3d</code></td>
<td>
<p>function which &ldquo;refreshes&rdquo; the box surrounding the plot.</p>
</td></tr>
<tr><td><code>contour3d</code></td>
<td>
<p>function which draws countour lines into the existing plot:
<code>contour3d(f, x.count = 10, y.count = 10, type = "l", lty = "24", 
            x.resolution = 50, y.resolution = 50, ...)</code>.
The first argument can be an <code>lm</code> object of two dimensions or a function of two arguments. In both cases
the dimensions have to be given in the order <code>x</code>, <code>y</code> of the <code>scatterplot3d</code> call.
The arguments <code>x.count</code> and <code>y.count</code> specify how many segments should be drawn for each dimension.
The arguments <code>x.resolution</code> and <code>y.resolution</code> control the number of locations where the segments have to be evaluated.
</p>
</td></tr>
<tr><td><code>par.mar</code></td>
<td>
<p>As the function modifies the <code>par("mar")</code> settings of the current device and needs to keep these in case you add elements to the plot later on, 
you can change these back via <code>par(object$par.mar)</code> in case you want to add more plots with default margins to the current device.</p>
</td></tr>  
</table>


<h3>Note</h3>

<p>Some graphical parameters should only be set as arguments in
<code>scatterplot3d</code> but not in a previous <code><a href="graphics.html#topic+par">par</a>()</code> call.  One of these is
<code>mar</code>, which is also non-standard in another way: Users who
want to extend an existing <code>scatterplot3d</code> graphic with another function than
<code>points3d</code>, <code>plane3d</code> or <code>box3d</code>, should consider to
set <code>par(mar = c(b, l, t, r))</code> to the value of <code>mar</code> used in
<code>scatterplot3d</code>, which defaults to <code>c(5, 3, 4, 3) + 0.1</code>.
</p>
<p>Other <code>par</code> arguments may be split into several arguments in
<code>scatterplot3d</code>, e.g., for specifying the line type.  And finally
some of <code>par</code> arguments do not apply here, e.g., many of those
for axis calculation.  So we recommend to try the specification of
graphical parameters at first as arguments in <code>scatterplot3d</code> and
only if needed as arguments in previous <code>par()</code> call.
</p>
<p>If <code>asp</code> is a finite positive value then the window is set up so that one
data unit in the x or y direction (the one that ist plotted horizontally
- depends on <code>angle</code> -) is equal in length to <code>asp</code> <code class="reqn">\times</code>
one data unit in the z direction.
The variation of <code>asp</code> is only reasonable if the default values
<code>x.ticklabs=NULL</code>, <code>y.ticklabs=NULL</code>, <code>z.ticklabs=NULL</code> are not changed.
</p>


<h3>Author(s)</h3>

<p>Uwe Ligges <a href="mailto:ligges@statistik.tu-dortmund.de">ligges@statistik.tu-dortmund.de</a>, Martin Maechler, Sarah Schnackenberg
</p>


<h3>References</h3>

<p>Ligges, U., and Maechler, M. (2003): 
Scatterplot3d &ndash; an R Package for Visualizing Multivariate Data. 
<em>Journal of Statistical Software</em> 8(11), 1&ndash;20. 
<a href="https://doi.org/10.18637/jss.v008.i11">doi:10.18637/jss.v008.i11</a>
</p>


<h3>See Also</h3>

<p><code><a href="graphics.html#topic+persp">persp</a></code>, <code><a href="graphics.html#topic+plot">plot</a></code>, <code><a href="graphics.html#topic+par">par</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  ## On some devices not all colors can be displayed.
  ## Try the postscript device or use highlight.3d = FALSE.

  ## example 1
  z &lt;- seq(-10, 10, 0.01)
  x &lt;- cos(z)
  y &lt;- sin(z)
  scatterplot3d(x, y, z, highlight.3d=TRUE, col.axis="blue",
      col.grid="lightblue", main="scatterplot3d - 1", pch=20, mar=c(0,0,0,0))

  ## example 2
  temp &lt;- seq(-pi, 0, length = 50)
  x &lt;- c(rep(1, 50) %*% t(cos(temp)))
  y &lt;- c(cos(temp) %*% t(sin(temp)))
  z &lt;- c(sin(temp) %*% t(sin(temp)))
  scatterplot3d(x, y, z, highlight.3d=TRUE,
      col.axis="blue", col.grid="lightblue",
      main="scatterplot3d - 2", pch=20)

  ## example 3
  temp &lt;- seq(-pi, 0, length = 50)
  x &lt;- c(rep(1, 50) %*% t(cos(temp)))
  y &lt;- c(cos(temp) %*% t(sin(temp)))
  z &lt;- 10 * c(sin(temp) %*% t(sin(temp)))
  color &lt;- rep("green", length(x))
  temp &lt;- seq(-10, 10, 0.01)
  x &lt;- c(x, cos(temp))
  y &lt;- c(y, sin(temp))
  z &lt;- c(z, temp)
  color &lt;- c(color, rep("red", length(temp)))
  scatterplot3d(x, y, z, color, pch=20, zlim=c(-2, 10),
      main="scatterplot3d - 3")

  ## example 4
  my.mat &lt;- matrix(runif(25), nrow=5)
  dimnames(my.mat) &lt;- list(LETTERS[1:5], letters[11:15])
  my.mat # the matrix we want to plot ...

  s3d.dat &lt;- data.frame(cols=as.vector(col(my.mat)),
      rows=as.vector(row(my.mat)),
      value=as.vector(my.mat))
  scatterplot3d(s3d.dat, type="h", lwd=5, pch=" ",
      x.ticklabs=colnames(my.mat), y.ticklabs=rownames(my.mat),
      color=grey(25:1/40), main="scatterplot3d - 4")

  ## example 5
  data(trees)
  s3d &lt;- scatterplot3d(trees, type="h", highlight.3d=TRUE,
      angle=55, scale.y=0.7, pch=16, main="scatterplot3d - 5")
  # Now adding some points to the "scatterplot3d"
  s3d$points3d(seq(10,20,2), seq(85,60,-5), seq(60,10,-10),
      col="blue", type="h", pch=16)
  # Now adding a regression plane to the "scatterplot3d"
  attach(trees)
  my.lm &lt;- lm(Volume ~ Girth + Height)
  s3d$plane3d(my.lm, lty.box = "solid")
  
  ## example 6; by Martin Maechler
  cubedraw &lt;- function(res3d, min = 0, max = 255, cex = 2, text. = FALSE)
  {
    ## Purpose: Draw nice cube with corners
    cube01 &lt;- rbind(c(0,0,1), 0, c(1,0,0), c(1,1,0), 1, c(0,1,1), # &lt; 6 outer
                    c(1,0,1), c(0,1,0)) # &lt;- "inner": fore- &amp; back-ground
    cub &lt;- min + (max-min)* cube01
    ## visibile corners + lines:
    res3d$points3d(cub[c(1:6,1,7,3,7,5) ,], cex = cex, type = 'b', lty = 1)
    ## hidden corner + lines
    res3d$points3d(cub[c(2,8,4,8,6),     ], cex = cex, type = 'b', lty = 3)
    if(text.)## debug
        text(res3d$xyz.convert(cub), labels=1:nrow(cub), col='tomato', cex=2)
  }
  ## 6 a) The named colors in R, i.e. colors()
  cc &lt;- colors()
  crgb &lt;- t(col2rgb(cc))
  par(xpd = TRUE)
  rr &lt;- scatterplot3d(crgb, color = cc, box = FALSE, angle = 24,
      xlim = c(-50, 300), ylim = c(-50, 300), zlim = c(-50, 300))
  cubedraw(rr)
  ## 6 b) The rainbow colors from rainbow(201)
  rbc &lt;- rainbow(201)
  Rrb &lt;- t(col2rgb(rbc))
  rR &lt;- scatterplot3d(Rrb, color = rbc, box = FALSE, angle = 24,
      xlim = c(-50, 300), ylim = c(-50, 300), zlim = c(-50, 300))
  cubedraw(rR)
  rR$points3d(Rrb, col = rbc, pch = 16)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package midasr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {midasr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#midasr-package'><p>Mixed Data Sampling Regression</p></a></li>
<li><a href='#+2B.lws_table'><p>Combine <code>lws_table</code> objects</p></a></li>
<li><a href='#agk.test'><p>Andreou, Ghysels, Kourtellos LM test</p></a></li>
<li><a href='#almonp'><p>Almon polynomial MIDAS weights specification</p></a></li>
<li><a href='#almonp_gradient'><p>Gradient function for Almon polynomial MIDAS weights</p></a></li>
<li><a href='#amidas_table'><p>Weight and lag selection table for aggregates based MIDAS regression model</p></a></li>
<li><a href='#amweights'><p>Weights for aggregates based MIDAS regressions</p></a></li>
<li><a href='#average_forecast'><p>Average forecasts of MIDAS models</p></a></li>
<li><a href='#check_mixfreq'><p>Check data for MIDAS regression</p></a></li>
<li><a href='#coef.midas_nlpr'><p>Extract coefficients of MIDAS regression</p></a></li>
<li><a href='#coef.midas_r'><p>Extract coefficients of MIDAS regression</p></a></li>
<li><a href='#coef.midas_sp'><p>Extract coefficients of MIDAS regression</p></a></li>
<li><a href='#deriv_tests'><p>Check whether non-linear least squares restricted MIDAS regression problem has converged</p></a></li>
<li><a href='#deviance.midas_nlpr'><p>Non-linear parametric MIDAS regression model deviance</p></a></li>
<li><a href='#deviance.midas_r'><p>MIDAS regression model deviance</p></a></li>
<li><a href='#deviance.midas_sp'><p>Semi-parametric MIDAS regression model deviance</p></a></li>
<li><a href='#dmls'><p>MIDAS lag structure for unit root processes</p></a></li>
<li><a href='#expand_amidas'><p>Create table of weights, lags and starting values for Ghysels weight schema</p></a></li>
<li><a href='#expand_weights_lags'><p>Create table of weights, lags and starting values</p></a></li>
<li><a href='#extract.midas_r'><p>Extract coefficients and GOF measures from MIDAS regression object</p></a></li>
<li><a href='#fitted.midas_nlpr'><p>Fitted values for non-linear parametric MIDAS regression model</p></a></li>
<li><a href='#fitted.midas_sp'><p>Fitted values for semi-parametric MIDAS regression model</p></a></li>
<li><a href='#fmls'><p>Full MIDAS lag structure</p></a></li>
<li><a href='#forecast.midas_r'><p>Forecast MIDAS regression</p></a></li>
<li><a href='#genexp'><p>Generalized exponential MIDAS coefficients</p></a></li>
<li><a href='#genexp_gradient'><p>Gradient of generalized exponential MIDAS coefficient generating function</p></a></li>
<li><a href='#get_estimation_sample'><p>Get the data which was used to etimate MIDAS regression</p></a></li>
<li><a href='#gompertzp'><p>Normalized Gompertz probability density function MIDAS weights specification</p></a></li>
<li><a href='#gompertzp_gradient'><p>Gradient function for normalized Gompertz probability density function MIDAS weights specification</p></a></li>
<li><a href='#hAh_test'><p>Test restrictions on coefficients of MIDAS regression</p></a></li>
<li><a href='#hAhr_test'><p>Test restrictions on coefficients of MIDAS regression using robust version of the test</p></a></li>
<li><a href='#harstep'><p>HAR(3)-RV model MIDAS weights specification</p></a></li>
<li><a href='#harstep_gradient'><p>Gradient function for HAR(3)-RV model MIDAS weights specification</p></a></li>
<li><a href='#hf_lags_table'><p>Create a high frequency lag selection table for MIDAS regression model</p></a></li>
<li><a href='#imidas_r'><p>Restricted MIDAS regression with I(1) regressors</p></a></li>
<li><a href='#lcauchyp'><p>Normalized log-Cauchy probability density function MIDAS weights specification</p></a></li>
<li><a href='#lcauchyp_gradient'><p>Gradient function for normalized log-Cauchy probability density function MIDAS weights specification</p></a></li>
<li><a href='#lf_lags_table'><p>Create a low frequency lag selection table for MIDAS regression model</p></a></li>
<li><a href='#lstr'><p>Compute LSTR term for high frequency variable</p></a></li>
<li><a href='#midas_auto_sim'><p>Simulate simple autoregressive MIDAS model</p></a></li>
<li><a href='#midas_lstr_plain'><p>LSTR (Logistic Smooth TRansition)  MIDAS regression</p></a></li>
<li><a href='#midas_lstr_sim'><p>Simulate LSTR MIDAS regression model</p></a></li>
<li><a href='#midas_mmm_plain'><p>MMM (Mean-Min-Max)  MIDAS regression</p></a></li>
<li><a href='#midas_mmm_sim'><p>Simulate MMM MIDAS regression model</p></a></li>
<li><a href='#midas_nlpr'><p>Non-linear parametric MIDAS regression</p></a></li>
<li><a href='#midas_nlpr.fit'><p>Fit restricted MIDAS regression</p></a></li>
<li><a href='#midas_pl_plain'><p>MIDAS Partialy linear non-parametric regression</p></a></li>
<li><a href='#midas_pl_sim'><p>Simulate PL MIDAS regression model</p></a></li>
<li><a href='#midas_qr'><p>Restricted MIDAS quantile regression</p></a></li>
<li><a href='#midas_r'><p>Restricted MIDAS regression</p></a></li>
<li><a href='#midas_r_ic_table'><p>Create a weight and lag selection table for MIDAS regression model</p></a></li>
<li><a href='#midas_r_np'><p>Estimate non-parametric MIDAS regression</p></a></li>
<li><a href='#midas_r_plain'><p>Restricted MIDAS regression</p></a></li>
<li><a href='#midas_r.fit'><p>Fit restricted MIDAS regression</p></a></li>
<li><a href='#midas_si_plain'><p>MIDAS Single index regression</p></a></li>
<li><a href='#midas_si_sim'><p>Simulate SI MIDAS regression model</p></a></li>
<li><a href='#midas_sim'><p>Simulate simple MIDAS regression response variable</p></a></li>
<li><a href='#midas_sp'><p>Semi-parametric MIDAS regression</p></a></li>
<li><a href='#midas_u'><p>Estimate unrestricted MIDAS regression</p></a></li>
<li><a href='#mls'><p>MIDAS lag structure</p></a></li>
<li><a href='#mlsd'><p>MIDAS lag structure with dates</p></a></li>
<li><a href='#mmm'><p>Compute MMM term for high frequency variable</p></a></li>
<li><a href='#modsel'><p>Select the model based on given information criteria</p></a></li>
<li><a href='#nakagamip'><p>Normalized Nakagami probability density function MIDAS weights specification</p></a></li>
<li><a href='#nakagamip_gradient'><p>Gradient function for normalized Nakagami probability density function MIDAS weights specification</p></a></li>
<li><a href='#nbeta'><p>Normalized beta probability density function MIDAS weights specification</p></a></li>
<li><a href='#nbeta_gradient'><p>Gradient function for normalized beta probability density function MIDAS weights specification</p></a></li>
<li><a href='#nbetaMT'><p>Normalized beta probability density function MIDAS weights specification (MATLAB toolbox compatible)</p></a></li>
<li><a href='#nbetaMT_gradient'><p>Gradient function for normalized beta probability density function MIDAS weights specification (MATLAB toolbox compatible)</p></a></li>
<li><a href='#nealmon'><p>Normalized Exponential Almon lag MIDAS coefficients</p></a></li>
<li><a href='#nealmon_gradient'><p>Gradient function for normalized exponential Almon lag weights</p></a></li>
<li><a href='#oos_prec'><p>Out-of-sample prediction precision data on simulation example</p></a></li>
<li><a href='#plot_lstr'><p>Plot MIDAS coefficients</p></a></li>
<li><a href='#plot_midas_coef'><p>Plot MIDAS coefficients</p></a></li>
<li><a href='#plot_midas_coef.midas_nlpr'><p>Plot MIDAS coefficients</p></a></li>
<li><a href='#plot_sp'><p>Plot non-parametric part of the single index MIDAS regression</p></a></li>
<li><a href='#polystep'><p>Step function specification for MIDAS weights</p></a></li>
<li><a href='#polystep_gradient'><p>Gradient of step function specification for MIDAS weights</p></a></li>
<li><a href='#predict.midas_nlpr'><p>Predict method for non-linear parametric MIDAS regression fit</p></a></li>
<li><a href='#predict.midas_r'><p>Predict method for MIDAS regression fit</p></a></li>
<li><a href='#predict.midas_sp'><p>Predict method for semi-parametric MIDAS regression fit</p></a></li>
<li><a href='#prep_hAh'><p>Calculate data for hAh_test and hAhr_test</p></a></li>
<li><a href='#rvsp500'><p>Realized volatility of S&amp;P500 index</p></a></li>
<li><a href='#select_and_forecast'><p>Create table for different forecast horizons</p></a></li>
<li><a href='#simulate.midas_r'><p>Simulate MIDAS regression response</p></a></li>
<li><a href='#split_data'><p>Split mixed frequency data into in-sample and out-of-sample</p></a></li>
<li><a href='#update_weights'><p>Updates weights in MIDAS regression formula</p></a></li>
<li><a href='#UScpiqs'><p>US quartely seasonaly adjusted consumer price index</p></a></li>
<li><a href='#USeffrw'><p>US weekly effective federal funds rate.</p></a></li>
<li><a href='#USpayems'><p>United States total employment non-farms payroll, monthly, seasonally adjusted.</p></a></li>
<li><a href='#USqgdp'><p>United States gross domestic product, quarterly, seasonaly adjusted annual rate.</p></a></li>
<li><a href='#USrealgdp'><p>US annual gross domestic product in billions of chained 2005 dollars</p></a></li>
<li><a href='#USunempr'><p>US monthly unemployment rate</p></a></li>
<li><a href='#weights_table'><p>Create a weight function selection table for MIDAS regression model</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Mixed Data Sampling Regression</td>
</tr>
<tr>
<td>Description:</td>
<td>Methods and tools for mixed frequency time series data analysis.
    Allows estimation, model selection and forecasting for MIDAS regressions.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="http://mpiktas.github.io/midasr/">http://mpiktas.github.io/midasr/</a></td>
</tr>
<tr>
<td>Version:</td>
<td>0.8</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Vaidotas Zemlys-Balevičius &lt;zemlys@gmail.com&gt;</td>
</tr>
<tr>
<td>Author:</td>
<td>Virmantas Kvedaras &lt;virmantas.kvedaras@ec.europa.eu&gt;, Vaidotas Zemlys-Balevicius
   &lt;zemlys@gmail.com&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.11.0), sandwich, optimx, quantreg</td>
</tr>
<tr>
<td>Imports:</td>
<td>MASS, numDeriv, Matrix, forecast, zoo, stats, graphics, utils,
Formula, texreg, methods</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENCE</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/mpiktas/midasr/issues">https://github.com/mpiktas/midasr/issues</a></td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, lubridate, xts</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Collate:</td>
<td>'deriv.R' 'imidasreg.R' 'lagspec.R' 'midas_nlpr.R'
'midas_r_methods.R' 'midas_nlpr_methods.R' 'midas_qr_methods.R'
'midas_sp.R' 'midas_sp_methods.R' 'midaslag.R' 'midasqr.R'
'midasr-package.R' 'midasreg.R' 'modsel.R' 'nonparametric.R'
'simulate.R' 'tests.R'</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-02-20 16:24:42 UTC; mpiktas</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-02-23 09:40:05 UTC</td>
</tr>
</table>
<hr>
<h2 id='midasr-package'>Mixed Data Sampling Regression</h2><span id='topic+midasr-package'></span><span id='topic+midasr'></span>

<h3>Description</h3>

<p>Package for estimating, testing and forecasting MIDAS regression.
</p>


<h3>Details</h3>

<p>Methods and tools for mixed frequency time series data analysis. Allows estimation, model selection and forecasting for MIDAS regressions.
</p>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras <a href="mailto:virmantas.kvedaras@mif.vu.lt">virmantas.kvedaras@mif.vu.lt</a>, Vaidotas Zemlys (maintainer) <a href="mailto:zemlys@gmail.com">zemlys@gmail.com</a>
</p>

<hr>
<h2 id='+2B.lws_table'>Combine <code>lws_table</code> objects</h2><span id='topic++2B.lws_table'></span>

<h3>Description</h3>

<p>Combines <code>lws_table</code> objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'lws_table'
... + check = TRUE
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="+2B2B.lws_table_+3A_...">...</code></td>
<td>
<p><code>lws_table</code> object</p>
</td></tr>
<tr><td><code id="+2B2B.lws_table_+3A_check">check</code></td>
<td>
<p>logical, if TRUE checks that the each <code>lws_table</code> object is named a list with names <code>c("weights","lags","starts")</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>lws_table</code> objects have similar structure to table, i.e. it is a list with 3 elements which are the lists with the same number of elements. The base function <code>c</code> would <code>cbind</code> such tables. This function <code>rbind</code>s them.
</p>


<h3>Value</h3>

<p><code>lws_table</code> object
</p>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras, Vaidotas Zemlys
</p>


<h3>Examples</h3>

<pre><code class='language-R'>nlmn &lt;- expand_weights_lags("nealmon",0,c(4,8),1,start=list(nealmon=rep(0,3)))
nbt &lt;- expand_weights_lags("nbeta",0,c(4,8),1,start=list(nbeta=rep(0,4)))

nlmn+nbt
</code></pre>

<hr>
<h2 id='agk.test'>Andreou, Ghysels, Kourtellos LM test</h2><span id='topic+agk.test'></span>

<h3>Description</h3>

<p>Perform the test whether hyperparameters of normalized exponential Almon lag weights are zero
</p>


<h3>Usage</h3>

<pre><code class='language-R'>agk.test(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="agk.test_+3A_x">x</code></td>
<td>
<p>MIDAS regression object of class <code><a href="#topic+midas_r">midas_r</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>htest</code> object
</p>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras, Vaidotas Zemlys
</p>


<h3>References</h3>

<p>Andreou E., Ghysels E., Kourtellos A. <em>Regression models with mixed sampling frequencies</em> Journal of Econometrics 158 (2010) 246-261
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##' ##Load data
data("USunempr")
data("USrealgdp")

y &lt;- diff(log(USrealgdp))
x &lt;- window(diff(USunempr),start=1949)
t &lt;- 1:length(y)

mr &lt;- midas_r(y~t+fmls(x,11,12,nealmon),start=list(x=c(0,0,0)))

agk.test(mr)

</code></pre>

<hr>
<h2 id='almonp'>Almon polynomial MIDAS weights specification</h2><span id='topic+almonp'></span>

<h3>Description</h3>

<p>Calculate Almon polynomial MIDAS weights
</p>


<h3>Usage</h3>

<pre><code class='language-R'>almonp(p, d, m)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="almonp_+3A_p">p</code></td>
<td>
<p>parameters for Almon polynomial weights</p>
</td></tr>
<tr><td><code id="almonp_+3A_d">d</code></td>
<td>
<p>number of coefficients</p>
</td></tr>
<tr><td><code id="almonp_+3A_m">m</code></td>
<td>
<p>the frequency ratio, currently ignored</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector of coefficients
</p>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras, Vaidotas Zemlys
</p>

<hr>
<h2 id='almonp_gradient'>Gradient function for Almon polynomial MIDAS weights</h2><span id='topic+almonp_gradient'></span>

<h3>Description</h3>

<p>Calculate gradient for Almon polynomial MIDAS weights specification
</p>


<h3>Usage</h3>

<pre><code class='language-R'>almonp_gradient(p, d, m)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="almonp_gradient_+3A_p">p</code></td>
<td>
<p>vector of parameters for Almon polynomial specification</p>
</td></tr>
<tr><td><code id="almonp_gradient_+3A_d">d</code></td>
<td>
<p>number of coefficients</p>
</td></tr>
<tr><td><code id="almonp_gradient_+3A_m">m</code></td>
<td>
<p>the frequency ratio, currently ignored</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector of coefficients
</p>


<h3>Author(s)</h3>

<p>Vaidotas Zemlys
</p>

<hr>
<h2 id='amidas_table'>Weight and lag selection table for aggregates based MIDAS regression model</h2><span id='topic+amidas_table'></span>

<h3>Description</h3>

<p>Create weight and lag selection table for the aggregates based MIDAS regression model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>amidas_table(
  formula,
  data,
  weights,
  wstart,
  type,
  start = NULL,
  from,
  to,
  IC = c("AIC", "BIC"),
  test = c("hAh_test"),
  Ofunction = "optim",
  weight_gradients = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="amidas_table_+3A_formula">formula</code></td>
<td>
<p>the formula for MIDAS regression, the lag selection is performed for the last MIDAS lag term in the formula</p>
</td></tr>
<tr><td><code id="amidas_table_+3A_data">data</code></td>
<td>
<p>a list containing data with mixed frequencies</p>
</td></tr>
<tr><td><code id="amidas_table_+3A_weights">weights</code></td>
<td>
<p>the names of weights used in Ghysels schema</p>
</td></tr>
<tr><td><code id="amidas_table_+3A_wstart">wstart</code></td>
<td>
<p>the starting values for the weights of the firs low frequency lag</p>
</td></tr>
<tr><td><code id="amidas_table_+3A_type">type</code></td>
<td>
<p>the type of Ghysels schema see <a href="#topic+amweights">amweights</a>, can be a vector of types</p>
</td></tr>
<tr><td><code id="amidas_table_+3A_start">start</code></td>
<td>
<p>the starting values for optimisation excluding the starting values for the last term</p>
</td></tr>
<tr><td><code id="amidas_table_+3A_from">from</code></td>
<td>
<p>a named list, or named vector with high frequency (NB!) lag numbers which are the beginnings of MIDAS lag structures. The names should correspond to the MIDAS lag terms in the formula for which to do the lag selection. Value NA indicates lag start at zero</p>
</td></tr>
<tr><td><code id="amidas_table_+3A_to">to</code></td>
<td>
<p>to a named list where each element is a vector with two elements. The first element is the low frequency lag number from which the lag selection starts, the second is the low frequency lag number at which the lag selection ends. NA indicates lowest (highest) lag numbers possible.</p>
</td></tr>
<tr><td><code id="amidas_table_+3A_ic">IC</code></td>
<td>
<p>the names of information criteria which should be calculated</p>
</td></tr>
<tr><td><code id="amidas_table_+3A_test">test</code></td>
<td>
<p>the names of statistical tests to perform on restricted model, p-values are reported in the columns of model selection table</p>
</td></tr>
<tr><td><code id="amidas_table_+3A_ofunction">Ofunction</code></td>
<td>
<p>see <a href="#topic+midasr">midasr</a></p>
</td></tr>
<tr><td><code id="amidas_table_+3A_weight_gradients">weight_gradients</code></td>
<td>
<p>see <a href="#topic+midas_r">midas_r</a></p>
</td></tr>
<tr><td><code id="amidas_table_+3A_...">...</code></td>
<td>
<p>additional parameters to optimisation function, see <a href="#topic+midas_r">midas_r</a></p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function estimates models sequentialy increasing the midas lag from <code>kmin</code> to <code>kmax</code> and varying the weights of the last term of the given formula
</p>
<p>This function estimates models sequentially increasing the midas lag from <code>kmin</code> to <code>kmax</code> and varying the weights of the last term of the given formula
</p>


<h3>Value</h3>

<p>a <code>midas_r_ic_table</code> object which is the list with the following elements:
</p>
<table role = "presentation">
<tr><td><code>table</code></td>
<td>
<p>the table where each row contains calculated information criteria for both restricted and unrestricted MIDAS regression model with given lag structure</p>
</td></tr>
<tr><td><code>candlist</code></td>
<td>
<p>the list containing fitted models</p>
</td></tr>
<tr><td><code>IC</code></td>
<td>
<p>the argument IC</p>
</td></tr>
<tr><td><code>test</code></td>
<td>
<p>the argument test</p>
</td></tr>
<tr><td><code>weights</code></td>
<td>
<p>the names of weight functions</p>
</td></tr>
<tr><td><code>lags</code></td>
<td>
<p>the lags used in models</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras, Vaidotas Zemlys
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data("USunempr")
data("USrealgdp")
y &lt;- diff(log(USrealgdp))
x &lt;- window(diff(USunempr),start=1949)
trend &lt;- 1:length(y)

tb &lt;- amidas_table(y~trend+fmls(x,12,12,nealmon),
                   data=list(y=y,x=x,trend=trend),
                   weights=c("nealmon"),wstart=list(nealmon=c(0,0,0)),
                   start=list(trend=1),type=c("A"),
                   from=0,to=c(1,2))


</code></pre>

<hr>
<h2 id='amweights'>Weights for aggregates based MIDAS regressions</h2><span id='topic+amweights'></span>

<h3>Description</h3>

<p>Produces weights for aggregates based MIDAS regression
</p>


<h3>Usage</h3>

<pre><code class='language-R'>amweights(p, d, m, weight = nealmon, type = c("A", "B", "C"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="amweights_+3A_p">p</code></td>
<td>
<p>parameters for weight functions, see details.</p>
</td></tr>
<tr><td><code id="amweights_+3A_d">d</code></td>
<td>
<p>number of high frequency lags</p>
</td></tr>
<tr><td><code id="amweights_+3A_m">m</code></td>
<td>
<p>the frequency</p>
</td></tr>
<tr><td><code id="amweights_+3A_weight">weight</code></td>
<td>
<p>the weight function</p>
</td></tr>
<tr><td><code id="amweights_+3A_type">type</code></td>
<td>
<p>type of structure, a string, one of A, B or C.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Suppose a weight function <code class="reqn">w(\beta,\theta)</code> satisfies the following equation:
</p>
<p style="text-align: center;"><code class="reqn">w(\beta,\theta)=\beta g(\theta)</code>
</p>

<p>The following combinations are defined, corresponding to structure types <code>A</code>, <code>B</code> and <code>C</code> respectively:
</p>
<p style="text-align: center;"><code class="reqn">(w(\beta_1,\theta_1),...,w(\beta_k,\theta_k))</code>
</p>

<p style="text-align: center;"><code class="reqn">(w(\beta_1,\theta),...,w(\beta_k,\theta))</code>
</p>

<p style="text-align: center;"><code class="reqn">\beta(w(1,\theta),...,w(1,\theta)),</code>
</p>

<p>where <code class="reqn">k</code> is the number of low frequency lags, i.e. <code class="reqn">d/m</code>. If the latter 
value is not whole number, the error is produced.
</p>
<p>The starting values <code class="reqn">p</code> should be supplied then as follows:
</p>
<p style="text-align: center;"><code class="reqn">(\beta_1,\theta_1,...,\beta_k,\theta_k)</code>
</p>

<p style="text-align: center;"><code class="reqn">(\beta_1,...,\beta_k,\theta)</code>
</p>

<p style="text-align: center;"><code class="reqn">(\beta,\theta)</code>
</p>



<h3>Value</h3>

<p>a vector of weights
</p>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras, Vaidotas Zemlys
</p>

<hr>
<h2 id='average_forecast'>Average forecasts of MIDAS models</h2><span id='topic+average_forecast'></span>

<h3>Description</h3>

<p>Average MIDAS model forecasts using specified weighting scheme. Produce in-sample and out-of-sample accuracy measures.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>average_forecast(
  modlist,
  data,
  insample,
  outsample,
  type = c("fixed", "recursive", "rolling"),
  fweights = c("EW", "BICW", "MSFE", "DMSFE"),
  measures = c("MSE", "MAPE", "MASE"),
  show_progress = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="average_forecast_+3A_modlist">modlist</code></td>
<td>
<p>a list of <code>midas_r</code> objects</p>
</td></tr>
<tr><td><code id="average_forecast_+3A_data">data</code></td>
<td>
<p>a list with mixed frequency data</p>
</td></tr>
<tr><td><code id="average_forecast_+3A_insample">insample</code></td>
<td>
<p>the low frequency indexes for in-sample data</p>
</td></tr>
<tr><td><code id="average_forecast_+3A_outsample">outsample</code></td>
<td>
<p>the low frequency indexes for out-of-sample data</p>
</td></tr>
<tr><td><code id="average_forecast_+3A_type">type</code></td>
<td>
<p>a string indicating which type of forecast to use.</p>
</td></tr>
<tr><td><code id="average_forecast_+3A_fweights">fweights</code></td>
<td>
<p>names of weighting schemes</p>
</td></tr>
<tr><td><code id="average_forecast_+3A_measures">measures</code></td>
<td>
<p>names of accuracy measures</p>
</td></tr>
<tr><td><code id="average_forecast_+3A_show_progress">show_progress</code></td>
<td>
<p>logical, TRUE to show progress bar, FALSE for silent evaluation</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Given the data, split it to in-sample and out-of-sample data. Then given the list of models, reestimate each model with in-sample data and produce out-of-sample forecast. Given the forecasts average them with the specified weighting scheme. Then calculate the accuracy measures for individual and average forecasts.
</p>
<p>The forecasts can be produced in 3 ways. The <code>"fixed"</code> forecast uses model estimated with in-sample data. The <code>"rolling"</code> forecast reestimates model each time by increasing the in-sample by one low frequency observation and dropping the first low frequency observation. These reestimated models then are used to produce out-of-sample forecasts. The <code>"recursive"</code> forecast differs from <code>"rolling"</code> that it does not drop observations from the beginning of data.
</p>


<h3>Value</h3>

<p>a list containing forecasts and tables of accuracy measures
</p>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras, Vaidotas Zemlys
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(1001)  
## Number of low-frequency observations
n&lt;-250
## Linear trend and higher-frequency explanatory variables (e.g. quarterly and monthly)
trend&lt;-c(1:n)
x&lt;-rnorm(4*n)
z&lt;-rnorm(12*n)
## Exponential Almon polynomial constraint-consistent coefficients
fn.x &lt;- nealmon(p=c(1,-0.5),d=8)
fn.z &lt;- nealmon(p=c(2,0.5,-0.1),d=17)
## Simulated low-frequency series (e.g. yearly)
y&lt;-2+0.1*trend+mls(x,0:7,4)%*%fn.x+mls(z,0:16,12)%*%fn.z+rnorm(n)
mod1 &lt;- midas_r(y ~ trend + mls(x, 4:14, 4, nealmon) + mls(z, 12:22, 12, nealmon),
                start=list(x=c(10,1,-0.1),z=c(2,-0.1)))
mod2 &lt;- midas_r(y ~ trend + mls(x, 4:20, 4, nealmon) + mls(z, 12:25, 12, nealmon),
                start=list(x=c(10,1,-0.1),z=c(2,-0.1)))

##Calculate average forecasts
avgf &lt;- average_forecast(list(mod1,mod2),
                        data=list(y=y,x=x,z=z,trend=trend),
                        insample=1:200,outsample=201:250,
                        type="fixed",                            
                        measures=c("MSE","MAPE","MASE"),
                        fweights=c("EW","BICW","MSFE","DMSFE"))
</code></pre>

<hr>
<h2 id='check_mixfreq'>Check data for MIDAS regression</h2><span id='topic+check_mixfreq'></span>

<h3>Description</h3>

<p>Given mixed frequency data check whether higher frequency data can be converted to the lowest frequency.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_mixfreq(data)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="check_mixfreq_+3A_data">data</code></td>
<td>
<p>a list containing mixed frequency data</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The number of observations in higher frequency data elements should have a common divisor with the number of observations in response variable. It is always assumed that the response variable is of the lowest frequency.
</p>


<h3>Value</h3>

<p>a boolean TRUE, if mixed frequency data is conformable, FALSE if it is not.
</p>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras, Vaidotas Zemlys
</p>

<hr>
<h2 id='coef.midas_nlpr'>Extract coefficients of MIDAS regression</h2><span id='topic+coef.midas_nlpr'></span>

<h3>Description</h3>

<p>Extracts various coefficients of MIDAS regression
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'midas_nlpr'
coef(object, type = c("plain", "midas", "nlpr"), term_names = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="coef.midas_nlpr_+3A_object">object</code></td>
<td>
<p><code>midas_nlpr</code> object</p>
</td></tr>
<tr><td><code id="coef.midas_nlpr_+3A_type">type</code></td>
<td>
<p>one of plain, midas, or nlpr. Returns appropriate coefficients.</p>
</td></tr>
<tr><td><code id="coef.midas_nlpr_+3A_term_names">term_names</code></td>
<td>
<p>a character vector with term names. Default is <code>NULL</code>, which means that coefficients of all the terms are returned</p>
</td></tr>
<tr><td><code id="coef.midas_nlpr_+3A_...">...</code></td>
<td>
<p>not used currently</p>
</td></tr>
</table>


<h3>Details</h3>

<p>MIDAS regression has two sets of cofficients. The first set is the coefficients associated with the parameters
of weight functions associated with MIDAS regression terms. These are the coefficients of the NLS problem associated with MIDAS regression.
The second is the coefficients of the linear model, i.e  the values of weight
functions of terms, or so called MIDAS coefficients. By default the function returns the first set of the coefficients.
</p>


<h3>Value</h3>

<p>a vector with coefficients
</p>


<h3>Author(s)</h3>

<p>Vaidotas Zemlys
</p>

<hr>
<h2 id='coef.midas_r'>Extract coefficients of MIDAS regression</h2><span id='topic+coef.midas_r'></span>

<h3>Description</h3>

<p>Extracts various coefficients of MIDAS regression
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'midas_r'
coef(object, midas = FALSE, term_names = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="coef.midas_r_+3A_object">object</code></td>
<td>
<p><code>midas_r</code> object</p>
</td></tr>
<tr><td><code id="coef.midas_r_+3A_midas">midas</code></td>
<td>
<p>logical, if <code>TRUE</code>, MIDAS coefficients are returned, if <code>FALSE</code> (default), coefficients of NLS problem are returned</p>
</td></tr>
<tr><td><code id="coef.midas_r_+3A_term_names">term_names</code></td>
<td>
<p>a character vector with term names. Default is <code>NULL</code>, which means that coefficients of all the terms are returned</p>
</td></tr>
<tr><td><code id="coef.midas_r_+3A_...">...</code></td>
<td>
<p>not used currently</p>
</td></tr>
</table>


<h3>Details</h3>

<p>MIDAS regression has two sets of cofficients. The first set is the coefficients associated with the parameters
of weight functions associated with MIDAS regression terms. These are the coefficients of the NLS problem associated with MIDAS regression.
The second is the coefficients of the linear model, i.e  the values of weight
functions of terms, or so called MIDAS coefficients. By default the function returns the first set of the coefficients.
</p>


<h3>Value</h3>

<p>a vector with coefficients
</p>


<h3>Author(s)</h3>

<p>Vaidotas Zemlys
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
#Simulate MIDAS regression
n&lt;-250
trend&lt;-c(1:n)
x&lt;-rnorm(4*n)
z&lt;-rnorm(12*n)
fn.x &lt;- nealmon(p=c(1,-0.5),d=8)
fn.z &lt;- nealmon(p=c(2,0.5,-0.1),d=17)
y&lt;-2+0.1*trend+mls(x,0:7,4)%*%fn.x+mls(z,0:16,12)%*%fn.z+rnorm(n)
eqr&lt;-midas_r(y ~ trend + mls(x, 0:7, 4, nealmon) +
             mls(z, 0:16, 12, nealmon),
             start = list(x = c(1, -0.5), z = c(2, 0.5, -0.1)))

coef(eqr)
coef(eqr, term_names = "x")
coef(eqr, midas = TRUE)
coef(eqr, midas = TRUE, term_names = "x")

</code></pre>

<hr>
<h2 id='coef.midas_sp'>Extract coefficients of MIDAS regression</h2><span id='topic+coef.midas_sp'></span>

<h3>Description</h3>

<p>Extracts various coefficients of MIDAS regression
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'midas_sp'
coef(object, type = c("plain", "midas", "bw"), term_names = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="coef.midas_sp_+3A_object">object</code></td>
<td>
<p><code>midas_nlpr</code> object</p>
</td></tr>
<tr><td><code id="coef.midas_sp_+3A_type">type</code></td>
<td>
<p>one of plain, midas, or nlpr. Returns appropriate coefficients.</p>
</td></tr>
<tr><td><code id="coef.midas_sp_+3A_term_names">term_names</code></td>
<td>
<p>a character vector with term names. Default is <code>NULL</code>, which means that coefficients of all the terms are returned</p>
</td></tr>
<tr><td><code id="coef.midas_sp_+3A_...">...</code></td>
<td>
<p>not used currently</p>
</td></tr>
</table>


<h3>Details</h3>

<p>MIDAS regression has two sets of cofficients. The first set is the coefficients associated with the parameters
of weight functions associated with MIDAS regression terms. These are the coefficients of the NLS problem associated with MIDAS regression.
The second is the coefficients of the linear model, i.e  the values of weight
functions of terms, or so called MIDAS coefficients. By default the function returns the first set of the coefficients.
</p>


<h3>Value</h3>

<p>a vector with coefficients
</p>


<h3>Author(s)</h3>

<p>Vaidotas Zemlys
</p>

<hr>
<h2 id='deriv_tests'>Check whether non-linear least squares restricted MIDAS regression problem has converged</h2><span id='topic+deriv_tests'></span><span id='topic+deriv_tests.midas_r'></span>

<h3>Description</h3>

<p>Computes the gradient and hessian of the optimisation function of restricted MIDAS regression and checks whether the conditions of local optimum are met. Numerical estimates are used.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>deriv_tests(x, tol = 1e-06)

## S3 method for class 'midas_r'
deriv_tests(x, tol = 1e-06)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="deriv_tests_+3A_x">x</code></td>
<td>
<p><code><a href="#topic+midas_r">midas_r</a></code> object</p>
</td></tr>
<tr><td><code id="deriv_tests_+3A_tol">tol</code></td>
<td>
<p>a tolerance, values below the tolerance are considered zero</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list with gradient, hessian of optimisation function and convergence message
</p>


<h3>Author(s)</h3>

<p>Vaidotas Zemlys
</p>


<h3>See Also</h3>

<p>midas_r
</p>

<hr>
<h2 id='deviance.midas_nlpr'>Non-linear parametric MIDAS regression model deviance</h2><span id='topic+deviance.midas_nlpr'></span>

<h3>Description</h3>

<p>Returns the deviance of a fitted MIDAS regression object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'midas_nlpr'
deviance(object, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="deviance.midas_nlpr_+3A_object">object</code></td>
<td>
<p>a <code><a href="#topic+midas_r">midas_r</a></code> object</p>
</td></tr>
<tr><td><code id="deviance.midas_nlpr_+3A_...">...</code></td>
<td>
<p>currently nothing</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The sum of squared residuals
</p>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras, Vaidotas Zemlys
</p>

<hr>
<h2 id='deviance.midas_r'>MIDAS regression model deviance</h2><span id='topic+deviance.midas_r'></span>

<h3>Description</h3>

<p>Returns the deviance of a fitted MIDAS regression object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'midas_r'
deviance(object, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="deviance.midas_r_+3A_object">object</code></td>
<td>
<p>a <code><a href="#topic+midas_r">midas_r</a></code> object</p>
</td></tr>
<tr><td><code id="deviance.midas_r_+3A_...">...</code></td>
<td>
<p>currently nothing</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The sum of squared residuals
</p>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras, Vaidotas Zemlys
</p>

<hr>
<h2 id='deviance.midas_sp'>Semi-parametric MIDAS regression model deviance</h2><span id='topic+deviance.midas_sp'></span>

<h3>Description</h3>

<p>Returns the deviance of a fitted MIDAS regression object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'midas_sp'
deviance(object, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="deviance.midas_sp_+3A_object">object</code></td>
<td>
<p>a <code><a href="#topic+midas_r">midas_r</a></code> object</p>
</td></tr>
<tr><td><code id="deviance.midas_sp_+3A_...">...</code></td>
<td>
<p>currently nothing</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The sum of squared residuals
</p>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras, Vaidotas Zemlys
</p>

<hr>
<h2 id='dmls'>MIDAS lag structure for unit root processes</h2><span id='topic+dmls'></span>

<h3>Description</h3>

<p>Prepares MIDAS lag structure for unit root processes
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dmls(x, k, m, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dmls_+3A_x">x</code></td>
<td>
<p>a vector</p>
</td></tr>
<tr><td><code id="dmls_+3A_k">k</code></td>
<td>
<p>maximal lag order</p>
</td></tr>
<tr><td><code id="dmls_+3A_m">m</code></td>
<td>
<p>frequency ratio</p>
</td></tr>
<tr><td><code id="dmls_+3A_...">...</code></td>
<td>
<p>further arguments used in fitting MIDAS regression</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a matrix containing the first differences and the lag k+1.
</p>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras, Vaidotas Zemlys
</p>

<hr>
<h2 id='expand_amidas'>Create table of weights, lags and starting values for Ghysels weight schema</h2><span id='topic+expand_amidas'></span>

<h3>Description</h3>

<p>Create table of weights, lags and starting values for Ghysels weight schema, see <a href="#topic+amweights">amweights</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>expand_amidas(weight, type = c("A", "B", "C"), from = 0, to, m, start)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="expand_amidas_+3A_weight">weight</code></td>
<td>
<p>the names of weight functions</p>
</td></tr>
<tr><td><code id="expand_amidas_+3A_type">type</code></td>
<td>
<p>the type of Ghysels schema, <code>"A"</code>, <code>"B"</code> or <code>"C"</code></p>
</td></tr>
<tr><td><code id="expand_amidas_+3A_from">from</code></td>
<td>
<p>the high frequency lags from which to start the fitting</p>
</td></tr>
<tr><td><code id="expand_amidas_+3A_to">to</code></td>
<td>
<p>to a vector of length two, containing minimum and maximum lags, high frequency if <code>m=1</code>, low frequency otherwise.</p>
</td></tr>
<tr><td><code id="expand_amidas_+3A_m">m</code></td>
<td>
<p>the frequency ratio</p>
</td></tr>
<tr><td><code id="expand_amidas_+3A_start">start</code></td>
<td>
<p>the starting values for the weights of the one low frequency lag</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Given weight function creates lags starting from <code>kmin</code> to <code>kmax</code> and replicates starting values for each low frequency lag.
</p>


<h3>Value</h3>

<p>a <code>lws_table</code> object, a list with elements <code>weights</code>, <code>lags</code> and <code>starts</code>
</p>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras, Vaidotas Zemlys
</p>


<h3>Examples</h3>

<pre><code class='language-R'>expand_amidas("nealmon","A",0,c(1,2),12,c(0,0,0))
</code></pre>

<hr>
<h2 id='expand_weights_lags'>Create table of weights, lags and starting values</h2><span id='topic+expand_weights_lags'></span>

<h3>Description</h3>

<p>Creates table of weights, lags and starting values
</p>


<h3>Usage</h3>

<pre><code class='language-R'>expand_weights_lags(weights, from = 0, to, m = 1, start)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="expand_weights_lags_+3A_weights">weights</code></td>
<td>
<p>either a vector with names of the weight functions or a named list of weight functions</p>
</td></tr>
<tr><td><code id="expand_weights_lags_+3A_from">from</code></td>
<td>
<p>the high frequency lags from which to start the fitting</p>
</td></tr>
<tr><td><code id="expand_weights_lags_+3A_to">to</code></td>
<td>
<p>a vector of length two, containing minimum and maximum lags, high frequency if <code>m=1</code>, low frequency otherwise.</p>
</td></tr>
<tr><td><code id="expand_weights_lags_+3A_m">m</code></td>
<td>
<p>the frequency ratio</p>
</td></tr>
<tr><td><code id="expand_weights_lags_+3A_start">start</code></td>
<td>
<p>a named list with the starting values for weight functions</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For each weight function creates lags starting from <code>kmin</code> to <code>kmax</code>. This is a convenience function for easier work with the function <a href="#topic+midas_r_ic_table">midas_r_ic_table</a>.
</p>


<h3>Value</h3>

<p>a <code>lws_table</code> object, a list with elements <code>weights</code>, <code>lags</code> and <code>starts</code>.
</p>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras, Vaidotas Zemlys
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
expand_weights_lags(c("nealmon","nbeta"),0,c(4,8),1,start=list(nealmon=rep(0,3),nbeta=rep(0,4)))
nlmn &lt;- expand_weights_lags("nealmon",0,c(4,8),1,start=list(nealmon=rep(0,3)))
nbt &lt;- expand_weights_lags("nbeta",0,c(4,8),1,start=list(nbeta=rep(0,4)))

nlmn+nbt
</code></pre>

<hr>
<h2 id='extract.midas_r'>Extract coefficients and GOF measures from MIDAS regression object</h2><span id='topic+extract.midas_r'></span>

<h3>Description</h3>

<p>Extract coefficients and GOF measures from MIDAS regression object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extract.midas_r(
  model,
  include.rsquared = TRUE,
  include.nobs = TRUE,
  include.rmse = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="extract.midas_r_+3A_model">model</code></td>
<td>
<p>a MIDAS regression object</p>
</td></tr>
<tr><td><code id="extract.midas_r_+3A_include.rsquared">include.rsquared</code></td>
<td>
<p>If available: should R-squared be reported?</p>
</td></tr>
<tr><td><code id="extract.midas_r_+3A_include.nobs">include.nobs</code></td>
<td>
<p>If available: should the number of observations be reported?</p>
</td></tr>
<tr><td><code id="extract.midas_r_+3A_include.rmse">include.rmse</code></td>
<td>
<p>If available: should the root-mean-square error (= residual standard deviation) be reported?</p>
</td></tr>
<tr><td><code id="extract.midas_r_+3A_...">...</code></td>
<td>
<p>additional parameters passed to summary</p>
</td></tr>
</table>


<h3>Value</h3>

<p>texreg object
</p>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras, Vaidotas Zemlys
</p>

<hr>
<h2 id='fitted.midas_nlpr'>Fitted values for non-linear parametric MIDAS regression model</h2><span id='topic+fitted.midas_nlpr'></span>

<h3>Description</h3>

<p>Returns the fitted values of a fitted non-linear parametric MIDAS regression object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'midas_nlpr'
fitted(object, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fitted.midas_nlpr_+3A_object">object</code></td>
<td>
<p>a <code><a href="#topic+midas_r">midas_r</a></code> object</p>
</td></tr>
<tr><td><code id="fitted.midas_nlpr_+3A_...">...</code></td>
<td>
<p>currently nothing</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the vector of fitted values
</p>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras, Vaidotas Zemlys
</p>

<hr>
<h2 id='fitted.midas_sp'>Fitted values for semi-parametric MIDAS regression model</h2><span id='topic+fitted.midas_sp'></span>

<h3>Description</h3>

<p>Returns the fitted values of a fitted semi-parametric MIDAS regression object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'midas_sp'
fitted(object, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fitted.midas_sp_+3A_object">object</code></td>
<td>
<p>a <code><a href="#topic+midas_r">midas_r</a></code> object</p>
</td></tr>
<tr><td><code id="fitted.midas_sp_+3A_...">...</code></td>
<td>
<p>currently nothing</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the vector of fitted values
</p>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras, Vaidotas Zemlys
</p>

<hr>
<h2 id='fmls'>Full MIDAS lag structure</h2><span id='topic+fmls'></span>

<h3>Description</h3>

<p>Create a matrix of MIDAS lags, including contemporaneous lag up to selected order.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fmls(x, k, m, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fmls_+3A_x">x</code></td>
<td>
<p>a vector</p>
</td></tr>
<tr><td><code id="fmls_+3A_k">k</code></td>
<td>
<p>maximum lag order</p>
</td></tr>
<tr><td><code id="fmls_+3A_m">m</code></td>
<td>
<p>frequency ratio</p>
</td></tr>
<tr><td><code id="fmls_+3A_...">...</code></td>
<td>
<p>further arguments</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is a convenience function, it calls <code>link{msl}</code> to perform actual calculations.
</p>


<h3>Value</h3>

<p>a matrix containing the lags
</p>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras, Vaidotas Zemlys
</p>


<h3>See Also</h3>

<p>mls
</p>

<hr>
<h2 id='forecast.midas_r'>Forecast MIDAS regression</h2><span id='topic+forecast.midas_r'></span><span id='topic+forecast'></span>

<h3>Description</h3>

<p>Forecasts MIDAS regression given the future values of regressors. For dynamic models (with lagged response variable) there is an option to calculate dynamic forecast, when forecasted values of response variable are substituted into the lags of response variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'midas_r'
forecast(
  object,
  newdata = NULL,
  se = FALSE,
  level = c(80, 95),
  fan = FALSE,
  npaths = 999,
  method = c("static", "dynamic"),
  insample = get_estimation_sample(object),
  show_progress = TRUE,
  add_ts_info = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="forecast.midas_r_+3A_object">object</code></td>
<td>
<p>midas_r object</p>
</td></tr>
<tr><td><code id="forecast.midas_r_+3A_newdata">newdata</code></td>
<td>
<p>a named list containing future values of mixed frequency regressors. The default is <code>NULL</code>, meaning that only in-sample data is used.</p>
</td></tr>
<tr><td><code id="forecast.midas_r_+3A_se">se</code></td>
<td>
<p>logical, if <code>TRUE</code>, the prediction intervals are calculated</p>
</td></tr>
<tr><td><code id="forecast.midas_r_+3A_level">level</code></td>
<td>
<p>confidence level for prediction intervals</p>
</td></tr>
<tr><td><code id="forecast.midas_r_+3A_fan">fan</code></td>
<td>
<p>if TRUE, level is set to seq(50,99,by=1). This is suitable for fan plots</p>
</td></tr>
<tr><td><code id="forecast.midas_r_+3A_npaths">npaths</code></td>
<td>
<p>the number of samples for simulating prediction intervals</p>
</td></tr>
<tr><td><code id="forecast.midas_r_+3A_method">method</code></td>
<td>
<p>the forecasting method, either <code>"static"</code> or <code>"dynamic"</code></p>
</td></tr>
<tr><td><code id="forecast.midas_r_+3A_insample">insample</code></td>
<td>
<p>a list containing the historic mixed frequency data</p>
</td></tr>
<tr><td><code id="forecast.midas_r_+3A_show_progress">show_progress</code></td>
<td>
<p>logical, if <code>TRUE</code>, the progress bar is shown if <code>se = TRUE</code></p>
</td></tr>
<tr><td><code id="forecast.midas_r_+3A_add_ts_info">add_ts_info</code></td>
<td>
<p>logical, if <code>TRUE</code>, the forecast is cast as <code>ts</code> object. Some attempts are made to guess the correct start, by assuming that the response variable is a <code>ts</code> object of <code>frequency</code> 1. If <code>FALSE</code>, then the result is simply a numeric vector.</p>
</td></tr>
<tr><td><code id="forecast.midas_r_+3A_...">...</code></td>
<td>
<p>additional arguments to <code>simulate.midas_r</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>Given future values of regressors this function combines the historical values used in the fitting the MIDAS regression model and calculates the forecasts.
</p>


<h3>Value</h3>

<p>an object of class <code>"forecast"</code>, a list containing following elements:
</p>
<table role = "presentation">
<tr><td><code>method</code></td>
<td>
<p>the name of forecasting method: MIDAS regression, static or dynamic</p>
</td></tr>
<tr><td><code>model</code></td>
<td>
<p>original object of class <code>midas_r</code></p>
</td></tr>
<tr><td><code>mean</code></td>
<td>
<p>point forecasts</p>
</td></tr>
<tr><td><code>lower</code></td>
<td>
<p>lower limits for prediction intervals</p>
</td></tr>
<tr><td><code>upper</code></td>
<td>
<p>upper limits for prediction intervals</p>
</td></tr>
<tr><td><code>fitted</code></td>
<td>
<p>fitted values, one-step forecasts</p>
</td></tr>
<tr><td><code>residuals</code></td>
<td>
<p>residuals from the fitted model</p>
</td></tr>
<tr><td><code>x</code></td>
<td>
<p>the original response variable</p>
</td></tr>
</table>
<p>The methods <code>print</code>, <code>summary</code> and <code>plot</code> from package <code>forecast</code> can be used on the object.
</p>


<h3>Author(s)</h3>

<p>Vaidotas Zemlys
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("USrealgdp")
data("USunempr")

y &lt;- diff(log(USrealgdp))
x &lt;- window(diff(USunempr), start = 1949)
trend &lt;- 1:length(y)

##24 high frequency lags of x included
mr &lt;- midas_r(y ~ trend + fmls(x, 23, 12, nealmon), start = list(x = rep(0, 3)))

##Forecast horizon
h &lt;- 3
##Declining unemployment
xn &lt;- rep(-0.1, 12*h)
##New trend values
trendn &lt;- length(y) + 1:h

##Static forecasts combining historic and new high frequency data
forecast(mr, list(trend = trendn, x = xn), method = "static")

##Dynamic AR* model
mr.dyn &lt;- midas_r(y ~ trend + mls(y, 1:2, 1, "*")
                   + fmls(x, 11, 12, nealmon),
                  start = list(x = rep(0, 3)))

forecast(mr.dyn, list(trend = trendn, x = xn), method = "dynamic")

##Use print, summary and plot methods from package forecast

fmr &lt;- forecast(mr, list(trend = trendn, x = xn), method = "static")
fmr
summary(fmr)
plot(fmr)
</code></pre>

<hr>
<h2 id='genexp'>Generalized exponential MIDAS coefficients</h2><span id='topic+genexp'></span>

<h3>Description</h3>

<p>Calculates the MIDAS coefficients for generalized exponential MIDAS lag specification
</p>


<h3>Usage</h3>

<pre><code class='language-R'>genexp(p, d, m)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="genexp_+3A_p">p</code></td>
<td>
<p>a vector of parameters</p>
</td></tr>
<tr><td><code id="genexp_+3A_d">d</code></td>
<td>
<p>number of coefficients</p>
</td></tr>
<tr><td><code id="genexp_+3A_m">m</code></td>
<td>
<p>the frequency, currently ignored</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Generalized exponential MIDAS lag specification is a generalization of exponential
Almon lag. It is defined as a product of first order polynomial with exponent 
of the second order polynomial. This spefication was used by V. Kvedaras and 
V. Zemlys (2012).
</p>


<h3>Value</h3>

<p>a vector of coefficients
</p>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras, Vaidotas Zemlys
</p>


<h3>References</h3>

<p>Kvedaras V., Zemlys, V. <em>Testing the functional constraints on parameters in regressions with variables of different frequency</em> Economics Letters 116 (2012) 250-254
</p>

<hr>
<h2 id='genexp_gradient'>Gradient of generalized exponential MIDAS coefficient generating function</h2><span id='topic+genexp_gradient'></span>

<h3>Description</h3>

<p>Calculates the gradient of generalized exponential MIDAS lag specification
</p>


<h3>Usage</h3>

<pre><code class='language-R'>genexp_gradient(p, d, m)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="genexp_gradient_+3A_p">p</code></td>
<td>
<p>a vector of parameters</p>
</td></tr>
<tr><td><code id="genexp_gradient_+3A_d">d</code></td>
<td>
<p>number of coefficients</p>
</td></tr>
<tr><td><code id="genexp_gradient_+3A_m">m</code></td>
<td>
<p>the frequency, currently ignored</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Generalized exponential MIDAS lag specification is a generalization of exponential
Almon lag. It is defined as a product of first order polynomial with exponent 
of the second order polynomial. This spefication was used by V. Kvedaras and 
V. Zemlys (2012).
</p>


<h3>Value</h3>

<p>a vector of coefficients
</p>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras, Vaidotas Zemlys
</p>


<h3>References</h3>

<p>Kvedaras V., Zemlys, V. <em>Testing the functional constraints on parameters in regressions with variables of different frequency</em> Economics Letters 116 (2012) 250-254
</p>

<hr>
<h2 id='get_estimation_sample'>Get the data which was used to etimate MIDAS regression</h2><span id='topic+get_estimation_sample'></span>

<h3>Description</h3>

<p>Gets the data which was used to estimate MIDAS regression
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_estimation_sample(object)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_estimation_sample_+3A_object">object</code></td>
<td>
<p><code>midas_r</code> object</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A helper function.
</p>


<h3>Value</h3>

<p>a named list with mixed frequency data
</p>


<h3>Author(s)</h3>

<p>Vaidotas Zemlys
</p>

<hr>
<h2 id='gompertzp'>Normalized Gompertz probability density function MIDAS weights specification</h2><span id='topic+gompertzp'></span>

<h3>Description</h3>

<p>Calculate MIDAS weights according to normalized Gompertz probability density function specification
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gompertzp(p, d, m)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="gompertzp_+3A_p">p</code></td>
<td>
<p>parameters for normalized Gompertz probability density function</p>
</td></tr>
<tr><td><code id="gompertzp_+3A_d">d</code></td>
<td>
<p>number of coefficients</p>
</td></tr>
<tr><td><code id="gompertzp_+3A_m">m</code></td>
<td>
<p>the frequency ratio, currently ignored</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector of coefficients
</p>


<h3>Author(s)</h3>

<p>Julius Vainora
</p>

<hr>
<h2 id='gompertzp_gradient'>Gradient function for normalized Gompertz probability density function MIDAS weights specification</h2><span id='topic+gompertzp_gradient'></span>

<h3>Description</h3>

<p>Calculate gradient function for normalized Gompertz probability density function specification of MIDAS weights.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gompertzp_gradient(p, d, m)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="gompertzp_gradient_+3A_p">p</code></td>
<td>
<p>parameters for normalized Gompertz probability density function</p>
</td></tr>
<tr><td><code id="gompertzp_gradient_+3A_d">d</code></td>
<td>
<p>number of coefficients</p>
</td></tr>
<tr><td><code id="gompertzp_gradient_+3A_m">m</code></td>
<td>
<p>the frequency ratio, currently ignored</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector of coefficients
</p>


<h3>Author(s)</h3>

<p>Julius Vainora
</p>

<hr>
<h2 id='hAh_test'>Test restrictions on coefficients of MIDAS regression</h2><span id='topic+hAh_test'></span>

<h3>Description</h3>

<p>Perform a test whether the restriction on MIDAS regression coefficients holds.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hAh_test(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="hAh_test_+3A_x">x</code></td>
<td>
<p>MIDAS regression model with restricted coefficients, estimated with <code><a href="#topic+midas_r">midas_r</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>Given MIDAS regression:
</p>
<p style="text-align: center;"><code class="reqn">y_t=\sum_{j=0}^k\sum_{i=0}^{m-1}\theta_{jm+i} x_{(t-j)m-i}+u_t</code>
</p>

<p>test the null hypothesis that the following restriction holds:
</p>
<p style="text-align: center;"><code class="reqn">\theta_h=g(h,\lambda),</code>
</p>

<p>where <code class="reqn">h=0,...,(k+1)m</code>.
</p>


<h3>Value</h3>

<p>a <code>htest</code> object
</p>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras, Vaidotas Zemlys
</p>


<h3>References</h3>

<p>Kvedaras V., Zemlys, V. <em>Testing the functional constraints on parameters in regressions with variables of different frequency</em> Economics Letters 116 (2012) 250-254
</p>


<h3>See Also</h3>

<p>hAhr_test
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##The parameter function
theta_h0 &lt;- function(p, dk, ...) {
   i &lt;- (1:dk-1)
   (p[1] + p[2]*i)*exp(p[3]*i + p[4]*i^2)
}

##Generate coefficients
theta0 &lt;- theta_h0(c(-0.1,0.1,-0.1,-0.001),4*12)

##Plot the coefficients
plot(theta0)

##Generate the predictor variable
set.seed(13)

xx &lt;- ts(arima.sim(model = list(ar = 0.6), 600 * 12), frequency = 12)

##Simulate the response variable
y &lt;- midas_sim(500, xx, theta0)

x &lt;- window(xx, start=start(y))
##Fit restricted model
mr &lt;- midas_r(y~fmls(x,4*12-1,12,theta_h0)-1,list(y=y,x=x),
              start=list(x=c(-0.1,0.1,-0.1,-0.001)))

##Perform test (the expected result should be the acceptance of null)

hAh_test(mr)

##Fit using gradient function

##The gradient function
theta_h0_gradient&lt;-function(p, dk,...) {
   i &lt;- (1:dk-1)
   a &lt;- exp(p[3]*i + p[4]*i^2)
   cbind(a, a*i, a*i*(p[1]+p[2]*i), a*i^2*(p[1]+p[2]*i))
}

mr &lt;- midas_r(y~fmls(x,4*12-1,12,theta_h0)-1,list(y=y,x=x),
              start=list(x=c(-0.1,0.1,-0.1,-0.001)),
              weight_gradients=list())

##The test will use an user supplied gradient of weight function. See the
##help of midas_r on how to supply the gradient.

hAh_test(mr)


</code></pre>

<hr>
<h2 id='hAhr_test'>Test restrictions on coefficients of MIDAS regression using robust version of the test</h2><span id='topic+hAhr_test'></span>

<h3>Description</h3>

<p>Perform a test whether the restriction on MIDAS regression coefficients holds.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hAhr_test(x, PHI = vcovHAC(x$unrestricted, sandwich = FALSE))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="hAhr_test_+3A_x">x</code></td>
<td>
<p>MIDAS regression model with restricted coefficients, estimated with <code><a href="#topic+midas_r">midas_r</a></code></p>
</td></tr>
<tr><td><code id="hAhr_test_+3A_phi">PHI</code></td>
<td>
<p>the &quot;meat&quot; covariance matrix, defaults to <code>vcovHAC(x$unrestricted, sandwich=FALSE)</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>Given MIDAS regression:
</p>
<p style="text-align: center;"><code class="reqn">y_t=\sum_{j=0}^k\sum_{i=0}^{m-1}\theta_{jm+i} x_{(t-j)m-i}+u_t</code>
</p>

<p>test the null hypothesis that the following restriction holds:
</p>
<p style="text-align: center;"><code class="reqn">\theta_h=g(h,\lambda),</code>
</p>

<p>where <code class="reqn">h=0,...,(k+1)m</code>.
</p>


<h3>Value</h3>

<p>a <code>htest</code> object
</p>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras, Vaidotas Zemlys
</p>


<h3>References</h3>

<p>Kvedaras V., Zemlys, V. <em>The statistical content and empirical testing of the MIDAS restrictions</em>
</p>


<h3>See Also</h3>

<p>hAh_test
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##The parameter function
theta_h0 &lt;- function(p, dk, ...) {
   i &lt;- (1:dk-1)
   (p[1] + p[2]*i)*exp(p[3]*i + p[4]*i^2)
}

##Generate coefficients
theta0 &lt;- theta_h0(c(-0.1,0.1,-0.1,-0.001),4*12)

##Plot the coefficients
plot(theta0)

##Generate the predictor variable
set.seed(13)

xx &lt;- ts(arima.sim(model = list(ar = 0.6), 600 * 12), frequency = 12)

##Simulate the response variable
y &lt;- midas_sim(500, xx, theta0)

x &lt;- window(xx, start=start(y))
##Fit restricted model
mr &lt;- midas_r(y~fmls(x,4*12-1,12,theta_h0)-1,
              list(y=y,x=x),
              start=list(x=c(-0.1,0.1,-0.1,-0.001)))

##The gradient function
theta_h0_gradient &lt;-function(p, dk,...) {
   i &lt;- (1:dk-1)
   a &lt;- exp(p[3]*i + p[4]*i^2)
   cbind(a, a*i, a*i*(p[1]+p[2]*i), a*i^2*(p[1]+p[2]*i))
}

##Perform test (the expected result should be the acceptance of null)

hAhr_test(mr)

mr &lt;- midas_r(y~fmls(x,4*12-1,12,theta_h0)-1,
              list(y=y,x=x),
              start=list(x=c(-0.1,0.1,-0.1,-0.001)),
              weight_gradients=list())

##Use exact gradient. Note the 
hAhr_test(mr)

</code></pre>

<hr>
<h2 id='harstep'>HAR(3)-RV model MIDAS weights specification</h2><span id='topic+harstep'></span>

<h3>Description</h3>

<p>HAR(3)-RV model MIDAS weights specification
</p>


<h3>Usage</h3>

<pre><code class='language-R'>harstep(p, d, m)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="harstep_+3A_p">p</code></td>
<td>
<p>parameters for Almon lag</p>
</td></tr>
<tr><td><code id="harstep_+3A_d">d</code></td>
<td>
<p>number of the coefficients</p>
</td></tr>
<tr><td><code id="harstep_+3A_m">m</code></td>
<td>
<p>the frequency, currently ignored.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>MIDAS weights for Heterogeneous Autoregressive model of Realized Volatilty (HAR-RV). It is assumed that month has 20 days.
</p>


<h3>Value</h3>

<p>vector of coefficients
</p>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras, Vaidotas Zemlys
</p>


<h3>References</h3>

<p>Corsi, F., <em>A Simple Approximate Long-Memory Model of Realized Volatility</em>, Journal of Financial Econometrics Vol. 7 No. 2 (2009) 174-196
</p>

<hr>
<h2 id='harstep_gradient'>Gradient function for HAR(3)-RV model MIDAS weights specification</h2><span id='topic+harstep_gradient'></span>

<h3>Description</h3>

<p>Gradient function for HAR(3)-RV model MIDAS weights specification
</p>


<h3>Usage</h3>

<pre><code class='language-R'>harstep_gradient(p, d, m)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="harstep_gradient_+3A_p">p</code></td>
<td>
<p>parameters for Almon lag</p>
</td></tr>
<tr><td><code id="harstep_gradient_+3A_d">d</code></td>
<td>
<p>number of the coefficients</p>
</td></tr>
<tr><td><code id="harstep_gradient_+3A_m">m</code></td>
<td>
<p>the frequency, currently ignored.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>MIDAS weights for Heterogeneous Autoregressive model of Realized Volatilty (HAR-RV). It is assumed that month has 20 days.
</p>


<h3>Value</h3>

<p>vector of coefficients
</p>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras, Vaidotas Zemlys
</p>


<h3>References</h3>

<p>Corsi, F., <em>A Simple Approximate Long-Memory Model of Realized Volatility</em>, Journal of Financial Econometrics Vol. 7 No. 2 (2009) 174-196
</p>

<hr>
<h2 id='hf_lags_table'>Create a high frequency lag selection table for MIDAS regression model</h2><span id='topic+hf_lags_table'></span>

<h3>Description</h3>

<p>Creates a high frequency lag selection table for MIDAS regression model with given information criteria and minimum and maximum lags.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hf_lags_table(
  formula,
  data,
  start,
  from,
  to,
  IC = c("AIC", "BIC"),
  test = c("hAh_test"),
  Ofunction = "optim",
  weight_gradients = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="hf_lags_table_+3A_formula">formula</code></td>
<td>
<p>the formula for MIDAS regression, the lag selection is performed for the last MIDAS lag term in the formula</p>
</td></tr>
<tr><td><code id="hf_lags_table_+3A_data">data</code></td>
<td>
<p>a list containing data with mixed frequencies</p>
</td></tr>
<tr><td><code id="hf_lags_table_+3A_start">start</code></td>
<td>
<p>the starting values for optimisation</p>
</td></tr>
<tr><td><code id="hf_lags_table_+3A_from">from</code></td>
<td>
<p>a named list, or named vector with lag numbers which are the beginings of MIDAS lag structures. The names should correspond to the MIDAS lag terms in the formula for which to do the lag selection. Value NA indicates lag start at zero</p>
</td></tr>
<tr><td><code id="hf_lags_table_+3A_to">to</code></td>
<td>
<p>a named list where each element is a vector with two elements. The first element is the lag number from which the lag selection starts, the second is the lag number at which the lag selection ends. NA indicates lowest (highest) lag numbers possible.</p>
</td></tr>
<tr><td><code id="hf_lags_table_+3A_ic">IC</code></td>
<td>
<p>the information criteria which to compute</p>
</td></tr>
<tr><td><code id="hf_lags_table_+3A_test">test</code></td>
<td>
<p>the names of statistical tests to perform on restricted model, p-values are reported in the columns of model selection table</p>
</td></tr>
<tr><td><code id="hf_lags_table_+3A_ofunction">Ofunction</code></td>
<td>
<p>see <a href="#topic+midasr">midasr</a></p>
</td></tr>
<tr><td><code id="hf_lags_table_+3A_weight_gradients">weight_gradients</code></td>
<td>
<p>see <a href="#topic+midas_r">midas_r</a></p>
</td></tr>
<tr><td><code id="hf_lags_table_+3A_...">...</code></td>
<td>
<p>additional parameters to optimisation function, see <a href="#topic+midas_r">midas_r</a></p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function estimates models sequentially increasing the midas lag from <code>kmin</code> to <code>kmax</code> of the last term of the given formula
</p>


<h3>Value</h3>

<p>a <code>midas_r_iclagtab</code> object which is the list with the following elements:
</p>
<table role = "presentation">
<tr><td><code>table</code></td>
<td>
<p>the table where each row contains calculated information criteria for both restricted and unrestricted MIDAS regression model with given lag structure</p>
</td></tr>
<tr><td><code>candlist</code></td>
<td>
<p>the list containing fitted models</p>
</td></tr>
<tr><td><code>IC</code></td>
<td>
<p>the argument IC</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras, Vaidotas Zemlys
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data("USunempr")
data("USrealgdp")
y &lt;- diff(log(USrealgdp))
x &lt;- window(diff(USunempr),start=1949)
trend &lt;- 1:length(y)

mlr &lt;- hf_lags_table(y ~ trend + fmls(x, 12, 12,nealmon),
                     start = list(x=rep(0,3)),
                     data = list(y = y, x = x, trend = trend),
                     from=c(x=0),to=list(x=c(4,4)))
mlr

</code></pre>

<hr>
<h2 id='imidas_r'>Restricted MIDAS regression with I(1) regressors</h2><span id='topic+imidas_r'></span>

<h3>Description</h3>

<p>Estimate restricted MIDAS regression using non-linear least squares, when the regressor is I(1)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>imidas_r(
  formula,
  data,
  start,
  Ofunction = "optim",
  weight_gradients = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="imidas_r_+3A_formula">formula</code></td>
<td>
<p>formula for restricted MIDAS regression. Formula must include <code><a href="#topic+fmls">fmls</a></code> function</p>
</td></tr>
<tr><td><code id="imidas_r_+3A_data">data</code></td>
<td>
<p>a named list containing data with mixed frequencies</p>
</td></tr>
<tr><td><code id="imidas_r_+3A_start">start</code></td>
<td>
<p>the starting values for optimisation. Must be a list with named elements.</p>
</td></tr>
<tr><td><code id="imidas_r_+3A_ofunction">Ofunction</code></td>
<td>
<p>the list with information which R function to use for optimisation. The list must have element named <code>Ofunction</code> which contains character string of chosen R function. Other elements of the list are the arguments passed to this function. The default optimisation function is <code><a href="stats.html#topic+optim">optim</a></code> with argument <code>method="BFGS"</code>. Other supported functions are <code><a href="stats.html#topic+nls">nls</a></code></p>
</td></tr>
<tr><td><code id="imidas_r_+3A_weight_gradients">weight_gradients</code></td>
<td>
<p>a named list containing gradient functions of weights. The weight gradient function must return the matrix with dimensions
<code class="reqn">d_k \times q</code>, where <code class="reqn">d_k</code> and <code class="reqn">q</code> are the number of coefficients in unrestricted and restricted regressions correspondingly.
The names of the list should coincide with the names of weights used in formula.
The default value is NULL, which means that the numeric approximation of weight function gradient is calculated. If the argument is not NULL, but the
name of the weight used in formula is not present, it is assumed that there exists an R function which has  
the name of the weight function appended with <code>.gradient</code>.</p>
</td></tr>
<tr><td><code id="imidas_r_+3A_...">...</code></td>
<td>
<p>additional arguments supplied to optimisation function</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Given MIDAS regression:
</p>
<p style="text-align: center;"><code class="reqn">y_t=\sum_{j=0}^k\sum_{i=0}^{m-1}\theta_{jm+i} x_{(t-j)m-i}+\mathbf{z_t}\beta+u_t</code>
</p>

<p>estimate the parameters of the restriction
</p>
<p style="text-align: center;"><code class="reqn">\theta_h=g(h,\lambda),</code>
</p>

<p>where <code class="reqn">h=0,...,(k+1)m</code>, together with coefficients <code class="reqn">\beta</code> corresponding to additional low frequency regressors.
</p>
<p>It is assumed that <code class="reqn">x</code> is a I(1) process, hence the special transformation is made. After the transformation <a href="#topic+midas_r">midas_r</a> is used for estimation.
</p>
<p>MIDAS regression involves times series with different frequencies. 
</p>
<p>The restriction function must return the restricted coefficients of
the MIDAS regression.
</p>


<h3>Value</h3>

<p>a <code>midas_r</code> object which is the list with the following elements:
</p>
<table role = "presentation">
<tr><td><code>coefficients</code></td>
<td>
<p>the estimates of parameters of restrictions</p>
</td></tr>
<tr><td><code>midas_coefficients</code></td>
<td>
<p>the estimates of MIDAS coefficients of MIDAS regression</p>
</td></tr>
<tr><td><code>model</code></td>
<td>
<p>model data</p>
</td></tr>
<tr><td><code>unrestricted</code></td>
<td>
<p>unrestricted regression estimated using <code><a href="#topic+midas_u">midas_u</a></code></p>
</td></tr>
<tr><td><code>term_info</code></td>
<td>
<p>the named list. Each element is a list with the information about the term, such as its frequency, function for weights, gradient function of weights, etc.</p>
</td></tr>
<tr><td><code>fn0</code></td>
<td>
<p>optimisation function for non-linear least squares problem solved in restricted MIDAS regression</p>
</td></tr>
<tr><td><code>rhs</code></td>
<td>
<p>the function which evaluates the right-hand side of the MIDAS regression</p>
</td></tr>
<tr><td><code>gen_midas_coef</code></td>
<td>
<p>the function which generates the MIDAS coefficients of MIDAS regression</p>
</td></tr>
<tr><td><code>opt</code></td>
<td>
<p>the output of optimisation procedure</p>
</td></tr>
<tr><td><code>argmap_opt</code></td>
<td>
<p>the list containing the name of optimisation function together with arguments for optimisation function</p>
</td></tr>
<tr><td><code>start_opt</code></td>
<td>
<p>the starting values used in optimisation</p>
</td></tr>
<tr><td><code>start_list</code></td>
<td>
<p>the starting values as a list</p>
</td></tr>
<tr><td><code>call</code></td>
<td>
<p>the call to the function</p>
</td></tr>
<tr><td><code>terms</code></td>
<td>
<p>terms object</p>
</td></tr>
<tr><td><code>gradient</code></td>
<td>
<p>gradient of NLS objective function</p>
</td></tr>
<tr><td><code>hessian</code></td>
<td>
<p>hessian of NLS objective function</p>
</td></tr>
<tr><td><code>gradD</code></td>
<td>
<p>gradient function of MIDAS weight functions</p>
</td></tr> 
<tr><td><code>Zenv</code></td>
<td>
<p>the environment in which data is placed</p>
</td></tr>
<tr><td><code>use_gradient</code></td>
<td>
<p>TRUE if user supplied gradient is used, FALSE otherwise</p>
</td></tr>
<tr><td><code>nobs</code></td>
<td>
<p>the number of effective observations</p>
</td></tr>
<tr><td><code>convergence</code></td>
<td>
<p>the convergence message</p>
</td></tr>
<tr><td><code>fitted.values</code></td>
<td>
<p>the fitted values of MIDAS regression</p>
</td></tr>
<tr><td><code>residuals</code></td>
<td>
<p>the residuals of MIDAS regression</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras, Vaidotas Zemlys
</p>


<h3>See Also</h3>

<p>midas_r.midas_r
</p>


<h3>Examples</h3>

<pre><code class='language-R'>theta.h0 &lt;- function(p, dk) {
  i &lt;- (1:dk-1)/100
  pol &lt;- p[3]*i + p[4]*i^2
 (p[1] + p[2]*i)*exp(pol)
}

theta0 &lt;- theta.h0(c(-0.1,10,-10,-10),4*12)

xx &lt;- ts(cumsum(rnorm(600*12)), frequency = 12)

##Simulate the response variable
y &lt;- midas_sim(500, xx, theta0)

x &lt;- window(xx, start=start(y))

imr &lt;- imidas_r(y~fmls(x,4*12-1,12,theta.h0)-1,start=list(x=c(-0.1,10,-10,-10)))

</code></pre>

<hr>
<h2 id='lcauchyp'>Normalized log-Cauchy probability density function MIDAS weights specification</h2><span id='topic+lcauchyp'></span>

<h3>Description</h3>

<p>Calculate MIDAS weights according to normalized log-Cauchy probability density function specification
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lcauchyp(p, d, m)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="lcauchyp_+3A_p">p</code></td>
<td>
<p>parameters for normalized log-Cauchy probability density function</p>
</td></tr>
<tr><td><code id="lcauchyp_+3A_d">d</code></td>
<td>
<p>number of coefficients</p>
</td></tr>
<tr><td><code id="lcauchyp_+3A_m">m</code></td>
<td>
<p>the frequency ratio, currently ignored</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector of coefficients
</p>


<h3>Author(s)</h3>

<p>Julius Vainora
</p>

<hr>
<h2 id='lcauchyp_gradient'>Gradient function for normalized log-Cauchy probability density function MIDAS weights specification</h2><span id='topic+lcauchyp_gradient'></span>

<h3>Description</h3>

<p>Calculate gradient function for normalized log-Cauchy probability density function specification of MIDAS weights.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lcauchyp_gradient(p, d, m)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="lcauchyp_gradient_+3A_p">p</code></td>
<td>
<p>parameters for normalized log-Cauchy probability density function</p>
</td></tr>
<tr><td><code id="lcauchyp_gradient_+3A_d">d</code></td>
<td>
<p>number of coefficients</p>
</td></tr>
<tr><td><code id="lcauchyp_gradient_+3A_m">m</code></td>
<td>
<p>the frequency ratio, currently ignored</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector of coefficients
</p>


<h3>Author(s)</h3>

<p>Julius Vainora
</p>

<hr>
<h2 id='lf_lags_table'>Create a low frequency lag selection table for MIDAS regression model</h2><span id='topic+lf_lags_table'></span>

<h3>Description</h3>

<p>Creates a low frequency lag selection table for MIDAS regression model with given information criteria and minimum and maximum lags.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lf_lags_table(
  formula,
  data,
  start,
  from,
  to,
  IC = c("AIC", "BIC"),
  test = c("hAh_test"),
  Ofunction = "optim",
  weight_gradients = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="lf_lags_table_+3A_formula">formula</code></td>
<td>
<p>the formula for MIDAS regression, the lag selection is performed for the last MIDAS lag term in the formula</p>
</td></tr>
<tr><td><code id="lf_lags_table_+3A_data">data</code></td>
<td>
<p>a list containing data with mixed frequencies</p>
</td></tr>
<tr><td><code id="lf_lags_table_+3A_start">start</code></td>
<td>
<p>the starting values for optimisation</p>
</td></tr>
<tr><td><code id="lf_lags_table_+3A_from">from</code></td>
<td>
<p>a named list, or named vector with high frequency (NB!) lag numbers which are the beginnings of MIDAS lag structures. The names should correspond to the MIDAS lag terms in the formula for which to do the lag selection. Value NA indicates lag start at zero</p>
</td></tr>
<tr><td><code id="lf_lags_table_+3A_to">to</code></td>
<td>
<p>a named list where each element is a vector with two elements. The first element is the low frequency lag number from which the lag selection starts, the second is the low frequency lag number at which the lag selection ends. NA indicates lowest (highest) lag numbers possible.</p>
</td></tr>
<tr><td><code id="lf_lags_table_+3A_ic">IC</code></td>
<td>
<p>the information criteria which to compute</p>
</td></tr>
<tr><td><code id="lf_lags_table_+3A_test">test</code></td>
<td>
<p>the names of statistical tests to perform on restricted model, p-values are reported in the columns of model selection table</p>
</td></tr>
<tr><td><code id="lf_lags_table_+3A_ofunction">Ofunction</code></td>
<td>
<p>see <a href="#topic+midasr">midasr</a></p>
</td></tr>
<tr><td><code id="lf_lags_table_+3A_weight_gradients">weight_gradients</code></td>
<td>
<p>see <a href="#topic+midas_r">midas_r</a></p>
</td></tr>
<tr><td><code id="lf_lags_table_+3A_...">...</code></td>
<td>
<p>additional parameters to optimisation function, see <a href="#topic+midas_r">midas_r</a></p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function estimates models sequentially increasing the midas lag from <code>kmin</code> to <code>kmax</code> of the last term of the given formula
</p>


<h3>Value</h3>

<p>a <code>midas_r_ic_table</code> object which is the list with the following elements:
</p>
<table role = "presentation">
<tr><td><code>table</code></td>
<td>
<p>the table where each row contains calculated information criteria for both restricted and unrestricted MIDAS regression model with given lag structure</p>
</td></tr>
<tr><td><code>candlist</code></td>
<td>
<p>the list containing fitted models</p>
</td></tr>
<tr><td><code>IC</code></td>
<td>
<p>the argument IC</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras, Vaidotas Zemlys
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data("USunempr")
data("USrealgdp")
y &lt;- diff(log(USrealgdp))
x &lt;- window(diff(USunempr),start=1949)
trend &lt;- 1:length(y)

mlr &lt;- lf_lags_table(y~trend+fmls(x,12,12,nealmon),
                     start=list(x=rep(0,3)),
                     from=c(x=0),to=list(x=c(3,4)))
mlr

</code></pre>

<hr>
<h2 id='lstr'>Compute LSTR term for high frequency variable</h2><span id='topic+lstr'></span>

<h3>Description</h3>

<p>Compute LSTR term for high frequency variable
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lstr(X, theta, beta, sd_x = sd(c(X), na.rm = TRUE))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="lstr_+3A_x">X</code></td>
<td>
<p>matrix, high frequency variable embedded in low frequency, output of mls</p>
</td></tr>
<tr><td><code id="lstr_+3A_theta">theta</code></td>
<td>
<p>vector, restriction coefficients for high frequency variable</p>
</td></tr>
<tr><td><code id="lstr_+3A_beta">beta</code></td>
<td>
<p>vector of length 4, parameters for LSTR term, slope and 3 LSTR parameters</p>
</td></tr>
<tr><td><code id="lstr_+3A_sd_x">sd_x</code></td>
<td>
<p>vector of length 1, defaults to standard deviation of X.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a vector
</p>

<hr>
<h2 id='midas_auto_sim'>Simulate simple autoregressive MIDAS model</h2><span id='topic+midas_auto_sim'></span>

<h3>Description</h3>

<p>Given the predictor variable, the weights and autoregressive coefficients, simulate MIDAS regression response variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>midas_auto_sim(
  n,
  alpha,
  x,
  theta,
  rand_gen = rnorm,
  innov = rand_gen(n, ...),
  n_start = NA,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="midas_auto_sim_+3A_n">n</code></td>
<td>
<p>sample size.</p>
</td></tr>
<tr><td><code id="midas_auto_sim_+3A_alpha">alpha</code></td>
<td>
<p>autoregressive coefficients.</p>
</td></tr>
<tr><td><code id="midas_auto_sim_+3A_x">x</code></td>
<td>
<p>a high frequency predictor variable.</p>
</td></tr>
<tr><td><code id="midas_auto_sim_+3A_theta">theta</code></td>
<td>
<p>a vector with MIDAS weights for predictor variable.</p>
</td></tr>
<tr><td><code id="midas_auto_sim_+3A_rand_gen">rand_gen</code></td>
<td>
<p>a function to generate the innovations, default is the normal distribution.</p>
</td></tr>
<tr><td><code id="midas_auto_sim_+3A_innov">innov</code></td>
<td>
<p>an optional time series of innovations.</p>
</td></tr>
<tr><td><code id="midas_auto_sim_+3A_n_start">n_start</code></td>
<td>
<p>number of observations to omit for the burn.in.</p>
</td></tr>
<tr><td><code id="midas_auto_sim_+3A_...">...</code></td>
<td>
<p>additional arguments to function <code>rand_gen</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>ts</code> object
</p>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras, Vaidotas Zemlys
</p>


<h3>Examples</h3>

<pre><code class='language-R'>theta_h0 &lt;- function(p, dk) {
  i &lt;- (1:dk-1)/100
  pol &lt;- p[3]*i + p[4]*i^2
  (p[1] + p[2]*i)*exp(pol)
}

##Generate coefficients
theta0 &lt;- theta_h0(c(-0.1,10,-10,-10),4*12)

##Generate the predictor variable
xx &lt;- ts(arima.sim(model = list(ar = 0.6), 1000 * 12), frequency = 12)

y &lt;- midas_auto_sim(500, 0.5, xx, theta0, n_start = 200)
x &lt;- window(xx, start=start(y))
midas_r(y ~ mls(y, 1, 1) + fmls(x, 4*12-1, 12, theta_h0), start = list(x = c(-0.1, 10, -10, -10)))
</code></pre>

<hr>
<h2 id='midas_lstr_plain'>LSTR (Logistic Smooth TRansition)  MIDAS regression</h2><span id='topic+midas_lstr_plain'></span>

<h3>Description</h3>

<p>Function for fitting LSTR MIDAS regression without the formula interface
</p>


<h3>Usage</h3>

<pre><code class='language-R'>midas_lstr_plain(
  y,
  X,
  z = NULL,
  weight,
  start_lstr,
  start_x,
  start_z = NULL,
  method = c("Nelder-Mead"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="midas_lstr_plain_+3A_y">y</code></td>
<td>
<p>model response</p>
</td></tr>
<tr><td><code id="midas_lstr_plain_+3A_x">X</code></td>
<td>
<p>prepared matrix of high frequency variable lags for LSTR term</p>
</td></tr>
<tr><td><code id="midas_lstr_plain_+3A_z">z</code></td>
<td>
<p>additional low frequency variables</p>
</td></tr>
<tr><td><code id="midas_lstr_plain_+3A_weight">weight</code></td>
<td>
<p>the weight function</p>
</td></tr>
<tr><td><code id="midas_lstr_plain_+3A_start_lstr">start_lstr</code></td>
<td>
<p>the starting values for lstr term</p>
</td></tr>
<tr><td><code id="midas_lstr_plain_+3A_start_x">start_x</code></td>
<td>
<p>the starting values for weight function</p>
</td></tr>
<tr><td><code id="midas_lstr_plain_+3A_start_z">start_z</code></td>
<td>
<p>the starting values for additional low frequency variables</p>
</td></tr>
<tr><td><code id="midas_lstr_plain_+3A_method">method</code></td>
<td>
<p>a method passed to <a href="optimx.html#topic+optimx">optimx</a></p>
</td></tr>
<tr><td><code id="midas_lstr_plain_+3A_...">...</code></td>
<td>
<p>additional parameters to <a href="optimx.html#topic+optimx">optimx</a></p>
</td></tr>
</table>


<h3>Value</h3>

<p>an object similar to <code>midas_r</code> object
</p>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras, Vaidotas Zemlys
</p>

<hr>
<h2 id='midas_lstr_sim'>Simulate LSTR MIDAS regression model</h2><span id='topic+midas_lstr_sim'></span>

<h3>Description</h3>

<p>Simulate LSTR MIDAS regression model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>midas_lstr_sim(
  n,
  m,
  theta,
  intercept,
  plstr,
  ar.x,
  ar.y,
  rand.gen = rnorm,
  n.start = NA,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="midas_lstr_sim_+3A_n">n</code></td>
<td>
<p>number of observations to simulate.</p>
</td></tr>
<tr><td><code id="midas_lstr_sim_+3A_m">m</code></td>
<td>
<p>integer, frequency ratio</p>
</td></tr>
<tr><td><code id="midas_lstr_sim_+3A_theta">theta</code></td>
<td>
<p>vector, restriction coefficients for high frequency variable</p>
</td></tr>
<tr><td><code id="midas_lstr_sim_+3A_intercept">intercept</code></td>
<td>
<p>vector of length 1, intercept for the model.</p>
</td></tr>
<tr><td><code id="midas_lstr_sim_+3A_plstr">plstr</code></td>
<td>
<p>vector of length 4, slope for the LSTR term and LSTR parameters</p>
</td></tr>
<tr><td><code id="midas_lstr_sim_+3A_ar.x">ar.x</code></td>
<td>
<p>vector, AR parameters for simulating high frequency variable</p>
</td></tr>
<tr><td><code id="midas_lstr_sim_+3A_ar.y">ar.y</code></td>
<td>
<p>vector, AR parameters for AR part of the model</p>
</td></tr>
<tr><td><code id="midas_lstr_sim_+3A_rand.gen">rand.gen</code></td>
<td>
<p>function, a function for generating the regression innovations, default is <code>rnorm</code></p>
</td></tr>
<tr><td><code id="midas_lstr_sim_+3A_n.start">n.start</code></td>
<td>
<p>integer, length of a 'burn-in' period. If NA, the default, a reasonable value is computed.</p>
</td></tr>
<tr><td><code id="midas_lstr_sim_+3A_...">...</code></td>
<td>
<p>additional parameters to rand.gen</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
nnbeta &lt;- function(p, k) nbeta(c(1,p),k)

dgp &lt;- midas_lstr_sim(250, m = 12, theta = nnbeta(c(2, 4), 24), 
                           intercept = c(1), plstr = c(1.5, 1, log(1), 1), 
                           ar.x = 0.9, ar.y = 0.5, n.start = 100)
z &lt;- cbind(1, mls(dgp$y, 1:2, 1))
colnames(z) &lt;- c("Intercept", "y1", "y2")
X &lt;- mls(dgp$x, 0:23, 12)

lstr_mod &lt;- midas_lstr_plain(dgp$y, X, z, nnbeta, 
                          start_lstr = c(1.5, 1, 1, 1), 
                          start_x = c(2, 4), start_z=c(1, 0.5, 0)) 

coef(lstr_mod)

</code></pre>

<hr>
<h2 id='midas_mmm_plain'>MMM (Mean-Min-Max)  MIDAS regression</h2><span id='topic+midas_mmm_plain'></span>

<h3>Description</h3>

<p>Function for fitting MMM MIDAS regression without the formula interface
</p>


<h3>Usage</h3>

<pre><code class='language-R'>midas_mmm_plain(
  y,
  X,
  z = NULL,
  weight,
  start_mmm,
  start_x,
  start_z = NULL,
  method = c("Nelder-Mead"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="midas_mmm_plain_+3A_y">y</code></td>
<td>
<p>model response</p>
</td></tr>
<tr><td><code id="midas_mmm_plain_+3A_x">X</code></td>
<td>
<p>prepared matrix of high frequency variable lags for MMM term</p>
</td></tr>
<tr><td><code id="midas_mmm_plain_+3A_z">z</code></td>
<td>
<p>additional low frequency variables</p>
</td></tr>
<tr><td><code id="midas_mmm_plain_+3A_weight">weight</code></td>
<td>
<p>the weight function</p>
</td></tr>
<tr><td><code id="midas_mmm_plain_+3A_start_mmm">start_mmm</code></td>
<td>
<p>the starting values for MMM term</p>
</td></tr>
<tr><td><code id="midas_mmm_plain_+3A_start_x">start_x</code></td>
<td>
<p>the starting values for weight function</p>
</td></tr>
<tr><td><code id="midas_mmm_plain_+3A_start_z">start_z</code></td>
<td>
<p>the starting values for additional low frequency variables</p>
</td></tr>
<tr><td><code id="midas_mmm_plain_+3A_method">method</code></td>
<td>
<p>a method passed to <a href="optimx.html#topic+optimx">optimx</a></p>
</td></tr>
<tr><td><code id="midas_mmm_plain_+3A_...">...</code></td>
<td>
<p>additional parameters to <a href="optimx.html#topic+optimx">optimx</a></p>
</td></tr>
</table>


<h3>Value</h3>

<p>an object similar to <code>midas_r</code> object
</p>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras, Vaidotas Zemlys
</p>

<hr>
<h2 id='midas_mmm_sim'>Simulate MMM MIDAS regression model</h2><span id='topic+midas_mmm_sim'></span>

<h3>Description</h3>

<p>Simulate MMM MIDAS regression model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>midas_mmm_sim(
  n,
  m,
  theta,
  intercept,
  pmmm,
  ar.x,
  ar.y,
  rand.gen = rnorm,
  n.start = NA,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="midas_mmm_sim_+3A_n">n</code></td>
<td>
<p>number of observations to simulate.</p>
</td></tr>
<tr><td><code id="midas_mmm_sim_+3A_m">m</code></td>
<td>
<p>integer, frequency ratio</p>
</td></tr>
<tr><td><code id="midas_mmm_sim_+3A_theta">theta</code></td>
<td>
<p>vector, restriction coefficients for high frequency variable</p>
</td></tr>
<tr><td><code id="midas_mmm_sim_+3A_intercept">intercept</code></td>
<td>
<p>vector of length 1, intercept for the model.</p>
</td></tr>
<tr><td><code id="midas_mmm_sim_+3A_pmmm">pmmm</code></td>
<td>
<p>vector of length 2, slope for the MMM term and MMM parameter</p>
</td></tr>
<tr><td><code id="midas_mmm_sim_+3A_ar.x">ar.x</code></td>
<td>
<p>vector, AR parameters for simulating high frequency variable</p>
</td></tr>
<tr><td><code id="midas_mmm_sim_+3A_ar.y">ar.y</code></td>
<td>
<p>vector, AR parameters for AR part of the model</p>
</td></tr>
<tr><td><code id="midas_mmm_sim_+3A_rand.gen">rand.gen</code></td>
<td>
<p>function, a function for generating the regression innovations, default is <code>rnorm</code></p>
</td></tr>
<tr><td><code id="midas_mmm_sim_+3A_n.start">n.start</code></td>
<td>
<p>integer, length of a 'burn-in' period. If NA, the default, a reasonable value is computed.</p>
</td></tr>
<tr><td><code id="midas_mmm_sim_+3A_...">...</code></td>
<td>
<p>additional parameters to rand.gen</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
nnbeta &lt;- function(p, k) nbeta(c(1,p),k)

dgp &lt;- midas_mmm_sim(250, m = 12, theta = nnbeta(c(2, 4), 24), 
                           intercept = c(1), pmmm = c(1.5, 1), 
                           ar.x = 0.9, ar.y = 0.5, n.start = 100)
z &lt;- cbind(1, mls(dgp$y, 1:2, 1))
colnames(z) &lt;- c("Intercept", "y1", "y2")
X &lt;- mls(dgp$x, 0:23, 12)

mmm_mod &lt;- midas_mmm_plain(dgp$y, X, z, nnbeta, 
                          start_mmm = c(1.5, 1), 
                          start_x = c(2, 4), start_z=c(1, 0.5, 0)) 

coef(mmm_mod)

</code></pre>

<hr>
<h2 id='midas_nlpr'>Non-linear parametric MIDAS regression</h2><span id='topic+midas_nlpr'></span>

<h3>Description</h3>

<p>Estimate restricted MIDAS regression using non-linear least squares.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>midas_nlpr(formula, data, start, Ofunction = "optim", ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="midas_nlpr_+3A_formula">formula</code></td>
<td>
<p>formula for restricted MIDAS regression or <code>midas_r</code> object. Formula must include <code><a href="#topic+fmls">fmls</a></code> function</p>
</td></tr>
<tr><td><code id="midas_nlpr_+3A_data">data</code></td>
<td>
<p>a named list containing data with mixed frequencies</p>
</td></tr>
<tr><td><code id="midas_nlpr_+3A_start">start</code></td>
<td>
<p>the starting values for optimisation. Must be a list with named elements.</p>
</td></tr>
<tr><td><code id="midas_nlpr_+3A_ofunction">Ofunction</code></td>
<td>
<p>the list with information which R function to use for optimisation. The list must have element named <code>Ofunction</code> which contains character string of chosen 
R function. Other elements of the list are the arguments passed to this function.  The default optimisation function is <code><a href="stats.html#topic+optim">optim</a></code> with arguments
<code>method="Nelder-Mead"</code> and <code>control=list(maxit=5000)</code>. Other supported functions are <code><a href="stats.html#topic+nls">nls</a></code>, <code><a href="optimx.html#topic+optimx">optimx</a></code>.</p>
</td></tr>
<tr><td><code id="midas_nlpr_+3A_...">...</code></td>
<td>
<p>additional arguments supplied to optimisation function</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Given MIDAS regression:
</p>
<p style="text-align: center;"><code class="reqn">y_t = \sum_{j=1}^p\alpha_jy_{t-j} +\sum_{i=0}^{k}\sum_{j=0}^{l_i}\beta_{j}^{(i)}x_{tm_i-j}^{(i)} + u_t,</code>
</p>

<p>estimate the parameters of the restriction
</p>
<p style="text-align: center;"><code class="reqn">\beta_j^{(i)}=g^{(i)}(j,\lambda).</code>
</p>

<p>Such model is a generalisation of so called ADL-MIDAS regression. It is not required that all the coefficients should be restricted, i.e the function <code class="reqn">g^{(i)}</code>
might be an identity function. Model with no restrictions is called U-MIDAS model. The regressors <code class="reqn">x_\tau^{(i)}</code> must be of higher
(or of the same) frequency as the dependent variable <code class="reqn">y_t</code>.
</p>


<h3>Value</h3>

<p>a <code>midas_r</code> object which is the list with the following elements:
</p>
<table role = "presentation">
<tr><td><code>coefficients</code></td>
<td>
<p>the estimates of parameters of restrictions</p>
</td></tr>
<tr><td><code>midas_coefficients</code></td>
<td>
<p>the estimates of MIDAS coefficients of MIDAS regression</p>
</td></tr>
<tr><td><code>model</code></td>
<td>
<p>model data</p>
</td></tr>
<tr><td><code>unrestricted</code></td>
<td>
<p>unrestricted regression estimated using <code><a href="#topic+midas_u">midas_u</a></code></p>
</td></tr>
<tr><td><code>term_info</code></td>
<td>
<p>the named list. Each element is a list with the information about the term, such as its frequency, function for weights, gradient function of weights, etc.</p>
</td></tr>
<tr><td><code>fn0</code></td>
<td>
<p>optimisation function for non-linear least squares problem solved in restricted MIDAS regression</p>
</td></tr>
<tr><td><code>rhs</code></td>
<td>
<p>the function which evaluates the right-hand side of the MIDAS regression</p>
</td></tr>
<tr><td><code>gen_midas_coef</code></td>
<td>
<p>the function which generates the MIDAS coefficients of MIDAS regression</p>
</td></tr>
<tr><td><code>opt</code></td>
<td>
<p>the output of optimisation procedure</p>
</td></tr>
<tr><td><code>argmap_opt</code></td>
<td>
<p>the list containing the name of optimisation function together with arguments for optimisation function</p>
</td></tr>
<tr><td><code>start_opt</code></td>
<td>
<p>the starting values used in optimisation</p>
</td></tr>
<tr><td><code>start_list</code></td>
<td>
<p>the starting values as a list</p>
</td></tr>
<tr><td><code>call</code></td>
<td>
<p>the call to the function</p>
</td></tr>
<tr><td><code>terms</code></td>
<td>
<p>terms object</p>
</td></tr>
<tr><td><code>gradient</code></td>
<td>
<p>gradient of NLS objective function</p>
</td></tr>
<tr><td><code>hessian</code></td>
<td>
<p>hessian of NLS objective function</p>
</td></tr>
<tr><td><code>gradD</code></td>
<td>
<p>gradient function of MIDAS weight functions</p>
</td></tr> 
<tr><td><code>Zenv</code></td>
<td>
<p>the environment in which data is placed</p>
</td></tr>
<tr><td><code>nobs</code></td>
<td>
<p>the number of effective observations</p>
</td></tr>
<tr><td><code>convergence</code></td>
<td>
<p>the convergence message</p>
</td></tr>
<tr><td><code>fitted.values</code></td>
<td>
<p>the fitted values of MIDAS regression</p>
</td></tr>
<tr><td><code>residuals</code></td>
<td>
<p>the residuals of MIDAS regression</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras, Vaidotas Zemlys
</p>

<hr>
<h2 id='midas_nlpr.fit'>Fit restricted MIDAS regression</h2><span id='topic+midas_nlpr.fit'></span>

<h3>Description</h3>

<p>Workhorse function for fitting restricted MIDAS regression
</p>


<h3>Usage</h3>

<pre><code class='language-R'>midas_nlpr.fit(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="midas_nlpr.fit_+3A_x">x</code></td>
<td>
<p><code>midas_r</code> object</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code><a href="#topic+midas_r">midas_r</a></code> object
</p>


<h3>Author(s)</h3>

<p>Vaidotas Zemlys
</p>

<hr>
<h2 id='midas_pl_plain'>MIDAS Partialy linear non-parametric regression</h2><span id='topic+midas_pl_plain'></span>

<h3>Description</h3>

<p>Function for fitting PL MIDAS regression without the formula interface
</p>


<h3>Usage</h3>

<pre><code class='language-R'>midas_pl_plain(
  y,
  X,
  z,
  p.ar = NULL,
  weight,
  degree = 1,
  start_bws,
  start_x,
  start_ar = NULL,
  method = c("Nelder-Mead"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="midas_pl_plain_+3A_y">y</code></td>
<td>
<p>model response</p>
</td></tr>
<tr><td><code id="midas_pl_plain_+3A_x">X</code></td>
<td>
<p>prepared matrix of high frequency variable lags for MMM term</p>
</td></tr>
<tr><td><code id="midas_pl_plain_+3A_z">z</code></td>
<td>
<p>a vector, data for the non-parametric part</p>
</td></tr>
<tr><td><code id="midas_pl_plain_+3A_p.ar">p.ar</code></td>
<td>
<p>length of AR part</p>
</td></tr>
<tr><td><code id="midas_pl_plain_+3A_weight">weight</code></td>
<td>
<p>the weight function</p>
</td></tr>
<tr><td><code id="midas_pl_plain_+3A_degree">degree</code></td>
<td>
<p>the degree of local polynomial</p>
</td></tr>
<tr><td><code id="midas_pl_plain_+3A_start_bws">start_bws</code></td>
<td>
<p>the starting values bandwith</p>
</td></tr>
<tr><td><code id="midas_pl_plain_+3A_start_x">start_x</code></td>
<td>
<p>the starting values for weight function</p>
</td></tr>
<tr><td><code id="midas_pl_plain_+3A_start_ar">start_ar</code></td>
<td>
<p>the starting values for AR part. Should be the same length as <code>p</code></p>
</td></tr>
<tr><td><code id="midas_pl_plain_+3A_method">method</code></td>
<td>
<p>a method passed to <a href="stats.html#topic+optim">optim</a></p>
</td></tr>
<tr><td><code id="midas_pl_plain_+3A_...">...</code></td>
<td>
<p>additional parameters to <a href="stats.html#topic+optim">optim</a></p>
</td></tr>
</table>


<h3>Value</h3>

<p>an object similar to <code>midas_r</code> object
</p>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras, Vaidotas Zemlys
</p>

<hr>
<h2 id='midas_pl_sim'>Simulate PL MIDAS regression model</h2><span id='topic+midas_pl_sim'></span>

<h3>Description</h3>

<p>Simulate PL MIDAS regression model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>midas_pl_sim(
  n,
  m,
  theta,
  gfun,
  ar.x,
  ar.y,
  rand.gen = rnorm,
  n.start = NA,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="midas_pl_sim_+3A_n">n</code></td>
<td>
<p>number of observations to simulate.</p>
</td></tr>
<tr><td><code id="midas_pl_sim_+3A_m">m</code></td>
<td>
<p>integer, frequency ratio</p>
</td></tr>
<tr><td><code id="midas_pl_sim_+3A_theta">theta</code></td>
<td>
<p>vector, restriction coefficients for high frequency variable</p>
</td></tr>
<tr><td><code id="midas_pl_sim_+3A_gfun">gfun</code></td>
<td>
<p>function, a function which takes a single index</p>
</td></tr>
<tr><td><code id="midas_pl_sim_+3A_ar.x">ar.x</code></td>
<td>
<p>vector, AR parameters for simulating high frequency variable</p>
</td></tr>
<tr><td><code id="midas_pl_sim_+3A_ar.y">ar.y</code></td>
<td>
<p>vector, AR parameters for AR part of the model</p>
</td></tr>
<tr><td><code id="midas_pl_sim_+3A_rand.gen">rand.gen</code></td>
<td>
<p>function, a function for generating the regression innovations, default is <code>rnorm</code></p>
</td></tr>
<tr><td><code id="midas_pl_sim_+3A_n.start">n.start</code></td>
<td>
<p>integer, length of a 'burn-in' period. If NA, the default, a reasonable value is computed.</p>
</td></tr>
<tr><td><code id="midas_pl_sim_+3A_...">...</code></td>
<td>
<p>additional parameters to rand.gen</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
nnbeta &lt;- function(p, k) nbeta(c(1,p),k)

dgp &lt;- midas_pl_sim(250, m = 12, theta = nnbeta(c(2, 4), 24), 
                           gfun = function(x) 0.25*x^3, 
                           ar.x = 0.9, ar.y = 0.5, n.start = 100)
                           
</code></pre>

<hr>
<h2 id='midas_qr'>Restricted MIDAS quantile regression</h2><span id='topic+midas_qr'></span>

<h3>Description</h3>

<p>Estimate restricted MIDAS quantile regression using nonlinear quantile regression
</p>


<h3>Usage</h3>

<pre><code class='language-R'>midas_qr(
  formula,
  data,
  tau = 0.5,
  start,
  Ofunction = "nlrq",
  weight_gradients = NULL,
  guess_start = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="midas_qr_+3A_formula">formula</code></td>
<td>
<p>formula for restricted MIDAS regression or <code>midas_qr</code> object. Formula must include <code><a href="#topic+mls">mls</a></code> function</p>
</td></tr>
<tr><td><code id="midas_qr_+3A_data">data</code></td>
<td>
<p>a named list containing data with mixed frequencies</p>
</td></tr>
<tr><td><code id="midas_qr_+3A_tau">tau</code></td>
<td>
<p>quantile</p>
</td></tr>
<tr><td><code id="midas_qr_+3A_start">start</code></td>
<td>
<p>the starting values for optimisation. Must be a list with named elements.</p>
</td></tr>
<tr><td><code id="midas_qr_+3A_ofunction">Ofunction</code></td>
<td>
<p>the list with information which R function to use for optimisation. The list must have element named <code>Ofunction</code> which contains character string of chosen R function. Other elements of the list are the arguments passed to this function.  The default optimisation function is <code><a href="stats.html#topic+optim">optim</a></code> with argument <code>method="BFGS"</code>. Other supported functions are <code><a href="stats.html#topic+nls">nls</a></code></p>
</td></tr>
<tr><td><code id="midas_qr_+3A_weight_gradients">weight_gradients</code></td>
<td>
<p>a named list containing gradient functions of weights. The weight gradient function must return the matrix with dimensions
<code class="reqn">d_k \times q</code>, where <code class="reqn">d_k</code> and <code class="reqn">q</code> are the number of coefficients in unrestricted and restricted regressions correspondingly.
The names of the list should coincide with the names of weights used in formula.
The default value is NULL, which means that the numeric approximation of weight function gradient is calculated. If the argument is not NULL, but the
name of the weight used in formula is not present, it is assumed that there exists an R function which has  
the name of the weight function appended with <code>_gradient</code>.</p>
</td></tr>
<tr><td><code id="midas_qr_+3A_guess_start">guess_start</code></td>
<td>
<p>logical, if TRUE tries certain strategy to improve starting values</p>
</td></tr>
<tr><td><code id="midas_qr_+3A_...">...</code></td>
<td>
<p>additional arguments supplied to optimisation function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>midas_r</code> object which is the list with the following elements:
</p>
<table role = "presentation">
<tr><td><code>coefficients</code></td>
<td>
<p>the estimates of parameters of restrictions</p>
</td></tr>
<tr><td><code>midas_coefficients</code></td>
<td>
<p>the estimates of MIDAS coefficients of MIDAS regression</p>
</td></tr>
<tr><td><code>model</code></td>
<td>
<p>model data</p>
</td></tr>
<tr><td><code>unrestricted</code></td>
<td>
<p>unrestricted regression estimated using <code><a href="#topic+midas_u">midas_u</a></code></p>
</td></tr>
<tr><td><code>term_info</code></td>
<td>
<p>the named list. Each element is a list with the information about the term, such as its frequency, function for weights, gradient function of weights, etc.</p>
</td></tr>
<tr><td><code>fn0</code></td>
<td>
<p>optimisation function for non-linear least squares problem solved in restricted MIDAS regression</p>
</td></tr>
<tr><td><code>rhs</code></td>
<td>
<p>the function which evaluates the right-hand side of the MIDAS regression</p>
</td></tr>
<tr><td><code>gen_midas_coef</code></td>
<td>
<p>the function which generates the MIDAS coefficients of MIDAS regression</p>
</td></tr>
<tr><td><code>opt</code></td>
<td>
<p>the output of optimisation procedure</p>
</td></tr>
<tr><td><code>argmap_opt</code></td>
<td>
<p>the list containing the name of optimisation function together with arguments for optimisation function</p>
</td></tr>
<tr><td><code>start_opt</code></td>
<td>
<p>the starting values used in optimisation</p>
</td></tr>
<tr><td><code>start_list</code></td>
<td>
<p>the starting values as a list</p>
</td></tr>
<tr><td><code>call</code></td>
<td>
<p>the call to the function</p>
</td></tr>
<tr><td><code>terms</code></td>
<td>
<p>terms object</p>
</td></tr>
<tr><td><code>gradient</code></td>
<td>
<p>gradient of NLS objective function</p>
</td></tr>
<tr><td><code>hessian</code></td>
<td>
<p>hessian of NLS objective function</p>
</td></tr>
<tr><td><code>gradD</code></td>
<td>
<p>gradient function of MIDAS weight functions</p>
</td></tr> 
<tr><td><code>Zenv</code></td>
<td>
<p>the environment in which data is placed</p>
</td></tr>
<tr><td><code>use_gradient</code></td>
<td>
<p>TRUE if user supplied gradient is used, FALSE otherwise</p>
</td></tr>
<tr><td><code>nobs</code></td>
<td>
<p>the number of effective observations</p>
</td></tr>
<tr><td><code>convergence</code></td>
<td>
<p>the convergence message</p>
</td></tr>
<tr><td><code>fitted.values</code></td>
<td>
<p>the fitted values of MIDAS regression</p>
</td></tr>
<tr><td><code>residuals</code></td>
<td>
<p>the residuals of MIDAS regression</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Vaidotas Zemlys-Balevicius
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##Take the same example as in midas_r

theta_h0 &lt;- function(p, dk, ...) {
   i &lt;- (1:dk-1)/100
   pol &lt;- p[3]*i + p[4]*i^2
   (p[1] + p[2]*i)*exp(pol)
}

##Generate coefficients
theta0 &lt;- theta_h0(c(-0.1,10,-10,-10),4*12)

##Plot the coefficients
plot(theta0)

##Generate the predictor variable
xx &lt;- ts(arima.sim(model = list(ar = 0.6), 600 * 12), frequency = 12)

##Simulate the response variable
y &lt;- midas_sim(500, xx, theta0)

x &lt;- window(xx, start=start(y))

##Fit quantile regression. All the coefficients except intercept should be constant.
##Intercept coefficient should correspond to quantile function of regression errors.
mr &lt;- midas_qr(y~fmls(x,4*12-1,12,theta_h0), tau = c(0.1, 0.5, 0.9),
              list(y=y,x=x),
              start=list(x=c(-0.1,10,-10,-10)))
              
mr
</code></pre>

<hr>
<h2 id='midas_r'>Restricted MIDAS regression</h2><span id='topic+midas_r'></span>

<h3>Description</h3>

<p>Estimate restricted MIDAS regression using non-linear least squares.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>midas_r(
  formula,
  data,
  start,
  Ofunction = "optim",
  weight_gradients = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="midas_r_+3A_formula">formula</code></td>
<td>
<p>formula for restricted MIDAS regression or <code>midas_r</code> object. Formula must include <code><a href="#topic+fmls">fmls</a></code> function</p>
</td></tr>
<tr><td><code id="midas_r_+3A_data">data</code></td>
<td>
<p>a named list containing data with mixed frequencies</p>
</td></tr>
<tr><td><code id="midas_r_+3A_start">start</code></td>
<td>
<p>the starting values for optimisation. Must be a list with named elements.</p>
</td></tr>
<tr><td><code id="midas_r_+3A_ofunction">Ofunction</code></td>
<td>
<p>the list with information which R function to use for optimisation. The list must have element named <code>Ofunction</code> which contains character string of chosen R function. Other elements of the list are the arguments passed to this function.  The default optimisation function is <code><a href="stats.html#topic+optim">optim</a></code> with argument <code>method="BFGS"</code>. Other supported functions are <code><a href="stats.html#topic+nls">nls</a></code></p>
</td></tr>
<tr><td><code id="midas_r_+3A_weight_gradients">weight_gradients</code></td>
<td>
<p>a named list containing gradient functions of weights. The weight gradient function must return the matrix with dimensions
<code class="reqn">d_k \times q</code>, where <code class="reqn">d_k</code> and <code class="reqn">q</code> are the number of coefficients in unrestricted and restricted regressions correspondingly.
The names of the list should coincide with the names of weights used in formula.
The default value is NULL, which means that the numeric approximation of weight function gradient is calculated. If the argument is not NULL, but the
name of the weight used in formula is not present, it is assumed that there exists an R function which has  
the name of the weight function appended with <code>_gradient</code>.</p>
</td></tr>
<tr><td><code id="midas_r_+3A_...">...</code></td>
<td>
<p>additional arguments supplied to optimisation function</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Given MIDAS regression:
</p>
<p style="text-align: center;"><code class="reqn">y_t = \sum_{j=1}^p\alpha_jy_{t-j} +\sum_{i=0}^{k}\sum_{j=0}^{l_i}\beta_{j}^{(i)}x_{tm_i-j}^{(i)} + u_t,</code>
</p>

<p>estimate the parameters of the restriction
</p>
<p style="text-align: center;"><code class="reqn">\beta_j^{(i)}=g^{(i)}(j,\lambda).</code>
</p>

<p>Such model is a generalisation of so called ADL-MIDAS regression. It is not required that all the coefficients should be restricted, i.e the function <code class="reqn">g^{(i)}</code>
might be an identity function. Model with no restrictions is called U-MIDAS model. The regressors <code class="reqn">x_\tau^{(i)}</code> must be of higher
(or of the same) frequency as the dependent variable <code class="reqn">y_t</code>. 
</p>
<p>MIDAS-AR* (a model with a common factor, see (Clements and Galvao, 2008)) can be estimated by specifying additional argument, see an example.
</p>
<p>The restriction function must return the restricted coefficients of
the MIDAS regression.
</p>


<h3>Value</h3>

<p>a <code>midas_r</code> object which is the list with the following elements:
</p>
<table role = "presentation">
<tr><td><code>coefficients</code></td>
<td>
<p>the estimates of parameters of restrictions</p>
</td></tr>
<tr><td><code>midas_coefficients</code></td>
<td>
<p>the estimates of MIDAS coefficients of MIDAS regression</p>
</td></tr>
<tr><td><code>model</code></td>
<td>
<p>model data</p>
</td></tr>
<tr><td><code>unrestricted</code></td>
<td>
<p>unrestricted regression estimated using <code><a href="#topic+midas_u">midas_u</a></code></p>
</td></tr>
<tr><td><code>term_info</code></td>
<td>
<p>the named list. Each element is a list with the information about the term, such as its frequency, function for weights, gradient function of weights, etc.</p>
</td></tr>
<tr><td><code>fn0</code></td>
<td>
<p>optimisation function for non-linear least squares problem solved in restricted MIDAS regression</p>
</td></tr>
<tr><td><code>rhs</code></td>
<td>
<p>the function which evaluates the right-hand side of the MIDAS regression</p>
</td></tr>
<tr><td><code>gen_midas_coef</code></td>
<td>
<p>the function which generates the MIDAS coefficients of MIDAS regression</p>
</td></tr>
<tr><td><code>opt</code></td>
<td>
<p>the output of optimisation procedure</p>
</td></tr>
<tr><td><code>argmap_opt</code></td>
<td>
<p>the list containing the name of optimisation function together with arguments for optimisation function</p>
</td></tr>
<tr><td><code>start_opt</code></td>
<td>
<p>the starting values used in optimisation</p>
</td></tr>
<tr><td><code>start_list</code></td>
<td>
<p>the starting values as a list</p>
</td></tr>
<tr><td><code>call</code></td>
<td>
<p>the call to the function</p>
</td></tr>
<tr><td><code>terms</code></td>
<td>
<p>terms object</p>
</td></tr>
<tr><td><code>gradient</code></td>
<td>
<p>gradient of NLS objective function</p>
</td></tr>
<tr><td><code>hessian</code></td>
<td>
<p>hessian of NLS objective function</p>
</td></tr>
<tr><td><code>gradD</code></td>
<td>
<p>gradient function of MIDAS weight functions</p>
</td></tr> 
<tr><td><code>Zenv</code></td>
<td>
<p>the environment in which data is placed</p>
</td></tr>
<tr><td><code>use_gradient</code></td>
<td>
<p>TRUE if user supplied gradient is used, FALSE otherwise</p>
</td></tr>
<tr><td><code>nobs</code></td>
<td>
<p>the number of effective observations</p>
</td></tr>
<tr><td><code>convergence</code></td>
<td>
<p>the convergence message</p>
</td></tr>
<tr><td><code>fitted.values</code></td>
<td>
<p>the fitted values of MIDAS regression</p>
</td></tr>
<tr><td><code>residuals</code></td>
<td>
<p>the residuals of MIDAS regression</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras, Vaidotas Zemlys
</p>


<h3>References</h3>

<p>Clements, M. and Galvao, A., <em>Macroeconomic Forecasting With Mixed-Frequency Data: Forecasting Output Growth in the United States</em>, Journal of Business and Economic Statistics, Vol.26 (No.4), (2008) 546-554
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##The parameter function
theta_h0 &lt;- function(p, dk, ...) {
   i &lt;- (1:dk-1)/100
   pol &lt;- p[3]*i + p[4]*i^2
   (p[1] + p[2]*i)*exp(pol)
}

##Generate coefficients
theta0 &lt;- theta_h0(c(-0.1,10,-10,-10),4*12)

##Plot the coefficients
plot(theta0)

##Generate the predictor variable
xx &lt;- ts(arima.sim(model = list(ar = 0.6), 600 * 12), frequency = 12)

##Simulate the response variable
y &lt;- midas_sim(500, xx, theta0)

x &lt;- window(xx, start=start(y))

##Fit restricted model
mr &lt;- midas_r(y~fmls(x,4*12-1,12,theta_h0)-1,
              list(y=y,x=x),
              start=list(x=c(-0.1,10,-10,-10)))

##Include intercept and trend in regression
mr_it &lt;- midas_r(y~fmls(x,4*12-1,12,theta_h0)+trend,
                 list(data.frame(y=y,trend=1:500),x=x),
                 start=list(x=c(-0.1,10,-10,-10)))

data("USrealgdp")
data("USunempr")

y.ar &lt;- diff(log(USrealgdp))
xx &lt;- window(diff(USunempr), start = 1949)
trend &lt;- 1:length(y.ar)

##Fit AR(1) model
mr_ar &lt;- midas_r(y.ar ~ trend + mls(y.ar, 1, 1) +
                 fmls(xx, 11, 12, nealmon),
                 start = list(xx = rep(0, 3)))

##First order MIDAS-AR* restricted model 
mr_arstar &lt;-  midas_r(y.ar ~ trend + mls(y.ar, 1, 1, "*")
                     + fmls(xx, 11, 12, nealmon),
                     start = list(xx = rep(0, 3)))

</code></pre>

<hr>
<h2 id='midas_r_ic_table'>Create a weight and lag selection table for MIDAS regression model</h2><span id='topic+midas_r_ic_table'></span>

<h3>Description</h3>

<p>Creates a weight and lag selection table for MIDAS regression model with given information criteria and minimum and maximum lags.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>midas_r_ic_table(
  formula,
  data = NULL,
  start = NULL,
  table,
  IC = c("AIC", "BIC"),
  test = c("hAh_test"),
  Ofunction = "optim",
  weight_gradients = NULL,
  show_progress = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="midas_r_ic_table_+3A_formula">formula</code></td>
<td>
<p>the formula for MIDAS regression, the lag selection is performed for the last MIDAS lag term in the formula</p>
</td></tr>
<tr><td><code id="midas_r_ic_table_+3A_data">data</code></td>
<td>
<p>a list containing data with mixed frequencies</p>
</td></tr>
<tr><td><code id="midas_r_ic_table_+3A_start">start</code></td>
<td>
<p>the starting values for optimisation excluding the starting values for the last term</p>
</td></tr>
<tr><td><code id="midas_r_ic_table_+3A_table">table</code></td>
<td>
<p>an wls_table object, see <a href="#topic+expand_weights_lags">expand_weights_lags</a></p>
</td></tr>
<tr><td><code id="midas_r_ic_table_+3A_ic">IC</code></td>
<td>
<p>the names of information criteria which to compute</p>
</td></tr>
<tr><td><code id="midas_r_ic_table_+3A_test">test</code></td>
<td>
<p>the names of statistical tests to perform on restricted model, p-values are reported in the columns of model selection table</p>
</td></tr>
<tr><td><code id="midas_r_ic_table_+3A_ofunction">Ofunction</code></td>
<td>
<p>see <a href="#topic+midasr">midasr</a></p>
</td></tr>
<tr><td><code id="midas_r_ic_table_+3A_weight_gradients">weight_gradients</code></td>
<td>
<p>see <a href="#topic+midas_r">midas_r</a></p>
</td></tr>
<tr><td><code id="midas_r_ic_table_+3A_show_progress">show_progress</code></td>
<td>
<p>logical, TRUE to show progress bar, FALSE for silent evaluation</p>
</td></tr>
<tr><td><code id="midas_r_ic_table_+3A_...">...</code></td>
<td>
<p>additional parameters to optimisation function, see <a href="#topic+midas_r">midas_r</a></p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function estimates models sequentially increasing the midas lag from <code>kmin</code> to <code>kmax</code> and varying the weights of the last term of the given formula
</p>


<h3>Value</h3>

<p>a <code>midas_r_ic_table</code> object which is the list with the following elements:
</p>
<table role = "presentation">
<tr><td><code>table</code></td>
<td>
<p>the table where each row contains calculated information criteria for both restricted and unrestricted MIDAS regression model with given lag structure</p>
</td></tr>
<tr><td><code>candlist</code></td>
<td>
<p>the list containing fitted models</p>
</td></tr>
<tr><td><code>IC</code></td>
<td>
<p>the argument IC</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras, Vaidotas Zemlys
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data("USunempr")
data("USrealgdp")
y &lt;- diff(log(USrealgdp))
x &lt;- window(diff(USunempr),start=1949)
trend &lt;- 1:length(y)

 
mwlr &lt;- midas_r_ic_table(y~trend+fmls(x,12,12,nealmon),
                   table=list(x=list(weights=
                   as.list(c("nealmon","nealmon","nbeta")),
                   lags=list(0:4,0:5,0:6),
                   starts=list(rep(0,3),rep(0,3,),c(1,1,1,0)))))

mwlr

</code></pre>

<hr>
<h2 id='midas_r_np'>Estimate non-parametric MIDAS regression</h2><span id='topic+midas_r_np'></span>

<h3>Description</h3>

<p>Estimates non-parametric MIDAS regression
</p>


<h3>Usage</h3>

<pre><code class='language-R'>midas_r_np(formula, data, lambda = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="midas_r_np_+3A_formula">formula</code></td>
<td>
<p>formula specifying MIDAS regression</p>
</td></tr>
<tr><td><code id="midas_r_np_+3A_data">data</code></td>
<td>
<p>a named list containing data with mixed frequencies</p>
</td></tr>
<tr><td><code id="midas_r_np_+3A_lambda">lambda</code></td>
<td>
<p>smoothing parameter, defaults to <code>NULL</code>, which means that it is chosen by minimising AIC.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Estimates non-parametric MIDAS regression accodring Breitung et al.
</p>


<h3>Value</h3>

<p>a <code>midas_r_np</code> object
</p>


<h3>Author(s)</h3>

<p>Vaidotas Zemlys
</p>


<h3>References</h3>

<p>Breitung J, Roling C, Elengikal S (2013). <em>Forecasting inflation rates using daily data: A nonparametric MIDAS approach</em> Working paper, URL http://www.ect.uni-bonn.de/mitarbeiter/joerg-breitung/npmidas.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("USunempr")
data("USrealgdp")
y &lt;- diff(log(USrealgdp))
x &lt;- window(diff(USunempr),start=1949)
trend &lt;- 1:length(y)
midas_r_np(y~trend+fmls(x,12,12))
</code></pre>

<hr>
<h2 id='midas_r_plain'>Restricted MIDAS regression</h2><span id='topic+midas_r_plain'></span>

<h3>Description</h3>

<p>Function for fitting MIDAS regression without the formula interface
</p>


<h3>Usage</h3>

<pre><code class='language-R'>midas_r_plain(
  y,
  X,
  z = NULL,
  weight,
  grw = NULL,
  startx,
  startz = NULL,
  method = c("Nelder-Mead", "BFGS"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="midas_r_plain_+3A_y">y</code></td>
<td>
<p>model response</p>
</td></tr>
<tr><td><code id="midas_r_plain_+3A_x">X</code></td>
<td>
<p>prepared matrix of high frequency variable lags</p>
</td></tr>
<tr><td><code id="midas_r_plain_+3A_z">z</code></td>
<td>
<p>additional low frequency variables</p>
</td></tr>
<tr><td><code id="midas_r_plain_+3A_weight">weight</code></td>
<td>
<p>the weight function</p>
</td></tr>
<tr><td><code id="midas_r_plain_+3A_grw">grw</code></td>
<td>
<p>the gradient of weight function</p>
</td></tr>
<tr><td><code id="midas_r_plain_+3A_startx">startx</code></td>
<td>
<p>the starting values for weight function</p>
</td></tr>
<tr><td><code id="midas_r_plain_+3A_startz">startz</code></td>
<td>
<p>the starting values for additional low frequency variables</p>
</td></tr>
<tr><td><code id="midas_r_plain_+3A_method">method</code></td>
<td>
<p>a method passed to <a href="optimx.html#topic+optimx">optimx</a></p>
</td></tr>
<tr><td><code id="midas_r_plain_+3A_...">...</code></td>
<td>
<p>additional parameters to <a href="optimx.html#topic+optimx">optimx</a></p>
</td></tr>
</table>


<h3>Value</h3>

<p>an object similar to <code>midas_r</code> object
</p>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras, Vaidotas Zemlys
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data("USunempr")
data("USrealgdp")
y &lt;- diff(log(USrealgdp))
x &lt;- window(diff(USunempr),start=1949)
trend &lt;- 1:length(y)

X&lt;-fmls(x,11,12)

midas_r_plain(y,X,trend,weight=nealmon,startx=c(0,0,0))
</code></pre>

<hr>
<h2 id='midas_r.fit'>Fit restricted MIDAS regression</h2><span id='topic+midas_r.fit'></span>

<h3>Description</h3>

<p>Workhorse function for fitting restricted MIDAS regression
</p>


<h3>Usage</h3>

<pre><code class='language-R'>midas_r.fit(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="midas_r.fit_+3A_x">x</code></td>
<td>
<p><code>midas_r</code> object</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code><a href="#topic+midas_r">midas_r</a></code> object
</p>


<h3>Author(s)</h3>

<p>Vaidotas Zemlys
</p>

<hr>
<h2 id='midas_si_plain'>MIDAS Single index regression</h2><span id='topic+midas_si_plain'></span>

<h3>Description</h3>

<p>Function for fitting SI MIDAS regression without the formula interface
</p>


<h3>Usage</h3>

<pre><code class='language-R'>midas_si_plain(
  y,
  X,
  p.ar = NULL,
  weight,
  degree = 1,
  start_bws,
  start_x,
  start_ar = NULL,
  method = "Nelder-Mead",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="midas_si_plain_+3A_y">y</code></td>
<td>
<p>model response</p>
</td></tr>
<tr><td><code id="midas_si_plain_+3A_x">X</code></td>
<td>
<p>prepared matrix of high frequency variable lags for MMM term</p>
</td></tr>
<tr><td><code id="midas_si_plain_+3A_p.ar">p.ar</code></td>
<td>
<p>length of AR part</p>
</td></tr>
<tr><td><code id="midas_si_plain_+3A_weight">weight</code></td>
<td>
<p>the weight function</p>
</td></tr>
<tr><td><code id="midas_si_plain_+3A_degree">degree</code></td>
<td>
<p>the degree of local polynomial</p>
</td></tr>
<tr><td><code id="midas_si_plain_+3A_start_bws">start_bws</code></td>
<td>
<p>the starting values bandwith</p>
</td></tr>
<tr><td><code id="midas_si_plain_+3A_start_x">start_x</code></td>
<td>
<p>the starting values for weight function</p>
</td></tr>
<tr><td><code id="midas_si_plain_+3A_start_ar">start_ar</code></td>
<td>
<p>the starting values for AR part. Should be the same length as <code>p</code></p>
</td></tr>
<tr><td><code id="midas_si_plain_+3A_method">method</code></td>
<td>
<p>a method passed to <a href="stats.html#topic+optim">optim</a>, defaults to Nelder-Mead</p>
</td></tr>
<tr><td><code id="midas_si_plain_+3A_...">...</code></td>
<td>
<p>additional parameters to <a href="stats.html#topic+optim">optim</a></p>
</td></tr>
</table>


<h3>Value</h3>

<p>an object similar to <code>midas_r</code> object
</p>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras, Vaidotas Zemlys
</p>

<hr>
<h2 id='midas_si_sim'>Simulate SI MIDAS regression model</h2><span id='topic+midas_si_sim'></span>

<h3>Description</h3>

<p>Simulate SI MIDAS regression model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>midas_si_sim(
  n,
  m,
  theta,
  gfun,
  ar.x,
  ar.y,
  rand.gen = rnorm,
  n.start = NA,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="midas_si_sim_+3A_n">n</code></td>
<td>
<p>number of observations to simulate.</p>
</td></tr>
<tr><td><code id="midas_si_sim_+3A_m">m</code></td>
<td>
<p>integer, frequency ratio</p>
</td></tr>
<tr><td><code id="midas_si_sim_+3A_theta">theta</code></td>
<td>
<p>vector, restriction coefficients for high frequency variable</p>
</td></tr>
<tr><td><code id="midas_si_sim_+3A_gfun">gfun</code></td>
<td>
<p>function, a function which takes a single index</p>
</td></tr>
<tr><td><code id="midas_si_sim_+3A_ar.x">ar.x</code></td>
<td>
<p>vector, AR parameters for simulating high frequency variable</p>
</td></tr>
<tr><td><code id="midas_si_sim_+3A_ar.y">ar.y</code></td>
<td>
<p>vector, AR parameters for AR part of the model</p>
</td></tr>
<tr><td><code id="midas_si_sim_+3A_rand.gen">rand.gen</code></td>
<td>
<p>function, a function for generating the regression innovations, default is <code>rnorm</code></p>
</td></tr>
<tr><td><code id="midas_si_sim_+3A_n.start">n.start</code></td>
<td>
<p>integer, length of a 'burn-in' period. If NA, the default, a reasonable value is computed.</p>
</td></tr>
<tr><td><code id="midas_si_sim_+3A_...">...</code></td>
<td>
<p>additional parameters to rand.gen</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
nnbeta &lt;- function(p, k) nbeta(c(1,p),k)

dgp &lt;- midas_si_sim(250, m = 12, theta = nnbeta(c(2, 4), 24), 
                           gfun = function(x) 0.03*x^3, 
                           ar.x = 0.9, ar.y = 0.5, n.start = 100)
                           
</code></pre>

<hr>
<h2 id='midas_sim'>Simulate simple MIDAS regression response variable</h2><span id='topic+midas_sim'></span>

<h3>Description</h3>

<p>Given the predictor variable and the coefficients simulate MIDAS regression response variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>midas_sim(n, x, theta, rand_gen = rnorm, innov = rand_gen(n, ...), ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="midas_sim_+3A_n">n</code></td>
<td>
<p>The sample size</p>
</td></tr>
<tr><td><code id="midas_sim_+3A_x">x</code></td>
<td>
<p>a <code>ts</code> object with MIDAS regression predictor variable</p>
</td></tr>
<tr><td><code id="midas_sim_+3A_theta">theta</code></td>
<td>
<p>a vector with MIDAS regression coefficients</p>
</td></tr>
<tr><td><code id="midas_sim_+3A_rand_gen">rand_gen</code></td>
<td>
<p>the function which generates the sample of innovations, the default is <code><a href="stats.html#topic+rnorm">rnorm</a></code></p>
</td></tr>
<tr><td><code id="midas_sim_+3A_innov">innov</code></td>
<td>
<p>the vector with innovations, the default is NULL, i.e. innovations are generated using argument <code>rand_gen</code></p>
</td></tr>
<tr><td><code id="midas_sim_+3A_...">...</code></td>
<td>
<p>additional arguments to <code>rand_gen</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>MIDAS regression with one predictor variable has the following form:
</p>
<p style="text-align: center;"><code class="reqn">y_t=\sum_{j=0}^{h}\theta_jx_{tm-j}+u_t,</code>
</p>

<p>where <code class="reqn">m</code> is the frequency ratio and
<code class="reqn">h</code> is the number of high frequency lags included in the regression. 
</p>
<p>MIDAS regression involves times series with different frequencies. In R
the frequency property is set when creating time series objects
<code><a href="stats.html#topic+ts">ts</a></code>. Hence the frequency ratio <code class="reqn">m</code> which figures in MIDAS regression is calculated from frequency property of time series objects supplied.
</p>


<h3>Value</h3>

<p>a <code>ts</code> object
</p>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras, Vaidotas Zemlys
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##The parameter function
theta_h0 &lt;- function(p, dk) {
   i &lt;- (1:dk-1)/100
   pol &lt;- p[3]*i + p[4]*i^2
   (p[1] + p[2]*i)*exp(pol)
}

##Generate coefficients
theta0 &lt;- theta_h0(c(-0.1,10,-10,-10),4*12)

##Plot the coefficients
plot(theta0)

##Generate the predictor variable, leave 4 low frequency lags of data for burn-in.
xx &lt;- ts(arima.sim(model = list(ar = 0.6), 600 * 12), frequency = 12)

##Simulate the response variable
y &lt;- midas_sim(500, xx, theta0)

x &lt;- window(xx, start=start(y))
midas_r(y ~ mls(y, 1, 1) + fmls(x, 4*12-1, 12, theta_h0), start = list(x = c(-0.1, 10, -10, -10)))

</code></pre>

<hr>
<h2 id='midas_sp'>Semi-parametric MIDAS regression</h2><span id='topic+midas_sp'></span>

<h3>Description</h3>

<p>Estimate semi-parametric MIDAS regression using non-linear least squares.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>midas_sp(formula, data, bws, start, degree = 1, Ofunction = "optim", ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="midas_sp_+3A_formula">formula</code></td>
<td>
<p>formula for restricted MIDAS regression or <code>midas_r</code> object. Formula must include <code><a href="#topic+fmls">fmls</a></code> function</p>
</td></tr>
<tr><td><code id="midas_sp_+3A_data">data</code></td>
<td>
<p>a named list containing data with mixed frequencies</p>
</td></tr>
<tr><td><code id="midas_sp_+3A_bws">bws</code></td>
<td>
<p>a bandwith specification. Note you need to supply logarithm value of the bandwith.</p>
</td></tr>
<tr><td><code id="midas_sp_+3A_start">start</code></td>
<td>
<p>the starting values for optimisation. Must be a list with named elements.</p>
</td></tr>
<tr><td><code id="midas_sp_+3A_degree">degree</code></td>
<td>
<p>the degree of local polynomial. 0 corresponds to local-constant, 1 local-linear. For univariate models higher values can be provided.</p>
</td></tr>
<tr><td><code id="midas_sp_+3A_ofunction">Ofunction</code></td>
<td>
<p>the list with information which R function to use for optimisation. The list must have element named <code>Ofunction</code> which contains character string of chosen 
R function. Other elements of the list are the arguments passed to this function.  The default optimisation function is <code><a href="stats.html#topic+optim">optim</a></code> with arguments
<code>method="Nelder-Mead"</code> and <code>control=list(maxit=5000)</code>. Other supported functions are <code><a href="stats.html#topic+nls">nls</a></code>, <code><a href="optimx.html#topic+optimx">optimx</a></code>.</p>
</td></tr>
<tr><td><code id="midas_sp_+3A_...">...</code></td>
<td>
<p>additional arguments supplied to optimisation function</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Given MIDAS regression:
</p>
<p style="text-align: center;"><code class="reqn">y_t = \sum_{j=1}^p\alpha_jy_{t-j} +\sum_{i=0}^{k}\sum_{j=0}^{l_i}\beta_{j}^{(i)}x_{tm_i-j}^{(i)} + u_t,</code>
</p>

<p>estimate the parameters of the restriction
</p>
<p style="text-align: center;"><code class="reqn">\beta_j^{(i)}=g^{(i)}(j,\lambda).</code>
</p>

<p>Such model is a generalisation of so called ADL-MIDAS regression. It is not required that all the coefficients should be restricted, i.e the function <code class="reqn">g^{(i)}</code>
might be an identity function. The regressors <code class="reqn">x_\tau^{(i)}</code> must be of higher
(or of the same) frequency as the dependent variable <code class="reqn">y_t</code>.
</p>


<h3>Value</h3>

<p>a <code>midas_sp</code> object which is the list with the following elements:
</p>
<table role = "presentation">
<tr><td><code>coefficients</code></td>
<td>
<p>the estimates of parameters of restrictions</p>
</td></tr>
<tr><td><code>midas_coefficients</code></td>
<td>
<p>the estimates of MIDAS coefficients of MIDAS regression</p>
</td></tr>
<tr><td><code>model</code></td>
<td>
<p>model data</p>
</td></tr>
<tr><td><code>unrestricted</code></td>
<td>
<p>unrestricted regression estimated using <code><a href="#topic+midas_u">midas_u</a></code></p>
</td></tr>
<tr><td><code>term_info</code></td>
<td>
<p>the named list. Each element is a list with the information about the term, such as its frequency, function for weights, gradient function of weights, etc.</p>
</td></tr>
<tr><td><code>fn0</code></td>
<td>
<p>optimisation function for non-linear least squares problem solved in restricted MIDAS regression</p>
</td></tr>
<tr><td><code>rhs</code></td>
<td>
<p>the function which evaluates the right-hand side of the MIDAS regression</p>
</td></tr>
<tr><td><code>gen_midas_coef</code></td>
<td>
<p>the function which generates the MIDAS coefficients of MIDAS regression</p>
</td></tr>
<tr><td><code>opt</code></td>
<td>
<p>the output of optimisation procedure</p>
</td></tr>
<tr><td><code>argmap_opt</code></td>
<td>
<p>the list containing the name of optimisation function together with arguments for optimisation function</p>
</td></tr>
<tr><td><code>start_opt</code></td>
<td>
<p>the starting values used in optimisation</p>
</td></tr>
<tr><td><code>start_list</code></td>
<td>
<p>the starting values as a list</p>
</td></tr>
<tr><td><code>call</code></td>
<td>
<p>the call to the function</p>
</td></tr>
<tr><td><code>terms</code></td>
<td>
<p>terms object</p>
</td></tr>
<tr><td><code>gradient</code></td>
<td>
<p>gradient of NLS objective function</p>
</td></tr>
<tr><td><code>hessian</code></td>
<td>
<p>hessian of NLS objective function</p>
</td></tr>
<tr><td><code>gradD</code></td>
<td>
<p>gradient function of MIDAS weight functions</p>
</td></tr> 
<tr><td><code>Zenv</code></td>
<td>
<p>the environment in which data is placed</p>
</td></tr>
<tr><td><code>nobs</code></td>
<td>
<p>the number of effective observations</p>
</td></tr>
<tr><td><code>convergence</code></td>
<td>
<p>the convergence message</p>
</td></tr>
<tr><td><code>fitted.values</code></td>
<td>
<p>the fitted values of MIDAS regression</p>
</td></tr>
<tr><td><code>residuals</code></td>
<td>
<p>the residuals of MIDAS regression</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras, Vaidotas Zemlys-Balevičius
</p>

<hr>
<h2 id='midas_u'>Estimate unrestricted MIDAS regression</h2><span id='topic+midas_u'></span>

<h3>Description</h3>

<p>Estimate unrestricted MIDAS regression using OLS. This function is a wrapper for <code>lm</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>midas_u(formula, data, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="midas_u_+3A_formula">formula</code></td>
<td>
<p>MIDAS regression model formula</p>
</td></tr>
<tr><td><code id="midas_u_+3A_data">data</code></td>
<td>
<p>a named list containing data with mixed frequencies</p>
</td></tr>
<tr><td><code id="midas_u_+3A_...">...</code></td>
<td>
<p>further arguments, which could be passed to <code><a href="stats.html#topic+lm">lm</a></code> function.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>MIDAS regression has the following form:
</p>
<p style="text-align: center;"><code class="reqn">y_t = \sum_{j=1}^p\alpha_jy_{t-j} +\sum_{i=0}^{k}\sum_{j=0}^{l_i}\beta_{j}^{(i)}x_{tm_i-j}^{(i)} + u_t,</code>
</p>

<p>where <code class="reqn">x_\tau^{(i)}</code>, <code class="reqn">i=0,...k</code> are regressors of higher (or similar) frequency than <code class="reqn">y_t</code>. 
Given certain assumptions the coefficients can be estimated using usual OLS and they have the familiar properties associated with simple linear regression.
</p>


<h3>Value</h3>

<p><code><a href="stats.html#topic+lm">lm</a></code> object.
</p>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras, Vaidotas Zemlys
</p>


<h3>References</h3>

<p>Kvedaras V., Zemlys, V. <em>Testing the functional constraints on parameters in regressions with variables of different frequency</em> Economics Letters 116 (2012) 250-254
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##The parameter function
theta_h0 &lt;- function(p, dk, ...) {
   i &lt;- (1:dk-1)/100
   pol &lt;- p[3]*i + p[4]*i^2
   (p[1] + p[2]*i)*exp(pol)
}

##Generate coefficients
theta0 &lt;- theta_h0(c(-0.1,10,-10,-10),4*12)

##Plot the coefficients
##Do not run
#plot(theta0)

##' ##Generate the predictor variable
xx &lt;- ts(arima.sim(model = list(ar = 0.6), 600 * 12), frequency = 12)

##Simulate the response variable
y &lt;- midas_sim(500, xx, theta0)

x &lt;- window(xx, start=start(y))

##Create low frequency data.frame
ldt &lt;- data.frame(y=y,trend=1:length(y))

##Create high frequency data.frame

hdt &lt;- data.frame(x=window(x, start=start(y)))

##Fit unrestricted model
mu &lt;- midas_u(y~fmls(x,2,12)-1, list(ldt, hdt))

##Include intercept and trend in regression

mu_it &lt;- midas_u(y~fmls(x,2,12)+trend, list(ldt, hdt))

##Pass data as partialy named list

mu_it &lt;- midas_u(y~fmls(x,2,12)+trend, list(ldt, x=hdt$x))

</code></pre>

<hr>
<h2 id='mls'>MIDAS lag structure</h2><span id='topic+mls'></span>

<h3>Description</h3>

<p>Create a matrix of selected MIDAS lags
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mls(x, k, m, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mls_+3A_x">x</code></td>
<td>
<p>a vector</p>
</td></tr>
<tr><td><code id="mls_+3A_k">k</code></td>
<td>
<p>a vector of lag orders, zero denotes contemporaneous lag.</p>
</td></tr>
<tr><td><code id="mls_+3A_m">m</code></td>
<td>
<p>frequency ratio</p>
</td></tr>
<tr><td><code id="mls_+3A_...">...</code></td>
<td>
<p>further arguments used in fitting MIDAS regression</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function checks whether high frequency data is complete, i.e. <code>m</code> must divide <code>length(x)</code>.
</p>


<h3>Value</h3>

<p>a matrix containing the lags
</p>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras, Vaidotas Zemlys
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Quarterly frequency data
x &lt;- 1:16
## Create MIDAS lag for use with yearly data
mls(x,0:3,4)

## Do not use contemporaneous lag
mls(x,1:3,4)

## Compares with embed when m=1
embed(x,2)
mls(x,0:1,1)
</code></pre>

<hr>
<h2 id='mlsd'>MIDAS lag structure with dates</h2><span id='topic+mlsd'></span>

<h3>Description</h3>

<p>MIDAS lag structure with dates
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mlsd(x, k, datey, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mlsd_+3A_x">x</code></td>
<td>
<p>a vector</p>
</td></tr>
<tr><td><code id="mlsd_+3A_k">k</code></td>
<td>
<p>lags, a vector</p>
</td></tr>
<tr><td><code id="mlsd_+3A_datey">datey</code></td>
<td>
<p>low frequency dates</p>
</td></tr>
<tr><td><code id="mlsd_+3A_...">...</code></td>
<td>
<p>further arguments used in fitting MIDAS regression</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a matrix containing the first differences and the lag k+1.
</p>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras, Vaidotas Zemlys-Balevičius
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- c(1:144)
y &lt;- c(1:12)
datey &lt;- (y-1)*12+1

#msld and mls should give the same results

m1 &lt;- mlsd(x, 0:5, datey)

m2 &lt;- mls(x, 0:5, 12)

sum(abs(m1 - m2))

</code></pre>

<hr>
<h2 id='mmm'>Compute MMM term for high frequency variable</h2><span id='topic+mmm'></span>

<h3>Description</h3>

<p>Compute MMM term for high frequency variable
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mmm(X, theta, beta, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mmm_+3A_x">X</code></td>
<td>
<p>matrix, high frequency variable embedded in low frequency, output of mls</p>
</td></tr>
<tr><td><code id="mmm_+3A_theta">theta</code></td>
<td>
<p>vector, restriction coefficients for high frequency variable</p>
</td></tr>
<tr><td><code id="mmm_+3A_beta">beta</code></td>
<td>
<p>vector of length 2, parameters for MMM term, slope and MMM parameter.</p>
</td></tr>
<tr><td><code id="mmm_+3A_...">...</code></td>
<td>
<p>currently not used</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a vector
</p>

<hr>
<h2 id='modsel'>Select the model based on given information criteria</h2><span id='topic+modsel'></span>

<h3>Description</h3>

<p>Selects the model with minimum of given information criteria and model type
</p>


<h3>Usage</h3>

<pre><code class='language-R'>modsel(
  x,
  IC = x$IC[1],
  test = x$test[1],
  type = c("restricted", "unrestricted"),
  print = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="modsel_+3A_x">x</code></td>
<td>
<p>a <a href="#topic+midas_r_ic_table">midas_r_ic_table</a> object</p>
</td></tr>
<tr><td><code id="modsel_+3A_ic">IC</code></td>
<td>
<p>the name of information criteria to base the choosing of the model</p>
</td></tr>
<tr><td><code id="modsel_+3A_test">test</code></td>
<td>
<p>the name of the test for which to print out the p-value</p>
</td></tr>
<tr><td><code id="modsel_+3A_type">type</code></td>
<td>
<p>the type of MIDAS model, either restricted or unrestricted</p>
</td></tr>
<tr><td><code id="modsel_+3A_print">print</code></td>
<td>
<p>logical, if TRUE, prints the summary of the best model.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function selects the model from the model selection table for which the chosen information criteria achieves the smallest value. The function works with model tables produced by functions <a href="#topic+lf_lags_table">lf_lags_table</a>, <a href="#topic+hf_lags_table">hf_lags_table</a>, <a href="#topic+amidas_table">amidas_table</a> and <a href="#topic+midas_r_ic_table">midas_r_ic_table</a>.
</p>


<h3>Value</h3>

<p>(invisibly) the best model based on information criteria, <a href="#topic+midas_r">midas_r</a> object
</p>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras, Vaidotas Zemlys
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data("USunempr")
data("USrealgdp")
y &lt;- diff(log(USrealgdp))
x &lt;- window(diff(USunempr),start=1949)
trend &lt;- 1:length(y)

mhfr &lt;- hf_lags_table(y~trend+fmls(x,12,12,nealmon),
                      start=list(x=rep(0,3)),
                      from=list(x=0),to=list(x=c(4,6)))

mlfr &lt;- lf_lags_table(y~trend+fmls(x,12,12,nealmon),
                      start=list(x=rep(0,3)),
                      from=list(x=0),to=list(x=c(2,3)))

modsel(mhfr,"BIC","unrestricted")

modsel(mlfr,"BIC","unrestricted")

</code></pre>

<hr>
<h2 id='nakagamip'>Normalized Nakagami probability density function MIDAS weights specification</h2><span id='topic+nakagamip'></span>

<h3>Description</h3>

<p>Calculate MIDAS weights according to normalized Nakagami probability density function specification
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nakagamip(p, d, m)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="nakagamip_+3A_p">p</code></td>
<td>
<p>parameters for normalized Nakagami probability density function</p>
</td></tr>
<tr><td><code id="nakagamip_+3A_d">d</code></td>
<td>
<p>number of coefficients</p>
</td></tr>
<tr><td><code id="nakagamip_+3A_m">m</code></td>
<td>
<p>the frequency ratio, currently ignored</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector of coefficients
</p>


<h3>Author(s)</h3>

<p>Julius Vainora
</p>

<hr>
<h2 id='nakagamip_gradient'>Gradient function for normalized Nakagami probability density function MIDAS weights specification</h2><span id='topic+nakagamip_gradient'></span>

<h3>Description</h3>

<p>Calculate gradient function for normalized Nakagami probability density function specification of MIDAS weights.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nakagamip_gradient(p, d, m)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="nakagamip_gradient_+3A_p">p</code></td>
<td>
<p>parameters for normalized Nakagami probability density function</p>
</td></tr>
<tr><td><code id="nakagamip_gradient_+3A_d">d</code></td>
<td>
<p>number of coefficients</p>
</td></tr>
<tr><td><code id="nakagamip_gradient_+3A_m">m</code></td>
<td>
<p>the frequency ratio, currently ignored</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector of coefficients
</p>


<h3>Author(s)</h3>

<p>Julius Vainora
</p>

<hr>
<h2 id='nbeta'>Normalized beta probability density function MIDAS weights specification</h2><span id='topic+nbeta'></span>

<h3>Description</h3>

<p>Calculate MIDAS weights according to normalized beta probability density function specification
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nbeta(p, d, m)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="nbeta_+3A_p">p</code></td>
<td>
<p>parameters for normalized beta probability density function</p>
</td></tr>
<tr><td><code id="nbeta_+3A_d">d</code></td>
<td>
<p>number of coefficients</p>
</td></tr>
<tr><td><code id="nbeta_+3A_m">m</code></td>
<td>
<p>the frequency ratio, currently ignored</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector of coefficients
</p>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras, Vaidotas Zemlys
</p>

<hr>
<h2 id='nbeta_gradient'>Gradient function for normalized beta probability density function MIDAS weights specification</h2><span id='topic+nbeta_gradient'></span>

<h3>Description</h3>

<p>Calculate gradient function for normalized beta probability density function specification of MIDAS weights.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nbeta_gradient(p, d, m)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="nbeta_gradient_+3A_p">p</code></td>
<td>
<p>parameters for normalized beta probability density function</p>
</td></tr>
<tr><td><code id="nbeta_gradient_+3A_d">d</code></td>
<td>
<p>number of coefficients</p>
</td></tr>
<tr><td><code id="nbeta_gradient_+3A_m">m</code></td>
<td>
<p>the frequency ratio, currently ignored</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector of coefficients
</p>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras, Vaidotas Zemlys
</p>

<hr>
<h2 id='nbetaMT'>Normalized beta probability density function MIDAS weights specification (MATLAB toolbox compatible)</h2><span id='topic+nbetaMT'></span>

<h3>Description</h3>

<p>Calculate MIDAS weights according to normalized beta probability density function specification. Compatible with the specification in MATLAB toolbox.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nbetaMT(p, d, m)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="nbetaMT_+3A_p">p</code></td>
<td>
<p>parameters for normalized beta probability density function</p>
</td></tr>
<tr><td><code id="nbetaMT_+3A_d">d</code></td>
<td>
<p>number of coefficients</p>
</td></tr>
<tr><td><code id="nbetaMT_+3A_m">m</code></td>
<td>
<p>the frequency ratio, currently ignored</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector of coefficients
</p>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras, Vaidotas Zemlys
</p>

<hr>
<h2 id='nbetaMT_gradient'>Gradient function for normalized beta probability density function MIDAS weights specification (MATLAB toolbox compatible)</h2><span id='topic+nbetaMT_gradient'></span>

<h3>Description</h3>

<p>Calculate gradient function for normalized beta probability density function specification of MIDAS weights.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nbetaMT_gradient(p, d, m)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="nbetaMT_gradient_+3A_p">p</code></td>
<td>
<p>parameters for normalized beta probability density function</p>
</td></tr>
<tr><td><code id="nbetaMT_gradient_+3A_d">d</code></td>
<td>
<p>number of coefficients</p>
</td></tr>
<tr><td><code id="nbetaMT_gradient_+3A_m">m</code></td>
<td>
<p>the frequency ratio, currently ignored</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector of coefficients
</p>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras, Vaidotas Zemlys
</p>

<hr>
<h2 id='nealmon'>Normalized Exponential Almon lag MIDAS coefficients</h2><span id='topic+nealmon'></span>

<h3>Description</h3>

<p>Calculate normalized exponential Almon lag coefficients given the parameters and required number of coefficients.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nealmon(p, d, m)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="nealmon_+3A_p">p</code></td>
<td>
<p>parameters for Almon lag</p>
</td></tr>
<tr><td><code id="nealmon_+3A_d">d</code></td>
<td>
<p>number of the coefficients</p>
</td></tr>
<tr><td><code id="nealmon_+3A_m">m</code></td>
<td>
<p>the frequency, currently ignored.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Given unrestricted MIDAS regression
</p>
<p style="text-align: center;"><code class="reqn">y_t=\sum_{h=0}^d\theta_{h}x_{tm-h}+\mathbf{z_t}\beta+u_t</code>
</p>

<p>normalized exponential Almon lag restricts the coefficients <code class="reqn">theta_h</code> in the following way:
</p>
<p style="text-align: center;"><code class="reqn">\theta_{h}=\delta\frac{\exp(\lambda_1(h+1)+\dots+\lambda_r(h+1)^r)}{\sum_{s=0}^d\exp(\lambda_1(s+1)+\dots+\lambda_r(h+1)^r)}</code>
</p>

<p>The parameter <code class="reqn">\delta</code> should be the first element in vector <code>p</code>. The degree of the polynomial is then decided by the number of the remaining parameters.
</p>


<h3>Value</h3>

<p>vector of coefficients
</p>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras, Vaidotas Zemlys
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
##Load data
data("USunempr")
data("USrealgdp")

y &lt;- diff(log(USrealgdp))
x &lt;- window(diff(USunempr),start=1949)
t &lt;- 1:length(y)

midas_r(y~t+fmls(x,11,12,nealmon),start=list(x=c(0,0,0)))

</code></pre>

<hr>
<h2 id='nealmon_gradient'>Gradient function for normalized exponential Almon lag weights</h2><span id='topic+nealmon_gradient'></span>

<h3>Description</h3>

<p>Gradient function for normalized exponential Almon lag weights
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nealmon_gradient(p, d, m)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="nealmon_gradient_+3A_p">p</code></td>
<td>
<p>hyperparameters for Almon lag</p>
</td></tr>
<tr><td><code id="nealmon_gradient_+3A_d">d</code></td>
<td>
<p>number of coefficients</p>
</td></tr>
<tr><td><code id="nealmon_gradient_+3A_m">m</code></td>
<td>
<p>the frequency ratio, currently ignored</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the gradient matrix
</p>


<h3>Author(s)</h3>

<p>Vaidotas Zemlys
</p>

<hr>
<h2 id='oos_prec'>Out-of-sample prediction precision data on simulation example</h2><span id='topic+oos_prec'></span>

<h3>Description</h3>

<p>The code in the example generates the out-of-sample prediction precision data for correctly and incorrectly constrained MIDAS regression model compared to unconstrained MIDAS regression model.
</p>


<h3>Format</h3>

<p>A <code>data.frame</code> object with four columns. The first column indicates the sample size, the second the type of constraint, the third the value of the precision measure and the fourth the type of precision measure.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Do not run:
## set.seed(1001)

## gendata&lt;-function(n) {
##     trend&lt;-c(1:n)
##     z&lt;-rnorm(12*n)
##     fn.z &lt;- nealmon(p=c(2,0.5,-0.1),d=17)
##     y&lt;-2+0.1*trend+mls(z,0:16,12)%*%fn.z+rnorm(n)
##     list(y=as.numeric(y),z=z,trend=trend)
## }

## nn &lt;- c(50,100,200,300,500,750,1000)

## data_sets &lt;- lapply(n,gendata)

## mse &lt;- function(x) {
##     mean(residuals(x)^2)
## }

## bnorm &lt;- function(x) {
##     sqrt(sum((coef(x, midas = TRUE)-c(2,0.1,nealmon(p=c(2,0.5,-0.1),d=17)))^2))
## }

## rep1 &lt;- function(n) {
##     dt &lt;- gendata(round(1.25*n))
##     ni &lt;- n    
##     ind &lt;- 1:ni
##     mind &lt;- 1:(ni*12)
##     indt&lt;-list(y=dt$y[ind],z=dt$z[mind],trend=dt$trend[ind])
##     outdt &lt;- list(y=dt$y[-ind],z=dt$z[-mind],trend=dt$trend[-ind])
##     um &lt;- midas_r(y~trend+mls(z,0:16,12),data=indt,start=NULL)
##     nm &lt;- midas_r(y~trend+mls(z,0:16,12,nealmon),data=indt,start=list(z=c(1,-1,0)))
##     am &lt;- midas_r(y~trend+mls(z,0:16,12,almonp),data=indt,start=list(z=c(1,0,0,0)))
##     modl &lt;- list(um,nm,am)
##     names(modl) &lt;- c("um","nm","am")
##     list(norms=sapply(modl,bnorm),
##          mse=sapply(modl,function(mod)mean((forecast(mod,newdata=outdt)-outdt$y)^2)))
## }

## repr &lt;- function(n,R) {
##     cc &lt;- lapply(1:R,function(i)rep1(n))
##     list(norms=t(sapply(cc,"[[","norms")),mse=t(sapply(cc,"[[","mse")))
## }

## res &lt;- lapply(nn,repr,R=1000)

## norms &lt;- data.frame(nn,t(sapply(lapply(res,"[[","norms"),function(l)apply(l,2,mean))))
## mses &lt;- data.frame(nn,t(sapply(lapply(res,"[[","mse"),function(l)apply(l,2,mean))))


## msd &lt;- melt(mses[-1,],id=1)
## colnames(msd)[2] &lt;- "Constraint"
## nmd &lt;- melt(norms[-1,],id=1)
## colnames(nmd)[2] &lt;- "Constraint"

## msd$Type &lt;- "Mean squared error"
## nmd$Type &lt;- "Distance from true values"
## oos_prec &lt;- rbind(msd,nmd)
## oos_prec$Type &lt;- factor(oos_prec$Type,levels=c("Mean squared error","Distance from true values"))
</code></pre>

<hr>
<h2 id='plot_lstr'>Plot MIDAS coefficients</h2><span id='topic+plot_lstr'></span>

<h3>Description</h3>

<p>Plots logistic function for LSTR MIDAS regression
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_lstr(x, term_name, title = NULL, compare = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot_lstr_+3A_x">x</code></td>
<td>
<p><code>midas_r</code> object</p>
</td></tr>
<tr><td><code id="plot_lstr_+3A_term_name">term_name</code></td>
<td>
<p>the term name for which the coefficients are plotted. Default is <code>NULL</code>, which selects the first MIDAS term</p>
</td></tr>
<tr><td><code id="plot_lstr_+3A_title">title</code></td>
<td>
<p>the title string of the graph. The default is <code>NULL</code> for the default title.</p>
</td></tr>
<tr><td><code id="plot_lstr_+3A_compare">compare</code></td>
<td>
<p>the parameters for weight function to compare with the model, default is NULL</p>
</td></tr>
<tr><td><code id="plot_lstr_+3A_...">...</code></td>
<td>
<p>not used</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Plots logistic function for LSTR MIDSAS regression
of unrestricted MIDAS regression
</p>


<h3>Value</h3>

<p>a data frame with restricted MIDAS coefficients, unrestricted MIDAS coefficients and lower and upper confidence interval limits. The data
frame is returned invisibly.
</p>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras, Vaidotas Zemlys
</p>

<hr>
<h2 id='plot_midas_coef'>Plot MIDAS coefficients</h2><span id='topic+plot_midas_coef'></span><span id='topic+plot_midas_coef.midas_r'></span>

<h3>Description</h3>

<p>Plots MIDAS coefficients of a MIDAS regression for a selected term.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_midas_coef(x, term_name, title, ...)

## S3 method for class 'midas_r'
plot_midas_coef(
  x,
  term_name = NULL,
  title = NULL,
  vcov. = sandwich,
  unrestricted = x$unrestricted,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot_midas_coef_+3A_x">x</code></td>
<td>
<p><code>midas_r</code> object</p>
</td></tr>
<tr><td><code id="plot_midas_coef_+3A_term_name">term_name</code></td>
<td>
<p>the term name for which the coefficients are plotted. Default is <code>NULL</code>, which selects the first MIDAS term</p>
</td></tr>
<tr><td><code id="plot_midas_coef_+3A_title">title</code></td>
<td>
<p>the title string of the graph. The default is <code>NULL</code> for the default title.</p>
</td></tr>
<tr><td><code id="plot_midas_coef_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>vcov.</code></p>
</td></tr>
<tr><td><code id="plot_midas_coef_+3A_vcov.">vcov.</code></td>
<td>
<p>the covariance matrix to calculate the standard deviation of the cofficients</p>
</td></tr>
<tr><td><code id="plot_midas_coef_+3A_unrestricted">unrestricted</code></td>
<td>
<p>the unrestricted model, the default is unrestricted model from the <code>x</code> object. Set NULL to plot only the weights.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Plots MIDAS coefficients of a selected MIDAS regression term together with corresponding MIDAS coefficients and their confidence intervals
of unrestricted MIDAS regression
</p>


<h3>Value</h3>

<p>a data frame with restricted MIDAS coefficients, unrestricted MIDAS coefficients and lower and upper confidence interval limits. The data
frame is returned invisibly.
</p>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras, Vaidotas Zemlys
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("USrealgdp")
data("USunempr")

y &lt;- diff(log(USrealgdp))
x &lt;- window(diff(USunempr), start = 1949)
trend &lt;- 1:length(y)

##24 high frequency lags of x included
mr &lt;- midas_r(y ~ trend + fmls(x, 23, 12, nealmon), start = list(x = rep(0, 3)))

plot_midas_coef(mr)
</code></pre>

<hr>
<h2 id='plot_midas_coef.midas_nlpr'>Plot MIDAS coefficients</h2><span id='topic+plot_midas_coef.midas_nlpr'></span>

<h3>Description</h3>

<p>Plots MIDAS coefficients of a MIDAS regression for a selected term.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'midas_nlpr'
plot_midas_coef(
  x,
  term_name = NULL,
  title = NULL,
  compare = NULL,
  normalize = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot_midas_coef.midas_nlpr_+3A_x">x</code></td>
<td>
<p><code>midas_r</code> object</p>
</td></tr>
<tr><td><code id="plot_midas_coef.midas_nlpr_+3A_term_name">term_name</code></td>
<td>
<p>the term name for which the coefficients are plotted. Default is <code>NULL</code>, which selects the first MIDAS term</p>
</td></tr>
<tr><td><code id="plot_midas_coef.midas_nlpr_+3A_title">title</code></td>
<td>
<p>the title string of the graph. The default is <code>NULL</code> for the default title.</p>
</td></tr>
<tr><td><code id="plot_midas_coef.midas_nlpr_+3A_compare">compare</code></td>
<td>
<p>the parameters for weight function to compare with the model, default is NULL</p>
</td></tr>
<tr><td><code id="plot_midas_coef.midas_nlpr_+3A_normalize">normalize</code></td>
<td>
<p>logical, if FALSE use the weight from the model, if TRUE, set the normalization coefficient of the weight function to 1.</p>
</td></tr>
<tr><td><code id="plot_midas_coef.midas_nlpr_+3A_...">...</code></td>
<td>
<p>not used</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Plots MIDAS coefficients of a selected MIDAS regression term together with corresponding MIDAS coefficients and their confidence intervals
of unrestricted MIDAS regression
</p>


<h3>Value</h3>

<p>a data frame with restricted MIDAS coefficients, unrestricted MIDAS coefficients and lower and upper confidence interval limits. The data
frame is returned invisibly.
</p>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras, Vaidotas Zemlys
</p>

<hr>
<h2 id='plot_sp'>Plot non-parametric part of the single index MIDAS regression</h2><span id='topic+plot_sp'></span>

<h3>Description</h3>

<p>Plot non-parametric part of the single index MIDAS regression
of unrestricted MIDAS regression
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_sp(x, term_name, title = NULL, compare = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot_sp_+3A_x">x</code></td>
<td>
<p><code>midas_r</code> object</p>
</td></tr>
<tr><td><code id="plot_sp_+3A_term_name">term_name</code></td>
<td>
<p>the term name for which the coefficients are plotted. Default is <code>NULL</code>, which selects the first MIDAS term</p>
</td></tr>
<tr><td><code id="plot_sp_+3A_title">title</code></td>
<td>
<p>the title string of the graph. The default is <code>NULL</code> for the default title.</p>
</td></tr>
<tr><td><code id="plot_sp_+3A_compare">compare</code></td>
<td>
<p>the parameters for weight function to compare with the model, default is NULL</p>
</td></tr>
<tr><td><code id="plot_sp_+3A_...">...</code></td>
<td>
<p>not used</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data frame with restricted MIDAS coefficients, unrestricted MIDAS coefficients and lower and upper confidence interval limits. The data
frame is returned invisibly.
</p>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras, Vaidotas Zemlys
</p>

<hr>
<h2 id='polystep'>Step function specification for MIDAS weights</h2><span id='topic+polystep'></span>

<h3>Description</h3>

<p>Step function specification for MIDAS weights
</p>


<h3>Usage</h3>

<pre><code class='language-R'>polystep(p, d, m, a)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="polystep_+3A_p">p</code></td>
<td>
<p>vector of parameters</p>
</td></tr>
<tr><td><code id="polystep_+3A_d">d</code></td>
<td>
<p>number of coefficients</p>
</td></tr>
<tr><td><code id="polystep_+3A_m">m</code></td>
<td>
<p>the frequency ratio, currently ignored</p>
</td></tr>
<tr><td><code id="polystep_+3A_a">a</code></td>
<td>
<p>vector of increasing positive integers indicating the steps</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector of coefficients
</p>


<h3>Author(s)</h3>

<p>Vaidotas Zemlys
</p>

<hr>
<h2 id='polystep_gradient'>Gradient of step function specification for MIDAS weights</h2><span id='topic+polystep_gradient'></span>

<h3>Description</h3>

<p>Gradient of step function specification for MIDAS weights
</p>


<h3>Usage</h3>

<pre><code class='language-R'>polystep_gradient(p, d, m, a)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="polystep_gradient_+3A_p">p</code></td>
<td>
<p>vector of parameters</p>
</td></tr>
<tr><td><code id="polystep_gradient_+3A_d">d</code></td>
<td>
<p>number of coefficients</p>
</td></tr>
<tr><td><code id="polystep_gradient_+3A_m">m</code></td>
<td>
<p>the frequency ratio, currently ignored</p>
</td></tr>
<tr><td><code id="polystep_gradient_+3A_a">a</code></td>
<td>
<p>vector of increasing positive integers indicating the steps</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector of coefficients
</p>


<h3>Author(s)</h3>

<p>Vaidotas Zemlys
</p>

<hr>
<h2 id='predict.midas_nlpr'>Predict method for non-linear parametric MIDAS regression fit</h2><span id='topic+predict.midas_nlpr'></span>

<h3>Description</h3>

<p>Predicted values based on <code>midas_nlpr</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'midas_nlpr'
predict(object, newdata, na.action = na.omit, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="predict.midas_nlpr_+3A_object">object</code></td>
<td>
<p><code><a href="#topic+midas_nlpr">midas_nlpr</a></code> object</p>
</td></tr>
<tr><td><code id="predict.midas_nlpr_+3A_newdata">newdata</code></td>
<td>
<p>a named list containing data for mixed frequencies. If omitted, the in-sample values are used.</p>
</td></tr>
<tr><td><code id="predict.midas_nlpr_+3A_na.action">na.action</code></td>
<td>
<p>function determining what should be done with missing values in <code>newdata</code>. The most likely cause of missing values is the insufficient data for the lagged variables. The default is to omit such missing values.</p>
</td></tr>
<tr><td><code id="predict.midas_nlpr_+3A_...">...</code></td>
<td>
<p>additional arguments, not used</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>predict.midas_nlpr</code> produces predicted values, obtained by evaluating regression function in the frame <code>newdata</code>. This means that the appropriate model matrix is constructed using only the data in <code>newdata</code>. This makes this function not very convenient for forecasting purposes. If you want to supply the new data for forecasting horizon only use the function <a href="#topic+forecast.midas_r">forecast.midas_r</a>. Also this function produces only static predictions, if you want dynamic forecasts use the <a href="#topic+forecast.midas_r">forecast.midas_r</a>.
</p>


<h3>Value</h3>

<p>a vector of predicted values
</p>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras, Vaidotas Zemlys
</p>

<hr>
<h2 id='predict.midas_r'>Predict method for MIDAS regression fit</h2><span id='topic+predict.midas_r'></span>

<h3>Description</h3>

<p>Predicted values based on <code>midas_r</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'midas_r'
predict(object, newdata, na.action = na.omit, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="predict.midas_r_+3A_object">object</code></td>
<td>
<p><code><a href="#topic+midas_r">midas_r</a></code> object</p>
</td></tr>
<tr><td><code id="predict.midas_r_+3A_newdata">newdata</code></td>
<td>
<p>a named list containing data for mixed frequencies. If omitted, the in-sample values are used.</p>
</td></tr>
<tr><td><code id="predict.midas_r_+3A_na.action">na.action</code></td>
<td>
<p>function determining what should be done with missing values in <code>newdata</code>. The most likely cause of missing values is the insufficient data for the lagged variables. The default is to omit such missing values.</p>
</td></tr>
<tr><td><code id="predict.midas_r_+3A_...">...</code></td>
<td>
<p>additional arguments, not used</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>predict.midas_r</code> produces predicted values, obtained by evaluating regression function in the frame <code>newdata</code>. This means that the appropriate model matrix is constructed using only the data in <code>newdata</code>. This makes this function not very convenient for forecasting purposes. If you want to supply the new data for forecasting horizon only use the function <a href="#topic+forecast.midas_r">forecast.midas_r</a>. Also this function produces only static predictions, if you want dynamic forecasts use the <a href="#topic+forecast.midas_r">forecast.midas_r</a>.
</p>


<h3>Value</h3>

<p>a vector of predicted values
</p>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras, Vaidotas Zemlys
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("USrealgdp")
data("USunempr")

y &lt;- diff(log(USrealgdp))
x &lt;- window(diff(USunempr), start = 1949)

##24 high frequency lags of x included
mr &lt;- midas_r(y ~ fmls(x, 23, 12, nealmon), start = list(x = rep(0, 3)))

##Declining unemployment
xn &lt;- rnorm(2 * 12, -0.1, 0.1)

##Only one predicted value, historical values discarded
predict(mr, list(x = xn))

##Historical values taken into account
forecast(mr, list(x = xn))
</code></pre>

<hr>
<h2 id='predict.midas_sp'>Predict method for semi-parametric MIDAS regression fit</h2><span id='topic+predict.midas_sp'></span>

<h3>Description</h3>

<p>Predicted values based on <code>midas_sp</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'midas_sp'
predict(object, newdata, na.action = na.omit, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="predict.midas_sp_+3A_object">object</code></td>
<td>
<p><code><a href="#topic+midas_nlpr">midas_nlpr</a></code> object</p>
</td></tr>
<tr><td><code id="predict.midas_sp_+3A_newdata">newdata</code></td>
<td>
<p>a named list containing data for mixed frequencies. If omitted, the in-sample values are used.</p>
</td></tr>
<tr><td><code id="predict.midas_sp_+3A_na.action">na.action</code></td>
<td>
<p>function determining what should be done with missing values in <code>newdata</code>. The most likely cause of missing values is the insufficient data for the lagged variables. The default is to omit such missing values.</p>
</td></tr>
<tr><td><code id="predict.midas_sp_+3A_...">...</code></td>
<td>
<p>additional arguments, not used</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>predict.midas_sp</code> produces predicted values, obtained by evaluating regression function in the frame <code>newdata</code>. This means that the appropriate model matrix is constructed using only the data in <code>newdata</code>. This makes this function not very convenient for forecasting purposes. If you want to supply the new data for forecasting horizon only use the function <a href="#topic+forecast.midas_r">forecast.midas_r</a>. Also this function produces only static predictions, if you want dynamic forecasts use the <a href="#topic+forecast.midas_r">forecast.midas_r</a>.
</p>


<h3>Value</h3>

<p>a vector of predicted values
</p>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras, Vaidotas Zemlys-Balevičius
</p>

<hr>
<h2 id='prep_hAh'>Calculate data for <a href="#topic+hAh_test">hAh_test</a> and <a href="#topic+hAhr_test">hAhr_test</a></h2><span id='topic+prep_hAh'></span>

<h3>Description</h3>

<p>Workhorse function for calculating necessary matrices for <a href="#topic+hAh_test">hAh_test</a> and <a href="#topic+hAhr_test">hAhr_test</a>. Takes the same parameters as <a href="#topic+hAh_test">hAh_test</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prep_hAh(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prep_hAh_+3A_x">x</code></td>
<td>
<p><code>midas_r</code> object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list with necessary matrices
</p>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras, Vaidotas Zemlys
</p>


<h3>See Also</h3>

<p>hAh_test, hAhr_test
</p>

<hr>
<h2 id='rvsp500'>Realized volatility of S&amp;P500 index</h2><span id='topic+rvsp500'></span>

<h3>Description</h3>

<p>Realized volatility of S&amp;P500(Live) index of the period 2000 01 03 - 2013 11 22
</p>


<h3>Format</h3>

<p>A <code>data.frame</code> object with two columns. First column contains date id, and the second the realized volatility for S&amp;P500 index.
</p>


<h3>Source</h3>

<p><a href="https://realized.oxford-man.ox.ac.uk/images/oxfordmanrealizedvolatilityindices-0.2-final.zip">https://realized.oxford-man.ox.ac.uk/images/oxfordmanrealizedvolatilityindices-0.2-final.zip</a>
</p>


<h3>References</h3>

<p>Heber, Gerd and Lunde, Asger, and Shephard, Neil and Sheppard, Kevin <em>Oxford-Man Institute's realized library</em>, Oxford-Man Institute, University of Oxford (2009)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Do not run:
## Download the data from
## https://realized.oxford-man.ox.ac.uk/images/oxfordmanrealizedvolatilityindices-0.2-final.zip
## It contains the file OxfordManRealizedVolatilityIndices.csv.

## rvi &lt;- read.csv("OxfordManRealizedVolatilityIndices.csv",check.names=FALSE,skip=2)
## ii &lt;- which(rvi$DateID=="20131112")
## rvsp500 &lt;- na.omit(rvi[1:ii,c("DataID","SPX2.rv")]
</code></pre>

<hr>
<h2 id='select_and_forecast'>Create table for different forecast horizons</h2><span id='topic+select_and_forecast'></span>

<h3>Description</h3>

<p>Creates tables for different forecast horizons and table for combined forecasts
</p>


<h3>Usage</h3>

<pre><code class='language-R'>select_and_forecast(
  formula,
  data,
  from,
  to,
  insample,
  outsample,
  weights,
  wstart,
  start = NULL,
  IC = "AIC",
  seltype = c("restricted", "unrestricted"),
  test = "hAh_test",
  ftype = c("fixed", "recursive", "rolling"),
  measures = c("MSE", "MAPE", "MASE"),
  fweights = c("EW", "BICW", "MSFE", "DMSFE"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="select_and_forecast_+3A_formula">formula</code></td>
<td>
<p>initial formula for the</p>
</td></tr>
<tr><td><code id="select_and_forecast_+3A_data">data</code></td>
<td>
<p>list of data</p>
</td></tr>
<tr><td><code id="select_and_forecast_+3A_from">from</code></td>
<td>
<p>a named list of starts of lags from where to fit. Denotes the horizon</p>
</td></tr>
<tr><td><code id="select_and_forecast_+3A_to">to</code></td>
<td>
<p>a named list for lag selections</p>
</td></tr>
<tr><td><code id="select_and_forecast_+3A_insample">insample</code></td>
<td>
<p>the low frequency indexes for in-sample data</p>
</td></tr>
<tr><td><code id="select_and_forecast_+3A_outsample">outsample</code></td>
<td>
<p>the low frequency indexes for out-of-sample data</p>
</td></tr>
<tr><td><code id="select_and_forecast_+3A_weights">weights</code></td>
<td>
<p>names of weight function candidates</p>
</td></tr>
<tr><td><code id="select_and_forecast_+3A_wstart">wstart</code></td>
<td>
<p>starting values for weight functions</p>
</td></tr>
<tr><td><code id="select_and_forecast_+3A_start">start</code></td>
<td>
<p>other starting values</p>
</td></tr>
<tr><td><code id="select_and_forecast_+3A_ic">IC</code></td>
<td>
<p>name of information criteria to choose model from</p>
</td></tr>
<tr><td><code id="select_and_forecast_+3A_seltype">seltype</code></td>
<td>
<p>argument to modsel, <code>"restricted"</code> for model selection based on information criteria of restricted MIDAS model, <code>"unrestricted"</code> for model selection based on unrestricted (U-MIDAS) model.</p>
</td></tr>
<tr><td><code id="select_and_forecast_+3A_test">test</code></td>
<td>
<p>argument to modsel</p>
</td></tr>
<tr><td><code id="select_and_forecast_+3A_ftype">ftype</code></td>
<td>
<p>which type of forecast to use.</p>
</td></tr>
<tr><td><code id="select_and_forecast_+3A_measures">measures</code></td>
<td>
<p>the names of goodness of fit measures</p>
</td></tr>
<tr><td><code id="select_and_forecast_+3A_fweights">fweights</code></td>
<td>
<p>names of weighting schemes</p>
</td></tr>
<tr><td><code id="select_and_forecast_+3A_...">...</code></td>
<td>
<p>additional arguments for optimisation method, see <a href="#topic+midas_r">midas_r</a></p>
</td></tr>
</table>


<h3>Details</h3>

<p>Divide data into in-sample and out-of-sample. Fit different forecasting horizons for in-sample data. Calculate accuracy measures for individual and average forecasts.
</p>


<h3>Value</h3>

<p>a list containing forecasts, tables of accuracy measures and the list with selected models
</p>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras, Vaidotas Zemlys
</p>


<h3>Examples</h3>

<pre><code class='language-R'>### Sets a seed for RNG ###
set.seed(1001)  
## Number of low-frequency observations
n&lt;-250
## Linear trend and higher-frequency explanatory variables (e.g. quarterly and monthly)
trend&lt;-c(1:n)
x&lt;-rnorm(4*n)
z&lt;-rnorm(12*n)
## Exponential Almon polynomial constraint-consistent coefficients
fn.x &lt;- nealmon(p=c(1,-0.5),d=8)
fn.z &lt;- nealmon(p=c(2,0.5,-0.1),d=17)
## Simulated low-frequency series (e.g. yearly)
y&lt;-2+0.1*trend+mls(x,0:7,4)%*%fn.x+mls(z,0:16,12)%*%fn.z+rnorm(n)
##Do not run
## cbfc&lt;-select_and_forecast(y~trend+mls(x,0,4)+mls(z,0,12),
## from=list(x=c(4,8,12),z=c(12,24,36)),
## to=list(x=rbind(c(14,19),c(18,23),c(22,27)),z=rbind(c(22,27),c(34,39),c(46,51))),
## insample=1:200,outsample=201:250,
## weights=list(x=c("nealmon","almonp"),z=c("nealmon","almonp")),
## wstart=list(nealmon=rep(1,3),almonp=rep(1,3)),
## IC="AIC",
## seltype="restricted",
## ftype="fixed",
## measures=c("MSE","MAPE","MASE"),
## fweights=c("EW","BICW","MSFE","DMSFE")
## )

</code></pre>

<hr>
<h2 id='simulate.midas_r'>Simulate MIDAS regression response</h2><span id='topic+simulate.midas_r'></span><span id='topic+simulate'></span>

<h3>Description</h3>

<p>Simulates one or more responses from the distribution corresponding to a fitted MIDAS regression object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'midas_r'
simulate(
  object,
  nsim = 999,
  seed = NULL,
  future = TRUE,
  newdata = NULL,
  insample = NULL,
  method = c("static", "dynamic"),
  innov = NULL,
  show_progress = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="simulate.midas_r_+3A_object">object</code></td>
<td>
<p><code><a href="#topic+midas_r">midas_r</a></code> object</p>
</td></tr>
<tr><td><code id="simulate.midas_r_+3A_nsim">nsim</code></td>
<td>
<p>number of simulations</p>
</td></tr>
<tr><td><code id="simulate.midas_r_+3A_seed">seed</code></td>
<td>
<p>either NULL or an integer that will be used in a call to set.seed before simulating the time series. The default, NULL will not change the random generator state.</p>
</td></tr>
<tr><td><code id="simulate.midas_r_+3A_future">future</code></td>
<td>
<p>logical, if <code>TRUE</code> forecasts are simulated, if <code>FALSE</code> in-sample simulation is performed.</p>
</td></tr>
<tr><td><code id="simulate.midas_r_+3A_newdata">newdata</code></td>
<td>
<p>a named list containing future values of mixed frequency regressors.  The default is <code>NULL</code>, meaning that only in-sample data is used.</p>
</td></tr>
<tr><td><code id="simulate.midas_r_+3A_insample">insample</code></td>
<td>
<p>a list containing the historic mixed frequency data</p>
</td></tr>
<tr><td><code id="simulate.midas_r_+3A_method">method</code></td>
<td>
<p>the simulation method, if <code>"static"</code> in-sample values for dependent variable are used in autoregressive MIDAS model, if <code>"dynamic"</code>
the dependent variable values are calculated step-by-step from the initial in-sample values.</p>
</td></tr>
<tr><td><code id="simulate.midas_r_+3A_innov">innov</code></td>
<td>
<p>a matrix containing the simulated innovations. The default is <code>NULL</code>, meaning, that innovations are simulated from model residuals.</p>
</td></tr>
<tr><td><code id="simulate.midas_r_+3A_show_progress">show_progress</code></td>
<td>
<p>logical, TRUE to show progress bar, FALSE for silent evaluation</p>
</td></tr>
<tr><td><code id="simulate.midas_r_+3A_...">...</code></td>
<td>
<p>not used currently</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Only the regression innovations are simulated, it is assumed that the predictor variables and coefficients are fixed. The
innovation distribution is simulated via bootstrap.
</p>


<h3>Value</h3>

<p>a matrix of simulated responses. Each row contains a simulated response.
</p>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras, Vaidotas Zemlys
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("USrealgdp")
data("USunempr")

y &lt;- diff(log(USrealgdp))
x &lt;- window(diff(USunempr), start = 1949)
trend &lt;- 1:length(y)

##24 high frequency lags of x included
mr &lt;- midas_r(y ~ trend + fmls(x, 23, 12, nealmon), start = list(x = rep(0, 3)))

simulate(mr, nsim=10, future=FALSE)

##Forecast horizon
h &lt;- 3
##Declining unemployment
xn &lt;- rep(-0.1, 12*3)
##New trend values
trendn &lt;- length(y) + 1:h

simulate(mr, nsim = 10, future = TRUE, newdata = list(trend = trendn, x = xn))
</code></pre>

<hr>
<h2 id='split_data'>Split mixed frequency data into in-sample and out-of-sample</h2><span id='topic+split_data'></span>

<h3>Description</h3>

<p>Splits mixed frequency data into in-sample and out-of-sample datasets given the indexes of the low frequency data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>split_data(data, insample, outsample)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="split_data_+3A_data">data</code></td>
<td>
<p>a list containing mixed frequency data</p>
</td></tr>
<tr><td><code id="split_data_+3A_insample">insample</code></td>
<td>
<p>the low frequency indexes for in-sample data</p>
</td></tr>
<tr><td><code id="split_data_+3A_outsample">outsample</code></td>
<td>
<p>the low frequency indexes for out-of-sample data</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It is assumed that data is a list containing mixed frequency data. Then given the indexes of the low frequency data the function splits the data into two subsets.
</p>


<h3>Value</h3>

<p>a list with elements <code>indata</code> and <code>outdata</code> containing respectively in-sample and out-of-sample data sets
</p>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras, Vaidotas Zemlys
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
#Monthly data
x &lt;- 1:24
#Quartely data
z &lt;- 1:8
#Yearly data
y &lt;- 1:2
split_data(list(y=y,x=x,z=z),insample=1,outsample=2)
</code></pre>

<hr>
<h2 id='update_weights'>Updates weights in MIDAS regression formula</h2><span id='topic+update_weights'></span>

<h3>Description</h3>

<p>Updates weights in a expression with MIDAS term
</p>


<h3>Usage</h3>

<pre><code class='language-R'>update_weights(expr, tb)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="update_weights_+3A_expr">expr</code></td>
<td>
<p>expression with MIDAS term</p>
</td></tr>
<tr><td><code id="update_weights_+3A_tb">tb</code></td>
<td>
<p>a named list with redefined weights</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For a MIDAS term <code>fmls(x, 6, 1, nealmon)</code> change weight <code>nealmon</code> to another weight.
</p>


<h3>Value</h3>

<p>an expression with changed weights
</p>


<h3>Author(s)</h3>

<p>Vaidotas Zemlys
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
update_weights(y~trend+mls(x,0:7,4,nealmon)+mls(z,0:16,12,nealmon),list(x = "nbeta", z = ""))

</code></pre>

<hr>
<h2 id='UScpiqs'>US quartely seasonaly adjusted consumer price index</h2><span id='topic+UScpiqs'></span>

<h3>Description</h3>

<p>US quarterly CPI from 1960Q1 to 2017Q3s. Seasonaly adjusted, Index 2015=1
</p>


<h3>Format</h3>

<p>A <code><a href="base.html#topic+data.frame">data.frame</a></code> object.
</p>


<h3>Source</h3>

<p><a href="https://fred.stlouisfed.org/series/CPALTT01USQ661S">FRED</a>
</p>

<hr>
<h2 id='USeffrw'>US weekly effective federal funds rate.</h2><span id='topic+USeffrw'></span>

<h3>Description</h3>

<p>US weekly effective federal funds rate from 1954-07-07 to 2017-12-13
</p>


<h3>Format</h3>

<p>A <code><a href="base.html#topic+data.frame">data.frame</a></code> object.
</p>


<h3>Source</h3>

<p><a href="https://fred.stlouisfed.org/series/DFF">FRED</a>
</p>

<hr>
<h2 id='USpayems'>United States total employment non-farms payroll, monthly, seasonally adjusted.</h2><span id='topic+USpayems'></span>

<h3>Description</h3>

<p>United States total employment non-farms payroll, monthly, seasonally adjusted. Retrieved from FRED, symbol &quot;PAYEMS&quot; at 2014-04-25.
</p>


<h3>Format</h3>

<p>A <code><a href="stats.html#topic+ts">ts</a></code> object.
</p>


<h3>Source</h3>

<p><a href="https://fred.stlouisfed.org/series/PAYEMS">FRED, Federal Reserve Economic Data, from the Federal Reserve Bank of St. Louis</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Do not run:
## library(quantmod)
## USpayems &lt;- ts(getSymbols("PAYEMS",src="FRED",auto.assign=FALSE),start=c(1939,1),frequency=12)
</code></pre>

<hr>
<h2 id='USqgdp'>United States gross domestic product, quarterly, seasonaly adjusted annual rate.</h2><span id='topic+USqgdp'></span>

<h3>Description</h3>

<p>United States gross domestic product, quarterly, seasonaly adjusted annual rate. Retrieved from FRED, symbol &quot;GDP&quot; at 2014-04-25.
</p>


<h3>Format</h3>

<p>A <code><a href="stats.html#topic+ts">ts</a></code> object.
</p>


<h3>Source</h3>

<p><a href="https://fred.stlouisfed.org/series/GDP">FRED, Federal Reserve Economic Data, from the Federal Reserve Bank of St. Louis</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Do not run:
## library(quantmod)
## USqgdp &lt;- ts(getSymbols("GDP",src="FRED",auto.assign=FALSE),start=c(1947,1),frequency=4)
</code></pre>

<hr>
<h2 id='USrealgdp'>US annual gross domestic product in billions of chained 2005 dollars</h2><span id='topic+USrealgdp'></span>

<h3>Description</h3>

<p>The annual gross domestic product in billions of chained 2005 dollars for US from 1948 to 2011. 
This data is kept for historical purposes, newer data is in 2012 chained dollars.
</p>


<h3>Format</h3>

<p>A <code><a href="stats.html#topic+ts">ts</a></code> object.
</p>


<h3>Source</h3>

<p><a href="https://fred.stlouisfed.org/series/GDPC1">U.S. Department of Commerce, Bureau of Economic Analysis</a>
</p>

<hr>
<h2 id='USunempr'>US monthly unemployment rate</h2><span id='topic+USunempr'></span>

<h3>Description</h3>

<p>The monthly unemployment rate for United States from 1948 to 2011.
</p>


<h3>Format</h3>

<p>A <code><a href="stats.html#topic+ts">ts</a></code> object.
</p>


<h3>Source</h3>

<p><a href="https://fred.stlouisfed.org/series/UNRATE">FRED</a>
</p>

<hr>
<h2 id='weights_table'>Create a weight function selection table for MIDAS regression model</h2><span id='topic+weights_table'></span>

<h3>Description</h3>

<p>Creates a weight function selection table for MIDAS regression model with given information criteria and weight functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>weights_table(
  formula,
  data,
  start = NULL,
  IC = c("AIC", "BIC"),
  test = c("hAh_test"),
  Ofunction = "optim",
  weight_gradients = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="weights_table_+3A_formula">formula</code></td>
<td>
<p>the formula for MIDAS regression, the lag selection is performed for the last MIDAS lag term in the formula</p>
</td></tr>
<tr><td><code id="weights_table_+3A_data">data</code></td>
<td>
<p>a list containing data with mixed frequencies</p>
</td></tr>
<tr><td><code id="weights_table_+3A_start">start</code></td>
<td>
<p>the starting values for optimisation</p>
</td></tr>
<tr><td><code id="weights_table_+3A_ic">IC</code></td>
<td>
<p>the information criteria which to compute</p>
</td></tr>
<tr><td><code id="weights_table_+3A_test">test</code></td>
<td>
<p>the names of statistical tests to perform on restricted model, p-values are reported in the columns of model selection table</p>
</td></tr>
<tr><td><code id="weights_table_+3A_ofunction">Ofunction</code></td>
<td>
<p>see <a href="#topic+midasr">midasr</a></p>
</td></tr>
<tr><td><code id="weights_table_+3A_weight_gradients">weight_gradients</code></td>
<td>
<p>see <a href="#topic+midas_r">midas_r</a></p>
</td></tr>
<tr><td><code id="weights_table_+3A_...">...</code></td>
<td>
<p>additional parameters to optimisation function, see <a href="#topic+midas_r">midas_r</a></p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function estimates models sequentially increasing the midas lag from <code>kmin</code> to <code>kmax</code> of the last term of the given formula
</p>


<h3>Value</h3>

<p>a <code>midas_r_ic_table</code> object which is the list with the following elements:
</p>
<table role = "presentation">
<tr><td><code>table</code></td>
<td>
<p>the table where each row contains calculated information criteria for both restricted and unrestricted MIDAS regression model with given lag structure</p>
</td></tr>
<tr><td><code>candlist</code></td>
<td>
<p>the list containing fitted models</p>
</td></tr>
<tr><td><code>IC</code></td>
<td>
<p>the argument IC</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Virmantas Kvedaras, Vaidotas Zemlys
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data("USunempr")
data("USrealgdp")
y &lt;- diff(log(USrealgdp))
x &lt;- window(diff(USunempr),start=1949)
trend &lt;- 1:length(y)
mwr &lt;- weights_table(y~trend+fmls(x,12,12,nealmon),
                     start=list(x=list(nealmon=rep(0,3),
                     nbeta=c(1,1,1,0))))

mwr

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package sotkanet</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {sotkanet}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#sotkanet-package'><p>sotkanet: Sotkanet Open Data Access and Analysis</p></a></li>
<li><a href='#+25+26gt+3B+25'><p>Pipe operator</p></a></li>
<li><a href='#get_sotkanet'><p>Retrieve Sotkanet Data</p></a></li>
<li><a href='#GetDataSotkanet'><p>Retrieve Sotkanet Data (old version)</p></a></li>
<li><a href='#sotkanet_cite'><p>Crate a Data Bibliography</p></a></li>
<li><a href='#sotkanet_clean_cache'><p>Clean sotkanet Cache</p></a></li>
<li><a href='#sotkanet_fixity'><p>Calculate fixity checksum for an object</p></a></li>
<li><a href='#sotkanet_indicator_metadata'><p>Sotkanet Indicator Metadata</p></a></li>
<li><a href='#sotkanet_indicators'><p>Sotkanet Indicators</p></a></li>
<li><a href='#sotkanet_interactive'><p>Interactive function for get_sotkanet</p></a></li>
<li><a href='#sotkanet_read_cache'><p>Read cache for sotkanet data.frame</p></a></li>
<li><a href='#sotkanet_regions'><p>Sotkanet Regions</p></a></li>
<li><a href='#sotkanet_write_cache'><p>Write sotkanet data.frame into cache</p></a></li>
<li><a href='#sotkanet.csv_query'><p>Retrieve Sotkanet Data (csv)</p></a></li>
<li><a href='#sotkanet.json_query'><p>Retrieve Sotkanet Data (json)</p></a></li>
<li><a href='#SotkanetIndicatorMetadata'><p>Sotkanet Indicator Metadata. (old version)</p></a></li>
<li><a href='#SotkanetIndicators'><p>Sotkanet Indicators (old version)</p></a></li>
<li><a href='#SotkanetRegions'><p>Sotkanet Regions (old version)</p></a></li>
<li><a href='#test_connection'><p>Test for internet connection, timeout and status</p></a></li>
<li><a href='#write_frictionless_metadata'><p>Writes the sotkanet data.frame in datapackage form</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Sotkanet Open Data Access and Analysis</td>
</tr>
<tr>
<td>Version:</td>
<td>0.10.1</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-07-10</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Description:</td>
<td>Access statistical information on welfare and health in Finland 
    from the Sotkanet open data portal <a href="https://sotkanet.fi/sotkanet/fi/index">https://sotkanet.fi/sotkanet/fi/index</a>.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/BSD-2-Clause">BSD_2_clause</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://ropengov.github.io/sotkanet/">https://ropengov.github.io/sotkanet/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/ropengov/sotkanet/issues">https://github.com/ropengov/sotkanet/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.2)</td>
</tr>
<tr>
<td>Imports:</td>
<td>curl, lubridate, RefManageR, digest, frictionless, httr2,
magrittr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>remotes, ggplot2, knitr, testthat (&ge; 3.0.0), roxygen2,
markdown, kableExtra, rmarkdown, covr, ggrepel</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/Needs/website:</td>
<td>geofi, dplyr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>X-schema.org-isPartOf:</td>
<td>http://ropengov.org/</td>
</tr>
<tr>
<td>X-schema.org-keywords:</td>
<td>ropengov</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-07-10 08:04:21 UTC; leo</td>
</tr>
<tr>
<td>Author:</td>
<td>Leo Lahti <a href="https://orcid.org/0000-0001-5537-637X"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre],
  Einari Happonen [aut],
  Joona Lehtomaki [ctb],
  Juuso Parkkinen [ctb],
  Vesa Saaristo [ctb],
  Pyry Kantanen <a href="https://orcid.org/0000-0003-2853-2765"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Aleksi Lahtinen <a href="https://orcid.org/0009-0009-9640-5187"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Leo Lahti &lt;leo.lahti@iki.fi&gt;</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-07-10 08:20:01 UTC</td>
</tr>
</table>
<hr>
<h2 id='sotkanet-package'>sotkanet: Sotkanet Open Data Access and Analysis</h2><span id='topic+sotkanet-package'></span><span id='topic+sotkanet'></span>

<h3>Description</h3>

<p>The 'sotkanet' R package aims to make retrieval of sotkanet 
indicator data easy using R. Sotkanet.fi Statistics and Indicator Bank is
maintained by The Finnish Institute for Health and Welfare and it
contains data on population welfare and health from 1990 onwards.
</p>


<h3>sotkanet functions</h3>

<p>The main ways to interact with Sotkanet REST API are with the
following functions: <code><a href="#topic+GetDataSotkanet">GetDataSotkanet</a></code> for downloading data 
from specific indicator(s), <code><a href="#topic+SotkanetIndicators">SotkanetIndicators</a></code> for 
retrieving metadata on all or user specified indicators as a well 
defined list and <code><a href="#topic+SotkanetIndicatorMetadata">SotkanetIndicatorMetadata</a></code> as a 
specialized case returning an untruncated (&quot;raw&quot;) output as default.
</p>


<h3>Attribution and licensing</h3>

<p>For citing this package, see <code>citation("sotkanet")</code>
</p>
<p>For terms of use of Sotkanet data, see THL 
<a href="https://yhteistyotilat.fi/wiki08/x/E4CkAQ">Sotkanet REST API 
documentation</a> (in Finnish). 
</p>
<p>A short and unofficial English summary of the Finnish Terms of use is as
follows: The end user of this package should note that
</p>

<ul>
<li><p>metadata related to regional classifications and indicators is 
released under a <a href="https://creativecommons.org/licenses/by/4.0/">Creative 
Commons Attribution 4.0 license (CC BY 4.0)</a>,
</p>
</li>
<li><p>statistical data and indicators <strong>produced by THL</strong> are 
likewise released under a CC BY 4.0 license,
</p>
</li>
<li><p>statistical data and indicators produced by <strong>other parties 
than THL</strong> should be only used in accordance with a separate agreement.
</p>
</li></ul>

<p>CC BY 4.0 terms state that when using data accessed through the sotkanet 
API you should always give appropriate credit to Sotkanet as a data 
source and include a link to sotkanet website: <em>https://sotkanet.fi</em>. 
In the case of individual indicators, the producer of the indicator 
should also be attributed separately.
</p>
<p>This information is subject to change and the developers of this package
cannot guarantee that information stated here is correct. This unofficial
English translation related to data terms of use is provided solely
as a convenience to the end user. The user of this package should always 
check the full text of Sotkanet terms of use from the original source 
(see the link above to Sotkanet REST API documentation).
</p>


<h3>Basic information about the package</h3>


<table>
<tr>
 <td style="text-align: left;">
  Package: </td><td style="text-align: left;"> sotkanet</td>
</tr>
<tr>
 <td style="text-align: left;">
  Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
  Version: </td><td style="text-align: left;"> See sessionInfo() or DESCRIPTION file</td>
</tr>
<tr>
 <td style="text-align: left;">
  Date: </td><td style="text-align: left;"> 2013-2024</td>
</tr>
<tr>
 <td style="text-align: left;">
  License: </td><td style="text-align: left;"> BSD 2-clause License</td>
</tr>
<tr>
 <td style="text-align: left;">
  LazyLoad: </td><td style="text-align: left;"> yes</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Author(s)</h3>

<p>Leo Lahti (<a href="mailto:leo.lahti@iki.fi">leo.lahti@iki.fi</a>), Einari Happonen, Juuso Parkkinen Joona Lehtomaki, Vesa Saaristo, Pyry Kantanen and Aleksi Lahtinen
</p>


<h3>References</h3>

<p>See citation(&quot;sotkanet&quot;)
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://ropengov.github.io/sotkanet/">https://ropengov.github.io/sotkanet/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/ropengov/sotkanet/issues">https://github.com/ropengov/sotkanet/issues</a>
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>library(sotkanet)
</code></pre>

<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>See <code>magrittr::<a href="magrittr.html#topic+pipe">%&gt;%</a></code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_lhs">lhs</code></td>
<td>
<p>A value or the magrittr placeholder.</p>
</td></tr>
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_rhs">rhs</code></td>
<td>
<p>A function call using the magrittr semantics.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The result of calling 'rhs(lhs)'.
</p>

<hr>
<h2 id='get_sotkanet'>Retrieve Sotkanet Data</h2><span id='topic+get_sotkanet'></span>

<h3>Description</h3>

<p>Retrieve selected data and combine into a single table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_sotkanet(
  indicators = NULL,
  years = NULL,
  genders = c("male", "female", "total"),
  regions = NULL,
  region.category = NULL,
  lang = "fi",
  user.agent = NULL,
  cache = TRUE,
  cache_dir = NULL,
  frictionless = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_sotkanet_+3A_indicators">indicators</code></td>
<td>
<p>Dataset identifier(s)</p>
</td></tr>
<tr><td><code id="get_sotkanet_+3A_years">years</code></td>
<td>
<p>vector of years, for example '2015:2018' or 'c(2010, 2012, ...)'. Default
value is 'NULL', which gives the data from all the available years. You can give indicators
their own year range by giving the years in a list. See examples for demonstration.</p>
</td></tr>
<tr><td><code id="get_sotkanet_+3A_genders">genders</code></td>
<td>
<p>vector of genders ('male' | 'female' | 'total'). Some datasets do not
work with only the gender value 'total' and return an empty data.frame. In these situations
it is advised to check out some other alternative.</p>
</td></tr>
<tr><td><code id="get_sotkanet_+3A_regions">regions</code></td>
<td>
<p>filter by selected regions only (default: all regions). The
region filter has to be given in the language used for the language variable.</p>
</td></tr>
<tr><td><code id="get_sotkanet_+3A_region.category">region.category</code></td>
<td>
<p>filter by one or more of the following 15 valid
regions categories (default: all categories)
</p>

<ul>
<li><p> &quot;ALUEHALLINTOVIRASTO&quot;
</p>
</li>
<li><p> &quot;ELY-KESKUS&quot;
</p>
</li>
<li><p> &quot;ERVA&quot;
</p>
</li>
<li><p> &quot;EURALUEET&quot; (Eurozone)
</p>
</li>
<li><p> &quot;EUROOPPA&quot; (Europe)
</p>
</li>
<li><p> &quot;HYVINVOINTIALUE&quot; (welfare country)
</p>
</li>
<li><p> &quot;KUNTA&quot; (municipality)
</p>
</li>
<li><p> &quot;MAA&quot; (country)
</p>
</li>
<li><p> &quot;MAAKUNTA&quot; (region)
</p>
</li>
<li><p> &quot;NUTS1&quot;
</p>
</li>
<li><p> &quot;POHJOISMAAT&quot; (Nordic countries)
</p>
</li>
<li><p> &quot;SAIRAANHOITOPIIRI (hospital district)
</p>
</li>
<li><p> &quot;SEUTUKUNTA&quot;
</p>
</li>
<li><p> &quot;SUURALUE&quot;
</p>
</li>
<li><p> &quot;YTA&quot;
</p>
</li></ul>
</td></tr>
<tr><td><code id="get_sotkanet_+3A_lang">lang</code></td>
<td>
<p>Language of the data variables: indicator.title, region.title
and indicator.organization.title. Default is Finnish (&quot;fi&quot;), the other options being
English (&quot;en&quot;) and Swedish (&quot;sv&quot;).</p>
</td></tr>
<tr><td><code id="get_sotkanet_+3A_user.agent">user.agent</code></td>
<td>
<p>&quot;User agent&quot; defined by the user. Default is NULL which
will then use the package identifier &quot;rOpenGov/sotkanet&quot;</p>
</td></tr>
<tr><td><code id="get_sotkanet_+3A_cache">cache</code></td>
<td>
<p>a logical whether to do caching. Defaults is 'TRUE'.</p>
</td></tr>
<tr><td><code id="get_sotkanet_+3A_cache_dir">cache_dir</code></td>
<td>
<p>a path to cache directory. 'Null' (default) uses and creates
&quot;sotkanet&quot; directory in the temporary directory defined by base R [tempdir()]
function. The user can set the cache directory to an existing directory with this
argument.</p>
</td></tr>
<tr><td><code id="get_sotkanet_+3A_frictionless">frictionless</code></td>
<td>
<p>a logical whether to return a datapackage, with metadata inside,
instead of a data.frame.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>THL's open data license and limitation of liability
</p>
<p><strong>License</strong>
</p>
<p>The open data provided by National Institute for Health and Welfare is
licensed under CC BY 4.0. This license defines how open data can be utilized.
The licensing is based on a decision made by the Director General.
</p>
<p><strong>Limitation of Liability</strong>
</p>
<p>National Institute for Health and Welfare shall not be liable for any loss,
legal proceedings, claims, proceedings, demands, costs or damages regardless
of their cause or form, which can be directly or indirectly connected to
open data or use of open data published by National Institute for Health and
Welfare.
</p>


<h3>Value</h3>

<p>Returns a data.frame when frictionless is 'FALSE' and a datapackage
when frictionless is 'TRUE'.
</p>


<h3>Author(s)</h3>

<p>Maintainer: Leo Lahti <a href="mailto:leo.lahti@iki.fi">leo.lahti@iki.fi</a>, Pyry Kantanen
</p>


<h3>References</h3>

<p>See citation(&quot;sotkanet&quot;)
</p>


<h3>See Also</h3>

<p>For more information about dataset structure, see THL webpage at
<a href="https://yhteistyotilat.fi/wiki08/pages/viewpage.action?pageId=27557907">https://yhteistyotilat.fi/wiki08/pages/viewpage.action?pageId=27557907</a>
</p>
<p>THL open data license website: <a href="https://yhteistyotilat.fi/wiki08/x/AAadAg">https://yhteistyotilat.fi/wiki08/x/AAadAg</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
dat &lt;- get_sotkanet(indicators = 165)
dat &lt;- get_sotkanet(indicators = c(4,5), genders = c("male", "female"))
dat &lt;- get_sotkanet(indicators = 10012, regions = c("Suomi", "Ruotsi"))
dat &lt;- get_sotkanet(indicators = 10012, region.category = c("POHJOISMAAT"))
dat &lt;- get_sotkanet(indicators = 6, lang = "en")
dat &lt;- get_sotkanet(indicators = 10027, frictionless = TRUE)
dat &lt;- get_sotkanet(indicators = c(4,5,6), years = list("4" = 2000:2010,
                                                        "5" = 2010:2015, "6" = 2015:2020))

## End(Not run)
</code></pre>

<hr>
<h2 id='GetDataSotkanet'>Retrieve Sotkanet Data (old version)</h2><span id='topic+GetDataSotkanet'></span>

<h3>Description</h3>

<p>Retrieve selected data and combine into a single table. (This is an older version
of the function. It is advised to use the new [get_sotkanet()] function instead.)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>GetDataSotkanet(
  indicators = NULL,
  years = 1991:2015,
  genders = c("total"),
  regions = NULL,
  region.category = NULL,
  user.agent = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="GetDataSotkanet_+3A_indicators">indicators</code></td>
<td>
<p>Dataset identifier(s)</p>
</td></tr>
<tr><td><code id="GetDataSotkanet_+3A_years">years</code></td>
<td>
<p>vector of years c(2010, 2012, ... )</p>
</td></tr>
<tr><td><code id="GetDataSotkanet_+3A_genders">genders</code></td>
<td>
<p>vector of genders ('male' | 'female' | 'total')</p>
</td></tr>
<tr><td><code id="GetDataSotkanet_+3A_regions">regions</code></td>
<td>
<p>filter by selected regions only (default: all regions)</p>
</td></tr>
<tr><td><code id="GetDataSotkanet_+3A_region.category">region.category</code></td>
<td>
<p>filter by one or more of the following 15 valid
regions categories (default: all categories)
</p>

<ul>
<li><p> &quot;ALUEHALLINTOVIRASTO&quot;
</p>
</li>
<li><p> &quot;ELY-KESKUS&quot;
</p>
</li>
<li><p> &quot;ERVA&quot;
</p>
</li>
<li><p> &quot;EURALUEET&quot; (Eurozone)
</p>
</li>
<li><p> &quot;EUROOPPA&quot; (Europe)
</p>
</li>
<li><p> &quot;HYVINVOINTIALUE&quot; (welfare country)
</p>
</li>
<li><p> &quot;KUNTA&quot; (municipality)
</p>
</li>
<li><p> &quot;MAA&quot; (country)
</p>
</li>
<li><p> &quot;MAAKUNTA&quot; (region)
</p>
</li>
<li><p> &quot;NUTS1&quot;
</p>
</li>
<li><p> &quot;POHJOISMAAT&quot; (Nordic countries)
</p>
</li>
<li><p> &quot;SAIRAANHOITOPIIRI (hospital district)
</p>
</li>
<li><p> &quot;SEUTUKUNTA&quot;
</p>
</li>
<li><p> &quot;SUURALUE&quot;
</p>
</li>
<li><p> &quot;YTA&quot;
</p>
</li></ul>
</td></tr>
<tr><td><code id="GetDataSotkanet_+3A_user.agent">user.agent</code></td>
<td>
<p>&quot;User agent&quot; defined by the user. Default is NULL which
will then use the package identifier &quot;rOpenGov/sotkanet&quot;</p>
</td></tr>
</table>


<h3>Details</h3>

<p>THL's open data license and limitation of liability
</p>
<p><strong>License</strong>
</p>
<p>The open data provided by National Institute for Health and Welfare is
licensed under CC BY 4.0. This license defines how open data can be utilized.
The licensing is based on a decision made by the Director General.
</p>
<p><strong>Limitation of Liability</strong>
</p>
<p>National Institute for Health and Welfare shall not be liable for any loss,
legal proceedings, claims, proceedings, demands, costs or damages regardless
of their cause or form, which can be directly or indirectly connected to
open data or use of open data published by National Institute for Health and
Welfare.
</p>


<h3>Value</h3>

<p>data.frame
</p>


<h3>Author(s)</h3>

<p>Maintainer: Leo Lahti <a href="mailto:leo.lahti@iki.fi">leo.lahti@iki.fi</a>, Pyry Kantanen
</p>


<h3>References</h3>

<p>See citation(&quot;sotkanet&quot;)
</p>


<h3>See Also</h3>

<p>For more information about dataset structure, see THL webpage at
<a href="https://yhteistyotilat.fi/wiki08/pages/viewpage.action?pageId=27557907">https://yhteistyotilat.fi/wiki08/pages/viewpage.action?pageId=27557907</a>
</p>
<p>THL open data license website: <a href="https://yhteistyotilat.fi/wiki08/x/AAadAg">https://yhteistyotilat.fi/wiki08/x/AAadAg</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: dat &lt;- GetDataSotkanet(indicators = 165)
</code></pre>

<hr>
<h2 id='sotkanet_cite'>Crate a Data Bibliography</h2><span id='topic+sotkanet_cite'></span>

<h3>Description</h3>

<p>Crates a bibliography from selected Sotkanet data file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sotkanet_cite(id, lang = "fi", format = "Biblatex")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sotkanet_cite_+3A_id">id</code></td>
<td>
<p>Indicator id.</p>
</td></tr>
<tr><td><code id="sotkanet_cite_+3A_lang">lang</code></td>
<td>
<p>Language for the citation. Options are English (en), Finnish (fi) and Swedish (sv).</p>
</td></tr>
<tr><td><code id="sotkanet_cite_+3A_format">format</code></td>
<td>
<p>Default is &quot;Biblatex&quot;, alternatives are &quot;bibentry&quot; or &quot;Bibtex&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a Biblatex, bibentry or Bibtex object.
</p>


<h3>References</h3>

<p>See citation(&quot;sotkanet&quot;)
</p>


<h3>See Also</h3>

<p>[utils::bibentry()] [RefManageR::toBiblatex()]
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
SotkanetCite(10013, lang = "en", format = "Biblatex")
SotkanetCite(10012, lang = "fi", format = "Biblatex")
SotkanetCIte(10011, lang = "sv", format = "Biblatex")
SotkanetCite(10013, lang = "en", format = "bibentry")
SotkanetCite(10013, lang = "en", format = "Bibtex")

## End(Not run)
</code></pre>

<hr>
<h2 id='sotkanet_clean_cache'>Clean sotkanet Cache</h2><span id='topic+sotkanet_clean_cache'></span>

<h3>Description</h3>

<p>Delete all .rds files from the sotkanet cache directory.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sotkanet_clean_cache(cache_dir = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sotkanet_clean_cache_+3A_cache_dir">cache_dir</code></td>
<td>
<p>A path to the cache directory. If 'NULL' (default) tries to clean default
temporary cache directory.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
SotkanetCleanCache()

## End(Not run)
</code></pre>

<hr>
<h2 id='sotkanet_fixity'>Calculate fixity checksum for an object</h2><span id='topic+sotkanet_fixity'></span>

<h3>Description</h3>

<p>Uses a hash function (md5) on a sotkanet dataset and calculates a digest of the dataset
as a character string.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sotkanet_fixity(data, algorithm = "md5")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sotkanet_fixity_+3A_data">data</code></td>
<td>
<p>A sotkanet dataset.</p>
</td></tr>
<tr><td><code id="sotkanet_fixity_+3A_algorithm">algorithm</code></td>
<td>
<p>Algorithm used for calculating the checksum. Default is 'md5', but
supports all the algorithms in digest function.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Fixity can be used to make sure that the file has not changed. This is done by calculating
a checksum for the dataset that will change if the dataset changes. The default algorithm
used to calculate the checksum is md5 hash, but all the algorithms supported by imported
digest function are applicable. See the digest function documentation for more details.
</p>
<p>This function takes the whole dataset as an input. This means that everything to do with
the data is used when calculating the fixity checksum, so for example, if you change
the language of the output the checksum will also change.
</p>


<h3>Value</h3>

<p>A character string
</p>


<h3>See Also</h3>

<p>[digest::digest()]
</p>
<p>For more info on fixity checksum see:
<a href="https://www.dpconline.org/handbook/technical-solutions-and-tools/fixity-and-checksums">https://www.dpconline.org/handbook/technical-solutions-and-tools/fixity-and-checksums</a>
</p>

<hr>
<h2 id='sotkanet_indicator_metadata'>Sotkanet Indicator Metadata</h2><span id='topic+sotkanet_indicator_metadata'></span>

<h3>Description</h3>

<p>Retrieves sotkanet indicator metadata.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sotkanet_indicator_metadata(
  id = NULL,
  type = "raw",
  user.agent = NULL,
  cache = TRUE,
  cache_dir = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sotkanet_indicator_metadata_+3A_id">id</code></td>
<td>
<p>Indicator id</p>
</td></tr>
<tr><td><code id="sotkanet_indicator_metadata_+3A_type">type</code></td>
<td>
<p>Parameter passed onto <code><a href="#topic+sotkanet_indicators">sotkanet_indicators</a></code>. Default
is 'raw' for the whole output but 'table' is also supported</p>
</td></tr>
<tr><td><code id="sotkanet_indicator_metadata_+3A_user.agent">user.agent</code></td>
<td>
<p>&quot;User agent&quot; defined by the user. Default is NULL which
will use the default package identifier &quot;rOpenGov/sotkanet&quot;</p>
</td></tr>
<tr><td><code id="sotkanet_indicator_metadata_+3A_cache">cache</code></td>
<td>
<p>A logical whether to do caching.</p>
</td></tr>
<tr><td><code id="sotkanet_indicator_metadata_+3A_cache_dir">cache_dir</code></td>
<td>
<p>A path to the cache dir.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Data is fetched from </p>
<pre>https://sotkanet.fi/rest/1.1/indicators/&lt;id&gt;</pre>


<h3>Value</h3>

<p>sotkanet indicator metadata as a list object
</p>


<h3>Author(s)</h3>

<p>Maintainer: Pyry Kantanen
</p>


<h3>References</h3>

<p>See citation(&quot;sotkanet&quot;)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
x &lt;- sotkanet_indicator_metadata(10012)

## End(Not run)
</code></pre>

<hr>
<h2 id='sotkanet_indicators'>Sotkanet Indicators</h2><span id='topic+sotkanet_indicators'></span>

<h3>Description</h3>

<p>Retrieve Sotkanet indicator metadata
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sotkanet_indicators(
  id = NULL,
  type = "table",
  lang = "fi",
  user.agent = NULL,
  cache = TRUE,
  cache_dir = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sotkanet_indicators_+3A_id">id</code></td>
<td>
<p>Dataset identifier. Default is NULL returning all</p>
</td></tr>
<tr><td><code id="sotkanet_indicators_+3A_type">type</code></td>
<td>
<p>type output format, either 'table' (default) or 'raw'.
Default produces a truncated table with strictly defined columns that
are useful in other functions. 'Raw' produces the full output which might
be useful for exploratory purposes.</p>
</td></tr>
<tr><td><code id="sotkanet_indicators_+3A_lang">lang</code></td>
<td>
<p>Language of the output.</p>
</td></tr>
<tr><td><code id="sotkanet_indicators_+3A_user.agent">user.agent</code></td>
<td>
<p>&quot;User agent&quot; defined by the user. Default is NULL which
will then use the package identifier &quot;rOpenGov/sotkanet&quot;</p>
</td></tr>
<tr><td><code id="sotkanet_indicators_+3A_cache">cache</code></td>
<td>
<p>a logical whether to do caching.</p>
</td></tr>
<tr><td><code id="sotkanet_indicators_+3A_cache_dir">cache_dir</code></td>
<td>
<p>a path to the cache dir.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Data is fetched from <a href="https://sotkanet.fi/rest/1.1/indicators">https://sotkanet.fi/rest/1.1/indicators</a>.
</p>


<h3>Value</h3>

<p>data.frame (type = &quot;table) or a list (type = &quot;raw&quot;)
</p>


<h3>Author(s)</h3>

<p>Leo Lahti <a href="mailto:leo.lahti@iki.fi">leo.lahti@iki.fi</a>, Pyry Kantanen
</p>


<h3>References</h3>

<p>See citation(&quot;sotkanet&quot;)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
sotkanet.indicators &lt;- sotkanet_indicators(type = "table", lang = "fi")

## End(Not run)
</code></pre>

<hr>
<h2 id='sotkanet_interactive'>Interactive function for get_sotkanet</h2><span id='topic+sotkanet_interactive'></span>

<h3>Description</h3>

<p>A simple interactive function, that helps with downloading Sotkanet data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sotkanet_interactive(code = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sotkanet_interactive_+3A_code">code</code></td>
<td>
<p>A unique identifier for the dataset of interest.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>[get_sotkanet()]
</p>

<hr>
<h2 id='sotkanet_read_cache'>Read cache for sotkanet data.frame</h2><span id='topic+sotkanet_read_cache'></span>

<h3>Description</h3>

<p>Helper function that reads the cache for saved sotkanet data.frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sotkanet_read_cache(cache, cache_dir, query_hash)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sotkanet_read_cache_+3A_cache">cache</code></td>
<td>
<p>a logical whether to do caching.</p>
</td></tr>
<tr><td><code id="sotkanet_read_cache_+3A_cache_dir">cache_dir</code></td>
<td>
<p>a path to cache directory.</p>
</td></tr>
<tr><td><code id="sotkanet_read_cache_+3A_query_hash">query_hash</code></td>
<td>
<p>a character used to identify the data.frame.</p>
</td></tr>
</table>


<h3>References</h3>

<p>See citation(&quot;sotkanet&quot;)
</p>

<hr>
<h2 id='sotkanet_regions'>Sotkanet Regions</h2><span id='topic+sotkanet_regions'></span>

<h3>Description</h3>

<p>Retrieves sotkanet regions data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sotkanet_regions(
  type = "table",
  lang = "fi",
  user.agent = NULL,
  cache = TRUE,
  cache_dir = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sotkanet_regions_+3A_type">type</code></td>
<td>
<p>type output format, either 'table' (default) or 'raw'.
Default produces a truncated table with strictly defined columns that
are useful in other functions. 'Raw' produces the full output which might
be useful for exploratory purposes.</p>
</td></tr>
<tr><td><code id="sotkanet_regions_+3A_lang">lang</code></td>
<td>
<p>Language of the output.</p>
</td></tr>
<tr><td><code id="sotkanet_regions_+3A_user.agent">user.agent</code></td>
<td>
<p>&quot;User agent&quot; defined by the user. Default is NULL which
will then use the package identifier &quot;rOpenGov/sotkanet&quot;</p>
</td></tr>
<tr><td><code id="sotkanet_regions_+3A_cache">cache</code></td>
<td>
<p>a logical whether to do caching.</p>
</td></tr>
<tr><td><code id="sotkanet_regions_+3A_cache_dir">cache_dir</code></td>
<td>
<p>a path to the cache directory.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Data is fetched from <a href="https://sotkanet.fi/rest/1.1/regions">https://sotkanet.fi/rest/1.1/regions</a>.
</p>


<h3>Value</h3>

<p>data.frame
</p>


<h3>Author(s)</h3>

<p>Maintainer: Leo Lahti <a href="mailto:leo.lahti@iki.fi">leo.lahti@iki.fi</a>
</p>


<h3>References</h3>

<p>See citation(&quot;sotkanet&quot;)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
sotkanet.regions &lt;- sotkanet_regions(type = "table", lang = "fi")

## End(Not run)
</code></pre>

<hr>
<h2 id='sotkanet_write_cache'>Write sotkanet data.frame into cache</h2><span id='topic+sotkanet_write_cache'></span>

<h3>Description</h3>

<p>Helper function that writes the sotkanet data.frame into cache.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sotkanet_write_cache(cache, cache_dir, query_hash, data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sotkanet_write_cache_+3A_cache">cache</code></td>
<td>
<p>a logical whether to do caching.</p>
</td></tr>
<tr><td><code id="sotkanet_write_cache_+3A_cache_dir">cache_dir</code></td>
<td>
<p>a path to cache directory.</p>
</td></tr>
<tr><td><code id="sotkanet_write_cache_+3A_query_hash">query_hash</code></td>
<td>
<p>a character used to identify the data.frame.</p>
</td></tr>
<tr><td><code id="sotkanet_write_cache_+3A_data">data</code></td>
<td>
<p>sotkanet data.frame.</p>
</td></tr>
</table>


<h3>References</h3>

<p>See citation(&quot;sotkanet&quot;)
</p>

<hr>
<h2 id='sotkanet.csv_query'>Retrieve Sotkanet Data (csv)</h2><span id='topic+sotkanet.csv_query'></span>

<h3>Description</h3>

<p>Retrieve data in csv format from given url.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sotkanet.csv_query(url, user.agent = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sotkanet.csv_query_+3A_url">url</code></td>
<td>
<p>Sotkanet CSV url</p>
</td></tr>
<tr><td><code id="sotkanet.csv_query_+3A_user.agent">user.agent</code></td>
<td>
<p>User agent defined by the user. Default is
&quot;rOpenGov/sotkanet&quot;</p>
</td></tr>
<tr><td><code id="sotkanet.csv_query_+3A_...">...</code></td>
<td>
<p>additional parameters to be passed to test_connection, mainly
timeout (in seconds, default is 10)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame
</p>


<h3>Author(s)</h3>

<p>Maintainer: Leo Lahti <a href="mailto:leo.lahti@iki.fi">leo.lahti@iki.fi</a>, Pyry Kantanen
</p>


<h3>References</h3>

<p>See citation(&quot;sotkanet&quot;)
</p>

<hr>
<h2 id='sotkanet.json_query'>Retrieve Sotkanet Data (json)</h2><span id='topic+sotkanet.json_query'></span>

<h3>Description</h3>

<p>Retrieve data in json format from given url.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sotkanet.json_query(url, user.agent = NULL, simplifyVector = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sotkanet.json_query_+3A_url">url</code></td>
<td>
<p>Sotkanet JSON url</p>
</td></tr>
<tr><td><code id="sotkanet.json_query_+3A_user.agent">user.agent</code></td>
<td>
<p>&quot;User agent&quot; defined by the user. Default is
&quot;rOpenGov/sotkanet&quot;</p>
</td></tr>
<tr><td><code id="sotkanet.json_query_+3A_simplifyvector">simplifyVector</code></td>
<td>
<p>When ´TRUE´ returns a data.frame object and
when ´False´ returns a list instead.</p>
</td></tr>
<tr><td><code id="sotkanet.json_query_+3A_...">...</code></td>
<td>
<p>additional parameters to be passed to test_connection, mainly
timeout (in seconds, default is 10)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data.frame (simplifyVector = TRUE) or a list (simplifyVector = FALSE)
</p>


<h3>Author(s)</h3>

<p>Maintainer: Leo Lahti <a href="mailto:leo.lahti@iki.fi">leo.lahti@iki.fi</a>, Pyry Kantanen
</p>


<h3>References</h3>

<p>See citation(&quot;sotkanet&quot;)
</p>

<hr>
<h2 id='SotkanetIndicatorMetadata'>Sotkanet Indicator Metadata. (old version)</h2><span id='topic+SotkanetIndicatorMetadata'></span>

<h3>Description</h3>

<p>Retrieves sotkanet indicator metadata. (This is an older version of the function. 
It is advised to use the new [sotkanet_indicator_metadata()] function instead.)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SotkanetIndicatorMetadata(id = NULL, type = "raw", user.agent = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SotkanetIndicatorMetadata_+3A_id">id</code></td>
<td>
<p>Indicator id</p>
</td></tr>
<tr><td><code id="SotkanetIndicatorMetadata_+3A_type">type</code></td>
<td>
<p>Parameter passed onto <code><a href="#topic+SotkanetIndicators">SotkanetIndicators</a></code>. Default
is 'raw' for the whole output but 'table' is also supported</p>
</td></tr>
<tr><td><code id="SotkanetIndicatorMetadata_+3A_user.agent">user.agent</code></td>
<td>
<p>&quot;User agent&quot; defined by the user. Default is NULL which
will use the default package identifier &quot;rOpenGov/sotkanet&quot;</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Data is fetched from </p>
<pre>https://sotkanet.fi/rest/1.1/indicators/&lt;id&gt;</pre>


<h3>Value</h3>

<p>sotkanet indicator metadata as a list object
</p>


<h3>Author(s)</h3>

<p>Maintainer: Pyry Kantanen
</p>


<h3>References</h3>

<p>See citation(&quot;sotkanet&quot;)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
x &lt;- SotkanetIndicatorMetadata(10013)

## End(Not run)
</code></pre>

<hr>
<h2 id='SotkanetIndicators'>Sotkanet Indicators (old version)</h2><span id='topic+SotkanetIndicators'></span>

<h3>Description</h3>

<p>Retrieve Sotkanet indicator metadata. (This is an older version of the function. 
It is advised to use the new [sotkanet_indicators()] function instead.)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SotkanetIndicators(id = NULL, type = "table", user.agent = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SotkanetIndicators_+3A_id">id</code></td>
<td>
<p>Dataset identifier. Default is NULL returning all</p>
</td></tr>
<tr><td><code id="SotkanetIndicators_+3A_type">type</code></td>
<td>
<p>type output format, either 'table' (default) or 'raw'.
Default produces a truncated table with strictly defined columns that
are useful in other functions. 'Raw' produces the full output which might
be useful for exploratory purposes.</p>
</td></tr>
<tr><td><code id="SotkanetIndicators_+3A_user.agent">user.agent</code></td>
<td>
<p>&quot;User agent&quot; defined by the user. Default is NULL which
will then use the package identifier &quot;rOpenGov/sotkanet&quot;</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Data is fetched from <a href="https://sotkanet.fi/rest/1.1/indicators">https://sotkanet.fi/rest/1.1/indicators</a>.
</p>


<h3>Value</h3>

<p>data.frame (type = &quot;table) or a list (type = &quot;raw&quot;)
</p>


<h3>Author(s)</h3>

<p>Leo Lahti <a href="mailto:leo.lahti@iki.fi">leo.lahti@iki.fi</a>, Pyry Kantanen
</p>


<h3>References</h3>

<p>See citation(&quot;sotkanet&quot;)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
sotkanet.indicators &lt;- SotkanetIndicators(type = "table")

## End(Not run)
</code></pre>

<hr>
<h2 id='SotkanetRegions'>Sotkanet Regions (old version)</h2><span id='topic+SotkanetRegions'></span>

<h3>Description</h3>

<p>Retrieves sotkanet regions data. (This is an older version of the function. 
It is advised to use the new [sotkanet_regions()] function instead.)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SotkanetRegions(type = "table", user.agent = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SotkanetRegions_+3A_type">type</code></td>
<td>
<p>type output format, either 'table' (default) or 'raw'.
Default produces a truncated table with strictly defined columns that
are useful in other functions. 'Raw' produces the full output which might
be useful for exploratory purposes.</p>
</td></tr>
<tr><td><code id="SotkanetRegions_+3A_user.agent">user.agent</code></td>
<td>
<p>&quot;User agent&quot; defined by the user. Default is NULL which
will then use the package identifier &quot;rOpenGov/sotkanet&quot;</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Data is fetched from <a href="https://sotkanet.fi/rest/1.1/regions">https://sotkanet.fi/rest/1.1/regions</a>.
</p>


<h3>Value</h3>

<p>data.frame
</p>


<h3>Author(s)</h3>

<p>Maintainer: Leo Lahti <a href="mailto:leo.lahti@iki.fi">leo.lahti@iki.fi</a>
</p>


<h3>References</h3>

<p>See citation(&quot;sotkanet&quot;)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
sotkanet.regions &lt;- SotkanetRegions(type = "table")

## End(Not run)
</code></pre>

<hr>
<h2 id='test_connection'>Test for internet connection, timeout and status</h2><span id='topic+test_connection'></span>

<h3>Description</h3>

<p>Constructs a function for trying an URL
</p>


<h3>Usage</h3>

<pre><code class='language-R'>test_connection(url = NULL, timeout = 10)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="test_connection_+3A_url">url</code></td>
<td>
<p>URL to query</p>
</td></tr>
<tr><td><code id="test_connection_+3A_timeout">timeout</code></td>
<td>
<p>Timeout time in seconds.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>HTTP response or a conditionMessage
</p>


<h3>Author(s)</h3>

<p>Pyry Kantanen (maintainer), Kostas Vasilopoulos
</p>


<h3>Source</h3>

<p>Gracefully failing HTTP request code (slightly adapted by Pyry
Kantanen) from RStudio community member kvasilopoulos. Many thanks!
</p>
<p>Source of the original RStudio community discussion:
<a href="https://forum.posit.co/t/internet-resources-should-fail-gracefully/49199">https://forum.posit.co/t/internet-resources-should-fail-gracefully/49199</a>
</p>

<hr>
<h2 id='write_frictionless_metadata'>Writes the sotkanet data.frame in datapackage form</h2><span id='topic+write_frictionless_metadata'></span>

<h3>Description</h3>

<p>A function that turns the data.frame into a datapackage with the metadata added in.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>write_frictionless_metadata(indicators, data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="write_frictionless_metadata_+3A_indicators">indicators</code></td>
<td>
<p>Dataset identifier</p>
</td></tr>
<tr><td><code id="write_frictionless_metadata_+3A_data">data</code></td>
<td>
<p>The sotkanet data.frame object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>datapackage
</p>


<h3>References</h3>

<p>See citation(&quot;sotkanet&quot;)
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

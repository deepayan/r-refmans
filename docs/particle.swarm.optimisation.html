<!DOCTYPE html><html><head><title>Help for package particle.swarm.optimisation</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {particle.swarm.optimisation}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#Particle'><p>Particle</p></a></li>
<li><a href='#ParticleSwarm'><p>Swarm</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Optimisation with Particle Swarm Optimisation</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>A toolbox to create a particle swarm optimisation (PSO), the package contains two classes: the Particle and the Particle Swarm, this two class is used to run the PSO with methods to easily print, plot and save the result.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>false</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Imports:</td>
<td>R6, rgl</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-05-20 09:42:01 UTC; theo</td>
</tr>
<tr>
<td>Author:</td>
<td>Theo Brunet [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Theo Brunet &lt;brunet.theo83140@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-05-21 08:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='Particle'>Particle</h2><span id='topic+Particle'></span>

<h3>Description</h3>

<p>Class for the Particles used in the Particle Swarm Optimisation, It is call by the Particle Swarm object to make the population.
</p>


<h3>Active bindings</h3>

<div class="r6-active-bindings">

<dl>
<dt><code>values_ranges</code></dt><dd><p>(list) max and min for each value of the particle</p>
</dd>
<dt><code>values</code></dt><dd><p>(numeric) values of the particle (his position in space)</p>
</dd>
<dt><code>fitness</code></dt><dd><p>(numeric) fitness of the particle (his score)</p>
</dd>
<dt><code>fitness_function</code></dt><dd><p>(function) function used to find the fitness</p>
</dd>
<dt><code>personal_best_values</code></dt><dd><p>(numeric) Best values of the particle</p>
</dd>
<dt><code>personal_best_fitness</code></dt><dd><p>(numeric) Fitness of the best values</p>
</dd>
<dt><code>velocity</code></dt><dd><p>(numeric) Velocity of the particle (one velocity for each values)</p>
</dd>
<dt><code>acceleration_coefficient</code></dt><dd><p>(numeric) coefficient c1 and c2 (for personal and global best)</p>
</dd>
<dt><code>inertia</code></dt><dd><p>(numeric) inertia of the particle</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-new"><code>Particle$new()</code></a>
</p>
</li>
<li> <p><a href="#method-get_fitness"><code>Particle$get_fitness()</code></a>
</p>
</li>
<li> <p><a href="#method-update"><code>Particle$update()</code></a>
</p>
</li>
<li> <p><a href="#method-update_personal_best_fitness"><code>Particle$update_personal_best_fitness()</code></a>
</p>
</li>
<li> <p><a href="#method-print"><code>Particle$print()</code></a>
</p>
</li>
<li> <p><a href="#method-clone"><code>Particle$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-new"></a>



<h4>Method <code>new()</code></h4>

<p>Create a new Particle object.
</p>


<h5>Usage</h5>

<div class="r"><pre>Particle$new(
  values_ranges,
  values,
  fitness_function,
  acceleration_coefficient,
  inertia
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>values_ranges</code></dt><dd><p>range for each value of the particle (min and max), his size need to be the same as values. (List)</p>
</dd>
<dt><code>values, </code></dt><dd><p>values of the particles. (numeric)</p>
</dd>
<dt><code>fitness_function</code></dt><dd><p>function used to test the Particle and find his fitness. (function)</p>
</dd>
<dt><code>acceleration_coefficient</code></dt><dd><p>a vector of two values, one for c1 (the personal coefficient), and one for c2 (the global coefficient). (numeric)</p>
</dd>
<dt><code>inertia</code></dt><dd><p>The inertia of the particle (the influence of the previous velocity on the next velocity). (numeric)</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>A new <code>Particle</code> object.
</p>


<hr>
<a id="method-get_fitness"></a>



<h4>Method <code>get_fitness()</code></h4>

<p>Calculate the fitness of the particle with the fitness function and save it in self$fitness
</p>


<h5>Usage</h5>

<div class="r"><pre>Particle$get_fitness()</pre></div>



<h5>Returns</h5>

<p>self
</p>


<hr>
<a id="method-update"></a>



<h4>Method <code>update()</code></h4>

<p>Update Particle's position and velocity.
</p>


<h5>Usage</h5>

<div class="r"><pre>Particle$update(swarm_best)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>swarm_best</code></dt><dd><p>the best values of the swarm used to update the velocity</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>self
</p>


<hr>
<a id="method-update_personal_best_fitness"></a>



<h4>Method <code>update_personal_best_fitness()</code></h4>

<p>Update the Particle's best values and fitness.
</p>


<h5>Usage</h5>

<div class="r"><pre>Particle$update_personal_best_fitness()</pre></div>



<h5>Returns</h5>

<p>self
</p>


<hr>
<a id="method-print"></a>



<h4>Method <code>print()</code></h4>

<p>print the current values of the particle and his fitness
</p>


<h5>Usage</h5>

<div class="r"><pre>Particle$print()</pre></div>


<hr>
<a id="method-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>Particle$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>Examples</h3>

<pre><code class='language-R'># If you use the Particle Swarm Object there is no need to manually create the Particle
# But if you want to use the Particle for another project:

# In this example we use the PSO to solve the following equation:
# a * 5 + b * 25 + 10 = 15

fitness_function &lt;- function(values){
  a &lt;- values[1]
  b &lt;- values[2]
  particule_result &lt;- a*5 + b*25 + 10
  difference &lt;- 15 - particule_result
  fitness &lt;- 1 - abs(difference)
  return(fitness)
}

values_ranges &lt;- list(c(-10^3,10^3),c(-10^3,10^3))

particle_example &lt;- Particle$new(values_ranges = values_ranges,
                                 values = c(0,0),
                                 fitness_function = fitness_function,
                                 acceleration_coefficient = c(0.5,0.5),
                                 inertia = 0.4)
print(particle_example)
particle_example$get_fitness()
print(particle_example)
particle_example$update(c(10,25))
print(particle_example)
</code></pre>

<hr>
<h2 id='ParticleSwarm'>Swarm</h2><span id='topic+ParticleSwarm'></span>

<h3>Description</h3>

<p>Particle Swarm, used to launch the Particle Swarm Optimisation, The PSO is used to maximise the fitness.
</p>


<h3>Active bindings</h3>

<div class="r6-active-bindings">

<dl>
<dt><code>pop_size</code></dt><dd><p>(numeric) number of particles in the swarm</p>
</dd>
<dt><code>ranges_of_values</code></dt><dd><p>(list) range for each value for the particle</p>
</dd>
<dt><code>values_names</code></dt><dd><p>(list) list of names for each value (optionnal)</p>
</dd>
<dt><code>pop</code></dt><dd><p>(list) list of particle in the swarm</p>
</dd>
<dt><code>fitness_function</code></dt><dd><p>(function) fitness function used to find the fitness of the particle</p>
</dd>
<dt><code>list_fitness</code></dt><dd><p>(list) list of fitness of the particles</p>
</dd>
<dt><code>max_it</code></dt><dd><p>(numeric) maximum number of iteration</p>
</dd>
<dt><code>acceleration_coefficient_range</code></dt><dd><p>(list) coefficient c1 and c2 for the particles</p>
</dd>
<dt><code>swarm_best_fitness</code></dt><dd><p>(numeric) best fitness of the swarm</p>
</dd>
<dt><code>swarm_best_values</code></dt><dd><p>(numeric) values of the particle with the best fitness</p>
</dd>
<dt><code>inertia</code></dt><dd><p>(numeric) inertia of the particles</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-new"><code>ParticleSwarm$new()</code></a>
</p>
</li>
<li> <p><a href="#method-run"><code>ParticleSwarm$run()</code></a>
</p>
</li>
<li> <p><a href="#method-generate_pop"><code>ParticleSwarm$generate_pop()</code></a>
</p>
</li>
<li> <p><a href="#method-move_the_swarm"><code>ParticleSwarm$move_the_swarm()</code></a>
</p>
</li>
<li> <p><a href="#method-save_pop"><code>ParticleSwarm$save_pop()</code></a>
</p>
</li>
<li> <p><a href="#method-plot_the_swarm_2D"><code>ParticleSwarm$plot_the_swarm_2D()</code></a>
</p>
</li>
<li> <p><a href="#method-plot_the_swarm_3D"><code>ParticleSwarm$plot_the_swarm_3D()</code></a>
</p>
</li>
<li> <p><a href="#method-print"><code>ParticleSwarm$print()</code></a>
</p>
</li>
<li> <p><a href="#method-clone"><code>ParticleSwarm$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-new"></a>



<h4>Method <code>new()</code></h4>

<p>Create a new ParticleSwarm object.
</p>


<h5>Usage</h5>

<div class="r"><pre>ParticleSwarm$new(
  pop_size,
  values_names,
  fitness_function,
  max_it,
  acceleration_coefficient_range,
  inertia,
  ranges_of_values
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>pop_size</code></dt><dd><p>number of individu in the swarm. (numeric)</p>
</dd>
<dt><code>values_names</code></dt><dd><p>list of names for each value (character)</p>
</dd>
<dt><code>fitness_function</code></dt><dd><p>function used to test the Particle and find his fitness. (function)</p>
</dd>
<dt><code>max_it</code></dt><dd><p>Maximum number of iteration for the PSO. (numeric)</p>
</dd>
<dt><code>acceleration_coefficient_range</code></dt><dd><p>a vector of four values (min and max for c1 and c2) (numeric)</p>
</dd>
<dt><code>inertia</code></dt><dd><p>The inertia for the particle (the influence of the previous velocity on the next velocity). (numeric)</p>
</dd>
<dt><code>ranges_of_values</code></dt><dd><p>range for each value of the particle (min and max). (List)</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>A new <code>ParticleSwarm</code> object.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre># Create a ParticleSwarm object
swarm &lt;- ParticleSwarm$new(pop_size=20,
                            values_names=c('a','b'),
                            max_it=20,
                            fitness_function = function(values){return(values[1]+values[2])},
                            acceleration_coefficient=list(c(0.5,1),c(0.5,1)),
                            inertia=0.5,
                            ranges_of_values=list(c(-100,100),c(-100,100)))
</pre>
</div>


<hr>
<a id="method-run"></a>



<h4>Method <code>run()</code></h4>

<p>Make the Particle Swarm Optimisation
</p>


<h5>Usage</h5>

<div class="r"><pre>ParticleSwarm$run(
  verbose = TRUE,
  plot = TRUE,
  save_file = FALSE,
  dir_name = "PSO_pop"
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>verbose</code></dt><dd><p>print the different step (iteration and individu)</p>
</dd>
<dt><code>plot</code></dt><dd><p>plot the result of each iteration (only for 2D or 3D problem)</p>
</dd>
<dt><code>save_file</code></dt><dd><p>save the population of each Iteration in a file and save the plot if plot=TRUE</p>
</dd>
<dt><code>dir_name</code></dt><dd><p>name of the directory, default value is PSO_pop</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>self
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre># Create a ParticleSwarm object
swarm &lt;- ParticleSwarm$new(pop_size=20,
                            values_names=c('a','b'),
                            max_it=20,
                            fitness_function = function(values){return(values[1]+values[2])},
                            acceleration_coefficient=list(c(0.5,1),c(0.5,1)),
                            inertia=0.5,
                            ranges_of_values=list(c(-100,100),c(-100,100)))
# run the PSO
swarm$run(verbose = FALSE,
          plot = FALSE,
          save_file = FALSE)
# return the best result:
print(swarm$swarm_best_values)
</pre>
</div>


<hr>
<a id="method-generate_pop"></a>



<h4>Method <code>generate_pop()</code></h4>

<p>create the population of the swarm (this method is automatically called by the run method)
</p>


<h5>Usage</h5>

<div class="r"><pre>ParticleSwarm$generate_pop(verbose = TRUE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>verbose</code></dt><dd><p>print the advancement or not</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>self
</p>


<hr>
<a id="method-move_the_swarm"></a>



<h4>Method <code>move_the_swarm()</code></h4>

<p>The method used to change the location of each particle (this method is automatically called by the run method)
</p>


<h5>Usage</h5>

<div class="r"><pre>ParticleSwarm$move_the_swarm(verbose)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>verbose</code></dt><dd><p>print or not the advancement</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>self
</p>


<hr>
<a id="method-save_pop"></a>



<h4>Method <code>save_pop()</code></h4>

<p>The method used to save the values and fitness of the population in a CSV file (this method is automatically called by the run method if you have chosen to save the result)
</p>


<h5>Usage</h5>

<div class="r"><pre>ParticleSwarm$save_pop(nb_it, dir_name)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>nb_it</code></dt><dd><p>number of the iteration, used to create the name of the csv file</p>
</dd>
<dt><code>dir_name</code></dt><dd><p>Name of the directory</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>self
</p>


<hr>
<a id="method-plot_the_swarm_2D"></a>



<h4>Method <code>plot_the_swarm_2D()</code></h4>

<p>method used to plot a 2D plot (this method is automatically called by the run method if you have chosen to plot the swarm)
</p>


<h5>Usage</h5>

<div class="r"><pre>ParticleSwarm$plot_the_swarm_2D(nb_it, save_file)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>nb_it</code></dt><dd><p>number of the iteration used to save the plot as a png</p>
</dd>
<dt><code>save_file</code></dt><dd><p>save the plot as a file</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>self
</p>


<hr>
<a id="method-plot_the_swarm_3D"></a>



<h4>Method <code>plot_the_swarm_3D()</code></h4>

<p>method used to plot a 3D plot
</p>


<h5>Usage</h5>

<div class="r"><pre>ParticleSwarm$plot_the_swarm_3D(nb_it, save_file)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>nb_it</code></dt><dd><p>number of the iteration used to save the plot as a png (this method is automatically called by the run method if you have chosen to plot the swarm)</p>
</dd>
<dt><code>save_file</code></dt><dd><p>save the plot as a file</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>self
</p>


<hr>
<a id="method-print"></a>



<h4>Method <code>print()</code></h4>

<p>Print the current result of the population
</p>


<h5>Usage</h5>

<div class="r"><pre>ParticleSwarm$print()</pre></div>


<hr>
<a id="method-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>ParticleSwarm$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>Examples</h3>

<pre><code class='language-R'># In this example we use the PSO to solve the following equation:
# a * 5 + b * 25 + 10 = 15

fitness_function &lt;- function(values){
  a &lt;- values[1]
  b &lt;- values[2]
  particule_result &lt;- a*5 + b*25 + 10
  difference &lt;- 15 - particule_result
  fitness &lt;- 1 - abs(difference)
  return(fitness)
}

values_ranges &lt;- list(c(-10^3,10^3),c(-10^3,10^3))

swarm &lt;- ParticleSwarm$new(pop_size = 200,
                           values_names = list("a","b"),
                           fitness_function = fitness_function,
                           max_it = 75,
                           acceleration_coefficient_range = list(c(0,1),c(0,1)),
                           inertia = 0.5,
                           ranges_of_values = values_ranges)
swarm$run(plot = FALSE,verbose = FALSE,save_file = FALSE)
# the solution is :
swarm$swarm_best_values
swarm$swarm_best_values[[1]]*5 + swarm$swarm_best_values[[2]] *25 + 10

## ------------------------------------------------
## Method `ParticleSwarm$new`
## ------------------------------------------------

# Create a ParticleSwarm object
swarm &lt;- ParticleSwarm$new(pop_size=20,
                            values_names=c('a','b'),
                            max_it=20,
                            fitness_function = function(values){return(values[1]+values[2])},
                            acceleration_coefficient=list(c(0.5,1),c(0.5,1)),
                            inertia=0.5,
                            ranges_of_values=list(c(-100,100),c(-100,100)))

## ------------------------------------------------
## Method `ParticleSwarm$run`
## ------------------------------------------------

# Create a ParticleSwarm object
swarm &lt;- ParticleSwarm$new(pop_size=20,
                            values_names=c('a','b'),
                            max_it=20,
                            fitness_function = function(values){return(values[1]+values[2])},
                            acceleration_coefficient=list(c(0.5,1),c(0.5,1)),
                            inertia=0.5,
                            ranges_of_values=list(c(-100,100),c(-100,100)))
# run the PSO
swarm$run(verbose = FALSE,
          plot = FALSE,
          save_file = FALSE)
# return the best result:
print(swarm$swarm_best_values)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

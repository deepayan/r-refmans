<!DOCTYPE html><html lang="en"><head><title>Help for package nflplotR</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {nflplotR}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#GeomNFLheads'><p>nflplotR: NFL Logo Plots in 'ggplot2' and 'gt'</p></a></li>
<li><a href='#.nflplotR_clear_cache'><p>Clear nflplotR Cache</p></a></li>
<li><a href='#element'><p>Theme Elements for Image Grobs</p></a></li>
<li><a href='#geom_from_path'><p>ggplot2 Layer for Visualizing Images from URLs or Local Paths</p></a></li>
<li><a href='#geom_lines'><p>ggplot2 Layer for Horizontal and Vertical Reference Lines</p></a></li>
<li><a href='#geom_nfl_headshots'><p>ggplot2 Layer for Visualizing NFL Player Headshots</p></a></li>
<li><a href='#geom_nfl_logos'><p>ggplot2 Layer for Visualizing NFL Team Logos</p></a></li>
<li><a href='#geom_nfl_wordmarks'><p>ggplot2 Layer for Visualizing NFL Team Wordmarks</p></a></li>
<li><a href='#ggpreview'><p>Preview ggplot in Specified Dimensions</p></a></li>
<li><a href='#gt_nfl_cols_label'><p>Render Logos, Wordmarks, and Headshots in 'gt' Table Column Labels</p></a></li>
<li><a href='#gt_nfl_headshots'><p>Render Player Headshots in 'gt' Tables</p></a></li>
<li><a href='#gt_nfl_logos'><p>Render Logos and Wordmarks in 'gt' Tables</p></a></li>
<li><a href='#gt_render_image'><p>Render 'gt' Table to Temporary png File</p></a></li>
<li><a href='#nfl_team_factor'><p>Create Ordered NFL Team Name Factor</p></a></li>
<li><a href='#nfl_team_tiers'><p>Create NFL Team Tiers</p></a></li>
<li><a href='#nflverse_sitrep'><p>Get a Situation Report on System, nflverse Package Versions and Dependencies</p></a></li>
<li><a href='#scale_nfl'><p>Scales for NFL Team Colors</p></a></li>
<li><a href='#valid_team_names'><p>Output Valid NFL Team Abbreviations</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>NFL Logo Plots in 'ggplot2' and 'gt'</td>
</tr>
<tr>
<td>Version:</td>
<td>1.4.0</td>
</tr>
<tr>
<td>Description:</td>
<td>A set of functions to visualize National Football League
    analysis in 'ggplot2' plots and 'gt' tables.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://nflplotr.nflverse.com">https://nflplotr.nflverse.com</a>,
<a href="https://github.com/nflverse/nflplotR">https://github.com/nflverse/nflplotR</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/nflverse/nflplotR/issues">https://github.com/nflverse/nflplotR/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>backports (&ge; 1.1.6), cachem (&ge; 1.0.0), cli (&ge; 3.0.0),
data.table (&ge; 1.14.0), ggpath (&ge; 1.0.1), ggplot2 (&ge; 3.3.0),
grid, gt (&ge; 0.8.0), lifecycle, magick (&ge; 2.7.3), memoise (&ge;
2.0.0), nflreadr (&ge; 1.3.2), rlang (&ge; 0.4.11), scales (&ge;
1.1.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>base64enc (&ge; 0.1-3), covr, knitr, rmarkdown, rstudioapi (&ge;
0.13), rsvg (&ge; 2.0), testthat (&ge; 3.0.0), vdiffr (&ge; 1.0.2),
webshot2 (&ge; 0.1.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-08-21 09:58:32 UTC; carl</td>
</tr>
<tr>
<td>Author:</td>
<td>Sebastian Carl [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Sebastian Carl &lt;mrcaseb@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-08-21 12:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='GeomNFLheads'>nflplotR: NFL Logo Plots in 'ggplot2' and 'gt'</h2><span id='topic+GeomNFLheads'></span><span id='topic+GeomNFLlogo'></span><span id='topic+GeomNFLwordmark'></span><span id='topic+nflplotR-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>A set of functions to visualize National Football League analysis in 'ggplot2' plots and 'gt' tables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>GeomNFLheads

GeomNFLlogo

GeomNFLwordmark
</code></pre>


<h3>Format</h3>

<p>An object of class <code>GeomNFLheads</code> (inherits from <code>Geom</code>, <code>ggproto</code>, <code>gg</code>) of length 5.
</p>
<p>An object of class <code>GeomNFLlogo</code> (inherits from <code>Geom</code>, <code>ggproto</code>, <code>gg</code>) of length 5.
</p>
<p>An object of class <code>GeomNFLwordmark</code> (inherits from <code>Geom</code>, <code>ggproto</code>, <code>gg</code>) of length 5.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Sebastian Carl <a href="mailto:mrcaseb@gmail.com">mrcaseb@gmail.com</a>
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://nflplotr.nflverse.com">https://nflplotr.nflverse.com</a>
</p>
</li>
<li> <p><a href="https://github.com/nflverse/nflplotR">https://github.com/nflverse/nflplotR</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/nflverse/nflplotR/issues">https://github.com/nflverse/nflplotR/issues</a>
</p>
</li></ul>


<hr>
<h2 id='.nflplotR_clear_cache'>Clear nflplotR Cache</h2><span id='topic+.nflplotR_clear_cache'></span>

<h3>Description</h3>

<p>This function clears the memoised cache of all functions memoised by <code>nflplotR</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.nflplotR_clear_cache()
</code></pre>


<h3>Value</h3>

<p>Invisibly <code>NULL</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>.nflplotR_clear_cache()
</code></pre>

<hr>
<h2 id='element'>Theme Elements for Image Grobs</h2><span id='topic+element_nfl_logo'></span><span id='topic+element_nfl_wordmark'></span><span id='topic+element_nfl_headshot'></span><span id='topic+element_path'></span>

<h3>Description</h3>

<p>In conjunction with the <a href="ggplot2.html#topic+theme">ggplot2::theme</a> system, the following <code>element_</code>
functions enable images in non-data components of the plot, e.g. axis text.
</p>

<ul>
<li> <p><code>element_nfl_logo()</code>: draws NFL team logos instead of their abbreviations.
</p>
</li>
<li> <p><code>element_nfl_wordmark()</code>: draws NFL team wordmarks instead of their abbreviations.
</p>
</li>
<li> <p><code>element_nfl_headshot()</code>: draws NFL player headshots instead of their GSIS IDs.
</p>
</li>
<li> <p><code>element_path()</code>: draws images from valid image URLs instead of the URL.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>element_nfl_logo(
  alpha = NULL,
  colour = NA,
  hjust = NULL,
  vjust = NULL,
  color = NULL,
  size = 0.5
)

element_nfl_wordmark(
  alpha = NULL,
  colour = NA,
  hjust = NULL,
  vjust = NULL,
  color = NULL,
  size = 0.5
)

element_nfl_headshot(
  alpha = NULL,
  colour = NA,
  hjust = NULL,
  vjust = NULL,
  color = NULL,
  size = 0.5
)

element_path(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="element_+3A_alpha">alpha</code></td>
<td>
<p>The alpha channel, i.e. transparency level, as a numerical value
between 0 and 1.</p>
</td></tr>
<tr><td><code id="element_+3A_colour">colour</code>, <code id="element_+3A_color">color</code></td>
<td>
<p>The image will be colorized with this color. Use the
special character <code>"b/w"</code> to set it to black and white. For more information
on valid color names in ggplot2 see
<a href="https://ggplot2.tidyverse.org/articles/ggplot2-specs.html?q=colour#colour-and-fill">https://ggplot2.tidyverse.org/articles/ggplot2-specs.html?q=colour#colour-and-fill</a>.</p>
</td></tr>
<tr><td><code id="element_+3A_hjust">hjust</code>, <code id="element_+3A_vjust">vjust</code></td>
<td>
<p>The horizontal and vertical adjustment respectively.
Must be a numerical value between 0 and 1.</p>
</td></tr>
<tr><td><code id="element_+3A_size">size</code></td>
<td>
<p>The output grob size in <code>cm</code> (!).</p>
</td></tr>
<tr><td><code id="element_+3A_...">...</code></td>
<td>
<p>Arguments passed on to <a href="ggpath.html#topic+element_path">ggpath::element_path</a></p>
</td></tr>
</table>


<h3>Details</h3>

<p>The elements translate NFL team abbreviations or NFL player GSIS IDs
into logo images or player headshots, respectively.
</p>


<h3>Value</h3>

<p>An S3 object of class <code>element</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+geom_nfl_logos">geom_nfl_logos()</a></code>, <code><a href="#topic+geom_nfl_headshots">geom_nfl_headshots()</a></code>, <code><a href="#topic+geom_nfl_wordmarks">geom_nfl_wordmarks()</a></code>,
and <code><a href="#topic+geom_from_path">geom_from_path()</a></code> for more information on valid team abbreviations,
player IDs, and other parameters.
</p>
<p>The examples on <a href="https://nflplotr.nflverse.com/articles/nflplotR.html">https://nflplotr.nflverse.com/articles/nflplotR.html</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(nflplotR)
library(ggplot2)

team_abbr &lt;- valid_team_names()
# remove conference logos from this example
team_abbr &lt;- team_abbr[!team_abbr %in% c("AFC", "NFC", "NFL")]

df &lt;- data.frame(
  random_value = runif(length(team_abbr), 0, 1),
  teams = team_abbr
)

# use logos for x-axis
ggplot(df, aes(x = teams, y = random_value)) +
  geom_col(aes(color = teams, fill = teams), width = 0.5) +
  scale_color_nfl(type = "secondary") +
  scale_fill_nfl(alpha = 0.4) +
  theme_minimal() +
  theme(axis.text.x = element_nfl_logo())

# use logos for y-axis
ggplot(df, aes(y = teams, x = random_value)) +
  geom_col(aes(color = teams, fill = teams), width = 0.5) +
  scale_color_nfl(type = "secondary") +
  scale_fill_nfl(alpha = 0.4) +
  theme_minimal() +
  theme(axis.text.y = element_nfl_logo())

#############################################################################
# Headshot Examples
#############################################################################
library(nflplotR)
library(ggplot2)

# Silence an nflreadr message that is irrelevant here
old &lt;- options(nflreadr.cache_warning = FALSE)

dfh &lt;- data.frame(
  random_value = runif(9, 0, 1),
  player_gsis = c("00-0033873",
                  "00-0026498",
                  "00-0035228",
                  "00-0031237",
                  "00-0036355",
                  "00-0019596",
                  "00-0033077",
                  "00-0012345",
                  "00-0031280")
)

# use headshots for x-axis
ggplot(dfh, aes(x = player_gsis, y = random_value)) +
  geom_col(width = 0.5) +
  theme_minimal() +
  theme(axis.text.x = element_nfl_headshot(size = 1))

# use headshots for y-axis
ggplot(dfh, aes(y = player_gsis, x = random_value)) +
  geom_col(width = 0.5) +
  theme_minimal() +
  theme(axis.text.y = element_nfl_headshot(size = 1))

# Restore old options
options(old)

#############################################################################
# Wordmarks and other Images
#############################################################################

library(ggplot2)

dt &lt;- data.table::as.data.table(mtcars)[,
  `:=`(
    team = sample(c("LAC", "BUF", "DAL", "ARI"), nrow(mtcars), TRUE),
    player = sample(
      c("00-0033873", "00-0035228", "00-0036355", "00-0019596"),
      nrow(mtcars),
      TRUE
    )
  )
]

ggplot(dt, aes(x = mpg, y = disp)) +
  geom_point() +
  facet_wrap(vars(team)) +
  labs(
    title = tools::toTitleCase("These are random teams and data"),
    subtitle = "I just want to show how the nflplotR theme elements work",
    caption = "https://github.com/nflverse/nflseedR/raw/master/man/figures/caption.png"
  ) +
  theme_minimal() +
  theme(
    plot.title.position = "plot",
    plot.title = element_text(face = "bold"),
    axis.title = element_blank(),
    # make wordmarks of team abbreviations
    strip.text = element_nfl_wordmark(size = 1),
    # load image from url in caption
    plot.caption = element_path(hjust = 1, size = 0.4)
  )

</code></pre>

<hr>
<h2 id='geom_from_path'>ggplot2 Layer for Visualizing Images from URLs or Local Paths</h2><span id='topic+geom_from_path'></span>

<h3>Description</h3>

<p>This geom is used to plot images instead
of points in a ggplot. It requires x, y aesthetics as well as a path.
It has been outsourced to ggpath and is re-exported in nflplotR for
compatibility reasons.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_from_path(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="geom_from_path_+3A_...">...</code></td>
<td>

<p>Arguments passed on to <code><a href="ggpath.html#topic+geom_from_path">ggpath::geom_from_path</a></code>
</p>

<dl>
<dt><code>mapping</code></dt><dd><p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</dd>
<dt><code>data</code></dt><dd><p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</dd>
<dt><code>stat</code></dt><dd><p>The statistical transformation to use on the data for this layer.
When using a <code style="white-space: pre;">&#8288;geom_*()&#8288;</code> function to construct a layer, the <code>stat</code>
argument can be used the override the default coupling between geoms and
stats. The <code>stat</code> argument accepts the following:
</p>

<ul>
<li><p> A <code>Stat</code> ggproto subclass, for example <code>StatCount</code>.
</p>
</li>
<li><p> A string naming the stat. To give the stat as a string, strip the
function name of the <code>stat_</code> prefix. For example, to use <code>stat_count()</code>,
give the stat as <code>"count"</code>.
</p>
</li>
<li><p> For more information and other ways to specify the stat, see the
<a href="ggplot2.html#topic+layer_stats">layer stat</a> documentation.
</p>
</li></ul>
</dd>
<dt><code>position</code></dt><dd><p>A position adjustment to use on the data for this layer. This
can be used in various ways, including to prevent overplotting and
improving the display. The <code>position</code> argument accepts the following:
</p>

<ul>
<li><p> The result of calling a position function, such as <code>position_jitter()</code>.
This method allows for passing extra arguments to the position.
</p>
</li>
<li><p> A string naming the position adjustment. To give the position as a
string, strip the function name of the <code>position_</code> prefix. For example,
to use <code>position_jitter()</code>, give the position as <code>"jitter"</code>.
</p>
</li>
<li><p> For more information and other ways to specify the position, see the
<a href="ggplot2.html#topic+layer_positions">layer position</a> documentation.
</p>
</li></ul>
</dd>
<dt><code>na.rm</code></dt><dd><p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</dd>
<dt><code>show.legend</code></dt><dd><p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</dd>
<dt><code>inherit.aes</code></dt><dd><p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</dd>
</dl>
</td></tr>
</table>


<h3>Details</h3>

<p>This function has been outsourced to the ggpath package.
See <code><a href="ggpath.html#topic+geom_from_path">ggpath::geom_from_path</a></code> for details.
</p>


<h3>Value</h3>

<p>A ggplot2 layer (<code><a href="ggplot2.html#topic+layer">ggplot2::layer()</a></code>) that can be added to a plot
created with <code><a href="ggplot2.html#topic+ggplot">ggplot2::ggplot()</a></code>.
</p>


<h3>Aesthetics</h3>

<p><code>geom_from_path()</code> understands the following aesthetics (required aesthetics have no default value):
</p>

<dl>
<dt><code>x</code></dt><dd><p>The x-coordinate. Required.</p>
</dd>
<dt><code>y</code></dt><dd><p>The y-coordinate. Required.</p>
</dd>
<dt><code>path</code></dt><dd><p>a file path, url, raster object or bitmap array. See <code><a href="magick.html#topic+editing">magick::image_read()</a></code> for further information. Required.</p>
</dd>
<dt><code>alpha = NULL</code></dt><dd><p>The alpha channel, i.e. transparency level, as a numerical value between 0 and 1.</p>
</dd>
<dt><code>colour = NULL</code></dt><dd><p>The image will be colorized with this colour. Use the special character <code>"b/w"</code> to set it to black and white. For more information on valid colour names in ggplot2 see <a href="https://ggplot2.tidyverse.org/articles/ggplot2-specs.html?q=colour#colour-and-fill">https://ggplot2.tidyverse.org/articles/ggplot2-specs.html?q=colour#colour-and-fill</a></p>
</dd>
<dt><code>angle = 0</code></dt><dd><p>The angle of the image as a numerical value between 0° and 360°.</p>
</dd>
<dt><code>hjust = 0.5</code></dt><dd><p>The horizontal adjustment relative to the given x coordinate. Must be a numerical value between 0 and 1.</p>
</dd>
<dt><code>vjust = 0.5</code></dt><dd><p>The vertical adjustment relative to the given y coordinate. Must be a numerical value between 0 and 1.</p>
</dd>
<dt><code>width = 1.0</code></dt><dd><p>The desired width of the image in <code>npc</code> (Normalised Parent Coordinates).
The default value is set to 1.0 which is <em>big</em> but it is necessary
because all used values are computed relative to the default.
A typical size is <code>width = 0.1</code> (see below examples).</p>
</dd>
<dt><code>height = 1.0</code></dt><dd><p>The desired height of the image in <code>npc</code> (Normalised Parent Coordinates).
The default value is set to 1.0 which is <em>big</em> but it is necessary
because all used values are computed relative to the default.
A typical size is <code>height = 0.1</code> (see below examples).</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>
# example code


library(ggplot2)
library(nflplotR)

# create x-y-coordinates of a pentagon and add nflverse logo urls
df &lt;- data.frame(
  a = c(sin(2 * pi * (0:4) / 5), 0),
  b = c(cos(2 * pi * (0:4) / 5), 0),
  url = c(
    "https://github.com/nflverse/nflfastR/raw/master/man/figures/logo.png",
    "https://github.com/nflverse/nflseedR/raw/master/man/figures/logo.png",
    "https://github.com/nflverse/nfl4th/raw/master/man/figures/logo.png",
    "https://github.com/nflverse/nflreadr/raw/main/data-raw/logo.svg",
    "https://github.com/nflverse/nflplotR/raw/main/man/figures/logo.png",
    "https://github.com/nflverse/nflverse/raw/main/man/figures/logo.png"
  )
)

# plot images directly from url
ggplot(df, aes(x = a, y = b)) +
  geom_from_path(aes(path = url), width = 0.15) +
  coord_cartesian(xlim = c(-2, 2), ylim = c(-1.3, 1.5)) +
  theme_void()

# plot images directly from url and apply transparency
ggplot(df, aes(x = a, y = b)) +
  geom_from_path(aes(path = url), width = 0.15, alpha = 0.5) +
  coord_cartesian(xlim = c(-2, 2), ylim = c(-1.3, 1.5)) +
  theme_void()

# It is also possible and recommended to use the underlying Geom inside a
# ggplot2 annotation
ggplot() +
  annotate(
    ggpath::GeomFromPath,
    x = 0,
    y = 0,
    path = "https://github.com/nflverse/nflplotR/raw/main/man/figures/logo.png",
    width = 0.4
  ) +
  theme_minimal()


</code></pre>

<hr>
<h2 id='geom_lines'>ggplot2 Layer for Horizontal and Vertical Reference Lines</h2><span id='topic+geom_lines'></span><span id='topic+geom_median_lines'></span><span id='topic+geom_mean_lines'></span>

<h3>Description</h3>

<p>These geoms can be used to draw horizontal or vertical reference
lines in a ggplot. They use the data in the aesthetics <code>x0</code> and <code>y0</code>
to compute their <code>median</code> or <code>mean</code> and draw them as a line.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_median_lines(...)

geom_mean_lines(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="geom_lines_+3A_...">...</code></td>
<td>

<p>Arguments passed on to <code><a href="ggpath.html#topic+geom_lines">ggpath::geom_mean_lines</a></code>, <code><a href="ggpath.html#topic+geom_lines">ggpath::geom_median_lines</a></code>
</p>

<dl>
<dt><code>mapping</code></dt><dd><p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>.</p>
</dd>
<dt><code>data</code></dt><dd><p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</dd>
<dt><code>na.rm</code></dt><dd><p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</dd>
<dt><code>show.legend</code></dt><dd><p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</dd>
<dt><code>inherit.aes</code></dt><dd><p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behavior from
the default plot specification.</p>
</dd>
</dl>
</td></tr>
</table>


<h3>Details</h3>

<p>These functions have been outsourced to the ggpath package.
See <code><a href="ggpath.html#topic+geom_lines">ggpath::geom_median_lines</a></code> and <code><a href="ggpath.html#topic+geom_lines">ggpath::geom_mean_lines</a></code> for details.
</p>


<h3>Value</h3>

<p>A ggplot2 layer (<code><a href="ggplot2.html#topic+layer">ggplot2::layer()</a></code>) that can be added to a plot
created with <code><a href="ggplot2.html#topic+ggplot">ggplot2::ggplot()</a></code>.
</p>


<h3>Aesthetics</h3>

<p><code>geom_median_lines()</code> and <code>geom_mean_lines()</code> understand the following
aesthetics (at least one of the <code>x0</code> or <code>y0</code> aesthetics is required):
</p>

<dl>
<dt><code>x0</code></dt><dd><p>The variable for which to compute the median/mean that is drawn as vertical line.</p>
</dd>
<dt><code>y0</code></dt><dd><p>The variable for which to compute the median/mean that is drawn as horizontal line.</p>
</dd>
<dt><code>alpha = NA</code></dt><dd><p>The alpha channel, i.e. transparency level, as a numerical value between 0 and 1.</p>
</dd>
<dt><code>color = "red"</code></dt><dd><p>The color of the drawn lines.</p>
</dd>
<dt><code>linetype = 2</code></dt><dd><p>The linetype of the drawn lines.</p>
</dd>
<dt><code>size = 0.5</code></dt><dd><p>The size of the drawn lines. Deprecated as of ggplot2 v3.4.0, use <code>linewidth</code> instead.</p>
</dd>
<dt><code>linewidth = 0.5</code></dt><dd><p>The width of the drawn lines. Starting at ggplot2 v3.4.0.</p>
</dd>
</dl>



<h3>See Also</h3>

<p>The underlying ggplot2 geoms <code><a href="ggplot2.html#topic+geom_abline">ggplot2::geom_hline</a></code> and <code><a href="ggplot2.html#topic+geom_abline">ggplot2::geom_vline</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)

# inherit top level aesthetics
ggplot(mtcars, aes(x = disp, y = mpg, y0 = mpg, x0 = disp)) +
  geom_point() +
  geom_median_lines() +
  geom_mean_lines(color = "blue") +
  theme_minimal()

# draw horizontal line only
ggplot(mtcars, aes(x = disp, y = mpg, y0 = mpg)) +
  geom_point() +
  geom_median_lines() +
  geom_mean_lines(color = "blue") +
  theme_minimal()

# draw vertical line only
ggplot(mtcars, aes(x = disp, y = mpg, x0 = disp)) +
  geom_point() +
  geom_median_lines() +
  geom_mean_lines(color = "blue") +
  theme_minimal()

# choose your own value
ggplot(mtcars, aes(x = disp, y = mpg)) +
  geom_point() +
  geom_median_lines(x0 = 400, y0 = 15) +
  geom_mean_lines(x0 = 150, y0 = 30, color = "blue") +
  theme_minimal()
</code></pre>

<hr>
<h2 id='geom_nfl_headshots'>ggplot2 Layer for Visualizing NFL Player Headshots</h2><span id='topic+geom_nfl_headshots'></span>

<h3>Description</h3>

<p>This geom is used to plot NFL player headshots instead
of points in a ggplot. It requires x, y aesthetics as well as a valid NFL
player gsis id.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_nfl_headshots(
  mapping = NULL,
  data = NULL,
  stat = "identity",
  position = "identity",
  ...,
  na.rm = FALSE,
  show.legend = FALSE,
  inherit.aes = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="geom_nfl_headshots_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="geom_nfl_headshots_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_nfl_headshots_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this layer.
When using a <code style="white-space: pre;">&#8288;geom_*()&#8288;</code> function to construct a layer, the <code>stat</code>
argument can be used the override the default coupling between geoms and
stats. The <code>stat</code> argument accepts the following:
</p>

<ul>
<li><p> A <code>Stat</code> ggproto subclass, for example <code>StatCount</code>.
</p>
</li>
<li><p> A string naming the stat. To give the stat as a string, strip the
function name of the <code>stat_</code> prefix. For example, to use <code>stat_count()</code>,
give the stat as <code>"count"</code>.
</p>
</li>
<li><p> For more information and other ways to specify the stat, see the
<a href="ggplot2.html#topic+layer_stats">layer stat</a> documentation.
</p>
</li></ul>
</td></tr>
<tr><td><code id="geom_nfl_headshots_+3A_position">position</code></td>
<td>
<p>A position adjustment to use on the data for this layer. This
can be used in various ways, including to prevent overplotting and
improving the display. The <code>position</code> argument accepts the following:
</p>

<ul>
<li><p> The result of calling a position function, such as <code>position_jitter()</code>.
This method allows for passing extra arguments to the position.
</p>
</li>
<li><p> A string naming the position adjustment. To give the position as a
string, strip the function name of the <code>position_</code> prefix. For example,
to use <code>position_jitter()</code>, give the position as <code>"jitter"</code>.
</p>
</li>
<li><p> For more information and other ways to specify the position, see the
<a href="ggplot2.html#topic+layer_positions">layer position</a> documentation.
</p>
</li></ul>
</td></tr>
<tr><td><code id="geom_nfl_headshots_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">ggplot2::layer()</a></code>. These are
often aesthetics, used to set an aesthetic to a fixed value. See the below
section &quot;Aesthetics&quot; for a full list of possible arguments.</p>
</td></tr>
<tr><td><code id="geom_nfl_headshots_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_nfl_headshots_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="geom_nfl_headshots_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot2 layer (<code><a href="ggplot2.html#topic+layer">ggplot2::layer()</a></code>) that can be added to a plot
created with <code><a href="ggplot2.html#topic+ggplot">ggplot2::ggplot()</a></code>.
</p>


<h3>Aesthetics</h3>

<p><code>geom_nfl_headshots()</code> understands the following aesthetics (required aesthetics have no default value):
</p>

<dl>
<dt><code>x</code></dt><dd><p>The x-coordinate. Required.</p>
</dd>
<dt><code>y</code></dt><dd><p>The y-coordinate. Required.</p>
</dd>
<dt><code>player_gsis</code></dt><dd><p>The players' NFL gsis id. Required.</p>
</dd>
<dt><code>alpha = NULL</code></dt><dd><p>The alpha channel, i.e. transparency level, as a numerical value between 0 and 1.</p>
</dd>
<dt><code>colour = NULL</code></dt><dd><p>The image will be colorized with this colour. Use the special character <code>"b/w"</code> to set it to black and white. For more information on valid colour names in ggplot2 see <a href="https://ggplot2.tidyverse.org/articles/ggplot2-specs.html?q=colour#colour-and-fill">https://ggplot2.tidyverse.org/articles/ggplot2-specs.html?q=colour#colour-and-fill</a></p>
</dd>
<dt><code>angle = 0</code></dt><dd><p>The angle of the image as a numerical value between 0° and 360°.</p>
</dd>
<dt><code>hjust = 0.5</code></dt><dd><p>The horizontal adjustment relative to the given x coordinate. Must be a numerical value between 0 and 1.</p>
</dd>
<dt><code>vjust = 0.5</code></dt><dd><p>The vertical adjustment relative to the given y coordinate. Must be a numerical value between 0 and 1.</p>
</dd>
<dt><code>width = 1.0</code></dt><dd><p>The desired width of the image in <code>npc</code> (Normalised Parent Coordinates).
The default value is set to 1.0 which is <em>big</em> but it is necessary
because all used values are computed relative to the default.
A typical size is <code>width = 0.075</code> (see below examples).</p>
</dd>
<dt><code>height = 1.0</code></dt><dd><p>The desired height of the image in <code>npc</code> (Normalised Parent Coordinates).
The default value is set to 1.0 which is <em>big</em> but it is necessary
because all used values are computed relative to the default.
A typical size is <code>height = 0.1</code> (see below examples).</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>
library(nflplotR)
library(ggplot2)
# Silence an nflreadr message that is irrelevant here
old &lt;- options(nflreadr.cache_warning = FALSE)

df &lt;- data.frame(
  a = rep(1:3, 3),
  b = sort(rep(1:3, 3), decreasing = TRUE),
  player_gsis = c("00-0033873",
                  "00-0026498",
                  "00-0035228",
                  "00-0031237",
                  "00-0036355",
                  "00-0019596",
                  "00-0033077",
                  "00-0012345",
                  "00-0031280"),
  player_name = c("P.Mahomes",
                  "M.Stafford",
                  "K.Murray",
                  "T.Bridgewater",
                  "J.Herbert",
                  "T.Brady",
                  "D.Prescott",
                  "Non.Match",
                  "D.Carr")
)

# set a custom fill colour for one player
df$colour &lt;- ifelse(df$a == 2 &amp; df$b == 2, NA, "b/w")

# scatterplot of the headshots
ggplot(df, aes(x = a, y = b)) +
  geom_nfl_headshots(aes(player_gsis = player_gsis), height = 0.2) +
  geom_label(aes(label = player_name), nudge_y = -0.35, alpha = 0.5) +
  coord_cartesian(xlim = c(0.75, 3.25), ylim = c(0.7, 3.25)) +
  theme_void()

# apply alpha as constant
ggplot(df, aes(x = a, y = b)) +
  geom_nfl_headshots(aes(player_gsis = player_gsis), height = 0.2, alpha = 0.5) +
  geom_label(aes(label = player_name), nudge_y = -0.35, alpha = 0.5) +
  coord_cartesian(xlim = c(0.75, 3.25), ylim = c(0.7, 3.25)) +
  theme_void()

# apply colour as an aesthetic
ggplot(df, aes(x = a, y = b)) +
  geom_nfl_headshots(aes(player_gsis = player_gsis, colour = colour), height = 0.2) +
  geom_label(aes(label = player_name), nudge_y = -0.35, alpha = 0.5) +
  coord_cartesian(xlim = c(0.75, 3.25), ylim = c(0.7, 3.25)) +
  scale_colour_identity() +
  theme_void()

# Restore old options
options(old)

</code></pre>

<hr>
<h2 id='geom_nfl_logos'>ggplot2 Layer for Visualizing NFL Team Logos</h2><span id='topic+geom_nfl_logos'></span>

<h3>Description</h3>

<p>This geom is used to plot NFL team and conference logos instead
of points in a ggplot. It requires x, y aesthetics as well as a valid NFL
team abbreviation. The latter can be checked with <code><a href="#topic+valid_team_names">valid_team_names()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_nfl_logos(
  mapping = NULL,
  data = NULL,
  stat = "identity",
  position = "identity",
  ...,
  na.rm = FALSE,
  show.legend = FALSE,
  inherit.aes = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="geom_nfl_logos_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="geom_nfl_logos_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_nfl_logos_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this layer.
When using a <code style="white-space: pre;">&#8288;geom_*()&#8288;</code> function to construct a layer, the <code>stat</code>
argument can be used the override the default coupling between geoms and
stats. The <code>stat</code> argument accepts the following:
</p>

<ul>
<li><p> A <code>Stat</code> ggproto subclass, for example <code>StatCount</code>.
</p>
</li>
<li><p> A string naming the stat. To give the stat as a string, strip the
function name of the <code>stat_</code> prefix. For example, to use <code>stat_count()</code>,
give the stat as <code>"count"</code>.
</p>
</li>
<li><p> For more information and other ways to specify the stat, see the
<a href="ggplot2.html#topic+layer_stats">layer stat</a> documentation.
</p>
</li></ul>
</td></tr>
<tr><td><code id="geom_nfl_logos_+3A_position">position</code></td>
<td>
<p>A position adjustment to use on the data for this layer. This
can be used in various ways, including to prevent overplotting and
improving the display. The <code>position</code> argument accepts the following:
</p>

<ul>
<li><p> The result of calling a position function, such as <code>position_jitter()</code>.
This method allows for passing extra arguments to the position.
</p>
</li>
<li><p> A string naming the position adjustment. To give the position as a
string, strip the function name of the <code>position_</code> prefix. For example,
to use <code>position_jitter()</code>, give the position as <code>"jitter"</code>.
</p>
</li>
<li><p> For more information and other ways to specify the position, see the
<a href="ggplot2.html#topic+layer_positions">layer position</a> documentation.
</p>
</li></ul>
</td></tr>
<tr><td><code id="geom_nfl_logos_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">ggplot2::layer()</a></code>. These are
often aesthetics, used to set an aesthetic to a fixed value. See the below
section &quot;Aesthetics&quot; for a full list of possible arguments.</p>
</td></tr>
<tr><td><code id="geom_nfl_logos_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_nfl_logos_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="geom_nfl_logos_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot2 layer (<code><a href="ggplot2.html#topic+layer">ggplot2::layer()</a></code>) that can be added to a plot
created with <code><a href="ggplot2.html#topic+ggplot">ggplot2::ggplot()</a></code>.
</p>


<h3>Aesthetics</h3>

<p><code>geom_nfl_logos()</code> understands the following aesthetics (required aesthetics have no default value):
</p>

<dl>
<dt><code>x</code></dt><dd><p>The x-coordinate. Required.</p>
</dd>
<dt><code>y</code></dt><dd><p>The y-coordinate. Required.</p>
</dd>
<dt><code>team_abbr</code></dt><dd><p>The team abbreviation. Should be one of <code><a href="#topic+valid_team_names">valid_team_names()</a></code>. The function tries to clean team names internally by calling <code><a href="nflreadr.html#topic+clean_team_abbrs">nflreadr::clean_team_abbrs()</a></code>. Note: <code>"NFL"</code>, <code>"AFC"</code>, <code>"NFC"</code> are valid abbreviations! Required.</p>
</dd>
<dt><code>alpha = NULL</code></dt><dd><p>The alpha channel, i.e. transparency level, as a numerical value between 0 and 1.</p>
</dd>
<dt><code>colour = NULL</code></dt><dd><p>The image will be colorized with this colour. Use the special character <code>"b/w"</code> to set it to black and white. For more information on valid colour names in ggplot2 see <a href="https://ggplot2.tidyverse.org/articles/ggplot2-specs.html?q=colour#colour-and-fill">https://ggplot2.tidyverse.org/articles/ggplot2-specs.html?q=colour#colour-and-fill</a></p>
</dd>
<dt><code>angle = 0</code></dt><dd><p>The angle of the image as a numerical value between 0° and 360°.</p>
</dd>
<dt><code>hjust = 0.5</code></dt><dd><p>The horizontal adjustment relative to the given x coordinate. Must be a numerical value between 0 and 1.</p>
</dd>
<dt><code>vjust = 0.5</code></dt><dd><p>The vertical adjustment relative to the given y coordinate. Must be a numerical value between 0 and 1.</p>
</dd>
<dt><code>width = 1.0</code></dt><dd><p>The desired width of the image in <code>npc</code> (Normalised Parent Coordinates).
The default value is set to 1.0 which is <em>big</em> but it is necessary
because all used values are computed relative to the default.
A typical size is <code>width = 0.075</code> (see below examples).</p>
</dd>
<dt><code>height = 1.0</code></dt><dd><p>The desired height of the image in <code>npc</code> (Normalised Parent Coordinates).
The default value is set to 1.0 which is <em>big</em> but it is necessary
because all used values are computed relative to the default.
A typical size is <code>height = 0.1</code> (see below examples).</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>
library(nflplotR)
library(ggplot2)

team_abbr &lt;- valid_team_names()
# remove conference logos from this example
team_abbr &lt;- team_abbr[!team_abbr %in% c("AFC", "NFC", "NFL")]

df &lt;- data.frame(
  a = rep(1:8, 4),
  b = sort(rep(1:4, 8), decreasing = TRUE),
  teams = team_abbr
)

# keep alpha == 1 for all teams including an "A"
matches &lt;- grepl("A", team_abbr)
df$alpha &lt;- ifelse(matches, 1, 0.2)
# also set a custom fill colour for the non "A" teams
df$colour &lt;- ifelse(matches, NA, "gray")

# scatterplot of all logos
ggplot(df, aes(x = a, y = b)) +
  geom_nfl_logos(aes(team_abbr = teams), width = 0.075) +
  geom_label(aes(label = teams), nudge_y = -0.35, alpha = 0.5) +
  expand_limits(y = c(0.9, 4.1)) +
  theme_void()

# apply alpha via an aesthetic from inside the dataset `df`
# please note that you have to add scale_alpha_identity() to use the alpha
# values in your dataset!
ggplot(df, aes(x = a, y = b)) +
  geom_nfl_logos(aes(team_abbr = teams, alpha = alpha), width = 0.075) +
  geom_label(aes(label = teams), nudge_y = -0.35, alpha = 0.5) +
  expand_limits(y = c(0.9, 4.1)) +
  scale_alpha_identity() +
  theme_void()

# apply alpha and colour via an aesthetic from inside the dataset `df`
# please note that you have to add scale_alpha_identity() as well as
# scale_color_identity() to use the alpha and colour values in your dataset!
ggplot(df, aes(x = a, y = b)) +
  geom_nfl_logos(aes(team_abbr = teams, alpha = alpha, colour = colour), width = 0.075) +
  geom_label(aes(label = teams), nudge_y = -0.35, alpha = 0.5) +
  expand_limits(y = c(0.9, 4.1)) +
  scale_alpha_identity() +
  scale_color_identity() +
  theme_void()

# apply alpha as constant for all logos
ggplot(df, aes(x = a, y = b)) +
  geom_nfl_logos(aes(team_abbr = teams), width = 0.075, alpha = 0.6) +
  geom_label(aes(label = teams), nudge_y = -0.35, alpha = 0.5) +
  expand_limits(y = c(0.9, 4.1)) +
  theme_void()

# it's also possible to plot NFL and conference logos
dat &lt;- data.frame(a = c(1.5, 1:2), b = c(1, 0, 0), teams = c("NFL", "AFC", "NFC"))
ggplot(dat, aes(x = a, y = b)) +
  geom_nfl_logos(aes(team_abbr = teams), width = 0.25) +
  coord_cartesian(xlim = c(0.5,2.5), ylim = c(-0.75, 1.75)) +
  theme_void()

</code></pre>

<hr>
<h2 id='geom_nfl_wordmarks'>ggplot2 Layer for Visualizing NFL Team Wordmarks</h2><span id='topic+geom_nfl_wordmarks'></span>

<h3>Description</h3>

<p>This geom is used to plot NFL team wordmarks instead
of points in a ggplot. It requires x, y aesthetics as well as a valid NFL
team abbreviation. The latter can be checked with <code><a href="#topic+valid_team_names">valid_team_names()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_nfl_wordmarks(
  mapping = NULL,
  data = NULL,
  stat = "identity",
  position = "identity",
  ...,
  na.rm = FALSE,
  show.legend = FALSE,
  inherit.aes = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="geom_nfl_wordmarks_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="geom_nfl_wordmarks_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_nfl_wordmarks_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this layer.
When using a <code style="white-space: pre;">&#8288;geom_*()&#8288;</code> function to construct a layer, the <code>stat</code>
argument can be used the override the default coupling between geoms and
stats. The <code>stat</code> argument accepts the following:
</p>

<ul>
<li><p> A <code>Stat</code> ggproto subclass, for example <code>StatCount</code>.
</p>
</li>
<li><p> A string naming the stat. To give the stat as a string, strip the
function name of the <code>stat_</code> prefix. For example, to use <code>stat_count()</code>,
give the stat as <code>"count"</code>.
</p>
</li>
<li><p> For more information and other ways to specify the stat, see the
<a href="ggplot2.html#topic+layer_stats">layer stat</a> documentation.
</p>
</li></ul>
</td></tr>
<tr><td><code id="geom_nfl_wordmarks_+3A_position">position</code></td>
<td>
<p>A position adjustment to use on the data for this layer. This
can be used in various ways, including to prevent overplotting and
improving the display. The <code>position</code> argument accepts the following:
</p>

<ul>
<li><p> The result of calling a position function, such as <code>position_jitter()</code>.
This method allows for passing extra arguments to the position.
</p>
</li>
<li><p> A string naming the position adjustment. To give the position as a
string, strip the function name of the <code>position_</code> prefix. For example,
to use <code>position_jitter()</code>, give the position as <code>"jitter"</code>.
</p>
</li>
<li><p> For more information and other ways to specify the position, see the
<a href="ggplot2.html#topic+layer_positions">layer position</a> documentation.
</p>
</li></ul>
</td></tr>
<tr><td><code id="geom_nfl_wordmarks_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">ggplot2::layer()</a></code>. These are
often aesthetics, used to set an aesthetic to a fixed value. See the below
section &quot;Aesthetics&quot; for a full list of possible arguments.</p>
</td></tr>
<tr><td><code id="geom_nfl_wordmarks_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_nfl_wordmarks_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="geom_nfl_wordmarks_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot2 layer (<code><a href="ggplot2.html#topic+layer">ggplot2::layer()</a></code>) that can be added to a plot
created with <code><a href="ggplot2.html#topic+ggplot">ggplot2::ggplot()</a></code>.
</p>


<h3>Aesthetics</h3>

<p><code>geom_nfl_logos()</code> understands the following aesthetics (required aesthetics have no default value):
</p>

<dl>
<dt><code>x</code></dt><dd><p>The x-coordinate. Required.</p>
</dd>
<dt><code>y</code></dt><dd><p>The y-coordinate. Required.</p>
</dd>
<dt><code>team_abbr</code></dt><dd><p>The team abbreviation. Should be one of <code><a href="#topic+valid_team_names">valid_team_names()</a></code>. The function tries to clean team names internally by calling <code><a href="nflreadr.html#topic+clean_team_abbrs">nflreadr::clean_team_abbrs()</a></code>. Required.</p>
</dd>
<dt><code>alpha = NULL</code></dt><dd><p>The alpha channel, i.e. transparency level, as a numerical value between 0 and 1.</p>
</dd>
<dt><code>colour = NULL</code></dt><dd><p>The image will be colorized with this colour. Use the special character <code>"b/w"</code> to set it to black and white. For more information on valid colour names in ggplot2 see <a href="https://ggplot2.tidyverse.org/articles/ggplot2-specs.html?q=colour#colour-and-fill">https://ggplot2.tidyverse.org/articles/ggplot2-specs.html?q=colour#colour-and-fill</a></p>
</dd>
<dt><code>angle = 0</code></dt><dd><p>The angle of the image as a numerical value between 0° and 360°.</p>
</dd>
<dt><code>hjust = 0.5</code></dt><dd><p>The horizontal adjustment relative to the given x coordinate. Must be a numerical value between 0 and 1.</p>
</dd>
<dt><code>vjust = 0.5</code></dt><dd><p>The vertical adjustment relative to the given y coordinate. Must be a numerical value between 0 and 1.</p>
</dd>
<dt><code>width = 1.0</code></dt><dd><p>The desired width of the image in <code>npc</code> (Normalised Parent Coordinates).
The default value is set to 1.0 which is <em>big</em> but it is necessary
because all used values are computed relative to the default.
A typical size is <code>width = 0.1</code> (see below examples).</p>
</dd>
<dt><code>height = 1.0</code></dt><dd><p>The desired height of the image in <code>npc</code> (Normalised Parent Coordinates).
The default value is set to 1.0 which is <em>big</em> but it is necessary
because all used values are computed relative to the default.
A typical size is <code>height = 0.1</code> (see below examples).</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>
library(nflplotR)
library(ggplot2)

team_abbr &lt;- valid_team_names()
# remove conference logos from this example
team_abbr &lt;- team_abbr[!team_abbr %in% c("AFC", "NFC", "NFL")]

df &lt;- data.frame(
  a = rep(1:8, 4),
  b = sort(rep(1:4, 8), decreasing = TRUE),
  teams = team_abbr
)

# keep alpha == 1 for all teams including an "A"
matches &lt;- grepl("A", team_abbr)
df$alpha &lt;- ifelse(matches, 1, 0.2)
# also set a custom fill colour for the non "A" teams
df$colour &lt;- ifelse(matches, NA, "gray")

# scatterplot of all wordmarks
ggplot(df, aes(x = a, y = b)) +
  geom_nfl_wordmarks(aes(team_abbr = teams), width = 0.12) +
  geom_label(aes(label = teams), nudge_y = -0.20, alpha = 0.5) +
  scale_x_continuous(expand = expansion(add = 0.5)) +
  theme_void()

# apply alpha via an aesthetic from inside the dataset `df`
# please note that you have to add scale_alpha_identity() to use the alpha
# values in your dataset!
ggplot(df, aes(x = a, y = b)) +
  geom_nfl_wordmarks(aes(team_abbr = teams, alpha = alpha), width = 0.12) +
  geom_label(aes(label = teams), nudge_y = -0.20, alpha = 0.5) +
  scale_x_continuous(expand = expansion(add = 0.5)) +
  scale_alpha_identity() +
  theme_void()

# apply alpha and colour via an aesthetic from inside the dataset `df`
# please note that you have to add scale_alpha_identity() as well as
# scale_color_identity() to use the alpha and colour values in your dataset!
ggplot(df, aes(x = a, y = b)) +
  geom_nfl_wordmarks(aes(team_abbr = teams, alpha = alpha, colour = colour), width = 0.12) +
  geom_label(aes(label = teams), nudge_y = -0.20, alpha = 0.5) +
  scale_x_continuous(expand = expansion(add = 0.5)) +
  scale_alpha_identity() +
  scale_color_identity() +
  theme_void()

# apply alpha as constant for all logos
ggplot(df, aes(x = a, y = b)) +
  geom_nfl_wordmarks(aes(team_abbr = teams), width = 0.12, alpha = 0.6) +
  geom_label(aes(label = teams), nudge_y = -0.20, alpha = 0.5) +
  scale_x_continuous(expand = expansion(add = 0.5)) +
  theme_void()


</code></pre>

<hr>
<h2 id='ggpreview'>Preview ggplot in Specified Dimensions</h2><span id='topic+ggpreview'></span>

<h3>Description</h3>

<p>This function previews a ggplot in its actual dimensions in order to see how
it will look when saved. It is also significantly faster than the default
preview in RStudio for ggplots created using nflplotR.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ggpreview(
  plot = ggplot2::last_plot(),
  width = NA,
  height = NA,
  asp = NULL,
  dpi = 300,
  device = "png",
  units = c("in", "cm", "mm", "px"),
  scale = 1,
  limitsize = TRUE,
  bg = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ggpreview_+3A_plot">plot</code></td>
<td>
<p>Plot to save, defaults to last plot displayed.</p>
</td></tr>
<tr><td><code id="ggpreview_+3A_width">width</code>, <code id="ggpreview_+3A_height">height</code></td>
<td>
<p>Plot size in units expressed by the <code>units</code> argument.
If not supplied, uses the size of the current graphics device.</p>
</td></tr>
<tr><td><code id="ggpreview_+3A_asp">asp</code></td>
<td>
<p>The aspect ratio of the plot calculated as <code>width / height</code>. If
this is a numeric value (and not <code>NULL</code>) the <code>height</code> of the plot will be
recalculated to <code>height = width / asp</code>.</p>
</td></tr>
<tr><td><code id="ggpreview_+3A_dpi">dpi</code></td>
<td>
<p>Plot resolution. Also accepts a string input: &quot;retina&quot; (320),
&quot;print&quot; (300), or &quot;screen&quot; (72). Applies only to raster output types.</p>
</td></tr>
<tr><td><code id="ggpreview_+3A_device">device</code></td>
<td>
<p>Device to use. Can either be a device function
(e.g. <a href="grDevices.html#topic+png">png</a>), or one of &quot;eps&quot;, &quot;ps&quot;, &quot;tex&quot; (pictex),
&quot;pdf&quot;, &quot;jpeg&quot;, &quot;tiff&quot;, &quot;png&quot;, &quot;bmp&quot;, &quot;svg&quot; or &quot;wmf&quot; (windows only). If
<code>NULL</code> (default), the device is guessed based on the <code>filename</code> extension.</p>
</td></tr>
<tr><td><code id="ggpreview_+3A_units">units</code></td>
<td>
<p>One of the following units in which the <code>width</code> and <code>height</code>
arguments are expressed: <code>"in"</code>, <code>"cm"</code>, <code>"mm"</code> or <code>"px"</code>.</p>
</td></tr>
<tr><td><code id="ggpreview_+3A_scale">scale</code></td>
<td>
<p>Multiplicative scaling factor.</p>
</td></tr>
<tr><td><code id="ggpreview_+3A_limitsize">limitsize</code></td>
<td>
<p>When <code>TRUE</code> (the default), <code>ggsave()</code> will not
save images larger than 50x50 inches, to prevent the common error of
specifying dimensions in pixels.</p>
</td></tr>
<tr><td><code id="ggpreview_+3A_bg">bg</code></td>
<td>
<p>Background colour. If <code>NULL</code>, uses the <code>plot.background</code> fill value
from the plot theme.</p>
</td></tr>
<tr><td><code id="ggpreview_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to the graphics device function,
as specified by <code>device</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(nflplotR)
library(ggplot2)

team_abbr &lt;- valid_team_names()
# remove conference logos from this example
team_abbr &lt;- team_abbr[!team_abbr %in% c("AFC", "NFC", "NFL")]

df &lt;- data.frame(
  random_value = runif(length(team_abbr), 0, 1),
  teams = team_abbr
)

# use logos for x-axis
# note that the plot is assigned to the object "p"
p &lt;- ggplot(df, aes(x = teams, y = random_value)) +
  geom_col(aes(color = teams, fill = teams), width = 0.5) +
  scale_color_nfl(type = "secondary") +
  scale_fill_nfl(alpha = 0.4) +
  theme_minimal() +
  theme(axis.text.x = element_nfl_logo())

# preview p with defined width and aspect ratio (only available in RStudio)
if (rstudioapi::isAvailable()){
  ggpreview(p, width = 5, asp = 16/9)
}
</code></pre>

<hr>
<h2 id='gt_nfl_cols_label'>Render Logos, Wordmarks, and Headshots in 'gt' Table Column Labels</h2><span id='topic+gt_nfl_cols_label'></span>

<h3>Description</h3>

<p>Translate NFL team abbreviations into logos and wordmarks or
NFL player gsis IDs to player headshots and render these images in
column labels of 'gt' tables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gt_nfl_cols_label(
  gt_object,
  columns = gt::everything(),
  ...,
  height = 30,
  type = c("logo", "wordmark", "headshot")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="gt_nfl_cols_label_+3A_gt_object">gt_object</code></td>
<td>
<p>A table object that is created using the <code><a href="gt.html#topic+gt">gt::gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="gt_nfl_cols_label_+3A_columns">columns</code></td>
<td>
<p>The columns for which the image translation should be applied.
Argument has no effect if <code>locations</code> is not <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="gt_nfl_cols_label_+3A_...">...</code></td>
<td>
<p>Currently not in use</p>
</td></tr>
<tr><td><code id="gt_nfl_cols_label_+3A_height">height</code></td>
<td>
<p>The absolute height (px) of the image in the table cell.</p>
</td></tr>
<tr><td><code id="gt_nfl_cols_label_+3A_type">type</code></td>
<td>
<p>One of <code>"logo"</code>, <code>"wordmark"</code>, or <code>"headshot"</code> selecting whether
to render a team's logo or wordmark image, or a player's headshot.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Output of below example</h3>

<p><img src="../help/figures/cols_label.png" width=75% alt="cols_label.png" />
</p>


<h3>See Also</h3>

<p>The article that describes how nflplotR works with the 'gt' package
<a href="https://nflplotr.nflverse.com/articles/gt.html">https://nflplotr.nflverse.com/articles/gt.html</a>
</p>
<p>The logo and wordmark rendering functions <code><a href="#topic+gt_nfl_logos">gt_nfl_logos()</a></code> and
<code><a href="#topic+gt_nfl_wordmarks">gt_nfl_wordmarks()</a></code>.
</p>
<p>The player headshot rendering function <code><a href="#topic+gt_nfl_headshots">gt_nfl_headshots()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(gt)
label_df &lt;- data.frame(
  "00-0036355" = 1,
  "00-0033873" = 2,
  "LAC" = 11,
  "KC" = 12,
  check.names = FALSE
)

# create gt table and translate player IDs and team abbreviations
# into headshots, logos, and wordmarks
table &lt;- gt::gt(label_df) %&gt;%
  nflplotR::gt_nfl_cols_label(
    columns = gt::starts_with("00"),
    type = "headshot"
  ) %&gt;%
  nflplotR::gt_nfl_cols_label("LAC", type = "wordmark") %&gt;%
  nflplotR::gt_nfl_cols_label("KC", type = "logo")

</code></pre>

<hr>
<h2 id='gt_nfl_headshots'>Render Player Headshots in 'gt' Tables</h2><span id='topic+gt_nfl_headshots'></span>

<h3>Description</h3>

<p>Translate NFL player gsis IDs to player headshots and
render these images in html tables with the 'gt' package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gt_nfl_headshots(gt_object, columns, height = 30, locations = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="gt_nfl_headshots_+3A_gt_object">gt_object</code></td>
<td>
<p>A table object that is created using the <code><a href="gt.html#topic+gt">gt::gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="gt_nfl_headshots_+3A_columns">columns</code></td>
<td>
<p>The columns for which the image translation should be applied.
Argument has no effect if <code>locations</code> is not <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="gt_nfl_headshots_+3A_height">height</code></td>
<td>
<p>The absolute height (px) of the image in the table cell.</p>
</td></tr>
<tr><td><code id="gt_nfl_headshots_+3A_locations">locations</code></td>
<td>
<p>If <code>NULL</code> (the default), the function will render
logos/wordmarks in argument <code>columns</code>.
Otherwise, the cell or set of cells to be associated with the team name
transformation. Only the <code><a href="gt.html#topic+cells_body">gt::cells_body()</a></code>, <code><a href="gt.html#topic+cells_stub">gt::cells_stub()</a></code>,
<code><a href="gt.html#topic+cells_column_labels">gt::cells_column_labels()</a></code>, and <code><a href="gt.html#topic+cells_row_groups">gt::cells_row_groups()</a></code> helper functions
can be used here. We can enclose several of these calls within a <code>list()</code>
if we wish to make the transformation happen at different locations.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Output of below example</h3>

<p><img src="../help/figures/headshot_tbl.png" width=50% alt="headshot_tbl.png" />
</p>


<h3>See Also</h3>

<p>The logo and wordmark rendering functions <code><a href="#topic+gt_nfl_logos">gt_nfl_logos()</a></code> and
<code><a href="#topic+gt_nfl_wordmarks">gt_nfl_wordmarks()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(nflplotR)
library(gt)
# Silence an nflreadr message that is irrelevant here
old &lt;- options(nflreadr.cache_warning = FALSE)
df &lt;- data.frame(
  player_gsis = c("00-0033873",
                  "00-0026498",
                  "00-0035228",
                  "00-0031237",
                  "00-0036355",
                  "00-0019596",
                  "00-0033077",
                  "00-0012345",
                  "00-0031280"),
  player_name = c("P.Mahomes",
                  "M.Stafford",
                  "K.Murray",
                  "T.Bridgewater",
                  "J.Herbert",
                  "T.Brady",
                  "D.Prescott",
                  "Non.Match",
                  "D.Carr")
)

# Replace player IDs with headshot images
table &lt;- gt(df) %&gt;%
  gt_nfl_headshots("player_gsis")

# Restore old options
options(old)

</code></pre>

<hr>
<h2 id='gt_nfl_logos'>Render Logos and Wordmarks in 'gt' Tables</h2><span id='topic+gt_nfl_logos'></span><span id='topic+gt_nfl_wordmarks'></span>

<h3>Description</h3>

<p>Translate NFL team abbreviations into logos and wordmarks and
render these images in html tables with the 'gt' package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gt_nfl_logos(gt_object, columns, height = 30, locations = NULL)

gt_nfl_wordmarks(gt_object, columns, height = 30, locations = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="gt_nfl_logos_+3A_gt_object">gt_object</code></td>
<td>
<p>A table object that is created using the <code><a href="gt.html#topic+gt">gt::gt()</a></code> function.</p>
</td></tr>
<tr><td><code id="gt_nfl_logos_+3A_columns">columns</code></td>
<td>
<p>The columns for which the image translation should be applied.
Argument has no effect if <code>locations</code> is not <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="gt_nfl_logos_+3A_height">height</code></td>
<td>
<p>The absolute height (px) of the image in the table cell.</p>
</td></tr>
<tr><td><code id="gt_nfl_logos_+3A_locations">locations</code></td>
<td>
<p>If <code>NULL</code> (the default), the function will render
logos/wordmarks in argument <code>columns</code>.
Otherwise, the cell or set of cells to be associated with the team name
transformation. Only the <code><a href="gt.html#topic+cells_body">gt::cells_body()</a></code>, <code><a href="gt.html#topic+cells_stub">gt::cells_stub()</a></code>,
<code><a href="gt.html#topic+cells_column_labels">gt::cells_column_labels()</a></code>, and <code><a href="gt.html#topic+cells_row_groups">gt::cells_row_groups()</a></code> helper functions
can be used here. We can enclose several of these calls within a <code>list()</code>
if we wish to make the transformation happen at different locations.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gt_tbl</code>.
</p>


<h3>Output of below example</h3>

<p><img src="../help/figures/logo_tbl.png" width=75% alt="logo_tbl.png" />
</p>


<h3>See Also</h3>

<p>The player headshot rendering function <code><a href="#topic+gt_nfl_headshots">gt_nfl_headshots()</a></code>.
</p>
<p>The article that describes how nflplotR works with the 'gt' package
<a href="https://nflplotr.nflverse.com/articles/gt.html">https://nflplotr.nflverse.com/articles/gt.html</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(gt)
library(nflplotR)
teams &lt;- valid_team_names()
# remove conference logos from this example
teams &lt;- teams[!teams %in% c("AFC", "NFC", "NFL")]
# create dataframe with all 32 team names
df &lt;- data.frame(
  team_a = head(teams, 16),
  logo_a = head(teams, 16),
  wordmark_a = head(teams, 16),
  team_b = tail(teams, 16),
  logo_b = tail(teams, 16),
  wordmark_b = tail(teams, 16)
)
# create gt table and translate team names to logo/wordmark images
table &lt;- df %&gt;%
  gt() %&gt;%
  gt_nfl_logos(columns = gt::starts_with("logo")) %&gt;%
  gt_nfl_wordmarks(columns = gt::starts_with("wordmark"))

</code></pre>

<hr>
<h2 id='gt_render_image'>Render 'gt' Table to Temporary png File</h2><span id='topic+gt_render_image'></span>

<h3>Description</h3>

<p>Saves a gt table to a temporary png image file and uses magick to render
tables in reproducible examples like <code>reprex::reprex()</code> or in package
function examples (see details for further information).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gt_render_image(gt_tbl, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="gt_render_image_+3A_gt_tbl">gt_tbl</code></td>
<td>
<p>An object of class <code>gt_tbl</code> usually created by <code><a href="gt.html#topic+gt">gt::gt()</a></code></p>
</td></tr>
<tr><td><code id="gt_render_image_+3A_...">...</code></td>
<td>
<p>Arguments passed on to <code><a href="webshot2.html#topic+webshot">webshot2::webshot()</a></code> and <code><a href="graphics.html#topic+par">par()</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Rendering gt tables in function examples is not trivial because
of the behavior of an underlying dependency: chromote. It keeps a process
running even if the chromote session is closed. Unfortunately, this causes
R CMD Check errors related to open connections after example runs. The only
way to avoid this is setting the environment variable <code style="white-space: pre;">&#8288;_R_CHECK_CONNECTIONS_LEFT_OPEN_&#8288;</code>
to <code>"false"</code>. How to do that depends on where and how developers check their
package. A good way to prevent an example from being executed because the
environment variable was not set to <code>"false"</code> can be taken from the source
code of this function.
</p>


<h3>Value</h3>

<p>Returns <code>NULL</code> invisibly.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
tbl &lt;- gt::gt_preview(mtcars)
gt_render_image(tbl)

</code></pre>

<hr>
<h2 id='nfl_team_factor'>Create Ordered NFL Team Name Factor</h2><span id='topic+nfl_team_factor'></span>

<h3>Description</h3>

<p>Create Ordered NFL Team Name Factor
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nfl_team_factor(teams, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="nfl_team_factor_+3A_teams">teams</code></td>
<td>
<p>A vector of NFL team abbreviations that should be included in
<code><a href="#topic+valid_team_names">valid_team_names()</a></code>. The function tries to clean team names internally
by calling <code><a href="nflreadr.html#topic+clean_team_abbrs">nflreadr::clean_team_abbrs()</a></code>.</p>
</td></tr>
<tr><td><code id="nfl_team_factor_+3A_...">...</code></td>
<td>
<p>One or more unquoted column names of <code><a href="nflreadr.html#topic+load_teams">nflreadr::load_teams()</a></code>
to sort by. If empty, the function will sort by division and nick name in
ascending order. This is intended to be used for faceted plots where team
wordmarks are used in strip texts, i.e. <code>element_nfl_wordmark()</code>.
See examples for more details.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Object of class <code>"factor"</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# unsorted vector including NFL team abbreviations
teams &lt;- c("LAC", "LV", "CLE", "BAL", "DEN", "PIT", "CIN", "KC")

# defaults to sort by division and nick name in ascending order
nfl_team_factor(teams)

# can sort by every column in nflreadr::load_teams()
nfl_team_factor(teams, team_abbr)

# descending order by using base::rev()
nfl_team_factor(teams, rev(team_abbr))

######### HOW TO USE IN PRACTICE #########

library(ggplot2)
# load some sample data from the ggplot2 package
plot_data &lt;- mpg
# add a new column by randomly sampling the above defined teams vector
plot_data$team &lt;- sample(teams, nrow(mpg), replace = TRUE)

# Now we plot the data and facet by team abbreviation. ggplot automatically
# converts the team names to a factor and sorts it alphabetically
ggplot(plot_data, aes(displ, hwy)) +
  geom_point() +
  facet_wrap(~team, ncol = 4) +
  theme_minimal()

# We'll change the order of facets by making another team name column and
# converting it to an ordered factor. Again, this defaults to sort by division
# and nick name in ascending order.
plot_data$ordered_team &lt;- nfl_team_factor(sample(teams, nrow(mpg), replace = TRUE))

# Let's check how the facets are ordered now.
ggplot(plot_data, aes(displ, hwy)) +
  geom_point() +
  facet_wrap(~ordered_team, ncol = 4) +
  theme_minimal()

# The facet order looks weird because the defaults is meant to be used with
# NFL team wordmarks. So let's use the actual wordmarks and look at the result.
ggplot(plot_data, aes(displ, hwy)) +
  geom_point() +
  facet_wrap(~ordered_team, ncol = 4) +
  theme_minimal() +
  theme(strip.text = element_nfl_wordmark())


</code></pre>

<hr>
<h2 id='nfl_team_tiers'>Create NFL Team Tiers</h2><span id='topic+nfl_team_tiers'></span>

<h3>Description</h3>

<p>This function sets up a ggplot to visualize NFL team tiers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nfl_team_tiers(
  data,
  title = "NFL Team Tiers, 2021 as of Week 4",
  subtitle = "created with the #nflplotR Tiermaker",
  caption = NULL,
  tier_desc = c(`1` = "Super Bowl", `2` = "Very Good", `3` = "Medium", `4` = "Bad", `5` =
    "What are they doing?", `6` = "", `7` = ""),
  presort = FALSE,
  alpha = 0.8,
  width = 0.075,
  no_line_below_tier = NULL,
  devel = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="nfl_team_tiers_+3A_data">data</code></td>
<td>
<p>A data frame that has to include the variables <code>tier_no</code> (the
number of the tier starting from the top tier no. 1) and <code>team_abbr</code> (the
team abbreviation). <code>team_abbr</code> should be one of <code><a href="#topic+valid_team_names">valid_team_names()</a></code> and
the function tries to clean team names internally by calling
<code><a href="nflreadr.html#topic+clean_team_abbrs">nflreadr::clean_team_abbrs()</a></code>. If data includes the variable <code>tier_rank</code>,
these ranks will be used within each tier. Otherwise, if <code>presort = FALSE</code>,
the function will assume that data is already sorted and if <code>presort = TRUE</code>,
teams will be sorted alphabetically within tiers.</p>
</td></tr>
<tr><td><code id="nfl_team_tiers_+3A_title">title</code></td>
<td>
<p>The title of the plot. If <code>NULL</code>, it will be omitted.</p>
</td></tr>
<tr><td><code id="nfl_team_tiers_+3A_subtitle">subtitle</code></td>
<td>
<p>The subtitle of the plot. If <code>NULL</code>, it will be omitted.</p>
</td></tr>
<tr><td><code id="nfl_team_tiers_+3A_caption">caption</code></td>
<td>
<p>The caption of the plot. If <code>NULL</code>, it will be omitted.</p>
</td></tr>
<tr><td><code id="nfl_team_tiers_+3A_tier_desc">tier_desc</code></td>
<td>
<p>A named vector consisting of the tier descriptions. The names
must equal the tier numbers from <code>tier_no</code></p>
</td></tr>
<tr><td><code id="nfl_team_tiers_+3A_presort">presort</code></td>
<td>
<p>If <code>FALSE</code> (the default) the function assumes that the teams
are already sorted within the tiers. Will otherwise sort alphabetically.</p>
</td></tr>
<tr><td><code id="nfl_team_tiers_+3A_alpha">alpha</code></td>
<td>
<p>The alpha channel of the logos, i.e. transparency level, as a
numerical value between 0 and 1.</p>
</td></tr>
<tr><td><code id="nfl_team_tiers_+3A_width">width</code></td>
<td>
<p>The desired width of the logo in <code>npc</code> (Normalised Parent Coordinates).</p>
</td></tr>
<tr><td><code id="nfl_team_tiers_+3A_no_line_below_tier">no_line_below_tier</code></td>
<td>
<p>Vector of tier numbers. The function won't draw tier
separation lines below these tiers. This is intended to be used for tiers
that shall be combined (see examples).</p>
</td></tr>
<tr><td><code id="nfl_team_tiers_+3A_devel">devel</code></td>
<td>
<p>Determines if logos shall be rendered. If <code>FALSE</code> (the default),
logos will be rendered on each run. If <code>TRUE</code> the team abbreviations will be
plotted instead of the logos. This is much faster and helps with the plot
development.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A plot object created with <code><a href="ggplot2.html#topic+ggplot">ggplot2::ggplot()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(ggplot2)
library(data.table)
teams &lt;- nflplotR::valid_team_names()
# remove conference logos from this example
teams &lt;- teams[!teams %in% c("AFC", "NFC", "NFL")]
teams &lt;- sample(teams)

# Build the team tiers data
# This is completely random!
dt &lt;- data.table::data.table(
  tier_no = sample(1:5, length(teams), replace = TRUE),
  team_abbr = teams
)[,tier_rank := sample(1:.N, .N), by = "tier_no"]

# Plot team tiers
nfl_team_tiers(dt)

# Create a combined tier which is useful for tiers with lots of teams that
# should be split up in two or more rows. This is done by setting an empty
# string for the tier 5 description and removing the tier separation line
# below tier number 4.
# This example also shows how to turn off the subtitle and add a caption
nfl_team_tiers(dt,
               subtitle = NULL,
               caption = "This is the caption",
               tier_desc = c("1" = "Super Bowl",
                             "2" = "Very Good",
                             "3" = "Medium",
                             "4" = "A Combined Tier",
                             "5" = ""),
               no_line_below_tier = 4)

# For the development of the tiers, it can be useful to turn off logo image
# rendering as this can take quite a long time. By setting `devel = TRUE`, the
# logo images are replaced by team abbreviations which is much faster
nfl_team_tiers(dt,
               tier_desc = c("1" = "Super Bowl",
                             "2" = "Very Good",
                             "3" = "",
                             "4" = "A Combined Tier",
                             "5" = ""),
               no_line_below_tier = c(2, 4),
               devel = TRUE)

</code></pre>

<hr>
<h2 id='nflverse_sitrep'>Get a Situation Report on System, nflverse Package Versions and Dependencies</h2><span id='topic+nflverse_sitrep'></span>

<h3>Description</h3>

<p>See <code><a href="nflreadr.html#topic+sitrep">nflreadr::nflverse_sitrep</a></code> for details.
</p>


<h3>Value</h3>

<p>Situation report of R and package/dependencies.
</p>

<hr>
<h2 id='scale_nfl'>Scales for NFL Team Colors</h2><span id='topic+scale_color_nfl'></span><span id='topic+scale_colour_nfl'></span><span id='topic+scale_fill_nfl'></span>

<h3>Description</h3>

<p>These functions map NFL team names to their team colors in
color and fill aesthetics
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scale_color_nfl(
  type = c("primary", "secondary"),
  values = NULL,
  ...,
  aesthetics = "colour",
  breaks = ggplot2::waiver(),
  na.value = "grey50",
  guide = NULL,
  alpha = NA
)

scale_colour_nfl(
  type = c("primary", "secondary"),
  values = NULL,
  ...,
  aesthetics = "colour",
  breaks = ggplot2::waiver(),
  na.value = "grey50",
  guide = NULL,
  alpha = NA
)

scale_fill_nfl(
  type = c("primary", "secondary"),
  values = NULL,
  ...,
  aesthetics = "fill",
  breaks = ggplot2::waiver(),
  na.value = "grey50",
  guide = NULL,
  alpha = NA
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="scale_nfl_+3A_type">type</code></td>
<td>
<p>One of <code>"primary"</code> or <code>"secondary"</code> to decide which colortype to use.</p>
</td></tr>
<tr><td><code id="scale_nfl_+3A_values">values</code></td>
<td>
<p>If <code>NULL</code> (the default) use the internal team color vectors. Otherwise
a set of aesthetic values to map data values to. The values
will be matched in order (usually alphabetical) with the limits of the
scale, or with <code>breaks</code> if provided. If this is a named vector, then the
values will be matched based on the names instead. Data values that don't
match will be given <code>na.value</code>.</p>
</td></tr>
<tr><td><code id="scale_nfl_+3A_...">...</code></td>
<td>

<p>Arguments passed on to <code><a href="ggplot2.html#topic+discrete_scale">discrete_scale</a></code>
</p>

<dl>
<dt><code>limits</code></dt><dd><p>One of:
</p>

<ul>
<li> <p><code>NULL</code> to use the default scale values
</p>
</li>
<li><p> A character vector that defines possible values of the scale and their
order
</p>
</li>
<li><p> A function that accepts the existing (automatic) values and returns
new ones. Also accepts rlang <a href="rlang.html#topic+as_function">lambda</a> function
notation.
</p>
</li></ul>
</dd>
<dt><code>drop</code></dt><dd><p>Should unused factor levels be omitted from the scale?
The default, <code>TRUE</code>, uses the levels that appear in the data;
<code>FALSE</code> includes the levels in the factor. Please note that to display
every level in a legend, the layer should use <code>show.legend = TRUE</code>.</p>
</dd>
<dt><code>na.translate</code></dt><dd><p>Unlike continuous scales, discrete scales can easily show
missing values, and do so by default. If you want to remove missing values
from a discrete scale, specify <code>na.translate = FALSE</code>.</p>
</dd>
<dt><code>name</code></dt><dd><p>The name of the scale. Used as the axis or legend title. If
<code>waiver()</code>, the default, the name of the scale is taken from the first
mapping used for that aesthetic. If <code>NULL</code>, the legend title will be
omitted.</p>
</dd>
<dt><code>labels</code></dt><dd><p>One of:
</p>

<ul>
<li> <p><code>NULL</code> for no labels
</p>
</li>
<li> <p><code>waiver()</code> for the default labels computed by the
transformation object
</p>
</li>
<li><p> A character vector giving labels (must be same length as <code>breaks</code>)
</p>
</li>
<li><p> An expression vector (must be the same length as breaks). See ?plotmath for details.
</p>
</li>
<li><p> A function that takes the breaks as input and returns labels
as output. Also accepts rlang <a href="rlang.html#topic+as_function">lambda</a> function
notation.
</p>
</li></ul>
</dd>
<dt><code>guide</code></dt><dd><p>A function used to create a guide or its name. See
<code><a href="ggplot2.html#topic+guides">guides()</a></code> for more information.</p>
</dd>
<dt><code>call</code></dt><dd><p>The <code>call</code> used to construct the scale for reporting messages.</p>
</dd>
<dt><code>super</code></dt><dd><p>The super class to use for the constructed scale</p>
</dd>
</dl>
</td></tr>
<tr><td><code id="scale_nfl_+3A_aesthetics">aesthetics</code></td>
<td>
<p>Character string or vector of character strings listing the
name(s) of the aesthetic(s) that this scale works with. This can be useful, for
example, to apply colour settings to the <code>colour</code> and <code>fill</code> aesthetics at the
same time, via <code>aesthetics = c("colour", "fill")</code>.</p>
</td></tr>
<tr><td><code id="scale_nfl_+3A_breaks">breaks</code></td>
<td>
<p>One of:
</p>

<ul>
<li> <p><code>NULL</code> for no breaks
</p>
</li>
<li> <p><code>waiver()</code> for the default breaks (the scale limits)
</p>
</li>
<li><p> A character vector of breaks
</p>
</li>
<li><p> A function that takes the limits as input and returns breaks
as output
</p>
</li></ul>
</td></tr>
<tr><td><code id="scale_nfl_+3A_na.value">na.value</code></td>
<td>
<p>The aesthetic value to use for missing (<code>NA</code>) values</p>
</td></tr>
<tr><td><code id="scale_nfl_+3A_guide">guide</code></td>
<td>
<p>A function used to create a guide or its name. If <code>NULL</code> (the default)
no guide will be plotted for this scale. See <code><a href="ggplot2.html#topic+guides">ggplot2::guides</a></code> for more information.</p>
</td></tr>
<tr><td><code id="scale_nfl_+3A_alpha">alpha</code></td>
<td>
<p>Factor to modify color transparency via a call to <code><a href="scales.html#topic+alpha">scales::alpha</a></code>.
If <code>NA</code> (the default) no transparency will be applied. Can also be a vector of
alphas. All alpha levels must be in range <code style="white-space: pre;">&#8288;[0,1]&#8288;</code>.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>
library(nflplotR)
library(ggplot2)

team_abbr &lt;- valid_team_names()
# remove conference logos from this example
team_abbr &lt;- team_abbr[!team_abbr %in% c("AFC", "NFC", "NFL")]

df &lt;- data.frame(
  random_value = runif(length(team_abbr), 0, 1),
  teams = team_abbr
)
ggplot(df, aes(x = teams, y = random_value)) +
  geom_col(aes(color = teams, fill = teams), width = 0.5) +
  scale_color_nfl(type = "secondary") +
  scale_fill_nfl(alpha = 0.4) +
  theme_minimal() +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))

</code></pre>

<hr>
<h2 id='valid_team_names'>Output Valid NFL Team Abbreviations</h2><span id='topic+valid_team_names'></span>

<h3>Description</h3>

<p>Output Valid NFL Team Abbreviations
</p>


<h3>Usage</h3>

<pre><code class='language-R'>valid_team_names(exclude_duplicates = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="valid_team_names_+3A_exclude_duplicates">exclude_duplicates</code></td>
<td>
<p>If <code>TRUE</code> (the default) the list of valid team
abbreviations will exclude duplicates related to franchises that have been
moved</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of type <code>"character"</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># List valid team abbreviations excluding duplicates
valid_team_names()

# List valid team abbreviations excluding duplicates
valid_team_names(exclude_duplicates = FALSE)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package splot</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {splot}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#splot'><p>Split Plot</p></a></li>
<li><a href='#splot.bench'><p>splot benchmarker</p></a></li>
<li><a href='#splot.color'><p>splot colors</p></a></li>
<li><a href='#splot.colorcontrast'><p>splot color contrast ratio</p></a></li>
<li><a href='#splot.colormean'><p>splot color average</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Simplified Plotting for Data Exploration</td>
</tr>
<tr>
<td>Version:</td>
<td>0.5.4</td>
</tr>
<tr>
<td>Description:</td>
<td>Automates common plotting tasks to ease data exploration.
  Makes density plots (potentially overlaid on histograms),
  scatter plots with prediction lines, or bar or line plots with error bars.
  For each type, y, or x and y variables can be plotted at levels of other variables,
  all with minimal specification.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://miserman.github.io/splot/">https://miserman.github.io/splot/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/miserman/splot/issues">https://github.com/miserman/splot/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.1), graphics, stats, grDevices</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-10-27 10:09:45 UTC; Admin</td>
</tr>
<tr>
<td>Author:</td>
<td>Micah Iserman [aut, cre, cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Micah Iserman &lt;micah.iserman@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-10-27 11:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='splot'>Split Plot</h2><span id='topic+splot'></span>

<h3>Description</h3>

<p>A plotting function aimed at automating some common visualization tasks in order to ease data exploration.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>splot(y, data = NULL, su = NULL, type = "", split = "median",
  levels = list(), sort = NULL, error = "standard",
  error.color = "#585858", error.lwd = 2, lim = 9, lines = TRUE, ...,
  colors = "pastel", colorby = NULL, colorby.leg = TRUE,
  color.lock = FALSE, color.offset = 1.1, color.summary = "mean",
  opacity = 1, dark = getOption("splot.dark", FALSE), x = NULL,
  by = NULL, between = NULL, cov = NULL, line.type = "l",
  mv.scale = "none", mv.as.x = FALSE, save = FALSE, format = cairo_pdf,
  dims = dev.size(), file.name = "splot", myl = NULL, mxl = NULL,
  autori = TRUE, xlas = 0, ylas = 1, xaxis = TRUE, yaxis = TRUE,
  breaks = "sturges", density.fill = TRUE, density.opacity = 0.4,
  density.args = list(), leg = "outside", lpos = "auto", lvn = TRUE,
  leg.title = TRUE, leg.args = list(), title = TRUE, labx = TRUE,
  laby = TRUE, lty = TRUE, lwd = 2, sub = TRUE, ndisp = TRUE,
  note = TRUE, font = c(title = 2, sud = 1, leg = 1, leg.title = 2, note =
  3), cex = c(title = 1.5, sud = 0.9, leg = 0.9, note = 0.7, points = 1),
  sud = TRUE, labels = TRUE, labels.filter = "_", labels.trim = 20,
  points = TRUE, points.first = TRUE, byx = TRUE, drop = c(x = TRUE, by
  = TRUE, bet = TRUE), prat = c(1, 1), check.height = TRUE,
  model = FALSE, options = NULL, add = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="splot_+3A_y">y</code></td>
<td>
<p>a formula (see note), or the primary variable(s) to be shown on the y axis (unless <code>x</code> is not specified).
When not a formula, this can be one or more variables as objects, or names in <code>data</code>.</p>
</td></tr>
<tr><td><code id="splot_+3A_data">data</code></td>
<td>
<p>a <code>data.frame</code> to pull variables from. If variables aren't found in <code>data</code>, they will be looked
for in the environment.</p>
</td></tr>
<tr><td><code id="splot_+3A_su">su</code></td>
<td>
<p>a subset to all variables, applied after they are all retrieved from <code>data</code> or the environment.</p>
</td></tr>
<tr><td><code id="splot_+3A_type">type</code></td>
<td>
<p>determines the type of plot to make, between <code>"bar"</code>, <code>"line"</code>, <code>"density"</code>, or
<code>"scatter"</code>. If <code>"density"</code>, <code>x</code> is ignored. Anything including the first letter of each is accepted
(e.g., <code>type='l'</code>).</p>
</td></tr>
<tr><td><code id="splot_+3A_split">split</code></td>
<td>
<p>how to split any continuous variables (those with more than <code>lim</code> levels as factors). Default is
<code>"median"</code>, with <code>"mean"</code>, <code>"standard deviation"</code>, <code>"quantile"</code>, or numbers as options. If
numbers, the variable is either cut at each value in a vector, or broken into roughly equal chunks. Entering an
integer (e.g., <code>split = 3L</code>) that is greater than 1 will force splitting into segments. Otherwise variables will
be split by value if you enter a single value for split and there are at least two data less than or equal to and
greater than the split, or if you enter more than 1 value for split. If a numeric split is not compatible with
splitting by value or segment, splitting will default to the median.</p>
</td></tr>
<tr><td><code id="splot_+3A_levels">levels</code></td>
<td>
<p>a list with entries corresponding to variable names, used to rename and/or reorder factor levels. To
reorder a factor, enter a vector of either numbers or existing level names in the new order (e.g.,
<code>levels =</code> <code>list(var =</code> <code>c(3,2,1))</code>). To rename levels of a factor, enter a character vector the same
length as the number of levels. To rename and reorder, enter a list, with names as the first entry, and order as the
second entry (e.g., <code>levels =</code> <code>list(var =</code> <code>list(c('a','b','c'),</code> <code>c(3,2,1)))</code>). This happens
after variables are split, so names and orders should correspond to the new split levels of split variables. For
example, if a continuous variable is median split, it now has two levels ('Under Median' and 'Over Median'), which are
the levels reordering or renaming would apply to. Multiple variables entered as <code>y</code> can be renamed and sorted
with an entry titled <code>'mv'</code>.</p>
</td></tr>
<tr><td><code id="splot_+3A_sort">sort</code></td>
<td>
<p>specified the order of character or factor <code>x</code> levels. By default, character or factor <code>x</code> levels
are sorted alphabetically. <code>FALSE</code> will prevent this (preserving entered order). <code>TRUE</code> or <code>'d'</code> will
sort by levels of <code>y</code> in decreasing order, and anything else will sort in increasing order.</p>
</td></tr>
<tr><td><code id="splot_+3A_error">error</code></td>
<td>
<p>string; sets the type of error bars to show in bar or line plots, or turns them off. If <code>FALSE</code>, no
error bars will be shown. Otherwise, the default is <code>"standard error"</code> (<code>'^s'</code>), with <code>"confidence
intervals"</code> (anything else) as an option.</p>
</td></tr>
<tr><td><code id="splot_+3A_error.color">error.color</code></td>
<td>
<p>color of the error bars. Default is <code>'#585858'</code>.</p>
</td></tr>
<tr><td><code id="splot_+3A_error.lwd">error.lwd</code></td>
<td>
<p>line weight of error bars. Default is 2.</p>
</td></tr>
<tr><td><code id="splot_+3A_lim">lim</code></td>
<td>
<p>numeric; checked against the number of factor levels of each variable. Used to decide which variables should
be split, which colors to use, and when to turn off the legend. Default is <code>9</code>. If set over <code>20</code>, <code>lim</code>
is treated as infinite (set to <code>Inf</code>).</p>
</td></tr>
<tr><td><code id="splot_+3A_lines">lines</code></td>
<td>
<p>logical or a string specifying the type of lines to be drawn in scatter plots. By default (and whenever
<code>cov</code> is not missing, or if <code>lines</code> matches <code>'^li|^lm|^st'</code>), a prediction line is fitted with
<code><a href="stats.html#topic+lm">lm</a></code>. For (potentially) bendy lines, <code>'loess'</code> (matching <code>'^loe|^po|^cu'</code>) will use
<code><a href="stats.html#topic+loess">loess</a></code>, and <code>'spline'</code> (<code>'^sm|^sp|^in'</code>) will use <code><a href="stats.html#topic+smooth.spline">smooth.spline</a></code>.
If <code>y</code> is not numeric and has only 2 levels, <code>'probability'</code> (<code>'^pr|^log'</code>) will draw probabilities
estimated by a logistic regression (<code>glm(y ~</code> <code>x, binomial)</code>). <code>'connected'</code> (<code>'^e|^co|^d'</code>) will
draw lines connecting all points, and <code>FALSE</code> will not draw any lines.</p>
</td></tr>
<tr><td><code id="splot_+3A_...">...</code></td>
<td>
<p>passes additional arguments to <code><a href="graphics.html#topic+par">par</a></code> or <code><a href="graphics.html#topic+legend">legend</a></code>. Arguments before
this can be named partially; those after must by fully named.</p>
</td></tr>
<tr><td><code id="splot_+3A_colors">colors</code></td>
<td>
<p>sets a color theme or manually specifies colors. Default theme is <code>"pastel"</code>, with <code>"dark"</code> and
<code>"bright"</code> as options; these are passed to <code><a href="#topic+splot.color">splot.color</a></code>. If set to <code>"grey"</code>, or if <code>by</code>
has more than 9 levels, a grey scale is calculated using <code><a href="grDevices.html#topic+gray">gray</a></code>. See the <code>col</code> parameter
in <code><a href="graphics.html#topic+par">par</a></code> for acceptable manual inputs. To set text and axis colors, <code>col</code> sets outside
texts (title, sud, labx, laby, and note), <code>col.sub</code> or <code>col.main</code> sets the frame titles, and <code>col.axis</code>
sets the axis text and line colors. To set the color of error bars, use <code>error.color</code>. For histograms, a vector of
two colors would apply to the density line and bars separately (e.g., for <code>color =</code> <code>c('red','green')</code>, the
density line would be red and the histogram bars would be green). See the <code>color.lock</code> and <code>color.offset</code>
arguments for more color controls.</p>
</td></tr>
<tr><td><code id="splot_+3A_colorby">colorby</code></td>
<td>
<p>a variable or list of arguments used to set colors and the legend, alternatively to <code>by</code>. If
<code>by</code> is not missing, <code>colorby</code> will be reduced to only the unique combinations of <code>by</code> and <code>colorby</code>.
For example, if <code>by</code> is a participant ID with multiple observations per participant, and <code>by</code> is a condition
ID which is the same for all observations from a given participant, <code>colorby</code> would assign a single color to each
participant based on their condition. A list will be treated as a call to <code><a href="#topic+splot.color">splot.color</a></code>, so arguments can be
entered positionally or by name. Data entered directly into splot can be accessed by position name preceded by a
period. For example, <code>splot(rnorm(100),</code> <code>colorby=.y)</code> would draw a histogram, with bars colored by the value
of <code>y</code> (<code>rnorm(100)</code> in this case).</p>
</td></tr>
<tr><td><code id="splot_+3A_colorby.leg">colorby.leg</code></td>
<td>
<p>logical; if <code>FALSE</code>, a legend for <code>colorby</code> is never drawn. Otherwise, a legend for
<code>colorby</code> will be drawn if there is no specified <code>by</code>, or for non-scatter plots (overwriting the usual legend).</p>
</td></tr>
<tr><td><code id="splot_+3A_color.lock">color.lock</code></td>
<td>
<p>logical; if <code>FALSE</code>, colors will not be adjusted to offset lines from points or histogram bars.</p>
</td></tr>
<tr><td><code id="splot_+3A_color.offset">color.offset</code></td>
<td>
<p>how much points or histogram bars should be offset from the initial color used for lines. Default is
1.1; values greater than 1 lighten, and less than 1 darken.</p>
</td></tr>
<tr><td><code id="splot_+3A_color.summary">color.summary</code></td>
<td>
<p>specifies the function used to collapse multiple colors for a single display. Either a string
matching one of <code>'mean'</code> (which uses <code><a href="#topic+splot.colormean">splot.colormean</a></code> to average RGB values), <code>'median'</code> (
which treats codes as ordered, and selects that at the rounded median), or <code>'mode'</code> (which selects the most
common code), or a function which takes color codes in its first argument, and outputs a single color code as a
character.</p>
</td></tr>
<tr><td><code id="splot_+3A_opacity">opacity</code></td>
<td>
<p>a number between 0 and 1; sets the opacity of points, lines, and bars. Semi-opaque lines will sometimes
not be displayed in the plot window, but will show up when the plot is written to a file.</p>
</td></tr>
<tr><td><code id="splot_+3A_dark">dark</code></td>
<td>
<p>logical; if <code>TRUE</code>, sets text and axis colors to <code>"white"</code>. Defaults to the <code>splot.dark</code>
option.</p>
</td></tr>
<tr><td><code id="splot_+3A_x">x</code></td>
<td>
<p>secondary variable, to be shown in on the x axis. If not specified, <code>type</code> will be set to <code>'density'</code>.
If <code>x</code> is a factor or vector of characters, or has fewer than <code>lim</code> levels when treated as a factor,
<code>type</code> will be set to <code>'line'</code> unless specified.</p>
</td></tr>
<tr><td><code id="splot_+3A_by">by</code></td>
<td>
<p>the 'splitting' variable within each plot, by which the plotted values of <code>x</code> and <code>y</code> will be
grouped.</p>
</td></tr>
<tr><td><code id="splot_+3A_between">between</code></td>
<td>
<p>a single object or name, or two in a vector (e.g., <code>c(b1, b2)</code>), the levels of which will determine
the number of plot windows to be shown at once (the cells in a matrix of plots; levels of the first variable as rows,
and levels of the second as columns).</p>
</td></tr>
<tr><td><code id="splot_+3A_cov">cov</code></td>
<td>
<p>additional variables used for adjustment. Bar and line plots include all <code>cov</code> variables in their
regression models (via <code><a href="stats.html#topic+lm">lm</a></code>, e.g., <code>lm(y ~ 0 + x + cov1 + cov2)</code>) as covariates. Scatter plots
with lines include all <code>cov</code> variables in the regression model to adjust the prediction line (e.g.,
<code>lm(y ~ x + x^2)</code>).
<code><a href="graphics.html#topic+par">par</a></code> options <code>col</code>, <code>mfrow</code>, <code>oma</code>, <code>mar</code>, <code>mgp</code>, <code>font.main</code>,
<code>cex.main</code>, <code>font.lab</code>, <code>tcl</code>, <code>pch</code>, <code>lwd</code>, and <code>xpd</code> are all set within the function,
but will be overwritten if they are included in the call. For example, <code>col</code> sets font colors in this case
(as opposed to <code>colors</code> which sets line and point colors). The default is <code>'#303030'</code> for a nice dark grey,
but maybe you want to lighten that up: <code>col='#606060'</code>. After arguments have been applied to
<code><a href="graphics.html#topic+par">par</a></code>, if any have not been used and match a <code><a href="graphics.html#topic+legend">legend</a></code> argument, these will
be applied to <code><a href="graphics.html#topic+legend">legend</a></code>.</p>
</td></tr>
<tr><td><code id="splot_+3A_line.type">line.type</code></td>
<td>
<p>a character setting the style of line (e.g., with points at joints) to be drawn in line plots. Default
is <code>'b'</code> if <code>error</code> is <code>FALSE</code>, and <code>'l'</code> otherwise. See the <code>line</code> argument of
<code><a href="graphics.html#topic+plot.default">plot.default</a></code> for options. <code>line.type='c'</code> can look nice when there aren't a lot of
overlapping error bars.</p>
</td></tr>
<tr><td><code id="splot_+3A_mv.scale">mv.scale</code></td>
<td>
<p>determines whether to center and scale multiple <code>y</code> variables. Does not center or scale by default.
Anything other than <code>'none'</code> will mean center each numeric <code>y</code> variable. Anything matching <code>'^t|z|sc'</code>
will also scale.</p>
</td></tr>
<tr><td><code id="splot_+3A_mv.as.x">mv.as.x</code></td>
<td>
<p>logical; if <code>TRUE</code>, variable names are displayed on the x axis, and <code>x</code> is treated as <code>by</code>.</p>
</td></tr>
<tr><td><code id="splot_+3A_save">save</code></td>
<td>
<p>logical; if <code>TRUE</code>, an image of the plot is saved to the current working directory.</p>
</td></tr>
<tr><td><code id="splot_+3A_format">format</code></td>
<td>
<p>the type of file to save plots as. Default is <code>cairo_pdf</code>; see
<code><a href="grDevices.html#topic+Devices">Devices</a></code> for options.</p>
</td></tr>
<tr><td><code id="splot_+3A_dims">dims</code></td>
<td>
<p>a vector of 2 values (<code>c(width, height)</code>) specifying the dimensions of a plot to save in inches or
pixels depending on <code>format</code>. Defaults to the dimensions of the plot window.</p>
</td></tr>
<tr><td><code id="splot_+3A_file.name">file.name</code></td>
<td>
<p>a string with the name of the file to be save (excluding the extension, as this is added depending on
<code>format</code>).</p>
</td></tr>
<tr><td><code id="splot_+3A_myl">myl</code></td>
<td>
<p>sets the range of the y axis (<code>ylim</code> of <code><a href="base.html#topic+plot">plot</a></code> or <code><a href="graphics.html#topic+barplot">barplot</a></code>).
If not specified, this will be calculated from the data.</p>
</td></tr>
<tr><td><code id="splot_+3A_mxl">mxl</code></td>
<td>
<p>sets the range of the x axis (<code>xlim</code> of <code><a href="base.html#topic+plot">plot</a></code>). If not specified, this will be
calculated from the data.</p>
</td></tr>
<tr><td><code id="splot_+3A_autori">autori</code></td>
<td>
<p>logical; if <code>FALSE</code>, the origin of plotted bars will be set to 0. Otherwise, bars are adjusted such
that they extend to the bottom of the y axis.</p>
</td></tr>
<tr><td><code id="splot_+3A_xlas">xlas</code>, <code id="splot_+3A_ylas">ylas</code></td>
<td>
<p>numeric; sets the orientation of the x- and y-axis labels. See <code><a href="graphics.html#topic+par">par</a></code>.</p>
</td></tr>
<tr><td><code id="splot_+3A_xaxis">xaxis</code>, <code id="splot_+3A_yaxis">yaxis</code></td>
<td>
<p>logical; if <code>FALSE</code>, the axis will not be drawn.</p>
</td></tr>
<tr><td><code id="splot_+3A_breaks">breaks</code></td>
<td>
<p>determines the width of histogram bars. See <code><a href="graphics.html#topic+hist">hist</a></code>.</p>
</td></tr>
<tr><td><code id="splot_+3A_density.fill">density.fill</code></td>
<td>
<p>logical; <code>FALSE</code> will turn off polygon fills when they are displayed, <code>TRUE</code> will replace
histograms with polygons.</p>
</td></tr>
<tr><td><code id="splot_+3A_density.opacity">density.opacity</code></td>
<td>
<p>opacity of the density polygons, between 0 and 1.</p>
</td></tr>
<tr><td><code id="splot_+3A_density.args">density.args</code></td>
<td>
<p>list of arguments to be passed to <code><a href="stats.html#topic+density">density</a></code>.</p>
</td></tr>
<tr><td><code id="splot_+3A_leg">leg</code></td>
<td>
<p>sets the legend inside or outside the plot frames (when a character matching <code>'^i'</code>, or a character
matching <code>'^o'</code> or a number respectively), or turns it off (when <code>FALSE</code>). When inside, a legend is drawn in
each plot frame. When outside, a single legend is drawn either to the right of all plot frames, or within an empty
plot frame. By default, this will be determined automatically, tending to set legends outside when there are multiple
levels of <code>between</code>. A number will try and set the legend in an empty frame within the grid of plot frames. If
there are no empty frames, the legend will just go to the side as if <code>leg='outside'</code>.</p>
</td></tr>
<tr><td><code id="splot_+3A_lpos">lpos</code></td>
<td>
<p>sets the position of the legend within its frame (whether inside or outside of the plot frames) based on
keywords (see <code><a href="graphics.html#topic+legend">legend</a></code>. By default, when the legend is outside, <code>lpos</code> is either
<code>'right'</code> when the legend is in a right-hand column, or <code>'center'</code> when in an empty plot frame. When the
legend is inside and <code>lpos</code> is not specified, the legend will be placed automatically based on the data. Set to
<code>'place'</code> to manually place the legend; clicking the plot frame will set the top left corner of the legend.</p>
</td></tr>
<tr><td><code id="splot_+3A_lvn">lvn</code></td>
<td>
<p>level variable name. Logical: if <code>FALSE</code>, the names of by and between variables will not be shown
before their level (e.g., for a sex variable with a &quot;female&quot; level, &quot;sex: female&quot; would become &quot;female&quot; above each
plot window).</p>
</td></tr>
<tr><td><code id="splot_+3A_leg.title">leg.title</code></td>
<td>
<p>sets the title of the legend (which is the by variable name by default), or turns it off with
<code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="splot_+3A_leg.args">leg.args</code></td>
<td>
<p>a list passing arguments to the <code><a href="graphics.html#topic+legend">legend</a></code> call.</p>
</td></tr>
<tr><td><code id="splot_+3A_title">title</code></td>
<td>
<p>logical or a character: if <code>FALSE</code>, the main title is turned off. If a character, this will be shown
as the main title.</p>
</td></tr>
<tr><td><code id="splot_+3A_labx">labx</code>, <code id="splot_+3A_laby">laby</code></td>
<td>
<p>logical or a character: if <code>FALSE</code>, the label on the x axis is turned off. If a character, this
will be shown as the axis label.</p>
</td></tr>
<tr><td><code id="splot_+3A_lty">lty</code></td>
<td>
<p>logical or a vector: if <code>FALSE</code>, lines are always solid. If a vector, changes line type based on each
value. Otherwise loops through available line types, see <code><a href="graphics.html#topic+par">par</a></code>.</p>
</td></tr>
<tr><td><code id="splot_+3A_lwd">lwd</code></td>
<td>
<p>numeric; sets the weight of lines in line, density, and scatter plots. Default is 2. See
<code><a href="graphics.html#topic+par">par</a></code>.</p>
</td></tr>
<tr><td><code id="splot_+3A_sub">sub</code></td>
<td>
<p>affects the small title above each plot showing <code>between</code> levels; text replaces it, and <code>FALSE</code>
turns it off.</p>
</td></tr>
<tr><td><code id="splot_+3A_ndisp">ndisp</code></td>
<td>
<p>logical; if <code>FALSE</code>, n per level is no longer displayed in the subheadings.</p>
</td></tr>
<tr><td><code id="splot_+3A_note">note</code></td>
<td>
<p>logical; if <code>FALSE</code>, the note at the bottom about splits and/or lines or error bars is turned off.</p>
</td></tr>
<tr><td><code id="splot_+3A_font">font</code></td>
<td>
<p>named numeric vector: <code>c(title,sud,leg,leg.title,note)</code>. Sets the font of the title, su display, legend
levels and title, and note. In addition, <code>font.lab</code> sets the x and y label font, <code>font.sub</code> sets the font of
the little title in each panel, <code>font.axis</code> sets the axis label font, and <code>font.main</code> sets the between level/n
heading font; these are passed to <code><a href="graphics.html#topic+par">par</a></code>. See the input section.</p>
</td></tr>
<tr><td><code id="splot_+3A_cex">cex</code></td>
<td>
<p>named numeric vector: <code>c(title,sud,leg,note,points)</code>. Sets the font size of the title, su display, legend,
note, and points. In addition, <code>cex.lab</code> sets the x and y label size, <code>cex.sub</code> sets the size of the little
title in each panel, <code>cex.axis</code> sets the axis label size, and <code>cex.main</code> sets the between level/n heading size;
these are passed to <code><a href="graphics.html#topic+par">par</a></code>. See the input section.</p>
</td></tr>
<tr><td><code id="splot_+3A_sud">sud</code></td>
<td>
<p>affects the heading for subset and covariates/line adjustments (su display); text replaces it, and
<code>FALSE</code> turns it off.</p>
</td></tr>
<tr><td><code id="splot_+3A_labels">labels</code></td>
<td>
<p>logical; if <code>FALSE</code>, sets all settable text surrounding the plot to <code>FALSE</code> (just so you don't
have to set all of them if you want a clean frame).</p>
</td></tr>
<tr><td><code id="splot_+3A_labels.filter">labels.filter</code></td>
<td>
<p>a regular expression string to be replaced in label texts with a blank space. Default is
<code>'_'</code>, so underscores appearing in the text of labels are replace with blank spaces. Set to
<code>FALSE</code> to prevent all filtering.</p>
</td></tr>
<tr><td><code id="splot_+3A_labels.trim">labels.trim</code></td>
<td>
<p>numeric or logical; the maximum length of label texts (in number of characters). Default is 20, with
any longer labels being trimmed. Set to <code>FALSE</code> to prevent any trimming.</p>
</td></tr>
<tr><td><code id="splot_+3A_points">points</code></td>
<td>
<p>logical; if <code>FALSE</code>, the points in a scatter plot are no longer drawn.</p>
</td></tr>
<tr><td><code id="splot_+3A_points.first">points.first</code></td>
<td>
<p>logical; if <code>FALSE</code>, points are plotted after lines are drawn in a scatter plot, placing lines
behind points. This does not apply to points or lines added in <code>add</code>, as that is always evaluated after the main
points and lines are drawn.</p>
</td></tr>
<tr><td><code id="splot_+3A_byx">byx</code></td>
<td>
<p>logical; if <code>TRUE</code> (default) and <code>by</code> is specified, regressions for bar or line plots compare
levels of <code>by</code> for each level of <code>x</code>. This makes for more intuitive error bars when comparing levels of
<code>by</code> within a level of <code>x</code>; otherwise, the model is comparing the difference between the first level of
<code>x</code> and each of its other levels.</p>
</td></tr>
<tr><td><code id="splot_+3A_drop">drop</code></td>
<td>
<p>named logical vector: <code>c(x,by,bet)</code>. Specifies how levels with no data should be treated. All are
<code>TRUE</code> by default, meaning only levels with data will be presented, and the layout of <code>between</code> levels
will be minimized. <code>x</code> only applies to bar or line plots. <code>by</code> relates to levels presented in the legend.
If <code>bet</code> is <code>FALSE</code>, the layout of <code>between</code> variables will be strict, with levels of <code>between[1]</code>
as rows, and levels of <code>between[2]</code> as columns &ndash; if there are no data at an intersection of levels, the
corresponding panel will be blank. See the input section.</p>
</td></tr>
<tr><td><code id="splot_+3A_prat">prat</code></td>
<td>
<p>panel ratio, referring to the ratio between plot frames and the legend frame when the legend is out. A
single number will make all panels of equal width. A vector of two numbers will adjust the ratio between plot panels
and the legend panel. For example, <code>prat=c(3,1)</code> makes all plot panels a relative width of 3, and the legend frame
a relative width of 1.</p>
</td></tr>
<tr><td><code id="splot_+3A_check.height">check.height</code></td>
<td>
<p>logical; if <code>FALSE</code>, the height of the plot frame will not be checked before plotting is
attempted. The check tries to avoid later errors, but may prevent plotting when a plot is possible.</p>
</td></tr>
<tr><td><code id="splot_+3A_model">model</code></td>
<td>
<p>logical; if <code>TRUE</code>, the summary of an interaction model will be printed. This model won't always align
with what is plotted since variables may be treated differently, particularly in the case of interactions.</p>
</td></tr>
<tr><td><code id="splot_+3A_options">options</code></td>
<td>
<p>a list with named arguments, useful for setting temporary defaults if you plan on using some of the same
options for multiple plots (e.g., <code>opt = list(</code><code>type = 'bar',</code> <code>colors = 'grey',</code>
<code>bg = '#999999');</code> <code>splot(x ~ y,</code> <code>options = opt)</code>).
use <code><a href="base.html#topic+quote">quote</a></code> to include options that are to be evaluated within the function (e.g.,
<code>opt =</code> <code>list(su =</code> <code>quote(y &gt; 0))</code>).</p>
</td></tr>
<tr><td><code id="splot_+3A_add">add</code></td>
<td>
<p>evaluated within the function, so you can refer to the objects that are returned, to variable names (those
from an entered data frame or entered as arguments), or entered data by their position, preceded by '.' (e.g.,
<code>mod =</code> <code>lm(.y~.x)</code>). Useful for adding things like lines to a plot while the parameters are still
those set by the function (e.g., <code>add =</code> <code>abline(v =</code> <code>mean(x),</code> <code>xpd = FALSE)</code> for a vertical
line at the mean of x).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing data and settings is invisibly returned, which might be useful to check for errors.
Each of these objects can also be pulled from within <code>add</code>:
</p>

<table>
<tr>
 <td style="text-align: left;">
  <code>dat</code> </td><td style="text-align: left;"> a <code>data.frame</code> of processed, unsegmented data.</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>cdat</code> </td><td style="text-align: left;"> a <code>list</code> of <code>list</code>s of <code>data.frame</code>s of processed, segmented data.</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>txt</code> </td><td style="text-align: left;"> a <code>list</code> of variable names. used mostly to pull variables from <code>data</code> or the environment.</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>ptxt</code> </td><td style="text-align: left;"> a <code>list</code> of processed variable and level names. Used mostly for labeling.</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>seg</code> </td><td style="text-align: left;"> a <code>list</code> containing segmentation information (such as levels) for each variable.</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>ck</code> </td><td style="text-align: left;"> a <code>list</code> of settings.</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>lega</code> </td><td style="text-align: left;"> a <code>list</code> of arguments that were or would have been passed to <code><a href="graphics.html#topic+legend">legend</a></code>.</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>fmod</code> </td><td style="text-align: left;"> an <code>lm</code> object if <code>model</code> is <code>TRUE</code>, and the model succeeded.
</td>
</tr>

</table>



<h3>Input</h3>

<p><strong>formulas</strong>
</p>
<p>When <code>y</code> is a formula (has a <code>~</code>), other variables will be pulled from it:
</p>
<p><code>y ~ x * by * between[1] * between[2] + cov[1] + cov[2] + cov[n]</code>
</p>
<p>If <code>y</code> has multiple variables, <code>by</code> is used to identify the variable (it becomes a factor with variable names
as levels), so anything entered as <code>by</code> is treated as <code>between[1]</code>, <code>between[1]</code> is moved to
<code>between[2]</code>, and <code>between[2]</code> is discarded with a message.
</p>
<p><strong>named vectors</strong>
</p>
<p>Named vector arguments like <code>font</code>, <code>cex</code>, and <code>drop</code> can be set with a single value, positionally, or
with names. If a single value is entered (e.g., <code>drop = FALSE</code>), this will be applied to each level (i.e.,
<code>c(x = FALSE, by = FALSE, bet = FALSE)</code>). If more than one value is entered, these will be treated positionally
(e.g., <code>cex =</code> <code>c(2, 1.2)</code> would be read as <code>c(title = 2, sud = 1.2, leg = .9, note = .7, points = 1)</code>).
If values are named, only named values will be set, with other defaults retained (e.g., <code>cex =</code> <code>c(note = 1.2)</code>
would be read as <code>c(title = 1.5, sud = .9, leg = .9, note = 1.2, points = 1)</code>).
</p>


<h3>Note</h3>

<p><strong>x-axis levels text</strong>
</p>
<p>If the text of x-axis levels (those corresponding to the levels of <code>x</code>) are too long, they are hidden before
overlapping. To try and avoid this, by default longer texts are trimmed (dictated by <code>labels.trim</code>), and at some
point the orientation of level text is changed (settable with <code>xlas</code>), but you may still see level text missing.
To make these visible, you can reduce <code>labels.trim</code> from the default of 20 (or rename the levels of that variable),
make the level text vertical (<code>xlas = 3</code>), or expand your plot window if possible.
</p>
<p><strong>missing levels, lines, and/or error bars</strong>
</p>
<p>By default (if <code>drop = TRUE</code>), levels of <code>x</code> with no data are dropped, so you may not see every level of your
variable, at all or at a level of <code>by</code> or <code>between</code>. Sometimes error bars cannot be estimated (if, say, there
is only one observation at the given level), but lines are still drawn in these cases, so you may sometimes see levels
without error bars even when error bars are turned on. Sometimes (particularly when <code>drop['x']</code> is <code>FALSE</code>),
you might see floating error bars with no lines drawn to them, or what appear to be completely empty levels. This
happens when there is a missing level of <code>x</code> between two non-missing levels, potentially making an orphaned level
(if a non-missing level is surrounded by missing levels). If there are no error bars for this orphaned level, by default
nothing will be drawn to indicate it. If you set <code>line.type</code> to <code>'b'</code> (or any other type with points), a point
will be drawn at such error-bar-less, orphaned levels.
</p>
<p><strong>unexpected failures</strong>
</p>
<p>splot tries to clean up after itself in the case of an error, but you may still run into errors that break things before
this can happen. If after a failed plot you find that you're unable to make any new plots, or new plots are drawn over
old ones, you might try entering <code>dev.off()</code> into the console. If new plots look off (splot's
<code><a href="graphics.html#topic+par">par</a></code> settings didn't get reset), you may have to close the plot window to reset
<code><a href="graphics.html#topic+par">par</a></code> (if you're using RStudio, Plots &gt; &quot;Remove Plot...&quot; or &quot;Clear All...&quot;), or restart R.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># simulating data
n &lt;- 2000
dat &lt;- data.frame(sapply(c("by", "bet1", "bet2"), function(c) sample(0:1, n, TRUE)))
dat$x &lt;- with(
  dat,
  rnorm(n) + by * -.4 + by * bet1 * -.3 + by * bet2 *
    .3 + bet1 * bet2 * .9 - .8 + rnorm(n, 0, by)
)
dat$y &lt;- with(
  dat,
  x * .2 + by * .3 + bet2 * -.6 + bet1 * bet2 * .8 + x *
    by * bet1 * -.5 + x * by * bet1 * bet2 * -.5
    + rnorm(n, 5) + rnorm(n, -1, .1 * x^2)
)

# looking at the distribution of y between bets split by by
splot(y, by = by, between = c(bet1, bet2), data = dat)

# looking at quantile splits of y in y by x
splot(y ~ x * y, dat, split = "quantile")

# looking at y by x between bets
splot(y ~ x, dat, between = c(bet1, bet2))

# sequentially adding levels of split
splot(y ~ x * by, dat)
splot(y ~ x * by * bet1, dat)
splot(y ~ x * by * bet1 * bet2, dat)

# same as the last but entered by name
splot(y, x = x, by = by, between = c(bet1, bet2), data = dat)

# zooming in on one of the windows
splot(y ~ x * by, dat, bet1 == 1 &amp; bet2 == 0)

# comparing an adjusted lm prediction line with a loess line
# this could also be entered as y ~ poly(x,3)
splot(y ~ x + x^2 + x^3, dat, bet1 == 1 &amp; bet2 == 0 &amp; by == 1, add = {
  lines(x[order(x)], loess(y ~ x)$fitted[order(x)], lty = 2)
  legend("topright", c("lm", "loess"), lty = c(1, 2), lwd = c(2, 1), bty = "n")
})

# looking at different versions of x added to y
splot(cbind(
  Raw = y + x,
  Sine = y + sin(x),
  Cosine = y + cos(x),
  Tangent = y + tan(x)
) ~ x, dat, myl = c(-10, 15), lines = "loess", laby = "y + versions of x")

</code></pre>

<hr>
<h2 id='splot.bench'>splot benchmarker</h2><span id='topic+splot.bench'></span>

<h3>Description</h3>

<p>Time one or more expressions over several iteration, then plot the distributions of their times.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>splot.bench(..., runs = 20, runsize = 200, cleanup = FALSE,
  print.names = FALSE, limit.outliers = TRUE, check_output = TRUE,
  check_args = list(), options = list())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="splot.bench_+3A_...">...</code></td>
<td>
<p>accepts any number of expressions to be timed. See examples.</p>
</td></tr>
<tr><td><code id="splot.bench_+3A_runs">runs</code></td>
<td>
<p>the number of overall iterations. Increase to stabilize estimates.</p>
</td></tr>
<tr><td><code id="splot.bench_+3A_runsize">runsize</code></td>
<td>
<p>the number of times each expression is evaluated within each run. Increase to
differentiate estimates (particularly for very fast operations).</p>
</td></tr>
<tr><td><code id="splot.bench_+3A_cleanup">cleanup</code></td>
<td>
<p>logical; if <code>TRUE</code>, garbage collection will be performed before each run.
Garbage collection greatly increases run time, but may result in more stable timings.</p>
</td></tr>
<tr><td><code id="splot.bench_+3A_print.names">print.names</code></td>
<td>
<p>logical; if <code>FALSE</code>, the entered expressions will be included in the plot
as legend names. Otherwise, (and if the number of expressions is over 5 or the length of any
expression is over 50 characters) expressions are replaced with numbers corresponding to their
entered position.</p>
</td></tr>
<tr><td><code id="splot.bench_+3A_limit.outliers">limit.outliers</code></td>
<td>
<p>logical; if <code>TRUE</code> (default), times over an upper bound for the given
expression will be set to that upper bound, removing aberrant extremes.</p>
</td></tr>
<tr><td><code id="splot.bench_+3A_check_output">check_output</code></td>
<td>
<p>logical; if <code>TRUE</code>, the output of each expression is checked with
<code><a href="base.html#topic+all.equal">all.equal</a></code> against that of the first. A warning indicates if any are not
equal, and results are invisibly returned.</p>
</td></tr>
<tr><td><code id="splot.bench_+3A_check_args">check_args</code></td>
<td>
<p>a list of arguments to be passed to <code><a href="base.html#topic+all.equal">all.equal</a></code>, if
<code>check_output</code> is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="splot.bench_+3A_options">options</code></td>
<td>
<p>a list of options to pass on to splot.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list:
</p>

<table>
<tr>
 <td style="text-align: left;">
  plot </td><td style="text-align: left;"> splot output</td>
</tr>
<tr>
 <td style="text-align: left;">
  checks </td><td style="text-align: left;"> a list of result from all.equal, if <code>check_output</code> was <code>TRUE</code></td>
</tr>
<tr>
 <td style="text-align: left;">
  expressions </td><td style="text-align: left;"> a list of the entered expressions </td>
</tr>
<tr>
 <td style="text-align: left;">
  summary </td><td style="text-align: left;"> a matrix of the printed results </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Examples</h3>

<pre><code class='language-R'># increase the number of runs for more stable estimates

# compare ways of looping through a vector
splot.bench(
  sapply(1:100, "*", 10),
  mapply("*", 1:100, 10),
  vapply(1:100, "*", 0, 10),
  unlist(lapply(1:100, "*", 10)),
  runs = 20, runsize = 200
)

# compare ways of setting all but the maximum value of each row in a matrix to 0


mat &lt;- matrix(c(rep(1, 4), rep(0, 8)), 4, 3)
splot.bench(
  t(vapply(seq_len(4), function(r) {
    mat[r, mat[r, ] &lt; max(mat[r, ])] &lt;- 0
    mat[r, ]
  }, numeric(ncol(mat)))),
  do.call(rbind, lapply(seq_len(4), function(r) {
    mat[r, mat[r, ] &lt; max(mat[r, ])] &lt;- 0
    mat[r, ]
  })),
  do.call(rbind, lapply(seq_len(4), function(r) {
    nr &lt;- mat[r, ]
    nr[nr &lt; max(nr)] &lt;- 0
    nr
  })),
  {
    nm &lt;- mat
    for (r in seq_len(4)) {
      nr &lt;- nm[r, ]
      nm[r, nr &lt; max(nr)] &lt;- 0
    }
    nm
  },
  {
    nm &lt;- mat
    for (r in seq_len(4)) nm[r, nm[r, ] &lt; max(nm[r, ])] &lt;- 0
    nm
  },
  {
    nm &lt;- matrix(0, dim(mat)[1], dim(mat)[2])
    for (r in seq_len(4)) {
      m &lt;- which.max(mat[r, ])
      nm[r, m] &lt;- mat[r, m]
    }
    nm
  },
  {
    ck &lt;- do.call(rbind, lapply(seq_len(4), function(r) {
      nr &lt;- mat[r, ]
      nr &lt; max(nr)
    }))
    nm &lt;- mat
    nm[ck] &lt;- 0
    nm
  },
  t(apply(mat, 1, function(r) {
    r[r &lt; max(r)] &lt;- 0
    r
  })),
  runs = 50,
  runsize = 200
)

</code></pre>

<hr>
<h2 id='splot.color'>splot colors</h2><span id='topic+splot.color'></span>

<h3>Description</h3>

<p>Get a prespecified set of 9 colors, or a set of graded or random, potentially grouped colors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>splot.color(x = NULL, by = NULL, seed = "pastel", brightness = 0,
  luminance = 0, opacity = 1, extend = 0.7, lighten = FALSE,
  shuffle = FALSE, flat = TRUE, method = "scale", grade = FALSE,
  decreasing = FALSE, nas = "#000000")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="splot.color_+3A_x">x</code></td>
<td>
<p>dictates the number and shade of colors. If a single value, returns that many samples of the
first <code>seed</code> entry. If a vector, returns a color for each entry. If numeric, a single seed color
is sampled in order of the vector. If a character or factor, a separate seed color is assigned to
each level, then sampled within levels. Values or vectors in a list are each assigned a seed color.</p>
</td></tr>
<tr><td><code id="splot.color_+3A_by">by</code></td>
<td>
<p>a vector to group <code>x</code> by; each level is assigned a seed color.</p>
</td></tr>
<tr><td><code id="splot.color_+3A_seed">seed</code></td>
<td>
<p>a vector of color names or codes to adjust from, lining up with levels of <code>x</code> or
<code>by</code>, or the name of a palette, partially matching <code>'bright'</code>, <code>'dark'</code>,
<code>'pastel'</code>, or <code>'grey'</code>.</p>
</td></tr>
<tr><td><code id="splot.color_+3A_brightness">brightness</code></td>
<td>
<p>adjusts the RGB values of the seed color, usually between -1 and 1.</p>
</td></tr>
<tr><td><code id="splot.color_+3A_luminance">luminance</code></td>
<td>
<p>adjusts the white levels of the seed color, usually between -1 and 1.</p>
</td></tr>
<tr><td><code id="splot.color_+3A_opacity">opacity</code></td>
<td>
<p>sets the opacity of the seed color, between 0 and 1.</p>
</td></tr>
<tr><td><code id="splot.color_+3A_extend">extend</code></td>
<td>
<p>if <code>method='scale'</code>, extends the range of the gradient beyond the sampled range,
making for more similar colors (defaults is .5, with 0 sampling the full range). If
<code>method='related'</code>, increases the amount any of the RGB values can be adjusted, making for
potentially more different colors (default is 2).</p>
</td></tr>
<tr><td><code id="splot.color_+3A_lighten">lighten</code></td>
<td>
<p>logical; if <code>TRUE</code>, scaled colors are lightened instead of darkened. Only
applicable if <code>method='scale'</code>.</p>
</td></tr>
<tr><td><code id="splot.color_+3A_shuffle">shuffle</code></td>
<td>
<p>logical; if <code>TRUE</code>, scaled colors are shuffled. Only applicable if
<code>method='scale'</code>.</p>
</td></tr>
<tr><td><code id="splot.color_+3A_flat">flat</code></td>
<td>
<p>logical; if <code>FALSE</code> and <code>x</code> is a character, factor, or list, or <code>by</code> is not
missing, a list is returned.</p>
</td></tr>
<tr><td><code id="splot.color_+3A_method">method</code></td>
<td>
<p>a character setting the sampling method: If <code>'related'</code> (<code>'^rel|^ran|^o'</code>),
RGB values are freely adjusted, resulting in similar colors. If <code>'none'</code> (<code>'^no|^f|^bin'</code>),
Seed colors are simply repeated in each level (sampling is off). Otherwise, RGB values are adjusted
together, resulting in a gradient.</p>
</td></tr>
<tr><td><code id="splot.color_+3A_grade">grade</code></td>
<td>
<p>logical; if <code>TRUE</code>, seeds are adjusted on the scale of numeric <code>x</code>s.
Otherwise, seeds are adjusted in even steps along numeric <code>x</code>s.</p>
</td></tr>
<tr><td><code id="splot.color_+3A_decreasing">decreasing</code></td>
<td>
<p>logical; if <code>FALSE</code>, assigns colors to numeric <code>x</code>s in increasing order.</p>
</td></tr>
<tr><td><code id="splot.color_+3A_nas">nas</code></td>
<td>
<p>value to replace missing values with.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>x</code> and <code>by</code> are not specified (or are characters with a length of 1, in which case they
are treated as <code>seed</code>), only the seed palette is returned.
</p>
<p>To expand on a palette, seed colors are assigned to groups, and variants of each seed are assigned to
values or levels within groups, or randomly or as a gradient if there are no values or level to assign to.
</p>
<p>Seed colors are assigned to groups. If <code>x</code> is a character or factor and no <code>by</code> has been
specified, groups are the unique levels of <code>x</code>. If <code>by</code> is specified and is a character or
factor, or has fewer than 10 unique levels, groups are levels of <code>by</code>. If <code>x</code> is a list,
groups are list entries.
</p>
<p>The number of variants for each seed color is determined either by a value (if the value has a length
of 1; e.g., <code>x=10</code>), the vector's length (if <code>x</code> is numeric), or the count of the given level
(if <code>x</code> is a factor or character vector).
</p>


<h3>Value</h3>

<p>A character vector of color codes, or a list of such vectors if <code>flat</code> if <code>FALSE</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># including no arguments or just a palette name will only return
# the palette as a character vector
pastel_palette &lt;- splot.color()
dark_palette &lt;- splot.color("dark")

# entering a number for x will generate that many variants of the first seed color
red_scale &lt;- splot.color(10, "red")

# entering a list of values as x will return that many variants of the associated seed
red_and_green_scales &lt;- splot.color(list(10, 10), seed = c("red", "green"))

# this shows gradients of each color in the default palette
# a list entered as colorby is treated as arguments to splot.color
# periods before the position name refer to the internally assembled data
splot(
  rep(splot.color(), each = 100) ~ rep.int(seq.int(.01, 1, .01), 9),
  colorby = list(.x, .y),
  lines = FALSE, mar = c(2, 4, 0, 0), cex = c(points = 3), leg = FALSE, pch = 15,
  title = "'pastel' palette", labx = "value of x", laby = "seed color"
)

# colors graded by value, entered in a list
plot(
  1:30, numeric(30),
  pch = 15, cex = 10,
  col = splot.color(list(1:8, c(7:1, 1:7), 8:1))
)

# comparing sampling methods:
#   on top are 1000 similar colors, with different RGB ratios
#   on bottom are 268 colors with the same RGB ratio at different levels
splot(
  c(rnorm(1000), rnorm(1000, 10)) ~ rnorm(2000),
  lines = FALSE,
  colors = c(splot.color(1000), splot.color(1000, method = "related"))
)

</code></pre>

<hr>
<h2 id='splot.colorcontrast'>splot color contrast ratio</h2><span id='topic+splot.colorcontrast'></span>

<h3>Description</h3>

<p>Calculates the color contrast ratio between two sets of colors, as defined by the
<a href="https://www.w3.org/TR/WCAG20/#contrast-ratiodef">World Wide Web Consortium</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>splot.colorcontrast(color, background = "#ffffff", plot = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="splot.colorcontrast_+3A_color">color</code>, <code id="splot.colorcontrast_+3A_background">background</code></td>
<td>
<p>A character vector of colors, or a matrix with RGB values across rows.</p>
</td></tr>
<tr><td><code id="splot.colorcontrast_+3A_plot">plot</code></td>
<td>
<p>Logical; if <code>FALSE</code>, will not plot the results.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with entries for <code>ratio</code> (contrast ratio),
<code>AA</code> (ratios of at least 4.5), and <code>AAA</code> (ratios of at least 7).
Each entry contains a matrix with colors in rows and backgrounds in columns.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># check colors against dark and light backgrounds
splot.colorcontrast(c("#FF0000", "#00FF00", "#0000FF"), c("black", "white"))

# check contrast between colors
splot.colorcontrast(c("red", "green", "blue"), c("red", "green", "blue"))

# see when shades of a color cross thresholds on a given background
splot.colorcontrast(splot.color(1:10, seed = "#a388b5"), "#101010")
</code></pre>

<hr>
<h2 id='splot.colormean'>splot color average</h2><span id='topic+splot.colormean'></span>

<h3>Description</h3>

<p>Calculates the average of a set of colors, returning its Hex code.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>splot.colormean(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="splot.colormean_+3A_...">...</code></td>
<td>
<p>color codes or names as characters.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The calculated color code.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># average of red and blue
plot(
  1:3, numeric(3),
  pch = 15, cex = 20, xlim = c(0, 4),
  col = c("red", splot.colormean("red", "blue"), "blue")
)

# average of a set
x &lt;- rnorm(100)
set &lt;- splot.color(x, method = "related")
splot(
  x ~ rnorm(100),
  colors = set,
  add = points(0, 0, pch = 15, cex = 10, col = splot.colormean(set))
)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package BANAM</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {BANAM}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#banam'><p>Bayesian estimation of the network autocorrelation model</p></a></li>
<li><a href='#W_votes'><p>Weight matrix for counties in Alabama, US</p></a></li>
<li><a href='#X_votes'><p>Covariate data frame for the Alabama voter turnout data</p></a></li>
<li><a href='#y_votes'>
<p>Logarithmized voter turnout in Alabama, US</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-06-20</td>
</tr>
<tr>
<td>Title:</td>
<td>Bayesian Analysis of the Network Autocorrelation Model</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.1</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Joris Mulder &lt;j.mulder3@tilburguniversity.edu&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>The network autocorrelation model (NAM) can be used for studying the degree of social influence 
    regarding an outcome variable based on one or more known networks. 
    The degree of social influence is quantified via the network autocorrelation parameters. In case of a single
    network, the Bayesian methods of Dittrich, Leenders, and Mulder
    (2017) &lt;<a href="https://doi.org/10.1016%2Fj.socnet.2016.09.002">doi:10.1016/j.socnet.2016.09.002</a>&gt; and Dittrich, Leenders, and Mulder (2019)
    &lt;<a href="https://doi.org/10.1177%2F0049124117729712">doi:10.1177/0049124117729712</a>&gt; are implemented using a normal, flat, or independence  
    Jeffreys prior for the network autocorrelation. In the case of multiple 
    networks, the Bayesian methods of Dittrich, Leenders, and Mulder (2020) 
    &lt;<a href="https://doi.org/10.1177%2F0081175020913899">doi:10.1177/0081175020913899</a>&gt; are implemented using a multivariate normal prior for 
    the network autocorrelation parameters. Flat priors are implemented 
    for estimating the coefficients. For Bayesian testing of equality and order-constrained 
    hypotheses, the default Bayes factor of Gu, Mulder, and Hoijtink, (2018) 
    &lt;<a href="https://doi.org/10.1111%2Fbmsp.12110">doi:10.1111/bmsp.12110</a>&gt; is used with the posterior mean and posterior covariance 
    matrix of the NAM parameters based on flat priors as input.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.0.0), BFpack</td>
</tr>
<tr>
<td>Imports:</td>
<td>Matrix, extraDistr, matrixcalc, mvtnorm, rARPACK, tmvtnorm,
utils, psych, sna, bain</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-06-20 10:13:51 UTC; jorismulder</td>
</tr>
<tr>
<td>Author:</td>
<td>Joris Mulder [aut, cre],
  Dino Dittrich [aut, ctb],
  Roger Leenders [aut, ctb]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-06-20 10:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='banam'>Bayesian estimation of the network autocorrelation model</h2><span id='topic+banam'></span>

<h3>Description</h3>

<p>The <code>banam</code> function can be used for Bayesian estimation of the
network autocorrelation model (NAM). In the case of a single weight matrix, a flat prior,
the independence Jeffreys prior, and a normal prior can be specified for the network autocorrelation
parameter. In the case of multiple weight matrices, a multivariate normal prior can be specified.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>banam(
  y,
  X,
  W,
  prior = "flat",
  prior.mean = NULL,
  prior.Sigma = NULL,
  postdraws = 5000,
  burnin = 1000
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="banam_+3A_y">y</code></td>
<td>
<p>A numeric vector containing the observations of the outcome variable.</p>
</td></tr>
<tr><td><code id="banam_+3A_x">X</code></td>
<td>
<p>The design matrix of the predictor variables. If absent a column of ones
is automatically to model the intercept.</p>
</td></tr>
<tr><td><code id="banam_+3A_w">W</code></td>
<td>
<p>A weight matrix (in the case of a NAM with a single weight matrix) or
a list of weight matrices (in the case of a NAM with multiple weight matrices).</p>
</td></tr>
<tr><td><code id="banam_+3A_prior">prior</code></td>
<td>
<p>A character string specifying which prior to use in the case of a
NAM with a single weight matrix. The options are 'flat', 'IJ', and 'normal',
for a flat prior, the independence Jeffreys prior, and a normal prior, respectively.</p>
</td></tr>
<tr><td><code id="banam_+3A_prior.mean">prior.mean</code></td>
<td>
<p>A scalar (or vector) specifying the prior mean(s) of the network
autocorrelation(s). The default prior mean is 0.</p>
</td></tr>
<tr><td><code id="banam_+3A_prior.sigma">prior.Sigma</code></td>
<td>
<p>A scalar (or matrix) specifying the prior variance (or prior covariance
matrix) of the network autocorrelation(s). In the univariate case, the default prior variance
is 1e6. In the multivariate case, the default prior covariance matrix is the identity matrix
times 1e6.</p>
</td></tr>
<tr><td><code id="banam_+3A_postdraws">postdraws</code></td>
<td>
<p>An integer specifying the number of posterior draws after burn-in.</p>
</td></tr>
<tr><td><code id="banam_+3A_burnin">burnin</code></td>
<td>
<p>An integer specifying the number of draws for burn-in.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output is an object of class <code>banam</code>. For users of <code>BANAM</code>, the following
are the useful objects:
</p>

<ul>
<li> <p><code>rho.draws</code> Matrix of posterior draws for the network autocorrelation parameter(s).
</p>
</li>
<li> <p><code>beta.draws</code> Matrix of posterior draws for the coefficients.
</p>
</li>
<li> <p><code>sigma2.draws</code> Matrix of posterior draws for the error variance.
</p>
</li>
<li> <p><code>summarystats</code> Table with summary statistics of the posterior.
</p>
</li>
<li> <p><code>residuals</code> Residuals based on all posterior draws.
</p>
</li>
<li> <p><code>fitted.values</code> Fitted values based on all posterior draws.
</p>
</li></ul>



<h3>References</h3>

<p>Dittrich, D., Leenders, R.Th.A.J., &amp; Mulder, J. (2017).
Bayesian estimation of the network autocorrelation model. Social Network, 48, 213â€“236.
&lt;doi:10.1016/j.socnet.2016.09.002&gt;
</p>
<p>Dittrich, D., Leenders, R.Th.A.J., &amp; Mulder, J. (2019). Network autocorrelation
modeling: A Bayes factor approach for testing (multiple) precise and interval hypotheses.
Sociological Methods &amp; Research, 48, 642-676. &lt;doi:10.1177/0049124117729712&gt;
</p>
<p>Dittrich, D., Leenders, R.Th.A.J., &amp; Mulder, J. (2020). Network
Autocorrelation Modeling: Bayesian Techniques for Estimating and Testing Multiple
Network Autocorrelations. Sociological Methodology, 50, 168-214.
&lt;doi:10.1177/0081175020913899&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
#example analyses
#generate example data
set.seed(234)
n &lt;- 50
d1 &lt;- .2
Wadj1 &lt;- sna::rgraph(n, tprob=d1, mode="graph")
W1 &lt;- sna::make.stochastic(Wadj1, mode="row")
d2 &lt;- .4
Wadj2 &lt;- sna::rgraph(n, tprob=d2, mode="graph")
W2 &lt;- sna::make.stochastic(Wadj2, mode="row")
# set rho, beta, sigma2, and generate y
rho1 &lt;- .3
K &lt;- 3
beta &lt;- rnorm(K)
sigma2 &lt;- 1
X &lt;- matrix(c(rep(1, n), rnorm(n*(K-1))), nrow=n, ncol=K)
y &lt;- c((solve(diag(n) - rho1*W1))%*%(X%*%beta + rnorm(n)))

#Bayesian estimation of NAM with a single weight matrix using a flat prior for rho
best1 &lt;- banam(y,X,W1)
print(best1)

#Bayesian estimation of NAM with two weight matrices using standard normal priors
best2 &lt;- banam(y,X,W=list(W1,W2))
print(best2)

#Bayes factor testing of equality/order hypotheses using environment of package 'BFpack'
BFbest2 &lt;- BF(best2,hypothesis="rho1&gt;rho2&gt;0; rho1=rho2&gt;0; rho1=rho2=0")

</code></pre>

<hr>
<h2 id='W_votes'>Weight matrix for counties in Alabama, US</h2><span id='topic+W_votes'></span>

<h3>Description</h3>

<p>This dataset specifies the four nearest neighboring 
counties of 67 counties in Alabama, US. All counties that satisfy 
this criteria were assigned a weight of 0.25.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(W_votes)</code></pre>


<h3>Format</h3>

<p>A matrix with 67 rows and 67 columns
</p>


<h3>References</h3>

<p>Pace, R. K. and R. Barry. 1997. Quick Computation of Spatial Autoregressive Estimators. Geographical Analysis, 29, 232-47. 
Data can be downloaded from 
http://www.spatial-econometrics.com/html/jplv7.zip
</p>

<hr>
<h2 id='X_votes'>Covariate data frame for the Alabama voter turnout data</h2><span id='topic+X_votes'></span>

<h3>Description</h3>

<p>This data.frame includes logarithmized data on population casting votes, of the
population that is 25 years and older who completed 12th grade or higher 
education, on the number of owner-occupied housing units, and of aggregate 
income per county in Alabama, US. This data.frame can be specified as covariate
matrix in the network autocorrelation model to predict the voter turnout in 
Alabama.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(X_votes)</code></pre>


<h3>Format</h3>

<p>A data.frame with 67 rows and 4 columns
</p>

<table>
<tr>
 <td style="text-align: left;">
<strong>pop_eligible</strong> </td><td style="text-align: left;"> <code>numeric</code> </td><td style="text-align: left;"> Logarithm of the population casting votes </td>
</tr>
<tr>
 <td style="text-align: left;">
<strong>pop_college</strong> </td><td style="text-align: left;"> <code>numeric</code> </td><td style="text-align: left;"> Logarithm of the population that is 25 years and older who completed 12th grade or higher education </td>
</tr>
<tr>
 <td style="text-align: left;">
<strong>homeownership</strong> </td><td style="text-align: left;"> <code>numeric</code> </td><td style="text-align: left;"> Logarithm of the number of owner-occupied housing units </td>
</tr>
<tr>
 <td style="text-align: left;">
<strong>income</strong> </td><td style="text-align: left;"> <code>numeric</code> </td><td style="text-align: left;"> Logarithmized aggregate income per county </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>References</h3>

<p>Pace, R. K. and R. Barry. 1997. Quick Computation of Spatial Autoregressive Estimators. Geographical Analysis, 29, 232-47. 
Data can be downloaded from http://www.spatial-econometrics.com/html/jplv7.zip
</p>

<hr>
<h2 id='y_votes'>
Logarithmized voter turnout in Alabama, US
</h2><span id='topic+y_votes'></span>

<h3>Description</h3>

<p>This vector contains the logarithmized voter turnout of 67 counties in Alabama, US.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(y_votes)</code></pre>


<h3>Format</h3>

<p>A vector of the length 67</p>


<h3>References</h3>

<p>Pace, R. K. and R. Barry. 1997. Quick Computation of Spatial Autoregressive
Estimators. Geographical Analysis, 29, 232-47. 
Data can be downloaded from 
http://www.spatial-econometrics.com/html/jplv7.zip
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

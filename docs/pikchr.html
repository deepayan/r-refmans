<!DOCTYPE html><html lang="en"><head><title>Help for package pikchr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {pikchr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#eng_pikchr'><p>Pikchr Code Engine for Knitr</p></a></li>
<li><a href='#eng_pikchr_validate_options'><p>Validate Knitr Chunk Options for Pikchr Engine</p></a></li>
<li><a href='#google_fonts'><p>Google Font List</p></a></li>
<li><a href='#pikchr'><p>Convert Pikchr Code to SVG</p></a></li>
<li><a href='#run_hook_plot'><p>Run Plot Hook and Record Plot Filenames</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>R Wrapper for 'pikchr' (PIC) Diagram Language</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-12-01</td>
</tr>
<tr>
<td>Description:</td>
<td>An 'R' interface to 'pikchr' (<a href="https://pikchr.org">https://pikchr.org</a>, pronounced “picture”), a 'PIC'-like markup language for creating diagrams within technical documentation. Originally developed by Brian Kernighan, 'PIC' has been adapted into 'pikchr' by D. Richard Hipp, the creator of 'SQLite'. 'pikchr' is designed to be embedded in fenced code blocks of Markdown or other documentation markup languages, making it ideal for generating diagrams in text-based formats. This package allows R users to seamlessly integrate the descriptive syntax of 'pikchr' for diagram creation directly within the 'R' environment.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr, knitr, brio, htmltools, rlang, purrr, stringr, rsvg</td>
</tr>
<tr>
<td>Suggests:</td>
<td>kableExtra, tidyverse</td>
</tr>
<tr>
<td>URL:</td>
<td>&lt;<a href="https://github.com/StrategicProjects/pikchr&amp;gt;">https://github.com/StrategicProjects/pikchr&gt;</a></td>
</tr>
<tr>
<td>Note:</td>
<td>This package makes use of the 'pikchr' source code created by
Richard Hipp (&lt;https://pikchr.org&gt;).</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.0)</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Config/Needs/website:</td>
<td>tidyverse/tidytemplate, rmarkdown</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-12-02 12:16:10 UTC; leite</td>
</tr>
<tr>
<td>Author:</td>
<td>Andre Leite [aut, cre],
  Hugo Vaconcelos [aut],
  Richard Hipp [ctb],
  Brian Kernighan [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Andre Leite &lt;leite@castlab.org&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-12-02 12:30:35 UTC</td>
</tr>
</table>
<hr>
<h2 id='eng_pikchr'>Pikchr Code Engine for Knitr</h2><span id='topic+eng_pikchr'></span>

<h3>Description</h3>

<p>This function serves as a custom code engine for Knitr to render Pikchr diagrams as SVG or PNG images.
It processes Pikchr code embedded in R Markdown documents and outputs either HTML or LaTeX-compatible images.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>eng_pikchr(options)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="eng_pikchr_+3A_options">options</code></td>
<td>
<p>A list of chunk options from Knitr. It includes the Pikchr code and various parameters
controlling the size, appearance, and output format of the rendered image.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The 'eng_pikchr' function allows you to use Pikchr code inside R Markdown documents, rendering it as an image.
It supports options like 'width', 'height', font 'size', font 'family', and CSS classes to customize the output.
The function automatically detects the output format (HTML or LaTeX) and generates the appropriate image.
</p>
<p>If the output is LaTeX, the SVG is converted to PNG using the 'rsvg_png()' function.
</p>


<h3>Value</h3>

<p>This function returns an SVG (or PNG for LaTeX output) rendered by Pikchr.
</p>


<h3>Chunk Options</h3>

<p>- 'eval': Whether to evaluate the Pikchr code (default 'TRUE').
- 'echo': Whether to display the code in the output document (default 'TRUE').
- 'width': Width of the rendered image (default '&quot;80
- 'height': Height of the rendered image (default '&quot;auto&quot;').
- 'size': Font size for the Pikchr diagram (default '&quot;100
- 'family': Font family for the Pikchr diagram (default '&quot;inherit&quot;').
- 'align': Figure align: left, right, center.
- 'css': Additional CSS for customizing the Pikchr diagram.
- 'class': CSS class to apply to the diagram (default '&quot;pikchr&quot;').
- 'margin': CSS margin around the image (default '&quot;10px 0 10px 0&quot;').
- 'lang': Language for the Pikchr diagram (optional).
</p>


<h3>See Also</h3>

<p>[knitr::knit_engines]
</p>

<hr>
<h2 id='eng_pikchr_validate_options'>Validate Knitr Chunk Options for Pikchr Engine</h2><span id='topic+eng_pikchr_validate_options'></span>

<h3>Description</h3>

<p>This function validates the chunk options provided to the Pikchr engine in Knitr. 
It checks for unsupported numeric options and converts them to logical 'TRUE' values.
A warning is issued if any unsupported numeric options are detected.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>eng_pikchr_validate_options(options)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="eng_pikchr_validate_options_+3A_options">options</code></td>
<td>
<p>A list of options passed to the Pikchr engine from a Knitr code chunk. These options include directives such as 'eval', 'echo', and 'warning'.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The 'eng_pikchr_validate_options' function looks for specific options (e.g., 'eval', 'echo', 'warning') that should not be numeric. If any of these options are numeric, they are converted to logical 'TRUE' and a warning is issued to the user.
</p>


<h3>Value</h3>

<p>The validated options list, where unsupported numeric values are converted to 'TRUE'.
</p>

<hr>
<h2 id='google_fonts'>Google Font List</h2><span id='topic+google_fonts'></span>

<h3>Description</h3>

<p>List of fonts and its stytles on google fonts site.
Report ...
</p>


<h3>Usage</h3>

<pre><code class='language-R'>google_fonts
</code></pre>


<h3>Format</h3>

<p>## 'google_fonts'
A data frame with 1,718 rows and 2 columns:
</p>

<dl>
<dt>family</dt><dd><p>Font family names</p>
</dd>
<dt>styles</dt><dd><p>Font styles</p>
</dd>
</dl>



<h3>Source</h3>

<p>&lt;https://fonts.google.com&gt;
</p>

<hr>
<h2 id='pikchr'>Convert Pikchr Code to SVG</h2><span id='topic+pikchr'></span>

<h3>Description</h3>

<p>This function converts a diagram description written in the Pikchr language into an SVG (Scalable Vector Graphics) format.
Pikchr is a diagram language inspired by PIC, and this function allows you to easily embed Pikchr diagrams as SVG images in your HTML or Markdown documents.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pikchr(
  code,
  width = NULL,
  height = NULL,
  fontSize = "100%",
  fontFamily = "Jost",
  class = "pikchr",
  align = "none",
  css = NULL,
  margin = NULL,
  svgOnly = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pikchr_+3A_code">code</code></td>
<td>
<p>A character string containing the diagram code written in the Pikchr language.</p>
</td></tr>
<tr><td><code id="pikchr_+3A_width">width</code></td>
<td>
<p>A character string representing the width of the rendered SVG. It accepts standard HTML values such as percentages (&quot;75%&quot;), pixels (&quot;300px&quot;), or &quot;auto&quot;. Defaults to &quot;75%&quot;.</p>
</td></tr>
<tr><td><code id="pikchr_+3A_height">height</code></td>
<td>
<p>A character string representing the height of the rendered SVG. It accepts standard HTML values such as pixels (&quot;300px&quot;) or &quot;auto&quot;. Defaults to &quot;auto&quot;.</p>
</td></tr>
<tr><td><code id="pikchr_+3A_fontsize">fontSize</code></td>
<td>
<p>A character string specifying the font size of the text within the SVG. It accepts standard HTML values such as percentages (&quot;80%&quot;), pixels, or keywords (&quot;large&quot;). Defaults to &quot;80%&quot;.</p>
</td></tr>
<tr><td><code id="pikchr_+3A_fontfamily">fontFamily</code></td>
<td>
<p>A character string specifying the font family for the text in the diagram. Common values include &quot;inherit&quot; (to use the page's default font), &quot;Arial&quot;, &quot;Times New Roman&quot;, etc. Defaults to &quot;inherit&quot;.</p>
</td></tr>
<tr><td><code id="pikchr_+3A_class">class</code></td>
<td>
<p>A character string specifying a CSS class to apply to the SVG. This can be used to style the SVG with external CSS rules. Defaults to &quot;pikchr&quot;.</p>
</td></tr>
<tr><td><code id="pikchr_+3A_align">align</code></td>
<td>
<p>A character string specifying the alignment of the SVG within its container. Options are &quot;center&quot; (default), &quot;left&quot;, or &quot;right&quot;. If set to &quot;none&quot;, no alignment is applied.</p>
</td></tr>
<tr><td><code id="pikchr_+3A_css">css</code></td>
<td>
<p>A character string containing extra CSS styles to apply directly to the SVG element. This allows additional customization beyond width, height, and font settings. If NULL, no extra styles are applied.</p>
</td></tr>
<tr><td><code id="pikchr_+3A_margin">margin</code></td>
<td>
<p>A character string specifying the margin around the SVG element, formatted like a CSS margin rule (e.g., &quot;10px 0 10px 0&quot;). Defaults to &quot;10px 0 10px 0&quot;.</p>
</td></tr>
<tr><td><code id="pikchr_+3A_svgonly">svgOnly</code></td>
<td>
<p>Logical, whether to return only the raw SVG code (TRUE) or open the diagram in the Viewer window (FALSE, default).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character string containing the SVG diagram code if svgOnly = TRUE. Otherwise, the function opens the diagram in the Viewer window.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if(interactive()) {
pikchr('
  arrow right 200% "Rmarkdown" "Source"
  box rad 10px "Rmarkdown" "(knitr)" fit
  arrow right 200% "HTML+SVG" "Output"
  arrow &lt;-&gt; down from last box.s
  box same "Pikchr" "(pikchr.c)" fit
  ')
  }
</code></pre>

<hr>
<h2 id='run_hook_plot'>Run Plot Hook and Record Plot Filenames</h2><span id='topic+run_hook_plot'></span>

<h3>Description</h3>

<p>This function records the filenames of plot outputs (such as SVG or PNG files) in the Knitr environment 
and then runs the appropriate plot hook to display or save the plots.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>run_hook_plot(x, options)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="run_hook_plot_+3A_x">x</code></td>
<td>
<p>A character string representing the path to the plot file.</p>
</td></tr>
<tr><td><code id="run_hook_plot_+3A_options">options</code></td>
<td>
<p>A list of options associated with the Knitr chunk, such as plot settings and output options.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The 'run_hook_plot' function appends the plot file path to the internal Knitr option 'plot_files'. 
It then retrieves the current plot hook defined in 'knit_hooks' and calls it to handle the plot rendering or output. 
This function is particularly useful for handling plots generated from both R code and other outputs like HTML widgets.
</p>


<h3>Value</h3>

<p>The result of calling the current Knitr plot hook with the specified plot file and options.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

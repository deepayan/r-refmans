<!DOCTYPE html><html lang="en"><head><title>Help for package clust.bin.pair</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {clust.bin.pair}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#clust.bin.pair'><p>Statistical test for clustered binary matched pair data</p></a></li>
<li><a href='#nested.to.contingency'><p>Convert between nested results and the canonical contingency tables</p></a></li>
<li><a href='#obfuscation'><p>Obfuscated C code misinterpretation data</p></a></li>
<li><a href='#paired.to.contingency'><p>Convert between paired results and the canonical contingency tables</p></a></li>
<li><a href='#psychiatry'><p>Psychiatrist and patient disagreement data</p></a></li>
<li><a href='#thyroids'><p>PET and SPECT data for diagnosing hyperparathyroidism</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Statistical Methods for Analyzing Clustered Matched Pair Data</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.2</td>
</tr>
<tr>
<td>Description:</td>
<td>Tests, utilities, and case studies for analyzing significance in
  clustered binary matched-pair data. The central function clust.bin.pair uses
  one of several tests to calculate a Chi-square statistic. Implemented are the
  tests Eliasziw (1991) &lt;<a href="https://doi.org/10.1002%2Fsim.4780101211">doi:10.1002/sim.4780101211</a>&gt;, Obuchowski (1998)
  &lt;<a href="https://doi.org/10.1002/(SICI)1097-0258(19980715)17:13%3C1495::AID-SIM863%3E3.0.CO;2-I">doi:10.1002/(SICI)1097-0258(19980715)17:13%3C1495::AID-SIM863%3E3.0.CO;2-I</a>&gt;,
  Durkalski (2003) &lt;<a href="https://doi.org/10.1002%2Fsim.1438">doi:10.1002/sim.1438</a>&gt;, and Yang (2010)
  &lt;<a href="https://doi.org/10.1002%2Fbimj.201000035">doi:10.1002/bimj.201000035</a>&gt; with McNemar (1947) &lt;<a href="https://doi.org/10.1007%2FBF02295996">doi:10.1007/BF02295996</a>&gt;
  included for comparison. The utility functions nested.to.contingency and
  paired.to.contingency convert data between various useful formats. Thyroids
  and psychiatry are the canonical datasets from Obuchowski and Petryshen (1989)
  &lt;<a href="https://doi.org/10.1016%2F0165-1781%2889%2990196-0">doi:10.1016/0165-1781(89)90196-0</a>&gt; respectively.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.2.4)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/dgopstein/clust.bin.pair">https://github.com/dgopstein/clust.bin.pair</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/dgopstein/clust.bin.pair/issues">https://github.com/dgopstein/clust.bin.pair/issues</a></td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>5.0.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2018-02-15 17:28:53 UTC; dgopstein</td>
</tr>
<tr>
<td>Author:</td>
<td>Dan Gopstein [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Dan Gopstein &lt;dan@gopstein.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2018-02-15 17:44:57 UTC</td>
</tr>
</table>
<hr>
<h2 id='clust.bin.pair'>Statistical test for clustered binary matched pair data</h2><span id='topic+clust.bin.pair'></span>

<h3>Description</h3>

<p>A single interface for several adjustments to the mcnemar test for marginal
homogeneity that correct for clustered data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>clust.bin.pair(ak, bk, ck, dk, method = "yang")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="clust.bin.pair_+3A_ak">ak</code></td>
<td>
<p>vector containing counts per group of Success/Success results.</p>
</td></tr>
<tr><td><code id="clust.bin.pair_+3A_bk">bk</code></td>
<td>
<p>vector containing counts per group of Success/Failure results.</p>
</td></tr>
<tr><td><code id="clust.bin.pair_+3A_ck">ck</code></td>
<td>
<p>vector containing counts per group of Failure/Success results.</p>
</td></tr>
<tr><td><code id="clust.bin.pair_+3A_dk">dk</code></td>
<td>
<p>vector containing counts per group of Failure/Failure results.</p>
</td></tr>
<tr><td><code id="clust.bin.pair_+3A_method">method</code></td>
<td>
<p>a character string specifying the method to calculate the
statistic. Must be one of &quot;yang&quot; (default), &quot;durkalski&quot;, &quot;obuchowski&quot;, &quot;eliasziw&quot;.
A value of &quot;mcnemar&quot; can also be supplied for comparison.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with class &quot;htest&quot; containing the following components:
</p>
<table role = "presentation">
<tr><td><code>statistic</code></td>
<td>
<p>the value of the test statistic.</p>
</td></tr>
<tr><td><code>p.value</code></td>
<td>
<p>the p-value for the test.</p>
</td></tr>
<tr><td><code>method</code></td>
<td>
<p>the type of test applied.</p>
</td></tr>
<tr><td><code>data.name</code></td>
<td>
<p>a character string giving the names of the data.</p>
</td></tr>
</table>


<h3>References</h3>

<p>McNemar, Q. (1947). <em>Note on the sampling error of the difference between correlated proportions or percentages</em>. Psychometrika, 12(2), 153-157.
</p>
<p>Eliasziw, M., &amp; Donner, A. (1991). <em>Application of the McNemar test to non-independent matched pair data</em>. Statistics in medicine, 10(12), 1981-1991.
</p>
<p>Obuchowski, N. A. (1998). <em>On the comparison of correlated proportions for clustered data</em>. Statistics in medicine, 17(13), 1495-1507.
</p>
<p>Durkalski, V. L., Palesch, Y. Y., Lipsitz, S. R., &amp; Rust, P. F. (2003). <em>Analysis of clustered matched-pair data</em>. Statistics in medicine, 22(15), 2417-2428.
</p>
<p>Yang, Z., Sun, X., &amp; Hardin, J. W. (2010). <em>A note on the tests for clustered matched-pair binary data</em>. Biometrical journal, 52(5), 638-652.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
with(psychiatry, clust.bin.pair(ah, bh, ch, dh, method="eliasziw"))

tc &lt;- nested.to.contingency(thyroids$x.pet, thyroids$x.spect)
clust.bin.pair(tc$ak, tc$bk, tc$ck, tc$dk, method="obuchowski")

oc &lt;- with(obfuscation, paired.to.contingency(group = list(subject, atom),
                                              t1 = control, t2 = treatment))
clust.bin.pair(oc$ak, oc$bk, oc$ck, oc$dk, method="durkalski")

</code></pre>

<hr>
<h2 id='nested.to.contingency'>Convert between nested results and the canonical contingency tables</h2><span id='topic+nested.to.contingency'></span>

<h3>Description</h3>

<p>Sum all concordant and discordant pairs from each nested group into a
contingency table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nested.to.contingency(t1, t2)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="nested.to.contingency_+3A_t1">t1</code></td>
<td>
<p>lists of pre-treatment measures</p>
</td></tr>
<tr><td><code id="nested.to.contingency_+3A_t2">t2</code></td>
<td>
<p>lists of post-treatment measures</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Contingency tables represented in the rows of a matrix
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
nested.to.contingency(thyroids$x.pet, thyroids$x.spect)

</code></pre>

<hr>
<h2 id='obfuscation'>Obfuscated C code misinterpretation data</h2><span id='topic+obfuscation'></span>

<h3>Description</h3>

<p>Data from Gopstein et. al.'s experiment on the misinterpretation of C code.
Subjects were asked to hand evaluate pairs of functionally equivalent code.
Half of the questions were intentionally obfuscated to elicit confusion.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(obfuscation)
</code></pre>


<h3>Format</h3>

<p>A data frame with 57 rows and 4 variables:
</p>

<dl>
<dt>subject</dt><dd><p>the ID of the study participant</p>
</dd>
<dt>atom</dt><dd><p>the type of obfuscation being evaluated</p>
</dd>
<dt>control</dt><dd><p>whether the subject answered the un-obfuscated question correctly</p>
</dd>
<dt>treatment</dt><dd><p>whether the subject answered the obfuscated question correctly</p>
</dd>
</dl>


<h3>Source</h3>

<p><a href="http://atomsofconfusion.com">Atoms of Confusion</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(obfuscation)

oc &lt;- paired.to.contingency(group = obfuscation[,c("subject", "atom")],
                            t1    = obfuscation$control,
                            t2    = obfuscation$treatment)

clust.bin.pair(oc$ak, oc$bk, oc$ck, oc$dk, method="durkalski")
</code></pre>

<hr>
<h2 id='paired.to.contingency'>Convert between paired results and the canonical contingency tables</h2><span id='topic+paired.to.contingency'></span>

<h3>Description</h3>

<p>Group results by common clustering then tally the concordant and discordant
pairs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>paired.to.contingency(group, t1, t2)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="paired.to.contingency_+3A_group">group</code></td>
<td>
<p>List of grouping values</p>
</td></tr>
<tr><td><code id="paired.to.contingency_+3A_t1">t1</code></td>
<td>
<p>pre-treatment measures</p>
</td></tr>
<tr><td><code id="paired.to.contingency_+3A_t2">t2</code></td>
<td>
<p>post-treatment measures</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Contingency tables represented in the rows of a matrix
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
paired.to.contingency(list(obfuscation$subject, obfuscation$atom),
                      obfuscation$control, obfuscation$treatment)

</code></pre>

<hr>
<h2 id='psychiatry'>Psychiatrist and patient disagreement data</h2><span id='topic+psychiatry'></span>

<h3>Description</h3>

<p>Psychiatrists and their patients were surveyed in pairs regarding patient
concerns and treatment. Each psychiatrist was asked whether each question
item was relevant to their patient and each of their patients were asked the
same. The data can be evaluated to answer the question of whether there was
patient/doctor agreement in each item. The sample was 29 psychiatrists, each
with 1-8 patients, for a total of N = 135 matched pairs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(psychiatry)
</code></pre>


<h3>Format</h3>

<p>A data frame with 29 rows and 7 variables:
</p>

<dl>
<dt>psychiatrist</dt><dd><p>the ID of the psychiatrist</p>
</dd>
<dt>Nh</dt><dd><p>the number of the psychiatrist's patients participating in the experiment</p>
</dd>
<dt>ah</dt><dd><p>both participants answered 1</p>
</dd>
<dt>bh</dt><dd><p>patient answered 1, psychiatrist answered 0</p>
</dd>
<dt>ch</dt><dd><p>patient answered 0, psychiatrist answered 1</p>
</dd>
<dt>dh</dt><dd><p>both participants answered 0</p>
</dd>
<dt>Wh</dt><dd><p>Normalized difference: (bh - ch) / Nh</p>
</dd>
</dl>


<h3>Source</h3>

<p>Donner, A., &amp; Petryshen, P. (1989). <em>The statistical analysis of matched data in psychiatric research</em>. Psychiatry research, 28(1), 41-46.
</p>


<h3>References</h3>

<p>Eliasziw, M., &amp; Donner, A. (1991). <em>Application of the McNemar test to non-independent matched pair data</em>. Statistics in medicine, 10(12), 1981-1991.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(psychiatry)

psychiatry$Wh == round((psychiatry$bh - psychiatry$ch) / psychiatry$Nh, 2)

clust.bin.pair(psychiatry$ah, psychiatry$bh, psychiatry$ch, psychiatry$dh, method="eliasziw")
</code></pre>

<hr>
<h2 id='thyroids'>PET and SPECT data for diagnosing hyperparathyroidism</h2><span id='topic+thyroids'></span>

<h3>Description</h3>

<p>Following surgery which confirmed the absence of hyperparathyroidism
two diagnostic tests, PET and SPECT, were performed. Their measures
of true negatives and false positives are reported. Data reported
in Obuchowki 1998.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(thyroids)
</code></pre>


<h3>Format</h3>

<p>A data frame with 21 rows and 6 variables:
</p>

<dl>
<dt>patient</dt><dd><p>ID of the patient</p>
</dd>
<dt>n.glands</dt><dd><p>number of glands tested from the patient</p>
</dd>
<dt>n.pet</dt><dd><p>number of true negatives from the PET test</p>
</dd>
<dt>x.pet</dt><dd><p>individual results per gland from the PET test</p>
</dd>
<dt>n.spect</dt><dd><p>number of true negatives from the SPECT test</p>
</dd>
<dt>x.spect</dt><dd><p>individual results per gland from the SPECT test</p>
</dd>
</dl>


<h3>Source</h3>

<p>Obuchowski, N. A. (1998). <em>On the comparison of correlated proportions for clustered data</em>. Statistics in medicine, 17(13), 1495-1507.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(thyroids)

thyroids$n.glands == sapply(thyroids$x.pet, length)
thyroids$n.glands == sapply(thyroids$x.spect, length)

thyroids$n.pet   == sapply(thyroids$x.pet,   function(x) length(which(x == 1)))
thyroids$n.spect == sapply(thyroids$x.spect, function(x) length(which(x == 1)))

tc &lt;- nested.to.contingency(thyroids$x.pet, thyroids$x.spect)

clust.bin.pair(tc[,'ak'], tc[,'bk'], tc[,'ck'], tc[,'dk'], method="obuchowski")

do.call(clust.bin.pair, data.frame(tc))
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

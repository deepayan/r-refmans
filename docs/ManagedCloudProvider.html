<!DOCTYPE html><html><head><title>Help for package ManagedCloudProvider</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ManagedCloudProvider}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#addManagedWorkerHandles'><p>Add or get the worker container handles to the managed cloud provider</p></a></li>
<li><a href='#getDockerWorkerNumbers,ManagedCloudProvider-method'><p>get the worker number in the cluster</p></a></li>
<li><a href='#getDockerWorkerStatus'><p>Get the worker status</p></a></li>
<li><a href='#killDockerWorkerContainers'><p>Kill the worker container</p></a></li>
<li><a href='#ManagedCloudProvider-class'><p>The root class for the managed cloud provider</p></a></li>
<li><a href='#runDockerWorkerContainers'><p>Run the worker container</p></a></li>
<li><a href='#setDockerWorkerNumber,ManagedCloudProvider-method'><p>Set the worker number in the cluster</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Providing the Kubernetes-Like Functions for the Non-Kubernetes
Cloud Service</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.0</td>
</tr>
<tr>
<td>Description:</td>
<td>
  Providing the kubernetes-like class 'ManagedCloudProvider' as a child class of 
  the 'CloudProvider' class in the 'DockerParallel' package. The class is able to
  manage the cloud instance made by the non-kubernetes cloud service.
  For creating a provider for the non-kubernetes cloud service, the developer
  needs to define a reference class inherited from 'ManagedCloudProvider' and
  define the method for the generics runDockerWorkerContainers(),
  getDockerWorkerStatus() and killDockerWorkerContainers(). For more information, please see
  the vignette in this package and <a href="https://CRAN.R-project.org/package=DockerParallel">https://CRAN.R-project.org/package=DockerParallel</a>.</td>
</tr>
<tr>
<td>Imports:</td>
<td>DockerParallel(&ge; 1.0.3), adagio, methods, utils, jsonlite</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>markdown, knitr, rmarkdown, testthat (&ge; 3.0.0), readr</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/Jiefei-Wang/ManagedCloudProvider">https://github.com/Jiefei-Wang/ManagedCloudProvider</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/Jiefei-Wang/ManagedCloudProvider/issues">https://github.com/Jiefei-Wang/ManagedCloudProvider/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-06-11 09:12:49 UTC; lenovo</td>
</tr>
<tr>
<td>Author:</td>
<td>Jiefei Wang [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jiefei Wang &lt;szwjf08@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-06-14 07:30:18 UTC</td>
</tr>
</table>
<hr>
<h2 id='addManagedWorkerHandles'>Add or get the worker container handles to the managed cloud provider</h2><span id='topic+addManagedWorkerHandles'></span><span id='topic+getManagedWorkerHandles'></span>

<h3>Description</h3>

<p>Add or get the worker container handles to the managed cloud provider. The
handles can be duplicated if multiple workers share the same container
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addManagedWorkerHandles(provider, handles)

getManagedWorkerHandles(provider)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addManagedWorkerHandles_+3A_provider">provider</code></td>
<td>
<p>A <code>ManagedCloudProvider</code> object</p>
</td></tr>
<tr><td><code id="addManagedWorkerHandles_+3A_handles">handles</code></td>
<td>
<p>the worker container handles</p>
</td></tr>
</table>


<h3>Value</h3>

<p>addManagedWorkerHandles: No return value
getManagedWorkerHandles: A character vector of the worker handles
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## make a dummy provider
DummyProvider &lt;- setRefClass("DummyProvider", contains = "ManagedCloudProvider")
provider &lt;- DummyProvider()

## No worker handle in the provider
getManagedWorkerHandles(provider)

## Add worker handles
addManagedWorkerHandles(provider, c("a", "b"))
getManagedWorkerHandles(provider)

## It is possible to add the same handle
## if multiple workers share the same container
addManagedWorkerHandles(provider, c("a"))
getManagedWorkerHandles(provider)
</code></pre>

<hr>
<h2 id='getDockerWorkerNumbers+2CManagedCloudProvider-method'>get the worker number in the cluster</h2><span id='topic+getDockerWorkerNumbers+2CManagedCloudProvider-method'></span>

<h3>Description</h3>

<p>The developer should define <code>runDockerWorkerContainers</code>, <code>getDockerWorkerStatus</code>
and <code>killDockerWorkerContainers</code> instead.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'ManagedCloudProvider'
getDockerWorkerNumbers(provider, cluster, verbose)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getDockerWorkerNumbers+2B2CManagedCloudProvider-method_+3A_provider">provider</code></td>
<td>
<p>S4 <code>CloudProvider</code> object. The service provider.</p>
</td></tr>
<tr><td><code id="getDockerWorkerNumbers+2B2CManagedCloudProvider-method_+3A_cluster">cluster</code></td>
<td>
<p>S4 <code>DockerCluster</code> object.</p>
</td></tr>
<tr><td><code id="getDockerWorkerNumbers+2B2CManagedCloudProvider-method_+3A_verbose">verbose</code></td>
<td>
<p>Integer. The verbose level, default 1.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with <code>initializing</code> and <code>running</code> integer elements
</p>

<hr>
<h2 id='getDockerWorkerStatus'>Get the worker status</h2><span id='topic+getDockerWorkerStatus'></span><span id='topic+IsDockerWorkerInitializing'></span><span id='topic+IsDockerWorkerRunning'></span><span id='topic+IsDockerWorkerStopped'></span><span id='topic+getDockerWorkerStatus+2CDummyManagedProvider-method'></span><span id='topic+IsDockerWorkerInitializing+2CANY-method'></span><span id='topic+IsDockerWorkerRunning+2CANY-method'></span><span id='topic+IsDockerWorkerStopped+2CANY-method'></span>

<h3>Description</h3>

<p>Get the worker status. Unless you have a faster implementation, you only need to
define <code>getDockerWorkerStatus</code>. The function should return a character vector with
each element corresponding to a worker in <code>workerHandles</code>.
Each element must be one of three possible characters <code>"initializing"</code>, <code>"running"</code> or
<code>"stopped"</code>. There is no default method for <code>getDockerWorkerStatus</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getDockerWorkerStatus(provider, cluster, workerHandles, verbose)

IsDockerWorkerInitializing(provider, cluster, workerHandles, verbose)

IsDockerWorkerRunning(provider, cluster, workerHandles, verbose)

IsDockerWorkerStopped(provider, cluster, workerHandles, verbose)

## S4 method for signature 'DummyManagedProvider'
getDockerWorkerStatus(provider, cluster, workerHandles, verbose)

## S4 method for signature 'ANY'
IsDockerWorkerInitializing(provider, cluster, workerHandles, verbose = 0L)

## S4 method for signature 'ANY'
IsDockerWorkerRunning(provider, cluster, workerHandles, verbose = 0L)

## S4 method for signature 'ANY'
IsDockerWorkerStopped(provider, cluster, workerHandles, verbose = 0L)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getDockerWorkerStatus_+3A_provider">provider</code></td>
<td>
<p>S4 <code>CloudProvider</code> object. The service provider.</p>
</td></tr>
<tr><td><code id="getDockerWorkerStatus_+3A_cluster">cluster</code></td>
<td>
<p>S4 <code>DockerCluster</code> object.</p>
</td></tr>
<tr><td><code id="getDockerWorkerStatus_+3A_workerhandles">workerHandles</code></td>
<td>
<p>Character(n). A character vector of <strong>unique</strong> instance handles.</p>
</td></tr>
<tr><td><code id="getDockerWorkerStatus_+3A_verbose">verbose</code></td>
<td>
<p>Integer. The verbose level, default 1.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>getDockerWorkerStatus</code> : A character vector with each element corresponding
to an instance in <code>workerHandles</code>. Each element must be one of three possible characters
<code>"initializing"</code>, <code>"running"</code> or <code>"stopped"</code>
</p>
<p><code>IsDockerWorkerInitializing</code>, <code>IsDockerWorkerRunning</code>, <code>IsDockerWorkerStopped</code>:
A logical vector with each element corresponding to the status of each instance
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>getDockerWorkerStatus,DummyManagedProvider-method</code>: The method for the dummy managed provider
</p>
</li></ul>

<hr>
<h2 id='killDockerWorkerContainers'>Kill the worker container</h2><span id='topic+killDockerWorkerContainers'></span><span id='topic+killDockerWorkerContainers+2CDummyManagedProvider-method'></span>

<h3>Description</h3>

<p>Kill the worker container. The worker handles are unique.
If multiple workers share the same instance, all workers in the
same container should be killed. There is no default method for this generic.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>killDockerWorkerContainers(provider, cluster, workerHandles, verbose)

## S4 method for signature 'DummyManagedProvider'
killDockerWorkerContainers(provider, cluster, workerHandles, verbose)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="killDockerWorkerContainers_+3A_provider">provider</code></td>
<td>
<p>S4 <code>CloudProvider</code> object. The service provider.</p>
</td></tr>
<tr><td><code id="killDockerWorkerContainers_+3A_cluster">cluster</code></td>
<td>
<p>S4 <code>DockerCluster</code> object.</p>
</td></tr>
<tr><td><code id="killDockerWorkerContainers_+3A_workerhandles">workerHandles</code></td>
<td>
<p>Character(n). A character vector of <strong>unique</strong> instance handles.</p>
</td></tr>
<tr><td><code id="killDockerWorkerContainers_+3A_verbose">verbose</code></td>
<td>
<p>Integer. The verbose level, default 1.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical vector indicating whether the killing operation is successful for each instance
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>killDockerWorkerContainers,DummyManagedProvider-method</code>: The method for the dummy managed provider
</p>
</li></ul>

<hr>
<h2 id='ManagedCloudProvider-class'>The root class for the managed cloud provider</h2><span id='topic+ManagedCloudProvider-class'></span><span id='topic+.ManagedCloudProvider'></span>

<h3>Description</h3>

<p>The root class for the managed cloud provider
</p>


<h3>Fields</h3>


<dl>
<dt><code>serverHandle</code></dt><dd><p>Character(1), the server handle that can be recognized by the
cloud provider.</p>
</dd>
<dt><code>workerHandles</code></dt><dd><p>Character(n), a list object for internal use only.
Please call <code>.getWorkerHandles(cluster)</code> to access the worker handles</p>
</dd>
<dt><code>workerPerHandle</code></dt><dd><p>An internal counter. Please call <code>.getWorkerHandles(cluster)</code>
to access the worker handles</p>
</dd>
</dl>

<hr>
<h2 id='runDockerWorkerContainers'>Run the worker container</h2><span id='topic+runDockerWorkerContainers'></span><span id='topic+runDockerWorkerContainers+2CDummyManagedProvider-method'></span>

<h3>Description</h3>

<p>Run the workers and return a character vector of the worker handles. Each handle must
correspond to a container. The handle can be duplicated if multiple workers share the
same container. There is no default method for this generic.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>runDockerWorkerContainers(
  provider,
  cluster,
  container,
  hardware,
  workerNumber,
  verbose
)

## S4 method for signature 'DummyManagedProvider'
runDockerWorkerContainers(
  provider,
  cluster,
  container,
  hardware,
  workerNumber,
  verbose
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="runDockerWorkerContainers_+3A_provider">provider</code></td>
<td>
<p>S4 <code>CloudProvider</code> object. The service provider.</p>
</td></tr>
<tr><td><code id="runDockerWorkerContainers_+3A_cluster">cluster</code></td>
<td>
<p>S4 <code>DockerCluster</code> object.</p>
</td></tr>
<tr><td><code id="runDockerWorkerContainers_+3A_container">container</code></td>
<td>
<p>S4 <code>DockerContainer</code> Object. The worker container.</p>
</td></tr>
<tr><td><code id="runDockerWorkerContainers_+3A_hardware">hardware</code></td>
<td>
<p>S4 <code>DockerHardware</code> Object. The worker hardware.</p>
</td></tr>
<tr><td><code id="runDockerWorkerContainers_+3A_workernumber">workerNumber</code></td>
<td>
<p>Integer. The number of workers needs to be run.</p>
</td></tr>
<tr><td><code id="runDockerWorkerContainers_+3A_verbose">verbose</code></td>
<td>
<p>Integer. The verbose level, default 1.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector with each element corresponding to a worker container.
The length must be equal to <code>workerNumber</code>
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>runDockerWorkerContainers,DummyManagedProvider-method</code>: The method for the dummy managed provider
</p>
</li></ul>

<hr>
<h2 id='setDockerWorkerNumber+2CManagedCloudProvider-method'>Set the worker number in the cluster</h2><span id='topic+setDockerWorkerNumber+2CManagedCloudProvider-method'></span>

<h3>Description</h3>

<p>The developer should define <code>runDockerWorkerContainers</code>, <code>getDockerWorkerStatus</code>
and <code>killDockerWorkerContainers</code> instead.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'ManagedCloudProvider'
setDockerWorkerNumber(
  provider,
  cluster,
  container,
  hardware,
  workerNumber,
  verbose
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="setDockerWorkerNumber+2B2CManagedCloudProvider-method_+3A_provider">provider</code></td>
<td>
<p>S4 <code>CloudProvider</code> object. The service provider.</p>
</td></tr>
<tr><td><code id="setDockerWorkerNumber+2B2CManagedCloudProvider-method_+3A_cluster">cluster</code></td>
<td>
<p>S4 <code>DockerCluster</code> object.</p>
</td></tr>
<tr><td><code id="setDockerWorkerNumber+2B2CManagedCloudProvider-method_+3A_container">container</code></td>
<td>
<p>S4 <code>DockerContainer</code> Object.</p>
</td></tr>
<tr><td><code id="setDockerWorkerNumber+2B2CManagedCloudProvider-method_+3A_hardware">hardware</code></td>
<td>
<p>S4 <code>DockerHardware</code> Object.</p>
</td></tr>
<tr><td><code id="setDockerWorkerNumber+2B2CManagedCloudProvider-method_+3A_workernumber">workerNumber</code></td>
<td>
<p>Integer(1), the worker number to be set</p>
</td></tr>
<tr><td><code id="setDockerWorkerNumber+2B2CManagedCloudProvider-method_+3A_verbose">verbose</code></td>
<td>
<p>Integer. The verbose level, default 1.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

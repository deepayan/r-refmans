<!DOCTYPE html><html lang="en"><head><title>Help for package tvm</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {tvm}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#tvm-package'><p>tvm: Time Value of Money Functions</p></a></li>
<li><a href='#+5B.rate_curve'><p>Returns a particular rate or rates from a curve</p></a></li>
<li><a href='#adjust_disc'><p>Adjusts the discount factors by a spread</p></a></li>
<li><a href='#cashflow'><p>Get the cashflow for a loan</p></a></li>
<li><a href='#cft'><p>Calculates the Total Financial Cost (CFT)</p></a></li>
<li><a href='#disc_cf'><p>Value of a discounted cashflow</p></a></li>
<li><a href='#disc_value'><p>Calculates the present value of a cashflow</p></a></li>
<li><a href='#find_rate'><p>Find the rate for a loan given the discount factors</p></a></li>
<li><a href='#irr'><p>The IRR is returned as an effective rate with periodicity equal to that of the cashflow</p></a></li>
<li><a href='#loan'><p>Creates an instance of a loan class</p></a></li>
<li><a href='#npv'><p>Net Present Value of a periodic cashflow (NPV)</p></a></li>
<li><a href='#plot.rate_curve'><p>Plots a rate curve</p></a></li>
<li><a href='#pmt'><p>The value of the payment of a loan with constant payments (french type amortization)</p></a></li>
<li><a href='#rate'><p>The rate of a loan with constant payments (french type amortization)</p></a></li>
<li><a href='#rate_curve'><p>Creates a rate curve instance</p></a></li>
<li><a href='#rem'><p>Remaining capital in a loan</p></a></li>
<li><a href='#xirr'><p>The IRR is returned as an effective annual rate</p></a></li>
<li><a href='#xnpv'><p>Net Present Value of an irregular cashflow (NPV)</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Time Value of Money Functions</td>
</tr>
<tr>
<td>Version:</td>
<td>0.5.2</td>
</tr>
<tr>
<td>Author:</td>
<td>Juan  Manuel Truppia</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Juan Manuel Truppia &lt;jmtruppia@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Functions for managing cashflows and interest rate curves.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.1.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, knitr, markdown, rmarkdown</td>
</tr>
<tr>
<td>Imports:</td>
<td>ggplot2, reshape2, scales, stats, utils</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://bitbucket.org/juancentro/tvm">https://bitbucket.org/juancentro/tvm</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-08-30 13:33:41 UTC; Juan</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-08-30 13:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='tvm-package'>tvm: Time Value of Money Functions</h2><span id='topic+tvm'></span><span id='topic+tvm-package'></span>

<h3>Description</h3>

<p>Functions for managing cashflows and interest rate curves.
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://bitbucket.org/juancentro/tvm">https://bitbucket.org/juancentro/tvm</a>
</p>
</li></ul>


<hr>
<h2 id='+5B.rate_curve'>Returns a particular rate or rates from a curve</h2><span id='topic++5B.rate_curve'></span>

<h3>Description</h3>

<p>Returns a particular rate or rates from a curve
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'rate_curve'
r[rate_type = "zero_eff", x = NULL]
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="+2B5B.rate_curve_+3A_r">r</code></td>
<td>
<p>The rate_curve object</p>
</td></tr>
<tr><td><code id="+2B5B.rate_curve_+3A_rate_type">rate_type</code></td>
<td>
<p>The rate type</p>
</td></tr>
<tr><td><code id="+2B5B.rate_curve_+3A_x">x</code></td>
<td>
<p>The points in time to return</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>x</code> is <code>NULL</code>, then returns a rate function of <code>rate_type</code> type.
Else, it returns the rates of <code>rate_type</code> type and corresponding to time <code>x</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>r &lt;- rate_curve(rates = c(0.1, 0.2, 0.3), rate_type = "zero_eff")
r["zero_eff"]
r["swap",c(1.5, 2)]
</code></pre>

<hr>
<h2 id='adjust_disc'>Adjusts the discount factors by a spread</h2><span id='topic+adjust_disc'></span>

<h3>Description</h3>

<p>Adjusts the discount factors by a spread
</p>


<h3>Usage</h3>

<pre><code class='language-R'>adjust_disc(fd, spread)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="adjust_disc_+3A_fd">fd</code></td>
<td>
<p>vector of discount factors used to discount cashflows in <code>1:length(fd)</code> periods</p>
</td></tr>
<tr><td><code id="adjust_disc_+3A_spread">spread</code></td>
<td>
<p>effective spread</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>adjust_disc(fd = c(0.99, 0.98), spread = 0.01)
</code></pre>

<hr>
<h2 id='cashflow'>Get the cashflow for a loan</h2><span id='topic+cashflow'></span>

<h3>Description</h3>

<p>Returns the cashflow for the loan, excluding the initial inflow for the loan taker
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cashflow(l)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cashflow_+3A_l">l</code></td>
<td>
<p>The loan</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>l &lt;- loan(rate = 0.05, maturity = 10, amt = 100, type = "bullet")
cashflow(l)
</code></pre>

<hr>
<h2 id='cft'>Calculates the Total Financial Cost (CFT)</h2><span id='topic+cft'></span>

<h3>Description</h3>

<p>This is the IRR of the loan's cashflow, after adding all the extra costs
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cft(amt, maturity, rate, up_fee = 0, per_fee = 0)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cft_+3A_amt">amt</code></td>
<td>
<p>The amount of the loan</p>
</td></tr>
<tr><td><code id="cft_+3A_maturity">maturity</code></td>
<td>
<p>The maturity of the loan</p>
</td></tr>
<tr><td><code id="cft_+3A_rate">rate</code></td>
<td>
<p>The loan rate, in  effective rate</p>
</td></tr>
<tr><td><code id="cft_+3A_up_fee">up_fee</code></td>
<td>
<p>The fee that the loan taker pays upfront</p>
</td></tr>
<tr><td><code id="cft_+3A_per_fee">per_fee</code></td>
<td>
<p>The fee that the loan payer pays every period</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It is assumed that the loan has monthly payments
The CFT is returned as an effective rate of periodicity equal to that of the maturity and the rate
The interest is calculated over amt + fee
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cft(amt = 100, maturity = 10, rate = 0.05, up_fee = 1, per_fee = 0.1)
</code></pre>

<hr>
<h2 id='disc_cf'>Value of a discounted cashflow</h2><span id='topic+disc_cf'></span>

<h3>Description</h3>

<p>Value of a discounted cashflow
</p>


<h3>Usage</h3>

<pre><code class='language-R'>disc_cf(fd, cf)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="disc_cf_+3A_fd">fd</code></td>
<td>
<p>The discount factor vector</p>
</td></tr>
<tr><td><code id="disc_cf_+3A_cf">cf</code></td>
<td>
<p>The cashflow</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>disc_cf(fd = c(1, 0.99, 0.98, 0.97), cf = c(1, -0.3, -0.4, -0.6))
</code></pre>

<hr>
<h2 id='disc_value'>Calculates the present value of a cashflow</h2><span id='topic+disc_value'></span>

<h3>Description</h3>

<p>Calculates the present value of a cashflow
</p>


<h3>Usage</h3>

<pre><code class='language-R'>disc_value(r, cf, d = 1:length(cf))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="disc_value_+3A_r">r</code></td>
<td>
<p>A rate curve</p>
</td></tr>
<tr><td><code id="disc_value_+3A_cf">cf</code></td>
<td>
<p>The vector of values corresponding to the cashflow</p>
</td></tr>
<tr><td><code id="disc_value_+3A_d">d</code></td>
<td>
<p>The periods on which the cashflow occurs. If missing, it is assumed that cf[i] occurs on period i</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The present value of the cashflow
</p>


<h3>Examples</h3>

<pre><code class='language-R'>r &lt;- rate_curve(rates = c(0.1, 0.2, 0.3), rate_type = "zero_eff")
disc_value(r, cf = c(-1, 1.10), d = c(0,1))
disc_value(r, cf = c(-1, 1.15*1.15), d = c(0,2))

</code></pre>

<hr>
<h2 id='find_rate'>Find the rate for a loan given the discount factors</h2><span id='topic+find_rate'></span>

<h3>Description</h3>

<p>Thru a root finding process, this function finds the rate that corresponds to a
given set of discount factors, as for the loan to have the same present value discounted with the
discount factors or with that constant rate
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find_rate(m, d, loan_type, interval = c(1e-06, 2), tol = 1e-08)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="find_rate_+3A_m">m</code></td>
<td>
<p>The maturity of the loan</p>
</td></tr>
<tr><td><code id="find_rate_+3A_d">d</code></td>
<td>
<p>The discount factor vector</p>
</td></tr>
<tr><td><code id="find_rate_+3A_loan_type">loan_type</code></td>
<td>
<p>One of the loan types</p>
</td></tr>
<tr><td><code id="find_rate_+3A_interval">interval</code></td>
<td>
<p>The interval for the root finding process</p>
</td></tr>
<tr><td><code id="find_rate_+3A_tol">tol</code></td>
<td>
<p>The tolerance for the root finding process</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>find_rate(m = 3, d = c(0.99, 0.98, 0.97), loan_type = "bullet")
</code></pre>

<hr>
<h2 id='irr'>The IRR is returned as an effective rate with periodicity equal to that of the cashflow</h2><span id='topic+irr'></span>

<h3>Description</h3>

<p>Internal Rate of Return of a periodic cashflow (IRR)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>irr(cf, ts = seq(from = 0, by = 1, along.with = cf), interval = c(-1, 10), ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="irr_+3A_cf">cf</code></td>
<td>
<p>The cashflow</p>
</td></tr>
<tr><td><code id="irr_+3A_ts">ts</code></td>
<td>
<p>The times on which the cashflow occurs. It is assumed that <code>cf[idx]</code> happens at moment <code>ts[idx]</code></p>
</td></tr>
<tr><td><code id="irr_+3A_interval">interval</code></td>
<td>
<p>A length 2 vector that indicates the root finding algorithm where to search for the irr</p>
</td></tr>
<tr><td><code id="irr_+3A_...">...</code></td>
<td>
<p>Other arguments to be passed on to uniroot</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>irr(cf = c(-1, 0.5, 0.9), ts = c(0, 1, 3))
</code></pre>

<hr>
<h2 id='loan'>Creates an instance of a loan class</h2><span id='topic+loan'></span>

<h3>Description</h3>

<p>Creates an instance of a loan class
</p>


<h3>Usage</h3>

<pre><code class='language-R'>loan(rate, maturity, amt, type, grace_int = 0, grace_amort = grace_int)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="loan_+3A_rate">rate</code></td>
<td>
<p>The periodic effective rate of the loan</p>
</td></tr>
<tr><td><code id="loan_+3A_maturity">maturity</code></td>
<td>
<p>The maturity of the loan, measured in the same units as the periodicity of the rate</p>
</td></tr>
<tr><td><code id="loan_+3A_amt">amt</code></td>
<td>
<p>The amount loaned</p>
</td></tr>
<tr><td><code id="loan_+3A_type">type</code></td>
<td>
<p>The type of loan. Available types are <code>c("bullet","french","german")</code></p>
</td></tr>
<tr><td><code id="loan_+3A_grace_int">grace_int</code></td>
<td>
<p>The number of periods that the loan doesn't pay interest and capitalizes it. Leave in 0 for zero loans</p>
</td></tr>
<tr><td><code id="loan_+3A_grace_amort">grace_amort</code></td>
<td>
<p>The number of periods that the loan doesn't amortize</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>loan(rate = 0.05, maturity = 10, amt = 100, type = "bullet")
</code></pre>

<hr>
<h2 id='npv'>Net Present Value of a periodic cashflow (NPV)</h2><span id='topic+npv'></span>

<h3>Description</h3>

<p>Net Present Value of a periodic cashflow (NPV)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>npv(i, cf, ts = seq(from = 0, by = 1, along.with = cf))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="npv_+3A_i">i</code></td>
<td>
<p>The rate used to discount the cashflow. It must be effective and with a periodicity that matches that of the cashflow</p>
</td></tr>
<tr><td><code id="npv_+3A_cf">cf</code></td>
<td>
<p>The cashflow</p>
</td></tr>
<tr><td><code id="npv_+3A_ts">ts</code></td>
<td>
<p>The times on which the cashflow occurs. It is assumed that <code>cf[idx]</code> happens at moment <code>ts[idx]</code>. If empty, assumes that <code>cf[idx]</code> happens at period <code>idx - 1</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>The net present value at
</p>


<h3>Examples</h3>

<pre><code class='language-R'>npv(i = 0.01, cf = c(-1, 0.5, 0.9), ts = c(0, 1, 3))
</code></pre>

<hr>
<h2 id='plot.rate_curve'>Plots a rate curve</h2><span id='topic+plot.rate_curve'></span>

<h3>Description</h3>

<p>Plots a rate curve
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'rate_curve'
plot(x, rate_type = NULL, y_labs_perc = TRUE, y_labs_acc = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot.rate_curve_+3A_x">x</code></td>
<td>
<p>The rate curve</p>
</td></tr>
<tr><td><code id="plot.rate_curve_+3A_rate_type">rate_type</code></td>
<td>
<p>The rate types to plot, in c(&quot;french&quot;, &quot;fut&quot;, &quot;german&quot;, &quot;zero_eff&quot;, &quot;zero_nom&quot;, &quot;swap&quot;, &quot;zero_cont&quot;)</p>
</td></tr>
<tr><td><code id="plot.rate_curve_+3A_y_labs_perc">y_labs_perc</code></td>
<td>
<p>If TRUE, the y axe is labeled with percentages</p>
</td></tr>
<tr><td><code id="plot.rate_curve_+3A_y_labs_acc">y_labs_acc</code></td>
<td>
<p>If y_labs_perc is TRUE, the accuracy for the percentages (i.e., 1 for xx%, 0.1 for xx.x%, 0.01 for xx.xx%, etc)</p>
</td></tr>
<tr><td><code id="plot.rate_curve_+3A_...">...</code></td>
<td>
<p>Other arguments (unused)</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>r &lt;- rate_curve(rates = c(0.1, 0.2, 0.3), rate_type = "zero_eff")
plot(r)
## Not run: 
plot(r, rate_type = "german")
plot(r, rate_type = c("french", "german"))

## End(Not run)
</code></pre>

<hr>
<h2 id='pmt'>The value of the payment of a loan with constant payments (french type amortization)</h2><span id='topic+pmt'></span>

<h3>Description</h3>

<p>The value of the payment of a loan with constant payments (french type amortization)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pmt(amt, maturity, rate)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pmt_+3A_amt">amt</code></td>
<td>
<p>The amount of the loan</p>
</td></tr>
<tr><td><code id="pmt_+3A_maturity">maturity</code></td>
<td>
<p>The maturity of the loan</p>
</td></tr>
<tr><td><code id="pmt_+3A_rate">rate</code></td>
<td>
<p>The rate of the loan</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The periodicity of the maturity and the rate must match, and this will be the periodicity of the payments
</p>


<h3>Examples</h3>

<pre><code class='language-R'>pmt(amt = 100, maturity = 10, rate = 0.05)
</code></pre>

<hr>
<h2 id='rate'>The rate of a loan with constant payments (french type amortization)</h2><span id='topic+rate'></span>

<h3>Description</h3>

<p>The rate of a loan with constant payments (french type amortization)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rate(amt, maturity, pmt, extrema = c(1e-04, 1e+09), tol = 1e-04)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rate_+3A_amt">amt</code></td>
<td>
<p>The amount of the loan</p>
</td></tr>
<tr><td><code id="rate_+3A_maturity">maturity</code></td>
<td>
<p>The maturity of the loan</p>
</td></tr>
<tr><td><code id="rate_+3A_pmt">pmt</code></td>
<td>
<p>The payments of the loan</p>
</td></tr>
<tr><td><code id="rate_+3A_extrema">extrema</code></td>
<td>
<p>Vector of length 2 that has the minimum and maximum value to search for the rate</p>
</td></tr>
<tr><td><code id="rate_+3A_tol">tol</code></td>
<td>
<p>The tolerance to use in the root finding algorithm</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The periodicity of the maturity and the payment must match, and this will be the periodicity of the rate (which is returned as an effective rate)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>rate(amt = 100, maturity = 10, pmt = 15)
</code></pre>

<hr>
<h2 id='rate_curve'>Creates a rate curve instance</h2><span id='topic+rate_curve'></span>

<h3>Description</h3>

<p>Creates a rate curve instance
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rate_curve(
  rates = NULL,
  rate_type = "zero_eff",
  pers = 1:length(rates),
  rate_scale = 1,
  fun_d = NULL,
  fun_r = NULL,
  knots = seq.int(from = 1, to = max(pers), by = 1),
  functor = function(x, y) splinefun(x = x, y = y, method = "monoH.FC")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rate_curve_+3A_rates">rates</code></td>
<td>
<p>A rate vector</p>
</td></tr>
<tr><td><code id="rate_curve_+3A_rate_type">rate_type</code></td>
<td>
<p>The rate type. Must be on of c(&quot;fut&quot;, &quot;zero_nom&quot;, &quot;zero_eff&quot;, &quot;swap&quot;, &quot;zero_cont)</p>
</td></tr>
<tr><td><code id="rate_curve_+3A_pers">pers</code></td>
<td>
<p>The periods the rates correspond to</p>
</td></tr>
<tr><td><code id="rate_curve_+3A_rate_scale">rate_scale</code></td>
<td>
<p>In how many periods is the rate expressed.
For example, when measuring periods in days, and using annual rates, you should use 365. 
When measuring periods in months, and using annual rates, you should use 12.
If no scaling, use 1.</p>
</td></tr>
<tr><td><code id="rate_curve_+3A_fun_d">fun_d</code></td>
<td>
<p>A discount factor function. fun_d(x) returns the discount factor for time x, vectorized on x</p>
</td></tr>
<tr><td><code id="rate_curve_+3A_fun_r">fun_r</code></td>
<td>
<p>A rate function. fun_r(x) returns the EPR for time x, vectorized on x</p>
</td></tr>
<tr><td><code id="rate_curve_+3A_knots">knots</code></td>
<td>
<p>The nodes used to bootstrap the rates. This is a mandatory argument if a rate function or discount function is provided</p>
</td></tr>
<tr><td><code id="rate_curve_+3A_functor">functor</code></td>
<td>
<p>A function with parameters x and y, that returns a function used to interpolate</p>
</td></tr>
</table>


<h3>Note</h3>

<p>Currently a rate curve can only be built from one of the following sources
</p>

<ol>
<li><p> A discount factor function
</p>
</li>
<li><p> A rate function and a rate type from the following types: &quot;fut&quot;, &quot;zero_nom&quot;, &quot;zero_eff&quot;, &quot;swap&quot; or &quot;zero_cont
</p>
</li>
<li><p> A rate vector, a pers vector and a rate type as before
</p>
</li></ol>



<h3>Examples</h3>

<pre><code class='language-R'>rate_curve(rates = c(0.1, 0.2, 0.3), rate_type = "zero_eff")
rate_curve(fun_r = function(x) rep_len(0.1, length(x)), rate_type = "swap", knots = 1:12)
rate_curve(fun_d = function(x) 1 / (1 + x), knots = 1:12)
</code></pre>

<hr>
<h2 id='rem'>Remaining capital in a loan</h2><span id='topic+rem'></span>

<h3>Description</h3>

<p>The amount that has to be repayed at each moment in a loan, at the end of the period
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rem(cf, amt, r)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rem_+3A_cf">cf</code></td>
<td>
<p>The cashflow of the loan, not including the initial inflow for the loan taker</p>
</td></tr>
<tr><td><code id="rem_+3A_amt">amt</code></td>
<td>
<p>The original amount of the loan</p>
</td></tr>
<tr><td><code id="rem_+3A_r">r</code></td>
<td>
<p>The periodic rate of the loan</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>rem(cf = rep_len(0.4, 4), amt = 1, r = 0.2)
</code></pre>

<hr>
<h2 id='xirr'>The IRR is returned as an effective annual rate</h2><span id='topic+xirr'></span>

<h3>Description</h3>

<p>Internal Rate of Return of an irregular cashflow (IRR)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>xirr(cf, d, tau = NULL, comp_freq = 1, interval = c(-0.99999, 10), ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="xirr_+3A_cf">cf</code></td>
<td>
<p>The cashflow</p>
</td></tr>
<tr><td><code id="xirr_+3A_d">d</code></td>
<td>
<p>The dates when each cashflow occurs. Same length as the cashflow. Only used if tau is NULL. Assumes act/365 fractions</p>
</td></tr>
<tr><td><code id="xirr_+3A_tau">tau</code></td>
<td>
<p>The year fractions when each cashflow occurs. Same length as the cashflow</p>
</td></tr>
<tr><td><code id="xirr_+3A_comp_freq">comp_freq</code></td>
<td>
<p>The compounding frequency used. Most relevant cases are 1 for yearly, 2 twice a year, 4 quarterly, 12 monthly, 0 no compounding, Inf continuous</p>
</td></tr>
<tr><td><code id="xirr_+3A_interval">interval</code></td>
<td>
<p>A length 2 vector that indicates the root finding algorithm where to search for the irr</p>
</td></tr>
<tr><td><code id="xirr_+3A_...">...</code></td>
<td>
<p>Other arguments to be passed on to uniroot</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>xirr(cf = c(-1, 1.5), d = Sys.Date() + c(0, 365))
</code></pre>

<hr>
<h2 id='xnpv'>Net Present Value of an irregular cashflow (NPV)</h2><span id='topic+xnpv'></span>

<h3>Description</h3>

<p>Net Present Value of an irregular cashflow (NPV)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>xnpv(i, cf, d, tau = NULL, comp_freq = 1)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="xnpv_+3A_i">i</code></td>
<td>
<p>The rate used to discount the cashflow</p>
</td></tr>
<tr><td><code id="xnpv_+3A_cf">cf</code></td>
<td>
<p>The cashflow</p>
</td></tr>
<tr><td><code id="xnpv_+3A_d">d</code></td>
<td>
<p>The dates when each cashflow occurs. Same length as the cashflow. Only used if tau is NULL. Assumes act/365 fractions</p>
</td></tr>
<tr><td><code id="xnpv_+3A_tau">tau</code></td>
<td>
<p>The year fractions when each cashflow occurs. Same length as the cashflow</p>
</td></tr>
<tr><td><code id="xnpv_+3A_comp_freq">comp_freq</code></td>
<td>
<p>The compounding frequency used. Most relevant cases are 1 for yearly, 2 twice a year, 4 quarterly, 12 monthly, 0 no compounding, Inf continuous</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>xnpv(i = 0.01, cf = c(-1, 0.5, 0.9), d = as.Date(c("2015-01-01", "2015-02-15", "2015-04-10")))
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

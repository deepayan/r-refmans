<!DOCTYPE html><html><head><title>Help for package rtsplot</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {rtsplot}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#rtsplot'><p>'rtsplot' - Time series plot with base R Graphics.</p></a></li>
<li><a href='#register.theme'><p>Theme</p></a></li>
<li><a href='#rtsplot.candle'><p>Create Candle Plot</p></a></li>
<li><a href='#rtsplot.candle.col'><p>Bar Colors for Candle and Volume plots</p></a></li>
<li><a href='#rtsplot.corner.label'><p>Plot corner label</p></a></li>
<li><a href='#rtsplot.fake.stock.data'><p>Generate fake stock data</p></a></li>
<li><a href='#rtsplot.format'><p>Format numbers using 1000 separator</p></a></li>
<li><a href='#rtsplot.grid'><p>Add grid to time series plot</p></a></li>
<li><a href='#rtsplot.hl'><p>Create HL Plot</p></a></li>
<li><a href='#rtsplot.layout'><p>Create layout</p></a></li>
<li><a href='#rtsplot.legend'><p>Plot legend - shortcut to the <code>legend</code> function</p></a></li>
<li><a href='#rtsplot.lines'><p>Add lines to time series plot</p></a></li>
<li><a href='#rtsplot.matplot'><p><code>matplot</code> version for <code>xts</code> object</p></a></li>
<li><a href='#rtsplot.ohlc'><p>Create OHLC Plot</p></a></li>
<li><a href='#rtsplot.polygon'><p>Add polygon to time series plot</p></a></li>
<li><a href='#rtsplot.scale.volume'><p>Scale volume</p></a></li>
<li><a href='#rtsplot.stacked'><p>Create Stacked plot</p></a></li>
<li><a href='#rtsplot.text'><p>Add text to time series plot</p></a></li>
<li><a href='#rtsplot.volume'><p>Plot volume</p></a></li>
<li><a href='#rtsplot.x.highlight'><p>Highlight vertical segments</p></a></li>
<li><a href='#rtsplot.y.highlight'><p>Highlight horizontal segments</p></a></li>
<li><a href='#rtsplot2Y'><p>Plot time series with second Y axis</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Time Series Plot</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.5</td>
</tr>
<tr>
<td>Description:</td>
<td>A fast and elegant time series visualization package. In addition to the 
	standard R plot types, this package supports candle sticks, open-high-low-close, and
	volume plots. Useful for visualizing any time series data, e.g., stock prices and 
	technical indicators.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Imports:</td>
<td>xts, quantmod, zoo, RColorBrewer</td>
</tr>
<tr>
<td>Suggests:</td>
<td>TTR</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://bitbucket.org/rtsvizteam/rtsplot">https://bitbucket.org/rtsvizteam/rtsplot</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://bitbucket.org/rtsvizteam/rtsplot/issues">https://bitbucket.org/rtsvizteam/rtsplot/issues</a></td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-09-23 23:49:41 UTC; pcadmin</td>
</tr>
<tr>
<td>Author:</td>
<td>RTSVizTeam [aut, cph],
  Irina Kapler [cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Irina Kapler &lt;irkapler@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-09-24 00:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='rtsplot'>'rtsplot' - Time series plot with base R Graphics.</h2><span id='topic+rtsplot'></span><span id='topic+rtsplot-package'></span>

<h3>Description</h3>

<p>Plot time series data with base R Graphics.
</p>
<p>The 'rtsplot' package is **fast** time series plot package with base R Graphics.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rtsplot(
  y,
  main = NULL,
  plotX = TRUE,
  LeftMargin = 0,
  grid = "xy",
  x.highlight = NULL,
  y.highlight = NULL,
  y.highlight.col = NULL,
  las = 1,
  type = "l",
  xlab = "",
  ylab = "",
  ylim = NULL,
  log = "",
  skip.breaks = FALSE,
  xaxis.map = rtsplot.create.xaxis.map,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rtsplot_+3A_y">y</code></td>
<td>
<p><code><a href="xts.html#topic+xts">xts</a></code> object</p>
</td></tr>
<tr><td><code id="rtsplot_+3A_main">main</code></td>
<td>
<p>plot title</p>
</td></tr>
<tr><td><code id="rtsplot_+3A_plotx">plotX</code></td>
<td>
<p>flag to display X axis</p>
</td></tr>
<tr><td><code id="rtsplot_+3A_leftmargin">LeftMargin</code></td>
<td>
<p>to plot second Y axis, set LeftMargin=3, <strong>defaults to 0</strong></p>
</td></tr>
<tr><td><code id="rtsplot_+3A_grid">grid</code></td>
<td>
<p>which grid lines to draw, <strong>defaults to 'xy'</strong></p>
</td></tr>
<tr><td><code id="rtsplot_+3A_x.highlight">x.highlight</code></td>
<td>
<p>segments to highlight along X axis, <strong>defaults to NULL</strong></p>
</td></tr>
<tr><td><code id="rtsplot_+3A_y.highlight">y.highlight</code></td>
<td>
<p>segments to highlight along Y axis, <strong>defaults to NULL</strong></p>
</td></tr>
<tr><td><code id="rtsplot_+3A_y.highlight.col">y.highlight.col</code></td>
<td>
<p>color to highlight segments Y axis, <strong>defaults to NULL</strong></p>
</td></tr>
<tr><td><code id="rtsplot_+3A_las">las</code></td>
<td>
<p>rotation of Y axis labels, <strong>defaults to 1</strong>, for more info see <code><a href="graphics.html#topic+par">par</a></code></p>
</td></tr>
<tr><td><code id="rtsplot_+3A_type">type</code></td>
<td>
<p>plot type, <strong>defaults to 'l'</strong>, for more info see <code><a href="graphics.html#topic+plot">plot</a></code>
also support 'ohlc', 'hl', 'candle', 'volume' types</p>
</td></tr>
<tr><td><code id="rtsplot_+3A_xlab">xlab</code></td>
<td>
<p>X label, <strong>defaults to &rdquo;</strong>, for more info see <code><a href="graphics.html#topic+plot">plot</a></code></p>
</td></tr>
<tr><td><code id="rtsplot_+3A_ylab">ylab</code></td>
<td>
<p>Y label, <strong>defaults to &rdquo;</strong>, for more info see <code><a href="graphics.html#topic+plot">plot</a></code></p>
</td></tr>
<tr><td><code id="rtsplot_+3A_ylim">ylim</code></td>
<td>
<p>range on Y values, <strong>defaults to NULL</strong></p>
</td></tr>
<tr><td><code id="rtsplot_+3A_log">log</code></td>
<td>
<p>log scale x, y, xy axes, <strong>defaults to &rdquo;</strong></p>
</td></tr>
<tr><td><code id="rtsplot_+3A_skip.breaks">skip.breaks</code></td>
<td>
<p>flag to skip plotting missing date/times (i.e. nights and weekends), <strong>defaults to FALSE</strong></p>
</td></tr>
<tr><td><code id="rtsplot_+3A_xaxis.map">xaxis.map</code></td>
<td>
<p>xaxis map function used if skip.breaks is TRUE, <strong>defaults to rtsplot.create.xaxis.map</strong></p>
</td></tr>
<tr><td><code id="rtsplot_+3A_...">...</code></td>
<td>
<p>additional parameters to the <code><a href="graphics.html#topic+plot">plot</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>nothing
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Irina Kapler <a href="mailto:irkapler@gmail.com">irkapler@gmail.com</a>
</p>
<p>Authors:
</p>

<ul>
<li><p>  RTSVizTeam <a href="mailto:rtsvizteam@gmail.com">rtsvizteam@gmail.com</a> [copyright holder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://bitbucket.org/rtsvizteam/rtsplot">https://bitbucket.org/rtsvizteam/rtsplot</a>
</p>
</li>
<li><p> Report bugs at <a href="https://bitbucket.org/rtsvizteam/rtsplot/issues">https://bitbucket.org/rtsvizteam/rtsplot/issues</a>
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'># generate time series data
y = rtsplot.fake.stock.data(1000)
symbol = 'Test'

sma = TTR::SMA(y, 250)
rsi = TTR::RSI(y, 20)	

# plot candles and RSI charts
layout(c(1,1,1,2))
cols = rtsplot.colors(2)
	
rtsplot(y, type = 'l', plotX = FALSE, col=cols[1],lwd=1.5)
	rtsplot.lines(sma, col=cols[2], lwd=1.5)
	rtsplot.legend(c(symbol, 'SMA(250)'), cols[1:2], list(y,sma))
	
# plot rsi
rtsplot(rsi, type = 'l', ylim=c(0,100),
	y.highlight = c(c(0,30), c(70,100)),
	y.highlight.col = grDevices::adjustcolor(c('green','red'), 50/255)
)	
rtsplot.legend('RSI(20)', 'black', rsi)


y = rtsplot.fake.stock.data(1000)
symbol = 'SPY'
	
 # simple example
 highlight = which(y &lt; 10)

 # plot
 layout(1)
 rtsplot.theme.set(col.x.highlight=grDevices::adjustcolor('orange', 200/255))
		
 rtsplot(y, type = 'l', main = symbol, x.highlight = highlight)


 # 'skip.breaks' example with daily data
 y = rtsplot.fake.stock.data(10, remove.non.trading = TRUE)
 
 layout(1:2)
 rtsplot(y, type='b')
	rtsplot.legend('skip.breaks=FALSE', text.col='red')
 rtsplot(y, type='b', skip.breaks=TRUE)
	rtsplot.legend('skip.breaks=TRUE', text.col='red')
 

 # 'skip.breaks' example with intra-day data
 y = rtsplot.fake.stock.data(5*24*60, period = 'minute', remove.non.trading = TRUE)
 
 layout(1:2)
 rtsplot(y, type='l')
	rtsplot.legend('skip.breaks=FALSE', text.col='red')
 rtsplot(y, type='l', skip.breaks=TRUE)
	rtsplot.legend('skip.breaks=TRUE', text.col='red')
 

</code></pre>

<hr>
<h2 id='register.theme'>Theme</h2><span id='topic+register.theme'></span><span id='topic+rtsplot.theme'></span><span id='topic+rtsplot.theme.set'></span><span id='topic+rtsplot.colors'></span>

<h3>Description</h3>

<p>Setup theme
</p>


<h3>Usage</h3>

<pre><code class='language-R'>register.theme(
  grid.color = "gray90",
  colors = "Set1",
  col.border = "black",
  col.up = "green",
  col.dn = "red",
  col.x.highlight = "orange",
  col.y.highlight = "orange",
  cex = 1,
  legend.bg.col = grDevices::adjustcolor("white", 200/255)
)

rtsplot.theme()

rtsplot.theme.set(...)

rtsplot.colors(n)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="register.theme_+3A_grid.color">grid.color</code></td>
<td>
<p>color for grid lines, <strong>defaults to 'gray90'</strong></p>
</td></tr>
<tr><td><code id="register.theme_+3A_colors">colors</code></td>
<td>
<p>RColorBrewer set to generate colors, <strong>defaults to &quot;Set1&quot; in RColorBrewer</strong></p>
</td></tr>
<tr><td><code id="register.theme_+3A_col.border">col.border</code></td>
<td>
<p>border color for drawing candles, <strong>defaults to 'black'</strong></p>
</td></tr>
<tr><td><code id="register.theme_+3A_col.up">col.up</code></td>
<td>
<p>up color for drawing candles, <strong>defaults to 'green'</strong></p>
</td></tr>
<tr><td><code id="register.theme_+3A_col.dn">col.dn</code></td>
<td>
<p>down color for drawing candles, <strong>defaults to 'red'</strong></p>
</td></tr>
<tr><td><code id="register.theme_+3A_col.x.highlight">col.x.highlight</code></td>
<td>
<p>color for highlighting along x axis, <strong>defaults to 'orange'</strong></p>
</td></tr>
<tr><td><code id="register.theme_+3A_col.y.highlight">col.y.highlight</code></td>
<td>
<p>color for highlighting along y axis, <strong>defaults to 'orange'</strong></p>
</td></tr>
<tr><td><code id="register.theme_+3A_cex">cex</code></td>
<td>
<p>font size, <strong>defaults to 1</strong></p>
</td></tr>
<tr><td><code id="register.theme_+3A_legend.bg.col">legend.bg.col</code></td>
<td>
<p>background legend color, <strong>defaults to grDevices::adjustcolor('white', 200/255)</strong></p>
</td></tr>
<tr><td><code id="register.theme_+3A_...">...</code></td>
<td>
<p>additional settings</p>
</td></tr>
<tr><td><code id="register.theme_+3A_n">n</code></td>
<td>
<p>number of colors to generate</p>
</td></tr>
</table>


<h3>Value</h3>

<p>None
</p>

<hr>
<h2 id='rtsplot.candle'>Create Candle Plot</h2><span id='topic+rtsplot.candle'></span>

<h3>Description</h3>

<p>Plot candles if dx is sufficient otherwise ohlc or bars
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rtsplot.candle(
  y,
  col = rtsplot.candle.col(y),
  border = rtsplot.theme()$col.border
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rtsplot.candle_+3A_y">y</code></td>
<td>
<p><code><a href="xts.html#topic+xts">xts</a></code> object</p>
</td></tr>
<tr><td><code id="rtsplot.candle_+3A_col">col</code></td>
<td>
<p>color for bars, <strong>defaults to rtsplot.candle.col</strong></p>
</td></tr>
<tr><td><code id="rtsplot.candle_+3A_border">border</code></td>
<td>
<p>border color, <strong>defaults to rtsplot.theme()$col.border</strong></p>
</td></tr>
</table>


<h3>Value</h3>

<p>nothing
</p>


<h3>Examples</h3>

<pre><code class='language-R'>y = rtsplot.fake.stock.data(50, ohlc=TRUE)
symbol = 'SPY'
	
 # plot
 layout(1)
 rtsplot(y, type = 'n')
 rtsplot.candle(y)
rtsplot.legend(symbol, 'black', y)

</code></pre>

<hr>
<h2 id='rtsplot.candle.col'>Bar Colors for Candle and Volume plots</h2><span id='topic+rtsplot.candle.col'></span><span id='topic+rtsplot.volume.col'></span>

<h3>Description</h3>

<p>Bar Colors for Candle and Volume plots
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rtsplot.candle.col(y)

rtsplot.volume.col(y)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rtsplot.candle.col_+3A_y">y</code></td>
<td>
<p><code><a href="xts.html#topic+xts">xts</a></code> object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>colors
</p>

<hr>
<h2 id='rtsplot.corner.label'>Plot corner label</h2><span id='topic+rtsplot.corner.label'></span>

<h3>Description</h3>

<p>Plot corner label, based on the [text at the upper left corner outside of the plot region](http://r.789695.n4.nabble.com/text-at-the-upper-left-corner-outside-of-the-plot-region-td885675.html)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rtsplot.corner.label(
  label = NULL,
  col = "black",
  x = -1,
  y = 1,
  xoffset = NA,
  yoffset = NA,
  space = c("plot", "figure"),
  cex = 1,
  border = NA
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rtsplot.corner.label_+3A_label">label</code></td>
<td>
<p>label</p>
</td></tr>
<tr><td><code id="rtsplot.corner.label_+3A_col">col</code></td>
<td>
<p>label color</p>
</td></tr>
<tr><td><code id="rtsplot.corner.label_+3A_x">x</code></td>
<td>
<p>x location, <strong>defaults to -1</strong></p>
</td></tr>
<tr><td><code id="rtsplot.corner.label_+3A_y">y</code></td>
<td>
<p>y location, <strong>defaults to 1</strong></p>
</td></tr>
<tr><td><code id="rtsplot.corner.label_+3A_xoffset">xoffset</code></td>
<td>
<p>x offset, <strong>defaults to NA</strong></p>
</td></tr>
<tr><td><code id="rtsplot.corner.label_+3A_yoffset">yoffset</code></td>
<td>
<p>y offset, <strong>defaults to NA</strong></p>
</td></tr>
<tr><td><code id="rtsplot.corner.label_+3A_space">space</code></td>
<td>
<p>coordinate space, can be &quot;plot&quot; or &quot;figure&quot;, <strong>defaults to &quot;plot&quot;</strong></p>
</td></tr>
<tr><td><code id="rtsplot.corner.label_+3A_cex">cex</code></td>
<td>
<p>font size, <strong>defaults to 1</strong></p>
</td></tr>
<tr><td><code id="rtsplot.corner.label_+3A_border">border</code></td>
<td>
<p>border color, <strong>defaults to NA - no color</strong></p>
</td></tr>
</table>


<h3>Value</h3>

<p>nothing
</p>


<h3>Examples</h3>

<pre><code class='language-R'> rtsplot.theme.set(legend.bg.col=grDevices::adjustcolor('orange', 200/255))
 plot(rnorm(20), rnorm(20))

 rtsplot.corner.label('test1', y=-1, space='figure')
 rtsplot.corner.label('test2', y=1, space='figure')
 rtsplot.corner.label('test3', x=1, space='figure')
 rtsplot.corner.label('test4', x=1, y=-1, space='figure')
 rtsplot.theme.set(legend.bg.col=grDevices::adjustcolor('white', 50/255))

</code></pre>

<hr>
<h2 id='rtsplot.fake.stock.data'>Generate fake stock data</h2><span id='topic+rtsplot.fake.stock.data'></span>

<h3>Description</h3>

<p>Generate fake stock data for use in rtsplot examples
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rtsplot.fake.stock.data(
  n,
  y0 = 10,
  stdev = 0.1,
  ohlc = FALSE,
  method = c("normal", "adhoc"),
  period = c("day", "minute"),
  remove.non.trading = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rtsplot.fake.stock.data_+3A_n">n</code></td>
<td>
<p>number of points to generate</p>
</td></tr>
<tr><td><code id="rtsplot.fake.stock.data_+3A_y0">y0</code></td>
<td>
<p>starting price, <strong>defaults to 10 </strong></p>
</td></tr>
<tr><td><code id="rtsplot.fake.stock.data_+3A_stdev">stdev</code></td>
<td>
<p>standard deviation, <strong>defaults to 0.1</strong></p>
</td></tr>
<tr><td><code id="rtsplot.fake.stock.data_+3A_ohlc">ohlc</code></td>
<td>
<p>generate ohlc data, <strong>defaults to FALSE</strong></p>
</td></tr>
<tr><td><code id="rtsplot.fake.stock.data_+3A_method">method</code></td>
<td>
<p>method to generate fake stock data, <strong>defaults to 'normal'</strong>
two methods are implemented: 
* 'normal' - generate fake stock data assuming returns 
are normally distributed with zero drift
* 'uniform' - generate fake stock data assuming returns 
are uniformly distributed with zero drift</p>
</td></tr>
<tr><td><code id="rtsplot.fake.stock.data_+3A_period">period</code></td>
<td>
<p>frequency to generate fake stock data, (possible values: &quot;day&quot;, &quot;minute&quot;),  <strong>defaults to &quot;day&quot;</strong></p>
</td></tr>
<tr><td><code id="rtsplot.fake.stock.data_+3A_remove.non.trading">remove.non.trading</code></td>
<td>
<p>flag to remove non trading periods(i.e. weekends and non-trading hours).
Note, this flag likely will cause function return less than 'n' observation, <strong>defaults to FALSE</strong></p>
</td></tr>
</table>


<h3>Value</h3>

<p><code><a href="xts.html#topic+xts">xts</a></code> object with fake stock data
</p>


<h3>Examples</h3>

<pre><code class='language-R'> rtsplot.fake.stock.data(10)

</code></pre>

<hr>
<h2 id='rtsplot.format'>Format numbers using 1000 separator</h2><span id='topic+rtsplot.format'></span>

<h3>Description</h3>

<p>Format numbers using 1000 separator
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rtsplot.format(temp, nround = 2, sprefix = "", eprefix = "")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rtsplot.format_+3A_temp">temp</code></td>
<td>
<p>numbers</p>
</td></tr>
<tr><td><code id="rtsplot.format_+3A_nround">nround</code></td>
<td>
<p>number of rounding digits, <strong>defaults to '2'</strong></p>
</td></tr>
<tr><td><code id="rtsplot.format_+3A_sprefix">sprefix</code></td>
<td>
<p>start prefix string, <strong>defaults to &rdquo;</strong></p>
</td></tr>
<tr><td><code id="rtsplot.format_+3A_eprefix">eprefix</code></td>
<td>
<p>end postfix string, <strong>defaults to &rdquo;</strong></p>
</td></tr>
</table>


<h3>Value</h3>

<p>numbers formatted using 1000 separator
</p>

<hr>
<h2 id='rtsplot.grid'>Add grid to time series plot</h2><span id='topic+rtsplot.grid'></span>

<h3>Description</h3>

<p>Add grid to time series plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rtsplot.grid(grid, xaxis.ticks, col = rtsplot.theme()$grid.color)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rtsplot.grid_+3A_grid">grid</code></td>
<td>
<p>which grid lines to draw, <strong>defaults to 'xy'</strong></p>
</td></tr>
<tr><td><code id="rtsplot.grid_+3A_xaxis.ticks">xaxis.ticks</code></td>
<td>
<p>location of x axis ticks</p>
</td></tr>
<tr><td><code id="rtsplot.grid_+3A_col">col</code></td>
<td>
<p>grid color, <strong>defaults to rtsplot.theme()$grid.color</strong></p>
</td></tr>
</table>


<h3>Value</h3>

<p>nothing
</p>

<hr>
<h2 id='rtsplot.hl'>Create HL Plot</h2><span id='topic+rtsplot.hl'></span>

<h3>Description</h3>

<p>Create HL Plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rtsplot.hl(y, col = rtsplot.volume.col(y), border = rtsplot.theme()$col.border)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rtsplot.hl_+3A_y">y</code></td>
<td>
<p><code><a href="xts.html#topic+xts">xts</a></code> object</p>
</td></tr>
<tr><td><code id="rtsplot.hl_+3A_col">col</code></td>
<td>
<p>color for bars, <strong>defaults to rtsplot.volume.col</strong></p>
</td></tr>
<tr><td><code id="rtsplot.hl_+3A_border">border</code></td>
<td>
<p>border color, <strong>defaults to rtsplot.theme()$col.border</strong></p>
</td></tr>
</table>


<h3>Value</h3>

<p>nothing
</p>


<h3>Examples</h3>

<pre><code class='language-R'>y = rtsplot.fake.stock.data(50, ohlc=TRUE)
symbol = 'SPY'
	
 # plot
 layout(1)
 rtsplot(y, type = 'n')
 rtsplot.hl(y)
rtsplot.legend(symbol, 'black', y)

</code></pre>

<hr>
<h2 id='rtsplot.layout'>Create layout</h2><span id='topic+rtsplot.layout'></span>

<h3>Description</h3>

<p>Create layout
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rtsplot.layout(ilayout, delim = ",")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rtsplot.layout_+3A_ilayout">ilayout</code></td>
<td>
<p>matrix stored as a string</p>
</td></tr>
<tr><td><code id="rtsplot.layout_+3A_delim">delim</code></td>
<td>
<p>delimiter, <strong>defaults to ','</strong></p>
</td></tr>
</table>


<h3>Value</h3>

<p>nothing
</p>

<hr>
<h2 id='rtsplot.legend'>Plot legend - shortcut to the <code><a href="graphics.html#topic+legend">legend</a></code> function</h2><span id='topic+rtsplot.legend'></span>

<h3>Description</h3>

<p>Plot legend - shortcut to the <code><a href="graphics.html#topic+legend">legend</a></code> function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rtsplot.legend(
  labels,
  fill = NULL,
  lastobs = NULL,
  x = "topleft",
  merge = FALSE,
  bty = "n",
  border = NA,
  yformat = rtsplot.format,
  cex = 1,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rtsplot.legend_+3A_labels">labels</code></td>
<td>
<p>legend labels</p>
</td></tr>
<tr><td><code id="rtsplot.legend_+3A_fill">fill</code></td>
<td>
<p>fill colors, <strong>defaults to NULL</strong></p>
</td></tr>
<tr><td><code id="rtsplot.legend_+3A_lastobs">lastobs</code></td>
<td>
<p>list of last observations, <strong>defaults to NULL</strong></p>
</td></tr>
<tr><td><code id="rtsplot.legend_+3A_x">x</code></td>
<td>
<p>location of legend, <strong>defaults to 'topleft'</strong></p>
</td></tr>
<tr><td><code id="rtsplot.legend_+3A_merge">merge</code></td>
<td>
<p>merge, <strong>defaults to FALSE</strong>, see <code><a href="graphics.html#topic+legend">legend</a></code> function for more info</p>
</td></tr>
<tr><td><code id="rtsplot.legend_+3A_bty">bty</code></td>
<td>
<p>box, <strong>defaults to 'n'</strong>, see <code><a href="graphics.html#topic+legend">legend</a></code> function for more info</p>
</td></tr>
<tr><td><code id="rtsplot.legend_+3A_border">border</code></td>
<td>
<p>border color, <strong>defaults to NA - no color</strong></p>
</td></tr>
<tr><td><code id="rtsplot.legend_+3A_yformat">yformat</code></td>
<td>
<p>format Y values function, <strong>defaults to <code><a href="#topic+rtsplot.format">rtsplot.format</a></code></strong></p>
</td></tr>
<tr><td><code id="rtsplot.legend_+3A_cex">cex</code></td>
<td>
<p>font size, <strong>defaults to 1</strong></p>
</td></tr>
<tr><td><code id="rtsplot.legend_+3A_...">...</code></td>
<td>
<p>other parameters to legend, see <code><a href="graphics.html#topic+legend">legend</a></code> function for more info</p>
</td></tr>
</table>


<h3>Value</h3>

<p>nothing
</p>


<h3>Examples</h3>

<pre><code class='language-R'>y = rtsplot.fake.stock.data(1000)
symbol = 'SPY'
	
 # plot
 layout(1)
 rtsplot(y, type = 'l', col='black')
rtsplot.legend(symbol, 'black', y)

</code></pre>

<hr>
<h2 id='rtsplot.lines'>Add lines to time series plot</h2><span id='topic+rtsplot.lines'></span>

<h3>Description</h3>

<p>Add lines to time series plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rtsplot.lines(y, type = "l", col = graphics::par("col"), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rtsplot.lines_+3A_y">y</code></td>
<td>
<p><code><a href="xts.html#topic+xts">xts</a></code> object</p>
</td></tr>
<tr><td><code id="rtsplot.lines_+3A_type">type</code></td>
<td>
<p>line type, <strong>defaults to 'l'</strong>, for more info see <code><a href="graphics.html#topic+lines">lines</a></code></p>
</td></tr>
<tr><td><code id="rtsplot.lines_+3A_col">col</code></td>
<td>
<p>color, <strong>defaults to par('col')</strong></p>
</td></tr>
<tr><td><code id="rtsplot.lines_+3A_...">...</code></td>
<td>
<p>additional parameters to the <code><a href="graphics.html#topic+lines">lines</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>nothing
</p>


<h3>Examples</h3>

<pre><code class='language-R'>y = rtsplot.fake.stock.data(1000)
symbol = 'SPY'
	
 # moving average
sma = TTR::SMA(y, 250)

 # plot
 layout(1)
 rtsplot(y, type = 'l', col='black')
 rtsplot.lines(sma, col='blue', lwd=1.5)
rtsplot.legend(c(symbol, 'SMA(250)'), 'black,blue', list(y,sma))

</code></pre>

<hr>
<h2 id='rtsplot.matplot'><code><a href="graphics.html#topic+matplot">matplot</a></code> version for <code><a href="xts.html#topic+xts">xts</a></code> object</h2><span id='topic+rtsplot.matplot'></span>

<h3>Description</h3>

<p><code><a href="graphics.html#topic+matplot">matplot</a></code> version for <code><a href="xts.html#topic+xts">xts</a></code> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rtsplot.matplot(
  y,
  dates = NULL,
  ylim = NULL,
  type = "l",
  cols = rtsplot.colors(ncol(y)),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rtsplot.matplot_+3A_y">y</code></td>
<td>
<p><code><a href="xts.html#topic+xts">xts</a></code> object</p>
</td></tr>
<tr><td><code id="rtsplot.matplot_+3A_dates">dates</code></td>
<td>
<p>subset of dates<strong>defaults to NULL</strong></p>
</td></tr>
<tr><td><code id="rtsplot.matplot_+3A_ylim">ylim</code></td>
<td>
<p>range on Y values, <strong>defaults to NULL</strong></p>
</td></tr>
<tr><td><code id="rtsplot.matplot_+3A_type">type</code></td>
<td>
<p>plot type, <strong>defaults to 'l'</strong>, see <code><a href="graphics.html#topic+plot">plot</a></code> for details</p>
</td></tr>
<tr><td><code id="rtsplot.matplot_+3A_cols">cols</code></td>
<td>
<p>colors</p>
</td></tr>
<tr><td><code id="rtsplot.matplot_+3A_...">...</code></td>
<td>
<p>additional parameters to the <code><a href="graphics.html#topic+matplot">matplot</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>nothing
</p>

<hr>
<h2 id='rtsplot.ohlc'>Create OHLC Plot</h2><span id='topic+rtsplot.ohlc'></span>

<h3>Description</h3>

<p>Plot ohlc if dx is sufficient otherwise bars
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rtsplot.ohlc(y, col = rtsplot.theme()$col.border)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rtsplot.ohlc_+3A_y">y</code></td>
<td>
<p><code><a href="xts.html#topic+xts">xts</a></code> object</p>
</td></tr>
<tr><td><code id="rtsplot.ohlc_+3A_col">col</code></td>
<td>
<p>color for bars, <strong>defaults to rtsplot.theme()$col.border</strong></p>
</td></tr>
</table>


<h3>Value</h3>

<p>nothing
</p>


<h3>Examples</h3>

<pre><code class='language-R'>y = rtsplot.fake.stock.data(50, ohlc=TRUE)
symbol = 'SPY'
	
 # plot
 layout(1)
 rtsplot(y, type = 'n')
 rtsplot.ohlc(y)
rtsplot.legend(symbol, 'black', y)

rtsplot.theme.set(legend.bg.col=grDevices::adjustcolor('blue', 25/255))
rtsplot.corner.label('Logo \uA9', x=1, y=-1, cex = 0.7, space='figure', col='blue')
rtsplot.theme.set(legend.bg.col = grDevices::adjustcolor('white', 200/255))

</code></pre>

<hr>
<h2 id='rtsplot.polygon'>Add polygon to time series plot</h2><span id='topic+rtsplot.polygon'></span>

<h3>Description</h3>

<p>Add polygon to time series plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rtsplot.polygon(y, col = graphics::par("col"), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rtsplot.polygon_+3A_y">y</code></td>
<td>
<p><code><a href="xts.html#topic+xts">xts</a></code> object with 2 columns</p>
</td></tr>
<tr><td><code id="rtsplot.polygon_+3A_col">col</code></td>
<td>
<p>color, <strong>defaults to par('col')</strong></p>
</td></tr>
<tr><td><code id="rtsplot.polygon_+3A_...">...</code></td>
<td>
<p>additional parameters to the <code><a href="graphics.html#topic+lines">lines</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>nothing
</p>


<h3>Examples</h3>

<pre><code class='language-R'>y = rtsplot.fake.stock.data(1000, ohlc=TRUE) 
symbol = 'SPY'
	
 # moving average
bbands = TTR::BBands(quantmod::HLC(y), n=200, sd=1)[,c('up','dn')]	

 # plot
 layout(1)
 rtsplot(y, type = 'l', col='black')
 col = grDevices::adjustcolor('green', 50/255)
 rtsplot.polygon(bbands, col = col)
rtsplot.legend(c(symbol, 'BBands'), c('black', col), list(y,bbands))

</code></pre>

<hr>
<h2 id='rtsplot.scale.volume'>Scale volume</h2><span id='topic+rtsplot.scale.volume'></span>

<h3>Description</h3>

<p>Scale volume
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rtsplot.scale.volume(y)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rtsplot.scale.volume_+3A_y">y</code></td>
<td>
<p><code><a href="xts.html#topic+xts">xts</a></code> object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>adjusted y object
</p>

<hr>
<h2 id='rtsplot.stacked'>Create Stacked plot</h2><span id='topic+rtsplot.stacked'></span>

<h3>Description</h3>

<p>Create Stacked plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rtsplot.stacked(
  x,
  y,
  xlab = "",
  cols = rtsplot.colors(ncol(y)),
  type = c("l", "s"),
  flip.legend = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rtsplot.stacked_+3A_x">x</code></td>
<td>
<p>dates object</p>
</td></tr>
<tr><td><code id="rtsplot.stacked_+3A_y">y</code></td>
<td>
<p>matrix with weights</p>
</td></tr>
<tr><td><code id="rtsplot.stacked_+3A_xlab">xlab</code></td>
<td>
<p>X label, <strong>defaults to &rdquo;</strong>, for more info see <code><a href="graphics.html#topic+plot">plot</a></code></p>
</td></tr>
<tr><td><code id="rtsplot.stacked_+3A_cols">cols</code></td>
<td>
<p>colors, <strong>defaults to colors <code><a href="#topic+rtsplot.theme">rtsplot.theme</a></code></strong></p>
</td></tr>
<tr><td><code id="rtsplot.stacked_+3A_type">type</code></td>
<td>
<p>plot type: lines, step stairs c('l','s')</p>
</td></tr>
<tr><td><code id="rtsplot.stacked_+3A_flip.legend">flip.legend</code></td>
<td>
<p>flag to reverse legend order, <strong>defaults to FALSE</strong></p>
</td></tr>
<tr><td><code id="rtsplot.stacked_+3A_...">...</code></td>
<td>
<p>additional parameters to the <code><a href="graphics.html#topic+plot">plot</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>nothing
</p>

<hr>
<h2 id='rtsplot.text'>Add text to time series plot</h2><span id='topic+rtsplot.text'></span>

<h3>Description</h3>

<p>Add text to time series plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rtsplot.text(y, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rtsplot.text_+3A_y">y</code></td>
<td>
<p><code><a href="xts.html#topic+xts">xts</a></code> object</p>
</td></tr>
<tr><td><code id="rtsplot.text_+3A_...">...</code></td>
<td>
<p>additional parameters to the <code><a href="graphics.html#topic+lines">lines</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>nothing
</p>


<h3>Examples</h3>

<pre><code class='language-R'>y = rtsplot.fake.stock.data(1000)
symbol = 'SPY'
	
 # plot
 layout(1)
 rtsplot(y, type = 'l', col='black')
 rtsplot.text(y[100], 'Text', col='red')
rtsplot.legend(symbol, 'black', y)

</code></pre>

<hr>
<h2 id='rtsplot.volume'>Plot volume</h2><span id='topic+rtsplot.volume'></span>

<h3>Description</h3>

<p>Plot volume
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rtsplot.volume(
  y,
  col = rtsplot.volume.col(y),
  border = rtsplot.theme()$col.border
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rtsplot.volume_+3A_y">y</code></td>
<td>
<p><code><a href="xts.html#topic+xts">xts</a></code> object</p>
</td></tr>
<tr><td><code id="rtsplot.volume_+3A_col">col</code></td>
<td>
<p>color for volume bars</p>
</td></tr>
<tr><td><code id="rtsplot.volume_+3A_border">border</code></td>
<td>
<p>color for volume bars border</p>
</td></tr>
</table>


<h3>Value</h3>

<p>nothing
</p>

<hr>
<h2 id='rtsplot.x.highlight'>Highlight vertical segments</h2><span id='topic+rtsplot.x.highlight'></span>

<h3>Description</h3>

<p>Highlight vertical segments
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rtsplot.x.highlight(y, highlight, col = rtsplot.theme()$col.x.highlight)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rtsplot.x.highlight_+3A_y">y</code></td>
<td>
<p><code><a href="xts.html#topic+xts">xts</a></code> object</p>
</td></tr>
<tr><td><code id="rtsplot.x.highlight_+3A_highlight">highlight</code></td>
<td>
<p>segments to highlight along X axis</p>
</td></tr>
<tr><td><code id="rtsplot.x.highlight_+3A_col">col</code></td>
<td>
<p>highlight color, <strong>defaults to rtsplot.control$col.x.highlight</strong></p>
</td></tr>
</table>


<h3>Value</h3>

<p>nothing
</p>

<hr>
<h2 id='rtsplot.y.highlight'>Highlight horizontal segments</h2><span id='topic+rtsplot.y.highlight'></span>

<h3>Description</h3>

<p>Highlight horizontal segments
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rtsplot.y.highlight(highlight, col = rtsplot.theme()$col.y.highlight)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rtsplot.y.highlight_+3A_highlight">highlight</code></td>
<td>
<p>segments to highlight along Y axis</p>
</td></tr>
<tr><td><code id="rtsplot.y.highlight_+3A_col">col</code></td>
<td>
<p>highlight color, <strong>defaults to rtsplot.control$col.y.highlight</strong></p>
</td></tr>
</table>


<h3>Value</h3>

<p>nothing
</p>


<h3>Examples</h3>

<pre><code class='language-R'># generate time series data
y = rtsplot.fake.stock.data(1000)

rsi = TTR::RSI(y, 20)	
 	
#set up two regions for graphs candlestick price data on top 2/3 of the plot
#and rsi on the bottom 1/3 of the plot
layout(c(1,1,2))  
	
rtsplot(y, type = 'line', plotX = FALSE)
  rtsplot.legend('SPY', 'grey70', y)

rtsplot(rsi, type = 'l')

col = grDevices::adjustcolor(c('green','red'), 80/255)
rtsplot.y.highlight(col=col[1], highlight=c(50,100))	
rtsplot.y.highlight(col=col[2], highlight=c(0,50))	
	
abline(h = 50, col = 'gray20')

rtsplot.legend('RSI(20)', 'black', rsi)

</code></pre>

<hr>
<h2 id='rtsplot2Y'>Plot time series with second Y axis</h2><span id='topic+rtsplot2Y'></span>

<h3>Description</h3>

<p>Detailed discussion for validity of dual Y axis at [Dual axes time series plots may be ok sometimes after all](http://freerangestats.info/blog/2016/08/18/dualaxes)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rtsplot2Y(y, las = 1, type = "l", col.axis = "red", ylim = NULL, log = "", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rtsplot2Y_+3A_y">y</code></td>
<td>
<p><code><a href="xts.html#topic+xts">xts</a></code> object</p>
</td></tr>
<tr><td><code id="rtsplot2Y_+3A_las">las</code></td>
<td>
<p>rotation of Y axis labels, <strong>defaults to 1</strong>, for more info see <code><a href="graphics.html#topic+par">par</a></code></p>
</td></tr>
<tr><td><code id="rtsplot2Y_+3A_type">type</code></td>
<td>
<p>plot type, <strong>defaults to 'l'</strong>, for more info see <code><a href="graphics.html#topic+plot">plot</a></code>
also support 'ohlc', 'hl', 'candle', 'volume' types</p>
</td></tr>
<tr><td><code id="rtsplot2Y_+3A_col.axis">col.axis</code></td>
<td>
<p>axis color, <strong>defaults to 'red'</strong></p>
</td></tr>
<tr><td><code id="rtsplot2Y_+3A_ylim">ylim</code></td>
<td>
<p>range on Y values, <strong>defaults to NULL</strong></p>
</td></tr>
<tr><td><code id="rtsplot2Y_+3A_log">log</code></td>
<td>
<p>log scale x, y, xy axes, <strong>defaults to &rdquo;</strong></p>
</td></tr>
<tr><td><code id="rtsplot2Y_+3A_...">...</code></td>
<td>
<p>additional parameters to the <code><a href="graphics.html#topic+plot">plot</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>nothing
</p>


<h3>Examples</h3>

<pre><code class='language-R'># generate time series data
y = rtsplot.fake.stock.data(1000)
symbol = 'SPY'

y1 = rtsplot.fake.stock.data(1000, 100)
symbol = 'IBM'
	
 # two Y axis example
 # to plot second Y axis, free some space on left side, set LeftMargin=3
 layout(1)
 cols = c('black', 'red')

 rtsplot(y, type = 'l', LeftMargin=3, col=cols[1])
			
 rtsplot2Y(y1, type='l', las=1, col=cols[2], col.axis=cols[2])

 rtsplot.legend('SPY(rhs),IBM(lhs)', cols, list(y,y1))

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

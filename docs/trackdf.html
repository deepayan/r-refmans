<!DOCTYPE html><html><head><title>Help for package trackdf</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {trackdf}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#.Mode'><p>Compute The Mode(s) Of A Discrete Distribution</p></a></li>
<li><a href='#.reclass'><p>Maintain Class After Modification</p></a></li>
<li><a href='#[.track'><p>Extract or Replace Parts of a Track Table</p></a></li>
<li><a href='#bind_tracks'><p>Bind Multiple Track Tables by Row</p></a></li>
<li><a href='#conversions'><p>Convert a Track Table to/from Other Formats</p></a></li>
<li><a href='#dplyr_track'><p>Dplyr Methods For Track Tables</p></a></li>
<li><a href='#duplicated_data'><p>Find Duplicated Data in a Track Table</p></a></li>
<li><a href='#filter'><p>Subset rows using column values</p></a></li>
<li><a href='#inconsistent_data'><p>Find Inconsistent Locations in a Track Table</p></a></li>
<li><a href='#is_geo'><p>Check if Track Table Uses Geographic Coordinates</p></a></li>
<li><a href='#is_track'><p>Check Validity of Track Table</p></a></li>
<li><a href='#missing_data'><p>Find Missing Data in a Track Table</p></a></li>
<li><a href='#n_dims'><p>Number of Spatial Dimensions of a Track Table</p></a></li>
<li><a href='#n_tracks'><p>Number of Tracks in a Track Table</p></a></li>
<li><a href='#projection'><p>Access/Modify the Projection of a Track Table</p></a></li>
<li><a href='#short_tracks'><p>Trajectories of Two Goats Through the Namibian Desert (short version)</p></a></li>
<li><a href='#track_'><p>Build a Track Table</p></a></li>
<li><a href='#tracks'><p>Trajectories of Two Goats Through the Namibian Desert</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Data Frame Class for Tracking Data</td>
</tr>
<tr>
<td>Version:</td>
<td>0.3.3</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-01-28</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Simon Garnier &lt;garnier@njit.edu&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Data frame class for storing collective movement data (e.g. fish
    schools, ungulate herds, baboon troops) collected from GPS trackers or 
    computer vision tracking software. </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>sf, tibble, data.table, lubridate, methods, dplyr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>readr, ggplot2, mapproj, knitr, rmarkdown, adehabitatLT,
move, ctmm, moveHMM, sp, terra, covr, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://swarm-lab.github.io/trackdf/">https://swarm-lab.github.io/trackdf/</a>,
<a href="https://github.com/swarm-lab/trackdf">https://github.com/swarm-lab/trackdf</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/swarm-lab/trackdf/issues">https://github.com/swarm-lab/trackdf/issues</a></td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-01-28 20:06:55 UTC; simon</td>
</tr>
<tr>
<td>Author:</td>
<td>Simon Garnier <a href="https://orcid.org/0000-0002-3886-3974"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-01-29 10:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='.Mode'>Compute The Mode(s) Of A Discrete Distribution</h2><span id='topic+.Mode'></span>

<h3>Description</h3>

<p>This is an internal utility function to compute the mode(s) of
a discrete distribution.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.Mode(x, na.rm = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".Mode_+3A_x">x</code></td>
<td>
<p>A vector or matrix of discrete values.</p>
</td></tr>
<tr><td><code id=".Mode_+3A_na.rm">na.rm</code></td>
<td>
<p>A logical value indicating whether NA values should be stripped
before the computation proceeds (default: TRUE).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of values corresponding to the mode(s) of x.
</p>


<h3>Author(s)</h3>

<p>Simon Garnier, <a href="mailto:garnier@njit.edu">garnier@njit.edu</a>
</p>

<hr>
<h2 id='.reclass'>Maintain Class After Modification</h2><span id='topic+.reclass'></span>

<h3>Description</h3>

<p>Copy class and attributes from the original version of an object
to a modified version.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.reclass(x, result)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".reclass_+3A_x">x</code></td>
<td>
<p>The original object, which has a class/attributes to copy</p>
</td></tr>
<tr><td><code id=".reclass_+3A_result">result</code></td>
<td>
<p>The modified object, which is/might be missing the
class/attributes.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>result</code>, now with class/attributes restored.
</p>


<h3>Author(s)</h3>

<p>Simon Garnier, <a href="mailto:garnier@njit.edu">garnier@njit.edu</a>
</p>

<hr>
<h2 id='+5B.track'>Extract or Replace Parts of a Track Table</h2><span id='topic++5B.track'></span><span id='topic++5B+3C-.track'></span>

<h3>Description</h3>

<p>Accessing columns, rows, or cells via $, [[, or [ is mostly
similar to regular <code><a href="base.html#topic+Extract.data.frame">data frames</a></code>.
However, the behavior is sometimes different for track tables based on
<code><a href="tibble.html#topic+tibble">tibble</a></code> and <code><a href="data.table.html#topic+data.table">data.table</a></code>. For
more info, refer to <a href="tibble.html#topic+subsetting">tibble</a>'s and
<code><a href="data.table.html#topic+data.table">data.table</a></code>'s subsetting documentation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'track'
x[...]

## S3 replacement method for class 'track'
x[...] &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B5B.track_+3A_x">x</code></td>
<td>
<p>A track table.</p>
</td></tr>
<tr><td><code id="+2B5B.track_+3A_...">...</code></td>
<td>
<p>Other parameters to be passed to the extracting/subsetting
functions of <code><a href="base.html#topic+data.frame">data.frame</a></code>, <code><a href="tibble.html#topic+tibble">tibble</a></code>, and
<code><a href="data.table.html#topic+data.table">data.table</a></code>.</p>
</td></tr>
<tr><td><code id="+2B5B.track_+3A_value">value</code></td>
<td>
<p>A suitable replacement value: it will be repeated a whole number
of times if necessary and it may be coerced: see the 'Coercion' section in
<code><a href="base.html#topic+data.frame">data.frame</a></code>. If 'NULL', deletes the column if a single column
is selected.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A subset of the track table is <code>[</code> is called, or a modified version
of the track table if <code>[&lt;-</code> is called.
</p>


<h3>Author(s)</h3>

<p>Simon Garnier, <a href="mailto:garnier@njit.edu">garnier@njit.edu</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+track_df">track_df</a></code>, <code><a href="#topic+track_tbl">track_tbl</a></code>, <code><a href="#topic+track_dt">track_dt</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(short_tracks)

short_tracks[1]
short_tracks[1, ]
short_tracks[1, 1]
short_tracks$id[short_tracks$id == "1"] &lt;- "0"
short_tracks[short_tracks[, 1] == "0", 1] &lt;- "1"

</code></pre>

<hr>
<h2 id='bind_tracks'>Bind Multiple Track Tables by Row</h2><span id='topic+bind_tracks'></span>

<h3>Description</h3>

<p>bind_tracks uses <code><a href="data.table.html#topic+rbindlist">data.table::rbindlist</a></code>
to combine track tables by rows, but makes sure that you cannot bind
together two tables with different projections or time zones, that the
projection attribute is inherited by the resulting track table, and that
track tables based on different table classes are coerced to the same table
class.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bind_tracks(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bind_tracks_+3A_...">...</code></td>
<td>
<p>A list containing track table objects, or the names of track table
objects separated by commas. The track tables must have the same projection
and time zone.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A track table.
</p>


<h3>Author(s)</h3>

<p>Simon Garnier, <a href="mailto:garnier@njit.edu">garnier@njit.edu</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(short_tracks)

bind_tracks(short_tracks, short_tracks)
bind_tracks(list(short_tracks, short_tracks))

</code></pre>

<hr>
<h2 id='conversions'>Convert a Track Table to/from Other Formats</h2><span id='topic+conversions'></span><span id='topic+as_track'></span><span id='topic+as_track.MoveStack'></span><span id='topic+as_track.Move'></span><span id='topic+as_move'></span><span id='topic+as_track.SpatialPointsDataFrame'></span><span id='topic+as_sp'></span><span id='topic+as_sp.track'></span><span id='topic+as_track.ltraj'></span><span id='topic+as_ltraj'></span><span id='topic+as_ltraj.track'></span><span id='topic+as_track.telemetry'></span><span id='topic+as_track.list'></span><span id='topic+as_telemetry'></span><span id='topic+as_telemetry.track'></span><span id='topic+as_track.moveData'></span><span id='topic+as_moveHMM'></span><span id='topic+as_moveHMM.track'></span>

<h3>Description</h3>

<p>The following methods will convert track tables to and from other
common formats used for processing tracking and spatial data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_track(x, table = "df", ...)

## S3 method for class 'MoveStack'
as_track(x, table = "df", ...)

## S3 method for class 'Move'
as_track(x, table = "df", ...)

as_move(x, ...)

## S3 method for class 'SpatialPointsDataFrame'
as_track(x, table = "df", ...)

as_sp(x, ...)

## S3 method for class 'track'
as_sp(x, ...)

## S3 method for class 'ltraj'
as_track(x, table = "df", ...)

as_ltraj(x, ...)

## S3 method for class 'track'
as_ltraj(x, ...)

## S3 method for class 'telemetry'
as_track(x, table = "df", ...)

## S3 method for class 'list'
as_track(x, table = "df", ...)

as_telemetry(x, ...)

## S3 method for class 'track'
as_telemetry(x, ...)

## S3 method for class 'moveData'
as_track(x, table = "df", type = c("LL", "UTM"), ...)

as_moveHMM(x, ...)

## S3 method for class 'track'
as_moveHMM(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="conversions_+3A_x">x</code></td>
<td>
<p>An object to convert.</p>
</td></tr>
<tr><td><code id="conversions_+3A_table">table</code></td>
<td>
<p>A string indicating the class of the table on which the track
table should be built. It can be a <code><a href="base.html#topic+data.frame">data.frame</a></code> (&quot;df&quot;, the default),
a <code><a href="tibble.html#topic+tibble">tibble</a></code> (&quot;tbl&quot;), or a <code><a href="data.table.html#topic+data.table">data.table</a></code>
(&quot;dt&quot;).</p>
</td></tr>
<tr><td><code id="conversions_+3A_...">...</code></td>
<td>
<p>Other parameters to be passed to:
</p>

<ul>
<li><p><code><a href="#topic+track_df">track_df</a></code>, <code><a href="#topic+track_tbl">track_tbl</a></code> or <code><a href="#topic+track_dt">track_dt</a></code>
if <code>as_track</code> is used.
</p>
</li>
<li><p><code><a href="sp.html#topic+SpatialPointsDataFrame">sp::SpatialPointsDataFrame</a></code>
if <code>as_sp</code> is used.
</p>
</li>
<li><p><code><a href="adehabitatLT.html#topic+as.ltraj">adehabitatLT::as.ltraj</a></code> if
<code>as_ltraj</code> is used.
</p>
</li>
<li><p><code><a href="ctmm.html#topic+as.telemetry">ctmm::as.telemetry</a></code> if
<code>as_telemetry</code> is used.
</p>
</li>
<li><p><code><a href="moveHMM.html#topic+prepData">moveHMM::prepData</a></code> if
<code>as_moveHMM</code> is used.
</p>
</li></ul>
</td></tr>
<tr><td><code id="conversions_+3A_type">type</code></td>
<td>
<p>For converting <code><a href="moveHMM.html#topic+moveData">moveHMM::moveData</a></code>
to track table only, a character string indicating the type of coordinates
stored in the <code><a href="moveHMM.html#topic+moveData">moveHMM::moveData</a></code> object: &quot;LL&quot;
if longitude/latitude (default), &quot;UTM&quot; if easting/northing.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The coordinates converted in the chosen format.
</p>


<h3>Author(s)</h3>

<p>Simon Garnier, <a href="mailto:garnier@njit.edu">garnier@njit.edu</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+track_df">track_df</a></code>, <code><a href="#topic+track_tbl">track_tbl</a></code>, <code><a href="#topic+track_dt">track_dt</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
data(short_tracks)

if (requireNamespace("sp", quietly = TRUE)) {
  sp &lt;- as_sp(short_tracks)
  as_track(sp)
}

if (requireNamespace("adehabitatLT", quietly = TRUE)) {
  lt &lt;- as_ltraj(short_tracks)
  as_track(lt)
}

if (requireNamespace("ctmm", quietly = TRUE)) {
  tl &lt;- as_telemetry(short_tracks)
  as_track(tl)
}

if (requireNamespace("moveHMM", quietly = TRUE)) {
  hhm &lt;- as_moveHMM(short_tracks, type = "LL")
  as_track(hhm)
}

## End(Not run)

</code></pre>

<hr>
<h2 id='dplyr_track'>Dplyr Methods For Track Tables</h2><span id='topic+dplyr_track'></span><span id='topic+select.track'></span><span id='topic+rename.track'></span><span id='topic+filter.track'></span><span id='topic+arrange.track'></span><span id='topic+mutate.track'></span><span id='topic+transmute.track'></span><span id='topic+summarise.track'></span><span id='topic+summarize.track'></span><span id='topic+group_by.track'></span><span id='topic+ungroup.track'></span><span id='topic+slice_sample.track'></span><span id='topic+do.track'></span><span id='topic+slice.track'></span><span id='topic+semi_join.track'></span><span id='topic+anti_join.track'></span><span id='topic+inner_join.track'></span><span id='topic+left_join.track'></span><span id='topic+right_join.track'></span><span id='topic+full_join.track'></span><span id='topic+nest_join.track'></span><span id='topic+distinct.track'></span><span id='topic+rowwise.track'></span>

<h3>Description</h3>

<p><code><a href="dplyr.html#topic+dplyr">dplyr</a></code> methods for track tables objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'track'
select(.data, ...)

## S3 method for class 'track'
rename(.data, ...)

## S3 method for class 'track'
filter(.data, ...)

## S3 method for class 'track'
arrange(.data, ...)

## S3 method for class 'track'
mutate(.data, ...)

## S3 method for class 'track'
transmute(.data, ...)

## S3 method for class 'track'
summarise(.data, ...)

## S3 method for class 'track'
summarize(.data, ...)

## S3 method for class 'track'
group_by(.data, ...)

## S3 method for class 'track'
ungroup(x, ...)

## S3 method for class 'track'
slice_sample(.data, ...)

## S3 method for class 'track'
do(.data, ...)

## S3 method for class 'track'
slice(.data, ...)

## S3 method for class 'track'
semi_join(x, ...)

## S3 method for class 'track'
anti_join(x, ...)

## S3 method for class 'track'
inner_join(x, ...)

## S3 method for class 'track'
left_join(x, ...)

## S3 method for class 'track'
right_join(x, ...)

## S3 method for class 'track'
full_join(x, ...)

## S3 method for class 'track'
nest_join(x, ...)

## S3 method for class 'track'
distinct(.data, ...)

## S3 method for class 'track'
rowwise(data, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dplyr_track_+3A_...">...</code></td>
<td>
<p>Additional arguments to be passed to the corresponding
<code><a href="dplyr.html#topic+dplyr">dplyr</a></code> method.</p>
</td></tr>
<tr><td><code id="dplyr_track_+3A_data">data</code>, <code id="dplyr_track_+3A_.data">.data</code>, <code id="dplyr_track_+3A_x">x</code></td>
<td>
<p>A track table.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="dplyr.html#topic+dplyr">dplyr</a></code>
</p>

<hr>
<h2 id='duplicated_data'>Find Duplicated Data in a Track Table</h2><span id='topic+duplicated_data'></span>

<h3>Description</h3>

<p>This function attempts to automatically detect duplicated
data in <code><a href="#topic+track">track</a></code> tables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>duplicated_data(x, type = "txy")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="duplicated_data_+3A_x">x</code></td>
<td>
<p><code><a href="#topic+track">track</a></code> table as produced by the <code><a href="#topic+track">track</a></code>
function.</p>
</td></tr>
<tr><td><code id="duplicated_data_+3A_type">type</code></td>
<td>
<p>A character string or a vector of character strings indicating
the type of duplications to look for. The strings can be any combination
of <code>"t"</code> (for time duplications) and <code>"x"</code>, <code>"y"</code>, <code>"z"</code>
(for coordinate duplications). For instance, the string <code>"txy"</code> will
return data with duplicated time stamps and duplicated x and y coordinates.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A track table of all observations that are duplicated, as per the
duplication rule defined by <code>type</code>.
</p>


<h3>Note</h3>

<p>Incomplete data (that is, data containing &quot;NAs&quot;) are ignored.
</p>


<h3>Author(s)</h3>

<p>Simon Garnier, <a href="mailto:garnier@njit.edu">garnier@njit.edu</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+track">track</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create data set with duplicated data
data(short_tracks)
t_df &lt;- track(x = short_tracks$x, y = short_tracks$y, t = short_tracks$t,
              id = short_tracks$id, proj = "+proj=longlat",
              tz = "Africa/Windhoek", table = "df")
t_df &lt;- bind_tracks(t_df, t_df[1:10, ], t_df[100:110, ])

# Find duplicated timestamps
duplicated &lt;- duplicated_data(t_df)

</code></pre>

<hr>
<h2 id='filter'>Subset rows using column values</h2><span id='topic+filter'></span>

<h3>Description</h3>

<p>This is a re-export of the <code><a href="dplyr.html#topic+filter">filter</a></code> function
in the <code><a href="dplyr.html#topic+dplyr">dplyr</a></code> package. See the help
</p>


<h3>Arguments</h3>

<table>
<tr><td><code id="filter_+3A_.data">.data</code></td>
<td>
<p>See <code><a href="dplyr.html#topic+filter">filter</a></code> for an explanation.</p>
</td></tr>
<tr><td><code id="filter_+3A_...">...</code></td>
<td>
<p>Other args</p>
</td></tr>
</table>

<hr>
<h2 id='inconsistent_data'>Find Inconsistent Locations in a Track Table</h2><span id='topic+inconsistent_data'></span>

<h3>Description</h3>

<p>This function attempts to automatically detect inconsistent
locations (for instance due to a writing error or GPS inaccuracies) in
<code><a href="#topic+track">track</a></code> tables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>inconsistent_data(x, s = 15)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="inconsistent_data_+3A_x">x</code></td>
<td>
<p><code><a href="#topic+track">track</a></code> table as produced by the <code><a href="#topic+track">track</a></code>
function.</p>
</td></tr>
<tr><td><code id="inconsistent_data_+3A_s">s</code></td>
<td>
<p>The discrimination threshold for the outlier detection algorithm.
Higher values correspond to less outliers.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A track table of all inconsistent data.
</p>


<h3>Author(s)</h3>

<p>Simon Garnier, <a href="mailto:garnier@njit.edu">garnier@njit.edu</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+track">track</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create data set with inconsistent data
data(tracks)
t_df &lt;- track(x = tracks$x, y = tracks$y, t = tracks$t,
              id = tracks$id, proj = "+proj=longlat",
              tz = "Africa/Windhoek", table = "df")
t_df$x[1000] &lt;- t_df$x[1000] * 1.0001
t_df$y[4000] &lt;- t_df$y[4000] * 1.00001

# Find inconsistent data
inconsistent &lt;- inconsistent_data(t_df)

</code></pre>

<hr>
<h2 id='is_geo'>Check if Track Table Uses Geographic Coordinates</h2><span id='topic+is_geo'></span>

<h3>Description</h3>

<p>Track tables produced by <code><a href="#topic+track_df">track_df</a></code> can use a
cartesian (x, y, z) or a geographic (latitude, longitude, altitude)
coordinate system. This function helps determine which is being used in a
particular table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_geo(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_geo_+3A_x">x</code></td>
<td>
<p>A track data table as produced by <code><a href="#topic+track_df">track_df</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical.
</p>


<h3>Author(s)</h3>

<p>Simon Garnier, <a href="mailto:garnier@njit.edu">garnier@njit.edu</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(short_tracks)

is_geo(short_tracks)

</code></pre>

<hr>
<h2 id='is_track'>Check Validity of Track Table</h2><span id='topic+is_track'></span>

<h3>Description</h3>

<p>Test whether a variable contains a track table as produced
by <code><a href="#topic+track_df">track_df</a></code>, <code><a href="#topic+track_tbl">track_tbl</a></code>, or <code><a href="#topic+track_dt">track_dt</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_track(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_track_+3A_x">x</code></td>
<td>
<p>An object to test.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical indicating whether the variable contains a track table
(<code>TRUE</code>) or not (<code>FALSE</code>).
</p>


<h3>Author(s)</h3>

<p>Simon Garnier, <a href="mailto:garnier@njit.edu">garnier@njit.edu</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+track_df">track_df</a></code>, <code><a href="#topic+track_tbl">track_tbl</a></code>, <code><a href="#topic+track_dt">track_dt</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(short_tracks)

is_track(short_tracks)

</code></pre>

<hr>
<h2 id='missing_data'>Find Missing Data in a Track Table</h2><span id='topic+missing_data'></span>

<h3>Description</h3>

<p>This function attempts to automatically detect missing data (for
instance due to writing errors) in <code><a href="#topic+track">track</a></code> tables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>missing_data(x, begin = NULL, end = NULL, step = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="missing_data_+3A_x">x</code></td>
<td>
<p>A <code><a href="#topic+track">track</a></code> table as produced by the <code><a href="#topic+track">track</a></code>
function.</p>
</td></tr>
<tr><td><code id="missing_data_+3A_begin">begin</code></td>
<td>
<p>A full time stamp (date+time) in <code><a href="base.html#topic+POSIXct">POSIXct</a></code> format
corresponding to the time from which the missing data should be looked for.
If not set, the first time stamp of the track table will be used.</p>
</td></tr>
<tr><td><code id="missing_data_+3A_end">end</code></td>
<td>
<p>A full time stamp (date+time) in <code><a href="base.html#topic+POSIXct">POSIXct</a></code> format
corresponding to the time until which the missing data should be looked for.
If not set, the last time stamp of the track table will be used.</p>
</td></tr>
<tr><td><code id="missing_data_+3A_step">step</code></td>
<td>
<p>A <code><a href="base.html#topic+difftime">difftime</a></code> object representing the expected time
between two consecutive locations of the trajectory. If not set, it is set
to the most common time difference between successive locations in <code>x</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A track table of all observations with missing data. The missing data
is indicated with <code><a href="base.html#topic+NA">NA</a></code>.
</p>


<h3>Author(s)</h3>

<p>Simon Garnier, <a href="mailto:garnier@njit.edu">garnier@njit.edu</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+track">track</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create data set with missing time stamps
data(short_tracks)
t_df &lt;- track(x = short_tracks$x, y = short_tracks$y, t = short_tracks$t,
              id = short_tracks$id, proj = "+proj=longlat",
              tz = "Africa/Windhoek", table = "df")
t_df &lt;- t_df[-c(10, 100), ]

# Find missing data
missing &lt;- missing_data(t_df)

</code></pre>

<hr>
<h2 id='n_dims'>Number of Spatial Dimensions of a Track Table</h2><span id='topic+n_dims'></span>

<h3>Description</h3>

<p>Track tables produced by <code><a href="#topic+track_df">track_df</a></code> can have 2 (x,y)
or 3 (x, y, z) spatial dimensions. This function returns the number of
spatial dimensions of a track table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>n_dims(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="n_dims_+3A_x">x</code></td>
<td>
<p>A track data table as produced by <code><a href="#topic+track_df">track_df</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric value.
</p>


<h3>Author(s)</h3>

<p>Simon Garnier, <a href="mailto:garnier@njit.edu">garnier@njit.edu</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(short_tracks)

n_dims(short_tracks)

</code></pre>

<hr>
<h2 id='n_tracks'>Number of Tracks in a Track Table</h2><span id='topic+n_tracks'></span>

<h3>Description</h3>

<p>Track tables produced by <code><a href="#topic+track_df">track_df</a></code> can contain
multiple tracks (e.g., from different animals). This function returns the
number of tracks in a track table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>n_tracks(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="n_tracks_+3A_x">x</code></td>
<td>
<p>A track data table as produced by <code><a href="#topic+track_df">track_df</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric value.
</p>


<h3>Author(s)</h3>

<p>Simon Garnier, <a href="mailto:garnier@njit.edu">garnier@njit.edu</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(short_tracks)

n_tracks(short_tracks)

</code></pre>

<hr>
<h2 id='projection'>Access/Modify the Projection of a Track Table</h2><span id='topic+projection'></span><span id='topic+projection+3C-'></span><span id='topic+project'></span>

<h3>Description</h3>

<p>Functions to access or modify the projection of a data table.
Changing the projection will trigger automatically the conversion of the
locations in the new coordinate system.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>projection(x)

projection(x) &lt;- value

project(x, value)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="projection_+3A_x">x</code></td>
<td>
<p>A track table.</p>
</td></tr>
<tr><td><code id="projection_+3A_value">value</code></td>
<td>
<p>A character string or a <code><a href="terra.html#topic+crs">terra::crs</a></code>
object representing the projection of the coordinates.
<code>"+proj=longlat"</code> is suitable for the outputs of most GPS trackers.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A track table.
</p>


<h3>Note</h3>

<p>It is not possible to modify the projection if missing coordinates
are present.
</p>


<h3>Author(s)</h3>

<p>Simon Garnier, <a href="mailto:garnier@njit.edu">garnier@njit.edu</a>
</p>


<h3>See Also</h3>

<p><code><a href="sf.html#topic+st_crs">st_crs</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(short_tracks)

projection(short_tracks)
tracks_projected &lt;- project(short_tracks, "+proj=somerc")
projection(tracks_projected)
projection(tracks_projected) &lt;- "+proj=longlat"
projection(tracks_projected)

</code></pre>

<hr>
<h2 id='short_tracks'>Trajectories of Two Goats Through the Namibian Desert (short version)</h2><span id='topic+short_tracks'></span>

<h3>Description</h3>

<p>A dataset containing the trajectories of two goats through the
Namibian desert.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>short_tracks
</code></pre>


<h3>Format</h3>

<p>A track table with 18 rows and 4 variables:
</p>

<dl>
<dt>id</dt><dd><p>Identity of the goat</p>
</dd>
<dt>t</dt><dd><p>Time of the observation</p>
</dd>
<dt>x</dt><dd><p>Longitude</p>
</dd>
<dt>y</dt><dd><p>Latitude</p>
</dd>
</dl>


<hr>
<h2 id='track_'>Build a Track Table</h2><span id='topic+track_'></span><span id='topic+track'></span><span id='topic+track_tbl'></span><span id='topic+track_dt'></span><span id='topic+track_df'></span>

<h3>Description</h3>

<p><code>track</code> constructs track tables based on <code><a href="base.html#topic+data.frame">data.frame</a></code>
(the default), <code><a href="tibble.html#topic+tibble">tibble</a></code>, or <code><a href="data.table.html#topic+data.table">data.table</a></code>.
<code>track</code> is a convenience function that executes <code>track_df</code>,
<code>track_tbl</code>, or <code>track_dt</code> based on the value of the 'table'
parameter. Track tables can be used like the data structure they are build
upon but with a notable difference: they have an extra attribute to store
the projection of the track coordinates, and modifying the projection will
automatically trigger the appropriate conversion of the coordinates.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>track(x, y, z, t, id, ..., proj, origin, period, tz, format, table = "df")

track_df(x, y, z, t, id, ..., proj, origin, period, tz, format)

track_tbl(x, y, z, t, id, ..., proj, origin, period, tz, format)

track_dt(x, y, z, t, id, ..., proj, origin, period, tz, format)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="track__+3A_x">x</code>, <code id="track__+3A_y">y</code>, <code id="track__+3A_z">z</code></td>
<td>
<p>Numeric vectors representing the coordinates of the locations.
<code>x</code> and <code>y</code> are required. <code>z</code> can be ignored if the
trajectories are 2-dimensional. Note: if the vectors are not of the same
length, the shorter ones will be recycled to match the length of the longer
one.</p>
</td></tr>
<tr><td><code id="track__+3A_t">t</code></td>
<td>
<p>A numeric vector or a vector of objects that can be coerced to
date-time objects by <code><a href="lubridate.html#topic+as_datetime">as_datetime</a></code> representing the
times (or frames) at which each location was recorded. If numeric, the
origin and period of the time points can be set using <code>origin</code> and
<code>period</code> below.</p>
</td></tr>
<tr><td><code id="track__+3A_id">id</code></td>
<td>
<p>A vector that can be coerced to a character vector by
<code><a href="base.html#topic+as.character">as.character</a></code> representing the identity of the individual to
which each location belong.</p>
</td></tr>
<tr><td><code id="track__+3A_...">...</code></td>
<td>
<p>A set of name-value pairs. Arguments are evaluated sequentially,
so you can refer to previously created elements. These arguments are
processed with <code><a href="rlang.html#topic+quotation">rlang::quos()</a></code> and support
unquote via <code>!!</code> and unquote-splice via <code>!!!</code>. Use <code>:=</code> to
create columns that start with a dot.</p>
</td></tr>
<tr><td><code id="track__+3A_proj">proj</code></td>
<td>
<p>A character string or a <code>crs</code> object (see
<code><a href="sf.html#topic+st_crs">st_crs</a></code> for more information) representing the projection
of the coordinates. Leave empty if the coordinates are not projected (e.g.,
output of video tracking). <code>"+proj=longlat"</code> is suitable for the output
of most GPS trackers.</p>
</td></tr>
<tr><td><code id="track__+3A_origin">origin</code></td>
<td>
<p>Something that can be coerced to a date-time object by
<code><a href="lubridate.html#topic+as_datetime">as_datetime</a></code> representing the start date and time of
the observations when <code>t</code> is a numeric vector.</p>
</td></tr>
<tr><td><code id="track__+3A_period">period</code></td>
<td>
<p>A character vector in a shorthand format (e.g. &quot;1 second&quot;) or
ISO 8601 specification. This is used when <code>t</code> is a numeric vector to
represent time unit of the observations. All unambiguous name units and
abbreviations are supported, &quot;m&quot; stands for months, &quot;M&quot; for minutes unless
ISO 8601 &quot;P&quot; modifier is present (see examples). Fractional units are
supported but the fractional part is always converted to seconds. See
<code><a href="lubridate.html#topic+period">period</a></code> for more details.</p>
</td></tr>
<tr><td><code id="track__+3A_tz">tz</code></td>
<td>
<p>A time zone name. See <code><a href="base.html#topic+OlsonNames">OlsonNames</a></code>.</p>
</td></tr>
<tr><td><code id="track__+3A_format">format</code></td>
<td>
<p>A character string indicating the formatting of 't'. See
<code><a href="base.html#topic+strptime">strptime</a></code> for how to specify this parameter.
</p>
<p>When supplied parsing is performed by strptime(). For this reason consider using specialized parsing functions in lubridate.</p>
</td></tr>
<tr><td><code id="track__+3A_table">table</code></td>
<td>
<p>A string indicating the class of the table on which the track
table should be built. It can be a <code><a href="base.html#topic+data.frame">data.frame</a></code> (&quot;df&quot;, the default),
a <code><a href="tibble.html#topic+tibble">tibble</a></code> (&quot;tbl&quot;), or a <code><a href="data.table.html#topic+data.table">data.table</a></code>
(&quot;dt&quot;).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A track table, which is a colloquial term for an object of class
<code>track</code>.
</p>


<h3>Author(s)</h3>

<p>Simon Garnier, <a href="mailto:garnier@njit.edu">garnier@njit.edu</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(short_tracks)

t_df &lt;- track(x = short_tracks$x, y = short_tracks$y, t = short_tracks$t,
  id = short_tracks$id, proj = "+proj=longlat", tz = "Africa/Windhoek", table = "df")

t_df &lt;- track_df(x = short_tracks$x, y = short_tracks$y, t = short_tracks$t,
  id = short_tracks$id, proj = "+proj=longlat", tz = "Africa/Windhoek")

t_tbl &lt;- track_tbl(x = short_tracks$x, y = short_tracks$y, t = short_tracks$t,
id = short_tracks$id, proj = "+proj=longlat", tz = "Africa/Windhoek")

t_dt &lt;- track_dt(x = short_tracks$x, y = short_tracks$y, t = short_tracks$t,
  id = short_tracks$id, proj = "+proj=longlat", tz = "Africa/Windhoek")

</code></pre>

<hr>
<h2 id='tracks'>Trajectories of Two Goats Through the Namibian Desert</h2><span id='topic+tracks'></span>

<h3>Description</h3>

<p>A dataset containing the trajectories of two goats through the
Namibian desert.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tracks
</code></pre>


<h3>Format</h3>

<p>A track table with 7194 rows and 4 variables:
</p>

<dl>
<dt>id</dt><dd><p>Identity of the goat</p>
</dd>
<dt>t</dt><dd><p>Time of the observation</p>
</dd>
<dt>x</dt><dd><p>Longitude</p>
</dd>
<dt>y</dt><dd><p>Latitude</p>
</dd>
</dl>


</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en-US"><head><title>Help for package ggpointless</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ggpointless}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#ggpointless-package'><p>ggpointless: Additional Geometries and Stats for 'ggplot2'</p></a></li>
<li><a href='#co2_ml'><p>Monthly CO2 records taken at Mauna Loa, since March 1958</p></a></li>
<li><a href='#covid_vac'><p>Rates of COVID-19 Cases and Deaths by Vaccination Status</p></a></li>
<li><a href='#draw_key_lexis'><p>Key glyphs for legends</p></a></li>
<li><a href='#female_leaders'><p>Female leaders of independent states.</p></a></li>
<li><a href='#geom_catenary'><p>Draw a catenary curve</p></a></li>
<li><a href='#geom_chaikin'><p>Apply Chaikin's corner cutting algorithm to smooth a path</p></a></li>
<li><a href='#geom_lexis'><p>Display events of different cohorts in form of a lexis charts</p></a></li>
<li><a href='#geom_pointless'><p>Emphasize some observations with points</p></a></li>
<li><a href='#get_decades'><p>Given a year, get the decade</p></a></li>
<li><a href='#get_lexis'><p>Given a start, and end get the 'age' of an event</p></a></li>
<li><a href='#get_locations'><p>Subset input data based on locations</p></a></li>
<li><a href='#ggpointless-ggproto'><p>Base ggproto classes for ggpointless</p></a></li>
<li><a href='#translate_shape_string'><p>Given a number, get the corresponding point shape</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Additional Geometries and Stats for 'ggplot2'</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>An (aspirational) collection of additional geometries and 
    statistics for 'ggplot2'. </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://flrd.github.io/ggpointless/">https://flrd.github.io/ggpointless/</a>,
<a href="https://github.com/flrd/ggpointless">https://github.com/flrd/ggpointless</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/flrd/ggpointless/issues">https://github.com/flrd/ggpointless/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>ggplot2 (&ge; 3.4.0), R (&ge; 3.3)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, covr, testthat (&ge; 3.0.0), rmarkdown, ragg, scales,
ggtext, ggrepel, vdiffr (&ge; 1.0.0), spelling</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Collate:</td>
<td>'aaa.R' 'data.R' 'geom-catenary.R' 'geom-chaikin.R'
'legend-draw.R' 'geom-lexis.R' 'geom-pointless.R'
'ggpointless-package.R' 'stat-catenary.R' 'stat-lexis.R'
'stat-pointless.R' 'stat_chaikin.R' 'utils.R'</td>
</tr>
<tr>
<td>Imports:</td>
<td>lifecycle, rlang</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-02-08 15:54:38 UTC; markusdoring</td>
</tr>
<tr>
<td>Author:</td>
<td>Markus Döring [aut, cre, cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Markus Döring &lt;m4rkus.doering@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-02-09 00:30:15 UTC</td>
</tr>
</table>
<hr>
<h2 id='ggpointless-package'>ggpointless: Additional Geometries and Stats for 'ggplot2'</h2><span id='topic+ggpointless-package'></span><span id='topic+ggpointless'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>An (aspirational) collection of additional geometries and statistics for 'ggplot2'.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Markus Döring <a href="mailto:m4rkus.doering@gmail.com">m4rkus.doering@gmail.com</a> [copyright holder]
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://flrd.github.io/ggpointless/">https://flrd.github.io/ggpointless/</a>
</p>
</li>
<li> <p><a href="https://github.com/flrd/ggpointless">https://github.com/flrd/ggpointless</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/flrd/ggpointless/issues">https://github.com/flrd/ggpointless/issues</a>
</p>
</li></ul>


<hr>
<h2 id='co2_ml'>Monthly CO2 records taken at Mauna Loa, since March 1958</h2><span id='topic+co2_ml'></span>

<h3>Description</h3>

<p>Atmospheric Carbon Dioxide Dry Air Mole Fractions from the
NOAA GML Carbon Cycle Cooperative Global Air Sampling
Network. Monthly time series constructed from daily mean values,
from March 1958 to January 2022.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>co2_ml
</code></pre>


<h3>Format</h3>

<p>A data frame with 766 rows and 5 variables
</p>

<dl>
<dt>date</dt><dd><p>date of measurement</p>
</dd>
<dt>year</dt><dd><p>year of measurement</p>
</dd>
<dt>month</dt><dd><p>month of measurement</p>
</dd>
<dt>co2_ppm</dt><dd><p>CO2 concentration, in parts per million</p>
</dd>
<dt>decade</dt><dd><p>decade of the measurement</p>
</dd>
</dl>



<h3>Source</h3>

<p>Dr. Pieter Tans, NOAA/GML (gml.noaa.gov/ccgg/trends/)
and Dr. Ralph Keeling, Scripps Institution of Oceanography
(scrippsco2.ucsd.edu/).
</p>
<p><a href="https://gml.noaa.gov/ccgg/trends/data.html">https://gml.noaa.gov/ccgg/trends/data.html</a>
</p>

<hr>
<h2 id='covid_vac'>Rates of COVID-19 Cases and Deaths by Vaccination Status</h2><span id='topic+covid_vac'></span>

<h3>Description</h3>

<p>Data on overall weekly rates of COVID-19 cases and deaths among
fully vaccinated and unvaccinated people aged 12 years and older,
according to COVID-19 positive specimen collection date. Data covers
the periods from April 4, to December 25, 2021.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>covid_vac
</code></pre>


<h3>Format</h3>

<p>A data frame with 146 rows and 4 variables
</p>

<dl>
<dt>date</dt><dd><p>Week of data collection</p>
</dd>
<dt>incidence</dt><dd><p>COVID-19 cases and deaths, standardized by age</p>
</dd>
<dt>status</dt><dd><p>vaccination status</p>
</dd>
<dt>outcome</dt><dd><p>COVID-19 cases and deaths</p>
</dd>
</dl>



<h3>Source</h3>

<p>Centers for Disease Control and Prevention,
Rates of COVID-19 Cases and Deaths by Vaccination Status
</p>
<p><a href="https://covid.cdc.gov/covid-data-tracker/#rates-by-vaccine-status">https://covid.cdc.gov/covid-data-tracker/#rates-by-vaccine-status</a>
</p>

<hr>
<h2 id='draw_key_lexis'>Key glyphs for legends</h2><span id='topic+draw_key_lexis'></span><span id='topic+draw_key_pointless'></span><span id='topic+draw_key_sabline'></span>

<h3>Description</h3>

<p>Each geom has an associated function that draws the key when
the geom needs to be displayed in a legend. These functions are
called  draw_key_*(), where * stands for the name of the
respective key glyph. The key glyphs of the <code><a href="#topic+geom_lexis">geom_lexis()</a></code>
function draws a short line of 45° with a point at the end,
see examples below.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>draw_key_pointless(data, params, size)

draw_key_sabline(data, params, linewidth, size)

draw_key_lexis(data, params, linewidth, size)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="draw_key_lexis_+3A_data">data</code></td>
<td>
<p>A single row data frame containing the scaled aesthetics to
display in this key</p>
</td></tr>
<tr><td><code id="draw_key_lexis_+3A_params">params</code></td>
<td>
<p>A list of additional parameters supplied to the geom.</p>
</td></tr>
<tr><td><code id="draw_key_lexis_+3A_size">size</code></td>
<td>
<p>Width and height of key in mm.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A grid grob.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>df1 &lt;- data.frame(x = c(0, 1), xend = c(2, 3), grp = c("A", "B"))
ggplot(df1, aes(x, xend = xend, color = grp)) +
  geom_lexis()

# the glyph can be changed using the `key_glyph` argument
ggplot(mtcars, aes(wt, mpg, color = "red")) +
  geom_point(key_glyph = "lexis")
</code></pre>

<hr>
<h2 id='female_leaders'>Female leaders of independent states.</h2><span id='topic+female_leaders'></span>

<h3>Description</h3>

<p>Data from Wikipedia on women who have been elected or appointed
head of state or government of their respective countries since
the interwar period (1918–1939).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>female_leaders
</code></pre>


<h3>Format</h3>

<p>A data frame with 131 rows and 5 variables
</p>

<dl>
<dt>name</dt><dd><p>Person</p>
</dd>
<dt>startdate</dt><dd><p>Start of tenure</p>
</dd>
<dt>enddate</dt><dd><p>End of tenure</p>
</dd>
<dt>country</dt><dd><p>Country</p>
</dd>
<dt>power</dt><dd><p>Executive or non-executive</p>
</dd>
</dl>



<h3>Details</h3>

<p>This list includes women who were appointed by a governing committee
or parliament where heads of state or government are not directly
elected by citizens. The list does not include women chosen by
a hereditary monarch.
</p>


<h3>Source</h3>

<p>wikipedia.org
</p>
<p><a href="https://en.wikipedia.org/w/index.php?title=List_of_elected_and_appointed_female_heads_of_state_and_government&amp;oldid=1078024588">https://en.wikipedia.org/w/index.php?title=List_of_elected_and_appointed_female_heads_of_state_and_government&amp;oldid=1078024588</a>
</p>

<hr>
<h2 id='geom_catenary'>Draw a catenary curve</h2><span id='topic+geom_catenary'></span><span id='topic+stat_catenary'></span>

<h3>Description</h3>

<p><code>geom_catenary()</code> draws a catenary curve which has a U-like shape,
similar in appearance to a parabola, which it is not.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_catenary(
  mapping = NULL,
  data = NULL,
  stat = "catenary",
  position = "identity",
  ...,
  chainLength = NULL,
  show.legend = NA,
  inherit.aes = TRUE,
  na.rm = FALSE
)

stat_catenary(
  mapping = NULL,
  data = NULL,
  geom = "path",
  position = "identity",
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE,
  chainLength = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="geom_catenary_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="geom_catenary_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_catenary_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="geom_catenary_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer()</a></code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>colour = "red"</code> or <code>size = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
<tr><td><code id="geom_catenary_+3A_chainlength">chainLength</code></td>
<td>
<p>Length of chain between two points.</p>
</td></tr>
<tr><td><code id="geom_catenary_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="geom_catenary_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_catenary_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_catenary_+3A_geom">geom</code>, <code id="geom_catenary_+3A_stat">stat</code></td>
<td>
<p>Use to override the default connection between
<code>geom_catenary</code> and <code>stat_catenary</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If a flexible chain or rope is loosely hung between two fixed
points, it is a curve called a catenary. Catenary, from Latin word catēna,
means &quot;chain&quot;.
</p>


<h3>Aesthetics</h3>

<p><code>geom_catenary()</code> understands the following aesthetics (required
aesthetics are in bold):
</p>

<ul>
<li> <p><strong>x</strong>
</p>
</li>
<li> <p><strong>y</strong>
</p>
</li>
<li><p> alpha
</p>
</li>
<li><p> color
</p>
</li>
<li><p> group
</p>
</li>
<li><p> linetype
</p>
</li>
<li><p> linewidth
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>dat &lt;- data.frame(
  x = c(0, 1, 2),
  y = c(1, 2, -3)
)

p &lt;- ggplot(dat, aes(x, y))
p + geom_catenary() +
  ylim(-4, NA)

# use chainLength argument to change default behaviour
# if you pick a chain length that is too short, a straight line is
# drawn and a message about minimum chain length is shown
p + geom_catenary(chainLength = 10) +
  ylim(-4, NA)

</code></pre>

<hr>
<h2 id='geom_chaikin'>Apply Chaikin's corner cutting algorithm to smooth a path</h2><span id='topic+geom_chaikin'></span><span id='topic+stat_chaikin'></span>

<h3>Description</h3>

<p>Chaikin's corner-cutting algorithm can be used to smooth sharp
corners of a path.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_chaikin(
  mapping = NULL,
  data = NULL,
  stat = "chaikin",
  position = "identity",
  ...,
  iterations = 5,
  ratio = 0.25,
  closed = FALSE,
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE
)

stat_chaikin(
  mapping = NULL,
  data = NULL,
  geom = "path",
  position = "identity",
  ...,
  iterations = 5,
  ratio = 0.25,
  closed = FALSE,
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="geom_chaikin_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="geom_chaikin_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_chaikin_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="geom_chaikin_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer()</a></code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>colour = "red"</code> or <code>size = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
<tr><td><code id="geom_chaikin_+3A_iterations">iterations</code></td>
<td>
<p>Integer. Number of iterations to apply. Must be between 0 and 10.</p>
</td></tr>
<tr><td><code id="geom_chaikin_+3A_ratio">ratio</code></td>
<td>
<p>Numeric. Cutting ratio must be between 0 and 1.</p>
</td></tr>
<tr><td><code id="geom_chaikin_+3A_closed">closed</code></td>
<td>
<p>Logical. Specify if result is an open or closed shape.</p>
</td></tr>
<tr><td><code id="geom_chaikin_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_chaikin_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="geom_chaikin_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_chaikin_+3A_geom">geom</code>, <code id="geom_chaikin_+3A_stat">stat</code></td>
<td>
<p>Use to override the default connection between
<code>geom_chaikin</code> and <code>stat_chaikin</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Chaikin's corner cutting algorithm iteratively turns a jagged path into
a smooth path.
</p>
<p>The recursion formula starts from two vertices A and B, which represent
a single corner of your path. From this, the algorithm derives two new
points: one at the specified ratio when going from point A to point B,
and one when going from B to A in the opposite direction.
By default, a ratio of 0.25 results in two points: the first at 25% of
point A and the other at 75% of point A (or 25% of point B). Those new
points form a smoother path. Then the algorithm applies the same rule to
each pair of new points. The rule is applied iterations times. The
maximum number of iterations is 10, default is 5.
</p>
<p>The ratio parameter  must be a number between 0 and 1. If ratio &gt; 0.5,
then it will be flipped to 1 - ratio, and a message is shown.
</p>


<h3>Aesthetics</h3>

<p><code>geom_chaikin()</code> understands the following aesthetics (required
aesthetics are in bold):
</p>

<ul>
<li> <p><strong>x</strong>
</p>
</li>
<li> <p><strong>y</strong>
</p>
</li>
<li><p> alpha
</p>
</li>
<li><p> color
</p>
</li>
<li><p> group
</p>
</li>
<li><p> linetype
</p>
</li>
<li><p> linewidth
</p>
</li></ul>



<h3>References</h3>

<p>Chaikin, G. An algorithm for high speed curve generation.
Computer Graphics and Image Processing 3 (1974), 346–349
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(42)
dat &lt;- data.frame(
  x = seq.int(10),
  y = sample(15:30, 10)
)

p1 &lt;- ggplot(dat, aes(x, y)) +
  geom_line(linetype = "12")

p1 +
  geom_chaikin()

p1 +
  geom_chaikin(iterations = 1)

triangle &lt;- data.frame(x = c(0, 0, 1), y = c(0, 1, 1))
p2 &lt;- ggplot(triangle, aes(x, y)) +
  geom_path(linetype = "12") +
  coord_equal()

# ratio let's you control
p2 + geom_chaikin(ratio = .1)
p2 + geom_chaikin(ratio = .5)

# closed parameter to generate a closed shape - or not
p2 + geom_chaikin(iterations = 5, ratio = 0.25, closed = FALSE) # default
p2 + geom_chaikin(closed = TRUE)

</code></pre>

<hr>
<h2 id='geom_lexis'>Display events of different cohorts in form of a lexis charts</h2><span id='topic+geom_lexis'></span><span id='topic+stat_lexis'></span>

<h3>Description</h3>

<p>This geom can be used to plot 45° lifelines for a cohort.
Lexis diagrams are named after Wilhelm Lexis and used by demographers
for more than a century.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_lexis(
  mapping = NULL,
  data = NULL,
  ...,
  point_show = TRUE,
  point_colour = NULL,
  point_size = deprecated(),
  gap_filler = TRUE,
  lineend = "round",
  linejoin = "round",
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE
)

stat_lexis(
  mapping = NULL,
  data = NULL,
  ...,
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="geom_lexis_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="geom_lexis_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_lexis_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer()</a></code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>colour = "red"</code> or <code>size = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
<tr><td><code id="geom_lexis_+3A_point_show">point_show</code></td>
<td>
<p>logical. Should a point be shown at the end
of each segment? TRUE by default</p>
</td></tr>
<tr><td><code id="geom_lexis_+3A_point_colour">point_colour</code></td>
<td>
<p>color of a point</p>
</td></tr>
<tr><td><code id="geom_lexis_+3A_point_size">point_size</code></td>
<td>
<p>deprecated, use <code>size</code></p>
</td></tr>
<tr><td><code id="geom_lexis_+3A_gap_filler">gap_filler</code></td>
<td>
<p>logical. Should gaps be filled?
TRUE by default</p>
</td></tr>
<tr><td><code id="geom_lexis_+3A_lineend">lineend</code></td>
<td>
<p>line end style (round, butt, square)</p>
</td></tr>
<tr><td><code id="geom_lexis_+3A_linejoin">linejoin</code></td>
<td>
<p>line join style (round, mitre, bevel)</p>
</td></tr>
<tr><td><code id="geom_lexis_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_lexis_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="geom_lexis_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This geom draws 45° lines from the start to the end of a 'lifetime'. It is
a combination of a segment, and a point.
Besides <code>y</code> and <code>yend</code> coordinates this geom creates one additional variable
called <code>type</code> in the layer data. You might want to map to an aesthetic with
<code><a href="ggplot2.html#topic+aes_eval">ggplot2::after_stat()</a></code>, see Examples section and <code>vignette("ggpointless")</code>
for more details.
</p>
<p>Rows in your data with either missing <code>x</code> or <code>xend</code> values will be removed
(your segments must start and end somewhere).
</p>


<h3>Aesthetics</h3>

<p>geom_lexis() understands the following aesthetics (required
aesthetics are in bold):
</p>

<ul>
<li> <p><strong>x</strong>
</p>
</li>
<li> <p><strong>xend</strong>
</p>
</li>
<li><p> alpha
</p>
</li>
<li><p> color
</p>
</li>
<li><p> fill
</p>
</li>
<li><p> group
</p>
</li>
<li><p> shape
</p>
</li>
<li><p> size
</p>
</li>
<li><p> linetype
</p>
</li>
<li><p> linewidth
</p>
</li>
<li><p> stroke
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>df1 &lt;- data.frame(
  key = c("A", "B", "B", "C", "D", "E"),
  start = c(0, 1, 6, 5, 6, 9),
  end = c(5, 4, 10, 9, 8, 11)
)
p &lt;- ggplot(df1, aes(x = start, xend = end, color = key))
p +
  geom_lexis()
p +
  geom_lexis(gap_filler = FALSE)
p +
  geom_lexis(aes(linetype = after_stat(type)),
    point_show = FALSE
  )

# change point appearance
p + geom_lexis(
  point_colour = "black",
  size = 3,
  shape = 21,
  fill = "white",
  stroke = 1
)

# missing values will be removed
df2 &lt;- data.frame(
  key = c("A", "B", "B", "C", "D"),
  start = c(0, 1, 7, 5, 6),
  end = c(5, 4, 13, 9, NA)
)
ggplot(df2, aes(x = start, xend = end, color = key)) +
  geom_lexis()

# Ideally, `x` values should be increasing, unlike
# in the next example
df3 &lt;- data.frame(x = Sys.Date() - 0:2, xend = Sys.Date() + 1:3)
ggplot(df3, aes(x = x, xend = xend)) +
  geom_lexis()

# If `x` is of class Date, `xend` can't be of class `POSIXt` or
# `POSIXct`. The error is thrown by the `scales::date_trans` function.
## Not run: 
ggplot(
  data.frame(x = Sys.Date(), xend = Sys.time()),
  aes(x = x, xend = xend)
) +
  geom_lexis()

## End(Not run)

</code></pre>

<hr>
<h2 id='geom_pointless'>Emphasize some observations with points</h2><span id='topic+geom_pointless'></span><span id='topic+stat_pointless'></span>

<h3>Description</h3>

<p>This is a wrapper around <code>geom_point()</code> with the one
additional argument: <code>location</code>. It allows to emphasize some
observations, namely the first, the last, the minima and/or maxima,
see examples. This geom is not particularly useful on its own, hence
its name, but hopefully in conjunction with <code>geom_line()</code> and friends.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_pointless(
  mapping = NULL,
  data = NULL,
  stat = "pointless",
  position = "identity",
  ...,
  location = "last",
  na.rm = FALSE,
  orientation = NA,
  show.legend = NA,
  inherit.aes = TRUE
)

stat_pointless(
  mapping = NULL,
  data = NULL,
  geom = "point",
  position = "identity",
  ...,
  location = "last",
  na.rm = FALSE,
  orientation = NA,
  show.legend = NA,
  inherit.aes = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="geom_pointless_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="geom_pointless_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_pointless_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="geom_pointless_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer()</a></code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>colour = "red"</code> or <code>size = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
<tr><td><code id="geom_pointless_+3A_location">location</code></td>
<td>
<p>A character vector specifying which observations
to highlight, default is <code>"last"</code>.</p>
</td></tr>
<tr><td><code id="geom_pointless_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_pointless_+3A_orientation">orientation</code></td>
<td>
<p>The orientation of the layer. The default (<code>NA</code>)
automatically determines the orientation from the aesthetic mapping.
In the rare event that this fails it can be given explicitly by
setting <code>orientation</code> to either <code>"x"</code> or <code>"y"</code>. See the Orientation
section for more detail.</p>
</td></tr>
<tr><td><code id="geom_pointless_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="geom_pointless_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_pointless_+3A_geom">geom</code>, <code id="geom_pointless_+3A_stat">stat</code></td>
<td>
<p>Overwrite the default connection between
<code>geom_pointless()</code> and <code>stat_pointless()</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>location</code> argument allows you to specify which observations
should be highlighted. If <code>location</code> is <code>"last"</code>, the default, a
single point will be plotted at the last non-missing observation.
The locations are determined in the order in which they appear in
the data &ndash; like <code>geom_path()</code> does compared to <code>geom_line()</code>.
See the <code>vignette("ggpointless")</code> for more details.
</p>


<h3>Overplotting</h3>

<p>Points may be plotted on top of one another. If <code>location</code> is set
to <code>"all"</code>, then the order in which points are plotted from top to
bottom is: <code>"first"</code> &gt; <code>"last"</code> &gt; <code>"minimum"</code> &gt; <code>"maximum"</code>.
Otherwise, the order is determined as specified in the <code>location</code> argument,
which also then applies to the order legend key labels, see examples.
</p>


<h3>Orientation</h3>

<p>This geom treats each axis differently and, can thus have two
orientations. Often the orientation is easy to deduce from a combination
of the given mappings and the types of positional scales in use. Thus,
ggplot2 will by default try to guess which orientation the layer should
have. Under rare circumstances, the orientation is ambiguous and guessing
may fail. In that case the orientation can be specified directly using
the orientation parameter, which can be either &quot;x&quot; or &quot;y&quot;. The value
gives the axis that the geom should run along, &quot;x&quot; being the default
orientation you would expect for the geom.
</p>


<h3>Aesthetics</h3>

<p>geom_pointless() understands the following aesthetics (required
aesthetics are in bold):
</p>

<ul>
<li> <p><strong>x</strong>
</p>
</li>
<li> <p><strong>y</strong>
</p>
</li>
<li><p> alpha
</p>
</li>
<li><p> color
</p>
</li>
<li><p> fill
</p>
</li>
<li><p> group
</p>
</li>
<li><p> shape
</p>
</li>
<li><p> size
</p>
</li>
<li><p> stroke
</p>
</li></ul>



<h3>Computed variables</h3>


<dl>
<dt>location</dt><dd><p>locations, returned as factor</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- seq(-pi, pi, length.out = 100)
y &lt;- outer(x, 1:5, FUN = function(x, y) sin(x * y))

df1 &lt;- data.frame(
  var1 = x,
  var2 = rowSums(y)
)

# not terribly useful on its own ...
p &lt;- ggplot(df1, aes(x = var1, y = var2))
p + geom_pointless()
p + geom_pointless(location = "all")

# ... but in conjunction with geom_line(), hopefully
p &lt;- p + geom_line()
p + geom_pointless()
p + geom_pointless(location = c("first", "last"))
p + geom_pointless(location = c("minimum", "maximum"))
p + geom_pointless(location = c("all"))

# The layer computes one additional variable, 'location',
# that you can map e.g. to the color aesthetic
p + geom_pointless(
  aes(color = after_stat(location)),
  location = c("all"),
  size = 3
)

# Example with missing first and last observations
set.seed(42)
df1 &lt;- data.frame(x = 1:10, y = c(NA, sample(1:8), NA))
ggplot(df1, aes(x, y)) +
  geom_line() +
  geom_pointless(location = c("first", "last"))

# Change the order in which points are drawn when they overlap
df1 &lt;- data.frame(var1 = 1:2, var2 = 1:2)
cols &lt;- c(
  "first" = "#f8766d",
  "last" = "#7cae00",
  "minimum" = "#00bfc4",
  "maximum" = "#c77cff"
)

p &lt;- ggplot(df1, aes(x = var1, y = var2)) +
  geom_path() +
  coord_equal() +
  # makes comparision easier
  scale_color_manual(values = cols)

# same as location = 'all'
p + geom_pointless(aes(color = after_stat(location)),
  location = c("first", "last", "minimum", "maximum")
) +
  labs(subtitle = "same as location = 'all'")

# reversed custom order
p + geom_pointless(aes(color = after_stat(location)),
  location = c("maximum", "minimum", "last", "first")
) +
  labs(subtitle = "custom order")

# same as location = 'all' again
p + geom_pointless(aes(color = after_stat(location)),
  location = c("maximum", "minimum", "last", "first", "all")
) +
  labs(subtitle = "same as location = 'all' again")

# Use stat_pointless() with a geom other than "point"
set.seed(42)
df1 &lt;- data.frame(x = 1:10, y = sample(1:10))
ggplot(df1, aes(x, y)) +
  geom_line() +
  stat_pointless(
    aes(yintercept = y, color = after_stat(location)),
    location = c("maximum", "minimum"),
    geom = "hline"
  )

# Example using facets
# https://stackoverflow.com/q/29375169
p &lt;- ggplot(economics_long, aes(x = date, y = value)) +
  geom_line() +
  facet_wrap(~variable, ncol = 1, scales = "free_y")

p +
  geom_pointless(
    aes(color = after_stat(location)),
    location = c("minimum", "maximum"),
    size = 2
  )

</code></pre>

<hr>
<h2 id='get_decades'>Given a year, get the decade</h2><span id='topic+get_decades'></span>

<h3>Description</h3>

<p>Given a year, get the decade
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_decades(years, anno_domini = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_decades_+3A_years">years</code></td>
<td>
<p>A numeric vector</p>
</td></tr>
<tr><td><code id="get_decades_+3A_anno_domini">anno_domini</code></td>
<td>
<p>logical; should only &quot;years of the Lord&quot; be considered?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string of the same length as year
</p>

<hr>
<h2 id='get_lexis'>Given a start, and end get the 'age' of an event</h2><span id='topic+get_lexis'></span>

<h3>Description</h3>

<p>Given a start, and end get the 'age' of an event
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_lexis(x, xend)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_lexis_+3A_x">x</code></td>
<td>
<p>A vector of mode numeric</p>
</td></tr>
<tr><td><code id="get_lexis_+3A_xend">xend</code></td>
<td>
<p>A vector of mode numeric</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame
</p>

<hr>
<h2 id='get_locations'>Subset input data based on locations</h2><span id='topic+get_locations'></span>

<h3>Description</h3>

<p>Given a data frame, this functions returns a subset. Returns a
data frame with either &quot;first&quot; row, &quot;last&quot; row and/or the row(s)
that contain minima or maxima
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_locations(
  data = NULL,
  location = c("first", "last", "minimum", "maximum", "all")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_locations_+3A_data">data</code></td>
<td>
<p>A <code>data.frame</code></p>
</td></tr>
<tr><td><code id="get_locations_+3A_location">location</code></td>
<td>
<p>A character string specifying which rows to return:
&quot;first&quot;, &quot;last&quot; (default), &quot;minimum&quot;, &quot;maximum&quot; or &quot;all&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame
</p>

<hr>
<h2 id='ggpointless-ggproto'>Base ggproto classes for ggpointless</h2><span id='topic+ggpointless-ggproto'></span><span id='topic+GeomLexis'></span><span id='topic+StatCatenary'></span><span id='topic+StatLexis'></span><span id='topic+StatPointless'></span><span id='topic+StatChaikin'></span>

<h3>Description</h3>

<p>If you are creating a new geom, stat, position, or scale in another package,
you'll need to extend from <code>ggplot2::Geom</code>, <code>ggplot2::Stat</code>,
<code>ggplot2::Position</code>, or <code>ggplot2::Scale</code>.
</p>


<h3>Details</h3>

<p>More info at <a href="https://ggplot2-book.org/">ggplot2-book.org</a>
</p>


<h3>See Also</h3>

<p>ggproto
</p>

<hr>
<h2 id='translate_shape_string'>Given a number, get the corresponding point shape</h2><span id='topic+translate_shape_string'></span>

<h3>Description</h3>

<p>Given a number, get the corresponding point shape
</p>


<h3>Usage</h3>

<pre><code class='language-R'>translate_shape_string(shape_string)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="translate_shape_string_+3A_shape_string">shape_string</code></td>
<td>
<p>character</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

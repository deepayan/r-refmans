<!DOCTYPE html><html><head><title>Help for package stray</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {stray}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#data_a'><p>A dataset with an outlier</p></a></li>
<li><a href='#data_b'><p>A bimodal dataset with a micro cluster</p></a></li>
<li><a href='#data_c'><p>A dataset with local anomalies and  micro clusters</p></a></li>
<li><a href='#data_d'><p>A wheel dataset with  two inliers</p></a></li>
<li><a href='#data_e'><p>A bimodal dataset with  an inlier</p></a></li>
<li><a href='#data_f'><p>A dataset with  an outlier</p></a></li>
<li><a href='#display_HDoutliers'><p>Display outliers with a scatterplot</p></a></li>
<li><a href='#find_HDoutliers'><p>Detect Anomalies in High Dimensional Data.</p></a></li>
<li><a href='#find_threshold'><p>Find Outlier Threshold</p></a></li>
<li><a href='#ped_data'><p>Dataset with pedestrian counts</p></a></li>
<li><a href='#stray'><p>stray: A package for robust anomaly detection in data streams with concept drift</p></a></li>
<li><a href='#use_KNN'><p>Find outliers using kNN distance with maximum gap</p></a></li>
<li><a href='#wheel1'><p>wheel data set with inlier and outlier.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Anomaly Detection in High Dimensional and Temporal Data</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.1</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.4.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>FNN, ggplot2, colorspace, pcaPP, stats, ks</td>
</tr>
<tr>
<td>Description:</td>
<td>
    This is a modification of 'HDoutliers' package. The 'HDoutliers' algorithm is a powerful 
    unsupervised algorithm for detecting anomalies in high-dimensional data, with a 
    strong theoretical foundation. However, it suffers from some limitations that 
    significantly hinder its performance level, under certain circumstances. This package 
    implements the algorithm proposed in Talagala, Hyndman and Smith-Miles (2019) 
    &lt;<a href="https://arxiv.org/abs/1908.04000">arXiv:1908.04000</a>&gt;  for detecting anomalies in high-dimensional data
    that addresses these limitations of 'HDoutliers' algorithm. We define an anomaly as an observation that deviates markedly from the majority
    with a large distance gap. An approach based on extreme value theory is used 
    for the anomalous threshold calculation.</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/pridiltal/stray/issues">https://github.com/pridiltal/stray/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.0</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-06-29 00:01:36 UTC; priyangatalagala</td>
</tr>
<tr>
<td>Author:</td>
<td>Priyanga Dilini Talagala
    <a href="https://orcid.org/0000-0003-2870-7449"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, cre],
  Rob J Hyndman <a href="https://orcid.org/0000-0002-2140-5352"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ths],
  Kate Smith-Miles [ths]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Priyanga Dilini Talagala &lt;pritalagala@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-06-29 04:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='data_a'>A dataset with an outlier</h2><span id='topic+data_a'></span>

<h3>Description</h3>

<p>A bivariate dataset with an outlier
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_a
</code></pre>


<h3>Format</h3>

<p>A data frame with 1001 rows and 3 variables:
</p>

<dl>
<dt>x </dt><dd><p>numerical variable</p>
</dd>
<dt>y </dt><dd><p>numerical variable</p>
</dd>
<dt>type</dt><dd><p>Type of a data point : Typical or Outlier</p>
</dd></dl>


<hr>
<h2 id='data_b'>A bimodal dataset with a micro cluster</h2><span id='topic+data_b'></span>

<h3>Description</h3>

<p>A bivariate dataset with two typical classes and a micor cluster
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_b
</code></pre>


<h3>Format</h3>

<p>A data frame with 2003 rows and 3 variables:
</p>

<dl>
<dt>x </dt><dd><p>numerical variable</p>
</dd>
<dt>y </dt><dd><p>numerical variable</p>
</dd>
<dt>type</dt><dd><p>Type of a data point : Typical or Outlier</p>
</dd></dl>


<hr>
<h2 id='data_c'>A dataset with local anomalies and  micro clusters</h2><span id='topic+data_c'></span>

<h3>Description</h3>

<p>A bivariate dataset with local anomalies and two  micro clusters
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_c
</code></pre>


<h3>Format</h3>

<p>A data frame with 1009 rows and 3 variables:
</p>

<dl>
<dt>x </dt><dd><p>numerical variable</p>
</dd>
<dt>y </dt><dd><p>numerical variable</p>
</dd>
<dt>type</dt><dd><p>Type of a data point : Typical or Outlier</p>
</dd></dl>


<hr>
<h2 id='data_d'>A wheel dataset with  two inliers</h2><span id='topic+data_d'></span>

<h3>Description</h3>

<p>A bivariate dataset with  two inliers. The inliers are very close to one another
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_d
</code></pre>


<h3>Format</h3>

<p>A data frame with 1002 rows and 3 variables:
</p>

<dl>
<dt>x </dt><dd><p>numerical variable</p>
</dd>
<dt>y </dt><dd><p>numerical variable</p>
</dd>
<dt>type</dt><dd><p>Type of a data point : Typical or Outlier</p>
</dd></dl>


<hr>
<h2 id='data_e'>A bimodal dataset with  an inlier</h2><span id='topic+data_e'></span>

<h3>Description</h3>

<p>A bimodal dataset with  an inlier. one typical class is a very dense  cluster,
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_e
</code></pre>


<h3>Format</h3>

<p>A data frame with 2001 rows and 3 variables:
</p>

<dl>
<dt>x </dt><dd><p>numerical variable</p>
</dd>
<dt>y </dt><dd><p>numerical variable</p>
</dd>
<dt>type</dt><dd><p>Type of a data point : Typical or Outlier</p>
</dd></dl>


<hr>
<h2 id='data_f'>A dataset with  an outlier</h2><span id='topic+data_f'></span>

<h3>Description</h3>

<p>A dataset with  an outlier. The typical class is a very dense cluster.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_f
</code></pre>


<h3>Format</h3>

<p>A data frame with 2001 rows and 3 variables:
</p>

<dl>
<dt>x </dt><dd><p>numerical variable</p>
</dd>
<dt>y </dt><dd><p>numerical variable</p>
</dd>
<dt>type</dt><dd><p>Type of a data point : Typical or Outlier</p>
</dd></dl>


<hr>
<h2 id='display_HDoutliers'>Display outliers with a scatterplot</h2><span id='topic+display_HDoutliers'></span>

<h3>Description</h3>

<p>Provide a 2D scatterplot of data for visual exploration.
For data with more than two dimensions, two dimensional scatterplot is produced
using the first two pricipal components.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>display_HDoutliers(data, out)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="display_HDoutliers_+3A_data">data</code></td>
<td>
<p>A vector, matrix, or data frame consisting of numerical variables.</p>
</td></tr>
<tr><td><code id="display_HDoutliers_+3A_out">out</code></td>
<td>
<p>A list containing output values produced by <code><a href="#topic+find_HDoutliers">find_HDoutliers</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot object of data space with detected outliers (if any).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data &lt;- c(rnorm(100), 7, 7.5, rnorm(100, 20), 45)
output &lt;- find_HDoutliers(data, knnsearchtype = "kd_tree")
display_HDoutliers(data, out = output)


data &lt;- rbind(matrix(rnorm(96), ncol = 2), c(10,12),c(3,7))
output &lt;- find_HDoutliers(data, knnsearchtype = "brute")
display_HDoutliers(data, out = output)


data &lt;- rbind(matrix(rnorm(144), ncol = 3), c(10,12,10),c(3,7,10))
output &lt;- find_HDoutliers(data, knnsearchtype = "brute")
display_HDoutliers(data, out = output)

</code></pre>

<hr>
<h2 id='find_HDoutliers'>Detect Anomalies in High Dimensional Data.</h2><span id='topic+find_HDoutliers'></span>

<h3>Description</h3>

<p>Detect anomalies in high dimensional data. This is a modification of
<code><a href="HDoutliers.html#topic+HDoutliers">HDoutliers</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find_HDoutliers(
  data,
  alpha = 0.01,
  k = 10,
  knnsearchtype = "brute",
  normalize = "unitize",
  p = 0.5,
  tn = 50
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="find_HDoutliers_+3A_data">data</code></td>
<td>
<p>A vector, matrix, or data frame consisting of numerical variables.</p>
</td></tr>
<tr><td><code id="find_HDoutliers_+3A_alpha">alpha</code></td>
<td>
<p>Threshold for determining the cutoff for outliers. Observations are considered
outliers if they fall in the <code class="reqn">(1- alpha)</code> tail of the distribution of the nearest-neighbor
distances between exemplars.</p>
</td></tr>
<tr><td><code id="find_HDoutliers_+3A_k">k</code></td>
<td>
<p>Number of neighbours considered.</p>
</td></tr>
<tr><td><code id="find_HDoutliers_+3A_knnsearchtype">knnsearchtype</code></td>
<td>
<p>A character vector indicating the search type for k- nearest-neighbors.</p>
</td></tr>
<tr><td><code id="find_HDoutliers_+3A_normalize">normalize</code></td>
<td>
<p>Method to normalize the columns of the data. This prevents variables with large variances
having disproportional influence on Euclidean distances. Two options are available &quot;standardize&quot; or &quot;unitize&quot;.
Default is set to &quot;unitize&quot;</p>
</td></tr>
<tr><td><code id="find_HDoutliers_+3A_p">p</code></td>
<td>
<p>Proportion of possible candidates for outliers. This defines the starting point for the
bottom up searching algorithm. Default is set to 0.5.</p>
</td></tr>
<tr><td><code id="find_HDoutliers_+3A_tn">tn</code></td>
<td>
<p>Sample size to calculate an emperical threshold. Default is set to 50.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The indexes of the observations determined to be outliers.
</p>


<h3>References</h3>

<p>Wilkinson, L. (2018), 'Visualizing big data
outliers through distributed aggregation', IEEE
transactions on visualization and computer graphics 24(1), 256-266.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>require(ggplot2)
set.seed(1234)
data &lt;- c(rnorm(1000, mean = -6), 0, rnorm(1000, mean = 6))
outliers &lt;- find_HDoutliers(data, knnsearchtype = "kd_tree")



set.seed(1234)
n &lt;- 1000 # number of observations
nout &lt;- 10 # number of outliers
typical_data &lt;- matrix(rnorm(2 * n), ncol = 2, byrow = TRUE)
out &lt;- matrix(5 * runif(2 * nout, min = -5, max = 5), ncol = 2, byrow = TRUE)
data &lt;- rbind(out, typical_data)
outliers &lt;- find_HDoutliers(data, knnsearchtype = "brute")

</code></pre>

<hr>
<h2 id='find_threshold'>Find Outlier Threshold</h2><span id='topic+find_threshold'></span>

<h3>Description</h3>

<p>Find Outlier Threshold
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find_threshold(outlier_score, alpha, outtail = c("max", "min"), p, tn)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="find_threshold_+3A_outlier_score">outlier_score</code></td>
<td>
<p>A vector of outlier scores. Can be a named vector or a vector with no names.</p>
</td></tr>
<tr><td><code id="find_threshold_+3A_alpha">alpha</code></td>
<td>
<p>Threshold for determining the cutoff for outliers. Observations are considered
outliers if they fall in the <code class="reqn">(1- alpha)</code> tail of the distribution of the nearest-neighbor
distances between exemplars.</p>
</td></tr>
<tr><td><code id="find_threshold_+3A_outtail">outtail</code></td>
<td>
<p>Direction of the outlier tail.</p>
</td></tr>
<tr><td><code id="find_threshold_+3A_p">p</code></td>
<td>
<p>Proportion of possible candidates for outliers. This defines the starting point for the
bottom up searching algorithm.</p>
</td></tr>
<tr><td><code id="find_threshold_+3A_tn">tn</code></td>
<td>
<p>Sample size to calculate an empirical threshold</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The indexes (or names, if the input is named vactor) of the observations determined to be outliers.
</p>

<hr>
<h2 id='ped_data'>Dataset with pedestrian counts</h2><span id='topic+ped_data'></span>

<h3>Description</h3>

<p>A dataset with  hourly pedestrian counts at 43 locations in the
city Melbourne, australia, from 1 December, 2018 to 1, January, 2019.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ped_data
</code></pre>


<h3>Format</h3>

<p>A data frame with 33024 rows and 5 variables:
</p>

<dl>
<dt>Sensor </dt><dd><p>Sensor location</p>
</dd>
<dt>Date_Time </dt><dd><p>Time and date </p>
</dd>
<dt>Date</dt><dd><p>Date</p>
</dd>
<dt>Time</dt><dd><p>Time</p>
</dd>
<dt>Count</dt><dd><p>Pedestrian count</p>
</dd></dl>


<hr>
<h2 id='stray'>stray: A package for robust anomaly detection in data streams with concept drift</h2><span id='topic+stray'></span>

<h3>Description</h3>

<p>This package is a modification of <code><a href="HDoutliers.html#topic+HDoutliers">HDoutliers</a></code> package. <code>HDoutliers</code> is a powerful algorithm for the
detection of anomalous observations in a dataset, which has (among other advantages) the ability to detect
clusters of outliers in multi-dimensional data without requiring a model of the typical behavior of the system.
However, it suffers from some limitations that affect its accuracy. In this package, we propose solutions to
the limitations of HDoutliers, and propose an extension of the algorithm to deal with data streams that exhibit
non-stationary behavior. The results show that our proposed algorithm improves the accuracy, and enables the
trade-off between false positives and negatives to be better balanced.
</p>


<h3>Note</h3>

<p>The name <code>stray</code> comes from <code>Search and TRace AnomalY</code>
</p>


<h3>References</h3>

<p>Talagala, P. D., Hyndman, R. J., &amp; Smith-Miles, K. (2019). Anomaly Detection in High Dimensional Data.
<a href="https://www.monash.edu/business/ebs/research/publications/ebs/wp20-2019.pdf">https://www.monash.edu/business/ebs/research/publications/ebs/wp20-2019.pdf</a>
</p>
<p>Wilkinson, L. (2017). Visualizing big data outliers through distributed
aggregation. IEEE transactions on visualization and computer graphics, 24(1), 256-266.
<a href="https://www.cs.uic.edu/~wilkinson/Publications/outliers.pdf">https://www.cs.uic.edu/~wilkinson/Publications/outliers.pdf</a>
</p>


<h3>See Also</h3>

<p>The core functions in this package:  <code><a href="#topic+find_HDoutliers">find_HDoutliers</a></code>,
<code><a href="#topic+display_HDoutliers">display_HDoutliers</a></code>
</p>
<p>Full documentation and demos:
</p>

<hr>
<h2 id='use_KNN'>Find outliers using kNN distance with maximum gap</h2><span id='topic+use_KNN'></span>

<h3>Description</h3>

<p>Find outliers using kNN distance with maximum gap
</p>


<h3>Usage</h3>

<pre><code class='language-R'>use_KNN(data, alpha, k, knnsearchtype, p, tn)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="use_KNN_+3A_data">data</code></td>
<td>
<p>A vector, matrix, or data frame consisting of numeric and/or categorical variables.</p>
</td></tr>
<tr><td><code id="use_KNN_+3A_alpha">alpha</code></td>
<td>
<p>Threshold for determining the cutoff for outliers. Observations are considered
outliers outliers if they fall in the <code class="reqn">(1- alpha)</code> tail of the distribution of the nearest-neighbor
distances between exemplars.</p>
</td></tr>
<tr><td><code id="use_KNN_+3A_k">k</code></td>
<td>
<p>Number of neighbours considered.</p>
</td></tr>
<tr><td><code id="use_KNN_+3A_knnsearchtype">knnsearchtype</code></td>
<td>
<p>A character vector indicating the search type for k- nearest-neighbors.</p>
</td></tr>
<tr><td><code id="use_KNN_+3A_p">p</code></td>
<td>
<p>Proportion of possible candidates for outliers. This defines the starting point for the
bottom up searching algorithm.</p>
</td></tr>
<tr><td><code id="use_KNN_+3A_tn">tn</code></td>
<td>
<p>Sample size to calculate an emperical threshold. Default is set to 50.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The indexes of the observations determined to be outliers and the outlying scores.
</p>

<hr>
<h2 id='wheel1'>wheel data set with inlier and outlier.</h2><span id='topic+wheel1'></span>

<h3>Description</h3>

<p>A bivariate dataset with an inlier and  anoutlier
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wheel1
</code></pre>


<h3>Format</h3>

<p>A data frame with 1002 rows and 3 variables:
</p>

<dl>
<dt>x </dt><dd><p>numerical variable</p>
</dd>
<dt>y </dt><dd><p>numerical variable</p>
</dd>
<dt>type</dt><dd><p>Type of a data point : Typical or Outlier</p>
</dd></dl>


</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

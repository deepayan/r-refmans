<!DOCTYPE html><html><head><title>Help for package tsvio</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {tsvio}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#tsvGenIndex'><p>Produce a simple index of a tsv file.</p></a></li>
<li><a href='#tsvGetData'><p>Read matching lines from a tsv file, using a pre-computed index file.</p></a></li>
<li><a href='#tsvGetLines'><p>Read matching lines from a tsv file, using a pre-computed index file.</p></a></li>
<li><a href='#tsvio-package'><p>tsvio: Simple Utilities for Tab Separated Value (TSV) Files</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Simple Utilities for Tab-Separated-Value (TSV) Files</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.6</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.4.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0), knitr, rmarkdown</td>
</tr>
<tr>
<td>Description:</td>
<td>Utilities for rapidly loading specified rows and/or columns of data from large tab-separated value (tsv) files (large: e.g. 1 GB file of 10000 x 10000 matrix). 'tsvio' is an R wrapper to 'C' code that creates an index file for the rows of the tsv file, and uses that index file to collect rows and/or columns from the tsv file without reading the whole file into memory.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/MD-Anderson-Bioinformatics/tsvio">https://github.com/MD-Anderson-Bioinformatics/tsvio</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>Yes</td>
</tr>
<tr>
<td>Collate:</td>
<td>'interface.R'</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-11-28 14:20:09 UTC; marohrdanz</td>
</tr>
<tr>
<td>Author:</td>
<td>Bradley M Broom <a href="https://orcid.org/0000-0002-0915-3164"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Mary A Rohrdanz [ctb, cre],
  Chris Wakefield [ctb],
  James Melott [ctb],
  Paul Hsieh [ctb],
  MD Anderson Cancer Center [cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Mary A Rohrdanz &lt;marohrdanz@mdanderson.org&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-11-28 17:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='tsvGenIndex'>Produce a simple index of a tsv file.</h2><span id='topic+tsvGenIndex'></span>

<h3>Description</h3>

<p>This function reads a TSV file and produces an index to the start of each row.
The TSV file is required to have a header line and at least one data line.  The header line may
contain either the same number or one fewer columns than the data lines, which must all contain
the same number of columns.  The first column of each data line will be indexed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tsvGenIndex(filename, indexfile)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tsvGenIndex_+3A_filename">filename</code></td>
<td>
<p>The name (and path) of the file(s) containing the data to index.</p>
</td></tr>
<tr><td><code id="tsvGenIndex_+3A_indexfile">indexfile</code></td>
<td>
<p>The name (and path) of the file(s) to which the index will be written.  There must
be exactly one index file for every filename.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>NULL. This function generates an index file.
</p>


<h3>See Also</h3>

<p>tsvGetLines, tsvGetData
</p>


<h3>Examples</h3>

<pre><code class='language-R'>datafile = tempfile("data");
df &lt;- data.frame(C1 = c("Foo", "Boing", "The"), C2 = c("Bar", "Boing", "End"));
rownames(df) &lt;- c("R1", "R2", "R3");
write.table(df, file=datafile, sep="\t", quote=FALSE, row.names=TRUE, col.names=TRUE);
indexfile = tempfile("index");
tsvGenIndex (datafile, indexfile)

</code></pre>

<hr>
<h2 id='tsvGetData'>Read matching lines from a tsv file, using a pre-computed index file.</h2><span id='topic+tsvGetData'></span>

<h3>Description</h3>

<p>This function reads lines that match the given patterns from a TSV file with the assistance of
a pre-computed index file to the start of each row.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tsvGetData(
  filename,
  indexfile,
  rowpatterns,
  colpatterns,
  dtype = "",
  findany = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tsvGetData_+3A_filename">filename</code></td>
<td>
<p>The name (and path) of the file containing the data to index.</p>
</td></tr>
<tr><td><code id="tsvGetData_+3A_indexfile">indexfile</code></td>
<td>
<p>The name (and path) of the file to which the index will be written.</p>
</td></tr>
<tr><td><code id="tsvGetData_+3A_rowpatterns">rowpatterns</code></td>
<td>
<p>A vector of strings containing the string to match against the index entries.  Only
lines with keys that exactly match at least one pattern string are returned.  If rowpatterns is NULL,
data from all rows is returned.</p>
</td></tr>
<tr><td><code id="tsvGetData_+3A_colpatterns">colpatterns</code></td>
<td>
<p>A vector of strings to match against the column headers in the first row</p>
</td></tr>
<tr><td><code id="tsvGetData_+3A_dtype">dtype</code></td>
<td>
<p>A prototype element that specifies by example the type of matrix to return.  The
value of the parameter is ignored.  Accepted types are string (default), numeric (float), and integer.</p>
</td></tr>
<tr><td><code id="tsvGetData_+3A_findany">findany</code></td>
<td>
<p>If false, all patterns must be matched. If true (default) at least one pattern must match.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The index file must have been created by tsvGenIndex and the data file must not have changed
since the index file was created.
</p>


<h3>Value</h3>

<p>A matrix containing one row for each matched line and one column for each matched column.
</p>


<h3>See Also</h3>

<p>tsvGenIndex, tsvGetLines
</p>


<h3>Examples</h3>

<pre><code class='language-R'>datafile = tempfile("data");
df &lt;- data.frame(C1 = c("Foo", "Boing", "The"), C2 = c("Bar", "Boing", "End"));
rownames(df) &lt;- c("R1", "R2", "R3");
write.table(df, file=datafile, sep="\t", quote=FALSE, row.names=TRUE, col.names=TRUE);
indexfile = tempfile("index");
tsvGenIndex (datafile, indexfile);
tsvGetData (datafile, indexfile, c("R1", "R3"), c('C2'))

</code></pre>

<hr>
<h2 id='tsvGetLines'>Read matching lines from a tsv file, using a pre-computed index file.</h2><span id='topic+tsvGetLines'></span>

<h3>Description</h3>

<p>This function reads lines that match the given patterns from a TSV file with the assistance of
a pre-computed index file to the start of each row.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tsvGetLines(filename, indexfile, patterns, findany = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tsvGetLines_+3A_filename">filename</code></td>
<td>
<p>The name (and path) of the file containing the data to index.</p>
</td></tr>
<tr><td><code id="tsvGetLines_+3A_indexfile">indexfile</code></td>
<td>
<p>The name (and path) of the file to which the index will be written.</p>
</td></tr>
<tr><td><code id="tsvGetLines_+3A_patterns">patterns</code></td>
<td>
<p>A vector of strings containing the string to match against the index entries.  Only
lines with keys that exactly match at least one pattern string are returned.</p>
</td></tr>
<tr><td><code id="tsvGetLines_+3A_findany">findany</code></td>
<td>
<p>If false, all patterns must be matched. If true (default) at least one pattern must match.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The index file must have been created by tsvGenIndex and the data file must not have changed
since the index file was created.
</p>


<h3>Value</h3>

<p>A string vector whose first element is the first line from data file. Subsequent elements of the
vector are lines from the data file whose labels match an entry in patterns.
</p>


<h3>See Also</h3>

<p>tsvGenIndex, tscGetData
</p>


<h3>Examples</h3>

<pre><code class='language-R'>datafile = tempfile("data");
df &lt;- data.frame(C1 = c("Foo", "Boing", "The"), C2 = c("Bar", "Boing", "End"));
rownames(df) &lt;- c("R1", "R2", "R3");
write.table(df, file=datafile, sep="\t", quote=FALSE, row.names=TRUE, col.names=TRUE);
indexfile = tempfile("index");
tsvGenIndex (datafile, indexfile);
tsvGetLines (datafile, indexfile, c("R1", "R3"))

</code></pre>

<hr>
<h2 id='tsvio-package'>tsvio: Simple Utilities for Tab Separated Value (TSV) Files</h2><span id='topic+tsvio-package'></span>

<h3>Description</h3>

<p>Simple Utilities for Tab Separated Value (TSV) Files
</p>


<h3>Details</h3>

<p>Utilities for indexing and rapidly loading (subsets of) data from (large) tab separated value (TSV) files.
The TSV files are required to have a unique row label in the first column of each line and a unique
column label in the first line of the file.
Files may be formatted in either spreadsheet/Unix format (same number of fields on each line) or R format
(one less column on the first line only).
The data matrix in the files are expected to have the same data types in all entries.  (The row and column
labels are always expected to be strings.)
</p>


<h3>See Also</h3>

<p>tsvGenIndex, tsvGetLines, tsvGetData
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

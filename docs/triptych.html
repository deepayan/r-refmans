<!DOCTYPE html><html><head><title>Help for package triptych</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {triptych}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#accessors'><p>Accessing original forecast and observation data for triptych objects</p></a></li>
<li><a href='#add_confidence'><p>Adding confidence regions</p></a></li>
<li><a href='#add_consistency'><p>Adding consistency regions for reliability curves</p></a></li>
<li><a href='#estimates'><p>Accessing diagnostic estimate data</p></a></li>
<li><a href='#ex_binary'><p>Example data set of binary observations and probability forecasts</p></a></li>
<li><a href='#mcbdsc'><p>Evaluation of forecasts using score decompositions</p></a></li>
<li><a href='#murphy'><p>Evaluation of forecasts using Murphy curves</p></a></li>
<li><a href='#plot.triptych'><p>Plot methods for the triptych classes</p></a></li>
<li><a href='#reexports'><p>Objects exported from other packages</p></a></li>
<li><a href='#regions'><p>Accessing confidence/consistency region data</p></a></li>
<li><a href='#reliability'><p>Evaluation of forecasts using reliability curves</p></a></li>
<li><a href='#resampling_Bernoulli'><p>Bootstrap (binary) observation resampling for triptych objects</p></a></li>
<li><a href='#resampling_cases'><p>Bootstrap case resampling for triptych objects</p></a></li>
<li><a href='#roc'><p>Evaluation of forecasts using ROC curves</p></a></li>
<li><a href='#triptych'><p>Evaluation of forecasts using a Triptych</p></a></li>
<li><a href='#triptych-vctrs'><p>Internal vctrs methods</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Diagnostic Graphics to Evaluate Forecast Performance</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.2</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/aijordan/triptych/">https://github.com/aijordan/triptych/</a>,
<a href="https://aijordan.github.io/triptych/">https://aijordan.github.io/triptych/</a></td>
</tr>
<tr>
<td>Description:</td>
<td>Overall predictive performance is measured by a mean score
    (or loss), which decomposes into miscalibration, discrimination, and
    uncertainty components. The main focus is visualization of these distinct
    and complementary aspects in joint displays.
    See Dimitriadis, Gneiting, Jordan, Vogel (2023) &lt;<a href="https://doi.org/10.48550/arXiv.2301.10803">doi:10.48550/arXiv.2301.10803</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.2)</td>
</tr>
<tr>
<td>Imports:</td>
<td>ggplot2, patchwork, pROC, monotone, tidyr, vctrs, dplyr,
purrr, tibble, rlang, tidyselect, class, scales, geomtextpath,
ggrepel</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>C++20</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>cpp11</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-10-02 18:32:30 UTC; jordanar</td>
</tr>
<tr>
<td>Author:</td>
<td>Timo Dimitriadis [aut, cph],
  Alexander I. Jordan [aut, cre, cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Alexander I. Jordan &lt;alexander.jordan@h-its.org&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-10-03 16:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='accessors'>Accessing original forecast and observation data for triptych objects</h2><span id='topic+accessors'></span><span id='topic+forecasts'></span><span id='topic+observations'></span>

<h3>Description</h3>

<p>Accessing original forecast and observation data for triptych objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>forecasts(x, ...)

observations(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="accessors_+3A_x">x</code></td>
<td>
<p>An object from which the relevant information should be extracted.</p>
</td></tr>
<tr><td><code id="accessors_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to other methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>For <code>forecasts()</code>: A tibble of the original forecasts in long format.
</p>
<p>For <code>observations()</code>: A vector of the observations.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+estimates">estimates()</a></code>, <code><a href="#topic+regions">regions()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(ex_binary, package = "triptych")
tr &lt;- triptych(ex_binary)

forecasts(tr)
observations(tr) 

</code></pre>

<hr>
<h2 id='add_confidence'>Adding confidence regions</h2><span id='topic+add_confidence'></span>

<h3>Description</h3>

<p>Confidence regions are supposed to contain the true &quot;parameter&quot; with a given degree of confidence.
Here, &quot;parameter&quot; refers to a murphy curve, a reliability curve, or a ROC curve, respectively.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_confidence(x, level = 0.9, method = "resampling_cases", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_confidence_+3A_x">x</code></td>
<td>
<p>An object to which a confidence region should be added.</p>
</td></tr>
<tr><td><code id="add_confidence_+3A_level">level</code></td>
<td>
<p>A single value for the level of confidence.</p>
</td></tr>
<tr><td><code id="add_confidence_+3A_method">method</code></td>
<td>
<p>A string that gives the name of method to generate the confidence regions. Currently, one of: &quot;resampling_cases&quot;, &quot;resampling_Bernoulli&quot;.</p>
</td></tr>
<tr><td><code id="add_confidence_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The object given to <code>x</code>, but with information about the confidence regions.
This information can be accessed conveniently by using <code><a href="#topic+regions">regions()</a></code> on the
curve component of interest.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+resampling_cases">resampling_cases()</a></code>, <code><a href="#topic+resampling_Bernoulli">resampling_Bernoulli()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(ex_binary, package = "triptych")

tr &lt;- triptych(ex_binary) |&gt;
  dplyr::slice(1, 9)

# Bootstrap resampling is expensive
# (the number of bootstrap samples is small to keep execution times short)

tr &lt;- add_confidence(tr, level = 0.9, method = "resampling_cases", n_boot = 20)
regions(tr$murphy)
regions(tr$reliability)
regions(tr$roc)

</code></pre>

<hr>
<h2 id='add_consistency'>Adding consistency regions for reliability curves</h2><span id='topic+add_consistency'></span>

<h3>Description</h3>

<p>Consistency regions are created under the assumption that the forecasts are calibrated.
A reliability curve that significantly violates the consistency region indicates
a miscalibrated forecast.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_consistency(x, level = 0.9, method = "resampling_Bernoulli", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_consistency_+3A_x">x</code></td>
<td>
<p>An object to which a consistency region should be added.</p>
</td></tr>
<tr><td><code id="add_consistency_+3A_level">level</code></td>
<td>
<p>A single value for the level of confidence.</p>
</td></tr>
<tr><td><code id="add_consistency_+3A_method">method</code></td>
<td>
<p>A string that gives the name of method to generate the consistency regions. Currently, only: &quot;resampling_Bernoulli&quot;.</p>
</td></tr>
<tr><td><code id="add_consistency_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The object given to <code>x</code>, but with information about the consistency regions.
This information can be accessed conveniently by using <code><a href="#topic+regions">regions()</a></code> on the
reliability curve component.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+resampling_Bernoulli">resampling_Bernoulli()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(ex_binary, package = "triptych")

tr &lt;- triptych(ex_binary) |&gt;
  dplyr::slice(1, 9)

# Bootstrap resampling is expensive
# (the number of bootstrap samples is small to keep execution times short)

tr &lt;- add_consistency(tr, level = 0.9, method = "resampling_Bernoulli", n_boot = 20)
regions(tr$reliability)

</code></pre>

<hr>
<h2 id='estimates'>Accessing diagnostic estimate data</h2><span id='topic+estimates'></span><span id='topic+estimates.triptych_mcbdsc'></span><span id='topic+estimates.triptych_murphy'></span><span id='topic+estimates.triptych_reliability'></span><span id='topic+estimates.triptych_roc'></span>

<h3>Description</h3>

<p>Accessing diagnostic estimate data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>estimates(x, at, ...)

## S3 method for class 'triptych_mcbdsc'
estimates(x, ...)

## S3 method for class 'triptych_murphy'
estimates(x, at = NULL, ...)

## S3 method for class 'triptych_reliability'
estimates(x, at = NULL, ...)

## S3 method for class 'triptych_roc'
estimates(x, at = NULL, p1 = mean(observations(x)), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="estimates_+3A_x">x</code></td>
<td>
<p>An object from which the estimate information should be extracted.</p>
</td></tr>
<tr><td><code id="estimates_+3A_at">at</code></td>
<td>
<p>A vector of thresholds where <code>x</code> should be evaluated.</p>
</td></tr>
<tr><td><code id="estimates_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to other methods.</p>
</td></tr>
<tr><td><code id="estimates_+3A_p1">p1</code></td>
<td>
<p>The unconditional event probability. Used in combination with <code>at</code>
to determine the diagonal lines along which to determine the estimate.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with the relevant information describing
the diagnostic estimate
(Murphy curve, reliability curve, ROC curve, score decomposition)
for all supplied forecasting methods.
</p>
<p>For a Murphy curve, a tibble with columns: <code>forecast</code>, <code>knot</code> (the threshold value), <code>limit</code> (&quot;left&quot; or &quot;right&quot; in <code>knot</code>, only present if <code>at = NULL</code>), <code>mean_score</code>.
</p>
<p>For a reliability curve, a tibble with columns: <code>forecast</code>, <code>CEP</code>, <code>x</code> (the knots of the isotonic regression estimate).
</p>
<p>For a ROC curve, a tibble with columns: <code>forecast</code>, <code>FAR</code> (false alarm rate), <code>HR</code> (hit rate).
</p>
<p>For a MCBDSC decomposition, a tibble with columns: <code>forecast</code>, <code>mean_score</code>, <code>MCB</code> (miscalibration), <code>DSC</code> (discrimination), <code>UNC</code> (uncertainty).
</p>


<h3>See Also</h3>

<p><code><a href="#topic+regions">regions()</a></code>, <code><a href="#topic+forecasts">forecasts()</a></code>, <code><a href="#topic+observations">observations()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(ex_binary, package = "triptych")
tr &lt;- triptych(ex_binary)

estimates(tr$murphy)
estimates(tr$reliability)
estimates(tr$roc)
estimates(tr$mcbdsc)

</code></pre>

<hr>
<h2 id='ex_binary'>Example data set of binary observations and probability forecasts</h2><span id='topic+ex_binary'></span>

<h3>Description</h3>

<p>The forecasts X01 to X10 are generated in such a way that their discrimination ability
is neatly decreasing. In addition, X01 and X06 are &quot;calibrated&quot;, X02 and X07 are &quot;underconfident&quot;,
X03 and X08 are &quot;overconfident&quot;, X04 and X09 exhibit &quot;negative bias&quot;, and X05 and X10 exhibit &quot;positive bias&quot;.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ex_binary
</code></pre>


<h3>Format</h3>

<p>A data frame with 1,000 rows and 11 columns, generated as described in 'Details':
</p>

<dl>
<dt>y</dt><dd><p>observations</p>
</dd>
<dt>X01</dt><dd><p>forecasts, full information, calibrated: <code class="reqn">a = 1</code>, <code class="reqn">b = 1</code></p>
</dd>
<dt>X02</dt><dd><p>forecasts, less information than X01, underconfident: <code class="reqn">a = 1/4</code>, <code class="reqn">b = 1/4</code></p>
</dd>
<dt>X03</dt><dd><p>forecasts, less information than X02, overconfident: <code class="reqn">a = 4</code>, <code class="reqn">b = 4</code></p>
</dd>
<dt>X04</dt><dd><p>forecasts, less information than X03, negative bias: <code class="reqn">a = 5/3</code>, <code class="reqn">b = 3/5</code></p>
</dd>
<dt>X05</dt><dd><p>forecasts, less information than X04, positive bias: <code class="reqn">a = 3/5</code>, <code class="reqn">b = 5/3</code></p>
</dd>
<dt>X06</dt><dd><p>forecasts, less information than X05, calibrated: <code class="reqn">a = 1</code>, <code class="reqn">b = 1</code></p>
</dd>
<dt>X07</dt><dd><p>forecasts, less information than X06, underconfident: <code class="reqn">a = 1/4</code>, <code class="reqn">b = 1/4</code></p>
</dd>
<dt>X08</dt><dd><p>forecasts, less information than X07, overconfident: <code class="reqn">a = 4</code>, <code class="reqn">b = 4</code></p>
</dd>
<dt>X09</dt><dd><p>forecasts, less information than X08, negative bias: <code class="reqn">a = 5/3</code>, <code class="reqn">b = 3/5</code></p>
</dd>
<dt>X10</dt><dd><p>forecasts, least information, positive bias: <code class="reqn">a = 2/3</code>, <code class="reqn">b = 3/2</code></p>
</dd>
</dl>



<h3>Details</h3>

<p>The observations are generated from a Bernoulli distribution, where the
success probability is determined by ten sources of information. That is,
the probability is given by
</p>
<p style="text-align: center;"><code class="reqn">p = \Phi(\sum_{i = 1}^{10} Z_i),</code>
</p>

<p>where <code class="reqn">Z_i</code>, <code class="reqn">i = 1, ..., 10,</code> are independent standard Gaussian random
variables, and <code class="reqn">\Phi</code> denotes the cumulative distribution function of the
standard Gaussian distribution.
</p>
<p>The corresponding forecasts are named in decreasing order of access to these
latent Gaussian variables (that is, information content). In a first step,
calibrated forecasts are generated by
<code class="reqn">p[j] = \Phi(\frac{1}{j}\sum_{i = j}^{10} Z_i)</code>.
Subsequently, these probabilities are perturbed to introduce miscalibration
using the cumulative distribution function <code class="reqn">F</code> of the beta distribution, yielding
the final forecasts
</p>
<p style="text-align: center;"><code class="reqn">X[j] = F(p[j]; a, b),</code>
</p>

<p>where <code class="reqn">a</code> and <code class="reqn">b</code> are the positive shape parameters (see <code><a href="stats.html#topic+pbeta">pbeta()</a></code>).
</p>

<hr>
<h2 id='mcbdsc'>Evaluation of forecasts using score decompositions</h2><span id='topic+mcbdsc'></span><span id='topic+as_mcbdsc'></span>

<h3>Description</h3>

<p>A score decomposition splits the mean score into the three components of
miscalibration (MCB), discrimination (DSC), and uncertainty (UNC). Plotting
the DSC component against the MCB component allows for a quick visual
inspection of predictive performance for many forecasting methods.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mcbdsc(x, y_var = "y", ..., y = NULL, score = "Brier_score")

as_mcbdsc(x, r)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mcbdsc_+3A_x">x</code></td>
<td>
<p>A data frame, list, matrix, or other object that can be coerced to a tibble. Contains numeric forecasts, and observations (optional).</p>
</td></tr>
<tr><td><code id="mcbdsc_+3A_y_var">y_var</code></td>
<td>
<p>A variable in <code>x</code> that contains observations. Specified as the argument <code>var</code>in <code><a href="dplyr.html#topic+pull">dplyr::pull()</a></code>.</p>
</td></tr>
<tr><td><code id="mcbdsc_+3A_...">...</code></td>
<td>
<p>Unused.</p>
</td></tr>
<tr><td><code id="mcbdsc_+3A_y">y</code></td>
<td>
<p>A numeric vector of observations. If supplied, overrides <code>y_var</code>. Otherwise, defaults to <code>dplyr::pull(x, y_var)</code>.</p>
</td></tr>
<tr><td><code id="mcbdsc_+3A_score">score</code></td>
<td>
<p>A string specifying the score function.
One of: <code>"Brier_score"</code> (default), <code>"log_score"</code>, <code>"MR_score"</code>.</p>
</td></tr>
<tr><td><code id="mcbdsc_+3A_r">r</code></td>
<td>
<p>A reference triptych_mcbdsc object whose attributes are used for casting.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>triptych_mcbdsc</code> object, that is a <code>vctrs_vctr</code> subclass, and has
a length equal to number of forecasting methods supplied in <code>x</code>. Each entry
is named according to the corresponding forecasting method,
and contains a list of named objects:
</p>

<ul>
<li> <p><code>estimate</code>: A data frame of the score decomposition.
</p>
</li>
<li> <p><code>region</code>: An empty list. Adding confidence regions is not yet supported.
</p>
</li>
<li> <p><code>x</code>: The numeric vector of original forecasts.
</p>
</li></ul>

<p>Access is most convenient through <code><a href="#topic+estimates">estimates()</a></code>, <code><a href="#topic+regions">regions()</a></code>, and <code><a href="#topic+forecasts">forecasts()</a></code>.
</p>


<h3>See Also</h3>

<p>Accessors: <code><a href="#topic+estimates">estimates()</a></code>, <code><a href="#topic+regions">regions()</a></code>, <code><a href="#topic+forecasts">forecasts()</a></code>, <code><a href="#topic+observations">observations()</a></code>
</p>
<p>Visualization: <code><a href="#topic+plot.triptych_mcbdsc">plot.triptych_mcbdsc()</a></code>, <code><a href="#topic+autoplot.triptych_mcbdsc">autoplot.triptych_mcbdsc()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(ex_binary, package = "triptych")

md &lt;- mcbdsc(ex_binary)
md

autoplot(md)
estimates(md)

</code></pre>

<hr>
<h2 id='murphy'>Evaluation of forecasts using Murphy curves</h2><span id='topic+murphy'></span><span id='topic+as_murphy'></span>

<h3>Description</h3>

<p>A Murphy curve visualizes economic utility by displaying the mean elementary
scores across all threshold values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>murphy(x, y_var = "y", ref_var = "ref", ..., y = NULL, ref = NULL)

as_murphy(x, r)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="murphy_+3A_x">x</code></td>
<td>
<p>A data frame, list, matrix, or other object that can be coerced to a tibble. Contains numeric forecasts, and observations (optional).</p>
</td></tr>
<tr><td><code id="murphy_+3A_y_var">y_var</code></td>
<td>
<p>A variable in <code>x</code> that contains observations. Specified as the argument <code>var</code>in <code><a href="dplyr.html#topic+pull">dplyr::pull()</a></code>.</p>
</td></tr>
<tr><td><code id="murphy_+3A_ref_var">ref_var</code></td>
<td>
<p>A variable in <code>x</code> that contains reference forecasts. Specified as the argument <code>var</code> in <code><a href="dplyr.html#topic+pull">dplyr::pull()</a></code>). Ignored, if the default name is not present in <code>x</code>.</p>
</td></tr>
<tr><td><code id="murphy_+3A_...">...</code></td>
<td>
<p>Unused.</p>
</td></tr>
<tr><td><code id="murphy_+3A_y">y</code></td>
<td>
<p>A numeric vector of observations. If supplied, overrides <code>y_var</code>. Otherwise, defaults to <code>dplyr::pull(x, y_var)</code>.</p>
</td></tr>
<tr><td><code id="murphy_+3A_ref">ref</code></td>
<td>
<p>A numeric vector of reference forecasts. If supplied, overrides <code>ref_var</code>. Otherwise, ignored (see <code>ref_var</code>) or <code>dplyr::pull(x, ref_var)</code>.</p>
</td></tr>
<tr><td><code id="murphy_+3A_r">r</code></td>
<td>
<p>A reference triptych_murphy object whose attributes are used for casting.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>triptych_murphy</code> object, that is a <code>vctrs_vctr</code> subclass, and has
a length equal to number of forecasting methods supplied in <code>x</code>. Each entry
is named according to the corresponding forecasting method,
and contains a list of named objects:
</p>

<ul>
<li> <p><code>estimate</code>: A data frame with the threshold and corresponding mean score values.
</p>
</li>
<li> <p><code>region</code>: Either an empty list, or a data frame of point confidence intervals
added by <code><a href="#topic+add_confidence">add_confidence()</a></code>.
</p>
</li>
<li> <p><code>x</code>: The numeric vector of original forecasts.
</p>
</li></ul>

<p>Access is most convenient through <code><a href="#topic+estimates">estimates()</a></code>, <code><a href="#topic+regions">regions()</a></code>, and <code><a href="#topic+forecasts">forecasts()</a></code>.
</p>


<h3>See Also</h3>

<p>Accessors: <code><a href="#topic+estimates">estimates()</a></code>, <code><a href="#topic+regions">regions()</a></code>, <code><a href="#topic+forecasts">forecasts()</a></code>, <code><a href="#topic+observations">observations()</a></code>
</p>
<p>Adding uncertainty quantification: <code><a href="#topic+add_confidence">add_confidence()</a></code>
</p>
<p>Visualization: <code><a href="#topic+plot.triptych_murphy">plot.triptych_murphy()</a></code>, <code><a href="#topic+autoplot.triptych_murphy">autoplot.triptych_murphy()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(ex_binary, package = "triptych")

mr &lt;- murphy(ex_binary)
mr

# 1. Choose 4 predictions
# 2. Visualize
# 3. Adjust the title of the legend
mr[c(1, 3, 6, 9)] |&gt;
  autoplot() +
  ggplot2::guides(colour = ggplot2::guide_legend("Forecast"))
  
# Build yourself using accessors
library(ggplot2)
df_est &lt;- estimates(mr[c(1, 3, 6, 9)])
ggplot(df_est) +
  geom_path(aes(x = knot, y = mean_score, col = forecast))

</code></pre>

<hr>
<h2 id='plot.triptych'>Plot methods for the triptych classes</h2><span id='topic+plot.triptych'></span><span id='topic+autoplot.triptych'></span><span id='topic+plot.triptych_murphy'></span><span id='topic+autoplot.triptych_murphy'></span><span id='topic+plot.triptych_reliability'></span><span id='topic+autoplot.triptych_reliability'></span><span id='topic+plot.triptych_roc'></span><span id='topic+autoplot.triptych_roc'></span><span id='topic+plot.triptych_mcbdsc'></span><span id='topic+autoplot.triptych_mcbdsc'></span>

<h3>Description</h3>

<p>Plot methods for the triptych classes
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'triptych'
plot(x, ...)

## S3 method for class 'triptych'
autoplot(object, ...)

## S3 method for class 'triptych_murphy'
plot(x, ...)

## S3 method for class 'triptych_murphy'
autoplot(object, ...)

## S3 method for class 'triptych_reliability'
plot(x, ...)

## S3 method for class 'triptych_reliability'
autoplot(object, ..., breaks = seq(0, 1, length.out = 11))

## S3 method for class 'triptych_roc'
plot(x, ...)

## S3 method for class 'triptych_roc'
autoplot(object, ...)

## S3 method for class 'triptych_mcbdsc'
plot(x, ...)

## S3 method for class 'triptych_mcbdsc'
autoplot(
  object,
  ...,
  n_isolines = 10,
  colour_values = "black",
  colour_unc = "#00BF7D",
  MCBDSC_repel = FALSE,
  MCB_lim = NA,
  DSC_lim = NA
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.triptych_+3A_x">x</code></td>
<td>
<p>An object that inherits from one of the triptych classes.</p>
</td></tr>
<tr><td><code id="plot.triptych_+3A_...">...</code></td>
<td>
<p>Arguments passed from <code>autoplot.triptych()</code> to the other methods for triptych classes.</p>
</td></tr>
<tr><td><code id="plot.triptych_+3A_object">object</code></td>
<td>
<p>An object that inherits from one of the triptych classes.</p>
</td></tr>
<tr><td><code id="plot.triptych_+3A_breaks">breaks</code></td>
<td>
<p>A vector of bin boundaries for the <code>geom_histogram()</code> layer. Set to <code>NA</code> to disable.</p>
</td></tr>
<tr><td><code id="plot.triptych_+3A_n_isolines">n_isolines</code></td>
<td>
<p>The number of isolines showing mean scores.</p>
</td></tr>
<tr><td><code id="plot.triptych_+3A_colour_values">colour_values</code></td>
<td>
<p>A colour specification passed to the <code>values</code> argument
of <code>scale_colour_manual()</code>. Recycled if length 1.</p>
</td></tr>
<tr><td><code id="plot.triptych_+3A_colour_unc">colour_unc</code></td>
<td>
<p>A colour specification highlighting the UNC component layers.</p>
</td></tr>
<tr><td><code id="plot.triptych_+3A_mcbdsc_repel">MCBDSC_repel</code></td>
<td>
<p>A boolean value indicating whether labels should be placed
by the <code>ggrepel</code> package.</p>
</td></tr>
<tr><td><code id="plot.triptych_+3A_mcb_lim">MCB_lim</code></td>
<td>
<p>The plot limits for the x-axis (the MCB component).</p>
</td></tr>
<tr><td><code id="plot.triptych_+3A_dsc_lim">DSC_lim</code></td>
<td>
<p>The plot limits for the y-axis (the DSC component).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>For an object of class <code>'triptych'</code>: A patchwork object (invisibly).
</p>
<p>For all other triptych objects: A ggplot object (invisibly).
</p>
<p>Every <code>plot()</code> method wraps the corresponding <code>autoplot()</code> method,
followed by an explicit <code>print()</code> call.
That is, it always draws a plot, even during assignment or within a loop.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(ex_binary, package = "triptych")
tr &lt;- triptych(ex_binary)

dplyr::slice(tr, 1, 3, 6, 9) |&gt; autoplot()
autoplot(tr$murphy)
autoplot(tr$reliability)
autoplot(tr$roc)
autoplot(tr$mcbdsc)

</code></pre>

<hr>
<h2 id='reexports'>Objects exported from other packages</h2><span id='topic+reexports'></span><span id='topic+autoplot'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>ggplot2</dt><dd><p><code><a href="ggplot2.html#topic+autoplot">autoplot</a></code></p>
</dd>
</dl>

<hr>
<h2 id='regions'>Accessing confidence/consistency region data</h2><span id='topic+regions'></span><span id='topic+regions.triptych_mcbdsc'></span><span id='topic+regions.triptych_murphy'></span><span id='topic+regions.triptych_reliability'></span><span id='topic+regions.triptych_roc'></span>

<h3>Description</h3>

<p>Accessing confidence/consistency region data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>regions(x, ...)

## S3 method for class 'triptych_mcbdsc'
regions(x, ...)

## S3 method for class 'triptych_murphy'
regions(x, ...)

## S3 method for class 'triptych_reliability'
regions(x, ...)

## S3 method for class 'triptych_roc'
regions(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="regions_+3A_x">x</code></td>
<td>
<p>An object from which the region information should be extracted.</p>
</td></tr>
<tr><td><code id="regions_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to other methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with the relevant information for the
uncertainty quantification of the chosen diagnostic
(Murphy curve, reliability curve, ROC curve, score decomposition)
for all supplied forecasting methods.
</p>
<p>For a Murphy curve, a tibble with columns: <code>forecast</code>, <code>threshold</code>, <code>lower</code>, <code>upper</code>, <code>method</code>, <code>level</code>.
</p>
<p>For a reliability curve, a tibble with columns: <code>forecast</code>, <code>x</code> (forecast values), <code>lower</code>, <code>upper</code>, <code>method</code>, <code>level</code>.
</p>
<p>For a ROC curve, a tibble with columns: <code>forecast</code>, <code>FAR</code> (false alarm rate), <code>HR</code> (hit rate), <code>method</code>, <code>level</code>.
This tibble is twice as long as those for Murphy and reliability curves,
since the FAR-HR pairs are ordered to describe a polygon, generated by pointwise confidence
intervals along diagonal lines with slope <code class="reqn">-\pi_0/\pi_1</code>.
Here, <code class="reqn">\pi_1 = 1 - \pi_0</code> is the unconditional event probability.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+estimates">estimates()</a></code>, <code><a href="#topic+forecasts">forecasts()</a></code>, <code><a href="#topic+observations">observations()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(ex_binary, package = "triptych")

# Bootstrap resampling is expensive
# (the number of bootstrap samples is small to keep execution times short)

tr &lt;- triptych(ex_binary) |&gt;
  dplyr::slice(1, 9) |&gt;
  add_confidence(level = 0.9, method = "resampling_cases", n_boot = 20)

regions(tr$murphy)
regions(tr$reliability)
regions(tr$roc)

</code></pre>

<hr>
<h2 id='reliability'>Evaluation of forecasts using reliability curves</h2><span id='topic+reliability'></span><span id='topic+as_reliability'></span>

<h3>Description</h3>

<p>A reliability curve visualizes miscalibration by displaying the (isotonic)
conditional event probability against the forecast value.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reliability(x, y_var = "y", ..., y = NULL)

as_reliability(x, r)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="reliability_+3A_x">x</code></td>
<td>
<p>A data frame, list, matrix, or other object that can be coerced to a tibble. Contains numeric forecasts, and observations (optional).</p>
</td></tr>
<tr><td><code id="reliability_+3A_y_var">y_var</code></td>
<td>
<p>A variable in <code>x</code> that contains observations. Specified as the argument <code>var</code>in <code><a href="dplyr.html#topic+pull">dplyr::pull()</a></code>.</p>
</td></tr>
<tr><td><code id="reliability_+3A_...">...</code></td>
<td>
<p>Unused.</p>
</td></tr>
<tr><td><code id="reliability_+3A_y">y</code></td>
<td>
<p>A numeric vector of observations. If supplied, overrides <code>y_var</code>. Otherwise, defaults to <code>dplyr::pull(x, y_var)</code>.</p>
</td></tr>
<tr><td><code id="reliability_+3A_r">r</code></td>
<td>
<p>A reference triptych_mcbdsc object whose attributes are used for casting.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>triptych_reliability</code> object, that is a <code>vctrs_vctr</code> subclass, and has
a length equal to number of forecasting methods supplied in <code>x</code>. Each entry
is named according to the corresponding forecasting method,
and contains a list of named objects:
</p>

<ul>
<li> <p><code>estimate</code>: A data frame with the isotonic regression estimate.
</p>
</li>
<li> <p><code>region</code>: Either an empty list, or a data frame of pointwise consistency
or confidence intervals
added by <code><a href="#topic+add_consistency">add_consistency()</a></code> or <code><a href="#topic+add_confidence">add_confidence()</a></code>, respectively.
</p>
</li>
<li> <p><code>x</code>: The numeric vector of original forecasts.
</p>
</li></ul>

<p>Access is most convenient through <code><a href="#topic+estimates">estimates()</a></code>, <code><a href="#topic+regions">regions()</a></code>, and <code><a href="#topic+forecasts">forecasts()</a></code>.
</p>


<h3>See Also</h3>

<p>Accessors: <code><a href="#topic+estimates">estimates()</a></code>, <code><a href="#topic+regions">regions()</a></code>, <code><a href="#topic+forecasts">forecasts()</a></code>, <code><a href="#topic+observations">observations()</a></code>
</p>
<p>Adding uncertainty quantification: <code><a href="#topic+add_confidence">add_confidence()</a></code>
</p>
<p>Visualization: <code><a href="#topic+plot.triptych_reliability">plot.triptych_reliability()</a></code>, <code><a href="#topic+autoplot.triptych_reliability">autoplot.triptych_reliability()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(ex_binary, package = "triptych")

rel &lt;- reliability(ex_binary)
rel

# 1. Choose 4 predictions
# 2. Visualize
# 3. Adjust the title of the legend
rel[c(1, 3, 6, 9)] |&gt;
  autoplot() +
  ggplot2::guides(colour = ggplot2::guide_legend("Forecast"))
  
# Build yourself using accessors
library(ggplot2)
df_est &lt;- estimates(rel[c(1, 3, 6, 9)])
ggplot(df_est, aes(x = x, y = CEP, col = forecast)) +
  geom_segment(aes(x = 0, y = 0, xend = 1, yend = 1)) +
  geom_path()

</code></pre>

<hr>
<h2 id='resampling_Bernoulli'>Bootstrap (binary) observation resampling for triptych objects</h2><span id='topic+resampling_Bernoulli'></span><span id='topic+resampling_Bernoulli.triptych_murphy'></span><span id='topic+resampling_Bernoulli.triptych_reliability'></span><span id='topic+resampling_Bernoulli.triptych_roc'></span>

<h3>Description</h3>

<p>This function is intended to be called from <code><a href="#topic+add_consistency">add_consistency()</a></code> or <code><a href="#topic+add_confidence">add_confidence()</a></code>,
by specifying <code>"resampling_Bernoulli"</code> in the respective <code>method</code> argument.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>resampling_Bernoulli(x, level = 0.9, n_boot = 1000, ...)

## S3 method for class 'triptych_murphy'
resampling_Bernoulli(x, level = 0.9, n_boot = 1000, ...)

## S3 method for class 'triptych_reliability'
resampling_Bernoulli(
  x,
  level = 0.9,
  n_boot = 1000,
  position = c("diagonal", "estimate"),
  ...
)

## S3 method for class 'triptych_roc'
resampling_Bernoulli(x, level = 0.9, n_boot = 1000, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="resampling_Bernoulli_+3A_x">x</code></td>
<td>
<p>One of the triptych objects.</p>
</td></tr>
<tr><td><code id="resampling_Bernoulli_+3A_level">level</code></td>
<td>
<p>A single value that determines which quantiles of
the bootstrap sample to return. These quantiles envelop <code>level * n_boot</code>
bootstrap draws.</p>
</td></tr>
<tr><td><code id="resampling_Bernoulli_+3A_n_boot">n_boot</code></td>
<td>
<p>The number of bootstrap samples.</p>
</td></tr>
<tr><td><code id="resampling_Bernoulli_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to other methods.</p>
</td></tr>
<tr><td><code id="resampling_Bernoulli_+3A_position">position</code></td>
<td>
<p>Either <code>"estimate"</code> for confidence regions, or <code>"diagonal"</code>
for consistency regions.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Bootstrap (binary) observation resampling assumes conditionally independent observations given the forecast value.
A given number of bootstrap samples are the basis for pointwise computed confidence/consistency intervals.
For every bootstrap sample, we sample observations from a Bernoulli distribution conditional on (recalibrated) forecast values.
</p>


<h3>Value</h3>

<p>A list of tibbles that contain the information to draw confidence regions.
The length is equal to the number of forecasting methods in <code>x</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(ex_binary, package = "triptych")

# Bootstrap resampling is expensive
# (the number of bootstrap samples is small to keep execution times short)

tr_consistency &lt;- triptych(ex_binary) |&gt;
  dplyr::slice(1, 9) |&gt;
  add_consistency(level = 0.9, method = "resampling_Bernoulli", n_boot = 20)

tr_confidence &lt;- triptych(ex_binary) |&gt;
  dplyr::slice(1, 9) |&gt;
  add_confidence(level = 0.9, method = "resampling_Bernoulli", n_boot = 20)

</code></pre>

<hr>
<h2 id='resampling_cases'>Bootstrap case resampling for triptych objects</h2><span id='topic+resampling_cases'></span><span id='topic+resampling_cases.triptych_murphy'></span><span id='topic+resampling_cases.triptych_reliability'></span><span id='topic+resampling_cases.triptych_roc'></span>

<h3>Description</h3>

<p>This function is intended to be called from <code><a href="#topic+add_confidence">add_confidence()</a></code>,
by specifying <code>"resampling_cases"</code> in the <code>method</code> argument.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>resampling_cases(x, level = 0.9, n_boot = 1000, ...)

## S3 method for class 'triptych_murphy'
resampling_cases(x, level = 0.9, n_boot = 1000, ...)

## S3 method for class 'triptych_reliability'
resampling_cases(x, level = 0.9, n_boot = 1000, ...)

## S3 method for class 'triptych_roc'
resampling_cases(x, level = 0.9, n_boot = 1000, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="resampling_cases_+3A_x">x</code></td>
<td>
<p>One of the triptych objects.</p>
</td></tr>
<tr><td><code id="resampling_cases_+3A_level">level</code></td>
<td>
<p>A single value that determines which quantiles of
the bootstrap sample to return. These quantiles envelop <code>level * n_boot</code>
bootstrap draws.</p>
</td></tr>
<tr><td><code id="resampling_cases_+3A_n_boot">n_boot</code></td>
<td>
<p>The number of bootstrap samples.</p>
</td></tr>
<tr><td><code id="resampling_cases_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to other methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Case resampling assumes independent and identically distributed forecast-observation pairs.
A given number of bootstrap samples are the basis for pointwise computed confidence intervals.
For every bootstrap sample, we draw forecast-observations pairs with replacement until the size of the original data set is reached.
</p>


<h3>Value</h3>

<p>A list of tibbles that contain the information to draw confidence regions.
The length is equal to the number of forecasting methods in <code>x</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(ex_binary, package = "triptych")

# Bootstrap resampling is expensive
# (the number of bootstrap samples is small to keep execution times short)

tr &lt;- triptych(ex_binary) |&gt;
  dplyr::slice(1, 9) |&gt;
  add_confidence(level = 0.9, method = "resampling_cases", n_boot = 20)

</code></pre>

<hr>
<h2 id='roc'>Evaluation of forecasts using ROC curves</h2><span id='topic+roc'></span><span id='topic+as_roc'></span>

<h3>Description</h3>

<p>A ROC curve visualizes discrimination ability by displaying the hit rate against
the false alarm rate for all threshold values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>roc(x, y_var = "y", ..., y = NULL, concave = TRUE)

as_roc(x, r)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="roc_+3A_x">x</code></td>
<td>
<p>A data frame, list, matrix, or other object that can be coerced to a tibble. Contains numeric forecasts, and observations (optional).</p>
</td></tr>
<tr><td><code id="roc_+3A_y_var">y_var</code></td>
<td>
<p>A variable in <code>x</code> that contains observations. Specified as the argument <code>var</code>in <code><a href="dplyr.html#topic+pull">dplyr::pull()</a></code>.</p>
</td></tr>
<tr><td><code id="roc_+3A_...">...</code></td>
<td>
<p>Unused.</p>
</td></tr>
<tr><td><code id="roc_+3A_y">y</code></td>
<td>
<p>A numeric vector of observations. If supplied, overrides <code>y_var</code>. Otherwise, defaults to <code>dplyr::pull(x, y_var)</code>.</p>
</td></tr>
<tr><td><code id="roc_+3A_concave">concave</code></td>
<td>
<p>A boolean value indicating whether to calculate the concave hull
or the raw ROC diagnostic.</p>
</td></tr>
<tr><td><code id="roc_+3A_r">r</code></td>
<td>
<p>A reference triptych_mcbdsc object whose attributes are used for casting.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>triptych_roc</code> object, that is a <code>vctrs_vctr</code> subclass, and has
a length equal to number of forecasting methods supplied in <code>x</code>. Each entry
is named according to the corresponding forecasting method,
and contains a list of named objects:
</p>

<ul>
<li> <p><code>estimate</code>: A data frame of hit rates and false rates.
</p>
</li>
<li> <p><code>region</code>: Either an empty list, or a data frame of pointwise
confidence intervals (along diagonal lines with slope <code class="reqn">-\pi_0/\pi_1</code>)
added by <code><a href="#topic+add_confidence">add_confidence()</a></code>.
</p>
</li>
<li> <p><code>x</code>: The numeric vector of original forecasts.
</p>
</li></ul>

<p>Access is most convenient through <code><a href="#topic+estimates">estimates()</a></code>, <code><a href="#topic+regions">regions()</a></code>, and <code><a href="#topic+forecasts">forecasts()</a></code>.
</p>


<h3>See Also</h3>

<p>Accessors: <code><a href="#topic+estimates">estimates()</a></code>, <code><a href="#topic+regions">regions()</a></code>, <code><a href="#topic+forecasts">forecasts()</a></code>, <code><a href="#topic+observations">observations()</a></code>
</p>
<p>Adding uncertainty quantification: <code><a href="#topic+add_confidence">add_confidence()</a></code>
</p>
<p>Visualization: <code><a href="#topic+plot.triptych_roc">plot.triptych_roc()</a></code>, <code><a href="#topic+autoplot.triptych_roc">autoplot.triptych_roc()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(ex_binary, package = "triptych")

rc &lt;- roc(ex_binary)
rc

# 1. Choose 4 predictions
# 2. Visualize
# 3. Adjust the title of the legend
rc[c(1, 3, 6, 9)] |&gt;
  autoplot() +
  ggplot2::guides(colour = ggplot2::guide_legend("Forecast"))
  
# Build yourself using accessors
library(ggplot2)
df_est &lt;- estimates(rc[c(1, 3, 6, 9)])
ggplot(df_est, aes(x = FAR, y = HR, col = forecast)) +
  geom_segment(aes(x = 0, y = 0, xend = 1, yend = 1)) +
  geom_path()

</code></pre>

<hr>
<h2 id='triptych'>Evaluation of forecasts using a Triptych</h2><span id='topic+triptych'></span>

<h3>Description</h3>

<p>A triptych visualizes three important aspects of predictive performance:
Economic utility via Murphy curves, miscalibration via reliability curves,
and discrimination ability via ROC curves.
The <code>triptych</code> S3 class has plotting methods for <code>ggplot2</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>triptych(x, y_var = "y", ..., y = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="triptych_+3A_x">x</code></td>
<td>
<p>A data frame, list, matrix, or other object that can be coerced to a tibble. Contains numeric forecasts, and observations (optional).</p>
</td></tr>
<tr><td><code id="triptych_+3A_y_var">y_var</code></td>
<td>
<p>A variable in <code>x</code> that contains observations. Specified as the argument <code>var</code>in <code><a href="dplyr.html#topic+pull">dplyr::pull()</a></code>.</p>
</td></tr>
<tr><td><code id="triptych_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+murphy">murphy()</a></code>, <code><a href="#topic+reliability">reliability()</a></code>, <code><a href="#topic+roc">roc()</a></code>, and <code><a href="#topic+mcbdsc">mcbdsc()</a></code>.</p>
</td></tr>
<tr><td><code id="triptych_+3A_y">y</code></td>
<td>
<p>A numeric vector of observations. If supplied, overrides <code>y_var</code>. Otherwise, defaults to <code>dplyr::pull(x, y_var)</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>triptych</code> object, that is a tibble subclass, and contains five columns:
</p>

<ul>
<li> <p><code>forecast</code>: Contains the names.
</p>
</li>
<li> <p><code>murphy</code>: Contains a <code>vctrs_vctr</code> subclass of Murphy curves.
</p>
</li>
<li> <p><code>reliability</code>: Contains a <code>vctrs_vctr</code> subclass of reliability curves.
</p>
</li>
<li> <p><code>roc</code>: Contains a <code>vctrs_vctr</code> subclass of ROC curves.
</p>
</li>
<li> <p><code>mcbdsc</code>: Contains a <code>vctrs_vctr</code> subclass of score decompositions.
</p>
</li></ul>



<h3>See Also</h3>

<p>Vector class constructors: <code><a href="#topic+murphy">murphy()</a></code>, <code><a href="#topic+reliability">reliability()</a></code>, <code><a href="#topic+roc">roc()</a></code>, <code><a href="#topic+mcbdsc">mcbdsc()</a></code>
</p>
<p>Adding uncertainty quantification: <code><a href="#topic+add_consistency">add_consistency()</a></code>, <code><a href="#topic+add_confidence">add_confidence()</a></code>
</p>
<p>Visualization: <code><a href="#topic+plot.triptych">plot.triptych()</a></code>, <code><a href="#topic+autoplot.triptych">autoplot.triptych()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(ex_binary, package = "triptych")

tr &lt;- triptych(ex_binary)
identical(tr, triptych(ex_binary, y))
identical(tr, triptych(ex_binary, 1))
tr

# 1. Choose 4 predictions
# 2. Add consistency bands (for reliability curves)
#    (Bootstrap resampling is expensive, the number of bootstrap samples
#     is small to keep execution times short)
# 3. Create patchwork object
# 4. Adjust the title of the legend
dplyr::slice(tr, 1, 3, 6, 9) |&gt;
  add_consistency(level = 0.9, method = "resampling_Bernoulli", n_boot = 20) |&gt;
  autoplot() &amp;
  ggplot2::guides(colour = ggplot2::guide_legend("Forecast"))

</code></pre>

<hr>
<h2 id='triptych-vctrs'>Internal vctrs methods</h2><span id='topic+triptych-vctrs'></span>

<h3>Description</h3>

<p>Internal vctrs methods
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

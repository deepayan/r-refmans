<!DOCTYPE html><html><head><title>Help for package tidysmd</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {tidysmd}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#tidysmd-package'><p>tidysmd: Tidy Standardized Mean Differences</p></a></li>
<li><a href='#bind_matches'><p>Bind Match Indicator Columns to a Data Frame</p></a></li>
<li><a href='#geom_love'><p>Create a Love plot</p></a></li>
<li><a href='#nhefs_weights'><p>NHEFS with various propensity score weights</p></a></li>
<li><a href='#reexports'><p>Objects exported from other packages</p></a></li>
<li><a href='#tidy_smd'><p>Tidy Standardized Mean Differences</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Tidy Standardized Mean Differences</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Tidy standardized mean differences ('SMDs'). 'tidysmd' uses
    the 'smd' package to calculate standardized mean differences for
    variables in a data frame, returning the results in a tidy format.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/r-causal/tidysmd">https://github.com/r-causal/tidysmd</a>,
<a href="https://r-causal.github.io/tidysmd/">https://r-causal.github.io/tidysmd/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/r-causal/tidysmd/issues">https://github.com/r-causal/tidysmd/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr, purrr, rlang, smd, stats, tidyr, tidyselect, utils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, ggplot2, MatchIt, spelling, testthat (&ge; 3.0.0), vdiffr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-05-26 17:15:47 UTC; malcolmbarrett</td>
</tr>
<tr>
<td>Author:</td>
<td>Malcolm Barrett <a href="https://orcid.org/0000-0003-0299-5825"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Malcolm Barrett &lt;malcolmbarrett@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-05-26 17:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='tidysmd-package'>tidysmd: Tidy Standardized Mean Differences</h2><span id='topic+tidysmd'></span><span id='topic+tidysmd-package'></span>

<h3>Description</h3>

<p>Tidy standardized mean differences ('SMDs'). 'tidysmd' uses the 'smd' package to calculate standardized mean differences for variables in a data frame, returning the results in a tidy format.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Malcolm Barrett <a href="mailto:malcolmbarrett@gmail.com">malcolmbarrett@gmail.com</a> (<a href="https://orcid.org/0000-0003-0299-5825">ORCID</a>)
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/r-causal/tidysmd">https://github.com/r-causal/tidysmd</a>
</p>
</li>
<li> <p><a href="https://r-causal.github.io/tidysmd/">https://r-causal.github.io/tidysmd/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/r-causal/tidysmd/issues">https://github.com/r-causal/tidysmd/issues</a>
</p>
</li></ul>


<hr>
<h2 id='bind_matches'>Bind Match Indicator Columns to a Data Frame</h2><span id='topic+bind_matches'></span>

<h3>Description</h3>

<p>Given a data frame <code>.df</code>, the function <code>bind_matches</code> creates binary
indicator variables for each match returned by the <code>MatchIt</code> library and
binds the resulting columns to <code>.df</code>. In other words, the result is the
original data frame plus a column for however many matches you want to bind.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bind_matches(.df, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bind_matches_+3A_.df">.df</code></td>
<td>
<p>A data frame.</p>
</td></tr>
<tr><td><code id="bind_matches_+3A_...">...</code></td>
<td>
<p><code>matchit</code> objects returned by the <code>MatchIt</code> package. They can be
named or unnamed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>.df</code> with addition columns for every element of <code>...</code>
</p>

<hr>
<h2 id='geom_love'>Create a Love plot</h2><span id='topic+geom_love'></span><span id='topic+love_plot'></span>

<h3>Description</h3>

<p><code>geom_love()</code> and <code>love_plot()</code> are helper functions to create Love plots in
ggplot2. Love plots are a diagnostic approach to assessing balance before and
after weighting. Many researchers use 0.1 on the absolute SMD scale to
evaluate if a variable is well-balanced between groups, although this is just
a rule of thumb. <code>geom_love()</code> is a simple wrapper around
<code><a href="ggplot2.html#topic+geom_point">ggplot2::geom_point()</a></code>, <code><a href="ggplot2.html#topic+geom_path">ggplot2::geom_line()</a></code>, and
<code><a href="ggplot2.html#topic+geom_abline">ggplot2::geom_vline()</a></code>. It also adds default aesthetics via
<code><a href="ggplot2.html#topic+aes">ggplot2::aes()</a></code>. <code>love_plot()</code> is a quick plotting function that further
wraps <code>geom_love()</code>. For more complex Love plots, we recommend using ggplot2
directly.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_love(
  linewidth = 0.8,
  line_size = NULL,
  point_size = 1.85,
  vline_xintercept = 0.1,
  vline_color = "grey70",
  vlinewidth = 0.6,
  vline_size = NULL
)

love_plot(
  .df,
  linewidth = 0.8,
  line_size = NULL,
  point_size = 1.85,
  vline_xintercept = 0.1,
  vline_color = "grey70",
  vlinewidth = 0.6,
  vline_size = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geom_love_+3A_linewidth">linewidth</code></td>
<td>
<p>The line size, passed to <code><a href="ggplot2.html#topic+geom_path">ggplot2::geom_line()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_love_+3A_line_size">line_size</code></td>
<td>
<p>Deprecated. Please use <code>linewidth</code>.</p>
</td></tr>
<tr><td><code id="geom_love_+3A_point_size">point_size</code></td>
<td>
<p>The point size, passed to <code><a href="ggplot2.html#topic+geom_point">ggplot2::geom_point()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_love_+3A_vline_xintercept">vline_xintercept</code></td>
<td>
<p>The X intercept, passed to <code><a href="ggplot2.html#topic+geom_abline">ggplot2::geom_vline()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_love_+3A_vline_color">vline_color</code></td>
<td>
<p>The vertical line color, passed to
<code><a href="ggplot2.html#topic+geom_abline">ggplot2::geom_vline()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_love_+3A_vlinewidth">vlinewidth</code></td>
<td>
<p>The vertical line size, passed to
<code><a href="ggplot2.html#topic+geom_abline">ggplot2::geom_vline()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_love_+3A_vline_size">vline_size</code></td>
<td>
<p>Deprecated. Please use <code>vlinewidth</code>.</p>
</td></tr>
<tr><td><code id="geom_love_+3A_.df">.df</code></td>
<td>
<p>a data frame produced by <code>tidy_smd()</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list of <code>geoms</code> or a <code>ggplot</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>plot_df &lt;- tidy_smd(
  nhefs_weights,
  race:active,
  .group = qsmk,
  .wts = starts_with("w_")
)

love_plot(plot_df)

# or use ggplot2 directly
library(ggplot2)
ggplot(
  plot_df,
  aes(
    x = abs(smd),
    y = variable,
    group = method,
    color = method,
    fill = method
  )
) +
  geom_love()

</code></pre>

<hr>
<h2 id='nhefs_weights'>NHEFS with various propensity score weights</h2><span id='topic+nhefs_weights'></span>

<h3>Description</h3>

<p>A dataset containing various propensity score weights for
<code>causaldata::nhefs_complete</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nhefs_weights
</code></pre>


<h3>Format</h3>

<p>A data frame with 1566 rows and 14 variables: </p>

<dl>
<dt>qsmk</dt><dd><p>Quit smoking</p>
</dd> <dt>race</dt><dd><p>Race</p>
</dd> <dt>age</dt><dd><p>Age</p>
</dd>
<dt>education</dt><dd><p>Education level</p>
</dd> <dt>smokeintensity</dt><dd><p>Smoking intensity</p>
</dd>
<dt>smokeyrs</dt><dd><p>Number of smoke-years</p>
</dd> <dt>exercise</dt><dd><p>Exercise level</p>
</dd>
<dt>active</dt><dd><p>Daily activity level</p>
</dd> <dt>wt71</dt><dd><p>Participant weight in 1971
(baseline)</p>
</dd> <dt>w_ate</dt><dd><p>ATE weight</p>
</dd> <dt>w_att</dt><dd><p>ATT weight</p>
</dd>
<dt>w_atc</dt><dd><p>ATC weight</p>
</dd> <dt>w_atm</dt><dd><p>ATM weight</p>
</dd> <dt>w_ato</dt><dd><p>ATO weight</p>
</dd>
</dl>


<hr>
<h2 id='reexports'>Objects exported from other packages</h2><span id='topic+reexports'></span><span id='topic+peek_vars'></span><span id='topic+select_helpers'></span><span id='topic+contains'></span><span id='topic+ends_with'></span><span id='topic+everything'></span><span id='topic+matches'></span><span id='topic+num_range'></span><span id='topic+one_of'></span><span id='topic+starts_with'></span><span id='topic+last_col'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>tidyselect</dt><dd><p><code><a href="tidyselect.html#topic+starts_with">contains</a></code>, <code><a href="tidyselect.html#topic+starts_with">ends_with</a></code>, <code><a href="tidyselect.html#topic+everything">everything</a></code>, <code><a href="tidyselect.html#topic+everything">last_col</a></code>, <code><a href="tidyselect.html#topic+starts_with">matches</a></code>, <code><a href="tidyselect.html#topic+starts_with">num_range</a></code>, <code><a href="tidyselect.html#topic+one_of">one_of</a></code>, <code><a href="tidyselect.html#topic+peek_vars">peek_vars</a></code>, <code><a href="tidyselect.html#topic+starts_with">starts_with</a></code></p>
</dd>
</dl>

<hr>
<h2 id='tidy_smd'>Tidy Standardized Mean Differences</h2><span id='topic+tidy_smd'></span>

<h3>Description</h3>

<p><code>tidy_smd()</code> calculates the standardized mean difference (SMD) for variables
in a dataset between groups. Optionally, you may also calculate weighted
SMDs. <code>tidy_smd()</code> wraps <code>smd::smd()</code>, returning a tidy dataframe with the
columns <code>variable</code>, <code>method</code>, and <code>smd</code>, as well as fourth column the
contains the level of <code>.group</code> the SMD represents. You may also supply
multiple weights to calculate multiple weighted SMDs, useful when comparing
different types of weights. Additionally, the <code>.wts</code> argument supports
matched datasets where the variable supplied to <code>.wts</code> is an binary variable
indicating whether the row was included in the match. If you're using
MatchIt, the helper function <code><a href="#topic+bind_matches">bind_matches()</a></code> will bind these indicators to
the original dataset,  making it easier to compare across matching
specifications.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tidy_smd(
  .df,
  .vars,
  .group,
  .wts = NULL,
  include_observed = TRUE,
  include_unweighted = NULL,
  na.rm = FALSE,
  gref = 1L,
  std.error = FALSE,
  make_dummy_vars = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tidy_smd_+3A_.df">.df</code></td>
<td>
<p>A data frame</p>
</td></tr>
<tr><td><code id="tidy_smd_+3A_.vars">.vars</code></td>
<td>
<p>Variables for which to calculate SMD</p>
</td></tr>
<tr><td><code id="tidy_smd_+3A_.group">.group</code></td>
<td>
<p>Grouping variable</p>
</td></tr>
<tr><td><code id="tidy_smd_+3A_.wts">.wts</code></td>
<td>
<p>Variables to use for weighting the SMD calculation. These can be,
for instance, propensity score weights or a binary indicator signaling
whether or not a participant was included in a matching algorithm.</p>
</td></tr>
<tr><td><code id="tidy_smd_+3A_include_observed">include_observed</code></td>
<td>
<p>Logical. If using <code>.wts</code>, also calculate the
unweighted SMD?</p>
</td></tr>
<tr><td><code id="tidy_smd_+3A_include_unweighted">include_unweighted</code></td>
<td>
<p>Deprecated. Please use <code>include_observed</code>.</p>
</td></tr>
<tr><td><code id="tidy_smd_+3A_na.rm">na.rm</code></td>
<td>
<p>Remove <code>NA</code> values from <code>x</code>? Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="tidy_smd_+3A_gref">gref</code></td>
<td>
<p>an integer indicating which level of <code>g</code> to use as the reference
group. Defaults to <code>1</code>.</p>
</td></tr>
<tr><td><code id="tidy_smd_+3A_std.error">std.error</code></td>
<td>
<p>Logical indicator for computing standard errors using
<code><a href="smd.html#topic+compute_smd_var">compute_smd_var</a></code>. Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="tidy_smd_+3A_make_dummy_vars">make_dummy_vars</code></td>
<td>
<p>Logical. Transform categorical variables to dummy
variables using <code>model.matrix()</code>? By default, <a href="smd.html#topic+smd">smd::smd</a> uses a summary
value based on the Mahalanobis distance distance to approximate the SMD of
categorical variables. An alternative approach is to transform categorical
variables to a set of dummy variables.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a tibble
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
tidy_smd(nhefs_weights, c(age, education, race), .group = qsmk)
tidy_smd(nhefs_weights, c(age, education), .group = qsmk, std.error = TRUE)

tidy_smd(
  nhefs_weights,
  c(age, race, education),
  .group = qsmk,
  .wts = c(w_ate, w_att, w_atm)
)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

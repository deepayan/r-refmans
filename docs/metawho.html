<!DOCTYPE html><html lang="en"><head><title>Help for package metawho</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {metawho}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#+25+26gt+3B+25'><p>Pipe operator</p></a></li>
<li><a href='#deft_do'><p>Implement deft method</p></a></li>
<li><a href='#deft_prepare'><p>Prepare log transformation data for effect size estimation</p>
according to confidence level and distribution</a></li>
<li><a href='#deft_show'><p>Show deft result</p></a></li>
<li><a href='#tidyeval'><p>Tidy eval helpers</p></a></li>
<li><a href='#wang2019'><p>Hazard ratio (HR) for disease progression analysis comparing</p>
TMB-high with TMB-low in three NSCLC datasets</a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Meta-Analytical Implementation to Identify Who Benefits Most
from Treatments</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.0</td>
</tr>
<tr>
<td>Description:</td>
<td>A tool for implementing so called 'deft' approach
    (see Fisher, David J., et al. (2017) &lt;<a href="https://doi.org/10.1136%2Fbmj.j573">doi:10.1136/bmj.j573</a>&gt;) and model
    visualization.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/ShixiangWang/metawho">https://github.com/ShixiangWang/metawho</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/ShixiangWang/metawho/issues">https://github.com/ShixiangWang/metawho/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>metafor, R (&ge; 3.5)</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr, forestmodel, magrittr, purrr, rlang (&ge; 0.1.2), stats</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, knitr, rmarkdown, roxygen2, testthat</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.0.0</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2019-12-06 14:56:21 UTC; Shixiang</td>
</tr>
<tr>
<td>Author:</td>
<td>Shixiang Wang <a href="https://orcid.org/0000-0001-9855-7357"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Shixiang Wang &lt;w_shixiang@163.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2019-12-06 16:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>See <code>magrittr::<a href="magrittr.html#topic++25+3E+25">%&gt;%</a></code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>

<hr>
<h2 id='deft_do'>Implement deft method</h2><span id='topic+deft_do'></span>

<h3>Description</h3>

<p>'deft' method is a meta-analytical approach to pool conclusion from multiple
studies. More details please see references.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>deft_do(prepare, group_level, method = "FE")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="deft_do_+3A_prepare">prepare</code></td>
<td>
<p>a result <code>data.frame</code> from <a href="#topic+deft_prepare">deft_prepare</a> function or
a <code>data.frame</code> contains at least 'trial', 'subgroup', 'yi' and 'sei' these
four columns.</p>
</td></tr>
<tr><td><code id="deft_do_+3A_group_level">group_level</code></td>
<td>
<p>level of subgroup, should be a character vector with
length 2 and the reference should put in the first. For example, if you
have 'Male' and 'Female' groups and want compare 'Female' with 'Male', then
should set <code>c('Male', 'Female')</code>.</p>
</td></tr>
<tr><td><code id="deft_do_+3A_method">method</code></td>
<td>
<p>character string specifying whether a fixed- or a random/mixed-effects model should be fitted. A fixed-effects model (with or without moderators) is fitted when using <code>method="FE"</code>. Random/mixed-effects models are fitted by setting <code>method</code> equal to one of the following: <code>"DL"</code>, <code>"HE"</code>, <code>"SJ"</code>, <code>"ML"</code>, <code>"REML"</code>, <code>"EB"</code>, <code>"HS"</code>, or <code>"GENQ"</code>. Default is <code>"REML"</code>. See &lsquo;Details&rsquo;.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>About model fit, please see <code><a href="metafor.html#topic+rma">metafor::rma()</a></code>.
</p>


<h3>Value</h3>

<p>a <code>list</code> which class is 'deft'.
</p>


<h3>Author(s)</h3>

<p>Shixiang Wang <a href="mailto:w_shixiang@163.com">w_shixiang@163.com</a>
</p>


<h3>References</h3>

<p>Fisher, David J., et al. &quot;Meta-analytical methods to identify who
benefits most from treatments: daft, deluded, or deft approach?.&quot; bmj 356 (2017): j573.
</p>
<p>Wang, Shixiang, et al. &quot;The predictive power of tumor mutational burden
in lung cancer immunotherapy response is influenced by patients' sex.&quot;
International journal of cancer (2019).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("wang2019")
deft_do(wang2019, group_level = c("Male", "Female"))
</code></pre>

<hr>
<h2 id='deft_prepare'>Prepare log transformation data for effect size estimation
according to confidence level and distribution</h2><span id='topic+deft_prepare'></span>

<h3>Description</h3>

<p>A variety of different outcome measures which
used in meta-analysis as input are in the form of log, such as hazard ratio (HR).
This function is used to do log transformation to calculate effect size and
standard error. Then the result can be easier used for model fit.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>deft_prepare(data, conf_level = 0.05)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="deft_prepare_+3A_data">data</code></td>
<td>
<p>a <code>data.frame</code> contains at least columns 'trial', 'hr', 'ci.lb',
'ci.ub' and 'ni'.</p>
</td></tr>
<tr><td><code id="deft_prepare_+3A_conf_level">conf_level</code></td>
<td>
<p>a number specify confidence level, default is 0.05.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>data.frame</code>
</p>


<h3>Author(s)</h3>

<p>Shixiang Wang <a href="mailto:w_shixiang@163.com">w_shixiang@163.com</a>
</p>


<h3>References</h3>

<p>Wang, Shixiang, et al. &quot;The predictive power of tumor mutational burden
in lung cancer immunotherapy response is influenced by patients' sex.&quot;
International journal of cancer (2019).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>### specify hazard ratios (hr)
hr &lt;- c(0.30, 0.11, 1.25, 0.63, 0.90, 0.28)
### specify lower bound for hr confidence intervals
ci.lb &lt;- c(0.09, 0.02, 0.82, 0.42, 0.41, 0.12)
### specify upper bound for hr confidence intervals
ci.ub &lt;- c(1.00, 0.56, 1.90, 0.95, 1.99, 0.67)
### specify sample number
ni &lt;- c(16L, 18L, 118L, 122L, 37L, 38L)
### trials
trial &lt;- c(
  "Rizvi 2015", "Rizvi 2015",
  "Rizvi 2018", "Rizvi 2018",
  "Hellmann 2018", "Hellmann 2018"
)
### subgroups
subgroup &lt;- rep(c("Male", "Female"), 3)

entry &lt;- paste(trial, subgroup, sep = "-")
### combine as data.frame

wang2019 &lt;-
  data.frame(
    entry = entry,
    trial = trial,
    subgroup = subgroup,
    hr = hr,
    ci.lb = ci.lb,
    ci.ub = ci.ub,
    ni = ni,
    stringsAsFactors = FALSE
  )

deft_prepare(wang2019)
</code></pre>

<hr>
<h2 id='deft_show'>Show deft result</h2><span id='topic+deft_show'></span>

<h3>Description</h3>

<p>Show deft result
</p>


<h3>Usage</h3>

<pre><code class='language-R'>deft_show(
  deft,
  element,
  study_labels = NULL,
  headings = list(study = ifelse(element == "all", "Study-subgroup", "Study"), n = "N",
    measure = NULL, ci = "HR (95% CI)"),
  trans = base::exp,
  show_model = ifelse(element == "all", FALSE, TRUE),
  show_stats = list(`I^2` = rlang::quo(sprintf("%0.1f%%", I2)), p =
    rlang::quo(format.pval(QEp, digits = 2))),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="deft_show_+3A_deft">deft</code></td>
<td>
<p>result from <a href="#topic+deft_do">deft_do</a>.</p>
</td></tr>
<tr><td><code id="deft_show_+3A_element">element</code></td>
<td>
<p>'all' or 'subgroup'.</p>
</td></tr>
<tr><td><code id="deft_show_+3A_study_labels">study_labels</code></td>
<td>
<p>labels for studies.</p>
</td></tr>
<tr><td><code id="deft_show_+3A_headings">headings</code></td>
<td>
<p>a list for controlling plot headings.</p>
</td></tr>
<tr><td><code id="deft_show_+3A_trans">trans</code></td>
<td>
<p>an optional transform function used on the numeric data for plotting the axes</p>
</td></tr>
<tr><td><code id="deft_show_+3A_show_model">show_model</code></td>
<td>
<p>a logical value, if <code>TRUE</code>, show model result, otherwise only show forest plots for studies</p>
</td></tr>
<tr><td><code id="deft_show_+3A_show_stats">show_stats</code></td>
<td>
<p>a <code>list</code> of stats to show at the bottom of the forest plot for e.g. heterogeneity</p>
</td></tr>
<tr><td><code id="deft_show_+3A_...">...</code></td>
<td>
<p>other arguments except 'panels', 'trans', 'study_labels',
and 'show_stats' passed to <code><a href="forestmodel.html#topic+forest_rma">forestmodel::forest_rma()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>ggplot</code> object
</p>


<h3>Author(s)</h3>

<p>ShixiangWang <a href="mailto:w_shixiang@163.com">w_shixiang@163.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("wang2019")
res &lt;- deft_do(wang2019, group_level = c("Male", "Female"))

p1 &lt;- deft_show(res, "all")
p1

p2 &lt;- deft_show(res, "subgroup")
p2
</code></pre>

<hr>
<h2 id='tidyeval'>Tidy eval helpers</h2><span id='topic+tidyeval'></span><span id='topic+expr'></span><span id='topic+enquo'></span><span id='topic+enquos'></span><span id='topic+sym'></span><span id='topic+syms'></span><span id='topic+.data'></span><span id='topic++3A+3D'></span><span id='topic+as_name'></span><span id='topic+as_label'></span>

<h3>Description</h3>


<ul>
<li> <p><code><a href="rlang.html#topic+quotation">sym</a>()</code> creates a symbol from a string and
<code><a href="rlang.html#topic+quotation">syms</a>()</code> creates a list of symbols from a
character vector.
</p>
</li>
<li> <p><code><a href="rlang.html#topic+quotation">enquo</a>()</code> and
<code><a href="rlang.html#topic+quotation">enquos</a>()</code> delay the execution of one or
several function arguments. <code>enquo()</code> returns a single quoted
expression, which is like a blueprint for the delayed computation.
<code>enquos()</code> returns a list of such quoted expressions.
</p>
</li>
<li> <p><code><a href="rlang.html#topic+quotation">expr</a>()</code> quotes a new expression <em>locally</em>. It
is mostly useful to build new expressions around arguments
captured with <code><a href="#topic+enquo">enquo()</a></code> or <code><a href="#topic+enquos">enquos()</a></code>:
<code>expr(mean(!!enquo(arg), na.rm = TRUE))</code>.
</p>
</li>
<li> <p><code><a href="rlang.html#topic+as_name">as_name</a>()</code> transforms a quoted variable name
into a string. Supplying something else than a quoted variable
name is an error.
</p>
<p>That's unlike <code><a href="rlang.html#topic+as_label">as_label</a>()</code> which also returns
a single string but supports any kind of R object as input,
including quoted function calls and vectors. Its purpose is to
summarise that object into a single label. That label is often
suitable as a default name.
</p>
<p>If you don't know what a quoted expression contains (for instance
expressions captured with <code>enquo()</code> could be a variable
name, a call to a function, or an unquoted constant), then use
<code>as_label()</code>. If you know you have quoted a simple variable
name, or would like to enforce this, use <code>as_name()</code>.
</p>
</li></ul>

<p>To learn more about tidy eval and how to use these tools, visit
<a href="https://tidyeval.tidyverse.org">https://tidyeval.tidyverse.org</a> and the
<a href="https://adv-r.hadley.nz/metaprogramming.html">Metaprogramming
section</a> of <a href="https://adv-r.hadley.nz">Advanced R</a>.
</p>

<hr>
<h2 id='wang2019'>Hazard ratio (HR) for disease progression analysis comparing
TMB-high with TMB-low in three NSCLC datasets</h2><span id='topic+wang2019'></span>

<h3>Description</h3>

<p>Hazard ratio (HR) for disease progression analysis comparing
TMB-high with TMB-low in three NSCLC datasets
</p>


<h3>Format</h3>

<p>a <code>data.frame</code></p>


<h3>Source</h3>

<p>Wang, Shixiang, et al. &quot;The predictive power of tumor mutational burden
in lung cancer immunotherapy response is influenced by patients' sex.&quot;
International journal of cancer (2019).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("wang2019")
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

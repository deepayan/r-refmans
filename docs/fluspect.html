<!DOCTYPE html><html><head><title>Help for package fluspect</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {fluspect}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#define.bands'><p>define.bands</p></a></li>
<li><a href='#fluspect'><p>fluspect</p></a></li>
<li><a href='#write.leafopt'><p>write.leafopt</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Fluspect-B</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.0</td>
</tr>
<tr>
<td>Author:</td>
<td>Alberto Hornero, Nastassia Vilfan, Christiaan van der Tol, Onno Muller, Uwe Rascher, Wouter Verhoef</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Alberto Hornero &lt;alberto@hornero.es&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>A model for leaf fluorescence, reflectance and transmittance spectra. It implements
    the model introduced by Vilfan et al. (2016) &lt;<a href="https://doi.org/10.1016%2Fj.rse.2016.09.017">doi:10.1016/j.rse.2016.09.017</a>&gt;. Fluspect-B
    calculates the emission of ChlF on both the illuminated and shaded side of the leaf.
    Other input parameters are chlorophyll and carotenoid concentrations, leaf water, dry matter 
    and senescent material (brown pigments) content, leaf mesophyll structure parameter and ChlF 
    quantum efficiency for the two photosystems, PS-I and PS-II.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>Imports:</td>
<td>pracma, utils</td>
</tr>
<tr>
<td>LazyData:</td>
<td>false</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.1.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2018-12-10 12:19:06 UTC; ahornero</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2018-12-18 23:30:05 UTC</td>
</tr>
</table>
<hr>
<h2 id='define.bands'>define.bands</h2><span id='topic+define.bands'></span>

<h3>Description</h3>

<p><code>define.bands</code> defines the spectral regions for the Fluspect-B model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>define.bands()
</code></pre>


<h3>Details</h3>

<p>Define spectral regions for SCOPE v_1.40 <br />
All spectral regions are defined here as row vectors <br />
WV Jan. 2013
</p>


<h3>Value</h3>

<p>a spectral object.
</p>


<h3>Author(s)</h3>

<p>Nastassia Vilfan, Christiaan van der Tol, Onno Muller, Uwe Rascher, Wouter Verhoef (Original version in Matlab)
</p>
<p>Alberto Hornero (Ported version into R)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>spectral &lt;- define.bands()

</code></pre>

<hr>
<h2 id='fluspect'>fluspect</h2><span id='topic+fluspect'></span>

<h3>Description</h3>

<p><code>fluspect</code> calculates reflectance and transmittance spectra of a leaf using FLUSPECT-B,
plus four excitation-fluorescence matrices
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fluspect(leafbio, spectral = define.bands(), optipar = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fluspect_+3A_leafbio">leafbio</code></td>
<td>
<p>Data Frame. It contains: Cab, Cca, Cw, Cdm, Cs, N, fqe</p>
</td></tr>
<tr><td><code id="fluspect_+3A_spectral">spectral</code></td>
<td>
<p>List. (Optional) A spectral object created with <a href="#topic+define.bands">define.bands</a>. A default spectral object is used
if the user does not indicate any.</p>
</td></tr>
<tr><td><code id="fluspect_+3A_optipar">optipar</code></td>
<td>
<p>Data Frame. (Optional) It contains: nr, Kdm, Kab, Kca, Kw, Ks, phiI, phiII. A default optipar object is used
if the user does not indicate any.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>More information: <a href="https://doi.org/10.1016/j.rse.2016.09.017">Fluspect-B: A model for leaf fluorescence, reflectance and transmittance spectra. Vilfan et al., 2016</a><br /><br />
Original version in MatLab: <a href="https://github.com/Christiaanvandertol/Fluspect">github.com/Christiaanvandertol/Fluspect</a>
</p>


<h3>Value</h3>

<p>a list which contains:
</p>

<ul>
<li><p> refl (reflectance)
</p>
</li>
<li><p> tran (transmittance)
</p>
</li>
<li><p> Mb (backward scattering fluorescence matrix, I for PSI and II for PSII)
</p>
</li>
<li><p> Mf (forward scattering fluorescence matrix,  I for PSI and II for PSII)
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Nastassia Vilfan, Christiaan van der Tol, Onno Muller, Uwe Rascher, Wouter Verhoef (Original version in Matlab)
</p>
<p>Alberto Hornero (Ported version into R)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>leafbio &lt;- data.frame(Cab = 70, Cca = 30, Cw = 0.013, Cdm = 0.024, Cs = 0.0, N = 4.09, fqe = 0.02)
leafopt &lt;- fluspect(leafbio)
plot(leafopt$refl)

</code></pre>

<hr>
<h2 id='write.leafopt'>write.leafopt</h2><span id='topic+write.leafopt'></span>

<h3>Description</h3>

<p><code>write.leafopt</code> writes the leafopt object as text files
</p>


<h3>Usage</h3>

<pre><code class='language-R'>write.leafopt(leafopt, path, digits = 5)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="write.leafopt_+3A_leafopt">leafopt</code></td>
<td>
<p>List. Spectral object generated with <a href="#topic+fluspect">fluspect</a></p>
</td></tr>
<tr><td><code id="write.leafopt_+3A_path">path</code></td>
<td>
<p>String. Output path. If the directory does not exist, a new one will be created.</p>
</td></tr>
<tr><td><code id="write.leafopt_+3A_digits">digits</code></td>
<td>
<p>Integer. (Optional) Number of digits (by default 5)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It always writes the text files in UNIX format, under the specified output path. It will override if files already exists.
The output filenames are:
</p>

<ul>
<li><p> leafoptrefl.txt
</p>
</li>
<li><p> leafopttran.txt
</p>
</li>
<li><p> leafoptkChlrel.txt
</p>
</li>
<li><p> leafoptMbI.txt
</p>
</li>
<li><p> leafoptMbII.txt
</p>
</li>
<li><p> leafoptMfI.txt
</p>
</li>
<li><p> leafoptMbII.txt
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Alberto Hornero
</p>


<h3>Examples</h3>

<pre><code class='language-R'>leafbio &lt;- data.frame(Cab = 70, Cca = 30, Cw = 0.013, Cdm = 0.024, Cs = 0.0, N = 4.09, fqe = 0.02)
leafopt &lt;- fluspect(leafbio)
write.leafopt(leafopt, path = file.path(tempdir(), 'output'))

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package ThurMod</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ThurMod}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#blocksort'><p>Sorts the blocks in ascending numbering</p></a></li>
<li><a href='#count.combn'><p>Count paired comparisons</p></a></li>
<li><a href='#count.xblocks'><p>Determine the number of extra blocks</p></a></li>
<li><a href='#designA'><p>Create the Thurstonian design matrix for paired comparison and ranking data.</p></a></li>
<li><a href='#FC'><p>Paired comparisons of $N=15$ items from one factor/trait (Thurstonian modeling)</p></a></li>
<li><a href='#FC_raw'><p>Raw ranking data of $N=15$ items from three factors/traits (Thurstonian modeling)</p></a></li>
<li><a href='#FC_scores'><p>Scores of the data set 'FC' from Mplus.</p></a></li>
<li><a href='#FC12'><p>Paired comparisons of $N=12$ items from one factor/trait (Thurstonian modeling)</p></a></li>
<li><a href='#fit.correct'><p>Correct degree of freedom and fit indices in Thurstonian block models</p></a></li>
<li><a href='#fit.lavaan'><p>Performs lavaan estimation of the given model.</p></a></li>
<li><a href='#fit.mplus'><p>Performs Mplus estimation of the given model.</p></a></li>
<li><a href='#get.scores'><p>Estimate factor scores based on Genuine Likelihood</p></a></li>
<li><a href='#get.xblocks'><p>Get extra blocks in a Thurstonian design, that links all blocks.</p></a></li>
<li><a href='#get.xblocks.any'><p>Get extra blocks in a Thurstonian design, that links as few blocks as possible.</p></a></li>
<li><a href='#i.name'><p>Creates names for paired comparisons of a given design.</p></a></li>
<li><a href='#metablock'><p>Find all general blocks</p></a></li>
<li><a href='#mod.matrices'><p>Create model matrices for Thurstonian modeling</p></a></li>
<li><a href='#pair.combn'><p>Determine all paired comparisons</p></a></li>
<li><a href='#rankA'><p>Determine the rank of the design matrix defined by the blocks.</p></a></li>
<li><a href='#read.mplus'><p>Reads results from Mplus output file.</p></a></li>
<li><a href='#recode'><p>Recode variables.</p></a></li>
<li><a href='#redundancies'><p>Determine the number of redundancies</p></a></li>
<li><a href='#reliabiltyFS'><p>Calculate reliability estimate for factor scores.</p></a></li>
<li><a href='#sim.data'><p>Create data based on Thurstonian model equations</p></a></li>
<li><a href='#syntax.lavaan'><p>Create lavaan syntax for Thurstonian forced choice analysis</p></a></li>
<li><a href='#syntax.mplus'><p>Create Mplus syntax for Thurstonian forced choice designs.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Thurstonian CFA and Thurstonian IRT Modeling</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1.11</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-09-019</td>
</tr>
<tr>
<td>Description:</td>
<td>Fit Thurstonian forced-choice models (CFA (simple and factor) and IRT) in R. This package allows for the analysis of item response modeling (IRT) as well as confirmatory factor analysis (CFA) in the Thurstonian framework. Currently, estimation can be performed by 'Mplus' and 'lavaan'. References:
  Brown &amp; Maydeu-Olivares (2011) &lt;<a href="https://doi.org/10.1177%2F0013164410375112">doi:10.1177/0013164410375112</a>&gt;;
  Jansen, M. T., &amp; Schulze, R. (in review). The Thurstonian linked block design: Improving Thurstonian modeling for paired comparison and ranking data.;
  Maydeu-Olivares &amp; Böckenholt (2005) &lt;<a href="https://doi.org/10.1037%2F1082-989X.10.3.285">doi:10.1037/1082-989X.10.3.285</a>&gt;.</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>stats, utils, mvtnorm, MASS, matrixStats, lavaan</td>
</tr>
<tr>
<td>Suggests:</td>
<td>rmarkdown, knitr</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/MarkusTJansen/ThurMod">https://github.com/MarkusTJansen/ThurMod</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/MarkusTJansen/ThurMod/issues">https://github.com/MarkusTJansen/ThurMod/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-09-19 10:58:18 UTC; Jansen</td>
</tr>
<tr>
<td>Author:</td>
<td>Markus Thomas Jansen
    <a href="https://orcid.org/0000-0002-5162-4409"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Markus Thomas Jansen &lt;mjansen@uni-wuppertal.de&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-09-19 16:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='blocksort'>Sorts the blocks in ascending numbering</h2><span id='topic+blocksort'></span>

<h3>Description</h3>

<p>This function sorts all items in a block into ascending order.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>blocksort(blocks)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="blocksort_+3A_blocks">blocks</code></td>
<td>
<p>A matrix defining the blocks of the model. The number of rows 
must be the number of blocks, each row represents a block and contains the 
item numbers. The number of columns represent the number of items per block.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a matrix consisting of the blocks where all items per blocks
are sorted in ascending order.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Define 30 items divided by ten triplets as blocks
blocks &lt;- matrix(c(1:30), ncol = 3)

# sort the blocks
blocksort(blocks)

</code></pre>

<hr>
<h2 id='count.combn'>Count paired comparisons</h2><span id='topic+count.combn'></span>

<h3>Description</h3>

<p>This function calculates the number of paired comparisons needed to compare a
set of N items.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>count.combn(nitem)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="count.combn_+3A_nitem">nitem</code></td>
<td>
<p>Number of items.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is only useful, if the number of paired comparisons of a full
design, that is all possible paired comparisons, is of interest. Then the 
number is
</p>
<p style="text-align: center;"><code class="reqn">\frac{N\times(N-1)}{2}</code>
</p>



<h3>Value</h3>

<p>An integer corresponding to the number of paired comparisons.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Number if paired comparisons for a set of 15 items = 105.
count.combn(15)

</code></pre>

<hr>
<h2 id='count.xblocks'>Determine the number of extra blocks</h2><span id='topic+count.xblocks'></span>

<h3>Description</h3>

<p>This function determines the minimal number of extra blocks needed in order
to link all blocks.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>count.xblocks(blocks)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="count.xblocks_+3A_blocks">blocks</code></td>
<td>
<p>A matrix defining the blocks of the model. The number of rows
must be the number of blocks, each row represents a block and contains the
item numbers. The number of columns present the number of items per block.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The matrix of blocks must be constructed so that the number of
columns corresponds to the number of items per block. The number of rows
corresponds to the number of blocks for the specific measure. If $p$ is the
number of blocks, and $k$ is the number of items per block (e.g. $k=3$ for
triplets), then the number of extra blocks can be determined by (see also
Jansen &amp; Schulze, 2023)
</p>
<p style="text-align: center;"><code class="reqn">\lceil\frac{p-1}{k-1}\rceil</code>
</p>



<h3>Value</h3>

<p>An integer corresponding to the number of extra blocks needed.
</p>


<h3>References</h3>

<p>Jansen, M. T., &amp; Schulze, R. (2023). <em>The Thurstonian linked block design: Improving Thurstonian modeling for paired comparison and ranking data</em>. Manuscript submitted.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Define a matrix of blocks
blocks &lt;- matrix(1:15,ncol=3, byrow=TRUE)

# Determine the number of extra blocks needed
count.xblocks(blocks)

</code></pre>

<hr>
<h2 id='designA'>Create the Thurstonian design matrix for paired comparison and ranking data.</h2><span id='topic+designA'></span>

<h3>Description</h3>

<p>Creates the Thurstonian design matrix for paired comparison and ranking data,
given by blocks or the number of items.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>designA(blocks = NULL, nitems = max(unique(blocks)))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="designA_+3A_blocks">blocks</code></td>
<td>
<p>A matrix defining the blocks of the model. The number of rows
must be the number of blocks, each row represents a block and contains the
item numbers. The number of columns present the number of items per block.</p>
</td></tr>
<tr><td><code id="designA_+3A_nitems">nitems</code></td>
<td>
<p>The number of items that are included in the design.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Each Thurstonian design can be defined by blocks of at least two
items. The function determines the fundamental design matrix A of the
Thurstonian design, including all possible paired comparisons that can be
derived by the blocks. For further information of the importance of the
design matrix, see Jansen and Schulze (2023a,2023b).
</p>


<h3>Value</h3>

<p>Returns a design matrix which includes all paired comparisons
derivable from the blocks.
</p>


<h3>References</h3>

<p>Jansen, M. T., &amp; Schulze, R. (2023a). <em>Linear factor analytic Thurstonian forced-choice models: Current status and issues</em>. Manuscript submitted.
</p>
<p>Jansen, M. T., &amp; Schulze, R. (2023b). <em>The Thurstonian linked block design: Improving Thurstonian modeling for paired comparison and ranking data</em>. Manuscript submitted.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Define a matrix of blocks
blocks &lt;- matrix(1:15,ncol=3, byrow=TRUE)

# Get the design matrix
loading_Matrix &lt;- designA(blocks)

</code></pre>

<hr>
<h2 id='FC'>Paired comparisons of $N=15$ items from one factor/trait (Thurstonian modeling)</h2><span id='topic+FC'></span>

<h3>Description</h3>

<p>This data set contains synthetic data of 1000 participants on all binary
indicators of 15 items. For each paired comparison, participants had to rank
the two alternative items according to their preference. It is assumed that 
transitivity holds (that is, the data comes from a ranking task). More
details can be found in Brown and Maydeu-Olivares (2011), Jansen and Schulze
(2023) and Maydeu-Olivares and Böckenholt (2005).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(FC)
</code></pre>


<h3>Format</h3>

<p>A data frame with 1000 observations on 105 variables. For a variable
ixiy, the result is the response preferences between item x and item y. It is
coded a 1, if item x is preferred over item y, and 0 otherwise.
</p>


<h3>References</h3>

<p>Brown, A, &amp; Maydeu-Olivares, A. (2011). Item response modeling of forced-choice questionnaires. <em>Educational and Psychological Measurement</em>, <em>71</em>(3), 460-502. <a href="https://doi.org/10.1177/0013164410375112">doi:10.1177/0013164410375112</a>
</p>
<p>Jansen, M. T., &amp; Schulze, R. (in review). <em>The Thurstonian linked block design: Improving Thurstonian modeling for paired comparison and ranking data</em>.
</p>
<p>Maydeu-Olivares, A., &amp; Böckenholt, U. (2005). Structural equation modeling of paired-comparison and ranking data. <em>Psychological Methods</em>, <em>10</em>(3), 285-304. <a href="https://doi.org/10.1037/1082-989X.10.3.285">doi:10.1037/1082-989X.10.3.285</a>.
</p>

<hr>
<h2 id='FC_raw'>Raw ranking data of $N=15$ items from three factors/traits (Thurstonian modeling)</h2><span id='topic+FC_raw'></span>

<h3>Description</h3>

<p>This data set contains synthetic raw data of 1000 participants on a ranking
task on 15 items.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(FC_raw)
</code></pre>


<h3>Format</h3>

<p>A data frame with 1000 observations on 15 variables.
</p>

<hr>
<h2 id='FC_scores'>Scores of the data set 'FC' from Mplus.</h2><span id='topic+FC_scores'></span>

<h3>Description</h3>

<p>This data set contains synthetic data of 1000 participants on all binary
indicators of 15 items and their factor scores. For each paired comparison, 
participants had to rank the two alternative items according to their
preference. It is assumed that transitivity holds (that is, the data comes
from a ranking task). More details can be found in Brown and Maydeu-Olivares
(2011), Jansen and Schulze (2023) and Maydeu-Olivares and Böckenholt (2005).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(FC_scores)
</code></pre>


<h3>Format</h3>

<p>A data frame with 1000 observations on 111 variables. For a variable
ixiy, the result is the response preferences between item x and item y. It is
coded a 1, if item x is preferred over item y, and 0 otherwise. The last six
variables are the resulting factor scores and the standard error of factor 
scores for three factors.
</p>


<h3>References</h3>

<p>Brown, A, &amp; Maydeu-Olivares, A. (2011). Item response modeling of forced-choice questionnaires. <em>Educational and Psychological Measurement</em>, <em>71</em>(3), 460-502. <a href="https://doi.org/10.1177/0013164410375112">doi:10.1177/0013164410375112</a>
</p>
<p>Jansen, M. T., &amp; Schulze, R. (in review). <em>The Thurstonian linked block design: Improving Thurstonian modeling for paired comparison and ranking data</em>.
</p>
<p>Maydeu-Olivares, A., &amp; Böckenholt, U. (2005). Structural equation modeling of paired-comparison and ranking data. <em>Psychological Methods</em>, <em>10</em>(3), 285-304. <a href="https://doi.org/10.1037/1082-989X.10.3.285">doi:10.1037/1082-989X.10.3.285</a>.
</p>

<hr>
<h2 id='FC12'>Paired comparisons of $N=12$ items from one factor/trait (Thurstonian modeling)</h2><span id='topic+FC12'></span>

<h3>Description</h3>

<p>This data set contains synthetic data of 1000 participants on all binary
indicators of 12 items. For each paired comparison, participants had to rank
the two alternative items according to their preference. It is assumed that 
transitivity holds (that is, the data comes from a ranking task). More
details can be found in Brown and Maydeu-Olivares (2011), Jansen and Schulze
(2023) and Maydeu-Olivares and Böckenholt (2005).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(FC12)
</code></pre>


<h3>Format</h3>

<p>A data frame with 1000 observations on 66 variables. For a variable
ixiy, the result is the response preferences between item x and item y. It is
coded a 1, if item x is preferred over item y, and 0 otherwise.
</p>


<h3>References</h3>

<p>Brown, A, &amp; Maydeu-Olivares, A. (2011). Item response modeling of forced-choice questionnaires. <em>Educational and Psychological Measurement</em>, <em>71</em>(3), 460-502. <a href="https://doi.org/10.1177/0013164410375112">doi:10.1177/0013164410375112</a>
</p>
<p>Jansen, M. T., &amp; Schulze, R. (in review). <em>The Thurstonian linked block design: Improving Thurstonian modeling for paired comparison and ranking data</em>.
</p>
<p>Maydeu-Olivares, A., &amp; Böckenholt, U. (2005). Structural equation modeling of paired-comparison and ranking data. <em>Psychological Methods</em>, <em>10</em>(3), 285-304. <a href="https://doi.org/10.1037/1082-989X.10.3.285">doi:10.1037/1082-989X.10.3.285</a>.
</p>

<hr>
<h2 id='fit.correct'>Correct degree of freedom and fit indices in Thurstonian block models</h2><span id='topic+fit.correct'></span>

<h3>Description</h3>

<p>Correct fit indices (RMSEA and CFI) by correcting the degrees of freedom
after estimation a Thurstonian model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fit.correct(n, blocks, chi2_mod, df_mod, chi2_base, df_base)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fit.correct_+3A_n">n</code></td>
<td>
<p>The number of respondents.</p>
</td></tr>
<tr><td><code id="fit.correct_+3A_blocks">blocks</code></td>
<td>
<p>A matrix defining the blocks of the model. The number of rows
must be the number of blocks, each row represents a block and contains the
item numbers. The number of columns present the number of items per block.</p>
</td></tr>
<tr><td><code id="fit.correct_+3A_chi2_mod">chi2_mod</code></td>
<td>
<p>The <code class="reqn">\chi^2</code> value of the estimated model.</p>
</td></tr>
<tr><td><code id="fit.correct_+3A_df_mod">df_mod</code></td>
<td>
<p>The degrees of freedom of the estimated model.</p>
</td></tr>
<tr><td><code id="fit.correct_+3A_chi2_base">chi2_base</code></td>
<td>
<p>The <code class="reqn">\chi^2</code> value of the baseline model.</p>
</td></tr>
<tr><td><code id="fit.correct_+3A_df_base">df_base</code></td>
<td>
<p>The degrees of freedom of the baseline model.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If a ranking design is used (variances of binary indicators is zero)
there are redundancies among the thresholds and tetrachoric correlations to 
be estimated. This is the case, whenever the number of items per block is 
larger than two. In these cases the degrees of freedom must be corrected by
subtracting the redundancies. For more details see Jansen and Schulze (2023)
and Maydeu-Olivares (1999).
</p>


<h3>Value</h3>

<p>Returns a vector containing corrected degrees of freedom, and the
corrected RMSEA and CFI values.
</p>


<h3>References</h3>

<p>Jansen, M. T., &amp; Schulze, R. (in review). <em>The Thurstonian linked block design: Improving Thurstonian modeling for paired comparison and ranking data</em>.
</p>
<p>Maydeu-Olivares, A. (1999). Thurstonian modeling of ranking data via mean and covariance structure analysis. <em>Psychometrika</em>, <em>64</em>(3), 325-340. <a href="https://doi.org/10.1007/BF02294299">doi:10.1007/BF02294299</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Define 30 items divided by ten triplets as blocks
blocks &lt;- matrix(c(1:30), ncol = 3)

# Assume the model yield the following fit, with 426 respondents
# chi2_mod = 224.456, df_mod = 59, chi2_base = 1056.566, df_base = 90

fit.correct(426,blocks,224.456,59,1056.566,90)

# The corrected values are rmsea = 0.0917892; cfi =  0.8184749

</code></pre>

<hr>
<h2 id='fit.lavaan'>Performs lavaan estimation of the given model.</h2><span id='topic+fit.lavaan'></span>

<h3>Description</h3>

<p>This function writes a lavaan syntax given the specifications of the
Thurstonian forced choice model. Additionally it runs the code (given lavaan
is installed) and returns the results.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fit.lavaan(blocks, itf, model, data = NULL, estimator = "ULSMV",
  rename_list = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fit.lavaan_+3A_blocks">blocks</code></td>
<td>
<p>A matrix defining the blocks of the model. The number of rows
must be the number of blocks, each row represents a block and contains the
item numbers. The number of columns present the number of items per block.</p>
</td></tr>
<tr><td><code id="fit.lavaan_+3A_itf">itf</code></td>
<td>
<p>A vector defining the items-to-factor relation. For example
'c(1,1,1,2,2,2)' defines six items, the first three correspond to factor 1,
the second three correspond to factor 2.</p>
</td></tr>
<tr><td><code id="fit.lavaan_+3A_model">model</code></td>
<td>
<p>A descriptor for the model. Can be one of ''lmean'',
''uc'&lsquo;, '&rsquo;irt'&lsquo; or  '&rsquo;simple2'&lsquo;, '&rsquo;simple3'&lsquo; or '&rsquo;simple5''. The Number behind 
the ''simple'' statement defines the Thurstone case.</p>
</td></tr>
<tr><td><code id="fit.lavaan_+3A_data">data</code></td>
<td>
<p>A matrix or data frame including the binary indicators as columns
and respondents as rows.</p>
</td></tr>
<tr><td><code id="fit.lavaan_+3A_estimator">estimator</code></td>
<td>
<p>Which estimator should be used? All estimators that are
available in &lsquo;lavaan' can be used. Defaults to '&rsquo;ULSMV''.</p>
</td></tr>
<tr><td><code id="fit.lavaan_+3A_rename_list">rename_list</code></td>
<td>
<p>A list with two vectors to rename the objects in the syntax.
Vector one is the original names, vector two the new names. Defaults to 'NULL'.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The syntax currently is able to perform model analysis for the
latent utility model (''simple'&lsquo; and '&rsquo;lmean''; Maydeu-Olivares &amp; Böckenholt, 2005) the 
unconstrained factor model (''uc''; Maydeu-Olivares &amp; Böckenholt, 2005) and 
the IRT model(''irt''; Maydeu-Olivares &amp; Brown, 2010). Additionally, all
model types can be performed with all types of forced choice designs (full,
block, partially linked block, linked block). For an overview and review see
Jansen and Schulze (2023a,2023b).
</p>
<p>The standard naming procedure ixiy, for the comparison of items x and y, 
can be changed by specifying the 'rename_list' argument. The first vector of
the schould be the vector of original names, for example 
&lsquo;c(&rsquo;i1i2','i1i3','i2i3','Trait1','Trait2','Trait3')'
the second vector should contain the new names, for example 
&lsquo;c(&rsquo;A01E12','A01C13','E01C23','Agree','Extra','Consc')'.
</p>


<h3>Value</h3>

<p>Returns a lavaan object containing the specified results, after model
analysis.
</p>


<h3>References</h3>

<p>Maydeu-Olivares, A., &amp; Böckenholt, U. (2005). Structural equation modeling of paired-comparison and ranking data. <em>Psychological Methods</em>, <em>10</em>(3), 285-304. <a href="https://doi.org/10.1037/1082-989X.10.3.285">doi:10.1037/1082-989X.10.3.285</a>
</p>
<p>Maydeu-Olivares, A., &amp; Brown, A. (2010). Item response modeling of paired comparison and ranking data. <em>Multivariate Behavioural Research</em>, <em>45</em>(6), 935-974. <a href="https://doi.org/10.1080/00273171.2010.531231">doi:10.1080/00273171.2010.531231</a>
</p>
<p>Jansen, M. T., &amp; Schulze, R. (2023a). <em>Linear factor analytic Thurstonian forced-choice models: Current status and issues</em>. Educational and Psychological Measurement.
</p>
<p>Jansen, M. T., &amp; Schulze, R. (2023b, in review). <em>The Thurstonian linked block design: Improving Thurstonian modeling for paired comparison and ranking data</em>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# read and save data set FC
data(FC12)

# set seed and define blocks
blocks &lt;- matrix(c(5,2,1,4,7,6,3,8,10,12,9,11), ncol = 3)

# define the item-to-factor relation
itf &lt;- rep(1:3,4)

# Create and run syntax
fit &lt;- fit.lavaan(blocks, itf, 'irt', FC, estimator = 'ULSMV')

</code></pre>

<hr>
<h2 id='fit.mplus'>Performs Mplus estimation of the given model.</h2><span id='topic+fit.mplus'></span>

<h3>Description</h3>

<p>This function writes the Mplus syntax given the specifications of a
Thurstonian forced choice design. Additionally it runs the code
(given Mplus is installed) and returns the results.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fit.mplus(blocks, itf, model, input_path, output_path = NULL,
  data_path = "myDataFile.dat", fscore_path = "myFactorScores.dat",
  title = "myFC_model", ID = FALSE, byblock = TRUE,
  estimator = "ULSMV", data_full = FALSE, standardized = TRUE,
  rename_list = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fit.mplus_+3A_blocks">blocks</code></td>
<td>
<p>A matrix defining the blocks of the model. The number of rows
must be the number of blocks, each row represents a block and contains the
item numbers. The number of columns present the number of items per block.</p>
</td></tr>
<tr><td><code id="fit.mplus_+3A_itf">itf</code></td>
<td>
<p>A vector defining the items-to-factor relation. For example
'c(1,1,1,2,2,2)' defines six items, the first three correspond to factor 1,
the second three correspond to factor 2.</p>
</td></tr>
<tr><td><code id="fit.mplus_+3A_model">model</code></td>
<td>
<p>A descriptor for the model. Can be one of ''lmean'',
''uc'&lsquo;, '&rsquo;irt'&lsquo; or  '&rsquo;simple2'&lsquo;, '&rsquo;simple3'&lsquo; or '&rsquo;simple5''. The Number behind 
the ''simple'' statement defines the Thurstone case.</p>
</td></tr>
<tr><td><code id="fit.mplus_+3A_input_path">input_path</code></td>
<td>
<p>Path to save the Mplus input file. Defaults to ''myFC_model.inp''.</p>
</td></tr>
<tr><td><code id="fit.mplus_+3A_output_path">output_path</code></td>
<td>
<p>Path to the Mplus output file. Defaults to ''myFC_model.out''.</p>
</td></tr>
<tr><td><code id="fit.mplus_+3A_data_path">data_path</code></td>
<td>
<p>Path of the data file for Mplus. Defaults to ''myDataFile.dat''.</p>
</td></tr>
<tr><td><code id="fit.mplus_+3A_fscore_path">fscore_path</code></td>
<td>
<p>Path to save the file of factor scores. Defaults to
''myFactorScores.dat''.</p>
</td></tr>
<tr><td><code id="fit.mplus_+3A_title">title</code></td>
<td>
<p>Title of the Mplus model. Defaults to ''myFC_model''.</p>
</td></tr>
<tr><td><code id="fit.mplus_+3A_id">ID</code></td>
<td>
<p>Logical. Should a ID variable be included? The ID must be the first 
variable in the data set. Defaults to 'FALSE'.</p>
</td></tr>
<tr><td><code id="fit.mplus_+3A_byblock">byblock</code></td>
<td>
<p>Logical. Should the order in Mplus variable statement be the same
as in the blocks. Defaults to 'TRUE'.</p>
</td></tr>
<tr><td><code id="fit.mplus_+3A_estimator">estimator</code></td>
<td>
<p>Which estimator should be used? All Estimators that are
available in Mplus can be used. Defaults to ''ULSMV''.</p>
</td></tr>
<tr><td><code id="fit.mplus_+3A_data_full">data_full</code></td>
<td>
<p>Logical. Are the data considered to be from a full design?
Defaults to 'FALSE'.</p>
</td></tr>
<tr><td><code id="fit.mplus_+3A_standardized">standardized</code></td>
<td>
<p>Logical. Should standardized values be computed? Defaults
to 'TRUE'.</p>
</td></tr>
<tr><td><code id="fit.mplus_+3A_rename_list">rename_list</code></td>
<td>
<p>A list with two vectors to rename the objects in the syntax.
Vector one is the original names, vector two the new names. Defaults to 'NULL'.</p>
</td></tr>
<tr><td><code id="fit.mplus_+3A_...">...</code></td>
<td>
<p>Further arguments passed to function 'read.mplus'.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The syntax currently is able to perform model analysis for the
latent utility models (''simple'&lsquo; and '&rsquo;lmean''; Maydeu-Olivares &amp; Böckenholt, 2005) the 
unconstrained factor model (''uc''; Maydeu-Olivares &amp; Böckenholt, 2005) and 
the IRT model(''irt''; Maydeu-Olivares &amp; Brown, 2010). Additionally, all
model types can be performed with all types of forced choice designs (full,
block, partially linked block, linked block). For an overview and review see
Jansen and Schulze (2023a,2023b).
</p>
<p>The function writes and saves the Mplus input files, keeps the output files 
and reads the results specified for the function 'read.mplus'.
</p>
<p>The standard naming procedure ixiy, for the comparison of items x and y, 
can be changed by specifying the 'rename_list' argument. The first vector of
the schould be the vector of original names, for example 
&lsquo;c(&rsquo;i1i2','i1i3','i2i3','Trait1','Trait2','Trait3')'
the second vector should contain the new names, for example 
&lsquo;c(&rsquo;A01E12','A01C13','E01C23','Agree','Extra','Consc')'.
</p>


<h3>Value</h3>

<p>Returns a list containing the specified results, after model analysis.
</p>


<h3>References</h3>

<p>Maydeu-Olivares, A., &amp; Böckenholt, U. (2005). Structural equation modeling of paired-comparison and ranking data. <em>Psychological Methods</em>, <em>10</em>(3), 285-304. <a href="https://doi.org/10.1037/1082-989X.10.3.285">doi:10.1037/1082-989X.10.3.285</a>
</p>
<p>Maydeu-Olivares, A., &amp; Brown, A. (2010). Item response modeling of paired comparison and ranking data. <em>Multivariate Behavioural Research</em>, <em>45</em>(6), 935-974. <a href="https://doi.org/10.1080/00273171.2010.531231">doi:10.1080/00273171.2010.531231</a>
</p>
<p>Jansen, M. T., &amp; Schulze, R. (2023a). <em>Linear factor analytic Thurstonian forced-choice models: Current status and issues</em>. Educational and Psychological Measurement.
</p>
<p>Jansen, M. T., &amp; Schulze, R. (2023b, in review). <em>The Thurstonian linked block design: Improving Thurstonian modeling for paired comparison and ranking data</em>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# read and save data set FC
data(FC)
write.table(FC,paste0(tempdir(),'/','my_data.dat'),quote=FALSE, sep=" ",
col.names = FALSE, row.names = FALSE)

# set seed and define blocks
set.seed(1)
blocks &lt;- matrix(sample(1:15,15), ncol = 3)

# define the item-to-factor relation
itf &lt;- rep(1:3,5)

# perform analysis 
## Not run: 
fit.mplus(blocksort(blocks),itf,'irt',data_path = 'mydata.dat', data_full = TRUE,
input_path = paste0(tempdir(),'/','myFC_model'))

## End(Not run)

</code></pre>

<hr>
<h2 id='get.scores'>Estimate factor scores based on Genuine Likelihood</h2><span id='topic+get.scores'></span>

<h3>Description</h3>

<p>This function estimates factor scores based on genuine likelihood (Yousfi, 2019).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get.scores(dat, blocks, itf, fit, alg = mvtnorm::TVPACK(), log = TRUE, mp,
  sp, serr = TRUE, sv = NULL, blocks_ul = NULL, mplus = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get.scores_+3A_dat">dat</code></td>
<td>
<p>A data.frame or matrix defining holding the binary coded and named
response data.</p>
</td></tr>
<tr><td><code id="get.scores_+3A_blocks">blocks</code></td>
<td>
<p>A matrix defining the blocks of the model. The number of rows
must be the number of blocks, each row represents a block and contains the
item numbers. The number of columns present the number of items per block.</p>
</td></tr>
<tr><td><code id="get.scores_+3A_itf">itf</code></td>
<td>
<p>A vector defining the items-to-factor relation. For example
'c(1,1,1,2,2,2)' defines six items, the first three correspond to factor 1,
the second three correspond to factor 2.</p>
</td></tr>
<tr><td><code id="get.scores_+3A_fit">fit</code></td>
<td>
<p>The fit object. In case of Mplus, this is the path to the Mplus output file. In case of lavaan this is the lavaan Object.</p>
</td></tr>
<tr><td><code id="get.scores_+3A_alg">alg</code></td>
<td>
<p>The algorithm to use for numerical integration. See ?mvtnorm::pmvnorm.</p>
</td></tr>
<tr><td><code id="get.scores_+3A_log">log</code></td>
<td>
<p>logical. Should the log transformed results be returned. Defaults to TRUE.</p>
</td></tr>
<tr><td><code id="get.scores_+3A_mp">mp</code></td>
<td>
<p>The means of prior distribution. Defaults to multivariate normal with means 0 and vars 1</p>
</td></tr>
<tr><td><code id="get.scores_+3A_sp">sp</code></td>
<td>
<p>The vars of prior distribution. Defaults to multivariate normal with means 0 and vars 1</p>
</td></tr>
<tr><td><code id="get.scores_+3A_serr">serr</code></td>
<td>
<p>Logical. Should the standard errors be returned. Defaults to TRUE.</p>
</td></tr>
<tr><td><code id="get.scores_+3A_sv">sv</code></td>
<td>
<p>Starting values. Defaults to NULL.</p>
</td></tr>
<tr><td><code id="get.scores_+3A_blocks_ul">blocks_ul</code></td>
<td>
<p>Similar to 'blocks', but only with the unlinked design. Useful
for comparison with other functions based on R.</p>
</td></tr>
<tr><td><code id="get.scores_+3A_mplus">mplus</code></td>
<td>
<p>Logical. Are results read from mplus? Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="get.scores_+3A_...">...</code></td>
<td>
<p>other arguments passed by get.scores for optim.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function estimates factor scores based on the Thurstonian IRT model
and based on genuine likelihood proposed by Yousfi (2019). The function allows
for the estimation of factor scores under all block designs, limited only by 
numerical integration procedures. For items per block between 5 and 20 use 
'alg=mvtnorm::Miwa()'. Additionally, all model types can be performed with all
types of forced choice designs (full, block, partially linked block, linked
block). For an overview and review see Jansen and Schulze (2023a,2023b).
</p>
<p>The standard naming procedure ixiy, for the comparison of items x and y.
</p>


<h3>Value</h3>

<p>The result is a list with the factor scores and the standard errors per person and factor.
</p>


<h3>References</h3>

<p>Maydeu-Olivares, A., &amp; Böckenholt, U. (2005). Structural equation modeling of paired-comparison and ranking data. <em>Psychological Methods</em>, <em>10</em>(3), 285-304. <a href="https://doi.org/10.1037/1082-989X.10.3.285">doi:10.1037/1082-989X.10.3.285</a>
</p>
<p>Maydeu-Olivares, A., &amp; Brown, A. (2010). Item response modeling of paired comparison and ranking data. <em>Multivariate Behavioural Research</em>, <em>45</em>(6), 935-974. <a href="https://doi.org/10.1080/00273171.2010.531231">doi:10.1080/00273171.2010.531231</a>
</p>
<p>Jansen, M. T., &amp; Schulze, R. (2023a). <em>Linear factor analytic Thurstonian forced-choice models: Current status and issues</em>. Educational and Psychological Measurement.
</p>
<p>Jansen, M. T., &amp; Schulze, R. (2023b, in review). <em>The Thurstonian linked block design: Improving Thurstonian modeling for paired comparison and ranking data</em>. 
</p>
<p>Yousfi, S. (2019). Person Parameter Estimation for IRT Models of Forced-Choice Data: Merits and Perils of Pseudo-Likelihood Approaches. In: Wiberg, M., Molenaar, D., González, J., Böckenholt, U., Kim, JS. (eds) <em>Quantitative Psychology</em>. IMPS 2019. Springer Proceedings in Mathematics &amp; Statistics, vol 322. Springer, Cham. <a href="https://doi.org/10.1007/978-3-030-43469-4_3">doi:10.1007/978-3-030-43469-4_3</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

# read and save data set FC
data(FC12)

# set seed and define blocks
blocks &lt;- matrix(c(5,2,1,4,7,6,3,8,10,12,9,11), ncol = 3)

# define the item-to-factor relation
itf &lt;- rep(1:3,4)

# Create and run syntax
fit &lt;- fit.lavaan(blocks, itf, 'irt', FC, estimator = 'ULSMV')

# get scores for the first two respondents
ests &lt;- get.scores(dat=as.matrix(FC)[1:2,],itf=itf, blocks=blocks,
fit = fit,mp=rep(0,max(itf)), 
sp=diag(1,max(itf)),estimator="MAP",sv=NULL, alg=mvtnorm::Miwa(),log=TRUE, mplus=FALSE)

</code></pre>

<hr>
<h2 id='get.xblocks'>Get extra blocks in a Thurstonian design, that links all blocks.</h2><span id='topic+get.xblocks'></span>

<h3>Description</h3>

<p>The function creates extra blocks for a Thurstonian design, that links all
initial blocks with as few extra blocks as possible. The number of extra
blocks is determined by 'count.xblocks' (see Jansen &amp; Schulze, 2023).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get.xblocks(blocks, itf, multidim, item_not = NULL, min = FALSE,
  show.warnings = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get.xblocks_+3A_blocks">blocks</code></td>
<td>
<p>A matrix defining the blocks of the model. The number of rows
must be the number of blocks, each row represents a block and contains the
item numbers. The number of columns present the number of items per block.</p>
</td></tr>
<tr><td><code id="get.xblocks_+3A_itf">itf</code></td>
<td>
<p>A vector defining the items-to-factor relation. For example
'c(1,1,1,2,2,2)' defines six items, the first three correspond to factor 1,
the second three correspond to factor 2.</p>
</td></tr>
<tr><td><code id="get.xblocks_+3A_multidim">multidim</code></td>
<td>
<p>Logical. Should the items within each linking block be
forced to be multidimensional?</p>
</td></tr>
<tr><td><code id="get.xblocks_+3A_item_not">item_not</code></td>
<td>
<p>The items that are differently keyed compared to the majority
of items.</p>
</td></tr>
<tr><td><code id="get.xblocks_+3A_min">min</code></td>
<td>
<p>Logical. Should a minimal number of blocks contain mixed keyed items?</p>
</td></tr>
<tr><td><code id="get.xblocks_+3A_show.warnings">show.warnings</code></td>
<td>
<p>Logical. Should warnings be shown?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The result is a matrix where the rows correspond to the specific
extra blocks.
</p>


<h3>References</h3>

<p>Jansen, M. T., &amp; Schulze, R. (2023). <em>The Thurstonian linked block design: Improving Thurstonian modeling for paired comparison and ranking data</em>. Manuscript submitted.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Define a matrix of blocks
blocks &lt;- matrix(1:15,ncol=3, byrow=TRUE)

# define the item-to-factor relation
itf &lt;- rep(1:3,5)
 
# Get the extra blocks for a completely linked design
get.xblocks(blocks, itf, FALSE)

</code></pre>

<hr>
<h2 id='get.xblocks.any'>Get extra blocks in a Thurstonian design, that links as few blocks as possible.</h2><span id='topic+get.xblocks.any'></span>

<h3>Description</h3>

<p>The function creates extra blocks in a Thurstonian design, that links as few
initial blocks as possible, with the number of blocks determined by
'count.xblocks'. This is only useful for comparisons between linked and
partially linked block designs (Jansen &amp; Schulze, 2023).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get.xblocks.any(blocks, itf, multidim)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get.xblocks.any_+3A_blocks">blocks</code></td>
<td>
<p>A matrix defining the blocks of the model. The number of rows
must be the number of blocks, each row represents a block and contains the
item numbers. The number of columns present the number of items per block.</p>
</td></tr>
<tr><td><code id="get.xblocks.any_+3A_itf">itf</code></td>
<td>
<p>A vector defining the items-to-factor relation. For example
'c(1,1,1,2,2,2)' defines six items, the first three correspond to factor 1,
the second three correspond to factor 2.</p>
</td></tr>
<tr><td><code id="get.xblocks.any_+3A_multidim">multidim</code></td>
<td>
<p>Logical. Should the items within each linking block be
forced to be multidimensional?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The main strategy of the function is to create extra blocks that
link as few blocks as possible, with the number of blocks determined by
'count.xblocks'. Therefore, first all combinations of additional blocks with
the first two blocks are created. If more extra blocks are needed the
function uses block three, four, etc..
</p>


<h3>Value</h3>

<p>The result is a matrix where the rows correspond to the specific
extra blocks.
</p>


<h3>References</h3>

<p>Jansen, M. T., &amp; Schulze, R. (2023). <em>The Thurstonian linked block design: Improving Thurstonian modeling for paired comparison and ranking data</em>. Manuscript submitted.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Define a matrix of blocks
blocks &lt;- matrix(1:15,ncol=3, byrow=TRUE)

# define the item-to-factor relation
itf &lt;- rep(1:3,5)

# Get the extra blocks for a partially linked design
get.xblocks.any(blocks, itf, FALSE)

</code></pre>

<hr>
<h2 id='i.name'>Creates names for paired comparisons of a given design.</h2><span id='topic+i.name'></span>

<h3>Description</h3>

<p>This function creates names for paired comparisons in the ixiy scheme. If
items 1 and 2 are compared, this corresponds to i1i2.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>i.name(blocks)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="i.name_+3A_blocks">blocks</code></td>
<td>
<p>A matrix defining the blocks of the model. The number of rows
must be the number of blocks, each row represents a block and contains the
item numbers. The number of columns present the number of items per block.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a character vector, containing names for all binary indicators
of a design.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Define 30 items divided by ten triplets as blocks
blocks &lt;- matrix(c(1:30), ncol = 3)

i.name(blocks)
    
</code></pre>

<hr>
<h2 id='metablock'>Find all general blocks</h2><span id='topic+metablock'></span>

<h3>Description</h3>

<p>This function creates meta interlinked blocks within a Thurstonian
design.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>metablock(blocks)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="metablock_+3A_blocks">blocks</code></td>
<td>
<p>A matrix defining the blocks of the model. The number of rows
must be the number of blocks, each row represents a block and contains the
item numbers. The number of columns present the number of items per block.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function creates meta interlinked blocks of a block design.
These are blocks, that have at least one link from each of its items to
any other of its items. If there is not such a link between every item,
there are at least two meta blocks.
</p>


<h3>Value</h3>

<p>Returns a list of items that form meta interlinked blocks.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Define 30 items divided by ten triplets as blocks
blocks &lt;- matrix(c(1:30), ncol = 3)

# Add one block to link the first three blocks.
blocks &lt;- rbind(blocks,c(1,2,3))

# Find mata blocks
metablock(blocks)
  
</code></pre>

<hr>
<h2 id='mod.matrices'>Create model matrices for Thurstonian modeling</h2><span id='topic+mod.matrices'></span>

<h3>Description</h3>

<p>This function creates and returns model matrices of Thurstonian model equations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mod.matrices(blocks, itf, model)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mod.matrices_+3A_blocks">blocks</code></td>
<td>
<p>A matrix defining the blocks of the model. The number of rows
must be the number of blocks, each row represents a block and contains the
item numbers. The number of columns present the number of items per block.</p>
</td></tr>
<tr><td><code id="mod.matrices_+3A_itf">itf</code></td>
<td>
<p>A vector defining the items-to-factor relation. For example
'c(1,1,1,2,2,2)' defines six items, the first three correspond to factor 1,
the second three correspond to factor 2.</p>
</td></tr>
<tr><td><code id="mod.matrices_+3A_model">model</code></td>
<td>
<p>A descriptor for the model. Can be one of ''lmean'',
''uc'&lsquo;, '&rsquo;irt'&lsquo; or  '&rsquo;simple2'&lsquo;, '&rsquo;simple3'&lsquo; or '&rsquo;simple5''. The Number behind 
the ''simple'' statement defines the Thurstone case.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a list of elements containing model matrix information.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# set seed and define blocks
set.seed(1)
blocks &lt;- matrix(sample(1:15,15), ncol = 3)

# define the item-to-factor relation
itf &lt;- rep(1:3,5)

mod.matrices(blocks,itf,'irt')
    
</code></pre>

<hr>
<h2 id='pair.combn'>Determine all paired comparisons</h2><span id='topic+pair.combn'></span>

<h3>Description</h3>

<p>This function returns a matrix containing all paired comparisons defined by
a design.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pair.combn(blocks, unique = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pair.combn_+3A_blocks">blocks</code></td>
<td>
<p>A matrix defining the blocks of the model. The number of rows
must be the number of blocks, each row represents a block and contains the
item numbers. The number of columns present the number of items per block.</p>
</td></tr>
<tr><td><code id="pair.combn_+3A_unique">unique</code></td>
<td>
<p>Logical. Should only unique paired comparisons be returned?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a matrix with all paired comparisons defined by a design.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
#' # Define 30 items divided by three triplets as blocks
blocks &lt;- matrix(c(1:30), ncol = 3)

# Get all blocks
pair.combn(blocks)
    
</code></pre>

<hr>
<h2 id='rankA'>Determine the rank of the design matrix defined by the blocks.</h2><span id='topic+rankA'></span>

<h3>Description</h3>

<p>This function determines the rank of the fundamental design matrix defined
by the blocks.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rankA(blocks)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rankA_+3A_blocks">blocks</code></td>
<td>
<p>A matrix defining the blocks of the model. The number of rows
must be the number of blocks, each row represents a block and contains the
item numbers. The number of columns present the number of items per block.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns the rank of the design matrix as an integer.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Define nine items divided by three triplets as blocks
blocks &lt;- matrix(c(1:9), ncol = 3)

# Determine the rank of the design matrix
rankA(blocks)
    
</code></pre>

<hr>
<h2 id='read.mplus'>Reads results from Mplus output file.</h2><span id='topic+read.mplus'></span>

<h3>Description</h3>

<p>This function reads and returns results from an Mplus output file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read.mplus(blocks, itf, model, output_path, convergence = TRUE,
  fit.stat = TRUE, loading = TRUE, cor = TRUE, intercept = TRUE,
  threshold = TRUE, resvar = TRUE, standardized = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read.mplus_+3A_blocks">blocks</code></td>
<td>
<p>A matrix defining the blocks of the model. The number of rows
must be the number of blocks, each row represents a block and contains the
item numbers. The number of columns present the number of items per block.</p>
</td></tr>
<tr><td><code id="read.mplus_+3A_itf">itf</code></td>
<td>
<p>A vector defining the items-to-factor relation. For example
'c(1,1,1,2,2,2)' defines six items, the first three correspond to factor 1,
the second three correspond to factor 2.</p>
</td></tr>
<tr><td><code id="read.mplus_+3A_model">model</code></td>
<td>
<p>A descriptor for the model. Can be one of ''lmean'',
''uc'&lsquo;, '&rsquo;irt'&lsquo; or  '&rsquo;simple2'&lsquo;, '&rsquo;simple3'&lsquo; or '&rsquo;simple5''. The Number behind 
the ''simple'' statement defines the Thurstone case.</p>
</td></tr>
<tr><td><code id="read.mplus_+3A_output_path">output_path</code></td>
<td>
<p>Path to the Mplus output file. Defaults to ''myFC_model.out''.</p>
</td></tr>
<tr><td><code id="read.mplus_+3A_convergence">convergence</code></td>
<td>
<p>Logical. Should a message for convergence be returned?
Defaults to 'TRUE'.</p>
</td></tr>
<tr><td><code id="read.mplus_+3A_fit.stat">fit.stat</code></td>
<td>
<p>Logical. Should fit statistics be returned? Defaults to 'TRUE'.</p>
</td></tr>
<tr><td><code id="read.mplus_+3A_loading">loading</code></td>
<td>
<p>Logical. Should loading estimates be returned? Defaults to 'TRUE'.</p>
</td></tr>
<tr><td><code id="read.mplus_+3A_cor">cor</code></td>
<td>
<p>Logical. Should latent correlation estimates be returned?
Defaults to 'TRUE'.</p>
</td></tr>
<tr><td><code id="read.mplus_+3A_intercept">intercept</code></td>
<td>
<p>Logical. Should intercepts be returned? Does only work for
&lsquo;model = &rsquo;lmean''. Defaults to 'TRUE'.</p>
</td></tr>
<tr><td><code id="read.mplus_+3A_threshold">threshold</code></td>
<td>
<p>Logical. Should thresholds be returned? Does only work for
&lsquo;model = &rsquo;uc'&lsquo; or '&rsquo;irt''. Defaults to 'TRUE'.</p>
</td></tr>
<tr><td><code id="read.mplus_+3A_resvar">resvar</code></td>
<td>
<p>Logical. Should residual variances be returned? Defaults to 'TRUE'.</p>
</td></tr>
<tr><td><code id="read.mplus_+3A_standardized">standardized</code></td>
<td>
<p>Logical. Should standardized values be returned? Defaults
to 'FALSE'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a list containing the specified results, after model analysis, by reading
the results from the 'output_path'.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# read and save data set FC
data(FC)

write.table(FC,paste0(tempdir(),'/','my_data.dat'),quote=FALSE, sep=" ",
col.names = FALSE, row.names = FALSE)


# set seed and define blocks
set.seed(1)
blocks &lt;- matrix(sample(1:15,15), ncol = 3)

# define the item-to-factor relation
itf &lt;- rep(1:3,5)

# perform analysis 
## Not run: 
fit.mplus(blocksort(blocks),itf,'irt',data_path = 'mydata.dat', data_full = TRUE,
input_path = paste0(tempdir(),'/','myFC_model'))


# After estimation
read.mplus(blocks,itf,'irt',output_path = paste0(tempdir(),'/','myFC_model.out'))

## End(Not run)
</code></pre>

<hr>
<h2 id='recode'>Recode variables.</h2><span id='topic+recode'></span>

<h3>Description</h3>

<p>Recode variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>recode(var = var, vals = c(1, 2, 3, 4, 5), ct = c(5, 4, 3, 2, 1),
  cat = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="recode_+3A_var">var</code></td>
<td>
<p>A variable/column of a data matrix/ data frame containing data to be recoded.</p>
</td></tr>
<tr><td><code id="recode_+3A_vals">vals</code></td>
<td>
<p>A vector containing the original scores. If cat is TRUE, these are thresholds.</p>
</td></tr>
<tr><td><code id="recode_+3A_ct">ct</code></td>
<td>
<p>A vector containing the desired scores.</p>
</td></tr>
<tr><td><code id="recode_+3A_cat">cat</code></td>
<td>
<p>Logical. should the data be categorized?
</p>
<p>### Outputs &mdash;-</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is a simple recode function. It is possible to recode any value to any other value, as long as the class of values within a vector are equal. If an interval of numerical values should be categorized, for N categories, N-1 thresholds must be given. The first N-1 categories are constructed by using all values that are smaller or equal (&lt;=) than the thresholds, the last category is constructed to be all values larger than the last threshold.
</p>


<h3>Value</h3>

<p>Returns a vector with the recoded input values.
</p>


<h3>Author(s)</h3>

<p>Markus Thomas Jansen
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#numerical
v &lt;- rep(c(1:5),10)
v_r &lt;- recode(v, c(1:5), c(5:1))

# character
v &lt;- rep(c('a','b','d','e'),10)
v_r &lt;- recode(v, c('a','b','d','e'), c('apple','1','dummy',TRUE))

# interval
set.seed(1)
v &lt;- sample(runif(20,0,6))

# recode x &lt;= 1.3 into 1
# recode x &lt;= 2.6 into 2
# recode x &lt;= 3.9 into 3
# recode x &lt;= 5.2 into 4
# recode x &gt; 5.1 into 5
v_r &lt;- recode(v,c(1.3,2.6,3.9,5.2),c(1:5),cat=TRUE)

</code></pre>

<hr>
<h2 id='redundancies'>Determine the number of redundancies</h2><span id='topic+redundancies'></span>

<h3>Description</h3>

<p>This function determines the number of redundancies among the tetrachoric
correlations and thresholds.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>redundancies(blocks, warn = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="redundancies_+3A_blocks">blocks</code></td>
<td>
<p>A matrix defining the blocks of the model. The number of rows
must be the number of blocks, each row represents a block and contains the
item numbers. The number of columns present the number of items per block.</p>
</td></tr>
<tr><td><code id="redundancies_+3A_warn">warn</code></td>
<td>
<p>Logical. Should warning messages be returned? Defaults to 'TRUE'.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If a ranking design is used (variances of binary indicators is zero)
there are redundancies among the thresholds and tetrachoric correlations to 
be estimated. This is the case, whenever the number of items per block is 
larger than two. In these cases the degrees of freedom must be corrected by
subtracting the redundancies. For more details see Jansen and Schulze (2023)
and Maydeu-Olivares (1999).
</p>


<h3>Value</h3>

<p>Returns an integer of the number of redundancies.
</p>


<h3>References</h3>

<p>Jansen, M. T., &amp; Schulze, R. (in review). <em>The Thurstonian linked block design: Improving Thurstonian modeling for paired comparison and ranking data</em>.
</p>
<p>Maydeu-Olivares, A. (1999). Thurstonian modeling of ranking data via mean and covariance structure analysis. <em>Psychometrika</em>, <em>64</em>(3), 325-340. <a href="https://doi.org/10.1007/BF02294299">doi:10.1007/BF02294299</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Define 30 items divided by ten triplets as blocks
blocks &lt;- matrix(c(1:30), ncol = 3)

# define the item-to-factor relation
itf &lt;- rep(1:3,10)

# Determine the redundancies
redundancies(blocks)

</code></pre>

<hr>
<h2 id='reliabiltyFS'>Calculate reliability estimate for factor scores.</h2><span id='topic+reliabiltyFS'></span>

<h3>Description</h3>

<p>This function returns a reliability estimate for factor scores estimated via
the Thurstonian IRT models.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reliabiltyFS(scores, scores_se, method = "sub")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="reliabiltyFS_+3A_scores">scores</code></td>
<td>
<p>A matrix with factor scores. Rows are respondents, columns are
factors/traits.</p>
</td></tr>
<tr><td><code id="reliabiltyFS_+3A_scores_se">scores_se</code></td>
<td>
<p>A matrix with the standard errors of the factor scores. 
Rows are respondents, columns are factors/traits. Factors/traits must be in
the same order as for 'scores'.</p>
</td></tr>
<tr><td><code id="reliabiltyFS_+3A_method">method</code></td>
<td>
<p>Can be one of 'div' or 'sub'. See details. Defaults to 'sub'.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function returns the empirical reliability of factor scores. If
<code class="reqn">\sigma^2</code> is the sample variance of the estimated scores and <code class="reqn">\bar{sigma}^2_{error}</code>
is the average if the squared scores, that is
</p>
<p style="text-align: center;"><code class="reqn">\bar{sigma}^2_{error}=\frac{1}{N}\sum^N_i=1 se_{scores}^2</code>
</p>

<p>then the subtraction method, a classical reliability estimate similar to
classical test theory is returned using 'sub' yields
</p>
<p style="text-align: center;"><code class="reqn">\frac{\sigma^2-\bar{sigma}^2_{error}}{\sigma^2}</code>
</p>

<p>for the reliability of the scores. If 'div' is chosen, and alternative
division based approach is used.
</p>
<p style="text-align: center;"><code class="reqn">\frac{\sigma^2}{\sigma^2+\bar{sigma}^2_{error}}</code>
</p>
<p>.
</p>
<p>If 'irt' is chosen, a plot returning the standard error of the scores with
the scores is returned per factor.
</p>


<h3>Value</h3>

<p>Returns the reliability value. If method = 'irt', the a plot with the
reliability depending on the factorscore is returned.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# read and save data set FC
data(FC_scores)

# get reliability
reliabiltyFS(FC_scores[,c(106,108,110)],FC_scores[,c(107,109,111)])

</code></pre>

<hr>
<h2 id='sim.data'>Create data based on Thurstonian model equations</h2><span id='topic+sim.data'></span>

<h3>Description</h3>

<p>Simulates a data set of paired comparisons or ranking data based a Thurstonian
latent utility model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sim.data(nfactor = 1, nitem, nperson, itf, model = "factor",
  variables = NULL, ints = NULL, lmu = NULL, ivarcov = NULL,
  loadings = NULL, varcov = NULL, graded = FALSE, ncat = NULL,
  thres = NULL, transitive = TRUE, var = 0, fvalues = FALSE,
  sim = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sim.data_+3A_nfactor">nfactor</code></td>
<td>
<p>The number of factors. Defaults to 1.</p>
</td></tr>
<tr><td><code id="sim.data_+3A_nitem">nitem</code></td>
<td>
<p>The number of items.</p>
</td></tr>
<tr><td><code id="sim.data_+3A_nperson">nperson</code></td>
<td>
<p>The number of data points (= respondents) to simulate.</p>
</td></tr>
<tr><td><code id="sim.data_+3A_itf">itf</code></td>
<td>
<p>A vector defining the items-to-factor relation. For example
'c(1,1,1,2,2,2)' defines six items, the first three correspond to factor 1,
the second three correspond to factor 2.</p>
</td></tr>
<tr><td><code id="sim.data_+3A_model">model</code></td>
<td>
<p>The model class from which to simulate. Options are 'simple', 'factor', 'uc' and 'irt'. Defaults to 'factor'.</p>
</td></tr>
<tr><td><code id="sim.data_+3A_variables">variables</code></td>
<td>
<p>A vector containing the names of paired comparison variables
to return. If 'NULL' (default), all variables are returned.</p>
</td></tr>
<tr><td><code id="sim.data_+3A_ints">ints</code></td>
<td>
<p>A vector defining the latent intercepts of item pairs.</p>
</td></tr>
<tr><td><code id="sim.data_+3A_lmu">lmu</code></td>
<td>
<p>A vector defining the latent means of items.</p>
</td></tr>
<tr><td><code id="sim.data_+3A_ivarcov">ivarcov</code></td>
<td>
<p>A matrix defining the variance-covariance matrix of the items.</p>
</td></tr>
<tr><td><code id="sim.data_+3A_loadings">loadings</code></td>
<td>
<p>A vector defining the loadings of items.</p>
</td></tr>
<tr><td><code id="sim.data_+3A_varcov">varcov</code></td>
<td>
<p>A matrix defining the variance-covariance matrix of the traits.</p>
</td></tr>
<tr><td><code id="sim.data_+3A_graded">graded</code></td>
<td>
<p>Logical. Should a graded preference model be simulated? Defaults to 'FALSE'.</p>
</td></tr>
<tr><td><code id="sim.data_+3A_ncat">ncat</code></td>
<td>
<p>Numerical. The number of categories to specify for graded preference models. If graded = 'FALSE', ncat is 2.</p>
</td></tr>
<tr><td><code id="sim.data_+3A_thres">thres</code></td>
<td>
<p>A vector of thresholds to categorize the latent difference response. If no thresholds are given, they are simulated from the distribution of the latent items. If graded = 'FALSE', the thresholds are all 0.</p>
</td></tr>
<tr><td><code id="sim.data_+3A_transitive">transitive</code></td>
<td>
<p>Logical. Should the data be transitive? If 'TRUE', ranking
data is simulated, else paired comparison data is simulated. Defaults to 'TRUE'.</p>
</td></tr>
<tr><td><code id="sim.data_+3A_var">var</code></td>
<td>
<p>A vector containing the variances for each paired comparison. Defaults to 0.</p>
</td></tr>
<tr><td><code id="sim.data_+3A_fvalues">fvalues</code></td>
<td>
<p>Logical. Should simulated factor values be returned? Defaults to 'FALSE'.</p>
</td></tr>
<tr><td><code id="sim.data_+3A_sim">sim</code></td>
<td>
<p>Logical. Should the simulated data be returned? Defaults to 'TRUE'.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The syntax currently is able to simulate data from the
latent utility model (''simple'&lsquo; and '&rsquo;factor''; Maydeu-Olivares &amp; Böckenholt, 2005) the 
unconstrained factor model (''uc''; Maydeu-Olivares &amp; Böckenholt, 2005) and 
the IRT model(''irt''; Maydeu-Olivares &amp; Brown, 2010).
</p>


<h3>Value</h3>

<p>Returns a list containing the true factor scores and the data, or a
matrix containing the data.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
nfactor &lt;- 3
nitem &lt;- 15
nperson &lt;- 1000
itf &lt;- rep(1:3,5)
varcov &lt;- diag(1,3)

# latent utility means
set.seed(69)
lmu &lt;- runif(nitem, -1, 1)
loadings &lt;- runif(nitem, 0.30, 0.95)

FC &lt;- sim.data(nfactor=nfactor, nitem=nitem, nperson=nperson, itf=itf, 
varcov = varcov, lmu = lmu, loadings=loadings)
    
</code></pre>

<hr>
<h2 id='syntax.lavaan'>Create lavaan syntax for Thurstonian forced choice analysis</h2><span id='topic+syntax.lavaan'></span>

<h3>Description</h3>

<p>This function writes a lavaan syntax given the specifications of the
Thurstonian forced choice model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>syntax.lavaan(blocks, itf, model, rename_list = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="syntax.lavaan_+3A_blocks">blocks</code></td>
<td>
<p>A matrix defining the blocks of the model. The number of rows
must be the number of blocks, each row represents a block and contains the
item numbers. The number of columns present the number of items per block.</p>
</td></tr>
<tr><td><code id="syntax.lavaan_+3A_itf">itf</code></td>
<td>
<p>A vector defining the items-to-factor relation. For example
'c(1,1,1,2,2,2)' defines six items, the first three correspond to factor 1,
the second three correspond to factor 2.</p>
</td></tr>
<tr><td><code id="syntax.lavaan_+3A_model">model</code></td>
<td>
<p>A descriptor for the model. Can be one of ''lmean'',
''uc'&lsquo;, '&rsquo;irt'&lsquo; or  '&rsquo;simple2'&lsquo;, '&rsquo;simple3'&lsquo; or '&rsquo;simple5''. The Number behind 
the ''simple'' statement defines the Thurstone case.</p>
</td></tr>
<tr><td><code id="syntax.lavaan_+3A_rename_list">rename_list</code></td>
<td>
<p>A list with two vectors to rename the objects in the syntax.
Vector one is the original names, vector two the new names. Defaults to 'NULL'.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The syntax currently is able to perform model analysis for the
latent utility models (''simple'&lsquo; and '&rsquo;lmean''; Maydeu-Olivares &amp; Böckenholt, 2005) the 
unconstrained factor model (''uc''; Maydeu-Olivares &amp; Böckenholt, 2005) and 
the IRT model(''irt''; Maydeu-Olivares &amp; Brown, 2010). Additionally, all
model types can be performed with all types of forced choice designs (full,
block, partially linked block, linked block). For an overview and review see
Jansen and Schulze (2023a,2023b).
</p>
<p>The standard naming procedure ixiy, for the comparison of items x and y, 
can be changed by specifying the 'rename_list' argument. The first vector of
the schould be the vector of original names, for example 
&lsquo;c(&rsquo;i1i2','i1i3','i2i3','Trait1','Trait2','Trait3')'
the second vector should contain the new names, for example 
&lsquo;c(&rsquo;A01E12','A01C13','E01C23','Agree','Extra','Consc')'.
</p>


<h3>Value</h3>

<p>Returns a description of the user-specified model. Typically, the
model is described using the lavaan model syntax. See 'lavaan::model.syntax'
for more information.
</p>


<h3>References</h3>

<p>Maydeu-Olivares, A., &amp; Böckenholt, U. (2005). Structural equation modeling of paired-comparison and ranking data. <em>Psychological Methods</em>, <em>10</em>(3), 285-304. <a href="https://doi.org/10.1037/1082-989X.10.3.285">doi:10.1037/1082-989X.10.3.285</a>
</p>
<p>Maydeu-Olivares, A., &amp; Brown, A. (2010). Item response modeling of paired comparison and ranking data. <em>Multivariate Behavioural Research</em>, <em>45</em>(6), 935-974. <a href="https://doi.org/10.1080/00273171.2010.531231">doi:10.1080/00273171.2010.531231</a>
</p>
<p>Jansen, M. T., &amp; Schulze, R. (2023a). <em>Linear factor analytic Thurstonian forced-choice models: Current status and issues</em>. Educational and Psychological Measurement.
</p>
<p>Jansen, M. T., &amp; Schulze, R. (2023b, in review). <em>The Thurstonian linked block design: Improving Thurstonian modeling for paired comparison and ranking data</em>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# read data set FC
data(FC)

# set seed and define blocks
set.seed(1)
blocks &lt;- matrix(sample(1:15,15), ncol = 3)

# define the item-to-factor relation
itf &lt;- rep(1:3,5)

# Create lavaan model syntax
syntax.lavaan(blocks,itf,'irt')


</code></pre>

<hr>
<h2 id='syntax.mplus'>Create Mplus syntax for Thurstonian forced choice designs.</h2><span id='topic+syntax.mplus'></span>

<h3>Description</h3>

<p>This function writes and saves the Mplus syntax given the specifications of a
Thurstonian forced choice design.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>syntax.mplus(blocks, itf, model, input_path, data_path = "myDataFile.dat",
  fscore_path = "myFactorScores.dat", title = "myFC_model", ID = FALSE,
  byblock = TRUE, estimator = "ULSMV", data_full = FALSE,
  standardized = TRUE, rename_list = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="syntax.mplus_+3A_blocks">blocks</code></td>
<td>
<p>A matrix defining the blocks of the model. The number of rows
must be the number of blocks, each row represents a block and contains the
item numbers. The number of columns present the number of items per block.</p>
</td></tr>
<tr><td><code id="syntax.mplus_+3A_itf">itf</code></td>
<td>
<p>A vector defining the items-to-factor relation. For example
'c(1,1,1,2,2,2)' defines six items, the first three correspond to factor 1,
the second three correspond to factor 2.</p>
</td></tr>
<tr><td><code id="syntax.mplus_+3A_model">model</code></td>
<td>
<p>A descriptor for the model. Can be one of ''lmean'',
''uc'&lsquo;, '&rsquo;irt'&lsquo; or  '&rsquo;simple2'&lsquo;, '&rsquo;simple3'&lsquo; or '&rsquo;simple5''. The Number behind 
the ''simple'' statement defines the Thurstone case.</p>
</td></tr>
<tr><td><code id="syntax.mplus_+3A_input_path">input_path</code></td>
<td>
<p>Path to save the Mplus input file. Defaults to ''myFC_model.inp''.</p>
</td></tr>
<tr><td><code id="syntax.mplus_+3A_data_path">data_path</code></td>
<td>
<p>Path of the data file for Mplus. Defaults to ''myDataFile.dat''.</p>
</td></tr>
<tr><td><code id="syntax.mplus_+3A_fscore_path">fscore_path</code></td>
<td>
<p>Path to save the file of factor scores. Defaults to
''myFactorScores.dat''.</p>
</td></tr>
<tr><td><code id="syntax.mplus_+3A_title">title</code></td>
<td>
<p>Title of the Mplus model. Defaults to ''myFC_model''.</p>
</td></tr>
<tr><td><code id="syntax.mplus_+3A_id">ID</code></td>
<td>
<p>Logical. Should a ID variable be included? The ID must be the first 
variable in the data set. Defaults to 'FALSE'.</p>
</td></tr>
<tr><td><code id="syntax.mplus_+3A_byblock">byblock</code></td>
<td>
<p>Logical. Should the order in Mplus variable statement be the same
as in the blocks. Defaults to 'TRUE'.</p>
</td></tr>
<tr><td><code id="syntax.mplus_+3A_estimator">estimator</code></td>
<td>
<p>Which estimator should be used? All Estimators that are
available in Mplus can be used. Defaults to ''ULSMV''.</p>
</td></tr>
<tr><td><code id="syntax.mplus_+3A_data_full">data_full</code></td>
<td>
<p>Logical. Are the data considered to be from a full design?
Defaults to 'FALSE'.</p>
</td></tr>
<tr><td><code id="syntax.mplus_+3A_standardized">standardized</code></td>
<td>
<p>Logical. Should standardized values be computed? Defaults
to 'TRUE'.</p>
</td></tr>
<tr><td><code id="syntax.mplus_+3A_rename_list">rename_list</code></td>
<td>
<p>A list with two vectors to rename the objects in the syntax.
Vector one is the original names, vector two the new names. Defaults to 'NULL'.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The syntax currently is able to perform model analysis for the
latent utility models (''simple'&lsquo; and '&rsquo;lmean''; Maydeu-Olivares &amp; Böckenholt, 2005) the 
unconstrained factor model (''uc''; Maydeu-Olivares &amp; Böckenholt, 2005) and 
the IRT model(''irt''; Maydeu-Olivares &amp; Brown, 2010). Additionally, all
model types can be performed with all types of forced choice designs (full,
block, partially linked block, linked block). For an overview and review see
Jansen and Schulze (2023a,2023b).
</p>
<p>The function writes and saves the Mplus input files.
</p>
<p>The standard naming procedure ixiy, for the comparison of items x and y, 
can be changed by specifying the 'rename_list' argument. The first vector of
the schould be the vector of original names, for example 
&lsquo;c(&rsquo;i1i2','i1i3','i2i3','Trait1','Trait2','Trait3')'
the second vector should contain the new names, for example 
&lsquo;c(&rsquo;A01E12','A01C13','E01C23','Agree','Extra','Consc')'.
</p>
<p>### Outputs &mdash;-
</p>


<h3>Value</h3>

<p>Returns a description of the user-specified model. Typically, the
model is described using the lavaan model syntax. See 'lavaan::model.syntax'
for more information.
</p>
<p>Saves a list Mplus input file at 'input_path'.
</p>


<h3>References</h3>

<p>Maydeu-Olivares, A., &amp; Böckenholt, U. (2005). Structural equation modeling of paired-comparison and ranking data. <em>Psychological Methods</em>, <em>10</em>(3), 285-304. <a href="https://doi.org/10.1037/1082-989X.10.3.285">doi:10.1037/1082-989X.10.3.285</a>
</p>
<p>Maydeu-Olivares, A., &amp; Brown, A. (2010). Item response modeling of paired comparison and ranking data. <em>Multivariate Behavioural Research</em>, <em>45</em>(6), 935-974. <a href="https://doi.org/10.1080/00273171.2010.531231">doi:10.1080/00273171.2010.531231</a>
</p>
<p>Jansen, M. T., &amp; Schulze, R. (2023a). <em>Linear factor analytic Thurstonian forced-choice models: Current status and issues</em>. Educational and Psychological Measurement.
</p>
<p>Jansen, M. T., &amp; Schulze, R. (2023b, in review). <em>The Thurstonian linked block design: Improving Thurstonian modeling for paired comparison and ranking data</em>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# read and save data set FC
data(FC)
write.table(FC,paste0(tempdir(),'/','my_data.dat'),quote=FALSE, sep=" ",
col.names = FALSE, row.names = FALSE)

# set seed and define blocks
set.seed(1)
blocks &lt;- matrix(sample(1:15,15), ncol = 3)

# define the item-to-factor relation
itf &lt;- rep(1:3,5)

# Create and save Mplus syntax
syntax.mplus(blocks,itf,'lmean',data_path = 'my_data.dat', data_full = TRUE,
input_path = paste0(tempdir(),'/','myFC_model'))

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

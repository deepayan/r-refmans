<!DOCTYPE html><html lang="en"><head><title>Help for package kiwisR</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {kiwisR}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#kiwisR-package'><p>kiwisR: A wrapper for querying KISTERS WISKI Databases via the KiWIS API</p></a></li>
<li><a href='#ki_group_list'><p>Get list of available groups</p></a></li>
<li><a href='#ki_station_list'><p>Get tibble containing station information.</p></a></li>
<li><a href='#ki_timeseries_list'><p>Get list of available time series for station or</p>
list of stations.</a></li>
<li><a href='#ki_timeseries_values'><p>Get values for time series id or list of time series ids.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>A Wrapper for Querying KISTERS 'WISKI' Databases via the 'KiWIS'
API</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.4</td>
</tr>
<tr>
<td>Description:</td>
<td>A wrapper for querying 'WISKI' databases via the 'KiWIS' 'REST' API. 'WISKI' is an 'SQL' relational database 
  used for the collection and storage of water data developed by KISTERS and 'KiWIS' is a 'REST' service that provides
  access to 'WISKI' databases via HTTP requests (<a href="https://www.kisters.eu/water-weather-and-environment/">https://www.kisters.eu/water-weather-and-environment/</a>). 
  Contains a list of default databases (called 'hubs') and also allows users to provide their own 'KiWIS' URL. 
  Supports the entire query process- from metadata to specific time series values. All data is returned as tidy tibbles.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/rywhale/kiwisR">https://github.com/rywhale/kiwisR</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/rywhale/kiwisR/issues">https://github.com/rywhale/kiwisR/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.2.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>tibble, lubridate, dplyr, purrr, httr2</td>
</tr>
<tr>
<td>Suggests:</td>
<td>ggplot2, knitr, rmarkdown, testthat</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-10-11 11:48:21 UTC; RWhaley</td>
</tr>
<tr>
<td>Author:</td>
<td>Ryan Whaley [aut, cre],
  Sam Albers [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Ryan Whaley &lt;rdgwhaley@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-10-11 13:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='kiwisR-package'>kiwisR: A wrapper for querying KISTERS WISKI Databases via the KiWIS API</h2><span id='topic+kiwisR'></span><span id='topic+kiwisR-package'></span>

<h3>Description</h3>

<p>kiwisR provides a simplified method for retrieving tidy data from KISTERS WISKI databases via KiWIS API.
</p>


<h3>Details</h3>

<p>A suggested workflow for using this package:
</p>

<ul>
<li><p> Get station metadata using <code>ki_station_list()</code>
</p>
</li>
<li><p> Get time series metadata using <code>ki_timeseries_list()</code>
</p>
</li>
<li><p> Get time series data using <code>ki_timeseries_values()</code>
</p>
</li></ul>



<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Ryan Whaley <a href="mailto:rdgwhaley@gmail.com">rdgwhaley@gmail.com</a>
</p>
<p>Other contributors:
</p>

<ul>
<li><p> Sam Albers <a href="mailto:sam.albers@gov.bc.ca">sam.albers@gov.bc.ca</a> [contributor]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/rywhale/kiwisR">https://github.com/rywhale/kiwisR</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/rywhale/kiwisR/issues">https://github.com/rywhale/kiwisR/issues</a>
</p>
</li></ul>


<hr>
<h2 id='ki_group_list'>Get list of available groups</h2><span id='topic+ki_group_list'></span>

<h3>Description</h3>

<p>Returns a tibble containing metadata available groups. This can be used to
further filter down other queries like 'ki_station_list'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ki_group_list(hub, datasource = 0)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ki_group_list_+3A_hub">hub</code></td>
<td>
<p>The KiWIS database you are querying. Either one of the defaults or a URL.
See <a href="https://github.com/rywhale/kiwisR">README</a>.</p>
</td></tr>
<tr><td><code id="ki_group_list_+3A_datasource">datasource</code></td>
<td>
<p>(Optional) The data source to be used, defaults to 0.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with three columns: group_id, group_name and group_type.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
ki_group_list(hub = "swmc")

## End(Not run)

</code></pre>

<hr>
<h2 id='ki_station_list'>Get tibble containing station information.</h2><span id='topic+ki_station_list'></span>

<h3>Description</h3>

<p>Returns all available stations by default and allows for search terms and other filters.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ki_station_list(
  hub,
  search_term,
  bounding_box,
  group_id,
  return_fields,
  datasource = 0
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ki_station_list_+3A_hub">hub</code></td>
<td>
<p>The KiWIS database you are querying. Either one of the defaults or a URL.
See <a href="https://github.com/rywhale/kiwisR">README</a>.</p>
</td></tr>
<tr><td><code id="ki_station_list_+3A_search_term">search_term</code></td>
<td>
<p>(Optional) A station name to search for. Supports the use of * as a wildcard. Case doesn't matter.</p>
</td></tr>
<tr><td><code id="ki_station_list_+3A_bounding_box">bounding_box</code></td>
<td>
<p>(Optional) A bounding box to search within for stations. Should be a vector or comma separated string.</p>
</td></tr>
<tr><td><code id="ki_station_list_+3A_group_id">group_id</code></td>
<td>
<p>(Optional) A station group id (see ki_group_list).
with the following format: (min_x, min_y, max_x, max_y).</p>
</td></tr>
<tr><td><code id="ki_station_list_+3A_return_fields">return_fields</code></td>
<td>
<p>(Optional) Specific fields to return. Consult your KiWIS hub services documentation for available options.
Should be a comma separate string or a vector.</p>
</td></tr>
<tr><td><code id="ki_station_list_+3A_datasource">datasource</code></td>
<td>
<p>(Optional) The data source to be used, defaults to 0.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Tibble containing station metadata.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
ki_station_list(hub = "swmc")
ki_station_list(hub = "swmc", search_term = "A*")
ki_station_list(hub = "swmc", bounding_box = "-131.7,-5.4,135.8,75.8")
ki_station_list(hub = "swmc", group_id = "518247")

## End(Not run)

</code></pre>

<hr>
<h2 id='ki_timeseries_list'>Get list of available time series for station or
list of stations.</h2><span id='topic+ki_timeseries_list'></span>

<h3>Description</h3>

<p>Get list of available time series for station or
list of stations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ki_timeseries_list(
  hub,
  station_id,
  ts_name,
  coverage = TRUE,
  group_id,
  return_fields,
  datasource = 0
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ki_timeseries_list_+3A_hub">hub</code></td>
<td>
<p>The KiWIS database you are querying. Either one of the defaults or a URL.
See <a href="https://github.com/rywhale/kiwisR">README</a>.</p>
</td></tr>
<tr><td><code id="ki_timeseries_list_+3A_station_id">station_id</code></td>
<td>
<p>Either a single station id or a vector of station ids. Can be string or numeric.
Station ids can be found using the ki_station_list function.</p>
</td></tr>
<tr><td><code id="ki_timeseries_list_+3A_ts_name">ts_name</code></td>
<td>
<p>(Optional) A specific time series short name to search for. Supports the use of &quot;*&quot; as a wildcard.</p>
</td></tr>
<tr><td><code id="ki_timeseries_list_+3A_coverage">coverage</code></td>
<td>
<p>(Optional) Whether or not to return period of record columns.
Defaults to TRUE, change to FALSE for faster queries.</p>
</td></tr>
<tr><td><code id="ki_timeseries_list_+3A_group_id">group_id</code></td>
<td>
<p>(Optional) A time series group id (see ki_group_list).</p>
</td></tr>
<tr><td><code id="ki_timeseries_list_+3A_return_fields">return_fields</code></td>
<td>
<p>(Optional) Specific fields to return. Consult your KiWIS hub services documentation for available options.
Should be a comma separate string or a vector.</p>
</td></tr>
<tr><td><code id="ki_timeseries_list_+3A_datasource">datasource</code></td>
<td>
<p>(Optional) The data source to be used, defaults to 0.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble containing all available time series for selected stations.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
ki_timeseries_list(hub = "swmc", station_id = "146775")
ki_timeseries_list(hub = "swmc", ts_name = "Vel*")

## End(Not run)

</code></pre>

<hr>
<h2 id='ki_timeseries_values'>Get values for time series id or list of time series ids.</h2><span id='topic+ki_timeseries_values'></span>

<h3>Description</h3>

<p>Returns time series values for given time series id and date range.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ki_timeseries_values(
  hub,
  ts_id,
  start_date,
  end_date,
  return_fields,
  datasource = 0
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ki_timeseries_values_+3A_hub">hub</code></td>
<td>
<p>The KiWIS database you are querying. Either one of the defaults or a URL.
See <a href="https://github.com/rywhale/kiwisR">README</a>.</p>
</td></tr>
<tr><td><code id="ki_timeseries_values_+3A_ts_id">ts_id</code></td>
<td>
<p>Either: a single time series id or a vector of time series ids.
Time series ids can be found using the 'ki_timeseries_list' function.</p>
</td></tr>
<tr><td><code id="ki_timeseries_values_+3A_start_date">start_date</code></td>
<td>
<p>A date string formatted &quot;YYYY-MM-DD&quot;. Defaults to yesterday.</p>
</td></tr>
<tr><td><code id="ki_timeseries_values_+3A_end_date">end_date</code></td>
<td>
<p>A date string formatted &quot;YYYY-MM-DD&quot;. Defaults to today.</p>
</td></tr>
<tr><td><code id="ki_timeseries_values_+3A_return_fields">return_fields</code></td>
<td>
<p>(Optional) Specific fields to return. Consult your KiWIS hub services documentation for available options.
Should be a comma separate string or a vector.</p>
</td></tr>
<tr><td><code id="ki_timeseries_values_+3A_datasource">datasource</code></td>
<td>
<p>(Optional) The data source to be used, defaults to 0.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with following columns by default: Timestamp, Value, ts_name, Units, station_name
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
ki_timeseries_values(
  hub = "swmc",
  ts_id = "1125831042",
  start_date = "2015-12-01",
  end_date = "2018-01-01"
)

## End(Not run)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

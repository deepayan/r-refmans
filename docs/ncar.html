<!DOCTYPE html><html><head><title>Help for package ncar</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ncar}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#ncar-package'><p>Noncompartmental Analysis for Pharmacokinetic Report</p></a></li>
<li><a href='#BasicUtil'><p>Internal Functions</p></a></li>
<li><a href='#pdfNCA'><p>NCA output to pdf file</p></a></li>
<li><a href='#Res2Txt'><p>Convert sNCA output table to text form</p></a></li>
<li><a href='#Round'><p>Round Half Away from Zero</p></a></li>
<li><a href='#RptCfg'>
<p>NCA Report Configuation Table</p></a></li>
<li><a href='#rtfNCA'><p>NCA output to rtf file</p></a></li>
<li><a href='#txtNCA'><p>Text output of NCA for one subject</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Version:</td>
<td>0.5.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-11-19</td>
</tr>
<tr>
<td>Title:</td>
<td>Noncompartmental Analysis for Pharmacokinetic Report</td>
</tr>
<tr>
<td>Description:</td>
<td>Conduct a noncompartmental analysis with industrial strength.
             Some features are
             1) CDISC SDTM terms
             2) Automatic or manual slope selection
             3) Supporting both 'linear-up linear-down' and 'linear-up log-down' method
             4) Interval(partial) AUCs with 'linear' or 'log' interpolation method
             5) Produce pdf, rtf, text report files.
             * Reference: Gabrielsson J, Weiner D. Pharmacokinetic and Pharmacodynamic Data Analysis - Concepts and Applications. 5th ed. 2016. (ISBN:9198299107).</td>
</tr>
<tr>
<td>Depends:</td>
<td>rtf, NonCompart (&ge; 0.7.0)</td>
</tr>
<tr>
<td>Author:</td>
<td>Kyun-Seop Bae [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Kyun-Seop Bae &lt;k@acr.kr&gt;</td>
</tr>
<tr>
<td>Copyright:</td>
<td>2016-, Kyun-Seop Bae</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://cran.r-project.org/package=ncar">https://cran.r-project.org/package=ncar</a></td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-11-19 07:17:14 UTC; Kyun-SeopBae</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-11-19 07:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='ncar-package'>Noncompartmental Analysis for Pharmacokinetic Report</h2><span id='topic+ncar-package'></span><span id='topic+ncar'></span>

<h3>Description</h3>

<p>It can report a noncompartmental analysis (NCA) with industrial strength.
</p>


<h3>Details</h3>

<p>The main functions are
</p>
<pre>
pdfNCA to produce PDF file format NCA.
rtfNCA to produce rtf file format NCA.
</pre>


<h3>Author(s)</h3>

<p>Kyun-Seop Bae &lt;k@acr.kr&gt;</p>


<h3>References</h3>


<ol>
<li><p> Gabrielsson J, Weiner D. Pharmacokinetic and Pharmacodynamic Data Analysis - Concepts and Applications. 5th ed. 2016.
</p>
</li>
<li><p> Shargel L, Yu A. Applied Biopharmaceutics and Pharmacokinetics. 7th ed. 2015.
</p>
</li>
<li><p> Rowland M, Tozer TN. Clinical Pharmacokinetics and Pharmacodynamics - Concepts and Applications. 4th ed. 2011.
</p>
</li>
<li><p> Gibaldi M, Perrier D. Pharmacokinetics. 2nd ed. revised and expanded. 1982.
</p>
</li></ol>



<h3>Examples</h3>

<pre><code class='language-R'># Theoph and Indometh data: dose in mg, conc in mg/L, time in h

# Output to PDF file
#pdfNCA(fileName="NCA-Theoph.pdf", Theoph, key="Subject", colTime="Time",
#       colConc="conc", dose=320, doseUnit="mg", timeUnit="h", concUnit="mg/L")
#pdfNCA(fileName="NCA-Theoph.pdf", Theoph, key=c("Subject", "Wt"), colTime="Time",
#       colConc="conc", dose=320, doseUnit="mg", timeUnit="h", concUnit="mg/L")
#pdfNCA(fileName="NCA-Indometh.pdf", Indometh, key="Subject", colTime="time",
#       colConc="conc", adm="Infusion", dur=0.5, dose=25, doseUnit="mg",
#       timeUnit="h", concUnit="mg/L")


# Output to RTF file
#rtfNCA(fileName="NCA-Theoph.rtf", Theoph, key="Subject", colTime="Time",
#       colConc="conc", dose=320, doseUnit="mg", timeUnit="h", concUnit="mg/L")
#rtfNCA(fileName="NCA-Theoph.rtf", Theoph, key=c("Subject", "Wt"), colTime="Time",
#       colConc="conc", dose=320, doseUnit="mg", timeUnit="h", concUnit="mg/L")
#rtfNCA(fileName="NCA-Indometh.rtf", Indometh, key="Subject", colTime="time",
#       colConc="conc", adm="Infusion", dur=0.5, dose=25, doseUnit="mg",
#       timeUnit="h", concUnit="mg/L")
</code></pre>

<hr>
<h2 id='BasicUtil'>Internal Functions</h2><span id='topic+toproper'></span><span id='topic+Note'></span><span id='topic+PrepPDF'></span><span id='topic+ClosePDF'></span><span id='topic+AddPage'></span><span id='topic+Text1'></span><span id='topic+TextM'></span><span id='topic+Plot4rtf'></span>

<h3>Description</h3>

<p>Internal functions</p>


<h3>Details</h3>

<p>These are not to be called by the user.</p>

<hr>
<h2 id='pdfNCA'>NCA output to pdf file</h2><span id='topic+pdfNCA'></span>

<h3>Description</h3>

<p>This output NCA result in a pdf file.</p>


<h3>Usage</h3>

<pre><code class='language-R'>pdfNCA(fileName = "Temp-NCA.pdf", concData, key = "Subject", colTime = "Time", 
       colConc = "conc", dose = 0, adm = "Extravascular", dur = 0, 
       doseUnit = "mg", timeUnit = "h", concUnit = "ug/L", down="Linear", 
       R2ADJ = 0, MW = 0, SS = FALSE, iAUC = "", excludeDelta = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pdfNCA_+3A_filename">fileName</code></td>
<td>
<p>file name to save</p>
</td></tr>
<tr><td><code id="pdfNCA_+3A_concdata">concData</code></td>
<td>
<p>concentration data table</p>
</td></tr>
<tr><td><code id="pdfNCA_+3A_key">key</code></td>
<td>
<p>column names of concData to be shown in the output table</p>
</td></tr>
<tr><td><code id="pdfNCA_+3A_coltime">colTime</code></td>
<td>
<p>column name for time</p>
</td></tr>
<tr><td><code id="pdfNCA_+3A_colconc">colConc</code></td>
<td>
<p>column name for concentration</p>
</td></tr>
<tr><td><code id="pdfNCA_+3A_dose">dose</code></td>
<td>
<p>administered dose</p>
</td></tr>
<tr><td><code id="pdfNCA_+3A_adm">adm</code></td>
<td>
<p>one of <code>"Bolus"</code> or <code>"Infusion"</code> or <code>"Extravascular"</code> to indicate drug administration mode</p>
</td></tr>
<tr><td><code id="pdfNCA_+3A_dur">dur</code></td>
<td>
<p>duration of infusion</p>
</td></tr>
<tr><td><code id="pdfNCA_+3A_doseunit">doseUnit</code></td>
<td>
<p>unit of dose</p>
</td></tr>
<tr><td><code id="pdfNCA_+3A_timeunit">timeUnit</code></td>
<td>
<p>unit of time</p>
</td></tr>
<tr><td><code id="pdfNCA_+3A_concunit">concUnit</code></td>
<td>
<p>unit of concentration</p>
</td></tr>
<tr><td><code id="pdfNCA_+3A_down">down</code></td>
<td>
<p>either of <code>"Linear"</code> or <code>"Log"</code> to indicate the way to calculate AUC and AUMC</p>
</td></tr>
<tr><td><code id="pdfNCA_+3A_r2adj">R2ADJ</code></td>
<td>
<p>Minimum adjusted R-square value to determine terminal slope automatically</p>
</td></tr>
<tr><td><code id="pdfNCA_+3A_mw">MW</code></td>
<td>
<p>molecular weight of drug</p>
</td></tr>
<tr><td><code id="pdfNCA_+3A_ss">SS</code></td>
<td>
<p>if steady-state, this should be TRUE. AUCLST (AUClast) is used instead of AUCIFO (AUCinf) for the calculation of Vz (VZFO, VZO), CL (CLFO, CLO), and Vdss (VSSO).</p>
</td></tr>
<tr><td><code id="pdfNCA_+3A_iauc">iAUC</code></td>
<td>
<p>interval AUC information in a dataframe with &quot;Name&quot;, &quot;Start&quot;, and &quot;End&quot; columns</p>
</td></tr>
<tr><td><code id="pdfNCA_+3A_excludedelta">excludeDelta</code></td>
<td>
<p>Improvement of R2ADJ larger than this value could exclude the last point. Default value 1 is for the compatibility with other software. Author recommends to use <code>excludeDelta</code> option with about 0.3.</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>CMAX</code></td>
<td>
<p>maximum concentration, Cmax</p>
</td></tr>
<tr><td><code>CMAXD</code></td>
<td>
<p>dose normalized Cmax, CMAX / Dose, Cmax / Dose</p>
</td></tr>
<tr><td><code>TMAX</code></td>
<td>
<p>time of maximum concentration, Tmax</p>
</td></tr>
<tr><td><code>TLAG</code></td>
<td>
<p>time to observe the first non-zero concentration, for extravascular administration only</p>
</td></tr>
<tr><td><code>CLST</code></td>
<td>
<p>last positive concentration observed, Clast</p>
</td></tr>
<tr><td><code>CLSTP</code></td>
<td>
<p>last positive concentration predicted, Clast_pred</p>
</td></tr>
<tr><td><code>TLST</code></td>
<td>
<p>time of last positive concentration, Tlast</p>
</td></tr>
<tr><td><code>LAMZHL</code></td>
<td>
<p>half-life by lambda z, ln(2)/LAMZ</p>
</td></tr>
<tr><td><code>LAMZ</code></td>
<td>
<p>lambda_z negative of best fit terminal slope</p>
</td></tr>
<tr><td><code>LAMZLL</code></td>
<td>
<p>earliest time for LAMZ</p>
</td></tr>
<tr><td><code>LAMZUL</code></td>
<td>
<p>last time for LAMZ</p>
</td></tr>
<tr><td><code>LAMZNPT</code></td>
<td>
<p>number of points for LAMZ</p>
</td></tr>
<tr><td><code>CORRXY</code></td>
<td>
<p>correlation of log(concentration) and time</p>
</td></tr>
<tr><td><code>R2</code></td>
<td>
<p>R-squared</p>
</td></tr>
<tr><td><code>R2ADJ</code></td>
<td>
<p>R-squared adjusted</p>
</td></tr>
<tr><td><code>C0</code></td>
<td>
<p>back extrapolated concentration at time 0, for bolus intravascular administration only</p>
</td></tr>
<tr><td><code>AUCLST</code></td>
<td>
<p>AUC from 0 to TLST</p>
</td></tr>
<tr><td><code>AUCALL</code></td>
<td>
<p>AUC using all the given points, including trailing zero concentrations</p>
</td></tr>
<tr><td><code>AUCIFO</code></td>
<td>
<p>AUC infinity observed</p>
</td></tr>
<tr><td><code>AUCIFOD</code></td>
<td>
<p>AUCIFO / Dose</p>
</td></tr>
<tr><td><code>AUCIFP</code></td>
<td>
<p>AUC infinity predicted using CLSTP instead of CLST</p>
</td></tr>
<tr><td><code>AUCIFPD</code></td>
<td>
<p>AUCIFP / Dose</p>
</td></tr>
<tr><td><code>AUCPEO</code></td>
<td>
<p>AUC % extrapolation observed</p>
</td></tr>
<tr><td><code>AUCPEP</code></td>
<td>
<p>AUC % extrapolated for AUCIFP</p>
</td></tr>
<tr><td><code>AUCPBEO</code></td>
<td>
<p>AUC % back extrapolation observed, for bolus IV administration only</p>
</td></tr>
<tr><td><code>AUCPBEP</code></td>
<td>
<p>AUC % back extrapolation predicted with AUCIFP, for bolus IV administration only</p>
</td></tr>
<tr><td><code>AUMCLST</code></td>
<td>
<p>AUMC to the TLST</p>
</td></tr>
<tr><td><code>AUMCIFO</code></td>
<td>
<p>AUMC infinity observed using CLST</p>
</td></tr>
<tr><td><code>AUMCIFP</code></td>
<td>
<p>AUMC infinity determined by CLSTP</p>
</td></tr>
<tr><td><code>AUMCPEO</code></td>
<td>
<p>AUMC % extrapolated observed</p>
</td></tr>
<tr><td><code>AUMCPEP</code></td>
<td>
<p>AUMC % extrapolated predicted</p>
</td></tr>
<tr><td><code>MRTIVLST</code></td>
<td>
<p>mean residence time (MRT) to TLST, for intravascular administration</p>
</td></tr>
<tr><td><code>MRTIVIFO</code></td>
<td>
<p>mean residence time (MRT) infinity using CLST, for intravascular administration</p>
</td></tr>
<tr><td><code>MRTIVIFP</code></td>
<td>
<p>mean residence time (MRT) infinity using CLSTP, for intravascular administration</p>
</td></tr>
<tr><td><code>MRTEVLST</code></td>
<td>
<p>mean residence time (MRT) to TLST, for extravascular administration</p>
</td></tr>
<tr><td><code>MRTEVIFO</code></td>
<td>
<p>mean residence time (MRT) infinity using CLST, for extravascular administration</p>
</td></tr>
<tr><td><code>MRTEVIFP</code></td>
<td>
<p>mean residence time (MRT) infinity using CLSTP, for extravascular administration</p>
</td></tr>
<tr><td><code>VZO</code></td>
<td>
<p>volume of distribution determined by LAMZ and AUCIFO, for intravascular administration</p>
</td></tr>
<tr><td><code>VZP</code></td>
<td>
<p>volume of distribution determined by LAMZ and AUCIFP, for intravascular administration</p>
</td></tr>
<tr><td><code>VZFO</code></td>
<td>
<p>VZO for extravascular administration, VZO/F, F is bioavailability</p>
</td></tr>
<tr><td><code>VZFP</code></td>
<td>
<p>VZP for extravascular administration, VZP/F, F is bioavailability</p>
</td></tr>
<tr><td><code>CLO</code></td>
<td>
<p>clearance using AUCIFO, for intravascular administration</p>
</td></tr>
<tr><td><code>CLP</code></td>
<td>
<p>clearance using AUCIFP, for intravascular administration</p>
</td></tr>
<tr><td><code>CLFO</code></td>
<td>
<p>CLO for extravascular administration, CLO/F, F is bioavailability</p>
</td></tr>
<tr><td><code>CLFP</code></td>
<td>
<p>CLP for extravascular administration, CLP/F, F is bioavailability</p>
</td></tr>
<tr><td><code>VSSO</code></td>
<td>
<p>volume of distribution at steady state using CLST, for intravascular administration only</p>
</td></tr>
<tr><td><code>VSSP</code></td>
<td>
<p>volume of distribution at stead state using CLSTP, for intravascular administration only</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Kyun-Seop Bae &lt;k@acr.kr&gt;</p>


<h3>See Also</h3>

<p><code><a href="utils.html#topic+help">help</a></code>, <code><a href="#topic+txtNCA">txtNCA</a></code>, <code><a href="#topic+rtfNCA">rtfNCA</a></code> 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#pdfNCA(fileName="NCA-Theoph.pdf", Theoph, key="Subject", colTime="Time", 
#       colConc="conc", dose=320, doseUnit="mg", timeUnit="h", concUnit="mg/L")
#pdfNCA(fileName="NCA-Theoph.pdf", Theoph, key=c("Subject", "Wt"), colTime="Time",
#       colConc="conc", dose=320, doseUnit="mg", timeUnit="h", concUnit="mg/L")
#pdfNCA(fileName="NCA-Indometh.pdf", Indometh, key="Subject", colTime="time", 
#       colConc="conc", adm="Infusion", dur=0.5, dose=25, doseUnit="mg", 
#       timeUnit="h", concUnit="mg/L")
</code></pre>

<hr>
<h2 id='Res2Txt'>Convert sNCA output table to text form</h2><span id='topic+Res2Txt'></span>

<h3>Description</h3>

<p>This converts the table output of <code>sNCA</code> to text form output.</p>


<h3>Usage</h3>

<pre><code class='language-R'>Res2Txt(ResNCA, x, y, dose = 0, adm = "Extravascular", dur = 0, doseUnit = "mg", 
        down = "Linear")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Res2Txt_+3A_resnca">ResNCA</code></td>
<td>
<p>Output table from <code>sNCA</code></p>
</td></tr>
<tr><td><code id="Res2Txt_+3A_x">x</code></td>
<td>
<p>usually time</p>
</td></tr>
<tr><td><code id="Res2Txt_+3A_y">y</code></td>
<td>
<p>usually concentration</p>
</td></tr>
<tr><td><code id="Res2Txt_+3A_dose">dose</code></td>
<td>
<p>given amount</p>
</td></tr>
<tr><td><code id="Res2Txt_+3A_adm">adm</code></td>
<td>
<p>one of <code>"Bolus"</code> or <code>"Infusion"</code> or <code>"Extravascular"</code> to indicate drug administration mode</p>
</td></tr>
<tr><td><code id="Res2Txt_+3A_dur">dur</code></td>
<td>
<p>duration of infusion</p>
</td></tr>
<tr><td><code id="Res2Txt_+3A_doseunit">doseUnit</code></td>
<td>
<p>unit of dose</p>
</td></tr>
<tr><td><code id="Res2Txt_+3A_down">down</code></td>
<td>
<p>either of <code>"Linear"</code> or <code>"Log"</code> to indicate the way to calculate AUC and AUMC</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Text form output from the coversion of table form output
</p>


<h3>Author(s)</h3>

<p>Kyun-Seop Bae &lt;k@acr.kr&gt;</p>


<h3>See Also</h3>

<p><code><a href="#topic+txtNCA">txtNCA</a></code>, <code><a href="#topic+pdfNCA">pdfNCA</a></code>, <code><a href="#topic+rtfNCA">rtfNCA</a></code> 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x = Theoph[Theoph$Subject=="1","Time"]
y = Theoph[Theoph$Subject=="1","conc"]
z = sNCA(x, y, dose=320, doseUnit="mg", concUnit="mg/L", timeUnit="h")
Res2Txt(z, x, y)  
</code></pre>

<hr>
<h2 id='Round'>Round Half Away from Zero</h2><span id='topic+Round'></span>

<h3>Description</h3>

<p>This is an ordinary rounding function, so called round half away from zero
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Round(x, n = 0)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Round_+3A_x">x</code></td>
<td>
<p>numeric to be rounded</p>
</td></tr>
<tr><td><code id="Round_+3A_n">n</code></td>
<td>
<p>indicating decimal digits</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function <code>round</code> in R base rounds to the even number, i.e. <code>round(0.5)</code> is 0 not 1.
If you want rounding 0.5 be 1, you can use this <code>Round</code> function.
This function is for the consistency with other software like MS-Excel, SAS.
</p>


<h3>Value</h3>

<p>ordinarily rounded value
</p>


<h3>Author(s)</h3>

<p>Kyun-Seop Bae &lt;k@acr.kr&gt;</p>


<h3>References</h3>

<p>See wikipedia subject &quot;Rounding&quot;</p>


<h3>Examples</h3>

<pre><code class='language-R'>(x = 1:10 - 0.5)
Round(x)
round(x) # compare with the above
</code></pre>

<hr>
<h2 id='RptCfg'>
NCA Report Configuation Table
</h2><span id='topic+RptCfg'></span>

<h3>Description</h3>

<p>Contains the names and order of colum of return table/text in ouputs
</p>


<h3>Usage</h3>

<pre><code class='language-R'>RptCfg</code></pre>


<h3>Format</h3>

<p>A data frame with 48 observations on the following 10 variables.
</p>

<dl>
<dt><code>PPTESTCD</code></dt><dd><p>a character vector of CDISC SDTM PPTESTCD</p>
</dd>
<dt><code>SYNONYM</code></dt><dd><p>a character vector of CDISC SDTM PPTESTCD Synonym</p>
</dd>
<dt><code>NCI</code></dt><dd><p>a character vector of NCI peferred terms</p>
</dd>
<dt><code>WNL</code></dt><dd><p>a character vector of WinNonlin(R) software variables</p>
</dd>
<dt><code>ExtravascularDefault</code></dt><dd><p>a numeric vector of ordering in report for extravascular administration, Zero means exclusion in the report.</p>
</dd>
<dt><code>ExtravascularWNL</code></dt><dd><p>a numeric vector of WinNonlin(R) style ordering in report for extravascular administration, Zero means exclusion in the report.</p>
</dd>
<dt><code>BolusDefault</code></dt><dd><p>a numeric vector of ordering in report for extravascular administration, Zero means exclusion in the report.</p>
</dd>
<dt><code>BolusWNL</code></dt><dd><p>a numeric vector of WinNonlin(R) style ordering in report for extravascular administration, Zero means exclusion in the report.</p>
</dd>
<dt><code>InfusionDefault</code></dt><dd><p>a numeric vector of ordering in report for extravascular administration, Zero means exclusion in the report.</p>
</dd>
<dt><code>InfusionWNL</code></dt><dd><p>a numeric vector of WinNonlin(R) style ordering in report for extravascular administration, Zero means exclusion in the report.</p>
</dd>
</dl>



<h3>Details</h3>

<p>This table should exist in this package.
</p>

<hr>
<h2 id='rtfNCA'>NCA output to rtf file</h2><span id='topic+rtfNCA'></span>

<h3>Description</h3>

<p>This output NCA result in a rtf file.</p>


<h3>Usage</h3>

<pre><code class='language-R'>rtfNCA(fileName = "Temp-NCA.rtf", concData, key = "Subject", colTime = "Time", 
       colConc = "conc", dose = 0, adm = "Extravascular", dur = 0, 
       doseUnit = "mg", timeUnit = "h", concUnit = "ug/L", down="Linear", 
       R2ADJ = 0, MW = 0, SS = FALSE, iAUC = "", excludeDelta = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rtfNCA_+3A_filename">fileName</code></td>
<td>
<p>file name to save</p>
</td></tr>
<tr><td><code id="rtfNCA_+3A_concdata">concData</code></td>
<td>
<p>concentration data table</p>
</td></tr>
<tr><td><code id="rtfNCA_+3A_key">key</code></td>
<td>
<p>column names of concData to be shown in the output</p>
</td></tr>
<tr><td><code id="rtfNCA_+3A_coltime">colTime</code></td>
<td>
<p>column name for time</p>
</td></tr>
<tr><td><code id="rtfNCA_+3A_colconc">colConc</code></td>
<td>
<p>column name for concentration</p>
</td></tr>
<tr><td><code id="rtfNCA_+3A_dose">dose</code></td>
<td>
<p>administered dose</p>
</td></tr>
<tr><td><code id="rtfNCA_+3A_adm">adm</code></td>
<td>
<p>one of <code>"Bolus"</code> or <code>"Infusion"</code> or <code>"Extravascular"</code> to indicate drug administration mode</p>
</td></tr>
<tr><td><code id="rtfNCA_+3A_dur">dur</code></td>
<td>
<p>duration of infusion</p>
</td></tr>
<tr><td><code id="rtfNCA_+3A_doseunit">doseUnit</code></td>
<td>
<p>unit of dose</p>
</td></tr>
<tr><td><code id="rtfNCA_+3A_timeunit">timeUnit</code></td>
<td>
<p>unit of time</p>
</td></tr>
<tr><td><code id="rtfNCA_+3A_concunit">concUnit</code></td>
<td>
<p>unit of concentration</p>
</td></tr>
<tr><td><code id="rtfNCA_+3A_down">down</code></td>
<td>
<p>either of <code>"Linear"</code> or <code>"Log"</code> to indicate the way to calculate AUC and AUMC</p>
</td></tr>
<tr><td><code id="rtfNCA_+3A_r2adj">R2ADJ</code></td>
<td>
<p>Minimum adjusted R-square value to determine terminal slope automatically</p>
</td></tr>
<tr><td><code id="rtfNCA_+3A_mw">MW</code></td>
<td>
<p>molecular weight of drug</p>
</td></tr>
<tr><td><code id="rtfNCA_+3A_ss">SS</code></td>
<td>
<p>if steady-state, this should be TRUE. AUCLST (AUClast) is used instead of AUCIFO (AUCinf) for the calculation of Vz (VZFO, VZO), CL (CLFO, CLO), and Vdss (VSSO).</p>
</td></tr>
<tr><td><code id="rtfNCA_+3A_iauc">iAUC</code></td>
<td>
<p>interval AUC information in a dataframe with &quot;Name&quot;, &quot;Start&quot;, and &quot;End&quot; columns</p>
</td></tr>
<tr><td><code id="rtfNCA_+3A_excludedelta">excludeDelta</code></td>
<td>
<p>Improvement of R2ADJ larger than this value could exclude the last point. Default value 1 is for the compatibility with other software. Author recommends to use <code>excludeDelta</code> option with about 0.3.</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>CMAX</code></td>
<td>
<p>maximum concentration, Cmax</p>
</td></tr>
<tr><td><code>CMAXD</code></td>
<td>
<p>dose normalized Cmax, CMAX / Dose, Cmax / Dose</p>
</td></tr>
<tr><td><code>TMAX</code></td>
<td>
<p>time of maximum concentration, Tmax</p>
</td></tr>
<tr><td><code>TLAG</code></td>
<td>
<p>time to observe the first non-zero concentration, for extravascular administration only</p>
</td></tr>
<tr><td><code>CLST</code></td>
<td>
<p>last positive concentration observed, Clast</p>
</td></tr>
<tr><td><code>CLSTP</code></td>
<td>
<p>last positive concentration predicted, Clast_pred</p>
</td></tr>
<tr><td><code>TLST</code></td>
<td>
<p>time of last positive concentration, Tlast</p>
</td></tr>
<tr><td><code>LAMZHL</code></td>
<td>
<p>half-life by lambda z, ln(2)/LAMZ</p>
</td></tr>
<tr><td><code>LAMZ</code></td>
<td>
<p>lambda_z negative of best fit terminal slope</p>
</td></tr>
<tr><td><code>LAMZLL</code></td>
<td>
<p>earliest time for LAMZ</p>
</td></tr>
<tr><td><code>LAMZUL</code></td>
<td>
<p>last time for LAMZ</p>
</td></tr>
<tr><td><code>LAMZNPT</code></td>
<td>
<p>number of points for LAMZ</p>
</td></tr>
<tr><td><code>CORRXY</code></td>
<td>
<p>correlation of log(concentration) and time</p>
</td></tr>
<tr><td><code>R2</code></td>
<td>
<p>R-squared</p>
</td></tr>
<tr><td><code>R2ADJ</code></td>
<td>
<p>R-squared adjusted</p>
</td></tr>
<tr><td><code>C0</code></td>
<td>
<p>back extrapolated concentration at time 0, for bolus intravascular administration only</p>
</td></tr>
<tr><td><code>AUCLST</code></td>
<td>
<p>AUC from 0 to TLST</p>
</td></tr>
<tr><td><code>AUCALL</code></td>
<td>
<p>AUC using all the given points, including trailing zero concentrations</p>
</td></tr>
<tr><td><code>AUCIFO</code></td>
<td>
<p>AUC infinity observed</p>
</td></tr>
<tr><td><code>AUCIFOD</code></td>
<td>
<p>AUCIFO / Dose</p>
</td></tr>
<tr><td><code>AUCIFP</code></td>
<td>
<p>AUC infinity predicted using CLSTP instead of CLST</p>
</td></tr>
<tr><td><code>AUCIFPD</code></td>
<td>
<p>AUCIFP / Dose</p>
</td></tr>
<tr><td><code>AUCPEO</code></td>
<td>
<p>AUC % extrapolation observed</p>
</td></tr>
<tr><td><code>AUCPEP</code></td>
<td>
<p>AUC % extrapolated for AUCIFP</p>
</td></tr>
<tr><td><code>AUCPBEO</code></td>
<td>
<p>AUC % back extrapolation observed, for bolus IV administration only</p>
</td></tr>
<tr><td><code>AUCPBEP</code></td>
<td>
<p>AUC % back extrapolation predicted with AUCIFP, for bolus IV administration only</p>
</td></tr>
<tr><td><code>AUMCLST</code></td>
<td>
<p>AUMC to the TLST</p>
</td></tr>
<tr><td><code>AUMCIFO</code></td>
<td>
<p>AUMC infinity observed using CLST</p>
</td></tr>
<tr><td><code>AUMCIFP</code></td>
<td>
<p>AUMC infinity determined by CLSTP</p>
</td></tr>
<tr><td><code>AUMCPEO</code></td>
<td>
<p>AUMC % extrapolated observed</p>
</td></tr>
<tr><td><code>AUMCPEP</code></td>
<td>
<p>AUMC % extrapolated predicted</p>
</td></tr>
<tr><td><code>MRTIVLST</code></td>
<td>
<p>mean residence time (MRT) to TLST, for intravascular administration</p>
</td></tr>
<tr><td><code>MRTIVIFO</code></td>
<td>
<p>mean residence time (MRT) infinity using CLST, for intravascular administration</p>
</td></tr>
<tr><td><code>MRTIVIFP</code></td>
<td>
<p>mean residence time (MRT) infinity using CLSTP, for intravascular administration</p>
</td></tr>
<tr><td><code>MRTEVLST</code></td>
<td>
<p>mean residence time (MRT) to TLST, for extravascular administration</p>
</td></tr>
<tr><td><code>MRTEVIFO</code></td>
<td>
<p>mean residence time (MRT) infinity using CLST, for extravascular administration</p>
</td></tr>
<tr><td><code>MRTEVIFP</code></td>
<td>
<p>mean residence time (MRT) infinity using CLSTP, for extravascular administration</p>
</td></tr>
<tr><td><code>VZO</code></td>
<td>
<p>volume of distribution determined by LAMZ and AUCIFO, for intravascular administration</p>
</td></tr>
<tr><td><code>VZP</code></td>
<td>
<p>volume of distribution determined by LAMZ and AUCIFP, for intravascular administration</p>
</td></tr>
<tr><td><code>VZFO</code></td>
<td>
<p>VZO for extravascular administration, VZO/F, F is bioavailability</p>
</td></tr>
<tr><td><code>VZFP</code></td>
<td>
<p>VZP for extravascular administration, VZP/F, F is bioavailability</p>
</td></tr>
<tr><td><code>CLO</code></td>
<td>
<p>clearance using AUCIFO, for intravascular administration</p>
</td></tr>
<tr><td><code>CLP</code></td>
<td>
<p>clearance using AUCIFP, for intravascular administration</p>
</td></tr>
<tr><td><code>CLFO</code></td>
<td>
<p>CLO for extravascular administration, CLO/F, F is bioavailability</p>
</td></tr>
<tr><td><code>CLFP</code></td>
<td>
<p>CLP for extravascular administration, CLP/F, F is bioavailability</p>
</td></tr>
<tr><td><code>VSSO</code></td>
<td>
<p>volume of distribution at steady state using CLST, for intravascular administration only</p>
</td></tr>
<tr><td><code>VSSP</code></td>
<td>
<p>volume of distribution at stead state using CLSTP, for intravascular administration only</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Kyun-Seop Bae &lt;k@acr.kr&gt;</p>


<h3>See Also</h3>

<p><code><a href="utils.html#topic+help">help</a></code>, <code><a href="#topic+txtNCA">txtNCA</a></code>, <code><a href="#topic+pdfNCA">pdfNCA</a></code> 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#rtfNCA(fileName="NCA-Theoph.rtf", Theoph, key="Subject", colTime="Time", 
#       colConc="conc", dose=320, doseUnit="mg", timeUnit="h", concUnit="mg/L")
#rtfNCA(fileName="NCA-Theoph.rtf", Theoph, key=c("Subject", "Wt"), colTime="Time",
#       colConc="conc", dose=320, doseUnit="mg", timeUnit="h", concUnit="mg/L")
#rtfNCA(fileName="NCA-Indometh.rtf", Indometh, key="Subject", colTime="time", 
#       colConc="conc", adm="Infusion", dur=0.5, dose=25, doseUnit="mg", 
#       timeUnit="h", concUnit="mg/L")
</code></pre>

<hr>
<h2 id='txtNCA'>Text output of NCA for one subject</h2><span id='topic+txtNCA'></span>

<h3>Description</h3>

<p>This is the text form output.</p>


<h3>Usage</h3>

<pre><code class='language-R'>txtNCA(x, y, dose = 0, adm = "Extravascular", dur = 0, doseUnit = "mg", 
       timeUnit = "h", concUnit = "ug/L", iAUC = "", down="Linear", R2ADJ=0, 
       MW = 0, SS = FALSE, excludeDelta = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="txtNCA_+3A_x">x</code></td>
<td>
<p>usually time</p>
</td></tr>
<tr><td><code id="txtNCA_+3A_y">y</code></td>
<td>
<p>usually concentration</p>
</td></tr>
<tr><td><code id="txtNCA_+3A_dose">dose</code></td>
<td>
<p>given amount</p>
</td></tr>
<tr><td><code id="txtNCA_+3A_adm">adm</code></td>
<td>
<p>one of <code>"Bolus"</code> or <code>"Infusion"</code> or <code>"Extravascular"</code> to indicate drug administration mode</p>
</td></tr>
<tr><td><code id="txtNCA_+3A_dur">dur</code></td>
<td>
<p>duration of infusion</p>
</td></tr>
<tr><td><code id="txtNCA_+3A_doseunit">doseUnit</code></td>
<td>
<p>unit of dose</p>
</td></tr>
<tr><td><code id="txtNCA_+3A_timeunit">timeUnit</code></td>
<td>
<p>unit of time</p>
</td></tr>
<tr><td><code id="txtNCA_+3A_concunit">concUnit</code></td>
<td>
<p>unit of concentration</p>
</td></tr>
<tr><td><code id="txtNCA_+3A_iauc">iAUC</code></td>
<td>
<p>interval AUCs to calculate</p>
</td></tr>
<tr><td><code id="txtNCA_+3A_down">down</code></td>
<td>
<p>either of <code>"Linear"</code> or <code>"Log"</code> to indicate the way to calculate AUC and AUMC</p>
</td></tr>
<tr><td><code id="txtNCA_+3A_r2adj">R2ADJ</code></td>
<td>
<p>Minimum adjusted R-square value to determine terminal slope automatically</p>
</td></tr>
<tr><td><code id="txtNCA_+3A_mw">MW</code></td>
<td>
<p>molecular weight of the drug</p>
</td></tr>
<tr><td><code id="txtNCA_+3A_ss">SS</code></td>
<td>
<p>if steady-state, this should be TRUE. AUCLST (AUClast) is used instead of AUCIFO (AUCinf) for the calculation of Vz (VZFO, VZO), CL (CLFO, CLO), and Vdss (VSSO).</p>
</td></tr>
<tr><td><code id="txtNCA_+3A_excludedelta">excludeDelta</code></td>
<td>
<p>Improvement of R2ADJ larger than this value could exclude the last point. Default value 1 is for the compatibility with other software. Author recommends to use <code>excludeDelta</code> option with about 0.3.</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>CMAX</code></td>
<td>
<p>maximum concentration, Cmax</p>
</td></tr>
<tr><td><code>CMAXD</code></td>
<td>
<p>dose normalized Cmax, CMAX / Dose, Cmax / Dose</p>
</td></tr>
<tr><td><code>TMAX</code></td>
<td>
<p>time of maximum concentration, Tmax</p>
</td></tr>
<tr><td><code>TLAG</code></td>
<td>
<p>time to observe the first non-zero concentration, for extravascular administration only</p>
</td></tr>
<tr><td><code>CLST</code></td>
<td>
<p>last positive concentration observed, Clast</p>
</td></tr>
<tr><td><code>CLSTP</code></td>
<td>
<p>last positive concentration predicted, Clast_pred</p>
</td></tr>
<tr><td><code>TLST</code></td>
<td>
<p>time of last positive concentration, Tlast</p>
</td></tr>
<tr><td><code>LAMZHL</code></td>
<td>
<p>half-life by lambda z, ln(2)/LAMZ</p>
</td></tr>
<tr><td><code>LAMZ</code></td>
<td>
<p>lambda_z negative of best fit terminal slope</p>
</td></tr>
<tr><td><code>LAMZLL</code></td>
<td>
<p>earliest time for LAMZ</p>
</td></tr>
<tr><td><code>LAMZUL</code></td>
<td>
<p>last time for LAMZ</p>
</td></tr>
<tr><td><code>LAMZNPT</code></td>
<td>
<p>number of points for LAMZ</p>
</td></tr>
<tr><td><code>CORRXY</code></td>
<td>
<p>correlation of log(concentration) and time</p>
</td></tr>
<tr><td><code>R2</code></td>
<td>
<p>R-squared</p>
</td></tr>
<tr><td><code>R2ADJ</code></td>
<td>
<p>R-squared adjusted</p>
</td></tr>
<tr><td><code>C0</code></td>
<td>
<p>back extrapolated concentration at time 0, for bolus intravascular administration only</p>
</td></tr>
<tr><td><code>AUCLST</code></td>
<td>
<p>AUC from 0 to TLST</p>
</td></tr>
<tr><td><code>AUCALL</code></td>
<td>
<p>AUC using all the given points, including trailing zero concentrations</p>
</td></tr>
<tr><td><code>AUCIFO</code></td>
<td>
<p>AUC infinity observed</p>
</td></tr>
<tr><td><code>AUCIFOD</code></td>
<td>
<p>AUCIFO / Dose</p>
</td></tr>
<tr><td><code>AUCIFP</code></td>
<td>
<p>AUC infinity predicted using CLSTP instead of CLST</p>
</td></tr>
<tr><td><code>AUCIFPD</code></td>
<td>
<p>AUCIFP / Dose</p>
</td></tr>
<tr><td><code>AUCPEO</code></td>
<td>
<p>AUC % extrapolation observed</p>
</td></tr>
<tr><td><code>AUCPEP</code></td>
<td>
<p>AUC % extrapolated for AUCIFP</p>
</td></tr>
<tr><td><code>AUCPBEO</code></td>
<td>
<p>AUC % back extrapolation observed, for bolus IV administration only</p>
</td></tr>
<tr><td><code>AUCPBEP</code></td>
<td>
<p>AUC % back extrapolation predicted with AUCIFP, for bolus IV administration only</p>
</td></tr>
<tr><td><code>AUMCLST</code></td>
<td>
<p>AUMC to the TLST</p>
</td></tr>
<tr><td><code>AUMCIFO</code></td>
<td>
<p>AUMC infinity observed using CLST</p>
</td></tr>
<tr><td><code>AUMCIFP</code></td>
<td>
<p>AUMC infinity determined by CLSTP</p>
</td></tr>
<tr><td><code>AUMCPEO</code></td>
<td>
<p>AUMC % extrapolated observed</p>
</td></tr>
<tr><td><code>AUMCPEP</code></td>
<td>
<p>AUMC % extrapolated predicted</p>
</td></tr>
<tr><td><code>MRTIVLST</code></td>
<td>
<p>mean residence time (MRT) to TLST, for intravascular administration</p>
</td></tr>
<tr><td><code>MRTIVIFO</code></td>
<td>
<p>mean residence time (MRT) infinity using CLST, for intravascular administration</p>
</td></tr>
<tr><td><code>MRTIVIFP</code></td>
<td>
<p>mean residence time (MRT) infinity using CLSTP, for intravascular administration</p>
</td></tr>
<tr><td><code>MRTEVLST</code></td>
<td>
<p>mean residence time (MRT) to TLST, for extravascular administration</p>
</td></tr>
<tr><td><code>MRTEVIFO</code></td>
<td>
<p>mean residence time (MRT) infinity using CLST, for extravascular administration</p>
</td></tr>
<tr><td><code>MRTEVIFP</code></td>
<td>
<p>mean residence time (MRT) infinity using CLSTP, for extravascular administration</p>
</td></tr>
<tr><td><code>VZO</code></td>
<td>
<p>volume of distribution determined by LAMZ and AUCIFO, for intravascular administration</p>
</td></tr>
<tr><td><code>VZP</code></td>
<td>
<p>volume of distribution determined by LAMZ and AUCIFP, for intravascular administration</p>
</td></tr>
<tr><td><code>VZFO</code></td>
<td>
<p>VZO for extravascular administration, VZO/F, F is bioavailability</p>
</td></tr>
<tr><td><code>VZFP</code></td>
<td>
<p>VZP for extravascular administration, VZP/F, F is bioavailability</p>
</td></tr>
<tr><td><code>CLO</code></td>
<td>
<p>clearance using AUCIFO, for intravascular administration</p>
</td></tr>
<tr><td><code>CLP</code></td>
<td>
<p>clearance using AUCIFP, for intravascular administration</p>
</td></tr>
<tr><td><code>CLFO</code></td>
<td>
<p>CLO for extravascular administration, CLO/F, F is bioavailability</p>
</td></tr>
<tr><td><code>CLFP</code></td>
<td>
<p>CLP for extravascular administration, CLP/F, F is bioavailability</p>
</td></tr>
<tr><td><code>VSSO</code></td>
<td>
<p>volume of distribution at steady state using CLST, for intravascular administration only</p>
</td></tr>
<tr><td><code>VSSP</code></td>
<td>
<p>volume of distribution at stead state using CLSTP, for intravascular administration only</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Kyun-Seop Bae &lt;k@acr.kr&gt;</p>


<h3>See Also</h3>

<p><code><a href="utils.html#topic+help">help</a></code>, <code><a href="#topic+pdfNCA">pdfNCA</a></code>, <code><a href="#topic+rtfNCA">rtfNCA</a></code> 
</p>


<h3>Examples</h3>

<pre><code class='language-R'># For one subject
txtNCA(Theoph[Theoph$Subject=="1","Time"], Theoph[Theoph$Subject=="1","conc"], 
       dose=320, doseUnit="mg", concUnit="mg/L", timeUnit="h")

# or equivalently
x = Theoph[Theoph$Subject=="1","Time"]
y = Theoph[Theoph$Subject=="1","conc"]
txtNCA(x, y, dose=320, doseUnit="mg", concUnit="mg/L", timeUnit="h")

# For all subjects
IDs = sort(as.numeric(unique(Theoph[,"Subject"])))
nID = length(IDs)
Res = vector()
for (i in 1:nID) {
  tRes = txtNCA(Theoph[Theoph[,"Subject"]==IDs[i],"Time"], 
                Theoph[Theoph[,"Subject"]==IDs[i],"conc"], 
                dose=320, concUnit="mg/L")
  tRes = c(paste("ID =", IDs[i]), tRes, "")
  Res = c(Res, tRes)
}
Res
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

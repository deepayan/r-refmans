<!DOCTYPE html><html><head><title>Help for package nestr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {nestr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#nestr-package'><p>nestr: Build Nesting or Hierarchical Structures</p></a></li>
<li><a href='#+25+26gt+3B+25'><p>Pipe operator</p></a></li>
<li><a href='#amplify'><p>Amplify the data frame with a given structure</p></a></li>
<li><a href='#nest_in'><p>Create a nested structure</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Build Nesting or Hierarchical Structures</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.2</td>
</tr>
<tr>
<td>Description:</td>
<td>Facilitates building a nesting or hierarchical structure as a list or data frame by using a human friendly syntax. </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>Imports:</td>
<td>magrittr, rlang, vctrs, tidyselect</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-02-01 06:57:17 UTC; etan0038</td>
</tr>
<tr>
<td>Author:</td>
<td>Emi Tanaka <a href="https://orcid.org/0000-0002-1455-259X"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre, cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Emi Tanaka &lt;dr.emi.tanaka@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-02-01 21:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='nestr-package'>nestr: Build Nesting or Hierarchical Structures</h2><span id='topic+nestr'></span><span id='topic+nestr-package'></span>

<h3>Description</h3>

<p>Facilitates building a nesting or hierarchical structure as a list or data frame by using a human friendly syntax.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Emi Tanaka <a href="mailto:dr.emi.tanaka@gmail.com">dr.emi.tanaka@gmail.com</a> (<a href="https://orcid.org/0000-0002-1455-259X">ORCID</a>) [copyright holder]
</p>

<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>See <code>magrittr::<a href="magrittr.html#topic+pipe">%&gt;%</a></code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>

<hr>
<h2 id='amplify'>Amplify the data frame with a given structure</h2><span id='topic+amplify'></span><span id='topic+amplify.data.frame'></span>

<h3>Description</h3>

<p>The <code>dplyr::mutate</code> function modifies, deletes or creates a new column for
a data frame without altering the number of rows. The <code>amplify</code> function
can create new columns which generally increase (or amplify) the size of the
row dimension. The observations in other columns are duplicated.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>amplify(.data, ...)

## S3 method for class 'data.frame'
amplify(
  .data,
  ...,
  .keep = c("all", "used", "unused", "none"),
  .before = NULL,
  .after = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="amplify_+3A_.data">.data</code></td>
<td>
<p>An object with the data.</p>
</td></tr>
<tr><td><code id="amplify_+3A_...">...</code></td>
<td>
<p>Name-value pairs.</p>
</td></tr>
<tr><td><code id="amplify_+3A_.keep">.keep</code>, <code id="amplify_+3A_.before">.before</code>, <code id="amplify_+3A_.after">.after</code></td>
<td>
<p>Use to control which columns are retained and how it is ordered
in the output. See documentation of <code>dplyr::mutate</code> for more information.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If you are familiar with gene replication process then you can recall these
functions in genetic terms; an amplified gene is a duplication of the
original while a mutated gene modifies the original state.
</p>


<h3>Value</h3>

<p>Returns a data frame.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>df &lt;- data.frame(x = 1:3, y = c("a", "b", "b"))
amplify(df, z = nest_in(y, "a" ~ 5,
                           "b" ~ 3))

</code></pre>

<hr>
<h2 id='nest_in'>Create a nested structure</h2><span id='topic+nest_in'></span>

<h3>Description</h3>

<p>This function results in a two column data frame with nested structure.
Currently only one parent is supported and child is only specified by
giving the number of levels. (This will change shortly).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nest_in(
  x,
  ...,
  prefix = "",
  suffix = "",
  distinct = FALSE,
  leading0 = FALSE,
  compact = TRUE,
  keyname = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nest_in_+3A_x">x</code></td>
<td>
<p>A vector where each entry is the level of a parent. It may
be a factor or character. If character, levels are ordered alphanumerically.</p>
</td></tr>
<tr><td><code id="nest_in_+3A_...">...</code></td>
<td>
<p>A single integer, character vector or sequence of
two-sided formula. If a single integer or character vector then each parent will have
children specified by the given value. If it is sequence of two-sided formula, then the left hand
side (LHS) specifies the level as an integer or character. E.g. <code>1</code>
means the first level of the parent vector. If it is a
character then it is assumed that it corresponds to the label of
the parental level. Vector is supported for LHS.
The right hand side (RHS) can only be an integer or a character vector.</p>
</td></tr>
<tr><td><code id="nest_in_+3A_prefix">prefix</code></td>
<td>
<p>The prefix for the child labels.</p>
</td></tr>
<tr><td><code id="nest_in_+3A_suffix">suffix</code></td>
<td>
<p>The suffix for the child labels.</p>
</td></tr>
<tr><td><code id="nest_in_+3A_distinct">distinct</code></td>
<td>
<p>A logical value to indicate whether the child labels
across parents should be distinct. The labels are only
distinct if the RHS of the formula is numeric.</p>
</td></tr>
<tr><td><code id="nest_in_+3A_leading0">leading0</code></td>
<td>
<p>By default it is <code>FALSE</code>. If <code>TRUE</code>, this is the
same as setting <code>0</code> or <code>1</code>. If a positive integer is
specified then it corresponds to the minimum number of digits
for the child labels and there will be leading zeros augmented so
that the minimum number is met.</p>
</td></tr>
<tr><td><code id="nest_in_+3A_compact">compact</code></td>
<td>
<p>A logical value to indicate whether the returned list
should be a compact representation or not. Ignored if distinct is <code>TRUE</code>
since it's not possible to make compact representation if unit labels
are all distinct.</p>
</td></tr>
<tr><td><code id="nest_in_+3A_keyname">keyname</code></td>
<td>
<p>The name of the parent variable. It's usually the key
that connects the output to another table.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named list where the entry corresponding to the child levels
and the names correspond to parental levels.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Each element in the supplied the vector has 4 child.
nest_in(1:3, 4)

# prefix and suffix can be added to child labels
# along with other aesthesitics like leading zeroes
# with minimum number of digits.
nest_in(1:3, 10, prefix = "id-", suffix = "xy", leading0 = 4)

# you can specify unbalanced nested structures
nest_in(2:4,
         1 ~ 3,
         2 ~ 4,
         3 ~ 2)

# A `.` may be used to specify "otherwise".
nest_in(c("A", "B", "C", "D"),
             2:3 ~ 10,
               . ~ 3)

# The parental level can be referred by its name or vectorised.
nest_in(c("A", "B", "C"),
         c("A", "B") ~ 10,
                 "C" ~ 3)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

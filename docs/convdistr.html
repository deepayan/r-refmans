<!DOCTYPE html><html><head><title>Help for package convdistr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {convdistr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#convdistr-package'><p>convdistr: Convolute Probabilistic Distributions</p></a></li>
<li><a href='#add_total'><p>Adds a total dimension</p></a></li>
<li><a href='#BETA'><p>Factory for a BETA distribution object</p></a></li>
<li><a href='#BETABINOMIAL'><p>Factory for a BETABINOMIAL distribution object</p></a></li>
<li><a href='#BINOMIAL'><p>Factory for a BINOMIAL distribution object</p></a></li>
<li><a href='#cinqnum'><p>cinqnum</p></a></li>
<li><a href='#CONVOLUTION'><p>Make the convolution of two or more <code>DISTRIBUTION</code> objects</p></a></li>
<li><a href='#CONVOLUTION_assoc'><p>Convolution with association of dimensions</p></a></li>
<li><a href='#CONVOLUTION_comb'><p>Convolution with combination of dimensions</p></a></li>
<li><a href='#DIRAC'><p>Factory for a DIRAC distribution object</p></a></li>
<li><a href='#DIRICHLET'><p>Factory for a DIRICHLET distribution object</p></a></li>
<li><a href='#DISCRETE'><p>Factory for a DISCRETE distribution object</p></a></li>
<li><a href='#DISTRIBUTION'><p>DISTRIBUTION class</p></a></li>
<li><a href='#DISTRIBUTION_factory'><p>A factory of <code>DISTRIBUTION</code> classes</p></a></li>
<li><a href='#EXPONENTIAL'><p>Factory for a EXPONENTIAL distribution using confidence intervals</p></a></li>
<li><a href='#fitbeta'><p>Fits a beta distribution based on quantiles</p></a></li>
<li><a href='#fitdirichlet'><p>Fits a Dirichlet distribution,</p></a></li>
<li><a href='#ggDISTRIBUTION'><p>Plot of <code>DISTRIBUTION</code> objects using <code>ggplot2</code></p></a></li>
<li><a href='#LOGNORMAL'><p>Factory for a LOGNORMAL distribution object</p></a></li>
<li><a href='#metadata'><p>Metadata for a DISTRIBUTION</p></a></li>
<li><a href='#NA_DISTRIBUTION'><p>Factory for a NA distribution object</p></a></li>
<li><a href='#new_MIXTURE'><p>Mixture of <code>DISTRIBUTION</code> objects</p></a></li>
<li><a href='#new_MULTINORMAL'><p>Multivariate Normal Distribution</p></a></li>
<li><a href='#NORMAL'><p>Factory for a NORMAL distribution object</p></a></li>
<li><a href='#omit_NA'><p>Omit <code>NA</code> distributions from a list of distributions</p></a></li>
<li><a href='#plot.DISTRIBUTION'><p>plot of  <code>DISTRIBUTION</code> objects</p></a></li>
<li><a href='#POISSON'><p>Factory for a POISSON distribution using confidence intervals</p></a></li>
<li><a href='#restrict_environment'><p>Build a new function with a smaller environment</p></a></li>
<li><a href='#rfunc'><p>Generate random numbers from a <code>DISTRIBUTION</code> object</p></a></li>
<li><a href='#rfunc.default'><p>Default function</p></a></li>
<li><a href='#rfunc.DISTRIBUTION'><p>Generic function for a <code>DISTRIBUTION</code> object</p></a></li>
<li><a href='#same_dimensions'><p>Check the dimensions of a list of distributions</p></a></li>
<li><a href='#set_seed'><p>Modify a the seed of a Distribution object</p></a></li>
<li><a href='#summary.DISTRIBUTION'><p>Summary of Distributions</p></a></li>
<li><a href='#TRIANGULAR'><p>Factory for a TRIANGULAR distribution object</p></a></li>
<li><a href='#TRUNCATED'><p>Factory for a TRUNCATED distribution object</p></a></li>
<li><a href='#UNIFORM'><p>Factory for a UNIFORM distribution object</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Convolute Probabilistic Distributions</td>
</tr>
<tr>
<td>Version:</td>
<td>1.6.1</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-01-20</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/johnaponte/convdistr">https://github.com/johnaponte/convdistr</a>,
<a href="https://johnaponte.github.io/convdistr/">https://johnaponte.github.io/convdistr/</a></td>
</tr>
<tr>
<td>Description:</td>
<td>Convolute probabilistic distributions using the random generator 
 function of each distribution. A new random number generator function is created that 
 perform the mathematical operation on the individual random samples from the 
 random generator function of each distribution. See the documentation for examples.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Suggests:</td>
<td>spelling, testthat, knitr, rmarkdown</td>
</tr>
<tr>
<td>Imports:</td>
<td>stats, graphics, pryr, extraDistr, dplyr, tidyr, ggplot2,
RColorBrewer, SHELF, MASS, shiny</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.0</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-01-24 14:20:10 UTC; master</td>
</tr>
<tr>
<td>Author:</td>
<td>Aponte John <a href="https://orcid.org/0000-0002-3014-3673"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Aponte John &lt;john.j.aponte@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-01-24 14:32:51 UTC</td>
</tr>
</table>
<hr>
<h2 id='convdistr-package'>convdistr: Convolute Probabilistic Distributions</h2><span id='topic+convdistr'></span><span id='topic+convdistr-package'></span>

<h3>Description</h3>

<p>Convolute probabilistic distributions using the random generator function of each distribution. A new random number generator function is created that perform the mathematical operation on the individual random samples from the random generator function of each distribution. See the documentation for examples.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Aponte John <a href="mailto:john.j.aponte@gmail.com">john.j.aponte@gmail.com</a> (<a href="https://orcid.org/0000-0002-3014-3673">ORCID</a>)
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/johnaponte/convdistr">https://github.com/johnaponte/convdistr</a>
</p>
</li>
<li> <p><a href="https://johnaponte.github.io/convdistr/">https://johnaponte.github.io/convdistr/</a>
</p>
</li></ul>


<hr>
<h2 id='add_total'>Adds a total dimension</h2><span id='topic+add_total'></span>

<h3>Description</h3>

<p>This function returns a <code><a href="#topic+DISTRIBUTION">DISTRIBUTION</a></code> with a new dimension
created by row sum of the dimensions of the distribution.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_total(p_distribution, p_totalname = "TOTAL")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_total_+3A_p_distribution">p_distribution</code></td>
<td>
<p>an object of class <code><a href="#topic+DISTRIBUTION">DISTRIBUTION</a></code></p>
</td></tr>
<tr><td><code id="add_total_+3A_p_totalname">p_totalname</code></td>
<td>
<p>the name of the new dimension</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Only works with multidimensional distributions.
</p>


<h3>Value</h3>

<p>a <code><a href="#topic+DISTRIBUTION">DISTRIBUTION</a></code>
</p>


<h3>Author(s)</h3>

<p>John J. Aponte
</p>


<h3>Examples</h3>

<pre><code class='language-R'>d1 &lt;- new_DIRICHLET(c(0.2,0.5,0.3))
d2 &lt;- add_total(d1)
</code></pre>

<hr>
<h2 id='BETA'>Factory for a BETA distribution object</h2><span id='topic+BETA'></span><span id='topic+new_BETA'></span><span id='topic+new_BETA_lci'></span><span id='topic+new_BETA_lci2'></span>

<h3>Description</h3>

<p>Returns an BETA distribution object that produce random numbers
from a  beta distribution using the <code><a href="stats.html#topic+rbeta">rbeta</a></code> function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_BETA(p_shape1, p_shape2, p_dimnames = "rvar")

new_BETA_lci(p_mean, p_lci, p_uci, p_dimnames = "rvar")

new_BETA_lci2(p_mean, p_lci, p_uci, p_dimnames = "rvar")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="BETA_+3A_p_shape1">p_shape1</code></td>
<td>
<p>non-negative parameters of the Beta distribution</p>
</td></tr>
<tr><td><code id="BETA_+3A_p_shape2">p_shape2</code></td>
<td>
<p>non-negative parameters of the Beta distribution</p>
</td></tr>
<tr><td><code id="BETA_+3A_p_dimnames">p_dimnames</code></td>
<td>
<p>A character that represents the name of the dimension</p>
</td></tr>
<tr><td><code id="BETA_+3A_p_mean">p_mean</code></td>
<td>
<p>A numeric that represents the expected value of the proportion</p>
</td></tr>
<tr><td><code id="BETA_+3A_p_lci">p_lci</code></td>
<td>
<p>A numeric for the lower 95% confidence interval</p>
</td></tr>
<tr><td><code id="BETA_+3A_p_uci">p_uci</code></td>
<td>
<p>A numeric for the upper 95% confidence interval</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>DISTRIBUTION</code>, <code>BETA</code>
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>new_BETA_lci()</code>: Constructor based on confidence intervals. Preserve expected value.
</p>
</li>
<li> <p><code>new_BETA_lci2()</code>: Constructor based on ML confidence intervals
</p>
</li></ul>


<h3>Note</h3>

<p>When using confidence intervals, the shape parameters are obtained
using the following formula:
</p>
<p><code class="reqn">varp = (p_uci-p_lci)/4^2</code>
</p>
<p><code class="reqn">shape1 = p_mean * (p_mean * (1 - p_mean) / varp - 1)</code>
</p>
<p><code class="reqn">shape2 =(1 - p_mean) * (p_mean * (1 - p_mean) / varp - 1) </code>
</p>
<p>new_BETA_lci2 estimate parameters using maximum likelihood
myDistr &lt;- new_BETA_lci2(0.30,0.25,0.35)
myDistr$rfunc(10)
</p>


<h3>Author(s)</h3>

<p>John J. Aponte
</p>


<h3>Examples</h3>

<pre><code class='language-R'>myDistr &lt;- new_BETA(1,1)
myDistr$rfunc(10)
myDistr &lt;- new_BETA_lci(0.30,0.25,0.35)
myDistr$rfunc(10)
</code></pre>

<hr>
<h2 id='BETABINOMIAL'>Factory for a BETABINOMIAL distribution object</h2><span id='topic+BETABINOMIAL'></span><span id='topic+new_BETABINOMIAL'></span><span id='topic+new_BETABINOMIAL_od'></span><span id='topic+new_BETABINOMIAL_icc'></span>

<h3>Description</h3>

<p>Returns an BETABINOMIAL distribution object that produce random numbers
from a  betabinomial distribution using the <code><a href="extraDistr.html#topic+rbbinom">rbbinom</a></code> function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_BETABINOMIAL(p_size, p_shape1, p_shape2, p_dimnames = "rvar")

new_BETABINOMIAL_od(p_size, p_mu, p_od, p_dimnames = "rvar")

new_BETABINOMIAL_icc(p_size, p_mu, p_icc, p_dimnames = "rvar")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="BETABINOMIAL_+3A_p_size">p_size</code></td>
<td>
<p>a non-negative parameter for the number of trials</p>
</td></tr>
<tr><td><code id="BETABINOMIAL_+3A_p_shape1">p_shape1</code></td>
<td>
<p>non-negative parameters of the Betabinomial distribution</p>
</td></tr>
<tr><td><code id="BETABINOMIAL_+3A_p_shape2">p_shape2</code></td>
<td>
<p>non-negative parameters of the Betabinomial distribution</p>
</td></tr>
<tr><td><code id="BETABINOMIAL_+3A_p_dimnames">p_dimnames</code></td>
<td>
<p>A character that represents the name of the dimension</p>
</td></tr>
<tr><td><code id="BETABINOMIAL_+3A_p_mu">p_mu</code></td>
<td>
<p>mean proportion for the binomial part of the distribution</p>
</td></tr>
<tr><td><code id="BETABINOMIAL_+3A_p_od">p_od</code></td>
<td>
<p>over dispersion parameter</p>
</td></tr>
<tr><td><code id="BETABINOMIAL_+3A_p_icc">p_icc</code></td>
<td>
<p>intra-class correlation parameter</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>DISTRIBUTION</code>, <code>BETADISTRIBUION</code>
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>new_BETABINOMIAL_od()</code>: parametrization based on dispersion
</p>
</li>
<li> <p><code>new_BETABINOMIAL_icc()</code>: parametrization based on intra-class correlation
</p>
</li></ul>


<h3>Note</h3>

<p>There are several parametrization for the betabinomial distribution.
The one based on shape1 and shape2 are parameters alpha and beta of the beta
part of the distribution, but it can be parametrized as mu, and od where mu is the 
expected mean proportion and od is a measure of the overdispersion. 
</p>
<p><code class="reqn">p_mu = p_shape1/(p_shape1 + p_shape2)</code>
</p>
<p><code class="reqn">p_od = p_shape1 + p_shape2</code>
</p>
<p><code class="reqn">p_shape1 = p_mu*p_od</code>
</p>
<p><code class="reqn">p_shape2 &lt;- (1-p_mu)*p_od</code>
</p>
<p>Another parametrization is based on mu and the icc where mu is the mean
proportion and icc is the intra-class correlation.
</p>
<p><code class="reqn">p_mu = p_shape1/(p_shape1 + p_shape2)</code>
</p>
<p><code class="reqn">p_icc = 1/(p_shape1 + p_shape2 + 1)</code>
</p>
<p><code class="reqn">p_shape1 = p_mu*(1-p_icc)/p_icc</code>
</p>
<p><code class="reqn">p_shape2 = (1-p_mu)*(1-p_icc)/p_icc</code>
</p>


<h3>Author(s)</h3>

<p>John J. Aponte
</p>


<h3>Examples</h3>

<pre><code class='language-R'>myDistr &lt;- new_BETABINOMIAL(10,1,1)
myDistr$rfunc(10)
</code></pre>

<hr>
<h2 id='BINOMIAL'>Factory for a BINOMIAL distribution object</h2><span id='topic+BINOMIAL'></span><span id='topic+new_BINOMIAL'></span>

<h3>Description</h3>

<p>Returns a BINOMIAL distribution object that produce random numbers
from a binomial distribution using the <code><a href="stats.html#topic+rbinom">rbinom</a></code> function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_BINOMIAL(p_size, p_prob, p_dimnames = "rvar")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="BINOMIAL_+3A_p_size">p_size</code></td>
<td>
<p>integer that represent the number of trials</p>
</td></tr>
<tr><td><code id="BINOMIAL_+3A_p_prob">p_prob</code></td>
<td>
<p>probability of success</p>
</td></tr>
<tr><td><code id="BINOMIAL_+3A_p_dimnames">p_dimnames</code></td>
<td>
<p>A character that represents the name of the dimension</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code><a href="#topic+DISTRIBUTION">DISTRIBUTION</a></code>, <code>BINOMIAL</code>
</p>


<h3>Author(s)</h3>

<p>John J. Aponte
</p>


<h3>Examples</h3>

<pre><code class='language-R'>myDistr &lt;- new_BINOMIAL(1000,0.3)
myDistr$rfunc(10)
</code></pre>

<hr>
<h2 id='cinqnum'>cinqnum</h2><span id='topic+cinqnum'></span><span id='topic+cinqnum.DISTRIBUTION'></span><span id='topic+cinqnum.NA'></span><span id='topic+cinqnum.DIRAC'></span>

<h3>Description</h3>

<p>Produce 5 numbers of the distribution (mean_, sd_, lci_, uci_, median_).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cinqnum(x, ...)

## S3 method for class 'DISTRIBUTION'
cinqnum(x, n, ...)

## S3 method for class ''NA''
cinqnum(x, n, ...)

## S3 method for class 'DIRAC'
cinqnum(x, n, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cinqnum_+3A_x">x</code></td>
<td>
<p>an object of class <code><a href="#topic+DISTRIBUTION">DISTRIBUTION</a></code></p>
</td></tr>
<tr><td><code id="cinqnum_+3A_...">...</code></td>
<td>
<p>further parameters</p>
</td></tr>
<tr><td><code id="cinqnum_+3A_n">n</code></td>
<td>
<p>number of drawns</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Uses the stored seed to have the same sequence always and produce the same numbers
This is an internal function for the summary function
</p>


<h3>Value</h3>

<p>a vector with the mean, sd, lci, uci and median values
</p>


<h3>Methods (by class)</h3>


<ul>
<li> <p><code>cinqnum(DISTRIBUTION)</code>: Generic method for a DISTRIBUTION
</p>
</li>
<li> <p><code>cinqnum(`NA`)</code>: Generic method for optimized for a NA distribution
</p>
</li>
<li> <p><code>cinqnum(DIRAC)</code>: Generic method optimized for a DIRAC distribution
</p>
</li></ul>


<h3>Author(s)</h3>

<p>John J. Aponte
</p>

<hr>
<h2 id='CONVOLUTION'>Make the convolution of two or more <code><a href="#topic+DISTRIBUTION">DISTRIBUTION</a></code> objects</h2><span id='topic+CONVOLUTION'></span><span id='topic+new_CONVOLUTION'></span><span id='topic+new_SUM'></span><span id='topic++2B.DISTRIBUTION'></span><span id='topic+new_SUBTRACTION'></span><span id='topic+-.DISTRIBUTION'></span><span id='topic+new_MULTIPLICATION'></span><span id='topic++2A.DISTRIBUTION'></span><span id='topic+new_DIVISION'></span><span id='topic++2F.DISTRIBUTION'></span>

<h3>Description</h3>

<p>The convolution of the simple algebraic operations is made by the operation of individual drawns of
the distributions. The <code><a href="#topic+DISTRIBUTION">DISTRIBUTION</a></code> objects must have the
same dimensions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_CONVOLUTION(listdistr, op, omit_NA = FALSE)

new_SUM(..., omit_NA = FALSE)

## S3 method for class 'DISTRIBUTION'
e1 + e2

new_SUBTRACTION(..., omit_NA = FALSE)

## S3 method for class 'DISTRIBUTION'
e1 - e2

new_MULTIPLICATION(..., omit_NA = FALSE)

## S3 method for class 'DISTRIBUTION'
e1 * e2

new_DIVISION(..., omit_NA = FALSE)

## S3 method for class 'DISTRIBUTION'
e1 / e2
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CONVOLUTION_+3A_listdistr">listdistr</code></td>
<td>
<p>a list of <code><a href="#topic+DISTRIBUTION">DISTRIBUTION</a></code> objects</p>
</td></tr>
<tr><td><code id="CONVOLUTION_+3A_op">op</code></td>
<td>
<p>a function to convolute '+', '-', '*', '\'</p>
</td></tr>
<tr><td><code id="CONVOLUTION_+3A_omit_na">omit_NA</code></td>
<td>
<p>if TRUE, <code>NA</code> distributions will be omitted</p>
</td></tr>
<tr><td><code id="CONVOLUTION_+3A_...">...</code></td>
<td>
<p><code><a href="#topic+DISTRIBUTION">DISTRIBUTION</a></code> objects or a list of distribution objects</p>
</td></tr>
<tr><td><code id="CONVOLUTION_+3A_e1">e1</code></td>
<td>
<p>object of class <code><a href="#topic+DISTRIBUTION">DISTRIBUTION</a></code></p>
</td></tr>
<tr><td><code id="CONVOLUTION_+3A_e2">e2</code></td>
<td>
<p>object of class <code><a href="#topic+DISTRIBUTION">DISTRIBUTION</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>If any of the distributions is of class <code>NA</code> (<code><a href="#topic+NA_DISTRIBUTION">NA_DISTRIBUTION</a></code>)
the result will be a new distribution of class <code>NA</code> unless the
<code>omit_NA</code> option is set to <code>TRUE</code>
</p>


<h3>Value</h3>

<p>and object of class <code>CONVOLUTION</code>, <code><a href="#topic+DISTRIBUTION">DISTRIBUTION</a></code>
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>new_SUM()</code>: Sum of distributions
</p>
</li>
<li> <p><code>new_SUBTRACTION()</code>: Subtraction for distributions
</p>
</li>
<li> <p><code>new_MULTIPLICATION()</code>: Multiplication for distributions
</p>
</li>
<li> <p><code>new_DIVISION()</code>: DIVISION for distributions
</p>
</li></ul>


<h3>Author(s)</h3>

<p>John J. Aponte
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x1 &lt;- new_NORMAL(0,1)
x2 &lt;- new_UNIFORM(1,2)
new_CONVOLUTION(list(x1,x2), `+`)
new_SUM(x1,x2)
x1 + x2
new_SUBTRACTION(x1,x2)
x1 - x2
new_MULTIPLICATION(list(x1,x2))
x1 * x2
new_DIVISION(list(x1,x2))
x1 / x2
</code></pre>

<hr>
<h2 id='CONVOLUTION_assoc'>Convolution with association of dimensions</h2><span id='topic+CONVOLUTION_assoc'></span><span id='topic+new_CONVOLUTION_assoc'></span><span id='topic+new_SUM_assoc'></span><span id='topic+new_SUBTRACTION_assoc'></span><span id='topic+new_MULTIPLICATION_assoc'></span><span id='topic+new_DIVISION_assoc'></span>

<h3>Description</h3>

<p>In case of different dimensions of the distribution
this function perform the operation on the common distributions and
add without modifications the other dimensions of the distribution.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_CONVOLUTION_assoc(dist1, dist2, op)

new_SUM_assoc(dist1, dist2)

new_SUBTRACTION_assoc(dist1, dist2)

new_MULTIPLICATION_assoc(dist1, dist2)

new_DIVISION_assoc(dist1, dist2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CONVOLUTION_assoc_+3A_dist1">dist1</code></td>
<td>
<p>an object of class <code><a href="#topic+DISTRIBUTION">DISTRIBUTION</a></code></p>
</td></tr>
<tr><td><code id="CONVOLUTION_assoc_+3A_dist2">dist2</code></td>
<td>
<p>and object of class <code><a href="#topic+DISTRIBUTION">DISTRIBUTION</a></code></p>
</td></tr>
<tr><td><code id="CONVOLUTION_assoc_+3A_op">op</code></td>
<td>
<p>one of '+','-','*','/'</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If distribution A have dimensions a and b and distribution B have dimensions
b and c, the A + B would produce a distribution with dimensions
a, c,  b+b,
</p>


<h3>Value</h3>

<p>an object of class <code><a href="#topic+DISTRIBUTION">DISTRIBUTION</a></code>
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>new_SUM_assoc()</code>: Sum of distributions
</p>
</li>
<li> <p><code>new_SUBTRACTION_assoc()</code>: Subtraction of distributions
</p>
</li>
<li> <p><code>new_MULTIPLICATION_assoc()</code>: Multiplication of distributions
</p>
</li>
<li> <p><code>new_DIVISION_assoc()</code>: Division of distributions
</p>
</li></ul>


<h3>Author(s)</h3>

<p>John J. Aponte
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x1 &lt;- new_MULTINORMAL(c(0,1), matrix(c(1,0.5,0.5,1),ncol=2), p_dimnames = c("A","B"))
x2 &lt;- new_MULTINORMAL(c(10,1), matrix(c(1,0.4,0.4,1),ncol=2), p_dimnames = c("B","C"))
new_CONVOLUTION_assoc(x1,x2, `+`)
new_SUM_assoc(x1,x2)
new_SUBTRACTION_assoc(x1,x2)
new_MULTIPLICATION_assoc(x1,x2)
new_DIVISION_assoc(x1,x2)
</code></pre>

<hr>
<h2 id='CONVOLUTION_comb'>Convolution with combination of dimensions</h2><span id='topic+CONVOLUTION_comb'></span><span id='topic+new_CONVOLUTION_comb'></span><span id='topic+new_SUM_comb'></span><span id='topic+new_SUBTRACTION_comb'></span><span id='topic+new_MULTIPLICATION_comb'></span><span id='topic+new_DIVISION_comb'></span>

<h3>Description</h3>

<p>In case of different dimensions of the distribution
this function perform the operation on the combination of the distributions
of both distribution.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_CONVOLUTION_comb(dist1, dist2, op, p_dimnames)

new_SUM_comb(dist1, dist2)

new_SUBTRACTION_comb(dist1, dist2)

new_MULTIPLICATION_comb(dist1, dist2)

new_DIVISION_comb(dist1, dist2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CONVOLUTION_comb_+3A_dist1">dist1</code></td>
<td>
<p>an object of class <code><a href="#topic+DISTRIBUTION">DISTRIBUTION</a></code></p>
</td></tr>
<tr><td><code id="CONVOLUTION_comb_+3A_dist2">dist2</code></td>
<td>
<p>and object of class <code><a href="#topic+DISTRIBUTION">DISTRIBUTION</a></code></p>
</td></tr>
<tr><td><code id="CONVOLUTION_comb_+3A_op">op</code></td>
<td>
<p>one of '+','-','*','/'</p>
</td></tr>
<tr><td><code id="CONVOLUTION_comb_+3A_p_dimnames">p_dimnames</code></td>
<td>
<p>a character vector with the name of the dimensions.
If missing the combination of the individual dimensions will be used</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If distribution A have dimensions a and b and distribution B have dimensions
b and c, the A + B would produce a distribution with dimensions
a_b,a_c,b_b, b_c
</p>


<h3>Value</h3>

<p>an object of class <code><a href="#topic+DISTRIBUTION">DISTRIBUTION</a></code>
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>new_SUM_comb()</code>: Sum of distributions
</p>
</li>
<li> <p><code>new_SUBTRACTION_comb()</code>: Subtraction of distributions
</p>
</li>
<li> <p><code>new_MULTIPLICATION_comb()</code>: Multiplication of distributions
</p>
</li>
<li> <p><code>new_DIVISION_comb()</code>: Division of distributions
</p>
</li></ul>


<h3>Note</h3>

<p>In case of the same dimensions, only the first combination is taken
</p>


<h3>Author(s)</h3>

<p>John J. Aponte
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x1 &lt;- new_MULTINORMAL(c(0,1), matrix(c(1,0.5,0.5,1),ncol=2), p_dimnames = c("A","B"))
x2 &lt;- new_MULTINORMAL(c(10,1), matrix(c(1,0.4,0.4,1),ncol=2), p_dimnames = c("B","C"))
new_CONVOLUTION_comb(x1,x2, `+`)
new_SUM_comb(x1,x2)
new_SUBTRACTION_comb(x1,x2)
new_MULTIPLICATION_comb(x1,x2)
new_DIVISION_comb(x1,x2)
</code></pre>

<hr>
<h2 id='DIRAC'>Factory for a DIRAC distribution object</h2><span id='topic+DIRAC'></span><span id='topic+new_DIRAC'></span>

<h3>Description</h3>

<p>Returns an DIRAC distribution object that always return the same number, or
the same matrix of numbers in case multiple dimensions are setup
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_DIRAC(p_scalar, p_dimnames = "rvar")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="DIRAC_+3A_p_scalar">p_scalar</code></td>
<td>
<p>A numeric that set the value for the distribution</p>
</td></tr>
<tr><td><code id="DIRAC_+3A_p_dimnames">p_dimnames</code></td>
<td>
<p>A character that represents the name of the dimension</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>DISTRIBUTION</code>, <code>DIRAC</code>
</p>


<h3>Author(s)</h3>

<p>John J. Aponte
</p>


<h3>Examples</h3>

<pre><code class='language-R'>myDistr &lt;- new_DIRAC(1)
myDistr$rfunc(10)
</code></pre>

<hr>
<h2 id='DIRICHLET'>Factory for a DIRICHLET distribution object</h2><span id='topic+DIRICHLET'></span><span id='topic+new_DIRICHLET'></span>

<h3>Description</h3>

<p>Returns an <code>DIRICHLET</code> distribution object that draw random numbers
generated by the function <code><a href="extraDistr.html#topic+rdirichlet">rdirichlet</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_DIRICHLET(p_alpha, p_dimnames)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="DIRICHLET_+3A_p_alpha">p_alpha</code></td>
<td>
<p>k-value vector for concentration parameter. Must be positive</p>
</td></tr>
<tr><td><code id="DIRICHLET_+3A_p_dimnames">p_dimnames</code></td>
<td>
<p>A vector of characters for the names of the k-dimensions</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A name can be provided for the dimensions. Otherwise <code>rvar1</code>,
<code>rvar2</code>, ..., <code>rvark</code> will be assigned
</p>


<h3>Value</h3>

<p>An object of class <code>DISTRIBUTION</code>,
<code>p_distribution$distribution</code>, <code>TRUNCATED</code>
</p>


<h3>Author(s)</h3>

<p>John J. Aponte
</p>


<h3>Examples</h3>

<pre><code class='language-R'>myDistr &lt;- new_DIRICHLET(c(0.3,0.2,0.5), c("a","b","c"))
myDistr$rfunc(10)
</code></pre>

<hr>
<h2 id='DISCRETE'>Factory for a DISCRETE distribution object</h2><span id='topic+DISCRETE'></span><span id='topic+new_DISCRETE'></span>

<h3>Description</h3>

<p>Returns an DISCRETE distribution object that sample from the vector <code>p_supp</code> of
options with probability the vector of probabilities <code>p_prob</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_DISCRETE(p_supp, p_prob, p_dimnames = "rvar")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="DISCRETE_+3A_p_supp">p_supp</code></td>
<td>
<p>A numeric vector of options</p>
</td></tr>
<tr><td><code id="DISCRETE_+3A_p_prob">p_prob</code></td>
<td>
<p>A numeric vector of probabilities.</p>
</td></tr>
<tr><td><code id="DISCRETE_+3A_p_dimnames">p_dimnames</code></td>
<td>
<p>A character that represents the name of the dimension</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>DISTRIBUTION</code>, <code>DISCRETE</code>
</p>


<h3>Note</h3>

<p>If the second argument is missing, all options will be sample with
equal probability. If provided, the second argument would add to 1 and must
be the same length that the first argument
</p>


<h3>Author(s)</h3>

<p>John J. Aponte
</p>


<h3>Examples</h3>

<pre><code class='language-R'>myDistr &lt;- new_DISCRETE(p_supp=c(1,2,3,4), p_prob=c(0.40,0.30,0.20,0.10))
myDistr$rfunc(10)
</code></pre>

<hr>
<h2 id='DISTRIBUTION'>DISTRIBUTION class</h2><span id='topic+DISTRIBUTION'></span>

<h3>Description</h3>

<p>DISTRIBUTION is a kind of abstract class (or interface)
that the specific constructors should implement.
</p>


<h3>Details</h3>

<p>It contains 4 fields
</p>

<dl>
<dt>distribution</dt><dd><p>A character with the name of the distribution implemented</p>
</dd>
<dt>seed</dt><dd><p>A numerical that is used for <code>details</code> to produce
reproducible details of the distribution</p>
</dd>
<dt>oval</dt><dd><p>Observed value. Is the value expected. It is used as a
number for the mathematical operations of the distributions
as if they were a simple scalar</p>
</dd>
<dt>rfunc</dt><dd><p>A function that generate random numbers from the distribution.
Its only parameter <code>n</code> is the number of draws of the distribution.
It returns a matrix with as many rows as n, and as many columns as the
dimensions of the distributions</p>
</dd>
</dl>

<p>The DISTRIBUTION objects could support multidimensional distributions
for example  <code><a href="#topic+DIRICHLET">DIRICHLET</a></code>. The names of the dimensions
should coincides with the names of the <code>oval</code> vector.
If only one dimension, the default name is <code>rvar</code>.
</p>
<p>It is expected that the <code>rfunc</code> is included in the creation of new
distributions by convolution so the environment should be carefully controlled
to avoid reference leaking that is possible within the R language. For that
reason, <code>rfunc</code> should be created within a <code><a href="#topic+restrict_environment">restrict_environment</a></code>
function
</p>
<p>Once the object is instanced, the fields are immutable and should not be
changed. If the seed needs to be modified, a new object can be created using
the <code><a href="#topic+set_seed">set_seed</a></code> function
</p>
<p>Objects are defined for the following distributions
</p>

<ul>
<li> <p><code><a href="#topic+UNIFORM">UNIFORM</a></code>
</p>
</li>
<li> <p><code><a href="#topic+NORMAL">NORMAL</a></code>
</p>
</li>
<li> <p><code><a href="#topic+BETA">BETA</a></code>
</p>
</li>
<li> <p><code><a href="#topic+TRIANGULAR">TRIANGULAR</a></code>
</p>
</li>
<li> <p><code><a href="#topic+POISSON">POISSON</a></code>
</p>
</li>
<li> <p><code><a href="#topic+EXPONENTIAL">EXPONENTIAL</a></code>
</p>
</li>
<li> <p><code><a href="#topic+DISCRETE">DISCRETE</a></code>
</p>
</li>
<li> <p><code><a href="#topic+DIRAC">DIRAC</a></code>
</p>
</li>
<li> <p><code><a href="#topic+DIRICHLET">DIRICHLET</a></code>
</p>
</li>
<li> <p><code><a href="#topic+TRUNCATED">TRUNCATED</a></code>
</p>
</li>
<li> <p><code><a href="#topic+NA_DISTRIBUTION">NA_DISTRIBUTION</a></code>
</p>
</li></ul>



<h3>Value</h3>

<p>a DISTRIBUTION object
</p>


<h3>Author(s)</h3>

<p>John J. Aponte
</p>

<hr>
<h2 id='DISTRIBUTION_factory'>A factory of <code><a href="#topic+DISTRIBUTION">DISTRIBUTION</a></code> classes</h2><span id='topic+DISTRIBUTION_factory'></span>

<h3>Description</h3>

<p>Generate a function that creates <code><a href="#topic+DISTRIBUTION">DISTRIBUTION</a></code> objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DISTRIBUTION_factory(distname, rfunction, ovalfunc)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="DISTRIBUTION_factory_+3A_distname">distname</code></td>
<td>
<p>name of the distribution. By convention they are upper case</p>
</td></tr>
<tr><td><code id="DISTRIBUTION_factory_+3A_rfunction">rfunction</code></td>
<td>
<p>a function to generate random numbers from the distribution</p>
</td></tr>
<tr><td><code id="DISTRIBUTION_factory_+3A_ovalfunc">ovalfunc</code></td>
<td>
<p>a function that calculate the oval value, should used only
the same arguments that the <code>rfunction</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A function that is able to create <code><a href="#topic+DISTRIBUTION">DISTRIBUTION</a></code> objects.
</p>


<h3>Note</h3>

<p>The function return a new function, that have as arguments the formals
of the <code>rfunction</code> plus a new argument <code>dimnames</code> for the dimension
names. If The distribution is unidimensional, the default value 
<code> dimnames = "rvar"</code> will  works well, but if not, the <code>dimnames</code> 
argument should be specified when the generated function is used as in 
the example for the <code>new_MyDIRICHLET</code>
</p>


<h3>Author(s)</h3>

<p>John J. Aponte
</p>


<h3>Examples</h3>

<pre><code class='language-R'>new_MYDISTR &lt;- DISTRIBUTION_factory("MYDISTR", rnorm, function(){mean})
d1 &lt;- new_MYDISTR(0,1)
summary(d1)
require(extraDistr)
new_MyDIRICHLET &lt;- DISTRIBUTION_factory('rdirichlet',
                       rdirichlet,
                       function() {
                         salpha = sum(alpha)
                         alpha / salpha
                       })
d2 &lt;- new_MyDIRICHLET(c(10, 20, 70), dimnames = c("A", "B", "C"))
summary(d2)
</code></pre>

<hr>
<h2 id='EXPONENTIAL'>Factory for a EXPONENTIAL distribution using confidence intervals</h2><span id='topic+EXPONENTIAL'></span><span id='topic+new_EXPONENTIAL'></span>

<h3>Description</h3>

<p>Returns an EXPONENTIAL distribution object that produce random numbers
from an exponential distribution using the <code><a href="stats.html#topic+rexp">rexp</a></code> function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_EXPONENTIAL(p_rate, p_dimnames = "rvar")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="EXPONENTIAL_+3A_p_rate">p_rate</code></td>
<td>
<p>A numeric that represents the rate of events</p>
</td></tr>
<tr><td><code id="EXPONENTIAL_+3A_p_dimnames">p_dimnames</code></td>
<td>
<p>A character that represents the name of the dimension</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>DISTRIBUTION</code>, <code>EXPONENTIAL</code>
</p>


<h3>Author(s)</h3>

<p>John J. Aponte
</p>


<h3>Examples</h3>

<pre><code class='language-R'>myDistr &lt;- new_EXPONENTIAL(5)
myDistr$rfunc(10)
</code></pre>

<hr>
<h2 id='fitbeta'>Fits a beta distribution based on quantiles</h2><span id='topic+fitbeta'></span><span id='topic+fitbeta_ml'></span>

<h3>Description</h3>

<p>Fits a beta distribution based on quantiles
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fitbeta_ml(point, lci, uci)

fitbeta(point, lci, uci)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fitbeta_+3A_point">point</code></td>
<td>
<p>Point estimates corresponding to the median</p>
</td></tr>
<tr><td><code id="fitbeta_+3A_lci">lci</code></td>
<td>
<p>Lower limit (quantile 0.025)</p>
</td></tr>
<tr><td><code id="fitbeta_+3A_uci">uci</code></td>
<td>
<p>Upper limit (quantile 0.975)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>parameters shape1 and shape2 of a beta distribution
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>fitbeta_ml()</code>: using ML to estimate parameters
</p>
</li>
<li> <p><code>fitbeta()</code>: preserve the expected value
</p>
</li></ul>


<h3>Note</h3>

<p>This is a wrap of the <code><a href="SHELF.html#topic+fitdist">fitdist</a></code> to obtain
the best parameters for a beta distribution based
on quantiles.
</p>
<p>When using confidence intervals (not ML), the shape parameters are obtained
using the following formula:
</p>
<p><code class="reqn">varp = (p_uci-p_lci)/4^2</code>
</p>
<p><code class="reqn">shape1 = p_mean * (p_mean * (1 - p_mean) / varp - 1)</code>
</p>
<p><code class="reqn">shape2 =(1 - p_mean) * (p_mean * (1 - p_mean) / varp - 1) </code>
</p>


<h3>Author(s)</h3>

<p>John J. Aponte
</p>


<h3>See Also</h3>

<p><code><a href="SHELF.html#topic+fitdist">fitdist</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>fitbeta_ml(0.45,0.40,0.50)
fitbeta(0.45,0.40,0.50)
</code></pre>

<hr>
<h2 id='fitdirichlet'>Fits a Dirichlet distribution,</h2><span id='topic+fitdirichlet'></span>

<h3>Description</h3>

<p>Fits a Dirichlet distribution based on the parameters of Beta distributions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fitdirichlet(..., plotBeta = FALSE, n.fitted = "opt")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fitdirichlet_+3A_...">...</code></td>
<td>
<p>named vectors with the distribution parameters shape1, shape2</p>
</td></tr>
<tr><td><code id="fitdirichlet_+3A_plotbeta">plotBeta</code></td>
<td>
<p>if TRUE a ggplot of the densities are plotted</p>
</td></tr>
<tr><td><code id="fitdirichlet_+3A_n.fitted">n.fitted</code></td>
<td>
<p>Method to fit the values</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Each one of the arguments is a named vector with values for shape1, shape2.
Values from <code><a href="#topic+fitbeta">fitbeta</a></code> are suitable for this. 
This is a wrap of <code><a href="SHELF.html#topic+fitDirichlet">fitDirichlet</a></code>
</p>


<h3>Value</h3>

<p>a vector with the parameters for a Dirichlet distribution
</p>


<h3>Author(s)</h3>

<p>John J. Aponte
</p>


<h3>See Also</h3>

<p><code><a href="SHELF.html#topic+fitDirichlet">fitDirichlet</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>a &lt;- fitbeta(0.3, 0.2, 0.4)
c &lt;- fitbeta(0.2, 0.1, 0.3)
b &lt;- fitbeta(0.5, 0.4, 0.6)
fitdirichlet(cat1=a,cat2=b,cat3=c)
</code></pre>

<hr>
<h2 id='ggDISTRIBUTION'>Plot of <code><a href="#topic+DISTRIBUTION">DISTRIBUTION</a></code> objects using <code><a href="ggplot2.html#topic+ggplot2">ggplot2</a></code></h2><span id='topic+ggDISTRIBUTION'></span>

<h3>Description</h3>

<p>Plot of <code><a href="#topic+DISTRIBUTION">DISTRIBUTION</a></code> objects using <code><a href="ggplot2.html#topic+ggplot2">ggplot2</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ggDISTRIBUTION(x, n = 10000)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ggDISTRIBUTION_+3A_x">x</code></td>
<td>
<p>an object of class <code><a href="#topic+DISTRIBUTION">DISTRIBUTION</a></code></p>
</td></tr>
<tr><td><code id="ggDISTRIBUTION_+3A_n">n</code></td>
<td>
<p>number of observation</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code><a href="ggplot2.html#topic+ggplot">ggplot</a></code> object with the density of the distribution
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- new_NORMAL(0,1)
ggDISTRIBUTION(x)
y &lt;- new_DIRICHLET(c(10,20,70))
ggDISTRIBUTION(x)
</code></pre>

<hr>
<h2 id='LOGNORMAL'>Factory for a LOGNORMAL distribution object</h2><span id='topic+LOGNORMAL'></span><span id='topic+new_LOGNORMAL'></span>

<h3>Description</h3>

<p>Returns a LOGNORMAL distribution object that produce random numbers
from a log normal distribution using the <code><a href="stats.html#topic+rlnorm">rlnorm</a></code> function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_LOGNORMAL(p_meanlog, p_sdlog, p_dimnames = "rvar")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="LOGNORMAL_+3A_p_meanlog">p_meanlog</code></td>
<td>
<p>mean of the distribution on the log scale</p>
</td></tr>
<tr><td><code id="LOGNORMAL_+3A_p_sdlog">p_sdlog</code></td>
<td>
<p>A numeric that represents the standard deviation on the log scale</p>
</td></tr>
<tr><td><code id="LOGNORMAL_+3A_p_dimnames">p_dimnames</code></td>
<td>
<p>A character that represents the name of the dimension</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code><a href="#topic+DISTRIBUTION">DISTRIBUTION</a></code>, <code>LOGNORMAL</code>
</p>


<h3>Author(s)</h3>

<p>John J. Aponte
</p>


<h3>Examples</h3>

<pre><code class='language-R'>myDistr &lt;- new_LOGNORMAL(0,1)
myDistr$rfunc(10)
</code></pre>

<hr>
<h2 id='metadata'>Metadata for a DISTRIBUTION</h2><span id='topic+metadata'></span><span id='topic+metadata.DISTRIBUTION'></span><span id='topic+metadata.default'></span>

<h3>Description</h3>

<p>Shows the distribution and the oval values of a <code><a href="#topic+DISTRIBUTION">DISTRIBUTION</a></code>
object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>metadata(x)

## S3 method for class 'DISTRIBUTION'
metadata(x)

## Default S3 method:
metadata(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="metadata_+3A_x">x</code></td>
<td>
<p>a <code><a href="#topic+DISTRIBUTION">DISTRIBUTION</a></code> object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="base.html#topic+data.frame">data.frame</a></code> with the metadata of the distributions
</p>


<h3>Methods (by class)</h3>


<ul>
<li> <p><code>metadata(DISTRIBUTION)</code>: Metadata for DISTRIBUTION objects
</p>
</li>
<li> <p><code>metadata(default)</code>: Metadata for other objects
</p>
</li></ul>


<h3>Note</h3>

<p>The number of columns depends on the dimensions of the distribution.
There will be one column <code>distribution</code> with the name of the distribution
and one column for each dimension with the names from the <code>oval</code> field.
</p>


<h3>Author(s)</h3>

<p>John J. Aponte
</p>

<hr>
<h2 id='NA_DISTRIBUTION'>Factory for a NA distribution object</h2><span id='topic+NA_DISTRIBUTION'></span><span id='topic+new_NA'></span>

<h3>Description</h3>

<p>Returns an NA distribution object that always return <code>NA_real_</code>
This is useful to handle <code>NA</code>.
By default only one dimension <code>rvar</code> is produced, but if several
names are provided more columns will be added to the return matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_NA(p_dimnames = "rvar")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="NA_DISTRIBUTION_+3A_p_dimnames">p_dimnames</code></td>
<td>
<p>A character that represents the the names of the
dimensions. By default only one dimension with name <code>rvar</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>DISTRIBUTION</code>, <code>NA</code>
</p>


<h3>Author(s)</h3>

<p>John J. Aponte
</p>


<h3>Examples</h3>

<pre><code class='language-R'>myDistr &lt;- new_NA(p_dimnames = "rvar")
myDistr$rfunc(10)
</code></pre>

<hr>
<h2 id='new_MIXTURE'>Mixture of <code><a href="#topic+DISTRIBUTION">DISTRIBUTION</a></code> objects</h2><span id='topic+new_MIXTURE'></span>

<h3>Description</h3>

<p>Produce a new distribution that obtain random drawns of the mixture
of the <code><a href="#topic+DISTRIBUTION">DISTRIBUTION</a></code> objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_MIXTURE(listdistr, mixture)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="new_MIXTURE_+3A_listdistr">listdistr</code></td>
<td>
<p>a list of <code><a href="#topic+DISTRIBUTION">DISTRIBUTION</a></code> objects</p>
</td></tr>
<tr><td><code id="new_MIXTURE_+3A_mixture">mixture</code></td>
<td>
<p>a vector of probabilities to mixture the distributions. Must add 1
If missing the drawns are obtained from the distributions with the same probability</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an object of class <code>MIXTURE</code>, <code><a href="#topic+DISTRIBUTION">DISTRIBUTION</a></code>
</p>


<h3>Author(s)</h3>

<p>John J. Aponte
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x1 &lt;- new_NORMAL(0,1)
x2 &lt;- new_NORMAL(4,1)
x3 &lt;- new_NORMAL(6,1)
new_MIXTURE(list(x1,x2,x3))
</code></pre>

<hr>
<h2 id='new_MULTINORMAL'>Multivariate Normal Distribution</h2><span id='topic+new_MULTINORMAL'></span>

<h3>Description</h3>

<p>Return a <code><a href="#topic+DISTRIBUTION">DISTRIBUTION</a></code> object that draw random numbers from a 
multivariate normal distribution using the <code><a href="MASS.html#topic+mvrnorm">mvrnorm</a></code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_MULTINORMAL(p_mu, p_sigma, p_dimnames, tol = 1e-06, empirical = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="new_MULTINORMAL_+3A_p_mu">p_mu</code></td>
<td>
<p>a vector of means</p>
</td></tr>
<tr><td><code id="new_MULTINORMAL_+3A_p_sigma">p_sigma</code></td>
<td>
<p>a positive-definite symmetric matrix for the covariance matrix</p>
</td></tr>
<tr><td><code id="new_MULTINORMAL_+3A_p_dimnames">p_dimnames</code></td>
<td>
<p>A character that represents the name of the dimension</p>
</td></tr>
<tr><td><code id="new_MULTINORMAL_+3A_tol">tol</code></td>
<td>
<p>tolerance (relative to largest variance) for numerical lack of positive-definiteness in p_sigma.</p>
</td></tr>
<tr><td><code id="new_MULTINORMAL_+3A_empirical">empirical</code></td>
<td>
<p>logical. If true, mu and Sigma specify the empirical not population mean and covariance matrix.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code><a href="#topic+DISTRIBUTION">DISTRIBUTION</a></code>, <code>MULTINORMAL</code>
</p>


<h3>Author(s)</h3>

<p>John J. Aponte
</p>


<h3>See Also</h3>

<p><code><a href="MASS.html#topic+mvrnorm">mvrnorm</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>msigma &lt;- matrix(c(1,0,0,1), ncol=2)
d1 &lt;- new_MULTINORMAL(c(0,1), msigma)
rfunc(d1, 10)
</code></pre>

<hr>
<h2 id='NORMAL'>Factory for a NORMAL distribution object</h2><span id='topic+NORMAL'></span><span id='topic+new_NORMAL'></span>

<h3>Description</h3>

<p>Returns a NORMAL distribution object that produce random numbers
from a normal distribution using the <code><a href="stats.html#topic+rnorm">rnorm</a></code> function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_NORMAL(p_mean, p_sd, p_dimnames = "rvar")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="NORMAL_+3A_p_mean">p_mean</code></td>
<td>
<p>A numeric that represents the mean value</p>
</td></tr>
<tr><td><code id="NORMAL_+3A_p_sd">p_sd</code></td>
<td>
<p>A numeric that represents the standard deviation</p>
</td></tr>
<tr><td><code id="NORMAL_+3A_p_dimnames">p_dimnames</code></td>
<td>
<p>A character that represents the name of the dimension</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code><a href="#topic+DISTRIBUTION">DISTRIBUTION</a></code>, <code>NORMAL</code>
</p>


<h3>Author(s)</h3>

<p>John J. Aponte
</p>


<h3>Examples</h3>

<pre><code class='language-R'>myDistr &lt;- new_NORMAL(0,1)
myDistr$rfunc(10)
</code></pre>

<hr>
<h2 id='omit_NA'>Omit <code>NA</code> distributions from a list of distributions</h2><span id='topic+omit_NA'></span>

<h3>Description</h3>

<p>Omit <code>NA</code> distributions from a list of distributions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>omit_NA(listdistr)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="omit_NA_+3A_listdistr">listdistr</code></td>
<td>
<p>a list of <code><a href="#topic+DISTRIBUTION">DISTRIBUTION</a></code> objects</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the list without the <code><a href="#topic+NA_DISTRIBUTION">NA_DISTRIBUTION</a></code>
</p>


<h3>Author(s)</h3>

<p>John J. Aponte
</p>

<hr>
<h2 id='plot.DISTRIBUTION'>plot of  <code><a href="#topic+DISTRIBUTION">DISTRIBUTION</a></code> objects</h2><span id='topic+plot.DISTRIBUTION'></span>

<h3>Description</h3>

<p>Plot an histogram of the density of the distribution using random
numbers from the distribution
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'DISTRIBUTION'
plot(x, n = 10000, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.DISTRIBUTION_+3A_x">x</code></td>
<td>
<p>an object of class <code><a href="#topic+DISTRIBUTION">DISTRIBUTION</a></code></p>
</td></tr>
<tr><td><code id="plot.DISTRIBUTION_+3A_n">n</code></td>
<td>
<p>number of observations</p>
</td></tr>
<tr><td><code id="plot.DISTRIBUTION_+3A_...">...</code></td>
<td>
<p>other parameters to the <code><a href="graphics.html#topic+hist">hist</a></code> function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value. Side effect plot the histogram.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- new_NORMAL(0,1)
plot(x)
y &lt;- new_DIRICHLET(c(10,20,70))
plot(x) 
</code></pre>

<hr>
<h2 id='POISSON'>Factory for a POISSON distribution using confidence intervals</h2><span id='topic+POISSON'></span><span id='topic+new_POISSON'></span>

<h3>Description</h3>

<p>Returns an POISSON distribution object that produce random numbers
from a Poisson distribution using the <code><a href="stats.html#topic+rpois">rpois</a></code> function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_POISSON(p_lambda, p_dimnames = "rvar")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="POISSON_+3A_p_lambda">p_lambda</code></td>
<td>
<p>A numeric that represents the expected number of events</p>
</td></tr>
<tr><td><code id="POISSON_+3A_p_dimnames">p_dimnames</code></td>
<td>
<p>A character that represents the name of the dimension</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>DISTRIBUTION</code>, <code>POISSON</code>
</p>


<h3>Author(s)</h3>

<p>John J. Aponte
</p>


<h3>Examples</h3>

<pre><code class='language-R'>myDistr &lt;- new_POISSON(5)
myDistr$rfunc(10)
</code></pre>

<hr>
<h2 id='restrict_environment'>Build a new function with a smaller environment</h2><span id='topic+restrict_environment'></span>

<h3>Description</h3>

<p>As standard feature, R include in the environment of a function
all the variables that are available when the function is created.
This, however is prompt to leak reference when you have a factory
of function and they are created within a list.. it will include all
the component of the list in the function environment.
To prevent that, the random generator functions are encapsulated with a
restricted environment where only the variables that the function requires
to work are included
</p>


<h3>Usage</h3>

<pre><code class='language-R'>restrict_environment(f, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="restrict_environment_+3A_f">f</code></td>
<td>
<p>input function</p>
</td></tr>
<tr><td><code id="restrict_environment_+3A_...">...</code></td>
<td>
<p>define the set of  variables to be included as variable = value.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>new function with a restricted environment
</p>


<h3>Author(s)</h3>

<p>John J. Aponte
</p>


<h3>Examples</h3>

<pre><code class='language-R'>a = 0
b = 1
myfunc &lt;- restrict_environment(
 function(n) {
   rnorm(meanvalue, sdvalue)
 },
 meanvalue = a, sdvalue = b)

myfunc(10)
ls(envir=environment(myfunc))

</code></pre>

<hr>
<h2 id='rfunc'>Generate random numbers from a <code><a href="#topic+DISTRIBUTION">DISTRIBUTION</a></code> object</h2><span id='topic+rfunc'></span>

<h3>Description</h3>

<p>This is a generic method that calls the <code>rfunc</code> slot of the object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rfunc(x, n)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rfunc_+3A_x">x</code></td>
<td>
<p>an object</p>
</td></tr>
<tr><td><code id="rfunc_+3A_n">n</code></td>
<td>
<p>the number of random samples</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a matrix with as many rows as <code>n</code> and as many columns as
dimensions have <code>distribution</code>
</p>


<h3>Author(s)</h3>

<p>John J. Aponte
</p>

<hr>
<h2 id='rfunc.default'>Default function</h2><span id='topic+rfunc.default'></span>

<h3>Description</h3>

<p>Default function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## Default S3 method:
rfunc(x, n)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rfunc.default_+3A_x">x</code></td>
<td>
<p>an object of class different from <code><a href="#topic+DISTRIBUTION">DISTRIBUTION</a></code></p>
</td></tr>
<tr><td><code id="rfunc.default_+3A_n">n</code></td>
<td>
<p>the number of random samples</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value. Raise an error message.
</p>


<h3>Author(s)</h3>

<p>John J. Aponte
</p>

<hr>
<h2 id='rfunc.DISTRIBUTION'>Generic function for a <code><a href="#topic+DISTRIBUTION">DISTRIBUTION</a></code> object</h2><span id='topic+rfunc.DISTRIBUTION'></span>

<h3>Description</h3>

<p>Generic function for a <code><a href="#topic+DISTRIBUTION">DISTRIBUTION</a></code> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'DISTRIBUTION'
rfunc(x, n)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rfunc.DISTRIBUTION_+3A_x">x</code></td>
<td>
<p>an object of class <code><a href="#topic+DISTRIBUTION">DISTRIBUTION</a></code></p>
</td></tr>
<tr><td><code id="rfunc.DISTRIBUTION_+3A_n">n</code></td>
<td>
<p>the number of random samples</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a matrix with as many rows as <code>n</code> and as many columns as
</p>


<h3>Author(s)</h3>

<p>John J. Aponte
</p>

<hr>
<h2 id='same_dimensions'>Check the dimensions of a list of distributions</h2><span id='topic+same_dimensions'></span>

<h3>Description</h3>

<p>Check the dimensions of a list of distributions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>same_dimensions(listdistr)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="same_dimensions_+3A_listdistr">listdistr</code></td>
<td>
<p>a list of <code><a href="#topic+DISTRIBUTION">DISTRIBUTION</a></code> objects</p>
</td></tr>
</table>


<h3>Value</h3>

<p>return <code>TRUE</code> if all the dimensions are the same
</p>

<hr>
<h2 id='set_seed'>Modify a the seed of a Distribution object</h2><span id='topic+set_seed'></span>

<h3>Description</h3>

<p>This create a new <code><a href="#topic+DISTRIBUTION">DISTRIBUTION</a></code> object but with the
specified seed
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_seed(distribution, seed)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="set_seed_+3A_distribution">distribution</code></td>
<td>
<p>a <code><a href="#topic+DISTRIBUTION">DISTRIBUTION</a></code> object</p>
</td></tr>
<tr><td><code id="set_seed_+3A_seed">seed</code></td>
<td>
<p>the new seed</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code><a href="#topic+DISTRIBUTION">DISTRIBUTION</a></code> object of the same class
</p>


<h3>Author(s)</h3>

<p>John J. Aponte
</p>

<hr>
<h2 id='summary.DISTRIBUTION'>Summary of Distributions</h2><span id='topic+summary.DISTRIBUTION'></span>

<h3>Description</h3>

<p>Summary of Distributions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'DISTRIBUTION'
summary(object, n = 10000, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.DISTRIBUTION_+3A_object">object</code></td>
<td>
<p>object of class <code><a href="#topic+DISTRIBUTION">DISTRIBUTION</a></code></p>
</td></tr>
<tr><td><code id="summary.DISTRIBUTION_+3A_n">n</code></td>
<td>
<p>the number of random samples from the distribution</p>
</td></tr>
<tr><td><code id="summary.DISTRIBUTION_+3A_...">...</code></td>
<td>
<p>other parameters. Not used</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="base.html#topic+data.frame">data.frame</a></code> with as many rows as dimensions had the
distribution and  with the following columns
</p>

<ul>
<li><p> distribution name
</p>
</li>
<li><p> varname name of the dimension
</p>
</li>
<li><p> oval value
</p>
</li>
<li><p> nsample number of random samples
</p>
</li>
<li><p> mean_ mean value of the sample
</p>
</li>
<li><p> sd_ standard deviation of the sample
</p>
</li>
<li><p> lci_ lower 95
</p>
</li>
<li><p> median_ median value of the sample
</p>
</li>
<li><p> uci_ upper 95
</p>
</li></ul>



<h3>Note</h3>

<p>The sample uses the seed saved in the object those it will
provide the same values fir an <code>n</code> value
</p>


<h3>Author(s)</h3>

<p>John J. Aponte
</p>

<hr>
<h2 id='TRIANGULAR'>Factory for a TRIANGULAR distribution object</h2><span id='topic+TRIANGULAR'></span><span id='topic+new_TRIANGULAR'></span>

<h3>Description</h3>

<p>Returns an TRIANGULAR distribution object that produce random numbers
from a  triangular distribution using the <code><a href="extraDistr.html#topic+rtriang">rtriang</a></code>
function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_TRIANGULAR(p_min, p_max, p_mode, p_dimnames = "rvar")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="TRIANGULAR_+3A_p_min">p_min</code></td>
<td>
<p>A numeric that represents the lower limit</p>
</td></tr>
<tr><td><code id="TRIANGULAR_+3A_p_max">p_max</code></td>
<td>
<p>A numeric that represents the upper limit</p>
</td></tr>
<tr><td><code id="TRIANGULAR_+3A_p_mode">p_mode</code></td>
<td>
<p>A numeric that represents the mode</p>
</td></tr>
<tr><td><code id="TRIANGULAR_+3A_p_dimnames">p_dimnames</code></td>
<td>
<p>A character that represents the name of the dimension</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>DISTRIBUTION</code>, <code>TRIANGULAR</code>
</p>


<h3>Author(s)</h3>

<p>John J. Aponte
</p>


<h3>Examples</h3>

<pre><code class='language-R'>myDistr &lt;- new_TRIANGULAR(-1,1,0)
myDistr$rfunc(10)
</code></pre>

<hr>
<h2 id='TRUNCATED'>Factory for a TRUNCATED distribution object</h2><span id='topic+TRUNCATED'></span><span id='topic+new_TRUNCATED'></span>

<h3>Description</h3>

<p>Returns an TRUNCATED distribution object that limits the values that are
generated by the distribution to be in the limits <code>p_min, p_max</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_TRUNCATED(p_distribution, p_min = -Inf, p_max = Inf)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="TRUNCATED_+3A_p_distribution">p_distribution</code></td>
<td>
<p>An object of class DISTRIBUTION to truncate</p>
</td></tr>
<tr><td><code id="TRUNCATED_+3A_p_min">p_min</code></td>
<td>
<p>A numeric that set the lower limit of the distribution</p>
</td></tr>
<tr><td><code id="TRUNCATED_+3A_p_max">p_max</code></td>
<td>
<p>A numeric that set the upper limit of the distribution</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>DISTRIBUTION</code>,
<code>p_distribution$distribution</code>, <code>TRUNCATED</code>
</p>


<h3>Note</h3>

<p>The expected value of a truncated distribution could be very
different from the expected value of the unrestricted distribution. Be
careful as the <code>oval</code> field is not changed and may not represent
any more the expected value of the distribution.
</p>
<p>If the distribution is multidimensional, the limits will apply to all dimensions.
</p>


<h3>Author(s)</h3>

<p>John J. Aponte
</p>


<h3>Examples</h3>

<pre><code class='language-R'>myDistr &lt;- new_TRUNCATED(p_distribution = new_NORMAL(0,1), p_min = -1, p_max = 1)
myDistr$rfunc(10)
</code></pre>

<hr>
<h2 id='UNIFORM'>Factory for a UNIFORM distribution object</h2><span id='topic+UNIFORM'></span><span id='topic+new_UNIFORM'></span>

<h3>Description</h3>

<p>Returns an UNIFORM distribution object that produce random numbers
from a  uniform distribution using the <code><a href="stats.html#topic+runif">runif</a></code> function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_UNIFORM(p_min, p_max, p_dimnames = "rvar")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="UNIFORM_+3A_p_min">p_min</code></td>
<td>
<p>A numeric that represents the lower limit</p>
</td></tr>
<tr><td><code id="UNIFORM_+3A_p_max">p_max</code></td>
<td>
<p>A numeric that represents the upper limit</p>
</td></tr>
<tr><td><code id="UNIFORM_+3A_p_dimnames">p_dimnames</code></td>
<td>
<p>A character that represents the name of the dimension</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>DISTRIBUTION</code>, <code>UNIFORM</code>
</p>


<h3>Author(s)</h3>

<p>John J. Aponte
</p>


<h3>Examples</h3>

<pre><code class='language-R'>myDistr &lt;- new_UNIFORM(0,1)
myDistr$rfunc(10)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

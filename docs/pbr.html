<!DOCTYPE html><html lang="en"><head><title>Help for package pbr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {pbr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#format_leaflet_labels'><p>Format outlet name and address for use as a leaflet label</p></a></li>
<li><a href='#format_pbr_url'><p>Formats url based on the location provided</p></a></li>
<li><a href='#ip_zip'><p>Functions to retrieve IP address and ZIP code from IP</p></a></li>
<li><a href='#location_query'><p>Query information about a location</p></a></li>
<li><a href='#milwaukee'><p>Retailers in and around Milwaukee, WI</p></a></li>
<li><a href='#pbr_me'><p>Retrieve and print interactive map of closest locations</p></a></li>
<li><a href='#pbr_query'><p>Query for locations that sell cold ones</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Find a Cold One Near You</td>
</tr>
<tr>
<td>Version:</td>
<td>0.0.2</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Paul Frater &lt;pfrater@wisc.edu&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>In short, this package is a locator for cool, refreshing beverages. 
  It will find and return the nearest location where you can get a cold one.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.2.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>httr (&ge; 1.4.2), jsonlite (&ge; 1.8.0), leaflet (&ge; 2.1.1),
htmltools (&ge; 0.5.2)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-08-25 02:21:09 UTC; paul</td>
</tr>
<tr>
<td>Author:</td>
<td>Paul Frater <a href="https://orcid.org/0000-0002-7237-6563"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-08-25 15:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='format_leaflet_labels'>Format outlet name and address for use as a leaflet label</h2><span id='topic+format_leaflet_labels'></span>

<h3>Description</h3>

<p>Takes name and address and formats it into an HTML label. This is a shortcut
helper function that is used in <code><a href="#topic+pbr_me">pbr_me</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>format_leaflet_labels(name, address, city, state, zip)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="format_leaflet_labels_+3A_name">name</code></td>
<td>
<p>Character. Name of the business</p>
</td></tr>
<tr><td><code id="format_leaflet_labels_+3A_address">address</code></td>
<td>
<p>Character. Address of the business</p>
</td></tr>
<tr><td><code id="format_leaflet_labels_+3A_city">city</code></td>
<td>
<p>Character. City name</p>
</td></tr>
<tr><td><code id="format_leaflet_labels_+3A_state">state</code></td>
<td>
<p>Character. State name</p>
</td></tr>
<tr><td><code id="format_leaflet_labels_+3A_zip">zip</code></td>
<td>
<p>Character or numeric. Zip code</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An HTML label
</p>

<hr>
<h2 id='format_pbr_url'>Formats url based on the location provided</h2><span id='topic+format_pbr_url'></span>

<h3>Description</h3>

<p>This function simply readies the url for use in a GET request
</p>


<h3>Usage</h3>

<pre><code class='language-R'>format_pbr_url(location, dist = 100, lim = 50, brand_id = 333)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="format_pbr_url_+3A_location">location</code></td>
<td>
<p>Zip code or (portion of) city name</p>
</td></tr>
<tr><td><code id="format_pbr_url_+3A_dist">dist</code></td>
<td>
<p>Numeric. The distance in miles to search from the location</p>
</td></tr>
<tr><td><code id="format_pbr_url_+3A_lim">lim</code></td>
<td>
<p>Numeric. The number of results to be returned</p>
</td></tr>
<tr><td><code id="format_pbr_url_+3A_brand_id">brand_id</code></td>
<td>
<p>Numeric. The brand ID to be returned</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A url to be passed to <code><a href="#topic+pbr_query">pbr_query</a></code>
</p>

<hr>
<h2 id='ip_zip'>Functions to retrieve IP address and ZIP code from IP</h2><span id='topic+ip_zip'></span><span id='topic+get_ip_address'></span><span id='topic+get_zip'></span>

<h3>Description</h3>

<p>These are just helper shortcut functions. <code>get_ip_address</code>
retrieves a computer's IP address from <a href="https://ipinfo.io/what-is-my-ip">https://ipinfo.io/what-is-my-ip</a>.
This is easier than getting the IP right off local computer because of bogon
IP addresses. <code>get_zip</code> pulls ZIP code location from <a href="https://ipapi.co/">https://ipapi.co/</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_ip_address()

get_zip()
</code></pre>


<h3>Value</h3>

<p>Either the IP address that a web browser sees
(<code>get_ip_address</code>), or a zip code (<code>get_zip</code>)
</p>

<hr>
<h2 id='location_query'>Query information about a location</h2><span id='topic+location_query'></span>

<h3>Description</h3>

<p>This function is used to find the information needed for an entire GET
request url based on just the zip code or city name (or regex)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>location_query(location)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="location_query_+3A_location">location</code></td>
<td>
<p>Zip code or (portion of) city name</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame with city name, zip code, lat, and long
</p>

<hr>
<h2 id='milwaukee'>Retailers in and around Milwaukee, WI</h2><span id='topic+milwaukee'></span>

<h3>Description</h3>

<p>A dataset containing the names and locations for the 50 closest
retailers closest to ZIP code 53210.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>milwaukee
</code></pre>


<h3>Format</h3>

<p>A data.frame with 50 rows and 12 columns
</p>


<h3>Source</h3>

<p>milwaukee &lt;- pbr_me(53210, map = FALSE)
</p>

<hr>
<h2 id='pbr_me'>Retrieve and print interactive map of closest locations</h2><span id='topic+pbr_me'></span><span id='topic+pbr_me_asap'></span>

<h3>Description</h3>

<p>These functions will retrieve and display the locations of the closest
outlets for a cold one. <code>pbr_me</code> requires a location to be input. This is handy for
when you're going somewhere and want to scout out the available outlets that
sell what you're looking for. <code>pbr_me_asap</code> is for when you just need a one now and don't
have time to enter your zip code.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pbr_me(location, map = TRUE, ...)

pbr_me_asap()
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pbr_me_+3A_location">location</code></td>
<td>
<p>A zip code, city name, or regular expression of such</p>
</td></tr>
<tr><td><code id="pbr_me_+3A_map">map</code></td>
<td>
<p>Logical. Output a leaflet map (TRUE, default) or not (FALSE)</p>
</td></tr>
<tr><td><code id="pbr_me_+3A_...">...</code></td>
<td>
<p>Additional arguments passed on to <code><a href="#topic+format_pbr_url">format_pbr_url</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>pbr_me</code> will display a <code><a href="leaflet.html#topic+leaflet">leaflet</a></code> map of the
closest retailer locations. If <code>map = FALSE</code> it will return a data.frame
of the locations. <code>pbr_me_asap</code> displays a leaflet map of retailer locations
within your current proximity for those moments when you just need a cold one now
</p>


<h3>Value</h3>

<p>A leaflet map displaying closest retailer locations, or (optionally) a
data.frame of retailer locations
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

pbr_me(54481)
pbr_me_asap() # for when you just don't have time to enter your zip code

## End(Not run)
</code></pre>

<hr>
<h2 id='pbr_query'>Query for locations that sell cold ones</h2><span id='topic+pbr_query'></span>

<h3>Description</h3>

<p>Query for locations that sell cold ones
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pbr_query(location, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pbr_query_+3A_location">location</code></td>
<td>
<p>Zip code or (portion of) city name</p>
</td></tr>
<tr><td><code id="pbr_query_+3A_...">...</code></td>
<td>
<p>Additional arguments to be passed to <code><a href="#topic+format_pbr_url">format_pbr_url</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame of retailers
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

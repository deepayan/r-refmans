<!DOCTYPE html><html><head><title>Help for package timeSeries</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {timeSeries}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#aggregate-methods'><p>Aggregate time series</p></a></li>
<li><a href='#align-methods'><p>Align a 'timeSeries' object to equidistant time stamps</p></a></li>
<li><a href='#apply'><p>Apply functions over time windows</p></a></li>
<li><a href='#as'><p>Convert objects to/from class 'timeSeries'</p></a></li>
<li><a href='#attach'><p>Attach a 'timeSeries' to the search path</p></a></li>
<li><a href='#attributes'><p>Get and set optional attributes of a 'timeSeries'</p></a></li>
<li><a href='#cbind'><p>Bind 'timeSeries' objects by column or row</p></a></li>
<li><a href='#colCum'><p>Cumulated column statistics</p></a></li>
<li><a href='#colStats'><p>Column statistics</p></a></li>
<li><a href='#comment'><p>Get and set comments for 'timeSeries' objects</p></a></li>
<li><a href='#cumulated'><p>Cumulated time series from returns</p></a></li>
<li><a href='#DataPart,timeSeries-method'><p>DataPart,timeSeries-method</p></a></li>
<li><a href='#description'><p>Creates date and user information</p></a></li>
<li><a href='#diff'><p>Difference a 'timeSeries' object</p></a></li>
<li><a href='#dimnames'><p>Dimension and their names for 'timeSeries' objects</p></a></li>
<li><a href='#drawdowns'><p>Calculations of drawdowns</p></a></li>
<li><a href='#dummyTimeSeries'><p>Create dummy time series</p></a></li>
<li><a href='#durations'><p>Durations from a 'timeSeries'</p></a></li>
<li><a href='#filter'><p>Linear filtering on a time series</p></a></li>
<li><a href='#finCenter'><p>Get and set Financial center of a 'timeSeries'</p></a></li>
<li><a href='#internals'><p>Exported internal functions</p></a></li>
<li><a href='#is.timeSeries'><p>Check if an object is from class 'timeSeries'</p></a></li>
<li><a href='#isRegular'><p>Checks if a time series is regular</p></a></li>
<li><a href='#isUnivariate'><p>Checks if a time series is univariate</p></a></li>
<li><a href='#lag'><p>Lag a 'timeSeries' object</p></a></li>
<li><a href='#math'><p>Mathematical operations on 'timeSeries'</p></a></li>
<li><a href='#merge'><p>Merge 'timeSeries' objects</p></a></li>
<li><a href='#monthly'><p>Special monthly series</p></a></li>
<li><a href='#na'><p>Handle missing values in 'timeSeries' objects</p></a></li>
<li><a href='#na.contiguous'><p>Find longest contiguous stretch of non-NAs or check for NAs</p></a></li>
<li><a href='#orderColnames'><p>Reorder column names of a time series</p></a></li>
<li><a href='#orderStatistics'><p>Order statistics</p></a></li>
<li><a href='#periodical'><p>End-of-Period series, stats, and benchmarks</p></a></li>
<li><a href='#plot-methods'><p>Plot 'timeSeries' objects</p></a></li>
<li><a href='#print-methods'><p>Print 'timeSeries' objects</p></a></li>
<li><a href='#rank'><p>Sample ranks of a time series</p></a></li>
<li><a href='#readSeries'><p>Read a 'timeSeries' from a text file</p></a></li>
<li><a href='#returns'><p>Financial returns</p></a></li>
<li><a href='#rev'><p>Reverse a 'timeSeries'</p></a></li>
<li><a href='#rollMean'><p>Rolling statistics</p></a></li>
<li><a href='#rowCum'><p>Cumulative row statistics</p></a></li>
<li><a href='#runlengths'><p>Runlengths of a time series</p></a></li>
<li><a href='#sample'><p>Resample 'timeSeries' objects</p></a></li>
<li><a href='#scale'><p>Center and scale 'timeSeries' objects</p></a></li>
<li><a href='#series-methods'><p>Get and set the data component of a 'timeSeries'</p></a></li>
<li><a href='#smooth'><p>Smooths time series objects</p></a></li>
<li><a href='#sort'><p>Sort a 'timeSeries' by time stamps</p></a></li>
<li><a href='#splits'><p>splits</p></a></li>
<li><a href='#spreads'><p>Spreads and mid quotes</p></a></li>
<li><a href='#start'><p>Start and end of a 'timeSeries'</p></a></li>
<li><a href='#str-methods'><p>Display the structure of 'timeSeries' objects</p></a></li>
<li><a href='#t'><p>Transpose 'timeSeries' objects</p></a></li>
<li><a href='#time'><p>Get and set time stamps of a 'timeSeries'</p></a></li>
<li><a href='#timeSeries-class'><p>Class 'timeSeries' in package timeSeries</p></a></li>
<li><a href='#timeSeries-deprecated'><p>Deprecated functions in 'timeSeries' package</p></a></li>
<li><a href='#timeSeries-method-stats'><p>Base R functions applied to 'timeSeries' objects</p></a></li>
<li><a href='#timeSeries-package'><p>Utilities and tools package</p></a></li>
<li><a href='#TimeSeriesClass'><p>Create objects from class 'timeSeries'</p></a></li>
<li><a href='#TimeSeriesData'><p>Time series data sets</p></a></li>
<li><a href='#TimeSeriesSubsettings'><p>Subsetting time series</p></a></li>
<li><a href='#turns'><p>Turning points of a time series</p></a></li>
<li><a href='#units'><p>Get and set unit names of a 'timeSeries'</p></a></li>
<li><a href='#wealth'><p>Conversion of an index to wealth</p></a></li>
<li><a href='#window'><p>Methods for 'window' in package 'timeSeries'</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Financial Time Series Objects (Rmetrics)</td>
</tr>
<tr>
<td>Version:</td>
<td>4032.109</td>
</tr>
<tr>
<td>Description:</td>
<td>'S4' classes and various tools for financial time series:
  Basic functions such as scaling and sorting, subsetting,
  mathematical operations and statistical functions.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10), timeDate (&ge; 2150.95), methods</td>
</tr>
<tr>
<td>Imports:</td>
<td>graphics, grDevices, stats, utils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>RUnit, robustbase, xts, zoo, PerformanceAnalytics, fTrading</td>
</tr>
<tr>
<td>LazyData:</td>
<td>yes</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://geobosh.github.io/timeSeriesDoc/">https://geobosh.github.io/timeSeriesDoc/</a> (doc),
<a href="https://r-forge.r-project.org/scm/viewvc.php/pkg/timeSeries/?root=rmetrics">https://r-forge.r-project.org/scm/viewvc.php/pkg/timeSeries/?root=rmetrics</a>
(devel), <a href="https://www.rmetrics.org">https://www.rmetrics.org</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://r-forge.r-project.org/projects/rmetrics">https://r-forge.r-project.org/projects/rmetrics</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-01-14 10:27:34 UTC; georgi</td>
</tr>
<tr>
<td>Author:</td>
<td>Diethelm Wuertz [aut] (original code),
  Tobias Setz [aut],
  Yohan Chalabi [aut],
  Martin Maechler <a href="https://orcid.org/0000-0002-8685-9910"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb],
  Georgi N. Boshnakov [cre, aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Georgi N. Boshnakov &lt;georgi.boshnakov@manchester.ac.uk&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-01-14 16:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='aggregate-methods'>Aggregate time series</h2><span id='topic+aggregate-methods'></span><span id='topic+aggregate'></span><span id='topic+aggregate.timeSeries'></span><span id='topic+aggregate+2CtimeSeries-method'></span>

<h3>Description</h3>

<p>Aggregate a <code>"timeSeries"</code> object over general periods.  
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'timeSeries'
aggregate(x, by, FUN, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="aggregate-methods_+3A_x">x</code></td>
<td>

<p>an object of class <code>"timeSeries"</code>.
</p>
</td></tr> 
<tr><td><code id="aggregate-methods_+3A_by">by</code></td>
<td>

<p>a sequence of <code>"timeDate"</code> objects denoting the aggregation
periods, see section &lsquo;Details&rsquo;.
</p>
</td></tr>
<tr><td><code id="aggregate-methods_+3A_fun">FUN</code></td>
<td>

<p>the function to be applied.
</p>
</td></tr>               
<tr><td><code id="aggregate-methods_+3A_...">...</code></td>
<td>

<p>arguments passed to other methods.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>aggregate</code> aggregates <code>x</code> by applying <code>FUN</code> on the
values of the time series in each of the aggregation periods,
specified by argument <code>by</code>.
</p>
<p>Argument <code>by</code> should be of the same class as
<code>time(x)</code>. <code>by</code> is sorted and duplicated values are removed
from it. Each pair of consecutive values in <code>by</code> then determines
a period over which to apply the aggregation function <code>FUN</code>, see
<code><a href="base.html#topic+findInterval">findInterval</a></code>.
</p>


<h3>Value</h3>

<p>an object of class <code>"timeSeries"</code>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+apply">apply</a></code>,
<code><a href="#topic+align">align</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Load Microsoft Data Set -
   x &lt;- MSFT

## Aggregate by Weeks - 
   by &lt;- timeSequence(from = start(x),  to = end(x), by = "week")
   aggregate(x, by, mean)

## Aggregate to Last Friday of Month -
   by &lt;- unique(timeLastNdayInMonth(time(x), 5))
   X &lt;- aggregate(x, by, mean)
   X
   dayOfWeek(time(X))
   isMonthly(X)

## Aggregate to Last Day of Quarter -
   by &lt;- unique(timeLastDayInQuarter(time(x)))
   X &lt;-  aggregate(x, by, mean)
   X
   isQuarterly(X)
</code></pre>

<hr>
<h2 id='align-methods'>Align a 'timeSeries' object to equidistant time stamps</h2><span id='topic+align'></span><span id='topic+align-methods'></span><span id='topic+align+2CtimeSeries-method'></span><span id='topic+alignDailySeries'></span><span id='topic+daily2weekly'></span><span id='topic+daily2monthly'></span>

<h3>Description</h3>

<p>Aligns a <code>"timeSeries"</code> object to equidistant time stamps.  There
are also functions for the common cases of changing daily to weekly
and daily to monthly.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'timeSeries'
align(x, by = "1d", offset = "0s",
    method = c("before", "after", "interp", "fillNA",
               "fmm", "periodic", "natural", "monoH.FC"),
    include.weekends = FALSE, ...)

alignDailySeries(x, method = c("before", "after", "interp", "fillNA",
    "fmm", "periodic", "natural", "monoH.FC"),
    include.weekends = FALSE, units = NULL, zone = "",
    FinCenter = "", ...)

daily2monthly(x, init = FALSE) 
daily2weekly(x, startOn = "Tue", init = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="align-methods_+3A_x">x</code></td>
<td>

<p>an object of class <code>"timeSeries"</code>.
</p>
</td></tr>
<tr><td><code id="align-methods_+3A_by">by</code></td>
<td>

<p>a character string denoting the period.
</p>
</td></tr>
<tr><td><code id="align-methods_+3A_offset">offset</code></td>
<td>

<p>a character string denoting the offset.
</p>
</td></tr>
<tr><td><code id="align-methods_+3A_method">method</code></td>
<td>

<p>the method to be used for the alignment. A character string, one of
<code>"before"</code>, use the data from the row whose position is just
before the unmatched position, or <code>"after"</code>, use the data from
the row whose position is just after the unmatched position, or
<code>"linear"</code>, interpolate linearly between <code>"before"</code> and
<code>"after"</code>.
</p>
</td></tr>
<tr><td><code id="align-methods_+3A_include.weekends">include.weekends</code></td>
<td>

<p>a logical value. Should weekend dates be included or removed from
the series?
</p>
</td></tr>
<tr><td><code id="align-methods_+3A_units">units</code></td>
<td>

<p>an optional character string, which allows to overwrite the current
column names of a <code>timeSeries</code> object. By default <code>NULL</code>
which means that the column names are selected automatically.
</p>
</td></tr>
<tr><td><code id="align-methods_+3A_zone">zone</code></td>
<td>

<p>the time zone or financial center where the data were recorded.
</p>
</td></tr>
<tr><td><code id="align-methods_+3A_fincenter">FinCenter</code></td>
<td>

<p>a character with the the location of the  financial center named
as <code>"continent/city"</code>.
</p>
</td></tr>
<tr><td><code id="align-methods_+3A_starton">startOn</code></td>
<td>

<p>a character string, specifying the day of week as a three letter
abbreviation. Weekly aggregated data records are then fixed to the
weekdays given by the argument <code>startOn</code>.
</p>
</td></tr>
<tr><td><code id="align-methods_+3A_init">init</code></td>
<td>

<p>a logical value, if set to <code>TRUE</code> then the time series will be
indexed to 1 for its first value. By default <code>init</code> is set to
<code>FALSE</code>.
</p>
</td></tr>
<tr><td><code id="align-methods_+3A_...">...</code></td>
<td>

<p>further arguments to be passed to the interpolating function.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>TODO: complete.
</p>
<p><code>alignDailySeries</code> aligns a daily 'timeSeries' to new positions,
Effectively, it is a frontend to the <code>"timeSeries"</code> method for
<code>align</code> with <code>by = "1d"</code>, and <code>offset = "0s"</code>.
</p>
<p>In addition, there are two tailored functions for common cases:
<code>daily2monthly</code> and <code>daily2weekly</code> which aggregate
<code>"timeSeries"</code> objects from daily to monthly or weekly levels,
respectively.
</p>
<p>In the case of the function <code>daily2weekly</code> one can explicitly set
the starting day of the week, the default value is Tuesday,
<code>startOn = "Tue"</code>.
</p>


<h3>Value</h3>

<p>a <code>"timeSeries"</code> object,
</p>
<p>for <code>alignDailySeries</code>, a weekly aligned daily <code>"timeSeries"</code> object 
from a daily time series with missing holidays.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+aggregate">aggregate</a></code>,
<code><a href="#topic+apply">apply</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Use Microsofts' OHLCV Price Series -
   head(MSFT)
   end(MSFT)

## Use MSFT and Compute Sample Size -
   dim(MSFT)

## Align the Series -
   MSFT.AL &lt;- align(MSFT)

## Show the Size of the Aligned Series -
   dim(MSFT.AL)


## alignDailySeries

## Cut out April Data from 2001 -
   Close &lt;- MSFT[, "Close"]
   tsApril01 &lt;- window(Close, start="2001-04-01", end="2001-04-30")
   tsApril01

## Align Daily Series with NA -
   tsRet &lt;- returns(tsApril01, trim = TRUE)
   GoodFriday(2001)
   EasterMonday(2001)
   alignDailySeries(tsRet, method = "fillNA", include.weekends = FALSE)
   alignDailySeries(tsRet, method = "fillNA", include.weekends = TRUE)

## Align Daily Series by Interpolated Values -
   alignDailySeries(tsRet, method = "interp", include.weekend = FALSE)
   alignDailySeries(tsRet, method = "interp", include.weekend = TRUE)


## Load Microsoft Data Set -
   x &lt;- MSFT

## Aggregate daily records to end of month records -
   X &lt;- daily2monthly(x)
   X
   isMonthly(X)
   
## Aggregate daily records to end of week records -
   X &lt;- daily2weekly(x, startOn="Fri")
   X
   dayOfWeek(time(X))
</code></pre>

<hr>
<h2 id='apply'>Apply functions over time windows</h2><span id='topic+apply'></span><span id='topic+apply+2CtimeSeries-method'></span><span id='topic+fapply'></span><span id='topic+applySeries'></span><span id='topic+rollDailySeries'></span>

<h3>Description</h3>

<p>Applies a function to a <code>"timeSeries"</code> object over regular or
irregular time windows, possibly overlapping.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'timeSeries'
apply(X, MARGIN, FUN, ..., simplify = TRUE)

fapply(x, from, to, FUN, ...)

applySeries(x, from = NULL, to = NULL, by = c("monthly", "quarterly"), 
            FUN = colMeans, units = NULL, format = x@format, 
            zone = x@FinCenter, FinCenter = x@FinCenter, 
            recordIDs = data.frame(), title = x@title, 
            documentation = x@documentation, ...)

rollDailySeries(x, period = "7d", FUN, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="apply_+3A_x">x</code>, <code id="apply_+3A_x">X</code></td>
<td>

<p>an object of class <code>timeSeries</code>.
</p>
</td></tr> 
<tr><td><code id="apply_+3A_margin">MARGIN</code></td>
<td>

<p>a vector giving the subscripts which the function will be
applied over, see base R's <code><a href="base.html#topic+apply">apply</a></code>.
</p>
</td></tr>
<tr><td><code id="apply_+3A_fun">FUN</code></td>
<td>

<p>the function to be applied. For the function <code>applySeries</code> the
default setting is <code>FUN = colMeans</code>.
</p>
</td></tr>
<tr><td><code id="apply_+3A_simplify">simplify</code></td>
<td>

<p>simplify the result?
</p>
</td></tr>
<tr><td><code id="apply_+3A_from">from</code>, <code id="apply_+3A_to">to</code></td>
<td>

<p>starting date and end date as <code>"timeDate"</code> objects. Note,
<code>to</code> must be time ordered after <code>from</code>.  If <code>from</code>
and <code>to</code> are missing in function <code>fapply</code> they are set by
default to <code>from=start(x)</code>, and <code>to=end(x)</code>.
</p>
</td></tr>
<tr><td><code id="apply_+3A_by">by</code></td>
<td>

<p>a character value either <code>"monthly"</code> or <code>"quarterly"</code> used
in the function <code>applySeries</code>. The default value is
<code>"monthly"</code>. Only operative when both arguments <code>from</code> and
<code>to</code> have their default values <code>NULL</code>.  In this case the
function <code>FUN</code> will be applied to monthly or quarterly periods.
</p>
</td></tr>
<tr><td><code id="apply_+3A_units">units</code></td>
<td>

<p>an optional character string, which allows to overwrite the current
column names of a <code>timeSeries</code> object. By default <code>NULL</code>
which means that the column names are selected automatically.
</p>
</td></tr>  
<tr><td><code id="apply_+3A_format">format</code></td>
<td>

<p>the format specification of the input character vector in POSIX
notation.
</p>
</td></tr>     
<tr><td><code id="apply_+3A_zone">zone</code></td>
<td>

<p>the time zone or financial center where the data were recorded.
</p>
</td></tr>
<tr><td><code id="apply_+3A_fincenter">FinCenter</code></td>
<td>

<p>a character value with the the location of the  financial center 
named as &quot;continent/city&quot;, or &quot;city&quot;. 
</p>
</td></tr>
<tr><td><code id="apply_+3A_recordids">recordIDs</code></td>
<td>

<p>a data frame which can be used for record identification
information. Note, this is not yet handled by the apply functions,
an empty data.frame will be returned.
</p>
</td></tr> 
<tr><td><code id="apply_+3A_title">title</code></td>
<td>

<p>an optional title string, if not specified the input's data name is
deparsed.
</p>
</td></tr>
<tr><td><code id="apply_+3A_documentation">documentation</code></td>
<td>

<p>optional documentation string, or a vector of character strings.
</p>
</td></tr>   
<tr><td><code id="apply_+3A_period">period</code></td>
<td>

<p>a character string specifying the rollling period composed by the
length of the period and its unit, e.g. <code>"7d"</code> represents one
week.
</p>
</td></tr>
<tr><td><code id="apply_+3A_...">...</code></td>
<td>

<p>arguments passed to other methods.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>"timeSeries"</code> method for <code>apply</code> extracts the core data
(a matrix) from <code>X</code> and calls <code>apply</code>, passing on all the
remaining arguments. If the result is suitable, it converts it to
<code>"timeSeries"</code>, otherwise returns it as is. &lsquo;Suitable&rsquo;
here means that it is a matrix or a vector (which is converted to a
matrix) and the number of observations is the same as <code>X</code>.
</p>
<p>Like <code>apply</code> applies a function to the margins of an array, the
function <code>fapply</code> applies a function to the time stamps or signal
counts of a financial (therefore the &ldquo;f&rdquo; in front of the
function name) time series of class <code>"timeSeries"</code>.
</p>
<p><code>applySeries</code> takes a <code>"timeSeries"</code> object as input and
applies <code>FUN</code> to windows of <code>x</code>.  The windows are specified
by <code>from</code> and <code>to</code>, which need to have the same length. Then
<code>from[i], to[i]</code> specifies the <code>i</code>-th window.  If
<code>time(x)</code> is a <code>"timeDate"</code> object, then <code>from</code> and
<code>to</code> are converted to <code>"timeDate"</code> (if they are not already
such objects), otherwise they are converted to integers.
</p>
<p>An alternative way to specify the window(s) on which
<code>applySeries</code> operates is with argument <code>by</code>. It is used
only if <code>from</code> and <code>to</code> are missing or <code>NULL</code>. <code>by
  = "monthly"</code> or <code>by = "quarterly"</code> applies <code>FUN</code> to the data
for each year-month or year-quarter, respectively. By year-month we
mean that there are separate windows for the months in different
years.
</p>
<p>The resulting time stamps are the time stamps of the <code>to</code>
vector. The periods can be regular or irregular, and they can even
overlap.
</p>
<p>If <code>from = start(x)</code> and <code>to = end(x)</code>, then the function
behaves like <code>apply</code> on the column margin.
</p>
<p><code>fapply</code> is the same as <code>applySeries</code> (in fact, the former
calls the latter), except that the defaults for <code>from</code> and
<code>to</code> are <code>start(x)</code> and <code>end(x)</code>, respectively. (GNB:
in addition, <code>fapply</code> throws error if <code>x</code> is a
&lsquo;signal series&rsquo;.)
</p>
<p><code>rollDailySeries</code> rolls a daily 'timeSeries' on a given period.
</p>


<h3>Value</h3>

<p>for <code>rollDailySeries</code>, an object of class <code>"timeSeries"</code> with
rolling values, computed from the function <code>FUN</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Percentual Returns of Swiss Bond Index and Performance Index - 
   LPP &lt;- 100 * LPP2005REC[, c("SBI", "SPI")]
   head(LPP, 20)
   
## Aggregate Quarterly Returns -
   applySeries(LPP, by = "quarterly", FUN = colSums)
   
## Aggregate Quarterly every last Friday in Quarter -
   oneDay &lt;- 24*3600
   from &lt;- unique(timeFirstDayInQuarter(time(LPP))) - oneDay
   from &lt;- timeLastNdayInMonth(from, nday = 5)
   to &lt;- unique(timeLastDayInQuarter(time(LPP)))
   to &lt;- timeLastNdayInMonth(to, nday = 5)
   data.frame(from = as.character(from), to = as.character(to))

   applySeries(LPP, from, to, FUN = colSums)
## Alternative Use - 
   fapply(LPP, from, to, FUN = colSums)
   
## Count Trading Days per Month - 
   colCounts &lt;- function(x) rep(NROW(x), times = NCOL(x))
   applySeries(LPP, FUN = colCounts, by = "monthly")


## TODO: examples for rollDailySeries()
</code></pre>

<hr>
<h2 id='as'>Convert objects to/from class 'timeSeries'</h2><span id='topic+as'></span><span id='topic+as.timeSeries'></span><span id='topic+as.timeSeries.default'></span><span id='topic+as.timeSeries.data.frame'></span><span id='topic+as.timeSeries.character'></span><span id='topic+as.timeSeries.ts'></span><span id='topic+as.timeSeries.zoo'></span><span id='topic+as.matrix+2CtimeSeries-method'></span><span id='topic+as.data.frame+2CtimeSeries-method'></span><span id='topic+as.list+2CtimeSeries-method'></span><span id='topic+as.matrix.timeSeries'></span><span id='topic+as.data.frame.timeSeries'></span><span id='topic+as.list.timeSeries'></span><span id='topic+as.ts'></span><span id='topic+as.ts.timeSeries'></span><span id='topic+coerce+2CANY+2CtimeSeries-method'></span><span id='topic+coerce+2Cdata.frame+2CtimeSeries-method'></span><span id='topic+coerce+2Ccharacter+2CtimeSeries-method'></span><span id='topic+coerce+2Cts+2CtimeSeries-method'></span><span id='topic+coerce+2CtimeSeries+2Cmatrix-method'></span><span id='topic+coerce+2CtimeSeries+2Cdata.frame-method'></span><span id='topic+coerce+2CtimeSeries+2Clist-method'></span><span id='topic+coerce+2CtimeSeries+2Cts-method'></span><span id='topic+coerce+2CtimeSeries+2Ctse-method'></span>

<h3>Description</h3>

<p>Functions and methods dealing with the coercion between <code>"timeSeries"</code>
and other classes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## convert to 'timeSeries'
as.timeSeries(x, ...)

## convert from 'timeSeries' to other classes
## S3 method for class 'timeSeries'
as.ts(x, ...)
## S4 method for signature 'timeSeries'
as.matrix(x, ...)
## S4 method for signature 'timeSeries'
as.data.frame(x, row.names = NULL, optional = FALSE, ...)
## S4 method for signature 'timeSeries'
as.list(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_+3A_x">x</code></td>
<td>
 
<p>the object to be converted, see Section &lsquo;Details&rsquo; for the
special case when <code>class(x)</code> is <code>"character"</code>.
</p>
</td></tr> 
<tr><td><code id="as_+3A_row.names">row.names</code></td>
<td>

<p><code>NULL</code> or a character vector giving the row names for the
data frame. Missing values are not allowed.
</p>
</td></tr>
<tr><td><code id="as_+3A_optional">optional</code></td>
<td>

<p>a logical value. If <code>TRUE</code>, setting row names and converting
column names (to syntactic names) is optional.
</p>
</td></tr>
<tr><td><code id="as_+3A_...">...</code></td>
<td>

<p>arguments passed to other methods.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Functions to create <code>"timeSeries"</code> objects from other objects and
to convert <code>"timeSeries"</code> objects to other classes.
</p>
<p><code>as.timeSeries</code> is a generic function to convert an object to
<code>"timeSeries"</code>.  There are specialised methods for the following
classes: <code>"ts"</code>, <code>"data.frame"</code>, <code>"character"</code>, and
<code>"zoo"</code>. The default method is equivalent to calling
<code>"timeSeries()"</code>, so <code>x</code> can be of any type that
<code>"timeSeries()"</code> accepts.
</p>
<p>The <code>character</code> method of <code>as.timeSeries</code> is special, in
that its contents are parsed and evaluated, then <code>as.timeSeries</code>
is called on the returned value (passing also the <code>"..."</code>
arguments. Care is needed to avoid infinite recursion here since
currently the code doesn't guard against it.
</p>


<h3>Value</h3>

<p>for <code>as.timeSeries</code>, an object of class <code>"timeSeries"</code>. <br />
</p>
<p>for <code>as.numeric</code>, <code>as.data.frame</code>, <code>as.matrix</code>,
<code>as.ts</code>, <code>as.list</code> -  a numeric vector, a data frame, a
matrix, an object of class <code>ts</code>, or a <code>"list"</code>,
respectively.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+timeSeries">timeSeries</a></code>,
class <code><a href="#topic+timeSeries-class">timeSeries</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Create an Artificial 'timeSeries' Object
setRmetricsOptions(myFinCenter = "GMT")
charvec &lt;- timeCalendar()
data &lt;- matrix(rnorm(12))
TS &lt;- timeSeries(data, charvec, units = "RAND")
TS

## Coerce to Vector
as.vector(TS)
   
## Coerce to Matrix
as.matrix(TS)
  
## Coerce to Data Frame
as.data.frame(TS)
</code></pre>

<hr>
<h2 id='attach'>Attach a 'timeSeries' to the search path</h2><span id='topic+attach'></span><span id='topic+attach+2CtimeSeries-method'></span>

<h3>Description</h3>

<p>Attaches a <code>"timeSeries"</code> object to the search path.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'timeSeries'
attach(what, pos = 2, name = deparse(substitute(what)), 
    warn.conflicts = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="attach_+3A_name">name</code></td>
<td>

<p>alternative way to specify the database to be attached.
See for details <code>help(attach, package = base)</code>.
</p>
</td></tr>
<tr><td><code id="attach_+3A_pos">pos</code></td>
<td>
 
<p>an integer specifying position in <code>search()</code> where to attach
the database.  See for details <code>help(attach, package = base)</code>.
</p>
</td></tr> 
<tr><td><code id="attach_+3A_warn.conflicts">warn.conflicts</code></td>
<td>
  
<p>a logical value. If <code>TRUE</code>, warnings are printed about
conflicts from attaching the database, unless that database contains
an object <code>.conflicts.OK</code>. A conflict is a function masking a
function, or a non-function masking a non-function.  See for details
<code>help(attach, package = base)</code>.
</p>
</td></tr>
<tr><td><code id="attach_+3A_what">what</code></td>
<td>

<p>database to be attached. This may currently be a <code>"timeSeries"</code>
object, a data.frame, a list, an R data file created with
<code>save</code>, <code>NULL</code>, or an environment.  See for details
<code>help(attach, package = base)</code>.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the environment, invisibly, with a <code>name</code> attribute
</p>


<h3>Note</h3>

<p>The function <code>detach</code> from the <code>base</code> package can be used to
detach the attached objects.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Load Microsoft Data Set - 
   x &lt;- MSFT[1:10, ]
   colnames(x)
   
## Attach the Series and Compute the Range - 
   attach(x)
   range &lt;- High - Low
   range
   
## Convert Vector to a \code{"timeSeries"} Object -
   timeSeries(data=range, charvec=time(x), units="Range")
   
## Detach the series from the search path -
   detach("x")
   ans &lt;- try(High, silent=TRUE)
   cat(ans[1])
</code></pre>

<hr>
<h2 id='attributes'>Get and set optional attributes of a 'timeSeries'</h2><span id='topic+attributes'></span><span id='topic+getAttributes'></span><span id='topic+setAttributes+3C-'></span><span id='topic+documentation'></span>

<h3>Description</h3>

<p>Extracts or assigns optional attributes from or to a
<code>"timeSeries"</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getAttributes(obj)         
setAttributes(obj) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="attributes_+3A_obj">obj</code></td>
<td>

<p>a <code>timeSeries</code> object whose optional attributes are to be
accessed.
</p>
</td></tr>
<tr><td><code id="attributes_+3A_value">value</code></td>
<td>

<p>an object, the new value of the attribute, or NULL to remove the
attribute.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Each <code>timeSeries</code> object is documented. By default a time series
object holds in the documentation slot a string with creation time and
the user who has defined it. But this is not all. Optionally the whole
creation process and history can be recorded. For this the
<code>@documentation</code> slot may have an optional <code>"Attributes"</code>
element. This attribute is tracked over the whole life time of the
object whenever the time series is changed. Whenever you like to be
informed about the optional attributes, or you like to recover them
you can dot it, and evenmore, whenever you like to add information as
an addiitonal attribute you can also do it.
</p>
<p>The two functions <code>getAttributes</code> and <code>setAttributes</code>
provide access to and allow to modify the optional attributes of a
<code>timeSeries</code> object.
</p>







<h3>Examples</h3>

<pre><code class='language-R'>
## Create an artificial 'timeSeries' Object - 
   tS &lt;- dummyMonthlySeries()
   tS

## Get Optional Attributes -
   getAttributes(tS)
   tS@documentation
   
## Set a new Optional Attribute -
   setAttributes(tS) &lt;- list(what="A dummy Series")
   tS
   getAttributes(tS)
   tS@documentation
</code></pre>

<hr>
<h2 id='cbind'>Bind 'timeSeries' objects by column or row</h2><span id='topic+cbind'></span><span id='topic+rbind'></span><span id='topic+cbind2'></span><span id='topic+rbind2'></span><span id='topic+cbind.timeSeries'></span><span id='topic+rbind.timeSeries'></span><span id='topic+cbind2+2CANY+2CtimeSeries-method'></span><span id='topic+cbind2+2CtimeSeries+2CANY-method'></span><span id='topic+cbind2+2CtimeSeries+2Cmissing-method'></span><span id='topic+cbind2+2CtimeSeries+2CtimeSeries-method'></span><span id='topic+rbind2+2CANY+2CtimeSeries-method'></span><span id='topic+rbind2+2CtimeSeries+2CANY-method'></span><span id='topic+rbind2+2CtimeSeries+2Cmissing-method'></span><span id='topic+rbind2+2CtimeSeries+2CtimeSeries-method'></span>

<h3>Description</h3>

<p>Binds <code>"timeSeries"</code> objects either by column or by row.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'timeSeries'
cbind(..., deparse.level = 1)
## S3 method for class 'timeSeries'
rbind(..., deparse.level = 1)

## S4 method for signature 'timeSeries,ANY'
cbind2(x, y)
## other methods for 'cbind2' with the same arguments, see Details

## S4 method for signature 'timeSeries,ANY'
rbind2(x, y)
## other methods for 'rbind2' with the same arguments, see Details
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cbind_+3A_x">x</code>, <code id="cbind_+3A_y">y</code></td>
<td>

<p>objects, at least one of whom is of class <code>"timeSeries"</code>.
</p>
</td></tr>
<tr><td><code id="cbind_+3A_...">...</code></td>
<td>

<p>further arguments to bind.
</p>
</td></tr>
<tr><td><code id="cbind_+3A_deparse.level">deparse.level</code></td>
<td>

<p>see the documentation of <code>base::cbind</code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>These functions bind the objects by row <code>rXXX</code> or column
(<code>cXXX</code>.
</p>
<p><code>cbind</code> and <code>rbind</code> are S3 generics, so the
<code>"timeSeries"</code> methods describe here are called only when the
first argument is <code>"timeSeries"</code>.
</p>
<p><code>cbind2</code> and <code>rbind2</code> are S4 generics which dispatch on the
first two arguments. The <code>"timeSeries"</code> methods for these are
invoked whenever at least one of the first two arguments is of class
<code>"timeSeries"</code>.
</p>
<p>All functions can be called with more than two arguments. After the
first two are merged, the result is merged with the third, and so on.
</p>


<h3>Value</h3>

<p>an object of class <code>"timeSeries"</code>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+merge">merge</a></code> for another way to merge <code>"timeSeries"</code>
object column-wise.
</p>
<p><code><a href="base.html#topic+rbind">rbind</a></code> and <code><a href="base.html#topic+cbind">cbind</a></code> from base R,
</p>
<p><code><a href="methods.html#topic+rbind2">rbind2</a></code> and <code><a href="methods.html#topic+cbind2">cbind2</a></code> from
package <code>"methods"</code>,
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Load Microsoft Data Set -
   x &lt;- MSFT[1:12, ]
   x

## Bind Columnwise -
   X &lt;- cbind(x[, "Open"], returns(x[, "Open"]))
   colnames(X) &lt;- c("Open", "Return")
   X

## Bind Rowwise - 
   Y &lt;- rbind(x[1:3, "Open"], x[10:12, "Open"])
   Y
</code></pre>

<hr>
<h2 id='colCum'>Cumulated column statistics</h2><span id='topic+colCum'></span><span id='topic+colCummaxs'></span><span id='topic+colCummins'></span><span id='topic+colCumprods'></span><span id='topic+colCumreturns'></span><span id='topic+colCumsums'></span><span id='topic+colCummaxs+2Cmatrix-method'></span><span id='topic+colCummaxs+2CtimeSeries-method'></span><span id='topic+colCummins+2Cmatrix-method'></span><span id='topic+colCummins+2CtimeSeries-method'></span><span id='topic+colCumprods+2Cmatrix-method'></span><span id='topic+colCumprods+2CtimeSeries-method'></span><span id='topic+colCumreturns+2Cmatrix-method'></span><span id='topic+colCumreturns+2CtimeSeries-method'></span><span id='topic+colCumsums+2Cmatrix-method'></span><span id='topic+colCumsums+2CtimeSeries-method'></span>

<h3>Description</h3>

<p>Functions to compute cumulative column statistics.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'timeSeries'
colCumsums(x, na.rm = FALSE, ...)

## S4 method for signature 'timeSeries'
colCummaxs(x, na.rm = FALSE, ...)

## S4 method for signature 'timeSeries'
colCummins(x, na.rm = FALSE, ...)

## S4 method for signature 'timeSeries'
colCumprods(x, na.rm = FALSE, ...)

## S4 method for signature 'timeSeries'
colCumreturns(x, method = c("geometric", "simple"),
                                     na.rm = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="colCum_+3A_x">x</code></td>
<td>

<p>a time series, may be an object of class <code>"matrix"</code>, or
<code>"timeSeries"</code>.
</p>
</td></tr>
<tr><td><code id="colCum_+3A_na.rm">na.rm</code></td>
<td>

<p>a logical. Should missing values be removed?
</p>
</td></tr>
<tr><td><code id="colCum_+3A_method">method</code></td>
<td>

<p>a character string to indicate if geometric (<code>TRUE</code>) or simple
(<code>FALSE</code>) returns should be computed.
</p>
</td></tr>
<tr><td><code id="colCum_+3A_...">...</code></td>
<td>

<p>arguments to be passed.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>These functions compute the requested cumulative quantities columnwise
to obtain a matrix of the same dimension as the data.  The
<code>"timeSeries"</code> methods replace the data part of the original
object with the resulting matrix.
</p>
<p>The <code>"timeSeries"</code> methods for the <code>Math</code> group functions
<code>cummin</code>, <code>cummax</code>, <code>cumsum</code>, and <code>cumprod</code>, 
work similarly but don't have the <code>na.rm</code> argument.
</p>


<h3>Value</h3>

<p><code>"matrix"</code> for the default methods of all functions,
</p>
<p><code>"timeSeries"</code> for the  <code>"timeSeries"</code> methods
</p>


<h3>See Also</h3>

<p><code><a href="#topic+Math+2CtimeSeries-method">Math,timeSeries-method</a></code>,
<code><a href="#topic+rowCumsums">rowCumsums</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## simulate return data
x &lt;- matrix(rnorm(24), ncol = 2)
X &lt;- as.timeSeries(x)
     
## cumulative sums  by column  -
class(colCumsums(x))  # "matrix"
class(colCumsums(X))  # "timeSeries"

colCumsums(X)
</code></pre>

<hr>
<h2 id='colStats'>Column statistics</h2><span id='topic+colStats'></span><span id='topic+colSums+2CtimeSeries-method'></span><span id='topic+colMeans+2CtimeSeries-method'></span><span id='topic+colSds'></span><span id='topic+colVars'></span><span id='topic+colSkewness'></span><span id='topic+colKurtosis'></span><span id='topic+colMaxs'></span><span id='topic+colMins'></span><span id='topic+colProds'></span><span id='topic+colQuantiles'></span><span id='topic+colStdevs'></span>

<h3>Description</h3>

<p>A collection of functions to compute column statistical properties of
financial and economic time series data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>colStats(x, FUN, ...) 

colSds(x, ...)
colVars(x, ...)
colSkewness(x, ...)
colKurtosis(x, ...)
colMaxs(x, ...)
colMins(x, ...)
colProds(x, ...)
colQuantiles(x, prob = 0.05, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="colStats_+3A_x">x</code></td>
<td>

<p>a rectangular object which can be transformed into a matrix
by the function <code>as.matrix</code>.  
</p>
</td></tr>
<tr><td><code id="colStats_+3A_fun">FUN</code></td>
<td>

<p>a function name, the statistical function to be applied.
</p>
</td></tr>
<tr><td><code id="colStats_+3A_prob">prob</code></td>
<td>

<p>a numeric value in [0,1].
</p>
</td></tr>
<tr><td><code id="colStats_+3A_...">...</code></td>
<td>

<p>arguments to be passed.
</p>
</td></tr>
</table>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;">  
    <code>colStats</code></td><td style="text-align: left;"> calculates column statistics, </td>
</tr>
<tr>
 <td style="text-align: left;">
    
    <code>colSums</code> </td><td style="text-align: left;"> calculates column sums, </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>colMeans</code> </td><td style="text-align: left;"> calculates column means, </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>colSds</code> </td><td style="text-align: left;"> calculates column standard deviations, </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>colVars</code> </td><td style="text-align: left;"> calculates column variances, </td>
</tr>
<tr>
 <td style="text-align: left;"> 
    <code>colSkewness</code> </td><td style="text-align: left;"> calculates column skewness, </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>colKurtosis</code> </td><td style="text-align: left;"> calculates column kurtosis, </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>colMaxs</code> </td><td style="text-align: left;"> calculates maximum values in each column, </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>colMins</code> </td><td style="text-align: left;"> calculates minimum values in each column, </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>colProds</code> </td><td style="text-align: left;"> computes product of all values in each column, </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>colQuantiles</code> </td><td style="text-align: left;"> computes quantiles of each column. </td>
</tr>

</table>



<h3>Value</h3>

<p>each function returns a numeric vector of the statistics, one for each
column
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rollStats">rollStats</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Simulated Return Data in Matrix Form -
   x = matrix(rnorm(252), ncol = 2)
     
## Mean Columnwise Statistics -
   colStats(x, FUN = mean)
   
## Quantiles Column by Column -
   colQuantiles(x, prob = 0.10, type = 1)  
</code></pre>

<hr>
<h2 id='comment'>Get and set comments for 'timeSeries' objects</h2><span id='topic+comment'></span><span id='topic+comment+3C-'></span><span id='topic+comment+2CtimeSeries-method'></span><span id='topic+comment+3C-+2CtimeSeries-method'></span>

<h3>Description</h3>

<p>Get or assign new comment to a <code>timeSeries</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'timeSeries'
comment(x)
## S4 replacement method for signature 'timeSeries'
comment(x) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="comment_+3A_x">x</code></td>
<td>

<p>a <code>timeSeries</code> object.
</p>
</td></tr>
<tr><td><code id="comment_+3A_value">value</code></td>
<td>

<p>a character vector, the comment.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Objects from class <code>"timeSeries"</code> have a slot for documentation.
These functions get and change its contents.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Get description from a 'timeSeries' -
   comment(LPP2005REC)
   
## Add User to comment -
   comment(LPP2005REC) &lt;- paste(comment(LPP2005REC), "by User Rmetrics")
   comment(LPP2005REC)
</code></pre>

<hr>
<h2 id='cumulated'>Cumulated time series from returns</h2><span id='topic+cumulated'></span><span id='topic+cumulated.default'></span>

<h3>Description</h3>

<p>Computes a cumulated financial <code>"timeSeries"</code>, e.g. prices or
indexes, from financial returns.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cumulated(x, ...)

## Default S3 method:
cumulated(x, method = c("continuous", "discrete", 
    "compound", "simple"), percentage = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cumulated_+3A_x">x</code></td>
<td>

<p>an object of class <code>timeSeries</code>.
</p>
</td></tr>
<tr><td><code id="cumulated_+3A_method">method</code></td>
<td>

<p>a character string, the method for computation of returns.
</p>
</td></tr> 
<tr><td><code id="cumulated_+3A_percentage">percentage</code></td>
<td>

<p>a logical value. By default <code>FALSE</code>, if <code>TRUE</code> the series
will be expressed in percentage changes.
</p>
</td></tr>   
<tr><td><code id="cumulated_+3A_...">...</code></td>
<td>

<p>ignored by the default method.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note, the function <code>cumulated</code> assumes as input discrete returns
from a price or index series. Only then the cumulated series agrees
with the original price or index series. The first values of the
cumulated series cannot be computed, it is assumed that the series is
indexed to 1.
</p>


<h3>Value</h3>

<p>a <code>"timeSeries"</code> object
</p>


<h3>See Also</h3>

<p><code><a href="#topic+returns">returns</a></code>,

<code><a href="#topic+drawdowns">drawdowns</a></code>,
<code><a href="#topic+splits">splits</a></code>,

<code><a href="#topic+midquotes">midquotes</a></code>,
<code><a href="#topic+index2wealth">index2wealth</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Use the Microsofts' Close Prices Indexed to 1 - 
   MSFT.CL &lt;- MSFT[, "Close"]
   MSFT.CL &lt;- MSFT.CL/MSFT[[1, "Close"]]
   head(MSFT.CL)

## Compute Discrete Return -    
   MSFT.RET &lt;- returns(MSFT.CL, method = "discrete")
   
## Cumulated Series and Compare - 
   MSFT.CUM &lt;- cumulated(MSFT.RET, method = "discrete") 
   head(cbind(MSFT.CL, MSFT.CUM))
</code></pre>

<hr>
<h2 id='DataPart+2CtimeSeries-method'>DataPart,timeSeries-method</h2><span id='topic+getDataPart+2CtimeSeries-method'></span><span id='topic+setDataPart+2CtimeSeries-method'></span>

<h3>Description</h3>

<p>Utilities called to implement object@.Data of <code>timeSeries</code>
objects.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Load Microsoft Data -
   X &lt;- MSFT[1:10, 1:4]
   
## Get Data Part - 
   DATA &lt;- getDataPart(X)
   class(DATA)
</code></pre>

<hr>
<h2 id='description'>Creates date and user information</h2><span id='topic+description'></span>

<h3>Description</h3>

<p>Creates and returns a string containing the user, the current datetime
and the user name.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>description()
</code></pre>


<h3>Examples</h3>

<pre><code class='language-R'>## Show Default Description String - 
   description()
</code></pre>

<hr>
<h2 id='diff'>Difference a 'timeSeries' object</h2><span id='topic+diff'></span><span id='topic+diff.timeSeries'></span>

<h3>Description</h3>

<p>Difference a <code>"timeSeries"</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'timeSeries'
diff(x, lag = 1, diff = 1, trim = FALSE, pad = NA, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="diff_+3A_x">x</code></td>
<td>

<p>an object of class <code>"timeSeries"</code>.
</p>
</td></tr>
<tr><td><code id="diff_+3A_lag">lag</code></td>
<td>

<p>an integer indicating which lag to use.
</p>
</td></tr>
<tr><td><code id="diff_+3A_diff">diff</code></td>
<td>

<p>an integer indicating the order of the difference.
</p>
</td></tr>
<tr><td><code id="diff_+3A_trim">trim</code></td>
<td>

<p>a logical flag. Should <code>NA</code>s at the beginning of the series be
removed?
</p>
</td></tr>
<tr><td><code id="diff_+3A_pad">pad</code></td>
<td>

<p>a numeric value with which <code>NA</code>s should be replaced at the
beginning of the series.
</p>
</td></tr>
<tr><td><code id="diff_+3A_...">...</code></td>
<td>

<p>currently not used.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the differenced <code>"timeSeries"</code> object
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+diff">diff</a></code> for <code style="white-space: pre;">&#8288;base::diff&#8288;</code>,
<code><a href="#topic+lag">lag</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## load Microsoft dataset
x &lt;- MSFT[1:12, ]
x

## compute differences
diff(x)   
   
## trimmed differences
diff(x, trim = TRUE) 

## padded differences
diff(x, trim = FALSE, pad = 0) 
</code></pre>

<hr>
<h2 id='dimnames'>Dimension and their names for 'timeSeries' objects</h2><span id='topic+dim+2CtimeSeries-method'></span><span id='topic+dim+3C-+2CtimeSeries-method'></span><span id='topic+dimnames+2CtimeSeries-method'></span><span id='topic+dimnames+3C-+2CtimeSeries+2Clist-method'></span><span id='topic+colnames+3C-+2CtimeSeries-method'></span><span id='topic+colnames+2CtimeSeries-method'></span><span id='topic+rownames+2CtimeSeries-method'></span><span id='topic+rownames+3C-+2CtimeSeries+2CtimeDate-method'></span><span id='topic+rownames+3C-+2CtimeSeries+2CANY-method'></span><span id='topic+names+2CtimeSeries-method'></span><span id='topic+names+3C-+2CtimeSeries-method'></span>

<h3>Description</h3>

<p>Get and assign names, row names, column names, and dim names of
<code>"timeSeries"</code> objects.
</p>


<h3>Details</h3>

<p><code>"timeSeries"</code> methods are available for base R functions working
on dimension names, including <code>dim</code>, <code>dimnames</code>,
<code>colnames</code>, <code>rownames</code>, <code>names</code> and their assignment
variants.
</p>
<p><code>dim</code> is the dimension of the underlying data matrix.
</p>
<p><code>rownames</code> gives the datetime stamps as a character
vector. <code>rownames&lt;-</code> sets them.
</p>
<p><code>colnames</code> gives the values of <code>x@units</code>. These are
conceptually the column names of the data matrix. <code>colnames&lt;-</code>
sets slot <code>units</code> of <code>x</code>.
</p>
<p><code>dimnames</code> gives <code>list(rownames(x), colnames(x)</code>.
<code>dimnames&lt;-</code> calls <code>rownames</code> and <code>colnames</code> on
<code>value[[1]]</code> and <code>value[[2]]</code>, respectively.
</p>


<h3>Note</h3>

<p>(GNB; todo) The <code>"dim&lt;-"</code>, currently converts <code>x</code> to a
vector if <code>value</code> is <code>NULL</code>, otherwise it ignores
<code>value</code>, does nothing and returns <code>x</code> unchanged. This
behaviour should not be relied upon and may be changed in the future,
e.g. by issuing warning when <code>value</code> is not <code>NULL</code>. Or
throwing error altogether if assignment with <code>"dim&lt;-"</code> is
attempted.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Load Swiss Pension Fund Benchmark Data -
   X &lt;- LPP2005REC[1:10, 1:3]
   
## Get Dimension - 
   dim(X)
   
## Get Column and Row Names -
   dimnames(X)
   
## Get Column / Row Names -
   colnames(X)
   rownames(X) 
   
## Try your own DIM - 
   DIM &lt;- function(x) {c(NROW(x), NCOL(x))}
   DIM(X) 
   DIM(X[, 1])

## Try length / LENGTH - 
   length(X)
   length(X[, 1])
   LENGTH &lt;- function(X) NROW(X)
   LENGTH(X)
   
## Columns / Rows - 
   ncol(X); NCOL(X)
   nrow(X); NROW(X)
                
## See also - 
   isUnivariate(X)
   isMultivariate(X)
</code></pre>

<hr>
<h2 id='drawdowns'>Calculations of drawdowns</h2><span id='topic+drawdowns'></span><span id='topic+drawdownsStats'></span>

<h3>Description</h3>

<p>Compute series of drawdowns from financial returns and calculate
drawdown statisitcs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>drawdowns(x, ...)

drawdownsStats(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="drawdowns_+3A_x">x</code></td>
<td>

<p>a <code>"timeSeries"</code> object of financial returns.  Note, drawdowns
can be calculated from an uni- or multivariate time deries object,
statistics can only be computed from an univariate time series
object.
</p>
</td></tr>
<tr><td><code id="drawdowns_+3A_...">...</code></td>
<td>

<p>optional arguments passed to <code>na.omit</code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The code in the core of the function <code>drawdownsStats</code>
was borrowed from the package <code>PerformanceAnalytics</code> 
authored by Peter Carl and Sankalp Upadhyay.
</p>


<h3>Value</h3>

<p>for <code>drawdowns</code>, an object of class <code>timeSeries</code>.
</p>
<p>for <code>drawdownsStats</code> an object of
class <code>"data.frame"</code> with the following components:
</p>
<table>
<tr><td><code>drawdown</code></td>
<td>
<p>the depth of the drawdown, </p>
</td></tr> 
<tr><td><code>from</code></td>
<td>
<p>the start date, </p>
</td></tr>  
<tr><td><code>trough</code></td>
<td>
<p>the trough period, </p>
</td></tr> 
<tr><td><code>to</code></td>
<td>
<p>the end date, </p>
</td></tr> 
<tr><td><code>length</code></td>
<td>
<p>the length in number of records, </p>
</td></tr> 
<tr><td><code>peaktrough</code></td>
<td>
<p>the peak trough, and </p>
</td></tr> 
<tr><td><code>recovery</code></td>
<td>
<p>the recovery length in number of records.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Peter Carl and Sankalp Upadhyay for code from the contributed R
package <code>PerformanceAnalytics</code> used in the function
<code>drawdownsStats</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+returns">returns</a></code>,
<code><a href="#topic+cumulated">cumulated</a></code>,

<code><a href="#topic+splits">splits</a></code>,

<code><a href="#topic+midquotes">midquotes</a></code>,
<code><a href="#topic+index2wealth">index2wealth</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Use Swiss Pension Fund Data Set of Returns - 
   head(LPP2005REC)
   SPI &lt;- LPP2005REC[, "SPI"]
   head(SPI)
   
## Plot Drawdowns - 
   dd = drawdowns(LPP2005REC[, "SPI"], main = "Drawdowns")
   plot(dd)
   dd = drawdowns(LPP2005REC[, 1:6], main = "Drawdowns")
   plot(dd)

## Compute Drawdowns Statistics - 
   ddStats &lt;- drawdownsStats(SPI)
   class(ddStats)
   ddStats
   
## Note, Only Univariate Series are allowd -
   ddStats &lt;- try(drawdownsStats(LPP2005REC))
   class(ddStats)
</code></pre>

<hr>
<h2 id='dummyTimeSeries'>Create dummy time series</h2><span id='topic+dummyTimeSeries'></span><span id='topic+dummyDailySeries'></span><span id='topic+dummyMonthlySeries'></span><span id='topic+dummySeries'></span>

<h3>Description</h3>

<p>Create dummy daily and monthly time series for examples and exploration.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dummyDailySeries(x = rnorm(365), units = NULL, zone = "", 
                 FinCenter = "")

dummyMonthlySeries(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dummyTimeSeries_+3A_x">x</code></td>
<td>

<p>an object of class <code>timeSeries</code>.
</p>
</td></tr>
<tr><td><code id="dummyTimeSeries_+3A_units">units</code></td>
<td>

<p>an optional character string, which allows to overwrite the current
column names of a <code>timeSeries</code> object. By default <code>NULL</code>
which means that the column names are selected automatically.
</p>
</td></tr>
<tr><td><code id="dummyTimeSeries_+3A_fincenter">FinCenter</code></td>
<td>

<p>a character with the the location of the financial center named as
<code>"continent/city"</code>.
</p>
</td></tr>
<tr><td><code id="dummyTimeSeries_+3A_zone">zone</code></td>
<td>

<p>the time zone or financial center where the data were recorded.
</p>
</td></tr>
<tr><td><code id="dummyTimeSeries_+3A_...">...</code></td>
<td>

<p>optional arguments passed to <code>timeSeries</code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>dummyDailySeries</code> creates a <code>timeSeries</code> object with
dummy daily dates from a numeric matrix with daily records of
unknown dates.
</p>
<p><code>dummyMonthlySeries</code> creates a dummy monthly <code>"timeSeries"</code> object.
</p>


<h3>Value</h3>

<p>a <code>"timeSeries"</code> object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dd &lt;- dummyDailySeries()
head(dd)
tail(dd)

dummyMonthlySeries(y = 2022)
</code></pre>

<hr>
<h2 id='durations'>Durations from a 'timeSeries'</h2><span id='topic+durations'></span><span id='topic+durationSeries'></span>

<h3>Description</h3>

<p>Computes durations from an object of class <code>"timeSeries"</code>.  
</p>


<h3>Usage</h3>

<pre><code class='language-R'>  
durations(x, trim = FALSE, units = c("secs", "mins", "hours", "days"))   
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="durations_+3A_x">x</code></td>
<td>

<p>an object of class <code>"timeSeries"</code>.
</p>
</td></tr>
<tr><td><code id="durations_+3A_trim">trim</code></td>
<td>

<p>a logical value. By default <code>TRUE</code>, the first missing
observation in the return series will be removed.
</p>
</td></tr>
<tr><td><code id="durations_+3A_units">units</code></td>
<td>

<p>a character value or vector which allows to set the units in which
the durations are measured. By default durations are measured in
seconds.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Durations measure how long it takes until we get the next record in a
<code>timesSeries</code> object. We return a time series in which for each
time stamp we get the length of the period from when we got the last
record. This period is measured in length specified by the argument
<code>units</code>, for daily data use <code>units="days"</code>.
</p>


<h3>Value</h3>

<p>an object of class <code>"timeSeries"</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Compute Durations in days for the MSFT Sereries - 
   head(durations(MSFT, units = "days"))
   head(durations(MSFT, trim = TRUE, units = "days"))

## The same in hours - 
   head(durations(MSFT, trim = TRUE, units = "hours"))
</code></pre>

<hr>
<h2 id='filter'>Linear filtering on a time series</h2><span id='topic+filter'></span><span id='topic+filter+2CtimeSeries-method'></span>

<h3>Description</h3>

<p>Applies linear filtering to a univariate <code>"timeSeries"</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'timeSeries'
filter(x, filter, method = c("convolution", "recursive"), sides = 2, 
       circular = FALSE, init = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="filter_+3A_x">x</code></td>
<td>

<p>an object from class <code>"timeSeries"</code>.
</p>
</td></tr>
<tr><td><code id="filter_+3A_filter">filter</code></td>
<td>

<p>coefficients of the filter.
</p>
</td></tr>
<tr><td><code id="filter_+3A_method">method</code></td>
<td>

<p><code>"convolution"</code> or <code>"recursive"</code>.
</p>
</td></tr>
<tr><td><code id="filter_+3A_sides">sides</code>, <code id="filter_+3A_circular">circular</code></td>
<td>

<p>for convolution filters only.  Onesided if <code>sides = 1</code>, centred
around lag 0 if <code>sides = 2</code>. Circular if <code>circular =
    TRUE.</code>
</p>
</td></tr>
<tr><td><code id="filter_+3A_init">init</code></td>
<td>

<p>for recursive filters only. Values before the start of the time
series.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>filter</code> is a generic function with default method
<code>stats::filter</code>.  The method for <code>"timeSeries"</code> is a wrapper
for the latter.
</p>
<p>See <code>?stats::filter</code> for details about the arguments.
</p>


<h3>Value</h3>

<p>a <code>"timeSeries"</code> object
</p>


<h3>See Also</h3>

<p>base R function <code><a href="stats.html#topic+filter">filter</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Creata a dummy signal 'timeSeries' - 
   data &lt;- matrix(rnorm(100), ncol = 2)
   s &lt;- timeSeries(data, units=c("A", "B"))
   head(s)
   
## Filter the series - 
   f &lt;- filter(s, rep(1, 3))
   head(f)
   
## Plot and compare the first series - 
   plot(cbind(s[, 1], f[, 1]), plot.type="s")
</code></pre>

<hr>
<h2 id='finCenter'>Get and set Financial center of a 'timeSeries'</h2><span id='topic+finCenter'></span><span id='topic+finCenter+3C-'></span><span id='topic+finCenter+2CtimeSeries-method'></span><span id='topic+finCenter+3C-+2CtimeSeries-method'></span><span id='topic+getFinCenter'></span><span id='topic+setFinCenter+3C-'></span>

<h3>Description</h3>

<p>Get or assign a financial center to a <code>"timeSeries"</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'timeSeries'
finCenter(x)
## S4 replacement method for signature 'timeSeries'
finCenter(x) &lt;- value

getFinCenter(x)         
setFinCenter(x) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="finCenter_+3A_x">x</code></td>
<td>

<p>a <code>"timeSeries"</code> object.
</p>
</td></tr>
<tr><td><code id="finCenter_+3A_value">value</code></td>
<td>

<p>a character with the the location of the financial center named 
as <code>"continent/city"</code>.
</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="timeDate.html#topic+listFinCenter">listFinCenter</a></code> and <code><a href="timeDate.html#topic+finCenter">finCenter</a></code>
in package <code>"timeDate"</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## An artificial 'timeSeries' Object - 
   tS &lt;- dummyMonthlySeries()
   tS

## Print Financial Center -
   finCenter(tS)
   getFinCenter(tS)

## Assign New Financial Center - 
   finCenter(tS) &lt;- "Zurich"
   tS
   setFinCenter(tS) &lt;- "New_York"
   tS
</code></pre>

<hr>
<h2 id='internals'>Exported internal functions</h2><span id='topic+.colorwheelPalette'></span>

<h3>Description</h3>

<p>Internal functions which are still exported only because some packages
are using them. The intent is to stop exporting or removing them.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.colorwheelPalette(n)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="internals_+3A_n">n</code></td>
<td>
 </td></tr>
</table>


<h3>Details</h3>

<p>If you think that any of these functions are useful and don't have
exported analogs, please contact the maintainer.
</p>

<hr>
<h2 id='is.timeSeries'>Check if an object is from class 'timeSeries'</h2><span id='topic+is.timeSeries'></span><span id='topic+is.signalSeries'></span>

<h3>Description</h3>

<p><code>is.timeSeries</code> tests if its argument is a <code>timeSeries</code>.
<code>is.signalSeries</code> tests if series has no timestamps.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.timeSeries(x)
is.signalSeries(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is.timeSeries_+3A_x">x</code></td>
<td>
  
<p>an object.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a logical value, <code>TRUE</code> or <code>FALSE</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Create an artificial 'timeSeries' object - 
   setRmetricsOptions(myFinCenter = "GMT")
   charvec &lt;- timeCalendar()
   data &lt;- matrix(rnorm(12))
   TS &lt;- timeSeries(data, charvec, units = "RAND")
   TS

## Test for 'timeSeries' - 
   is.timeSeries(TS)
</code></pre>

<hr>
<h2 id='isRegular'>Checks if a time series is regular</h2><span id='topic+isRegular'></span><span id='topic+isRegular+2CtimeSeries-method'></span><span id='topic+isRegular.timeSeries'></span><span id='topic+isDaily'></span><span id='topic+isDaily+2CtimeSeries-method'></span><span id='topic+isDaily.timeSeries'></span><span id='topic+isMonthly'></span><span id='topic+isMonthly+2CtimeSeries-method'></span><span id='topic+isMonthly.timeSeries'></span><span id='topic+isQuarterly'></span><span id='topic+isQuarterly+2CtimeSeries-method'></span><span id='topic+isQuarterly.timeSeries'></span><span id='topic+frequency'></span><span id='topic+frequency+2CtimeSeries-method'></span><span id='topic+frequency.timeSeries'></span>

<h3>Description</h3>

<p>Checks if a time series is regular. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'timeSeries'
isDaily(x)
## S4 method for signature 'timeSeries'
isMonthly(x)
## S4 method for signature 'timeSeries'
isQuarterly(x)

## S4 method for signature 'timeSeries'
isRegular(x)

## S4 method for signature 'timeSeries'
frequency(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="isRegular_+3A_x">x</code></td>
<td>
  
<p>an R object of class 'timeSeries'.
</p>
</td></tr>
<tr><td><code id="isRegular_+3A_...">...</code></td>
<td>

<p>arguments to be passed.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>What is a regular time series? If a time series is daily, monthly, or
weekly, then we speak of a regular series.  This can be tested calling
the functions <code>isDaily</code>, <code>isMonthly</code>, <code>isQuarterly</code>, or
in general <code>isRegular</code>. If the series is regular then its
frequency can be determined by calling <code>frequency</code>.
</p>
<p>Here are the definitions of daily, monthly, and quarterly time series:
</p>

<dl>
<dt>daily</dt><dd><p>if the series has no more than one date/time stamp per
day.</p>
</dd>
<dt>monthly</dt><dd><p>if the series has no more than one date/time stamp
per month.</p>
</dd>
<dt>quarterly</dt><dd><p>if the series has no more than one date/time stamp
per quarter.</p>
</dd>
</dl>

<p>A regular series is either a monthly or a quarterly series.
</p>
<p>Note that with the above definitions a monthly series is also a daily
series, a quarterly series is also a monthly series. On the other
hand, a daily series is not regular!
</p>
<p>NOT yet implemented is the case of weekly series.
</p>


<h3>Value</h3>

<p>The <code>is*</code> functions return <code>TRUE</code> or <code>FALSE</code> depending 
on whether the series fulfills the condition or not.<br />
</p>
<p><code>frequency</code> returns in general 1, for quarterly series 4,
and for monthly series 12.
</p>


<h3>See Also</h3>

<p><code><a href="timeDate.html#topic+isRegular">isRegular</a></code>
<code><a href="stats.html#topic+frequency">frequency</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(MSFT)
isRegular(MSFT) # FALSE
frequency(MSFT) # 1

## a monthly ts
ap &lt;- as.timeSeries(AirPassengers)
isRegular(ap) # TRUE
frequency(ap) # 12

## a quarterly ts
pres &lt;- as.timeSeries(presidents)
isRegular(pres) # TRUE
frequency(pres) # 4
</code></pre>

<hr>
<h2 id='isUnivariate'>Checks if a time series is univariate</h2><span id='topic+isUnivariate'></span><span id='topic+isMultivariate'></span>

<h3>Description</h3>

<p>Checks if a time series object or any other rectangular object is
univariate or multivariate.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>isUnivariate(x)
isMultivariate(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="isUnivariate_+3A_x">x</code></td>
<td>
 
<p>an object of class <code>"timeSeries"</code> or any other rectangular
object.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A rectangular object <code>x</code> is considered to be univariate if the
function <code>NCOL(x)</code> returns one, and is considered to be
multivariate if <code>NCOL(x)</code> returns a value bigger than one.
</p>


<h3>Value</h3>

<p>a logical value
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Load Microsoft Data - 
   setRmetricsOptions(myFinCenter = "GMT")
   data(MSFT)
   Open = MSFT[, "Open"]
  
## Is the 'timeSeries' Univariate - 
   isUnivariate(MSFT)
   isUnivariate(Open)

## Is the 'timeSeries' Multivariate -   
   isMultivariate(MSFT)
   isMultivariate(Open)
</code></pre>

<hr>
<h2 id='lag'>Lag a 'timeSeries' object</h2><span id='topic+lag'></span><span id='topic+lag.timeSeries'></span>

<h3>Description</h3>

<p>Compute a lagged version of a <code>"timeSeries"</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'timeSeries'
lag(x, k = 1, trim = FALSE, units = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lag_+3A_x">x</code></td>
<td>

<p>an object of class <code>timeSeries</code>.
</p>
</td></tr> 
<tr><td><code id="lag_+3A_k">k</code></td>
<td>

<p>an integer number, the number of lags (in units of observations).
By default 1. Can also be a vector, in which case the result is a
multivariate <code>"timeSeries"</code> in which column <code>i</code> contains
the series lagged by <code>k[i]</code>, see the examples.
</p>
</td></tr>        
<tr><td><code id="lag_+3A_trim">trim</code></td>
<td>

<p>a logical value. By default <code>TRUE</code>, the first missing
observation in the return series will be removed.
</p>
</td></tr>
<tr><td><code id="lag_+3A_units">units</code></td>
<td>

<p>an optional character string, which allows to overwrite the current
column names of a <code>"timeSeries"</code> object. By default <code>NULL</code>
which means that the column names are selected automatically.
</p>
</td></tr>
<tr><td><code id="lag_+3A_...">...</code></td>
<td>

<p>arguments passed to other methods.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an object of class <code>"timeSeries"</code>
</p>


<h3>See Also</h3>

<p><code><a href="stats.html#topic+lag">lag</a></code> for <code style="white-space: pre;">&#8288;stats::lag&#8288;</code>,
<code><a href="#topic+diff">diff</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Load Micsrosoft Data Set
x &lt;- MSFT[1:20, "Open"]
   
## Lag the 'timeSeries' Object
lag(x, k = -1:1)
</code></pre>

<hr>
<h2 id='math'>Mathematical operations on 'timeSeries'</h2><span id='topic+math'></span><span id='topic+Math+2CtimeSeries-method'></span><span id='topic+Math2+2CtimeSeries-method'></span><span id='topic+Summary+2CtimeSeries-method'></span><span id='topic+Ops+2Cvector+2CtimeSeries-method'></span><span id='topic+Ops+2Carray+2CtimeSeries-method'></span><span id='topic+Ops+2Cts+2CtimeSeries-method'></span><span id='topic+Ops+2CtimeSeries+2Cvector-method'></span><span id='topic+Ops+2CtimeSeries+2Carray-method'></span><span id='topic+Ops+2CtimeSeries+2Cts-method'></span><span id='topic+Ops+2CtimeSeries+2CtimeSeries-method'></span><span id='topic+cummax+2CtimeSeries-method'></span><span id='topic+cummin+2CtimeSeries-method'></span><span id='topic+cumprod+2CtimeSeries-method'></span><span id='topic+cumsum+2CtimeSeries-method'></span><span id='topic+trunc+2CtimeSeries-method'></span><span id='topic+log+2CtimeSeries-method'></span><span id='topic+quantile'></span><span id='topic+quantile.timeSeries'></span><span id='topic+median'></span><span id='topic+median.timeSeries'></span>

<h3>Description</h3>

<p>Functions and methods for mathematical operations on <code>"timeSeries"</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'timeSeries,timeSeries'
Ops(e1, e2)
## S4 method for signature 'timeSeries'
Math(x)
## S4 method for signature 'timeSeries'
Math2(x, digits)

## S3 method for class 'timeSeries'
quantile(x, ...)
## S3 method for class 'timeSeries'
median(x, na.rm = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="math_+3A_x">x</code></td>
<td>

<p>an object of class <code>timeSeries</code>.
</p>
</td></tr>
<tr><td><code id="math_+3A_digits">digits</code></td>
<td>

<p>number of digits to be used in 'round' or 'signif'.
</p>
</td></tr>
<tr><td><code id="math_+3A_e1">e1</code>, <code id="math_+3A_e2">e2</code></td>
<td>

<p>at least one of the two objects is from class <code>"timeSeries"</code>
(for the methods described on this page).
</p>
</td></tr>
<tr><td><code id="math_+3A_na.rm">na.rm</code></td>
<td>

<p>a logical value: should missing values be removed?
</p>
</td></tr>
<tr><td><code id="math_+3A_...">...</code></td>
<td>

<p>arguments to be passed.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The methods for the <code>Math</code> and <code>Math2</code> groups of
mathematical functions return 'timeSeries' objects. Most of them work
element-wise on the data part of the time series with the exception of
<code>cummin</code>, <code>cummax</code>, <code>cumsum</code>, and <code>cumprod</code> which
work columnwise.
</p>
<p>The <code>Ops</code> group includes mathematical operators. For the binary
operators methods are defined for pairs of at least one 'timeSeries'
object.  These work as expected on the data parts of the arguments.
If the operation gives a value of the same dimension as the data part
of the 'timeSeries' object, it replaces the original data in the
object.
</p>
<p>There are also methods for <code>quantile</code> and <code>median</code>.
</p>


<h3>Value</h3>

<p>the value from a mathematical or logical operation operating on
objects of class <code>"timeSeries"</code> or the value computed by a
mathematical function.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+colCum">colCumXXX</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## create an artificial 'timeSeries' object
setRmetricsOptions(myFinCenter = "GMT")
charvec = timeCalendar()
set.seed(4711)
data = matrix(exp(cumsum(rnorm(12, sd = 0.1))))
TS = timeSeries(data, charvec, units = "TS")
TS

## mathematical operations: | +/- * ^ ...
TS^2
TS[2:4]
OR = returns(TS)
OR
OR &gt; 0

## median, quantile
median(TS)
quantile(TS)

TS[3] &lt;- NA # to demonstrate 'na.rm'
median(TS)   # NA
#quantile(TS) # error

median(TS, na.rm = TRUE)   
quantile(TS, na.rm = TRUE)
</code></pre>

<hr>
<h2 id='merge'>Merge 'timeSeries' objects</h2><span id='topic+merge'></span><span id='topic+merge-methods'></span><span id='topic+merge+2CANY+2CANY-method'></span><span id='topic+merge+2CANY+2CtimeSeries-method'></span><span id='topic+merge+2Cmatrix+2CtimeSeries-method'></span><span id='topic+merge+2Cnumeric+2CtimeSeries-method'></span><span id='topic+merge+2CtimeSeries+2CANY-method'></span><span id='topic+merge+2CtimeSeries+2Cmatrix-method'></span><span id='topic+merge+2CtimeSeries+2Cmissing-method'></span><span id='topic+merge+2CtimeSeries+2Cnumeric-method'></span><span id='topic+merge+2CtimeSeries+2CtimeSeries-method'></span>

<h3>Description</h3>

<p>Merges several object types with <code>"timeSeries"</code> objects.  The
number of rows must match.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>merge(x, y, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="merge_+3A_x">x</code>, <code id="merge_+3A_y">y</code></td>
<td>

<p>objects to merge, at least one of class <code>"timeSeries"</code>.
</p>
</td></tr>
<tr><td><code id="merge_+3A_...">...</code></td>
<td>
<p>further objects to merge.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>"timeSeries"</code> object
</p>


<h3>Methods</h3>


<dl>
<dt><code>signature(x = "timeSeries", y = "missing")</code></dt><dd>

</dd>
<dt><code>signature(x = "timeSeries", y = "ANY")</code></dt><dd>

</dd>
<dt><code>signature(x = "timeSeries", y = "matrix")</code></dt><dd>

</dd>
<dt><code>signature(x = "timeSeries", y = "numeric")</code></dt><dd>

</dd>
<dt><code>signature(x = "timeSeries", y = "timeSeries")</code></dt><dd>

</dd>
<dt><code>signature(x = "ANY", y = "ANY")</code></dt><dd>

</dd>
<dt><code>signature(x = "ANY", y = "timeSeries")</code></dt><dd>

</dd>
<dt><code>signature(x = "matrix", y = "timeSeries")</code></dt><dd>

</dd>
<dt><code>signature(x = "numeric", y = "timeSeries")</code></dt><dd>

</dd>
</dl>



<h3>See Also</h3>

<p><code><a href="#topic+cbind">cbind</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Load Series -
   x &lt;- MSFT[1:12, ]

## Merge 'timeSeries' with missing Object -
   merge(x)


## Merge 'timeSeries' with numeric Object -
   y &lt;- rnorm(12)
   class(y)
   merge(x, y)

## Merge 'timeSeries' with matrix Object -
   y &lt;- matrix(rnorm(24), ncol=2)
   class(y)
   merge(x, y)

## Merge 'timeSeries' with matrix Object -
   y &lt;- timeSeries(data=rnorm(12), charvec=time(x))
   class(y)
   merge(x, y)
</code></pre>

<hr>
<h2 id='monthly'>Special monthly series</h2><span id='topic+monthly'></span><span id='topic+countMonthlyRecords'></span><span id='topic+rollMonthlyWindows'></span><span id='topic+rollMonthlySeries'></span>

<h3>Description</h3>

<p>Functions and methods dealing with special monthly 
<code>"timeSeries"</code> objects.      
</p>


<h3>Usage</h3>

<pre><code class='language-R'>   
rollMonthlyWindows(x, period = "12m", by = "1m") 

rollMonthlySeries(x, period = "12m", by = "1m", FUN, ...)
countMonthlyRecords(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="monthly_+3A_x">x</code></td>
<td>

<p>a <code>"timeSeries"</code> object.
</p>
</td></tr>  
<tr><td><code id="monthly_+3A_period">period</code>, <code id="monthly_+3A_by">by</code></td>
<td>

<p>character strings specifying the rollling period composed by the
length of the period and its unit. Examples: <code>"3m"</code>,
<code>"6m"</code>, <code>"12m"</code>, and <code>"24m"</code> represent quarterly,
semi-annual, annual and bi-annual shifts, respectively.  It is the
responsibility of the user to determine proper start of the series.
</p>
</td></tr> 
<tr><td><code id="monthly_+3A_fun">FUN</code></td>
<td>

<p>the function for the statistic to be applied. For example,
<code>colMean</code> in the case of aggregation.
</p>
</td></tr>
<tr><td><code id="monthly_+3A_...">...</code></td>
<td>

<p>arguments passed to the function <code>FUN</code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>rollMonthlySeries</code> computes the statistics defined by the
function <code>FUN</code> over rolling windows, internally computed by the
function <code>rollMonthlyWindows</code>.  Note, the periods may be
overlapping, may be dense, or even may have gaps.
</p>
<p><code>countMonthlyRecords</code> computes a <code>"timeSeries"</code> that holds
the number of records for each month, see examples. The dates are set
to the end of the month.
</p>
<p><code>rollMonthlyWindows</code> computes start and end dates for rolling
time windows. Argument <code>period</code> specifies the length of the
periods over which <code>FUN</code> is applied, while <code>by</code> gives the
amount by which the window is shifted. Non-overlapping windows
correspond to <code>by &gt;= period</code>. 
</p>


<h3>Value</h3>

<p>for <code>countMonthlyRecords</code> and <code>rollMonthlySeries</code>,
a <code>"timeSeries"</code> object.
</p>
<p>for <code>rollMonthlyWindows</code>, a list with attribute <code>"control"</code> keeping
the <code>start</code> and <code>end</code> dates of the series.
The components of the list are:
</p>
<table>
<tr><td><code>from</code></td>
<td>
<p>an object from class <code>"timeDate"</code>.</p>
</td></tr>
<tr><td><code>to</code></td>
<td>
<p>an object from class <code>"timeDate"</code>.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+isMonthly">isMonthly</a></code>,
<code><a href="#topic+isRegular">isRegular</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## load Microsoft daily dataset
x &lt;- MSFT 

## count monthly records
head(x)   # 3 obs. for Sep 2000
counts &lt;- countMonthlyRecords(x)
counts

## diy computation of the counts
diy &lt;- rollMonthlySeries(x[ , 1], period = "1m", by = "1m", FUN = NROW)

## difference is only in some attributes (e.g. column names)
all.equal(diy,  counts)

   
## quaterly non-overlapping time periods
windows &lt;- rollMonthlyWindows(counts[-1, ], period = "3m", by = "3m") 
windows
## nicely print results as a data.frame, each row is a time window
data.frame(cbind(FROM = format(windows$from), TO = format(windows$to)))
   
## compute the average number of monthly trading days per quarter
rollMonthlySeries(counts[-1, ], period = "3m", by = "3m", FUN = mean)
</code></pre>

<hr>
<h2 id='na'>Handle missing values in 'timeSeries' objects</h2><span id='topic+na'></span><span id='topic+na.omit'></span><span id='topic+na.omit.timeSeries'></span>

<h3>Description</h3>

<p>Functions for handling missing values in <code>"timeSeries"</code> objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'timeSeries'
na.omit(object, method = c("r", "s", "z", "ir", "iz", "ie"), 
    interp = c("before", "linear", "after"), FUN, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="na_+3A_object">object</code></td>
<td>
 
<p>an object of class <code>"timeSeries"</code>.
</p>
</td></tr>
<tr><td><code id="na_+3A_method">method</code></td>
<td>

<p>the method of handling NAs, see section &lsquo;Details&rsquo;. 
</p>
</td></tr>
<tr><td><code id="na_+3A_interp">interp</code></td>
<td>

<p>Three alternative methods are provided to remove NAs from the
data: 
<code>type="zeros"</code> replaces the missing values with zeros,
<code>type="mean"</code> replaces the missing values with the column mean,
<code>type="median"</code> replaces the missing values with the column
median.
</p>
</td></tr>
<tr><td><code id="na_+3A_fun">FUN</code></td>
<td>

<p>a function or a name of a function, such as <code>"mean"</code> or
<code>median</code>. <code>FUN</code> is applied to the non-NA values in each
column to determine the replacement value. The call looks like
<code>FUN(coli, na.rm = TRUE)</code>, so <code>FUN</code> should have argument
<code>na.rm</code>. All arguments except <code>object</code> are ignored if
<code>FUN</code> is specified.
</p>
</td></tr>
<tr><td><code id="na_+3A_...">...</code></td>
<td>

<p>arguments to be passed to the function <code>as.matrix</code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Functions for handling missing values in <code>"timeSeries"</code> objects 
and in objects which can be transformed into a vector or a two 
dimensional matrix.
</p>
<p>For <code>na.omit</code> argument <code>method</code> specifies how to handle
<code>NA</code>s.  Can be one of the following strings:
</p>

<dl>
<dt>method = &quot;s&quot;</dt><dd><p><code>na.rm = FALSE</code>, skip, i.e. do nothing, </p>
</dd>
<dt>method = &quot;r&quot;</dt><dd><p>remove NAs,</p>
</dd>
<dt>method = &quot;z&quot;</dt><dd><p>substitute NAs by zeros,</p>
</dd> 
<dt>method = &quot;ir&quot;</dt><dd><p>interpolate NAs and remove NAs at the
beginning and end of the series,</p>
</dd>
<dt>method = &quot;iz&quot;</dt><dd><p>interpolate NAs and substitute NAs at the
beginning and end of the series,</p>
</dd>
<dt>method = &quot;ie&quot;</dt><dd><p>interpolate NAs and extrapolate NAs at the
beginning and end of theseries.</p>
</dd>
</dl>
































<h3>Note</h3>

<p>When dealing with daily data sets, there exists another function
<code>alignDailySeries</code> which can handle missing data in un-aligned
calendrical <code>"timeSeries"</code> objects.
</p>



<p><strong>Additional remarks by GNB:</strong>
</p>
<p><code>removeNA(x)</code> is equivalent to <code>na.omit(x)</code> or
<code>na.omit(x), methods = "r"</code>.
</p>
<p><code>interpNA</code> can be replaced by a call to <code>na.omit</code> with
argument method equal to <code>ir</code>, <code>iz</code>, or <code>ie</code>, and
argument <code>"interp"</code> equal to the <code>"method"</code> argument for
<code>interpNA</code> (note that the defaults are not the same).
</p>
<p><code>substituteNA(x, type = "zeros")</code> is equivalent to
<code>na.omit(x, method = "z")</code>. For other values of <code>type</code> one
can use argument <code>FUN</code>, as in <code>na.omit(x, FUN = "mean")</code>.
</p>
<p>A final remark: the three deprecated functions are non-generic.
<code>removeNA(x)</code> is completely redundant as it simply calls
<code>na.omit</code>. The other two however may be useful for matrix-like
objects. Please inform the maintainer of the package if you use them
on objects other than from class <code>"timeSeries"</code> and wish them
kept in the future.
</p>


<h3>References</h3>

<p>Troyanskaya O., Cantor M., Sherlock G., Brown P., Hastie T., 
Tibshirani R., Botstein D., Altman R.B., (2001); 
<em>Missing Value Estimation Methods for DNA microarrays</em>
Bioinformatics 17, 520&ndash;525.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+alignDailySeries">alignDailySeries</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>X &lt;- matrix(rnorm(100), ncol = 5)  # Create a Matrix X
X[3, 5] &lt;- NA                      # Replace a Single NA Inside
X[17, 2:4] &lt;- c(NA, NA, NA)        # Replace Three in a Row Inside
X[13:15, 4] &lt;- c(NA, NA, NA)       # Replace Three in a Column Inside
X[11:12, 5] &lt;- c(NA, NA)           # Replace Two at the Right Border
X[20, 1] &lt;- NA                     # Replace One in the Lower Left Corner
X
Xts &lt;- timeSeries(X)  # convert X to timeSeries Xts

## remove rows with NAs
na.omit(Xts)

## Subsitute NA's with zeros or column means (formerly substituteNA())
na.omit(Xts, method = "z")
na.omit(Xts, FUN = "mean")
na.omit(Xts, FUN = "median")

## Subsitute NA's with a trimmed mean
na.omit(Xts, FUN = function(x, na.rm) mean(x, trim = 0.10, na.rm = na.rm))

## interpolate NA's linearily (formerly interpNA())
na.omit(X, method = "ir", interp = "linear")
na.omit(X, method = "iz", interp = "linear")
na.omit(X, method = "ie", interp = "linear")
   
## take previous values in a column
na.omit(X, method = "ir", interp = "before")
na.omit(X, method = "iz", interp = "before")
na.omit(X, method = "ie", interp = "before")


## examples with X (which is a matrix, not "timeSeries")
## (these examples are not run automatically as these functions are
## deprecated.) 
if(FALSE){
## Remove Rows with NAs
removeNA(X)
   
## subsitute NA's by zeros or column means
substituteNA(X, type = "zeros")
substituteNA(X, type = "mean")
   
## interpolate NA's linearily
interpNA(X, method = "linear")
# Note the corner missing value cannot be interpolated!
   
## take previous values in a column
interpNA(X, method = "before")
# Also here, the corner value is excluded
}
</code></pre>

<hr>
<h2 id='na.contiguous'>Find longest contiguous stretch of non-NAs or check for NAs</h2><span id='topic+na.contiguous'></span><span id='topic+na.contiguous.timeSeries'></span><span id='topic+is.na'></span><span id='topic+is.na+2CtimeSeries-method'></span>

<h3>Description</h3>

<p>Find the longest consecutive stretch of non-missing values in a
<code>"timeSeries"</code> object. In the event of a tie, the first such
stretch. Also, <code>"timeSeries"</code> method for <code>is.na</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'timeSeries'
na.contiguous(object, ...)
## S4 method for signature 'timeSeries'
is.na(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="na.contiguous_+3A_object">object</code>, <code id="na.contiguous_+3A_x">x</code></td>
<td>

<p>a <code>"timeSeries"</code> object.
</p>
</td></tr>
<tr><td><code id="na.contiguous_+3A_...">...</code></td>
<td>

<p>further arguments passed to other methods.
</p>
</td></tr>  
</table>


<h3>Value</h3>

<p>for the <code>na.contiguous</code> method, a <code>"timeSeries"</code> object
without missing values,
</p>
<p>for the <code>is.na</code> method, a <code>"timeSeries"</code> object whose data
part is a logical matrix of the same dimension as in <code>x</code> indicating 
if the corresponding values are <code>NA</code> or not.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Dummy 'timeSeries' containing NAs

data &lt;- matrix(sample(c(1:20, rep(NA,4))), ncol = 2)
s &lt;- timeSeries(data, timeCalendar(2023))
is.na(s)  
## Find the longest consecutive non-missing values
na.contiguous(s)

## tied longest stretches: 1:3, 6:9 and 10:12
x &lt;- c(1:3, NA, NA, 6:8, NA, 10:12)
## should return the 1st one
na.contiguous(x)             # correct for R &gt; 4.3.0
na.contiguous(timeSeries(x)) # correct for timeSeries version &gt; 4030.106 
</code></pre>

<hr>
<h2 id='orderColnames'>Reorder column names of a time series</h2><span id='topic+orderColnames'></span><span id='topic+sortColnames'></span><span id='topic+sampleColnames'></span><span id='topic+statsColnames'></span><span id='topic+pcaColnames'></span><span id='topic+hclustColnames'></span>

<h3>Description</h3>

<p>Functions and methods dealing with the rearrangement
of column names of 'timeSeries' objects. 
<br />
</p>

<table>
<tr>
 <td style="text-align: left;">
    <code>orderColnames</code> </td><td style="text-align: left;"> Returns ordered column names of a time Series, </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>sortColnames</code> </td><td style="text-align: left;"> Returns sorted column names of a time Series, </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>sampleColnames</code> </td><td style="text-align: left;"> Returns sampled column names of a time Series, </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>statsColnames</code> </td><td style="text-align: left;"> Returns statistically rearranged column names, </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>pcaColnames</code> </td><td style="text-align: left;"> Returns PCA correlation ordered column names, </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>hclustColnames</code> </td><td style="text-align: left;"> Returns hierarchical clustered column names. </td>
</tr>

</table>



<h3>Usage</h3>

<pre><code class='language-R'>orderColnames(x, ...)
sortColnames(x, ...)  
sampleColnames(x, ...) 
statsColnames(x, FUN = colMeans, ...)
pcaColnames(x, robust = FALSE, ...)
hclustColnames(x, method = c("euclidean", "complete"), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="orderColnames_+3A_x">x</code></td>
<td>

<p>an object of class <code>timesSeries</code> or any other rectangular
object which can be transformed by the function <code>as.matrix</code>
into a numeric matrix.
</p>
</td></tr>
<tr><td><code id="orderColnames_+3A_fun">FUN</code></td>
<td>
 
<p>a character string indicating which statistical function should be
applied. By default statistical ordering operates on the column
means of the time series.
</p>
</td></tr>
<tr><td><code id="orderColnames_+3A_method">method</code></td>
<td>

<p>a character string with two elements. The first determines the
choice of the distance measure, see <code><a href="stats.html#topic+dist">dist</a></code>, and
the second determines the choice of the agglomeration method, see
<code><a href="stats.html#topic+hclust">hclust</a></code>.
</p>
</td></tr>
<tr><td><code id="orderColnames_+3A_robust">robust</code></td>
<td>

<p>a logical flag which indicates if robust correlations should be
used.
</p>
</td></tr>
<tr><td><code id="orderColnames_+3A_...">...</code></td>
<td>

<p>further arguments to be passed to the underlying functions doing the
main work, see section &lsquo;Details&rsquo;.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>These functions reorder the column names of a <code>"timeSeries"</code>
object according to some statistical measure.
</p>
<p><b>Statistically Motivated Rearrangement</b> 
</p>
<p>The function <code>statsColnames</code> rearranges the column names
according to a statical measure. These measure must operate on the
columns of the time series and return a vector of values which can
be sorted. Typical functions ar those listed in help page
<code>colStats</code> but custom functions can be used that compute for
example risk or any other statistical measure. The <code>...</code>
argument allows to pass additional arguments to the underlying
function <code>FUN</code>.
</p>
<p><b>PCA Ordering of the Correlation Matrix</b> 
</p>
<p>The function <code>pcaColnames</code> rearranges the column names
according to the PCA ordered correlation matrix. The argument
<code>robust</code> allsows to select between the use of the standard
<code>cor</code> and computation of robust correlations using 
the function <code>covMcd</code> from contributed R package
<code>robustbase</code>. The <code>...</code> argument allows to pass 
additional arguments to the two underlying functions <code>cor</code> 
or <code>covMcd</code>. E.g., adding <code>method="kendall"</code> 
to the argument list calculates Kendall's rank correlations
instead the default which calculates Person's correlations.<br />
</p>
<p><b>Ordering by Hierarchical Clustering</b> 
</p>
<p>The function <code>pcaColnames</code> uses the hierarchical clustering
approach <code>hclust</code> to rearrange the column names of the
time series. 
</p>


<h3>Value</h3>

<p>for <code>orderColnames</code>, an integer vector representing the
permutaion that will sort the column names,
</p>
<p>for the other functions, a character vector giving the rearranged
column names
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Load Swiss Pension Fund Benchmark Data -
   data &lt;- LPP2005REC[,1:6]
   
## Abbreviate Column Names -
   colnames(data)

## Sort Alphabetically - 
   sortColnames(data)
  
## Sort by Column Names by Hierarchical Clustering -
   hclustColnames(data)
   head(data[, hclustColnames(data)])
</code></pre>

<hr>
<h2 id='orderStatistics'>Order statistics</h2><span id='topic+orderStatistics'></span>

<h3>Description</h3>

<p>Computes the order statistics of a <code>"timeSeries"</code> object. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>orderStatistics(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="orderStatistics_+3A_x">x</code></td>
<td>

<p>a <code>"timeSeries"</code> object.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>orderStatistics</code> computes the order statistics for each column of a
<code>"timeSeries"</code> object. The output is a named list with the order
statistics for each column in a separate component.
</p>


<h3>Value</h3>

<p>a named list, in which each component is an
univariate <code>"timeSeries"</code> containing the order statistics of the
corresponding column of the input time series.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Load Swiss Pension Fund Benchmark Data -  
   setRmetricsOptions(myFinCenter = "GMT")
   X &lt;- LPP2005REC[, "SPI"]
   colnames(X)
   
## Compute 1% Order Statistics -
   N &lt;- round(0.01*nrow(X))
   N
   OS &lt;- orderStatistics(X)[[1]]
   OS[1:N, ]
</code></pre>

<hr>
<h2 id='periodical'>End-of-Period series, stats, and benchmarks</h2><span id='topic+endOfPeriod'></span><span id='topic+endOfPeriodSeries'></span><span id='topic+endOfPeriodStats'></span><span id='topic+endOfPeriodBenchmarks'></span>

<h3>Description</h3>

<p>Computes periodical statistics back to a given period.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>endOfPeriodSeries(x, 
    nYearsBack = c("1y", "2y", "3y", "5y", "10y", "YTD"))

endOfPeriodStats(x, 
    nYearsBack = c("1y", "2y", "3y", "5y", "10y", "YTD"))
    
endOfPeriodBenchmarks(x, benchmark = ncol(x),
    nYearsBack = c("1y", "2y", "3y", "5y", "10y", "YTD"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="periodical_+3A_x">x</code></td>
<td>

<p>an end-of-month recorded multivariate <code>"timeSeries"</code> object.
One of the columns holds the benchmark series specified by argument
<code>benchmark</code>,
</p>
</td></tr> 
<tr><td><code id="periodical_+3A_nyearsback">nYearsBack</code></td>
<td>

<p>a period string. How long back should the series be treated? Options
include values from 1 year to 10 years, and year-to-date: &quot;1y&quot;,
&quot;2y&quot;, &quot;3y&quot;, &quot;5y&quot;, &quot;10y&quot;, &quot;YTD&quot;.
</p>
</td></tr>
<tr><td><code id="periodical_+3A_benchmark">benchmark</code></td>
<td>

<p>an integer giving the position of the benchmark series in
<code>x</code>. By default this is the last column of <code>x</code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>endOfPeriodSeries</code> extract the data for the last few years, as
specified by argument <code>nYearsBack</code>.
</p>
<p><code>endOfPeriodStats</code> computes basic exploratory statistics for the
last few years in the data.
</p>
<p><code>endOfPeriodBenchmarks</code> returns benchmarks back to a given
period.
</p>
<p><code>x</code> must be end of month data. Such series can be created using
functions like <code>align</code>, <code>alignDailySeries</code>,
<code>daily2monthly</code>.
</p>


<h3>Value</h3>

<p>for <code>endOfPeriodSeries</code>, a <code>"timeSeries"</code>,
</p>
<p>for <code>endOfPeriodStats</code>, a data frame,
</p>
<p>for <code>endOfPeriodBenchmarks</code> - currently <code>NULL</code> (invisibly),
the function is unfinished.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## load series: column 1:3 Swiss market, column 8 (4) benchmark
x &lt;- 100 * LPP2005REC[, c(1:3, 8)]
colnames(x)
x &lt;- daily2monthly(x)
x
   
## Get the Monthly Series - 
endOfPeriodSeries(x, nYearsBack="1y")
   
## Compute the Monthly Statistics
endOfPeriodStats(x, nYearsBack="1y")
   
## Compute the Benchmark
endOfPeriodBenchmarks(x, benchmark=4) 
</code></pre>

<hr>
<h2 id='plot-methods'>Plot 'timeSeries' objects</h2><span id='topic+plot'></span><span id='topic+lines'></span><span id='topic+points'></span><span id='topic+plot+2CtimeSeries-method'></span><span id='topic+lines+2CtimeSeries-method'></span><span id='topic+points+2CtimeSeries-method'></span><span id='topic+pretty.timeSeries'></span>

<h3>Description</h3>

<p><code>"timeSeries"</code> methods for <code><a href="base.html#topic+plot">plot</a></code>,
<code><a href="graphics.html#topic+lines">lines</a></code> and <code><a href="graphics.html#topic+points">points</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'timeSeries'
plot(x, y, FinCenter = NULL,
    plot.type = c("multiple", "single"), format = "auto",
    at = pretty(x), widths = 1, heights = 1, xy.labels,
    xy.lines, panel = lines, nc, yax.flip = FALSE,
    mar.multi = c(0, 5.1, 0, if (yax.flip) 5.1 else 2.1),
    oma.multi = c(6, 0, 5, 0), axes = TRUE, ...)

## S4 method for signature 'timeSeries'
lines(x, FinCenter = NULL, ...)
## S4 method for signature 'timeSeries'
points(x, FinCenter = NULL, ...)

## S3 method for class 'timeSeries'
pretty(x, n=5, min.n=n%/%3, shrink.sml=0.75,
    high.u.bias=1.5, u5.bias=0.5+1.5*high.u.bias, eps.correct=0, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot-methods_+3A_x">x</code>, <code id="plot-methods_+3A_y">y</code></td>
<td>

<p>objects of class <code>timeSeries</code>.
</p>
</td></tr>
<tr><td><code id="plot-methods_+3A_fincenter">FinCenter</code></td>
<td>

<p>a character with the the location of the  financial center
named as <code>"continent/city"</code>.
</p>
</td></tr>
<tr><td><code id="plot-methods_+3A_plot.type">plot.type</code></td>
<td>

<p>for multivariate time series, should the series by plotted
separately (with a common time axis) or on a single plot?
</p>
</td></tr>
<tr><td><code id="plot-methods_+3A_format">format</code></td>
<td>
<p>POSIX label format, e.g. &quot;%Y-%m-%d&quot; or &quot;%F&quot; for
ISO-8601 standard date format.
</p>
</td></tr>
<tr><td><code id="plot-methods_+3A_at">at</code></td>
<td>

<p>a <code>timeDate</code> object setting the plot label positions.
If <code>at=pretty(x)</code>, the postitions are generated automatized
calling the function <code>pretty</code>. Default option <code>at="auto"</code> 
selects 6 equal spaced time label positions. For the new plot
themes set at=&quot;pretty&quot; or at=&quot;chic&quot;. In this case additional
arguments can be passed through the <code>...</code> arguments,
see details.
</p>
</td></tr>
<tr><td><code id="plot-methods_+3A_widths">widths</code>, <code id="plot-methods_+3A_heights">heights</code></td>
<td>

<p>widths and heights for individual graphs, see <code>layout</code>.
</p>
</td></tr>
<tr><td><code id="plot-methods_+3A_xy.labels">xy.labels</code></td>
<td>

<p>logical, indicating if <code>text()</code> labels should be used for an
x-y plot, _or_ character, supplying a vector of labels to be
used.  The default is to label for up to 150 points, and not
for more.
</p>
</td></tr>
<tr><td><code id="plot-methods_+3A_xy.lines">xy.lines</code></td>
<td>

<p>logical, indicating if <code>lines</code> should be drawn for an x-y
plot.  Defaults to the value of <code>xy.labels</code> if that is
logical, otherwise to <code>TRUE</code>
</p>
</td></tr>
<tr><td><code id="plot-methods_+3A_panel">panel</code></td>
<td>

<p>a <code>function(x, col, bg, pch, type, ...)</code> which gives the
action to be carried out in each panel of the display for
<code>plot.type="multiple"</code>.  The default is <code>lines</code>.
</p>
</td></tr>
<tr><td><code id="plot-methods_+3A_nc">nc</code></td>
<td>

<p>the number of columns to use when <code>type="multiple"</code>. Defaults
to 1 for up to 4 series, otherwise to 2.
</p>
</td></tr>
<tr><td><code id="plot-methods_+3A_yax.flip">yax.flip</code></td>
<td>

<p>logical indicating if the y-axis (ticks and numbering) should
flip from side 2 (left) to 4 (right) from series to series
when <code>type="multiple"</code>.
</p>
</td></tr>
<tr><td><code id="plot-methods_+3A_mar.multi">mar.multi</code>, <code id="plot-methods_+3A_oma.multi">oma.multi</code></td>
<td>

<p>the (default) <code>par</code> settings for <code>plot.type="multiple"</code>.
</p>
</td></tr>
<tr><td><code id="plot-methods_+3A_axes">axes</code></td>
<td>

<p>logical indicating if x- and y- axes should be drawn.
</p>
</td></tr>
<tr><td><code id="plot-methods_+3A_n">n</code></td>
<td>

<p>an integer giving the desired number of intervals.
</p>
</td></tr>
<tr><td><code id="plot-methods_+3A_min.n">min.n</code></td>
<td>

<p>a nonnegative integer giving the minimal
number of intervals.
</p>
</td></tr>
<tr><td><code id="plot-methods_+3A_shrink.sml">shrink.sml</code></td>
<td>

<p>a positive numeric by a which a default
scale is shrunk in the case when range(x) is
very small.
</p>
</td></tr>
<tr><td><code id="plot-methods_+3A_high.u.bias">high.u.bias</code></td>
<td>

<p>a non-negative numeric, typically &gt; 1.
Larger high.u.bias values favor larger units.
</p>
</td></tr>
<tr><td><code id="plot-methods_+3A_u5.bias">u5.bias</code></td>
<td>

<p>a non-negative numeric multiplier favoring
factor 5 over 2.
</p>
</td></tr>
<tr><td><code id="plot-methods_+3A_eps.correct">eps.correct</code></td>
<td>

<p>an integer code, one of 0, 1, or 2. If
non-0, a correction is made at the boundaries.
</p>
</td></tr>
<tr><td><code id="plot-methods_+3A_...">...</code></td>
<td>

<p>additional graphical arguments, see <code>plot</code>, <code>plot.default</code>
and <code>par</code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Our original method <code>plot</code> was build along R's plotting function
<code>plot.ts</code> with an additional argument to tailor the position
marks at user defined position specified by the argument <code>at</code>. We
call this style or theme <code>"ts"</code>.
</p>
<p>With verson R 3.1 we have inroduced two new additional plotting themes
called <code>"pretty"</code> and <code>"chick"</code>. They are becoming active
when we set <code>at = "pretty"</code> or <code>at = "chic"</code>.
</p>
<p>Plot style or theme <code>"pretty"</code> is an extension of our original
plotting method.
</p>
<p>Plot style or theme <code>"chic"</code> is an implementation along the
contributed packages <code>xts</code> and <code>PerformanceAnalytics</code> from
the Chicago finance group members (<code>"chic"</code> is an abbreviation of
Chicago.
</p>
<p>For both themes, <code>"pretty"</code> and <code>"chic"</code>, additional
arguments are passed through the <code>...</code> arguments. These are:
</p>

<table>
<tr>
 <td style="text-align: left;">
    <code>Argument</code>   </td><td style="text-align: left;"> Default  </td><td style="text-align: left;"> Description </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>type</code>       </td><td style="text-align: left;"> "l"  </td><td style="text-align: left;"> types pf plot </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>col</code>        </td><td style="text-align: left;"> 1    </td><td style="text-align: left;"> colors for lines and points </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>pch</code>        </td><td style="text-align: left;"> 20   </td><td style="text-align: left;"> plot symbol </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>cex</code>        </td><td style="text-align: left;"> 1    </td><td style="text-align: left;"> character and symbol scales </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>lty</code>        </td><td style="text-align: left;"> 1    </td><td style="text-align: left;"> line types </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>lwd</code>        </td><td style="text-align: left;"> 2    </td><td style="text-align: left;"> line widths </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>cex.axes</code>   </td><td style="text-align: left;"> 1    </td><td style="text-align: left;"> scale of axes </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>cex.lab</code>    </td><td style="text-align: left;"> 1    </td><td style="text-align: left;"> scale of labels </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>cex.pch</code>    </td><td style="text-align: left;"> 1    </td><td style="text-align: left;"> scale of plot symbols </td>
</tr>
<tr>
 <td style="text-align: left;">
               </td><td style="text-align: left;">      </td><td style="text-align: left;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>grid</code>       </td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> should grid lines plotted? </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>frame.plot</code> </td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> should b box around the plot? </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>axes</code>       </td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> should be axes drawn on the plot? </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>ann</code>        </td><td style="text-align: left;"> TRUE </td><td style="text-align: left;"> should default annotations appear? </td>
</tr>

</table>

<p>Concerning the plot elements, the length of these vectors has to be
the same as the number of columns in the time series to be plotted. If
their length is only one, then they are repeated.
</p>
<p>There is an almost 70 pages vignette added to the package, with dozens
of examples of tailored plots. Have a look in it.
</p>


<h3>Value</h3>

<p><code>NULL</code> (invisibly), the functions are called for the side effect
of producing plots
</p>


<h3>See Also</h3>

<p><code>vignette("timeSeriesPlot", package="timeSeries")</code>, which
provides extensive plot examples.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## load Swiss pension fund benchmark data
LPP &lt;- LPP2005REC[1:12, 1:4]
colnames(LPP) &lt;- abbreviate(colnames(LPP), 2)
finCenter(LPP) &lt;- "GMT"

## Example Plot 1
plot(LPP[, 1], type = "o", col = "steelblue",
  main = "LPP", xlab = "2005", ylab = "Return")
plot(LPP[, 1], at="auto", type = "o", col = "steelblue",
  main = "LPP", xlab = "2005", ylab = "Return")

## Example Plot 2
plot(LPP[, 1:2], type = "o", col = "steelblue",
  main = "LPP", xlab = "2005", ylab = "Return")

## Example Plot 3
plot(LPP[, 1], LPP[, 2], type = "p", col = "steelblue",
  main = "LPP", xlab = "Return 1", ylab = "Return 2")

## Example Plot 4a, the wrong way to do it!
LPP &lt;- as.timeSeries(data(LPP2005REC))
ZRH &lt;- as.timeSeries(LPP[,"SPI"], zone = "Zurich", FinCenter = "Zurich")
NYC &lt;- as.timeSeries(LPP[,"LMI"], zone = "NewYork", FinCenter = "NewYork")
finCenter(ZRH)
finCenter(NYC)
plot(ZRH, at="auto", type = "p", pch = 19, col = "blue")
points(NYC, pch = 19, col = "red")

## Example Plot 4b, convert NYC to Zurich time
finCenter(ZRH) &lt;- "Zurich"
finCenter(NYC) &lt;- "Zurich"
at &lt;- unique(round(time(ZRH)))
plot(ZRH, type = "p", pch = 19, col = "blue", format = "%b %d", at = at,
    xlab = paste(ZRH@FinCenter, "local Time"), main = ZRH@FinCenter)
points(NYC, pch = 19, col = "red")

## Example 4c, force everything to GMT using "FinCenter" argument
finCenter(ZRH) &lt;- "Zurich"
finCenter(NYC) &lt;- "NewYork"
at &lt;- unique(round(time(ZRH)))
plot(ZRH, type = "p", pch = 19, col = "blue", format = "%b %d", at = at,
    FinCenter = "GMT", xlab = "GMT", main = "ZRH - GMT")
points(NYC, FinCenter = "GMT", pch = 19, col = "red")
</code></pre>

<hr>
<h2 id='print-methods'>Print 'timeSeries' objects</h2><span id='topic+show+2CtimeSeries-method'></span><span id='topic+print.timeSeries'></span>

<h3>Description</h3>

<p>Print <code>"timeSeries"</code> objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'timeSeries'
show(object)

## S3 method for class 'timeSeries'
print(x, FinCenter = NULL, format = NULL,
    style = c("tS", "h", "ts"), by = c("month", "quarter"), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print-methods_+3A_object">object</code>, <code id="print-methods_+3A_x">x</code></td>
<td>
  
<p>an object of class <code>"timeSeries"</code>.
</p>
</td></tr>
<tr><td><code id="print-methods_+3A_fincenter">FinCenter</code></td>
<td>

<p>a character with the the location of the  financial center named 
as &quot;continent/city&quot;. 
</p>
</td></tr>
<tr><td><code id="print-methods_+3A_format">format</code></td>
<td>

<p>the format specification of the input character vector,
a character string with the format in POSIX notation.
</p>
</td></tr>  
<tr><td><code id="print-methods_+3A_style">style</code></td>
<td>

<p>a character string, one of <code>"tS"</code>, <code>"h"</code>, or <code>"ts"</code>.
</p>
</td></tr>
<tr><td><code id="print-methods_+3A_by">by</code></td>
<td>

<p>a character string, one of <code>"month"</code>, <code>"quarter"</code>.
</p>
</td></tr>
<tr><td><code id="print-methods_+3A_...">...</code></td>
<td>

<p>arguments passed to the print method for the data part, which is a
<code>"matrix"</code> or, in the case of <code>style = "ts"</code>, to the print
method for class <code>"ts"</code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>show</code> does not have additional arguments.
</p>
<p>The <code>print</code> method allows to modify the way the object is shown
by explicitly calling <code>print</code>.
</p>
<p>The default for <code>style</code> is <code>tS</code>. For univariate time series
<code>style = "h"</code> causes the object to be printed as a vector with
the time stamps as labels. Finally, <code>style = "ts"</code> prints like
objects from base R class <code>"ts"</code>, which is suitable for quarterly
and monthly time series.
</p>


<h3>Value</h3>

<p>Prints an object of class <code>timeSeries</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Load Micsrosoft Data
setRmetricsOptions(myFinCenter = "GMT")
LPP &lt;- MSFT[1:12, 1:4]

## Abbreviate Column Names
colnames(LPP) &lt;- abbreviate(colnames(LPP), 6)
   
## Print Data Set
print(LPP)
   
## Alternative Use, Show Data Set
LPP  # equivalently, show(LPP)

## a short subseries to demo 'print'
hC &lt;- head(MSFT[ , "Close"])
class(hC)
print(hC)
print(hC, style = "h")
</code></pre>

<hr>
<h2 id='rank'>Sample ranks of a time series</h2><span id='topic+rank'></span><span id='topic+rank+2CtimeSeries-method'></span>

<h3>Description</h3>

<p>Compute the sample ranks of the values of a 'timeSeries' object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'timeSeries'
rank(x, na.last = TRUE, ties.method = )
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rank_+3A_x">x</code></td>
<td>

<p>an univariate object of class <code>timeSeries</code>.
</p>
</td></tr>
<tr><td><code id="rank_+3A_na.last">na.last</code></td>
<td>

<p>for controlling the treatment of <code>NA</code>s. If <code>TRUE</code>, missing
values in the data are put last; if <code>FALSE</code>, they are put
first; if <code>NA</code>, they are removed; if <code>"keep"</code> they are
kept with rank <code>NA</code>.
</p>
</td></tr>
<tr><td><code id="rank_+3A_ties.method">ties.method</code></td>
<td>

<p>a character string specifying how ties are treated; can be
abbreviated.
</p>
</td></tr>  
</table>


<h3>Details</h3>

<p>If all components are different (and no <code>NA</code>s), the ranks are
well defined, with values in <code>seq_len(x)</code>. With some values equal
(called &lsquo;ties&rsquo;), argument <code>ties.method</code> determines the
result at the corresponding indices. The <code>"first"</code> method results
a permutation with increasing values at each index set of ties. The
<code>"random"</code> method puts these in random order, whereas the
default, <code>"average"</code>, replaces them by their mean, and
<code>"max"</code> and <code>"min"</code> replace them with their maximum and
minimum respectively, the latter being the typical sports ranking.
</p>
<p><code>NA</code> values are never considered to be equal: for <code>na.last =
  TRUE</code> and <code>na.last = FALSE</code> they are given distinct ranks in the
order in which they occur in <code>x</code>.
</p>


<h3>Value</h3>

<p>a <code>"timeSeries"</code> object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Load Microsoft Data -
   X &lt;- 100 * returns(MSFT)

## Compute the Ranks -
   head(rank(X[, "Open"]), 10)
   
## Only Interested in the Vector, then use -
   head(rank(series(X[, "Open"])), 10)
</code></pre>

<hr>
<h2 id='readSeries'>Read a 'timeSeries' from a text file</h2><span id='topic+readSeries'></span>

<h3>Description</h3>

<p>Reads a file in table format and creates a <code>"timeSeries"</code> object
from it. The first column of the table must hold the timestamps.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>readSeries(file, header = TRUE, sep = ";", zone = "", 
    FinCenter = "", format, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="readSeries_+3A_file">file</code></td>
<td>

<p>the filename of a spreadsheet dataset from which to import 
the data records.
</p>
</td></tr>
<tr><td><code id="readSeries_+3A_header">header</code></td>
<td>

<p>a logical value indicating whether the file contains the
names of the variables as its first line.  If missing, the
value is determined from the file format: 'header' is set to
'TRUE' if and only if the first row contains one fewer fields
than the number of columns.
</p>
</td></tr>
<tr><td><code id="readSeries_+3A_sep">sep</code></td>
<td>

<p>the field seperator used in the spreadsheet file to separate
columns, by default <code>";"</code>. If <code>sep = ";"</code> and reading the
series fails, then the reading is automatically repeated with
<code>sep=","</code>.
</p>
</td></tr>
<tr><td><code id="readSeries_+3A_zone">zone</code></td>
<td>

<p>the time zone or financial center where the data were recorded.  By
default <code>zone = ""</code> which is short for GMT.
</p>
</td></tr>  
<tr><td><code id="readSeries_+3A_fincenter">FinCenter</code></td>
<td>

<p>a character with the the location of the financial center named as
&quot;continent/city&quot;.
</p>
</td></tr>
<tr><td><code id="readSeries_+3A_format">format</code></td>
<td>

<p>a character string with the format in POSIX notation specifying the
timestamp format. The format has not to be specified if the
first column in the file has the timestamp format specifier,
e.g. &quot;%Y-%m-%d&quot; for the short ISO 8601 format.
</p>
</td></tr>  
<tr><td><code id="readSeries_+3A_...">...</code></td>
<td>

<p>Additional arguments passed to <code>read.table()</code> which is used to
read the file.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The file is imported with <code><a href="utils.html#topic+read.table">read.table</a></code>. Note the different
default for argument <code>"sep"</code>.
</p>
<p>The first column of the table must hold the timestamps. Format of the
timestamps can be either specified in the header of the first column
or by the <code>format</code> argument.
</p>


<h3>Value</h3>

<p>an object of class <code>"timeSeries"</code>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+as.timeSeries">as.timeSeries</a></code>,
<code><a href="#topic+timeSeries">timeSeries</a></code>,
<code><a href="#topic+dummyMonthlySeries">dummyMonthlySeries</a></code>,
<code><a href="#topic+dummyDailySeries">dummyDailySeries</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## full path to an example file
fn &lt;- system.file("extdata/msft.csv", package = "timeSeries")
## first few lines of the file
readLines(fn, n = 5)

## import the file
msft &lt;- readSeries(fn)
head(msft)

## is msft the same as the data object MSFT?
all.equal(msft, MSFT) 
## ... almost, except for slot 'documentation'
c(msft@documentation, MSFT@documentation)
## actually, all.equal() says 'attribute', not slot. this is ok too:
c(attr(MSFT, "documentation"), attr(msft, "documentation"))
## make 'documentation' equal, here "", and compare again:
msft@documentation &lt;- ""
all.equal(msft, MSFT) # TRUE
</code></pre>

<hr>
<h2 id='returns'>Financial returns</h2><span id='topic+returns'></span><span id='topic+returns+2CANY-method'></span><span id='topic+returns+2CtimeSeries-method'></span><span id='topic+returns0'></span><span id='topic+returnSeries'></span><span id='topic+getReturns'></span>

<h3>Description</h3>

<p>Compute financial returns from prices or indexes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>returns(x, ...)
returns0(x, ...)

## S4 method for signature 'ANY'
returns(x, method = c("continuous", "discrete", 
    "compound", "simple"), percentage = FALSE, ...)
## S4 method for signature 'timeSeries'
returns(x, method = c("continuous", "discrete", 
    "compound", "simple"), percentage = FALSE, na.rm = TRUE, 
    trim = TRUE, ...) 
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="returns_+3A_x">x</code></td>
<td>

<p>an object of class <code>timeSeries</code>.
</p>
</td></tr>
<tr><td><code id="returns_+3A_method">method</code></td>
<td>

<p>a character string. Which method should be used to compute the
returns, one of &quot;continuous&quot;, &quot;discrete&quot;, or &quot;compound&quot;, &quot;simple&quot;.
The second pair of methods is a synonym for the first two methods.
</p>
</td></tr>    
<tr><td><code id="returns_+3A_percentage">percentage</code></td>
<td>

<p>a logical value. By default <code>FALSE</code>, if <code>TRUE</code> the series
will be expressed in percentage changes.
</p>
</td></tr>
<tr><td><code id="returns_+3A_na.rm">na.rm</code></td>
<td>

<p>a logical value. Should NAs be removed? By default <code>TRUE</code>.
</p>
</td></tr>    
<tr><td><code id="returns_+3A_trim">trim</code></td>
<td>

<p>a logical value. Should the time series be trimmed? By Default 
<code>TRUE</code>.
</p>
</td></tr>    
<tr><td><code id="returns_+3A_...">...</code></td>
<td>

<p>arguments to be passed.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an object of class <code>timeSeries</code>.
</p>
<p><code>returns0</code> returns an untrimmed series with the first
row of returns set to zero(s).
</p>


<h3>Note</h3>

<p>The functions <code>returnSeries</code> and <code>getReturns</code> will be
removed in the near future. They are synonyms for the function
<code>returns</code> and their use was discouraged for many years. Just use
<code>returns</code>.
</p>
<p>The function <code>returnSeries</code> is no longer
exported. <code>getReturns</code> is exported only because we are waiting
for a package on CRAN to be updated.
</p>


<h3>See Also</h3>


<p><code><a href="#topic+cumulated">cumulated</a></code>,
<code><a href="#topic+drawdowns">drawdowns</a></code>,
<code><a href="#topic+splits">splits</a></code>,
<code><a href="#topic+spreads">spreads</a></code>,
<code><a href="#topic+midquotes">midquotes</a></code>,
<code><a href="#topic+index2wealth">index2wealth</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Load Microsoft Data - 
   setRmetricsOptions(myFinCenter = "GMT")
   data(MSFT)
   X = MSFT[1:10, 1:4]
   X

## Continuous Returns - 
   returns(X)
   returns0(X)
  
## Discrete Returns:
   returns(X, method = "discrete")
   
## Don't trim:
   returns(X, trim = FALSE)
   
## Use Percentage Values:
   returns(X, percentage = TRUE, trim = FALSE)
</code></pre>

<hr>
<h2 id='rev'>Reverse a 'timeSeries'</h2><span id='topic+rev.timeSeries'></span>

<h3>Description</h3>

<p>Reverses an uni- or multivariate <code>"timeSeries"</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'timeSeries'
rev(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rev_+3A_x">x</code></td>
<td>

<p>an uni- or multivariate <code>"timeSeries"</code> object.
</p>
</td></tr> 
</table>


<h3>Value</h3>

<p>a  <code>"timeSeries"</code> object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Create Dummy "timeSeries"
tS &lt;- dummyMonthlySeries()
   
## reverse series
rev(tS)
</code></pre>

<hr>
<h2 id='rollMean'>Rolling statistics</h2><span id='topic+rollMean'></span><span id='topic+rollStats'></span><span id='topic+rollMin'></span><span id='topic+rollMax'></span><span id='topic+rollMedian'></span>

<h3>Description</h3>

<p>Computes rolling mean, min, max and median for a <code>"timeSeries"</code>
object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rollStats(x, k, FUN = mean, na.pad = FALSE, 
    align=c("center", "left", "right"), ...)
    
rollMean(x, k, na.pad = FALSE, 
    align = c("center", "left", "right"), ...)
rollMin(x, k, na.pad = FALSE, 
    align = c("center", "left", "right"), ...)
rollMax(x, k, na.pad = FALSE, 
    align = c("center", "left", "right"), ...)
rollMedian(x, k, na.pad = FALSE, 
    align = c("center", "left", "right"), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rollMean_+3A_x">x</code></td>
<td>

<p>an uni- or multivariate <code>"timeSeries"</code> object.
</p>
</td></tr>
<tr><td><code id="rollMean_+3A_k">k</code></td>
<td>

<p>an integer width of the rolling window. Must be odd for 
<code>rollMedian</code>.
</p>
</td></tr>
<tr><td><code id="rollMean_+3A_fun">FUN</code></td>
<td>

<p>the function to be rolled.
</p>
</td></tr>
<tr><td><code id="rollMean_+3A_na.pad">na.pad</code></td>
<td>

<p>a logical flag. Should NA padding be added at beginning?
By default <code>FALSE</code>.
</p>
</td></tr>
<tr><td><code id="rollMean_+3A_align">align</code></td>
<td>

<p>a character string specifying whether the index of the result should
be left- or right-aligned or centered compared to the rolling window
of observations. The default choice is set to <code>align="center"</code>.
</p>
</td></tr>
<tr><td><code id="rollMean_+3A_...">...</code></td>
<td>

<p>optional arguments to be passed.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The code in the core of the functions <code>rollMean</code>, <code>rollMin</code>,
<code>rollMax</code>, and <code>rollMedian</code> was borrowed from the package
<code>zoo</code> authored by Achim Zeileis, Gabor Grothendieck and Felix
Andrews.
</p>


<h3>Value</h3>

<p>an object of class <code>"timeSeries"</code>
</p>


<h3>Author(s)</h3>

<p>Achim Zeileis, Gabor Grothendieck and Felix Andrews for code from the
contributed R package <code>zoo</code> used in the functions
<code>rollMean</code>, <code>rollMin</code>, <code>rollMax</code>, and <code>rollMedian</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Use Swiss Pension Fund Data Set of Returns - 
   head(LPP2005REC)
   SPI &lt;- LPP2005REC[, "SPI"]
   head(SPI)
   
## Plot Drawdowns - 
   rmean &lt;- rollMean(SPI, k = 10)
   plot(rmean)
</code></pre>

<hr>
<h2 id='rowCum'>Cumulative row statistics</h2><span id='topic+rowCum'></span><span id='topic+rowCumsums'></span><span id='topic+rowCumsums+2CANY-method'></span><span id='topic+rowCumsums+2CtimeSeries-method'></span>

<h3>Description</h3>

<p>Compute cumulative row statistics.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'ANY'
rowCumsums(x, na.rm = FALSE, ...)
## S4 method for signature 'timeSeries'
rowCumsums(x, na.rm = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rowCum_+3A_x">x</code></td>
<td>

<p>a time series, may be an object of class <code>"matrix"</code> or
<code>"timeSeries"</code>.
</p>
</td></tr>
<tr><td><code id="rowCum_+3A_na.rm">na.rm</code></td>
<td>

<p>a logical. Should missing values be removed?
</p>
</td></tr>
<tr><td><code id="rowCum_+3A_...">...</code></td>
<td>

<p>arguments to be passed.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>for the default method, a matrix,
</p>
<p>for the <code>"timeSeries"</code> method, an S4 object of class <code>"timeSeries"</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+colCum">colCumXXX</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Simulated Monthly Return Data - 
   X = matrix(rnorm(24), ncol = 2)
     
## Compute cumulated Sums -
   rowCumsums(X)  
</code></pre>

<hr>
<h2 id='runlengths'>Runlengths of a time series</h2><span id='topic+runlengths'></span>

<h3>Description</h3>

<p>Computes runlengths of an univariate <code>"timeSeries"</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>runlengths(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="runlengths_+3A_x">x</code></td>
<td>

<p>an univariate time series of class <code>"timeSeries"</code>.
</p>
</td></tr>
<tr><td><code id="runlengths_+3A_...">...</code></td>
<td>

<p>arguments passed to the function <code>na.omit</code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Runlengths are defined here as contiguous sequences of values having
the same sign.
</p>
<p>Zeroes are treated as <code>NA</code>s.
</p>


<h3>Value</h3>

<p>an object of class <code>"timeSeries"</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## random time series - 
   set.seed(4711)
   x &lt;- rnorm(12)
   tS &lt;- timeSeries(data = x, charvec = timeCalendar(), units = "x")
   tS
   
## return runlengths -
   runlengths(tS)

## replace the middle value of the negative stretch of 3 values
tS[5] &lt;- NA
## the two negative values separated by NA are still one run
runlengths(tS)
</code></pre>

<hr>
<h2 id='sample'>Resample 'timeSeries' objects</h2><span id='topic+sample'></span><span id='topic+sample+2CtimeSeries-method'></span>

<h3>Description</h3>

<p>Takes a sample of the specified size from the elements of a
<code>"timeSeries"</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'timeSeries'
sample(x, size, replace = FALSE, prob = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sample_+3A_x">x</code></td>
<td>

<p>an object from class <code>"timeSeries"</code>.
</p>
</td></tr>
<tr><td><code id="sample_+3A_size">size</code></td>
<td>

<p>a non-negative integer giving the number of items to choose.
</p>
</td></tr>
<tr><td><code id="sample_+3A_replace">replace</code></td>
<td>

<p>sample with replacement if <code>TRUE</code>, otherwise without
replacement. 
</p>
</td></tr>
<tr><td><code id="sample_+3A_prob">prob</code></td>
<td>

<p>a vector of probability weights for obtaining the elements of the
vector being sampled.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function takes a sample of size <code>size</code> from the elements of
the time series with or without replacement depending on argument
<code>replace</code>. The result is returned as a <code>"timeSeries"</code>
object.
</p>
<p>For details about the arguments see the documentation of
<code>base:sample</code>.
</p>


<h3>Value</h3>

<p>an object from class <code>"timeSeries"</code>
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+sample">sample</a></code> (<code>sample</code> in base <span class="rlang"><b>R</b></span>),
</p>
<p><code><a href="timeDate.html#topic+sample">sample</a></code> (the <code>"timeDate"</code> method)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>   
## Monthly Calendar Series -    
   x &lt;- daily2monthly(LPP2005REC[, 1:2])[3:14, ]
   

## Resample the Series with respect to the time stamps -    
   resampled &lt;- sample(x)
   resampled
   is.unsorted(resampled)
</code></pre>

<hr>
<h2 id='scale'>Center and scale 'timeSeries' objects</h2><span id='topic+scale'></span><span id='topic+scale+2CtimeSeries-method'></span>

<h3>Description</h3>

<p>Center and scale a <code>"timeSeries"</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'timeSeries'
scale(x, center = TRUE, scale = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="scale_+3A_x">x</code></td>
<td>

<p>an object from class <code>"timeSeries"</code>.
</p>
</td></tr>
<tr><td><code id="scale_+3A_center">center</code>, <code id="scale_+3A_scale">scale</code></td>
<td>

<p>a numeric vector or a logical value, see &lsquo;Details&rsquo;.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>scale</code> centers and/or scales the columns of a
<code>"timeSeries"</code> object.
</p>
<p>The value of <code>center</code> determines how column centering is
performed.  If <code>center</code> is a numeric vector with length equal to
the number of columns of <code>x</code>, then each column of <code>x</code> has
the corresponding value from <code>center</code> subtracted from it. If
<code>center</code> is TRUE then centering is done by subtracting the column
means (omitting NAs) of <code>x</code> from their corresponding columns, and
if <code>center</code> is FALSE, no centering is done.
</p>
<p>The value of <code>scale</code> determines how column scaling is performed
(after centering). If <code>scale</code> is a numeric vector with length
equal to the number of columns of <code>x</code>, then each column of
<code>x</code> is divided by the corresponding value from <code>scale</code>. If
<code>scale</code> is TRUE then scaling is done by dividing the (centered)
columns of <code>x</code> by their standard deviations if <code>center</code> is
TRUE, and the root mean square otherwise. If <code>scale</code> is FALSE, no
scaling is done.
</p>


<h3>Value</h3>

<p>a centered and/or scaled <code>"timeSeries"</code> object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>   
## Load Series:
   x &lt;- 100* LPP2005REC[, c("SBI", "SPI")]
   
## Scale and Center -
   X &lt;- scale(x)
   hist(X[, 1], prob=TRUE)
   s &lt;- seq(-3, 3, length=201)
   lines(s, dnorm(s), col="red")  
</code></pre>

<hr>
<h2 id='series-methods'>Get and set the data component of a 'timeSeries'</h2><span id='topic+series'></span><span id='topic+series+3C-'></span><span id='topic+series+2CtimeSeries-method'></span><span id='topic+series+3C-+2CtimeSeries+2Cmatrix-method'></span><span id='topic+series+3C-+2CtimeSeries+2CANY-method'></span><span id='topic+series+3C-+2CtimeSeries+2Cdata.frame-method'></span><span id='topic+series+3C-+2CtimeSeries+2Cvector-method'></span><span id='topic+coredata'></span><span id='topic+coredata+3C-'></span><span id='topic+coredata.timeSeries'></span><span id='topic+coredata+3C-.timeSeries'></span>

<h3>Description</h3>

<p>Get and set the data component of a 'timeSeries'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>series(x)
series(x) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="series-methods_+3A_x">x</code></td>
<td>

<p>a <code>timeSeries</code> object.
</p>
</td></tr>
<tr><td><code id="series-methods_+3A_value">value</code></td>
<td>

<p>a <code>vector</code>, a <code>data.frame</code> or a <code>matrix</code> object of
numeric data. 
</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>series</code> returns the <code>@.Data</code> slot of a <code>timeSeries</code>
object in <code>matrix</code> form. 
</p>
<p>The assignment version of <code>series</code> replaces the values of the
time series with <code>value</code>. The row and column names of
<code>value</code> are used if not <code>NULL</code>, otherwise they are left as
in <code>x</code>. The most natural use is when <code>value</code> has the same
dimensions as <code>as.matrix(x)</code>, but if that is not the case the
result is almost as if <code>value</code> was converted to
<code>"timeSeries"</code> directly.
</p>
<p>Methods for <code>zoo::coredata</code> and its assignment counterpart are
defined, as well. Users who wish to use them should ensure that
<code>zoo::coredata</code> is visible (e.g., by calling
<code>library('zoo')</code> or <code>library('xts')</code>) or employ the
<code>zoo::</code> prefix in the calls.  These methods are equivalent to
<code>series</code> and <code>`series&lt;-`</code>, respectively.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+timeSeries">timeSeries</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## A Dummy 'timeSeries' Object
   ts &lt;- timeSeries()
   ts

## Get the Matrix Part - 
   mat &lt;- series(ts)
   class(mat)
   mat

## Assign a New Univariate Series - 
   series(ts) &lt;- rnorm(12)
   ts
   
## Assign a New Bivariate Series - 
   series(ts) &lt;- matrix(rnorm(12), ncol = 2)
   ts
</code></pre>

<hr>
<h2 id='smooth'>Smooths time series objects</h2><span id='topic+smoothLowess'></span><span id='topic+smoothSpline'></span><span id='topic+smoothSupsmu'></span>

<h3>Description</h3>

<p>Smooths a <code>"timeSeries"</code> object.      
</p>


<h3>Usage</h3>

<pre><code class='language-R'>smoothLowess(x, f = 0.5, ...)
smoothSpline(x, spar = NULL, ...)
smoothSupsmu(x, bass = 5, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="smooth_+3A_x">x</code></td>
<td>

<p>an univariate <code>"timeSeries"</code> object.
</p>
</td></tr>
<tr><td><code id="smooth_+3A_f">f</code></td>
<td>

<p>the lowess smoother span. This gives the proportion of points in the
plot which influence the smooth at each value. Larger values give
more smoothness.
</p>
</td></tr>
<tr><td><code id="smooth_+3A_spar">spar</code></td>
<td>

<p>smoothing parameter, typically (but not necessarily) in (0,1]. By
default <code>NULL</code>, i.e. the value will be automatically selected.
</p>
</td></tr>
<tr><td><code id="smooth_+3A_bass">bass</code></td>
<td>

<p>controls the smoothness of the fitted curve. Values of up to 10
indicate increasing smoothness.
</p>
</td></tr>
<tr><td><code id="smooth_+3A_...">...</code></td>
<td>

<p>optional arguments to be passed to the underlying smoothers.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The functions <code>smoothLowess</code>, <code>smoothSpline</code>,
<code>smoothSupsmu</code> allow to smooth <code>timeSerie</code> object. The are
interfaces to the function <code>lowess</code>, <code>supmsu</code>. and
<code>smooth.spline</code> in R's <code>stats</code> package.
</p>
<p>The <code>...</code> arguments allow to pass optional arguments to the
underlying <code>stats</code> functions and tailor the smoothing process.
We refer to the manual pages of these functions for a proper setting
of these options.
</p>


<h3>Value</h3>

<p>a bivariate <code>"timeSeries"</code> object, the first column holds the
original time series data, the second the smoothed series.
</p>


<h3>Author(s)</h3>

<p>The R core team for the underlying smoother functions.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Use Close from MSFT's Price Series  - 
   head(MSFT)
   MSFT.CLOSE &lt;- MSFT[, "Close"]
   head(MSFT.CLOSE)
   
## Plot Original and Smoothed Series by Lowess - 
   MSFT.LOWESS &lt;- smoothLowess(MSFT.CLOSE, f = 0.1)
   head(MSFT.LOWESS)
   plot(MSFT.LOWESS)
   title(main = "Close - Lowess Smoothed")
   
## Plot Original and Smoothed Series by Splines - 
   MSFT.SPLINE &lt;- smoothSpline(MSFT.CLOSE, spar = 0.4)
   head(MSFT.SPLINE)
   plot(MSFT.SPLINE)
   title(main = "Close - Spline Smoothed")
   
## Plot Original and Smoothed Series by Supsmu - 
   MSFT.SUPSMU &lt;- smoothSupsmu(MSFT.CLOSE)
   head(MSFT.SUPSMU)
   plot(MSFT.SUPSMU)
   title(main = "Close - Spline Smoothed")
</code></pre>

<hr>
<h2 id='sort'>Sort a 'timeSeries' by time stamps</h2><span id='topic+sort'></span><span id='topic+sort.timeSeries'></span><span id='topic+is.unsorted'></span><span id='topic+is.unsorted.timeSeries'></span><span id='topic+is.unsorted+2CtimeSeries-method'></span>

<h3>Description</h3>

<p>Sort a <code>"timeSeries"</code> object with respect to its time stamps.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'timeSeries'
sort(x, decreasing = FALSE, ...)

## S4 method for signature 'timeSeries'
is.unsorted(x, na.rm = FALSE, strictly = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sort_+3A_x">x</code></td>
<td>

<p>a <code>"timeSeries"</code> object.
</p>
</td></tr>
<tr><td><code id="sort_+3A_decreasing">decreasing</code></td>
<td>

<p>a logical flag. Should we sort in increasing or decreasing order?
By default <code>FALSE</code>.
</p>
</td></tr>
<tr><td><code id="sort_+3A_na.rm">na.rm</code></td>
<td>

<p>a logical value, should missing values be removed?
</p>
</td></tr>
<tr><td><code id="sort_+3A_strictly">strictly</code></td>
<td>

<p>logical indicating if the check should be for strictly increasing
values.
</p>
</td></tr>
<tr><td><code id="sort_+3A_...">...</code></td>
<td>

<p>optional arguments passed to other methods.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The method for <code>sort</code> sorts <code>x</code> either in increasing or
decreasing time stamp order.
</p>
<p>The method for <code>is.unsorted</code> returns <code>TRUE</code> if the time
stamps of <code>x</code> are not sorted in increasing order (including the
case when they are sorted in decreasing order) and <code>FALSE</code>
otherwise. <code>is.unsorted</code> may also return <code>NA</code> when there are
<code>NA</code>s among the time stamps of <code>x</code>.
</p>
<p>All this is in line with the documented functionality of
<code>base::is.unsorted</code>.
</p>


<h3>Value</h3>

<p>for <code>sort</code>, a <code>"timeSeries"</code> object,
</p>
<p>for the <code>is.unsorted</code> method, <code>TRUE</code>, <code>FALSE</code>, or
<code>NA</code>, as described in section &lsquo;Details&rsquo;.
</p>


<h3>Note</h3>

<p>If <code>is.unsorted</code> returns <code>NA</code> when there are <code>NA</code>s in
the data but not in the time stamps use <code>library{timeSeries}</code> or
call the function as <code>timeSeries::is.unsorted</code>. If you need more
details, read the rest of this note.
</p>
<p><code>base::is.unsorted</code> 'sees' the method for <code>"timeSeries"</code>
objects when package timeSeries is loaded (whether or not it is
attached). However, due to the way <code>base::is.unsorted</code> is
implemented, it may give wrong answers when there are <code>NA</code>'s
among the values of the time series. Developers of packages applying
<code>is.unsorted</code> on timeSeries objects should import if from package
timeSeries.
</p>
<p>The above feature is not a shortcoming of <code>base::is.unsorted</code> but
a consequence of the fact that the timeSeries method is not consistent
with its semantics. For example, it works on the time stamps, while
<code>is.na</code> works on the data values.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+is.unsorted">is.unsorted</a></code> for further details on the <code>NA</code> case
</p>


<h3>Examples</h3>

<pre><code class='language-R'>   
## a monthly calendar series
x &lt;- daily2monthly(LPP2005REC[, 1:2])[3:14, ]
   

## resample the series with respect to the time stamps,
resampled &lt;- sample(x)
## the time stamps are unordered
resampled
is.unsorted(resampled) # TRUE (i.e., not sorted)
   
## Now sort the series in decreasing time order
backward_in_time &lt;- sort(resampled, , decreasing = TRUE)
## time stamps ordered in decreasing order
## but is.unordered requires increasing order:
backward_in_time
is.unsorted(backward_in_time) # still TRUE
   
## Is the reverted series ordered?
forward_in_time &lt;- rev(backward_in_time)
forward_in_time
is.unsorted(forward_in_time) # FALSE (i.e., sorted)
</code></pre>

<hr>
<h2 id='splits'>splits</h2><span id='topic+splits'></span>

<h3>Description</h3>

<p>Searches for outlier splits in a <code>"timeSeries"</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>splits(x, sd = 3, complement = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="splits_+3A_x">x</code></td>
<td>
 
<p>a <code>"timeSeries"</code> object.
</p>
</td></tr>
<tr><td><code id="splits_+3A_sd">sd</code></td>
<td>

<p><code>numeric(1)</code>; deviations of how many standard deviations to
consider too big? Can be fractional. E.g., 5 means that values
larger or smaller than five times the standard deviation of the
series will be detected.
</p>
</td></tr>
<tr><td><code id="splits_+3A_complement">complement</code></td>
<td>

<p>a logical flag, should the outlier series or its complements 
be returned?
</p>
</td></tr>
<tr><td><code id="splits_+3A_...">...</code></td>
<td>

<p>arguments to be passed.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function finds splits in financial price or index series. If a
price or index is splitted we observe a big jump of several standard
deviations in the returns, which is identified usually as an outlier.
</p>


<h3>Value</h3>

<p>a <code>"timeSeries"</code> object
</p>


<h3>See Also</h3>

<p><code><a href="#topic+returns">returns</a></code>,
<code><a href="#topic+cumulated">cumulated</a></code>,
<code><a href="#topic+drawdowns">drawdowns</a></code>,

<code><a href="#topic+spreads">spreads</a></code>,
<code><a href="#topic+midquotes">midquotes</a></code>,
<code><a href="#topic+index2wealth">index2wealth</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Create a Return Series with a Split - 
   data &lt;- runif(12, -1, 1)
   data[6] &lt;- 20
   x &lt;- timeSeries(data, timeCalendar(), units="RUNIF")
   x
   
## Search for the Split:
   splits(x, sd=3, complement=TRUE)
   splits(x, sd=3, complement=FALSE)
</code></pre>

<hr>
<h2 id='spreads'>Spreads and mid quotes</h2><span id='topic+spreads'></span><span id='topic+midquotes'></span><span id='topic+spreadSeries'></span><span id='topic+midquoteSeries'></span>

<h3>Description</h3>

<p>Compute spreads and midquotes from price streams.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>  
spreads(x, which = c("Bid", "Ask"), tickSize = NULL)    
midquotes(x, which = c("Bid", "Ask"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="spreads_+3A_x">x</code></td>
<td>

<p>an object of class <code>timeSeries</code>.
</p>
</td></tr>
<tr><td><code id="spreads_+3A_which">which</code></td>
<td>

<p>a vector with two character strings naming the column names of the
time series from which to compute the mid quotes and spreads.  By
default these are the bid and ask prices with column names
<code>c("Bid", "Ask")</code>.
</p>
</td></tr>
<tr><td><code id="spreads_+3A_ticksize">tickSize</code></td>
<td>

<p>the default is <code>NULL</code> to simply compute price changes in
original price levels. If <code>ticksize</code> is supplied, the price
changes will be divided by the value of <code>inTicksOfSize</code> to
compute price changes in ticks.
</p>
</td></tr>         
</table>


<h3>Value</h3>

<p>all functions return an object of class <code>timeSeries</code>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+returns">returns</a></code>,
<code><a href="#topic+cumulated">cumulated</a></code>,
<code><a href="#topic+drawdowns">drawdowns</a></code>,
<code><a href="#topic+splits">splits</a></code>,

<code><a href="#topic+midquotes">midquotes</a></code>,
<code><a href="#topic+index2wealth">index2wealth</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Load the Microsoft Data -  
   setRmetricsOptions(myFinCenter = "GMT")
   data(MSFT)
   X = MSFT[1:10, ]
   head(X)

## Compute Open/Close Midquotes -
   X.MID &lt;- midquotes(X, which = c("Close", "Open"))
   colnames(X.MID) &lt;- "X.MID"
   X.MID

## Compute Open/Close Spreads -
   X.SPREAD &lt;- spreads(X, which = c("Close", "Open"))
   colnames(X.SPREAD) &lt;- "X.SPREAD"
   X.SPREAD
</code></pre>

<hr>
<h2 id='start'>Start and end of a 'timeSeries'</h2><span id='topic+start'></span><span id='topic+start.timeSeries'></span><span id='topic+end'></span><span id='topic+end.timeSeries'></span>

<h3>Description</h3>

<p>Returns start or end time stamp of a <code>"timeSeries"</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'timeSeries'
start(x, ...)

## S3 method for class 'timeSeries'
end(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="start_+3A_x">x</code></td>
<td>

<p>an uni- or multivariate <code>"timeSeries"</code> object.
</p>
</td></tr>
<tr><td><code id="start_+3A_...">...</code></td>
<td>

<p>optional arguments passed to other methods.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>"timeSeries"</code> object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>   

## Create a dummy \code{"timeSeries"}
tS &lt;- dummyMonthlySeries()[, 1]
tS
   
## Return start and end time stamp
c(start(tS), end(tS))
range(time(tS))
</code></pre>

<hr>
<h2 id='str-methods'>Display the structure of 'timeSeries' objects</h2><span id='topic+str-methods'></span><span id='topic+str'></span><span id='topic+str.timeSeries'></span>

<h3>Description</h3>

<p>Compactly display the structure of a <code>"timeSeries"</code> object.        
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'timeSeries'
str(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="str-methods_+3A_object">object</code></td>
<td>
  
<p>an object of class <code>timeSeries</code>.
</p>
</td></tr>
<tr><td><code id="str-methods_+3A_...">...</code></td>
<td>

<p>arguments passed to other methods.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>NULL</code>, invisibly. The function is called for its side effect of
printing a compact representation of the structure of the
<code>"timeSeries"</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Load Microsoft Data Set
data(MSFT)
X &lt;- MSFT[1:12, 1:4]
colnames(X) &lt;- abbreviate(colnames(X), 4)
    
## Display Structure
str(X)
</code></pre>

<hr>
<h2 id='t'>Transpose 'timeSeries' objects</h2><span id='topic+t+2CtimeSeries-method'></span>

<h3>Description</h3>

<p>Returns the transpose of a <code>"timeSeries"</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'timeSeries'
t(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="t_+3A_x">x</code></td>
<td>

<p>a 'timeSeries' object.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a matrix
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Dummy 'timeSeries' with NAs entries
   data &lt;- matrix(1:24, ncol = 2)
   s &lt;- timeSeries(data, timeCalendar())
   s
   
## Transpose 'timeSeries' -
   t(s)
</code></pre>

<hr>
<h2 id='time'>Get and set time stamps of a 'timeSeries'</h2><span id='topic+time'></span><span id='topic+time+3C-'></span><span id='topic+time+2CtimeSeries-method'></span><span id='topic+time.timeSeries'></span><span id='topic+time+3C-.timeSeries'></span><span id='topic+time+3C-.default'></span><span id='topic+getTime'></span><span id='topic+setTime+3C-'></span>

<h3>Description</h3>

<p>Functions and methods extracting and modifying positions 
of 'timeSeries' objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'timeSeries'
time(x, ...)
## S3 replacement method for class 'timeSeries'
time(x) &lt;- value

getTime(x)         
setTime(x) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="time_+3A_value">value</code></td>
<td>

<p>a valid value for the time component of <code>x</code>.
</p>
</td></tr>
<tr><td><code id="time_+3A_x">x</code></td>
<td>

<p>an object of class <code>timeSeries</code>.
</p>
</td></tr> 
<tr><td><code id="time_+3A_...">...</code></td>
<td>

<p>optional arguments passed to other methods.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>time</code> and <code>time&lt;-</code> are generic functions with methods for
class <code>"timeSeries"</code>. They get and set the time component of the
object. 
</p>
<p><code>getTime</code> and <code>setTime</code> are non-generic alternatives are
non-generic wrappers of <code>time</code> and <code>time&lt;-</code>, respectively.
</p>
<p>There is another generic function <code>time&lt;-</code> defined in package
<span class="pkg">zoo</span>. When that package is loaded its <code>time&lt;-</code> gets the
<code>"timeSeries"</code> method. Also, if <code>"time&lt;-"</code> is called with an
object from class other than <code>"timeSeries"</code>, the call is
dispatched to <code>"zoo:time&lt;-"</code> to apply a suitable method.
</p>


<h3>Value</h3>

<p>for <code>time</code> and <code>getTime</code>, a <code>"timeDate"</code> object,
</p>
<p>for <code>time&lt;-</code> and and <code>setTime</code>, the modified
<code>"timeSeries"</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>   
## Create Dummy 'timeSeries' -      
   X &lt;- timeSeries(matrix(rnorm(24), 12), timeCalendar())
   
## Return Series Positions -
   getTime(X)
   time(X)  
  
## Add / Subtract one Day from X
   setTime(X) &lt;- time(X) - 24*3600 # sec
   X
   time(X) &lt;- time(X) + 24*3600 # sec
   X
</code></pre>

<hr>
<h2 id='timeSeries-class'>Class 'timeSeries' in package timeSeries</h2><span id='topic+timeSeries-class'></span><span id='topic+initialize+2CtimeSeries-method'></span>

<h3>Description</h3>

<p>Class <code>"timeSeries"</code> in package timeSeries.
</p>


<h3>Objects from the Class</h3>

<p>The main functions for creating objects from class <code>"timeSeries"</code>
<code><a href="#topic+timeSeries">timeSeries</a></code> and <code><a href="#topic+as.timeSeries">as.timeSeries</a></code>.
</p>
<p>Objects can also be created by calls of the form
<code>new("timeSeries", .Data, units, positions, format, FinCenter,
  recordIDs, title, documentation)</code> but this is not recommended for
routine work. 
</p>


<h3>Slots</h3>

<p>The structure of the <code>"timeSeries"</code> objects should, in general,
be considered internal. The accessor functions to get and set
the components should be used to get and set values of the slots.
</p>

<dl>
<dt><code>.Data</code>:</dt><dd>
<p>Object of class <code>"matrix"</code> containing the data, one column
for each variable.
</p>
</dd>
<dt><code>units</code>:</dt><dd>
<p>Object of class <code>"character"</code>, the unit (or variable, or
column) names of the time series object.
</p>
</dd>
<dt><code>positions</code>:</dt><dd>
<p>Object of class <code>"numeric"</code>, the datetime stamps. If the time
series doesn't have datetime stamps, then <code>positions</code> is of
length zero.
</p>
</dd>
<dt><code>format</code>:</dt><dd>
<p>Object of class <code>"character"</code>, a datetime format (such as
<code>"%Y-%m-%d"</code>). if there are no time stamps <code>"format"</code> is
equal to <code>"counts"</code>.
</p>
</dd>
<dt><code>FinCenter</code>:</dt><dd>
<p>Object of class <code>"character"</code>, the financial center.
</p>
</dd>
<dt><code>recordIDs</code>:</dt><dd>
<p>Object of class <code>"data.frame"</code> ~~
</p>
</dd>
<dt><code>title</code>:</dt><dd>
<p>Object of class <code>"character"</code>, a title for printing.
</p>
</dd>
<dt><code>documentation</code>:</dt><dd>
<p>Object of class <code>"character"</code>, by default it is set to the
current date.
</p>
</dd>
</dl>



<h3>Extends</h3>

<p>Class <code>"<a href="methods.html#topic+structure-class">structure</a>"</code>, from data part.
Class <code>"<a href="methods.html#topic+vector-class">vector</a>"</code>, by class &quot;structure&quot;, distance 2, with explicit coerce.
</p>


<h3>Methods</h3>

<p>Below is a list of the methods that have <code>"timeSeries"</code> in their
signature. It can be useful for technical purposes, for example in
reporting bugs but most methods that need explanation are documented
with the corresponding functions and looking at their help pages is recommended.
</p>
<p>There are short explanations for methods for functions that are not supposed to be
called directly. 
</p>

<dl>
<dt>[</dt><dd><p><code>signature(x = "timeSeries", i = "ANY", j = "index_timeSeries")</code>: ... </p>
</dd>
<dt>[</dt><dd><p><code>signature(x = "timeSeries", i = "character", j = "character")</code>: ... </p>
</dd>
<dt>[</dt><dd><p><code>signature(x = "timeSeries", i = "character", j = "index_timeSeries")</code>: ... </p>
</dd>
<dt>[</dt><dd><p><code>signature(x = "timeSeries", i = "character", j = "missing")</code>: ... </p>
</dd>
<dt>[</dt><dd><p><code>signature(x = "timeSeries", i = "index_timeSeries", j = "character")</code>: ... </p>
</dd>
<dt>[</dt><dd><p><code>signature(x = "timeSeries", i = "index_timeSeries", j = "index_timeSeries")</code>: ... </p>
</dd>
<dt>[</dt><dd><p><code>signature(x = "timeSeries", i = "index_timeSeries", j = "missing")</code>: ... </p>
</dd>
<dt>[</dt><dd><p><code>signature(x = "timeSeries", i = "matrix", j = "missing")</code>: ... </p>
</dd>
<dt>[</dt><dd><p><code>signature(x = "timeSeries", i = "missing", j = "character")</code>: ... </p>
</dd>
<dt>[</dt><dd><p><code>signature(x = "timeSeries", i = "missing", j = "index_timeSeries")</code>: ... </p>
</dd>
<dt>[</dt><dd><p><code>signature(x = "timeSeries", i = "missing", j = "missing")</code>: ... </p>
</dd>
<dt>[</dt><dd><p><code>signature(x = "timeSeries", i = "time_timeSeries", j = "ANY")</code>: ... </p>
</dd>
<dt>[</dt><dd><p><code>signature(x = "timeSeries", i = "time_timeSeries", j = "character")</code>: ... </p>
</dd>
<dt>[</dt><dd><p><code>signature(x = "timeSeries", i = "time_timeSeries", j = "index_timeSeries")</code>: ... </p>
</dd>
<dt>[</dt><dd><p><code>signature(x = "timeSeries", i = "time_timeSeries", j = "missing")</code>: ... </p>
</dd>
<dt>[</dt><dd><p><code>signature(x = "timeSeries", i = "timeDate", j = "character")</code>: ... </p>
</dd>
<dt>[</dt><dd><p><code>signature(x = "timeSeries", i = "timeDate", j = "index_timeSeries")</code>: ... </p>
</dd>
<dt>[</dt><dd><p><code>signature(x = "timeSeries", i = "timeDate", j = "missing")</code>: ... </p>
</dd>
<dt>[</dt><dd><p><code>signature(x = "timeSeries", i = "timeSeries", j = "index_timeSeries")</code>: ... </p>
</dd>
<dt>[</dt><dd><p><code>signature(x = "timeSeries", i = "timeSeries", j = "missing")</code>: ... </p>
</dd>
<dt>[&lt;-</dt><dd><p><code>signature(x = "timeSeries", i = "character", j = "ANY")</code>: ... </p>
</dd>
<dt>[&lt;-</dt><dd><p><code>signature(x = "timeSeries", i = "character", j = "missing")</code>: ... </p>
</dd>
<dt>[&lt;-</dt><dd><p><code>signature(x = "timeSeries", i = "timeDate", j = "ANY")</code>: ... </p>
</dd>
<dt>[&lt;-</dt><dd><p><code>signature(x = "timeSeries", i = "timeDate", j = "missing")</code>: ... </p>
</dd>
<dt>$</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>$&lt;-</dt><dd><p><code>signature(x = "timeSeries", value = "ANY")</code>: ... </p>
</dd>
<dt>$&lt;-</dt><dd><p><code>signature(x = "timeSeries", value = "factor")</code>: ... </p>
</dd>
<dt>$&lt;-</dt><dd><p><code>signature(x = "timeSeries", value = "numeric")</code>: ... </p>
</dd>
<dt>aggregate</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>align</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>apply</dt><dd><p><code>signature(X = "timeSeries")</code>: ... </p>
</dd>
<dt>as.data.frame</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>as.list</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>as.matrix</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>as.ts</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>attach</dt><dd><p><code>signature(what = "timeSeries")</code>: ... </p>
</dd>
<dt>cbind2</dt><dd><p><code>signature(x = "ANY", y = "timeSeries")</code>: ... </p>
</dd>
<dt>cbind2</dt><dd><p><code>signature(x = "timeSeries", y = "ANY")</code>: ... </p>
</dd>
<dt>cbind2</dt><dd><p><code>signature(x = "timeSeries", y = "missing")</code>: ... </p>
</dd>
<dt>cbind2</dt><dd><p><code>signature(x = "timeSeries", y = "timeSeries")</code>: ... </p>
</dd>
<dt>coerce</dt><dd><p><code>signature(from = "ANY", to = "timeSeries")</code> </p>
</dd>
<dt>coerce</dt><dd><p><code>signature(from = "character", to = "timeSeries")</code> </p>
</dd>
<dt>coerce</dt><dd><p><code>signature(from = "data.frame", to = "timeSeries")</code> </p>
</dd>
<dt>coerce</dt><dd><p><code>signature(from = "timeSeries", to = "data.frame")</code> </p>
</dd>
<dt>coerce</dt><dd><p><code>signature(from = "timeSeries", to = "list")</code>: </p>
</dd>
<dt>coerce</dt><dd><p><code>signature(from = "timeSeries", to = "matrix")</code> </p>
</dd>
<dt>coerce</dt><dd><p><code>signature(from = "timeSeries", to = "ts")</code>: </p>
</dd>
<dt>coerce</dt><dd><p><code>signature(from = "ts", to = "timeSeries")</code>:
<code>coerce</code> should not be called directly.
Use <code>as(object, "target_class")</code> instead.
</p>
</dd>
<dt>colCummaxs</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>colCummins</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>colCumprods</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>colCumreturns</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>colCumsums</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>colMeans</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>colnames</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>colnames&lt;-</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>colSums</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>comment</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>comment&lt;-</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>coredata</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>coredata&lt;-</dt><dd><p><code>signature(x = "timeSeries", value = "ANY")</code>: ... </p>
</dd>
<dt>coredata&lt;-</dt><dd><p><code>signature(x = "timeSeries", value = "matrix")</code>: ... </p>
</dd>
<dt>cummax</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>cummin</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>cumprod</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>cumsum</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>diff</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>dim</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>dim&lt;-</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>dimnames</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>dimnames&lt;-</dt><dd><p><code>signature(x = "timeSeries", value = "list")</code>: ... </p>
</dd>
<dt>end</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>filter</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>finCenter</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>finCenter&lt;-</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>frequency</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>getDataPart</dt><dd><p><code>signature(object = "timeSeries")</code>: ... </p>
</dd>
<dt>head</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>initialize</dt><dd><p><code>signature(.Object = "timeSeries")</code>:
</p>
<p>don't call <code>"initialize"</code>, call <code>new("timeSeries", ...)</code>
instead. Even better, call <code>timeSeries</code>.
</p>
</dd>
<dt>is.na</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>is.unsorted</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>isDaily</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>isMonthly</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>isQuarterly</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>isRegular</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>lag</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>lines</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>median</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>merge</dt><dd><p><code>signature(x = "ANY", y = "timeSeries")</code>: ... </p>
</dd>
<dt>merge</dt><dd><p><code>signature(x = "matrix", y = "timeSeries")</code>: ... </p>
</dd>
<dt>merge</dt><dd><p><code>signature(x = "numeric", y = "timeSeries")</code>: ... </p>
</dd>
<dt>merge</dt><dd><p><code>signature(x = "timeSeries", y = "ANY")</code>: ... </p>
</dd>
<dt>merge</dt><dd><p><code>signature(x = "timeSeries", y = "matrix")</code>: ... </p>
</dd>
<dt>merge</dt><dd><p><code>signature(x = "timeSeries", y = "missing")</code>: ... </p>
</dd>
<dt>merge</dt><dd><p><code>signature(x = "timeSeries", y = "numeric")</code>: ... </p>
</dd>
<dt>merge</dt><dd><p><code>signature(x = "timeSeries", y = "timeSeries")</code>: ... </p>
</dd>
<dt>na.contiguous</dt><dd><p><code>signature(object = "timeSeries")</code>: ... </p>
</dd>
<dt>na.omit</dt><dd><p><code>signature(object = "timeSeries")</code>: ... </p>
</dd>
<dt>names</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>names&lt;-</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>Ops</dt><dd><p><code>signature(e1 = "array", e2 = "timeSeries")</code>: ... </p>
</dd>
<dt>Ops</dt><dd><p><code>signature(e1 = "timeSeries", e2 = "array")</code>: ... </p>
</dd>
<dt>Ops</dt><dd><p><code>signature(e1 = "timeSeries", e2 = "timeSeries")</code>: ... </p>
</dd>
<dt>Ops</dt><dd><p><code>signature(e1 = "timeSeries", e2 = "ts")</code>: ... </p>
</dd>
<dt>Ops</dt><dd><p><code>signature(e1 = "timeSeries", e2 = "vector")</code>: ... </p>
</dd>
<dt>Ops</dt><dd><p><code>signature(e1 = "ts", e2 = "timeSeries")</code>: ... </p>
</dd>
<dt>Ops</dt><dd><p><code>signature(e1 = "vector", e2 = "timeSeries")</code>: ... </p>
</dd>
<dt>outlier</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>plot</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>points</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>print</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>quantile</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>rank</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>rbind2</dt><dd><p><code>signature(x = "ANY", y = "timeSeries")</code>: ... </p>
</dd>
<dt>rbind2</dt><dd><p><code>signature(x = "timeSeries", y = "ANY")</code>: ... </p>
</dd>
<dt>rbind2</dt><dd><p><code>signature(x = "timeSeries", y = "missing")</code>: ... </p>
</dd>
<dt>rbind2</dt><dd><p><code>signature(x = "timeSeries", y = "timeSeries")</code>: ... </p>
</dd>
<dt>returns</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>rev</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>rowCumsums</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>rownames</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>rownames&lt;-</dt><dd><p><code>signature(x = "timeSeries", value = "ANY")</code>: ... </p>
</dd>
<dt>rownames&lt;-</dt><dd><p><code>signature(x = "timeSeries", value = "timeDate")</code>: ... </p>
</dd>
<dt>sample</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>scale</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>series</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>series&lt;-</dt><dd><p><code>signature(x = "timeSeries", value = "ANY")</code>: ... </p>
</dd>
<dt>series&lt;-</dt><dd><p><code>signature(x = "timeSeries", value = "matrix")</code>: ... </p>
</dd>
<dt>setDataPart</dt><dd><p><code>signature(object = "timeSeries")</code>: ... </p>
</dd>
<dt>show</dt><dd><p><code>signature(object = "timeSeries")</code>: ... </p>
</dd>
<dt>sort</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>start</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>str</dt><dd><p><code>signature(object = "timeSeries")</code>: ... </p>
</dd>
<dt>t</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>tail</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>time</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
<dt>window</dt><dd><p><code>signature(x = "timeSeries")</code>: ... </p>
</dd>
</dl>



<h3>See Also</h3>

<p><code><a href="#topic+timeSeries">timeSeries</a></code> and
<code><a href="#topic+as.timeSeries">as.timeSeries</a></code> for creating and converting to
<code>"timeSeries"</code>,
</p>
<p><code><a href="#topic+readSeries">readSeries</a></code> for importing from a text file,
</p>
<p><code><a href="#topic+dummyDailySeries">dummyDailySeries</a></code> for creation of dummy daily and monthly time series,
</p>
<p><code><a href="base.html#topic+as.matrix">as.matrix</a></code>, <code><a href="#topic+time">time</a></code>, <code><a href="#topic+finCenter">finCenter</a></code>,
<code><a href="#topic+getUnits">getUnits</a></code>, <code><a href="base.html#topic+dim">dim</a></code>, <code><a href="#topic+start">start</a></code>,
etc., for accessing properties of the time series.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## see the help page for timeSeries()
showClass("timeSeries")
</code></pre>

<hr>
<h2 id='timeSeries-deprecated'>Deprecated functions in 'timeSeries' package</h2><span id='topic+seriesData'></span><span id='topic+removeNA'></span><span id='topic+substituteNA'></span><span id='topic+interpNA'></span>

<h3>Description</h3>


<table>
<tr>
 <td style="text-align: left;">

    <code>seriesData</code> (removed) extracts data slot from a 'timeSeries'.
    use <code><a href="base.html#topic+as.matrix">as.matrix</a></code> instead. </td>
</tr>
<tr>
 <td style="text-align: left;">
    
    
    
    


    
    

    
    
    
  </td>
</tr>

</table>



<h3>Usage</h3>

<pre><code class='language-R'>removeNA(x, ...)
substituteNA(x, type = c("zeros", "mean", "median"), ...)
interpNA(x, method = c("linear", "before", "after"), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="timeSeries-deprecated_+3A_x">x</code></td>
<td>

<p>a numeric matrix, or any other object which can be transformed into
a matrix through <code>x = as.matrix(x, ...)</code>. If <code>x</code> is a
vector, it will be transformed into a one-dimensional matrix.
</p>
</td></tr>
<tr><td><code id="timeSeries-deprecated_+3A_method">method</code></td>
<td>

<p>for <code>interpNA</code>, how to interpolate the matrix column
by column, see Section &lsquo;Details&rsquo;.
</p>
</td></tr>
<tr><td><code id="timeSeries-deprecated_+3A_type">type</code></td>
<td>

<p>Three alternative methods are provided to remove NAs from the
data: 
<code>type="zeros"</code> replaces the missing values with zeros,
<code>type="mean"</code> replaces the missing values with the column mean,
<code>type="median"</code> replaces the missing values with the column
median.
</p>
</td></tr>
<tr><td><code id="timeSeries-deprecated_+3A_...">...</code></td>
<td>

<p>arguments to be passed to the function <code>as.matrix</code>.
</p>
</td></tr>
</table>

<hr>
<h2 id='timeSeries-method-stats'>Base R functions applied to 'timeSeries' objects</h2><span id='topic+sd-methods'></span><span id='topic+var-methods'></span><span id='topic+cov-methods'></span><span id='topic+cor-methods'></span>

<h3>Description</h3>

<p>Many base R statistical functions work on (the data part of)
<code>timeSeries</code> objects without the need for special methods, e.g.,
<code>var</code>, <code>sd</code>, <code>cov</code>, <code>cor</code>, probability densities,
and others. This page gives some examples with such functions.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+colStats">colStats</a></code>,
<code><a href="#topic+colVars">colVars</a></code>, and other <code>colXXX</code> functions
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Load Microsoft Data Set - 
   data(MSFT)
   X = MSFT[, 1:4]
   X = 100 * returns(X)

## Compute Covariance Matrix - 
   cov(X[, "Open"], X[, "Close"])
   cov(X)

cor(X)   
</code></pre>

<hr>
<h2 id='timeSeries-package'>Utilities and tools package</h2><span id='topic+timeSeries-package'></span>

<h3>Description</h3>

<p>Package <span class="pkg">timeSeries</span> is part of the Rmetrics suit of R packages.
It provides a class, <code>timeSeries</code>, particularly aimed at analysis
of financial data, along with many methods, functions, and utilities
for statistical and financial computations on time series.
</p>


<h3>Details</h3>

<p>The following sections have not been updated for some time.
</p>


<h3>timeSeries - S4 'timeSeries' Class</h3>



<table>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+timeSeries">timeSeries</a></code> </td><td style="text-align: left;"> Creates a <code>"timeSeries"</code> from scratch</td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+series">series</a></code>, coredata </td><td style="text-align: left;"> Extracts the data </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+getUnits">getUnits</a></code> </td><td style="text-align: left;"> Extracts the time serie units </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+time">time</a></code> </td><td style="text-align: left;"> Extracts the positions of timestamps </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>x@format</code> </td><td style="text-align: left;"> Extracts the format of the timestamp </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+finCenter">finCenter</a></code> </td><td style="text-align: left;"> Extracts the financial center </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>x@recordIDs</code> </td><td style="text-align: left;"> Extracts the record IDs </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>x@title</code> </td><td style="text-align: left;"> Extracts the title </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>x@documentation</code> </td><td style="text-align: left;"> Extracts the documentation
  </td>
</tr>

</table>
 


<h3>Base Time Series Functions</h3>



<table>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+apply+2CtimeSeries-method">apply</a></code> </td><td style="text-align: left;"> Applies a function to blocks of a <code>"timeSeries"</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+cbind">cbind</a></code> </td><td style="text-align: left;"> Combines columns of two <code>"timeSeries"</code> objects </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+rbind">rbind</a></code> </td><td style="text-align: left;"> Combines rows of two <code>"timeSeries"</code> objects </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+diff">diff</a></code> </td><td style="text-align: left;"> Returns differences of a <code>"timeSeries"</code> object </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+dim+2CtimeSeries-method">dim</a></code> </td><td style="text-align: left;"> returns dimensions of a <code>"timeSeries"</code> object </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+merge">merge</a></code> </td><td style="text-align: left;"> Merges two <code>"timeSeries"</code> objects </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+rank+2CtimeSeries-method">rank</a></code> </td><td style="text-align: left;"> Returns sample ranks of a <code>"timeSeries"</code> object </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+apply+2CtimeSeries-method">rev</a></code> </td><td style="text-align: left;"> Reverts a <code>"timeSeries"</code> object </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+sample">sample</a></code> </td><td style="text-align: left;"> Resamples a <code>"timeSeries"</code> object </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+scale">scale</a></code> </td><td style="text-align: left;"> Scales a <code>"timeSeries"</code> object </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+sort.timeSeries">sort</a></code> </td><td style="text-align: left;"> Sorts a <code>"timeSeries"</code> object </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+start.timeSeries">start</a></code> </td><td style="text-align: left;"> Returns start date/time of a <code>"timeSeries"</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+end.timeSeries">end</a></code> </td><td style="text-align: left;"> Returns end date/time of a <code>"timeSeries"</code> </td>
</tr>
<tr>
 <td style="text-align: left;">    
    <code><a href="#topic+apply+2CtimeSeries-method">end</a></code> </td><td style="text-align: left;"> Returns end date/time of a <code>"timeSeries"</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+t+2CtimeSeries-method">t</a></code> </td><td style="text-align: left;"> Returns the transpose of a <code>"timeSeries"</code>  object  </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+attach+2CtimeSeries-method">attach</a></code> </td><td style="text-align: left;"> Attaches a <code>"timeSeries"</code> to the search path
  </td>
</tr>

</table>



<h3>Subsetting 'timeSeries' Objects</h3>




<table>
<tr>
 <td style="text-align: left;">
    <code>[</code> </td><td style="text-align: left;"> Subsets a <code>"timeSeries"</code> object </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>[&lt;-</code> </td><td style="text-align: left;"> Assigns values to a subset </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>$</code> </td><td style="text-align: left;"> Subsets a <code>"timeSeries"</code> by column names </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>$&lt;-</code> </td><td style="text-align: left;"> Replaces subset by column names </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+head.timeSeries">head</a></code> </td><td style="text-align: left;"> Returns the head of a <code>"timeSeries"</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+tail.timeSeries">tail</a></code> </td><td style="text-align: left;"> Returns the tail of a time Series </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+na.omit">na.omit</a></code> </td><td style="text-align: left;"> Handles NAs in a <code>"timeSeries"</code> object </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+removeNA">removeNA</a></code> </td><td style="text-align: left;"> removes NAs from a matrix object </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+substituteNA">substituteNA</a></code> </td><td style="text-align: left;"> substitutes NAs by zero, column mean or median </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+interpNA">interpNA</a></code> </td><td style="text-align: left;"> interpolates NAs using R's "approx" function </td>
</tr>

</table>



<h3>Mathematical Operation</h3>


<table>
<tr>
 <td style="text-align: left;">  
    <code><a href="#topic+Ops+2CtimeSeries+2CtimeSeries-method">Ops</a></code> </td><td style="text-align: left;"> S4: Arith method for a <code>"timeSeries"</code> object </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+Math+2CtimeSeries-method">Math</a></code> </td><td style="text-align: left;"> S4: Math method for a <code>"timeSeries"</code> object </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+Math2+2CtimeSeries-method">Math2</a></code> </td><td style="text-align: left;"> S4: Maths method for a <code>"timeSeries"</code> object </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>abs</code> </td><td style="text-align: left;"> Returns absolute values of a <code>"timeSeries"</code> object </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>sqrt</code> </td><td style="text-align: left;"> Returns square root of a <code>"timeSeries"</code> object </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>exp</code> </td><td style="text-align: left;"> Returns the exponential values of a <code>"timeSeries"</code> object </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>log</code> </td><td style="text-align: left;"> Returns the logarithm of  a <code>"timeSeries"</code> object </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>sign</code> </td><td style="text-align: left;"> Returns the signs of a <code>"timeSeries"</code> object </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+diff">diff</a></code> </td><td style="text-align: left;"> Differences a <code>"timeSeries"</code> object </td>
</tr>
<tr>
 <td style="text-align: left;"> 
    <code><a href="#topic+scale">scale</a></code> </td><td style="text-align: left;"> Centers and/or scales a <code>"timeSeries"</code> object </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+quantile.timeSeries">quantile</a></code> </td><td style="text-align: left;"> Returns quantiles of an univariate <code>"timeSeries"</code></td>
</tr>

</table>



<h3>Methods</h3>


<table>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+as.timeSeries">as.timeSeries</a></code> </td><td style="text-align: left;"> Defines method for a <code>"timeSeries"</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>as.*.default</code> </td><td style="text-align: left;"> Returns the input  </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>as.*.ts</code> </td><td style="text-align: left;"> Transforma a 'ts' object into a <code>"timeSeries"</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>as.*.data.frame</code> </td><td style="text-align: left;"> Transforms a 'data.frame' intp a 'timeSeries </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>as.*.character</code> </td><td style="text-align: left;"> Loads and transforms from a demo file </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>as.*.zoo</code> </td><td style="text-align: left;"> Transforms a 'zoo' object into a <code>"timeSeries"</code> </td>
</tr>
<tr>
 <td style="text-align: left;"> 
    <code>as.vector.*</code> </td><td style="text-align: left;"> Converts univariate <code>"timeSeries"</code> to vector </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>as.matrix.*</code> </td><td style="text-align: left;"> Converts <code>"timeSeries"</code> to matrix </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>as.numeric.*</code> </td><td style="text-align: left;"> Converts <code>"timeSeries"</code> to numeric </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>as.data.frame.*</code> </td><td style="text-align: left;"> Converts <code>"timeSeries"</code> to data.frame </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>as.ts.*</code> </td><td style="text-align: left;"> Converts <code>"timeSeries"</code> to ts </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>as.logical.*</code> </td><td style="text-align: left;"> Converts <code>"timeSeries"</code> to logical </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+is.timeSeries">is.timeSeries</a></code> </td><td style="text-align: left;"> Tests for a <code>"timeSeries"</code> object </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+plot+2CtimeSeries-method">plot</a></code> </td><td style="text-align: left;"> Displays a X-Y <code>"timeSeries"</code> Plot </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+lines+2CtimeSeries-method">lines</a></code> </td><td style="text-align: left;"> Adds connected line segments to a plot </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+points+2CtimeSeries-method">points</a></code> </td><td style="text-align: left;"> Adds Points to a plot </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+show+2CtimeSeries-method">show</a></code> </td><td style="text-align: left;"> Prints a 'timeSeries oobject</td>
</tr>

</table>



<h3>Financial time series functions</h3>


<table>
<tr>
 <td style="text-align: left;"> 
    <code><a href="#topic+align">align</a></code> </td><td style="text-align: left;"> Aligns a <code>"timeSeries"</code> to time stamps </td>
</tr>
<tr>
 <td style="text-align: left;"> 
    <code><a href="#topic+cumulated">cumulated</a></code> </td><td style="text-align: left;"> Computes cumulated series from a returns </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+alignDailySeries">alignDailySeries</a></code> </td><td style="text-align: left;"> Aligns a <code>"timeSeries"</code> to calendarical dates </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+rollDailySeries">rollDailySeries</a></code> </td><td style="text-align: left;"> Rolls a 'timeSeries daily</td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+drawdowns">drawdowns</a></code> </td><td style="text-align: left;"> Computes series of drawdowns from financial returns </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+drawdownsStats">drawdownsStats</a></code> </td><td style="text-align: left;"> Computes drawdowns statistics </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+durations">durations</a></code> </td><td style="text-align: left;"> Computes durations from a financial time series </td>
</tr>
<tr>
 <td style="text-align: left;">  
    <code><a href="#topic+countMonthlyRecords">countMonthlyRecords</a></code> </td><td style="text-align: left;"> Counts monthly records in a <code>"timeSeries"</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+rollMonthlyWindows">rollMonthlyWindows</a></code> </td><td style="text-align: left;"> Rolls Monthly windows </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+rollMonthlySeries">rollMonthlySeries</a></code> </td><td style="text-align: left;"> Rolls a <code>"timeSeries"</code> monthly </td>
</tr>
<tr>
 <td style="text-align: left;">   
    <code><a href="#topic+endOfPeriodSeries">endOfPeriodSeries</a></code> </td><td style="text-align: left;"> Returns end of periodical series </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+endOfPeriodStats">endOfPeriodStats</a></code> </td><td style="text-align: left;"> Returns end of period statistics </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+endOfPeriodBenchmarks">endOfPeriodBenchmarks</a></code> </td><td style="text-align: left;"> Returns period benchmarks </td>
</tr>
<tr>
 <td style="text-align: left;"> 
    <code><a href="#topic+returns">returns</a></code> </td><td style="text-align: left;"> Computes returns from prices or indexes </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+returns0">returns0</a></code> </td><td style="text-align: left;">  Computes untrimmed returns from prices or indexes </td>
</tr>
<tr>
 <td style="text-align: left;">   
    <code><a href="#topic+runlengths">runlengths</a></code> </td><td style="text-align: left;"> Computes run lenghts of a <code>"timeSeries"</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+smoothLowess">smoothLowess</a></code> </td><td style="text-align: left;"> Smoothes a <code>"timeSeries"</code> </td>
</tr>
<tr>
 <td style="text-align: left;">    
    <code><a href="#topic+smoothSpline">smoothSpline</a></code> </td><td style="text-align: left;"> Smoothes a <code>"timeSeries"</code> </td>
</tr>
<tr>
 <td style="text-align: left;">    
    <code><a href="#topic+smoothSupsmu">smoothSupsmu</a></code> </td><td style="text-align: left;"> Smoothes a <code>"timeSeries"</code> </td>
</tr>
<tr>
 <td style="text-align: left;">    
    <code><a href="#topic+splits">splits</a></code> </td><td style="text-align: left;"> Detects <code>"timeSeries"</code> splits by outlier detection </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+spreads">spreads</a></code> </td><td style="text-align: left;"> Computes spreads from a price/index stream </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+turns">turns</a></code> </td><td style="text-align: left;"> Computes turning points in a <code>"timeSeries"</code> object </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+turnsStats">turnsStats</a></code> </td><td style="text-align: left;"> Computes turning points statistics </td>
</tr>

</table>



<h3>Statistics Time Series functions</h3>


<table>
<tr>
 <td style="text-align: left;"> 
    <code><a href="#topic+colCumsums">colCumsums</a></code> </td><td style="text-align: left;"> Computes cumulated column sums of a <code>"timeSeries"</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+colCummaxs">colCummaxs</a></code> </td><td style="text-align: left;"> Computes cumulated maximum of a <code>"timeSeries"</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+colCummins">colCummins</a></code> </td><td style="text-align: left;"> Computes cumulated minimum of a <code>"timeSeries"</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+colCumprods">colCumprods</a></code> </td><td style="text-align: left;"> Computes cumulated pruduct values by column </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+colCumreturns">colCumreturns</a></code> </td><td style="text-align: left;"> Computes cumulated returns by column </td>
</tr>
<tr>
 <td style="text-align: left;">    
    <code><a href="#topic+colSums+2CtimeSeries-method">colSums</a></code> </td><td style="text-align: left;"> Computes sums of all values in each column </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+colMeans+2CtimeSeries-method">colMeans</a></code> </td><td style="text-align: left;"> Computes means of all values in each column </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+colSds">colSds</a></code> </td><td style="text-align: left;"> Computes standard deviations of all values in each column </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+colVars">colVars</a></code> </td><td style="text-align: left;"> Computes variances of all values in each column  </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+colSkewness">colSkewness</a></code> </td><td style="text-align: left;"> Computes skewness of all values in each column  </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+colKurtosis">colKurtosis</a></code> </td><td style="text-align: left;"> Computes kurtosis of all values in each column  </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+colMaxs">colMaxs</a></code> </td><td style="text-align: left;"> Computes maxima of all values in each column  </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+colMins">colMins</a></code> </td><td style="text-align: left;"> Computes minima of all values in each column  </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+colProds">colProds</a></code> </td><td style="text-align: left;"> Computes products of all values in each column </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+colStats">colStats</a></code> </td><td style="text-align: left;"> Computes statistics of all values in each column  </td>
</tr>
<tr>
 <td style="text-align: left;">    
    <code><a href="#topic+orderColnames">orderColnames</a></code> </td><td style="text-align: left;"> Returns ordered column names of a <code>"timeSeries"</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+sortColnames">sortColnames</a></code> </td><td style="text-align: left;"> Returns alphabetically sorted column names </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+sampleColnames">sampleColnames</a></code> </td><td style="text-align: left;"> Returns sampled column names of a <code>"timeSeries"</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+pcaColnames">pcaColnames</a></code> </td><td style="text-align: left;"> Returns PCA correlation ordered column names </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+hclustColnames">hclustColnames</a></code> </td><td style="text-align: left;"> Returns hierarchically clustered columnames </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+statsColnames">statsColnames</a></code> </td><td style="text-align: left;"> Returns statisticall rearrange columnames </td>
</tr>
<tr>
 <td style="text-align: left;">   
    <code><a href="#topic+orderStatistics">orderStatistics</a></code> </td><td style="text-align: left;"> Computes order statistics of a <code>"timeSeries"</code> object </td>
</tr>
<tr>
 <td style="text-align: left;">   
    <code><a href="#topic+rollMean">rollMean</a></code> </td><td style="text-align: left;"> Computes rolling means of a <code>"timeSeries"</code> object </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+rollMin">rollMin</a></code> </td><td style="text-align: left;"> Computes rolling minima of a <code>"timeSeries"</code> object </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+rollMax">rollMax</a></code> </td><td style="text-align: left;"> Computes rolling maxima of a <code>"timeSeries"</code> object </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+rollMedian">rollMedian</a></code> </td><td style="text-align: left;"> Computes rolling medians of a <code>"timeSeries"</code> object </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+rollStats">rollStats</a></code> </td><td style="text-align: left;"> Computes rolling statistics of a <code>"timeSeries"</code> objectcr </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+rowCumsums">rowCumsums</a></code> </td><td style="text-align: left;"> Computes cumulated column sums of a <code>"timeSeries"</code> </td>
</tr>
<tr>
 <td style="text-align: left;">   
    <code><a href="#topic+smoothLowess">smoothLowess</a></code> </td><td style="text-align: left;"> Smoothes a series with lowess function </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+smoothSupsmu">smoothSupsmu</a></code> </td><td style="text-align: left;"> Smoothes a series with supsmu function </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+smoothSpline">smoothSpline</a></code> </td><td style="text-align: left;"> Smoothes a series with smooth.spline function </td>
</tr>

</table>



<h3>Misc Functions</h3>


<table>
<tr>
 <td style="text-align: left;">  
    
    <code><a href="#topic+dummyDailySeries">dummyDailySeries</a></code> </td><td style="text-align: left;"> Creates a dummy daily <code>"timeSeries"</code> object </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+isMonthly+2CtimeSeries-method">isMonthly</a></code> </td><td style="text-align: left;"> Decides if the series consists of monthly records </td>
</tr>
<tr>
 <td style="text-align: left;"> 
    <code><a href="#topic+isDaily+2CtimeSeries-method">isDaily</a></code> </td><td style="text-align: left;"> Decides if the series consists of daily records </td>
</tr>
<tr>
 <td style="text-align: left;"> 
    <code><a href="#topic+isQuarterly+2CtimeSeries-method">isQuarterly</a></code> </td><td style="text-align: left;"> Decides if the series consists of Quarterly records </td>
</tr>
<tr>
 <td style="text-align: left;"> 
    <code><a href="#topic+description">description</a></code>  </td><td style="text-align: left;"> Creates default description string 
    
    </td>
</tr>

</table>



<h3>Author(s)</h3>

<p>Diethelm Wuertz [aut] (original code),
Tobias Setz [aut],
Yohan Chalabi [aut],
Martin Maechler [ctb] (&lt;https://orcid.org/0000-0002-8685-9910&gt;),
Georgi N. Boshnakov [cre, aut]
</p>
<p>Maintainer: Georgi N. Boshnakov &lt;georgi.boshnakov@manchester.ac.uk&gt;
</p>

<hr>
<h2 id='TimeSeriesClass'>Create objects from class 'timeSeries'</h2><span id='topic+TimeSeriesClass'></span><span id='topic+timeSeries'></span><span id='topic+timeSeries+2CANY+2CANY-method'></span><span id='topic+timeSeries+2CANY+2Cmissing-method'></span><span id='topic+timeSeries+2CANY+2CtimeDate-method'></span><span id='topic+timeSeries+2Cmatrix+2CANY-method'></span><span id='topic+timeSeries+2Cmatrix+2Cmissing-method'></span><span id='topic+timeSeries+2Cmatrix+2CtimeDate-method'></span><span id='topic+timeSeries+2Cmissing+2CANY-method'></span><span id='topic+timeSeries+2Cmissing+2Cmissing-method'></span><span id='topic+timeSeries+2Cmissing+2CtimeDate-method'></span><span id='topic+timeSeries+2Cmatrix+2Cnumeric-method'></span><span id='topic+index_timeSeries'></span><span id='topic+time_timeSeries'></span><span id='topic+index_timeSeries-class'></span><span id='topic+time_timeSeries-class'></span><span id='topic+summary.timeseries'></span>

<h3>Description</h3>

<p><code>timeSeries</code> creates a <code>"timeSeries"</code> object from scratch.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>timeSeries(data, charvec, units = NULL, format = NULL, zone = "", 
           FinCenter = "", recordIDs = data.frame(), title = NULL, 
           documentation = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="TimeSeriesClass_+3A_data">data</code></td>
<td>

<p>a <code>matrix</code> object or any objects which can be coerced to a matrix.
</p>
</td></tr>
<tr><td><code id="TimeSeriesClass_+3A_charvec">charvec</code></td>
<td>

<p>a character vector of dates and times or any objects which can
be coerced to a <code>"timeDate"</code> object.
</p>
</td></tr>
<tr><td><code id="TimeSeriesClass_+3A_units">units</code></td>
<td>

<p>an optional character string, which allows to overwrite the 
current column names of a <code>"timeSeries"</code> object. By default 
<code>NULL</code> which means that the column names are selected
automatically. 
</p>
</td></tr>     
<tr><td><code id="TimeSeriesClass_+3A_format">format</code></td>
<td>

<p>the format specification of the input character vector,
a character string with the format in POSIX notation.
</p>
</td></tr>  
<tr><td><code id="TimeSeriesClass_+3A_zone">zone</code></td>
<td>

<p>the time zone or financial center where the data were recorded.
</p>
</td></tr>  
<tr><td><code id="TimeSeriesClass_+3A_fincenter">FinCenter</code></td>
<td>

<p>a character with the the location of the  financial center named 
as &quot;continent/city&quot;. 
</p>
</td></tr>
<tr><td><code id="TimeSeriesClass_+3A_recordids">recordIDs</code></td>
<td>

<p>for <code>timeSeries</code>, a data frame which can be used for record
identification.
</p>
</td></tr>
<tr><td><code id="TimeSeriesClass_+3A_title">title</code></td>
<td>

<p>an optional title string, if not specified the input's data 
name is deparsed.
</p>
</td></tr>
<tr><td><code id="TimeSeriesClass_+3A_documentation">documentation</code></td>
<td>

<p>optional documentation string, or a vector of character strings.
</p>
</td></tr>
<tr><td><code id="TimeSeriesClass_+3A_...">...</code></td>
<td>

<p>arguments passed to other methods.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p><b>Generation of Time Series Objects:</b>
<br />
</p>
<p>We have defined a <code>"timeSeries"</code> class which is in many aspects
similar to the S-Plus class with the same name, but has also some
important differences. The class has seven Slots, the 'Data' slot
which holds the time series data in matrix form, the 'position' slot
which holds the time/date as a character vector, the 'format' and
'FinCenter' slots which are the same as for the 'timeDate' object, the
'units' slot which holds the column names of the data matrix, and a
'title' and a 'documentation' slot which hold descriptive character
strings.  Date and time is managed in the same way as for
<code>timeDate</code> objects.
</p>
<p><code><a href="#topic+as.timeSeries">as.timeSeries</a></code> also creates <code>"timeSeries"</code> objects.
<code>as.timeSeries(x)</code> is mostly equivalent to <code>timeSeries(x)</code>
but the two functions have different methods. Beside that, the main
difference between the two functions is that <code>as.timeSeries</code>
doesn't accept additional arguments. The one argument call is
naturally interpreted as &lsquo;convert to&rsquo;, so
<code><a href="#topic+as.timeSeries">as.timeSeries</a></code> is more expressive and is recommended in
that case.
</p>
<p><code>"timeSeries"</code> methods are provided for many base R functions,
including arithmetic operations, mathematical functions, <code>print</code>,
<code>summary</code>, and time series functions. Not all are explicitly
documented, since they can just be used. 
</p>


<h3>Value</h3>

<p>an S4 object of class <code>"timeSeries"</code>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+as.timeSeries">as.timeSeries</a></code>,
class <code><a href="#topic+timeSeries-class">timeSeries</a></code>,
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Load Microsoft data -
   # Microsoft Data: 
   setRmetricsOptions(myFinCenter = "GMT")
   data(MSFT)
   head(MSFT)

## Create a 'timeSeries' object, the direct Way ...
   Close &lt;- MSFT[, 5]
   head(Close)
   
## Create a 'timeSeries' object from scratch - 
   data &lt;- as.matrix(MSFT[, 4])
   charvec &lt;- rownames(MSFT)
   Close &lt;- timeSeries(data, charvec, units = "Close")
   head(Close)
   c(start(Close), end(Close))

## Cut out April data from 2001 - 
   tsApril01 &lt;- window(Close, "2001-04-01", "2001-04-30") 
   tsApril01

## Compute Continuous Returns - 
   returns(tsApril01)
   
## Compute Discrete Returns - 
   returns(tsApril01, type = "discrete")
   
## Compute Discrete Returns, Don't trim -
   returns(tsApril01, trim = FALSE)
   
## Compute Discrete Returns, Use Percentage Values - 
   tsRet &lt;- returns(tsApril01, percentage = TRUE, trim = FALSE)
   tsRet
     
## Aggregate Weekly - 
   GoodFriday(2001)
   to &lt;- timeSequence(from = "2001-04-11", length.out = 3, by = "week") 
   from &lt;- to - 6*24*3600
   from
   to
   applySeries(tsRet, from, to, FUN = sum)

## Create large 'timeSeries' objects with different 'charvec' object classes - 
   # charvec is a 'timeDate' object
   head(timeSeries(1:1e6L, timeSequence(length.out = 1e6L, by = "sec")))
   head(timeSeries(1:1e6L, seq(Sys.timeDate(), length.out = 1e6L, by = "sec")))
   # 'charvec' is a 'POSIXt' object
   head(timeSeries(1:1e6L, seq(Sys.time(), length.out = 1e6L, by = "sec")))
   # 'charvec' is a 'numeric' object
   head(timeSeries(1:1e6L, 1:1e6L))
</code></pre>

<hr>
<h2 id='TimeSeriesData'>Time series data sets</h2><span id='topic+TimeSeriesData'></span><span id='topic+LPP2005REC'></span><span id='topic+MSFT'></span><span id='topic+USDCHF'></span>

<h3>Description</h3>

<p>Three data sets used in example files.
</p>


<h3>Details</h3>

<p>The following datasets are available:
</p>
   
<dl>
<dt>MSFT</dt><dd>
<p>Daily Microsoft OHLC (Open-high-low-close) prices and volume from
2000-09-27 to 2001-09-27.
</p>
</dd>
<dt>USDCHF</dt><dd>
<p>USD/CHF intraday foreign exchange rates.
</p>
</dd>
<dt>LPP2005REC</dt><dd>
<p>Swiss pension fund assets returns benchmark from 2005-11-01 to
2007-04-11.
</p>
</dd>
</dl>

<p>The datasets are objects from class <code>"timeSeries"</code>.
</p>


<h3>Note</h3>

<p>No further information about the <code>LPP2005REC</code> is available. The
meaning of the columns?
</p>


<h3>See Also</h3>

<p><code><a href="#topic+readSeries">readSeries</a></code>,
<code><a href="#topic+timeSeries">timeSeries</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## LPP2005 example data set
data(LPP2005REC)
plot(LPP2005REC, type = "l")
class(LPP2005REC)
dim(LPP2005REC)
head(LPP2005REC)
LPP2005REC[1:5, 2:4]
range(time(LPP2005REC))
summary(LPP2005REC)
   
## MSFT example data set
data(MSFT)
plot(MSFT[, 1:4], type = "l")
plot(MSFT[, 5], type = "h")
class(MSFT)
range(time(MSFT))
head(MSFT)
   
## Plot USDCHF example data set
data(USDCHF)
plot(USDCHF)
range(time(USDCHF))
head(USDCHF)
</code></pre>

<hr>
<h2 id='TimeSeriesSubsettings'>Subsetting time series</h2><span id='topic+TimeSeriesSubsettings'></span><span id='topic++24+2CtimeSeries-method'></span><span id='topic++5B+2CtimeSeries+2CANY+2Cindex_timeSeries-method'></span><span id='topic++5B+2CtimeSeries+2Ccharacter+2Ccharacter-method'></span><span id='topic++5B+2CtimeSeries+2Ccharacter+2Cindex_timeSeries-method'></span><span id='topic++5B+2CtimeSeries+2Ccharacter+2Cmissing-method'></span><span id='topic++5B+2CtimeSeries+2Cindex_timeSeries+2Ccharacter-method'></span><span id='topic++5B+2CtimeSeries+2Cindex_timeSeries+2Cindex_timeSeries-method'></span><span id='topic++5B+2CtimeSeries+2Cindex_timeSeries+2Cmissing-method'></span><span id='topic++5B+2CtimeSeries+2Cmatrix+2Cmissing-method'></span><span id='topic++5B+2CtimeSeries+2Cmissing+2Ccharacter-method'></span><span id='topic++5B+2CtimeSeries+2Cmissing+2Cindex_timeSeries-method'></span><span id='topic++5B+2CtimeSeries+2Cmissing+2Cmissing-method'></span><span id='topic++5B+2CtimeSeries+2Ctime_timeSeries+2CANY-method'></span><span id='topic++5B+2CtimeSeries+2Ctime_timeSeries+2Ccharacter-method'></span><span id='topic++5B+2CtimeSeries+2Ctime_timeSeries+2Cindex_timeSeries-method'></span><span id='topic++5B+2CtimeSeries+2Ctime_timeSeries+2Cmissing-method'></span><span id='topic++5B+2CtimeSeries+2CtimeDate+2Ccharacter-method'></span><span id='topic++5B+2CtimeSeries+2CtimeDate+2Cindex_timeSeries-method'></span><span id='topic++5B+2CtimeSeries+2CtimeDate+2Cmissing-method'></span><span id='topic++5B+2CtimeSeries+2CtimeSeries+2Cindex_timeSeries-method'></span><span id='topic++5B+2CtimeSeries+2CtimeSeries+2Cmissing-method'></span><span id='topic++24+3C-+2CtimeSeries+2CANY-method'></span><span id='topic++24+3C-+2CtimeSeries+2Cfactor-method'></span><span id='topic++24+3C-+2CtimeSeries+2Cnumeric-method'></span><span id='topic++5B+3C-+2CtimeSeries+2Ccharacter+2CANY-method'></span><span id='topic++5B+3C-+2CtimeSeries+2Ccharacter+2Cmissing-method'></span><span id='topic++5B+3C-+2CtimeSeries+2CtimeDate+2CANY-method'></span><span id='topic++5B+3C-+2CtimeSeries+2CtimeDate+2Cmissing-method'></span><span id='topic+head'></span><span id='topic+head.timeSeries'></span><span id='topic+tail'></span><span id='topic+tail.timeSeries'></span><span id='topic+outlier'></span><span id='topic+outlier+2CtimeSeries-method'></span><span id='topic+outlier+2CANY-method'></span>

<h3>Description</h3>

<p>Objects from class <code>"timeSeries"</code> can be subsetted in different
ways.  Methods are defined for the subsetting operators <code>"$"</code>,
<code>"["</code> and their assignment versions, as well as for some related
functions from base <span class="rlang"><b>R</b></span>. A function to drop or extract outliers is also
described here.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'timeSeries'
head(x, n = 6, recordIDs = FALSE, ...)
## S3 method for class 'timeSeries'
tail(x, n = 6, recordIDs = FALSE, ...)

outlier(x, sd = 5, complement = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="TimeSeriesSubsettings_+3A_x">x</code></td>
<td>

<p>an object of class <code>timeSeries</code>.
</p>
</td></tr>










<tr><td><code id="TimeSeriesSubsettings_+3A_n">n</code></td>
<td>

<p>an integer specifying the number of lines to be returned. 
By default <code>n=6</code>.
</p>
</td></tr>
<tr><td><code id="TimeSeriesSubsettings_+3A_recordids">recordIDs</code></td>
<td>

<p>a logical value. Should the <code>recordIDs</code> be returned together
with the data matrix and time series positions?
</p>
</td></tr>
<tr><td><code id="TimeSeriesSubsettings_+3A_sd">sd</code></td>
<td>

<p>a numeric value of standard deviations, e.g. 10 means that values
larger or smaller than ten times the standard deviation will be
removed from the series.
</p>
</td></tr>
<tr><td><code id="TimeSeriesSubsettings_+3A_complement">complement</code></td>
<td>

<p>a logical flag. If <code>TRUE</code>, the default, return the series free
of outliers. If <code>FALSE</code>, return the outliers series.
</p>
</td></tr>




<tr><td><code id="TimeSeriesSubsettings_+3A_...">...</code></td>
<td>

<p>arguments passed to other methods.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>"timeSeries"</code> methods for the subsetting operators <code>"$"</code>,
<code>"["</code> and their assignment versions, as well as for the functions
<code>head</code> and <code>tail</code> are meant to do what the user expects.
</p>
<p><strong>TODO:</strong> Further details are needed here, despite the above
paragraph.
</p>
<p><code>outlier</code> drops the outliers if <code>complement = TRUE</code> and
returns only them if <code>complement = FALSE</code>.
</p>
<p>All functions described here return <code>"timeSeries"</code> objects.
</p>
<p>See also <code><a href="#topic+window">window</a></code> which extracts the sub-series between
two datetimes.
</p>


<h3>Value</h3>

<p>All functions return an object of class <code>"timeSeries"</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+window">window</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Create an Artificial 'timeSeries' Object
setRmetricsOptions(myFinCenter = "GMT")
charvec &lt;- timeCalendar()
set.seed(4711)
data &lt;- matrix(exp(cumsum(rnorm(12, sd = 0.1))))
tS &lt;- timeSeries(data, charvec, units = "tS")
tS
   
## Subset Series by Counts "["
tS[1:3, ]
       
## Subset the Head of the Series
head(tS, 6)
</code></pre>

<hr>
<h2 id='turns'>Turning points of a time series</h2><span id='topic+turns'></span><span id='topic+turnsStats'></span>

<h3>Description</h3>

<p>Extracts and analyzes turning points of an univariate
<code>"timeSeries"</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>turns(x, ...)

turnsStats(x, doplot = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="turns_+3A_x">x</code></td>
<td>

<p>an univariate <code>"timeSeries"</code> object of financial indices or prices.
</p>
</td></tr>
<tr><td><code id="turns_+3A_...">...</code></td>
<td>

<p>optional arguments passed to the function <code>na.omit</code>.
</p>
</td></tr>
<tr><td><code id="turns_+3A_doplot">doplot</code></td>
<td>

<p>a logical flag, should the results be plotted? By default TRUE.    
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function <code>turns</code> determines the number and the positions of
extrema (turning points, either peaks or pits) in a regular time
series.
</p>
<p>The function <code>turnsStats</code> calculates the quantity of information
associated with the observations in this series, according to
Kendall's information theory.
</p>
<p>The functions are borrowed from the contributed R package
<code>pastecs</code> and made ready for working together with univariate
<code>timeSeries</code> objects. You need not to load the R package
<code>pastecs</code>, the code parts we need here are builtin in the
<code>timeSeries</code> package.
</p>
<p>We have renamed the function <code>turnpoints</code> to <code>turns</code> to
distinguish between the original function in the contributed R package
<code>pastecs</code> and our Rmetrics function wrapper.
</p>
<p>For further details please consult the help page from the contributed
R package <code>pastecs</code>.
</p>


<h3>Value</h3>

<p>for <code>turns</code>, an object of class <code>timeSeries</code>.<br />
</p>
<p>for <code>turnsStats</code>, an object of class <code>turnpoints</code> with the
following entries:
</p>
<table>
<tr><td><code>data</code></td>
<td>
<p>The dataset to which the calculation is done.</p>
</td></tr>
<tr><td><code>n</code></td>
<td>
<p>The number of observations.</p>
</td></tr>
<tr><td><code>points</code></td>
<td>
<p>The value of the points in the series, after elimination of ex-aequos.</p>
</td></tr>
<tr><td><code>pos</code></td>
<td>
<p>The position of the points on the time scale in the series (including ex-aequos).</p>
</td></tr>
<tr><td><code>exaequos</code></td>
<td>
<p>Location of exaequos (1), or not (0).</p>
</td></tr>
<tr><td><code>nturns</code></td>
<td>
<p>Total number of turning points in the whole time series.</p>
</td></tr>
<tr><td><code>firstispeak</code></td>
<td>
<p>Is the first turning point a peak (TRUE), or not (FALSE).</p>
</td></tr>
<tr><td><code>peaks</code></td>
<td>
<p>Logical vector. Location of the peaks in the time series without ex-aequos.</p>
</td></tr>
<tr><td><code>pits</code></td>
<td>
<p>Logical vector. Location of the pits in the time series without ex-aequos.</p>
</td></tr>
<tr><td><code>tppos</code></td>
<td>
<p>Position of the turning points in the initial series (with ex-aequos).</p>
</td></tr>
<tr><td><code>proba</code></td>
<td>
<p>Probability to find a turning point at this location.</p>
</td></tr> 
<tr><td><code>info</code></td>
<td>
<p>Quantity of information associated with this point.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Frederic Ibanez and Philippe Grosjean for code from the contributed R
package <code>pastecs</code> and Rmetrics for the function wrapper.
</p>


<h3>References</h3>

<p>Ibanez, F., 1982, Sur une nouvelle application de la theorie de 
l'information a la description des series chronologiques planctoniques. 
J. Exp. Mar. Biol. Ecol., 4, 619&ndash;632
</p>
<p>Kendall, M.G., 1976, Time Series, 2nd ed. Charles Griffin and Co, London.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Load Swiss Equities Series -  
   SPI.RET &lt;- LPP2005REC[, "SPI"]
   head(SPI.RET)

## Cumulate and Smooth the Series -
   SPI &lt;- smoothLowess(cumulated(SPI.RET), f=0.05)
   plot(SPI)
   
## Plot Turn Points Series - 
   SPI.SMOOTH &lt;- SPI[, 2]
   tP &lt;- turns(SPI.SMOOTH)
   plot(tP)
   
## Compute Statistics -
   turnsStats(SPI.SMOOTH)
</code></pre>

<hr>
<h2 id='units'>Get and set unit names of a 'timeSeries'</h2><span id='topic+getUnits'></span><span id='topic+getUnits.default'></span><span id='topic+setUnits+3C-'></span>

<h3>Description</h3>

<p>Gets and sets the column names of a <code>"timeSeries"</code> object. The
column names are also called units or unit names.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getUnits(x)         
setUnits(x) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="units_+3A_x">x</code></td>
<td>

<p>a <code>"timeSeries"</code> object.
</p>
</td></tr>
<tr><td><code id="units_+3A_value">value</code></td>
<td>

<p>a character vector of unit names.
</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+timeSeries">timeSeries</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## A Dummy 'timeSeries' Object
   tS &lt;- dummyMonthlySeries()
   tS

## Get the Units - 
   getUnits(tS)

## Assign New Units to the Series - 
   setUnits(tS) &lt;- c("A", "B")
   head(tS)
</code></pre>

<hr>
<h2 id='wealth'>Conversion of an index to wealth</h2><span id='topic+index2wealth'></span>

<h3>Description</h3>

<p>Converts an index series to a wealth series normalizing the starting
value to one.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>index2wealth(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="wealth_+3A_x">x</code></td>
<td>

<p>an object of class 'timeSeries'.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>returns a time series object of the same class as the input
argument <code>x</code> normalizing the starting value to one.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+returns">returns</a></code>,
<code><a href="#topic+cumulated">cumulated</a></code>,
<code><a href="#topic+drawdowns">drawdowns</a></code>,
<code><a href="#topic+splits">splits</a></code>,
<code><a href="#topic+spreads">spreads</a></code>,
<code><a href="#topic+midquotes">midquotes</a></code>,

</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Load MSFT Open Prices  - 
   INDEX &lt;- MSFT[1:20, 1]
   INDEX
   
## Compute Wealth Normalized to 100 - 
   100 * index2wealth(INDEX)
</code></pre>

<hr>
<h2 id='window'>Methods for 'window' in package 'timeSeries'</h2><span id='topic+window'></span><span id='topic+window+2CtimeSeries-method'></span><span id='topic+window.timeSeries'></span>

<h3>Description</h3>

<p>Extract a part from a <code>"timeSeries"</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'timeSeries'
window(x, start, end, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="window_+3A_x">x</code></td>
<td>

<p>an object of class <code>"timeSeries"</code>.
</p>
</td></tr>
<tr><td><code id="window_+3A_start">start</code>, <code id="window_+3A_end">end</code></td>
<td>

<p>starting date and end date, <code>end</code> must be after <code>start</code>.
</p>
</td></tr>
<tr><td><code id="window_+3A_...">...</code></td>
<td>

<p>arguments passed to other methods.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>window</code> extracts the subset of the <code>"timeSeries"</code> object
<code>x</code> observed between the times <code>start</code> and <code>end</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+head.timeSeries">head</a></code>,
<code><a href="#topic+outlier">outlier</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## load LPP benchmark returns
x &lt;- LPP2005REC[, 7:9]
range(time(x))
  
## extract data for January 2006
window(x, "2006-01-01", "2006-01-31")
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

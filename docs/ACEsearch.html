<!DOCTYPE html><html lang="en"><head><title>Help for package ACEsearch</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ACEsearch}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#ACEsearch.connect'><p>Connects to ACE instance</p></a></li>
<li><a href='#ACEsearch.contains'><p>Returns whether patient with the specified patient_id exists</p></a></li>
<li><a href='#ACEsearch.csv'><p>Queries ACE with a CSV() command and imports the contents of the csv into a data frame</p></a></li>
<li><a href='#ACEsearch.dump'><p>Dumps patient from ACE to a file on disk</p></a></li>
<li><a href='#ACEsearch.query'><p>Queries ACE and returns a list of patient IDs</p></a></li>
<li><a href='#ACEsearch.status'><p>Returns the status of the ACE search engine</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>'ACE' Search Engine API</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.0</td>
</tr>
<tr>
<td>Author:</td>
<td>Vladimir Polony</td>
</tr>
<tr>
<td>Date:</td>
<td>2020-09-09</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Vladimir Polony &lt;podalv@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>'ACE' (Advanced Cohort Engine) is a powerful tool that allows constructing cohorts of patients 
             extremely quickly and efficiently. This package is designed to interface directly with an 
             instance of 'ACE' search engine and facilitates API queries and data dumps. Prerequisite
             is a good knowledge of the temporal language to be able to efficiently construct a query.
             More information available at <a href="https://shahlab.stanford.edu/start">https://shahlab.stanford.edu/start</a>.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://shahlab.stanford.edu/start">https://shahlab.stanford.edu/start</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>httr, testthat</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.0.1.9000</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-09-24 16:11:54 UTC; podalv</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-09-28 09:40:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='ACEsearch.connect'>Connects to ACE instance</h2><span id='topic+ACEsearch.connect'></span>

<h3>Description</h3>

<p>Attempts to connect to ACE instance using URL:PORT
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ACEsearch.connect(url)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ACEsearch.connect_+3A_url">url</code></td>
<td>
<p>url address of a running ACE instance, usually containing port information</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data frame containing connection information used for all other accessory functions
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ACEsearch.connect("http://localhost:8080")

</code></pre>

<hr>
<h2 id='ACEsearch.contains'>Returns whether patient with the specified patient_id exists</h2><span id='topic+ACEsearch.contains'></span>

<h3>Description</h3>

<p>Returns the statistics information
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ACEsearch.contains(connection, patient_id)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ACEsearch.contains_+3A_connection">connection</code></td>
<td>
<p>connection object returned from connect(url) function</p>
</td></tr>
<tr><td><code id="ACEsearch.contains_+3A_patient_id">patient_id</code></td>
<td>
<p>numerical id of the patient</p>
</td></tr>
</table>


<h3>Value</h3>

<p>TRUE or FALSE
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ACEsearch.contains(ACEsearch.connect('http://localhost:8080'), 123)


</code></pre>

<hr>
<h2 id='ACEsearch.csv'>Queries ACE with a CSV() command and imports the contents of the csv into a data frame</h2><span id='topic+ACEsearch.csv'></span>

<h3>Description</h3>

<p>Queries ACE with a CSV() command and imports the contents of the csv into a data frame
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ACEsearch.csv(connection, query, file_name = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ACEsearch.csv_+3A_connection">connection</code></td>
<td>
<p>connection object returned from connect(url) function</p>
</td></tr>
<tr><td><code id="ACEsearch.csv_+3A_query">query</code></td>
<td>
<p>ACE CSV query</p>
</td></tr>
<tr><td><code id="ACEsearch.csv_+3A_file_name">file_name</code></td>
<td>
<p>if specified, stores the csv into the file_name, otherwise the temporary
file used to download the data will be deleted after the data.frame is generated</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data frame containing CSV file
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ACEsearch.csv(ACEsearch.connect('http://localhost:8080'), 'CSV(ICD9=250.50, CPT, LABS, ICD9)')
ACEsearch.csv(ACEsearch.connect('http://localhost:8080'), 'CSV(ICD9=250.50, CPT, LABS, ICD9)',
          '/output.csv')

</code></pre>

<hr>
<h2 id='ACEsearch.dump'>Dumps patient from ACE to a file on disk</h2><span id='topic+ACEsearch.dump'></span>

<h3>Description</h3>

<p>Dumps patient from ACE to a file on disk
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ACEsearch.dump(connection, patient_id, path, selection_query = NULL,
  contains_start = FALSE, contains_end = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ACEsearch.dump_+3A_connection">connection</code></td>
<td>
<p>connection object returned from connect(url) function</p>
</td></tr>
<tr><td><code id="ACEsearch.dump_+3A_patient_id">patient_id</code></td>
<td>
<p>numerical id of the patient</p>
</td></tr>
<tr><td><code id="ACEsearch.dump_+3A_path">path</code></td>
<td>
<p>path where to store the generated files</p>
</td></tr>
<tr><td><code id="ACEsearch.dump_+3A_selection_query">selection_query</code></td>
<td>
<p>returns only the part of patient's data that intersects with the result of the selection_query</p>
</td></tr>
<tr><td><code id="ACEsearch.dump_+3A_contains_start">contains_start</code></td>
<td>
<p>the dumped time interval's start has to be intersecting the selection_query</p>
</td></tr>
<tr><td><code id="ACEsearch.dump_+3A_contains_end">contains_end</code></td>
<td>
<p>the dumped time interval's end has to be intersecting the selection_query</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data frame containing patient IDs and time intervals (optional)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ACEsearch.dump(ACEsearch.connect('http://localhost:8080'), 123, '/path/to/dump/files/')
ACEsearch.dump(ACEsearch.connect('http://localhost:8080'), 123, '/path/', 'ICD9=250.50', TRUE, TRUE)


</code></pre>

<hr>
<h2 id='ACEsearch.query'>Queries ACE and returns a list of patient IDs</h2><span id='topic+ACEsearch.query'></span>

<h3>Description</h3>

<p>Queries ACE and returns a list of patient IDs
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ACEsearch.query(connection, query, output_time = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ACEsearch.query_+3A_connection">connection</code></td>
<td>
<p>connection object returned from connect(url) function</p>
</td></tr>
<tr><td><code id="ACEsearch.query_+3A_query">query</code></td>
<td>
<p>ACE query</p>
</td></tr>
<tr><td><code id="ACEsearch.query_+3A_output_time">output_time</code></td>
<td>
<p>equivalent to wrapping the query in OUTPUT() command. Togerther with patient IDs outputs each
time interval in patient's timeline when the query was evaluated as true</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data frame containing patient IDs and time intervals (optional)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ACEsearch.query(ACEsearch.connect('http://localhost:8080'), 'ICD9=250.50')
ACEsearch.query(ACEsearch.connect('http://localhost:8080'), 'ICD9=250.50', TRUE)


</code></pre>

<hr>
<h2 id='ACEsearch.status'>Returns the status of the ACE search engine</h2><span id='topic+ACEsearch.status'></span>

<h3>Description</h3>

<p>Returns the status of the ACE search engine
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ACEsearch.status(connection)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ACEsearch.status_+3A_connection">connection</code></td>
<td>
<p>connection object returned from connect(url) function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data frame containing patient IDs and time intervals (optional)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ACEsearch.status(ACEsearch.connect('http://localhost:8080'))


</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

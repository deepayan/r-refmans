<!DOCTYPE html><html><head><title>Help for package cats</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {cats}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#make_decision_trial'><p>Checks whether decision criteria are met and updates trial results accordingly.</p></a></li>
<li><a href='#simulate_trial'><p>Simulates the cohort trial.</p></a></li>
<li><a href='#trial_ocs'><p>Calculates the operating characteristics of the cohort trial</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Cohort Platform Trial Simulation</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.2</td>
</tr>
<tr>
<td>Author:</td>
<td>Elias Laurin Meyer [aut, cre],
  Peter Mesenbrink [ctb],
  Franz Koenig [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Elias Laurin Meyer &lt;elias.meyer@meduniwien.ac.at&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Cohort plAtform Trial Simulation whereby every cohort consists of two arms, 
             control and experimental treatment. Endpoints are co-primary binary endpoints and
             decisions are made using either Bayesian or frequentist decision rules. 
             Realistic trial trajectories are simulated and the operating characteristics of the 
             designs are calculated.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr, purrr, ggplot2, plotly, tidyr, parallel, doParallel,
foreach, openxlsx, forcats, epitools, zoo, mvtnorm</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, DT, gtools</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-03-10 11:52:22 UTC; Elias</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-03-11 10:20:07 UTC</td>
</tr>
</table>
<hr>
<h2 id='make_decision_trial'>Checks whether decision criteria are met and updates trial results accordingly.</h2><span id='topic+make_decision_trial'></span>

<h3>Description</h3>

<p>Given a res_list object, checks the supplied decision criteria and saves the results in the res_list file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_decision_trial(
  res_list,
  which_cohort,
  Bayes_Sup1 = NULL,
  Bayes_Fut1 = NULL,
  Bayes_Sup2 = NULL,
  Bayes_Fut2 = NULL,
  w = 0.5,
  analysis_number,
  beta_prior = 0.5,
  hist_lag,
  endpoint_number,
  analysis_time,
  dataset,
  hist_miss = TRUE,
  sharing_type,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="make_decision_trial_+3A_res_list">res_list</code></td>
<td>
<p>List item containing individual cohort trial results so far in a format used by the
other functions in this package</p>
</td></tr>
<tr><td><code id="make_decision_trial_+3A_which_cohort">which_cohort</code></td>
<td>
<p>Current cohort that should be evaluated</p>
</td></tr>
<tr><td><code id="make_decision_trial_+3A_bayes_sup1">Bayes_Sup1</code></td>
<td>
<p>List of matrices with rows corresponding to number of multiple Bayesian posterior two-arm combination criteria for superiority of histology endpoint 1</p>
</td></tr>
<tr><td><code id="make_decision_trial_+3A_bayes_fut1">Bayes_Fut1</code></td>
<td>
<p>List of matrices with rows corresponding to number of multiple Bayesian posterior two-arm combination criteria for futility of histology endpoint 1</p>
</td></tr>
<tr><td><code id="make_decision_trial_+3A_bayes_sup2">Bayes_Sup2</code></td>
<td>
<p>List of matrices with rows corresponding to number of multiple Bayesian posterior two-arm combination criteria for superiority of histology endpoint 2</p>
</td></tr>
<tr><td><code id="make_decision_trial_+3A_bayes_fut2">Bayes_Fut2</code></td>
<td>
<p>List of matrices with rows corresponding to number of multiple Bayesian posterior two-arm combination criteria for futility of histology endpoint 2</p>
</td></tr>
<tr><td><code id="make_decision_trial_+3A_w">w</code></td>
<td>
<p>If dynamic borrowing, what is the prior choice for w. Default is 0.5.</p>
</td></tr>
<tr><td><code id="make_decision_trial_+3A_analysis_number">analysis_number</code></td>
<td>
<p>1st, second or third analysis?</p>
</td></tr>
<tr><td><code id="make_decision_trial_+3A_beta_prior">beta_prior</code></td>
<td>
<p>Prior parameter for all Beta Distributions. Default is 0.5.</p>
</td></tr>
<tr><td><code id="make_decision_trial_+3A_hist_lag">hist_lag</code></td>
<td>
<p>Histology Lag</p>
</td></tr>
<tr><td><code id="make_decision_trial_+3A_endpoint_number">endpoint_number</code></td>
<td>
<p>Should histology endpoint 1 or 2 be evaluated?</p>
</td></tr>
<tr><td><code id="make_decision_trial_+3A_analysis_time">analysis_time</code></td>
<td>
<p>Platform Time of Analysis</p>
</td></tr>
<tr><td><code id="make_decision_trial_+3A_dataset">dataset</code></td>
<td>
<p>Dataset to be used for analysis</p>
</td></tr>
<tr><td><code id="make_decision_trial_+3A_hist_miss">hist_miss</code></td>
<td>
<p>Whether or not to exclude missing histology data</p>
</td></tr>
<tr><td><code id="make_decision_trial_+3A_sharing_type">sharing_type</code></td>
<td>
<p>Type of Data Sharing to perform</p>
</td></tr>
<tr><td><code id="make_decision_trial_+3A_...">...</code></td>
<td>
<p>Further arguments inherited from simulate_trial</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List containing original res_list and results of decision rules
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Example 1

# Initialize empty data frame
cols &lt;- c("PatID", "ArrivalTime", "Cohort", "Arm", "RespHist1", "RespHist2", "HistMissing")
df &lt;- matrix(nrow = 100, ncol = length(cols))
colnames(df) &lt;- cols
df &lt;- as.data.frame(df)
df$PatID &lt;- 1:100
df$ArrivalTime &lt;- sort(runif(100, min = 0, max = 5))
df$Cohort &lt;- sample(1:2, 100, replace = TRUE)
df$Arm &lt;- sample(c("Combo", "Plac"), 100, replace = TRUE)
df$RespHist1 &lt;- sample(0:1, 100, replace = TRUE)
df$RespHist2 &lt;- sample(0:1, 100, replace = TRUE)
df$HistMissing &lt;- sample(0:1, 100, replace = TRUE, prob = c(0.95, 0.05))

# Initialize res_list Object

res_list &lt;-
rep(
  list(
    list(
      Meta = list(
        decision = rep("none", 3),
        decision_hist1 = rep("none", 3),
        decision_hist2 = rep("none", 3),
        start_n = 0,
        start_time = 0,
        pat_enrolled = 0
      ),
      Arms = rep(
        list(
          list(
            rr = NULL,
            hist_observed = 0
          )
        ),
        2
      )
    )
  ),
  2
)

arm_names &lt;- c("Comb", "Plac")

for (i in 1:2) {
  names(res_list)[i] &lt;- paste0("Cohort", i)
  names(res_list[[i]]$Arms) &lt;- arm_names

  res_list[[i]]$Arms$Comb$rr &lt;- matrix(c(0.2, 0.2), ncol = 2)
  res_list[[i]]$Arms$Plac$rr &lt;- matrix(c(0.1, 0.1), ncol = 2)
}

sharing_type &lt;- "all"
analysis_number &lt;- 3
which_cohort &lt;- 1
endpoint_number &lt;- 2
hist_lag &lt;- 1
analysis_time &lt;- 6

# Comparison IA1
Bayes_Sup11 &lt;- matrix(nrow = 2, ncol = 2)
Bayes_Sup11[1,] &lt;- c(0.00, 0.95)
Bayes_Sup11[2,] &lt;- c(0.10, 0.80)
# Comparison IA2
Bayes_Sup12 &lt;- matrix(nrow = 2, ncol = 2)
Bayes_Sup12[1,] &lt;- c(0.00, 0.95)
Bayes_Sup12[2,] &lt;- c(NA, NA)
# Comparison IA3
Bayes_Sup13 &lt;- matrix(nrow = 2, ncol = 2)
Bayes_Sup13[1,] &lt;- c(0.00, 0.95)
Bayes_Sup13[2,] &lt;- c(0.10, 0.80)

Bayes_Sup1 &lt;- Bayes_Sup2 &lt;- list(list(Bayes_Sup11), list(Bayes_Sup12), list(Bayes_Sup13))


# DO NOT RUN
res_list2 &lt;-
make_decision_trial(
res_list = res_list, which_cohort = which_cohort,
analysis_number = analysis_number, endpoint_number = endpoint_number,
Bayes_Sup1 = Bayes_Sup1, Bayes_Sup2 = Bayes_Sup2,
dataset = df, analysis_time = analysis_time, hist_lag = hist_lag,
sharing_type = sharing_type
)

</code></pre>

<hr>
<h2 id='simulate_trial'>Simulates the cohort trial.</h2><span id='topic+simulate_trial'></span>

<h3>Description</h3>

<p>Simulates the cohort trial.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simulate_trial(
  n_fin,
  cohorts_start = 1,
  composite = "or",
  rr_comb1,
  rr_plac1,
  rr_comb2,
  rr_plac2,
  random_type = NULL,
  random = FALSE,
  correlation,
  prob_comb1_rr = NULL,
  prob_plac1_rr = NULL,
  prob_comb2_rr = NULL,
  prob_plac2_rr = NULL,
  stage_data = FALSE,
  cohort_random = NULL,
  cohorts_max = 4,
  sr_drugs_pos = 1,
  sr_pats = cohorts_max * (n_fin + 3 * cohorts_max),
  sr_first_pos = FALSE,
  cohort_offset = 0,
  sharing_type = "all",
  safety_prob = 0,
  cohorts_sim = Inf,
  missing_prob = 0,
  cohort_fixed = NULL,
  accrual_type = "fixed",
  accrual_param = 9,
  hist_lag = 48,
  analysis_times = c(0.5, 0.75, 1),
  time_trend = time_trend,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simulate_trial_+3A_n_fin">n_fin</code></td>
<td>
<p>Sample size per cohort at final</p>
</td></tr>
<tr><td><code id="simulate_trial_+3A_cohorts_start">cohorts_start</code></td>
<td>
<p>Number of cohorts to start the platform with</p>
</td></tr>
<tr><td><code id="simulate_trial_+3A_composite">composite</code></td>
<td>
<p>Rule for deriving the composite endpoint. By default &quot;or&quot;, otherwise &quot;and&quot;</p>
</td></tr>
<tr><td><code id="simulate_trial_+3A_rr_comb1">rr_comb1</code></td>
<td>
<p>Response rates of treatment, histology endpoint 1</p>
</td></tr>
<tr><td><code id="simulate_trial_+3A_rr_plac1">rr_plac1</code></td>
<td>
<p>Response rate of the SoC, histology endpoint 1</p>
</td></tr>
<tr><td><code id="simulate_trial_+3A_rr_comb2">rr_comb2</code></td>
<td>
<p>Response rates of treatment, histology endpoint 2</p>
</td></tr>
<tr><td><code id="simulate_trial_+3A_rr_plac2">rr_plac2</code></td>
<td>
<p>Response rate of the SoC, histology endpoint 2</p>
</td></tr>
<tr><td><code id="simulate_trial_+3A_random_type">random_type</code></td>
<td>
<p>How should the response rates be drawn randomly? Options are:
</p>
<p>&quot;absolute&quot;: Specify absolute response rates that will be drawn with a certain probability
</p>
<p>&quot;risk_difference&quot;: Specify absolute response rates for placebo which will be drawn randomly,
plus specify vectors for absolute treatment effects of mono therapies over placebo and
for combo over the mono therapies.
</p>
<p>&quot;risk_ratio&quot;: Specify absolute response rates for placebo which will be drawn randomly, plus specify vectors
for relative treatment effects of mono therapies over placebo and for combo over the mono therapies.
</p>
<p>&quot;odds_ratios&quot;: Specify response rate for placebo, specify odds-ratios for mono therapies
(via rr_back and rr_mono) and respective probabilities.
On top, specify interaction for the combination therapy via rr_comb with prob_rr_comb.
</p>
<p>Set: odds_combo = odds_plac * or_mono1 * or_mono2 * rr_comb.
If rr_comb &gt; 1 -&gt; synergistic, if rr_comb = 1 -&gt; additive. If rr_comb &lt; 1 -&gt; antagonistic.
Default is &quot;NULL&quot;.</p>
</td></tr>
<tr><td><code id="simulate_trial_+3A_random">random</code></td>
<td>
<p>Should the response rates of the arms be randomly drawn from rr_exp? Default is FALSE.</p>
</td></tr>
<tr><td><code id="simulate_trial_+3A_correlation">correlation</code></td>
<td>
<p>Correlation between histology endpoints</p>
</td></tr>
<tr><td><code id="simulate_trial_+3A_prob_comb1_rr">prob_comb1_rr</code></td>
<td>
<p>If random == TRUE, what are the probabilities with which the elements of rr_comb1 should be drawn?</p>
</td></tr>
<tr><td><code id="simulate_trial_+3A_prob_plac1_rr">prob_plac1_rr</code></td>
<td>
<p>If random == TRUE, what are the probabilities with which the elements of rr_plac1 should be drawn?</p>
</td></tr>
<tr><td><code id="simulate_trial_+3A_prob_comb2_rr">prob_comb2_rr</code></td>
<td>
<p>If random == TRUE, what are the probabilities with which the elements of rr_comb2 should be drawn?</p>
</td></tr>
<tr><td><code id="simulate_trial_+3A_prob_plac2_rr">prob_plac2_rr</code></td>
<td>
<p>If random == TRUE, what are the probabilities with which the elements of rr_plac2 should be drawn?</p>
</td></tr>
<tr><td><code id="simulate_trial_+3A_stage_data">stage_data</code></td>
<td>
<p>Should individual stage data be passed along? Default is TRUE</p>
</td></tr>
<tr><td><code id="simulate_trial_+3A_cohort_random">cohort_random</code></td>
<td>
<p>If not NULL, indicates that new arms/cohorts should be randomly started.
For every timestep, there is a cohort_random probability that a new cohort will be started.</p>
</td></tr>
<tr><td><code id="simulate_trial_+3A_cohorts_max">cohorts_max</code></td>
<td>
<p>Maximum number of cohorts that are allowed to be added throughout the trial</p>
</td></tr>
<tr><td><code id="simulate_trial_+3A_sr_drugs_pos">sr_drugs_pos</code></td>
<td>
<p>Stopping rule for successful experimental arms; Default = 1</p>
</td></tr>
<tr><td><code id="simulate_trial_+3A_sr_pats">sr_pats</code></td>
<td>
<p>Stopping rule for total number of patients; Default = cohorts_max * n_fin + error term based on randomization</p>
</td></tr>
<tr><td><code id="simulate_trial_+3A_sr_first_pos">sr_first_pos</code></td>
<td>
<p>Stopping rule for first successful cohort;
if TRUE, after first cohort was found to be successful, no further cohorts will be included
but cohorts will finish evaluating, unless other stopping rules reached prior.
Default is FALSE.</p>
</td></tr>
<tr><td><code id="simulate_trial_+3A_cohort_offset">cohort_offset</code></td>
<td>
<p>Minimum number of time between adding new cohorts</p>
</td></tr>
<tr><td><code id="simulate_trial_+3A_sharing_type">sharing_type</code></td>
<td>
<p>Which backbone and placebo data should be used for arm comparisons; Default is &quot;all&quot;.
Another option is &quot;concurrent&quot; or &quot;dynamic&quot; or &quot;cohort&quot;.</p>
</td></tr>
<tr><td><code id="simulate_trial_+3A_safety_prob">safety_prob</code></td>
<td>
<p>Probability for a random stopping after every patient</p>
</td></tr>
<tr><td><code id="simulate_trial_+3A_cohorts_sim">cohorts_sim</code></td>
<td>
<p>Maximum number of cohorts that can run simultaneously</p>
</td></tr>
<tr><td><code id="simulate_trial_+3A_missing_prob">missing_prob</code></td>
<td>
<p>Probability for a missing value at final (independent of treatment)</p>
</td></tr>
<tr><td><code id="simulate_trial_+3A_cohort_fixed">cohort_fixed</code></td>
<td>
<p>If not NULL, fixed timesteps after which a cohort will be included</p>
</td></tr>
<tr><td><code id="simulate_trial_+3A_accrual_type">accrual_type</code></td>
<td>
<p>Type of patient accrual; choices are &quot;fixed&quot;, &quot;poisson&quot; or &quot;exponential&quot;</p>
</td></tr>
<tr><td><code id="simulate_trial_+3A_accrual_param">accrual_param</code></td>
<td>
<p>Parameter used for patient accrual</p>
</td></tr>
<tr><td><code id="simulate_trial_+3A_hist_lag">hist_lag</code></td>
<td>
<p>Time until histology outcome is observed</p>
</td></tr>
<tr><td><code id="simulate_trial_+3A_analysis_times">analysis_times</code></td>
<td>
<p>Vector of information fractions needed for first interim, second interim and final</p>
</td></tr>
<tr><td><code id="simulate_trial_+3A_time_trend">time_trend</code></td>
<td>
<p>Additive term by which response rates increase at every time step</p>
</td></tr>
<tr><td><code id="simulate_trial_+3A_...">...</code></td>
<td>
<p>Further arguments to be passed to decision function, such as decision making criteria</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List containing: Responses and patients on experimental and control arm, total treatment successes and failures and final p-value
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
random &lt;- TRUE

rr_comb1 &lt;- 0.10
prob_comb1_rr &lt;- 1
rr_comb2 &lt;- 0.45
prob_comb2_rr &lt;- 1
rr_plac1 &lt;- 0.10
prob_plac1_rr &lt;- 1
rr_plac2 &lt;- 0.20
prob_plac2_rr &lt;- 1

correlation &lt;- 0.8

cohorts_start &lt;- 2
cohorts_max &lt;- 5
safety_prob &lt;- 0
sharing_type &lt;- "concurrent"
sr_drugs_pos &lt;- 5
sr_first_pos &lt;- FALSE
n_fin &lt;- 100
stage_data &lt;- TRUE
cohort_random &lt;- 0.01
cohort_offset &lt;- 0
cohorts_sim &lt;- Inf
random_type &lt;- "absolute"
missing_prob &lt;- 0.2
cohort_fixed &lt;- 5
hist_lag &lt;- 48
analysis_times &lt;- c(0.5, 0.75, 1)
accrual_type &lt;- "fixed"
accrual_param &lt;- 9
time_trend &lt;- 0.001
composite &lt;- "or"

# Comparison IA1
Bayes_Sup11 &lt;- matrix(nrow = 2, ncol = 2)
Bayes_Sup11[1,] &lt;- c(0.00, 0.95)
Bayes_Sup11[2,] &lt;- c(0.10, 0.80)
# Comparison IA2
Bayes_Sup12 &lt;- matrix(nrow = 2, ncol = 2)
Bayes_Sup12[1,] &lt;- c(0.00, 0.95)
Bayes_Sup12[2,] &lt;- c(0.10, 0.80)
# Comparison IA3
Bayes_Sup13 &lt;- matrix(nrow = 2, ncol = 2)
Bayes_Sup13[1,] &lt;- c(0.00, 0.95)
Bayes_Sup13[2,] &lt;- c(0.10, 0.80)

Bayes_Sup1 &lt;- Bayes_Sup2 &lt;- list(list(Bayes_Sup11), list(Bayes_Sup12), list(Bayes_Sup13))

# Comparison IA1
Bayes_Fut11 &lt;- matrix(nrow = 1, ncol = 2)
Bayes_Fut11[1,] &lt;- c(0.00, 0.20)
# Comparison IA2
Bayes_Fut12 &lt;- matrix(nrow = 1, ncol = 2)
Bayes_Fut12[1,] &lt;- c(0.00, 0.30)
# Comparison IA3
Bayes_Fut13 &lt;- matrix(nrow = 1, ncol = 2)
Bayes_Fut13[1,] &lt;- c(NA, NA)
# Endpoint 1+2
Bayes_Fut1 &lt;- Bayes_Fut2 &lt;- list(list(Bayes_Fut11), list(Bayes_Fut12), list(Bayes_Fut13))

simulate_trial(
 n_fin = n_fin, random_type = random_type, composite = composite,
 rr_comb1 = rr_comb1, rr_comb2 = rr_comb2, rr_plac1 = rr_plac1, rr_plac2 = rr_plac2,
 random = random, prob_comb1_rr = prob_comb1_rr, prob_comb2_rr = prob_comb2_rr,
 prob_plac1_rr = prob_plac1_rr, prob_plac2_rr = prob_plac2_rr, correlation = correlation,
 stage_data = stage_data, cohort_random = cohort_random, cohorts_max = cohorts_max,
 sr_drugs_pos = sr_drugs_pos, sharing_type = sharing_type, Bayes_Fut1 = Bayes_Fut1,
 safety_prob = safety_prob, Bayes_Sup1 = Bayes_Sup1, Bayes_Sup2 = Bayes_Sup2,
 cohort_offset = cohort_offset, sr_first_pos = sr_first_pos, Bayes_Fut2 = Bayes_Fut2,
 missing_prob = missing_prob, cohort_fixed = cohort_fixed, accrual_type = accrual_type,
 accrual_param = accrual_param, hist_lag = hist_lag, analysis_times = analysis_times,
 time_trend = time_trend, cohorts_start = cohorts_start, cohorts_sim = cohorts_sim
)

</code></pre>

<hr>
<h2 id='trial_ocs'>Calculates the operating characteristics of the cohort trial</h2><span id='topic+trial_ocs'></span>

<h3>Description</h3>

<p>Given the trial specific design parameters, performs a number
of simulations of the trial and saves the result in an Excel file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>trial_ocs(
  iter,
  coresnum = 1,
  save = FALSE,
  path = NULL,
  filename = NULL,
  ret_list = FALSE,
  ret_trials = FALSE,
  plot_ocs = FALSE,
  export = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="trial_ocs_+3A_iter">iter</code></td>
<td>
<p>Number of program simulations that should be performed</p>
</td></tr>
<tr><td><code id="trial_ocs_+3A_coresnum">coresnum</code></td>
<td>
<p>How many cores should be used for parallel computing</p>
</td></tr>
<tr><td><code id="trial_ocs_+3A_save">save</code></td>
<td>
<p>Indicator whether simulation results should be saved in an Excel file</p>
</td></tr>
<tr><td><code id="trial_ocs_+3A_path">path</code></td>
<td>
<p>Path to which simulation results will be saved; if NULL, then save to current path</p>
</td></tr>
<tr><td><code id="trial_ocs_+3A_filename">filename</code></td>
<td>
<p>Filename of saved Excel file with results; if NULL, then name will contain design parameters</p>
</td></tr>
<tr><td><code id="trial_ocs_+3A_ret_list">ret_list</code></td>
<td>
<p>Indicator whether function should return list of results</p>
</td></tr>
<tr><td><code id="trial_ocs_+3A_ret_trials">ret_trials</code></td>
<td>
<p>Indicator whether individual trial results should be saved as well</p>
</td></tr>
<tr><td><code id="trial_ocs_+3A_plot_ocs">plot_ocs</code></td>
<td>
<p>Should OCs stability plots be drawn?</p>
</td></tr>
<tr><td><code id="trial_ocs_+3A_export">export</code></td>
<td>
<p>Should any other variables be exported to the parallel tasks?</p>
</td></tr>
<tr><td><code id="trial_ocs_+3A_...">...</code></td>
<td>
<p>All other design parameters for chosen program</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List containing: Responses and patients on experimental and control arm, total treatment successes and failures and final p-value
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
random &lt;- TRUE

rr_comb1 &lt;- 0.25
prob_comb1_rr &lt;- 1
rr_comb2 &lt;- 0.20
prob_comb2_rr &lt;- 1
rr_plac1 &lt;- 0.10
prob_plac1_rr &lt;- 1
rr_plac2 &lt;- 0.10
prob_plac2_rr &lt;- 1

correlation &lt;- 0.8

cohorts_start &lt;- 2
cohorts_max &lt;- 5
safety_prob &lt;- 0
sharing_type &lt;- "concurrent"
sr_drugs_pos &lt;- 5
sr_first_pos &lt;- FALSE
n_fin &lt;- 100
stage_data &lt;- TRUE
cohort_random &lt;- 0.01
cohort_offset &lt;- 0
cohorts_sim &lt;- Inf
random_type &lt;- "absolute"
missing_prob &lt;- 0.2
cohort_fixed &lt;- 5
hist_lag &lt;- 48
analysis_times &lt;- c(0.5, 0.75, 1)
accrual_type &lt;- "fixed"
accrual_param &lt;- 9
time_trend &lt;- 0.001
composite &lt;- "or"

# Comparison IA1
Bayes_Sup11 &lt;- matrix(nrow = 2, ncol = 2)
Bayes_Sup11[1,] &lt;- c(0.00, 0.95)
Bayes_Sup11[2,] &lt;- c(0.10, 0.80)
# Comparison IA2
Bayes_Sup12 &lt;- matrix(nrow = 2, ncol = 2)
Bayes_Sup12[1,] &lt;- c(0.00, 0.95)
Bayes_Sup12[2,] &lt;- c(0.10, 0.80)
# Comparison IA3
Bayes_Sup13 &lt;- matrix(nrow = 2, ncol = 2)
Bayes_Sup13[1,] &lt;- c(0.00, 0.95)
Bayes_Sup13[2,] &lt;- c(0.10, 0.80)

Bayes_Sup1 &lt;- Bayes_Sup2 &lt;- list(list(Bayes_Sup11), list(Bayes_Sup12), list(Bayes_Sup13))

ocs &lt;- trial_ocs(
n_fin = n_fin, random_type = random_type, composite = composite,
rr_comb1 = rr_comb1, rr_comb2 = rr_comb2, rr_plac1 = rr_plac1, rr_plac2 = rr_plac2,
random = random, prob_comb1_rr = prob_comb1_rr, prob_comb2_rr = prob_comb2_rr,
prob_plac1_rr = prob_plac1_rr, prob_plac2_rr = prob_plac2_rr,
stage_data = stage_data, cohort_random = cohort_random, cohorts_max = cohorts_max,
sr_drugs_pos = sr_drugs_pos, sharing_type = sharing_type, correlation = correlation,
safety_prob = safety_prob, Bayes_Sup1 = Bayes_Sup1, Bayes_Sup2 = Bayes_Sup2,
cohort_offset = cohort_offset, sr_first_pos = sr_first_pos,
missing_prob = missing_prob, cohort_fixed = cohort_fixed, accrual_type = accrual_type,
accrual_param = accrual_param, hist_lag = hist_lag, analysis_times = analysis_times,
time_trend = time_trend, cohorts_start = cohorts_start, cohorts_sim = cohorts_sim,
iter = 2, coresnum = 1, save = FALSE, ret_list = TRUE, plot_ocs = TRUE
)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

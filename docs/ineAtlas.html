<!DOCTYPE html><html lang="en-US"><head><title>Help for package ineAtlas</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ineAtlas}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#ineAtlas-package'><p>ineAtlas: Access to Spanish Household Income Distribution Atlas Data</p></a></li>
<li><a href='#get_atlas'><p>Fetch data from the ineAtlas data repository</p></a></li>
<li><a href='#get_census'><p>Fetch 2021 Census data from the ineAtlas data repository</p></a></li>
<li><a href='#get_tract_geom'><p>Get census tract boundary geometries</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Access to Spanish Household Income Distribution Atlas Data</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.3</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides access to granular socioeconomic indicators from the
    Spanish Statistical Office (INE) Household Income Distribution Atlas.
    The package downloads and processes data from a companion 'GitHub'
    repository (<a href="https://github.com/pablogguz/ineAtlas.data/">https://github.com/pablogguz/ineAtlas.data/</a>) which contains
    processed versions of the official INE Atlas data. Functions are
    provided to fetch data at multiple geographic levels (municipalities,
    districts, and census tracts), including income indicators,
    demographic characteristics, and inequality metrics. The data
    repository is updated every year when new releases are published by
    INE.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/pablogguz/ineAtlas">https://github.com/pablogguz/ineAtlas</a>,
<a href="https://pablogguz.github.io/ineAtlas/">https://pablogguz.github.io/ineAtlas/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/pablogguz/ineAtlas/issues">https://github.com/pablogguz/ineAtlas/issues</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr, httr, readr, sf, stringr, utils, zip</td>
</tr>
<tr>
<td>Suggests:</td>
<td>data.table, extrafont, ggplot2, ggtext, knitr, mapSpain,
mockery, rmarkdown, spelling, testthat (&ge; 3.0.0), tidyr</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-11-30 12:17:59 UTC; pablo</td>
</tr>
<tr>
<td>Author:</td>
<td>Pablo García Guzmán [aut, cre, cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Pablo García Guzmán &lt;garciagp@ebrd.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-11-30 12:40:08 UTC</td>
</tr>
</table>
<hr>
<h2 id='ineAtlas-package'>ineAtlas: Access to Spanish Household Income Distribution Atlas Data</h2><span id='topic+ineAtlas'></span><span id='topic+ineAtlas-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>Provides access to granular socioeconomic indicators from the Spanish Statistical Office (INE) Household Income Distribution Atlas. The package downloads and processes data from a companion 'GitHub' repository (<a href="https://github.com/pablogguz/ineAtlas.data/">https://github.com/pablogguz/ineAtlas.data/</a>) which contains processed versions of the official INE Atlas data. Functions are provided to fetch data at multiple geographic levels (municipalities, districts, and census tracts), including income indicators, demographic characteristics, and inequality metrics. The data repository is updated every year when new releases are published by INE.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Pablo García Guzmán <a href="mailto:garciagp@ebrd.com">garciagp@ebrd.com</a> [copyright holder]
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/pablogguz/ineAtlas">https://github.com/pablogguz/ineAtlas</a>
</p>
</li>
<li> <p><a href="https://pablogguz.github.io/ineAtlas/">https://pablogguz.github.io/ineAtlas/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/pablogguz/ineAtlas/issues">https://github.com/pablogguz/ineAtlas/issues</a>
</p>
</li></ul>


<hr>
<h2 id='get_atlas'>Fetch data from the ineAtlas data repository</h2><span id='topic+get_atlas'></span>

<h3>Description</h3>

<p>Downloads and extracts compressed data files from the ineAtlas data repository,
providing access to various socioeconomic indicators at different geographic levels.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_atlas(category, level, cache = TRUE, cache_dir = tempdir())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_atlas_+3A_category">category</code></td>
<td>
<p>Character string specifying the data category. Must be one of:
&quot;income&quot;, &quot;income_sources&quot;, &quot;demographics&quot;, &quot;distribution_sex&quot;,
&quot;distribution_sex_age&quot;, &quot;distribution_sex_nationality&quot;, or &quot;gini_p80p20&quot;</p>
</td></tr>
<tr><td><code id="get_atlas_+3A_level">level</code></td>
<td>
<p>Character string specifying the geographic level. Must be one of:
&quot;municipality&quot;, &quot;district&quot;, or &quot;tract&quot;</p>
</td></tr>
<tr><td><code id="get_atlas_+3A_cache">cache</code></td>
<td>
<p>Logical indicating whether to cache the extracted data. Default is TRUE.
Cached data is stored uncompressed for faster access.</p>
</td></tr>
<tr><td><code id="get_atlas_+3A_cache_dir">cache_dir</code></td>
<td>
<p>Character string specifying the cache directory. Default is tempdir().</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble containing the requested data. Distribution data will include
additional columns for demographic breakdowns (sex, age, nationality).
The data is automatically extracted from compressed files and cached
locally if requested.
</p>


<h3>Note</h3>

<p>Data files are stored compressed on the repository to reduce size and
download times. The function handles decompression automatically.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Get municipality level income data
income_data &lt;- get_atlas("income", "municipality")

# Get district level demographics without caching
demo_data &lt;- get_atlas("demographics", "district", cache = FALSE)

# Get income distribution indicators by sex
sex_dist &lt;- get_atlas("distribution_sex", "municipality")

# Get inequality indicators including Gini coefficient
gini_data &lt;- get_atlas("gini_p80p20", "municipality")


</code></pre>

<hr>
<h2 id='get_census'>Fetch 2021 Census data from the ineAtlas data repository</h2><span id='topic+get_census'></span>

<h3>Description</h3>

<p>Downloads and extracts compressed census data files from the ineAtlas data repository,
providing access to detailed demographic, socioeconomic and housing indicators at
different geographic levels from the 2021 Population and Housing Census.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_census(level, cache = TRUE, cache_dir = tempdir())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_census_+3A_level">level</code></td>
<td>
<p>Character string specifying the geographic level. Must be one of:
&quot;municipality&quot;, &quot;district&quot;, or &quot;tract&quot;</p>
</td></tr>
<tr><td><code id="get_census_+3A_cache">cache</code></td>
<td>
<p>Logical indicating whether to cache the extracted data. Default is TRUE.
Cached data is stored uncompressed for faster access.</p>
</td></tr>
<tr><td><code id="get_census_+3A_cache_dir">cache_dir</code></td>
<td>
<p>Character string specifying the cache directory. Default is tempdir().</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble containing the requested census data at the specified geographic level.
The data includes demographic, socioeconomic and housing indicators from the 2021
Population and Housing Census. The data is automatically extracted from compressed
files and cached locally if requested.
</p>


<h3>Note</h3>

<p>Data files are stored compressed on the repository to reduce size and
download times. The function handles decompression automatically. Census data
is only available for 2021.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Get municipality level census data
mun_data &lt;- get_census("municipality")

# Get district level census data without caching
dist_data &lt;- get_census("district", cache = FALSE)

# Get census tract level data
tract_data &lt;- get_census("tract")


</code></pre>

<hr>
<h2 id='get_tract_geom'>Get census tract boundary geometries</h2><span id='topic+get_tract_geom'></span>

<h3>Description</h3>

<p>Downloads and extracts census tract boundary files from the ineAtlas repository,
returning an sf object with the geometries for the specified year.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_tract_geom(year, cache = TRUE, cache_dir = tempdir())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_tract_geom_+3A_year">year</code></td>
<td>
<p>Numeric. Year of the census tract boundaries to retrieve (2015-2022)</p>
</td></tr>
<tr><td><code id="get_tract_geom_+3A_cache">cache</code></td>
<td>
<p>Logical indicating whether to cache the extracted data. Default is TRUE.
Cached data is stored uncompressed for faster access.</p>
</td></tr>
<tr><td><code id="get_tract_geom_+3A_cache_dir">cache_dir</code></td>
<td>
<p>Character string specifying the cache directory. Default is tempdir().</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An sf object containing census tract boundaries with the following columns:
</p>

<ul>
<li><p> year: The reference year
</p>
</li>
<li><p> tract_code: Census tract identifier
</p>
</li>
<li><p> municipality: Municipality name
</p>
</li>
<li><p> province: Province name
</p>
</li>
<li><p> geometry: Census tract boundary geometry
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>
# Get census tract boundaries for 2020
tracts_2020 &lt;- get_tract_geom(2020)

# Get boundaries without caching
tracts_2019 &lt;- get_tract_geom(2019, cache = FALSE)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

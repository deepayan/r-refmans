<!DOCTYPE html><html lang="en"><head><title>Help for package roccv</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {roccv}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#roccv'><p>roccv: A package for creating ROC plots on cross validated data</p></a></li>
<li><a href='#cv'><p>Cross validation results for a model</p></a></li>
<li><a href='#fit_pred_fold'><p>Cross validation on fold i</p></a></li>
<li><a href='#randomly_assign'><p>Assigns n samples into k groups</p></a></li>
<li><a href='#rocplot'><p>Create ROC plot from cross validation results</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>ROC for Cross Validation Results</td>
</tr>
<tr>
<td>Version:</td>
<td>1.2</td>
</tr>
<tr>
<td>Date:</td>
<td>2019-05-10</td>
</tr>
<tr>
<td>Author:</td>
<td>Ben Sherwood [aut, cre]</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.0.0), glmnet, parallel, pROC</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Ben Sherwood &lt;ben.sherwood@ku.edu&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Cross validate large genetic data while specifying clinical variables that should always be in the model using the function cv(). An ROC plot from the cross validation data with AUC can be obtained using rocplot(), which also can be used to compare different models. Framework was built to handle genetic data, but works for any data.  </td>
</tr>
<tr>
<td>ByteCompile:</td>
<td>TRUE</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>5.0.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2019-05-10 15:51:48 UTC; bsherwoo</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2019-05-10 16:20:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='roccv'>roccv: A package for creating ROC plots on cross validated data</h2><span id='topic+roccv'></span><span id='topic+roccv-package'></span>

<h3>Description</h3>

<p>roccv: A package for creating ROC plots on cross validated data
</p>

<hr>
<h2 id='cv'>Cross validation results for a model</h2><span id='topic+cv'></span>

<h3>Description</h3>

<p>Cross validation results for a model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cv(clinical_x = NULL, genomic_x = NULL, y = NULL, data = NULL,
  clinical_formula = NULL, family = "binomial", folds = NULL, k = 10,
  fit_method = "glm", method_name = NULL, n.cores = 1, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cv_+3A_clinical_x">clinical_x</code></td>
<td>
<p>clinical variables that will always be included in the model</p>
</td></tr>
<tr><td><code id="cv_+3A_genomic_x">genomic_x</code></td>
<td>
<p>genomic variables that will be penalized if a penalized model is used</p>
</td></tr>
<tr><td><code id="cv_+3A_y">y</code></td>
<td>
<p>response variables</p>
</td></tr>
<tr><td><code id="cv_+3A_data">data</code></td>
<td>
<p>dataframe if clinical formula is used</p>
</td></tr>
<tr><td><code id="cv_+3A_clinical_formula">clinical_formula</code></td>
<td>
<p>formula for clinical variables</p>
</td></tr>
<tr><td><code id="cv_+3A_family">family</code></td>
<td>
<p>gaussian, binomial or poisson</p>
</td></tr>
<tr><td><code id="cv_+3A_folds">folds</code></td>
<td>
<p>predefined partions for cross validation</p>
</td></tr>
<tr><td><code id="cv_+3A_k">k</code></td>
<td>
<p>number of cross validation folds. A value of k=n is leave one out cross validation.</p>
</td></tr>
<tr><td><code id="cv_+3A_fit_method">fit_method</code></td>
<td>
<p>glm or glmnet used to fit the model</p>
</td></tr>
<tr><td><code id="cv_+3A_method_name">method_name</code></td>
<td>
<p>tracking variable to include in return dataframe</p>
</td></tr>
<tr><td><code id="cv_+3A_n.cores">n.cores</code></td>
<td>
<p>Number of cores to be used</p>
</td></tr>
<tr><td><code id="cv_+3A_...">...</code></td>
<td>
<p>additional commmands to glm or cv.glmnet</p>
</td></tr>
</table>


<h3>Value</h3>

<p>returns a dataframe of predicted values and observed values. In addition, method_name is recorded if that variable is defined.
</p>


<h3>Author(s)</h3>

<p>Ben Sherwood &lt;ben.sherwood@ku.edu&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- matrix(rnorm(800),ncol=8)
y &lt;- runif(100) &lt; exp(1 + x[,1] + x[,5])/(1+exp(1 + x[,1] + x[,5]))
cv_results &lt;- cv(x,y=y,method_name="without_formula")
combined_data &lt;- data.frame(y=y,x1=x[,1],x5=x[,5])
gx &lt;- x[,c(2,3,4,6,7,8)]
cvf &lt;- cv(genomic_x=gx,clinical_formula=y~x1+x5,data=combined_data,method_name="with_form")
</code></pre>

<hr>
<h2 id='fit_pred_fold'>Cross validation on fold i</h2><span id='topic+fit_pred_fold'></span>

<h3>Description</h3>

<p>Cross validation on fold i
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fit_pred_fold(i, x, y, folds, fit_method, family, non_pen_vars = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fit_pred_fold_+3A_i">i</code></td>
<td>
<p>target partition</p>
</td></tr>
<tr><td><code id="fit_pred_fold_+3A_x">x</code></td>
<td>
<p>matrix of predictors</p>
</td></tr>
<tr><td><code id="fit_pred_fold_+3A_y">y</code></td>
<td>
<p>vector of responses</p>
</td></tr>
<tr><td><code id="fit_pred_fold_+3A_folds">folds</code></td>
<td>
<p>defines how data is seperated into folds for cross validation</p>
</td></tr>
<tr><td><code id="fit_pred_fold_+3A_fit_method">fit_method</code></td>
<td>
<p>model being used to fit the data</p>
</td></tr>
<tr><td><code id="fit_pred_fold_+3A_family">family</code></td>
<td>
<p>family used to fit the data</p>
</td></tr>
<tr><td><code id="fit_pred_fold_+3A_non_pen_vars">non_pen_vars</code></td>
<td>
<p>index of variables that will not be penalized if glmnet is used</p>
</td></tr>
<tr><td><code id="fit_pred_fold_+3A_...">...</code></td>
<td>
<p>additional commmands to glm or cv.glmnet</p>
</td></tr>
</table>


<h3>Value</h3>

<p>returns predictions for partition i
</p>


<h3>Author(s)</h3>

<p>Ben Sherwood &lt;ben.sherwood@ku.edu&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>folds_10 &lt;- randomly_assign(100,10)
x &lt;- matrix(rnorm(800),ncol=8)
y &lt;- runif(100) &lt; exp(1 + x[,1] + x[,5])/(1+exp(1 + x[,1] + x[,5]))
fold_1_results &lt;- fit_pred_fold(1,x,y,folds_10,"glm","binomial")
fold_2_results &lt;- fit_pred_fold(2,x,y,folds_10,"glm","binomial") 
</code></pre>

<hr>
<h2 id='randomly_assign'>Assigns n samples into k groups</h2><span id='topic+randomly_assign'></span>

<h3>Description</h3>

<p>Assigns n samples into k groups
</p>


<h3>Usage</h3>

<pre><code class='language-R'>randomly_assign(n, k)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="randomly_assign_+3A_n">n</code></td>
<td>
<p>sample size</p>
</td></tr>
<tr><td><code id="randomly_assign_+3A_k">k</code></td>
<td>
<p>number of groups</p>
</td></tr>
</table>


<h3>Value</h3>

<p>returns a vector of length n with a random assignment of entries from 1 to k
</p>


<h3>Author(s)</h3>

<p>Ben Sherwood &lt;ben.sherwood@ku.edu&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>n &lt;- 100
folds_10 &lt;- randomly_assign(n,10)
folds_5 &lt;- randomly_assign(n,5)
</code></pre>

<hr>
<h2 id='rocplot'>Create ROC plot from cross validation results</h2><span id='topic+rocplot'></span>

<h3>Description</h3>

<p>Create ROC plot from cross validation results
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rocplot(plot_data, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rocplot_+3A_plot_data">plot_data</code></td>
<td>
<p>dataframe with columns: response, prediction and method</p>
</td></tr>
<tr><td><code id="rocplot_+3A_...">...</code></td>
<td>
<p>additional commmands plot.roc such as main</p>
</td></tr>
</table>


<h3>Value</h3>

<p>returns ROC plot
</p>


<h3>Author(s)</h3>

<p>Ben Sherwood &lt;ben.sherwood@ku.edu&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- matrix(rnorm(800),ncol=8)
y &lt;- runif(100) &lt; exp(1 + x[,1] + x[,5])/(1+exp(1 + x[,1] + x[,5]))
cv_results &lt;- cv(x,y=y,method_name="without_formula")
combined_data &lt;- data.frame(y=y,x1=x[,1],x5=x[,5])
gx &lt;- x[,c(2,3,4,6,7,8)]
cvf &lt;- cv(genomic_x=gx,clinical_formula=y~x1+x5,
			data=combined_data,method_name="with_form")
total_results &lt;- rbind(cv_results,cvf)
rocplot(total_results,main="rocplot test")
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

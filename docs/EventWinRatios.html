<!DOCTYPE html><html lang="en"><head><title>Help for package EventWinRatios</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {EventWinRatios}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#EventWinRatios-package'>
<p>Event-Specific Win Ratios for Terminal and Non-Terminal Events</p></a></li>
<li><a href='#EventWinRatios-internal'><p>Internal functions for the EventWinRatios package</p></a></li>
<li><a href='#SimuData'><p>A simulated semi-competing risks data set with non-terminal events and terminal events</p></a></li>
<li><a href='#wr.test'>
<p>The main function of the package provides various confidence intervals and testing procedures with event-specific win ratios</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Event-Specific Win Ratios for Terminal and Non-Terminal Events</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.0</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Daewoo Pak &lt;dpak@yonsei.ac.kr&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides several confidence interval and testing procedures using
    event-specific win ratios for semi-competing risks data with non-terminal
    and terminal events, as developed in Yang et al. (2021&lt;<a href="https://doi.org/10.1002%2Fsim.9266">doi:10.1002/sim.9266</a>&gt;). 
    Compared with conventional methods for survival data, these procedures are 
    designed to utilize more data for improved inference procedures with 
    semi-competing risks data. The event-specific win ratios were introduced in 
    Yang and Troendle (2021&lt;<a href="https://doi.org/10.1177%2F1740774520972408">doi:10.1177/1740774520972408</a>&gt;). In this package, 
    the event-specific win ratios and confidence intervals are obtained for each 
    event type, and several testing procedures are developed for the global null 
    of no treatment effect on either terminal or non-terminal events. Furthermore,
    a test of proportional hazard assumptions, under which the event-specific win 
    ratios converge to the hazard ratios, and a test of equal hazard ratios are 
    provided. For summarizing the treatment effect on all events, confidence 
    intervals for linear combinations of the event-specific win ratios are available
    using pre-determined or data-driven weights. Asymptotic properties of these 
    inference procedures are discussed in Yang et al (2021&lt;<a href="https://doi.org/10.1002%2Fsim.9266">doi:10.1002/sim.9266</a>&gt;). 
    Also, transformations are used to yield better control of the type one error 
    rates for moderately sized data sets.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-04-04 06:49:27 UTC; dpak</td>
</tr>
<tr>
<td>Author:</td>
<td>Daewoo Pak [aut, cre],
  Song Yang [aut]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-04-04 08:30:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='EventWinRatios-package'>
Event-Specific Win Ratios for Terminal and Non-Terminal Events
</h2><span id='topic+EventWinRatios-package'></span>

<h3>Description</h3>

<p>This package provides several confidence interval and testing procedures using event-specific win ratios for semi-competing risks data with non-terminal and terminal events, as developed in Yang et al. (2021). It allows users to utilize more data for improved inference procedures with semi-competing risks data. The event-specific win ratios were introduced in Yang and Troendle (2021), and the detailed definitions and asymptotic results for event-specific win ratios are available in Yang et al. (2021).
</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> EventWinRatios</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 1.0.0</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2021-07-09</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL (&gt;= 3)</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Author(s)</h3>

<p>Daewoo Pak and Song Yang
</p>
<p>Maintainer: Daewoo Pak &lt;heavyrain.pak@gmail.com&gt;
</p>


<h3>References</h3>

<p>Yang, S., Troendle, J., Pak, D., &amp; Leifer, E. (2022). Event‐specific win ratios for inference with terminal and non‐terminal events. Statistics in medicine, 41(7), 1225-1241.
</p>
<p>Yang, S., &amp; Troendle, J. (2021). Event-specific win ratios and testing with terminal and non-terminal events. Clinical Trials, 18(2), 180-187.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+wr.test">wr.test</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(EventWinRatios)
data(SimuData)

# non-terminal events
yh &lt;- SimuData$yh
hcen &lt;- SimuData$hcen

# terminal events
yd &lt;- SimuData$yd
dcen &lt;- SimuData$dcen

# group indicator
z &lt;- SimuData$z

# Win Ratio tests
result &lt;- wr.test(yh, hcen, yd, dcen, z)
print(result)

</code></pre>

<hr>
<h2 id='EventWinRatios-internal'>Internal functions for the EventWinRatios package</h2><span id='topic+EventWinRatios-internal'></span><span id='topic+fn_ds'></span><span id='topic+fun_gen'></span><span id='topic+fn_gephsim'></span><span id='topic+fn_glinsim'></span><span id='topic+fn_gmhat'></span><span id='topic+fn_wr'></span>

<h3>Description</h3>

<p>Internal functions for the EventWinRatios package.
</p>


<h3>Value</h3>

<p>No return value, called for side effects
</p>

<hr>
<h2 id='SimuData'>A simulated semi-competing risks data set with non-terminal events and terminal events</h2><span id='topic+SimuData'></span>

<h3>Description</h3>

<p><code>SimuData</code> is a simulated data set that is used to show the utility of this package. Under the semi-competing risks data setup, each subject has a non-terminal and a terminal event that may be right censored. Furthermore, the terminal event may censor the non-terminal event.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("SimuData")</code></pre>


<h3>Format</h3>

<p>A data frame with 3500 observations on the following 5 variables.
</p>

<dl>
<dt><code>yh</code></dt><dd><p>Time to the non-terminal event of interest or censoring (by an independent censoring variable or a terminal event)</p>
</dd>
<dt><code>hcen</code></dt><dd><p>Censoring indicator for the non-teminal event (event = 1, censored = 0)</p>
</dd>
<dt><code>yd</code></dt><dd><p>Time to the terminal event of interest</p>
</dd>
<dt><code>dcen</code></dt><dd><p>Censoring indicator for the teminal event (event = 1, censored = 0)</p>
</dd>
<dt><code>z</code></dt><dd><p>Group indicator (treatment = 1, control = 0)</p>
</dd>
</dl>



<h3>See Also</h3>

<p><code><a href="#topic+wr.test">wr.test</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(SimuData)

# non-terminal events
yh &lt;- SimuData$yh
hcen &lt;- SimuData$hcen

# terminal events
yd &lt;- SimuData$yd
dcen &lt;- SimuData$dcen

# group indicator
z &lt;- SimuData$z

# Win Ratio tests
result &lt;- wr.test(yh, hcen, yd, dcen, z)
print(result)

</code></pre>

<hr>
<h2 id='wr.test'>
The main function of the package provides various confidence intervals and testing procedures with event-specific win ratios
</h2><span id='topic+wr.test'></span><span id='topic+wr.test.default'></span><span id='topic+print.wr.test'></span>

<h3>Description</h3>

<p>The function <code>wr.test</code> provides several confidence interval and testing procedures with the event-specific win ratios that are obtained on the terminal and non-terminal events. The following procedures are provided:
</p>

<ul>
<li><p> Tests of the global null - testing the null hypothesis of no treatment effect on either the terminal event or the non-terminal event. A set of three tests are provided: the maximum test, the linear combination test, and the chi-squared test.
</p>
</li>
<li><p> Test of proportional hazards - testing the null hypothesis of the proportionality assumptions for the terminal event and the non-terminal event.
</p>
</li>
<li><p> Test of equal hazard ratios - testing the null hypothesis of equal hazard ratios for the terminal event and the non-terminal event when they both have proportional hazards.
</p>
</li>
<li><p> Confidence intervals of the non-terminal and terminal events respectively
</p>
</li>
<li><p> Confidence intervals of linear combinations of the non-terminal and terminal events, with either pre-determined or data-driven weights
</p>
</li></ul>

<p>The full details for these procedures are available in Yang et al. (2021).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## Default S3 method:
wr.test(yh, hcen, yd, dcen, z, lin = c(0.5, 0.5), alpha = 0.05, repnum = 1E6, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="wr.test_+3A_...">...</code></td>
<td>
<p>for S4 method only.</p>
</td></tr>
<tr><td><code id="wr.test_+3A_yh">yh</code></td>
<td>
<p>A numeric vector for time to the non-terminal event or censoring</p>
</td></tr>
<tr><td><code id="wr.test_+3A_hcen">hcen</code></td>
<td>
<p>Censoring indicator for the non-terminal event (event = 1, censored = 0)</p>
</td></tr>
<tr><td><code id="wr.test_+3A_yd">yd</code></td>
<td>
<p>A numeric vector for time to the terminal event or censoring</p>
</td></tr>
<tr><td><code id="wr.test_+3A_dcen">dcen</code></td>
<td>
<p>Censoring indicator for the terminal event  (event = 1, censored = 0)</p>
</td></tr>
<tr><td><code id="wr.test_+3A_z">z</code></td>
<td>
<p>A numeric vector for the group indicator (treatment = 1, control = 0)</p>
</td></tr>
<tr><td><code id="wr.test_+3A_lin">lin</code></td>
<td>
<p>A numeric vector of length 2 for the linear combination of the event-specific win ratios. The components must be non-negative values and added up to one. The first component is for the non-terminal event and the second is for the terminal event. The default is (0.5, 0.5).</p>
</td></tr>
<tr><td><code id="wr.test_+3A_alpha">alpha</code></td>
<td>
<p>The Significance level being used for confidence intervals. The default value is 0.05.</p>
</td></tr>
<tr><td><code id="wr.test_+3A_repnum">repnum</code></td>
<td>
<p>The number of replications for simulating bivariate normal distributions to obtain critical values corresponding to the alpha. The default value is 1E6.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A S3 <code>wr.test</code> class object, which is a <code>list</code> with the following components:
</p>
<table role = "presentation">
<tr><td><code>wr1</code></td>
<td>
<p>The event specific win ratio for the non-terminal event</p>
</td></tr>
<tr><td><code>wr2</code></td>
<td>
<p>The event specific win ratio for the terminal event</p>
</td></tr>
<tr><td><code>ci1t</code></td>
<td>
<p>The confidence interval for the event specific win ratio for the non-terminal event</p>
</td></tr>
<tr><td><code>ci2t</code></td>
<td>
<p>The confidence interval for the event specific win ratio for the terminal event</p>
</td></tr>
<tr><td><code>mxot</code></td>
<td>
<p>The test statistic for the maximum test</p>
</td></tr>
<tr><td><code>pvalmxt</code></td>
<td>
<p>The p-value for the maximum test</p>
</td></tr>
<tr><td><code>chi</code></td>
<td>
<p>The test statistic for the chi-squre test</p>
</td></tr>
<tr><td><code>pvachi</code></td>
<td>
<p>The p-value for the chi-squre test</p>
</td></tr>
<tr><td><code>lin</code></td>
<td>
<p>The inputted vector for the linear combination of the event-specific win ratios</p>
</td></tr>
<tr><td><code>zvalin0</code></td>
<td>
<p>The test statistic for the linear combination test</p>
</td></tr>
<tr><td><code>plin0</code></td>
<td>
<p>The p-value for the linear combination test</p>
</td></tr>
<tr><td><code>wrlin0</code></td>
<td>
<p>The weighted average win ratio with the inputted vector <code>lin</code></p>
</td></tr>
<tr><td><code>cilin0</code></td>
<td>
<p>The confidence interval for the weighted average win ratio with the inputted vector <code>lin</code></p>
</td></tr>
<tr><td><code>lin_ar</code></td>
<td>
<p>The data-driven linear combination</p>
</td></tr>
<tr><td><code>zvalint</code></td>
<td>
<p>The test statistic for the data-driven Linear combination test</p>
</td></tr>
<tr><td><code>plintr</code></td>
<td>
<p>The p-value for the data-driven Linear combination test</p>
</td></tr>
<tr><td><code>wrlinl</code></td>
<td>
<p>The weighted average win ratio with the data-driven combination</p>
</td></tr>
<tr><td><code>cilint</code></td>
<td>
<p>The confidence interval for the weighted average win ratio with the data-driven combination</p>
</td></tr>
<tr><td><code>mxph</code></td>
<td>
<p>The test statistic for the test of proportional hazards</p>
</td></tr>
<tr><td><code>pvalph</code></td>
<td>
<p>The p-value for the test of proportional hazards</p>
</td></tr>
<tr><td><code>zvaephl</code></td>
<td>
<p>The test statistic for the test of equal hazard ratios</p>
</td></tr>
<tr><td><code>pvaephl</code></td>
<td>
<p>The p-value for the test of equal hazard ratios</p>
</td></tr>
</table>


<h3>Note</h3>

<p>Linear combination tests can be used to detect an overall effect, which is measured by using a weighted average of the win ratios of the terminal and non-terminal events, as considered in Yang and Troendle (2021). The weights can be either a data-driven weights or pre-determined weights. The pre-determined weights can be supplied with the <code>lin</code> argument.
</p>


<h3>References</h3>

<p>Yang, S., Troendle, J., Pak, D., &amp; Leifer, E. (2022). Event‐specific win ratios for inference with terminal and non‐terminal events. Statistics in medicine, 41(7), 1225-1241.
</p>
<p>Yang, S., &amp; Troendle, J. (2021). Event-specific win ratios and testing with terminal and non-terminal events. Clinical Trials, 18(2), 180-187.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(EventWinRatios)
data(SimuData)

# non-terminal events
yh &lt;- SimuData$yh
hcen &lt;- SimuData$hcen

# terminal events
yd &lt;- SimuData$yd
dcen &lt;- SimuData$dcen

# group indicator
z &lt;- SimuData$z

# Win Ratio tests
result &lt;- wr.test(yh, hcen, yd, dcen, z)
print(result)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

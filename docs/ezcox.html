<!DOCTYPE html><html lang="en"><head><title>Help for package ezcox</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ezcox}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#+25+26gt+3B+25'><p>Pipe operator</p></a></li>
<li><a href='#clean_model_dir'><p>Clean ezcox Model File Directory</p></a></li>
<li><a href='#ezcox'><p>Run Cox Analysis in Batch Mode</p></a></li>
<li><a href='#ezcox_group'><p>Group Cox Analysis and Visualization</p></a></li>
<li><a href='#ezcox_parallel'><p>Parallelly Run Cox Analysis in Batch Mode</p></a></li>
<li><a href='#filter_ezcox'><p>Filter ezcox</p></a></li>
<li><a href='#forester'><p>Create a forest plot for simple data</p></a></li>
<li><a href='#get_models'><p>Get Model List from ezcox Object</p></a></li>
<li><a href='#show_forest'><p>Show Forest Plot</p></a></li>
<li><a href='#show_models'><p>Show Cox Models</p></a></li>
<li><a href='#tidyeval'><p>Tidy eval helpers</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Easily Process a Batch of Cox Models</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.4</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-5-8</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Shixiang Wang &lt;w_shixiang@163.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>A tool to operate a batch of univariate or multivariate Cox
    models and return tidy result.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/ShixiangWang/ezcox">https://github.com/ShixiangWang/ezcox</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/ShixiangWang/ezcox/issues">https://github.com/ShixiangWang/ezcox/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5)</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr (&ge; 0.8.3), forestmodel, ggplot2, magrittr (&ge; 1.5),
methods, purrr (&ge; 0.3.2), rlang (&ge; 0.1.2), scales, survival,
tibble, utf8, utils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr (&ge; 3.2.1), furrr, future, knitr, prettydoc, rmarkdown,
roxygen2 (&ge; 6.1.1), testthat (&ge; 2.1.0)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-05-08 08:21:41 UTC; wsx</td>
</tr>
<tr>
<td>Author:</td>
<td>Shixiang Wang <a href="https://orcid.org/0000-0001-9855-7357"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-05-08 09:50:11 UTC</td>
</tr>
</table>
<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>See <code>magrittr::<a href="magrittr.html#topic+pipe">%&gt;%</a></code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>

<hr>
<h2 id='clean_model_dir'>Clean ezcox Model File Directory</h2><span id='topic+clean_model_dir'></span>

<h3>Description</h3>

<p>Clean ezcox Model File Directory
</p>


<h3>Usage</h3>

<pre><code class='language-R'>clean_model_dir(model_dir = file.path(tempdir(), "ezcox"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="clean_model_dir_+3A_model_dir">model_dir</code></td>
<td>
<p>a path for storing model results.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>nothing
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
clean_model_dir()

</code></pre>

<hr>
<h2 id='ezcox'>Run Cox Analysis in Batch Mode</h2><span id='topic+ezcox'></span>

<h3>Description</h3>

<p>Run Cox Analysis in Batch Mode
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ezcox(
  data,
  covariates,
  controls = NULL,
  time = "time",
  status = "status",
  global_method = c("likelihood", "wald", "logrank"),
  keep_models = FALSE,
  return_models = FALSE,
  model_dir = file.path(tempdir(), "ezcox"),
  verbose = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ezcox_+3A_data">data</code></td>
<td>
<p>a <code>data.frame</code> containing variables, time and os status.</p>
</td></tr>
<tr><td><code id="ezcox_+3A_covariates">covariates</code></td>
<td>
<p>column names specifying variables.</p>
</td></tr>
<tr><td><code id="ezcox_+3A_controls">controls</code></td>
<td>
<p>column names specifying controls.
The names with pattern &quot;*:|()&quot; will be treated as interaction/combination
term, please make sure all column names in <code>data</code> are valid R variable names.</p>
</td></tr>
<tr><td><code id="ezcox_+3A_time">time</code></td>
<td>
<p>column name specifying time, default is 'time'.</p>
</td></tr>
<tr><td><code id="ezcox_+3A_status">status</code></td>
<td>
<p>column name specifying event status, default is 'status'.</p>
</td></tr>
<tr><td><code id="ezcox_+3A_global_method">global_method</code></td>
<td>
<p>method used to obtain global p value for cox model,
should be one of &quot;likelihood&quot;, &quot;wald&quot;, &quot;logrank&quot;.
The likelihood-ratio test, Wald test, and score logrank statistics.
These three methods are asymptotically equivalent. For large enough N,
they will give similar results. For small N, they may differ somewhat.
The Likelihood ratio test has better behavior for small sample sizes,
so it is generally preferred.</p>
</td></tr>
<tr><td><code id="ezcox_+3A_keep_models">keep_models</code></td>
<td>
<p>If <code>TRUE</code>, keep models as local files.</p>
</td></tr>
<tr><td><code id="ezcox_+3A_return_models">return_models</code></td>
<td>
<p>default <code>FALSE</code>. If <code>TRUE</code>, return a <code>list</code> contains
cox models.</p>
</td></tr>
<tr><td><code id="ezcox_+3A_model_dir">model_dir</code></td>
<td>
<p>a path for storing model results.</p>
</td></tr>
<tr><td><code id="ezcox_+3A_verbose">verbose</code></td>
<td>
<p>if <code>TRUE</code>, print extra info.</p>
</td></tr>
<tr><td><code id="ezcox_+3A_...">...</code></td>
<td>
<p>other parameters passing to <code><a href="survival.html#topic+coxph">survival::coxph()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>ezcox</code> object
</p>


<h3>Author(s)</h3>

<p>Shixiang Wang <a href="mailto:w_shixiang@163.com">w_shixiang@163.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(survival)

# Build unvariable models
t1 &lt;- ezcox(lung, covariates = c("age", "sex", "ph.ecog"))
t1

# Build multi-variable models
# Control variable 'age'
t2 &lt;- ezcox(lung, covariates = c("sex", "ph.ecog"), controls = "age")
t2

# Return models
t3 &lt;- ezcox(lung,
  covariates = c("age", "sex", "ph.ecog"),
  return_models = TRUE
)
t3
t4 &lt;- ezcox(lung,
  covariates = c("sex", "ph.ecog"), controls = "age",
  return_models = TRUE
)
t4
</code></pre>

<hr>
<h2 id='ezcox_group'>Group Cox Analysis and Visualization</h2><span id='topic+ezcox_group'></span>

<h3>Description</h3>

<p>Group Cox Analysis and Visualization
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ezcox_group(
  data,
  grp_var,
  covariate,
  controls = NULL,
  time = "time",
  status = "status",
  sort = FALSE,
  decreasing = TRUE,
  add_all = FALSE,
  add_caption = TRUE,
  verbose = TRUE,
  headings = list(variable = "Group", n = "N", measure = "Hazard ratio", ci = NULL, p =
    "p"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ezcox_group_+3A_data">data</code></td>
<td>
<p>a <code>data.frame</code> containing variables, time and os status.</p>
</td></tr>
<tr><td><code id="ezcox_group_+3A_grp_var">grp_var</code></td>
<td>
<p>a group column.</p>
</td></tr>
<tr><td><code id="ezcox_group_+3A_covariate">covariate</code></td>
<td>
<p>a covariable for cox analysis.</p>
</td></tr>
<tr><td><code id="ezcox_group_+3A_controls">controls</code></td>
<td>
<p>column names specifying controls.
The names with pattern &quot;*:|()&quot; will be treated as interaction/combination
term, please make sure all column names in <code>data</code> are valid R variable names.</p>
</td></tr>
<tr><td><code id="ezcox_group_+3A_time">time</code></td>
<td>
<p>column name specifying time, default is 'time'.</p>
</td></tr>
<tr><td><code id="ezcox_group_+3A_status">status</code></td>
<td>
<p>column name specifying event status, default is 'status'.</p>
</td></tr>
<tr><td><code id="ezcox_group_+3A_sort">sort</code></td>
<td>
<p>if <code>TRUE</code>, sort the models by the HR values.</p>
</td></tr>
<tr><td><code id="ezcox_group_+3A_decreasing">decreasing</code></td>
<td>
<p>logical, should the sort order be increasing or decreasing?</p>
</td></tr>
<tr><td><code id="ezcox_group_+3A_add_all">add_all</code></td>
<td>
<p>if <code>TRUE</code>, add a group for all data rows.</p>
</td></tr>
<tr><td><code id="ezcox_group_+3A_add_caption">add_caption</code></td>
<td>
<p>if <code>TRUE</code>, add caption to the plot.</p>
</td></tr>
<tr><td><code id="ezcox_group_+3A_verbose">verbose</code></td>
<td>
<p>if <code>TRUE</code>, print extra info.</p>
</td></tr>
<tr><td><code id="ezcox_group_+3A_headings">headings</code></td>
<td>
<p>a <code>list</code> for setting the heading text.</p>
</td></tr>
<tr><td><code id="ezcox_group_+3A_...">...</code></td>
<td>
<p>other arguments passing to <code><a href="forestmodel.html#topic+forest_model">forestmodel::forest_model()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>list</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(survival)
ezcox_group(lung, grp_var = "sex", covariate = "ph.ecog")
ezcox_group(lung, grp_var = "sex", covariate = "ph.ecog", controls = "age")
p &lt;- ezcox_group(lung,
  grp_var = "sex", covariate = "ph.ecog",
  controls = "age", add_all = TRUE
)
</code></pre>

<hr>
<h2 id='ezcox_parallel'>Parallelly Run Cox Analysis in Batch Mode</h2><span id='topic+ezcox_parallel'></span>

<h3>Description</h3>

<p>Parallelly Run Cox Analysis in Batch Mode
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ezcox_parallel(
  data,
  covariates,
  controls = NULL,
  time = "time",
  status = "status",
  batch_size = 100,
  global_method = c("likelihood", "wald", "logrank"),
  keep_models = FALSE,
  return_models = FALSE,
  model_dir = file.path(tempdir(), "ezcox"),
  parallel = TRUE,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ezcox_parallel_+3A_data">data</code></td>
<td>
<p>a <code>data.frame</code> containing variables, time and os status.</p>
</td></tr>
<tr><td><code id="ezcox_parallel_+3A_covariates">covariates</code></td>
<td>
<p>column names specifying variables.</p>
</td></tr>
<tr><td><code id="ezcox_parallel_+3A_controls">controls</code></td>
<td>
<p>column names specifying controls.</p>
</td></tr>
<tr><td><code id="ezcox_parallel_+3A_time">time</code></td>
<td>
<p>column name specifying time, default is 'time'.</p>
</td></tr>
<tr><td><code id="ezcox_parallel_+3A_status">status</code></td>
<td>
<p>column name specifying event status, default is 'status'.</p>
</td></tr>
<tr><td><code id="ezcox_parallel_+3A_batch_size">batch_size</code></td>
<td>
<p>processing size in a batch.</p>
</td></tr>
<tr><td><code id="ezcox_parallel_+3A_global_method">global_method</code></td>
<td>
<p>method used to obtain global p value for cox model,
should be one of &quot;likelihood&quot;, &quot;wald&quot;, &quot;logrank&quot;.
The likelihood-ratio test, Wald test, and score logrank statistics.
These three methods are asymptotically equivalent. For large enough N,
they will give similar results. For small N, they may differ somewhat.
The Likelihood ratio test has better behavior for small sample sizes,
so it is generally preferred.</p>
</td></tr>
<tr><td><code id="ezcox_parallel_+3A_keep_models">keep_models</code></td>
<td>
<p>If <code>TRUE</code>, keep models as local files.</p>
</td></tr>
<tr><td><code id="ezcox_parallel_+3A_return_models">return_models</code></td>
<td>
<p>default <code>FALSE</code>. If <code>TRUE</code>, return a <code>list</code> contains
cox models.</p>
</td></tr>
<tr><td><code id="ezcox_parallel_+3A_model_dir">model_dir</code></td>
<td>
<p>a path for storing model results.</p>
</td></tr>
<tr><td><code id="ezcox_parallel_+3A_parallel">parallel</code></td>
<td>
<p>if <code>TRUE</code>, do parallel computation by <strong>furrr</strong> package.</p>
</td></tr>
<tr><td><code id="ezcox_parallel_+3A_verbose">verbose</code></td>
<td>
<p>if <code>TRUE</code>, print extra info. If <code>parallel</code> is <code>TRUE</code>,
set <code>verbose</code> to <code>FALSE</code> may speed up.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>ezcox</code> object
</p>


<h3>Author(s)</h3>

<p>Shixiang Wang <a href="mailto:w_shixiang@163.com">w_shixiang@163.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(survival)
t &lt;- ezcox_parallel(lung, covariates = c("sex", "ph.ecog"), controls = "age")
t
</code></pre>

<hr>
<h2 id='filter_ezcox'>Filter ezcox</h2><span id='topic+filter_ezcox'></span>

<h3>Description</h3>

<p>Filter ezcox
</p>


<h3>Usage</h3>

<pre><code class='language-R'>filter_ezcox(x, levels = "auto", type = c("both", "contrast", "ref"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="filter_ezcox_+3A_x">x</code></td>
<td>
<p>a <code>ezcox</code> object from <code><a href="#topic+ezcox">ezcox()</a></code>.</p>
</td></tr>
<tr><td><code id="filter_ezcox_+3A_levels">levels</code></td>
<td>
<p>levels to filter, default is 'auto', it will filter all control variables.</p>
</td></tr>
<tr><td><code id="filter_ezcox_+3A_type">type</code></td>
<td>
<p>default is 'both' for filtering both contrast level and reference level.
It can also be 'contrast' for filtering only contrast level and 'ref' for
filtering only reference level.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>ezcox</code> object
</p>


<h3>Author(s)</h3>

<p>Shixiang Wang <a href="mailto:w_shixiang@163.com">w_shixiang@163.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(survival)
lung$ph.ecog &lt;- factor(lung$ph.ecog)
zz &lt;- ezcox(lung, covariates = c("sex", "age"), controls = "ph.ecog")
zz
filter_ezcox(zz)
filter_ezcox(zz, c("0", "2"))
filter_ezcox(zz, c("0", "2"), type = "contrast")
t &lt;- filter_ezcox(zz, c("0", "2"), type = "ref")
t
</code></pre>

<hr>
<h2 id='forester'>Create a forest plot for simple data</h2><span id='topic+forester'></span>

<h3>Description</h3>

<p>Create a forest plot for simple data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>forester(
  data,
  display_cols = c("Variable", "HR", "lower_95", "upper_95"),
  estimate_precision = 2,
  null_line_at = 1,
  font_family = "mono",
  x_scale_linear = TRUE,
  xlim = NULL,
  xbreaks = NULL,
  point_sizes = 3,
  point_shape = 16,
  label_hjust = 0,
  label_vjust = -1,
  label_color = "blue",
  label_size = 3
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="forester_+3A_data">data</code></td>
<td>
<p>Data frame (required). The information to be displayed as the forest plot.</p>
</td></tr>
<tr><td><code id="forester_+3A_display_cols">display_cols</code></td>
<td>
<p>4 columns stand for axis text and the forest data,
default using <code>c("term", "HR", "conf.low", "conf.high")</code>.</p>
</td></tr>
<tr><td><code id="forester_+3A_estimate_precision">estimate_precision</code></td>
<td>
<p>Integer. The number of decimal places on the estimate (default 2).</p>
</td></tr>
<tr><td><code id="forester_+3A_null_line_at">null_line_at</code></td>
<td>
<p>Numeric. Default 0. Change to 1 if using relative measures such as OR, RR.</p>
</td></tr>
<tr><td><code id="forester_+3A_font_family">font_family</code></td>
<td>
<p>String. The font to use for the ggplot. Default &quot;mono&quot;.</p>
</td></tr>
<tr><td><code id="forester_+3A_x_scale_linear">x_scale_linear</code></td>
<td>
<p>Logical. Default TRUE, change to FALSE for log scale</p>
</td></tr>
<tr><td><code id="forester_+3A_xlim">xlim</code></td>
<td>
<p>Vector. Manually specify limits for the x axis as a vector length 2, i.e. c(low, high)</p>
</td></tr>
<tr><td><code id="forester_+3A_xbreaks">xbreaks</code></td>
<td>
<p>Vector. X axis breaks to label. Specify limits in xlim if using this option.</p>
</td></tr>
<tr><td><code id="forester_+3A_point_sizes">point_sizes</code></td>
<td>
<p>Vector. Length should be equal to 1 or nrow(left_side_data).
The sizes of the points in the center plot, where 3.25 is the default.</p>
</td></tr>
<tr><td><code id="forester_+3A_point_shape">point_shape</code></td>
<td>
<p>Vector. Length should be equal to 1 or nrow(left_side_data).
The shapes of the points in the center plot, where 16 (a filled circle) is the default.</p>
</td></tr>
<tr><td><code id="forester_+3A_label_hjust">label_hjust</code>, <code id="forester_+3A_label_vjust">label_vjust</code>, <code id="forester_+3A_label_color">label_color</code>, <code id="forester_+3A_label_size">label_size</code></td>
<td>
<p>hjust, vjust
color and size for the label text.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>ggplot</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(survival)

t1 &lt;- ezcox(lung, covariates = c(
  "age", "sex",
  "ph.karno", "pat.karno"
))
p &lt;- forester(t1, xlim = c(0, 1.5))
p
p2 &lt;- forester(t1, xlim = c(0.5, 1.5))
p2
</code></pre>

<hr>
<h2 id='get_models'>Get Model List from ezcox Object</h2><span id='topic+get_models'></span>

<h3>Description</h3>

<p>Models are renamed by the formulas.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_models(x, variables = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_models_+3A_x">x</code></td>
<td>
<p>a <code>ezcox</code> object from <code><a href="#topic+ezcox">ezcox()</a></code>.</p>
</td></tr>
<tr><td><code id="get_models_+3A_variables">variables</code></td>
<td>
<p>a character vector representing variables to select.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a named <code>list</code> with class <code>ezcox_models</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(survival)
zz &lt;- ezcox(lung, covariates = c("sex", "ph.ecog"), controls = "age", return_models = TRUE)
mds &lt;- get_models(zz)
str(mds, max.level = 1)
</code></pre>

<hr>
<h2 id='show_forest'>Show Forest Plot</h2><span id='topic+show_forest'></span>

<h3>Description</h3>

<p>This is a wrapper of function <a href="#topic+ezcox">ezcox</a>, <a href="#topic+get_models">get_models</a> and
<a href="#topic+show_models">show_models</a>. It focus on generating forest plot easily
and flexibly.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>show_forest(
  data,
  covariates,
  controls = NULL,
  time = "time",
  status = "status",
  merge_models = FALSE,
  model_names = NULL,
  vars_to_show = NULL,
  drop_controls = FALSE,
  add_caption = TRUE,
  point_size = 3,
  point_shape = 15,
  color = "red",
  banded = TRUE,
  headings = list(variable = "Variable", n = "N", measure = "Hazard ratio", ci = NULL, p
    = "p"),
  model_dir = file.path(tempdir(), "ezcox"),
  verbose = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="show_forest_+3A_data">data</code></td>
<td>
<p>a <code>data.frame</code> containing variables, time and os status.</p>
</td></tr>
<tr><td><code id="show_forest_+3A_covariates">covariates</code></td>
<td>
<p>a character vector optionally listing the variables to include in the plot (defaults to all variables).</p>
</td></tr>
<tr><td><code id="show_forest_+3A_controls">controls</code></td>
<td>
<p>column names specifying controls.
The names with pattern &quot;*:|()&quot; will be treated as interaction/combination
term, please make sure all column names in <code>data</code> are valid R variable names.</p>
</td></tr>
<tr><td><code id="show_forest_+3A_time">time</code></td>
<td>
<p>column name specifying time, default is 'time'.</p>
</td></tr>
<tr><td><code id="show_forest_+3A_status">status</code></td>
<td>
<p>column name specifying event status, default is 'status'.</p>
</td></tr>
<tr><td><code id="show_forest_+3A_merge_models">merge_models</code></td>
<td>
<p>if 'TRUE', merge all models and keep the plot tight.</p>
</td></tr>
<tr><td><code id="show_forest_+3A_model_names">model_names</code></td>
<td>
<p>model names to show when <code>merge_models=TRUE</code>.</p>
</td></tr>
<tr><td><code id="show_forest_+3A_vars_to_show">vars_to_show</code></td>
<td>
<p>default is <code>NULL</code>, show all variables
(including controls). You can use this to choose variables
to show, but remember, the models have not been changed.</p>
</td></tr>
<tr><td><code id="show_forest_+3A_drop_controls">drop_controls</code></td>
<td>
<p>works when <code>covariates=NULL</code> and <code>models</code> is a <code>ezcox_models</code>, if <code>TRUE</code>,
it removes control variables automatically.</p>
</td></tr>
<tr><td><code id="show_forest_+3A_add_caption">add_caption</code></td>
<td>
<p>if <code>TRUE</code>, add caption to the plot.</p>
</td></tr>
<tr><td><code id="show_forest_+3A_point_size">point_size</code></td>
<td>
<p>size of point.</p>
</td></tr>
<tr><td><code id="show_forest_+3A_point_shape">point_shape</code></td>
<td>
<p>shape value of point.</p>
</td></tr>
<tr><td><code id="show_forest_+3A_color">color</code></td>
<td>
<p>color for point and segment.</p>
</td></tr>
<tr><td><code id="show_forest_+3A_banded">banded</code></td>
<td>
<p>if <code>TRUE</code> (default), create banded background color.</p>
</td></tr>
<tr><td><code id="show_forest_+3A_headings">headings</code></td>
<td>
<p>a <code>list</code> for setting the heading text.</p>
</td></tr>
<tr><td><code id="show_forest_+3A_model_dir">model_dir</code></td>
<td>
<p>a path for storing model results.</p>
</td></tr>
<tr><td><code id="show_forest_+3A_verbose">verbose</code></td>
<td>
<p>if <code>TRUE</code>, print extra info.</p>
</td></tr>
<tr><td><code id="show_forest_+3A_...">...</code></td>
<td>
<p>other arguments passing to <code><a href="forestmodel.html#topic+forest_model">forestmodel::forest_model()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>ggplot</code> object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(survival)
show_forest(lung, covariates = c("sex", "ph.ecog"), controls = "age")
show_forest(lung, covariates = c("sex", "ph.ecog"), controls = "age", merge_models = TRUE)
show_forest(lung,
  covariates = c("sex", "ph.ecog"), controls = "age", merge_models = TRUE,
  drop_controls = TRUE
)
p &lt;- show_forest(lung,
  covariates = c("sex", "ph.ecog"), controls = "age", merge_models = TRUE,
  vars_to_show = "sex"
)
p
</code></pre>

<hr>
<h2 id='show_models'>Show Cox Models</h2><span id='topic+show_models'></span>

<h3>Description</h3>

<p>Show Cox Models
</p>


<h3>Usage</h3>

<pre><code class='language-R'>show_models(
  models,
  model_names = NULL,
  covariates = NULL,
  merge_models = FALSE,
  drop_controls = FALSE,
  headings = list(variable = "Variable", n = "N", measure = "Hazard ratio", ci = NULL, p
    = "p"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="show_models_+3A_models">models</code></td>
<td>
<p>a <code>ezcox_models</code> from <code><a href="#topic+get_models">get_models()</a></code> or a (named) list of Cox models.</p>
</td></tr>
<tr><td><code id="show_models_+3A_model_names">model_names</code></td>
<td>
<p>model names to show when <code>merge_models=TRUE</code>.</p>
</td></tr>
<tr><td><code id="show_models_+3A_covariates">covariates</code></td>
<td>
<p>a character vector optionally listing the variables to include in the plot (defaults to all variables).</p>
</td></tr>
<tr><td><code id="show_models_+3A_merge_models">merge_models</code></td>
<td>
<p>if 'TRUE', merge all models and keep the plot tight.</p>
</td></tr>
<tr><td><code id="show_models_+3A_drop_controls">drop_controls</code></td>
<td>
<p>works when <code>covariates=NULL</code> and <code>models</code> is a <code>ezcox_models</code>, if <code>TRUE</code>,
it removes control variables automatically.</p>
</td></tr>
<tr><td><code id="show_models_+3A_headings">headings</code></td>
<td>
<p>a <code>list</code> for setting the heading text.</p>
</td></tr>
<tr><td><code id="show_models_+3A_...">...</code></td>
<td>
<p>other arguments passing to <code><a href="forestmodel.html#topic+forest_model">forestmodel::forest_model()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>ggplot</code> object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(survival)
zz &lt;- ezcox(lung, covariates = c("sex", "ph.ecog"), controls = "age", return_models = TRUE)
mds &lt;- get_models(zz)
show_models(mds)
show_models(mds, model_names = paste0("Model ", 1:2))
show_models(mds, covariates = c("sex", "ph.ecog"))
show_models(mds, drop_controls = TRUE)
show_models(mds, merge_models = TRUE)
p &lt;- show_models(mds, merge_models = TRUE, drop_controls = TRUE)
p
</code></pre>

<hr>
<h2 id='tidyeval'>Tidy eval helpers</h2><span id='topic+tidyeval'></span><span id='topic+expr'></span><span id='topic+enquo'></span><span id='topic+enquos'></span><span id='topic+sym'></span><span id='topic+syms'></span><span id='topic+.data'></span><span id='topic++3A+3D'></span><span id='topic+as_name'></span><span id='topic+as_label'></span>

<h3>Description</h3>


<ul>
<li> <p><code><a href="rlang.html#topic+sym">sym</a>()</code> creates a symbol from a string and
<code><a href="rlang.html#topic+sym">syms</a>()</code> creates a list of symbols from a
character vector.
</p>
</li>
<li> <p><code><a href="rlang.html#topic+nse-defuse">enquo</a>()</code> and
<code><a href="rlang.html#topic+nse-defuse">enquos</a>()</code> delay the execution of one or
several function arguments. <code>enquo()</code> returns a single quoted
expression, which is like a blueprint for the delayed computation.
<code>enquos()</code> returns a list of such quoted expressions.
</p>
</li>
<li> <p><code><a href="rlang.html#topic+nse-defuse">expr</a>()</code> quotes a new expression <em>locally</em>. It
is mostly useful to build new expressions around arguments
captured with <code><a href="#topic+enquo">enquo()</a></code> or <code><a href="#topic+enquos">enquos()</a></code>:
<code>expr(mean(!!enquo(arg), na.rm = TRUE))</code>.
</p>
</li>
<li> <p><code><a href="rlang.html#topic+as_name">as_name</a>()</code> transforms a quoted variable name
into a string. Supplying something else than a quoted variable
name is an error.
</p>
<p>That's unlike <code><a href="rlang.html#topic+as_label">as_label</a>()</code> which also returns
a single string but supports any kind of R object as input,
including quoted function calls and vectors. Its purpose is to
summarise that object into a single label. That label is often
suitable as a default name.
</p>
<p>If you don't know what a quoted expression contains (for instance
expressions captured with <code>enquo()</code> could be a variable
name, a call to a function, or an unquoted constant), then use
<code>as_label()</code>. If you know you have quoted a simple variable
name, or would like to enforce this, use <code>as_name()</code>.
</p>
</li></ul>

<p>To learn more about tidy eval and how to use these tools, visit
<a href="https://adv-r.hadley.nz/metaprogramming.html">Metaprogramming
section</a> of <a href="https://adv-r.hadley.nz">Advanced R</a>.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

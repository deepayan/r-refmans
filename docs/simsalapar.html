<!DOCTYPE html><html><head><title>Help for package simsalapar</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {simsalapar}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#simsalapar-package'><p>Tools for Simulation Studies in Parallel with <span class="rlang"><b>R</b></span></p></a></li>
<li><a href='#array-stuff'><p>Tools For Converting To and From Arrays, Lists, and Array of Lists</p></a></li>
<li><a href='#device'><p>Cropping and Font Embedding PDF Device</p></a></li>
<li><a href='#doApply'><p>Functions for Iterating Over All Subjobs</p></a></li>
<li><a href='#doCallWE'><p>Innermost Computation: Error Catching Version of do.call()</p></a></li>
<li><a href='#doCheck'><p>Checking a User's doOne</p></a></li>
<li><a href='#expr2latex'><p>Translate 'plotmath' expressions to LaTeX</p></a></li>
<li><a href='#grid-stuff'><p>Tools For Working with Variable Specification Lists</p></a></li>
<li><a href='#LEseeds'><p>Advancing .Random.seed for &quot;L'Ecuyer-CMRG&quot;</p></a></li>
<li><a href='#mayplot'><p>Matrix-like Plot for Arrays up to Rank 5</p></a></li>
<li><a href='#subjob'><p>Subjob - Compute one Row of the Virtual Grid</p></a></li>
<li><a href='#toLatex-ftable'><p>Convert Flat Contingency Table (ftable) and VarLists to LaTeX Table</p></a></li>
<li><a href='#tryCatch.W.E'><p>Catching and Storing Warnings and Errors Simultaneously</p></a></li>
<li><a href='#varlist'><p>Variable Specification List - Generation and Class</p></a></li>
<li><a href='#wrapLaTable'><p>Wrapper for a floating LaTeX Table</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Version:</td>
<td>1.0-12</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-04-26</td>
</tr>
<tr>
<td>Title:</td>
<td>Tools for Simulation Studies in Parallel</td>
</tr>
<tr>
<td>Description:</td>
<td>Tools for setting up ("design"), conducting, and evaluating
  large-scale simulation studies with graphics and tables, including
  parallel computations.</td>
</tr>
<tr>
<td>Author:</td>
<td>Marius Hofert and Martin Maechler &lt;maechler@stat.math.ethz.ch&gt;</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Marius Hofert &lt;mhofert@hku.hk&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.1.0), graphics</td>
</tr>
<tr>
<td>Imports:</td>
<td>stats, parallel, utils, grDevices, methods, grid, sfsmisc,
gridBase (&ge; 0.4-6), colorspace</td>
</tr>
<tr>
<td>Suggests:</td>
<td>lattice, Rmpi, Hmisc, copula, foreach, doParallel, fGarch,
robustbase</td>
</tr>
<tr>
<td>SuggestsNote:</td>
<td>copula is only used for the vignettes, see their
VignetteDepends; fGarch: only used in demo(TGforecasts),
robustbase in another demo.</td>
</tr>
<tr>
<td>KeepSource:</td>
<td>yes</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-04-26 09:48:42 UTC; mhofert</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-04-27 08:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='simsalapar-package'>Tools for Simulation Studies in Parallel with <span class="rlang"><b>R</b></span></h2><span id='topic+simsalapar-package'></span><span id='topic+simsalapar'></span>

<h3>Description</h3>

<p>Tools for setting up, conducting, and evaluating larger-scale
simulation studies, including parallel computations, in <span class="rlang"><b>R</b></span>.
</p>


<h3>Details</h3>

<p>The DESCRIPTION file:
</p>

<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> simsalapar</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 1.0-12</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2023-04-26</td>
</tr>
<tr>
 <td style="text-align: left;">
Title: </td><td style="text-align: left;"> Tools for Simulation Studies in Parallel</td>
</tr>
<tr>
 <td style="text-align: left;">
Description: </td><td style="text-align: left;"> Tools for setting up ("design"), conducting, and evaluating
  large-scale simulation studies with graphics and tables, including
  parallel computations.</td>
</tr>
<tr>
 <td style="text-align: left;">
Author: </td><td style="text-align: left;"> Marius Hofert and Martin Maechler &lt;maechler@stat.math.ethz.ch&gt;</td>
</tr>
<tr>
 <td style="text-align: left;">
Maintainer: </td><td style="text-align: left;"> Marius Hofert &lt;mhofert@hku.hk&gt;</td>
</tr>
<tr>
 <td style="text-align: left;">
Depends: </td><td style="text-align: left;"> R (&gt;= 3.1.0), graphics</td>
</tr>
<tr>
 <td style="text-align: left;">
Imports: </td><td style="text-align: left;"> stats, parallel, utils, grDevices, methods, grid,
sfsmisc, gridBase (&gt;= 0.4-6), colorspace</td>
</tr>
<tr>
 <td style="text-align: left;">
Suggests: </td><td style="text-align: left;"> lattice, Rmpi, Hmisc, copula, foreach, doParallel, fGarch, robustbase</td>
</tr>
<tr>
 <td style="text-align: left;">
SuggestsNote: </td><td style="text-align: left;"> copula is only used for the vignettes, see their VignetteDepends;
fGarch: only used in demo(TGforecasts), robustbase in another demo.</td>
</tr>
<tr>
 <td style="text-align: left;">
KeepSource: </td><td style="text-align: left;"> yes</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL-2 | GPL-3</td>
</tr>
<tr>
 <td style="text-align: left;">
Encoding: </td><td style="text-align: left;"> UTF-8</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>


<p>Index of help topics:
</p>
<pre>
dev.off.pdf             Cropping and Font Embedding PDF Device
doCallWE                Innermost Computation: Error Catching Version
                        of do.call()
doCheck                 Checking a User's doOne
doLapply                Functions for Iterating Over All Subjobs
expr2latex              Translate 'plotmath' expressions to LaTeX
getEl                   Tools For Working with Variable Specification
                        Lists
LEseeds                 Advancing .Random.seed for "L'Ecuyer-CMRG"
mayplot                 Matrix-like Plot for Arrays up to Rank 5
simsalapar-package      Tools for Simulation Studies in Parallel with R
subjob                  Subjob - Compute one Row of the Virtual Grid
toLatex.ftable          Convert Flat Contingency Table (ftable) and
                        VarLists to LaTeX Table
tryCatch.W.E            Catching and Storing Warnings and Errors
                        Simultaneously
ul                      Tools For Converting To and From Arrays, Lists,
                        and Array of Lists
varlist                 Variable Specification List - Generation and
                        Class
wrapLaTable             Wrapper for a floating LaTeX Table
</pre>


<h4>Setting up a simulation</h4>


<dl>
<dt><code><a href="#topic+varlist">varlist</a></code>()</dt><dd><p>creates a variable specification list.</p>
</dd>
<dt><a href="#topic+dimnames2varlist">dimnames2varlist</a>()</dt><dd><p>creates a variable specification list from
given dimension names.</p>
</dd>
<dt><a href="#topic+getEl">getEl</a>()</dt><dd><p>extracts elements from a variable list.</p>
</dd>
<dt>mkGrid()</dt><dd><p>function for creating a grid of all variables of type
&ldquo;grid&rdquo;; see <code><a href="#topic+mkGrid">mkGrid</a>()</code>.</p>
</dd>
<dt>mkNms()</dt><dd><p>builds a list of names from a variable list; see
<code><a href="#topic+mkNms">mkNms</a>()</code>.</p>
</dd>
<dt>get.n.sim()</dt><dd><p>extracts &ldquo;n.sim&rdquo;; see <code><a href="#topic+get.n.sim">get.n.sim</a>()</code>.</p>
</dd>
<dt>get.nonGrids()</dt><dd><p>extracts all variables not of type
&ldquo;grid&rdquo;; see <code><a href="#topic+get.nonGrids">get.nonGrids</a>()</code>.</p>
</dd>
</dl>




<h4>Conducting a simulation</h4>


<dl>
<dt>tryCatch.W.E()</dt><dd><p>catching and storing warnings and errors
simultaneously; see <code><a href="#topic+tryCatch.W.E">tryCatch.W.E</a>()</code>.</p>
</dd>
<dt>doCallWE()</dt><dd><p>innermost computation (return value of doOne()):
returns value, error, warning, and run time; see <code><a href="#topic+doCallWE">doCallWE</a>()</code>.</p>
</dd>
<dt>LEseeds()</dt><dd><p>create a list of advanced <code>.Random.seed</code>'s for
&ldquo;L'Ecuyer-CMRG&rdquo;; see <code><a href="#topic+LEseeds">LEseeds</a>()</code>.</p>
</dd>
<dt>printInfo()</dt><dd><p>displays information about the sub-job just
finished; see <code><a href="#topic+printInfo">printInfo</a>()</code>.</p>
</dd>
<dt>subjob()</dt><dd><p>computes one row of the virtual grid in a
simulation; see <code><a href="#topic+subjob">subjob</a>()</code>.</p>
</dd>
<dt>mkTimer()</dt><dd><p>creates a function to be passed to doCallWE() as
timer; see <code><a href="#topic+mkTimer">mkTimer</a>()</code>.</p>
</dd>
<dt><code><a href="#topic+doLapply">doLapply</a>()</code></dt><dd><p> sequentially iterates over all
subjobs via standard <code><a href="base.html#topic+lapply">lapply</a>()</code>.</p>
</dd>
<dt><code><a href="#topic+doForeach">doForeach</a>()</code></dt><dd><p> iterates over all subjobs in parallel (via
<code>foreach()</code>, package <a href="https://CRAN.R-project.org/package=foreach"><span class="pkg">foreach</span></a>).</p>
</dd>
<dt><code><a href="#topic+doRmpi">doRmpi</a>()</code> </dt><dd><p>iterates over all subjobs in parallel
(via <a href="https://CRAN.R-project.org/package=Rmpi"><span class="pkg">Rmpi</span></a>'s <code>mpi.apply()</code>).</p>
</dd>
<dt><code><a href="#topic+doMclapply">doMclapply</a>()</code> </dt><dd><p>iterates over all subjobs in parallel (via
<code><a href="parallel.html#topic+mclapply">mclapply</a>()</code>).</p>
</dd>
<dt><code><a href="#topic+doClusterApply">doClusterApply</a>()</code> </dt><dd><p>iterates over all subjobs
in parallel (via <code><a href="parallel.html#topic+clusterApply">clusterApply</a>()</code>).</p>
</dd>
</dl>




<h4>Analysis</h4>


<dl>
<dt>doRes.equal()</dt><dd><p>convenience wrapper for comparing two results
of the <code>do*</code> lapply-like functions; see <code><a href="#topic+doRes.equal">doRes.equal</a>()</code>.</p>
</dd>
<dt>mkAL()</dt><dd><p>converts a list of named 5-lists to an array of lists;
see <code><a href="#topic+mkAL">mkAL</a>()</code>.</p>
</dd>
<dt>saveSim()</dt><dd><p>(optionally) converts a result list to an
array of lists using mkAL(); see <code><a href="#topic+saveSim">saveSim</a>()</code>.</p>
</dd>
<dt>maybeRead()</dt><dd><p>(optionally) reads the provided <code>.rds</code>; see
<code><a href="#topic+maybeRead">maybeRead</a>()</code>.</p>
</dd>
<dt>getArray()</dt><dd><p>gets an array of 4-lists and computes an
array of values, errors, warnings, or run times; see
<code><a href="#topic+getArray">getArray</a>()</code>.</p>
</dd>
<dt><code><a href="#topic+array2df">array2df</a>()</code> </dt><dd><p>conveniently converts an array to
a <code><a href="base.html#topic+data.frame">data.frame</a></code>.</p>
</dd>
<dt><code><a href="utils.html#topic+toLatex">toLatex</a>()</code>:</dt><dd><p>an S3 method for varlist and ftable.</p>
</dd>
<dt><code><a href="#topic+fftable">fftable</a>()</code> </dt><dd><p>essentially calls
<code>format.ftable()</code> and adds attributes <code>ncv</code> and
<code>nrv</code> to the return object.</p>
</dd>
<dt><code><a href="#topic+tablines">tablines</a>()</code> </dt><dd><p>computes ingredients for converting a
character matrix with attributes to a LaTeX table.</p>
</dd>
<dt><code><a href="#topic+wrapLaTable">wrapLaTable</a>()</code></dt><dd><p>wraps a table and tabular
environment around the lines of the body of a LaTeX table.</p>
</dd>
<dt><code><a href="#topic+mayplot">mayplot</a>()</code>:</dt><dd><p>a matrix-like plot for arrays up
to rank 5, with grid and gridBase.</p>
</dd>
</dl>




<h3>Author(s)</h3>

<p>Marius Hofert and Martin Maechler &lt;maechler@stat.math.ethz.ch&gt;
</p>
<p>Maintainer: Marius Hofert &lt;marius.hofert@math.ethz.ch&gt;
</p>


<h3>References</h3>


<dl>
<dt>Publication</dt><dd>
<p>Marius Hofert, Martin Maechler (2016).
Parallel and Other Simulations in <span class="rlang"><b>R</b></span> Made Easy: An End-to-End Study.
<em>Journal of Statistical Software</em>, <b>69</b>(4), 1&ndash;44.
<a href="https://doi.org/10.18637/jss.v069.i04">doi:10.18637/jss.v069.i04</a></p>
</dd>
<dt>Preprint (for simsalapar 1.0-0; including timing info):</dt><dd>
<p>Hofert, M. and Mächler, M. (2013).
Parallel and other simulations in <span class="rlang"><b>R</b></span> made easy: An end-to-end study.
<a href="https://arxiv.org/abs/1309.4402">https://arxiv.org/abs/1309.4402</a></p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run:  
 demo(TGforecasts)

## End(Not run)
</code></pre>

<hr>
<h2 id='array-stuff'>Tools For Converting To and From Arrays, Lists, and Array of Lists</h2><span id='topic+ul'></span><span id='topic+mkAL'></span><span id='topic+saveSim'></span><span id='topic+maybeRead'></span><span id='topic+getArray'></span><span id='topic+array2df'></span>

<h3>Description</h3>


<dl>
<dt>ul()</dt><dd><p>is a simple wrapper for <code><a href="base.html#topic+unlist">unlist</a>()</code> with
<code>recursive=FALSE</code>.</p>
</dd>
<dt>mkAL()</dt><dd><p>gets a list <code>x</code> with elements that are named
lists of length five, see <code>x</code> below, and converts it to an
array of <code><a href="base.html#topic+list">list</a></code>s.</p>
</dd>
<dt>saveSim()</dt><dd><p>(optionally) converts a result list to an array using
<code>mkAL()</code> and (optionally) saves it to a file via <code><a href="base.html#topic+saveRDS">saveRDS</a>()</code>.</p>
</dd>
<dt>maybeRead()</dt><dd><p>if the provided &lsquo;<span class="file">.rds</span>&rsquo; file exists, this function
reads it via <code><a href="base.html#topic+readRDS">readRDS</a>()</code>; otherwise, nothing is done.</p>
</dd>
<dt>getArray()</dt><dd><p>gets an array of 4-<code><a href="base.html#topic+list">list</a></code>s as returned
by <code>mkAL()</code>, picks out the specified component <code>comp</code>,
applies the specified function <code>FUN</code> (with useful defaults),
and builds an <code><a href="base.html#topic+array">array</a></code>.</p>
</dd>
<dt>array2df()</dt><dd><p>auxiliary function to convert an array to a
<code><a href="base.html#topic+data.frame">data.frame</a></code> (correctly dealing with <code>n.sim</code>).</p>
</dd>
</dl>



<h3>Usage</h3>

<pre><code class='language-R'>ul(x)

mkAL   (x, vList, repFirst, check=TRUE)
saveSim(x, vList, repFirst, sfile, check=TRUE, doAL=TRUE)

maybeRead(sfile, msg=TRUE)

getArray(x, comp=c("value", "error", "warning", "time"),
         FUN=NULL, err.value=NA)

array2df(x, responseName = "value")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="array-stuff_+3A_x">x</code></td>
<td>
<p>for
</p>

<dl>
<dt>ul()</dt><dd><p>a list.</p>
</dd>
<dt>mkAL(), saveSim()</dt><dd><p>a list (of length
<code>n.sim * nrow(pGrid)</code>)
where each element is a list of length
five, containing the named elements <code>"value"</code>,
<code>"error"</code>, <code>"warning"</code>, <code>"time"</code>, and
<code>".Random.seed"</code>, the first four as returned by
<code><a href="#topic+doCallWE">doCallWE</a>()</code>.</p>
</dd>
<dt>getArray()</dt><dd><p>an array of <code><a href="base.html#topic+list">list</a></code>s as
returned by <code>mkAL()</code>.</p>
</dd>
<dt>array2df()</dt><dd><p>a numeric array as returned by
<code>getArray(*, "value")</code>.</p>
</dd>
</dl>

</td></tr>
<tr><td><code id="array-stuff_+3A_vlist">vList</code></td>
<td>
<p>a <code><a href="base.html#topic+list">list</a></code> of variable specifications.  Each
variable specification is itself a named list which must contain a
<code>"value"</code> component.</p>
</td></tr>
<tr><td><code id="array-stuff_+3A_repfirst">repFirst</code></td>
<td>
<p>logical; <b>must</b> match the value of <code>repFirst</code>
in the <code>x &lt;- do*Apply()</code> call where <code>x</code> has been created.</p>
</td></tr>
<tr><td><code id="array-stuff_+3A_check">check</code></td>
<td>
<p><code><a href="base.html#topic+logical">logical</a></code> activating consistency checks for
<code>x</code>.</p>
</td></tr>
<tr><td><code id="array-stuff_+3A_sfile">sfile</code></td>
<td>
<p>a file name, typically with extension &lsquo;<span class="file">.rds</span>&rsquo; or <code><a href="base.html#topic+NULL">NULL</a></code>.</p>
</td></tr>
<tr><td><code id="array-stuff_+3A_doal">doAL</code></td>
<td>
<p><code><a href="base.html#topic+logical">logical</a></code> indicating if <code>mkAL()</code> should
be called, or rather just <code>x</code> be saved.</p>
</td></tr>
<tr><td><code id="array-stuff_+3A_msg">msg</code></td>
<td>
<p><code><a href="base.html#topic+logical">logical</a></code> indicating whether a message is
printed when an object is read from <code>sfile</code>.</p>
</td></tr>
<tr><td><code id="array-stuff_+3A_err.value">err.value</code></td>
<td>
<p><code><a href="base.html#topic+numeric">numeric</a></code> which is used to replace the
value of the array entry in case of an error.</p>
</td></tr>
<tr><td><code id="array-stuff_+3A_comp">comp</code></td>
<td>
<p>character string denoting the component.</p>
</td></tr>
<tr><td><code id="array-stuff_+3A_fun">FUN</code></td>
<td>
<p>function to be applied right before the resulting array
<code><a href="base.html#topic+array">array</a></code> is constructed.</p>
</td></tr>
<tr><td><code id="array-stuff_+3A_responsename">responseName</code></td>
<td>
<p>(for <code>arrady2df()</code>:) a string specifying the
name of the &ldquo;value&rdquo; column of the resulting data frame.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>mkAL()</code> is useful when creating arrays from result
lists returned from large(r) simulation studies which use
<code><a href="#topic+doCallWE">doCallWE</a>()</code>. To create a proper argument <code>x</code> for
<code>mkAL()</code>, the function <code>ul()</code> turns out to
be useful to (stepwise) unlist nested lists.
</p>
<p><code>getArray()</code> converts arrays of lists as returned by
<code>mkAL()</code> to an <code><a href="base.html#topic+array">array</a></code> of <code><a href="base.html#topic+numeric">numeric</a></code> (or
<code><a href="base.html#topic+logical">logical</a></code>, see below) after applying the specified <code>FUN</code>.
<br />
In case of an error, the corresponding entry in the resulting array is
replaced by <code>err.value</code>.
</p>
<p>The default <code>FUN</code> converts possible errors and warnings to
<code><a href="base.html#topic+logical">logical</a></code> (indicating whether there was a error or
warning, respectively) and run times to <code><a href="base.html#topic+numeric">numeric</a></code>.  For
<code>comp="value"</code>, the situation is trickier.  First of all, the
resulting array contains dimensions for variables of type
&ldquo;inner&rdquo; and, if greater than 1, for the variable of type
&ldquo;N&rdquo; (typically called <code>"n.sim"</code>); see the vignette for
details.
<br />
Use <code>FUN = identity</code> to get at the full error or warning objects,
for <code>comp = "error"</code> or for <code>comp = "warning"</code>, respectively.
</p>
<p><code>saveSim()</code> and <code>maybeRead()</code> are
useful for creating and (re)storing arrays from large(r) simulation
studies (to avoid recomputation, to ease the data analysis etc.).
<code>saveSim()</code> calls <code>mkAL()</code>, nowadays wrapped in
<code><a href="base.html#topic+tryCatch">tryCatch</a>(.)</code>, such that the simulation is not lost, even
when the resulting format cannot correctly be treated by
<code>mkAL()</code>.  Consequently, <code>doAL</code> is not much needed anymore.
Note that both <code>saveSim()</code> and <code>maybeRead()</code> accept
<code>sfile=<a href="base.html#topic+NULL">NULL</a></code> in which case nothing is saved or read.
</p>


<h3>Value</h3>

<p>For </p>

<dl>
<dt>ul()</dt><dd><p>the unlisted list; see <code><a href="base.html#topic+unlist">unlist</a>()</code>.</p>
</dd>
<dt>mkAL()</dt><dd><p>an <code><a href="base.html#topic+array">array</a></code> of <code><a href="base.html#topic+list">list</a></code>s.</p>
</dd>
<dt>saveSim()</dt><dd><p>the <code><a href="base.html#topic+array">array</a></code> returned by
<code>mkAL()</code>.</p>
</dd>
<dt>maybeRead()</dt><dd><p>the object read by <code><a href="base.html#topic+readRDS">readRDS</a>()</code> from
<code>sfile</code> or nothing (if <code>sfile</code> does not exist).</p>
</dd>
<dt>getArray()</dt><dd><p>an <code><a href="base.html#topic+array">array</a></code> containing the values
of the specified component <code>comp</code> after applying <code>FUN</code>
to them.  The default <code>FUN</code> produces an <code><a href="base.html#topic+array">array</a></code>,
depending on <code>comp</code>, of
</p>

<dl>
<dt>&quot;value&quot;:</dt><dd><p>values or <code>err.value</code> (in case of an error)</p>
</dd>
<dt>&quot;error&quot;:</dt><dd><p>logicals indicating whether there was an error</p>
</dd>
<dt>&quot;warning&quot;:</dt><dd><p>logicals indicating whether there was a warning</p>
</dd>
<dt>&quot;time&quot;:</dt><dd><p>timings as returned by <code><a href="#topic+doCallWE">doCallWE</a>()</code>,
i.e., typically (from <code><a href="#topic+mkTimer">mkTimer</a></code>'s
<code><a href="base.html#topic+proc.time">proc.time</a>()[1]</code>) the number of milliseconds
of &ldquo;&quot;CPU user time&quot;&rdquo;.</p>
</dd>
</dl>

</dd>
<dt>array2df(x)</dt><dd><p>a <code><a href="base.html#topic+data.frame">data.frame</a></code> with several columns
built from the <code><a href="base.html#topic+dimnames">dimnames</a>(x)</code> and a column named
<code>responseName</code> with the values of <code>x</code>.</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Marius Hofert and Martin Maechler.</p>


<h3>References</h3>

<p>see <code><a href="#topic+simsalapar-package">simsalapar-package</a></code>.</p>


<h3>See Also</h3>

<p><code><a href="#topic+getEl">getEl</a>()</code> and <code><a href="#topic+mkNms">mkNms</a>()</code> used by
<code>mkAL()</code>. <code><a href="base.html#topic+saveRDS">saveRDS</a>()</code> and
<code><a href="base.html#topic+readRDS">readRDS</a>()</code>, the &ldquo;workhorses&rdquo; of
<code>saveSim()</code> and <code>maybeRead()</code>, respectively.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## Get at the full error objects, notably (message, call):
errObjs &lt;- getArray(res, "error", FUN=identity)

## End(Not run)

if(FALSE) ## A longer, "interesting" example is in
 demo(robust.mean)
</code></pre>

<hr>
<h2 id='device'>Cropping and Font Embedding PDF Device</h2><span id='topic+dev.off.pdf'></span>

<h3>Description</h3>

<p><code>dev.off.pdf()</code> is a wrapper of <code><a href="grDevices.html#topic+dev.off">dev.off</a>()</code> which is
meant for closing a pdf device. It also performs
cropping and font embedding if chosen.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dev.off.pdf(file="Rplots.pdf", crop=NULL, embedFonts="", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="device_+3A_file">file</code></td>
<td>
<p>output file name including extension .pdf.</p>
</td></tr>
<tr><td><code id="device_+3A_crop">crop</code></td>
<td>
<p>cropping command, can be one of:
</p>

<dl>
<dt><code><a href="base.html#topic+NULL">NULL</a></code></dt><dd><p>crop with the command
<code>"pdfcrop --pdftexcmd pdftex file file 1&gt;/dev/null 2&gt;&amp;1"</code>.
This is suitable for Unix; for non-Unix, no cropping is done.</p>
</dd>
<dt><code><a href="base.html#topic+character">character</a></code></dt><dd><p>a string containing the crop
command.</p>
</dd>
<dt>&quot;&quot;</dt><dd><p>do not crop.</p>
</dd>
</dl>

</td></tr>
<tr><td><code id="device_+3A_embedfonts">embedFonts</code></td>
<td>
<p>font embedding command, can be one of:
</p>

<dl>
<dt><code><a href="base.html#topic+NULL">NULL</a></code></dt><dd><p>embed fonts with the command
<code>embedFonts(file, options="-dSubsetFonts=true
	  -dEmbedAllFonts=true -dPDFSETTINGS=/printer
	  -dUseCIEColor")</code>. This is suitable for Unix; for non-Unix,
no font embedding is done.</p>
</dd>
<dt><code><a href="base.html#topic+character">character</a></code></dt><dd><p>a string containing a font embedding
command.</p>
</dd>
<dt>&quot;&quot;</dt><dd><p>do not embed fonts.</p>
</dd>
</dl>
</td></tr>
<tr><td><code id="device_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code><a href="grDevices.html#topic+dev.off">dev.off</a>()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code><a href="base.html#topic+invisible">invisible</a>()</code>.
</p>


<h3>Author(s)</h3>

<p>Marius Hofert</p>


<h3>See Also</h3>

<p><code><a href="grDevices.html#topic+dev.off">dev.off</a>()</code> for closing a device,
<code><a href="grDevices.html#topic+embedFonts">embedFonts</a>()</code> for font embedding.
<span class="pkg">sfsmisc</span>'s <code><a href="sfsmisc.html#topic+pdf.end">pdf.end</a>()</code> for another approach.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## typical usage
doPDF &lt;- !dev.interactive(orNone=TRUE)
if(doPDF) pdf(file=(file &lt;- "crop_device.pdf"), width=6, height=6)
plot(1)
if(doPDF) dev.off.pdf(file)
if(file.exists(file)) file.remove(file)
</code></pre>

<hr>
<h2 id='doApply'>Functions for Iterating Over All Subjobs</h2><span id='topic+doLapply'></span><span id='topic+doForeach'></span><span id='topic+doRmpi'></span><span id='topic+doMclapply'></span><span id='topic+doClusterApply'></span><span id='topic+doRes.equal'></span>

<h3>Description</h3>

<p><code>doLapply()</code> iterates over all subjobs (using the non-parallel
<code><a href="base.html#topic+lapply">lapply</a>()</code>). Similarly, but in parallel, for
<code>doForeach</code> (based on CRAN package <a href="https://CRAN.R-project.org/package=foreach"><span class="pkg">foreach</span></a>'s <code><a href="foreach.html#topic+foreach">foreach</a>()</code>),
<code>doRmpi</code> (based on <a href="https://CRAN.R-project.org/package=Rmpi"><span class="pkg">Rmpi</span></a>'s <code><a href="Rmpi.html#topic+mpi.apply">mpi.apply</a>()</code>),
<code>doMclapply</code> (based on <span class="pkg">parallel</span>'s <code><a href="parallel.html#topic+mclapply">mclapply</a>()</code>), and
<code>doClusterApply</code> (based on <span class="pkg">parallel</span>'s <code><a href="parallel.html#topic+clusterApply">clusterApply</a>()</code>).
</p>
<p><code>doRes.equal()</code> is simple convenience wrapper for
<code><a href="Matrix.html#topic+all.equal">all.equal</a>()</code>, for comparing two results (from the same
<code><a href="#topic+varlist">varlist</a></code> and <code>doOne</code> arguments) of the <code>do*</code>
lapply-like functions above.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>doLapply(vList, seed="seq", repFirst=TRUE,
       sfile=NULL, check=TRUE, doAL=TRUE, subjob.=subjob, monitor=FALSE,
       doOne, ...)
doForeach(vList, cluster=makeCluster(detectCores(), type="PSOCK"),
       cores=NULL, block.size = 1, seed="seq", repFirst=TRUE,
       sfile=NULL, check=TRUE, doAL=TRUE, subjob.=subjob, monitor=FALSE,
       doOne, extraPkgs=character(), exports=character(), ...)
doRmpi(vList,
       nslaves = if((sz &lt;- Rmpi::mpi.universe.size()) &lt;= 1) detectCores() else sz,
       load.balancing=TRUE, block.size = 1, seed="seq", repFirst=TRUE,
       sfile=NULL, check=TRUE, doAL=TRUE, subjob.=subjob, monitor=FALSE,
       doOne, exports=character(), ...)
doMclapply(vList, cores = if(.Platform$OS.type == "windows") 1 else detectCores(),
       load.balancing=TRUE, block.size = 1, seed="seq", repFirst=TRUE,
       sfile=NULL, check=TRUE, doAL=TRUE, subjob.=subjob, monitor=FALSE,
       doOne, ...)
doClusterApply(vList, cluster=makeCluster(detectCores(), type="PSOCK"),
       load.balancing=TRUE, block.size = 1, seed="seq", repFirst=TRUE,
       sfile=NULL, check=TRUE, doAL=TRUE, subjob.=subjob, monitor=FALSE,
       doOne, initExpr, exports=character(), ...)

doRes.equal(x, y, tol = 1e-15, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="doApply_+3A_vlist">vList</code></td>
<td>
<p>a <code><a href="base.html#topic+list">list</a></code> of variable specifications. Each
variable spec is itself a named list which must contain a
<code>"value"</code> component.</p>
</td></tr>
<tr><td><code id="doApply_+3A_cluster">cluster</code></td>
<td>
<p>cluster object, typically generated by
<code><a href="parallel.html#topic+makeCluster">makeCluster</a>()</code>. For <code><a href="#topic+doForeach">doForeach</a>()</code>, this can
be <code>NULL</code> as well, see Details below.</p>
</td></tr>
<tr><td><code id="doApply_+3A_cores">cores</code></td>
<td>
<p>the number of cores. For <code><a href="#topic+doForeach">doForeach</a>()</code>, this can
be <code>NULL</code> as well, see Details below.</p>
</td></tr>
<tr><td><code id="doApply_+3A_nslaves">nslaves</code></td>
<td>
<p>the number of workers for <code>doRmpi</code>, passed
to package <a href="https://CRAN.R-project.org/package=Rmpi"><span class="pkg">Rmpi</span></a>'s <code><a href="Rmpi.html#topic+mpi.spawn.Rslaves">mpi.spawn.Rslaves</a></code> when no
running workers are found.</p>
</td></tr>
<tr><td><code id="doApply_+3A_load.balancing">load.balancing</code></td>
<td>
<p><code><a href="base.html#topic+logical">logical</a></code> indicating whether
load balancing is used:
</p>

<dl>
<dt>doRmpi()</dt><dd><p><code><a href="Rmpi.html#topic+mpi.applyLB">mpi.applyLB</a>()</code> is used instead of
<code><a href="Rmpi.html#topic+mpi.apply">mpi.apply</a>()</code>.</p>
</dd>
<dt>doMclapply()</dt><dd><p>here, <code>mc.preschedule=!load.balancing</code>
determines load balancing.</p>
</dd>
<dt>doClusterApply()</dt><dd><p><code><a href="parallel.html#topic+clusterApplyLB">clusterApplyLB</a>()</code> instead of
<code><a href="parallel.html#topic+clusterApply">clusterApply</a>()</code>.</p>
</dd>
</dl>
</td></tr>
<tr><td><code id="doApply_+3A_block.size">block.size</code></td>
<td>
<p>size of blocks of rows in the virtual grid which are
computed simultaneously (load-balancing).</p>
</td></tr>
<tr><td><code id="doApply_+3A_seed">seed</code>, <code id="doApply_+3A_repfirst">repFirst</code></td>
<td>
<p>see <code><a href="#topic+subjob">subjob</a>()</code>.</p>
</td></tr>
<tr><td><code id="doApply_+3A_sfile">sfile</code>, <code id="doApply_+3A_check">check</code>, <code id="doApply_+3A_doal">doAL</code></td>
<td>
<p>see <code><a href="#topic+saveSim">saveSim</a>()</code>.</p>
</td></tr>
<tr><td><code id="doApply_+3A_subjob.">subjob.</code></td>
<td>
<p>a <code><a href="base.html#topic+function">function</a></code> for computing a subjob (one
row of the virtual grid). Typically <code><a href="#topic+subjob">subjob</a>()</code>.</p>
</td></tr>
<tr><td><code id="doApply_+3A_doone">doOne</code></td>
<td>
<p>a user-supplied <code><a href="base.html#topic+function">function</a></code> for computing one
row of the (physical) grid.</p>
</td></tr>
<tr><td><code id="doApply_+3A_monitor">monitor</code></td>
<td>
<p>a logical or a <code><a href="base.html#topic+function">function</a></code> for producing
&ldquo;monitoring&rdquo; output; the function argument list must contain
the one of <code><a href="#topic+printInfo">printInfo</a>[["default"]]</code>.</p>
</td></tr>
<tr><td><code id="doApply_+3A_extrapkgs">extraPkgs</code></td>
<td>
<p><code><a href="base.html#topic+character">character</a></code> vector of packages to be made
available on the nodes.</p>
</td></tr>
<tr><td><code id="doApply_+3A_exports">exports</code></td>
<td>
<p><code><a href="base.html#topic+character">character</a></code> vector of functions (for
<code><a href="#topic+doForeach">doForeach</a>()</code> and <code><a href="#topic+doClusterApply">doClusterApply</a>()</code>) or
objects (for <code><a href="#topic+doRmpi">doRmpi</a>()</code>) to export.</p>
</td></tr>
<tr><td><code id="doApply_+3A_initexpr">initExpr</code></td>
<td>
<p>expression initially evaluated on the cluster
(can be missing).</p>
</td></tr>
<tr><td><code id="doApply_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>subjob()</code> (typically
further passed on to <code>doOne()</code>), or, for <code>doRes.equal()</code>, to
<code><a href="Matrix.html#topic+all.equal">all.equal</a>(*)</code>.</p>
</td></tr>
<tr><td><code id="doApply_+3A_x">x</code>, <code id="doApply_+3A_y">y</code></td>
<td>
<p>each a result of, say <code>doLapply()</code> which should be
compared where sensible, i.e., the first three components
<code>"value"</code>,<code>"error"</code>,<code>"warning"</code>, using
<code><a href="Matrix.html#topic+all.equal">all.equal</a></code>.</p>
</td></tr>
<tr><td><code id="doApply_+3A_tol">tol</code></td>
<td>
<p>passed to <code><a href="Matrix.html#topic+all.equal">all.equal</a>(*)</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See the vignette or references in <code><a href="#topic+simsalapar-package">simsalapar-package</a></code> for
how to use these functions.
</p>
<p>For reasons to choose <code>"MPI"</code> as cluster type (if not on Windows),
see the discussion starting at
<a href="https://stat.ethz.ch/pipermail/r-sig-hpc/2013-April/001647.html">https://stat.ethz.ch/pipermail/r-sig-hpc/2013-April/001647.html</a>.
</p>
<p>For <code><a href="#topic+doForeach">doForeach</a>()</code>, precisely one of <code>cluster</code> or
<code>cores</code> has to be not <code>NULL</code>. This will determine whether
the parallel computations are carried out on a cluster with multiple
nodes or on a multi-core processor.
</p>


<h3>Value</h3>

<p>The result of applying <code>subjob()</code> to all subjobs, converted with
<code><a href="#topic+saveSim">saveSim</a>()</code>.
</p>


<h3>Author(s)</h3>

<p>Marius Hofert and Martin Maechler.</p>


<h3>See Also</h3>

<p><code><a href="#topic+subjob">subjob</a>()</code> for computing a subjob.  <code><a href="#topic+doCallWE">doCallWE</a>()</code>
for the return value of <code>doOne()</code>.  <code><a href="base.html#topic+.Random.seed">.Random.seed</a></code> for
information about random number generators and seeds.
</p>


<h3>Examples</h3>

<pre><code class='language-R'> if(simsalapar:::doExtras()) { ## needs some CPU
   demo(robust.mean) # 512 simulations, differing block sizes, ...
 }
</code></pre>

<hr>
<h2 id='doCallWE'>Innermost Computation: Error Catching Version of do.call()</h2><span id='topic+doCallWE'></span><span id='topic+mkTimer'></span>

<h3>Description</h3>

<p><code>doCallWE()</code> performs the innermost computation of the simulation
study at hand.  It is a version of <code><a href="base.html#topic+do.call">do.call</a>(f, argl, *)</code>,
with care of catching and storing <em>both</em> error and warnings (via
<code><a href="#topic+tryCatch.W.E">tryCatch.W.E</a>()</code>) and measures user time.  This is useful
in large(r) simulation studies.
</p>
<p><code>mkTimer()</code> returns a <em>function</em> to be passed as
<code>timer</code> to <code>doCallWE()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>doCallWE(f, argl, 
         timer = mkTimer(gcFirst=FALSE))

mkTimer(gcFirst)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="doCallWE_+3A_f">f</code></td>
<td>
<p>a <code><a href="base.html#topic+function">function</a></code> which given data and parameters,
computes the statistic we are simulating.</p>
</td></tr>
<tr><td><code id="doCallWE_+3A_argl">argl</code></td>
<td>
<p>list of arguments for <code>f()</code>.</p>
</td></tr>

<tr><td><code id="doCallWE_+3A_timer">timer</code></td>
<td>
<p>a <code><a href="base.html#topic+function">function</a></code> similar to
<code><a href="base.html#topic+system.time">system.time</a>()</code>; by default, measure user time in
milliseconds.</p>
</td></tr>
<tr><td><code id="doCallWE_+3A_gcfirst">gcFirst</code></td>
<td>
<p>logical, passed to <code><a href="base.html#topic+system.time">system.time</a>()</code>, as it
is called from the resulting function <code>mkTimer()</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note that <code>gcFirst=FALSE</code> is default for a good reason: if a call
to <code>doOne()</code> is relatively fast, calling <code><a href="base.html#topic+gc">gc</a>()</code> every
time is unnecessarily expensive and may completely dominate the
overall simulation run time. For serious run time measurement,
<code>gcFirst=TRUE</code> is preferable, as it ensures less
variable timings, see <code><a href="base.html#topic+system.time">system.time</a></code>.
</p>


<h3>Value</h3>

<p><code>doCallWE()</code> returns a <code><a href="base.html#topic+list">list</a></code> with components
</p>
<table>
<tr><td><code>value</code></td>
<td>
<p><code>f</code><code class="reqn">(\langle \mathtt{argl} \rangle)</code>,
if there was no error, <code><a href="base.html#topic+NULL">NULL</a></code> otherwise.</p>
</td></tr>
<tr><td><code>error</code></td>
<td>
<p>error message (see <code><a href="base.html#topic+simpleError">simpleError</a></code> or
<code><a href="base.html#topic+stop">stop</a>()</code>), <code><a href="base.html#topic+NULL">NULL</a></code> otherwise.</p>
</td></tr>
<tr><td><code>warning</code></td>
<td>
<p>warning message (see <code><a href="base.html#topic+simpleWarning">simpleWarning</a></code> or
<code><a href="base.html#topic+warning">warning</a>()</code>), <code><a href="base.html#topic+NULL">NULL</a></code> otherwise.</p>
</td></tr>
<tr><td><code>time</code></td>
<td>
<p>time, as measured by <code>timer()</code>; defaults to
milliseconds without garbage collection.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Marius Hofert and Martin Maechler.</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+do.call">do.call</a></code>, <code><a href="#topic+tryCatch.W.E">tryCatch.W.E</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(61)
L &lt;- log(abs(rt(n=100, df = 1.5)))
r &lt;- doCallWE(quantile, list(L, probs= 0.95))
## set timer for  "no timing" :
u &lt;- doCallWE(quantile, list(L, probs= 0.95), timer = function(E) { E; NULL })
stopifnot(is.null(r$error),
	  all.equal(r$value, quantile(L, 0.95)),
	  identical(r[1:3], u[1:3]), is.null(u[["time"]]))
</code></pre>

<hr>
<h2 id='doCheck'>Checking a User's doOne</h2><span id='topic+doCheck'></span>

<h3>Description</h3>

<p><code>doCheck()</code> checks, if possible, a user's doOne() function for
return objects of correct sizes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>doCheck(doOne, vList, nChks = ng, verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="doCheck_+3A_doone">doOne</code></td>
<td>
<p>a user-supplied <code><a href="base.html#topic+function">function</a></code> for computing one
row of the (physical) grid.</p>
</td></tr>
<tr><td><code id="doCheck_+3A_vlist">vList</code></td>
<td>
<p>a <code><a href="base.html#topic+list">list</a></code> of variable specifications. Each
variable spec is itself a named list which must contain a
<code>"value"</code> component.</p>
</td></tr>
<tr><td><code id="doCheck_+3A_nchks">nChks</code></td>
<td>
<p>number of rows randomly picked from the (physical) grid
which are used for a basic test of the evaluation and return value
of <code>doOne()</code>.</p>
</td></tr>
<tr><td><code id="doCheck_+3A_verbose">verbose</code></td>
<td>
<p><code><a href="base.html#topic+logical">logical</a></code> indicating whether check output
is displayed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>None.
</p>


<h3>Author(s)</h3>

<p>Marius Hofert and Martin Maechler.</p>


<h3>Examples</h3>

<pre><code class='language-R'>## definition
doCheck
</code></pre>

<hr>
<h2 id='expr2latex'>Translate 'plotmath' expressions to LaTeX</h2><span id='topic+expr2latex'></span><span id='topic+escapeLatex'></span>

<h3>Description</h3>

<p><code>expr2latex()</code> translates a &ldquo;R graphics annotation&rdquo;
expression to the corresponding LaTeX one.
</p>
<p><code>escapeLatex()</code>, very similar to its original,
<code>escape_latex()</code> from <span class="pkg">fortunes</span>, escapes certain character
combinations, such that the result can be used in LaTeX.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>expr2latex(expr)
escapeLatex(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="expr2latex_+3A_expr">expr</code></td>
<td>
<p>an <span class="rlang"><b>R</b></span> object of <code><a href="base.html#topic+class">class</a></code> <code>expression</code> or
<code>language</code>, typically as from <code><a href="base.html#topic+quote">quote</a>(...)</code>.</p>
</td></tr>
<tr><td><code id="expr2latex_+3A_x">x</code></td>
<td>
<p>a <code><a href="base.html#topic+character">character</a></code> vector.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>expr2latex()</code> function is recursively rendering (sub)
expressions, until it uses the internal <code>renderAtom()</code> for simple
symbols (<code><a href="base.html#topic+is.symbol">is.symbol</a></code>).
</p>
<p>We currently work with some tables of math annotation expressions,
lifted from the corresponding C source of <span class="rlang"><b>R</b></span> itself. (Hidden in
<span class="pkg">simsalpar</span>'s namespace, we have <code>AccentTable</code>,
<code>BinTable</code>, <code>RelTable</code>, <code>Lgreek</code> and <code>Ugreek</code>,
currently.)
</p>
<p>The current implementation is still incomplete.
</p>


<h3>Value</h3>

<p>a <code><a href="base.html#topic+character">character</a></code> string with the LaTeX 
expression corresponding to &ldquo;R graphics annotation&rdquo; expression
<code>expr</code>.
</p>


<h3>Author(s)</h3>

<p>Martin Maechler.</p>


<h3>See Also</h3>

<p><code><a href="grDevices.html#topic+plotmath">plotmath</a></code> for mathematical expressions to annotate <span class="rlang"><b>R</b></span>
graphics.
</p>
<p><code><a href="utils.html#topic+toLatex">toLatex</a>()</code> and its <code>ftable</code> method,
<code><a href="#topic+toLatex.ftable">toLatex</a>()</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>expr2latex( quote( N[sim] ) )
expr2latex( quote( N[sim] ~ O(n) ) )
expr2latex( quote(x %notin% N) )
expr2latex( quote(x %+-% epsilon) )
expr2latex( quote(N[s*m^2]) )
expr2latex( quote( 2^{N[sim] - 3} ~~~ O(n^{n^2}) ) )

escapeLatex(c("#{positives}", "A | B"))
</code></pre>

<hr>
<h2 id='grid-stuff'>Tools For Working with Variable Specification Lists</h2><span id='topic+getEl'></span><span id='topic+mkGrid'></span><span id='topic+mkNms'></span><span id='topic+get.n.sim'></span><span id='topic+set.n.sim'></span><span id='topic+get.nonGrids'></span>

<h3>Description</h3>

<p>From a variable specification list (<code><a href="#topic+varlist">varlist</a></code>),
</p>

<dl>
<dt>getEl()</dt><dd><p>gets elements of a variable specification
list that match the given variable <code>type</code>.</p>
</dd>
<dt>mkGrid()</dt><dd><p>builds a grid, e.g., for parallel evaluation,
basically by calling <code>do.call(<a href="base.html#topic+expand.grid">expand.grid</a>, &lt;list&gt;)</code>.</p>
</dd>
<dt>mkNms()</dt><dd><p>builds a <code><a href="base.html#topic+list">list</a></code>
of names, e.g., to be used as <code><a href="base.html#topic+dimnames">dimnames</a></code> for a
corresponding simulation result <code><a href="base.html#topic+array">array</a></code>.</p>
</dd>
<dt>get.n.sim()</dt><dd><p>extracts <code>n.sim</code> or returns 1 if it
is not contained in <code>vList</code>.</p>
</dd>
<dt>set.n.sim()</dt><dd><p>modifies or sets <code>n.sim</code> in <code>vList</code>.</p>
</dd>
<dt>get.nonGrids()</dt><dd><p>extracts all variables not having
<code>type="grid"</code> and returns <code>n.sim</code> the same as
<code>get.n.sim()</code>.
</p>
</dd>
</dl>



<h3>Usage</h3>

<pre><code class='language-R'>getEl       (vList, type = "ALL", comp = "value")
mkGrid      (vList)
mkNms       (vList, addNms = FALSE)
get.n.sim   (vList)
set.n.sim   (vList, n)
get.nonGrids(vList)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="grid-stuff_+3A_vlist">vList</code></td>
<td>
<p>a <code><a href="base.html#topic+list">list</a></code> of variable specifications,
typically resulting from <code><a href="#topic+varlist">varlist</a>()</code>.  Each
variable spec is itself a named list which must contain a
<code>"value"</code> component.</p>
</td></tr>
<tr><td><code id="grid-stuff_+3A_type">type</code></td>
<td>
<p><code><a href="base.html#topic+character">character</a></code> vector of variable type or types
to restrict the selection to.  The default, <code>"ALL"</code> implies no
restriction and hence returns <em>all</em> variables.</p>
</td></tr>
<tr><td><code id="grid-stuff_+3A_comp">comp</code></td>
<td>
<p>either a <code><a href="base.html#topic+character">character</a></code> string containing the
component name to pick out or <code><a href="base.html#topic+NA">NA</a></code> (in which case all
components are picked out).</p>
</td></tr>
<tr><td><code id="grid-stuff_+3A_addnms">addNms</code></td>
<td>
<p>logical, specifying if the resulting names should be of
the form <code>&lt;var&gt;=&lt;value&gt;</code> instead of just <code>&lt;value&gt;</code>.</p>
</td></tr>
<tr><td><code id="grid-stuff_+3A_n">n</code></td>
<td>
<p>for <code>set.n.sim()</code>: the value <code>n.sim</code> should be set
to; an integer or <code><a href="base.html#topic+NULL">NULL</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>These functions are useful when working with variable specification lists.
</p>


<h3>Value</h3>

<p>For </p>

<dl>
<dt>getEl()</dt><dd><p>a named <code><a href="base.html#topic+list">list</a></code> containing the selected
components of those variables that match the provided <code>type</code>.</p>
</dd>
<dt>mkGrid()</dt><dd><p>a data frame (<code><a href="base.html#topic+data.frame">data.frame</a></code>).</p>
</dd>
<dt>mkNms()</dt><dd><p>a named <code><a href="base.html#topic+list">list</a></code> of the same
<code><a href="base.html#topic+length">length</a>()</code> and with the same <code><a href="base.html#topic+names">names</a>()</code> as
<code>vList</code>.</p>
</dd>
<dt>get.n.sim()</dt><dd><p><code>n.sim</code> if it is contained in <code>vList</code>,
1 otherwise.</p>
</dd>
<dt>set.n.sim()</dt><dd><p>the <code><a href="#topic+varlist">varlist</a></code> <code>vList</code> with a
<em>modified</em> <code>n.sim</code>.</p>
</dd>
<dt>get.nonGrids()</dt><dd><p><code><a href="base.html#topic+list">list</a></code> of length 2 containing the
(possibly modified) <code>n.sim</code> and a <code><a href="base.html#topic+list">list</a></code>
containing all variables not having <code>type="grid"</code>.</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Marius Hofert and Martin Maechler.</p>


<h3>See Also</h3>

<p><code><a href="#topic+varlist">varlist</a></code>, for construction of variable lists.
<code><a href="base.html#topic+expand.grid">expand.grid</a></code>, the &ldquo;workhorse&rdquo; of <code>mkGrid()</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>vList &lt;-
 varlist(n.sim = list(type="N", expr = quote(N[sim]), value = 64),
         n     = list(type="grid",
                      value = c(20, 100, 500)), # sample sizes
         p     = list(type="grid",
                      value = c(3, 7, 15, 25)), # dimensions
         meth  = list(type="grid", expr = quote(italic(method)),
                      value = c("classical", "robust")))

getEl(vList, type="grid") # for those of type "grid", get all values
## for those of type "grid", get all components :
str(getEl(vList, type="grid", comp=NA))
stopifnot(identical(as(vList, "list"),
                    getEl(vList, type=c("N","grid"), comp = NA)))

(grd &lt;- mkGrid(vList))
stopifnot(nrow(grd) == 3*4*2, ncol(grd) == 3)

getEl(vList)# -&gt; all "value"s: the same as lapply(., `[[`, "value") :
stopifnot(identical(lapply(vList, `[[`, "value"),
                    getEl(vList)))
mkNms(vList)
mkNms(vList, addNms=TRUE)

get.n.sim(vl. &lt;- set.n.sim(vList, NULL)) # 1
vl.$n.sim # NULL
set.n.sim(vl., 12)

</code></pre>

<hr>
<h2 id='LEseeds'>Advancing .Random.seed for &quot;L'Ecuyer-CMRG&quot;</h2><span id='topic+LEseeds'></span>

<h3>Description</h3>

<p><code>LEseeds()</code> creates a list of advanced .Random.seed's for &quot;L'Ecuyer-CMRG&quot;.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>LEseeds(n)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="LEseeds_+3A_n">n</code></td>
<td>
<p>number of steps to advance <code><a href="base.html#topic+.Random.seed">.Random.seed</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See, for example, Hofert and Mächler (2014) for how
to use these functions.
</p>


<h3>Value</h3>

<p>A list of length <code>n</code> containing the advanced <code><a href="base.html#topic+.Random.seed">.Random.seed</a></code>'s.
</p>


<h3>Author(s)</h3>

<p>Marius Hofert and Martin Maechler.</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+.Random.seed">.Random.seed</a></code> for information about random number
generators and seeds.
</p>

<hr>
<h2 id='mayplot'>Matrix-like Plot for Arrays up to Rank 5</h2><span id='topic+mayplot'></span>

<h3>Description</h3>

<p>Produces a matrix-like plot for arrays up to rank 5,
using <span class="pkg">grid</span> and <span class="pkg">gridBase</span> which allows traditional
<span class="pkg">graphics</span>, optionally via a user specified panel function
<code>panel</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mayplot(x, vList, row.vars = NULL, col.vars = NULL,
        xvar, method = if(has.n.sim) "boxplot" else "lines",
       panel.first = NULL, panel.last = NULL,
       type = "l", pch = NULL, ylim = "global",
       log = "", do.legend = TRUE,
       spc = c(0.04/max(1,n.x-1), 0.04/max(1,n.y-1)),
       axlabspc=c(0.12, 0.08), labspc=c(0.04, 0.04),
       n.sim.spc = 0.06, auxcol = c("gray40", "gray78", "gray90", "white"),
       pcol = c("black", "blue", "red", "orange"), grid.lwd = 1.6, ax.lwd = 2,
       tx.cex = 1.2, leg.cex = 1, xlab = NULL, ylab = NA,
       do.n.sim = has.n.sim,
       verbose = getOption("verbose"), show.layout = verbose, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mayplot_+3A_x">x</code></td>
<td>
<p>numeric <code><a href="base.html#topic+array">array</a></code> of &lsquo;rank&rsquo; 5, i.e.,
<code>length(dim(x)) == 5</code>, with <em>named</em>
<code><a href="base.html#topic+dimnames">dimnames</a></code>; typically resulting from a call like
<code><a href="#topic+getArray">getArray</a>(<a href="#topic+doMclapply">doMclapply</a>(..))</code>.</p>
</td></tr>
<tr><td><code id="mayplot_+3A_vlist">vList</code></td>
<td>
<p>a <code><a href="base.html#topic+list">list</a></code> of variable specifications, see
<code><a href="#topic+varlist">varlist</a></code> and <code><a href="#topic+mkGrid">mkGrid</a></code>.</p>
</td></tr>
<tr><td><code id="mayplot_+3A_row.vars">row.vars</code></td>
<td>
<p>a dimension name of <code>x</code>, a string; this variable
is plotted in the plot rows.</p>
</td></tr>
<tr><td><code id="mayplot_+3A_col.vars">col.vars</code></td>
<td>
<p>a dimension name of <code>x</code>, a string; this variable
is plotted in the plot columns.</p>
</td></tr>
<tr><td><code id="mayplot_+3A_xvar">xvar</code></td>
<td>
<p>dimension name of <code>x</code>, a string; this variable is
plotted on the x axis of each sub-plot.</p>
</td></tr>
<tr><td><code id="mayplot_+3A_method">method</code></td>
<td>
<p><code><a href="base.html#topic+character">character</a></code> string indicating the plot
method used.  Currently available are <code>"boxplot"</code> (the default
if <code>vList</code> has <code>n.sim</code>) or <code>"lines"</code> (otherwise;
<code>type</code> adjusts the type of lines used).</p>
</td></tr>
<tr><td><code id="mayplot_+3A_panel.first">panel.first</code>, <code id="mayplot_+3A_panel.last">panel.last</code></td>
<td>
<p><code><a href="base.html#topic+function">function</a></code> or <code>NULL</code>
(default).  If specified, <code>panel.first(x, y, col, ...)</code> is
called before and <code>panel.last(x, y, col, ...)</code> is called after
the main plotting functions (think <code>boxplot.matrix()</code> and
<code>lines()</code>) are called in each panel.</p>
</td></tr>
<tr><td><code id="mayplot_+3A_type">type</code></td>
<td>
<p>character indicating the type of plotting in the
non-boxplot case; actually any of the <code>type</code>s as in
<code><a href="graphics.html#topic+plot.default">plot.default</a></code>.</p>
</td></tr>
<tr><td><code id="mayplot_+3A_pch">pch</code></td>
<td>
<p><code><a href="base.html#topic+logical">logical</a></code> indicating whether a plot symbol is
to be used in the legend (default <code>NULL</code> determines this from
<code>type</code>).</p>
</td></tr>
<tr><td><code id="mayplot_+3A_ylim">ylim</code></td>
<td>
<p>either string <code>"global"</code>, <code>"local"</code>, or a
numeric vector, as for <code><a href="graphics.html#topic+plot.default">plot.default</a></code>.</p>
</td></tr>
<tr><td><code id="mayplot_+3A_log">log</code></td>
<td>
<p><code><a href="base.html#topic+logical">logical</a></code> indicating if logarithmic scales should be used (in
the individual plots).</p>
</td></tr>
<tr><td><code id="mayplot_+3A_do.legend">do.legend</code></td>
<td>
<p><code><a href="base.html#topic+logical">logical</a></code> indicating if a legend should be added.</p>
</td></tr>
<tr><td><code id="mayplot_+3A_spc">spc</code></td>
<td>
<p>dimensions (x, y) in &ldquo;npc&rdquo; for the space between sub-plots.
The default uses a simple adaption to the number of sub-plots in
each direction.</p>
</td></tr>
<tr><td><code id="mayplot_+3A_axlabspc">axlabspc</code></td>
<td>
<p>vector of length two containing the width
of the y axis label and the height of the x axis label in &ldquo;npc&rdquo;.</p>
</td></tr>
<tr><td><code id="mayplot_+3A_labspc">labspc</code></td>
<td>
<p>vector of length two containing the width
of the box of the row labels and the height of the box of
the column labels in &ldquo;npc&rdquo;.</p>
</td></tr>
<tr><td><code id="mayplot_+3A_n.sim.spc">n.sim.spc</code></td>
<td>
<p>space for <code>n.sim</code> on the bottom right of the
plot in &ldquo;npc&rdquo; (only if available).</p>
</td></tr>
<tr><td><code id="mayplot_+3A_auxcol">auxcol</code></td>
<td>
<p>auxiliary colors; vector with four components:
</p>

<ol>
<li><p> color of axes and ticks
</p>
</li>
<li><p> background color for the row and column labels
</p>
</li>
<li><p> background color for the plots
</p>
</li>
<li><p> color of grid lines
</p>
</li></ol>
</td></tr>
<tr><td><code id="mayplot_+3A_pcol">pcol</code></td>
<td>
<p>plot base colors.  If more colors than the provided ones
are required, <code><a href="grDevices.html#topic+colorRampPalette">colorRampPalette</a>()</code> is used.</p>
</td></tr>
<tr><td><code id="mayplot_+3A_grid.lwd">grid.lwd</code></td>
<td>
<p>lwd for grid</p>
</td></tr>
<tr><td><code id="mayplot_+3A_ax.lwd">ax.lwd</code></td>
<td>
<p>lwd for axes</p>
</td></tr>
<tr><td><code id="mayplot_+3A_tx.cex">tx.cex</code></td>
<td>
<p>cex for row and column labels</p>
</td></tr>
<tr><td><code id="mayplot_+3A_leg.cex">leg.cex</code></td>
<td>
<p>cex of legend text and <code>n.sim</code> if appropriate</p>
</td></tr>
<tr><td><code id="mayplot_+3A_xlab">xlab</code></td>
<td>
<p>x axis label (spanned over all plot columns); when
<code>NULL</code>, the default is <code>vList[[xvar]]$expr</code>; to suppress,
use <code>NA</code>.</p>
</td></tr>
<tr><td><code id="mayplot_+3A_ylab">ylab</code></td>
<td>
<p>y axis label (spanned over all plot rows): Typically a
label for the <code>"value"</code> of the simulation.</p>
</td></tr>



<tr><td><code id="mayplot_+3A_do.n.sim">do.n.sim</code></td>
<td>
<p><code><a href="base.html#topic+logical">logical</a></code> indicating whether
<code>n.sim</code> is displayed on the bottom right of the plot
(only if available).</p>
</td></tr>


<tr><td><code id="mayplot_+3A_verbose">verbose</code></td>
<td>
<p>logical indicating whether more
information is displayed during plotting.</p>
</td></tr>
<tr><td><code id="mayplot_+3A_show.layout">show.layout</code></td>
<td>
<p>logical indicating whether the grid layout is
displayed.</p>
</td></tr>
<tr><td><code id="mayplot_+3A_...">...</code></td>
<td>
<p>optional arguments passed to <code>panel()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the layout, invisibly.
</p>


<h3>Author(s)</h3>

<p>Marius Hofert and Martin Maechler.</p>


<h3>See Also</h3>

<p><code><a href="graphics.html#topic+matplot">matplot</a></code>
<code><a href="grid.html#topic+unit">unit</a></code> and <code><a href="grid.html#topic+grid.layout">grid.layout</a></code> from
package <span class="pkg">grid</span>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>vLis &lt;-
 varlist(d = list(type="grid", value = c(10, 100, 1000)),
         family=list(type="grid", value = c("Clayton", "Gumbel")),
         tau = list(type="grid", value = c(0.25, 0.5)),
         alpha = list(type="inner", value = c(0.95, 0.99, 0.999)))

iP &lt;- c(4, 1:3)# &lt;- permutation, putting alpha first
dNms &lt;- mkNms(vLis)[iP]
## an array as from  x &lt;- getArray( doMclapply(vLis, ..) ) :
x &lt;- array(
    c(6.1981, 8.0478, 8.4265, 46.883, 74.359, 86.4394, 432.585, 743.27, 859.35,
      4.8508, 6.0286, 6.3965, 26.380, 35.132, 47.1517, 243.113, 311.36, 342.84,
      7.8546, 8.9769, 9.2199, 78.235, 89.493, 92.2875, 785.674, 893.63, 923.62,
      7.7164, 8.2866, 8.8169, 75.959, 82.806, 88.0626, 756.786, 831.65, 874.70),
    dim = sapply(dNms, length), dimnames = dNms)

mayplot(x, vLis, row.vars="family", col.vars="tau", xvar="alpha", log="y",
       ylab=bquote(widehat(VaR)[alpha]))
## the same, but no xlab and no ylab :
mayplot(x, vLis, row.vars="family", col.vars="tau", xvar="alpha", log="y", xlab=NA)

</code></pre>

<hr>
<h2 id='subjob'>Subjob - Compute one Row of the Virtual Grid</h2><span id='topic+printInfo'></span><span id='topic+subjob'></span>

<h3>Description</h3>

<p><code>subjob()</code> computes one row of the virtual grid in a simulation
study, provides several seeding methods, and sub-job monitoring
(information about the sub-job just finished).
</p>
<p><code>printInfo</code> is a named list of functions optionally to be used as
<code>monitor</code> in <code>subjob()</code> for printing information at the end of
each sub-job.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>subjob(i, pGrid, nonGrids, n.sim, seed, keepSeed = FALSE,
       repFirst = TRUE, doOne,
       timer = mkTimer(gcFirst=FALSE), monitor = FALSE, ...)

printInfo # or
# printInfo[["default"]]
</code></pre>


<h3>Arguments</h3>





<table>
<tr><td><code id="subjob_+3A_i">i</code></td>
<td>
<p>row number of the virtual grid. <code>i.sim</code> and <code>j</code>
together determine <code>i</code>.</p>
</td></tr>
<tr><td><code id="subjob_+3A_pgrid">pGrid</code></td>
<td>
<p>&ldquo;physical grid&rdquo; of all combinations of variables
of type <code>"grid"</code>, as returned by <code><a href="#topic+mkGrid">mkGrid</a>(&lt;varlist&gt;)</code>.</p>
</td></tr>
<tr><td><code id="subjob_+3A_nongrids">nonGrids</code></td>
<td>
<p>values of non-&quot;grid&quot;-variables (if provided, passed to
<code>doOne()</code>), i.e., typically
<code><a href="#topic+get.nonGrids">get.nonGrids</a>(&lt;varlist&gt;)[["nonGrids"]]</code>.</p>
</td></tr>


<tr><td><code id="subjob_+3A_n.sim">n.sim</code></td>
<td>
<p>number of simulation replications.</p>
</td></tr>
<tr><td><code id="subjob_+3A_seed">seed</code></td>
<td>
<p>one of:
</p>

<dl>
<dt><code><a href="base.html#topic+NULL">NULL</a></code></dt><dd><p><code><a href="base.html#topic+.Random.seed">.Random.seed</a></code> remains
untouched.  If it does not exist, generate it by calling
<code>runif(1)</code>.  This case typically leads to <b>non</b>-reproducible
results.</p>
</dd>
<dt><code><a href="base.html#topic+numeric">numeric</a>(n.sim)</code></dt><dd><p>a <code><a href="base.html#topic+numeric">numeric</a></code> vector
of length <code>n.sim</code> containing the seed for each simulation
replications (same seed for each row in the (physical) grid;
this ensures least variance across computations for the same
replication).  This case leads to reproducible results.</p>
</dd>
<dt><code><a href="base.html#topic+vector">vector</a>("list", n.sim)</code></dt><dd><p>a <code><a href="base.html#topic+list">list</a></code> of
length <code>n.sim</code> containing seeds (typically numeric vectors)
for each of the <code>n.sim</code> simulation replications
(same seed for each row in the (physical) grid).  The seeds are
assigned to <code><a href="base.html#topic+.Random.seed">.Random.seed</a></code> in <code><a href="base.html#topic+globalenv">globalenv</a>()</code>
and can thus be used for other random number generators such as
<code>"L'Ecuyer-CMRG"</code>, see <code><a href="base.html#topic+set.seed">set.seed</a>()</code>.  This case
leads to reproducible results.</p>
</dd>
<dt><code><a href="base.html#topic+NA">NA</a></code></dt><dd><p><code><a href="base.html#topic+.Random.seed">.Random.seed</a></code> remains
untouched.  If it does not exist, so be it.  No fifth component is
concatenated to the result of the <code>doOne()</code> call in this
case even when <code>keepSeed=TRUE</code> (where in all other cases,
the seed is appended as 5th component).  This method typically
leads to <b>non</b>-reproducible results.</p>
</dd>
<dt><code><a href="base.html#topic+character">character</a></code> string</dt><dd><p>a character string
specifying a seeding method.  Currently only <code>"seq"</code> in
which case the seeds 1 to <code>n.sim</code> for the <code>n.sim</code>
simulation replications are used.  This is the default.
Functionally, it is a special case of the &ldquo;<code><a href="base.html#topic+numeric">numeric</a>(n.sim)</code>&rdquo;
specification above (with <code>seed = 1:n.sim</code>) and hence leads
to reproducible results.</p>
</dd>
</dl>
</td></tr>
<tr><td><code id="subjob_+3A_keepseed">keepSeed</code></td>
<td>
<p><code><a href="base.html#topic+logical">logical</a></code> indicating if <code><a href="base.html#topic+.Random.seed">.Random.seed</a></code>
should be appended to each return value of <code><a href="#topic+doCallWE">doCallWE</a>()</code>
- unless <code>seed = NA</code>.</p>
</td></tr>
<tr><td><code id="subjob_+3A_repfirst">repFirst</code></td>
<td>
<p><code><a href="base.html#topic+logical">logical</a></code>; if <code><a href="base.html#topic+TRUE">TRUE</a></code> (the
default), all <code>n.sim</code> replications are computed for a
row in the (physical) grid first, before the next row is considered;
if <code><a href="base.html#topic+FALSE">FALSE</a></code>, first all rows of the (physical) grid are
computed for a fixed replicate until the next replicate is considered.</p>
</td></tr>
<tr><td><code id="subjob_+3A_doone">doOne</code></td>
<td>
<p><code><a href="base.html#topic+function">function</a></code> for computing one row in the
(physical) grid; must return a numeric vector, <code><a href="base.html#topic+matrix">matrix</a></code>,
or <code><a href="base.html#topic+array">array</a></code>.</p>
</td></tr>
<tr><td><code id="subjob_+3A_timer">timer</code></td>
<td>
<p>a <code><a href="base.html#topic+function">function</a></code> similar to
<code><a href="base.html#topic+system.time">system.time</a>()</code>, passed to <code><a href="#topic+doCallWE">doCallWE</a>()</code>.</p>
</td></tr>
<tr><td><code id="subjob_+3A_monitor">monitor</code></td>
<td>
<p><code><a href="base.html#topic+logical">logical</a></code> or <code><a href="base.html#topic+function">function</a></code>
indicating whether or how monitoring output is displayed.
<code>TRUE</code> defaults to the <code>printInfo[["default"]]</code> function.</p>
</td></tr>
<tr><td><code id="subjob_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>doOne()</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See the vignette or references in <code><a href="#topic+simsalapar-package">simsalapar-package</a></code> for
how to use these functions.
</p>
<p>The case where <code>seed</code> is a <code><a href="base.html#topic+numeric">numeric</a></code> vector of length
<code>n.sim</code> also leads to the same results no matter which variables
are of type &ldquo;grid&rdquo; or &ldquo;inner&rdquo;; see <code>demo(robust.mean)</code> where
this is tested.  This is important to guarantee since one might want to
change certain &ldquo;inner&rdquo; variables to &ldquo;grid&rdquo; variables due to
load-balancing while computing the desired statistics based on the
same seed (or generated data from this seed).</p>


<h3>Value</h3>


<dl>
<dt>printInfo</dt><dd><p><em>is</em> a named <code><a href="base.html#topic+list">list</a></code> of
<code><a href="base.html#topic+function">function</a></code>s which produce output (<code><a href="base.html#topic+cat">cat</a>(..)</code>)
containing information about the sub-job which <code>subjob()</code> has
just finished.  Note that components <code>"gfile"</code>
(&ldquo;global file&rdquo;) and <code>"fileEach"</code> each direct the
monitoring output to <em>files</em>.</p>
</dd>
<dt>subjob()</dt><dd><p>returns a vector of length five if <code>keepSeed</code> is true
and <code>seed</code> is not <code>NA</code>, otherwise (also by default), of
length four.  The first four components contain the
return value of <code><a href="#topic+doCallWE">doCallWE</a>()</code>.  If <code>keepSeed</code> is
true, the fifth component contains <code><a href="base.html#topic+.Random.seed">.Random.seed</a></code>
before the call of <code><a href="#topic+doCallWE">doCallWE</a>()</code> (for reproducibility).</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Marius Hofert and Martin Maechler.</p>


<h3>See Also</h3>

<p><code><a href="#topic+doCallWE">doCallWE</a>()</code>; <code><a href="base.html#topic+.Random.seed">.Random.seed</a></code> for
information about random number generators and seeds.
</p>
<p>For examples of <em>implicit</em> use of <code>subjob</code>, see
<code><a href="#topic+doLapply">doLapply</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>names(printInfo)# currently "default", "gfile", "fileEach"

str(printInfo, give.attr=FALSE)
## the functions in printInfo share a common environment() with utility functions:
ls.str(environment(printInfo$default))
if(FALSE) # show them all
as.list(environment(printInfo$default))
</code></pre>

<hr>
<h2 id='toLatex-ftable'>Convert Flat Contingency Table (ftable) and VarLists to LaTeX Table</h2><span id='topic+toLatex.ftable'></span><span id='topic+toLatex.varlist'></span><span id='topic+fftable'></span><span id='topic+tablines'></span><span id='topic+cattablines'></span>

<h3>Description</h3>

<p>The <code><a href="stats.html#topic+ftable">ftable</a></code> method of <code><a href="utils.html#topic+toLatex">toLatex</a>()</code> converts
an <code>ftable</code> to a LaTeX table via <code>tablines()</code>.
</p>
<p>Analogously, the <code><a href="#topic+varlist">varlist</a></code> method of
<code><a href="utils.html#topic+toLatex">toLatex</a>()</code> converts an <code>varlist</code> to a LaTeX table.
</p>
<p><code>fftable()</code> essentially calls <code>format.ftable()</code> and adds
attributes <code>ncv</code> and <code>nrv</code> to the return object.
</p>
<p><code>tablines()</code> computes ingredients for converting a
<code><a href="base.html#topic+character">character</a></code> <code><a href="base.html#topic+matrix">matrix</a></code> with attributes to a
LaTeX table.
</p>
<p><code>cattablines()</code> is a small auxiliary function which creates rows
of a LaTeX table from a given matrix.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ftable'
toLatex(object, vList = NULL,
        x.escape = FALSE, exprFUN = expr2latex, escapeFUN = escapeLatex,
        align = NULL, booktabs = TRUE, head = NULL,
	rsep = "\\\\", sp = if(booktabs) 3 else 1.25, rsep.sp = NULL,
	csep = " &amp; ", quote = FALSE, lsep=" \\textbar\\ ",
	do.table = TRUE, placement = "htbp", center = TRUE,
	fontsize = "normalsize", caption = NULL, label = NULL, ...)

## S3 method for class 'varlist'
toLatex(object,
	col.vars = c("Variable", "expression", "type", "value"),
	exprFUN = expr2latex, escapeFUN = escapeLatex,
	align = NULL, booktabs = TRUE, head = NULL,
	rsep = "\\\\", sp = if(booktabs) 3 else 1.25, rsep.sp = NULL, csep = " &amp; ",
	do.table = TRUE, placement = "htbp", center = TRUE,
	fontsize = "normalsize", caption = NULL, label = NULL, ...)

fftable(x, lsep = " | ", quote = FALSE, method = "compact", ...)

tablines(x, align = NULL, booktabs = TRUE, head = NULL,
	 rsep = "\\\\", sp = if(booktabs) 3 else 1.25, rsep.sp = NULL,
	 csep = " &amp; ", quote = FALSE)

cattablines(x, rsep = "\\\\", csep = " &amp; ", include.rownames = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="toLatex-ftable_+3A_object">object</code></td>
<td>
<p>an <code><a href="stats.html#topic+ftable">ftable</a></code> to be converted to a LaTeX
table. This is accomplished via <code><a href="base.html#topic+format">format</a></code>ting it.</p>
</td></tr>
<tr><td><code id="toLatex-ftable_+3A_x">x</code></td>
<td>
<p>for <code>fftable()</code> an <code><a href="stats.html#topic+ftable">ftable</a></code> object;
for <code>tablines()</code> a <code><a href="base.html#topic+character">character</a></code> <code><a href="base.html#topic+matrix">matrix</a></code> with
attributes <code>nrv</code> and <code>ncv</code> (as returned by <code>fftable()</code>)
giving the number of row and column variables, respectively; for
<code>cattablines()</code> a <code><a href="base.html#topic+numeric">numeric</a></code> or
<code><a href="base.html#topic+character">character</a></code> <code><a href="base.html#topic+matrix">matrix</a></code>.</p>
</td></tr>
<tr><td><code id="toLatex-ftable_+3A_vlist">vList</code></td>
<td>
<p>a variable specification list see <code><a href="#topic+varlist">varlist</a></code>.</p>
</td></tr>
<tr><td><code id="toLatex-ftable_+3A_x.escape">x.escape</code></td>
<td>
<p>logical indicating if the &ldquo;body&rdquo; entries of the
table should be escaped by <code>espaceFUN()</code>; if false, as by
default, only the column and row variables are escaped.</p>
</td></tr>
<tr><td><code id="toLatex-ftable_+3A_exprfun">exprFUN</code></td>
<td>
<p>a function, by default <code><a href="#topic+expr2latex">expr2latex</a></code>, for
transforming plotmath expressions to equivalent LaTeX strings.</p>
</td></tr>
<tr><td><code id="toLatex-ftable_+3A_escapefun">escapeFUN</code></td>
<td>
<p>a function, by default <code><a href="#topic+escapeLatex">escapeLatex</a></code> which
&ldquo;escapes&rdquo; each of its input character strings to valid LaTeX strings.</p>
</td></tr>
<tr><td><code id="toLatex-ftable_+3A_align">align</code></td>
<td>
<p>either a <code><a href="base.html#topic+character">character</a></code>
(e.g., <code>"*{3}{c} S[table-format=1.2]"</code>) or <code><a href="base.html#topic+character">character</a></code>
vector (e.g., <code>c("c", "c", "c", "S[table-format=1.2]")</code>), or
<code><a href="base.html#topic+NULL">NULL</a></code> (default).</p>
</td></tr>
<tr><td><code id="toLatex-ftable_+3A_booktabs">booktabs</code></td>
<td>
<p><code><a href="base.html#topic+logical">logical</a></code> indicating whether a LaTeX
table in the format of the LaTeX <code>booktabs</code> package is
created (requires the LaTeX <code>booktabs</code> package loaded in the preamble).</p>
</td></tr>
<tr><td><code id="toLatex-ftable_+3A_head">head</code></td>
<td>
<p>either
</p>

<dl>
<dt><code><a href="base.html#topic+character">character</a></code></dt><dd><p>a <code><a href="base.html#topic+vector">vector</a></code> containing
the lines of the header.</p>
</dd>
<dt><code><a href="base.html#topic+NA">NA</a></code></dt><dd><p>do not construct a header.</p>
</dd>
<dt><code><a href="base.html#topic+NULL">NULL</a></code></dt><dd><p>construct a default header.</p>
</dd>
</dl>

</td></tr>
<tr><td><code id="toLatex-ftable_+3A_rsep">rsep</code></td>
<td>
<p><code><a href="base.html#topic+character">character</a></code> to be inserted at the end of each row.</p>
</td></tr>
<tr><td><code id="toLatex-ftable_+3A_sp">sp</code></td>
<td>
<p><code><a href="base.html#topic+numeric">numeric</a></code> scaling factor for separating
blocks of rows if <code>rsep.sp</code> is <code><a href="base.html#topic+NULL">NULL</a></code>.</p>
</td></tr>
<tr><td><code id="toLatex-ftable_+3A_rsep.sp">rsep.sp</code></td>
<td>
<p><code><a href="base.html#topic+numeric">numeric</a></code> of length equal to the number of
different groups of rows minus one, giving the spaces (interpreted
as pt) between different groups of rows. If <code><a href="base.html#topic+NULL">NULL</a></code>, a
suitable default is constructed.</p>
</td></tr>
<tr><td><code id="toLatex-ftable_+3A_csep">csep</code></td>
<td>
<p><code><a href="base.html#topic+character">character</a></code> string for separating different
cells in a row.</p>
</td></tr>
<tr><td><code id="toLatex-ftable_+3A_quote">quote</code>, <code id="toLatex-ftable_+3A_lsep">lsep</code>, <code id="toLatex-ftable_+3A_method">method</code></td>
<td>
<p>see <code><a href="stats.html#topic+format.ftable">format.ftable</a>()</code> (<span class="rlang"><b>R</b></span>-3.0.0
or later).</p>
</td></tr>
<tr><td><code id="toLatex-ftable_+3A_col.vars">col.vars</code></td>
<td>
<p>character vector of length 3 or 4 (<code>"expression"</code>
can be omitted), specifying the column names.</p>
</td></tr>
<tr><td><code id="toLatex-ftable_+3A_do.table">do.table</code></td>
<td>
<p><code><a href="base.html#topic+logical">logical</a></code> indicating whether a LaTeX
&lsquo;table&rsquo; environment should be used at all.</p>
</td></tr>
<tr><td><code id="toLatex-ftable_+3A_placement">placement</code></td>
<td>
<p>(if <code>do.table</code>:) <code><a href="base.html#topic+character">character</a></code> string
containing a LaTeX table placement string such as <code>"htbp"</code>.</p>
</td></tr>
<tr><td><code id="toLatex-ftable_+3A_center">center</code></td>
<td>
<p><code><a href="base.html#topic+logical">logical</a></code> indicating whether centering
should happen.</p>
</td></tr>
<tr><td><code id="toLatex-ftable_+3A_fontsize">fontsize</code></td>
<td>
<p><code><a href="base.html#topic+character">character</a></code> string giving a fontsize
(such as <code>"tiny"</code>, <code>"scriptsize"</code>, <code>"footnotesize"</code>,
<code>"small"</code>, <code>"normalsize"</code>, <code>"large"</code>, <code>"Large"</code>,
<code>"LARGE"</code>, <code>"huge"</code>, or <code>"Huge"</code>).</p>
</td></tr>
<tr><td><code id="toLatex-ftable_+3A_caption">caption</code></td>
<td>
<p>(if <code>do.table</code>:) <code><a href="base.html#topic+character">character</a></code> string
containing the table caption or <code><a href="base.html#topic+NULL">NULL</a></code> for no caption.</p>
</td></tr>
<tr><td><code id="toLatex-ftable_+3A_label">label</code></td>
<td>
<p>(if <code>do.table</code>:) <code><a href="base.html#topic+character">character</a></code> string
containing the table label or <code><a href="base.html#topic+NULL">NULL</a></code> for no label.</p>
</td></tr>
<tr><td><code id="toLatex-ftable_+3A_include.rownames">include.rownames</code></td>
<td>
<p><code><a href="base.html#topic+logical">logical</a></code> indicating whether row
names are included in the first column.</p>
</td></tr>
<tr><td><code id="toLatex-ftable_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code><a href="stats.html#topic+format.ftable">format.ftable</a>()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>toLatex()</code> returns an object as from <code><a href="#topic+wrapLaTable">wrapLaTable</a>()</code>.
</p>
<p><code>fftable()</code> returns a formatted flat contingency table as
returned by <code>format.ftable()</code> with added attributes <code>ncv</code>
(number of column variables) and <code>nrv</code> (number of row variables).
</p>
<p><code>tablines()</code> a list with components
</p>
<table>
<tr><td><code>body</code></td>
<td>
<p><code><a href="base.html#topic+character">character</a></code> <code><a href="base.html#topic+vector">vector</a></code> of lines of
the table body.</p>
</td></tr>
<tr><td><code>body.raw</code></td>
<td>
<p><code><a href="base.html#topic+character">character</a></code> <code><a href="base.html#topic+matrix">matrix</a></code> of
cells of the table body.</p>
</td></tr>
<tr><td><code>head</code></td>
<td>
<p><code><a href="base.html#topic+character">character</a></code> <code><a href="base.html#topic+vector">vector</a></code> of lines of
the table head.</p>
</td></tr>
<tr><td><code>head.raw</code></td>
<td>
<p><code><a href="base.html#topic+character">character</a></code> <code><a href="base.html#topic+matrix">matrix</a></code> of
cells of the table head..</p>
</td></tr>
<tr><td><code>align</code></td>
<td>
<p>alignment string.</p>
</td></tr>
<tr><td><code>rsepcol</code></td>
<td>
<p><code><a href="base.html#topic+character">character</a></code> <code><a href="base.html#topic+vector">vector</a></code>
containing the row separators (last entries of each row).</p>
</td></tr>
</table>
<p><code>cattablines()</code> outputs the formatted lines for copy-and-paste
into a LaTeX table.
</p>


<h3>Author(s)</h3>

<p>Marius Hofert and Martin Maechler.</p>


<h3>References</h3>

<p>see <code><a href="#topic+simsalapar-package">simsalapar-package</a></code>.</p>


<h3>See Also</h3>

<p><code><a href="#topic+wrapLaTable">wrapLaTable</a>()</code> for how to wrap the lines of a LaTeX table
created by <code>tablines()</code> in a LaTeX table and tabular environment.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Different table layouts for the same content
(ft1 &lt;- ftable(Titanic, col.vars = 1:4))
(ft2 &lt;- ftable(Titanic, row.vars = 1))
(ft3 &lt;- ftable(Titanic, row.vars = 1:2))
(ft4 &lt;- ftable(Titanic, row.vars = 1:3))
(ft5 &lt;- ftable(Titanic, row.vars = 1:4))

## What tablines() returns
tablines(fftable(ft2))

## LaTeX (booktabs/non-booktabs) versions
toLatex(ft1, do.table=FALSE)
toLatex(ft1, booktabs=FALSE)
toLatex(ft1, method="col.compact")
toLatex(ft1)
toLatex(ft2)
toLatex(ft3)
toLatex(ft4)
toLatex(ft5, booktabs=FALSE)
toLatex(ft5, method="col.compact")
toLatex(ft5)

## ``poor-man's approach'' for creating lines of a LaTeX table
set.seed(271)
tab &lt;- matrix(runif(6), ncol=3)
ftab &lt;- formatC(tab, digits=4, format="f")
cattablines(ftab)
rownames(ftab) &lt;- LETTERS[1:nrow(ftab)]
cattablines(ftab)
</code></pre>

<hr>
<h2 id='tryCatch.W.E'>Catching and Storing Warnings and Errors Simultaneously</h2><span id='topic+tryCatch.W.E'></span>

<h3>Description</h3>

<p>Catches and saves both warnings (<code><a href="base.html#topic+warning">warning</a></code>) and errors
(<code><a href="base.html#topic+stop">stop</a></code>) and in the case of a warning, also the
computed result.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tryCatch.W.E(expr)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tryCatch.W.E_+3A_expr">expr</code></td>
<td>
<p>expression to be evaluated, typically a function call.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is particularly useful in large(r) simulation studies to
check all computations and guarantee their correctness.
</p>


<h3>Value</h3>

<p><code><a href="base.html#topic+list">list</a></code> with components
</p>
<table>
<tr><td><code>value</code></td>
<td>
<p>value of <code>expr</code> <em>or</em> error message
(see <code><a href="base.html#topic+simpleError">simpleError</a></code> or <code><a href="base.html#topic+stop">stop</a>()</code>).</p>
</td></tr>
<tr><td><code>warning</code></td>
<td>
<p>warning  message (see <code><a href="base.html#topic+simpleWarning">simpleWarning</a></code> or
<code><a href="base.html#topic+warning">warning</a>()</code>) or <code><a href="base.html#topic+NULL">NULL</a></code>.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Marius Hofert and Martin Maechler, based on hints from
Luke Tierney and Bill Dunlap, see
<a href="https://stat.ethz.ch/pipermail/r-help/2010-December/262626.html">https://stat.ethz.ch/pipermail/r-help/2010-December/262626.html</a>.
</p>


<h3>References</h3>

<p>see <code><a href="#topic+simsalapar-package">simsalapar-package</a></code>.</p>


<h3>See Also</h3>

<p>the base function <code><a href="base.html#topic+tryCatch">tryCatch</a>()</code> and
<code>demo(error.catching)</code>. Also, <code><a href="#topic+doCallWE">doCallWE</a>()</code>, of which
<code><a href="#topic+tryCatch.W.E">tryCatch.W.E</a>()</code> is the &ldquo;workhorse&rdquo;.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Adapted from demo(error.catching) :
str(r1 &lt;- tryCatch.W.E( log( 2 ) ) )
str(r2 &lt;- tryCatch.W.E( log(-1 ) ) )
str(r3 &lt;- tryCatch.W.E( log("a") ) )
stopifnot(is.null(r1$warning),
          is.na  (r2$value),   inherits(r2$warning, "warning"),
          is.null(r3$warning), inherits(r3$value, "error"))
</code></pre>

<hr>
<h2 id='varlist'>Variable Specification List - Generation and Class</h2><span id='topic+varlist'></span><span id='topic+dimnames2varlist'></span><span id='topic+varlist-class'></span><span id='topic+coerce+2Cvarlist+2Clist-method'></span><span id='topic+show+2Cvarlist-method'></span>

<h3>Description</h3>

<p>Generate variable specification lists.  These are objects of the
formal (aka &ldquo;S4&rdquo;) class <code>"varlist"</code>.  This class
simply extends <code>"<a href="methods.html#topic+namedList-class">namedList</a>"</code> and has a validity
method (see <code><a href="methods.html#topic+validObject">validObject</a></code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>varlist(...)
dimnames2varlist(dmn)
## S4 method for signature 'varlist'
show(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="varlist_+3A_...">...</code></td>
<td>
<p>of the form
</p>

<dl>
<dt><code>nam1</code> = list(....),</dt><dd></dd>
<dt><code>nam2</code> = list(....),</dt><dd></dd>
<dt>........</dt><dd></dd>
<dt><code>namk</code> = list(....)</dt><dd></dd>
</dl>

<p>i.e, a &ldquo;list&rdquo; of variable specifications using &ldquo;sub
lists&rdquo; <code>list(....) = list(value = &lt;vv&gt;, type = &lt;tp&gt;, expr =
      &lt;e&gt;)</code>, see the details and the examples below.
</p>
</td></tr>
<tr><td><code id="varlist_+3A_dmn">dmn</code></td>
<td>
<p><b>named</b> <code><a href="base.html#topic+dimnames">dimnames</a></code>, a <code><a href="base.html#topic+list">list</a></code>.</p>
</td></tr>
<tr><td><code id="varlist_+3A_object">object</code></td>
<td>
<p>a <code>"varlist"</code> object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>value</code> is typically an atomic vector (<code><a href="base.html#topic+is.atomic">is.atomic</a></code>)
or a <code><a href="base.html#topic+list">list</a></code>, e.g., of <code><a href="base.html#topic+function">function</a></code>s; in the
latter case, typically with <code><a href="base.html#topic+names">names</a></code>.
</p>
<p><code>type</code> can be one of <code>"N"</code>, <code>"frozen"</code>, <code>"grid"</code>, or
<code>"inner"</code>. In short:
</p>

<dl>
<dt><code>"N"</code></dt><dd><p>This type is reserved for a (single) variable
named <code>n.sim</code> which provides the simulation replications;
if it is not given, <code>n.sim</code> is implicitly treated as 1.</p>
</dd>
<dt><code>"frozen"</code></dt><dd><p>Variables of this type remain fixed (they do
not vary) throughout the whole simultion study.  They affect the
final result but do not appear as a <em>dimension</em> in the result
array of the simulation study.  This is the <b>default</b>
<code>type</code> (apart from <code>n.sim</code> which defaults to <code>"N"</code>).</p>
</dd>
<dt><code>"grid"</code></dt><dd><p>Variables of this type are used to build a
(physical) grid (a <code><a href="base.html#topic+data.frame">data.frame</a></code>) with number of rows
equal to the product of the lengths of all variables of this
type. The simulation will use this grid to iterate <code>n.sim</code>
times over all of its rows for conducting the required
computations. Conceptually, this corresponds to
iterating over a <em>virtual grid</em> seen
as <code>n.sim</code> copies of the (physical) grid pasted together.
The computations for one row in this virtual grid form one
sub-job. One can use one of
<code><a href="#topic+doLapply">doLapply</a>()</code>, <code><a href="#topic+doForeach">doForeach</a>()</code>,
<code><a href="#topic+doRmpi">doRmpi</a>()</code>, <code><a href="#topic+doMclapply">doMclapply</a>()</code>, or
<code><a href="#topic+doClusterApply">doClusterApply</a>()</code> to iterate over all sub-jobs.</p>
</dd>
<dt><code>"inner"</code></dt><dd><p>Variables of this type are all dealt with within
a sub-job for reasons of convenience, speed, load balancing etc.</p>
</dd>
</dl>

<p>The <code>dimnames2varlist()</code> functions creates a <code>varlist</code> from
a <em>named</em> list of <code><a href="base.html#topic+character">character</a></code> vectors, typically
resulting from <code><a href="base.html#topic+dimnames">dimnames</a>(tt)</code> of a <code><a href="base.html#topic+table">table</a></code>
<code>tt</code>, see the Titanic example below.
</p>
<p>For more details, see Hofert and Mächler (2014), and
also the examples in <code> demo(package="simsalapar") </code>.
</p>


<h3>Value</h3>

<p>an object of formal (aka &ldquo;S4&rdquo;) class <code>"varlist"</code>.
</p>


<h3>Author(s)</h3>

<p>Martin Maechler.</p>


<h3>See Also</h3>

<p><code><a href="methods.html#topic+namedList-class">namedList</a></code>; <code><a href="#topic+getEl">getEl</a></code> for easy
extraction of elements from a <code>"varlist"</code>.
</p>
<p>The <code><a href="utils.html#topic+toLatex">toLatex</a></code> method for <code>varlist</code>s,
<code><a href="#topic+toLatex.varlist">toLatex.varlist</a></code>.
</p>
<p><code><a href="#topic+doLapply">doLapply</a>()</code>, <code><a href="#topic+doForeach">doForeach</a>()</code>,
<code><a href="#topic+doRmpi">doRmpi</a>()</code>, <code><a href="#topic+doMclapply">doMclapply</a>()</code>,
<code><a href="#topic+doClusterApply">doClusterApply</a>()</code> for the functions to iterate over the
virtual grid.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>showClass("varlist")

vList &lt;- varlist(
    n.sim = list(value = 1000, expr = quote(N[sim])), # type = N
    n     = list(type="grid", value = c(20, 100, 500)), # sample sizes
    meth  = list(type="grid", expr = quote(italic(method)),
                 value = c("classical", "robust")),
    alpha = list(value = 0.95)) # default type = "frozen"

str(vList)# note the default 'expr' for  n and alpha; and type of alpha

## For more extensive examples, see also
demo(package="simsalapar")

## coerce to simple list  .. and back :
lvl &lt;- as(vList, "list")
stopifnot(identical(
    do.call(varlist, lvl),
    vList ))

## From a data.frame to a LaTeX table :
str(dimnames(Titanic))
vlTitan &lt;- dimnames2varlist(dimnames(Titanic))
vlTitan  # default 'type = "grid"' here
toLatex(vlTitan)
</code></pre>

<hr>
<h2 id='wrapLaTable'>Wrapper for a floating LaTeX Table</h2><span id='topic+wrapLaTable'></span>

<h3>Description</h3>

<p><code>wrapLaTable()</code> wraps (a table and tabular environment) around
the lines of the body of a LaTeX table and utilizes
<code><a href="base.html#topic+writeLines">writeLines</a>()</code> to write the LaTeX table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wrapLaTable(x, align, do.table = TRUE, placement = "htbp", center = TRUE,
            fontsize = "normalsize", booktabs = TRUE,
            caption = NULL, label = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="wrapLaTable_+3A_x">x</code></td>
<td>
<p>a <code><a href="base.html#topic+character">character</a></code> <code><a href="base.html#topic+vector">vector</a></code> containing the
lines of the body of the table (for &ldquo;booktabs&rdquo; tables,
everything strictly between <code>\midrule</code> and
<code>\bottomrule</code>). A table header can be passed via attributes of
<code>x</code>.</p>
</td></tr>
<tr><td><code id="wrapLaTable_+3A_align">align</code></td>
<td>
<p>table columns alignment string (e.g.,
<code>"lcccS[table-format=1.2]"</code>, the notation of <code>"S[...]"</code>
coming from the LaTeX package <code>siunitx</code>).</p>
</td></tr>
<tr><td><code id="wrapLaTable_+3A_do.table">do.table</code></td>
<td>
<p><code><a href="base.html#topic+logical">logical</a></code> indicating whether a LaTeX
&lsquo;table&rsquo; environment should be used at all.</p>
</td></tr>
<tr><td><code id="wrapLaTable_+3A_placement">placement</code></td>
<td>
<p>(if <code>do.table</code>:) <code><a href="base.html#topic+character">character</a></code> string
containing a LaTeX table placement string such as <code>"htbp"</code>.</p>
</td></tr>
<tr><td><code id="wrapLaTable_+3A_center">center</code></td>
<td>
<p><code><a href="base.html#topic+logical">logical</a></code> indicating whether centering
should happen.</p>
</td></tr>
<tr><td><code id="wrapLaTable_+3A_fontsize">fontsize</code></td>
<td>
<p><code><a href="base.html#topic+character">character</a></code> string giving a fontsize
(such as <code>"tiny"</code>, <code>"scriptsize"</code>, <code>"footnotesize"</code>,
<code>"small"</code>, <code>"normalsize"</code>, <code>"large"</code>, <code>"Large"</code>,
<code>"LARGE"</code>, <code>"huge"</code>, or <code>"Huge"</code>).</p>
</td></tr>
<tr><td><code id="wrapLaTable_+3A_booktabs">booktabs</code></td>
<td>
<p><code><a href="base.html#topic+logical">logical</a></code> indicating whether a LaTeX
table in the format of the LaTeX <code>booktabs</code> package is
created. </p>
</td></tr>
<tr><td><code id="wrapLaTable_+3A_caption">caption</code></td>
<td>
<p>(if <code>do.table</code>:) <code><a href="base.html#topic+character">character</a></code> string
containing the table caption or <code><a href="base.html#topic+NULL">NULL</a></code> for no caption.</p>
</td></tr>
<tr><td><code id="wrapLaTable_+3A_label">label</code></td>
<td>
<p>(if <code>do.table</code>:) <code><a href="base.html#topic+character">character</a></code> string
containing the table label or <code><a href="base.html#topic+NULL">NULL</a></code> for no label.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note that necessary LaTeX packages (such as <code>tabularx</code>) have to
be loaded in the preambel of the corresponding .tex or .Rnw file.
</p>


<h3>Value</h3>

<p>a &ldquo;LaTeX table&rdquo;, of class <code>"Latex"</code> (where the
<code><a href="base.html#topic+print">print</a></code> method uses <code><a href="base.html#topic+writeLines">writeLines</a>()</code>).
</p>


<h3>Author(s)</h3>

<p>Marius Hofert.</p>


<h3>References</h3>

<p>see <code><a href="#topic+simsalapar-package">simsalapar-package</a></code>.</p>


<h3>See Also</h3>

<p><code><a href="#topic+toLatex.ftable">toLatex</a>()</code> where it is used to create
a LaTeX table.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ftab &lt;- ftable(Titanic, row.vars = 1:2)
fftab &lt;- fftable(ftab)
tlist &lt;- tablines(fftab)

wrapLaTable(structure(tlist$body, head = tlist$head), align = tlist$align,
            caption="The Titanic data set.", label="tab:titanic")
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package funkyheatmap</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {funkyheatmap}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#dynbenchmark_data'><p>The results data frame from dynbenchmark.</p></a></li>
<li><a href='#funky_heatmap'><p>Generate a funky heatmaps for benchmarks</p></a></li>
<li><a href='#funkyheatmap-package'><p>funkyheatmap: Generating Funky Heatmaps for Data Frames</p></a></li>
<li><a href='#geom_rounded_rect'><p>Rounded rectangles</p></a></li>
<li><a href='#position_arguments'><p>Defines parameters for positioning in a plot.</p></a></li>
<li><a href='#scale_minmax'><p>Scale a vector to the range [0, 1]</p></a></li>
<li><a href='#scib_summary'><p>Summary results from the scIB project</p></a></li>
<li><a href='#verify_column_groups'><p>Verify the integrity of the column groups object</p></a></li>
<li><a href='#verify_column_info'><p>Verify the integrity of the column info object</p></a></li>
<li><a href='#verify_data'><p>Verify the integrity of the data object</p></a></li>
<li><a href='#verify_legends'><p>Verify the integrity of the legends object</p></a></li>
<li><a href='#verify_palettes'><p>Verify the integrity of the palettes object</p></a></li>
<li><a href='#verify_row_groups'><p>Verify the integrity of the row groups object</p></a></li>
<li><a href='#verify_row_info'><p>Verify the integrity of the row info object</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Generating Funky Heatmaps for Data Frames</td>
</tr>
<tr>
<td>Description:</td>
<td>Allows generating heatmap-like visualisations for benchmark data 
  frames. Funky heatmaps can be fine-tuned by providing annotations of the 
  columns and rows, which allows assigning multiple palettes or geometries
  or grouping rows and columns together in categories.
  Saelens et al. (2019) &lt;<a href="https://doi.org/10.1038%2Fs41587-019-0071-9">doi:10.1038/s41587-019-0071-9</a>&gt;.</td>
</tr>
<tr>
<td>Version:</td>
<td>0.5.0</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Imports:</td>
<td>assertthat, cli, cowplot, dplyr, ggforce, ggplot2 (&ge; 3.4.0),
grDevices, jsonlite, patchwork, purrr, RColorBrewer, Rdpack,
stringr, tibble, tidyr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>kableExtra, knitr, rmarkdown, testthat (&ge; 3.0.0), magick</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>RdMacros:</td>
<td>Rdpack</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://funkyheatmap.github.io/funkyheatmap/">https://funkyheatmap.github.io/funkyheatmap/</a>,
<a href="https://github.com/funkyheatmap/funkyheatmap">https://github.com/funkyheatmap/funkyheatmap</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/funkyheatmap/funkyheatmap/issues">https://github.com/funkyheatmap/funkyheatmap/issues</a></td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-09-23 05:03:22 UTC; rcannood</td>
</tr>
<tr>
<td>Author:</td>
<td>Robrecht Cannoodt <a href="https://orcid.org/0000-0003-3641-729X"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre] (rcannood),
  Wouter Saelens <a href="https://orcid.org/0000-0002-7114-6248"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut] (zouter)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Robrecht Cannoodt &lt;rcannood@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-09-23 06:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='dynbenchmark_data'>The results data frame from dynbenchmark.</h2><span id='topic+dynbenchmark_data'></span>

<h3>Description</h3>

<p>This data was generated by running the <code>data-raw/dynbenchmark_data.R</code> script.
It is used in the vignette named &quot;<code>vignette("dynbenchmark")</code>&quot; to regenerate
the results figures in Saelens et al. 2019.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dynbenchmark_data
</code></pre>


<h3>Format</h3>

<p>An object of class <code>list</code> of length 6.
</p>


<h3>References</h3>

<p>Saelens W, Cannoodt R, Todorov H, Saeys Y (2019).
&ldquo;A comparison of single-cell trajectory inference methods.&rdquo;
<em>Nature Biotechnology</em>.
<a href="https://doi.org/10.1038/s41587-019-0071-9">doi:10.1038/s41587-019-0071-9</a>.
</p>

<hr>
<h2 id='funky_heatmap'>Generate a funky heatmaps for benchmarks</h2><span id='topic+funky_heatmap'></span>

<h3>Description</h3>

<p>Allows generating heatmap-like visualisations for benchmark data
frames. Funky heatmaps can be fine-tuned by providing annotations of the
columns and rows, which allows assigning multiple palettes or geometries
or grouping rows and columns together in categories.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>funky_heatmap(
  data,
  column_info = NULL,
  row_info = NULL,
  column_groups = NULL,
  row_groups = NULL,
  palettes = NULL,
  legends = NULL,
  position_args = position_arguments(),
  scale_column = TRUE,
  add_abc = TRUE,
  col_annot_offset,
  col_annot_angle,
  expand
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="funky_heatmap_+3A_data">data</code></td>
<td>
<p>A data frame with items by row and features in the columns.
Must contain one column named <code>"id"</code>.</p>
</td></tr>
<tr><td><code id="funky_heatmap_+3A_column_info">column_info</code></td>
<td>
<p>A data frame describing which columns in <code>data</code> to
plot. This data frame should contain the following columns:
</p>

<ul>
<li> <p><code>id</code> (<code>character</code>, required): A column name in <code>data</code> to plot. Determines the
size of the resulting geoms, and also the color unless <code>color</code> is
specified.
</p>
</li>
<li> <p><code>id_color</code> (<code>character</code>): A column name in <code>data</code> to use for the color
of the resulting geoms. If <code>NA</code>, the <code>id</code> column will be used.
</p>
</li>
<li> <p><code>id_size</code> (<code>character</code>): A column name in <code>data</code> to use for the size
of the resulting geoms. If <code>NA</code>, the <code>id</code> column will be used.
</p>
</li>
<li> <p><code>name</code> (<code>character</code>): A label for the column. If <code>NA</code> or <code>""</code>,
no label will be plotted. If this column is missing, <code>id</code> will
be used to generate the <code>name</code> column.
</p>
</li>
<li> <p><code>geom</code> (<code>character</code>): The geom of the column. Must be one of:
<code>"funkyrect"</code>, <code>"circle"</code>, <code>"rect"</code>, <code>"bar"</code>, <code>"pie"</code>, <code>"text"</code> or <code>"image"</code>.
For <code>"text"</code>, the corresponding column in <code>data</code> must be a <code>character</code>.
For <code>"pie"</code>, the column must be a list of named numeric vectors.
For all other geoms, the column must be a <code>numeric</code>.
</p>
</li>
<li> <p><code>group</code> (<code>character</code>): The grouping id of each column, must match with
<code>column_groups$group</code>. If this column is missing or all values are <code>NA</code>,
columns are assumed not to be grouped.
</p>
</li>
<li> <p><code>palette</code> (<code>character</code>): Which palette to colour the geom by.
Each value should have a matching value in <code>palettes$palette</code>.
</p>
</li>
<li> <p><code>width</code>: Custom width for this column (default: 1).
</p>
</li>
<li> <p><code>overlay</code>: Whether to overlay this column over the previous column.
If so, the width of that column will be inherited.
</p>
</li>
<li> <p><code>legend</code>: Whether or not to add a legend for this column.
</p>
</li>
<li> <p><code>hjust</code>: Horizontal alignment of the bar, must be between [0,1]
(only for <code>geom = "bar"</code>).
</p>
</li>
<li> <p><code>vjust</code>: Vertical alignment of the label, must be between [0,1]
(only for <code>geom = "text"</code>).
</p>
</li>
<li> <p><code>size</code>: Size of the label, must be a numeric value
(only for <code>geom = "text"</code>).
</p>
</li>
<li> <p><code>label</code>: Which column to use as a label (only for <code>geom = "text"</code>).
</p>
</li>
<li> <p><code>directory</code>: Which directory to use to find the images (only for <code>geom = "image"</code>).
</p>
</li>
<li> <p><code>extension</code>: The extension of the images (only for <code>geom = "image"</code>).
</p>
</li>
<li> <p><code>draw_outline</code>: Whether or not to draw bounding guides (only for <code>geom == "bar"</code>).
Default: <code>TRUE</code>.
</p>
</li>
<li> <p><code>options</code> (<code>list</code> or <code>json</code>): Any of the options above. Any values in this
column will be spread across the other columns. This is useful for
not having to provide a data frame with 1000s of columns.
This column can be a json string.
</p>
</li></ul>
</td></tr>
<tr><td><code id="funky_heatmap_+3A_row_info">row_info</code></td>
<td>
<p>A data frame describing the rows of <code>data</code>.
This data should contain two columns:
</p>

<ul>
<li> <p><code>id</code> (<code>character</code>): Corresponds to the column <code>data$id</code>.
</p>
</li>
<li> <p><code>group</code> (<code>character</code>): The group of the row.
If all are <code>NA</code>, the rows will not be split up into groups.
</p>
</li></ul>
</td></tr>
<tr><td><code id="funky_heatmap_+3A_column_groups">column_groups</code></td>
<td>
<p>A data frame describing of how to group the columns
in <code>column_info</code>. Can consist of the following columns:
</p>

<ul>
<li> <p><code>group</code> (<code>character</code>): The corresponding group in <code>column_info$group</code>.
</p>
</li>
<li> <p><code>palette</code> (<code>character</code>, optional): The palette used to colour the
column group backgrounds.
</p>
</li>
<li> <p><code>level1</code> (<code>character</code>): The label at the highest level.
</p>
</li>
<li> <p><code>level2</code> (<code>character</code>, optional): The label at the middle level.
</p>
</li>
<li> <p><code>level3</code> (<code>character</code>, optional): The label at the lowest level
(not recommended).
</p>
</li></ul>
</td></tr>
<tr><td><code id="funky_heatmap_+3A_row_groups">row_groups</code></td>
<td>
<p>A data frame describing of how to group the rows
in <code>row_info</code>. Can consist of the following columns:
</p>

<ul>
<li> <p><code>group</code> (<code>character</code>): The corresponding group in <code>row_info$group</code>.
</p>
</li>
<li> <p><code>level1</code> (<code>character</code>): The label at the highest level.
</p>
</li>
<li> <p><code>level2</code> (<code>character</code>, optional): The label at the middle level.
</p>
</li>
<li> <p><code>level3</code> (<code>character</code>, optional): The label at the lowest level
(not recommended).
</p>
</li></ul>
</td></tr>
<tr><td><code id="funky_heatmap_+3A_palettes">palettes</code></td>
<td>
<p>A named list of palettes. Each entry in <code>column_info$palette</code>
should have an entry in this object. If an entry is missing, the type
of the column will be inferred (categorical or numerical) and one of the
default palettes will be applied. Alternatively, the name of one of the
standard palette names can be used:
</p>

<ul>
<li> <p><code>numerical</code>: <code>"Greys"</code>, <code>"Blues"</code>, <code>"Reds"</code>, <code>"YlOrBr"</code>, <code>"Greens"</code>
</p>
</li>
<li> <p><code>categorical</code>: <code>"Set3"</code>, <code>"Set1"</code>, <code>"Set2"</code>, <code>"Dark2"</code>
</p>
</li></ul>
</td></tr>
<tr><td><code id="funky_heatmap_+3A_legends">legends</code></td>
<td>
<p>A list of legends to add to the plot. Each entry in
<code>column_info$legend</code> should have a corresponding entry in this object.
Each entry should be a list with the following names:
</p>

<ul>
<li> <p><code>palette</code> (<code>character</code>): The palette to use for the legend. Must be
a value in <code>palettes</code>.
</p>
</li>
<li> <p><code>geom</code> (<code>character</code>): The geom of the legend. Must be one of:
<code>"funkyrect"</code>, <code>"circle"</code>, <code>"rect"</code>, <code>"bar"</code>, <code>"pie"</code>, <code>"text"</code>, <code>"image"</code>.
</p>
</li>
<li> <p><code>title</code> (<code>character</code>, optional): The title of the legend. Defaults
to the palette name.
</p>
</li>
<li> <p><code>enabled</code> (<code>logical</code>, optional): Whether or not to add the legend.
Defaults to <code>TRUE</code>.
</p>
</li>
<li> <p><code>labels</code> (<code>character</code>, optional): The labels to use for the legend.
The defaults depend on the selected geom.
</p>
</li>
<li> <p><code>size</code> (<code>numeric</code>, optional): The size of the listed geoms.
The defaults depend on the selected geom.
</p>
</li>
<li> <p><code>color</code> (<code>character</code>, optional): The color of the listed geoms.
The defaults depend on the selected geom.
</p>
</li>
<li> <p><code>values</code> (optional): Used as values for the text and image geoms.
</p>
</li>
<li> <p><code>label_width</code> (<code>numeric</code>, optional): The width of the labels
(only when geom is <code>text</code> or <code>pie</code>). Defaults to <code>1</code>
for text and <code>2</code> for images.
</p>
</li>
<li> <p><code>value_width</code> (<code>numeric</code>, optional): The width of the values
(only for <code>geom = "text"</code>). Defaults to <code>2</code>.
</p>
</li>
<li> <p><code>label_hjust</code> (<code>numeric</code>, optional): The horizontal alignment of the
labels (only when geom is <code>circle</code>, <code>rect</code> or <code>funkyrect</code>).
Defaults to <code>0.5</code>.
</p>
</li></ul>
</td></tr>
<tr><td><code id="funky_heatmap_+3A_position_args">position_args</code></td>
<td>
<p>Sets parameters that affect positioning within a
plot, such as row and column dimensions, annotation details, and the
expansion directions of the plot. See <code>position_arguments()</code> for more information.</p>
</td></tr>
<tr><td><code id="funky_heatmap_+3A_scale_column">scale_column</code></td>
<td>
<p>Whether or not to apply min-max scaling to each
numerical column.</p>
</td></tr>
<tr><td><code id="funky_heatmap_+3A_add_abc">add_abc</code></td>
<td>
<p>Whether or not to add subfigure labels to the different
columns groups.</p>
</td></tr>
<tr><td><code id="funky_heatmap_+3A_col_annot_offset">col_annot_offset</code></td>
<td>
<p>DEPRECATED: use <code>position_args = position_arguments(col_annot_offset = ...)</code> instead.</p>
</td></tr>
<tr><td><code id="funky_heatmap_+3A_col_annot_angle">col_annot_angle</code></td>
<td>
<p>DEPRECATED: use <code>position_args = position_arguments(col_annot_angle = ...)</code> instead.</p>
</td></tr>
<tr><td><code id="funky_heatmap_+3A_expand">expand</code></td>
<td>
<p>DEPRECATED: use <code style="white-space: pre;">&#8288;position_args = position_arguments(expand_* = ...)&#8288;</code> instead.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot. <code>.$width</code> and <code>.$height</code> are suggested dimensions for
storing the plot with <code><a href="ggplot2.html#topic+ggsave">ggsave()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(tibble, warn.conflicts = FALSE)

data("mtcars")

data &lt;- rownames_to_column(mtcars, "id")

funky_heatmap(data)
</code></pre>

<hr>
<h2 id='funkyheatmap-package'>funkyheatmap: Generating Funky Heatmaps for Data Frames</h2><span id='topic+funkyheatmap'></span><span id='topic+funkyheatmap-package'></span>

<h3>Description</h3>

<p>Allows generating heatmap-like visualisations for benchmark data frames. Funky heatmaps can be fine-tuned by providing annotations of the columns and rows, which allows assigning multiple palettes or geometries or grouping rows and columns together in categories. Saelens et al. (2019) <a href="https://doi.org/10.1038/s41587-019-0071-9">doi:10.1038/s41587-019-0071-9</a>.
</p>
<p>Allows generating heatmap-likes visualisations for benchmark data
frames. Funky heatmaps can be fine-tuned by providing annotations of the
columns and rows, which allows assigning multiple palettes or geometries
or grouping rows and columns together in categories.
</p>


<h3>Details</h3>

<p>This package heavily depends on the functions provided by
<a href="https://ggplot2.tidyverse.org/"><code>ggplot2</code></a> and
<a href="https://ggforce.data-imaginist.com"><code>ggforce</code></a>.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Robrecht Cannoodt <a href="mailto:rcannood@gmail.com">rcannood@gmail.com</a> (<a href="https://orcid.org/0000-0003-3641-729X">ORCID</a>) (rcannood)
</p>
<p>Authors:
</p>

<ul>
<li><p> Wouter Saelens <a href="mailto:wouter.saelens@gmail.com">wouter.saelens@gmail.com</a> (<a href="https://orcid.org/0000-0002-7114-6248">ORCID</a>) (zouter)
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://funkyheatmap.github.io/funkyheatmap/">https://funkyheatmap.github.io/funkyheatmap/</a>
</p>
</li>
<li> <p><a href="https://github.com/funkyheatmap/funkyheatmap">https://github.com/funkyheatmap/funkyheatmap</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/funkyheatmap/funkyheatmap/issues">https://github.com/funkyheatmap/funkyheatmap/issues</a>
</p>
</li></ul>


<hr>
<h2 id='geom_rounded_rect'>Rounded rectangles</h2><span id='topic+geom_rounded_rect'></span>

<h3>Description</h3>

<p>Does what <code><a href="ggplot2.html#topic+geom_tile">ggplot2::geom_rect()</a></code> does, only <em>curvier</em>. Use the <code>radius</code> aesthetic
to change the corner radius.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_rounded_rect(
  mapping = NULL,
  data = NULL,
  stat = "identity",
  position = "identity",
  ...,
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geom_rounded_rect_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="geom_rounded_rect_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_rounded_rect_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this
layer, either as a <code>ggproto</code> <code>Geom</code> subclass or as a string naming the
stat stripped of the <code>stat_</code> prefix (e.g. <code>"count"</code> rather than
<code>"stat_count"</code>)</p>
</td></tr>
<tr><td><code id="geom_rounded_rect_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="geom_rounded_rect_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer()</a></code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>colour = "red"</code> or <code>size = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
<tr><td><code id="geom_rounded_rect_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_rounded_rect_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="geom_rounded_rect_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
</table>


<h3>Aesthetics</h3>

<p><code>geom_tile()</code> understands the following aesthetics (required aesthetics are in bold):
</p>

<ul>
<li> <p><strong><code>x</code></strong>
</p>
</li>
<li> <p><strong><code>y</code></strong>
</p>
</li>
<li> <p><code>alpha</code>
</p>
</li>
<li> <p><code>colour</code>
</p>
</li>
<li> <p><code>fill</code>
</p>
</li>
<li> <p><code>group</code>
</p>
</li>
<li> <p><code>height</code>
</p>
</li>
<li> <p><code>linetype</code>
</p>
</li>
<li> <p><code>linewidth</code>
</p>
</li>
<li> <p><code>width</code>
</p>
</li></ul>

<p>Note that <code>geom_raster()</code> ignores <code>colour</code>.
</p>
<p>Learn more about setting these aesthetics in <code>vignette("ggplot2-specs")</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)

df &lt;- data.frame(
  x = rep(c(2, 5, 7, 9, 12), 2),
  y = rep(c(1, 2), each = 5),
  z = factor(rep(1:5, each = 2)),
  w = rep(diff(c(0, 4, 6, 8, 10, 14)), 2)
)

ggplot(df) +
  geom_rounded_rect(
    aes(
      xmin = x - w / 2,
      xmax = x + w / 2,
      ymin = y,
      ymax = y + 1,
      radius = .5,
      fill = z
    ),
    colour = "white"
  )
</code></pre>

<hr>
<h2 id='position_arguments'>Defines parameters for positioning in a plot.</h2><span id='topic+position_arguments'></span>

<h3>Description</h3>

<p>This function sets parameters that affect positioning within a
plot, such as row and column dimensions, annotation details, and the
expansion directions of the plot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>position_arguments(
  row_height = 1,
  row_space = 0.1,
  row_bigspace = 1.2,
  col_width = 1,
  col_space = 0.1,
  col_bigspace = 0.5,
  col_annot_offset = 3,
  col_annot_angle = 30,
  expand_xmin = 0,
  expand_xmax = 2,
  expand_ymin = 0,
  expand_ymax = 0
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="position_arguments_+3A_row_height">row_height</code></td>
<td>
<p>The height of the rows.</p>
</td></tr>
<tr><td><code id="position_arguments_+3A_row_space">row_space</code></td>
<td>
<p>The space between rows.</p>
</td></tr>
<tr><td><code id="position_arguments_+3A_row_bigspace">row_bigspace</code></td>
<td>
<p>The large space between row groups.</p>
</td></tr>
<tr><td><code id="position_arguments_+3A_col_width">col_width</code></td>
<td>
<p>The width of the columns.</p>
</td></tr>
<tr><td><code id="position_arguments_+3A_col_space">col_space</code></td>
<td>
<p>The space between columns.</p>
</td></tr>
<tr><td><code id="position_arguments_+3A_col_bigspace">col_bigspace</code></td>
<td>
<p>The large space between column groups.</p>
</td></tr>
<tr><td><code id="position_arguments_+3A_col_annot_offset">col_annot_offset</code></td>
<td>
<p>How much the column annotation will be offset by.</p>
</td></tr>
<tr><td><code id="position_arguments_+3A_col_annot_angle">col_annot_angle</code></td>
<td>
<p>The angle of the column annotation labels.</p>
</td></tr>
<tr><td><code id="position_arguments_+3A_expand_xmin">expand_xmin</code></td>
<td>
<p>The minimum expansion of the plot in the x direction.</p>
</td></tr>
<tr><td><code id="position_arguments_+3A_expand_xmax">expand_xmax</code></td>
<td>
<p>The maximum expansion of the plot in the x direction.</p>
</td></tr>
<tr><td><code id="position_arguments_+3A_expand_ymin">expand_ymin</code></td>
<td>
<p>The minimum expansion of the plot in the y direction.</p>
</td></tr>
<tr><td><code id="position_arguments_+3A_expand_ymax">expand_ymax</code></td>
<td>
<p>The maximum expansion of the plot in the y direction.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of plot positioning parameters.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>position_arguments(row_height = 1.2, col_width = 1.5, expand_xmax = 3)
</code></pre>

<hr>
<h2 id='scale_minmax'>Scale a vector to the range [0, 1]</h2><span id='topic+scale_minmax'></span>

<h3>Description</h3>

<p>Scale a vector to the range [0, 1]
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scale_minmax(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="scale_minmax_+3A_x">x</code></td>
<td>
<p>A numeric vector</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric vector scaled to the range [0, 1]
</p>


<h3>Examples</h3>

<pre><code class='language-R'>scale_minmax(c(1, 2, 3))
</code></pre>

<hr>
<h2 id='scib_summary'>Summary results from the scIB project</h2><span id='topic+scib_summary'></span>

<h3>Description</h3>

<p>This dataset was generated by running the <code>data-raw/scib_summary.R</code> script.
This script downloads data for the RNA tasks from the
<a href="https://github.com/theislab/scib-reproducibility">scIB reproducibility repository</a>
and summarises it similarly (but not exactly like) what was done in the
original paper to give a final ranking of the top performing methods.
It is used in the scIB vignette (<code>vignette("scIB")</code>) to reproduce
the overall summary figure in Luecken et al. 2021.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scib_summary
</code></pre>


<h3>Format</h3>

<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 20 rows and 27 columns.
</p>


<h3>References</h3>

<p>Luecken MD, Büttner M, Chaichoompu K, Danese A, Interlandi M, Mueller MF, Strobl DC, Zappia L, Dugas M, Colomé-Tatché M, Theis FJ (2021).
&ldquo;Benchmarking atlas-level data integration in single-cell genomics.&rdquo;
<em>Nature methods</em>.
<a href="https://doi.org/10.1038/s41592-021-01336-8">doi:10.1038/s41592-021-01336-8</a>.
</p>

<hr>
<h2 id='verify_column_groups'>Verify the integrity of the column groups object</h2><span id='topic+verify_column_groups'></span>

<h3>Description</h3>

<p>Verify the integrity of the column groups object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>verify_column_groups(column_groups, column_info)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="verify_column_groups_+3A_column_groups">column_groups</code></td>
<td>
<p>A data frame describing of how to group the columns
in <code>column_info</code>. Can consist of the following columns:
</p>

<ul>
<li> <p><code>group</code> (<code>character</code>): The corresponding group in <code>column_info$group</code>.
</p>
</li>
<li> <p><code>palette</code> (<code>character</code>, optional): The palette used to colour the
column group backgrounds.
</p>
</li>
<li> <p><code>level1</code> (<code>character</code>): The label at the highest level.
</p>
</li>
<li> <p><code>level2</code> (<code>character</code>, optional): The label at the middle level.
</p>
</li>
<li> <p><code>level3</code> (<code>character</code>, optional): The label at the lowest level
(not recommended).
</p>
</li></ul>
</td></tr>
<tr><td><code id="verify_column_groups_+3A_column_info">column_info</code></td>
<td>
<p>A data frame describing which columns in <code>data</code> to
plot. This data frame should contain the following columns:
</p>

<ul>
<li> <p><code>id</code> (<code>character</code>, required): A column name in <code>data</code> to plot. Determines the
size of the resulting geoms, and also the color unless <code>color</code> is
specified.
</p>
</li>
<li> <p><code>id_color</code> (<code>character</code>): A column name in <code>data</code> to use for the color
of the resulting geoms. If <code>NA</code>, the <code>id</code> column will be used.
</p>
</li>
<li> <p><code>id_size</code> (<code>character</code>): A column name in <code>data</code> to use for the size
of the resulting geoms. If <code>NA</code>, the <code>id</code> column will be used.
</p>
</li>
<li> <p><code>name</code> (<code>character</code>): A label for the column. If <code>NA</code> or <code>""</code>,
no label will be plotted. If this column is missing, <code>id</code> will
be used to generate the <code>name</code> column.
</p>
</li>
<li> <p><code>geom</code> (<code>character</code>): The geom of the column. Must be one of:
<code>"funkyrect"</code>, <code>"circle"</code>, <code>"rect"</code>, <code>"bar"</code>, <code>"pie"</code>, <code>"text"</code> or <code>"image"</code>.
For <code>"text"</code>, the corresponding column in <code>data</code> must be a <code>character</code>.
For <code>"pie"</code>, the column must be a list of named numeric vectors.
For all other geoms, the column must be a <code>numeric</code>.
</p>
</li>
<li> <p><code>group</code> (<code>character</code>): The grouping id of each column, must match with
<code>column_groups$group</code>. If this column is missing or all values are <code>NA</code>,
columns are assumed not to be grouped.
</p>
</li>
<li> <p><code>palette</code> (<code>character</code>): Which palette to colour the geom by.
Each value should have a matching value in <code>palettes$palette</code>.
</p>
</li>
<li> <p><code>width</code>: Custom width for this column (default: 1).
</p>
</li>
<li> <p><code>overlay</code>: Whether to overlay this column over the previous column.
If so, the width of that column will be inherited.
</p>
</li>
<li> <p><code>legend</code>: Whether or not to add a legend for this column.
</p>
</li>
<li> <p><code>hjust</code>: Horizontal alignment of the bar, must be between [0,1]
(only for <code>geom = "bar"</code>).
</p>
</li>
<li> <p><code>vjust</code>: Vertical alignment of the label, must be between [0,1]
(only for <code>geom = "text"</code>).
</p>
</li>
<li> <p><code>size</code>: Size of the label, must be a numeric value
(only for <code>geom = "text"</code>).
</p>
</li>
<li> <p><code>label</code>: Which column to use as a label (only for <code>geom = "text"</code>).
</p>
</li>
<li> <p><code>directory</code>: Which directory to use to find the images (only for <code>geom = "image"</code>).
</p>
</li>
<li> <p><code>extension</code>: The extension of the images (only for <code>geom = "image"</code>).
</p>
</li>
<li> <p><code>draw_outline</code>: Whether or not to draw bounding guides (only for <code>geom == "bar"</code>).
Default: <code>TRUE</code>.
</p>
</li>
<li> <p><code>options</code> (<code>list</code> or <code>json</code>): Any of the options above. Any values in this
column will be spread across the other columns. This is useful for
not having to provide a data frame with 1000s of columns.
This column can be a json string.
</p>
</li></ul>
</td></tr>
</table>


<h3>Value</h3>

<p>The column groups object with all expected columns.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(tibble)
column_groups &lt;- tribble(
  ~group, ~level1,
  "foo", "Foo",
  "bar", "Bar"
)
column_info &lt;- tribble(
  ~id, ~geom, ~group,
  "name", "text", NA_character_,
  "foo1", "funkyrect", "foo",
  "foo2", "funkyrect", "foo",
  "bar1", "funkyrect", "bar",
  "bar2", "funkyrect", "bar"
)
verify_column_groups(column_groups, column_info)
</code></pre>

<hr>
<h2 id='verify_column_info'>Verify the integrity of the column info object</h2><span id='topic+verify_column_info'></span>

<h3>Description</h3>

<p>Verify the integrity of the column info object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>verify_column_info(column_info, data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="verify_column_info_+3A_column_info">column_info</code></td>
<td>
<p>A data frame describing which columns in <code>data</code> to
plot. This data frame should contain the following columns:
</p>

<ul>
<li> <p><code>id</code> (<code>character</code>, required): A column name in <code>data</code> to plot. Determines the
size of the resulting geoms, and also the color unless <code>color</code> is
specified.
</p>
</li>
<li> <p><code>id_color</code> (<code>character</code>): A column name in <code>data</code> to use for the color
of the resulting geoms. If <code>NA</code>, the <code>id</code> column will be used.
</p>
</li>
<li> <p><code>id_size</code> (<code>character</code>): A column name in <code>data</code> to use for the size
of the resulting geoms. If <code>NA</code>, the <code>id</code> column will be used.
</p>
</li>
<li> <p><code>name</code> (<code>character</code>): A label for the column. If <code>NA</code> or <code>""</code>,
no label will be plotted. If this column is missing, <code>id</code> will
be used to generate the <code>name</code> column.
</p>
</li>
<li> <p><code>geom</code> (<code>character</code>): The geom of the column. Must be one of:
<code>"funkyrect"</code>, <code>"circle"</code>, <code>"rect"</code>, <code>"bar"</code>, <code>"pie"</code>, <code>"text"</code> or <code>"image"</code>.
For <code>"text"</code>, the corresponding column in <code>data</code> must be a <code>character</code>.
For <code>"pie"</code>, the column must be a list of named numeric vectors.
For all other geoms, the column must be a <code>numeric</code>.
</p>
</li>
<li> <p><code>group</code> (<code>character</code>): The grouping id of each column, must match with
<code>column_groups$group</code>. If this column is missing or all values are <code>NA</code>,
columns are assumed not to be grouped.
</p>
</li>
<li> <p><code>palette</code> (<code>character</code>): Which palette to colour the geom by.
Each value should have a matching value in <code>palettes$palette</code>.
</p>
</li>
<li> <p><code>width</code>: Custom width for this column (default: 1).
</p>
</li>
<li> <p><code>overlay</code>: Whether to overlay this column over the previous column.
If so, the width of that column will be inherited.
</p>
</li>
<li> <p><code>legend</code>: Whether or not to add a legend for this column.
</p>
</li>
<li> <p><code>hjust</code>: Horizontal alignment of the bar, must be between [0,1]
(only for <code>geom = "bar"</code>).
</p>
</li>
<li> <p><code>vjust</code>: Vertical alignment of the label, must be between [0,1]
(only for <code>geom = "text"</code>).
</p>
</li>
<li> <p><code>size</code>: Size of the label, must be a numeric value
(only for <code>geom = "text"</code>).
</p>
</li>
<li> <p><code>label</code>: Which column to use as a label (only for <code>geom = "text"</code>).
</p>
</li>
<li> <p><code>directory</code>: Which directory to use to find the images (only for <code>geom = "image"</code>).
</p>
</li>
<li> <p><code>extension</code>: The extension of the images (only for <code>geom = "image"</code>).
</p>
</li>
<li> <p><code>draw_outline</code>: Whether or not to draw bounding guides (only for <code>geom == "bar"</code>).
Default: <code>TRUE</code>.
</p>
</li>
<li> <p><code>options</code> (<code>list</code> or <code>json</code>): Any of the options above. Any values in this
column will be spread across the other columns. This is useful for
not having to provide a data frame with 1000s of columns.
This column can be a json string.
</p>
</li></ul>
</td></tr>
<tr><td><code id="verify_column_info_+3A_data">data</code></td>
<td>
<p>A data frame with items by row and features in the columns.
Must contain one column named <code>"id"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The column info object with all expected columns.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(tibble)
data &lt;- tribble(
  ~id, ~name, ~x, ~y,
  "foo", "Foo", 0.5, 0.7,
  "bar", "Bar", 1.0, 0.1
)
column_info &lt;- tribble(
  ~id, ~geom,
  "name", "text",
  "x", "funkyrect",
  "y", "funkyrect"
)
verify_column_info(column_info, data)
</code></pre>

<hr>
<h2 id='verify_data'>Verify the integrity of the data object</h2><span id='topic+verify_data'></span>

<h3>Description</h3>

<p>Verify the integrity of the data object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>verify_data(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="verify_data_+3A_data">data</code></td>
<td>
<p>A data frame with items by row and features in the columns.
Must contain one column named <code>"id"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A verified data object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(tibble)
data &lt;- tribble(
  ~id, ~name, ~x, ~y,
  "foo", "Foo", 0.5, 0.7,
  "bar", "Bar", 1.0, 0.1
)
verify_data(data)
</code></pre>

<hr>
<h2 id='verify_legends'>Verify the integrity of the legends object</h2><span id='topic+verify_legends'></span>

<h3>Description</h3>

<p>Verify the integrity of the legends object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>verify_legends(legends, palettes, column_info, data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="verify_legends_+3A_legends">legends</code></td>
<td>
<p>A list of legends to add to the plot. Each entry in
<code>column_info$legend</code> should have a corresponding entry in this object.
Each entry should be a list with the following names:
</p>

<ul>
<li> <p><code>palette</code> (<code>character</code>): The palette to use for the legend. Must be
a value in <code>palettes</code>.
</p>
</li>
<li> <p><code>geom</code> (<code>character</code>): The geom of the legend. Must be one of:
<code>"funkyrect"</code>, <code>"circle"</code>, <code>"rect"</code>, <code>"bar"</code>, <code>"pie"</code>, <code>"text"</code>, <code>"image"</code>.
</p>
</li>
<li> <p><code>title</code> (<code>character</code>, optional): The title of the legend. Defaults
to the palette name.
</p>
</li>
<li> <p><code>enabled</code> (<code>logical</code>, optional): Whether or not to add the legend.
Defaults to <code>TRUE</code>.
</p>
</li>
<li> <p><code>labels</code> (<code>character</code>, optional): The labels to use for the legend.
The defaults depend on the selected geom.
</p>
</li>
<li> <p><code>size</code> (<code>numeric</code>, optional): The size of the listed geoms.
The defaults depend on the selected geom.
</p>
</li>
<li> <p><code>color</code> (<code>character</code>, optional): The color of the listed geoms.
The defaults depend on the selected geom.
</p>
</li>
<li> <p><code>values</code> (optional): Used as values for the text and image geoms.
</p>
</li>
<li> <p><code>label_width</code> (<code>numeric</code>, optional): The width of the labels
(only when geom is <code>text</code> or <code>pie</code>). Defaults to <code>1</code>
for text and <code>2</code> for images.
</p>
</li>
<li> <p><code>value_width</code> (<code>numeric</code>, optional): The width of the values
(only for <code>geom = "text"</code>). Defaults to <code>2</code>.
</p>
</li>
<li> <p><code>label_hjust</code> (<code>numeric</code>, optional): The horizontal alignment of the
labels (only when geom is <code>circle</code>, <code>rect</code> or <code>funkyrect</code>).
Defaults to <code>0.5</code>.
</p>
</li></ul>
</td></tr>
<tr><td><code id="verify_legends_+3A_palettes">palettes</code></td>
<td>
<p>A named list of palettes. Each entry in <code>column_info$palette</code>
should have an entry in this object. If an entry is missing, the type
of the column will be inferred (categorical or numerical) and one of the
default palettes will be applied. Alternatively, the name of one of the
standard palette names can be used:
</p>

<ul>
<li> <p><code>numerical</code>: <code>"Greys"</code>, <code>"Blues"</code>, <code>"Reds"</code>, <code>"YlOrBr"</code>, <code>"Greens"</code>
</p>
</li>
<li> <p><code>categorical</code>: <code>"Set3"</code>, <code>"Set1"</code>, <code>"Set2"</code>, <code>"Dark2"</code>
</p>
</li></ul>
</td></tr>
<tr><td><code id="verify_legends_+3A_column_info">column_info</code></td>
<td>
<p>A data frame describing which columns in <code>data</code> to
plot. This data frame should contain the following columns:
</p>

<ul>
<li> <p><code>id</code> (<code>character</code>, required): A column name in <code>data</code> to plot. Determines the
size of the resulting geoms, and also the color unless <code>color</code> is
specified.
</p>
</li>
<li> <p><code>id_color</code> (<code>character</code>): A column name in <code>data</code> to use for the color
of the resulting geoms. If <code>NA</code>, the <code>id</code> column will be used.
</p>
</li>
<li> <p><code>id_size</code> (<code>character</code>): A column name in <code>data</code> to use for the size
of the resulting geoms. If <code>NA</code>, the <code>id</code> column will be used.
</p>
</li>
<li> <p><code>name</code> (<code>character</code>): A label for the column. If <code>NA</code> or <code>""</code>,
no label will be plotted. If this column is missing, <code>id</code> will
be used to generate the <code>name</code> column.
</p>
</li>
<li> <p><code>geom</code> (<code>character</code>): The geom of the column. Must be one of:
<code>"funkyrect"</code>, <code>"circle"</code>, <code>"rect"</code>, <code>"bar"</code>, <code>"pie"</code>, <code>"text"</code> or <code>"image"</code>.
For <code>"text"</code>, the corresponding column in <code>data</code> must be a <code>character</code>.
For <code>"pie"</code>, the column must be a list of named numeric vectors.
For all other geoms, the column must be a <code>numeric</code>.
</p>
</li>
<li> <p><code>group</code> (<code>character</code>): The grouping id of each column, must match with
<code>column_groups$group</code>. If this column is missing or all values are <code>NA</code>,
columns are assumed not to be grouped.
</p>
</li>
<li> <p><code>palette</code> (<code>character</code>): Which palette to colour the geom by.
Each value should have a matching value in <code>palettes$palette</code>.
</p>
</li>
<li> <p><code>width</code>: Custom width for this column (default: 1).
</p>
</li>
<li> <p><code>overlay</code>: Whether to overlay this column over the previous column.
If so, the width of that column will be inherited.
</p>
</li>
<li> <p><code>legend</code>: Whether or not to add a legend for this column.
</p>
</li>
<li> <p><code>hjust</code>: Horizontal alignment of the bar, must be between [0,1]
(only for <code>geom = "bar"</code>).
</p>
</li>
<li> <p><code>vjust</code>: Vertical alignment of the label, must be between [0,1]
(only for <code>geom = "text"</code>).
</p>
</li>
<li> <p><code>size</code>: Size of the label, must be a numeric value
(only for <code>geom = "text"</code>).
</p>
</li>
<li> <p><code>label</code>: Which column to use as a label (only for <code>geom = "text"</code>).
</p>
</li>
<li> <p><code>directory</code>: Which directory to use to find the images (only for <code>geom = "image"</code>).
</p>
</li>
<li> <p><code>extension</code>: The extension of the images (only for <code>geom = "image"</code>).
</p>
</li>
<li> <p><code>draw_outline</code>: Whether or not to draw bounding guides (only for <code>geom == "bar"</code>).
Default: <code>TRUE</code>.
</p>
</li>
<li> <p><code>options</code> (<code>list</code> or <code>json</code>): Any of the options above. Any values in this
column will be spread across the other columns. This is useful for
not having to provide a data frame with 1000s of columns.
This column can be a json string.
</p>
</li></ul>
</td></tr>
<tr><td><code id="verify_legends_+3A_data">data</code></td>
<td>
<p>A data frame with items by row and features in the columns.
Must contain one column named <code>"id"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The legends object in the expected format.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(tibble)
library(grDevices)
library(RColorBrewer)

# explicit form
data &lt;- tribble(
  ~id, ~name, ~x, ~y,
  "foo", "Foo", 0.5, 0.7,
  "bar", "Bar", 1.0, 0.1
)
column_info &lt;- tribble(
  ~id, ~geom, ~palette,
  "name", "text", NA,
  "foo", "funkyrect", "pal1",
  "bar", "funkyrect", "pal2"
)
palettes &lt;- list(
  pal1 = rev(brewer.pal(9, "Greys")[-1]),
  pal2 = rev(brewer.pal(9, "Reds")[-8:-9])
)
legends &lt;- list()
verify_legends(legends, palettes, column_info, data)
</code></pre>

<hr>
<h2 id='verify_palettes'>Verify the integrity of the palettes object</h2><span id='topic+verify_palettes'></span>

<h3>Description</h3>

<p>Verify the integrity of the palettes object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>verify_palettes(palettes, column_info, data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="verify_palettes_+3A_palettes">palettes</code></td>
<td>
<p>A named list of palettes. Each entry in <code>column_info$palette</code>
should have an entry in this object. If an entry is missing, the type
of the column will be inferred (categorical or numerical) and one of the
default palettes will be applied. Alternatively, the name of one of the
standard palette names can be used:
</p>

<ul>
<li> <p><code>numerical</code>: <code>"Greys"</code>, <code>"Blues"</code>, <code>"Reds"</code>, <code>"YlOrBr"</code>, <code>"Greens"</code>
</p>
</li>
<li> <p><code>categorical</code>: <code>"Set3"</code>, <code>"Set1"</code>, <code>"Set2"</code>, <code>"Dark2"</code>
</p>
</li></ul>
</td></tr>
<tr><td><code id="verify_palettes_+3A_column_info">column_info</code></td>
<td>
<p>A data frame describing which columns in <code>data</code> to
plot. This data frame should contain the following columns:
</p>

<ul>
<li> <p><code>id</code> (<code>character</code>, required): A column name in <code>data</code> to plot. Determines the
size of the resulting geoms, and also the color unless <code>color</code> is
specified.
</p>
</li>
<li> <p><code>id_color</code> (<code>character</code>): A column name in <code>data</code> to use for the color
of the resulting geoms. If <code>NA</code>, the <code>id</code> column will be used.
</p>
</li>
<li> <p><code>id_size</code> (<code>character</code>): A column name in <code>data</code> to use for the size
of the resulting geoms. If <code>NA</code>, the <code>id</code> column will be used.
</p>
</li>
<li> <p><code>name</code> (<code>character</code>): A label for the column. If <code>NA</code> or <code>""</code>,
no label will be plotted. If this column is missing, <code>id</code> will
be used to generate the <code>name</code> column.
</p>
</li>
<li> <p><code>geom</code> (<code>character</code>): The geom of the column. Must be one of:
<code>"funkyrect"</code>, <code>"circle"</code>, <code>"rect"</code>, <code>"bar"</code>, <code>"pie"</code>, <code>"text"</code> or <code>"image"</code>.
For <code>"text"</code>, the corresponding column in <code>data</code> must be a <code>character</code>.
For <code>"pie"</code>, the column must be a list of named numeric vectors.
For all other geoms, the column must be a <code>numeric</code>.
</p>
</li>
<li> <p><code>group</code> (<code>character</code>): The grouping id of each column, must match with
<code>column_groups$group</code>. If this column is missing or all values are <code>NA</code>,
columns are assumed not to be grouped.
</p>
</li>
<li> <p><code>palette</code> (<code>character</code>): Which palette to colour the geom by.
Each value should have a matching value in <code>palettes$palette</code>.
</p>
</li>
<li> <p><code>width</code>: Custom width for this column (default: 1).
</p>
</li>
<li> <p><code>overlay</code>: Whether to overlay this column over the previous column.
If so, the width of that column will be inherited.
</p>
</li>
<li> <p><code>legend</code>: Whether or not to add a legend for this column.
</p>
</li>
<li> <p><code>hjust</code>: Horizontal alignment of the bar, must be between [0,1]
(only for <code>geom = "bar"</code>).
</p>
</li>
<li> <p><code>vjust</code>: Vertical alignment of the label, must be between [0,1]
(only for <code>geom = "text"</code>).
</p>
</li>
<li> <p><code>size</code>: Size of the label, must be a numeric value
(only for <code>geom = "text"</code>).
</p>
</li>
<li> <p><code>label</code>: Which column to use as a label (only for <code>geom = "text"</code>).
</p>
</li>
<li> <p><code>directory</code>: Which directory to use to find the images (only for <code>geom = "image"</code>).
</p>
</li>
<li> <p><code>extension</code>: The extension of the images (only for <code>geom = "image"</code>).
</p>
</li>
<li> <p><code>draw_outline</code>: Whether or not to draw bounding guides (only for <code>geom == "bar"</code>).
Default: <code>TRUE</code>.
</p>
</li>
<li> <p><code>options</code> (<code>list</code> or <code>json</code>): Any of the options above. Any values in this
column will be spread across the other columns. This is useful for
not having to provide a data frame with 1000s of columns.
This column can be a json string.
</p>
</li></ul>
</td></tr>
<tr><td><code id="verify_palettes_+3A_data">data</code></td>
<td>
<p>A data frame with items by row and features in the columns.
Must contain one column named <code>"id"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The palettes object with all expected columns.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(tibble)
library(grDevices)
library(RColorBrewer)

# explicit form
data &lt;- tribble(
  ~id, ~name, ~x, ~y,
  "foo", "Foo", 0.5, 0.7,
  "bar", "Bar", 1.0, 0.1
)
column_info &lt;- tribble(
  ~id, ~geom, ~palette,
  "name", "text", NA,
  "foo", "funkyrect", "pal1",
  "bar", "funkyrect", "pal2"
)
palettes &lt;- list(
  pal1 = rev(brewer.pal(9, "Greys")[-1]),
  pal2 = rev(brewer.pal(9, "Reds")[-8:-9])
)
verify_palettes(palettes, column_info, data)

# implicit palettes
palettes &lt;- list(
  pal1 = "Greys",
  pal2 = "Reds"
)
verify_palettes(palettes, column_info, data)

# passing a tibble should also work (for backwards compatibility)
palettes &lt;- tribble(
  ~palette, ~colours,
  "pal1", rev(brewer.pal(9, "Greys")[-1]),
  "pal2", rev(brewer.pal(9, "Reds")[-8:-9])
)
verify_palettes(palettes, column_info, data)
</code></pre>

<hr>
<h2 id='verify_row_groups'>Verify the integrity of the row groups object</h2><span id='topic+verify_row_groups'></span>

<h3>Description</h3>

<p>Verify the integrity of the row groups object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>verify_row_groups(row_groups, row_info)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="verify_row_groups_+3A_row_groups">row_groups</code></td>
<td>
<p>A data frame describing of how to group the rows
in <code>row_info</code>. Can consist of the following columns:
</p>

<ul>
<li> <p><code>group</code> (<code>character</code>): The corresponding group in <code>row_info$group</code>.
</p>
</li>
<li> <p><code>level1</code> (<code>character</code>): The label at the highest level.
</p>
</li>
<li> <p><code>level2</code> (<code>character</code>, optional): The label at the middle level.
</p>
</li>
<li> <p><code>level3</code> (<code>character</code>, optional): The label at the lowest level
(not recommended).
</p>
</li></ul>
</td></tr>
<tr><td><code id="verify_row_groups_+3A_row_info">row_info</code></td>
<td>
<p>A data frame describing the rows of <code>data</code>.
This data should contain two columns:
</p>

<ul>
<li> <p><code>id</code> (<code>character</code>): Corresponds to the column <code>data$id</code>.
</p>
</li>
<li> <p><code>group</code> (<code>character</code>): The group of the row.
If all are <code>NA</code>, the rows will not be split up into groups.
</p>
</li></ul>
</td></tr>
</table>


<h3>Value</h3>

<p>The row groups object with all expected rows.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(tibble)
row_groups &lt;- tribble(
  ~group, ~level1,
  "foo", "Foo",
  "bar", "Bar"
)
row_info &lt;- tribble(
  ~id, ~group,
  "name", NA_character_,
  "foo1", "foo",
  "foo2", "foo",
  "bar1", "bar",
  "bar2", "bar"
)
verify_row_groups(row_groups, row_info)
</code></pre>

<hr>
<h2 id='verify_row_info'>Verify the integrity of the row info object</h2><span id='topic+verify_row_info'></span>

<h3>Description</h3>

<p>Verify the integrity of the row info object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>verify_row_info(row_info, data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="verify_row_info_+3A_row_info">row_info</code></td>
<td>
<p>A data frame describing the rows of <code>data</code>.
This data should contain two columns:
</p>

<ul>
<li> <p><code>id</code> (<code>character</code>): Corresponds to the column <code>data$id</code>.
</p>
</li>
<li> <p><code>group</code> (<code>character</code>): The group of the row.
If all are <code>NA</code>, the rows will not be split up into groups.
</p>
</li></ul>
</td></tr>
<tr><td><code id="verify_row_info_+3A_data">data</code></td>
<td>
<p>A data frame with items by row and features in the columns.
Must contain one column named <code>"id"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The row info object with all expected columns.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(tibble)
data &lt;- tribble(
  ~id, ~name, ~x, ~y,
  "foo1", "Foo1", 0.5, 0.7,
  "foo2", "Foo2", 0.5, 0.8,
  "bar1", "Bar1", 1.0, 0.2,
  "bar2", "Bar2", 1.0, 0.1
)
row_info &lt;- tribble(
  ~id, ~group,
  "foo1", "foo",
  "foo2", "foo",
  "bar1", "bar",
  "bar2", "bar"
)
verify_row_info(row_info, data)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

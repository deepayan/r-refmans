<!DOCTYPE html><html lang="en"><head><title>Help for package RGS</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {RGS}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#evaluate_model_cox'><p>Evaluate model with cutoffs</p>
Evaluates the model by creating exposure variables based on the cutoffs and fitting a Cox model.</a></li>
<li><a href='#evaluate_model_logistic'><p>Evaluate logistic regression model with cutoffs</p></a></li>
<li><a href='#find_best_combination_cox'><p>Find best combination of cutoffs</p>
Searches for the best combination of cutoffs that minimizes the Akaike Information Criterion (AIC).</a></li>
<li><a href='#find_best_combination_logistic'><p>Find best combination of cutoffs for logistic regression</p></a></li>
<li><a href='#find_cutoffs_cox'><p>Find symmetric cutoffs</p>
This function finds symmetric cutoff points for a specified variable using Cox regression.</a></li>
<li><a href='#find_cutoffs_logistic'><p>Find symmetric cutoffs for logistic regression</p></a></li>
<li><a href='#rgs_for_cox'><p>Main function for cox regression analysis</p>
Performs regression analysis to identify optimal cutoffs and evaluate the model.
Users are required to create and set the datadist option globally before using this function.</a></li>
<li><a href='#rgs_for_logistic'><p>Main function for logistic regression analysis</p></a></li>
<li><a href='#test_ushape_cox'><p>Test U-shape relationship</p>
This function checks for a U-shaped relationship between survival time and a set of variables.
Users are required to create and set the datadist option globally before using this function.</a></li>
<li><a href='#test_ushape_logistic'><p>Test U-shape relationship in logistic regression</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Recursive Gradient Scanning Algorithm</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides a recursive gradient scanning algorithm for
    discretizing continuous variables in Logistic and Cox regression
    models. This algorithm is especially effective in identifying
    optimal cut-points for variables with U-shaped relationships to
    'lnOR' (the natural logarithm of the odds ratio) or 'lnHR' (the
    natural logarithm of the hazard ratio), thereby enhancing model
    fit, interpretability, and predictive power. By iteratively
    scanning and calculating gradient changes, the method accurately
    pinpoints critical cut-points within nonlinear relationships,
    transforming continuous variables into categorical ones. This
    approach improves risk classification and regression analysis
    performance, increasing interpretability and practical relevance
    in clinical and risk management settings.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Imports:</td>
<td>rms, SemiPar, survival</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-12-19 00:44:14 UTC; 14715</td>
</tr>
<tr>
<td>Author:</td>
<td>Shuo Yang [aut, cre],
  Yi Fei [aut],
  Jinxin Zhang [ths]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Shuo Yang &lt;yangsh223@mail2.sysu.edu.cn&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-12-19 20:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='evaluate_model_cox'>Evaluate model with cutoffs
Evaluates the model by creating exposure variables based on the cutoffs and fitting a Cox model.</h2><span id='topic+evaluate_model_cox'></span>

<h3>Description</h3>

<p>Evaluate model with cutoffs
Evaluates the model by creating exposure variables based on the cutoffs and fitting a Cox model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>evaluate_model_cox(my_data, cutoffs, formula)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="evaluate_model_cox_+3A_my_data">my_data</code></td>
<td>
<p>A dataframe containing the data.</p>
</td></tr>
<tr><td><code id="evaluate_model_cox_+3A_cutoffs">cutoffs</code></td>
<td>
<p>A list of dataframes containing the cutoffs for each variable.</p>
</td></tr>
<tr><td><code id="evaluate_model_cox_+3A_formula">formula</code></td>
<td>
<p>An object of class &quot;formula&quot; describing the model structure.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe summarizing the model evaluation metrics.
</p>

<hr>
<h2 id='evaluate_model_logistic'>Evaluate logistic regression model with cutoffs</h2><span id='topic+evaluate_model_logistic'></span>

<h3>Description</h3>

<p>This function evaluates the logistic regression model by creating exposure variables based on the cutoffs and fitting the model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>evaluate_model_logistic(my_data, cutoffs, formula)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="evaluate_model_logistic_+3A_my_data">my_data</code></td>
<td>
<p>A dataframe containing the data.</p>
</td></tr>
<tr><td><code id="evaluate_model_logistic_+3A_cutoffs">cutoffs</code></td>
<td>
<p>A list of dataframes containing the cutoffs for each variable.</p>
</td></tr>
<tr><td><code id="evaluate_model_logistic_+3A_formula">formula</code></td>
<td>
<p>An object of class &quot;formula&quot; describing the model structure.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe summarizing the model evaluation metrics.
</p>

<hr>
<h2 id='find_best_combination_cox'>Find best combination of cutoffs
Searches for the best combination of cutoffs that minimizes the Akaike Information Criterion (AIC).</h2><span id='topic+find_best_combination_cox'></span>

<h3>Description</h3>

<p>Find best combination of cutoffs
Searches for the best combination of cutoffs that minimizes the Akaike Information Criterion (AIC).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find_best_combination_cox(my_data, cutoffs_list, formula)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="find_best_combination_cox_+3A_my_data">my_data</code></td>
<td>
<p>A dataframe containing the data.</p>
</td></tr>
<tr><td><code id="find_best_combination_cox_+3A_cutoffs_list">cutoffs_list</code></td>
<td>
<p>A list of dataframes containing the cutoffs for each variable.</p>
</td></tr>
<tr><td><code id="find_best_combination_cox_+3A_formula">formula</code></td>
<td>
<p>An object of class &quot;formula&quot; describing the model structure.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe containing the optimal cutoff values and the AIC value.
</p>

<hr>
<h2 id='find_best_combination_logistic'>Find best combination of cutoffs for logistic regression</h2><span id='topic+find_best_combination_logistic'></span>

<h3>Description</h3>

<p>This function searches for the best combination of cutoffs that minimizes the Akaike Information Criterion (AIC).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find_best_combination_logistic(my_data, cutoffs_list, formula)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="find_best_combination_logistic_+3A_my_data">my_data</code></td>
<td>
<p>A dataframe containing the data.</p>
</td></tr>
<tr><td><code id="find_best_combination_logistic_+3A_cutoffs_list">cutoffs_list</code></td>
<td>
<p>A list of dataframes containing the cutoffs for each variable.</p>
</td></tr>
<tr><td><code id="find_best_combination_logistic_+3A_formula">formula</code></td>
<td>
<p>An object of class &quot;formula&quot; describing the model structure.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe containing the optimal cutoff values and the AIC value.
</p>

<hr>
<h2 id='find_cutoffs_cox'>Find symmetric cutoffs
This function finds symmetric cutoff points for a specified variable using Cox regression.</h2><span id='topic+find_cutoffs_cox'></span>

<h3>Description</h3>

<p>Find symmetric cutoffs
This function finds symmetric cutoff points for a specified variable using Cox regression.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find_cutoffs_cox(my_data, variable_name)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="find_cutoffs_cox_+3A_my_data">my_data</code></td>
<td>
<p>A dataframe containing the data.</p>
</td></tr>
<tr><td><code id="find_cutoffs_cox_+3A_variable_name">variable_name</code></td>
<td>
<p>A character string specifying the name of the variable for which to find cutoffs.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe containing the symmetric cutoffs and their corresponding predicted log hazard ratios.
</p>

<hr>
<h2 id='find_cutoffs_logistic'>Find symmetric cutoffs for logistic regression</h2><span id='topic+find_cutoffs_logistic'></span>

<h3>Description</h3>

<p>This function finds symmetric cutoff points for a specified predictor variable using logistic regression.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find_cutoffs_logistic(my_data, variable)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="find_cutoffs_logistic_+3A_my_data">my_data</code></td>
<td>
<p>A dataframe containing the data.</p>
</td></tr>
<tr><td><code id="find_cutoffs_logistic_+3A_variable">variable</code></td>
<td>
<p>A character string specifying the name of the predictor variable for which to find cutoffs.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe containing the symmetric cutoffs and their corresponding predicted log odds ratios.
</p>

<hr>
<h2 id='rgs_for_cox'>Main function for cox regression analysis
Performs regression analysis to identify optimal cutoffs and evaluate the model.
Users are required to create and set the datadist option globally before using this function.</h2><span id='topic+rgs_for_cox'></span>

<h3>Description</h3>

<p>Main function for cox regression analysis
Performs regression analysis to identify optimal cutoffs and evaluate the model.
Users are required to create and set the datadist option globally before using this function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rgs_for_cox(my_data, u_variables, covariates)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rgs_for_cox_+3A_my_data">my_data</code></td>
<td>
<p>A dataframe containing the data.</p>
</td></tr>
<tr><td><code id="rgs_for_cox_+3A_u_variables">u_variables</code></td>
<td>
<p>A character vector specifying the names of the U-shaped variables.</p>
</td></tr>
<tr><td><code id="rgs_for_cox_+3A_covariates">covariates</code></td>
<td>
<p>A character vector specifying the names of the covariates.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe containing the best combination of cutoffs and associated AIC value.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(rms)

data_path &lt;- system.file("extdata", "cox_data.csv", package = "RGS")
my_data &lt;- read.csv(data_path)

# Define variables
u_variables &lt;- c("u1", "u2")
covariates &lt;- c("l1", "c1")

# create and set the datadist option globally
dd &lt;- datadist(my_data)
options(datadist = "dd")

rgs_for_cox(my_data, u_variables, covariates)


</code></pre>

<hr>
<h2 id='rgs_for_logistic'>Main function for logistic regression analysis</h2><span id='topic+rgs_for_logistic'></span>

<h3>Description</h3>

<p>This function performs logistic regression analysis to identify optimal cutoffs and evaluate the model.
Users are required to create and set the datadist option globally before using this function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rgs_for_logistic(my_data, u_variables, covariates)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rgs_for_logistic_+3A_my_data">my_data</code></td>
<td>
<p>A dataframe containing the data.</p>
</td></tr>
<tr><td><code id="rgs_for_logistic_+3A_u_variables">u_variables</code></td>
<td>
<p>A character vector specifying the names of the U-shaped variables.</p>
</td></tr>
<tr><td><code id="rgs_for_logistic_+3A_covariates">covariates</code></td>
<td>
<p>A character vector specifying the names of the covariates.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe containing the best combination of cutoffs and associated AIC value.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(rms)

data_path &lt;- system.file("extdata", "logistic_data.csv", package = "RGS")
my_data &lt;- read.csv(data_path)

# Define variables
u_variables &lt;- c("u1", "u2")
covariates &lt;- c("l1", "c1")

# create and set the datadist option globally
dd &lt;- datadist(my_data)
options(datadist = "dd")

rgs_for_logistic(my_data, u_variables, covariates)


</code></pre>

<hr>
<h2 id='test_ushape_cox'>Test U-shape relationship
This function checks for a U-shaped relationship between survival time and a set of variables.
Users are required to create and set the datadist option globally before using this function.</h2><span id='topic+test_ushape_cox'></span>

<h3>Description</h3>

<p>Test U-shape relationship
This function checks for a U-shaped relationship between survival time and a set of variables.
Users are required to create and set the datadist option globally before using this function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>test_ushape_cox(my_data, variables)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="test_ushape_cox_+3A_my_data">my_data</code></td>
<td>
<p>A dataframe containing the data with survival times and event indicators.</p>
</td></tr>
<tr><td><code id="test_ushape_cox_+3A_variables">variables</code></td>
<td>
<p>A character vector specifying the names of the variables to be tested.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, produces a plot as a side effect.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(rms)

data_path &lt;- system.file("extdata", "cox_data.csv", package = "RGS")
my_data &lt;- read.csv(data_path)

# create and set the datadist option globally
dd &lt;- datadist(my_data)
options(datadist = "dd")

test_ushape_cox(my_data, c("u1", "u2"))


</code></pre>

<hr>
<h2 id='test_ushape_logistic'>Test U-shape relationship in logistic regression</h2><span id='topic+test_ushape_logistic'></span>

<h3>Description</h3>

<p>This function plots the estimated relationship between the response variable and a set of predictor variables to identify potential U-shaped patterns.
Users are required to create and set the datadist option globally before using this function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>test_ushape_logistic(my_data, variables)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="test_ushape_logistic_+3A_my_data">my_data</code></td>
<td>
<p>A dataframe containing the data with response and predictor variables.</p>
</td></tr>
<tr><td><code id="test_ushape_logistic_+3A_variables">variables</code></td>
<td>
<p>A character vector specifying the names of the predictor variables to be tested.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, produces a plot as a side effect.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(rms)

data_path &lt;- system.file("extdata", "logistic_data.csv", package = "RGS")
my_data &lt;- read.csv(data_path)

# create and set the datadist option globally
dd &lt;- datadist(my_data)
options(datadist = "dd")

test_ushape_logistic(my_data, c("u1", "u2"))


</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package care4cmodel</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {care4cmodel}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#aggregate_raw_sim_rslt'><p>Comprehensively Aggregate Raw Simulation Results</p></a></li>
<li><a href='#avg_extraction_distance'><p>Estimate Average Wood Extraction Distance From Forest Road Density</p></a></li>
<li><a href='#c4c_concept'><p>User-Friendly Construction of a c4c_concept Object</p></a></li>
<li><a href='#co2_eval_cutting'><p>Fuel Consumption and CO2 Emissions for Cutting</p></a></li>
<li><a href='#co2_eval_moving'><p>Fuel Consumption and CO2 Emissions for Moving Wood From the Felling Spot to</p>
the Forest Road</a></li>
<li><a href='#exp_decay_rate'><p>Calculate an Exponential Decay Rate From Two Appropriate Pairs of Values</p></a></li>
<li><a href='#fuel_and_co2_evaluation'><p>Overarching Evaluation of Fuel Consumption and CO2 Emissions</p></a></li>
<li><a href='#fuel_cons_forwarder_1'><p>Fuel Consumption of a Forwarder per Cubic Meter Harvested Wood (Version #1)</p></a></li>
<li><a href='#fuel_cons_forwarder_2'><p>Fuel Consumption of a Forwarder per Cubic Meter Harvested Wood (Version #2)</p></a></li>
<li><a href='#fuel_cons_harvester_1'><p>Fuel Consumption of a Harvester per Cubic Meter Harvested Wood (Version #1)</p></a></li>
<li><a href='#fuel_cons_harvester_2'><p>Fuel Consumption of a Harvester per Cubic Meter Harvested Wood (Version #2)</p></a></li>
<li><a href='#fuel_cons_road_maintenance'><p>Annual Fuel Consumption for Truck Road Network Maintenance</p></a></li>
<li><a href='#fuel_to_co2'><p>Convert Fuel Consumption into CO2 Emission</p></a></li>
<li><a href='#growth_and_yield_evaluation'><p>Extensive Growth and Yield Evaluation</p></a></li>
<li><a href='#is_c4c_base_result'><p>Check if an Object is of Class c4c_base_result</p></a></li>
<li><a href='#is_c4c_co2_result'><p>Check if an Object is of Class c4c_co2_result</p></a></li>
<li><a href='#is_c4c_concept'><p>Check if an Object is of Class c4c_concept</p></a></li>
<li><a href='#new_c4c_base_result'><p>Constructor for the Class c4c_base_result</p></a></li>
<li><a href='#new_c4c_co2_result'><p>Constructor for the Class c4c_co2_result</p></a></li>
<li><a href='#new_c4c_concept'><p>Constructor for a c4c_concept Object</p></a></li>
<li><a href='#pine_no_thinning_and_clearcut_1'><p>pine_no_thinning_and_clearcut_1</p></a></li>
<li><a href='#pine_thinning_from_above_1'><p>pine_thinning_from_above_1</p></a></li>
<li><a href='#plot.c4c_base_result'><p>Plot Function for c4c_base_result Objects</p></a></li>
<li><a href='#plot.c4c_co2_result'><p>Plot Function for c4c_co2_result Objects</p></a></li>
<li><a href='#setup_parms'><p>Parameter Setup</p></a></li>
<li><a href='#setup_risk_events'><p>setup_risk_events</p></a></li>
<li><a href='#setup_statevars'><p>State Variable Setup and Initialization</p>
Given a <code>c4c_concept</code> concept definition, and a matching vector of
initial areas the state variables required for simulating the concept are set
up and initialized.</a></li>
<li><a href='#sim_area_single_concept_with_risk'><p>sim_area_single_concept_with_risk</p></a></li>
<li><a href='#simulate_single_concept'><p>Run a Simulation for a Single Silvicultural Concept</p></a></li>
<li><a href='#survival_weibull'><p>Weibull-Based Estimates of Stand Survival</p></a></li>
<li><a href='#validate_c4c_concept'><p>Validator for a c4c_concept Object</p></a></li>
<li><a href='#wood_to_co2'><p>Convert Wood Volume to CO2 Equivalents</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Carbon-Related Assessment of Silvicultural Concepts</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.2</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-06-03</td>
</tr>
<tr>
<td>Description:</td>
<td>A simulation model and accompanying functions that support 
    assessing silvicultural concepts on the forest estate level with a focus on 
    the CO2 uptake by wood growth and CO2 emissions by forest operations. For 
    achieving this, a virtual forest estate area is split into the areas covered
    by typical phases of the silvicultural concept of interest. Given initial 
    area shares of these phases, the dynamics of these areas is simulated. The 
    typical carbon stocks and flows which are known for all phases are 
    attributed post-hoc to the areas and upscaled to the estate level. CO2 
    emissions by forest operations are estimated based on the amounts and 
    dimensions of the harvested timber. Probabilities of damage events are taken
    into account.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Imports:</td>
<td>deSolve, dplyr, stats, tibble, purrr, rlang, tidyr,
tidyselect, ggplot2, Rdpack</td>
</tr>
<tr>
<td>RdMacros:</td>
<td>Rdpack</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.2.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-06-03 13:26:20 UTC; Biber</td>
</tr>
<tr>
<td>Author:</td>
<td>Peter Biber <a href="https://orcid.org/0000-0002-9700-8708"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre, cph],
  Stefano Grigolato <a href="https://orcid.org/0000-0002-2089-3892"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb],
  Julia Schmucker <a href="https://orcid.org/0000-0001-9996-4851"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb],
  Enno Uhl <a href="https://orcid.org/0000-0002-7847-923X"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [ctb],
  Hans Pretzsch <a href="https://orcid.org/0000-0002-4958-1868"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Peter Biber &lt;p.biber@tum.de&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-06-04 09:48:37 UTC</td>
</tr>
</table>
<hr>
<h2 id='aggregate_raw_sim_rslt'>Comprehensively Aggregate Raw Simulation Results</h2><span id='topic+aggregate_raw_sim_rslt'></span>

<h3>Description</h3>

<p>Aggregate and prepare raw simulation output as obtained from
<code><a href="#topic+sim_area_single_concept_with_risk">sim_area_single_concept_with_risk</a></code> in a way that makes them
readable and appropriate for further processing.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aggregate_raw_sim_rslt(sim_areas_raw, concept_def)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="aggregate_raw_sim_rslt_+3A_sim_areas_raw">sim_areas_raw</code></td>
<td>
<p>Raw simulation results as obtained from
<code><a href="#topic+sim_area_single_concept_with_risk">sim_area_single_concept_with_risk</a></code></p>
</td></tr>
<tr><td><code id="aggregate_raw_sim_rslt_+3A_concept_def">concept_def</code></td>
<td>
<p>The concept definition (a <code>c4c_concept</code> object) used
for the simulation which generated <code>sim_areas_raw</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of three matrices with named columns. Each row of these
matrices represents a point in simulation time, but only integer times. The
time distance from one row to the next one is one time unit, typically one
year. The first column of the matrices is time, the other columns represent
the stand development phases as defined in <code>concept_def</code>. The three
list elements (matrices) are:<br />
</p>

<ul>
<li><p><em>areas</em>: Contains the simulated areas of each stand development
phase in the area units defined in <code>concept_def</code>, usually ha.
</p>
</li>
<li><p><em>area_inflows_regular</em>: The area inflows into each stand
development phase as caused by regular development, not by damage
events. An entry at a given point in time represents the inflow between
(and up to) this and the previous point in time. Therefore, the entries
at time 0 are NA.
</p>
</li>
<li><p><em>area_outflows_events</em>: Area outflows of each stand development
phase as caused by damage events. An entry at a given point in time
represents the inflow between (and up to) this and the previous point
in time. Therefore, the entries at time 0 are NA.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>  # Make a simulation
  state_vars &lt;- setup_statevars(
    pine_thinning_from_above_1, c(1000, 0, 0, 0, 0, 0)
  )
  time_span  &lt;- 50
  parms      &lt;- setup_parms(pine_thinning_from_above_1)
  parms$risk_mat &lt;- setup_risk_events(
    time_span, avg_event_strength = 1, parms$risk
  )

  # Simulate
  sim_rslt_raw &lt;- sim_area_single_concept_with_risk(
    state_vars,
    parms       = parms,
    event_times = c(0:time_span),
    time_span   = time_span
  )

  aggregate_raw_sim_rslt(sim_rslt_raw, pine_thinning_from_above_1)


</code></pre>

<hr>
<h2 id='avg_extraction_distance'>Estimate Average Wood Extraction Distance From Forest Road Density</h2><span id='topic+avg_extraction_distance'></span>

<h3>Description</h3>

<p>Estimate Average Wood Extraction Distance From Forest Road Density
</p>


<h3>Usage</h3>

<pre><code class='language-R'>avg_extraction_distance(frd)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="avg_extraction_distance_+3A_frd">frd</code></td>
<td>
<p>Forest road density (truck roads) in m/ha</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The average extraction distance from the felling spot to the nearest
landing at a truck road.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  frd &lt;- c(15, 30, 60, 100) # Forest road densities m/ha
  avg_extraction_distance(frd)

</code></pre>

<hr>
<h2 id='c4c_concept'>User-Friendly Construction of a c4c_concept Object</h2><span id='topic+c4c_concept'></span>

<h3>Description</h3>

<p>For creating a c4c_concept object under normal circumstances, you should not
use the constructor <code><a href="#topic+new_c4c_concept">new_c4c_concept</a></code> directly, but this
function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>c4c_concept(growth_and_yield, concept_name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="c4c_concept_+3A_growth_and_yield">growth_and_yield</code></td>
<td>
<p>data.frame with at least two rows and the columns
&quot;phase_no&quot;, &quot;phase_name&quot;, &quot;duration&quot;, &quot;n_subphases&quot;, &quot;vol_standing&quot;,
&quot;vol_remove&quot;, &quot;vol_mort&quot;, &quot;dbh_standing&quot;, &quot;dbh_remove&quot;, &quot;n_standing&quot;,
&quot;n_remove&quot;, &quot;harvest_interval&quot;, and &quot;survival_cum&quot;.</p>
</td></tr>
<tr><td><code id="c4c_concept_+3A_concept_name">concept_name</code></td>
<td>
<p>Character, name of the concept defined</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Special attention needs to be paid to the definition of <strong>vol_remove</strong> in
cases when the standing volume decreases from one phase to the next. If the
value given for <code>vol_remove</code> is too low, it will result in a negative
volume increment for the respective phase. This will not pass the validation
called inside this function.
</p>


<h3>Value</h3>

<p>A valid object of class c4c_concept, if it can be constructed from
the input data; stops with an error otherwise. The object is basically a
list. Its most important ingredient is a tibble named
<code>growth_and_yield</code> which is a honed version of the input
<code>growth_and_yield</code> to this function. It contains, in addition, phase
wise periodical volume increments per ha (column <code>vol_increment</code>),
which result from the given information. There is no option for
user-provided volume increments in order to guarantee consistency.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  # construct dummy example (without real life relevance)
  g_and_y &lt;- data.frame(
    phase_no         = 1:2,
    phase_name       = c("young", "older"),
    duration         = c(10, 10),
    n_subphases      = c(3, 3),
    vol_standing     = c(166, 304),
    vol_remove       = c(0, 23.6),
    vol_mort         = c(0.01, 0.11),
    n_standing       = c(3200, 970),
    n_remove         = c(0, 306),
    dbh_standing     = c(9.4, 22.3),
    dbh_remove       = c(0, 12.3),
    harvest_interval = c(0, 5),
    survival_cum     = c(0.999, 0.852)
  )

  dummy_concept &lt;- c4c_concept(g_and_y, "dummy_concept")
  dummy_concept

</code></pre>

<hr>
<h2 id='co2_eval_cutting'>Fuel Consumption and CO2 Emissions for Cutting</h2><span id='topic+co2_eval_cutting'></span>

<h3>Description</h3>

<p>Given the output of a simulation run (i.e. an object of class
<code>c4c_base_result</code>) as created with the function
<code><a href="#topic+simulate_single_concept">simulate_single_concept</a></code>, the fuel consumption and CO2 emissions
for cutting (i.e. felling, limbing, cutting the trees into logs) are
calculated. Currently, this function assumes only harvester operations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>co2_eval_cutting(x, mode = c("standard", "nordic"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="co2_eval_cutting_+3A_x">x</code></td>
<td>
<p>An object of class <code>c4c_base_result</code></p>
</td></tr>
<tr><td><code id="co2_eval_cutting_+3A_mode">mode</code></td>
<td>
<p>Character string to choose between &quot;standard&quot; (default) and
&quot;nordic&quot;. For &quot;standard&quot;, the function <code><a href="#topic+fuel_cons_harvester_1">fuel_cons_harvester_1</a></code>
is used. Hoewever, as this function does only provide values for operations
with an average harvest tree diameter of 15 cm and more, the &quot;nordic&quot;
function <code><a href="#topic+fuel_cons_harvester_2">fuel_cons_harvester_2</a></code> with the option <code>thinning
  = TRUE</code> is used for smaller average tree sizes.<br />
With the choice &quot;nordic&quot; only the function
<code><a href="#topic+fuel_cons_harvester_2">fuel_cons_harvester_2</a></code> is used. However, if the harvested
volume per ha per operation amounts to 90% and more of the standing volume
per ha of the respective stand development phase, which is virutally a
clearcut, the option <code>thinning = FALSE</code> is used. In case of damage-
induced harvest, only the option <code>thinning = TRUE</code> is in effect in
order to account for the more difficult conditions of such harvest
operations.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame (tibble) with the columns time, harvest_type (damage or
regular), phase_no, phase_name (numbers and names of the stand development
phases), fuel_cutting_l_per_m3 (liters of fuel consumed per m3 of
harvested wood), fuel_cutting_total_l (liters of fuel consumed in total),
co2_cutting_total_kg (kg CO2 emitted).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  base_out &lt;- simulate_single_concept(
   pine_thinning_from_above_1,
   init_areas = c(50, 100, 10, 50, 150, 600),
   time_span  = 50,
   risk_level = 3
  )

  co2_eval_cutting(base_out, "standard")
  co2_eval_cutting(base_out, "nordic")


</code></pre>

<hr>
<h2 id='co2_eval_moving'>Fuel Consumption and CO2 Emissions for Moving Wood From the Felling Spot to
the Forest Road</h2><span id='topic+co2_eval_moving'></span>

<h3>Description</h3>

<p>Given the output of a simulation run (i.e. an object of class
<code>c4c_base_result</code>) as created with the function
<code><a href="#topic+simulate_single_concept">simulate_single_concept</a></code>, the fuel consumption and CO2 emissions
for moving the wood to a truck road are calculated. Currently, this function
assumes only forwarder operations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>co2_eval_moving(
  x,
  road_density,
  rel_loss = 0.1,
  mode = c("standard", "nordic")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="co2_eval_moving_+3A_x">x</code></td>
<td>
<p>An object of class <code>c4c_base_result</code></p>
</td></tr>
<tr><td><code id="co2_eval_moving_+3A_road_density">road_density</code></td>
<td>
<p>Forest road density (m/ha), relating to truck-accessible
roads</p>
</td></tr>
<tr><td><code id="co2_eval_moving_+3A_rel_loss">rel_loss</code></td>
<td>
<p>Relative amount of the standing tree volume that is lost
during harvesting (default 0.1). Note that the harvested amount is reduced
with the factor 1 - rel_loss before upscaling from the fuel consumption per
m³, because only the wood remaining after the harvest loss (mainly the
stumps) is actually moved.</p>
</td></tr>
<tr><td><code id="co2_eval_moving_+3A_mode">mode</code></td>
<td>
<p>Character string to choose between &quot;standard&quot; (default) and
&quot;nordic&quot;. With the option &quot;standard&quot;, the function
<code><a href="#topic+fuel_cons_forwarder_1">fuel_cons_forwarder_1</a></code> is used, while &quot;nordic&quot; makes use of
<code><a href="#topic+fuel_cons_forwarder_2">fuel_cons_forwarder_2</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame (tibble) with the columns time, harvest_type (damage or
regular), phase_no, phase_name (numbers and names of the stand development
phases), fuel_moving_l_per_m3 (liters of fuel consumed per m3 of moved
wood), fuel_moving_total_l (liters of fuel consumed in total),
co2_moving_total_kg (kg CO2 emitted).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  base_out &lt;- simulate_single_concept(
   pine_thinning_from_above_1,
   init_areas = c(50, 100, 10, 50, 150, 600),
   time_span  = 50,
   risk_level = 3
  )

  co2_eval_moving(base_out, road_density = 35, mode = "standard")
  co2_eval_moving(base_out, road_density = 35, mode = "nordic")

</code></pre>

<hr>
<h2 id='exp_decay_rate'>Calculate an Exponential Decay Rate From Two Appropriate Pairs of Values</h2><span id='topic+exp_decay_rate'></span>

<h3>Description</h3>

<p>Assuming an exponential decay process y = exp(-r * t), this function
calculates r if the following informaion is given:<br /> y_1 = exp(-r \* t_1),
y_2 = exp(-r \* t_2)<br /> Hereby, t_1 is the earlier, t_2 the later point in
time. This implies the following conditions: t_2 &gt; t_1, y_2 &lt;= y_1<br /> If
these conditions are not given, the function will terminate with an error.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>exp_decay_rate(t_1, t_2, y_1, y_2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="exp_decay_rate_+3A_t_1">t_1</code></td>
<td>
<p>Earlier point in time, coupled to <code>y_1</code></p>
</td></tr>
<tr><td><code id="exp_decay_rate_+3A_t_2">t_2</code></td>
<td>
<p>Later point in time, coupled to <code>y_2</code></p>
</td></tr>
<tr><td><code id="exp_decay_rate_+3A_y_1">y_1</code></td>
<td>
<p>Earlier value, coupled to <code>t_1</code></p>
</td></tr>
<tr><td><code id="exp_decay_rate_+3A_y_2">y_2</code></td>
<td>
<p>Later value, coupled to <code>t_2</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>The exponential decay rate <code>r</code>, relating to the time unit of
<code>t_1</code> and <code>t_2</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  # Up to an age of t_1 = 30, a forest stand of interest has a survival
  # probability of 0.95. Up to an age of t_2 = 80, it has a survival
  # probability of 0.83. If we assume an exponential decay process for the
  # 50-year period, what is the exponential decay rate r?
  r &lt;- exp_decay_rate(30, 80, 0.95, 0.83)
  print(r)

  # Check it
  0.95 * exp(-r * (80 - 30)) # 0.83

</code></pre>

<hr>
<h2 id='fuel_and_co2_evaluation'>Overarching Evaluation of Fuel Consumption and CO2 Emissions</h2><span id='topic+fuel_and_co2_evaluation'></span>

<h3>Description</h3>

<p>Given the output of a simulation run generated with
<code><a href="#topic+simulate_single_concept">simulate_single_concept</a></code>, i.e. an object of class
<code>c4c_base_result</code>, a set of information related to CO2 emissions and
storage is generated on different levels of aggregation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fuel_and_co2_evaluation(
  x,
  road_density_m_ha,
  raw_density_kg_m3 = 520,
  harvest_loss = 0.1,
  bark_share = 0.12,
  mode = c("standard", "nordic")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fuel_and_co2_evaluation_+3A_x">x</code></td>
<td>
<p>An object of class <code>c4c_base_result</code></p>
</td></tr>
<tr><td><code id="fuel_and_co2_evaluation_+3A_road_density_m_ha">road_density_m_ha</code></td>
<td>
<p>The forest road density on the whole area in m/ha</p>
</td></tr>
<tr><td><code id="fuel_and_co2_evaluation_+3A_raw_density_kg_m3">raw_density_kg_m3</code></td>
<td>
<p>The raw wood density (kg/m³) to be used for wood
volume conversions (i.e. density of air-dry wood (12% water content)).
Default is 520 kg/m³ (typical for Scots pine). Internally, wood volume is
converted into CO2 equivalents with <code><a href="#topic+wood_to_co2">wood_to_co2</a></code>.</p>
</td></tr>
<tr><td><code id="fuel_and_co2_evaluation_+3A_harvest_loss">harvest_loss</code></td>
<td>
<p>Relative loss fraction of wood volume during harvest,
mainly comprising the stumps (default = 0.1). Does not include bark losses.</p>
</td></tr>
<tr><td><code id="fuel_and_co2_evaluation_+3A_bark_share">bark_share</code></td>
<td>
<p>Relative wood volume share of the bark. Required, as the
CO2 equivalents of harvested wood are calculated for wood volume under
bark.</p>
</td></tr>
<tr><td><code id="fuel_and_co2_evaluation_+3A_mode">mode</code></td>
<td>
<p>Character string indicating the mode of calculating fuel
consumption due to harvest operations. This relates to the functions
<code><a href="#topic+co2_eval_cutting">co2_eval_cutting</a></code> and <code><a href="#topic+co2_eval_moving">co2_eval_moving</a></code>, see the
documentation of these functions for details.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>c4c_co2_result</code> which is, in essence, a list
of three result data frames (and metadata about the underlying simulation),
providing information about co2 emissions, storage, and fuel consumption on
different levels of aggregation.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  # Make a simulation run first
  # The resulting object base_output (class c4c_base_result) comprises
  # the simulated phase area dynamics as well as extended growth and yield
  # information
  base_output &lt;- simulate_single_concept(
    pine_thinning_from_above_1,
    init_areas = c(1000, 0, 0, 0, 0, 0),
    time_span  = 200,
    risk_level = 3
  )

  # Generate fuel and CO2 related information
  fuel_and_co2_evaluation(
    base_output,
    road_density_m_ha = 35,
    mode = "nordic"
  )

</code></pre>

<hr>
<h2 id='fuel_cons_forwarder_1'>Fuel Consumption of a Forwarder per Cubic Meter Harvested Wood (Version #1)</h2><span id='topic+fuel_cons_forwarder_1'></span>

<h3>Description</h3>

<p>Fuel consumption per m³ harvested wood derived from the data provided by
Grigolato and Cadei (2022). Includes loading,
transportation, and unloading.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fuel_cons_forwarder_1(aed)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fuel_cons_forwarder_1_+3A_aed">aed</code></td>
<td>
<p>Average extraction distance to the nearest truck road</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Fuel consumption of a forwarder in liters diesel fuel per m³ wood to
be handled
</p>


<h3>References</h3>

<p>Grigolato S, Cadei A (2022).
&ldquo;Full-mechanized CTL production data in Scots pine forest in Poland.&rdquo;
<a href="https://researchdata.cab.unipd.it/659/">https://researchdata.cab.unipd.it/659/</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  frd &lt;- c(15, 30, 60, 100) # Forest road densities m/ha
  avg_extraction_distance(frd) |&gt;
    fuel_cons_forwarder_1()

</code></pre>

<hr>
<h2 id='fuel_cons_forwarder_2'>Fuel Consumption of a Forwarder per Cubic Meter Harvested Wood (Version #2)</h2><span id='topic+fuel_cons_forwarder_2'></span>

<h3>Description</h3>

<p>Fuel consumption per m³ harvested wood after
Kärhä et al. (2023). Includes loading,
transportation, and unloading.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fuel_cons_forwarder_2(aed, harvest_vol_ha, mineral_soil = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fuel_cons_forwarder_2_+3A_aed">aed</code></td>
<td>
<p>Average extraction distance to the nearest truck road</p>
</td></tr>
<tr><td><code id="fuel_cons_forwarder_2_+3A_harvest_vol_ha">harvest_vol_ha</code></td>
<td>
<p>Harvested merchandable wood volume over bark per ha
(m³/ha)</p>
</td></tr>
<tr><td><code id="fuel_cons_forwarder_2_+3A_mineral_soil">mineral_soil</code></td>
<td>
<p>Logical, TRUE (default) if the operation takes place on
mineral soil, FALSE if not</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Fuel consumption of a forwarder in liters diesel fuel per m³ wood to
be handled
</p>


<h3>References</h3>

<p>Kärhä K, Haavikko H, Kääriäinen H, Palander T, Eliasson L, Roininen K (2023).
&ldquo;Fossil-fuel consumption and CO2eq emissions of cut-to-length industrial roundwood logging operations in Finland.&rdquo;
<em>European Journal of Forest Research</em>, 1&ndash;17.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  frd &lt;- c(15, 30, 60, 100) # Forest road densities m/ha
  aed &lt;- avg_extraction_distance(frd)

  fuel_cons_forwarder_2(aed, 100, TRUE)
  fuel_cons_forwarder_2(aed, 100, FALSE)

</code></pre>

<hr>
<h2 id='fuel_cons_harvester_1'>Fuel Consumption of a Harvester per Cubic Meter Harvested Wood (Version #1)</h2><span id='topic+fuel_cons_harvester_1'></span>

<h3>Description</h3>

<p>Fuel consumption depends on the average tree volume. For tree diameters at
breast height &lt; 15 cm the function gives back <code>NA</code>, because the assumed
machine does not work with such small trees. Estimated after
Bacescu et al. (2022).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fuel_cons_harvester_1(tree_vol, tree_dbh)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fuel_cons_harvester_1_+3A_tree_vol">tree_vol</code></td>
<td>
<p>Average standing merchandable wood volume over bark (m³) per
harvested tree</p>
</td></tr>
<tr><td><code id="fuel_cons_harvester_1_+3A_tree_dbh">tree_dbh</code></td>
<td>
<p>Average diameter at breast height (cm) per harvested tree</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Fuel consumption of a harvester in liters diesel fuel per m³
harvested wood
</p>


<h3>References</h3>

<p>Bacescu NM, Cadei A, Moskalik T, Wiśniewski M, Talbot B, Grigolato S (2022).
&ldquo;Efficiency Assessment of Fully Mechanized Harvesting System through the Use of Fleet Management System.&rdquo;
<em>Sustainability</em>, <b>14</b>(24).
ISSN 2071-1050, <a href="https://doi.org/10.3390/su142416751">doi:10.3390/su142416751</a>, <a href="https://www.mdpi.com/2071-1050/14/24/16751">https://www.mdpi.com/2071-1050/14/24/16751</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  dbh &lt;- seq(10, 70, 10) # Vector of tree dbh in cm
  vol &lt;- dbh ^ 2 / 1000  # Simple Volume estimate (m³) with Denzin's formula

  fuel_cons_harvester_1(vol, dbh)

</code></pre>

<hr>
<h2 id='fuel_cons_harvester_2'>Fuel Consumption of a Harvester per Cubic Meter Harvested Wood (Version #2)</h2><span id='topic+fuel_cons_harvester_2'></span>

<h3>Description</h3>

<p>Fuel consumption of a harvester in liters diesel per m³ havested wood after
Kärhä et al. (2023).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fuel_cons_harvester_2(tree_vol, harvest_vol_ha, thinning = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fuel_cons_harvester_2_+3A_tree_vol">tree_vol</code></td>
<td>
<p>Average standing merchandable wood volume over bark (m³) per
harvested tree</p>
</td></tr>
<tr><td><code id="fuel_cons_harvester_2_+3A_harvest_vol_ha">harvest_vol_ha</code></td>
<td>
<p>Harvested merchandable wood volume over bark per ha
(m³/ha)</p>
</td></tr>
<tr><td><code id="fuel_cons_harvester_2_+3A_thinning">thinning</code></td>
<td>
<p>Logical, TRUE (default) if the harvest is a thinning, or
another kind of felling operation (FALSE)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Fuel consumption of a harvester in liters diesel fuel per m³
harvested wood
</p>


<h3>References</h3>

<p>Kärhä K, Haavikko H, Kääriäinen H, Palander T, Eliasson L, Roininen K (2023).
&ldquo;Fossil-fuel consumption and CO2eq emissions of cut-to-length industrial roundwood logging operations in Finland.&rdquo;
<em>European Journal of Forest Research</em>, 1&ndash;17.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  tree_vol    &lt;- c(0.03,  0.10,  1.00,  2.00,  5.00)
  harvest_vol &lt;- c(5.00, 10.00, 50.00, 25.00, 10.00)

  fuel_cons_harvester_2(tree_vol, harvest_vol, TRUE)
  fuel_cons_harvester_2(tree_vol, harvest_vol, FALSE)

</code></pre>

<hr>
<h2 id='fuel_cons_road_maintenance'>Annual Fuel Consumption for Truck Road Network Maintenance</h2><span id='topic+fuel_cons_road_maintenance'></span>

<h3>Description</h3>

<p>Estimate the annual diesel fuel consumption per ha for maintaining an
existing truck road network in the forest. Estimate based on
Enache and Stampfer (2015).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fuel_cons_road_maintenance(frd)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fuel_cons_road_maintenance_+3A_frd">frd</code></td>
<td>
<p>Forest road density in m/ha</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Diesel fuel consumption for truck road network maintenance in
l/ha/year
</p>


<h3>References</h3>

<p>Enache A, Stampfer K (2015).
&ldquo;Machine utilization rates, energy requirements and greenhouse gas emissions of forest road construction and maintenance in Romanian mountain forests.&rdquo;
<em>Journal of Green Engineering</em>, <b>4</b>(4), 325&ndash;350.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  frd &lt;- c(15, 30, 60, 100)
  fuel_cons_road_maintenance(frd)

</code></pre>

<hr>
<h2 id='fuel_to_co2'>Convert Fuel Consumption into CO2 Emission</h2><span id='topic+fuel_to_co2'></span>

<h3>Description</h3>

<p>Simple conversion assuming a factor of 2.61 kg CO2 / l diesel fuel
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fuel_to_co2(fuel_cons_ltrs, fuel_type = c("diesel"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fuel_to_co2_+3A_fuel_cons_ltrs">fuel_cons_ltrs</code></td>
<td>
<p>Fuel amount consumed by a harvester in liters.</p>
</td></tr>
<tr><td><code id="fuel_to_co2_+3A_fuel_type">fuel_type</code></td>
<td>
<p>Fuel type (character string), required to find the correct
conversion factor. Currently, only &quot;diesel&quot; is accepted.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The emitted amount of CO2 in kg coming form burning
<code>fuel_cons_ltrs</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  dbh  &lt;- seq(20, 70, 10) # Vector of tree dbh in cm
  vol  &lt;- dbh ^ 2 / 1000  # Simple Volume estimate (m³) with Denzin's formula

  fuel_cons_harvester_1(vol, dbh) |&gt;
    fuel_to_co2()

</code></pre>

<hr>
<h2 id='growth_and_yield_evaluation'>Extensive Growth and Yield Evaluation</h2><span id='topic+growth_and_yield_evaluation'></span>

<h3>Description</h3>

<p>Provide an extensive compilation of growth and yield related results.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>growth_and_yield_evaluation(sim_agg, concept_def, detailed_out = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="growth_and_yield_evaluation_+3A_sim_agg">sim_agg</code></td>
<td>
<p>Aggregated simulated area dynamics, more precisely, the output
of <code><a href="#topic+aggregate_raw_sim_rslt">aggregate_raw_sim_rslt</a></code></p>
</td></tr>
<tr><td><code id="growth_and_yield_evaluation_+3A_concept_def">concept_def</code></td>
<td>
<p>Concept definition matching <code>sim_agg</code>, a
<code>c4c_concept</code> object</p>
</td></tr>
<tr><td><code id="growth_and_yield_evaluation_+3A_detailed_out">detailed_out</code></td>
<td>
<p>Boolean, if TRUE, also pre-evaluation output (calculated
by the internal function growth_and_yield_pre_eval) will be part of the
result list (default = FALSE)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The result object, a list, contains the following elements:
</p>

<ul>
<li><p><em>gyield_summary</em>: A tibble that contains phase overarching growth
and yield information. In this tibble, each row is a point in time. The
columns (in addition to time) are: <em>vol_standing</em>, the standing volume on
the total area of interest; <em>vol_rmv_cont</em>,the continuous removals that
take place, as long as an area is in a given phase; <em>vol_rmv_trans</em>, the
volume removals occurring at phase transitions from phases with more to
such with less standing volume; <em>vol_rmv_damage</em>, the volume losses due
to damage events; <em>vol_rmv_harvest</em>, regular harvest volume, the sum of
vol_rmv_cont and vol_rmv_trans; <em>vol_rmv_total</em>, all removed volume, the
sum of vol_rmv_harvest and vol_rmv_damage; <em>vol_mort</em>, the mortality
volume (normal, not event-triggered); <em>vol_inc</em>, the volume increment on
the whole area resulting from the vol_standing, vol_rmv_total,
and vol_mort.
</p>
</li>
<li><p><em>gyield_phases</em>: A list of tibbles, one for each variable as
contained in gyield_summary (except the volume increment) which makes no
sense in a phase-wise context), but in phase-wise resolution. In each
tibble, each row is a point in time, the columns represent the stand
development phases.
</p>
</li>
<li><p><em>gyield_pre</em> (in case the user has chosen
<code>detailed_out = TRUE</code>): A tibble, where each row is a point in
time. The columns (in addition to time) are: <em>vol_standing</em>, the standing
volume on the total area of interest; <em>vol_rmv_cont</em>,the continuous
removals that take place, as long as an area is in a given phase;
<em>vol_rmv_trans</em>, the volume removals occurring at phase transitions from
phases with more to such with less standing volume;<em>vol_rmv_damage</em>, the
volume losses due to damage events; <em>vol_rmv_harvest</em>, regular harvest
volume, the sum of vol_rmv_cont and vol_rmv_trans; <em>vol_rmv_total</em>, all
removed volume, the sum of vol_rmv_harvest and vol_rmv_damage;
<em>vol_mort</em>, the mortality volume (normal, not event-triggered);
<em>vol_inc</em>, the volume increment on the whole area resulting from the
vol_standing, vol_rmv_total, and vol_mort.
</p>
</li></ul>



<h3>Value</h3>

<p>A list with two elements (see also details),
</p>

<ul>
<li><p><em>gyield_summary</em>: A tibble that contains phase overarching growth
and yield information.
</p>
</li>
<li><p><em>gyield_phases</em>: A list of tibbles, each one representing one of the
growth and yield variables also found in gyield_summary, but here on the
level of the single stand development phases.
</p>
</li></ul>

<p>If the user has selected <code>detailed_out = TRUE</code>, there will also be
another list element, <em>gyield_pre</em>, which contains the interim information
from which gyield_summary and gyield_phases are calculated.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  # Run a simulation and store the aggregated outcome
  state_vars &lt;- setup_statevars(
    pine_thinning_from_above_1, c(1000, 0, 0, 0, 0, 0)
  )
  time_span &lt;- 200
  parms     &lt;- setup_parms(pine_thinning_from_above_1)
  parms$risk_mat &lt;- setup_risk_events(
    time_span, avg_event_strength = 1, parms$risk
  )

  sim_areas_agg &lt;- sim_area_single_concept_with_risk(
    state_vars,
    parms       = parms,
    event_times = c(0:time_span),
    time_span   = time_span
  ) |&gt;
    aggregate_raw_sim_rslt(pine_thinning_from_above_1)

  # Growth and yield evaluation
  growth_and_yield_evaluation(sim_areas_agg, pine_thinning_from_above_1)

</code></pre>

<hr>
<h2 id='is_c4c_base_result'>Check if an Object is of Class c4c_base_result</h2><span id='topic+is_c4c_base_result'></span>

<h3>Description</h3>

<p>Check if an Object is of Class c4c_base_result
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_c4c_base_result(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_c4c_base_result_+3A_x">x</code></td>
<td>
<p>Object to check</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code>, if <code>x</code> has class c4c_base_result, <code>FALSE</code> if
not
</p>

<hr>
<h2 id='is_c4c_co2_result'>Check if an Object is of Class c4c_co2_result</h2><span id='topic+is_c4c_co2_result'></span>

<h3>Description</h3>

<p>Check if an Object is of Class c4c_co2_result
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_c4c_co2_result(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_c4c_co2_result_+3A_x">x</code></td>
<td>
<p>Object to check</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code>, if <code>x</code> has class c4c_co2_result, <code>FALSE</code> if
not
</p>

<hr>
<h2 id='is_c4c_concept'>Check if an Object is of Class c4c_concept</h2><span id='topic+is_c4c_concept'></span>

<h3>Description</h3>

<p>Check if an Object is of Class c4c_concept
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_c4c_concept(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_c4c_concept_+3A_x">x</code></td>
<td>
<p>object to check</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code>, if <code>x</code> has class c4c_concept, <code>FALSE</code> if not
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  data(pine_thinning_from_above_1)
  x &lt;- unclass(pine_thinning_from_above_1)

  is_c4c_concept(pine_thinning_from_above_1)
  is_c4c_concept(x)

</code></pre>

<hr>
<h2 id='new_c4c_base_result'>Constructor for the Class c4c_base_result</h2><span id='topic+new_c4c_base_result'></span>

<h3>Description</h3>

<p>For internal use only. Objects of class c4c_base_result are only constructed
by functions that evaluate simulation runs. There is no validator function,
for such objects, because their consistency is guaranteed by the functions
that build them.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_c4c_base_result(x = list())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="new_c4c_base_result_+3A_x">x</code></td>
<td>
<p>An object to become a <code>c4c_base_result</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>x</code>, but with the class attribute <code>c4c_base_result</code>
</p>

<hr>
<h2 id='new_c4c_co2_result'>Constructor for the Class c4c_co2_result</h2><span id='topic+new_c4c_co2_result'></span>

<h3>Description</h3>

<p>For internal use only. Objects of class c4c_co2_result are only constructed
by functions that evaluate simulation runs. There is no validator function,
for such objects, because their consistency is guaranteed by the functions
that build them.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_c4c_co2_result(x = list())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="new_c4c_co2_result_+3A_x">x</code></td>
<td>
<p>An object to become a <code>c4c_co2_result</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>x</code>, but with the class attribute <code>c4c_co2_result</code>
</p>

<hr>
<h2 id='new_c4c_concept'>Constructor for a c4c_concept Object</h2><span id='topic+new_c4c_concept'></span>

<h3>Description</h3>

<p>Constructor for a c4c_concept Object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_c4c_concept(x = list())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="new_c4c_concept_+3A_x">x</code></td>
<td>
<p>a list object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns an object of class <code>c4c_concept</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  # remove the c4c_class attribute for the example's sake
  x &lt;- unclass(pine_thinning_from_above_1)

  x &lt;- new_c4c_concept(x)

</code></pre>

<hr>
<h2 id='pine_no_thinning_and_clearcut_1'>pine_no_thinning_and_clearcut_1</h2><span id='topic+pine_no_thinning_and_clearcut_1'></span>

<h3>Description</h3>

<p>Generated from simulation runs to mimic a concept of treating a
Scots pine stand with no thinnings and a short final harvest phase with the
model SILVA.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pine_no_thinning_and_clearcut_1
</code></pre>


<h3>Format</h3>

<p>An object of class <code>c4c_concept</code> of length 3.
</p>

<hr>
<h2 id='pine_thinning_from_above_1'>pine_thinning_from_above_1</h2><span id='topic+pine_thinning_from_above_1'></span>

<h3>Description</h3>

<p>Generated from simulation runs to mimic a concept similar to the
Scots pine management of the Bavarian State Forest with the model SILVA.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pine_thinning_from_above_1
</code></pre>


<h3>Format</h3>

<p>An object of class <code>c4c_concept</code> of length 3.
</p>

<hr>
<h2 id='plot.c4c_base_result'>Plot Function for c4c_base_result Objects</h2><span id='topic+plot.c4c_base_result'></span>

<h3>Description</h3>

<p>Plot Function for c4c_base_result Objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'c4c_base_result'
plot(
  x,
  variable = c("area", "vol_standing", "vol_inc_ups", "vol_rmv_total", "vol_rmv_cont",
    "vol_rmv_damage", "vol_mort", "hrvst_det_reg", "hrvst_det_dam"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.c4c_base_result_+3A_x">x</code></td>
<td>
<p>Object of class <code>c4c_base_result</code></p>
</td></tr>
<tr><td><code id="plot.c4c_base_result_+3A_variable">variable</code></td>
<td>
<p>Character string, specifies the variable to be plotted. The
options are:
</p>

<ul>
<li><p>&quot;area&quot;: The areas covered by the different stand development
phases (SDPH) over time
</p>
</li>
<li><p>&quot;vol_standing&quot;: The standing volume by SDPH over time
</p>
</li>
<li><p>&quot;vol_inc_ups&quot;: The volume increment by SDPH (upscaled from the
concept definition) over time
</p>
</li>
<li><p>&quot;vol_rmv_total&quot;: The total removed volume (comprising regular and
damage-induced harvest) by SDPH over time
</p>
</li>
<li><p>&quot;vol_rmv_cont&quot;: The volume removed due to regular harvest by SDPH
over time
</p>
</li>
<li><p>&quot;vol_rmv_damage&quot;: The volume removed due to damage-induced
harvest by SDPH over time
</p>
</li>
<li><p>&quot;vol_mort&quot;: The volume losses due to mortality by SDPH over time
</p>
</li>
<li><p>&quot;hrvst_det_reg&quot;: The regular harvest volume over time by tree
size classes (mean harvest diameter)
</p>
</li>
<li><p>&quot;hrvst_det_dam&quot;: The damage-induced harvest volume over time by
tree size classes (mean harvest diameter)
</p>
</li></ul>
</td></tr>
<tr><td><code id="plot.c4c_base_result_+3A_...">...</code></td>
<td>
<p>Other parameters, currently not used</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  sim_base_out &lt;- simulate_single_concept(
    pine_thinning_from_above_1,
    init_areas = c(1000, 0, 0, 0, 0, 0),
    time_span  = 200,
    risk_level = 3
  )

  # Make a plot
  plot(sim_base_out, variable = "area")
  # Also try the following options for the parameter "variable":
  # "vol_standing", "vol_inc_ups", "vol_rmv_total", "vol_rmv_cont",
  # "vol_rmv_damage", "vol_mort", "hrvst_det_reg", "hrvst_det_dam"

</code></pre>

<hr>
<h2 id='plot.c4c_co2_result'>Plot Function for c4c_co2_result Objects</h2><span id='topic+plot.c4c_co2_result'></span>

<h3>Description</h3>

<p>Plot Function for c4c_co2_result Objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'c4c_co2_result'
plot(
  x,
  plot_type = c("em_by_type", "fl_by_type", "em_by_phase", "fl_by_phase", "em_vs_inc",
    "em_vs_hrv", "em_inc_ratio"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.c4c_co2_result_+3A_x">x</code></td>
<td>
<p>Object of class <code>c4c_base_result</code></p>
</td></tr>
<tr><td><code id="plot.c4c_co2_result_+3A_plot_type">plot_type</code></td>
<td>
<p>Character string, specifies the kind of diagram to be
plotted. The options are:
</p>

<ul>
<li><p>&quot;em_by_type&quot;: The CO2 emissions by operation type (cutting,
moving, forest road maintenance) over time
</p>
</li>
<li><p>&quot;fl_by_type&quot;: The fuel consumption by operation type (cutting,
moving, forest road maintenance) over time
</p>
</li>
<li><p>&quot;em_by_phase&quot;: The CO2 emissions by stand development phase
over time, not including forest road maintenance
</p>
</li>
<li><p>&quot;fl_by_phase&quot;: The fuel consumption by stand development phase
over time, not including forest road maintenance
</p>
</li>
<li><p>&quot;em_vs_inc&quot;: The CO2 emissions plotted against the wood increment
(in CO2 equivalents)
</p>
</li>
<li><p>&quot;em_vs_hrv&quot;: The CO2 emissions plotted against the harvest (in
CO2 equivalents)
</p>
</li>
<li><p>&quot;em_inc_ratio&quot;: The ratio of all CO2 emissions and the wood
increment (in CO2 equivalents) over time
</p>
</li></ul>
</td></tr>
<tr><td><code id="plot.c4c_co2_result_+3A_...">...</code></td>
<td>
<p>Other parameters; currently not used</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  sim_co2_out &lt;- simulate_single_concept(
    pine_thinning_from_above_1,
    init_areas = c(1000, 0, 0, 0, 0, 0),
    time_span  = 200,
    risk_level = 3
  ) |&gt;
    fuel_and_co2_evaluation(road_density_m_ha = 35, mode = "nordic")

  # Make a plot
  plot(sim_co2_out,  plot_type = "em_by_type")
  # Also try the plot types "fl_by_type", "em_by_phase", "fl_by_phase",
  # "em_vs_inc", "em_vs_hrv", "em_inc_ratio"

</code></pre>

<hr>
<h2 id='setup_parms'>Parameter Setup</h2><span id='topic+setup_parms'></span>

<h3>Description</h3>

<p>Given a <code>c4c_concept</code> concept definition, a list of parameter elements
is handed back. This information is required for simulations and subsequent
evaluations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setup_parms(concept_def)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="setup_parms_+3A_concept_def">concept_def</code></td>
<td>
<p>Concept definition as a <code>c4c_concept</code> object</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The element <code>risk</code> as part of the output describe as 'normal' risk as
assumed for the silvicultural concept defined in <code>concept_def</code>. This can
be adjusted with the parameter <code>avg_event_strength</code> of the function
<code><a href="#topic+setup_risk_events">setup_risk_events</a></code>, which has to be called in any case after the
parameter setup.
</p>


<h3>Value</h3>

<p>A list with three elements. The first, <code>dwell_time</code>, is a vector
of dwell times for each subphase area, i.e. it indicates the average time a
unit area is dwelling in this subphase (assuming an exponential
distribution over time). The second element, <code>risk</code>, is a vector of
the same length and order. It represents, for each subphase area, the
average relative loss rate per year. It is derived from the cumulative
survival probabilities (<code>survival_com</code>) given in the data frame
<code>growth_and_yield</code> which is part of the concept definition
(<code>concept_def</code>). The third element, <code>phase_indexes</code>, is a tibble
which contains, for each stand development phase in <code>concept_def</code>, a
vector of indexes which can be used to easier access the phase wise
information in the different kinds of simulation outputs.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  parms &lt;- pine_thinning_from_above_1 |&gt; setup_parms()
  parms

</code></pre>

<hr>
<h2 id='setup_risk_events'>setup_risk_events</h2><span id='topic+setup_risk_events'></span>

<h3>Description</h3>

<p>Low-level function for setting up a risk matrix for a simulation run.
Available for users who want to build simulation runs out of single elements.
Regular users are recommended to use the function
<code><a href="#topic+simulate_single_concept">simulate_single_concept</a></code> for running a simulation with one
single command (where this function is internally used).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setup_risk_events(time_span, avg_event_strength = 1, area_risks)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="setup_risk_events_+3A_time_span">time_span</code></td>
<td>
<p>Simulation time span to be covered (integer)</p>
</td></tr>
<tr><td><code id="setup_risk_events_+3A_avg_event_strength">avg_event_strength</code></td>
<td>
<p>Number which indicates the average strength of a
damage event in the simulation. Default is 1 which means that the survival
probabilities as defined in the silvicultural concept of interest are
applied exactly as they are. A value of 2 would mean that one damage event
would have the same effect as would two subsequent events with normal
strength. A value of 0 would trigger no damage events at all.</p>
</td></tr>
<tr><td><code id="setup_risk_events_+3A_area_risks">area_risks</code></td>
<td>
<p>Vector of subphase-wise baseline damage risks, contained in
the list made with <code><a href="#topic+setup_parms">setup_parms</a></code> under the name <code>risk</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function uses exponentially distributed random numbers (with expectation
= 1) for simulating the strenghth of damaging events. Such kind of
distribution where small events are much more frequent than strong ones is a
realistic assumption for forest damages. Such a random number is drawn for
each simulation point in time. The actual damage strength (i.e. relative area
loss) for a given subphase is then calculated as follows:<br />
<code>rel_area_loss = 1 - ((1 - x) ^ avg_event_strength) ^ event_strength</code>,
<br />
where<br />
</p>

<ul>
<li><p>x: The baseline area loss risk of a given stand development
subphase as resulting from the silvicultural concept definition of
interest
</p>
</li>
<li><p>avg_event_strength: The user defined overall average event
strenghth
</p>
</li>
<li><p>event_strength: Exponentially distributed random number with
expectation 1, indicating the damage event strength in a given year
</p>
</li></ul>



<h3>Value</h3>

<p>A matrix where each row is a point in simulation time, and each
column represents a subphase of the silvicultural concept of interest (in
increasing order). Each matrix element describes the relative area loss
that will happen at a given time to a given subphase.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  parms &lt;- setup_parms(pine_no_thinning_and_clearcut_1)
  setup_risk_events(time_span = 200,
                    avg_event_strength = 3,
                    area_risks = parms$risk)

</code></pre>

<hr>
<h2 id='setup_statevars'>State Variable Setup and Initialization
Given a <code>c4c_concept</code> concept definition, and a matching vector of
initial areas the state variables required for simulating the concept are set
up and initialized.</h2><span id='topic+setup_statevars'></span>

<h3>Description</h3>

<p>The state variables to be created are the areas attributed to the single
stand development phases defined in the concept definition of interest. More
precisely, each subphase has an area which is a state variable. When
initializing, the intial areas can be given for each phase in
<code>init_areas</code>, or for each subphase. In the former case the initial phase
areas are equally divided among the respective subphases.<br /> In order to
allow post-hoc reconstruction of the area flows, the function also creates
the cumulative inflows and outflows to each subphase area as state variables
and initializes them with 0.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setup_statevars(concept_def, init_areas, detailed = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="setup_statevars_+3A_concept_def">concept_def</code></td>
<td>
<p>The concept definition of interest as a <code>c4c_object</code></p>
</td></tr>
<tr><td><code id="setup_statevars_+3A_init_areas">init_areas</code></td>
<td>
<p>A vector providing the initial areas for the stand
development (sub) phases defined in <code>concept_def</code> in the same order.
In case <code>init_areas</code> relates to the phases, <code>detailed</code> must be
<code>FALSE</code>. If it relates directly to the subphases, <code>detailed</code> must
be <code>TRUE</code>. In the former case, the areas given for a phase are equally
divided among its subphases. The areas must be given in the same area unit
as named in <code>concept_def</code>, usually ha.</p>
</td></tr>
<tr><td><code id="setup_statevars_+3A_detailed">detailed</code></td>
<td>
<p>Logical, <code>FALSE</code> (default) indicates that
<code>init_areas</code> is given for each stand development phase (and will be
equally distributed among the subphases). <code>TRUE</code> indicates that
<code>init_areas</code> is directly given for each subphase.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector which is actually a sequence of three different blocks. This
format is required for simulations with <code><a href="deSolve.html#topic+deSolve">deSolve</a></code>. Each block
has as many elements as the total number of subpbases defined in
<code>concept_def</code>. Each element refers to each subphase in the order of
the phase sequence. The first block, contains the initial areas attributed
to all subphases in the order of the phase sequence. The second and the
third block will track the cumulative in- and outflows of each area during
the simulation. They are initialized with 0.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  # Initialize with phase wise initial areas
  init_areas &lt;- c(1000, 400, 250, 125, 125, 100)
  state_vars &lt;- pine_thinning_from_above_1 |&gt; setup_statevars(init_areas)
  state_vars

  # Initialize with subphase wise initial areas
  # Assume, we are afforesting 1000 ha, so all area has to be initially in
  # the first subphase of the first stand development phase
  n_sub &lt;- sum(pine_thinning_from_above_1$growth_and_yield$n_subphases)
  init_areas    &lt;- rep(0, n_sub)
  init_areas[1] &lt;- 1000
  state_vars    &lt;- setup_statevars(pine_thinning_from_above_1,
                                   init_areas,
                                   detailed = TRUE)
  state_vars

</code></pre>

<hr>
<h2 id='sim_area_single_concept_with_risk'>sim_area_single_concept_with_risk</h2><span id='topic+sim_area_single_concept_with_risk'></span>

<h3>Description</h3>

<p>Low-level simulation function for area-phase dynamics, available for users
who want to compose simulations out of the single steps. Regular users are
recommended to use the function <code><a href="#topic+simulate_single_concept">simulate_single_concept</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sim_area_single_concept_with_risk(
  state_vars,
  parms,
  event_times,
  time_span = 100L,
  time_frac = 4L,
  integ_method = "lsoda"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sim_area_single_concept_with_risk_+3A_state_vars">state_vars</code></td>
<td>
<p>list of state variable(s) (vectors), all initialized</p>
</td></tr>
<tr><td><code id="sim_area_single_concept_with_risk_+3A_parms">parms</code></td>
<td>
<p>list of parameter(s) (vectors)</p>
</td></tr>
<tr><td><code id="sim_area_single_concept_with_risk_+3A_event_times">event_times</code></td>
<td>
<p>vector of integers specifying the points in time when
damage events can happen. Usually all numbers between (and including) zero
and the endpoint of the simulation (i.e. <code>c(0, time_span)</code>).</p>
</td></tr>
<tr><td><code id="sim_area_single_concept_with_risk_+3A_time_span">time_span</code></td>
<td>
<p>simulation time span, integer, in the chosen time unit
(typically years)</p>
</td></tr>
<tr><td><code id="sim_area_single_concept_with_risk_+3A_time_frac">time_frac</code></td>
<td>
<p>integer &gt;= 1, defines the time step to be used for numerical
integration (time step = 1 / time_frac), i.e. one time unit will be split
into time_frac substeps. Too small values of <code>time_frac</code> may cause the
model showing chaotic dynamics, too large values increase computation time
without meaningful gains in precision. The default value of 4 is mostly a
good choice; in doubt, increase <code>time_frac</code> until the results do not
change meaningfully anymore (risk events should be turned off during that
procedure).</p>
</td></tr>
<tr><td><code id="sim_area_single_concept_with_risk_+3A_integ_method">integ_method</code></td>
<td>
<p>integration method, passed to <code><a href="deSolve.html#topic+ode">ode</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>an object of class <code>deSolve</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  # Work with the example data pine_thinning_from_above_1
  # Initialize state variables (areas per stand development phase)
  state_vars &lt;- setup_statevars(pine_thinning_from_above_1,
                                c(1000, 0, 0, 0, 0, 0))

  # Set time frame
  time_span          &lt;- 200

  # Initialize parameters
  parms     &lt;- setup_parms(pine_thinning_from_above_1)

  # Build risk matrix and add it to parms
  parms$risk_mat &lt;- setup_risk_events(
    time_span, avg_event_strength = 1, parms$risk
  )

  # Simulate
  sim_area_single_concept_with_risk(
    state_vars,
    parms       = parms,
    event_times = c(0:time_span),
    time_span   = time_span
  )

</code></pre>

<hr>
<h2 id='simulate_single_concept'>Run a Simulation for a Single Silvicultural Concept</h2><span id='topic+simulate_single_concept'></span>

<h3>Description</h3>

<p>Top level function for running a simulation and obtaining all fundamental
results, i.e. the simulated area dynamics and all growth and yield related
outcomes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simulate_single_concept(
  concept_def,
  init_areas,
  time_span,
  risk_level = 1,
  detailed_init = FALSE,
  detailed_out = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simulate_single_concept_+3A_concept_def">concept_def</code></td>
<td>
<p>Silvicultural Concept definition to be used in the
simulation; a <code>c4c_concept</code> object</p>
</td></tr>
<tr><td><code id="simulate_single_concept_+3A_init_areas">init_areas</code></td>
<td>
<p>The initial areas for each stand development phase defined
in <code>concept_def</code> (if <code>detailed_init == FALSE</code>, default) or the
initial areas for each stand development subphase as defined in
<code>concept_def</code> (if <code>detailed_init == FALSE</code>)</p>
</td></tr>
<tr><td><code id="simulate_single_concept_+3A_time_span">time_span</code></td>
<td>
<p>Time span to be covered by the simulation</p>
</td></tr>
<tr><td><code id="simulate_single_concept_+3A_risk_level">risk_level</code></td>
<td>
<p>Risk level relative to the standard risk level as defined
in <code>concept_def</code>. The default is 1 which means, the standard risk
level will be applied. If <code>risk_level == 0</code>, no damaging events will
happen; e.g. <code>risk_level == 2</code> will increase damage probabilities as
if the standard level risk events would occur two times.</p>
</td></tr>
<tr><td><code id="simulate_single_concept_+3A_detailed_init">detailed_init</code></td>
<td>
<p>Logical; is <code>init_areas</code> provided for each stand
development phase (default, FALSE), or for each subphase (TRUE)?</p>
</td></tr>
<tr><td><code id="simulate_single_concept_+3A_detailed_out">detailed_out</code></td>
<td>
<p>Logical; should the output also include growth and yield
pre-evaluation results (which are a very detailed interim evaluation output
that is usally only required for internal efficiency)? The default is
FALSE.</p>
</td></tr>
<tr><td><code id="simulate_single_concept_+3A_...">...</code></td>
<td>
<p>Additional arguments to
<code><a href="#topic+sim_area_single_concept_with_risk">sim_area_single_concept_with_risk</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>The output of this function is an object of class <code>c4c_base_result</code>.
There is no other way to generate such an object, therefore there is neither
a constructor nor a validator available to the user.
</p>


<h3>Value</h3>

<p>An object of class <code>c4c_base_result</code> which is actually a named
list containing all information that was used to define and set up a
simulation, as well as all fundamental simulation results, i.e. the
simulated area dynamics, and all growth and yield related results.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  simulate_single_concept(
    pine_thinning_from_above_1,
    init_areas = c(1000, 0, 0, 0, 0, 0),
    time_span  = 200,
    risk_level = 3
  )

</code></pre>

<hr>
<h2 id='survival_weibull'>Weibull-Based Estimates of Stand Survival</h2><span id='topic+survival_weibull'></span>

<h3>Description</h3>

<p>Estimates the probability of a forest stand to survive a period t after its
establishment, based on the Weibull-Method published by Staupendahl (2011)
Forstarchiv 82, 10-19.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>survival_weibull(t, alpha, s_100)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="survival_weibull_+3A_t">t</code></td>
<td>
<p>Time in years after stand establishment</p>
</td></tr>
<tr><td><code id="survival_weibull_+3A_alpha">alpha</code></td>
<td>
<p>Shape parameter. According to Staupendahl, Values &lt; 1 indicate a
high risk at young ages, alpha = 1 indicates an indifference of the risk to
t (exponential distribution), values &gt; 1 indicate high risk at old ages,
where 1 &lt; alpha &lt; 2 means a degressively increasing, alpha = 2 a constantly
increasing, and alpha &gt; 2 a progressively increasing risk.</p>
</td></tr>
<tr><td><code id="survival_weibull_+3A_s_100">s_100</code></td>
<td>
<p>Survival probability up to t = 100</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The parameter <code>s_100</code> represents the survival probability after t = 100
years, and <code>alpha</code> is the shape parameter, indicating the risk profile
of the stand (type) of interest.
</p>


<h3>Value</h3>

<p>The probability to survive up to t = 100
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  # Calculations for Common oak, European beech, Norway spruce, Douglas fir,
  # and Scots pine with parameters after Staupendahl and Zucchini (AFJZ 2011)
  t &lt;- seq(0, 120, 5)
  survival_weibull(t, alpha = 2.75, s_100 = 0.971) # oak
  survival_weibull(t, alpha = 1.76, s_100 = 0.967) # beech
  survival_weibull(t, alpha = 2.78, s_100 = 0.726) # spruce
  survival_weibull(t, alpha = 3.11, s_100 = 0.916) # Douglas
  survival_weibull(t, alpha = 2.45, s_100 = 0.923) # pine


</code></pre>

<hr>
<h2 id='validate_c4c_concept'>Validator for a c4c_concept Object</h2><span id='topic+validate_c4c_concept'></span>

<h3>Description</h3>

<p>Validator for a c4c_concept Object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate_c4c_concept(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="validate_c4c_concept_+3A_x">x</code></td>
<td>
<p>an object of class c4c_concept to be validated</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns the input object if it passes validation, stops with an
error otherwise
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  pine_thinning_from_above_1 |&gt; validate_c4c_concept()
  pine_no_thinning_and_clearcut_1 |&gt; validate_c4c_concept()

</code></pre>

<hr>
<h2 id='wood_to_co2'>Convert Wood Volume to CO2 Equivalents</h2><span id='topic+wood_to_co2'></span>

<h3>Description</h3>

<p>Convert Wood Volume to CO2 Equivalents
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wood_to_co2(volume_m3, raw_density_kg_m3, water_perc = 12)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="wood_to_co2_+3A_volume_m3">volume_m3</code></td>
<td>
<p>Wood volume to be converted in cubic meters</p>
</td></tr>
<tr><td><code id="wood_to_co2_+3A_raw_density_kg_m3">raw_density_kg_m3</code></td>
<td>
<p>The raw density of the wood in kg/m³</p>
</td></tr>
<tr><td><code id="wood_to_co2_+3A_water_perc">water_perc</code></td>
<td>
<p>The water content of the wood at raw density in percent
(usually defined as 12 %, i.e. air-dry)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The CO2 equivalent of the input wood volume in kg
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  # Conversion of 1 m³ wood with typical values for important tree species
  wood_to_co2(1, raw_density_kg_m3 = 520) # Scots pine
  wood_to_co2(1, raw_density_kg_m3 = 470) # Norway spruce
  wood_to_co2(1, raw_density_kg_m3 = 600) # European larch
  wood_to_co2(1, raw_density_kg_m3 = 700) # sessile/pedunculate oak
  wood_to_co2(1, raw_density_kg_m3 = 730) # European beech


</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package dynsurv</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {dynsurv}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#dynsurv'><p>dynsurv: Time-varying coefficient models for interval censored data.</p></a></li>
<li><a href='#bayesCox'><p>Fit Bayesian Cox Model for Interval Censored Survival Data</p></a></li>
<li><a href='#bayesCoxMcmc'><p>Get the MCMC Samples from <code>bayesCox</code></p></a></li>
<li><a href='#bcos'><p>Breast Cancer Data</p></a></li>
<li><a href='#coef.bayesCox'><p>Extract Coefficients from Bayesian Cox Model</p></a></li>
<li><a href='#coef.splineCox'><p>Extract Coefficients from Spline Base Cox Model</p></a></li>
<li><a href='#coef.tvTran'><p>Extract Coefficients from Time-varying Transformation Model</p></a></li>
<li><a href='#is.bayesCox'><p>Is <code>bayesCox</code> Class Object</p></a></li>
<li><a href='#jump'><p>Generic function for jump information</p></a></li>
<li><a href='#nu'><p>Generic function for the latent variance of coefficients</p></a></li>
<li><a href='#plotCoef'><p>Plot Coefficient Function</p></a></li>
<li><a href='#plotJump'><p>Plot Jump Information in Bayesian Dynamic Model</p></a></li>
<li><a href='#plotNu'><p>Plot Latent Variance in Bayesian Cox Model</p></a></li>
<li><a href='#plotSurv'><p>Plot Survival Curves (or Cumulative Hazard Function) and their difference</p></a></li>
<li><a href='#reexports'><p>Objects exported from other packages</p></a></li>
<li><a href='#splineCox'><p>Fit Spline Based Cox Model for Right Censored Survival Data</p></a></li>
<li><a href='#survCurve'><p>Estimated Survival Function or Cumulative Hazard Function</p></a></li>
<li><a href='#survDiff'><p>Estimated Difference Between Survival or Cumulative Hazard Functions</p></a></li>
<li><a href='#tooth'><p>Tooth Data</p></a></li>
<li><a href='#tvTran'><p>Fit Time-varying Transformation Model for Right Censored Survival Data</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Dynamic Models for Survival Data</td>
</tr>
<tr>
<td>Version:</td>
<td>0.4-6</td>
</tr>
<tr>
<td>Description:</td>
<td>Time-varying coefficient models for interval censored and
    right censored survival data including
    1) Bayesian Cox model with time-independent, time-varying or
    dynamic coefficients for right censored and interval censored data studied by
    Sinha et al. (1999) &lt;<a href="https://doi.org/10.1111%2Fj.0006-341X.1999.00585.x">doi:10.1111/j.0006-341X.1999.00585.x</a>&gt; and
    Wang et al. (2013) &lt;<a href="https://doi.org/10.1007%2Fs10985-013-9246-8">doi:10.1007/s10985-013-9246-8</a>&gt;,
    2) Spline based time-varying coefficient Cox model for right censored data
    proposed by Perperoglou et al. (2006) &lt;<a href="https://doi.org/10.1016%2Fj.cmpb.2005.11.006">doi:10.1016/j.cmpb.2005.11.006</a>&gt;, and
    3) Transformation model with time-varying coefficients for right censored data
    using estimating equations proposed by
    Peng and Huang (2007) &lt;<a href="https://doi.org/10.1093%2Fbiomet%2Fasm058">doi:10.1093/biomet/asm058</a>&gt;.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.0.2)</td>
</tr>
<tr>
<td>Imports:</td>
<td>data.table (&ge; 1.9.8), ggplot2, grDevices, grid, nleqslv,
splines2, stats, survival</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>BH (&ge; 1.54.0-2)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>Yes</td>
</tr>
<tr>
<td>LazyData:</td>
<td>Yes</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/wenjie2wang/dynsurv">https://github.com/wenjie2wang/dynsurv</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/wenjie2wang/dynsurv/issues">https://github.com/wenjie2wang/dynsurv/issues</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-11-29 02:22:36 UTC; wenjie</td>
</tr>
<tr>
<td>Author:</td>
<td>Wenjie Wang <a href="https://orcid.org/0000-0003-0363-3180"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre],
  Ming-Hui Chen [aut],
  Xiaojing Wang [aut],
  Jun Yan <a href="https://orcid.org/0000-0003-4401-7296"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Wenjie Wang &lt;wang@wwenjie.org&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-11-29 05:00:05 UTC</td>
</tr>
</table>
<hr>
<h2 id='dynsurv'>dynsurv: Time-varying coefficient models for interval censored data.</h2><span id='topic+dynsurv'></span><span id='topic+dynsurv-package'></span>

<h3>Description</h3>

<p>Functions to fit time-varying coefficient models for interval censored and
right censored survival data. Three major approaches are implemented:
</p>

<ol>
<li><p> Bayesian Cox model with time-independent, time-varying or dynamic
coefficients for right censored and interval censored data;
</p>
</li>
<li><p> Spline based time-varying coefficient Cox model for right censored
data;
</p>
</li>
<li><p> Transformation model with time-varying coefficients for right censored
data using estimating equations.
</p>
</li></ol>


<hr>
<h2 id='bayesCox'>Fit Bayesian Cox Model for Interval Censored Survival Data</h2><span id='topic+bayesCox'></span>

<h3>Description</h3>

<p>Fit Bayesian Cox model with time-independent, time-varying or dynamic
covariate coefficient. The fit is done within a Gibbs sampling framework.
The reversible jump algorithm is employed for the dynamic coefficient
model. The baseline hazards are allowed to be either time-varying or
dynamic.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bayesCox(
  formula,
  data,
  grid = NULL,
  out = NULL,
  model = c("TimeIndep", "TimeVarying", "Dynamic"),
  base.prior = list(),
  coef.prior = list(),
  gibbs = list(),
  control = list(),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bayesCox_+3A_formula">formula</code></td>
<td>
<p>A formula object, with the response on the left of a '~'
operator, and the terms on the right. The response must be a survival
object as returned by the function <code>Surv</code> with <code>type =
"interval2"</code>. <code>help(Surv)</code> for details.</p>
</td></tr>
<tr><td><code id="bayesCox_+3A_data">data</code></td>
<td>
<p>A data.frame in which to interpret the variables named in the
<code>formula</code>.</p>
</td></tr>
<tr><td><code id="bayesCox_+3A_grid">grid</code></td>
<td>
<p>Vector of pre-specified time grid points for model fitting.  It
will be automatically set up from data if it is left unspecified in the
function call. By default, it consists of all the unique finite
endpoints (rounded to two significant numbers) of the censoring
intervals after time zero.  The <code>grid</code> specified in the function
call determines the location of possible jumps. It should be sorted
increasingly and cover all the finite non-zero endpoints of the
censoring intervals. Inappropriate <code>grid</code> specified will be taken
care by the function internally.</p>
</td></tr>
<tr><td><code id="bayesCox_+3A_out">out</code></td>
<td>
<p>An optional character string specifying the name of Markov chain
Monte Carlo (MCMC) samples output file.  By default, the MCMC samples
will be output to a temporary directory set by <code>tempdir</code> and saved
in the returned <code>bayesCox</code> object after burning and thinning.  If
<code>out</code> is specified, the MCMC samples will be preserved in the
specified text file.</p>
</td></tr>
<tr><td><code id="bayesCox_+3A_model">model</code></td>
<td>
<p>Model type to fit. Available options are <code>"TimeIndep"</code>,
<code>"TimeVarying"</code>, and <code>"Dynamic"</code>. Partial matching on the name
is allowed.</p>
</td></tr>
<tr><td><code id="bayesCox_+3A_base.prior">base.prior</code></td>
<td>
<p>List of options for prior of baseline lambda. Use
<code>list(type = "Gamma", shape = 0.1, rate = 0.1)</code> for all models;
<code>list(type = "Const", value = 1)</code> for <code>Dynamic</code> model when
<code>intercept = TRUE</code>.</p>
</td></tr>
<tr><td><code id="bayesCox_+3A_coef.prior">coef.prior</code></td>
<td>
<p>List of options for prior of coefficient beta. Use
<code>list(type = "Normal", mean = 0, sd = 1)</code> for <code>TimeIndep</code>
model; <code>list(type = "AR1", sd = 1)</code> for <code>TimeVarying</code> and
<code>Dynamic</code> models; <code>list(type = "HAR1", shape = 2, scale = 1)</code>
for <code>TimeVarying</code> and <code>Dynamic</code> models.</p>
</td></tr>
<tr><td><code id="bayesCox_+3A_gibbs">gibbs</code></td>
<td>
<p>List of options for Gibbs sampler.</p>
</td></tr>
<tr><td><code id="bayesCox_+3A_control">control</code></td>
<td>
<p>List of general control options.</p>
</td></tr>
<tr><td><code id="bayesCox_+3A_...">...</code></td>
<td>
<p>Other arguments that are for futher extension.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To use default hyper parameters in the specification of either
<code>base.prior</code> or <code>coef.prior</code>, one only has to supply the name of
the prior, e.g., <code>list(type = "Gamma")</code>, <code>list(type = "HAR1")</code>.
</p>
<p>The <code>gibbs</code> argument is a list of components:
</p>

<dl>
<dt>iter:</dt><dd><p>Number of iterations, default 3000;</p>
</dd>
<dt>burn:</dt><dd><p>Number of burning, default 500;</p>
</dd>
<dt>thin:</dt><dd><p>Number of thinning, default 1;</p>
</dd>
<dt>verbose:</dt><dd><p>A logical value, default <code>TRUE</code>. If
<code>TRUE</code>, print the iteration;</p>
</dd>
<dt>nReport:</dt><dd><p>Print frequency, default 100.</p>
</dd>
</dl>

<p>The <code>control</code> argument is a list of components:
</p>

<dl>
<dt>intercept:</dt><dd><p>A logical value, default <code>FALSE</code>. If
<code>TRUE</code>, the model will estimate the intercept, which is the
log of baseline hazards. If <code>TRUE</code>, please remember to turn
off the direct estimation of baseline hazards, i.e.,
<code>base.prior = list(type = "Const")</code></p>
</dd>
<dt>a0:</dt><dd><p>Multiplier for initial variance in time-varying or dynamic
models, default 100;</p>
</dd>
<dt>eps0:</dt><dd><p>Size of auxiliary uniform latent variable in dynamic model,
default 1.</p>
</dd>
</dl>

<p>For users interested in extracting MCMC sampling information from the
output files, the detail of the output files is presented as follows: Let
<code class="reqn">k</code> denote the number of time points (excluding time zero) specified
in grid, <code class="reqn">ck</code> equal <code class="reqn">1</code> for model with time-invariant coefficients;
<code class="reqn">ck</code> equal <code class="reqn">k</code> otherwise, and <code class="reqn">p</code> denote the number of
covariates.  Then the each sample saved in each row consists of the
following possible parts.
</p>

<dl>
<dt>Part 1:</dt><dd><p>The first <code class="reqn">k</code> numbers represent the jump size of
baseline hazard function at each time grid.  If we take the column mean
of the first <code class="reqn">k</code> columns of the output file, we will get the same
numbers with <code>obj$est$lambda</code>, where <code>obj</code> is the <code>bayesCox</code>
object returned by the function.</p>
</dd>
<dt>Part 2:</dt><dd><p>The sequence from <code class="reqn">(k + 1) to (k + ck * p)</code>
represent the coefficients of covariates at the time grid.  The first
<code class="reqn">k</code> numbers in the sequence are the coefficients for the first covariate
at the time grid; The second <code class="reqn">k</code> numbers' sub-sequence are the
coefficients for the second covariate and so on.</p>
</dd>
<dt>Part 3:</dt><dd><p>The sequence from <code class="reqn">(k + ck * p + 1)</code> to
<code class="reqn">(k + ck * p + p)</code> represents the sampled latent variance of
coefficients.</p>
</dd>
<dt>Part 4:</dt><dd><p>The sequence from <code class="reqn">(k + ck * p + p + 1)</code> to
<code class="reqn">(k + 2 * ck * p + p)</code> represents the indicator of whether there is
a jump of the covariate coefficients at the time grid.  Similar with Part 2,
the first k numbers' sub-sequence is for the first covariate, the second
<code class="reqn">k</code> numbers' sub-sequence is for the second covariate, and so on.</p>
</dd>
</dl>

<p>For the model with time-independent coefficients, the output file only
has Part 1 and Part 2 in each row; For time-varying coefficient model,
the output file has Part 1, 2, and 3; The output file for the dynamic
model has all the four parts.  Note that the dynamic baseline hazard will
be taken as one covariate.  So <code class="reqn">p</code> needs being replaced with
<code class="reqn">(p + 1)</code> for model with dynamic baseline hazard rate.
No function in the package actually needs the Part 1 from the output file
now; The Part 2 is used by function <code>coef</code> and <code>survCurve</code>;
The Part 3 is needed by function <code>nu</code>; Function <code>jump</code> extracts
the Part 4.
</p>


<h3>Value</h3>

<p>An object of S3 class <code>bayesCox</code> representing the fit.
</p>


<h3>References</h3>

<p>X. Wang, M.-H. Chen, and J. Yan (2013). Bayesian dynamic regression
models for interval censored survival data with application to children
dental health. Lifetime data analysis, 19(3), 297&ndash;316.
</p>
<p>X. Wang, X. Sinha, J. Yan, and M.-H. Chen (2014). Bayesian inference of
interval-censored survival data. In: D. Chen, J. Sun, and K. Peace,
Interval-censored time-to-event data: Methods and applications, 167&ndash;195.
</p>
<p>X. Wang, M.-H. Chen, and J. Yan (2011). Bayesian dynamic
regression models for interval censored survival data. Technical Report 13,
Department of Statistics, University of Connecticut.
</p>
<p>D. Sinha, M.-H. Chen, and S.K. Ghosh (1999). Bayesian analysis and model
selection for interval-censored survival data. <em>Biometrics</em> 55(2),
585&ndash;590.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+coef.bayesCox">coef.bayesCox</a></code>, <code><a href="#topic+jump.bayesCox">jump.bayesCox</a></code>,
<code><a href="#topic+nu.bayesCox">nu.bayesCox</a></code>, <code><a href="#topic+plotCoef">plotCoef</a></code>,
<code><a href="#topic+plotJumpTrace">plotJumpTrace</a></code>, <code><a href="#topic+plotNu">plotNu</a></code>,
<code><a href="#topic+survCurve">survCurve</a></code>, <code><a href="#topic+survDiff">survDiff</a></code>, and
<code><a href="#topic+plotSurv">plotSurv</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

library(dynsurv)
set.seed(1216)

## breast cancer data
data(bcos)
mydata &lt;- bcos
myformula &lt;- Surv(left, right, type = "interval2") ~ trt

### Fit time-independent coefficient model
fit0 &lt;- bayesCox(myformula, mydata, model = "TimeIndep",
                 base.prior = list(type = "Gamma", shape = 0.1, rate = 0.1),
                 coef.prior = list(type = "Normal", mean = 0, sd = 1),
                 gibbs = list(iter = 100, burn = 20, thin = 1, verbose = FALSE))

## plot coefficient estimates
plotCoef(coef(fit0, level = 0.9))

## Plot the estimated survival function for given new data
newDat &lt;- data.frame(trt = c("Rad", "RadChem"))
row.names(newDat) &lt;- unique(newDat$trt)
plotSurv(survCurve(fit0, newDat), conf.int = TRUE)

### Fit time-varying coefficient model
fit1 &lt;- bayesCox(myformula, mydata, model = "TimeVary",
                 base.prior = list(type = "Gamma", shape = 0.1, rate = 0.1),
                 coef.prior = list(type = "AR1", sd = 1),
                 gibbs = list(iter = 100, burn = 20, thin = 1,
                              verbose = TRUE, nReport = 20))

plotCoef(coef(fit1))
plotSurv(survCurve(fit1), conf.int = TRUE)

### Fit dynamic coefficient model with time-varying baseline hazards
fit2 &lt;- bayesCox(myformula, mydata, model = "Dynamic",
                 base.prior = list(type = "Gamma", shape = 0.1, rate = 0.1),
                 coef.prior = list(type = "HAR1", shape = 2, scale = 1),
                 gibbs = list(iter = 100, burn = 20, thin = 1,
                              verbose = TRUE, nReport = 20))

plotCoef(coef(fit2))
plotJumpTrace(jump(fit2))
plotJumpHist(jump(fit2))
plotNu(nu(fit2))
plotSurv(survCurve(fit2), conf.int = TRUE)

## Plot the coefficient estimates from three models together
plotCoef(rbind(coef(fit0), coef(fit1), coef(fit2)))

### Fit dynamic coefficient model with dynamic hazards (in log scales)
fit3 &lt;- bayesCox(myformula, mydata, model = "Dynamic",
                 base.prior = list(type = "Const"),
                 coef.prior = list(type = "HAR1", shape = 2, scale = 1),
                 gibbs = list(iter = 100, burn = 20, thin = 1,
                              verbose = TRUE, nReport = 20),
                 control = list(intercept = TRUE))

plotCoef(coef(fit3))
plotJumpTrace(jump(fit3))
plotJumpHist(jump(fit3))
plotNu(nu(fit3))
plotSurv(survCurve(fit3), conf.int = TRUE)

## Plot the estimated survival function and the difference
plotSurv(survCurve(fit3, newdata = newDat, type = "survival"),
         legendName = "Treatment", conf.int = TRUE)
plotSurv(survDiff(fit3, newdata = newDat, type = "survival"),
         legendName = "Treatment", conf.int = TRUE, smooth = TRUE)

## extract MCMC samples
mcmc_list &lt;- bayesCoxMcmc(fit3, part = "coef")
posterior_coef &lt;- mcmc_list$coef
## posterior probabilities of hazard ratio of RadChem (vs. Rad)
## greater than 1 at time 10
posterior_coef[covariate == "trtRadChem" &amp; time == 10, mean(exp(coef) &gt; 1)]


## End(Not run)
</code></pre>

<hr>
<h2 id='bayesCoxMcmc'>Get the MCMC Samples from <code>bayesCox</code></h2><span id='topic+bayesCoxMcmc'></span>

<h3>Description</h3>

<p>Returns the MCMC samples produced by
<code>bayesCox</code> into data frames.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bayesCoxMcmc(object, parts = c("h0", "coef"), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bayesCoxMcmc_+3A_object">object</code></td>
<td>
<p>A <code>bayesCox</code> object</p>
</td></tr>
<tr><td><code id="bayesCoxMcmc_+3A_parts">parts</code></td>
<td>
<p>A character vector specifying the parts to be exacted from the
MCMC output text file produced by <code>bayesCox</code>.  One or more
following options can be specified: <code>"h0"</code> for baseline hazard
function, <code>"coef"</code> for covariate coefficients, <code>"nu"</code> for
sampled latent variance of coefficients, <code>"jump"</code> for indicators of
jumps, and <code>"all"</code> for all of the above.  The default value is
<code>c("h0", "beta")</code>.</p>
</td></tr>
<tr><td><code id="bayesCoxMcmc_+3A_...">...</code></td>
<td>
<p>Other arguments that are not used now.</p>
</td></tr>
</table>

<hr>
<h2 id='bcos'>Breast Cancer Data</h2><span id='topic+bcos'></span><span id='topic+bcos.grid'></span>

<h3>Description</h3>

<p>The breast cancer data from Finkelstein (1985) has been analyzed
extensively for illustrating new methods in modeling interval censored
data. The objective of the study was to compare the time to cosmetic
deterioration between two groups: 46 patients receiving radiotherapy only
and 48 patients receiving radiotherapy plus chemotherapy. Because the
detection of deterioration required a clinic visit, the 56 women who
experience deterioration were interval censored, and the other38 women who
did not were right censored.
</p>


<h3>Format</h3>

<p><code>bcos</code> is a data frame with 94 observations and 3 columns.
</p>

<dl>
<dt>left:</dt><dd><p>left censoring time;</p>
</dd>
<dt>right:</dt><dd><p>right censoring time;</p>
</dd>
<dt>trt:</dt><dd><p>treatment (<code>Rad</code> = radiotherapy only,
<code>RadChem</code> = radiotherapy plus chemotherapy).</p>
</dd>
</dl>

<p><code>bcos.grid</code> is a numeric vector of grid time points.
</p>


<h3>References</h3>

<p>D.M. Finkelstein, and R.A. Wolfe (1985). A semiparametric model
for regression analysis of interval-censored failure time data.
<em>Biometrics</em> 41: 731&ndash;740.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(bcos)
</code></pre>

<hr>
<h2 id='coef.bayesCox'>Extract Coefficients from Bayesian Cox Model</h2><span id='topic+coef.bayesCox'></span>

<h3>Description</h3>

<p>Extract coefficient values from <code>bayesCox</code> fitting results, and
summarize the posterior mean, posterior 2.5% and 97.5% quantiles into a
data frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'bayesCox'
coef(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="coef.bayesCox_+3A_object">object</code></td>
<td>
<p>An object returned by function <code>bayesCox</code>.</p>
</td></tr>
<tr><td><code id="coef.bayesCox_+3A_...">...</code></td>
<td>
<p>Optional arguments. Currently, the only applicable arguemnt is
<code>level</code> for the credible level. The default value is 0.95.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame with 6 columns <code>("Low", "Mid", "High", "Time",
"Cov", "Model")</code>, where <code>"Low"</code> and <code>"High"</code> are the posterior
2.5% and 97.5% quantiles as default; <code>"Mid"</code> is the posterior mean;
<code>"Cov"</code> and <code>"Model"</code> contain character values of the covariates
and model types.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bayesCox">bayesCox</a></code>, and <code><a href="#topic+plotCoef">plotCoef</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## See the examples in bayesCox.

</code></pre>

<hr>
<h2 id='coef.splineCox'>Extract Coefficients from Spline Base Cox Model</h2><span id='topic+coef.splineCox'></span>

<h3>Description</h3>

<p>Extract coefficient values from <code>splineCox</code> fitting results, and
summarize the point estimate and 95% confidence band into a data frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'splineCox'
coef(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="coef.splineCox_+3A_object">object</code></td>
<td>
<p>An object returned by function <code>splineCox</code>.</p>
</td></tr>
<tr><td><code id="coef.splineCox_+3A_...">...</code></td>
<td>
<p>Optional arguments. Currently, the only applicable arguemnt is
<code>level</code> for the credible level. The default value is 0.95.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame with 6 columns <code>("Low", "Mid", "High", "Time",
    "Cov", "Model")</code>, where <code>"Mid"</code> is the point estimates;
<code>"Low"</code> and <code>"High"</code> are the point estimates plus and minus
1.96 times standard deviations (under default level); <code>"Cov"</code> and
<code>"Model"</code> contain character values of the covariates and model
type.
</p>


<h3>Note</h3>

<p>It essentially expand the break points, and then call function
<code>coxph</code> in package <code>survival</code>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+splineCox">splineCox</a></code>, and <code><a href="#topic+plotCoef">plotCoef</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## See the examples in splineCox.

</code></pre>

<hr>
<h2 id='coef.tvTran'>Extract Coefficients from Time-varying Transformation Model</h2><span id='topic+coef.tvTran'></span>

<h3>Description</h3>

<p>Extract coefficient values from <code>tvTran</code> fitting results, and
summarize the point estimate and 95% credible band into a data frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'tvTran'
coef(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="coef.tvTran_+3A_object">object</code></td>
<td>
<p>An object returned by function <code>tvTran</code>.</p>
</td></tr>
<tr><td><code id="coef.tvTran_+3A_...">...</code></td>
<td>
<p>Optional arguments. Currently, the only applicable arguemnt is
<code>level</code> for the credible level. The default value is 0.95.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame with 6 columns <code>("Low", "Mid", "High", "Time",
    "Cov", "Model")</code>, where <code>"Mid"</code> is the point estimates;
<code>"Low"</code> and <code>"High"</code> are the 2.5% and 97.5% quantiles
estimates from resampling method as default; <code>"Cov"</code> and
<code>"Model"</code> contain character values of the covariates and model
type.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+tvTran">tvTran</a></code>, and <code><a href="#topic+plotCoef">plotCoef</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## See the examples in tvTran.
</code></pre>

<hr>
<h2 id='is.bayesCox'>Is <code>bayesCox</code> Class Object</h2><span id='topic+is.bayesCox'></span>

<h3>Description</h3>

<p>Checks if the input object is of Class <code>bayesCox</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.bayesCox(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is.bayesCox_+3A_object">object</code></td>
<td>
<p>An R object.</p>
</td></tr>
</table>

<hr>
<h2 id='jump'>Generic function for jump information</h2><span id='topic+jump'></span><span id='topic+jump.bayesCox'></span>

<h3>Description</h3>

<p>Generic function for jump information
</p>


<h3>Usage</h3>

<pre><code class='language-R'>jump(object, ...)

## S3 method for class 'bayesCox'
jump(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="jump_+3A_object">object</code></td>
<td>
<p>An object returned by function <code>bayesCox</code>.</p>
</td></tr>
<tr><td><code id="jump_+3A_...">...</code></td>
<td>
<p>Other arguments.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame with 3 columns <code>("Count", "Iter", "Cov")</code>, where
<code>"Count"</code> is the number of coefficient pieces (jumps) for each
iteration; <code>Iter</code> is the iteration number; <code>Cov</code> contains the
character values of the covariates.
</p>


<h3>Methods (by class)</h3>


<ul>
<li> <p><code>jump(bayesCox)</code>: Extract Jump Information from Bayesian Dyanmic Model
</p>
<p>Extract number of coefficient pieces from <code>bayesCox</code> fitting results,
and summarize them into a data frame. It is only applicable when
<code>model="Dynamic"</code> is specified.
</p>
</li></ul>


<h3>See Also</h3>

<p><code><a href="#topic+bayesCox">bayesCox</a></code>, <code><a href="#topic+plotJumpTrace">plotJumpTrace</a></code>, and
<code><a href="#topic+plotJumpHist">plotJumpHist</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## See the examples in bayesCox

</code></pre>

<hr>
<h2 id='nu'>Generic function for the latent variance of coefficients</h2><span id='topic+nu'></span><span id='topic+nu.bayesCox'></span>

<h3>Description</h3>

<p>Generic function for the latent variance of coefficients
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nu(object, ...)

## S3 method for class 'bayesCox'
nu(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nu_+3A_object">object</code></td>
<td>
<p>An object returned by function <code>bayesCox</code>.</p>
</td></tr>
<tr><td><code id="nu_+3A_...">...</code></td>
<td>
<p>Other arguments.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame with 4 columns <code>("Iter", "Model", "Cov",
"Value")</code>, where <code>Iter</code> is the iteration number; <code>Model</code> and
<code>Cov</code> contain the character values of the model type and covariates.
</p>


<h3>Methods (by class)</h3>


<ul>
<li> <p><code>nu(bayesCox)</code>: Extract Latent Variance from Bayesian Cox Model
</p>
<p>Extract latent variance of coefficients from <code>bayesCox</code> fitting
results, and summarize them into a data frame. It is applicable when
<code>model="TimeVarying"</code> or <code>model="Dynamic"</code>, and
<code>coef.prior=list(type="HAR1")</code>.
</p>
<p>For details, see section on prior model in Wang (2013) and Wang (2014).
The latent variance of coefficients in prior model was denoted as omega
in Wang (2013).
</p>
</li></ul>


<h3>References</h3>

<p>X. Wang, M.-H. Chen, and J. Yan (2013). Bayesian dynamic regression
models for interval censored survival data with application to children
dental health. Lifetime data analysis, 19(3), 297&ndash;316.
</p>
<p>X. Wang, X. Sinha, J. Yan, and M.-H. Chen (2014). Bayesian inference of
interval-censored survival data. In: D. Chen, J. Sun, and K. Peace,
Interval-censored time-to-event data: Methods and applications, 167&ndash;195.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bayesCox">bayesCox</a></code>, and <code><a href="#topic+plotNu">plotNu</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## See the examples in bayesCox.

</code></pre>

<hr>
<h2 id='plotCoef'>Plot Coefficient Function</h2><span id='topic+plotCoef'></span>

<h3>Description</h3>

<p>Plot coefficient values formatted in a data frame returned by function
<code>coef</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotCoef(object, smooth = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plotCoef_+3A_object">object</code></td>
<td>
<p>A data.frame returned by function <code>coef</code>.</p>
</td></tr>
<tr><td><code id="plotCoef_+3A_smooth">smooth</code></td>
<td>
<p>A logical value, default <code>FALSE</code>. If <code>TRUE</code>, plot
the coefficients as smooth lines; otherwise, plot the coefficients as
piece-wise constant step functions.</p>
</td></tr>
<tr><td><code id="plotCoef_+3A_...">...</code></td>
<td>
<p>Other arguments.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To plot estimated coefficient functions from different models together, one
can first combine the data frames returned by <code>coef</code>, and then call
<code>plotCoef</code>, for example, <code>plotCoef(rbind(coef(fit1),
coef(fit2)))</code>.
</p>
<p>To specify the time range of the plot, one can either utilize the
<code>ggplot</code> functionality, say <code>plotCoef(coef(fit)) + xlim(2, 10)</code>;
or manipulate the data frame first before calling <code>plotCoef</code>, e.g.,
<code>plotCoef(subset(coef(fit), Time &gt; 2 &amp; Time &lt; 10))</code>.
</p>


<h3>Value</h3>

<p>A <code>ggplot</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+coef.bayesCox">coef.bayesCox</a></code>, <code><a href="#topic+coef.splineCox">coef.splineCox</a></code>, and
<code><a href="#topic+coef.tvTran">coef.tvTran</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## See the examples in bayesCox, splineCox, and tvTran.
</code></pre>

<hr>
<h2 id='plotJump'>Plot Jump Information in Bayesian Dynamic Model</h2><span id='topic+plotJump'></span><span id='topic+plotJumpTrace'></span><span id='topic+plotJumpHist'></span>

<h3>Description</h3>

<p><code>plotJumpTrace</code> plots the MCMC history of the number of pieces.
<code>plotJumpHist</code> plots the histogram of the number of pieces. The input
data frame is returned by function <code>jump</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotJumpTrace(object, ...)

plotJumpHist(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plotJump_+3A_object">object</code></td>
<td>
<p>A data.frame returned by function <code>jump</code>.</p>
</td></tr>
<tr><td><code id="plotJump_+3A_...">...</code></td>
<td>
<p>Other arguments.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>ggplot</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+jump.bayesCox">jump.bayesCox</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## See the examples in bayesCox
</code></pre>

<hr>
<h2 id='plotNu'>Plot Latent Variance in Bayesian Cox Model</h2><span id='topic+plotNu'></span>

<h3>Description</h3>

<p>Plot the latent variance <code>nu</code> when the hierarchical AR(1) process
prior is used for the <code>bayesCox</code> model. It is applicable when
<code>model="TimeVarying"</code> or <code>model="Dynamic"</code>, and
<code>coef.prior=list(type="HAR1")</code>. The input data frame is returned by
function <code>nu</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotNu(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plotNu_+3A_object">object</code></td>
<td>
<p>A data.frame returned by the function <code>nu</code>.</p>
</td></tr>
<tr><td><code id="plotNu_+3A_...">...</code></td>
<td>
<p>Other arguments.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>ggplot</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+nu.bayesCox">nu.bayesCox</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## See the examples in bayesCox
</code></pre>

<hr>
<h2 id='plotSurv'>Plot Survival Curves (or Cumulative Hazard Function) and their difference</h2><span id='topic+plotSurv'></span>

<h3>Description</h3>

<p>Plot the survival curves (or cumulative hazard) and their difference for
objects returned by function <code>survCurve</code> or <code>survDiff</code>.  By using
<code>ggplot2</code> plotting system, the plots generated are able to be further
customized properly.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotSurv(
  object,
  legendName = "",
  conf.int = FALSE,
  smooth = FALSE,
  lty,
  col,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plotSurv_+3A_object">object</code></td>
<td>
<p>An object returned by function <code>survCurve</code> or
<code>survDiff</code>.</p>
</td></tr>
<tr><td><code id="plotSurv_+3A_legendname">legendName</code></td>
<td>
<p>An optional name for the figure legend.</p>
</td></tr>
<tr><td><code id="plotSurv_+3A_conf.int">conf.int</code></td>
<td>
<p>A logical value indicating whether to plot the credible
interval(s).</p>
</td></tr>
<tr><td><code id="plotSurv_+3A_smooth">smooth</code></td>
<td>
<p>A logical value, default <code>FALSE</code>. If <code>TRUE</code>, plot
the coefficients as smooth lines; otherwise, plot the coefficients as
piece-wise constant step functions.</p>
</td></tr>
<tr><td><code id="plotSurv_+3A_lty">lty</code></td>
<td>
<p>An optional numeric vector indicating line types specified to
different groups: 0 = blank, 1 = solid, 2 = dashed, 3 = dotted, 4 =
dotdash, 5 = longdash, 6 = twodash.</p>
</td></tr>
<tr><td><code id="plotSurv_+3A_col">col</code></td>
<td>
<p>An optional character or numeric vector indicating line colors
specified to different groups.</p>
</td></tr>
<tr><td><code id="plotSurv_+3A_...">...</code></td>
<td>
<p>Other arguments for future usage.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>ggplot</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bayesCox">bayesCox</a></code>, <code><a href="#topic+survCurve">survCurve</a></code>, and
<code><a href="#topic+survDiff">survDiff</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## See the examples in bayesCox.

</code></pre>

<hr>
<h2 id='reexports'>Objects exported from other packages</h2><span id='topic+reexports'></span><span id='topic+Surv'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>survival</dt><dd><p><code><a href="survival.html#topic+Surv">Surv</a></code></p>
</dd>
</dl>

<hr>
<h2 id='splineCox'>Fit Spline Based Cox Model for Right Censored Survival Data</h2><span id='topic+splineCox'></span>

<h3>Description</h3>

<p>Rearrange the rignt censored survival data in a counting process style.
Model the time-varying coefficient function using B-splines. The fit is
done by introducing pseudo time-dependent covariates and then calling
function <code>coxph</code> in <span class="pkg">survival</span> package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>splineCox(formula, data, control = list())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="splineCox_+3A_formula">formula</code></td>
<td>
<p>A formula object, with the response on the left of a '~'
operator, and the terms on the right. The response must be a survival
object as returned by the <code>Surv</code> function.</p>
</td></tr>
<tr><td><code id="splineCox_+3A_data">data</code></td>
<td>
<p>A data.frame in which to interpret the variables named in the
<code>formula</code>.</p>
</td></tr>
<tr><td><code id="splineCox_+3A_control">control</code></td>
<td>
<p>List of control options.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>control</code> argument is a list of components:
</p>

<dl>
<dt>df:</dt><dd>
<p>degree of freedom for the B-splines, default 5;</p>
</dd>
<dt>knots:</dt><dd><p>interior knots point, default <code>NULL</code>. If
<code>NULL</code>, the knots will be automatically choosen;</p>
</dd>
<dt>boundary:</dt><dd><p>lower and upper boundaries for the spline
function, default <code>NULL</code>. If <code>NULL</code>, the minimun
and maximun finite event time or censoring time will be
specified.</p>
</dd>
</dl>



<h3>Value</h3>

<p>An object of S3 class <code>splineCox</code> representing the fit.
</p>


<h3>Note</h3>

<p>This function is essentially a wrapper function of <code>coxph</code> for
the expanded data set. It does not implements the algorithm disscussed in
the reference paper. These authors implemented their algorithm into a
<code>tvcox</code> package, which is more efficient for larger data set, but may
not be stable compared to <code>coxph</code>.
</p>


<h3>References</h3>

<p>Perperoglou, A., le Cessie, S., &amp; van Houwelingen, H. C. (2006). A fast
routine for fitting Cox models with time varying effects of the
covariates. Computer Methods and Programs in Biomedicine, 81(2), 154&ndash;161.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+coef.splineCox">coef.splineCox</a></code>, <code><a href="#topic+plotCoef">plotCoef</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## Attach the veteran data from the survival package
mydata &lt;- survival::veteran
mydata$celltype &lt;- relevel(mydata$celltype, ref = "large")
myformula &lt;- Surv(time, status) ~ karno + celltype

## Fit the time-varying transformation model
fit &lt;- splineCox(myformula, mydata, control = list(df = 5))

## Plot the time-varying coefficient function between two time points
plotCoef(subset(coef(fit), Time &gt; 15 &amp; Time &lt; 175), smooth = TRUE)

## End(Not run)
</code></pre>

<hr>
<h2 id='survCurve'>Estimated Survival Function or Cumulative Hazard Function</h2><span id='topic+survCurve'></span>

<h3>Description</h3>

<p>Estimated survival function or cumulative hazard function from posterior
sample for an object returned by function <code>bayesCox</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>survCurve(
  object,
  newdata,
  type = c("survival", "cumhaz"),
  level = 0.95,
  centered = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="survCurve_+3A_object">object</code></td>
<td>
<p>An object returned by function <code>bayesCox</code>.</p>
</td></tr>
<tr><td><code id="survCurve_+3A_newdata">newdata</code></td>
<td>
<p>An optional data frame used to generate a design matrix.</p>
</td></tr>
<tr><td><code id="survCurve_+3A_type">type</code></td>
<td>
<p>An optional character value indicating the type of function to
compute. The possible values are &quot;survival&quot; and &quot;cumhaz&quot;. The former
means the estimated survival function; the latter represents the
estimated cumulative hazard function for the given <code>newdata</code>.</p>
</td></tr>
<tr><td><code id="survCurve_+3A_level">level</code></td>
<td>
<p>A numerical value between 0 and 1 indicating the level of
cradible band.</p>
</td></tr>
<tr><td><code id="survCurve_+3A_centered">centered</code></td>
<td>
<p>A logical value. If <code>TRUE</code>, the mean function for the
given <code>newdata</code> will be computed. The default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="survCurve_+3A_...">...</code></td>
<td>
<p>Other arguments for further usage.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The estimated survival curve is a step function representing the posterior
mean survival proportion at the given time grid from the posterior sample.
The credible interval for the survival curve is constructed based on the
quantiles of all the survival curves from posterior sample at given credible
level. More details were available in Section posterior computation of Wang
(2016).
</p>


<h3>Value</h3>

<p>A data frame with column: &quot;Low&quot;, &quot;Mid&quot;, &quot;High&quot;, &quot;Time&quot;, &quot;Design&quot;,
and &quot;type&quot;, and attribute, &quot;surv&quot; valued as &quot;survCurve&quot;.
</p>


<h3>References</h3>

<p>Wang, W., Chen, M. H., Chiou, S. H., Lai, H. C., Wang, X., Yan, J.,
&amp; Zhang, Z. (2016). Onset of persistent pseudomonas aeruginosa infection in
children with cystic fibrosis with interval censored data.
<em>BMC Medical Research Methodology</em>, 16(1), 122.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bayesCox">bayesCox</a></code>,
<code><a href="#topic+survDiff">survDiff</a></code>, and
<code><a href="#topic+plotSurv">plotSurv</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## See the examples in bayesCox.

</code></pre>

<hr>
<h2 id='survDiff'>Estimated Difference Between Survival or Cumulative Hazard Functions</h2><span id='topic+survDiff'></span>

<h3>Description</h3>

<p><code>survDiff</code> returns estimated survival function or cumulative function
from posterior estimates. Note that currently, the function is only
applicable to the Bayesian dynamic Cox model with dynamic hazard, where the
control argument is specified to be <code>control = list(intercept = TRUE)</code>
in function <code>bayesCox</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>survDiff(object, newdata, type = c("survival", "cumhaz"), level = 0.95, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="survDiff_+3A_object">object</code></td>
<td>
<p>An object returned by function <code>bayesCox</code>.</p>
</td></tr>
<tr><td><code id="survDiff_+3A_newdata">newdata</code></td>
<td>
<p>An optional data frame used to generate a design matrix.
Note that it must lead to a design matrix with two different design.</p>
</td></tr>
<tr><td><code id="survDiff_+3A_type">type</code></td>
<td>
<p>An optional character value indicating the type of function to
compute. The possible values are &quot;survival&quot; and &quot;cumhaz&quot;. The former
means the estimated survival function; the latter represents the
estimated cumulative hazard function for the given <code>newdata</code>.</p>
</td></tr>
<tr><td><code id="survDiff_+3A_level">level</code></td>
<td>
<p>A numerical value between 0 and 1 indicating the level of
cradible band.</p>
</td></tr>
<tr><td><code id="survDiff_+3A_...">...</code></td>
<td>
<p>Other arguments for further usage.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The estimated difference between survival curves is a step function
representing the difference between the posterior mean survival proportion
at the given time grid from the posterior sample.  Its credible interval is
constructed based on the quantiles of all the pair difference between the
survival curves from posterior sample at given credible level.
</p>


<h3>Value</h3>

<p>A data frame with column: &quot;Low&quot;, &quot;Mid&quot;, &quot;High&quot;, &quot;Time&quot;, &quot;Design&quot;,
and &quot;type&quot;, and attribute, &quot;surv&quot; valued as &quot;survDiff&quot;.
</p>


<h3>References</h3>

<p>Wang, W., Chen, M. H., Chiou, S. H., Lai, H. C., Wang, X., Yan, J.,
&amp; Zhang, Z. (2016). Onset of persistent pseudomonas aeruginosa infection in
children with cystic fibrosis with interval censored data.
<em>BMC Medical Research Methodology</em>, 16(1), 122.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bayesCox">bayesCox</a></code>, <code><a href="#topic+survCurve">survCurve</a></code>, and <code><a href="#topic+plotSurv">plotSurv</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## See the examples in bayesCox.

</code></pre>

<hr>
<h2 id='tooth'>Tooth Data</h2><span id='topic+tooth'></span><span id='topic+tooth.grid'></span>

<h3>Description</h3>

<p>The tooth data was from a longitudinal prospective dental study performed
in Flanders (Belgium) in 1996 &ndash; 2001. Every one of 4,386 randomly sampled
children in the cohort was examined annually by one of 16 trained dentists,
resulting at most 6 dental observations for each child. The outcome of
interest was the time to emergence of permanent tooth 24, which was either
interval censored (2,775, 63%) or right censored (1,611, 37%).
</p>


<h3>Format</h3>

<p><code>tooth</code> is a data frame with 4,386 observations and 7 columns
</p>

<dl>
<dt>id:</dt><dd><p>children's id;</p>
</dd>
<dt>left:</dt><dd><p>left censoring time;</p>
</dd>
<dt>right:</dt><dd><p>right censoring time where infinity is coded as 999.</p>
</dd>
<dt>sex:</dt><dd><p>gender of children (0 = boy, 1 = girl);</p>
</dd>
<dt>dmf:</dt><dd><p>status of the primary predecessor of this tooth (0 = sound,
1 = delayed, missing or filled);</p>
</dd>
<dt>rightInf:</dt><dd><p>right censoring time where infinity is coded as
<code>Inf</code>;</p>
</dd>
<dt>rightNA:</dt><dd><p>right censoring time where infinity is coded as
<code>NA</code>.</p>
</dd>
</dl>

<p><code>tooth.grid</code> is a numeric vector of grid time points.
</p>


<h3>Source</h3>

<p>Adapted from the data set available at
<a href="https://grass.upc.edu/en/software/tooth24">https://grass.upc.edu/en/software/tooth24</a>.
</p>


<h3>References</h3>

<p>J. Vanobbergen, L. Martens, D. Declerck, and M. Lesaffre
(2000). The signal tandmobiel(r) project: a longitudinal intervention oral
health promotion study in Flanders (Belgium): baseline and first year
results. <em>European Journal of Paediatric Dentistry</em> 2, 87.
</p>
<p>G. Gomez, M. Calle, R. Oller, and K. Langohr (2009). Tutorial on methods
for interval-censored data and their implementation in R. <em>Statistical
Modeling</em> 9(4), 259.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(tooth)
</code></pre>

<hr>
<h2 id='tvTran'>Fit Time-varying Transformation Model for Right Censored Survival Data</h2><span id='topic+tvTran'></span>

<h3>Description</h3>

<p>Unlike the time-varying coefficient Cox model, the transformation model
fomulates the temporal covariate effects in terms of survival function,
i.e., </p>
<p style="text-align: center;"><code class="reqn">S(t|X) = g(\beta_0(t)' X),</code>
</p>
<p> where <code class="reqn">g(z) = exp(- exp(z))</code>.
It can be viewed as a functional generalized linear model with response
<code class="reqn">I(T &gt; t)</code>, and other transformation function is possible. The
time-varying coefficients are solved a set of estimating equations
sequentially.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tvTran(formula, data, control = list())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tvTran_+3A_formula">formula</code></td>
<td>
<p>A formula object, with the response on the left of a '~'
operator, and the terms on the right. The response must be a survival
object as returned by the <code>Surv</code> function.</p>
</td></tr>
<tr><td><code id="tvTran_+3A_data">data</code></td>
<td>
<p>A data.frame in which to interpret the variables named in the
<code>formula</code>.</p>
</td></tr>
<tr><td><code id="tvTran_+3A_control">control</code></td>
<td>
<p>List of control options.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note that because the time-varying coefficient function is connected to the
survival function, it has a different interpretation of the time-varying
coefficient function in Cox model.
</p>
<p>The <code>control</code> argument is a list of components:
</p>

<dl>
<dt>resample</dt><dd><p>A logical value, default <code>TRUE</code>. If
<code>TRUE</code>, the model will estimate a 95% confidence band by
resampling method.</p>
</dd>
<dt>R</dt><dd><p>Number of resamplings, default 30.</p>
</dd>
</dl>



<h3>Value</h3>

<p>An object of S3 class <code>tvTran</code> representing the fit.
</p>


<h3>References</h3>

<p>Peng, L. and Huang, Y. (2007). Survival analysis with temporal covariate
effects. <em>Biometrika</em> 94(3), 719&ndash;733.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+coef.tvTran">coef.tvTran</a></code>, <code><a href="#topic+plotCoef">plotCoef</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## Attach the veteran data from the survival package
mydata &lt;- survival::veteran
mydata$celltype &lt;- relevel(mydata$celltype, ref = "large")
myformula &lt;- Surv(time, status) ~ karno + celltype

## Fit the time-varying transformation model
fit &lt;- tvTran(myformula, mydata, control = list(resample = TRUE, R = 30))

## Plot the time-varying coefficient function between two time points
plotCoef(subset(coef(fit), Time &gt; 15 &amp; Time &lt; 175))

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package cleanr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {cleanr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#cleanr-package'><p>Helps You to Code Cleaner</p></a></li>
<li><a href='#check_directory'><p>Check a Directory</p></a></li>
<li><a href='#check_file'><p>Check a File</p></a></li>
<li><a href='#check_file_layout'><p>Check a File's Layout</p></a></li>
<li><a href='#check_function_layout'><p>Check a Function's Layout</p></a></li>
<li><a href='#check_functions_in_file'><p>Check All Functions Defined in a File</p></a></li>
<li><a href='#check_package'><p>Check a Package</p></a></li>
<li><a href='#file_checks'><p>File Checks</p></a></li>
<li><a href='#function_checks'><p>Function Checks</p></a></li>
<li><a href='#get_cleanr_options'><p>Get options for <span class="pkg">cleanr</span></p></a></li>
<li><a href='#get_function_body'><p>get the body of a function</p></a></li>
<li><a href='#is_not_false'><p>Test if an Object is not False</p></a></li>
<li><a href='#load_internal_functions'><p>Load a Package's Internals</p></a></li>
<li><a href='#set_cleanr_options'><p>Set Options for <span class="pkg">cleanr</span></p></a></li>
<li><a href='#throw'><p>Throw a Condition</p></a></li>
<li><a href='#tidy_findings'><p>tidy findings</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Helps You to Code Cleaner</td>
</tr>
<tr>
<td>Version:</td>
<td>1.4.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Check your R code for some of the most common
    layout flaws.  Many tried to teach us how to write code less dreadful,
    be it implicitly as B. W. Kernighan and D. M. Ritchie (1988)
    &lt;ISBN:0-13-110362-8&gt; in 'The C Programming Language' did, be it
    explicitly as R.C. Martin (2008) &lt;ISBN:0-13-235088-2&gt; in 'Clean Code:
    A Handbook of Agile Software Craftsmanship' did.  So we should check
    our code for files too long or wide, functions with too many lines,
    too wide lines, too many arguments or too many levels of nesting.
    Note: This is not a static code analyzer like pylint or the like.
    Checkout <a href="https://cran.r-project.org/package=lintr">https://cran.r-project.org/package=lintr</a> instead.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/BSD-2-Clause">BSD_2_clause</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://gitlab.com/fvafrcu/cleanr">https://gitlab.com/fvafrcu/cleanr</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.3.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>checkmate, fritools, pkgload, rprojroot</td>
</tr>
<tr>
<td>Suggests:</td>
<td>devtools, rasciidoc, rmarkdown, RUnit, testthat, usethis</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>rasciidoc</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Collate:</td>
<td>'utils.R' 'internals.R' 'checks.R' 'cleanr-package.R'
'options.R' 'throw.R' 'wrappers.R' 'zzz.R'</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-06-15 21:28:59 UTC; qwer</td>
</tr>
<tr>
<td>Author:</td>
<td>Andreas Dominik Cullmann [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Andreas Dominik Cullmann &lt;fvafrcu@mailbox.org&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-06-16 08:30:24 UTC</td>
</tr>
</table>
<hr>
<h2 id='cleanr-package'>Helps You to Code Cleaner</h2><span id='topic+cleanr-package'></span>

<h3>Description</h3>

<p>Check your R code for some of the most common layout flaws.
</p>


<h3>Details</h3>

<p>Many tried to teach us how to write code less dreadful, be it implicitly as
B. W. Kernighan and D. M. Ritchie in <cite>The C Programming Language</cite> did,
be it explicitly as
R.C. Martin in <cite>Clean Code: A Handbook of Agile Software Craftsmanship</cite>
did.
</p>
<p>So we should check our code for files too long or wide, functions with too
many lines, too wide lines, too many arguments or too many levels of nesting.
</p>


<h3>Note</h3>

<p>This is not a static code analyzer like pylint or the like. If you're
looking for a static code analyzer, check out lintr
(<a href="https://cran.r-project.org/package=lintr">https://cran.r-project.org/package=lintr</a>).
</p>


<h3>See Also</h3>

<p>Packages
<span class="pkg">codetools</span>
(<a href="https://cran.r-project.org/package=codetools">https://cran.r-project.org/package=codetools</a>),
<span class="pkg">formatR</span>
(<a href="https://cran.r-project.org/package=formatR">https://cran.r-project.org/package=formatR</a>)
and
<span class="pkg">lintr</span>
(<a href="https://cran.r-project.org/package=lintr">https://cran.r-project.org/package=lintr</a>).
</p>

<hr>
<h2 id='check_directory'>Check a Directory</h2><span id='topic+check_directory'></span>

<h3>Description</h3>

<p>Run <code><a href="#topic+check_file">check_file</a></code> on files in a directory.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_directory(path, pattern = "\\.[rR]$", recursive = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_directory_+3A_path">path</code></td>
<td>
<p>Path to the directory to be checked.</p>
</td></tr>
<tr><td><code id="check_directory_+3A_pattern">pattern</code></td>
<td>
<p>A pattern to search files with, see <code><a href="base.html#topic+list.files">list.files</a></code>.</p>
</td></tr>
<tr><td><code id="check_directory_+3A_recursive">recursive</code></td>
<td>
<p>Search the directory recursively?
See <code><a href="base.html#topic+list.files">list.files</a></code>.</p>
</td></tr>
<tr><td><code id="check_directory_+3A_...">...</code></td>
<td>
<p>Arguments to be passed to <code><a href="#topic+check_file">check_file</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function catches the messages of &quot;cleanr&quot;-conditions
<code><a href="#topic+throw">throw</a></code>n by <code><a href="#topic+check_file">check_file</a></code> and, if it caught any,
<code><a href="#topic+throw">throw</a></code>s them.
</p>


<h3>Value</h3>

<p><code><a href="base.html#topic+invisible">Invisibly</a></code> <code><a href="base.html#topic+TRUE">TRUE</a></code>,
but see <em>Details</em>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+check_package">check_package</a></code>.
</p>
<p>Other wrappers: 
<code><a href="#topic+check_file_layout">check_file_layout</a>()</code>,
<code><a href="#topic+check_file">check_file</a>()</code>,
<code><a href="#topic+check_function_layout">check_function_layout</a>()</code>,
<code><a href="#topic+check_functions_in_file">check_functions_in_file</a>()</code>,
<code><a href="#topic+check_package">check_package</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># load internal functions first.
load_internal_functions("cleanr")
print(cleanr::check_directory(system.file("source", "R", package = "cleanr"),
                              max_num_arguments = 8, max_file_width = 90,
                              max_file_length = 350,
                              check_return = FALSE))
</code></pre>

<hr>
<h2 id='check_file'>Check a File</h2><span id='topic+check_file'></span>

<h3>Description</h3>

<p>Run <code><a href="#topic+check_functions_in_file">check_functions_in_file</a></code> and
<code><a href="#topic+check_file_layout">check_file_layout</a></code> on a file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_file(path, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_file_+3A_path">path</code></td>
<td>
<p>Path to the file to be checked.</p>
</td></tr>
<tr><td><code id="check_file_+3A_...">...</code></td>
<td>
<p>Arguments to be passed to <code><a href="#topic+check_functions_in_file">check_functions_in_file</a></code> or
<code><a href="#topic+check_file_layout">check_file_layout</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function catches the messages of &quot;cleanr&quot;-conditions <code><a href="#topic+throw">throw</a></code>n
by <code><a href="#topic+check_functions_in_file">check_functions_in_file</a></code> and <code><a href="#topic+check_file_layout">check_file_layout</a></code>
and, if it
caught any, <code><a href="#topic+throw">throw</a></code>s them.
</p>


<h3>Value</h3>

<p><code><a href="base.html#topic+invisible">Invisibly</a></code> <code><a href="base.html#topic+TRUE">TRUE</a></code>,
but see <em>Details</em>.
</p>


<h3>See Also</h3>

<p>Other wrappers: 
<code><a href="#topic+check_directory">check_directory</a>()</code>,
<code><a href="#topic+check_file_layout">check_file_layout</a>()</code>,
<code><a href="#topic+check_function_layout">check_function_layout</a>()</code>,
<code><a href="#topic+check_functions_in_file">check_functions_in_file</a>()</code>,
<code><a href="#topic+check_package">check_package</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>print(cleanr::check_file(system.file("source", "R", "utils.R",
                                     package = "cleanr")))
</code></pre>

<hr>
<h2 id='check_file_layout'>Check a File's Layout</h2><span id='topic+check_file_layout'></span>

<h3>Description</h3>

<p>Run all <code><a href="#topic+file_checks">file_checks</a></code> on a file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_file_layout(
  path,
  max_file_length = get_cleanr_options("max_file_length"),
  max_file_width = get_cleanr_options("max_file_width")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_file_layout_+3A_path">path</code></td>
<td>
<p>Path to the file to be checked.</p>
</td></tr>
<tr><td><code id="check_file_layout_+3A_max_file_length">max_file_length</code></td>
<td>
<p>See <code><a href="#topic+check_file_length">check_file_length</a></code>.</p>
</td></tr>
<tr><td><code id="check_file_layout_+3A_max_file_width">max_file_width</code></td>
<td>
<p>See <code><a href="#topic+check_file_width">check_file_width</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function catches the messages of &quot;cleanr&quot;-conditions <code><a href="#topic+throw">throw</a></code>n
by <code><a href="#topic+file_checks">file_checks</a></code> and, if it caught any, <code><a href="#topic+throw">throw</a></code>s
them.
</p>


<h3>Value</h3>

<p><code><a href="base.html#topic+invisible">Invisibly</a></code> <code><a href="base.html#topic+TRUE">TRUE</a></code>,
but see <em>Details</em>.
</p>


<h3>See Also</h3>

<p>Other wrappers: 
<code><a href="#topic+check_directory">check_directory</a>()</code>,
<code><a href="#topic+check_file">check_file</a>()</code>,
<code><a href="#topic+check_function_layout">check_function_layout</a>()</code>,
<code><a href="#topic+check_functions_in_file">check_functions_in_file</a>()</code>,
<code><a href="#topic+check_package">check_package</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>print(cleanr::check_file_layout(system.file("source", "R", "checks.R",
                                            package = "cleanr")))
</code></pre>

<hr>
<h2 id='check_function_layout'>Check a Function's Layout</h2><span id='topic+check_function_layout'></span>

<h3>Description</h3>

<p>Run all <code><a href="#topic+function_checks">function_checks</a></code> on a function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_function_layout(
  object,
  function_name = NULL,
  max_lines_of_code = get_cleanr_options("max_lines_of_code"),
  max_lines = get_cleanr_options("max_lines"),
  max_num_arguments = get_cleanr_options("max_num_arguments"),
  max_nesting_depth = get_cleanr_options("max_nesting_depth"),
  max_line_width = get_cleanr_options("max_line_width"),
  check_return = get_cleanr_options("check_return")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_function_layout_+3A_object">object</code></td>
<td>
<p>The function to be checked.</p>
</td></tr>
<tr><td><code id="check_function_layout_+3A_function_name">function_name</code></td>
<td>
<p>The name to be used for reporting. Stick with the
default: If NULL, it is taken from the <code>object</code> given.
Argument is used internally to pass function names
retrieved via <code><a href="base.html#topic+get">get</a></code> in the wrapper function
<code><a href="#topic+check_functions_in_file">check_functions_in_file</a></code>.</p>
</td></tr>
<tr><td><code id="check_function_layout_+3A_max_lines_of_code">max_lines_of_code</code></td>
<td>
<p>See <code><a href="#topic+check_num_lines_of_code">check_num_lines_of_code</a></code>.</p>
</td></tr>
<tr><td><code id="check_function_layout_+3A_max_lines">max_lines</code></td>
<td>
<p>See <code><a href="#topic+check_num_lines">check_num_lines</a></code>.</p>
</td></tr>
<tr><td><code id="check_function_layout_+3A_max_num_arguments">max_num_arguments</code></td>
<td>
<p>See <code><a href="#topic+check_num_arguments">check_num_arguments</a></code>.</p>
</td></tr>
<tr><td><code id="check_function_layout_+3A_max_nesting_depth">max_nesting_depth</code></td>
<td>
<p>See <code><a href="#topic+check_nesting_depth">check_nesting_depth</a></code>.</p>
</td></tr>
<tr><td><code id="check_function_layout_+3A_max_line_width">max_line_width</code></td>
<td>
<p>See <code><a href="#topic+check_line_width">check_line_width</a></code>.</p>
</td></tr>
<tr><td><code id="check_function_layout_+3A_check_return">check_return</code></td>
<td>
<p>See <code><a href="#topic+check_return">check_return</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The functions catches the messages of &quot;cleanr&quot;-conditions
<code><a href="#topic+throw">throw</a></code>n by <code><a href="#topic+function_checks">function_checks</a></code> and, if it caught any,
<code><a href="#topic+throw">throw</a></code>s them.
</p>


<h3>Value</h3>

<p><code><a href="base.html#topic+invisible">Invisibly</a></code> <code><a href="base.html#topic+TRUE">TRUE</a></code>,
but see <em>Details</em>.
</p>


<h3>See Also</h3>

<p>Other wrappers: 
<code><a href="#topic+check_directory">check_directory</a>()</code>,
<code><a href="#topic+check_file_layout">check_file_layout</a>()</code>,
<code><a href="#topic+check_file">check_file</a>()</code>,
<code><a href="#topic+check_functions_in_file">check_functions_in_file</a>()</code>,
<code><a href="#topic+check_package">check_package</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>print(cleanr::check_function_layout(cleanr::check_num_lines))
</code></pre>

<hr>
<h2 id='check_functions_in_file'>Check All Functions Defined in a File</h2><span id='topic+check_functions_in_file'></span>

<h3>Description</h3>

<p>Run <code><a href="#topic+check_function_layout">check_function_layout</a></code> on all functions defined in a file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_functions_in_file(path, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_functions_in_file_+3A_path">path</code></td>
<td>
<p>Path to the file to be checked.</p>
</td></tr>
<tr><td><code id="check_functions_in_file_+3A_...">...</code></td>
<td>
<p>Arguments to be passed to <code><a href="#topic+check_function_layout">check_function_layout</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The functions catches the messages of &quot;cleanr&quot;-conditions
<code><a href="#topic+throw">throw</a></code>n by <code><a href="#topic+check_function_layout">check_function_layout</a></code> and,
if it caught any, <code><a href="#topic+throw">throw</a></code>s them.
</p>


<h3>Value</h3>

<p><code><a href="base.html#topic+invisible">Invisibly</a></code> <code><a href="base.html#topic+TRUE">TRUE</a></code>,
but see <em>Details</em>.
</p>


<h3>See Also</h3>

<p>Other wrappers: 
<code><a href="#topic+check_directory">check_directory</a>()</code>,
<code><a href="#topic+check_file_layout">check_file_layout</a>()</code>,
<code><a href="#topic+check_file">check_file</a>()</code>,
<code><a href="#topic+check_function_layout">check_function_layout</a>()</code>,
<code><a href="#topic+check_package">check_package</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>print(cleanr::check_functions_in_file(system.file("source", "R", "utils.R",
                                                  package = "cleanr")))
</code></pre>

<hr>
<h2 id='check_package'>Check a Package</h2><span id='topic+check_package'></span>

<h3>Description</h3>

<p>Run <code><a href="#topic+check_file">check_file</a></code> on a package's source.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_package(path, pattern = "\\.[rR]$", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_package_+3A_path">path</code></td>
<td>
<p>Path to the package to be checked.</p>
</td></tr>
<tr><td><code id="check_package_+3A_pattern">pattern</code></td>
<td>
<p>A pattern to search files with, see <code><a href="base.html#topic+list.files">list.files</a></code>.</p>
</td></tr>
<tr><td><code id="check_package_+3A_...">...</code></td>
<td>
<p>Arguments to be passed to <code><a href="#topic+check_file">check_file</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function catches the messages of &quot;cleanr&quot;-conditions
<code><a href="#topic+throw">throw</a></code>n by <code><a href="#topic+check_file">check_file</a></code> and, if it caught any,
<code><a href="#topic+throw">throw</a></code>s them.
</p>


<h3>Value</h3>

<p><code><a href="base.html#topic+invisible">Invisibly</a></code> <code><a href="base.html#topic+TRUE">TRUE</a></code>,
but see <em>Details</em>.
</p>


<h3>See Also</h3>

<p>Other wrappers: 
<code><a href="#topic+check_directory">check_directory</a>()</code>,
<code><a href="#topic+check_file_layout">check_file_layout</a>()</code>,
<code><a href="#topic+check_file">check_file</a>()</code>,
<code><a href="#topic+check_function_layout">check_function_layout</a>()</code>,
<code><a href="#topic+check_functions_in_file">check_functions_in_file</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># create a fake package first:
package_path &lt;- file.path(tempdir(), "fake")
usethis::create_package(package_path, fields = NULL,
                        rstudio = FALSE, open = FALSE)
directory &lt;- system.file("runit_tests", "source", "R_s4",
                         package = "cleanr")
file.copy(list.files(directory, full.names = TRUE), file.path(package_path,
                                                              "R"))
RUnit::checkTrue(cleanr::check_package(package_path, check_return = FALSE))
</code></pre>

<hr>
<h2 id='file_checks'>File Checks</h2><span id='topic+file_checks'></span><span id='topic+check_file_width'></span><span id='topic+check_file_length'></span>

<h3>Description</h3>

<p>A set of tiny functions to check that files adhere to a layout style.
A file should have a clear layout, it should
</p>

<ul>
<li><p> not have too many lines and
</p>
</li>
<li><p> not have lines too wide.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>check_file_width(path, max_file_width = gco("max_file_width"))

check_file_length(path, max_file_length = gco("max_file_length"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="file_checks_+3A_path">path</code></td>
<td>
<p>Path to the file to be checked.</p>
</td></tr>
<tr><td><code id="file_checks_+3A_max_file_width">max_file_width</code></td>
<td>
<p>The maximum line width accepted.
Set (preferably via <code><a href="#topic+set_cleanr_options">set_cleanr_options</a></code>) to <code>NULL</code> or
<code>FALSE</code> to disable the check.</p>
</td></tr>
<tr><td><code id="file_checks_+3A_max_file_length">max_file_length</code></td>
<td>
<p>The maximum number of lines accepted.
Set (preferably via <code><a href="#topic+set_cleanr_options">set_cleanr_options</a></code>) to <code>NULL</code> or
<code>FALSE</code> to disable the check.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In case of a fail all <code><a href="#topic+file_checks">file_checks</a></code> <code><a href="#topic+throw">throw</a></code> a
condition of class c(&quot;cleanr&quot;, &quot;error&quot;, &quot;condition&quot;).
</p>


<h3>Value</h3>

<p><code><a href="base.html#topic+invisible">Invisibly</a></code> <code><a href="base.html#topic+TRUE">TRUE</a></code>,
but see <em>Details</em>.
</p>


<h3>See Also</h3>

<p>Other check functions: 
<code><a href="#topic+function_checks">function_checks</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>print(cleanr::check_file_width(system.file("source", "R", "checks.R",
                                           package = "cleanr")))
print(cleanr::check_file_length(system.file("source", "R", "checks.R",
                                            package = "cleanr"),
                                            max_file_length = 300))
</code></pre>

<hr>
<h2 id='function_checks'>Function Checks</h2><span id='topic+function_checks'></span><span id='topic+check_num_arguments'></span><span id='topic+check_nesting_depth'></span><span id='topic+check_num_lines'></span><span id='topic+check_num_lines_of_code'></span><span id='topic+check_line_width'></span><span id='topic+check_return'></span>

<h3>Description</h3>

<p>A set of tiny functions to check that functions adhere to a layout style.
A function should have a clear layout, it should
</p>

<ul>
<li><p> not have too many arguments,
</p>
</li>
<li><p> not have too many levels of nesting,
</p>
</li>
<li><p> neither have too many lines nor
</p>
</li>
<li><p> have too many lines of code,
</p>
</li>
<li><p> not have lines too wide and
</p>
</li>
<li><p> explicitly <code><a href="base.html#topic+return">return</a></code> an object.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>check_num_arguments(object, max_num_arguments = gco("max_num_arguments"))

check_nesting_depth(object, max_nesting_depth = gco("max_nesting_depth"))

check_num_lines(object, max_lines = gco("max_lines"))

check_num_lines_of_code(object, max_lines_of_code = gco("max_lines_of_code"))

check_line_width(object, max_line_width = gco("max_line_width"))

check_return(object, check_return = gco("check_return"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="function_checks_+3A_object">object</code></td>
<td>
<p>The function to be checked.
Should have been sourced with keep.source = TRUE (see
<code><a href="#topic+get_function_body">get_function_body</a></code>).</p>
</td></tr>
<tr><td><code id="function_checks_+3A_max_num_arguments">max_num_arguments</code></td>
<td>
<p>The maximum number of arguments accepted.
Set (preferably via <code><a href="#topic+set_cleanr_options">set_cleanr_options</a></code>) to <code>NULL</code> or
<code>FALSE</code> to disable the check.</p>
</td></tr>
<tr><td><code id="function_checks_+3A_max_nesting_depth">max_nesting_depth</code></td>
<td>
<p>The maximum nesting depth accepted.
Set (preferably via <code><a href="#topic+set_cleanr_options">set_cleanr_options</a></code>) to <code>NULL</code> or
<code>FALSE</code> to disable the check.</p>
</td></tr>
<tr><td><code id="function_checks_+3A_max_lines">max_lines</code></td>
<td>
<p>The maximum number of lines accepted.
Set (preferably via <code><a href="#topic+set_cleanr_options">set_cleanr_options</a></code>) to <code>NULL</code> or
<code>FALSE</code> to disable the check.</p>
</td></tr>
<tr><td><code id="function_checks_+3A_max_lines_of_code">max_lines_of_code</code></td>
<td>
<p>The maximum number of lines of code accepted.
Set (preferably via <code><a href="#topic+set_cleanr_options">set_cleanr_options</a></code>) to <code>NULL</code> or
<code>FALSE</code> to disable the check.</p>
</td></tr>
<tr><td><code id="function_checks_+3A_max_line_width">max_line_width</code></td>
<td>
<p>The maximum line width accepted.
Set (preferably via <code><a href="#topic+set_cleanr_options">set_cleanr_options</a></code>) to <code>NULL</code> or
<code>FALSE</code> to disable the check.</p>
</td></tr>
<tr><td><code id="function_checks_+3A_check_return">check_return</code></td>
<td>
<p>Set (preferably via <code><a href="#topic+set_cleanr_options">set_cleanr_options</a></code>) to <code>NULL</code> or
<code>FALSE</code> to disable the check.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In case of a fail all <code><a href="#topic+function_checks">function_checks</a></code> <code><a href="#topic+throw">throw</a></code> a
condition of class c(&quot;cleanr&quot;, &quot;error&quot;, &quot;condition&quot;).
</p>


<h3>Value</h3>

<p><code><a href="base.html#topic+invisible">Invisibly</a></code> <code><a href="base.html#topic+TRUE">TRUE</a></code>,
but see <em>Details</em>.
</p>


<h3>Warning</h3>

<p><code><a href="#topic+check_return">check_return</a></code> just <code><a href="base.html#topic+grep">grep</a></code>s for a
for a line starting with a <code><a href="base.html#topic+return">return</a></code> statement (ah, see the code
for the real thing).
This does not ensure that <em>all</em> <code><a href="base.html#topic+return">return</a></code> paths from the
function are explicit and it may miss a <code><a href="base.html#topic+return">return</a></code> path after a
semicolon.
It just checks if you use <code><a href="base.html#topic+return">return</a></code> at all.
</p>


<h3>See Also</h3>

<p>Other check functions: 
<code><a href="#topic+file_checks">file_checks</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>print(cleanr::check_num_arguments(cleanr::check_num_arguments))
print(cleanr::check_nesting_depth(cleanr::check_nesting_depth))
print(cleanr::check_num_lines(cleanr::check_num_lines))
print(cleanr::check_num_lines_of_code(cleanr::check_num_lines_of_code))
print(cleanr::check_return(cleanr::check_return))
# R reformats functions on import (see
# help(get_function_body, package = "cleanr")), so we need 90 characters:
print(cleanr::check_line_width(cleanr::check_line_width,
                               max_line_width = 90))
</code></pre>

<hr>
<h2 id='get_cleanr_options'>Get options for <span class="pkg">cleanr</span></h2><span id='topic+get_cleanr_options'></span><span id='topic+gco'></span>

<h3>Description</h3>

<p>A convenience function for <code><a href="base.html#topic+getOption">getOption</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_cleanr_options(..., remove_names = FALSE, flatten_list = TRUE)

gco(..., remove_names = FALSE, flatten_list = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_cleanr_options_+3A_...">...</code></td>
<td>
<p>See <code><a href="base.html#topic+getOption">getOption</a></code>.</p>
</td></tr>
<tr><td><code id="get_cleanr_options_+3A_remove_names">remove_names</code></td>
<td>
<p>[boolean(1)]<br /> Remove the names?</p>
</td></tr>
<tr><td><code id="get_cleanr_options_+3A_flatten_list">flatten_list</code></td>
<td>
<p>[boolean(1)]<br /> Return a vector?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a (possibly named) list or a vector.
</p>


<h3>Note</h3>

<p><code>gco</code> is just an alias for <code>get_cleanr_options</code>.
</p>


<h3>See Also</h3>

<p>Other option wrappers: 
<code><a href="#topic+set_cleanr_options">set_cleanr_options</a>()</code>
</p>
<p>Other option wrappers: 
<code><a href="#topic+set_cleanr_options">set_cleanr_options</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cleanr::get_cleanr_options("max_lines")
cleanr::get_cleanr_options("max_lines", remove_names = TRUE)
cleanr::get_cleanr_options("max_lines", flatten_list = TRUE)
cleanr::get_cleanr_options("max_lines", flatten_list = TRUE,
                           remove_names = TRUE)
cleanr::get_cleanr_options(flatten_list = TRUE, remove_names = TRUE)
cleanr::get_cleanr_options(c("max_lines", "max_lines_of_code"))
</code></pre>

<hr>
<h2 id='get_function_body'>get the body of a function</h2><span id='topic+get_function_body'></span>

<h3>Description</h3>

<p><code><a href="base.html#topic+body">body</a></code> reformats the code (see <em>Examples</em> and
<em>Details</em>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_function_body(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_function_body_+3A_object">object</code></td>
<td>
<p>The function from which to extract the body. <br /> Should have
been sourced with keep.source = TRUE.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If we want to check a function as it is coded in a file, we need to get the
original thing as coded in the file, no optimized version.
In <code><a href="base.html#topic+sys.source">sys.source</a></code> and <code><a href="base.html#topic+source">source</a></code>, keep.source = FALSE
seems to use <code><a href="base.html#topic+body">body</a></code>.
So we have to do it all over after sourcing with keep.source = TRUE (in
<code><a href="#topic+check_functions_in_file">check_functions_in_file</a></code>).
</p>


<h3>Value</h3>

<p><code>character(n)</code> the function body's lines.
</p>

<hr>
<h2 id='is_not_false'>Test if an Object is not False</h2><span id='topic+is_not_false'></span>

<h3>Description</h3>

<p>See <code><a href="fritools.html#topic+is_not_false">fritools::is_not_false</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_not_false(x, null_is_false = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_not_false_+3A_x">x</code></td>
<td>
<p>The object to be tested.</p>
</td></tr>
<tr><td><code id="is_not_false_+3A_null_is_false">null_is_false</code></td>
<td>
<p>[boolean(1)]<br /> Should NULL be treated as FALSE?</p>
</td></tr>
<tr><td><code id="is_not_false_+3A_...">...</code></td>
<td>
<p>Parameters passed to <code><a href="base.html#topic+exists">exists</a></code>. See Details and
Examples.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>TRUE if the object is set to something different than FALSE, FALSE
otherwise.
</p>

<hr>
<h2 id='load_internal_functions'>Load a Package's Internals</h2><span id='topic+load_internal_functions'></span>

<h3>Description</h3>

<p>See
<code>
<a href="fritools.html#topic+load_internal_functions">fritools::load_internal_functions</a>
</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>load_internal_functions(package, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="load_internal_functions_+3A_package">package</code></td>
<td>
<p>[character(1)]<br /> The name of the package as a string.</p>
</td></tr>
<tr><td><code id="load_internal_functions_+3A_...">...</code></td>
<td>
<p>Arguments passed to <code><a href="base.html#topic+ls">ls</a></code>, all.names = TRUE could be a
good idea.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>invisible(TRUE)
</p>


<h3>See Also</h3>

<p><code><a href="codetools.html#topic+checkUsageEnv">checkUsageEnv in codetools</a></code>.
</p>

<hr>
<h2 id='set_cleanr_options'>Set Options for <span class="pkg">cleanr</span></h2><span id='topic+set_cleanr_options'></span>

<h3>Description</h3>

<p>A convenience function for <code><a href="base.html#topic+options">options</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_cleanr_options(..., reset = FALSE, overwrite = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="set_cleanr_options_+3A_...">...</code></td>
<td>
<p>See <code><a href="base.html#topic+options">options</a></code>. See <code><a href="#topic+function_checks">function_checks</a></code> and
<code><a href="#topic+file_checks">file_checks</a></code> for options to be set with <span class="pkg">cleanr</span>.
Use <code><a href="#topic+get_cleanr_options">get_cleanr_options</a></code> to get the current values.
<span class="pkg">cleanr</span>'s standard defaults are:
<code style="white-space: pre;">&#8288;
max_file_width=80
max_file_length=300
max_lines=65
max_lines_of_code=50
max_num_arguments=5
max_nesting_depth=3
max_line_width=80
check_return=TRUE 
&#8288;</code></p>
</td></tr>
<tr><td><code id="set_cleanr_options_+3A_reset">reset</code></td>
<td>
<p>[boolean(1)]<br /> Reset all <span class="pkg">cleanr</span> options to the package's
defaults?</p>
</td></tr>
<tr><td><code id="set_cleanr_options_+3A_overwrite">overwrite</code></td>
<td>
<p>[boolean(1)]<br /> Overwrite options already set? Is set to
<code>FALSE</code> on package loading to ensure your previously set <span class="pkg">cleanr</span>
options won't get overridden. Just ignore that argument.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><span class="pkg">cleanr</span> loads a couple of options as defaults for its
functions.
The defaults are stored in a list element of <code><a href="base.html#topic+options">options</a></code>.
All checks (see <code><a href="#topic+function_checks">function_checks</a></code> and <code><a href="#topic+file_checks">file_checks</a></code>)
can be disabled by setting the corresponding option list item to <code>NULL</code>
or <code>FALSE</code>.
</p>


<h3>Value</h3>

<p><code><a href="base.html#topic+invisible">Invisibly</a></code> <code><a href="base.html#topic+TRUE">TRUE</a></code>.
</p>


<h3>See Also</h3>

<p>Other option wrappers: 
<code><a href="#topic+get_cleanr_options">get_cleanr_options</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># R.C. Martin's Clean Code recommends monadic argument lists.
cleanr::set_cleanr_options(max_num_arguments = 1)
# R.C. Martin's Clean Code recommends functions less than 20 lines long.
cleanr::set_cleanr_options(max_lines = 30, max_lines_of_code = 20)
# same as above:
cleanr::set_cleanr_options(list(max_lines = 30, max_lines_of_code = 20))
cleanr::get_cleanr_options(flatten_list = TRUE)
# we delete all options and set some anew
options("cleanr" = NULL)
options("cleanr" = list(max_lines = 30, max_lines_of_code = 20))
# fill the missing options with the package's defaults:
cleanr::set_cleanr_options(overwrite = FALSE)
cleanr::get_cleanr_options(flatten_list = TRUE)
# reset to the package's defaults:
cleanr::set_cleanr_options(reset = TRUE)
cleanr::get_cleanr_options(flatten_list = TRUE)
</code></pre>

<hr>
<h2 id='throw'>Throw a Condition</h2><span id='topic+throw'></span>

<h3>Description</h3>

<p>Throws a condition of class c(&quot;error&quot;, &quot;cleanr&quot;, &quot;condition&quot;).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>throw(message_string, system_call = sys.call(-1), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="throw_+3A_message_string">message_string</code></td>
<td>
<p>The message to be thrown.</p>
</td></tr>
<tr><td><code id="throw_+3A_system_call">system_call</code></td>
<td>
<p>The call to be thrown.</p>
</td></tr>
<tr><td><code id="throw_+3A_...">...</code></td>
<td>
<p>Arguments to be passed to
<code><a href="base.html#topic+structure">base::structure</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>We use this condition as an error dedicated to <span class="pkg"> cleanr.</span>
</p>


<h3>Value</h3>

<p>The function does never return anything, it stops with a
condition of class c(&quot;error&quot;, &quot;cleanr&quot;, &quot;condition&quot;).
</p>

<hr>
<h2 id='tidy_findings'>tidy findings</h2><span id='topic+tidy_findings'></span>

<h3>Description</h3>

<p>remove TRUE converted to class character from findings.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tidy_findings(findings)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tidy_findings_+3A_findings">findings</code></td>
<td>
<p>a character vector with possibly some elements reading &quot;TRUE&quot;
or a vector of TRUES.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code><a href="#topic+check_directory">check_directory</a></code>, <code><a href="#topic+check_file">check_file</a></code>,
<code><a href="#topic+check_functions_in_file">check_functions_in_file</a></code> and
<code><a href="#topic+check_function_layout">check_function_layout</a></code> all collect tryCatch to collect either
TRUE for a check passed or a character holding a conditions message. This
function deletes the TRUES.
</p>


<h3>Value</h3>

<p>a character vector without any element reading &quot;TRUE&quot; or NULL.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

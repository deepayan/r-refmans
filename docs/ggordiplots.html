<!DOCTYPE html><html><head><title>Help for package ggordiplots</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ggordiplots}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#gg_envfit'><p>Vegan envfit plot</p></a></li>
<li><a href='#gg_ordibubble'><p>Ordination Bubble Plot</p></a></li>
<li><a href='#gg_ordicluster'><p>Add Dendrogram to Ordination Plot</p></a></li>
<li><a href='#gg_ordiplot'><p>Plot with Ellipses, Hulls, Spiders</p></a></li>
<li><a href='#gg_ordisurf'><p>Ordisurf with ggplot2</p></a></li>
<li><a href='#ggordiplots'><p>ggordiplots: Make ggplots with ordiplot-type features.</p></a></li>
<li><a href='#ord_labels'><p>Make Ordination Axis Labels</p></a></li>
<li><a href='#scale_arrow'><p>Scale Arrows to Plot</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Make 'ggplot2' Versions of Vegan's Ordiplots</td>
</tr>
<tr>
<td>Version:</td>
<td>0.4.3</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>John Quensen &lt;quensenj@msu.edu&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>The 'vegan' package includes several functions for adding features
  to ordination plots: ordiarrows(),  ordiellipse(), ordihull(),
  ordispider() and ordisurf(). This package adds these same   features to 
  ordination plots made with 'ggplot2'. In addition, gg_ordibubble() sizes
  points relative to the value of an environmental variable. </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.2.0), ggplot2 (&ge; 3.0.0), vegan (&ge; 2.5-2), glue</td>
</tr>
<tr>
<td>Suggests:</td>
<td>formatR, permute, lattice, knitr, rmarkdown</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/jfq3/ggordiplots">https://github.com/jfq3/ggordiplots</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/jfq3/ggordiplots/issues">https://github.com/jfq3/ggordiplots/issues</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-01-14 15:51:25 UTC; johnq</td>
</tr>
<tr>
<td>Author:</td>
<td>John Quensen <a href="https://orcid.org/0000-0002-7669-1595"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre, cph],
  Gavin Simpson [aut],
  Jari Oksanen [aut]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-01-14 16:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='gg_envfit'>Vegan envfit plot</h2><span id='topic+gg_envfit'></span>

<h3>Description</h3>

<p>Fits environmental parameters to an ordination plot of sites
and plots them as arrows.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gg_envfit(
  ord,
  env,
  groups = NA,
  scaling = 1,
  choices = c(1, 2),
  perm = 999,
  alpha = 0.05,
  angle = 20,
  len = 0.5,
  unit = "cm",
  arrow.col = "red",
  pt.size = 3,
  plot = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gg_envfit_+3A_ord">ord</code></td>
<td>
<p>An ordination object.</p>
</td></tr>
<tr><td><code id="gg_envfit_+3A_env">env</code></td>
<td>
<p>A data frame of environmental parameters.</p>
</td></tr>
<tr><td><code id="gg_envfit_+3A_groups">groups</code></td>
<td>
<p>A vector of groups.</p>
</td></tr>
<tr><td><code id="gg_envfit_+3A_scaling">scaling</code></td>
<td>
<p>Scaling value for plot.</p>
</td></tr>
<tr><td><code id="gg_envfit_+3A_choices">choices</code></td>
<td>
<p>Axes to plot.</p>
</td></tr>
<tr><td><code id="gg_envfit_+3A_perm">perm</code></td>
<td>
<p>Number of permutations.</p>
</td></tr>
<tr><td><code id="gg_envfit_+3A_alpha">alpha</code></td>
<td>
<p>Maximum alpha value to be included in plot.</p>
</td></tr>
<tr><td><code id="gg_envfit_+3A_angle">angle</code></td>
<td>
<p>Angle of arrow tips.</p>
</td></tr>
<tr><td><code id="gg_envfit_+3A_len">len</code></td>
<td>
<p>Arrow tip length.</p>
</td></tr>
<tr><td><code id="gg_envfit_+3A_unit">unit</code></td>
<td>
<p>Unit for length (&quot;cm&quot;, &quot;in&quot;)</p>
</td></tr>
<tr><td><code id="gg_envfit_+3A_arrow.col">arrow.col</code></td>
<td>
<p>Arrow color.</p>
</td></tr>
<tr><td><code id="gg_envfit_+3A_pt.size">pt.size</code></td>
<td>
<p>Symbol size.</p>
</td></tr>
<tr><td><code id="gg_envfit_+3A_plot">plot</code></td>
<td>
<p>A logical for plotting; defaults to TRUE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Silently returns the plot and data frames used for the plotting if the fit of any variable is significant at alpha. Otherwise returns a message that no variable is significant.
</p>


<h3>Note</h3>

<p>In order for the arrow tips to be labeled with the names of the variables, they must be supplied as a matrix or data frame. If a single variable is supplied as a vector, the arrow tip will be labeled with &quot;1&quot;. A way-around is to convert the vector to a data frame with the column named for the variable.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("varespec")
data("varechem")
vare.dist &lt;- vegdist(varespec)
vare.mds &lt;- monoMDS(vare.dist)
gg_envfit(ord=vare.mds, env=varechem)

data("dune")
data("dune.env")
dune.dist &lt;- vegdist(dune)
dune.mds &lt;- monoMDS(dune.dist)
# A1 supplied as a vector
gg_envfit(dune.mds, env=dune.env$A1, groups=dune.env$Management)
# A1 supplied as a data frame
A1 &lt;- as.data.frame(dune.env$A1)
colnames(A1) &lt;- "A1"
gg_envfit(dune.mds, env=A1, groups=dune.env$Management)

</code></pre>

<hr>
<h2 id='gg_ordibubble'>Ordination Bubble Plot</h2><span id='topic+gg_ordibubble'></span>

<h3>Description</h3>

<p>Makes a simple ordination plot of site with the symbol size
scaled to an environmental variable. Result is similar to
that of BiodiversityR's ordibubble function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gg_ordibubble(
  ord,
  env.var,
  groups = NA,
  var.label = "Level",
  choices = c(1, 2),
  plot = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gg_ordibubble_+3A_ord">ord</code></td>
<td>
<p>An ordination object</p>
</td></tr>
<tr><td><code id="gg_ordibubble_+3A_env.var">env.var</code></td>
<td>
<p>An environmental variable.</p>
</td></tr>
<tr><td><code id="gg_ordibubble_+3A_groups">groups</code></td>
<td>
<p>A vector of groups (optional).</p>
</td></tr>
<tr><td><code id="gg_ordibubble_+3A_var.label">var.label</code></td>
<td>
<p>Label for the legend; default is &quot;Level.&quot;</p>
</td></tr>
<tr><td><code id="gg_ordibubble_+3A_choices">choices</code></td>
<td>
<p>Axes to be plotted.</p>
</td></tr>
<tr><td><code id="gg_ordibubble_+3A_plot">plot</code></td>
<td>
<p>A logical for plotting; defaults to TRUE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Silently returns the plot and data frames used for the plotting.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(dune)
data(dune.env)
dune.bray &lt;- vegdist(dune, method = "bray")
ord &lt;- cmdscale(dune.bray, k=(nrow(dune)-1), eig=TRUE, add=TRUE)
gg_ordibubble(ord, env.var=dune.env$A1, var.label="A1")

</code></pre>

<hr>
<h2 id='gg_ordicluster'>Add Dendrogram to Ordination Plot</h2><span id='topic+gg_ordicluster'></span>

<h3>Description</h3>

<p>Modeled after the ordicluster function in vegan, this function overlays an ordination object with a cluster dendogram. Functionality has been added to include treatment groups.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gg_ordicluster(
  ord,
  cluster,
  treatments = NA,
  choices = c(1, 2),
  prune = 0,
  col = 1,
  pt.size = 3,
  plot = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gg_ordicluster_+3A_ord">ord</code></td>
<td>
<p>An ordination object.</p>
</td></tr>
<tr><td><code id="gg_ordicluster_+3A_cluster">cluster</code></td>
<td>
<p>A cluster object from 'hclust' based on the same distance as 'ord.'</p>
</td></tr>
<tr><td><code id="gg_ordicluster_+3A_treatments">treatments</code></td>
<td>
<p>A vector assigning treatments to samples.</p>
</td></tr>
<tr><td><code id="gg_ordicluster_+3A_choices">choices</code></td>
<td>
<p>Ordination axes to be plotted.</p>
</td></tr>
<tr><td><code id="gg_ordicluster_+3A_prune">prune</code></td>
<td>
<p>Number of upper level hierarchies removed from the dendrogram. If prune &gt; 0, dendrogram will be disconnected.</p>
</td></tr>
<tr><td><code id="gg_ordicluster_+3A_col">col</code></td>
<td>
<p>A vector of cluster group memberships. Used to assign colors to line segments for each cluster group.</p>
</td></tr>
<tr><td><code id="gg_ordicluster_+3A_pt.size">pt.size</code></td>
<td>
<p>Symbol size.</p>
</td></tr>
<tr><td><code id="gg_ordicluster_+3A_plot">plot</code></td>
<td>
<p>A logical; defaults to TRUE.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>'treatments' should be a vector of class factor and length equal to the number of samples included in the ordination and cluster; integers are not coerced into factors.
</p>


<h3>Value</h3>

<p>Invisibly returns a list of the data frames used to make the plot (df_ord, df_segments) and the plot itself (plot).
</p>


<h3>Author(s)</h3>

<p>Jari Oksanen, John Quensen
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(dune)
data(dune.env)
dune.bray &lt;- vegdist(dune, method="bray")
ord &lt;- metaMDS(dune, k=3)
cl &lt;- hclust(dune.bray, method="complete")
gg_ordicluster(ord, cluster=cl, treatments=dune.env$Management, prune=3, col=cutree(cl, 4))

</code></pre>

<hr>
<h2 id='gg_ordiplot'>Plot with Ellipses, Hulls, Spiders</h2><span id='topic+gg_ordiplot'></span>

<h3>Description</h3>

<p><code>gg_ordiplot</code> uses <code>ggplot2</code> to make an ordination plot
with group ellipses by default, and optionally hulls and/or
spiders. It is patterned after <code>vegan</code>'s functions <code>ordiellipse</code>,
<code>ordihull</code>, and <code>ordispider</code> and accepts similar parameters.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gg_ordiplot(
  ord,
  groups,
  scaling = 1,
  choices = c(1, 2),
  kind = c("sd", "se", "ehull"),
  conf = NULL,
  show.groups = "all",
  ellipse = TRUE,
  label = FALSE,
  hull = FALSE,
  spiders = FALSE,
  pt.size = 3,
  plot = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gg_ordiplot_+3A_ord">ord</code></td>
<td>
<p>An ordination object.</p>
</td></tr>
<tr><td><code id="gg_ordiplot_+3A_groups">groups</code></td>
<td>
<p>A vector of groups.</p>
</td></tr>
<tr><td><code id="gg_ordiplot_+3A_scaling">scaling</code></td>
<td>
<p>Scaling for ordination plot.</p>
</td></tr>
<tr><td><code id="gg_ordiplot_+3A_choices">choices</code></td>
<td>
<p>Axes to be plotted.</p>
</td></tr>
<tr><td><code id="gg_ordiplot_+3A_kind">kind</code></td>
<td>
<p>Type of ellipses to show (&quot;se&quot;, sd&quot;, &quot;ehull&quot;).</p>
</td></tr>
<tr><td><code id="gg_ordiplot_+3A_conf">conf</code></td>
<td>
<p>Confidence value for ellipses if &quot;se&quot; or &quot;sd.&quot;</p>
</td></tr>
<tr><td><code id="gg_ordiplot_+3A_show.groups">show.groups</code></td>
<td>
<p>Subset of groups to plot.</p>
</td></tr>
<tr><td><code id="gg_ordiplot_+3A_ellipse">ellipse</code></td>
<td>
<p>A logical for plotting ellipses; defaults to TRUE.</p>
</td></tr>
<tr><td><code id="gg_ordiplot_+3A_label">label</code></td>
<td>
<p>A logical for labeling group centroids.</p>
</td></tr>
<tr><td><code id="gg_ordiplot_+3A_hull">hull</code></td>
<td>
<p>A logical for plotting group hulls.</p>
</td></tr>
<tr><td><code id="gg_ordiplot_+3A_spiders">spiders</code></td>
<td>
<p>A logical for plotting group spiders.</p>
</td></tr>
<tr><td><code id="gg_ordiplot_+3A_pt.size">pt.size</code></td>
<td>
<p>Symbol size.</p>
</td></tr>
<tr><td><code id="gg_ordiplot_+3A_plot">plot</code></td>
<td>
<p>A logical for plotting; defaults to TRUE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Silently returns the plot and data frames used for the plotting.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("dune")
data("dune.env")
dune.hel &lt;- decostand(dune, method = "hellinger")
ord &lt;- rda(dune.hel)
gg_ordiplot(ord, groups = dune.env$Management)

</code></pre>

<hr>
<h2 id='gg_ordisurf'>Ordisurf with ggplot2</h2><span id='topic+gg_ordisurf'></span>

<h3>Description</h3>

<p>Fits a surface (contour) plot of an environmental variable
to an ordination plot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gg_ordisurf(
  ord,
  env.var,
  groups = NA,
  choices = c(1, 2),
  var.label = "Level",
  binwidth,
  pt.size = 3,
  family = "gaussian",
  plot = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gg_ordisurf_+3A_ord">ord</code></td>
<td>
<p>An ordination object.</p>
</td></tr>
<tr><td><code id="gg_ordisurf_+3A_env.var">env.var</code></td>
<td>
<p>Environmental variable to fit to plot.</p>
</td></tr>
<tr><td><code id="gg_ordisurf_+3A_groups">groups</code></td>
<td>
<p>A vector of groups (optional).</p>
</td></tr>
<tr><td><code id="gg_ordisurf_+3A_choices">choices</code></td>
<td>
<p>Axes to plot.</p>
</td></tr>
<tr><td><code id="gg_ordisurf_+3A_var.label">var.label</code></td>
<td>
<p>Label for the contour legend; default is &quot;Level.&quot;</p>
</td></tr>
<tr><td><code id="gg_ordisurf_+3A_binwidth">binwidth</code></td>
<td>
<p>Controls the number of contours in the plot.</p>
</td></tr>
<tr><td><code id="gg_ordisurf_+3A_pt.size">pt.size</code></td>
<td>
<p>Symbol size.</p>
</td></tr>
<tr><td><code id="gg_ordisurf_+3A_family">family</code></td>
<td>
<p>Error distribution and link function used by the gam function to fit the contours.</p>
</td></tr>
<tr><td><code id="gg_ordisurf_+3A_plot">plot</code></td>
<td>
<p>A logical for plotting; defaults to TRUE.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>By default, 'binwidth' is calculated as the difference between minimum and maximum values of the variable divided by 15.
</p>
<p>The colors for the points are mapped to fill; if you want to rename the legend for the groups (points), use labs(fill=&quot;New name&quot;).
</p>
<p>See the help for stats::family for possible values for family.
</p>


<h3>Value</h3>

<p>Silently returns the plot and data frames used for the plotting.
</p>


<h3>Note</h3>

<p>Code for extracting plot data from the ordisurf result was taken from a blog by Oliviea Rata Burge.
</p>


<h3>Author(s)</h3>

<p>Olivia Rata Burge, John Quensen
</p>


<h3>References</h3>

<p>https://oliviarata.wordpress.com/2014/07/17/ordinations-in-ggplot2-v2-ordisurf/'
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(varespec)
data(varechem)
vare.dist &lt;- vegdist(varespec)
vare.mds &lt;- monoMDS(vare.dist)
gg_ordisurf(vare.mds, env.var = varechem$Baresoil, var.label="Bare Soil")
</code></pre>

<hr>
<h2 id='ggordiplots'>ggordiplots: Make ggplots with ordiplot-type features.</h2><span id='topic+ggordiplots'></span><span id='topic+ggordiplots-package'></span>

<h3>Description</h3>

<p>The vegan and BiodiversityR packages include several functions
for adding features to ordination plots: ordiarrows, ordibubbles,
ordiellipse, ordihull, ordispider, ordisurf, ordicluster. This package adds
these same features to ordination plots made with ggplot2.
</p>


<h3>Functions</h3>

<p>gg_enfit Fits vectors representing environmental variables to ordination plots.
</p>
<p>gg_ordibubble Sizes site symbols in proportion to environmental variable.
</p>
<p>gg_ordicluster Overlays cluster diagram on ordination plot.
</p>
<p>gg_ordiplot Ordination plot with options for ellipses, hulls,
and spiders distinguishing treatment groups.
</p>
<p>gg_ordisurf Ordination plot with surface contours for environmental variable.
</p>

<hr>
<h2 id='ord_labels'>Make Ordination Axis Labels</h2><span id='topic+ord_labels'></span>

<h3>Description</h3>

<p>Makes ordination axis labels that include, if appropriate, the % total variance explained by each axis.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ord_labels(ord)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ord_labels_+3A_ord">ord</code></td>
<td>
<p>A vegan ordination object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If there are no eigenvalues in ord, or if any eigenvalues are less than 0, each element of the vector returned has the form &quot;DIMn&quot; where n is the axis number. Otherwise, each element of the vector returned has the form &quot;AxisN xx.x%&quot; where &quot;Axis&quot; is taken from the vector of eigenvalues in ord if they are named or simply &quot;DIM&quot; if they are not, N is the number of the axis, and xx.x is the % of total variance explained by the axis.
</p>


<h3>Value</h3>

<p>A character vector, each element of which can be used to label the corresponding axis of an ordination plot.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("dune")
data("dune.env")
dune_hel &lt;- decostand(dune, method = "hellinger")
ord &lt;- rda(dune_hel)
axis_labels &lt;- ord_labels(ord)
axis_labels[c(1,2)]

</code></pre>

<hr>
<h2 id='scale_arrow'>Scale Arrows to Plot</h2><span id='topic+scale_arrow'></span>

<h3>Description</h3>

<p>Scales envfit arrows to fit within 75
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scale_arrow(arrows, data, at = c(0, 0), fill = 0.75)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="scale_arrow_+3A_arrows">arrows</code></td>
<td>
<p>A two column data frame of coordinates from envfit result.</p>
</td></tr>
<tr><td><code id="scale_arrow_+3A_data">data</code></td>
<td>
<p>A two column data frame of coordinates for ordination plot.</p>
</td></tr>
<tr><td><code id="scale_arrow_+3A_at">at</code></td>
<td>
<p>coordinates of origin (0, 0)</p>
</td></tr>
<tr><td><code id="scale_arrow_+3A_fill">fill</code></td>
<td>
<p>proportion of plot area to fill with maximum arrow length</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Silently returns a data frame of scaled coordinates for adding arrows to ordination plot.
</p>


<h3>Author(s)</h3>

<p>Jari Oksanen with modifications by Gavin Simpson and John Quensen
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("varespec")
data("varechem")
vare_dist &lt;- vegdist(varespec)
vare_mds &lt;- monoMDS(vare_dist)
plt1 &lt;- gg_envfit(ord=vare_mds, env=varechem, plot = FALSE)
mult &lt;- scale_arrow(plt1$df_arrows, plt1$df_ord[ , c("x", "y")])
mult

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

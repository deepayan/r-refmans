<!DOCTYPE html><html><head><title>Help for package saeHB.ME</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {saeHB.ME}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#saeHB.ME-package'><p>saeHB.ME: Small Area Estimation with Measurement Error using Hierarchical Bayesian Method</p></a></li>
<li><a href='#dataHBME'><p>Sample Data for Small Area Estimation with Measurement Error using Hierarchical Bayesian Method under Normal Distribution</p></a></li>
<li><a href='#dataTMEHB'><p>Sample Data for Small Area Estimation with Measurement Error using Hierarchical Bayesian Method under Student-t Distribution</p></a></li>
<li><a href='#meHBNormal'><p>Small Area Estimation with Measurement Error using Hierarchical Bayesian Method under Normal Distribution</p></a></li>
<li><a href='#meHBt'><p>Small Area Estimation with Measurement Error using Hierarchical Bayesian Method under Student-t Distribution</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Small Area Estimation with Measurement Error using Hierarchical
Bayesian Method</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Implementation of small area estimation using Hierarchical Bayesian (HB) Method when auxiliary variable measured with error. The 'rjags' package is employed to obtain parameter estimates. For the references, see Rao and Molina (2015) &lt;<a href="https://doi.org/10.1002%2F9781118735855">doi:10.1002/9781118735855</a>&gt;, Ybarra and Lohr (2008) &lt;<a href="https://doi.org/10.1093%2Fbiomet%2Fasn048">doi:10.1093/biomet/asn048</a>&gt;, and Ntzoufras (2009, ISBN-10: 1118210352).  </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Imports:</td>
<td>coda, rjags, stringr</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.1)</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-08-21 00:52:22 UTC; user</td>
</tr>
<tr>
<td>Author:</td>
<td>Azka Ubaidillah [aut],
  Muhammad Rifqi Mubarak [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Muhammad Rifqi Mubarak &lt;rifqi.mubarak@bps.go.id&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-08-21 04:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='saeHB.ME-package'>saeHB.ME: Small Area Estimation with Measurement Error using Hierarchical Bayesian Method</h2><span id='topic+saeHB.ME'></span><span id='topic+saeHB.ME-package'></span>

<h3>Description</h3>

<p>Implementation of small area estimation using Hierarchical Bayesian (HB) Method when auxiliary variable measured with error.
The 'rjags' package is employed to obtain parameter estimates.
</p>


<h3>Authors</h3>

<p>Azka Ubaidillah, Muhammad Rifqi Mubarak
</p>


<h3>Email</h3>

<p>Muhammad Rifqi Mubarak <a href="mailto:rifqi.mubarak@bps.go.id">rifqi.mubarak@bps.go.id</a>
</p>


<h3>Functions</h3>


<dl>
<dt><code><a href="#topic+meHBNormal">meHBNormal</a></code></dt><dd><p>Produces HB estimators, standard error, random effect variance, coefficient and plot under normal distribution.</p>
</dd>
<dt><code><a href="#topic+meHBt">meHBt</a></code></dt><dd><p>Produces HB estimators, standard error, random effect variance, coefficient and plot under student-t distribution.</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Muhammad Rifqi Mubarak <a href="mailto:rifqi.mubarak@bps.go.id">rifqi.mubarak@bps.go.id</a>
</p>
<p>Authors:
</p>

<ul>
<li><p> Azka Ubaidillah <a href="mailto:azka@stis.ac.id">azka@stis.ac.id</a>
</p>
</li></ul>



<h3>References</h3>

<p>Rao, J.N.K &amp; Molina. (2015). Small Area Estimation 2nd Edition. New York: John Wiley and Sons, Inc &lt;doi:10.1002/9781118735855&gt;.
</p>
<p>Ybarra, L.M. and Lohr, S. L. (2008). Small area estimation when auxiliary information is measured with error. Biometrika 95, 919-931 &lt;doi:10.1093/biomet/asn048&gt;.
</p>
<p>Ntzoufras, I. (2009), Bayesian Modeling Using WinBUGS. 1st Edn., Wiley, New Jersey, ISBN-10: 1118210352.
</p>

<hr>
<h2 id='dataHBME'>Sample Data for Small Area Estimation with Measurement Error using Hierarchical Bayesian Method under Normal Distribution</h2><span id='topic+dataHBME'></span>

<h3>Description</h3>

<p>This data generated by simulation based on Hierarchical Bayesian Method under Normal Distribution with Measurement Error by following these steps:
</p>

<ol>
<li><p> Generate <code class="reqn">x_{1}</code> ~ UNIF(0, 1), <code class="reqn">x_{2}</code> ~ UNIF(1,5), <code class="reqn">x_{3}</code> ~ UNIF(10,15), and <code class="reqn">x_{4}</code> ~ UNIF(10,20)
</p>
</li>
<li><p> Generate <code class="reqn">v.x_{1}</code> ~ Gamma(1,1) and <code class="reqn">v.x_{2}</code> ~ Gamma(2,1)
</p>
</li>
<li><p> Generate <code class="reqn">x_{1h}</code> ~ N(<code class="reqn">x_{1}</code>, sqrt(<code class="reqn">v.x_{1}</code>)) and <code class="reqn">x_{2h}</code> ~ N(<code class="reqn">x_{2}</code>, sqrt(<code class="reqn">v.x_{2}</code>))
</p>
</li>
<li><p> Generate <code class="reqn">\beta_{0}</code>, <code class="reqn">\beta_{1}</code>, <code class="reqn">\beta_{2}</code>, <code class="reqn">\beta_{3}</code>, and <code class="reqn">\beta_{4}</code>
</p>
</li>
<li><p> Generate <code class="reqn">u</code> ~ N(0,1) and <code class="reqn">v</code> ~ 1/(Gamma(1,1))
</p>
</li>
<li><p> Calculate <code class="reqn">\mu</code> = <code class="reqn">\beta_{0} + \beta_{1}*x_{1h} + \beta_{2}*x_{2h} + \beta_{3}*x_{3} + \beta_{4}*x_{4} + u</code>
</p>
</li>
<li><p> Generate <code class="reqn">Y</code> ~ N(<code class="reqn">\mu</code>, sqrt(<code class="reqn">v</code>))
</p>
</li></ol>

<p>Direct estimation <code>Y</code>, auxiliary variables <code>x1 x2 x3 x4</code>, sampling variance <code>v</code>, and mean squared error of auxiliary variables <code>v.x1 v.x2</code> are arranged in a dataframe called <code>dataHBME</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(dataHBME)
</code></pre>


<h3>Format</h3>

<p>A data frame with 30 observations on the following 8 variables.
</p>

<dl>
<dt><code>Y</code></dt><dd><p>direct estimation of Y.</p>
</dd>
<dt><code>x1</code></dt><dd><p>auxiliary variable of x1.</p>
</dd>
<dt><code>x2</code></dt><dd><p>auxiliary variable of x2.</p>
</dd>
<dt><code>x3</code></dt><dd><p>auxiliary variable of x3.</p>
</dd>
<dt><code>x4</code></dt><dd><p>auxiliary variable of x4.</p>
</dd>
<dt><code>vardir</code></dt><dd><p>sampling variances of Y.</p>
</dd>
<dt><code>v.x1</code></dt><dd><p>mean squared error of x1.</p>
</dd>
<dt><code>v.x2</code></dt><dd><p>mean squared error of x2.</p>
</dd>
</dl>


<hr>
<h2 id='dataTMEHB'>Sample Data for Small Area Estimation with Measurement Error using Hierarchical Bayesian Method under Student-t Distribution</h2><span id='topic+dataTMEHB'></span>

<h3>Description</h3>

<p>This data generated by simulation based on Hierarchical Bayesian Method under Student-t Distribution with Measurement Error by following these steps:
</p>

<ol>
<li><p> Generate <code class="reqn">x_{1}</code> ~ UNIF(10, 20) and <code class="reqn">x_{2}</code> ~ UNIF(30,50)
</p>
</li>
<li><p> Generate <code class="reqn">v.x_{1}</code> ~ 1/(Gamma(1,1))
</p>
</li>
<li><p> Generate <code class="reqn">x_{1h}</code> ~ N(<code class="reqn">x_{1}</code>
</p>
</li>
<li><p> Generate <code class="reqn">\beta_{0}</code> = <code class="reqn">\beta_{1}</code> = <code class="reqn">\beta_{2}</code> = 0.5
</p>
</li>
<li><p> Generate <code class="reqn">u</code> ~ N(0,1) and <code class="reqn">k</code> ~ Gamma(10,1)
</p>
</li>
<li><p> Calculate <code class="reqn">\mu</code> = <code class="reqn">\beta_{0} + \beta_{1}*x_{1h} + \beta_{2}*x_{2h} + u</code>
</p>
</li>
<li><p> Generate <code class="reqn">Y</code> ~ t(<code class="reqn">k</code>, <code class="reqn">\mu</code>)) and <code class="reqn">v</code> = <code class="reqn">\sigma_{y}^{2}</code>
</p>
</li></ol>

<p>Direct estimation <code>Y</code>, auxiliary variables <code>x1 x2 x3 x4</code>, sampling variance <code>v</code>, and mean squared error of auxiliary variables <code>v.x1 v.x2</code> are arranged in a dataframe called <code>dataTMEHB</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(dataTMEHB)
</code></pre>


<h3>Format</h3>

<p>A data frame with 30 observations on the following 8 variables.
</p>

<dl>
<dt><code>Y</code></dt><dd><p>direct estimation of Y.</p>
</dd>
<dt><code>x1</code></dt><dd><p>auxiliary variable of x1.</p>
</dd>
<dt><code>x2</code></dt><dd><p>auxiliary variable of x2.</p>
</dd>
<dt><code>vardir</code></dt><dd><p>sampling variances of Y.</p>
</dd>
<dt><code>v.x1</code></dt><dd><p>mean squared error of x1.</p>
</dd>
</dl>


<hr>
<h2 id='meHBNormal'>Small Area Estimation with Measurement Error using Hierarchical Bayesian Method under Normal Distribution</h2><span id='topic+meHBNormal'></span>

<h3>Description</h3>

<p>This function is implemented to variable of interest <code class="reqn">(y)</code> that assumed to be a Normal Distribution when auxiliary variable is measured with error.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>meHBNormal(
  formula,
  vardir,
  var.x,
  coef,
  var.coef,
  iter.update = 3,
  iter.mcmc = 10000,
  thin = 2,
  tau.u = 1,
  burn.in = 2000,
  data
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="meHBNormal_+3A_formula">formula</code></td>
<td>
<p>an object of class <code><a href="stats.html#topic+formula">formula</a></code> (or one that can be coerced to that class): a symbolic description of the model to be fitted. The variables included <code>formula</code> must have a length equal to the number of domains <code>m</code>. This formula can provide auxiliary variable either measured with error or combination between measured with <code>error</code> and <code>without error</code>. If the auxiliary variable are combination between <code>error</code> and <code>without error</code>, input the <code>error</code> variable first followed by <code>without error</code> variable.</p>
</td></tr>
<tr><td><code id="meHBNormal_+3A_vardir">vardir</code></td>
<td>
<p>vector containing the <code>m</code> sampling variances of direct estimators for each domain. The values must be sorted as the <code>Y</code>.</p>
</td></tr>
<tr><td><code id="meHBNormal_+3A_var.x">var.x</code></td>
<td>
<p>vector containing mean squared error of <code>X</code>. The values must be sorted as the <code>X</code>.</p>
</td></tr>
<tr><td><code id="meHBNormal_+3A_coef">coef</code></td>
<td>
<p>a vector contains prior initial value of Coefficient of Regression Model for fixed effect with default vector of <code>0</code> with the length of the number of regression coefficients.</p>
</td></tr>
<tr><td><code id="meHBNormal_+3A_var.coef">var.coef</code></td>
<td>
<p>a vector contains prior initial value of variance of Coefficient of Regression Model with default vector of <code>1</code> with the length of the number of regression coefficients.</p>
</td></tr>
<tr><td><code id="meHBNormal_+3A_iter.update">iter.update</code></td>
<td>
<p>number of updates with default <code>3</code>.</p>
</td></tr>
<tr><td><code id="meHBNormal_+3A_iter.mcmc">iter.mcmc</code></td>
<td>
<p>number of total iterations per chain with default <code>10000</code>.</p>
</td></tr>
<tr><td><code id="meHBNormal_+3A_thin">thin</code></td>
<td>
<p>thinning rate, must be a positive integer with default <code>2</code>.</p>
</td></tr>
<tr><td><code id="meHBNormal_+3A_tau.u">tau.u</code></td>
<td>
<p>prior initial value of inverse of Variance of area random effect with default <code>1</code>.</p>
</td></tr>
<tr><td><code id="meHBNormal_+3A_burn.in">burn.in</code></td>
<td>
<p>number of iterations to discard at the beginning with default <code>2000</code>.</p>
</td></tr>
<tr><td><code id="meHBNormal_+3A_data">data</code></td>
<td>
<p>the data frame.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>This function returns a list with the following objects:
</p>
<table>
<tr><td><code>Est</code></td>
<td>
<p>A vector with the values of Small Area mean Estimates using Hierarchical bayesian method </p>
</td></tr>
<tr><td><code>refVar</code></td>
<td>
<p>Estimated random effect variances</p>
</td></tr>
<tr><td><code>coefficient</code></td>
<td>
<p>A data frame with the estimated model coefficient</p>
</td></tr>
<tr><td><code>plot</code></td>
<td>
<p>Trace, Dencity, Autocorrelation Function Plot of MCMC samples</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Load dataset
data(dataHBME)

## Auxiliary variables only contains variable with error
example &lt;- meHBNormal(Y~x1+x2, vardir = "vardir",
                   var.x = c("v.x1","v.x2"), iter.update = 3, iter.mcmc = 10000,
                   thin = 5, burn.in = 1000, data = dataHBME)

## Auxiliary variables contains variable with error and without error
example_mix &lt;- meHBNormal(Y~x1+x2+x3, vardir = "vardir",
                   var.x = c("v.x1","v.x2"), iter.update = 3, iter.mcmc = 10000,
                   thin = 5, burn.in = 1000, data = dataHBME)

## Create dataset with nonsampled area
dataHBMEns &lt;- dataHBME
dataHBMEns[c(1,10,20,30),"Y"] &lt;- NA

## For data with nonsampled area use dataHBMEns

</code></pre>

<hr>
<h2 id='meHBt'>Small Area Estimation with Measurement Error using Hierarchical Bayesian Method under Student-t Distribution</h2><span id='topic+meHBt'></span>

<h3>Description</h3>

<p>This function is implemented to variable of interest <code class="reqn">(y)</code> that assumed to be a Normal Distribution when auxiliary variable is measured with error.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>meHBt(
  formula,
  vardir,
  var.x,
  coef,
  var.coef,
  iter.update = 3,
  iter.mcmc = 10000,
  thin = 2,
  tau.u = 1,
  burn.in = 2000,
  data
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="meHBt_+3A_formula">formula</code></td>
<td>
<p>an object of class <code><a href="stats.html#topic+formula">formula</a></code> (or one that can be coerced to that class): a symbolic description of the model to be fitted. The variables included <code>formula</code> must have a length equal to the number of domains <code>m</code>. This formula can provide auxiliary variable either measured with error or combination between measured with <code>error</code> and <code>without error</code>. If the auxiliary variable are combination between <code>error</code> and <code>without error</code>, input the <code>error</code> variable first followed by <code>without error</code> variable.</p>
</td></tr>
<tr><td><code id="meHBt_+3A_vardir">vardir</code></td>
<td>
<p>vector containing the <code>m</code> sampling variances of direct estimators for each domain. The values must be sorted as the <code>Y</code>.</p>
</td></tr>
<tr><td><code id="meHBt_+3A_var.x">var.x</code></td>
<td>
<p>vector containing mean squared error of <code>X</code>. The values must be sorted as the <code>X</code>.</p>
</td></tr>
<tr><td><code id="meHBt_+3A_coef">coef</code></td>
<td>
<p>a vector contains prior initial value of Coefficient of Regression Model for fixed effect with default vector of <code>0</code> with the length of the number of regression coefficients.</p>
</td></tr>
<tr><td><code id="meHBt_+3A_var.coef">var.coef</code></td>
<td>
<p>a vector contains prior initial value of variance of Coefficient of Regression Model with default vector of <code>1</code> with the length of the number of regression coefficients.</p>
</td></tr>
<tr><td><code id="meHBt_+3A_iter.update">iter.update</code></td>
<td>
<p>number of updates with default <code>3</code>.</p>
</td></tr>
<tr><td><code id="meHBt_+3A_iter.mcmc">iter.mcmc</code></td>
<td>
<p>number of total iterations per chain with default <code>10000</code>.</p>
</td></tr>
<tr><td><code id="meHBt_+3A_thin">thin</code></td>
<td>
<p>thinning rate, must be a positive integer with default <code>2</code>.</p>
</td></tr>
<tr><td><code id="meHBt_+3A_tau.u">tau.u</code></td>
<td>
<p>prior initial value of inverse of Variance of area random effect with default <code>1</code>.</p>
</td></tr>
<tr><td><code id="meHBt_+3A_burn.in">burn.in</code></td>
<td>
<p>number of iterations to discard at the beginning with default <code>2000</code>.</p>
</td></tr>
<tr><td><code id="meHBt_+3A_data">data</code></td>
<td>
<p>the data frame.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>This function returns a list with the following objects:
</p>
<table>
<tr><td><code>Est</code></td>
<td>
<p>A vector with the values of Small Area mean Estimates using Hierarchical bayesian method </p>
</td></tr>
<tr><td><code>refVar</code></td>
<td>
<p>Estimated random effect variances</p>
</td></tr>
<tr><td><code>coefficient</code></td>
<td>
<p>A data frame with the estimated model coefficient</p>
</td></tr>
<tr><td><code>plot</code></td>
<td>
<p>Trace, Dencity, Autocorrelation Function Plot of MCMC samples</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Load dataset
data(dataTMEHB)


## Auxiliary variables only contains variable with error
example &lt;- meHBt(Y~x1, vardir = "vardir",
                   var.x = c("v.x1"), iter.update = 3, iter.mcmc = 10000,
                   thin = 5, burn.in = 1000, data = dataTMEHB)

## Auxiliary variables contains variable with error and without error
example_mix &lt;- meHBt(Y~x1+x2, vardir = "vardir",
                   var.x = c("v.x1"), iter.update = 3, iter.mcmc = 10000,
                   thin = 5, burn.in = 1000, data = dataTMEHB)

## Create dataset with nonsampled area
dataTMEHBns &lt;- dataTMEHB
dataTMEHBns[c(1,10,20,30),"Y"] &lt;- NA

## For data with nonsampled area use dataTMEHBns

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package micromap</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {micromap}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#alterForMedian'><p>Insert a Median Line</p></a></li>
<li><a href='#assimilatePlot'><p>Cleans a User Made Panel</p></a></li>
<li><a href='#create_map_table'><p>Prepares A Polygon Table</p></a></li>
<li><a href='#edPov'><p>Example Dataset: Education and Poverty Levels</p></a></li>
<li><a href='#internal'><p>Internal lmplot Functions</p></a></li>
<li><a href='#labels_att'><p>Default Attribute Lists</p></a></li>
<li><a href='#labels_build'><p>Builds panels</p></a></li>
<li><a href='#lmgroupedplot'><p>Linked Micromaps</p></a></li>
<li><a href='#lungMort'><p>Example Dataset: Lung Cancer Mortality</p></a></li>
<li><a href='#OrEcoLevel3'><p>Example Dataset: Oregon Level 3 Ecoregion Shapefile</p></a></li>
<li><a href='#print.mm'><p>Print lmplot Object to a File</p></a></li>
<li><a href='#printLMPlot'><p>Print lmplot Object to a File</p></a></li>
<li><a href='#right'><p>Substring Function</p></a></li>
<li><a href='#sample_att'><p>Sample Attribute List Creator</p></a></li>
<li><a href='#statesFlatfile'><p>Example Dataset: A Table of State Polygons</p></a></li>
<li><a href='#USstates'><p>Example Dataset: U.S. States Polygons</p></a></li>
<li><a href='#vegCov'><p>Example Dataset: Vegetation Coverage Percentages</p></a></li>
<li><a href='#WSA3'><p>Example Dataset: Major U.S. EcoRegions</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Version:</td>
<td>1.9.8</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-02-05</td>
</tr>
<tr>
<td>Title:</td>
<td>Linked Micromap Plots</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5), RColorBrewer, sp, sf</td>
</tr>
<tr>
<td>Imports:</td>
<td>ggplot2 (&ge; 2.0.0), grid</td>
</tr>
<tr>
<td>Description:</td>
<td>This group of functions simplifies the creation of linked micromap plots. Please
  see <a href="https://www.jstatsoft.org/v63/i02/">https://www.jstatsoft.org/v63/i02/</a> for additional details.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Author:</td>
<td>Quinn Payton [aut],
  Tony Olsen [aut],
  Marc Weber [ctb],
  Michael McManus [ctb],
  Tom Kincaid [ctb],
  Marcus W. Beck [cre, ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Marcus W. Beck &lt;mbeck@tbep.org&gt;</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr</td>
</tr>
<tr>
<td>URL:</td>
<td>&lt;<a href="https://github.com/fawda123/micromap&amp;gt;">https://github.com/fawda123/micromap&gt;</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/USEPA/micromap/issues">https://github.com/USEPA/micromap/issues</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-02-06 13:38:50 UTC; MarcusBeck</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-02-06 14:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='alterForMedian'>Insert a Median Line</h2><span id='topic+alterForMedian'></span>

<h3>Description</h3>

<p>Adds a median line to the DF table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>alterForMedian(DF, a)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="alterForMedian_+3A_df">DF</code></td>
<td>
<p>the DF table created by create_DF_rank.</p>
</td></tr>
<tr><td><code id="alterForMedian_+3A_a">a</code></td>
<td>
<p>the attributes list, which contains the user specified choice of
whether to include a median row.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns the DF table.
</p>


<h3>Note</h3>

<p>See the Introduction Guide for a full list of the options available
for altering micromaps.
</p>


<h3>Author(s)</h3>

<p>Quinn Payton <a href="mailto:Payton.Quinn@epa.gov">Payton.Quinn@epa.gov</a>
</p>

<hr>
<h2 id='assimilatePlot'>Cleans a User Made Panel</h2><span id='topic+assimilatePlot'></span>

<h3>Description</h3>

<p>Sends a user made panel out to the graph &quot;cleaning functions&quot; in lmplot in
order to properly display a user made panel seemlessly into the rest of an
lmplot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>assimilatePlot(pl, i, a, limsx = NA, limsy = NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="assimilatePlot_+3A_pl">pl</code></td>
<td>
<p>the lmplot object.</p>
</td></tr>
<tr><td><code id="assimilatePlot_+3A_i">i</code></td>
<td>
<p>the panel number.</p>
</td></tr>
<tr><td><code id="assimilatePlot_+3A_a">a</code></td>
<td>
<p>the attribute list.</p>
</td></tr>
<tr><td><code id="assimilatePlot_+3A_limsx">limsx</code></td>
<td>
<p>limits of the x axis if desired.</p>
</td></tr>
<tr><td><code id="assimilatePlot_+3A_limsy">limsy</code></td>
<td>
<p>limits of the y axis if desired.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a cleaned plot object.
</p>


<h3>Note</h3>

<p>See the Introduction Guide for a full list of the options available
for altering micromaps.
</p>


<h3>Author(s)</h3>

<p>Quinn Payton <a href="mailto:Payton.Quinn@epa.gov">Payton.Quinn@epa.gov</a>
</p>

<hr>
<h2 id='create_map_table'>Prepares A Polygon Table</h2><span id='topic+create_map_table'></span>

<h3>Description</h3>

<p>Takes the user supplied polygon table and prepares it to be plotted
correctly with the lmplot function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_map_table(tmp.map, IDcolumn = NA, poly.thresh = 1e-04)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="create_map_table_+3A_tmp.map">tmp.map</code></td>
<td>
<p>a shapefile to be parsed into a flat table for use with
ggplot2.</p>
</td></tr>
<tr><td><code id="create_map_table_+3A_idcolumn">IDcolumn</code></td>
<td>
<p>specify which column in the data file to use as a unique
identifier.</p>
</td></tr>
<tr><td><code id="create_map_table_+3A_poly.thresh">poly.thresh</code></td>
<td>
<p>specify the minimum polygon area which to keep. All
polygons with less area will be dropped.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A flat table of all the polygons in the shapefile with an entry for
each vertice.
</p>


<h3>Author(s)</h3>

<p>Quinn Payton <a href="mailto:Payton.Quinn@epa.gov">Payton.Quinn@epa.gov</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data("USstates")
head(USstates@data)
statePolys &lt;- create_map_table(USstates, IDcolumn="ST")
head(statePolys)

</code></pre>

<hr>
<h2 id='edPov'>Example Dataset: Education and Poverty Levels</h2><span id='topic+edPov'></span>

<h3>Description</h3>

<p>A datset comparing education and poverty levels among the states.
</p>


<h3>Format</h3>

<p>A data frame with 51 rows and the following 5 columns: </p>

<dl>
<dt>state</dt><dd><p>full state name.</p>
</dd> <dt>ed</dt><dd><p>education rate.</p>
</dd> <dt>pov</dt><dd><p>poverty
rate.</p>
</dd> <dt>region</dt><dd><p>major us region.</p>
</dd> <dt>StateAb</dt><dd><p>abbreviated state
name.</p>
</dd> </dl>



<h3>Note</h3>

<p>This is just an example data set.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(edPov)
head(edPov)

</code></pre>

<hr>
<h2 id='internal'>Internal lmplot Functions</h2><span id='topic+internal'></span><span id='topic+all_atts'></span><span id='topic+all_attsb'></span><span id='topic+all_equal2'></span><span id='topic+axis_opts'></span><span id='topic+CatMaps'></span><span id='topic+create_DF_rank'></span><span id='topic+create_DF_cat'></span><span id='topic+dot_legend_att'></span><span id='topic+dot_legend_build'></span><span id='topic+graph_opts'></span><span id='topic+list_att'></span><span id='topic+make.string'></span><span id='topic+plot_opts'></span><span id='topic+RankMaps'></span><span id='topic+subplot'></span>

<h3>Description</h3>

<p>These functions are internal lmplot functions.
</p>


<h3>Details</h3>

<p>These functions are not to be called by the user. Includes all_atts, all_attsb, all_equal2, axis_opts, CatMaps, create_DF_rank, create_DF_cat, dot_legend_att, dot_legend_build, graph_opts, list_att, make.string, plot_opts, RankMaps, subplot
</p>

<hr>
<h2 id='labels_att'>Default Attribute Lists</h2><span id='topic+labels_att'></span><span id='topic+bar_att'></span><span id='topic+bar_cl_att'></span><span id='topic+box_summary_att'></span><span id='topic+dot_att'></span><span id='topic+dot_cl_att'></span><span id='topic+map_att'></span><span id='topic+ranks_att'></span><span id='topic+standard_att'></span>

<h3>Description</h3>

<p>Creates a list of default attribute lists for each panel type.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labels_att(show = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labels_att_+3A_show">show</code></td>
<td>
<p>If show equals FALSE, then the resulting list is returned
invisibly.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of defaults to be stored in the overall attribute list.
</p>


<h3>Author(s)</h3>

<p>Quinn Payton <a href="mailto:Payton.Quinn@epa.gov">Payton.Quinn@epa.gov</a>
</p>

<hr>
<h2 id='labels_build'>Builds panels</h2><span id='topic+labels_build'></span><span id='topic+bar_build'></span><span id='topic+bar_cl_build'></span><span id='topic+box_summary_build'></span><span id='topic+dot_build'></span><span id='topic+dot_cl_build'></span><span id='topic+ranks_build'></span>

<h3>Description</h3>

<p>Creates a panel of the user specified type using the attribute list to make
adjustments.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labels_build(pl, p, DF, att)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labels_build_+3A_pl">pl</code></td>
<td>
<p>the lmplot object being constructed.</p>
</td></tr>
<tr><td><code id="labels_build_+3A_p">p</code></td>
<td>
<p>number of the panel within the plot.</p>
</td></tr>
<tr><td><code id="labels_build_+3A_df">DF</code></td>
<td>
<p>the data table of statistics to be referenced.</p>
</td></tr>
<tr><td><code id="labels_build_+3A_att">att</code></td>
<td>
<p>the attribute list to specify visual and graphical
characteristics.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a ggplot object to be printed later in the lmplot function.
</p>


<h3>Author(s)</h3>

<p>Quinn Payton <a href="mailto:Payton.Quinn@epa.gov">Payton.Quinn@epa.gov</a>
</p>

<hr>
<h2 id='lmgroupedplot'>Linked Micromaps</h2><span id='topic+lmgroupedplot'></span><span id='topic+lmplot'></span><span id='topic+mmgroupedplot'></span><span id='topic+mmplot'></span><span id='topic+mmplot.SpatialPolygonsDataFrame'></span><span id='topic+mmplot.sf'></span><span id='topic+mmplot.default'></span>

<h3>Description</h3>

<p>Creates a linked micromap, displaying specified polygons and their associated statistical summary displays; differentiated by color.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lmgroupedplot(
  stat.data,
  map.data,
  panel.types,
  panel.data,
  map.link = NULL,
  nPanels = length(panel.types),
  grp.by,
  cat,
  colors = brewer.pal(10, "Spectral"),
  map.color = "lightyellow",
  map.all = FALSE,
  print.file = "no",
  print.res = NA,
  panel.att = vector("list", nPanels),
  plot.header = NA,
  plot.header.size = NA,
  plot.header.color = NA,
  plot.footer = NA,
  plot.footer.size = NA,
  plot.footer.color = NA,
  plot.width = 7,
  plot.height = 7,
  map.spacing = 1,
  plot.grp.spacing = 1,
  plot.panel.spacing = 1,
  plot.panel.margins = c(0, 0, 1, 0),
  ...
)

lmplot(
  stat.data,
  map.data = NULL,
  panel.types,
  panel.data,
  map.link = NULL,
  nPanels = length(panel.types),
  ord.by,
  rev.ord = FALSE,
  grouping,
  median.row = FALSE,
  vertical.align = "top",
  median.color = gray(0.5),
  colors = brewer.pal(max(grouping), "Spectral"),
  map.all = FALSE,
  map.color2 = "lightgray",
  two.ended.maps = FALSE,
  print.file = "no",
  print.res = 300,
  panel.att = vector("list", nPanels),
  plot.header = NA,
  plot.header.size = NA,
  plot.header.color = NA,
  plot.footer = NA,
  plot.footer.size = NA,
  plot.footer.color = NA,
  plot.width = 7,
  plot.height = 7,
  map.spacing = 1,
  plot.pGrp.spacing = 1,
  plot.panel.spacing = 1,
  plot.panel.margins = c(0, 0, 1, 0),
  ...
)

mmgroupedplot(
  stat.data,
  map.data,
  panel.types,
  panel.data,
  map.link = NULL,
  nPanels = length(panel.types),
  grp.by,
  cat,
  colors = brewer.pal(10, "Spectral"),
  map.color = "lightyellow",
  map.all = FALSE,
  print.file = "no",
  print.res = NA,
  panel.att = vector("list", nPanels),
  plot.header = NA,
  plot.header.size = NA,
  plot.header.color = NA,
  plot.footer = NA,
  plot.footer.size = NA,
  plot.footer.color = NA,
  plot.width = 7,
  plot.height = 7,
  map.spacing = 1,
  plot.grp.spacing = 1,
  plot.panel.spacing = 1,
  plot.panel.margins = c(0, 0, 1, 0)
)

mmplot(map.data, ...)

## S3 method for class 'SpatialPolygonsDataFrame'
mmplot(map.data, ...)

## S3 method for class 'sf'
mmplot(map.data, ...)

## Default S3 method:
mmplot(
  map.data,
  stat.data,
  panel.types,
  panel.data,
  map.link,
  nPanels = length(panel.types),
  ord.by,
  rev.ord = FALSE,
  grouping,
  median.row = FALSE,
  vertical.align = "top",
  median.color = gray(0.5),
  median.text.color = "black",
  median.text.size = 1,
  median.text.label = "Median",
  colors = brewer.pal(max(grouping), "Spectral"),
  map.all = FALSE,
  map.color2 = "lightgray",
  two.ended.maps = FALSE,
  trans = "identity",
  print.file = "no",
  print.res = 300,
  panel.att = vector("list", nPanels),
  plot.header = NA,
  plot.header.size = NA,
  plot.header.color = NA,
  plot.footer = NA,
  plot.footer.size = NA,
  plot.footer.color = NA,
  plot.width = 7,
  plot.height = 7,
  map.spacing = 1,
  plot.pGrp.spacing = 1,
  plot.panel.spacing = 1,
  plot.panel.margins = c(0, 0, 1, 0),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lmgroupedplot_+3A_stat.data">stat.data</code></td>
<td>
<p>table of statistics for display</p>
</td></tr>
<tr><td><code id="lmgroupedplot_+3A_map.data">map.data</code></td>
<td>
<p>table of polygons to be associated with each item in stat.data.</p>
</td></tr>
<tr><td><code id="lmgroupedplot_+3A_panel.types">panel.types</code></td>
<td>
<p>vector of panel types to specify the layout of the plot (e.g. c('map', 'labels', 'dot.cl'))</p>
</td></tr>
<tr><td><code id="lmgroupedplot_+3A_panel.data">panel.data</code></td>
<td>
<p>a list (of lists) of data to be used with each panel (e.g. list(NA, 'Names', list('lower.bound','estimate','upper.bound')).</p>
</td></tr>
<tr><td><code id="lmgroupedplot_+3A_map.link">map.link</code></td>
<td>
<p>a vector with the name of the columns from stat.data and map.data, respectively, on which to join.</p>
</td></tr>
<tr><td><code id="lmgroupedplot_+3A_npanels">nPanels</code></td>
<td>
<p>the number of panels, which is not expected to be set by the user.  The default is the length of panel.types.</p>
</td></tr>
<tr><td><code id="lmgroupedplot_+3A_grp.by">grp.by</code></td>
<td>
<p>The column name from stat.data with which to order the lines of the output graphic for a standard lmPLot or identifier column on which to group the categorized lmPLot.</p>
</td></tr>
<tr><td><code id="lmgroupedplot_+3A_cat">cat</code></td>
<td>
<p>category column within stats table for a categorization type lmplot.</p>
</td></tr>
<tr><td><code id="lmgroupedplot_+3A_colors">colors</code></td>
<td>
<p>a vector of colors for the perceptual groups.  The default is brewer.pal(max(grouping), 'Spectral') for lmplot and brewer.pal(10, 'Spectral') for lmgroupedplot).  The colors are passed to <code><a href="grDevices.html#topic+colorRampPalette">colorRampPalette</a></code> to create a continuous color vector equal in length to the groupings.</p>
</td></tr>
<tr><td><code id="lmgroupedplot_+3A_map.color">map.color</code></td>
<td>
<p>the color to fill in previously displayed polygons.</p>
</td></tr>
<tr><td><code id="lmgroupedplot_+3A_map.all">map.all</code></td>
<td>
<p>by default, lmplot will only plot the polygons associated with data in the stats table; map.all = TRUE will show all the polygons in the polygon table regardless of whether they are actively referred to.</p>
</td></tr>
<tr><td><code id="lmgroupedplot_+3A_print.file">print.file</code></td>
<td>
<p>name of the file being created. The extension (.pdf, .tiff, .jpeg, .png) tells lmplot which image creation tool to use.</p>
</td></tr>
<tr><td><code id="lmgroupedplot_+3A_print.res">print.res</code></td>
<td>
<p>the resolution of the image to use.</p>
</td></tr>
<tr><td><code id="lmgroupedplot_+3A_panel.att">panel.att</code></td>
<td>
<p>a list of panel specific attributes to be altered (see lmplot documentation).</p>
</td></tr>
<tr><td><code id="lmgroupedplot_+3A_plot.header">plot.header</code></td>
<td>
<p>the overall title to be placed on the lmPLot.</p>
</td></tr>
<tr><td><code id="lmgroupedplot_+3A_plot.header.size">plot.header.size</code></td>
<td>
<p>size of the overall title to be placed on the lmPLot.</p>
</td></tr>
<tr><td><code id="lmgroupedplot_+3A_plot.header.color">plot.header.color</code></td>
<td>
<p>color of the overall title to be placed on the lmPLot.</p>
</td></tr>
<tr><td><code id="lmgroupedplot_+3A_plot.footer">plot.footer</code></td>
<td>
<p>the overall footer to be placed under the lmPLot.</p>
</td></tr>
<tr><td><code id="lmgroupedplot_+3A_plot.footer.size">plot.footer.size</code></td>
<td>
<p>size of the overall footer to be placed under the lmPLot.</p>
</td></tr>
<tr><td><code id="lmgroupedplot_+3A_plot.footer.color">plot.footer.color</code></td>
<td>
<p>color of the overall footer to be placed under the lmPLot.</p>
</td></tr>
<tr><td><code id="lmgroupedplot_+3A_plot.width">plot.width</code></td>
<td>
<p>width of the overall plot in inches. Defaults to 7.</p>
</td></tr>
<tr><td><code id="lmgroupedplot_+3A_plot.height">plot.height</code></td>
<td>
<p>height of the overall plot in inches. Defaults to 7.</p>
</td></tr>
<tr><td><code id="lmgroupedplot_+3A_map.spacing">map.spacing</code></td>
<td>
<p>the vertical spacing between maps measured in lines. Perceptual group spacing does not affect map spacing so as to leave the maps as large as possible. The user can increase map spacing using this argument. Defaults to 1.</p>
</td></tr>
<tr><td><code id="lmgroupedplot_+3A_plot.grp.spacing">plot.grp.spacing</code></td>
<td>
<p>the vertical spacing between groups measured in lines. Defaults to 1.</p>
</td></tr>
<tr><td><code id="lmgroupedplot_+3A_plot.panel.spacing">plot.panel.spacing</code></td>
<td>
<p>the vertical spacing between panels measured in lines. Defaults to 1.</p>
</td></tr>
<tr><td><code id="lmgroupedplot_+3A_plot.panel.margins">plot.panel.margins</code></td>
<td>
<p>the horizontal spacing between panels measured in lines. THIS IS LEGACY CODE AND SHOULD NOT BE USED.</p>
</td></tr>
<tr><td><code id="lmgroupedplot_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to or from other methods.</p>
</td></tr>
<tr><td><code id="lmgroupedplot_+3A_ord.by">ord.by</code></td>
<td>
<p>The column name from stat.data with which to order the lines of the output graphic for a standard lmPLot or identifier column on which to group the categorized lmPLot.</p>
</td></tr>
<tr><td><code id="lmgroupedplot_+3A_rev.ord">rev.ord</code></td>
<td>
<p>specifies whether the plot should be displayed in reverse order of the ranking column. The default is FALSE.</p>
</td></tr>
<tr><td><code id="lmgroupedplot_+3A_grouping">grouping</code></td>
<td>
<p>the number of lines per perceptual group (for the standard lmplot only). Can be a single number to have the same numer in each group or a vector of numbers for unequal groupings.</p>
</td></tr>
<tr><td><code id="lmgroupedplot_+3A_median.row">median.row</code></td>
<td>
<p>specifies whether a median row should be included.  If an odd number of data lines are supplied, a data line itself will be used as the median, otherwise median entries will be calculated from the supplied data. Note that without a median row maps are forced into proper size.</p>
</td></tr>
<tr><td><code id="lmgroupedplot_+3A_vertical.align">vertical.align</code></td>
<td>
<p>controls vertical alignment of the median row.</p>
</td></tr>
<tr><td><code id="lmgroupedplot_+3A_median.color">median.color</code></td>
<td>
<p>specifies color of the median row.</p>
</td></tr>
<tr><td><code id="lmgroupedplot_+3A_map.color2">map.color2</code></td>
<td>
<p>the color to fill in previously displayed polygons.</p>
</td></tr>
<tr><td><code id="lmgroupedplot_+3A_two.ended.maps">two.ended.maps</code></td>
<td>
<p>the resulting micromaps will highlight previously referenced polygons (see map.color2) up to the median perceptual group then switch to highlighting all polygons that are still to be referenced later.</p>
</td></tr>
<tr><td><code id="lmgroupedplot_+3A_plot.pgrp.spacing">plot.pGrp.spacing</code></td>
<td>
<p>the vertical spacing between perceptual groups measured in lines. Defaults to 1.</p>
</td></tr>
<tr><td><code id="lmgroupedplot_+3A_median.text.color">median.text.color</code></td>
<td>
<p>specifies color of text in the median row.</p>
</td></tr>
<tr><td><code id="lmgroupedplot_+3A_median.text.size">median.text.size</code></td>
<td>
<p>specifies size of text in the median row.</p>
</td></tr>
<tr><td><code id="lmgroupedplot_+3A_median.text.label">median.text.label</code></td>
<td>
<p>specifies the label for text in the median row.</p>
</td></tr>
<tr><td><code id="lmgroupedplot_+3A_trans">trans</code></td>
<td>
<p>chr string for axis transformations, passed to <code><a href="ggplot2.html#topic+scale_x_continuous">scale_x_continuous</a></code>.  Acceptable values are &quot;asn&quot;, &quot;atanh&quot;, &quot;boxcox&quot;, &quot;exp&quot;, &quot;identity&quot;, &quot;log&quot;, &quot;log10&quot;, &quot;log1p&quot;, &quot;log2&quot;, &quot;logit&quot;, &quot;probability&quot;, &quot;probit&quot;, &quot;reciprocal&quot;, &quot;reverse&quot; or &quot;sqrt&quot;.  One value will be recycled to all panels as needed, otherwise one per panel can be used in a combined string. Applies only to panels with axes.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of ggplot2 objects with entries for each individual panel.
</p>


<h3>Note</h3>

<p>See the Introduction Guide for a full list of the options available for altering micromaps.
</p>


<h3>Author(s)</h3>

<p>Quinn Payton <a href="mailto:Payton.Quinn@epa.gov">Payton.Quinn@epa.gov</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># initial example

data("USstates")
head(USstates@data)
statePolys &lt;- create_map_table(USstates, 'ST')
head(statePolys)

data("edPov")

# basic figure 1
lmplot(stat.data = edPov,
  	map.data = statePolys,
	panel.types = c('labels', 'dot', 'dot','map'),
	panel.data = list('state','pov','ed', NA),
	ord.by = 'pov',   
	grouping = 5, median.row = TRUE,
	map.link = c('StateAb','ID'))

## Not run: 
# publication figure 1a
lmplot(stat.data = edPov,  map.data = statePolys ,
	panel.types = c('labels', 'dot', 'dot','map'),
	panel.data = list('state','pov','ed', NA),
	ord.by = 'pov',  
	grouping = 5, 
  	median.row = TRUE,
	map.link = c('StateAb','ID'),
	
  	plot.height = 9,							
	colors = c('red','orange','green','blue','purple'), 
	map.color2 = 'lightgray',
       
	panel.att = list(
	    list(1, header = 'States', panel.width = .8, align = 'left', 
	      text.size = .9),
			list(2, header = 'Percent Living Below \n Poverty Level',
				graph.bgcolor = 'lightgray', point.size = 1.5,
				xaxis.ticks = list(10,15,20), xaxis.labels = list(10,15,20),
				xaxis.title = 'Percent'),
			list(3, header = 'Percent Adults With\n4+ Years of College',
				graph.bgcolor = 'lightgray', point.size = 1.5,
				xaxis.ticks = list(0,20,30,40), xaxis.labels = list(0,20,30,40),
				xaxis.title = 'Percent'),
			list(4, header = 'Light Gray Means\nHighlighted Above',  
				inactive.border.color = gray(.7), inactive.border.size = 2,	
				panel.width = .8)))

edPov$points &lt;- 0	

# publication figure 1b
lmplot (stat.data = edPov, map.data = statePolys,
	panel.types = c('dot',  'labels', 'dot', 'dot', 'map'),
	panel.data = list('points', 'state', 'pov', 'ed', NA),
	map.link = c('StateAb','ID'),
	ord.by = 'pov', 
	grouping = 5, 
	median.row = TRUE, 
	
	plot.height = 9, 
	
	colors = c('red','orange','green','blue','purple'),
	map.color2 = 'lightgray', 

	panel.att = list(list(1, panel.width = .15, point.type = 20,
					graph.border.color = 'white',
					xaxis.text.display = FALSE, xaxis.line.display = FALSE,
					graph.grid.major = FALSE),
	
				list(2, header = 'States', panel.width = .8, 
					align = 'left', text.size = .9),

				list(3, header = 'Percent Living Below\nPoverty Level',
					graph.bgcolor = 'lightgray', point.size = 1.5,
					xaxis.ticks = list(10,15,20), 
					xaxis.labels = list(10,15,20),
					xaxis.title = 'Percent'),

				list(4, header = 'Percent Adults With\n4+ Years of College',
					graph.bgcolor = 'lightgray', point.size = 1.5,
					xaxis.ticks = list(20,30,40), 
					xaxis.labels = list(20,30,40), 
					xaxis.title = 'Percent'),
	
				list(5, header = 'Light Gray Means\nHighlighted Above', 
					inactive.border.color = gray(.7), inactive.border.size = 2, 
					panel.width = .8)))

# publication figure 1c
myPlot &lt;- lmplot(stat.data = edPov, map.data = statePolys,
	panel.types = c('map', 'dot',  'labels', 'dot', 'dot'),
	panel.data = list(NA, 'points', 'state', 'pov', 'ed'),
	map.link = c('StateAb','ID'),
	ord.by = 'pov', 
	grouping = 5, 
	median.row = TRUE,

	plot.height = 9, 
	
	colors = c('red','orange','green','blue','purple'),
	map.color2 = 'lightgray', 

	panel.att = list(list(2, panel.width = .15, point.type = 20,
				graph.border.color = 'white',
				xaxis.text.display = FALSE, xaxis.line.display = FALSE,
				graph.grid.major = FALSE),

			list(3, header = 'States', panel.width = .8, 
				align = 'left', text.size = .9),

			list(4, header = 'Percent Living Below\nPoverty Level',
				graph.bgcolor = 'lightgray', point.size = 1.5,
				xaxis.ticks = list(10,15,20), xaxis.labels = list(10,15,20),
				xaxis.title = 'Percent'),

			list(5, header = 'Percent Adults With\n4+ Years of College',
				graph.bgcolor = 'lightgray', point.size = 1.5,
				xaxis.ticks = list(20,30,40), 
				xaxis.labels = list(20,30,40), 
				xaxis.title = 'Percent'),
	
			list(1, header = 'Light Gray Means\nHighlighted Above', 
				inactive.border.color = gray(.7), inactive.border.size = 2, 
				panel.width = .8)))

print(myPlot, name = 'myExhibit.tiff', res = 300)

## End(Not run)
</code></pre>

<hr>
<h2 id='lungMort'>Example Dataset: Lung Cancer Mortality</h2><span id='topic+lungMort'></span>

<h3>Description</h3>

<p>Lung mortality rates for all 50 states and Washington D.C.
</p>


<h3>Format</h3>

<p>A data frame with 51 rows and the following 14 columns: </p>

<dl>
<dt>StateAb</dt><dd><p>abbreviation of state name.</p>
</dd> <dt>Rate_95</dt><dd><p>mortality rate
estimate for 1995.</p>
</dd> <dt>Count_95</dt><dd><p>estimated number of cases in 1995.</p>
</dd>
<dt>Lower_95</dt><dd><p>lower bound of a 95 percent confidence interval for 1995
mortality rate.</p>
</dd> <dt>Upper_95</dt><dd><p>lower bound of a 95 percent confidence
interval for 1995 mortality rate.</p>
</dd> <dt>Pop_95</dt><dd><p>population in 1995.</p>
</dd>
<dt>StdErr_95</dt><dd><p>estimated stadard error of the estimated mortality rate in
2000.</p>
</dd> <dt>Rate_00</dt><dd><p>mortality rate estimate for 2000.</p>
</dd>
<dt>Count_00</dt><dd><p>estimated number of cases in 2000.</p>
</dd> <dt>Lower_00</dt><dd><p>lower
bound of a 95 percent confidence interval for 2000 mortality rate.</p>
</dd>
<dt>Upper_00</dt><dd><p>lower bound of a 95 percent confidence interval for 2000
mortality rate.</p>
</dd> <dt>Pop_00</dt><dd><p>population in 2000.</p>
</dd>
<dt>StdErr_00</dt><dd><p>estimated stadard error of the estimated mortality rate in
2000.</p>
</dd> <dt>State</dt><dd><p>full state name.</p>
</dd> </dl>



<h3>Note</h3>

<p>This is just an example data set.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(lungMort)
head(lungMort)

</code></pre>

<hr>
<h2 id='OrEcoLevel3'>Example Dataset: Oregon Level 3 Ecoregion Shapefile</h2><span id='topic+OrEcoLevel3'></span>

<h3>Description</h3>

<p>An object of class 'SpatialPolygonsDataFrame' that was created from a
shapefile detailing boundaries of the level 3 ecoregion borders of Oregon.
</p>


<h3>Format</h3>

<p>The format is: Formal class 'SpatialPointsDataFrame' [package &quot;sp&quot;].
</p>


<h3>Note</h3>

<p>This is just an example data set.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(OrEcoLevel3)
spplot(OrEcoLevel3, zcol="US_L3NAME", col.regions=rainbow(9, s=0.75))

</code></pre>

<hr>
<h2 id='print.mm'>Print lmplot Object to a File</h2><span id='topic+print.mm'></span>

<h3>Description</h3>

<p>Takes a stored lmplot object of class mm and prints to a file whose type is
implied by the file name.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'mm'
print(x, name = NULL, res = 300, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.mm_+3A_x">x</code></td>
<td>
<p>name of the lmplot object.</p>
</td></tr>
<tr><td><code id="print.mm_+3A_name">name</code></td>
<td>
<p>name of the file to be produced. tiff, png, jpeg, and pdf are
recognized.</p>
</td></tr>
<tr><td><code id="print.mm_+3A_res">res</code></td>
<td>
<p>resolution in dpi.</p>
</td></tr>
<tr><td><code id="print.mm_+3A_...">...</code></td>
<td>
<p>Additional arguments.  (Currently ignored.)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns nothing.
</p>


<h3>Author(s)</h3>

<p>Quinn Payton <a href="mailto:Payton.Quinn@epa.gov">Payton.Quinn@epa.gov</a>
</p>

<hr>
<h2 id='printLMPlot'>Print lmplot Object to a File</h2><span id='topic+printLMPlot'></span>

<h3>Description</h3>

<p>Takes a stored lmplot object and uses the print method for objects of class
mm to print to a file whose type is implied by the file name.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>printLMPlot(plobject, name = NULL, res = 300)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="printLMPlot_+3A_plobject">plobject</code></td>
<td>
<p>name of the lmplot object.</p>
</td></tr>
<tr><td><code id="printLMPlot_+3A_name">name</code></td>
<td>
<p>name of the file to be produced. Tiff, png, jpeg, and pdf are
recognized.</p>
</td></tr>
<tr><td><code id="printLMPlot_+3A_res">res</code></td>
<td>
<p>resolution in dpi.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns nothing.
</p>


<h3>Author(s)</h3>

<p>Quinn Payton <a href="mailto:Payton.Quinn@epa.gov">Payton.Quinn@epa.gov</a>
</p>

<hr>
<h2 id='right'>Substring Function</h2><span id='topic+right'></span>

<h3>Description</h3>

<p>Mimics the Excel Function of the Same Name
</p>


<h3>Usage</h3>

<pre><code class='language-R'>right(txt, i)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="right_+3A_txt">txt</code></td>
<td>
<p>string to be substringed.</p>
</td></tr>
<tr><td><code id="right_+3A_i">i</code></td>
<td>
<p>number of characters to substring.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character value containing the substring.
</p>


<h3>Author(s)</h3>

<p>Quinn Payton <a href="mailto:Payton.Quinn@epa.gov">Payton.Quinn@epa.gov</a>
</p>

<hr>
<h2 id='sample_att'>Sample Attribute List Creator</h2><span id='topic+sample_att'></span>

<h3>Description</h3>

<p>Creates a sample attribute list for use in the creation of new panel types.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sample_att(
  size = 1,
  type = rep("standard", size),
  ord.by = NA,
  grouping = 5,
  colors = brewer.pal(max(grouping), "Spectral"),
  plot.pGrp.spacing = 0.05,
  plot.panel.margins = c(0, 1, 0, 0),
  panel.data = list(NA),
  median.row = FALSE,
  show = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sample_att_+3A_size">size</code></td>
<td>
<p>specify the number of attibutes lists to be created.</p>
</td></tr>
<tr><td><code id="sample_att_+3A_type">type</code></td>
<td>
<p>match the attributes to which type of default panel.</p>
</td></tr>
<tr><td><code id="sample_att_+3A_ord.by">ord.by</code></td>
<td>
<p>argument inhereted from lmplot/lmGroupedplot.</p>
</td></tr>
<tr><td><code id="sample_att_+3A_grouping">grouping</code></td>
<td>
<p>argument inhereted from lmplot/lmGroupedplot.</p>
</td></tr>
<tr><td><code id="sample_att_+3A_colors">colors</code></td>
<td>
<p>argument inhereted from lmplot/lmGroupedplot.</p>
</td></tr>
<tr><td><code id="sample_att_+3A_plot.pgrp.spacing">plot.pGrp.spacing</code></td>
<td>
<p>argument inhereted from lmplot/lmGroupedplot.</p>
</td></tr>
<tr><td><code id="sample_att_+3A_plot.panel.margins">plot.panel.margins</code></td>
<td>
<p>argument inhereted from lmplot/lmGroupedplot.</p>
</td></tr>
<tr><td><code id="sample_att_+3A_panel.data">panel.data</code></td>
<td>
<p>argument inhereted from lmplot/lmGroupedplot.</p>
</td></tr>
<tr><td><code id="sample_att_+3A_median.row">median.row</code></td>
<td>
<p>argument inhereted from lmplot/lmGroupedplot.</p>
</td></tr>
<tr><td><code id="sample_att_+3A_show">show</code></td>
<td>
<p>controls whether to print the resulting attribute list.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of attributes to be used in the creation of a panel
</p>


<h3>Note</h3>

<p>See the Introduction Guide for a full list of the options available
for altering micromaps.
</p>


<h3>Author(s)</h3>

<p>Quinn Payton <a href="mailto:Payton.Quinn@epa.gov">Payton.Quinn@epa.gov</a>
</p>

<hr>
<h2 id='statesFlatfile'>Example Dataset: A Table of State Polygons</h2><span id='topic+statesFlatfile'></span>

<h3>Description</h3>

<p>Polygon vertices for each state.
</p>


<h3>Format</h3>

<p>A data frame with 434 rows and the following 4 columns: </p>

<dl>
<dt>ID</dt><dd><p>abbreviation or state name.</p>
</dd> <dt>coordsx</dt><dd><p>x coordinates for each
polygon vertice.</p>
</dd> <dt>coordsy</dt><dd><p>y coordinates for each polygon vertice.</p>
</dd>
<dt>poly</dt><dd><p>individual polygon identifier within each state.</p>
</dd> </dl>



<h3>Note</h3>

<p>This is just an example data set.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(statesFlatfile)
head(statesFlatfile)

</code></pre>

<hr>
<h2 id='USstates'>Example Dataset: U.S. States Polygons</h2><span id='topic+USstates'></span>

<h3>Description</h3>

<p>An object of class 'SpatialPolygonsDataFrame' that was created from a
shapefile of U.S. state borders.
</p>


<h3>Format</h3>

<p>The format is: Formal class 'SpatialPolygonsDataFrame' [package
&quot;sp&quot;].
</p>


<h3>Note</h3>

<p>This is just an example data set.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(USstates)
plot(USstates)

</code></pre>

<hr>
<h2 id='vegCov'>Example Dataset: Vegetation Coverage Percentages</h2><span id='topic+vegCov'></span>

<h3>Description</h3>

<p>A subset of a larger vegetation coverage analysis dataset.
</p>


<h3>Format</h3>

<p>A data frame with 12 rows and the following 13 columns: </p>

<dl>
<dt>Type</dt><dd><p>the population name.</p>
</dd> <dt>Subpopulation</dt><dd><p>the subpopulation
name, either national or level 3 ecoregion.</p>
</dd> <dt>Indicator</dt><dd><p>the ecological
variable (indicator)</p>
</dd> <dt>Category</dt><dd><p>category of disturbance.</p>
</dd>
<dt>NResp</dt><dd><p>sample size.</p>
</dd> <dt>Estimate.P</dt><dd><p>estimated percentage of
vegetation coverage with a given classification.</p>
</dd> <dt>StdError.P</dt><dd><p>standard
error of the percentage estimate.</p>
</dd> <dt>LCB95Pct.P</dt><dd><p>lower bound of a 95
percent confidence interval for the estimated percentage.</p>
</dd>
<dt>UCB95Pct.P</dt><dd><p>upper bound of a 95 percent confidence interval for the
estimated percentage.</p>
</dd> <dt>Estimate.U</dt><dd><p>estimated area of vegetation
coverage with a given classification.</p>
</dd> <dt>StdError.U</dt><dd><p>standard error of
the area estimate.</p>
</dd> <dt>LCB95Pct.U</dt><dd><p>lower bound of a 95 percent confidence
interval for the estimated area.</p>
</dd> <dt>UCB95Pct.U</dt><dd><p>upper bound of a 95
percent confidence interval for the estimated area.</p>
</dd> </dl>



<h3>Note</h3>

<p>This is just an example data set.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(vegCov)
head(vegCov)

</code></pre>

<hr>
<h2 id='WSA3'>Example Dataset: Major U.S. EcoRegions</h2><span id='topic+WSA3'></span>

<h3>Description</h3>

<p>An object of class 'SpatialPolygonsDataFrame' that was created from a
shapefile of the U.S. level 3 ecoregion boundaries.
</p>


<h3>Format</h3>

<p>The format is: Formal class 'SpatialPointsDataFrame' [package &quot;sp&quot;].
</p>


<h3>Note</h3>

<p>This is just an example data set.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(WSA3)
spplot(WSA3, zcol="WSA_3_NM", col.regions=rainbow(3, s=0.75))

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

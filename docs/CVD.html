<!DOCTYPE html><html><head><title>Help for package CVD</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {CVD}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#approx.scotopic.luminance.LarsonEtAl.RGB'><p> Approximation of the scotopic luminance</p></a></li>
<li><a href='#attenuationNumberOfEyes'><p>Attenuation as a function of number of eyes</p></a></li>
<li><a href='#B20'><p>Farnsworth B-20 cap colors</p></a></li>
<li><a href='#BowmanTCDS'><p>Table of color distance scores for quantitative scoring of the Farnsworth panel D-15 test</p></a></li>
<li><a href='#calculateCircle'><p> Generate points from a circle</p></a></li>
<li><a href='#calculateTES'><p>total error score (TES) using Farnsworth's or Kinnear's method</p></a></li>
<li><a href='#Color.Vision.c2g'><p>Decolorize an image using the c2g algorithm</p></a></li>
<li><a href='#Color.Vision.Daltonize'><p>Daltonize images</p></a></li>
<li><a href='#Color.Vision.Simulate'><p>Simulate CVDs on images</p></a></li>
<li><a href='#Color.Vision.VingrysAndKingSmith'><p>Scoring the results of the &quot;D-15&quot;, &quot;D-15DS&quot; or &quot;FM1OO-Hue&quot; tests</p></a></li>
<li><a href='#createPNGbuttons'><p>Creates PNG files to be used as colored caps (buttons)</p></a></li>
<li><a href='#D15Foutch'><p>Quantitatively analyzes of D15 color panel tests</p></a></li>
<li><a href='#decolorize'><p>Decolorize algorithm from Mark Grundland and Neil A. Dodgson</p></a></li>
<li><a href='#dichromaticCopunctalPoint'><p>Copunctal points derived by Smith and Pokorny (1975)</p></a></li>
<li><a href='#effectiveCornealFluxDensity'><p>Effective Corneal Flux Density</p></a></li>
<li><a href='#effectivePupilArea'><p> Effective area of the illuminated pupil</p></a></li>
<li><a href='#example1Lanthony1978'><p>Example of cap arrangements for the D-15d test, Simple/Extreme Anomalous Trichromacy</p></a></li>
<li><a href='#example2Lanthony1978'><p>Example of cap arrangements for the D-15d test, Central Serous Choroidopathy/Optic Neuritis/Autosomal Dominant OpticAtrophy</p></a></li>
<li><a href='#exampleBowman1982'><p>Example of cap arrangements for the D-15d test</p></a></li>
<li><a href='#exampleFarnsworth1974'><p>Example of cap arrangements for the D-15 test, deuteranope/protanope/tritanope</p></a></li>
<li><a href='#exampleFM100'><p>Example of cap arrangements for the FM-100 test</p></a></li>
<li><a href='#exampleNRC1981'><p>Example of cap arrangements for the D-15 test, protanope/deuteranope/monochromat</p></a></li>
<li><a href='#exampleSimunovic2004'><p>Example of cap arrangements for the D-15 test, rodMonochromat/blueConeMonochromat</p></a></li>
<li><a href='#FarnsworthD15'><p>Farnsworth D-15 cap colors</p></a></li>
<li><a href='#FarnsworthMunsell100Hue'><p>Farnsworth D-15 cap colors</p></a></li>
<li><a href='#GellerTCDS'><p>Table of color distance scores for quantitative scoring of the Lanthony desaturate D-15s test</p></a></li>
<li><a href='#greyscale.avg'><p>Greyscale algorithms</p></a></li>
<li><a href='#H16'><p>Farnsworth H-16 cap colors</p></a></li>
<li><a href='#illuminance2troland'><p> Convert from luminance to troland and effective troland</p></a></li>
<li><a href='#interpretation.VingrysAndKingSmith'><p>Automatic interpretation of test scores</p></a></li>
<li><a href='#LanthonyD15'><p>Farnsworth H-16 cap colors</p></a></li>
<li><a href='#lightAdaptedPupilSize.Barten'><p>pupil diameter ranges from Barten, L. (1999)</p></a></li>
<li><a href='#lightAdaptedPupilSize.BlackieAndHowland'><p>pupil diameter ranges from Blackie, C. A., &amp; Howland, H. C. (1999)</p></a></li>
<li><a href='#lightAdaptedPupilSize.Crawford'><p>pupil diameter ranges from Crawford, L. (1936)</p></a></li>
<li><a href='#lightAdaptedPupilSize.DeGrootAndGebhard'><p>pupil diameter ranges from DeGrootAndGebhard, L. (1952)</p></a></li>
<li><a href='#lightAdaptedPupilSize.Holladay'><p>pupil diameter ranges from Holladay, L. (1926)</p></a></li>
<li><a href='#lightAdaptedPupilSize.LeGrand'><p>pupil diameter ranges from Le Grand (1992)</p></a></li>
<li><a href='#lightAdaptedPupilSize.MoonAndSpencer'><p>pupil diameter ranges from MoonAndSpencer, L. (1944)</p></a></li>
<li><a href='#lightAdaptedPupilSize.StanleyAndDavies'><p>pupil diameter ranges from StanleyAndDavies, L. (1995)</p></a></li>
<li><a href='#lightAdaptedPupilSize.WatsonAndYellott'><p>pupil diameter ranges from Watson A. B., Yellott J. I. (2012)</p></a></li>
<li><a href='#lightAdaptedPupilSize.WinnEtAl'><p>pupil diameter ranges from Winn et al (1995)</p></a></li>
<li><a href='#limitScore'><p>Internal CVD functions</p></a></li>
<li><a href='#loadPNG'><p>Load a PNG file</p></a></li>
<li><a href='#neutralPoint'><p>Neutral points for CIE 1976 uv, CIE 1931 xy and CIE 1960 uv</p></a></li>
<li><a href='#plotConfusionVectors'><p>Plot confusion vectors for CIE 1976 uv, CIE 1931 xy and CIE 1960 uv</p></a></li>
<li><a href='#Roth28'><p>Roth-28 cap colors</p></a></li>
<li><a href='#scoreD15Graphic'><p>Graphical score for the D-15 tests</p></a></li>
<li><a href='#scoreD15TCDS'><p>Total Color Difference Score (TCDS) for the D-15 tests</p></a></li>
<li><a href='#scoreFM100Graphic'><p>Graphical score for the D-15 tests</p></a></li>
<li><a href='#scoreRoth28Graphic'><p>Graphical score for the D-15 tests</p></a></li>
<li><a href='#showDuplicated'><p>Show missing and duplicated cap numbers</p></a></li>
<li><a href='#typicalD15'><p>Typical cap arrangements for the D-15 tests</p></a></li>
<li><a href='#vectorPNGbuttons'><p>Vector of PNG files representing colored caps (buttons)</p></a></li>
<li><a href='#VKSgraphic'><p>Graphical score for the D-15 tests</p></a></li>
<li><a href='#VKStable2'><p>Table with results of D-15 tests scored with the Vingrys and King-Smith method</p></a></li>
<li><a href='#XYZ2scotopic.Rawtran'><p> Approximation of the scotopic luminance</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Color Vision Deficiencies</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.2</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Description:</td>
<td>Methods for color vision deficiencies (CVD), to help understanding and mitigating issues with CVDs and to generate tests for diagnosis and interpretation.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>Enhances:</td>
<td>png, gWidgets2, RGtk2</td>
</tr>
<tr>
<td>LazyData:</td>
<td>yes</td>
</tr>
<tr>
<td>Author:</td>
<td>Jose Gama [aut, cre, trl],
  Brian Foutch [ctb],
  Mark Grundland [ctb],
  Neil Dodgson [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jose Gama &lt;rxprtgama@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Repository/R-Forge/Project:</td>
<td>cvd</td>
</tr>
<tr>
<td>Repository/R-Forge/Revision:</td>
<td>16</td>
</tr>
<tr>
<td>Repository/R-Forge/DateTimeStamp:</td>
<td>2016-11-28 09:01:48</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2016-11-28 13:23:17</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2016-11-28 09:06:04 UTC; rforge</td>
</tr>
</table>
<hr>
<h2 id='approx.scotopic.luminance.LarsonEtAl.RGB'> Approximation of the scotopic luminance</h2><span id='topic+approx.scotopic.luminance.LarsonEtAl.RGB'></span><span id='topic+approx.scotopic.luminance.LarsonEtAl.RGB.array'></span><span id='topic+approx.scotopic.luminance.LarsonEtAl.XYZ'></span><span id='topic+approx.scotopic.luminance.LarsonEtAl.XYZ.array'></span>

<h3>Description</h3>

<p><code>approx.scotopic.luminance.LarsonEtAl.RGB</code> approximates the scotopic luminance from RGB values.
<code>approx.scotopic.luminance.LarsonEtAl.XYZ</code> approximates the scotopic luminance from XYZ values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>approx.scotopic.luminance.LarsonEtAl.XYZ(XYZmatrix)
approx.scotopic.luminance.LarsonEtAl.RGB(RGBmatrix)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="approx.scotopic.luminance.LarsonEtAl.RGB_+3A_xyzmatrix">XYZmatrix</code></td>
<td>
<p> matrix with XYZ values</p>
</td></tr>
<tr><td><code id="approx.scotopic.luminance.LarsonEtAl.RGB_+3A_rgbmatrix">RGBmatrix</code></td>
<td>
<p> matrix with RGB values</p>
</td></tr>
</table>


<h3>Value</h3>

<p>approximated scotopic luminance
</p>


<h3>Author(s)</h3>

<p>Jose Gama</p>


<h3>Source</h3>

<p>Larson, G. W., H. Rushmeier, and C. Piatko (1997, October - December).
A visibility matching tone reproduction operator for high dynamic range scenes.
IEEE Transactions on Visualization and Computer Graphics 3 (4), 291–306.
</p>


<h3>References</h3>

<p>Larson, G. W., H. Rushmeier, and C. Piatko (1997, October - December).
A visibility matching tone reproduction operator for high dynamic range scenes.
IEEE Transactions on Visualization and Computer Graphics 3 (4), 291–306.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
samplePics &lt;- c('fruits', 'pastel_color', 'sample1', 'TurnColorsGrayImage1', 'TurnColorsGrayImage2')
for (pics in samplePics)
{
fname&lt;-paste(system.file(package='CVD'),'/extdata/',pics,'.png',sep='')
imgTest&lt;-loadPNG(fname)
imgTest.array&lt;-approx.scotopic.luminance.LarsonEtAl.RGB.array(imgTest)
png::writePNG(imgTest.array, paste(pics, '.approx.scotopic.luminance.LarsonEtAl.RGB.png',sep=''))
}

## End(Not run)
</code></pre>

<hr>
<h2 id='attenuationNumberOfEyes'>Attenuation as a function of number of eyes</h2><span id='topic+attenuationNumberOfEyes'></span>

<h3>Description</h3>

<p><code>attenuationNumberOfEyes</code> computes the attenuation as a function M(e) of number of eyes e (1 or 2), from Watson A. B., Yellott J. I. (2012).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>attenuationNumberOfEyes(e)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="attenuationNumberOfEyes_+3A_e">e</code></td>
<td>
<p> number of eyes (1 or 2)</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>PupilSize</code></td>
<td>
<p> attenuation</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jose Gama</p>


<h3>References</h3>

<p>Watson A. B., Yellott J. I. (2012). A unified formula for light-adapted pupil size. Journal of Vision, 12(10):12, 1–16. http://journalofvision.org/12/10/12/, doi:10.1167/5.9.6.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
attenuationNumberOfEyes(1)
attenuationNumberOfEyes(2)

## End(Not run)
</code></pre>

<hr>
<h2 id='B20'>Farnsworth B-20 cap colors</h2><span id='topic+B20'></span>

<h3>Description</h3>

<p><code>B20</code> contains the cap colors for the Farnsworth B-20 test, in XYZ coordinates.
The Farnsworth B-20 is a short test for detecting congenital color vision deficiencies.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>B20</code></pre>


<h3>Format</h3>

<p>This data frame contains the following columns:
</p>

<dl>
<dt>CapNo</dt><dd><p> Cap Number</p>
</dd>
<dt>Munsell</dt><dd><p> Munsell color</p>
</dd>
<dt>X</dt><dd><p> CIE X cap color</p>
</dd>
<dt>Y</dt><dd><p> CIE Y cap color</p>
</dd>
<dt>Z</dt><dd><p> CIE Z cap color</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Jose Gama</p>


<h3>Source</h3>

<p>Judd, D.B. and MacAdam, D.L., 1979
Contributions to Color Science
University of Rochester. Institute of Optics and Center for Building Technology
Department of Commerce, National Bureau of Standards
</p>


<h3>References</h3>

<p>Judd, D.B. and MacAdam, D.L., 1979
Contributions to Color Science
University of Rochester. Institute of Optics and Center for Building Technology
Department of Commerce, National Bureau of Standards
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(B20)
B20
</code></pre>

<hr>
<h2 id='BowmanTCDS'>Table of color distance scores for quantitative scoring of the Farnsworth panel D-15 test</h2><span id='topic+BowmanTCDS'></span>

<h3>Description</h3>

<p><code>BowmanTCDS</code> contains the color distance scores for quantitative scoring of the Farnsworth panel D-15 test, from Bowman KJ (1982)
The Farnsworth Dichotomous test (D-15) is a short test for detecting congenital color vision deficiencies. Bowman KJ (1982) created a table based on the Commission Internationale de l'Eclairage (International Commission on Illumination, CIE) Space and Color Difference formula, CIE 1976 (L*a*b*) with perceptual distances between pairs of caps. The table is used for the calculation of the Total Color Distance Score (TCDS) which is the sum of the CIELAB space distances between colored caps.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>BowmanTCDS</code></pre>


<h3>Format</h3>

<p>This data frame contains the following columns:
</p>

<dl>
<dt>Pilot</dt><dd><p> Distances between colored caps for the pilot cap</p>
</dd>
<dt>Cap1</dt><dd><p> Distances between colored caps for the 1st cap</p>
</dd>
<dt>Cap2</dt><dd><p> Distances between colored caps for the 2nd cap</p>
</dd>
<dt>Cap3</dt><dd><p> Distances between colored caps for the 3rd cap</p>
</dd>
<dt>Cap4</dt><dd><p> Distances between colored caps for the 4th cap</p>
</dd>
<dt>Cap5</dt><dd><p> Distances between colored caps for the 5th cap</p>
</dd>
<dt>Cap6</dt><dd><p> Distances between colored caps for the 6th cap</p>
</dd>
<dt>Cap7</dt><dd><p> Distances between colored caps for the 7th cap</p>
</dd>
<dt>Cap8</dt><dd><p> Distances between colored caps for the 8th cap</p>
</dd>
<dt>Cap9</dt><dd><p> Distances between colored caps for the 9th cap</p>
</dd>
<dt>Cap10</dt><dd><p> Distances between colored caps for the 10th cap</p>
</dd>
<dt>Cap11</dt><dd><p> Distances between colored caps for the 11th cap</p>
</dd>
<dt>Cap12</dt><dd><p> Distances between colored caps for the 12th cap</p>
</dd>
<dt>Cap13</dt><dd><p> Distances between colored caps for the 13th cap</p>
</dd>
<dt>Cap14</dt><dd><p> Distances between colored caps for the 14th cap</p>
</dd>
<dt>Cap15</dt><dd><p> Distances between colored caps for the 15th cap</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Jose Gama</p>


<h3>Source</h3>

<p>Bowman KJ: A method for quantitative scoring of the Farnsworth panel D-15. Acta Ophthalmol 60:907, 1982.
</p>


<h3>References</h3>

<p>Bowman KJ: A method for quantitative scoring of the Farnsworth panel D-15. Acta Ophthalmol 60:907, 1982.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(BowmanTCDS)
BowmanTCDS
</code></pre>

<hr>
<h2 id='calculateCircle'> Generate points from a circle</h2><span id='topic+calculateCircle'></span>

<h3>Description</h3>

<p><code>calculateCircle</code> generates points from a circle 
with many options, equally spaced, randomly spaced, with noise added 
to the radius or limited to a segment of angle alpha.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calculateCircle(x, y, r, steps=50,sector=c(0,360),randomDist=FALSE, 
randomFun=runif,...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calculateCircle_+3A_x">x</code></td>
<td>
<p> center point x</p>
</td></tr>
<tr><td><code id="calculateCircle_+3A_y">y</code></td>
<td>
<p> center point y</p>
</td></tr>
<tr><td><code id="calculateCircle_+3A_r">r</code></td>
<td>
<p> radius</p>
</td></tr>
<tr><td><code id="calculateCircle_+3A_steps">steps</code></td>
<td>
<p> number of points</p>
</td></tr>
<tr><td><code id="calculateCircle_+3A_sector">sector</code></td>
<td>
<p> limited circular sector</p>
</td></tr>
<tr><td><code id="calculateCircle_+3A_randomdist">randomDist</code></td>
<td>
<p> logical, TRUE = randomly spaced</p>
</td></tr>
<tr><td><code id="calculateCircle_+3A_randomfun">randomFun</code></td>
<td>
<p> random function</p>
</td></tr>
<tr><td><code id="calculateCircle_+3A_...">...</code></td>
<td>
<p> optiomal parameters to pass to randomFun</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>points</code></td>
<td>
<p> array n x 2 of point coordinates.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jose Gama</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# 100 points from a circle at c(0,0) with radius=200
a&lt;-calculateCircle(0,0,200,100)
plot(a[,1],a[,2],xlim=c(-200,200),ylim=c(-200,200))
par(new=TRUE)
# 12 points from a circle at c(0,0) with radius=190, points between 0 and 90
# degrees
a&lt;-calculateCircle(0,0,190,12,c(0,90))
plot(a[,1],a[,2],xlim=c(-200,200),ylim=c(-200,200),col='red')
par(new=TRUE)
# 12 points from a circle at c(0,0) with radius=180, points between 0 and 180
# degrees, uniform random distribution
a&lt;-calculateCircle(0,0,180,12,c(0,180),TRUE)
plot(a[,1],a[,2],xlim=c(-200,200),ylim=c(-200,200),col='green')
par(new=TRUE)
# 12 points from a circle at c(0,0) with radius=170, points between 0 and 180
# degrees, normal random distribution
a&lt;-calculateCircle(0,0,170,12,c(0,180),TRUE,rnorm)
plot(a[,1],a[,2],xlim=c(-200,200),ylim=c(-200,200),col='blue')

## End(Not run)
</code></pre>

<hr>
<h2 id='calculateTES'>total error score (TES) using Farnsworth's or Kinnear's method</h2><span id='topic+calculateTES'></span>

<h3>Description</h3>

<p><code>calculateTES</code> computes the total error score (TES) using Farnsworth's or Kinnear's method for the FM-100, D-15, Roth-28 and so forth. The input is a vector of cap positions.</p>


<h3>Usage</h3>

<pre><code class='language-R'>calculateTES(fmData, Kinnear=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calculateTES_+3A_fmdata">fmData</code></td>
<td>
<p> vector of cap positions</p>
</td></tr>
<tr><td><code id="calculateTES_+3A_kinnear">Kinnear</code></td>
<td>
<p> position values chosen by tester</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>TCDS</code></td>
<td>
<p> Total Color Difference Score (TCDS)</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jose Gama</p>


<h3>References</h3>

<p>Farnsworth D. The Farnsworth-Munsell 100-Hue Test. Baltimore: Munsell Color Company, 1957.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># a "perfect" score
## Not run: 
calculateTES(userD15values=1:15)
## End(Not run)
</code></pre>

<hr>
<h2 id='Color.Vision.c2g'>Decolorize an image using the c2g algorithm</h2><span id='topic+Color.Vision.c2g'></span><span id='topic+RGBtoHSL'></span>

<h3>Description</h3>

<p><code>Color.Vision.c2g</code> decolorizes an image using the c2g algorithm from Martin Faust (2008).
<code>RGBtoHSL</code> converts from RGB to HSL, used by <code>Color.Vision.c2g</code></p>


<h3>Usage</h3>

<pre><code class='language-R'>Color.Vision.c2g(fileIN=NULL, fileOUT=NULL, CorrectBrightness=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Color.Vision.c2g_+3A_filein">fileIN</code></td>
<td>
<p> PNG input file</p>
</td></tr>
<tr><td><code id="Color.Vision.c2g_+3A_fileout">fileOUT</code></td>
<td>
<p> PNG output file</p>
</td></tr>
<tr><td><code id="Color.Vision.c2g_+3A_correctbrightness">CorrectBrightness</code></td>
<td>
<p> automatic brightness correction</p>
</td></tr>
</table>


<h3>Value</h3>

<p>none
</p>


<h3>Author(s)</h3>

<p>Jose Gama</p>


<h3>References</h3>

<p>Martin Faust 2008 http://www.e56.de/c2g.php
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
fname&lt;-paste(system.file(package='CVD'),'/extdata/fruits.png',sep='')
Color.Vision.c2g(fname, 'fruits.c2g.png')

## End(Not run)
</code></pre>

<hr>
<h2 id='Color.Vision.Daltonize'>Daltonize images</h2><span id='topic+Color.Vision.Daltonize'></span>

<h3>Description</h3>

<p><code>Color.Vision.Daltonize</code> converts images so that the most problematic colors are more visible to people with CVD.</p>


<h3>Usage</h3>

<pre><code class='language-R'>Color.Vision.Daltonize(fileIN=NULL, fileOUT=NULL, myoptions=NULL, amount=1.0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Color.Vision.Daltonize_+3A_filein">fileIN</code></td>
<td>
<p> PNG input file</p>
</td></tr>
<tr><td><code id="Color.Vision.Daltonize_+3A_fileout">fileOUT</code></td>
<td>
<p> PNG output file</p>
</td></tr>
<tr><td><code id="Color.Vision.Daltonize_+3A_myoptions">myoptions</code></td>
<td>
<p> CVD from &quot;Protanope&quot;,&quot;Deuteranope&quot; or &quot;Tritanope&quot;</p>
</td></tr>
<tr><td><code id="Color.Vision.Daltonize_+3A_amount">amount</code></td>
<td>
<p> UNUSED - level from 0.0 to 1.0 for &quot;Achromat&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>none
</p>


<h3>Author(s)</h3>

<p>Jose Gama</p>


<h3>References</h3>

<p>Michael Deal Daltonize.org http://mudcu.be/labs/Color/Vision http://www.daltonize.org/p/about.html &quot;Analysis of Color Blindness&quot; by Onur Fidaner, Poliang Lin and Nevran Ozguven.
&quot;Digital Video Colourmaps for Checking the Legibility of Displays by Dichromats&quot; by Francoise Vienot, Hans Brettel and John D. Mollon http://vision.psychol.cam.ac.uk/jdmollon/papers/colourmaps.pdf
</p>


<h3>Examples</h3>

<pre><code class='language-R'># a "perfect" score
## Not run: 
fname&lt;-paste(system.file(package='CVD'),'/extdata/fruits.png',sep='')
Color.Vision.Daltonize(fname, 'fruits.Daltonize.Protanope.png','Protanope')
Color.Vision.Daltonize(fname, 'fruits.Daltonize.Deuteranope.png','Deuteranope')
Color.Vision.Daltonize(fname, 'fruits.Daltonize.Tritanope.png','Tritanope')

## End(Not run)
</code></pre>

<hr>
<h2 id='Color.Vision.Simulate'>Simulate CVDs on images</h2><span id='topic+Color.Vision.Simulate'></span>

<h3>Description</h3>

<p><code>Color.Vision.Simulate</code> converts images so that the colors look similar to how they are seen by people with CVD.</p>


<h3>Usage</h3>

<pre><code class='language-R'>Color.Vision.Simulate(fileIN=NULL, fileOUT=NULL, myoptions=NULL, amount=1.0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Color.Vision.Simulate_+3A_filein">fileIN</code></td>
<td>
<p> PNG input file</p>
</td></tr>
<tr><td><code id="Color.Vision.Simulate_+3A_fileout">fileOUT</code></td>
<td>
<p> PNG output file</p>
</td></tr>
<tr><td><code id="Color.Vision.Simulate_+3A_myoptions">myoptions</code></td>
<td>
<p> CVD from &quot;Protanope&quot;,&quot;Deuteranope&quot; or &quot;Tritanope&quot;</p>
</td></tr>
<tr><td><code id="Color.Vision.Simulate_+3A_amount">amount</code></td>
<td>
<p> level from 0.0 to 1.0 for &quot;Achromat&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>none
</p>


<h3>Author(s)</h3>

<p>Jose Gama</p>


<h3>References</h3>

<p>Michael Deal Daltonize.org http://mudcu.be/labs/Color/Vision http://www.daltonize.org/p/about.html &quot;Analysis of Color Blindness&quot; by Onur Fidaner, Poliang Lin and Nevran Ozguven.
&quot;Digital Video Colourmaps for Checking the Legibility of Displays by Dichromats&quot; by Francoise Vienot, Hans Brettel and John D. Mollon http://vision.psychol.cam.ac.uk/jdmollon/papers/colourmaps.pdf
</p>


<h3>Examples</h3>

<pre><code class='language-R'># a "perfect" score
## Not run: 
fname&lt;-paste(system.file(package='CVD'),'/extdata/fruits.png',sep='')
Color.Vision.Simulate(fname, 'fruits.Simulate.Protanope.png','Protanope')
Color.Vision.Simulate(fname, 'fruits.Simulate.Deuteranope.png','Deuteranope')
Color.Vision.Simulate(fname, 'fruits.Simulate.Tritanope.png','Tritanope')

## End(Not run)
</code></pre>

<hr>
<h2 id='Color.Vision.VingrysAndKingSmith'>Scoring the results of the &quot;D-15&quot;, &quot;D-15DS&quot; or &quot;FM1OO-Hue&quot; tests</h2><span id='topic+Color.Vision.VingrysAndKingSmith'></span>

<h3>Description</h3>

<p><code>Color.Vision.VingrysAndKingSmith</code> takes a vector with cap numbers from the &quot;D-15&quot;, &quot;D-15DS&quot; or &quot;FM1OO-Hue&quot; tests and outputs the score by the method from Vingrys and King-Smith.</p>


<h3>Usage</h3>

<pre><code class='language-R'>Color.Vision.VingrysAndKingSmith(capnumbers=NULL,testType='D-15',silent=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Color.Vision.VingrysAndKingSmith_+3A_capnumbers">capnumbers</code></td>
<td>
<p> vector with cap numbers</p>
</td></tr>
<tr><td><code id="Color.Vision.VingrysAndKingSmith_+3A_testtype">testType</code></td>
<td>
<p> test type, one of &quot;D-15&quot;, &quot;D-15DS&quot; or &quot;FM1OO-Hue&quot;</p>
</td></tr>
<tr><td><code id="Color.Vision.VingrysAndKingSmith_+3A_silent">silent</code></td>
<td>
<p> logical, if TRUE then the function will send output to the screen, similarly to the original version</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>Angle</code></td>
<td>
<p> confusion angle which identifies the type of color defect</p>
</td></tr>
<tr><td><code>MajRad</code></td>
<td>
<p> major moment of inertia</p>
</td></tr>
<tr><td><code>MinRad</code></td>
<td>
<p> minor moment of inertia</p>
</td></tr>
<tr><td><code>TotErr</code></td>
<td>
<p> error score or estimate of the severity of color defect</p>
</td></tr>
<tr><td><code>Sindex</code></td>
<td>
<p> Selectivity-Index which quantifies the amount of polarity or lack of randomness in a cap arrangement</p>
</td></tr>
<tr><td><code>Cindex</code></td>
<td>
<p> Confusion-Index which quantifies the degree of color loss relative to a perfect arrangement of caps</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jose Gama</p>


<h3>References</h3>

<p>Vingrys, A.J. and King-Smith, P.E. (1988).
A quantitative scoring technique for panel tests of color vision.
Investigative Ophthalmology and Visual Science, 29, 50-63.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>Color.Vision.VingrysAndKingSmith(1:15,silent=FALSE)
#result from the original GW Basic version:
#SUMS OF U AND V              41.25999     -4.92
# ANGLE MAJ RAD MIN RAD TOT ERR S-INDEX C-INDEX
#    61.98     9.23     6.71    11.42     1.38     1.00
Color.Vision.VingrysAndKingSmith(1:15,'D-15DS',silent=FALSE)
#result from the original GW Basic version:
#SUMS OF U AND V              26.86001     -38.69
# ANGLE MAJ RAD MIN RAD TOT ERR S-INDEX C-INDEX
#    61.44     5.12     3.60     6.26     1.42     1.00
Color.Vision.VingrysAndKingSmith(1:85, 'FM1OO-Hue',silent=FALSE)
#result from the original GW Basic version:
#SUMS OF U AND V              423.7896      203.7294
# ANGLE MAJ RAD MIN RAD TOT ERR S-INDEX C-INDEX
#    54.15     2.53     1.97     3.20     1.28     1.00
</code></pre>

<hr>
<h2 id='createPNGbuttons'>Creates PNG files to be used as colored caps (buttons)</h2><span id='topic+createPNGbuttons'></span>

<h3>Description</h3>

 <p><code>createPNGbuttons</code> creates PNG files from a data.frame with RGB values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>createPNGbuttons(capsData = get("FarnsworthD15", envir = environment()),
 imgLength = 44, imgWidth = 78)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="createPNGbuttons_+3A_capsdata">capsData</code></td>
<td>
<p> Input file name.</p>
</td></tr>
<tr><td><code id="createPNGbuttons_+3A_imglength">imgLength</code></td>
<td>
<p> Input file name.</p>
</td></tr>
<tr><td><code id="createPNGbuttons_+3A_imgwidth">imgWidth</code></td>
<td>
<p> Input file name.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>png file object.
</p>


<h3>Author(s)</h3>

<p>Jose Gama</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
createPNGbuttons(data.frame(R=0,G=0,B=0))
data(FarnsworthD15)
createPNGbuttons(FarnsworthD15)

## End(Not run)
</code></pre>

<hr>
<h2 id='D15Foutch'>Quantitatively analyzes of D15 color panel tests</h2><span id='topic+D15Foutch'></span>

<h3>Description</h3>

<p><code>D15Foutch</code> Calculates angle, magnitude and scatter for VK-S 88 and VK-S 93 (Vingrys, A.J. and King-Smith, P.E. (1988, 1993)), LSA 05 (Foutch/Bassi '05), and JMO 11 (Foutch/Stringham/Vengu '11).</p>


<h3>Usage</h3>

<pre><code class='language-R'>D15Foutch(userD15values=NULL, testType = 'D-15', dataVKS = NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="D15Foutch_+3A_userd15values">userD15values</code></td>
<td>
<p> position values chosen by tester</p>
</td></tr>
<tr><td><code id="D15Foutch_+3A_testtype">testType</code></td>
<td>
<p> the CVD test to be scored: &quot;D-15&quot;, &quot;D-15DS&quot;, &quot;Roth28-Hue&quot; or &quot;FM1OO-Hue&quot;</p>
</td></tr>
<tr><td><code id="D15Foutch_+3A_datavks">dataVKS</code></td>
<td>
<p> by default, the original 1976 CIE Luv data from Vingrys and King-Smith</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>outmat</code></td>
<td>
<p> data.frame with columns &quot;angle&quot;, &quot;magnitude&quot; and &quot;scatter&quot; and rows &quot;LSA05&quot;,&quot;JMO11&quot;,&quot;VKS88&quot;,&quot;VKS93&quot;</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Brian K. Foutch</p>


<h3>References</h3>

<p>A new quantitative technique for grading Farnsworth D-15 color panel tests
Foutch, Brian K.; Stringham, James M.; Lakshminarayanan, Vasuvedan
Journal of Modern Optics, vol. 58, issue 19-20, pp. 1755-1763
</p>
<p>Evaluation of the new web-based&quot; Colour Assessment and Diagnosis&quot; test
J Seshadri, J Christensen, V Lakshminarayanan, CJ BASSI
Optometry &amp; Vision Science 82 (10), 882-885
</p>
<p>Vingrys, A.J. and King-Smith, P.E. (1988).
A quantitative scoring technique for panel tests of color vision.
Investigative Ophthalmology and Visual Science, 29, 50-63.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># 2 examples from VK-S
## Not run: 
D15Foutch(userD15values=c(1:7,9,8,10:15))
D15Foutch(userD15values=c(1:7,9,8,10:13,15,14))
## End(Not run)
</code></pre>

<hr>
<h2 id='decolorize'>Decolorize algorithm from Mark Grundland and Neil A. Dodgson</h2><span id='topic+decolorize'></span><span id='topic+decolorizeFile'></span>

<h3>Description</h3>

<p><code>decolorize</code> converts a color image to contrast enhanced greyscale algorithm from Mark Grundland and Neil A. Dodgson. The input is an array of RGB values and the output is an array with the greyscale values.
<code>decolorizeFile</code> sends the output to a file instead of returning an array</p>


<h3>Usage</h3>

<pre><code class='language-R'>decolorize(fileIN=NULL,effect=0.5,scale=NULL,noise=0.001,recolor=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="decolorize_+3A_filein">fileIN</code></td>
<td>
<p> PNG file</p>
</td></tr>
<tr><td><code id="decolorize_+3A_effect">effect</code></td>
<td>
<p> how much the picture's achromatic content should be altered to accommodate the chromatic contrasts</p>
</td></tr>
<tr><td><code id="decolorize_+3A_scale">scale</code></td>
<td>
<p> in pixels is the typical size of relevant color contrast features</p>
</td></tr>
<tr><td><code id="decolorize_+3A_noise">noise</code></td>
<td>
<p> noise quantile indicates the amount of noise in the picture enabling the dynamic range of the tones to be appropriately scaled</p>
</td></tr>
<tr><td><code id="decolorize_+3A_recolor">recolor</code></td>
<td>
<p> return also the chromatic content of the picture</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>colorArray</code></td>
<td>
<p> array of RGB colors converted to contrast enhanced greyscale.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jose Gama</p>


<h3>References</h3>

<p>Mark Grundland and Neil A. Dodgson, &quot;Decolorize: Fast, Contrast Enhancing, Color to Grayscale Conversion&quot;,
Pattern Recognition, vol. 40, no. 11, pp. 2891-2896, (2007).
http://www.Eyemaginary.com/Portfolio/Publications.html
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
samplePics &lt;- c('fruits', 'pastel_color', 'sample1', 'TurnColorsGrayImage1', 'TurnColorsGrayImage2')
for (pics in samplePics)
{
fname&lt;-paste(system.file(package='CVD'),'/extdata/fruits.png',sep='')
g1&lt;-decolorize(fname)
png::writePNG(g1$tones, paste(pics, '.decolorize.png',sep=''))
}

## End(Not run)
</code></pre>

<hr>
<h2 id='dichromaticCopunctalPoint'>Copunctal points derived by Smith and Pokorny (1975)</h2><span id='topic+dichromaticCopunctalPoint'></span>

<h3>Description</h3>

 <p><code>dichromaticCopunctalPoint</code> contains the copunctal points derived by Smith and Pokorny (1975)</p>


<h3>Usage</h3>

<pre><code class='language-R'>dichromaticCopunctalPoint</code></pre>


<h3>Format</h3>

<p>This data frame contains the following columns:
</p>

<dl>
<dt>P</dt><dd><p> copunctal points - protanope</p>
</dd>
<dt>D</dt><dd><p> copunctal points - deuteranope</p>
</dd>
<dt>T</dt><dd><p> copunctal points - tritanope</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Jose Gama</p>


<h3>Source</h3>

<p>Smith, V. C. &amp; Pokorny, J.
Spectral sensitivity of the foveal cone photopigments between
400 and 500 nm. Vision Research, 15, 1975. 161-171.
</p>


<h3>References</h3>

<p>Smith, V. C. &amp; Pokorny, J.
Spectral sensitivity of the foveal cone photopigments between
400 and 500 nm. Vision Research, 15, 1975. 161-171.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(dichromaticCopunctalPoint)
dichromaticCopunctalPoint
</code></pre>

<hr>
<h2 id='effectiveCornealFluxDensity'>Effective Corneal Flux Density</h2><span id='topic+effectiveCornealFluxDensity'></span>

<h3>Description</h3>

<p><code>effectiveCornealFluxDensity</code> computes the effective 
Corneal Flux Density = product of luminance, area, and the monocular 
effect, F = Lae, from Watson A. B., Yellott J. I. (2012).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>effectiveCornealFluxDensity(L=NULL,a=NULL,e=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="effectiveCornealFluxDensity_+3A_l">L</code></td>
<td>
<p> luminance in cd m^-2</p>
</td></tr>
<tr><td><code id="effectiveCornealFluxDensity_+3A_a">a</code></td>
<td>
<p> field area in deg^2</p>
</td></tr>
<tr><td><code id="effectiveCornealFluxDensity_+3A_e">e</code></td>
<td>
<p> number of eyes (1 or 2)</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>PupilSize</code></td>
<td>
<p> effective Corneal Flux Density</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jose Gama</p>


<h3>References</h3>

<p>Watson A. B., Yellott J. I. (2012). A unified formula for light-adapted 
pupil size. Journal of Vision, 12(10):12, 1–16.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># effective Corneal Flux Density, luminance in cd m^-2 = 1, field area in 
# deg^2 = 30, number of eyes = 2
## Not run: effectiveCornealFluxDensity(1,30^2,2)
</code></pre>

<hr>
<h2 id='effectivePupilArea'> Effective area of the illuminated pupil</h2><span id='topic+effectivePupilArea'></span>

<h3>Description</h3>

<p><code>effectivePupilArea</code> computes the effective area of the illuminated pupil from its diameter.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>effectivePupilArea(d)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="effectivePupilArea_+3A_d">d</code></td>
<td>
<p> diameter in mm</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>PupilSize</code></td>
<td>
<p> Pupil effective area in mm^2</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jose Gama</p>


<h3>References</h3>

<p>#Smith, VC, Pokorny, J, and Yeh, T: The Farnsworth-Munsell 100-hue test in cone excitation space. Documenta Ophthalmologica Proceedings Series 56:281-291, 1993.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Pupil area in mm^2 for diameter = 2 mm
## Not run: effectivePupilArea(2)
</code></pre>

<hr>
<h2 id='example1Lanthony1978'>Example of cap arrangements for the D-15d test, Simple/Extreme Anomalous Trichromacy</h2><span id='topic+example1Lanthony1978'></span>

<h3>Description</h3>

 <p><code>example1Lanthony1978</code> contains an example of cap arrangements for the D-15d test, Simple/Extreme Anomalous Trichromacy, from Lanthony (1978)</p>


<h3>Usage</h3>

<pre><code class='language-R'>example1Lanthony1978</code></pre>


<h3>Format</h3>

<p>This data frame contains the following columns:
</p>

<dl>
<dt>SimpleAnomalousTrichromacyD15</dt><dd><p> example cap arrangements D15 - Simple Anomalous Trichromacy</p>
</dd>
<dt>SimpleAnomalousTrichromacyD15d</dt><dd><p> example cap arrangements D15d - Simple Anomalous Trichromacy</p>
</dd>
<dt>ExtremeAnomalousTrichromacyD15</dt><dd><p> example cap arrangements D15 - Extreme Anomalous Trichromacy</p>
</dd>
<dt>ExtremeAnomalousTrichromacyD15d</dt><dd><p> example cap arrangements D15d - Extreme Anomalous Trichromacy</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Jose Gama</p>


<h3>Source</h3>

<p>The Desaturated Panel D-15 P. Lanthony Documenta Ophthalmologica 46,1: 185-189, 1978
</p>


<h3>References</h3>

<p>The Desaturated Panel D-15 P. Lanthony Documenta Ophthalmologica 46,1: 185-189, 1978
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(example1Lanthony1978)
example1Lanthony1978
</code></pre>

<hr>
<h2 id='example2Lanthony1978'>Example of cap arrangements for the D-15d test, Central Serous Choroidopathy/Optic Neuritis/Autosomal Dominant OpticAtrophy</h2><span id='topic+example2Lanthony1978'></span>

<h3>Description</h3>

 <p><code>example2Lanthony1978</code> contains an example of cap arrangements for the D-15d test, Central Serous Choroidopathy/Optic Neuritis/Autosomal Dominant OpticAtrophy, from Lanthony (1978)</p>


<h3>Usage</h3>

<pre><code class='language-R'>example2Lanthony1978</code></pre>


<h3>Format</h3>

<p>This data frame contains the following columns:
</p>

<dl>
<dt>CentralSerousChoroidopathyD15</dt><dd><p> example cap arrangements D15 - Central Serous Choroidopathy</p>
</dd>
<dt>CentralSerousChoroidopathyD15d</dt><dd><p> example cap arrangements D15d - Central Serous Choroidopathy</p>
</dd>
<dt>OpticNeuritisD15</dt><dd><p> example cap arrangements D15 - Optic Neuritis</p>
</dd>
<dt>OpticNeuritisD15d</dt><dd><p> example cap arrangements D15d - Optic Neuritis</p>
</dd>
<dt>AutosomalDominantOpticAtrophyD15</dt><dd><p> example cap arrangements D15 - Autosomal Dominant OpticAtrophy</p>
</dd>
<dt>AutosomalDominantOpticAtrophyD15d</dt><dd><p> example cap arrangements D15d - Autosomal Dominant OpticAtrophy</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Jose Gama</p>


<h3>Source</h3>

<p>THE DESATURATED PANEL D-15 P. LANTHONY Documenta Ophthalmologica 46,1: 185-189, 1978
</p>


<h3>References</h3>

<p>THE DESATURATED PANEL D-15 P. LANTHONY Documenta Ophthalmologica 46,1: 185-189, 1978
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(example2Lanthony1978)
example2Lanthony1978
</code></pre>

<hr>
<h2 id='exampleBowman1982'>Example of cap arrangements for the D-15d test</h2><span id='topic+exampleBowman1982'></span>

<h3>Description</h3>

 <p><code>exampleBowman1982</code> contains an example of cap arrangements for the D-15d test, from Bowman (1982)</p>


<h3>Usage</h3>

<pre><code class='language-R'>exampleBowman1982</code></pre>


<h3>Format</h3>

<p>This data frame contains the following columns:
</p>

<dl>
<dt>A</dt><dd><p> example cap arrangements A</p>
</dd>
<dt>B</dt><dd><p> example cap arrangements B</p>
</dd>
<dt>C</dt><dd><p> example cap arrangements C</p>
</dd>
<dt>D</dt><dd><p> example cap arrangements D</p>
</dd>
<dt>E</dt><dd><p> example cap arrangements E</p>
</dd>
<dt>F</dt><dd><p> example cap arrangements F</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Jose Gama</p>


<h3>Source</h3>

<p>A Method For Quantitative Scoring Of The Farnsworth Panel D-15 K.J. Bowman 1982
</p>


<h3>References</h3>

<p>A Method For Quantitative Scoring Of The Farnsworth Panel D-15 K.J. Bowman 1982
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(exampleBowman1982)
exampleBowman1982
</code></pre>

<hr>
<h2 id='exampleFarnsworth1974'>Example of cap arrangements for the D-15 test, deuteranope/protanope/tritanope</h2><span id='topic+exampleFarnsworth1974'></span>

<h3>Description</h3>

 <p><code>exampleFarnsworth1974</code> contains an example of cap arrangements for the D-15 test, deuteranope/protanope/tritanope, from Farnsworth (1974)</p>


<h3>Usage</h3>

<pre><code class='language-R'>exampleFarnsworth1974</code></pre>


<h3>Format</h3>

<p>This data frame contains the following columns:
</p>

<dl>
<dt>deuteranope</dt><dd><p> example cap arrangements D15 - deuteranope</p>
</dd>
<dt>protanope</dt><dd><p> example cap arrangements D15 - protanope</p>
</dd>
<dt>tritanope</dt><dd><p> example cap arrangements D15 - tritanope</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Jose Gama</p>


<h3>Source</h3>

<p>Farnsworth D. The Farnsworth Dichotomous Test for Color Blindness. Panel D-15. New York, Psychological Testing, 1974
</p>


<h3>References</h3>

<p>Farnsworth D. The Farnsworth Dichotomous Test for Color Blindness. Panel D-15. New York, Psychological Testing, 1974
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(exampleFarnsworth1974)
exampleFarnsworth1974
</code></pre>

<hr>
<h2 id='exampleFM100'>Example of cap arrangements for the FM-100 test</h2><span id='topic+exampleFM100'></span>

<h3>Description</h3>

 <p><code>exampleFM100</code> contains an example of cap arrangements for the FM-100, from Hidayat (2008)</p>


<h3>Usage</h3>

<pre><code class='language-R'>exampleFM100</code></pre>


<h3>Format</h3>

<p>This table contains one example of cap arrangements for the FM-100
</p>


<h3>Author(s)</h3>

<p>Jose Gama</p>


<h3>Source</h3>

<p>proceedings of the New Zealand Generating fast automated reports for the Farnsworth-Munsell 100-hue colour vision test
Ray Hidayat, Computer Science Research Student Conference 2008
</p>


<h3>References</h3>

<p>proceedings of the New Zealand Generating fast automated reports for the Farnsworth-Munsell 100-hue colour vision test
Ray Hidayat, Computer Science Research Student Conference 2008
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(exampleFM100)
exampleFM100
</code></pre>

<hr>
<h2 id='exampleNRC1981'>Example of cap arrangements for the D-15 test, protanope/deuteranope/monochromat</h2><span id='topic+exampleNRC1981'></span>

<h3>Description</h3>

 <p><code>exampleNRC1981</code> contains an example of cap arrangements for the D-15d test, protanope/deuteranope/monochromat, from National Research Council (1981)</p>


<h3>Usage</h3>

<pre><code class='language-R'>exampleNRC1981</code></pre>


<h3>Format</h3>

<p>This data frame contains the following columns:
</p>

<dl>
<dt>protanope</dt><dd><p> example cap arrangements D15 - protanope</p>
</dd>
<dt>deuteranope</dt><dd><p> example cap arrangements D15 - deuteranope</p>
</dd>
<dt>monochromat</dt><dd><p> example cap arrangements D15 - monochromat</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Jose Gama</p>


<h3>Source</h3>

<p>Procedures for Testing Color Vision: Report of Working Group 41, 1981, Committee on Vision, National Research Council, pp. 107
</p>


<h3>References</h3>

<p>Procedures for Testing Color Vision: Report of Working Group 41, 1981, Committee on Vision, National Research Council, pp. 107
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(exampleNRC1981)
exampleNRC1981
</code></pre>

<hr>
<h2 id='exampleSimunovic2004'>Example of cap arrangements for the D-15 test, rodMonochromat/blueConeMonochromat</h2><span id='topic+exampleSimunovic2004'></span>

<h3>Description</h3>

 <p><code>exampleSimunovic2004</code> contains an example of cap arrangements for the D-15d test, rodMonochromat/blueConeMonochromat, from Lanthony (1978)</p>


<h3>Usage</h3>

<pre><code class='language-R'>exampleSimunovic2004</code></pre>


<h3>Format</h3>

<p>This data frame contains the following columns:
</p>

<dl>
<dt>rodMonochromat</dt><dd><p> example cap arrangements D15 - rodMonochromat</p>
</dd>
<dt>blueConeMonochromat</dt><dd><p> example cap arrangements D15 - blueConeMonochromat</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Jose Gama</p>


<h3>Source</h3>

<p>Cone dystrophies Part 2 Cone dysfunction syndromes, Matthew P Simunovic
</p>


<h3>References</h3>

<p>Cone dystrophies Part 2 Cone dysfunction syndromes, Matthew P Simunovic
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(exampleSimunovic2004)
exampleSimunovic2004
</code></pre>

<hr>
<h2 id='FarnsworthD15'>Farnsworth D-15 cap colors</h2><span id='topic+FarnsworthD15'></span>

<h3>Description</h3>

<p><code>FarnsworthD15</code> contains the cap colors for the D-15 tests, in CIELab and RGB from Farnsworth D (1947)
The Farnsworth Dichotomous test (D-15) is a short test for detecting congenital color vision deficiencies.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>FarnsworthD15</code></pre>


<h3>Format</h3>

<p>This data frame contains the following columns:
</p>

<dl>
<dt>CapNo</dt><dd><p> Cap Number</p>
</dd>
<dt>Munsell</dt><dd><p> Munsell color</p>
</dd>
<dt>x.C</dt><dd><p> CIE x cap color</p>
</dd>
<dt>y.C</dt><dd><p> CIE y cap color</p>
</dd>
<dt>R</dt><dd><p> R channel cap color</p>
</dd>
<dt>G</dt><dd><p> G channel cap color</p>
</dd>
<dt>B</dt><dd><p> B channel cap color</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Jose Gama</p>


<h3>Source</h3>

<p>Farnsworth D. The Farnsworth Dichotomous Test for Color Blindness Panel D-15 Manual. New York, The Psychological Corp., 1947, pp. 1-8.
</p>


<h3>References</h3>

<p>Farnsworth D. The Farnsworth Dichotomous Test for Color Blindness Panel D-15 Manual. New York, The Psychological Corp., 1947, pp. 1-8.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(FarnsworthD15)
FarnsworthD15
</code></pre>

<hr>
<h2 id='FarnsworthMunsell100Hue'>Farnsworth D-15 cap colors</h2><span id='topic+FarnsworthMunsell100Hue'></span>

<h3>Description</h3>

<p><code>FarnsworthMunsell100Hue</code> contains the cap colors for the Farnsworth Munsell 100-Hue tests, in CIELab and RGB from Farnsworth D (1957)
The Farnsworth Munsell 100-Hue is a test for detecting congenital and acquired color vision deficiencies.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>FarnsworthMunsell100Hue</code></pre>


<h3>Format</h3>

<p>This data frame contains the following columns:
</p>

<dl>
<dt>CapNo</dt><dd><p> Cap Number</p>
</dd>
<dt>Munsell</dt><dd><p> Munsell color</p>
</dd>
<dt>x.C</dt><dd><p> CIE x cap color</p>
</dd>
<dt>y.C</dt><dd><p> CIE y cap color</p>
</dd>
<dt>R</dt><dd><p> R channel cap color</p>
</dd>
<dt>G</dt><dd><p> G channel cap color</p>
</dd>
<dt>B</dt><dd><p> B channel cap color</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Jose Gama</p>


<h3>Source</h3>

<p>Farnsworth D: The Farnsworth-Munsell 100-Hue Test for the Examination of Color Discrimination Manual. Baltimore, Munsell Color Co., 1957, pp. 1-7.
</p>


<h3>References</h3>

<p>Farnsworth D: The Farnsworth-Munsell 100-Hue Test for the Examination of Color Discrimination Manual. Baltimore, Munsell Color Co., 1957, pp. 1-7.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(FarnsworthMunsell100Hue)
FarnsworthMunsell100Hue
</code></pre>

<hr>
<h2 id='GellerTCDS'>Table of color distance scores for quantitative scoring of the Lanthony desaturate D-15s test</h2><span id='topic+GellerTCDS'></span>

<h3>Description</h3>

<p><code>GellerTCDS</code> contains the color distance scores for quantitative scoring of the Lanthony desaturate D-15s test, from Geller AM. (2001).
The Lanthony desaturate test (D-15s) is a short test for detecting acquired color vision deficiencies. Geller AM (2001) created a table based on the Commission Internationale de l'Eclairage (International Commission on Illumination, CIE) Space and Color Difference formula, CIE 1976 (L*a*b*) with perceptual distances between pairs of caps. The table is used for the calculation of the Total Color Distance Score (TCDS) which is the sum of the CIELAB space distances between colored caps.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>GellerTCDS</code></pre>


<h3>Format</h3>

<p>This data frame contains the following columns:
</p>

<dl>
<dt>Pilot</dt><dd><p> Distances between colored caps for the pilot cap</p>
</dd>
<dt>Cap1</dt><dd><p> Distances between colored caps for the 1st cap</p>
</dd>
<dt>Cap2</dt><dd><p> Distances between colored caps for the 2nd cap</p>
</dd>
<dt>Cap3</dt><dd><p> Distances between colored caps for the 3rd cap</p>
</dd>
<dt>Cap4</dt><dd><p> Distances between colored caps for the 4th cap</p>
</dd>
<dt>Cap5</dt><dd><p> Distances between colored caps for the 5th cap</p>
</dd>
<dt>Cap6</dt><dd><p> Distances between colored caps for the 6th cap</p>
</dd>
<dt>Cap7</dt><dd><p> Distances between colored caps for the 7th cap</p>
</dd>
<dt>Cap8</dt><dd><p> Distances between colored caps for the 8th cap</p>
</dd>
<dt>Cap9</dt><dd><p> Distances between colored caps for the 9th cap</p>
</dd>
<dt>Cap10</dt><dd><p> Distances between colored caps for the 10th cap</p>
</dd>
<dt>Cap11</dt><dd><p> Distances between colored caps for the 11th cap</p>
</dd>
<dt>Cap12</dt><dd><p> Distances between colored caps for the 12th cap</p>
</dd>
<dt>Cap13</dt><dd><p> Distances between colored caps for the 13th cap</p>
</dd>
<dt>Cap14</dt><dd><p> Distances between colored caps for the 14th cap</p>
</dd>
<dt>Cap15</dt><dd><p> Distances between colored caps for the 15th cap</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Jose Gama</p>


<h3>Source</h3>

<p>Geller AM. A table of color distance scores for quantitative scoring of the Lanthony desaturate color vision test. Neurotoxicol Teratol 2001; 23: 265-267. 
</p>


<h3>References</h3>

<p>Geller AM. A table of color distance scores for quantitative scoring of the Lanthony desaturate color vision test. Neurotoxicol Teratol 2001; 23: 265-267. 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(GellerTCDS)
GellerTCDS
</code></pre>

<hr>
<h2 id='greyscale.avg'>Greyscale algorithms</h2><span id='topic+greyscale.avg'></span><span id='topic+greyscale.Y'></span><span id='topic+greyscale.Linear'></span><span id='topic+greyscale.RMY'></span><span id='topic+greyscale.BT709'></span><span id='topic+greyscale.Luminosity'></span>

<h3>Description</h3>

<p>Common algorithms to convert color images to greyscale. The input is an array of RGB values and the output is an array with the greyscale values.
<code>greyscale.avg</code> Greyscale algorithm, convert to average RGB values.
<code>greyscale.Y</code> Greyscale algorithm YIQ/NTSC - RGB colors in a gamma 2.2 color space.
<code>greyscale.linear</code> Greyscale algorithm linear RGB colors
<code>greyscale.RMY</code> Greyscale algorithm RMY
<code>greyscale.BT709</code> Greyscale algorithm BT709
<code>greyscale.luminosity</code> Greyscale algorithm using luminosity
</p>


<h3>Usage</h3>

<pre><code class='language-R'>greyscale.avg(colorArray)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="greyscale.avg_+3A_colorarray">colorArray</code></td>
<td>
<p> array of RGB colors.</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>colorArray</code></td>
<td>
<p> array of RGB colors converted to greyscale.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jose Gama</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
samplePics &lt;- c('fruits', 'pastel_color', 'sample1', 'TurnColorsGrayImage1', 'TurnColorsGrayImage2')
for (pics in samplePics)
{
fname&lt;-paste(system.file(package='CVD'),'/extdata/',pics,'.png',sep='')
imgTest&lt;-loadPNG(fname)
g1&lt;-greyscale.avg(imgTest)
png::writePNG(g1, paste(pics, '.greyscale.avg.png',sep=''))
}

imgTest&lt;-loadPNG(fname)
g1&lt;-greyscale.avg(imgTest)
png::writePNG(g1, paste(pics, '.greyscale.avg.png',sep=''))
g1&lt;-greyscale.BT709(imgTest)
png::writePNG(g1, paste(pics, '.BT709.png',sep=''))
g1&lt;-greyscale.Linear(imgTest)
png::writePNG(g1, paste(pics, '.Linear.png',sep=''))
g1&lt;-greyscale.Luminosity(imgTest)
png::writePNG(g1, paste(pics, '.Luminosity.png',sep=''))
g1&lt;-greyscale.RMY(imgTest)
png::writePNG(g1, paste(pics, '.RMY.png',sep=''))
g1&lt;-greyscale.Y(imgTest)
png::writePNG(g1, paste(pics, '.Y.png',sep=''))


## End(Not run)
</code></pre>

<hr>
<h2 id='H16'>Farnsworth H-16 cap colors</h2><span id='topic+H16'></span>

<h3>Description</h3>

<p><code>H16</code> contains the cap colors for the Farnsworth H-16 test, in Yxy coordinates.
The Farnsworth H-16 is a short test for detecting congenital color vision deficiencies.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>H16</code></pre>


<h3>Format</h3>

<p>This data frame contains the following columns:
</p>

<dl>
<dt>CapNo</dt><dd><p> Cap Number</p>
</dd>
<dt>x.C</dt><dd><p> CIE x cap color</p>
</dd>
<dt>y.C</dt><dd><p> CIE y cap color</p>
</dd>
<dt>Munsell</dt><dd><p> Munsell color</p>
</dd>
<dt>ProductionNo</dt><dd><p> Munsell Production Number</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Jose Gama</p>


<h3>Source</h3>

<p>Judd, D.B. and MacAdam, D.L., 1979
Contributions to Color Science
University of Rochester. Institute of Optics and Center for Building Technology
Department of Commerce, National Bureau of Standards
</p>


<h3>References</h3>

<p>Judd, D.B. and MacAdam, D.L., 1979
Contributions to Color Science
University of Rochester. Institute of Optics and Center for Building Technology
Department of Commerce, National Bureau of Standards
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(H16)
H16
</code></pre>

<hr>
<h2 id='illuminance2troland'> Convert from luminance to troland and effective troland</h2><span id='topic+illuminance2troland'></span><span id='topic+luminance2troland'></span>

<h3>Description</h3>

<p><code>illuminance2troland</code> convert from illuminance (lux) to conventional retinal illuminance (troland) and effective troland (trolands per effective area).
<code>luminance2troland</code> convert from luminance (cd/m^2) to troland and effective troland.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>luminance2troland(Lv, d=NA)
illuminance2troland(Ev, lumFactor, d=NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="illuminance2troland_+3A_d">d</code></td>
<td>
<p> diameter in mm</p>
</td></tr>
<tr><td><code id="illuminance2troland_+3A_lv">Lv</code></td>
<td>
<p> luminance (cd/m^2)</p>
</td></tr>
<tr><td><code id="illuminance2troland_+3A_ev">Ev</code></td>
<td>
<p> illuminance (lux)</p>
</td></tr>
<tr><td><code id="illuminance2troland_+3A_lumfactor">lumFactor</code></td>
<td>
<p> luminance factor</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>troland</code></td>
<td>
<p> conventional retinal illuminance (troland)</p>
</td></tr>
<tr><td><code>effectivetroland</code></td>
<td>
<p> effective troland (trolands per effective area)</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jose Gama</p>


<h3>References</h3>

<p>#Smith, VC, Pokorny, J, and Yeh, T: The Farnsworth-Munsell 100-hue test in cone excitation space. Documenta Ophthalmologica Proceedings Series 56:281-291, 1993.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Pupil area in mm^2 for diameter = 2 mm
## Not run: illuminance2troland(2)
</code></pre>

<hr>
<h2 id='interpretation.VingrysAndKingSmith'>Automatic interpretation of test scores</h2><span id='topic+interpretation.VingrysAndKingSmith'></span><span id='topic+interpretation.Foutch'></span>

<h3>Description</h3>

<p><code>interpretation.VingrysAndKingSmith</code> and <code>interpretation.Foutch</code> perform an interpretation of the test results based on the classification ranges from the authors of the tests.</p>


<h3>Usage</h3>

<pre><code class='language-R'>interpretation.VingrysAndKingSmith(VKS,optMethod=88)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="interpretation.VingrysAndKingSmith_+3A_vks">VKS</code></td>
<td>
<p> data to be interpreted</p>
</td></tr>
<tr><td><code id="interpretation.VingrysAndKingSmith_+3A_optmethod">optMethod</code></td>
<td>
<p> CVD test method</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>TCDS</code></td>
<td>
<p> Total Color Difference Score (TCDS)</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jose Gama</p>


<h3>References</h3>

<p>Vingrys, A.J. and King-Smith, P.E. (1988). A quantitative scoring technique for panel tests of color vision.
Investigative Ophthalmology and Visual Science, 29, 50-63.
</p>
<p>A new quantitative technique for grading Farnsworth D-15 color panel tests
Foutch, Brian K.; Stringham, James M.; Lakshminarayanan, Vasuvedan
Journal of Modern Optics, vol. 58, issue 19-20, pp. 1755-1763
</p>
<p>Evaluation of the new web-based&quot; Colour Assessment and Diagnosis&quot; test
J Seshadri, J Christensen, V Lakshminarayanan, CJ BASSI
Optometry &amp; Vision Science 82 (10), 882-885
</p>


<h3>Examples</h3>

<pre><code class='language-R'># a "perfect" score
## Not run: 
interpretation.VingrysAndKingSmith(D15Foutch(1:15))
## End(Not run)
</code></pre>

<hr>
<h2 id='LanthonyD15'>Farnsworth H-16 cap colors</h2><span id='topic+LanthonyD15'></span>

<h3>Description</h3>

<p><code>LanthonyD15</code> contains the cap colors for Lanthony D-15 test, in Yxy coordinates.
The Lanthony D-15 (desaturated D-15) is a short test for detecting congenital color vision deficiencies.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>LanthonyD15</code></pre>


<h3>Format</h3>

<p>This data frame contains the following columns:
</p>

<dl>
<dt>CapNo</dt><dd><p> Cap Number</p>
</dd>
<dt>Munsell</dt><dd><p> Munsell color</p>
</dd>
<dt>x.C</dt><dd><p> CIE x cap color</p>
</dd>
<dt>y.C</dt><dd><p> CIE y cap color</p>
</dd>
<dt>R</dt><dd><p> R channel cap color</p>
</dd>
<dt>G</dt><dd><p> G channel cap color</p>
</dd>
<dt>B</dt><dd><p> B channel cap color</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Jose Gama</p>


<h3>Source</h3>

<p>Judd, D.B. and MacAdam, D.L., 1979
Contributions to Color Science
University of Rochester. Institute of Optics and Center for Building Technology
Department of Commerce, National Bureau of Standards
</p>


<h3>References</h3>

<p>Judd, D.B. and MacAdam, D.L., 1979
Contributions to Color Science
University of Rochester. Institute of Optics and Center for Building Technology
Department of Commerce, National Bureau of Standards
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(LanthonyD15)
LanthonyD15
</code></pre>

<hr>
<h2 id='lightAdaptedPupilSize.Barten'>pupil diameter ranges from Barten, L. (1999)</h2><span id='topic+lightAdaptedPupilSize.Barten'></span>

<h3>Description</h3>

<p><code>lightAdaptedPupilSize.Barten</code> computes the pupil diameter ranges from Barten, L. (1999).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lightAdaptedPupilSize.Barten(L=NULL, a=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lightAdaptedPupilSize.Barten_+3A_l">L</code></td>
<td>
<p> luminance in cd m^-2</p>
</td></tr>
<tr><td><code id="lightAdaptedPupilSize.Barten_+3A_a">a</code></td>
<td>
<p> area in deg^2</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>PupilSize</code></td>
<td>
<p> Pupil size in mm</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jose Gama</p>


<h3>References</h3>

<p>Watson A. B., Yellott J. I. (2012). A unified formula for light-adapted pupil size. Journal of Vision, 12(10):12, 1–16. http://journalofvision.org/12/10/12/, doi:10.1167/5.9.6.
Barten, P. G. J. (1999). Contrast sensitivity of the human eye and its effects on image quality. Bellingham, WA: SPIE Optical Engineering Press.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Pupil diameter in mm for luminance = 1 cd m^-2, field diameter = 30 degrees
## Not run: lightAdaptedPupilSize.Barten(1,30^2)
</code></pre>

<hr>
<h2 id='lightAdaptedPupilSize.BlackieAndHowland'>pupil diameter ranges from Blackie, C. A., &amp; Howland, H. C. (1999)</h2><span id='topic+lightAdaptedPupilSize.BlackieAndHowland'></span>

<h3>Description</h3>

<p><code>lightAdaptedPupilSize.BlackieAndHowland</code> computes the pupil diameter ranges from Blackie, C. A., &amp; Howland, H. C., (1999).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lightAdaptedPupilSize.BlackieAndHowland(L=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lightAdaptedPupilSize.BlackieAndHowland_+3A_l">L</code></td>
<td>
<p> luminance in cd m^-2</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>PupilSize</code></td>
<td>
<p> Pupil size in mm</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jose Gama</p>


<h3>References</h3>

<p>Watson A. B., Yellott J. I. (2012). A unified formula for light-adapted pupil size. Journal of Vision, 12(10):12, 1–16. http://journalofvision.org/12/10/12/, doi:10.1167/5.9.6.
Blackie, C. A., &amp; Howland, H. C. (1999). An extension of an accommodation and convergence model of emmetropization to include the effects of illumination intensity. Ophthalmic and Physiological Optics, 19(2), 112–125.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Pupil diameter in mm for luminance = 1 cd m^-2
## Not run: lightAdaptedPupilSize.BlackieAndHowland(1)
</code></pre>

<hr>
<h2 id='lightAdaptedPupilSize.Crawford'>pupil diameter ranges from Crawford, L. (1936)</h2><span id='topic+lightAdaptedPupilSize.Crawford'></span>

<h3>Description</h3>

<p><code>lightAdaptedPupilSize.Crawford</code> computes the pupil diameter ranges from Crawford, L. (1936).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lightAdaptedPupilSize.Crawford(L=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lightAdaptedPupilSize.Crawford_+3A_l">L</code></td>
<td>
<p> luminance in cd m^-2</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>PupilSize</code></td>
<td>
<p> Pupil size in mm</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jose Gama</p>


<h3>References</h3>

<p>Watson A. B., Yellott J. I. (2012). A unified formula for light-adapted pupil size. Journal of Vision, 12(10):12, 1–16. http://journalofvision.org/12/10/12/, doi:10.1167/5.9.6.
Crawford, B. H. (1936). The dependence of pupil size upon external light stimulus under static and variable conditions. Proceedings of the Royal Society of London, Series B, Biological Sciences, 121(823), 376–395.</p>


<h3>Examples</h3>

<pre><code class='language-R'># Pupil diameter in mm for luminance = 1 cd m^-2
## Not run: lightAdaptedPupilSize.Crawford(1)
</code></pre>

<hr>
<h2 id='lightAdaptedPupilSize.DeGrootAndGebhard'>pupil diameter ranges from DeGrootAndGebhard, L. (1952)</h2><span id='topic+lightAdaptedPupilSize.DeGrootAndGebhard'></span>

<h3>Description</h3>

<p><code>lightAdaptedPupilSize.DeGrootAndGebhard</code> computes the pupil diameter ranges from DeGrootAndGebhard, L. (1952).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lightAdaptedPupilSize.DeGrootAndGebhard(L=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lightAdaptedPupilSize.DeGrootAndGebhard_+3A_l">L</code></td>
<td>
<p> luminance in cd m^-2</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>PupilSize</code></td>
<td>
<p> Pupil size in mm</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jose Gama</p>


<h3>References</h3>

<p>Watson A. B., Yellott J. I. (2012). A unified formula for light-adapted pupil size. Journal of Vision, 12(10):12, 1–16. http://journalofvision.org/12/10/12/, doi:10.1167/5.9.6.
De Groot, S. G., &amp; Gebhard, J. W. (1952). Pupil size as determined by adapting luminance. Journal of the Optical Society of America A, 42(7), 492–495.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Pupil diameter in mm for luminance = 1 cd m^-2
## Not run: lightAdaptedPupilSize.DeGrootAndGebhard(1)
</code></pre>

<hr>
<h2 id='lightAdaptedPupilSize.Holladay'>pupil diameter ranges from Holladay, L. (1926)</h2><span id='topic+lightAdaptedPupilSize.Holladay'></span>

<h3>Description</h3>

<p><code>lightAdaptedPupilSize.Holladay</code> computes the pupil diameter ranges from Holladay, L. (1926).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lightAdaptedPupilSize.Holladay(L=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lightAdaptedPupilSize.Holladay_+3A_l">L</code></td>
<td>
<p> luminance in cd m^-2</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>PupilSize</code></td>
<td>
<p> Pupil size in mm</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jose Gama</p>


<h3>References</h3>

<p>Watson A. B., Yellott J. I. (2012). A unified formula for light-adapted pupil size. Journal of Vision, 12(10):12, 1–16. http://journalofvision.org/12/10/12/, doi:10.1167/5.9.6.
Holladay, L. (1926). The fundamentals of glare and visibility. Journal of the Optical Society of America, 12(4), 271–319.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Pupil diameter in mm for luminance = 1 cd m^-2
## Not run: lightAdaptedPupilSize.Holladay(1)
</code></pre>

<hr>
<h2 id='lightAdaptedPupilSize.LeGrand'>pupil diameter ranges from Le Grand (1992)</h2><span id='topic+lightAdaptedPupilSize.LeGrand'></span>

<h3>Description</h3>

<p><code>lightAdaptedPupilSize.LeGrand</code> computes the pupil diameter ranges from Le Grand (1992).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lightAdaptedPupilSize.LeGrand(L=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lightAdaptedPupilSize.LeGrand_+3A_l">L</code></td>
<td>
<p> luminance in cd m^-2</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>PupilSize</code></td>
<td>
<p> Pupil size in mm</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jose Gama</p>


<h3>References</h3>

<p>Vision, Pierre A. Buser, Michel Imbert, MIT Press, 1992
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Pupil diameter in mm for luminance = 1 cd m^-2
## Not run: lightAdaptedPupilSize.LeGrand(1)
</code></pre>

<hr>
<h2 id='lightAdaptedPupilSize.MoonAndSpencer'>pupil diameter ranges from MoonAndSpencer, L. (1944)</h2><span id='topic+lightAdaptedPupilSize.MoonAndSpencer'></span>

<h3>Description</h3>

<p><code>lightAdaptedPupilSize.MoonAndSpencer</code> computes the pupil diameter ranges from MoonAndSpencer, L. (1944).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lightAdaptedPupilSize.MoonAndSpencer(L=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lightAdaptedPupilSize.MoonAndSpencer_+3A_l">L</code></td>
<td>
<p> luminance in cd m^-2</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>PupilSize</code></td>
<td>
<p> Pupil size in mm</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jose Gama</p>


<h3>References</h3>

<p>Watson A. B., Yellott J. I. (2012). A unified formula for light-adapted pupil size. Journal of Vision, 12(10):12, 1–16. http://journalofvision.org/12/10/12/, doi:10.1167/5.9.6.
Moon, P., &amp; Spencer, D. E. (1944). On the Stiles-Crawford effect. Journal of the Optical Society of
America, 34(6), 319–329, http://www.opticsinfobase. org/abstract.cfm?URI1⁄4josa-34-6-319.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Pupil diameter in mm for luminance = 1 cd m^-2
## Not run: lightAdaptedPupilSize.MoonAndSpencer(1)
</code></pre>

<hr>
<h2 id='lightAdaptedPupilSize.StanleyAndDavies'>pupil diameter ranges from StanleyAndDavies, L. (1995)</h2><span id='topic+lightAdaptedPupilSize.StanleyAndDavies'></span>

<h3>Description</h3>

<p><code>lightAdaptedPupilSize.StanleyAndDavies</code> computes the pupil diameter ranges from StanleyAndDavies, L. (1995).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lightAdaptedPupilSize.StanleyAndDavies(L=NULL, a=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lightAdaptedPupilSize.StanleyAndDavies_+3A_l">L</code></td>
<td>
<p> luminance in cd m^-2</p>
</td></tr>
<tr><td><code id="lightAdaptedPupilSize.StanleyAndDavies_+3A_a">a</code></td>
<td>
<p> area in deg^2</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>PupilSize</code></td>
<td>
<p> Pupil size in mm</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jose Gama</p>


<h3>References</h3>

<p>Watson A. B., Yellott J. I. (2012). A unified formula for light-adapted pupil size. Journal of Vision, 12(10):12, 1–16. http://journalofvision.org/12/10/12/, doi:10.1167/5.9.6.
Stanley, P. A., &amp; Davies, A. K. (1995). The effect of field of view size on steady-state pupil diameter. Ophthalmic &amp; Physiological Optics, 15(6), 601–603.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Pupil diameter in mm for luminance = 1 cd m^-2, field diameter = 30 degrees
## Not run: lightAdaptedPupilSize.StanleyAndDavies(1,30^2)
</code></pre>

<hr>
<h2 id='lightAdaptedPupilSize.WatsonAndYellott'>pupil diameter ranges from Watson A. B., Yellott J. I. (2012)</h2><span id='topic+lightAdaptedPupilSize.WatsonAndYellott'></span>

<h3>Description</h3>

<p><code>lightAdaptedPupilSize.WatsonAndYellott</code> computes the pupil
diameter ranges from Watson A. B., Yellott J. I. (2012).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lightAdaptedPupilSize.WatsonAndYellott(L=NULL, a=NULL, y=NULL, y0=NULL, e=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lightAdaptedPupilSize.WatsonAndYellott_+3A_l">L</code></td>
<td>
<p> luminance in cd m^-2</p>
</td></tr>
<tr><td><code id="lightAdaptedPupilSize.WatsonAndYellott_+3A_a">a</code></td>
<td>
<p> area in deg^2</p>
</td></tr>
<tr><td><code id="lightAdaptedPupilSize.WatsonAndYellott_+3A_y">y</code></td>
<td>
<p> age in years</p>
</td></tr>
<tr><td><code id="lightAdaptedPupilSize.WatsonAndYellott_+3A_y0">y0</code></td>
<td>
<p> reference age</p>
</td></tr>
<tr><td><code id="lightAdaptedPupilSize.WatsonAndYellott_+3A_e">e</code></td>
<td>
<p> number of eyes (1 or 2)</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>PupilSize</code></td>
<td>
<p> Pupil size in mm</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jose Gama</p>


<h3>References</h3>

<p>Watson A. B., Yellott J. I. (2012). A unified formula for light-adapted pupil
size. Journal of Vision, 12(10):12, 1–16. 
<a href="http://www.ncbi.nlm.nih.gov/pubmed/23012448">http://www.ncbi.nlm.nih.gov/pubmed/23012448</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Pupil diameter in mm for luminance = 1 cd m^-2, field diameter = 30 degrees,
# age=45, estimated reference age = 28.58, eyes = 2
## Not run: lightAdaptedPupilSize.WatsonAndYellott(1,30^2,45,28.58,2)
</code></pre>

<hr>
<h2 id='lightAdaptedPupilSize.WinnEtAl'>pupil diameter ranges from Winn et al (1995)</h2><span id='topic+lightAdaptedPupilSize.WinnEtAl'></span>

<h3>Description</h3>

<p><code>lightAdaptedPupilSize.WinnEtAl</code> computes the pupil diameter ranges from Winn et al (1995).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lightAdaptedPupilSize.WinnEtAl(L=NULL, y=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lightAdaptedPupilSize.WinnEtAl_+3A_l">L</code></td>
<td>
<p> luminance in cd m^-2</p>
</td></tr>
<tr><td><code id="lightAdaptedPupilSize.WinnEtAl_+3A_y">y</code></td>
<td>
<p> age in years</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>PupilSize</code></td>
<td>
<p> Pupil size in mm</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jose Gama</p>


<h3>References</h3>

<p>Watson A. B., Yellott J. I. (2012). A unified formula for light-adapted pupil size. Journal of Vision, 12(10):12, 1–16. http://journalofvision.org/12/10/12/, doi:10.1167/5.9.6.
Winn, B., Whitaker, D., Elliott, D. B., &amp; Phillips, N. J. (1994). Factors affecting light-adapted pupil size in
normal human subjects. Investigative Ophthalmology &amp; Visual Science, 35(3):1132–1137, http://www.iovs.org/content/35/3/1132. 
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Pupil diameter in mm for luminance = 1 cd m^-2, age = 45 years
## Not run: lightAdaptedPupilSize.WinnEtAl(1,45)
</code></pre>

<hr>
<h2 id='limitScore'>Internal CVD functions</h2><span id='topic+limitScore'></span>

<h3>Description</h3>

<p>Ignore these.</p>

<hr>
<h2 id='loadPNG'>Load a PNG file</h2><span id='topic+loadPNG'></span>

<h3>Description</h3>

 <p><code>loadPNG</code> loads a PNG file and displays the image dimensions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>loadPNG(fileIN=NULL, silent=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="loadPNG_+3A_filein">fileIN</code></td>
<td>
<p> Input file name.</p>
</td></tr>
<tr><td><code id="loadPNG_+3A_silent">silent</code></td>
<td>
<p> Logic, TRUE=do not display image dimensions.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>png file object.
</p>


<h3>Author(s)</h3>

<p>Jose Gama</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
loadPNG(paste(system.file(package='CVD'),'/inst/extdata/fruits.png',sep=''))

## End(Not run)
</code></pre>

<hr>
<h2 id='neutralPoint'>Neutral points for CIE 1976 uv, CIE 1931 xy and CIE 1960 uv</h2><span id='topic+neutralPoint'></span>

<h3>Description</h3>

 <p><code>neutralPoint</code> contains the neutral points for CIE 1976 uv, CIE 1931 xy and CIE 1960 uv</p>


<h3>Usage</h3>

<pre><code class='language-R'>neutralPoint</code></pre>


<h3>Format</h3>

<p>This data frame contains the following columns:
</p>

<dl>
<dt>CIE1931xy</dt><dd><p>neutral point CIE 1931 xy</p>
</dd>
<dt>CIE1960uv</dt><dd><p>neutral point CIE 1976 uv</p>
</dd>
<dt>CIE1960uv</dt><dd><p>neutral point CIE 1960 uv</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Jose Gama</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(neutralPoint)
neutralPoint
</code></pre>

<hr>
<h2 id='plotConfusionVectors'>Plot confusion vectors for CIE 1976 uv, CIE 1931 xy and CIE 1960 uv</h2><span id='topic+plotConfusionVectors'></span>

<h3>Description</h3>

<p><code>plotConfusionVectors</code> Plots the confusion vectors for
CIE 1976 uv, CIE 1931 xy and CIE 1960 uv.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotConfusionVectors(colorSpace='CIE1931xy')
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plotConfusionVectors_+3A_colorspace">colorSpace</code></td>
<td>
<p> chosen colorSpace, default='CIE1931xy'</p>
</td></tr>
</table>


<h3>Value</h3>

<p>none
</p>


<h3>Author(s)</h3>

<p>Jose Gama</p>


<h3>Examples</h3>

<pre><code class='language-R'># find duplicate values
## Not run: plotConfusionVectors()

</code></pre>

<hr>
<h2 id='Roth28'>Roth-28 cap colors</h2><span id='topic+Roth28'></span>

<h3>Description</h3>

<p><code>Roth28</code> contains the cap colors for the Roth-28 tests, in CIELab and RGB from Roth A (1966)
The Roth-28 is a short test for detecting congenital color vision deficiencies.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Roth28</code></pre>


<h3>Format</h3>

<p>This data frame contains the following columns:
</p>

<dl>
<dt>CIEL</dt><dd><p> CIELab L channel cap color</p>
</dd>
<dt>CIEa</dt><dd><p> CIELab a channel cap color</p>
</dd>
<dt>CIEb</dt><dd><p> CIELab b channel cap color</p>
</dd>
<dt>R</dt><dd><p> R channel cap color</p>
</dd>
<dt>G</dt><dd><p> G channel cap color</p>
</dd>
<dt>B</dt><dd><p> B channel cap color</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Jose Gama</p>


<h3>Source</h3>

<p>Roth A. Test-28 hue de Roth selon Farnsworth–Munsell (Manual). Paris: Luneau, 1966.
</p>


<h3>References</h3>

<p>Roth A. Test-28 hue de Roth selon Farnsworth–Munsell (Manual). Paris: Luneau, 1966.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(Roth28)
Roth28
</code></pre>

<hr>
<h2 id='scoreD15Graphic'>Graphical score for the D-15 tests</h2><span id='topic+scoreD15Graphic'></span>

<h3>Description</h3>

<p><code>scoreD15Graphic</code> computes the graphical score for 
the D-15 test or similar. The input is either a vector of RGB colors or cap positions.</p>


<h3>Usage</h3>

<pre><code class='language-R'>scoreD15Graphic(userD15colors=NULL,userD15values=NULL, titleGraphic=
"Farnsworth dichotomous test (D-15) results", okD15colors=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="scoreD15Graphic_+3A_userd15colors">userD15colors</code></td>
<td>
<p> RGB colors chosen by tester</p>
</td></tr>
<tr><td><code id="scoreD15Graphic_+3A_userd15values">userD15values</code></td>
<td>
<p> position values chosen by tester</p>
</td></tr>
<tr><td><code id="scoreD15Graphic_+3A_titlegraphic">titleGraphic</code></td>
<td>
<p> title for the graphic</p>
</td></tr>
<tr><td><code id="scoreD15Graphic_+3A_okd15colors">okD15colors</code></td>
<td>
<p> vector with RGB colors in the correct sequence</p>
</td></tr>
</table>


<h3>Value</h3>

<p>none
</p>


<h3>Author(s)</h3>

<p>Jose Gama</p>


<h3>References</h3>

<p>Farnsworth D. The Farnsworth Dichotomous Test for Color Blindness Panel D-15 
Manual. New York, The Psychological Corp., 1947, pp. 1-8.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># a "perfect" score
## Not run: scoreD15Graphic(userD15values=1:15)
</code></pre>

<hr>
<h2 id='scoreD15TCDS'>Total Color Difference Score (TCDS) for the D-15 tests</h2><span id='topic+scoreD15TCDS'></span>

<h3>Description</h3>

<p><code>scoreD15TCDS</code> computes the Total Color Difference Score 
(TCDS) for the D-15 test, from Bowman's (1982). The input is either a vector 
of RGB colors or cap positions.</p>


<h3>Usage</h3>

<pre><code class='language-R'>scoreD15TCDS(userD15colors=NULL,userD15values=NULL,
 distTable = get("BowmanTCDS", envir = environment()), 
D15colors = get("FarnsworthD15", envir = environment()))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="scoreD15TCDS_+3A_userd15colors">userD15colors</code></td>
<td>
<p> RGB colors chosen by tester</p>
</td></tr>
<tr><td><code id="scoreD15TCDS_+3A_userd15values">userD15values</code></td>
<td>
<p> position values chosen by tester</p>
</td></tr>
<tr><td><code id="scoreD15TCDS_+3A_disttable">distTable</code></td>
<td>
<p> distance table - matrix with the color distances</p>
</td></tr>
<tr><td><code id="scoreD15TCDS_+3A_d15colors">D15colors</code></td>
<td>
<p> RGB colors for the CVD test</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>TCDS</code></td>
<td>
<p> Total Color Difference Score (TCDS)</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jose Gama</p>


<h3>References</h3>

<p>Bowman's (1982) Total Color Difference Score (TCDS) for congenitally defective
observers on the D-15 with enlarged tests.
K.J. Bowman, A method for quantitative scoring of the Farnsworth Panel D-15,
Acta Ophthalmologica, 60 (1982), pp. 907–916
</p>


<h3>Examples</h3>

<pre><code class='language-R'># a "perfect" score
## Not run: 
scoreD15TCDS(userD15values=1:15)
## End(Not run)
</code></pre>

<hr>
<h2 id='scoreFM100Graphic'>Graphical score for the D-15 tests</h2><span id='topic+scoreFM100Graphic'></span>

<h3>Description</h3>

<p><code>scoreFM100Graphic</code> computes the graphical score for the
FM-100 test or similar. The input is either a vector of RGB colors or cap positions.</p>


<h3>Usage</h3>

<pre><code class='language-R'>scoreFM100Graphic(userFM100colors=NULL,userFM100values=NULL, titleGraphic=
"Farnsworth Munsell 100-Hue test results", okFM100colors=NULL, Kinnear=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="scoreFM100Graphic_+3A_userfm100colors">userFM100colors</code></td>
<td>
<p> RGB colors chosen by tester</p>
</td></tr>
<tr><td><code id="scoreFM100Graphic_+3A_userfm100values">userFM100values</code></td>
<td>
<p> position values chosen by tester</p>
</td></tr>
<tr><td><code id="scoreFM100Graphic_+3A_titlegraphic">titleGraphic</code></td>
<td>
<p> title for the graphic</p>
</td></tr>
<tr><td><code id="scoreFM100Graphic_+3A_okfm100colors">okFM100colors</code></td>
<td>
<p> vector with RGB colors in the correct sequence</p>
</td></tr>
<tr><td><code id="scoreFM100Graphic_+3A_kinnear">Kinnear</code></td>
<td>
<p> logical, scoring method TRUE = Farnsworth, FALSE = Kinnear</p>
</td></tr>
</table>


<h3>Value</h3>

<p>none
</p>


<h3>Author(s)</h3>

<p>Jose Gama</p>


<h3>References</h3>

<p>Dean Farnsworth, 1943
The Farnsworth Munsell 100-hue dichotomous tests for colour vision
Journal of the Optical Society of America, 33 (1943), pp. 568–576
</p>


<h3>Examples</h3>

<pre><code class='language-R'># an example score
## Not run: 
FM100example&lt;-exampleFM100
userFM100values=cbind(FM100example[1,], FM100example[4,-22],
 FM100example[7,-22], FM100example[10,-22])
userFM100values=as.vector(unlist(userFM100values))
scoreFM100Graphic(userFM100values)

## End(Not run)
</code></pre>

<hr>
<h2 id='scoreRoth28Graphic'>Graphical score for the D-15 tests</h2><span id='topic+scoreRoth28Graphic'></span>

<h3>Description</h3>

<p><code>scoreRoth28Graphic</code> computes the graphical score for the 
Roth-28 test or similar. The input is either a vector of RGB colors or cap positions.</p>


<h3>Usage</h3>

<pre><code class='language-R'>scoreRoth28Graphic(userR28colors=NULL,userR28values=NULL, titleGraphic=
"Roth-28 test results", okR28colors=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="scoreRoth28Graphic_+3A_userr28colors">userR28colors</code></td>
<td>
<p> RGB colors chosen by tester</p>
</td></tr>
<tr><td><code id="scoreRoth28Graphic_+3A_userr28values">userR28values</code></td>
<td>
<p> position values chosen by tester</p>
</td></tr>
<tr><td><code id="scoreRoth28Graphic_+3A_titlegraphic">titleGraphic</code></td>
<td>
<p> title for the graphic</p>
</td></tr>
<tr><td><code id="scoreRoth28Graphic_+3A_okr28colors">okR28colors</code></td>
<td>
<p> vector with RGB colors in the correct sequence</p>
</td></tr>
</table>


<h3>Value</h3>

<p>none
</p>


<h3>Author(s)</h3>

<p>Jose Gama</p>


<h3>References</h3>

<p>Carl Erb, Martin Adler, Nicole Stübiger, Michael Wohlrab, Eberhart Zrenner, 
Hans-Jürgen Thiel, Colour vision in normal subjects tested by the colour 
arrangement test ‘Roth 28-hue desaturated’, Vision Research, Volume 38, 
Issue 21, November 1998, Pages 3467-3471, ISSN 0042-6989, 
<a href="http://dx.doi.org/10.1016/S0042-6989(97)00433-1">http://dx.doi.org/10.1016/S0042-6989(97)00433-1</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># a "perfect" score
## Not run: scoreRoth28Graphic(userD15values=1:28)
</code></pre>

<hr>
<h2 id='showDuplicated'>Show missing and duplicated cap numbers</h2><span id='topic+showDuplicated'></span>

<h3>Description</h3>

<p><code>showDuplicated</code> shows missing and duplicated cap numbers 
from D-15, D15d, FM-100 and similar tests.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>showDuplicated(cnum)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="showDuplicated_+3A_cnum">cnum</code></td>
<td>
<p> cap numbers</p>
</td></tr>
</table>


<h3>Value</h3>

<p>none
</p>


<h3>Author(s)</h3>

<p>Jose Gama</p>


<h3>Examples</h3>

<pre><code class='language-R'># find duplicate values
## Not run: showDuplicated(1:15)
showDuplicated(c(1:4,8,5:14))
# this is an example of a typo in data from a publication
#Procedures for Testing Color Vision: Report of Working Group 41, 1981, 
Committee on Vision, National Research Council, pp. 107
#the "monochromat" data has "16" instead of "6"
data(exampleNRC1981)
showDuplicated(exampleNRC1981[,3])

## End(Not run)
</code></pre>

<hr>
<h2 id='typicalD15'>Typical cap arrangements for the D-15 tests</h2><span id='topic+typicalD15'></span>

<h3>Description</h3>

 <p><code>typicalD15</code> contains typical cap arrangements for the D-15 tests, from Farnsworth D (1947), Simunovic (1998) and NRC (1981)</p>


<h3>Usage</h3>

<pre><code class='language-R'>typicalD15</code></pre>


<h3>Format</h3>

<p>This data frame contains the following columns:
</p>

<dl>
<dt>protanope</dt><dd><p> typical cap arrangements - protanope</p>
</dd>
<dt>deuteranope</dt><dd><p> typical cap arrangements - deuteranope</p>
</dd>
<dt>tritanope</dt><dd><p> typical cap arrangements - tritanope</p>
</dd>
<dt>monochromat</dt><dd><p> typical cap arrangements - monochromat</p>
</dd>
<dt>rodMonochromat</dt><dd><p> typical cap arrangements - rodMonochromat</p>
</dd>
<dt>blueConeMonochromat</dt><dd><p> typical cap arrangements - blueConeMonochromat</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Jose Gama</p>


<h3>Source</h3>

<p>Farnsworth D. The Farnsworth Dichotomous Test for Color Blindness Panel D-15 Manual. New York, The Psychological Corp., 1947, pp. 1-8.
Simunovic MP, Moore AT. The cone dystrophies. Eye 1998;12:553–65.
National Research Council (US). Committee on Vision. Procedures for testing color vision: report of Working Group 41. National Academies Press, 1981.
</p>


<h3>References</h3>

<p>Farnsworth D. The Farnsworth Dichotomous Test for Color Blindness Panel D-15 Manual. New York, The Psychological Corp., 1947, pp. 1-8.
Simunovic MP, Moore AT. The cone dystrophies. Eye 1998;12:553–65.
National Research Council (US). Committee on Vision. Procedures for testing color vision: report of Working Group 41. National Academies Press, 1981.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(typicalD15)
typicalD15
</code></pre>

<hr>
<h2 id='vectorPNGbuttons'>Vector of PNG files representing colored caps (buttons)</h2><span id='topic+vectorPNGbuttons'></span>

<h3>Description</h3>

<p><code>vectorPNGbuttons</code> returns a vector with the filenames of the PNG files representing colored caps (buttons) from a data.frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vectorPNGbuttons(capsData=get("FarnsworthD15", envir = environment()))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vectorPNGbuttons_+3A_capsdata">capsData</code></td>
<td>
<p> data.frame with RGB values of colored caps (buttons).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector with path+filenames of PNG files.
</p>


<h3>Author(s)</h3>

<p>Jose Gama</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
vectorPNGbuttons(FarnsworthD15)

## End(Not run)
</code></pre>

<hr>
<h2 id='VKSgraphic'>Graphical score for the D-15 tests</h2><span id='topic+VKSgraphic'></span><span id='topic+VKSvariantGraphic'></span>

<h3>Description</h3>

<p><code>VKSgraphic</code> computes a graphical score based on 
the Vingrys and King-Smith method (VKS) for the D-15 test or similar tests.
<code>VKSvariantGraphic</code> shows the angles with double their value, 
for a continuous display of the confusion axis.</p>


<h3>Usage</h3>

<pre><code class='language-R'>VKSgraphic(VKSdata, xLimit=5, yLimit=4, VKStitle='', VKSxlabel='',
VKSylabel='')
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="VKSgraphic_+3A_vksdata">VKSdata</code></td>
<td>
<p> data.frame with color vision deficiency name, 
VKS angle and VKS index</p>
</td></tr>
<tr><td><code id="VKSgraphic_+3A_xlimit">xLimit</code></td>
<td>
<p> X-axis boundaries</p>
</td></tr>
<tr><td><code id="VKSgraphic_+3A_ylimit">yLimit</code></td>
<td>
<p> Y-axis boundaries</p>
</td></tr>
<tr><td><code id="VKSgraphic_+3A_vkstitle">VKStitle</code></td>
<td>
<p> title for the plot</p>
</td></tr>
<tr><td><code id="VKSgraphic_+3A_vksxlabel">VKSxlabel</code></td>
<td>
<p> text for the x label</p>
</td></tr>
<tr><td><code id="VKSgraphic_+3A_vksylabel">VKSylabel</code></td>
<td>
<p> text for the y label</p>
</td></tr>
</table>


<h3>Value</h3>

<p>none
</p>


<h3>Author(s)</h3>

<p>Jose Gama</p>


<h3>Source</h3>

<p>VKSvariantGraphic - original idea by David Bimler
Atchison DA, Bowman KJ, Vingrys AJ
Quantitave scoring methods for D15 panel tests in the diagnosis of 
congenital colour-vision deficiencies.
Optometry and Vision Science 1991, 68:41-48.
</p>


<h3>References</h3>

<p>Atchison DA, Bowman KJ, Vingrys AJ
Quantitave scoring methods for D15 panel tests in the diagnosis of 
congenital colour-vision deficiencies.
Optometry and Vision Science 1991, 68:41-48.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Creating similar graphics to "A Quantitative Scoring Technique For Panel 
#Tests of Color Vision" Algis J. Vingrys and P. Ewen King-Smith
## Not run: 
VKSdata&lt;-VKStable2[,c(1,3:5)]
VKSdata[1,1]&lt;-'Normal no error'
VKSdata[2:9,1]&lt;-'Normal'
VKSdata[10:13,1]&lt;-'Acquired CVD'
# the graphics are similar but not identical because the data used in the 
#plots is the average of the values instead of all the values
VKSgraphic(VKSdata[,1:3],5,4,'D-15 angle vs C-index (Average)','Angle',
'C-index') # Fig. 6
VKSgraphic(VKSdata[,c(1,2,4)],5,4,'D-15 angle vs S-index (Average)','Angle',
'S-index') # Fig. 7

## End(Not run)
</code></pre>

<hr>
<h2 id='VKStable2'>Table with results of D-15 tests scored with the Vingrys and King-Smith method</h2><span id='topic+VKStable2'></span>

<h3>Description</h3>

 <p><code>VKStable2</code> contains tthe results of D-15 tests scored with the Vingrys and King-Smith method, from Vingrys and King-Smith (1988), table 2</p>


<h3>Usage</h3>

<pre><code class='language-R'>VKStable2</code></pre>


<h3>Format</h3>

<p>This data frame contains the following columns:
</p>

<dl>
<dt>typeCVD</dt><dd><p> Type of color vision</p>
</dd>
<dt>sample</dt><dd><p> Number in sample</p>
</dd>
<dt>Angle</dt><dd><p> Angle</p>
</dd>
<dt>S.index</dt><dd><p> S-index</p>
</dd>
<dt>C.index</dt><dd><p> C-index</p>
</dd>
<dt>Major</dt><dd><p> Major radius</p>
</dd>
<dt>Minor</dt><dd><p> Minor radius</p>
</dd>
<dt>TES</dt><dd><p> TES</p>
</dd>
<dt>TCDS</dt><dd><p> TCDS</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Jose Gama</p>


<h3>Source</h3>

<p>Atchison DA, Bowman KJ, Vingrys AJ
Quantitave scoring methods for D15 panel tests in the diagnosis of congenital colour-vision deficiencies.
Optometry and Vision Science 1991, 68:41-48.
</p>


<h3>References</h3>

<p>Atchison DA, Bowman KJ, Vingrys AJ
Quantitave scoring methods for D15 panel tests in the diagnosis of congenital colour-vision deficiencies.
Optometry and Vision Science 1991, 68:41-48.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(VKStable2)
VKStable2
</code></pre>

<hr>
<h2 id='XYZ2scotopic.Rawtran'> Approximation of the scotopic luminance</h2><span id='topic+XYZ2scotopic.Rawtran'></span><span id='topic+XYZ2scotopic.Rawtran.array'></span>

<h3>Description</h3>

<p><code>XYZ2scotopic.Rawtran</code> approximates the scotopic luminance from XYZ values, illuminant D65, from Filip Hroch (1998).
Used in the astronomy software Rawtran.
</p>
<p><code>XYZ2scotopic.Rawtran.array</code> idem, however the data type used is array.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>XYZ2scotopic.Rawtran(XYZmatrix)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="XYZ2scotopic.Rawtran_+3A_xyzmatrix">XYZmatrix</code></td>
<td>
<p> matrix (or array) with XYZ values</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Matrix (or array) with approximated scotopic luminance.
</p>


<h3>Author(s)</h3>

<p>Jose Gama</p>


<h3>Source</h3>

<p>Filip Hroch, 1998, Computer Programs for CCD Photometry,
20th Stellar Conference of the Czech and Slovak Astronomical Institutes,
DusekJ., http://adsabs.harvard.edu/abs/1998stel.conf...30H
Rawtran - integral.physics.muni.cz
Masaryk University
<a href="http://integral.physics.muni.cz/rawtran/">http://integral.physics.muni.cz/rawtran/</a>
</p>


<h3>References</h3>

<p>Filip Hroch, 1998, Computer Programs for CCD Photometry,
20th Stellar Conference of the Czech and Slovak Astronomical Institutes,
DusekJ., http://adsabs.harvard.edu/abs/1998stel.conf...30H
Rawtran - integral.physics.muni.cz
Masaryk University
<a href="http://integral.physics.muni.cz/rawtran/">http://integral.physics.muni.cz/rawtran/</a>
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

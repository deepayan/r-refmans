<!DOCTYPE html><html><head><title>Help for package tidyBdE</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {tidyBdE}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#tidyBdE-package'><p>tidyBdE: Download Data from Bank of Spain</p></a></li>
<li><a href='#bde_catalog_load'><p>Load BdE catalogs</p></a></li>
<li><a href='#bde_catalog_search'><p>Search BdE catalogs</p></a></li>
<li><a href='#bde_catalog_update'><p>Update BdE catalogs</p></a></li>
<li><a href='#bde_check_access'><p>Check access to BdE</p></a></li>
<li><a href='#bde_indicators'><p>Relevant Indicators of Spain</p></a></li>
<li><a href='#bde_parse_dates'><p>Parse dates</p></a></li>
<li><a href='#bde_series_full_load'><p>Load BdE full time-series files</p></a></li>
<li><a href='#bde_series_load'><p>Load a single BdE time-series.</p></a></li>
<li><a href='#bde_tidy_palettes'><p>BdE color palettes</p></a></li>
<li><a href='#bde_vivid_pal'><p>BdE superseded palettes</p></a></li>
<li><a href='#scales_bde'><p>BdE scales for <a href="https://CRAN.R-project.org/package=ggplot2"><span class="pkg">ggplot2</span></a>.</p></a></li>
<li><a href='#theme_tidybde'><p>BdE <code>ggplot2</code> theme</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Download Data from Bank of Spain</td>
</tr>
<tr>
<td>Version:</td>
<td>0.3.5</td>
</tr>
<tr>
<td>Description:</td>
<td>Tools to download data series from 'Banco de España' ('BdE')
    on 'tibble' format. 'Banco de España' is the national central bank
    and, within the framework of the Single Supervisory Mechanism ('SSM'),
    the supervisor of the Spanish banking system along with the European
    Central Bank. This package is in no way sponsored endorsed or
    administered by 'Banco de España'.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://ropenspain.github.io/tidyBdE/">https://ropenspain.github.io/tidyBdE/</a>,
<a href="https://github.com/rOpenSpain/tidyBdE">https://github.com/rOpenSpain/tidyBdE</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/rOpenSpain/tidyBdE/issues">https://github.com/rOpenSpain/tidyBdE/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.6.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr (&ge; 0.7.0), ggplot2 (&ge; 3.3.0), readr (&ge; 1.0.0), scales
(&ge; 1.1.0), tibble (&ge; 3.0.0), tidyr, utils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, lifecycle, rmarkdown, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/Needs/coverage:</td>
<td>covr</td>
</tr>
<tr>
<td>Config/Needs/website:</td>
<td>reactable, styler, tidyverse,
ropenspain/rostemplate, devtools</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Config/testthat/parallel:</td>
<td>true</td>
</tr>
<tr>
<td>Copyright:</td>
<td>See file inst/COPYRIGHTS</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>X-schema.org-applicationCategory:</td>
<td>Macroeconomics</td>
</tr>
<tr>
<td>X-schema.org-isPartOf:</td>
<td>https://ropenspain.es/</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-01-29 17:23:31 UTC; diego</td>
</tr>
<tr>
<td>Author:</td>
<td>Diego H. Herrero <a href="https://orcid.org/0000-0001-8457-4658"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre, cph] (rOpenSpain)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Diego H. Herrero &lt;dev.dieghernan@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-01-29 17:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='tidyBdE-package'>tidyBdE: Download Data from Bank of Spain</h2><span id='topic+tidyBdE'></span><span id='topic+tidyBdE-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>Tools to download data series from 'Banco de España' ('BdE') on 'tibble' format. 'Banco de España' is the national central bank and, within the framework of the Single Supervisory Mechanism ('SSM'), the supervisor of the Spanish banking system along with the European Central Bank. This package is in no way sponsored endorsed or administered by 'Banco de España'.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Diego H. Herrero <a href="mailto:dev.dieghernan@gmail.com">dev.dieghernan@gmail.com</a> (<a href="https://orcid.org/0000-0001-8457-4658">ORCID</a>) (rOpenSpain) [copyright holder]
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://ropenspain.github.io/tidyBdE/">https://ropenspain.github.io/tidyBdE/</a>
</p>
</li>
<li> <p><a href="https://github.com/rOpenSpain/tidyBdE">https://github.com/rOpenSpain/tidyBdE</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/rOpenSpain/tidyBdE/issues">https://github.com/rOpenSpain/tidyBdE/issues</a>
</p>
</li></ul>


<hr>
<h2 id='bde_catalog_load'>Load BdE catalogs</h2><span id='topic+bde_catalog_load'></span>

<h3>Description</h3>

<p>Load the time-series catalogs provided by BdE.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bde_catalog_load(
  catalog = c("ALL", "BE", "SI", "TC", "TI", "PB"),
  parse_dates = TRUE,
  cache_dir = NULL,
  update_cache = FALSE,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bde_catalog_load_+3A_catalog">catalog</code></td>
<td>
<p>A single value indicating the catalogs to be updated
or <code>"ALL"</code> as a shorthand. See <strong>Details</strong>.</p>
</td></tr>
<tr><td><code id="bde_catalog_load_+3A_parse_dates">parse_dates</code></td>
<td>
<p>Logical. If <code>TRUE</code> the dates would be parsed using
<code><a href="#topic+bde_parse_dates">bde_parse_dates()</a></code>.</p>
</td></tr>
<tr><td><code id="bde_catalog_load_+3A_cache_dir">cache_dir</code></td>
<td>
<p>A path to a cache directory. The directory can also be set
via options with <code>options(bde_cache_dir = "path/to/dir")</code>.</p>
</td></tr>
<tr><td><code id="bde_catalog_load_+3A_update_cache">update_cache</code></td>
<td>
<p>Logical. If <code>TRUE</code> the requested file would be updated on
the <code>cache_dir</code>.</p>
</td></tr>
<tr><td><code id="bde_catalog_load_+3A_verbose">verbose</code></td>
<td>
<p>Logical <code>TRUE</code> or <code>FALSE</code>, display information useful for
debugging.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Accepted values for <code>catalog</code> are:</p>

<table>
<tr>
 <td style="text-align: left;">
   <strong>CODE</strong> </td><td style="text-align: left;"> <strong>PUBLICATION</strong> </td><td style="text-align: left;"> <strong>UPDATE FREQUENCY</strong> </td><td style="text-align: left;"> <strong>FREQUENCY</strong> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <strong>BE</strong> </td><td style="text-align: left;"> Statistical Bulletin </td><td style="text-align: left;"> Daily </td><td style="text-align: left;"> Monthly </td>
</tr>
<tr>
 <td style="text-align: left;">
   <strong>SI</strong> </td><td style="text-align: left;"> Summary Indicators </td><td style="text-align: left;"> Daily </td><td style="text-align: left;"> Daily </td>
</tr>
<tr>
 <td style="text-align: left;">
   <strong>TC</strong> </td><td style="text-align: left;"> Exchange Rates </td><td style="text-align: left;"> Daily </td><td style="text-align: left;"> Daily </td>
</tr>
<tr>
 <td style="text-align: left;">
   <strong>TI</strong> </td><td style="text-align: left;"> Interest Rates </td><td style="text-align: left;"> Daily </td><td style="text-align: left;"> Daily </td>
</tr>
<tr>
 <td style="text-align: left;">
   <strong>PB</strong> </td><td style="text-align: left;"> Bank Lending Survey </td><td style="text-align: left;"> Quarterly </td><td style="text-align: left;"> Quarterly </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>Use <code>"ALL"</code> as a shorthand for updating all the catalogs at a glance.
</p>
<p>If the requested catalog is not cached <code><a href="#topic+bde_catalog_update">bde_catalog_update()</a></code> is invoked.
</p>


<h3>Value</h3>

<p>A <a href="tibble.html#topic+tibble">tibble</a>.
</p>


<h3>Source</h3>

<p><a href="https://www.bde.es/webbe/en/estadisticas/recursos/descargas-completas.html">Time-series bulk data download</a>
</p>


<h3>See Also</h3>

<p>Other catalog: 
<code><a href="#topic+bde_catalog_search">bde_catalog_search</a>()</code>,
<code><a href="#topic+bde_catalog_update">bde_catalog_update</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

bde_catalog_load("TI", verbose = TRUE)


</code></pre>

<hr>
<h2 id='bde_catalog_search'>Search BdE catalogs</h2><span id='topic+bde_catalog_search'></span>

<h3>Description</h3>

<p>Search for keywords on the time-series catalogs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bde_catalog_search(pattern, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bde_catalog_search_+3A_pattern">pattern</code></td>
<td>
<p><code><a href="base.html#topic+regex">regex</a></code>  pattern to search See <strong>Details</strong>
and <strong>Examples</strong>.</p>
</td></tr>
<tr><td><code id="bde_catalog_search_+3A_...">...</code></td>
<td>

<p>Arguments passed on to <code><a href="#topic+bde_catalog_load">bde_catalog_load</a></code>
</p>

<dl>
<dt><code>catalog</code></dt><dd><p>A single value indicating the catalogs to be updated
or <code>"ALL"</code> as a shorthand. See <strong>Details</strong>.</p>
</dd>
<dt><code>parse_dates</code></dt><dd><p>Logical. If <code>TRUE</code> the dates would be parsed using
<code><a href="#topic+bde_parse_dates">bde_parse_dates()</a></code>.</p>
</dd>
<dt><code>update_cache</code></dt><dd><p>Logical. If <code>TRUE</code> the requested file would be updated on
the <code>cache_dir</code>.</p>
</dd>
<dt><code>cache_dir</code></dt><dd><p>A path to a cache directory. The directory can also be set
via options with <code>options(bde_cache_dir = "path/to/dir")</code>.</p>
</dd>
<dt><code>verbose</code></dt><dd><p>Logical <code>TRUE</code> or <code>FALSE</code>, display information useful for
debugging.</p>
</dd>
</dl>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>Note that</strong> BdE files are only provided in Spanish, for the time being.
Therefore search terms should be provided in Spanish as well in order to get
search results.
</p>
<p>This function uses <code><a href="base.html#topic+grep">base::grep()</a></code> function for finding matches on
the catalogs. You can pass <a href="base.html#topic+regex">regular expressions</a> to broaden
the search.
</p>


<h3>Value</h3>

<p>A <a href="tibble.html#topic+tibble">tibble</a> with the results of the query.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bde_catalog_load">bde_catalog_load()</a></code>, <a href="base.html#topic+regex">base::regex</a>
</p>
<p>Other catalog: 
<code><a href="#topic+bde_catalog_load">bde_catalog_load</a>()</code>,
<code><a href="#topic+bde_catalog_update">bde_catalog_update</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

# Simple search (needs to be in Spanish)
# !! PIB [es] == GDP [en]

bde_catalog_search("PIB")

# More complex - Single
bde_catalog_search("Francia(.*)PIB")

# Even more complex - Double
bde_catalog_search("Francia(.*)PIB|Italia(.*)PIB|Alemania(.*)PIB")


# Search a sequential code: Exact match
# Note that this series (sequential code) appears on several tables

bde_catalog_search("^3779313$")


</code></pre>

<hr>
<h2 id='bde_catalog_update'>Update BdE catalogs</h2><span id='topic+bde_catalog_update'></span>

<h3>Description</h3>

<p>Update the time-series catalogs provided by BdE.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bde_catalog_update(
  catalog = c("ALL", "BE", "SI", "TC", "TI", "PB"),
  cache_dir = NULL,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bde_catalog_update_+3A_catalog">catalog</code></td>
<td>
<p>A vector of characters indicating the catalogs to be updated
or <code>"ALL"</code> as a shorthand. See <strong>Details</strong>.</p>
</td></tr>
<tr><td><code id="bde_catalog_update_+3A_cache_dir">cache_dir</code></td>
<td>
<p>A path to a cache directory. The directory can also be set
via options with <code>options(bde_cache_dir = "path/to/dir")</code>.</p>
</td></tr>
<tr><td><code id="bde_catalog_update_+3A_verbose">verbose</code></td>
<td>
<p>Logical <code>TRUE</code> or <code>FALSE</code>, display information useful for
debugging.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Accepted values for <code>catalog</code> are:</p>

<table>
<tr>
 <td style="text-align: left;">
   <strong>CODE</strong> </td><td style="text-align: left;"> <strong>PUBLICATION</strong> </td><td style="text-align: left;"> <strong>UPDATE FREQUENCY</strong> </td><td style="text-align: left;"> <strong>FREQUENCY</strong> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <strong>BE</strong> </td><td style="text-align: left;"> Statistical Bulletin </td><td style="text-align: left;"> Daily </td><td style="text-align: left;"> Monthly </td>
</tr>
<tr>
 <td style="text-align: left;">
   <strong>SI</strong> </td><td style="text-align: left;"> Summary Indicators </td><td style="text-align: left;"> Daily </td><td style="text-align: left;"> Daily </td>
</tr>
<tr>
 <td style="text-align: left;">
   <strong>TC</strong> </td><td style="text-align: left;"> Exchange Rates </td><td style="text-align: left;"> Daily </td><td style="text-align: left;"> Daily </td>
</tr>
<tr>
 <td style="text-align: left;">
   <strong>TI</strong> </td><td style="text-align: left;"> Interest Rates </td><td style="text-align: left;"> Daily </td><td style="text-align: left;"> Daily </td>
</tr>
<tr>
 <td style="text-align: left;">
   <strong>PB</strong> </td><td style="text-align: left;"> Bank Lending Survey </td><td style="text-align: left;"> Quarterly </td><td style="text-align: left;"> Quarterly </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>Use <code>"ALL"</code> as a shorthand for updating all the catalogs at a glance.
</p>


<h3>Value</h3>

<p>None. Downloads the catalog file(s) to the local machine.
</p>


<h3>Source</h3>

<p><a href="https://www.bde.es/webbe/en/estadisticas/recursos/descargas-completas.html">Time-series bulk data download</a>
</p>


<h3>See Also</h3>

<p>Other catalog: 
<code><a href="#topic+bde_catalog_load">bde_catalog_load</a>()</code>,
<code><a href="#topic+bde_catalog_search">bde_catalog_search</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

bde_catalog_update("TI", verbose = TRUE)


</code></pre>

<hr>
<h2 id='bde_check_access'>Check access to BdE</h2><span id='topic+bde_check_access'></span>

<h3>Description</h3>

<p>Check if R has access to resources at
<a href="https://www.bde.es/webbe/en/estadisticas/recursos/descargas-completas.html">https://www.bde.es/webbe/en/estadisticas/recursos/descargas-completas.html</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bde_check_access()
</code></pre>


<h3>Value</h3>

<p>a logical.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
bde_check_access()

</code></pre>

<hr>
<h2 id='bde_indicators'>Relevant Indicators of Spain</h2><span id='topic+bde_indicators'></span><span id='topic+bde_ind_gdp_var'></span><span id='topic+bde_ind_unemployment_rate'></span><span id='topic+bde_ind_euribor_12m_monthly'></span><span id='topic+bde_ind_euribor_12m_daily'></span><span id='topic+bde_ind_cpi_var'></span><span id='topic+bde_ind_ibex_monthly'></span><span id='topic+bde_ind_ibex_daily'></span><span id='topic+bde_ind_gdp_quarterly'></span><span id='topic+bde_ind_population'></span><span id='topic+bde_ind_ibex'></span>

<h3>Description</h3>

<p>Set of helper functions for downloading some of the most relevant
macroeconomic indicators of Spain.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bde_ind_gdp_var(series_label = "GDP_YoY", ...)

bde_ind_unemployment_rate(series_label = "Unemployment_Rate", ...)

bde_ind_euribor_12m_monthly(series_label = "Euribor_12M_Monthly", ...)

bde_ind_euribor_12m_daily(series_label = "Euribor_12M_Daily", ...)

bde_ind_cpi_var(series_label = "Consumer_price_index_YoY", ...)

bde_ind_ibex_monthly(series_label = "IBEX_index_month", ...)

bde_ind_ibex_daily(series_label = "IBEX_index_day", ...)

bde_ind_gdp_quarterly(series_label = "GDP_quarterly_value", ...)

bde_ind_population(series_label = "Population_Spain", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bde_indicators_+3A_series_label">series_label</code></td>
<td>
<p>Optional. Character vector or value. Allows to specify a
custom label for the series extracted. It should have the same length than
<code>series_code</code>.</p>
</td></tr>
<tr><td><code id="bde_indicators_+3A_...">...</code></td>
<td>

<p>Arguments passed on to <code><a href="#topic+bde_series_load">bde_series_load</a></code>
</p>

<dl>
<dt><code>out_format</code></dt><dd><p>Defines if the format must be returned as a &quot;long&quot; dataset
or a &quot;wide&quot; dataset. Possible values are <code>"wide"</code> or <code>"long"</code>. See
<strong>Value</strong> for Details and Section <strong>Examples</strong>.</p>
</dd>
<dt><code>parse_numeric</code></dt><dd><p>Logical. If <code>TRUE</code> the columns would be parsed to
double (numeric) values. See <strong>Note</strong>.</p>
</dd>
<dt><code>extract_metadata</code></dt><dd><p>Logical <code>TRUE/FALSE</code>. On <code>TRUE</code> the output is the
metadata of the requested series.</p>
</dd>
<dt><code>parse_dates</code></dt><dd><p>Logical. If <code>TRUE</code> the dates would be parsed using
<code><a href="#topic+bde_parse_dates">bde_parse_dates()</a></code>.</p>
</dd>
<dt><code>update_cache</code></dt><dd><p>Logical. If <code>TRUE</code> the requested file would be updated on
the <code>cache_dir</code>.</p>
</dd>
<dt><code>cache_dir</code></dt><dd><p>A path to a cache directory. The directory can also be set
via options with <code>options(bde_cache_dir = "path/to/dir")</code>.</p>
</dd>
<dt><code>verbose</code></dt><dd><p>Logical <code>TRUE</code> or <code>FALSE</code>, display information useful for
debugging.</p>
</dd>
</dl>
</td></tr>
</table>


<h3>Details</h3>

<p>This functions are convenient wrappers of <code><a href="#topic+bde_series_load">bde_series_load()</a></code> referencing
specific series. Use <code style="white-space: pre;">&#8288;verbose = TRUE, extract_metadata = TRUE&#8288;</code> options
to see the specification and the source.
</p>


<h3>Value</h3>

<p>A <code>tibble</code> with the required series.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bde_series_load">bde_series_load()</a></code>, <code><a href="#topic+bde_catalog_search">bde_catalog_search()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

bde_ind_gdp_var()


</code></pre>

<hr>
<h2 id='bde_parse_dates'>Parse dates</h2><span id='topic+bde_parse_dates'></span>

<h3>Description</h3>

<p>This function is tailored for the date formatting used on this package, so
it may fail if it is used for another datasets. See <strong>Examples</strong> for
checking which formats would be considered.
</p>


<h4>Date Formats</h4>


<table>
<tr>
 <td style="text-align: left;">
   <strong>FREQUENCY</strong> </td><td style="text-align: left;"> <strong>FORMAT</strong> </td><td style="text-align: left;"> <strong>EXAMPLES</strong> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <strong>Daily / Business day</strong> </td><td style="text-align: left;"> DD MMMMYYYY </td><td style="text-align: left;"> <em>02 FEB2019</em> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <strong>Monthly</strong> </td><td style="text-align: left;"> MMM YYYY </td><td style="text-align: left;"> <em>MAR 2020</em> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <strong>Quarterly</strong> </td><td style="text-align: left;"> MMM YYYY, where MMM is the first  or the last month of the quarter, depending on the value of its variable OBSERVED. </td><td style="text-align: left;"> For the first quarter of 2020: <em>ENE 2020, MAR 2020</em> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <strong>Half-yearly</strong> </td><td style="text-align: left;"> MMM YYYY, where MMM is the first or the last month of the halfyear period, depending on the value of its variable OBSERVED. </td><td style="text-align: left;"> For the first half of 2020: <em>ENE 2020, JUN 2020</em> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <strong>Annual</strong> </td><td style="text-align: left;"> YYYY </td><td style="text-align: left;"> <em>2020</em> </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>




<h3>Usage</h3>

<pre><code class='language-R'>bde_parse_dates(dates_to_parse)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bde_parse_dates_+3A_dates_to_parse">dates_to_parse</code></td>
<td>
<p>Dates to parse</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Tries to parse strings representing dates using <code><a href="base.html#topic+as.Date">as.Date()</a></code>
</p>


<h3>Value</h3>

<p>A class &quot;Date&quot; object.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+as.Date">as.Date()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Formats parsed
would_parse &lt;- c(
  "02 FEB2019", "15 ABR 1890", "MAR 2020", "ENE2020",
  "2020", "12-1993", "01-02-2014", "01/02/1990"
)

parsed_ok &lt;- bde_parse_dates(would_parse)

class(parsed_ok)

tibble::tibble(raw = would_parse, parsed = parsed_ok)

#-----------------------------------

# Formats not admitted
wont_parse &lt;- c("JAN2001", "2010-01-12", "01 APR 2017", "01/31/1990")

parsed_fail &lt;- bde_parse_dates(wont_parse)

class(parsed_fail)

tibble::tibble(raw = wont_parse, parsed = parsed_fail)
</code></pre>

<hr>
<h2 id='bde_series_full_load'>Load BdE full time-series files</h2><span id='topic+bde_series_full_load'></span>

<h3>Description</h3>

<p>Load a full time-series file provided by BdE.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bde_series_full_load(
  series_csv,
  parse_dates = TRUE,
  parse_numeric = TRUE,
  cache_dir = NULL,
  update_cache = FALSE,
  verbose = FALSE,
  extract_metadata = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bde_series_full_load_+3A_series_csv">series_csv</code></td>
<td>
<p>csv file of a series, as defined in the field
<code style="white-space: pre;">&#8288;Nombre del archivo con los valores de la serie&#8288;</code> of the corresponding
catalog. See <code><a href="#topic+bde_catalog_load">bde_catalog_load()</a></code>.</p>
</td></tr>
<tr><td><code id="bde_series_full_load_+3A_parse_dates">parse_dates</code></td>
<td>
<p>Logical. If <code>TRUE</code> the dates would be parsed using
<code><a href="#topic+bde_parse_dates">bde_parse_dates()</a></code>.</p>
</td></tr>
<tr><td><code id="bde_series_full_load_+3A_parse_numeric">parse_numeric</code></td>
<td>
<p>Logical. If <code>TRUE</code> the columns would be parsed to
double (numeric) values. See <strong>Note</strong>.</p>
</td></tr>
<tr><td><code id="bde_series_full_load_+3A_cache_dir">cache_dir</code></td>
<td>
<p>A path to a cache directory. The directory can also be set
via options with <code>options(bde_cache_dir = "path/to/dir")</code>.</p>
</td></tr>
<tr><td><code id="bde_series_full_load_+3A_update_cache">update_cache</code></td>
<td>
<p>Logical. If <code>TRUE</code> the requested file would be updated on
the <code>cache_dir</code>.</p>
</td></tr>
<tr><td><code id="bde_series_full_load_+3A_verbose">verbose</code></td>
<td>
<p>Logical <code>TRUE</code> or <code>FALSE</code>, display information useful for
debugging.</p>
</td></tr>
<tr><td><code id="bde_series_full_load_+3A_extract_metadata">extract_metadata</code></td>
<td>
<p>Logical <code>TRUE/FALSE</code>. On <code>TRUE</code> the output is the
metadata of the requested series.</p>
</td></tr>
</table>


<h3>Details</h3>



<h4>About BdE file naming</h4>

<p>The series name is a positional code showing the location of the table. For
example, table <strong>be_6_1</strong> represents the Table 1, Chapter 6 of the
Statistical Bulletin (&quot;BE&quot;). Although it is a unique value, it is subject
to change (i.e. a new table is inserted before).
</p>
<p>For that reason, the function <code><a href="#topic+bde_series_load">bde_series_load()</a></code> is more suitable for
extracting specific time-series.
</p>



<h3>Value</h3>

<p>A <a href="tibble.html#topic+tibble">tibble</a> with a field <code>Date</code> and the alias of the
fields series as described on the catalogs. See <code><a href="#topic+bde_catalog_load">bde_catalog_load()</a></code>.
</p>


<h3>Note</h3>

<p>This function tries to coerce the columns to numbers. For some series a
warning may be displayed if the parser fails. You can override the default
behavior with <code>parse_numeric = FALSE</code>
</p>


<h3>See Also</h3>

<p>Other series: 
<code><a href="#topic+bde_series_load">bde_series_load</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

# Metadata
bde_series_full_load("TI_1_1.csv", extract_metadata = TRUE)

# Data
bde_series_full_load("TI_1_1.csv")


</code></pre>

<hr>
<h2 id='bde_series_load'>Load a single BdE time-series.</h2><span id='topic+bde_series_load'></span>

<h3>Description</h3>

<p>The series alias is a positional code showing the location (column and/or
row) of the series in the table. However, although it is unique, it is not
a good candidate to be used as the series ID, as it is subject to change.
If a series changes position in the table, its alias will also change.
</p>
<p>To ensure series can still be identified, even after these changes, they
are assigned a sequential number (<code>series_code</code> on this function) which
will remain unchanged throughout the series' lifetime.
</p>
<p>Note that a single series could be used on different tables, so it can have
several aliases. If you need to search by alias it is recommended to use
<code><a href="#topic+bde_series_full_load">bde_series_full_load()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bde_series_load(
  series_code,
  series_label = NULL,
  out_format = "wide",
  parse_dates = TRUE,
  parse_numeric = TRUE,
  cache_dir = NULL,
  update_cache = FALSE,
  verbose = FALSE,
  extract_metadata = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bde_series_load_+3A_series_code">series_code</code></td>
<td>
<p>a numeric (or coercible with <code><a href="base.html#topic+double">base::as.double()</a></code> value
or vector with time-series code(s), as defined in the field
<code style="white-space: pre;">&#8288;Número secuencial&#8288;</code> of the corresponding series. See <code><a href="#topic+bde_catalog_load">bde_catalog_load()</a></code>.</p>
</td></tr>
<tr><td><code id="bde_series_load_+3A_series_label">series_label</code></td>
<td>
<p>Optional. Character vector or value. Allows to specify a
custom label for the series extracted. It should have the same length than
<code>series_code</code>.</p>
</td></tr>
<tr><td><code id="bde_series_load_+3A_out_format">out_format</code></td>
<td>
<p>Defines if the format must be returned as a &quot;long&quot; dataset
or a &quot;wide&quot; dataset. Possible values are <code>"wide"</code> or <code>"long"</code>. See
<strong>Value</strong> for Details and Section <strong>Examples</strong>.</p>
</td></tr>
<tr><td><code id="bde_series_load_+3A_parse_dates">parse_dates</code></td>
<td>
<p>Logical. If <code>TRUE</code> the dates would be parsed using
<code><a href="#topic+bde_parse_dates">bde_parse_dates()</a></code>.</p>
</td></tr>
<tr><td><code id="bde_series_load_+3A_parse_numeric">parse_numeric</code></td>
<td>
<p>Logical. If <code>TRUE</code> the columns would be parsed to
double (numeric) values. See <strong>Note</strong>.</p>
</td></tr>
<tr><td><code id="bde_series_load_+3A_cache_dir">cache_dir</code></td>
<td>
<p>A path to a cache directory. The directory can also be set
via options with <code>options(bde_cache_dir = "path/to/dir")</code>.</p>
</td></tr>
<tr><td><code id="bde_series_load_+3A_update_cache">update_cache</code></td>
<td>
<p>Logical. If <code>TRUE</code> the requested file would be updated on
the <code>cache_dir</code>.</p>
</td></tr>
<tr><td><code id="bde_series_load_+3A_verbose">verbose</code></td>
<td>
<p>Logical <code>TRUE</code> or <code>FALSE</code>, display information useful for
debugging.</p>
</td></tr>
<tr><td><code id="bde_series_load_+3A_extract_metadata">extract_metadata</code></td>
<td>
<p>Logical <code>TRUE/FALSE</code>. On <code>TRUE</code> the output is the
metadata of the requested series.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Load a single time-series provided by BdE.
</p>


<h3>Value</h3>

<p>A <a href="tibble.html#topic+tibble">tibble</a> with a field <code>Date</code> and :
</p>

<ul>
<li><p> With <code>out_format = "wide"</code> each series is presented in a separate
column with the name defined by <code>series_label</code>.
</p>
</li>
<li><p> With <code>out_format = "long"</code> the tibble would have two more columns,
<code>serie_name</code> with the labels of each series and <code>serie_value</code> with the
value of the series.
</p>
</li></ul>

<p>&quot;wide&quot; format is more suitable for exporting to a <code>.csv</code> file while &quot;long&quot;
format is more suitable for producing plots with <code><a href="ggplot2.html#topic+ggplot">ggplot2::ggplot()</a></code>.
See also <code><a href="tidyr.html#topic+pivot_longer">tidyr::pivot_longer()</a></code> and <code><a href="tidyr.html#topic+pivot_wider">tidyr::pivot_wider()</a></code>.
</p>


<h3>Note</h3>

<p>This function tries to coerce the columns to numbers. For some series a
warning may be displayed if the parser fails. You can override the default
behavior with <code>parse_numeric = FALSE</code>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bde_catalog_load">bde_catalog_load()</a></code>,
<code><a href="#topic+bde_catalog_search">bde_catalog_search()</a></code>, <code><a href="#topic+bde_indicators">bde_indicators()</a></code>
</p>
<p>Other series: 
<code><a href="#topic+bde_series_full_load">bde_series_full_load</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

# Metadata
bde_series_load(573234, verbose = TRUE, extract_metadata = TRUE)

# Data
bde_series_load(573234, extract_metadata = FALSE)

# Vectorized
bde_series_load(c(573234, 573214),
  series_label = c("US/EUR", "GBP/EUR"),
  extract_metadata = TRUE
)

wide &lt;- bde_series_load(c(573234, 573214),
  series_label = c("US/EUR", "GBP/EUR")
)

# Wide format
wide


# Long format
long &lt;- bde_series_load(c(573234, 573214),
  series_label = c("US/EUR", "GBP/EUR"),
  out_format = "long"
)

long


# Use with ggplot
library(ggplot2)


ggplot(long, aes(Date, serie_value)) +
  geom_line(aes(group = serie_name, color = serie_name)) +
  scale_color_bde_d() +
  theme_tidybde()


</code></pre>

<hr>
<h2 id='bde_tidy_palettes'>BdE color palettes</h2><span id='topic+bde_tidy_palettes'></span>

<h3>Description</h3>

<p>Custom palettes based on the publications of BdE. These are manual palettes
with a maximum of 6 colors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bde_tidy_palettes(
  n = 6,
  palette = c("bde_vivid_pal", "bde_rose_pal", "bde_qual_pal"),
  alpha = NULL,
  rev = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bde_tidy_palettes_+3A_n">n</code></td>
<td>
<p>The number of colors (<code style="white-space: pre;">&#8288;&gt;= 1&#8288;</code>) to be in the palette.</p>
</td></tr>
<tr><td><code id="bde_tidy_palettes_+3A_palette">palette</code></td>
<td>
<p>A valid palette name.</p>
</td></tr>
<tr><td><code id="bde_tidy_palettes_+3A_alpha">alpha</code></td>
<td>
<p>An alpha-transparency level in the range <code style="white-space: pre;">&#8288;[0,1]&#8288;</code> (<code>0</code> means
transparent and <code>1</code> means opaque). A missing, i.e., <code>alpha = NULL</code>, does
not add opacity codes (<code>"FF"</code>) to the individual color hex codes. See
<code><a href="ggplot2.html#topic+reexports">ggplot2::alpha()</a></code>.</p>
</td></tr>
<tr><td><code id="bde_tidy_palettes_+3A_rev">rev</code></td>
<td>
<p>Logical indicating whether the ordering of the colors should be
reversed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of colors.
</p>


<h3>See Also</h3>

<p>Other bde_plot: 
<code><a href="#topic+scales_bde">scales_bde</a></code>,
<code><a href="#topic+theme_tidybde">theme_tidybde</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# BdE vivid pal
scales::show_col(bde_tidy_palettes(palette = "bde_vivid_pal"),
  labels = FALSE
)

# BdE rose pal
scales::show_col(bde_tidy_palettes(palette = "bde_rose_pal"), labels = FALSE)

# BdE qual pal
scales::show_col(bde_tidy_palettes(palette = "bde_qual_pal"), labels = FALSE)
</code></pre>

<hr>
<h2 id='bde_vivid_pal'>BdE superseded palettes</h2><span id='topic+bde_vivid_pal'></span><span id='topic+bde_rose_pal'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#superseded"><img src="../help/figures/lifecycle-superseded.svg" alt='[Superseded]' /></a>
</p>
<p>These functions have been superseded, see <code><a href="#topic+bde_tidy_palettes">bde_tidy_palettes()</a></code> as a
replacement.
</p>
<p>Custom palettes based on the publications of BdE.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bde_vivid_pal(...)

bde_rose_pal(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bde_vivid_pal_+3A_...">...</code></td>
<td>
<p>Further arguments of the functions.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A palette of colors.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# BdE vivid pal
scales::show_col(bde_vivid_pal()(6), labels = FALSE)

# BdE rose pal
scales::show_col(bde_rose_pal()(6), labels = FALSE)
</code></pre>

<hr>
<h2 id='scales_bde'>BdE scales for <a href="https://CRAN.R-project.org/package=ggplot2"><span class="pkg">ggplot2</span></a>.</h2><span id='topic+scales_bde'></span><span id='topic+scale_color_bde_d'></span><span id='topic+scale_colour_bde_d'></span><span id='topic+scale_fill_bde_d'></span><span id='topic+scale_color_bde_c'></span><span id='topic+scale_colour_bde_c'></span><span id='topic+scale_fill_bde_c'></span>

<h3>Description</h3>

<p>Scales to be used with the <a href="https://CRAN.R-project.org/package=ggplot2"><span class="pkg">ggplot2</span></a> package. Discrete palettes are
named as <code style="white-space: pre;">&#8288;scale_*_bde_d&#8288;</code> while continuous palettes are named <code style="white-space: pre;">&#8288;scale_*_bde_c&#8288;</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scale_color_bde_d(
  palette = c("bde_vivid_pal", "bde_rose_pal", "bde_qual_pal"),
  alpha = NULL,
  rev = FALSE,
  ...
)

scale_fill_bde_d(
  palette = c("bde_vivid_pal", "bde_rose_pal", "bde_qual_pal"),
  alpha = NULL,
  rev = FALSE,
  ...
)

scale_color_bde_c(
  palette = c("bde_rose_pal", "bde_vivid_pal", "bde_qual_pal"),
  alpha = NULL,
  rev = FALSE,
  ...
)

scale_fill_bde_c(
  palette = c("bde_rose_pal", "bde_vivid_pal", "bde_qual_pal"),
  alpha = NULL,
  rev = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="scales_bde_+3A_palette">palette</code></td>
<td>
<p>Name of the BdE palette to apply. See <code><a href="#topic+bde_tidy_palettes">bde_tidy_palettes()</a></code>
for details.</p>
</td></tr>
<tr><td><code id="scales_bde_+3A_alpha">alpha</code></td>
<td>
<p>An alpha-transparency level in the range <code style="white-space: pre;">&#8288;[0,1]&#8288;</code> (<code>0</code> means
transparent and <code>1</code> means opaque). A missing, i.e., <code>alpha = NULL</code>, does
not add opacity codes (<code>"FF"</code>) to the individual color hex codes. See
<code><a href="ggplot2.html#topic+reexports">ggplot2::alpha()</a></code>.</p>
</td></tr>
<tr><td><code id="scales_bde_+3A_rev">rev</code></td>
<td>
<p>Logical indicating whether the ordering of the colors should be
reversed.</p>
</td></tr>
<tr><td><code id="scales_bde_+3A_...">...</code></td>
<td>
<p>Further arguments of <code><a href="ggplot2.html#topic+discrete_scale">ggplot2::discrete_scale()</a></code> or
<code><a href="ggplot2.html#topic+continuous_scale">ggplot2::continuous_scale()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <a href="https://CRAN.R-project.org/package=ggplot2"><span class="pkg">ggplot2</span></a> color scale.
</p>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+discrete_scale">ggplot2::discrete_scale()</a></code>, <code><a href="ggplot2.html#topic+continuous_scale">ggplot2::continuous_scale()</a></code>
</p>
<p>Other bde_plot: 
<code><a href="#topic+bde_tidy_palettes">bde_tidy_palettes</a>()</code>,
<code><a href="#topic+theme_tidybde">theme_tidybde</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)

set.seed(596)
txsamp &lt;- subset(
  txhousing,
  city %in% c(
    "Houston", "Fort Worth",
    "San Antonio", "Dallas", "Austin"
  )
)

ggplot(txsamp, aes(x = sales, y = median)) +
  geom_point(aes(colour = city)) +
  scale_color_bde_d() +
  theme_minimal()


ggplot(txsamp, aes(x = sales, y = median)) +
  geom_point(aes(colour = city)) +
  scale_color_bde_d("bde_qual_pal") +
  theme_minimal()

</code></pre>

<hr>
<h2 id='theme_tidybde'>BdE <code>ggplot2</code> theme</h2><span id='topic+theme_tidybde'></span>

<h3>Description</h3>

<p>A custom <a href="https://CRAN.R-project.org/package=ggplot2"><span class="pkg">ggplot2</span></a> theme based on the publications of BdE.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>theme_tidybde(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="theme_tidybde_+3A_...">...</code></td>
<td>

<p>Arguments passed on to <code><a href="ggplot2.html#topic+ggtheme">ggplot2::theme_classic</a></code>
</p>

<dl>
<dt><code>base_size</code></dt><dd><p>base font size, given in pts.</p>
</dd>
<dt><code>base_family</code></dt><dd><p>base font family</p>
</dd>
<dt><code>base_line_size</code></dt><dd><p>base size for line elements</p>
</dd>
<dt><code>base_rect_size</code></dt><dd><p>base size for rect elements</p>
</dd>
</dl>
</td></tr>
</table>


<h3>Details</h3>

<p>Theme based on <code><a href="ggplot2.html#topic+ggtheme">ggplot2::theme_classic()</a></code>.
</p>


<h3>Value</h3>

<p>A <code><a href="ggplot2.html#topic+ggtheme">ggplot2::theme_classic()</a></code>.
</p>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+ggtheme">ggplot2::theme_classic()</a></code>
</p>
<p>Other bde_plot: 
<code><a href="#topic+bde_tidy_palettes">bde_tidy_palettes</a>()</code>,
<code><a href="#topic+scales_bde">scales_bde</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

library(ggplot2)
library(dplyr)
library(tidyr)

series_TC &lt;- bde_series_full_load("TC_1_1.csv")

# If download was OK then plot
if (nrow(series_TC) &gt; 0) {
  series_TC &lt;- series_TC[c(1, 2)]

  series_TC_pivot &lt;- series_TC %&gt;%
    filter(
      Date &gt;= "2020-01-01" &amp; Date &lt;= "2020-12-31",
      !is.na(series_TC[[2]])
    )

  names(series_TC_pivot) &lt;- c("x", "y")

  ggplot(series_TC_pivot, aes(x = x, y = y)) +
    geom_line(linewidth = 0.8, color = bde_tidy_palettes(n = 1)) +
    labs(
      title = "Title",
      subtitle = "Some metric",
      caption = "Bank of Spain"
    ) +
    theme_tidybde()
}


</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

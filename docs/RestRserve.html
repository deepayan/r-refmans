<!DOCTYPE html><html><head><title>Help for package RestRserve</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {RestRserve}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#Application'><p>Creates application - RestRserve usage starts from here</p></a></li>
<li><a href='#ApplicationProcess'><p>Creates ApplicationProcess object</p></a></li>
<li><a href='#AuthBackend'><p>Create AuthBackend</p></a></li>
<li><a href='#AuthBackendBasic'><p>Basic authorization backend</p></a></li>
<li><a href='#AuthBackendBearer'><p>Bearer token authorization backend</p></a></li>
<li><a href='#AuthMiddleware'><p>Creates authorization middleware object</p></a></li>
<li><a href='#Backend'><p>Creates Backend object</p></a></li>
<li><a href='#BackendRserve'><p>Creates Rserve backend for processing HTTP requests</p></a></li>
<li><a href='#ContentHandlers'><p>Content handlers collection</p></a></li>
<li><a href='#CORSMiddleware'><p>Creates CORS middleware object</p></a></li>
<li><a href='#EncodeDecodeMiddleware'><p>Creates EncodeDecodeMiddleware middleware object</p></a></li>
<li><a href='#ETagMiddleware'><p>Creates ETag middleware object</p></a></li>
<li><a href='#HTTPDate-class'><p>HTTP Date class</p></a></li>
<li><a href='#HTTPError'><p>Helps to generate HTTP error responses</p></a></li>
<li><a href='#IDE-hints'><p>request and reponse placeholders for IDE hints</p></a></li>
<li><a href='#Logger'><p>Simple logging utility</p></a></li>
<li><a href='#Middleware'><p>Creates middleware object</p></a></li>
<li><a href='#openapi'><p>Builds OpenAPI objects</p></a></li>
<li><a href='#raise'><p>Interrupts request processing</p></a></li>
<li><a href='#Request'><p>Creates Request object</p></a></li>
<li><a href='#Response'><p>Creates Response object</p></a></li>
<li><a href='#RestRserve-package'><p>RestRserve: A Framework for Building HTTP API</p></a></li>
<li><a href='#Router'><p>Creates Router object.</p></a></li>
<li><a href='#to_json'><p>Simple JSON encoder</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>A Framework for Building HTTP API</td>
</tr>
<tr>
<td>Description:</td>
<td>
  Allows to easily create high-performance full featured HTTP APIs from R
  functions. Provides high-level classes such as 'Request', 'Response',
  'Application', 'Middleware' in order to streamline server side
  application development. Out of the box allows to serve requests using
  'Rserve' package, but flexible enough to integrate with other HTTP servers
  such as 'httpuv'.</td>
</tr>
<tr>
<td>Version:</td>
<td>1.2.1</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://restrserve.org">https://restrserve.org</a>, <a href="https://github.com/rexyai/RestRserve">https://github.com/rexyai/RestRserve</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/rexyai/RestRserve/issues">https://github.com/rexyai/RestRserve/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.6.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>methods, parallel, Rserve (&ge; 1.7.3), Rcpp (&ge; 1.0.3), R6 (&ge;
2.4.0), uuid (&ge; 0.1-2), checkmate (&ge; 1.9.4), mime (&ge; 0.7),
jsonlite (&ge; 1.6), digest (&ge; 0.6.29)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>tinytest (&ge; 1.0.0), lgr (&ge; 0.3.2), lintr, knitr, rmarkdown,
curl, sys</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>C++11</td>
</tr>
<tr>
<td>ByteCompile:</td>
<td>true</td>
</tr>
<tr>
<td>KeepSource:</td>
<td>true</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.1</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-09-11 02:26:22 UTC; dselivanov</td>
</tr>
<tr>
<td>Author:</td>
<td>Dmitry Selivanov <a href="https://orcid.org/0000-0001-5413-1506"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Artem Klevtsov <a href="https://orcid.org/0000-0003-0492-6647"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  David Zimmermann [ctb],
  rexy.ai [cph, fnd]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Dmitry Selivanov &lt;ds@rexy.ai&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-09-12 08:42:57 UTC</td>
</tr>
</table>
<hr>
<h2 id='Application'>Creates application - RestRserve usage starts from here</h2><span id='topic+Application'></span>

<h3>Description</h3>

<p>Creates Application object.
Application provides an interface for building high-performance
REST API by registering R functions as handlers http requests.
</p>


<h3>Details</h3>

<p>There are several advanced options to control how HTTP headers are
processed:
</p>

<ul>
<li> <p><code>options("RestRserve.headers.server")</code> controls response <code>"Server"</code> header
</p>
</li>
<li> <p><code>options("RestRserve.headers.split")</code> controls which header values
split by comma during parsing. See
<a href="https://en.wikipedia.org/wiki/List_of_HTTP_header_fields">https://en.wikipedia.org/wiki/List_of_HTTP_header_fields</a>,
<a href="https://stackoverflow.com/a/29550711/3048453">https://stackoverflow.com/a/29550711/3048453</a>
</p>
</li></ul>

<p>There is also an option to switch-off runtime types validation in
the Request/Response handlers. This might provide some performance gains,
but ultimately leads to less robust applications. Use at your own risk!
See <code>options("RestRserve.runtime.asserts")</code>
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>logger</code></dt><dd><p>Logger object which records events during request processing.
Alternatively user can use loggers from lgr package as a drop-in
replacement - <code>Logger</code> methods and loggers created by <code>lgr</code> share
function signatures.</p>
</dd>
<dt><code>content_type</code></dt><dd><p>Default response body content type.</p>
</dd>
<dt><code>HTTPError</code></dt><dd><p>Class which raises HTTP errors.
Global <a href="#topic+HTTPError">HTTPError</a> is used by default. In theory user can replace it with
his own class (see <code>RestRserve:::HTTPErrorFactory</code>). However we believe
in the majority of the cases using <a href="#topic+HTTPError">HTTPError</a> will be enough.</p>
</dd>
</dl>

</div>


<h3>Active bindings</h3>

<div class="r6-active-bindings">

<dl>
<dt><code>endpoints</code></dt><dd><p>Prints all the registered routes with allowed methods.</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-Application-new"><code>Application$new()</code></a>
</p>
</li>
<li> <p><a href="#method-Application-add_route"><code>Application$add_route()</code></a>
</p>
</li>
<li> <p><a href="#method-Application-add_get"><code>Application$add_get()</code></a>
</p>
</li>
<li> <p><a href="#method-Application-add_post"><code>Application$add_post()</code></a>
</p>
</li>
<li> <p><a href="#method-Application-add_static"><code>Application$add_static()</code></a>
</p>
</li>
<li> <p><a href="#method-Application-add_openapi"><code>Application$add_openapi()</code></a>
</p>
</li>
<li> <p><a href="#method-Application-add_swagger_ui"><code>Application$add_swagger_ui()</code></a>
</p>
</li>
<li> <p><a href="#method-Application-append_middleware"><code>Application$append_middleware()</code></a>
</p>
</li>
<li> <p><a href="#method-Application-process_request"><code>Application$process_request()</code></a>
</p>
</li>
<li> <p><a href="#method-Application-print"><code>Application$print()</code></a>
</p>
</li>
<li> <p><a href="#method-Application-clone"><code>Application$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-Application-new"></a>



<h4>Method <code>new()</code></h4>

<p>Creates Application object.
</p>


<h5>Usage</h5>

<div class="r"><pre>Application$new(
  middleware = list(EncodeDecodeMiddleware$new()),
  content_type = "text/plain",
  ...
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>middleware</code></dt><dd><p>List of <a href="#topic+Middleware">Middleware</a> objects.</p>
</dd>
<dt><code>content_type</code></dt><dd><p>Default response body content (media) type. <code>"text/plain"</code> by default.</p>
</dd>
<dt><code>...</code></dt><dd><p>Not used at the moment.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-Application-add_route"></a>



<h4>Method <code>add_route()</code></h4>

<p>Adds endpoint and register user-supplied R function as a handler.
</p>


<h5>Usage</h5>

<div class="r"><pre>Application$add_route(
  path,
  method,
  FUN,
  match = c("exact", "partial", "regex"),
  ...
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>path</code></dt><dd><p>Endpoint path.</p>
</dd>
<dt><code>method</code></dt><dd><p>HTTP method. Allowed methods at the moment:
<code>GET</code>, <code>HEAD</code>, <code>POST</code>, <code>PUT</code>, <code>DELETE</code>, <code>OPTIONS</code>, <code>PATCH</code>.</p>
</dd>
<dt><code>FUN</code></dt><dd><p>User function to handle requests. <code>FUN</code> <strong>must</strong> take two arguments:
first is <code>request</code> (<a href="#topic+Request">Request</a>) and second is <code>response</code> (<a href="#topic+Response">Response</a>).<br />
The goal of the user function is to <strong>modify</strong> <code>response</code> or throw
exception (call <code><a href="#topic+raise">raise()</a></code> or <code><a href="base.html#topic+stop">stop()</a></code>).<br />
Both <code>response</code> and <code>request</code> objects modified in-place and internally
passed further to RestRserve execution pipeline.</p>
</dd>
<dt><code>match</code></dt><dd><p>Defines how route will be processed. Allowed values:
</p>

<ul>
<li> <p><code>exact</code> - match route as is. Returns 404 if route is not matched.
</p>
</li>
<li> <p><code>partial</code> - match route as prefix. Returns 404 if prefix are not matched.
</p>
</li>
<li> <p><code>regex</code> - match route as template. Returns 404 if template pattern not matched.
</p>
</li></ul>
</dd>
<dt><code>...</code></dt><dd><p>Not used.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-Application-add_get"></a>



<h4>Method <code>add_get()</code></h4>

<p>Shorthand to <code>Application$add_route()</code> with <code>GET</code> method.
</p>


<h5>Usage</h5>

<div class="r"><pre>Application$add_get(
  path,
  FUN,
  match = c("exact", "partial", "regex"),
  ...,
  add_head = TRUE
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>path</code></dt><dd><p>Endpoint path.</p>
</dd>
<dt><code>FUN</code></dt><dd><p>User function to handle requests. <code>FUN</code> <strong>must</strong> take two arguments:
first is <code>request</code> (<a href="#topic+Request">Request</a>) and second is <code>response</code> (<a href="#topic+Response">Response</a>).<br />
The goal of the user function is to <strong>modify</strong> <code>response</code> or throw
exception (call <code><a href="#topic+raise">raise()</a></code> or <code><a href="base.html#topic+stop">stop()</a></code>).<br />
Both <code>response</code> and <code>request</code> objects modified in-place and internally
passed further to RestRserve execution pipeline.</p>
</dd>
<dt><code>match</code></dt><dd><p>Defines how route will be processed. Allowed values:
</p>

<ul>
<li> <p><code>exact</code> - match route as is. Returns 404 if route is not matched.
</p>
</li>
<li> <p><code>partial</code> - match route as prefix. Returns 404 if prefix are not matched.
</p>
</li>
<li> <p><code>regex</code> - match route as template. Returns 404 if template pattern not matched.
</p>
</li></ul>
</dd>
<dt><code>...</code></dt><dd><p>Not used.</p>
</dd>
<dt><code>add_head</code></dt><dd><p>Adds HEAD method.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-Application-add_post"></a>



<h4>Method <code>add_post()</code></h4>

<p>Shorthand to <code>Application$add_route()</code> with <code>POST</code> method.
</p>


<h5>Usage</h5>

<div class="r"><pre>Application$add_post(path, FUN, match = c("exact", "partial", "regex"), ...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>path</code></dt><dd><p>Endpoint path.</p>
</dd>
<dt><code>FUN</code></dt><dd><p>User function to handle requests. <code>FUN</code> <strong>must</strong> take two arguments:
first is <code>request</code> (<a href="#topic+Request">Request</a>) and second is <code>response</code> (<a href="#topic+Response">Response</a>).<br />
The goal of the user function is to <strong>modify</strong> <code>response</code> or throw
exception (call <code><a href="#topic+raise">raise()</a></code> or <code><a href="base.html#topic+stop">stop()</a></code>).<br />
Both <code>response</code> and <code>request</code> objects modified in-place and internally
passed further to RestRserve execution pipeline.</p>
</dd>
<dt><code>match</code></dt><dd><p>Defines how route will be processed. Allowed values:
</p>

<ul>
<li> <p><code>exact</code> - match route as is. Returns 404 if route is not matched.
</p>
</li>
<li> <p><code>partial</code> - match route as prefix. Returns 404 if prefix are not matched.
</p>
</li>
<li> <p><code>regex</code> - match route as template. Returns 404 if template pattern not matched.
</p>
</li></ul>
</dd>
<dt><code>...</code></dt><dd><p>Not used.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-Application-add_static"></a>



<h4>Method <code>add_static()</code></h4>

<p>Adds <code>GET</code> method to serve file or directory at <code>file_path</code>.
</p>


<h5>Usage</h5>

<div class="r"><pre>Application$add_static(path, file_path, content_type = NULL, ...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>path</code></dt><dd><p>Endpoint path.</p>
</dd>
<dt><code>file_path</code></dt><dd><p>Path file or directory.</p>
</dd>
<dt><code>content_type</code></dt><dd><p>MIME-type for the content.<br />
If <code>content_type = NULL</code> then MIME code <code>content_type</code>  will be inferred
automatically (from file extension).<br />
If it will be impossible to guess about file type then <code>content_type</code> will
be set to <code>application/octet-stream</code>.</p>
</dd>
<dt><code>...</code></dt><dd><p>Not used.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-Application-add_openapi"></a>



<h4>Method <code>add_openapi()</code></h4>

<p>Adds endpoint to serve <a href="https://www.openapis.org/">OpenAPI</a> description of
available methods.
</p>


<h5>Usage</h5>

<div class="r"><pre>Application$add_openapi(path = "/openapi.yaml", file_path = "openapi.yaml")</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>path</code></dt><dd><p>path Endpoint path.</p>
</dd>
<dt><code>file_path</code></dt><dd><p>Path to the OpenAPI specification file.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-Application-add_swagger_ui"></a>



<h4>Method <code>add_swagger_ui()</code></h4>

<p>Adds endpoint to show <a href="https://swagger.io/tools/swagger-ui/">Swagger UI</a>.
</p>


<h5>Usage</h5>

<div class="r"><pre>Application$add_swagger_ui(
  path = "/swagger",
  path_openapi = "/openapi.yaml",
  use_cdn = TRUE,
  path_swagger_assets = "/__swagger__/",
  file_path = "swagger-ui.html"
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>path</code></dt><dd><p>path Endpoint path.</p>
</dd>
<dt><code>path_openapi</code></dt><dd><p>Path to the OpenAPI specification file.</p>
</dd>
<dt><code>use_cdn</code></dt><dd><p>Use CDN to load Swagger UI libraries.</p>
</dd>
<dt><code>path_swagger_assets</code></dt><dd><p>Swagger UI asstes endpoint.</p>
</dd>
<dt><code>file_path</code></dt><dd><p>Path to Swagger UI HTML file.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-Application-append_middleware"></a>



<h4>Method <code>append_middleware()</code></h4>

<p>Appends middleware to handlers pipeline.
</p>


<h5>Usage</h5>

<div class="r"><pre>Application$append_middleware(mw)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>mw</code></dt><dd><p><a href="#topic+Middleware">Middleware</a> object.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-Application-process_request"></a>



<h4>Method <code>process_request()</code></h4>

<p>Process incoming request and generate <a href="#topic+Response">Response</a> object.
</p>


<h5>Usage</h5>

<div class="r"><pre>Application$process_request(request = NULL)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>request</code></dt><dd><p><a href="#topic+Request">Request</a> object.<br />
Useful for tests your handlers before deploy application.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-Application-print"></a>



<h4>Method <code>print()</code></h4>

<p>Prints application details.
</p>


<h5>Usage</h5>

<div class="r"><pre>Application$print()</pre></div>


<hr>
<a id="method-Application-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>Application$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>See Also</h3>

<p><a href="#topic+HTTPError">HTTPError</a> <a href="#topic+Middleware">Middleware</a>
<a href="#topic+Request">Request</a> <a href="#topic+Response">Response</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># init logger
app_logger = Logger$new()
# set log level for the middleware
app_logger$set_log_level("debug")
# set logger name
app_logger$set_name("MW Logger")
# init middleware to logging
mw = Middleware$new(
  process_request = function(rq, rs) {
    app_logger$info(sprintf("Incomming request (id %s): %s", rq$id, rq$path))
  },
  process_response = function(rq, rs) {
    app_logger$info(sprintf("Outgoing response (id %s): %s", rq$id, rs$status))
  },
  id = "awesome-app-logger"
)

# init application
app = Application$new(middleware = list(mw))

# set internal log level
app$logger$set_log_level("error")

# define simply request handler
status_handler = function(rq, rs) {
  rs$set_body("OK")
  rs$set_content_type("text/plain")
  rs$set_status_code(200L)
}
# add route
app$add_get("/status", status_handler, "exact")

# add static file handler
desc_file = system.file("DESCRIPTION", package = "RestRserve")
# add route
app$add_static("/desc", desc_file, "text/plain")

# define say message handler
say_handler = function(rq, rs) {
  who = rq$parameters_path[["user"]]
  msg = rq$parameters_query[["message"]]
  if (is.null(msg)) msg = "Hello"
  rs$set_body(paste(who, "say", dQuote(msg)))
  rs$set_content_type("text/plain")
  rs$set_status_code(200L)
}
# add route
app$add_get("/say/{user}", say_handler, "regex")

# print application info
app

# test app
# simulate requests
not_found_rq = Request$new(path = "/no")
status_rq = Request$new(path = "/status")
desc_rq = Request$new(path = "/desc")
say_rq = Request$new(path = "/say/anonym", parameters_query = list("message" = "Hola"))
# process prepared requests
app$process_request(not_found_rq)
app$process_request(status_rq)
app$process_request(desc_rq)
app$process_request(say_rq)

# run app
backend = BackendRserve$new()

if (interactive()) {
  backend$start(app, 8080)
}


</code></pre>

<hr>
<h2 id='ApplicationProcess'>Creates ApplicationProcess object</h2><span id='topic+ApplicationProcess'></span>

<h3>Description</h3>

<p>Creates ApplicationProcess to hold PID of the runnung applicaiton.
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>pid</code></dt><dd><p>Process identificator.</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-ApplicationProcess-new"><code>ApplicationProcess$new()</code></a>
</p>
</li>
<li> <p><a href="#method-ApplicationProcess-kill"><code>ApplicationProcess$kill()</code></a>
</p>
</li>
<li> <p><a href="#method-ApplicationProcess-clone"><code>ApplicationProcess$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-ApplicationProcess-new"></a>



<h4>Method <code>new()</code></h4>

<p>Creates ApplicationProcess object
</p>


<h5>Usage</h5>

<div class="r"><pre>ApplicationProcess$new(pid)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>pid</code></dt><dd><p>Process identificator.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-ApplicationProcess-kill"></a>



<h4>Method <code>kill()</code></h4>

<p>Send signal to process.
</p>


<h5>Usage</h5>

<div class="r"><pre>ApplicationProcess$kill(signal = 15L)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>signal</code></dt><dd><p>Singal code.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-ApplicationProcess-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>ApplicationProcess$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>



<hr>
<h2 id='AuthBackend'>Create AuthBackend</h2><span id='topic+AuthBackend'></span>

<h3>Description</h3>

<p>Creates AuthBackend class object.
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>HTTPError</code></dt><dd><p>Class which raises HTTP errors.</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-AuthBackend-new"><code>AuthBackend$new()</code></a>
</p>
</li>
<li> <p><a href="#method-AuthBackend-authenticate"><code>AuthBackend$authenticate()</code></a>
</p>
</li>
<li> <p><a href="#method-AuthBackend-clone"><code>AuthBackend$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-AuthBackend-new"></a>



<h4>Method <code>new()</code></h4>

<p>Creates AuthBackend class object.
</p>


<h5>Usage</h5>

<div class="r"><pre>AuthBackend$new(FUN, auth_header_prefix)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>FUN</code></dt><dd><p>Authentication handler function.</p>
</dd>
<dt><code>auth_header_prefix</code></dt><dd><p>Authentication HTTP header prefix.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-AuthBackend-authenticate"></a>



<h4>Method <code>authenticate()</code></h4>

<p>This placeholder. It must be implemented in the subclass.
</p>


<h5>Usage</h5>

<div class="r"><pre>AuthBackend$authenticate()</pre></div>


<hr>
<a id="method-AuthBackend-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>AuthBackend$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>Note</h3>

<p>This object is typically constructed via a derived classes, e.g.
<a href="#topic+AuthBackendBasic">AuthBackendBasic</a> or <a href="#topic+AuthBackendBearer">AuthBackendBearer</a>.
</p>


<h3>References</h3>

<p><a href="https://github.com/vertexcover-io/falcon-auth">falcon-auth</a>
</p>


<h3>See Also</h3>

<p>Other AuthBackend: 
<code><a href="#topic+AuthBackendBasic">AuthBackendBasic</a></code>,
<code><a href="#topic+AuthBackendBearer">AuthBackendBearer</a></code>,
<code><a href="#topic+AuthMiddleware">AuthMiddleware</a></code>
</p>

<hr>
<h2 id='AuthBackendBasic'>Basic authorization backend</h2><span id='topic+AuthBackendBasic'></span>

<h3>Description</h3>

<p>Creates AuthBackendBasic class object.
</p>


<h3>Super class</h3>

<p><code><a href="#topic+AuthBackend">RestRserve::AuthBackend</a></code> -&gt; <code>AuthBackendBasic</code>
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-AuthBackendBasic-new"><code>AuthBackendBasic$new()</code></a>
</p>
</li>
<li> <p><a href="#method-AuthBackendBasic-authenticate"><code>AuthBackendBasic$authenticate()</code></a>
</p>
</li>
<li> <p><a href="#method-AuthBackendBasic-clone"><code>AuthBackendBasic$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-AuthBackendBasic-new"></a>



<h4>Method <code>new()</code></h4>

<p>Creates AuthBackendBasic class object.
</p>


<h5>Usage</h5>

<div class="r"><pre>AuthBackendBasic$new(FUN)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>FUN</code></dt><dd><p>Function to perform authentication which takes two arguments -
<code>user</code> and <code>password</code>.  Returns boolean - whether access is allowed for
a requested <code>user</code> or not.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-AuthBackendBasic-authenticate"></a>



<h4>Method <code>authenticate()</code></h4>

<p>Provide authentication for the given request.
</p>


<h5>Usage</h5>

<div class="r"><pre>AuthBackendBasic$authenticate(request, response)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>request</code></dt><dd><p><a href="#topic+Request">Request</a> object.</p>
</dd>
<dt><code>response</code></dt><dd><p><a href="#topic+Response">Response</a> object.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>Boolean - whether access is allowed for a requested <code>user</code> or not.
</p>


<hr>
<a id="method-AuthBackendBasic-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>AuthBackendBasic$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>References</h3>

<p><a href="https://tools.ietf.org/html/rfc7617">RFC7617</a>
<a href="https://en.wikipedia.org/wiki/Basic_access_authentication">Wikipedia</a>
</p>


<h3>See Also</h3>

<p><a href="#topic+AuthMiddleware">AuthMiddleware</a> <a href="#topic+Request">Request</a> <a href="#topic+Response">Response</a>
</p>
<p>Other AuthBackend: 
<code><a href="#topic+AuthBackendBearer">AuthBackendBearer</a></code>,
<code><a href="#topic+AuthBackend">AuthBackend</a></code>,
<code><a href="#topic+AuthMiddleware">AuthMiddleware</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># init users database
user_db = list(
  "user-1" = "password-1",
  "user-2" = "password-2"
)
# define authentication handler
auth_fun = function(user, password) {
  if (is.null(user_db[[user]])) return(FALSE) # not found
  if (!identical(user_db[[user]], password)) return(FALSE) # incorrect
  return(TRUE)
}
# init backend
auth_backend = AuthBackendBasic$new(FUN = auth_fun)

# test backend
# define credentials (see RFC)
creds = jsonlite::base64_enc("user-1:password-1")
# generate request headers
h = list("Authorization" = sprintf("Basic %s", creds))
# simulate request
rq = Request$new(path = "/", headers = h)
# init response object
rs = Response$new()
# perform authentication
auth_backend$authenticate(rq, rs) # TRUE

</code></pre>

<hr>
<h2 id='AuthBackendBearer'>Bearer token authorization backend</h2><span id='topic+AuthBackendBearer'></span>

<h3>Description</h3>

<p>Creates AuthBackendBearer class object.
</p>


<h3>Super class</h3>

<p><code><a href="#topic+AuthBackend">RestRserve::AuthBackend</a></code> -&gt; <code>AuthBackendBearer</code>
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-AuthBackendBearer-new"><code>AuthBackendBearer$new()</code></a>
</p>
</li>
<li> <p><a href="#method-AuthBackendBearer-authenticate"><code>AuthBackendBearer$authenticate()</code></a>
</p>
</li>
<li> <p><a href="#method-AuthBackendBearer-clone"><code>AuthBackendBearer$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-AuthBackendBearer-new"></a>



<h4>Method <code>new()</code></h4>

<p>Creates AuthBackendBearer class object.
</p>


<h5>Usage</h5>

<div class="r"><pre>AuthBackendBearer$new(FUN)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>FUN</code></dt><dd><p>Function to perform authentication which takes one arguments - <code>token</code>.
Returns boolean - whether access is allowed for a requested <code>token</code> or not.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-AuthBackendBearer-authenticate"></a>



<h4>Method <code>authenticate()</code></h4>

<p>Provide authentication for the given request.
</p>


<h5>Usage</h5>

<div class="r"><pre>AuthBackendBearer$authenticate(request, response)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>request</code></dt><dd><p><a href="#topic+Request">Request</a> object.</p>
</dd>
<dt><code>response</code></dt><dd><p><a href="#topic+Response">Response</a> object.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>Boolean - whether access is allowed for a requested <code>user</code> or not.
</p>


<hr>
<a id="method-AuthBackendBearer-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>AuthBackendBearer$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>References</h3>

<p><a href="https://tools.ietf.org/html/rfc6750">RFC6750</a>
<a href="https://swagger.io/docs/specification/authentication/bearer-authentication/">Specification</a>
</p>


<h3>See Also</h3>

<p><a href="#topic+AuthMiddleware">AuthMiddleware</a> <a href="#topic+Request">Request</a> <a href="#topic+Response">Response</a>
</p>
<p>Other AuthBackend: 
<code><a href="#topic+AuthBackendBasic">AuthBackendBasic</a></code>,
<code><a href="#topic+AuthBackend">AuthBackend</a></code>,
<code><a href="#topic+AuthMiddleware">AuthMiddleware</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
token_db = list(
  "valid-token" = as.POSIXct("2099-12-31", tz = "GMT"),
  "expired-token" = as.POSIXct("1900-01-01", tz = "GMT")
)
auth_fun = function(token) {
  if (is.null(token_db[[token]])) return(FALSE) # not found
  if (Sys.time() &gt; token_db[[token]]) return(FALSE) # expired
  return(TRUE)
}
# init backend
auth_backend = AuthBackendBearer$new(FUN = auth_fun)

# test backend
# define credentials (see RFC)
token = "valid-token"
# generate request headers
h = list("Authorization" = sprintf("Bearer %s", token))
# simulate request
rq = Request$new(path = "/", headers = h)
# init response object
rs = Response$new()
# perform authentication
auth_backend$authenticate(rq, rs) # TRUE

</code></pre>

<hr>
<h2 id='AuthMiddleware'>Creates authorization middleware object</h2><span id='topic+AuthMiddleware'></span>

<h3>Description</h3>

<p>Adds various authorizations to <a href="#topic+Application">Application</a>.
</p>


<h3>Super class</h3>

<p><code><a href="#topic+Middleware">RestRserve::Middleware</a></code> -&gt; <code>AuthMiddleware</code>
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-AuthMiddleware-new"><code>AuthMiddleware$new()</code></a>
</p>
</li>
<li> <p><a href="#method-AuthMiddleware-clone"><code>AuthMiddleware$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-AuthMiddleware-new"></a>



<h4>Method <code>new()</code></h4>

<p>Creeates AuthMiddleware object.
</p>


<h5>Usage</h5>

<div class="r"><pre>AuthMiddleware$new(
  auth_backend,
  routes,
  match = "exact",
  id = "AuthMiddleware"
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>auth_backend</code></dt><dd><p>Authentication backend.</p>
</dd>
<dt><code>routes</code></dt><dd><p>Routes paths to protect.</p>
</dd>
<dt><code>match</code></dt><dd><p>How routes will be matched: <code>"exact"</code> or <code>"partial"</code> (as prefix).</p>
</dd>
<dt><code>id</code></dt><dd><p>Middleware id.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-AuthMiddleware-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>AuthMiddleware$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>See Also</h3>

<p><a href="#topic+Middleware">Middleware</a> <a href="#topic+Application">Application</a>
</p>
<p>Other AuthBackend: 
<code><a href="#topic+AuthBackendBasic">AuthBackendBasic</a></code>,
<code><a href="#topic+AuthBackendBearer">AuthBackendBearer</a></code>,
<code><a href="#topic+AuthBackend">AuthBackend</a></code>
</p>

<hr>
<h2 id='Backend'>Creates Backend object</h2><span id='topic+Backend'></span>

<h3>Description</h3>

<p>Creates Backend object.
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-Backend-new"><code>Backend$new()</code></a>
</p>
</li>
<li> <p><a href="#method-Backend-start"><code>Backend$start()</code></a>
</p>
</li>
<li> <p><a href="#method-Backend-clone"><code>Backend$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-Backend-new"></a>



<h4>Method <code>new()</code></h4>

<p>Creates Backend object.
</p>


<h5>Usage</h5>

<div class="r"><pre>Backend$new()</pre></div>


<hr>
<a id="method-Backend-start"></a>



<h4>Method <code>start()</code></h4>

<p>Starts backend.
</p>


<h5>Usage</h5>

<div class="r"><pre>Backend$start(app, port, ...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>app</code></dt><dd><p><a href="#topic+Application">Application</a> object.</p>
</dd>
<dt><code>port</code></dt><dd><p>HTTP port.</p>
</dd>
<dt><code>...</code></dt><dd><p>Passed to backend.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-Backend-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>Backend$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>



<hr>
<h2 id='BackendRserve'>Creates Rserve backend for processing HTTP requests</h2><span id='topic+BackendRserve'></span>

<h3>Description</h3>

<p>Creates BackendRserve object which can start <a href="#topic+Application">Application</a> using Rserve backend.
</p>


<h3>Super class</h3>

<p><code><a href="#topic+Backend">RestRserve::Backend</a></code> -&gt; <code>BackendRserve</code>
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-BackendRserve-new"><code>BackendRserve$new()</code></a>
</p>
</li>
<li> <p><a href="#method-BackendRserve-start"><code>BackendRserve$start()</code></a>
</p>
</li>
<li> <p><a href="#method-BackendRserve-set_request"><code>BackendRserve$set_request()</code></a>
</p>
</li>
<li> <p><a href="#method-BackendRserve-convert_response"><code>BackendRserve$convert_response()</code></a>
</p>
</li>
<li> <p><a href="#method-BackendRserve-clone"><code>BackendRserve$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-BackendRserve-new"></a>



<h4>Method <code>new()</code></h4>

<p>Creates BackendRserve object.
</p>


<h5>Usage</h5>

<div class="r"><pre>BackendRserve$new(..., jit_level = 0L, precompile = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt><dd><p>Not used at the moment.</p>
</dd>
<dt><code>jit_level</code></dt><dd><p>changes R's byte compiler level to this value before app
start.</p>
</dd>
<dt><code>precompile</code></dt><dd><p>try to use R's byte compiler to pre-compile</p>
</dd>
</dl>

</div>


<hr>
<a id="method-BackendRserve-start"></a>



<h4>Method <code>start()</code></h4>

<p>Starts RestRserve application from current R session.
</p>


<h5>Usage</h5>

<div class="r"><pre>BackendRserve$start(app, http_port = 8080, ..., background = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>app</code></dt><dd><p><a href="#topic+Application">Application</a> object.</p>
</dd>
<dt><code>http_port</code></dt><dd><p>HTTP port for application. Negative values (such as -1)
means not to expose plain http.</p>
</dd>
<dt><code>...</code></dt><dd><p>Key-value pairs of the Rserve configuration. If contains
<code>"http.port"</code> then <code>http_port</code> will be silently replaced with its value.</p>
</dd>
<dt><code>background</code></dt><dd><p>Whether to try to launch in background process on UNIX.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p><a href="#topic+ApplicationProcess">ApplicationProcess</a> object when <code>background = TRUE</code>.
</p>


<hr>
<a id="method-BackendRserve-set_request"></a>



<h4>Method <code>set_request()</code></h4>

<p>Parse request and set to it fields.
</p>


<h5>Usage</h5>

<div class="r"><pre>BackendRserve$set_request(
  request,
  path = "/",
  parameters_query = NULL,
  headers = NULL,
  body = NULL
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>request</code></dt><dd><p><a href="#topic+Request">Request</a> object.</p>
</dd>
<dt><code>path</code></dt><dd><p>Character with requested path. Always starts with <code>/</code>.</p>
</dd>
<dt><code>parameters_query</code></dt><dd><p>A named character vector with URL decoded query
parameters.</p>
</dd>
<dt><code>headers</code></dt><dd><p>Request HTTP headers.</p>
</dd>
<dt><code>body</code></dt><dd><p>Request body. Can be <code>NULL</code>, raw vector or named character
vector for the URL encoded form (like a <code>parameters_query</code> parameter).</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p><code>request</code> modified object.
</p>


<hr>
<a id="method-BackendRserve-convert_response"></a>



<h4>Method <code>convert_response()</code></h4>

<p>Convert <code>self</code> object to Rserve compatible structure.
</p>


<h5>Usage</h5>

<div class="r"><pre>BackendRserve$convert_response(response)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>response</code></dt><dd><p><a href="#topic+Response">Response</a> object.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>List with the following structure:
</p>

<ul>
<li> <p><code>body</code>: can be a character vector of length one or a raw vector.
if the character vector is named &quot;file&quot; then the content of a file of
that name is the body.
If the character vector is named &quot;tmpfile&quot; then the content of a
temporary file of that name is the body.
</p>
</li>
<li> <p><code>content-type</code>: must be a character vector of length one or NULL
(if present, else default is <code>"text/plain"</code>).
</p>
</li>
<li> <p><code>headers</code>: must be a character vector - the elements will have CRLF
appended and neither <code>Content-type</code> nor <code>Content-length</code> may be used.
</p>
</li>
<li> <p><code>status-code</code>: must be an integer if present (default is 200).
</p>
</li></ul>



<hr>
<a id="method-BackendRserve-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>BackendRserve$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>References</h3>

<p><a href="https://github.com/s-u/Rserve/blob/e6b2b6b10e92b6e201d34a05394b2186fda30696/src/http.c#L353-L372">See http.c in Rserve</a>
</p>

<hr>
<h2 id='ContentHandlers'>Content handlers collection</h2><span id='topic+ContentHandlers'></span><span id='topic+ContentHandlersFactory'></span>

<h3>Description</h3>

<p>Controls how RestRserve encodes and decodes different content types.
Designed to work jointly with <a href="#topic+EncodeDecodeMiddleware">EncodeDecodeMiddleware</a>
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>handlers</code></dt><dd><p>Handlers storage environment.</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-ContentHandlers-new"><code>ContentHandlersFactory$new()</code></a>
</p>
</li>
<li> <p><a href="#method-ContentHandlers-set_encode"><code>ContentHandlersFactory$set_encode()</code></a>
</p>
</li>
<li> <p><a href="#method-ContentHandlers-get_encode"><code>ContentHandlersFactory$get_encode()</code></a>
</p>
</li>
<li> <p><a href="#method-ContentHandlers-set_decode"><code>ContentHandlersFactory$set_decode()</code></a>
</p>
</li>
<li> <p><a href="#method-ContentHandlers-get_decode"><code>ContentHandlersFactory$get_decode()</code></a>
</p>
</li>
<li> <p><a href="#method-ContentHandlers-list"><code>ContentHandlersFactory$list()</code></a>
</p>
</li>
<li> <p><a href="#method-ContentHandlers-reset"><code>ContentHandlersFactory$reset()</code></a>
</p>
</li>
<li> <p><a href="#method-ContentHandlers-clone"><code>ContentHandlersFactory$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-ContentHandlers-new"></a>



<h4>Method <code>new()</code></h4>

<p>Creates ContentHandlersFactory object.
</p>


<h5>Usage</h5>

<div class="r"><pre>ContentHandlersFactory$new()</pre></div>


<hr>
<a id="method-ContentHandlers-set_encode"></a>



<h4>Method <code>set_encode()</code></h4>

<p>Set handler to encode body for the specific content type.
</p>


<h5>Usage</h5>

<div class="r"><pre>ContentHandlersFactory$set_encode(content_type, FUN)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>content_type</code></dt><dd><p>MIME type.</p>
</dd>
<dt><code>FUN</code></dt><dd><p>Function to encode response body.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-ContentHandlers-get_encode"></a>



<h4>Method <code>get_encode()</code></h4>

<p>Get encoder function for the specific content type.
</p>


<h5>Usage</h5>

<div class="r"><pre>ContentHandlersFactory$get_encode(content_type)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>content_type</code></dt><dd><p>MIME type.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-ContentHandlers-set_decode"></a>



<h4>Method <code>set_decode()</code></h4>

<p>Set handler to decode body for the specific content type.
</p>


<h5>Usage</h5>

<div class="r"><pre>ContentHandlersFactory$set_decode(content_type, FUN)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>content_type</code></dt><dd><p>MIME type.</p>
</dd>
<dt><code>FUN</code></dt><dd><p>Function to decode request body.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-ContentHandlers-get_decode"></a>



<h4>Method <code>get_decode()</code></h4>

<p>Get decoder function for the specific content type.
</p>


<h5>Usage</h5>

<div class="r"><pre>ContentHandlersFactory$get_decode(content_type)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>content_type</code></dt><dd><p>MIME type.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-ContentHandlers-list"></a>



<h4>Method <code>list()</code></h4>

<p>Convert handlers to list.
</p>


<h5>Usage</h5>

<div class="r"><pre>ContentHandlersFactory$list()</pre></div>



<h5>Returns</h5>

<p>List of handlers.
</p>


<hr>
<a id="method-ContentHandlers-reset"></a>



<h4>Method <code>reset()</code></h4>

<p>Resets all the content handlers to RestRserve defaults.
</p>


<h5>Usage</h5>

<div class="r"><pre>ContentHandlersFactory$reset()</pre></div>


<hr>
<a id="method-ContentHandlers-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>ContentHandlersFactory$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>See Also</h3>

<p><a href="#topic+Application">Application</a> <a href="#topic+EncodeDecodeMiddleware">EncodeDecodeMiddleware</a>
</p>

<hr>
<h2 id='CORSMiddleware'>Creates CORS middleware object</h2><span id='topic+CORSMiddleware'></span>

<h3>Description</h3>

<p>Adds CORS to <a href="#topic+Application">Application</a>. CORS Middleware out of the box in RestRserve to turn on/off the CORS
Headers on preflight validation from the browser. <br />
</p>
<p>Cross Origin Resource Sharing is an additional security check done by moderns
browsers to avoid request between different domains. To allow it RestRserve
has easy way to enable your CORS policies. By default CORS policies are disabled.
So if any request is coming from a different domain will be blocked
by the browser as default because RestRserve will not send the headers required
by the browser to allow cross site resource sharing. You can change this easy
just by providing <code>CORSMiddleware</code> as middleware to the <a href="#topic+Application">Application</a>.
</p>


<h3>Super class</h3>

<p><code><a href="#topic+Middleware">RestRserve::Middleware</a></code> -&gt; <code>CORSMiddleware</code>
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-CORSMiddleware-new"><code>CORSMiddleware$new()</code></a>
</p>
</li>
<li> <p><a href="#method-CORSMiddleware-clone"><code>CORSMiddleware$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-CORSMiddleware-new"></a>



<h4>Method <code>new()</code></h4>

<p>Creates CORS middleware object
</p>


<h5>Usage</h5>

<div class="r"><pre>CORSMiddleware$new(routes = "/", match = "partial", id = "CORSMiddleware")</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>routes</code></dt><dd><p>Routes paths to protect.</p>
</dd>
<dt><code>match</code></dt><dd><p>How routes will be matched: exact or partial (as prefix).</p>
</dd>
<dt><code>id</code></dt><dd><p>Middleware id.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-CORSMiddleware-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>CORSMiddleware$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>References</h3>

<p><a href="https://developer.mozilla.org/en/docs/Web/HTTP/CORS">MDN</a>
</p>


<h3>See Also</h3>

<p><a href="#topic+Middleware">Middleware</a> <a href="#topic+Application">Application</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>app = Application$new(middleware = list(CORSMiddleware$new()))
app$add_post(path = "/hello", FUN = function(req, res) {
  res$set_body("Hello from RestRserve!")
})
app$add_route("/hello", method = "OPTIONS", FUN = function(req, res) {
 res$set_header("Allow", "POST, OPTIONS")
})
req = Request$new(
  path = "/hello",
  headers = list("Access-Control-Request-Method" = "POST"),
  method = "OPTIONS"
)
app$process_request(req)

</code></pre>

<hr>
<h2 id='EncodeDecodeMiddleware'>Creates EncodeDecodeMiddleware middleware object</h2><span id='topic+EncodeDecodeMiddleware'></span>

<h3>Description</h3>

<p>Controls how RestRserve encodes and decodes different content types.
<strong>This middleware is passed by default to the <a href="#topic+Application">Application</a> constructor</strong>.
</p>


<h3>Super class</h3>

<p><code><a href="#topic+Middleware">RestRserve::Middleware</a></code> -&gt; <code>EncodeDecodeMiddleware</code>
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>ContentHandlers</code></dt><dd><p>Class which controls how RestRserve encodes and
decodes different content types. See <a href="#topic+ContentHandlers">ContentHandlers</a> for documentation.
User can add new encoding and decoding methods for new content types
using <code>set_encode</code> and <code>set_decode</code> methods.<br />
In theory user can replace it with his own class
(see <code>RestRserve:::ContentHandlersFactory</code>). However we believe that in
the majority of the cases using <a href="#topic+ContentHandlers">ContentHandlers</a> will be enough.</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-EncodeDecodeMiddleware-new"><code>EncodeDecodeMiddleware$new()</code></a>
</p>
</li>
<li> <p><a href="#method-EncodeDecodeMiddleware-clone"><code>EncodeDecodeMiddleware$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-EncodeDecodeMiddleware-new"></a>



<h4>Method <code>new()</code></h4>

<p>Creates EncodeDecodeMiddleware middleware object.
</p>


<h5>Usage</h5>

<div class="r"><pre>EncodeDecodeMiddleware$new(id = "EncodeDecodeMiddleware")</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>id</code></dt><dd><p>Middleware id.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-EncodeDecodeMiddleware-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>EncodeDecodeMiddleware$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>See Also</h3>

<p><a href="#topic+Middleware">Middleware</a> <a href="#topic+Application">Application</a> <a href="#topic+ContentHandlers">ContentHandlers</a>
</p>

<hr>
<h2 id='ETagMiddleware'>Creates ETag middleware object</h2><span id='topic+ETagMiddleware'></span>

<h3>Description</h3>

<p>Adds ETag to an <a href="#topic+Application">Application</a>. <br />
</p>
<p>ETags are header information that enable the caching of content.
If enabled, RestRserve will return an ETag (eg a hash of a file) alongside
the last time it was modified.
When a request is sent, additional headers such as
<a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/If-None-Match"><code>If-None-Match</code></a>,
<a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/If-Match"><code>If-Match</code></a>,
<a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/If-Modified-Since"><code>If-Modified-Since</code></a>,
and
<a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/If-UnModified-Since"><code>If-Unmodified-Since</code></a>,
can be passed to the server as well.
</p>
<p>If the conditions are met (different hash in case of a <code>If-None-Match</code> header
or a later file modification in case of a given <code>If-Modified-Since</code> header),
the server does not send the requested file but returns a
<a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/304">304</a> status
code, indicating, that the data on the requesting device is up-to-date.
</p>
<p>Note that if both headers are provided, the <code>If-None-Match</code> header takes
precedence.
</p>
<p>Furthermore, the middleware also supports the headers <code>If-Match</code>, which
returns the object if the hash matches (it also supports &quot;*&quot; to always return
the file), as well as <code>If-Unmodified-Since</code>, which returns the object if it
has not been modified since a certain time.
If the conditions are not met, a
<a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/412">412</a> status
code is returned (Precondition Failed).
See examples below.
</p>


<h3>Super class</h3>

<p><code><a href="#topic+Middleware">RestRserve::Middleware</a></code> -&gt; <code>EtagMiddleware</code>
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>hash_function</code></dt><dd><p>Function that takes an object or file and computes
the hash of it</p>
</dd>
<dt><code>last_modified_function</code></dt><dd><p>Function that takes an object or file and
computes the last time it was modified</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-EtagMiddleware-new"><code>ETagMiddleware$new()</code></a>
</p>
</li>
<li> <p><a href="#method-EtagMiddleware-clone"><code>ETagMiddleware$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-EtagMiddleware-new"></a>



<h4>Method <code>new()</code></h4>

<p>Creates ETag middleware object
</p>


<h5>Usage</h5>

<div class="r"><pre>ETagMiddleware$new(
  routes = "/",
  match = "partial",
  id = "ETagMiddleware",
  hash_function = function(body) {
     if ("file" %in% names(body)) {
        
    digest::digest(file = body[["file"]], algo = "crc32")
     }
     else {
        
    digest::digest(body, algo = "crc32")
     }
 },
  last_modified_function = function(body) {
     if ("file" %in% names(body)) {
       
     as.POSIXlt(file.info(body[["file"]])[["mtime"]], tz = "GMT")
     }
     else {
    
        as.POSIXlt(Sys.time(), tz = "GMT")
     }
 }
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>routes</code></dt><dd><p>Routes paths to protect.</p>
</dd>
<dt><code>match</code></dt><dd><p>How routes will be matched: exact or partial (as prefix).</p>
</dd>
<dt><code>id</code></dt><dd><p>Middleware id.</p>
</dd>
<dt><code>hash_function</code></dt><dd><p>a function that generates the ETag hash.
The function takes the body of the response and returns a single
character. Default is crc32 using <a href="digest.html#topic+digest">digest::digest</a>.</p>
</dd>
<dt><code>last_modified_function</code></dt><dd><p>a function that takes the body of the
response and returns the last time this was changed. The default is to
take the mtime (last time the file was modified) if its a file,
if the body does not contain a file, the current time is returned (
resulting in no caching)</p>
</dd>
</dl>

</div>


<hr>
<a id="method-EtagMiddleware-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>ETagMiddleware$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>References</h3>

<p><a href="https://developer.mozilla.org/en/docs/Web/HTTP/Headers/ETag">MDN</a>
</p>


<h3>See Also</h3>

<p><a href="#topic+Middleware">Middleware</a> <a href="#topic+Application">Application</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#############################################################################
# setup a static directory with ETag caching

static_dir = file.path(tempdir(), "static")
if (!dir.exists(static_dir)) dir.create(static_dir)

file_path = file.path(static_dir, "example.txt")
writeLines("Hello World", file_path)

# get the time the file was last modified in UTC time
last_modified = as.POSIXlt(file.info(file_path)[["mtime"]], tz = "UTC")
file_hash = digest::digest(file = file_path, algo = "crc32")

time_fmt = "%a, %d %b %Y %H:%M:%S GMT"



#############################################################################
# setup the Application with the ETag Middleware
app = Application$new()
app$append_middleware(ETagMiddleware$new())
app$add_static(path = "/", static_dir)



#############################################################################
# Example Requests

# Request the file returns the file with ETag headers
req = Request$new(path = "/example.txt")
# note that it also returns the Last-Modified and ETag headers
app$process_request(req)


# provide matching hash of the file in the If-None-Match header to check Etag
# =&gt; 304 Not Modified (Can be cached)
req = Request$new(path = "/example.txt",
                  headers = list("If-None-Match" = file_hash))
# note status_code 304 Not Modified
app$process_request(req)


# provide a wrong hash, returns the file normally
req = Request$new(path = "/example.txt",
                  headers = list("If-None-Match" = "WRONG HASH"))
app$process_request(req)


# alternatively, you can provide a timestamp in the If-Modified-Since header
# =&gt; 304 Not Modified (Can be cached)
modified_since = format(last_modified + 1, time_fmt)
req = Request$new(path = "/example.txt",
                  headers = list("If-Modified-Since" = modified_since))
app$process_request(req)


# provide both headers: If-None-Match takes precedence
# in this case:
#  - if none match =&gt; modified (No cache)
#  - if modified since =&gt; NOT MODIFIED (cached)
# =&gt; Overall: modified = no cache
modified_since = format(last_modified + 1, time_fmt)
req = Request$new(path = "/example.txt",
                  headers = list("If-None-Match" = "CLEARLY WRONG",
                                 "If-Modified-Since" = modified_since))
app$process_request(req)


# provide matching hash of the file in the If-Match header to check Etag
# =&gt; 412 Precondition Failed
req = Request$new(path = "/example.txt",
                  headers = list("If-Match" = "OTHER HASH"))
# note status_code 412 Precondition Failed
app$process_request(req)


# Use If-Unmodified-Since
unmodified_since = format(last_modified - 1, time_fmt)
req = Request$new(path = "/example.txt",
                  headers = list("If-Unmodified-Since" = unmodified_since)
)
# note status_code 412 Precondition Failed
app$process_request(req)



#############################################################################

# use an alternative hash function (use name of the file)
hash_on_filename = function(x) x
# also use an alternate last_modified time function
always_1900 = function(x) as.POSIXlt("1900-01-01 12:34:56", tz = "GMT")


# setup the app again
app = Application$new(middleware = list(
  ETagMiddleware$new(hash_function = hash_on_filename,
                     last_modified_function = always_1900)
))
app$add_static(path = "/", file_path = static_dir)


# test the requests
req = Request$new(path = "/example.txt")
(res = app$process_request(req))

filename = res$body[["file"]]
req = Request$new(path = "/example.txt",
                  headers = list("If-None-Match" = filename))
app$process_request(req)
</code></pre>

<hr>
<h2 id='HTTPDate-class'>HTTP Date class</h2><span id='topic+HTTPDate-class'></span>

<h3>Description</h3>

<p>Conversions between POSIXct to HTTP Date objects.
</p>


<h3>Arguments</h3>

<table>
<tr><td><code id="HTTPDate-class_+3A_from">from</code></td>
<td>
<p><code>numeric</code>, <code>POSIXct</code> or <code>HTTPDate</code> object.</p>
</td></tr>
</table>


<h3>References</h3>

<p><a href="https://tools.ietf.org/html/rfc7231#section-7.1.1.1">RFC7231</a>
<a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Date">MDN</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># convert POSIXct to HTTP date string
as(0, "HTTPDate") # Thu, 01 Jan 1970 00:00:00 GMT
as(Sys.time(), "HTTPDate")
# parse HTTP date string to POSIXct
dt = "Thu, 01 Jan 1970 00:00:00 GMT"
class(dt) = "HTTPDate"
as(dt, "POSIXct")
</code></pre>

<hr>
<h2 id='HTTPError'>Helps to generate HTTP error responses</h2><span id='topic+HTTPError'></span><span id='topic+HTTPErrorFactory'></span>

<h3>Description</h3>

<p><strong>Global Object</strong> which holds functions to raise common http error responses.
Most of the time this class is used jointly with <a href="#topic+raise">raise</a>. <br />
For example calling
<code>raise(HTTPError$bad_request(body = "request is invalid"))</code> from any place in the user code will
interrupt request processing and return response with status code = 404 and body = &quot;request is invalid&quot;.
</p>
<p>Class to generate HTTP error responses.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>HTTPError
</code></pre>


<h3>Format</h3>

<p>An object of class <code>HTTPError</code> (inherits from <code>R6</code>) of length 39.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>HTTPErrorFactory</code>: 
</p>
</li></ul>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>content_type</code></dt><dd><p>Type of the error response.</p>
</dd>
<dt><code>encode</code></dt><dd><p>Function to encode response body.</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-HTTPError-new"><code>HTTPErrorFactory$new()</code></a>
</p>
</li>
<li> <p><a href="#method-HTTPError-set_content_type"><code>HTTPErrorFactory$set_content_type()</code></a>
</p>
</li>
<li> <p><a href="#method-HTTPError-set_encode"><code>HTTPErrorFactory$set_encode()</code></a>
</p>
</li>
<li> <p><a href="#method-HTTPError-reset"><code>HTTPErrorFactory$reset()</code></a>
</p>
</li>
<li> <p><a href="#method-HTTPError-error"><code>HTTPErrorFactory$error()</code></a>
</p>
</li>
<li> <p><a href="#method-HTTPError-bad_request"><code>HTTPErrorFactory$bad_request()</code></a>
</p>
</li>
<li> <p><a href="#method-HTTPError-unauthorized"><code>HTTPErrorFactory$unauthorized()</code></a>
</p>
</li>
<li> <p><a href="#method-HTTPError-forbidden"><code>HTTPErrorFactory$forbidden()</code></a>
</p>
</li>
<li> <p><a href="#method-HTTPError-not_found"><code>HTTPErrorFactory$not_found()</code></a>
</p>
</li>
<li> <p><a href="#method-HTTPError-method_not_allowed"><code>HTTPErrorFactory$method_not_allowed()</code></a>
</p>
</li>
<li> <p><a href="#method-HTTPError-not_acceptable"><code>HTTPErrorFactory$not_acceptable()</code></a>
</p>
</li>
<li> <p><a href="#method-HTTPError-conflict"><code>HTTPErrorFactory$conflict()</code></a>
</p>
</li>
<li> <p><a href="#method-HTTPError-gone"><code>HTTPErrorFactory$gone()</code></a>
</p>
</li>
<li> <p><a href="#method-HTTPError-length_required"><code>HTTPErrorFactory$length_required()</code></a>
</p>
</li>
<li> <p><a href="#method-HTTPError-precondition_failed"><code>HTTPErrorFactory$precondition_failed()</code></a>
</p>
</li>
<li> <p><a href="#method-HTTPError-payload_too_large"><code>HTTPErrorFactory$payload_too_large()</code></a>
</p>
</li>
<li> <p><a href="#method-HTTPError-uri_too_long"><code>HTTPErrorFactory$uri_too_long()</code></a>
</p>
</li>
<li> <p><a href="#method-HTTPError-unsupported_media_type"><code>HTTPErrorFactory$unsupported_media_type()</code></a>
</p>
</li>
<li> <p><a href="#method-HTTPError-range_not_satisfiable"><code>HTTPErrorFactory$range_not_satisfiable()</code></a>
</p>
</li>
<li> <p><a href="#method-HTTPError-unprocessable_entity"><code>HTTPErrorFactory$unprocessable_entity()</code></a>
</p>
</li>
<li> <p><a href="#method-HTTPError-locked"><code>HTTPErrorFactory$locked()</code></a>
</p>
</li>
<li> <p><a href="#method-HTTPError-failed_dependency"><code>HTTPErrorFactory$failed_dependency()</code></a>
</p>
</li>
<li> <p><a href="#method-HTTPError-precondition_required"><code>HTTPErrorFactory$precondition_required()</code></a>
</p>
</li>
<li> <p><a href="#method-HTTPError-too_many_requests"><code>HTTPErrorFactory$too_many_requests()</code></a>
</p>
</li>
<li> <p><a href="#method-HTTPError-request_header_fields_too_large"><code>HTTPErrorFactory$request_header_fields_too_large()</code></a>
</p>
</li>
<li> <p><a href="#method-HTTPError-unavailable_for_legal_reasons"><code>HTTPErrorFactory$unavailable_for_legal_reasons()</code></a>
</p>
</li>
<li> <p><a href="#method-HTTPError-internal_server_error"><code>HTTPErrorFactory$internal_server_error()</code></a>
</p>
</li>
<li> <p><a href="#method-HTTPError-not_implemented"><code>HTTPErrorFactory$not_implemented()</code></a>
</p>
</li>
<li> <p><a href="#method-HTTPError-bad_gateway"><code>HTTPErrorFactory$bad_gateway()</code></a>
</p>
</li>
<li> <p><a href="#method-HTTPError-service_unavailable"><code>HTTPErrorFactory$service_unavailable()</code></a>
</p>
</li>
<li> <p><a href="#method-HTTPError-gateway_timeout"><code>HTTPErrorFactory$gateway_timeout()</code></a>
</p>
</li>
<li> <p><a href="#method-HTTPError-version_not_supported"><code>HTTPErrorFactory$version_not_supported()</code></a>
</p>
</li>
<li> <p><a href="#method-HTTPError-insufficient_storage"><code>HTTPErrorFactory$insufficient_storage()</code></a>
</p>
</li>
<li> <p><a href="#method-HTTPError-loop_detected"><code>HTTPErrorFactory$loop_detected()</code></a>
</p>
</li>
<li> <p><a href="#method-HTTPError-network_authentication_required"><code>HTTPErrorFactory$network_authentication_required()</code></a>
</p>
</li>
<li> <p><a href="#method-HTTPError-clone"><code>HTTPErrorFactory$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-HTTPError-new"></a>



<h4>Method <code>new()</code></h4>

<p>Creates HTTPError object.
</p>


<h5>Usage</h5>

<div class="r"><pre>HTTPErrorFactory$new(content_type = "text/plain", encode = as.character)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>content_type</code></dt><dd><p>Type of the error response.</p>
</dd>
<dt><code>encode</code></dt><dd><p>Function to encode response body.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-HTTPError-set_content_type"></a>



<h4>Method <code>set_content_type()</code></h4>

<p>Set content type of response.
</p>


<h5>Usage</h5>

<div class="r"><pre>HTTPErrorFactory$set_content_type(content_type)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>content_type</code></dt><dd><p>Type of the error response.</p>
</dd>
</dl>

</div>



<h5>Details</h5>

<p>Modifying <a href="#topic+HTTPError">HTTPError</a> will have global impact on RestRserve functionality.
</p>
<p>By default <code>HTTPError</code> is used by <a href="#topic+Application">Application</a> in order to produce http
errors (404, 500, etc). Hence changing <code>HTTPError</code> with
<code>HTTPErrorFactory$set_content_type()</code> will impact not only user code, but
also the errors format produced by RestRserve. Same holds for
<code>HTTPErrorFactory$set_encode()</code> method below.
</p>


<hr>
<a id="method-HTTPError-set_encode"></a>



<h4>Method <code>set_encode()</code></h4>

<p>Set encode for the given content type.
</p>


<h5>Usage</h5>

<div class="r"><pre>HTTPErrorFactory$set_encode(encode)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>encode</code></dt><dd><p>Function to encode response body.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-HTTPError-reset"></a>



<h4>Method <code>reset()</code></h4>

<p>Resets <code>HTTPError</code> to the default RestRserve state.
</p>


<h5>Usage</h5>

<div class="r"><pre>HTTPErrorFactory$reset()</pre></div>


<hr>
<a id="method-HTTPError-error"></a>



<h4>Method <code>error()</code></h4>

<p>Generate HTTP error response with a given status code and body.
</p>


<h5>Usage</h5>

<div class="r"><pre>HTTPErrorFactory$error(status_code, body = NULL, ...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>status_code</code></dt><dd><p>HTTP status code.</p>
</dd>
<dt><code>body</code></dt><dd><p>Response body.</p>
</dd>
<dt><code>...</code></dt><dd><p>Additional named arguments which will be passed to <code>Response$new()</code>.
<code>headers</code> may be particularly useful.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p><a href="#topic+Response">Response</a> object.
</p>


<hr>
<a id="method-HTTPError-bad_request"></a>



<h4>Method <code>bad_request()</code></h4>

<p>Generates corresponding http error.
</p>


<h5>Usage</h5>

<div class="r"><pre>HTTPErrorFactory$bad_request(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt><dd><p>Additional named arguments which will be passed to <code>Response$new()</code>.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p><a href="#topic+Response">Response</a> object.
</p>


<hr>
<a id="method-HTTPError-unauthorized"></a>



<h4>Method <code>unauthorized()</code></h4>

<p>Generates corresponding http error.
</p>


<h5>Usage</h5>

<div class="r"><pre>HTTPErrorFactory$unauthorized(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt><dd><p>Additional named arguments which will be passed to <code>Response$new()</code>.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p><a href="#topic+Response">Response</a> object.
</p>


<hr>
<a id="method-HTTPError-forbidden"></a>



<h4>Method <code>forbidden()</code></h4>

<p>Generates corresponding http error.
</p>


<h5>Usage</h5>

<div class="r"><pre>HTTPErrorFactory$forbidden(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt><dd><p>Additional named arguments which will be passed to <code>Response$new()</code>.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p><a href="#topic+Response">Response</a> object.
</p>


<hr>
<a id="method-HTTPError-not_found"></a>



<h4>Method <code>not_found()</code></h4>

<p>Generates corresponding http error.
</p>


<h5>Usage</h5>

<div class="r"><pre>HTTPErrorFactory$not_found(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt><dd><p>Additional named arguments which will be passed to <code>Response$new()</code>.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p><a href="#topic+Response">Response</a> object.
</p>


<hr>
<a id="method-HTTPError-method_not_allowed"></a>



<h4>Method <code>method_not_allowed()</code></h4>

<p>Generates corresponding http error.
</p>


<h5>Usage</h5>

<div class="r"><pre>HTTPErrorFactory$method_not_allowed(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt><dd><p>Additional named arguments which will be passed to <code>Response$new()</code>.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p><a href="#topic+Response">Response</a> object.
</p>


<hr>
<a id="method-HTTPError-not_acceptable"></a>



<h4>Method <code>not_acceptable()</code></h4>

<p>Generates corresponding http error.
</p>


<h5>Usage</h5>

<div class="r"><pre>HTTPErrorFactory$not_acceptable(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt><dd><p>Additional named arguments which will be passed to <code>Response$new()</code>.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p><a href="#topic+Response">Response</a> object.
</p>


<hr>
<a id="method-HTTPError-conflict"></a>



<h4>Method <code>conflict()</code></h4>

<p>Generates corresponding http error.
</p>


<h5>Usage</h5>

<div class="r"><pre>HTTPErrorFactory$conflict(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt><dd><p>Additional named arguments which will be passed to <code>Response$new()</code>.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p><a href="#topic+Response">Response</a> object.
</p>


<hr>
<a id="method-HTTPError-gone"></a>



<h4>Method <code>gone()</code></h4>

<p>Generates corresponding http error.
</p>


<h5>Usage</h5>

<div class="r"><pre>HTTPErrorFactory$gone(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt><dd><p>Additional named arguments which will be passed to <code>Response$new()</code>.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p><a href="#topic+Response">Response</a> object.
</p>


<hr>
<a id="method-HTTPError-length_required"></a>



<h4>Method <code>length_required()</code></h4>

<p>Generates corresponding http error.
</p>


<h5>Usage</h5>

<div class="r"><pre>HTTPErrorFactory$length_required(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt><dd><p>Additional named arguments which will be passed to <code>Response$new()</code>.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p><a href="#topic+Response">Response</a> object.
</p>


<hr>
<a id="method-HTTPError-precondition_failed"></a>



<h4>Method <code>precondition_failed()</code></h4>

<p>Generates corresponding http error.
</p>


<h5>Usage</h5>

<div class="r"><pre>HTTPErrorFactory$precondition_failed(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt><dd><p>Additional named arguments which will be passed to <code>Response$new()</code>.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p><a href="#topic+Response">Response</a> object.
</p>


<hr>
<a id="method-HTTPError-payload_too_large"></a>



<h4>Method <code>payload_too_large()</code></h4>

<p>Generates corresponding http error.
</p>


<h5>Usage</h5>

<div class="r"><pre>HTTPErrorFactory$payload_too_large(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt><dd><p>Additional named arguments which will be passed to <code>Response$new()</code>.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p><a href="#topic+Response">Response</a> object.
</p>


<hr>
<a id="method-HTTPError-uri_too_long"></a>



<h4>Method <code>uri_too_long()</code></h4>

<p>Generates corresponding http error.
</p>


<h5>Usage</h5>

<div class="r"><pre>HTTPErrorFactory$uri_too_long(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt><dd><p>Additional named arguments which will be passed to <code>Response$new()</code>.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p><a href="#topic+Response">Response</a> object.
</p>


<hr>
<a id="method-HTTPError-unsupported_media_type"></a>



<h4>Method <code>unsupported_media_type()</code></h4>

<p>Generates corresponding http error.
</p>


<h5>Usage</h5>

<div class="r"><pre>HTTPErrorFactory$unsupported_media_type(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt><dd><p>Additional named arguments which will be passed to <code>Response$new()</code>.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p><a href="#topic+Response">Response</a> object.
</p>


<hr>
<a id="method-HTTPError-range_not_satisfiable"></a>



<h4>Method <code>range_not_satisfiable()</code></h4>

<p>Generates corresponding http error.
</p>


<h5>Usage</h5>

<div class="r"><pre>HTTPErrorFactory$range_not_satisfiable(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt><dd><p>Additional named arguments which will be passed to <code>Response$new()</code>.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p><a href="#topic+Response">Response</a> object.
</p>


<hr>
<a id="method-HTTPError-unprocessable_entity"></a>



<h4>Method <code>unprocessable_entity()</code></h4>

<p>Generates corresponding http error.
</p>


<h5>Usage</h5>

<div class="r"><pre>HTTPErrorFactory$unprocessable_entity(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt><dd><p>Additional named arguments which will be passed to <code>Response$new()</code>.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p><a href="#topic+Response">Response</a> object.
</p>


<hr>
<a id="method-HTTPError-locked"></a>



<h4>Method <code>locked()</code></h4>

<p>Generates corresponding http error.
</p>


<h5>Usage</h5>

<div class="r"><pre>HTTPErrorFactory$locked(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt><dd><p>Additional named arguments which will be passed to <code>Response$new()</code>.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p><a href="#topic+Response">Response</a> object.
</p>


<hr>
<a id="method-HTTPError-failed_dependency"></a>



<h4>Method <code>failed_dependency()</code></h4>

<p>Generates corresponding http error.
</p>


<h5>Usage</h5>

<div class="r"><pre>HTTPErrorFactory$failed_dependency(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt><dd><p>Additional named arguments which will be passed to <code>Response$new()</code>.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p><a href="#topic+Response">Response</a> object.
</p>


<hr>
<a id="method-HTTPError-precondition_required"></a>



<h4>Method <code>precondition_required()</code></h4>

<p>Generates corresponding http error.
</p>


<h5>Usage</h5>

<div class="r"><pre>HTTPErrorFactory$precondition_required(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt><dd><p>Additional named arguments which will be passed to <code>Response$new()</code>.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p><a href="#topic+Response">Response</a> object.
</p>


<hr>
<a id="method-HTTPError-too_many_requests"></a>



<h4>Method <code>too_many_requests()</code></h4>

<p>Generates corresponding http error.
</p>


<h5>Usage</h5>

<div class="r"><pre>HTTPErrorFactory$too_many_requests(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt><dd><p>Additional named arguments which will be passed to <code>Response$new()</code>.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p><a href="#topic+Response">Response</a> object.
</p>


<hr>
<a id="method-HTTPError-request_header_fields_too_large"></a>



<h4>Method <code>request_header_fields_too_large()</code></h4>

<p>Generates corresponding http error.
</p>


<h5>Usage</h5>

<div class="r"><pre>HTTPErrorFactory$request_header_fields_too_large(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt><dd><p>Additional named arguments which will be passed to <code>Response$new()</code>.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p><a href="#topic+Response">Response</a> object.
</p>


<hr>
<a id="method-HTTPError-unavailable_for_legal_reasons"></a>



<h4>Method <code>unavailable_for_legal_reasons()</code></h4>

<p>Generates corresponding http error.
</p>


<h5>Usage</h5>

<div class="r"><pre>HTTPErrorFactory$unavailable_for_legal_reasons(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt><dd><p>Additional named arguments which will be passed to <code>Response$new()</code>.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p><a href="#topic+Response">Response</a> object.
</p>


<hr>
<a id="method-HTTPError-internal_server_error"></a>



<h4>Method <code>internal_server_error()</code></h4>

<p>Generates corresponding http error.
</p>


<h5>Usage</h5>

<div class="r"><pre>HTTPErrorFactory$internal_server_error(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt><dd><p>Additional named arguments which will be passed to <code>Response$new()</code>.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p><a href="#topic+Response">Response</a> object.
</p>


<hr>
<a id="method-HTTPError-not_implemented"></a>



<h4>Method <code>not_implemented()</code></h4>

<p>Generates corresponding http error.
</p>


<h5>Usage</h5>

<div class="r"><pre>HTTPErrorFactory$not_implemented(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt><dd><p>Additional named arguments which will be passed to <code>Response$new()</code>.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p><a href="#topic+Response">Response</a> object.
</p>


<hr>
<a id="method-HTTPError-bad_gateway"></a>



<h4>Method <code>bad_gateway()</code></h4>

<p>Generates corresponding http error.
</p>


<h5>Usage</h5>

<div class="r"><pre>HTTPErrorFactory$bad_gateway(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt><dd><p>Additional named arguments which will be passed to <code>Response$new()</code>.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p><a href="#topic+Response">Response</a> object.
</p>


<hr>
<a id="method-HTTPError-service_unavailable"></a>



<h4>Method <code>service_unavailable()</code></h4>

<p>Generates corresponding http error.
</p>


<h5>Usage</h5>

<div class="r"><pre>HTTPErrorFactory$service_unavailable(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt><dd><p>Additional named arguments which will be passed to <code>Response$new()</code>.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p><a href="#topic+Response">Response</a> object.
</p>


<hr>
<a id="method-HTTPError-gateway_timeout"></a>



<h4>Method <code>gateway_timeout()</code></h4>

<p>Generates corresponding http error.
</p>


<h5>Usage</h5>

<div class="r"><pre>HTTPErrorFactory$gateway_timeout(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt><dd><p>Additional named arguments which will be passed to <code>Response$new()</code>.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p><a href="#topic+Response">Response</a> object.
</p>


<hr>
<a id="method-HTTPError-version_not_supported"></a>



<h4>Method <code>version_not_supported()</code></h4>

<p>Generates corresponding http error.
</p>


<h5>Usage</h5>

<div class="r"><pre>HTTPErrorFactory$version_not_supported(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt><dd><p>Additional named arguments which will be passed to <code>Response$new()</code>.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p><a href="#topic+Response">Response</a> object.
</p>


<hr>
<a id="method-HTTPError-insufficient_storage"></a>



<h4>Method <code>insufficient_storage()</code></h4>

<p>Generates corresponding http error.
</p>


<h5>Usage</h5>

<div class="r"><pre>HTTPErrorFactory$insufficient_storage(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt><dd><p>Additional named arguments which will be passed to <code>Response$new()</code>.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p><a href="#topic+Response">Response</a> object.
</p>


<hr>
<a id="method-HTTPError-loop_detected"></a>



<h4>Method <code>loop_detected()</code></h4>

<p>Generates corresponding http error.
</p>


<h5>Usage</h5>

<div class="r"><pre>HTTPErrorFactory$loop_detected(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt><dd><p>Additional named arguments which will be passed to <code>Response$new()</code>.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p><a href="#topic+Response">Response</a> object.
</p>


<hr>
<a id="method-HTTPError-network_authentication_required"></a>



<h4>Method <code>network_authentication_required()</code></h4>

<p>Generates corresponding http error.
</p>


<h5>Usage</h5>

<div class="r"><pre>HTTPErrorFactory$network_authentication_required(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt><dd><p>Additional named arguments which will be passed to <code>Response$new()</code>.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p><a href="#topic+Response">Response</a> object.
</p>


<hr>
<a id="method-HTTPError-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>HTTPErrorFactory$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>See Also</h3>

<p><a href="#topic+raise">raise</a> <a href="#topic+Application">Application</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>check_list = function(x) {
  if (!is.list(x)) raise(HTTPError$bad_request())
  invisible(TRUE)
}
check_list(list())
try(check_list(1), silent = TRUE)

</code></pre>

<hr>
<h2 id='IDE-hints'>request and reponse placeholders for IDE hints</h2><span id='topic+IDE-hints'></span><span id='topic+.req'></span><span id='topic+.res'></span>

<h3>Description</h3>

<p>request and reponse placeholders for IDE hints
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.req

.res
</code></pre>


<h3>Format</h3>

<p>An object of class <code>Request</code> (inherits from <code>R6</code>) of length 28.
</p>
<p>An object of class <code>Response</code> (inherits from <code>R6</code>) of length 26.
</p>


<h3>See Also</h3>

<p><a href="#topic+Request">Request</a> <a href="#topic+Response">Response</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(RestRserve)

app = Application$new()

app$add_get("/foo", FUN = function(.req, .res) {
  # since .res is a dummy instance of Response class
  # exported by RestRserve
  # IDE facilitates with autocompletion!
  .res$set_body("bar")
  # in the same time all the modifications happen with local objects
  # so you get right results in the end
})

response = app$process_request(Request$new(path = "/foo"))
response$body
</code></pre>

<hr>
<h2 id='Logger'>Simple logging utility</h2><span id='topic+Logger'></span>

<h3>Description</h3>

<p>Creates Logger object which can be used for logging with different level of
verbosity. Log messages are in JSON format.
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-Logger-new"><code>Logger$new()</code></a>
</p>
</li>
<li> <p><a href="#method-Logger-set_name"><code>Logger$set_name()</code></a>
</p>
</li>
<li> <p><a href="#method-Logger-set_log_level"><code>Logger$set_log_level()</code></a>
</p>
</li>
<li> <p><a href="#method-Logger-set_printer"><code>Logger$set_printer()</code></a>
</p>
</li>
<li> <p><a href="#method-Logger-trace"><code>Logger$trace()</code></a>
</p>
</li>
<li> <p><a href="#method-Logger-debug"><code>Logger$debug()</code></a>
</p>
</li>
<li> <p><a href="#method-Logger-info"><code>Logger$info()</code></a>
</p>
</li>
<li> <p><a href="#method-Logger-warn"><code>Logger$warn()</code></a>
</p>
</li>
<li> <p><a href="#method-Logger-error"><code>Logger$error()</code></a>
</p>
</li>
<li> <p><a href="#method-Logger-fatal"><code>Logger$fatal()</code></a>
</p>
</li>
<li> <p><a href="#method-Logger-clone"><code>Logger$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-Logger-new"></a>



<h4>Method <code>new()</code></h4>

<p>Creates Logger object.
</p>


<h5>Usage</h5>

<div class="r"><pre>Logger$new(
  level = c("info", "fatal", "error", "warn", "debug", "trace", "off", "all"),
  name = "ROOT",
  printer = NULL
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>level</code></dt><dd><p>Log level. Allowed values: info, fatal, error, warn, debug,
trace, off, all.</p>
</dd>
<dt><code>name</code></dt><dd><p>Logger name.</p>
</dd>
<dt><code>printer</code></dt><dd><p>Logger with sink defined by <code>printer</code> function.
It should have signature <code style="white-space: pre;">&#8288;function(timestamp, level, logger_name, pid, message)&#8288;</code>.
By default when <code>printer = NULL</code> logger writes message in JSON format to <code>stdout</code>.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-Logger-set_name"></a>



<h4>Method <code>set_name()</code></h4>

<p>Sets logger name.
</p>


<h5>Usage</h5>

<div class="r"><pre>Logger$set_name(name = "ROOT")</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>name</code></dt><dd><p>Logger name.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-Logger-set_log_level"></a>



<h4>Method <code>set_log_level()</code></h4>

<p>Sets log level.
</p>


<h5>Usage</h5>

<div class="r"><pre>Logger$set_log_level(
  level = c("info", "fatal", "error", "warn", "debug", "trace", "off", "all")
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>level</code></dt><dd><p>Log level. Allowed values: info, fatal, error, warn, debug,
trace, off, all.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-Logger-set_printer"></a>



<h4>Method <code>set_printer()</code></h4>

<p>Sets function which defines how to print logs.
</p>


<h5>Usage</h5>

<div class="r"><pre>Logger$set_printer(FUN = NULL)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>FUN</code></dt><dd><p>Printer function. Should be a function with 6 formal arguments:
timestamp, level, logger_name, pid, message.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-Logger-trace"></a>



<h4>Method <code>trace()</code></h4>

<p>Write trace message.
</p>


<h5>Usage</h5>

<div class="r"><pre>Logger$trace(msg, ...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>msg</code></dt><dd><p>Log message.</p>
</dd>
<dt><code>...</code></dt><dd><p>Additionals params.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-Logger-debug"></a>



<h4>Method <code>debug()</code></h4>

<p>Write debug message.
</p>


<h5>Usage</h5>

<div class="r"><pre>Logger$debug(msg, ...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>msg</code></dt><dd><p>Log message.</p>
</dd>
<dt><code>...</code></dt><dd><p>Additionals params.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-Logger-info"></a>



<h4>Method <code>info()</code></h4>

<p>Write information message.
</p>


<h5>Usage</h5>

<div class="r"><pre>Logger$info(msg, ...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>msg</code></dt><dd><p>Log message.</p>
</dd>
<dt><code>...</code></dt><dd><p>Additionals params.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-Logger-warn"></a>



<h4>Method <code>warn()</code></h4>

<p>Write warning message.
</p>


<h5>Usage</h5>

<div class="r"><pre>Logger$warn(msg, ...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>msg</code></dt><dd><p>Log message.</p>
</dd>
<dt><code>...</code></dt><dd><p>Additionals params.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-Logger-error"></a>



<h4>Method <code>error()</code></h4>

<p>Write error message.
</p>


<h5>Usage</h5>

<div class="r"><pre>Logger$error(msg, ...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>msg</code></dt><dd><p>Log message.</p>
</dd>
<dt><code>...</code></dt><dd><p>Additionals params.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-Logger-fatal"></a>



<h4>Method <code>fatal()</code></h4>

<p>Write fatal error message.
</p>


<h5>Usage</h5>

<div class="r"><pre>Logger$fatal(msg, ...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>msg</code></dt><dd><p>Log message.</p>
</dd>
<dt><code>...</code></dt><dd><p>Additionals params.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-Logger-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>Logger$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>See Also</h3>

<p><a href="lgr.html#topic+Logger">lgr::Logger</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># init logger
logger = Logger$new("info")
# write info message
logger$info("hello world")
# write extended log entry
logger$info("", context = list(message = "hello world", code = 0L))

</code></pre>

<hr>
<h2 id='Middleware'>Creates middleware object</h2><span id='topic+Middleware'></span>

<h3>Description</h3>

<p>Creates Middleware object.
</p>
<p>Middleware is a very useful concept which allows to perform
preprocessing of requests and post-processing of responses. Middleware has
an access to both <code>request</code> and  <code>response</code> objects and can modify them.
This way each request can be checked/modified before passing handler and
response can be post processed (for example this way we developer can set up
custom error messages).
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>process_request</code></dt><dd><p>Function which takes 2 arguments - <code>request</code> and
<code>response</code> objects (class  <a href="#topic+Request">Request</a> and <a href="#topic+Response">Response</a> correspondingly) and
modify <code>request</code> and <code>response</code> or throw exception using <a href="#topic+HTTPError">HTTPError</a> helper.<br />
Function is called before request is routed to handler.<br />
Usually <code>process_request</code> is used to perform logging, check authorization, etc.</p>
</dd>
<dt><code>process_response</code></dt><dd><p>Function which takes 2 arguments - <code>request</code> and
<code>response</code> objects (class <a href="#topic+Request">Request</a> and <a href="#topic+Response">Response</a> correspondingly) and
modify <code>request</code> and <code>response</code> or throw exception using <a href="#topic+HTTPError">HTTPError</a> helper.<br />
Function is called after request is processed by handler.
Usually <code>process_response</code> is used to perform logging, custom error handling, etc.</p>
</dd>
<dt><code>id</code></dt><dd><p>Middleware id.</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-Middleware-new"><code>Middleware$new()</code></a>
</p>
</li>
<li> <p><a href="#method-Middleware-clone"><code>Middleware$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-Middleware-new"></a>



<h4>Method <code>new()</code></h4>

<p>Creates middleware object
</p>


<h5>Usage</h5>

<div class="r"><pre>Middleware$new(
  process_request = function(request, response) TRUE,
  process_response = function(request, response) TRUE,
  id = "Middleware"
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>process_request</code></dt><dd><p>Modify <code>request</code> or <code>response</code> objects or  throw
exception using <code style="white-space: pre;">&#8288;[HTTPError]&#8288;</code> helper. This function evaluate before
router handler called.</p>
</dd>
<dt><code>process_response</code></dt><dd><p>Modify <code>request</code> or <code>response</code> objects or  throw
exception using <code style="white-space: pre;">&#8288;[HTTPError]&#8288;</code> helper. This function evaluate after
router handler called.</p>
</dd>
<dt><code>id</code></dt><dd><p>Middleware id.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-Middleware-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>Middleware$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>See Also</h3>

<p><a href="#topic+Request">Request</a> <a href="#topic+Response">Response</a> <a href="#topic+Application">Application</a>
</p>

<hr>
<h2 id='openapi'>Builds OpenAPI objects</h2><span id='topic+openapi'></span><span id='topic+openapi_create'></span><span id='topic+openapi_openapi_version'></span><span id='topic+openapi_info'></span><span id='topic+openapi_servers'></span><span id='topic+openapi_server'></span><span id='topic+openapi_contact'></span><span id='topic+openapi_license'></span>

<h3>Description</h3>

<p>Facilitates in building <a href="https://www.openapis.org/">OpenAPI</a> description document by
creating objects described in
<a href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.1.md">https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.1.md</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>openapi_create(
  openapi = openapi_openapi_version(),
  info = openapi_info(),
  servers = openapi_servers(),
  ...
)

openapi_openapi_version(openapi_version = "3.0.1")

openapi_info(
  title = "RestRserve OpenAPI",
  version = "1.0",
  description = NULL,
  termsOfService = NULL,
  contact = openapi_contact(),
  license = openapi_license()
)

openapi_servers(servers = list(openapi_server()))

openapi_server(url = "/", description = NULL, variables = NULL)

openapi_contact(name = NULL, url = NULL, email = NULL)

openapi_license(name = NULL, url = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="openapi_+3A_openapi">openapi</code></td>
<td>
<p>string, version of open api. For example <code>"3.0.1"</code></p>
</td></tr>
<tr><td><code id="openapi_+3A_info">info</code></td>
<td>
<p>infoObject - <a href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.1.md#infoObject">https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.1.md#infoObject</a>.
See <a href="#topic+openapi_info">openapi_info</a></p>
</td></tr>
<tr><td><code id="openapi_+3A_servers">servers</code></td>
<td>
<p>serverObject -
<a href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.1.md#serverObject">https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.1.md#serverObject</a>
See <a href="#topic+openapi_servers">openapi_servers</a></p>
</td></tr>
<tr><td><code id="openapi_+3A_...">...</code></td>
<td>
<p>other parameters - see
<a href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.1.md#oasObject">https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.1.md#oasObject</a></p>
</td></tr>
<tr><td><code id="openapi_+3A_openapi_version">openapi_version</code></td>
<td>
<p>version on OpenAPI</p>
</td></tr>
<tr><td><code id="openapi_+3A_title">title</code></td>
<td>
<p>the title of the application</p>
</td></tr>
<tr><td><code id="openapi_+3A_version">version</code></td>
<td>
<p>version of the application</p>
</td></tr>
<tr><td><code id="openapi_+3A_description">description</code></td>
<td>
<p>description</p>
</td></tr>
<tr><td><code id="openapi_+3A_termsofservice">termsOfService</code></td>
<td>
<p>termsOfService of the application</p>
</td></tr>
<tr><td><code id="openapi_+3A_contact">contact</code></td>
<td>
<p>contact of the maintainer - see <a href="#topic+openapi_contact">openapi_contact</a></p>
</td></tr>
<tr><td><code id="openapi_+3A_license">license</code></td>
<td>
<p>license of the api</p>
</td></tr>
<tr><td><code id="openapi_+3A_url">url</code></td>
<td>
<p>url</p>
</td></tr>
<tr><td><code id="openapi_+3A_variables">variables</code></td>
<td>
<p>a map between a variable name and its value.
#The value is used for substitution in the server's URL template.</p>
</td></tr>
<tr><td><code id="openapi_+3A_name">name</code></td>
<td>
<p>name</p>
</td></tr>
<tr><td><code id="openapi_+3A_email">email</code></td>
<td>
<p>contact email</p>
</td></tr>
</table>


<h3>Details</h3>

<p><a href="https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.1.md#infoObject">https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.1.md#infoObject</a>
</p>

<hr>
<h2 id='raise'>Interrupts request processing</h2><span id='topic+raise'></span>

<h3>Description</h3>

<p>Interrupts request processing and signals RestRserve to return HTTPError
</p>


<h3>Usage</h3>

<pre><code class='language-R'>raise(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="raise_+3A_x">x</code></td>
<td>
<p>instance of <a href="#topic+Response">Response</a>. Can be created using <a href="#topic+HTTPError">HTTPError</a>.
see examples.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>None - stops execution of the current expression and executes an error action.
</p>


<h3>See Also</h3>

<p><a href="#topic+HTTPError">HTTPError</a> <a href="#topic+Application">Application</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># catch exception
res = try(raise(HTTPError$bad_request()), silent = TRUE)
cond = attr(res, "condition")
# response is a valid Response instace
identical(cond$response$body$error, "400 Bad Request")

</code></pre>

<hr>
<h2 id='Request'>Creates Request object</h2><span id='topic+Request'></span>

<h3>Description</h3>

<p>Called internally for handling incoming requests from Rserve side.
Also useful for testing.
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>path</code></dt><dd><p>Request path.</p>
</dd>
<dt><code>method</code></dt><dd><p>Request HTTP method.</p>
</dd>
<dt><code>headers</code></dt><dd><p>Request headers.</p>
</dd>
<dt><code>cookies</code></dt><dd><p>Request cookies.</p>
</dd>
<dt><code>context</code></dt><dd><p>Environment to store any data. Can be used in middlewares.</p>
</dd>
<dt><code>content_type</code></dt><dd><p>Request body content type.</p>
</dd>
<dt><code>body</code></dt><dd><p>Request body.</p>
</dd>
<dt><code>parameters_query</code></dt><dd><p>Request query parameters.</p>
</dd>
<dt><code>parameters_body</code></dt><dd><p>Request body parameters.</p>
</dd>
<dt><code>parameters_path</code></dt><dd><p>List of parameters extracted from templated path
after routing. For example if we have some handler listening at
<code style="white-space: pre;">&#8288;/job/{job_id}&#8288;</code> and we are receiving request at <code style="white-space: pre;">&#8288;/job/1&#8288;</code> then
<code>parameters_path</code> will be <code>list(job_id = "1")</code>.<br />
It is important to understand that <code>parameters_path</code> will be available
(not empty) only after request will reach handler.<br />
This effectively means that <code>parameters_path</code> can be used inside handler
and response middleware (but not request middleware!).</p>
</dd>
<dt><code>files</code></dt><dd><p>Structure which contains positions and lengths of files for
the multipart body.</p>
</dd>
<dt><code>decode</code></dt><dd><p>Function to decode body for the specific content type.</p>
</dd>
</dl>

</div>


<h3>Active bindings</h3>

<div class="r6-active-bindings">

<dl>
<dt><code>id</code></dt><dd><p>Automatically generated UUID for each request. Read only.</p>
</dd>
<dt><code>date</code></dt><dd><p>Request <code>Date</code> header converted to <code>POSIXct</code>.</p>
</dd>
<dt><code>accept</code></dt><dd><p>Splitted <code>Accept</code> request header.</p>
</dd>
<dt><code>accept_json</code></dt><dd><p>Request accepts JSON response.</p>
</dd>
<dt><code>accept_xml</code></dt><dd><p>Request accepts XML response.</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-Request-new"><code>Request$new()</code></a>
</p>
</li>
<li> <p><a href="#method-Request-set_id"><code>Request$set_id()</code></a>
</p>
</li>
<li> <p><a href="#method-Request-reset"><code>Request$reset()</code></a>
</p>
</li>
<li> <p><a href="#method-Request-get_header"><code>Request$get_header()</code></a>
</p>
</li>
<li> <p><a href="#method-Request-get_param_query"><code>Request$get_param_query()</code></a>
</p>
</li>
<li> <p><a href="#method-Request-get_param_body"><code>Request$get_param_body()</code></a>
</p>
</li>
<li> <p><a href="#method-Request-get_param_path"><code>Request$get_param_path()</code></a>
</p>
</li>
<li> <p><a href="#method-Request-get_file"><code>Request$get_file()</code></a>
</p>
</li>
<li> <p><a href="#method-Request-print"><code>Request$print()</code></a>
</p>
</li>
<li> <p><a href="#method-Request-clone"><code>Request$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-Request-new"></a>



<h4>Method <code>new()</code></h4>

<p>Creates Request object
</p>


<h5>Usage</h5>

<div class="r"><pre>Request$new(
  path = "/",
  method = c("GET", "HEAD", "POST", "PUT", "DELETE", "CONNECT", "OPTIONS", "TRACE",
    "PATCH"),
  parameters_query = list(),
  parameters_body = list(),
  headers = list(),
  body = NULL,
  cookies = list(),
  content_type = NULL,
  decode = NULL,
  ...
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>path</code></dt><dd><p>Character with requested path. Always starts with <code>/</code>.</p>
</dd>
<dt><code>method</code></dt><dd><p>Request HTTP method.</p>
</dd>
<dt><code>parameters_query</code></dt><dd><p>A named list with URL decoded query parameters.</p>
</dd>
<dt><code>parameters_body</code></dt><dd><p>A named list with URL decoded body parameters.
This field is helpful when request is a urlencoded form or a multipart form.</p>
</dd>
<dt><code>headers</code></dt><dd><p>Request HTTP headers represented as named list.</p>
</dd>
<dt><code>body</code></dt><dd><p>Request body. Can be anything and in conjunction with
<code>content_type</code> defines how HTTP body will be represented.</p>
</dd>
<dt><code>cookies</code></dt><dd><p>Cookies represented as named list. <strong>Note</strong> that cookies
should be provided explicitly - they won't be derived from <code>headers</code>.</p>
</dd>
<dt><code>content_type</code></dt><dd><p>HTTP content type. <strong>Note</strong> that <code>content_type</code>
should be provided explicitly - it won't be derived from <code>headers</code>.</p>
</dd>
<dt><code>decode</code></dt><dd><p>Function to decode body for the specific content type.</p>
</dd>
<dt><code>...</code></dt><dd><p>Not used at this moment.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-Request-set_id"></a>



<h4>Method <code>set_id()</code></h4>

<p>Set request id.
</p>


<h5>Usage</h5>

<div class="r"><pre>Request$set_id(id = uuid::UUIDgenerate(TRUE))</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>id</code></dt><dd><p>Request id.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-Request-reset"></a>



<h4>Method <code>reset()</code></h4>

<p>Resets request object. This is not useful for end user, but useful for
RestRserve internals - resetting R6 class is much faster then initialize it.
</p>


<h5>Usage</h5>

<div class="r"><pre>Request$reset()</pre></div>


<hr>
<a id="method-Request-get_header"></a>



<h4>Method <code>get_header()</code></h4>

<p>Get HTTP response header value. If requested header is empty returns <code>default</code>.
</p>


<h5>Usage</h5>

<div class="r"><pre>Request$get_header(name, default = NULL)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>name</code></dt><dd><p>Header field name.</p>
</dd>
<dt><code>default</code></dt><dd><p>Default value if header does not exists.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>Header field values (character string).
</p>


<hr>
<a id="method-Request-get_param_query"></a>



<h4>Method <code>get_param_query()</code></h4>

<p>Get request query parameter by name.
</p>


<h5>Usage</h5>

<div class="r"><pre>Request$get_param_query(name)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>name</code></dt><dd><p>Query parameter name.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>Query parameter value (character string).
</p>


<hr>
<a id="method-Request-get_param_body"></a>



<h4>Method <code>get_param_body()</code></h4>

<p>Get request body parameter by name.
</p>


<h5>Usage</h5>

<div class="r"><pre>Request$get_param_body(name)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>name</code></dt><dd><p>Body field name.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>Body field value.
</p>


<hr>
<a id="method-Request-get_param_path"></a>



<h4>Method <code>get_param_path()</code></h4>

<p>Get templated path parameter by name.
</p>


<h5>Usage</h5>

<div class="r"><pre>Request$get_param_path(name)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>name</code></dt><dd><p>Path parameter name.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>Path parameter value.
</p>


<hr>
<a id="method-Request-get_file"></a>



<h4>Method <code>get_file()</code></h4>

<p>Extract specific file from multipart body.
</p>


<h5>Usage</h5>

<div class="r"><pre>Request$get_file(name)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>name</code></dt><dd><p>Body file name.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>Raw vector with <code>filname</code> and <code>content-type</code> attributes.
</p>


<hr>
<a id="method-Request-print"></a>



<h4>Method <code>print()</code></h4>

<p>Print method.
</p>


<h5>Usage</h5>

<div class="r"><pre>Request$print()</pre></div>


<hr>
<a id="method-Request-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>Request$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>See Also</h3>

<p><a href="#topic+Response">Response</a> <a href="#topic+Application">Application</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># init simply request
rq = Request$new(
  path = "/",
  parameters_query = list(
    "param1" = "value1",
    "param2" = "value2"
  ),
  headers = list(
    "Content-encoding" = "identity",
    "Custom-field" = "value"
  ),
  cookies = list(
    "sessionId" = "1"
  )
)
# get request UUID
rq$id
# get content accept
rq$accept
# get request content type
rq$content_type
# get header by name (lower case)
rq$get_header("custom-field")
# get query param by name
rq$get_param_query("param1")
# print request
rq

</code></pre>

<hr>
<h2 id='Response'>Creates Response object</h2><span id='topic+Response'></span>

<h3>Description</h3>

<p>Creates response object.
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>body</code></dt><dd><p>Response body.<br />
If it is a named character with a name <code>file</code> or <code>tmpfile</code>
then the value is considered as a path to a file and content oh this file
is served as body. The latter will be deleted once served.</p>
</dd>
<dt><code>content_type</code></dt><dd><p>Response body content (media) type. Will be translated
to <code>Content-type</code> header.</p>
</dd>
<dt><code>headers</code></dt><dd><p>Response headers.</p>
</dd>
<dt><code>status_code</code></dt><dd><p>Response HTTP status code.</p>
</dd>
<dt><code>cookies</code></dt><dd><p>Response cookies. Will be translated to <code>Set-Cookie</code> headers.</p>
</dd>
<dt><code>context</code></dt><dd><p>Environment to store any data. Can be used in middlewares.</p>
</dd>
<dt><code>encode</code></dt><dd><p>Function to encode body for specific content.</p>
</dd>
</dl>

</div>


<h3>Active bindings</h3>

<div class="r6-active-bindings">

<dl>
<dt><code>status</code></dt><dd><p>Paste together status code and description.</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-Response-new"><code>Response$new()</code></a>
</p>
</li>
<li> <p><a href="#method-Response-reset"><code>Response$reset()</code></a>
</p>
</li>
<li> <p><a href="#method-Response-set_content_type"><code>Response$set_content_type()</code></a>
</p>
</li>
<li> <p><a href="#method-Response-set_status_code"><code>Response$set_status_code()</code></a>
</p>
</li>
<li> <p><a href="#method-Response-has_header"><code>Response$has_header()</code></a>
</p>
</li>
<li> <p><a href="#method-Response-get_header"><code>Response$get_header()</code></a>
</p>
</li>
<li> <p><a href="#method-Response-set_header"><code>Response$set_header()</code></a>
</p>
</li>
<li> <p><a href="#method-Response-delete_header"><code>Response$delete_header()</code></a>
</p>
</li>
<li> <p><a href="#method-Response-append_header"><code>Response$append_header()</code></a>
</p>
</li>
<li> <p><a href="#method-Response-set_date"><code>Response$set_date()</code></a>
</p>
</li>
<li> <p><a href="#method-Response-unset_date"><code>Response$unset_date()</code></a>
</p>
</li>
<li> <p><a href="#method-Response-set_cookie"><code>Response$set_cookie()</code></a>
</p>
</li>
<li> <p><a href="#method-Response-unset_cookie"><code>Response$unset_cookie()</code></a>
</p>
</li>
<li> <p><a href="#method-Response-set_body"><code>Response$set_body()</code></a>
</p>
</li>
<li> <p><a href="#method-Response-set_response"><code>Response$set_response()</code></a>
</p>
</li>
<li> <p><a href="#method-Response-print"><code>Response$print()</code></a>
</p>
</li>
<li> <p><a href="#method-Response-clone"><code>Response$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-Response-new"></a>



<h4>Method <code>new()</code></h4>

<p>Creates Response object
</p>


<h5>Usage</h5>

<div class="r"><pre>Response$new(
  body = NULL,
  content_type = "text/plain",
  headers = list(Server = getOption("RestRserve.headers.server")),
  status_code = 200L,
  encode = NULL,
  ...
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>body</code></dt><dd><p>Response body.</p>
</dd>
<dt><code>content_type</code></dt><dd><p>Response body content (media) type.</p>
</dd>
<dt><code>headers</code></dt><dd><p>Response headers.</p>
</dd>
<dt><code>status_code</code></dt><dd><p>Response status code.</p>
</dd>
<dt><code>encode</code></dt><dd><p>Function to encode body for specific content.</p>
</dd>
<dt><code>...</code></dt><dd><p>Not used at this moment.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-Response-reset"></a>



<h4>Method <code>reset()</code></h4>

<p>Resets response object. This is not useful for end user, but useful for
RestRserve internals - resetting R6 class is much faster then initialize it.
</p>


<h5>Usage</h5>

<div class="r"><pre>Response$reset()</pre></div>


<hr>
<a id="method-Response-set_content_type"></a>



<h4>Method <code>set_content_type()</code></h4>

<p>Set content type for response body.
</p>


<h5>Usage</h5>

<div class="r"><pre>Response$set_content_type(content_type = "text/plain")</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>content_type</code></dt><dd><p>Response body content (media) type.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-Response-set_status_code"></a>



<h4>Method <code>set_status_code()</code></h4>

<p>Set HTTP status code for response. See <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Status">docs on MDN</a>.
</p>


<h5>Usage</h5>

<div class="r"><pre>Response$set_status_code(code)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>code</code></dt><dd><p>Status code as integer number.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-Response-has_header"></a>



<h4>Method <code>has_header()</code></h4>

<p>Determine whether or not the response header exists.
</p>


<h5>Usage</h5>

<div class="r"><pre>Response$has_header(name)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>name</code></dt><dd><p>Header field name.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>Logical value.
</p>


<hr>
<a id="method-Response-get_header"></a>



<h4>Method <code>get_header()</code></h4>

<p>Get HTTP response header value. If requested header is empty returns <code>default</code>.
</p>


<h5>Usage</h5>

<div class="r"><pre>Response$get_header(name, default = NULL)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>name</code></dt><dd><p>Header field name.</p>
</dd>
<dt><code>default</code></dt><dd><p>Default value if header does not exists.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>Header field values (character string).
</p>


<hr>
<a id="method-Response-set_header"></a>



<h4>Method <code>set_header()</code></h4>

<p>Set HTTP response header. <code>Content-type</code> and <code>Content-length</code> headers not
allowed (use <code>content_type</code> field instead).
</p>


<h5>Usage</h5>

<div class="r"><pre>Response$set_header(name, value)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>name</code></dt><dd><p>Header field name.</p>
</dd>
<dt><code>value</code></dt><dd><p>Header field value.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-Response-delete_header"></a>



<h4>Method <code>delete_header()</code></h4>

<p>Unset HTTP response header.
</p>


<h5>Usage</h5>

<div class="r"><pre>Response$delete_header(name)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>name</code></dt><dd><p>Header field name.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>Logical value.
</p>


<hr>
<a id="method-Response-append_header"></a>



<h4>Method <code>append_header()</code></h4>

<p>Append HTTP response header. If header exists <code style="white-space: pre;">&#8288;,&#8288;</code> separator will be used.
Don't use this method to set cookie (use <code>set_cookie</code> method instead).
</p>


<h5>Usage</h5>

<div class="r"><pre>Response$append_header(name, value)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>name</code></dt><dd><p>Header field name.</p>
</dd>
<dt><code>value</code></dt><dd><p>Header field value.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-Response-set_date"></a>



<h4>Method <code>set_date()</code></h4>

<p>Set <code>Date</code> HTTP header. See <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Date">docs on MDN</a>.
</p>


<h5>Usage</h5>

<div class="r"><pre>Response$set_date(dtm = Sys.time())</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>dtm</code></dt><dd><p>POSIXct value.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-Response-unset_date"></a>



<h4>Method <code>unset_date()</code></h4>

<p>Unset <code>Date</code> HTTP header.
</p>


<h5>Usage</h5>

<div class="r"><pre>Response$unset_date()</pre></div>



<h5>Returns</h5>

<p>Logical value.
</p>


<hr>
<a id="method-Response-set_cookie"></a>



<h4>Method <code>set_cookie()</code></h4>

<p>Set cookie. See <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie">docs on MDN</a>.
</p>


<h5>Usage</h5>

<div class="r"><pre>Response$set_cookie(
  name,
  value,
  expires = NULL,
  max_age = NULL,
  domain = NULL,
  path = NULL,
  secure = NULL,
  http_only = NULL
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>name</code></dt><dd><p>Cookie name.</p>
</dd>
<dt><code>value</code></dt><dd><p>Cookie value.</p>
</dd>
<dt><code>expires</code></dt><dd><p>Cookie expires date and time (POSIXct).</p>
</dd>
<dt><code>max_age</code></dt><dd><p>Max cookie age (integer).</p>
</dd>
<dt><code>domain</code></dt><dd><p>Cookie domain.</p>
</dd>
<dt><code>path</code></dt><dd><p>Cookie path.</p>
</dd>
<dt><code>secure</code></dt><dd><p>Cookie secure flag.</p>
</dd>
<dt><code>http_only</code></dt><dd><p>Cookie HTTP only flag.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-Response-unset_cookie"></a>



<h4>Method <code>unset_cookie()</code></h4>

<p>Unset cookie with given name.
</p>


<h5>Usage</h5>

<div class="r"><pre>Response$unset_cookie(name)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>name</code></dt><dd><p>Cookie name.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>Logical value.
</p>


<hr>
<a id="method-Response-set_body"></a>



<h4>Method <code>set_body()</code></h4>

<p>Set response body.
</p>


<h5>Usage</h5>

<div class="r"><pre>Response$set_body(body)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>body</code></dt><dd><p>Response body.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-Response-set_response"></a>



<h4>Method <code>set_response()</code></h4>

<p>Set response fields.
</p>


<h5>Usage</h5>

<div class="r"><pre>Response$set_response(
  status_code,
  body = NULL,
  content_type = self$content_type
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>status_code</code></dt><dd><p>Response HTTP status code.</p>
</dd>
<dt><code>body</code></dt><dd><p>Response body.</p>
</dd>
<dt><code>content_type</code></dt><dd><p>content_type Response body content (media) type.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-Response-print"></a>



<h4>Method <code>print()</code></h4>

<p>Print method.
</p>


<h5>Usage</h5>

<div class="r"><pre>Response$print()</pre></div>


<hr>
<a id="method-Response-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>Response$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>See Also</h3>

<p><a href="#topic+Request">Request</a> <a href="#topic+Application">Application</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># init response
rs = Response$new()
# set body media type
rs$set_content_type("text/plain")
# set body content
rs$set_body("OK")
# set response status code
rs$set_status_code(200L)
# print response
rs

# init response
rs = Response$new()
# static file path
file_path = system.file("DESCRIPTION", package = "RestRserve")
# get last file modification timestamp
file_mtime = file.mtime(file_path)
# set body
rs$set_body(c("file" = file_path))
# set content type
rs$set_content_type("text/plain")
# set current timestamp
rs$set_date()
# set 'last-modified' header
rs$set_header("Last-Modified", as(file_mtime, "HTTPDate"))
# print response
rs

</code></pre>

<hr>
<h2 id='RestRserve-package'>RestRserve: A Framework for Building HTTP API</h2><span id='topic+RestRserve'></span><span id='topic+RestRserve-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>Allows to easily create high-performance full featured HTTP APIs from R functions. Provides high-level classes such as 'Request', 'Response', 'Application', 'Middleware' in order to streamline server side application development. Out of the box allows to serve requests using 'Rserve' package, but flexible enough to integrate with other HTTP servers such as 'httpuv'.
</p>


<h3>Details</h3>



<h4>Introduction</h4>

<p>Suppose youve developed a very useful algorithm or statistical model
and you need to integrate it with some external system. Nowadays HTTP
became de facto a lingua-franca for this kind of tasks.
</p>
<p>In this article we will demonstrate how to use RestRserve to build a
basic REST API.
</p>



<h4>Workflow overview</h4>

<p>Generally RestRserve workflow consists of several major steps:
</p>

<ol>
<li><p> Create application with <code>Application$new()</code>
</p>
</li>
<li><p> Create a function which follows RestRserve API:
</p>

<ul>
<li><p> should take 2 arguments - <code>request</code> and <code>response</code> as an input.
<code>request</code> and <code>response</code> are instances of <code>RestRserve::Request</code>
and <code>RestRserve::Response</code>. It is <strong>important to remember</strong> that
both <code>request</code> and <code>response</code> are <strong>mutable</strong> objects.
</p>
</li>
<li><p> should modify <code>response</code> in place or <code>raise()</code> exception in case
of error
</p>
</li></ul>

</li>
<li><p> Register this function as a handler for an endpoint
</p>
</li>
<li><p> Start application
</p>
</li></ol>




<h4>1. Create application</h4>

<div class="sourceCode r"><pre>library(RestRserve)
app = Application$new()
</pre></div>



<h4>2. Define logic</h4>

<p>For simplicity we will use Fibonacci number calculation as an algorithm
we want to expose.
</p>
<div class="sourceCode r"><pre>calc_fib = function(n) {
  if (n &lt; 0L) stop("n should be &gt;= 0")
  if (n == 0L) return(0L)
  if (n == 1L || n == 2L) return(1L)
  x = rep(1L, n)
  
  for (i in 3L:n) {
   x[[i]] = x[[i - 1]] + x[[i - 2]] 
  }
  
  return(x[[n]])
}
</pre></div>
<p>Create function which will handle requests.
</p>
<div class="sourceCode r"><pre>fib_handler = function(.req, .res) {
  n = as.integer(.req$parameters_query[["n"]])
  if (length(n) == 0L || is.na(n)) {
    raise(HTTPError$bad_request())
  }
  .res$set_body(as.character(calc_fib(n)))
  .res$set_content_type("text/plain")
}
</pre></div>
<p>You may have noticed strange <code>.req</code> and <code>.res</code> argument names. Starting
from <code>RestRserve</code> v0.4.0 these reserved names allows to benefit from
autocomplete:
</p>
<p>&lt;img src=<a href="https://cdn.rexy.ai/assets/req-res.gif">https://cdn.rexy.ai/assets/req-res.gif</a> width=640
style=vertical-align:bottom, alt=request-response autocomplete gif&gt;
</p>
<p>Technically <code>.req</code> and <code>.res</code> are just empty instances of <code>?Request</code> and
<code>?Response</code> classes exported by <code>RestRserve</code> in order to make
autocomplete work.
</p>



<h4>2. Register endpoint</h4>

<div class="sourceCode r"><pre>app$add_get(path = "/fib", FUN = fib_handler)
</pre></div>



<h4>3. Test endpoints</h4>

<p>Now we can test our application without starting it:
</p>
<div class="sourceCode r"><pre>request = Request$new(path = "/fib", parameters_query = list(n = 10))
response = app$process_request(request)

cat("Response status:", response$status)
#&gt; Response status: 200 OK
cat("Response body:", response$body)
#&gt; Response body: 55
</pre></div>
<p>It is generally a good idea to write unit tests against application. One
can use a common framework such as
<a href="https://cran.r-project.org/package=tinytest">tinytest</a>.
</p>



<h4>4. Add OpenAPI description and Swagger UI</h4>

<p>Generally it is a good idea to provide documentation along with the API.
Convenient way to do that is to supply a <a href="https://swagger.io/docs/specification/about/">openapi specification</a>. This as
simple as adding a yaml file as an additional endpoint:
</p>
<div class="sourceCode yaml"><pre>openapi: 3.0.1
info:
  title: RestRserve OpenAPI
  version: '1.0'
servers:
  - url: /
paths:
  /fib:
    get:
      description: Calculates Fibonacci number
      parameters:
        - name: "n"
          description: "x for Fibonnacci number"
          in: query
          schema:
            type: integer
          example: 10
          required: true
      responses:
        200:
          description: API response
          content:
            text/plain:
              schema:
                type: string
                example: 5
        400:
          description: Bad Request
</pre></div>
<div class="sourceCode r"><pre>yaml_file = system.file("examples", "openapi", "openapi.yaml", package = "RestRserve")
app$add_openapi(path = "/openapi.yaml", file_path = yaml_file)
app$add_swagger_ui(path = "/doc", path_openapi = "/openapi.yaml", use_cdn = TRUE)
</pre></div>



<h4>5. Start the app</h4>

<p>Now all is ready and we can start application with Rserve backend. It
will block R session and start listening for incoming requests.
</p>
<div class="sourceCode r"><pre>backend = BackendRserve$new()
backend$start(app, http_port = 8080)
</pre></div>



<h4>6. Test it</h4>

<p>Send request to calculate fibonacci number:
</p>
<div class="sourceCode bash"><pre>curl localhost:8080/fib?n=10
</pre></div>
<p>Check out a swagger UI in the browser: <code style="white-space: pre;">&#8288;http://localhost:8080/doc&#8288;</code>
</p>



<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Dmitry Selivanov <a href="mailto:ds@rexy.ai">ds@rexy.ai</a> (<a href="https://orcid.org/0000-0001-5413-1506">ORCID</a>)
</p>
<p>Authors:
</p>

<ul>
<li><p> Artem Klevtsov <a href="mailto:a.a.klevtsov@gmail.com">a.a.klevtsov@gmail.com</a> (<a href="https://orcid.org/0000-0003-0492-6647">ORCID</a>)
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> David Zimmermann <a href="mailto:david_j_zimmermann@hotmail.com">david_j_zimmermann@hotmail.com</a> [contributor]
</p>
</li>
<li><p> rexy.ai [copyright holder, funder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://restrserve.org">https://restrserve.org</a>
</p>
</li>
<li> <p><a href="https://github.com/rexyai/RestRserve">https://github.com/rexyai/RestRserve</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/rexyai/RestRserve/issues">https://github.com/rexyai/RestRserve/issues</a>
</p>
</li></ul>


<hr>
<h2 id='Router'>Creates Router object.</h2><span id='topic+Router'></span>

<h3>Description</h3>

<p>Creates Router object.
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>paths</code></dt><dd><p>All added paths as is (with templates placeholders).</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-Router-new"><code>Router$new()</code></a>
</p>
</li>
<li> <p><a href="#method-Router-size"><code>Router$size()</code></a>
</p>
</li>
<li> <p><a href="#method-Router-add_path"><code>Router$add_path()</code></a>
</p>
</li>
<li> <p><a href="#method-Router-match_path"><code>Router$match_path()</code></a>
</p>
</li>
<li> <p><a href="#method-Router-clone"><code>Router$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-Router-new"></a>



<h4>Method <code>new()</code></h4>

<p>Creates Router object.
</p>


<h5>Usage</h5>

<div class="r"><pre>Router$new()</pre></div>


<hr>
<a id="method-Router-size"></a>



<h4>Method <code>size()</code></h4>

<p>Returns number of paths added before.
</p>


<h5>Usage</h5>

<div class="r"><pre>Router$size()</pre></div>



<h5>Returns</h5>

<p>Number of paths.
</p>


<hr>
<a id="method-Router-add_path"></a>



<h4>Method <code>add_path()</code></h4>

<p>Add path with their id.
</p>


<h5>Usage</h5>

<div class="r"><pre>Router$add_path(path, match = c("exact", "partial", "regex"), id)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>path</code></dt><dd><p>Path to handle.</p>
</dd>
<dt><code>match</code></dt><dd><p>Defines how route will be processed. Allowed values:
</p>

<ul>
<li> <p><code>exact</code> - match route as is. Returns 404 if route is not matched.
</p>
</li>
<li> <p><code>partial</code> - match route as prefix. Returns 404 if prefix are not matched.
</p>
</li>
<li> <p><code>regex</code> - match route as template. Returns 404 if template pattern not matched.
</p>
</li></ul>
</dd>
<dt><code>id</code></dt><dd><p>Path handler id.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-Router-match_path"></a>



<h4>Method <code>match_path()</code></h4>

<p>Find path within paths added before. Returns <code>NULL</code> if path not matched.
</p>


<h5>Usage</h5>

<div class="r"><pre>Router$match_path(path, extract_vars = TRUE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>path</code></dt><dd><p>Path endpoint.</p>
</dd>
<dt><code>extract_vars</code></dt><dd><p>Extart path parameters (when handler matches regex).</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>Handler id.
</p>


<hr>
<a id="method-Router-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>Router$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>Examples</h3>

<pre><code class='language-R'>r = RestRserve:::Router$new()
r$add_path("/test", "exact", "testid")
r$add_path("/area", "partial", "areaid")
r$add_path("/template/{variable}", "regex", "templateid")
r$match_path("/test") # testid
r$match_path("/area/entry") # areaid
r$match_path("/template/12345") # templateid
attr(r$match_path("/template/12345"), "parameters_path") # variables values

</code></pre>

<hr>
<h2 id='to_json'>Simple JSON encoder</h2><span id='topic+to_json'></span>

<h3>Description</h3>

<p>Encode R objects as JSON. Wrapper around <code>jsonlite::toJSON</code> with
default parameters set to following values:
<code style="white-space: pre;">&#8288;dataframe = 'columns', auto_unbox = unbox, null = 'null', na = 'null'&#8288;</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>to_json(x, unbox = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="to_json_+3A_x">x</code></td>
<td>
<p>the object to be encoded</p>
</td></tr>
<tr><td><code id="to_json_+3A_unbox">unbox</code></td>
<td>
<p><code>TRUE</code> by default. Whether to unbox (simplify) arrays consists
of a single element</p>
</td></tr>
</table>


<h3>Value</h3>

<p>JSON string
</p>


<h3>Examples</h3>

<pre><code class='language-R'>to_json(NULL)
to_json(list(name = "value"))

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

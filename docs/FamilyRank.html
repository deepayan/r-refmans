<!DOCTYPE html><html lang="en"><head><title>Help for package FamilyRank</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {FamilyRank}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#FamilyRank-package'>
<p>Algorithm for Ranking Predictors Using Graphical Domain Knowledge</p></a></li>
<li><a href='#createCase'><p>Simulate Cases</p></a></li>
<li><a href='#createControl'><p>Simulate Control</p></a></li>
<li><a href='#createData'><p>Simulate Data</p></a></li>
<li><a href='#createGraph'><p>Simulate Graph</p></a></li>
<li><a href='#familyRank'><p>Feature Ranking with Family Rank</p></a></li>
<li><a href='#grow'><p>Grow Families</p></a></li>
<li><a href='#indexFeats'><p>Re-index features</p></a></li>
<li><a href='#rbinorm'><p>Bimodal Normal Distribution</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Algorithm for Ranking Predictors Using Graphical Domain
Knowledge</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2021-01-24</td>
</tr>
<tr>
<td>Author:</td>
<td>Michelle Saul</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Michelle Saul &lt;msaul@carisls.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Grows families of features by selecting features that maximize a weighted score calculated from empirical feature scores and graphical knowledge. The final weighted score for a feature is determined by summing a feature's family-weighted scores across all families in which the feature appears.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL]</td>
</tr>
<tr>
<td>Imports:</td>
<td>Rcpp (&ge; 1.0.6), plyr (&ge; 1.8.6), stats (&ge; 3.6.0)</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp, RcppArmadillo</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-01-29 21:06:01 UTC; mwinerip</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-02-05 08:50:08 UTC</td>
</tr>
</table>
<hr>
<h2 id='FamilyRank-package'>
Algorithm for Ranking Predictors Using Graphical Domain Knowledge
</h2><span id='topic+FamilyRank-package'></span><span id='topic+FamilyRank'></span>

<h3>Description</h3>

<p>Grows families of features by selecting features that maximize a weighted score calculated from empirical feature scores and graphical knowledge. The final weighted score for a feature is determined by summing a feature's family-weighted scores across all families in which the feature appears.
</p>


<h3>Details</h3>

<p>The DESCRIPTION file:
</p>

<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> FamilyRank</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Title: </td><td style="text-align: left;"> Algorithm for Ranking Predictors Using Graphical Domain Knowledge</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 1.0</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2021-01-24</td>
</tr>
<tr>
 <td style="text-align: left;">
Author: </td><td style="text-align: left;"> Michelle Saul</td>
</tr>
<tr>
 <td style="text-align: left;">
Maintainer: </td><td style="text-align: left;"> Michelle Saul &lt;msaul@carisls.com&gt;</td>
</tr>
<tr>
 <td style="text-align: left;">
Description: </td><td style="text-align: left;"> Grows families of features by selecting features that maximize a weighted score calculated from empirical feature scores and graphical knowledge. The final weighted score for a feature is determined by summing a feature's family-weighted scores across all families in which the feature appears.</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL</td>
</tr>
<tr>
 <td style="text-align: left;">
Imports: </td><td style="text-align: left;"> Rcpp (&gt;= 1.0.6), plyr (&gt;= 1.8.6), stats (&gt;= 3.6.0)</td>
</tr>
<tr>
 <td style="text-align: left;">
LinkingTo: </td><td style="text-align: left;"> Rcpp, RcppArmadillo</td>
</tr>
<tr>
 <td style="text-align: left;">
LazyData: </td><td style="text-align: left;"> true</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>


<p>Index of help topics:
</p>
<pre>
FamilyRank-package      Algorithm for Ranking Predictors Using
                        Graphical Domain Knowledge
createCase              Simulate Cases
createControl           Simulate Control
createData              Simulate Data
createGraph             Simulate Graph
familyRank              Feature Ranking with Family Rank
grow                    Grow Families
indexFeats              Re-index features
rbinorm                 Bimodal Normal Distribution
</pre>
<p>The main function is <code><a href="#topic+familyRank">familyRank</a></code>.
</p>


<h3>Author(s)</h3>

<p>Michelle Saul
</p>
<p>Maintainer: Michelle Saul &lt;msaul@carisls.com&gt;
</p>


<h3>References</h3>

<p>ADD REFERENCE</p>

<hr>
<h2 id='createCase'>Simulate Cases</h2><span id='topic+createCase'></span>

<h3>Description</h3>

<p>Numerical feature simulation for positive samples. Called by <code><a href="#topic+createData">createData</a></code>.</p>


<h3>Usage</h3>

<pre><code class='language-R'>createCase(subtype, upper.mean, lower.mean, upper.sd, lower.sd, n.features, 
subtype1.feats = 1:5, subtype2.feats = 6:10, subtype3.feats = 11:15)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="createCase_+3A_subtype">subtype</code></td>
<td>
<p>Numeric number indicating which subtype to simulate. Currently supports three subtype: 1, 2 or 3.</p>
</td></tr>
<tr><td><code id="createCase_+3A_upper.mean">upper.mean</code></td>
<td>
<p>The mean of the upper component of the bimodal Gaussian distribution from which features are simulated.</p>
</td></tr>
<tr><td><code id="createCase_+3A_lower.mean">lower.mean</code></td>
<td>
<p>The mean of the lower component of the bimodal Gaussian distribution from which features are simulated.</p>
</td></tr>
<tr><td><code id="createCase_+3A_upper.sd">upper.sd</code></td>
<td>
<p>The standard deviation of the upper component of the bimodal Gaussian distribution from which features are simulated.</p>
</td></tr>
<tr><td><code id="createCase_+3A_lower.sd">lower.sd</code></td>
<td>
<p>The standard deviation of the lower component of the bimodal Gaussian distribution from which features are simulated.</p>
</td></tr>
<tr><td><code id="createCase_+3A_n.features">n.features</code></td>
<td>
<p>Number of features to simulate.</p>
</td></tr>
<tr><td><code id="createCase_+3A_subtype1.feats">subtype1.feats</code></td>
<td>
<p>Numeric vector representing the indices of features that define subtype 1.</p>
</td></tr>
<tr><td><code id="createCase_+3A_subtype2.feats">subtype2.feats</code></td>
<td>
<p>Numeric vector representing the indices of features that define subtype 2.</p>
</td></tr>
<tr><td><code id="createCase_+3A_subtype3.feats">subtype3.feats</code></td>
<td>
<p>Numeric vector representing the indices of features that define subtype 3.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Simulations support 3 subtypes, each defined by 5 different features. 
</p>
<p>Subtype 1 is defined as having the first 3 <code>subtype1.feats</code> and at least one of the next 2 <code>subtype1.feats</code> simulated from the upper component of the bimodal Gaussian distribution. 
</p>
<p>Subtype 2 is defined as having all 5 <code>subtype2.feats</code> simulated from the upper component. 
</p>
<p>Subtype 3 is defined as having the first 4 <code>subtype3.feats</code> simulated from the upper component and and the last <code>subtype3.feats</code> simulated from the lower component.  
</p>


<h3>Value</h3>

<p>Returns a vector of simulated features</p>


<h3>Note</h3>

<p><code>createCase</code> is not meant to be called alone. It is designed as a helper function for <code><a href="#topic+createData">createData</a></code>.</p>


<h3>Author(s)</h3>

<p>Michelle Saul</p>


<h3>References</h3>

<p>ADD REFERENCE</p>


<h3>See Also</h3>

<p><code><a href="#topic+createData">createData</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'># Toy Example 
case &lt;- createCase(subtype = 1, upper.mean = 13, lower.mean = 5, 
upper.sd = 1, lower.sd = 1, n.features = 20, 
                        subtype1.feats = 1:5,
                        subtype2.feats = 6:10,
                        subtype3.feats = 11:15)
</code></pre>

<hr>
<h2 id='createControl'>Simulate Control</h2><span id='topic+createControl'></span>

<h3>Description</h3>

<p>Numerical feature simulation for negative samples. Called by <code><a href="#topic+createData">createData</a></code>.</p>


<h3>Usage</h3>

<pre><code class='language-R'>createControl(upper.mean, lower.mean, upper.sd, lower.sd, n.features, 
subtype1.feats = 1:5, subtype2.feats = 6:10, subtype3.feats = 11:15)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="createControl_+3A_upper.mean">upper.mean</code></td>
<td>
<p>The mean of the upper component of the bimodal Gaussian distribution from which features are simulated.</p>
</td></tr>
<tr><td><code id="createControl_+3A_lower.mean">lower.mean</code></td>
<td>
<p>The mean of the lower component of the bimodal Gaussian distribution from which features are simulated.</p>
</td></tr>
<tr><td><code id="createControl_+3A_upper.sd">upper.sd</code></td>
<td>
<p>The standard deviation of the upper component of the bimodal Gaussian distribution from which features are simulated.</p>
</td></tr>
<tr><td><code id="createControl_+3A_lower.sd">lower.sd</code></td>
<td>
<p>The standard deviation of the lower component of the bimodal Gaussian distribution from which features are simulated.</p>
</td></tr>
<tr><td><code id="createControl_+3A_n.features">n.features</code></td>
<td>
<p>Number of features to simulate.</p>
</td></tr>
<tr><td><code id="createControl_+3A_subtype1.feats">subtype1.feats</code></td>
<td>
<p>Numeric vector representing the indices of features that define subtype 1.</p>
</td></tr>
<tr><td><code id="createControl_+3A_subtype2.feats">subtype2.feats</code></td>
<td>
<p>Numeric vector representing the indices of features that define subtype 2.</p>
</td></tr>
<tr><td><code id="createControl_+3A_subtype3.feats">subtype3.feats</code></td>
<td>
<p>Numeric vector representing the indices of features that define subtype 3.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Simulates data such that none of the 3 subtypes defined in <code><a href="#topic+createCase">createCase</a></code> are represented. 
</p>
<p>To ensure subtype 1 is not represented, at least one of the first three <code>subtype1.feats</code> and/or both of the next 2 <code>subtype1.feats</code> are simulated from the lower component of the Gaussian distribution. 
</p>
<p>To ensure subtype 2 is not represented, at least one of the five <code>subtype2.feats</code> is simulated from the lower component. 
</p>
<p>To ensure subtype 3 is not represented, at least one of the first 4 <code>subtype3.feats</code> is simulated from the lower component and/or the last <code>subtype3.feats</code> is simulated from the upper component. 
</p>


<h3>Value</h3>

<p>Returns a vector of simulated features</p>


<h3>Note</h3>

<p><code>createControl</code> is not meant to be called alone. It is designed as a helper function for <code><a href="#topic+createData">createData</a></code>.</p>


<h3>Author(s)</h3>

<p>Michelle Saul</p>


<h3>References</h3>

<p>ADD REFERENCE</p>


<h3>See Also</h3>

<p><code><a href="#topic+createData">createData</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'># Toy Example 
control &lt;- createControl(upper.mean = 13, lower.mean = 5, 
upper.sd = 1, lower.sd = 1, n.features = 20, 
                        subtype1.feats = 1:5,
                        subtype2.feats = 6:10,
                        subtype3.feats = 11:15)
</code></pre>

<hr>
<h2 id='createData'>Simulate Data</h2><span id='topic+createData'></span>

<h3>Description</h3>

<p>Simulate data sets meant to emulate gene expression data in oncology.</p>


<h3>Usage</h3>

<pre><code class='language-R'>createData(n.case, n.control, mean.upper = 13, mean.lower = 5, 
sd.upper = 1, sd.lower = 1, n.features = 10000, 
subtype1.feats = 1:5, subtype2.feats = 6:10, subtype3.feats = 11:15)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="createData_+3A_n.case">n.case</code></td>
<td>
<p>Number of cases to simulate.</p>
</td></tr>
<tr><td><code id="createData_+3A_n.control">n.control</code></td>
<td>
<p>Number of controls to simulate</p>
</td></tr>
<tr><td><code id="createData_+3A_mean.upper">mean.upper</code></td>
<td>
<p>Mean of upper component of bimodal Gaussian distribution from which features are simulated.</p>
</td></tr>
<tr><td><code id="createData_+3A_mean.lower">mean.lower</code></td>
<td>
<p>Mean of lower component of bimodal Gaussian distribution from which features are simulated.</p>
</td></tr>
<tr><td><code id="createData_+3A_sd.upper">sd.upper</code></td>
<td>
<p>Standard deviation of upper component of bimodal Gaussian distribution from which features are simulated.</p>
</td></tr>
<tr><td><code id="createData_+3A_sd.lower">sd.lower</code></td>
<td>
<p>Standard deviation of lower component of bimodal Gaussian distribution from which features are simulated.</p>
</td></tr>
<tr><td><code id="createData_+3A_n.features">n.features</code></td>
<td>
<p>Number of features to simulate</p>
</td></tr>
<tr><td><code id="createData_+3A_subtype1.feats">subtype1.feats</code></td>
<td>
<p>Index of features used to define subtype 1.</p>
</td></tr>
<tr><td><code id="createData_+3A_subtype2.feats">subtype2.feats</code></td>
<td>
<p>Index of features used to define subtype 2.</p>
</td></tr>
<tr><td><code id="createData_+3A_subtype3.feats">subtype3.feats</code></td>
<td>
<p>Index of features used to define subtype 3.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Simulates case/control data as described in <code><a href="#topic+createCase">createCase</a></code> and <code><a href="#topic+createControl">createControl</a></code>, and graphical domain knowledge as described in <code><a href="#topic+createGraph">createGraph</a></code>.</p>


<h3>Value</h3>

<p>Returns a named list with a simulated feature matrix (<code>x</code>), simulated binary response vector  (<code>y</code>), vector of subtype labels (<code>subtype</code>), and simulated domain knowledge graph (<code>graph</code>).</p>


<h3>Author(s)</h3>

<p>Michelle Saul</p>


<h3>References</h3>

<p>ADD REFERENCE</p>


<h3>See Also</h3>

<p><code><a href="#topic+createCase">createCase</a></code>, <code><a href="#topic+createControl">createControl</a></code>, <code><a href="#topic+createGraph">createGraph</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Toy Example
# Simulate data set
# 10 samples
# 20 features
# Features 1 through 15 perfectly define response
# All other features are random noise.
data &lt;- createData(n.case = 5, n.control = 5, mean.upper=13, mean.lower=5,
                   sd.upper=1, sd.lower=1, n.features = 20,
                   subtype1.feats = 1:5, subtype2.feats = 6:10,
                   subtype3.feats = 11:15)
x &lt;- data$x
y &lt;- data$y
graph &lt;- data$graph
</code></pre>

<hr>
<h2 id='createGraph'>Simulate Graph</h2><span id='topic+createGraph'></span>

<h3>Description</h3>

<p>Simulate domain knowledge graph.</p>


<h3>Usage</h3>

<pre><code class='language-R'>createGraph(subtype1.feats = 1:5, subtype2.feats = 6:10, subtype3.feats = 11:15, 
n.interactions = 1e+06, n.features = 10000)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="createGraph_+3A_subtype1.feats">subtype1.feats</code></td>
<td>
<p>Index of features used to define subtype 1.</p>
</td></tr>
<tr><td><code id="createGraph_+3A_subtype2.feats">subtype2.feats</code></td>
<td>
<p>Index of features used to define subtype 2.</p>
</td></tr>
<tr><td><code id="createGraph_+3A_subtype3.feats">subtype3.feats</code></td>
<td>
<p>Index of features used to define subtype 3.</p>
</td></tr>
<tr><td><code id="createGraph_+3A_n.interactions">n.interactions</code></td>
<td>
<p>Number of pairwise interactions to simulate.</p>
</td></tr>
<tr><td><code id="createGraph_+3A_n.features">n.features</code></td>
<td>
<p>Number of features to simulate</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a data frame representation of a graph. The first two columns represent graph nodes and the third column represents the edge weights between nodes. 
</p>
<p>All pairwise combinations of <code>subtype1.feats</code> have an edge weight of 1.
</p>
<p>All pairwise combinations of <code>subtype2.feats</code> have an edge weight of 1.
</p>
<p>All pairwise combinations of <code>subtype3.feats</code> have an edge weight of 1.
</p>
<p>All other pairwise combinations have an edge weight uniformly distributed between 0 and 1.</p>


<h3>Author(s)</h3>

<p>Michelle Saul</p>


<h3>References</h3>

<p>ADD REFERENCE</p>


<h3>See Also</h3>

<p><code><a href="#topic+createData">createData</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'># Toy Example 
graph &lt;- createGraph(subtype1.feats = 1:5, subtype2.feats = 6:10, subtype3.feats = 11:15, 
n.interactions = 100, n.features = 20)
</code></pre>

<hr>
<h2 id='familyRank'>Feature Ranking with Family Rank</h2><span id='topic+familyRank'></span>

<h3>Description</h3>

<p>Ranks features by incorporating graphical knowledge to weight empirical feature scores. This is the main function of the FamilyRank package.</p>


<h3>Usage</h3>

<pre><code class='language-R'>familyRank(scores, graph, d = 0.5, n.rank = min(length(scores), 1000), 
n.families = min(n.rank, 1000), tol = 0.001)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="familyRank_+3A_scores">scores</code></td>
<td>
<p>A numeric vector of empirical feature scores. Higher scores should indicate a more predictive feature.</p>
</td></tr>
<tr><td><code id="familyRank_+3A_graph">graph</code></td>
<td>
<p>A matrix or data frame representation of a graph object.</p>
</td></tr>
<tr><td><code id="familyRank_+3A_d">d</code></td>
<td>
<p>Damping factor</p>
</td></tr>
<tr><td><code id="familyRank_+3A_n.rank">n.rank</code></td>
<td>
<p>Number of features to rank.</p>
</td></tr>
<tr><td><code id="familyRank_+3A_n.families">n.families</code></td>
<td>
<p>Number of families to grow.</p>
</td></tr>
<tr><td><code id="familyRank_+3A_tol">tol</code></td>
<td>
<p>Tolerance</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>scores</code> vector should be generated using an existing statistical method. Higher scores should correspond to more predictive features. It is up to the user to adjust accordingly. For example, if the user wishes to use p-values as the empirical score, the user should first adjust the p-values, perhaps by subtracting all p-values from 1, so that a higher value corresponds to a more predictive feature.
</p>
<p>The <code>graph</code> must be supplied in matrix form, where the first two columns represent graph nodes and the third column represents the edge weights between nodes. The graph nodes must be represented by the index of the feature that corresponds with the index in the <code>score</code> vector. For example, a node corresponding to the first value of the <code>score</code> vector should be indicated by a 1 in the <code>graph</code> object, the second by a 2, etc. It is not necessary that every feature in the <code>score</code> vector appear in the <code>graph</code>. Missing pairwise interactions will be considered to have interaction scores of 0.
</p>
<p>The damping factor, <code>d</code>, represents the percentage of weight given to the interaction scores. The damping factor must be between 0 and 1. Higher values give more weight to the interaction score while lower values give more weight to the empirical score.
</p>
<p>The value for <code>n.rank</code> must be less than or equal to the number of scored features. The algorithm will include only the top <code>n.rank</code> features in the ranking process (e.g. the <code>n.rank</code> features with the highest values in the <code>score</code> vector will be used to grow families). Higher values of <code>n.rank</code> require longer compute times.
</p>
<p>The value for <code>n.families</code> must be less than or equal to the value of <code>n.rank</code>. This is the number of families the algorithm will grow. If <code>n.families</code> is less than <code>n.rank</code>, the algorithm will initate families using the <code>n.families</code> highest scoring features. Higher values of <code>n.families</code> require longer compute times.
</p>
<p>The tolerance variable, <code>tol</code>, tells the algorithm when to stop growing a family. Features are added to families until the weighted score is less than the tolerance level, or until all features have been added.
</p>


<h3>Value</h3>

<p>Returns a vector of the weighted feature scores.</p>


<h3>Author(s)</h3>

<p>Michelle Saul</p>


<h3>References</h3>

<p>ADD REFERENCE</p>


<h3>Examples</h3>

<pre><code class='language-R'># Toy Example
scores &lt;- c(.6, .2, .9)
graph &lt;- cbind(c(1,1), c(2,3), c(.4, .8))
familyRank(scores = scores, graph = graph, d = .5)

# Simulate data set
# 100 samples
# 1000 features
# Features 1 through 15 perfectly define response
# All other features are random noise
simulatedData &lt;- createData(n.case = 50, n.control = 50, mean.upper=13, mean.lower=5,
                            sd.upper=1, sd.lower=1, n.features = 10000,
                            subtype1.feats = 1:5, subtype2.feats = 6:10,
                            subtype3.feats = 11:15)
x &lt;- simulatedData$x
y &lt;- simulatedData$y
graph &lt;- simulatedData$graph

# Score simulated features using absolute difference in group means
scores &lt;- apply(x, 2, function(col){
  splt &lt;- split(col, y)
  group.means &lt;- unlist(lapply(splt, mean))
  score &lt;- abs(diff(group.means))
  names(score) &lt;- NULL
  return(score)
})

# Display top 15 features using emprical score
order(scores, decreasing = TRUE)[1:15]

# Rank scores using familyRank
scores.fr &lt;- familyRank(scores = scores, graph = graph, d = .5)
# Display top 15 features using emprical scores with Family Rank
order(scores.fr, decreasing = TRUE)[1:15]
</code></pre>

<hr>
<h2 id='grow'>Grow Families</h2><span id='topic+grow'></span>

<h3>Description</h3>

<p>Call to the C++ function that grows the families.</p>


<h3>Usage</h3>

<pre><code class='language-R'>grow(n, f, d, graph, scores, feat_mat, score_mat, tol, weight_mat, selected)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="grow_+3A_n">n</code></td>
<td>
<p>Number of features to rank.</p>
</td></tr>
<tr><td><code id="grow_+3A_f">f</code></td>
<td>
<p>Number of families to grow.</p>
</td></tr>
<tr><td><code id="grow_+3A_d">d</code></td>
<td>
<p>Damping factor</p>
</td></tr>
<tr><td><code id="grow_+3A_graph">graph</code></td>
<td>
<p>A matrix or data frame representation of a graph object.</p>
</td></tr>
<tr><td><code id="grow_+3A_scores">scores</code></td>
<td>
<p>A numeric vector of empirical feature scores.</p>
</td></tr>
<tr><td><code id="grow_+3A_feat_mat">feat_mat</code></td>
<td>
<p>Matrix to store selected features.</p>
</td></tr>
<tr><td><code id="grow_+3A_score_mat">score_mat</code></td>
<td>
<p>Matrix to store weighted scores of selected features.</p>
</td></tr>
<tr><td><code id="grow_+3A_tol">tol</code></td>
<td>
<p>Tolerance</p>
</td></tr>
<tr><td><code id="grow_+3A_weight_mat">weight_mat</code></td>
<td>
<p>A matrix to store the cumulative weighted scores of selected futures across all families.</p>
</td></tr>
<tr><td><code id="grow_+3A_selected">selected</code></td>
<td>
<p>Vector indicating whether a feature has been selected yet.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is the workhorse function for the Family Rank algorithm.</p>


<h3>Value</h3>

<p>Returns a matrix with <code>1+2xn.families</code> columns and <code>n.rank</code> rows. The first column is the cumulative feature score for each of the ranked features <code>1:n.rank</code>. The row number corresponds to the re-indexed feature index. The next <code>n.families</code> columns contain the indices of selected features for each iteration of feature selection. The last <code>n.families</code> columns contain the weigthed scores of selected features for each iteration.</p>


<h3>Author(s)</h3>

<p>Michelle Saul</p>


<h3>References</h3>

<p>ADD REFERENCE</p>


<h3>Examples</h3>

<pre><code class='language-R'># Toy Example
scores &lt;- c(.6, .2, .9)
graph &lt;- cbind(c(1,1), c(2,3), c(.4, .8))

# initialize matrices 
n &lt;- n.families &lt;- length(scores)
feat.mat &lt;- score.mat &lt;- matrix(0, nrow = n, ncol = n.families)
feat.mat[1,] &lt;- order(scores, decreasing = TRUE)
score.mat[1,] &lt;- sort(scores, decreasing = TRUE)

# Grow families
mats &lt;- grow(n = n, f = n.families, d = 0.5, graph = as.matrix(graph), 
             scores = scores, 
             feat_mat = feat.mat, score_mat = score.mat, tol = 0, 
             weight_mat = as.matrix(scores), selected = rep(1, n))
# Selected Feature Matrix
## columns represent familes
## rows represent iterations
## values indicate indices of selected features
feat.mat &lt;- mats[, 2:(n.families+1)]
feat.mat
# Corresponding Score Matrix
## columns represent familes
## rows represent iterations
## values indicate max weighted score of selected features
score.mat &lt;- mats[, (n.families+2):(1+2*n.families)]
score.mat
</code></pre>

<hr>
<h2 id='indexFeats'>Re-index features</h2><span id='topic+indexFeats'></span>

<h3>Description</h3>

<p>Re-index features based on number to rank. Called by <code><a href="#topic+familyRank">familyRank</a></code>.</p>


<h3>Usage</h3>

<pre><code class='language-R'>indexFeats(scores, graph, n.rank = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="indexFeats_+3A_scores">scores</code></td>
<td>
<p>A numeric vector of empirical feature scores.</p>
</td></tr>
<tr><td><code id="indexFeats_+3A_graph">graph</code></td>
<td>
<p>A matrix or data frame representation of a graph object.</p>
</td></tr>
<tr><td><code id="indexFeats_+3A_n.rank">n.rank</code></td>
<td>
<p>Number of features to rank.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is used to re-index features for the Family Rank algorithm. The function takes in the scores for all features, and returns scores for the top <code>n.rank</code> features. It also takes in the full domain knowledge <code>graph</code> and returns the subgraph that only includes interactions between the top <code>n.rank</code> features. Finally, it re-indexes the top features in both the score vector and domain knowledge graph to 1:n.rank.</p>


<h3>Value</h3>

<p>Returns a named list with re-indexed domain knowledge graph (<code>graph.w</code>), re-indexed scores  (<code>score.w</code>), a mapping between original and new indices (<code>loc.map</code>), and the number of features to rank (<code>n.rnak</code>).
</p>


<h3>Note</h3>

<p><code>indexFeats</code> is not meant to be called alone. It is designed as a helper function for <code><a href="#topic+familyRank">familyRank</a></code>.</p>


<h3>Author(s)</h3>

<p>Michelle Saul</p>


<h3>References</h3>

<p>ADD REFERENCE</p>


<h3>See Also</h3>

<p><code><a href="#topic+familyRank">familyRank</a></code></p>

<hr>
<h2 id='rbinorm'>Bimodal Normal Distribution</h2><span id='topic+rbinorm'></span>

<h3>Description</h3>

<p>Simulates random data from a bimodal Gaussian distribution.</p>


<h3>Usage</h3>

<pre><code class='language-R'>rbinorm(n, mean1, mean2, sd1, sd2, prop)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rbinorm_+3A_n">n</code></td>
<td>
<p>Number of observations to simulate</p>
</td></tr>
<tr><td><code id="rbinorm_+3A_mean1">mean1</code></td>
<td>
<p>Mean of mode 1</p>
</td></tr>
<tr><td><code id="rbinorm_+3A_mean2">mean2</code></td>
<td>
<p>Mean of mode 2</p>
</td></tr>
<tr><td><code id="rbinorm_+3A_sd1">sd1</code></td>
<td>
<p>Standard deviation of mode 1</p>
</td></tr>
<tr><td><code id="rbinorm_+3A_sd2">sd2</code></td>
<td>
<p>Standard deviation of mode 2</p>
</td></tr>
<tr><td><code id="rbinorm_+3A_prop">prop</code></td>
<td>
<p>Probability of being in mode 1. <code>1 - prop</code> is the probability of being in mode 2.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is modeled off of the <code><a href="stats.html#topic+rnorm">rnorm</a></code> function.</p>


<h3>Value</h3>

<p>Generates random deviates</p>


<h3>Author(s)</h3>

<p>Michelle Saul</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Generate 100 samples from a two component Guassian curve
samples &lt;- rbinorm(n=100, mean1=10, mean2=20, sd1=1, sd2=2, prop=.5)

## Plot distribution of simulated data
plot(density(samples))
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

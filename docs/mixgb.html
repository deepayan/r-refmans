<!DOCTYPE html><html><head><title>Help for package mixgb</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {mixgb}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#createNA'><p>Create missing values for a dataset</p></a></li>
<li><a href='#data_clean'><p>Data cleaning</p></a></li>
<li><a href='#impute_new'><p>Impute new data with a saved <code>mixgb</code> imputer object</p></a></li>
<li><a href='#mixgb'><p>Multiple imputation through XGBoost</p></a></li>
<li><a href='#mixgb_cv'><p>Use cross-validation to find the optimal <code>nrounds</code></p></a></li>
<li><a href='#mixgb-package'><p><span class="pkg">mixgb</span>: Multiple Imputation Through XGBoost</p></a></li>
<li><a href='#nhanes3'><p>A small subset of the NHANES III (1988-1994) newborn data</p></a></li>
<li><a href='#nhanes3_newborn'><p>NHANES III (1988-1994) newborn data</p></a></li>
<li><a href='#plot_1num1fac'><p>Box plots with points for one numeric variable vs one factor (or integer) variable.</p></a></li>
<li><a href='#plot_1num2fac'><p>Box plots with overlaying data points for a numeric variable vs a factor condition on another factor</p></a></li>
<li><a href='#plot_2fac'><p>Bar plots for two imputed factor variables</p></a></li>
<li><a href='#plot_2num'><p>Scatter plots for two imputed numeric variables</p></a></li>
<li><a href='#plot_2num1fac'><p>Scatter plots for two imputed numeric variables conditional on a factor</p></a></li>
<li><a href='#plot_bar'><p>Bar plots for multiply imputed values for a single factor variable</p></a></li>
<li><a href='#plot_box'><p>Boxplots with data points for multiply imputed values for a single numeric variable</p></a></li>
<li><a href='#plot_hist'><p>Histogram with density plots for multiply imputed values for a single numeric variable</p></a></li>
<li><a href='#pmm'><p>PMM for numeric or binary variable</p></a></li>
<li><a href='#pmm.multiclass'><p>PMM for multiclass variable</p></a></li>
<li><a href='#show_var'><p>Show multiply imputed values for a single variable</p></a></li>
<li><a href='#sortNA'><p>Sort data by increasing number of missing values</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Multiple Imputation Through 'XGBoost'</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.2</td>
</tr>
<tr>
<td>Description:</td>
<td>Multiple imputation using 'XGBoost', subsampling, and predictive mean 
    matching as described in Deng and Lumley (2023) &lt;<a href="https://arxiv.org/abs/2106.01574">arXiv:2106.01574</a>&gt;. Our
    method utilizes the capabilities of XGBoost, a highly efficient implementation
    of gradient boosted trees, to capture interactions and non-linear relations
    automatically. Moreover, we have integrated subsampling and predictive mean
    matching to minimize bias and reflect appropriate imputation variability. This
    package supports various types of variables and offers flexible settings for
    subsampling and predictive mean matching. Additionally, it includes diagnostic
    tools for evaluating the quality of the imputed values.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/agnesdeng/mixgb">https://github.com/agnesdeng/mixgb</a>,
<a href="https://agnesdeng.github.io/mixgb/">https://agnesdeng.github.io/mixgb/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/agnesdeng/mixgb/issues">https://github.com/agnesdeng/mixgb/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Imports:</td>
<td>data.table, ggplot2, Matrix, mice, Rfast, rlang, scales,
stats, tidyr, utils, xgboost</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, RColorBrewer</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.0</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-02-16 09:15:12 UTC; agnes</td>
</tr>
<tr>
<td>Author:</td>
<td>Yongshi Deng <a href="https://orcid.org/0000-0001-5845-859X"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Thomas Lumley [ths]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Yongshi Deng &lt;yongshi.deng@auckland.ac.nz&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-02-16 11:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='createNA'>Create missing values for a dataset</h2><span id='topic+createNA'></span>

<h3>Description</h3>

<p>This function creates missing values under the missing complete at random (MCAR) mechanism. It is for demonstration purposes only.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>createNA(data, var.names = NULL, p = 0.3)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="createNA_+3A_data">data</code></td>
<td>
<p>A complete data frame.</p>
</td></tr>
<tr><td><code id="createNA_+3A_var.names">var.names</code></td>
<td>
<p>The names of variables where missing values will be generated.</p>
</td></tr>
<tr><td><code id="createNA_+3A_p">p</code></td>
<td>
<p>The proportion of missing values in the data frame or the proportions of missing values corresponding to the variables specified in <code>var.names</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with artificial missing values
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create 30% MCAR data across all variables in a dataset
withNA.df &lt;- createNA(data = iris, p = 0.3)

# Create 30% MCAR data in a specified variable in a dataset
withNA.df &lt;- createNA(data = iris, var.names = c("Sepal.Length"), p = 0.3)

# Create MCAR data in several specified variables in a dataset
withNA.df &lt;- createNA(
  data = iris,
  var.names = c("Sepal.Length", "Petal.Width", "Species"),
  p = c(0.3, 0.2, 0.1)
)
</code></pre>

<hr>
<h2 id='data_clean'>Data cleaning</h2><span id='topic+data_clean'></span>

<h3>Description</h3>

<p>The function 'data_clean()' serves the purpose of performing a preliminary check and fix some evident issues. However, the function cannot resolve all data quality-related problems.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_clean(rawdata, levels.tol = 0.2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="data_clean_+3A_rawdata">rawdata</code></td>
<td>
<p>A data frame.</p>
</td></tr>
<tr><td><code id="data_clean_+3A_levels.tol">levels.tol</code></td>
<td>
<p>Tolerant proportion of the number of levels to the number of observations in a multiclass variable. Default: 0.2</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A preliminary cleaned dataset
</p>


<h3>Examples</h3>

<pre><code class='language-R'>rawdata &lt;- nhanes3

rawdata[4, 4] &lt;- NaN
rawdata[5, 5] &lt;- Inf
rawdata[6, 6] &lt;- -Inf

cleandata &lt;- data_clean(rawdata = rawdata)
</code></pre>

<hr>
<h2 id='impute_new'>Impute new data with a saved <code>mixgb</code> imputer object</h2><span id='topic+impute_new'></span>

<h3>Description</h3>

<p>Impute new data with a saved <code>mixgb</code> imputer object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>impute_new(
  object,
  newdata,
  initial.newdata = FALSE,
  pmm.k = NULL,
  m = NULL,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="impute_new_+3A_object">object</code></td>
<td>
<p>A saved imputer object created by <code>mixgb(..., save.models = TRUE)</code></p>
</td></tr>
<tr><td><code id="impute_new_+3A_newdata">newdata</code></td>
<td>
<p>A data.frame or data.table. New data with missing values.</p>
</td></tr>
<tr><td><code id="impute_new_+3A_initial.newdata">initial.newdata</code></td>
<td>
<p>Whether to use the information from the new data to initially impute the missing values of the new data. By default, this is set to <code>FALSE</code>, the original data passed to <code>mixgb()</code> will be used for initial imputation.</p>
</td></tr>
<tr><td><code id="impute_new_+3A_pmm.k">pmm.k</code></td>
<td>
<p>The number of donors for predictive mean matching. If <code>NULL</code> (the default), the <code>pmm.k</code> value in the saved imputer object will be used.</p>
</td></tr>
<tr><td><code id="impute_new_+3A_m">m</code></td>
<td>
<p>The number of imputed datasets. If <code>NULL</code> (the default), the <code>m</code> value in the saved imputer object will be used.</p>
</td></tr>
<tr><td><code id="impute_new_+3A_verbose">verbose</code></td>
<td>
<p>Verbose setting for mixgb. If <code>TRUE</code>, will print out the progress of imputation. Default: <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of <code>m</code> imputed datasets for new data.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(2022)
n &lt;- nrow(nhanes3)
idx &lt;- sample(1:n, size = round(0.7 * n), replace = FALSE)
train.data &lt;- nhanes3[idx, ]
test.data &lt;- nhanes3[-idx, ]

params &lt;- list(max_depth = 3, subsample = 0.7, nthread = 2)
mixgb.obj &lt;- mixgb(data = train.data, m = 2, xgb.params = params, nrounds = 10, save.models = TRUE)

# obtain m imputed datasets for train.data
train.imputed &lt;- mixgb.obj$imputed.data
train.imputed

# use the saved imputer to impute new data
test.imputed &lt;- impute_new(object = mixgb.obj, newdata = test.data)
test.imputed
</code></pre>

<hr>
<h2 id='mixgb'>Multiple imputation through XGBoost</h2><span id='topic+mixgb'></span>

<h3>Description</h3>

<p>This function is used to generate multiply imputed datasets using XGBoost, subsampling and predictive mean matching (PMM).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mixgb(
  data,
  m = 5,
  maxit = 1,
  ordinalAsInteger = FALSE,
  bootstrap = FALSE,
  pmm.type = "auto",
  pmm.k = 5,
  pmm.link = "prob",
  initial.num = "normal",
  initial.int = "mode",
  initial.fac = "mode",
  save.models = FALSE,
  save.vars = NULL,
  verbose = F,
  xgb.params = list(max_depth = 3, gamma = 0, eta = 0.3, min_child_weight = 1,
    subsample = 0.7, colsample_bytree = 1, colsample_bylevel = 1, colsample_bynode = 1,
    tree_method = "auto", gpu_id = 0, predictor = "auto"),
  nrounds = 100,
  early_stopping_rounds = 10,
  print_every_n = 10L,
  xgboost_verbose = 0,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mixgb_+3A_data">data</code></td>
<td>
<p>A data.frame or data.table with missing values</p>
</td></tr>
<tr><td><code id="mixgb_+3A_m">m</code></td>
<td>
<p>The number of imputed datasets. Default: 5</p>
</td></tr>
<tr><td><code id="mixgb_+3A_maxit">maxit</code></td>
<td>
<p>The number of imputation iterations. Default: 1</p>
</td></tr>
<tr><td><code id="mixgb_+3A_ordinalasinteger">ordinalAsInteger</code></td>
<td>
<p>Whether to convert ordinal factors to integers. By default, <code>ordinalAsInteger = FALSE</code>. Setting <code>ordinalAsInteger = TRUE</code> may speed up the imputation process for large datasets.</p>
</td></tr>
<tr><td><code id="mixgb_+3A_bootstrap">bootstrap</code></td>
<td>
<p>Whether to use bootstrapping for multiple imputation. By default, <code>bootstrap = FALSE</code>. Setting <code>bootstrap = TRUE</code> can improve imputation variability if sampling-related hyperparameters of XGBoost are set to 1.</p>
</td></tr>
<tr><td><code id="mixgb_+3A_pmm.type">pmm.type</code></td>
<td>
<p>The type of predictive mean matching (PMM). Possible values:
</p>

<ul>
<li> <p><code>NULL</code>: Imputations without PMM;
</p>
</li>
<li> <p><code>0</code>: Imputations with PMM type 0;
</p>
</li>
<li> <p><code>1</code>: Imputations with PMM type 1;
</p>
</li>
<li> <p><code>2</code>: Imputations with PMM type 2;
</p>
</li>
<li> <p><code>"auto"</code> (Default): Imputations with PMM type 2 for numeric/integer variables; imputations without PMM for categorical variables.
</p>
</li></ul>
</td></tr>
<tr><td><code id="mixgb_+3A_pmm.k">pmm.k</code></td>
<td>
<p>The number of donors for predictive mean matching. Default: 5</p>
</td></tr>
<tr><td><code id="mixgb_+3A_pmm.link">pmm.link</code></td>
<td>
<p>The link for predictive mean matching in binary variables
</p>

<ul>
<li> <p><code>"prob"</code> (Default): use probabilities;
</p>
</li>
<li> <p><code>"logit"</code>: use logit values.
</p>
</li></ul>
</td></tr>
<tr><td><code id="mixgb_+3A_initial.num">initial.num</code></td>
<td>
<p>Initial imputation method for numeric type data:
</p>

<ul>
<li> <p><code>"normal"</code> (Default);
</p>
</li>
<li> <p><code>"mean"</code>;
</p>
</li>
<li> <p><code>"median"</code>;
</p>
</li>
<li> <p><code>"mode"</code>;
</p>
</li>
<li> <p><code>"sample"</code>.
</p>
</li></ul>
</td></tr>
<tr><td><code id="mixgb_+3A_initial.int">initial.int</code></td>
<td>
<p>Initial imputation method for integer type data:
</p>

<ul>
<li> <p><code>"mode"</code> (Default);
</p>
</li>
<li> <p><code>"sample"</code>.
</p>
</li></ul>
</td></tr>
<tr><td><code id="mixgb_+3A_initial.fac">initial.fac</code></td>
<td>
<p>Initial imputation method for factor type data:
</p>

<ul>
<li> <p><code>"mode"</code> (Default);
</p>
</li>
<li> <p><code>"sample"</code>.
</p>
</li></ul>
</td></tr>
<tr><td><code id="mixgb_+3A_save.models">save.models</code></td>
<td>
<p>Whether to save imputation models for imputing new data later on. Default: <code>FALSE</code></p>
</td></tr>
<tr><td><code id="mixgb_+3A_save.vars">save.vars</code></td>
<td>
<p>For the purpose of imputing new data, the imputation models for response variables specified in <code>save.vars</code> will be saved. The values in <code>save.vars</code> can be a vector of names or indices. By default, only the imputation models for variables with missing values in the original data will be saved (<code>save.vars = NULL</code>). To save imputation models for all variables, users can specify it with <code>save.vars = colnames(data)</code>.</p>
</td></tr>
<tr><td><code id="mixgb_+3A_verbose">verbose</code></td>
<td>
<p>Verbose setting for mixgb. If <code>TRUE</code>, will print out the progress of imputation. Default: <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="mixgb_+3A_xgb.params">xgb.params</code></td>
<td>
<p>A list of XGBoost parameters. For more details, please check <a href="https://xgboost.readthedocs.io/en/stable/parameter.html">XGBoost documentation on parameters</a>.</p>
</td></tr>
<tr><td><code id="mixgb_+3A_nrounds">nrounds</code></td>
<td>
<p>The maximum number of boosting iterations for XGBoost. Default: 100</p>
</td></tr>
<tr><td><code id="mixgb_+3A_early_stopping_rounds">early_stopping_rounds</code></td>
<td>
<p>An integer value <code>k</code>. XGBoost training will stop if the validation performance has not improved for <code>k</code> rounds. Default: 10.</p>
</td></tr>
<tr><td><code id="mixgb_+3A_print_every_n">print_every_n</code></td>
<td>
<p>Print XGBoost evaluation information at every nth iteration if <code>xgboost_verbose &gt; 0</code>.</p>
</td></tr>
<tr><td><code id="mixgb_+3A_xgboost_verbose">xgboost_verbose</code></td>
<td>
<p>Verbose setting for XGBoost training: 0 (silent), 1 (print information) and 2 (print additional information). Default: 0</p>
</td></tr>
<tr><td><code id="mixgb_+3A_...">...</code></td>
<td>
<p>Extra arguments to be passed to XGBoost</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>save.models = FALSE</code>, this function will return a list of <code>m</code> imputed datasets. If <code>save.models = TRUE</code>, it will return an object with imputed datasets, saved models and parameters.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># obtain m multiply datasets without saving models
params &lt;- list(max_depth = 3, subsample = 0.7, nthread = 2)
mixgb.data &lt;- mixgb(data = nhanes3, m = 2, xgb.params = params, nrounds = 10)

# obtain m multiply imputed datasets and save models for imputing new data later on
mixgb.obj &lt;- mixgb(data = nhanes3, m = 2, xgb.params = params, nrounds = 10, save.models = TRUE)
</code></pre>

<hr>
<h2 id='mixgb_cv'>Use cross-validation to find the optimal <code>nrounds</code></h2><span id='topic+mixgb_cv'></span>

<h3>Description</h3>

<p>Use cross-validation to find the optimal <code>nrounds</code> for an <code>Mixgb</code> imputer. Note that this method relies on the complete cases of a dataset to obtain the optimal <code>nrounds</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mixgb_cv(
  data,
  nfold = 5,
  nrounds = 100,
  early_stopping_rounds = 10,
  response = NULL,
  select_features = NULL,
  xgb.params = list(max_depth = 3, gamma = 0, eta = 0.3, min_child_weight = 1,
    subsample = 0.7, colsample_bytree = 1, colsample_bylevel = 1, colsample_bynode = 1,
    tree_method = "auto", gpu_id = 0, predictor = "auto"),
  stringsAsFactors = FALSE,
  verbose = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mixgb_cv_+3A_data">data</code></td>
<td>
<p>A data.frame or a data.table with missing values.</p>
</td></tr>
<tr><td><code id="mixgb_cv_+3A_nfold">nfold</code></td>
<td>
<p>The number of subsamples which are randomly partitioned and of equal size. Default: 5</p>
</td></tr>
<tr><td><code id="mixgb_cv_+3A_nrounds">nrounds</code></td>
<td>
<p>The max number of iterations in XGBoost training. Default: 100</p>
</td></tr>
<tr><td><code id="mixgb_cv_+3A_early_stopping_rounds">early_stopping_rounds</code></td>
<td>
<p>An integer value <code>k</code>. Training will stop if the validation performance has not improved for <code>k</code> rounds.</p>
</td></tr>
<tr><td><code id="mixgb_cv_+3A_response">response</code></td>
<td>
<p>The name or the column index of a response variable. Default: <code>NULL</code> (Randomly select an incomplete variable).</p>
</td></tr>
<tr><td><code id="mixgb_cv_+3A_select_features">select_features</code></td>
<td>
<p>The names or the indices of selected features. Default: <code>NULL</code> (Select all the other variables in the dataset).</p>
</td></tr>
<tr><td><code id="mixgb_cv_+3A_xgb.params">xgb.params</code></td>
<td>
<p>A list of XGBoost parameters. For more details, please check <a href="https://xgboost.readthedocs.io/en/stable/parameter.html">XGBoost documentation on parameters</a>.</p>
</td></tr>
<tr><td><code id="mixgb_cv_+3A_stringsasfactors">stringsAsFactors</code></td>
<td>
<p>A logical value indicating whether all character vectors in the dataset should be converted to factors.</p>
</td></tr>
<tr><td><code id="mixgb_cv_+3A_verbose">verbose</code></td>
<td>
<p>A logical value. Whether to print out cross-validation results during the process.</p>
</td></tr>
<tr><td><code id="mixgb_cv_+3A_...">...</code></td>
<td>
<p>Extra arguments to be passed to XGBoost.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of the optimal <code>nrounds</code>, <code>evaluation.log</code> and the chosen <code>response</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>params &lt;- list(max_depth = 3, subsample = 0.7, nthread = 2)
cv.results &lt;- mixgb_cv(data = nhanes3, xgb.params = params)
cv.results$best.nrounds

imputed.data &lt;- mixgb(data = nhanes3, m = 3, xgb.params = params, nrounds = cv.results$best.nrounds)
</code></pre>

<hr>
<h2 id='mixgb-package'><span class="pkg">mixgb</span>: Multiple Imputation Through XGBoost</h2><span id='topic+mixgb-package'></span>

<h3>Description</h3>

<p>Multiple imputation using 'XGBoost', subsampling, and predictive mean matching as described in Deng and Lumley (2023) &lt;arXiv:2106.01574&gt;. Our method utilizes the capabilities of XGBoost, a highly efficient implementation of gradient boosted trees, to capture interactions and non-linear relations automatically. Moreover, we have integrated subsampling and predictive mean matching to minimize bias and reflect appropriate imputation variability. This package supports various types of variables and offers flexible settings for subsampling and predictive mean matching. Additionally, it includes diagnostic tools for evaluating the quality of the imputed values.
</p>


<h3>References</h3>

<p>Deng, Y., &amp; Lumley, T. (2023). Multiple Imputation Through XGBoost.
arXiv:2106.01574.
</p>
<p>Chen, T., &amp; Guestrin, C. (2016, August). XGBoost: A Scalable Tree Boosting System.
Proceedings of the 22nd ACM SIGKDD International Conference on Knowledge Discovery and Data Mining (pp. 785-794).
</p>
<p>van Buuren, S., Brand, J. P., Groothuis-Oudshoorn, C. G., &amp; Rubin, D. B. (2006). Fully conditional specification in
multivariate imputation. Journal of Statistical Computation and Simulation, 76(12), 1049-1064.
</p>
<p>van Buuren, S. (2018). Flexible Imputation of Missing Data. Second Edition.
Chapman &amp; Hall/CRC. Boca Raton, FL.
</p>
<p>Rubin, D. B. (1986). Statistical matching using file concatenation with adjusted weights and multiple imputations.
Journal of Business &amp; Economic Statistics, 4(1), 87.
</p>
<p>Little, R. J. (1988). Missing-data adjustments in large surveys.
Journal of Business &amp; Economic Statistics, 6(3), 287.
</p>

<hr>
<h2 id='nhanes3'>A small subset of the NHANES III (1988-1994) newborn data</h2><span id='topic+nhanes3'></span>

<h3>Description</h3>

<p>This dataset is a small subset of <code>nhanes3_newborn</code>. It is for demonstration purposes only. More information on NHANES III data can be found on <a href="https://wwwn.cdc.gov/Nchs/Data/Nhanes3/7a/doc/mimodels.pdf">https://wwwn.cdc.gov/Nchs/Data/Nhanes3/7a/doc/mimodels.pdf</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(nhanes3)
</code></pre>


<h3>Format</h3>

<p>A data frame of 500 rows and 6 variables. Three variables have missing values.
</p>

<dl>
<dt>HSAGEIR</dt><dd><p>Age at interview (screener) - qty (months). An integer variable from 2 to 11.</p>
</dd>
<dt>HSSEX</dt><dd><p>Sex. A factor variable with levels 1 (Male) and 2 (Female).</p>
</dd>
<dt>DMARETHN</dt><dd><p>Race-ethnicity. A factor variable with levels 1 (Non-Hispanic white), 2 (Non-Hispanic black), 3 (Mexican-American) and 4 (Other).</p>
</dd>
<dt>BMPHEAD</dt><dd><p>Head circumference (cm). Numeric.</p>
</dd>
<dt>BMPRECUM</dt><dd><p>Recumbent length (cm). Numeric.</p>
</dd>
<dt>BMPWT</dt><dd><p>Weight (kg). Numeric.</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://wwwn.cdc.gov/nchs/nhanes/nhanes3/datafiles.aspx">https://wwwn.cdc.gov/nchs/nhanes/nhanes3/datafiles.aspx</a>
</p>


<h3>References</h3>

<p>U.S. Department of Health and Human Services
(DHHS).  National Center for Health Statistics.  Third National
Health and Nutrition Examination Survey (NHANES III, 1988-1994):
Multiply Imputed Data Set. CD-ROM, Series 11, No. 7A.
Hyattsville, MD: Centers for Disease Control and Prevention,
2001. Includes access software: Adobe Systems, Inc. Acrobat
Reader version 4.
</p>

<hr>
<h2 id='nhanes3_newborn'>NHANES III (1988-1994) newborn data</h2><span id='topic+nhanes3_newborn'></span>

<h3>Description</h3>

<p>This dataset is extracted from the NHANES III (1988-1994) for the age class <code>Newborn (under 1 year)</code>. Please note that this example dataset only contains selected variables and is for demonstration purposes only.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(nhanes3_newborn)
</code></pre>


<h3>Format</h3>

<p>A data frame of 2107 rows and 16 variables. Nine variables have missing values.
</p>

<dl>
<dt>HSHSIZER</dt><dd><p>Household size. An integer variable from 1 to 10.</p>
</dd>
<dt>HSAGEIR</dt><dd><p>Age at interview (screener) - qty (months). An integer variable from 2 to 11.</p>
</dd>
<dt>HSSEX</dt><dd><p>Sex. A factor variable with levels 1 (Male) and 2 (Female).</p>
</dd>
<dt>DMARACER</dt><dd><p>Race. A factor variable with levels 1 (White), 2 (Black) and 3 (Other).</p>
</dd>
<dt>DMAETHNR</dt><dd><p>Ethnicity. A factor variable with levels 1 (Mexican-American), 2 (Other Hispanic) and 3 (Not Hispanic).</p>
</dd>
<dt>DMARETHN</dt><dd><p>Race-ethnicity. A factor variable with levels 1 (Non-Hispanic white), 2 (Non-Hispanic black), 3 (Mexican-American) and 4 (Other).</p>
</dd>
<dt>BMPHEAD</dt><dd><p>Head circumference (cm). Numeric.</p>
</dd>
<dt>BMPRECUM</dt><dd><p>Recumbent length (cm). Numeric.</p>
</dd>
<dt>BMPSB1</dt><dd><p>First subscapular skinfold (mm). Numeric.</p>
</dd>
<dt>BMPSB2</dt><dd><p>Second subscapular skinfold (mm). Numeric.</p>
</dd>
<dt>BMPTR1</dt><dd><p>First triceps skinfold (mm). Numeric.</p>
</dd>
<dt>BMPTR2</dt><dd><p>Second triceps skinfold (mm). Numeric.</p>
</dd>
<dt>BMPWT</dt><dd><p>Weight (kg). Numeric.</p>
</dd>
<dt>DMPPIR</dt><dd><p>Poverty income ratio. Numeric.</p>
</dd>
<dt>HFF1</dt><dd><p>Does anyone who lives here smoke cigarettes in the home? A factor variable with levels 1 (Yes) and 2 (No).</p>
</dd>
<dt>HYD1</dt><dd><p>How is the health of subject person in general? An ordinal factor with levels 1 (Excellent), 2 (Very good), 3 (Good), 4 (Fair) and 5 (Poor).</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://wwwn.cdc.gov/nchs/nhanes/nhanes3/datafiles.aspx">https://wwwn.cdc.gov/nchs/nhanes/nhanes3/datafiles.aspx</a>
</p>


<h3>References</h3>

<p>U.S. Department of Health and Human Services
(DHHS).  National Center for Health Statistics.  Third National
Health and Nutrition Examination Survey (NHANES III, 1988-1994):
Multiply Imputed Data Set. CD-ROM, Series 11, No. 7A.
Hyattsville, MD: Centers for Disease Control and Prevention,
2001. Includes access software: Adobe Systems, Inc. Acrobat
Reader version 4.
</p>

<hr>
<h2 id='plot_1num1fac'>Box plots with points for one numeric variable vs one factor (or integer) variable.</h2><span id='topic+plot_1num1fac'></span>

<h3>Description</h3>

<p>Plot observed values versus m sets of imputed values for one numeric variable vs one factor (or integer) variable using <span class="pkg">ggplot2</span>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_1num1fac(
  imputation.list,
  var.num,
  var.fac,
  original.data,
  true.data = NULL,
  color.pal = NULL,
  shape = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_1num1fac_+3A_imputation.list">imputation.list</code></td>
<td>
<p>A list of <code>m</code> imputed datasets returned by the <code>mixgb</code> imputer</p>
</td></tr>
<tr><td><code id="plot_1num1fac_+3A_var.num">var.num</code></td>
<td>
<p>A numeric variable</p>
</td></tr>
<tr><td><code id="plot_1num1fac_+3A_var.fac">var.fac</code></td>
<td>
<p>A factor variable</p>
</td></tr>
<tr><td><code id="plot_1num1fac_+3A_original.data">original.data</code></td>
<td>
<p>The original data with missing data</p>
</td></tr>
<tr><td><code id="plot_1num1fac_+3A_true.data">true.data</code></td>
<td>
<p>The true data without missing values. This is generally unknown in practice. If the true data is known (e.g., in cases where it is generated by simulation), it can be specified in this argument. The output will then have an extra panel called <code>MaskedTrue</code>, which shows values originally observed but intentionally made missing.</p>
</td></tr>
<tr><td><code id="plot_1num1fac_+3A_color.pal">color.pal</code></td>
<td>
<p>A vector of hex color codes for the observed and m sets of imputed values panels. The vector should be of length <code>m+1</code>. Default: NULL (use &quot;gray40&quot; for the observed panel, use ggplot2 default colors for other panels.)</p>
</td></tr>
<tr><td><code id="plot_1num1fac_+3A_shape">shape</code></td>
<td>
<p>Whether to plot shapes for different types of missing values. By default, this is set to FALSE to speed up plotting. We only recommend using 'shape = TRUE' for small datasets.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Box plot with jittered data points for a numeric/integer variable; Bar plot for a categorical variable.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># obtain m multiply datasets
params &lt;- list(max_depth = 3, subsample = 0.8, nthread = 2)
imputed.data &lt;- mixgb(data = nhanes3, m = 3, xgb.params = params, nrounds = 30)

# plot the multiply imputed values for variables "BMPHEAD" versus "HSSEX"
plot_1num1fac(
  imputation.list = imputed.data, var.num = "BMPHEAD", var.fac = "HSSEX",
  original.data = nhanes3
)
</code></pre>

<hr>
<h2 id='plot_1num2fac'>Box plots with overlaying data points for a numeric variable vs a factor condition on another factor</h2><span id='topic+plot_1num2fac'></span>

<h3>Description</h3>

<p>Plot observed values versus m sets of imputed values for one specified numeric variable and two factors using <span class="pkg">ggplot2</span>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_1num2fac(
  imputation.list,
  var.fac,
  var.num,
  con.fac,
  original.data,
  true.data = NULL,
  color.pal = NULL,
  shape = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_1num2fac_+3A_imputation.list">imputation.list</code></td>
<td>
<p>A list of <code>m</code> imputed datasets returned by the <code>mixgb</code> imputer</p>
</td></tr>
<tr><td><code id="plot_1num2fac_+3A_var.fac">var.fac</code></td>
<td>
<p>A factor variable on the x-axis</p>
</td></tr>
<tr><td><code id="plot_1num2fac_+3A_var.num">var.num</code></td>
<td>
<p>A numeric variable on the y-axis</p>
</td></tr>
<tr><td><code id="plot_1num2fac_+3A_con.fac">con.fac</code></td>
<td>
<p>The name of a factor to condition on</p>
</td></tr>
<tr><td><code id="plot_1num2fac_+3A_original.data">original.data</code></td>
<td>
<p>The original data with missing data</p>
</td></tr>
<tr><td><code id="plot_1num2fac_+3A_true.data">true.data</code></td>
<td>
<p>The true data without missing values. This is generally unknown in practice. If the true data is known (e.g., in cases where it is generated by simulation), it can be specified in this argument. The output will then have an extra panel called <code>MaskedTrue</code>, which shows values originally observed but intentionally made missing.</p>
</td></tr>
<tr><td><code id="plot_1num2fac_+3A_color.pal">color.pal</code></td>
<td>
<p>A vector of hex color codes for the observed and m sets of imputed values panels. The vector should be of length <code>m+1</code>. Default: NULL (use &quot;gray40&quot; for the observed panel, use ggplot2 default colors for other panels.)</p>
</td></tr>
<tr><td><code id="plot_1num2fac_+3A_shape">shape</code></td>
<td>
<p>Whether to plot shapes for different types of missing values. By default, this is set to FALSE to speed up plotting. We only recommend using 'shape = TRUE' for small datasets.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Boxplots with overlaying data points
</p>


<h3>Examples</h3>

<pre><code class='language-R'># create some extra missing values in factor variables "HSSEX" and "DMARETHN"
nhanes3_NA &lt;- createNA(nhanes3, var.names = c("HSSEX", "DMARETHN"), p = 0.1)

# obtain m multiply datasets
params &lt;- list(max_depth = 3, subsample = 0.8, nthread = 2)
imputed.data &lt;- mixgb(data = nhanes3_NA, m = 3, xgb.params = params, nrounds = 30)

# plot the multiply imputed values for variables "BMPRECUM" versus "HSSEX" conditional on "DMARETHN"
plot_1num2fac(
  imputation.list = imputed.data, var.fac = "HSSEX", var.num = "BMPRECUM",
  con.fac = "DMARETHN", original.data = nhanes3_NA
)
</code></pre>

<hr>
<h2 id='plot_2fac'>Bar plots for two imputed factor variables</h2><span id='topic+plot_2fac'></span>

<h3>Description</h3>

<p>Plot observed values versus m sets of imputed values for two specified numeric variables using <span class="pkg">ggplot2</span>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_2fac(
  imputation.list,
  var.fac1,
  var.fac2,
  original.data,
  true.data = NULL,
  color.pal = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_2fac_+3A_imputation.list">imputation.list</code></td>
<td>
<p>A list of <code>m</code> imputed datasets returned by the <code>mixgb</code> imputer</p>
</td></tr>
<tr><td><code id="plot_2fac_+3A_var.fac1">var.fac1</code></td>
<td>
<p>A factor variable</p>
</td></tr>
<tr><td><code id="plot_2fac_+3A_var.fac2">var.fac2</code></td>
<td>
<p>A factor variable</p>
</td></tr>
<tr><td><code id="plot_2fac_+3A_original.data">original.data</code></td>
<td>
<p>The original data with missing data</p>
</td></tr>
<tr><td><code id="plot_2fac_+3A_true.data">true.data</code></td>
<td>
<p>The true data without missing values. This is generally unknown in practice. If the true data is known (e.g., in cases where it is generated by simulation), it can be specified in this argument. The output will then have an extra panel called <code>MaskedTrue</code>, which shows values originally observed but intentionally made missing.</p>
</td></tr>
<tr><td><code id="plot_2fac_+3A_color.pal">color.pal</code></td>
<td>
<p>A vector of hex color codes for the observed and m sets of imputed values panels. The vector should be of length <code>m+1</code>. Default: NULL (use &quot;gray40&quot; for the observed panel, use ggplot2 default colors for other panels.)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Scatter plots for two numeric/integer variable
</p>


<h3>Examples</h3>

<pre><code class='language-R'># create some extra missing values in factor variables "HSSEX" and "DMARETHN"
nhanes3_NA &lt;- createNA(nhanes3, var.names = c("HSSEX", "DMARETHN"), p = 0.1)

# obtain m multiply datasets
params &lt;- list(max_depth = 3, subsample = 0.8, nthread = 2)
imputed.data &lt;- mixgb(data = nhanes3_NA, m = 3, xgb.params = params, nrounds = 30)


# plot the multiply imputed values for variables "HSSEX" versus "DMARETHN"
plot_2fac(
  imputation.list = imputed.data, var.fac1 = "DMARETHN", var.fac2 = "HSSEX",
  original.data = nhanes3_NA
)
</code></pre>

<hr>
<h2 id='plot_2num'>Scatter plots for two imputed numeric variables</h2><span id='topic+plot_2num'></span>

<h3>Description</h3>

<p>Plot observed values versus m sets of imputed values for two specified numeric variables using <span class="pkg">ggplot2</span>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_2num(
  imputation.list,
  var.x,
  var.y,
  original.data,
  true.data = NULL,
  color.pal = NULL,
  shape = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_2num_+3A_imputation.list">imputation.list</code></td>
<td>
<p>A list of <code>m</code> imputed datasets returned by the <code>mixgb</code> imputer</p>
</td></tr>
<tr><td><code id="plot_2num_+3A_var.x">var.x</code></td>
<td>
<p>A numeric variable on the x-axis</p>
</td></tr>
<tr><td><code id="plot_2num_+3A_var.y">var.y</code></td>
<td>
<p>A numeric variable on the y-axis</p>
</td></tr>
<tr><td><code id="plot_2num_+3A_original.data">original.data</code></td>
<td>
<p>The original data with missing data</p>
</td></tr>
<tr><td><code id="plot_2num_+3A_true.data">true.data</code></td>
<td>
<p>The true data without missing values. This is generally unknown in practice. If the true data is known (e.g., in cases where it is generated by simulation), it can be specified in this argument. The output will then have an extra panel called <code>MaskedTrue</code>, which shows values originally observed but intentionally made missing.</p>
</td></tr>
<tr><td><code id="plot_2num_+3A_color.pal">color.pal</code></td>
<td>
<p>A vector of hex color codes for the observed and m sets of imputed values panels. The vector should be of length <code>m+1</code>. Default: NULL (use &quot;gray40&quot; for the observed panel, use ggplot2 default colors for other panels.)</p>
</td></tr>
<tr><td><code id="plot_2num_+3A_shape">shape</code></td>
<td>
<p>Whether to plot shapes for different types of missing values. By default, this is set to FALSE to speed up plotting. We only recommend using 'shape = TRUE' for small datasets.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Scatter plots for two numeric/integer variable
</p>


<h3>Examples</h3>

<pre><code class='language-R'># obtain m multiply datasets
params &lt;- list(max_depth = 3, subsample = 0.8, nthread = 2)
imputed.data &lt;- mixgb(data = nhanes3, m = 3, xgb.params = params, nrounds = 30)

# plot the multiply imputed values for variables "BMPRECUM" versus "BMPHEAD"
plot_2num(
  imputation.list = imputed.data, var.x = "BMPHEAD", var.y = "BMPRECUM",
  original.data = nhanes3
)
</code></pre>

<hr>
<h2 id='plot_2num1fac'>Scatter plots for two imputed numeric variables conditional on a factor</h2><span id='topic+plot_2num1fac'></span>

<h3>Description</h3>

<p>Plot observed values versus m sets of imputed values for two specified numeric variables and a factor using <span class="pkg">ggplot2</span>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_2num1fac(
  imputation.list,
  var.x,
  var.y,
  con.fac,
  original.data,
  true.data = NULL,
  color.pal = NULL,
  shape = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_2num1fac_+3A_imputation.list">imputation.list</code></td>
<td>
<p>A list of <code>m</code> imputed datasets returned by the <code>mixgb</code> imputer</p>
</td></tr>
<tr><td><code id="plot_2num1fac_+3A_var.x">var.x</code></td>
<td>
<p>A numeric variable on the x-axis</p>
</td></tr>
<tr><td><code id="plot_2num1fac_+3A_var.y">var.y</code></td>
<td>
<p>A numeric variable on the y-axis</p>
</td></tr>
<tr><td><code id="plot_2num1fac_+3A_con.fac">con.fac</code></td>
<td>
<p>The name of a factor to condition on</p>
</td></tr>
<tr><td><code id="plot_2num1fac_+3A_original.data">original.data</code></td>
<td>
<p>The original data with missing data</p>
</td></tr>
<tr><td><code id="plot_2num1fac_+3A_true.data">true.data</code></td>
<td>
<p>The true data without missing values. This is generally unknown in practice. If the true data is known (e.g., in cases where it is generated by simulation), it can be specified in this argument. The output will then have an extra panel called <code>MaskedTrue</code>, which shows values originally observed but intentionally made missing.</p>
</td></tr>
<tr><td><code id="plot_2num1fac_+3A_color.pal">color.pal</code></td>
<td>
<p>A vector of hex color codes for the observed and m sets of imputed values panels. The vector should be of length <code>m+1</code>. Default: NULL (use &quot;gray40&quot; for the observed panel, use ggplot2 default colors for other panels.)</p>
</td></tr>
<tr><td><code id="plot_2num1fac_+3A_shape">shape</code></td>
<td>
<p>Whether to plot shapes for different types of missing values. By default, this is set to FALSE to speed up plotting. We only recommend using 'shape = TRUE' for small datasets.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Scatter plots
</p>


<h3>Examples</h3>

<pre><code class='language-R'># obtain m multiply datasets
params &lt;- list(max_depth = 3, subsample = 0.8, nthread = 2)
imputed.data &lt;- mixgb(data = nhanes3, m = 3, xgb.params = params, nrounds = 30)

# plot the multiply imputed values for variables "BMPRECUM" versus "BMPHEAD" conditional on "HSSEX"
plot_2num1fac(
  imputation.list = imputed.data, var.x = "BMPHEAD", var.y = "BMPRECUM",
  con.fac = "HSSEX", original.data = nhanes3
)
</code></pre>

<hr>
<h2 id='plot_bar'>Bar plots for multiply imputed values for a single factor variable</h2><span id='topic+plot_bar'></span>

<h3>Description</h3>

<p>Plot bar plots of observed values versus m sets of imputed values for a specified factor variable using <span class="pkg">ggplot2</span>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_bar(
  imputation.list,
  var.name,
  original.data,
  true.data = NULL,
  color.pal = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_bar_+3A_imputation.list">imputation.list</code></td>
<td>
<p>A list of <code>m</code> imputed datasets returned by the <code>mixgb</code> imputer</p>
</td></tr>
<tr><td><code id="plot_bar_+3A_var.name">var.name</code></td>
<td>
<p>The name of a factor variable of interest</p>
</td></tr>
<tr><td><code id="plot_bar_+3A_original.data">original.data</code></td>
<td>
<p>The original data with missing data</p>
</td></tr>
<tr><td><code id="plot_bar_+3A_true.data">true.data</code></td>
<td>
<p>The true data without missing values. This is generally unknown in practice. If the true data is known (e.g., in cases where it is generated by simulation), it can be specified in this argument. The output will then have an extra panel called <code>MaskedTrue</code>, which shows values originally observed but intentionally made missing.</p>
</td></tr>
<tr><td><code id="plot_bar_+3A_color.pal">color.pal</code></td>
<td>
<p>A vector of hex color codes for the observed and m sets of imputed values panels. The vector should be of length <code>m+1</code>. Default: NULL (use &quot;gray40&quot; for the observed panel, use ggplot2 default colors for other panels.)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Bar plots for a factor variable
</p>


<h3>Examples</h3>

<pre><code class='language-R'># create some extra missing values in a factor variable "HSSEX" (originally fully observed)
nhanes3_NA &lt;- createNA(nhanes3, var.names = "HSSEX", p = 0.1)

# obtain m multiply datasets
params &lt;- list(max_depth = 3, subsample = 0.8, nthread = 2)
imputed.data &lt;- mixgb(data = nhanes3_NA, m = 3, xgb.params = params, nrounds = 30)

# plot the multiply imputed values for variable "HSSEX"
plot_bar(
  imputation.list = imputed.data, var.name = "HSSEX",
  original.data = nhanes3_NA
)
</code></pre>

<hr>
<h2 id='plot_box'>Boxplots with data points for multiply imputed values for a single numeric variable</h2><span id='topic+plot_box'></span>

<h3>Description</h3>

<p>Plot boxplots with data points of observed values versus m sets of imputed values for a specified numeric variable using <span class="pkg">ggplot2</span>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_box(
  imputation.list,
  var.name,
  original.data,
  true.data = NULL,
  color.pal = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_box_+3A_imputation.list">imputation.list</code></td>
<td>
<p>A list of <code>m</code> imputed datasets.</p>
</td></tr>
<tr><td><code id="plot_box_+3A_var.name">var.name</code></td>
<td>
<p>The name of a numeric variable of interest.</p>
</td></tr>
<tr><td><code id="plot_box_+3A_original.data">original.data</code></td>
<td>
<p>The original data with missing values.</p>
</td></tr>
<tr><td><code id="plot_box_+3A_true.data">true.data</code></td>
<td>
<p>The true data without missing values. This is generally unknown in practice. If the true data is known (e.g., in cases where it is generated by simulation), it can be specified in this argument. The output will then have an extra panel called <code>MaskedTrue</code>, which shows values originally observed but intentionally made missing.</p>
</td></tr>
<tr><td><code id="plot_box_+3A_color.pal">color.pal</code></td>
<td>
<p>A vector of hex color codes for the observed and m sets of imputed values panels. The vector should be of length <code>m+1</code>. Default: NULL (use &quot;gray40&quot; for the observed panel, use ggplot2 default colors for other panels.)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Boxplots with data points for a numeric variable
</p>


<h3>Examples</h3>

<pre><code class='language-R'># obtain m multiply datasets
params &lt;- list(max_depth = 3, subsample = 0.8, nthread = 2)
imputed.data &lt;- mixgb(data = nhanes3, m = 3, xgb.params = params, nrounds = 30)

# plot the multiply imputed values for variable "BMPHEAD"
plot_box(
  imputation.list = imputed.data, var.name = "BMPHEAD",
  original.data = nhanes3
)
</code></pre>

<hr>
<h2 id='plot_hist'>Histogram with density plots for multiply imputed values for a single numeric variable</h2><span id='topic+plot_hist'></span>

<h3>Description</h3>

<p>Plot histograms with density curves of observed values versus m sets of imputed values for a specified numeric variable using <span class="pkg">ggplot2</span>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_hist(
  imputation.list,
  var.name,
  original.data,
  true.data = NULL,
  color.pal = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_hist_+3A_imputation.list">imputation.list</code></td>
<td>
<p>A list of <code>m</code> imputed datasets returned by the <code>mixgb</code> imputer, or other package.</p>
</td></tr>
<tr><td><code id="plot_hist_+3A_var.name">var.name</code></td>
<td>
<p>The name of a numeric variable of interest.</p>
</td></tr>
<tr><td><code id="plot_hist_+3A_original.data">original.data</code></td>
<td>
<p>The original data with missing values.</p>
</td></tr>
<tr><td><code id="plot_hist_+3A_true.data">true.data</code></td>
<td>
<p>The true data without missing values. This is generally unknown in practice. If the true data is known (e.g., in cases where it is generated by simulation), it can be specified in this argument. The output will then have an extra panel called <code>MaskedTrue</code>, which shows values originally observed but intentionally made missing.</p>
</td></tr>
<tr><td><code id="plot_hist_+3A_color.pal">color.pal</code></td>
<td>
<p>A vector of hex color codes for the observed and m sets of imputed values panels. The vector should be of length <code>m+1</code>. Default: NULL (use &quot;gray40&quot; for the observed panel, use ggplot2 default colors for other panels.)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Histogram with density plots
</p>


<h3>Examples</h3>

<pre><code class='language-R'># obtain m multiply datasets
params &lt;- list(max_depth = 3, subsample = 0.8, nthread = 2)
imputed.data &lt;- mixgb(data = nhanes3, m = 3, xgb.params = params, nrounds = 30)

# plot the multiply imputed values for variable "BMPHEAD"
plot_hist(
  imputation.list = imputed.data, var.name = "BMPHEAD",
  original.data = nhanes3
)
</code></pre>

<hr>
<h2 id='pmm'>PMM for numeric or binary variable</h2><span id='topic+pmm'></span>

<h3>Description</h3>

<p>PMM for numeric or binary variable
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pmm(yhatobs, yhatmis, yobs, k)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pmm_+3A_yhatobs">yhatobs</code></td>
<td>
<p>The predicted values of observed entries in a variable</p>
</td></tr>
<tr><td><code id="pmm_+3A_yhatmis">yhatmis</code></td>
<td>
<p>The predicted values of missing entries in a variable</p>
</td></tr>
<tr><td><code id="pmm_+3A_yobs">yobs</code></td>
<td>
<p>The actual observed values of observed entries in a variable</p>
</td></tr>
<tr><td><code id="pmm_+3A_k">k</code></td>
<td>
<p>The number of donors.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The matched observed values of all missing entries
</p>

<hr>
<h2 id='pmm.multiclass'>PMM for multiclass variable</h2><span id='topic+pmm.multiclass'></span>

<h3>Description</h3>

<p>PMM for multiclass variable
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pmm.multiclass(yhatobs, yhatmis, yobs, k)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pmm.multiclass_+3A_yhatobs">yhatobs</code></td>
<td>
<p>The predicted values of observed entries in a variable</p>
</td></tr>
<tr><td><code id="pmm.multiclass_+3A_yhatmis">yhatmis</code></td>
<td>
<p>The predicted values of missing entries in a variable</p>
</td></tr>
<tr><td><code id="pmm.multiclass_+3A_yobs">yobs</code></td>
<td>
<p>The actual observed values of observed entries in a variable</p>
</td></tr>
<tr><td><code id="pmm.multiclass_+3A_k">k</code></td>
<td>
<p>The number of donors.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The matched observed values of all missing entries
</p>

<hr>
<h2 id='show_var'>Show multiply imputed values for a single variable</h2><span id='topic+show_var'></span>

<h3>Description</h3>

<p>Show m sets of imputed values for a specified variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>show_var(imputation.list, var.name, original.data, true.values = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="show_var_+3A_imputation.list">imputation.list</code></td>
<td>
<p>A list of <code>m</code> imputed datasets returned by the <code>mixgb</code> imputer.</p>
</td></tr>
<tr><td><code id="show_var_+3A_var.name">var.name</code></td>
<td>
<p>The name of a variable of interest.</p>
</td></tr>
<tr><td><code id="show_var_+3A_original.data">original.data</code></td>
<td>
<p>The original data with missing data.</p>
</td></tr>
<tr><td><code id="show_var_+3A_true.values">true.values</code></td>
<td>
<p>A vector of the true values (if known) of the missing values. In general, this is unknown (<code>true.values = NULL</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.table with <code>m</code> columns, each of which represents a set of imputed values for the variable of interest. If <code>true.values</code> is provided, an additional column will display the true values of the missing values.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># obtain m multiply datasets
params &lt;- list(max_depth = 3, subsample = 1, nthread = 2)
mixgb.data &lt;- mixgb(data = nhanes3, m = 3, xgb.params = params, nrounds = 20)

imputed.BMPHEAD &lt;- show_var(
  imputation.list = mixgb.data, var.name = "BMPHEAD",
  original.data = nhanes3
)
imputed.BMPHEAD
</code></pre>

<hr>
<h2 id='sortNA'>Sort data by increasing number of missing values</h2><span id='topic+sortNA'></span>

<h3>Description</h3>

<p>Sort data by increasing number of missing values
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sortNA(data)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

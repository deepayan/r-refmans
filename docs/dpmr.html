<!DOCTYPE html><html><head><title>Help for package dpmr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {dpmr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#datapackage_info'><p>Return key meta information about the data package</p></a></li>
<li><a href='#datapackage_init'><p>Initialise a data package from a data frame, metadata list, and source code</p>
file used to create the data set.</a></li>
<li><a href='#datapackage_install'><p>Install a data package</p></a></li>
<li><a href='#meta_template'><p>Template for datapackage.json</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Data Package Manager for R</td>
</tr>
<tr>
<td>Description:</td>
<td>Create, install, and summarise data packages that follow
    the Open Knowledge Foundation's Data Package Protocol.</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.9</td>
</tr>
<tr>
<td>Date:</td>
<td>2016-03-06</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="http://cran.r-project.org/package=dpmr">http://cran.r-project.org/package=dpmr</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/christophergandrud/dpmr/issues">https://github.com/christophergandrud/dpmr/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>digest, httr, jsonlite, magrittr, rio</td>
</tr>
<tr>
<td>Suggests:</td>
<td>devtools, testthat</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>5.0.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2016-03-07 06:43:52 UTC; christophergandrud</td>
</tr>
<tr>
<td>Author:</td>
<td>Christopher Gandrud [aut, cre],
  Yann-Ael Le Borgne [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Christopher Gandrud &lt;christopher.gandrud@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2016-03-07 08:08:34</td>
</tr>
</table>
<hr>
<h2 id='datapackage_info'>Return key meta information about the data package</h2><span id='topic+datapackage_info'></span>

<h3>Description</h3>

<p>Return key meta information about the data package
</p>


<h3>Usage</h3>

<pre><code class='language-R'>datapackage_info(path, as_list = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="datapackage_info_+3A_path">path</code></td>
<td>
<p>character string file path to the data package. If empty, then
the datapackage.json meta data file is searched for in the working directory.
Can also accept a datapackage.json file parsed in R as a list.</p>
</td></tr>
<tr><td><code id="datapackage_info_+3A_as_list">as_list</code></td>
<td>
<p>logical indicating whether or not to return the
datapackage.json file as a list.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Print information when working directory is a data package
datapackage_info()

## End(Not run)

</code></pre>

<hr>
<h2 id='datapackage_init'>Initialise a data package from a data frame, metadata list, and source code
file used to create the data set.</h2><span id='topic+datapackage_init'></span>

<h3>Description</h3>

<p>Initialise a data package from a data frame, metadata list, and source code
file used to create the data set.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>datapackage_init(df, package_name = NULL, output_dir = getwd(),
  meta = NULL, source_cleaner = NULL, source_cleaner_rename = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="datapackage_init_+3A_df">df</code></td>
<td>
<p>The object name of the data frame you would like to convert into a
data package.</p>
</td></tr>
<tr><td><code id="datapackage_init_+3A_package_name">package_name</code></td>
<td>
<p>character string name for the data package. Unnecessary
if the <code>name</code> field is specified in <code>meta</code>.</p>
</td></tr>
<tr><td><code id="datapackage_init_+3A_output_dir">output_dir</code></td>
<td>
<p>character string naming the output directory to save the
data package into. By default the current working directory is used.</p>
</td></tr>
<tr><td><code id="datapackage_init_+3A_meta">meta</code></td>
<td>
<p>The list object with the data frame's meta data. The list
item names must conform to the Open Knowledge Foundation's Data Package
Protocol (see <a href="http://dataprotocols.org/data-packages/">http://dataprotocols.org/data-packages/</a>). Must include
the <code>name</code>, <code>license</code>, and <code>version</code> fields.
If <code>resources</code> is not specified then this will be automatically
generated. <code>dpmr</code> uses <code>jsonlite</code> to convert the list into a
JSON file. See the <code><a href="jsonlite.html#topic+toJSON">toJSON</a></code> documentation for details.
If <code>meta = NULL</code> then a barebones <code>datapackage.json</code> file will be
created.</p>
</td></tr>
<tr><td><code id="datapackage_init_+3A_source_cleaner">source_cleaner</code></td>
<td>
<p>a character string or vector of file paths relative to
the current working directory pointing to the source code file used to gather
and clean the <code>df</code> data frame. Can be in R or any other language, e.g.
Python. Following Data Package convention the scripts are renamed
<code>process*.*</code>, unless specified otherwise with
<code>source_cleaner_rename</code>. <code>source_cleaner</code> is not required, but
HIGHLY RECOMMENDED.</p>
</td></tr>
<tr><td><code id="datapackage_init_+3A_source_cleaner_rename">source_cleaner_rename</code></td>
<td>
<p>logical. Whether or not to rename the
<code>source_cleaner</code> files.</p>
</td></tr>
<tr><td><code id="datapackage_init_+3A_...">...</code></td>
<td>
<p>arguments to pass to <code><a href="rio.html#topic+export">export</a></code>.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Create fake data
A &lt;- B &lt;- C &lt;- sample(1:20, size = 20, replace = TRUE)
ID &lt;- sort(rep('a', 20))
Data &lt;- data.frame(ID, A, B, C)

# Initialise data package with barebones, automatically generated metadata
datapackage_init(df = Data, package_name = 'my-data-package')

# Initialise with user specified metadata
meta_list &lt;- list(name = 'my-data-package',
                 title = 'A fake data package',
                 last_updated = Sys.Date(),
                 version = '0.1',
                 license = data.frame(type = 'PDDL-1.0',
                          url = 'http://opendatacommons.org/licenses/pddl/'),
                 sources = data.frame(name = 'Fake',
                          web = 'No URL, its fake.'))

 datapackage_init(df = Data, meta = meta_list)

## End(Not run)

</code></pre>

<hr>
<h2 id='datapackage_install'>Install a data package</h2><span id='topic+datapackage_install'></span>

<h3>Description</h3>

<p>Install a data package
</p>


<h3>Usage</h3>

<pre><code class='language-R'>datapackage_install(path, load_file, full_meta = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="datapackage_install_+3A_path">path</code></td>
<td>
<p>character string path to the data package directory. Can be a
local directory or a URL. If a URL is given the package will be installed
in the current working directory. If the file is compressed
then it currently must be <code>.zip</code>-ped.</p>
</td></tr>
<tr><td><code id="datapackage_install_+3A_load_file">load_file</code></td>
<td>
<p>character string specifying the path of the data file to
load into R. The correct file paths will be printed when the function runs.
By default the first file in the datapackage.json path list is
loaded.
Note: only one file can be loaded at a time.</p>
</td></tr>
<tr><td><code id="datapackage_install_+3A_full_meta">full_meta</code></td>
<td>
<p>logical. Wheter or not to return the full datapackage.json
metadata. Note: when <code>TRUE</code> only the meta data is returned not the data.</p>
</td></tr>
<tr><td><code id="datapackage_install_+3A_...">...</code></td>
<td>
<p>arguments to pass to <code><a href="rio.html#topic+import">import</a></code>.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Load a data package called gdp stored in the current working directory:
gdp_data = datapackage_install(path = 'gdp')

# Install the gdp data package from GitHub using its .zip URL
URL &lt;- 'https://github.com/datasets/gdp/archive/master.zip'
gdp_data &lt;- datapackage_install(path = URL)

# Install co2 data
library(dplyr)
co2_data &lt;- "https://github.com/datasets/co2-ppm/archive/master.zip" %&gt;%
         datapackage_install()

## End(Not run)
</code></pre>

<hr>
<h2 id='meta_template'>Template for datapackage.json</h2><span id='topic+meta_template'></span>

<h3>Description</h3>

<p>Template for datapackage.json
</p>


<h3>Usage</h3>

<pre><code class='language-R'>meta_template(df, name, data_paths)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="meta_template_+3A_df">df</code></td>
<td>
<p>The data frame object name of the data frame you would like to
convert into a data package.</p>
</td></tr>
<tr><td><code id="meta_template_+3A_name">name</code></td>
<td>
<p>character string name of the datapackage.</p>
</td></tr>
<tr><td><code id="meta_template_+3A_data_paths">data_paths</code></td>
<td>
<p>character vector of df paths.</p>
</td></tr>
</table>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

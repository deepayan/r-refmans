<!DOCTYPE html><html><head><title>Help for package abstr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {abstr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#%&gt;%'><p>Pipe operator</p></a></li>
<li><a href='#ab_json'><p>Convert geographic ('sf') representation of OD data to 'JSON list' structure</p></a></li>
<li><a href='#ab_save'><p>Save OD data as JSON files for import into A/B Street</p></a></li>
<li><a href='#ab_scenario'><p>Generate A/B Street Scenario objects by disaggregating aggregate OD data</p></a></li>
<li><a href='#ab_sf'><p>Convert JSON representation of trips from A/B Street into an 'sf' object</p></a></li>
<li><a href='#ab_time_normal'><p>Generate times for A/B scenarios</p></a></li>
<li><a href='#leeds_site_area'><p>Datasets from Leeds</p></a></li>
<li><a href='#montlake_buildings'><p>Example OSM Buildings Table for Montlake</p></a></li>
<li><a href='#montlake_od'><p>Example OD Table for Montlake</p></a></li>
<li><a href='#montlake_zones'><p>Example Zones Table for Montlake</p></a></li>
<li><a href='#sao_paulo_activity_df_20'><p>Example Activity data for São Paulo</p></a></li>
<li><a href='#sao_paulo_activity_sf_20'><p>Example Activity data for São Paulo</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>R Interface to the A/B Street Transport System Simulation
Software</td>
</tr>
<tr>
<td>Version:</td>
<td>0.4.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides functions to convert origin-destination data,
    represented as straight 'desire lines' in the 'sf' Simple Features
    class system, into JSON files that can be directly imported into
    A/B Street <a href="https://www.abstreet.org">https://www.abstreet.org</a>, a free and open source tool
    for simulating urban transport systems and scenarios of change
    &lt;<a href="https://doi.org/10.1007%2Fs10109-020-00342-2">doi:10.1007/s10109-020-00342-2</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License (&ge; 2)</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/a-b-street/abstr">https://github.com/a-b-street/abstr</a>,
<a href="https://a-b-street.github.io/abstr/">https://a-b-street.github.io/abstr/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/a-b-street/abstr/issues">https://github.com/a-b-street/abstr/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.0.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>jsonlite (&ge; 1.7.2), lwgeom (&ge; 0.2.5), magrittr (&ge; 2.0.1),
methods, od (&ge; 0.3.1), sf (&ge; 1.0.1), tibble (&ge; 3.0.6), tidyr
(&ge; 1.1.3)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, dplyr (&ge; 1.0.0), rmarkdown, tmap, pct, foreign</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-11-26 21:32:54 UTC; natha</td>
</tr>
<tr>
<td>Author:</td>
<td>Nathanael Sheehan <a href="https://orcid.org/0000-0002-2779-0976"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Robin Lovelace <a href="https://orcid.org/0000-0001-5679-6536"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Trevor Nederlof [aut],
  Lucas Dias [ctb],
  Dustin Carlino [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Nathanael Sheehan &lt;nathanaelsheehan@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-11-30 08:10:05 UTC</td>
</tr>
</table>
<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>See <code>magrittr::<a href="magrittr.html#topic+pipe">%&gt;%</a></code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_lhs">lhs</code></td>
<td>
<p>A value or the magrittr placeholder.</p>
</td></tr>
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_rhs">rhs</code></td>
<td>
<p>A function call using the magrittr semantics.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The result of calling <code>rhs(lhs)</code>.
</p>

<hr>
<h2 id='ab_json'>Convert geographic ('sf') representation of OD data to 'JSON list' structure</h2><span id='topic+ab_json'></span>

<h3>Description</h3>

<p>This function takes outputs from <code><a href="#topic+ab_scenario">ab_scenario()</a></code> and returns a list that
can be saved as a JSON file for import into A/B Street.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ab_json(
  desire_lines,
  mode_column = NULL,
  time_fun = ab_time_normal,
  scenario_name = "test",
  default_purpose = "Work",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ab_json_+3A_desire_lines">desire_lines</code></td>
<td>
<p>OD data represented as geographic lines created by
<code><a href="#topic+ab_scenario">ab_scenario()</a></code>.</p>
</td></tr>
<tr><td><code id="ab_json_+3A_mode_column">mode_column</code></td>
<td>
<p>The column name in the desire lines data that contains
the mode of transport. <code>"mode_baseline"</code> by default.</p>
</td></tr>
<tr><td><code id="ab_json_+3A_time_fun">time_fun</code></td>
<td>
<p>The function used to calculate departure times.
<code>ab_time_normal()</code> by default.</p>
</td></tr>
<tr><td><code id="ab_json_+3A_scenario_name">scenario_name</code></td>
<td>
<p>The name of the scenario to appear in A/B Street.
The default value is <code>"test"</code>, which generates a message to tell you to
think of a more imaginative scenario name!</p>
</td></tr>
<tr><td><code id="ab_json_+3A_default_purpose">default_purpose</code></td>
<td>
<p>In case a <code>purpose</code> column is not present in the input,
or there are missing values in the <code>purpose</code> column, this argument sets
the default, fallback purpose, as <code>"Work"</code> by default, reflecting the
prevalence of work-based data and thinking in transport models.</p>
</td></tr>
<tr><td><code id="ab_json_+3A_...">...</code></td>
<td>
<p>Additional arguments to pass to <code><a href="#topic+ab_json">ab_json()</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note: the departure time in seconds is multiplied by 10000 on conversion
to a .json list object for compatibility with the A/B Street schema.
</p>


<h3>Value</h3>

<p>A list that can be saved as a JSON file with <code><a href="#topic+ab_save">ab_save()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Starting with tabular data
od = leeds_od
od[[1]] = c("E02006876")
zones = leeds_zones
ablines = ab_scenario(od, zones = zones)
ab_list = ab_json(ablines, mode_column = "mode", scenario_name = "test")
ab_list$scenario
f = tempfile(fileext = ".json")
ab_save(ab_list, f)
readLines(f)[1:30]

# Starting with JSON data from A/B Street (multiple trips per person)
f = system.file("extdata/minimal_scenario2.json", package = "abstr")
desire_lines = ab_sf(f)
desire_lines
json_list = ab_json(desire_lines)
json_list
</code></pre>

<hr>
<h2 id='ab_save'>Save OD data as JSON files for import into A/B Street</h2><span id='topic+ab_save'></span>

<h3>Description</h3>

<p>Save OD data as JSON files for import into A/B Street
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ab_save(x, f)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ab_save_+3A_x">x</code></td>
<td>
<p>A list object produced by <code><a href="#topic+ab_scenario">ab_scenario()</a></code></p>
</td></tr>
<tr><td><code id="ab_save_+3A_f">f</code></td>
<td>
<p>A filename, e.g. <code>new_scenario.json</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A JSON file containing scenarios from ab_scenario()
</p>

<hr>
<h2 id='ab_scenario'>Generate A/B Street Scenario objects by disaggregating aggregate OD data</h2><span id='topic+ab_scenario'></span>

<h3>Description</h3>

<p>This function takes a data frame representing origin-destination trip data
in 'long' form, zones and, optionally, buildings from where trips can
start and end as inputs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ab_scenario(
  od,
  zones,
  zones_d = NULL,
  origin_buildings = NULL,
  destination_buildings = NULL,
  pop_var = 3,
  time_fun = ab_time_normal,
  output = "sf",
  modes = c("Walk", "Bike", "Transit", "Drive"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ab_scenario_+3A_od">od</code></td>
<td>
<p>Origin destination data with the first 2 columns containing
zone code of origin and zone code of destination. Subsequent
columns should be mode names such as All and Walk, Bike, Transit, Drive,
representing the number of trips made by each mode of transport
for use in A/B Street.</p>
</td></tr>
<tr><td><code id="ab_scenario_+3A_zones">zones</code></td>
<td>
<p>Zones with IDs that match the desire lines. Class: <code>sf</code>.</p>
</td></tr>
<tr><td><code id="ab_scenario_+3A_zones_d">zones_d</code></td>
<td>
<p>Optional destination zones with IDs
that match the second column of the <code>od</code> data frame (work in progress)</p>
</td></tr>
<tr><td><code id="ab_scenario_+3A_origin_buildings">origin_buildings</code></td>
<td>
<p>Polygons where trips will originate (<code>sf</code> object)</p>
</td></tr>
<tr><td><code id="ab_scenario_+3A_destination_buildings">destination_buildings</code></td>
<td>
<p>Polygons where trips can end, represented as <code>sf</code> object</p>
</td></tr>
<tr><td><code id="ab_scenario_+3A_pop_var">pop_var</code></td>
<td>
<p>The variable containing the total population of each desire line.</p>
</td></tr>
<tr><td><code id="ab_scenario_+3A_time_fun">time_fun</code></td>
<td>
<p>The function used to calculate departure times.
<code>ab_time_normal()</code> by default.</p>
</td></tr>
<tr><td><code id="ab_scenario_+3A_output">output</code></td>
<td>
<p>Which output format?
<code>"sf"</code> (default) and <code>"json_list"</code> return R objects.
A file name such as <code>"baseline.json"</code> will save the resulting scenario
to a file.</p>
</td></tr>
<tr><td><code id="ab_scenario_+3A_modes">modes</code></td>
<td>
<p>Character string containing the names of the modes of travel to
include in the outputs. These must match column names in the <code>od</code> input
data frame. The default is <code>c("Walk", "Bike", "Drive", "Transit")</code>,
matching the mode names allowed in the A/B Street scenario schema.</p>
</td></tr>
<tr><td><code id="ab_scenario_+3A_...">...</code></td>
<td>
<p>Additional arguments to pass to <code><a href="#topic+ab_json">ab_json()</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>An <code>sf</code> object by default representing individual trips
between randomly selected points (or buildings when available)
between the zones represented in the OD data.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>od = leeds_od
zones = leeds_zones
od[[1]] = c("E02006876")
ablines = ab_scenario(od, zones = zones)
plot(ablines)
table(ablines$mode)
colSums(od[3:7]) # 0.17 vs 0.05 for ab_scenario
ablines = ab_scenario(od, zones = zones, origin_buildings = leeds_buildings)
plot(leeds_zones$geometry)
plot(leeds_buildings$geometry, add = TRUE)
plot(ablines["mode"], add = TRUE)
ablines_json = ab_json(ablines, scenario_name = "test")
od = leeds_desire_lines
names(od)[4:6] = c("Walk", "Bike", "Drive")
ablines = ab_scenario(
  od = od,
  zones = leeds_site_area,
  zones_d = leeds_zones,
  origin_buildings = leeds_houses,
  destination_buildings = leeds_buildings,
  output = "sf"
)
plot(ablines)
plot(ablines$geometry)
plot(leeds_site_area$geometry, add = TRUE)
plot(leeds_buildings$geometry, add = TRUE)
</code></pre>

<hr>
<h2 id='ab_sf'>Convert JSON representation of trips from A/B Street into an 'sf' object</h2><span id='topic+ab_sf'></span>

<h3>Description</h3>

<p>This function takes a path to a JSON file representing an A/B Street
scenario, or an R representation of the JSON in a list, and returns
an <code>sf</code> object with the same structure as objects returned by
<code><a href="#topic+ab_scenario">ab_scenario()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ab_sf(json)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ab_sf_+3A_json">json</code></td>
<td>
<p>Character string or list representing a JSON file or list that
has been read into R and converted to a data frame.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note: the departure time in seconds is divided by 10000 on conversion
to represent seconds, which are easier to work with that 10,000th of
a second units.
</p>


<h3>Value</h3>

<p>An <code>sf</code> data frame representing travel behaviour scenarios
from, and which can be fed into, A/B Street. Contains the following
columns: person (the ID of each agent in the simulation),
departure (seconds after midnight of the travel starting),
mode (the mode of transport, being <code>Walk</code>, <code>Bike</code>, <code>Transit</code> and <code>Drive</code>),
purpose (what the trip was for, e.g. <code>Work</code>), and
geometry (a linestring showing the start and end point of the trip/stage).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>file_name = system.file("extdata/minimal_scenario2.json", package = "abstr")
ab_sf(file_name)
json = jsonlite::read_json(file_name, simplifyVector = TRUE)
ab_sf(json)
</code></pre>

<hr>
<h2 id='ab_time_normal'>Generate times for A/B scenarios</h2><span id='topic+ab_time_normal'></span>

<h3>Description</h3>

<p>Generate times for A/B scenarios
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ab_time_normal(hr = 8.5, sd = 0.5, n = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ab_time_normal_+3A_hr">hr</code></td>
<td>
<p>Number representing the hour of day of departure (on average).
8.5, for example represents 08:30.</p>
</td></tr>
<tr><td><code id="ab_time_normal_+3A_sd">sd</code></td>
<td>
<p>The standard deviation in hours of the distribution</p>
</td></tr>
<tr><td><code id="ab_time_normal_+3A_n">n</code></td>
<td>
<p>The number of numbers representing times to return</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An integer representing the time since midnight in seconds
</p>


<h3>Examples</h3>

<pre><code class='language-R'>time_lunch = ab_time_normal(hr = 12.5, sd = 0.25)
time_lunch
# Back to a formal time class
as.POSIXct(trunc(Sys.time(), units="days") + time_lunch)
time_morning = ab_time_normal(hr = 8.5, sd = 0.5)
as.POSIXct(trunc(Sys.time(), units="days") + time_morning)
time_afternoon = ab_time_normal(hr = 17, sd = 0.75)
as.POSIXct(trunc(Sys.time(), units="days") + time_afternoon)
</code></pre>

<hr>
<h2 id='leeds_site_area'>Datasets from Leeds</h2><span id='topic+leeds_site_area'></span><span id='topic+leeds_houses'></span><span id='topic+leeds_buildings'></span><span id='topic+leeds_desire_lines'></span><span id='topic+leeds_zones'></span><span id='topic+leeds_od'></span>

<h3>Description</h3>

<p>These datasets represent data from the case study city of Leeds.
</p>

<hr>
<h2 id='montlake_buildings'>Example OSM Buildings Table for Montlake</h2><span id='topic+montlake_buildings'></span>

<h3>Description</h3>

<p>Each row of this table contains a building that exists within a
zone in the <code>montlake_zones</code> table.
</p>


<h3>Format</h3>

<p>A sf dataframe with columns:
</p>

<dl>
<dt>osm_way_id</dt><dd><p>OSM ID assigned to each building.</p>
</dd>
<dt>name</dt><dd><p>OSM name assigned to each building (might be NA).</p>
</dd>
<dt>building</dt><dd><p>OSM building category assigned to each building.</p>
</dd>
<dt>geometry</dt><dd><p>Simple feature collection (sfc) contain multipolygons,
each representing the boundaries of a building.</p>
</dd>
</dl>



<h3>Details</h3>

<p>These buildings were retrieved using <code>osmextract::oe_read()</code>. See the code used to
create this data in <a href="https://github.com/a-b-street/abstr/blob/main/data-raw/montlake-test-data.R"><code>data-raw/montlake-test-data.R</code></a>.
</p>


<h3>Source</h3>

<p>OpenStreetMap
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(sf)
names(montlake_buildings)
head(montlake_buildings$osm_way_id)
head(montlake_buildings$name)
head(montlake_buildings$building)
nrow(montlake_buildings)
plot(montlake_buildings)
</code></pre>

<hr>
<h2 id='montlake_od'>Example OD Table for Montlake</h2><span id='topic+montlake_od'></span>

<h3>Description</h3>

<p>Each row of this table contains a count of how many trips started in
column <code>o_id</code> and ended in column <code>d_id</code> according to different modes.
This example table has modes that match what A/B Street currently uses:
&quot;Drive&quot;, &quot;Transit&quot;, &quot;Bike&quot;, and &quot;Walk&quot;.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>montlake_od
</code></pre>


<h3>Format</h3>

<p>A data frame with columns:
</p>

<dl>
<dt>o_id</dt><dd><p>Trip origin zone ID (must match an ID in <code>montlake_zone</code>).</p>
</dd>
<dt>d_id</dt><dd><p>Trip destination zone ID (must match an ID in <code>montlake_zone</code>).</p>
</dd>
<dt>Drive</dt><dd><p>Count of how many trips were made using cars.</p>
</dd>
<dt>Transit</dt><dd><p>Count of how many trips were made using public transit.</p>
</dd>
<dt>Bike</dt><dd><p>Count of how many trips were made using bikes.</p>
</dd>
<dt>Walk</dt><dd><p>Count of how many trips were made on foot.</p>
</dd>
</dl>



<h3>Details</h3>

<p>See the code used to create this data in &quot;data-raw/montlake-test-data.R&quot;
</p>

<hr>
<h2 id='montlake_zones'>Example Zones Table for Montlake</h2><span id='topic+montlake_zones'></span>

<h3>Description</h3>

<p>Each row of this table contains the zone ID and geometry for a TAZ near
Montlake. Includes all zones that start or end within the Montlake
boundary and have at least 25 trips across all modes of transit in
<code>montlake_od</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>montlake_zones
</code></pre>


<h3>Format</h3>

<p>A sf dataframe with columns:
</p>

<dl>
<dt>id</dt><dd><p>Zone ID (must match <code>o_id</code> or <code>d_id</code> in <code>montlake_od</code>).</p>
</dd>
<dt>geometry</dt><dd><p>Simple feature collection (sfc) contain multipolygons,
each representing the boundaries of a TAZ near Montlake.</p>
</dd>
</dl>



<h3>Details</h3>

<p>See the code used to create this data in &quot;data-raw/montlake-test-data.R&quot;
</p>

<hr>
<h2 id='sao_paulo_activity_df_20'>Example Activity data for São Paulo</h2><span id='topic+sao_paulo_activity_df_20'></span><span id='topic+sao_paulo_activity_df_2'></span>

<h3>Description</h3>

<p>Each row of this table contains a single trip of people in the São Paulo city.
<code>sao_paulo_activity_df_2</code> represents the movement of 2 people,
<code>sao_paulo_activity_df_20</code> represents the movement of 20 people.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sao_paulo_activity_df_20
</code></pre>


<h3>Format</h3>

<p>A data frame with columns:
</p>

<dl>
<dt>ID_PESS</dt><dd><p>Person identifier.</p>
</dd>
<dt>CO_O_X</dt><dd><p>Origin coordinate X.</p>
</dd>
<dt>CO_O_Y</dt><dd><p>Origin coordinate Y.</p>
</dd>
<dt>CO_D_X</dt><dd><p>Destination coordinate X.</p>
</dd>
<dt>CO_D_Y</dt><dd><p>Destination coordinate Y.</p>
</dd>
<dt>MODOPRIN</dt><dd><p>Main mode.</p>
</dd>
<dt>H_SAIDA</dt><dd><p>Departure hour.</p>
</dd>
<dt>MIN_SAIDA</dt><dd><p>Departure minute.</p>
</dd>
</dl>



<h3>Details</h3>

<p>See the code used to create this data, and the full open dataset with
128 variables, the file
<a href="https://github.com/a-b-street/abstr/blob/main/data-raw/sao-paulo-activity-data.R">data-raw/sao-paulo-activity-data.R</a>
in the package's GitHub repo.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dim(sao_paulo_activity_df_20)
names(sao_paulo_activity_df_20)
head(sao_paulo_activity_df_20)
dim(sao_paulo_activity_df_2)
names(sao_paulo_activity_df_2)
head(sao_paulo_activity_df_2)
</code></pre>

<hr>
<h2 id='sao_paulo_activity_sf_20'>Example Activity data for São Paulo</h2><span id='topic+sao_paulo_activity_sf_20'></span><span id='topic+sao_paulo_activity_sf_2'></span>

<h3>Description</h3>

<p>Each row of this table contains a single trip of people in the São Paulo city.
<code>sao_paulo_activity_sf_2</code> represents the movement of 2 people,
<code>sao_paulo_activity_sf_20</code> represents the movement of 20 people.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sao_paulo_activity_sf_20
</code></pre>


<h3>Format</h3>

<p>A data frame with columns:
</p>

<dl>
<dt>person</dt><dd><p>Person identifier.</p>
</dd>
<dt>departure</dt><dd><p>Departure time in seconds past midnight</p>
</dd>
<dt>mode</dt><dd><p>Mode of travel in A/B Street terms</p>
</dd>
<dt>purpose</dt><dd><p>Purpose of travel in A/B Street terms</p>
</dd>
<dt>geometry</dt><dd><p>Geometry of the linestring representing the OD pair</p>
</dd>
</dl>



<h3>Details</h3>

<p>See the code used to create this data, and the full open dataset with
128 variables, the file
<a href="https://github.com/a-b-street/abstr/blob/main/data-raw/sao-paulo-activity-data.R">data-raw/sao-paulo-activity-data.R</a>
in the package's GitHub repo.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dim(sao_paulo_activity_sf_20)
names(sao_paulo_activity_sf_20)
head(sao_paulo_activity_sf_20)
table(sao_paulo_activity_sf_20$mode)
table(sao_paulo_activity_sf_20$purpose)
dim(sao_paulo_activity_sf_2)
names(sao_paulo_activity_sf_2)
head(sao_paulo_activity_sf_2)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

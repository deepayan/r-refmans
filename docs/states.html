<!DOCTYPE html><html lang="en"><head><title>Help for package states</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {states}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#states'><p>State system membership</p></a></li>
<li><a href='#.warner'><p>Temporary helper function to warn about argument order change</p></a></li>
<li><a href='#compare'><p>Compare two statelists</p></a></li>
<li><a href='#country_names'><p>Country names</p></a></li>
<li><a href='#cowstates'><p>Correlates of War list of independent states</p></a></li>
<li><a href='#gwstates'><p>Gleditsch and Ward list of independent states</p></a></li>
<li><a href='#id_date_sequence'><p>Identify date sequences</p></a></li>
<li><a href='#id_period'><p>ID time period</p></a></li>
<li><a href='#index_date'><p>Index date</p></a></li>
<li><a href='#parse_date'><p>Parse date</p></a></li>
<li><a href='#plot_missing'><p>Visualize missing and non-proper cases for state panel data</p></a></li>
<li><a href='#polity'><p>Polity IV combined Polity scores</p></a></li>
<li><a href='#prettyc'><p>Shorten country names</p></a></li>
<li><a href='#sfind'><p>Lookup country codes or names</p></a></li>
<li><a href='#state_panel'><p>Create state panel data</p></a></li>
<li><a href='#state_panel_date'><p>State panel constructor</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Create Panels of Independent States</td>
</tr>
<tr>
<td>Version:</td>
<td>0.3.2</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Andreas Beger &lt;adbeger@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Create panel data consisting of independent states from 1816 to
    the present. The package includes the Gleditsch &amp; Ward (G&amp;W) and Correlates
    of War (COW) lists of independent states, as well as helper functions for 
    working with state panel data and standardizing other data sources to 
    create country-year/month/etc. data. </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr, rlang, methods, lifecycle</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 2.1.0), ggplot2, stringr, knitr, rmarkdown,
covr, pkgdown, DT</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/andybega/states">https://github.com/andybega/states</a>,
<a href="https://www.andybeger.com/states/">https://www.andybeger.com/states/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/andybega/states/issues">https://github.com/andybega/states/issues</a></td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-09-05 11:58:53 UTC; andybega</td>
</tr>
<tr>
<td>Author:</td>
<td>Andreas Beger <a href="https://orcid.org/0000-0003-1883-3169"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [cre, aut]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-09-05 12:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='states'>State system membership</h2><span id='topic+states'></span><span id='topic+states-package'></span>

<h3>Description</h3>

<p>Create data based on the Gleditsch &amp; Ward (G&amp;W) or Correlates of
War (COW) state system memberships lists. This is useful as a template
for merging other sources of data that have conflicting sets of states.
</p>


<h3>Details</h3>

<p>See static docs at https://andybeger.com/states and the source code
at https://www.github.com/andybega/states
</p>


<h3>References</h3>

<div class="sourceCode"><pre>Gleditsch, Kristian S. &amp; Michael D. Ward. 1999. ``Interstate System
  Membership: A Revised List of the Independent States since 1816.''
  International Interactions 25: 393-413.

Correlates of War Project. 2017. ``State System Membership List, v2016.''
  Online, http://correlatesofwar.org
</pre></div>

<hr>
<h2 id='.warner'>Temporary helper function to warn about argument order change</h2><span id='topic+.warner'></span>

<h3>Description</h3>

<p>Temporary helper function to warn about argument order change
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.warner(data, x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id=".warner_+3A_data">data</code></td>
<td>
<p>data.frame</p>
</td></tr>
<tr><td><code id=".warner_+3A_x">x</code></td>
<td>
<p>string</p>
</td></tr>
</table>

<hr>
<h2 id='compare'>Compare two statelists</h2><span id='topic+compare'></span><span id='topic+report'></span>

<h3>Description</h3>

<p>Check set overlap between two state lists / data frames, e.g.
prior to merging them.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compare(
  df1,
  df2,
  state1 = "gwcode",
  time1 = "year",
  state2 = "gwcode",
  time2 = "year"
)

report(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="compare_+3A_df1">df1</code></td>
<td>
<p>data frame</p>
</td></tr>
<tr><td><code id="compare_+3A_df2">df2</code></td>
<td>
<p>data frame</p>
</td></tr>
<tr><td><code id="compare_+3A_state1">state1</code></td>
<td>
<p>(<code>character(1)</code>) Name of the country ID var in df1, default
&quot;gwcode&quot;</p>
</td></tr>
<tr><td><code id="compare_+3A_time1">time1</code></td>
<td>
<p>(<code>character(1)</code>) Name of the time ID var in df1, default &quot;year&quot;</p>
</td></tr>
<tr><td><code id="compare_+3A_state2">state2</code></td>
<td>
<p>(<code>character(1)</code>) Name of the country ID var in df2, default
&quot;gwcode&quot;</p>
</td></tr>
<tr><td><code id="compare_+3A_time2">time2</code></td>
<td>
<p>(<code>character(1)</code>) Name of the time ID var in df2, default &quot;year&quot;</p>
</td></tr>
<tr><td><code id="compare_+3A_x">x</code></td>
<td>
<p>a &quot;state_sets&quot; object produced by <code>compare()</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is a helper for interactively debugging data merges for data
that may have slightly different state lists. For example, these
differences in case sets could be because of country code differences.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># df2 has all countries in 2018 but some values in x1 are missing
df1 &lt;- state_panel(2018, 2018, partial = "any")
df1$x1 &lt;- round(runif(nrow(df1))*5)
df1$x1[sample.int(nrow(df1), size = 20, replace = FALSE)] &lt;- NA

# df2 is missing some countries and also has missing values in x2
df2 &lt;- state_panel(2018, 2018, partial = "any")
df2 &lt;- df2[sample.int(nrow(df2), size = 150), ]
df2$x2 &lt;- round(runif(nrow(df2))*5)
df2$x2[sample.int(nrow(df2), size = 20, replace = FALSE)] &lt;- NA

comp &lt;- compare(df1, df2)
comp

report(comp)

</code></pre>

<hr>
<h2 id='country_names'>Country names</h2><span id='topic+country_names'></span>

<h3>Description</h3>

<p>Country names
</p>


<h3>Usage</h3>

<pre><code class='language-R'>country_names(x, list = "GW", shorten = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="country_names_+3A_x">x</code></td>
<td>
<p>(<code><a href="base.html#topic+numeric">numeric()</a></code>)<br />
A vector of numeric country codes</p>
</td></tr>
<tr><td><code id="country_names_+3A_list">list</code></td>
<td>
<p>(<code>logical(1)</code>)<br />
Which states list to use? Only &quot;GW&quot; at this time.</p>
</td></tr>
<tr><td><code id="country_names_+3A_shorten">shorten</code></td>
<td>
<p>(<code>logical(1)</code>)<br />
Shorten some of the longer country names like &quot;Macedonia, the former Yugoslav Republic of&quot;?</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>data("gwstates")
codes &lt;- gwstates$gwcode
cn    &lt;- country_names(codes)
cs    &lt;- country_names(codes, shorten = TRUE)
data.frame(gwcode = codes, country_name = cn, short_names = cs)

</code></pre>

<hr>
<h2 id='cowstates'>Correlates of War list of independent states</h2><span id='topic+cowstates'></span>

<h3>Description</h3>

<p>A list of independent states and microstates from 1816 on by
the Correlates of War project.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cowstates
</code></pre>


<h3>Format</h3>

<p>Data frame
</p>

<dl>
<dt><code>ccode</code></dt><dd><p>Gleditsch and Ward country code.</p>
</dd>
<dt><code>cowc</code></dt><dd><p>ISO 3 character country code.</p>
</dd>
<dt><code>country_name</code></dt><dd><p>Long form country name</p>
</dd>
<dt><code>start</code></dt><dd><p>Country start of independence.</p>
</dd>
<dt><code>end</code></dt><dd><p>Country end of independence.</p>
</dd>
<dt><code>microstate</code></dt><dd><p>Logical flag for whether state is a microstates with less than 250,000 population.</p>
</dd>
</dl>



<h3>Source</h3>

<p>Correlates of War Project. 2011. &quot;State System Membership List, v2011.&quot;
Online, <a href="https://correlatesofwar.org">https://correlatesofwar.org</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(cowstates)
head(cowstates)
</code></pre>

<hr>
<h2 id='gwstates'>Gleditsch and Ward list of independent states</h2><span id='topic+gwstates'></span>

<h3>Description</h3>

<p>A list of independent states and microstates from 1816 on by
Gleditsch and Ward
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gwstates
</code></pre>


<h3>Format</h3>

<p>Data frame
</p>

<dl>
<dt><code>gwcode</code></dt><dd><p>Gleditsch and Ward country code.</p>
</dd>
<dt><code>gwc</code></dt><dd><p>G&amp;W character country code. This is derived from the COW character codes.</p>
</dd>
<dt><code>country_name</code></dt><dd><p>Long form country name</p>
</dd>
<dt><code>start</code></dt><dd><p>Country start of independence.</p>
</dd>
<dt><code>end</code></dt><dd><p>Country end of independence.</p>
</dd>
<dt><code>microstate</code></dt><dd><p>Logical flag for whether state is a microstates with less than 250,000 population.</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="http://ksgleditsch.com/data-4.html">http://ksgleditsch.com/data-4.html</a>
</p>


<h3>References</h3>

<p>Gleditsch, Kristian S. and Michael D. Ward. 1999. &quot;Interstate System
Membership: A Revised List of the Independent States since 1816.&quot;
<em>International Interactions</em> 25.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(gwstates)
head(gwstates)
</code></pre>

<hr>
<h2 id='id_date_sequence'>Identify date sequences</h2><span id='topic+id_date_sequence'></span>

<h3>Description</h3>

<p>For correctly plotting country-time period spells
</p>


<h3>Usage</h3>

<pre><code class='language-R'>id_date_sequence(x, pd = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="id_date_sequence_+3A_x">x</code></td>
<td>
<p>a Date sequence</p>
</td></tr>
<tr><td><code id="id_date_sequence_+3A_pd">pd</code></td>
<td>
<p>what is the time aggregation period in the data?</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>library("ggplot2")
d1 &lt;- as.Date("2018-01-01")
d2 &lt;- as.Date("2025-01-01")
seq1 &lt;- seq(d1, d2, by = "year")
data.frame(seq1, id=id_date_sequence(seq1, "year"))
# With a gap, should be two ids
df &lt;- data.frame(date = seq1[-4], id=id_date_sequence(seq1[-4], "year"), cowcode = 999)
df

# The point is to plot countries with interrupted independence correctly:
df$y &lt;- c(rep(1, 3), rep(2, 4))
df$id &lt;- paste0(df$cowcode, df$id)
df
ggplot(df, aes(x = date, y = y, group = cowcode)) + geom_line()
ggplot(df, aes(x = date, y = y, group = id)) + geom_line()

# Shortcut for integer years:
yr &lt;- c(2002:2005, 2007:2010)
data.frame(year = yr, id = id_date_sequence(yr))
</code></pre>

<hr>
<h2 id='id_period'>ID time period</h2><span id='topic+id_period'></span>

<h3>Description</h3>

<p>Try to ID the time period implied by input format
</p>


<h3>Usage</h3>

<pre><code class='language-R'>id_period(x)
</code></pre>

<hr>
<h2 id='index_date'>Index date</h2><span id='topic+index_date'></span>

<h3>Description</h3>

<p>Find the first day of the time intervals in which a set of dates fall
</p>


<h3>Usage</h3>

<pre><code class='language-R'>index_date(x, period)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="index_date_+3A_x">x</code></td>
<td>
<p>a <code><a href="base.html#topic+Dates">base::Date()</a></code> vector</p>
</td></tr>
<tr><td><code id="index_date_+3A_period">period</code></td>
<td>
<p>a time period, e.g. &quot;year&quot; or &quot;month&quot;</p>
</td></tr>
</table>

<hr>
<h2 id='parse_date'>Parse date</h2><span id='topic+parse_date'></span>

<h3>Description</h3>

<p>Try to parse input as a date
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parse_date(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="parse_date_+3A_x">x</code></td>
<td>
<p>a integer or character vector, see examples</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>parse_date(2006)
parse_date("2006")
parse_date("2006-06")
parse_date("2006-06-01")
parse_date(as.Date("2006-06-01"))

</code></pre>

<hr>
<h2 id='plot_missing'>Visualize missing and non-proper cases for state panel data</h2><span id='topic+plot_missing'></span><span id='topic+missing_info'></span>

<h3>Description</h3>

<p>Plot missing values by country and date, and additionally identify country-date
cases that do or do not match an independent state list.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_missing(
  data,
  x = NULL,
  ccode = NULL,
  time = NULL,
  period = NULL,
  statelist = NULL,
  partial = "any",
  skip_labels = 5,
  space = deprecated()
)

missing_info(
  data,
  x = NULL,
  ccode = NULL,
  time = NULL,
  period = NULL,
  statelist = NULL,
  partial = NULL,
  space = deprecated()
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot_missing_+3A_data">data</code></td>
<td>
<p>State panel data frame</p>
</td></tr>
<tr><td><code id="plot_missing_+3A_x">x</code></td>
<td>
<p>Variable names(s), e.g. &quot;x&quot; or c(&quot;x1&quot;, &quot;x2&quot;). Default is NULL, in
which case all columns expect the ccode and time ID columns will be used.</p>
</td></tr>
<tr><td><code id="plot_missing_+3A_ccode">ccode</code></td>
<td>
<p>Name of variable identifying state country codes. If NULL
(default) and one of &quot;gwcode&quot; or &quot;cowcode&quot; is a column in the data, it
will be used.</p>
</td></tr>
<tr><td><code id="plot_missing_+3A_time">time</code></td>
<td>
<p>Name of time identifier. If NULL and a &quot;date&quot; or &quot;year&quot; column
are in the data, they will be used (&quot;year&quot;, preferentially, if both are
present)</p>
</td></tr>
<tr><td><code id="plot_missing_+3A_period">period</code></td>
<td>
<p>Time period in which the data are. NULL by default and inferred
to be &quot;year&quot; if the &quot;time&quot; column has name &quot;year&quot; or contains integers with
a range between 1799 and 2050. Required if the &quot;time&quot; column is a
<code><a href="base.html#topic+Dates">base::Date()</a></code> vector to avoid ambiguity.</p>
</td></tr>
<tr><td><code id="plot_missing_+3A_statelist">statelist</code></td>
<td>
<p>Check not only missing values, but presence or absence of
observations against a list of independent states? One of &quot;GW&quot;, &quot;COW&quot; or
&quot;none&quot;. NULL by default, in which case it will be inferred if the
ccode columns have the name &quot;gwcode&quot; or &quot;cowcode&quot;, and &quot;none&quot; otherwise.</p>
</td></tr>
<tr><td><code id="plot_missing_+3A_partial">partial</code></td>
<td>
<p>Option for how to handle edge cases where a state is independent
for only part of a time period (year, month, etc.). Options include
&quot;exact&quot;, and &quot;any&quot;. See <code><a href="#topic+state_panel">state_panel()</a></code> for details. If NULL (default) and
the &quot;time&quot; column is a date, it will be set to &quot;exact&quot;, for yearly
&quot;time&quot; columns it will be set to &quot;any&quot;.</p>
</td></tr>
<tr><td><code id="plot_missing_+3A_skip_labels">skip_labels</code></td>
<td>
<p>Only plot the label for every n-th country on the y-axis
to avoid overplotting.</p>
</td></tr>
<tr><td><code id="plot_missing_+3A_space">space</code></td>
<td>
<p>Deprecated, use &quot;ccode&quot; argument instead.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>missing_info</code> provides the information that is plotted with
<code>plot_missing</code>. The latter returns a ggplot, and thus can be chained
with other ggplot functions as usual.
</p>


<h3>Value</h3>

<p><code>plot_missing</code> returns a ggplot2 object.
</p>
<p><code>missing_info</code> returns a data frame with components:
</p>
<table role = "presentation">
<tr><td><code>ccode</code></td>
<td>
<p>ccode identifier, with name equal to the &quot;ccode&quot; argument, e.g. &quot;ccode&quot;.</p>
</td></tr>
<tr><td><code>time</code></td>
<td>
<p>Time identifier, with name equal to the &quot;time&quot; argument, e.g. &quot;date&quot;.</p>
</td></tr>
<tr><td><code>independent</code></td>
<td>
<p>A logical vector, is the statelist argument is none, NA.</p>
</td></tr>
<tr><td><code>missing_value</code></td>
<td>
<p>A logical vector indicating if that record has missing values</p>
</td></tr>
<tr><td><code>status</code></td>
<td>
<p>The label used for plotting, combining the independence and missing value information for a case as appropriate.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># Create an example data frame with missing values
cy &lt;- state_panel(as.Date("1980-06-30"), as.Date("2015-06-30"), by = "year",
useGW = TRUE)
cy$myvar &lt;- rnorm(nrow(cy))
set.seed(1234)
cy$myvar[sample(1:nrow(cy), nrow(cy)*.1, replace = FALSE)] &lt;- NA
str(cy)

# Visualize missing values:
plot_missing(cy, statelist = "none")

# missing_info() generates the data underlying plot_missing():
head(missing_info(cy, statelist =  "none"))

# if we specify a statelist to check against, 'independent' will have values
# now:
head(missing_info(cy, statelist = "GW"))

# Check data also against G&amp;W list of independent states
head(missing_info(cy, statelist = "GW"))
plot_missing(cy, statelist = "GW")

# Live example with Polity data
data("polity")
head(polity)
plot_missing(polity, x = "polity", ccode = "ccode", time = "year",
             statelist = "COW")
# COW starts in 1816; Polity has excess data for several non-independent
# states after that date, and is missing coverage for several countries.

# The date option is relevant for years in which states gain or lose
# independence, so this will be slighlty different:
polity$date &lt;- as.Date(paste0(polity$year, "-01-01"))
polity$year &lt;- NULL
plot_missing(polity, x = "polity", ccode = "ccode", time = "date",
             period = "year", statelist = "COW")

# plot_missing returns a ggplot2 object, so you can do anything you want
polity$year &lt;- as.integer(substr(polity$date, 1, 4))
polity$date &lt;- NULL
plot_missing(polity, ccode = "ccode", statelist = "COW") +
  ggplot2::coord_flip()

</code></pre>

<hr>
<h2 id='polity'>Polity IV combined Polity scores</h2><span id='topic+polity'></span>

<h3>Description</h3>

<p>Polity scores reflect how democratic or autocratic countries are
from a scale of -10 (autocratic) to 10 (democratic). There are also three
special codes for foreign &quot;interruption&quot; (-66), anarchy (-77), and transition
periods (-88).
</p>
<p>The data are included here for as an example for use with the missing plot.
Thus they do not contain all available Polity indicators, which are
available at the Polity project website www.systemicpeace.org.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>polity
</code></pre>


<h3>Format</h3>

<p>Data frame
</p>

<dl>
<dt><code>ccode</code></dt><dd><p>Correlates of War (COW) country code.</p>
</dd>
<dt><code>year</code></dt><dd><p>Year of the observation.</p>
</dd>
<dt><code>polity</code></dt><dd><p>Combined Polity score.</p>
</dd>
</dl>



<h3>Source</h3>

<p>Marshall, Monty G., Ted Robert Gurr, and Keith Jaggers. 2017. &ldquo;Polity IV
Project: Dataset Users' Manual.&rdquo; <a href="https://www.systemicpeace.org/inscr/p4manualv2016.pdf">https://www.systemicpeace.org/inscr/p4manualv2016.pdf</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("polity")
head("polity")
</code></pre>

<hr>
<h2 id='prettyc'>Shorten country names</h2><span id='topic+prettyc'></span>

<h3>Description</h3>

<p>Shorten country names
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prettyc(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prettyc_+3A_x">x</code></td>
<td>
<p>(<code><a href="base.html#topic+character">character()</a></code>)<br />
Country names, e.g. from <code><a href="#topic+country_names">country_names()</a></code>.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>cn &lt;- c(
  "Macedonia, the former Yugoslav Republic of",
  "Congo, the Democratic Republic of the",
  "Tanzania, United Republic of")
prettyc(cn)

</code></pre>

<hr>
<h2 id='sfind'>Lookup country codes or names</h2><span id='topic+sfind'></span>

<h3>Description</h3>

<p>Helper to look up state list entries by country code or name
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sfind(x, list = "both")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sfind_+3A_x">x</code></td>
<td>
<p>The search string or number.</p>
</td></tr>
<tr><td><code id="sfind_+3A_list">list</code></td>
<td>
<p>Which state list to search (both, GW, or COW only)</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># Works with either integer or strings
sfind(325)
sfind("ALG")
sfind("Algeria")

# Search strings are treated as regular expressions (see stringr::str_detect)
sfind("Germany")
sfind("German")
</code></pre>

<hr>
<h2 id='state_panel'>Create state panel data</h2><span id='topic+state_panel'></span>

<h3>Description</h3>

<p>Create panel data consisting of independent states in the international system.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>state_panel(start, end, by = NULL, partial = "any", useGW = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="state_panel_+3A_start">start</code></td>
<td>
<p>Beginning date for data, see <code><a href="#topic+parse_date">parse_date()</a></code> for format options.</p>
</td></tr>
<tr><td><code id="state_panel_+3A_end">end</code></td>
<td>
<p>End date for data, see <code><a href="#topic+parse_date">parse_date()</a></code> for format options.</p>
</td></tr>
<tr><td><code id="state_panel_+3A_by">by</code></td>
<td>
<p>Temporal resolution, &quot;year&quot;, &quot;month&quot;, or &quot;day&quot;. If NULL, inferred
from start and end input format, e.g. <code style="white-space: pre;">&#8288;start = 2006`` implies &#8288;</code>by = &quot;year&quot;'.</p>
</td></tr>
<tr><td><code id="state_panel_+3A_partial">partial</code></td>
<td>
<p>Option for how to handle edge cases where a state is independent
for only part of a time period (year, month, etc.). Options include
<code>"exact"</code>, <code>"first"</code>, <code>"last"</code>, and <code>"any"</code>. See details.</p>
</td></tr>
<tr><td><code id="state_panel_+3A_usegw">useGW</code></td>
<td>
<p>Use Gleditsch &amp; Ward statelist or Correlates of War state system
membership list.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The partial option determines how to handle instances where a country gains
or loses independence during a time period specified in the by option:
</p>

<ul>
<li><p> &quot;exact&quot;: the exact date in start is used for filtering
</p>
</li>
<li><p> &quot;any&quot;: a state-period is included if the state was independent at any point
in that period.
</p>
</li>
<li><p> &quot;first&quot;: same as &quot;exact&quot; with the first date in a time period, e.g.
&quot;2006-01-01&quot;.
</p>
</li>
<li><p> &quot;last&quot;: last date in a period. For &quot;yearly&quot; data, this is the same as
&quot;exact&quot; with a start date like &quot;YYYY-12-21&quot;, but for calendar months
the last date varies, hence the need for this option.
</p>
</li></ul>



<h3>Value</h3>

<p>A <code><a href="base.html#topic+data.frame">base::data.frame()</a></code> with 2 columns for the country code and date
information. The column names and types differ slightly based on the
&quot;useGW&quot; and &quot;by&quot; arguments.
</p>

<ul>
<li><p> The first column will be &quot;gwcode&quot; if <code>useGW = TRUE</code> (the default), and
&quot;cowcode&quot; otherwise.
</p>
</li>
<li><p> The second column is an integer vector with name &quot;year&quot; for country-year
data (if <code>by</code> or the inferred <code>by</code> value is &quot;year&quot;), and a <code><a href="base.html#topic+Dates">base::Date()</a></code>
vector with the name &quot;date&quot; otherwise.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'># Basic usage with full option set specified:
gwlist  &lt;- state_panel("1991-01-01", "2015-01-01", by = "year",
                       partial = "any", useGW = TRUE)
head(gwlist, 3)
cowlist &lt;- state_panel("1991-01-01", "2015-01-01", by = "year",
                       partial = "any", useGW = FALSE)
head(cowlist, 3)

# For yearly data, a proper date is not needed, and by = "year" and
# partial = "any" are inferred.
gwlist &lt;- state_panel(1990, 1995)
sfind(265, list = "GW")
265 %in% gwlist$gwcode

# Partials
# Focus on South Sudan--is there a record for 2011, first year of indendence?
data(gwstates)
dplyr::filter(gwstates, gwcode==626)

# No 2011 because SSD was not indpendent on January 1st 2011
x &lt;- state_panel(2011, 2013, partial = "first")
dplyr::filter(x, gwcode==626)

# Includes 2011 because 12-31 date is used for filtering
x &lt;- state_panel("2011-12-31", "2013-12-31", by = "year", partial = "exact")
dplyr::filter(x, gwcode==626)

# Includes 2011 because partial = "any"
x &lt;- state_panel("2011-01-01", "2013-01-01", by = "year", partial = "any")
dplyr::filter(x, gwcode==626)

</code></pre>

<hr>
<h2 id='state_panel_date'>State panel constructor</h2><span id='topic+state_panel_date'></span>

<h3>Description</h3>

<p>Internal state panel constructor without input checking and fluff to allow
argument shortcuts like start = 2000 instead of a full date
</p>


<h3>Usage</h3>

<pre><code class='language-R'>state_panel_date(start, end, by, partial, useGW)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="state_panel_date_+3A_start">start</code></td>
<td>
<p>length 1 date</p>
</td></tr>
<tr><td><code id="state_panel_date_+3A_end">end</code></td>
<td>
<p>length 1 date</p>
</td></tr>
<tr><td><code id="state_panel_date_+3A_by">by</code></td>
<td>
<p>time period</p>
</td></tr>
<tr><td><code id="state_panel_date_+3A_partial">partial</code></td>
<td>
<p>how to handle partial interval overlap</p>
</td></tr>
<tr><td><code id="state_panel_date_+3A_usegw">useGW</code></td>
<td>
<p>Use G&amp;W statelist (<code>TRUE</code>), or COW (<code>FALSE</code>)?</p>
</td></tr>
</table>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

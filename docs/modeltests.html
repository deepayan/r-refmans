<!DOCTYPE html><html><head><title>Help for package modeltests</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {modeltests}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#acceptable_augment_colnames'><p>Determine acceptable names for augment output</p></a></li>
<li><a href='#argument_glossary'><p>Allowed argument names in tidiers</p></a></li>
<li><a href='#augment_data_helper'><p>Get copies of a dataset with various rowname behaviors</p></a></li>
<li><a href='#check_arguments'><p>Check that tidying methods use allowed argument names</p></a></li>
<li><a href='#check_augment_data_specification'><p>Check that augment behavior is consistent for dataframes and tibbles</p></a></li>
<li><a href='#check_augment_function'><p>Check an augment method</p></a></li>
<li><a href='#check_augment_newdata_precedence'><p>Check that newdata argument has higher precedence than data argument</p></a></li>
<li><a href='#check_augment_no_data'><p>Check an augment method when no data or newdata is passed</p></a></li>
<li><a href='#check_dims'><p>Check that tibble has expected dimensions.</p></a></li>
<li><a href='#check_glance_outputs'><p>Check the output of a glance method</p></a></li>
<li><a href='#check_single_augment_output'><p>Check the output of an augment method</p></a></li>
<li><a href='#check_tibble'><p>Check the output of a tidying method</p></a></li>
<li><a href='#check_tidy_output'><p>Check the output of a tidy method</p></a></li>
<li><a href='#column_glossary'><p>Allowed column names in tidied tibbles</p></a></li>
<li><a href='#has_rownames'><p>Check whether or not a data-frame-like object has rownames</p></a></li>
<li><a href='#modeltests-package'><p>modeltests: Testing Infrastructure for Broom Model Generics</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Testing Infrastructure for Broom Model Generics</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.5</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides a number of testthat tests that can be
    used to verify that tidy(), glance() and augment() methods meet
    consistent specifications. This allows methods for the same generic to
    be spread across multiple packages, since all of those packages can
    make the same guarantees to users about returned objects.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/alexpghayes/modeltests">https://github.com/alexpghayes/modeltests</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/alexpghayes/modeltests/issues">https://github.com/alexpghayes/modeltests/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.1)</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr (&ge; 0.7.6), generics, purrr (&ge; 0.2.5), testthat (&ge;
2.0.0), tibble (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-02-03 04:26:21 UTC; alex</td>
</tr>
<tr>
<td>Author:</td>
<td>Alex Hayes <a href="https://orcid.org/0000-0002-4985-5160"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre],
  Simon Couch [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Alex Hayes &lt;alexpghayes@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-02-03 05:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='acceptable_augment_colnames'>Determine acceptable names for augment output</h2><span id='topic+acceptable_augment_colnames'></span>

<h3>Description</h3>

<p>Given a data frame (or tibble), and a model object, makes a
character vector of acceptable columns names for augment output. This
includes:
</p>

<ul>
<li><p> Any column names of the passed dataset
</p>
</li>
<li><p> Any syntactically correct column names generated by calling
<code><a href="stats.html#topic+model.frame">stats::model.frame()</a></code> on the object in question.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>acceptable_augment_colnames(object, passed_data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="acceptable_augment_colnames_+3A_object">object</code></td>
<td>
<p>A model object.</p>
</td></tr>
<tr><td><code id="acceptable_augment_colnames_+3A_passed_data">passed_data</code></td>
<td>
<p>The dataset used to create the model object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of colnames that are acceptable in augment output.
</p>

<hr>
<h2 id='argument_glossary'>Allowed argument names in tidiers</h2><span id='topic+argument_glossary'></span>

<h3>Description</h3>

<p>Allowed argument names in tidiers
</p>


<h3>Usage</h3>

<pre><code class='language-R'>argument_glossary
</code></pre>


<h3>Format</h3>

<p>A tibble with 3 variables:
</p>

<dl>
<dt>method</dt><dd><p>One of &quot;glance&quot;, &quot;augment&quot; or &quot;tidy&quot;.</p>
</dd>
<dt>argument</dt><dd><p>Character name of allowed argument name.</p>
</dd>
<dt>description</dt><dd><p>Character description of argument use.</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>argument_glossary
</code></pre>

<hr>
<h2 id='augment_data_helper'>Get copies of a dataset with various rowname behaviors</h2><span id='topic+augment_data_helper'></span>

<h3>Description</h3>

<p>Helper function for <code><a href="#topic+check_augment_data_specification">check_augment_data_specification()</a></code>. There should be no need
to ever use this directly in tests. Takes a dataset and returns a list
with three copies of the dataset. Optionally introduces <code>NA</code> values into
the dataset. Useful for checking that tibbles, data frames, and data frames with
rownames are treated equivalently.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>augment_data_helper(data, add_missing)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="augment_data_helper_+3A_data">data</code></td>
<td>
<p>A data set as a <code>data.frame</code> or <code>tibble</code>.</p>
</td></tr>
<tr><td><code id="augment_data_helper_+3A_add_missing">add_missing</code></td>
<td>
<p>Whether or not to set some values in <code>data</code> to <code>NA</code>.
When <code>TRUE</code> sets the diagonal elements of <code>data</code> to <code>NA</code> and adds a
row of all <code>NA</code>s to the end of data. This ensures that every column
has missing data. Defaults to <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with three copies of <code>data</code>:
</p>

<ul>
<li> <p><strong>tibble</strong>: the data in a <code><a href="tibble.html#topic+tibble">tibble::tibble()</a></code>.
</p>
</li>
<li> <p><strong>no_row</strong>: the data in a <code><a href="base.html#topic+data.frame">data.frame()</a></code> without row names.
</p>
</li>
<li> <p><strong>row_nm</strong>: the data in a <code>data.frame</code>, with row names.
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="base.html#topic+.row_names_info">.row_names_info()</a></code>, <code><a href="base.html#topic+rownames">rownames()</a></code>, <code><a href="tibble.html#topic+rownames">tibble::rownames_to_column()</a></code>
</p>

<hr>
<h2 id='check_arguments'>Check that tidying methods use allowed argument names</h2><span id='topic+check_arguments'></span>

<h3>Description</h3>

<p>Call this function to perform tests. If a tests fails, an informative error
will be thrown. Otherwise silent.
</p>
<p>Tests when <code>strict = FALSE</code>:
</p>

<ul>
<li><p> None
</p>
</li></ul>

<p>Tests when <code>strict = TRUE</code>:
</p>

<ul>
<li> <p><code>tidy_method</code> has a <code>conf.int</code> argument if it has a <code>conf.level</code> argument.
</p>
</li>
<li> <p><code>tidy_method</code> has a <code>conf.level</code> argument if it has a <code>conf.int</code> argument.
</p>
</li>
<li> <p><code>conf.int</code> defaults to <code>FALSE</code> when present.
</p>
</li>
<li> <p><code>conf.level</code> defaults to '0.95&ldquo; when present.
</p>
</li>
<li> <p><code>exponentiate</code> defaults to <code>FALSE</code> when present.
</p>
</li>
<li><p> All arguments to <code>tidy_method</code> are listed in the <a href="#topic+argument_glossary">argument_glossary</a>.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>check_arguments(tidy_method, strict = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_arguments_+3A_tidy_method">tidy_method</code></td>
<td>
<p>A tidying method. For example: <code>glance.Arima</code>.</p>
</td></tr>
<tr><td><code id="check_arguments_+3A_strict">strict</code></td>
<td>
<p>Logical indicating whether the strict version of tests should be used. Defaults
to <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An invisible <code>NULL</code>. This function should be called for side effects, not return values.
</p>


<h3>See Also</h3>

<p><a href="testthat.html#topic+testthat">testthat</a>, <code><a href="testthat.html#topic+logical-expectations">testthat::expect_true()</a></code>
</p>

<hr>
<h2 id='check_augment_data_specification'>Check that augment behavior is consistent for dataframes and tibbles</h2><span id='topic+check_augment_data_specification'></span>

<h3>Description</h3>

<p>Call this function to perform tests. If a tests fails, an informative error
will be thrown. Otherwise silent.
</p>
<p>Uses <code><a href="#topic+augment_data_helper">augment_data_helper()</a></code> to create copies of the same dataset as
a tibble, data frame and dataframe with rownames. When <code>add_missing = TRUE</code> these
datasets have missing values along the diagonal, and one row of entirely missing
values. Once the datasets have been generated, tests that:
</p>

<ul>
<li> <p><code>augment(fit, data = generated_dataset)</code> passes <code><a href="#topic+check_tibble">check_tibble()</a></code> for each
generated dataset.
</p>
</li>
<li><p> Output of <code>augment(fit, data = generated_dataset)</code> is the same for all three
generated datasets, except the data frame with rownames should also generate
a <code>.rownames</code> column that the tibble and nameless data frame do not.
</p>
</li></ul>

<p>Additional tests when <code>test_newdata = TRUE</code>:
</p>

<ul>
<li> <p><code>head(aug(model, newdata = data))</code> equals <code>aug(head(model, newdata = data))</code>.
This commutativity check catches issues where the output of <code>predict</code> changes
for the same data point depending on the rest of the dataset.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>check_augment_data_specification(aug, model, data, add_missing, test_newdata)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_augment_data_specification_+3A_aug">aug</code></td>
<td>
<p>An augment method. For example, <code>augment.betareg</code>.</p>
</td></tr>
<tr><td><code id="check_augment_data_specification_+3A_model">model</code></td>
<td>
<p>A fit model object to call the augment method on.</p>
</td></tr>
<tr><td><code id="check_augment_data_specification_+3A_data">data</code></td>
<td>
<p>A data frame or tibble to use when testing <code>aug</code>.</p>
</td></tr>
<tr><td><code id="check_augment_data_specification_+3A_add_missing">add_missing</code></td>
<td>
<p>Logical indicating whether or not missing data should be
introduced into the datasets generated with <code><a href="#topic+augment_data_helper">augment_data_helper()</a></code>. This
missing data is only used to test the <code>newdata</code> argument, not the <code>data</code>
argument.</p>
</td></tr>
<tr><td><code id="check_augment_data_specification_+3A_test_newdata">test_newdata</code></td>
<td>
<p>Logical indicating whether the <code>newdata</code> argument behavior
should be tested instead of the <code>data</code> argument behavior.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An invisible <code>NULL</code>. This function should be called for side effects, not return values.
</p>

<hr>
<h2 id='check_augment_function'>Check an augment method</h2><span id='topic+check_augment_function'></span>

<h3>Description</h3>

<p>Call this function to perform tests. If a tests fails, an informative error
will be thrown. Otherwise silent.
</p>
<p>Test when <code>strict = FALSE</code>:
</p>

<ul>
<li> <p><code>aug(model, data = data)</code> passes <code><a href="#topic+check_tibble">check_tibble()</a></code>
</p>
</li>
<li> <p><code>aug(model, newdata = newdata)</code> passes <code><a href="#topic+check_tibble">check_tibble()</a></code>
</p>
</li></ul>

<p>Additional tests when <code>strict = TRUE</code>:
</p>

<ul>
<li> <p><code>aug(model, data = data)</code> passes <code><a href="#topic+check_augment_data_specification">check_augment_data_specification()</a></code>.
</p>
</li>
<li> <p><code>aug(model, newdata = newdata)</code> passes <code><a href="#topic+check_augment_data_specification">check_augment_data_specification()</a></code>.
</p>
</li>
<li> <p><code>aug(model, newdata = newdata)</code> passes <code><a href="#topic+check_augment_data_specification">check_augment_data_specification()</a></code>
with <code>add_missing = TRUE</code>.
</p>
</li>
<li><p> If <code>aug</code> has a <code>newdata</code> argument, the <code>newdata</code> argument takes precedence
over a <code>data</code> argument, i.e. calls <code><a href="#topic+check_augment_newdata_precedence">check_augment_newdata_precedence()</a></code>.
</p>
</li>
<li> <p><code>aug</code> either gives an informative error or produces a reasonable tibble,
i.e. calls <code><a href="#topic+check_augment_no_data">check_augment_no_data()</a></code>.
</p>
</li></ul>

<p>Note that it doesn't make sense to test that <code>aug(model, data = data)</code>
passes <code><a href="#topic+check_augment_data_specification">check_augment_data_specification()</a></code> with <code>add_missing = TRUE</code>. This is
because the user is already guaranteeing that <code>data</code> is the original dataset
used to create <code>model</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_augment_function(aug, model, data = NULL, newdata = NULL, strict = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_augment_function_+3A_aug">aug</code></td>
<td>
<p>An augment method. For example, <code>augment.betareg</code>.</p>
</td></tr>
<tr><td><code id="check_augment_function_+3A_model">model</code></td>
<td>
<p>A fit model object to call the augment method on.</p>
</td></tr>
<tr><td><code id="check_augment_function_+3A_data">data</code></td>
<td>
<p>A data frame or tibble to use when testing <code>aug</code>.</p>
</td></tr>
<tr><td><code id="check_augment_function_+3A_newdata">newdata</code></td>
<td>
<p>A dataset to use to check the <code>newdata</code> behavior, ideally distinct
for the dataset used to check the <code>data</code> behavior.</p>
</td></tr>
<tr><td><code id="check_augment_function_+3A_strict">strict</code></td>
<td>
<p>Logical indicating whether the strict version of tests should be used. Defaults
to <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An invisible <code>NULL</code>. This function should be called for side effects, not return values.
</p>

<hr>
<h2 id='check_augment_newdata_precedence'>Check that newdata argument has higher precedence than data argument</h2><span id='topic+check_augment_newdata_precedence'></span>

<h3>Description</h3>

<p>Call this function to perform tests. If a tests fails, an informative error
will be thrown. Otherwise silent.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_augment_newdata_precedence(aug, model, data, strict = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_augment_newdata_precedence_+3A_aug">aug</code></td>
<td>
<p>An augment method. For example, <code>augment.betareg</code>.</p>
</td></tr>
<tr><td><code id="check_augment_newdata_precedence_+3A_model">model</code></td>
<td>
<p>A fit model object to call the augment method on.</p>
</td></tr>
<tr><td><code id="check_augment_newdata_precedence_+3A_data">data</code></td>
<td>
<p>A data frame or tibble to use when testing <code>aug</code>.</p>
</td></tr>
<tr><td><code id="check_augment_newdata_precedence_+3A_strict">strict</code></td>
<td>
<p>Logical indicating whether the strict version of tests should be used. Defaults
to <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An invisible <code>NULL</code>. This function should be called for side effects, not return values.
</p>

<hr>
<h2 id='check_augment_no_data'>Check an augment method when no data or newdata is passed</h2><span id='topic+check_augment_no_data'></span>

<h3>Description</h3>

<p>Call this function to perform tests. If a tests fails, an informative error
will be thrown. Otherwise silent.
</p>
<p>Test when <code>strict = FALSE</code>:
</p>

<ul>
<li><p> None
</p>
</li></ul>

<p>Additional tests when <code>strict = TRUE</code>:
</p>

<ul>
<li> <p><code>aug(model)</code> either returns an informative error or produces output
that passes <code><a href="#topic+check_tibble">check_tibble()</a></code>.
</p>
</li>
<li><p> If the output passes <code>check_tibble</code>, will issue warning when:
</p>

<ul>
<li><p> Augmented data is missing rows from original data.
</p>
</li>
<li><p> Augmented data is missing columns from original data.
</p>
</li>
<li><p> Original data has rownames but ugmented data is missing <code>.rownames</code>
column.
</p>
</li></ul>

</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>check_augment_no_data(aug, model, passed_data, strict = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_augment_no_data_+3A_aug">aug</code></td>
<td>
<p>An augment method. For example, <code>augment.betareg</code>.</p>
</td></tr>
<tr><td><code id="check_augment_no_data_+3A_model">model</code></td>
<td>
<p>A fit model object to call the augment method on.</p>
</td></tr>
<tr><td><code id="check_augment_no_data_+3A_passed_data">passed_data</code></td>
<td>
<p>The dataset that <code>model</code> was original fit on that
<code>aug</code> should try to reconstruct when neither <code>data</code> nor <code>newdata</code> is
specified.</p>
</td></tr>
<tr><td><code id="check_augment_no_data_+3A_strict">strict</code></td>
<td>
<p>Logical indicating whether the strict version of tests should be used. Defaults
to <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An invisible <code>NULL</code>. This function should be called for side effects, not return values.
</p>

<hr>
<h2 id='check_dims'>Check that tibble has expected dimensions.</h2><span id='topic+check_dims'></span>

<h3>Description</h3>

<p>Check that tibble has expected dimensions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_dims(data, expected_rows = NULL, expected_cols = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_dims_+3A_data">data</code></td>
<td>
<p>A tibble or data frame.</p>
</td></tr>
<tr><td><code id="check_dims_+3A_expected_rows">expected_rows</code></td>
<td>
<p>Expected number of rows of tibble.</p>
</td></tr>
<tr><td><code id="check_dims_+3A_expected_cols">expected_cols</code></td>
<td>
<p>Expected number of columns of tibble.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>
check_dims(iris, expected_rows = 150)

</code></pre>

<hr>
<h2 id='check_glance_outputs'>Check the output of a glance method</h2><span id='topic+check_glance_outputs'></span>

<h3>Description</h3>

<p>Call this function to perform tests. If a tests fails, an informative error
will be thrown. Otherwise silent.
</p>
<p>Tests when <code>strict = FALSE</code>:
</p>

<ul>
<li><p> Each item passed to <code>...</code> passes <code><a href="#topic+check_tibble">check_tibble()</a></code>
</p>
</li>
<li><p> Each item passed to <code>...</code> has exactly 1 row.
</p>
</li></ul>

<p>Additional tests when <code>strict = TRUE</code>:
</p>

<ul>
<li><p> Column names and order agree across all elements of <code>...</code>.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>check_glance_outputs(..., strict = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_glance_outputs_+3A_...">...</code></td>
<td>
<p>Outputs returned from calls to (the same) <a href="generics.html#topic+glance">glance</a> method.</p>
</td></tr>
<tr><td><code id="check_glance_outputs_+3A_strict">strict</code></td>
<td>
<p>Logical indicating whether the strict version of tests should be used. Defaults
to <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An invisible <code>NULL</code>. This function should be called for side effects, not return values.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+check_tibble">check_tibble()</a></code>
</p>

<hr>
<h2 id='check_single_augment_output'>Check the output of an augment method</h2><span id='topic+check_single_augment_output'></span>

<h3>Description</h3>

<p>Call this function to perform tests. If a tests fails, an informative error
will be thrown. Otherwise silent.
</p>
<p>Test when <code>strict = FALSE</code>:
</p>

<ul>
<li> <p><code>au</code> passes <code><a href="#topic+check_tibble">check_tibble()</a></code>.
</p>
</li>
<li><p> All column names present in <code>passed_data</code> are also present in <code>au</code>.
</p>
</li></ul>

<p>Additional tests when <code>strict = TRUE</code>:
</p>

<ul>
<li><p> If <code>passed_data</code> has rownames other than simple row numbers (i.e. <code>paste(1:5)</code>),
<code>au</code> contains a column called <code>.rownames</code>.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>check_single_augment_output(au, passed_data, model = NULL, strict = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_single_augment_output_+3A_au">au</code></td>
<td>
<p>Output from a call to <code><a href="generics.html#topic+augment">augment()</a></code>.</p>
</td></tr>
<tr><td><code id="check_single_augment_output_+3A_passed_data">passed_data</code></td>
<td>
<p>Whichever of <code>data</code> or <code>newdata</code> was passed to
<code>augment</code>. Should be a data frame or tibble.</p>
</td></tr>
<tr><td><code id="check_single_augment_output_+3A_strict">strict</code></td>
<td>
<p>Logical indicating whether the strict version of tests should be used. Defaults
to <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An invisible <code>NULL</code>. This function should be called for side effects, not return values.
</p>

<hr>
<h2 id='check_tibble'>Check the output of a tidying method</h2><span id='topic+check_tibble'></span>

<h3>Description</h3>

<p>Call this function to perform tests. If a tests fails, an informative error
will be thrown. Otherwise silent.
</p>
<p>Tests when <code>strict = FALSE</code>:
</p>

<ul>
<li> <p><code>output</code> is a tibble.
</p>
</li></ul>

<p>Additional tests when <code>strict = TRUE</code>:
</p>

<ul>
<li> <p><code>columns</code> are listed in the <a href="#topic+column_glossary">column_glossary</a>.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>check_tibble(output, method, columns = colnames(output), strict = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_tibble_+3A_output">output</code></td>
<td>
<p>Object returned from <code><a href="generics.html#topic+tidy">tidy()</a></code>, <code><a href="generics.html#topic+augment">augment()</a></code> or <code><a href="generics.html#topic+glance">glance()</a></code>.</p>
</td></tr>
<tr><td><code id="check_tibble_+3A_method">method</code></td>
<td>
<p>One of <code>"tidy"</code>, <code>"augment"</code> or <code>"glance"</code>. Determines
which set of column name checks are applied.</p>
</td></tr>
<tr><td><code id="check_tibble_+3A_columns">columns</code></td>
<td>
<p>The names of the columns in the output data frame. Defaults
to the column names of <code>output</code>. Useful when checking <code><a href="generics.html#topic+augment">augment()</a></code> when you only
want to check the new columns in the data frame, as opposed to all
columns.</p>
</td></tr>
<tr><td><code id="check_tibble_+3A_strict">strict</code></td>
<td>
<p>Logical indicating whether the strict version of tests should be used. Defaults
to <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Do not call directly. Helper function used by <code><a href="#topic+check_tidy_output">check_tidy_output()</a></code>,
<code><a href="#topic+check_glance_outputs">check_glance_outputs()</a></code> and <code><a href="#topic+check_augment_function">check_augment_function()</a></code>.
</p>


<h3>Value</h3>

<p>An invisible <code>NULL</code>. This function should be called for side effects, not return values.
</p>

<hr>
<h2 id='check_tidy_output'>Check the output of a tidy method</h2><span id='topic+check_tidy_output'></span>

<h3>Description</h3>

<p>Call this function to perform tests. If a tests fails, an informative error
will be thrown. Otherwise silent.
</p>
<p>A thin wrapper around <code><a href="#topic+check_tibble">check_tibble()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_tidy_output(td, strict = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_tidy_output_+3A_td">td</code></td>
<td>
<p>Output from a tidy method.</p>
</td></tr>
<tr><td><code id="check_tidy_output_+3A_strict">strict</code></td>
<td>
<p>Logical indicating whether the strict version of tests should be used. Defaults
to <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An invisible <code>NULL</code>. This function should be called for side effects, not return values.
</p>

<hr>
<h2 id='column_glossary'>Allowed column names in tidied tibbles</h2><span id='topic+column_glossary'></span>

<h3>Description</h3>

<p>Allowed column names in tidied tibbles
</p>


<h3>Usage</h3>

<pre><code class='language-R'>column_glossary
</code></pre>


<h3>Format</h3>

<p>A tibble with 4 variables:
</p>

<dl>
<dt>method</dt><dd><p>One of &quot;glance&quot;, &quot;augment&quot; or &quot;tidy&quot;.</p>
</dd>
<dt>column</dt><dd><p>Character name of allowed output column.</p>
</dd>
<dt>description</dt><dd><p>Character description of expected column contents.</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>column_glossary
</code></pre>

<hr>
<h2 id='has_rownames'>Check whether or not a data-frame-like object has rownames</h2><span id='topic+has_rownames'></span>

<h3>Description</h3>

<p>Check whether or not a data-frame-like object has rownames
</p>


<h3>Usage</h3>

<pre><code class='language-R'>has_rownames(df)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="has_rownames_+3A_df">df</code></td>
<td>
<p>A data frame</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Logical indicating if <code>df</code> has rownames. If <code>df</code> is a tibble,
returns <code>FALSE</code>. If <code>df</code> is a data.frame, return <code>FALSE</code> if the rownames
are simply row numbers. If the rownames are anything other than the
return row numbers, returns <code>TRUE</code>.
</p>

<hr>
<h2 id='modeltests-package'>modeltests: Testing Infrastructure for Broom Model Generics</h2><span id='topic+modeltests'></span><span id='topic+modeltests-package'></span>

<h3>Description</h3>

<p>Provides a number of testthat tests that can be used to verify that tidy(), glance() and augment() methods meet consistent specifications. This allows methods for the same generic to be spread across multiple packages, since all of those packages can make the same guarantees to users about returned objects.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Alex Hayes <a href="mailto:alexpghayes@gmail.com">alexpghayes@gmail.com</a> (<a href="https://orcid.org/0000-0002-4985-5160">ORCID</a>)
</p>
<p>Authors:
</p>

<ul>
<li><p> Simon Couch <a href="mailto:simonpatrickcouch@gmail.com">simonpatrickcouch@gmail.com</a>
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/alexpghayes/modeltests">https://github.com/alexpghayes/modeltests</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/alexpghayes/modeltests/issues">https://github.com/alexpghayes/modeltests/issues</a>
</p>
</li></ul>


</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package hydReng</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {hydReng}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#bedload_MPM'><p>Bedload Transport Capacity (Meyer-Peter Müller)</p></a></li>
<li><a href='#bedload_SJ'><p>Bedload Transport Capacity (Smart and Jaeggi)</p></a></li>
<li><a href='#CSarbitrary-class'><p>CSarbitrary Class</p></a></li>
<li><a href='#CScircle-class'><p>CScircle Class</p></a></li>
<li><a href='#d_aequiv'><p>Equivalent Hydraulic Diameter</p></a></li>
<li><a href='#flow'><p>Flow</p></a></li>
<li><a href='#flow_depth'><p>Flow Depth</p></a></li>
<li><a href='#flow_depth_gate'><p>Water Depth Upstream Of Gate</p></a></li>
<li><a href='#flow_depth_weir'><p>Flow Depth At Weir Crest</p></a></li>
<li><a href='#flow_gate'><p>Discharge At Underflow Gate</p></a></li>
<li><a href='#flow_max'><p>Maximum Flow</p></a></li>
<li><a href='#flow_max_freeboard'><p>Maximum Flow Including Freeboard</p></a></li>
<li><a href='#flow_velocity'><p>Flow Velocity</p></a></li>
<li><a href='#flow_weir'><p>Flow Over Weir Crest</p></a></li>
<li><a href='#freeboard'><p>Freeboard Calculation</p></a></li>
<li><a href='#froude_number'><p>Froude Number</p></a></li>
<li><a href='#mean_roughness'><p>Mean Roughness</p></a></li>
<li><a href='#par_fill'><p>Partial Filling Flow Diagram</p></a></li>
<li><a href='#pressflow'><p>Flow Under Pressure (Bernoulli)</p></a></li>
<li><a href='#pressflow_depth'><p>Backwater Height Upstream A Inlet Under Pressure (Bernoulli)</p></a></li>
<li><a href='#pressflow_depth_sub'><p>Backwater Height Upstream A Inlet Under Pressure (Bernoulli)</p></a></li>
<li><a href='#wetted_area'><p>Wetted Area</p></a></li>
<li><a href='#wetted_perimeter'><p>Wetted Perimeter</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Hydraulic Engineering Tools</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>The 'hydReng' package provides a set of functions for hydraulic engineering tasks and natural hazard assessments. It includes basic hydraulics (wetted area, wetted perimeter, flow, flow velocity, flow depth, and maximum flow) for open channels with arbitrary geometry under uniform flow conditions. For structures such as circular pipes, weirs, and gates, the package includes calculations for pressure flow, backwater depth, and overflow over a weir crest. Additionally, it provides formulas for calculating bedload transport. The formulas used can be found in standard literature on hydraulics, such as Bollrich (2019, ISBN:978-3-410-29169-5) or Hager (2011, ISBN:978-3-642-77430-0).</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/NiccoloGalatioto/hydReng">https://github.com/NiccoloGalatioto/hydReng</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/NiccoloGalatioto/hydReng/issues">https://github.com/NiccoloGalatioto/hydReng/issues</a></td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>methods</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-01-08 20:58:10 UTC; NICCOLO</td>
</tr>
<tr>
<td>Author:</td>
<td>Galatioto Niccolo [cre, aut],
  Bühlmann Marius [aut],
  HOLINGER AG [cph, fnd]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Galatioto Niccolo &lt;niccolo.galatioto@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-01-09 17:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='bedload_MPM'>Bedload Transport Capacity (Meyer-Peter Müller)</h2><span id='topic+bedload_MPM'></span>

<h3>Description</h3>

<p>Calculates the bedload transport capacity using the formula by
Meyer-Peter Müller. The formula is valid for bed slopes less than 0.005.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bedload_MPM(dm, J, Rs, B, f_kSt = 0.85, t_crit = 0.047, rho_s = 2650, s = 2.65)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="bedload_MPM_+3A_dm">dm</code></td>
<td>
<p>Median grain size [m].</p>
</td></tr>
<tr><td><code id="bedload_MPM_+3A_j">J</code></td>
<td>
<p>Bottom slope [-].</p>
</td></tr>
<tr><td><code id="bedload_MPM_+3A_rs">Rs</code></td>
<td>
<p>Hydraulic radius [m].</p>
</td></tr>
<tr><td><code id="bedload_MPM_+3A_b">B</code></td>
<td>
<p>Bottom width [m].</p>
</td></tr>
<tr><td><code id="bedload_MPM_+3A_f_kst">f_kSt</code></td>
<td>
<p>Friction factor = (k_StS / k_Str)^(3/2) (default: 0.85).</p>
</td></tr>
<tr><td><code id="bedload_MPM_+3A_t_crit">t_crit</code></td>
<td>
<p>Critical shear stress [-] (default: 0.047).</p>
</td></tr>
<tr><td><code id="bedload_MPM_+3A_rho_s">rho_s</code></td>
<td>
<p>Density of bedload material [kg/m3] (default: 2650).</p>
</td></tr>
<tr><td><code id="bedload_MPM_+3A_s">s</code></td>
<td>
<p>Relative solid density [-] (default: 2.65).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns the bedload transport rate [kg/s].
</p>


<h3>References</h3>

<p>Bezzola, G.R. (2012). Vorlesungsmanuskript Flussbau. ETH Zürich, Versuchsanstalt für Wasserbau, Hydrologie und Glaziologie VAW.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>bedload_MPM(dm = 0.1, J = 0.01, Rs = 1.5, B = 20)
bedload_MPM(dm = 0.1, J = 0.01, Rs = 1.5, B = 20, t_crit = 0.06)

</code></pre>

<hr>
<h2 id='bedload_SJ'>Bedload Transport Capacity (Smart and Jaeggi)</h2><span id='topic+bedload_SJ'></span>

<h3>Description</h3>

<p>Calculates the bedload transport capacity based on the formula by Smart and
Jaeggi (1983). This formula is recommended for slopes between 0.005 and 0.2.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bedload_SJ(d30, dm, d90, J, Rs, um, B, t_crit = 0.05, rho_s = 2650,
s_value = 2.65)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="bedload_SJ_+3A_d30">d30</code></td>
<td>
<p>Grain size distribution parameter [m].</p>
</td></tr>
<tr><td><code id="bedload_SJ_+3A_dm">dm</code></td>
<td>
<p>Median grain size [m].</p>
</td></tr>
<tr><td><code id="bedload_SJ_+3A_d90">d90</code></td>
<td>
<p>Grain size distribution parameter [m].</p>
</td></tr>
<tr><td><code id="bedload_SJ_+3A_j">J</code></td>
<td>
<p>Bottom slope [-].</p>
</td></tr>
<tr><td><code id="bedload_SJ_+3A_rs">Rs</code></td>
<td>
<p>Hydraulic radius [m].</p>
</td></tr>
<tr><td><code id="bedload_SJ_+3A_um">um</code></td>
<td>
<p>Mean flow velocity [m/s].</p>
</td></tr>
<tr><td><code id="bedload_SJ_+3A_b">B</code></td>
<td>
<p>Bottom width [m].</p>
</td></tr>
<tr><td><code id="bedload_SJ_+3A_t_crit">t_crit</code></td>
<td>
<p>Critical shear stress [-] (default: 0.05).</p>
</td></tr>
<tr><td><code id="bedload_SJ_+3A_rho_s">rho_s</code></td>
<td>
<p>Density of bedload material [kg/m3] (default: 2650).</p>
</td></tr>
<tr><td><code id="bedload_SJ_+3A_s_value">s_value</code></td>
<td>
<p>Relative solid density [-] (default: 2.65).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>bedload_SJ returns the bedload transport rate [kg/s]
</p>


<h3>References</h3>

<p>Smart, G. M., &amp; Jäggi, M. N. R. (1983). Sediment transport in steilen
Gerinnen. Mitteilungen der Versuchsanstalt für Wasserbau, Hydrologie und
Glaziologie der ETH Zürich, 64, Zürich.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>d30 &lt;- 0.05
dm &lt;- 0.1
d90 &lt;- 0.2
J &lt;- 0.03
Rs &lt;- 1
um &lt;- 2
B &lt;- 3

bedload_SJ(d30 = 0.05, dm = 0.10, d90 = 0.2, J = 0.03, Rs = 1, um = 2, B = 5)

</code></pre>

<hr>
<h2 id='CSarbitrary-class'>CSarbitrary Class</h2><span id='topic+CSarbitrary-class'></span><span id='topic+CSarbitrary'></span>

<h3>Description</h3>

<p>Defines a cross-section class with arbitrary geometry for
hydraulic calculations. For single open channels only, avoid geometries
with multiple channels.
</p>


<h3>Slots</h3>


<dl>
<dt><code>x</code></dt><dd><p>A numeric vector of x-coordinates [m].</p>
</dd>
<dt><code>z</code></dt><dd><p>A numeric vector of z-coordinates [m].</p>
</dd>
<dt><code>xb_l</code></dt><dd><p>x-coordinate of the left bank bottom [m].</p>
</dd>
<dt><code>xb_r</code></dt><dd><p>x-coordinate of the right bank bottom [m].</p>
</dd>
<dt><code>kSt_B</code></dt><dd><p>Roughness of the channel bed [m^(1/3)/s].</p>
</dd>
<dt><code>kSt_l</code></dt><dd><p>Roughness of the left bank [m^(1/3)/s].</p>
</dd>
<dt><code>kSt_r</code></dt><dd><p>Roughness of the right bank [m^(1/3)/s].</p>
</dd>
</dl>


<h3>Examples</h3>

<pre><code class='language-R'># Define sample cross-section data
x &lt;- c(0, 4, 9, 13)
z &lt;- c(2, 0, 0, 2)
cs &lt;- new("CSarbitrary", x = x, z = z, xb_l = 4, xb_r = 9,
          kSt_B = 35, kSt_l = 45, kSt_r = 45)
</code></pre>

<hr>
<h2 id='CScircle-class'>CScircle Class</h2><span id='topic+CScircle-class'></span><span id='topic+CScircle'></span>

<h3>Description</h3>

<p>Defines a cross-section class with circular geometry for
hydraulic calculations.
</p>


<h3>Slots</h3>


<dl>
<dt><code>Di</code></dt><dd><p>Diameter of the pipe [m].</p>
</dd>
<dt><code>kSt</code></dt><dd><p>Roughness of the pipe according to Strickler [m^(1/3)/s].</p>
</dd>
<dt><code>ks</code></dt><dd><p>Roughness of the pipe according to Prandtl-Coolebrook-White [mm]
(SIA 190)</p>
</dd>
</dl>


<h3>Examples</h3>

<pre><code class='language-R'>csC &lt;- CScircle(Di = 1, kSt = 75)
csC &lt;- CScircle(Di = 1, ks = 1.5)
</code></pre>

<hr>
<h2 id='d_aequiv'>Equivalent Hydraulic Diameter</h2><span id='topic+d_aequiv'></span>

<h3>Description</h3>

<p>Calculates the equivalent hydraulic diameter of a rectangular
cross-section given its width and height.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>d_aequiv(b, h)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="d_aequiv_+3A_b">b</code></td>
<td>
<p>Width of the rectangle [m].</p>
</td></tr>
<tr><td><code id="d_aequiv_+3A_h">h</code></td>
<td>
<p>Height of the rectangle [m].</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The equivalent hydraulic diameter [m].
</p>


<h3>Examples</h3>

<pre><code class='language-R'>d_aequiv(b = 2, h = 1)
</code></pre>

<hr>
<h2 id='flow'>Flow</h2><span id='topic+flow'></span><span id='topic+flow+2CCSarbitrary-method'></span><span id='topic+flow+2CCScircle-method'></span>

<h3>Description</h3>

<p>Calculates the discharge of a CSarbitrary or CScircle object for
a given flow depth and bottom slope under uniform flow conditions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>flow(object, h, J, method = "Strickler", ret = "all", plot = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="flow_+3A_object">object</code></td>
<td>
<p>A CSarbitrary or CScircle object.</p>
</td></tr>
<tr><td><code id="flow_+3A_h">h</code></td>
<td>
<p>Flow depth [m].</p>
</td></tr>
<tr><td><code id="flow_+3A_j">J</code></td>
<td>
<p>Bottom slope [-].</p>
</td></tr>
<tr><td><code id="flow_+3A_method">method</code></td>
<td>
<p>Method to calculate the roughness. Allowed are &quot;Strickler&quot;
(equal roughness) &quot;Einstein&quot; (mean roughness) and &quot;Prandtl-Coolebrook-White&quot;.</p>
</td></tr>
<tr><td><code id="flow_+3A_ret">ret</code></td>
<td>
<p>Defines the result returned by the function.</p>
</td></tr>
<tr><td><code id="flow_+3A_plot">plot</code></td>
<td>
<p>Logical; if 'TRUE', plots the results.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing the following hydraulic variables:
</p>

<dl>
<dt>Q</dt><dd><p>Discharge [m3/s].</p>
</dd>
<dt>v</dt><dd><p>Flow velocity [m/s].</p>
</dd>
<dt>kSt_m</dt><dd><p>Mean roughness [m^(1/3)/s] (if method = &quot;Einstein&quot;).</p>
</dd>
<dt>A</dt><dd><p>Wetted area [m^2].</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'># Example for CSarbitrary object
x &lt;- c(0, 4, 9, 13)
z &lt;- c(2, 0, 0, 2)
cs &lt;- CSarbitrary(
  x = x, z = z, xb_l = 4, xb_r = 9,
  kSt_B = 35, kSt_l = 45, kSt_r = 45
)
flow(cs, h = 2, J = 0.0001, method = "Einstein", ret = "Q")
flow(cs, h = 2, J = 0.0001, method = "Einstein", plot = TRUE)

# Example for CScircle object
csC &lt;- CScircle(Di = 0.7, ks = 1.5, kSt = 75)
flow(csC, h = 0.46, J = 0.004)
flow(csC, h = 0.46, J = 0.004, method = "Prandtl-Coolebrook-White", plot = TRUE)
</code></pre>

<hr>
<h2 id='flow_depth'>Flow Depth</h2><span id='topic+flow_depth'></span><span id='topic+flow_depth+2CCSarbitrary-method'></span><span id='topic+flow_depth+2CCScircle-method'></span>

<h3>Description</h3>

<p>Calculates the flow depth of a CSarbitrary or CScircle object for
a given discharge and bottom slope under uniform flow conditions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>flow_depth(object, Q, J, method = "Strickler", ret = "all", plot = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="flow_depth_+3A_object">object</code></td>
<td>
<p>A CSarbitrary or CScircle object.</p>
</td></tr>
<tr><td><code id="flow_depth_+3A_q">Q</code></td>
<td>
<p>Discharge [m3/s].</p>
</td></tr>
<tr><td><code id="flow_depth_+3A_j">J</code></td>
<td>
<p>Bottom slope [-].</p>
</td></tr>
<tr><td><code id="flow_depth_+3A_method">method</code></td>
<td>
<p>Method to calculate the roughness. Allowed are &quot;Strickler&quot;
(equal roughness) &quot;Einstein&quot; (mean roughness) and &quot;Prandtl-Coolebrook-White&quot;.</p>
</td></tr>
<tr><td><code id="flow_depth_+3A_ret">ret</code></td>
<td>
<p>Defines the result returned by the function.</p>
</td></tr>
<tr><td><code id="flow_depth_+3A_plot">plot</code></td>
<td>
<p>Logical; if 'TRUE', plots the results.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing the following hydraulic variables:
</p>

<dl>
<dt>h</dt><dd><p>Flow depth [m].</p>
</dd>
<dt>v</dt><dd><p>Flow velocity [m/s].</p>
</dd>
<dt>Fr</dt><dd><p>Froude number [-].</p>
</dd>
<dt>kSt_m</dt><dd><p>Mean roughness [m^(1/3)/s] (if method = &quot;Einstein&quot;).</p>
</dd>
<dt>A</dt><dd><p>Wetted area [m^2].</p>
</dd>
<dt>P</dt><dd><p>Wetted perimeter [m].</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'># Example for CSarbitrary object
x &lt;- c(0, 4, 9, 13)
z &lt;- c(2, 0, 0, 2)
cs &lt;- CSarbitrary(
  x = x, z = z, xb_l = 4, xb_r = 9,
  kSt_B = 35, kSt_l = 45, kSt_r = 45
)
flow_depth(cs, Q = 8.677, J = 0.0001, method = "Einstein", ret = "h")
flow_depth(cs, Q = 8.677, J = 0.0001, method = "Einstein", plot = TRUE)

# Example for CScircle object
csC &lt;- CScircle(Di = 0.7, ks = 1.5, kSt = 75)
flow_depth(csC, Q = 0.46, J = 0.004)
flow_depth(csC, Q = 0.46, J = 0.004, method = "Prandtl-Coolebrook-White", plot = TRUE)

</code></pre>

<hr>
<h2 id='flow_depth_gate'>Water Depth Upstream Of Gate</h2><span id='topic+flow_depth_gate'></span>

<h3>Description</h3>

<p>Calculates the upstream water depth for a gate based on given
discharge and gate parameters.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>flow_depth_gate(a, Q, B, alpha, h2 = NULL, ret = "h0")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="flow_depth_gate_+3A_a">a</code></td>
<td>
<p>Gate opening height [m].</p>
</td></tr>
<tr><td><code id="flow_depth_gate_+3A_q">Q</code></td>
<td>
<p>Discharge [m3/s].</p>
</td></tr>
<tr><td><code id="flow_depth_gate_+3A_b">B</code></td>
<td>
<p>Gate width [m].</p>
</td></tr>
<tr><td><code id="flow_depth_gate_+3A_alpha">alpha</code></td>
<td>
<p>Gate angle from horizontal [degrees].</p>
</td></tr>
<tr><td><code id="flow_depth_gate_+3A_h2">h2</code></td>
<td>
<p>Optional. Downstream water depth [m]. Default is NULL (free flow).</p>
</td></tr>
<tr><td><code id="flow_depth_gate_+3A_ret">ret</code></td>
<td>
<p>Specifies the return value. &quot;h0&quot; for depth only or &quot;all&quot; for
all intermediate results.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing the following hydraulic variables:
</p>

<dl>
<dt>h0</dt><dd><p>Upstream water depth [m].</p>
</dd>
<dt>psi</dt><dd><p>Contraction coefficient [-].</p>
</dd>
<dt>mu</dt><dd><p>Discharge coefficient [-].</p>
</dd>
<dt>v</dt><dd><p>Flow velocity [m/s].</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>flow_depth_gate(a = 0.5, Q = 2.5, B = 2.0, alpha = 90)
flow_depth_gate(a = 0.5, Q = 2.5, B = 2.0, alpha = 90, h2 = 0.8)
flow_depth_gate(a = 0.5, Q = 2.5, B = 2.0, alpha = 90, h2 = 0.8, ret = "all")
</code></pre>

<hr>
<h2 id='flow_depth_weir'>Flow Depth At Weir Crest</h2><span id='topic+flow_depth_weir'></span>

<h3>Description</h3>

<p>Calculates the height difference between the upstream water
level and the weir crest.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>flow_depth_weir(B, Q, w = Inf, mu = 0.73)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="flow_depth_weir_+3A_b">B</code></td>
<td>
<p>Width of the weir [m].</p>
</td></tr>
<tr><td><code id="flow_depth_weir_+3A_q">Q</code></td>
<td>
<p>Flow rate [m3/s].</p>
</td></tr>
<tr><td><code id="flow_depth_weir_+3A_w">w</code></td>
<td>
<p>Height of the weir crest (upstream) [m]. If w = Inf,
the upstream velocity is considered 0.</p>
</td></tr>
<tr><td><code id="flow_depth_weir_+3A_mu">mu</code></td>
<td>
<p>Discharge coefficient [-]. Default is 0.73.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with the following components:
</p>

<dl>
<dt>h</dt><dd><p>Flow depth over the weir [m].</p>
</dd>
<dt>v</dt><dd><p>Flow velocity [m/s].</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>flow_depth_weir(B = 3, Q = 5)
flow_depth_weir(B = 3, Q = 5, w = 1)
</code></pre>

<hr>
<h2 id='flow_gate'>Discharge At Underflow Gate</h2><span id='topic+flow_gate'></span>

<h3>Description</h3>

<p>Calculates the discharge through a gate under free or submerged
conditions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>flow_gate(a, h0, B, alpha, h2 = NULL, ret = "Q")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="flow_gate_+3A_a">a</code></td>
<td>
<p>Gate opening height [m].</p>
</td></tr>
<tr><td><code id="flow_gate_+3A_h0">h0</code></td>
<td>
<p>Upstream water depth [m].</p>
</td></tr>
<tr><td><code id="flow_gate_+3A_b">B</code></td>
<td>
<p>Gate width [m].</p>
</td></tr>
<tr><td><code id="flow_gate_+3A_alpha">alpha</code></td>
<td>
<p>Gate angle from horizontal [degrees].</p>
</td></tr>
<tr><td><code id="flow_gate_+3A_h2">h2</code></td>
<td>
<p>Optional. Downstream water depth [m]. Default is NULL (free flow).</p>
</td></tr>
<tr><td><code id="flow_gate_+3A_ret">ret</code></td>
<td>
<p>Specifies the return value. &quot;Q&quot; for discharge only or &quot;all&quot; for
all intermediate results.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing the following hydraulic variables:
</p>

<dl>
<dt>Q</dt><dd><p>Flow [m3/s].</p>
</dd>
<dt>psi</dt><dd><p>Contraction coefficient [-].</p>
</dd>
<dt>mu</dt><dd><p>Discharge coefficient [-].</p>
</dd>
<dt>v</dt><dd><p>Flow velocity [m/s].</p>
</dd>
<dt>chi</dt><dd><p>Coefficient for submerged flow [-].</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>flow_gate(a = 0.5, h0 = 1.0, B = 2.0, alpha = 90)
flow_gate(a = 0.5, h0 = 1.0, B = 2.0, alpha = 90, h2 = 0.8)
flow_gate(a = 0.5, h0 = 1.0, B = 2.0, alpha = 90, h2 = 0.8, ret = "all")
</code></pre>

<hr>
<h2 id='flow_max'>Maximum Flow</h2><span id='topic+flow_max'></span><span id='topic+flow_max+2CCSarbitrary-method'></span><span id='topic+flow_max+2CCScircle-method'></span>

<h3>Description</h3>

<p>Calculates the maximum discharge of a CSarbitrary or CScircle
object for a given bottom slope under uniform flow conditions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>flow_max(object, J, method = "Strickler", ret = "all", plot = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="flow_max_+3A_object">object</code></td>
<td>
<p>A CSarbitrary or CScircle object.</p>
</td></tr>
<tr><td><code id="flow_max_+3A_j">J</code></td>
<td>
<p>Bottom slope [-].</p>
</td></tr>
<tr><td><code id="flow_max_+3A_method">method</code></td>
<td>
<p>Method to calculate the roughness. Allowed are &quot;Strickler&quot;
(equal roughness) &quot;Einstein&quot; (mean roughness) and &quot;Prandtl-Coolebrook-White&quot;.</p>
</td></tr>
<tr><td><code id="flow_max_+3A_ret">ret</code></td>
<td>
<p>Defines the result returned by the function.</p>
</td></tr>
<tr><td><code id="flow_max_+3A_plot">plot</code></td>
<td>
<p>Logical; if TRUE, plots the results.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing the following hydraulic variables:
</p>

<dl>
<dt>Qmax</dt><dd><p>Maximum discharge [m3/s].</p>
</dd>
<dt>hmax</dt><dd><p>Maximum flow depth [m].</p>
</dd>
<dt>v</dt><dd><p>Flow velocity [m/s].</p>
</dd>
<dt>kSt_m</dt><dd><p>Mean roughness [m^(1/3)/s] (if method = &quot;Einstein&quot;).</p>
</dd>
<dt>A</dt><dd><p>Wetted area [m2].</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'># Example for CSarbitrary object
x &lt;- c(0, 4, 9, 13)
z &lt;- c(2, 0, 0, 2)
cs &lt;- CSarbitrary(
  x = x, z = z, xb_l = 4, xb_r = 9,
  kSt_B = 35, kSt_l = 45, kSt_r = 45
)
flow_max(cs, J=0.0001, method="Einstein",ret="Qmax")
flow_max(cs, J=0.0001, method="Einstein",plot=TRUE)

# Example for CScircle object
csC &lt;- CScircle(Di = 0.7, ks = 1.5, kSt = 75)
flow_max(csC, J=0.004)
flow_max(csC, J = 0.004, method = "Prandtl-Coolebrook-White", plot = TRUE)
</code></pre>

<hr>
<h2 id='flow_max_freeboard'>Maximum Flow Including Freeboard</h2><span id='topic+flow_max_freeboard'></span><span id='topic+flow_max_freeboard+2CCSarbitrary-method'></span>

<h3>Description</h3>

<p>Calculates the maximum discharge of a CSarbitrary
object including a freebord for a given bottom slope under uniform flow conditions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>flow_max_freeboard(object, J, type = "KOHS", sigma_wz = 0, fw = TRUE, fv = FALSE, ft = 0,
fe = NULL, fe_min = 0, fe_max = Inf, method = "Strickler",
ret = "all", plot = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="flow_max_freeboard_+3A_object">object</code></td>
<td>
<p>A CSarbitrary object.</p>
</td></tr>
<tr><td><code id="flow_max_freeboard_+3A_j">J</code></td>
<td>
<p>Bottom slope [-].</p>
</td></tr>
<tr><td><code id="flow_max_freeboard_+3A_type">type</code></td>
<td>
<p>Type of freeboard calculation. Defaults to &quot;KOHS&quot;.</p>
</td></tr>
<tr><td><code id="flow_max_freeboard_+3A_sigma_wz">sigma_wz</code></td>
<td>
<p>Uncertainty in bed elevation (morphodynamics) [m].</p>
</td></tr>
<tr><td><code id="flow_max_freeboard_+3A_fw">fw</code></td>
<td>
<p>Logical; considers freeboard due to uncertainty in water elevation.
If TRUE, calculates according to KOHS; if FALSE, sets fw = 0.</p>
</td></tr>
<tr><td><code id="flow_max_freeboard_+3A_fv">fv</code></td>
<td>
<p>Logical; considers freeboard due to waves. If 'TRUE', calculates
according to KOHS; if FALSE, sets fv = 0.</p>
</td></tr>
<tr><td><code id="flow_max_freeboard_+3A_ft">ft</code></td>
<td>
<p>Freeboard due to driftwood based on KOHS (2013) [m].</p>
</td></tr>
<tr><td><code id="flow_max_freeboard_+3A_fe">fe</code></td>
<td>
<p>Fixed freeboard value to override calculations [m].</p>
</td></tr>
<tr><td><code id="flow_max_freeboard_+3A_fe_min">fe_min</code></td>
<td>
<p>Minimum freeboard [m].</p>
</td></tr>
<tr><td><code id="flow_max_freeboard_+3A_fe_max">fe_max</code></td>
<td>
<p>Maximum freeboard [m].</p>
</td></tr>
<tr><td><code id="flow_max_freeboard_+3A_method">method</code></td>
<td>
<p>Method to calculate the roughness. Allowed are &quot;Strickler&quot;
(equal roughness) and &quot;Einstein&quot; (mean roughness).</p>
</td></tr>
<tr><td><code id="flow_max_freeboard_+3A_ret">ret</code></td>
<td>
<p>Definition of the result returned by the function (&quot;all&quot;, &quot;Qmax&quot;,
&quot;hmax&quot;, &quot;fe&quot;, or &quot;v&quot;).</p>
</td></tr>
<tr><td><code id="flow_max_freeboard_+3A_plot">plot</code></td>
<td>
<p>Logical; whether to plot the results.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Depending on ret, returns flow, water level, velocity, or all
details.
</p>


<h3>References</h3>

<p>KOHS (2013). Freibord bei Hochwasserschutzprojekten und
Gefahrenbeurteilungen - Empfehlungen der Kommission Hochwasserschutz KOHS.
Wasser Energie Luft 105(1): 43-53.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Cross section
x &lt;- c(-0.85, 3, 15, 18.85)
z &lt;- c(3.85, 0, 0, 3.85)
cs&lt;- CSarbitrary(x = x, z = z, xb_l = 3, xb_r = 15,
                                      kSt_B = 45)

# Channel
flow_max_freeboard(cs, sigma_wz = 0.3, fv = FALSE, J = 2.2 * 10^-2)
# Dam
flow_max_freeboard(cs, sigma_wz = 0.3, fv = TRUE, J = 2.2 * 10^-2)
# Bridge
flow_max_freeboard(cs, sigma_wz = 0.3, fv = TRUE, ft = 0.5,
           J = 2.2 * 10^-2)

# Sensitivity analysis for slope
J &lt;- seq(1, 3, 0.1) * 10^-2
Q &lt;- sapply(J, function(J) {
  flow_max_freeboard(cs, sigma_wz = 0.3, fv = TRUE, ft = 0.5,
             J = J)$Qmax
})
plot(J, Q, type = "l")
</code></pre>

<hr>
<h2 id='flow_velocity'>Flow Velocity</h2><span id='topic+flow_velocity'></span><span id='topic+flow_velocity+2CCSarbitrary-method'></span><span id='topic+flow_velocity+2CCScircle-method'></span>

<h3>Description</h3>

<p>Calculates the flow velocity of a CSarbitrary or CScircle object for a
given water level and bottom slope under uniform flow conditions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>flow_velocity(object, h, J, method = "Strickler",nu = 1.14e-6,...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="flow_velocity_+3A_object">object</code></td>
<td>
<p>A CSarbitrary or CScircle object.</p>
</td></tr>
<tr><td><code id="flow_velocity_+3A_h">h</code></td>
<td>
<p>Flow depth [m].</p>
</td></tr>
<tr><td><code id="flow_velocity_+3A_j">J</code></td>
<td>
<p>Bottom slope  [-].</p>
</td></tr>
<tr><td><code id="flow_velocity_+3A_method">method</code></td>
<td>
<p>Method to calculate the roughness. Allowed are &quot;Strickler&quot;
(equal roughness) &quot;Einstein&quot; (mean roughness) and &quot;Prandtl-Coolebrook-White&quot;.</p>
</td></tr>
<tr><td><code id="flow_velocity_+3A_nu">nu</code></td>
<td>
<p>Kinematic viscosity [m2/s]. Only for CScircle objects</p>
</td></tr>
<tr><td><code id="flow_velocity_+3A_...">...</code></td>
<td>
<p>Additional arguments.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Flow velocity [m/s]
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Example for CSarbitrary object
x &lt;- c(0, 4, 9, 13)
z &lt;- c(2, 0, 0, 2)
cs &lt;- CSarbitrary(x = x, z = z, xb_l = 4, xb_r = 9, kSt_B = 35,
                  kSt_l = 45, kSt_r = 45)
flow_velocity(cs, h = 1,J = 0.01, method = "Einstein")

# Example for CScircle object
csC &lt;- CScircle(Di = 0.7,ks = 1.5, kSt = 75)
flow_velocity(csC, h = 0.46, J = 0.004)
flow_velocity(csC, h = 0.46, J = 0.004, method = "Prandtl-Coolebrook-White")

</code></pre>

<hr>
<h2 id='flow_weir'>Flow Over Weir Crest</h2><span id='topic+flow_weir'></span>

<h3>Description</h3>

<p>Calculates the flow over a weir crest based on upstream
water level.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>flow_weir(B, h, w = Inf, mu = 0.73)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="flow_weir_+3A_b">B</code></td>
<td>
<p>Width of the weir [m].</p>
</td></tr>
<tr><td><code id="flow_weir_+3A_h">h</code></td>
<td>
<p>Height difference between the upstream water level and the
weir crest [m].</p>
</td></tr>
<tr><td><code id="flow_weir_+3A_w">w</code></td>
<td>
<p>Height of the weir crest (upstream) [m]. If w = Inf, the
upstream velocity is considered 0.</p>
</td></tr>
<tr><td><code id="flow_weir_+3A_mu">mu</code></td>
<td>
<p>Discharge coefficient [-]. Default is 0.73.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with the following components:
</p>

<dl>
<dt>Q</dt><dd><p>Flow over the weir [m3/s].</p>
</dd>
<dt>v</dt><dd><p>Flow velocity [m/s].</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>flow_weir(B = 3, h = 1.2)
flow_weir(B = 3, h = 1.2, w = 1)
</code></pre>

<hr>
<h2 id='freeboard'>Freeboard Calculation</h2><span id='topic+freeboard'></span>

<h3>Description</h3>

<p>Calculates the required freeboard based on the KOHS (2013)
recommendations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>freeboard(v, h, sigma_wz = 0, fw = TRUE, fv = FALSE, ft = 0, min = 0,
  max = Inf, fe_fixed = 0)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="freeboard_+3A_v">v</code></td>
<td>
<p>Flow velocity [m/s].</p>
</td></tr>
<tr><td><code id="freeboard_+3A_h">h</code></td>
<td>
<p>Flow depth [m].</p>
</td></tr>
<tr><td><code id="freeboard_+3A_sigma_wz">sigma_wz</code></td>
<td>
<p>Uncertainty in bed elevation (morphodynamics) [m].</p>
</td></tr>
<tr><td><code id="freeboard_+3A_fw">fw</code></td>
<td>
<p>Logical; considers freeboard due to uncertainty in water elevation.
If 'TRUE', calculates according to KOHS; if 'FALSE', sets 'fw = 0'.</p>
</td></tr>
<tr><td><code id="freeboard_+3A_fv">fv</code></td>
<td>
<p>Logical; considers freeboard due to waves. If 'TRUE', calculates
according to KOHS; if 'FALSE', sets 'fv = 0'.</p>
</td></tr>
<tr><td><code id="freeboard_+3A_ft">ft</code></td>
<td>
<p>Freeboard due to driftwood based on KOHS (2013) [m].</p>
</td></tr>
<tr><td><code id="freeboard_+3A_min">min</code></td>
<td>
<p>Minimum allowable freeboard [m].</p>
</td></tr>
<tr><td><code id="freeboard_+3A_max">max</code></td>
<td>
<p>Maximum allowable freeboard [m].</p>
</td></tr>
<tr><td><code id="freeboard_+3A_fe_fixed">fe_fixed</code></td>
<td>
<p>Fixed freeboard value to override calculations [m].</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric value of the calculated freeboard [m].
</p>


<h3>References</h3>

<p>KOHS (2013). Freibord bei Hochwasserschutzprojekten und
Gefahrenbeurteilungen - Empfehlungen der Kommission Hochwasserschutz KOHS.
Wasser Energie Luft 105(1): 43-53.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>freeboard(h = 1.36, sigma_wz = 0.3, fv = FALSE, ft = 0) # Channel example.
freeboard(v = 4.56, h = 1.36, sigma_wz = 0.3, fv = TRUE, ft = 0) # Dam.
freeboard(v = 4.56, h = 1.36, sigma_wz = 0.3, fv = TRUE, ft = 0.5) # Bridge.
</code></pre>

<hr>
<h2 id='froude_number'>Froude Number</h2><span id='topic+froude_number'></span><span id='topic+froude_number+2CCSarbitrary-method'></span><span id='topic+froude_number+2CCScircle-method'></span>

<h3>Description</h3>

<p>Calculates the froude number of a CSarbitrary or CScircle object for a
given water level and velocity under uniform flow conditions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>froude_number(object, v, h)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="froude_number_+3A_object">object</code></td>
<td>
<p>A CSarbitrary or CScircle object.</p>
</td></tr>
<tr><td><code id="froude_number_+3A_v">v</code></td>
<td>
<p>Flow velocity  [m/s].</p>
</td></tr>
<tr><td><code id="froude_number_+3A_h">h</code></td>
<td>
<p>Flow depth [m].</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Froude number [-]
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Example for CSarbitrary object
x &lt;- c(0, 4, 9, 13)
z &lt;- c(2, 0, 0, 2)
cs &lt;- CSarbitrary(x = x, z = z, xb_l = 4, xb_r = 9, kSt_B = 35,
                  kSt_l = 45, kSt_r = 45)
froude_number(cs,h=1, v = 2.5)

# Example for CScircle object
csC &lt;- CScircle(Di = 0.7,ks = 1.5, kSt = 75)
froude_number(csC, h = 0.46, v = 2.5)

</code></pre>

<hr>
<h2 id='mean_roughness'>Mean Roughness</h2><span id='topic+mean_roughness'></span><span id='topic+mean_roughness+2CCSarbitrary-method'></span>

<h3>Description</h3>

<p>Calculates the mean roughness of a CSarbitrary object for a
given
set of water levels, based on Einstein (1934).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mean_roughness(object, h)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mean_roughness_+3A_object">object</code></td>
<td>
<p>A CSarbitrary object.</p>
</td></tr>
<tr><td><code id="mean_roughness_+3A_h">h</code></td>
<td>
<p>A numeric vector of water levels [m].</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric vector representing the mean roughness for the given water
levels.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Example usage:
x &lt;- c(0, 4, 9, 13)
z &lt;- c(2, 0, 0, 2)
cs &lt;- CSarbitrary(x = x, z = z, xb_l = 4, xb_r = 9, kSt_B = 35,
                  kSt_l = 45, kSt_r = 45)
h_levels &lt;- c(1, 2)  # water levels
mean_roughness(cs, h_levels)
</code></pre>

<hr>
<h2 id='par_fill'>Partial Filling Flow Diagram</h2><span id='topic+par_fill'></span><span id='topic+par_fill+2CCScircle-method'></span>

<h3>Description</h3>

<p>Function to generate a plot of partial-filling diagram of
circular pipe with discharge and flow velocity
</p>


<h3>Usage</h3>

<pre><code class='language-R'>par_fill(object,J,method="Strickler")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="par_fill_+3A_object">object</code></td>
<td>
<p>A CScircle object.</p>
</td></tr>
<tr><td><code id="par_fill_+3A_j">J</code></td>
<td>
<p>Bottom slope [-].</p>
</td></tr>
<tr><td><code id="par_fill_+3A_method">method</code></td>
<td>
<p>Method to calculate the roughness. Allowed are &quot;Strickler&quot;
(equal roughness) and &quot;Prandtl-Coolebrook-White&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Plots of a partial filling diagram of a circular pipe with discharge and flow velocity
</p>


<h3>Examples</h3>

<pre><code class='language-R'>csC &lt;- CScircle(Di = 0.7, ks = 1.5, kSt = 75)
par_fill(csC,J=0.04)
</code></pre>

<hr>
<h2 id='pressflow'>Flow Under Pressure (Bernoulli)</h2><span id='topic+pressflow'></span>

<h3>Description</h3>

<p>Calculates the flow in a pipe or a rectangle under pressure
(Bernoulli). The outlet is not submerged, e.g., the exit loss equals 0.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pressflow(z0, z1, h0, Di=NULL, h = NULL, b = NULL, L, ks=NULL, kst,
  xi_e = 0.5, nu = 1.14e-6, calc_lam = "kst")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pressflow_+3A_z0">z0</code></td>
<td>
<p>Absolute height of upper gate – upstream of the inlet [m.a.s.l].</p>
</td></tr>
<tr><td><code id="pressflow_+3A_z1">z1</code></td>
<td>
<p>Absolute height of the pipe/rectangle vertical middle axis at
lower gate [m.a.s.l].</p>
</td></tr>
<tr><td><code id="pressflow_+3A_h0">h0</code></td>
<td>
<p>Water depth upstream of the gate – upstream of the inlet [m].</p>
</td></tr>
<tr><td><code id="pressflow_+3A_di">Di</code></td>
<td>
<p>Diameter of pipe [m]. If Di is specified, h and b must be NULL.</p>
</td></tr>
<tr><td><code id="pressflow_+3A_h">h</code></td>
<td>
<p>Height of rectangle [m]. If h is specified, Di must be NULL.</p>
</td></tr>
<tr><td><code id="pressflow_+3A_b">b</code></td>
<td>
<p>Width of rectangle [m]. If b is specified, Di must be NULL.</p>
</td></tr>
<tr><td><code id="pressflow_+3A_l">L</code></td>
<td>
<p>Length of pipe [m].</p>
</td></tr>
<tr><td><code id="pressflow_+3A_ks">ks</code></td>
<td>
<p>Equivalent sand roughness [m].</p>
</td></tr>
<tr><td><code id="pressflow_+3A_kst">kst</code></td>
<td>
<p>Roughness [m^(1/3)/s].</p>
</td></tr>
<tr><td><code id="pressflow_+3A_xi_e">xi_e</code></td>
<td>
<p>Entrance loss [-]. Default = 0.5.</p>
</td></tr>
<tr><td><code id="pressflow_+3A_nu">nu</code></td>
<td>
<p>Kinematic viscosity [m2/s]. Default = 1.14e-6.</p>
</td></tr>
<tr><td><code id="pressflow_+3A_calc_lam">calc_lam</code></td>
<td>
<p>Defines if lambda should be calculated with ks or kst.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Pressflow returns the flow under pressure:
</p>

<dl>
<dt>Q</dt><dd><p>Discharge [m^3/s].</p>
</dd>
<dt>v</dt><dd><p>Flow velocity [m/s].</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'># Calculate flow in a pipe under pressure with ks value
pressflow(z0 = 415, z1 = 413, h0 = 3, L = 20, Di = 1, ks = 0.01,
  calc_lam = "ks")

# Calculate flow in rectangle under pressure with kst value
pressflow(z0 = 415, z1 = 413, h0 = 3, L = 20, b = 2, h = 1, kst = 60,
  calc_lam = "kst")

</code></pre>

<hr>
<h2 id='pressflow_depth'>Backwater Height Upstream A Inlet Under Pressure (Bernoulli)</h2><span id='topic+pressflow_depth'></span>

<h3>Description</h3>

<p>Calculates the backwater height upstream of an inlet (pipe or
rectangle) under pressure (Bernoulli). The outlet is not submerged, e.g.,
the exit loss equals 0.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pressflow_depth(
  z0, z1, Q, Di = NULL, h = NULL, b = NULL, L, ks = NULL, kst,
  xi_e = 0.5, nu = 1.14e-6, calc_lam = "kst"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pressflow_depth_+3A_z0">z0</code></td>
<td>
<p>Absolute height of upper gate – upstream of the inlet [m.a.s.l].</p>
</td></tr>
<tr><td><code id="pressflow_depth_+3A_z1">z1</code></td>
<td>
<p>Absolute height of the pipe/rectangle vertical middle axis at
lower gate [m.a.s.l].</p>
</td></tr>
<tr><td><code id="pressflow_depth_+3A_q">Q</code></td>
<td>
<p>Flow [m^3/s].</p>
</td></tr>
<tr><td><code id="pressflow_depth_+3A_di">Di</code></td>
<td>
<p>Diameter of pipe [m]. If Di is specified, h and b must be NULL.</p>
</td></tr>
<tr><td><code id="pressflow_depth_+3A_h">h</code></td>
<td>
<p>Height of rectangle [m]. If h is specified, Di must be NULL.</p>
</td></tr>
<tr><td><code id="pressflow_depth_+3A_b">b</code></td>
<td>
<p>Width of rectangle [m]. If b is specified, Di must be NULL.</p>
</td></tr>
<tr><td><code id="pressflow_depth_+3A_l">L</code></td>
<td>
<p>Length of pipe [m].</p>
</td></tr>
<tr><td><code id="pressflow_depth_+3A_ks">ks</code></td>
<td>
<p>Equivalent sand roughness [m].</p>
</td></tr>
<tr><td><code id="pressflow_depth_+3A_kst">kst</code></td>
<td>
<p>Roughness [m^(1/3)/s].</p>
</td></tr>
<tr><td><code id="pressflow_depth_+3A_xi_e">xi_e</code></td>
<td>
<p>Entrance loss [-]. Default = 0.5.</p>
</td></tr>
<tr><td><code id="pressflow_depth_+3A_nu">nu</code></td>
<td>
<p>Kinematic viscosity [m^2/s]. Default = 1.14e-6.</p>
</td></tr>
<tr><td><code id="pressflow_depth_+3A_calc_lam">calc_lam</code></td>
<td>
<p>Defines if lambda should be calculated with ks or kst.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns the backwater height upstream the inlet:
</p>

<dl>
<dt>h0</dt><dd><p>Water depth upstream the inlet [m].</p>
</dd>
<dt>v</dt><dd><p>Flow velocity [m/s].</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'># Flow in a pipe under pressure with ks value
pressflow_depth(z0 = 415, z1 = 413, Q = 5.18, L = 20, Di = 1,
                ks = 0.01, calc_lam = "ks")

# Flow in a rectangle under pressure with kst value
pressflow_depth(z0 = 415, z1 = 413, Q = 13.7, L = 20, b = 2, h = 1,
                kst = 60, calc_lam = "kst")

</code></pre>

<hr>
<h2 id='pressflow_depth_sub'>Backwater Height Upstream A Inlet Under Pressure (Bernoulli)</h2><span id='topic+pressflow_depth_sub'></span>

<h3>Description</h3>

<p>Calculates the backwater height upstream of an inlet (pipe or
rectangle) under pressure (Bernoulli). The outlet is submerged; hence, an
exit loss (xi_a) has to be specified.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pressflow_depth_sub(
  z0, z1, Q, h1, v1, Di = NULL, h = NULL, b = NULL, L, ks = NULL, kst, xi_a,
  xi_e = 0.5, nu = 1.14e-6, calc_lam = "kst"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pressflow_depth_sub_+3A_z0">z0</code></td>
<td>
<p>Absolute height of upper gate – upstream of the inlet [m.a.s.l].</p>
</td></tr>
<tr><td><code id="pressflow_depth_sub_+3A_z1">z1</code></td>
<td>
<p>Absolute height of the pipe/rectangle vertical middle axis at
lower gate [m.a.s.l].</p>
</td></tr>
<tr><td><code id="pressflow_depth_sub_+3A_q">Q</code></td>
<td>
<p>Flow [m^3/s].</p>
</td></tr>
<tr><td><code id="pressflow_depth_sub_+3A_h1">h1</code></td>
<td>
<p>Water depth downstream the outlet [m].</p>
</td></tr>
<tr><td><code id="pressflow_depth_sub_+3A_v1">v1</code></td>
<td>
<p>Velocity downstream the outlet [m/s].</p>
</td></tr>
<tr><td><code id="pressflow_depth_sub_+3A_di">Di</code></td>
<td>
<p>Diameter of pipe [m]. If Di is specified, h and b must be NULL.</p>
</td></tr>
<tr><td><code id="pressflow_depth_sub_+3A_h">h</code></td>
<td>
<p>Height of rectangle [m]. If h is specified, Di must be NULL.</p>
</td></tr>
<tr><td><code id="pressflow_depth_sub_+3A_b">b</code></td>
<td>
<p>Width of rectangle [m]. If b is specified, Di must be NULL.</p>
</td></tr>
<tr><td><code id="pressflow_depth_sub_+3A_l">L</code></td>
<td>
<p>Length of pipe [m].</p>
</td></tr>
<tr><td><code id="pressflow_depth_sub_+3A_ks">ks</code></td>
<td>
<p>Equivalent sand roughness [m].</p>
</td></tr>
<tr><td><code id="pressflow_depth_sub_+3A_kst">kst</code></td>
<td>
<p>Roughness [m^(1/3)/s].</p>
</td></tr>
<tr><td><code id="pressflow_depth_sub_+3A_xi_a">xi_a</code></td>
<td>
<p>Exit loss, according to Borda-Carnot formula (1 - A1/A2)^2 [-].</p>
</td></tr>
<tr><td><code id="pressflow_depth_sub_+3A_xi_e">xi_e</code></td>
<td>
<p>Entrance loss [-]. Default = 0.5.</p>
</td></tr>
<tr><td><code id="pressflow_depth_sub_+3A_nu">nu</code></td>
<td>
<p>Kinematic viscosity [m^2/s]. Default = 1.14e-6.</p>
</td></tr>
<tr><td><code id="pressflow_depth_sub_+3A_calc_lam">calc_lam</code></td>
<td>
<p>Defines if lambda should be calculated with ks or kst.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns the backwater height upstream the inlet:
</p>

<dl>
<dt>h0</dt><dd><p>Water depth upstream the inlet [m].</p>
</dd>
<dt>v</dt><dd><p>Flow velocity [m/s].</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'># Flow in a pipe under pressure with ks value
pressflow_depth_sub(z0=415,z1=413,Q=5.18,h1=2,v1=4,L=20,Di=1,ks=0.01,
calc_lam="ks",xi_a=0.5)

# Flow in a rectangle under pressure with kst value
pressflow_depth_sub(z0=415,z1=413,Q=13.7,h1=2,v1=4,L=20,b=2,h=1,kst=60,
calc_lam="kst",xi_a=0.5)

</code></pre>

<hr>
<h2 id='wetted_area'>Wetted Area</h2><span id='topic+wetted_area'></span><span id='topic+wetted_area+2CCSarbitrary-method'></span><span id='topic+wetted_area+2CCScircle-method'></span>

<h3>Description</h3>

<p>Calculates the wetted area of a CSarbitrary or CScircle
object for given water levels.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wetted_area(object, h, ret = "A")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="wetted_area_+3A_object">object</code></td>
<td>
<p>An object of class CSarbitrary or CScircle.</p>
</td></tr>
<tr><td><code id="wetted_area_+3A_h">h</code></td>
<td>
<p>A numeric vector of water levels (m). For CScircle, only a
single numeric value is allowed.</p>
</td></tr>
<tr><td><code id="wetted_area_+3A_ret">ret</code></td>
<td>
<p>A character string. If 'A', returns total wetted area.
If 'Aii', returns wetted area by segment.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric vector or matrix of wetted areas based on the 'ret'
argument.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Example for CSarbitrary object
x &lt;- c(0, 4, 9, 13)
z &lt;- c(2, 0, 0, 2)
cs &lt;- CSarbitrary(x = x, z = z, xb_l = 4, xb_r = 9, kSt_B = 35,
                  kSt_l = 45, kSt_r = 45)

# Calculate total wetted area at water levels 1 m and 2 m
h &lt;- c(1, 2)
wetted_area(cs, h, ret = "A")

# Calculate wetted area for each segment at the same water levels
wetted_area(cs, h, ret = "Aii")

# Example for CScircle object
csC &lt;- CScircle(Di = 1, kSt = 75)

# Calculate total wetted area at water level 1 m
h &lt;- 1
wetted_area(csC, h)
</code></pre>

<hr>
<h2 id='wetted_perimeter'>Wetted Perimeter</h2><span id='topic+wetted_perimeter'></span><span id='topic+wetted_perimeter+2CCSarbitrary-method'></span><span id='topic+wetted_perimeter+2CCScircle-method'></span>

<h3>Description</h3>

<p>Calculates the wetted perimeter of a CSarbitrary or CScircle
object for given water levels.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wetted_perimeter(object, h, ret = "P")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="wetted_perimeter_+3A_object">object</code></td>
<td>
<p>An object of class CSarbitrary or CScircle.</p>
</td></tr>
<tr><td><code id="wetted_perimeter_+3A_h">h</code></td>
<td>
<p>A numeric vector of water levels (m). For CScircle, only a
single numeric value is allowed.</p>
</td></tr>
<tr><td><code id="wetted_perimeter_+3A_ret">ret</code></td>
<td>
<p>A character string. If 'P', returns total wetted perimeter.
If 'Pii', returns wetted perimeter by segment.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric vector or matrix of wetted perimeter based on the 'ret'
argument.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Example for CSarbitrary object
x &lt;- c(0, 4, 9, 13)
z &lt;- c(2, 0, 0, 2)
cs &lt;- CSarbitrary(x = x, z = z, xb_l = 4, xb_r = 9, kSt_B = 35,
                  kSt_l = 45, kSt_r = 45)

# Calculate total wetted perimeter at water levels 1 m and 2 m
h &lt;- c(1, 2)
wetted_perimeter(cs, h, ret = "P")

# Calculate wetted perimeter for each segment at the same water levels
wetted_perimeter(cs, h, ret = "Pii")

# Example for CScircle object
csC &lt;- CScircle(Di = 1, kSt = 75)

# Calculate total wetted perimeter at water level 1 m
h &lt;- 1
wetted_perimeter(csC, h)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

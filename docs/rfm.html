<!DOCTYPE html><html lang="en"><head><title>Help for package rfm</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {rfm}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#rfm'><p><code>rfm</code> package</p></a></li>
<li><a href='#rfm_barchart_data'><p>Bar chart data</p></a></li>
<li><a href='#rfm_create_report'><p>RFM report</p></a></li>
<li><a href='#rfm_data_customer'><p>RFM customer data</p></a></li>
<li><a href='#rfm_data_orders'><p>RFM transaction data</p></a></li>
<li><a href='#rfm_heatmap_data'><p>Heatmap data</p></a></li>
<li><a href='#rfm_launch_app'><p>Launch shiny app</p></a></li>
<li><a href='#rfm_plot_bar_chart'><p>RFM bar chart</p></a></li>
<li><a href='#rfm_plot_heatmap'><p>RFM heatmap</p></a></li>
<li><a href='#rfm_plot_histogram'><p>RFM histograms</p></a></li>
<li><a href='#rfm_plot_median_recency'><p>Median plots</p></a></li>
<li><a href='#rfm_plot_order_dist'><p>Customers by orders</p></a></li>
<li><a href='#rfm_plot_revenue_dist'><p>Revenue distribution</p></a></li>
<li><a href='#rfm_plot_segment'><p>RFM Segmentation Plot</p></a></li>
<li><a href='#rfm_plot_segment_scatter'><p>Segment Scatter Plots</p></a></li>
<li><a href='#rfm_plot_segment_summary'><p>Visulaize segment summary</p></a></li>
<li><a href='#rfm_rm_plot'><p>RFM Scatter plot</p></a></li>
<li><a href='#rfm_segment'><p>Segmentation</p></a></li>
<li><a href='#rfm_segment_summary'><p>Segment summary</p></a></li>
<li><a href='#rfm_table_customer_2'><p>RFM table (customer data)</p></a></li>
<li><a href='#rfm_table_order'><p>RFM table (transaction data)</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Recency, Frequency and Monetary Value Analysis</td>
</tr>
<tr>
<td>Version:</td>
<td>0.3.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Tools for RFM (recency, frequency and monetary value) analysis. 
    Generate RFM score from both transaction and customer level data. Visualize the
    relationship between recency, frequency and monetary value using heatmap, 
    histograms, bar charts and scatter plots. Includes a 'shiny' app for 
    interactive segmentation. References:
    i. Blattberg R.C., Kim BD., Neslin S.A (2008) &lt;<a href="https://doi.org/10.1007%2F978-0-387-72579-6_12">doi:10.1007/978-0-387-72579-6_12</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/rsquaredacademy/rfm">https://github.com/rsquaredacademy/rfm</a>,
<a href="https://rfm.rsquaredacademy.com/">https://rfm.rsquaredacademy.com/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/rsquaredacademy/rfm/issues">https://github.com/rsquaredacademy/rfm/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.2)</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr, ggplot2, magrittr, RColorBrewer, rlang, scales, stats,
treemapify, utils, xplorerr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>cli, covr, DT, gganimate, gifski, kableExtra, knitr, png,
plotly, rmarkdown, rmdformats, testthat (&ge; 3.0.0), vdiffr</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-02-26 08:12:59 UTC; HP</td>
</tr>
<tr>
<td>Author:</td>
<td>Aravind Hebbali <a href="https://orcid.org/0000-0001-9220-9669"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Aravind Hebbali &lt;hebbali.aravind@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-02-26 09:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='rfm'><code>rfm</code> package</h2><span id='topic+rfm'></span><span id='topic+_PACKAGE'></span><span id='topic+rfm-package'></span>

<h3>Description</h3>

<p>Tools for customer segmentation analysis
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Aravind Hebbali <a href="mailto:hebbali.aravind@gmail.com">hebbali.aravind@gmail.com</a> (<a href="https://orcid.org/0000-0001-9220-9669">ORCID</a>)
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/rsquaredacademy/rfm">https://github.com/rsquaredacademy/rfm</a>
</p>
</li>
<li> <p><a href="https://rfm.rsquaredacademy.com/">https://rfm.rsquaredacademy.com/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/rsquaredacademy/rfm/issues">https://github.com/rsquaredacademy/rfm/issues</a>
</p>
</li></ul>


<hr>
<h2 id='rfm_barchart_data'>Bar chart data</h2><span id='topic+rfm_barchart_data'></span>

<h3>Description</h3>

<p>Data for generating bar charts.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rfm_barchart_data(rfm_table)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rfm_barchart_data_+3A_rfm_table">rfm_table</code></td>
<td>
<p>An object of class <code>rfm_table</code>.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># using transaction data
analysis_date &lt;- as.Date('2006-12-31')
rfm_order &lt;- rfm_table_order(rfm_data_orders, customer_id, order_date,
revenue, analysis_date)

# bar chart data
rfm_barchart_data(rfm_order)

# using customer data
analysis_date &lt;- as.Date('2007-01-01')
rfm_customer &lt;- rfm_table_customer(rfm_data_customer, customer_id,
number_of_orders, recency_days, revenue, analysis_date)

# bar chart data
rfm_barchart_data(rfm_customer)

</code></pre>

<hr>
<h2 id='rfm_create_report'>RFM report</h2><span id='topic+rfm_create_report'></span>

<h3>Description</h3>

<p>Generates a segmentation analysis report.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rfm_create_report(
  rfm_table,
  segments,
  interactive = FALSE,
  title = NULL,
  author = NULL,
  folder_name = NULL,
  file_name = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rfm_create_report_+3A_rfm_table">rfm_table</code></td>
<td>
<p>An object of class <code>rfm_table</code>.</p>
</td></tr>
<tr><td><code id="rfm_create_report_+3A_segments">segments</code></td>
<td>
<p>Output from <code>rfm_segment</code>.</p>
</td></tr>
<tr><td><code id="rfm_create_report_+3A_interactive">interactive</code></td>
<td>
<p>If <code>TRUE</code>, uses <code>plotly</code> as the visualization
engine. If <code>FALSE</code>, uses <code>ggplot2</code>.</p>
</td></tr>
<tr><td><code id="rfm_create_report_+3A_title">title</code></td>
<td>
<p>Title of the report.</p>
</td></tr>
<tr><td><code id="rfm_create_report_+3A_author">author</code></td>
<td>
<p>Author of the report.</p>
</td></tr>
<tr><td><code id="rfm_create_report_+3A_folder_name">folder_name</code></td>
<td>
<p>The output directory for the report.</p>
</td></tr>
<tr><td><code id="rfm_create_report_+3A_file_name">file_name</code></td>
<td>
<p>The name of the report file.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# analysis date
analysis_date &lt;- as.Date('2006-12-31')

# generate rfm score
rfm_result &lt;- rfm_table_order(rfm_data_orders, customer_id, order_date,
revenue, analysis_date)

# segment names
segment_names &lt;- c("Champions", "Potential Loyalist", "Loyal Customers",
                   "Promising", "New Customers", "Can't Lose Them",
                   "At Risk", "Need Attention", "About To Sleep", "Lost")

# segment intervals
recency_lower &lt;-   c(5, 3, 2, 3, 4, 1, 1, 1, 2, 1)
recency_upper &lt;-   c(5, 5, 4, 4, 5, 2, 2, 3, 3, 1)
frequency_lower &lt;- c(5, 3, 2, 1, 1, 3, 2, 3, 1, 1)
frequency_upper &lt;- c(5, 5, 4, 3, 3, 4, 5, 5, 3, 5)
monetary_lower &lt;-  c(5, 2, 2, 3, 1, 4, 4, 3, 1, 1)
monetary_upper &lt;-  c(5, 5, 4, 5, 5, 5, 5, 5, 4, 5)

# generate segments
segments &lt;- rfm_segment(rfm_result, segment_names, recency_lower,
recency_upper, frequency_lower, frequency_upper, monetary_lower,
monetary_upper)

rfm_create_report(rfm_result, segments, FALSE,
"Customer Segmentation Report")

## End(Not run)

</code></pre>

<hr>
<h2 id='rfm_data_customer'>RFM customer data</h2><span id='topic+rfm_data_customer'></span>

<h3>Description</h3>

<p>A dataset containing customer level data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rfm_data_customer
</code></pre>


<h3>Format</h3>

<p>A tibble with 39,999 rows and 5 variables:
</p>

<dl>
<dt>customer_id</dt><dd><p>Customer id.</p>
</dd>
<dt>total_amount</dt><dd><p>Total amount of all orders.</p>
</dd>
<dt>most_recent_visit</dt><dd><p>Date of the most recent transaction.</p>
</dd>
<dt>number_of_purchases</dt><dd><p>Total number of transactions/orders.</p>
</dd>
<dt>purchase_interval</dt><dd><p>Number of days since last transaction/order.</p>
</dd>
</dl>
<p>#'   </p>
<dl>
<dt>first_name</dt><dd><p>First name of the customer.</p>
</dd>
<dt>last_name</dt><dd><p>Last name of the customer.</p>
</dd>
<dt>email</dt><dd><p>email id of the customer.</p>
</dd>
</dl>


<hr>
<h2 id='rfm_data_orders'>RFM transaction data</h2><span id='topic+rfm_data_orders'></span>

<h3>Description</h3>

<p>A dataset containing transactions of different customers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rfm_data_orders
</code></pre>


<h3>Format</h3>

<p>A tibble with 49.6 rows and 3 variables:
</p>

<dl>
<dt>order_date</dt><dd><p>Order date.</p>
</dd>
<dt>customer_id</dt><dd><p>Customer id</p>
</dd>
<dt>revenue</dt><dd><p>Transaction amount.</p>
</dd>
<dt>first_name</dt><dd><p>First name of the customer.</p>
</dd>
<dt>last_name</dt><dd><p>Last name of the customer.</p>
</dd>
<dt>email</dt><dd><p>email id of the customer.</p>
</dd>
</dl>


<hr>
<h2 id='rfm_heatmap_data'>Heatmap data</h2><span id='topic+rfm_heatmap_data'></span>

<h3>Description</h3>

<p>Data for generating heatmap.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rfm_heatmap_data(rfm_table)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rfm_heatmap_data_+3A_rfm_table">rfm_table</code></td>
<td>
<p>An object of class <code>rfm_table</code>.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># using transaction data
analysis_date &lt;- as.Date('2006-12-31')
rfm_order &lt;- rfm_table_order(rfm_data_orders, customer_id, order_date,
revenue, analysis_date)

# heat map data
rfm_heatmap_data(rfm_order)

# using customer data
analysis_date &lt;- as.Date('2007-01-01')
rfm_customer &lt;- rfm_table_customer(rfm_data_customer, customer_id,
number_of_orders, recency_days, revenue, analysis_date)

# heat map data
rfm_heatmap_data(rfm_customer)

</code></pre>

<hr>
<h2 id='rfm_launch_app'>Launch shiny app</h2><span id='topic+rfm_launch_app'></span>

<h3>Description</h3>

<p>Launches shiny app.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rfm_launch_app()
</code></pre>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
rfm_launch_app()

## End(Not run)
</code></pre>

<hr>
<h2 id='rfm_plot_bar_chart'>RFM bar chart</h2><span id='topic+rfm_plot_bar_chart'></span><span id='topic+rfm_bar_chart'></span>

<h3>Description</h3>

<p>Examine the distribution of monetary scores for the different
combinations of frequency and recency scores.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rfm_plot_bar_chart(
  rfm_table,
  bar_color = NULL,
  xaxis_label = NULL,
  sec_xaxis_label = NULL,
  yaxis_label = NULL,
  sec_yaxis_label = NULL,
  print_plot = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rfm_plot_bar_chart_+3A_rfm_table">rfm_table</code></td>
<td>
<p>An object of class <code>rfm_table</code>.</p>
</td></tr>
<tr><td><code id="rfm_plot_bar_chart_+3A_bar_color">bar_color</code></td>
<td>
<p>Color of the bars.</p>
</td></tr>
<tr><td><code id="rfm_plot_bar_chart_+3A_xaxis_label">xaxis_label</code></td>
<td>
<p>X axis label.</p>
</td></tr>
<tr><td><code id="rfm_plot_bar_chart_+3A_sec_xaxis_label">sec_xaxis_label</code></td>
<td>
<p>Secondary x axis label.</p>
</td></tr>
<tr><td><code id="rfm_plot_bar_chart_+3A_yaxis_label">yaxis_label</code></td>
<td>
<p>Y axis label.</p>
</td></tr>
<tr><td><code id="rfm_plot_bar_chart_+3A_sec_yaxis_label">sec_yaxis_label</code></td>
<td>
<p>Secondary y axis label.</p>
</td></tr>
<tr><td><code id="rfm_plot_bar_chart_+3A_print_plot">print_plot</code></td>
<td>
<p>logical; if <code>TRUE</code>, prints the plot else returns a
plot object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Bar chart.
</p>


<h3>Deprecated Functions</h3>

<p><code>rfm_bar_chart()</code> has been deprecated and will be made defunct. It has
been provided for compatibility with older versions only, and will be made
defunct at the next release.
</p>
<p>Instead use the replacement function <code>rfm_plot_bar_chart()</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># using transaction data
analysis_date &lt;- as.Date('2006-12-31')
rfm_order &lt;- rfm_table_order(rfm_data_orders, customer_id, order_date,
revenue, analysis_date)

# bar chart
rfm_plot_bar_chart(rfm_order)

</code></pre>

<hr>
<h2 id='rfm_plot_heatmap'>RFM heatmap</h2><span id='topic+rfm_plot_heatmap'></span><span id='topic+rfm_heatmap'></span>

<h3>Description</h3>

<p>The heat map shows the average monetary value for different
categories of recency and frequency scores. Higher scores of frequency and
recency are characterized by higher average monetary value as indicated by
the darker areas in the heatmap.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rfm_plot_heatmap(
  data,
  brewer_n = 5,
  brewer_name = "PuBu",
  xaxis_label = NULL,
  yaxis_label = NULL,
  plot_title = NULL,
  legend_title = NULL,
  interactive = FALSE,
  print_plot = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rfm_plot_heatmap_+3A_data">data</code></td>
<td>
<p>An object of class <code>rfm_table</code>.</p>
</td></tr>
<tr><td><code id="rfm_plot_heatmap_+3A_brewer_n">brewer_n</code></td>
<td>
<p>Indicates the number of colors in the palette; RColorBrewer
is used for the color palette of the heatmap; check the documentation of
<code>brewer.pal</code>.</p>
</td></tr>
<tr><td><code id="rfm_plot_heatmap_+3A_brewer_name">brewer_name</code></td>
<td>
<p>Palette name; check the documentation of
<code>brewer.pal</code>.</p>
</td></tr>
<tr><td><code id="rfm_plot_heatmap_+3A_xaxis_label">xaxis_label</code></td>
<td>
<p>X axis label.</p>
</td></tr>
<tr><td><code id="rfm_plot_heatmap_+3A_yaxis_label">yaxis_label</code></td>
<td>
<p>Y axis label.</p>
</td></tr>
<tr><td><code id="rfm_plot_heatmap_+3A_plot_title">plot_title</code></td>
<td>
<p>Title of the plot.</p>
</td></tr>
<tr><td><code id="rfm_plot_heatmap_+3A_legend_title">legend_title</code></td>
<td>
<p>Legend title.</p>
</td></tr>
<tr><td><code id="rfm_plot_heatmap_+3A_interactive">interactive</code></td>
<td>
<p>If <code>TRUE</code>, uses <code>plotly</code> as the visualization
engine. If <code>FALSE</code>, uses <code>ggplot2</code>.</p>
</td></tr>
<tr><td><code id="rfm_plot_heatmap_+3A_print_plot">print_plot</code></td>
<td>
<p>logical; if <code>TRUE</code>, prints the plot else returns a
plot object.</p>
</td></tr>
</table>


<h3>Deprecated Functions</h3>

<p><code>rfm_heatmap()</code> has been deprecated and will be made defunct. It has
been provided for compatibility with older versions only, and will be made
defunct at the next release.
</p>
<p>Instead use the replacement function <code>rfm_plot_heatmap()</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># using transaction data
analysis_date &lt;- as.Date('2006-12-31')
rfm_order &lt;- rfm_table_order(rfm_data_orders, customer_id, order_date,
revenue, analysis_date)

# heat map
# ggplot2
rfm_plot_heatmap(rfm_order)

# plotly
rfm_plot_heatmap(rfm_order, interactive = TRUE)

# using customer data
analysis_date &lt;- as.Date('2007-01-01')
rfm_customer &lt;- rfm_table_customer(rfm_data_customer, customer_id,
number_of_orders, recency_days, revenue, analysis_date)

# heat map
rfm_plot_heatmap(rfm_customer)

</code></pre>

<hr>
<h2 id='rfm_plot_histogram'>RFM histograms</h2><span id='topic+rfm_plot_histogram'></span><span id='topic+rfm_histograms'></span>

<h3>Description</h3>

<p>Histograms of recency, frequency and monetary value.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rfm_plot_histogram(
  rfm_table,
  metric = "recency",
  hist_bins = 9,
  hist_color = NULL,
  plot_title = NULL,
  xaxis_label = NULL,
  yaxis_label = NULL,
  interactive = FALSE,
  print_plot = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rfm_plot_histogram_+3A_rfm_table">rfm_table</code></td>
<td>
<p>An object of class <code>rfm_table</code>.</p>
</td></tr>
<tr><td><code id="rfm_plot_histogram_+3A_metric">metric</code></td>
<td>
<p>Metric to be visualized. Defaults to <code>"recency"</code>. Valid
values are:
</p>

<ul>
<li> <p><code>"recency"</code>
</p>
</li>
<li> <p><code>"frequency"</code>
</p>
</li>
<li> <p><code>"monetary"</code>
</p>
</li></ul>
</td></tr>
<tr><td><code id="rfm_plot_histogram_+3A_hist_bins">hist_bins</code></td>
<td>
<p>Number of bins of the histograms.</p>
</td></tr>
<tr><td><code id="rfm_plot_histogram_+3A_hist_color">hist_color</code></td>
<td>
<p>Color of the histogram.</p>
</td></tr>
<tr><td><code id="rfm_plot_histogram_+3A_plot_title">plot_title</code></td>
<td>
<p>Title of the plot.</p>
</td></tr>
<tr><td><code id="rfm_plot_histogram_+3A_xaxis_label">xaxis_label</code></td>
<td>
<p>X axis label.</p>
</td></tr>
<tr><td><code id="rfm_plot_histogram_+3A_yaxis_label">yaxis_label</code></td>
<td>
<p>Y axis label.</p>
</td></tr>
<tr><td><code id="rfm_plot_histogram_+3A_interactive">interactive</code></td>
<td>
<p>If <code>TRUE</code>, uses <code>plotly</code> as the visualization
engine. If <code>FALSE</code>, uses <code>ggplot2</code>.</p>
</td></tr>
<tr><td><code id="rfm_plot_histogram_+3A_print_plot">print_plot</code></td>
<td>
<p>logical; if <code>TRUE</code>, prints the plot else returns a
plot object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Histograms
</p>


<h3>Deprecated Functions</h3>

<p><code>rfm_histograms()</code> has been deprecated and will be made defunct. It has
been provided for compatibility with older versions only, and will be made
defunct at the next release.
</p>
<p>Instead use the replacement function <code>rfm_plot_histogram()</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># using transaction data
analysis_date &lt;- as.Date('2006-12-31')
rfm_order &lt;- rfm_table_order(rfm_data_orders, customer_id, order_date,
revenue, analysis_date)

# histogram
# ggplot2
rfm_plot_histogram(rfm_order, metric = "frequency")

# plotly
rfm_plot_histogram(rfm_order, metric = "frequency", interactive = TRUE)

# using customer data
analysis_date &lt;- as.Date('2007-01-01')
rfm_customer &lt;- rfm_table_customer(rfm_data_customer, customer_id,
number_of_orders, recency_days, revenue, analysis_date)

# histogram
rfm_plot_histogram(rfm_customer)

</code></pre>

<hr>
<h2 id='rfm_plot_median_recency'>Median plots</h2><span id='topic+rfm_plot_median_recency'></span><span id='topic+rfm_plot_median_frequency'></span><span id='topic+rfm_plot_median_monetary'></span>

<h3>Description</h3>

<p>Segment wise median recency, frequency &amp; monetary value plot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rfm_plot_median_recency(
  rfm_segment_table,
  sort = FALSE,
  ascending = FALSE,
  flip = FALSE,
  bar_color = NULL,
  plot_title = NULL,
  xaxis_label = NULL,
  yaxis_label = NULL,
  axis_label_size = 8,
  axis_label_angle = 315,
  bar_labels = TRUE,
  interactive = FALSE,
  animate = FALSE,
  print_plot = TRUE
)

rfm_plot_median_frequency(
  rfm_segment_table,
  sort = FALSE,
  ascending = FALSE,
  flip = FALSE,
  bar_color = NULL,
  plot_title = NULL,
  xaxis_label = NULL,
  yaxis_label = NULL,
  axis_label_size = 8,
  axis_label_angle = 315,
  bar_labels = TRUE,
  interactive = FALSE,
  animate = FALSE,
  print_plot = TRUE
)

rfm_plot_median_monetary(
  rfm_segment_table,
  sort = FALSE,
  ascending = FALSE,
  flip = FALSE,
  bar_color = NULL,
  plot_title = NULL,
  xaxis_label = NULL,
  yaxis_label = NULL,
  axis_label_size = 8,
  axis_label_angle = 315,
  bar_labels = TRUE,
  interactive = FALSE,
  animate = FALSE,
  print_plot = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rfm_plot_median_recency_+3A_rfm_segment_table">rfm_segment_table</code></td>
<td>
<p>Output from <code>rfm_segment</code>.</p>
</td></tr>
<tr><td><code id="rfm_plot_median_recency_+3A_sort">sort</code></td>
<td>
<p>logical; if <code>TRUE</code>, sort metrics.</p>
</td></tr>
<tr><td><code id="rfm_plot_median_recency_+3A_ascending">ascending</code></td>
<td>
<p>logical; if <code>TRUE</code>, sort metrics in ascending order.</p>
</td></tr>
<tr><td><code id="rfm_plot_median_recency_+3A_flip">flip</code></td>
<td>
<p>logical; if <code>TRUE</code>, creates horizontal bar plot.</p>
</td></tr>
<tr><td><code id="rfm_plot_median_recency_+3A_bar_color">bar_color</code></td>
<td>
<p>Color of the bars.</p>
</td></tr>
<tr><td><code id="rfm_plot_median_recency_+3A_plot_title">plot_title</code></td>
<td>
<p>Title of the plot.</p>
</td></tr>
<tr><td><code id="rfm_plot_median_recency_+3A_xaxis_label">xaxis_label</code></td>
<td>
<p>X axis label.</p>
</td></tr>
<tr><td><code id="rfm_plot_median_recency_+3A_yaxis_label">yaxis_label</code></td>
<td>
<p>Y axis label.</p>
</td></tr>
<tr><td><code id="rfm_plot_median_recency_+3A_axis_label_size">axis_label_size</code></td>
<td>
<p>Font size of X axis tick labels.</p>
</td></tr>
<tr><td><code id="rfm_plot_median_recency_+3A_axis_label_angle">axis_label_angle</code></td>
<td>
<p>Angle of X axis tick labels.</p>
</td></tr>
<tr><td><code id="rfm_plot_median_recency_+3A_bar_labels">bar_labels</code></td>
<td>
<p>If <code>TRUE</code>, add labels to the bars. Defaults to
<code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="rfm_plot_median_recency_+3A_interactive">interactive</code></td>
<td>
<p>If <code>TRUE</code>, uses <code>plotly</code> as the visualization
engine. If <code>FALSE</code>, uses <code>ggplot2</code>.</p>
</td></tr>
<tr><td><code id="rfm_plot_median_recency_+3A_animate">animate</code></td>
<td>
<p>If <code>TRUE</code>, animates the bars. Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="rfm_plot_median_recency_+3A_print_plot">print_plot</code></td>
<td>
<p>logical; if <code>TRUE</code>, prints the plot else returns a
plot object.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># analysis date
analysis_date &lt;- as.Date('2006-12-31')

# generate rfm score
rfm_result &lt;- rfm_table_order(rfm_data_orders, customer_id, order_date,
revenue, analysis_date)

# segment names
segment_names &lt;- c("Champions", "Potential Loyalist", "Loyal Customers",
                   "Promising", "New Customers", "Can't Lose Them",
                   "At Risk", "Need Attention", "About To Sleep", "Lost")

# segment intervals
recency_lower &lt;-   c(5, 3, 2, 3, 4, 1, 1, 1, 2, 1)
recency_upper &lt;-   c(5, 5, 4, 4, 5, 2, 2, 3, 3, 1)
frequency_lower &lt;- c(5, 3, 2, 1, 1, 3, 2, 3, 1, 1)
frequency_upper &lt;- c(5, 5, 4, 3, 3, 4, 5, 5, 3, 5)
monetary_lower &lt;-  c(5, 2, 2, 3, 1, 4, 4, 3, 1, 1)
monetary_upper &lt;-  c(5, 5, 4, 5, 5, 5, 5, 5, 4, 5)

# generate segments
segments &lt;- rfm_segment(rfm_result, segment_names, recency_lower,
recency_upper, frequency_lower, frequency_upper, monetary_lower,
monetary_upper)

# plots
# visualize median recency
rfm_plot_median_recency(segments)

# plotly
rfm_plot_median_recency(segments, interactive = TRUE)

# sort in ascending order
rfm_plot_median_recency(segments, sort = TRUE, ascending = TRUE)

# default sorting is in descending order
rfm_plot_median_recency(segments, sort = TRUE)

# horizontal bars
rfm_plot_median_recency(segments, flip = TRUE)

# median frequency
rfm_plot_median_frequency(segments)

# median monetary value
rfm_plot_median_monetary(segments)

</code></pre>

<hr>
<h2 id='rfm_plot_order_dist'>Customers by orders</h2><span id='topic+rfm_plot_order_dist'></span><span id='topic+rfm_order_dist'></span>

<h3>Description</h3>

<p>Visualize the distribution of customers across orders.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rfm_plot_order_dist(
  rfm_table,
  flip = FALSE,
  bar_color = NULL,
  plot_title = NULL,
  xaxis_label = NULL,
  yaxis_label = NULL,
  bar_label_size = 3,
  bar_labels = TRUE,
  interactive = FALSE,
  animate = FALSE,
  print_plot = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rfm_plot_order_dist_+3A_rfm_table">rfm_table</code></td>
<td>
<p>An object of class <code>rfm_table</code>.</p>
</td></tr>
<tr><td><code id="rfm_plot_order_dist_+3A_flip">flip</code></td>
<td>
<p>logical; if <code>TRUE</code>, creates horizontal bar plot.</p>
</td></tr>
<tr><td><code id="rfm_plot_order_dist_+3A_bar_color">bar_color</code></td>
<td>
<p>Color of the bars.</p>
</td></tr>
<tr><td><code id="rfm_plot_order_dist_+3A_plot_title">plot_title</code></td>
<td>
<p>Title of the plot.</p>
</td></tr>
<tr><td><code id="rfm_plot_order_dist_+3A_xaxis_label">xaxis_label</code></td>
<td>
<p>X axis title.</p>
</td></tr>
<tr><td><code id="rfm_plot_order_dist_+3A_yaxis_label">yaxis_label</code></td>
<td>
<p>Y axis title.</p>
</td></tr>
<tr><td><code id="rfm_plot_order_dist_+3A_bar_label_size">bar_label_size</code></td>
<td>
<p>Size of bar labels.</p>
</td></tr>
<tr><td><code id="rfm_plot_order_dist_+3A_bar_labels">bar_labels</code></td>
<td>
<p>If <code>TRUE</code>, add labels to the bars. Defaults to
<code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="rfm_plot_order_dist_+3A_interactive">interactive</code></td>
<td>
<p>If <code>TRUE</code>, uses <code>plotly</code> as the visualization
engine. If <code>FALSE</code>, uses <code>ggplot2</code>.</p>
</td></tr>
<tr><td><code id="rfm_plot_order_dist_+3A_animate">animate</code></td>
<td>
<p>If <code>TRUE</code>, animates the bars. Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="rfm_plot_order_dist_+3A_print_plot">print_plot</code></td>
<td>
<p>logical; if <code>TRUE</code>, prints the plot else returns a
plot object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Bar chart.
</p>


<h3>Deprecated Functions</h3>

<p><code>rfm_order_dist()</code> has been deprecated and will be made defunct. It has
been provided for compatibility with older versions only, and will be made
defunct at the next release.
</p>
<p>Instead use the replacement function <code>rfm_plot_order_dist()</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># using transaction data
analysis_date &lt;- as.Date('2006-12-31')
rfm_order &lt;- rfm_table_order(rfm_data_orders, customer_id, order_date,
revenue, analysis_date)

# order distribution
rfm_plot_order_dist(rfm_order)

# horizontal bars
rfm_plot_order_dist(rfm_order, flip = TRUE)

# plotly
rfm_plot_order_dist(rfm_order, interactive = TRUE)

# using customer data
analysis_date &lt;- as.Date('2007-01-01')
rfm_customer &lt;- rfm_table_customer(rfm_data_customer, customer_id,
number_of_orders, recency_days, revenue, analysis_date)

# order distribution
rfm_plot_order_dist(rfm_customer)

</code></pre>

<hr>
<h2 id='rfm_plot_revenue_dist'>Revenue distribution</h2><span id='topic+rfm_plot_revenue_dist'></span>

<h3>Description</h3>

<p>Customer and revenue distribution by segments.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rfm_plot_revenue_dist(
  x,
  flip = FALSE,
  colors = c("#3b5bdb", "#91a7ff"),
  legend_labels = c("Revenue", "Customers"),
  plot_title = "Revenue &amp; Customer Distribution",
  xaxis_label = NULL,
  yaxis_label = NULL,
  axis_label_size = 8,
  axis_label_angle = 315,
  bar_labels = FALSE,
  bar_label_size = 2,
  interactive = FALSE,
  animate = FALSE,
  print_plot = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rfm_plot_revenue_dist_+3A_x">x</code></td>
<td>
<p>An object of class <code>rfm_segment_summary</code>.</p>
</td></tr>
<tr><td><code id="rfm_plot_revenue_dist_+3A_flip">flip</code></td>
<td>
<p>logical; if <code>TRUE</code>, creates horizontal bar plot.</p>
</td></tr>
<tr><td><code id="rfm_plot_revenue_dist_+3A_colors">colors</code></td>
<td>
<p>Bar colors.</p>
</td></tr>
<tr><td><code id="rfm_plot_revenue_dist_+3A_legend_labels">legend_labels</code></td>
<td>
<p>Legend labels.</p>
</td></tr>
<tr><td><code id="rfm_plot_revenue_dist_+3A_plot_title">plot_title</code></td>
<td>
<p>Title of the plot.</p>
</td></tr>
<tr><td><code id="rfm_plot_revenue_dist_+3A_xaxis_label">xaxis_label</code></td>
<td>
<p>X axis label.</p>
</td></tr>
<tr><td><code id="rfm_plot_revenue_dist_+3A_yaxis_label">yaxis_label</code></td>
<td>
<p>Y axis label.</p>
</td></tr>
<tr><td><code id="rfm_plot_revenue_dist_+3A_axis_label_size">axis_label_size</code></td>
<td>
<p>Font size of X axis tick labels.</p>
</td></tr>
<tr><td><code id="rfm_plot_revenue_dist_+3A_axis_label_angle">axis_label_angle</code></td>
<td>
<p>Angle of X axis tick labels.</p>
</td></tr>
<tr><td><code id="rfm_plot_revenue_dist_+3A_bar_labels">bar_labels</code></td>
<td>
<p>If <code>TRUE</code>, add labels to the bars. Defaults to
<code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="rfm_plot_revenue_dist_+3A_bar_label_size">bar_label_size</code></td>
<td>
<p>Size of bar labels.</p>
</td></tr>
<tr><td><code id="rfm_plot_revenue_dist_+3A_interactive">interactive</code></td>
<td>
<p>If <code>TRUE</code>, uses <code>plotly</code> as the visualization
engine. If <code>FALSE</code>, uses <code>ggplot2</code>.</p>
</td></tr>
<tr><td><code id="rfm_plot_revenue_dist_+3A_animate">animate</code></td>
<td>
<p>If <code>TRUE</code>, animates the bars. Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="rfm_plot_revenue_dist_+3A_print_plot">print_plot</code></td>
<td>
<p>logical; if <code>TRUE</code>, prints the plot else returns a
plot object.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># analysis date
analysis_date &lt;- as.Date('2006-12-31')

# generate rfm score
rfm_result &lt;- rfm_table_order(rfm_data_orders, customer_id, order_date,
revenue, analysis_date)

# segment names
segment_names &lt;- c("Champions", "Potential Loyalist", "Loyal Customers",
                   "Promising", "New Customers", "Can't Lose Them",
                   "At Risk", "Need Attention", "About To Sleep", "Lost")

# segment intervals
recency_lower &lt;-   c(5, 3, 2, 3, 4, 1, 1, 1, 2, 1)
recency_upper &lt;-   c(5, 5, 4, 4, 5, 2, 2, 3, 3, 1)
frequency_lower &lt;- c(5, 3, 2, 1, 1, 3, 2, 3, 1, 1)
frequency_upper &lt;- c(5, 5, 4, 3, 3, 4, 5, 5, 3, 5)
monetary_lower &lt;-  c(5, 2, 2, 3, 1, 4, 4, 3, 1, 1)
monetary_upper &lt;-  c(5, 5, 4, 5, 5, 5, 5, 5, 4, 5)

# generate segments
segments &lt;- rfm_segment(rfm_result, segment_names, recency_lower,
recency_upper, frequency_lower, frequency_upper, monetary_lower,
monetary_upper)

# segment summary
segment_overview &lt;- rfm_segment_summary(segments)

# revenue distribution
# ggplot2
rfm_plot_revenue_dist(segment_overview)

# flip
rfm_plot_revenue_dist(segment_overview, flip = TRUE)

# plotly
rfm_plot_revenue_dist(segment_overview, interactive = TRUE)

</code></pre>

<hr>
<h2 id='rfm_plot_segment'>RFM Segmentation Plot</h2><span id='topic+rfm_plot_segment'></span>

<h3>Description</h3>

<p>Generates tree map to visualize segments.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rfm_plot_segment(
  table,
  metric = "customers",
  interactive = FALSE,
  print_plot = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rfm_plot_segment_+3A_table">table</code></td>
<td>
<p>An object of class <code>rfm_segment_summary</code>.</p>
</td></tr>
<tr><td><code id="rfm_plot_segment_+3A_metric">metric</code></td>
<td>
<p>Metric to be visualized. Defaults to <code>"customers"</code>. Valid
values are:
</p>

<ul>
<li> <p><code>"customers"</code>
</p>
</li>
<li> <p><code>"orders"</code>
</p>
</li>
<li> <p><code>"revenue"</code>
</p>
</li></ul>
</td></tr>
<tr><td><code id="rfm_plot_segment_+3A_interactive">interactive</code></td>
<td>
<p>If <code>TRUE</code>, uses <code>plotly</code> as the visualization
engine. If <code>FALSE</code>, uses <code>ggplot2</code>.</p>
</td></tr>
<tr><td><code id="rfm_plot_segment_+3A_print_plot">print_plot</code></td>
<td>
<p>logical; if <code>TRUE</code>, prints the plot else returns a
plot object.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># analysis date
analysis_date &lt;- as.Date('2006-12-31')

# generate rfm score
rfm_result &lt;- rfm_table_order(rfm_data_orders, customer_id, order_date,
revenue, analysis_date)

# segment names
segment_names &lt;- c("Champions", "Potential Loyalist", "Loyal Customers",
                   "Promising", "New Customers", "Can't Lose Them",
                   "At Risk", "Need Attention", "About To Sleep", "Lost")

# segment intervals
recency_lower &lt;-   c(5, 3, 2, 3, 4, 1, 1, 1, 2, 1)
recency_upper &lt;-   c(5, 5, 4, 4, 5, 2, 2, 3, 3, 1)
frequency_lower &lt;- c(5, 3, 2, 1, 1, 3, 2, 3, 1, 1)
frequency_upper &lt;- c(5, 5, 4, 3, 3, 4, 5, 5, 3, 5)
monetary_lower &lt;-  c(5, 2, 2, 3, 1, 4, 4, 3, 1, 1)
monetary_upper &lt;-  c(5, 5, 4, 5, 5, 5, 5, 5, 4, 5)

# generate segments
segments &lt;- rfm_segment(rfm_result, segment_names, recency_lower,
recency_upper, frequency_lower, frequency_upper, monetary_lower,
monetary_upper)

# segment summary
segment_overview &lt;- rfm_segment_summary(segments)

# treemaps
# default metric is customers
rfm_plot_segment(segment_overview)

# treemap of orders
rfm_plot_segment(segment_overview, metric = "orders")

# plotly
rfm_plot_segment(segment_overview, metric = "revenue", interactive = TRUE)

</code></pre>

<hr>
<h2 id='rfm_plot_segment_scatter'>Segment Scatter Plots</h2><span id='topic+rfm_plot_segment_scatter'></span>

<h3>Description</h3>

<p>Generate scatter plots to examine the relationship between
recency, frequency and monetary value.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rfm_plot_segment_scatter(
  segments,
  x = "monetary",
  y = "recency",
  plot_title = NULL,
  legend_title = NULL,
  xaxis_label = NULL,
  yaxis_label = NULL,
  interactive = FALSE,
  animate = FALSE,
  print_plot = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rfm_plot_segment_scatter_+3A_segments">segments</code></td>
<td>
<p>Output from <code>rfm_segment</code>.</p>
</td></tr>
<tr><td><code id="rfm_plot_segment_scatter_+3A_x">x</code></td>
<td>
<p>Metric to be represented on X axis.</p>
</td></tr>
<tr><td><code id="rfm_plot_segment_scatter_+3A_y">y</code></td>
<td>
<p>Metric to be represented on Y axis.</p>
</td></tr>
<tr><td><code id="rfm_plot_segment_scatter_+3A_plot_title">plot_title</code></td>
<td>
<p>Title of the plot.</p>
</td></tr>
<tr><td><code id="rfm_plot_segment_scatter_+3A_legend_title">legend_title</code></td>
<td>
<p>Title of the plot legend.</p>
</td></tr>
<tr><td><code id="rfm_plot_segment_scatter_+3A_xaxis_label">xaxis_label</code></td>
<td>
<p>X axis label.</p>
</td></tr>
<tr><td><code id="rfm_plot_segment_scatter_+3A_yaxis_label">yaxis_label</code></td>
<td>
<p>Y axis label.</p>
</td></tr>
<tr><td><code id="rfm_plot_segment_scatter_+3A_interactive">interactive</code></td>
<td>
<p>If <code>TRUE</code>, uses <code>plotly</code> as the visualization
engine. If <code>FALSE</code>, uses <code>ggplot2</code>.</p>
</td></tr>
<tr><td><code id="rfm_plot_segment_scatter_+3A_animate">animate</code></td>
<td>
<p>If <code>TRUE</code>, animates the bars. Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="rfm_plot_segment_scatter_+3A_print_plot">print_plot</code></td>
<td>
<p>logical; if <code>TRUE</code>, prints the plot else returns a
plot object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Scatter plot.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># analysis date
analysis_date &lt;- as.Date('2006-12-31')

# generate rfm score
rfm_result &lt;- rfm_table_order(rfm_data_orders, customer_id, order_date,
revenue, analysis_date)

# segment names
segment_names &lt;- c("Champions", "Potential Loyalist", "Loyal Customers",
                   "Promising", "New Customers", "Can't Lose Them",
                   "At Risk", "Need Attention", "About To Sleep", "Lost")

# segment intervals
recency_lower &lt;-   c(5, 3, 2, 3, 4, 1, 1, 1, 2, 1)
recency_upper &lt;-   c(5, 5, 4, 4, 5, 2, 2, 3, 3, 1)
frequency_lower &lt;- c(5, 3, 2, 1, 1, 3, 2, 3, 1, 1)
frequency_upper &lt;- c(5, 5, 4, 3, 3, 4, 5, 5, 3, 5)
monetary_lower &lt;-  c(5, 2, 2, 3, 1, 4, 4, 3, 1, 1)
monetary_upper &lt;-  c(5, 5, 4, 5, 5, 5, 5, 5, 4, 5)

# generate segments
segments &lt;- rfm_segment(rfm_result, segment_names, recency_lower,
recency_upper, frequency_lower, frequency_upper, monetary_lower,
monetary_upper)

# visualize
# ggplot2
rfm_plot_segment_scatter(segments, "monetary", "recency")

# plotly
rfm_plot_segment_scatter(segments, "monetary", "recency", interactive = TRUE)

</code></pre>

<hr>
<h2 id='rfm_plot_segment_summary'>Visulaize segment summary</h2><span id='topic+rfm_plot_segment_summary'></span>

<h3>Description</h3>

<p>Generates plots for customers, orders, revenue and average order value for
each segment.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rfm_plot_segment_summary(
  x,
  metric = NULL,
  sort = FALSE,
  ascending = FALSE,
  flip = FALSE,
  bar_color = NULL,
  plot_title = NULL,
  xaxis_label = NULL,
  yaxis_label = NULL,
  axis_label_size = 8,
  axis_label_angle = 315,
  bar_labels = TRUE,
  interactive = FALSE,
  animate = FALSE,
  print_plot = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rfm_plot_segment_summary_+3A_x">x</code></td>
<td>
<p>An object of class <code>rfm_segment_summary</code>.</p>
</td></tr>
<tr><td><code id="rfm_plot_segment_summary_+3A_metric">metric</code></td>
<td>
<p>Metric to be visualized. Defaults to <code>"customers"</code>. Valid
values are:
</p>

<ul>
<li> <p><code>"customers"</code>
</p>
</li>
<li> <p><code>"orders"</code>
</p>
</li>
<li> <p><code>"revenue"</code>
</p>
</li>
<li> <p><code>"aov"</code>
</p>
</li></ul>
</td></tr>
<tr><td><code id="rfm_plot_segment_summary_+3A_sort">sort</code></td>
<td>
<p>logical; if <code>TRUE</code>, sort metrics.</p>
</td></tr>
<tr><td><code id="rfm_plot_segment_summary_+3A_ascending">ascending</code></td>
<td>
<p>logical; if <code>TRUE</code>, sort metrics in ascending order.</p>
</td></tr>
<tr><td><code id="rfm_plot_segment_summary_+3A_flip">flip</code></td>
<td>
<p>logical; if <code>TRUE</code>, creates horizontal bar plot.</p>
</td></tr>
<tr><td><code id="rfm_plot_segment_summary_+3A_bar_color">bar_color</code></td>
<td>
<p>Color of the bars.</p>
</td></tr>
<tr><td><code id="rfm_plot_segment_summary_+3A_plot_title">plot_title</code></td>
<td>
<p>Title of the plot.</p>
</td></tr>
<tr><td><code id="rfm_plot_segment_summary_+3A_xaxis_label">xaxis_label</code></td>
<td>
<p>X axis label.</p>
</td></tr>
<tr><td><code id="rfm_plot_segment_summary_+3A_yaxis_label">yaxis_label</code></td>
<td>
<p>Y axis label.</p>
</td></tr>
<tr><td><code id="rfm_plot_segment_summary_+3A_axis_label_size">axis_label_size</code></td>
<td>
<p>Font size of X axis tick labels.</p>
</td></tr>
<tr><td><code id="rfm_plot_segment_summary_+3A_axis_label_angle">axis_label_angle</code></td>
<td>
<p>Angle of X axis tick labels.</p>
</td></tr>
<tr><td><code id="rfm_plot_segment_summary_+3A_bar_labels">bar_labels</code></td>
<td>
<p>If <code>TRUE</code>, add labels to the bars. Defaults to
<code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="rfm_plot_segment_summary_+3A_interactive">interactive</code></td>
<td>
<p>If <code>TRUE</code>, uses <code>plotly</code> as the visualization
engine. If <code>FALSE</code>, uses <code>ggplot2</code>.</p>
</td></tr>
<tr><td><code id="rfm_plot_segment_summary_+3A_animate">animate</code></td>
<td>
<p>If <code>TRUE</code>, animates the bars. Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="rfm_plot_segment_summary_+3A_print_plot">print_plot</code></td>
<td>
<p>logical; if <code>TRUE</code>, prints the plot else returns a
plot object.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># analysis date
analysis_date &lt;- as.Date('2006-12-31')

# generate rfm score
rfm_result &lt;- rfm_table_order(rfm_data_orders, customer_id, order_date,
revenue, analysis_date)

# segment names
segment_names &lt;- c("Champions", "Potential Loyalist", "Loyal Customers",
                   "Promising", "New Customers", "Can't Lose Them",
                   "At Risk", "Need Attention", "About To Sleep", "Lost")

# segment intervals
recency_lower &lt;-   c(5, 3, 2, 3, 4, 1, 1, 1, 2, 1)
recency_upper &lt;-   c(5, 5, 4, 4, 5, 2, 2, 3, 3, 1)
frequency_lower &lt;- c(5, 3, 2, 1, 1, 3, 2, 3, 1, 1)
frequency_upper &lt;- c(5, 5, 4, 3, 3, 4, 5, 5, 3, 5)
monetary_lower &lt;-  c(5, 2, 2, 3, 1, 4, 4, 3, 1, 1)
monetary_upper &lt;-  c(5, 5, 4, 5, 5, 5, 5, 5, 4, 5)

# generate segments
segments &lt;- rfm_segment(rfm_result, segment_names, recency_lower,
recency_upper, frequency_lower, frequency_upper, monetary_lower,
monetary_upper)

# segment summary
segment_overview &lt;- rfm_segment_summary(segments)

# plot segment summary
# summarize metric for all segments
# ggplot2
rfm_plot_segment_summary(segment_overview)

# plotly
rfm_plot_segment_summary(segment_overview, interactive = TRUE)

# select metric to be visualized
rfm_plot_segment_summary(segment_overview, metric = "orders")

# sort the metric in ascending order
rfm_plot_segment_summary(segment_overview, metric = "orders", sort = TRUE,
  ascending = TRUE)

# default sorting is in descending order
rfm_plot_segment_summary(segment_overview, metric = "orders", sort = TRUE)

# horizontal bars
rfm_plot_segment_summary(segment_overview, metric = "orders", flip = TRUE)

</code></pre>

<hr>
<h2 id='rfm_rm_plot'>RFM Scatter plot</h2><span id='topic+rfm_rm_plot'></span><span id='topic+rfm_fm_plot'></span><span id='topic+rfm_rf_plot'></span>

<h3>Description</h3>

<p>Examine the relationship between recency, frequency
and monetary values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rfm_rm_plot(
  segments,
  xaxis_label = NULL,
  yaxis_label = NULL,
  plot_title = NULL,
  print_plot = TRUE
)

rfm_fm_plot(
  segments,
  xaxis_label = NULL,
  yaxis_label = NULL,
  plot_title = NULL,
  print_plot = TRUE
)

rfm_rf_plot(
  segments,
  xaxis_label = NULL,
  yaxis_label = NULL,
  plot_title = NULL,
  print_plot = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rfm_rm_plot_+3A_segments">segments</code></td>
<td>
<p>Output from <code>rfm_segment</code>.</p>
</td></tr>
<tr><td><code id="rfm_rm_plot_+3A_xaxis_label">xaxis_label</code></td>
<td>
<p>X axis label.</p>
</td></tr>
<tr><td><code id="rfm_rm_plot_+3A_yaxis_label">yaxis_label</code></td>
<td>
<p>Y axis label.</p>
</td></tr>
<tr><td><code id="rfm_rm_plot_+3A_plot_title">plot_title</code></td>
<td>
<p>Title of the plot.</p>
</td></tr>
<tr><td><code id="rfm_rm_plot_+3A_print_plot">print_plot</code></td>
<td>
<p>logical; if <code>TRUE</code>, prints the plot else returns a
plot object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Scatter plot.
</p>


<h3>Deprecated Functions</h3>

<p><code>rfm_rm_plot()</code>, <code>rfm_fm_plot()</code> and <code>rfm_rf_plot()</code> have
been deprecated and will be made defunct. These functions have been provided
for compatibility with older versions only, and will be made defunct at the
next release.
Instead use the replacement function <code>rfm_plot_segment_scatter()</code>.
</p>

<hr>
<h2 id='rfm_segment'>Segmentation</h2><span id='topic+rfm_segment'></span>

<h3>Description</h3>

<p>Create segments based on recency, frequency and monetary scores.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rfm_segment(
  data,
  segment_names = NULL,
  recency_lower = NULL,
  recency_upper = NULL,
  frequency_lower = NULL,
  frequency_upper = NULL,
  monetary_lower = NULL,
  monetary_upper = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rfm_segment_+3A_data">data</code></td>
<td>
<p>An object of class <code>rfm_table</code>.</p>
</td></tr>
<tr><td><code id="rfm_segment_+3A_segment_names">segment_names</code></td>
<td>
<p>Names of the segments.</p>
</td></tr>
<tr><td><code id="rfm_segment_+3A_recency_lower">recency_lower</code></td>
<td>
<p>Lower boundary for recency score.</p>
</td></tr>
<tr><td><code id="rfm_segment_+3A_recency_upper">recency_upper</code></td>
<td>
<p>Upper boundary for recency score.</p>
</td></tr>
<tr><td><code id="rfm_segment_+3A_frequency_lower">frequency_lower</code></td>
<td>
<p>Lower boundary for frequency score.</p>
</td></tr>
<tr><td><code id="rfm_segment_+3A_frequency_upper">frequency_upper</code></td>
<td>
<p>Upper boundary for frequency score.</p>
</td></tr>
<tr><td><code id="rfm_segment_+3A_monetary_lower">monetary_lower</code></td>
<td>
<p>Lower boundary for monetary score.</p>
</td></tr>
<tr><td><code id="rfm_segment_+3A_monetary_upper">monetary_upper</code></td>
<td>
<p>Upper boundary for monetary score.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># analysis date
analysis_date &lt;- as.Date('2006-12-31')

# generate rfm score
rfm_result &lt;- rfm_table_order(rfm_data_orders, customer_id, order_date,
revenue, analysis_date)

# segment names
segment_names &lt;- c("Champions", "Potential Loyalist", "Loyal Customers",
                   "Promising", "New Customers", "Can't Lose Them",
                   "At Risk", "Need Attention", "About To Sleep", "Lost")

# segment intervals
recency_lower &lt;-   c(5, 3, 2, 3, 4, 1, 1, 1, 2, 1)
recency_upper &lt;-   c(5, 5, 4, 4, 5, 2, 2, 3, 3, 1)
frequency_lower &lt;- c(5, 3, 2, 1, 1, 3, 2, 3, 1, 1)
frequency_upper &lt;- c(5, 5, 4, 3, 3, 4, 5, 5, 3, 5)
monetary_lower &lt;-  c(5, 2, 2, 3, 1, 4, 4, 3, 1, 1)
monetary_upper &lt;-  c(5, 5, 4, 5, 5, 5, 5, 5, 4, 5)

# generate segments
segments &lt;- rfm_segment(rfm_result, segment_names, recency_lower,
recency_upper, frequency_lower, frequency_upper, monetary_lower,
monetary_upper)

segments

</code></pre>

<hr>
<h2 id='rfm_segment_summary'>Segment summary</h2><span id='topic+rfm_segment_summary'></span>

<h3>Description</h3>

<p>An overview of customer segments.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rfm_segment_summary(segments)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rfm_segment_summary_+3A_segments">segments</code></td>
<td>
<p>Output from <code>rfm_segment</code>.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># analysis date
analysis_date &lt;- as.Date('2006-12-31')

# generate rfm score
rfm_result &lt;- rfm_table_order(rfm_data_orders, customer_id, order_date,
revenue, analysis_date)

# segment names
segment_names &lt;- c("Champions", "Potential Loyalist", "Loyal Customers",
                   "Promising", "New Customers", "Can't Lose Them",
                   "At Risk", "Need Attention", "About To Sleep", "Lost")

# segment intervals
recency_lower &lt;-   c(5, 3, 2, 3, 4, 1, 1, 1, 2, 1)
recency_upper &lt;-   c(5, 5, 4, 4, 5, 2, 2, 3, 3, 1)
frequency_lower &lt;- c(5, 3, 2, 1, 1, 3, 2, 3, 1, 1)
frequency_upper &lt;- c(5, 5, 4, 3, 3, 4, 5, 5, 3, 5)
monetary_lower &lt;-  c(5, 2, 2, 3, 1, 4, 4, 3, 1, 1)
monetary_upper &lt;-  c(5, 5, 4, 5, 5, 5, 5, 5, 4, 5)

# generate segments
segments &lt;- rfm_segment(rfm_result, segment_names, recency_lower,
recency_upper, frequency_lower, frequency_upper, monetary_lower,
monetary_upper)

# segment summary
rfm_segment_summary(segments)

</code></pre>

<hr>
<h2 id='rfm_table_customer_2'>RFM table (customer data)</h2><span id='topic+rfm_table_customer_2'></span><span id='topic+rfm_table_customer'></span>

<h3>Description</h3>

<p>Recency, frequency, monetary and RFM score.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rfm_table_customer(
  data = NULL,
  customer_id = NULL,
  n_transactions = NULL,
  recency = NULL,
  total_revenue = NULL,
  analysis_date = NULL,
  recency_bins = 5,
  frequency_bins = 5,
  monetary_bins = 5,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rfm_table_customer_2_+3A_data">data</code></td>
<td>
<p>A <code>data.frame</code> or <code>tibble</code>.</p>
</td></tr>
<tr><td><code id="rfm_table_customer_2_+3A_customer_id">customer_id</code></td>
<td>
<p>Unique id of the customer.</p>
</td></tr>
<tr><td><code id="rfm_table_customer_2_+3A_n_transactions">n_transactions</code></td>
<td>
<p>Number of transactions/orders.</p>
</td></tr>
<tr><td><code id="rfm_table_customer_2_+3A_total_revenue">total_revenue</code></td>
<td>
<p>Total revenue from the customer.</p>
</td></tr>
<tr><td><code id="rfm_table_customer_2_+3A_analysis_date">analysis_date</code></td>
<td>
<p>Date of analysis.</p>
</td></tr>
<tr><td><code id="rfm_table_customer_2_+3A_recency_bins">recency_bins</code></td>
<td>
<p>Number of bins for recency or custom threshold.</p>
</td></tr>
<tr><td><code id="rfm_table_customer_2_+3A_frequency_bins">frequency_bins</code></td>
<td>
<p>Number of bins for frequency or custom threshold.</p>
</td></tr>
<tr><td><code id="rfm_table_customer_2_+3A_monetary_bins">monetary_bins</code></td>
<td>
<p>Number of bins for monetary or custom threshold.</p>
</td></tr>
<tr><td><code id="rfm_table_customer_2_+3A_...">...</code></td>
<td>
<p>Other arguments.</p>
</td></tr>
<tr><td><code id="rfm_table_customer_2_+3A_recency">recency</code></td>
<td>
<p>Days since last visit or date of last visit.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>rfm_table_order</code> returns a list with the following:
</p>
<table role = "presentation">
<tr><td><code>rfm</code></td>
<td>
<p>RFM table.</p>
</td></tr>
<tr><td><code>analysis_date</code></td>
<td>
<p>Date of analysis.</p>
</td></tr>
<tr><td><code>frequency_bins</code></td>
<td>
<p>Number of bins used for frequency score.</p>
</td></tr>
<tr><td><code>recency_bins</code></td>
<td>
<p>Number of bins used for recency score.</p>
</td></tr>
<tr><td><code>monetary_bins</code></td>
<td>
<p>Number of bins used for monetary score.</p>
</td></tr>
<tr><td><code>threshold</code></td>
<td>
<p>thresholds used for generating RFM scores.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>analysis_date &lt;- as.Date('2007-01-01')

# data includes days since last visit
rfm_table_customer(rfm_data_customer, customer_id, number_of_orders,
recency_days, revenue, analysis_date)

# data includes last visit date
rfm_table_customer(rfm_data_customer, customer_id, number_of_orders,
most_recent_visit, revenue, analysis_date)

# access rfm table
result &lt;- rfm_table_customer(rfm_data_customer, customer_id, number_of_orders,
recency_days, revenue, analysis_date)
result$rfm

# using custom threshold
rfm_table_customer(rfm_data_customer, customer_id, number_of_orders,
recency_days, revenue, analysis_date, recency_bins = c(115, 181, 297, 482),
frequency_bins = c(4, 5, 6, 8), monetary_bins = c(256, 382, 506, 666))

</code></pre>

<hr>
<h2 id='rfm_table_order'>RFM table (transaction data)</h2><span id='topic+rfm_table_order'></span>

<h3>Description</h3>

<p>Recency, frequency, monetary and RFM score.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rfm_table_order(
  data = NULL,
  customer_id = NULL,
  order_date = NULL,
  revenue = NULL,
  analysis_date = NULL,
  recency_bins = 5,
  frequency_bins = 5,
  monetary_bins = 5,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rfm_table_order_+3A_data">data</code></td>
<td>
<p>A <code>data.frame</code> or <code>tibble</code>.</p>
</td></tr>
<tr><td><code id="rfm_table_order_+3A_customer_id">customer_id</code></td>
<td>
<p>Unique id of the customer.</p>
</td></tr>
<tr><td><code id="rfm_table_order_+3A_order_date">order_date</code></td>
<td>
<p>Date of the transaction.</p>
</td></tr>
<tr><td><code id="rfm_table_order_+3A_revenue">revenue</code></td>
<td>
<p>Revenue from the customer.</p>
</td></tr>
<tr><td><code id="rfm_table_order_+3A_analysis_date">analysis_date</code></td>
<td>
<p>Date of analysis.</p>
</td></tr>
<tr><td><code id="rfm_table_order_+3A_recency_bins">recency_bins</code></td>
<td>
<p>Number of bins for recency or custom threshold.</p>
</td></tr>
<tr><td><code id="rfm_table_order_+3A_frequency_bins">frequency_bins</code></td>
<td>
<p>Number of bins for frequency or custom threshold.</p>
</td></tr>
<tr><td><code id="rfm_table_order_+3A_monetary_bins">monetary_bins</code></td>
<td>
<p>Number of bins for monetary or custom threshold.</p>
</td></tr>
<tr><td><code id="rfm_table_order_+3A_...">...</code></td>
<td>
<p>Other arguments.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>rfm_table_order</code> returns a list with the following:
</p>
<table role = "presentation">
<tr><td><code>rfm</code></td>
<td>
<p>RFM table.</p>
</td></tr>
<tr><td><code>analysis_date</code></td>
<td>
<p>Date of analysis.</p>
</td></tr>
<tr><td><code>frequency_bins</code></td>
<td>
<p>Number of bins used for frequency score.</p>
</td></tr>
<tr><td><code>recency_bins</code></td>
<td>
<p>Number of bins used for recency score.</p>
</td></tr>
<tr><td><code>monetary_bins</code></td>
<td>
<p>Number of bins used for monetary score.</p>
</td></tr>
<tr><td><code>threshold</code></td>
<td>
<p>thresholds used for generating RFM scores.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>analysis_date &lt;- as.Date("2006-12-31")
rfm_table_order(
  rfm_data_orders, customer_id, order_date, revenue,
  analysis_date
)

# access rfm table
result &lt;- rfm_table_order(
  rfm_data_orders, customer_id, order_date,
  revenue, analysis_date
)
result$rfm

# using custom threshold
rfm_table_order(rfm_data_orders, customer_id, order_date, revenue,
  analysis_date,
  recency_bins = c(115, 181, 297, 482), frequency_bins = c(4, 5, 6, 8),
  monetary_bins = c(256, 382, 506, 666)
)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

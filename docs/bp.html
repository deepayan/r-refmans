<!DOCTYPE html><html><head><title>Help for package bp</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {bp}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#%&gt;%'><p>Pipe operator</p></a></li>
<li><a href='#arv'><p>Average Real Variability (ARV)</p></a></li>
<li><a href='#bp_arv'><p>Average Real Variability (ARV)</p></a></li>
<li><a href='#bp_center'><p>Measures of Center (bp_center)</p></a></li>
<li><a href='#bp_children'><p>B-Proact1v Children Data</p></a></li>
<li><a href='#bp_cv'><p>Coefficient of Variation (CV)</p></a></li>
<li><a href='#bp_ghana'><p>Task Shifting and Blood Pressure Control in Ghana Data</p></a></li>
<li><a href='#bp_hist'><p>Blood Pressure Histograms</p></a></li>
<li><a href='#bp_hypnos'><p>HYPNOS Study - 5 Subject Sample</p></a></li>
<li><a href='#bp_jhs'><p>Blood Pressure - 1 Subject - John Schwenck</p></a></li>
<li><a href='#bp_mag'><p>Blood Pressure Magnitude (Peak and Trough)</p></a></li>
<li><a href='#bp_preg'><p>Pregnancy Day Assessment Clinic Data</p></a></li>
<li><a href='#bp_range'><p>Blood Pressure Range</p></a></li>
<li><a href='#bp_rats'><p>Blood Pressure in Salt-Sensitive Dahl Rats Data</p></a></li>
<li><a href='#bp_report'><p>Blood Pressure Report</p></a></li>
<li><a href='#bp_scatter'><p>Blood Pressure Stage Scatter Plot</p></a></li>
<li><a href='#bp_sleep_metrics'><p>Nocturnal Blood Pressure Metrics</p></a></li>
<li><a href='#bp_stages'><p>Alternative Blood Pressure Stages</p></a></li>
<li><a href='#bp_stats'><p>Aggregated BP Summary Statistics</p></a></li>
<li><a href='#bp_sv'><p>Successive Variation (SV)</p></a></li>
<li><a href='#bp_tables'><p>Blood Pressure Tables</p></a></li>
<li><a href='#bp_ts_plots'><p>Blood Pressure Time Series Plots</p></a></li>
<li><a href='#create_grps'><p>Create Groups for Dplyr</p></a></li>
<li><a href='#cv'><p>Coefficient of Variation (CV)</p></a></li>
<li><a href='#dip_calc'><p>Nocturnal Blood Pressure Dipping Calculation</p></a></li>
<li><a href='#dip_class_plot'><p>Plot of Dipping Classifications</p></a></li>
<li><a href='#dow_tod_plots'><p>Blood Pressure Tables in Graphical Format</p></a></li>
<li><a href='#path_check'><p>Compatibility Check for <code>path</code> Argument</p></a></li>
<li><a href='#process_data'><p>Data Pre-Processor</p></a></li>
<li><a href='#sleep_int'><p>Sleep Interval Manual Override</p></a></li>
<li><a href='#stage_check'><p>Compatibility Checks for User-Supplied SBP/DBP Stages Vector</p></a></li>
<li><a href='#subject_subset_check'><p>Compatibility Check for User-Supplied Subject Subset Vector</p></a></li>
<li><a href='#sv'><p>Successive Variation (SV)</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Blood Pressure Analysis in R</td>
</tr>
<tr>
<td>Version:</td>
<td>2.1.0</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>John Schwenck &lt;jschwenck12@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>A comprehensive package to aid in the analysis of blood pressure data of all forms by providing both descriptive and visualization tools for researchers.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/johnschwenck/bp">https://github.com/johnschwenck/bp</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/johnschwenck/bp/issues">https://github.com/johnschwenck/bp/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr, tidyr, magrittr, lubridate, ggplot2, gridExtra,
cowplot, tibble, tidyselect, gtable</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, png</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-05-10 15:25:56 UTC; John</td>
</tr>
<tr>
<td>Author:</td>
<td>John Schwenck [aut, cre],
  Irina Gaynanova <a href="https://orcid.org/0000-0002-4116-0268"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-05-10 15:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>See <code>magrittr::<a href="magrittr.html#topic+pipe">%&gt;%</a></code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>

<hr>
<h2 id='arv'>Average Real Variability (ARV)</h2><span id='topic+arv'></span>

<h3>Description</h3>

<p>THIS IS A DEPRECATED FUNCTION. USE bp_arv INSTEAD.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>arv(
  data,
  inc_date = FALSE,
  subj = NULL,
  bp_type = 0,
  add_groups = NULL,
  inc_wake = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="arv_+3A_data">data</code></td>
<td>
<p>Required argument. Pre-processed dataframe containing SBP and
DBP with optional ID, VISIT, WAKE, and DATE columns if available.
Use <code>process_data</code> to properly format data.</p>
</td></tr>
<tr><td><code id="arv_+3A_inc_date">inc_date</code></td>
<td>
<p>Optional argument. Default is FALSE. As ABPM data typically
overlaps due to falling asleep on one date and waking up on another, the <code>inc_date</code>
argument is typically kept as FALSE, but the function will work regardless. Setting
<code>inc_date = TRUE</code> will include these dates as a grouping level.</p>
</td></tr>
<tr><td><code id="arv_+3A_subj">subj</code></td>
<td>
<p>Optional argument. Allows the user to specify and subset specific subjects
from the <code>ID</code> column of the supplied data set. The <code>subj</code> argument can be a single
value or a vector of elements. The input type should be character, but the function will
comply with integers so long as they are all present in the <code>ID</code> column of the data.</p>
</td></tr>
<tr><td><code id="arv_+3A_bp_type">bp_type</code></td>
<td>
<p>Optional argument. Determines whether to calculate ARV for SBP
values or DBP values. Default is 0 corresponding to output for both SBP &amp; DBP.
For both SBP and DBP ARV values use bp_type = 0, for SBP-only use bp_type = 1,
and for DBP-only use bp_type = 2</p>
</td></tr>
<tr><td><code id="arv_+3A_add_groups">add_groups</code></td>
<td>
<p>Optional argument. Allows the user to aggregate the data by an
additional &quot;group&quot; to further refine the output. The supplied input must be a
character vector with the strings corresponding to existing column names of the
processed <code>data</code> input supplied. Capitalization of <code>add_groups</code> does not matter.
Ex: <code>add_groups = c("Time_of_Day")</code></p>
</td></tr>
<tr><td><code id="arv_+3A_inc_wake">inc_wake</code></td>
<td>
<p>Optional argument corresponding to whether or not to include <code>WAKE</code>
in the grouping of the final output (if <code>WAKE</code> column is available). By default,
<code>inc_wake = TRUE</code> which will include the <code>WAKE</code> column in the groups by which
to calculate the respective metrics.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Calculate the Average Real Variability (ARV) at various levels of granularity
based on what is supplied (ID, VISIT, WAKE, and / or DATE). ARV is a measure
of dispersion that takes into account the temporal structure of the data and relies
on the sum of absolute differences in successive observations, unlike the
successive variation (SV) which relies on the sum of squared differences.
</p>


<h3>Value</h3>

<p>A tibble object with a row corresponding to each subject, or alternatively
a row corresponding to each date, if inc_date = TRUE. The resulting tibble consists of:
</p>

<ul>
<li> <p><code>ID</code>: The unique identifier of the subject. For single-subject datasets, ID = 1
</p>
</li>
<li> <p><code>VISIT</code>: (If applicable) Corresponds to the visit # of the subject, if more than 1
</p>
</li>
<li> <p><code>WAKE</code>: (If applicable) Corresponds to the awake status of the subject (0 = asleep |
1 = awake)
</p>
</li>
<li> <p><code>ARV_SBP</code> / <code>ARV_DBP</code>: Calculates the average of the absolute differences between
successive measurements. The resulting value averages across the granularity grouping
for however many observations are present.
</p>
</li>
<li> <p><code>N</code>: The number of observations for that particular grouping. If <code>inc_date = TRUE</code>,
<code>N</code> corresponds to the number of observations for that date. If <code>inc_date = FALSE</code>, N
corresponds to the number of observations for the most granular grouping available (i.e.
a combination of <code>ID</code>, <code>VISIT</code>, and <code>WAKE</code>)
</p>
</li>
<li><p> Any add_groups variables supplied to function argument will be present as a column in the
resulting tibble.
</p>
</li></ul>



<h3>References</h3>

<p>Mena et al. (2005) A reliable index for the prognostic significance of
blood pressure variability
<em>Journal of Hypertension</em> <strong>23(5)</strong>.505-11,
doi: <a href="https://doi.org/10.1097/01.hjh.0000160205.81652.5a">10.1097/01.hjh.0000160205.81652.5a</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Load data
data(bp_hypnos)
data(bp_jhs)

# Process bp_hypnos
hypnos_proc &lt;- process_data(bp_hypnos, sbp = "SYST", dbp = "DIAST", date_time = "date.time",
id = "id", wake = "wake", visit = "visit", hr = "hr", pp ="pp", map = "map", rpp = "rpp")
# Process bp_jhs data
jhs_proc &lt;- process_data(bp_jhs, sbp = "Sys.mmHg.", dbp = "Dias.mmHg.", date_time = "DateTime",
hr = "Pulse.bpm.")

## Not run: 
# ARV Calculation
bp_arv(hypnos_proc, add_groups = c("SBP_Category"))
bp_arv(jhs_proc, inc_date = TRUE)

## End(Not run)
</code></pre>

<hr>
<h2 id='bp_arv'>Average Real Variability (ARV)</h2><span id='topic+bp_arv'></span>

<h3>Description</h3>

<p>Calculate the Average Real Variability (ARV) at various levels of granularity
based on what is supplied (ID, VISIT, WAKE, and / or DATE). ARV is a measure
of dispersion that takes into account the temporal structure of the data and relies
on the sum of absolute differences in successive observations, unlike the
successive variation (SV) which relies on the sum of squared differences.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bp_arv(
  data,
  inc_date = FALSE,
  subj = NULL,
  bp_type = c("both", "sbp", "dbp"),
  add_groups = NULL,
  inc_wake = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bp_arv_+3A_data">data</code></td>
<td>
<p>Required argument. Pre-processed dataframe containing SBP and
DBP with optional ID, VISIT, WAKE, and DATE columns if available.
Use <code>process_data</code> to properly format data.</p>
</td></tr>
<tr><td><code id="bp_arv_+3A_inc_date">inc_date</code></td>
<td>
<p>Optional argument. Default is FALSE. As ABPM data typically
overlaps due to falling asleep on one date and waking up on another, the <code>inc_date</code>
argument is typically kept as FALSE, but the function will work regardless. Setting
<code>inc_date = TRUE</code> will include these dates as a grouping level.</p>
</td></tr>
<tr><td><code id="bp_arv_+3A_subj">subj</code></td>
<td>
<p>Optional argument. Allows the user to specify and subset specific subjects
from the <code>ID</code> column of the supplied data set. The <code>subj</code> argument can be a single
value or a vector of elements. The input type should be character, but the function will
comply with integers so long as they are all present in the <code>ID</code> column of the data.</p>
</td></tr>
<tr><td><code id="bp_arv_+3A_bp_type">bp_type</code></td>
<td>
<p>Optional argument. Determines whether to calculate ARV for SBP
values or DBP values, or both. For <strong>both SBP and DBP</strong> ARV values use bp_type = 'both',
for <strong>SBP-only</strong> use bp_type = 'sbp, and for <strong>DBP-only</strong> use bp_type = 'dbp'.
If no type specified, default will be set to 'both'</p>
</td></tr>
<tr><td><code id="bp_arv_+3A_add_groups">add_groups</code></td>
<td>
<p>Optional argument. Allows the user to aggregate the data by an
additional &quot;group&quot; to further refine the output. The supplied input must be a
character vector with the strings corresponding to existing column names of the
processed <code>data</code> input supplied. Capitalization of <code>add_groups</code> does not matter.
Ex: <code>add_groups = c("Time_of_Day")</code></p>
</td></tr>
<tr><td><code id="bp_arv_+3A_inc_wake">inc_wake</code></td>
<td>
<p>Optional argument corresponding to whether or not to include <code>WAKE</code>
in the grouping of the final output (if <code>WAKE</code> column is available). By default,
<code>inc_wake = TRUE</code> which will include the <code>WAKE</code> column in the groups by which
to calculate the respective metrics.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble object with a row corresponding to each subject, or alternatively
a row corresponding to each date, if inc_date = TRUE. The resulting tibble consists of:
</p>

<ul>
<li> <p><code>ID</code>: The unique identifier of the subject. For single-subject datasets, ID = 1
</p>
</li>
<li> <p><code>VISIT</code>: (If applicable) Corresponds to the visit # of the subject, if more than 1
</p>
</li>
<li> <p><code>WAKE</code>: (If applicable) Corresponds to the awake status of the subject (0 = asleep |
1 = awake)
</p>
</li>
<li> <p><code>ARV_SBP</code> / <code>ARV_DBP</code>: Calculates the average of the absolute differences between
successive measurements. The resulting value averages across the granularity grouping
for however many observations are present.
</p>
</li>
<li> <p><code>N</code>: The number of observations for that particular grouping. If <code>inc_date = TRUE</code>,
<code>N</code> corresponds to the number of observations for that date. If <code>inc_date = FALSE</code>, N
corresponds to the number of observations for the most granular grouping available (i.e.
a combination of <code>ID</code>, <code>VISIT</code>, and <code>WAKE</code>)
</p>
</li>
<li><p> Any add_groups variables supplied to function argument will be present as a column in the
resulting tibble.
</p>
</li></ul>



<h3>References</h3>

<p>Mena et al. (2005) A reliable index for the prognostic significance of
blood pressure variability
<em>Journal of Hypertension</em> <strong>23(5)</strong>.505-11,
doi: <a href="https://doi.org/10.1097/01.hjh.0000160205.81652.5a">10.1097/01.hjh.0000160205.81652.5a</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Load data
data(bp_hypnos)
data(bp_jhs)

# Process bp_hypnos
hyp_proc &lt;- process_data(bp_hypnos, sbp = "SYST", dbp = "DIAST", date_time = "date.time",
id = "id", wake = "wake", visit = "visit", hr = "hr", pp ="pp", map = "map", rpp = "rpp")
# Process bp_jhs data
jhs_proc &lt;- process_data(bp_jhs, sbp = "Sys.mmHg.", dbp = "Dias.mmHg.", date_time = "DateTime",
hr = "Pulse.bpm.")

# ARV Calculation
bp_arv(hyp_proc, add_groups = c("SBP_Category"), bp_type = 'sbp')
bp_arv(jhs_proc, inc_date = TRUE)
</code></pre>

<hr>
<h2 id='bp_center'>Measures of Center (bp_center)</h2><span id='topic+bp_center'></span>

<h3>Description</h3>

<p>Calculate the mean and median at various levels of granularity
based on what is supplied (ID, VISIT, WAKE, and / or DATE) for either SBP,
DBP, or both.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bp_center(
  data,
  inc_date = FALSE,
  subj = NULL,
  bp_type = c("both", "sbp", "dbp"),
  add_groups = NULL,
  inc_wake = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bp_center_+3A_data">data</code></td>
<td>
<p>Required argument. Pre-processed dataframe with SBP and DBP columns
with optional ID, VISIT, WAKE, and DATE columns if available.
Use <code>process_data</code> to properly format data.</p>
</td></tr>
<tr><td><code id="bp_center_+3A_inc_date">inc_date</code></td>
<td>
<p>Optional argument. Default is FALSE. As ABPM data typically
overlaps due to falling asleep on one date and waking up on another, the <code>inc_date</code>
argument is typically kept as FALSE, but the function will work regardless. Setting
<code>inc_date = TRUE</code> will include these dates as a grouping level.</p>
</td></tr>
<tr><td><code id="bp_center_+3A_subj">subj</code></td>
<td>
<p>Optional argument. Allows the user to specify and subset specific subjects
from the <code>ID</code> column of the supplied data set. The <code>subj</code> argument can be a single
value or a vector of elements. The input type should be character, but the function will
comply with integers so long as they are all present in the <code>ID</code> column of the data.</p>
</td></tr>
<tr><td><code id="bp_center_+3A_bp_type">bp_type</code></td>
<td>
<p>Optional argument. Determines whether to calculate center for SBP
values or DBP values, or both. For <strong>both SBP and DBP</strong> ARV values use bp_type = 'both',
for <strong>SBP-only</strong> use bp_type = 'sbp, and for <strong>DBP-only</strong> use bp_type = 'dbp'.
If no type specified, default will be set to 'both'</p>
</td></tr>
<tr><td><code id="bp_center_+3A_add_groups">add_groups</code></td>
<td>
<p>Optional argument. Allows the user to aggregate the data by an
additional &quot;group&quot; to further refine the output. The supplied input must be a
character vector with the strings corresponding to existing column names of the
processed <code>data</code> input supplied. Capitalization of <code>add_groups</code> does not matter.
Ex: <code>add_groups = c("Time_of_Day")</code></p>
</td></tr>
<tr><td><code id="bp_center_+3A_inc_wake">inc_wake</code></td>
<td>
<p>Optional argument corresponding to whether or not to include <code>WAKE</code>
in the grouping of the final output (if <code>WAKE</code> column is available). By default,
<code>inc_wake = TRUE</code> which will include the <code>WAKE</code> column in the groups by which
to calculate the respective metrics.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble object with a row corresponding to each subject, or alternatively
a row corresponding to each date if inc_date = TRUE. The resulting tibble consists of:
</p>

<ul>
<li> <p><code>ID</code>: The unique identifier of the subject. For single-subject datasets, ID = 1
</p>
</li>
<li> <p><code>VISIT</code>: (If applicable) Corresponds to the visit # of the subject, if more than 1
</p>
</li>
<li> <p><code>WAKE</code>: (If applicable) Corresponds to the awake status of the subject (0 = asleep |
1 = awake)
</p>
</li>
<li> <p><code>SBP_mean</code> / <code>DBP_mean</code>: Calculates the mean of systolic blood pressure readings
for the specified time granularity.
</p>
</li>
<li> <p><code>SBP_med</code> / <code>DBP_med</code>: Calculates the median of systolic blood pressure readings
for the specified time granularity.
</p>
</li>
<li> <p><code>N</code>: The number of observations for that particular grouping. If <code>inc_date = TRUE</code>,
<code>N</code> corresponds to the number of observations for that date. If <code>inc_date = FALSE</code>, N
corresponds to the number of observations for the most granular grouping available (i.e.
a combination of <code>ID</code>, <code>VISIT</code>, and <code>WAKE</code>)
</p>
</li>
<li><p> Any add_groups variables supplied to function argument will be present as a column in the
resulting tibble.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'># Load data
data(bp_hypnos)
data(bp_jhs)

# Process bp_hypnos
hyp_proc &lt;- process_data(bp_hypnos, sbp = "SYST", dbp = "DIAST", date_time = "date.time",
id = "id", wake = "wake", visit = "visit", hr = "hr", pp ="pp", map = "map", rpp = "rpp")
# Process bp_jhs data
jhs_proc &lt;- process_data(bp_jhs, sbp = "Sys.mmHg.", dbp = "Dias.mmHg.", date_time = "DateTime",
hr = "Pulse.bpm.")

# BP Center Calculation
bp_center(hyp_proc, subj = c(70417, 70435))
</code></pre>

<hr>
<h2 id='bp_children'>B-Proact1v Children Data</h2><span id='topic+bp_children'></span>

<h3>Description</h3>

<p>The <code>bp_children</code> data set contains information on 1,283 children from Bristol, UK,
who each took three blood pressure readings per visit over the course of two observation
periods (at ages 9 and 11) and had their body mass index (BMI), physical activity, and
sedentary time information recorded. The study examined how sedentary behavior and physical
activity affected children progressing through primary school to better understand the
relationship between elevated blood pressure in children and its impact on the development
of cardiovascular disease into adulthood
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bp_children
</code></pre>


<h3>Format</h3>

<p>A data frame containing 15 variables pertaining to blood pressure and physical
activity as follows:
</p>

<dl>
<dt>id</dt><dd><p>Child ID</p>
</dd>
<dt>reading</dt><dd><p>Index of the blood pressure reading</p>
</dd>
<dt>sbp</dt><dd><p>Systolic Blood Pressure (mmHg)</p>
</dd>
<dt>dbp</dt><dd><p>Diastolic Blood Pressure (mmHg)</p>
</dd>
<dt>gender</dt><dd><p>1 = Male<br /> 2 = Female</p>
</dd>
<dt>hh_educ</dt><dd><p>Household Highest Education:<br /><br />
1 = Up to GCSE/O level or equiv<br />
2 = A level/NVQ or equiv<br />
3 = Degree/HND or equiv<br />
4 = Higher degree (MSc/PhD) or equiv<br /></p>
</dd>
<dt>visit</dt><dd><p>Visit #</p>
</dd>
<dt>age</dt><dd><p>Age in Years</p>
</dd>
<dt>ht</dt><dd><p>Height (ft)</p>
</dd>
<dt>wt</dt><dd><p>Weight (lbs)</p>
</dd>
<dt>bmi</dt><dd><p>Body Mass Index</p>
</dd>
<dt>N.valid.days.all</dt><dd><p>Number of days of child accelerometer data overall</p>
</dd>
<dt>avg.mins.all</dt><dd><p>Average minutes per day over all valid days</p>
</dd>
<dt>sed.avg.mins.all</dt><dd><p>Average sedentary minutes per day over all valid days</p>
</dd>
<dt>mvpa.avg.mins.all</dt><dd><p>Average minutes of Moderate to Vigorous Physical Activity (MVPA) per day over all valid days</p>
</dd>
</dl>



<h3>Details</h3>

<p>(Solomon-Moore E, Salway R, Emm-Collison L, Thompson JL, Sebire SJ, Lawlor DA, Jago R (PI). 2020).
</p>
<p>Licensed under a CC-BY Creative Commons Attribution 4.0 International
</p>


<h3>Source</h3>

<p>Original Paper: doi: <a href="https://doi.org/10.1371/journal.pone.0232333">10.1371/journal.pone.0232333</a>
</p>
<p>Data: doi: <a href="https://doi.org/10.5281/zenodo.1049587">10.5281/zenodo.1049587</a>
</p>
<p>Principal Investigator (PI): Russ Jago (University of Bristol)
</p>

<hr>
<h2 id='bp_cv'>Coefficient of Variation (CV)</h2><span id='topic+bp_cv'></span>

<h3>Description</h3>

<p>Calculate the coefficient of variation at various levels of granularity
based on what is supplied (ID, VISIT, WAKE, and / or DATE) for either SBP,
DBP, or both. CV is a measure of dispersion
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bp_cv(
  data,
  inc_date = FALSE,
  subj = NULL,
  bp_type = c("both", "sbp", "dbp"),
  add_groups = NULL,
  inc_wake = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bp_cv_+3A_data">data</code></td>
<td>
<p>Required argument. Pre-processed dataframe with SBP and DBP columns
with optional ID, VISIT, WAKE, and DATE columns if available.
Use <code>process_data</code> to properly format data.</p>
</td></tr>
<tr><td><code id="bp_cv_+3A_inc_date">inc_date</code></td>
<td>
<p>Optional argument. Default is FALSE. As ABPM data typically
overlaps due to falling asleep on one date and waking up on another, the <code>inc_date</code>
argument is typically kept as FALSE, but the function will work regardless. Setting
<code>inc_date = TRUE</code> will include these dates as a grouping level.</p>
</td></tr>
<tr><td><code id="bp_cv_+3A_subj">subj</code></td>
<td>
<p>Optional argument. Allows the user to specify and subset specific subjects
from the <code>ID</code> column of the supplied data set. The <code>subj</code> argument can be a single
value or a vector of elements. The input type should be character, but the function will
comply with integers so long as they are all present in the <code>ID</code> column of the data.</p>
</td></tr>
<tr><td><code id="bp_cv_+3A_bp_type">bp_type</code></td>
<td>
<p>Optional argument. Determines whether to calculate CV for SBP
values or DBP values, or both. For <strong>both SBP and DBP</strong> ARV values use bp_type = 'both',
for <strong>SBP-only</strong> use bp_type = 'sbp, and for <strong>DBP-only</strong> use bp_type = 'dbp'.
If no type specified, default will be set to 'both'</p>
</td></tr>
<tr><td><code id="bp_cv_+3A_add_groups">add_groups</code></td>
<td>
<p>Optional argument. Allows the user to aggregate the data by an
additional &quot;group&quot; to further refine the output. The supplied input must be a
character vector with the strings corresponding to existing column names of the
processed <code>data</code> input supplied. Capitalization of <code>add_groups</code> does not matter.
Ex: <code>add_groups = c("Time_of_Day")</code></p>
</td></tr>
<tr><td><code id="bp_cv_+3A_inc_wake">inc_wake</code></td>
<td>
<p>Optional argument corresponding to whether or not to include <code>WAKE</code>
in the grouping of the final output (if <code>WAKE</code> column is available). By default,
<code>inc_wake = TRUE</code> which will include the <code>WAKE</code> column in the groups by which
to calculate the respective metrics.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble object with a row corresponding to each subject, or alternatively
a row corresponding to each date if inc_date = TRUE. The resulting tibble consists of:
</p>

<ul>
<li> <p><code>ID</code>: The unique identifier of the subject. For single-subject datasets, ID = 1
</p>
</li>
<li> <p><code>VISIT</code>: (If applicable) Corresponds to the visit # of the subject, if more than 1
</p>
</li>
<li> <p><code>WAKE</code>: (If applicable) Corresponds to the awake status of the subject (0 = asleep |
1 = awake)
</p>
</li>
<li> <p><code>CV_SBP</code> / <code>CV_DBP</code>: Calculates the ratio of standard deviation to the mean. <code>CV_SBP</code>
or <code>CV_DBP</code> is useful for comparing the degree of variation from one data series
to another.
</p>
</li>
<li> <p><code>SD_SBP</code> / <code>SD_DBP</code>: For completeness, the <code>cv</code> function also includes the
standard deviation as a comparison metric to measure spread around the average.
</p>
</li>
<li> <p><code>N</code>: The number of observations for that particular grouping. If <code>inc_date = TRUE</code>,
<code>N</code> corresponds to the number of observations for that date. If <code>inc_date = FALSE</code>, N
corresponds to the number of observations for the most granular grouping available (i.e.
a combination of <code>ID</code>, <code>VISIT</code>, and <code>WAKE</code>)
</p>
</li>
<li><p> Any add_groups variables supplied to function argument will be present as a column in the
resulting tibble.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'># Load data
data(bp_hypnos)
data(bp_jhs)

# Process bp_hypnos
hyp_proc &lt;- process_data(bp_hypnos, sbp = "SYST", dbp = "DIAST", date_time = "date.time",
id = "id", wake = "wake", visit = "visit", hr = "hr", pp ="pp", map = "map", rpp = "rpp")
# Process bp_jhs data
jhs_proc &lt;- process_data(bp_jhs, sbp = "Sys.mmHg.", dbp = "Dias.mmHg.", date_time = "DateTime",
hr = "Pulse.bpm.")

# CV Calculation
bp_cv(hyp_proc, inc_date = TRUE, add_groups = "SBP_Category", bp_type = 'sbp')
bp_cv(jhs_proc, add_groups = c("meal_time"))
# Notice that meal_time is not a column from process_data, but it still works
</code></pre>

<hr>
<h2 id='bp_ghana'>Task Shifting and Blood Pressure Control in Ghana Data</h2><span id='topic+bp_ghana'></span>

<h3>Description</h3>

<p>The <code>bp_ghana</code> data set includes 757 subjects across 32 community health centers who
were partitioned into intervention groups according to a pragmatic cluster-randomized trial
with 389 in the health insurance coverage (HIC) group and 368 in another group consisting
of a combination of HIC with a nurse-led task-shifting strategy for hypertension control
(TASSH) (this group is denoted TASSH + HIC). This study was an effort to assess the
comparative effectiveness of HIC alone versus the combination of TASSH + HIC on reducing
systolic blood pressure among patients with uncontrolled hypertension in Ghana. Baseline
blood pressure measurements and 12 month follow-up results were collected among subjects,
85% of whom had 12 month data present
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bp_ghana
</code></pre>


<h3>Format</h3>

<p>A data frame containing 21 variables pertaining to blood pressure as follows:
</p>

<dl>
<dt>ID</dt><dd><p>Subject ID </p>
</dd>
<dt>Time_Elapsed</dt><dd><p>How much time elapsed between readings: Baseline measurement, 6 month follow-up,
12 month follow-up</p>
</dd>
<dt>SBP</dt><dd><p>Systolic Blood Pressure</p>
</dd>
<dt>DBP</dt><dd><p>Diastolic Blood Pressure</p>
</dd>
<dt>Age</dt><dd><p>Age in Years</p>
</dd>
<dt>Gender</dt><dd><p>0 = Male <br /> 1 = Female</p>
</dd>
<dt>EducationLevel</dt><dd><p>Highest Degree Earned:<br /><br />
1 = No Schooling<br />
2 = Primary Schooling (Grades 1 to 6)<br />
3 = Junior Secondary Schooling (JSS) (Grades 7-8)<br />
4 = Secondary School (Grades 9-11)<br />
5 = Completed Secondary School<br />
6 = Technical school certificate<br />
7 = Some college but no degree<br />
8 = Associate degree<br />
9 = Graduate or Professional school (MD, JD, etc.)<br />
999 = Not specified<br /></p>
</dd>
<dt>EmploymentStatus</dt><dd><p>0 = Unemployed <br /> 1 = Employed</p>
</dd>
<dt>Literacy</dt><dd><p>0 = Illiterate <br /> 1 = Literate</p>
</dd>
<dt>Smoking</dt><dd><p>1 = Smoker <br /> 2 = Occasional <br /> 3 = Ex-Smoker <br /> 4 = Non-Smoker</p>
</dd>
<dt>Income</dt><dd><p>Income level expressed in home currency - Ghanaian cedi (GhC)</p>
</dd>
<dt>SiteNumber</dt><dd><p>Site Location in Ghana:<br /><br />
1 = Suntreso<br />
2 = Ananekrom<br />
3 = Manhiya<br />
4 = Apatrapa<br />
5 = Nkawie<br />
6 = Afrancho<br />
7 = Kumsai South<br />
8 = Mampongteng<br />
9 = Mampong<br />
10 = Bomfa<br />
11 = Ejura<br />
12 = Kofiase<br />
13 = Kokofu<br />
14 = Asuofia<br />
15 = Konongo<br />
16 = Subirisu<br />
17 = Effiduase<br />
18 = Abuakwa<br />
19 = Tafo<br />
20 = KMA<br />
21 = Methodist<br />
22 = Kenyasi<br />
23 = Asonamaso<br />
24 = Juansa<br />
25 = Juaso<br />
26 = Sekyredumase<br />
27 = Nkenkaasu<br />
28 = Berekese<br />
29 = Bekwai<br />
30 = Dwease<br />
31 = Kuntanese <br />
32 = Foase <br />
</p>
</dd>
<dt>CVRisk</dt><dd><p>Cardiovascular Risk Assessment (%) at Baseline: <br /><br />
1) &lt;10% <br />
2) 10-20% <br />
3) 20-30% <br />
4) 30 to 40% <br />
999= Missing Data</p>
</dd>
<dt>BMI</dt><dd><p>Body Mass Index</p>
</dd>
<dt>BMIClassification</dt><dd><p>Classification of BMI:<br /><br />
1 = Underweight (&lt;18.5 kg/m^2)<br />
2 = Normal (18.5 to 24.9 kg/m^2)<br />
3 = Overweight (25.0 to 29.9 kg/m^2)<br />
4 = Obese (&gt;30 kg/m^2)<br />
</p>
</dd>
<dt>PhysicalActivity</dt><dd><p>All activity in weighted MET minutes (per week) at Baseline</p>
</dd>
<dt>TrtorCtrl</dt><dd><p>0 = Control<br /> 1 = Treatment</p>
</dd>
<dt>RuralUrban</dt><dd><p>0 = Rural<br /> 1 = Urban</p>
</dd>
<dt>DoctorsAvailable</dt><dd><p># of doctors on staff</p>
</dd>
<dt>NursesAvailable</dt><dd><p># of nurses on staff</p>
</dd>
<dt>Patientsannually</dt><dd><p># of patients seen annually</p>
</dd>
</dl>



<h3>Details</h3>

<p>(Ogedegbe G, Plange-Rhule J, Gyamfi J, Chaplin W, Ntim M, Apusiga K, Iwelunmor J, Awudzi KY,
Quakyi KN, Mogavero JN, Khurshid K, Tayo B, Cooper R. 2019).
</p>
<p>Licensed under a CC-0 1.0 (Creative Commons) Universal Public Domain Dedication License
</p>


<h3>Source</h3>

<p>Original Paper: doi: <a href="https://doi.org/10.1371/journal.pmed.1002561">10.1371/journal.pmed.1002561</a>
</p>
<p>Data: doi: <a href="https://doi.org/10.5061/dryad.16c9m51">10.5061/dryad.16c9m51</a>
</p>

<hr>
<h2 id='bp_hist'>Blood Pressure Histograms</h2><span id='topic+bp_hist'></span>

<h3>Description</h3>

<p>The <code>bp_hist</code> function serves to display the frequencies of the <code>SBP</code>
and <code>DBP</code> readings. These histograms are formatted to complement the <code>bp_scatter</code>
function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bp_hist(data, subj = NULL, bins = 30, na.rm = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bp_hist_+3A_data">data</code></td>
<td>
<p>A processed dataframe resulting from the <code>process_data</code> function that
contains the <code>SBP</code>, <code>DBP</code>, <code>SBP_CATEGORY</code>, and <code>DBP_CATEGORY</code> columns.</p>
</td></tr>
<tr><td><code id="bp_hist_+3A_subj">subj</code></td>
<td>
<p>Optional argument. Allows the user to specify and subset specific subjects
from the <code>ID</code> column of the supplied data set. The <code>subj</code> argument can be a single
value or a vector of elements. The input type should be character, but the function will
comply with integers so long as they are all present in the <code>ID</code> column of the data.</p>
</td></tr>
<tr><td><code id="bp_hist_+3A_bins">bins</code></td>
<td>
<p>An integer specifying how many bins to use for histogram plots. This is a ggplot parameter; default value set to 30</p>
</td></tr>
<tr><td><code id="bp_hist_+3A_na.rm">na.rm</code></td>
<td>
<p>An logical value specifying whether or not to remove empty values from data frame.
This is a ggplot parameter; default value set to TRUE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing four objects: three histogram visual graphics corresponding to
the SBP / DBP totals, SBP frequency, and DBP frequency, and a fourth list element
corresponding to a plot legend object for use in the <code>bp_report</code> function
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("bp_jhs")
data("bp_hypnos")
hyp_proc &lt;- process_data(bp_hypnos,
                         bp_type = 'abpm',
                         sbp = "syst",
                         dbp = "DIAST",
                         date_time = "date.time",
                         id = "id",
                         wake = "wake",
                         visit = "visit",
                         hr = "hr",
                         map = "map",
                         rpp = "rpp",
                         pp = "pp",
                         ToD_int = c(5, 13, 18, 23))

jhs_proc &lt;- process_data(bp_jhs,
                         sbp = "Sys.mmHg.",
                         dbp = "Dias.mmHg.",
                         date_time = "DateTime",
                         hr = "pulse.bpm.")
rm(bp_hypnos, bp_jhs)

bp_hist(hyp_proc)
bp_hist(jhs_proc)
</code></pre>

<hr>
<h2 id='bp_hypnos'>HYPNOS Study - 5 Subject Sample</h2><span id='topic+bp_hypnos'></span>

<h3>Description</h3>

<p>ABPM measurements for 5 subjects with Type II diabetes. These data are part of a larger study sample that
consisted of patients with Type 2 diabetes recruited from the general community. To be eligible, patients with
Type 2 diabetes, not using insulin therapy and with a glycosylated hemoglobin (HbA_1c) value at least 6.5
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bp_hypnos
</code></pre>


<h3>Format</h3>

<p>A data frame with the following columns:
</p>

<dl>
<dt>NR.</dt><dd><p>Integer. The index corresponding to the reading of a particular subject for a given visit.</p>
</dd>
<dt>DATE.TIME</dt><dd><p>Character. The date-time value corresponding to the given reading.</p>
</dd>
<dt>SYST</dt><dd><p>Integer. The systolic blood pressure reading.</p>
</dd>
<dt>MAP</dt><dd><p>Integer. The mean arterial pressure value.</p>
</dd>
<dt>DIAST</dt><dd><p>Integer. The diastolic blood pressure reading.</p>
</dd>
<dt>HR</dt><dd><p>Integer. The heart rate value (measured in beats per minute &ndash; bpm).</p>
</dd>
<dt>PP</dt><dd><p>Integer. The pulse pressure value calculated as the systolic value - the diastolic value.</p>
</dd>
<dt>RPP</dt><dd><p>Integer. The rate pressure product calculated as the systolic reading multiplied by the heart rate value.</p>
</dd>
<dt>WAKE</dt><dd><p>Integer. A logical indicator value corresponding to whether or not a subject is awake (<code>WAKE = 1</code>) or not.</p>
</dd>
<dt>ID</dt><dd><p>Integer. A unique identifier for each subject.</p>
</dd>
<dt>VISIT</dt><dd><p>Integer. A value associated with the visit number or a particular subject.</p>
</dd>
<dt>DATE</dt><dd><p>Character. A date-valued column indicating the date of the given reading. Dates are specified according to their
actual date (i.e. 01:00 corresponds to the next date, even if the subject is awake. Awake-state is indicated via <code>WAKE</code>).</p>
</dd>
</dl>


<hr>
<h2 id='bp_jhs'>Blood Pressure - 1 Subject - John Schwenck</h2><span id='topic+bp_jhs'></span>

<h3>Description</h3>

<p>Single-subject self-monitored blood pressure readings over 108 days (April 15, 2019 - August 01, 2019).
This data set has been processed and uploaded to the Harvard Dataverse for public use. It contains
variables pertaining to Date/Time, Systolic BP, Diastolic BP, and Heart Rate. The data assumes a threshold
blood pressure of 135 / 85 which is used to calculate excess amounts.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bp_jhs
</code></pre>


<h3>Format</h3>

<p>A data frame with the following columns:
</p>

<dl>
<dt>DateTime</dt><dd><p>A POSIXct-formatted column corresponding to the date and time of the corresponding reading in local time.</p>
</dd>
<dt>Month</dt><dd><p>Integer. The month corresponding to the Date column.</p>
</dd>
<dt>Day</dt><dd><p>Integer. The day of the month corresponding to the Date column.</p>
</dd>
<dt>Year</dt><dd><p>Integer. The year corresponding to the Date column.</p>
</dd>
<dt>DayofWk</dt><dd><p>Character. The day of the week corresponding to the Date column.</p>
</dd>
<dt>Hour</dt><dd><p>Integer. The hour corresponding to the DateTime column.</p>
</dd>
<dt>Meal_Time</dt><dd><p>Character. The estimated meal time corresponding to the DateTime column.</p>
</dd>
<dt>Sys.mmHg.</dt><dd><p>Integer. The systolic blood pressure reading.</p>
</dd>
<dt>Dias.mmHg.</dt><dd><p>Integer. The diastolic blood pressure reading.</p>
</dd>
<dt>bpDelta</dt><dd><p>Integer. The difference between the Sys.mmHg. and Dias.mmHg. column. This is also known as the Pulse Pressure.</p>
</dd>
<dt>Pulse.bpm.</dt><dd><p>Integer. The heart rate value (measured in beats per minute &ndash; bpm).</p>
</dd>
</dl>



<h3>Source</h3>

<p>doi: <a href="https://doi.org/10.7910/DVN/EA1SAP">10.7910/DVN/EA1SAP</a>
</p>

<hr>
<h2 id='bp_mag'>Blood Pressure Magnitude (Peak and Trough)</h2><span id='topic+bp_mag'></span>

<h3>Description</h3>

<p>Calculate the Peak and Trough defined as the max BP - average BP and
average BP - min BP, respectively.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bp_mag(
  data,
  inc_date = FALSE,
  subj = NULL,
  bp_type = c("both", "sbp", "dbp"),
  add_groups = NULL,
  inc_wake = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bp_mag_+3A_data">data</code></td>
<td>
<p>Required argument. Pre-processed dataframe with SBP and DBP columns
with optional ID, VISIT, WAKE, and DATE columns if available.
Use <code>process_data</code> to properly format data.</p>
</td></tr>
<tr><td><code id="bp_mag_+3A_inc_date">inc_date</code></td>
<td>
<p>Optional argument. Default is FALSE. As ABPM data typically
overlaps due to falling asleep on one date and waking up on another, the <code>inc_date</code>
argument is typically kept as FALSE, but the function will work regardless. Setting
<code>inc_date = TRUE</code> will include these dates as a grouping level.</p>
</td></tr>
<tr><td><code id="bp_mag_+3A_subj">subj</code></td>
<td>
<p>Optional argument. Allows the user to specify and subset specific subjects
from the <code>ID</code> column of the supplied data set. The <code>subj</code> argument can be a single
value or a vector of elements. The input type should be character, but the function will
comply with integers so long as they are all present in the <code>ID</code> column of the data.</p>
</td></tr>
<tr><td><code id="bp_mag_+3A_bp_type">bp_type</code></td>
<td>
<p>Optional argument. Determines whether to calculate magnitude for SBP
values or DBP values, or both. For <strong>both SBP and DBP</strong> ARV values use bp_type = 'both',
for <strong>SBP-only</strong> use bp_type = 'sbp, and for <strong>DBP-only</strong> use bp_type = 'dbp'.
If no type specified, default will be set to 'both'</p>
</td></tr>
<tr><td><code id="bp_mag_+3A_add_groups">add_groups</code></td>
<td>
<p>Optional argument. Allows the user to aggregate the data by an
additional &quot;group&quot; to further refine the output. The supplied input must be a
character vector with the strings corresponding to existing column names of the
processed <code>data</code> input supplied. Capitalization of <code>add_groups</code> does not matter.
Ex: <code>add_groups = c("Time_of_Day")</code></p>
</td></tr>
<tr><td><code id="bp_mag_+3A_inc_wake">inc_wake</code></td>
<td>
<p>Optional argument corresponding to whether or not to include <code>WAKE</code>
in the grouping of the final output (if <code>WAKE</code> column is available). By default,
<code>inc_wake = TRUE</code> which will include the <code>WAKE</code> column in the groups by which
to calculate the respective metrics.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble object with a row corresponding to each subject, or alternatively
a row corresponding to each date if inc_date = TRUE. The resulting tibble consists of:
</p>

<ul>
<li> <p><code>ID</code>: The unique identifier of the subject. For single-subject datasets, ID = 1
</p>
</li>
<li> <p><code>VISIT</code>: (If applicable) Corresponds to the visit # of the subject, if more than 1
</p>
</li>
<li> <p><code>WAKE</code>: (If applicable) Corresponds to the awake status of the subject (0 = asleep |
1 = awake)
</p>
</li>
<li> <p><code>Peak_SBP</code> / <code>Peak_DBP</code>: Measures the difference between the max value and the average
</p>
</li>
<li> <p><code>Trough_SBP</code> / <code>Trough_DBP</code>: Measures the difference between the average and the
min value
</p>
</li>
<li> <p><code>N</code>: The number of observations for that particular grouping. If <code>inc_date = TRUE</code>,
<code>N</code> corresponds to the number of observations for that date. If <code>inc_date = FALSE</code>, <code>N</code>
corresponds to the number of observations for the most granular grouping available (i.e.
a combination of <code>ID</code>, <code>VISIT</code>, and <code>WAKE</code>)
</p>
</li>
<li><p> Any add_groups variables supplied to function argument will be present as a column in the
resulting tibble.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'># Load data
data(bp_hypnos)
data(bp_jhs)

# Process bp_hypnos
hyp_proc &lt;- process_data(bp_hypnos, sbp = "SYST", dbp = "DIAST", date_time = "date.time",
id = "id", wake = "wake", visit = "visit", hr = "hr", pp ="pp", map = "map", rpp = "rpp")
# Process bp_jhs data
jhs_proc &lt;- process_data(bp_jhs, sbp = "Sys.mmHg.", dbp = "Dias.mmHg.", date_time = "DateTime",
hr = "Pulse.bpm.")

# BP Magnitude Calculation
bp_mag(hyp_proc)
bp_mag(jhs_proc, inc_date = TRUE)
</code></pre>

<hr>
<h2 id='bp_preg'>Pregnancy Day Assessment Clinic Data</h2><span id='topic+bp_preg'></span>

<h3>Description</h3>

<p>The <code>bp_preg</code> data set includes 209 women each with 30 minute recordings during the Pregnancy Day
Assessment Clinic (PDAC) observation window for up to a maximum of 240 minutes (i.e. a maximum
of 8 total readings per subject per observation window in addition to an initial &quot;booking&quot; reading
before the PDAC assessment). This recent study in obstetrics and gynecology investigated
pregnancy-induced hypertension (PIH) and pre-eclampsia (PE) prediction by analyzing cardiac and
physiological information to determine whether the blood pressure assessment of the first observation
window of 1 hour (60 minutes) was sufficient relative to the standard 4 hour (240 minute) window.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bp_preg
</code></pre>


<h3>Format</h3>

<p>A data frame containing 55 variables related to physiological assessment during pregnancy.
The data variable dictionary is as follows:
</p>

<dl>
<dt>Abdominal.pain</dt><dd><p>Binary indicator for whether an individual exhibits abdominal pain (1 = yes) or not (0 = no)</p>
</dd>
<dt>Accelerations</dt><dd><p>Fetal heart rate accelerations</p>
</dd>
<dt>Admission</dt><dd><p>Admission from PDAC</p>
</dd>
<dt>Age</dt><dd><p>Maternal age at estimated date of confinement</p>
</dd>
<dt>ALP</dt><dd><p>Alkaline phosphatase u/L</p>
</dd>
<dt>ALT</dt><dd><p>Alanaine transaminase u/L</p>
</dd>
<dt>AN_PET</dt><dd><p>Binary indicator for Antenatal diagnosis of pre-eclampsia 1 = yes, 0 = no</p>
</dd>
<dt>Antihypertensive.Meds</dt><dd><p>Current antihypertensive medication</p>
</dd>
<dt>Asymptomatic</dt><dd><p>Binary indicator for whether an individual is asymptomatic (1 = yes) or not (0 = no)</p>
</dd>
<dt>Baseline</dt><dd><p>Baseline fetal heart rate (normal, bradycardia, tachycardia)</p>
</dd>
<dt>BMI</dt><dd><p>Body Mass Index</p>
</dd>
<dt>Creatinine</dt><dd><p>micromol/L</p>
</dd>
<dt>CTG</dt><dd><p>Cardiotocogram</p>
</dd>
<dt>D_att_Dryad</dt><dd><p>Date of attendance modified by adding a random number of days between -7 and +7</p>
</dd>
<dt>DBP</dt><dd><p>Diastolic Blood Pressure</p>
</dd>
<dt>Decelerations</dt><dd><p>Fetal heart rate decelerations</p>
</dd>
<dt>DOB_Dryad</dt><dd><p>Maternal date of birth modified by adding a random number of days between -7 and +7</p>
</dd>
<dt>DrRV</dt><dd><p>Medical review during PDAC</p>
</dd>
<dt>EDC_Dryad</dt><dd><p>Estimated date of confinement modified by adding a random number of days between -7 and +7</p>
</dd>
<dt>EmCS</dt><dd><p>Emergency Caesarean section</p>
</dd>
<dt>Final.Diagnosis.</dt><dd><p>Final diagnosis: 0 = nil, 1 = pregnancy induced hypertension, 2 = pre-eclampsia</p>
</dd>
<dt>GA_att</dt><dd><p>Gestational age (weeks) at attendance</p>
</dd>
<dt>GGT</dt><dd><p>Gamma glutamyl transaminase u/L</p>
</dd>
<dt>Grav</dt><dd><p>Gravidity: number of pregnancies including the current one</p>
</dd>
<dt>Headache</dt><dd><p>Binary indicator for whether an individual has a headache (1 = yes) or not (0 = no)</p>
</dd>
<dt>Ht</dt><dd><p>Maternal Height (cm)</p>
</dd>
<dt>Hyperreflexia</dt><dd><p>Binary indicator for whether an individual exhibits Hyperreflexia (1 = yes) or not (0 = no)</p>
</dd>
<dt>IOL</dt><dd><p>Induction of labour</p>
</dd>
<dt>ID</dt><dd><p>Subject ID #</p>
</dd>
<dt>IP_PET</dt><dd><p>Intrapartum diagnosis of pre-eclampsia 1 = yes, 0 = no</p>
</dd>
<dt>Nausea</dt><dd><p>Binary indicator for whether an individual exhibits Nausea (1 = yes) or not (0 = no)</p>
</dd>
<dt>Oedema</dt><dd><p>Binary indicator for whether an individual exhibits Oedema (1 = yes) or not (0 = no)</p>
</dd>
<dt>Para</dt><dd><p>Parity: number of pregnancies proceding to 20 or more weeks, not including the current one</p>
</dd>
<dt>PHx_ASA</dt><dd><p>Prescribed aspirin in this pregnancy</p>
</dd>
<dt>PHx_Eclampsia</dt><dd><p>Past history of eclampsia</p>
</dd>
<dt>PHx_EssBP</dt><dd><p>Past history of essential hypertension</p>
</dd>
<dt>PHx_PET</dt><dd><p>Past history of pre-eclampsia</p>
</dd>
<dt>PHx_Smoker</dt><dd><p>Smoking history</p>
</dd>
<dt>PIERS</dt><dd><p>Pre-eclampsia Integrated Estimate of Risk (%)</p>
</dd>
<dt>PN_PET</dt><dd><p>Postnatal diagnosis of pre-eclampsia 1 = yes, 0 = no</p>
</dd>
<dt>Platelets</dt><dd><p>10^9 per mL</p>
</dd>
<dt>PrevPDAC</dt><dd><p>Number of previous PDAC assessments this pregnancy</p>
</dd>
<dt>Privacy</dt><dd><p>Generic privacy consent form permits participation in audit</p>
</dd>
<dt>SBP</dt><dd><p>Systolic Blood Pressure</p>
</dd>
<dt>SOB</dt><dd><p>Binary indicator for whether an individual exhibits Shortness of Breath (SOB) (1 = yes) or not (0 = no)</p>
</dd>
<dt>Safe.for.discharge.at.1.hour.</dt><dd><p>Binary indicator for whether an individual is safe for discharge at 1 hour
(1 = yes) or not (0 = no)</p>
</dd>
<dt>Safe.for.discharge.at.1.hour....Other..please.specify.</dt><dd><p>Binary indicator for whether an individual is safe
for discharge at 1 hour - other - comments</p>
</dd>
<dt>Self.discharge</dt><dd><p>Self-discharge from PDAC</p>
</dd>
<dt>Time_Elapsed</dt><dd><p>30 minute recordings during the Pregnancy Day Assessment Clinic (PDAC) observation
window for up to a maximum of 240 minutes including the &quot;Booking&quot; recording</p>
</dd>
<dt>Urate</dt><dd><p>mmol/L</p>
</dd>
<dt>Urea</dt><dd><p>micromol/L</p>
</dd>
<dt>UrinePCR</dt><dd><p>Spot urine protein:creatinine ratio mg/mmol</p>
</dd>
<dt>Variability</dt><dd><p>Fetal heart rate variability as judged visually</p>
</dd>
<dt>Visual.Disturbances</dt><dd><p>Binary indicator for whether an individual exhibits Visual Disturbances (1 = yes)
or not (0 = no)</p>
</dd>
<dt>Wt</dt><dd><p>Pre-pregnancy or early pregnancy weight (kg)</p>
</dd>
</dl>



<h3>Details</h3>

<p>(McCarthy EA, Carins TA, Hannigan Y, Bardien N, Shub A, Walker S. 2015)
</p>
<p>Licensed under a CC-0 1.0 (Creative Commons) Universal Public Domain Dedication License
</p>


<h3>Source</h3>

<p>doi: <a href="https://doi.org/10.5061/dryad.0bq15">10.5061/dryad.0bq15</a>
</p>

<hr>
<h2 id='bp_range'>Blood Pressure Range</h2><span id='topic+bp_range'></span>

<h3>Description</h3>

<p>Calculates the range (max - min) of both SBP and DBP values in addition to max and
min values for reference with the option to specify date as an additional level
of granularity
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bp_range(
  data,
  inc_date = FALSE,
  subj = NULL,
  add_groups = NULL,
  inc_wake = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bp_range_+3A_data">data</code></td>
<td>
<p>Required dataframe with SBP and DBP columns corresponding to
Systolic and Diastolic BP. This dataframe should come from <code>data_process</code></p>
</td></tr>
<tr><td><code id="bp_range_+3A_inc_date">inc_date</code></td>
<td>
<p>Optional argument. Default is FALSE. As ABPM data typically
overlaps due to falling asleep on one date and waking up on another, the <code>inc_date</code>
argument is typically kept as FALSE, but the function will work regardless. Setting
<code>inc_date = TRUE</code> will include these dates as a grouping level.</p>
</td></tr>
<tr><td><code id="bp_range_+3A_subj">subj</code></td>
<td>
<p>Optional argument. Allows the user to specify and subset specific subjects
from the <code>ID</code> column of the supplied data set. The <code>subj</code> argument can be a single
value or a vector of elements. The input type should be character, but the function will
comply with integers so long as they are all present in the <code>ID</code> column of the data.</p>
</td></tr>
<tr><td><code id="bp_range_+3A_add_groups">add_groups</code></td>
<td>
<p>Optional argument. Allows the user to aggregate the data by an
additional &quot;group&quot; to further refine the output. The supplied input must be a
character vector with the strings corresponding to existing column names of the
processed <code>data</code> input supplied. Capitalization of <code>add_groups</code> does not matter.
Ex: <code>add_groups = c("Time_of_Day")</code></p>
</td></tr>
<tr><td><code id="bp_range_+3A_inc_wake">inc_wake</code></td>
<td>
<p>Optional argument corresponding to whether or not to include <code>WAKE</code>
in the grouping of the final output (if <code>WAKE</code> column is available). By default,
<code>inc_wake = TRUE</code> which will include the <code>WAKE</code> column in the groups by which
to calculate the respective metrics.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with SBP_max, SBP_min, SBP_range, DBP_max, DBP_min, DBP_range
and any additional optional columns included in data such as <code>ID</code>, <code>VISIT</code>,
<code>WAKE</code>, and <code>DATE</code>. If inc_date = TRUE, each row will correspond to a date.
The resulting tibble consists of:
</p>

<ul>
<li> <p><code>ID</code>: The unique identifier of the subject. For single-subject datasets, ID = 1
</p>
</li>
<li> <p><code>VISIT</code>: (If applicable) Corresponds to the visit # of the subject, if more than 1
</p>
</li>
<li> <p><code>WAKE</code>: (If applicable) Corresponds to the awake status of the subject (0 = asleep |
1 = awake)
</p>
</li>
<li> <p><code>SBP_max</code> / <code>DBP_max</code>: Finds the maximum value for the given grouping granularity
</p>
</li>
<li> <p><code>SBP_min</code> / <code>DBP_min</code>: Finds the minimum value for the given grouping granularity
</p>
</li>
<li> <p><code>SBP_range</code> / <code>DBP_range</code>: Calculates the range between the max and min values
</p>
</li>
<li> <p><code>N</code>: The number of observations for that particular grouping. If <code>inc_date = TRUE</code>,
<code>N</code> corresponds to the number of observations for that date. If <code>inc_date = FALSE</code>,
<code>N</code> corresponds to the number of observations for the most granular grouping available
(i.e. a combination of <code>ID</code>, <code>VISIT</code>, and <code>WAKE</code>)
</p>
</li>
<li><p> Any add_groups variables supplied to function argument will be present as a column in the
resulting tibble.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'># Load bp_hypnos
data(bp_hypnos)
data(bp_jhs)

# Process bp_hypnos
hypnos_proc &lt;- process_data(bp_hypnos, sbp = "SYST", dbp = "DIAST", date_time = "date.time",
id = "id", wake = "wake", visit = "visit", hr = "hr", pp ="pp", map = "map", rpp = "rpp")
# Process bp_jhs data
jhs_proc &lt;- process_data(bp_jhs, sbp = "Sys.mmHg.", dbp = "Dias.mmHg.", date_time = "DateTime",
hr = "Pulse.bpm.")

# Calculate BP range
bp_range(hypnos_proc)
bp_range(jhs_proc, inc_date = TRUE, add_groups = c("meal_time"))
# Notice that meal_time is not a column from process_data, but it still works
</code></pre>

<hr>
<h2 id='bp_rats'>Blood Pressure in Salt-Sensitive Dahl Rats Data</h2><span id='topic+bp_rats'></span>

<h3>Description</h3>

<p>The <code>bp_rats</code> data set includes arterial blood pressure waveform time series data
of the SS(n = 9) and SS.13 (n = 6) genetic strains of Dahl rats sampled at 100 Hz who
were each administered a low and high salt diet. It is taken from the study of Bugenhagen
et al.(2010) which sought to investigate the origins of the baroreflex dysfunction in
salt-sensitive Dahl rats on Hypertension.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bp_rats
</code></pre>


<h3>Format</h3>

<p>A data frame containing 5 variables pertaining to arterial continuous waveform blood
pressure as follows:
</p>

<dl>
<dt>rat_type</dt><dd><p>The type of a particular Dahl Rat (either SS or SSBN13) corresponding to the sodium intake administered:<br /><br />
ss_hs = SS rat given the high sodium diet<br />
ss_ls = SS rat given the low sodium diet<br />
ssbn13_hs = SSBN13 rat given the high sodium diet<br />
ssbn13_ls = SSBN13 rat given the low sodium diet<br /></p>
</dd>
<dt>rat_ID</dt><dd><p>ID # corresponding to a particular rat. There are 9 SS rats and 6 SSBN13 rats.</p>
</dd>
<dt>ABP</dt><dd><p>Continuous waveform data of each rat's arterial (blood) pressure sampled at 100 Hz.</p>
</dd>
<dt>time_sec</dt><dd><p>Amount of time elapsed, expressed in seconds</p>
</dd>
<dt>time_min</dt><dd><p>Amount of time elapsed, expressed in minutes</p>
</dd>
</dl>



<h3>Details</h3>

<p>(Goldberger A., Amaral L., Glass L., Hausdorff J., Ivanov P. C., Mark R., Bugenhagen S.M.,
Cowley A.W. Jr, Beard D.A., ... \&amp; Stanley H. E. 2000).
</p>
<p>Licensed under a ODC-BY (Creative Commons) Open Data Commons Attribution License 1.0
</p>


<h3>Source</h3>

<p>Original Paper: doi: <a href="https://doi.org/10.1152/physiolgenomics.00027.2010">10.1152/physiolgenomics.00027.2010</a>
</p>
<p>Data: doi: <a href="https://doi.org/10.13026/C20597">10.13026/C20597</a>
</p>

<hr>
<h2 id='bp_report'>Blood Pressure Report</h2><span id='topic+bp_report'></span>

<h3>Description</h3>

<p>The <code>bp_report</code> function serves to aggregate various data visuals and metrics
pertaining to the supplied data set into a clean formatted report.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bp_report(
  data,
  subj = NULL,
  inc_low = TRUE,
  inc_crisis = TRUE,
  group_var = NULL,
  save_report = TRUE,
  path = NULL,
  filename = "bp_report",
  width = 11,
  height = 8.5,
  filetype = "pdf",
  units = "in",
  scale = 1.25,
  plot = TRUE,
  hist_bins = 30
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bp_report_+3A_data">data</code></td>
<td>
<p>Required argument. A processed dataframe resulting from the <code>process_data</code>
function to properly format data set. In order for the <code>bp_report</code> function to work properly,
the following variables must be present and properly formatted:
</p>

<ul>
<li><p><code>SBP</code>
</p>
</li>
<li><p><code>DBP</code>
</p>
</li>
<li><p><code>DATE_TIME</code> - Used in the <code>process_data</code> function to create additional columns
that are needed for the <code>bp_report</code> function (SBP_Category, DBP_Category, Weekday, and
Time_of_Day.)
</p>
</li>
<li><p><code>SBP_CATEGORY</code> - Automatically calculated in the <code>process_data</code> function
</p>
</li>
<li><p><code>DBP_CATEGORY</code> - Automatically calculated in the <code>process_data</code> function
</p>
</li>
<li><p><code>DAY_OF_WEEK</code> - Automatically calculated in the <code>process_data</code> function
</p>
</li>
<li><p><code>TIME_OF_DAY</code> - Automatically calculated in the <code>process_data</code> function
</p>
</li>
<li><p><code>ID</code> - (If applicable) Used for separating out different individuals, if more than one
</p>
</li>
<li><p><code>VISIT</code> - (If applicable) Used for separating out an individuals' different visits,
if more than one
</p>
</li></ul>
</td></tr>
<tr><td><code id="bp_report_+3A_subj">subj</code></td>
<td>
<p>Optional argument. Allows the user to specify and subset specific subjects
from the <code>ID</code> column of the supplied data set. The <code>subj</code> argument can be a single
value or a vector of elements. The input type should be character, but the function will
comply with integers so long as they are all present in the <code>ID</code> column of the data.</p>
</td></tr>
<tr><td><code id="bp_report_+3A_inc_low">inc_low</code></td>
<td>
<p>Optional logical argument dictating whether or not to include the &quot;Low&quot; category for BP
classification column (and the supplementary SBP/DBP Category columns). Default set to TRUE.</p>
</td></tr>
<tr><td><code id="bp_report_+3A_inc_crisis">inc_crisis</code></td>
<td>
<p>Optional logical argument dictating whether or not to include the &quot;Crisis&quot; category for BP
classification column (and the supplementary SBP/DBP Category columns). Default set to TRUE.</p>
</td></tr>
<tr><td><code id="bp_report_+3A_group_var">group_var</code></td>
<td>
<p>A categorical column of the input data set that the individual points are to
be grouped / separated by for a given plot. Cannot contain more than 10 levels (to avoid
overcrowding the plot). This is different from the <code>wrap_var</code> argument which segments
plots by category and cannot be used with the <code>process_data</code> function.</p>
</td></tr>
<tr><td><code id="bp_report_+3A_save_report">save_report</code></td>
<td>
<p>A logical value indicating whether to save the BP report output as a separate file.
The default is <code>TRUE</code> indicating that the report will be saved.</p>
</td></tr>
<tr><td><code id="bp_report_+3A_path">path</code></td>
<td>
<p>Optional argument. A string corresponding to the respective file path by which the
report is to be saved. Do not include trailing slashes (i.e. ~/loc/) or the file name (i.e. ~/loc/testfile.pdf).
By default, if not <code>path</code> argument specified, will save at the current working directory.</p>
</td></tr>
<tr><td><code id="bp_report_+3A_filename">filename</code></td>
<td>
<p>Optional argument. A string corresponding to the name of the report. The default is
&quot;bp_report&quot;. The string cannot begin with a number or non-alphabetical character.
<br />
<br /> Note: DO NOT include the file type extension (such as &quot;.pdf&quot; or &quot;.png&quot;) at the end of the string;
the <code>bp_report</code> function will automatically join the name with the file type.</p>
</td></tr>
<tr><td><code id="bp_report_+3A_width">width</code></td>
<td>
<p>Optional argument. An numeric value corresponding to the width of the output document.
The default is set to 12 inches.</p>
</td></tr>
<tr><td><code id="bp_report_+3A_height">height</code></td>
<td>
<p>Optional argument. An numeric value corresponding to the height of the output document.
The default is set to 8.53 inches.</p>
</td></tr>
<tr><td><code id="bp_report_+3A_filetype">filetype</code></td>
<td>
<p>A string corresponding to he particular type of file that the report is to be saved as.
Although PDF is the default possible options include:
</p>

<ul>
<li><p>pdf (default)
</p>
</li>
<li><p>png
</p>
</li>
<li><p>jpeg
</p>
</li>
<li><p>tiff
</p>
</li>
<li><p>bmp
</p>
</li>
<li><p>eps
</p>
</li>
<li><p>ps
</p>
</li></ul>
</td></tr>
<tr><td><code id="bp_report_+3A_units">units</code></td>
<td>
<p>A character string corresponding to the unit of measurement that the width and height
correspond to in the exported output. The default is inches (&quot;in&quot;), but centimeters (&quot;cm&quot;) and
millimeters (&quot;mm&quot;) are also available.</p>
</td></tr>
<tr><td><code id="bp_report_+3A_scale">scale</code></td>
<td>
<p>A multiplicative scaling factor for the report output.</p>
</td></tr>
<tr><td><code id="bp_report_+3A_plot">plot</code></td>
<td>
<p>A logical value indicating whether to automatically produce the plot of bp_report, or suppress the output. The default value is TRUE. If false, the returned object is a grob that can be plotted using <code><a href="gridExtra.html#topic+grid.arrange">grid.arrange</a></code></p>
</td></tr>
<tr><td><code id="bp_report_+3A_hist_bins">hist_bins</code></td>
<td>
<p>An integer specifying how many bins to use for histogram plots. This is a ggplot parameter; default value set to 30</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>plot = TRUE</code>, the function produces a plot of BP report that contains scatterplot of BP values by stages (see <code><a href="#topic+bp_scatter">bp_scatter</a></code>), histograms of BP values by stages (see <code><a href="#topic+bp_hist">bp_hist</a></code>) and frequency tables of BP values by stages and day of the week/time of the day (see <code><a href="#topic+dow_tod_plots">dow_tod_plots</a></code>). If <code>plot = FALSE</code>, the function returns the grob object that can be plotted later using <code><a href="gridExtra.html#topic+grid.arrange">grid.arrange</a></code>. If <code>save_report = TRUE</code>, the report will be automatically saved at the current working directory (can be checked using <code>getwd()</code>) or at specified file path.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data("bp_jhs")
data("bp_hypnos")
hyp_proc &lt;- process_data(bp_hypnos,
                         sbp = "syst",
                         dbp = "DIAST",
                         date_time = "date.time",
                         id = "id",
                         wake = "wake",
                         visit = "visit",
                         hr = "hr",
                         map = "map",
                         rpp = "rpp",
                         pp = "pp",
                         ToD_int = c(5, 13, 18, 23))

jhs_proc &lt;- process_data(bp_jhs,
                         sbp = "Sys.mmHg.",
                         dbp = "Dias.mmHg.",
                         date_time = "DateTime",
                         hr = "pulse.bpm.")
rm(bp_hypnos, bp_jhs)

## Not run: 
# Single-subject Report
# save_report = FALSE for illustrative purposes
# plot = TRUE will automatically generate a plot
bp_report(jhs_proc, save_report = FALSE, plot = TRUE)

# Multi-subject Report
# save_report = FALSE for illustrative purposes
# plot = FALSE will suppress the plot output and return a grob object
out = bp_report(hyp_proc, group_var = 'VISIT', save_report = FALSE, plot = FALSE)
gridExtra::grid.arrange(out)

## End(Not run)
</code></pre>

<hr>
<h2 id='bp_scatter'>Blood Pressure Stage Scatter Plot</h2><span id='topic+bp_scatter'></span>

<h3>Description</h3>

<p>Display all <code>SBP</code> and <code>DBP</code>
readings on a scatterplot with deliniation of BP according to the 8
mutually exclusive levels of Hypertension as in Lee et al (2020) (the default), or the
levels set by the American Heart Association (AHA).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bp_scatter(
  data,
  plot_type = c("stages2020", "AHA"),
  subj = NULL,
  group_var = NULL,
  wrap_var = NULL,
  inc_crisis = TRUE,
  inc_low = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bp_scatter_+3A_data">data</code></td>
<td>
<p>A processed dataframe resulting from the <code>process_data</code> function that
contains the <code>SBP</code>, and <code>DBP</code> columns, as well as (potentially) other information that can be used for grouping.</p>
</td></tr>
<tr><td><code id="bp_scatter_+3A_plot_type">plot_type</code></td>
<td>
<p>String corresponding to the particular type of plot to be displayed. Default
plot (<code>"stages2020"</code>) sets the BP stages according to Lee et al (2020) with 8 mutually
exclusive categories. Two additional categories, &quot;Low&quot; or &quot;Crisis&quot;, can be determined
through the <code>inc_low</code> or <code>inc_crisis</code> function arguments, respectively.
Setting <code>plot_type = "AHA"</code> will use the stages according to the guidelines
set forth by the American Heart Association (reference: <a href="https://www.heart.org/en/health-topics/high-blood-pressure/understanding-blood-pressure-readings">https://www.heart.org/en/health-topics/high-blood-pressure/understanding-blood-pressure-readings</a>)</p>
</td></tr>
<tr><td><code id="bp_scatter_+3A_subj">subj</code></td>
<td>
<p>Optional argument. Allows the user to specify and subset specific subjects
from the <code>ID</code> column of the supplied data set. The <code>subj</code> argument can be a single
value or a vector of elements. The input type should be character, but the function will
comply with integers so long as they are all present in the <code>ID</code> column of the data.</p>
</td></tr>
<tr><td><code id="bp_scatter_+3A_group_var">group_var</code></td>
<td>
<p>A categorical column of the input data set that the individual points are to
be grouped / separated by for a given plot. Cannot contain more than 10 levels (to avoid
overcrowding the plot). This is different from the <code>wrap_var</code> argument which segments
plots by category. The default value is NULL (no grouping).</p>
</td></tr>
<tr><td><code id="bp_scatter_+3A_wrap_var">wrap_var</code></td>
<td>
<p>A categorical column of the input data set that the plots are to be segmented
by. If there are multiple levels such as time of day, or visit number, the output will include a
matrix with each plot corresponding to an individual level. This differs from the <code>group_var</code>
argument which separates data within the same plot. The default value is NULL (no wrapping).</p>
</td></tr>
<tr><td><code id="bp_scatter_+3A_inc_crisis">inc_crisis</code></td>
<td>
<p>A TRUE / FALSE indicator of whether or not to include the &quot;Crisis&quot; (Hypertensive)
category to the scatter plot. This is only activated in conjunction with <code>"stages2020"</code> plot type, and if TRUE is defined as SBP &gt; 180 or DBP &gt; 120. If FALSE, those values are displayed as either &quot;ISH - S2&quot;, &quot;S2&quot; or &quot;IDH - S2&quot; stages (see details). This argument is ignored with plot type <code>"AHA"</code>, where the &quot;Crisis&quot; stage (SBP &gt; 180 or DBP &gt; 120) is always displayed.</p>
</td></tr>
<tr><td><code id="bp_scatter_+3A_inc_low">inc_low</code></td>
<td>
<p>A TRUE / FALSE indicator of whether or not to include the &quot;Low&quot; (Hypotension)
category to the scatter plot. This is only activated in conjunction with <code>"stages2020"</code> plot type, and if TRUE is defined as SBP &lt; 100 and DBP &gt; 60. If FALSE, those values are displayed as &quot;Normal&quot;. This argument is ignored with plot type <code>"AHA"</code>, where the &quot;Low&quot; stage (SBP &lt; 100 and DBP &lt; 60) is always displayed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>There are eight total stages according to Lee et al (2020) with the options
to include two additional categories for &quot;Low&quot; (Hypotension) and Hypertensive &quot;Crisis&quot;. The
categories are as follows:
</p>

<ul>
<li> <p><code>Low</code> - (Optional) Legacy category for consistency with AHA stages. According to the AHA, low blood pressure is any reading with SBP &lt; 100 and DBP &lt; 60, and is depicted in light blue in the scatter plot. This is always displayed in <code>"AHA"</code> plot, and can be displayed in <code>"stages2020"</code> plot by setting <code>inc_low = TRUE</code>.
</p>
</li>
<li> <p><code>Normal</code> -  <code>SBP</code> readings less than 120 and <code>DBP</code> readings
less than 80. Reading within this range that either have SBP &gt; 100 or DBP &gt; 60 are also considered Normal by AHA. Normal BP is depicted in green in the scatter plot.
</p>
</li>
<li> <p><code>Elevated</code> - <code>SBP</code> readings between 120 - 129 and <code>DBP</code>
readings less than 80. Coincides with Elevated stage as defined by AHA. Without intervention to control the condition, individuals are likely to develop Hypertension. Elevated BP is depicted in yellow in the scatter plot.
</p>
</li>
<li> <p><code>Stage 1 - All (SDH)</code> - <code>SBP</code> readings between 130 - 139 and <code>DBP</code>
readings between 80 - 89. Stage 1 Hypertension will typically result in doctors prescribing
medication or lifestyle changes.  Stage 1 BP is depicted in dark orange in the scatter plot. These readings correspond to Stage 1 as defined by AHA.
</p>
</li>
<li> <p><code>Stage 1 - Isolated Diastolic Hypertension (IDH)</code> - <code>SBP</code> readings
less than 130, but <code>DBP</code> readings between 80 - 89. This alternative stage 1 level accounts
for unusually high diastolic readings, but fairly normal systolic readings and is depicted in
orange in the plot. These readings correspond to Stage 1 as defined by AHA.
</p>
</li>
<li> <p><code>Stage 1 - Isolated Systolic Hypertension (ISH)</code> - <code>SBP</code> readings
between 130 - 139, but <code>DBP</code> readings less than 80. This alternative stage 1 level accounts
for unusually high systolic readings, but fairly normal diastolic readings and is depicted in
orange in the plot. These readings correspond to Stage 1 as defined by AHA.
</p>
</li>
<li> <p><code>Stage 2 - All (SDH)</code> - <code>SBP</code> readings between 140 - 180 and <code>DBP</code> readings
between 90 - 120. Stage 2 Hypertension will typically result in doctors prescribing both
medication and lifestyle changes. Stage 2 BP is depicted in bright red in the scatter plot. These readings correspond to Stage 2 as defined by AHA.
</p>
</li>
<li> <p><code>Stage 2 - Isolated Diastolic Hypertension (IDH)</code> - <code>SBP</code> readings
less than or equal to 140, but <code>DBP</code> readings greater than or equal to 90. This alternative
stage 2 level accounts for unusually high diastolic readings, but fairly normal systolic readings
and is depicted in red. These readings correspond to Stage 2 as defined by AHA.
</p>
</li>
<li> <p><code>Stage 2 - Isolated Systolic Hypertension (IDH)</code> - <code>SBP</code> readings
greater than or equal to 140, but <code>DBP</code> readings less or equal to 90. This alternative
stage 2 level accounts for unusually high systolic readings, but fairly normal diastolic readings
and is depicted in red. These readings correspond to Stage 2 as defined by AHA.
</p>
</li>
<li> <p><code>Crisis</code> - (Optional) Legacy category for consistency with AHA stages. According to the AHA, hypertensive crisis is defined as a <code>SBP</code> reading exceeding 180 or a
<code>DBP</code> reading exceeding 120. This stage requires medical attention immediately.
Crisis is depicted in red in the scatter plot. This is always displayed in <code>"AHA"</code> plot, and can be displayed in <code>"stages2020"</code> plot by setting <code>inc_crisis = TRUE</code>.
</p>
</li></ul>



<h3>Value</h3>

<p>A scatter plot graphic using the ggplot2 package overlaying each reading (represented as
points) onto a background that contains each stage
</p>


<h3>References</h3>

<p>Lee H, Yano Y, Cho SMJ, Park JH, Park S, Lloyd-Jones DM, Kim HC. Cardiovascular risk of isolated
systolic or diastolic hypertension in young adults. <em>Circulation</em>. 2020; 141:17781786.
doi: <a href="https://doi.org/10.1161/CIRCULATIONAHA.119.044838">10.1161/CIRCULATIONAHA.119.044838</a>
</p>
<p>Unger, T., Borghi, C., Charchar, F., Khan, N. A., Poulter, N. R., Prabhakaran, D., ... &amp; Schutte,
A. E. (2020). 2020 International Society of Hypertension global hypertension practice guidelines.
<em>Hypertension</em>, 75(6), 1334-1357.
doi: <a href="https://doi.org/10.1161/HYPERTENSIONAHA.120.15026">10.1161/HYPERTENSIONAHA.120.15026</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("bp_jhs")
data("bp_hypnos")
data("bp_ghana")
hypnos_proc &lt;- process_data(bp_hypnos,
                         bp_type = 'abpm',
                         sbp = "syst",
                         dbp = "DIAST",
                         date_time = "date.time",
                         id = "id",
                         wake = "wake",
                         visit = "visit",
                         hr = "hr",
                         map = "map",
                         rpp = "rpp",
                         pp = "pp",
                         ToD_int = c(5, 13, 18, 23))

jhs_proc &lt;- process_data(bp_jhs,
                         sbp = "Sys.mmHg.",
                         dbp = "Dias.mmHg.",
                         date_time = "DateTime",
                         hr = "pulse.bpm.")
rm(bp_hypnos, bp_jhs)

# HYPNOS Data
bp_scatter(hypnos_proc,
           inc_crisis = TRUE,
           inc_low = TRUE,
           group_var = "wake",
           wrap_var = "day_of_week")

# JHS Data
bp_scatter(jhs_proc,
           plot_type = "AHA",
           group_var = "time_of_day")

# Ghana Data Set
#(Note that column names are of proper naming convention so no processing needed)
bp_scatter(bp::bp_ghana, inc_crisis = TRUE, inc_low = FALSE, group_var = "TIME_ELAPSED")
</code></pre>

<hr>
<h2 id='bp_sleep_metrics'>Nocturnal Blood Pressure Metrics</h2><span id='topic+bp_sleep_metrics'></span>

<h3>Description</h3>

<p>The <code>bp_sleep_metrics</code> function serves to calculate nocturnal metrics
from relevant medical literature.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bp_sleep_metrics(data, subj = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bp_sleep_metrics_+3A_data">data</code></td>
<td>
<p>User-supplied data set containing blood pressure data. Must
contain a Systolic blood pressure (<code>SBP</code>), Diastolic blood pressure (<code>DBP</code>)
as well as <code>ID</code>, <code>WAKE</code>, and <code>DATE_TIME</code> columns.</p>
</td></tr>
<tr><td><code id="bp_sleep_metrics_+3A_subj">subj</code></td>
<td>
<p>Optional argument. Allows the user to specify and subset specific subjects
from the <code>ID</code> column of the supplied data set. The <code>subj</code> argument can be a single
value or a vector of elements. The input type should be character, but the function will
comply with integers so long as they are all present in the <code>ID</code> column of the data.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>NOTE: Any reference to &quot;sleep&quot; in the bp package refers to an individual's nocturnal period;
&quot;sleep&quot; is used in an informal sense for intuitive purposes. Technically, from a clinical perspective,
indication of sleep is currently obtained through means of EEG or other highly specialized equipment.
For all intents and purposes, sleep in the context of this package refers to actigraphy-inferred
nocturnal periods of rest.
</p>
<p>The calculation of BP metrics related to sleep is based on averages of BP readings from four periods as identified in Kairo et al. (2003):
presleep or evening (2 hours before sleep start),
prewake (2 hours before wake),
postwake or morning (2 hours after wake),
lowest (3 measurements centered at the minimal BP reading over sleep).
The function uses <code>WAKE</code> column to automatically allocate BP measurements to various periods. The following metrics are defined as a
function of the period averages (separately for SBP and DBP)
</p>
<p><code>dip_calc</code> = 1 - mean_sleep_BP/mean_wake_BP (dip proportion)
</p>
<p><code>noct_fall</code> = mean_presleep_BP - mean_lowest_BP (nocturnal fall)
</p>
<p><code>ST_mbps</code> = mean_postwake_BP - mean_lowest_BP (sleep through morning blood pressure surge)
</p>
<p><code>PW_mbps</code> = mean_postwake_BP - mean_prewake_BP (prewake morning blood pressure surge)
</p>
<p><code>ME_avg</code> = (mean_presleep_BP + mean_postwake_BP)/2 (morning-evening average)
</p>
<p><code>ME_diff</code> = mean_postwake_BP - mean_presleep_BP (morning-evening difference)
</p>
<p><code>wSD</code> = ( (wake_SD x HRS_wake) + (sleep_SD x HRS_sleep) ) / (HRS_wake + HRS_sleep) (weighted standard deviation)
</p>


<h3>Value</h3>

<p>The function outputs a list containing 4 tibble objects corresponding to the following tables:
</p>
<table>
<tr><td><code>[[1]]</code></td>
<td>
<p>Counts of how many BP measurements were observed overall (<code>N_total</code>),
total number of readings during sleep (<code>N_sleep</code>),
total number of readings during wake (<code>N_wake</code>),
number of unique hours recorded during the sleep period (<code>HRS_sleep</code>), and
number of unique hours recorded during the wake period (<code>HRS_wake</code>) for each subject ID and grouping variable</p>
</td></tr>
<tr><td><code>[[2]]</code></td>
<td>
<p>Summary statistics for systolic BP measurements (SBP): mean SBP value over Sleep and Wake, sd SBP value
over Sleep and Wake, mean SBP value over presleep period (evening in Kario et al. (2003)), mean SBP value over prewake period,
mean SBP value over postwake period (morning in Kario et al. (2003)), mean SBP value over 3 reading centered at the lowest SBP
value during sleep</p>
</td></tr>
<tr><td><code>[[3]]</code></td>
<td>
<p>Summary statistics for diastolic BP measurements (DBP), same as for SBP</p>
</td></tr>
<tr><td><code>[[4]]</code></td>
<td>
<p>BP metrics associated with sleep as defined above, separately for SBP and DBP</p>
</td></tr>
</table>


<h3>References</h3>

<p>Kario, K., Pickering, T. G., Umeda, Y., Hoshide, S., Hoshide, Y., Morinari, M., ... &amp; Shimada, K. (2003). Morning surge in blood
pressure as a predictor of silent and clinical cerebrovascular disease in elderly hypertensives: a prospective study. Circulation,
107(10), 1401-1406.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>hypnos_proc &lt;- process_data(bp_hypnos,
                           sbp = "syst",
                           dbp = "DIAST",
                           date_time = "date.time",
                           id = "id",
                           wake = "wake",
                           visit = "visit",
                           hr = "hr",
                           map = "map",
                           rpp = "rpp",
                           pp = "pp",
                           bp_type = "abpm")

bp_sleep_metrics(hypnos_proc)

</code></pre>

<hr>
<h2 id='bp_stages'>Alternative Blood Pressure Stages</h2><span id='topic+bp_stages'></span>

<h3>Description</h3>

<p>Adds BP_CLASS, SBP_Category, and DBP_Category columns to supplied dataframe.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bp_stages(
  data,
  sbp,
  dbp,
  inc_low = TRUE,
  inc_crisis = TRUE,
  data_screen = TRUE,
  SUL = 240,
  SLL = 50,
  DUL = 140,
  DLL = 40,
  adj_sbp_dbp = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bp_stages_+3A_data">data</code></td>
<td>
<p>User-supplied dataset containing blood pressure data. Must
contain data for Systolic blood pressure and Diastolic blood pressure at a
minimum.</p>
</td></tr>
<tr><td><code id="bp_stages_+3A_sbp">sbp</code></td>
<td>
<p>column name corresponding to systolic blood pressure (SBP)</p>
</td></tr>
<tr><td><code id="bp_stages_+3A_dbp">dbp</code></td>
<td>
<p>column name corresponding to diastolic blood pressure (DBP)</p>
</td></tr>
<tr><td><code id="bp_stages_+3A_inc_low">inc_low</code></td>
<td>
<p>A TRUE / FALSE indicator of whether or not to include the &quot;Low&quot; (Hypotension)
category to the scatter plot. The range for Hypotension is set from a minimum of 25 for DBP or 80
for SBP, or the corresponding minimum value for either category from the data until 60 for DBP and
100 for SBP.</p>
</td></tr>
<tr><td><code id="bp_stages_+3A_inc_crisis">inc_crisis</code></td>
<td>
<p>A TRUE / FALSE indicator of whether or not to include the Hypertensive &quot;Crisis&quot;
category to the scatter plot. The range for crisis is any value above 180 for SBP or above 120 for
DBP.</p>
</td></tr>
<tr><td><code id="bp_stages_+3A_data_screen">data_screen</code></td>
<td>
<p>Default to TRUE. data_screens for extreme values in the data for both <code>SBP</code> and <code>DBP</code>
according to Omboni, et al (1995) paper - Calculation of Trough:Peak Ratio of Antihypertensive Treatment
from Ambulatory Blood Pressure: Methodological Aspects</p>
</td></tr>
<tr><td><code id="bp_stages_+3A_sul">SUL</code></td>
<td>
<p>Systolic Upper Limit (SUL). If <code>data_screen = TRUE</code>, then <code>SUL</code> sets the upper limit by which
to exclude any <code>SBP</code> values that exceed this threshold. The default is set to 240 per Omboni, et al (1995)
paper - Calculation of Trough:Peak Ratio of Antihypertensive Treatment from Ambulatory Blood Pressure:
Methodological Aspects</p>
</td></tr>
<tr><td><code id="bp_stages_+3A_sll">SLL</code></td>
<td>
<p>Systolic Lower Limit (SLL). If <code>data_screen = TRUE</code>, then <code>SLL</code> sets the lower limit by which
to exclude any <code>SBP</code> values that fall below this threshold. The default is set to 50 per Omboni, et al (1995)
paper - Calculation of Trough:Peak Ratio of Antihypertensive Treatment from Ambulatory Blood Pressure:
Methodological Aspects</p>
</td></tr>
<tr><td><code id="bp_stages_+3A_dul">DUL</code></td>
<td>
<p>Diastolic Upper Limit (DUL). If <code>data_screen = TRUE</code>, then <code>DUL</code> sets the upper limit by which
to exclude any <code>DBP</code> values that exceed this threshold. The default is set to 140 per Omboni, et al (1995)
paper - Calculation of Trough:Peak Ratio of Antihypertensive Treatment from Ambulatory Blood Pressure:
Methodological Aspects</p>
</td></tr>
<tr><td><code id="bp_stages_+3A_dll">DLL</code></td>
<td>
<p>Diastolic Lower Limit (DLL). If <code>data_screen = TRUE</code>, then <code>DLL</code> sets the lower limit by which
to exclude any <code>DBP</code> values that fall below this threshold. The default is set to 40 per Omboni, et al (1995)
paper - Calculation of Trough:Peak Ratio of Antihypertensive Treatment from Ambulatory Blood Pressure:
Methodological Aspects</p>
</td></tr>
<tr><td><code id="bp_stages_+3A_adj_sbp_dbp">adj_sbp_dbp</code></td>
<td>
<p>Logical indicator to dictate whether or not to run helper functions that adjust / process
SBP &amp; DBP columns in supplied data set. Default set to: <code>adj_sbp_dbp = TRUE</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>Supplied dataframe must adhere to the unified format using the <code>process_data</code> function.
</p>


<h3>Value</h3>

<p>A dataframe with additional columns corresponding to the stages of high blood pressure and the
supplementary SBP / DBP categories
</p>


<h3>References</h3>

<p>Omboni, S., Parati, G*., Zanchetti, A., Mancia, G. Calculation of trough: peak ratio of
antihypertensive treatment from ambulatory blood pressure: methodological aspects
<em>Journal of Hypertension</em>. October 1995 - Volume 13 - Issue 10 - p 1105-1112
doi: <a href="https://doi.org/10.1097/00004872-199510000-00005">10.1097/00004872-199510000-00005</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Load bp_hypnos
data(bp_hypnos)

bp_stages(bp_hypnos, sbp = "syst", dbp = "diast")


# Load bp_jhs data
data(bp_jhs)

bp_stages(bp_jhs, sbp = "sys.mmhg.", dbp = "dias.mmhg.")

</code></pre>

<hr>
<h2 id='bp_stats'>Aggregated BP Summary Statistics</h2><span id='topic+bp_stats'></span>

<h3>Description</h3>

<p>Combines the output from the following functions:
</p>

<ul>
<li> <p><code>bp_center</code>
</p>
</li>
<li> <p><code>bp_cv</code>
</p>
</li>
<li> <p><code>bp_arv</code>
</p>
</li>
<li> <p><code>bp_sv</code>
</p>
</li>
<li> <p><code>bp_mag</code>
</p>
</li>
<li> <p><code>bp_range</code>
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>bp_stats(
  data,
  inc_date = FALSE,
  subj = NULL,
  bp_type = c("both", "sbp", "dbp"),
  add_groups = NULL,
  inc_wake = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bp_stats_+3A_data">data</code></td>
<td>
<p>Required argument. Pre-processed dataframe containing SBP and
DBP with optional ID, VISIT, WAKE, and DATE columns if available.
Use <code>process_data</code> to properly format data.</p>
</td></tr>
<tr><td><code id="bp_stats_+3A_inc_date">inc_date</code></td>
<td>
<p>Optional argument. Default is FALSE. As ABPM data typically
overlaps due to falling asleep on one date and waking up on another, the <code>inc_date</code>
argument is typically kept as FALSE, but the function will work regardless. Setting
<code>inc_date = TRUE</code> will include these dates as a grouping level.</p>
</td></tr>
<tr><td><code id="bp_stats_+3A_subj">subj</code></td>
<td>
<p>Optional argument. Allows the user to specify and subset specific subjects
from the <code>ID</code> column of the supplied data set. The <code>subj</code> argument can be a single
value or a vector of elements. The input type should be character, but the function will
comply with integers so long as they are all present in the <code>ID</code> column of the data.</p>
</td></tr>
<tr><td><code id="bp_stats_+3A_bp_type">bp_type</code></td>
<td>
<p>Optional argument. Determines whether to calculate magnitude for SBP
values or DBP values, or both. For <strong>both SBP and DBP</strong> ARV values use bp_type = 'both',
for <strong>SBP-only</strong> use bp_type = 'sbp, and for <strong>DBP-only</strong> use bp_type = 'dbp'.
If no type specified, default will be set to 'both'</p>
</td></tr>
<tr><td><code id="bp_stats_+3A_add_groups">add_groups</code></td>
<td>
<p>Optional argument. Allows the user to aggregate the data by an
additional &quot;group&quot; to further refine the output. The supplied input must be a
character vector with the strings corresponding to existing column names of the
processed <code>data</code> input supplied. Capitalization of <code>add_groups</code> does not matter.
Ex: <code>add_groups = c("Time_of_Day")</code></p>
</td></tr>
<tr><td><code id="bp_stats_+3A_inc_wake">inc_wake</code></td>
<td>
<p>Optional argument corresponding to whether or not to include <code>WAKE</code>
in the grouping of the final output (if <code>WAKE</code> column is available). By default,
<code>inc_wake = TRUE</code> which will include the <code>WAKE</code> column in the groups by which
to calculate the respective metrics.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble object with a row corresponding to each subject, or alternatively
a row corresponding to each date, if inc_date = TRUE. The resulting tibble consists of:
</p>

<ul>
<li> <p><code>ID</code>: The unique identifier of the subject. For single-subject datasets, ID = 1
</p>
</li>
<li> <p><code>N</code>: The number of observations for that particular grouping. If <code>inc_date = TRUE</code>,
<code>N</code> corresponds to the number of observations for that date. If <code>inc_date = FALSE</code>, N
corresponds to the number of observations for the most granular grouping available (i.e.
a combination of <code>ID</code>, <code>VISIT</code>, and <code>WAKE</code>)
</p>
</li>
<li> <p><code>VISIT</code>: (If applicable) Corresponds to the visit # of the subject, if more than 1
</p>
</li>
<li> <p><code>WAKE</code>: (If applicable) Corresponds to the awake status of the subject (0 = asleep |
1 = awake)
</p>
</li>
<li><p> Output from the following functions: <code>bp_center</code>, <code>bp_cv</code>, <code>bp_arv</code>, <code>bp_sv</code>,
<code>bp_mag</code>, <code>bp_range</code>
</p>
</li>
<li><p> Any add_groups variables supplied to function argument will be present as a column in the
resulting tibble.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'># Load data
data(bp_hypnos)
data(bp_jhs)

# Process bp_hypnos
hyp_proc &lt;- process_data(bp_hypnos, sbp = "SYST", dbp = "DIAST", date_time = "date.time",
id = "id", wake = "wake", visit = "visit", hr = "hr", pp ="pp", map = "map", rpp = "rpp")
# Process bp_jhs data
jhs_proc &lt;- process_data(bp_jhs, sbp = "Sys.mmHg.", dbp = "Dias.mmHg.", date_time = "DateTime",
hr = "Pulse.bpm.")

# BP Stats Aggregated Table
bp_stats(hyp_proc, subj = c(70417, 70435), add_groups = c("SBP_Category"), bp_type = 'sbp')
bp_stats(jhs_proc, add_groups = c("SBP_Category"))
</code></pre>

<hr>
<h2 id='bp_sv'>Successive Variation (SV)</h2><span id='topic+bp_sv'></span>

<h3>Description</h3>

<p>Calculate the successive variation (SV) at various levels of granularity
based on what is supplied (ID, VISIT, WAKE, and / or DATE)for either SBP,
DBP, or both. SV is a measure of dispersion that takes into account the
temporal structure of the data and relies on the sum of squared differences
in successive observations, unlike the average real variability (ARV)
which relies on the sum of absolute differences.
$$SV = sqrt(sum(x_i+1 - x_i)^2/n-1)$$
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bp_sv(
  data,
  inc_date = FALSE,
  subj = NULL,
  bp_type = c("both", "sbp", "dbp"),
  add_groups = NULL,
  inc_wake = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bp_sv_+3A_data">data</code></td>
<td>
<p>Required argument. Pre-processed dataframe with SBP and DBP columns
with optional ID, VISIT, WAKE, and DATE columns if available.
Use <code>process_data</code> to properly format data.</p>
</td></tr>
<tr><td><code id="bp_sv_+3A_inc_date">inc_date</code></td>
<td>
<p>Optional argument. Default is FALSE. As ABPM data typically
overlaps due to falling asleep on one date and waking up on another, the <code>inc_date</code>
argument is typically kept as FALSE, but the function will work regardless. Setting
<code>inc_date = TRUE</code> will include these dates as a grouping level.</p>
</td></tr>
<tr><td><code id="bp_sv_+3A_subj">subj</code></td>
<td>
<p>Optional argument. Allows the user to specify and subset specific subjects
from the <code>ID</code> column of the supplied data set. The <code>subj</code> argument can be a single
value or a vector of elements. The input type should be character, but the function will
comply with integers so long as they are all present in the <code>ID</code> column of the data.</p>
</td></tr>
<tr><td><code id="bp_sv_+3A_bp_type">bp_type</code></td>
<td>
<p>Optional argument. Determines whether to calculate SV for SBP
values or DBP values, or both. For <strong>both SBP and DBP</strong> ARV values use bp_type = 'both',
for <strong>SBP-only</strong> use bp_type = 'sbp, and for <strong>DBP-only</strong> use bp_type = 'dbp'.
If no type specified, default will be set to 'both'</p>
</td></tr>
<tr><td><code id="bp_sv_+3A_add_groups">add_groups</code></td>
<td>
<p>Optional argument. Allows the user to aggregate the data by an
additional &quot;group&quot; to further refine the output. The supplied input must be a
character vector with the strings corresponding to existing column names of the
processed <code>data</code> input supplied. Capitalization of <code>add_groups</code> does not matter.
Ex: <code>add_groups = c("Time_of_Day")</code></p>
</td></tr>
<tr><td><code id="bp_sv_+3A_inc_wake">inc_wake</code></td>
<td>
<p>Optional argument corresponding to whether or not to include <code>WAKE</code>
in the grouping of the final output (if <code>WAKE</code> column is available). By default,
<code>inc_wake = TRUE</code> which will include the <code>WAKE</code> column in the groups by which
to calculate the respective metrics.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>NOTE:</strong> The canonical standard deviation, independent of the temporal
structure using the sample average, is added for comparison:
$$SD = sqrt(sum(x_i+1 - xbar)^2/n-1)$$
</p>


<h3>Value</h3>

<p>A tibble object with a row corresponding to each subject, or alternatively
a row corresponding to each date if inc_date = TRUE. The resulting tibble consists of:
</p>

<ul>
<li> <p><code>ID</code>: The unique identifier of the subject. For single-subject datasets, ID = 1
</p>
</li>
<li> <p><code>VISIT</code>: (If applicable) Corresponds to the visit # of the subject, if more than 1
</p>
</li>
<li> <p><code>WAKE</code>: (If applicable) Corresponds to the awake status of the subject (0 = asleep |
1 = awake)
</p>
</li>
<li> <p><code>SV_SBP</code> / <code>SV_DBP</code>: Calculates the square root of the average squared differences
between successive measurements. The resulting value averages across the granularity
grouping for however many observations are present.
</p>
</li>
<li><p> N: The number of observations for that particular grouping. If <code>inc_date = TRUE</code>,
<code>N</code> corresponds to the number of observations for that date. If <code>inc_date = FALSE</code>, N
corresponds to the number of observations for the most granular grouping available (i.e.
a combination of <code>ID</code>, <code>VISIT</code>, and <code>WAKE</code>)
</p>
</li>
<li><p> Any add_groups variables supplied to function argument will be present as a column in the
resulting tibble.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'># Load data
data(bp_hypnos)
data(bp_jhs)

# Process bp_hypnos
hypnos_proc &lt;- process_data(bp_hypnos, sbp = "SYST", dbp = "DIAST", date_time = "date.time",
id = "id", wake = "wake", visit = "visit", hr = "hr", pp ="pp", map = "map", rpp = "rpp")
# Process bp_jhs data
jhs_proc &lt;- process_data(bp_jhs, sbp = "Sys.mmHg.", dbp = "Dias.mmHg.", date_time = "DateTime",
hr = "Pulse.bpm.")

# SV Calculation
bp_sv(hypnos_proc)
bp_sv(jhs_proc, add_groups = c("meal_time"))
# Notice that meal_time is not a column from process_data, but it still works
</code></pre>

<hr>
<h2 id='bp_tables'>Blood Pressure Tables</h2><span id='topic+bp_tables'></span>

<h3>Description</h3>

<p>Generate a list of pertinent table outputs that detail various information
specific to blood pressure.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bp_tables(
  data,
  bp_type = c("both", "sbp", "dbp"),
  bp_perc_margin = NULL,
  wake_perc_margin = 2,
  subj = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bp_tables_+3A_data">data</code></td>
<td>
<p>A processed dataframe resulting from the <code>process_data</code> function that
contains the <code>SBP</code>, <code>DBP</code>, <code>DAY_OF_WEEK</code>, <code>Time_of_Day</code>, <code>SBP_CATEGORY</code>,
and <code>DBP_CATEGORY</code> columns.</p>
</td></tr>
<tr><td><code id="bp_tables_+3A_bp_type">bp_type</code></td>
<td>
<p>Optional argument. Determines whether to calculate tables for SBP
values or DBP values, or both. For <strong>both SBP and DBP</strong> ARV values use bp_type = 'both',
for <strong>SBP-only</strong> use bp_type = 'sbp, and for <strong>DBP-only</strong> use bp_type = 'dbp'.
If no type specified, default will be set to 'both'</p>
</td></tr>
<tr><td><code id="bp_tables_+3A_bp_perc_margin">bp_perc_margin</code></td>
<td>
<p>An optional argument that determines which of the marginal totals
to include in the raw count tables expressed as percentages. The argument can take on
values either NULL (default, both SBP and DBP), 1 (SBP only), or 2 (DBP only).</p>
</td></tr>
<tr><td><code id="bp_tables_+3A_wake_perc_margin">wake_perc_margin</code></td>
<td>
<p>An optional argument that determines which of the marginal totals
to include in the tables pertaining to the percentages of awake / asleep readings if
applicable (i.e. if the WAKE column is present). The argument can take on values either
NULL (both SBP and DBP), 1 (SBP only), or 2 (DBP only).</p>
</td></tr>
<tr><td><code id="bp_tables_+3A_subj">subj</code></td>
<td>
<p>Optional argument. Allows the user to specify and subset specific subjects
from the <code>ID</code> column of the supplied data set. The <code>subj</code> argument can be a single
value or a vector of elements. The input type should be character, but the function will
comply with integers so long as they are all present in the <code>ID</code> column of the data.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of table outputs for various subsets of the data based on which bp_type is selected
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("bp_jhs")
data("bp_hypnos")
hyp_proc &lt;- process_data(bp_hypnos,
                         bp_type = 'abpm',
                         sbp = "syst",
                         dbp = "DIAST",
                         date_time = "date.time",
                         id = "id",
                         wake = "wake",
                         visit = "visit",
                         hr = "hr",
                         map = "map",
                         rpp = "rpp",
                         pp = "pp",
                         ToD_int = c(5, 13, 18, 23))

jhs_proc &lt;- process_data(bp_jhs,
                         sbp = "Sys.mmHg.",
                         dbp = "Dias.mmHg.",
                         date_time = "DateTime",
                         hr = "pulse.bpm.")
rm(bp_hypnos, bp_jhs)

bp_tables(jhs_proc)
bp_tables(hyp_proc)

</code></pre>

<hr>
<h2 id='bp_ts_plots'>Blood Pressure Time Series Plots</h2><span id='topic+bp_ts_plots'></span>

<h3>Description</h3>

<p>Blood Pressure Time Series Plots
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bp_ts_plots(
  data,
  index = NULL,
  subj = NULL,
  first_hour = 0,
  rotate_xlab = FALSE,
  wrap_var = NULL,
  wrap_row = NULL,
  wrap_col = NULL,
  method = NULL,
  formula = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bp_ts_plots_+3A_data">data</code></td>
<td>
<p>User-supplied data set containing blood pressure data. Must
contain a Systolic blood pressure (SBP), Diastolic blood pressure (DBP)
and an ID column. Data must also have either a DATE_TIME or DATE column,
unless an index column is specified for the x axis. An index column trumps
DATE_TIME and DATE if specified.</p>
</td></tr>
<tr><td><code id="bp_ts_plots_+3A_index">index</code></td>
<td>
<p>An optional user-specified column denoting x-axis values (other
than DATE_TIME or DATE columns). <code>index</code> argument must be a character denoting a
column in the supplied data. This argument is useful in the event the
data has no corresponding date/time value, but rather an index of values
such as (reading #1, #2, #3, etc. or office visit #1, #2, etc. as examples)
If NULL, the function will look for DATE_TIME or DATE columns to reference.
If <code>index</code> is character, it will be coerced to factor.</p>
</td></tr>
<tr><td><code id="bp_ts_plots_+3A_subj">subj</code></td>
<td>
<p>Optional argument. Allows the user to specify and subset specific subjects
from the <code>ID</code> column of the supplied data set. The <code>subj</code> argument can be a single
value or a vector of elements. The input type should be character, but the function will
comply with integers so long as they are all present in the <code>ID</code> column of the data.</p>
</td></tr>
<tr><td><code id="bp_ts_plots_+3A_first_hour">first_hour</code></td>
<td>
<p>Optional argument denoting a value corresponding to the first hour of the
x-axis for the hour plots. Only applicable to data sets that contain a DATE_TIME column.
It is often easier to visualize a BP time series not from 0 - 23 hours but rather an order
that begins or ends with waking up such as <code>first_hour = 6</code> which will sequence the
hours from 6am (6, 7, ..., 23, 0, ..., 4, 5). The default value for <code>first_hour</code> is
set at 0</p>
</td></tr>
<tr><td><code id="bp_ts_plots_+3A_rotate_xlab">rotate_xlab</code></td>
<td>
<p>An optional logical argument to rotate the x axis labels 90 degrees. The
default value is set to FALSE.</p>
</td></tr>
<tr><td><code id="bp_ts_plots_+3A_wrap_var">wrap_var</code></td>
<td>
<p>An optional character argument indicating a column by which to &quot;wrap&quot; the data.
This function utilizes ggplot2's <code>facet_wrap</code> function to split plots according to some
extraneous variable (such as gender, smoking status, awake/asleep, etc.).</p>
</td></tr>
<tr><td><code id="bp_ts_plots_+3A_wrap_row">wrap_row</code></td>
<td>
<p>An optional argument specifying how many rows to wrap the plots if <code>wrap_var</code>
is specified.</p>
</td></tr>
<tr><td><code id="bp_ts_plots_+3A_wrap_col">wrap_col</code></td>
<td>
<p>An optional argument specifying how many columnss to wrap the plots if <code>wrap_var</code>
is specified.</p>
</td></tr>
<tr><td><code id="bp_ts_plots_+3A_method">method</code></td>
<td>
<p>(ggplot2 plotting arguments) Smoothing method (function) to use. Default is NULL,
but also accepts a character vector &quot;lm&quot;, &quot;glm&quot;, &quot;gam&quot;, &quot;loess&quot;. NULL implies that the
smoothing method will be chosen automatically based on the size of the largest group.
</p>
<p>See <a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html">https://ggplot2.tidyverse.org/reference/geom_smooth.html</a> for more details.</p>
</td></tr>
<tr><td><code id="bp_ts_plots_+3A_formula">formula</code></td>
<td>
<p>(ggplot2 plotting arguments) Formula to use in smoothing function. Default is NULL
implying y ~ x for fewer than 1,000 observations and y ~ x(x, bs = &quot;cs&quot;) otherwise.
</p>
<p>See <a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html">https://ggplot2.tidyverse.org/reference/geom_smooth.html</a> for more details.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If the data does not contain a DATE_TIME column, a single list will be
returned with the time-dependent plots for each subject ID. If the data does contain a DATE_TIME
column (and index is not specified), a list of two lists will be returned for each subject ID:
one corresponding to the time-dependent plots (according to the DATE_TIME values), and another
plot corresponding to the HOUR plots which show repeated measurements of BP values throughout
a 24-hour period. The index of the output therefore corresponds to whether there is only the
time-dependent plot type (the former situation) or there are both time-dependent and hourly
plot types (the latter situation).
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Pregnancy Data Set

# bp_preg requires the use of the index argument since there are no DATE or
# DATE_TIME columns available
data_preg &lt;- bp::bp_preg
data_preg$Time_Elapsed &lt;- factor(data_preg$Time_Elapsed,
     levels = c("Booking", "0", "30", "60", "90", "120", "150", "180", "210", "240"))

bp::bp_ts_plots(data_preg, index = 'time_elapsed', subj = 1:3)


# JHS Data Set

# bp_jhs returns two lists since there is a DATE_TIME column: one for
# DATE_TIME and one for HOUR
data_jhs &lt;- bp::process_data(bp::bp_jhs,
                                    sbp = 'sys.mmhg.',
                                    dbp = 'dias.mmhg.',
                                     hr = 'pulse.bpm.',
                              date_time = 'datetime')

bp::bp_ts_plots(data_jhs)


# HYPNOS Data Set

# bp_hypnos wraps the plots by the visit # since each subject was recorded over
# the course of two office visits
data_hypnos &lt;- bp::process_data(bp::bp_hypnos,
                                          sbp = 'syst',
                                          dbp = 'diast',
                                    date_time = 'date.time')

bp::bp_ts_plots(data_hypnos, wrap_var = 'visit', subj = '70435')
</code></pre>

<hr>
<h2 id='create_grps'>Create Groups for Dplyr</h2><span id='topic+create_grps'></span>

<h3>Description</h3>

<p>Used in the following functions:
<code>arv</code>, <code>bp_mag</code>, <code>bp_range</code>, <code>cv</code>, <code>sv</code>, <code>bp_center</code>, <code>bp_stats</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_grps(data, inc_date, add_groups, inc_wake)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="create_grps_+3A_data">data</code></td>
<td>
<p>Supplied data from function</p>
</td></tr>
<tr><td><code id="create_grps_+3A_inc_date">inc_date</code></td>
<td>
<p>TRUE/FALSE indicator from function argument for whether or not to
include the date in grouping</p>
</td></tr>
<tr><td><code id="create_grps_+3A_add_groups">add_groups</code></td>
<td>
<p>Character vector from function argument input corresponding
to which other variables other than &quot;ID&quot;, &quot;WAKE&quot;, and &quot;VISIT&quot; to include from
the supplied data's column names. If &quot;DATE&quot; is supplied in add_groups, and
inc_date = TRUE, the duplicate will be omitted.</p>
</td></tr>
<tr><td><code id="create_grps_+3A_inc_wake">inc_wake</code></td>
<td>
<p>Optional argument corresponding to whether or not to include <code>WAKE</code>
in the grouping of the final output (if <code>WAKE</code> column is available). By default,
<code>inc_wake = TRUE</code> which will include the <code>WAKE</code> column in the groups by which
to calculate the respective metrics.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of string values corresponding to the column names that
will subset / group the data in dplyr functions
</p>

<hr>
<h2 id='cv'>Coefficient of Variation (CV)</h2><span id='topic+cv'></span>

<h3>Description</h3>

<p>THIS IS A DEPRECATED FUNCTION. USE bp_cv INSTEAD.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cv(
  data,
  inc_date = FALSE,
  subj = NULL,
  bp_type = 0,
  add_groups = NULL,
  inc_wake = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cv_+3A_data">data</code></td>
<td>
<p>Required argument. Pre-processed dataframe with SBP and DBP columns
with optional ID, VISIT, WAKE, and DATE columns if available.
Use <code>process_data</code> to properly format data.</p>
</td></tr>
<tr><td><code id="cv_+3A_inc_date">inc_date</code></td>
<td>
<p>Optional argument. Default is FALSE. As ABPM data typically
overlaps due to falling asleep on one date and waking up on another, the <code>inc_date</code>
argument is typically kept as FALSE, but the function will work regardless. Setting
<code>inc_date = TRUE</code> will include these dates as a grouping level.</p>
</td></tr>
<tr><td><code id="cv_+3A_subj">subj</code></td>
<td>
<p>Optional argument. Allows the user to specify and subset specific subjects
from the <code>ID</code> column of the supplied data set. The <code>subj</code> argument can be a single
value or a vector of elements. The input type should be character, but the function will
comply with integers so long as they are all present in the <code>ID</code> column of the data.</p>
</td></tr>
<tr><td><code id="cv_+3A_bp_type">bp_type</code></td>
<td>
<p>Optional argument. Determines whether to calculate ARV for SBP
values or DBP values. Default is 0 corresponding to output for both SBP &amp; DBP.
For <strong>both</strong> SBP and DBP ARV values use bp_type = 0, for <strong>SBP-only</strong>
use bp_type = 1, and for <strong>DBP-only</strong> use bp_type = 2</p>
</td></tr>
<tr><td><code id="cv_+3A_add_groups">add_groups</code></td>
<td>
<p>Optional argument. Allows the user to aggregate the data by an
additional &quot;group&quot; to further refine the output. The supplied input must be a
character vector with the strings corresponding to existing column names of the
processed <code>data</code> input supplied. Capitalization of <code>add_groups</code> does not matter.
Ex: <code>add_groups = c("Time_of_Day")</code></p>
</td></tr>
<tr><td><code id="cv_+3A_inc_wake">inc_wake</code></td>
<td>
<p>Optional argument corresponding to whether or not to include <code>WAKE</code>
in the grouping of the final output (if <code>WAKE</code> column is available). By default,
<code>inc_wake = TRUE</code> which will include the <code>WAKE</code> column in the groups by which
to calculate the respective metrics.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Calculate the coefficient of variation at various levels of granularity
based on what is supplied (ID, VISIT, WAKE, and / or DATE) for either SBP,
DBP, or both. CV is a measure of dispersion
</p>


<h3>Value</h3>

<p>A tibble object with a row corresponding to each subject, or alternatively
a row corresponding to each date if inc_date = TRUE. The resulting tibble consists of:
</p>

<ul>
<li> <p><code>ID</code>: The unique identifier of the subject. For single-subject datasets, ID = 1
</p>
</li>
<li> <p><code>VISIT</code>: (If applicable) Corresponds to the visit # of the subject, if more than 1
</p>
</li>
<li> <p><code>WAKE</code>: (If applicable) Corresponds to the awake status of the subject (0 = asleep |
1 = awake)
</p>
</li>
<li> <p><code>CV_SBP</code> / <code>CV_DBP</code>: Calculates the ratio of standard deviation to the mean. <code>CV_SBP</code>
or <code>CV_DBP</code> is useful for comparing the degree of variation from one data series
to another.
</p>
</li>
<li> <p><code>SD_SBP</code> / <code>SD_DBP</code>: For completeness, the <code>cv</code> function also includes the
standard deviation as a comparison metric to measure spread around the average.
</p>
</li>
<li> <p><code>N</code>: The number of observations for that particular grouping. If <code>inc_date = TRUE</code>,
<code>N</code> corresponds to the number of observations for that date. If <code>inc_date = FALSE</code>, N
corresponds to the number of observations for the most granular grouping available (i.e.
a combination of <code>ID</code>, <code>VISIT</code>, and <code>WAKE</code>)
</p>
</li>
<li><p> Any add_groups variables supplied to function argument will be present as a column in the
resulting tibble.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'># Load data
data(bp_hypnos)
data(bp_jhs)

# Process bp_hypnos
hypnos_proc &lt;- process_data(bp_hypnos, sbp = "SYST", dbp = "DIAST", date_time = "date.time",
id = "id", wake = "wake", visit = "visit", hr = "hr", pp ="pp", map = "map", rpp = "rpp")
# Process bp_jhs data
jhs_proc &lt;- process_data(bp_jhs, sbp = "Sys.mmHg.", dbp = "Dias.mmHg.", date_time = "DateTime",
hr = "Pulse.bpm.")

## Not run: 
# CV Calculation
bp_cv(hypnos_proc, inc_date = TRUE, add_groups = "SBP_Category")
bp_cv(jhs_proc, add_groups = c("meal_time"))
# Notice that meal_time is not a column from process_data, but it still works

## End(Not run)
</code></pre>

<hr>
<h2 id='dip_calc'>Nocturnal Blood Pressure Dipping Calculation</h2><span id='topic+dip_calc'></span>

<h3>Description</h3>

<p>Calculate the percent and average decline (or potentially reverse) in nocturnal blood pressure.
This function is typically used with ABPM data, or at minimum, data with a corresponding a
<code>WAKE</code> column available to indicate awake vs asleep.
</p>
<p>Nocturnal blood pressure decline is an indicator of an individual's natural circadian rhythm. Studies
have shown that individuals with diminished circadian rhythms are more likely to exhibit target organ damage.
There is a &quot;U-shaped&quot; relationship that exists among the magnitude of nocturnal blood pressure decline; the
extreme dippers and the non-dippers (including reverse dippers) are both more prone to mortality risk than normal dippers.
</p>
<p>NOTE: Any reference to &quot;sleep&quot; in the bp package refers to an individual's nocturnal period;
&quot;sleep&quot; is used in an informal sense for intuitive purposes. Technically, from a clinical perspective,
indication of sleep is currently obtained through means of EEG or other highly specialized equipment.
For all intents and purposes, sleep in the context of this package refers to actigraphy-inferred
nocturnal periods of rest.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dip_calc(
  data,
  sleep_start_end = NULL,
  dip_thresh = 0.1,
  extreme_thresh = 0.2,
  inc_date = FALSE,
  subj = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dip_calc_+3A_data">data</code></td>
<td>
<p>User-supplied data set that must contain <code>SBP</code>, <code>DBP</code>, and either <code>DATE_TIME</code> or <code>WAKE</code>
columns in order to distinguish between sleep and awake
</p>
<p>In the event of non-ABPM data (i.e. a data set without a corresponding <code>WAKE</code> column), then a
<code>DATE_TIME</code> column <strong>must</strong> be present in order to denote which times correspond to sleep and which
times correspond to awake.</p>
</td></tr>
<tr><td><code id="dip_calc_+3A_sleep_start_end">sleep_start_end</code></td>
<td>
<p>(optional) User-supplied manual override to adjust sleep interval indicating indicate start and end time
corresponding to the sleep interval of interest. Must only contain 2 values and must be 24-hour denoted integers
</p>
<p>Example: <code>sleep_start_end = c(22,5)</code> indicates a sleep period from 10pm - 5am.
</p>
<p><strong>NOTE:</strong> If the <code>sleep_start_end</code> function argument is specified, and no <code>WAKE</code> column
exists, then awake/asleep indicators will be assigned according the the <code>DATE_TIME</code>
column (which must exist). Otherwise, if <code>sleep_int</code> is not supplied, then the
WAKE column will default to a sleep period between 11PM - 6AM as specified in the
literature (see reference).
</p>
<p>Furthermore, the <code>sleep_int</code> argument
will override the <code>WAKE</code> column, which may cause unintended consequences in the event that the
data set already contains a <code>WAKE</code> column.</p>
</td></tr>
<tr><td><code id="dip_calc_+3A_dip_thresh">dip_thresh</code></td>
<td>
<p>Default threshold for normal &quot;Dipping&quot; set to 0.10 (i.e. 10%). This value represents the maximum
percentage that BP can fall during sleep and be characterized as &quot;Normal&quot; nocturnal decline (dipping).
Specifically, this category includes all dips between 0% and this value.</p>
</td></tr>
<tr><td><code id="dip_calc_+3A_extreme_thresh">extreme_thresh</code></td>
<td>
<p>Default threshold for &quot;Extreme Dipping&quot; set to 0.20 (i.e. 20%). This value represents the maximum
percentage that BP can fall during sleep and be characterized as &quot;Extreme&quot; nocturnal decline (dipping).
Specifically, this category includes all dips between the Normal dipping threshold and this value.
NOTE: dip_thresh cannot exceed extreme_thresh.</p>
</td></tr>
<tr><td><code id="dip_calc_+3A_inc_date">inc_date</code></td>
<td>
<p>Default to FALSE. Indicates whether or not to include the date in the grouping of
the final output</p>
</td></tr>
<tr><td><code id="dip_calc_+3A_subj">subj</code></td>
<td>
<p>Optional argument. Allows the user to specify and subset specific subjects
from the <code>ID</code> column of the supplied data set. The <code>subj</code> argument can be a single
value or a vector of elements. The input type should be character, but the function will
comply with integers so long as they are all present in the <code>ID</code> column of the data.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing 2 tibble objects. The first tibble object lists grouped average values for SBP and DBP
for awake and asleep periods. The second <code>dip_pct</code> tibble object lists the dipping percentage and
classification according to the results from the first <code>dip</code> tibble. If inc_date = TRUE these two
tibbles will be broken down further by date. There are 4 classifications a subject can have (assuming a
default dipping threshold of 10% and extreme dipping threshold of 20% according to the original source):
</p>

<ul>
<li><p>Reverse Dipper - no nocturnal decline (greater or equal to 0%)
</p>
</li>
<li><p>Non-Dipper - a nocturnal decline between 0 - 10%
</p>
</li>
<li><p>Dipper - a nocturnal decline between 10% and the extreme dipping % (20%)
</p>
</li>
<li><p>Extreme Dipper - a nocturnal decline exceeding 20%
</p>
</li></ul>



<h3>References</h3>

<p>Okhubo, T., Imai, Y., Tsuji, K., Nagai, K., Watanabe, N., Minami, J., Kato, J., Kikuchi, N., Nishiyama, A.,
Aihara, A., Sekino, M., Satoh, H., and Hisamichi, S. (1997). Relation Between Nocturnal Decline in Blood
Pressure and Mortality: The Ohasama Study,
<em>American Journal of Hypertension</em> <strong>10(11)</strong>, 1201&ndash;1207,
doi: <a href="https://doi.org/10.1016/S0895-7061(97)00274-4">10.1016/S0895-7061(97)00274-4</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Load bp_hypnos
data(bp_hypnos)

## Process bp_hypnos
hypnos_proc &lt;- process_data(bp_hypnos,
                     sbp = 'syst',
                     dbp = 'diast',
                     date_time = 'date.time',
                     hr = 'hr',
                     pp = 'PP',
                     map = 'MaP',
                     rpp = 'Rpp',
                     id = 'id',
                     visit = 'Visit',
                     wake = 'wake')

dip_calc(hypnos_proc)
</code></pre>

<hr>
<h2 id='dip_class_plot'>Plot of Dipping Classifications</h2><span id='topic+dip_class_plot'></span>

<h3>Description</h3>

<p>Graphical visualization of the dip_calc output for categories of dipping percentages.
</p>
<p>NOTE: Any reference to &quot;sleep&quot; in the bp package refers to an individual's nocturnal period;
&quot;sleep&quot; is used in an informal sense for intuitive purposes. Technically, from a clinical perspective,
indication of sleep is currently obtained through means of EEG or other highly specialized equipment.
For all intents and purposes, sleep in the context of this package refers to actigraphy-inferred
nocturnal periods of rest.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dip_class_plot(
  data,
  subj = NULL,
  dip_thresh = 0.1,
  extreme_thresh = 0.2,
  thresh_mult = 2,
  sleep_start_end = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dip_class_plot_+3A_data">data</code></td>
<td>
<p>User-supplied data set that must contain <code>SBP</code>, <code>DBP</code>, and either <code>DATE_TIME</code> or <code>WAKE</code>
columns in order to distinguish between sleep and awake
</p>
<p>In the event of non-ABPM data (i.e. a data set without a corresponding <code>WAKE</code> column), then a
<code>DATE_TIME</code> column <strong>must</strong> be present in order to denote which times correspond to sleep and which
times correspond to awake.</p>
</td></tr>
<tr><td><code id="dip_class_plot_+3A_subj">subj</code></td>
<td>
<p>Optional argument. Allows the user to specify and subset specific subjects
from the <code>ID</code> column of the supplied data set. The <code>subj</code> argument can be a single
value or a vector of elements. The input type should be character, but the function will
comply with integers so long as they are all present in the <code>ID</code> column of the data.</p>
</td></tr>
<tr><td><code id="dip_class_plot_+3A_dip_thresh">dip_thresh</code></td>
<td>
<p>Default threshold for normal &quot;Dipping&quot; set to 0.10 (i.e. 10%). This value represents the maximum
percentage that BP can fall during sleep and be characterized as &quot;Normal&quot; nocturnal decline (dipping).
Specifically, this category includes all dips between 0% and this value.</p>
</td></tr>
<tr><td><code id="dip_class_plot_+3A_extreme_thresh">extreme_thresh</code></td>
<td>
<p>Default threshold for &quot;Extreme Dipping&quot; set to 0.20 (i.e. 20%). This value represents the maximum
percentage that BP can fall during sleep and be characterized as &quot;Extreme&quot; nocturnal decline (dipping).
Specifically, this category includes all dips between the Normal dipping threshold and this value.
</p>
<p>NOTE: dip_thresh cannot exceed extreme_thresh.</p>
</td></tr>
<tr><td><code id="dip_class_plot_+3A_thresh_mult">thresh_mult</code></td>
<td>
<p>Optional argument that serves as a multiplier by which to expand plot sizing for X and Y axis. Default
set to 2.</p>
</td></tr>
<tr><td><code id="dip_class_plot_+3A_sleep_start_end">sleep_start_end</code></td>
<td>
<p>Optional User-supplied manual override to adjust sleep interval indicating indicate start and end time
corresponding to the sleep interval of interest. Must only contain 2 values and must be 24-hour denoted integers
</p>
<p>Example: <code>sleep_start_end = c(22,5)</code> indicates a sleep period from 10pm - 5am.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A scatter plot of all dipping percentage values layered on top of the category plot outlined in
Okhubo et al. (1995). dip_thresh and extreme_thresh denote the cutoffs for the Normal and Extreme
dipping categories. Any dips below zero are denoted as Inverted (or Reverse) dipping.
</p>
<p>The default plot categories are as follows:
</p>

<ul>
<li><p><em>INV</em>: Inverted (Reverse) Dipper - no nocturnal decline (greater or equal to 0%)
</p>
</li>
<li><p><em>ND</em>: Non-Dipper - a nocturnal decline between 0 - 10%
</p>
</li>
<li><p><em>DIP</em>: Dipper - a nocturnal decline between 10% and the extreme dipping % (20%)
</p>
</li>
<li><p><em>ED</em>: Extreme Dipper - a nocturnal decline exceeding 20%
</p>
</li></ul>



<h3>References</h3>

<p>Okhubo, T., Imai, Y., Tsuji, K., Nagai, K., Watanabe, N., Minami, J., Kato, J., Kikuchi, N., Nishiyama, A.,
Aihara, A., Sekino, M., Satoh, H., and Hisamichi, S. (1997). Relation Between Nocturnal Decline in Blood
Pressure and Mortality: The Ohasama Study,
<em>American Journal of Hypertension</em> <strong>10(11)</strong>, 1201&ndash;1207,
doi: <a href="https://doi.org/10.1016/S0895-7061(97)00274-4">10.1016/S0895-7061(97)00274-4</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>hypnos_proc &lt;- process_data(bp::bp_hypnos,
                               sbp = "syst",
                               dbp = "DIAST",
                               date_time = "date.time",
                               id = "id",
                               wake = "wake",
                               visit = "visit")

dip_class_plot(hypnos_proc)
</code></pre>

<hr>
<h2 id='dow_tod_plots'>Blood Pressure Tables in Graphical Format</h2><span id='topic+dow_tod_plots'></span>

<h3>Description</h3>

<p>Blood Pressure Tables in Graphical Format
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dow_tod_plots(data, subj = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dow_tod_plots_+3A_data">data</code></td>
<td>
<p>A processed dataframe resulting from the <code>process_data</code> function that
contains the <code>SBP</code>, <code>DBP</code>, <code>DAY_OF_WEEK</code>, <code>Time_of_Day</code>, <code>SBP_Category</code>,
and <code>DBP_Category</code> columns.</p>
</td></tr>
<tr><td><code id="dow_tod_plots_+3A_subj">subj</code></td>
<td>
<p>Optional argument. Allows the user to specify and subset specific subjects
from the <code>ID</code> column of the supplied data set. The <code>subj</code> argument can be a single
value or a vector of elements. The input type should be character, but the function will
comply with integers so long as they are all present in the <code>ID</code> column of the data.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of four 'gtables' that correspond to the tables for Day of Week and
Time of Day broken down by both <code>SBP</code> and <code>DBP</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data("bp_hypnos")
hyp_proc &lt;- process_data(bp_hypnos,
                         bp_type = 'abpm',
                         sbp = "syst",
                         dbp = "DIAST",
                         date_time = "date.time",
                         id = "id",
                         wake = "wake",
                         visit = "visit",
                         hr = "hr",
                         map = "map",
                         rpp = "rpp",
                         pp = "pp",
                         ToD_int = c(5, 13, 18, 23))

rm(bp_hypnos)

dow_tod_plots_out &lt;- dow_tod_plots(hyp_proc)
grid::grid.draw(
   gridExtra::grid.arrange(dow_tod_plots_out[[1]], dow_tod_plots_out[[2]], ncol = 2)
 )

</code></pre>

<hr>
<h2 id='path_check'>Compatibility Check for <code>path</code> Argument</h2><span id='topic+path_check'></span>

<h3>Description</h3>

<p>Compatibility Check for <code>path</code> Argument
</p>


<h3>Usage</h3>

<pre><code class='language-R'>path_check(path)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="path_check_+3A_path">path</code></td>
<td>
<p>A user-supplied string corresponding to the path location
where the export is to be saved</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A formatted string corresponding to the proper binding of
directory and base naming conventions. If user's path is invalid,
<code>path_check</code> will throw an error.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
path = "~dir/abpm/"
path_check(path) # drops the trailing slash

## End(Not run)

</code></pre>

<hr>
<h2 id='process_data'>Data Pre-Processor</h2><span id='topic+process_data'></span>

<h3>Description</h3>

<p>A helper function to assist in pre-processing the user-supplied
input data in a standardized format for use with other functions in the <code>bp</code> package.
See Vignette for further details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>process_data(
  data,
  bp_type = c("hbpm", "abpm", "ap"),
  ap = NULL,
  time_elap = NULL,
  sbp = NULL,
  dbp = NULL,
  date_time = NULL,
  id = NULL,
  group = NULL,
  wake = NULL,
  visit = NULL,
  hr = NULL,
  pp = NULL,
  map = NULL,
  rpp = NULL,
  DoW = NULL,
  ToD_int = NULL,
  eod = NULL,
  data_screen = TRUE,
  SUL = 240,
  SLL = 50,
  DUL = 140,
  DLL = 40,
  HRUL = 220,
  HRLL = 27,
  inc_low = TRUE,
  inc_crisis = TRUE,
  agg = FALSE,
  agg_thresh = 3,
  collapse_df = FALSE,
  dt_fmt = "ymd HMS",
  chron_order = FALSE,
  tz = "UTC"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="process_data_+3A_data">data</code></td>
<td>
<p>User-supplied dataset containing blood pressure data. Must
contain data for Systolic blood pressure and Diastolic blood pressure at a
minimum.</p>
</td></tr>
<tr><td><code id="process_data_+3A_bp_type">bp_type</code></td>
<td>
<p>Required argument specifying which of the three BP data types
(&quot;HBPM&quot;, &quot;ABPM&quot;, or &quot;AP&quot;) the input data is. Default <code>bp_type</code> set to &quot;HBPM&quot;.
This argument determines which processing steps are necessary to yield sensible
output.</p>
</td></tr>
<tr><td><code id="process_data_+3A_ap">ap</code></td>
<td>
<p>(For AP data only) Required column name (character string) corresponding
to continuous Arterial Pressure (AP) (mmHg). Note that this is a required argument
so long as bp_type = &quot;AP&quot;. Ensure that bp_type is set accordingly.</p>
</td></tr>
<tr><td><code id="process_data_+3A_time_elap">time_elap</code></td>
<td>
<p>(For AP data only) Column name corresponding to the time elapsed
for the given AP waveform data.</p>
</td></tr>
<tr><td><code id="process_data_+3A_sbp">sbp</code></td>
<td>
<p>Required column name (character string) corresponding to Systolic Blood
Pressure (mmHg)</p>
</td></tr>
<tr><td><code id="process_data_+3A_dbp">dbp</code></td>
<td>
<p>Required column name (character string) corresponding to Diastolic Blood
Pressure (mmHg)</p>
</td></tr>
<tr><td><code id="process_data_+3A_date_time">date_time</code></td>
<td>
<p>Optional column name (character string) corresponding to Date/Time,
but HIGHLY recommended to supply if available.
</p>
<p>For DATE-only columns (with no associated time), leave date_time = NULL. DATE-only
adjustments are automatic. Dates can be automatically calculated off DATE_TIME column
provided that it is called &quot;DATE_TIME&quot; exactly.</p>
</td></tr>
<tr><td><code id="process_data_+3A_id">id</code></td>
<td>
<p>Optional column name (character string) corresponding to subject ID. Typically
needed for data corresponding to more than one subject. For one-subject datasets, ID
will default to 1 (if ID column not found in dataset)</p>
</td></tr>
<tr><td><code id="process_data_+3A_group">group</code></td>
<td>
<p>Optional column name (character string) corresponding to an additional
grouping variable that can be used to further break down data. NOTE that this simply
sets the column as &quot;GROUP&quot; so that other functions recognize which column to use as
the grouping variable.</p>
</td></tr>
<tr><td><code id="process_data_+3A_wake">wake</code></td>
<td>
<p>Optional column name (character string) corresponding to sleep status. A
WAKE value of 1 indicates that the subject is awake and 0 implies asleep.</p>
</td></tr>
<tr><td><code id="process_data_+3A_visit">visit</code></td>
<td>
<p>Optional column name (character string) corresponding to Visit number</p>
</td></tr>
<tr><td><code id="process_data_+3A_hr">hr</code></td>
<td>
<p>Optional column name (character string) corresponding to Heart Rate (bpm)</p>
</td></tr>
<tr><td><code id="process_data_+3A_pp">pp</code></td>
<td>
<p>Optional column name (character string) corresponding to Pulse Pressure
(SBP - DBP). If not supplied, it will be calculated automatically.</p>
</td></tr>
<tr><td><code id="process_data_+3A_map">map</code></td>
<td>
<p>Optional column name (character string) corresponding to Mean Arterial
Pressure</p>
</td></tr>
<tr><td><code id="process_data_+3A_rpp">rpp</code></td>
<td>
<p>Optional column name (character string) corresponding to Rate Pulse
Pressure (SBP * HR). If not supplied, but HR column available, then
RPP will be calculated automatically.</p>
</td></tr>
<tr><td><code id="process_data_+3A_dow">DoW</code></td>
<td>
<p>Optional column name (character string) corresponding to the Day of the Week.
If not supplied, but DATE or DATE_TIME columns available, then DoW will be created
automatically. DoW values must be abbreviated as such <code>c("Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat")</code></p>
</td></tr>
<tr><td><code id="process_data_+3A_tod_int">ToD_int</code></td>
<td>
<p>Optional vector of length 4, acceptable values are from 0 to 23 in a an order corresponding to hour for Morning, Afternoon, Evening, Night). This vector allows to override the default interval for the Time-of-Day periods: if NULL, the Morning, Afternoon, Evening, and Night periods are set at 6, 12, 18, 0 respectively,
where 0 corresponds to the 24th hour of the day (i.e. Midnight).
For example, ToD_int = c(5, 13, 18, 23) would correspond to a period for
Morning starting at 5:00 (until 13:00), Afternoon starting at 13:00 (until 18:00),
Evening starting at 18:00 (until 23:00), and Night starting at 23:00 (until 5:00)</p>
</td></tr>
<tr><td><code id="process_data_+3A_eod">eod</code></td>
<td>
<p>Optional argument to adjust the delineation for the end of day (eod). The supplied value should be a character string with 4 characters representing the digits of 24-hour time, e.g. &quot;1310&quot; corresponds to 1:10pm. For individuals who
do not go to bed early or work night-shifts, this argument adjusts the <code>DATE</code> column so that the days change at specified time. <code>eod = "0000"</code> means no change. <code>eod = "1130"</code> will adjust the date of the readings up to 11:30am to the previous date. <code>eod = "1230"</code> will adjust the date of the readings after 12:30pm to the next date.</p>
</td></tr>
<tr><td><code id="process_data_+3A_data_screen">data_screen</code></td>
<td>
<p>Optional logical argument; default set to TRUE. Screens for extreme values in the data
for both <code>SBP</code> and <code>DBP</code> according to Omboni, et al (1995) paper - Calculation of Trough:Peak
Ratio of Antihypertensive Treatment from Ambulatory Blood Pressure: Methodological Aspects</p>
</td></tr>
<tr><td><code id="process_data_+3A_sul">SUL</code></td>
<td>
<p>Systolic Upper Limit (SUL). If <code>data_screen = TRUE</code>, then <code>SUL</code> sets the upper limit by which
to exclude any <code>SBP</code> values that exceed this threshold. The default is set to 240 per Omboni, et al (1995)
paper - Calculation of Trough:Peak Ratio of Antihypertensive Treatment from Ambulatory Blood Pressure:
Methodological Aspects</p>
</td></tr>
<tr><td><code id="process_data_+3A_sll">SLL</code></td>
<td>
<p>Systolic Lower Limit (SLL). If <code>data_screen = TRUE</code>, then <code>SLL</code> sets the lower limit by which
to exclude any <code>SBP</code> values that fall below this threshold. The default is set to 50 per Omboni, et al (1995)
paper - Calculation of Trough:Peak Ratio of Antihypertensive Treatment from Ambulatory Blood Pressure:
Methodological Aspects</p>
</td></tr>
<tr><td><code id="process_data_+3A_dul">DUL</code></td>
<td>
<p>Diastolic Upper Limit (DUL). If <code>data_screen = TRUE</code>, then <code>DUL</code> sets the upper limit by which
to exclude any <code>DBP</code> values that exceed this threshold. The default is set to 140 per Omboni, et al (1995)
paper - Calculation of Trough:Peak Ratio of Antihypertensive Treatment from Ambulatory Blood Pressure:
Methodological Aspects</p>
</td></tr>
<tr><td><code id="process_data_+3A_dll">DLL</code></td>
<td>
<p>Diastolic Lower Limit (DLL). If <code>data_screen = TRUE</code>, then <code>DLL</code> sets the lower limit by which
to exclude any <code>DBP</code> values that fall below this threshold. The default is set to 40 per Omboni, et al (1995)
paper - Calculation of Trough:Peak Ratio of Antihypertensive Treatment from Ambulatory Blood Pressure:
Methodological Aspects</p>
</td></tr>
<tr><td><code id="process_data_+3A_hrul">HRUL</code></td>
<td>
<p>Heart Rate Upper Limit (HRUL). If <code>data_screen = TRUE</code>, then <code>HRUL</code> sets the upper limit
by which to exclude any <code>HR</code> values that exceed this threshold. The default is set to 220 per the upper limit
of the common max heart rate formula: 220 - age
</p>
<p>see https://www.cdc.gov/physicalactivity/basics/measuring/heartrate.htm</p>
</td></tr>
<tr><td><code id="process_data_+3A_hrll">HRLL</code></td>
<td>
<p>Heart Rate Upper Limit (HRUL). If <code>data_screen = TRUE</code>, then <code>HRUL</code> sets the upper limit
by which to exclude any <code>HR</code> values that exceed this threshold. The default is set to 27 per Guinness
World Records - lowest heart rate (https://www.guinnessworldrecords.com/world-records/lowest-heart-rate)</p>
</td></tr>
<tr><td><code id="process_data_+3A_inc_low">inc_low</code></td>
<td>
<p>Optional logical argument dictating whether or not to include the &quot;Low&quot; category for BP
classification column (and the supplementary SBP/DBP Category columns). Default set to TRUE.</p>
</td></tr>
<tr><td><code id="process_data_+3A_inc_crisis">inc_crisis</code></td>
<td>
<p>Optional logical argument dictating whether or not to include the &quot;Crisis&quot; category for BP
classification column (and the supplementary SBP/DBP Category columns). Default set to TRUE.</p>
</td></tr>
<tr><td><code id="process_data_+3A_agg">agg</code></td>
<td>
<p>Optional argument specifying whether or not to aggregate the data based on the amount of time
between observations. If <code>agg = TRUE</code> then any two (or more) observations within the amount of
time alloted by the agg_thresh argument will be averaged together.</p>
</td></tr>
<tr><td><code id="process_data_+3A_agg_thresh">agg_thresh</code></td>
<td>
<p>Optional argument specifying the threshold of how many minutes can pass between readings
(observations) and still be considered part of the same sitting. The default is set to 3 minutes. This implies
that if two or more readings are within 3 minutes of each other, they will be averaged together (if agg is
set to TRUE).</p>
</td></tr>
<tr><td><code id="process_data_+3A_collapse_df">collapse_df</code></td>
<td>
<p>Optional argument that collapses the dataframe to eliminate repeating rows after
aggregation.</p>
</td></tr>
<tr><td><code id="process_data_+3A_dt_fmt">dt_fmt</code></td>
<td>
<p>Optional argument that specifies the input date/time format (dt_fmt). Default set to &quot;ymd HMS&quot;
but can take on any format specified by the lubridate package.</p>
</td></tr>
<tr><td><code id="process_data_+3A_chron_order">chron_order</code></td>
<td>
<p>Optional argument that specifies whether to order the data in chronological (Oldest
dates &amp; times at the top / first) or reverse chronological order (Most recent dates &amp; times at the top / first).
TRUE refers to chronological order; FALSE refers to reverse chronological order. The default is set to
FALSE (i.e. most recent observations listed first in the dataframe).
</p>
<p>See https://lubridate.tidyverse.org/reference/parse_date_time.html for more details.</p>
</td></tr>
<tr><td><code id="process_data_+3A_tz">tz</code></td>
<td>
<p>Optional argument denoting the respective time zone. Default time zone set to &quot;UTC&quot;. See
Use <code>OlsonNames()</code> for a complete listing of all available time zones that can be used in this
argument.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A processed dataframe object with standardized column names and formats to use with the rest of bp package functions. The following standardized column names are used throughout
</p>
<table>
<tr><td><code>BP_TYPE</code></td>
<td>
<p>One of AP, HBPM or ABPM</p>
</td></tr>
<tr><td><code>ID</code></td>
<td>
<p>Subject ID</p>
</td></tr>
<tr><td><code>SBP</code></td>
<td>
<p>Systolic Blood Pressure</p>
</td></tr>
<tr><td><code>DBP</code></td>
<td>
<p>Diastolic Blood Pressure</p>
</td></tr>
<tr><td><code>SBP_CATEGORY</code></td>
<td>
<p>Ordinal, SBP characterization into &quot;Low&quot; &lt; &quot;Normal&quot;&lt;&quot;Elevated&quot;&lt;&quot;Stage 1&quot;&lt; &quot;Stage 2&quot; &lt; &quot;Crisis&quot;. &quot;Low&quot; is not included if <code>inc_low = FALSE</code>. &quot;Crisis&quot; is not included if <code>inc_crisis = FALSE</code>.</p>
</td></tr>
<tr><td><code>DBP_CATEGORY</code></td>
<td>
<p>Ordinal, DBP characterization into &quot;Low&quot; &lt; &quot;Normal&quot;&lt;&quot;Elevated&quot;&lt;&quot;Stage 1&quot;&lt; &quot;Stage 2&quot; &lt; &quot;Crisis&quot;. &quot;Low&quot; is not included if <code>inc_low = FALSE</code>. &quot;Crisis&quot; is not included if <code>inc_crisis = FALSE</code>.</p>
</td></tr>
<tr><td><code>BP_CLASS</code></td>
<td>
<p>Blood pressure categorization based on paired values (SBP, DBP) into one of the 8 stages according to Lee et al. 2020. See <code><a href="#topic+bp_scatter">bp_scatter</a></code></p>
</td></tr>
<tr><td><code>HR</code></td>
<td>
<p>Heart Rate</p>
</td></tr>
<tr><td><code>MAP</code></td>
<td>
<p>Mean Arterial Pressure</p>
</td></tr>
<tr><td><code>PP</code></td>
<td>
<p>Pulse Pressure, SBP-DBP</p>
</td></tr>
<tr><td><code>DATE_TIME</code></td>
<td>
<p>Date and time in POSIXct format</p>
</td></tr>
<tr><td><code>DATE</code></td>
<td>
<p>Date only in Date format</p>
</td></tr>
<tr><td><code>MONTH</code></td>
<td>
<p>Month, integer from 1 to 12</p>
</td></tr>
<tr><td><code>DAY</code></td>
<td>
<p>Day, integer from 1 to 31</p>
</td></tr>
<tr><td><code>YEAR</code></td>
<td>
<p>Four digit year</p>
</td></tr>
<tr><td><code>DAY_OF_WEEK</code></td>
<td>
<p>Ordinal, with &quot;Sun&quot;&lt;&quot;Mon&quot;&lt;&quot;Tue&quot;&lt;&quot;Wed&quot;&lt;&quot;Thu&quot;&lt;&quot;Fri&quot;&lt;&quot;Sat&quot;</p>
</td></tr>
<tr><td><code>TIME</code></td>
<td>
<p>Time in character format</p>
</td></tr>
<tr><td><code>HOUR</code></td>
<td>
<p>Integer, from 0 to 23</p>
</td></tr>
<tr><td><code>TIME_OF_DAY</code></td>
<td>
<p>One of &quot;Morning&quot;, &quot;Afternoon&quot;, &quot;Evening&quot; or &quot;Night&quot;</p>
</td></tr>
</table>


<h3>References</h3>

<p>Lee H, Yano Y, Cho SMJ, Park JH, Park S, Lloyd-Jones DM, Kim HC. Cardiovascular risk of isolated
systolic or diastolic hypertension in young adults. <em>Circulation</em>. 2020; 141:17781786.
doi: <a href="https://doi.org/10.1161/CIRCULATIONAHA.119.044838">10.1161/CIRCULATIONAHA.119.044838</a>
</p>
<p>Omboni, S., Parati, G*., Zanchetti, A., Mancia, G. Calculation of trough: peak ratio of
antihypertensive treatment from ambulatory blood pressure: methodological aspects
<em>Journal of Hypertension</em>. October 1995 - Volume 13 - Issue 10 - p 1105-1112
doi: <a href="https://doi.org/10.1097/00004872-199510000-00005">10.1097/00004872-199510000-00005</a>
</p>
<p>Unger, T., Borghi, C., Charchar, F., Khan, N. A., Poulter, N. R., Prabhakaran, D., ... &amp; Schutte,
A. E. (2020). 2020 International Society of Hypertension global hypertension practice guidelines.
<em>Hypertension</em>, 75(6), 1334-1357.
doi: <a href="https://doi.org/10.1161/HYPERTENSIONAHA.120.15026">10.1161/HYPERTENSIONAHA.120.15026</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Load bp_hypnos
data("bp_hypnos")

# Process data for bp_hypnos
hypnos_proc &lt;- process_data(bp_hypnos,
                              bp_type = 'abpm',
                              sbp = 'syst',
                              dbp = 'diast',
                              date_time = 'date.time',
                              hr = 'hr',
                              pp = 'PP',
                              map = 'MaP',
                              rpp = 'Rpp',
                              id = 'id',
                              visit = 'Visit',
                              wake = 'wake',
                              data_screen = FALSE)

hypnos_proc


# Load bp_jhs data
data("bp_jhs")

# Process data for bp_jhs
# Note that bp_type defaults to "hbpm" and is therefore not specified
jhs_proc &lt;- process_data(bp_jhs,
                         sbp = "Sys.mmHg.",
                         dbp = "Dias.mmHg.",
                         date_time = "DateTime",
                         hr = "Pulse.bpm.")

jhs_proc

</code></pre>

<hr>
<h2 id='sleep_int'>Sleep Interval Manual Override</h2><span id='topic+sleep_int'></span>

<h3>Description</h3>

<p>Adjusts WAKE column to reflect start and end of user-defined sleep period. If sleep_start_end
is NULL and WAKE column is included in input data, this function will not alter data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sleep_int(data, sleep_start_end = NULL, adj = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sleep_int_+3A_data">data</code></td>
<td>
<p>Supplied data from function</p>
</td></tr>
<tr><td><code id="sleep_int_+3A_sleep_start_end">sleep_start_end</code></td>
<td>
<p>User-supplied sleep interval to indicate start and end time of
the sleep interval of interest. Must only contain 2 values and must be 24-hour denoted integers</p>
</td></tr>
<tr><td><code id="sleep_int_+3A_adj">adj</code></td>
<td>
<p>Logical indicating whether or not to perform necessary adjustments / additions to data
for WAKE column (i.e. set the default sleep time from 11PM - 6 AM if no interval specified and
a DATE_TIME column is available). Default set to TRUE. adj == FALSE essentially acts as a pass statement</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Dataframe with added / adjusted WAKE column moved after DATE_TIME column containing binary 1 (awake)
and 0 (asleep)
</p>

<hr>
<h2 id='stage_check'>Compatibility Checks for User-Supplied SBP/DBP Stages Vector</h2><span id='topic+stage_check'></span>

<h3>Description</h3>

<p>Used in <code>process_data</code> function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stage_check(sbp_stages = NULL, dbp_stages = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stage_check_+3A_sbp_stages">sbp_stages</code></td>
<td>
<p>Checks whether the user supplied <code>sbp_stages_alt</code> function argument is valid or not</p>
</td></tr>
<tr><td><code id="stage_check_+3A_dbp_stages">dbp_stages</code></td>
<td>
<p>Checks whether the user supplied <code>dbp_stages_alt</code> function argument is valid or not</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing two vectors that each correspond to the SBP/DBP stages for use in further processing.
If the function returns no error, the supplied vectors are valid. Function arguments are coerced to integer.
</p>

<hr>
<h2 id='subject_subset_check'>Compatibility Check for User-Supplied Subject Subset Vector</h2><span id='topic+subject_subset_check'></span>

<h3>Description</h3>

<p>Compatibility Check for User-Supplied Subject Subset Vector
</p>


<h3>Usage</h3>

<pre><code class='language-R'>subject_subset_check(data, subj = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="subject_subset_check_+3A_data">data</code></td>
<td>
<p>Input data within original function</p>
</td></tr>
<tr><td><code id="subject_subset_check_+3A_subj">subj</code></td>
<td>
<p>A vector corresponding to a selected subset of subjects to
refine the supplied data with</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Logical indicating whether the subj vector passes the checks (<code>TRUE</code>),
or not (<code>FALSE</code>)
</p>

<hr>
<h2 id='sv'>Successive Variation (SV)</h2><span id='topic+sv'></span>

<h3>Description</h3>

<p>THIS IS A DEPRECATED FUNCTION. USE bp_sv INSTEAD.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sv(
  data,
  inc_date = FALSE,
  subj = NULL,
  bp_type = 0,
  add_groups = NULL,
  inc_wake = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sv_+3A_data">data</code></td>
<td>
<p>Required argument. Pre-processed dataframe with SBP and DBP columns
with optional ID, VISIT, WAKE, and DATE columns if available.
Use <code>process_data</code> to properly format data.</p>
</td></tr>
<tr><td><code id="sv_+3A_inc_date">inc_date</code></td>
<td>
<p>Optional argument. Default is FALSE. As ABPM data typically
overlaps due to falling asleep on one date and waking up on another, the <code>inc_date</code>
argument is typically kept as FALSE, but the function will work regardless. Setting
<code>inc_date = TRUE</code> will include these dates as a grouping level.</p>
</td></tr>
<tr><td><code id="sv_+3A_subj">subj</code></td>
<td>
<p>Optional argument. Allows the user to specify and subset specific subjects
from the <code>ID</code> column of the supplied data set. The <code>subj</code> argument can be a single
value or a vector of elements. The input type should be character, but the function will
comply with integers so long as they are all present in the <code>ID</code> column of the data.</p>
</td></tr>
<tr><td><code id="sv_+3A_bp_type">bp_type</code></td>
<td>
<p>Optional argument. Determines whether to calculate ARV for SBP
values or DBP values. Default is 0 corresponding to output for both SBP &amp; DBP.
For <strong>both</strong> SBP and DBP ARV values use bp_type = 0, for <strong>SBP-only</strong>
use bp_type = 1, and for <strong>DBP-only</strong> use bp_type = 2</p>
</td></tr>
<tr><td><code id="sv_+3A_add_groups">add_groups</code></td>
<td>
<p>Optional argument. Allows the user to aggregate the data by an
additional &quot;group&quot; to further refine the output. The supplied input must be a
character vector with the strings corresponding to existing column names of the
processed <code>data</code> input supplied. Capitalization of <code>add_groups</code> does not matter.
Ex: <code>add_groups = c("Time_of_Day")</code></p>
</td></tr>
<tr><td><code id="sv_+3A_inc_wake">inc_wake</code></td>
<td>
<p>Optional argument corresponding to whether or not to include <code>WAKE</code>
in the grouping of the final output (if <code>WAKE</code> column is available). By default,
<code>inc_wake = TRUE</code> which will include the <code>WAKE</code> column in the groups by which
to calculate the respective metrics.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Calculate the successive variation (SV) at various levels of granularity
based on what is supplied (ID, VISIT, WAKE, and / or DATE)for either SBP,
DBP, or both. SV is a measure of dispersion that takes into account the
temporal structure of the data and relies on the sum of squared differences
in successive observations, unlike the average real variability (ARV)
which relies on the sum of absolute differences.
$$SV = sqrt(sum(x_i+1 - x_i)^2/n-1)$$
</p>
<p><strong>NOTE:</strong> The canonical standard deviation, independent of the temporal
structure using the sample average, is added for comparison:
$$SD = sqrt(sum(x_i+1 - xbar)^2/n-1)$$
</p>


<h3>Value</h3>

<p>A tibble object with a row corresponding to each subject, or alternatively
a row corresponding to each date if inc_date = TRUE. The resulting tibble consists of:
</p>

<ul>
<li> <p><code>ID</code>: The unique identifier of the subject. For single-subject datasets, ID = 1
</p>
</li>
<li> <p><code>VISIT</code>: (If applicable) Corresponds to the visit # of the subject, if more than 1
</p>
</li>
<li> <p><code>WAKE</code>: (If applicable) Corresponds to the awake status of the subject (0 = asleep |
1 = awake)
</p>
</li>
<li> <p><code>SV_SBP</code> / <code>SV_DBP</code>: Calculates the square root of the average squared differences
between successive measurements. The resulting value averages across the granularity
grouping for however many observations are present.
</p>
</li>
<li><p> N: The number of observations for that particular grouping. If <code>inc_date = TRUE</code>,
<code>N</code> corresponds to the number of observations for that date. If <code>inc_date = FALSE</code>, N
corresponds to the number of observations for the most granular grouping available (i.e.
a combination of <code>ID</code>, <code>VISIT</code>, and <code>WAKE</code>)
</p>
</li>
<li><p> Any add_groups variables supplied to function argument will be present as a column in the
resulting tibble.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'># Load data
data(bp_hypnos)
data(bp_jhs)

# Process bp_hypnos
hypnos_proc &lt;- process_data(bp_hypnos, sbp = "SYST", dbp = "DIAST", date_time = "date.time",
id = "id", wake = "wake", visit = "visit", hr = "hr", pp ="pp", map = "map", rpp = "rpp")
# Process bp_jhs data
jhs_proc &lt;- process_data(bp_jhs, sbp = "Sys.mmHg.", dbp = "Dias.mmHg.", date_time = "DateTime",
hr = "Pulse.bpm.")

# SV Calculation
## Not run: 
bp_sv(hypnos_proc)
bp_sv(jhs_proc, add_groups = c("meal_time"))
# Notice that meal_time is not a column from process_data, but it still works

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

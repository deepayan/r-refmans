<!DOCTYPE html><html lang="en"><head><title>Help for package CRTSize</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {CRTSize}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#n4incidence'><p>Number of Subjects Required for a Cluster Randomized Trial Comparing Incidence Rates</p></a></li>
<li><a href='#n4means'><p>Number of Subjects Required for a Cluster Randomized Trial with a Continuous Outcome</p></a></li>
<li><a href='#n4meansEB'><p>Number of Subjects Required for a Cluster Randomized Trial with a Continuous Outcome Using Empirical Smoothing</p></a></li>
<li><a href='#n4meansMeta'><p>Empirical Power and Variance Reduction for an Updated Fixed Effects Meta-Analysis in Cluster Randomized Trials</p></a></li>
<li><a href='#n4props'><p>Number of Subjects Required for a Cluster Randomized Trial with a Binary Outcome</p></a></li>
<li><a href='#n4propsEB'><p>Number of Subjects Required for a Cluster Randomized Trial with Binary Outcomes Using Empirical Smoothing</p></a></li>
<li><a href='#n4propsMeta'><p>Empirical Power and Variance Reduction of an Updated Fixed Effects Meta-Analysis with Binary Outcomes</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Version:</td>
<td>1.2</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-02-04</td>
</tr>
<tr>
<td>Title:</td>
<td>Sample Size Estimation Functions for Cluster Randomized Trials</td>
</tr>
<tr>
<td>Author:</td>
<td>Michael A Rotondi &lt;mrotondi@yorku.ca&gt;</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Michael A Rotondi &lt;mrotondi@yorku.ca&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.01)</td>
</tr>
<tr>
<td>Description:</td>
<td>Sample size estimation in cluster (group) randomized trials.  Contains traditional power-based methods, empirical smoothing (Rotondi and Donner, 2009), and updated meta-analysis techniques (Rotondi and Donner, 2012).</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-02-22 16:42:54 UTC; root</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-02-22 17:00:07 UTC</td>
</tr>
</table>
<hr>
<h2 id='n4incidence'>Number of Subjects Required for a Cluster Randomized Trial Comparing Incidence Rates</h2><span id='topic+n4incidence'></span><span id='topic+print.n4incidence'></span><span id='topic+summary.n4incidence'></span>

<h3>Description</h3>

<p>This function provides detailed sample size estimation information to determine
the number of subjects that must be enrolled in a cluster randomized trial to test for a significant
difference in incidence rates.</p>


<h3>Usage</h3>

<pre><code class='language-R'>n4incidence(le, lc, m, t, CV, alpha=0.05, power = 0.80, AR=1, two.tailed=TRUE, digits=3)</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="n4incidence_+3A_le">le</code></td>
<td>
<p>The anticipated incidence rate, <code class="reqn">\lambda_E</code>, in the experimental group with the outcome.</p>
</td></tr>
<tr><td><code id="n4incidence_+3A_lc">lc</code></td>
<td>
<p>The anticipated incidence rate, <code class="reqn">\lambda_C</code>, in the control group with the outcome.</p>
</td></tr>
<tr><td><code id="n4incidence_+3A_m">m</code></td>
<td>
<p>The anticipated average (or actual) cluster size.</p>
</td></tr>
<tr><td><code id="n4incidence_+3A_t">t</code></td>
<td>
<p>The planned follow-up time for the study (in weeks, months, etc.)</p>
</td></tr>
<tr><td><code id="n4incidence_+3A_cv">CV</code></td>
<td>
<p>The coefficient of variation, assumed constant over both the treatment and control groups.
Note that CV = <code class="reqn">\sigma_1/\lambda_E = \sigma_2/\lambda_C</code>, where <code class="reqn">\sigma_E</code> and <code class="reqn">\sigma_C</code> represent the between-cluster variation in incidence rates for each group.</p>
</td></tr>
<tr><td><code id="n4incidence_+3A_ar">AR</code></td>
<td>
<p>The Allocation Ratio: AR<code class="reqn">=</code>1 implies an equal number of subjects per treatment and control
group (maximum efficiency), &gt; 1, implies more subjects will be enrolled in the control group 
(e.g. in the case of costly intervention), &lt; 1 implies more subjects in the
tretment group (rarely used).</p>
</td></tr>
<tr><td><code id="n4incidence_+3A_alpha">alpha</code></td>
<td>
<p>The desired type I error rate.</p>
</td></tr>
<tr><td><code id="n4incidence_+3A_power">power</code></td>
<td>
<p>The desired level of power, recall power = 1 - type II error.</p>
</td></tr>
<tr><td><code id="n4incidence_+3A_two.tailed">two.tailed</code></td>
<td>
<p>Logical, If TRUE calculations are based on a two-tailed type I error,
if FALSE, a one-sided calculation is performed.</p>
</td></tr>
<tr><td><code id="n4incidence_+3A_digits">digits</code></td>
<td>
<p>Number of digits to round calculations.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function provides detailed information, similar to PROC POWER in SAS, but with less
functionality and more concise output.  It is used for sample size estimation in 
a cluster randomized trial where the outcome of interest is an incidence rate.  A simple example may include 
whether a new treatment can successfully reduce the incidence of heart attacks over a six month period.  
In epidemiological terms, <code class="reqn">\lambda_E</code> and <code class="reqn">\lambda_C</code> are the expected incidence rate of the outcome in the experimental and control group. Note that if the results suggest a small number of clusters is required, an iterative
procedure will include the T distribution instead of the normal critical value for alpha, iterating
until convergence.  In some cases, such as small ICC values, the algorithm may fail to converge and may need to be stopped.
</p>


<h3>Value</h3>

<table role = "presentation">
<tr><td><code>nE</code></td>
<td>
<p>The minimum number of clusters required in the experimental group.</p>
</td></tr>
<tr><td><code>nC</code></td>
<td>
<p>The minimum number of clusters required in the control group.</p>
</td></tr>
<tr><td><code>le</code></td>
<td>
<p>The anticipated incidence rate, <code class="reqn">\lambda_E</code>, in the experimental group with the outcome.</p>
</td></tr>
<tr><td><code>lc</code></td>
<td>
<p>The anticipated incidence rate, <code class="reqn">\lambda_C</code>, in the control group with the outcome.</p>
</td></tr>
<tr><td><code>m</code></td>
<td>
<p>The anticipated average (or actual) cluster size.</p>
</td></tr>
<tr><td><code>t</code></td>
<td>
<p>The planned follow-up time for the study.</p>
</td></tr>
<tr><td><code>CV</code></td>
<td>
<p>The coefficient of variation.</p>
</td></tr>
<tr><td><code>AR</code></td>
<td>
<p>The Allocation Ratio: One implies an equal number of subjects per treatment and control groups.</p>
</td></tr>
<tr><td><code>alpha</code></td>
<td>
<p>The desired type I error rate.</p>
</td></tr>
<tr><td><code>power</code></td>
<td>
<p>The desired level of power.</p>
</td></tr>
<tr><td><code>AR</code></td>
<td>
<p>The Allocation Ratio.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Michael Rotondi, <a href="mailto:mrotondi@yorku.ca">mrotondi@yorku.ca</a></p>


<h3>References</h3>

<p>Matthews JNS.  Introduction to Randomized Controlled Clinical Trials (2nd Ed.) Chapman &amp; Hall: New York, 2006.
</p>
<p>Donner A and Klar N.  Design and Analysis of Cluster Randomization Trials in Health Research.  Arnold: London, 2000.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+n4means">n4means</a></code>, <code><a href="#topic+n4props">n4props</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
Suppose a new drug is thought to reduce the incidence of HIV from 0.01 per person-year to 0.005
per person-year. Assume the coefficient of variation is 0.25 and that 1000 subjects will be 
followed for a two year period.  Calculate the required number of subjects that must be enrolled 
in a study to detect this difference with alpha = 0.05 and power = 0.80.

## End(Not run)
n4incidence(le=0.01, lc=0.005, m=1000, t=2, CV=0.25);
</code></pre>

<hr>
<h2 id='n4means'>Number of Subjects Required for a Cluster Randomized Trial with a Continuous Outcome</h2><span id='topic+n4means'></span><span id='topic+print.n4means'></span><span id='topic+summary.n4means'></span>

<h3>Description</h3>

<p>This function provides detailed sample size estimation information to determine
the number of subjects that must be enrolled in a cluster randomized trial to compare
two means.</p>


<h3>Usage</h3>

<pre><code class='language-R'>n4means(delta, sigma, m, ICC, alpha=0.05, power=0.8, AR=1, two.tailed=TRUE, digits=3)</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="n4means_+3A_delta">delta</code></td>
<td>
<p>The minimum detectable difference between population means.</p>
</td></tr>
<tr><td><code id="n4means_+3A_sigma">sigma</code></td>
<td>
<p>The standard deviation of the outcome.</p>
</td></tr>
<tr><td><code id="n4means_+3A_m">m</code></td>
<td>
<p>The anticipated average (or actual) cluster size.</p>
</td></tr>
<tr><td><code id="n4means_+3A_icc">ICC</code></td>
<td>
<p>The anticipated value of the intraclass correlation coefficient, <code class="reqn">\rho</code>.</p>
</td></tr>
<tr><td><code id="n4means_+3A_ar">AR</code></td>
<td>
<p>The Allocation Ratio: AR=1 implies an equal number of subjects per treatment and control
group (maximum efficiency), AR &gt; 1, implies more subjects will be enrolled in the control group 
(e.g. in the case of costly intervention), AR &lt; 1 implies more subjects in the
treatment group (rarely used).</p>
</td></tr>
<tr><td><code id="n4means_+3A_alpha">alpha</code></td>
<td>
<p>The desired type I error rate.</p>
</td></tr>
<tr><td><code id="n4means_+3A_power">power</code></td>
<td>
<p>The desired level of power, recall power = 1 - type II error.</p>
</td></tr>
<tr><td><code id="n4means_+3A_two.tailed">two.tailed</code></td>
<td>
<p>Logical, If TRUE calculations are based on a two-tailed type I error,
if FALSE, a one-sided calculation is performed.</p>
</td></tr>
<tr><td><code id="n4means_+3A_digits">digits</code></td>
<td>
<p>Number of digits to round calculations.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function provides detailed sample size information, similar to PROC POWER in SAS, but with less
functionality and more concise output, and adapted for the design of cluster
randomized trial.  It is used for sample size estimation in 
a cluster randomized trial where the outcome is continuous, e.g. blood pressure, or weight.
Note that if the results suggest a small number of clusters is required, an iterative
procedure will include the T distribution instead of the normal critical value for alpha,
iterating until convergence.  In some cases, such as small ICC values, the algorithm may fail to converge and may need to be stopped.
</p>


<h3>Value</h3>

<table role = "presentation">
<tr><td><code>nE</code></td>
<td>
<p>The minimum number of clusters required in the experimental group.</p>
</td></tr>
<tr><td><code>nC</code></td>
<td>
<p>The minimum number of clusters required in the control group.</p>
</td></tr>
<tr><td><code>delta</code></td>
<td>
<p>The minimum detectable difference between population means.</p>
</td></tr>
<tr><td><code>sigma</code></td>
<td>
<p>The standard deviation of the outcome.</p>
</td></tr>
<tr><td><code>alpha</code></td>
<td>
<p>The desired type I error rate.</p>
</td></tr>
<tr><td><code>power</code></td>
<td>
<p>The desired level of power, recall power = 1 - type II error.</p>
</td></tr>
<tr><td><code>AR</code></td>
<td>
<p>The Allocation Ratio.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Michael Rotondi, <a href="mailto:mrotondi@yorku.ca">mrotondi@yorku.ca</a></p>


<h3>References</h3>

<p>Matthews JNS.  Introduction to Randomized Controlled Clinical Trials (2nd Ed.) Chapman &amp; Hall: New York, 2006.
</p>
<p>Donner A and Klar N.  Design and Analysis of Cluster Randomization Trials in Health Research.  Arnold: London, 2000.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+n4props">n4props</a></code>, <code><a href="#topic+n4incidence">n4incidence</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: Suppose we wish to test whether a blood pressure medication reduces diastolic blood
pressure by 10 mm Hg, at standard significance and power, assume the standard deviation is 10 mm Hg.
## End(Not run)
n4means(delta=10, sigma=1, m=25, ICC=0.05, alpha=0.05, power=0.80);
</code></pre>

<hr>
<h2 id='n4meansEB'>Number of Subjects Required for a Cluster Randomized Trial with a Continuous Outcome Using Empirical Smoothing</h2><span id='topic+n4meansEB'></span><span id='topic+print.n4meansEB'></span><span id='topic+summary.n4meansEB'></span>

<h3>Description</h3>

<p>This function provides detailed sample size estimation information to determine
the required number of clusters that must be enrolled in a cluster randomized trial using the
empirical smoothing density for the ICC.
The method applies a smoothed density function (including optional weighting) to obtain
an empirical distribution for the ICC.  Output includes quantiles of values of the
required number of clusters to obtain a prespecified power level.  This version assumes
the outcome of interest is continuous.</p>


<h3>Usage</h3>

<pre><code class='language-R'>n4meansEB(ICC, varICC=0, delta, from, to, sigma, m, iter=1000, alpha=0.05, power=0.8, 
two.tailed=TRUE, digits=3, plot=TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="n4meansEB_+3A_icc">ICC</code></td>
<td>
<p>A vector of possible ICC values, obtained from a reasonable number of independent
studies.  These values form the basis of the empirical density function for the ICC.</p>
</td></tr>
<tr><td><code id="n4meansEB_+3A_varicc">varICC</code></td>
<td>
<p>A vector of variances of the ICC estimates.  In some cases, it may be desirable
to give greater weight (smaller variances) to estimates of the ICC that are obtained from larger
samples.  The default value is zero, which implies that all estimates are weighted equally.</p>
</td></tr>
<tr><td><code id="n4meansEB_+3A_delta">delta</code></td>
<td>
<p>The anticipated mean difference in the planned study.</p>
</td></tr>
<tr><td><code id="n4meansEB_+3A_from">from</code></td>
<td>
<p>A lower limit representing the lowest plausible value for the ICC.  This is used 
in the estimation of the ICC's empirical density function. The default value is zero as the ICC is assumed
to be non-negative.</p>
</td></tr>
<tr><td><code id="n4meansEB_+3A_to">to</code></td>
<td>
<p>An upper bound for the plausible range of the ICC.  A default value is not specified as this
may range depending on the circumstances.</p>
</td></tr>
<tr><td><code id="n4meansEB_+3A_sigma">sigma</code></td>
<td>
<p>The anticipated variance in each group.</p>
</td></tr>
<tr><td><code id="n4meansEB_+3A_m">m</code></td>
<td>
<p>The anticipated average (or actual) cluster size.</p>
</td></tr>
<tr><td><code id="n4meansEB_+3A_iter">iter</code></td>
<td>
<p>The total number of iterations.</p>
</td></tr>
<tr><td><code id="n4meansEB_+3A_alpha">alpha</code></td>
<td>
<p>The desired type I error rate.</p>
</td></tr>
<tr><td><code id="n4meansEB_+3A_power">power</code></td>
<td>
<p>The desired level of power, recall power = 1 - type II error.</p>
</td></tr>
<tr><td><code id="n4meansEB_+3A_two.tailed">two.tailed</code></td>
<td>
<p>Logical, If TRUE calculations are based on a two-tailed type I error,
if FALSE, a one-sided calculation is performed.</p>
</td></tr>
<tr><td><code id="n4meansEB_+3A_digits">digits</code></td>
<td>
<p>Number of digits to round calculations.</p>
</td></tr>
<tr><td><code id="n4meansEB_+3A_plot">plot</code></td>
<td>
<p>Logical: Would you like a plot of the estimated density of the ICC and Histogram?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function estimates an empirical density for the ICC using the Gaussian kernel.  Weights
can be incorporated through the use of the varICC parameter.
Values are sampled from this empirical density a large (iter) number of times and the
resulting number of clusters that must be randomized to achieve a pre-specified power level
is then calculated.  The resulting output is the quantiles of the required number of clusters,
illustrating the most likely values of the ICC and number of clusters required.  Additional
details are in Rotondi and Donner (2009).</p>


<h3>Value</h3>

<table role = "presentation">
<tr><td><code>ResRho</code></td>
<td>
<p>A vector of values of sampled values of the ICC.  This is of length iter.</p>
</td></tr>
<tr><td><code>ResK</code></td>
<td>
<p>A vector of values of the required number of clusters k, using the 
ICC values in ResRho.  This is also of length iter.</p>
</td></tr>
<tr><td><code>pe</code></td>
<td>
<p>The anticipated proportion of individuals in the experimental group with the outcome.</p>
</td></tr>
<tr><td><code>pc</code></td>
<td>
<p>The anticipated proportion of individuals in the control group with the outcome.</p>
</td></tr>
<tr><td><code>ICC</code></td>
<td>
<p>The specified vector of values for the ICC.</p>
</td></tr>
<tr><td><code>varICC</code></td>
<td>
<p>A vector of variances of the ICC (study weights).</p>
</td></tr>
<tr><td><code>from</code></td>
<td>
<p>Lower bound in the ICC density estimation.  Default of zero.</p>
</td></tr>
<tr><td><code>to</code></td>
<td>
<p>Upper bound in ICC Density Estimation.</p>
</td></tr>
<tr><td><code>m</code></td>
<td>
<p>The size of each cluster.</p>
</td></tr>
<tr><td><code>alpha</code></td>
<td>
<p>The desired type I error rate.</p>
</td></tr>
<tr><td><code>power</code></td>
<td>
<p>The desired level of power, recall power = 1 - type II error.</p>
</td></tr>
<tr><td><code>two.tailed</code></td>
<td>
<p>TRUE or FALSE; Depending on whether the alpha level is one or two sided.</p>
</td></tr>
<tr><td><code>digits</code></td>
<td>
<p>Number of digits to round results.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Michael Rotondi, <a href="mailto:mrotondi@yorku.ca">mrotondi@yorku.ca</a></p>


<h3>References</h3>

<p>Matthews JNS.  Introduction to Randomized Controlled Clinical Trials (2nd Ed.) Chapman &amp; Hall: New York, 2006.
</p>
<p>Donner A and Klar N.  Design and Analysis of Cluster Randomization Trials in Health Research.  Arnold: London, 2000.
</p>
<p>Rotondi M and Donner A.  (2009) Sample Size Estimation in Cluster Randomized Trials: An Empirical Bayes Approach, Journal
of Educational and Behavioral Statistics, 34:229-237. 
</p>


<h3>See Also</h3>

<p><code><a href="#topic+n4propsEB">n4propsEB</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: ICC values are from Rotondi and Donner (2009).  Suppose classrooms of size 25 are randomized 
with hypothetical experimental rates of 0.05 and control rates of 0.18.  Plots are suppressed, 
and iter = 50 for testing purposes.
## End(Not run)
n4meansEB(delta=0.5, sigma=1, m=25, ICC=c(0.162, 0.205, 0.234, 0.253), 
varICC= c(0.030, 0.032, 0.010, 0.026)^2, from=0.15, to=0.28, iter=50, plot=FALSE);
</code></pre>

<hr>
<h2 id='n4meansMeta'>Empirical Power and Variance Reduction for an Updated Fixed Effects Meta-Analysis in Cluster Randomized Trials</h2><span id='topic+n4meansMeta'></span><span id='topic+print.n4meansMeta'></span><span id='topic+summary.n4meansMeta'></span>

<h3>Description</h3>

<p>This function provides the empirical power/reduction in variance in an updated meta-analysis for
a vector of number of clusters to randomize per group and a vector of estimates
of the ICC.</p>


<h3>Usage</h3>

<pre><code class='language-R'>n4meansMeta(data, model="fixed", k, ICC, ICCDistn="unif", lower=0, upper=0.25, 
varRed=FALSE, m, sdm, meanC, sdC, sdT=sdC, iter=1000, alpha=0.05)</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="n4meansMeta_+3A_data">data</code></td>
<td>
<p>A matrix of individual studies (each row).  The first column contains the estimate
of the mean difference, second column contains the lower 95 % confidence limit and the third contains the upper 95 % confidence limit.  </p>
</td></tr>
<tr><td><code id="n4meansMeta_+3A_model">model</code></td>
<td>
<p>One of fixed or random, corresponding to the fixed or random effects meta-analysis models.  Note that the random effects model is estimated according to the DerSimonian-Laird estimate of the between-study variance.</p>
</td></tr>
<tr><td><code id="n4meansMeta_+3A_k">k</code></td>
<td>
<p>A vector of potential number of clusters to randomize to each of the treatment and control
groups.  Note that this function assumes an equal allocation to treatment and control group status.</p>
</td></tr>
<tr><td><code id="n4meansMeta_+3A_icc">ICC</code></td>
<td>
<p>A vector of potential values of the ICC, these can be obtained from the literature, pilot studies, etc.</p>
</td></tr>
<tr><td><code id="n4meansMeta_+3A_iccdistn">ICCDistn</code></td>
<td>
<p>The hypothetical distribution of the ICC values.  This can be set to &quot;fixed&quot; (note that only one ICC value is accepted for this option), &quot;unif&quot; on the range [lower, upper], &quot;normal&quot;, corresponding to the truncated normal distribution (Turner et al, 2004), and &quot;smooth&quot; corresponding to the empirical smoothing option. (Rotondi and Donner, 2009)</p>
</td></tr>
<tr><td><code id="n4meansMeta_+3A_lower">lower</code></td>
<td>
<p>The lower bound for the smoothing or unif options.  Default value is zero.</p>
</td></tr>
<tr><td><code id="n4meansMeta_+3A_upper">upper</code></td>
<td>
<p>The upper bound for the smoothing or unif options.  Default value is 0.25.</p>
</td></tr>
<tr><td><code id="n4meansMeta_+3A_varred">varRed</code></td>
<td>
<p>Logical; If varRed is set to TRUE, the proportionate reduction of variance is displayed
for the fixed effects meta-analysis.</p>
</td></tr>
<tr><td><code id="n4meansMeta_+3A_m">m</code></td>
<td>
<p>The mean cluster size.</p>
</td></tr>
<tr><td><code id="n4meansMeta_+3A_sdm">sdm</code></td>
<td>
<p>The standard deviation of the mean cluster size.  This adds additional real-world variation
in the simulated study.</p>
</td></tr>
<tr><td><code id="n4meansMeta_+3A_meanc">meanC</code></td>
<td>
<p>The anticipated mean response level in the control group.  The anticipated treatment mean is calculated from the simulated effect size of the preliminary meta-analysis.</p>
</td></tr>
<tr><td><code id="n4meansMeta_+3A_sdc">sdC</code></td>
<td>
<p>The standard deviation of the control rate.  This adds real-world variation
in the simulated study and can be precise or imprecise depending on the investigators preference.</p>
</td></tr>
<tr><td><code id="n4meansMeta_+3A_sdt">sdT</code></td>
<td>
<p>The standard deviation of the treatment rate.  By default, this is set to the same
sdC.</p>
</td></tr>
<tr><td><code id="n4meansMeta_+3A_iter">iter</code></td>
<td>
<p>The number of iterations for each value of k and the ICC.  This has a large impact
on computational time.  Default is 1000.</p>
</td></tr>
<tr><td><code id="n4meansMeta_+3A_alpha">alpha</code></td>
<td>
<p>The desired type I error rate for calculation of confidence limits for the
meta-analysis model.  Note that for simplicity, this function assumes that each of the inputed lower
and upper limits are 95 % confidence limits and this cannot be changed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function calculates the empirical power of an updated meta-analysis by a generalization
of Sutton et al. (2007).  The procedure is summarized in the accompanying manuscript (Rotondi and Donner, 2012).  In short,
a hypothetical new study of a given size is simulated, then added to the meta-analysis.  The
results are re-meta-analyzed and it is determined whether the result is statistically significant. Note
that the proportion of variance reduction and power may not always strictly decrease with k, as the simulation
exhibits individual-level variation.  Moreover, the random effects model does not guarantee that future studies will result in higher power due to the presence of between-study heterogeneity.</p>


<h3>Value</h3>

<table role = "presentation">
<tr><td><code>power</code></td>
<td>
<p>The power of the updated meta-analysis.  Presented as a matrix of 
number of clusters by ICC values.</p>
</td></tr>
<tr><td><code>data</code></td>
<td>
<p>The data matrix is returned.</p>
</td></tr>
<tr><td><code>newMean</code></td>
<td>
<p>The preliminary fixed (or random) effects mean difference.</p>
</td></tr>
<tr><td><code>newVar</code></td>
<td>
<p>The variance of the preliminary fixed (or random) effects mean difference (MD).</p>
</td></tr>
<tr><td><code>lF</code></td>
<td>
<p>The 100(1 - <code class="reqn">\alpha</code>) % lower limit of the MD in the original meta-analysis.</p>
</td></tr>
<tr><td><code>uF</code></td>
<td>
<p>The 100(1 - <code class="reqn">\alpha</code>) % upper limit of the MD in the original meta-analysis.</p>
</td></tr>
<tr><td><code>Var</code></td>
<td>
<p>The variance of the effect measure.</p>
</td></tr>
<tr><td><code>Sig</code></td>
<td>
<p>Is the result statistically significant (Binary zero or one).</p>
</td></tr>
<tr><td><code>k</code></td>
<td>
<p>The number of clusters randomized per group (vector).</p>
</td></tr>
<tr><td><code>ICC</code></td>
<td>
<p>A vector of ICC values.</p>
</td></tr>
<tr><td><code>ICCDistn</code></td>
<td>
<p>The distributional assumption about the ICC.</p>
</td></tr>
<tr><td><code>varRed</code></td>
<td>
<p>Variance Reduction: Logical.</p>
</td></tr>
<tr><td><code>varianceReduction</code></td>
<td>
<p>The proportionate reduction in variance for the number of clusters in the fixed effects meta-analysis.</p>
</td></tr>
<tr><td><code>m</code></td>
<td>
<p>The mean cluster size.</p>
</td></tr>
<tr><td><code>sdm</code></td>
<td>
<p>The standard deviation of the mean cluster size.</p>
</td></tr>
<tr><td><code>meanC</code></td>
<td>
<p>The control mean.</p>
</td></tr>
<tr><td><code>sdC</code></td>
<td>
<p>The standard deviation of the control mean.</p>
</td></tr>
<tr><td><code>alpha</code></td>
<td>
<p>The desired type I error rate.</p>
</td></tr>
<tr><td><code>iter</code></td>
<td>
<p>The total number of iterations.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Michael Rotondi, <a href="mailto:mrotondi@yorku.ca">mrotondi@yorku.ca</a></p>


<h3>References</h3>

<p>Matthews JNS.  Introduction to Randomized Controlled Clinical Trials (2nd Ed.) Chapman &amp; Hall: New York, 2006.
</p>
<p>Donner A and Klar N.  Design and Analysis of Cluster Randomization Trials in Health Research.  Arnold: London, 2000.
</p>
<p>Sutton AJ et al. (2007) Evidence-based sample size calculations based upon updated meta-analysis. Statistics in Medicine, 26(12):2479-2500.
</p>
<p>Turner R et al. (2004) Allowing for imprecision in the intracluster correlation coefficient in the design of cluster randomized trials.  Statistics in Medicine, 23(8):1195-1214.
</p>
<p>Rotondi M and Donner A.  (2009) Sample Size Estimation in Cluster Randomized Trials: An Empirical Bayes Approach. Journal
of Educational and Behavioral Statistics.  DOI: 10.3102/1076998609332756. 
</p>
<p>Rotondi M and Donner A.  (2012) Sample Size Estimation in Cluster Randomized Trials:
An Evidence-Based Perspective.  Computational Statistics and Data Analysis  56:1174-1187.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+n4propsMeta">n4propsMeta</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: A brief example with 5 iterations.  
n4meansMeta(data=rbind(c(100, 50, 150), c(25, -100, 150), c(-90, -190, 10), 
c(-125, -200, -50)), model="fixed", k=c(10, 20), ICC=c(0.1, 0.15, 0.18), m=100, 
sdm=0, meanC=100, sdC=10, iter=5, alpha=0.05, varRed=TRUE, ICCDistn="smooth");
</code></pre>

<hr>
<h2 id='n4props'>Number of Subjects Required for a Cluster Randomized Trial with a Binary Outcome</h2><span id='topic+n4props'></span><span id='topic+print.n4props'></span><span id='topic+summary.n4props'></span>

<h3>Description</h3>

<p>This function provides detailed sample size estimation information to determine
the number of subjects that must be enrolled in a cluster randomized trial with a binary
outcome.</p>


<h3>Usage</h3>

<pre><code class='language-R'>n4props(pe, pc, m, ICC, alpha=0.05, power = 0.80, AR=1, two.tailed=TRUE, digits=3)</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="n4props_+3A_pe">pe</code></td>
<td>
<p>The anticipated proportion of individuals with the outcome of interest in the experimental group.</p>
</td></tr>
<tr><td><code id="n4props_+3A_pc">pc</code></td>
<td>
<p>The anticipated proportion of individuals with the outcome of interest in the control group.</p>
</td></tr>
<tr><td><code id="n4props_+3A_m">m</code></td>
<td>
<p>The anticipated average (or actual) cluster size.</p>
</td></tr>
<tr><td><code id="n4props_+3A_icc">ICC</code></td>
<td>
<p>The anticipated value of the intraclass correlation coefficient, ICC.</p>
</td></tr>
<tr><td><code id="n4props_+3A_ar">AR</code></td>
<td>
<p>The Allocation Ratio: AR$=$1 implies an equal number of subjects per treatment and control
group (maximum efficiency), AR $&gt;$ 1, implies more subjects will be enrolled in the control group 
(e.g. in the case of costly intervention), AR $&lt;$ 1 implies more subjects in the
treatment group (rarely used).</p>
</td></tr>
<tr><td><code id="n4props_+3A_alpha">alpha</code></td>
<td>
<p>The desired type I error rate.</p>
</td></tr>
<tr><td><code id="n4props_+3A_power">power</code></td>
<td>
<p>The desired level of power, recall power = 1 - type II error.</p>
</td></tr>
<tr><td><code id="n4props_+3A_two.tailed">two.tailed</code></td>
<td>
<p>Logical, If TRUE calculations are based on a two-tailed type I error,
if FALSE, a one-sided calculation is performed.</p>
</td></tr>
<tr><td><code id="n4props_+3A_digits">digits</code></td>
<td>
<p>Number of digits to round calculations</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function provides detailed information, similar to PROC POWER in SAS, but with less
functionality and more concise output.  It is used for sample size estimation in 
a cluster randomized trial where the outcome of interest is binary.  A simple example may include whether
an individual dies from a heart attack.  In epidemiological terms, pe and pc can be thought
of as the expected prevalence of the outcome in the experimental and control group. Note that 
if the results suggest a small number of clusters is required, an iterative
procedure will include the T distribution instead of the normal critical value for alpha, iterating
the procedure until convergence.  Thus on some occasions, the algorithm may not converge.  In some cases, such as small ICC values or proportions, this fails to converge and may need to be stopped.
</p>


<h3>Value</h3>

<table role = "presentation">
<tr><td><code>nE</code></td>
<td>
<p>The minimum number of clusters required in the experimental group.</p>
</td></tr>
<tr><td><code>nC</code></td>
<td>
<p>The minimum number of clusters required in the control group.</p>
</td></tr>
<tr><td><code>pe</code></td>
<td>
<p>The anticipated proportion of individuals in the experimental group with the outcome.</p>
</td></tr>
<tr><td><code>pc</code></td>
<td>
<p>The anticipated proportion of individuals in the control group with the outcome.</p>
</td></tr>
<tr><td><code>alpha</code></td>
<td>
<p>The desired type I error rate.</p>
</td></tr>
<tr><td><code>power</code></td>
<td>
<p>The desired level of power, recall power = 1 - type II error.</p>
</td></tr>
<tr><td><code>AR</code></td>
<td>
<p>The Allocation Ratio.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Michael Rotondi, <a href="mailto:mrotondi@yorku.ca">mrotondi@yorku.ca</a></p>


<h3>References</h3>

<p>Matthews JNS.  Introduction to Randomized Controlled Clinical Trials (2nd Ed.) Chapman &amp; Hall: New York, 2006.
</p>
<p>Donner A and Klar N.  Design and Analysis of Cluster Randomization Trials in Health Research.  Arnold: London, 2000.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+n4means">n4means</a></code>, <code><a href="#topic+n4incidence">n4incidence</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: Suppose a new drug is thought to reduce heart attack mortality from 0.10 to 0.03. 
Calculate the required number of subjects that must be enrolled in a study to detect this 
difference with alpha = 0.05 and power = 0.80.
## End(Not run)
n4props(pe=0.03, pc=0.10, m=25, ICC=0.20, AR=1, alpha=0.05, power=0.80);
</code></pre>

<hr>
<h2 id='n4propsEB'>Number of Subjects Required for a Cluster Randomized Trial with Binary Outcomes Using Empirical Smoothing</h2><span id='topic+n4propsEB'></span><span id='topic+print.n4propsEB'></span><span id='topic+summary.n4propsEB'></span>

<h3>Description</h3>

<p>This function provides detailed sample size estimation information to determine
the required number of clusters that must be enrolled in a cluster randomized trial
using the empirical smoothing model. The method applies a smoothed density function (including optional weighting) to obtain
an empirical distribution for the ICC.  Output includes quantiles of values of the
required number of clusters to obtain a prespecified power level.</p>


<h3>Usage</h3>

<pre><code class='language-R'>n4propsEB(ICC, varICC=0, from=0, to, pe, pc, m, iter=1000, alpha=0.05, 
power=0.8, two.tailed=TRUE, digits=3, plot=TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="n4propsEB_+3A_icc">ICC</code></td>
<td>
<p>A vector of possible ICC values, obtained from a reasonable number of independent
studies.  These values form the basis of the empirical density function for the ICC.</p>
</td></tr>
<tr><td><code id="n4propsEB_+3A_varicc">varICC</code></td>
<td>
<p>A vector of variances of the estimates of the ICC.  In some cases, it may be desirable
to give greater weight (smaller variances) to estimates of the ICC that are obtained from larger
samples.  The default value is zero, which implies that all estimates are weighted equally.</p>
</td></tr>
<tr><td><code id="n4propsEB_+3A_from">from</code></td>
<td>
<p>A lower limit representing the lowest plausible value for the ICC.  This is used 
in the estimation of the ICC's empirical density function. The default value is zero as the ICC is assumed
to be non-negative.</p>
</td></tr>
<tr><td><code id="n4propsEB_+3A_to">to</code></td>
<td>
<p>An upper bound for the plausible range of the ICC.  A default value is not specified as this
may range depending on the circumstances.</p>
</td></tr>
<tr><td><code id="n4propsEB_+3A_pe">pe</code></td>
<td>
<p>The anticipated proportion of individuals in the experimental group with the outcome.</p>
</td></tr>
<tr><td><code id="n4propsEB_+3A_pc">pc</code></td>
<td>
<p>The anticipated proportion of individuals in the control group with the outcome.</p>
</td></tr>
<tr><td><code id="n4propsEB_+3A_m">m</code></td>
<td>
<p>The anticipated average (or actual) cluster size.</p>
</td></tr>
<tr><td><code id="n4propsEB_+3A_iter">iter</code></td>
<td>
<p>The total number of iterations.</p>
</td></tr>
<tr><td><code id="n4propsEB_+3A_alpha">alpha</code></td>
<td>
<p>The desired type I error rate.</p>
</td></tr>
<tr><td><code id="n4propsEB_+3A_power">power</code></td>
<td>
<p>The desired level of power, recall power = 1 - type II error.</p>
</td></tr>
<tr><td><code id="n4propsEB_+3A_two.tailed">two.tailed</code></td>
<td>
<p>Logical, If TRUE calculations are based on a two-tailed type I error,
if FALSE, a one-sided calculation is performed.</p>
</td></tr>
<tr><td><code id="n4propsEB_+3A_digits">digits</code></td>
<td>
<p>Number of digits to round calculations.</p>
</td></tr>
<tr><td><code id="n4propsEB_+3A_plot">plot</code></td>
<td>
<p>Logical: Would you like a plot of the estimated density of the ICC and Histogram?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function estimates an empirical density for the ICC using a Gaussian kernel.  Weights
can be incorporated through specification of the varICC parameter.
ICC values are sampled from this empirical density a large (iter) number of times and the
resulting number of clusters that must be randomized to achieve a pre-specified power level
is then calculated.  The resulting output is the quantiles of the required number of clusters,
illustrating the most likely values of the ICC and number of clusters required.  Additional
details are in Rotondi and Donner (2009).</p>


<h3>Value</h3>

<table role = "presentation">
<tr><td><code>ResRho</code></td>
<td>
<p>A vector of values of sampled values of the ICC.  This is of length iter.</p>
</td></tr>
<tr><td><code>ResK</code></td>
<td>
<p>A vector of values of the calculated required number of clusters k, using the 
ICC values in ResRho.  This is also of length iter.</p>
</td></tr>
<tr><td><code>pe</code></td>
<td>
<p>The anticipated proportion of individuals in the experimental group with the outcome.</p>
</td></tr>
<tr><td><code>pc</code></td>
<td>
<p>The anticipated proportion of individuals in the control group with the outcome.</p>
</td></tr>
<tr><td><code>ICC</code></td>
<td>
<p>The specified vector of values for the ICC.</p>
</td></tr>
<tr><td><code>varICC</code></td>
<td>
<p>A vector of variances of the ICC, these can be used as study weights.</p>
</td></tr>
<tr><td><code>from</code></td>
<td>
<p>Lower bound in ICC Density Estimation.  Default of zero.</p>
</td></tr>
<tr><td><code>to</code></td>
<td>
<p>Upper bound in ICC Density Estimation.  Default of zero.</p>
</td></tr>
<tr><td><code>m</code></td>
<td>
<p>The size of each cluster</p>
</td></tr>
<tr><td><code>alpha</code></td>
<td>
<p>The desired type I error rate.</p>
</td></tr>
<tr><td><code>power</code></td>
<td>
<p>The desired level of power, recall power = 1 - type II error.</p>
</td></tr>
<tr><td><code>two.tailed</code></td>
<td>
<p>TRUE or FALSE; Depending on whether the alpha level is one or two sided.</p>
</td></tr>
<tr><td><code>digits</code></td>
<td>
<p>Number of digits to round results.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Michael Rotondi, <a href="mailto:mrotondi@yorku.ca">mrotondi@yorku.ca</a></p>


<h3>References</h3>

<p>Matthews JNS.  Introduction to Randomized Controlled Clinical Trials (2nd Ed.) Chapman &amp; Hall: New York, 2006.
</p>
<p>Donner A and Klar N.  Design and Analysis of Cluster Randomization Trials in Health Research.  Arnold: London, 2000.
</p>
<p>Rotondi M and Donner A.  (2009) Sample Size Estimation in Cluster Randomized Trials: An Empirical Bayes Approach. Journal
of Educational and Behavioral Statistics, 34:229-237. 
</p>


<h3>See Also</h3>

<p><code><a href="#topic+n4meansEB">n4meansEB</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: ICC values are from Rotondi and Donner (2009).  Suppose classrooms of size 25 
are randomized with hypothetical experimental rates of 0.05 and control rates of 0.18. 
Plots are suppressed, and iter = 50 for testing purposes.
## End(Not run)
n4propsEB(pe=0.10, pc=0.18, m=25, ICC=c(0.162, 0.205, 0.234, 0.253), 
varICC= c(0.030, 0.032, 0.010, 0.026)^2, from=0.15, to=0.28, iter=50, plot=FALSE);
</code></pre>

<hr>
<h2 id='n4propsMeta'>Empirical Power and Variance Reduction of an Updated Fixed Effects Meta-Analysis with Binary Outcomes</h2><span id='topic+n4propsMeta'></span><span id='topic+print.n4propsMeta'></span><span id='topic+summary.n4propsMeta'></span>

<h3>Description</h3>

<p>This function provides the empirical power/variance reduction of an updated meta-analysis for
a vector of the number of clusters to randomize per group and a vector of estimates
of the ICC with a binary outcome measured using the (log) relative risk or odds ratio.</p>


<h3>Usage</h3>

<pre><code class='language-R'>n4propsMeta(data, measure="RR", model="fixed", k, ICC, ICCDistn="unif", 
lower=0, upper=0.25, varRed=FALSE, m, sdm, pC, sdpC, iter=1000, alpha=0.05)</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="n4propsMeta_+3A_data">data</code></td>
<td>
<p>A matrix with completed studies in each row.  The first column contains the estimate
of the relative risk or odds ratio, the second column contains the 95 % lower limit and the third contains the 95 % upper limit.  Note that the variance is estimated from the upper bound of these confidence intervals and risk differences are not permitted.</p>
</td></tr>
<tr><td><code id="n4propsMeta_+3A_measure">measure</code></td>
<td>
<p>Corresponds to the effect measure.  Can be one of &quot;RR&quot; or &quot;OR&quot;, corresponding to the Relative Risk or Odds Ratio.</p>
</td></tr>
<tr><td><code id="n4propsMeta_+3A_model">model</code></td>
<td>
<p>One of fixed or random, corresponding to the fixed or random effects meta-analysis models.  Note that the random effects model is estimated according to the DerSimonian-Laird estimate of the between-study variance.</p>
</td></tr>
<tr><td><code id="n4propsMeta_+3A_k">k</code></td>
<td>
<p>A vector of the potential number of clusters to randomize to each of the treatment and control
groups.  Note that this function assumes an equal allocation to treatment and control group status.</p>
</td></tr>
<tr><td><code id="n4propsMeta_+3A_icc">ICC</code></td>
<td>
<p>A vector of potential values of the ICC, these can be obtained from the literature, pilot studies, etc.</p>
</td></tr>
<tr><td><code id="n4propsMeta_+3A_iccdistn">ICCDistn</code></td>
<td>
<p>The hypothetical distribution of the ICC values.  This can be set to &quot;fixed&quot; (note that only one ICC value is accepted for this option), &quot;unif&quot; on the range [lower, upper], &quot;normal&quot;, corresponding to the truncated
normal distribution (Turner et al, 2004), and &quot;smooth&quot; corresponding to the empirical smoothing option (Rotondi and Donner, 2009).</p>
</td></tr>
<tr><td><code id="n4propsMeta_+3A_lower">lower</code></td>
<td>
<p>The lower bound for the smoothing or unif options.  Default value is zero.</p>
</td></tr>
<tr><td><code id="n4propsMeta_+3A_upper">upper</code></td>
<td>
<p>The upper bound for the smoothing or unif options.  Default value is 0.25.</p>
</td></tr>
<tr><td><code id="n4propsMeta_+3A_varred">varRed</code></td>
<td>
<p>Logical; If varRed is set to TRUE, the proportionate reduction of variance is displayed
for the fixed effects meta-analysis.</p>
</td></tr>
<tr><td><code id="n4propsMeta_+3A_m">m</code></td>
<td>
<p>The mean cluster size.</p>
</td></tr>
<tr><td><code id="n4propsMeta_+3A_sdm">sdm</code></td>
<td>
<p>The standard deviation of the mean cluster size.  This adds additional real-world variation
in the simulated study, using a normal model for large cluster sizes.</p>
</td></tr>
<tr><td><code id="n4propsMeta_+3A_pc">pC</code></td>
<td>
<p>The anticipated event in the control group.  The anticipated treatment event is calculated
from the simulated effect size of the preliminary meta-analysis.</p>
</td></tr>
<tr><td><code id="n4propsMeta_+3A_sdpc">sdpC</code></td>
<td>
<p>The standard deviation of the control rate.  This is to generate real-world variation
in the simulated study and can be precise or imprecise depending on the investigators preference.</p>
</td></tr>
<tr><td><code id="n4propsMeta_+3A_iter">iter</code></td>
<td>
<p>The number of iterations for each value of k and the ICC.  This has a large impact
on computational time.  Default is 1000.</p>
</td></tr>
<tr><td><code id="n4propsMeta_+3A_alpha">alpha</code></td>
<td>
<p>The desired type I error rate for calculation of confidence limits for the
meta-analysis model.  Note that for simplicity, this function assumes that each of the inputed lower
and upper limits are 95 % confidence limits and this cannot be changed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function calculates the empirical power of an updated meta-analysis by a generalization
of Sutton et al. (2007) to the context of cluster randomized trials with
a binary outcome.  The procedure is summarized in the accompanying manuscript (Rotondi and Donner, 2012).  In short,
a hypothetical new study of a given size is simulated, then added to the meta-analysis.  The
results are re-meta-analyzed and it is verified whether the pooled result is statistically significant,
or the appropriate reduction in variance of the pooled effect measure is recorded.  Note
that the proportion of variance reduction and power may not always (strictly) decrease with k, as the simulation
exhibits individual-level variation.  In addition, the random effects model does not guarantee that future studies will result in higher power due to the presence of between-study heterogeneity.</p>


<h3>Value</h3>

<table role = "presentation">
<tr><td><code>power</code></td>
<td>
<p>The power of the updated meta-analysis.  Presented as a vector 
corresponding to the number of clusters.</p>
</td></tr>
<tr><td><code>varianceReduction</code></td>
<td>
<p>The proportionate reduction in variance for the number of clusters in the fixed effects meta-analysis.</p>
</td></tr>
<tr><td><code>m</code></td>
<td>
<p>The mean cluster size.</p>
</td></tr>
<tr><td><code>data</code></td>
<td>
<p>The data matrix is returned.</p>
</td></tr>
<tr><td><code>newMean</code></td>
<td>
<p>The preliminary fixed (or random) effects log relative risk (RR) or odds ratio (OR).</p>
</td></tr>
<tr><td><code>newVar</code></td>
<td>
<p>The variance of the preliminary fixed (or random) effects log RR or log OR.</p>
</td></tr>
<tr><td><code>lF</code></td>
<td>
<p>The 100(1 - <code class="reqn">\alpha</code>) % lower limit of the log RR/log OR in the original meta-analysis.</p>
</td></tr>
<tr><td><code>uF</code></td>
<td>
<p>The 100(1 - <code class="reqn">\alpha</code>) % upper limit of the log RR/log OR in the original meta-analysis.</p>
</td></tr>
<tr><td><code>Var</code></td>
<td>
<p>The variance of the updated log RR/log OR.</p>
</td></tr>
<tr><td><code>k</code></td>
<td>
<p>The number of clusters randomized per group (vector).</p>
</td></tr>
<tr><td><code>ICC</code></td>
<td>
<p>A vector of ICC values.</p>
</td></tr>
<tr><td><code>ICCDistn</code></td>
<td>
<p>The distributional assumption about the ICC.</p>
</td></tr>
<tr><td><code>varRed</code></td>
<td>
<p>Variance Reduction: Logical.</p>
</td></tr>
<tr><td><code>sdm</code></td>
<td>
<p>The standard deviation of the mean cluster size.</p>
</td></tr>
<tr><td><code>pC</code></td>
<td>
<p>The mean control rate.</p>
</td></tr>
<tr><td><code>sdpC</code></td>
<td>
<p>The standard deviation of the control rate.</p>
</td></tr>
<tr><td><code>alpha</code></td>
<td>
<p>The desired type I error rate.</p>
</td></tr>
<tr><td><code>iter</code></td>
<td>
<p>The total number of iterations.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Michael Rotondi, <a href="mailto:mrotondi@yorku.ca">mrotondi@yorku.ca</a></p>


<h3>References</h3>

<p>Matthews JNS.  Introduction to Randomized Controlled Clinical Trials (2nd Ed.) Chapman &amp; Hall: New York, 2006.
</p>
<p>Donner A and Klar N.  Design and Analysis of Cluster Randomization Trials in Health Research.  Arnold: London, 2000.
</p>
<p>Sutton AJ et al. (2007) Evidence-based sample size calculations based upon updated meta-analysis. Statistics in Medicine,
26(12):2479-2500.
</p>
<p>Turner R et al. (2004) Allowing for imprecision in the intracluster correlation coefficient in the design of cluster randomized trials.  Statistics in Medicine, 23(8):1195-1214.
</p>
<p>Rotondi M and Donner A.  (2009) Sample Size Estimation in Cluster Randomized Trials: An Empirical Bayes Approach. Journal
of Educational and Behavioral Statistics, 34:229-237.  
</p>
<p>Rotondi M and Donner A.  (2012) Sample Size Estimation in Cluster Randomized Trials:
An Evidence-Based Perspective.  Computational Statistics and Data Analysis  56:1174-1187.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+n4meansMeta">n4meansMeta</a></code> </p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: A brief example with 10 iterations and a simple initial meta-analysis 
of two studies with the following RRs and CIs:
## End(Not run)
n4propsMeta(data=rbind(c(0.800, 0.551, 1.162), c(0.690, 0.342, 1.390)), 
model="fixed", measure="RR", k=c(20, 40, 60, 80, 100), ICC=0.011, 
m=100, sdm=0, pC=0.1, sdpC=0, iter=10, alpha=0.05, ICCDistn="fixed");
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

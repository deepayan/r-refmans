<!DOCTYPE html><html lang="en"><head><title>Help for package optigrab</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {optigrab}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#optigrab'><p>Optigrab</p></a></li>
<li><a href='#gnu_style'><p>GNU-style command line options</p></a></li>
<li><a href='#is_flag'><p>Determine if/which vector element are options flags</p></a></li>
<li><a href='#java_style'><p>Java-style command line options</p></a></li>
<li><a href='#ms_style'><p>Microsoft-style command line options</p></a></li>
<li><a href='#opt_assign'><p>Parse options and assign values</p></a></li>
<li><a href='#opt_expand'><p>Expand opts to full vector</p></a></li>
<li><a href='#opt_fill'><p>opt_fill</p></a></li>
<li><a href='#opt_get'><p>Get option's values from the command-line</p></a></li>
<li><a href='#opt_get_args'><p>Return arguments to Rscript</p></a></li>
<li><a href='#opt_get_path'><p>Get path current running script</p></a></li>
<li><a href='#opt_get_verb'><p>Get verb from the command line</p></a></li>
<li><a href='#opt_help'><p>Automatic usage/help information</p></a></li>
<li><a href='#opt_split_args'><p>Split command arguments</p></a></li>
<li><a href='#opt_style'><p>Get or set the optigrab style</p></a></li>
<li><a href='#str_to_opts'><p>Split a string bases on whitespace</p></a></li>
<li><a href='#this_file'><p>this_file</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Command-Line Parsing for an R World</td>
</tr>
<tr>
<td>Version:</td>
<td>0.9.2.1</td>
</tr>
<tr>
<td>Date:</td>
<td>2019-01-05</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Christopher Brown &lt;chris.brown@decisionpatterns.com&gt;</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/decisionpatterns/optigrab">https://github.com/decisionpatterns/optigrab</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/decisionpatterns/optigrab/issues">https://github.com/decisionpatterns/optigrab/issues</a></td>
</tr>
<tr>
<td>Description:</td>
<td>Parse options from the command-line using a simple, clean syntax. 
    It requires little or no specification and supports short and long options,
    GNU-, Java- or Microsoft- style syntaxes, verb commands and more. </td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.0.0), methods</td>
</tr>
<tr>
<td>Imports:</td>
<td>stringi (&ge; 0.4.1), magrittr (&ge; 1.5)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 0.9.1), knitr (&ge; 1.9), rmarkdown</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a> | file LICENSE</td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>no</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.1.1</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2019-01-05 17:12:25 UTC; cbrown</td>
</tr>
<tr>
<td>Author:</td>
<td>Christopher Brown [aut, cre],
  Daryl McCullough [aut],
  Decision Patterns [cph]</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2019-01-07 18:40:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='optigrab'>Optigrab</h2><span id='topic+optigrab'></span><span id='topic+optigrab-package'></span>

<h3>Description</h3>

<p>The optigrab packages providesa function <code>opt_grab</code> to retrieve 
options/arguments from the command line.  It is useful for running R in 
batch mode with <code>R CMD BATCH ...</code> or <code>Rscript</code>.  
</p>
<p>GNU-, Java- and Microsoft-style command line options are supported. GNU-style
is the default.
</p>
<p>See the <em>optigrab</em> vignettes or the github README file for details.
</p>


<h3>See Also</h3>


<ul>
<li> <p><code><a href="#topic+opt_get">opt_get()</a></code>
</p>
</li>
<li> <p><code><a href="base.html#topic+commandArgs">base::commandArgs()</a></code>
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>
## Not run:  
  opt_get( c("foo","f"))

## End(Not run)

  opts &lt;- c( "--flag", "bar" ) 
  flag &lt;- opt_get( c("foo","f"), opts=opts )  # bar

</code></pre>

<hr>
<h2 id='gnu_style'>GNU-style command line options</h2><span id='topic+gnu_style'></span>

<h3>Description</h3>

<p>Functions for enabling GNU-style commpand-line option behavior.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gnu_style
</code></pre>


<h3>Format</h3>

<p>An object of class <code>list</code> of length 3.</p>


<h3>Details</h3>

<p>Functions for enabling GNU-style command-line options. GNU-style options
are characterized by a single dash (<code>-</code>) before single character
option flags and a double dash (<code>--</code>) before multiple character
option flags.
</p>
<p>By convention, gnu style options flags must begin with a letter; if numbers
were allowed option flags would be ambiguous with negative option values.
</p>


<h3>References</h3>

<p>[GNU Command Line Standards]http://www.gnu.org/prep/standards/standards.html
</p>


<h3>See Also</h3>


<ul>
<li><p> Non-exported function <code>*_flag_test</code>, <code>*_flag_to_name</code> and
<code>*_name_to_flag</code>
</p>
</li>
<li> <p><a href="#topic+gnu_style">gnu_style</a>
</p>
</li>
<li> <p><a href="#topic+java_style">java_style</a>
</p>
</li>
<li> <p><a href="#topic+ms_style">ms_style</a>
</p>
</li></ul>


<hr>
<h2 id='is_flag'>Determine if/which vector element are options flags</h2><span id='topic+is_flag'></span><span id='topic+which.flag'></span>

<h3>Description</h3>

<p>Determines if an element of a vector is an option flag (as opposed to a 
value ) by checking against the option style
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_flag(x)

which.flag(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="is_flag_+3A_x">x</code></td>
<td>
<p>vector of options, for example <code>commandArgs()</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>is_flag</code> and <code>which.flag</code> are internal functions not
expected to be called directly.
</p>
<p>They are  used to identify which elements of the option vector are
option names (as opposed to option values). Options are identified by
<code>getOptions('optigrab')$style$flag_test</code>. By defailt, <strong>optigrab</strong>
follows GNU-style command line arguments, i.e. those beginning with
&quot;&ndash;&quot; or &quot;-&quot; and are set at the time of package loading.
</p>


<h3>Value</h3>

<p>logical. indicating which arguments are flags.
</p>
<p>numeric
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  optigrab:::is_flag( c( "--foo", "bar") )
  optigrab:::is_flag( c( "--foo", "bar", "-f", "-b", "text" ) )
  
  optigrab:::which.flag( c( "--foo", "bar") )
  optigrab:::which.flag( c( "--foo", "bar", "-f", "-b", "text" ))

</code></pre>

<hr>
<h2 id='java_style'>Java-style command line options</h2><span id='topic+java_style'></span>

<h3>Description</h3>

<p>Functions for enabling Java-style commpand-line option behavior.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>java_style
</code></pre>


<h3>Format</h3>

<p>An object of class <code>list</code> of length 3.</p>


<h3>Details</h3>

<p>Functions for enabling Java-style command-line options. Java-style options
are characterized by a single dash (<code>-</code>) before the option name.
</p>
<p>By conventions, Java-style options cannot must begin with a upper or lower
case letter.
</p>


<h3>See Also</h3>


<ul>
<li><p> Non-exported function <code>*_flag_test</code>, <code>*_flag_to_name</code> and
<code>*_name_to_flag</code>
</p>
</li>
<li> <p><a href="#topic+gnu_style">gnu_style</a>
</p>
</li>
<li> <p><a href="#topic+java_style">java_style</a>
</p>
</li>
<li> <p><a href="#topic+ms_style">ms_style</a>
</p>
</li></ul>


<hr>
<h2 id='ms_style'>Microsoft-style command line options</h2><span id='topic+ms_style'></span>

<h3>Description</h3>

<p>Functions for enabling Microsoft-style commpand-line option behavior.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ms_style
</code></pre>


<h3>Format</h3>

<p>An object of class <code>list</code> of length 3.</p>


<h3>Details</h3>

<p>Functions for enabling Microsoft-style command-line options.
Microsoft-style options are characterized by a single forward slash
(<code>/</code>) before the option name.
</p>
<p>Microsoft-style options can be supported by seetting
</p>


<h3>See Also</h3>


<ul>
<li><p> Non-exported function <code>*_flag_test</code>, <code>*_flag_to_name</code> and
<code>*_name_to_flag</code>
</p>
</li>
<li> <p><a href="#topic+gnu_style">gnu_style</a>
</p>
</li>
<li> <p><a href="#topic+java_style">java_style</a>
</p>
</li>
<li> <p><a href="#topic+ms_style">ms_style</a>
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>  opt_style(ms_style)
  opt_get( "foo", opts=c("/foo", "bar") )  
     
</code></pre>

<hr>
<h2 id='opt_assign'>Parse options and assign values</h2><span id='topic+opt_assign'></span><span id='topic+opt_assign_all'></span>

<h3>Description</h3>

<p>Combines <code>opt_get</code> and <code>assign</code> for convenience.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>opt_assign(x, pos = 1, inherits = FALSE, name = x, ...,
  assign.na = FALSE)

opt_assign_all(x, ..., assign.na = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="opt_assign_+3A_x">x</code></td>
<td>
<p>character or list; variable names or alias. If no coercion is done, 
and the first element of a character vector of length greater than 
one will be used, with a warning.</p>
</td></tr>
<tr><td><code id="opt_assign_+3A_pos">pos</code></td>
<td>
<p>where to do the assignment. By default, assigns into the current 
environment. See 'Details' for other possibilities.</p>
</td></tr>
<tr><td><code id="opt_assign_+3A_inherits">inherits</code></td>
<td>
<p>logical; should the enclosing frames of the environment be
inspected? This is argument is supplied to <code><a href="base.html#topic+assign">base::assign()</a></code>.</p>
</td></tr>
<tr><td><code id="opt_assign_+3A_name">name</code></td>
<td>
<p>character; name(s) of option as passed to <code>opt_get</code>.
(Default: 'x&ldquo;)</p>
</td></tr>
<tr><td><code id="opt_assign_+3A_...">...</code></td>
<td>
<p>arguments passed to <code>opt_get</code></p>
</td></tr>
<tr><td><code id="opt_assign_+3A_assign.na">assign.na</code></td>
<td>
<p>logical; whether <code>NA</code> can be assigned.
(Default: <code>FALSE</code>)
</p>
<p><code>opt_assign</code> combines <code>opt_get</code> and <code>assign</code> in one call. The
<code>name</code> argument is passed as <code>opt_get(name=...)</code>; it defaults to
<code>x</code> so it is generally not needed.
</p>
<p><code>opt_assign_all</code> does multiple assignments but does not allow for a
names arguments. Values are names by <code>x</code>.</p>
</td></tr>
</table>


<h3>See Also</h3>


<ul>
<li> <p><code><a href="#topic+opt_get">opt_get()</a></code>
</p>
</li>
<li> <p><code><a href="base.html#topic+assign">base::assign()</a></code>
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>  opt_assign( "foo", opts=c("--foo","bar") )
  opt_assign( c("foo","f"), opts=c("--foo","baz") )
 
</code></pre>

<hr>
<h2 id='opt_expand'>Expand opts to full vector</h2><span id='topic+opt_expand'></span>

<h3>Description</h3>

<p>Expand option vector to split names from values. This is an internal function
and should generally not be called directly.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>opt_expand(opts = commandArgs())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="opt_expand_+3A_opts">opts</code></td>
<td>
<p>character vector of arguments. (Default: <code><a href="base.html#topic+commandArgs">base::commandArgs()</a></code> )</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>opt_expand</code> does two things:
</p>

<p>#1. Removes values preceding and including <code>--args</code>.
#2. Splits and value containing an equal ('=&ldquo;) sign.

</p>


<h3>Note</h3>

<p>non-exported
</p>


<h3>See Also</h3>


<ul>
<li> <p><code><a href="#topic+opt_grab">opt_grab()</a></code>
</p>
</li>
<li> <p><code><a href="base.html#topic+commandArgs">base::commandArgs()</a></code>
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>  optigrab:::opt_expand()
  optigrab:::opt_expand( opts=c( "--foo", "bar") ) 
  
</code></pre>

<hr>
<h2 id='opt_fill'>opt_fill</h2><span id='topic+opt_fill'></span>

<h3>Description</h3>

<p>Fill a recursive structure with command-line arguments
</p>


<h3>Usage</h3>

<pre><code class='language-R'>opt_fill(x, opts = commandArgs(), style = getOption("optigrab")$style)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="opt_fill_+3A_x">x</code></td>
<td>
<p>list-like (recursive)) object with names to use as a template.</p>
</td></tr>
<tr><td><code id="opt_fill_+3A_opts">opts</code></td>
<td>
<p>character command-line option list (Default: commandArgs() )</p>
</td></tr>
<tr><td><code id="opt_fill_+3A_style">style</code></td>
<td>
<p>string; the command-line style (Default: getOption('optigrab')$style</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>opt_fill</code> uses <code>x</code> as a template of values to be retrieved. Named elements
of <code>x</code> are retrieved from the command line using <code><a href="#topic+opt_get">opt_get()</a></code>. Values are
coerced to the type/class of the elements of x.
</p>
<p>This gives a handy way of defining and retrieving all setting at once
overridding the defaults.
</p>
<p><code>opt_fill</code> is similar to <code><a href="utils.html#topic+modifyList">utils::modifyList()</a></code> but does not work recursively.
</p>


<h3>Value</h3>

<p>(A copy of) <code>x</code>, with values filled from the command-line.  If
<code>x</code> is a reference structure, this is done by reference, returning
the object invisibly.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+opt_get">opt_get()</a></code>
<code><a href="utils.html#topic+modifyList">utils::modifyList()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  defaults &lt;- list( foo="a", bar=1 )
  
  opt_fill( defaults, opts=c( '--foo', 'command-line-foo' ))
  opt_fill( defaults, opts=c( '--foo', 'command-line-foo', '--bar', '9999' ))
 
  defaults &lt;- as.environment(defaults)
  opt_fill( defaults, opts=c( '--foo', 'env-fill', '--bar', '555' ))
  
  str( as.list(defaults) )

</code></pre>

<hr>
<h2 id='opt_get'>Get option's values from the command-line</h2><span id='topic+opt_get'></span><span id='topic+opt_get_gnu'></span><span id='topic+opt_get_ms'></span><span id='topic+opt_get_java'></span><span id='topic+opt_grab'></span>

<h3>Description</h3>

<p>Returns value(s) from the command-line associated with the desired option.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>opt_get(name, default, n, required = FALSE, description = NULL,
  opts = commandArgs(), style = getOption("optigrab")$style)

opt_get_gnu(flag, ...)

opt_get_ms(flag, ...)

opt_get_java(flag, ...)

opt_grab(flag, n = 1, opts = commandArgs())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="opt_get_+3A_name">name</code></td>
<td>
<p>character; vector of possible synonymes for the &quot;flag&quot; that
identifies the option.</p>
</td></tr>
<tr><td><code id="opt_get_+3A_default">default</code></td>
<td>
<p>any; the value(s) provided if the flag is not found 
(default: <code>NA</code> )</p>
</td></tr>
<tr><td><code id="opt_get_+3A_n">n</code></td>
<td>
<p>integer; number of values to retrieve. See Details.
(default: determined by default, see <strong>Details</strong> below.)</p>
</td></tr>
<tr><td><code id="opt_get_+3A_required">required</code></td>
<td>
<p>logical; whether the value is required. If not found or an
incorrect, number of values are found, an error is thrown.
(default: <code>FALSE</code>)</p>
</td></tr>
<tr><td><code id="opt_get_+3A_description">description</code></td>
<td>
<p>(character) message to be printed with <code>opt_help</code></p>
</td></tr>
<tr><td><code id="opt_get_+3A_opts">opts</code></td>
<td>
<p>character; vector to parse for options
(default: <code>commandArgs()</code>)</p>
</td></tr>
<tr><td><code id="opt_get_+3A_style">style</code></td>
<td>
<p>list; list of functions that define the parsing style</p>
</td></tr>
<tr><td><code id="opt_get_+3A_flag">flag</code></td>
<td>
<p>character; vector of possible synonyms for the &quot;flag&quot; that 
identifies the option. These should be given as they would exactly 
appear on the command line.</p>
</td></tr>
<tr><td><code id="opt_get_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>opt_grab</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>These functions support parsing of command arguments work when using
<code>Rscript</code>, a <code>#!</code> on linux systems or <code>R CMD BATCH</code>. By
default, they closely follows the ubiquitous GNU standards for command-line
interfaces.
<code>opt_grab</code> is the workhorse that does the actual parsing. It returns
the options values or <code>NA</code> if it cannot discern
them.  It is currently exported, but this may change in future version
to be an internal function. Its interface is not guarantted.  The user
should use <code>opt_get</code> instead.
</p>
<p><code>opt_get</code> supports default values, automated guessing for <code>n</code> and 
(attempts a) coercion of the return values to the correct class.
</p>


<h3>Value</h3>

<p><code>opt_grab</code> always returns a character; it is either the value for the
flags or <code>NA_character_</code> if if they cannot be parsed.
</p>
<p><code>opt_get</code> returns a value the command-line value as specified by 
the arguments or produces an error if the value could not be 
determined and <code>required==TRUE</code>.
</p>


<h3>Selecting <code>n</code></h3>

<p>Except in rare-caces, the user should not have to specify <code>n</code>. This is 
determined from the value of <code>default</code>. 
</p>
<p>If <code>default</code> is a logical value, i.e. <code>TRUE</code> or <code>FALSE</code>, 
<code>n</code> is assumed to take no arguments. Presents of the flag on the command
line will return <code>TRUE</code>, absense of the flag returns false. 
</p>
<p>If <code>default</code> is another type than logical, <code>n</code> is selected as 
<code>length(default)</code>. 
</p>
<p>If <code>default</code> is missing, <code>n</code> is 1.
</p>


<h3>automatic coercision</h3>

<p>Command-line arguments are character vectors.  If <code>default</code> is supplied
then the <code>opt_get</code> attempts to coerce the values it returns to 
<code>class(default)</code>.  The user might wish to supply the correct methods to 
handle the conversions.
</p>


<h3>side-effects</h3>

<p><code>opt_grab</code> has the additional side-effect of keeping track of the 
arguments. This is useful for keeping track of      
</p>
<p><code>flag</code> is used to identify the command line flag. It can include all 
synonyms for the flags. 
</p>
<p><code>n</code> the number of value(s) to retrieve from the command line.  If 
<code>n=0</code>, then a logical value is returned indicating whether the flag 
exists 
</p>
<p><code>required</code> indicates if a value is required. If the the flag is not 
found and there is no <code>default</code> given or if there is not the correct 
number of value(s) an error is raised.  
</p>
<p><code>opts</code> is the vector from which options are parsed. By default, this is  
<code>commandArgs()</code>.
</p>


<h3>References</h3>

<p><a href="http://www.gnu.org/prep/standards/standards.html">GNU Command Line Standards</a>
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+commandArgs">commandArgs()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  opts &lt;- c( '--foo', 'bar' )
 
  opt_get('foo')
  opt_get( c('foo'), opts=opts )    
  opt_grab( c('--foo'), opts=opts ) 
  
  opt_get_ms( c('foo'), opts=c('/foo', 'bar' ) )
  opt_get_java( c('foo'), opts=c('-foo', 'bar' ) )
  
  
  # Using pipes:
  ## Not run: 
    c('foo', 'f') %&gt;% opt_get('bar')
  
## End(Not run)
  
</code></pre>

<hr>
<h2 id='opt_get_args'>Return arguments to Rscript</h2><span id='topic+opt_get_args'></span>

<h3>Description</h3>

<p>Arguments to a script are those following the <code>--args</code> argument.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>opt_get_args(opts = commandArgs())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="opt_get_args_+3A_opts">opts</code></td>
<td>
<p>character; vector of arguments, (Default: <code>commandArgs()</code>)
</p>
<p>Returns the user provided arguments, i.e. those following (the first) 
<code>--args</code> flag. This is identical to what is done by 
<code>commandArgs( trailingOnly = TRUE )</code> does. This is included an used 
since it supports testing/modifying the <code>commandArgs</code> array.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>character; vector stripping elements preceding and
including (the first) <code>--args</code> flag.
</p>


<h3>See Also</h3>


<ul>
<li> <p><code><a href="base.html#topic+commandArgs">base::commandArgs()</a></code> <br />
</p>
</li>
<li> <p><code><a href="#topic+opt_grab">opt_grab()</a></code> <br />
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>  opt_get_args()
  opt_get_args( opts=c( "Rscript", "-a", "-b", "--args", "-c", 3, "-d" ) )  # "-c" "3" "-d"
  opt_get_args( opts=c( "-a", "-b", "--args", "-c", "--args", "-d" ) )  # "-c" "-d"
  opt_get_args( opts=c( "--foo", "bar") ) 
  
</code></pre>

<hr>
<h2 id='opt_get_path'>Get path current running script</h2><span id='topic+opt_get_path'></span>

<h3>Description</h3>

<p>Get path current running script
</p>


<h3>Usage</h3>

<pre><code class='language-R'>opt_get_path(opts = commandArgs(), full.name = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="opt_get_path_+3A_opts">opts</code></td>
<td>
<p>character; cector from which to parse options
(default: <code>commandArgs()</code> )</p>
</td></tr>
<tr><td><code id="opt_get_path_+3A_full.name">full.name</code></td>
<td>
<p>boolean; expand to full path(?)
</p>
<p><strong> This function is deprecated, use <code>this_file</code> instead.</strong></p>
</td></tr>
</table>


<h3>Value</h3>

<p>character; path to Rscript or <code>NA</code> if there isn't one.
</p>


<h3>References</h3>

<p><a href="http://stackoverflow.com/questions/1815606/rscript-determine-path-of-the-executing-script">http://stackoverflow.com/questions/1815606/rscript-determine-path-of-the-executing-script</a>
</p>


<h3>See Also</h3>


<ul>
<li> <p><code><a href="#topic+opt_grab">opt_grab()</a></code>
</p>
</li>
<li> <p><code><a href="base.html#topic+commandArgs">base::commandArgs()</a></code>
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>  optigrab:::opt_get_path()
  
</code></pre>

<hr>
<h2 id='opt_get_verb'>Get verb from the command line</h2><span id='topic+opt_get_verb'></span>

<h3>Description</h3>

<p>Return the verb for the application. The verb is the first argument that is 
not part of an option.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>opt_get_verb(opts = commandArgs())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="opt_get_verb_+3A_opts">opts</code></td>
<td>
<p>character; Vector from which to parse options
(default: <code>commandArgs()</code> )</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Some applications such as <em>git</em> support command verbs, e.g. <code>push</code>,
<code>fetch</code>, etc. These style arguments can be retrieved by <code>opt_get_verb</code>.
</p>
<p><code>opt_get_verb</code> look for the first unaccounted for options (after
<code>--args</code>). The number of options needed by each flags is determined by
and saved by calls to <code><a href="#topic+opt_get">opt_get()</a></code>. See the details to see how
<code>n</code> is automatically determined.  When not explicitly defined the number
of options needed by each flag is 1.  Becasue of this, it convention to call 
<code>opt_get_verb</code> after all <code>opt_get</code> calls.  For most simple 
applications, it likely doesn't matter.
</p>


<h3>Value</h3>

<p>character of length 1; the verb found from the command-line. 
<code>NA</code> if a verb cannot be identified.
</p>


<h3>Assumptions</h3>

<p><code>opt_get_verb</code> assumes any flags occurring before the verb have 
exactly 1 value. A command line such as &quot;&gt; myscript &ndash;verbose verb&quot; will be 
misparsed; the code will assume that &quot;verb&quot; is the value of the 
flag &quot;&ndash;verbose&quot;
</p>


<h3>See Also</h3>


<ul>
<li> <p><code><a href="#topic+opt_get">opt_get()</a></code>
</p>
</li>
<li> <p><code><a href="base.html#topic+commandArgs">base::commandArgs()</a></code>
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>  opt_get_verb()  # commandArgs()
  
</code></pre>

<hr>
<h2 id='opt_help'>Automatic usage/help information</h2><span id='topic+opt_help'></span>

<h3>Description</h3>

<p>Prints program usage information and, if used non-interactively, exits.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>opt_help(name = c("help", "?"), opts = commandArgs())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="opt_help_+3A_name">name</code></td>
<td>
<p>character; vector of names/aliases to use</p>
</td></tr>
<tr><td><code id="opt_help_+3A_opts">opts</code></td>
<td>
<p>character; vector from which to parse options
(default: <code>commandArgs()</code> )
</p>
<p>Usage information is generated from <code>opt_get</code> calls made prior to
<code>opt_help</code>. <code>opt_help</code> shused will will not be shown.  It is considered best practice to handle all
option parsing in a block at the beginning of the application. <code>opt_help()</code>
would be best placed at the end of that block</p>
</td></tr>
</table>


<h3>Value</h3>

<p>logical; returns <code>TRUE</code> if command-line options contain a help flag,
<code>FALSE</code> otherwise. Mainly <code>opt_help</code> is used for side-effects of
printing usage/help information,
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+commandArgs">base::commandArgs()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  opts &lt;- c( "--foo", "bar")
  optigrab:::opt_grab( "--foo")
  optigrab:::opt_help()

</code></pre>

<hr>
<h2 id='opt_split_args'>Split command arguments</h2><span id='topic+opt_split_args'></span>

<h3>Description</h3>

<p>Splits command argument vector to name, value pairs. 
This is an internal function and should generally not be called 
directly.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>opt_split_args(opts = commandArgs())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="opt_split_args_+3A_opts">opts</code></td>
<td>
<p>character; vector of arguments. (Default: commandArgs())
</p>
<p><code>opt_split_args</code> splits and value containing an equal (=) sign</p>
</td></tr>
</table>


<h3>Note</h3>

<p>non-exported
</p>


<h3>See Also</h3>


<ul>
<li> <p><code><a href="#topic+opt_grab">opt_grab()</a></code>
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>  optigrab:::opt_split_args()
  optigrab:::opt_split_args( opts=c( "--foo=hello", "-b=goodbye") ) 
  
</code></pre>

<hr>
<h2 id='opt_style'>Get or set the optigrab style</h2><span id='topic+opt_style'></span><span id='topic+styles'></span>

<h3>Description</h3>

<p>Get or sets the optigrab style
</p>


<h3>Usage</h3>

<pre><code class='language-R'>opt_style(style)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="opt_style_+3A_style">style</code></td>
<td>
<p>named list; containing the following functions:
<code>flag_test</code>, <code>flag_to_name</code> and <code>name_to_flag</code>
</p>
<p>If <code>style</code> is not specified, <code>opt_style</code> gets the current optigrab
style. If <code>style</code> is provided, it must be a named list containing 
three functions <code>flag_test</code>, <code>flag_to_name</code> and 
<code>name_to_flag</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>style</code> is not provided, returns a list of styles, otherwise used
for the side-effect of setting the option
</p>


<h3>flag_test</h3>

<p>Accepts a character vector and returns a logical vector indicating whether 
the elements are flags.
</p>


<h3>flag_to_name</h3>

<p>Accepts a character vector of flags and turns them into variable names, 
usually by stripping delimiters that indicate that they are flags
</p>


<h3>name_to_flag</h3>

<p>Accepts a character vector of names and transforms them into the flags that
would appear on the command line. This is used by <code><a href="#topic+opt_grab">opt_grab()</a></code>.
</p>


<h3>See Also</h3>

<p><a href="#topic+gnu_style">gnu_style</a>, <a href="#topic+java_style">java_style</a> or <a href="#topic+ms_style">ms_style</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  opt_style() 
  opt_style( optigrab:::gnu_style )
  opt_style( optigrab:::java_style )
  opt_style( optigrab:::ms_style )
  
</code></pre>

<hr>
<h2 id='str_to_opts'>Split a string bases on whitespace</h2><span id='topic+str_to_opts'></span>

<h3>Description</h3>

<p>Split a string based on whitespace ignore single- and double quoted entries
</p>


<h3>Usage</h3>

<pre><code class='language-R'>str_to_opts(x = character())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="str_to_opts_+3A_x">x</code></td>
<td>
<p>character; string to parse as if it is a command line 
</p>
<p>This is an internal function used predominantly for testing. It might be 
deprecated in the near future.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character array that could be similar to that  provided by
<code>commandArgs</code>.
</p>


<h3>Note</h3>

<p>not-exported, by design
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+commandArgs">base::commandArgs()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  ## Not run:  
    str &lt;- 'cmd -t "Say Anything" --character \'Lloyd Dobler\''
    str_to_opts(str)
    split_ws_nonquote(str)
  
## End(Not run)
  
</code></pre>

<hr>
<h2 id='this_file'>this_file</h2><span id='topic+this_file'></span>

<h3>Description</h3>

<p>Name or path to the current file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>this_file(opts = commandArgs(), local = TRUE, full.path = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="this_file_+3A_opts">opts</code></td>
<td>
<p>character; vector of arguments. (Default: <code>commandArgs()</code>)</p>
</td></tr>
<tr><td><code id="this_file_+3A_local">local</code></td>
<td>
<p>logical; if <code>TRUE</code> returns the most currently sourced
script as opposed to the orignal/first source script.
(Default: <code>TRUE</code>)</p>
</td></tr>
<tr><td><code id="this_file_+3A_full.path">full.path</code></td>
<td>
<p>logical; Whetther to return the full path to the sourced
file. (Default: <code>TRUE</code>)</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>this_file</code> returns the name or path of the executing file whehter 
the file was invoked from <strong>Rscript</strong> or in an interactive session. 
Further it <code>source</code> 
</p>
<p>Argument <code>local</code> controls whether it is the current file (<code>TRUE</code>) 
or the orignal, top-level file.
</p>


<h3>Value</h3>

<p>one-element character vector with the path to the current file; 
returns <code>NA</code> is in an interactive session not in a file.
</p>


<h3>References</h3>

<p><a href="http://stackoverflow.com/questions/1815606/rscript-determine-path-of-the-executing-script">http://stackoverflow.com/questions/1815606/rscript-determine-path-of-the-executing-script</a>
</p>


<h3>See Also</h3>


<ul>
<li> <p><code><a href="#topic+opt_grab">opt_grab()</a></code>
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>  this_file()

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package permimp</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {permimp}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#permimp'><p> Random Forest Permutation Importance for random forests</p></a></li>
<li><a href='#permimp-package'>
<p>Conditional Permutation Importance</p></a></li>
<li><a href='#ranks'><p> Reversed Rankings</p></a></li>
<li><a href='#selFreq'><p> Predictor Selection Frequency in Random Forests</p></a></li>
<li><a href='#VarImp'><p> VarImp Objects</p></a></li>
<li><a href='#VarImp-Methods'><p> Methods for VarImp Objects</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Conditional Permutation Importance</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0-2</td>
</tr>
<tr>
<td>Date:</td>
<td>2021-09-13</td>
</tr>
<tr>
<td>Author:</td>
<td>Dries Debeer [aut, cre],
  Torsten Hothorn [aut],
  Carolin Strobl [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Dries Debeer &lt;debeer.dries@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>An add-on to the 'party' package, with a faster implementation 
   of the partial-conditional permutation importance for random forests. The 
   standard permutation importance is implemented exactly the same as in 
   the 'party' package. The conditional permutation importance can be 
   computed faster, with an option to be backward compatible to the 'party' 
   implementation. The package is compatible with random forests fit using the 
   'party' and the 'randomForest' package. The methods are described in
   Strobl et al. (2007) &lt;<a href="https://doi.org/10.1186%2F1471-2105-8-25">doi:10.1186/1471-2105-8-25</a>&gt; and 
   Debeer and Strobl (2020) &lt;<a href="https://doi.org/10.1186%2Fs12859-020-03622-2">doi:10.1186/s12859-020-03622-2</a>&gt;.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.6.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>graphics, grDevices, ipred (&ge; 0.9-6), methods, party (&ge;
1.3-3), randomForest (&ge; 4.6-14), stats, survival (&ge;
2.44-1.1), utils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, scales (&ge; 0.5.0), testthat</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-09-13 14:08:44 UTC; u0067731</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-09-13 17:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='permimp'> Random Forest Permutation Importance for random forests</h2><span id='topic+permimp'></span><span id='topic+permimp.randomForest'></span><span id='topic+permimp.RandomForest'></span>

<h3>Description</h3>

<p>Standard and partial/conditional permutation importance for 
random forest-objects fit using the <span class="pkg">party</span> or <span class="pkg">randomForest</span> 
packages, following the permutation principle of the 'mean decrease in 
accuracy' importance in <span class="pkg">randomForest</span> . The partial/conditional permutation
importance is implemented differently, selecting the predictions to condition 
on in each tree using Pearson Chi-squared tests applied to the 
by-split point-categorized predictors. In general the new implementation has
similar results as the original <code>varimp</code> function. With 
<code>asParty = TRUE</code>, the partial/conditional permutation importance is 
fully backward-compatible but faster than the original <code>varimp</code>
function in <span class="pkg">party</span>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'> 
permimp(object, ...)
## S3 method for class 'randomForest'
permimp(object, nperm = 1, OOB = TRUE, scaled = FALSE,
     conditional = FALSE, threshold = .95, whichxnames = NULL,   
     thresholdDiagnostics = FALSE, progressBar = TRUE,  do_check = TRUE, ...)
## S3 method for class 'RandomForest'
permimp(object, nperm = 1, OOB = TRUE, scaled = FALSE,
     conditional = FALSE, threshold = .95, whichxnames = NULL,   
     thresholdDiagnostics = FALSE, progressBar = TRUE, 
     pre1.0_0 = conditional, AUC = FALSE, asParty = FALSE, mincriterion = 0, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="permimp_+3A_object">object</code></td>
<td>
<p> an object as returned by <code>cforest</code> or <code>randomForest</code>.</p>
</td></tr>
<tr><td><code id="permimp_+3A_mincriterion">mincriterion</code></td>
<td>
<p> the value of the test statistic or 1 - p-value that
must be exceeded in order to include a split in the 
computation of the importance. The default 
<code>mincriterion = 0</code> guarantees that all splits 
are included.</p>
</td></tr>
<tr><td><code id="permimp_+3A_conditional">conditional</code></td>
<td>
<p> a logical that determines whether unconditional or conditional 
permutation is performed. </p>
</td></tr>
<tr><td><code id="permimp_+3A_threshold">threshold</code></td>
<td>
<p> the threshold value for (1 - p-value) of the association 
between the predictor of interest and another predictor, which 
must be exceeded in order to include the other predictor in 
the conditioning scheme for the predictor of interest (only
relevant if <code>conditional = TRUE</code>). A threshold value of 
zero includes all other predictors.</p>
</td></tr>
<tr><td><code id="permimp_+3A_nperm">nperm</code></td>
<td>
<p> the number of permutations performed.</p>
</td></tr>
<tr><td><code id="permimp_+3A_oob">OOB</code></td>
<td>
<p> a logical that determines whether the importance is computed from 
the out-of-bag sample or the learning sample (not suggested).</p>
</td></tr>
<tr><td><code id="permimp_+3A_pre1.0_0">pre1.0_0</code></td>
<td>
<p> Prior to <span class="pkg">party</span> version 1.0-0, the actual data values
were permuted according to the original permutation
importance suggested by Breiman (2001). Now the assignments
to child nodes of splits in the variable of interest
are permuted as described by Hapfelmeier et al. (2012),
which allows for missing values in the predictors and is
more efficient with respect to memory consumption and 
computing time. This method does not apply to the conditional
permutation importance, nor to random forests that were not
fit using the <span class="pkg">party</span> package.</p>
</td></tr> 
<tr><td><code id="permimp_+3A_scaled">scaled</code></td>
<td>
<p> a logical that determines whether the differences in prediction
accuracy should be scaled by the total (null-model) error.</p>
</td></tr>
<tr><td><code id="permimp_+3A_auc">AUC</code></td>
<td>
<p> a logical that determines whether the Area Under the Curve (AUC)
instead of the accuracy is used to compute the permutation 
importance (cf. Janitza et al., 2012). The AUC-based permutation 
importance is more robust towards class imbalance, but it is 
only applicable to binary classification.</p>
</td></tr>
<tr><td><code id="permimp_+3A_asparty">asParty</code></td>
<td>
<p> a logical that determines whether or not exactly the same 
values as the original <code>varimp</code> function in 
<span class="pkg">party</span> should be obtained.</p>
</td></tr>
<tr><td><code id="permimp_+3A_whichxnames">whichxnames</code></td>
<td>
<p> a character vector containing the predictor variable 
names for which the permutation importance should be 
computed. Only use when aware of the implications, see 
section 'Details'.</p>
</td></tr>  
<tr><td><code id="permimp_+3A_thresholddiagnostics">thresholdDiagnostics</code></td>
<td>
<p> a logical that specifies whether diagnostics 
with respect to the threshold-value should be 
prompted as warnings.</p>
</td></tr>
<tr><td><code id="permimp_+3A_progressbar">progressBar</code></td>
<td>
<p> a logical that determines whether a progress bar should 
be displayed.</p>
</td></tr>
<tr><td><code id="permimp_+3A_do_check">do_check</code></td>
<td>
<p> a logical that determines whether a check requiring user 
input should be included.</p>
</td></tr>                    
<tr><td><code id="permimp_+3A_...">...</code></td>
<td>
<p> additional arguments to be passed to the Methods</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function <code>permimp</code> is highly comparable to <code>varimp</code> in <span class="pkg">party</span>,
but the partial/conditional variable importance has a different, more efficient
implementation. Compared to the original <code>varimp</code> in <span class="pkg">party</span>, 
<code>permimp</code> applies a different strategy to select the predictors to condition 
on (ADD REFERENCE TO PAPER). 
</p>
<p>With <code>asParty = TRUE</code>, permimp returns exactly the same values as 
<code>varimp</code> in <span class="pkg">party</span>, but the computation is done more efficiently.
</p>
<p>If <code>conditional = TRUE</code>, the importance of each variable is computed by
permuting within a grid defined by the predictors that are associated  
(with 1 - p-value greater than <code>threshold</code>) to the variable of interest. 
The <code>threshold</code> can be interpreted as a parameter that moves the permutation 
importance across a dimension from fully conditional (<code>threshold = 0</code>) to
completely unconditional (<code>threshold = 1</code>), see Debeer and Strobl (2020). 
</p>
<p>Using the <code>wichxnames</code> argument, the computation of the permutation importance
can be limited to a smaller number of specified predictors. Note, however, that when
<code>conditional = TRUE</code>, the (other) predictors to condition on are also 
limited to this selection of predictors. Only use when fully aware of the 
implications.
</p>
<p>For further details, please refer to the documentation of <code>varimp</code>.
</p>


<h3>Value</h3>

<p>An object of class <code><a href="#topic+VarImp">VarImp</a></code>, with the mean decrease in accuracy 
as its <code>$values</code>. 
</p>


<h3>References</h3>

 
<p>Leo Breiman (2001). Random Forests. <em>Machine Learning</em>, 45(1), 5&ndash;32.
</p>
<p>Alexander Hapfelmeier, Torsten Hothorn, Kurt Ulm, and Carolin Strobl (2012).
A New Variable Importance Measure for Random Forests with Missing Data.
<em>Statistics and Computing</em>, <a href="https://link.springer.com/article/10.1007/s11222-012-9349-1">https://link.springer.com/article/10.1007/s11222-012-9349-1</a>
</p>
<p>Torsten Hothorn, Kurt Hornik, and Achim Zeileis (2006b). Unbiased
Recursive Partitioning: A Conditional Inference Framework.
<em>Journal of Computational and Graphical Statistics</em>, <b>15</b> (3),
651-674.  Preprint available from 
<a href="https://www.zeileis.org/papers/Hothorn+Hornik+Zeileis-2006.pdf">https://www.zeileis.org/papers/Hothorn+Hornik+Zeileis-2006.pdf</a>
</p>
<p>Silke Janitza, Carolin Strobl and Anne-Laure Boulesteix (2013). An AUC-based
Permutation Variable Importance Measure for Random Forests. 
BMC Bioinformatics.2013, <b>14</b> 119.
<a href="https://bmcbioinformatics.biomedcentral.com/articles/10.1186/1471-2105-14-119">https://bmcbioinformatics.biomedcentral.com/articles/10.1186/1471-2105-14-119</a>
</p>
<p>Carolin Strobl, Anne-Laure Boulesteix, Thomas Kneib, Thomas Augustin, and 
Achim Zeileis (2008). Conditional Variable Importance for Random Forests. 
<em>BMC Bioinformatics</em>, <b>9</b>, 307. 
<a href="https://bmcbioinformatics.biomedcentral.com/articles/10.1186/1471-2105-9-307">https://bmcbioinformatics.biomedcentral.com/articles/10.1186/1471-2105-9-307</a>
</p>
<p>Debeer Dries and Carolin Strobl (2020). Conditional Permutation Importance 
Revisited. <em>BMC Bioinformatics</em>, <b>21</b>, 307. 
<a href="https://bmcbioinformatics.biomedcentral.com/articles/10.1186/s12859-020-03622-2">https://bmcbioinformatics.biomedcentral.com/articles/10.1186/s12859-020-03622-2</a>
</p>


<h3>See Also</h3>

<p><code>varimp</code>, <code><a href="#topic+VarImp">VarImp</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  
  ### for RandomForest-objects, by party::cforest()  
  set.seed(290875)
  readingSkills.cf &lt;- party::cforest(score ~ ., data = party::readingSkills, 
                              control = party::cforest_unbiased(mtry = 2, ntree = 25))
  
  ### conditional importance, may take a while...
  # party implementation:
  set.seed(290875)
  party::varimp(readingSkills.cf, conditional = TRUE)
  # faster implementation but same results
  set.seed(290875)
  permimp(readingSkills.cf, conditional = TRUE, asParty = TRUE)
  
  # different implementation with similar results
  set.seed(290875)
  permimp(readingSkills.cf, conditional = TRUE, asParty = FALSE)
  
  ### standard (unconditional) importance is unchanged
  set.seed(290875)
  party::varimp(readingSkills.cf)
  set.seed(290875)
  permimp(readingSkills.cf)
  
  
  ###
  set.seed(290875)
  readingSkills.rf &lt;- randomForest::randomForest(score ~ ., data = party::readingSkills, 
                              mtry = 2, ntree = 25, importance = TRUE, 
                              keep.forest = TRUE, keep.inbag = TRUE)
                              
    
  ### (unconditional) Permutation Importance
  set.seed(290875)
  permimp(readingSkills.rf, do_check = FALSE)
  
  # very close to
  readingSkills.rf$importance[,1]
  
  ### Conditional Permutation Importance
  set.seed(290875)
  permimp(readingSkills.rf, conditional = TRUE, threshold = .8, do_check = FALSE)
                              
  
</code></pre>

<hr>
<h2 id='permimp-package'>
Conditional Permutation Importance
</h2><span id='topic+permimp-package'></span>

<h3>Description</h3>

<p>An add-on to the 'party' package, with a faster implementation 
   of the partial-conditional permutation importance for random forests. The 
   standard permutation importance is implemented exactly the same as in 
   the 'party' package. The conditional permutation importance can be 
   computed faster, with an option to be backward compatible to the 'party' 
   implementation. The package is compatible with random forests fit using the 
   'party' and the 'randomForest' package. The methods are described in
   Strobl et al. (2007) &lt;doi:10.1186/1471-2105-8-25&gt; and 
   Debeer and Strobl (2020) &lt;doi:10.1186/s12859-020-03622-2&gt;.
</p>


<h3>Details</h3>


<p>Index of help topics:
</p>
<pre>
VarImp                  VarImp Objects
VarImp-methods          Methods for VarImp Objects
permimp                 Random Forest Permutation Importance for random
                        forests
permimp-package         Conditional Permutation Importance
ranks                   Reversed Rankings
selFreq                 Predictor Selection Frequency in Random Forests
</pre>


<h3>Author(s)</h3>

<p>Maintainer: Dries Debeer <a href="mailto:dries.debeer@uzh.ch">dries.debeer@uzh.ch</a>
</p>
<p>Authors:
</p>

<ul>
<li><p> Carolin Strobl
</p>
</li>
<li><p> Torsten Hothorn
</p>
</li></ul>


<hr>
<h2 id='ranks'> Reversed Rankings </h2><span id='topic+ranks'></span><span id='topic+ranks.default'></span><span id='topic+ranks.VarImp'></span>

<h3>Description</h3>

<p>Method for giving the reversed rankings of the numerical values of a vector or VarImp object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'> 
   ranks(x, note = TRUE, ...)
## Default S3 method:
ranks(x, note = TRUE, ...)
## S3 method for class 'VarImp'
ranks(x, note = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ranks_+3A_x">x</code></td>
<td>
<p> an object to be reverse ranked.</p>
</td></tr>
<tr><td><code id="ranks_+3A_note">note</code></td>
<td>
<p> a logical specifying whether the (reversed) rankings should be 
printed instead of the importance values.</p>
</td></tr>
<tr><td><code id="ranks_+3A_...">...</code></td>
<td>
<p> additional arguments to be passed to <code><a href="base.html#topic+rank">rank</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>ranks</code> function is nothing more than 
<code>(length(x) - rank(x, ...) + 1L)</code>. But it also works for objects of class
<code><a href="#topic+VarImp">VarImp</a></code>.
</p>


<h3>Value</h3>

<p>A vector containing the reversed rankings.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  ## High Jump data
  HighJumps &lt;- c(Anna = 1.45, Betty = 1.53, Cara = 1.37, Debby = 1.61, 
                 Emma = 1.29, Hanna = 1.44, Juno = 1.71)
  HighJumps
  ## ranking of high jump data
  ranks(HighJumps)
</code></pre>

<hr>
<h2 id='selFreq'> Predictor Selection Frequency in Random Forests </h2><span id='topic+selFreq'></span>

<h3>Description</h3>

<p>counts how many times each predictor variable was selected for splitting
in a random forest. Only implemented for <code>cforest</code> form the <span class="pkg">party</span>
package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'> 
selFreq(object, whichxnames = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="selFreq_+3A_object">object</code></td>
<td>
<p> an object as returned by <code>cforest</code>.</p>
</td></tr>
<tr><td><code id="selFreq_+3A_whichxnames">whichxnames</code></td>
<td>
<p> a character vector containing the predictor variable names that for 
which the permutation importance should be computed. See section 'Details'.</p>
</td></tr> 
</table>


<h3>Details</h3>

<p>Function <code>selFreq</code> counts how many times each predictor variable was 
selected for splitting in a random forest. In the current implementation this 
<code>selFreq</code> can only be applied to random forests as returned by 
<code>cforest</code>.
</p>


<h3>Value</h3>

<p>An object of class <code><a href="#topic+VarImp">VarImp</a></code>, with as <code>$values</code> the mean of
the sum of the selection frequencies across the trees. 
</p>


<h3>See Also</h3>

<p><code><a href="#topic+VarImp">VarImp</a></code>,
</p>


<h3>Examples</h3>

<pre><code class='language-R'>    
  set.seed(290875)
  readingSkills.cf &lt;- party::cforest(score ~ ., data = party::readingSkills, 
                              control = party::cforest_unbiased(mtry = 2, ntree = 100))
  
  ## Selection Frequency
  selFreq(readingSkills.cf)

</code></pre>

<hr>
<h2 id='VarImp'> VarImp Objects </h2><span id='topic+VarImp'></span><span id='topic+as.VarImp'></span><span id='topic+as.VarImp.data.frame'></span><span id='topic+as.VarImp.matrix'></span><span id='topic+as.VarImp.numeric'></span><span id='topic+is.VarImp'></span>

<h3>Description</h3>

<p>A class for random forest variable importance measures <code><a href="#topic+VarImp">VarImp</a></code> objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.VarImp(object, ...)

## S3 method for class 'data.frame'
## S3 method for class 'data.frame'
as.VarImp(object, FUN = mean,
             type = c("Permutation", "Conditional Permutation", 
                      "Selection Frequency", "See Info"), 
             info = NULL, ...)

## S3 method for class 'matrix'
## S3 method for class 'matrix'
as.VarImp(object, FUN = mean,
             type = c("Permutation", "Conditional Permutation", 
                      "Selection Frequency", "See Info"), 
             info = NULL, ...)
              
## S3 method for class 'numeric'
## S3 method for class 'numeric'
as.VarImp(object, perTree = NULL, 
              type = c("Permutation", "Conditional Permutation", 
                       "Selection Frequency", "See Info"), 
              info = NULL, ...)
              
is.VarImp(VarImp)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="VarImp_+3A_object">object</code></td>
<td>
<p> an R object.</p>
</td></tr>
<tr><td><code id="VarImp_+3A_pertree">perTree</code></td>
<td>
<p> a matrix or data frame of size <code>ntree x p</code> containing 
the variable importance measures for each tree in the random forest.</p>
</td></tr>
<tr><td><code id="VarImp_+3A_type">type</code></td>
<td>
<p> a character indicating the type of variable importance measure.</p>
</td></tr>
<tr><td><code id="VarImp_+3A_info">info</code></td>
<td>
<p> a list with additional information about the variable 
importance measure.</p>
</td></tr>
<tr><td><code id="VarImp_+3A_fun">FUN</code></td>
<td>
<p> a function to compute the variable importance. See section 'Details'.</p>
</td></tr>
<tr><td><code id="VarImp_+3A_varimp">VarImp</code></td>
<td>
<p> an object of the class <code><a href="#topic+VarImp">VarImp</a></code>.</p>
</td></tr>
<tr><td><code id="VarImp_+3A_...">...</code></td>
<td>
<p> additional arguments.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>as.VarImp</code> creates an object of class 'VarImp'. When <code>object</code> is a 
<code><a href="base.html#topic+matrix">matrix</a></code> or a <code><a href="base.html#topic+data.frame">data.frame</a></code>, the final values 
are computed by applying <code>FUN</code> to its columns. <code>is.VarImp</code> 
returns a logical indicating whether the evaluated object is of class
'VarImp'.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+VarImp-methods">VarImp-methods</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  ## Matrix of fake importance measures per Tree  
  set.seed(290875)
  ntree &lt;- 500
  p &lt;- 15
  fakeVIM &lt;- matrix(rnorm(ntree * p), nrow = ntree, ncol = p,
                    dimnames = list(paste0("pred", seq_len(ntree)), paste0("pred", seq_len(p))))
  is.VarImp(fakeVIM)
  
  ## make a 'VarImp' object
  fakeVarImp &lt;- as.VarImp(fakeVIM, type = "See Info", 
                    info = list("The Vims are based on fake data.", 
                    "The mean was used to aggregate across the trees")) 
  is.VarImp(fakeVarImp)
</code></pre>

<hr>
<h2 id='VarImp-Methods'> Methods for VarImp Objects </h2><span id='topic+VarImp-methods'></span><span id='topic+plot.VarImp'></span><span id='topic+print.VarImp'></span><span id='topic+subset.VarImp'></span>

<h3>Description</h3>

<p>Methods for computing on <code><a href="#topic+VarImp">VarImp</a></code> objects..
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'VarImp'
plot(x, nVar = length(x$values), type = c("bar", "box", "dot", "rank"),
                      sort = TRUE, interval = c( "no", "quantile", "sd"), 
                      intervalProbs = c(.25, .75), intervalColor = NULL, 
                      horizontal = FALSE, col = NULL, pch = NULL, 
                      main = NULL, margin = NULL, ...)
## S3 method for class 'VarImp'
print(x, ranks = FALSE, ...)
## S3 method for class 'VarImp'
subset(x, subset, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="VarImp-Methods_+3A_x">x</code></td>
<td>
<p> an object of the class <code><a href="#topic+VarImp">VarImp</a></code>.</p>
</td></tr>
<tr><td><code id="VarImp-Methods_+3A_nvar">nVar</code></td>
<td>
<p> an integer specifying the number of predictor variables that should be 
included in the plot. The <code>nVar</code> predictor variables with the 
highest variable importance measure are retained.</p>
</td></tr>
<tr><td><code id="VarImp-Methods_+3A_type">type</code></td>
<td>
<p> a character string that indicates the type of plot. Must be one of the
following: &quot;bar&quot;, &quot;box&quot;, &quot;dot&quot; or &quot;rank&quot; (see Details). </p>
</td></tr>
<tr><td><code id="VarImp-Methods_+3A_sort">sort</code></td>
<td>
<p> a logical that specifies whether the predictors should be ranked according 
to the importance measures.</p>
</td></tr>
<tr><td><code id="VarImp-Methods_+3A_interval">interval</code></td>
<td>
<p> a character string that indicates if, and which type of intervals
should be added to the plot. Must be one of the following: <code>"no"</code>, 
<code>"quantile"</code>, or <code>"sd"</code> (see Details).</p>
</td></tr>
<tr><td><code id="VarImp-Methods_+3A_intervalprobs">intervalProbs</code></td>
<td>
<p> a numerical vector of the form c(bottom, top), specifying 
the two quantiles that should be used for the interval. 
Only meaningful when <code>interval = "quantile"</code>.</p>
</td></tr>
<tr><td><code id="VarImp-Methods_+3A_intervalcolor">intervalColor</code></td>
<td>
<p> a color code or name, see <code><a href="graphics.html#topic+par">par</a></code>. </p>
</td></tr>
<tr><td><code id="VarImp-Methods_+3A_horizontal">horizontal</code></td>
<td>
<p> a logical that specifies whether the plot should be horizontal 
(= importance values on the x-axis. The default is <code>FALSE</code>. </p>
</td></tr>
<tr><td><code id="VarImp-Methods_+3A_col">col</code></td>
<td>
<p> a color code or name, see <code><a href="graphics.html#topic+par">par</a></code>. </p>
</td></tr>
<tr><td><code id="VarImp-Methods_+3A_pch">pch</code></td>
<td>
<p> Either a single character or an integer code specifying the plotting 
'character', see <code><a href="graphics.html#topic+par">par</a></code>. </p>
</td></tr>
<tr><td><code id="VarImp-Methods_+3A_main">main</code></td>
<td>
<p> an overall title for the plot: see <code><a href="graphics.html#topic+title">title</a></code>.</p>
</td></tr>
<tr><td><code id="VarImp-Methods_+3A_margin">margin</code></td>
<td>
<p> a numerical vector of the form <code>c(bottom, left, top, right)</code>, 
which gives the number of lines of margin to be specified on the 
four sides of the plot. See <code><a href="graphics.html#topic+par">par</a></code>.</p>
</td></tr> 
<tr><td><code id="VarImp-Methods_+3A_ranks">ranks</code></td>
<td>
<p> a logical specifying whether the (reversed) rankings should be 
printed instead of the importance values.</p>
</td></tr>
<tr><td><code id="VarImp-Methods_+3A_subset">subset</code></td>
<td>
<p> a character, integer or logical vector, specifying the subset of 
predictor variables.</p>
</td></tr>		  
<tr><td><code id="VarImp-Methods_+3A_...">...</code></td>
<td>
<p> additional arguments.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>plot</code> gives visualization of the variable importance values. <code>print</code> prints the importance values, or their (reversed) rankings if <code>ranks = TRUE</code>. <code>ranks</code> returns the reversed rankings of the variable importance values. The <code>subset</code> method for VarImp objects returns a VarImp object for only a subset of the original predictors in the random forest.
</p>
<p>In <code>plot</code>, the <code>type = "bar"</code> results in a barplot, <code>type = "dot"</code> in a point-plot, <code>type = "rank"</code> in a point-plot with the importance rankings as the plotting 'characters', see <code><a href="#topic+ranks">ranks</a></code>. In each of these three options an interval (based on either two quantiles or on the standard deviation of the <code>perTree</code> values) can be added to the plot. <code>type = "box"</code> results in boxplots, and is only meaningful when <code>perTree</code> values are available.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+VarImp">VarImp</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  ## Fit a random forest (using cforest)   
  set.seed(290875)
  readingSkills.cf &lt;- party::cforest(score ~ ., data = party::readingSkills, 
                              control = party::cforest_unbiased(mtry = 2, ntree = 50))
  
  ## compute permutation variable importance:
  set.seed(290875)
  permVIM &lt;- permimp(readingSkills.cf)
  
  ## print the variable importance values
  permVIM
  print(permVIM, ranks = TRUE)
  ranks(permVIM)
  
  ## Visualize the variable importance values
  plot(permVIM, type = "bar", margin = c(6,3,3,1))
  plot(permVIM, nVar = 2, type = "box", horizontal = TRUE)
  
  ## note the rankings
  plot(subset(permVIM, c("age", "nativeSpeaker")), intervalColor = "pink")
  plot(subset(permVIM, c("shoeSize", "nativeSpeaker")), intervalColor = "pink")
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

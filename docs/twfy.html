<!DOCTYPE html><html lang="en"><head><title>Help for package twfy</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {twfy}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#twfy'><p>twfy: A package for accessing TheyWorkForYou</p></a></li>
<li><a href='#call_api'><p>Call the API directly</p></a></li>
<li><a href='#convertURL'><p>Convert URL</p></a></li>
<li><a href='#get_api_key'><p>Get the API key</p></a></li>
<li><a href='#getBoundary'><p>Get constituency boundary information as KML</p></a></li>
<li><a href='#getComments'><p>Get comments left on TheyWorkForYou</p></a></li>
<li><a href='#getCommittee'><p>Get members of a Parliamentary Select Committee</p></a></li>
<li><a href='#getConstituencies'><p>Get constituency names</p></a></li>
<li><a href='#getConstituency'><p>Get information for a constituency</p></a></li>
<li><a href='#getDebates'><p>Get information about parliamentary debates</p></a></li>
<li><a href='#getGeometry'><p>Return geometry information for a constituency</p></a></li>
<li><a href='#getHansard'><p>Search Hansard</p></a></li>
<li><a href='#getLord'><p>Get information about a Lord</p></a></li>
<li><a href='#getLords'><p>Get information about Lords</p></a></li>
<li><a href='#getMLA'><p>Get information on a Member of the Legislative Assembly (Northern Ireland)</p></a></li>
<li><a href='#getMLAs'><p>Get information on Members of the Legislative Assembly (Northern Ireland)</p></a></li>
<li><a href='#getMP'><p>Get information about a Member of Parliament</p></a></li>
<li><a href='#getMPInfo'><p>Get more information about a Member of Parliament</p></a></li>
<li><a href='#getMPs'><p>Get information about Members of Parliament</p></a></li>
<li><a href='#getMPsInfo'><p>Get more information about a Member of Parliament</p></a></li>
<li><a href='#getMSP'><p>Get information on a Member of the Scottish Parliament</p></a></li>
<li><a href='#getMSPs'><p>Get information about Members of the Scottish Parliament</p></a></li>
<li><a href='#getPerson'><p>Get information about a person</p></a></li>
<li><a href='#getWMS'><p>Get written ministerial responses</p></a></li>
<li><a href='#getWrans'><p>Get written answers to questions</p></a></li>
<li><a href='#set_api_key'><p>Set the API key</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Drive the API for TheyWorkForYou</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>An R wrapper around the API of TheyWorkForYou, a parliamentary 
    monitoring site that scrapes and repackages Hansard (the UK's parliamentary 
    record) and augments it with information from the Register of Members' 
    Interests, election results, and voting records to provide a unified 
    source of information about UK legislators and their activities. See 
    <a href="http://www.theyworkforyou.com">http://www.theyworkforyou.com</a> for details.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://conjugateprior.github.io/twfy">https://conjugateprior.github.io/twfy</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/conjugateprior/twfy/issues">https://github.com/conjugateprior/twfy/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.0.0)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Imports:</td>
<td>httr, jsonlite</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.0.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2017-06-26 14:37:49 UTC; wlowe</td>
</tr>
<tr>
<td>Author:</td>
<td>Will Lowe [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Will Lowe &lt;wlowe@princeton.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2017-06-26 16:37:19 UTC</td>
</tr>
</table>
<hr>
<h2 id='twfy'>twfy: A package for accessing TheyWorkForYou</h2><span id='topic+twfy'></span><span id='topic+twfy-package'></span>

<h3>Description</h3>

<p>twfy is an R wrapper around the API of TheyWorkForYou, a parliamentary
monitoring site that scrapes and repackages Hansard (the UK's parliamentary
record) and augments it with information from the Register of Members'
Interests, election results, and voting records to provide a unified
source of information about UK legislators and their activities.                                                    &lt;http://www.theyworkforyou.com&gt; for details.
</p>


<h3>Details</h3>

<p>twfy functions currently mirror the structure and naming scheme of the API
as documented at <a href="http://theyworkforyou.com/api/">http://theyworkforyou.com/api/</a>. While the package
attempts where possible to provide more detail on structure of the API's
return values, this is not guaranteed to be correct and the link above
should be your primary source of documentation.
</p>

<hr>
<h2 id='call_api'>Call the API directly</h2><span id='topic+call_api'></span>

<h3>Description</h3>

<p>All the other functions call this one - it's exported only
for debugging purposes - so use them instead.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>call_api(endpoint, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="call_api_+3A_endpoint">endpoint</code></td>
<td>
<p>Function name e.g. 'getConstituencies'</p>
</td></tr>
<tr><td><code id="call_api_+3A_...">...</code></td>
<td>
<p><code>endpoint</code>'s (often optional) named arguments</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If you're really curious about implementation, read on.
Each API function introspects to see what its function name
is, bundles up its named arguments, and calls this function with them.
Consequently, aside from a bit of argument checking and/or return value
massaging, every function is implemented exactly the same way.
</p>


<h3>Value</h3>

<p>Response content, as unserialized by <code>jsonlite::fromJSON</code>
</p>

<hr>
<h2 id='convertURL'>Convert URL</h2><span id='topic+convertURL'></span>

<h3>Description</h3>

<p>Converts a parliament.uk Hansard URL into a
TheyWorkForYou one, if possible.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convertURL(url)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="convertURL_+3A_url">url</code></td>
<td>
<p>url you want to convert</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A one row data.frame with columns <code>gid</code> and <code>url</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

site &lt;- "http://www.publications.parliament.uk"
page &lt;- "/pa/cm201212/cmhansrd/cm120418/debtext/120418-0001.htm"
in_page &lt;- "#12041847002086"
address &lt;- paste0(site, page, in_page)

res &lt;- convertURL(address)
names(res) # gid, url

## End(Not run)
</code></pre>

<hr>
<h2 id='get_api_key'>Get the API key</h2><span id='topic+get_api_key'></span>

<h3>Description</h3>

<p>Get the current API key or request it if not present.  When you provide a key
it will be stored as a local environment variable <code>TWFY_API_KEY</code> and also
in your <code>~/.Renviron</code>, making it available for all subsequent R sessions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_api_key()
</code></pre>


<h3>Details</h3>

<p>API keys can be requested at <a href="http://theyworkforyou.com/api/key">http://theyworkforyou.com/api/key</a>.
</p>


<h3>Value</h3>

<p>The current API key
</p>

<hr>
<h2 id='getBoundary'>Get constituency boundary information as KML</h2><span id='topic+getBoundary'></span>

<h3>Description</h3>

<p>Get constituency boundary information as KML
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getBoundary(name)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getBoundary_+3A_name">name</code></td>
<td>
<p>Name of constituency</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector full of KML (an XML dialect)
</p>

<hr>
<h2 id='getComments'>Get comments left on TheyWorkForYou</h2><span id='topic+getComments'></span>

<h3>Description</h3>

<p>Get comments left on TheyWorkForYou
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getComments(start_date = NULL, end_date = NULL, search = NULL,
  pid = NULL, page = NULL, num = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getComments_+3A_start_date">start_date</code></td>
<td>
<p>Beginning date</p>
</td></tr>
<tr><td><code id="getComments_+3A_end_date">end_date</code></td>
<td>
<p>End date</p>
</td></tr>
<tr><td><code id="getComments_+3A_search">search</code></td>
<td>
<p>A search string</p>
</td></tr>
<tr><td><code id="getComments_+3A_pid">pid</code></td>
<td>
<p>A person identifier</p>
</td></tr>
<tr><td><code id="getComments_+3A_page">page</code></td>
<td>
<p>which page of results to provide. Defaults to first page</p>
</td></tr>
<tr><td><code id="getComments_+3A_num">num</code></td>
<td>
<p>Number of results to return</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing data.frames with columns </p>

<ul>
<li><p><code>comment_id</code>Comment identifier
</p>
</li>
<li><p><code>user_id</code>User identifier
</p>
</li>
<li><p><code>epobject_id</code>
</p>
</li>
<li><p><code>body</code>Text of comment
</p>
</li>
<li><p><code>posted</code>date and time posted
</p>
</li>
<li><p><code>major</code>
</p>
</li>
<li><p><code>gid</code>
</p>
</li>
<li><p><code>firstname</code>Commenter's first name
</p>
</li>
<li><p><code>lastname</code>Commenter's last name
</p>
</li>
<li><p><code>url</code>URL of the comment
</p>
</li>
<li><p><code>useurl</code>URL endpoint for commenter
</p>
</li></ul>


<hr>
<h2 id='getCommittee'>Get members of a Parliamentary Select Committee</h2><span id='topic+getCommittee'></span>

<h3>Description</h3>

<p>If <code>name</code> is not specified, all committees and their members are
returned.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getCommittee(name = NULL, date = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getCommittee_+3A_name">name</code></td>
<td>
<p>Name of the committee. Partial names will be matched.</p>
</td></tr>
<tr><td><code id="getCommittee_+3A_date">date</code></td>
<td>
<p>Date for which the committee membership is required</p>
</td></tr>
</table>


<h3>Details</h3>

<p>TheyWorkForYou notes that &quot;We have no information since the
2010 general election, and information before may be inaccurate.&quot;
</p>


<h3>Value</h3>

<p>A data.frame of committee members, and also committees if <code>name</code> is
not specified.
</p>

<hr>
<h2 id='getConstituencies'>Get constituency names</h2><span id='topic+getConstituencies'></span>

<h3>Description</h3>

<p>Get constituency names
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getConstituencies(date = NULL, search = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getConstituencies_+3A_date">date</code></td>
<td>
<p>Date for which constituency names are required</p>
</td></tr>
<tr><td><code id="getConstituencies_+3A_search">search</code></td>
<td>
<p>Search string</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data.frame with single column <code>name</code> containing
constituency names
</p>

<hr>
<h2 id='getConstituency'>Get information for a constituency</h2><span id='topic+getConstituency'></span>

<h3>Description</h3>

<p>Get information for a constituency
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getConstituency(name = NULL, postcode = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getConstituency_+3A_name">name</code></td>
<td>
<p>Name of constituency</p>
</td></tr>
<tr><td><code id="getConstituency_+3A_postcode">postcode</code></td>
<td>
<p>A postcode
</p>
<p>One of <code>name</code> or <code>postcode</code> is required.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame with columns
</p>

<ul>
<li><p><code>name</code>Constituency name
</p>
</li>
<li><p><code>pa_id</code>Constituency identifier
</p>
</li>
<li><p><code>bbc_constituency_id</code>BBC numeric identifier
</p>
</li>
<li><p><code>guardian_election_results</code>URL for election results
</p>
</li>
<li><p><code>guardian_id</code>Guardian numeric identifier
</p>
</li>
<li><p><code>guardian_name</code>Guardian name identifier
</p>
</li></ul>


<hr>
<h2 id='getDebates'>Get information about parliamentary debates</h2><span id='topic+getDebates'></span>

<h3>Description</h3>

<p>Get information about parliamentary debates
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getDebates(type = c("commons", "westminsterhall", "lords", "scotland",
  "northernireland"), date = NULL, search = NULL, person = NULL,
  gid = NULL, order = c("d", "r"), page = NULL, num = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getDebates_+3A_type">type</code></td>
<td>
<p>location of the debate. Defaults to the House of Commons</p>
</td></tr>
<tr><td><code id="getDebates_+3A_date">date</code></td>
<td>
<p>Date on which debates are required</p>
</td></tr>
<tr><td><code id="getDebates_+3A_search">search</code></td>
<td>
<p>A search string</p>
</td></tr>
<tr><td><code id="getDebates_+3A_person">person</code></td>
<td>
<p>A person identifier to specify which speaker's contributions are required</p>
</td></tr>
<tr><td><code id="getDebates_+3A_gid">gid</code></td>
<td>
<p>A speech/debate identifier to restrict to a particular debate</p>
</td></tr>
<tr><td><code id="getDebates_+3A_order">order</code></td>
<td>
<p>whether to order results by date or relevance. Defaults to date</p>
</td></tr>
<tr><td><code id="getDebates_+3A_page">page</code></td>
<td>
<p>which page of results to provide. Defaults to first page</p>
</td></tr>
<tr><td><code id="getDebates_+3A_num">num</code></td>
<td>
<p>Number of results to return</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A complex data.frame of debate information.  Documentation is somewhat
lacking, and many columns contain data.frames so you'll have to dig
around.
</p>

<hr>
<h2 id='getGeometry'>Return geometry information for a constituency</h2><span id='topic+getGeometry'></span>

<h3>Description</h3>

<p>From TheyWorkForYou: &quot;This currently includes, for Great Britain,
the latitude and longitude of the centre point of the bounding box
of the constituency, its area in square meters, the bounding box itself
and the number of parts in the polygon that makes up the constituency.
For Northern Ireland, as we don't have any better data, it only returns
an approximate (estimated by eye) latitude and longitude for the
constituency's centroid.&quot;
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getGeometry(name)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getGeometry_+3A_name">name</code></td>
<td>
<p>Name of constituency</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame with columns </p>

<ul>
<li><p><code>parts</code> number of connected parts of the constituency
</p>
</li>
<li><p><code>area</code> area in square meters
</p>
</li>
<li><p><code>min_lat</code> minimum latitude in the constituency
</p>
</li>
<li><p><code>centre_lat</code> latitude of the central point of the constituency
</p>
</li>
<li><p><code>max_lat</code> maximum latitude in the constituency
</p>
</li>
<li><p><code>min_long</code> minimum longitude in the constituency
</p>
</li>
<li><p><code>centre_long</code> longitude of the central point of the constituency
</p>
</li>
<li><p><code>max_long</code> maximum longitude in the constituency
</p>
</li>
<li><p><code>srid_n</code> 
</p>
</li>
<li><p><code>min_e</code> 
</p>
</li>
<li><p><code>centre_e</code> 
</p>
</li>
<li><p><code>max_e</code> 
</p>
</li>
<li><p><code>min_n</code> 
</p>
</li>
<li><p><code>centre_n</code> 
</p>
</li>
<li><p><code>max_n</code> 
</p>
</li></ul>


<hr>
<h2 id='getHansard'>Search Hansard</h2><span id='topic+getHansard'></span>

<h3>Description</h3>

<p>This needs much more documentation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getHansard(search = NULL, person = NULL, order = c("d", "r"),
  page = NULL, num = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getHansard_+3A_search">search</code></td>
<td>
<p>A search string</p>
</td></tr>
<tr><td><code id="getHansard_+3A_person">person</code></td>
<td>
<p>A person identifier</p>
</td></tr>
<tr><td><code id="getHansard_+3A_order">order</code></td>
<td>
<p>whether to order results by date or relevance. Defaults to date</p>
</td></tr>
<tr><td><code id="getHansard_+3A_page">page</code></td>
<td>
<p>which page of results to provide. Defaults to first page</p>
</td></tr>
<tr><td><code id="getHansard_+3A_num">num</code></td>
<td>
<p>Number of results to return</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Search results
</p>

<hr>
<h2 id='getLord'>Get information about a Lord</h2><span id='topic+getLord'></span>

<h3>Description</h3>

<p>Get information about a Lord
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getLord(id)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getLord_+3A_id">id</code></td>
<td>
<p>Person identifier</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data.frame with columns
</p>

<ul>
<li><p><code>member_id</code> Member identifier
</p>
</li>
<li><p><code>house</code> Which chamber 1: The House of Commons,
2: The House of Lords.
</p>
</li>
<li><p><code>constituency</code> Constituency represented
</p>
</li>
<li><p><code>party</code> Party
</p>
</li>
<li><p><code>entered_house</code> Date when entered the House of Lords
</p>
</li>
<li><p><code>left_house</code> Date when left the House of Lords or
<code>9999-12-31</code> if still in office
</p>
</li>
<li><p><code>entered_reason</code> Why they entered
</p>
</li>
<li><p><code>left_reason</code> Why they left
</p>
</li>
<li><p><code>person_id</code> Person identifier
</p>
</li>
<li><p><code>lastupdate</code> Date TheyWorkForYou updated this information
</p>
</li>
<li><p><code>title</code> Title, e.g. 'Baroness'
</p>
</li>
<li><p><code>given_name</code> First names
</p>
</li>
<li><p><code>family_name</code> Family name
</p>
</li>
<li><p><code>lordofname</code> Location associated with title
</p>
</li>
<li><p><code>full_name</code> First names then family name
</p>
</li></ul>


<hr>
<h2 id='getLords'>Get information about Lords</h2><span id='topic+getLords'></span>

<h3>Description</h3>

<p>Get information about Lords
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getLords(date = NULL, party = NULL, search = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getLords_+3A_date">date</code></td>
<td>
<p>ISO-style date, e.g. &quot;1990-01-02&quot;, to compile a list of Lords for</p>
</td></tr>
<tr><td><code id="getLords_+3A_party">party</code></td>
<td>
<p>Restrict list to Lords in this party</p>
</td></tr>
<tr><td><code id="getLords_+3A_search">search</code></td>
<td>
<p>A search term</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame with columns
</p>

<ul>
<li><p><code>member_id</code> Member identifier, dependent on position
</p>
</li>
<li><p><code>person_id</code> Person identifier
</p>
</li>
<li><p><code>name</code> Name of Lord
</p>
</li>
<li><p><code>party</code> Party
</p>
</li>
<li><p><code>office</code> NULL if no offices held, or a list with one
element: a data.frame with column headings:
</p>

<ul>
<li><p><code>dept</code> The committee or commission name
</p>
</li>
<li><p><code>position</code> Job role, e.g. Member or Leader,
</p>
</li>
<li><p><code>from_date</code> Date tenure in office began
</p>
</li>
<li><p><code>to_date</code> Date tenure in office ended, or
<code>9999-12-31</code> if still in office
</p>
</li></ul>


</li></ul>


<hr>
<h2 id='getMLA'>Get information on a Member of the Legislative Assembly (Northern Ireland)</h2><span id='topic+getMLA'></span>

<h3>Description</h3>

<p>Get information on a Member of the Legislative Assembly (Northern Ireland)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getMLA(id = NULL, postcode = NULL, constituency = NULL,
  always_return = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getMLA_+3A_id">id</code></td>
<td>
<p>A MLA identifier</p>
</td></tr>
<tr><td><code id="getMLA_+3A_postcode">postcode</code></td>
<td>
<p>A postcode, which specifies a region represented by the MLA</p>
</td></tr>
<tr><td><code id="getMLA_+3A_constituency">constituency</code></td>
<td>
<p>Name of a constituency</p>
</td></tr>
<tr><td><code id="getMLA_+3A_always_return">always_return</code></td>
<td>
<p>whether to try to return an MP even if
the seat is vacant or it before an election</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data.frame with rows representing the MLA's spells in the Assembly
and columns </p>

<ul>
<li><p><code>member_id</code> Member identifier for each spell in the Assembly
</p>
</li>
<li><p><code>house</code> 1: House of Commons, 2: House of Lords, 3: Legislative Assembly (NI), 4: Scottish Parliament
</p>
</li>
<li><p><code>constituency</code> Constituency represented
</p>
</li>
<li><p><code>party</code> Party
</p>
</li>
<li><p><code>entered_house</code> Date MP entered Parliament
</p>
</li>
<li><p><code>left_house</code> Date MP left Parliament, or 9999-12-31 if still in place
</p>
</li>
<li><p><code>entered_reason</code> Reason MP entered, e.g. general_election
</p>
</li>
<li><p><code>left_reason</code> Reason MP left, e.g. general_election_standing
</p>
</li>
<li><p><code>person_id</code> Person identifier
</p>
</li>
<li><p><code>lastupdate</code> When TheyWorkForYou last updated this information
</p>
</li>
<li><p><code>title</code> Title, if any
</p>
</li>
<li><p><code>given_name</code> First name
</p>
</li>
<li><p><code>family_name</code> Family name
</p>
</li>
<li><p><code>full_name</code> First name and family name
</p>
</li>
<li><p><code>url</code> URL path relative to TheyWorkForYou's hostname
</p>
</li>
<li><p><code>image</code> URL path to jpg relative to TheyWorkForYou's hostname
</p>
</li>
<li><p><code>image_height</code> Image height in pixels
</p>
</li>
<li><p><code>image_width</code> Image width in pixels
</p>
</li></ul>


<hr>
<h2 id='getMLAs'>Get information on Members of the Legislative Assembly (Northern Ireland)</h2><span id='topic+getMLAs'></span>

<h3>Description</h3>

<p>Get information on Members of the Legislative Assembly (Northern Ireland)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getMLAs(date = NULL, party = NULL, search = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getMLAs_+3A_date">date</code></td>
<td>
<p>The date for which the MLAs are required</p>
</td></tr>
<tr><td><code id="getMLAs_+3A_party">party</code></td>
<td>
<p>Restrict MLAs to those in a party</p>
</td></tr>
<tr><td><code id="getMLAs_+3A_search">search</code></td>
<td>
<p>A search string</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame with columns </p>

<ul>
<li><p><code>member_id</code> Member identifier for each spell in the Legislative Assembly
</p>
</li>
<li><p><code>person_id</code> Person identifier
</p>
</li>
<li><p><code>name</code> Full name of MLA
</p>
</li>
<li><p><code>party</code> Party represented
</p>
</li>
<li><p><code>constituency</code> Name of MLA's constituency
</p>
</li></ul>


<hr>
<h2 id='getMP'>Get information about a Member of Parliament</h2><span id='topic+getMP'></span>

<h3>Description</h3>

<p>Returns
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getMP(id = NULL, postcode = NULL, constituency = NULL,
  always_return = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getMP_+3A_id">id</code></td>
<td>
<p>An MP identifier</p>
</td></tr>
<tr><td><code id="getMP_+3A_postcode">postcode</code></td>
<td>
<p>A postcode, used to identify a constituency and thereby an MP</p>
</td></tr>
<tr><td><code id="getMP_+3A_constituency">constituency</code></td>
<td>
<p>Name of a constituency</p>
</td></tr>
<tr><td><code id="getMP_+3A_always_return">always_return</code></td>
<td>
<p>whether to try to return an MP even if
the seat is vacant or it before an election</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data.frame with rows representing the MP's spells in Parliament
and columns </p>

<ul>
<li><p><code>member_id</code> Member identifier for each spell in parliament
</p>
</li>
<li><p><code>house</code> 1: House of Commons, 2: House of Lords, 3: Legislative Assembly (NI), 4: Scottish Parliament
</p>
</li>
<li><p><code>constituency</code> Constituency represented
</p>
</li>
<li><p><code>party</code> Party
</p>
</li>
<li><p><code>entered_house</code> Date MP entered Parliament
</p>
</li>
<li><p><code>left_house</code> Date MP left Parliament
</p>
</li>
<li><p><code>entered_reason</code> Reason MP entered, e.g. general_election
</p>
</li>
<li><p><code>left_reason</code> Reason MP left, e.g. general_election_standing
</p>
</li>
<li><p><code>person_id</code> Person identifier
</p>
</li>
<li><p><code>lastupdate</code> When TheyWorkForYou last updated this information
</p>
</li>
<li><p><code>title</code> Title, if any
</p>
</li>
<li><p><code>given_name</code> First name
</p>
</li>
<li><p><code>family_name</code> Family name
</p>
</li>
<li><p><code>full_name</code> First name and family name
</p>
</li>
<li><p><code>url</code> URL path relative to TheyWorkForYou's hostname
</p>
</li>
<li><p><code>image</code> URL path to jpg relative to TheyWorkForYou's hostname
</p>
</li>
<li><p><code>image_height</code> Image height in pixels
</p>
</li>
<li><p><code>image_width</code> Image width in pixels
</p>
</li></ul>


<hr>
<h2 id='getMPInfo'>Get more information about a Member of Parliament</h2><span id='topic+getMPInfo'></span>

<h3>Description</h3>

<p>Unless you want all the four hundred or so fields available about an MP you should
probably specify the ones you want in a comma-separated string to <code>fields</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getMPInfo(id, fields = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getMPInfo_+3A_id">id</code></td>
<td>
<p>An MP identifier</p>
</td></tr>
<tr><td><code id="getMPInfo_+3A_fields">fields</code></td>
<td>
<p>A comma separated character vector of field names</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note that unlike other functions in this package the result is a list
</p>


<h3>Value</h3>

<p>a list
</p>

<hr>
<h2 id='getMPs'>Get information about Members of Parliament</h2><span id='topic+getMPs'></span>

<h3>Description</h3>

<p>Get information about Members of Parliament
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getMPs(date = NULL, party = NULL, search = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getMPs_+3A_date">date</code></td>
<td>
<p>Date for which the MP list is constructed</p>
</td></tr>
<tr><td><code id="getMPs_+3A_party">party</code></td>
<td>
<p>Restrict to MPs in this party</p>
</td></tr>
<tr><td><code id="getMPs_+3A_search">search</code></td>
<td>
<p>A search string</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data.frame with columns </p>

<ul>
<li><p><code>member_id</code> Member identifier
</p>
</li>
<li><p><code>person_id</code> Person identifier
</p>
</li>
<li><p><code>name</code> MP's first names then family name
</p>
</li>
<li><p><code>party</code> Party
</p>
</li>
<li><p><code>constituency</code> Constituency represented
</p>
</li>
<li><p><code>office</code> NULL if no offices held, or a list with one
element: a data.frame with column headings:
</p>

<ul>
<li><p><code>dept</code> The committee or commission name
</p>
</li>
<li><p><code>position</code> Role, e.g. Member,
</p>
</li>
<li><p><code>from_date</code> Date tenure in office began
</p>
</li>
<li><p><code>to_date</code> Date tenure in office ended, or
<code>9999-12-31</code> if still in office
</p>
</li></ul>


</li></ul>
<p> or an empty list if parliament is dissolved.
</p>

<hr>
<h2 id='getMPsInfo'>Get more information about a Member of Parliament</h2><span id='topic+getMPsInfo'></span>

<h3>Description</h3>

<p>Get more information about a Member of Parliament
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getMPsInfo(ids, fields = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getMPsInfo_+3A_ids">ids</code></td>
<td>
<p>A character vector of comma-separated MP identifiers</p>
</td></tr>
<tr><td><code id="getMPsInfo_+3A_fields">fields</code></td>
<td>
<p>A comma separated character vector of field names</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of list of MP information
</p>

<hr>
<h2 id='getMSP'>Get information on a Member of the Scottish Parliament</h2><span id='topic+getMSP'></span>

<h3>Description</h3>

<p>Get information on a Member of the Scottish Parliament
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getMSP(id = NULL, postcode = NULL, constituency = NULL,
  always_return = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getMSP_+3A_id">id</code></td>
<td>
<p>Person identifier</p>
</td></tr>
<tr><td><code id="getMSP_+3A_postcode">postcode</code></td>
<td>
<p>A postcode, which specifies the constituency whose MSP is required</p>
</td></tr>
<tr><td><code id="getMSP_+3A_constituency">constituency</code></td>
<td>
<p>Name of a constituency</p>
</td></tr>
<tr><td><code id="getMSP_+3A_always_return">always_return</code></td>
<td>
<p>whether to try to return an MP even if
the seat is vacant or it before an election</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data.frame with rows representing the MP's spells in Parliament
and columns </p>

<ul>
<li><p><code>member_id</code> Member identifier for each spell in parliament
</p>
</li>
<li><p><code>house</code> 1: House of Commons, 2: House of Lords, 3: Legislative Assembly (NI), 4: Scottish Parliament
</p>
</li>
<li><p><code>constituency</code> Constituency represented
</p>
</li>
<li><p><code>party</code> Party
</p>
</li>
<li><p><code>entered_house</code> Date MP entered Parliament
</p>
</li>
<li><p><code>left_house</code> Date MP left Parliament, or 9999-12-31 if still in place
</p>
</li>
<li><p><code>entered_reason</code> Reason MP entered, e.g. general_election
</p>
</li>
<li><p><code>left_reason</code> Reason MP left, e.g. general_election_standing
</p>
</li>
<li><p><code>person_id</code> Person identifier
</p>
</li>
<li><p><code>lastupdate</code> When TheyWorkForYou last updated this information
</p>
</li>
<li><p><code>title</code> Title, if any
</p>
</li>
<li><p><code>given_name</code> First name
</p>
</li>
<li><p><code>family_name</code> Family name
</p>
</li>
<li><p><code>full_name</code> First name and family name
</p>
</li>
<li><p><code>url</code> URL path relative to TheyWorkForYou's hostname
</p>
</li>
<li><p><code>image</code> URL path to jpg relative to TheyWorkForYou's hostname
</p>
</li>
<li><p><code>image_height</code> Image height in pixels
</p>
</li>
<li><p><code>image_width</code> Image width in pixels
</p>
</li></ul>


<hr>
<h2 id='getMSPs'>Get information about Members of the Scottish Parliament</h2><span id='topic+getMSPs'></span>

<h3>Description</h3>

<p>Get information about Members of the Scottish Parliament
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getMSPs(date = NULL, party = NULL, search = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getMSPs_+3A_date">date</code></td>
<td>
<p>The date for which the MSPs are required</p>
</td></tr>
<tr><td><code id="getMSPs_+3A_party">party</code></td>
<td>
<p>Restrict MSPs to those in a party</p>
</td></tr>
<tr><td><code id="getMSPs_+3A_search">search</code></td>
<td>
<p>A search string</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame with columns </p>

<ul>
<li><p><code>member_id</code> Member identifier for each spell in the Scottish parliament
</p>
</li>
<li><p><code>person_id</code> Person identifier
</p>
</li>
<li><p><code>name</code> Full name of MSP
</p>
</li>
<li><p><code>party</code> Party represented
</p>
</li>
<li><p><code>constituency</code> Name of MSP's constituency
</p>
</li></ul>


<hr>
<h2 id='getPerson'>Get information about a person</h2><span id='topic+getPerson'></span>

<h3>Description</h3>

<p>Get information about a person
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getPerson(id)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getPerson_+3A_id">id</code></td>
<td>
<p>A person identifier</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data.frame with rows representing the person's spells in the whatever
legislative body they are members of, with columns </p>

<ul>
<li><p><code>member_id</code> Member identifier for each spell in the Assembly
</p>
</li>
<li><p><code>house</code> 1: House of Commons, 2: House of Lords, 3: Legislative Assembly (NI), 4: Scottish Parliament
</p>
</li>
<li><p><code>constituency</code> Constituency represented
</p>
</li>
<li><p><code>party</code> Party (in that spell)
</p>
</li>
<li><p><code>entered_house</code> Date MP entered Parliament
</p>
</li>
<li><p><code>left_house</code> Date MP left Parliament, or 9999-12-31 if still in place
</p>
</li>
<li><p><code>entered_reason</code> Reason MP entered, e.g. general_election
</p>
</li>
<li><p><code>left_reason</code> Reason MP left, e.g. general_election_standing
</p>
</li>
<li><p><code>person_id</code> Person identifier
</p>
</li>
<li><p><code>lastupdate</code> When TheyWorkForYou last updated this information
</p>
</li>
<li><p><code>title</code> Title, if any
</p>
</li>
<li><p><code>given_name</code> First name
</p>
</li>
<li><p><code>family_name</code> Family name
</p>
</li>
<li><p><code>full_name</code> First name and family name
</p>
</li></ul>


<hr>
<h2 id='getWMS'>Get written ministerial responses</h2><span id='topic+getWMS'></span>

<h3>Description</h3>

<p>Get written ministerial responses
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getWMS(date = NULL, search = NULL, person = NULL, gid = NULL,
  order = c("d", "r"), page = NULL, num = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getWMS_+3A_date">date</code></td>
<td>
<p>Date for which responses are required</p>
</td></tr>
<tr><td><code id="getWMS_+3A_search">search</code></td>
<td>
<p>A search string</p>
</td></tr>
<tr><td><code id="getWMS_+3A_person">person</code></td>
<td>
<p>A person identifier to specify which minister provided the answers</p>
</td></tr>
<tr><td><code id="getWMS_+3A_gid">gid</code></td>
<td>
<p>A response identifier to return</p>
</td></tr>
<tr><td><code id="getWMS_+3A_order">order</code></td>
<td>
<p>whether to order results by date or relevance. Defaults to date</p>
</td></tr>
<tr><td><code id="getWMS_+3A_page">page</code></td>
<td>
<p>which page of results to provide. Defaults to first page</p>
</td></tr>
<tr><td><code id="getWMS_+3A_num">num</code></td>
<td>
<p>Number of results to return</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of information about written ministerial responses
</p>

<hr>
<h2 id='getWrans'>Get written answers to questions</h2><span id='topic+getWrans'></span>

<h3>Description</h3>

<p>The output of this function needs documentation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getWrans(date = NULL, search = NULL, person = NULL, gid = NULL,
  order = c("d", "r"), page = NULL, num = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getWrans_+3A_date">date</code></td>
<td>
<p>Date for which answers are required</p>
</td></tr>
<tr><td><code id="getWrans_+3A_search">search</code></td>
<td>
<p>A search string</p>
</td></tr>
<tr><td><code id="getWrans_+3A_person">person</code></td>
<td>
<p>A person identifier to specify who provided the answers</p>
</td></tr>
<tr><td><code id="getWrans_+3A_gid">gid</code></td>
<td>
<p>A written question and answer identifier to return</p>
</td></tr>
<tr><td><code id="getWrans_+3A_order">order</code></td>
<td>
<p>whether to order results by date or relevance. Defaults to date</p>
</td></tr>
<tr><td><code id="getWrans_+3A_page">page</code></td>
<td>
<p>which page of results to provide. Defaults to first page</p>
</td></tr>
<tr><td><code id="getWrans_+3A_num">num</code></td>
<td>
<p>Number of results to return</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame with two columns </p>

<ul>
<li><p><code>entry</code> a data.frame
</p>
</li>
<li><p><code>subs</code> a data.frame
</p>
</li></ul>
<p>.  The <code>entry</code> data.frame has columns </p>

<ul>
<li><p><code>epobject_id</code>
</p>
</li>
<li><p><code>htype</code>
</p>
</li>
<li><p><code>gid</code>
</p>
</li>
<li><p><code>hpos</code>
</p>
</li>
<li><p><code>section_id</code>
</p>
</li>
<li><p><code>subsection_id</code>
</p>
</li>
<li><p><code>hdate</code>
</p>
</li>
<li><p><code>htime</code>
</p>
</li>
<li><p><code>source_url</code>
</p>
</li>
<li><p><code>major</code>
</p>
</li>
<li><p><code>minor</code>
</p>
</li>
<li><p><code>video_status</code>
</p>
</li>
<li><p><code>colnum</code>
</p>
</li>
<li><p><code>body</code>
</p>
</li></ul>
<p>. <code>subs</code> is a list containing data.frames with all the columns in
<code>entry</code> and in addition </p>

<ul>
<li><p><code>excerpt</code>
</p>
</li>
<li><p><code>listurl</code>
</p>
</li>
<li><p><code>commentsurl</code>
</p>
</li>
<li><p><code>totalcomments</code>
</p>
</li>
<li><p><code>comment</code>
</p>
</li></ul>


<hr>
<h2 id='set_api_key'>Set the API key</h2><span id='topic+set_api_key'></span>

<h3>Description</h3>

<p>This function manually sets or resets the API key.  It is mostly useful for
updating your key as all API function calls will ask for a key and store
it locally and in <code>~/.Renviron</code> any time they do not find one.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_api_key(api_key)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="set_api_key_+3A_api_key">api_key</code></td>
<td>
<p>a new API key</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Nothing
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

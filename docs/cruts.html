<!DOCTYPE html><html><head><title>Help for package cruts</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {cruts}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#cruts-package'><p>cruts</p></a></li>
<li><a href='#cruts2poly'><p>cruts2poly function</p></a></li>
<li><a href='#cruts2raster'><p>cruts2raster function</p></a></li>
<li><a href='#extractNetCDF'><p>extractNetCDF function</p></a></li>
<li><a href='#getAnomaly'><p>getAnomaly function</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Interface to Climatic Research Unit Time-Series Version 3.21
Data</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1</td>
</tr>
<tr>
<td>Author:</td>
<td>Benjamin M. Taylor
        Additional contributions
        Bikash Parida
        Jacob Davies</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Benjamin M. Taylor &lt;benjamin.taylor.software@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Functions for reading in and manipulating CRU TS3.21: Climatic
    Research Unit (CRU) Time-Series (TS) Version 3.21 data.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.2.1)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>sp, raster, stringr, lubridate, ncdf4</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.0.2</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-03-05 11:13:46 UTC; taylorb1</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-03-05 12:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='cruts-package'>cruts</h2><span id='topic+cruts-package'></span><span id='topic+cruts'></span>

<h3>Description</h3>

<p>Read data from CRU TS3.21: Climatic Research Unit (CRU) Time-Series (TS) Version 3.21 of High Resolution Gridded Data of Month-by-month <a href="http://catalogue.ceda.ac.uk/uuid/ac4ecbd554d0dd52a9b575d9666dc42d">http://catalogue.ceda.ac.uk/uuid/ac4ecbd554d0dd52a9b575d9666dc42d</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cruts
</code></pre>


<h3>Format</h3>

<p>An object of class <code>logical</code> of length 1.</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> cruts</td>
</tr>
<tr>
 <td style="text-align: left;">
Title: </td><td style="text-align: left;"> Interface to Climatic Research Unit Time-Series Version 3.21 Data</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 1.1</td>
</tr>
<tr>
 <td style="text-align: left;">
Author: </td><td style="text-align: left;"> Benjamin M. Taylor
        Additional contributions
        Bikash Parida
        Jacob Davies</td>
</tr>
<tr>
 <td style="text-align: left;">
Maintainer: </td><td style="text-align: left;"> Benjamin M. Taylor &lt;benjamin.taylor.software@gmail.com&gt;</td>
</tr>
<tr>
 <td style="text-align: left;">
Description: </td><td style="text-align: left;"> Functions for reading in and manipulating CRU TS3.21: Climatic
    Research Unit (CRU) Time-Series (TS) Version 3.21 data.</td>
</tr>
<tr>
 <td style="text-align: left;">
Depends: </td><td style="text-align: left;"> R (&gt;= 3.2.1)</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL-3</td>
</tr>
<tr>
 <td style="text-align: left;">
Imports: </td><td style="text-align: left;"> sp,
raster,
stringr,
lubridate,
ncdf4</td>
</tr>
<tr>
 <td style="text-align: left;">
RoxygenNote: </td><td style="text-align: left;"> 7.0.2</td>
</tr>
<tr>
 <td style="text-align: left;">
Encoding: </td><td style="text-align: left;"> UTF-8</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>


<p>Index of help topics:
</p>
<pre>
cruts-package           cruts
cruts2poly              cruts2poly function
cruts2raster            cruts2raster function
extractNetCDF           extractNetCDF function
getAnomaly              getAnomaly function
</pre>
<p>sectionDependencies
The package <code>cruts</code> depends upon some other important contributions to CRAN in order to operate; their uses here are indicated:<br /><br />
sp, raster, stringr, lubridate, ncdf.

</p>
<p>sectionCitation
X

</p>
<p>references
X

</p>


<h3>Author(s)</h3>

<p>Benjamin Taylor, Department of Medicine, Lancaster University
</p>

<hr>
<h2 id='cruts2poly'>cruts2poly function</h2><span id='topic+cruts2poly'></span>

<h3>Description</h3>

<p>A function to convert Climatic Research Unit Time-Series in NetCDF format to polygonal format, averaging over each region in question.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cruts2poly(
  ncfile,
  poly,
  timeRange = NULL,
  offset = "1900-01-01",
  na.rm = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cruts2poly_+3A_ncfile">ncfile</code></td>
<td>
<p>character string giving name and location of the CRUTS time series NetCDF file (if the file you downloaded is zipped, then you will need to extract it)</p>
</td></tr>
<tr><td><code id="cruts2poly_+3A_poly">poly</code></td>
<td>
<p>a SpatialPolygonsDataFrame on which to average the variable in question</p>
</td></tr>
<tr><td><code id="cruts2poly_+3A_timerange">timeRange</code></td>
<td>
<p>vector of length 2 giving the start and end dates in the first and second place. Dates are converted using the function ymd, please refer to the help for this funciton for details on appropriate formats.</p>
</td></tr>
<tr><td><code id="cruts2poly_+3A_offset">offset</code></td>
<td>
<p>time offset for CRU TS data</p>
</td></tr>
<tr><td><code id="cruts2poly_+3A_na.rm">na.rm</code></td>
<td>
<p>logical, whether to ignore NA's in averaging, default is FALSE (to be consistent with other R functions in other packages), but option TRUE should probably be used on most occasions</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Data can be obtained from <a href="http://catalogue.ceda.ac.uk/uuid/ac4ecbd554d0dd52a9b575d9666dc42d">http://catalogue.ceda.ac.uk/uuid/ac4ecbd554d0dd52a9b575d9666dc42d</a>
</p>


<h3>Value</h3>

<p>a polygon with the averaged climate variable
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: crutsimport(ncfile="my_cruts_file.nc",timeRange=c("2000-01-01","2001-01-01"))
</code></pre>

<hr>
<h2 id='cruts2raster'>cruts2raster function</h2><span id='topic+cruts2raster'></span>

<h3>Description</h3>

<p>A function to convert Climatic Research Unit Time-Series in NetCDF format to raster format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cruts2raster(
  ncfile,
  timeRange = NULL,
  poly = NULL,
  offset = "1900-01-01",
  type = "stack"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cruts2raster_+3A_ncfile">ncfile</code></td>
<td>
<p>character string giving name and location of the CRUTS time series NetCDF file (if the file you downloaded is zipped, then you will need to extract it)</p>
</td></tr>
<tr><td><code id="cruts2raster_+3A_timerange">timeRange</code></td>
<td>
<p>vector of length 2 giving the start and end dates in the first and second place. Dates are converted using the function ymd, please refer to the help for this funciton for details on appropriate formats.</p>
</td></tr>
<tr><td><code id="cruts2raster_+3A_poly">poly</code></td>
<td>
<p>an optional SpatialPolygonsDataFrame on which to crop the raster to</p>
</td></tr>
<tr><td><code id="cruts2raster_+3A_offset">offset</code></td>
<td>
<p>time offset for CRU TS data</p>
</td></tr>
<tr><td><code id="cruts2raster_+3A_type">type</code></td>
<td>
<p>can be either 'brick' or 'stack' (thde default), this argument specifies what sort of raster object to return.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Data can be obtained from <a href="http://catalogue.ceda.ac.uk/uuid/ac4ecbd554d0dd52a9b575d9666dc42d">http://catalogue.ceda.ac.uk/uuid/ac4ecbd554d0dd52a9b575d9666dc42d</a>
</p>


<h3>Value</h3>

<p>a raster stack or brick containing the raw data
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: crutsimport(ncfile="my_cruts_file.nc",timeRange=c("2000-01-01","2001-01-01"))
</code></pre>

<hr>
<h2 id='extractNetCDF'>extractNetCDF function</h2><span id='topic+extractNetCDF'></span>

<h3>Description</h3>

<p>A function to extract data from CRU TS NetCDF files. A wrapper function for get.var.ncdf.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractNetCDF(nc, start = NULL, count = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extractNetCDF_+3A_nc">nc</code></td>
<td>
<p>an object inheriting class ncdf</p>
</td></tr>
<tr><td><code id="extractNetCDF_+3A_start">start</code></td>
<td>
<p>the start index. A vector of indices indicating where to start reading the passed values (beginning at 1).  The length of this vector must equal the number of dimensions the variable has.  If not specified, reading starts at the beginning of the file (1,1,1,...).</p>
</td></tr>
<tr><td><code id="extractNetCDF_+3A_count">count</code></td>
<td>
<p>A vector of integers indicating the count of values to read along each dimension.  The length of this vector must equal the number of dimensions the variable has. If not specified and the variable does NOT have an unlimited dimension, the entire variable is read.  As a special case, the value '-1' indicates that all entries along that dimension should be read. By default this extracts data for the  first time point.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an array or matrix with the requested data
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: extractNetCDF(dat=dat)
## Not run: extractNetCDF(dat=dat,start=c(1,1,1,1),count=c(1,2,3,1))
## Not run: extractNetCDF(dat=dat,start=c(1,1,1,1),count=c(-1,1,1,1))
</code></pre>

<hr>
<h2 id='getAnomaly'>getAnomaly function</h2><span id='topic+getAnomaly'></span>

<h3>Description</h3>

<p>A function to extract anomalies from the Climatic Research Unit Time-Series dataset
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getAnomaly(
  ncfile,
  poly = NULL,
  timeRange = NULL,
  offset = "1900-01-01",
  na.rm = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getAnomaly_+3A_ncfile">ncfile</code></td>
<td>
<p>character string giving name and location of the CRUTS time series NetCDF file (if the file you downloaded is zipped, then you will need to extract it)</p>
</td></tr>
<tr><td><code id="getAnomaly_+3A_poly">poly</code></td>
<td>
<p>an optional SpatialPolygonsDataFrame on which to compute the average anomalies if NULL (the default) a raster brick will be returned</p>
</td></tr>
<tr><td><code id="getAnomaly_+3A_timerange">timeRange</code></td>
<td>
<p>vector of length 2 giving the start and end dates in the first and second place. Dates are converted using the function ymd, please refer to the help for this funciton for details on appropriate formats.</p>
</td></tr>
<tr><td><code id="getAnomaly_+3A_offset">offset</code></td>
<td>
<p>time offset for CRU TS data</p>
</td></tr>
<tr><td><code id="getAnomaly_+3A_na.rm">na.rm</code></td>
<td>
<p>logical, whether to ignore NA's in averaging, default is FALSE (to be consistent with other R functions in other packages), but option TRUE should probably be used on most occasions</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Data can be obtained from <a href="http://catalogue.ceda.ac.uk/uuid/ac4ecbd554d0dd52a9b575d9666dc42d">http://catalogue.ceda.ac.uk/uuid/ac4ecbd554d0dd52a9b575d9666dc42d</a>
</p>


<h3>Value</h3>

<p>a raster or polygon with the raw or spatially averaged anomalies
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

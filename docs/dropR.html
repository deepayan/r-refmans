<!DOCTYPE html><html><head><title>Help for package dropR</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {dropR}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#dropR-package'><p>dropR: Dropout Analysis by Condition</p></a></li>
<li><a href='#add_dropout_idx'><p>Add Dropout Index to a Data.Frame</p></a></li>
<li><a href='#compute_stats'><p>Compute Dropout Statistics</p></a></li>
<li><a href='#do_chisq'><p>Compute Chisq-Test Given a Question Position</p></a></li>
<li><a href='#do_kpm'><p>Kaplan-Meier Survival Estimation</p></a></li>
<li><a href='#do_ks'><p>Compute Kolmogorov-Smirnov Test for most extreme conditions</p></a></li>
<li><a href='#do_or_table'><p>Dropout Odds Ratio Table</p></a></li>
<li><a href='#do_steps'><p>Calculate Steps for Uneven Data Points</p></a></li>
<li><a href='#dropRdemo'><p>Demo Dataset for Dropout in an Online Survey</p></a></li>
<li><a href='#get_odds'><p>Compute Odds From Probabilities</p></a></li>
<li><a href='#get_odds_ratio'><p>Compute Odds Ratio</p></a></li>
<li><a href='#get_steps_by_cond'><p>Get Steps Data by Condition</p></a></li>
<li><a href='#get_survdiff'><p>Test Survival Curve Differences</p></a></li>
<li><a href='#plot_do_curve'><p>Plot Dropout Curves</p></a></li>
<li><a href='#plot_do_kpm'><p>Plot a Kaplan Meier Survival Estimation</p></a></li>
<li><a href='#plot_do_ks'><p>Plot Most Extreme Conditions to Visualize Kolmogorov-Smirnov Test Results</p></a></li>
<li><a href='#start_app'><p>Start the dropR Shiny App</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.3</td>
</tr>
<tr>
<td>Title:</td>
<td>Dropout Analysis by Condition</td>
</tr>
<tr>
<td>Description:</td>
<td>Analysis and visualization of dropout between conditions in surveys and (online) experiments. Features include computation of dropout statistics, comparing dropout between conditions (e.g. Chi square), analyzing survival (e.g. Kaplan-Meier estimation), comparing conditions with the most different rates of dropout (Kolmogorov-Smirnov) and visualizing the result of each in designated plotting functions. Sources: Andrea Frick, Marie-Terese Baechtiger &amp; Ulf-Dietrich Reips (2001) <a href="https://www.researchgate.net/publication/223956222_Financial_incentives_personal_information_and_drop-out_in_online_studies">https://www.researchgate.net/publication/223956222_Financial_incentives_personal_information_and_drop-out_in_online_studies</a>; Ulf-Dietrich Reips (2002) "Standards for Internet-Based Experimenting" &lt;<a href="https://doi.org/10.1027%2F%2F1618-3169.49.4.243">doi:10.1027//1618-3169.49.4.243</a>&gt;.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>shiny, ggplot2, data.table, survival, lifecycle</td>
</tr>
<tr>
<td>Suggests:</td>
<td>DT, shinydashboard, knitr, rmarkdown, kableExtra</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-06-24</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://iscience-kn.github.io/dropR/">https://iscience-kn.github.io/dropR/</a>,
<a href="https://github.com/iscience-kn/dropR">https://github.com/iscience-kn/dropR</a></td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-07-03 09:38:39 UTC; Admin</td>
</tr>
<tr>
<td>Author:</td>
<td>Annika Tave Overlander [aut, cre],
  Matthias Bannert [aut],
  Ulf-Dietrich Reips [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Annika Tave Overlander &lt;annika-tave.overlander@uni.kn&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-07-03 16:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='dropR-package'>dropR: Dropout Analysis by Condition</h2><span id='topic+dropR'></span><span id='topic+dropR-package'></span>

<h3>Description</h3>

<p>Analysis and visualization of dropout between conditions in surveys and (online) experiments. Features include computation of dropout statistics, comparing dropout between conditions (e.g. Chi square), analyzing survival (e.g. Kaplan-Meier estimation), comparing conditions with the most different rates of dropout (Kolmogorov-Smirnov) and visualizing the result of each in designated plotting functions. Sources: Andrea Frick, Marie-Terese Baechtiger &amp; Ulf-Dietrich Reips (2001) <a href="https://www.researchgate.net/publication/223956222_Financial_incentives_personal_information_and_drop-out_in_online_studies">https://www.researchgate.net/publication/223956222_Financial_incentives_personal_information_and_drop-out_in_online_studies</a>; Ulf-Dietrich Reips (2002) &quot;Standards for Internet-Based Experimenting&quot; <a href="https://doi.org/10.1027//1618-3169.49.4.243">doi:10.1027//1618-3169.49.4.243</a>.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Annika Tave Overlander <a href="mailto:annika-tave.overlander@uni.kn">annika-tave.overlander@uni.kn</a>
</p>
<p>Authors:
</p>

<ul>
<li><p> Matthias Bannert <a href="mailto:bannert@kof.ethz.ch">bannert@kof.ethz.ch</a>
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> Ulf-Dietrich Reips [contributor]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://iscience-kn.github.io/dropR/">https://iscience-kn.github.io/dropR/</a>
</p>
</li>
<li> <p><a href="https://github.com/iscience-kn/dropR">https://github.com/iscience-kn/dropR</a>
</p>
</li></ul>


<hr>
<h2 id='add_dropout_idx'>Add Dropout Index to a Data.Frame</h2><span id='topic+add_dropout_idx'></span>

<h3>Description</h3>

<p>Find drop out positions in a data.frame that contains multiple
questions that had been asked sequentially.
This function adds the Dropout Index variable <code>do_idx</code> to the data.frame which is necessary
for further analyses of dropout.
</p>
<p>Use this function <em>first</em> to prepare your dropout analysis. Then, keep going by creating
the dropout statistics using <code><a href="#topic+compute_stats">compute_stats()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_dropout_idx(df, q_pos)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_dropout_idx_+3A_df">df</code></td>
<td>
<p>data.frame containing <code>NA</code>s</p>
</td></tr>
<tr><td><code id="add_dropout_idx_+3A_q_pos">q_pos</code></td>
<td>
<p>numeric range of columns that contain question items</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Importantly, this function will start counting missing data at the end of the
data frame. Any missing data which is somewhere in between, i.e.
a single item that was skipped or forgotten will not be counted as dropout.
The function will identify sequences of missing data that go until the end of the
data frame and add the number of the last answered question in <code>do_idx</code>.
</p>
<p>Therefore, the variables must be in the order that they were asked, otherwise analyses
will not be valid.
</p>


<h3>Value</h3>

<p>Returns original data frame with column <code>do_idx</code> added.
</p>


<h3>Source</h3>

<p>R/add_dropout_idx.R
</p>


<h3>See Also</h3>

<p><code><a href="#topic+compute_stats">compute_stats()</a></code> which is usually the next step for dropout analysis.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dropout &lt;- add_dropout_idx(dropRdemo, 3:54)

</code></pre>

<hr>
<h2 id='compute_stats'>Compute Dropout Statistics</h2><span id='topic+compute_stats'></span>

<h3>Description</h3>

<p>This is the <em>second step</em> in conducting dropout analysis with <code>dropR</code>.
Outputs all necessary statistics to analyze and visualize dropout, such as
the sample size N of the data (and in each condition if selected), cumulative
dropout and remaining participants in absolute numbers and percent.
If no experimental condition is added, the stats are only calculated for the
whole data in total.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compute_stats(df, by_cond = "None", no_of_vars)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="compute_stats_+3A_df">df</code></td>
<td>
<p>data.frame containing variable <code>do_idx</code> from <code><a href="#topic+add_dropout_idx">add_dropout_idx()</a></code></p>
</td></tr>
<tr><td><code id="compute_stats_+3A_by_cond">by_cond</code></td>
<td>
<p>character name of condition variable in the data, defaults to 'None' to output total statistics.</p>
</td></tr>
<tr><td><code id="compute_stats_+3A_no_of_vars">no_of_vars</code></td>
<td>
<p>numeric number of variables that contain questions</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with 6 columns (q_idx, condition, cs, N, remain, pct_remain)
and as many rows as questions in original data (for overall data and if conditions selected
again for each condition).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>do_stats &lt;- compute_stats(df = add_dropout_idx(dropRdemo, 3:54),
by_cond = "experimental_condition",
no_of_vars = 52)
  
</code></pre>

<hr>
<h2 id='do_chisq'>Compute Chisq-Test Given a Question Position</h2><span id='topic+do_chisq'></span>

<h3>Description</h3>

<p>This function performs a chi-squared contingency table test on dropout for
a given question in the data. Note that the input data should be in the format as
computed by <code><a href="#topic+compute_stats">compute_stats()</a></code>.
The test can be performed on either all conditions (excluding total) or on select conditions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>do_chisq(do_stats, chisq_question, sel_cond_chisq, p_sim = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="do_chisq_+3A_do_stats">do_stats</code></td>
<td>
<p>data.frame of dropout statistics as computed by <code><a href="#topic+compute_stats">compute_stats()</a></code>.</p>
</td></tr>
<tr><td><code id="do_chisq_+3A_chisq_question">chisq_question</code></td>
<td>
<p>numeric Which question to compare dropout at.</p>
</td></tr>
<tr><td><code id="do_chisq_+3A_sel_cond_chisq">sel_cond_chisq</code></td>
<td>
<p>vector (same class as in conditions variable in original data set) selected conditions.</p>
</td></tr>
<tr><td><code id="do_chisq_+3A_p_sim">p_sim</code></td>
<td>
<p>boolean Simulate p value parameter (by Monte Carlo simulation)? Defaults to <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns test results from chisq.test between experimental conditions at defined question.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+add_dropout_idx">add_dropout_idx()</a></code> and <code><a href="#topic+compute_stats">compute_stats()</a></code> which are necessary for the proper data structure.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>do_stats &lt;- compute_stats(add_dropout_idx(dropRdemo, 3:54),
by_cond = "experimental_condition",
no_of_vars = 52)

do_chisq(do_stats, 47, c(12, 22), TRUE)

</code></pre>

<hr>
<h2 id='do_kpm'>Kaplan-Meier Survival Estimation</h2><span id='topic+do_kpm'></span>

<h3>Description</h3>

<p>This function needs a data set with a dropout index added by <code><a href="#topic+add_dropout_idx">add_dropout_idx()</a></code>.
The <code>do_kpm</code> function performs survival analysis with Kaplan-Meier Estimation
and returns a list containing survival steps, the original data frame, and the model fit type.
The function can fit the survival model either for the entire data set or separately by a specified condition column.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>do_kpm(df, condition_col = "experimental_condition", model_fit = "total")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="do_kpm_+3A_df">df</code></td>
<td>
<p>data set with <code>do_idx</code> added by <code><a href="#topic+add_dropout_idx">add_dropout_idx()</a></code></p>
</td></tr>
<tr><td><code id="do_kpm_+3A_condition_col">condition_col</code></td>
<td>
<p>character denoting the experimental conditions to model</p>
</td></tr>
<tr><td><code id="do_kpm_+3A_model_fit">model_fit</code></td>
<td>
<p>character Should be either &quot;total&quot; for a total model or &quot;conditions&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a list containing <code>steps</code> (survival steps extracted from the fitted models),
<code>d</code> (the original data frame), and <code>model_fit</code> (the model fit type).
</p>


<h3>See Also</h3>

<p><code><a href="survival.html#topic+Surv">survival::Surv()</a></code> used to fit survival object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>demo_kpm &lt;- do_kpm(df = add_dropout_idx(dropRdemo, 3:54),
condition_col = "experimental_condition",
model_fit = "total")

head(demo_kpm$steps)

</code></pre>

<hr>
<h2 id='do_ks'>Compute Kolmogorov-Smirnov Test for most extreme conditions</h2><span id='topic+do_ks'></span>

<h3>Description</h3>

<p>This test is used for survival analysis between the most extreme conditions,
so the ones with the most different rates of dropout.
This function automatically prepares your data and runs <code>stats::ks.test()</code> on it.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>do_ks(do_stats, question)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="do_ks_+3A_do_stats">do_stats</code></td>
<td>
<p>A data frame made from <code><a href="#topic+compute_stats">compute_stats()</a></code>, containing information on the percent remaining per question per condition</p>
</td></tr>
<tr><td><code id="do_ks_+3A_question">question</code></td>
<td>
<p>Index of question to be included in analysis, commonly the last question of the survey.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns result of Kolmogorov-Smirnoff test including which conditions have the most different dropout rates.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>do_stats &lt;- compute_stats(df = add_dropout_idx(dropRdemo, 3:54),
by_cond = "experimental_condition",
no_of_vars = 52)

do_ks(do_stats, 52)


</code></pre>

<hr>
<h2 id='do_or_table'>Dropout Odds Ratio Table</h2><span id='topic+do_or_table'></span>

<h3>Description</h3>

<p>This function calculates an Odds Ratio table at a given question for selected experimental
conditions. It needs data in the format as created by <code><a href="#topic+compute_stats">compute_stats()</a></code> as input.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>do_or_table(do_stats, chisq_question, sel_cond_chisq)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="do_or_table_+3A_do_stats">do_stats</code></td>
<td>
<p>data.frame statistics table as computed by <code><a href="#topic+compute_stats">compute_stats()</a></code>.</p>
</td></tr>
<tr><td><code id="do_or_table_+3A_chisq_question">chisq_question</code></td>
<td>
<p>numeric Which question to calculate the OR table for</p>
</td></tr>
<tr><td><code id="do_or_table_+3A_sel_cond_chisq">sel_cond_chisq</code></td>
<td>
<p>character vector naming the experimental conditions to compare</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a Matrix containing the Odds Ratios of dropout between all selected conditions.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+compute_stats">compute_stats()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>do_stats &lt;- compute_stats(df = add_dropout_idx(dropRdemo, 3:54),
by_cond = "experimental_condition",
no_of_vars = 52)

do_or_table(do_stats, chisq_question = 51, sel_cond_chisq = c("11", "12", "21", "22"))


</code></pre>

<hr>
<h2 id='do_steps'>Calculate Steps for Uneven Data Points</h2><span id='topic+do_steps'></span>

<h3>Description</h3>

<p>The <code>do_steps</code> function calculates steps for data points represented by numbers of questions from the original
experimental or survey data in <code>x</code> and remaining percent of participants in <code>y</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>do_steps(x, y, return_df = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="do_steps_+3A_x">x</code></td>
<td>
<p>Numeric vector representing the question numbers</p>
</td></tr>
<tr><td><code id="do_steps_+3A_y">y</code></td>
<td>
<p>Numeric vector representing the remaining percent of participants</p>
</td></tr>
<tr><td><code id="do_steps_+3A_return_df">return_df</code></td>
<td>
<p>Logical. If TRUE, the function returns a data frame; otherwise, it returns a list.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Due to the nature of dropout/ survival data, step functions are necessary to accurately depict participants remaining.
Dropout data includes the time until the event (a.k.a. dropout at a certain question or time), so that changes in remaining
participants are discrete rather than continuous. This means that changes in survival probability occur at specific points
and are better represented as steps than as a continuum.
</p>


<h3>Value</h3>

<p>Returns a data frame or a list containing the modified <code>x</code> and <code>y</code> values.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- c(1, 2, 3, 4, 5)
y &lt;- c(100, 100, 95, 90, 85)
do_steps(x, y)

# Using the example dataset dropRdemo

do_stats &lt;- compute_stats(df = add_dropout_idx(dropRdemo, 3:54),
by_cond = "experimental_condition",
no_of_vars = 52)

tot_stats &lt;- do_stats[do_stats$condition == "total", ]
do_steps(tot_stats$q_idx, tot_stats$pct_remain)

</code></pre>

<hr>
<h2 id='dropRdemo'>Demo Dataset for Dropout in an Online Survey</h2><span id='topic+dropRdemo'></span>

<h3>Description</h3>

<p>Simulated demo data set for dropout in a survey.
</p>


<h3>Format</h3>

<p>A data frame with 246 rows and 54 variables (in the order they were presented in the fictional survey).
</p>

<dl>
<dt>obs_id</dt><dd><p>Observation ID</p>
</dd>
<dt>experimental_condition</dt><dd><p>experimental condition</p>
</dd>
<dt>vi_1</dt><dd><p>item 1</p>
</dd>
<dt>vi_2</dt><dd><p>item 2</p>
</dd>
<dt>vi_3</dt><dd><p>item 3</p>
</dd>
<dt>vi_4</dt><dd><p>item 4</p>
</dd>
<dt>vi_5</dt><dd><p>item 5</p>
</dd>
<dt>vi_6</dt><dd><p>item 6</p>
</dd>
<dt>vi_7</dt><dd><p>item 7</p>
</dd>
<dt>vi_8</dt><dd><p>item 8</p>
</dd>
<dt>vi_9</dt><dd><p>item 9</p>
</dd>
<dt>vi_10</dt><dd><p>item 10</p>
</dd>
<dt>vi_11</dt><dd><p>item 11</p>
</dd>
<dt>vi_12</dt><dd><p>item 12</p>
</dd>
<dt>vi_13</dt><dd><p>item 13</p>
</dd>
<dt>vi_14</dt><dd><p>item 14</p>
</dd>
<dt>vi_15</dt><dd><p>item 15</p>
</dd>
<dt>vi_16</dt><dd><p>item 16</p>
</dd>
<dt>vi_17</dt><dd><p>item 17</p>
</dd>
<dt>vi_18</dt><dd><p>item 18</p>
</dd>
<dt>vi_19</dt><dd><p>item 19</p>
</dd>
<dt>vi_20</dt><dd><p>item 20</p>
</dd>
<dt>vi_21</dt><dd><p>item 21</p>
</dd>
<dt>vi_22</dt><dd><p>item 22</p>
</dd>
<dt>vi_23</dt><dd><p>item 23</p>
</dd>
<dt>vi_24</dt><dd><p>item 24</p>
</dd>
<dt>vi_25</dt><dd><p>item 25</p>
</dd>
<dt>vi_26</dt><dd><p>item 26</p>
</dd>
<dt>vi_27</dt><dd><p>item 27</p>
</dd>
<dt>vi_28</dt><dd><p>item 28</p>
</dd>
<dt>vi_29</dt><dd><p>item 29</p>
</dd>
<dt>vi_30</dt><dd><p>item 30</p>
</dd>
<dt>vi_31</dt><dd><p>item 31</p>
</dd>
<dt>vi_32</dt><dd><p>item 32</p>
</dd>
<dt>vi_33</dt><dd><p>item 33</p>
</dd>
<dt>vi_34</dt><dd><p>item 34</p>
</dd>
<dt>vi_35</dt><dd><p>item 35</p>
</dd>
<dt>vi_36</dt><dd><p>item 36</p>
</dd>
<dt>vi_37</dt><dd><p>item 37</p>
</dd>
<dt>vi_38</dt><dd><p>item 38</p>
</dd>
<dt>vi_39</dt><dd><p>item 39</p>
</dd>
<dt>vi_40</dt><dd><p>item 40</p>
</dd>
<dt>vi_41</dt><dd><p>item 41</p>
</dd>
<dt>vi_42</dt><dd><p>item 42</p>
</dd>
<dt>vi_43</dt><dd><p>item 43</p>
</dd>
<dt>vi_44</dt><dd><p>item 44</p>
</dd>
<dt>vi_45</dt><dd><p>item 45</p>
</dd>
<dt>vi_46</dt><dd><p>item 46</p>
</dd>
<dt>vi_47</dt><dd><p>item 47</p>
</dd>
<dt>vi_48</dt><dd><p>item 48</p>
</dd>
<dt>vi_49</dt><dd><p>item 49</p>
</dd>
<dt>vi_50</dt><dd><p>item 50</p>
</dd>
<dt>vi_51</dt><dd><p>item 51</p>
</dd>
<dt>vi_52</dt><dd><p>item 52</p>
</dd>
</dl>



<h3>Source</h3>

<p>dropRdemo Demo data for dropout.
</p>

<hr>
<h2 id='get_odds'>Compute Odds From Probabilities</h2><span id='topic+get_odds'></span>

<h3>Description</h3>

<p>Compute odds from probabilities. The function is vectorized and
can handle a vector of probabilities, e.g. remaining percent of participants
as calculated by <code><a href="#topic+compute_stats">compute_stats()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_odds(p)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_odds_+3A_p">p</code></td>
<td>
<p>vector of probabilities. May not be larger than 1 or smaller than zero.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns numerical vector of the same length as original input reflecting the odds.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>get_odds(0.7)
get_odds(c(0.7, 0.2))


</code></pre>

<hr>
<h2 id='get_odds_ratio'>Compute Odds Ratio</h2><span id='topic+get_odds_ratio'></span>

<h3>Description</h3>

<p>Computes odds ratio given two probabilities.
In this package, the function can be used to compare the percentages of remaining
participants between two conditions at a time.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_odds_ratio(a, b)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_odds_ratio_+3A_a">a</code></td>
<td>
<p>numeric probability value between 0 and 1.</p>
</td></tr>
<tr><td><code id="get_odds_ratio_+3A_b">b</code></td>
<td>
<p>numeric probability value between 0 and 1.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns numerical vector of the same length as original input reflecting the Odds Ratio (OR).
</p>


<h3>See Also</h3>

<p><code><a href="#topic+get_odds">get_odds()</a></code>, as this is the basis for calculation.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>get_odds_ratio(0.7, 0.6)

</code></pre>

<hr>
<h2 id='get_steps_by_cond'>Get Steps Data by Condition</h2><span id='topic+get_steps_by_cond'></span>

<h3>Description</h3>

<p>The <code>get_steps_by_cond</code> function calculates steps data based on survival model results.
This utility function is used inside the <code><a href="#topic+do_kpm">do_kpm()</a></code> function of <code>dropR</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_steps_by_cond(sfit, condition = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_steps_by_cond_+3A_sfit">sfit</code></td>
<td>
<p>An object representing survival model results (e.g., from a Kaplan-Meier model).</p>
</td></tr>
<tr><td><code id="get_steps_by_cond_+3A_condition">condition</code></td>
<td>
<p>Optional. An experimental condition to include in the output data frame, defaults to <code>NULL</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a data frame containing the steps data, including time, survival estimates, upper confidence bounds, and lower confidence bounds.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+do_kpm">do_kpm()</a></code>
</p>

<hr>
<h2 id='get_survdiff'>Test Survival Curve Differences</h2><span id='topic+get_survdiff'></span>

<h3>Description</h3>

<p>This function compares survival curves as modeled with <code><a href="#topic+do_kpm">do_kpm()</a></code>.
It outputs a contingency table and a Chisq measure of difference.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_survdiff(kds, cond, test_type)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_survdiff_+3A_kds">kds</code></td>
<td>
<p>data set of a survival model such as <code><a href="#topic+do_kpm">do_kpm()</a></code></p>
</td></tr>
<tr><td><code id="get_survdiff_+3A_cond">cond</code></td>
<td>
<p>character of experimental condition variable in the data</p>
</td></tr>
<tr><td><code id="get_survdiff_+3A_test_type">test_type</code></td>
<td>
<p>numeric (0 or 1) parameter that controls the type of test (0 means rho = 0; log-rank,
1 means rho = 1; Peto &amp; Peto Wilcox)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns survival test results as called from <code><a href="survival.html#topic+survdiff">survival::survdiff()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>kpm_est &lt;- do_kpm(add_dropout_idx(dropRdemo, 3:54))
get_survdiff(kpm_est$d, "experimental_condition", 0)
get_survdiff(kpm_est$d, "experimental_condition", 1)


</code></pre>

<hr>
<h2 id='plot_do_curve'>Plot Dropout Curves</h2><span id='topic+plot_do_curve'></span>

<h3>Description</h3>

<p>This functions uses <code>ggplot2</code>to create drop out curves.
Please note that you should use <code><a href="#topic+add_dropout_idx">add_dropout_idx()</a></code> and <code><a href="#topic+compute_stats">compute_stats()</a></code> on your
data before running this function as it needs a certain data structure and variables to
work properly.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_do_curve(
  do_stats,
  linetypes = TRUE,
  stroke_width = 1,
  full_scale = TRUE,
  show_points = FALSE,
  show_confbands = FALSE,
  color_palette = "color_blind"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_do_curve_+3A_do_stats">do_stats</code></td>
<td>
<p>data.frame containing dropout statistics table computed by <code><a href="#topic+compute_stats">compute_stats()</a></code>.
Make sure your do_stats table contains a q_idx column indexing all question-items sequentially.</p>
</td></tr>
<tr><td><code id="plot_do_curve_+3A_linetypes">linetypes</code></td>
<td>
<p>boolean Should different line types be used? Defaults to TRUE.</p>
</td></tr>
<tr><td><code id="plot_do_curve_+3A_stroke_width">stroke_width</code></td>
<td>
<p>numeric stroke width, defaults to 1.</p>
</td></tr>
<tr><td><code id="plot_do_curve_+3A_full_scale">full_scale</code></td>
<td>
<p>boolean Should y axis range from 0 to 100? Defaults to TRUE,
FALSE cuts off at min percent remaining (&gt;0).</p>
</td></tr>
<tr><td><code id="plot_do_curve_+3A_show_points">show_points</code></td>
<td>
<p>boolean Should dropout curves show individual data points? Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="plot_do_curve_+3A_show_confbands">show_confbands</code></td>
<td>
<p>boolean Should there be confidence bands added to the plot? Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="plot_do_curve_+3A_color_palette">color_palette</code></td>
<td>
<p>character indicating which color palette to use. Defaults to 'color_blind',
alternatively choose 'gray' or 'default' for the ggplot2 default colors.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a <code>ggplot</code> object containing the dropout curve plot. Using the Shiny App version of
dropR, this plot can easily be downloaded in different formats.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+add_dropout_idx">add_dropout_idx()</a></code> and <code><a href="#topic+compute_stats">compute_stats()</a></code> which are necessary for the proper data structure.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>do_stats &lt;- compute_stats(add_dropout_idx(dropRdemo, 3:54),
by_cond = "experimental_condition",
no_of_vars = 52)

plot_do_curve(do_stats)

</code></pre>

<hr>
<h2 id='plot_do_kpm'>Plot a Kaplan Meier Survival Estimation</h2><span id='topic+plot_do_kpm'></span>

<h3>Description</h3>

<p>The <code>plot_do_kpm</code> function generates a Kaplan-Meier survival plot based on the
output from the <code><a href="#topic+do_kpm">do_kpm()</a></code> function. It allows for customization of conditions
to display, confidence intervals, color palettes, and y-axis scaling.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_do_kpm(
  kds,
  sel_conds = c("11", "12", "21", "22"),
  kpm_ci = TRUE,
  full_scale_kpm = FALSE,
  color_palette_kp = "color_blind"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_do_kpm_+3A_kds">kds</code></td>
<td>
<p>list object as modeled by <code><a href="#topic+do_kpm">do_kpm()</a></code></p>
</td></tr>
<tr><td><code id="plot_do_kpm_+3A_sel_conds">sel_conds</code></td>
<td>
<p>character Which experimental conditions to plot.</p>
</td></tr>
<tr><td><code id="plot_do_kpm_+3A_kpm_ci">kpm_ci</code></td>
<td>
<p>boolean Should there be confidence bands in the plot? Defaults to TRUE.</p>
</td></tr>
<tr><td><code id="plot_do_kpm_+3A_full_scale_kpm">full_scale_kpm</code></td>
<td>
<p>boolean Should the Y axis show the full range from 0 to 100? Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="plot_do_kpm_+3A_color_palette_kp">color_palette_kp</code></td>
<td>
<p>character indicating which color palette to use. Defaults to 'color_blind',
alternatively choose 'gray' for gray scale values or 'default' for the ggplot2 default colors.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a <code>ggplot</code> object containing the Kaplan-Meier survival plot. Using the Shiny App version of
dropR, this plot can easily be downloaded in different formats.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>plot_do_kpm(do_kpm(d = add_dropout_idx(dropRdemo, 3:54),
condition_col = "experimental_condition",
model_fit = "total"))

plot_do_kpm(do_kpm(d = add_dropout_idx(dropRdemo, 3:54),
condition_col = "experimental_condition",
model_fit = "conditions"), sel_conds = c("11", "12", "21", "22"))

</code></pre>

<hr>
<h2 id='plot_do_ks'>Plot Most Extreme Conditions to Visualize Kolmogorov-Smirnov Test Results</h2><span id='topic+plot_do_ks'></span>

<h3>Description</h3>

<p>With this function, you can easily plot the most extreme conditions, a.k.a. those with the most
different dropout rates at a certain question. You need to define that question in the function call of
<code><a href="#topic+do_ks">do_ks()</a></code> already, or just call that function directly inside the plot function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_do_ks(
  do_stats,
  ks,
  linetypes = FALSE,
  show_confbands = FALSE,
  color_palette = c("#E69F00", "#CC79A7")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_do_ks_+3A_do_stats">do_stats</code></td>
<td>
<p>data.frame containing dropout statistics table computed by <code><a href="#topic+compute_stats">compute_stats()</a></code>.
Make sure your do_stats table contains a q_idx column indexing all question-items sequentially.</p>
</td></tr>
<tr><td><code id="plot_do_ks_+3A_ks">ks</code></td>
<td>
<p>List of results from the <code><a href="#topic+do_ks">do_ks()</a></code> function coding most extreme dropout conditions</p>
</td></tr>
<tr><td><code id="plot_do_ks_+3A_linetypes">linetypes</code></td>
<td>
<p>boolean Should different line types be used? Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="plot_do_ks_+3A_show_confbands">show_confbands</code></td>
<td>
<p>boolean Should there be confidence bands added to the plot? Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="plot_do_ks_+3A_color_palette">color_palette</code></td>
<td>
<p>character indicating which color palette to use. Defaults to color blind friendly values,
alternatively choose 'gray' or create your own palette with two colors, e.g. using R <code><a href="grDevices.html#topic+colors">colors()</a></code> or HEX-values</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a <code>ggplot</code> object containing the survival curve plot of the most extreme
dropout conditions. Using the Shiny App version of dropR, this plot can easily be downloaded in different formats.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+compute_stats">compute_stats()</a></code>, <code><a href="#topic+do_ks">do_ks()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>do_stats &lt;- compute_stats(add_dropout_idx(dropRdemo, 3:54), 
by_cond = "experimental_condition",
no_of_vars = 52)

ks &lt;- do_ks(do_stats, 52)

plot_do_ks(do_stats, ks, color_palette = "gray")

# ... or call the do_ks() function directly inside the plotting function
plot_do_ks(do_stats, do_ks(do_stats, 30))

plot_do_ks(do_stats, ks, linetypes = TRUE, 
show_confbands = TRUE, color_palette = c("red", "violet"))

</code></pre>

<hr>
<h2 id='start_app'>Start the dropR Shiny App</h2><span id='topic+start_app'></span>

<h3>Description</h3>

<p>Starts the interactive web application to use dropR in your web browser.
Make sure to use Google Chrome or Firefox for best experience.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>start_app()
</code></pre>


<h3>Details</h3>

<p>The app will give less experienced R users or statisticians a good overview of
how to conduct dropout analysis. For more experienced analysts, it can still be very helpful
in guiding how to use the package as there are some steps that should be taken in order,
which is outlined in the app (as well as function documentation).
</p>


<h3>Value</h3>

<p>No return value; starts the shiny app as a helper to get started with dropout analysis. All app procedures are available as functions.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

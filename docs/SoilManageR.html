<!DOCTYPE html><html lang="en"><head><title>Help for package SoilManageR</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {SoilManageR}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#SoilManageR-package'><p>SoilManageR: Calculate Soil Management Indicators for Agricultural Practice Assessment</p></a></li>
<li><a href='#+25+26gt+3B+25'><p>Pipe operator</p></a></li>
<li><a href='#arrange_management_df'><p>arrange management_df by date, category</p></a></li>
<li><a href='#C_input'><p>Estimate carbon input</p></a></li>
<li><a href='#C_input_cover_crops'><p>Estimate C inputs by cover crops</p></a></li>
<li><a href='#C_input_crops'><p>Estimate C inputs by crops</p></a></li>
<li><a href='#C_input_crops_LUT'><p>Look-up-table with default values to calculate carbon (C) inputs by crops</p></a></li>
<li><a href='#calculate_indicators'><p>Calculate all soil management indicators</p></a></li>
<li><a href='#check_management_df'><p>Check management_df for consitency</p></a></li>
<li><a href='#CN_input_amendments'><p>Estimate C and N inputs of organic amendments</p></a></li>
<li><a href='#CN_input_amendments_LUT'><p>Look-up-table with default values to calculate C and N inputs by organic amendments</p></a></li>
<li><a href='#EXAMPLE_data'><p>Example of a management_df</p></a></li>
<li><a href='#filter_management_df'><p>Filter management_df for pattern in comments</p></a></li>
<li><a href='#management_df'><p>Constructor for management_df</p></a></li>
<li><a href='#management_df_from_excel'><p>Import management_df from excel file</p></a></li>
<li><a href='#N_input'><p>Estimate nitrogen input</p></a></li>
<li><a href='#plant_cover'><p>Estimate soil cover percentage by plants</p></a></li>
<li><a href='#plant_cover_LUT'><p>Look-up-table with default values to estimate soil cover by plants</p></a></li>
<li><a href='#plant_diversity'><p>Calculate plant diversity indicators</p></a></li>
<li><a href='#plot_management_df'><p>Plot a management dataframe</p></a></li>
<li><a href='#plot.soil_cover_tibble'><p>Plotting soil_cover_tibbles</p></a></li>
<li><a href='#productivity_indicator'><p>Calculate average productivity</p></a></li>
<li><a href='#relative_yield'><p>Calculate relative yield</p></a></li>
<li><a href='#shannon_index'><p>Calculate Shannon Index for diversity</p></a></li>
<li><a href='#soil_cover'><p>Estimate soil cover by plants and residues</p></a></li>
<li><a href='#STIR'><p>Calculate STIR value</p></a></li>
<li><a href='#STIR_values_LUT'><p>Look-up-table with default values for tillage operations</p></a></li>
<li><a href='#tillage_intensity'><p>Estimate tillage intensity</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Calculate Soil Management Indicators for Agricultural Practice
Assessment</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Calculate numerical agricultural soil management indicators from on a management timeline of an arable field. Currently, indicators for carbon (C) input into the soil system, soil tillage intensity rating (STIR), number of soil cover and living plant cover days, N fertilization and livestock intensity, and plant diversity are implemented.
    The functions can also be used independently of the management timeline to calculate some indicators. The package contains tables with reference information for the functions, as well as a '*.xlsx' template to collect the management data.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Imports:</td>
<td>magrittr (&ge; 2.0.3), dplyr (&ge; 1.1.4), lubridate (&ge; 1.9.2),
ggplot2 (&ge; 3.4.4), ggthemes (&ge; 5.0.0), tidyr (&ge; 1.3.0),
tibble (&ge; 3.2.1), readxl (&ge; 1.4.3), Rdpack (&ge; 2.6)</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>RdMacros:</td>
<td>Rdpack</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://gitlab.com/SoilManageR/">https://gitlab.com/SoilManageR/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://gitlab.com/SoilManageR/SoilManageR/-/issues">https://gitlab.com/SoilManageR/SoilManageR/-/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-09-29 18:51:20 UTC; f80826871</td>
</tr>
<tr>
<td>Author:</td>
<td>Olivier Heller <a href="https://orcid.org/0000-0002-5918-4161"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [cre, aut],
  Raphaël Wittwer <a href="https://orcid.org/0000-0002-2129-7195"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Olivier Heller &lt;olivier.heller@agroscope.admin.ch&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-10-01 10:00:07 UTC</td>
</tr>
</table>
<hr>
<h2 id='SoilManageR-package'>SoilManageR: Calculate Soil Management Indicators for Agricultural Practice Assessment</h2><span id='topic+SoilManageR'></span><span id='topic+SoilManageR-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>Calculate numerical agricultural soil management indicators from on a management timeline of an arable field. Currently, indicators for carbon (C) input into the soil system, soil tillage intensity rating (STIR), number of soil cover and living plant cover days, N fertilization and livestock intensity, and plant diversity are implemented. The functions can also be used independently of the management timeline to calculate some indicators. The package contains tables with reference information for the functions, as well as a '*.xlsx' template to collect the management data.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Olivier Heller <a href="mailto:olivier.heller@agroscope.admin.ch">olivier.heller@agroscope.admin.ch</a> (<a href="https://orcid.org/0000-0002-5918-4161">ORCID</a>)
</p>
<p>Other contributors:
</p>

<ul>
<li><p> Raphaël Wittwer <a href="mailto:raphael.witter@agroscope.admin.ch">raphael.witter@agroscope.admin.ch</a> (<a href="https://orcid.org/0000-0002-2129-7195">ORCID</a>) [contributor]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://gitlab.com/SoilManageR/">https://gitlab.com/SoilManageR/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://gitlab.com/SoilManageR/SoilManageR/-/issues">https://gitlab.com/SoilManageR/SoilManageR/-/issues</a>
</p>
</li></ul>


<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>See <code>magrittr::<a href="magrittr.html#topic+pipe">%&gt;%</a></code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_lhs">lhs</code></td>
<td>
<p>A value or the magrittr placeholder.</p>
</td></tr>
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_rhs">rhs</code></td>
<td>
<p>A function call using the magrittr semantics.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The result of calling 'rhs(lhs)'.
</p>

<hr>
<h2 id='arrange_management_df'>arrange management_df by date, category</h2><span id='topic+arrange_management_df'></span>

<h3>Description</h3>

<p>the funciton arranges the management_df by date and by category of operations.
The order of the operations is harvest, fertilizer_application,crop_protection,
tillage, sowing, irrigation, other
</p>


<h3>Usage</h3>

<pre><code class='language-R'>arrange_management_df(var_MGMT_data, include.combination = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="arrange_management_df_+3A_var_mgmt_data">var_MGMT_data</code></td>
<td>
<p>management_df to be arranged</p>
</td></tr>
<tr><td><code id="arrange_management_df_+3A_include.combination">include.combination</code></td>
<td>
<p>logical, if the combinations should considered
Default is TRUE</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a rearranged management_df
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#rearrange EXAMPLE data
arrange_management_df(EXAMPLE_data)

</code></pre>

<hr>
<h2 id='C_input'>Estimate carbon input</h2><span id='topic+C_input'></span>

<h3>Description</h3>

<p><code><a href="#topic+C_input">C_input()</a></code> estimates the carbon (C) input into the soil system per year of a
<code>management_df</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>C_input(var_MGMT_data, extended.output = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="C_input_+3A_var_mgmt_data">var_MGMT_data</code></td>
<td>
<p>a <code>management_df</code> that contains the management information</p>
</td></tr>
<tr><td><code id="C_input_+3A_extended.output">extended.output</code></td>
<td>
<p>an optional logical value.
</p>

<ul>
<li><p> If FALSE, C input values are aggregated by year.
</p>
</li>
<li><p> If TRUE, a tibble with daily resolution is returned.
</p>
</li>
<li><p> Default value is FALSE
</p>
</li></ul>
</td></tr>
</table>


<h3>Details</h3>

<p>The function takes a <code>management_df</code> as input and returns
a C input values per year in the <code>management_df</code>.
</p>
<p>Alternatively, it can return a tibble with all managememnt operations and
their respective C input values.
</p>
<p>The functions calculates the C input with the <code><a href="#topic+C_input_crops">C_input_crops()</a></code>,
<code><a href="#topic+C_input_cover_crops">C_input_cover_crops()</a></code> and <code><a href="#topic+CN_input_amendments">CN_input_amendments()</a></code> functions.
</p>


<h3>Value</h3>


<ul>
<li><p> By default, a tibble with C input values (total and by category)
by year is returned.
</p>
</li>
<li><p> If <code>extended.output = TRUE</code>, a tibble with all management operations and their
respecitve C inputs is returned.
</p>
</li></ul>



<h3>See Also</h3>


<ul>
<li> <p><code><a href="#topic+calculate_indicators">calculate_indicators()</a></code> to calculate all management indicators
for a <code>management_df</code>
</p>
</li>
<li> <p><code><a href="#topic+C_input_crops">C_input_crops()</a></code> to calculate C input for crops
</p>
</li>
<li> <p><code><a href="#topic+C_input_cover_crops">C_input_cover_crops()</a></code> to calculate C input for cover crops
</p>
</li>
<li> <p><code><a href="#topic+CN_input_amendments">CN_input_amendments()</a></code> to calculate C (and N) inputs for organic amendments
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>#example that returns annual C input values
C_input(EXAMPLE_data)

#example that returns a tibble with all operations that have a C input
C_input(EXAMPLE_data, extended.output = TRUE)

</code></pre>

<hr>
<h2 id='C_input_cover_crops'>Estimate C inputs by cover crops</h2><span id='topic+C_input_cover_crops'></span>

<h3>Description</h3>

<p>This function estimates the Carbon (C) input into the soil system by cover crops
based on the duration of the cover crop stand.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>C_input_cover_crops(
  abvg_biomass = NA,
  days = 180,
  min_C_abvg = 1253,
  min_days = 180,
  max_C_abvg = 1916,
  max_days = 240,
  Cc_biomass = 450
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="C_input_cover_crops_+3A_abvg_biomass">abvg_biomass</code></td>
<td>
<p>(optional): Dry weight of aboveground biomass of the cover crop (<code>tDM/ha</code>)</p>
</td></tr>
<tr><td><code id="C_input_cover_crops_+3A_days">days</code></td>
<td>
<p>(optional): Number of days that the cover crop was established. If no value is provided, mind_days is assumed (<code>days</code>)</p>
</td></tr>
<tr><td><code id="C_input_cover_crops_+3A_min_c_abvg">min_C_abvg</code></td>
<td>
<p>(optional): Minimal above ground C that the cover crop produces, given it is established for the min_days number of days. Default value is 1.253 (<code>kgC/ha</code>)</p>
</td></tr>
<tr><td><code id="C_input_cover_crops_+3A_min_days">min_days</code></td>
<td>
<p>(optional): Number of days where the interpolation of the biomass starts. The default value is 180 (<code>days</code>)</p>
</td></tr>
<tr><td><code id="C_input_cover_crops_+3A_max_c_abvg">max_C_abvg</code></td>
<td>
<p>(optional): Maximum biomass that the cover crop can produce. Default value is 1.916 (<code>kgC/ha</code>)</p>
</td></tr>
<tr><td><code id="C_input_cover_crops_+3A_max_days">max_days</code></td>
<td>
<p>(optional): Number of days when the maximum biomass of the cover crop is reached. The default value is 240 (<code>days</code>)</p>
</td></tr>
<tr><td><code id="C_input_cover_crops_+3A_cc_biomass">Cc_biomass</code></td>
<td>
<p>(optional): Assumed C content of the cover crop biomass. Default value is 450 (<code>kgC/tDM</code>)</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code><a href="#topic+C_input_cover_crops">C_input_cover_crops()</a></code> internally calls <code><a href="#topic+C_input_crops">C_input_crops()</a></code> to calculate the
different C fractions. The C in the above ground biomass (<code class="reqn">C_{Product}</code>)
is a function of the time a cover crop is established. A minimum and
a maximum cover crop biomass are assumed at 180 and 240 days respectively,
and linearly interpolated for the period in between.
</p>
<p style="text-align: center;"><code class="reqn">C_{Product} = \begin{cases} 
 1253\ kgC/ha \ , \ duration &lt; 180 \ days \\
 1253 \ kgC/ha \ + \ (duration - 180  \ days) \ * \frac{663 \ kgC/ha}{60 \ days} \     , \ 180 \ days \leq duration \leq 240 \ days \\
 1916 \ kgC/ha \ , \ duration &gt; 240 \ days
 \end{cases}</code>
</p>

<p>Assumptions on the C inputs at day 180 and 240 are based on values
extracted from Seitz et al. (2022).
</p>
<p>The remaining parameters to calculate the C input by cover crops are
<code>HI = 1</code>, <code>SER = 3.67</code>, and <code>REF = 0.31</code>, all derived from Seitz et al. (2022).
</p>
<p>Note, that with these assumptions the C input of short term cover crops
(e.g. few weeks) is overestimated.
</p>
<p>The function <code><a href="#topic+C_input_cover_crops">C_input_cover_crops()</a></code> estimates the C input by applying the
assumptions mentioned above. Alternatively, the user can
supply an above ground biomass and a CC of the biomass,
or other parameters to estimate the C input by cover crops.
</p>


<h3>Value</h3>

<p>a tibble with the following parameters:
</p>

<ul>
<li><p> C_input_product: Estimated soil carbon input from product (i.e., the cover corp aboveground biomass) (<code>kgC/ha</code>),
</p>
</li>
<li><p> C_input_straw: Estimated soil carbon input by straw or other residues (typically 0 for cover crops) (<code>kgC/ha</code>),
</p>
</li>
<li><p> C_input_root: Estimated soil carbon input by roots (<code>kgC/ha</code>),
</p>
</li>
<li><p> C_input_exudate: Estimated soil carbon input by roots (<code>kgC/ha</code>),
</p>
</li>
<li><p> C_input_total: Total estimated Soil carbon input, sum of C_input_straw, C_input_root, C_input_exudate (<code>kgC/ha</code>),
</p>
</li></ul>



<h3>References</h3>

<p>Seitz D, Fischer LM, Dechow R, Wiesmeier M, Don A (2022).
&ldquo;The potential of cover crops to increase soil organic carbon storage in German croplands.&rdquo;
<em>Plant and Soil</em>, <b>488</b>(1-2), 157&ndash;173.
<a href="https://doi.org/10.1007/s11104-022-05438-w">doi:10.1007/s11104-022-05438-w</a>.
</p>


<h3>See Also</h3>


<ul>
<li> <p><code><a href="#topic+C_input">C_input()</a></code> to calculate C inputs for a <code>management_df</code>
</p>
</li>
<li> <p><code><a href="#topic+C_input_crops">C_input_crops()</a></code> to calculate C input for crops
</p>
</li>
<li> <p><code><a href="#topic+CN_input_amendments">CN_input_amendments()</a></code> to calculate C (and N) inputs for organic amendments
</p>
</li>
<li> <p><code><a href="#topic+C_input_crops_LUT">C_input_crops_LUT()</a></code> for the look-up-table for crop reference values
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>#example when only the duration is known
C_input_cover_crops(days = 205) 

#example if the cover crop biomass is known
C_input_cover_crops(abvg_biomass = 2.5, Cc_biomass = 450) 

#example with custom assumptions on the above ground biomass developnent over time
C_input_cover_crops(days = 60, min_C_abvg = 600 , min_days = 50, max_C_abvg = 1916, max_days = 240)

</code></pre>

<hr>
<h2 id='C_input_crops'>Estimate C inputs by crops</h2><span id='topic+C_input_crops'></span>

<h3>Description</h3>

<p>Calculates the estimated carbon (C) input into the soil system by harvested main crops.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>C_input_crops(
  crop,
  crop_product = NA,
  crop_residue = NA,
  harvest_index = NA,
  variable_harvest_index = NA,
  HI_intercept = NA,
  HI_slope = NA,
  shoot_root_ratio = NA,
  root_exudation_factor = NA,
  Cc_product = 450,
  Cc_residue = 450,
  Cc_root = 450,
  straw.removal = NA,
  fixed_belowground_input = NA,
  fixed_C_input_root = NA,
  return.comment = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="C_input_crops_+3A_crop">crop</code></td>
<td>
<p>Crop type. Must match predefined list (see <code>C_input_crops_LUT</code>)</p>
</td></tr>
<tr><td><code id="C_input_crops_+3A_crop_product">crop_product</code></td>
<td>
<p>(optional) Dry weight of the exported product, i.e. yield. Default value is taken from table (tDM/ha)</p>
</td></tr>
<tr><td><code id="C_input_crops_+3A_crop_residue">crop_residue</code></td>
<td>
<p>(optional) Dry weight of the residues of the main crop (e.g., straw, sugar beet leaves) (tDM/ha)</p>
</td></tr>
<tr><td><code id="C_input_crops_+3A_harvest_index">harvest_index</code></td>
<td>
<p>(optional) Ratio of the product to the total above ground biomass</p>
</td></tr>
<tr><td><code id="C_input_crops_+3A_variable_harvest_index">variable_harvest_index</code></td>
<td>
<p>(optional) Logical value that is TRUE if the variable harvest index assumptions of Fan et al. (2017) are to be applied (TRUE / FALSE)</p>
</td></tr>
<tr><td><code id="C_input_crops_+3A_hi_intercept">HI_intercept</code></td>
<td>
<p>(optional) Intercept of the variable harvest index. Values provided by Fan et al. (2017)</p>
</td></tr>
<tr><td><code id="C_input_crops_+3A_hi_slope">HI_slope</code></td>
<td>
<p>(optional) Slope of the variable harvest index. Values provided by Fan et al. (2017) (ha/tDM)</p>
</td></tr>
<tr><td><code id="C_input_crops_+3A_shoot_root_ratio">shoot_root_ratio</code></td>
<td>
<p>(optional) Ratio of the total above ground biomass to the root biomass</p>
</td></tr>
<tr><td><code id="C_input_crops_+3A_root_exudation_factor">root_exudation_factor</code></td>
<td>
<p>(optional) Ratio of the root exudated C to the C in the root biomass</p>
</td></tr>
<tr><td><code id="C_input_crops_+3A_cc_product">Cc_product</code></td>
<td>
<p>(optional) C concentration in the exported product. Default value is 450 (gC/kgDM)</p>
</td></tr>
<tr><td><code id="C_input_crops_+3A_cc_residue">Cc_residue</code></td>
<td>
<p>(optional) C concentration in the residues of the main crop. Default value is 450 (gC/kgDM)</p>
</td></tr>
<tr><td><code id="C_input_crops_+3A_cc_root">Cc_root</code></td>
<td>
<p>(optional) C concentration in the roots. Default value is 450 (gC/kgDM)</p>
</td></tr>
<tr><td><code id="C_input_crops_+3A_straw.removal">straw.removal</code></td>
<td>
<p>(optional) Logical value that is TRUE if straw is removed at harvest.
</p>

<ul>
<li><p> When NA then SR value from table is take
</p>
</li>
<li><p> When TRUE SS is 1
</p>
</li>
<li><p> When FALSE SS is 0.
</p>
</li>
<li><p> Default value is NA
</p>
</li></ul>
</td></tr>
<tr><td><code id="C_input_crops_+3A_fixed_belowground_input">fixed_belowground_input</code></td>
<td>
<p>(optional) Logical value that is TRUE if fixed below ground Carbon inputs are to be assumed (e.g. for temporary leys) (TRUE / FALSE)</p>
</td></tr>
<tr><td><code id="C_input_crops_+3A_fixed_c_input_root">fixed_C_input_root</code></td>
<td>
<p>(optional) amount of root C that is assumed if fixed_belowground_input is TRUE (kgC/ha)</p>
</td></tr>
<tr><td><code id="C_input_crops_+3A_return.comment">return.comment</code></td>
<td>
<p>(optional) logical value if comment are returned or not. Default = FALSE (TRUE/FALSE)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The annual C input by crops were estimated based on crop type and crop yield
with the allometric functions of Bolinder et al. (2007):
</p>
<p style="text-align: center;"><code class="reqn"> 
C_{Product} = Product * CC_{Product}
</code>
</p>

<p style="text-align: center;"><code class="reqn"> 
C_{Straw} = {Product}* \frac{1 - HI}{HI} * CC_{Straw}
</code>
</p>

<p style="text-align: center;"><code class="reqn">  
C_{Root} = \frac{Product}{SRR*HI} * CC_{Root}
</code>
</p>

<p style="text-align: center;"><code class="reqn">  
C_{Exudates} = C_{Root} * REF
</code>
</p>

<p>Where <code class="reqn">C</code> is the C per fraction (in kgC/ha) and <code class="reqn">CC</code> is the C
content of given fraction (kgC/tDM). <code class="reqn">Prodcuct</code> is the dry matter
yield of a crop in tDM/ha, <code class="reqn">HI</code> is the harvest index
(ratio of product total of product and straw), <code class="reqn">SRR</code> is the
ratio of the shoot biomass (product and straw) to the root biomass,
and <code class="reqn">REF</code> is the root exudation factor
(i.e., the ratio of the C exudated by the roots
to the C in the root biomass). All fractions are multiplied with
a crop and fraction specific <code class="reqn">S</code>-factor that determines the share
of the fraction that is returned to the soil.
</p>
<p>If not mentioned otherwise parameters were taken from the
publications of Bolinder et al. (2007),
Keel et al. (2017) or
Wüst-Galley et al. (2020).
Parameters for potatoes and sugar beets were derived from
Bolinder et al. (2015)
For temporary leys we assumed yield-independent annual
<code class="reqn">C_{Root}</code> of 1.5 MgC/ha and a <code class="reqn">REF</code> of 0.5
(Taghizadeh-Toosi et al. 2020).
Furthermore, like Wüst-Galley et al. (2020), the
belowground C input (<code class="reqn">C_{Root} + C_{Exudates}</code>) of corn maize,
silage maize and cereals were fixed to 0.46 MgC/ha, 1.1 MgC/ha and
0.6 MgC/ha respectively, based on the values from
Hirte et al. (2018).
Additionally, we applied the yield dependent harvest index
<code class="reqn">(HI = Intercept + Product * Slope)</code> proposed by
Fan et al. (2017) for cereals, faba beans,
peas, corn, rapeseed, and soybeans.
</p>
<p>Reference yields were derived from the Swiss fertilizer recommendations
Sinaj et al. (2017).
</p>
<p>All default values can be found in the look-up-table <code>C_input_crops_LUT</code>.
</p>


<h3>Value</h3>

<p>a tibble with the following parameters:
</p>

<ul>
<li><p> C_input_product: Estimated soil carbon input from product (e.g. damaged patatos) (kgC/ha),
</p>
</li>
<li><p> C_input_straw: Estimated soil carbon input by straw or other residues (kgC/ha),
</p>
</li>
<li><p> C_input_root: Estimated soil carbon input by roots (kgC/ha),
</p>
</li>
<li><p> C_input_exudate: Estimated soil carbon input by roots (kgC/ha),
</p>
</li>
<li><p> C_input_total: Total estimated Soil carbon input, sum of C_input_straw, C_input_root, C_input_exudate (kgC/ha),
</p>
</li>
<li><p> comment (optional): comment on the derived values
</p>
</li></ul>



<h3>References</h3>

<p>Bolinder MA, Janzen HH, Gregorich EG, Angers DA, VandenBygaart AJ (2007).
&ldquo;An approach for estimating net primary productivity and annual carbon inputs to soil for common agricultural crops in Canada.&rdquo;
<em>Agriculture, Ecosystems &amp; Environment</em>, <b>118</b>(1-4), 29&ndash;42.
<a href="https://doi.org/10.1016/j.agee.2006.05.013">doi:10.1016/j.agee.2006.05.013</a>.<br /><br /> Bolinder MA, Kätterer T, Poeplau C, Börjesson G, Parent LE (2015).
&ldquo;Net primary productivity and below-ground crop residue inputs for root crops: Potato (<em>Solanum tuberosum</em> L.) and sugar beet (<em>Beta vulgaris</em> L.).&rdquo;
<em>Canadian Journal of Soil Science</em>, <b>95</b>(2), 87&ndash;93.
<a href="https://doi.org/10.4141/cjss-2014-091">doi:10.4141/cjss-2014-091</a>.<br /><br /> Fan J, McConkey B, Janzen H, Townley-Smith L, Wang H (2017).
&ldquo;Harvest index - yield relationship for estimating crop residue in cold continental climates.&rdquo;
<em>Field Crops Research</em>, <b>204</b>, 153&ndash;157.
<a href="https://doi.org/10.1016/j.fcr.2017.01.014">doi:10.1016/j.fcr.2017.01.014</a>.<br /><br /> Hirte J, Leifeld J, Abiven S, Oberholzer H, Mayer J (2018).
&ldquo;Below ground carbon inputs to soil via root biomass and rhizodeposition of field-grown maize and wheat at harvest are independent of net primary productivity.&rdquo;
<em>Agriculture, Ecosystems &amp; Environment</em>, <b>265</b>, 556&ndash;566.
<a href="https://doi.org/10.1016/j.agee.2018.07.010">doi:10.1016/j.agee.2018.07.010</a>.<br /><br /> Keel SG, Leifeld J, Mayer J, Taghizadeh-Toosi A, Olesen JE (2017).
&ldquo;Large uncertainty in soil carbon modelling related to method of calculation of plant carbon input in agricultural systems.&rdquo;
<em>European Journal of Soil Science</em>, <b>68</b>(6), 953&ndash;963.
<a href="https://doi.org/10.1111/ejss.12454">doi:10.1111/ejss.12454</a>.<br /><br /> Sinaj S, Charles R, Baux A, Dupuis B, Hiltbrunner J, Levy Häner L, Pellet D, Blanchet G, Jeangros B (2017).
&ldquo;Grundlagen für die Düngung landwirtschaftlicher Kulturen in der Schweiz (GRUD): Düngung von Ackerkulturen.&rdquo;
<em>Agrarforschung Schweiz, Spezialpublikation</em>, <b>Chapter 8</b>(6), 1&ndash;46.
<a href="https://ira.agroscope.ch/en-US/Page/Publikation/Index/36799">https://ira.agroscope.ch/en-US/Page/Publikation/Index/36799</a>.<br /><br /> Taghizadeh-Toosi A, Cong W, Eriksen J, Mayer J, Olesen J, Keel SG, Glendining M, Kätterer T, Christensen BT (2020).
&ldquo;Visiting dark sides of model simulation of carbon stocks in European temperate agricultural soils: allometric function and model initialization.&rdquo;
<em>Plant and Soil</em>, <b>450</b>(1-2), 255&ndash;272.
<a href="https://doi.org/10.1007/s11104-020-04500-9">doi:10.1007/s11104-020-04500-9</a>.<br /><br /> Wüst-Galley C, Keel SG, Leifeld J (2020).
&ldquo;A model-based carbon inventory for Switzerland’s mineral agricultural soils using RothC.&rdquo;
<em>Agroscope Science</em>, 1&ndash;110.
<a href="https://doi.org/10.34776/as105e">doi:10.34776/as105e</a>.
</p>


<h3>See Also</h3>


<ul>
<li> <p><code><a href="#topic+C_input">C_input()</a></code> to calculate C inputs for a <code>management_df</code>
</p>
</li>
<li> <p><code><a href="#topic+C_input_cover_crops">C_input_cover_crops()</a></code> to calculate C input for cover crops
</p>
</li>
<li> <p><code><a href="#topic+CN_input_amendments">CN_input_amendments()</a></code> to calculate C (and N) inputs for organic amendments
</p>
</li>
<li> <p><code><a href="#topic+C_input_crops_LUT">C_input_crops_LUT()</a></code> for the look-up-table for crop reference values
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>#example without yield information, default yield is assumed
C_input_crops("wheat, winter")

#example with yield information and straw retention
C_input_crops("barley, spring", crop_product = 4.5, straw.removal = FALSE)

#example with more information
C_input_crops("barley, spring", crop_product = 4.5, harvest_index = 0.4,
              shoot_root_ratio = 2.4, root_exudation_factor = 0.5)

#example with variable harvest index
C_input_crops("barley, spring", crop_product = 4.5, variable_harvest_index = TRUE,
              HI_intercept = 0.35, HI_slope = 0.015, shoot_root_ratio = 2.4,
              root_exudation_factor = 0.5)

#example with fixed below ground input
C_input_crops("maize, silage", crop_product = 18.5, 
              fixed_belowground_input = TRUE, fixed_C_input_root = 1500,
              root_exudation_factor = 0.3) 
</code></pre>

<hr>
<h2 id='C_input_crops_LUT'>Look-up-table with default values to calculate carbon (C) inputs by crops</h2><span id='topic+C_input_crops_LUT'></span>

<h3>Description</h3>

<p>The data set is a look-up-table that is used to calculate the C inputs by
crops with the Bolinder formula, that is implemented in the function 
'SoilManageR::C_input_crops()'. The data set is produced from the excel table 
'C_input_crops_LUT.xlsx' file under '/inst/extdata/'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>C_input_crops_LUT
</code></pre>


<h3>Format</h3>

<p>A tibble with 28 rows and 19 columns:
</p>

<dl>
<dt>Crop</dt><dd><p>Name of the crop</p>
</dd>
<dt>RP</dt><dd><p>Ratio of the C in the product to the total carbon that is allocated by the plant (in a year)</p>
</dd>
<dt>RS</dt><dd><p>Ratio of the C in the above ground residues (e.g. straw) to the total carbon that is allocated by the plant (in a year)</p>
</dd>
<dt>RR</dt><dd><p>Ratio of the C in the plant roots to the total carbon that is allocated by the plant (in a year)</p>
</dd>
<dt>RE</dt><dd><p>Ratio of the C in the root exudates to the total carbon that is allocated by the plant (in a year)</p>
</dd>
<dt>SP</dt><dd><p>Proportion of the C in the Product that is transfered to the soil</p>
</dd>
<dt>SS</dt><dd><p>Proportion of the C in the above ground residues (e.g. straw) that is transfered to the soil</p>
</dd>
<dt>SR</dt><dd><p>Proportion of the C in the roots that is transfered to the soil</p>
</dd>
<dt>SE</dt><dd><p>Proportion of the C in root exudates that is transfered to the soil</p>
</dd>
<dt>crop_product</dt><dd><p>Reference yield, derived from the Swiss fertilizer recommendations (GRUD, 2017, Chapters 8 and 9) [tDM/ha]</p>
</dd>
<dt>harvest_index</dt><dd><p>Ratio of the product to the total of the product and the above ground residues. Calculated by RP/(RP+RS) (assuming all biomass has 45% C)</p>
</dd>
<dt>varible_harvest_index</dt><dd><p>Logical value, if the variable harvest index assumption of Fan et al. (2017) are to be aplied or not.</p>
</dd>
<dt>HI_intercept</dt><dd><p>Intercept of the variable harvest index assumption of Fan et al. (2017) are to be aplied.</p>
</dd>
<dt>HI_slope</dt><dd><p>Slope of the variable harvest index assumption of Fan et al. (2017) are to be aplied. [ha/tDM]</p>
</dd>
<dt>shoot_root_ratio</dt><dd><p>Ratio of the product and the above ground residues to the root biomass. Calculated by (RP+RS)/RR (assuming all biomass has 45% C)</p>
</dd>
<dt>root_exudation_factor</dt><dd><p>Ratio of the root exudates to the root biomass. Calculated by RE/RR (assuming all biomass has 45% C)</p>
</dd>
<dt>fixed_belowground_input</dt><dd><p>Logical value if the fixed below ground C allocation assumption of Taghizadeh-Toosi et al. (2020) is to be applied or not.</p>
</dd>
<dt>C_input_root</dt><dd><p>Fixed value of root carbon input that is to be assumed. [kgC/ha]</p>
</dd>
<dt>Source</dt><dd><p>Source where the information was derived.</p>
</dd>
</dl>



<h3>References</h3>

<p>Compilation of values from the SoilX project. Please check the 
'C_input_crops_LUT.xlsx' file under '/inst/extdata/' for more information.
</p>
<p>Bolinder MA, Janzen HH, Gregorich EG, Angers DA, VandenBygaart AJ (2007).
&ldquo;An approach for estimating net primary productivity and annual carbon inputs to soil for common agricultural crops in Canada.&rdquo;
<em>Agriculture, Ecosystems &amp; Environment</em>, <b>118</b>(1-4), 29&ndash;42.
<a href="https://doi.org/10.1016/j.agee.2006.05.013">doi:10.1016/j.agee.2006.05.013</a>.
</p>
<p>Bolinder MA, Kätterer T, Poeplau C, Börjesson G, Parent LE (2015).
&ldquo;Net primary productivity and below-ground crop residue inputs for root crops: Potato (<em>Solanum tuberosum</em> L.) and sugar beet (<em>Beta vulgaris</em> L.).&rdquo;
<em>Canadian Journal of Soil Science</em>, <b>95</b>(2), 87&ndash;93.
<a href="https://doi.org/10.4141/cjss-2014-091">doi:10.4141/cjss-2014-091</a>.
</p>
<p>Fan J, McConkey B, Janzen H, Townley-Smith L, Wang H (2017).
&ldquo;Harvest index - yield relationship for estimating crop residue in cold continental climates.&rdquo;
<em>Field Crops Research</em>, <b>204</b>, 153&ndash;157.
<a href="https://doi.org/10.1016/j.fcr.2017.01.014">doi:10.1016/j.fcr.2017.01.014</a>.
</p>
<p>Hirte J, Leifeld J, Abiven S, Oberholzer H, Mayer J (2018).
&ldquo;Below ground carbon inputs to soil via root biomass and rhizodeposition of field-grown maize and wheat at harvest are independent of net primary productivity.&rdquo;
<em>Agriculture, Ecosystems &amp; Environment</em>, <b>265</b>, 556&ndash;566.
<a href="https://doi.org/10.1016/j.agee.2018.07.010">doi:10.1016/j.agee.2018.07.010</a>.
</p>
<p>Keel SG, Leifeld J, Mayer J, Taghizadeh-Toosi A, Olesen JE (2017).
&ldquo;Large uncertainty in soil carbon modelling related to method of calculation of plant carbon input in agricultural systems.&rdquo;
<em>European Journal of Soil Science</em>, <b>68</b>(6), 953&ndash;963.
<a href="https://doi.org/10.1111/ejss.12454">doi:10.1111/ejss.12454</a>.
</p>
<p>Seitz D, Fischer LM, Dechow R, Wiesmeier M, Don A (2022).
&ldquo;The potential of cover crops to increase soil organic carbon storage in German croplands.&rdquo;
<em>Plant and Soil</em>, <b>488</b>(1-2), 157&ndash;173.
<a href="https://doi.org/10.1007/s11104-022-05438-w">doi:10.1007/s11104-022-05438-w</a>.
</p>
<p>Sinaj S, Charles R, Baux A, Dupuis B, Hiltbrunner J, Levy Häner L, Pellet D, Blanchet G, Jeangros B (2017).
&ldquo;Grundlagen für die Düngung landwirtschaftlicher Kulturen in der Schweiz (GRUD): Düngung von Ackerkulturen.&rdquo;
<em>Agrarforschung Schweiz, Spezialpublikation</em>, <b>Chapter 8</b>(6), 1&ndash;46.
<a href="https://ira.agroscope.ch/en-US/Page/Publikation/Index/36799">https://ira.agroscope.ch/en-US/Page/Publikation/Index/36799</a>.
</p>
<p>Taghizadeh-Toosi A, Cong W, Eriksen J, Mayer J, Olesen J, Keel SG, Glendining M, Kätterer T, Christensen BT (2020).
&ldquo;Visiting dark sides of model simulation of carbon stocks in European temperate agricultural soils: allometric function and model initialization.&rdquo;
<em>Plant and Soil</em>, <b>450</b>(1-2), 255&ndash;272.
<a href="https://doi.org/10.1007/s11104-020-04500-9">doi:10.1007/s11104-020-04500-9</a>.
</p>
<p>Wüst-Galley C, Keel SG, Leifeld J (2020).
&ldquo;A model-based carbon inventory for Switzerland’s mineral agricultural soils using RothC.&rdquo;
<em>Agroscope Science</em>, 1&ndash;110.
<a href="https://doi.org/10.34776/as105e">doi:10.34776/as105e</a>.
</p>

<hr>
<h2 id='calculate_indicators'>Calculate all soil management indicators</h2><span id='topic+calculate_indicators'></span>

<h3>Description</h3>

<p>Checks the <code>management_df</code> for consitency with the <code><a href="#topic+check_management_df">check_management_df()</a></code> function.
Then it calculates the <code><a href="#topic+C_input">C_input()</a></code>, <code><a href="#topic+tillage_intensity">tillage_intensity()</a></code>, <code><a href="#topic+soil_cover">soil_cover()</a></code>,<code><a href="#topic+plant_diversity">plant_diversity()</a></code>
<code><a href="#topic+N_input">N_input()</a></code> and <code><a href="#topic+productivity_indicator">productivity_indicator()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calculate_indicators(var_MGMT_data)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="calculate_indicators_+3A_var_mgmt_data">var_MGMT_data</code></td>
<td>
<p>a <code>management_df</code> with a management history</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data frame with indices per year
</p>


<h3>See Also</h3>


<ul>
<li> <p><code><a href="#topic+check_management_df">check_management_df()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+C_input">C_input()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+tillage_intensity">tillage_intensity()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+soil_cover">soil_cover()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+N_input">N_input()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+plant_diversity">plant_diversity()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+productivity_indicator">productivity_indicator()</a></code>
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>

  #example input
  calculate_indicators(EXAMPLE_data)


</code></pre>

<hr>
<h2 id='check_management_df'>Check management_df for consitency</h2><span id='topic+check_management_df'></span>

<h3>Description</h3>

<p>The function checkes objects of the class <code><a href="#topic+management_df">management_df()</a></code> for internal consistency.
It formally checks the class and the column names.
Additionally, the function checks if dates are consistently increasing
and if all organic amendments, tillage and sowing devices and crops
are in the relevant look-up-tables.
Furthermore, the amount of organic amendments (&lt;100t/ha) and
N fertilizer (&lt;100kgN/ha) application rates per event are checked.
The depth of tillage operations are compared with the min and max depth
from the <code>STIR_value_LUT</code>.
Finally, the order of tillage, sowing and harvest operations are checked
for plausibility (see details for more information).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_management_df(var_MGMT_data)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="check_management_df_+3A_var_mgmt_data">var_MGMT_data</code></td>
<td>
<p>an object of the <code><a href="#topic+management_df">management_df()</a></code> class</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The order of tillage, sowing and harvest operations are checked with the following assumptions:
</p>

<ul>
<li><p> after &quot;stubble_cultivation&quot; the following operations are allowed: &quot;stubble_cultivation&quot;, &quot;primary_tillage&quot;, &quot;seedbed_preparation&quot;, &quot;sowing_main_crop&quot;, &quot;sowing_cover_crop&quot;
</p>
</li>
<li><p> after &quot;primary_tillage&quot; the following operations are allowed: &quot;seedbed_preparation&quot;, &quot;sowing_main_crop&quot;, &quot;sowing_cover_crop&quot;
</p>
</li>
<li><p> after &quot;seedbed_preparation&quot; the following operations are allowed: &quot;stubble_cultivation&quot;, &quot;seedbed_preparation&quot;, &quot;sowing_main_crop&quot;, &quot;sowing_cover_crop&quot;
</p>
</li>
<li><p> after &quot;sowing_main_crop&quot; the following operations are allowed: &quot;sowing_main_crop&quot;, &quot;harvest_main_crop&quot;
</p>
</li>
<li><p> after &quot;sowing_cover_crop&quot; the following operations are allowed: &quot;stubble_cultivation&quot;, &quot;primary_tillage&quot;, &quot;seedbed_preparation&quot;, &quot;sowing_main_crop&quot;, &quot;sowing_cover_crop&quot;
</p>
</li>
<li><p> after &quot;harvest_main_crop&quot; the following operations are allowed: &quot;harvest_main_crop&quot;, &quot;straw_removal&quot;, &quot;stubble_cultivation&quot;, &quot;primary_tillage&quot;, &quot;seedbed_preparation&quot;, &quot;sowing_main_crop&quot;, &quot;sowing_cover_crop&quot;
</p>
</li>
<li><p> after &quot;straw_removal&quot; the following operations are allowed: &quot;harvest_main_crop&quot;, &quot;straw_removal&quot;, &quot;stubble_cultivation&quot;, &quot;primary_tillage&quot;, &quot;seedbed_preparation&quot;, &quot;sowing_main_crop&quot;, &quot;sowing_cover_crop&quot;
</p>
</li></ul>

<p>Additionally, there are exceptions for potato crops: &quot;bedder&quot; can be used after a &quot;potato_planter&quot; and &quot;mulching&quot; can be applied before a &quot;potato_harvester&quot;
</p>


<h3>Value</h3>

<p>a test_report list (only returned if some tests failed)
</p>


<h3>See Also</h3>


<ul>
<li> <p><code><a href="#topic+management_df">management_df()</a></code> for creating an management_df
</p>
</li>
<li> <p><code><a href="#topic+management_df_from_excel">management_df_from_excel()</a></code> for importing a management_df from an excel template
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>#example input
check_management_df(EXAMPLE_data)
</code></pre>

<hr>
<h2 id='CN_input_amendments'>Estimate C and N inputs of organic amendments</h2><span id='topic+CN_input_amendments'></span>

<h3>Description</h3>

<p>Estimates the carbon (C) and total nitrogen (N) input into
the soil system by organic amendments.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CN_input_amendments(
  amount,
  amd_type = NA,
  DMC = NA,
  C_content = NA,
  N_content = NA,
  return.comment = FALSE,
  concentration_liquids = 0.5
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="CN_input_amendments_+3A_amount">amount</code></td>
<td>
<p>Amount of organic amendment in fresh weight (t/ha)</p>
</td></tr>
<tr><td><code id="CN_input_amendments_+3A_amd_type">amd_type</code></td>
<td>
<p>Type of organic manure, there are default values available for
&quot;Slurry_dairy_cow&quot;, &quot;Manure_dairy_cow&quot;, &quot;Slurry_cattle&quot;, &quot;Manure_cattle&quot;, &quot;Slurry_pig&quot;,
&quot;Manure_pig&quot;, &quot;Compost&quot;, &quot;Biorga_Quick_12N&quot; and others (see <code>CN_input_amendments_LUT</code>)</p>
</td></tr>
<tr><td><code id="CN_input_amendments_+3A_dmc">DMC</code></td>
<td>
<p>dry matter content of the organic amendment (gDM/kgFM)</p>
</td></tr>
<tr><td><code id="CN_input_amendments_+3A_c_content">C_content</code></td>
<td>
<p>C content of the dry matter (gC/kgDM)</p>
</td></tr>
<tr><td><code id="CN_input_amendments_+3A_n_content">N_content</code></td>
<td>
<p>N content of the dry matter (gN/kgDM)</p>
</td></tr>
<tr><td><code id="CN_input_amendments_+3A_return.comment">return.comment</code></td>
<td>
<p>(optional): logical value if comments are returned or not. Default = FALSE</p>
</td></tr>
<tr><td><code id="CN_input_amendments_+3A_concentration_liquids">concentration_liquids</code></td>
<td>
<p>concentration factor for liquid amendments. Default value is .5.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The C and N inputs by organic amendments is calculated based on the
dry matter content (DMC) and the C and N content of the dry matter
of the amendment. If the contents are not specified,
default values from the Swiss fertilizer recommendations
(Sinaj et al. 2017) are assumed.
The default values are available the look-up-table <code>CN_input_amendments_LUT</code>
For all slurries and liquid amendments (DMC &lt; 150 g/kg), a dilution of 50% is
assumed if default DMC values from the <code>CN_input_amendments_LUT</code> are used.
</p>


<h3>Value</h3>

<p>a tibble with the following parameters:
</p>

<ul>
<li><p> C_input_org: C input by organic ammendment (kgC/ha)
</p>
</li>
<li><p> N_input_org: N input by organic ammendment (kgN/ha)
</p>
</li>
<li><p> comment (optional): Source of information on properties of organic amendment
</p>
</li></ul>



<h3>References</h3>

<p>Sinaj S, Charles R, Baux A, Dupuis B, Hiltbrunner J, Levy Häner L, Pellet D, Blanchet G, Jeangros B (2017).
&ldquo;Grundlagen für die Düngung landwirtschaftlicher Kulturen in der Schweiz (GRUD): Düngung von Ackerkulturen.&rdquo;
<em>Agrarforschung Schweiz, Spezialpublikation</em>, <b>Chapter 8</b>(6), 1&ndash;46.
<a href="https://ira.agroscope.ch/en-US/Page/Publikation/Index/36799">https://ira.agroscope.ch/en-US/Page/Publikation/Index/36799</a>.
</p>


<h3>See Also</h3>


<ul>
<li> <p><code><a href="#topic+C_input">C_input()</a></code> to calculate C inputs for a management_df
</p>
</li>
<li> <p><code><a href="#topic+N_input">N_input()</a></code> to calculate N inputs for a management_df
</p>
</li>
<li> <p><code><a href="#topic+C_input_crops">C_input_crops()</a></code> to calculate C inputs by crops
</p>
</li>
<li> <p><code><a href="#topic+C_input_cover_crops">C_input_cover_crops()</a></code> to calculate C input for cover crops
</p>
</li>
<li> <p><code><a href="#topic+CN_input_amendments_LUT">CN_input_amendments_LUT()</a></code> for the look-up-table for organic amendments reference values
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>#example where amount, dry matter content, C and N content are known.
CN_input_amendments(40, DMC = 300, C_content = 300, N_content = 30)

#example where only amount and type of amendment are known 
CN_input_amendments(20, "Manure_pig")

#example of a diluted slurry
CN_input_amendments(20, amd_type = "Slurry_dairy_cow", DMC = 50)


</code></pre>

<hr>
<h2 id='CN_input_amendments_LUT'>Look-up-table with default values to calculate C and N inputs by organic amendments</h2><span id='topic+CN_input_amendments_LUT'></span>

<h3>Description</h3>

<p>The dataset is a look-up-table that is used to calculate the carbon (C) and
nitrogen (N) inputs by organic amendments with the function 
'SoilManageR::CN_input_amendments()'. The data set is produced from the excel
table 'CN_input_amendments_LUT.xlsx' file under '/inst/extdata/'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CN_input_amendments_LUT
</code></pre>


<h3>Format</h3>

<p>A tibble with 27 rows and 7 columns:
</p>

<dl>
<dt>Amendment</dt><dd><p>Name of the amendment</p>
</dd>
<dt>DMC</dt><dd><p>Dry matter content of the amendment [gDM/kgFM]</p>
</dd>
<dt>OM</dt><dd><p>Organic matter content of the amendment, relative to its fresh weight [gDM/kgFM]</p>
</dd>
<dt>C_content</dt><dd><p>Carbon content of the amendment, relative to its dry matter [gC/kgDM]</p>
</dd>
<dt>N_tot</dt><dd><p>Total N conent of the amendment, relative to it's dry fresh weight [gN/kgFM]</p>
</dd>
<dt>N_content</dt><dd><p>Nitrogen content of the amendment, relative to its dry matter [gN/kgDM]</p>
</dd>
<dt>Comment</dt><dd><p>Comment, e.g. source of the information. These lines are shown as part of the function output</p>
</dd>
</dl>



<h3>References</h3>

<p>Compilation of Values from the SoilX project.
Please check the 'CN_input_amendments_LUT.xlsx' file under '/inst/extdata/' 
for more information
</p>
<p>Sinaj S, Charles R, Baux A, Dupuis B, Hiltbrunner J, Levy Häner L, Pellet D, Blanchet G, Jeangros B (2017).
&ldquo;Grundlagen für die Düngung landwirtschaftlicher Kulturen in der Schweiz (GRUD): Düngung von Ackerkulturen.&rdquo;
<em>Agrarforschung Schweiz, Spezialpublikation</em>, <b>Chapter 8</b>(6), 1&ndash;46.
<a href="https://ira.agroscope.ch/en-US/Page/Publikation/Index/36799">https://ira.agroscope.ch/en-US/Page/Publikation/Index/36799</a>.
</p>
<p>Richner W, Flisch R, Mayer J, Schlegel P, Zähner M, Menzi H (2017).
&ldquo;Grundlagen für die Düngung landwirtschaftlicher Kulturen in der Schweiz (GRUD): Eigenschaften und Anwendung von Düngern.&rdquo;
<em>Agrarforschung Schweiz, Spezialpublikation</em>, <b>Chapter 4</b>(6), 1&ndash;24.
<a href="https://ira.agroscope.ch/en-US/publication/41476">https://ira.agroscope.ch/en-US/publication/41476</a>.
</p>

<hr>
<h2 id='EXAMPLE_data'>Example of a management_df</h2><span id='topic+EXAMPLE_data'></span>

<h3>Description</h3>

<p>The dataset is derived from a Swiss long term agricultural field experiment.
It is intended for demonstration purposes only
</p>


<h3>Usage</h3>

<pre><code class='language-R'>EXAMPLE_data
</code></pre>


<h3>Format</h3>

<p>A tibble with 130 rows and 13 columns:
</p>

<dl>
<dt>crop</dt><dd><p>Name of the main crop. Cover crop related operations are linked to the next main crop in the rotation [String from list]</p>
</dd>
<dt>date</dt><dd><p>Date of the management operation [Date]</p>
</dd>
<dt>year</dt><dd><p>Year of the management operation [Integer]</p>
</dd>
<dt>category</dt><dd><p>Categorization of the managment operation [1 level] [String from list]</p>
</dd>
<dt>operation</dt><dd><p>Categorization of the managment operation [2 level] [String from list]</p>
</dd>
<dt>device</dt><dd><p>Categorization of the managment operation [3 level] [String from list]</p>
</dd>
<dt>value</dt><dd><p>Numerical value linked to managment operation (e.g., depth of tillage operation, mass of organic amendment) [Integer]</p>
</dd>
<dt>unit</dt><dd><p>Unit of the numerical value (e.g. cm, t/ha) [String from list]</p>
</dd>
<dt>machine</dt><dd><p>Further information on the machine used (e.g., type, manufacturer, tool) [String [UTF-8]]</p>
</dd>
<dt>product</dt><dd><p>Further information on the applied product (e.g., name, manufacturer, C content) [String [UTF-8]]</p>
</dd>
<dt>combination</dt><dd><p>Indicate if a operation was done in combination with others.
Use consequtive integer numbers if combinded operations occur.
Leave empty if not combined</p>
</dd>
<dt>comments</dt><dd><p>Comments related to the management operation [String [UTF-8]]</p>
</dd>
<dt>DMC</dt><dd><p>Dry matter content of organic amendments [gDM/kgFM]</p>
</dd>
<dt>C_content</dt><dd><p>Carbon content of the amendments, relative to its dry matter [gC/kgDM]</p>
</dd>
<dt>N_content</dt><dd><p>Nitrogen content of organic amendments, relative to its dry matter [gN/kgDM]</p>
</dd>
<dt>crop_product</dt><dd><p>Crop product yield [tDM/ha]</p>
</dd>
<dt>crop_residue</dt><dd><p>Crop residue mass [tDM/ha]</p>
</dd>
<dt>Cc_product</dt><dd><p>Carbon content of the crop product [gC/kgDM$]</p>
</dd>
<dt>Cc_residue</dt><dd><p>Carbon content of the crop residue [gC/kgDM]</p>
</dd>
</dl>


<hr>
<h2 id='filter_management_df'>Filter management_df for pattern in comments</h2><span id='topic+filter_management_df'></span>

<h3>Description</h3>

<p>Excludes operations (lines) from management_df based on a character pattern
in the comments column.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>filter_management_df(var_MGMT_data, filter_pattern)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="filter_management_df_+3A_var_mgmt_data">var_MGMT_data</code></td>
<td>
<p>management_df</p>
</td></tr>
<tr><td><code id="filter_management_df_+3A_filter_pattern">filter_pattern</code></td>
<td>
<p>string based on which the lines should be excluded</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a filtered management_df
</p>


<h3>Examples</h3>

<pre><code class='language-R'># filter EXAMPLE_data and exclude all lines that contain "UFA 330" in comments
filter_management_df(EXAMPLE_data,"UFA 330")

</code></pre>

<hr>
<h2 id='management_df'>Constructor for management_df</h2><span id='topic+management_df'></span>

<h3>Description</h3>

<p>This function is a constructor for empty objects of the <code><a href="#topic+management_df">management_df()</a></code> class,
the core of the SoilManageR package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>management_df(
  crop = NA,
  year = NA,
  date = NA,
  category = NA,
  operation = NA,
  device = NA,
  value = NA,
  unit = NA,
  machine = NA,
  product = NA,
  combination = NA,
  comments = NA,
  DMC = NA,
  C_content = NA,
  N_content = NA,
  crop_product = NA,
  crop_residue = NA,
  Cc_product = NA,
  Cc_residue = NA
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="management_df_+3A_crop">crop</code></td>
<td>
<p>Name of the main crop. Must match a pre-existing list</p>
</td></tr>
<tr><td><code id="management_df_+3A_year">year</code></td>
<td>
<p>Year of the management operation (&quot;YYYY&quot;)</p>
</td></tr>
<tr><td><code id="management_df_+3A_date">date</code></td>
<td>
<p>Date of the management operation (&quot;YYYY-MM-DD&quot;)</p>
</td></tr>
<tr><td><code id="management_df_+3A_category">category</code></td>
<td>
<p>Categorization of the managment operation (1 level). Must match a pre-existing list.</p>
</td></tr>
<tr><td><code id="management_df_+3A_operation">operation</code></td>
<td>
<p>Categorization of the managment operation (2 level). Must match a pre-existing list.</p>
</td></tr>
<tr><td><code id="management_df_+3A_device">device</code></td>
<td>
<p>Categorization of the managment operation (3 level). Must match a pre-existing list.</p>
</td></tr>
<tr><td><code id="management_df_+3A_value">value</code></td>
<td>
<p>Numerical value linked to managment operation (e.g., depth of tillage operation, mass of organic amendment)</p>
</td></tr>
<tr><td><code id="management_df_+3A_unit">unit</code></td>
<td>
<p>Unit of the numerical value (e.g. cm, t/ha)</p>
</td></tr>
<tr><td><code id="management_df_+3A_machine">machine</code></td>
<td>
<p>Further information on the machine used (e.g., type, manufacturer, tool)</p>
</td></tr>
<tr><td><code id="management_df_+3A_product">product</code></td>
<td>
<p>Further information on the applied product (e.g., name, manufacturer). Must match pre-existing list for organic amendments.</p>
</td></tr>
<tr><td><code id="management_df_+3A_combination">combination</code></td>
<td>
<p>Indicate if a operation was done in combination with others. Use consequtive integer numbers if combinded operations occur. Leave empty if not combined.</p>
</td></tr>
<tr><td><code id="management_df_+3A_comments">comments</code></td>
<td>
<p>Comments related to the management operation</p>
</td></tr>
<tr><td><code id="management_df_+3A_dmc">DMC</code></td>
<td>
<p>Dry matter content of organic amendments (gDM/kgFM)</p>
</td></tr>
<tr><td><code id="management_df_+3A_c_content">C_content</code></td>
<td>
<p>Carbon content of the amendments, relative to its dry matter (gC/kgDM)</p>
</td></tr>
<tr><td><code id="management_df_+3A_n_content">N_content</code></td>
<td>
<p>Nitrogen content of organic amendments, relative to its dry matter (gN/kgDM)</p>
</td></tr>
<tr><td><code id="management_df_+3A_crop_product">crop_product</code></td>
<td>
<p>Crop product yield (tDM/ha)</p>
</td></tr>
<tr><td><code id="management_df_+3A_crop_residue">crop_residue</code></td>
<td>
<p>Crop residue mass (tDM/ha)</p>
</td></tr>
<tr><td><code id="management_df_+3A_cc_product">Cc_product</code></td>
<td>
<p>Carbon content of the crop product (gC/kgDM)</p>
</td></tr>
<tr><td><code id="management_df_+3A_cc_residue">Cc_residue</code></td>
<td>
<p>Carbon content of the crop residue (gC/kgDM)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code><a href="#topic+management_df">management_df()</a></code>
</p>


<h3>See Also</h3>


<ul>
<li> <p><code><a href="#topic+management_df_from_excel">management_df_from_excel()</a></code> for importing a <code>management_df</code> from an excel template
</p>
</li>
<li> <p><code><a href="#topic+check_management_df">check_management_df()</a></code> to check the integrity of a <code>management_df</code>
</p>
</li>
<li> <p><code><a href="#topic+EXAMPLE_data">EXAMPLE_data()</a></code> for an example of a <code>management_df</code>
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>#creation of an empty management_df
management_df()
</code></pre>

<hr>
<h2 id='management_df_from_excel'>Import management_df from excel file</h2><span id='topic+management_df_from_excel'></span>

<h3>Description</h3>

<p>This function imports management data from an excel template and
transforms it into a <a href="#topic+management_df">management_df</a>.
Additionaly, it checks if all columns
that are expected for a managment_df are available.
The excel template can be found in the SoilManageR Package under
inst/extdata/SoilManageR_mgmt_data_template. Optionaly, the parameter
<em>year</em> can be overwritten by the year extracted from <em>date</em>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>management_df_from_excel(
  path_to_xlsx,
  var_sheet = "Management_template",
  overwrite_year = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="management_df_from_excel_+3A_path_to_xlsx">path_to_xlsx</code></td>
<td>
<p>path to the excel file with the management data</p>
</td></tr>
<tr><td><code id="management_df_from_excel_+3A_var_sheet">var_sheet</code></td>
<td>
<p>name of the sheet with the management data template in
the excel sheet, default is &quot;Management_template&quot;</p>
</td></tr>
<tr><td><code id="management_df_from_excel_+3A_overwrite_year">overwrite_year</code></td>
<td>
<p>logical: if TRUE (default), the <em>year</em> will be set to
the year extracted from the <em>date</em></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a management_df
</p>


<h3>See Also</h3>


<ul>
<li> <p><code><a href="#topic+management_df">management_df()</a></code> for creating an management_df
</p>
</li>
<li> <p><code><a href="#topic+check_management_df">check_management_df()</a></code> to check the integrity of a management_df
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>#create path
path_to_xlsx_template &lt;- system.file(
"/extdata/SoilManageR_mgmt_data_template_V2.5.xlsx", package = "SoilManageR")

#load management_df
management_df_from_excel(path_to_xlsx_template)
</code></pre>

<hr>
<h2 id='N_input'>Estimate nitrogen input</h2><span id='topic+N_input'></span>

<h3>Description</h3>

<p>This function estimates the nitrogen (N) input by mineral and organic
fertilization into the soil system per year.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>N_input(var_MGMT_data, extended.output = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="N_input_+3A_var_mgmt_data">var_MGMT_data</code></td>
<td>
<p>a <code>management_df</code> that contains the management information</p>
</td></tr>
<tr><td><code id="N_input_+3A_extended.output">extended.output</code></td>
<td>
<p>an optional logical value:
</p>

<ul>
<li><p> If <code>FALSE</code>, N input values are aggregated by year
</p>
</li>
<li><p> If <code>TRUE</code>, a tibble with all management operations is returned
</p>
</li>
<li><p> Default value is <code>FALSE</code>
</p>
</li></ul>
</td></tr>
</table>


<h3>Details</h3>

<p>The function takes a <code>management_df</code> as input and returns N input values
per year in the <code>management_df</code>.
</p>
<p>Alternatively, it can return a extensive tibble with all management operations
and their N input values.
</p>
<p>The functions calculates the N input by
organic fertilization with the <code><a href="#topic+CN_input_amendments">CN_input_amendments()</a></code> function.
Furthermore, it calculates the livestock intensity (<code>LSU/ha</code>) by deviding
the animal derived N by <code style="white-space: pre;">&#8288;105kgN/LSU&#8288;</code>.
</p>
<p>Be aware that the function currently neglects N that is fixated by plants (e.g. legumes)
</p>


<h3>Value</h3>

<p>by default, a tibble with N input values (organic N, mineral N and total N) by year is returned. If extended.output = TRUE, a tibble with daily resolution is returned.
</p>


<h3>See Also</h3>


<ul>
<li> <p><code><a href="#topic+calculate_indicators">calculate_indicators()</a></code> to calculate all management indicators
for a <code>management_df</code>
</p>
</li>
<li> <p><code><a href="#topic+CN_input_amendments">CN_input_amendments()</a></code> for the calculation of N inputs from organic amendments
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>#example that returns annual N input values
N_input(EXAMPLE_data)

#example that returns a tibble with all management operations and their N input
N_input(EXAMPLE_data, extended.output = TRUE) 
</code></pre>

<hr>
<h2 id='plant_cover'>Estimate soil cover percentage by plants</h2><span id='topic+plant_cover'></span>

<h3>Description</h3>

<p>This function estimates the percentage of soil cover
based on the number of days since sowing.
The parameters used are derived from Mosimann and Rüttimann (2006).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plant_cover(varCrop, varDays = 0)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plant_cover_+3A_varcrop">varCrop</code></td>
<td>
<p>Crop type, must match with crop name in <code>plant_cover_LUT</code></p>
</td></tr>
<tr><td><code id="plant_cover_+3A_vardays">varDays</code></td>
<td>
<p>Number of days since sowing of the crop</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function assumes that plant cover unfolds in four phases with different soil cover rates:
</p>

<ul>
<li><p> 0 to 10 % of soil cover
</p>
</li>
<li><p> 10 to 50 % of soil cover
</p>
</li>
<li><p> 50 to 75 % of soil cover
</p>
</li>
<li><p> 75 to 100 % of soil cover
</p>
</li></ul>



<h3>Value</h3>

<p>percentage of soil cover by plants, value of 0 to 100 %.
</p>


<h3>References</h3>

<p>Mosimann T, Rüttimann M (2006).
&ldquo;Berechnungsgrundlagen zum Fruchtfolgefaktor zentrales Mittelland 2005 im Modell Erosion CH (V2.02).&rdquo;
Terragon, Bubendorf.
<a href="https://uwe.lu.ch/-/media/UWE/Dokumente/Themen/Bodenschutz/Bodenschutz_Landwirtschaft/dokumentationbodenerosionsschluessel_terragon2006.pdf">https://uwe.lu.ch/-/media/UWE/Dokumente/Themen/Bodenschutz/Bodenschutz_Landwirtschaft/dokumentationbodenerosionsschluessel_terragon2006.pdf</a>.
</p>


<h3>See Also</h3>


<ul>
<li> <p><code><a href="#topic+soil_cover">soil_cover()</a></code> to calculate soil coverage by plants and residue for a management_df
</p>
</li>
<li> <p><code><a href="#topic+plant_cover_LUT">plant_cover_LUT()</a></code> for the data used by the <code><a href="#topic+plant_cover">plant_cover()</a></code> function
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>plant_cover("wheat, winter", 140)


</code></pre>

<hr>
<h2 id='plant_cover_LUT'>Look-up-table with default values to estimate soil cover by plants</h2><span id='topic+plant_cover_LUT'></span>

<h3>Description</h3>

<p>The dataset is a look-up-table that is used to estimate the soil cover
percentage by plant with the function 'SoilManageR::plant_cover()'. 
The data set is produced from the excel table 'plant_cover_LUT.xlsx'
file under '/inst/extdata/'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plant_cover_LUT
</code></pre>


<h3>Format</h3>

<p>A tibble with 28 rows and 7 columns:
</p>

<dl>
<dt>Crop</dt><dd><p>Name of the crop</p>
</dd>
<dt>Slope_0_10</dt><dd><p>Increase of crop cover per day between 0 and 10% soil cover	[%/day]</p>
</dd>
<dt>Slope_10_50</dt><dd><p>Increase of crop cover per day between 10 and 50% soil cover	[%/day]</p>
</dd>
<dt>Slope_50_75</dt><dd><p>Increase of crop cover per day between 50 and 75% soil cover	[%/day]</p>
</dd>
<dt>Slope_75_100</dt><dd><p>Increase of crop cover per day between 75 and 100% soil cover	[%/day]</p>
</dd>
<dt>days_30</dt><dd><p>Number of days it takes to reach 30% soil cover	[day]</p>
</dd>
<dt>Comments</dt><dd><p>Source where the information was derived</p>
</dd>
</dl>



<h3>References</h3>

<p>Mosimann T, Rüttimann M (2006).
&ldquo;Berechnungsgrundlagen zum Fruchtfolgefaktor zentrales Mittelland 2005 im Modell Erosion CH (V2.02).&rdquo;
Terragon, Bubendorf.
<a href="https://uwe.lu.ch/-/media/UWE/Dokumente/Themen/Bodenschutz/Bodenschutz_Landwirtschaft/dokumentationbodenerosionsschluessel_terragon2006.pdf">https://uwe.lu.ch/-/media/UWE/Dokumente/Themen/Bodenschutz/Bodenschutz_Landwirtschaft/dokumentationbodenerosionsschluessel_terragon2006.pdf</a>.
</p>

<hr>
<h2 id='plant_diversity'>Calculate plant diversity indicators</h2><span id='topic+plant_diversity'></span>

<h3>Description</h3>

<p>Derives three indicators for plant diversity of a crop rotation based
on management information (mainly sowing events).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plant_diversity(var_MGMT_data, start_year, end_year)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plant_diversity_+3A_var_mgmt_data">var_MGMT_data</code></td>
<td>
<p>a 'management_df' with a management history</p>
</td></tr>
<tr><td><code id="plant_diversity_+3A_start_year">start_year</code></td>
<td>
<p>start year of the cropping sequence of interest</p>
</td></tr>
<tr><td><code id="plant_diversity_+3A_end_year">end_year</code></td>
<td>
<p>end year of the cropping sequence of interest</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For the function to work properly the species (or variety) must be mentioned
in the &quot;product&quot; column, and all sown species of mixtures must be
represented in a single row of the <code>management_df</code> each.
</p>
<p>The function calculates the plant diversity index (<code class="reqn">PDI</code>), the total
number of different species, and the Shannon index  for all sown species.
</p>
<p>The <code class="reqn">PDI</code> is calculated in the following way inspired by
Tiemann et al. (2015):
</p>
<p style="text-align: center;"><code class="reqn">PDI = \overline{S_{year}} * S_{rotation}</code>
</p>

<p>where <code class="reqn">\overline{S_{year}}</code> is the average number of sown species per
year and <code class="reqn">S_{rotation}</code> is the total number of different species
sown in the full crop rotation or cropping sequence.
</p>
<p>The Shannon Index is calculated with the <code><a href="#topic+shannon_index">shannon_index()</a></code> function.
</p>


<h3>Value</h3>

<p>a tibble with three indicators for plant diversity
</p>


<h3>References</h3>

<p>Tiemann LK, Grandy AS, Atkinson EE, Marin-Spiotta E, McDaniel MD (2015).
&ldquo;Crop rotational diversity enhances belowground communities and functions in an agroecosystem.&rdquo;
<em>Ecology Letters</em>, <b>18</b>(8), 761-771.
<a href="https://doi.org/10.1111/ele.12453">doi:10.1111/ele.12453</a>.
</p>


<h3>See Also</h3>


<ul>
<li> <p><code><a href="#topic+calculate_indicators">calculate_indicators()</a></code> to calculate all management indicators
for a <code>management_df</code>
</p>
</li>
<li> <p><code><a href="#topic+shannon_index">shannon_index()</a></code> for more detail on the Shannon index
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>plant_diversity(EXAMPLE_data,2013,2020)

</code></pre>

<hr>
<h2 id='plot_management_df'>Plot a management dataframe</h2><span id='topic+plot_management_df'></span>

<h3>Description</h3>

<p>Visual representation of a management_df.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_management_df(management_df, title = "Management Timeline")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot_management_df_+3A_management_df">management_df</code></td>
<td>
<p>a management data frame</p>
</td></tr>
<tr><td><code id="plot_management_df_+3A_title">title</code></td>
<td>
<p>the title of the plot</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The colors in the background represent the soil cover by plants (green), 
and crop residues (brown). &quot;T&quot; indicates tillage event with a STIR value &gt;= 0.
&quot;P&quot; indicates a crop protection event.
Dotted vertical lines represent sowing events, the sown crop is noted in 
the lowest quarter at the right side of the line.
The values in the middle indicate C inputs into the soil system, either 
by crops, cover crops or organic amendments. Negative values are withdrawls
by residue removal.
Note that large management_df can be heavy to compute and the plots may be
messy.
</p>


<h3>Value</h3>

<p>a plot
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

  # creates a visual representation of the EXAMPLE data
  plot_management_df(EXAMPLE_data)
 
</code></pre>

<hr>
<h2 id='plot.soil_cover_tibble'>Plotting soil_cover_tibbles</h2><span id='topic+plot.soil_cover_tibble'></span>

<h3>Description</h3>

<p>This function plots objects of the class soil_cover_tibble in a custom format
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'soil_cover_tibble'
plot(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot.soil_cover_tibble_+3A_x">x</code></td>
<td>
<p>an soil_cover_tibble object</p>
</td></tr>
<tr><td><code id="plot.soil_cover_tibble_+3A_...">...</code></td>
<td>
<p>arguments to be passed to methods</p>
</td></tr>
</table>


<h3>Value</h3>

<p>none, it plots the soil_cover_tibble
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  data &lt;- soil_cover(EXAMPLE_data, extended.output = TRUE)
  plot(data)



</code></pre>

<hr>
<h2 id='productivity_indicator'>Calculate average productivity</h2><span id='topic+productivity_indicator'></span>

<h3>Description</h3>

<p>Estimates estimates the relative yield of a cropping sequence per year.
The function takes a <code>management_df</code> as input and
returns a <code>relative_yield</code> value per year in the <code>management_df.</code>
Alternatively, it can return a tibble with additional information on each crop.
The <code><a href="#topic+productivity_indicator">productivity_indicator()</a></code> calculates the relative yields
with the <code><a href="#topic+relative_yield">relative_yield()</a></code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>productivity_indicator(var_MGMT_data, extended.output = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="productivity_indicator_+3A_var_mgmt_data">var_MGMT_data</code></td>
<td>
<p>a management_df that contains the management information</p>
</td></tr>
<tr><td><code id="productivity_indicator_+3A_extended.output">extended.output</code></td>
<td>
<p>an optional logical value.
</p>

<ul>
<li><p> If FALSE, relative yields are aggregated by year.
</p>
</li>
<li><p> If TRUE, a tibble with relative yield of each crop is returned.
</p>
</li>
<li><p> Default value is FALSE
</p>
</li></ul>
</td></tr>
</table>


<h3>Value</h3>


<ul>
<li><p> By default, a tibble with relative yields by year is returned.
</p>
</li>
<li><p> If extended.output = TRUE, a tibble with additional information is returned.
</p>
</li></ul>



<h3>See Also</h3>


<ul>
<li> <p><code><a href="#topic+relative_yield">relative_yield()</a></code> for caluclating relative yields
</p>
</li>
<li> <p><code><a href="#topic+calculate_indicators">calculate_indicators()</a></code> for calculating all soil management indicators
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>#example that returns annual relative yield values
productivity_indicator(EXAMPLE_data)

#example that returns a tibble with additional information
productivity_indicator(EXAMPLE_data, extended.output = TRUE)

</code></pre>

<hr>
<h2 id='relative_yield'>Calculate relative yield</h2><span id='topic+relative_yield'></span>

<h3>Description</h3>

<p>This function calculates the relative yield of an observed
dry matter yield compared to the reference dry matter yield
in the Swiss fertilizing guidelines (Sinaj et al. 2017).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>relative_yield(var_crop, var_yield)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="relative_yield_+3A_var_crop">var_crop</code></td>
<td>
<p>string with name of crop type,
must match with the Crops in the C_input_crops_LUT</p>
</td></tr>
<tr><td><code id="relative_yield_+3A_var_yield">var_yield</code></td>
<td>
<p>observed dry matter yield (tDM/ha)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the numeric value for the relative yield
</p>


<h3>References</h3>

<p>Sinaj S, Charles R, Baux A, Dupuis B, Hiltbrunner J, Levy Häner L, Pellet D, Blanchet G, Jeangros B (2017).
&ldquo;Grundlagen für die Düngung landwirtschaftlicher Kulturen in der Schweiz (GRUD): Düngung von Ackerkulturen.&rdquo;
<em>Agrarforschung Schweiz, Spezialpublikation</em>, <b>Chapter 8</b>(6), 1&ndash;46.
<a href="https://ira.agroscope.ch/en-US/Page/Publikation/Index/36799">https://ira.agroscope.ch/en-US/Page/Publikation/Index/36799</a>.
</p>


<h3>See Also</h3>


<ul>
<li> <p><code><a href="#topic+productivity_indicator">productivity_indicator()</a></code> to calculate relative yields for a <code>management_df</code>
</p>
</li>
<li> <p><code><a href="#topic+C_input_crops_LUT">C_input_crops_LUT()</a></code> for reference yield used in the <code><a href="#topic+relative_yield">relative_yield()</a></code> function
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>relative_yield("wheat, winter", 4.8)
</code></pre>

<hr>
<h2 id='shannon_index'>Calculate Shannon Index for diversity</h2><span id='topic+shannon_index'></span>

<h3>Description</h3>

<p>This function calculates the Index of Shannon (1948)
for a tibble with different species.
</p>
<p>The formula that is used is
</p>
<p style="text-align: center;"><code class="reqn">SI = -\sum_{S=1}^i (p_i * ln(p_i))</code>
</p>

<p>where <code class="reqn">p_i</code> is the relative abundance of each species (<code class="reqn">S</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>shannon_index(var_tibble)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="shannon_index_+3A_var_tibble">var_tibble</code></td>
<td>
<p>a tibble with two columns (name of species, count per species),
the second column must be called &quot;count&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>double of the Shannon Index
</p>


<h3>References</h3>

<p>Shannon CE (1948).
&ldquo;A Mathematical Theory of Communication.&rdquo;
<em>Bell System Technical Journal</em>, <b>27</b>(3), 379-423.
</p>
<p>Spellerberg IF, Fedor PJ (2003).
&ldquo;A tribute to Claude Shannon (1916&ndash;2001) and a plea for more rigorous use of species richness, species diversity and the ‘Shannon&ndash;Wiener’Index.&rdquo;
<em>Global ecology and biogeography</em>, <b>12</b>(3), 177&ndash;179.
<a href="https://doi.org/10.1046/j.1466-822X.2003.00015.x">doi:10.1046/j.1466-822X.2003.00015.x</a>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+plant_diversity">plant_diversity()</a></code> to calculate the <code><a href="#topic+shannon_index">shannon_index()</a></code>
(and other diversity indices) for a management_df
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#create tibble
tibble_example &lt;- tibble::tibble(Plant = c("A","B","C","D","E"), count = c(10,5,8,20,10))

#calculate Shannon Index
shannon_index(tibble_example)  # = 1.505...

</code></pre>

<hr>
<h2 id='soil_cover'>Estimate soil cover by plants and residues</h2><span id='topic+soil_cover'></span>

<h3>Description</h3>

<p>Derives the days where soil cover by living plants or resiudes is <code style="white-space: pre;">&#8288;&gt;=30%&#8288;</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>soil_cover(var_MGMT_data, extended.output = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="soil_cover_+3A_var_mgmt_data">var_MGMT_data</code></td>
<td>
<p>a <code>management_df</code> that contains the management information</p>
</td></tr>
<tr><td><code id="soil_cover_+3A_extended.output">extended.output</code></td>
<td>
<p>an optional logical value.
</p>

<ul>
<li><p> If FALSE, soil cover days are aggregated by year.
</p>
</li>
<li><p> If TRUE, a soil_cover_tibble with daily resolution is returned.
</p>
</li>
<li><p> Defaul value is FALSE
</p>
</li></ul>
</td></tr>
</table>


<h3>Details</h3>

<p>The function takes a <code>management_df</code> as input and returns soil cover
days per year in the <code>management_df.</code>
Alternatively, it can return a <code>soil_cover_tibble</code> with daily resolution
of the estimated soil cover.
</p>
<p>The function calculates plant soil cover with the <code><a href="#topic+plant_cover">plant_cover()</a></code> function
and the soil coverage by residues.
</p>
<p>The residue mass is dependent on the residue supply by crops,
its decay and its incorporation by tillage operations
(Büchi et al. 2016).
</p>
<p>Residue supply is estimated with the yield dependent
residue C <code>C_input_straw</code> provided by the function <code><a href="#topic+C_input_crops">C_input_crops()</a></code> and
a C content of <code class="reqn">450 \ [mgC/gDM]</code>.
If residues are removed, the removed residue mass is subtracted.
</p>
<p>Residue decay is calculated with the formula of
Steiner et al. (1999):
</p>
<p style="text-align: center;"><code class="reqn">M_t = M_{t-1} * (1 - k_{decay})</code>
</p>

<p>Where <code class="reqn">M_{t-1}</code> is the residue mass of the prior day <code class="reqn">[g/m^2]</code> and
<code class="reqn">k_{decay}</code> is the daily decay rate that was assumed to be
<code>0.028</code> <code class="reqn">g/g</code>, the average decomposition rate of winter wheat straw
(Steiner et al. 1999).
</p>
<p>Residue incorporation by tillage was estimated with the operation-specific
burial coefficient extracted from the RUSLE2 database
(USDA-NRCS 2023) that are provided in the
look-up-table <code>STIR_values_LUT</code>.
</p>
<p>Residue mass is translated into percentage of soil cover
by the formula of Steiner et al. (2000):
</p>
<p style="text-align: center;"><code class="reqn">cover_{residues} = (1-e^{-k(M)})* 100 \%</code>
</p>

<p>Where <code class="reqn">M</code> is the residue mass <code class="reqn">[g/m^2]</code> and <code class="reqn">k</code> is a cover
coefficient <code class="reqn">[m^2/g]</code>. <code class="reqn">k</code> was assumed to be <code>0.0175</code>
(Steiner et al. 2000).
</p>


<h3>Value</h3>


<ul>
<li><p> By default, a tibble with soil cover days by year is returned.
</p>
</li>
<li><p> If extended.output = TRUE, an object of the class <code>soil_cover_tibble</code>
with daily resolution is returned.
</p>
</li></ul>



<h3>References</h3>

<p>Büchi L, Valsangiacomo A, Burel E, Charles R (2016).
&ldquo;Integrating simulation data from a crop model in the development of an agri-environmental indicator for soil cover in Switzerland.&rdquo;
<em>European Journal of Agronomy</em>, <b>76</b>, 149&ndash;159.
<a href="https://doi.org/10.1016/j.eja.2015.11.004">doi:10.1016/j.eja.2015.11.004</a>.<br /><br /> Steiner JL, Schomberg HH, Unger PW, Cresap J (1999).
&ldquo;Crop residue decomposition in no-tillage small-grain fields.&rdquo;
<em>Soil Science Society of America Journal</em>, <b>63</b>(6), 1817&ndash;1824.
<a href="https://doi.org/10.2136/sssaj1999.6361817x">doi:10.2136/sssaj1999.6361817x</a>.<br /><br /> Steiner JL, Schomberg HH, Unger PW, Cresap J (2000).
&ldquo;Biomass and residue cover relationships of fresh and decomposing small grain residue.&rdquo;
<em>Soil Science Society of America Journal</em>, <b>64</b>(6), 2109&ndash;2114.
<a href="https://doi.org/10.2136/sssaj2000.6462109x">doi:10.2136/sssaj2000.6462109x</a>.<br /><br /> USDA-NRCS (2023).
&ldquo;Revised Universal Soil Loss Equation, Version 2 (RUSLE2), Official NRCS RUSLE2 Program and Database (V 2023-02-24).&rdquo;
USDA-NCRS.
<a href="https://fargo.nserl.purdue.edu/rusle2_dataweb/RUSLE2_Index.htm">https://fargo.nserl.purdue.edu/rusle2_dataweb/RUSLE2_Index.htm</a>.
</p>


<h3>See Also</h3>


<ul>
<li> <p><code><a href="#topic+calculate_indicators">calculate_indicators()</a></code> to calculate all management indicators
for a <code>management_df</code>
</p>
</li>
<li> <p><code><a href="#topic+plant_cover">plant_cover()</a></code> for more detail on the plant cover function
</p>
</li>
<li> <p><code><a href="#topic+plot.soil_cover_tibble">plot.soil_cover_tibble()</a></code> for plotting the <code>soil_cover_tibble</code>
</p>
</li>
<li> <p><code>STIR_values_LUT</code> for tillage operation specific burial coefficients
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>
  #example that returns annual soil cover days by plants and residues
  soil_cover(EXAMPLE_data)

  #example that returns a soil_cover_tibble
  soil_cover(EXAMPLE_data, extended.output = TRUE)


</code></pre>

<hr>
<h2 id='STIR'>Calculate STIR value</h2><span id='topic+STIR'></span>

<h3>Description</h3>

<p>The function calculates the soil tillage intensity rating (STIR) value
of tillage and sowing operations.
By default, the <code><a href="#topic+STIR">STIR()</a></code> function of <code>SoilManageR</code>
operates on SI units (cm and km/h) and not in imperial units (inch, mph)
as the original STIR equation (USDA-NRCS 2023).
However, the user can specifiy that the input is in imperial units.
The function can process custom input, if no such input is provided
it assumes default values from the <code>STIR_value_LUT</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>STIR(
  device = NA,
  speed = NA,
  speed_unit = "km/h",
  type_modifier = NA,
  depth = NA,
  depth_unit = "cm",
  area_disturbed = NA,
  original.STIR.value = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="STIR_+3A_device">device</code></td>
<td>
<p>tillage or sowing implement or operation, must match predefined list,
or all necessary inputs (speed, type modidifier, depth, area_disturbed) must be provided</p>
</td></tr>
<tr><td><code id="STIR_+3A_speed">speed</code></td>
<td>
<p>speed of the operation (km/h or mph)</p>
</td></tr>
<tr><td><code id="STIR_+3A_speed_unit">speed_unit</code></td>
<td>
<p>unit of the speed input, must be either NA, &quot;km/h&quot; or &quot;mph&quot;.
Default value is &quot;km/h&quot;</p>
</td></tr>
<tr><td><code id="STIR_+3A_type_modifier">type_modifier</code></td>
<td>
<p>tillage operation type modifier, must be a value between 0 and 1</p>
</td></tr>
<tr><td><code id="STIR_+3A_depth">depth</code></td>
<td>
<p>depth of the soil that is affected by the operation (cm or inch)</p>
</td></tr>
<tr><td><code id="STIR_+3A_depth_unit">depth_unit</code></td>
<td>
<p>unit of the depth input, must be either NA, &quot;cm&quot; or &quot;inch&quot;.
Default value is &quot;cm&quot;</p>
</td></tr>
<tr><td><code id="STIR_+3A_area_disturbed">area_disturbed</code></td>
<td>
<p>share of the surfave that is disturbed by the operation (0 to 1)</p>
</td></tr>
<tr><td><code id="STIR_+3A_original.stir.value">original.STIR.value</code></td>
<td>
<p>logical value, if TRUE, the original STIR value of
the operation in the <code>STIR_value_LUT</code> (instead of the calculated STIR value) is returned.
Default value is FALSE</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The concept of the STIR value was developed within the
RUSLE2 framework by the USDA-NRCS (2023).
The STIR equation is defined as
</p>
<p style="text-align: center;"><code class="reqn">STIR = (0.5 * speed) * (3.25 * type_{modifier}) * depth * area_{disturbed}</code>
</p>

<p>where <code class="reqn">speed</code> and <code class="reqn">depth</code> are provided in mph and inches(!).
For the purpose of this function we assume that <code style="white-space: pre;">&#8288;1 inch = 2.54 cm&#8288;</code> and <code style="white-space: pre;">&#8288;1 mph = 1.609 km/h&#8288;</code>.
The tillage <code class="reqn">type_{modifier}</code> is defined to be:
</p>

<ul>
<li> <p><code>1.00</code> for inversion operation
</p>
</li>
<li> <p><code>0.80</code> for mixing and some inversion operations
</p>
</li>
<li> <p><code>0.70</code> for mixing operations
</p>
</li>
<li> <p><code>0.40</code> for lifting and fracturing operations
</p>
</li>
<li> <p><code>0.15</code> for compression operations
</p>
</li></ul>

<p>In the <code>STIR_value_LUT</code> there are more than 400 operations,
incl. the original operations from the RUSLE2 software (as of 2023-02-24)
and operations defined by the SoilX project.
</p>
<p>For further details on the STIR please consider the RUSLE2 website (https://fargo.nserl.purdue.edu/rusle2_dataweb/RUSLE2_Index.htm) or the description of the SoilManageR package
</p>


<h3>Value</h3>

<p>STIR value of the operation
</p>


<h3>References</h3>

<p>USDA-NRCS (2023).
&ldquo;Revised Universal Soil Loss Equation, Version 2 (RUSLE2), Official NRCS RUSLE2 Program and Database (V 2023-02-24).&rdquo;
USDA-NCRS.
<a href="https://fargo.nserl.purdue.edu/rusle2_dataweb/RUSLE2_Index.htm">https://fargo.nserl.purdue.edu/rusle2_dataweb/RUSLE2_Index.htm</a>.
</p>


<h3>See Also</h3>


<ul>
<li> <p><code><a href="#topic+tillage_intensity">tillage_intensity()</a></code> to calculate STIR values for management_df
</p>
</li>
<li> <p><code><a href="#topic+STIR_values_LUT">STIR_values_LUT()</a></code> for the reference data used by the <code><a href="#topic+STIR">STIR()</a></code> function
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>#example without additional information
STIR("plough")

#example with additional information
STIR("rotary_harrow", depth = 15)

#custom example
STIR(speed = 10, type_modifier = 0.8, depth = 15, area_disturbed = 0.45)

#example that returns orginial STIR value
STIR("plough", original.STIR.value = TRUE)

#example that uses imperial units
STIR("plough", depth = 5, depth_unit = "inch", speed = 8, speed_unit = "mph")
</code></pre>

<hr>
<h2 id='STIR_values_LUT'>Look-up-table with default values for tillage operations</h2><span id='topic+STIR_values_LUT'></span>

<h3>Description</h3>

<p>The dataset is a look-up-table that is used to derive STIR values with the 
function 'SoilManageR::STIR()' and residue incorperation by
tillage operations with the function 'SoilManageR::soil_cover()'.
The data set is produced from the excel table 'STIR_value_LUT.xlsx' file 
under '/inst/extdata/' and was mostly derived from the official 
RUSLE2 database (USDA-NRCS 2023).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>STIR_values_LUT
</code></pre>


<h3>Format</h3>

<p>A tibble with 50 rows and 15 columns:
</p>

<dl>
<dt>Operation</dt><dd><p>Name of the operation</p>
</dd>
<dt>Speed</dt><dd><p>Average speed of the operation	[km/h]</p>
</dd>
<dt>Speed_MIN</dt><dd><p>Min speed of the operation	[km/h]</p>
</dd>
<dt>Speed_Max</dt><dd><p>Max speed of the operation	[km/h]</p>
</dd>
<dt>Surf_Disturbance</dt><dd><p>Share of the disturbed soil surface	[%]</p>
</dd>
<dt>Depth</dt><dd><p>Average depth of the operation	[cm]</p>
</dd>
<dt>Depth_MIN</dt><dd><p>Min depth of the operation	[cm]</p>
</dd>
<dt>Depth_MAX</dt><dd><p>Max depth of the operation	[cm]</p>
</dd>
<dt>TILLAGE_TYPE</dt><dd><p>Type of tillage operation</p>
</dd>
<dt>TILLAGE_TYPE_Modifier</dt><dd><p>Numerical value of the tillage type modifier	[0-1]</p>
</dd>
<dt>STIR</dt><dd><p>Soil tillage intensity rating value, based on default values</p>
</dd>
<dt>Diesel_use</dt><dd><p>iesel use of the operation per area	[l/ha]</p>
</dd>
<dt>Burial_Coefficient</dt><dd><p>Burial of plant residues on the soil surface	[0-1]</p>
</dd>
<dt>Source</dt><dd><p>Source of the values in the table</p>
</dd>
<dt>Description</dt><dd><p>Description of the operation</p>
</dd>
</dl>



<h3>References</h3>

<p>USDA-NRCS (2023).
&ldquo;Revised Universal Soil Loss Equation, Version 2 (RUSLE2), Official NRCS RUSLE2 Program and Database (V 2023-02-24).&rdquo;
USDA-NCRS.
<a href="https://fargo.nserl.purdue.edu/rusle2_dataweb/RUSLE2_Index.htm">https://fargo.nserl.purdue.edu/rusle2_dataweb/RUSLE2_Index.htm</a>.
</p>

<hr>
<h2 id='tillage_intensity'>Estimate tillage intensity</h2><span id='topic+tillage_intensity'></span>

<h3>Description</h3>

<p>Calculates the soil tillage intensity per year.
The function takes a <code>management_df</code> as input and returns a <code>STIR</code> value
per year in the <code>management_df.</code> Alternatively, it can return a
extensive tibble with each operation and their respective <code>STIR</code> values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tillage_intensity(var_MGMT_data, extended.output = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tillage_intensity_+3A_var_mgmt_data">var_MGMT_data</code></td>
<td>
<p>a <code>management_df</code> that contains the management information</p>
</td></tr>
<tr><td><code id="tillage_intensity_+3A_extended.output">extended.output</code></td>
<td>
<p>an optional logical value. Default value is <code>FALSE</code>
</p>

<ul>
<li><p> If <code>FALSE</code>, <code>STIR</code> values are aggregated by year.
</p>
</li>
<li><p> If <code>TRUE</code>, a tibble with all management operations is returned.
</p>
</li></ul>
</td></tr>
</table>


<h3>Value</h3>

<p>by default, a tibble with STIR values by year is returned. If extended.output = TRUE, a tibble with daily resolution is returned.
</p>


<h3>See Also</h3>


<ul>
<li> <p><code><a href="#topic+STIR">STIR()</a></code> for the calculation of a <code>STIR</code> value for operations
</p>
</li>
<li> <p><code><a href="#topic+STIR_values_LUT">STIR_values_LUT()</a></code> for the reference data used for tillage operations
</p>
</li>
<li> <p><code><a href="#topic+calculate_indicators">calculate_indicators()</a></code> to calculate all management indicators
for a <code>management_df</code>
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>#example that returns annual STIR values
tillage_intensity(EXAMPLE_data)

#example that returns a tibble with all operations that have a STIR value
tillage_intensity(EXAMPLE_data, extended.output = TRUE)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

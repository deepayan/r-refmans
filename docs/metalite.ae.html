<!DOCTYPE html><html><head><title>Help for package metalite.ae</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {metalite.ae}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#extend_ae_specific_duration'><p>Add average duration information for AE specific analysis</p></a></li>
<li><a href='#extend_ae_specific_events'><p>Add average number of events information for AE specific analysis</p></a></li>
<li><a href='#extend_ae_specific_inference'><p>Add inference information for AE specific analysis</p></a></li>
<li><a href='#fmt_ci'><p>Format confidence interval</p></a></li>
<li><a href='#fmt_est'><p>Format model estimator</p></a></li>
<li><a href='#fmt_pct'><p>Format percentage</p></a></li>
<li><a href='#fmt_pval'><p>Format p-value</p></a></li>
<li><a href='#format_ae_specific'><p>Format AE specific analysis</p></a></li>
<li><a href='#format_ae_summary'><p>Format AE summary analysis</p></a></li>
<li><a href='#meta_ae_example'><p>Create an example <code>meta_adam</code> object</p></a></li>
<li><a href='#metalite.ae-package'><p>metalite.ae: Adverse Events Analysis Using 'metalite'</p></a></li>
<li><a href='#prepare_ae_listing'><p>Prepare datasets for AE specific analysis</p></a></li>
<li><a href='#prepare_ae_specific'><p>Prepare datasets for AE specific analysis</p></a></li>
<li><a href='#prepare_ae_specific_subgroup'><p>Prepare datasets for AE specific analysis</p></a></li>
<li><a href='#prepare_ae_summary'><p>Prepare datasets for AE specific analysis</p></a></li>
<li><a href='#rate_compare'><p>Unstratified and stratified  Miettinen and Nurminen test</p></a></li>
<li><a href='#rate_compare_sum'><p>Unstratified and stratified Miettinen and Nurminen test in</p>
aggregate data level</a></li>
<li><a href='#tlf_ae_listing'><p>Specific adverse events table</p></a></li>
<li><a href='#tlf_ae_specific'><p>Specific adverse events table</p></a></li>
<li><a href='#tlf_ae_summary'><p>AE summary table</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Adverse Events Analysis Using 'metalite'</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Analyzes adverse events in clinical trials using the 'metalite'
    data structure. The package simplifies the workflow to create
    production-ready tables, listings, and figures discussed in the
    adverse events analysis chapters of
    "R for Clinical Study Reports and Submission"
    by Zhang et al. (2022) <a href="https://r4csr.org/">https://r4csr.org/</a>.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://merck.github.io/metalite.ae/">https://merck.github.io/metalite.ae/</a>,
<a href="https://github.com/Merck/metalite.ae">https://github.com/Merck/metalite.ae</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/Merck/metalite.ae/issues">https://github.com/Merck/metalite.ae/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.1.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr, glue, metalite, r2rtf, stats, tidyr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>DescTools, covr, knitr, kableExtra, rmarkdown, readxl,
rprojroot, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-02-24 15:40:10 UTC; zhayuji4</td>
</tr>
<tr>
<td>Author:</td>
<td>Yilong Zhang [aut],
  Yujie Zhao [aut, cre],
  Benjamin Wang [aut],
  Nan Xiao [aut],
  Sarad Nepal [aut],
  Madhusudhan Ginnaram [aut],
  Venkatesh Burla [ctb],
  Ruchitbhai Patel [aut],
  Brian Lang [aut],
  Xuan Deng [aut],
  Merck Sharp &amp; Dohme Corp [cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Yujie Zhao &lt;yujie.zhao@merck.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-02-24 19:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='extend_ae_specific_duration'>Add average duration information for AE specific analysis</h2><span id='topic+extend_ae_specific_duration'></span>

<h3>Description</h3>

<p>Add average duration information for AE specific analysis
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extend_ae_specific_duration(outdata, duration_var, duration_unit = "Day")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extend_ae_specific_duration_+3A_outdata">outdata</code></td>
<td>
<p>A <code>outdata</code> object created by <code><a href="#topic+prepare_ae_specific">prepare_ae_specific()</a></code>.</p>
</td></tr>
<tr><td><code id="extend_ae_specific_duration_+3A_duration_var">duration_var</code></td>
<td>
<p>A character value of variable name for AE duration.</p>
</td></tr>
<tr><td><code id="extend_ae_specific_duration_+3A_duration_unit">duration_unit</code></td>
<td>
<p>A character value of AE duration unit.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of analysis raw datasets.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>meta &lt;- meta_ae_example()
tbl &lt;- prepare_ae_specific(meta,
  population = "apat",
  observation = "wk12",
  parameter = "rel"
) |&gt;
  extend_ae_specific_duration(duration_var = "ADURN") |&gt;
  format_ae_specific(display = c("n", "prop", "dur"))
head(tbl$tbl)
</code></pre>

<hr>
<h2 id='extend_ae_specific_events'>Add average number of events information for AE specific analysis</h2><span id='topic+extend_ae_specific_events'></span>

<h3>Description</h3>

<p>Add average number of events information for AE specific analysis
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extend_ae_specific_events(outdata)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extend_ae_specific_events_+3A_outdata">outdata</code></td>
<td>
<p>A <code>outdata</code> object created by <code><a href="#topic+prepare_ae_specific">prepare_ae_specific()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of analysis raw datasets.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>meta &lt;- meta_ae_example()
tbl &lt;- prepare_ae_specific(meta,
  population = "apat",
  observation = "wk12",
  parameter = "rel"
) |&gt;
  extend_ae_specific_events() |&gt;
  format_ae_specific(display = c("n", "prop", "events"))
head(tbl$tbl)
</code></pre>

<hr>
<h2 id='extend_ae_specific_inference'>Add inference information for AE specific analysis</h2><span id='topic+extend_ae_specific_inference'></span>

<h3>Description</h3>

<p>Add inference information for AE specific analysis
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extend_ae_specific_inference(outdata, ci = 0.95)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extend_ae_specific_inference_+3A_outdata">outdata</code></td>
<td>
<p>A <code>outdata</code> object created by <code><a href="#topic+prepare_ae_specific">prepare_ae_specific()</a></code>.</p>
</td></tr>
<tr><td><code id="extend_ae_specific_inference_+3A_ci">ci</code></td>
<td>
<p>A numeric value for the percentile of confidence interval.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of analysis raw datasets.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>meta &lt;- meta_ae_example()
tbl &lt;- prepare_ae_specific(meta,
  population = "apat",
  observation = "wk12",
  parameter = "rel"
) |&gt;
  extend_ae_specific_inference() |&gt;
  format_ae_specific(display = c("n", "prop", "diff", "diff_ci"))
head(tbl$tbl)
</code></pre>

<hr>
<h2 id='fmt_ci'>Format confidence interval</h2><span id='topic+fmt_ci'></span>

<h3>Description</h3>

<p>Format confidence interval
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fmt_ci(lower, upper, digits = 2, width = 3 + digits)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fmt_ci_+3A_lower">lower</code></td>
<td>
<p>A numeric value of lower value of CI.</p>
</td></tr>
<tr><td><code id="fmt_ci_+3A_upper">upper</code></td>
<td>
<p>A numeric value of upper value of CI.</p>
</td></tr>
<tr><td><code id="fmt_ci_+3A_digits">digits</code></td>
<td>
<p>Digits of each column, i.e., format as (x.x, x.x).</p>
</td></tr>
<tr><td><code id="fmt_ci_+3A_width">width</code></td>
<td>
<p>Width of each column.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric vector with the expected format.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>fmt_ci(0.2356, 0.3871)
</code></pre>

<hr>
<h2 id='fmt_est'>Format model estimator</h2><span id='topic+fmt_est'></span>

<h3>Description</h3>

<p>Formats mean sd/se to a format as x.x or x.x (x.xx) if both
mean and sd/sd are defined.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fmt_est(
  mean,
  sd = rep(NA, length(mean)),
  digits = c(1, 1),
  width = c(4, 3) + digits
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fmt_est_+3A_mean">mean</code></td>
<td>
<p>A numeric vector of mean value.</p>
</td></tr>
<tr><td><code id="fmt_est_+3A_sd">sd</code></td>
<td>
<p>A numeric vector of sd value.</p>
</td></tr>
<tr><td><code id="fmt_est_+3A_digits">digits</code></td>
<td>
<p>Digits of each column, i.e., format as x.x (x.xx).</p>
</td></tr>
<tr><td><code id="fmt_est_+3A_width">width</code></td>
<td>
<p>Width of each column.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function assumes 1 column or 2 columns:
</p>

<ul>
<li><p> If there is only 1 column, only represent mean.
</p>
</li>
<li><p> If there are 2 columns, represent mean (sd) or mean(se).
Decimals will understand the number will be formatted as x.x (x.xx).
</p>
</li></ul>



<h3>Value</h3>

<p>The same data frame with additional attributes for page features.
</p>


<h3>Specification</h3>


<p>The contents of this section are shown in PDF user manual only.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(dplyr)

x &lt;- datasets::iris |&gt;
  summarise(
    mean = mean(Petal.Length),
    n = n(),
    sd = sd(Petal.Length)
  )
fmt_est(x$mean, x$sd)
</code></pre>

<hr>
<h2 id='fmt_pct'>Format percentage</h2><span id='topic+fmt_pct'></span>

<h3>Description</h3>

<p>Format percentage
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fmt_pct(x, digits = 1, pre = "(", post = ")")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fmt_pct_+3A_x">x</code></td>
<td>
<p>A numeric vector.</p>
</td></tr>
<tr><td><code id="fmt_pct_+3A_digits">digits</code></td>
<td>
<p>Number of digits.</p>
</td></tr>
<tr><td><code id="fmt_pct_+3A_pre">pre</code></td>
<td>
<p>Text before the number.</p>
</td></tr>
<tr><td><code id="fmt_pct_+3A_post">post</code></td>
<td>
<p>Text after the number.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric vector with the expected format.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>fmt_pct(c(1, 1.52, 0.3, 100))
</code></pre>

<hr>
<h2 id='fmt_pval'>Format p-value</h2><span id='topic+fmt_pval'></span>

<h3>Description</h3>

<p>Format p-value
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fmt_pval(p, digits = 3, width = 3 + digits)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fmt_pval_+3A_p">p</code></td>
<td>
<p>A numeric vector of p-values.</p>
</td></tr>
<tr><td><code id="fmt_pval_+3A_digits">digits</code></td>
<td>
<p>Digits of each column, i.e., format as x.xxx.</p>
</td></tr>
<tr><td><code id="fmt_pval_+3A_width">width</code></td>
<td>
<p>Width of each column.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric vector with the expected format.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>fmt_pval(0.1234)
</code></pre>

<hr>
<h2 id='format_ae_specific'>Format AE specific analysis</h2><span id='topic+format_ae_specific'></span>

<h3>Description</h3>

<p>Format AE specific analysis
</p>


<h3>Usage</h3>

<pre><code class='language-R'>format_ae_specific(
  outdata,
  display = c("n", "prop", "total"),
  digits_prop = 1,
  digits_ci = 1,
  digits_p = 3,
  digits_dur = c(1, 1),
  digits_events = c(1, 1),
  mock = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="format_ae_specific_+3A_outdata">outdata</code></td>
<td>
<p>A <code>outdata</code> object created by <code><a href="#topic+prepare_ae_specific">prepare_ae_specific()</a></code>.</p>
</td></tr>
<tr><td><code id="format_ae_specific_+3A_display">display</code></td>
<td>
<p>A character vector of measurement to be displayed:
</p>

<ul>
<li> <p><code>n</code>: Number of subjects with AE.
</p>
</li>
<li> <p><code>prop</code>: Proportion of subjects with AE.
</p>
</li>
<li> <p><code>total</code>: Total columns.
</p>
</li>
<li> <p><code>diff</code>: Risk difference.
</p>
</li>
<li> <p><code>diff_ci</code>: 95% confidence interval of risk difference using M&amp;N method.
</p>
</li>
<li> <p><code>diff_p</code>: p-value of risk difference using M&amp;N method.
</p>
</li>
<li> <p><code>dur</code>: Average of AE duration.
</p>
</li>
<li> <p><code>events</code>: Average number of AE per subject.
</p>
</li></ul>
</td></tr>
<tr><td><code id="format_ae_specific_+3A_digits_prop">digits_prop</code></td>
<td>
<p>A numeric value of number of digits for proportion value.</p>
</td></tr>
<tr><td><code id="format_ae_specific_+3A_digits_ci">digits_ci</code></td>
<td>
<p>A numeric value of number of digits for confidence interval.</p>
</td></tr>
<tr><td><code id="format_ae_specific_+3A_digits_p">digits_p</code></td>
<td>
<p>A numeric value of number of digits for p-value.</p>
</td></tr>
<tr><td><code id="format_ae_specific_+3A_digits_dur">digits_dur</code></td>
<td>
<p>A numeric value of number of digits for average
duration of AE.</p>
</td></tr>
<tr><td><code id="format_ae_specific_+3A_digits_events">digits_events</code></td>
<td>
<p>A numeric value of number of digits for average of
number of AE per subjects.</p>
</td></tr>
<tr><td><code id="format_ae_specific_+3A_mock">mock</code></td>
<td>
<p>A boolean value to display mock table.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of analysis raw datasets.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>meta &lt;- meta_ae_example()

outdata &lt;- prepare_ae_specific(meta,
  population = "apat",
  observation = "wk12",
  parameter = "rel"
)

# Basic example
tbl &lt;- outdata |&gt;
  format_ae_specific()
head(tbl$tbl)

# Display different measurements
tbl &lt;- outdata |&gt;
  extend_ae_specific_events() |&gt;
  format_ae_specific(display = c("n", "prop", "events"))
head(tbl$tbl)
</code></pre>

<hr>
<h2 id='format_ae_summary'>Format AE summary analysis</h2><span id='topic+format_ae_summary'></span>

<h3>Description</h3>

<p>Format AE summary analysis
</p>


<h3>Usage</h3>

<pre><code class='language-R'>format_ae_summary(
  outdata,
  display = c("n", "prop", "total"),
  digits_prop = 1,
  digits_ci = 1,
  digits_p = 3,
  digits_dur = c(1, 1),
  digits_events = c(1, 1),
  mock = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="format_ae_summary_+3A_outdata">outdata</code></td>
<td>
<p>A <code>outdata</code> object created by <code><a href="#topic+prepare_ae_specific">prepare_ae_specific()</a></code>.</p>
</td></tr>
<tr><td><code id="format_ae_summary_+3A_display">display</code></td>
<td>
<p>A character vector of measurement to be displayed:
</p>

<ul>
<li> <p><code>n</code>: Number of subjects with AE.
</p>
</li>
<li> <p><code>prop</code>: Proportion of subjects with AE.
</p>
</li>
<li> <p><code>total</code>: Total columns.
</p>
</li>
<li> <p><code>diff</code>: Risk difference.
</p>
</li>
<li> <p><code>diff_ci</code>: 95% confidence interval of risk difference using M&amp;N method.
</p>
</li>
<li> <p><code>diff_p</code>: p-value of risk difference using M&amp;N method.
</p>
</li>
<li> <p><code>dur</code>: Average of AE duration.
</p>
</li>
<li> <p><code>events</code>: Average number of AE per subject.
</p>
</li></ul>
</td></tr>
<tr><td><code id="format_ae_summary_+3A_digits_prop">digits_prop</code></td>
<td>
<p>A numeric value of number of digits for proportion value.</p>
</td></tr>
<tr><td><code id="format_ae_summary_+3A_digits_ci">digits_ci</code></td>
<td>
<p>A numeric value of number of digits for confidence interval.</p>
</td></tr>
<tr><td><code id="format_ae_summary_+3A_digits_p">digits_p</code></td>
<td>
<p>A numeric value of number of digits for p-value.</p>
</td></tr>
<tr><td><code id="format_ae_summary_+3A_digits_dur">digits_dur</code></td>
<td>
<p>A numeric value of number of digits for average
duration of AE.</p>
</td></tr>
<tr><td><code id="format_ae_summary_+3A_digits_events">digits_events</code></td>
<td>
<p>A numeric value of number of digits for average of
number of AE per subjects.</p>
</td></tr>
<tr><td><code id="format_ae_summary_+3A_mock">mock</code></td>
<td>
<p>A boolean value to display mock table.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of analysis raw datasets.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>meta &lt;- meta_ae_example()
outdata &lt;- prepare_ae_summary(meta,
  population = "apat",
  observation = "wk12",
  parameter = "any;rel;ser"
)
tbl &lt;- outdata |&gt;
  format_ae_summary()
head(tbl$tbl)
</code></pre>

<hr>
<h2 id='meta_ae_example'>Create an example <code>meta_adam</code> object</h2><span id='topic+meta_ae_example'></span>

<h3>Description</h3>

<p>This function is only for illustration purpose.
r2rtf is required.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>meta_ae_example()
</code></pre>


<h3>Value</h3>

<p>A metadata object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>meta_ae_example()
</code></pre>

<hr>
<h2 id='metalite.ae-package'>metalite.ae: Adverse Events Analysis Using 'metalite'</h2><span id='topic+metalite.ae'></span><span id='topic+metalite.ae-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>Analyzes adverse events in clinical trials using the 'metalite' data structure. The package simplifies the workflow to create production-ready tables, listings, and figures discussed in the adverse events analysis chapters of &quot;R for Clinical Study Reports and Submission&quot; by Zhang et al. (2022) <a href="https://r4csr.org/">https://r4csr.org/</a>.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Yujie Zhao <a href="mailto:yujie.zhao@merck.com">yujie.zhao@merck.com</a>
</p>
<p>Authors:
</p>

<ul>
<li><p> Yilong Zhang
</p>
</li>
<li><p> Benjamin Wang
</p>
</li>
<li><p> Nan Xiao
</p>
</li>
<li><p> Sarad Nepal
</p>
</li>
<li><p> Madhusudhan Ginnaram
</p>
</li>
<li><p> Ruchitbhai Patel
</p>
</li>
<li><p> Brian Lang
</p>
</li>
<li><p> Xuan Deng
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> Venkatesh Burla [contributor]
</p>
</li>
<li><p> Merck Sharp &amp; Dohme Corp [copyright holder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://merck.github.io/metalite.ae/">https://merck.github.io/metalite.ae/</a>
</p>
</li>
<li> <p><a href="https://github.com/Merck/metalite.ae">https://github.com/Merck/metalite.ae</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/Merck/metalite.ae/issues">https://github.com/Merck/metalite.ae/issues</a>
</p>
</li></ul>


<hr>
<h2 id='prepare_ae_listing'>Prepare datasets for AE specific analysis</h2><span id='topic+prepare_ae_listing'></span>

<h3>Description</h3>

<p>Prepare datasets for AE specific analysis
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prepare_ae_listing(meta, analysis, population, observation, parameter)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prepare_ae_listing_+3A_meta">meta</code></td>
<td>
<p>A metadata object created by metalite.</p>
</td></tr>
<tr><td><code id="prepare_ae_listing_+3A_analysis">analysis</code></td>
<td>
<p>Analysis name from <code>meta</code>.</p>
</td></tr>
<tr><td><code id="prepare_ae_listing_+3A_population">population</code></td>
<td>
<p>A character value of population term name.
The term name is used as key to link information.</p>
</td></tr>
<tr><td><code id="prepare_ae_listing_+3A_observation">observation</code></td>
<td>
<p>A character value of observation term name.
The term name is used as key to link information.</p>
</td></tr>
<tr><td><code id="prepare_ae_listing_+3A_parameter">parameter</code></td>
<td>
<p>A character value of parameter term name.
The term name is used as key to link information.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of analysis raw datasets.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>meta &lt;- meta_ae_example()
str(prepare_ae_listing(meta, "ae_listing", "apat", "wk12", "ser"))
</code></pre>

<hr>
<h2 id='prepare_ae_specific'>Prepare datasets for AE specific analysis</h2><span id='topic+prepare_ae_specific'></span>

<h3>Description</h3>

<p>Prepare datasets for AE specific analysis
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prepare_ae_specific(
  meta,
  population,
  observation,
  parameter,
  components = c("soc", "par"),
  reference_group = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prepare_ae_specific_+3A_meta">meta</code></td>
<td>
<p>A metadata object created by metalite.</p>
</td></tr>
<tr><td><code id="prepare_ae_specific_+3A_population">population</code></td>
<td>
<p>A character value of population term name.
The term name is used as key to link information.</p>
</td></tr>
<tr><td><code id="prepare_ae_specific_+3A_observation">observation</code></td>
<td>
<p>A character value of observation term name.
The term name is used as key to link information.</p>
</td></tr>
<tr><td><code id="prepare_ae_specific_+3A_parameter">parameter</code></td>
<td>
<p>A character value of parameter term name.
The term name is used as key to link information.</p>
</td></tr>
<tr><td><code id="prepare_ae_specific_+3A_components">components</code></td>
<td>
<p>A character vector of components name.</p>
</td></tr>
<tr><td><code id="prepare_ae_specific_+3A_reference_group">reference_group</code></td>
<td>
<p>An integer to indicate reference group.
Default is 2 if there are 2 groups, otherwise, the default is 1.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of analysis raw datasets.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>meta &lt;- meta_ae_example()
str(prepare_ae_specific(meta, "apat", "wk12", "rel"))

# Allow to extract each components
prepare_ae_specific(meta, "apat", "wk12", "rel", components = NULL)$data
prepare_ae_specific(meta, "apat", "wk12", "rel", components = "soc")$data
prepare_ae_specific(meta, "apat", "wk12", "rel", components = "par")$data
</code></pre>

<hr>
<h2 id='prepare_ae_specific_subgroup'>Prepare datasets for AE specific analysis</h2><span id='topic+prepare_ae_specific_subgroup'></span>

<h3>Description</h3>

<p>Prepare datasets for AE specific analysis
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prepare_ae_specific_subgroup(
  meta,
  population,
  observation,
  parameter,
  subgroup_var,
  subgroup_header = 1,
  components = c("soc", "par"),
  display_total = TRUE,
  display_subgroup_total = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prepare_ae_specific_subgroup_+3A_meta">meta</code></td>
<td>
<p>A metadata object created by metalite.</p>
</td></tr>
<tr><td><code id="prepare_ae_specific_subgroup_+3A_population">population</code></td>
<td>
<p>A character value of population term name.
The term name is used as key to link information.</p>
</td></tr>
<tr><td><code id="prepare_ae_specific_subgroup_+3A_observation">observation</code></td>
<td>
<p>A character value of observation term name.
The term name is used as key to link information.</p>
</td></tr>
<tr><td><code id="prepare_ae_specific_subgroup_+3A_parameter">parameter</code></td>
<td>
<p>A character value of parameter term name.
The term name is used as key to link information.</p>
</td></tr>
<tr><td><code id="prepare_ae_specific_subgroup_+3A_subgroup_var">subgroup_var</code></td>
<td>
<p>A character value of subgroup variable name in
observation data saved in <code>meta$data_observation</code>.</p>
</td></tr>
<tr><td><code id="prepare_ae_specific_subgroup_+3A_subgroup_header">subgroup_header</code></td>
<td>
<p>An integer value of column header for subgroup.</p>
</td></tr>
<tr><td><code id="prepare_ae_specific_subgroup_+3A_components">components</code></td>
<td>
<p>A character vector of components name.</p>
</td></tr>
<tr><td><code id="prepare_ae_specific_subgroup_+3A_display_total">display_total</code></td>
<td>
<p>test</p>
</td></tr>
<tr><td><code id="prepare_ae_specific_subgroup_+3A_display_subgroup_total">display_subgroup_total</code></td>
<td>
<p>test</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of analysis raw datasets.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>meta &lt;- meta_ae_example()

prepare_ae_specific_subgroup(
  meta,
  population = "apat",
  observation = "wk12",
  parameter = "rel",
  subgroup_var = "RACE"
)
</code></pre>

<hr>
<h2 id='prepare_ae_summary'>Prepare datasets for AE specific analysis</h2><span id='topic+prepare_ae_summary'></span>

<h3>Description</h3>

<p>Prepare datasets for AE specific analysis
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prepare_ae_summary(meta, population, observation, parameter, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prepare_ae_summary_+3A_meta">meta</code></td>
<td>
<p>A metadata object created by metalite.</p>
</td></tr>
<tr><td><code id="prepare_ae_summary_+3A_population">population</code></td>
<td>
<p>A character value of population term name.
The term name is used as key to link information.</p>
</td></tr>
<tr><td><code id="prepare_ae_summary_+3A_observation">observation</code></td>
<td>
<p>A character value of observation term name.
The term name is used as key to link information.</p>
</td></tr>
<tr><td><code id="prepare_ae_summary_+3A_parameter">parameter</code></td>
<td>
<p>A character value of parameter term name.
The term name is used as key to link information.</p>
</td></tr>
<tr><td><code id="prepare_ae_summary_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="#topic+prepare_ae_specific">prepare_ae_specific()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of analysis raw datasets.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>meta &lt;- meta_ae_example()
prepare_ae_summary(
  meta,
  population = "apat",
  observation = "wk12",
  parameter = "any;rel;ser"
)
</code></pre>

<hr>
<h2 id='rate_compare'>Unstratified and stratified  Miettinen and Nurminen test</h2><span id='topic+rate_compare'></span>

<h3>Description</h3>

<p>Unstratified and stratified  Miettinen and Nurminen test.
Details can be found in <code>vignette("rate-compare")</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rate_compare(
  formula,
  strata,
  data,
  delta = 0,
  weight = c("ss", "equal", "cmh"),
  test = c("one.sided", "two.sided"),
  bisection = 100,
  eps = 1e-06,
  alpha = 0.05
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rate_compare_+3A_formula">formula</code></td>
<td>
<p>A symbolic description of the model to be fitted,
which has the form <code>y ~ x</code>. Here, <code>y</code> is the numeric vector
with values of 0 or 1. <code>x</code> is the group information.</p>
</td></tr>
<tr><td><code id="rate_compare_+3A_strata">strata</code></td>
<td>
<p>An optional vector of weights to be used in the analysis.
If not specified, unstratified MN analysis is used.
If specified, stratified MN analysis is conducted.</p>
</td></tr>
<tr><td><code id="rate_compare_+3A_data">data</code></td>
<td>
<p>An optional data frame, list, or environment containing
the variables in the model.
If not found in data, the variables are taken from <code>environment (formula)</code>,
typically the environment from which <code>rate_compare</code> is called.</p>
</td></tr>
<tr><td><code id="rate_compare_+3A_delta">delta</code></td>
<td>
<p>A numeric value to set the difference of two group
under the null.</p>
</td></tr>
<tr><td><code id="rate_compare_+3A_weight">weight</code></td>
<td>
<p>Weighting schema used in stratified MN method.
Default is <code>"ss"</code>:
</p>

<ul>
<li> <p><code>"equal"</code> for equal weighting.
</p>
</li>
<li> <p><code>"ss"</code> for sample size weighting.
</p>
</li>
<li> <p><code>"cmh"</code> for Cochran–Mantel–Haenszel's weights.
</p>
</li></ul>
</td></tr>
<tr><td><code id="rate_compare_+3A_test">test</code></td>
<td>
<p>A character string specifying the side of p-value,
must be one of <code>"one.sided"</code>, or <code>"two.sided"</code>.</p>
</td></tr>
<tr><td><code id="rate_compare_+3A_bisection">bisection</code></td>
<td>
<p>The number of sections in the interval used in
bisection method. Default is 100.</p>
</td></tr>
<tr><td><code id="rate_compare_+3A_eps">eps</code></td>
<td>
<p>The level of precision. Default is 1e-06.</p>
</td></tr>
<tr><td><code id="rate_compare_+3A_alpha">alpha</code></td>
<td>
<p>Pre-defined alpha level for two-sided confidence interval.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with the test results.
</p>


<h3>References</h3>

<p>Miettinen, O. and Nurminen, M, Comparative Analysis of Two Rates.
<em>Statistics in Medicine</em>, 4(2):213&ndash;226, 1985.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Conduct the stratified MN analysis with sample size weights
treatment &lt;- c(rep("pbo", 100), rep("exp", 100))
response &lt;- c(rep(0, 80), rep(1, 20), rep(0, 40), rep(1, 60))
stratum &lt;- c(rep(1:4, 12), 1, 3, 3, 1, rep(1:4, 12), rep(1:4, 25))
rate_compare(
  response ~ factor(treatment, levels = c("pbo", "exp")),
  strata = stratum,
  delta = 0,
  weight = "ss",
  test = "one.sided",
  alpha = 0.05
)
</code></pre>

<hr>
<h2 id='rate_compare_sum'>Unstratified and stratified Miettinen and Nurminen test in
aggregate data level</h2><span id='topic+rate_compare_sum'></span>

<h3>Description</h3>

<p>Unstratified and stratified Miettinen and Nurminen test in
aggregate data level
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rate_compare_sum(
  n0,
  n1,
  x0,
  x1,
  strata = NULL,
  delta = 0,
  weight = c("ss", "equal", "cmh"),
  test = c("one.sided", "two.sided"),
  bisection = 100,
  eps = 1e-06,
  alpha = 0.05
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rate_compare_sum_+3A_n0">n0</code>, <code id="rate_compare_sum_+3A_n1">n1</code></td>
<td>
<p>The sample size in the control group and experimental group,
separately. The length should be the same as the length for
<code>x0/x1</code> and <code>strata</code>.</p>
</td></tr>
<tr><td><code id="rate_compare_sum_+3A_x0">x0</code>, <code id="rate_compare_sum_+3A_x1">x1</code></td>
<td>
<p>The number of events in the control group and
experimental group, separately. The length should be the same
as the length for <code>n0/n1</code> and <code>strata</code>.</p>
</td></tr>
<tr><td><code id="rate_compare_sum_+3A_strata">strata</code></td>
<td>
<p>A vector of stratum indication to be used in the analysis.
If <code>NULL</code> or the length of unique values of <code>strata</code> equals to 1,
it is unstratified MN analysis. Otherwise, it is stratified MN analysis.
The length of <code>strata</code> should be the same as the length for
<code>x0/x1</code> and <code>n0/n1</code>.</p>
</td></tr>
<tr><td><code id="rate_compare_sum_+3A_delta">delta</code></td>
<td>
<p>A numeric value to set the difference of two groups
under the null.</p>
</td></tr>
<tr><td><code id="rate_compare_sum_+3A_weight">weight</code></td>
<td>
<p>Weighting schema used in stratified MN method.
Default is <code>"ss"</code>:
</p>

<ul>
<li> <p><code>"equal"</code> for equal weighting.
</p>
</li>
<li> <p><code>"ss"</code> for sample size weighting.
</p>
</li>
<li> <p><code>"cmh"</code> for Cochran-Mantel-Haenszel's weights.
</p>
</li></ul>
</td></tr>
<tr><td><code id="rate_compare_sum_+3A_test">test</code></td>
<td>
<p>A character string specifying the side of p-value,
must be one of <code>"one.sided"</code>, or <code>"two.sided"</code>.</p>
</td></tr>
<tr><td><code id="rate_compare_sum_+3A_bisection">bisection</code></td>
<td>
<p>The number of sections in the interval used in
bisection method. Default is 100.</p>
</td></tr>
<tr><td><code id="rate_compare_sum_+3A_eps">eps</code></td>
<td>
<p>The level of precision. Default is 1e-06.</p>
</td></tr>
<tr><td><code id="rate_compare_sum_+3A_alpha">alpha</code></td>
<td>
<p>Pre-defined alpha level for two-sided confidence interval.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with the test results.
</p>


<h3>References</h3>

<p>Miettinen, O. and Nurminen, M, Comparative Analysis of Two Rates.
<em>Statistics in Medicine</em>, 4(2):213&ndash;226, 1985.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Conduct the stratified MN analysis with sample size weights
treatment &lt;- c(rep("pbo", 100), rep("exp", 100))
response &lt;- c(rep(0, 80), rep(1, 20), rep(0, 40), rep(1, 60))
stratum &lt;- c(rep(1:4, 12), 1, 3, 3, 1, rep(1:4, 12), rep(1:4, 25))
n0 &lt;- sapply(split(treatment[treatment == "pbo"], stratum[treatment == "pbo"]), length)
n1 &lt;- sapply(split(treatment[treatment == "exp"], stratum[treatment == "exp"]), length)
x0 &lt;- sapply(split(response[treatment == "pbo"], stratum[treatment == "pbo"]), sum)
x1 &lt;- sapply(split(response[treatment == "exp"], stratum[treatment == "exp"]), sum)
strata &lt;- c("a", "b", "c", "d")
rate_compare_sum(
  n0, n1, x0, x1,
  strata,
  delta = 0,
  weight = "ss",
  test = "one.sided",
  alpha = 0.05
)
</code></pre>

<hr>
<h2 id='tlf_ae_listing'>Specific adverse events table</h2><span id='topic+tlf_ae_listing'></span>

<h3>Description</h3>

<p>Specific adverse events table
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tlf_ae_listing(
  outdata,
  footnotes = NULL,
  source = NULL,
  col_rel_width = NULL,
  text_font_size = 9,
  orientation = "landscape",
  path_outdata = NULL,
  path_outtable = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tlf_ae_listing_+3A_outdata">outdata</code></td>
<td>
<p>A outdata list created by <code><a href="#topic+prepare_ae_listing">prepare_ae_listing()</a></code>.</p>
</td></tr>
<tr><td><code id="tlf_ae_listing_+3A_footnotes">footnotes</code></td>
<td>
<p>A character vector of table footnotes.</p>
</td></tr>
<tr><td><code id="tlf_ae_listing_+3A_source">source</code></td>
<td>
<p>A character value of the data source.</p>
</td></tr>
<tr><td><code id="tlf_ae_listing_+3A_col_rel_width">col_rel_width</code></td>
<td>
<p>Column relative width in a vector e.g. c(2,1,1) refers to 2:1:1.
Default is NULL for equal column width.</p>
</td></tr>
<tr><td><code id="tlf_ae_listing_+3A_text_font_size">text_font_size</code></td>
<td>
<p>Text font size.  To vary text font size by column, use
numeric vector with length of vector equal to number of columns
displayed e.g. c(9,20,40).</p>
</td></tr>
<tr><td><code id="tlf_ae_listing_+3A_orientation">orientation</code></td>
<td>
<p>Orientation in 'portrait' or 'landscape'.</p>
</td></tr>
<tr><td><code id="tlf_ae_listing_+3A_path_outdata">path_outdata</code></td>
<td>
<p>A character string of the outdata path.</p>
</td></tr>
<tr><td><code id="tlf_ae_listing_+3A_path_outtable">path_outtable</code></td>
<td>
<p>A character string of the outtable path.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>RTF file and source dataset for AE listing.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(r2rtf)
library(metalite)

meta &lt;- meta_ae_example()
prepare_ae_listing(meta, "ae_listing", "apat", "wk12", "ser") |&gt;
  tlf_ae_listing(
    footnotes = "footnote1",
    source = "Source:  [CDISCpilot: adam-adsl; adae]",
    path_outdata = tempfile(fileext = ".Rdata"),
    path_outtable = tempfile(fileext = ".rtf")
  )
</code></pre>

<hr>
<h2 id='tlf_ae_specific'>Specific adverse events table</h2><span id='topic+tlf_ae_specific'></span>

<h3>Description</h3>

<p>Specific adverse events table
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tlf_ae_specific(
  outdata,
  meddra_version,
  source,
  col_rel_width = NULL,
  text_font_size = 9,
  orientation = "portrait",
  footnotes = NULL,
  title = NULL,
  path_outdata = NULL,
  path_outtable = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tlf_ae_specific_+3A_outdata">outdata</code></td>
<td>
<p>A outdata list created from <code><a href="#topic+prepare_ae_specific">prepare_ae_specific()</a></code>.</p>
</td></tr>
<tr><td><code id="tlf_ae_specific_+3A_meddra_version">meddra_version</code></td>
<td>
<p>A character value of the MedDRA version
for this dataset.</p>
</td></tr>
<tr><td><code id="tlf_ae_specific_+3A_source">source</code></td>
<td>
<p>A character value of the data source.</p>
</td></tr>
<tr><td><code id="tlf_ae_specific_+3A_col_rel_width">col_rel_width</code></td>
<td>
<p>Column relative width in a vector e.g. c(2,1,1) refers to 2:1:1.
Default is NULL for equal column width.</p>
</td></tr>
<tr><td><code id="tlf_ae_specific_+3A_text_font_size">text_font_size</code></td>
<td>
<p>Text font size.  To vary text font size by column, use
numeric vector with length of vector equal to number of columns
displayed e.g. c(9,20,40).</p>
</td></tr>
<tr><td><code id="tlf_ae_specific_+3A_orientation">orientation</code></td>
<td>
<p>Orientation in 'portrait' or 'landscape'.</p>
</td></tr>
<tr><td><code id="tlf_ae_specific_+3A_footnotes">footnotes</code></td>
<td>
<p>A character vector of table footnotes.</p>
</td></tr>
<tr><td><code id="tlf_ae_specific_+3A_title">title</code></td>
<td>
<p>A character vector of table titles.</p>
</td></tr>
<tr><td><code id="tlf_ae_specific_+3A_path_outdata">path_outdata</code></td>
<td>
<p>A character string of the outdata path.</p>
</td></tr>
<tr><td><code id="tlf_ae_specific_+3A_path_outtable">path_outtable</code></td>
<td>
<p>A character string of the outtable path.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>RTF file and source dataset for AE specific table.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>meta &lt;- meta_ae_example()

meta |&gt;
  prepare_ae_specific(
    population = "apat",
    observation = "wk12",
    parameter = "rel"
  ) |&gt;
  format_ae_specific() |&gt;
  tlf_ae_specific(
    source = "Source:  [CDISCpilot: adam-adsl; adae]",
    meddra_version = "24.0",
    path_outdata = tempfile(fileext = ".Rdata"),
    path_outtable = tempfile(fileext = ".rtf")
  )
</code></pre>

<hr>
<h2 id='tlf_ae_summary'>AE summary table</h2><span id='topic+tlf_ae_summary'></span>

<h3>Description</h3>

<p>AE summary table
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tlf_ae_summary(
  outdata,
  source,
  col_rel_width = NULL,
  text_font_size = 9,
  orientation = "portrait",
  footnotes = NULL,
  path_outdata = NULL,
  path_outtable = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tlf_ae_summary_+3A_outdata">outdata</code></td>
<td>
<p>A outdata list created from <code><a href="#topic+prepare_ae_specific">prepare_ae_specific()</a></code>.</p>
</td></tr>
<tr><td><code id="tlf_ae_summary_+3A_source">source</code></td>
<td>
<p>A character value of the data source.</p>
</td></tr>
<tr><td><code id="tlf_ae_summary_+3A_col_rel_width">col_rel_width</code></td>
<td>
<p>Column relative width in a vector e.g. c(2,1,1) refers to 2:1:1.
Default is NULL for equal column width.</p>
</td></tr>
<tr><td><code id="tlf_ae_summary_+3A_text_font_size">text_font_size</code></td>
<td>
<p>Text font size.  To vary text font size by column, use
numeric vector with length of vector equal to number of columns
displayed e.g. c(9,20,40).</p>
</td></tr>
<tr><td><code id="tlf_ae_summary_+3A_orientation">orientation</code></td>
<td>
<p>Orientation in 'portrait' or 'landscape'.</p>
</td></tr>
<tr><td><code id="tlf_ae_summary_+3A_footnotes">footnotes</code></td>
<td>
<p>A character vector of table footnotes.</p>
</td></tr>
<tr><td><code id="tlf_ae_summary_+3A_path_outdata">path_outdata</code></td>
<td>
<p>A character string of the outdata path.</p>
</td></tr>
<tr><td><code id="tlf_ae_summary_+3A_path_outtable">path_outtable</code></td>
<td>
<p>A character string of the outtable path.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>RTF file and source dataset for AE listing.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>meta &lt;- meta_ae_example()
outdata &lt;- prepare_ae_summary(meta,
  population = "apat",
  observation = "wk12",
  parameter = "any;rel;ser"
)
outdata |&gt;
  format_ae_summary() |&gt;
  tlf_ae_summary(
    source = "Source:  [CDISCpilot: adam-adsl; adae]",
    path_outdata = tempfile(fileext = ".Rdata"),
    path_outtable = tempfile(fileext = ".rtf")
  )
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

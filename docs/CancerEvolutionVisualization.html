<!DOCTYPE html><html lang="en"><head><title>Help for package CancerEvolutionVisualization</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {CancerEvolutionVisualization}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#colours'><p>Colour scheme vector</p></a></li>
<li><a href='#SRCGrob'><p>Subclone Tree Plot</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Publication Quality Phylogenetic Tree Plots</td>
</tr>
<tr>
<td>Version:</td>
<td>2.0.1</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-11-17</td>
</tr>
<tr>
<td>Description:</td>
<td>Generates tree plots with precise branch lengths, gene annotations, and cellular prevalence. The package handles complex tree structures (angles, lengths, etc.) and can be further refined as needed by the user.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/uclahs-cds/package-CancerEvolutionVisualization">https://github.com/uclahs-cds/package-CancerEvolutionVisualization</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/uclahs-cds/package-CancerEvolutionVisualization/issues">https://github.com/uclahs-cds/package-CancerEvolutionVisualization/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0), graphics, grid, gridExtra, gtable,</td>
</tr>
<tr>
<td>Imports:</td>
<td>plyr, grDevices, utils, stringr, BoutrosLab.plotting.general</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, knitr</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>LazyData:</td>
<td>yes</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-11-21 19:23:12 UTC; root</td>
</tr>
<tr>
<td>Author:</td>
<td>Paul Boutros [cre],
  Adriana Salcedo [aut],
  Dan Knight [aut],
  Helena Winata [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Paul Boutros &lt;PBoutros@mednet.ucla.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-11-21 19:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='colours'>Colour scheme vector</h2><span id='topic+colours'></span>

<h3>Description</h3>

<p>Default colours used by CP polygons, etc.</p>


<h3>Format</h3>

<p>Character vector</p>

<hr>
<h2 id='SRCGrob'>Subclone Tree Plot</h2><span id='topic+SRCGrob'></span>

<h3>Description</h3>

<p>Creates a phylogenetic tree using subclonal reconstruction data.
An optional node text data.frame can be used to annotate notable genes alonside branches.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SRCGrob(
    tree,
    node.text = NULL,
    main = NULL,
    horizontal.padding = 0.1,
    scale1 = 1,
    scale2 = 1,
    yat = NULL,
    yaxis1.label = NULL,
    yaxis2.label = NULL,
    xlab.cex = 1.55,
    ylab.cex = 1.55,
    xaxis.cex = 1.45,
    yaxis.cex = 1.45,
    xaxis.label = "CP",
    label.cex = NA,
    node.text.cex = 0.85,
    main.y = NULL,
    main.cex = 1.7,
    node.radius = 0.1,
    node.text.line.dist = 0.1,
    colour.scheme = CancerEvolutionVisualization::colours,
    draw.nodes = TRUE,
    add.normal = FALSE,
    use.radians = FALSE,
    normal.cex = 1,
    sig.shape = 3,
    label.nodes = TRUE,
    disable.polygons = FALSE,
    length.from.node.edge = TRUE,
    size.units = "npc"
    );
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="SRCGrob_+3A_tree">tree</code></td>
<td>
<p>Tree structure data.frame</p>
</td></tr>
<tr><td><code id="SRCGrob_+3A_node.text">node.text</code></td>
<td>
<p>Dataframe for text labels to be displayed next to nodes</p>
</td></tr>
<tr><td><code id="SRCGrob_+3A_main">main</code></td>
<td>
<p>Main plot title</p>
</td></tr>
<tr><td><code id="SRCGrob_+3A_horizontal.padding">horizontal.padding</code></td>
<td>

<p>Increase/reduce the plot's horizontal padding proportionally.
A positive value will expand the padding, and a negative value will reduce it.
</p>
</td></tr>
<tr><td><code id="SRCGrob_+3A_scale1">scale1</code></td>
<td>

<p>Proportionally scale the values of the first branch length column in the tree input.
</p>
</td></tr>
<tr><td><code id="SRCGrob_+3A_scale2">scale2</code></td>
<td>

<p>Proportionally scale the values of the second branch length column in the tree input.
</p>
</td></tr>
<tr><td><code id="SRCGrob_+3A_yat">yat</code></td>
<td>

<p>Specific values to be used for the y-axis ticks. A list is required, with each element
corresponding to an axis.
</p>
</td></tr>
<tr><td><code id="SRCGrob_+3A_yaxis1.label">yaxis1.label</code></td>
<td>
<p>Text label for the first, leftmost y-axis</p>
</td></tr>
<tr><td><code id="SRCGrob_+3A_yaxis2.label">yaxis2.label</code></td>
<td>
<p>Text label for the second, rightmost y-axis</p>
</td></tr>
<tr><td><code id="SRCGrob_+3A_xlab.cex">xlab.cex</code></td>
<td>
<p>Font size for the x-axis label</p>
</td></tr>
<tr><td><code id="SRCGrob_+3A_ylab.cex">ylab.cex</code></td>
<td>
<p>Font size for the y-axis labels</p>
</td></tr>
<tr><td><code id="SRCGrob_+3A_xaxis.cex">xaxis.cex</code></td>
<td>
<p>Font size for the x-axis tick labels</p>
</td></tr>
<tr><td><code id="SRCGrob_+3A_yaxis.cex">yaxis.cex</code></td>
<td>
<p>Font size for the y-axis tick labels</p>
</td></tr>
<tr><td><code id="SRCGrob_+3A_xaxis.label">xaxis.label</code></td>
<td>
<p>Text label for the x-axis</p>
</td></tr>
<tr><td><code id="SRCGrob_+3A_label.cex">label.cex</code></td>
<td>
<p>Font size for the node labels</p>
</td></tr>
<tr><td><code id="SRCGrob_+3A_node.text.cex">node.text.cex</code></td>
<td>
<p>Font size for the node text</p>
</td></tr>
<tr><td><code id="SRCGrob_+3A_main.y">main.y</code></td>
<td>
<p>Move the main plot title position up or down</p>
</td></tr>
<tr><td><code id="SRCGrob_+3A_main.cex">main.cex</code></td>
<td>
<p>Font size for the main plot title</p>
</td></tr>
<tr><td><code id="SRCGrob_+3A_node.radius">node.radius</code></td>
<td>
<p>Node size</p>
</td></tr>
<tr><td><code id="SRCGrob_+3A_node.text.line.dist">node.text.line.dist</code></td>
<td>

<p>Distance between node text and tree branches (as a value between 0 and 1)
</p>
</td></tr>
<tr><td><code id="SRCGrob_+3A_colour.scheme">colour.scheme</code></td>
<td>
<p>Vector of colour values to be used for CP polygons</p>
</td></tr>
<tr><td><code id="SRCGrob_+3A_draw.nodes">draw.nodes</code></td>
<td>
<p>Enable or disable drawing tree nodes</p>
</td></tr>
<tr><td><code id="SRCGrob_+3A_add.normal">add.normal</code></td>
<td>
<p>Adds a normal</p>
</td></tr>
<tr><td><code id="SRCGrob_+3A_use.radians">use.radians</code></td>
<td>
<p>Unit to be used for &quot;angle&quot; column (degrees or radians)</p>
</td></tr>
<tr><td><code id="SRCGrob_+3A_normal.cex">normal.cex</code></td>
<td>
<p>Font size within the normal &quot;box&quot;</p>
</td></tr>
<tr><td><code id="SRCGrob_+3A_sig.shape">sig.shape</code></td>
<td>

<p>Changes the shape of the CP shading.
Lower values are smoother.
</p>
</td></tr>
<tr><td><code id="SRCGrob_+3A_label.nodes">label.nodes</code></td>
<td>
<p>Enable/disable node labels</p>
</td></tr>
<tr><td><code id="SRCGrob_+3A_disable.polygons">disable.polygons</code></td>
<td>
<p>Disables CP polygon drawing (even when CP values are provided)</p>
</td></tr>
<tr><td><code id="SRCGrob_+3A_length.from.node.edge">length.from.node.edge</code></td>
<td>

<p>Sets the branch length to be calculated from the edge of the node instead of the centre
</p>
</td></tr>
<tr><td><code id="SRCGrob_+3A_size.units">size.units</code></td>
<td>
<p>Grid units to be used for all specific size/length parameters</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A 'grob' of class &quot;SRCGrob&quot;</p>


<h3>Author(s)</h3>

<p>Dan Knight</p>


<h3>Examples</h3>

<pre><code class='language-R'># Simple Tree Plot
simple.tree &lt;- data.frame(
    parent = c(NA, 1, 1)
    );

SRCGrob(simple.tree);


# Specify Branch Lengths
branch.lengths.tree &lt;- data.frame(
    simple.tree,
    length1 = c(10, 20, 15)
    );

SRCGrob(branch.lengths.tree);


# Cellular Prevalence
CP.tree &lt;- data.frame(
    branch.lengths.tree,
    CP = c(1, 0.3, 0.5)
    );

SRCGrob(CP.tree);


# Scaled Branch Lengths
SRCGrob(
    branch.lengths.tree,
    scale1 = 0.8
    );


# Override Branch Angles in Degrees
degrees.tree &lt;- data.frame(
    parent = c(NA, 1, 2),
    angle = c(NA, NA, 90)
    );

SRCGrob(degrees.tree);


# Override Branch Angles in Radians
radians.tree &lt;- data.frame(
    parent = c(NA, 1, 2),
    angle = c(NA, NA, pi / 2)
    );

SRCGrob(
    radians.tree,
    use.radians = TRUE
    );


# Plot Title
SRCGrob(
    simple.tree,
    main = 'Example Plot'
    );


# Y-Axis Label
SRCGrob(
    branch.lengths.tree,
    yaxis1.label = 'SNVs'
    );


# Y-Axis Ticks
yaxis1.ticks &lt;- seq(0, 10, 2);

SRCGrob(
    branch.lengths.tree,
    yat = list(yaxis1.ticks)
    );


# Normal
SRCGrob(
    simple.tree,
    add.normal = TRUE
    );
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en-GB"><head><title>Help for package comorbidity</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {comorbidity}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#comorbidity-package'><p>comorbidity: Computing Comorbidity Scores</p></a></li>
<li><a href='#australia10'><p>Australian mortality data, 2010</p></a></li>
<li><a href='#available_algorithms'><p>Display Currently Supported Algorithms</p></a></li>
<li><a href='#comorbidity'><p>Comorbidity mapping.</p></a></li>
<li><a href='#icd10_2009'><p>ICD-10 Diagnostic Codes, 2009 Version</p></a></li>
<li><a href='#icd10_2011'><p>ICD-10 Diagnostic Codes, 2011 Version</p></a></li>
<li><a href='#icd10cm_2017'><p>ICD-10-CM Diagnostic Codes, 2017 Version</p></a></li>
<li><a href='#icd10cm_2018'><p>ICD-10-CM Diagnostic Codes, 2018 Version</p></a></li>
<li><a href='#icd10cm_2022'><p>ICD-10-CM Diagnostic Codes, 2022 Version</p></a></li>
<li><a href='#icd9_2015'><p>ICD-9 Diagnostic Codes, 2015 Version (v32)</p></a></li>
<li><a href='#nhds2010'><p>Adult same-day discharges, 2010</p></a></li>
<li><a href='#sample_diag'><p>Simulate ICD-10 and ICD-9 diagnostic codes</p></a></li>
<li><a href='#score'><p>Compute (weighted) comorbidity scores</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Version:</td>
<td>1.1.0</td>
</tr>
<tr>
<td>Title:</td>
<td>Computing Comorbidity Scores</td>
</tr>
<tr>
<td>Description:</td>
<td>Computing comorbidity indices and scores such as the weighted Charlson
  score (Charlson, 1987 &lt;<a href="https://doi.org/10.1016%2F0021-9681%2887%2990171-8">doi:10.1016/0021-9681(87)90171-8</a>&gt;) and the Elixhauser
  comorbidity score (Elixhauser, 1998 &lt;<a href="https://doi.org/10.1097%2F00005650-199801000-00004">doi:10.1097/00005650-199801000-00004</a>&gt;)
  using ICD-9-CM or ICD-10 codes (Quan, 2005 &lt;<a href="https://doi.org/10.1097%2F01.mlr.0000182534.19832.83">doi:10.1097/01.mlr.0000182534.19832.83</a>&gt;).
  Australian and Swedish modifications of the Charlson Comorbidity Index are available
  as well (Sundararajan, 2004 &lt;<a href="https://doi.org/10.1016%2Fj.jclinepi.2004.03.012">doi:10.1016/j.jclinepi.2004.03.012</a>&gt; and Ludvigsson, 2021 
  &lt;<a href="https://doi.org/10.2147%2FCLEP.S282475">doi:10.2147/CLEP.S282475</a>&gt;), together with different weighting algorithms for both
  the Charlson and Elixhauser comorbidity scores.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://ellessenne.github.io/comorbidity/">https://ellessenne.github.io/comorbidity/</a>,
<a href="https://github.com/ellessenne/comorbidity">https://github.com/ellessenne/comorbidity</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/ellessenne/comorbidity/issues">https://github.com/ellessenne/comorbidity/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>Imports:</td>
<td>checkmate, data.table, stats, stringi, utils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, knitr, rmarkdown, testthat</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>ByteCompile:</td>
<td>true</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Language:</td>
<td>en-GB</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-07-16 06:30:53 UTC; ellessenne</td>
</tr>
<tr>
<td>Author:</td>
<td>Alessandro Gasparini
    <a href="https://orcid.org/0000-0002-8319-7624"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, cre],
  Hojjat Salmasian [ctb] (ICD-9-CM scores),
  Jonathan Williman <a href="https://orcid.org/0000-0001-5080-4435"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb],
  Sing Yi Chia <a href="https://orcid.org/0000-0002-7591-3141"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb],
  Edmund Teo <a href="https://orcid.org/0000-0003-3936-4082"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [ctb],
  Desi Quintans [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Alessandro Gasparini &lt;alessandro@ellessenne.xyz&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-07-16 06:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='comorbidity-package'>comorbidity: Computing Comorbidity Scores</h2><span id='topic+comorbidity-package'></span>

<h3>Description</h3>

<p>Computing comorbidity indices and scores such as the weighted Charlson score (Charlson, 1987 <a href="https://doi.org/10.1016/0021-9681%2887%2990171-8">doi:10.1016/0021-9681(87)90171-8</a>) and the Elixhauser comorbidity score (Elixhauser, 1998 <a href="https://doi.org/10.1097/00005650-199801000-00004">doi:10.1097/00005650-199801000-00004</a>) using ICD-9-CM or ICD-10 codes (Quan, 2005 <a href="https://doi.org/10.1097/01.mlr.0000182534.19832.83">doi:10.1097/01.mlr.0000182534.19832.83</a>). Australian and Swedish modifications of the Charlson Comorbidity Index are available as well (Sundararajan, 2004 <a href="https://doi.org/10.1016/j.jclinepi.2004.03.012">doi:10.1016/j.jclinepi.2004.03.012</a> and Ludvigsson, 2021 <a href="https://doi.org/10.2147/CLEP.S282475">doi:10.2147/CLEP.S282475</a>), together with different weighting algorithms for both the Charlson and Elixhauser comorbidity scores.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Alessandro Gasparini <a href="mailto:alessandro@ellessenne.xyz">alessandro@ellessenne.xyz</a> (<a href="https://orcid.org/0000-0002-8319-7624">ORCID</a>)
</p>
<p>Other contributors:
</p>

<ul>
<li><p> Hojjat Salmasian <a href="mailto:hsalmasian@bwh.harvard.edu">hsalmasian@bwh.harvard.edu</a> (ICD-9-CM scores) [contributor]
</p>
</li>
<li><p> Jonathan Williman <a href="mailto:jonathan.williman@otago.ac.nz">jonathan.williman@otago.ac.nz</a> (<a href="https://orcid.org/0000-0001-5080-4435">ORCID</a>) [contributor]
</p>
</li>
<li><p> Sing Yi Chia <a href="mailto:cxycsy@hotmail.com">cxycsy@hotmail.com</a> (<a href="https://orcid.org/0000-0002-7591-3141">ORCID</a>) [contributor]
</p>
</li>
<li><p> Edmund Teo <a href="mailto:ed_teo8@yahoo.com.sg">ed_teo8@yahoo.com.sg</a> (<a href="https://orcid.org/0000-0003-3936-4082">ORCID</a>) [contributor]
</p>
</li>
<li><p> Desi Quintans [contributor]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://ellessenne.github.io/comorbidity/">https://ellessenne.github.io/comorbidity/</a>
</p>
</li>
<li> <p><a href="https://github.com/ellessenne/comorbidity">https://github.com/ellessenne/comorbidity</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/ellessenne/comorbidity/issues">https://github.com/ellessenne/comorbidity/issues</a>
</p>
</li></ul>


<hr>
<h2 id='australia10'>Australian mortality data, 2010</h2><span id='topic+australia10'></span>

<h3>Description</h3>

<p>A dataset containing Australian mortality data, obtained from Stata 17.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>australia10
</code></pre>


<h3>Format</h3>

<p>A data frame with 3,322 rows and 3 variables:
</p>

<dl>
<dt>cause</dt><dd><p>ICD-10 code representing cause of death</p>
</dd>
<dt>sex</dt><dd><p>Gender</p>
</dd>
<dt>deaths</dt><dd><p>Number of deaths</p>
</dd>
</dl>



<h3>Note</h3>

<p>The R code used to download and process the dataset from Stata is available <a href="https://raw.githubusercontent.com/ellessenne/comorbidity/master/data-raw/make-data.R">here</a>.
</p>

<hr>
<h2 id='available_algorithms'>Display Currently Supported Algorithms</h2><span id='topic+available_algorithms'></span>

<h3>Description</h3>

<p>This function prints all (currently) supported and implemented
comorbidity mapping, and for each one of those, each supported scoring and
weighting algorithm.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>available_algorithms()
</code></pre>


<h3>Examples</h3>

<pre><code class='language-R'>available_algorithms()
</code></pre>

<hr>
<h2 id='comorbidity'>Comorbidity mapping.</h2><span id='topic+comorbidity'></span>

<h3>Description</h3>

<p>Maps comorbidity conditions using algorithms from the Charlson and the Elixhauser comorbidity scores.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>comorbidity(x, id, code, map, assign0, labelled = TRUE, tidy.codes = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="comorbidity_+3A_x">x</code></td>
<td>
<p>A tidy <code>data.frame</code> (or a <code>data.table</code>; <code>tibble</code>s are supported too) with one column containing an individual ID and a column containing all diagnostic codes.
Extra columns other than ID and codes are discarded.
Column names must be syntactically valid names, otherwise they are forced to be so by calling the <code><a href="base.html#topic+make.names">make.names()</a></code> function.</p>
</td></tr>
<tr><td><code id="comorbidity_+3A_id">id</code></td>
<td>
<p>String denoting the name of a column of <code>x</code> containing the individual ID.</p>
</td></tr>
<tr><td><code id="comorbidity_+3A_code">code</code></td>
<td>
<p>String denoting the name of a column of <code>x</code> containing diagnostic codes.
Codes must be in upper case with no punctuation in order to be properly recognised.</p>
</td></tr>
<tr><td><code id="comorbidity_+3A_map">map</code></td>
<td>
<p>String denoting the mapping algorithm to be used (values are case-insensitive).
Possible values are the Charlson score with either ICD-10 or ICD-9-CM codes (<code>charlson_icd10_quan</code>, <code>charlson_icd9_quan</code>) and the Elixhauser score, again using either ICD-10 or ICD-9-CM (<code>elixhauser_icd10_quan</code>, <code>elixhauser_icd9_quan</code>).
These mapping are based on the paper by Quan et al. (2011).
It is also possible to obtain a Swedish (<code>charlson_icd10_se</code>) or Australian (<code>charlson_icd10_am</code>) modification of the Charlson score using ICD-10 codes.</p>
</td></tr>
<tr><td><code id="comorbidity_+3A_assign0">assign0</code></td>
<td>
<p>Logical value denoting whether to apply a hierarchy of comorbidities: should a comorbidity be present in a patient with different degrees of severity, then the milder form will be assigned a value of 0.
By doing this, a type of comorbidity is not counted more than once in each patient.
If <code>assign0 = TRUE</code>, the comorbidities that are affected by this argument are:
</p>

<ul>
<li><p> &quot;Mild liver disease&quot; (<code>mld</code>) and &quot;Moderate/severe liver disease&quot; (<code>msld</code>) for the Charlson score;
</p>
</li>
<li><p> &quot;Diabetes&quot; (<code>diab</code>) and &quot;Diabetes with complications&quot; (<code>diabwc</code>) for the Charlson score;
</p>
</li>
<li><p> &quot;Cancer&quot; (<code>canc</code>) and &quot;Metastatic solid tumour&quot; (<code>metacanc</code>) for the Charlson score;
</p>
</li>
<li><p> &quot;Hypertension, uncomplicated&quot; (<code>hypunc</code>) and &quot;Hypertension, complicated&quot; (<code>hypc</code>) for the Elixhauser score;
</p>
</li>
<li><p> &quot;Diabetes, uncomplicated&quot; (<code>diabunc</code>) and &quot;Diabetes, complicated&quot; (<code>diabc</code>) for the Elixhauser score;
</p>
</li>
<li><p> &quot;Solid tumour&quot; (<code>solidtum</code>) and &quot;Metastatic cancer&quot; (<code>metacanc</code>) for the Elixhauser score.
</p>
</li></ul>
</td></tr>
<tr><td><code id="comorbidity_+3A_labelled">labelled</code></td>
<td>
<p>Logical value denoting whether to attach labels to each comorbidity, which are compatible with the RStudio viewer via the <code><a href="utils.html#topic+View">utils::View()</a></code> function.
Defaults to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="comorbidity_+3A_tidy.codes">tidy.codes</code></td>
<td>
<p>Logical value, defaulting to <code>TRUE</code>, denoting whether ICD codes are to be tidied.
If <code>TRUE</code>, all codes are converted to upper case and all non-alphanumeric characters are removed using the regular expression <code>[^[:alnum:]]</code>.
It can be set to <code>FALSE</code> to speed up computations, but please be aware that in that case codes are assumed to be formatted as above.
If codes are incorrectly formatted, this may lead to wrong results: use at your own risk!</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The ICD-10 and ICD-9-CM coding for the Charlson and Elixhauser scores is based on work by Quan <em>et al</em>. (2005).
ICD-10 and ICD-9 codes must be in upper case and with alphanumeric characters only in order to be properly recognised; set <code>tidy.codes = TRUE</code> to properly tidy the codes automatically (this is the default behaviour).
A message is printed to the R console when non-alphanumeric characters are found.
</p>


<h3>Value</h3>

<p>A data frame with <code>id</code> and columns relative to each comorbidity domain, with one row per individual.
</p>
<p>For the Charlson score, the following variables are included in the dataset:
</p>

<ul>
<li><p> The <code>id</code> variable as defined by the user;
</p>
</li>
<li> <p><code>mi</code>, for myocardial infarction;
</p>
</li>
<li> <p><code>chf</code>, for congestive heart failure;
</p>
</li>
<li> <p><code>pvd</code>, for peripheral vascular disease;
</p>
</li>
<li> <p><code>cevd</code>, for cerebrovascular disease;
</p>
</li>
<li> <p><code>dementia</code>, for dementia;
</p>
</li>
<li> <p><code>cpd</code>, for chronic pulmonary disease;
</p>
</li>
<li> <p><code>rheumd</code>, for rheumatoid disease;
</p>
</li>
<li> <p><code>pud</code>, for peptic ulcer disease;
</p>
</li>
<li> <p><code>mld</code>, for mild liver disease;
</p>
</li>
<li> <p><code>diab</code>, for diabetes without complications;
</p>
</li>
<li> <p><code>diabwc</code>, for diabetes with complications;
</p>
</li>
<li> <p><code>hp</code>, for hemiplegia or paraplegia;
</p>
</li>
<li> <p><code>rend</code>, for renal disease;
</p>
</li>
<li> <p><code>canc</code>, for cancer (any malignancy);
</p>
</li>
<li> <p><code>msld</code>, for moderate or severe liver disease;
</p>
</li>
<li> <p><code>metacanc</code>, for metastatic solid tumour;
</p>
</li>
<li> <p><code>aids</code>, for AIDS/HIV.
Please note that we combine &quot;chronic obstructive pulmonary disease&quot; and &quot;chronic other pulmonary disease&quot; for the Swedish version of the Charlson index, for comparability (and compatibility) with other definitions/implementations.
</p>
</li></ul>

<p>Conversely, for the Elixhauser score the dataset contains the following variables:
</p>

<ul>
<li><p> The <code>id</code> variable as defined by the user;
</p>
</li>
<li> <p><code>chf</code>, for congestive heart failure;
</p>
</li>
<li> <p><code>carit</code>, for cardiac arrhythmias;
</p>
</li>
<li> <p><code>valv</code>, for valvular disease;
</p>
</li>
<li> <p><code>pcd</code>, for pulmonary circulation disorders;
</p>
</li>
<li> <p><code>pvd</code>, for peripheral vascular disorders;
</p>
</li>
<li> <p><code>hypunc</code>, for hypertension, uncomplicated;
</p>
</li>
<li> <p><code>hypc</code>, for hypertension, complicated;
</p>
</li>
<li> <p><code>para</code>, for paralysis;
</p>
</li>
<li> <p><code>ond</code>, for other neurological disorders;
</p>
</li>
<li> <p><code>cpd</code>, for chronic pulmonary disease;
</p>
</li>
<li> <p><code>diabunc</code>, for diabetes, uncomplicated;
</p>
</li>
<li> <p><code>diabc</code>, for diabetes, complicated;
</p>
</li>
<li> <p><code>hypothy</code>, for hypothyroidism;
</p>
</li>
<li> <p><code>rf</code>, for renal failure;
</p>
</li>
<li> <p><code>ld</code>, for liver disease;
</p>
</li>
<li> <p><code>pud</code>, for peptic ulcer disease, excluding bleeding;
</p>
</li>
<li> <p><code>aids</code>, for AIDS/HIV;
</p>
</li>
<li> <p><code>lymph</code>, for lymphoma;
</p>
</li>
<li> <p><code>metacanc</code>, for metastatic cancer;
</p>
</li>
<li> <p><code>solidtum</code>, for solid tumour, without metastasis;
</p>
</li>
<li> <p><code>rheumd</code>, for rheumatoid arthritis/collaged vascular disease;
</p>
</li>
<li> <p><code>coag</code>, for coagulopathy;
</p>
</li>
<li> <p><code>obes</code>, for obesity;
</p>
</li>
<li> <p><code>wloss</code>, for weight loss;
</p>
</li>
<li> <p><code>fed</code>, for fluid and electrolyte disorders;
</p>
</li>
<li> <p><code>blane</code>, for blood loss anaemia;
</p>
</li>
<li> <p><code>dane</code>, for deficiency anaemia;
</p>
</li>
<li> <p><code>alcohol</code>, for alcohol abuse;
</p>
</li>
<li> <p><code>drug</code>, for drug abuse;
</p>
</li>
<li> <p><code>psycho</code>, for psychoses;
</p>
</li>
<li> <p><code>depre</code>, for depression;
</p>
</li></ul>

<p>Labels are presented to the user when using the RStudio viewer (e.g. via the <code><a href="utils.html#topic+View">utils::View()</a></code> function) for convenience, if <code>labelled = TRUE</code>.
</p>


<h3>References</h3>

<p>Quan H, Sundararajan V, Halfon P, Fong A, Burnand B, Luthi JC, et al. <em>Coding algorithms for defining comorbidities in ICD-9-CM and ICD-10 administrative data</em>. Medical Care 2005; 43(11):1130-1139.
</p>
<p>Charlson ME, Pompei P, Ales KL, et al. <em>A new method of classifying prognostic comorbidity in longitudinal studies: development and validation</em>. Journal of Chronic Diseases 1987; 40:373-383.
</p>
<p>Ludvigsson JF, Appelros P, Askling J et al. <em>Adaptation of the Charlson Comorbidity Index for register-based research in Sweden</em>. Clinical Epidemiology 2021; 13:21-41.
</p>
<p>Sundararajan V, Henderson T, Perry C, Muggivan A, Quan H, Ghali WA. <em>New ICD-10 version of the Charlson comorbidity index predicted in-hospital mortality</em>. Journal of Clinical Epidemiology 2004; 57(12):1288-1294.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(1)
x &lt;- data.frame(
  id = sample(1:15, size = 200, replace = TRUE),
  code = sample_diag(200),
  stringsAsFactors = FALSE
)

# Charlson score based on ICD-10 diagnostic codes:
comorbidity(x = x, id = "id", code = "code", map = "charlson_icd10_quan", assign0 = FALSE)

# Elixhauser score based on ICD-10 diagnostic codes:
comorbidity(x = x, id = "id", code = "code", map = "elixhauser_icd10_quan", assign0 = FALSE)

# The following example describes how the `assign0` argument works.
# We create a dataset for a single patient with two codes, one for
# uncomplicated diabetes ("E100") and one for complicated diabetes
# ("E102"):
x2 &lt;- data.frame(
  id = 1,
  code = c("E100", "E102"),
  stringsAsFactors = FALSE
)
# Then, we calculate the Quan-ICD10 Charlson score:
ccF &lt;- comorbidity(x = x2, id = "id", code = "code", map = "charlson_icd10_quan", assign0 = FALSE)
# With `assign0 = FALSE`, both diabetes comorbidities are counted:
ccF[, c("diab", "diabwc")]
# Conversely, with `assign0 = TRUE`, only the more severe diabetes with
# complications is counted:
ccT &lt;- comorbidity(x = x2, id = "id", code = "code", map = "charlson_icd10_quan", assign0 = TRUE)
ccT[, c("diab", "diabwc")]

</code></pre>

<hr>
<h2 id='icd10_2009'>ICD-10 Diagnostic Codes, 2009 Version</h2><span id='topic+icd10_2009'></span>

<h3>Description</h3>

<p>A dataset containing the 2009 version of the ICD-10 codes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>icd10_2009
</code></pre>


<h3>Format</h3>

<p>A data frame with 10,817 rows and 4 variables:
</p>

<dl>
<dt>Code</dt><dd><p>ICD-10 diagnostic code</p>
</dd>
<dt>Code.clean</dt><dd><p>ICD-10 diagnostic code, removing all punctuation</p>
</dd>
<dt>ICD.title</dt><dd><p>Code description, in plain English.</p>
</dd>
<dt>Status</dt><dd><p>Additional information, if available.</p>
</dd>
</dl>



<h3>Note</h3>

<p>The R code used to download and process the dataset from the CDC website is available <a href="https://raw.githubusercontent.com/ellessenne/comorbidity/master/data-raw/make-data.R">here</a>.
</p>


<h3>Source</h3>

<p>CDC Website: https://goo.gl/6e2mvb
</p>

<hr>
<h2 id='icd10_2011'>ICD-10 Diagnostic Codes, 2011 Version</h2><span id='topic+icd10_2011'></span>

<h3>Description</h3>

<p>A dataset containing the 2011 version of the ICD-10 codes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>icd10_2011
</code></pre>


<h3>Format</h3>

<p>A data frame with 10,856 rows and 4 variables:
</p>

<dl>
<dt>Code</dt><dd><p>ICD-10 diagnostic code</p>
</dd>
<dt>Code.clean</dt><dd><p>ICD-10 diagnostic code, removing all punctuation</p>
</dd>
<dt>ICD.title</dt><dd><p>Code description, in plain English.</p>
</dd>
<dt>Status</dt><dd><p>Additional information, if available.</p>
</dd>
</dl>



<h3>Note</h3>

<p>The R code used to download and process the dataset from the CDC website is available <a href="https://raw.githubusercontent.com/ellessenne/comorbidity/master/data-raw/make-data.R">here</a>.
</p>


<h3>Source</h3>

<p>CDC Website: https://goo.gl/rcTJJ2
</p>

<hr>
<h2 id='icd10cm_2017'>ICD-10-CM Diagnostic Codes, 2017 Version</h2><span id='topic+icd10cm_2017'></span>

<h3>Description</h3>

<p>A dataset containing the 2017 version of the ICD10-CM coding system.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>icd10cm_2017
</code></pre>


<h3>Format</h3>

<p>A data frame with 71,486 rows and 2 variables:
</p>

<dl>
<dt>Code</dt><dd><p>ICD-10-CM diagnostic code</p>
</dd>
<dt>Description</dt><dd><p>Description of each code</p>
</dd>
</dl>



<h3>Note</h3>

<p>The R code used to download and process the dataset from the CDC website is available <a href="https://raw.githubusercontent.com/ellessenne/comorbidity/master/data-raw/make-data.R">here</a>.
</p>

<hr>
<h2 id='icd10cm_2018'>ICD-10-CM Diagnostic Codes, 2018 Version</h2><span id='topic+icd10cm_2018'></span>

<h3>Description</h3>

<p>A dataset containing the 2018 version of the ICD10-CM coding system.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>icd10cm_2018
</code></pre>


<h3>Format</h3>

<p>A data frame with 71,704 rows and 2 variables:
</p>

<dl>
<dt>Code</dt><dd><p>ICD-10-CM diagnostic code</p>
</dd>
<dt>Description</dt><dd><p>Description of each code</p>
</dd>
</dl>



<h3>Note</h3>

<p>The R code used to download and process the dataset from the CDC website is available <a href="https://raw.githubusercontent.com/ellessenne/comorbidity/master/data-raw/make-data.R">here</a>.
</p>

<hr>
<h2 id='icd10cm_2022'>ICD-10-CM Diagnostic Codes, 2022 Version</h2><span id='topic+icd10cm_2022'></span>

<h3>Description</h3>

<p>A dataset containing the 2022 version of the ICD10-CM coding system.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>icd10cm_2022
</code></pre>


<h3>Format</h3>

<p>A data frame with 72,750 rows and 2 variables:
</p>

<dl>
<dt>Code</dt><dd><p>ICD-10-CM diagnostic code</p>
</dd>
<dt>Description</dt><dd><p>Description of each code</p>
</dd>
</dl>



<h3>Note</h3>

<p>The R code used to download and process the dataset from the CDC website is available <a href="https://raw.githubusercontent.com/ellessenne/comorbidity/master/data-raw/make-data.R">here</a>.
</p>

<hr>
<h2 id='icd9_2015'>ICD-9 Diagnostic Codes, 2015 Version (v32)</h2><span id='topic+icd9_2015'></span>

<h3>Description</h3>

<p>A dataset containing the version of the ICD-9 codes effective October 1, 2014.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>icd9_2015
</code></pre>


<h3>Format</h3>

<p>A data frame with 14,567 rows and 3 variables:
</p>

<dl>
<dt>Code</dt><dd><p>ICD-9 diagnostic code</p>
</dd>
<dt>Long_description</dt><dd><p>Long description of each code</p>
</dd>
<dt>Short_description</dt><dd><p>Short description of each code</p>
</dd>
</dl>



<h3>Note</h3>

<p>The R code used to download and process the dataset from the CMS.gov website is available <a href="https://raw.githubusercontent.com/ellessenne/comorbidity/master/data-raw/make-data.R">here</a>.
</p>


<h3>Source</h3>

<p>CMS.gov Website: https://www.cms.gov/Medicare/Coding/ICD9ProviderDiagnosticCodes/codes.html
</p>

<hr>
<h2 id='nhds2010'>Adult same-day discharges, 2010</h2><span id='topic+nhds2010'></span>

<h3>Description</h3>

<p>A dataset containing adult same-day discharges from 2010, obtained from Stata 17.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nhds2010
</code></pre>


<h3>Format</h3>

<p>A data frame with 2,210 rows and 15 variables:
</p>

<dl>
<dt>ageu</dt><dd><p>Units for age</p>
</dd>
<dt>age</dt><dd><p>Age</p>
</dd>
<dt>sex</dt><dd><p>Sex</p>
</dd>
<dt>race</dt><dd><p>Race</p>
</dd>
<dt>month</dt><dd><p>Discharge month</p>
</dd>
<dt>status</dt><dd><p>Discharge status</p>
</dd>
<dt>region</dt><dd><p>Region</p>
</dd>
<dt>atype</dt><dd><p>Type of admission</p>
</dd>
<dt>dx1</dt><dd><p>Diagnosis 1, ICD9-CM</p>
</dd>
<dt>dx2</dt><dd><p>Diagnosis 2, ICD9-CM</p>
</dd>
<dt>dx3</dt><dd><p>Diagnosis 3, ICD9-CM, imported incorrectly</p>
</dd>
<dt>dx3corr</dt><dd><p>Diagnosis 3, ICD9-CM, corrected</p>
</dd>
<dt>pr1</dt><dd><p>Procedure 1</p>
</dd>
<dt>wgt</dt><dd><p>Frequency weight</p>
</dd>
<dt>recid</dt><dd><p>Order of record (raw data)</p>
</dd>
</dl>



<h3>Note</h3>

<p>The R code used to download and process the dataset from Stata is available <a href="https://raw.githubusercontent.com/ellessenne/comorbidity/master/data-raw/make-data.R">here</a>.
</p>

<hr>
<h2 id='sample_diag'>Simulate ICD-10 and ICD-9 diagnostic codes</h2><span id='topic+sample_diag'></span>

<h3>Description</h3>

<p>A simple function to simulate ICD-10 and ICD-9 diagnostic codes at random.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sample_diag(n = 1, version = "ICD10_2011")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sample_diag_+3A_n">n</code></td>
<td>
<p>Number of ICD codes to simulate.</p>
</td></tr>
<tr><td><code id="sample_diag_+3A_version">version</code></td>
<td>
<p>The version of the ICD coding scheme to use. Possible choices are <code>ICD10_2009</code>, <code>ICD10_2011</code>, and <code>ICD9_2015</code>; defaults to <code>ICD10_2011</code>. See <a href="#topic+icd10_2009">icd10_2009</a>, <a href="#topic+icd10_2011">icd10_2011</a>, and <a href="#topic+icd9_2015">icd9_2015</a> for further information on the different schemes.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of <code>n</code> ICD diagnostic codes.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Simulate 10 ICD-10 codes
sample_diag(10)

# Simulate a tidy dataset with 15 individuals and 200 rows
set.seed(1)
x &lt;- data.frame(
  id = sample(1:15, size = 200, replace = TRUE),
  code = sample_diag(n = 200),
  stringsAsFactors = FALSE
)
head(x)
</code></pre>

<hr>
<h2 id='score'>Compute (weighted) comorbidity scores</h2><span id='topic+score'></span>

<h3>Description</h3>

<p>Compute (weighted) comorbidity scores
</p>


<h3>Usage</h3>

<pre><code class='language-R'>score(x, weights = NULL, assign0)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="score_+3A_x">x</code></td>
<td>
<p>An object of class <code>comorbidty</code> returned by a call to the <code><a href="#topic+comorbidity">comorbidity()</a></code> function.</p>
</td></tr>
<tr><td><code id="score_+3A_weights">weights</code></td>
<td>
<p>A string denoting the weighting system to be used, which will depend on the mapping algorithm.
</p>
<p>Possible values for the Charlson index are:
</p>

<ul>
<li> <p><code>charlson</code>, for the original weights by Charlson et al. (1987);
</p>
</li>
<li> <p><code>quan</code>, for the revised weights by Quan et al. (2011).
</p>
</li></ul>

<p>Possible values for the Elixhauser score are:
</p>

<ul>
<li> <p><code>vw</code>, for the weights by van Walraven et al. (2009);
</p>
</li>
<li> <p><code>swiss</code>, for the Swiss Elixhauser weights by Sharma et al. (2021).
</p>
</li></ul>

<p>Defaults to <code>NULL</code>, in which case an unweighted score will be used.</p>
</td></tr>
<tr><td><code id="score_+3A_assign0">assign0</code></td>
<td>
<p>A logical value denoting whether to apply a hierarchy of comorbidities: should a comorbidity be present in a patient with different degrees of severity, then the milder form will be assigned a value of 0 when calculating the score.
By doing this, a type of comorbidity is not counted more than once in each patient.
If <code>assign0 = TRUE</code>, the comorbidities that are affected by this argument are:
</p>

<ul>
<li><p> &quot;Mild liver disease&quot; (<code>mld</code>) and &quot;Moderate/severe liver disease&quot; (<code>msld</code>) for the Charlson score;
</p>
</li>
<li><p> &quot;Diabetes&quot; (<code>diab</code>) and &quot;Diabetes with complications&quot; (<code>diabwc</code>) for the Charlson score;
</p>
</li>
<li><p> &quot;Cancer&quot; (<code>canc</code>) and &quot;Metastatic solid tumour&quot; (<code>metacanc</code>) for the Charlson score;
</p>
</li>
<li><p> &quot;Hypertension, uncomplicated&quot; (<code>hypunc</code>) and &quot;Hypertension, complicated&quot; (<code>hypc</code>) for the Elixhauser score;
</p>
</li>
<li><p> &quot;Diabetes, uncomplicated&quot; (<code>diabunc</code>) and &quot;Diabetes, complicated&quot; (<code>diabc</code>) for the Elixhauser score;
</p>
</li>
<li><p> &quot;Solid tumour&quot; (<code>solidtum</code>) and &quot;Metastatic cancer&quot; (<code>metacanc</code>) for the Elixhauser score.
</p>
</li></ul>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric vector with the (possibly weighted) comorbidity score for each subject from the input dataset.
</p>


<h3>References</h3>

<p>Charlson ME, Pompei P, Ales KL, et al. <em>A new method of classifying prognostic comorbidity in longitudinal studies: development and validation</em>. Journal of Chronic Diseases 1987; 40:373-383.
</p>
<p>Quan H, Li B, Couris CM, et al. <em>Updating and validating the Charlson Comorbidity Index and Score for risk adjustment in hospital discharge abstracts using data from 6 countries</em>. American Journal of Epidemiology 2011; 173(6):676-682.
</p>
<p>van Walraven C, Austin PC, Jennings A, Quan H and Forster AJ. <em>A modification of the Elixhauser comorbidity measures into a point system for hospital death using administrative data</em>. Medical Care 2009; 47(6):626-633.
</p>
<p>Sharma N, Schwendimann R, Endrich O, et al. <em>Comparing Charlson and Elixhauser comorbidity indices with different weightings to predict in-hospital mortality: an analysis of national inpatient data</em>. BMC Health Services Research 2021; 21(13).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(1)
x &lt;- data.frame(
  id = sample(1:15, size = 200, replace = TRUE),
  code = sample_diag(200),
  stringsAsFactors = FALSE
)

# Charlson score based on ICD-10 diagnostic codes:
x1 &lt;- comorbidity(x = x, id = "id", code = "code", map = "charlson_icd10_quan", assign0 = FALSE)
score(x = x1, weights = "charlson", assign0 = FALSE)

# Elixhauser score based on ICD-10 diagnostic codes:
x2 &lt;- comorbidity(x = x, id = "id", code = "code", map = "elixhauser_icd10_quan", assign0 = FALSE)
score(x = x2, weights = "vw", assign0 = FALSE)

# Checking the `assign0` argument.
# Please make sure to check the example in the documentation of the
# `comorbidity()` function first, with ?comorbidity().
# We use the same dataset for a single subject with two codes, for
# complicated and uncomplicated diabetes:
x3 &lt;- data.frame(
  id = 1,
  code = c("E100", "E102"),
  stringsAsFactors = FALSE
)
# Then, we calculate the Quan-ICD10 Charlson score:
ccF &lt;- comorbidity(x = x3, id = "id", code = "code", map = "charlson_icd10_quan", assign0 = FALSE)
ccF[, c("diab", "diabwc")]
# If we calculate the unweighted score with `assign0 = FALSE`, both diabetes
# conditions are counted:
score(x = ccF, assign0 = FALSE)
# Conversely, with `assign0 = TRUE`, only the most severe is considered:
score(x = ccF, assign0 = TRUE)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

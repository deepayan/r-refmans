<!DOCTYPE html><html lang="en-US"><head><title>Help for package modelStudio</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {modelStudio}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#happiness_train'><p>World Happiness Report</p></a></li>
<li><a href='#modelStudio'><p>Interactive Studio for Explanatory Model Analysis</p></a></li>
<li><a href='#ms_merge_observations'><p>Merge the observations of modelStudio objects</p></a></li>
<li><a href='#ms_options'><p>Modify default options and pass them to modelStudio</p></a></li>
<li><a href='#ms_update_observations'><p>Update the observations of a modelStudio object</p></a></li>
<li><a href='#ms_update_options'><p>Update the options of a modelStudio object</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Interactive Studio for Explanatory Model Analysis</td>
</tr>
<tr>
<td>Version:</td>
<td>3.1.2</td>
</tr>
<tr>
<td>Description:</td>
<td>Automate the explanatory analysis of machine learning predictive 
    models. Generate advanced interactive model explanations in the form of 
    a serverless HTML site with only one line of code. This tool is 
    model-agnostic, therefore compatible with most of the black-box predictive
    models and frameworks. The main function computes various (instance and 
    model-level) explanations and produces a customisable dashboard, which 
    consists of multiple panels for plots with their short descriptions. It is 
    possible to easily save the dashboard and share it with others. modelStudio 
    facilitates the process of Interactive Explanatory Model Analysis introduced 
    in Baniecki et al. (2023) &lt;<a href="https://doi.org/10.1007%2Fs10618-023-00924-w">doi:10.1007/s10618-023-00924-w</a>&gt;.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.6)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>Imports:</td>
<td>DALEX (&ge; 2.2.1), ingredients (&ge; 2.2.0), iBreakDown (&ge;
2.0.1), r2d3, jsonlite, progress, digest</td>
</tr>
<tr>
<td>Suggests:</td>
<td>parallelMap, ranger, xgboost, knitr, rmarkdown, testthat,
spelling</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://modelstudio.drwhy.ai">https://modelstudio.drwhy.ai</a>,
<a href="https://github.com/ModelOriented/modelStudio">https://github.com/ModelOriented/modelStudio</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/ModelOriented/modelStudio/issues">https://github.com/ModelOriented/modelStudio/issues</a></td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-02-20 08:36:16 UTC; hbani</td>
</tr>
<tr>
<td>Author:</td>
<td>Hubert Baniecki <a href="https://orcid.org/0000-0001-6661-5364"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Przemyslaw Biecek <a href="https://orcid.org/0000-0001-8423-1823"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Piotr Piatyszek [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Hubert Baniecki &lt;hbaniecki@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-02-20 23:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='happiness_train'>World Happiness Report</h2><span id='topic+happiness_train'></span><span id='topic+happiness_test'></span>

<h3>Description</h3>

<p>Datasets <code>happiness_train</code> and <code>happiness_test</code> are real data from the
World Happiness Reports. Happiness is scored according to economic production,
social support, etc. <code>happiness_train</code> accumulates the data from years 2015-2018,
while <code>happiness_test</code> is the data from the year 2019, which imitates the 
out-of-time validation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(happiness_train); data(happiness_test)
</code></pre>


<h3>Format</h3>

<p><code>happiness_train</code>: a data frame with 625 rows and 7 columns, <code>happiness_test</code>: a data frame with 156 rows and 7 columns
</p>


<h3>Details</h3>

<p>Source: <a href="https://www.kaggle.com/unsdsn/world-happiness">World Happiness Report at Kaggle.com</a>
</p>
<p>The following columns: GDP per Capita, Social Support, Life Expectancy, 
Freedom, Generosity, Corruption describe the extent to which these factors
contribute in evaluating the happiness in each country. Variables:
</p>

<ul>
<li> <p><strong>score</strong> - target variable, continuous value between 0 and 10 (regression) 
</p>
</li>
<li><p> gdp_per_capita
</p>
</li>
<li><p> social_support
</p>
</li>
<li><p> healthy_life_expectancy
</p>
</li>
<li><p> freedom_life_choices
</p>
</li>
<li><p> generosity
</p>
</li>
<li><p> perceptions_of_corruption
</p>
</li></ul>


<hr>
<h2 id='modelStudio'>Interactive Studio for Explanatory Model Analysis</h2><span id='topic+modelStudio'></span><span id='topic+modelStudio.explainer'></span>

<h3>Description</h3>

<p>This function computes various (instance and dataset level) model explanations and
produces a customisable dashboard, which consists of multiple panels for plots with their
short descriptions. Easily save the dashboard and share it with others. Tools for
<a href="https://ema.drwhy.ai/">Explanatory Model Analysis</a> unite with tools for
Exploratory Data Analysis to give a broad overview of the model behavior.
</p>
<p>The extensive documentation covers:
</p>

<ul>
<li><p> Function parameters description -
<a href="https://modelstudio.drwhy.ai/articles/ms-perks-features.html"><b>perks and features</b></a>
</p>
</li>
<li><p> Framework and model compatibility -
<a href="https://modelstudio.drwhy.ai/articles/ms-r-python-examples.html"><b>R &amp; Python examples</b></a>
</p>
</li>
<li><p> Theoretical introduction to the plots -
<a href="https://ema.drwhy.ai/">Explanatory Model Analysis: Explore, Explain, and Examine Predictive Models</a>
</p>
</li></ul>

<p>Displayed variable can be changed by clicking on the bars of plots or with the first dropdown list,
and observation can be changed with the second dropdown list.
The dashboard gathers useful, but not sensitive, information about how it is being used (e.g. computation length,
package version, dashboard dimensions). This is for the development purposes only and can be blocked
by setting <code>telemetry</code> to <code>FALSE</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>modelStudio(explainer, ...)

## S3 method for class 'explainer'
modelStudio(
  explainer,
  new_observation = NULL,
  new_observation_y = NULL,
  new_observation_n = 3,
  facet_dim = c(2, 2),
  time = 500,
  max_features = 10,
  max_features_fi = NULL,
  N = 300,
  N_fi = N * 10,
  N_sv = N * 3,
  B = 10,
  B_fi = B,
  eda = TRUE,
  open_plots = c("fi"),
  show_info = TRUE,
  parallel = FALSE,
  options = ms_options(),
  viewer = "external",
  widget_id = NULL,
  license = NULL,
  telemetry = TRUE,
  max_vars = NULL,
  verbose = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="modelStudio_+3A_explainer">explainer</code></td>
<td>
<p>An <code>explainer</code> created with <code>DALEX::explain()</code>.</p>
</td></tr>
<tr><td><code id="modelStudio_+3A_...">...</code></td>
<td>
<p>Other parameters.</p>
</td></tr>
<tr><td><code id="modelStudio_+3A_new_observation">new_observation</code></td>
<td>
<p>New observations with columns that correspond to variables used in the model.</p>
</td></tr>
<tr><td><code id="modelStudio_+3A_new_observation_y">new_observation_y</code></td>
<td>
<p>True label for <code>new_observation</code> (optional).</p>
</td></tr>
<tr><td><code id="modelStudio_+3A_new_observation_n">new_observation_n</code></td>
<td>
<p>Number of observations to be taken from the <code>explainer$data</code> if <code>new_observation = NULL</code>.
See <a href="https://modelstudio.drwhy.ai/articles/ms-perks-features.html#instance-explanations"><b>vignette</b></a></p>
</td></tr>
<tr><td><code id="modelStudio_+3A_facet_dim">facet_dim</code></td>
<td>
<p>Dimensions of the grid. Default is <code>c(2,2)</code>.</p>
</td></tr>
<tr><td><code id="modelStudio_+3A_time">time</code></td>
<td>
<p>Time in ms. Set the animation length. Default is <code>500</code>.</p>
</td></tr>
<tr><td><code id="modelStudio_+3A_max_features">max_features</code></td>
<td>
<p>Maximum number of features to be included in BD, SV, and FI plots.
Default is <code>10</code>.</p>
</td></tr>
<tr><td><code id="modelStudio_+3A_max_features_fi">max_features_fi</code></td>
<td>
<p>Maximum number of features to be included in FI plot. Default is <code>max_features</code>.</p>
</td></tr>
<tr><td><code id="modelStudio_+3A_n">N</code></td>
<td>
<p>Number of observations used for the calculation of PD and AD. Default is <code>300</code>.
See <a href="https://modelstudio.drwhy.ai/articles/ms-perks-features.html#more-calculations-means-more-time"><b>vignette</b></a></p>
</td></tr>
<tr><td><code id="modelStudio_+3A_n_fi">N_fi</code></td>
<td>
<p>Number of observations used for the calculation of FI. Default is <code>10*N</code>.</p>
</td></tr>
<tr><td><code id="modelStudio_+3A_n_sv">N_sv</code></td>
<td>
<p>Number of observations used for the calculation of SV. Default is <code>3*N</code>.</p>
</td></tr>
<tr><td><code id="modelStudio_+3A_b">B</code></td>
<td>
<p>Number of permutation rounds used for calculation of SV. Default is <code>10</code>.
See <a href="https://modelstudio.drwhy.ai/articles/ms-perks-features.html#more-calculations-means-more-time"><b>vignette</b></a></p>
</td></tr>
<tr><td><code id="modelStudio_+3A_b_fi">B_fi</code></td>
<td>
<p>Number of permutation rounds used for calculation of FI. Default is <code>B</code>.</p>
</td></tr>
<tr><td><code id="modelStudio_+3A_eda">eda</code></td>
<td>
<p>Compute EDA plots and Residuals vs Feature plot, which adds the data to the dashboard. Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="modelStudio_+3A_open_plots">open_plots</code></td>
<td>
<p>A vector listing plots to be initially opened (and on which positions). Default is <code>c("fi")</code>.</p>
</td></tr>
<tr><td><code id="modelStudio_+3A_show_info">show_info</code></td>
<td>
<p>Verbose a progress on the console. Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="modelStudio_+3A_parallel">parallel</code></td>
<td>
<p>Speed up the computation using <code>parallelMap::parallelMap()</code>.
See <a href="https://modelstudio.drwhy.ai/articles/ms-perks-features.html#parallel-computation"><b>vignette</b></a>.
This might interfere with showing progress using <code>show_info</code>.</p>
</td></tr>
<tr><td><code id="modelStudio_+3A_options">options</code></td>
<td>
<p>Customize <code>modelStudio</code>. See <code><a href="#topic+ms_options">ms_options</a></code> and
<a href="https://modelstudio.drwhy.ai/articles/ms-perks-features.html#additional-options-1"><b>vignette</b></a>.</p>
</td></tr>
<tr><td><code id="modelStudio_+3A_viewer">viewer</code></td>
<td>
<p>Default is <code>external</code> to display in an external RStudio window.
Use <code>browser</code> to display in an external browser or
<code>internal</code> to use the RStudio internal viewer pane for output.</p>
</td></tr>
<tr><td><code id="modelStudio_+3A_widget_id">widget_id</code></td>
<td>
<p>Use an explicit element ID for the widget (rather than an automatically generated one).
Useful e.g. when using <code>modelStudio</code> with Shiny.
See <a href="https://modelstudio.drwhy.ai/articles/ms-perks-features.html#shiny-1"><b>vignette</b></a>.</p>
</td></tr>
<tr><td><code id="modelStudio_+3A_license">license</code></td>
<td>
<p>Path to the file containing the license (<code>con</code> parameter passed to <code>readLines()</code>).
It can be used e.g. to include the license for <code>explainer$data</code> as a comment in the source of <code>.html</code> output file.</p>
</td></tr>
<tr><td><code id="modelStudio_+3A_telemetry">telemetry</code></td>
<td>
<p>The dashboard gathers useful, but not sensitive, information about how it is being used (e.g. computation length,
package version, dashboard dimensions). This is for the development purposes only and can be blocked by setting <code>telemetry</code> to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="modelStudio_+3A_max_vars">max_vars</code></td>
<td>
<p>An alias for <code>max_features</code>. If provided, it will override the value.</p>
</td></tr>
<tr><td><code id="modelStudio_+3A_verbose">verbose</code></td>
<td>
<p>An alias for <code>show_info</code>. If provided, it will override the value.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of the <code>r2d3, htmlwidget, modelStudio</code> class.
</p>


<h3>References</h3>


<ul>
<li><p> The input object is implemented in <a href="https://modeloriented.github.io/DALEX/"><b>DALEX</b></a>
</p>
</li>
<li><p> Feature Importance, Ceteris Paribus, Partial Dependence and Accumulated Dependence explanations
are implemented in <a href="https://modeloriented.github.io/ingredients/"><b>ingredients</b></a>
</p>
</li>
<li><p> Break Down and Shapley Values explanations are implemented in
<a href="https://modeloriented.github.io/iBreakDown/"><b>iBreakDown</b></a>
</p>
</li></ul>



<h3>See Also</h3>

<p>Vignettes: <a href="https://modelstudio.drwhy.ai/articles/ms-r-python-examples.html"><b>modelStudio - R &amp; Python examples</b></a>
and <a href="https://modelstudio.drwhy.ai/articles/ms-perks-features.html"><b>modelStudio - perks and features</b></a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library("DALEX")
library("modelStudio")

#:# ex1 classification on 'titanic' data

# fit a model
model_titanic &lt;- glm(survived ~., data = titanic_imputed, family = "binomial")

# create an explainer for the model
explainer_titanic &lt;- explain(model_titanic,
                             data = titanic_imputed,
                             y = titanic_imputed$survived,
                             label = "Titanic GLM")

# pick observations
new_observations &lt;- titanic_imputed[1:2,]
rownames(new_observations) &lt;- c("Lucas","James")

# make a studio for the model
modelStudio(explainer_titanic,
            new_observations,
            N = 200,  B = 5) # faster example



#:# ex2 regression on 'apartments' data
if (requireNamespace("ranger", quietly=TRUE)) {
  library("ranger")
  model_apartments &lt;- ranger(m2.price ~. ,data = apartments)

  explainer_apartments &lt;- explain(model_apartments,
                                  data = apartments,
                                  y = apartments$m2.price)

  new_apartments &lt;- apartments[1:2,]
  rownames(new_apartments) &lt;- c("ap1","ap2")

  # change dashboard dimensions and animation length
  modelStudio(explainer_apartments,
              new_apartments,
              facet_dim = c(2, 3),
              time = 800)

  # add information about true labels
  modelStudio(explainer_apartments,
              new_apartments,
              new_observation_y = new_apartments$m2.price)

  # don't compute EDA plots
  modelStudio(explainer_apartments,
              eda = FALSE)
}

#:# ex3 xgboost model on 'HR' dataset
if (requireNamespace("xgboost", quietly=TRUE)) {
  library("xgboost")
  HR_matrix &lt;- model.matrix(status == "fired" ~ . -1, HR)

  # fit a model
  xgb_matrix &lt;- xgb.DMatrix(HR_matrix, label = HR$status == "fired")
  params &lt;- list(max_depth = 3, objective = "binary:logistic", eval_metric = "auc")
  model_HR &lt;- xgb.train(params, xgb_matrix, nrounds = 300)

  # create an explainer for the model
  explainer_HR &lt;- explain(model_HR,
                          data = HR_matrix,
                          y = HR$status == "fired",
                          type = "classification",
                          label = "xgboost")

  # pick observations
  new_observation &lt;- HR_matrix[1:2, , drop=FALSE]
  rownames(new_observation) &lt;- c("id1", "id2")

  # make a studio for the model
  modelStudio(explainer_HR,
              new_observation)
}


</code></pre>

<hr>
<h2 id='ms_merge_observations'>Merge the observations of modelStudio objects</h2><span id='topic+ms_merge_observations'></span>

<h3>Description</h3>

<p>This function merges local explanations from multiple <code>modelStudio</code> objects into one.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ms_merge_observations(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ms_merge_observations_+3A_...">...</code></td>
<td>
<p><code>modelStudio</code> objects created with <code>modelStudio()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of the <code>r2d3, htmlwidget, modelStudio</code> class.
</p>


<h3>References</h3>


<ul>
<li><p> The input object is implemented in <a href="https://modeloriented.github.io/DALEX/"><b>DALEX</b></a>
</p>
</li>
<li><p> Feature Importance, Ceteris Paribus, Partial Dependence and Accumulated Dependence explanations
are implemented in <a href="https://modeloriented.github.io/ingredients/"><b>ingredients</b></a>
</p>
</li>
<li><p> Break Down and Shapley Values explanations are implemented in
<a href="https://modeloriented.github.io/iBreakDown/"><b>iBreakDown</b></a>
</p>
</li></ul>



<h3>See Also</h3>

<p>Vignettes: <a href="https://modelstudio.drwhy.ai/articles/ms-r-python-examples.html"><b>modelStudio - R &amp; Python examples</b></a>
and <a href="https://modelstudio.drwhy.ai/articles/ms-perks-features.html"><b>modelStudio - perks and features</b></a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library("DALEX")
library("modelStudio")

# fit a model
model_happiness &lt;- glm(score ~., data = happiness_train)

# create an explainer for the model
explainer_happiness &lt;- explain(model_happiness,
                               data = happiness_test,
                               y = happiness_test$score)

# make studios for the model
ms1 &lt;- modelStudio(explainer_happiness,
                   N = 200,  B = 5)

ms2 &lt;- modelStudio(explainer_happiness,
                   new_observation = head(happiness_test, 3),
                   N = 200,  B = 5)

# merge 
ms &lt;- ms_merge_observations(ms1, ms2)
ms


</code></pre>

<hr>
<h2 id='ms_options'>Modify default options and pass them to modelStudio</h2><span id='topic+ms_options'></span>

<h3>Description</h3>

<p>This function returns default options for <code><a href="#topic+modelStudio">modelStudio</a></code>.
It is possible to modify values of this list and pass it to the <code>options</code>
parameter in the main function. <strong>WARNING: Editing default options may cause
unintended behavior.</strong>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ms_options(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ms_options_+3A_...">...</code></td>
<td>
<p>Options to change in the form <code>option_name = value</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>list</code> of options for <code>modelStudio</code>.
</p>


<h3>Options</h3>



<h4>Main options:</h4>


<dl>
<dt>scale_plot</dt><dd><p><code>TRUE</code> Makes every plot the same height, ignores <code>bar_width</code>.</p>
</dd>
<dt>show_boxplot</dt><dd><p><code>TRUE</code> Display boxplots in Feature Importance and Shapley Values plots.</p>
</dd>
<dt>show_subtitle</dt><dd><p><code>TRUE</code> Should the subtitle be displayed?</p>
</dd>
<dt>subtitle</dt><dd><p><code>label</code> parameter from <code>explainer</code>.</p>
</dd>
<dt>ms_title</dt><dd><p>Title of the dashboard.</p>
</dd>
<dt>ms_subtitle</dt><dd><p>Subtitle of the dashboard (makes space between the title and line).</p>
</dd>
<dt>ms_margin_*</dt><dd><p>Dashboard margins. Change <code>margin_top</code> for more <code>ms_subtitle</code> space.</p>
</dd>
<dt>margin_*</dt><dd><p>Plot margins. Change <code>margin_left</code> for longer/shorter axis labels.</p>
</dd>
<dt>w</dt><dd><p><code>420</code> in px. Inner plot width.</p>
</dd>
<dt>h</dt><dd><p><code>280</code> in px. Inner plot height.</p>
</dd>
<dt>bar_width</dt><dd><p><code>16</code> in px. Default width of bars for all plots,
ignored when <code>scale_plot = TRUE</code>.</p>
</dd>
<dt>line_size</dt><dd><p><code>2</code> in px. Default width of lines for all plots.</p>
</dd>
<dt>point_size</dt><dd><p><code>3</code> in px. Default point radius for all plots.</p>
</dd>
<dt>[bar,line,point]_color</dt><dd><p><code>[#46bac2,#46bac2,#371ea3]</code></p>
</dd>
<dt>positive_color</dt><dd><p><code>#8bdcbe</code> for Break Down and Shapley Values bars.</p>
</dd>
<dt>negative_color</dt><dd><p><code>#f05a71</code> for Break Down and Shapley Values bars.</p>
</dd>
<dt>default_color</dt><dd><p><code>#371ea3</code> for Break Down bar and highlighted line.</p>
</dd>
</dl>




<h4>Plot-specific options:</h4>

<p><code>**</code> is a two letter code unique to each plot, might be
one of <code>[bd,sv,cp,fi,pd,ad,rv,fd,tv,at]</code>.<br />
</p>

<dl>
<dt>**_title</dt><dd><p>Plot-specific title. Default varies.</p>
</dd>
<dt>**_subtitle</dt><dd><p>Plot-specific subtitle. Default is <code>subtitle</code>.</p>
</dd>
<dt>**_axis_title</dt><dd><p>Plot-specific axis title. Default varies.</p>
</dd>
<dt>**_bar_width</dt><dd><p>Plot-specific width of bars. Default is <code>bar_width</code>,
ignored when <code>scale_plot = TRUE</code>.</p>
</dd>
<dt>**_line_size</dt><dd><p>Plot-specific width of lines. Default is <code>line_size</code>.</p>
</dd>
<dt>**_point_size</dt><dd><p>Plot-specific point radius. Default is <code>point_size</code>.</p>
</dd>
<dt>**_*_color</dt><dd><p>Plot-specific <code>[bar,line,point]</code> color. Default is <code>[bar,line,point]_color</code>.</p>
</dd>
</dl>




<h3>References</h3>


<ul>
<li><p> The input object is implemented in <a href="https://modeloriented.github.io/DALEX/"><b>DALEX</b></a>
</p>
</li>
<li><p> Feature Importance, Ceteris Paribus, Partial Dependence and Accumulated Dependence explanations
are implemented in <a href="https://modeloriented.github.io/ingredients/"><b>ingredients</b></a>
</p>
</li>
<li><p> Break Down and Shapley Values explanations are implemented in
<a href="https://modeloriented.github.io/iBreakDown/"><b>iBreakDown</b></a>
</p>
</li></ul>



<h3>See Also</h3>

<p>Vignettes: <a href="https://modelstudio.drwhy.ai/articles/ms-r-python-examples.html"><b>modelStudio - R &amp; Python examples</b></a>
and <a href="https://modelstudio.drwhy.ai/articles/ms-perks-features.html"><b>modelStudio - perks and features</b></a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library("DALEX")
library("modelStudio")

# fit a model
model_apartments &lt;- glm(m2.price ~. , data = apartments)

# create an explainer for the model
explainer_apartments &lt;- explain(model_apartments,
                                data = apartments,
                                y = apartments$m2.price)

# pick observations
new_observation &lt;- apartments[1:2,]
rownames(new_observation) &lt;- c("ap1","ap2")

# modify default options
new_options &lt;- ms_options(
  show_subtitle = TRUE,
  bd_subtitle = "Hello World",
  line_size = 5,
  point_size = 9,
  line_color = "pink",
  point_color = "purple",
  bd_positive_color = "yellow",
  bd_negative_color = "orange"
)

# make a studio for the model
modelStudio(explainer_apartments,
            new_observation,
            options = new_options,
            N = 200,  B = 5) # faster example

</code></pre>

<hr>
<h2 id='ms_update_observations'>Update the observations of a modelStudio object</h2><span id='topic+ms_update_observations'></span>

<h3>Description</h3>

<p>This function calculates local explanations on new observations and adds them
to the <code>modelStudio</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ms_update_observations(
  object,
  explainer,
  new_observation = NULL,
  new_observation_y = NULL,
  max_features = 10,
  B = 10,
  show_info = TRUE,
  parallel = FALSE,
  widget_id = NULL,
  overwrite = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ms_update_observations_+3A_object">object</code></td>
<td>
<p>A <code>modelStudio</code> created with <code>modelStudio()</code>.</p>
</td></tr>
<tr><td><code id="ms_update_observations_+3A_explainer">explainer</code></td>
<td>
<p>An <code>explainer</code> created with <code>DALEX::explain()</code>.</p>
</td></tr>
<tr><td><code id="ms_update_observations_+3A_new_observation">new_observation</code></td>
<td>
<p>New observations with columns that correspond to variables used in the model.</p>
</td></tr>
<tr><td><code id="ms_update_observations_+3A_new_observation_y">new_observation_y</code></td>
<td>
<p>True label for <code>new_observation</code> (optional).</p>
</td></tr>
<tr><td><code id="ms_update_observations_+3A_max_features">max_features</code></td>
<td>
<p>Maximum number of features to be included in BD and SV plots.
Default is <code>10</code>.</p>
</td></tr>
<tr><td><code id="ms_update_observations_+3A_b">B</code></td>
<td>
<p>Number of permutation rounds used for calculation of SV and FI.
Default is <code>10</code>.
See <a href="https://modelstudio.drwhy.ai/articles/ms-perks-features.html#more-calculations-means-more-time"><b>vignette</b></a></p>
</td></tr>
<tr><td><code id="ms_update_observations_+3A_show_info">show_info</code></td>
<td>
<p>Verbose a progress on the console. Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="ms_update_observations_+3A_parallel">parallel</code></td>
<td>
<p>Speed up the computation using <code>parallelMap::parallelMap()</code>.
See <a href="https://modelstudio.drwhy.ai/articles/ms-perks-features.html#parallel-computation"><b>vignette</b></a>.
This might interfere with showing progress using <code>show_info</code>.</p>
</td></tr>
<tr><td><code id="ms_update_observations_+3A_widget_id">widget_id</code></td>
<td>
<p>Use an explicit element ID for the widget (rather than an automatically generated one).
Useful e.g. when using <code>modelStudio</code> with Shiny.
See <a href="https://modelstudio.drwhy.ai/articles/ms-perks-features.html#shiny-1"><b>vignette</b></a>.</p>
</td></tr>
<tr><td><code id="ms_update_observations_+3A_overwrite">overwrite</code></td>
<td>
<p>Overwrite existing observations and their explanations.
Default is <code>FALSE</code> which means add new observations to the existing ones.</p>
</td></tr>
<tr><td><code id="ms_update_observations_+3A_...">...</code></td>
<td>
<p>Other parameters.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of the <code>r2d3, htmlwidget, modelStudio</code> class.
</p>


<h3>References</h3>


<ul>
<li><p> The input object is implemented in <a href="https://modeloriented.github.io/DALEX/"><b>DALEX</b></a>
</p>
</li>
<li><p> Feature Importance, Ceteris Paribus, Partial Dependence and Accumulated Dependence explanations
are implemented in <a href="https://modeloriented.github.io/ingredients/"><b>ingredients</b></a>
</p>
</li>
<li><p> Break Down and Shapley Values explanations are implemented in
<a href="https://modeloriented.github.io/iBreakDown/"><b>iBreakDown</b></a>
</p>
</li></ul>



<h3>See Also</h3>

<p>Vignettes: <a href="https://modelstudio.drwhy.ai/articles/ms-r-python-examples.html"><b>modelStudio - R &amp; Python examples</b></a>
and <a href="https://modelstudio.drwhy.ai/articles/ms-perks-features.html"><b>modelStudio - perks and features</b></a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library("DALEX")
library("modelStudio")

# fit a model
model_titanic &lt;- glm(survived ~., data = titanic_imputed, family = "binomial")

# create an explainer for the model
explainer_titanic &lt;- explain(model_titanic,
                             data = titanic_imputed,
                             y = titanic_imputed$survived)

# make a studio for the model
ms &lt;- modelStudio(explainer_titanic,
                  N = 200,  B = 5) # faster example



# add new observations
ms &lt;- ms_update_observations(ms,
                             explainer_titanic,
                             new_observation = titanic_imputed[100:101,],
                             new_observation_y = titanic_imputed$survived[100:101])
ms



# overwrite the observations with new ones
ms &lt;- ms_update_observations(ms,
                             explainer_titanic,
                             new_observation = titanic_imputed[100:101,],
                             overwrite = TRUE)
ms



</code></pre>

<hr>
<h2 id='ms_update_options'>Update the options of a modelStudio object</h2><span id='topic+ms_update_options'></span>

<h3>Description</h3>

<p>This function updates the options of a <code><a href="#topic+modelStudio">modelStudio</a></code> object.
<strong>WARNING: Editing default options may cause unintended behavior.</strong>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ms_update_options(object, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ms_update_options_+3A_object">object</code></td>
<td>
<p>A <code>modelStudio</code> created with <code>modelStudio()</code>.</p>
</td></tr>
<tr><td><code id="ms_update_options_+3A_...">...</code></td>
<td>
<p>Options to change in the form <code>option_name = value</code>,
e.g. <code>time = 0</code>, <code>facet_dim = c(1,2)</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of the <code>r2d3, htmlwidget, modelStudio</code> class.
</p>


<h3>Options</h3>



<h4>Main options:</h4>


<dl>
<dt>scale_plot</dt><dd><p><code>TRUE</code> Makes every plot the same height, ignores <code>bar_width</code>.</p>
</dd>
<dt>show_boxplot</dt><dd><p><code>TRUE</code> Display boxplots in Feature Importance and Shapley Values plots.</p>
</dd>
<dt>show_subtitle</dt><dd><p><code>TRUE</code> Should the subtitle be displayed?</p>
</dd>
<dt>subtitle</dt><dd><p><code>label</code> parameter from <code>explainer</code>.</p>
</dd>
<dt>ms_title</dt><dd><p>Title of the dashboard.</p>
</dd>
<dt>ms_subtitle</dt><dd><p>Subtitle of the dashboard (makes space between the title and line).</p>
</dd>
<dt>ms_margin_*</dt><dd><p>Dashboard margins. Change <code>margin_top</code> for more <code>ms_subtitle</code> space.</p>
</dd>
<dt>margin_*</dt><dd><p>Plot margins. Change <code>margin_left</code> for longer/shorter axis labels.</p>
</dd>
<dt>w</dt><dd><p><code>420</code> in px. Inner plot width.</p>
</dd>
<dt>h</dt><dd><p><code>280</code> in px. Inner plot height.</p>
</dd>
<dt>bar_width</dt><dd><p><code>16</code> in px. Default width of bars for all plots,
ignored when <code>scale_plot = TRUE</code>.</p>
</dd>
<dt>line_size</dt><dd><p><code>2</code> in px. Default width of lines for all plots.</p>
</dd>
<dt>point_size</dt><dd><p><code>3</code> in px. Default point radius for all plots.</p>
</dd>
<dt>[bar,line,point]_color</dt><dd><p><code>[#46bac2,#46bac2,#371ea3]</code></p>
</dd>
<dt>positive_color</dt><dd><p><code>#8bdcbe</code> for Break Down and Shapley Values bars.</p>
</dd>
<dt>negative_color</dt><dd><p><code>#f05a71</code> for Break Down and Shapley Values bars.</p>
</dd>
<dt>default_color</dt><dd><p><code>#371ea3</code> for Break Down bar and highlighted line.</p>
</dd>
</dl>




<h4>Plot-specific options:</h4>

<p><code>**</code> is a two letter code unique to each plot, might be
one of <code>[bd,sv,cp,fi,pd,ad,rv,fd,tv,at]</code>.<br />
</p>

<dl>
<dt>**_title</dt><dd><p>Plot-specific title. Default varies.</p>
</dd>
<dt>**_subtitle</dt><dd><p>Plot-specific subtitle. Default is <code>subtitle</code>.</p>
</dd>
<dt>**_axis_title</dt><dd><p>Plot-specific axis title. Default varies.</p>
</dd>
<dt>**_bar_width</dt><dd><p>Plot-specific width of bars. Default is <code>bar_width</code>,
ignored when <code>scale_plot = TRUE</code>.</p>
</dd>
<dt>**_line_size</dt><dd><p>Plot-specific width of lines. Default is <code>line_size</code>.</p>
</dd>
<dt>**_point_size</dt><dd><p>Plot-specific point radius. Default is <code>point_size</code>.</p>
</dd>
<dt>**_*_color</dt><dd><p>Plot-specific <code>[bar,line,point]</code> color. Default is <code>[bar,line,point]_color</code>.</p>
</dd>
</dl>




<h3>References</h3>


<ul>
<li><p> The input object is implemented in <a href="https://modeloriented.github.io/DALEX/"><b>DALEX</b></a>
</p>
</li>
<li><p> Feature Importance, Ceteris Paribus, Partial Dependence and Accumulated Dependence explanations
are implemented in <a href="https://modeloriented.github.io/ingredients/"><b>ingredients</b></a>
</p>
</li>
<li><p> Break Down and Shapley Values explanations are implemented in
<a href="https://modeloriented.github.io/iBreakDown/"><b>iBreakDown</b></a>
</p>
</li></ul>



<h3>See Also</h3>

<p>Vignettes: <a href="https://modelstudio.drwhy.ai/articles/ms-r-python-examples.html"><b>modelStudio - R &amp; Python examples</b></a>
and <a href="https://modelstudio.drwhy.ai/articles/ms-perks-features.html"><b>modelStudio - perks and features</b></a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library("DALEX")
library("modelStudio")

# fit a model
model_titanic &lt;- glm(survived ~., data = titanic_imputed, family = "binomial")

# create an explainer for the model
explainer_titanic &lt;- explain(model_titanic,
                             data = titanic_imputed,
                             y = titanic_imputed$survived)

# make a studio for the model
ms &lt;- modelStudio(explainer_titanic,
                  N = 200,  B = 5) # faster example

# update the options
new_ms &lt;- ms_update_options(ms,
                            time = 0,
                            facet_dim = c(1,2),
                            margin_left = 150)
new_ms

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package cimir</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {cimir}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#cimir'><p>cimir: Interface to CIMIS</p></a></li>
<li><a href='#as_tibble_fix'><p>Quick Fix to as_tibble</p></a></li>
<li><a href='#basic_query'><p>Basic Query</p></a></li>
<li><a href='#bind_records'><p>Bind Records</p></a></li>
<li><a href='#cimir_handle'><p>cimir curl handle</p></a></li>
<li><a href='#cimir-defunct'><p>Defunct functions in package <span class="pkg">cimir</span>.</p></a></li>
<li><a href='#cimis_compass_to_degrees'><p>Compass Direction To Degrees</p></a></li>
<li><a href='#cimis_data'><p>Query CIMIS Data</p></a></li>
<li><a href='#cimis_degrees_to_compass'><p>Degrees to Compass Direction</p></a></li>
<li><a href='#cimis_flags'><p>CIMIS Data Flags</p></a></li>
<li><a href='#cimis_format_location'><p>Format CIMIS Station Location</p></a></li>
<li><a href='#cimis_items'><p>CIMIS Data Items</p></a></li>
<li><a href='#cimis_split_query'><p>Split CIMIS Query</p></a></li>
<li><a href='#cimis_station'><p>Query CIMIS Station Metadata</p></a></li>
<li><a href='#cimis_to_datetime'><p>To Datetime</p></a></li>
<li><a href='#dataitems'><p>dataitems</p></a></li>
<li><a href='#record_to_df'><p>Record to Data Frame</p></a></li>
<li><a href='#set_key'><p>Specify CIMIS API key</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Interface to the CIMIS Web API</td>
</tr>
<tr>
<td>Version:</td>
<td>0.4-1</td>
</tr>
<tr>
<td>Description:</td>
<td>Connect to the California Irrigation Management 
    Information System (CIMIS) Web API. See the CIMIS main page 
    <a href="https://cimis.water.ca.gov">https://cimis.water.ca.gov</a> and web API documentation
    <a href="https://et.water.ca.gov">https://et.water.ca.gov</a> for more information.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/mkoohafkan/cimir">https://github.com/mkoohafkan/cimir</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/mkoohafkan/cimir/issues">https://github.com/mkoohafkan/cimir/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.4)</td>
</tr>
<tr>
<td>Imports:</td>
<td>curl (&ge; 4.3), glue (&ge; 1.3), stringr (&ge; 1.4), dplyr (&ge;
0.8), tidyr (&ge; 1.0), jsonlite (&ge; 1.6), purrr (&ge; 0.3), rlang
(&ge; 0.4)</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr (&ge; 1.21), rmarkdown (&ge; 1.11)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-02-17 22:00:33 UTC; mkoohafk</td>
</tr>
<tr>
<td>Author:</td>
<td>Michael Koohafkan [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Michael Koohafkan &lt;michael.koohafkan@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-02-17 22:40:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='cimir'>cimir: Interface to CIMIS</h2><span id='topic+cimir'></span><span id='topic+cimir-package'></span>

<h3>Description</h3>

<p>This package provides an R interface to the
<a href="https://cimis.water.ca.gov">California Irrigation Management Information System</a>
(CIMIS) <a href="https://et.water.ca.gov">Web API</a>. In order to use
this package, you will need to
<a href="https://cimis.water.ca.gov/Auth/Register.aspx">create a CIMIS account</a>
and request a web services AppKey.
</p>


<h3>Package options</h3>

<p>cimir uses the following <code><a href="base.html#topic+options">options()</a></code> to configure behavior:
</p>

<ul>
<li> <p><code>cimir.appkey</code>: The CIMIS AppKey to use for queries.
</p>
</li>
<li> <p><code>cimir.timeout</code>: The maximum time to wait for a response
from the CIMIS Web API.
</p>
</li></ul>

<p>Alternatively, the CIMIS App Key can be saved to an environment
variable <code>CIMIS_APPKEY</code>.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Michael Koohafkan <a href="mailto:michael.koohafkan@gmail.com">michael.koohafkan@gmail.com</a>
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/mkoohafkan/cimir">https://github.com/mkoohafkan/cimir</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/mkoohafkan/cimir/issues">https://github.com/mkoohafkan/cimir/issues</a>
</p>
</li></ul>


<hr>
<h2 id='as_tibble_fix'>Quick Fix to as_tibble</h2><span id='topic+as_tibble_fix'></span>

<h3>Description</h3>

<p>Handle empty lists when coercing to tibble. See
<a href="https://github.com/tidyverse/tibble/issues/851">tibble issue 851</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_tibble_fix(d)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_tibble_fix_+3A_d">d</code></td>
<td>
<p>An object to coerce to a tibble.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a tibble.
</p>

<hr>
<h2 id='basic_query'>Basic Query</h2><span id='topic+basic_query'></span>

<h3>Description</h3>

<p>Helper function for CIMIS query handling.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>basic_query(url)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="basic_query_+3A_url">url</code></td>
<td>
<p>The query URL.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The parsed JSON string, as a list.
</p>

<hr>
<h2 id='bind_records'>Bind Records</h2><span id='topic+bind_records'></span>

<h3>Description</h3>

<p>Bind CIMIS records into a single data frame. This function
is used internally.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bind_records(result)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bind_records_+3A_result">result</code></td>
<td>
<p>CIMIS query results.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame.
</p>

<hr>
<h2 id='cimir_handle'>cimir curl handle</h2><span id='topic+cimir_handle'></span>

<h3>Description</h3>

<p>Get the handle for curl URL handling in cimir.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cimir_handle()
</code></pre>

<hr>
<h2 id='cimir-defunct'>Defunct functions in package <span class="pkg">cimir</span>.</h2><span id='topic+cimir-defunct'></span><span id='topic+get_data'></span><span id='topic+get_station'></span><span id='topic+get_station_spatial_zipcode'></span><span id='topic+get_station_zipcode'></span><span id='topic+to_datetime'></span><span id='topic+data_items'></span>

<h3>Description</h3>

<p>The functions listed below were deprecated in the previous
release and are now defunct. Alternative functions with similar
functionality are mentioned. Help pages for defunct functions are
available at <code>help("cimir-defunct")</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_data(
  targets,
  start.date,
  end.date,
  items,
  measure.unit = c("E", "M"),
  prioritize.SCS = TRUE
)

get_station(station)

get_station_spatial_zipcode(zipcode)

get_station_zipcode(zipcode)

to_datetime(d)

data_items(type = c("Daily", "Hourly"))
</code></pre>


<h3><code>get_data</code></h3>

<p>For <code>get_data</code>, use <code><a href="#topic+cimis_data">cimis_data</a></code>.
</p>


<h3><code>get_station</code></h3>

<p>For <code>get_station</code>, use <code><a href="#topic+cimis_station">cimis_station</a></code>.
</p>


<h3><code>get_station_spatial_zipcode</code></h3>

<p>For <code>get_station_spatial_zipcode</code>, use <code><a href="#topic+cimis_spatial_zipcode">cimis_spatial_zipcode</a></code>.
</p>


<h3><code>get_station_zipcode</code></h3>

<p>For <code>get_station_zipcode</code>, use <code><a href="#topic+cimis_zipcode">cimis_zipcode</a></code>.
</p>


<h3><code>to_datetime</code></h3>

<p>For <code>to_datetime</code>, use <code><a href="#topic+cimis_to_datetime">cimis_to_datetime</a></code>.
</p>


<h3><code>data_items</code></h3>

<p>For <code>data_items</code>, use <code><a href="#topic+cimis_items">cimis_items</a></code>.
</p>

<hr>
<h2 id='cimis_compass_to_degrees'>Compass Direction To Degrees</h2><span id='topic+cimis_compass_to_degrees'></span>

<h3>Description</h3>

<p>Convert the Compass direction labels to degrees.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cimis_compass_to_degrees(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cimis_compass_to_degrees_+3A_x">x</code></td>
<td>
<p>A vector of compass directions, i.e. the data item labels
&quot;DayWindNnw&quot;, &quot;DayWindSse&quot;, etc. Recognized directions are
North-northeast (NNE), East-northeast (ENE), East-southeast (ESE),
South-southeast (SSE), South-southwest (SSW), West-southwest (WSW),
West-northwest (WNW), and North-northwest (NNW).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric vector of degrees corresponding to the middle
azimuth of the corresponding compass direction.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+cimis_degrees_to_compass">cimis_degrees_to_compass()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cimis_compass_to_degrees("day-wind-nne")
cimis_compass_to_degrees(c("SSE", "SSW", "wsw", "Wnw", "nnw"))

</code></pre>

<hr>
<h2 id='cimis_data'>Query CIMIS Data</h2><span id='topic+cimis_data'></span>

<h3>Description</h3>

<p>Query CIMIS data using the Web API.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cimis_data(
  targets,
  start.date,
  end.date,
  items,
  measure.unit = c("E", "M"),
  prioritize.SCS = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cimis_data_+3A_targets">targets</code></td>
<td>
<p>geographies or weather stations of interest. This
parameter may specify one or many stations, zip codes,
coordinates, or street addresses; however, you are not allowed to
mix values from different categories. This means the targets
parameter must contain only stations, only zip codes, only
coordinates, or only street addresses. You will receive an error
if you attempt to mix different category types. The formats are
accepted:
</p>

<ul>
<li><p> A comma delimited list of WSN station numbers
</p>
</li>
<li><p> A comma delimited list of California zip codes
</p>
</li>
<li><p> A semicolon delimited list of decimal - degree coordinates
</p>
</li>
<li><p> A semicolon delimited list of street addresses
</p>
</li></ul>
</td></tr>
<tr><td><code id="cimis_data_+3A_start.date">start.date</code></td>
<td>
<p>Specifies the start date. The data format is
<code>"yyyy-mm-dd"</code>.</p>
</td></tr>
<tr><td><code id="cimis_data_+3A_end.date">end.date</code></td>
<td>
<p>Specifies the end date. The data format is
<code>"yyyy-mm-dd"</code>.</p>
</td></tr>
<tr><td><code id="cimis_data_+3A_items">items</code></td>
<td>
<p>specifies one or more comma-delimited data elements to
include in your response. See <code>data_items()</code> for a complete list
of possible data element values. Default: day-asce-eto,
day-precip, day-sol-rad-avg, day-vap-pres-avg, day-air-tmp-max,
day-air-tmp-min, day-air-tmp-avg, day-rel-hum-max,
day-rel-hum-min, day-rel-hum-avg, day-dew-pnt, day-wind-spd-avg,
day-wind-run, day-soil-tmp-avg.</p>
</td></tr>
<tr><td><code id="cimis_data_+3A_measure.unit">measure.unit</code></td>
<td>
<p>The unit of measure may be either <code>"E"</code> for
English units or <code>"M"</code> for metric units. The value of this
parameter will affect data values in the response. For
example, designating English units will result in temperature
values being returned in Fahrenheit rather than Celsius.</p>
</td></tr>
<tr><td><code id="cimis_data_+3A_prioritize.scs">prioritize.SCS</code></td>
<td>
<p>This parameter is relevant only when the
targets parameter contains zip code(s). If <code>TRUE</code>, the Spatial
CIMIS System (SCS) will be used as the preferred data provider.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>tibble</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if(is_key_set()) {
  cimis_data(targets = 170, start.date = Sys.Date() - 4,
    end.date = Sys.Date() - 1)
}

</code></pre>

<hr>
<h2 id='cimis_degrees_to_compass'>Degrees to Compass Direction</h2><span id='topic+cimis_degrees_to_compass'></span>

<h3>Description</h3>

<p>Convert decimal degrees to Compass direction.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cimis_degrees_to_compass(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cimis_degrees_to_compass_+3A_x">x</code></td>
<td>
<p>A vector of directions in decimal degrees.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Degrees are labeled with their corresponding
Primary InterCardinal compass direction, following the
convention of the CIMIS daily wind data items.
</p>


<h3>Value</h3>

<p>A factor vector of compass directions.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+cimis_compass_to_degrees">cimis_compass_to_degrees()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cimis_degrees_to_compass(c(30, 83, 120, 140, 190, 240, 300, 330))
cimis_degrees_to_compass(cimis_compass_to_degrees(c("NNE", "ENE",
  "ESE", "SSE", "SSW", "WSW", "WNW", "NNW")))

</code></pre>

<hr>
<h2 id='cimis_flags'>CIMIS Data Flags</h2><span id='topic+cimis_flags'></span>

<h3>Description</h3>

<p>List CIMIS data quality control flags.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cimis_flags(type = c("Severe", "Informative"), period = "Current")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cimis_flags_+3A_type">type</code></td>
<td>
<p>The type of data flag, i.e. <code>"Severe"</code> or
<code>"Informative"</code>.</p>
</td></tr>
<tr><td><code id="cimis_flags_+3A_period">period</code></td>
<td>
<p>The Time period that data was collected, i.e.,
&quot;Current&quot; or &quot;Former&quot; (pre-1995).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a dataframe of data flags.
</p>


<h3>See Also</h3>

<p><a href="https://cimis.water.ca.gov/Resources.aspx">CIMIS Data Overview - Quality Control</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cimis_flags()
cimis_flags("Informative")
cimis_flags("Severe", period = "Former")

</code></pre>

<hr>
<h2 id='cimis_format_location'>Format CIMIS Station Location</h2><span id='topic+cimis_format_location'></span>

<h3>Description</h3>

<p>Format the latitude and longitude of station in
Decimal Degrees (DD) or Hour Minutes Seconds (HMS).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cimis_format_location(d, format = c("DD", "HMS"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cimis_format_location_+3A_d">d</code></td>
<td>
<p>A data frame of CIMIS data results.</p>
</td></tr>
<tr><td><code id="cimis_format_location_+3A_format">format</code></td>
<td>
<p>The format to use, either Decimal Degrees (<code>"DD"</code>)
or Hour Minutes Seconds (<code>"HMS"</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The data frame, with a new <code>"Latitude"</code> and <code>"Longitude"</code>
columns replacing the <code>"HmsLatitude"</code> and <code>"HmsLongitude"</code>
columns.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if(is_key_set()) {
  d = cimis_station(170)
  cimis_format_location(d, "DD")
  cimis_format_location(d, "HMS")
}

</code></pre>

<hr>
<h2 id='cimis_items'>CIMIS Data Items</h2><span id='topic+cimis_items'></span>

<h3>Description</h3>

<p>List CIMIS data items.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cimis_items(type = c("Daily", "Hourly"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cimis_items_+3A_type">type</code></td>
<td>
<p>The type of data item, i.e. <code>"Daily"</code> or <code>"Hourly"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a dataframe of data items.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cimis_items()

</code></pre>

<hr>
<h2 id='cimis_split_query'>Split CIMIS Query</h2><span id='topic+cimis_split_query'></span>

<h3>Description</h3>

<p>Split a large CIMIS query into multiple smaller queries based on a
time interval.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cimis_split_query(targets, start.date, end.date, items, max.records = 1750L)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cimis_split_query_+3A_targets">targets</code></td>
<td>
<p>geographies or weather stations of interest. This
parameter may specify one or many stations, zip codes,
coordinates, or street addresses; however, you are not allowed to
mix values from different categories. This means the targets
parameter must contain only stations, only zip codes, only
coordinates, or only street addresses. You will receive an error
if you attempt to mix different category types. The formats are
accepted:
</p>

<ul>
<li><p> A comma delimited list of WSN station numbers
</p>
</li>
<li><p> A comma delimited list of California zip codes
</p>
</li>
<li><p> A semicolon delimited list of decimal - degree coordinates
</p>
</li>
<li><p> A semicolon delimited list of street addresses
</p>
</li></ul>
</td></tr>
<tr><td><code id="cimis_split_query_+3A_start.date">start.date</code></td>
<td>
<p>Specifies the start date. The data format is
<code>"yyyy-mm-dd"</code>.</p>
</td></tr>
<tr><td><code id="cimis_split_query_+3A_end.date">end.date</code></td>
<td>
<p>Specifies the end date. The data format is
<code>"yyyy-mm-dd"</code>.</p>
</td></tr>
<tr><td><code id="cimis_split_query_+3A_items">items</code></td>
<td>
<p>specifies one or more comma-delimited data elements to
include in your response. See <code>data_items()</code> for a complete list
of possible data element values. Default: day-asce-eto,
day-precip, day-sol-rad-avg, day-vap-pres-avg, day-air-tmp-max,
day-air-tmp-min, day-air-tmp-avg, day-rel-hum-max,
day-rel-hum-min, day-rel-hum-avg, day-dew-pnt, day-wind-spd-avg,
day-wind-run, day-soil-tmp-avg.</p>
</td></tr>
<tr><td><code id="cimis_split_query_+3A_max.records">max.records</code></td>
<td>
<p>The maximum number of records returned by a
query. The default value is the the maximum data limit allowed by
the CIMIS Web API (1,750 records).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Queries are not split by <code>targets</code> or <code>items</code>, i.e. each
resulting query will include all targets and items.
</p>


<h3>Value</h3>

<p>A data frame with columns &quot;targets&quot;, &quot;start.date&quot;,
&quot;end.date&quot;, and &quot;items&quot;.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cimis_split_query(170, "2000-01-01", "2010-12-31", "day-air-tmp-avg")
cimis_split_query(c(149, 170), "2018-01-01", "2018-12-31",
  c("day-air-tmp-avg", "hly-air-tmp", "hly-rel-hum"))

</code></pre>

<hr>
<h2 id='cimis_station'>Query CIMIS Station Metadata</h2><span id='topic+cimis_station'></span><span id='topic+cimis_spatial_zipcode'></span><span id='topic+cimis_zipcode'></span>

<h3>Description</h3>

<p>Query CIMIS station metadata.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cimis_station(station)

cimis_spatial_zipcode(zipcode)

cimis_zipcode(zipcode)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cimis_station_+3A_station">station</code></td>
<td>
<p>The station ID. If missing, metadata for all stations
is returned.</p>
</td></tr>
<tr><td><code id="cimis_station_+3A_zipcode">zipcode</code></td>
<td>
<p>The (spatial) zip code. If missing, metadata for all
stations is returned.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>tibble</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if(is_key_set()) {
  cimis_station()
  cimis_zipcode()
  cimis_spatial_zipcode()
}
</code></pre>

<hr>
<h2 id='cimis_to_datetime'>To Datetime</h2><span id='topic+cimis_to_datetime'></span>

<h3>Description</h3>

<p>Collapse The Date and Hour columns to a single DateTime Column.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cimis_to_datetime(d)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cimis_to_datetime_+3A_d">d</code></td>
<td>
<p>A data frame of CIMIS data results.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>According to the
<a href="https://cimis.water.ca.gov/Default.aspx">CIMIS Report FAQs</a>,
all CIMIS data is based on Pacific Standard Time (PST).
</p>


<h3>Value</h3>

<p>The data frame, with a new <code>"Datetime"</code> column replacing
the <code>"Date"</code> and <code>"Hour"</code> columns.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if(is_key_set()) {
  d = cimis_data(targets = 170, start.date = Sys.Date() - 4,
    end.date = Sys.Date() - 1, items = "hly-air-tmp")
  cimis_to_datetime(d)
}
</code></pre>

<hr>
<h2 id='dataitems'>dataitems</h2><span id='topic+dataitems'></span>

<h3>Description</h3>

<p>A tibble of data items and their names, classes, and providers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dataitems
</code></pre>


<h3>Format</h3>

<p>An object of class <code>data.frame</code> with 43 rows and 4 columns.
</p>

<hr>
<h2 id='record_to_df'>Record to Data Frame</h2><span id='topic+record_to_df'></span>

<h3>Description</h3>

<p>Convert a single record, containing one or more data items, to a to
a single data frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>record_to_df(record)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="record_to_df_+3A_record">record</code></td>
<td>
<p>A single CIMIS record, in list format.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame. The column <code>"Item"</code> identifies the data item.
</p>

<hr>
<h2 id='set_key'>Specify CIMIS API key</h2><span id='topic+set_key'></span><span id='topic+remove_key'></span><span id='topic+is_key_set'></span>

<h3>Description</h3>

<p>Enter your CIMIS AppKey for web API data access.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_key(key = NULL)

remove_key()

is_key_set()
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="set_key_+3A_key">key</code></td>
<td>
<p>A CIMIS AppKey.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
set_key("YOUR-APP-KEY")
is_key_set()
remove_key()

## End(Not run)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package manipulateWidget</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {manipulateWidget}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#manipulateWidget-package'><p>Add even more interactivity to interactive charts</p></a></li>
<li><a href='#combineWidgets'><p>Combine several interactive plots</p></a></li>
<li><a href='#combineWidgets-shiny'><p>Shiny bindings for combineWidgets</p></a></li>
<li><a href='#compareOptions'><p>Options for comparison mode</p></a></li>
<li><a href='#knit_print.MWController'><p>knit_print method for MWController object</p></a></li>
<li><a href='#manipulateWidget'><p>Add Controls to Interactive Plots</p></a></li>
<li><a href='#mwCheckbox'><p>Add a checkbox to a manipulateWidget gadget</p></a></li>
<li><a href='#mwCheckboxGroup'><p>Add a group of checkboxes to a manipulateWidget gadget</p></a></li>
<li><a href='#MWController-class'><p>Controller object of a manipulateWidget application</p></a></li>
<li><a href='#mwDate'><p>Add a date picker to a manipulateWidget gadget</p></a></li>
<li><a href='#mwDateRange'><p>Add a date range picker to a manipulateWidget gadget</p></a></li>
<li><a href='#mwGroup'><p>Group inputs in a collapsible box</p></a></li>
<li><a href='#mwModule'><p>Add a manipulateWidget to a shiny application</p></a></li>
<li><a href='#mwNumeric'><p>Add a numeric input to a manipulateWidget gadget</p></a></li>
<li><a href='#mwPassword'><p>Add a password to a manipulateWidget gadget</p></a></li>
<li><a href='#mwRadio'><p>Add radio buttons to a manipulateWidget gadget</p></a></li>
<li><a href='#mwSelect'><p>Add a Select list input to a manipulateWidget gadget</p></a></li>
<li><a href='#mwSelectize'><p>Add a Select list input to a manipulateWidget gadget</p></a></li>
<li><a href='#mwSharedValue'><p>Shared Value</p></a></li>
<li><a href='#mwSlider'><p>Add a Slider to a manipulateWidget gadget</p></a></li>
<li><a href='#mwText'><p>Add a text input to a manipulateWidget gadget</p></a></li>
<li><a href='#mwTranslations'><p>Translate UI titles and labels</p></a></li>
<li><a href='#staticPlot'><p>Include a static image in a combinedWidgets</p></a></li>
<li><a href='#summary.MWController'><p>summary method for MWController object</p></a></li>
<li><a href='#worldEnergyUse'><p>Evolution of energy use per country</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Add Even More Interactivity to Interactive Charts</td>
</tr>
<tr>
<td>Version:</td>
<td>0.11.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Like package 'manipulate' does for static graphics, this package
    helps to easily add controls like sliders, pickers, checkboxes, etc. that 
    can be used to modify the input data or the parameters of an interactive 
    chart created with package 'htmlwidgets'.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/rte-antares-rpackage/manipulateWidget">https://github.com/rte-antares-rpackage/manipulateWidget</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> | file LICENSE [expanded from: GPL (&ge; 2) | file LICENSE]</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>Imports:</td>
<td>shiny (&ge; 1.0.3), miniUI, htmltools, htmlwidgets, knitr,
methods, tools, base64enc, grDevices, codetools, webshot,
shinyjs</td>
</tr>
<tr>
<td>Suggests:</td>
<td>dygraphs, leaflet, plotly, xts, rmarkdown, testthat, covr</td>
</tr>
<tr>
<td>LazyData:</td>
<td>TRUE</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-10-05 08:27:14 UTC; BenoitThieurmel</td>
</tr>
<tr>
<td>Author:</td>
<td>Veronique Bachelier [aut, cre],
  Jalal-Edine ZAWAM [aut],
  Francois Guillem [aut],
  RTE [cph],
  JJ Allaire [ctb],
  Marion Praz [ctb] (New user interface),
  Benoit Thieurmel [ctb],
  Titouan Robert [ctb],
  Duncan Murdoch [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Veronique Bachelier &lt;veronique.bachelier@rte-france.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-10-05 08:50:09 UTC</td>
</tr>
</table>
<hr>
<h2 id='manipulateWidget-package'>Add even more interactivity to interactive charts</h2><span id='topic+manipulateWidget-package'></span>

<h3>Description</h3>

<p>This package is largely inspired by the <code>manipulate</code> package from
Rstudio. It can be used to easily create graphical interface that let the
user modify the data or the parameters of an interactive chart. It also
provides the <code><a href="#topic+combineWidgets">combineWidgets</a></code> function to easily combine multiple
interactive charts in a single view.
</p>


<h3>Details</h3>

<p><code><a href="#topic+manipulateWidget">manipulateWidget</a></code> is the main function of the package. It
accepts an expression that generates an interactive chart (and more precisely
an <code>htmlwidget</code> object. See <a href="http://www.htmlwidgets.org/">http://www.htmlwidgets.org/</a> if you
have never heard about it) and a set of controls created with functions
<code>mwSlider</code>, <code>mwCheckbox</code>... which are used to dynamically change
values within the expression. Each time the user modifies the value of a
control, the expression is evaluated again and the chart is updated. Consider
the following code:
</p>
<p><code>manipulateWidget(myPlotFun(country), country = mwSelect(c("BE", "DE", "ES", "FR")))</code>
</p>
<p>It will generate a graphical interface with a select input on its left with
options &quot;BE&quot;, &quot;DE&quot;, &quot;ES&quot;, &quot;FR&quot;. By default, at the beginning the value of the
variable <code>country</code> will be equal to the first choice of the
corresponding input. So the function will first execute
<code>myPlotFun("BE")</code> and the result will be displayed in the main panel of
the interface. If the user changes the value to &quot;FR&quot;, then the expression
<code>myPlotFun("FR")</code> is evaluated and the new result is displayed.
</p>
<p>The interface also contains a button &quot;Done&quot;. When the user clicks on it, the
last chart is returned. It can be stored in a variable, be modified by the
user, saved as a html file with <code><a href="htmlwidgets.html#topic+saveWidget">saveWidget</a></code> from package
<code>htmlwidgets</code> or converted to a static image file with package
<code>webshot</code>.
</p>
<p>Finally one can easily create complex layouts thanks to function
<code><a href="#topic+combineWidgets">combineWidgets</a></code>. For instance, assume we want to see a map that
displays values of some variable for a given year, but on its right side we also
want to see the distributions of three variables. Then we could write:
</p>
<pre>
myPlotFun &lt;- function(year, variable) {
  combineWidgets(
    ncol = 2, colSize = c(3, 1),
    myMap(year, variable),
    combineWidgets(
      ncol = 1,
      myHist(year, "V1"),
      myHist(year, "V2"),
      myHist(year, "V3"),
    )
  )
}

manipulateWidget(
  myPlotFun(year, variable),
  year = mwSlider(2000, 2016, value = 2000),
  variable = mwSelect(c("V1", "V2", "V3"))
)
</pre>
<p>Of course, <code><a href="#topic+combineWidgets">combineWidgets</a></code> can be used outside of
<code><a href="#topic+manipulateWidget">manipulateWidget</a></code>. For instance, it can be used in an
Rmarkdown document to easily put together interactive charts.
</p>
<p>For more concrete examples of usage, you should look at the documentation and
especially the examples of <code><a href="#topic+manipulateWidget">manipulateWidget</a></code> and
<code><a href="#topic+combineWidgets">combineWidgets</a></code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+manipulateWidget">manipulateWidget</a></code>, <code><a href="#topic+combineWidgets">combineWidgets</a></code>
</p>

<hr>
<h2 id='combineWidgets'>Combine several interactive plots</h2><span id='topic+combineWidgets'></span>

<h3>Description</h3>

<p>This function combines different htmlwidgets in a unique view.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>combineWidgets(
  ...,
  list = NULL,
  nrow = NULL,
  ncol = NULL,
  title = NULL,
  rowsize = 1,
  colsize = 1,
  byrow = TRUE,
  titleCSS = "",
  header = NULL,
  footer = NULL,
  leftCol = NULL,
  rightCol = NULL,
  width = NULL,
  height = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="combineWidgets_+3A_...">...</code></td>
<td>
<p>htmlwidgets to combine. If this list contains objects that are not
htmlwidgets, the function tries to convert them into a character string which
is interpreted as html content.</p>
</td></tr>
<tr><td><code id="combineWidgets_+3A_list">list</code></td>
<td>
<p>Instead of directly passing htmlwidgets to the function, one can
pass a list of htmlwidgets and objects coercible to character. In particular,
it can be usefull if multiple htmlwidgets have been generated using a loop
function like <code><a href="base.html#topic+lapply">lapply</a></code>.</p>
</td></tr>
<tr><td><code id="combineWidgets_+3A_nrow">nrow</code></td>
<td>
<p>Number of rows of the layout. If <code>NULL</code>, the function will
automatically take a value such that are at least as many cells in the
layout as the number of htmlwidgets.</p>
</td></tr>
<tr><td><code id="combineWidgets_+3A_ncol">ncol</code></td>
<td>
<p>Number of columns of the layout.If <code>NULL</code>, the function will
automatically take a value such that are at least as many cells in the
layout as the number of htmlwidgets.</p>
</td></tr>
<tr><td><code id="combineWidgets_+3A_title">title</code></td>
<td>
<p>Title of the view.</p>
</td></tr>
<tr><td><code id="combineWidgets_+3A_rowsize">rowsize</code></td>
<td>
<p>This argument controls the relative size of each row. For
instance, if the layout has two rows and <code>rowsize = c(2,1)</code>, then the
width of the first row will be twice the one of the second one. This
argument is recycled to fit the number of rows.</p>
</td></tr>
<tr><td><code id="combineWidgets_+3A_colsize">colsize</code></td>
<td>
<p>Same as rowsize but for the height of the columns of the
layout.</p>
</td></tr>
<tr><td><code id="combineWidgets_+3A_byrow">byrow</code></td>
<td>
<p>If <code>TRUE</code>, then the layout is filled by row. Else it is
filled by column.</p>
</td></tr>
<tr><td><code id="combineWidgets_+3A_titlecss">titleCSS</code></td>
<td>
<p>A character containing css properties to modify the
appearance of the title of the view.</p>
</td></tr>
<tr><td><code id="combineWidgets_+3A_header">header</code></td>
<td>
<p>Content to display between the title and the combined widgets.
It can be a single character string or html tags.</p>
</td></tr>
<tr><td><code id="combineWidgets_+3A_footer">footer</code></td>
<td>
<p>Content to display under the combined widgets. It can be a
single character string or html tags.</p>
</td></tr>
<tr><td><code id="combineWidgets_+3A_leftcol">leftCol</code></td>
<td>
<p>Content to display on the left of the combined widgets. It can
be a single character string or html tags.</p>
</td></tr>
<tr><td><code id="combineWidgets_+3A_rightcol">rightCol</code></td>
<td>
<p>Content to display on the right the combined widgets. It can
be a single character string or html tags.</p>
</td></tr>
<tr><td><code id="combineWidgets_+3A_width">width</code></td>
<td>
<p>Total width of the layout (optional, defaults to automatic
sizing).</p>
</td></tr>
<tr><td><code id="combineWidgets_+3A_height">height</code></td>
<td>
<p>Total height of the layout (optional, defaults to automatic
sizing).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function only allows table like layout : each row has the same
number of columns and reciprocally. But it is possible to create more complex
layout by nesting combined htmlwidgets. (see examples)
</p>


<h3>Value</h3>

<p>A htmlwidget object of class <code>combineWidget</code>. Individual widgets
are stored in element <code>widgets</code> and can be extracted or updated. This
is useful when a function returns a <code>combineWidgets</code> object but user
wants to keep only one widget or to update one of them (see examples).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (require(plotly)) {
  data(iris)

  combineWidgets(title = "The Iris dataset",
    plot_ly(iris, x = ~Sepal.Length, type = "histogram", nbinsx = 20),
    plot_ly(iris, x = ~Sepal.Width, type = "histogram", nbinsx = 20),
    plot_ly(iris, x = ~Petal.Length, type = "histogram", nbinsx = 20),
    plot_ly(iris, x = ~Petal.Width, type = "histogram", nbinsx = 20)
  )

  # Create a more complex layout by nesting combinedWidgets
  combineWidgets(title = "The iris data set: sepals", ncol = 2, colsize = c(2,1),
    plot_ly(iris, x = ~Sepal.Length, y = ~Sepal.Width, type = "scatter",
            mode = "markers", color = ~Species),
    combineWidgets(
      plot_ly(iris, x = ~Sepal.Length, type = "histogram", nbinsx = 20),
      plot_ly(iris, x = ~Sepal.Width, type = "histogram", nbinsx = 20)
    )
  )

  # combineWidgets can also be used on a single widget to easily add to it a
  # title and a footer.
  require(shiny)
  comments &lt;- tags$div(
    "Wow this plot is so ",
    tags$span("amazing!!", style = "color:red;font-size:36px")
  )

  combineWidgets(
    plot_ly(iris, x = ~Sepal.Length, type = "histogram", nbinsx = 20),
    title = "Distribution of Sepal Length",
    footer = comments
  )

  # It is also possible to combine htmlwidgets with text or other html elements
  myComment &lt;- tags$div(
    style="height:100%;background-color:#eee;padding:10px;box-sizing:border-box",
    tags$h2("Comment"),
    tags$hr(),
    "Here is a very clever comment about the awesome graphics you just saw."
  )
  combineWidgets(
    plot_ly(iris, x = ~Sepal.Length, type = "histogram", nbinsx = 20),
    plot_ly(iris, x = ~Sepal.Width, type = "histogram", nbinsx = 20),
    plot_ly(iris, x = ~Petal.Length, type = "histogram", nbinsx = 20),
    myComment
  )

  # Updating individual widgets.
  myWidget &lt;- combineWidgets(
    plot_ly(iris, x = ~Sepal.Length, type = "histogram", nbinsx = 20),
    plot_ly(iris, x = ~Sepal.Width, type = "histogram", nbinsx = 20),
    ncol = 2
  )
  myWidget


  myWidget$widgets[[1]] &lt;- myWidget$widgets[[1]] %&gt;%
    layout(title = "Histogram of Sepal Length")

  myWidget$widgets[[2]] &lt;- myWidget$widgets[[2]] %&gt;%
    layout(title = "Histogram of Sepal Width")

  myWidget


  # Instead of passing directly htmlwidgets to the function, one can pass
  # a list containing htmlwidgets. This is especially useful when the widgets
  # are generated using a loop function like "lapply" or "replicate".
  #
  # The following code generates a list of 12 histograms and use combineWidgets
  # to display them.
  samples &lt;- replicate(12, plot_ly(x = rnorm(100), type = "histogram", nbinsx = 20),
                       simplify = FALSE)
  combineWidgets(list = samples, title = "12 samples of the same distribution")
}

</code></pre>

<hr>
<h2 id='combineWidgets-shiny'>Shiny bindings for combineWidgets</h2><span id='topic+combineWidgets-shiny'></span><span id='topic+combineWidgetsOutput'></span><span id='topic+renderCombineWidgets'></span>

<h3>Description</h3>

<p>Output and render functions for using combineWidgets within Shiny
applications and interactive Rmd documents.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>combineWidgetsOutput(outputId, width = "100%", height = "400px")

renderCombineWidgets(expr, env = parent.frame(), quoted = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="combineWidgets-shiny_+3A_outputid">outputId</code></td>
<td>
<p>output variable to read from</p>
</td></tr>
<tr><td><code id="combineWidgets-shiny_+3A_width">width</code>, <code id="combineWidgets-shiny_+3A_height">height</code></td>
<td>
<p>Must be a valid CSS unit (like <code>'100%'</code>,
<code>'400px'</code>, <code>'auto'</code>) or a number, which will be coerced to a
string and have <code>'px'</code> appended.</p>
</td></tr>
<tr><td><code id="combineWidgets-shiny_+3A_expr">expr</code></td>
<td>
<p>An expression that generates a combineWidgets</p>
</td></tr>
<tr><td><code id="combineWidgets-shiny_+3A_env">env</code></td>
<td>
<p>The environment in which to evaluate <code>expr</code>.</p>
</td></tr>
<tr><td><code id="combineWidgets-shiny_+3A_quoted">quoted</code></td>
<td>
<p>Is <code>expr</code> a quoted expression (with <code>quote()</code>)? This
is useful if you want to save an expression in a variable.</p>
</td></tr>
</table>

<hr>
<h2 id='compareOptions'>Options for comparison mode</h2><span id='topic+compareOptions'></span>

<h3>Description</h3>

<p>This function generates a list of options that are used by
<code><a href="#topic+manipulateWidget">manipulateWidget</a></code> to compare multiple charts.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compareOptions(ncharts = NULL, nrow = NULL, ncol = NULL, allowCompare = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="compareOptions_+3A_ncharts">ncharts</code></td>
<td>
<p>Number of charts to generate.</p>
</td></tr>
<tr><td><code id="compareOptions_+3A_nrow">nrow</code></td>
<td>
<p>Number of rows. If <code>NULL</code>, the function tries to pick the
best number of rows given the number of charts and columns.</p>
</td></tr>
<tr><td><code id="compareOptions_+3A_ncol">ncol</code></td>
<td>
<p>Number of columns. If <code>NULL</code>, the function tries to pick the
best number of columns given the number of charts and rows.</p>
</td></tr>
<tr><td><code id="compareOptions_+3A_allowcompare">allowCompare</code></td>
<td>
<p>If <code>TRUE</code> (the default), then the user can use the
UI to add or remove charts and choose which variables to compare</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List of options
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (require(dygraphs)) {

  mydata &lt;- data.frame(
    year = 2000+1:100,
    series1 = rnorm(100),
    series2 = rnorm(100),
    series3 = rnorm(100)
  )
  manipulateWidget(
    dygraph(mydata[range[1]:range[2] - 2000, c("year", series)], main = title),
    range = mwSlider(2001, 2100, c(2001, 2100)),
    series = mwSelect(c("series1", "series2", "series3")),
    title = mwText("Fictive time series"),
    .compare = list(title = NULL, series = NULL),
    .compareOpts = compareOptions(ncharts = 4)
  )

  manipulateWidget(
    dygraph(mydata[range[1]:range[2] - 2000, c("year", series)], main = title),
    range = mwSlider(2001, 2100, c(2001, 2100)),
    series = mwSelect(c("series1", "series2", "series3")),
    title = mwText("Fictive time series"),
    .compare = list(title = NULL, series = NULL),
    .compareOpts = compareOptions(ncharts = 3, nrow = 3)
  )
}

</code></pre>

<hr>
<h2 id='knit_print.MWController'>knit_print method for MWController object</h2><span id='topic+knit_print.MWController'></span>

<h3>Description</h3>

<p>knit_print method for MWController object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>knit_print.MWController(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="knit_print.MWController_+3A_x">x</code></td>
<td>
<p>MWController object</p>
</td></tr>
<tr><td><code id="knit_print.MWController_+3A_...">...</code></td>
<td>
<p>arguments passed to function knit_print</p>
</td></tr>
</table>

<hr>
<h2 id='manipulateWidget'>Add Controls to Interactive Plots</h2><span id='topic+manipulateWidget'></span>

<h3>Description</h3>

<p>This function permits to add controls to an interactive plot created with
packages like <code>dygraphs</code>, <code>highcharter</code> or <code>plotly</code> in order
to change the input data or the parameters of the plot.
</p>
<p>Technically, the function starts a shiny gadget. The R session is bloqued
until the user clicks on &quot;cancel&quot; or &quot;done&quot;. If he clicks on &quot;done&quot;, then the
the function returns the last displayed plot so the user can modify it and/or
save it.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>manipulateWidget(
  .expr,
  ...,
  .updateBtn = FALSE,
  .saveBtn = TRUE,
  .exportBtn = TRUE,
  .exportType = c("html2canvas", "webshot"),
  .viewer = c("pane", "window", "browser"),
  .compare = NULL,
  .compareOpts = compareOptions(),
  .translations = mwTranslations(),
  .return = function(widget, envs) {     widget },
  .width = NULL,
  .height = NULL,
  .runApp = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="manipulateWidget_+3A_.expr">.expr</code></td>
<td>
<p>expression to evaluate that returns an interactive plot of class
<code>htmlwidget</code>. This expression is re-evaluated each time a control is
modified.</p>
</td></tr>
<tr><td><code id="manipulateWidget_+3A_...">...</code></td>
<td>
<p>One or more named control arguments created with functions
<code><a href="#topic+mwSlider">mwSlider</a></code>, <code><a href="#topic+mwText">mwText</a></code>, etc. The name of each control
is the name of the variable the controls modifies in the expression. One
can also create a group of inputs by passing a list of such control
arguments. for instance <code>mygroup = list(txt = mwText(""), nb =
mwNumeric(0))</code> creates a group of inputs named mygroup with two inputs
named &quot;txt&quot; and &quot;nb&quot;.</p>
</td></tr>
<tr><td><code id="manipulateWidget_+3A_.updatebtn">.updateBtn</code></td>
<td>
<p>Should an update button be added to the controls ? If
<code>TRUE</code>, then the graphic is updated only when the user clicks on the
update button.</p>
</td></tr>
<tr><td><code id="manipulateWidget_+3A_.savebtn">.saveBtn</code></td>
<td>
<p>Should an save button be added to the controls ? For saving output as html. Does not work in RStudio Viewer</p>
</td></tr>
<tr><td><code id="manipulateWidget_+3A_.exportbtn">.exportBtn</code></td>
<td>
<p>Should an export button be added to the controls ? For saving output as png. Does not work in RStudio Viewer</p>
</td></tr>
<tr><td><code id="manipulateWidget_+3A_.exporttype">.exportType</code></td>
<td>
<p><code>.exportBtn</code>, using <code>html2canvas</code> (default) and keeping current zoom, ... or using <code>webshot</code></p>
</td></tr>
<tr><td><code id="manipulateWidget_+3A_.viewer">.viewer</code></td>
<td>
<p>Controls where the gadget should be displayed. <code>"pane"</code>
corresponds to the Rstudio viewer, <code>"window"</code> to a dialog window, and
<code>"browser"</code> to an external web browser.</p>
</td></tr>
<tr><td><code id="manipulateWidget_+3A_.compare">.compare</code></td>
<td>
<p>Sometimes one wants to compare the same chart but with two
different sets of parameters. This is the purpose of this argument. It can
be a character vector of input names or a named list whose names are the
names of the inputs that should vary between the two charts. Each element
of the list must be a vector or a list of length equal to the number of
charts with the initial values of the corresponding parameter for each
chart. It can also be <code>NULL</code>. In this case, the parameter is
initialized with the default value for the two charts.</p>
</td></tr>
<tr><td><code id="manipulateWidget_+3A_.compareopts">.compareOpts</code></td>
<td>
<p>List of options created <code><a href="#topic+compareOptions">compareOptions</a></code>.
These options indicate the number of charts to create and their disposition.</p>
</td></tr>
<tr><td><code id="manipulateWidget_+3A_.translations">.translations</code></td>
<td>
<p>List of translation strings created with function
<code><a href="#topic+mwTranslations">mwTranslations</a></code>. Used to translate UI titles and labels.</p>
</td></tr>
<tr><td><code id="manipulateWidget_+3A_.return">.return</code></td>
<td>
<p>A function that can be used to modify the output of
<code>manipulateWidget</code>. It must take two parameters: the first one is the
final widget, the second one is a list of environments containing the input
values of each individual widget. The length of this list is one if .compare
is null, two or more if it has been defined.</p>
</td></tr>
<tr><td><code id="manipulateWidget_+3A_.width">.width</code></td>
<td>
<p>Width of the UI. Used only on Rmarkdown documents with option
<code>runtime: shiny</code>.</p>
</td></tr>
<tr><td><code id="manipulateWidget_+3A_.height">.height</code></td>
<td>
<p>Height of the UI. Used only on Rmarkdown documents with option
<code>runtime: shiny</code>.</p>
</td></tr>
<tr><td><code id="manipulateWidget_+3A_.runapp">.runApp</code></td>
<td>
<p>(advanced usage) If true, a shiny gadget is started. If false,
the function returns a <code><a href="#topic+MWController">MWController</a></code> object. This object can be
used to check with command line instructions the behavior of the application.
(See help page of <code><a href="#topic+MWController">MWController</a></code>). Notice that this parameter is
always false in a non-interactive session (for instance when running tests of
a package).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The result of the expression evaluated with the last values of the controls.
It should be an object of class <code>htmlWidget</code>.
</p>


<h3>Advanced Usage</h3>

<p>The &quot;normal&quot; use of the function is to provide an expression that always
return an <code>htmlwidget</code>. In such case, every time the user changes the
value of an input, the current widget is destroyed and a new one is created
and rendered.
</p>
<p>Some packages provide functions to update a widget that has already been
rendered. This is the case for instance for package <code>leaflet</code> with the
function <code><a href="leaflet.html#topic+leafletProxy">leafletProxy</a></code>. To use such functions,
<code>manipulateWidget</code> evaluates the parameter <code>.expr</code> with four extra
variables:
</p>

<ul>
<li><p><code>.initial</code>:
<code>TRUE</code> if the expression is evaluated for the first time and then
the widget has not been rendered yet, <code>FALSE</code> if the widget has
already been rendered.

</p>
</li>
<li><p><code>.session</code>:
A shiny session object.

</p>
</li>
<li><p><code>.output</code>:
ID of the output in the shiny interface.

</p>
</li>
<li><p><code>.id</code>:
Id of the chart. It can be used in comparison mode to make further
customization without the need to create additional input controls.

</p>
</li></ul>

<p>You can take a look at the last example to see how to use these two
variables to update a leaflet widget.
</p>


<h3>Modify the returned widget</h3>

<p>In some specific situations, a developer may want to use
<code>manipulateWidget</code> in a function that waits the user to click on the
&quot;Done&quot; button and modifies the widget returned by <code>manipulateWidget</code>.
In such situation, parameter <code>.return</code> should be used so that
<code>manipulateWidget</code> is the last function called. Indeed, if other code
is present after, the custom function will act very weird in a Rmarkdown
document with &quot;runtime: shiny&quot;.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Basic example with fake data
if (require(dygraphs)) {
  mydata &lt;- data.frame(period = 1:100, value = rnorm(100))
  manipulateWidget(dygraph(mydata[range[1]:range[2], ], main = title),
                   range = mwSlider(1, 100, c(1, 100)),
                   title = mwText("Fictive time series"))
}

# Let use manipulateWidget to explore the evolution of energy consumption in
# the world
data("worldEnergyUse")

if (require(plotly)) {
  # Function that generates a chart representing the evolution of energy
  # consumption per country. Creating a function is not necessary. We do it
  # for clarity and reuse in the different examples.
  plotEnergyUse &lt;- function(Country, Period, lwd = 2, col = "gray") {
    dataset &lt;- subset(
      worldEnergyUse,
      country == Country &amp; year &gt;= Period[1] &amp; year &lt;= Period[2]
    )
    plot_ly(dataset) %&gt;%
      add_lines(~year, ~energy_used, line = list(width = lwd, color = col)) %&gt;%
      layout(title = paste("Energy used in", Country))
  }

  # Launch the interactive visualisation
  manipulateWidget(
    plotEnergyUse(Country, Period),
    Period = mwSlider(1960, 2014, c(1960, 2014)),
    Country = mwSelect(sort(unique(worldEnergyUse$country)), "United States")
  )

  # Directly start comparison mode
  manipulateWidget(
    plotEnergyUse(Country, Period),
    Period = mwSlider(1960, 2014, c(1960, 2014)),
    Country = mwSelect(sort(unique(worldEnergyUse$country))),
    .compare = list(Country = c("United States", "China")),
    .compareOpts = compareOptions(ncol = 2)
  )

  # Dynamic input parameters
  #-------------------------
  # The arguments of an input can depend on the values of other inputs.
  # In this example, when the user changes the region, the choices of input
  # "Country" are updated with the countries of that region.

  # First we create a list that contains for each region the countries in that
  # retion
  refRegions &lt;- by(worldEnergyUse$country, worldEnergyUse$region,
                   function(x) as.character(sort(unique(x))))

  manipulateWidget(
    plotEnergyUse(Country, Period),
    Period = mwSlider(1960, 2014, c(1960, 2014)),
    Region = mwSelect(sort(unique(worldEnergyUse$region))),
    Country = mwSelect(choices = refRegions[[Region]])
  )

  # Grouping inputs
  #----------------
  # Inputs can be visually grouped with function mwGroup()
  manipulateWidget(
    plotEnergyUse(Country, Period, lwd, col),
    Period = mwSlider(1960, 2014, c(1960, 2014)),
    Country = mwSelect(sort(unique(worldEnergyUse$country)), "United States"),
    `Graphical Parameters` = mwGroup(
      lwd = mwSlider(1,10, 2, label = "Line Width"),
      col = mwSelect(choices = c("gray", "black", "red"))
    )
  )

  # Conditional inputs
  #-------------------
  # Inputs can be displayed or hidden depending on the state of other inputs.
  # In this example, user can choose to display the level of aggregation
  # (region or country). Depending on the choixe, the application displays
  # input Region or input Country.
  plotEnergyUseRegion &lt;- function(Region, Period, lwd = 2, col = "gray") {
    dataset &lt;- subset(
      worldEnergyUse,
      region == Region &amp; year &gt;= Period[1] &amp; year &lt;= Period[2]
    )
    dataset &lt;- aggregate(energy_used ~ year, sum, data = dataset)

    plot_ly(dataset) %&gt;%
      add_lines(~year, ~energy_used, line = list(width = lwd, color = col)) %&gt;%
      layout(title = paste("Energy used in", Region))
  }

  manipulateWidget(
    {
      if (Level == "Region") {
        plotEnergyUseRegion(Region, Period)
      } else {
        plotEnergyUse(Country, Period)
      }
    },
    Period = mwSlider(1960, 2014, c(1960, 2014)),
    Level = mwSelect(c("Region", "Country")),
    Region = mwSelect(sort(unique(worldEnergyUse$region)),
                      .display = Level == "Region"),
    Country = mwSelect(sort(unique(worldEnergyUse$country)),
                       .display = Level == "Country")
  )

}

# Advanced Usage
# --------------
# When .expr is evaluated with tehnical variables:
# .initial: is it the first evaluation?
# .outputId: integer representing the id of the chart
# .output: shiny output id
# .session: shiny session
# They can be used to update an already rendered widget instead of replacing
# it each time an input value is modified.
#
# In this example, we represent on a map, the energy use of countries.
# When the user changes an input, the map is not redrawn. Only the circle
# markers are updated.
if (require(leaflet)) {
  plotMap &lt;- function(Year, MaxRadius = 30, .initial, .session, .output) {
    dataset &lt;- subset(worldEnergyUse, year == Year)
    radius &lt;- sqrt(dataset$energy_used) /
      max(sqrt(worldEnergyUse$energy_used), na.rm = TRUE) * MaxRadius

    if (.initial) { # map has not been rendered yet
      map &lt;- leaflet() %&gt;% addTiles()
    } else { # map already rendered
      map &lt;- leafletProxy(.output, .session) %&gt;% clearMarkers()
    }

    map %&gt;% addCircleMarkers(dataset$long, dataset$lat, radius = radius,
                             color = "gray", weight = 0, fillOpacity = 0.7)
  }

  manipulateWidget(
    plotMap(Year, MaxRadius, .initial, .session, .output),
    Year = mwSlider(1960, 2014, 2014),
    MaxRadius = mwSlider(10, 50, 20)
  )
}
</code></pre>

<hr>
<h2 id='mwCheckbox'>Add a checkbox to a manipulateWidget gadget</h2><span id='topic+mwCheckbox'></span>

<h3>Description</h3>

<p>Add a checkbox to a manipulateWidget gadget
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mwCheckbox(value = FALSE, label = NULL, ..., .display = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mwCheckbox_+3A_value">value</code></td>
<td>
<p>Initial value of the input.</p>
</td></tr>
<tr><td><code id="mwCheckbox_+3A_label">label</code></td>
<td>
<p>Display label for the control. If <code>NULL</code>, the name of the corresponding
variable is used.</p>
</td></tr>
<tr><td><code id="mwCheckbox_+3A_...">...</code></td>
<td>
<p>Other arguments passed to function<code><a href="shiny.html#topic+checkboxInput">checkboxInput</a></code></p>
</td></tr>
<tr><td><code id="mwCheckbox_+3A_.display">.display</code></td>
<td>
<p>expression that evaluates to TRUE or FALSE, indicating when
the input control should be shown/hidden.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A function that will generate the input control.
</p>


<h3>See Also</h3>

<p>Other controls: 
<code><a href="#topic+mwCheckboxGroup">mwCheckboxGroup</a>()</code>,
<code><a href="#topic+mwDateRange">mwDateRange</a>()</code>,
<code><a href="#topic+mwDate">mwDate</a>()</code>,
<code><a href="#topic+mwGroup">mwGroup</a>()</code>,
<code><a href="#topic+mwNumeric">mwNumeric</a>()</code>,
<code><a href="#topic+mwPassword">mwPassword</a>()</code>,
<code><a href="#topic+mwRadio">mwRadio</a>()</code>,
<code><a href="#topic+mwSelectize">mwSelectize</a>()</code>,
<code><a href="#topic+mwSelect">mwSelect</a>()</code>,
<code><a href="#topic+mwSharedValue">mwSharedValue</a>()</code>,
<code><a href="#topic+mwSlider">mwSlider</a>()</code>,
<code><a href="#topic+mwText">mwText</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
if(require(plotly)) {
 manipulateWidget(
   {
       plot_ly(iris, x = ~Sepal.Length, y = ~Sepal.Width,
               color = ~Species, type = "scatter", mode = "markers") %&gt;%
         layout(showlegend = legend)
   },
   legend = mwCheckbox(TRUE, "Show legend")
 )
}

</code></pre>

<hr>
<h2 id='mwCheckboxGroup'>Add a group of checkboxes to a manipulateWidget gadget</h2><span id='topic+mwCheckboxGroup'></span>

<h3>Description</h3>

<p>Add a group of checkboxes to a manipulateWidget gadget
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mwCheckboxGroup(choices, value = c(), label = NULL, ..., .display = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mwCheckboxGroup_+3A_choices">choices</code></td>
<td>
<p>Vector or list of choices. If it is named, then the names rather than the
values are displayed to the user.</p>
</td></tr>
<tr><td><code id="mwCheckboxGroup_+3A_value">value</code></td>
<td>
<p>Vector containing the values initially selected</p>
</td></tr>
<tr><td><code id="mwCheckboxGroup_+3A_label">label</code></td>
<td>
<p>Display label for the control. If <code>NULL</code>, the name of the corresponding
variable is used.</p>
</td></tr>
<tr><td><code id="mwCheckboxGroup_+3A_...">...</code></td>
<td>
<p>Other arguments passed to function<code><a href="shiny.html#topic+checkboxGroupInput">checkboxGroupInput</a></code></p>
</td></tr>
<tr><td><code id="mwCheckboxGroup_+3A_.display">.display</code></td>
<td>
<p>expression that evaluates to TRUE or FALSE, indicating when
the input control should be shown/hidden.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A function that will generate the input control.
</p>


<h3>See Also</h3>

<p>Other controls: 
<code><a href="#topic+mwCheckbox">mwCheckbox</a>()</code>,
<code><a href="#topic+mwDateRange">mwDateRange</a>()</code>,
<code><a href="#topic+mwDate">mwDate</a>()</code>,
<code><a href="#topic+mwGroup">mwGroup</a>()</code>,
<code><a href="#topic+mwNumeric">mwNumeric</a>()</code>,
<code><a href="#topic+mwPassword">mwPassword</a>()</code>,
<code><a href="#topic+mwRadio">mwRadio</a>()</code>,
<code><a href="#topic+mwSelectize">mwSelectize</a>()</code>,
<code><a href="#topic+mwSelect">mwSelect</a>()</code>,
<code><a href="#topic+mwSharedValue">mwSharedValue</a>()</code>,
<code><a href="#topic+mwSlider">mwSlider</a>()</code>,
<code><a href="#topic+mwText">mwText</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (require(plotly)) {
  manipulateWidget(
    {
      if (length(species) == 0) mydata &lt;- iris
      else mydata &lt;- iris[iris$Species %in% species,]

      plot_ly(mydata, x = ~Sepal.Length, y = ~Sepal.Width,
              color = ~droplevels(Species), type = "scatter", mode = "markers")
    },
    species = mwCheckboxGroup(levels(iris$Species))
  )
}

</code></pre>

<hr>
<h2 id='MWController-class'>Controller object of a manipulateWidget application</h2><span id='topic+MWController-class'></span><span id='topic+MWController'></span>

<h3>Description</h3>

<p><code>MWController</code> is a reference class that is used to manage interaction
with data and update of the view created by manipulateWidget. Only users who
desire to create automatic tests for applications created with
<code><a href="#topic+manipulateWidget">manipulateWidget</a></code> should care about this object.
</p>


<h3>Fields</h3>


<dl>
<dt><code>ncharts</code></dt><dd><p>Number of charts in the application</p>
</dd>
<dt><code>nrow</code></dt><dd><p>Number of rows.</p>
</dd>
<dt><code>ncol</code></dt><dd><p>Number of columns.</p>
</dd>
<dt><code>autoUpdate</code></dt><dd><p>Boolean indicating if charts should be automatically
updated when a value changes. list with <code>value</code> and <code>initBtn</code> (not autoUpdate, if want first charts on init)</p>
</dd>
</dl>


<h3>Methods</h3>


<dl>
<dt><code>getParams(name, chartId = 1)</code></dt><dd><p>Get parameters of an input for a given chart</p>
</dd>
<dt><code>getValue(name, chartId = 1)</code></dt><dd><p>Get the value of a variable for a given chart.</p>
</dd>
<dt><code>getValues(chartId = 1)</code></dt><dd><p>Get all values for a given chart.</p>
</dd>
<dt><code>isVisible(name, chartId = 1)</code></dt><dd><p>Indicates if a given input is visible</p>
</dd>
<dt><code>returnCharts()</code></dt><dd><p>Return all charts.</p>
</dd>
<dt><code>setValue(name, value, chartId = 1, updateHTML = FALSE, reactive = FALSE)</code></dt><dd><p>Update the value of a variable for a given chart.</p>
</dd>
<dt><code>setValueAll(name, value, updateHTML = TRUE)</code></dt><dd><p>Update the value of an input for all charts</p>
</dd>
<dt><code>updateCharts()</code></dt><dd><p>Update all charts.</p>
</dd>
</dl>


<h3>Testing a manipulateWidget application</h3>

<p>When <code><a href="#topic+manipulateWidget">manipulateWidget</a></code> is used in a test script, it returns a
<code>MWController</code> object instead of starting a shiny gadget. This object has
methods to modify inputs values and check the state of the application. This
can be useful to automatically checks if your application behaves like desired.
Here is some sample code that uses package <code>testthat</code>:
</p>
<pre>
library("testthat")

controller &lt;- manipulateWidget(
  x + y,
  x = mwSlider(0, 10, 5),
  y = mwSlider(0, x, 0),
  .compare = "y"
)

test_that("Two charts are created", {
  expect_equal(controller$ncharts, 2)
})

test_that("Parameter 'max' of 'y' is updated when 'x' changes", {
  expect_equal(controller$getParams("y", 1)$max, 5)
  expect_equal(controller$getParams("y", 2)$max, 5)
  controller$setValue("x", 3)
  expect_equal(controller$getParams("y", 1)$max, 3)
  expect_equal(controller$getParams("y", 2)$max, 3)
})

</pre>

<hr>
<h2 id='mwDate'>Add a date picker to a manipulateWidget gadget</h2><span id='topic+mwDate'></span>

<h3>Description</h3>

<p>Add a date picker to a manipulateWidget gadget
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mwDate(value = NULL, label = NULL, ..., .display = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mwDate_+3A_value">value</code></td>
<td>
<p>Default value of the input.</p>
</td></tr>
<tr><td><code id="mwDate_+3A_label">label</code></td>
<td>
<p>Display label for the control. If <code>NULL</code>, the name of the corresponding
variable is used.</p>
</td></tr>
<tr><td><code id="mwDate_+3A_...">...</code></td>
<td>
<p>Other arguments passed to function<code><a href="shiny.html#topic+dateInput">dateInput</a></code></p>
</td></tr>
<tr><td><code id="mwDate_+3A_.display">.display</code></td>
<td>
<p>expression that evaluates to TRUE or FALSE, indicating when
the input control should be shown/hidden.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A function that will generate the input control.
</p>


<h3>See Also</h3>

<p>Other controls: 
<code><a href="#topic+mwCheckboxGroup">mwCheckboxGroup</a>()</code>,
<code><a href="#topic+mwCheckbox">mwCheckbox</a>()</code>,
<code><a href="#topic+mwDateRange">mwDateRange</a>()</code>,
<code><a href="#topic+mwGroup">mwGroup</a>()</code>,
<code><a href="#topic+mwNumeric">mwNumeric</a>()</code>,
<code><a href="#topic+mwPassword">mwPassword</a>()</code>,
<code><a href="#topic+mwRadio">mwRadio</a>()</code>,
<code><a href="#topic+mwSelectize">mwSelectize</a>()</code>,
<code><a href="#topic+mwSelect">mwSelect</a>()</code>,
<code><a href="#topic+mwSharedValue">mwSharedValue</a>()</code>,
<code><a href="#topic+mwSlider">mwSlider</a>()</code>,
<code><a href="#topic+mwText">mwText</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (require(dygraphs) &amp;&amp; require(xts)) {
  mydata &lt;- xts(rnorm(365), order.by = as.Date("2017-01-01") + 0:364)

  manipulateWidget(
    dygraph(mydata) %&gt;% dyEvent(date, "Your birthday"),
    date = mwDate("2017-03-27", label = "Your birthday date",
                  min = "2017-01-01", max = "2017-12-31")
  )
}

</code></pre>

<hr>
<h2 id='mwDateRange'>Add a date range picker to a manipulateWidget gadget</h2><span id='topic+mwDateRange'></span>

<h3>Description</h3>

<p>Add a date range picker to a manipulateWidget gadget
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mwDateRange(
  value = c(Sys.Date(), Sys.Date() + 1),
  label = NULL,
  ...,
  .display = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mwDateRange_+3A_value">value</code></td>
<td>
<p>Vector containing two dates (either Date objects pr a string in yyy-mm-dd
format) representing the initial date range selected.</p>
</td></tr>
<tr><td><code id="mwDateRange_+3A_label">label</code></td>
<td>
<p>Display label for the control. If <code>NULL</code>, the name of the corresponding
variable is used.</p>
</td></tr>
<tr><td><code id="mwDateRange_+3A_...">...</code></td>
<td>
<p>Other arguments passed to function<code><a href="shiny.html#topic+dateRangeInput">dateRangeInput</a></code></p>
</td></tr>
<tr><td><code id="mwDateRange_+3A_.display">.display</code></td>
<td>
<p>expression that evaluates to TRUE or FALSE, indicating when
the input control should be shown/hidden.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An Input object
</p>


<h3>See Also</h3>

<p>Other controls: 
<code><a href="#topic+mwCheckboxGroup">mwCheckboxGroup</a>()</code>,
<code><a href="#topic+mwCheckbox">mwCheckbox</a>()</code>,
<code><a href="#topic+mwDate">mwDate</a>()</code>,
<code><a href="#topic+mwGroup">mwGroup</a>()</code>,
<code><a href="#topic+mwNumeric">mwNumeric</a>()</code>,
<code><a href="#topic+mwPassword">mwPassword</a>()</code>,
<code><a href="#topic+mwRadio">mwRadio</a>()</code>,
<code><a href="#topic+mwSelectize">mwSelectize</a>()</code>,
<code><a href="#topic+mwSelect">mwSelect</a>()</code>,
<code><a href="#topic+mwSharedValue">mwSharedValue</a>()</code>,
<code><a href="#topic+mwSlider">mwSlider</a>()</code>,
<code><a href="#topic+mwText">mwText</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (require(dygraphs) &amp;&amp; require(xts)) {
  mydata &lt;- xts(rnorm(365), order.by = as.Date("2017-01-01") + 0:364)

  manipulateWidget(
    dygraph(mydata) %&gt;% dyShading(from=period[1], to = period[2], color = "#CCEBD6"),
    period = mwDateRange(c("2017-03-01", "2017-04-01"),
                  min = "2017-01-01", max = "2017-12-31")
  )
}

</code></pre>

<hr>
<h2 id='mwGroup'>Group inputs in a collapsible box</h2><span id='topic+mwGroup'></span>

<h3>Description</h3>

<p>This function generates a collapsible box containing inputs. It can be useful
when there are a lot of inputs and one wants to group them.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mwGroup(..., label = NULL, .display = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mwGroup_+3A_...">...</code></td>
<td>
<p>inputs that will be grouped in the box</p>
</td></tr>
<tr><td><code id="mwGroup_+3A_label">label</code></td>
<td>
<p>label of the group inputs</p>
</td></tr>
<tr><td><code id="mwGroup_+3A_.display">.display</code></td>
<td>
<p>expression that evaluates to TRUE or FALSE, indicating when
the group should be shown/hidden.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Input of type &quot;group&quot;.
</p>


<h3>See Also</h3>

<p>Other controls: 
<code><a href="#topic+mwCheckboxGroup">mwCheckboxGroup</a>()</code>,
<code><a href="#topic+mwCheckbox">mwCheckbox</a>()</code>,
<code><a href="#topic+mwDateRange">mwDateRange</a>()</code>,
<code><a href="#topic+mwDate">mwDate</a>()</code>,
<code><a href="#topic+mwNumeric">mwNumeric</a>()</code>,
<code><a href="#topic+mwPassword">mwPassword</a>()</code>,
<code><a href="#topic+mwRadio">mwRadio</a>()</code>,
<code><a href="#topic+mwSelectize">mwSelectize</a>()</code>,
<code><a href="#topic+mwSelect">mwSelect</a>()</code>,
<code><a href="#topic+mwSharedValue">mwSharedValue</a>()</code>,
<code><a href="#topic+mwSlider">mwSlider</a>()</code>,
<code><a href="#topic+mwText">mwText</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if(require(dygraphs)) {
  mydata &lt;- data.frame(x = 1:100, y = rnorm(100))
  manipulateWidget(
    dygraph(mydata[range[1]:range[2], ],
            main = title, xlab = xlab, ylab = ylab),
    range = mwSlider(1, 100, c(1, 100)),
    "Graphical parameters" = mwGroup(
      title = mwText("Fictive time series"),
      xlab = mwText("X axis label"),
      ylab = mwText("Y axis label")
    )
  )
}

</code></pre>

<hr>
<h2 id='mwModule'>Add a manipulateWidget to a shiny application</h2><span id='topic+mwModule'></span><span id='topic+mwModuleUI'></span>

<h3>Description</h3>

<p>These two functions can be used to include a manipulateWidget object in a shiny application.
<code>mwModuleUI</code> must be used in the UI to generate the required HTML elements and add
javascript and css dependencies. <code>mwModule</code> must be called once in the server function
of the application.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mwModule(id, controller, fillPage = FALSE, ...)

mwModuleUI(
  id,
  border = TRUE,
  okBtn = FALSE,
  saveBtn = TRUE,
  exportBtn = TRUE,
  updateBtn = FALSE,
  allowCompare = TRUE,
  margin = 0,
  width = "100%",
  height = 400,
  header = NULL,
  footer = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mwModule_+3A_id">id</code></td>
<td>
<p>A unique string that identifies the module</p>
</td></tr>
<tr><td><code id="mwModule_+3A_controller">controller</code></td>
<td>
<p>Object of class <code><a href="#topic+MWController">MWController</a></code> returned by
<code><a href="#topic+manipulateWidget">manipulateWidget</a></code> when parameter <code>.runApp</code> is
<code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="mwModule_+3A_fillpage">fillPage</code></td>
<td>
<p>: <code>logical</code>. Render in a fillPage or not ? Defaut to FALSE</p>
</td></tr>
<tr><td><code id="mwModule_+3A_...">...</code></td>
<td>
<p>named arguments containing reactive values. They can be used to send data from
the main shiny application to the module.</p>
</td></tr>
<tr><td><code id="mwModule_+3A_border">border</code></td>
<td>
<p>Should a border be added to the module ?</p>
</td></tr>
<tr><td><code id="mwModule_+3A_okbtn">okBtn</code></td>
<td>
<p>Should the UI contain the OK button ?</p>
</td></tr>
<tr><td><code id="mwModule_+3A_savebtn">saveBtn</code></td>
<td>
<p>Should the UI contain the save button ? For saving output as html</p>
</td></tr>
<tr><td><code id="mwModule_+3A_exportbtn">exportBtn</code></td>
<td>
<p>Should an export button be added to the controls ? For saving output as png</p>
</td></tr>
<tr><td><code id="mwModule_+3A_updatebtn">updateBtn</code></td>
<td>
<p>Should the updateBtn be added to the UI ?</p>
</td></tr>
<tr><td><code id="mwModule_+3A_allowcompare">allowCompare</code></td>
<td>
<p>If <code>TRUE</code> (the default), then the user can use the
UI to add or remove charts and choose which variables to compare</p>
</td></tr>
<tr><td><code id="mwModule_+3A_margin">margin</code></td>
<td>
<p>Margin to apply around the module UI. Should be one two or four valid css
units.</p>
</td></tr>
<tr><td><code id="mwModule_+3A_width">width</code></td>
<td>
<p>Width of the module UI.</p>
</td></tr>
<tr><td><code id="mwModule_+3A_height">height</code></td>
<td>
<p>Height of the module UI.</p>
</td></tr>
<tr><td><code id="mwModule_+3A_header">header</code></td>
<td>
<p>Tag or list of tags to display as a common header above all tabPanels.</p>
</td></tr>
<tr><td><code id="mwModule_+3A_footer">footer</code></td>
<td>
<p>Tag or list of tags to display as a common footer below all tabPanels</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>mwModuleUI</code> returns the required HTML elements for the module. mwModule is only
used for its side effects.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive() &amp; require("dygraphs")) {
  require("shiny")
  ui &lt;- fillPage(
  fillRow(
    flex = c(NA, 1),
    div(
      textInput("title", label = "Title", value = "glop"),
      selectInput("series", "series", choices = c("series1", "series2", "series3"))
    ),
    mwModuleUI("ui", height = "100%")
  ))

  server &lt;- function(input, output, session) {
    mydata &lt;- data.frame(
      year = 2000+1:100,
      series1 = rnorm(100),
      series2 = rnorm(100),
      series3 = rnorm(100)
    )

    c &lt;- manipulateWidget(
      {
        dygraph(mydata[range[1]:range[2] - 2000, c("year", series)], main = title)
      },
      range = mwSlider(2001, 2100, c(2001, 2050)),
      series = mwSharedValue(),
      title = mwSharedValue(), .runApp = FALSE,
      .compare = "range"
    )
    #
    mwModule("ui", c, title = reactive(input$title), series = reactive(input$series))
  }

  shinyApp(ui, server)


}

</code></pre>

<hr>
<h2 id='mwNumeric'>Add a numeric input to a manipulateWidget gadget</h2><span id='topic+mwNumeric'></span>

<h3>Description</h3>

<p>Add a numeric input to a manipulateWidget gadget
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mwNumeric(value, label = NULL, ..., .display = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mwNumeric_+3A_value">value</code></td>
<td>
<p>Initial value of the numeric input.</p>
</td></tr>
<tr><td><code id="mwNumeric_+3A_label">label</code></td>
<td>
<p>Display label for the control. If <code>NULL</code>, the name of the corresponding
variable is used.</p>
</td></tr>
<tr><td><code id="mwNumeric_+3A_...">...</code></td>
<td>
<p>Other arguments passed to function<code><a href="shiny.html#topic+numericInput">numericInput</a></code></p>
</td></tr>
<tr><td><code id="mwNumeric_+3A_.display">.display</code></td>
<td>
<p>expression that evaluates to TRUE or FALSE, indicating when
the input control should be shown/hidden.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A function that will generate the input control.
</p>


<h3>See Also</h3>

<p>Other controls: 
<code><a href="#topic+mwCheckboxGroup">mwCheckboxGroup</a>()</code>,
<code><a href="#topic+mwCheckbox">mwCheckbox</a>()</code>,
<code><a href="#topic+mwDateRange">mwDateRange</a>()</code>,
<code><a href="#topic+mwDate">mwDate</a>()</code>,
<code><a href="#topic+mwGroup">mwGroup</a>()</code>,
<code><a href="#topic+mwPassword">mwPassword</a>()</code>,
<code><a href="#topic+mwRadio">mwRadio</a>()</code>,
<code><a href="#topic+mwSelectize">mwSelectize</a>()</code>,
<code><a href="#topic+mwSelect">mwSelect</a>()</code>,
<code><a href="#topic+mwSharedValue">mwSharedValue</a>()</code>,
<code><a href="#topic+mwSlider">mwSlider</a>()</code>,
<code><a href="#topic+mwText">mwText</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
if (require(plotly)) {
  manipulateWidget({
      plot_ly(data.frame(x = 1:10, y = rnorm(10, mean, sd)), x=~x, y=~y,
              type = "scatter", mode = "markers")
    },
    mean = mwNumeric(0),
    sd = mwNumeric(1, min = 0, step = 0.1)
  )
}

</code></pre>

<hr>
<h2 id='mwPassword'>Add a password to a manipulateWidget gadget</h2><span id='topic+mwPassword'></span>

<h3>Description</h3>

<p>Add a password to a manipulateWidget gadget
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mwPassword(value = "", label = NULL, ..., .display = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mwPassword_+3A_value">value</code></td>
<td>
<p>Default value of the input.</p>
</td></tr>
<tr><td><code id="mwPassword_+3A_label">label</code></td>
<td>
<p>Display label for the control. If <code>NULL</code>, the name of the corresponding
variable is used.</p>
</td></tr>
<tr><td><code id="mwPassword_+3A_...">...</code></td>
<td>
<p>Other arguments passed to function<code><a href="shiny.html#topic+passwordInput">passwordInput</a></code></p>
</td></tr>
<tr><td><code id="mwPassword_+3A_.display">.display</code></td>
<td>
<p>expression that evaluates to TRUE or FALSE, indicating when
the input control should be shown/hidden.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A function that will generate the input control.
</p>


<h3>See Also</h3>

<p>Other controls: 
<code><a href="#topic+mwCheckboxGroup">mwCheckboxGroup</a>()</code>,
<code><a href="#topic+mwCheckbox">mwCheckbox</a>()</code>,
<code><a href="#topic+mwDateRange">mwDateRange</a>()</code>,
<code><a href="#topic+mwDate">mwDate</a>()</code>,
<code><a href="#topic+mwGroup">mwGroup</a>()</code>,
<code><a href="#topic+mwNumeric">mwNumeric</a>()</code>,
<code><a href="#topic+mwRadio">mwRadio</a>()</code>,
<code><a href="#topic+mwSelectize">mwSelectize</a>()</code>,
<code><a href="#topic+mwSelect">mwSelect</a>()</code>,
<code><a href="#topic+mwSharedValue">mwSharedValue</a>()</code>,
<code><a href="#topic+mwSlider">mwSlider</a>()</code>,
<code><a href="#topic+mwText">mwText</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (require(plotly)) {
  manipulateWidget(
    {
      if (passwd != 'abc123') {
        plot_ly(type = "scatter", mode="markers") %&gt;%
          layout(title = "Wrong password. True password is 'abc123'")
      } else {
        plot_ly(data.frame(x = 1:10, y = rnorm(10)), x=~x, y=~y, type = "scatter", mode = "markers")
      }
    },
    user = mwText(label = "Username"),
    passwd = mwPassword(label = "Password")
  )
}

</code></pre>

<hr>
<h2 id='mwRadio'>Add radio buttons to a manipulateWidget gadget</h2><span id='topic+mwRadio'></span>

<h3>Description</h3>

<p>Add radio buttons to a manipulateWidget gadget
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mwRadio(choices, value = NULL, label = NULL, ..., .display = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mwRadio_+3A_choices">choices</code></td>
<td>
<p>Vector or list of choices. If it is named, then the names rather than the
values are displayed to the user.</p>
</td></tr>
<tr><td><code id="mwRadio_+3A_value">value</code></td>
<td>
<p>Initial value of the input. If not specified, the first choice is used.</p>
</td></tr>
<tr><td><code id="mwRadio_+3A_label">label</code></td>
<td>
<p>Display label for the control. If <code>NULL</code>, the name of the corresponding
variable is used.</p>
</td></tr>
<tr><td><code id="mwRadio_+3A_...">...</code></td>
<td>
<p>Other arguments passed to function<code><a href="shiny.html#topic+radioButtons">radioButtons</a></code></p>
</td></tr>
<tr><td><code id="mwRadio_+3A_.display">.display</code></td>
<td>
<p>expression that evaluates to TRUE or FALSE, indicating when
the input control should be shown/hidden.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A function that will generate the input control.
</p>


<h3>See Also</h3>

<p>Other controls: 
<code><a href="#topic+mwCheckboxGroup">mwCheckboxGroup</a>()</code>,
<code><a href="#topic+mwCheckbox">mwCheckbox</a>()</code>,
<code><a href="#topic+mwDateRange">mwDateRange</a>()</code>,
<code><a href="#topic+mwDate">mwDate</a>()</code>,
<code><a href="#topic+mwGroup">mwGroup</a>()</code>,
<code><a href="#topic+mwNumeric">mwNumeric</a>()</code>,
<code><a href="#topic+mwPassword">mwPassword</a>()</code>,
<code><a href="#topic+mwSelectize">mwSelectize</a>()</code>,
<code><a href="#topic+mwSelect">mwSelect</a>()</code>,
<code><a href="#topic+mwSharedValue">mwSharedValue</a>()</code>,
<code><a href="#topic+mwSlider">mwSlider</a>()</code>,
<code><a href="#topic+mwText">mwText</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (require(plotly)) {
  mydata &lt;- data.frame(x = 1:100, y = rnorm(100))

  manipulateWidget(
    {
      mode &lt;- switch(type, points = "markers", lines = "lines", both = "markers+lines")
      plot_ly(mydata, x=~x, y=~y, type = "scatter", mode = mode)
    },
    type = mwRadio(c("points", "lines", "both"))
  )
}

</code></pre>

<hr>
<h2 id='mwSelect'>Add a Select list input to a manipulateWidget gadget</h2><span id='topic+mwSelect'></span>

<h3>Description</h3>

<p>Add a Select list input to a manipulateWidget gadget
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mwSelect(
  choices = value,
  value = NULL,
  label = NULL,
  ...,
  multiple = FALSE,
  .display = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mwSelect_+3A_choices">choices</code></td>
<td>
<p>Vector or list of choices. If it is named, then the names rather than the
values are displayed to the user.</p>
</td></tr>
<tr><td><code id="mwSelect_+3A_value">value</code></td>
<td>
<p>Initial value of the input. If not specified, the first choice is used.</p>
</td></tr>
<tr><td><code id="mwSelect_+3A_label">label</code></td>
<td>
<p>Display label for the control. If <code>NULL</code>, the name of the corresponding
variable is used.</p>
</td></tr>
<tr><td><code id="mwSelect_+3A_...">...</code></td>
<td>
<p>Other arguments passed to function<code><a href="shiny.html#topic+selectInput">selectInput</a></code>.</p>
</td></tr>
<tr><td><code id="mwSelect_+3A_multiple">multiple</code></td>
<td>
<p>Is selection of multiple items allowed?</p>
</td></tr>
<tr><td><code id="mwSelect_+3A_.display">.display</code></td>
<td>
<p>expression that evaluates to TRUE or FALSE, indicating when
the input control should be shown/hidden.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A function that will generate the input control.
</p>


<h3>See Also</h3>

<p>Other controls: 
<code><a href="#topic+mwCheckboxGroup">mwCheckboxGroup</a>()</code>,
<code><a href="#topic+mwCheckbox">mwCheckbox</a>()</code>,
<code><a href="#topic+mwDateRange">mwDateRange</a>()</code>,
<code><a href="#topic+mwDate">mwDate</a>()</code>,
<code><a href="#topic+mwGroup">mwGroup</a>()</code>,
<code><a href="#topic+mwNumeric">mwNumeric</a>()</code>,
<code><a href="#topic+mwPassword">mwPassword</a>()</code>,
<code><a href="#topic+mwRadio">mwRadio</a>()</code>,
<code><a href="#topic+mwSelectize">mwSelectize</a>()</code>,
<code><a href="#topic+mwSharedValue">mwSharedValue</a>()</code>,
<code><a href="#topic+mwSlider">mwSlider</a>()</code>,
<code><a href="#topic+mwText">mwText</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (require(plotly)) {
  mydata &lt;- data.frame(x = 1:100, y = rnorm(100))

  manipulateWidget(
    {
      mode &lt;- switch(type, points = "markers", lines = "lines", both = "markers+lines")
      plot_ly(mydata, x=~x, y=~y, type = "scatter", mode = mode)
    },
    type = mwSelect(c("points", "lines", "both"))
  )

  Sys.sleep(0.5)

  # Select multiple values
  manipulateWidget(
    {
      if (length(species) == 0) mydata &lt;- iris
      else mydata &lt;- iris[iris$Species %in% species,]

      plot_ly(mydata, x = ~Sepal.Length, y = ~Sepal.Width,
              color = ~droplevels(Species), type = "scatter", mode = "markers")
    },
    species = mwSelect(levels(iris$Species), multiple = TRUE)
  )
}

</code></pre>

<hr>
<h2 id='mwSelectize'>Add a Select list input to a manipulateWidget gadget</h2><span id='topic+mwSelectize'></span>

<h3>Description</h3>

<p>Add a Select list input to a manipulateWidget gadget
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mwSelectize(
  choices = value,
  value = NULL,
  label = NULL,
  ...,
  multiple = FALSE,
  options = NULL,
  .display = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mwSelectize_+3A_choices">choices</code></td>
<td>
<p>Vector or list of choices. If it is named, then the names rather than the
values are displayed to the user.</p>
</td></tr>
<tr><td><code id="mwSelectize_+3A_value">value</code></td>
<td>
<p>Initial value of the input. If not specified, the first choice is used.</p>
</td></tr>
<tr><td><code id="mwSelectize_+3A_label">label</code></td>
<td>
<p>Display label for the control. If <code>NULL</code>, the name of the corresponding
variable is used.</p>
</td></tr>
<tr><td><code id="mwSelectize_+3A_...">...</code></td>
<td>
<p>Other arguments passed to function<code><a href="shiny.html#topic+selectInput">selectInput</a></code>.</p>
</td></tr>
<tr><td><code id="mwSelectize_+3A_multiple">multiple</code></td>
<td>
<p>Is selection of multiple items allowed?</p>
</td></tr>
<tr><td><code id="mwSelectize_+3A_options">options</code></td>
<td>
<p>A list of options. See the documentation of selectize.js for possible options</p>
</td></tr>
<tr><td><code id="mwSelectize_+3A_.display">.display</code></td>
<td>
<p>expression that evaluates to TRUE or FALSE, indicating when
the input control should be shown/hidden.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A function that will generate the input control.
</p>


<h3>See Also</h3>

<p>Other controls: 
<code><a href="#topic+mwCheckboxGroup">mwCheckboxGroup</a>()</code>,
<code><a href="#topic+mwCheckbox">mwCheckbox</a>()</code>,
<code><a href="#topic+mwDateRange">mwDateRange</a>()</code>,
<code><a href="#topic+mwDate">mwDate</a>()</code>,
<code><a href="#topic+mwGroup">mwGroup</a>()</code>,
<code><a href="#topic+mwNumeric">mwNumeric</a>()</code>,
<code><a href="#topic+mwPassword">mwPassword</a>()</code>,
<code><a href="#topic+mwRadio">mwRadio</a>()</code>,
<code><a href="#topic+mwSelect">mwSelect</a>()</code>,
<code><a href="#topic+mwSharedValue">mwSharedValue</a>()</code>,
<code><a href="#topic+mwSlider">mwSlider</a>()</code>,
<code><a href="#topic+mwText">mwText</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (require(plotly)) {
  mydata &lt;- data.frame(x = 1:100, y = rnorm(100))

  # Select multiple values
  manipulateWidget(
    {
      if (length(species) == 0) mydata &lt;- iris
      else mydata &lt;- iris[iris$Species %in% species,]

      plot_ly(mydata, x = ~Sepal.Length, y = ~Sepal.Width,
              color = ~droplevels(Species), type = "scatter", mode = "markers")
    },
    species = mwSelectize(c("Select one or two species : " = "", levels(iris$Species)),
        multiple = TRUE, options = list(maxItems = 2))
  )
}

</code></pre>

<hr>
<h2 id='mwSharedValue'>Shared Value</h2><span id='topic+mwSharedValue'></span>

<h3>Description</h3>

<p>This function creates a virtual input that can be used to store a dynamic
shared variable that is accessible in inputs as well as in output.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mwSharedValue(expr = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mwSharedValue_+3A_expr">expr</code></td>
<td>
<p>Expression used to compute the value of the input.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An Input object of type &quot;sharedValue&quot;.
</p>


<h3>See Also</h3>

<p>Other controls: 
<code><a href="#topic+mwCheckboxGroup">mwCheckboxGroup</a>()</code>,
<code><a href="#topic+mwCheckbox">mwCheckbox</a>()</code>,
<code><a href="#topic+mwDateRange">mwDateRange</a>()</code>,
<code><a href="#topic+mwDate">mwDate</a>()</code>,
<code><a href="#topic+mwGroup">mwGroup</a>()</code>,
<code><a href="#topic+mwNumeric">mwNumeric</a>()</code>,
<code><a href="#topic+mwPassword">mwPassword</a>()</code>,
<code><a href="#topic+mwRadio">mwRadio</a>()</code>,
<code><a href="#topic+mwSelectize">mwSelectize</a>()</code>,
<code><a href="#topic+mwSelect">mwSelect</a>()</code>,
<code><a href="#topic+mwSlider">mwSlider</a>()</code>,
<code><a href="#topic+mwText">mwText</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
if (require(plotly)) {
  # Plot the characteristics of a car and compare with the average values for
  # cars with same number of cylinders.
  # The shared variable 'subsetCars' is used to avoid subsetting multiple times
  # the data: this value is updated only when input 'cylinders' changes.
  colMax &lt;- apply(mtcars, 2, max)

  plotCar &lt;- function(cardata, carName) {
    carValues &lt;- unlist(cardata[carName, ])
    carValuesRel &lt;- carValues / colMax

    avgValues &lt;- round(colMeans(cardata), 2)
    avgValuesRel &lt;- avgValues / colMax

    plot_ly() %&gt;%
      add_bars(x = names(cardata), y = carValuesRel, text = carValues,
               hoverinfo = c("x+text"), name = carName) %&gt;%
      add_bars(x = names(cardata), y = avgValuesRel, text = avgValues,
               hoverinfo = c("x+text"), name = "average") %&gt;%
      layout(barmode = 'group')
  }

  c &lt;- manipulateWidget(
    plotCar(subsetCars, car),
    cylinders = mwSelect(c("4", "6", "8")),
    subsetCars = mwSharedValue(subset(mtcars, cylinders == cyl)),
    car = mwSelect(choices = row.names(subsetCars))
  )
}

</code></pre>

<hr>
<h2 id='mwSlider'>Add a Slider to a manipulateWidget gadget</h2><span id='topic+mwSlider'></span>

<h3>Description</h3>

<p>Add a Slider to a manipulateWidget gadget
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mwSlider(min, max, value, label = NULL, ..., .display = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mwSlider_+3A_min">min</code></td>
<td>
<p>The minimum value that can be selected.</p>
</td></tr>
<tr><td><code id="mwSlider_+3A_max">max</code></td>
<td>
<p>The maximum value that can be selected.</p>
</td></tr>
<tr><td><code id="mwSlider_+3A_value">value</code></td>
<td>
<p>Initial value of the slider  A numeric vector of length one will create a
regular slider; a numeric vector of length two will create a double-ended
range slider</p>
</td></tr>
<tr><td><code id="mwSlider_+3A_label">label</code></td>
<td>
<p>Display label for the control. If <code>NULL</code>, the name of the corresponding
variable is used.</p>
</td></tr>
<tr><td><code id="mwSlider_+3A_...">...</code></td>
<td>
<p>Other arguments passed to function<code><a href="shiny.html#topic+sliderInput">sliderInput</a></code></p>
</td></tr>
<tr><td><code id="mwSlider_+3A_.display">.display</code></td>
<td>
<p>expression that evaluates to TRUE or FALSE, indicating when
the input control should be shown/hidden.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A function that will generate the input control.
</p>


<h3>See Also</h3>

<p>Other controls: 
<code><a href="#topic+mwCheckboxGroup">mwCheckboxGroup</a>()</code>,
<code><a href="#topic+mwCheckbox">mwCheckbox</a>()</code>,
<code><a href="#topic+mwDateRange">mwDateRange</a>()</code>,
<code><a href="#topic+mwDate">mwDate</a>()</code>,
<code><a href="#topic+mwGroup">mwGroup</a>()</code>,
<code><a href="#topic+mwNumeric">mwNumeric</a>()</code>,
<code><a href="#topic+mwPassword">mwPassword</a>()</code>,
<code><a href="#topic+mwRadio">mwRadio</a>()</code>,
<code><a href="#topic+mwSelectize">mwSelectize</a>()</code>,
<code><a href="#topic+mwSelect">mwSelect</a>()</code>,
<code><a href="#topic+mwSharedValue">mwSharedValue</a>()</code>,
<code><a href="#topic+mwText">mwText</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
if (require(plotly)) {

  myWidget &lt;- manipulateWidget(
    plot_ly(data.frame(x = 1:n, y = rnorm(n)), x=~x, y=~y, type = "scatter", mode = "markers"),
    n = mwSlider(1, 100, 10, label = "Number of values")
  )

  Sys.sleep(0.5)

  # Create a double ended slider to choose a range instead of a single value
  mydata &lt;- data.frame(x = 1:100, y = rnorm(100))

  manipulateWidget(
    plot_ly(mydata[n[1]:n[2], ], x=~x, y=~y, type = "scatter", mode = "markers"),
    n = mwSlider(1, 100, c(1, 10), label = "Number of values")
  )

}

</code></pre>

<hr>
<h2 id='mwText'>Add a text input to a manipulateWidget gadget</h2><span id='topic+mwText'></span>

<h3>Description</h3>

<p>Add a text input to a manipulateWidget gadget
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mwText(value = "", label = NULL, ..., .display = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mwText_+3A_value">value</code></td>
<td>
<p>Initial value of the text input.</p>
</td></tr>
<tr><td><code id="mwText_+3A_label">label</code></td>
<td>
<p>Display label for the control. If <code>NULL</code>, the name of the corresponding
variable is used.</p>
</td></tr>
<tr><td><code id="mwText_+3A_...">...</code></td>
<td>
<p>Other arguments passed to function<code><a href="shiny.html#topic+textInput">textInput</a></code></p>
</td></tr>
<tr><td><code id="mwText_+3A_.display">.display</code></td>
<td>
<p>expression that evaluates to TRUE or FALSE, indicating when
the input control should be shown/hidden.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A function that will generate the input control.
</p>


<h3>See Also</h3>

<p>Other controls: 
<code><a href="#topic+mwCheckboxGroup">mwCheckboxGroup</a>()</code>,
<code><a href="#topic+mwCheckbox">mwCheckbox</a>()</code>,
<code><a href="#topic+mwDateRange">mwDateRange</a>()</code>,
<code><a href="#topic+mwDate">mwDate</a>()</code>,
<code><a href="#topic+mwGroup">mwGroup</a>()</code>,
<code><a href="#topic+mwNumeric">mwNumeric</a>()</code>,
<code><a href="#topic+mwPassword">mwPassword</a>()</code>,
<code><a href="#topic+mwRadio">mwRadio</a>()</code>,
<code><a href="#topic+mwSelectize">mwSelectize</a>()</code>,
<code><a href="#topic+mwSelect">mwSelect</a>()</code>,
<code><a href="#topic+mwSharedValue">mwSharedValue</a>()</code>,
<code><a href="#topic+mwSlider">mwSlider</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (require(plotly)) {
  mydata &lt;- data.frame(x = 1:100, y = rnorm(100))
  manipulateWidget({
      plot_ly(mydata, x=~x, y=~y, type = "scatter", mode = "markers") %&gt;%
        layout(title = mytitle)
    },
    mytitle = mwText("Awesome title !")
  )
}

</code></pre>

<hr>
<h2 id='mwTranslations'>Translate UI titles and labels</h2><span id='topic+mwTranslations'></span>

<h3>Description</h3>

<p>Creates a list of translation strings that can be passed to function
<code><a href="#topic+manipulateWidget">manipulateWidget</a></code> to translate some UI elements.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mwTranslations(
  settings = "Settings",
  chart = "Chart",
  compare = "Compare",
  compareVars = "Variables to compare",
  ncol = "Nb Columns",
  ncharts = "Nb Charts"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mwTranslations_+3A_settings">settings</code></td>
<td>
<p>Title of the settings panel.</p>
</td></tr>
<tr><td><code id="mwTranslations_+3A_chart">chart</code></td>
<td>
<p>Title of the chart panel.</p>
</td></tr>
<tr><td><code id="mwTranslations_+3A_compare">compare</code></td>
<td>
<p>Label of the checkbox that activate the comparison mode.</p>
</td></tr>
<tr><td><code id="mwTranslations_+3A_comparevars">compareVars</code></td>
<td>
<p>Label of the input containing the list of variables to compare.</p>
</td></tr>
<tr><td><code id="mwTranslations_+3A_ncol">ncol</code></td>
<td>
<p>Label of the input that sets the number of columns.</p>
</td></tr>
<tr><td><code id="mwTranslations_+3A_ncharts">ncharts</code></td>
<td>
<p>Label of the input that sets the number of charts.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Named list of translation strings.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>translations &lt;- mwTranslations(
  settings = "Parametres", chart = "Graphique", compare = "Comparaison",
  compareVars = "Variable de comparaison", ncharts = "Nb graph.", ncol = "Nb col."
)

if (require(dygraphs)) {
  mydata &lt;- data.frame(year = 2000+1:100, value = rnorm(100))
  manipulateWidget(dygraph(mydata[range[1]:range[2] - 2000, ], main = title),
                   range = mwSlider(2001, 2100, c(2001, 2100)),
                   title = mwText("Fictive time series"),
                   .translations = translations)
}

</code></pre>

<hr>
<h2 id='staticPlot'>Include a static image in a combinedWidgets</h2><span id='topic+staticPlot'></span><span id='topic+staticImage'></span>

<h3>Description</h3>

<p><code>staticPlot</code> is a function that generates a static plot and then return
the HTML code needed to include the plot in a combinedWidgets.
<code>staticImage</code> is a more general function that generates the HTML code
necessary to include any image file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>staticPlot(expr, width = 600, height = 400)

staticImage(file, style = "max-width:100%%;max-height:100%%")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="staticPlot_+3A_expr">expr</code></td>
<td>
<p>Expression that creates a static plot.</p>
</td></tr>
<tr><td><code id="staticPlot_+3A_width">width</code></td>
<td>
<p>Width of the image to create.</p>
</td></tr>
<tr><td><code id="staticPlot_+3A_height">height</code></td>
<td>
<p>Height of the image to create.</p>
</td></tr>
<tr><td><code id="staticPlot_+3A_file">file</code></td>
<td>
<p>path of the image to include.</p>
</td></tr>
<tr><td><code id="staticPlot_+3A_style">style</code></td>
<td>
<p>CSS style to apply to the image.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>shiny.tag</code> object containing the HTML code required to include
the image or the plot in a <code>combinedWidgets</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>staticPlot(hist(rnorm(100)))

if (require(plotly)) {
  data(iris)

  combineWidgets(
    plot_ly(iris, x = ~Sepal.Length, type = "histogram", nbinsx = 20),
    staticPlot(hist(iris$Sepal.Length, breaks = 20), height = 300)
  )

  # You can also embed static images in the header, footer, left or right
  # columns of a combinedWidgets. The advantage is that the space allocated
  # to the static plot will be constant when the window is resized.

  combineWidgets(
    plot_ly(iris, x = ~Sepal.Length, type = "histogram", nbinsx = 20),
    footer = staticPlot(hist(iris$Sepal.Length, breaks = 20), height = 300)
  )
}

</code></pre>

<hr>
<h2 id='summary.MWController'>summary method for MWController object</h2><span id='topic+summary.MWController'></span>

<h3>Description</h3>

<p>summary method for MWController object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'MWController'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="summary.MWController_+3A_object">object</code></td>
<td>
<p>MWController object</p>
</td></tr>
<tr><td><code id="summary.MWController_+3A_...">...</code></td>
<td>
<p>Not use</p>
</td></tr>
</table>

<hr>
<h2 id='worldEnergyUse'>Evolution of energy use per country</h2><span id='topic+worldEnergyUse'></span>

<h3>Description</h3>

<p>Data.frame containing energy consumption per country from 1960 to 2014. The
data comes from the World Bank website. It contains one line per
couple(country, year) and has the following columns:
</p>


<h3>Usage</h3>

<pre><code class='language-R'>worldEnergyUse
</code></pre>


<h3>Format</h3>

<p>An object of class <code>data.frame</code> with 9375 rows and 15 columns.
</p>


<h3>Details</h3>


<ul>
<li><p> country Country name
</p>
</li>
<li><p> iso2c Country code in two characters
</p>
</li>
<li><p> year Year
</p>
</li>
<li><p> population Population of the country
</p>
</li>
<li><p> energy_used_per_capita Energy used per capita in kg of oil equivalent (EG.USE.PCAP.KG.OE)
</p>
</li>
<li><p> energy_imported_prop Proportion of energy used that has been imported (EG.IMP.CONS.ZS)
</p>
</li>
<li><p> energy_fossil_prop Fossil fuel energy consumption in proportion of total consumption (EG.USE.COMM.FO.ZS)
</p>
</li>
<li><p> energy_used Energy consumption in kg of oil equivalent
</p>
</li>
<li><p> energy_fossil Fossil fuel energy consumption in kg of oil equivalent
</p>
</li>
<li><p> prop_world_energy_used Share of the country in the world energy consumption
</p>
</li>
<li><p> prop_world_energy_fossil Share of the country in the world fossil energy consumption
</p>
</li>
<li><p> prop_world_population Share of the country in the world population
</p>
</li>
<li><p> long Longitude of the country
</p>
</li>
<li><p> lat Lattitude of the country
</p>
</li>
<li><p> region Region of the country
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Franois Guillem <a href="mailto:guillem.francois@gmail.com">guillem.francois@gmail.com</a>
</p>


<h3>References</h3>

<p><a href="https://data.worldbank.org/indicator">https://data.worldbank.org/indicator</a>
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

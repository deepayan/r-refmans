<!DOCTYPE html><html lang="en"><head><title>Help for package imuf</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {imuf}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#imuf-package'><p>imuf: Estimate Orientation of an Inertial Measurement Unit</p></a></li>
<li><a href='#animate_imu'><p>Animate movement of an inertial measurement unit</p></a></li>
<li><a href='#animate_imu-shiny'><p>Shiny bindings for animate_imu</p></a></li>
<li><a href='#compUpdate'><p>Update orientation with 3-axis acc and gyr data</p></a></li>
<li><a href='#imu_object'><p>Animate in real time movement of an inertial measurement unit in shiny</p></a></li>
<li><a href='#imu_object-shiny'><p>Shiny bindings for imu_object</p></a></li>
<li><a href='#imu_object-update'><p>Update a widget in shiny with an orientation</p></a></li>
<li><a href='#rotV'><p>Rotate a 3-vector by a quaternion</p></a></li>
<li><a href='#walking_shin_1'><p>University of Mannheim Real World Activities</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Estimate Orientation of an Inertial Measurement Unit</td>
</tr>
<tr>
<td>Version:</td>
<td>0.6.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Estimate the orientation of an inertial measurement unit 
    (IMU) with a 3-axis accelerometer and a 3-axis gyroscope using a 
    complementary filter. 'imuf' takes an IMU's accelerometer and gyroscope 
    readings, time duration, its initial orientation, and a gain factor as 
    inputs, and returns an estimate of the IMU's final orientation.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp, RcppEigen</td>
</tr>
<tr>
<td>Imports:</td>
<td>htmltools, htmlwidgets, Rcpp</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, testthat (&ge; 3.0.0), purrr, ggplot2, shiny,
serial, stringr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/gitboosting/imuf">https://github.com/gitboosting/imuf</a>,
<a href="https://gitboosting.github.io/imuf/">https://gitboosting.github.io/imuf/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/gitboosting/imuf/issues">https://github.com/gitboosting/imuf/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-02-12 15:07:36 UTC; mkcha</td>
</tr>
<tr>
<td>Author:</td>
<td>Felix Chan [aut, cre, cph],
  Ricardo Cabello [cph] ('three.js' JavaScript library)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Felix Chan &lt;chanfelix@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-02-12 15:30:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='imuf-package'>imuf: Estimate Orientation of an Inertial Measurement Unit</h2><span id='topic+imuf'></span><span id='topic+imuf-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>Estimate the orientation of an inertial measurement unit (IMU) with a 3-axis accelerometer and a 3-axis gyroscope using a complementary filter. 'imuf' takes an IMU's accelerometer and gyroscope readings, time duration, its initial orientation, and a gain factor as inputs, and returns an estimate of the IMU's final orientation.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Felix Chan <a href="mailto:chanfelix@gmail.com">chanfelix@gmail.com</a> [copyright holder]
</p>
<p>Other contributors:
</p>

<ul>
<li><p> Ricardo Cabello ('three.js' JavaScript library) [copyright holder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/gitboosting/imuf">https://github.com/gitboosting/imuf</a>
</p>
</li>
<li> <p><a href="https://gitboosting.github.io/imuf/">https://gitboosting.github.io/imuf/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/gitboosting/imuf/issues">https://github.com/gitboosting/imuf/issues</a>
</p>
</li></ul>


<hr>
<h2 id='animate_imu'>Animate movement of an inertial measurement unit</h2><span id='topic+animate_imu'></span>

<h3>Description</h3>

<p>Create interactive animated movements of an inertial measurement unit
</p>


<h3>Usage</h3>

<pre><code class='language-R'>animate_imu(data, dt, width = NULL, height = NULL, elementId = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="animate_imu_+3A_data">data</code></td>
<td>
<p>A <code>list</code> of numeric 4-vectors each of which a unit quaternion (w,x,y,z)</p>
</td></tr>
<tr><td><code id="animate_imu_+3A_dt">dt</code></td>
<td>
<p>A numeric of time duration in milli-seconds</p>
</td></tr>
<tr><td><code id="animate_imu_+3A_width">width</code>, <code id="animate_imu_+3A_height">height</code></td>
<td>
<p>width and height of animate_imu htmlwidget
specified in any valid <code>CSS</code> size unit</p>
</td></tr>
<tr><td><code id="animate_imu_+3A_elementid">elementId</code></td>
<td>
<p><code>string</code> id as a valid <code>CSS</code> element id.</p>
</td></tr>
</table>

<hr>
<h2 id='animate_imu-shiny'>Shiny bindings for animate_imu</h2><span id='topic+animate_imu-shiny'></span><span id='topic+animate_imuOutput'></span><span id='topic+renderAnimate_imu'></span>

<h3>Description</h3>

<p>Output and render functions for using animate_imu within Shiny
applications and interactive Rmd documents.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>animate_imuOutput(outputId, width = "100%", height = "400px")

renderAnimate_imu(expr, env = parent.frame(), quoted = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="animate_imu-shiny_+3A_outputid">outputId</code></td>
<td>
<p>output variable to read from</p>
</td></tr>
<tr><td><code id="animate_imu-shiny_+3A_width">width</code>, <code id="animate_imu-shiny_+3A_height">height</code></td>
<td>
<p>Must be a valid CSS unit (like <code>'100%'</code>,
<code>'400px'</code>, <code>'auto'</code>) or a number, which will be coerced to a
string and have <code>'px'</code> appended.</p>
</td></tr>
<tr><td><code id="animate_imu-shiny_+3A_expr">expr</code></td>
<td>
<p>An expression that generates a animate_imu</p>
</td></tr>
<tr><td><code id="animate_imu-shiny_+3A_env">env</code></td>
<td>
<p>The environment in which to evaluate <code>expr</code>.</p>
</td></tr>
<tr><td><code id="animate_imu-shiny_+3A_quoted">quoted</code></td>
<td>
<p>Is <code>expr</code> a quoted expression (with <code>quote()</code>)? This
is useful if you want to save an expression in a variable.</p>
</td></tr>
</table>

<hr>
<h2 id='compUpdate'>Update orientation with 3-axis acc and gyr data</h2><span id='topic+compUpdate'></span>

<h3>Description</h3>

<p><code>compUpdate()</code> uses complementary filtering to update the orientation, given
an initial orientation, readings of a 3-axis accelerometer and a 3-axis
gyroscope. time duration, and a gain factor
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compUpdate(acc, gyr, dt, initQuat, gain)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="compUpdate_+3A_acc">acc</code></td>
<td>
<p>A numeric 3-vector of 3-axis accelerometer readings in g</p>
</td></tr>
<tr><td><code id="compUpdate_+3A_gyr">gyr</code></td>
<td>
<p>A numeric 3-vector of 3-axis gyroscope readings in rad/sec</p>
</td></tr>
<tr><td><code id="compUpdate_+3A_dt">dt</code></td>
<td>
<p>A numeric of time duration in sec</p>
</td></tr>
<tr><td><code id="compUpdate_+3A_initquat">initQuat</code></td>
<td>
<p>A numeric 4-vector of the starting orientation in quaternion</p>
</td></tr>
<tr><td><code id="compUpdate_+3A_gain">gain</code></td>
<td>
<p>A numeric gain factor between 0 and 1</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric 4-vector of the ending orientation in quaternion
</p>


<h3>Examples</h3>

<pre><code class='language-R'>compUpdate(c(0, 0, -1), c(1, 0, 0), 0.1, c(1, 0, 0, 0), 0.1)

</code></pre>

<hr>
<h2 id='imu_object'>Animate in real time movement of an inertial measurement unit in shiny</h2><span id='topic+imu_object'></span>

<h3>Description</h3>

<p>Create in real time animated movements of an inertial measurement unit in shiny
</p>


<h3>Usage</h3>

<pre><code class='language-R'>imu_object(data = c(1, 0, 0, 0), width = NULL, height = NULL, elementId = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="imu_object_+3A_data">data</code></td>
<td>
<p>A <code>vector</code> of numeric 4-vectors each of which a unit quaternion (w,x,y,z)</p>
</td></tr>
<tr><td><code id="imu_object_+3A_width">width</code>, <code id="imu_object_+3A_height">height</code></td>
<td>
<p>width and height of imu_object htmlwidget
specified in any valid <code>CSS</code> size unit</p>
</td></tr>
<tr><td><code id="imu_object_+3A_elementid">elementId</code></td>
<td>
<p><code>string</code> id as a valid <code>CSS</code> element id.</p>
</td></tr>
</table>

<hr>
<h2 id='imu_object-shiny'>Shiny bindings for imu_object</h2><span id='topic+imu_object-shiny'></span><span id='topic+imu_objectOutput'></span><span id='topic+renderImu_object'></span>

<h3>Description</h3>

<p>Output and render functions for using imu_object within Shiny
applications and interactive Rmd documents.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>imu_objectOutput(outputId, width = "100%", height = "400px")

renderImu_object(expr, env = parent.frame(), quoted = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="imu_object-shiny_+3A_outputid">outputId</code></td>
<td>
<p>output variable to read from</p>
</td></tr>
<tr><td><code id="imu_object-shiny_+3A_width">width</code>, <code id="imu_object-shiny_+3A_height">height</code></td>
<td>
<p>Must be a valid CSS unit (like <code>'100%'</code>,
<code>'400px'</code>, <code>'auto'</code>) or a number, which will be coerced to a
string and have <code>'px'</code> appended.</p>
</td></tr>
<tr><td><code id="imu_object-shiny_+3A_expr">expr</code></td>
<td>
<p>An expression that generates a imu_object</p>
</td></tr>
<tr><td><code id="imu_object-shiny_+3A_env">env</code></td>
<td>
<p>The environment in which to evaluate <code>expr</code>.</p>
</td></tr>
<tr><td><code id="imu_object-shiny_+3A_quoted">quoted</code></td>
<td>
<p>Is <code>expr</code> a quoted expression (with <code>quote()</code>)? This
is useful if you want to save an expression in a variable.</p>
</td></tr>
</table>

<hr>
<h2 id='imu_object-update'>Update a widget in shiny with an orientation</h2><span id='topic+imu_object-update'></span><span id='topic+imu_proxy'></span><span id='topic+imu_send_data'></span>

<h3>Description</h3>

<p>Pair of functions used in conjunction to update a imu_object widget
</p>


<h3>Usage</h3>

<pre><code class='language-R'>imu_proxy(id, session = shiny::getDefaultReactiveDomain())

imu_send_data(proxy, data)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="imu_object-update_+3A_id">id</code></td>
<td>
<p>HTML element id that houses the html widget</p>
</td></tr>
<tr><td><code id="imu_object-update_+3A_session">session</code></td>
<td>
<p>shiny session - default to current session</p>
</td></tr>
<tr><td><code id="imu_object-update_+3A_proxy">proxy</code></td>
<td>
<p>imu_proxy output to be used as input to imu_send_data</p>
</td></tr>
<tr><td><code id="imu_object-update_+3A_data">data</code></td>
<td>
<p>a numeric unit 4-vector (quaternion) for the updated orientation</p>
</td></tr>
</table>

<hr>
<h2 id='rotV'>Rotate a 3-vector by a quaternion</h2><span id='topic+rotV'></span>

<h3>Description</h3>

<p><code>rotV()</code> rotates a 3-vector by a quaternion expressed as a unit 4-vector in
(w,x,y,z) convention
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rotV(quat, vin)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rotV_+3A_quat">quat</code></td>
<td>
<p>A numeric unit 4-vector (w,x,y,z) for a rotation quaternion</p>
</td></tr>
<tr><td><code id="rotV_+3A_vin">vin</code></td>
<td>
<p>A numeric 3-vector to be rotated by quat</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric 3-vector after the rotation
</p>


<h3>Examples</h3>

<pre><code class='language-R'>q &lt;- c(cos(pi/4), sin(pi/4), 0, 0)
vin &lt;- c(0, 1, 0)
rotV(q, vin)

</code></pre>

<hr>
<h2 id='walking_shin_1'>University of Mannheim Real World Activities</h2><span id='topic+walking_shin_1'></span>

<h3>Description</h3>

<p>Accelerations and angular velocities captured by sensors of the mobile device
situated on the shin of subject 1 while the subject was walking for 10
minutes
</p>


<h3>Usage</h3>

<pre><code class='language-R'>walking_shin_1
</code></pre>


<h3>Format</h3>



<h4><code>walking_shin_1</code></h4>

<p>A data frame with 31,946 rows and 6 columns of accelerometer and gyroscope
measurements at 50 Hz
</p>

<dl>
<dt>acc_x, acc_y, acc_z</dt><dd><p>north, east and down acceleration in m/s^2</p>
</dd>
<dt>gyr_x, gyr_y, gyr_z</dt><dd><p>angular velocity about north, east and down in rad/sec</p>
</dd>
</dl>




<h3>Source</h3>

<p><a href="https://www.uni-mannheim.de/dws/research/projects/activity-recognition/dataset/dataset-realworld/s1/">https://www.uni-mannheim.de/dws/research/projects/activity-recognition/dataset/dataset-realworld/s1/</a>
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

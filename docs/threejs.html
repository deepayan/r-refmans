<!DOCTYPE html><html><head><title>Help for package threejs</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {threejs}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#ego'><p>Facebook social circles</p></a></li>
<li><a href='#flights'><p>Global flight example data from Callum Prentice.</p></a></li>
<li><a href='#gcol'><p>A basic internal color format parser</p></a></li>
<li><a href='#globejs'><p>Plot Data on 3D Globes</p></a></li>
<li><a href='#globeOutput'><p>Shiny bindings for threejs widgets</p></a></li>
<li><a href='#graphjs'><p>Interactive 3D Graph Visualization</p></a></li>
<li><a href='#LeMis'><p>Les Miserables Character Coappearance Data</p></a></li>
<li><a href='#light_ambient'><p>Plot illumination</p></a></li>
<li><a href='#light_directional'><p>Plot illumination</p></a></li>
<li><a href='#lines3d'><p>Add lines to a 3D scatterplot</p></a></li>
<li><a href='#points3d'><p>Add points to a 3D scatterplot</p></a></li>
<li><a href='#scatterplot3js'><p>Interactive 3D Scatterplots</p></a></li>
<li><a href='#texture'><p>Convert an image file or uri to a three.js texture</p></a></li>
<li><a href='#threejs-package'><p>Interactive 3D graphics including point clouds and globes using three.js and htmlwidgets.</p></a></li>
<li><a href='#vertices,scatterplotThree-method'><p>Extract a matrix of vertex coordinates from a threejs widget</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Interactive 3D Scatter Plots, Networks and Globes</td>
</tr>
<tr>
<td>Description:</td>
<td>Create interactive 3D scatter plots, network plots, and
    globes using the 'three.js' visualization library (<a href="https://threejs.org">https://threejs.org</a>).</td>
</tr>
<tr>
<td>Version:</td>
<td>0.3.3</td>
</tr>
<tr>
<td>Date:</td>
<td>2020-01-19</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://bwlewis.github.io/rthreejs">https://bwlewis.github.io/rthreejs</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/bwlewis/rthreejs/issues">https://github.com/bwlewis/rthreejs/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.0.0), igraph (&ge; 1.0.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>htmlwidgets (&ge; 0.3.2), base64enc, crosstalk, methods, stats</td>
</tr>
<tr>
<td>Suggests:</td>
<td>maps</td>
</tr>
<tr>
<td>Enhances:</td>
<td>knitr, shiny</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.0.2</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-01-21 15:03:57 UTC; blewis</td>
</tr>
<tr>
<td>Author:</td>
<td>B. W. Lewis [aut, cre, cph],
  Three.js authors [cph] (three.js library),
  jQuery Foundation [cph] (jQuery library),
  Alexey Stukalov [ctb],
  Yihui Xie [ctb],
  Andreas Briese [ctb],
  B. Thieurmel [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>B. W. Lewis &lt;blewis@illposed.net&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-01-21 15:50:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='ego'>Facebook social circles</h2><span id='topic+ego'></span>

<h3>Description</h3>

<p>A facebook social network subgraph obtained from the Stanford SNAP repository.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(ego)
</code></pre>


<h3>Format</h3>

<p>An igraph package undirected graph object with 4039 vertices and 88234 edges. The
graph includes a force-directed layout with vertices colored by the <code><a href="igraph.html#topic+cluster_fast_greedy">cluster_fast_greedy</a></code>
algorithm from the igraph package.</p>


<h3>Source</h3>

<p>Stanford SNAP network repository
<a href="http://snap.stanford.edu/data/facebook_combined.txt.gz">http://snap.stanford.edu/data/facebook_combined.txt.gz</a>
</p>


<h3>References</h3>

<p>J. McAuley and J. Leskovec. Learning to Discover Social Circles in Ego Networks. NIPS, 2012.
</p>

<hr>
<h2 id='flights'>Global flight example data from Callum Prentice.</h2><span id='topic+flights'></span>

<h3>Description</h3>

<p>Global flight example data from Callum Prentice.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(flights)
</code></pre>


<h3>Format</h3>

<p>A data frame with 34,296 observations of 4 variables, origin_lat, origin_long, dest_lat, and dest_long.</p>


<h3>Source</h3>

<p>See Callum Prentice
<a href="https://raw.githubusercontent.com/callumprentice/callumprentice.github.io/master/apps/flight_stream/js/flights_one.js">https://raw.githubusercontent.com/callumprentice/callumprentice.github.io/master/apps/flight_stream/js/flights_one.js</a>
</p>

<hr>
<h2 id='gcol'>A basic internal color format parser</h2><span id='topic+gcol'></span>

<h3>Description</h3>

<p>A basic internal color format parser
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gcol(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gcol_+3A_x">x</code></td>
<td>
<p>a character-valued color name</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list of 3-hex-digit color values and scalar numeric alpha values
</p>

<hr>
<h2 id='globejs'>Plot Data on 3D Globes</h2><span id='topic+globejs'></span>

<h3>Description</h3>

<p>Plot points, arcs and images on a globe in 3D using Three.js. The globe
can be rotated and and zoomed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>globejs(
  img = system.file("images/world.jpg", package = "threejs"),
  lat,
  long,
  value = 40,
  color = "#00ffff",
  arcs,
  arcsColor = "#99aaff",
  arcsHeight = 0.4,
  arcsLwd = 1,
  arcsOpacity = 0.2,
  atmosphere = FALSE,
  bg = "black",
  height = NULL,
  width = NULL,
  elementId = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="globejs_+3A_img">img</code></td>
<td>
<p>A character string representing a file path or URI of an image to plot on the globe surface.</p>
</td></tr>
<tr><td><code id="globejs_+3A_lat">lat</code></td>
<td>
<p>Optional data point decimal latitudes, must be of same length as <code>long</code>
(negative values indicate south, positive north).</p>
</td></tr>
<tr><td><code id="globejs_+3A_long">long</code></td>
<td>
<p>Optional data point decimal longitudes, must be of same length as <code>lat</code>
(negative values indicate west, positive east).</p>
</td></tr>
<tr><td><code id="globejs_+3A_value">value</code></td>
<td>
<p>Either a single value indicating the height of all data points, or a vector of
values of the same length as <code>lat</code> indicating height of each point.</p>
</td></tr>
<tr><td><code id="globejs_+3A_color">color</code></td>
<td>
<p>Either a single color value indicating the color of all data points, or a
vector of values of the same length as <code>lat</code> indicating color of each point.</p>
</td></tr>
<tr><td><code id="globejs_+3A_arcs">arcs</code></td>
<td>
<p>Optional four-column data frame specifying arcs to plot. The columns of the data frame,
in order, must indicate the starting latitude, starting longitude, ending latitude, and ending longitude.</p>
</td></tr>
<tr><td><code id="globejs_+3A_arcscolor">arcsColor</code></td>
<td>
<p>Either a single color value indicating the color of all arcs, or a vector of values
of the same length as the number of rows of <code>arcs</code>.</p>
</td></tr>
<tr><td><code id="globejs_+3A_arcsheight">arcsHeight</code></td>
<td>
<p>A single value between 0 and 1 controlling the height above the globe of each arc.</p>
</td></tr>
<tr><td><code id="globejs_+3A_arcslwd">arcsLwd</code></td>
<td>
<p>Either a single value indicating the line width of all arcs, or a vector of values of
the same length as the number of rows of <code>arcs</code>.</p>
</td></tr>
<tr><td><code id="globejs_+3A_arcsopacity">arcsOpacity</code></td>
<td>
<p>A single value between 0 and 1 indicating the opacity of all arcs.</p>
</td></tr>
<tr><td><code id="globejs_+3A_atmosphere">atmosphere</code></td>
<td>
<p>TRUE enables WebGL atmpsphere effect.</p>
</td></tr>
<tr><td><code id="globejs_+3A_bg">bg</code></td>
<td>
<p>Plot background color.</p>
</td></tr>
<tr><td><code id="globejs_+3A_height">height</code></td>
<td>
<p>The container div height.</p>
</td></tr>
<tr><td><code id="globejs_+3A_width">width</code></td>
<td>
<p>The container div width.</p>
</td></tr>
<tr><td><code id="globejs_+3A_elementid">elementId</code></td>
<td>
<p>Use an explicit element ID for the widget (rather than an automatically generated one). Useful if you have other JavaScript that needs to explicitly discover and interact with a specific widget instance.</p>
</td></tr>
<tr><td><code id="globejs_+3A_...">...</code></td>
<td>
<p>Additional arguments to pass to the three.js renderer (see
below for more information on these options).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An htmlwidget object (displayed using the object's show or print method).
</p>


<h3>Available rendering options</h3>


<ul>
<li><p>&quot;bodycolor&quot; The diffuse reflective color of the globe.
</p>
</li>
<li><p>&quot;emissive&quot; The emissive color of the globe object.
</p>
</li>
<li><p>&quot;lightcolor&quot; The color of the ambient light in the scene.
</p>
</li>
<li><p>&quot;fov&quot; The initial field of view, default is 35.
</p>
</li>
<li><p>&quot;rotationlat&quot; The initial globe latitudinal rotation in radians, default is 0.
</p>
</li>
<li><p>&quot;rotationlong&quot; The initial globe longitudinal rotation in radians, default is 0.
</p>
</li>
<li><p>&quot;pointsize&quot; The numeric size of the points/bars, default is 1.
</p>
</li>
<li><p>&quot;renderer&quot; Manually set the three.js renderer to one of 'auto' or 'canvas'.
The canvas renderer works across a greater variety of
viewers and browsers. The default setting of 'auto' automatically chooses
WebGL rendering if it's available.
</p>
</li></ul>

<p>Specify colors with standard color names or hex color representations.
The default values (well-suited to many earth-like map images) are
<code>lightcolor = "#aaeeff"</code>, <code>emissive = "#000000"</code>, and <code>bodycolor = "#ffffff"</code>.
Larger <code>fov</code> values result in a smaller (zoomed out) globe.
The latitude and longitude rotation values are relative to the center of
the map image. Their default values of zero radians result in the front of the
globe corresponding to the center of the flat map image.
</p>


<h3>Note</h3>

<p>The <code>img</code> argument specifies the WebGL texture image to wrap on a
sphere. If you plan to plot points using <code>lat</code> and <code>lon</code>
the image must be a plate carree (aka lat/long) equirectangular
map projection; see
<a href="https://en.wikipedia.org/wiki/Equirectangular_projection">https://en.wikipedia.org/wiki/Equirectangular_projection</a> for
details.
Lat/long maps are commonly found for most planetary bodies in the
solar system, and are also easily generated directly in R
(see the references and examples below).
</p>


<h3>References</h3>

<p>The three.js project <a href="http://threejs.org">http://threejs.org</a>.
(The corresponding three.js javascript file is in
<code> system.file("htmlwidgets/globejs",package="threejs")</code>.)
</p>
<p>An excellent overview of available map coordinate reference systems (PDF):
<a href="https://www.nceas.ucsb.edu/~frazier/RSpatialGuides/OverviewCoordinateReferenceSystems.pdf">https://www.nceas.ucsb.edu/~frazier/RSpatialGuides/OverviewCoordinateReferenceSystems.pdf</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Plot flights to frequent destinations from Callum Prentice's
# global flight data set,
# http://callumprentice.github.io/apps/flight_stream/index.html
data(flights)
# Approximate locations as factors
dest   &lt;- factor(sprintf("%.2f:%.2f",flights[,3], flights[,4]))
# A table of destination frequencies
freq &lt;- sort(table(dest), decreasing=TRUE)
# The most frequent destinations in these data, possibly hub airports?
frequent_destinations &lt;- names(freq)[1:10]
# Subset the flight data by destination frequency
idx &lt;- dest %in% frequent_destinations
frequent_flights &lt;- flights[idx, ]
# Lat/long and counts of frequent flights
ll &lt;- unique(frequent_flights[,3:4])
# Plot frequent destinations as bars, and the flights to and from
# them as arcs. Adjust arc width and color by frequency.
globejs(lat=ll[, 1], long=ll[, 2], arcs=frequent_flights,
        bodycolor="#aaaaff", arcsHeight=0.3, arcsLwd=2,
        arcsColor="#ffff00", arcsOpacity=0.15,
        atmosphere=TRUE, color="#00aaff", pointsize=0.5)

## Not run: 
# Plot populous world cities from the maps package.
library(threejs)
library(maps)
data(world.cities, package="maps")
cities &lt;- world.cities[order(world.cities$pop, decreasing=TRUE)[1:1000],]
value  &lt;- 100 * cities$pop / max(cities$pop)
col &lt;- colorRampPalette(c("cyan", "lightgreen"))(10)[floor(10 * value/100) + 1]
globejs(lat=cities$lat, long=cities$long, value=value, color=col, atmosphere=TRUE)

# Plot the data on the moon:
moon &lt;- system.file("images/moon.jpg", package="threejs")
globejs(img=moon, bodycolor="#555555", lightcolor="#aaaaaa",
        lat=cities$lat, long=cities$long,
        value=value, color=col)

# Using global plots from the maptools, rworldmap, or sp packages.

# Instead of using ready-made images of the earth, we can use
# many R spatial imaging packages to produce globe images
# dynamically. With a little extra effort you can build globes with total
# control over how they are plotted.

library(maptools)
library(threejs)
data(wrld_simpl)

bgcolor &lt;- "#000025"
earth &lt;- tempfile(fileext=".jpg")

# NOTE: Use antialiasing to smooth border boundary lines. But! Set the jpeg
# background color to the globe background color to avoid a visible aliasing
# effect at the the plot edges.

jpeg(earth, width=2048, height=1024, quality=100, bg=bgcolor, antialias="default")
par(mar = c(0,0,0,0), pin = c(4,2), pty = "m",  xaxs = "i",
    xaxt = "n",       xpd = FALSE,  yaxs = "i", bty = "n", yaxt = "n")
plot(wrld_simpl, col="black", bg=bgcolor, border="cyan", ann=FALSE,
     setParUsrBB=TRUE)
dev.off()
globejs(earth)

# A shiny example:
shiny::runApp(system.file("examples/globe",package="threejs"))

## End(Not run)

# See http://bwlewis.github.io/rthreejs for additional examples.
</code></pre>

<hr>
<h2 id='globeOutput'>Shiny bindings for threejs widgets</h2><span id='topic+globeOutput'></span><span id='topic+renderGlobe'></span><span id='topic+scatterplotThreeOutput'></span><span id='topic+renderScatterplotThree'></span><span id='topic+threejs-shiny'></span>

<h3>Description</h3>

<p>Output and render functions for using threejs widgets within Shiny
applications and interactive Rmd documents.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>globeOutput(outputId, width = "100%", height = "600px")

renderGlobe(expr, env = parent.frame(), quoted = FALSE)

scatterplotThreeOutput(outputId, width = "100%", height = "500px")

renderScatterplotThree(expr, env = parent.frame(), quoted = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="globeOutput_+3A_outputid">outputId</code></td>
<td>
<p>output variable to read from</p>
</td></tr>
<tr><td><code id="globeOutput_+3A_width">width</code>, <code id="globeOutput_+3A_height">height</code></td>
<td>
<p>Must be a valid CSS unit (like <code>"100%"</code>,
<code>"400px"</code>, <code>"auto"</code>) or a number, which will be coerced to a
string and have <code>"px"</code> appended.</p>
</td></tr>
<tr><td><code id="globeOutput_+3A_expr">expr</code></td>
<td>
<p>An expression that generates threejs graphics.</p>
</td></tr>
<tr><td><code id="globeOutput_+3A_env">env</code></td>
<td>
<p>The environment in which to evaluate <code>expr</code>.</p>
</td></tr>
<tr><td><code id="globeOutput_+3A_quoted">quoted</code></td>
<td>
<p>Is <code>expr</code> a quoted expression (with <code>quote()</code>)? This
is useful if you want to save an expression in a variable.</p>
</td></tr>
</table>

<hr>
<h2 id='graphjs'>Interactive 3D Graph Visualization</h2><span id='topic+graphjs'></span>

<h3>Description</h3>

<p>Make interactive 3D plots of <code><a href="igraph.html#topic+igraph">igraph</a></code> objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>graphjs(
  g,
  layout,
  vertex.color,
  vertex.size,
  vertex.shape,
  vertex.label,
  edge.color,
  edge.width,
  edge.alpha,
  main = "",
  bg = "white",
  width = NULL,
  height = NULL,
  elementId = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="graphjs_+3A_g">g</code></td>
<td>
<p>an <code><a href="igraph.html#topic+igraph">igraph</a></code> graph object or a list of <code>igraph</code> objects (see notes)</p>
</td></tr>
<tr><td><code id="graphjs_+3A_layout">layout</code></td>
<td>
<p>optional graph layout or list of layouts (see notes)</p>
</td></tr>
<tr><td><code id="graphjs_+3A_vertex.color">vertex.color</code></td>
<td>
<p>optional vertex color or vector of colors as long as the number of vertices in <code>g</code></p>
</td></tr>
<tr><td><code id="graphjs_+3A_vertex.size">vertex.size</code></td>
<td>
<p>optional vertex size or vector of sizes</p>
</td></tr>
<tr><td><code id="graphjs_+3A_vertex.shape">vertex.shape</code></td>
<td>
<p>optional vertex shape or vector of shapes</p>
</td></tr>
<tr><td><code id="graphjs_+3A_vertex.label">vertex.label</code></td>
<td>
<p>optional mouse-over vertex label or vector of labels</p>
</td></tr>
<tr><td><code id="graphjs_+3A_edge.color">edge.color</code></td>
<td>
<p>optional edge color or vector of colors as long as the number of edges in <code>g</code></p>
</td></tr>
<tr><td><code id="graphjs_+3A_edge.width">edge.width</code></td>
<td>
<p>optional edge width (single scalar value, see notes)</p>
</td></tr>
<tr><td><code id="graphjs_+3A_edge.alpha">edge.alpha</code></td>
<td>
<p>optional single numeric edge transparency value</p>
</td></tr>
<tr><td><code id="graphjs_+3A_main">main</code></td>
<td>
<p>plot title text</p>
</td></tr>
<tr><td><code id="graphjs_+3A_bg">bg</code></td>
<td>
<p>plot background color</p>
</td></tr>
<tr><td><code id="graphjs_+3A_width">width</code></td>
<td>
<p>the widget container <code>div</code> width in pixels</p>
</td></tr>
<tr><td><code id="graphjs_+3A_height">height</code></td>
<td>
<p>the widget container <code>div</code> height in pixels</p>
</td></tr>
<tr><td><code id="graphjs_+3A_elementid">elementId</code></td>
<td>
<p>Use an explicit element ID for the widget (rather than an automatically generated one). Useful if you have other JavaScript that needs to explicitly discover and interact with a specific widget instance.</p>
</td></tr>
<tr><td><code id="graphjs_+3A_...">...</code></td>
<td>
<p>optional additional arguments passed to <code><a href="#topic+scatterplot3js">scatterplot3js</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>An htmlwidget object that is displayed using the object's show or print method.
(If you don't see your widget plot, try printing it with the <code>print</code> function.)
</p>


<h3>Interacting with the plot</h3>

<p>Press and hold the left mouse button, or touch or trackpad equivalent, and move
the mouse to rotate the plot. Press and hold the right mouse button
to pan. Use the mouse scroll wheel to zoom.
If <code>vertex.label</code>s are specified (see below), moving the mouse pointer over
a point will display the label. Altenatively use <code>vertex.shape</code> to plot
character names as shown in the examples below.
Set the optional experimental <code>use.orbitcontrols=TRUE</code> argument to
use a more CPU-efficient but somewhat less fluid mouse/touch interface.
</p>


<h3>Layout options</h3>

<p>Use the <code>layout</code> parameter to control the visualization layout by supplying
either a three-column matrix of vertex <code>x, y, z</code> coordinates, or a function
that returns such a layout. The igraph <code><a href="igraph.html#topic+layout_with_fr">layout_with_fr</a></code> force-directed
layout is used by default (note that only 3D layouts are supported). Also see
the animation section below.
</p>


<h3>Vertex options</h3>

<p>Optional parameters beginning with <code>vertex.</code> represent a subset of the igraph package
vertex visualization options and work similarly, see <code>link{igraph.plotting}</code>.
Vertex shapes in <code>graphjs</code> act somewhat differently, and are mapped to the
<code>pch</code> option in <code><a href="#topic+scatterplot3js">scatterplot3js</a></code>. In particular, <code>pch</code>
character symbols or even short text strings may be specified. The <code>vertex.label</code>
option enables a mouse-over label display instead of plotting lables directly near the vertices.
(Consider using the text <code>pch</code> options for that instead.)
</p>


<h3>Edge options</h3>

<p>Optional parameters beginning with <code>edge.</code> represent a subset of the igraph
edge visualization options and work similarly as the <code>vertex.</code> options above.
The current version of the package only supports uniform edge widths specified by
a single scalar value. This choice was made for performance reasons to support large
visualizations.
</p>


<h3>Graph animation</h3>

<p>Specifying a list of three-column layout matrices in <code>layout</code> displays
a linear interpolation from one layout to the next, providing a simple mechanism
for graph animation. Each layout must have the same number of rows as the number
of vertices in the graph.
</p>
<p>Specify the optional <code>fpl</code> (frames per layout) parameter to control the
number of interpolating animation frames between layouts. See the examples.
</p>
<p>Optionally specify a list of graph objects in <code>g</code> to vary the displayed edges
and edge colors from one layout to the next, with the restriction that each graph
object must refer to a uniform number of vertices.
</p>
<p>The lists of graphs may optionally include varying vertex and edge colors.
Alternatively, specify a list of <code>vertex.color</code> vectors (one
for each layout) to animate vertex colors. Similarly, optionally specify a
list of <code>edge.color</code> vectors to animate edge colors.
</p>
<p>Optionally provide a list of <code>main</code> title text strings to vary the
title with each animation layout.
</p>
<p>None of the other plot parameters may be animated.
</p>


<h3>Click animation</h3>

<p>Specify the option <code>click=list</code> to animate the graph when specified vertices
are clicked interactively, where <code>list</code> is a named list of animation entries.
Each entry must itself be a list with the following entries
</p>

<ul>
<li><p>g optional a single igraph object with the same number of vertices
as <code>g</code> above (if specified this must be the first entry)
</p>
</li>
<li><p>layout - optional a single igraph layout, or differential layout if <code>cumulative=TRUE</code>
</p>
</li>
<li><p>vertex.color - optional single vector of vertex colors
</p>
</li>
<li><p>edge.color - optional single vector of edge colors
</p>
</li>
<li><p>cumulative - optional boolean entry, if <code>TRUE</code> then vertex positions are
added to current plot, default is <code>FALSE</code>
</p>
</li></ul>

<p>At least one of <code>g</code> or <code>layout</code> must be specified in each animation list entry.
The layouts and colors may be alternatively imbedded in the igraph object itself.
Each animation list entry must be named by a number corresponding to the vertex
enumeration in <code>g</code>. An animation sequence is triggered when a corresponding
vertex is clicked. For instance, to trigger animations when vertices number 1 or 5 are
clicked, include list entries labeled <code>"1"</code> and <code>"5"</code>.
See the demos in <code>demo(package="threejs")</code> for detailed examples.
</p>


<h3>Other interactions</h3>

<p>Specify the argument <code>brush=TRUE</code> to highlight a clicked vertex and
its directly connected edges (click off of a vertex to reset the display).
Optionally set the <code>highlight=&lt;hex color&gt;</code> and <code>lowlight=&lt;hex color&gt;</code>
to manually control the brushing display colors.
</p>


<h3>Crosstalk</h3>

<p><code>graphjs()</code> works with
crosstalk selection (but not filtering yet); see https://rstudio.github.io/crosstalk/.
Enable crosstalk by supplying the optional agrument <code>crosstalk=df</code>, where <code>df</code> is a
crosstalk-SharedData data.frame-like object with the same number of rows as graph vertices
(see the examples).
</p>


<h3>Note</h3>

<p>Edge transparency values specified as part of <code>edge.color</code> are ignored, however
you can set an overall transparency for edges with <code>edge.alpha</code>.
</p>


<h3>References</h3>

<p>The three.js project <a href="http://threejs.org">http://threejs.org</a>.
</p>


<h3>See Also</h3>

<p><code><a href="igraph.html#topic+igraph.plotting">igraph.plotting</a></code>, <code><a href="#topic+scatterplot3js">scatterplot3js</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(1)
g &lt;- sample_islands(3, 10, 5/10, 1)
i &lt;- cluster_louvain(g)
(graphjs(g, vertex.color=c("orange", "green", "blue")[i$membership], vertex.shape="sphere"))

# similar example with user-defined directional lighting
l1 = light_directional(color = "red", position = c(0, -0.8, 0.5))
l2 = light_directional(color = "yellow", position = c(0, 0.8, -0.5))
l3 = light_ambient(color = "#555555")
(graphjs(g, vertex.color="gray", vertex.shape="sphere", lights=list(l1, l2, l3)))

# Les Miserables Character Co-appearance Data
data("LeMis")
(graphjs(LeMis))

# ...plot Character names
(graphjs(LeMis, vertex.shape=V(LeMis)$label))

# SNAP Facebook ego network dataset
data("ego")
(graphjs(ego, bg="black"))

## Not run: 
# A shiny example
shiny::runApp(system.file("examples/graph", package="threejs"))

# A graph amination that shows several layouts
data("LeMis")
graphjs(LeMis,
  layout=list(
    layout_randomly(LeMis, dim=3),
    layout_on_sphere(LeMis),
    layout_with_drl(LeMis, dim=3),  # note! somewhat slow...
    layout_with_fr(LeMis, dim=3, niter=30)),
  main=list("random layout", "sphere layout", "drl layout", "fr layout"),
  fpl=300)

# A simple graph animation illustrating edge modification
g &lt;- make_ring(5) - edges(1:5)
graph_list &lt;- list(
 g + edge(1, 2),
 g + edge(1, 2) + edge(2, 3),
 g + edge(1, 2) + edge(2, 3) + edge(3, 4),
 g + edge(1, 2) + edge(2, 3) + edge(3, 4) + edge(4, 5),
 g + edge(1, 2) + edge(2, 3) + edge(3, 4) + edge(4, 5) + edge(5, 1))
 graphjs(graph_list, main=paste(1:5),
   vertex.color=rainbow(5), vertex.shape="sphere", edge.width=3)

# see `demo(package="threejs") for more animation demos.

# A crosstalk example
library(crosstalk)
library(DT)
data(LeMis)
sd = SharedData$new(data.frame(Name = V(LeMis)$label))
print(bscols(
  graphjs(LeMis, brush=TRUE, crosstalk=sd),
  datatable(sd, rownames=FALSE, options=list(dom='tp'))
))

## End(Not run)

</code></pre>

<hr>
<h2 id='LeMis'>Les Miserables Character Coappearance Data</h2><span id='topic+LeMis'></span>

<h3>Description</h3>

<p>Les Miserables Character Coappearance Data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(LeMis)
</code></pre>


<h3>Format</h3>

<p>An igraph package graph object.</p>


<h3>Source</h3>

<p>Mike Bostock's D3.js force-directed graph example  <a href="http://bl.ocks.org/mbostock/4062045">http://bl.ocks.org/mbostock/4062045</a>.
Data based on character coappearence in Victor Hugo's Les Miserables, compiled by Donald Knuth
(<a href="http://www-cs-faculty.stanford.edu/~uno/sgb.html">http://www-cs-faculty.stanford.edu/~uno/sgb.html</a>).
</p>

<hr>
<h2 id='light_ambient'>Plot illumination</h2><span id='topic+light_ambient'></span>

<h3>Description</h3>

<p>Plot illumination
</p>


<h3>Usage</h3>

<pre><code class='language-R'>light_ambient(color = "#eeeeee")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="light_ambient_+3A_color">color</code></td>
<td>
<p>the ambient light color</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object for use with the <code>lights</code> argument in <code>scatterplot3js</code> and <code>graphjs</code>.
</p>

<hr>
<h2 id='light_directional'>Plot illumination</h2><span id='topic+light_directional'></span>

<h3>Description</h3>

<p>Plot illumination
</p>


<h3>Usage</h3>

<pre><code class='language-R'>light_directional(color = "#eeeeee", position = c(0, 0, 0))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="light_directional_+3A_color">color</code></td>
<td>
<p>the light color</p>
</td></tr>
<tr><td><code id="light_directional_+3A_position">position</code></td>
<td>
<p>the light position as an (x, y, z) coordinate vector with entries in [-1, 1]</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object for use with the <code>lights</code> argument in <code>scatterplot3js</code> and <code>graphjs</code>.
</p>

<hr>
<h2 id='lines3d'>Add lines to a 3D scatterplot</h2><span id='topic+lines3d'></span>

<h3>Description</h3>

<p>Add lines to a 3D scatterplot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lines3d(s, from, to, lwd = 1, alpha = 1, color)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lines3d_+3A_s">s</code></td>
<td>
<p>A scatterplot object returned by <code><a href="#topic+scatterplot3js">scatterplot3js</a></code>.</p>
</td></tr>
<tr><td><code id="lines3d_+3A_from">from</code></td>
<td>
<p>A vector of integer indices of starting points.</p>
</td></tr>
<tr><td><code id="lines3d_+3A_to">to</code></td>
<td>
<p>A vector of integer indices of ending points of the same length as <code>from</code>.</p>
</td></tr>
<tr><td><code id="lines3d_+3A_lwd">lwd</code></td>
<td>
<p>A single numeric value of line width (applies to all lines).</p>
</td></tr>
<tr><td><code id="lines3d_+3A_alpha">alpha</code></td>
<td>
<p>A single numeric value of line alpha (applies to all lines).</p>
</td></tr>
<tr><td><code id="lines3d_+3A_color">color</code></td>
<td>
<p>Either a single color value or vector of values as long as <code>from</code> of line colors;
line colors default to interpolating their vertex point colors.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A new scatterplot htmlwidget object.
</p>


<h3>Note</h3>

<p>This function replaces the old <code>points3d</code> approach used by <code>scatterplot3d</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
 x &lt;- rnorm(5)
 y &lt;- rnorm(5)
 z &lt;- rnorm(5)
 scatterplot3js(x, y, z, pch="@", color=rainbow(5)) %&gt;%
   lines3d(c(1, 2), c(3, 4), lwd=2)

## End(Not run)
</code></pre>

<hr>
<h2 id='points3d'>Add points to a 3D scatterplot</h2><span id='topic+points3d'></span>

<h3>Description</h3>

<p>Add points to a 3D scatterplot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>points3d(s, x, y, z, color = "orange", pch = "@", size = 1, labels = "")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="points3d_+3A_s">s</code></td>
<td>
<p>A non-animated scatterplot object returned by <code><a href="#topic+scatterplot3js">scatterplot3js</a></code>.</p>
</td></tr>
<tr><td><code id="points3d_+3A_x">x</code></td>
<td>
<p>Either a vector of x-coordinate values or a  three-column
data matrix with columns corresponding to the x,y,z
coordinate axes. Column labels, if present, are used as axis labels.</p>
</td></tr>
<tr><td><code id="points3d_+3A_y">y</code></td>
<td>
<p>(Optional) vector of y-coordinate values, not required if
<code>x</code> is a matrix.</p>
</td></tr>
<tr><td><code id="points3d_+3A_z">z</code></td>
<td>
<p>(Optional) vector of z-coordinate values, not required if
<code>x</code> is a matrix.</p>
</td></tr>
<tr><td><code id="points3d_+3A_color">color</code></td>
<td>
<p>Either a single hex or named color name (all points same color),
or a vector of  hex or named color names as long as the number of points in <code>x</code>.</p>
</td></tr>
<tr><td><code id="points3d_+3A_pch">pch</code></td>
<td>
<p>Optional point glyphs or text strings, see <code><a href="#topic+scatterplot3js">scatterplot3js</a></code>.</p>
</td></tr>
<tr><td><code id="points3d_+3A_size">size</code></td>
<td>
<p>The plot point radius, either as a single number or a
vector of sizes of length <code>nrow(x)</code>.</p>
</td></tr>
<tr><td><code id="points3d_+3A_labels">labels</code></td>
<td>
<p>Character vector of length <code>x</code> of point labels displayed when the mouse moves over the points.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A new scatterplot htmlwidget object.
</p>


<h3>Note</h3>

<p>This function replaces the old <code>points3d</code> approach used by <code>scatterplot3d</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
 # Adding point labels to a scatterplot:
 x &lt;- rnorm(5)
 y &lt;- rnorm(5)
 z &lt;- rnorm(5)
 scatterplot3js(x, y, z, pch="o") %&gt;%
   points3d(x + 0.1, y + 0.1, z, color="red", pch=paste("point", 1:5))

# Adding point labels to a graph, obtaining the graph vertex coordinates
# with the `vertices()` function:
data(LeMis)
graphjs(LeMis) %&gt;% points3d(vertices(.), color="red", pch=V(LeMis)$label)


## End(Not run)
</code></pre>

<hr>
<h2 id='scatterplot3js'>Interactive 3D Scatterplots</h2><span id='topic+scatterplot3js'></span>

<h3>Description</h3>

<p>A 3D scatterplot widget using three.js. Many options
follow the <code>scatterplot3d</code> package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scatterplot3js(
  x,
  y,
  z,
  height = NULL,
  width = NULL,
  axis = TRUE,
  num.ticks = c(6, 6, 6),
  x.ticklabs = NULL,
  y.ticklabs = NULL,
  z.ticklabs = NULL,
  color = "steelblue",
  size = cex.symbols,
  stroke = "black",
  flip.y = TRUE,
  grid = TRUE,
  renderer = c("auto", "canvas"),
  signif = 8,
  bg = "#ffffff",
  cex.symbols = 1,
  xlim,
  ylim,
  zlim,
  axis.scale = c(1, 1, 1),
  pch = "@",
  elementId = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="scatterplot3js_+3A_x">x</code></td>
<td>
<p>Either a vector of x-coordinate values or a  three-column
data matrix with columns corresponding to the x,y,z
coordinate axes. Column labels, if present, are used as axis labels.</p>
</td></tr>
<tr><td><code id="scatterplot3js_+3A_y">y</code></td>
<td>
<p>(Optional) vector of y-coordinate values, not required if
<code>x</code> is a matrix.</p>
</td></tr>
<tr><td><code id="scatterplot3js_+3A_z">z</code></td>
<td>
<p>(Optional) vector of z-coordinate values, not required if
<code>x</code> is a matrix.</p>
</td></tr>
<tr><td><code id="scatterplot3js_+3A_height">height</code></td>
<td>
<p>The container div height.</p>
</td></tr>
<tr><td><code id="scatterplot3js_+3A_width">width</code></td>
<td>
<p>The container div width.</p>
</td></tr>
<tr><td><code id="scatterplot3js_+3A_axis">axis</code></td>
<td>
<p>A logical value that when <code>TRUE</code> indicates that the
axes will be displayed.</p>
</td></tr>
<tr><td><code id="scatterplot3js_+3A_num.ticks">num.ticks</code></td>
<td>
<p>A three-element or one-element vector with the suggested number of
ticks to display per axis. If a one-element vector, this number of ticks will be used
for the axis with the smallest <code>axis.scale</code>, and the number of ticks on the remaining
axes will be increased proportionally to the <code>axis.scale</code> values. Set to NULL to not display
ticks. The number of ticks may be adjusted by the program.</p>
</td></tr>
<tr><td><code id="scatterplot3js_+3A_x.ticklabs">x.ticklabs</code></td>
<td>
<p>A vector of tick labels of length <code>num.ticks[1]</code>, or
<code>NULL</code> to show numeric labels.</p>
</td></tr>
<tr><td><code id="scatterplot3js_+3A_y.ticklabs">y.ticklabs</code></td>
<td>
<p>A vector of tick labels of length <code>num.ticks[2]</code>, or
<code>NULL</code> to show numeric labels.</p>
</td></tr>
<tr><td><code id="scatterplot3js_+3A_z.ticklabs">z.ticklabs</code></td>
<td>
<p>A vector of tick labels of length <code>num.ticks[3]</code>, or
<code>NULL</code> to show numeric labels.</p>
</td></tr>
<tr><td><code id="scatterplot3js_+3A_color">color</code></td>
<td>
<p>Either a single hex or named color name (all points same color),
or a vector of  hex or named color names as long as the number of data
points to plot.</p>
</td></tr>
<tr><td><code id="scatterplot3js_+3A_size">size</code></td>
<td>
<p>The plot point radius, either as a single number or a
vector of sizes of length <code>nrow(x)</code>.</p>
</td></tr>
<tr><td><code id="scatterplot3js_+3A_stroke">stroke</code></td>
<td>
<p>A single color stroke value (surrounding each point). Set to
null to omit stroke (only available in the canvas renderer).</p>
</td></tr>
<tr><td><code id="scatterplot3js_+3A_flip.y">flip.y</code></td>
<td>
<p>Reverse the direction of the y-axis (the default value of
TRUE produces plots similar to those rendered by the R
<code>scatterplot3d</code> package).</p>
</td></tr>
<tr><td><code id="scatterplot3js_+3A_grid">grid</code></td>
<td>
<p>Set FALSE to disable display of a grid.</p>
</td></tr>
<tr><td><code id="scatterplot3js_+3A_renderer">renderer</code></td>
<td>
<p>Select from available plot rendering techniques of
'auto' or 'canvas'. Set to 'canvas' to explicitly use non-accelerated Canvas
rendering, otherwise WebGL is used if available.</p>
</td></tr>
<tr><td><code id="scatterplot3js_+3A_signif">signif</code></td>
<td>
<p>Number of significant digits used to represent point
coordinates. Larger numbers increase accuracy but slow plot generation
down.</p>
</td></tr>
<tr><td><code id="scatterplot3js_+3A_bg">bg</code></td>
<td>
<p>The color to be used for the background of the device region.</p>
</td></tr>
<tr><td><code id="scatterplot3js_+3A_cex.symbols">cex.symbols</code></td>
<td>
<p>Equivalent to the <code>size</code> parameter.</p>
</td></tr>
<tr><td><code id="scatterplot3js_+3A_xlim">xlim</code></td>
<td>
<p>Optional two-element vector of x-axis limits. Default auto-scales to data.</p>
</td></tr>
<tr><td><code id="scatterplot3js_+3A_ylim">ylim</code></td>
<td>
<p>Optional two-element vector of y-axis limits. Default auto-scales to data.</p>
</td></tr>
<tr><td><code id="scatterplot3js_+3A_zlim">zlim</code></td>
<td>
<p>Optional two-element vector of z-axis limits. Default auto-scales to data.</p>
</td></tr>
<tr><td><code id="scatterplot3js_+3A_axis.scale">axis.scale</code></td>
<td>
<p>Three-element vector to scale each axis as displayed on the plot,
after first scaling them all to a unit length. Default <code>c(1,1,1)</code> thus results
in the axes of equal length. If <code>NA</code>, the displayed axes will be scaled to the
ratios determined from <code>c(xlim,ylim,zlim)</code>.</p>
</td></tr>
<tr><td><code id="scatterplot3js_+3A_pch">pch</code></td>
<td>
<p>Optional point glyphs, see notes.</p>
</td></tr>
<tr><td><code id="scatterplot3js_+3A_elementid">elementId</code></td>
<td>
<p>Use an explicit element ID for the widget (rather than an automatically generated one). Useful if you have other JavaScript that needs to explicitly discover and interact with a specific widget instance.</p>
</td></tr>
<tr><td><code id="scatterplot3js_+3A_...">...</code></td>
<td>
<p>Additional options (see note).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An htmlwidget object that is displayed using the object's show or print method.
(If you don't see your widget plot, try printing it with the <code>print</code> function.)
</p>


<h3>Scaling the axes</h3>

<p>With the default values, the displayed axes are scaled to equal one-unit length. If
you instead need to maintain the relative distances between points in the original data,
and the same distance between the tick labels, pass <code>num.ticks=6</code> (or any other single
number) and <code>axis.scale=NA</code>
</p>


<h3>Interacting with the plot</h3>

<p>Press and hold the left mouse button (or touch or trackpad equivalent) and move
the mouse to rotate the plot. Press and hold the right mouse button (or touch
equivalent) to pan. Use the mouse scroll wheel or touch equivalent to zoom.
If <code>labels</code> are specified (see below), moving the mouse pointer over
a point will display the label.
</p>


<h3>Detailed plot options</h3>

<p>Use the optional <code>...</code> argument to explicitly supply <code>axisLabels</code>
as a three-element character vector, see the examples below. A few additional
plot options are also supported:
</p>

<ul>
<li><p>&quot;lights&quot; a list of <code>light_ambient</code> and <code>light_directional</code> objects
</p>
</li>
<li><p>&quot;cex.lab&quot; font size scale factor for the axis labels
</p>
</li>
<li><p>&quot;cex.axis&quot; font size scale factor for the axis tick labels
</p>
</li>
<li><p>&quot;font.axis&quot; CSS font string used for all axis labels
</p>
</li>
<li><p>&quot;font.symbols&quot; CSS font string used for plot symbols
</p>
</li>
<li><p>&quot;font.main&quot; CSS font string used for main title text box
</p>
</li>
<li><p>&quot;labels&quot; character vector of length <code>x</code> of point labels displayed when the mouse moves over the points
</p>
</li>
<li><p>&quot;main&quot; Plot title text
</p>
</li>
<li><p>&quot;top&quot; Top location in pixels from top of the plot title text
</p>
</li>
<li><p>&quot;left&quot; Left location in pixels from center of the plot title text
</p>
</li></ul>

<p>The default CSS font string is &quot;48px Arial&quot;. Note that the format of this
font string differs from, for instance, the usual 'par(font.axis)'.
</p>
<p>Use the <code>pch</code> option to specify points styles in WebGL-rendered plots.
<code>pch</code> may either be a single character value that applies to all points,
or a vector of character values of the same length as <code>x</code>. All
character values are used literally ('+', 'x', '*', etc.) except for the
following special cases:
</p>

<ul>
<li><p>&quot;o&quot; Plotted points appear as 3-d spheres.
</p>
</li>
<li><p>&quot;@&quot; Plotted points appear as stroked disks.
</p>
</li>
<li><p>&quot;.&quot; Points appear as tiny squares.
</p>
</li></ul>

<p>Character strings of more than one character are supported&ndash;see the examples.
The <code>@</code> and . option exhibit the best performance, consider using
one of those to plot large numbers of points.
</p>
<p>Set the optional experimental <code>use.orbitcontrols=TRUE</code> argument to
use a more CPU-efficient but somewhat less fluid mouse/touch interface.
</p>


<h3>Plotting lines</h3>

<p>See <code><a href="#topic+lines3d">lines3d</a></code> for an alternative interface.
Lines are optionally drawn between points specified in <code>x, y, z</code> using
the following new plot options.
</p>

<ul>
<li><p>&quot;from&quot; A numeric vector of indices of line starting vertices corresponding to entries in <code>x</code>.
</p>
</li>
<li><p>&quot;to&quot; A numeric vector exactly as long as <code>from</code> of indices of line ending vertices corresponding
to entries in <code>x</code>.
</p>
</li>
<li><p>&quot;lcol&quot; Either a single color value or vector of values as long as from; line colors
default to interpolating their vertex point colors.
</p>
</li>
<li><p>&quot;lwd&quot; A single numeric value of line width (for all lines), defaults to 1.
</p>
</li>
<li><p>&quot;linealpha&quot; A single numeric value between 0 and 1 inclusive setting the transparency of all plot lines,
defaulting to 1.
</p>
</li></ul>



<h3>Highlighting selected points</h3>

<p>Specify the argument <code>brush=TRUE</code> to highlight a clicked point (currently
limited to single-point selection).
Optionally set the <code>highlight=&lt;color&gt;</code> and <code>lowlight=&lt;color&gt;</code>
to manually control the brushing display colors. This feature works with
crosstalk.
</p>


<h3>Crosstalk</h3>

<p>The <code>scatterplot3js()</code> and <code>graphjs()</code> functions work with
crosstalk selection (but not filtering yet); see https://rstudio.github.io/crosstalk/.
Enable crosstalk with the optional agrument <code>crosstalk=df</code>, where <code>df</code> is a
crosstalk-SharedData data.frame-like object with the same number of rows as points
(<code>scatterplot3js()</code>) or graph vertices (<code>graphjs()</code>) (see the examples).
</p>


<h3>Note</h3>

<p>Points with missing values are omitted from the plot, please try to avoid missing values
in <code>x, y, z</code>.
</p>


<h3>References</h3>

<p>The three.js project: <a href="http://threejs.org">http://threejs.org</a>. The HTML Widgets project: <a href="http://htmlwidgets.org">http://htmlwidgets.org</a>.
</p>


<h3>See Also</h3>

<p>scatterplot3d, rgl, points3d, lines3d, light_ambient, light_directional
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Example 1 from the scatterplot3d package (cf.)
z &lt;- seq(-10, 10, 0.1)
x &lt;- cos(z)
y &lt;- sin(z)
scatterplot3js(x, y, z, color=rainbow(length(z)))

# Same example with explicit axis labels
scatterplot3js(x, y, z, color=rainbow(length(z)), axisLabels=c("a", "b", "c"))

# Same example showing multiple point styles with pch
scatterplot3js(x, y, z, color=rainbow(length(z)),
               pch=sample(c(".", "o", letters), length(x), replace=TRUE))

# Point cloud example, should run this with WebGL!
N     &lt;- 20000
theta &lt;- runif (N) * 2 * pi
phi   &lt;- runif (N) * 2 * pi
R     &lt;- 1.5
r     &lt;- 1.0
x &lt;- (R + r * cos(theta)) * cos(phi)
y &lt;- (R + r * cos(theta)) * sin(phi)
z &lt;- r * sin(theta)
d &lt;- 6
h &lt;- 6
t &lt;- 2 * runif (N) - 1
w &lt;- t^2 * sqrt(1 - t^2)
x1 &lt;- d * cos(theta) * sin(phi) * w
y1 &lt;- d * sin(theta) * sin(phi) * w
i &lt;- order(phi)
j &lt;- order(t)
col &lt;- c( rainbow(length(phi))[order(i)],
         rainbow(length(t), start=0, end=2/6)[order(j)])
M &lt;- cbind(x=c(x, x1), y=c(y, y1), z=c(z, h*t))
scatterplot3js(M, size=0.5, color=col, bg="black", pch=".")

# Plot generic text using 'pch' (we label some points in this example)
set.seed(1)
x &lt;- rnorm(5); y &lt;- rnorm(5); z &lt;- rnorm(5)
scatterplot3js(x, y, z, pch="@") %&gt;%
   points3d(x + 0.1, y + 0.1, z, color="red", pch=paste("point", 1:5))

## Not run: 
  # A shiny example
  shiny::runApp(system.file("examples/scatterplot", package="threejs"))

## End(Not run)

## Not run: 
  # A crosstalk example
  library(crosstalk)
  library(d3scatter) # devtools::install_github("jcheng5/d3scatter")
  z &lt;- seq(-10, 10, 0.1)
  x &lt;- cos(z)
  y &lt;- sin(z)
  sd &lt;- SharedData$new(data.frame(x=x, y=y, z=z))
  print(bscols(
    scatterplot3js(x, y, z, color=rainbow(length(z)), brush=TRUE, crosstalk=sd),
    d3scatter(sd, ~x, ~y, width="100%", height=300)
  ))

## End(Not run)

</code></pre>

<hr>
<h2 id='texture'>Convert an image file or uri to a three.js texture</h2><span id='topic+texture'></span>

<h3>Description</h3>

<p>Convert file image representations in R into JSON-formatted arrays
suitable for use as three.js textures. This function is automatically
invoked for images used in the <code>globejs</code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>texture(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="texture_+3A_data">data</code></td>
<td>
<p>A character string file name referring to an image file,
or referring to an image uri (see the examples).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>JSON-formatted list with image, width, and height fields
suitable for use as a three.js
texture created with the base64texture function. The image field
contains a base64 dataURI encoding of the image.
</p>


<h3>Note</h3>

<p>Due to browser
&quot;same origin policy&quot; security restrictions, loading textures
from a file system in three.js may lead to a security exception,
see
<a href="https://github.com/mrdoob/three.js/wiki/How-to-run-things-locally">https://github.com/mrdoob/three.js/wiki/How-to-run-things-locally</a>.
References to file locations work in Shiny apps, but not in stand-alone
examples. The <code>texture</code> function facilitates transfer of image
texture data from R into three.js textures. Binary image data are
encoded and inserted into three.js without using files as dataURIs.
</p>


<h3>References</h3>

<p>The threejs project <a href="http://threejs.org">http://threejs.org</a>.
<a href="https://github.com/mrdoob/three.js/wiki/How-to-run-things-locally">https://github.com/mrdoob/three.js/wiki/How-to-run-things-locally</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# A big image (may take a while to download):
img &lt;- paste("http://eoimages.gsfc.nasa.gov/",
             "images/imagerecords/73000/73909/",
             "world.topo.bathy.200412.3x5400x2700.jpg", sep="")
t &lt;- texture(img)

## End(Not run)

</code></pre>

<hr>
<h2 id='threejs-package'>Interactive 3D graphics including point clouds and globes using three.js and htmlwidgets.</h2><span id='topic+threejs-package'></span><span id='topic+threejs'></span>

<h3>Description</h3>

<p>Interactive 3D graphics including point clouds and globes using three.js and htmlwidgets.
</p>


<h3>References</h3>

<p><a href="http://threejs.org">http://threejs.org</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library("shiny")
runApp(system.file("examples/globe",package="threejs"))
runApp(system.file("examples/scatterplot",package="threejs"))

# See also help for globe.js and scatterplot3.js

## End(Not run)

</code></pre>

<hr>
<h2 id='vertices+2CscatterplotThree-method'>Extract a matrix of vertex coordinates from a threejs widget</h2><span id='topic+vertices+2CscatterplotThree-method'></span>

<h3>Description</h3>

<p>Extract a matrix of vertex coordinates from a threejs widget
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'scatterplotThree'
vertices(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vertices+2B2CscatterplotThree-method_+3A_...">...</code></td>
<td>
<p>a <code>scatterplotThree</code> object from the threejs package.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>points3d
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package ggautomap</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ggautomap}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#configure_inset'><p>Configure transformations underpinning a map inset</p></a></li>
<li><a href='#coord_automap'><p>Specify an inset configuration for the whole plot</p></a></li>
<li><a href='#crs_eqc'><p>Coordinate reference system for spatial computations</p></a></li>
<li><a href='#geom_boundaries'><p>Map feature boundaries</p></a></li>
<li><a href='#geom_centroids'><p>Geographic centroid of locations</p></a></li>
<li><a href='#geom_choropleth'><p>Associate regions with counts</p></a></li>
<li><a href='#geom_geoscatter'><p>Place points randomly or in a grid within locations</p></a></li>
<li><a href='#ggautomap-package'><p>Create Maps From a Column of Place Names</p></a></li>
<li><a href='#position_circle_repel'><p>Pack overlapping points into a circle</p></a></li>
<li><a href='#reexports'><p>Objects exported from other packages</p></a></li>
<li><a href='#stat_automap'><p>Attach spatial data with 'cartographer'</p></a></li>
<li><a href='#stat_automap_coords'><p>Attach coordinates with 'cartographer'</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Create Maps from a Column of Place Names</td>
</tr>
<tr>
<td>Version:</td>
<td>0.3.2</td>
</tr>
<tr>
<td>Description:</td>
<td>Mapping tools that convert place names to coordinates on the fly.
    These 'ggplot2' extensions make maps from a data frame where one of the
    columns contains place names, without having to directly work with the
    underlying geospatial data and tools. The corresponding map data must be
    registered with 'cartographer' either by the user or by another package.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.1),</td>
</tr>
<tr>
<td>Imports:</td>
<td>cartographer (&ge; 0.2), cli (&ge; 3.4.0), dplyr (&ge; 1.0.0),
ggmapinset (&ge; 0.3), ggplot2 (&ge; 3.4.2), packcircles (&ge;
0.3.4), rlang (&ge; 1.0.0), sf (&ge; 1.0), tidyr (&ge; 1.2.0), vctrs
(&ge; 0.4.0)</td>
</tr>
<tr>
<td>Collate:</td>
<td>'aaa.R' 'stat_automap.R' 'stat_automap_coords.R'
'choropleth.R' 'configure_inset.R' 'coord_automap.R' 'crs.R'
'geom_boundaries.R' 'geom_centroids.R' 'geoscatter.R'
'ggautomap-package.R' 'position_circle_repel.R'</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/cidm-ph/ggautomap">https://github.com/cidm-ph/ggautomap</a>,
<a href="https://cidm-ph.github.io/ggautomap/">https://cidm-ph.github.io/ggautomap/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/cidm-ph/ggautomap/issues">https://github.com/cidm-ph/ggautomap/issues</a></td>
</tr>
<tr>
<td>Suggests:</td>
<td>ggrepel, knitr, nswgeo, rmarkdown</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-05-23 23:15:45 UTC; csuster</td>
</tr>
<tr>
<td>Author:</td>
<td>Carl Suster <a href="https://orcid.org/0000-0001-7021-9380"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre],
  Western Sydney Local Health District, NSW Health [cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Carl Suster &lt;Carl.Suster@health.nsw.gov.au&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-05-24 09:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='configure_inset'>Configure transformations underpinning a map inset</h2><span id='topic+configure_inset'></span>

<h3>Description</h3>

<p>This specialises <code><a href="ggmapinset.html#topic+configure_inset">ggmapinset::configure_inset()</a></code> to allow the <code>centre</code>
to be specified as a location. The centroid of that location is used as the
inset's centre.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>configure_inset(
  centre = NULL,
  scale = NULL,
  translation = NULL,
  radius = NULL,
  units = "km",
  feature_type = NA
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="configure_inset_+3A_centre">centre</code></td>
<td>
<p>Coordinates of the inset centre. Can instead be the name of a
geographic feature if <code>feature_type</code> is also provided.</p>
</td></tr>
<tr><td><code id="configure_inset_+3A_scale">scale</code></td>
<td>
<p>Zoom scale: values larger than one will make the circle bigger.</p>
</td></tr>
<tr><td><code id="configure_inset_+3A_translation">translation</code></td>
<td>
<p>Translate (shift) the inset. This can be an
<code>st_point</code> or simply a vector of length 2 containing the x and y
offsets respectively.</p>
</td></tr>
<tr><td><code id="configure_inset_+3A_radius">radius</code></td>
<td>
<p>Radius of the inset circle.</p>
</td></tr>
<tr><td><code id="configure_inset_+3A_units">units</code></td>
<td>
<p>Base length unit (e.g. <code>"km"</code> or <code>"mi"</code>).
See <code><a href="ggmapinset.html#topic+configure_inset">ggmapinset::configure_inset()</a></code> for supported values.</p>
</td></tr>
<tr><td><code id="configure_inset_+3A_feature_type">feature_type</code></td>
<td>
<p>Type of map feature. See <code><a href="cartographer.html#topic+feature_types">feature_types()</a></code> for a list of
registered types. If <code>NA</code>, the type is guessed based on the values in
<code>feature_names</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An inset configuration object.
</p>


<h3>See Also</h3>

<p>ggmapinset::configure_inset
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cfg &lt;- configure_inset(
  centre = "Yancey",
  feature_type = "sf.nc",
  scale = 2,
  translation = c(70, -180),
  radius = 50,
  units = "mi"
)
</code></pre>

<hr>
<h2 id='coord_automap'>Specify an inset configuration for the whole plot</h2><span id='topic+coord_automap'></span>

<h3>Description</h3>

<p>This allows a default inset configuration to be provided to avoid having to
repeat it for each layer. Any layer that is inset-aware can use this as the
default configuration if none is specifically provided to that layer. This
coord also expands the axis limits to include the inset area.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>coord_automap(feature_type = NA, inset = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="coord_automap_+3A_feature_type">feature_type</code></td>
<td>
<p>Type of map feature. See <code><a href="cartographer.html#topic+feature_types">feature_types()</a></code> for a list of
registered types. If <code>NA</code>, the type is guessed based on the values in
<code>feature_names</code>.</p>
</td></tr>
<tr><td><code id="coord_automap_+3A_inset">inset</code></td>
<td>
<p>Inset configuration; see <code><a href="#topic+configure_inset">configure_inset()</a></code>.</p>
</td></tr>
<tr><td><code id="coord_automap_+3A_...">...</code></td>
<td>
<p>Arguments passed to <code><a href="ggmapinset.html#topic+coord_sf_inset">ggmapinset::coord_sf_inset()</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot coordinate
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)
library(cartographer)

ggplot(nc_type_example_2, aes(location = county)) +
  geom_choropleth(aes(colour = type), size = 0.5) +
  geom_sf_label_inset(aes(label = county), stat = "automap_coords", size = 3) +
  coord_automap(feature_type = "sf.nc")
</code></pre>

<hr>
<h2 id='crs_eqc'>Coordinate reference system for spatial computations</h2><span id='topic+crs_eqc'></span>

<h3>Description</h3>

<p><code>crs_eqc()</code> gives a CRS that can be used for e.g. computing centroids or
distances.
It is an equidistant cylindrical system that by does not distort latitudes
near <code>latitude</code>. The CRS is in units of kilometres by default.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>crs_eqc(latitude = 0, units = "km")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="crs_eqc_+3A_latitude">latitude</code></td>
<td>
<p>The latitude of true scale (the <code>proj</code> parameter
<code>lat_ts</code>). This is the latitude where the scale is not distorted by
the projection.</p>
</td></tr>
<tr><td><code id="crs_eqc_+3A_units">units</code></td>
<td>
<p>Base length unit (e.g. <code>"km"</code> or <code>"mi"</code>).
See <code><a href="ggmapinset.html#topic+configure_inset">ggmapinset::configure_inset()</a></code> for supported values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>CRS object from <code>sf</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Sydney, Australia has a latitude of 33.87 S so this CRS will be suitable
# for computations close to there:
crs_eqc(latitude = -33.87)
</code></pre>

<hr>
<h2 id='geom_boundaries'>Map feature boundaries</h2><span id='topic+geom_boundaries'></span>

<h3>Description</h3>

<p>Retrieves the full map data from <code>{cartographer}</code> and plots the boundaries.
As well as the chosen feature boundaries, the outline of the map is
drawn separately if one has been registered with the map data, with the
possibility to override its aesthetics.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_boundaries(
  mapping = ggplot2::aes(),
  data = NULL,
  stat = "sf_inset",
  position = "identity",
  ...,
  feature_type = NULL,
  inset = NA,
  map_base = "normal",
  map_inset = "auto",
  na.rm = FALSE,
  outline.aes = list(colour = "#666666"),
  show.legend = NA,
  inherit.aes = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geom_boundaries_+3A_mapping">mapping</code>, <code id="geom_boundaries_+3A_stat">stat</code>, <code id="geom_boundaries_+3A_position">position</code>, <code id="geom_boundaries_+3A_na.rm">na.rm</code>, <code id="geom_boundaries_+3A_show.legend">show.legend</code>, <code id="geom_boundaries_+3A_inherit.aes">inherit.aes</code>, <code id="geom_boundaries_+3A_...">...</code></td>
<td>
<p>See <code><a href="ggplot2.html#topic+ggsf">ggplot2::geom_sf()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_boundaries_+3A_data">data</code></td>
<td>
<p>Ignored (this geometry always uses the registered geographic data).</p>
</td></tr>
<tr><td><code id="geom_boundaries_+3A_feature_type">feature_type</code></td>
<td>
<p>Type of map feature. See <code><a href="cartographer.html#topic+feature_types">feature_types()</a></code> for a list of
registered types. If <code>NA</code>, the type is guessed based on the values in
<code>feature_names</code>.</p>
</td></tr>
<tr><td><code id="geom_boundaries_+3A_inset">inset</code></td>
<td>
<p>Inset configuration; see <code><a href="ggmapinset.html#topic+configure_inset">configure_inset()</a></code>.
If <code>NA</code> (the default), this is inherited from the coord (see <code><a href="ggmapinset.html#topic+coord_sf_inset">coord_sf_inset()</a></code>).</p>
</td></tr>
<tr><td><code id="geom_boundaries_+3A_map_base">map_base</code></td>
<td>
<p>Controls the layer with the base map. Possible values are
<code>"normal"</code> to create a layer as though the inset were not specified,
<code>"clip"</code> to create a layer with the inset viewport cut out, and
<code>"none"</code> to prevent the insertion of a layer for the base map.</p>
</td></tr>
<tr><td><code id="geom_boundaries_+3A_map_inset">map_inset</code></td>
<td>
<p>Controls the layer with the inset map. Possible values are
<code>"auto"</code> to choose the behaviour based on whether <code>inset</code> is specified,
<code>"normal"</code> to create a layer with the viewport cut out and transformed, and
<code>"none"</code> to prevent the insertion of a layer for the viewport map.</p>
</td></tr>
<tr><td><code id="geom_boundaries_+3A_outline.aes">outline.aes</code></td>
<td>
<p>A list to override the aesthetics for the outline of the map.
This has no effect if the map wasn't registered with a separate outline.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot layer.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)

ggplot() +
  geom_boundaries(feature_type = "sf.nc")
</code></pre>

<hr>
<h2 id='geom_centroids'>Geographic centroid of locations</h2><span id='topic+geom_centroids'></span>

<h3>Description</h3>

<p>Assigns each point a longitude and latitude corresponding to the geographic
centre of its administrative area. This means that all points in the same
area will overlap. The default <code>position</code> uses <code><a href="#topic+position_circle_repel">position_circle_repel()</a></code>
to repel the points outwards with an amount controllable with its
<code>scale</code> parameter.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_centroids(
  mapping = ggplot2::aes(),
  data = NULL,
  stat = "automap_coords",
  position = "circle_repel_sf",
  ...,
  fun.geometry = NULL,
  feature_type = NA,
  inset = NA,
  map_base = "clip",
  map_inset = "auto",
  na.rm = TRUE,
  show.legend = "point",
  inherit.aes = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geom_centroids_+3A_mapping">mapping</code>, <code id="geom_centroids_+3A_data">data</code>, <code id="geom_centroids_+3A_stat">stat</code>, <code id="geom_centroids_+3A_position">position</code>, <code id="geom_centroids_+3A_na.rm">na.rm</code>, <code id="geom_centroids_+3A_show.legend">show.legend</code>, <code id="geom_centroids_+3A_inherit.aes">inherit.aes</code>, <code id="geom_centroids_+3A_...">...</code></td>
<td>
<p>See <code><a href="ggplot2.html#topic+stat_sf_coordinates">ggplot2::stat_sf_coordinates()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_centroids_+3A_fun.geometry">fun.geometry</code></td>
<td>
<p>A function that takes a <code>sfc</code> object and returns a <code>sfc_POINT</code> with the
same length as the input. If <code>NULL</code>, <code>function(x) sf::st_point_on_surface(sf::st_zm(x))</code>
will be used. Note that the function may warn about the incorrectness of
the result if the data is not projected, but you can ignore this except
when you really care about the exact locations.</p>
</td></tr>
<tr><td><code id="geom_centroids_+3A_feature_type">feature_type</code></td>
<td>
<p>Type of map feature. See <code><a href="cartographer.html#topic+feature_types">feature_types()</a></code> for a list of
registered types. If <code>NA</code>, the type is guessed based on the values in
<code>feature_names</code>.</p>
</td></tr>
<tr><td><code id="geom_centroids_+3A_inset">inset</code></td>
<td>
<p>Inset configuration; see <code><a href="ggmapinset.html#topic+configure_inset">configure_inset()</a></code>.
If <code>NA</code> (the default), this is inherited from the coord (see <code><a href="ggmapinset.html#topic+coord_sf_inset">coord_sf_inset()</a></code>).</p>
</td></tr>
<tr><td><code id="geom_centroids_+3A_map_base">map_base</code></td>
<td>
<p>Controls the layer with the base map. Possible values are
<code>"normal"</code> to create a layer as though the inset were not specified,
<code>"clip"</code> to create a layer with the inset viewport cut out, and
<code>"none"</code> to prevent the insertion of a layer for the base map.</p>
</td></tr>
<tr><td><code id="geom_centroids_+3A_map_inset">map_inset</code></td>
<td>
<p>Controls the layer with the inset map. Possible values are
<code>"auto"</code> to choose the behaviour based on whether <code>inset</code> is specified,
<code>"normal"</code> to create a layer with the viewport cut out and transformed, and
<code>"none"</code> to prevent the insertion of a layer for the viewport map.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot layer.
</p>


<h3>Aesthetics</h3>

<p>The <code>location</code> aesthetic is required.
<code>geom_centroids()</code> understands the same aesthetics as <code><a href="ggplot2.html#topic+geom_point">ggplot2::geom_point()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)

cartographer::nc_type_example_2 |&gt;
  head(n = 100) |&gt;
  ggplot(aes(location = county)) +
  geom_boundaries(feature_type = "sf.nc") +
  geom_centroids(aes(colour = type), position = position_circle_repel_sf(scale = 6), size = 0.5) +
  coord_automap(feature_type = "sf.nc")
</code></pre>

<hr>
<h2 id='geom_choropleth'>Associate regions with counts</h2><span id='topic+geom_choropleth'></span><span id='topic+stat_choropleth'></span><span id='topic+StatChoropleth'></span>

<h3>Description</h3>

<p>Counts the number of occurrences of each location, then by default maps the
count to the fill aesthetic. If your data has only one row per location and
some other field that you'd like to map to aesthetics, use
<code><a href="ggplot2.html#topic+ggsf">geom_sf()</a></code> or <code><a href="ggmapinset.html#topic+geom_sf_inset">geom_sf_inset()</a></code>
with <code>stat = "automap"</code> instead.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_choropleth(
  mapping = ggplot2::aes(),
  data = NULL,
  stat = "choropleth",
  position = "identity",
  ...,
  feature_type = NA,
  inset = NA,
  map_base = "normal",
  map_inset = "auto",
  na.rm = TRUE,
  show.legend = NA,
  inherit.aes = TRUE
)

stat_choropleth(
  mapping = NULL,
  data = NULL,
  geom = "sf",
  position = "identity",
  ...,
  feature_type = NA,
  na.rm = TRUE,
  show.legend = NA,
  inherit.aes = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geom_choropleth_+3A_mapping">mapping</code>, <code id="geom_choropleth_+3A_data">data</code>, <code id="geom_choropleth_+3A_stat">stat</code>, <code id="geom_choropleth_+3A_geom">geom</code>, <code id="geom_choropleth_+3A_position">position</code>, <code id="geom_choropleth_+3A_na.rm">na.rm</code>, <code id="geom_choropleth_+3A_show.legend">show.legend</code>, <code id="geom_choropleth_+3A_inherit.aes">inherit.aes</code>, <code id="geom_choropleth_+3A_...">...</code></td>
<td>
<p>See <code><a href="ggplot2.html#topic+ggsf">ggplot2::geom_sf()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_choropleth_+3A_feature_type">feature_type</code></td>
<td>
<p>Type of map feature. See <code><a href="cartographer.html#topic+feature_types">feature_types()</a></code> for a list of
registered types. If <code>NA</code>, the type is guessed based on the values in
<code>feature_names</code>.</p>
</td></tr>
<tr><td><code id="geom_choropleth_+3A_inset">inset</code></td>
<td>
<p>Inset configuration; see <code><a href="ggmapinset.html#topic+configure_inset">configure_inset()</a></code>.
If <code>NA</code> (the default), this is inherited from the coord (see <code><a href="ggmapinset.html#topic+coord_sf_inset">coord_sf_inset()</a></code>).</p>
</td></tr>
<tr><td><code id="geom_choropleth_+3A_map_base">map_base</code></td>
<td>
<p>Controls the layer with the base map. Possible values are
<code>"normal"</code> to create a layer as though the inset were not specified,
<code>"clip"</code> to create a layer with the inset viewport cut out, and
<code>"none"</code> to prevent the insertion of a layer for the base map.</p>
</td></tr>
<tr><td><code id="geom_choropleth_+3A_map_inset">map_inset</code></td>
<td>
<p>Controls the layer with the inset map. Possible values are
<code>"auto"</code> to choose the behaviour based on whether <code>inset</code> is specified,
<code>"normal"</code> to create a layer with the viewport cut out and transformed, and
<code>"none"</code> to prevent the insertion of a layer for the viewport map.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note that choropleths have a tendency to be misleading by emphasising
geographically larger areas.
</p>


<h3>Value</h3>

<p>A ggplot layer.
</p>


<h3>Aesthetics</h3>

<p>The <code>location</code> aesthetic is required.
<code>geom_choropleth()</code> understands the same aesthetics as <code><a href="ggplot2.html#topic+ggsf">ggplot2::geom_sf()</a></code>.
</p>


<h3>Computed variables</h3>


<dl>
<dt>count</dt><dd><p>rows matching the region</p>
</dd>
<dt>geometry</dt><dd><p><code>sf</code> geometry column</p>
</dd>
<dt>...</dt><dd><p>limits as computed by <code><a href="ggplot2.html#topic+ggsf">ggplot2::stat_sf()</a></code></p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)

cartographer::nc_type_example_2 |&gt;
  ggplot(aes(location = county)) +
  geom_choropleth() +
  geom_boundaries(feature_type = "sf.nc") +
  scale_fill_steps(low = "#e6f9ff", high = "#00394d") +
  coord_automap(feature_type = "sf.nc")
</code></pre>

<hr>
<h2 id='geom_geoscatter'>Place points randomly or in a grid within locations</h2><span id='topic+geom_geoscatter'></span><span id='topic+stat_geoscatter'></span><span id='topic+StatGeoscatter'></span>

<h3>Description</h3>

<p>Each row of data is drawn as a single point inside the geographic area. This
has similar strengths to a standard scatter plot, but has the potential to
be misleading by implying that there is significance to the exact placement
of the points.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_geoscatter(
  mapping = ggplot2::aes(),
  data = NULL,
  stat = "geoscatter",
  position = "identity",
  ...,
  feature_type = NA,
  sample_type = "random",
  inset = NA,
  map_base = "clip",
  map_inset = "auto",
  na.rm = TRUE,
  show.legend = "point",
  inherit.aes = TRUE
)

stat_geoscatter(
  mapping = NULL,
  data = NULL,
  geom = "sf_inset",
  position = "identity",
  ...,
  feature_type = NA,
  sample_type = "random",
  show.legend = NA,
  inherit.aes = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geom_geoscatter_+3A_mapping">mapping</code>, <code id="geom_geoscatter_+3A_data">data</code>, <code id="geom_geoscatter_+3A_stat">stat</code>, <code id="geom_geoscatter_+3A_geom">geom</code>, <code id="geom_geoscatter_+3A_position">position</code>, <code id="geom_geoscatter_+3A_na.rm">na.rm</code>, <code id="geom_geoscatter_+3A_show.legend">show.legend</code>, <code id="geom_geoscatter_+3A_inherit.aes">inherit.aes</code>, <code id="geom_geoscatter_+3A_...">...</code></td>
<td>
<p>See <code><a href="ggplot2.html#topic+ggsf">ggplot2::geom_sf()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_geoscatter_+3A_feature_type">feature_type</code></td>
<td>
<p>Type of map feature. See <code><a href="cartographer.html#topic+feature_types">feature_types()</a></code> for a list of
registered types. If <code>NA</code>, the type is guessed based on the values in
<code>feature_names</code>.</p>
</td></tr>
<tr><td><code id="geom_geoscatter_+3A_sample_type">sample_type</code></td>
<td>
<p>sampling type (see the <code>type</code> argument of <code><a href="sf.html#topic+st_sample">sf::st_sample()</a></code>).
<code>"random"</code> will place points randomly inside the boundaries, whereas
<code>"regular"</code> and <code>"hexagonal"</code> will evenly space points, leaving
a small margin close to the boundaries.</p>
</td></tr>
<tr><td><code id="geom_geoscatter_+3A_inset">inset</code></td>
<td>
<p>Inset configuration; see <code><a href="ggmapinset.html#topic+configure_inset">configure_inset()</a></code>.
If <code>NA</code> (the default), this is inherited from the coord (see <code><a href="ggmapinset.html#topic+coord_sf_inset">coord_sf_inset()</a></code>).</p>
</td></tr>
<tr><td><code id="geom_geoscatter_+3A_map_base">map_base</code></td>
<td>
<p>Controls the layer with the base map. Possible values are
<code>"normal"</code> to create a layer as though the inset were not specified,
<code>"clip"</code> to create a layer with the inset viewport cut out, and
<code>"none"</code> to prevent the insertion of a layer for the base map.</p>
</td></tr>
<tr><td><code id="geom_geoscatter_+3A_map_inset">map_inset</code></td>
<td>
<p>Controls the layer with the inset map. Possible values are
<code>"auto"</code> to choose the behaviour based on whether <code>inset</code> is specified,
<code>"normal"</code> to create a layer with the viewport cut out and transformed, and
<code>"none"</code> to prevent the insertion of a layer for the viewport map.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot layer.
</p>


<h3>Aesthetics</h3>

<p>The <code>location</code> aesthetic is required.
<code>geom_geoscatter()</code> understands the same aesthetics as <code><a href="ggplot2.html#topic+geom_point">ggplot2::geom_point()</a></code>.
</p>


<h3>Computed variables</h3>


<dl>
<dt>x</dt><dd><p>longitude</p>
</dd>
<dt>y</dt><dd><p>latitude</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)

cartographer::nc_type_example_2 |&gt;
  ggplot(aes(location = county)) +
  geom_boundaries(feature_type = "sf.nc") +
  geom_geoscatter(aes(colour = type), size = 0.5) +
  coord_automap(feature_type = "sf.nc")
</code></pre>

<hr>
<h2 id='ggautomap-package'>Create Maps From a Column of Place Names</h2><span id='topic+ggautomap'></span><span id='topic+ggautomap-package'></span>

<h3>Description</h3>

<p>Mapping geometries based on <code>{ggplot2}</code> for turning a spreadsheet into maps.
This package provides ggplot geoms that make maps from a data frame where
one of the columns contains place names. The map data must be registered
with <code>{cartographer}</code>.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Carl Suster <a href="mailto:Carl.Suster@health.nsw.gov.au">Carl.Suster@health.nsw.gov.au</a> (<a href="https://orcid.org/0000-0001-7021-9380">ORCID</a>)
</p>
<p>Other contributors:
</p>

<ul>
<li><p> Western Sydney Local Health District, NSW Health [copyright holder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/cidm-ph/ggautomap">https://github.com/cidm-ph/ggautomap</a>
</p>
</li>
<li> <p><a href="https://cidm-ph.github.io/ggautomap/">https://cidm-ph.github.io/ggautomap/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/cidm-ph/ggautomap/issues">https://github.com/cidm-ph/ggautomap/issues</a>
</p>
</li></ul>


<hr>
<h2 id='position_circle_repel'>Pack overlapping points into a circle</h2><span id='topic+position_circle_repel'></span><span id='topic+position_circle_repel_sf'></span><span id='topic+PositionCircleRepel'></span><span id='topic+PositionCircleRepelSf'></span>

<h3>Description</h3>

<p>This position looks for any points with identical <code>x</code> and <code>y</code>
positions and packs them in a circle around the original point. The <code>_sf</code>
version applies the position adjustment in projected coordinates.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>position_circle_repel(scale = 1/4)

position_circle_repel_sf(scale = 10)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="position_circle_repel_+3A_scale">scale</code></td>
<td>
<p>Scale of packing around the central point.
This is in data units, so for the <code>_sf</code> variant it will depend on the
units specified by the coordinate reference system.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note that extreme choices of <code>scale</code> may cause errors.
</p>
<p>The <code>scale</code> parameter can instead be specified as an aesthetic for geoms
that support it (<code><a href="#topic+geom_centroids">geom_centroids()</a></code>). This allows different locations to have
different scales, which is especially useful when combined with map insets.
</p>


<h3>Value</h3>

<p>A ggplot position object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)

points &lt;- data.frame(
  x = c(rep(1, 10), 1:3),
  y = c(rep(2, 10), 3:5),
  s = 0.05
)
ggplot(points, aes(x, y)) +
  geom_point(size = 3, colour = "red") +
  geom_point(position = position_circle_repel(0.05), size = 3, alpha = 0.5)

cartographer::nc_type_example_2 |&gt;
  dplyr::filter(!county %in% c("HENDERSON", "GASTON", "LINCOLN")) |&gt;
  ggplot(aes(location = county)) +
  geom_boundaries(feature_type = "sf.nc") +
  geom_centroids(aes(colour = type), position = position_circle_repel_sf(scale = 4), size = 0.2) +
  coord_automap(feature_type = "sf.nc")
</code></pre>

<hr>
<h2 id='reexports'>Objects exported from other packages</h2><span id='topic+reexports'></span><span id='topic+geom_inset_frame'></span><span id='topic+geom_sf_inset'></span><span id='topic+GeomSfInset'></span><span id='topic+stat_sf_inset'></span><span id='topic+StatSfInset'></span><span id='topic+StatSfCoordinatesInset'></span><span id='topic+geom_sf_text_inset'></span><span id='topic+geom_sf_label_inset'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>ggmapinset</dt><dd><p><code><a href="ggmapinset.html#topic+geom_inset_frame">geom_inset_frame</a></code>, <code><a href="ggmapinset.html#topic+geom_sf_inset">geom_sf_inset</a></code>, <code><a href="ggmapinset.html#topic+geom_sf_inset">geom_sf_label_inset</a></code>, <code><a href="ggmapinset.html#topic+geom_sf_inset">geom_sf_text_inset</a></code>, <code><a href="ggmapinset.html#topic+geom_sf_inset">GeomSfInset</a></code>, <code><a href="ggmapinset.html#topic+geom_sf_inset">stat_sf_inset</a></code>, <code><a href="ggmapinset.html#topic+stat_sf_coordinates_inset">StatSfCoordinatesInset</a></code>, <code><a href="ggmapinset.html#topic+geom_sf_inset">StatSfInset</a></code></p>
</dd>
</dl>

<hr>
<h2 id='stat_automap'>Attach spatial data with 'cartographer'</h2><span id='topic+stat_automap'></span><span id='topic+StatAutomap'></span><span id='topic+StatAutomapCoords'></span>

<h3>Description</h3>

<p>Use <code>cartographer</code> to attach a spatial column to the data based
on place names in another column. The result can then be used by
<code><a href="ggplot2.html#topic+ggsf">ggplot2::geom_sf()</a></code> or <code><a href="ggmapinset.html#topic+geom_sf_inset">ggmapinset::geom_sf_inset()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stat_automap(
  mapping = NULL,
  data = NULL,
  geom = "sf",
  position = "identity",
  ...,
  feature_type = NA,
  na.rm = TRUE,
  show.legend = NA,
  inherit.aes = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stat_automap_+3A_mapping">mapping</code>, <code id="stat_automap_+3A_data">data</code>, <code id="stat_automap_+3A_geom">geom</code>, <code id="stat_automap_+3A_position">position</code>, <code id="stat_automap_+3A_na.rm">na.rm</code>, <code id="stat_automap_+3A_show.legend">show.legend</code>, <code id="stat_automap_+3A_inherit.aes">inherit.aes</code>, <code id="stat_automap_+3A_...">...</code></td>
<td>
<p>See <code><a href="ggplot2.html#topic+ggsf">ggplot2::geom_sf()</a></code>.</p>
</td></tr>
<tr><td><code id="stat_automap_+3A_feature_type">feature_type</code></td>
<td>
<p>Type of map feature. See <code><a href="cartographer.html#topic+feature_types">feature_types()</a></code> for a list of
registered types. If <code>NA</code>, the type is guessed based on the values in
<code>feature_names</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot layer
</p>


<h3>Computed variables</h3>


<dl>
<dt>geometry</dt><dd><p><code>sf</code> geometry column</p>
</dd>
<dt>...</dt><dd><p>limits as computed by <code><a href="ggplot2.html#topic+ggsf">ggplot2::stat_sf()</a></code></p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)

events &lt;- data.frame(
  county = c("Mecklenburg", "Carteret", "Moore", "Caldwell"),
  proportion_A = c(0.1, 0.8, 0.0, 0.6)
)

ggplot(events, aes(location = county)) +
  geom_sf(aes(fill = proportion_A), stat = "automap")

ggplot(events, aes(location = county)) +
  stat_automap(aes(fill = proportion_A)) +
  coord_automap(feature_type = "sf.nc")
</code></pre>

<hr>
<h2 id='stat_automap_coords'>Attach coordinates with 'cartographer'</h2><span id='topic+stat_automap_coords'></span>

<h3>Description</h3>

<p>Use <code>cartographer</code> to attach a spatial column to the data based
on place names in another column. The spatial data is then reduced to
coordinates in the same way as <code><a href="ggplot2.html#topic+stat_sf_coordinates">stat_sf_coordinates()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stat_automap_coords(
  mapping = NULL,
  data = NULL,
  geom = "sf_inset",
  position = "identity",
  ...,
  feature_type = NA,
  na.rm = TRUE,
  inset = NA,
  fun.geometry = NULL,
  show.legend = NA,
  inherit.aes = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stat_automap_coords_+3A_mapping">mapping</code>, <code id="stat_automap_coords_+3A_data">data</code>, <code id="stat_automap_coords_+3A_geom">geom</code>, <code id="stat_automap_coords_+3A_position">position</code>, <code id="stat_automap_coords_+3A_na.rm">na.rm</code>, <code id="stat_automap_coords_+3A_show.legend">show.legend</code>, <code id="stat_automap_coords_+3A_inherit.aes">inherit.aes</code>, <code id="stat_automap_coords_+3A_...">...</code></td>
<td>
<p>See <code><a href="ggplot2.html#topic+stat_sf_coordinates">ggplot2::stat_sf_coordinates()</a></code>.</p>
</td></tr>
<tr><td><code id="stat_automap_coords_+3A_feature_type">feature_type</code></td>
<td>
<p>Type of map feature. See <code><a href="cartographer.html#topic+feature_types">feature_types()</a></code> for a list of
registered types. If <code>NA</code>, the type is guessed based on the values in
<code>feature_names</code>.</p>
</td></tr>
<tr><td><code id="stat_automap_coords_+3A_inset">inset</code></td>
<td>
<p>Inset configuration; see <code><a href="ggmapinset.html#topic+configure_inset">configure_inset()</a></code>.
If <code>NA</code> (the default), this is inherited from the coord (see <code><a href="ggmapinset.html#topic+coord_sf_inset">coord_sf_inset()</a></code>).</p>
</td></tr>
<tr><td><code id="stat_automap_coords_+3A_fun.geometry">fun.geometry</code></td>
<td>
<p>A function that takes a <code>sfc</code> object and returns a <code>sfc_POINT</code> with the
same length as the input. If <code>NULL</code>, <code>function(x) sf::st_point_on_surface(sf::st_zm(x))</code>
will be used. Note that the function may warn about the incorrectness of
the result if the data is not projected, but you can ignore this except
when you really care about the exact locations.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A plot layer
</p>


<h3>Computed variables</h3>


<dl>
<dt>geometry</dt><dd><p><code>sf</code> geometry column representing the points</p>
</dd>
<dt>x</dt><dd><p>X dimension of the simple feature</p>
</dd>
<dt>y</dt><dd><p>Y dimension of the simple feature</p>
</dd>
<dt>x_inset</dt><dd><p>X dimension of the simple feature after inset transformation</p>
</dd>
<dt>y_inset</dt><dd><p>Y dimension of the simple feature after inset transformation</p>
</dd>
<dt>inside_inset</dt><dd><p>logical indicating points inside the inset viewport</p>
</dd>
<dt>inset_scale</dt><dd><p>1 for points outside the inset, otherwise the configured inset scale parameter</p>
</dd>
</dl>



<h3>See Also</h3>

<p><code><a href="ggmapinset.html#topic+stat_sf_coordinates_inset">ggmapinset::stat_sf_coordinates_inset()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)

events &lt;- data.frame(
  county = c("Mecklenburg", "Carteret", "Moore", "Caldwell"),
  proportion_A = c(0.1, 0.8, 0.0, 0.6)
)

ggplot(events, aes(location = county)) +
  geom_sf(aes(fill = proportion_A), stat = "automap") +
  geom_label(aes(label = county), stat = "automap_coords") +
  coord_automap(feature_type = "sf.nc")
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package makemyprior</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {makemyprior}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#compile_stan'><p>Compile stan-model</p></a></li>
<li><a href='#create_stan_file'><p>Create a &quot;skeleton&quot; for custom Stan code</p></a></li>
<li><a href='#eval_joint_prior'><p>Evaluate the joint variance prior</p></a></li>
<li><a href='#eval_pc_prior'><p>Evaluate PC prior for variance proportion</p></a></li>
<li><a href='#expit'><p>expit</p></a></li>
<li><a href='#extract_posterior_effect'><p>Extract the posterior of a random effect</p></a></li>
<li><a href='#extract_posterior_parameter'><p>Extract the posterior parameter estimate</p></a></li>
<li><a href='#find_pc_prior_param'><p>Find suitable PC prior parameters</p></a></li>
<li><a href='#get_parameter_order'><p>Internal variance parameter order</p></a></li>
<li><a href='#inference_inla'><p>Run inference</p></a></li>
<li><a href='#inference_stan'><p>Run inference</p></a></li>
<li><a href='#latin_data'><p>Latin square experiment data</p></a></li>
<li><a href='#logit'><p>logit</p></a></li>
<li><a href='#make_prior'><p>Making a prior object</p></a></li>
<li><a href='#makemyprior_example_model'><p>Returning a simple example prior object</p></a></li>
<li><a href='#makemyprior_gui'><p>Graphical prior construction</p></a></li>
<li><a href='#makemyprior_models'><p>List available priors, latent models and likelihoods</p></a></li>
<li><a href='#makemyprior_plotting'><p>List of available plotting functions</p></a></li>
<li><a href='#mc'><p>Define latent component</p></a></li>
<li><a href='#neonatal_data'><p>Neonatal mortality data</p></a></li>
<li><a href='#plot_marginal_prior'><p>Plotting prior for a single parameter (weight or variance (not standard deviation))</p></a></li>
<li><a href='#plot_posterior_fixed'><p>Plotting posterior distributions</p></a></li>
<li><a href='#plot_posterior_stan'><p>Plotting posterior distributions</p></a></li>
<li><a href='#plot_posterior_variance'><p>Plotting posterior variances, standard deviations or precisions</p></a></li>
<li><a href='#plot_prior'><p>Plotting prior distributions</p></a></li>
<li><a href='#plot_several_posterior_stan'><p>Plotting several posterior distributions</p></a></li>
<li><a href='#plot_tree_structure'><p>Plotting the prior tree structure graph</p></a></li>
<li><a href='#plot.mmp_prior'><p>Plotting</p></a></li>
<li><a href='#print.mmp_prior'><p>Print</p></a></li>
<li><a href='#scale_precmat'><p>Scaling precision matrix</p></a></li>
<li><a href='#summary.mmp_prior'><p>Short summary</p></a></li>
<li><a href='#typical_variance'><p>Compute the typical variance</p></a></li>
<li><a href='#wheat_data'><p>Genomic wheat breeding model data</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Intuitive Construction of Joint Priors for Variance Parameters</td>
</tr>
<tr>
<td>Version:</td>
<td>1.2.2</td>
</tr>
<tr>
<td>Description:</td>
<td>Tool for easy prior construction and visualization. It helps to formulates joint prior distributions for variance parameters in latent Gaussian models. The resulting prior is robust and can be created in an intuitive way. A graphical user interface (GUI) can be used to choose the joint prior, where the user can click through the model and select priors. An extensive guide is available in the GUI. The package allows for direct inference with the specified model and prior. Using a hierarchical variance decomposition, we formulate a joint variance prior that takes the whole model structure into account. In this way, existing knowledge can intuitively be incorporated at the level it applies to. Alternatively, one can use independent variance priors for each model components in the latent Gaussian model. Details can be found in the accompanying scientific paper: Hem, Fuglstad, Riebler (2024, Journal of Statistical Software, &lt;<a href="https://doi.org/10.18637%2Fjss.v110.i03">doi:10.18637/jss.v110.i03</a>&gt;).</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/ingebogh/makemyprior">https://github.com/ingebogh/makemyprior</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/ingebogh/makemyprior/issues">https://github.com/ingebogh/makemyprior/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Imports:</td>
<td>ggplot2, Matrix, methods, shiny, shinyjs, shinyBS, visNetwork,
rlang, MASS</td>
</tr>
<tr>
<td>Suggests:</td>
<td>rstan (&ge; 2.21.2), INLA (&ge; 20.03.17), knitr, rmarkdown</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.6.0)</td>
</tr>
<tr>
<td>Additional_repositories:</td>
<td><a href="https://inla.r-inla-download.org/R/stable/">https://inla.r-inla-download.org/R/stable/</a></td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-08-23 10:35:16 UTC; ingebogh</td>
</tr>
<tr>
<td>Author:</td>
<td>Ingeborg Hem <a href="https://orcid.org/0009-0008-3229-0184"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [cre, aut],
  Geir-Arne Fuglstad
    <a href="https://orcid.org/0000-0003-4995-2152"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Andrea Riebler <a href="https://orcid.org/0009-0004-3998-4032"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Ingeborg Hem &lt;ingeborg.hem@ntnu.no&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-08-23 11:10:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='compile_stan'>Compile stan-model</h2><span id='topic+compile_stan'></span>

<h3>Description</h3>

<p>Function that compiles the stan-code for inference that is included in the model.
The compiled version is stored in a .rds-file, which is by default stored in tempdir().
Can also be stored in the package (permanent = TRUE), or in a custom directory.
In the latter case, this custom directory must be specified every time
<a href="#topic+inference_stan">inference_stan</a> is called.
This will also be done by <a href="#topic+inference_stan">inference_stan</a>, but this way can save some time if it is not
already pre-compiled.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compile_stan(save = FALSE, permanent = FALSE, path = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="compile_stan_+3A_save">save</code></td>
<td>
<p>Whether to save stan-file to location in package or not, defaults to <code>FALSE</code>. Must be in interactive session to save the object to a file.</p>
</td></tr>
<tr><td><code id="compile_stan_+3A_permanent">permanent</code></td>
<td>
<p>If <code>TRUE</code>, the file is stored in the package directory. If <code>FALSE</code> (default),
the file is saved in <code>tempdir()</code>.</p>
</td></tr>
<tr><td><code id="compile_stan_+3A_path">path</code></td>
<td>
<p>Only used if file cannot be saved in the package folder. This is a path to a folder where the file
is stored, do not specify a name for the file! (It will be called <code>"full_file.rds"</code>, and should not be changed.)
This argument makes the <code>permanent</code> argument being ignored.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note that you will get a message saying something about integer division. The PC priors on variance proportions
are represented by splines, and to evaluate them in Stan we look up values, and use integer division for this. This does
not cause problems.
</p>


<h3>Value</h3>

<p>Returns the stan-model invisibly.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
if (interactive() &amp;&amp; requireNamespace("rstan")){
  compile_stan(save = TRUE) # saving in tempdir()
}

</code></pre>

<hr>
<h2 id='create_stan_file'>Create a &quot;skeleton&quot; for custom Stan code</h2><span id='topic+create_stan_file'></span>

<h3>Description</h3>

<p>Makes and saves files with generic code
for writing custom Stan code and still use the HD prior.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_stan_file(save = FALSE, location = "")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="create_stan_file_+3A_save">save</code></td>
<td>
<p>To confirm that files can be saved (default FALSE).</p>
</td></tr>
<tr><td><code id="create_stan_file_+3A_location">location</code></td>
<td>
<p>Path to location.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Must be in an interactive session to store the code.
A folder called <code>"my_stan_code"</code> will be created in <code>location</code>.
If the folder already exists in the
specified location, you get an error. The folder contains:
</p>

<dl>
<dt><code>main_file.stan</code></dt><dd><p>Main file. Can put all necessary functions here, but for a cleaner code
that is easier to read, we put the functions in separate files.</p>
</dd>
<dt><code>jacobian.stan</code></dt><dd><p>Function that automatically computes the Jacobian, needed
to transform from weights and total variance parameterization to log-variance parameterization.</p>
</dd>
<dt><code>prior_distributions.stan</code></dt><dd><p>Functions for computing the prior distributions.</p>
</dd>
</dl>

<p>The provided code is written so a random intercept model with an intercept, a group effect and
a residual effect can be fitted:
</p>

<dl>
<dt><code>example_custom_stan.R</code></dt><dd><p>R script showing how one can fit a random intercept model using the provided code.</p>
</dd>
</dl>

<p>The code can be expanded to fit the desired model.
This requires some knowledge about Stan.
No more documentation is given, as this is merely an offer to users who want to use other models than
what are provided in the package already, and will be highly model specific.
</p>


<h3>Value</h3>

<p>Nothing.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
create_stan_file(TRUE, "")

## End(Not run)

</code></pre>

<hr>
<h2 id='eval_joint_prior'>Evaluate the joint variance prior</h2><span id='topic+eval_joint_prior'></span><span id='topic+make_eval_prior_data'></span>

<h3>Description</h3>

<p>Function for evaluating the joint variance prior stored in <code>prior_obj</code>. To compute the joint prior, the functions needs
to know the transformation from the total variance/variance proportion scale to log-variance scale.
This is computed before inference, but is not stored in the <code>mmp_prior</code>-object.
To avoid having to recompute this for every evaluation and thus improve the speed, we make a condensed data object with
the function <a href="#topic+make_eval_prior_data">make_eval_prior_data</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>eval_joint_prior(theta, prior_data)

make_eval_prior_data(prior_obj)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="eval_joint_prior_+3A_theta">theta</code></td>
<td>
<p>Vector of log variances. The order of the log variances is
the same as specified in the formula, with the residual variance at the end for a Gaussian likelihood. To be sure,
you can use <a href="#topic+get_parameter_order">get_parameter_order</a> to check the order.</p>
</td></tr>
<tr><td><code id="eval_joint_prior_+3A_prior_data">prior_data</code></td>
<td>
<p>An object from <a href="#topic+make_eval_prior_data">make_eval_prior_data</a>.</p>
</td></tr>
<tr><td><code id="eval_joint_prior_+3A_prior_obj">prior_obj</code></td>
<td>
<p>Object of class <code>mmp_prior</code>, see <a href="#topic+make_prior">make_prior</a>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note that a Jeffreys' prior is improper and sampling with the prior only will not work when it
is used. For sampling from the prior (for example for debugging), use a proper prior for all parameters instead.
</p>
<p>The
<code>make_eval_prior_data</code> function is used to create a condensed version of the prior object from
<code>make_prior</code>, that only contains what is needed to compute the joint prior. Since the HD prior is chosen on
total variances and variance proportions, some additional information is needed
to compute the Jacobian for the joint prior. To improve the speed, we do this once before evaluating the prior.
</p>
<p>Expert option: <code>make_eval_prior_data</code> can also be used to extract the prior to be used with 'regular' INLA. See
examples for how this can be done.
</p>


<h3>Value</h3>

<p>Logarithm of the prior density.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ex_model &lt;- makemyprior_example_model()
get_parameter_order(ex_model) # a, b, eps
prior_data &lt;- make_eval_prior_data(ex_model)
eval_joint_prior(c(0, 0, 0), prior_data)
eval_joint_prior(c(-1, 0, 1), prior_data)

# a model with only 2 variance parameters
if (interactive()){

  data &lt;- list(
    a = rep(1:10, each = 10)
  )
  set.seed(1); data$y &lt;- rnorm(10, 0, 0.4)[data$a] + rnorm(100, 0, 1)

  # random intercept model
  ex_model2 &lt;- make_prior(y ~ mc(a), data, family = "gaussian",
                          prior = list(tree = "s2 = (a, eps)",
                                       w = list(s2 = list(prior = "pc0", param = 0.25)),
                                       V = list(s2 = list(prior = "pc", param = c(3, 0.05)))),
                          intercept_prior = c(0, 1000))

  prior_data2 &lt;- make_eval_prior_data(ex_model2)
  # evaluating the prior in a grid
  theta_a &lt;- seq(-8, 4, 0.1)
  theta_eps &lt;- seq(-8, 4, 0.1)
  res &lt;- matrix(nrow = 0, ncol = 3)
  for (ind in 1:length(theta_a)){
    for (jnd in 1:length(theta_eps)){
      res &lt;- rbind(res, c(theta_a[ind], theta_eps[jnd],
                          eval_joint_prior(c(theta_a[ind], theta_eps[jnd]), prior_data2)))
    }
  }

  # graph showing the prior
  if (requireNamespace("ggplot2")){
    res2 &lt;- as.data.frame(res)
    names(res2) &lt;- c("x", "y", "z")
    # Note from the "exp(z)" that we use the posterior, and not log posterior, in this plot
    ggplot(res2, aes(x = x, y = y, z = exp(z), fill = exp(z))) +
      geom_raster() +
      geom_contour(color = "black") +
      scale_fill_viridis_c(option = "E") +
      xlab("Log variance of 'a'") +
      ylab("Log residual variance") +
      labs(fill = "Density") +
      theme_bw()
  }

}

## Not run: 

# How an HD prior can be computed with \code{makemyprior}, and then sent to regular INLA 
# (expert option).
# Note the use of the hidden \code{make_jpr}-function.
# Also note that the order of the parameters must be the same as in the call to \code{make_prior}.
# The residual variance is put in the correct place by \code{make_jpr}.
data &lt;- list(
  a = rep(1:10, each = 100),
  b = rep(1:100, times = 10)
)
set.seed(1); data$y &lt;- rnorm(100, 0, 0.4)[data$a] + rnorm(100, 0, 0.6)[data$b] + rnorm(1000, 0, 1)
prior &lt;- make_prior(y ~ mc(a) + mc(b), data, family = "gaussian",
                    prior = list(tree = "s1 = (a, b); s2 = (s1, eps)",
                                 w = list(s2 = list(prior = "pc0", param = 0.25)),
                                 V = list(s2 = list(prior = "pc", param = c(3, 0.05)))),
                    intercept_prior = c(0, 1000))
jpr_dat &lt;- make_eval_prior_data(prior)
res &lt;- inla(y ~ f(a) + f(b),
            data = data,
            control.fixed = list(prec.intercept = 1/1000^2),
            control.expert = list(jp = makemyprior:::make_jpr(jpr_dat)))

## End(Not run)
</code></pre>

<hr>
<h2 id='eval_pc_prior'>Evaluate PC prior for variance proportion</h2><span id='topic+eval_pc_prior'></span>

<h3>Description</h3>

<p>Evaluate PC prior for a variance proportion.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>eval_pc_prior(x, obj, param, logitscale = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="eval_pc_prior_+3A_x">x</code></td>
<td>
<p>Values to evaluate prior in.</p>
</td></tr>
<tr><td><code id="eval_pc_prior_+3A_obj">obj</code></td>
<td>
<p>Prior object from <a href="#topic+make_prior">make_prior</a></p>
</td></tr>
<tr><td><code id="eval_pc_prior_+3A_param">param</code></td>
<td>
<p>Which weight to plot, indicated using syntax shown when printing (do not need to include the
<code>w[..]</code> part to indicate that it is a variance proportion, but can be included). Print the prior object
to see syntax for each weight.</p>
</td></tr>
<tr><td><code id="eval_pc_prior_+3A_logitscale">logitscale</code></td>
<td>
<p>Is the input <code>x</code> on logit-scale? (default <code>FALSE</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns density for the given variance proportion.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ex_prior &lt;- makemyprior_example_model()
eval_pc_prior(seq(0, 1, 0.01), ex_prior, "eps/eps_a_b")
# or:
eval_pc_prior(seq(0, 1, 0.01), ex_prior, "w[eps/eps_a_b]")

</code></pre>

<hr>
<h2 id='expit'>expit</h2><span id='topic+expit'></span>

<h3>Description</h3>

<p>Calculates inverse logit, exp(x)/(1+exp(x)) = 1/(1+exp(-x))
</p>


<h3>Usage</h3>

<pre><code class='language-R'>expit(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="expit_+3A_x">x</code></td>
<td>
<p>Real number, or vector of reals</p>
</td></tr>
</table>


<h3>Value</h3>

<p>expit value
</p>


<h3>Examples</h3>

<pre><code class='language-R'>expit(2)
expit(seq(-5, 5, 1))

</code></pre>

<hr>
<h2 id='extract_posterior_effect'>Extract the posterior of a random effect</h2><span id='topic+extract_posterior_effect'></span>

<h3>Description</h3>

<p>Extract the posterior of a random effect in the model for inference done with Stan
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extract_posterior_effect(obj, effname)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="extract_posterior_effect_+3A_obj">obj</code></td>
<td>
<p>An object from <code>inference_stan</code>.</p>
</td></tr>
<tr><td><code id="extract_posterior_effect_+3A_effname">effname</code></td>
<td>
<p>Name of the random effect, same name as in the data.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a matrix with the posterior samples of the chosen effect
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
if (interactive() &amp;&amp; requireNamespace("rstan")){
  ex_prior &lt;- makemyprior_example_model()
  res_stan &lt;- inference_stan(ex_prior, iter = 100)
  # Note: For reliable results, increase the number of iterations (e.g., 'iter = 2000')
  extract_posterior_effect(res_stan, "a")
}

</code></pre>

<hr>
<h2 id='extract_posterior_parameter'>Extract the posterior parameter estimate</h2><span id='topic+extract_posterior_parameter'></span>

<h3>Description</h3>

<p>Extract the posterior parameter estimate of a random effect variance or fixed effect coefficient
when inference is done with Stan
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extract_posterior_parameter(obj, param)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="extract_posterior_parameter_+3A_obj">obj</code></td>
<td>
<p>An object from <code>inference_stan</code>.</p>
</td></tr>
<tr><td><code id="extract_posterior_parameter_+3A_param">param</code></td>
<td>
<p>Name of the variance parameter, which is the same as the name of the corresponding
fixed or random effect in the data. Intercept is denoted 'intercept', and residual variance is denoted 'eps'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a vector with the posterior samples of the chosen parameter, on variance scale for
variances parameters and original (the common) scale for fixed effect coefficients
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
if (interactive() &amp;&amp; requireNamespace("rstan")){
  ex_prior &lt;- makemyprior_example_model()
  res_stan &lt;- inference_stan(ex_prior, iter = 100)
  # Note: For reliable results, increase the number of iterations (e.g., 'iter = 2000')
  extract_posterior_parameter(res_stan, "intercept")
  extract_posterior_parameter(res_stan, "a")
}

</code></pre>

<hr>
<h2 id='find_pc_prior_param'>Find suitable PC prior parameters</h2><span id='topic+find_pc_prior_param'></span>

<h3>Description</h3>

<p>Returns the <code>U</code> value in P(<code>U</code> &gt; sigma) = <code>alpha</code> for a PC prior on standard deviation given an
equal-tailed credible interval
P(<code>lower</code> &lt; <code>func</code>(x) &lt; <code>upper</code>) = <code>prob</code> where x is a Gaussian variable with
zero mean standard deviation sigma.
Note that this function uses sampling.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find_pc_prior_param(
  lower,
  upper,
  alpha = 0.05,
  func = exp,
  N = 10000,
  prob = 0.95
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="find_pc_prior_param_+3A_lower">lower</code></td>
<td>
<p>lower end of credible interval</p>
</td></tr>
<tr><td><code id="find_pc_prior_param_+3A_upper">upper</code></td>
<td>
<p>upper end of credible interval</p>
</td></tr>
<tr><td><code id="find_pc_prior_param_+3A_alpha">alpha</code></td>
<td>
<p>tail probability of the PC prior (default = <code>0.05</code>)</p>
</td></tr>
<tr><td><code id="find_pc_prior_param_+3A_func">func</code></td>
<td>
<p>function to scale Gaussian variables to match desired credible interval scale,
default is the exponential function</p>
</td></tr>
<tr><td><code id="find_pc_prior_param_+3A_n">N</code></td>
<td>
<p>number of samples to use when sampling sigma and x, default is <code>1e4</code></p>
</td></tr>
<tr><td><code id="find_pc_prior_param_+3A_prob">prob</code></td>
<td>
<p>amount of mass to put in the credible interval, default is <code>0.95</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>The <code>U</code>-value to pass to the PC prior. NB! Store result to avoid rerunning this function, as it uses sampling.
The function also prints (sampled) quantiles for the U-value that is returned.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>find_pc_prior_param(0.1, 10)

</code></pre>

<hr>
<h2 id='get_parameter_order'>Internal variance parameter order</h2><span id='topic+get_parameter_order'></span>

<h3>Description</h3>

<p>Returns the internal order of the variance parameters related to each random effect in the model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_parameter_order(prior_obj)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_parameter_order_+3A_prior_obj">prior_obj</code></td>
<td>
<p>Object of class <code>mmp_prior</code>, see <a href="#topic+make_prior">make_prior</a>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Names of the random effects in the model in the order the prior object reads them.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ex_model &lt;- makemyprior_example_model()
get_parameter_order(ex_model)

</code></pre>

<hr>
<h2 id='inference_inla'>Run inference</h2><span id='topic+inference_inla'></span>

<h3>Description</h3>

<p>This function helps you run inference with INLA using a prior object from <a href="#topic+make_prior">make_prior</a>.
You must have INLA installed to run this. INLA can be installed with:
<code>install.packages("INLA", repos = c(getOption("repos"), INLA = "https://inla.r-inla-download.org/R/stable"), dep = TRUE)</code>.
Also see <a href="https://www.r-inla.org/">r-inla.org</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>inference_inla(prior_obj, use_likelihood = TRUE, print_prior = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="inference_inla_+3A_prior_obj">prior_obj</code></td>
<td>
<p>An object from <a href="#topic+make_prior">make_prior</a>, from <a href="#topic+makemyprior_gui">makemyprior_gui</a>, from <a href="#topic+inference_stan">inference_stan</a>, or from <a href="#topic+inference_inla">inference_inla</a> (for refitting model)</p>
</td></tr>
<tr><td><code id="inference_inla_+3A_use_likelihood">use_likelihood</code></td>
<td>
<p>Whether to sample from the prior only (FALSE, can be used for e.g. debugging or to look at the priors on variance parameters when using an HD prior,
see also Details), or to use the likelihood and data to get the posterior (TRUE, default).</p>
</td></tr>
<tr><td><code id="inference_inla_+3A_print_prior">print_prior</code></td>
<td>
<p>Whether to print a text with the chosen prior or not (default TRUE)</p>
</td></tr>
<tr><td><code id="inference_inla_+3A_...">...</code></td>
<td>
<p>Other values to be sent to INLA.
Useful arguments include <code>Ntrials</code> for the binomial likelihood and <code>E</code> (mean E_i in E_i*exp(eta_i)) for the Poisson likelihood.
We set the default value of <code>num.threads</code> to 1 (this can however be changed).
See <a href="INLA.html#topic+inla">inla</a> for details.
Can be anything sent to <a href="INLA.html#topic+inla">inla</a> except for <code>control.expert</code> and arguments that specify priors.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Jeffreys' prior is improper. If <code>use_likelihood = FALSE</code> and Jeffreys' prior is used for the total variance, the prior will be changed to a Gaussian(0,1) prior on
the log total variance. This means that it does not make sense to look at the variances/standard deviations/precisions,
but the variance proportions will be correct. Note that this is only an issue when sampling from the prior
(i.e., not using the likelihood).
</p>


<h3>Value</h3>

<p>A named list with a prior object (<code>prior</code>), an inla-object (<code>inla</code>) and some data inla requires (<code>inla_data</code>).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

vignette("make_prior", package = "makemyprior")

## End(Not run)

ex_prior &lt;- makemyprior_example_model()
if (interactive() &amp;&amp; requireNamespace("INLA")){
  posterior &lt;- inference_inla(ex_prior)
  plot(posterior)
}

</code></pre>

<hr>
<h2 id='inference_stan'>Run inference</h2><span id='topic+inference_stan'></span>

<h3>Description</h3>

<p>This function helps you run inference with <a href="rstan.html#topic+rstan">rstan</a> using a prior object from <a href="#topic+make_prior">make_prior</a>.
Note that you must install Stan: <code>install.packages("rstan")</code>, see <a href="https://mc-stan.org/">mc-stan.org</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>inference_stan(
  prior_obj,
  use_likelihood = TRUE,
  print_prior = TRUE,
  path = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="inference_stan_+3A_prior_obj">prior_obj</code></td>
<td>
<p>An object from <a href="#topic+make_prior">make_prior</a>, from <a href="#topic+makemyprior_gui">makemyprior_gui</a>,
from <a href="#topic+inference_stan">inference_stan</a>, or from <a href="#topic+inference_inla">inference_inla</a> (for refitting model)</p>
</td></tr>
<tr><td><code id="inference_stan_+3A_use_likelihood">use_likelihood</code></td>
<td>
<p>Whether to sample from the prior only (<code>FALSE</code>, can be used for e.g.
debugging or to look at the priors on variance parameters when using an HD prior, see also Details), or
to use the likelihood and data to get the posterior (<code>TRUE</code>, default).</p>
</td></tr>
<tr><td><code id="inference_stan_+3A_print_prior">print_prior</code></td>
<td>
<p>Whether to print a text with the chosen prior or not (default <code>TRUE</code>)</p>
</td></tr>
<tr><td><code id="inference_stan_+3A_path">path</code></td>
<td>
<p>Path to folder. See <a href="#topic+compile_stan">compile_stan</a>. Only necessary if compiled code is
stored somewhere else than in <code>tempdir()</code> or the package directory (checking <code>tempdir()</code> first).</p>
</td></tr>
<tr><td><code id="inference_stan_+3A_...">...</code></td>
<td>
<p>Other arguments to be sent to <a href="rstan.html#topic+sampling">sampling</a>. Useful arguments include:
</p>

<dl>
<dt><code>iter</code></dt><dd><p>number of iterations for each chain (including burn-in, 2000 is the default)</p>
</dd>
<dt><code>warmup</code></dt><dd><p>number of iterations for the burn-in (default is <code>iter</code>/2)</p>
</dd>
<dt><code>chains</code></dt><dd><p>number of chains</p>
</dd>
<dt><code>init</code></dt><dd><p>initial value of the model parameters on internal parameterization (log-variances and covariate coefficients)</p>
</dd>
<dt><code>seed</code></dt><dd><p>seed value for random number generation</p>
</dd>
</dl>

<p>See <a href="rstan.html#topic+sampling">sampling</a> for more details. Note that for inference with <code>stan</code>, the <code>Ntrials</code> (the size parameter for binomial likelihood) and 
<code>E</code> (the mean E_i in  E_i*exp(eta_i) for Poisson likelihood) argument must be included in the data object, and
cannot be provided to this function.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>We cannot sample from a Jeffreys' prior since it is improper.
If <code>use_likelihood = FALSE</code> and Jeffreys' prior is used for the total variance, the prior will be changed to a Gaussian(0,1) prior on
the log total variance. This means that it does not make sense to look at the variances/standard deviations/precisions,
but the variance proportions will be correct. Note that this is only an issue when sampling from the prior
(i.e., not using the likelihood).
</p>


<h3>Value</h3>

<p>A named list with a prior object (<code>prior</code>), a stan-object (<code>stan</code>) and some data stan requires (<code>stan_data</code>).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

vignette("make_prior", package = "makemyprior")

## End(Not run)

ex_prior &lt;- makemyprior_example_model()
if (interactive() &amp;&amp; requireNamespace("rstan")){
  posterior &lt;- inference_stan(ex_prior, iter = 100)
  # Note: For reliable results, increase the number of iterations (e.g., 'iter = 2000')
  plot(posterior)
}

## Not run: 

posterior &lt;- inference_stan(ex_prior, use_likelihood = TRUE, iter = 1e4, chains = 1, seed = 1)
plot(posterior)

## End(Not run)


</code></pre>

<hr>
<h2 id='latin_data'>Latin square experiment data</h2><span id='topic+latin_data'></span>

<h3>Description</h3>

<p>Simulated dataset for latin square experiment with 81 observations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>latin_data
</code></pre>


<h3>Format</h3>

<p>A list with the following variables:
</p>

<dl>
<dt>y</dt><dd><p>Response</p>
</dd>
<dt>lin</dt><dd><p>Covariate for linear effect of treatment</p>
</dd>
<dt>row</dt><dd><p>Row indexes</p>
</dd>
<dt>col</dt><dd><p>Column indexes</p>
</dd>
<dt>treat_iid, treat_rw2</dt><dd><p>Treatment indexes</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

vignette("latin_square", package = "makemyprior")

## End(Not run)

if (interactive() &amp;&amp; requireNamespace("rstan")){

  formula &lt;- y ~ lin + mc(row) + mc(col) + mc(iid) +
    mc(rw2, model = "rw2", constr = TRUE, lin_constr = TRUE)

  prior &lt;- make_prior(
    formula, latin_data,
    prior = list(tree = "s1 = (rw2, iid);
                                 s2 = (row, col, s1); s3 = (s2, eps)",
                 w = list(s1 = list(prior = "pc0", param = 0.25),
                          s2 = list(prior = "dirichlet"),
                          s3 = list(prior = "pc0", param = 0.25))))

  posterior &lt;- inference_stan(prior, iter = 150, warmup = 50,
                              seed = 1, init = "0", chains = 1)
  # Note: For reliable results, increase the number of iterations

  plot(prior)
  plot_tree_structure(prior)
  plot_posterior_fixed(posterior)
  plot_posterior_stan(posterior, param = "prior", prior = TRUE)
}

## Not run: 

posterior &lt;- inference_stan(prior, iter = 15000, warmup = 5000,
                            seed = 1, init = "0", chains = 1)

plot(prior)
plot_tree_structure(prior)
plot_posterior_fixed(posterior)
plot_posterior_stan(posterior, param = "prior", prior = TRUE)

## End(Not run)

</code></pre>

<hr>
<h2 id='logit'>logit</h2><span id='topic+logit'></span>

<h3>Description</h3>

<p>Calculates logit, log(x/(1-x)) = log(x) - log(1-x)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>logit(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="logit_+3A_x">x</code></td>
<td>
<p>Value between 0 and 1, or vector of such values</p>
</td></tr>
</table>


<h3>Value</h3>

<p>logit value
</p>


<h3>Examples</h3>

<pre><code class='language-R'>logit(0.5)
logit(seq(0, 1, 0.1))

</code></pre>

<hr>
<h2 id='make_prior'>Making a prior object</h2><span id='topic+make_prior'></span>

<h3>Description</h3>

<p>Make a prior object with all necessary information about the prior and model.
The object can either be sent to <a href="#topic+makemyprior_gui">makemyprior_gui</a>
or used directly for inference with Stan (<a href="#topic+inference_stan">inference_stan</a>) or INLA (<a href="#topic+inference_inla">inference_inla</a>).
<a href="#topic+eval_joint_prior">eval_joint_prior</a> can be used to evaluate the prior.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_prior(
  formula,
  data,
  family = "gaussian",
  prior = list(),
  intercept_prior = c(),
  covariate_prior = list()
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="make_prior_+3A_formula">formula</code></td>
<td>
<p>A formula object, using the function <a href="#topic+mc">mc</a>.</p>
</td></tr>
<tr><td><code id="make_prior_+3A_data">data</code></td>
<td>
<p>The data used in the model, as a <code>data.frame</code> or <code>list</code>. All elements must have the same length.</p>
</td></tr>
<tr><td><code id="make_prior_+3A_family">family</code></td>
<td>
<p>A string indicating the likelihood family. <code>gaussian</code> with identity link is the default.
<code>binomial</code> with logit link and <code>poisson</code> with log link are also possible.</p>
</td></tr>
<tr><td><code id="make_prior_+3A_prior">prior</code></td>
<td>

<dl>
<dt><code>tree</code></dt><dd>
<p>The tree structure as a string. A split is specified as <code>s1 = (a,b)</code>, where <code>(s1)</code>
represents a split node and can be any name except names of the input data in <code>data</code> and
the reserved <code>(eps)</code>, which is used for residuals for a Gaussian likelihood. Short names
are recommended. Note that these split names are just used in the initial specification, and
will not be used later as they are changed by the function automatically.
The child nodes for each split are included in parentheses separated by commas, and each
split is separated by semicolons.
Singletons are included as <code>(a)</code>.
</p>
</dd>
<dt><code>V</code></dt><dd><p>A named list with information on the priors on each top node and singleton,
i.e., all variances.
The names in the list are the top node and singleton names from the <code>tree</code> argument.
Syntax is <code>V = list(s1 = list(prior = prior_name, param = parameter_vector))</code>.</p>
</dd>
<dt><code>w</code></dt><dd><p>A named list with information on the priors on each split, i.e., all variance proportions.
The names in the list are the split node names from the <code>tree</code> argument, and is specified
in the same way as the variance priors in <code>V</code>.</p>
</dd>
</dl>

<p>Prior on residuals can be defined using <code>eps</code> in this list in the case of a Gaussian likelihood.</p>
</td></tr>
<tr><td><code id="make_prior_+3A_intercept_prior">intercept_prior</code></td>
<td>
<p>Parameters for Gaussian prior on intercept, specified as a vector with mean and standard deviation.
Default is (0, 1000).</p>
</td></tr>
<tr><td><code id="make_prior_+3A_covariate_prior">covariate_prior</code></td>
<td>
<p>Parameters for Gaussian prior on coefficients of covariates,
specified as named list, each element is a vector with mean and standard deviation. Default is (0, 1000).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See <a href="#topic+makemyprior_models">makemyprior_models</a> for details on available priors and likelihoods.
</p>


<h3>Value</h3>

<p>Prior object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

vignette("make_prior", package = "makemyprior")

## End(Not run)

p &lt;- 10
m &lt;- 10
n &lt;- m*p

set.seed(1)
data &lt;- list(a = rep(1:p, each = m),
             b = rep(1:m, times = p),
             x = runif(n))
data$y &lt;- data$x + rnorm(p, 0, 0.5)[data$a] +
  rnorm(m, 0, 0.3)[data$b] + rnorm(n, 0, 1)

formula &lt;- y ~ x + mc(a) + mc(b)

prior &lt;- make_prior(formula, data, family = "gaussian",
                    intercept_prior = c(0, 1000),
                    covariate_prior = list(x = c(0, 100)))
prior
plot(prior)

</code></pre>

<hr>
<h2 id='makemyprior_example_model'>Returning a simple example prior object</h2><span id='topic+makemyprior_example_model'></span>

<h3>Description</h3>

<p>Creating a simple prior object using <a href="#topic+make_prior">make_prior</a>.
Used in examples of other functions in the package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>makemyprior_example_model(seed = 1)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="makemyprior_example_model_+3A_seed">seed</code></td>
<td>
<p>A seed value for reproducing the data (default <code>seed = 1</code>).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See the example for what model is made.
</p>


<h3>Value</h3>

<p>An object of class <code>mmp_prior</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ex_model &lt;- makemyprior_example_model()

## Not run: 
# The function corresponds to the following model call:

set.seed(1)

data &lt;- list(
  a = rep(1:10, each = 10),
  b = rep(1:10, times = 10)
)
data$y &lt;- rnorm(10, 0, 0.4)[data$a] + rnorm(10, 0, 0.6)[data$b] + rnorm(100, 0, 1)

formula &lt;- y ~ mc(a) + mc(b)

prior &lt;- make_prior(formula, data, family = "gaussian",
                    prior = list(tree = "s1 = (a, b); s2 = (s1, eps)",
                                 w = list(s2 = list(prior = "pc0", param = 0.25)),
                                 V = list(s2 = list(prior = "pc", param = c(3, 0.05)))),
                    intercept_prior = c(0, 1000))

## End(Not run)

</code></pre>

<hr>
<h2 id='makemyprior_gui'>Graphical prior construction</h2><span id='topic+makemyprior_gui'></span>

<h3>Description</h3>

<p>This functions opens a shiny app where the specified prior can be seen, and changed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>makemyprior_gui(prior, guide = FALSE, no_pc = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="makemyprior_gui_+3A_prior">prior</code></td>
<td>
<p>An object from <a href="#topic+make_prior">make_prior</a>.</p>
</td></tr>
<tr><td><code id="makemyprior_gui_+3A_guide">guide</code></td>
<td>
<p>Logical, whether to open the guide directly when the app is started. Default is <code>FALSE</code>. The guide
can be opened in the app at any time.</p>
</td></tr>
<tr><td><code id="makemyprior_gui_+3A_no_pc">no_pc</code></td>
<td>
<p>Turn off computation of the PC prior on splits when using the shiny-app, to avoid slow computations.
Upon closing, the PC priors will be computed. Default is <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns an object that can be sent to <a href="#topic+inference_stan">inference_stan</a> or <a href="#topic+inference_inla">inference_inla</a>.
Can also be sent to <a href="#topic+makemyprior_gui">makemyprior_gui</a> again.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

vignette("make_prior", package = "makemyprior")


## End(Not run)

if (interactive()){
   ex_prior &lt;- makemyprior_example_model()
   new_prior &lt;- makemyprior_gui(ex_prior)
}

</code></pre>

<hr>
<h2 id='makemyprior_models'>List available priors, latent models and likelihoods</h2><span id='topic+makemyprior_models'></span>

<h3>Description</h3>

<p>Prints available priors, latent models and likelihoods to use with <a href="#topic+make_prior">make_prior</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>makemyprior_models(type = c("prior", "latent", "likelihood"), select = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="makemyprior_models_+3A_type">type</code></td>
<td>
<p>Which of priors, latent models and likelihoods to list. Options are
<code>prior</code>, <code>latent</code> and <code>likelihood</code></p>
</td></tr>
<tr><td><code id="makemyprior_models_+3A_select">select</code></td>
<td>
<p>Which in each group to show details about.
<code>NULL</code> gives only list what exists (default),
<code>all</code> gives detailed information about everything in that category.
Can also ask for one or more specific priors/latent models/likelihoods</p>
</td></tr>
</table>


<h3>Value</h3>

<p>None.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>makemyprior_models("prior", c("pc0", "pc1"))
makemyprior_models("latent")
makemyprior_models("likelihood", "all")

</code></pre>

<hr>
<h2 id='makemyprior_plotting'>List of available plotting functions</h2><span id='topic+makemyprior_plotting'></span>

<h3>Description</h3>

<p>Directs to this help page.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>makemyprior_plotting()
</code></pre>


<h3>Details</h3>

<p>The available plotting functions are:
</p>

<ul>
<li><p><a href="#topic+plot_marginal_prior">plot_marginal_prior</a>
</p>
</li>
<li><p><a href="#topic+plot_posterior_fixed">plot_posterior_fixed</a>
</p>
</li>
<li><p><a href="#topic+plot_posterior_precision">plot_posterior_precision</a>
</p>
</li>
<li><p><a href="#topic+plot_posterior_stan">plot_posterior_stan</a>
</p>
</li>
<li><p><a href="#topic+plot_posterior_stdev">plot_posterior_stdev</a>
</p>
</li>
<li><p><a href="#topic+plot_posterior_variance">plot_posterior_variance</a>
</p>
</li>
<li><p><a href="#topic+plot_prior">plot_prior</a>
</p>
</li>
<li><p><a href="#topic+plot_several_posterior_stan">plot_several_posterior_stan</a>
</p>
</li>
<li><p><a href="#topic+plot_tree_structure">plot_tree_structure</a>
</p>
</li></ul>

<p>In addition the following functions can be used to extract posterior samples of
effects and parameters:
</p>

<ul>
<li><p><a href="#topic+extract_posterior_effect">extract_posterior_effect</a>
</p>
</li>
<li><p><a href="#topic+extract_posterior_parameter">extract_posterior_parameter</a>
</p>
</li></ul>

<p><a href="#topic+eval_pc_prior">eval_pc_prior</a> can be used to evaluate a PC prior for a weight parameter,
and <a href="#topic+eval_joint_prior">eval_joint_prior</a> to evaluate the whole joint prior.
</p>


<h3>Value</h3>

<p>None.
</p>

<hr>
<h2 id='mc'>Define latent component</h2><span id='topic+mc'></span>

<h3>Description</h3>

<p>Function for defining a latent component for the HD prior package. All model components must be specified, and if an HD
prior is used, this is specified later. See <a href="#topic+make_prior">make_prior</a> for more details and examples.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mc(
  label,
  model = "iid",
  constr = NULL,
  lin_constr = FALSE,
  Cmatrix = NULL,
  graph = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mc_+3A_label">label</code></td>
<td>
<p>Name of the component (short names is an advantage as they are used in the app), no default (MUST be provided)</p>
</td></tr>
<tr><td><code id="mc_+3A_model">model</code></td>
<td>
<p>Type of model, default is &quot;iid&quot; (see list of models: <a href="#topic+makemyprior_models">makemyprior_models</a>, <code>makemyprior_models("latent")</code>).</p>
</td></tr>
<tr><td><code id="mc_+3A_constr">constr</code></td>
<td>
<p>Sum-to-zero constraints on component (default TRUE)</p>
</td></tr>
<tr><td><code id="mc_+3A_lin_constr">lin_constr</code></td>
<td>
<p>Linear sum-to-zero constraint, TRUE/FALSE (only for rw2 and only for Stan)</p>
</td></tr>
<tr><td><code id="mc_+3A_cmatrix">Cmatrix</code></td>
<td>
<p>Precision for this component when <code>model = "generic0"</code>.
We recommend that the matrixes are scaled to the typical variance of the corresponding covariance matrix is 1.
This can be done with <a href="#topic+scale_precmat">scale_precmat</a> before sending matrix to <a href="#topic+mc">mc</a>.</p>
</td></tr>
<tr><td><code id="mc_+3A_graph">graph</code></td>
<td>
<p>Path to graph file for besag effect (see details).</p>
</td></tr>
<tr><td><code id="mc_+3A_...">...</code></td>
<td>
<p>Additional arguments used for inference. For inference with <a href="rstan.html#topic+rstan">rstan</a> or <a href="INLA.html#topic+inla">inla</a>,
the following is useful (especially for the Besag model):
</p>

<dl>
<dt><code>scale.model</code></dt><dd><p>if TRUE, the models are scaled so the geometric mean of the variance (typical variance) is 1</p>
</dd>
</dl>

<p>And some additional arguments that can be used by <a href="INLA.html#topic+inla">inla</a>. Useful arguments include:
</p>

<dl>
<dt><code>rankdef</code></dt><dd><p>number defining rank deficiency of the model</p>
</dd>
<dt><code>extraconstr</code></dt><dd><p>extra linear constraints (in addition to <code>constr</code>)</p>
</dd>
</dl>

<p>See <a href="INLA.html#topic+f">f</a> for details.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The graph argument is a path to a file describing neighbouring relationship on the following form:
First row: number of elements
The rest: First number is the index of this element, second is the number of neighbours, the rest is the index numbers
of all neighbours for this element.
If element 1 and 4 are neighbours, 1 should have 4 in its neighbour list, and 4 should have 1.
</p>


<h3>Value</h3>

<p>For specifying details on this latent component.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

vignette("make_prior", package = "makemyprior")

## End(Not run)

</code></pre>

<hr>
<h2 id='neonatal_data'>Neonatal mortality data</h2><span id='topic+neonatal_data'></span>

<h3>Description</h3>

<p>Simulated neonatal mortality data with 323 observations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>neonatal_data
</code></pre>


<h3>Format</h3>

<p>A list with the following variables:
</p>

<dl>
<dt>y</dt><dd><p>Response</p>
</dd>
<dt>Ntrials</dt><dd><p>Number of trials for each cluster</p>
</dd>
<dt>urban</dt><dd><p>Covariate indicating if cluster is urban (1) or rural (0)</p>
</dd>
<dt>nu</dt><dd><p>Cluster effect indexes</p>
</dd>
<dt>v</dt><dd><p>County effect indexes for iid effect</p>
</dd>
<dt>u</dt><dd><p>County effect indexes for Besag effect</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

vignette("neonatal_mortality", package = "makemyprior")

## End(Not run)

if (interactive() &amp;&amp; requireNamespace("rstan")){

  graph_path &lt;- paste0(path.package("makemyprior"), "/neonatal.graph")

  formula &lt;- y ~ urban + mc(nu) + mc(v) +
    mc(u, model = "besag", graph = graph_path, scale.model = TRUE)

  set.seed(1)
  find_pc_prior_param(lower = 0.1, upper = 10, prob = 0.9, N = 2e5)

  prior &lt;- make_prior(
    formula, neonatal_data, family = "binomial",
    prior = list(tree = "s1 = (u, v); s2 = (s1, nu)",
                 w = list(s1 = list(prior = "pc0", param = 0.25),
                          s2 = list(prior = "pc1", param = 0.75)),
                 V = list(s2 = list(prior = "pc",
                                    param = c(3.35, 0.05)))))

  posterior &lt;- inference_stan(prior, iter = 150, warmup = 50,
                              seed = 1, init = "0", chains = 1)
  # Note: For reliable results, increase the number of iterations

  plot(prior)
  plot_tree_structure(prior)
  plot_posterior_fixed(posterior)
  plot_posterior_stan(posterior, param = "prior", prior = TRUE)
}

## Not run: 

posterior &lt;- inference_stan(prior, iter = 15000, warmup = 5000,
                            seed = 1, init = "0", chains = 1)

plot(prior)
plot_tree_structure(prior)
plot_posterior_fixed(posterior)
plot_posterior_stan(posterior, param = "prior", prior = TRUE)

## End(Not run)
</code></pre>

<hr>
<h2 id='plot_marginal_prior'>Plotting prior for a single parameter (weight or variance (not standard deviation))</h2><span id='topic+plot_marginal_prior'></span>

<h3>Description</h3>

<p>Following the parameterization of the prior.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_marginal_prior(x, obj, param, sd = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot_marginal_prior_+3A_x">x</code></td>
<td>
<p>Values to evaluate prior in.</p>
</td></tr>
<tr><td><code id="plot_marginal_prior_+3A_obj">obj</code></td>
<td>
<p>An object from <code>make_prior</code>, <code>inference_stan</code>, <code>inference_inla</code>, or <code>makemyprior_gui</code></p>
</td></tr>
<tr><td><code id="plot_marginal_prior_+3A_param">param</code></td>
<td>
<p>Name of parameter to plot (see <code>print(obj)</code> for syntax). Note that only variances
will be plotted, so <code>V[..]</code> and <code>sigma^2[..]</code> must be used to indicate those parameters.</p>
</td></tr>
<tr><td><code id="plot_marginal_prior_+3A_sd">sd</code></td>
<td>
<p>Whether to plot variance parameters on the standard deviation (<code>TRUE</code>) or variance (<code>FALSE</code>, default) scale</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <a href="ggplot2.html#topic+ggplot">ggplot</a> with the posterior distribution.
See also <a href="#topic+makemyprior_plotting">makemyprior_plotting</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ex_prior &lt;- makemyprior_example_model()
plot_marginal_prior(seq(0, 1, 0.001), ex_prior, "w[a/a_b]")
plot_marginal_prior(seq(0, 1, 0.001), ex_prior, "w[eps/eps_a_b]")
plot_marginal_prior(seq(0, 5, 0.01), ex_prior, "V[eps_a_b]")

</code></pre>

<hr>
<h2 id='plot_posterior_fixed'>Plotting posterior distributions</h2><span id='topic+plot_posterior_fixed'></span>

<h3>Description</h3>

<p>Function for plotting the posterior distributions of the coefficients of the fixed effects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_posterior_fixed(obj)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot_posterior_fixed_+3A_obj">obj</code></td>
<td>
<p>An object from <code>inference_stan</code> or <code>inference_inla</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <a href="ggplot2.html#topic+ggplot">ggplot</a> with the posterior distributions.
See also <a href="#topic+makemyprior_plotting">makemyprior_plotting</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
if (interactive() &amp;&amp; requireNamespace("rstan")){
  ex_prior &lt;- makemyprior_example_model()
  res_stan &lt;- inference_stan(ex_prior, iter = 100)
  # Note: For reliable results, increase the number of iterations (e.g., 'iter = 2000')
  plot_posterior_fixed(res_stan)
}

</code></pre>

<hr>
<h2 id='plot_posterior_stan'>Plotting posterior distributions</h2><span id='topic+plot_posterior_stan'></span>

<h3>Description</h3>

<p>Function for plotting the posterior distributions of the random effect variances
on the scale of the tree parameterization.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_posterior_stan(
  obj,
  param = c("prior", "variance", "stdev", "precision"),
  prior = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot_posterior_stan_+3A_obj">obj</code></td>
<td>
<p>An object from <code>inference_stan</code></p>
</td></tr>
<tr><td><code id="plot_posterior_stan_+3A_param">param</code></td>
<td>
<p>A string indicating parameterization of plot.
<code>"prior"</code> for scale of parameters,
<code>"variance"</code>, <code>"stdev"</code> and <code>"precision"</code> also possible.</p>
</td></tr>
<tr><td><code id="plot_posterior_stan_+3A_prior">prior</code></td>
<td>
<p>Include prior in the plot? Only possible for <code>param = "prior"</code>.
Note that if Jeffreys' prior is used for the total variance, it will not be included in the plot.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <a href="ggplot2.html#topic+ggplot">ggplot</a> with the posterior distributions.
See also <a href="#topic+makemyprior_plotting">makemyprior_plotting</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

if (interactive() &amp;&amp; requireNamespace("rstan")){
  ex_prior &lt;- makemyprior_example_model()
  res_stan &lt;- inference_stan(ex_prior, iter = 100)
  # Note: For reliable results, increase the number of iterations (e.g., 'iter = 2000')
  plot_posterior_stan(res_stan)
}

</code></pre>

<hr>
<h2 id='plot_posterior_variance'>Plotting posterior variances, standard deviations or precisions</h2><span id='topic+plot_posterior_variance'></span><span id='topic+plot_posterior_stdev'></span><span id='topic+plot_posterior_precision'></span>

<h3>Description</h3>

<p>Plotting posterior variances, standard deviations or precisions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_posterior_variance(obj)

plot_posterior_stdev(obj)

plot_posterior_precision(obj)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot_posterior_variance_+3A_obj">obj</code></td>
<td>
<p>An object from <code>inference_stan</code> or <code>inference_inla</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <a href="ggplot2.html#topic+ggplot">ggplot</a> object with the plot
See also <a href="#topic+makemyprior_plotting">makemyprior_plotting</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
if (interactive() &amp;&amp; requireNamespace("rstan")){
  ex_prior &lt;- makemyprior_example_model()
  res_stan &lt;- inference_stan(ex_prior, iter = 100)
  # Note: For reliable results, increase the number of iterations (e.g., 'iter = 2000')
  plot_posterior_variance(res_stan)
}

if (interactive() &amp;&amp; requireNamespace("INLA")){
  ex_prior &lt;- makemyprior_example_model()
  res_inla &lt;- inference_inla(ex_prior)
  plot_posterior_variance(res_inla)
}

</code></pre>

<hr>
<h2 id='plot_prior'>Plotting prior distributions</h2><span id='topic+plot_prior'></span>

<h3>Description</h3>

<p>Function for plotting the prior distributions of the random effects on the scale of the parameters chosen
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_prior(obj)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot_prior_+3A_obj">obj</code></td>
<td>
<p>An object from <code>make_prior</code>, <code>inference_stan</code>, <code>inference_inla</code>, or <code>makemyprior_gui</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <a href="ggplot2.html#topic+ggplot">ggplot</a> with the prior distributions.
See also <a href="#topic+makemyprior_plotting">makemyprior_plotting</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ex_prior &lt;- makemyprior_example_model()
plot_prior(ex_prior)

</code></pre>

<hr>
<h2 id='plot_several_posterior_stan'>Plotting several posterior distributions</h2><span id='topic+plot_several_posterior_stan'></span>

<h3>Description</h3>

<p>Function for plotting the posterior distributions of the random effect variances
on the scale of the tree parameterization.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_several_posterior_stan(
  objs,
  param = c("prior", "variance", "stdev", "precision", "logvariance")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot_several_posterior_stan_+3A_objs">objs</code></td>
<td>
<p>A names list with objects of class <code>mmp_stan</code> from <code>inference_stan</code>, can be any length
(but typically length two for one prior (<code>use_likelihood = FALSE</code>) and posterior, or two posteriors).</p>
</td></tr>
<tr><td><code id="plot_several_posterior_stan_+3A_param">param</code></td>
<td>
<p>A string indicating parameterization of plot.
<code>"prior"</code> for scale of parameters,
<code>"variance"</code>, <code>"stdev"</code>, <code>"precision"</code> and <code>"logvariance"</code> are also possible.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>We cannot sample from a Jeffreys' prior since it is improper.
If Jeffreys' prior is used for the total variance, the prior will be changed to a Gaussian(0,1) prior on
the log total variance. This means that it does not make sense to look at the variances/standard deviations/precisions,
but the variance proportions will be correct.
See also <a href="#topic+makemyprior_plotting">makemyprior_plotting</a>.
</p>


<h3>Value</h3>

<p>A <a href="ggplot2.html#topic+ggplot">ggplot</a> with the posterior distributions.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
if (interactive() &amp;&amp; requireNamespace("rstan")){
  ex_prior1 &lt;- makemyprior_example_model(seed = 1)
  ex_prior2 &lt;- makemyprior_example_model(seed = 2)
  # Note: For reliable results, increase the number of iterations (e.g., 'iter = 2000')
  res_stan1 &lt;- inference_stan(ex_prior1, iter = 100)
  res_stan2 &lt;- inference_stan(ex_prior2, iter = 100)
  plot_several_posterior_stan(list(One = res_stan1, Two = res_stan2))
}

</code></pre>

<hr>
<h2 id='plot_tree_structure'>Plotting the prior tree structure graph</h2><span id='topic+plot_tree_structure'></span>

<h3>Description</h3>

<p>Can only be used for visualization in R.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_tree_structure(obj, nodenames)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot_tree_structure_+3A_obj">obj</code></td>
<td>
<p>An object from <code>make_prior</code>, <code>inference_stan</code>, <code>inference_inla</code>, or <code>makemyprior_gui</code></p>
</td></tr>
<tr><td><code id="plot_tree_structure_+3A_nodenames">nodenames</code></td>
<td>
<p>Custom names for each node (optional). Given as a named list with the default names as list names, and the
new names as list elements.
Do not need to provide all.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <a href="visNetwork.html#topic+visNetwork">visNetwork</a> with the tree graph
See also <a href="#topic+makemyprior_plotting">makemyprior_plotting</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ex_prior &lt;- makemyprior_example_model()
plot_tree_structure(ex_prior)

</code></pre>

<hr>
<h2 id='plot.mmp_prior'>Plotting</h2><span id='topic+plot.mmp_prior'></span><span id='topic+plot.mmp_inla'></span><span id='topic+plot.mmp_stan'></span>

<h3>Description</h3>

<p>Plotting
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'mmp_prior'
plot(x, ...)

## S3 method for class 'mmp_inla'
plot(x, ...)

## S3 method for class 'mmp_stan'
plot(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot.mmp_prior_+3A_x">x</code></td>
<td>
<p>Object of class <code>mmp_prior</code>, <code>mmp_inla</code> or <code>mmp_stan</code>.</p>
</td></tr>
<tr><td><code id="plot.mmp_prior_+3A_...">...</code></td>
<td>
<p>Additional arguments to plotting functions. Varies with what object is sent to function.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See <a href="#topic+plot_prior">plot_prior</a> (objects of class <code>mmp_prior</code>),
<a href="#topic+plot_posterior_stan">plot_posterior_stan</a> (objects of class <code>mmp_stan</code>), and
<a href="#topic+plot_posterior_variance">plot_posterior_variance</a> (objects of class <code>mmp_inla</code>),
</p>


<h3>Value</h3>

<p>None.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>pri &lt;- makemyprior_example_model()
plot(pri)

if (interactive() &amp;&amp; requireNamespace("rstan")){
  res_stan &lt;- inference_stan(ex_prior, iter = 100)
  # Note: For reliable results, increase the number of iterations (e.g., 'iter = 2000')
  plot(res_stan)
}

if (interactive() &amp;&amp; requireNamespace("INLA")){
  res_inla &lt;- inference_inla(pri)
 plot(res_inla)
}

</code></pre>

<hr>
<h2 id='print.mmp_prior'>Print</h2><span id='topic+print.mmp_prior'></span><span id='topic+print.mmp_inla'></span><span id='topic+print.mmp_stan'></span>

<h3>Description</h3>

<p>Print
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'mmp_prior'
print(x, ...)

## S3 method for class 'mmp_inla'
print(x, ...)

## S3 method for class 'mmp_stan'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.mmp_prior_+3A_x">x</code></td>
<td>
<p>Object of class <code>mmp_prior</code>, <code>mmp_inla</code> or <code>mmp_stan</code>.</p>
</td></tr>
<tr><td><code id="print.mmp_prior_+3A_...">...</code></td>
<td>
<p>For <code>mmp_stan</code> and <code>mmp_inla</code>, see <a href="base.html#topic+print.data.frame">print.data.frame</a>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns input object invisible.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>pri &lt;- makemyprior_example_model()
pri # or print(pri)

if (interactive() &amp;&amp; requireNamespace("rstan")){
  res_stan &lt;- inference_stan(ex_prior, iter = 100)
  # Note: For reliable results, increase the number of iterations (e.g., 'iter = 2000')
  res_stan # or print(res_stan)
}

if (interactive() &amp;&amp; requireNamespace("INLA")){
  res_inla &lt;- inference_inla(pri)
  res_inla # or print(res_inla)
}

</code></pre>

<hr>
<h2 id='scale_precmat'>Scaling precision matrix</h2><span id='topic+scale_precmat'></span>

<h3>Description</h3>

<p>Scaling a precision matrix so the corresponding covariance matrix has typical variance (geometric mean) equal to 1.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scale_precmat(Q)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="scale_precmat_+3A_q">Q</code></td>
<td>
<p>Precision matrix</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Precision matrix which is now scaled to have typical variance 1.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>scale_precmat(diag(10))

</code></pre>

<hr>
<h2 id='summary.mmp_prior'>Short summary</h2><span id='topic+summary.mmp_prior'></span><span id='topic+summary.mmp_inla'></span><span id='topic+summary.mmp_stan'></span>

<h3>Description</h3>

<p>Short summary
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'mmp_prior'
summary(object, ...)

## S3 method for class 'mmp_inla'
summary(object, ...)

## S3 method for class 'mmp_stan'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="summary.mmp_prior_+3A_object">object</code></td>
<td>
<p>Object of class <code>mmp_prior</code>, <code>mmp_inla</code> or <code>mmp_stan</code>.</p>
</td></tr>
<tr><td><code id="summary.mmp_prior_+3A_...">...</code></td>
<td>
<p>For <code>mmp_stan</code> and <code>mmp_inla</code>, see <a href="base.html#topic+print.data.frame">print.data.frame</a>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns summary invisible.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>pri &lt;- makemyprior_example_model()
summary(pri)

if (interactive() &amp;&amp; requireNamespace("rstan")){
  res_stan &lt;- inference_stan(ex_prior, iter = 100)
  # Note: For reliable results, increase the number of iterations (e.g., 'iter = 2000')
  summary(res_stan)
}

if (interactive() &amp;&amp; requireNamespace("INLA")){
  res_inla &lt;- inference_inla(pri)
  summary(res_inla)
}

</code></pre>

<hr>
<h2 id='typical_variance'>Compute the typical variance</h2><span id='topic+typical_variance'></span>

<h3>Description</h3>

<p>Computing the typical variance (geometric mean) of a matrix.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>typical_variance(mat)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="typical_variance_+3A_mat">mat</code></td>
<td>
<p>Matrix.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Typical variance.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>typical_variance(diag(10))

</code></pre>

<hr>
<h2 id='wheat_data'>Genomic wheat breeding model data</h2><span id='topic+wheat_data'></span>

<h3>Description</h3>

<p>Simulated wheat yield data with 100 observations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wheat_data
</code></pre>


<h3>Format</h3>

<p>A list with the following variables
</p>

<dl>
<dt>y</dt><dd><p>Response</p>
</dd>
<dt>a, b, x</dt><dd><p>Indexes for the additive, dominance and epistasis genetic effects, respectively</p>
</dd>
<dt>Q_a, Q_d, Q_x</dt><dd><p>Precision matrices for the genetic effects</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

vignette("wheat_breeding", package = "makemyprior")

## End(Not run)

if (interactive() &amp;&amp; requireNamespace("rstan")){

  wheat_data_scaled &lt;- wheat_data
  wheat_data_scaled$Q_a &lt;- scale_precmat(wheat_data$Q_a)
  wheat_data_scaled$Q_d &lt;- scale_precmat(wheat_data$Q_d)
  wheat_data_scaled$Q_x &lt;- scale_precmat(wheat_data$Q_x)

  formula &lt;- y ~
    mc(a, model = "generic0", Cmatrix = Q_a, constr = TRUE) +
    mc(d, model = "generic0", Cmatrix = Q_d, constr = TRUE) +
    mc(x, model = "generic0", Cmatrix = Q_x, constr = TRUE)

  prior &lt;- make_prior(formula, wheat_data_scaled, prior = list(
    tree = "s1 = (d, x); s2 = (a, s1); s3 = (s2, eps)",
    w = list(s1 = list(prior = "pcM", param = c(0.67, 0.8)),
             s2 = list(prior = "pcM", param = c(0.85, 0.8)),
             s3 = list(prior = "pc0", param = 0.25))))

  posterior &lt;- inference_stan(prior, iter = 150, warmup = 50,
                              chains = 1, seed = 1)
  # Note: For reliable results, increase the number of iterations

  plot(prior)
  plot_tree_structure(prior)
  plot_posterior_fixed(posterior)
  plot_posterior_stan(posterior, param = "prior", prior = TRUE)

}

## Not run: 

posterior &lt;- inference_stan(prior, iter = 150, warmup = 50,
                            chains = 1, seed = 1)

plot(prior)
plot_tree_structure(prior)
plot_posterior_fixed(posterior)
plot_posterior_stan(posterior, param = "prior", prior = TRUE)

## End(Not run)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

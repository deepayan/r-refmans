<!DOCTYPE html><html lang="en"><head><title>Help for package shinyscholar</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {shinyscholar}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#shinyscholar-package'><p><em>shinyscholar</em>: A modular platform for creating reproducible applications</p></a></li>
<li><a href='#asyncLog'><p>asyncLog</p></a></li>
<li><a href='#check_suggests'><p>Check whether suggested packages are installed</p></a></li>
<li><a href='#check_url'><p>check_url</p></a></li>
<li><a href='#close_loading_modal'><p>close_loading_modal</p></a></li>
<li><a href='#create_module'><p>Create a shinyscholar module</p></a></li>
<li><a href='#create_template'><p>Create a skeleton application containing empty modules</p></a></li>
<li><a href='#get_nasa_token'><p>Fetch a token from the NASA Earthdata API</p></a></li>
<li><a href='#metadata'><p>Add metadata lines to modules</p></a></li>
<li><a href='#plot_hist'><p>Extract values from a raster to produce a histogram</p></a></li>
<li><a href='#plot_scatter'><p>Extract values from a raster to produce a scatterplot</p></a></li>
<li><a href='#printVecAsis'><p>printVecAsis</p></a></li>
<li><a href='#register_module'><p>Register a shinyscholar module</p></a></li>
<li><a href='#reset_data'><p>reset_data</p></a></li>
<li><a href='#run_shinyscholar'><p>Run <em>shinyscholar</em> Application</p></a></li>
<li><a href='#save_and_load'><p>Adds lines to modules to save and load input values.</p></a></li>
<li><a href='#select_async'><p>Load FAPAR data from NASA asynchronously</p></a></li>
<li><a href='#select_query'><p>Load FAPAR data from NASA</p></a></li>
<li><a href='#select_user'><p>Load a raster image</p></a></li>
<li><a href='#show_loading_modal'><p>show_loading_modal</p></a></li>
<li><a href='#show_map'><p>show_map</p></a></li>
<li><a href='#show_results'><p>show_results</p></a></li>
<li><a href='#show_table'><p>show_table</p></a></li>
<li><a href='#spurious'><p>Spurious package call to avoid note of functions outside R folder</p></a></li>
<li><a href='#tidy_purl'><p>tidy_purl</p></a></li>
<li><a href='#writeLog'><p>writeLog</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Version:</td>
<td>0.3.0</td>
</tr>
<tr>
<td>Title:</td>
<td>A Template for Creating Reproducible 'shiny' Applications</td>
</tr>
<tr>
<td>Description:</td>
<td>Create a skeleton 'shiny' application with create_template() that is
    reproducible, can be saved and meets academic standards for attribution.
    Forked from 'wallace'. Code is split into modules that are loaded and linked
    together automatically and each call one function. Guidance pages explain
    modules to users and flexible logging informs them of any errors. Options
    enable asynchronous operations, viewing of source code, interactive maps and
    data tables. Use to create complex analytical applications, following best
    practices in open science and software development. Includes functions for
    automating repetitive development tasks and an example application at
    run_shinyscholar() that requires
    install.packages("shinyscholar", dependencies = TRUE). A guide to developing
    applications can be found on the package website.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0), gargoyle, leaflet (&ge; 2.0.2), shiny (&ge; 1.8.1)</td>
</tr>
<tr>
<td>Imports:</td>
<td>curl, devtools, glue, knitr, magrittr, tools, zip</td>
</tr>
<tr>
<td>Suggests:</td>
<td>bslib, DT (&ge; 0.5), dplyr (&ge; 1.0.2), future, httr2,
knitcitations, leaflet.extras (&ge; 1.0.0), markdown, promises,
R6, RColorBrewer, renv, rintrojs, rmarkdown, shinyAce,
shinyalert, shinybusy, shinyjs, shinytest2, shinyWidgets (&ge;
0.6.0), terra, testthat, xml2, withr</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>pandoc is required for generating reproducible
reports</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://simon-smart88.github.io/shinyscholar/">https://simon-smart88.github.io/shinyscholar/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/simon-smart88/shinyscholar/issues">https://github.com/simon-smart88/shinyscholar/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-03-18 16:52:36 UTC; simon</td>
</tr>
<tr>
<td>Author:</td>
<td>Simon E. H. Smart [aut, cre, cph],
  Tim Lucas <a href="https://orcid.org/0000-0003-4694-8107"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Jamie M. Kass [ctb],
  Gonzalo E. Pinilla-Buitrago [ctb],
  Andrea Paz [ctb],
  Bethany A. Johnson [ctb],
  Valentina Grisales-Betancur [ctb],
  Dean Attali [ctb],
  Matthew E. Aiello-Lammens [ctb],
  Cory Merow [ctb],
  Mary E. Blair [ctb],
  Robert P. Anderson [ctb],
  Sarah I. Meenan [ctb],
  Olivier Broennimann [ctb],
  Peter J. Galante [ctb],
  Brian S. Maitner [ctb],
  Hannah L. Owens [ctb],
  Sara Varela [ctb],
  Bruno Vilela [ctb],
  Robert Muscarella [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Simon E. H. Smart &lt;simon.smart@cantab.net&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-03-20 12:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='shinyscholar-package'><em>shinyscholar</em>: A modular platform for creating reproducible applications</h2><span id='topic+shinyscholar-package'></span><span id='topic+shinyscholar'></span>

<h3>Description</h3>

<p><em>shinyscholar</em> is a template for creating reproducible <code>shiny</code>
applications to academic standards. shinyscholar is forked from 'wallace'
and provides a template for producing applications that are interactive,
reproducible, adaptable and built to high standards. It was created to ease
the process of creating complex workflows in a single, streamlined GUI interface.
In addition, executable session code  (R Markdown format) can be
downloaded to share with others or use as supplementary information
for scientific papers and reports. An example application is run via the
function <code><a href="#topic+run_shinyscholar">run_shinyscholar</a></code> and requires
<code>install.packages("shinyscholar", dependencies = TRUE)</code>.
</p>

<hr>
<h2 id='asyncLog'>asyncLog</h2><span id='topic+asyncLog'></span>

<h3>Description</h3>

<p>For internal use. Similar to writeLog but for use inside async
functions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>asyncLog(async, ..., type = "default")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="asyncLog_+3A_async">async</code></td>
<td>
<p>Whether the function is being used asynchronously</p>
</td></tr>
<tr><td><code id="asyncLog_+3A_...">...</code></td>
<td>
<p>Messages to write to the logger</p>
</td></tr>
<tr><td><code id="asyncLog_+3A_type">type</code></td>
<td>
<p>One of <code>default</code>, <code>info</code>, <code>error</code>, <code>warning</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>

<hr>
<h2 id='check_suggests'>Check whether suggested packages are installed</h2><span id='topic+check_suggests'></span>

<h3>Description</h3>

<p>Checks whether all the packages in Suggests are installed
and stops execution if not or returns <code>FALSE</code> when example = <code>TRUE</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_suggests(testing = FALSE, example = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="check_suggests_+3A_testing">testing</code></td>
<td>
<p>logical. For use in testing.</p>
</td></tr>
<tr><td><code id="check_suggests_+3A_example">example</code></td>
<td>
<p>logical. For use in examples.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects unless example is <code>TRUE</code>
in which case <code>FALSE</code> is returned if the Suggests are not installed or <code>TRUE</code>
if they are installed.
</p>


<h3>Author(s)</h3>

<p>Simon Smart <a href="mailto:simon.smart@cantab.net">simon.smart@cantab.net</a>
</p>

<hr>
<h2 id='check_url'>check_url</h2><span id='topic+check_url'></span>

<h3>Description</h3>

<p>For internal use. Checks whether a URL is live
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_url(url)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="check_url_+3A_url">url</code></td>
<td>
<p>character. The URL to check</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An httr2 response if the URL is live
</p>

<hr>
<h2 id='close_loading_modal'>close_loading_modal</h2><span id='topic+close_loading_modal'></span>

<h3>Description</h3>

<p>For internal use. Close the modal once loading is complete
</p>


<h3>Usage</h3>

<pre><code class='language-R'>close_loading_modal(session = getDefaultReactiveDomain())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="close_loading_modal_+3A_session">session</code></td>
<td>
<p>The session object passed to function given to shinyServer.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>

<hr>
<h2 id='create_module'>Create a shinyscholar module</h2><span id='topic+create_module'></span>

<h3>Description</h3>

<p>Create the template of a new shinyscholar module.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_module(
  id,
  dir,
  map = FALSE,
  result = FALSE,
  rmd = FALSE,
  save = FALSE,
  download = FALSE,
  async = FALSE,
  init = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="create_module_+3A_id">id</code></td>
<td>
<p>character. The id of the module.</p>
</td></tr>
<tr><td><code id="create_module_+3A_dir">dir</code></td>
<td>
<p>character. Path to the parent directory containing the application</p>
</td></tr>
<tr><td><code id="create_module_+3A_map">map</code></td>
<td>
<p>logical. Whether or not the module should support modifying the map.</p>
</td></tr>
<tr><td><code id="create_module_+3A_result">result</code></td>
<td>
<p>logical. Whether or not the module should support showing information in
the Result tab.</p>
</td></tr>
<tr><td><code id="create_module_+3A_rmd">rmd</code></td>
<td>
<p>logical. Whether or not the module should add Rmd code to the Session Code
download.</p>
</td></tr>
<tr><td><code id="create_module_+3A_save">save</code></td>
<td>
<p>logical. Whether or not the module has some custom data to save when the
user saves the current session.</p>
</td></tr>
<tr><td><code id="create_module_+3A_download">download</code></td>
<td>
<p>logical. Whether or not the module should add code to handle downloading
a file.</p>
</td></tr>
<tr><td><code id="create_module_+3A_async">async</code></td>
<td>
<p>logical. Whether or not the module will operate asynchronously.</p>
</td></tr>
<tr><td><code id="create_module_+3A_init">init</code></td>
<td>
<p>logical. Whether or not the function is being used inside of the init function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>


<h3>See Also</h3>

<p><code><a href="#topic+register_module">register_module</a></code>
</p>

<hr>
<h2 id='create_template'>Create a skeleton application containing empty modules</h2><span id='topic+create_template'></span>

<h3>Description</h3>

<p>Creates a skeleton app containing empty modules with options
controlling objects in <code>common</code> and whether to include a map, code and tables
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_template(
  path,
  name,
  common_objects,
  modules,
  author,
  include_map = TRUE,
  include_table = TRUE,
  include_code = TRUE,
  install = FALSE,
  logger = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="create_template_+3A_path">path</code></td>
<td>
<p>character. Path to where the app should be created</p>
</td></tr>
<tr><td><code id="create_template_+3A_name">name</code></td>
<td>
<p>character. Name of the app which will be used as the package name.
Must be only characters and numbers and not start with a number.</p>
</td></tr>
<tr><td><code id="create_template_+3A_common_objects">common_objects</code></td>
<td>
<p>character vector. Names of objects which will be shared
between modules. The objects meta, logger and state are included by default
and if include_map is TRUE, the object poly is included to store polygons
drawn on the map.</p>
</td></tr>
<tr><td><code id="create_template_+3A_modules">modules</code></td>
<td>
<p>dataframe. Containing one row for each module in the order
to be included and with the following column names:
</p>

<ul>
<li> <p><code>component</code> character. Single word descriptor for the component used to name files
</p>
</li>
<li> <p><code>long_component</code> character. Full component name displayed to the user, formatted appropriately
</p>
</li>
<li> <p><code>module</code> character. Single word descriptor for the module used to name files
</p>
</li>
<li> <p><code>long_module</code> character. Full module name displayed to the user, formatted appropriately
</p>
</li>
<li> <p><code>map</code> logical. Whether or not the module interacts with the map
</p>
</li>
<li> <p><code>result</code> logical. Whether or not the module produces results
</p>
</li>
<li> <p><code>rmd</code> logical. Whether or not the module is included in the markdown
</p>
</li>
<li> <p><code>save</code> logical. Whether or not the input values of the model should be saved
</p>
</li>
<li> <p><code>download</code> logical. Whether or not the input values of the model should be saved
</p>
</li>
<li> <p><code>async</code> logical. Whether or not the module will run asynchronously
</p>
</li></ul>
</td></tr>
<tr><td><code id="create_template_+3A_author">author</code></td>
<td>
<p>character. Name of the author(s)</p>
</td></tr>
<tr><td><code id="create_template_+3A_include_map">include_map</code></td>
<td>
<p>logical. Whether to include a leaflet map. Default <code>TRUE</code></p>
</td></tr>
<tr><td><code id="create_template_+3A_include_table">include_table</code></td>
<td>
<p>logical. Whether to include a table tab. Default <code>TRUE</code></p>
</td></tr>
<tr><td><code id="create_template_+3A_include_code">include_code</code></td>
<td>
<p>logical. Whether to include a tab for viewing module
code. Default <code>TRUE</code></p>
</td></tr>
<tr><td><code id="create_template_+3A_install">install</code></td>
<td>
<p>logical. Whether to install the package. Default <code>FALSE</code></p>
</td></tr>
<tr><td><code id="create_template_+3A_logger">logger</code></td>
<td>
<p>Stores all notification messages to be displayed in the Log
Window. Insert the logger reactive list here for running in
shiny, otherwise leave the default <code>NULL</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>


<h3>Author(s)</h3>

<p>Simon E. H. Smart <a href="mailto:simon.smart@cantab.net">simon.smart@cantab.net</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>td &lt;- tempfile()
dir.create(td, recursive = TRUE)

modules &lt;- data.frame(
"component" = c("data", "data", "plot", "plot"),
"long_component" = c("Load data", "Load data", "Plot data", "Plot data"),
"module" = c("user", "database", "histogram", "scatter"),
"long_module" = c("Upload your own data", "Query a database to obtain data",
"Plot the data as a histogram", "Plot the data as a scatterplot"),
"map" = c(TRUE, TRUE, FALSE, FALSE),
"result" = c(FALSE, FALSE, TRUE, TRUE),
"rmd" = c(TRUE, TRUE, TRUE, TRUE),
"save" = c(TRUE, TRUE, TRUE, TRUE),
"download" = c(FALSE, FALSE, TRUE, TRUE),
"async" = c(TRUE, FALSE, FALSE, FALSE))

common_objects = c("raster", "histogram", "scatter")

create_template(path = td, name = "demo",
common_objects = common_objects, modules = modules,
author = "Simon E. H. Smart", include_map = TRUE, include_table = TRUE,
include_code = TRUE, install = FALSE)

</code></pre>

<hr>
<h2 id='get_nasa_token'>Fetch a token from the NASA Earthdata API</h2><span id='topic+get_nasa_token'></span>

<h3>Description</h3>

<p>Uses the Earthdata API to fetch a token using the user's
username and password
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_nasa_token(username, password)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_nasa_token_+3A_username">username</code></td>
<td>
<p>character. NASA Earthdata username</p>
</td></tr>
<tr><td><code id="get_nasa_token_+3A_password">password</code></td>
<td>
<p>character. NASA Earthdata password</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character string containing the token
</p>


<h3>Author(s)</h3>

<p>Simon Smart <a href="mailto:simon.smart@cantab.net">simon.smart@cantab.net</a>
</p>

<hr>
<h2 id='metadata'>Add metadata lines to modules</h2><span id='topic+metadata'></span>

<h3>Description</h3>

<p>Adds lines to modules and their associated rmarkdown files to
semi-automate reproducibility. By default all the modules in the application
are edited or you can specify a single module. If metadata lines are already
present, the file will not be edited. This function is currently experimental
and only semi-automates the process. To ensure that the code is functional
complete the following steps:
</p>

<ul>
<li><p> Check that any inputs created by packages other than 'shiny' are included
</p>
</li>
<li><p> Add any inputs created dynamically i.e. those without an explicit
line of code to generate them, for example those created inside a loop in a
<code>renderUI</code> or from a 'leaflet' or 'DT' object.
</p>
</li>
<li><p> Use the objects in each <code>.Rmd</code> file to call the module's function.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>metadata(folder_path, module = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="metadata_+3A_folder_path">folder_path</code></td>
<td>
<p>character. Path to the parent directory containing the application</p>
</td></tr>
<tr><td><code id="metadata_+3A_module">module</code></td>
<td>
<p>character. (optional) Name of a single module to edit</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>


<h3>Author(s)</h3>

<p>Simon E. H. Smart <a href="mailto:simon.smart@cantab.net">simon.smart@cantab.net</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>td &lt;- tempfile()
dir.create(td, recursive = TRUE)

modules &lt;- data.frame(
  "component" = c("demo"),
  "long_component" = c("demo"),
  "module" = c("demo"),
  "long_module" = c("demo"),
  "map" = c(FALSE),
  "result" = c(TRUE),
  "rmd" = c(TRUE),
  "save" = c(TRUE),
  "download" = c(TRUE),
  "async" = c(FALSE))

create_template(path = td, name = "demo",
                common_objects = c("demo"), modules = modules,
                author = "demo", include_map = FALSE,
                include_table = FALSE, include_code = FALSE, install = FALSE)

test_files &lt;- list.files(
  system.file("extdata", package = "shinyscholar"),
  pattern = "test_test*", full.names = TRUE)

module_directory &lt;- file.path(td, "demo", "inst", "shiny", "modules")
file.copy(test_files, module_directory, overwrite = TRUE)

metadata(file.path(td, "demo"), module = "test_test")

</code></pre>

<hr>
<h2 id='plot_hist'>Extract values from a raster to produce a histogram</h2><span id='topic+plot_hist'></span>

<h3>Description</h3>

<p>Called by the plot_hist module in the example app
and extracts values from a raster image, returning a histogram of density
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_hist(raster, bins, logger = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot_hist_+3A_raster">raster</code></td>
<td>
<p>SpatRaster object</p>
</td></tr>
<tr><td><code id="plot_hist_+3A_bins">bins</code></td>
<td>
<p>The number of breaks in the histogram</p>
</td></tr>
<tr><td><code id="plot_hist_+3A_logger">logger</code></td>
<td>
<p>Stores all notification messages to be displayed in the Log
Window. Insert the logger reactive list here for running in
shiny, otherwise leave the default NULL</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list of class histogram
</p>


<h3>Author(s)</h3>

<p>Simon Smart <a href="mailto:simon.smart@cantab.net">simon.smart@cantab.net</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (check_suggests(example = TRUE)) {
  raster &lt;- terra::rast(ncol = 8, nrow = 8)
  raster[] &lt;- sapply(1:terra::ncell(raster), function(x){
    rnorm(1, ifelse(x %% 8 != 0, x %% 8, 8), 3)})
  histogram &lt;- plot_hist(raster, bins = 10)
} else {
  message('reinstall with install.packages("shinyscholar", dependencies = TRUE)
  to run this example')
}
</code></pre>

<hr>
<h2 id='plot_scatter'>Extract values from a raster to produce a scatterplot</h2><span id='topic+plot_scatter'></span>

<h3>Description</h3>

<p>Called by the plot_scatter module in the example app and samples
values from a raster along with either the x or y coordinates of the points
sampled
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_scatter(raster, sample, axis, logger = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot_scatter_+3A_raster">raster</code></td>
<td>
<p>SpatRaster. Raster to be sampled</p>
</td></tr>
<tr><td><code id="plot_scatter_+3A_sample">sample</code></td>
<td>
<p>numeric. Number of points to sample</p>
</td></tr>
<tr><td><code id="plot_scatter_+3A_axis">axis</code></td>
<td>
<p>character. Which axis coordinates of the raster to return</p>
</td></tr>
<tr><td><code id="plot_scatter_+3A_logger">logger</code></td>
<td>
<p>Stores all notification messages to be displayed in the Log
Window. Insert the logger reactive list here for running in
shiny, otherwise leave the default NULL</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a dataframe containing the axis values and the cell values
</p>


<h3>Author(s)</h3>

<p>Simon Smart <a href="mailto:simon.smart@cantab.net">simon.smart@cantab.net</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (check_suggests(example = TRUE)) {
  raster &lt;- terra::rast(ncol = 8, nrow = 8)
  raster[] &lt;- sapply(1:terra::ncell(raster), function(x){
     rnorm(1, ifelse(x %% 8 != 0, x %% 8, 8), 3)})
  scatterplot &lt;- plot_scatter(raster, sample = 10, axis = "y")
} else {
  message('reinstall with install.packages("shinyscholar", dependencies = TRUE)
  to run this example')
}
</code></pre>

<hr>
<h2 id='printVecAsis'>printVecAsis</h2><span id='topic+printVecAsis'></span>

<h3>Description</h3>

<p>For internal use. Print objects as character string
</p>


<h3>Usage</h3>

<pre><code class='language-R'>printVecAsis(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="printVecAsis_+3A_x">x</code></td>
<td>
<p>object to print</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character string to reproduce the object
</p>

<hr>
<h2 id='register_module'>Register a shinyscholar module</h2><span id='topic+register_module'></span>

<h3>Description</h3>

<p>Currently disabled as cannot be used with apps created by shinyscholar.
Before running the shinyscholar application with
<code>run_shinyscholar()</code>, you can register your own modules to be used in
shinyscholar.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>register_module(config_file)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="register_module_+3A_config_file">config_file</code></td>
<td>
<p>The path to a YAML file that contains the information about
one or more modules.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>


<h3>See Also</h3>

<p><code><a href="#topic+create_module">create_module</a></code>
</p>

<hr>
<h2 id='reset_data'>reset_data</h2><span id='topic+reset_data'></span>

<h3>Description</h3>

<p>For internal use. Clears the common structure of data, resets the map and any plots
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reset_data(common)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="reset_data_+3A_common">common</code></td>
<td>
<p>The common data structure</p>
</td></tr>
</table>

<hr>
<h2 id='run_shinyscholar'>Run <em>shinyscholar</em> Application</h2><span id='topic+run_shinyscholar'></span>

<h3>Description</h3>

<p>This function runs the <em>shinyscholar</em> application in the user's
default web browser.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>run_shinyscholar(
  launch.browser = TRUE,
  port = getOption("shiny.port"),
  load_file = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="run_shinyscholar_+3A_launch.browser">launch.browser</code></td>
<td>
<p>Whether or not to launch a new browser window.</p>
</td></tr>
<tr><td><code id="run_shinyscholar_+3A_port">port</code></td>
<td>
<p>The port for the shiny server to listen on. Defaults to a
random available port.</p>
</td></tr>
<tr><td><code id="run_shinyscholar_+3A_load_file">load_file</code></td>
<td>
<p>Path to a saved session file which will be loaded when the
app is opened</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>


<h3>Author(s)</h3>

<p>Jamie Kass <a href="mailto:jkass@gradcenter.cuny.edu">jkass@gradcenter.cuny.edu</a>
</p>
<p>Gonzalo E. Pinilla-Buitrago <a href="mailto:gpinillabuitrago@gradcenter.cuny.edu">gpinillabuitrago@gradcenter.cuny.edu</a>
</p>
<p>Simon E. H. Smart <a href="mailto:simon.smart@cantab.net">simon.smart@cantab.net</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if(interactive()) {
run_shinyscholar()
}
</code></pre>

<hr>
<h2 id='save_and_load'>Adds lines to modules to save and load input values.</h2><span id='topic+save_and_load'></span>

<h3>Description</h3>

<p>Converts 'shiny' <code style="white-space: pre;">&#8288;*Input&#8288;</code> functions to lines of code required
to store and reload the values when the app is saved or loaded. By default
all the modules in the application are edited. Currently only input
functions from 'shiny' and <code>shinyWidgets::materialSwitch</code> are supported.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>save_and_load(folder_path, module = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="save_and_load_+3A_folder_path">folder_path</code></td>
<td>
<p>character. Path to the parent directory containing the application</p>
</td></tr>
<tr><td><code id="save_and_load_+3A_module">module</code></td>
<td>
<p>character. (optional) Name of a single module to edit</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>


<h3>Author(s)</h3>

<p>Simon E. H. Smart <a href="mailto:simon.smart@cantab.net">simon.smart@cantab.net</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>td &lt;- tempfile()
dir.create(td, recursive = TRUE)

modules &lt;- data.frame(
  "component" = c("demo"),
  "long_component" = c("demo"),
  "module" = c("demo"),
  "long_module" = c("demo"),
  "map" = c(FALSE),
  "result" = c(TRUE),
  "rmd" = c(TRUE),
  "save" = c(TRUE),
  "download" = c(TRUE),
  "async" = c(FALSE))

create_template(path = td, name = "demo",
                common_objects = c("demo"), modules = modules,
                author = "demo", include_map = FALSE,
                include_table = FALSE, include_code = FALSE, install = FALSE)

test_files &lt;- list.files(
  system.file("extdata", package = "shinyscholar"),
  pattern = "test_test*", full.names = TRUE)

module_directory &lt;- file.path(td, "demo", "inst", "shiny", "modules")
file.copy(test_files, module_directory, overwrite = TRUE)

save_and_load(file.path(td, "demo"), module = "test_test")

</code></pre>

<hr>
<h2 id='select_async'>Load FAPAR data from NASA asynchronously</h2><span id='topic+select_async'></span>

<h3>Description</h3>

<p>Called by the select_async module in the example app and loads an
FAPAR raster for the selected area via the Earthdata API. This function is
identical to select_query but can be run asynchronously
</p>


<h3>Usage</h3>

<pre><code class='language-R'>select_async(poly, date, token, async = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="select_async_+3A_poly">poly</code></td>
<td>
<p>matrix. Coordinates of area to load</p>
</td></tr>
<tr><td><code id="select_async_+3A_date">date</code></td>
<td>
<p>character. Date of image to load in <code>YYYY-MM-DD</code> format.</p>
</td></tr>
<tr><td><code id="select_async_+3A_token">token</code></td>
<td>
<p>character. NASA Earthdata API token.
<a href="https://urs.earthdata.nasa.gov/">Click here</a>
to register and then
<a href="https://wiki.earthdata.nasa.gov/pages/viewpage.action?pageId=204802786">follow these instructions</a>
to obtain one. Alternatively supply your username and password to
<code>get_nasa_token()</code></p>
</td></tr>
<tr><td><code id="select_async_+3A_async">async</code></td>
<td>
<p>logical. Whether the function is being run asynchronously</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing:
</p>
<table role = "presentation">
<tr><td><code>raster</code></td>
<td>
<p>a SpatRaster object when <code>async</code> is <code>FALSE</code> or a PackedSpatRaster when
<code>async</code> is <code>TRUE</code></p>
</td></tr>
<tr><td><code>message</code></td>
<td>
<p>Information on the number of missing pixels</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Simon Smart <a href="mailto:simon.smart@cantab.net">simon.smart@cantab.net</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
 if (check_suggests(example = TRUE)) {
   poly &lt;- matrix(c(0.5, 0.5, 1, 1, 0.5, 52, 52.5, 52.5, 52, 52), ncol = 2)
   colnames(poly) &lt;- c("longitude", "latitude")
   date &lt;- "2023-06-20"
   token &lt;- get_nasa_token(username = "&lt;username&gt;", password = "&lt;password&gt;")
   ras &lt;- select_async(poly, date, token)
 } else {
   message('reinstall with install.packages("shinyscholar", dependencies = TRUE)
   to run this example')
 }
 
## End(Not run)
</code></pre>

<hr>
<h2 id='select_query'>Load FAPAR data from NASA</h2><span id='topic+select_query'></span>

<h3>Description</h3>

<p>Called by the select_query module in the example app and loads an
FAPAR raster for the selected area via the Earthdata API.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>select_query(poly, date, token, logger = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="select_query_+3A_poly">poly</code></td>
<td>
<p>matrix. Coordinates of area to load</p>
</td></tr>
<tr><td><code id="select_query_+3A_date">date</code></td>
<td>
<p>character.  Date of image to load in <code>YYYY-MM-DD</code> format.</p>
</td></tr>
<tr><td><code id="select_query_+3A_token">token</code></td>
<td>
<p>character. NASA Earthdata API token.
<a href="https://urs.earthdata.nasa.gov/">Click here</a>
to register and then
<a href="https://wiki.earthdata.nasa.gov/pages/viewpage.action?pageId=204802786">follow these instructions</a>
to obtain one. Alternatively supply your username and password to
<code>get_nasa_token()</code></p>
</td></tr>
<tr><td><code id="select_query_+3A_logger">logger</code></td>
<td>
<p>Stores all notification messages to be displayed in the Log
Window. Insert the logger reactive list here for running in
shiny, otherwise leave the default NULL</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a SpatRaster object
</p>


<h3>Author(s)</h3>

<p>Simon Smart <a href="mailto:simon.smart@cantab.net">simon.smart@cantab.net</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
 if (check_suggests(example = TRUE)) {
   poly &lt;- matrix(c(0.5, 0.5, 1, 1, 0.5, 52, 52.5, 52.5, 52, 52), ncol = 2)
   colnames(poly) &lt;- c("longitude", "latitude")
   date &lt;- "2023-06-20"
   token &lt;- get_nasa_token(username = "&lt;username&gt;", password = "&lt;password&gt;")
   ras &lt;- select_query(poly, date, token)
 } else {
   message('reinstall with install.packages("shinyscholar", dependencies = TRUE)
   to run this example')
 }
 
## End(Not run)
</code></pre>

<hr>
<h2 id='select_user'>Load a raster image</h2><span id='topic+select_user'></span>

<h3>Description</h3>

<p>Called by the select_user module in the example app and loads a
.tif file as a SpatRaster
</p>


<h3>Usage</h3>

<pre><code class='language-R'>select_user(raster_path, logger = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="select_user_+3A_raster_path">raster_path</code></td>
<td>
<p>character. Path to file to be loaded</p>
</td></tr>
<tr><td><code id="select_user_+3A_logger">logger</code></td>
<td>
<p>Stores all notification messages to be displayed in the Log
Window. Insert the logger reactive list here for running in
shiny, otherwise leave the default NULL</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a SpatRaster object
</p>


<h3>Author(s)</h3>

<p>Simon Smart <a href="mailto:simon.smart@cantab.net">simon.smart@cantab.net</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (check_suggests(example = TRUE)) {
  raster_path &lt;- list.files(system.file("extdata", "wc", package = "shinyscholar"),
  full.names = TRUE)
  raster &lt;- select_user(raster_path)
} else {
  message('reinstall with install.packages("shinyscholar", dependencies = TRUE)
  to run this example')
}
</code></pre>

<hr>
<h2 id='show_loading_modal'>show_loading_modal</h2><span id='topic+show_loading_modal'></span>

<h3>Description</h3>

<p>For internal use. Show a modal when something is loading
</p>


<h3>Usage</h3>

<pre><code class='language-R'>show_loading_modal(message)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="show_loading_modal_+3A_message">message</code></td>
<td>
<p>The message to be displayed to the user</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>

<hr>
<h2 id='show_map'>show_map</h2><span id='topic+show_map'></span>

<h3>Description</h3>

<p>For internal use. Switches the view to the Map tab
</p>


<h3>Usage</h3>

<pre><code class='language-R'>show_map(parent_session)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="show_map_+3A_parent_session">parent_session</code></td>
<td>
<p>Session object of the main server function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>

<hr>
<h2 id='show_results'>show_results</h2><span id='topic+show_results'></span>

<h3>Description</h3>

<p>For internal use. Switches the view to the Results tab
</p>


<h3>Usage</h3>

<pre><code class='language-R'>show_results(parent_session)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="show_results_+3A_parent_session">parent_session</code></td>
<td>
<p>Session object of the main server function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>

<hr>
<h2 id='show_table'>show_table</h2><span id='topic+show_table'></span>

<h3>Description</h3>

<p>For internal use. Switches the view to the Table panel
</p>


<h3>Usage</h3>

<pre><code class='language-R'>show_table(parent_session)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="show_table_+3A_parent_session">parent_session</code></td>
<td>
<p>Session object of the main server function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>

<hr>
<h2 id='spurious'>Spurious package call to avoid note of functions outside R folder</h2><span id='topic+spurious'></span>

<h3>Description</h3>

<p>For internal use.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>spurious(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="spurious_+3A_x">x</code></td>
<td>
<p>x</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>

<hr>
<h2 id='tidy_purl'>tidy_purl</h2><span id='topic+tidy_purl'></span>

<h3>Description</h3>

<p>Knits and purls an Rmd file into a format which can be written
to an R file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tidy_purl(params)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tidy_purl_+3A_params">params</code></td>
<td>
<p>vector. Containing file object linking to file to be knitted
and a list containing any objects to be knitted into the file.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Simon E. H. Smart <a href="mailto:simon.smart@cantab.net">simon.smart@cantab.net</a>
</p>

<hr>
<h2 id='writeLog'>writeLog</h2><span id='topic+writeLog'></span>

<h3>Description</h3>

<p>For internal use. Add text to a logger
</p>


<h3>Usage</h3>

<pre><code class='language-R'>writeLog(logger, ..., type = "default")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="writeLog_+3A_logger">logger</code></td>
<td>
<p>The logger to write the text to. Can be <code>NULL</code> or a function</p>
</td></tr>
<tr><td><code id="writeLog_+3A_...">...</code></td>
<td>
<p>Messages to write to the logger</p>
</td></tr>
<tr><td><code id="writeLog_+3A_type">type</code></td>
<td>
<p>One of <code>default</code>, <code>info</code>, <code>error</code>, <code>warning</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

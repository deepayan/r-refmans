<!DOCTYPE html><html><head><title>Help for package caracas</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {caracas}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#+5B.caracas_symbol'><p>Extract or replace parts of an object</p></a></li>
<li><a href='#+5B+26lt+3B-.caracas_symbol'><p>Extract or replace parts of an object</p></a></li>
<li><a href='#+25+26gt+3B+25'><p>Pipe</p></a></li>
<li><a href='#add_prefix'><p>Add prefix to each element of matrix</p></a></li>
<li><a href='#all_vars'><p>All variables</p></a></li>
<li><a href='#apart'><p>Partial fraction decomposition on a rational function</p></a></li>
<li><a href='#as_character'><p>Coerce symbol to character</p></a></li>
<li><a href='#as_character_matrix'><p>Get matrix as character matrix</p></a></li>
<li><a href='#as_diag'><p>Construct diagonal matrix from vector</p></a></li>
<li><a href='#as_expr'><p>Convert caracas object to R</p></a></li>
<li><a href='#as_func'><p>Convert expression into function object.</p></a></li>
<li><a href='#as_sym'><p>Convert R object to caracas symbol</p></a></li>
<li><a href='#as_vec'><p>Stacks matrix to vector</p></a></li>
<li><a href='#as.character.caracas_symbol'><p>Convert symbol to character</p></a></li>
<li><a href='#ask'><p>Ask for a symbol's property</p></a></li>
<li><a href='#cancel'><p>Put rational function into standard form</p></a></li>
<li><a href='#collect'><p>Collects common powers of a term in an expression</p></a></li>
<li><a href='#colspan'><p>Column space (range) of a symbolic matrix</p></a></li>
<li><a href='#cumsum.caracas_symbol'><p>Cumulative Sums</p></a></li>
<li><a href='#def_sym'><p>Define (invisibly) caracas symbols in global environment</p></a></li>
<li><a href='#der'><p>Symbolic differentiation of an expression</p></a></li>
<li><a href='#der2'><p>Symbolic differentiation of second order of an expression</p></a></li>
<li><a href='#diag'><p>Matrix diagonal</p></a></li>
<li><a href='#diag_'><p>Symbolic diagonal matrix</p></a></li>
<li><a href='#diag-set'><p>Replace matrix diagonal</p></a></li>
<li><a href='#diag.caracas_symbol'><p>Matrix diagonal</p></a></li>
<li><a href='#diag+26lt+3B-.caracas_symbol'><p>Replace diagonal</p></a></li>
<li><a href='#diff_mat'><p>Difference matrix</p></a></li>
<li><a href='#dim.caracas_symbol'><p>Dimensions of a caracas symbol</p></a></li>
<li><a href='#dim+26lt+3B-.caracas_symbol'><p>Dimensions of a caracas symbol</p></a></li>
<li><a href='#do_la'><p>Do linear algebra operation</p></a></li>
<li><a href='#doit'><p>Perform calculations setup previously</p></a></li>
<li><a href='#drop_remainder'><p>Remove remainder term</p></a></li>
<li><a href='#eval_to_symbol'><p>Create a symbol from a string</p></a></li>
<li><a href='#expand'><p>Expand expression</p></a></li>
<li><a href='#expand_func'><p>Expand a function expression</p></a></li>
<li><a href='#expand_log'><p>Expand a logarithmic expression</p></a></li>
<li><a href='#expand_trig'><p>Expand a trigonometric expression</p></a></li>
<li><a href='#factor_'><p>Expand expression</p></a></li>
<li><a href='#fraction_parts'><p>Get numerator and denominator of a fraction</p></a></li>
<li><a href='#free_symbols'><p>Get free symbol in expression</p></a></li>
<li><a href='#generic-matrices'><p>Generate generic vectors and matrices</p></a></li>
<li><a href='#get_basis'><p>Get basis</p></a></li>
<li><a href='#get_py'><p>Access 'py' object</p></a></li>
<li><a href='#get_sympy'><p>Access 'SymPy' directly</p></a></li>
<li><a href='#has_sympy'><p>Check if 'SymPy' is available</p></a></li>
<li><a href='#install_sympy'><p>Install 'SymPy'</p></a></li>
<li><a href='#int'><p>Integrate a function</p></a></li>
<li><a href='#is_sym'><p>Is object a caracas symbol</p></a></li>
<li><a href='#jacobian'><p>Compute Jacobian</p></a></li>
<li><a href='#kronecker+2Ccaracas_symbol+2Ccaracas_symbol-method'><p>Kronecker product of two matrices</p></a></li>
<li><a href='#lim'><p>Limit of a function</p></a></li>
<li><a href='#linalg'><p>Do linear algebra operation</p></a></li>
<li><a href='#listify'><p>Convert object to list of elements</p></a></li>
<li><a href='#ls_sym'><p>List defined symbols</p></a></li>
<li><a href='#mat_pow'><p>Matrix power</p></a></li>
<li><a href='#Math.caracas_symbol'><p>Math functions</p></a></li>
<li><a href='#matrify'><p>Creates matrix from array symbol</p></a></li>
<li><a href='#matrix_'><p>Symbolic matrix</p></a></li>
<li><a href='#matrix_cross_product'><p>Matrix cross product</p></a></li>
<li><a href='#matrix-products'><p>Matrix multiplication</p></a></li>
<li><a href='#N'><p>Numerical evaluation</p></a></li>
<li><a href='#Ops.caracas_symbol'><p>Math operators</p></a></li>
<li><a href='#print.caracas_scaled_matrix'><p>Print scaled matrix</p></a></li>
<li><a href='#print.caracas_solve_sys_sol'><p>Print solution</p></a></li>
<li><a href='#print.caracas_symbol'><p>Print symbol</p></a></li>
<li><a href='#prod_'><p>Product of a function</p></a></li>
<li><a href='#rankMatrix_'><p>Rank of matrix</p></a></li>
<li><a href='#reciprocal_matrix'><p>Elementwise reciprocal matrix</p></a></li>
<li><a href='#rowSums_colSums'><p>Form Row and Column Sums</p></a></li>
<li><a href='#scale_matrix'><p>Create list of factors as in a product</p></a></li>
<li><a href='#score_hessian'><p>Score and Hessian matrix</p></a></li>
<li><a href='#simplify'><p>Simplify expression</p></a></li>
<li><a href='#solve_lin'><p>Solve a linear system of equations</p></a></li>
<li><a href='#solve_sys'><p>Solves a system of non-linear equations</p></a></li>
<li><a href='#solve.caracas_symbol'><p>Solve a System of Linear Equations</p></a></li>
<li><a href='#special_matrices'><p>Special matrices: zeros_sym, ones_sym, eye_sym</p></a></li>
<li><a href='#subs'><p>Substitute symbol for value</p></a></li>
<li><a href='#sum_'><p>Sum of a function</p></a></li>
<li><a href='#sum.caracas_symbol'><p>Summation</p></a></li>
<li><a href='#sym_class'><p>Ask type of caracas symbol</p></a></li>
<li><a href='#sym_inherits'><p>Ask if type of caracas symbol is of a requested type</p></a></li>
<li><a href='#symbol'><p>Create a symbol</p></a></li>
<li><a href='#symbol_class'><p>Ask type of caracas symbol</p></a></li>
<li><a href='#symbol_is_matrix'><p>Check if object is a caracas matrix</p></a></li>
<li><a href='#sympy_func'><p>Call a SymPy function directly on x</p></a></li>
<li><a href='#sympy_version'><p>Get 'SymPy' version</p></a></li>
<li><a href='#t.caracas_symbol'><p>Transpose of matrix</p></a></li>
<li><a href='#taylor'><p>Taylor expansion</p></a></li>
<li><a href='#tex'><p>Export object to TeX</p></a></li>
<li><a href='#tex.caracas_scaled_matrix'><p>Export scaled matrix to tex</p></a></li>
<li><a href='#texshow'><p>Dump latex representation of sympy object.</p></a></li>
<li><a href='#to_something'><p>Coerce caracas object</p></a></li>
<li><a href='#tuplify'><p>Convert object to tuple</p></a></li>
<li><a href='#unbracket'><p>Remove inner-most dimension</p></a></li>
<li><a href='#unscale_matrix'><p>Extract matrix from scaled matrix</p></a></li>
<li><a href='#vectorfy'><p>Creates symbol vector from list of caracas symbols</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Version:</td>
<td>2.1.1</td>
</tr>
<tr>
<td>Title:</td>
<td>Computer Algebra</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Mikkel Meyer Andersen &lt;mikl@math.aau.dk&gt;</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Description:</td>
<td>Computer algebra via the 'SymPy' library (<a href="https://www.sympy.org/">https://www.sympy.org/</a>). 
  This makes it possible to solve equations symbolically, 
  find symbolic integrals, symbolic sums and other important quantities. </td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.0), methods</td>
</tr>
<tr>
<td>Imports:</td>
<td>reticulate (&ge; 1.14), Matrix, doBy (&ge; 4.6.15), magrittr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>Ryacas, testthat (&ge; 2.1.0), knitr, rmarkdown, tinytex,
magick, pdftools, qpdf</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL]</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>Python (&gt;= 3.6.0)</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/r-cas/caracas">https://github.com/r-cas/caracas</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/r-cas/caracas/issues">https://github.com/r-cas/caracas/issues</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-11-30 14:39:57 UTC; mikl</td>
</tr>
<tr>
<td>Author:</td>
<td>Mikkel Meyer Andersen [aut, cre, cph],
  Søren Højsgaard [aut, cph]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-11-30 15:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='+5B.caracas_symbol'>Extract or replace parts of an object</h2><span id='topic++5B.caracas_symbol'></span>

<h3>Description</h3>

<p>Extract or replace parts of an object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'caracas_symbol'
x[i, j, ..., drop = TRUE]
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B5B.caracas_symbol_+3A_x">x</code></td>
<td>
<p>A <code>caracas_symbol</code>.</p>
</td></tr>
<tr><td><code id="+2B5B.caracas_symbol_+3A_i">i</code></td>
<td>
<p>row indices specifying elements to extract or replace</p>
</td></tr>
<tr><td><code id="+2B5B.caracas_symbol_+3A_j">j</code></td>
<td>
<p>column indices specifying elements to extract or replace</p>
</td></tr>
<tr><td><code id="+2B5B.caracas_symbol_+3A_...">...</code></td>
<td>
<p>Not used</p>
</td></tr>
<tr><td><code id="+2B5B.caracas_symbol_+3A_drop">drop</code></td>
<td>
<p>Simplify dimensions of resulting object</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
  A &lt;- matrix(c("a", 0, 0, 0, "a", "a", "a", 0, 0), 3, 3)
  B &lt;- as_sym(A)
  B[1:2, ]
  B[, 2]
  B[2, , drop = FALSE]
}

</code></pre>

<hr>
<h2 id='+5B+26lt+3B-.caracas_symbol'>Extract or replace parts of an object</h2><span id='topic++5B+3C-.caracas_symbol'></span>

<h3>Description</h3>

<p>Extract or replace parts of an object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 replacement method for class 'caracas_symbol'
x[i, j, ...] &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B5B+2B26lt+2B3B-.caracas_symbol_+3A_x">x</code></td>
<td>
<p>A <code>caracas_symbol</code>.</p>
</td></tr>
<tr><td><code id="+2B5B+2B26lt+2B3B-.caracas_symbol_+3A_i">i</code></td>
<td>
<p>row indices specifying elements to extract or replace</p>
</td></tr>
<tr><td><code id="+2B5B+2B26lt+2B3B-.caracas_symbol_+3A_j">j</code></td>
<td>
<p>column indices specifying elements to extract or replace</p>
</td></tr>
<tr><td><code id="+2B5B+2B26lt+2B3B-.caracas_symbol_+3A_...">...</code></td>
<td>
<p>Not used</p>
</td></tr>
<tr><td><code id="+2B5B+2B26lt+2B3B-.caracas_symbol_+3A_value">value</code></td>
<td>
<p>Replacement value</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
  A &lt;- matrix(c("a", 0, 0, 0, "a", "a", "a", 0, 0), 3, 3)
  B &lt;- as_sym(A)
  B[, 2] &lt;- "x"
  B[, 3] &lt;- vector_sym(3)
  B
}

</code></pre>

<hr>
<h2 id='+25+26gt+3B+25'>Pipe</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>Pipe operator
</p>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_lhs">lhs</code>, <code id="+2B25+2B26gt+2B3B+2B25_+3A_rhs">rhs</code></td>
<td>
<p>specify what lhs and rhs are</p>
</td></tr>
</table>

<hr>
<h2 id='add_prefix'>Add prefix to each element of matrix</h2><span id='topic+add_prefix'></span>

<h3>Description</h3>

<p>Add prefix to each element of matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_prefix(x, prefix = "")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_prefix_+3A_x">x</code></td>
<td>
<p>Numeric or symbolic matrix</p>
</td></tr>
<tr><td><code id="add_prefix_+3A_prefix">prefix</code></td>
<td>
<p>A character vector</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
  X &lt;- matrix_sym(2, 3)
  X
  add_prefix(X, "e")
  
  X &lt;- matrix(1:6, 3, 2)
  X
  add_prefix(X, "e")
}

</code></pre>

<hr>
<h2 id='all_vars'>All variables</h2><span id='topic+all_vars'></span>

<h3>Description</h3>

<p>Return all variables in caracas symbol
</p>


<h3>Usage</h3>

<pre><code class='language-R'>all_vars(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="all_vars_+3A_x">x</code></td>
<td>
<p>caracas symbol</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()){
  x &lt;- vector_sym(5)
  all_vars(x)
}

</code></pre>

<hr>
<h2 id='apart'>Partial fraction decomposition on a rational function</h2><span id='topic+apart'></span>

<h3>Description</h3>

<p>apart() performs a partial fraction decomposition on a rational function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>apart(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="apart_+3A_x">x</code></td>
<td>
<p>A <code>caracas_symbol</code></p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()){
  def_sym(x)
  expr = (4*x**3 + 21*x**2 + 10*x + 12)/(x**4 + 5*x**3 + 5*x**2 + 4*x)
  apart(expr)
}
</code></pre>

<hr>
<h2 id='as_character'>Coerce symbol to character</h2><span id='topic+as_character'></span>

<h3>Description</h3>

<p>Coerce symbol to character
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_character(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_character_+3A_x">x</code></td>
<td>
<p>caracas symbol</p>
</td></tr>
</table>

<hr>
<h2 id='as_character_matrix'>Get matrix as character matrix</h2><span id='topic+as_character_matrix'></span>

<h3>Description</h3>

<p>Get matrix as character matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_character_matrix(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_character_matrix_+3A_x">x</code></td>
<td>
<p>caracas symbol</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
  s  &lt;- as_sym("[[r1, r2, r3], [u1, u2, u3]]")
  s2 &lt;- apply(as_character_matrix(s), 2, function(x) (paste("1/(", x, ")")))
  as_sym(s2)
}

</code></pre>

<hr>
<h2 id='as_diag'>Construct diagonal matrix from vector</h2><span id='topic+as_diag'></span>

<h3>Description</h3>

<p>Construct diagonal matrix from vector
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_diag(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_diag_+3A_x">x</code></td>
<td>
<p>Matrix with 1 row or 1 column that is the
diagonal in a new diagonal matrix</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
  d &lt;- as_sym(c("a", "b", "c"))
  D &lt;- as_diag(d)
  D
}

</code></pre>

<hr>
<h2 id='as_expr'>Convert caracas object to R</h2><span id='topic+as_expr'></span><span id='topic+as.expression.caracas_symbol'></span><span id='topic+as.expression.caracas_solve_sys_sol'></span>

<h3>Description</h3>

<p>Potentially calls <code><a href="#topic+doit">doit()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_expr(x, first_doit = TRUE)

## S3 method for class 'caracas_symbol'
as.expression(x, ...)

## S3 method for class 'caracas_solve_sys_sol'
as.expression(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_expr_+3A_x">x</code></td>
<td>
<p>caracas_symbol</p>
</td></tr>
<tr><td><code id="as_expr_+3A_first_doit">first_doit</code></td>
<td>
<p>Try <code>doit()</code> first</p>
</td></tr>
<tr><td><code id="as_expr_+3A_...">...</code></td>
<td>
<p>not used</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
  v &lt;- vector_sym(2)
  x &lt;- as_expr(v)
  x
  y &lt;- as.expression(v)
  y
}

</code></pre>

<hr>
<h2 id='as_func'>Convert expression into function object.</h2><span id='topic+as_func'></span><span id='topic+as.function.caracas_symbol'></span>

<h3>Description</h3>

<p>Convert expression into function object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_func(x, order = NULL, vec_arg = FALSE)

## S3 method for class 'caracas_symbol'
as.function(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_func_+3A_x">x</code></td>
<td>
<p>caracas expression.</p>
</td></tr>
<tr><td><code id="as_func_+3A_order">order</code></td>
<td>
<p>desired order of function argument. Defaults to
alphabetical ordering.</p>
</td></tr>
<tr><td><code id="as_func_+3A_vec_arg">vec_arg</code></td>
<td>
<p>should the function take vector valued argument.</p>
</td></tr>
<tr><td><code id="as_func_+3A_...">...</code></td>
<td>
<p>not used</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
  def_sym(b0, b1, b2, k, x)
  e &lt;- b1 + (b0 - b1)*exp(-k*x) + b2*x

  f1 &lt;- as_func(e)
  f1
  f1(1, 2, 3, 4, 5)
  f1 &lt;- as_func(e, order = sort(all_vars(e)))
  f1(1, 2, 3, 4, 5)
  f2 &lt;- as_func(e, vec_arg = TRUE)
  f2
  f2(c(1, 2, 3, 4, 5))
  f2 &lt;- as_func(e, order = sort(all_vars(e)), vec_arg = TRUE)
  f2
  f2(c(1,2,3,4,5))
  
  f1a &lt;- as.function(e)
  f1a
  f1a(1, 2, 3, 4, 5)
  f1(1, 2, 3, 4, 5)
}
</code></pre>

<hr>
<h2 id='as_sym'>Convert R object to caracas symbol</h2><span id='topic+as_sym'></span>

<h3>Description</h3>

<p>Variables are detected as a
character followed by a number of either:
character, number or underscore.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_sym(x, declare_symbols = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_sym_+3A_x">x</code></td>
<td>
<p>R object to convert to a symbol</p>
</td></tr>
<tr><td><code id="as_sym_+3A_declare_symbols">declare_symbols</code></td>
<td>
<p>declare detected symbols automatically</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Default is to declare used variables. Alternatively, the user
must declare them first, e.g. by <code><a href="#topic+symbol">symbol()</a></code>.
</p>
<p>Note that matrices can be defined by specifying a Python matrix,
see below in examples.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
  x &lt;- symbol("x")
  A &lt;- matrix(c("x", 0, 0, "2*x"), 2, 2)
  A
  B &lt;- as_sym(A)
  B
  2 * B
  dim(B)
  sqrt(B)
  D &lt;- as_sym("[[1, 4, 5], [-5, 8, 9]]")
  D
}

</code></pre>

<hr>
<h2 id='as_vec'>Stacks matrix to vector</h2><span id='topic+as_vec'></span>

<h3>Description</h3>

<p>Stacks matrix to vector
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_vec(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_vec_+3A_x">x</code></td>
<td>
<p>Matrix</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
  A &lt;- as_sym(matrix(1:9, 3))
  as_vec(A)
}

</code></pre>

<hr>
<h2 id='as.character.caracas_symbol'>Convert symbol to character</h2><span id='topic+as.character.caracas_symbol'></span>

<h3>Description</h3>

<p>Convert symbol to character
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'caracas_symbol'
as.character(x, replace_I = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.character.caracas_symbol_+3A_x">x</code></td>
<td>
<p>A <code>caracas_symbol</code></p>
</td></tr>
<tr><td><code id="as.character.caracas_symbol_+3A_replace_i">replace_I</code></td>
<td>
<p>Replace constant I (can both be identity and imaginary unit)</p>
</td></tr>
<tr><td><code id="as.character.caracas_symbol_+3A_...">...</code></td>
<td>
<p>not used</p>
</td></tr>
</table>

<hr>
<h2 id='ask'>Ask for a symbol's property</h2><span id='topic+ask'></span>

<h3>Description</h3>

<p>Ask for a symbol's property
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ask(x, property)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ask_+3A_x">x</code></td>
<td>
<p>symbol</p>
</td></tr>
<tr><td><code id="ask_+3A_property">property</code></td>
<td>
<p>property, e.g. 'positive'</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
  x &lt;- symbol("x", positive = TRUE)
  ask(x, "positive")
}

</code></pre>

<hr>
<h2 id='cancel'>Put rational function into standard form</h2><span id='topic+cancel'></span>

<h3>Description</h3>

<p>cancel() will take any rational function and put it into the standard canonical form
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cancel(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cancel_+3A_x">x</code></td>
<td>
<p>A <code>caracas_symbol</code></p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()){
  def_sym(x, y, z)
  expr = cancel((x**2 + 2*x + 1)/(x**2 + x))
  cancel(expr)
  expr = (x*y**2 - 2*x*y*z + x*z**2 + y**2 - 2*y*z + z**2)/(x**2 - 1)
  cancel(expr)
  factor_(expr)
}
</code></pre>

<hr>
<h2 id='collect'>Collects common powers of a term in an expression</h2><span id='topic+collect'></span>

<h3>Description</h3>

<p>Collects common powers of a term in an expression
</p>


<h3>Usage</h3>

<pre><code class='language-R'>collect(x, a)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="collect_+3A_x">x</code>, <code id="collect_+3A_a">a</code></td>
<td>
<p>A <code>caracas_symbol</code></p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()){
  def_sym(x, y, z)
  expr = x*y + x - 3 + 2*x**2 - z*x**2 + x**3
  collect(expr, x)
}
</code></pre>

<hr>
<h2 id='colspan'>Column space (range) of a symbolic matrix</h2><span id='topic+colspan'></span>

<h3>Description</h3>

<p>Column space (range) of a symbolic matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>colspan(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="colspan_+3A_x">x</code></td>
<td>
<p>Symbolic matrix</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
  X1 &lt;- matrix_(paste0("x_",c(1,1,1,1, 2,2,2,2, 3,4,3,4)), nrow = 4)
  X1
  colspan(X1)
  do_la(X1, "columnspace")
  rankMatrix_(X1)
  
  X2 &lt;- matrix_(paste0("x_",c(1,1,1,1, 0,0,2,2, 3,4,3,4)), nrow = 4)
  X2
  colspan(X2)
  do_la(X2, "columnspace")
  rankMatrix_(X2)
}

</code></pre>

<hr>
<h2 id='cumsum.caracas_symbol'>Cumulative Sums</h2><span id='topic+cumsum.caracas_symbol'></span>

<h3>Description</h3>

<p>Cumulative Sums
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'caracas_symbol'
cumsum(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cumsum.caracas_symbol_+3A_x">x</code></td>
<td>
<p>Elements to sum</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
  A &lt;- matrix(1:9, 3)
  cumsum(A)
  B &lt;- matrix_sym(3, 3)
  cumsum(B)
  C &lt;- vector_sym(3)
  cumsum(C)
}

</code></pre>

<hr>
<h2 id='def_sym'>Define (invisibly) caracas symbols in global environment</h2><span id='topic+def_sym'></span><span id='topic+def_sym_vec'></span>

<h3>Description</h3>

<p>Define (invisibly) caracas symbols in global environment
</p>
<p>Define symbol for components in vector
</p>


<h3>Usage</h3>

<pre><code class='language-R'>def_sym(..., charvec = NULL, warn = FALSE, env = parent.frame())

def_sym_vec(x, env = parent.frame())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="def_sym_+3A_...">...</code></td>
<td>
<p>Names for new symbols, also supports non-standard evaluation</p>
</td></tr>
<tr><td><code id="def_sym_+3A_charvec">charvec</code></td>
<td>
<p>Take each element in this character vector and define as caracas symbols</p>
</td></tr>
<tr><td><code id="def_sym_+3A_warn">warn</code></td>
<td>
<p>Warn if existing variable names are overwritten</p>
</td></tr>
<tr><td><code id="def_sym_+3A_env">env</code></td>
<td>
<p>The environment in which the assignment is made.</p>
</td></tr>
<tr><td><code id="def_sym_+3A_x">x</code></td>
<td>
<p>Character vector.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Names of declared variables (invisibly)
</p>


<h3>See Also</h3>

<p><code><a href="#topic+symbol">symbol()</a></code>, <code><a href="#topic+as_sym">as_sym()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
  ls()
  def_sym(n1, n2, n3)
  ls()
  def_sym("x1", "x2", "x3")
  ls()
  # def_sym("x1", "x2", "x3", warn = TRUE) # Do not run as will cause a warning
  ls()
  def_sym(i, j, charvec = c("x", "y"))
  ls()
}

if (has_sympy()) {
  def_sym(z1, z2, z3)
  u &lt;- paste0("u", seq_len(3))
  ## Creates symbols u1, u2, u3 and binds to names u1, u2, u3 in R.
  def_sym_vec(u) 
  ## Same as (but easier than)
  def_sym(u1, u2, u3)
  ## Notice: this creates matrix [u1, u2, u3]
  as_sym(u)
 }
</code></pre>

<hr>
<h2 id='der'>Symbolic differentiation of an expression</h2><span id='topic+der'></span>

<h3>Description</h3>

<p>Symbolic differentiation of an expression
</p>


<h3>Usage</h3>

<pre><code class='language-R'>der(expr, vars, simplify = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="der_+3A_expr">expr</code></td>
<td>
<p>A <code>caracas_symbol</code></p>
</td></tr>
<tr><td><code id="der_+3A_vars">vars</code></td>
<td>
<p>variables to take derivate with respect to</p>
</td></tr>
<tr><td><code id="der_+3A_simplify">simplify</code></td>
<td>
<p>Simplify result</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
  x &lt;- symbol("x")
  y &lt;- symbol("y")
  f &lt;- 3*x^2 + x*y^2
  der(f, x)
  g &lt;- der(f, list(x, y))
  g
  dim(g)
  G &lt;- matrify(g)
  G
  dim(G)
  
  h &lt;- der(g, list(x, y))
  h
  dim(h)
  as.character(h)
  H &lt;- matrify(h)
  H
  dim(H)
  
  g %&gt;% 
    der(list(x, y), simplify = FALSE) %&gt;% 
    der(list(x, y), simplify = FALSE) %&gt;% 
    der(list(x, y), simplify = FALSE)
}

</code></pre>

<hr>
<h2 id='der2'>Symbolic differentiation of second order of an expression</h2><span id='topic+der2'></span>

<h3>Description</h3>

<p>Symbolic differentiation of second order of an expression
</p>


<h3>Usage</h3>

<pre><code class='language-R'>der2(expr, vars, simplify = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="der2_+3A_expr">expr</code></td>
<td>
<p>A <code>caracas_symbol</code></p>
</td></tr>
<tr><td><code id="der2_+3A_vars">vars</code></td>
<td>
<p>variables to take derivate with respect to</p>
</td></tr>
<tr><td><code id="der2_+3A_simplify">simplify</code></td>
<td>
<p>Simplify result</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
  x &lt;- symbol("x")
  y &lt;- symbol("y")
  f &lt;- 3*x^2 + x*y^2
  der2(f, x)
  h &lt;- der2(f, list(x, y))
  h
  dim(h)
  H &lt;- matrify(h)
  H
  dim(H)
}

</code></pre>

<hr>
<h2 id='diag'>Matrix diagonal</h2><span id='topic+diag'></span>

<h3>Description</h3>

<p>Matrix diagonal
</p>


<h3>Usage</h3>

<pre><code class='language-R'>diag(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="diag_+3A_x">x</code></td>
<td>
<p>Object <code>x</code></p>
</td></tr>
<tr><td><code id="diag_+3A_...">...</code></td>
<td>
<p>Passed on</p>
</td></tr>
</table>

<hr>
<h2 id='diag_'>Symbolic diagonal matrix</h2><span id='topic+diag_'></span>

<h3>Description</h3>

<p>Symbolic diagonal matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>diag_(x, n = 1L, declare_symbols = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="diag__+3A_x">x</code></td>
<td>
<p>Character vector with diagonal</p>
</td></tr>
<tr><td><code id="diag__+3A_n">n</code></td>
<td>
<p>Number of times <code>x</code> should be repeated</p>
</td></tr>
<tr><td><code id="diag__+3A_declare_symbols">declare_symbols</code></td>
<td>
<p>Passed on to <code>as_sym()</code> when constructing symbolic matrix</p>
</td></tr>
<tr><td><code id="diag__+3A_...">...</code></td>
<td>
<p>Passed on to <code>rep(x, n, ...)</code></p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
  diag_(c(1,3,5))
  diag_(c("a", "b", "c"))
  diag_("a", 2)
  diag_(vector_sym(4))
}

</code></pre>

<hr>
<h2 id='diag-set'>Replace matrix diagonal</h2><span id='topic+diag-set'></span><span id='topic+diag+3C-'></span>

<h3>Description</h3>

<p>Replace matrix diagonal
</p>


<h3>Usage</h3>

<pre><code class='language-R'>diag(x) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="diag-set_+3A_x">x</code></td>
<td>
<p>Object <code>x</code></p>
</td></tr>
<tr><td><code id="diag-set_+3A_value">value</code></td>
<td>
<p>Replacement value</p>
</td></tr>
</table>

<hr>
<h2 id='diag.caracas_symbol'>Matrix diagonal</h2><span id='topic+diag.caracas_symbol'></span>

<h3>Description</h3>

<p>Matrix diagonal
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'caracas_symbol'
diag(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="diag.caracas_symbol_+3A_x">x</code></td>
<td>
<p>Object <code>x</code></p>
</td></tr>
<tr><td><code id="diag.caracas_symbol_+3A_...">...</code></td>
<td>
<p>Not used</p>
</td></tr>
</table>

<hr>
<h2 id='diag+26lt+3B-.caracas_symbol'>Replace diagonal</h2><span id='topic+diag+3C-.caracas_symbol'></span>

<h3>Description</h3>

<p>Replace diagonal
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 replacement method for class 'caracas_symbol'
diag(x) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="diag+2B26lt+2B3B-.caracas_symbol_+3A_x">x</code></td>
<td>
<p>A <code>caracas_symbol</code>.</p>
</td></tr>
<tr><td><code id="diag+2B26lt+2B3B-.caracas_symbol_+3A_value">value</code></td>
<td>
<p>Replacement value</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
  A &lt;- matrix(c("a", 0, 0, 0, "a", "a", "a", 0, 0), 3, 3)
  B &lt;- as_sym(A)
  B
  diag(B)
  diag(B) &lt;- "b"
  B
  diag(B)
}

</code></pre>

<hr>
<h2 id='diff_mat'>Difference matrix</h2><span id='topic+diff_mat'></span>

<h3>Description</h3>

<p>Difference matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>diff_mat(N, l = "-1", d = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="diff_mat_+3A_n">N</code></td>
<td>
<p>Number of rows (and columns)</p>
</td></tr>
<tr><td><code id="diff_mat_+3A_l">l</code></td>
<td>
<p>Value / symbol below main diagonal</p>
</td></tr>
<tr><td><code id="diff_mat_+3A_d">d</code></td>
<td>
<p>Value / symbol on main diagonal</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()){
  Dm &lt;- diff_mat(4)
  Dm
  y &lt;- vector_sym(4, "y")
  Dm %*% y
}
</code></pre>

<hr>
<h2 id='dim.caracas_symbol'>Dimensions of a caracas symbol</h2><span id='topic+dim.caracas_symbol'></span>

<h3>Description</h3>

<p>Dimensions of a caracas symbol
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'caracas_symbol'
dim(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dim.caracas_symbol_+3A_x">x</code></td>
<td>
<p>caracas symbol</p>
</td></tr>
</table>

<hr>
<h2 id='dim+26lt+3B-.caracas_symbol'>Dimensions of a caracas symbol</h2><span id='topic+dim+3C-.caracas_symbol'></span>

<h3>Description</h3>

<p>Dimensions of a caracas symbol
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 replacement method for class 'caracas_symbol'
dim(x) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dim+2B26lt+2B3B-.caracas_symbol_+3A_x">x</code></td>
<td>
<p>caracas symbol</p>
</td></tr>
<tr><td><code id="dim+2B26lt+2B3B-.caracas_symbol_+3A_value">value</code></td>
<td>
<p>new dimension</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
  v &lt;- vector_sym(4)
  v
  dim(v)
  dim(v) &lt;- c(2, 2)
  v
  m &lt;- matrix_sym(2, 2)
  dim(m)
  dim(m) &lt;- c(4, 1)
  m
}

</code></pre>

<hr>
<h2 id='do_la'>Do linear algebra operation</h2><span id='topic+do_la'></span>

<h3>Description</h3>

<p>Do linear algebra operation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>do_la(x, slot, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="do_la_+3A_x">x</code></td>
<td>
<p>A matrix for which a property is requested</p>
</td></tr>
<tr><td><code id="do_la_+3A_slot">slot</code></td>
<td>
<p>The property requested</p>
</td></tr>
<tr><td><code id="do_la_+3A_...">...</code></td>
<td>
<p>Auxillary arguments</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns the requested property of a matrix.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
  A &lt;- matrix(c("a", "0", "0", "1"), 2, 2) %&gt;% as_sym()
  
  do_la(A, "QR")
  QRdecomposition(A)

  do_la(A, "LU")
  LUdecomposition(A)

  do_la(A, "cholesky", hermitian = FALSE)
  chol(A, hermitian = FALSE)
  
  do_la(A, "singular_value_decomposition")
  do_la(A, "svd")
  svd_res &lt;- svd_(A)
  svd_res
  U_expr &lt;- svd_res$U |&gt; as_expr()
  U_expr
  eval(U_expr, list(a = 3+2i))
  
  b &lt;- symbol("b", real = TRUE)
  B &lt;- matrix(c("b", "0", "0", "1"), 2, 2) %&gt;% as_sym(declare_symbols = FALSE)
  svd_(B)

  do_la(A, "eigenval")
  eigenval(A)
  
  do_la(A, "eigenvec")
  eigenvec(A)
  
  do_la(A, "inv")
  inv(A)
  
  do_la(A, "trace")
  trace_(A)
  
  do_la(A, "echelon_form")
  do_la(A, "rank")
  
  do_la(A, "det") # Determinant
  det(A)
}

</code></pre>

<hr>
<h2 id='doit'>Perform calculations setup previously</h2><span id='topic+doit'></span>

<h3>Description</h3>

<p>Perform calculations setup previously
</p>


<h3>Usage</h3>

<pre><code class='language-R'>doit(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="doit_+3A_x">x</code></td>
<td>
<p>A <code>caracas_symbol</code></p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
   x &lt;- symbol('x')
   res &lt;- lim(sin(x)/x, "x", 0, doit = FALSE)
   res 
   doit(res)
}

</code></pre>

<hr>
<h2 id='drop_remainder'>Remove remainder term</h2><span id='topic+drop_remainder'></span>

<h3>Description</h3>

<p>Remove remainder term
</p>


<h3>Usage</h3>

<pre><code class='language-R'>drop_remainder(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="drop_remainder_+3A_x">x</code></td>
<td>
<p>Expression to remove remainder term from</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+taylor">taylor()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
  def_sym(x)
  f &lt;- cos(x)
  ft_with_O &lt;- taylor(f, x0 = 0, n = 4+1)
  ft_with_O
  ft_with_O %&gt;% drop_remainder() %&gt;% as_expr()
}

</code></pre>

<hr>
<h2 id='eval_to_symbol'>Create a symbol from a string</h2><span id='topic+eval_to_symbol'></span>

<h3>Description</h3>

<p>Create a symbol from a string
</p>


<h3>Usage</h3>

<pre><code class='language-R'>eval_to_symbol(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="eval_to_symbol_+3A_x">x</code></td>
<td>
<p>String to evaluate</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>caracas_symbol</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
   x &lt;- symbol('x')
   (1+1)*x^2
   lim(sin(x)/x, "x", 0)
}

</code></pre>

<hr>
<h2 id='expand'>Expand expression</h2><span id='topic+expand'></span>

<h3>Description</h3>

<p>Expand expression
</p>


<h3>Usage</h3>

<pre><code class='language-R'>expand(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="expand_+3A_x">x</code></td>
<td>
<p>A <code>caracas_symbol</code></p>
</td></tr>
<tr><td><code id="expand_+3A_...">...</code></td>
<td>
<p>Pass on to SymPy's expand, e.g. <code>force = TRUE</code></p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
  def_sym(x)
  y &lt;- log(exp(x))
  simplify(y)
  expand(simplify(y))
  expand(simplify(y), force = TRUE)
  expand_log(simplify(y))
}

</code></pre>

<hr>
<h2 id='expand_func'>Expand a function expression</h2><span id='topic+expand_func'></span>

<h3>Description</h3>

<p>Expand a function expression
</p>


<h3>Usage</h3>

<pre><code class='language-R'>expand_func(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="expand_func_+3A_x">x</code></td>
<td>
<p>A <code>caracas_symbol</code></p>
</td></tr>
</table>

<hr>
<h2 id='expand_log'>Expand a logarithmic expression</h2><span id='topic+expand_log'></span>

<h3>Description</h3>

<p>Note that <code>force</code> as described at
<a href="https://docs.sympy.org/latest/tutorial/simplification.html#expand-log">https://docs.sympy.org/latest/tutorial/simplification.html#expand-log</a> is used
meaning that some assumptions are taken.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>expand_log(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="expand_log_+3A_x">x</code></td>
<td>
<p>A <code>caracas_symbol</code></p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
  x &lt;- symbol('x')
  y &lt;- symbol('y')
  z &lt;- log(x*y)
  z
  expand_log(z)
}

</code></pre>

<hr>
<h2 id='expand_trig'>Expand a trigonometric expression</h2><span id='topic+expand_trig'></span>

<h3>Description</h3>

<p>Expand a trigonometric expression
</p>


<h3>Usage</h3>

<pre><code class='language-R'>expand_trig(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="expand_trig_+3A_x">x</code></td>
<td>
<p>A <code>caracas_symbol</code></p>
</td></tr>
</table>

<hr>
<h2 id='factor_'>Expand expression</h2><span id='topic+factor_'></span>

<h3>Description</h3>

<p>Expand expression
</p>


<h3>Usage</h3>

<pre><code class='language-R'>factor_(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="factor__+3A_x">x</code></td>
<td>
<p>A <code>caracas_symbol</code></p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>
if (has_sympy()){
  def_sym(x, y, z)
  factor_(x**3 - x**2 + x - 1)
  factor_(x**2*z + 4*x*y*z + 4*y**2*z)
}

</code></pre>

<hr>
<h2 id='fraction_parts'>Get numerator and denominator of a fraction</h2><span id='topic+fraction_parts'></span><span id='topic+numerator'></span><span id='topic+denominator'></span>

<h3>Description</h3>

<p>Get numerator and denominator of a fraction
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fraction_parts(x)

numerator(x)

denominator(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fraction_parts_+3A_x">x</code></td>
<td>
<p>Fraction</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
     x &lt;- as_sym("a/b")
     frac &lt;- fraction_parts(x)
     frac
     frac$numerator
     frac$denominator
 }

</code></pre>

<hr>
<h2 id='free_symbols'>Get free symbol in expression</h2><span id='topic+free_symbols'></span>

<h3>Description</h3>

<p>Get free symbol in expression
</p>


<h3>Usage</h3>

<pre><code class='language-R'>free_symbols(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="free_symbols_+3A_x">x</code></td>
<td>
<p>Expression in which to get the free symbols in</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
  def_sym(a, b)
  x &lt;- (a - b)^4
  free_symbols(x)
}
 
</code></pre>

<hr>
<h2 id='generic-matrices'>Generate generic vectors and matrices</h2><span id='topic+generic-matrices'></span><span id='topic+vector_sym'></span><span id='topic+matrix_sym'></span><span id='topic+matrix_sym_diag'></span><span id='topic+matrix_sym_symmetric'></span>

<h3>Description</h3>

<p>Generate generic vectors and matrices.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vector_sym(n, entry = "v")

matrix_sym(nrow, ncol, entry = "v")

matrix_sym_diag(nrow, entry = "v")

matrix_sym_symmetric(nrow, entry = "v")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="generic-matrices_+3A_n">n</code></td>
<td>
<p>Length of vector</p>
</td></tr>
<tr><td><code id="generic-matrices_+3A_entry">entry</code></td>
<td>
<p>The symbolic name of each entry.</p>
</td></tr>
<tr><td><code id="generic-matrices_+3A_nrow">nrow</code>, <code id="generic-matrices_+3A_ncol">ncol</code></td>
<td>
<p>Number of rows and columns</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
  vector_sym(4, "b")
  matrix_sym(3, 2, "a")
  matrix_sym_diag(4, "s")
  matrix_sym_symmetric(4, "s")
}

</code></pre>

<hr>
<h2 id='get_basis'>Get basis</h2><span id='topic+get_basis'></span>

<h3>Description</h3>

<p>Get basis
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_basis(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_basis_+3A_x">x</code></td>
<td>
<p>caracas vector / matrix</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
  x &lt;- vector_sym(3)
  get_basis(x)

  W &lt;- matrix(c("r_1", "r_1", "r_2", "r_2", "0", "0", "u_1", "u_2"), nrow=4)
  W &lt;- as_sym(W)
  get_basis(W)
}
</code></pre>

<hr>
<h2 id='get_py'>Access 'py' object</h2><span id='topic+get_py'></span>

<h3>Description</h3>

<p>Get the 'py' object.
Note that it gives you extra responsibilities
when you choose to access the 'py' object directly.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_py()
</code></pre>


<h3>Value</h3>

<p>The 'py' object with direct access to the library.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
  py &lt;- get_py()
}

</code></pre>

<hr>
<h2 id='get_sympy'>Access 'SymPy' directly</h2><span id='topic+get_sympy'></span>

<h3>Description</h3>

<p>Get the 'SymPy' object. Note that it gives you extra
responsibilities when you choose to access the 'SymPy' object
directly.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_sympy()
</code></pre>


<h3>Value</h3>

<p>The 'SymPy' object with direct access to the library.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
  sympy &lt;- get_sympy()
  sympy$solve("x**2-1", "x")
}

</code></pre>

<hr>
<h2 id='has_sympy'>Check if 'SymPy' is available</h2><span id='topic+has_sympy'></span>

<h3>Description</h3>

<p>Check if 'SymPy' is available
</p>


<h3>Usage</h3>

<pre><code class='language-R'>has_sympy()
</code></pre>


<h3>Value</h3>

<p><code>TRUE</code> if 'SymPy' is available, else <code>FALSE</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>has_sympy()

</code></pre>

<hr>
<h2 id='install_sympy'>Install 'SymPy'</h2><span id='topic+install_sympy'></span>

<h3>Description</h3>

<p>Install the 'SymPy' Python package into a
virtual environment or Conda environment.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>install_sympy(method = "auto", conda = "auto")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="install_sympy_+3A_method">method</code></td>
<td>
<p>Installation method.  By default, &quot;auto&quot;
automatically finds a method that will work in the local
environment.  Change the default to force a specific
installation method.  Note that the &quot;virtualenv&quot; method is not
available on Windows.</p>
</td></tr>
<tr><td><code id="install_sympy_+3A_conda">conda</code></td>
<td>
<p>Path to conda executable (or &quot;auto&quot; to find conda
using the PATH and other conventional install locations).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>None
</p>

<hr>
<h2 id='int'>Integrate a function</h2><span id='topic+int'></span>

<h3>Description</h3>

<p>If no limits are provided, the
indefinite integral is calculated.
Otherwise, if both limits are provided,
the definite integral is calculated.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>int(f, var, lower, upper, doit = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="int_+3A_f">f</code></td>
<td>
<p>Function to integrate</p>
</td></tr>
<tr><td><code id="int_+3A_var">var</code></td>
<td>
<p>Variable to integrate with respect to (either string or <code>caracas_symbol</code>)</p>
</td></tr>
<tr><td><code id="int_+3A_lower">lower</code></td>
<td>
<p>Lower limit</p>
</td></tr>
<tr><td><code id="int_+3A_upper">upper</code></td>
<td>
<p>Upper limit</p>
</td></tr>
<tr><td><code id="int_+3A_doit">doit</code></td>
<td>
<p>Evaluate the integral immediately (or later with <code><a href="#topic+doit">doit()</a></code>)</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
  x &lt;- symbol("x")
  
  int(1/x, x, 1, 10)
  int(1/x, x, 1, 10, doit = FALSE)
  int(1/x, x)
  int(1/x, x, doit = FALSE)
  int(exp(-x^2/2), x, -Inf, Inf)
  int(exp(-x^2/2), x, -Inf, Inf, doit = FALSE)
}

</code></pre>

<hr>
<h2 id='is_sym'>Is object a caracas symbol</h2><span id='topic+is_sym'></span>

<h3>Description</h3>

<p>Is object a caracas symbol
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_sym(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_sym_+3A_x">x</code></td>
<td>
<p>object</p>
</td></tr>
</table>

<hr>
<h2 id='jacobian'>Compute Jacobian</h2><span id='topic+jacobian'></span>

<h3>Description</h3>

<p>Compute Jacobian
</p>


<h3>Usage</h3>

<pre><code class='language-R'>jacobian(expr, vars)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="jacobian_+3A_expr">expr</code></td>
<td>
<p>'caracas expression'.</p>
</td></tr>
<tr><td><code id="jacobian_+3A_vars">vars</code></td>
<td>
<p>variables to take derivative with respect to</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+score">score()</a></code>, <code><a href="#topic+hessian">hessian()</a></code> <code><a href="#topic+der">der()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
  x &lt;- paste0("x", seq_len(3))
  def_sym_vec(x)
  y1 &lt;- x1 + x2
  y2 &lt;- x1^2 + x3
  y &lt;- c(y1, y2)
  jacobian(y, x)
  u &lt;- 2 + 4*x1^2
  jacobian(u, x1)
}
</code></pre>

<hr>
<h2 id='kronecker+2Ccaracas_symbol+2Ccaracas_symbol-method'>Kronecker product of two matrices</h2><span id='topic+kronecker+2Ccaracas_symbol+2Ccaracas_symbol-method'></span>

<h3>Description</h3>

<p>Computes the Kronecker product of two matrices.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'caracas_symbol,caracas_symbol'
kronecker(X, Y, FUN = "*", make.dimnames = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="kronecker+2B2Ccaracas_symbol+2B2Ccaracas_symbol-method_+3A_x">X</code>, <code id="kronecker+2B2Ccaracas_symbol+2B2Ccaracas_symbol-method_+3A_y">Y</code></td>
<td>
<p>matrices as caracas symbols.</p>
</td></tr>
<tr><td><code id="kronecker+2B2Ccaracas_symbol+2B2Ccaracas_symbol-method_+3A_fun">FUN</code></td>
<td>
<p>a function; it may be a quoted string.</p>
</td></tr>
<tr><td><code id="kronecker+2B2Ccaracas_symbol+2B2Ccaracas_symbol-method_+3A_make.dimnames">make.dimnames</code></td>
<td>
<p>Provide dimnames that are the product of the dimnames of
‘X’ and ‘Y’.</p>
</td></tr>
<tr><td><code id="kronecker+2B2Ccaracas_symbol+2B2Ccaracas_symbol-method_+3A_...">...</code></td>
<td>
<p>optional arguments to be passed to ‘FUN’.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Kronecker product of A and B.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
  A &lt;- matrix_sym(2, 2, "a")
  B &lt;- matrix_sym(2, 2, "b")
  II &lt;- matrix_sym_diag(2)
  EE &lt;- eye_sym(2,2)
  JJ &lt;- ones_sym(2,2)

  kronecker(A, B)
  kronecker(A, B, FUN = "+")
  kronecker(II, B)
  kronecker(EE, B)
  kronecker(JJ, B)
}

</code></pre>

<hr>
<h2 id='lim'>Limit of a function</h2><span id='topic+lim'></span>

<h3>Description</h3>

<p>Limit of a function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lim(f, var, val, dir = NULL, doit = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lim_+3A_f">f</code></td>
<td>
<p>Function to take limit of</p>
</td></tr>
<tr><td><code id="lim_+3A_var">var</code></td>
<td>
<p>Variable to take limit for (either string or <code>caracas_symbol</code>)</p>
</td></tr>
<tr><td><code id="lim_+3A_val">val</code></td>
<td>
<p>Value for <code>var</code> to approach</p>
</td></tr>
<tr><td><code id="lim_+3A_dir">dir</code></td>
<td>
<p>Direction from where <code>var</code> should approach <code>val</code>: <code>'+'</code> or <code>'-'</code></p>
</td></tr>
<tr><td><code id="lim_+3A_doit">doit</code></td>
<td>
<p>Evaluate the limit immediately (or later with <code><a href="#topic+doit">doit()</a></code>)</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
  x &lt;- symbol("x")
  lim(sin(x)/x, "x", 0)
  lim(1/x, "x", 0, dir = '+')
  lim(1/x, "x", 0, dir = '-')
}

</code></pre>

<hr>
<h2 id='linalg'>Do linear algebra operation</h2><span id='topic+linalg'></span><span id='topic+columnspace'></span><span id='topic+nullspace'></span><span id='topic+rowspace'></span><span id='topic+singular_values'></span><span id='topic+inv'></span><span id='topic+eigenval'></span><span id='topic+eigenvec'></span><span id='topic+GramSchmidt'></span><span id='topic+pinv'></span><span id='topic+rref'></span><span id='topic+QRdecomposition'></span><span id='topic+LUdecomposition'></span><span id='topic+chol.caracas_symbol'></span><span id='topic+svd_'></span><span id='topic+det'></span><span id='topic+trace_'></span>

<h3>Description</h3>

<p>Performs various linear algebra operations like finding the inverse,
the QR decomposition, the eigenvectors and the eigenvalues.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>columnspace(x, matrix = TRUE)

nullspace(x, matrix = TRUE)

rowspace(x, matrix = TRUE)

singular_values(x)

inv(x, method = c("gauss", "lu", "cf", "yac"))

eigenval(x)

eigenvec(x)

GramSchmidt(x)

pinv(x)

rref(x)

QRdecomposition(x)

LUdecomposition(x)

## S3 method for class 'caracas_symbol'
chol(x, ...)

svd_(x, ...)

det(x, ...)

trace_(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="linalg_+3A_x">x</code></td>
<td>
<p>A matrix for which a property is requested.</p>
</td></tr>
<tr><td><code id="linalg_+3A_matrix">matrix</code></td>
<td>
<p>When relevant should a matrix be returned.</p>
</td></tr>
<tr><td><code id="linalg_+3A_method">method</code></td>
<td>
<p>The default works by Gaussian elimination.  The
alternatives are $LU$ decomposition (<code>lu</code>), the cofactor
method (<code>cf</code>), and <code>Ryacas</code> (<code>yac</code>).</p>
</td></tr>
<tr><td><code id="linalg_+3A_...">...</code></td>
<td>
<p>Auxillary arguments.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns the requested property of a matrix.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+do_la">do_la()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
  A &lt;- matrix(c("a", "0", "0", "1"), 2, 2) |&gt; as_sym()
  
  QRdecomposition(A)
  LUdecomposition(A)
  #chol(A) # error
  chol(A, hermitian = FALSE)
  eigenval(A)
  eigenvec(A)
  inv(A)
  det(A)
  
  ## Matrix inversion:
  d &lt;- 3
  m &lt;- matrix_sym(d, d)
  print(system.time(inv(m)))                  ## Gauss elimination
  print(system.time(inv(m, method="cf")))     ## Cofactor 
  print(system.time(inv(m, method="lu")))     ## LU decomposition
  if (requireNamespace("Ryacas")){
    print(system.time(inv(m, method="yac")))  ## Use Ryacas
  }

  A &lt;- matrix(c("a", "b", "c", "d"), 2, 2) %&gt;% as_sym()
  evec &lt;- eigenvec(A)
  evec
  evec1 &lt;- evec[[1]]$eigvec
  evec1
  simplify(evec1)
  
  lapply(evec, function(l) simplify(l$eigvec))

  A &lt;- as_sym("[[1, 2, 3], [4, 5, 6]]")
  pinv(A)
}

</code></pre>

<hr>
<h2 id='listify'>Convert object to list of elements</h2><span id='topic+listify'></span>

<h3>Description</h3>

<p>Convert object to list of elements
</p>


<h3>Usage</h3>

<pre><code class='language-R'>listify(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="listify_+3A_x">x</code></td>
<td>
<p>Object</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
  x &lt;- as_sym("Matrix([[b1*x1/(b2 + x1)], [b1*x2/(b2 + x2)], [b1*x3/(b2 + x3)]])")
  listify(x)
  
  xT &lt;- t(x)
  listify(xT)
}

</code></pre>

<hr>
<h2 id='ls_sym'>List defined symbols</h2><span id='topic+ls_sym'></span>

<h3>Description</h3>

<p>List defined symbols
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ls_sym()
</code></pre>

<hr>
<h2 id='mat_pow'>Matrix power</h2><span id='topic+mat_pow'></span>

<h3>Description</h3>

<p>Matrix power
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mat_pow(x, pow = "1")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mat_pow_+3A_x">x</code></td>
<td>
<p>A <code>caracas_symbol</code>, a matrix.</p>
</td></tr>
<tr><td><code id="mat_pow_+3A_pow">pow</code></td>
<td>
<p>Power to raise matrix <code>x</code> to</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy() &amp;&amp; sympy_version() &gt;= "1.6") {
  M &lt;- matrix_(c("1", "a", "a", 1), 2, 2)
  M
  mat_pow(M, 1/2)
}

</code></pre>

<hr>
<h2 id='Math.caracas_symbol'>Math functions</h2><span id='topic+Math.caracas_symbol'></span>

<h3>Description</h3>

<p>If <code>x</code> is a matrix, the function is applied component-wise.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'caracas_symbol'
Math(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Math.caracas_symbol_+3A_x">x</code></td>
<td>
<p><code>caracas_symbol</code>.</p>
</td></tr>
<tr><td><code id="Math.caracas_symbol_+3A_...">...</code></td>
<td>
<p>further arguments passed to methods</p>
</td></tr>
</table>

<hr>
<h2 id='matrify'>Creates matrix from array symbol</h2><span id='topic+matrify'></span>

<h3>Description</h3>

<p>Creates matrix from array symbol
</p>


<h3>Usage</h3>

<pre><code class='language-R'>matrify(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="matrify_+3A_x">x</code></td>
<td>
<p>Array symbol to convert to matrix</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
  x &lt;- symbol("x")
  y &lt;- symbol("y")
  f &lt;- 3*x^2 + x*y^2
  matrify(f)
  h &lt;- der2(f, list(x, y))
  h
  dim(h)
  H &lt;- matrify(h)
  H
  dim(H)
}

</code></pre>

<hr>
<h2 id='matrix_'>Symbolic matrix</h2><span id='topic+matrix_'></span>

<h3>Description</h3>

<p>Symbolic matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>matrix_(..., declare_symbols = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="matrix__+3A_...">...</code></td>
<td>
<p>Passed on to <code><a href="base.html#topic+matrix">matrix()</a></code></p>
</td></tr>
<tr><td><code id="matrix__+3A_declare_symbols">declare_symbols</code></td>
<td>
<p>Passed on to <code>as_sym()</code> when constructing symbolic matrix</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
  matrix_(1:9, nrow = 3)
  matrix_("a", 2, 2)
}

</code></pre>

<hr>
<h2 id='matrix_cross_product'>Matrix cross product</h2><span id='topic+matrix_cross_product'></span><span id='topic+crossprod_'></span><span id='topic+tcrossprod_'></span>

<h3>Description</h3>

<p>Matrix cross product
</p>


<h3>Usage</h3>

<pre><code class='language-R'>crossprod_(x, y = NULL)

tcrossprod_(x, y = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="matrix_cross_product_+3A_x">x</code>, <code id="matrix_cross_product_+3A_y">y</code></td>
<td>
<p>caracas matrices</p>
</td></tr>
</table>

<hr>
<h2 id='matrix-products'>Matrix multiplication</h2><span id='topic+matrix-products'></span><span id='topic++25+2A+25'></span><span id='topic++25+2A+25.caracas_symbol'></span>

<h3>Description</h3>

<p>Matrix multiplication
</p>
<p>Matrix multiplication
</p>


<h3>Usage</h3>

<pre><code class='language-R'>x %*% y

## S3 method for class 'caracas_symbol'
x %*% y
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="matrix-products_+3A_x">x</code></td>
<td>
<p>Object <code>x</code></p>
</td></tr>
<tr><td><code id="matrix-products_+3A_y">y</code></td>
<td>
<p>Object <code>y</code></p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="base.html#topic+matmult">base::%*%()</a></code>
</p>
<p><code><a href="base.html#topic+matmult">base::%*%()</a></code>
</p>

<hr>
<h2 id='N'>Numerical evaluation</h2><span id='topic+N'></span>

<h3>Description</h3>

<p>Numerical evaluation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>N(x, digits = 15)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="N_+3A_x">x</code></td>
<td>
<p>caracas object</p>
</td></tr>
<tr><td><code id="N_+3A_digits">digits</code></td>
<td>
<p>Number of digits</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
  n_2 &lt;- as_sym("2")
  n_pi &lt;- as_sym("pi", declare_symbols = FALSE)
  x &lt;- sqrt(n_2) * n_pi
  x
  N(x)
  N(x, 5)
  N(x, 50)
  as.character(N(x, 50))
}

</code></pre>

<hr>
<h2 id='Ops.caracas_symbol'>Math operators</h2><span id='topic+Ops.caracas_symbol'></span>

<h3>Description</h3>

<p>Math operators
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'caracas_symbol'
Ops(e1, e2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Ops.caracas_symbol_+3A_e1">e1</code></td>
<td>
<p>A <code>caracas_symbol</code>.</p>
</td></tr>
<tr><td><code id="Ops.caracas_symbol_+3A_e2">e2</code></td>
<td>
<p>A <code>caracas_symbol</code>.</p>
</td></tr>
</table>

<hr>
<h2 id='print.caracas_scaled_matrix'>Print scaled matrix</h2><span id='topic+print.caracas_scaled_matrix'></span>

<h3>Description</h3>

<p>Print scaled matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'caracas_scaled_matrix'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.caracas_scaled_matrix_+3A_x">x</code></td>
<td>
<p>A <code>caracas_scaled_matrix</code></p>
</td></tr>
<tr><td><code id="print.caracas_scaled_matrix_+3A_...">...</code></td>
<td>
<p>Passed to <code><a href="#topic+print.caracas_symbol">print.caracas_symbol()</a></code></p>
</td></tr>
</table>

<hr>
<h2 id='print.caracas_solve_sys_sol'>Print solution</h2><span id='topic+print.caracas_solve_sys_sol'></span>

<h3>Description</h3>

<p>Print solution
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'caracas_solve_sys_sol'
print(
  x,
  simplify = getOption("caracas.print.sol.simplify", default = TRUE),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.caracas_solve_sys_sol_+3A_x">x</code></td>
<td>
<p>A <code>caracas_symbol</code></p>
</td></tr>
<tr><td><code id="print.caracas_solve_sys_sol_+3A_simplify">simplify</code></td>
<td>
<p>Print solution in a simple format</p>
</td></tr>
<tr><td><code id="print.caracas_solve_sys_sol_+3A_...">...</code></td>
<td>
<p>Passed to <code><a href="#topic+print.caracas_symbol">print.caracas_symbol()</a></code></p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
  x &lt;- symbol('x')
  solve_sys(x^2, -1, x)
  
  y &lt;- symbol("y")
  lhs &lt;- cbind(3*x*y - y, x)
  rhs &lt;- cbind(-5*x, y+4)
  sol &lt;- solve_sys(lhs, rhs, list(x, y))
  sol
}

</code></pre>

<hr>
<h2 id='print.caracas_symbol'>Print symbol</h2><span id='topic+print.caracas_symbol'></span>

<h3>Description</h3>

<p>Print symbol
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'caracas_symbol'
print(
  x,
  prompt = getOption("caracas.prompt", default = "c: "),
  method = getOption("caracas.print.method", default = "utf8"),
  rowvec = getOption("caracas.print.rowvec", default = TRUE),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.caracas_symbol_+3A_x">x</code></td>
<td>
<p>A <code>caracas_symbol</code></p>
</td></tr>
<tr><td><code id="print.caracas_symbol_+3A_prompt">prompt</code></td>
<td>
<p>Which prompt/prefix to print (default: 'c: ')</p>
</td></tr>
<tr><td><code id="print.caracas_symbol_+3A_method">method</code></td>
<td>
<p>What way to print (<code>utf8</code>, <code>prettyascii</code>, <code>ascii</code>, <code>compactascii</code>)</p>
</td></tr>
<tr><td><code id="print.caracas_symbol_+3A_rowvec">rowvec</code></td>
<td>
<p><code>FALSE</code> to print column vectors as is</p>
</td></tr>
<tr><td><code id="print.caracas_symbol_+3A_...">...</code></td>
<td>
<p>not used</p>
</td></tr>
</table>

<hr>
<h2 id='prod_'>Product of a function</h2><span id='topic+prod_'></span>

<h3>Description</h3>

<p>Product of a function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prod_(f, var, lower, upper, doit = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prod__+3A_f">f</code></td>
<td>
<p>Function to take product of</p>
</td></tr>
<tr><td><code id="prod__+3A_var">var</code></td>
<td>
<p>Variable to take product for (either string or <code>caracas_symbol</code>)</p>
</td></tr>
<tr><td><code id="prod__+3A_lower">lower</code></td>
<td>
<p>Lower limit</p>
</td></tr>
<tr><td><code id="prod__+3A_upper">upper</code></td>
<td>
<p>Upper limit</p>
</td></tr>
<tr><td><code id="prod__+3A_doit">doit</code></td>
<td>
<p>Evaluate the product immediately (or later with <code><a href="#topic+doit">doit()</a></code>)</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
  x &lt;- symbol("x")
  p &lt;- prod_(1/x, "x", 1, 10)
  p
  as_expr(p)
  prod(1/(1:10))
  n &lt;- symbol("n")
  prod_(x, x, 1, n)
}

</code></pre>

<hr>
<h2 id='rankMatrix_'>Rank of matrix</h2><span id='topic+rankMatrix_'></span>

<h3>Description</h3>

<p>Rank of matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rankMatrix_(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rankMatrix__+3A_x">x</code></td>
<td>
<p>Numeric or symbolic matrix</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
  X &lt;- matrix_(paste0("x_",c(1,1,1,1,2,2,2,2,3,4,3,4)), nrow=4)
  X
  rankMatrix_(X)
  colspan(X)
}

</code></pre>

<hr>
<h2 id='reciprocal_matrix'>Elementwise reciprocal matrix</h2><span id='topic+reciprocal_matrix'></span>

<h3>Description</h3>

<p>Elementwise reciprocal matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reciprocal_matrix(x, numerator = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="reciprocal_matrix_+3A_x">x</code></td>
<td>
<p>Object <code>x</code></p>
</td></tr>
<tr><td><code id="reciprocal_matrix_+3A_numerator">numerator</code></td>
<td>
<p>The numerator in the result.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
  s &lt;- as_sym("[[r1, r2, r3], [u1, u2, u3]]")
  reciprocal_matrix(s, numerator = 7)
}

</code></pre>

<hr>
<h2 id='rowSums_colSums'>Form Row and Column Sums</h2><span id='topic+rowSums_colSums'></span><span id='topic+rowSums_'></span><span id='topic+colSums_'></span>

<h3>Description</h3>

<p>Form Row and Column Sums
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rowSums_(x)

colSums_(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rowSums_colSums_+3A_x">x</code></td>
<td>
<p>Symbolic matrix</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
  X &lt;- matrix_(paste0("x_",c(1,1,1,1,2,2,2,2,3,4,3,4)), nrow=4)
  rowSums_(X)
  colSums_(X)
}

</code></pre>

<hr>
<h2 id='scale_matrix'>Create list of factors as in a product</h2><span id='topic+scale_matrix'></span>

<h3>Description</h3>

<p>Create list of factors as in a product
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scale_matrix(X, k = NULL, divide = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="scale_matrix_+3A_x">X</code></td>
<td>
<p>matrix</p>
</td></tr>
<tr><td><code id="scale_matrix_+3A_k">k</code></td>
<td>
<p>scalar to be factored out</p>
</td></tr>
<tr><td><code id="scale_matrix_+3A_divide">divide</code></td>
<td>
<p>Should <code>X</code> be divided with <code>k</code> before constructing scaled matrix?</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
  V &lt;- matrix_sym(2, 2, "v")
  a &lt;- symbol("a")
  
  K &lt;- a*V
  scale_matrix(K, a)
  scale_matrix(V, a, divide = FALSE)

  Ks &lt;- scale_matrix(V, a, divide = FALSE)
  Ks
  W &lt;- matrix_sym(2, 2, "w")
  unscale_matrix(Ks) %*% W
  unscale_matrix(Ks) %*% W |&gt; scale_matrix(a)
  Ksi &lt;- unscale_matrix(Ks) |&gt; inv() |&gt; scale_matrix(a/det(unscale_matrix(Ks)))
  (Ksi |&gt; unscale_matrix()) %*% (Ks |&gt; unscale_matrix()) |&gt; simplify()
  tex(Ksi)
}

</code></pre>

<hr>
<h2 id='score_hessian'>Score and Hessian matrix</h2><span id='topic+score_hessian'></span><span id='topic+score'></span><span id='topic+hessian'></span>

<h3>Description</h3>

<p>Compute column vector of first derivatives and matrix of second
derivatives of univariate function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>score(expr, vars, simplify = TRUE)

hessian(expr, vars, simplify = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="score_hessian_+3A_expr">expr</code></td>
<td>
<p>'caracas expression'.</p>
</td></tr>
<tr><td><code id="score_hessian_+3A_vars">vars</code></td>
<td>
<p>variables to take derivative with respect to.</p>
</td></tr>
<tr><td><code id="score_hessian_+3A_simplify">simplify</code></td>
<td>
<p>Try to simplify result using <code>simplify()</code>; may be time consuming.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+jacobian">jacobian()</a></code>, <code><a href="#topic+der">der()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
if (has_sympy()) {
  def_sym(b0, b1, x, x0)
  f &lt;- b0 / (1 + exp(b1*(x-x0)))
  S &lt;- score(f, c(b0, b1))
  S
  H &lt;- hessian(f, c(b0, b1))
  H
}

</code></pre>

<hr>
<h2 id='simplify'>Simplify expression</h2><span id='topic+simplify'></span>

<h3>Description</h3>

<p>Simplify expression
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simplify(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simplify_+3A_x">x</code></td>
<td>
<p>A <code>caracas_symbol</code></p>
</td></tr>
</table>

<hr>
<h2 id='solve_lin'>Solve a linear system of equations</h2><span id='topic+solve_lin'></span>

<h3>Description</h3>

<p>Find <code>x</code> in <code>Ax = b</code>. If <code>b</code> not supplied,
the inverse of <code>A</code> is returned.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>solve_lin(A, b)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="solve_lin_+3A_a">A</code></td>
<td>
<p>matrix</p>
</td></tr>
<tr><td><code id="solve_lin_+3A_b">b</code></td>
<td>
<p>vector</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
  A &lt;- matrix_sym(2, 2, "a")
  b &lt;- vector_sym(2, "b")
  # Inverse of A:
  solve_lin(A) %*% A |&gt; simplify()
  # Find x in Ax = b
  x &lt;- solve_lin(A, b)
  A %*% x |&gt; simplify()
}

</code></pre>

<hr>
<h2 id='solve_sys'>Solves a system of non-linear equations</h2><span id='topic+solve_sys'></span>

<h3>Description</h3>

<p>If called as <code>solve_sys(lhs, vars)</code>
the roots are found.
If called as <code>solve_sys(lhs, rhs, vars)</code>
the solutions to <code>lhs = rhs</code> for <code>vars</code> are found.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>solve_sys(lhs, rhs, vars)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="solve_sys_+3A_lhs">lhs</code></td>
<td>
<p>Equation (or equations as row vector/1xn matrix)</p>
</td></tr>
<tr><td><code id="solve_sys_+3A_rhs">rhs</code></td>
<td>
<p>Equation (or equations as row vector/1xn matrix)</p>
</td></tr>
<tr><td><code id="solve_sys_+3A_vars">vars</code></td>
<td>
<p>vector of variable names or symbols</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with solutions (with class <code>caracas_solve_sys_sol</code>
for compact printing), each element containing a named
list of the variables' values.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
  x &lt;- symbol('x')
  exp1 &lt;- 2*x + 2
  exp2 &lt;- x
  solve_sys(cbind(exp1), cbind(exp2), x)
  
  x &lt;- symbol("x")
  y &lt;- symbol("y")
  lhs &lt;- cbind(3*x*y - y, x)
  rhs &lt;- cbind(-5*x, y+4)
  sol &lt;- solve_sys(lhs, rhs, list(x, y))
  sol
}

</code></pre>

<hr>
<h2 id='solve.caracas_symbol'>Solve a System of Linear Equations</h2><span id='topic+solve.caracas_symbol'></span>

<h3>Description</h3>

<p>Solve a System of Linear Equations
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'caracas_symbol'
solve(a, b, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="solve.caracas_symbol_+3A_a">a</code></td>
<td>
<p>caracas_symbol</p>
</td></tr>
<tr><td><code id="solve.caracas_symbol_+3A_b">b</code></td>
<td>
<p>If provided, either a caracas_symbol (if not, <code>as_sym()</code> is called on the object)</p>
</td></tr>
<tr><td><code id="solve.caracas_symbol_+3A_...">...</code></td>
<td>
<p>Not used</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
  A &lt;- matrix_sym(2, 2, "a")
  b &lt;- vector_sym(2, "b")
  # Inverse of A:
  solve(A)
  inv(A)
  solve(A) %*% A |&gt; simplify()
  # Find x in Ax = b
  x &lt;- solve(A, b)
  A %*% x |&gt; simplify()
  solve(A, c(2, 1)) |&gt; simplify()
}

</code></pre>

<hr>
<h2 id='special_matrices'>Special matrices: zeros_sym, ones_sym, eye_sym</h2><span id='topic+special_matrices'></span><span id='topic+zeros_sym'></span><span id='topic+ones_sym'></span><span id='topic+eye_sym'></span>

<h3>Description</h3>

<p>Special matrices: zeros_sym, ones_sym, eye_sym
</p>


<h3>Usage</h3>

<pre><code class='language-R'>zeros_sym(nrow, ncol)

ones_sym(nrow, ncol)

eye_sym(nrow, ncol)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="special_matrices_+3A_nrow">nrow</code>, <code id="special_matrices_+3A_ncol">ncol</code></td>
<td>
<p>Number of rows and columns of output</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+diag_">diag_()</a></code>, <code><a href="#topic+matrix_sym">matrix_sym()</a></code>, <code><a href="#topic+vector_sym">vector_sym()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
if (has_sympy()){
  zeros_sym(3, 4)
  ones_sym(3, 4)
  eye_sym(3, 4)
}

</code></pre>

<hr>
<h2 id='subs'>Substitute symbol for value</h2><span id='topic+subs'></span>

<h3>Description</h3>

<p>Substitute symbol for value
</p>


<h3>Usage</h3>

<pre><code class='language-R'>subs(sym, nms, vls)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="subs_+3A_sym">sym</code></td>
<td>
<p>Expression</p>
</td></tr>
<tr><td><code id="subs_+3A_nms">nms</code></td>
<td>
<p>Names of symbols (see Details)</p>
</td></tr>
<tr><td><code id="subs_+3A_vls">vls</code></td>
<td>
<p>Values that <code>nms</code> is substituted with (see Details)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Two different ways to call this function is supported:
</p>

<ol>
<li><p> Supplying <code>nms</code> as a named list and omitting <code>vls</code>.
If two components have the same name, the behaviour is undefined.
</p>
</li>
<li><p> Supplying both <code>nms</code> and <code>vls</code>
See Examples.
</p>
</li></ol>



<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
   x &lt;- symbol('x')
   e &lt;- 2*x^2
   e
   subs(e, "x", "2")
   subs(e, x, 2)
   subs(e, list(x = 2))
   
   A &lt;- matrix_sym(2, 2, "a")
   B &lt;- matrix_sym(2, 2, "b")
   e &lt;- A %*% A
   subs(e, A, B)
}

</code></pre>

<hr>
<h2 id='sum_'>Sum of a function</h2><span id='topic+sum_'></span>

<h3>Description</h3>

<p>Sum of a function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sum_(f, var, lower, upper, doit = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sum__+3A_f">f</code></td>
<td>
<p>Function to take sum of</p>
</td></tr>
<tr><td><code id="sum__+3A_var">var</code></td>
<td>
<p>Variable to take sum for (either string or <code>caracas_symbol</code>)</p>
</td></tr>
<tr><td><code id="sum__+3A_lower">lower</code></td>
<td>
<p>Lower limit</p>
</td></tr>
<tr><td><code id="sum__+3A_upper">upper</code></td>
<td>
<p>Upper limit</p>
</td></tr>
<tr><td><code id="sum__+3A_doit">doit</code></td>
<td>
<p>Evaluate the sum immediately (or later with <code><a href="#topic+doit">doit()</a></code>)</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
  x &lt;- symbol("x")
  s &lt;- sum_(1/x, "x", 1, 10)
  as_expr(s)
  sum(1/(1:10))
  n &lt;- symbol("n")
  simplify(sum_(x, x, 1, n))
}

</code></pre>

<hr>
<h2 id='sum.caracas_symbol'>Summation</h2><span id='topic+sum.caracas_symbol'></span>

<h3>Description</h3>

<p>Summation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'caracas_symbol'
sum(..., na.rm = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sum.caracas_symbol_+3A_...">...</code></td>
<td>
<p>Elements to sum</p>
</td></tr>
<tr><td><code id="sum.caracas_symbol_+3A_na.rm">na.rm</code></td>
<td>
<p>Not used</p>
</td></tr>
</table>

<hr>
<h2 id='sym_class'>Ask type of caracas symbol</h2><span id='topic+sym_class'></span>

<h3>Description</h3>

<p>Ask type of caracas symbol
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sym_class(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sym_class_+3A_x">x</code></td>
<td>
<p>An object, a caracas object is expected</p>
</td></tr>
</table>

<hr>
<h2 id='sym_inherits'>Ask if type of caracas symbol is of a requested type</h2><span id='topic+sym_inherits'></span>

<h3>Description</h3>

<p>Ask if type of caracas symbol is of a requested type
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sym_inherits(x, what)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sym_inherits_+3A_x">x</code></td>
<td>
<p>An object, a caracas object is expected</p>
</td></tr>
<tr><td><code id="sym_inherits_+3A_what">what</code></td>
<td>
<p>Requested type (e.g. atomic, vector, list, matrix)</p>
</td></tr>
</table>

<hr>
<h2 id='symbol'>Create a symbol</h2><span id='topic+symbol'></span>

<h3>Description</h3>

<p>Find available assumptions at
<a href="https://docs.sympy.org/latest/modules/core.html#module-sympy.core.assumptions">https://docs.sympy.org/latest/modules/core.html#module-sympy.core.assumptions</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>symbol(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="symbol_+3A_x">x</code></td>
<td>
<p>Name to turn into symbol</p>
</td></tr>
<tr><td><code id="symbol_+3A_...">...</code></td>
<td>
<p>Assumptions like <code>positive = TRUE</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>caracas_symbol</code>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+as_sym">as_sym()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
  x &lt;- symbol("x")
  2*x
  
  x &lt;- symbol("x", positive = TRUE)
  ask(x, "positive")
}

</code></pre>

<hr>
<h2 id='symbol_class'>Ask type of caracas symbol</h2><span id='topic+symbol_class'></span>

<h3>Description</h3>

<p>Ask type of caracas symbol
</p>


<h3>Usage</h3>

<pre><code class='language-R'>symbol_class(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="symbol_class_+3A_x">x</code></td>
<td>
<p>An object, a caracas object is expected</p>
</td></tr>
</table>

<hr>
<h2 id='symbol_is_matrix'>Check if object is a caracas matrix</h2><span id='topic+symbol_is_matrix'></span>

<h3>Description</h3>

<p>Check if object is a caracas matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>symbol_is_matrix(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="symbol_is_matrix_+3A_x">x</code></td>
<td>
<p>An object</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>
if (has_sympy() &amp;&amp; sympy_version() &gt;= "1.6") {
  x &lt;- vector_sym(4)
  symbol_is_matrix(x)   ## TRUE
  x2 &lt;- as.character(x) ## "Matrix([[v1], [v2], [v3], [v4]])"
  symbol_is_matrix(x2)  ## TRUE
  x3 &lt;- as_character_matrix(x) ## R matrix
  symbol_is_matrix(x3)  ## FALSE 
}

</code></pre>

<hr>
<h2 id='sympy_func'>Call a SymPy function directly on x</h2><span id='topic+sympy_func'></span>

<h3>Description</h3>

<p>Extend caracas by calling SymPy functions directly.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sympy_func(x, fun, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sympy_func_+3A_x">x</code></td>
<td>
<p>Object to call <code>fun</code> on</p>
</td></tr>
<tr><td><code id="sympy_func_+3A_fun">fun</code></td>
<td>
<p>Function to call</p>
</td></tr>
<tr><td><code id="sympy_func_+3A_...">...</code></td>
<td>
<p>Passed on to <code>fun</code></p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
  def_sym(x, a)
  p &lt;- (x-a)^4
  p
  q &lt;- p %&gt;% sympy_func("expand")
  q
  q %&gt;% sympy_func("factor")
  
  def_sym(x, y, z)
  expr &lt;- x*y + x - 3 + 2*x^2 - z*x^2 + x^3
  expr
  expr %&gt;% sympy_func("collect", x) 
  
  x &lt;- symbol("x")
  y &lt;- gamma(x+3)
  sympy_func(y, "expand_func")
  expand_func(y)
}
 
</code></pre>

<hr>
<h2 id='sympy_version'>Get 'SymPy' version</h2><span id='topic+sympy_version'></span>

<h3>Description</h3>

<p>Get 'SymPy' version
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sympy_version()
</code></pre>


<h3>Value</h3>

<p>The version of the 'SymPy' available
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
  sympy_version()
}

</code></pre>

<hr>
<h2 id='t.caracas_symbol'>Transpose of matrix</h2><span id='topic+t.caracas_symbol'></span>

<h3>Description</h3>

<p>Transpose of matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'caracas_symbol'
t(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="t.caracas_symbol_+3A_x">x</code></td>
<td>
<p>If <code>caracas_symbol</code> treat as such, else
call <code><a href="base.html#topic+t">base::t()</a></code>.</p>
</td></tr>
</table>

<hr>
<h2 id='taylor'>Taylor expansion</h2><span id='topic+taylor'></span>

<h3>Description</h3>

<p>Taylor expansion
</p>


<h3>Usage</h3>

<pre><code class='language-R'>taylor(f, x0 = 0, n = 6)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="taylor_+3A_f">f</code></td>
<td>
<p>Function to be expanded</p>
</td></tr>
<tr><td><code id="taylor_+3A_x0">x0</code></td>
<td>
<p>Point to expand around</p>
</td></tr>
<tr><td><code id="taylor_+3A_n">n</code></td>
<td>
<p>Order of remainder term</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+drop_remainder">drop_remainder()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
  def_sym(x)
  f &lt;- cos(x)
  ft_with_O &lt;- taylor(f, x0 = 0, n = 4+1)
  ft_with_O
  ft_with_O %&gt;% drop_remainder() %&gt;% as_expr()
}

</code></pre>

<hr>
<h2 id='tex'>Export object to TeX</h2><span id='topic+tex'></span>

<h3>Description</h3>

<p>Export object to TeX
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tex(x, zero_as_dot = FALSE, matstr = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tex_+3A_x">x</code></td>
<td>
<p>A <code>caracas_symbol</code></p>
</td></tr>
<tr><td><code id="tex_+3A_zero_as_dot">zero_as_dot</code></td>
<td>
<p>Print zero as dots</p>
</td></tr>
<tr><td><code id="tex_+3A_matstr">matstr</code></td>
<td>
<p>Replace <code style="white-space: pre;">&#8288;\begin{matrix}&#8288;</code> with another environment, e.g. <code>pmatrix</code>.
If vector of length two, the second element is an optional argument.</p>
</td></tr>
<tr><td><code id="tex_+3A_...">...</code></td>
<td>
<p>Other arguments passed along</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
S &lt;- matrix_sym_symmetric(3, "s")
S[1, 2] &lt;- "1-x"
S
tex(S)
tex(S, matstr = "pmatrix")
tex(S, matstr = c("pmatrix", "r"))
}

</code></pre>

<hr>
<h2 id='tex.caracas_scaled_matrix'>Export scaled matrix to tex</h2><span id='topic+tex.caracas_scaled_matrix'></span>

<h3>Description</h3>

<p>Export scaled matrix to tex
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'caracas_scaled_matrix'
tex(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tex.caracas_scaled_matrix_+3A_x">x</code></td>
<td>
<p>scaled matrix</p>
</td></tr>
<tr><td><code id="tex.caracas_scaled_matrix_+3A_...">...</code></td>
<td>
<p>Other arguments passed along</p>
</td></tr>
</table>

<hr>
<h2 id='texshow'>Dump latex representation of sympy object.</h2><span id='topic+texshow'></span>

<h3>Description</h3>

<p>Dump latex representation of sympy object and compile document into pdf.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>texshow(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="texshow_+3A_x">x</code></td>
<td>
<p>An object that can be put in latex format with caracas' tex()
function or a character string with tex code (in math mode).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Nothing, but a .tex file and a .pdf file is generated.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
S &lt;- matrix_sym_symmetric(3, "s")
S
## Not run: 
texshow(S)
texshow(paste0("S = ", tex(S)))

## End(Not run)
}

</code></pre>

<hr>
<h2 id='to_something'>Coerce caracas object</h2><span id='topic+to_something'></span><span id='topic+to_list'></span><span id='topic+to_vector'></span><span id='topic+to_matrix'></span>

<h3>Description</h3>

<p>Coerce caracas object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>to_list(x)

to_vector(x)

to_matrix(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="to_something_+3A_x">x</code></td>
<td>
<p>a caracas object is expected</p>
</td></tr>
</table>

<hr>
<h2 id='tuplify'>Convert object to tuple</h2><span id='topic+tuplify'></span>

<h3>Description</h3>

<p>Convert object to tuple
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tuplify(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tuplify_+3A_x">x</code></td>
<td>
<p>Object</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
  x &lt;- as_sym("Matrix([[b1*x1/(b2 + x1)], [b1*x2/(b2 + x2)], [b1*x3/(b2 + x3)]])")
  tuplify(x)
}

</code></pre>

<hr>
<h2 id='unbracket'>Remove inner-most dimension</h2><span id='topic+unbracket'></span>

<h3>Description</h3>

<p>Remove inner-most dimension
</p>


<h3>Usage</h3>

<pre><code class='language-R'>unbracket(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="unbracket_+3A_x">x</code></td>
<td>
<p>Array symbol to collapse dimension from</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
  x &lt;- as_sym(paste0("x", 1:3))
  y &lt;- as_sym("y")
  l &lt;- list(x, y)
  l
  unbracket(l)
}

</code></pre>

<hr>
<h2 id='unscale_matrix'>Extract matrix from scaled matrix</h2><span id='topic+unscale_matrix'></span>

<h3>Description</h3>

<p>Extract matrix from scaled matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>unscale_matrix(X)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="unscale_matrix_+3A_x">X</code></td>
<td>
<p>scaled matrix created with <code><a href="#topic+scale_matrix">scale_matrix()</a></code></p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_sympy()) {
  V &lt;- matrix_sym(2, 2, "v")
  a &lt;- symbol("a")
  Ks &lt;- scale_matrix(V, a, divide = FALSE)
  Ks
  unscale_matrix(Ks)
  V %*% a
}

</code></pre>

<hr>
<h2 id='vectorfy'>Creates symbol vector from list of caracas symbols</h2><span id='topic+vectorfy'></span>

<h3>Description</h3>

<p>Creates symbol vector from list of caracas symbols
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vectorfy(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vectorfy_+3A_x">x</code></td>
<td>
<p>Symbol to be coerced to vector</p>
</td></tr>
</table>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

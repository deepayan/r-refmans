<!DOCTYPE html><html><head><title>Help for package utils</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {utils}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#utils-package'>
<p>The R Utils Package</p></a></li>
<li><a href='#adist'><p>Approximate String Distances</p></a></li>
<li><a href='#alarm'><p>Alert the User</p></a></li>
<li><a href='#apropos'><p>Find Objects by (Partial) Name</p></a></li>
<li><a href='#aregexec'><p>Approximate String Match Positions</p></a></li>
<li><a href='#arrangeWindows'><p>Rearrange Windows on MS Windows</p></a></li>
<li><a href='#askYesNo'>
<p>Ask a Yes/No Question</p></a></li>
<li><a href='#aspell'><p>Spell Check Interface</p></a></li>
<li><a href='#aspell-utils'><p>Spell Check Utilities</p></a></li>
<li><a href='#available.packages'><p>List Available Packages at <abbr>CRAN</abbr>-like Repositories</p></a></li>
<li><a href='#BATCH'><p>Batch Execution of R</p></a></li>
<li><a href='#bibentry'><p>Bibliography Entries</p></a></li>
<li><a href='#browseEnv'><p>Browse Objects in Environment</p></a></li>
<li><a href='#browseURL'><p>Load URL into an HTML Browser</p></a></li>
<li><a href='#browseVignettes'><p>List Vignettes in an HTML Browser</p></a></li>
<li><a href='#bug.report'><p>Send a Bug Report</p></a></li>
<li><a href='#capture.output'><p>Send Output to a Character String or File</p></a></li>
<li><a href='#changedFiles'><p>Detect which Files Have Changed</p></a></li>
<li><a href='#charClass'><p>Character Classification</p></a></li>
<li><a href='#choose.dir'><p>Choose a Folder Interactively on MS Windows</p></a></li>
<li><a href='#choose.files'><p>Choose a List of Files Interactively on MS Windows</p></a></li>
<li><a href='#chooseBioCmirror'><p>Select a Bioconductor Mirror</p></a></li>
<li><a href='#chooseCRANmirror'><p>Select a CRAN Mirror</p></a></li>
<li><a href='#citation'><p>Citing R and R Packages in Publications</p></a></li>
<li><a href='#cite'><p>Cite a Bibliography Entry</p></a></li>
<li><a href='#citEntry'><p>Bibliography Entries (Older Interface)</p></a></li>
<li><a href='#clipboard'><p>Read/Write to/from the Clipboard in MS Windows</p></a></li>
<li><a href='#close.socket'><p>Close a Socket</p></a></li>
<li><a href='#combn'><p>Generate All Combinations of n Elements, Taken m at a Time</p></a></li>
<li><a href='#compareVersion'><p>Compare Two Package Version Numbers</p></a></li>
<li><a href='#COMPILE'><p>Compile Files for Use with R on Unix-alikes</p></a></li>
<li><a href='#contrib.url'><p>Find Appropriate Paths in CRAN-like Repositories</p></a></li>
<li><a href='#count.fields'><p>Count the Number of Fields per Line</p></a></li>
<li><a href='#create.post'>
<p>Ancillary Function for Preparing Emails and Postings</p></a></li>
<li><a href='#data'><p>Data Sets</p></a></li>
<li><a href='#dataentry'><p>Spreadsheet Interface for Entering Data</p></a></li>
<li><a href='#debugcall'><p>Debug a Call</p></a></li>
<li><a href='#debugger'><p>Post-Mortem Debugging</p></a></li>
<li><a href='#demo'><p>Demonstrations of R Functionality</p></a></li>
<li><a href='#DLL.version'><p>DLL Version Information on MS Windows</p></a></li>
<li><a href='#download.file'><p>Download File from the Internet</p></a></li>
<li><a href='#download.packages'><p>Download Packages from CRAN-like Repositories</p></a></li>
<li><a href='#edit'><p>Invoke a Text Editor</p></a></li>
<li><a href='#edit.data.frame'><p>Edit Data Frames and Matrices</p></a></li>
<li><a href='#example'><p>Run an Examples Section from the Online Help</p></a></li>
<li><a href='#file_test'>
<p>Shell-style Tests on Files</p></a></li>
<li><a href='#file.edit'><p>Edit One or More Files</p></a></li>
<li><a href='#findCRANmirror'><p>Find CRAN Mirror Preference</p></a></li>
<li><a href='#findLineNum'>
<p>Find the Location of a Line of Source Code, or Set a Breakpoint There</p></a></li>
<li><a href='#fix'><p>Fix an Object</p></a></li>
<li><a href='#flush.console'><p>Flush Output to a Console</p></a></li>
<li><a href='#format'><p>Format Unordered and Ordered Lists</p></a></li>
<li><a href='#getAnywhere'><p>Retrieve an R Object, Including from a Namespace</p></a></li>
<li><a href='#getFromNamespace'><p>Utility Functions for Developing Namespaces</p></a></li>
<li><a href='#getParseData'><p>Get Detailed Parse Information from Object</p></a></li>
<li><a href='#getS3method'><p>Get an S3 Method</p></a></li>
<li><a href='#getWindowsHandle'><p>Get a Windows Handle</p></a></li>
<li><a href='#getWindowsHandles'><p>Get handles of Windows in the MS Windows RGui</p></a></li>
<li><a href='#glob2rx'><p>Change Wildcard or Globbing Pattern into Regular Expression</p></a></li>
<li><a href='#globalVariables'>
<p>Declarations Used in Checking a Package</p></a></li>
<li><a href='#hashtab'><p>Hash Tables (Experimental)</p></a></li>
<li><a href='#hasName'><p>Check for Name</p></a></li>
<li><a href='#head'><p>Return the First or Last Parts of an Object</p></a></li>
<li><a href='#help'><p>Documentation</p></a></li>
<li><a href='#help.request'><p>Send a Post to R-help</p></a></li>
<li><a href='#help.search'><p>Search the Help System</p></a></li>
<li><a href='#help.start'><p>Hypertext Documentation</p></a></li>
<li><a href='#hsearch-utils'><p>Help Search Utilities</p></a></li>
<li><a href='#INSTALL'><p>Install Add-on Packages</p></a></li>
<li><a href='#install.packages'><p>Install Packages from Repositories or Local Files</p></a></li>
<li><a href='#installed.packages'><p>Find Installed Packages</p></a></li>
<li><a href='#isS3method'><p>Is 'method' the Name of an S3 Method?</p></a></li>
<li><a href='#isS3stdGeneric'><p>Check if a Function Acts as an S3 Generic</p></a></li>
<li><a href='#LINK'><p>Create Executable Programs on Unix-alikes</p></a></li>
<li><a href='#localeToCharset'>
<p>Select a Suitable Encoding Name from a Locale Name</p></a></li>
<li><a href='#ls.str'><p>List Objects and their Structure</p></a></li>
<li><a href='#maintainer'>
<p>Show Package Maintainer</p></a></li>
<li><a href='#make.packages.html'><p>Update HTML Package List</p></a></li>
<li><a href='#make.socket'><p>Create a Socket Connection</p></a></li>
<li><a href='#memory.size'><p>Report on Memory Allocation (no longer supported)</p></a></li>
<li><a href='#menu'><p>Menu Interaction Function</p></a></li>
<li><a href='#methods'><p>List Methods for S3 Generic Functions or Classes</p></a></li>
<li><a href='#mirrorAdmin'><p>Managing Repository Mirrors</p></a></li>
<li><a href='#modifyList'><p>Recursively Modify Elements of a List</p></a></li>
<li><a href='#news'><p>Build and Query R or Package News Information</p></a></li>
<li><a href='#nsl'><p>Look up the IP Address by Hostname (on Unix-alikes)</p></a></li>
<li><a href='#object.size'><p>Report the Space Allocated for an Object</p></a></li>
<li><a href='#package.skeleton'><p>Create a Skeleton for a New Source Package</p></a></li>
<li><a href='#packageDescription'><p>Package Description</p></a></li>
<li><a href='#packageName'><p>Find Package Associated with an Environment</p></a></li>
<li><a href='#packageStatus'><p>Package Management Tools</p></a></li>
<li><a href='#page'><p>Invoke a Pager on an R Object</p></a></li>
<li><a href='#person'><p>Persons</p></a></li>
<li><a href='#personList'><p>Collections of Persons (Older Interface)</p></a></li>
<li><a href='#PkgUtils'><p>Utilities for Building and Checking Add-on Packages</p></a></li>
<li><a href='#process.events'><p>Trigger Event Handling</p></a></li>
<li><a href='#prompt'><p>Produce Prototype of an R Documentation File</p></a></li>
<li><a href='#promptData'><p>Generate Outline Documentation for a Data Set</p></a></li>
<li><a href='#promptPackage'><p>Generate a Shell for Documentation of a Package</p></a></li>
<li><a href='#Question'><p>Documentation Shortcuts</p></a></li>
<li><a href='#rcompgen'><p>A Completion Generator for R</p></a></li>
<li><a href='#read.DIF'><p>Data Input from Spreadsheet</p></a></li>
<li><a href='#read.fortran'><p>Read Fixed-Format Data in a Fortran-like Style</p></a></li>
<li><a href='#read.fwf'><p>Read Fixed Width Format Files</p></a></li>
<li><a href='#read.socket'><p> Read from or Write to a Socket</p></a></li>
<li><a href='#read.table'><p>Data Input</p></a></li>
<li><a href='#readRegistry'><p>Read a Windows Registry Hive</p></a></li>
<li><a href='#recover'><p>Browsing after an Error</p></a></li>
<li><a href='#relist'><p>Allow Re-Listing an unlist()ed Object</p></a></li>
<li><a href='#REMOVE'><p>Remove Add-on Packages</p></a></li>
<li><a href='#remove.packages'><p>Remove Installed Packages</p></a></li>
<li><a href='#removeSource'><p>Remove Stored Source from a Function or Language Object</p></a></li>
<li><a href='#RHOME'><p>R Home Directory</p></a></li>
<li><a href='#roman'><p>Roman Numerals</p></a></li>
<li><a href='#Rprof'><p>Enable Profiling of R's Execution</p></a></li>
<li><a href='#Rprofmem'><p>Enable Profiling of R's Memory Use</p></a></li>
<li><a href='#Rscript'><p>Scripting Front-End for R</p></a></li>
<li><a href='#RShowDoc'><p>Show R Manuals and Other Documentation</p></a></li>
<li><a href='#RSiteSearch'>
<p>Search for Key Words or Phrases in Documentation</p></a></li>
<li><a href='#rtags'><p> An Etags-like Tagging Utility for R</p></a></li>
<li><a href='#Rtangle'><p>R Driver for <code>Stangle</code></p></a></li>
<li><a href='#RweaveLatex'><p>R/LaTeX Driver for Sweave</p></a></li>
<li><a href='#Rwin configuration'><p>R for Windows Configuration</p></a></li>
<li><a href='#savehistory'><p>Load or Save or Display the Commands History</p></a></li>
<li><a href='#select.list'><p>Select Items from a List</p></a></li>
<li><a href='#sessionInfo'><p>Collect Information About the Current R Session</p></a></li>
<li><a href='#setRepositories'><p>Select Package Repositories</p></a></li>
<li><a href='#setWindowTitle'><p>Set the Window Title or the Status Bar of the RGui in Windows</p></a></li>
<li><a href='#SHLIB'><p>Build Shared Object/DLL for Dynamic Loading</p></a></li>
<li><a href='#shortPathName'><p>Express File Paths in Short Form on Windows</p></a></li>
<li><a href='#sourceutils'>
<p>Source Reference Utilities</p></a></li>
<li><a href='#stack'><p>Stack or Unstack Vectors from a Data Frame or List</p></a></li>
<li><a href='#str'><p>Compactly Display the Structure of an Arbitrary R Object</p></a></li>
<li><a href='#strcapture'><p>Capture String Tokens into a data.frame</p></a></li>
<li><a href='#summaryRprof'><p>Summarise Output of R Sampling Profiler</p></a></li>
<li><a href='#Sweave'><p>Automatic Generation of Reports</p></a></li>
<li><a href='#SweaveSyntConv'><p>Convert Sweave Syntax</p></a></li>
<li><a href='#SweaveUtils'><p>Sweave Driver Utilities</p></a></li>
<li><a href='#tar'>
<p>Create a Tar Archive</p></a></li>
<li><a href='#toLatex'><p>Converting R Objects to BibTeX or LaTeX</p></a></li>
<li><a href='#txtProgressBar'><p>Text Progress Bar</p></a></li>
<li><a href='#type.convert'><p>Convert Data to Appropriate Type</p></a></li>
<li><a href='#untar'>
<p>Extract or List Tar Archives</p></a></li>
<li><a href='#unzip'>
<p>Extract or List Zip Archives</p></a></li>
<li><a href='#update.packages'><p>Compare Installed Packages with CRAN-like Repositories</p></a></li>
<li><a href='#upgrade'><p>Upgrade</p></a></li>
<li><a href='#url.show'><p>Display a Text URL</p></a></li>
<li><a href='#URLencode'><p>Encode or Decode (partial) URLs</p></a></li>
<li><a href='#utils-defunct'><p>Defunct Functions in Package <span class="pkg">utils</span></p></a></li>
<li><a href='#utils-deprecated'><p>Deprecated Functions in Package <span class="pkg">utils</span></p></a></li>
<li><a href='#utils-internal'><p>Internal utils Functions</p></a></li>
<li><a href='#View'><p>Invoke a Data Viewer</p></a></li>
<li><a href='#vignette'><p>View, List or Get R Source of Package Vignettes</p></a></li>
<li><a href='#warnErrList'><p>Collect and Summarize Errors From List</p></a></li>
<li><a href='#winDialog'><p>Dialog Boxes under Windows</p></a></li>
<li><a href='#winextras'><p>Get Windows Version</p></a></li>
<li><a href='#winMenus'><p>User Menus under MS Windows (RGui)</p></a></li>
<li><a href='#winProgressBar'><p>Progress Bars under MS Windows</p></a></li>
<li><a href='#write.table'><p>Data Output</p></a></li>
<li><a href='#zip'><p>Create Zip Archives</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Version:</td>
<td>4.5.0</td>
</tr>
<tr>
<td>Priority:</td>
<td>base</td>
</tr>
<tr>
<td>Title:</td>
<td>The R Utils Package</td>
</tr>
<tr>
<td>Author:</td>
<td>R Core Team and contributors worldwide</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>R Core Team &lt;do-use-Contact-address@r-project.org&gt;</td>
</tr>
<tr>
<td>Contact:</td>
<td>R-help mailing list &lt;r-help@r-project.org&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>R utility functions.</td>
</tr>
<tr>
<td>License:</td>
<td>Part of R 4.5.0</td>
</tr>
<tr>
<td>Suggests:</td>
<td>methods, xml2, commonmark, knitr, jsonlite</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Built:</td>
<td>R 4.5.0; x86_64-pc-linux-gnu; 2024-04-10 07:53:17 UTC; unix</td>
</tr>
</table>
<hr>
<h2 id='utils-package'>
The R Utils Package
</h2><span id='topic+utils-package'></span><span id='topic+utils'></span>

<h3>Description</h3>

<p>R utility functions
</p>


<h3>Details</h3>

<p>This package contains a collection of utility functions.
</p>
<p>For a complete
list, use <code>library(help = "utils")</code>.
</p>


<h3>Author(s)</h3>

<p>R Core Team and contributors worldwide
</p>
<p>Maintainer: R Core Team <a href="mailto:R-core@r-project.org">R-core@r-project.org</a>
</p>

<hr>
<h2 id='adist'>Approximate String Distances</h2><span id='topic+adist'></span>

<h3>Description</h3>

<p>Compute the approximate string distance between character vectors.
The distance is a generalized Levenshtein (edit) distance, giving the
minimal possibly weighted number of insertions, deletions and
substitutions needed to transform one string into another.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>adist(x, y = NULL, costs = NULL, counts = FALSE, fixed = TRUE,
      partial = !fixed, ignore.case = FALSE, useBytes = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="adist_+3A_x">x</code></td>
<td>
<p>a character vector.  <a href="base.html#topic+Long+20vectors">Long vectors</a> are not supported.</p>
</td></tr>
<tr><td><code id="adist_+3A_y">y</code></td>
<td>
<p>a character vector, or <code>NULL</code> (default) indicating
taking <code>x</code> as <code>y</code>.</p>
</td></tr>
<tr><td><code id="adist_+3A_costs">costs</code></td>
<td>
<p>a numeric vector or list with names partially matching
&lsquo;<span class="samp">&#8288;insertions&#8288;</span>&rsquo;, &lsquo;<span class="samp">&#8288;deletions&#8288;</span>&rsquo; and &lsquo;<span class="samp">&#8288;substitutions&#8288;</span>&rsquo; giving
the respective costs for computing the Levenshtein distance, or
<code>NULL</code> (default) indicating using unit cost for all three
possible transformations.</p>
</td></tr>
<tr><td><code id="adist_+3A_counts">counts</code></td>
<td>
<p>a logical indicating whether to optionally return the
transformation counts (numbers of insertions, deletions and
substitutions) as the <code>"counts"</code> attribute of the return
value.</p>
</td></tr>
<tr><td><code id="adist_+3A_fixed">fixed</code></td>
<td>
<p>a logical.  If <code>TRUE</code> (default), the <code>x</code>
elements are used as string literals.  Otherwise, they are taken as
regular expressions and <code>partial = TRUE</code> is implied
(corresponding to the approximate string distance used by
<code><a href="base.html#topic+agrep">agrep</a></code> with <code>fixed = FALSE</code>).</p>
</td></tr>
<tr><td><code id="adist_+3A_partial">partial</code></td>
<td>
<p>a logical indicating whether the transformed <code>x</code>
elements must exactly match the complete <code>y</code> elements, or only
substrings of these.  The latter corresponds to the approximate
string distance used by <code><a href="base.html#topic+agrep">agrep</a></code> (by default).</p>
</td></tr>
<tr><td><code id="adist_+3A_ignore.case">ignore.case</code></td>
<td>
<p>a logical.  If <code>TRUE</code>, case is ignored for
computing the distances.</p>
</td></tr>
<tr><td><code id="adist_+3A_usebytes">useBytes</code></td>
<td>
<p>a logical.  If <code>TRUE</code> distance computations are
done byte-by-byte rather than character-by-character.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The (generalized) Levenshtein (or edit) distance between two strings
<var>s</var> and <var>t</var> is the minimal possibly weighted number of
insertions, deletions and substitutions needed to transform <var>s</var>
into <var>t</var> (so that the transformation exactly matches <var>t</var>).
This distance is computed for <code>partial = FALSE</code>, currently using
a dynamic programming algorithm (see, e.g.,
<a href="https://en.wikipedia.org/wiki/Levenshtein_distance">https://en.wikipedia.org/wiki/Levenshtein_distance</a>) with space
and time complexity <code class="reqn">O(mn)</code>, where <code class="reqn">m</code> and <code class="reqn">n</code> are the
lengths of <var>s</var> and <var>t</var>, respectively.  Additionally computing
the transformation sequence and counts is <code class="reqn">O(\max(m, n))</code>.
</p>
<p>The generalized Levenshtein distance can also be used for approximate
(fuzzy) string matching, in which case one finds the substring of
<var>t</var> with minimal distance to the pattern <var>s</var> (which could be
taken as a regular expression, in which case the principle of using
the leftmost and longest match applies), see, e.g.,
<a href="https://en.wikipedia.org/wiki/Approximate_string_matching">https://en.wikipedia.org/wiki/Approximate_string_matching</a>.  This
distance is computed for <code>partial = TRUE</code> using &lsquo;<span class="samp">&#8288;tre&#8288;</span>&rsquo; by
Ville Laurikari (<a href="https://github.com/laurikari/tre">https://github.com/laurikari/tre</a>) and
corresponds to the distance used by <code><a href="base.html#topic+agrep">agrep</a></code>.  In this
case, the given cost values are coerced to integer.
</p>
<p>Note that the costs for insertions and deletions can be different, in
which case the distance between <var>s</var> and <var>t</var> can be different
from the distance between <var>t</var> and <var>s</var>.
</p>


<h3>Value</h3>

<p>A matrix with the approximate string distances of the elements of
<code>x</code> and <code>y</code>, with rows and columns corresponding to <code>x</code>
and <code>y</code>, respectively.
</p>
<p>If <code>counts</code> is <code>TRUE</code>, the transformation counts are
returned as the <code>"counts"</code> attribute of this matrix, as a
3-dimensional array with dimensions corresponding to the elements of
<code>x</code>, the elements of <code>y</code>, and the type of transformation
(insertions, deletions and substitutions), respectively.
Additionally, if <code>partial = FALSE</code>, the transformation sequences
are returned as the <code>"trafos"</code> attribute of the return value, as
character strings with elements &lsquo;<span class="samp">&#8288;M&#8288;</span>&rsquo;, &lsquo;<span class="samp">&#8288;I&#8288;</span>&rsquo;, &lsquo;<span class="samp">&#8288;D&#8288;</span>&rsquo; and
&lsquo;<span class="samp">&#8288;S&#8288;</span>&rsquo; indicating a match, insertion, deletion and substitution,
respectively.  If <code>partial = TRUE</code>, the offsets (positions of
the first and last element) of the matched substrings are returned as
the <code>"offsets"</code> attribute of the return value (with both offsets
<code class="reqn">-1</code> in case of no match).
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+agrep">agrep</a></code> for approximate string matching (fuzzy matching)
using the generalized Levenshtein distance.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Cf. https://en.wikipedia.org/wiki/Levenshtein_distance
adist("kitten", "sitting")
## To see the transformation counts for the Levenshtein distance:
drop(attr(adist("kitten", "sitting", counts = TRUE), "counts"))
## To see the transformation sequences:
attr(adist(c("kitten", "sitting"), counts = TRUE), "trafos")

## Cf. the examples for agrep:
adist("lasy", "1 lazy 2")
## For a "partial approximate match" (as used for agrep):
adist("lasy", "1 lazy 2", partial = TRUE)
</code></pre>

<hr>
<h2 id='alarm'>Alert the User</h2><span id='topic+alarm'></span>

<h3>Description</h3>

<p>Gives an audible or visual signal to the user.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>alarm()
</code></pre>


<h3>Details</h3>

<p><code>alarm()</code> works by sending a <code>"\a"</code> character to the console.
On most platforms this will ring a bell, beep, or give some other signal
to the user (unless standard output has been redirected).
</p>
<p>It attempts to flush the console (see <code><a href="#topic+flush.console">flush.console</a></code>).
</p>


<h3>Value</h3>

<p>No useful value is returned.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>alarm()
</code></pre>

<hr>
<h2 id='apropos'>Find Objects by (Partial) Name</h2><span id='topic+apropos'></span><span id='topic+find'></span>

<h3>Description</h3>

<p><code>apropos()</code> returns a character vector giving the names of
objects in the search list matching (as a regular expression)
<code>what</code>.
</p>
<p><code>find()</code> returns where objects of a given name can be found.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>apropos(what, where = FALSE, ignore.case = TRUE,
        dot_internals = FALSE, mode = "any")

find(what, mode = "any", numeric = FALSE, simple.words = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="apropos_+3A_what">what</code></td>
<td>
<p>character string.  For <code>simple.words = FALSE</code>
the name of an object; otherwise
a <a href="base.html#topic+regular+20expression">regular expression</a> to match object names against.</p>
</td></tr>
<tr><td><code id="apropos_+3A_where">where</code>, <code id="apropos_+3A_numeric">numeric</code></td>
<td>
<p>a logical indicating whether positions in the
search list should also be returned</p>
</td></tr>
<tr><td><code id="apropos_+3A_ignore.case">ignore.case</code></td>
<td>
<p>logical indicating if the search should be
case-insensitive, <code>TRUE</code> by default.</p>
</td></tr>
<tr><td><code id="apropos_+3A_dot_internals">dot_internals</code></td>
<td>
<p>logical indicating if the search result should show
<span class="pkg">base</span> internal objects, <code>FALSE</code> by default.</p>
</td></tr>
<tr><td><code id="apropos_+3A_mode">mode</code></td>
<td>
<p>character; if not <code>"any"</code>, only objects whose
<code><a href="base.html#topic+mode">mode</a></code> equals <code>mode</code> are searched.</p>
</td></tr>
<tr><td><code id="apropos_+3A_simple.words">simple.words</code></td>
<td>
<p>logical; if <code>TRUE</code>, the <code>what</code> argument is
only searched as a whole word.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>mode != "any"</code> only those objects which are of mode <code>mode</code>
are considered.
</p>
<p><code>find</code> is a different user interface for a similar task to
<code>apropos</code>. By default (<code>simple.words == TRUE</code>),
only whole names are matched. Unlike <code>apropos</code>, matching is
always case-sensitive.
</p>
<p>Unlike the default behaviour of <code><a href="base.html#topic+ls">ls</a></code>, names which
begin with a &lsquo;<span class="samp">&#8288;.&#8288;</span>&rsquo; are included, but base &lsquo;internal&rsquo; objects
are included only when <code>dot_internals</code> is true.
</p>


<h3>Value</h3>

<p>For <code>apropos</code>, a character vector sorted by name.  For
<code>where = TRUE</code> this has names giving the (numerical) positions on
the search path.
</p>
<p>For <code>find</code>, either a character vector of environment names or
(for <code>numeric = TRUE</code>) a numerical vector of positions on the
search path with names the names of the corresponding environments.
</p>


<h3>Author(s)</h3>

<p>Originally, Kurt Hornik and Martin Maechler (May 1997).</p>


<h3>See Also</h3>

<p><code><a href="#topic+glob2rx">glob2rx</a></code> to convert wildcard patterns to regular expressions.
</p>
<p><code><a href="base.html#topic+objects">objects</a></code> for listing objects from one place,
<code><a href="#topic+help.search">help.search</a></code> for searching the help system,
<code><a href="base.html#topic+search">search</a></code> for the search path.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>require(stats)

## Not run: apropos("lm")
apropos("GLM")                      # several
apropos("GLM", ignore.case = FALSE) # not one
apropos("lq")

cor &lt;- 1:pi
find("cor")                         #&gt; ".GlobalEnv"   "package:stats"
find("cor", numeric = TRUE)                     # numbers with these names
find("cor", numeric = TRUE, mode = "function")  # only the second one
rm(cor)

## Not run: apropos(".", mode = "list")  # includes many datasets

# extraction/replacement methods (need a DOUBLE backslash '\\')
apropos("\\[")

# everything % not diff-able
length(apropos("."))

# those starting with 'pr'
apropos("^pr")

# the 1-letter things
apropos("^.$")
# the 1-2-letter things
apropos("^..?$")
# the 2-to-4 letter things
apropos("^.{2,4}$")
# frequencies of 8-and-more letter things
table(nchar(apropos("^.{8,}$")))
</code></pre>

<hr>
<h2 id='aregexec'>Approximate String Match Positions</h2><span id='topic+aregexec'></span>

<h3>Description</h3>

<p>Determine positions of approximate string matches.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aregexec(pattern, text, max.distance = 0.1, costs = NULL,
         ignore.case = FALSE, fixed = FALSE, useBytes = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="aregexec_+3A_pattern">pattern</code></td>
<td>
<p>a non-empty character string or a character string
containing a regular expression (for <code>fixed = FALSE</code>) to be
matched.
Coerced by <code><a href="base.html#topic+as.character">as.character</a></code> to a string if possible.</p>
</td></tr>
<tr><td><code id="aregexec_+3A_text">text</code></td>
<td>
<p>character vector where matches are sought.
Coerced by <code><a href="base.html#topic+as.character">as.character</a></code> to a character vector if
possible.</p>
</td></tr>
<tr><td><code id="aregexec_+3A_max.distance">max.distance</code></td>
<td>
<p>maximum distance allowed for a match.
See <code><a href="base.html#topic+agrep">agrep</a></code>.</p>
</td></tr>
<tr><td><code id="aregexec_+3A_costs">costs</code></td>
<td>
<p>cost of transformations.
See <code><a href="base.html#topic+agrep">agrep</a></code>.</p>
</td></tr>
<tr><td><code id="aregexec_+3A_ignore.case">ignore.case</code></td>
<td>
<p>a logical.  If <code>TRUE</code>, case is ignored for
computing the distances.</p>
</td></tr>
<tr><td><code id="aregexec_+3A_fixed">fixed</code></td>
<td>
<p>If <code>TRUE</code>, the pattern is matched literally (as is).
Otherwise (default), it is matched as a regular expression.</p>
</td></tr>
<tr><td><code id="aregexec_+3A_usebytes">useBytes</code></td>
<td>
<p>a logical.  If <code>TRUE</code> comparisons are
byte-by-byte rather than character-by-character.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>aregexec</code> provides a different interface to approximate string
matching than <code><a href="base.html#topic+agrep">agrep</a></code> (along the lines of the interfaces
to exact string matching provided by <code><a href="base.html#topic+regexec">regexec</a></code> and
<code><a href="base.html#topic+grep">grep</a></code>).
</p>
<p>Note that by default, <code><a href="base.html#topic+agrep">agrep</a></code> performs literal matches,
whereas <code>aregexec</code> performs regular expression matches.
</p>
<p>See <code><a href="base.html#topic+agrep">agrep</a></code> and <code><a href="#topic+adist">adist</a></code> for more information
about approximate string matching and distances.
</p>
<p>Comparisons are byte-by-byte if <code>pattern</code> or any element of
<code>text</code> is marked as <code>"bytes"</code>.
</p>


<h3>Value</h3>

<p>A list of the same length as <code>text</code>, each element of which is
either <code class="reqn">-1</code> if there is no match, or a sequence of integers with
the starting positions of the match and all substrings corresponding
to parenthesized subexpressions of <code>pattern</code>, with attribute
<code>"match.length"</code> an integer vector giving the lengths of the
matches (or <code class="reqn">-1</code> for no match).
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+regmatches">regmatches</a></code> for extracting the matched substrings.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Cf. the examples for agrep.
x &lt;- c("1 lazy", "1", "1 LAZY")
aregexec("laysy", x, max.distance = 2)
aregexec("(lay)(sy)", x, max.distance = 2)
aregexec("(lay)(sy)", x, max.distance = 2, ignore.case = TRUE)
m &lt;- aregexec("(lay)(sy)", x, max.distance = 2)
regmatches(x, m)
</code></pre>

<hr>
<h2 id='arrangeWindows'>Rearrange Windows on MS Windows</h2><span id='topic+arrangeWindows'></span>

<h3>Description</h3>

<p>This function allows you to tile or cascade windows, or to minimize or
restore them (on Windows, i.e. when <code>(<a href="base.html#topic+.Platform">.Platform</a>$OS.type == "windows")</code>).
This may include windows not &ldquo;belonging&rdquo; to <span class="rlang"><b>R</b></span>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>arrangeWindows(action, windows, preserve = TRUE, outer = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="arrangeWindows_+3A_action">action</code></td>
<td>
<p>a character string, the action to perform on the
windows.  The choices are
<code>c("vertical", "horizontal", "cascade", "minimize", "restore")</code>
with default <code>"vertical"</code>; see the &lsquo;Details&rsquo; for the interpretation.
Abbreviations may be used.
</p>
</td></tr>
<tr><td><code id="arrangeWindows_+3A_windows">windows</code></td>
<td>
<p>a <code><a href="base.html#topic+list">list</a></code> of window handles, by default
produced by <code><a href="#topic+getWindowsHandles">getWindowsHandles</a>()</code>.</p>
</td></tr>
<tr><td><code id="arrangeWindows_+3A_preserve">preserve</code></td>
<td>
<p>If <code>TRUE</code>, when tiling preserve the outer
boundary of the collection of windows; otherwise make them as large
as will fit.</p>
</td></tr>
<tr><td><code id="arrangeWindows_+3A_outer">outer</code></td>
<td>
<p>This argument is only used in MDI mode.  If <code>TRUE</code>,
tile the windows on the system desktop.  Otherwise, tile them within
the MDI frame.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The actions are as follows:
</p>

<dl>
<dt><code>"vertical"</code></dt><dd><p>Tile vertically.</p>
</dd>
<dt><code>"horizontal"</code></dt><dd><p>Tile horizontally.</p>
</dd>
<dt><code>"cascade"</code></dt><dd><p>Cascade the windows.</p>
</dd>
<dt><code>"minimize"</code></dt><dd><p>Minimize all of the windows.</p>
</dd>
<dt><code>"restore"</code></dt><dd><p>Restore all of the windows to normal size (not minimized, not maximized).</p>
</dd>
</dl>

<p>The tiling and cascading are done by the standard Windows API functions, but unlike those functions,
they will apply to all of the windows in the <code>windows</code> list.
</p>
<p>By default, <code>windows</code> is set to the result of
<code><a href="#topic+getWindowsHandles">getWindowsHandles</a>()</code> (with one exception described
below).  This will select windows belonging to the current <span class="rlang"><b>R</b></span> process.
However, if the global environment contains a variable named
<code>.arrangeWindowsDefaults</code>, it will be used as the argument list
instead. See the <code><a href="#topic+getWindowsHandles">getWindowsHandles</a></code> man page for a
discussion of the optional arguments to that function.
</p>
<p>When <code>action = "restore"</code> is used with <code>windows</code> unspecified,
<code>minimized = TRUE</code> is added to the argument list of
<code><a href="#topic+getWindowsHandles">getWindowsHandles</a></code> so that minimized windows will be restored.
</p>
<p>In MDI mode, by default tiling and cascading will happen within the <span class="rlang"><b>R</b></span>
GUI frame. However, if <code>outer = TRUE</code>, tiling is done on the system
desktop. This will generally not give desirable results if any <span class="rlang"><b>R</b></span> child
windows are included within <code>windows</code>.
</p>


<h3>Value</h3>

<p>This function is called for the side effect of arranging the windows.
The list of window handles is returned invisibly.
</p>


<h3>Note</h3>

<p>This is only available on Windows.
</p>


<h3>Author(s)</h3>

<p>Duncan Murdoch
</p>


<h3>See Also</h3>

<p><code><a href="#topic+getWindowsHandles">getWindowsHandles</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: ## Only available on Windows :
arrangeWindows("v")
# This default is useful only in SDI mode:  it will tile any Firefox window
# along with the R windows
.arrangeWindowsDefaults &lt;- list(c("R", "all"), pattern = c("", "Firefox"))
arrangeWindows("v")

## End(Not run)
</code></pre>

<hr>
<h2 id='askYesNo'>
Ask a Yes/No Question
</h2><span id='topic+askYesNo'></span>

<h3>Description</h3>

<p><code>askYesNo</code> provides a standard way to ask the user a yes/no question.  
It provides a way for front-ends to substitute their own dialogs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>askYesNo(msg, default = TRUE, 
         prompts = getOption("askYesNo", gettext(c("Yes", "No", "Cancel"))), 
         ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="askYesNo_+3A_msg">msg</code></td>
<td>

<p>The prompt message for the user.
</p>
</td></tr>
<tr><td><code id="askYesNo_+3A_default">default</code></td>
<td>

<p>The default response.
</p>
</td></tr>
<tr><td><code id="askYesNo_+3A_prompts">prompts</code></td>
<td>

<p>Any of:  a character vector containing 3 prompts corresponding to
return values of <code>TRUE</code>, <code>FALSE</code>, or <code>NA</code>, or
a single character value containing the prompts separated by
<code>/</code> characters, or a function to call.
</p>
</td></tr>
<tr><td><code id="askYesNo_+3A_...">...</code></td>
<td>

<p>Additional parameters, ignored by the default function.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>askYesNo</code> will accept case-independent partial matches to the prompts.  
If no response
is given the value of <code>default</code> will be returned; if a non-empty
string that doesn't match any of the prompts is entered, an error will be 
raised. 
</p>
<p>If a function or single character string naming a function
is given for <code>prompts</code>, it will be called as
<code>fn(msg = msg, default = default, prompts = prompts, ...)</code>.  On
Windows, the GUI uses the unexported <code>utils:::askYesNoWinDialog</code>
function for this purpose.
</p>
<p>If strings (or a string such as <code>"Y/N/C"</code>) are given as <code>prompts</code>, 
the choices will be mapped to lowercase for the non-default choices, and 
left as-is for the default choice.
</p>


<h3>Value</h3>

<p><code>TRUE</code> for yes, <code>FALSE</code> for no, and <code>NA</code> for cancel.   
</p>


<h3>See Also</h3>

<p><code>readline</code> for more general user input.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive())
    askYesNo("Do you want to use askYesNo?")
</code></pre>

<hr>
<h2 id='aspell'>Spell Check Interface</h2><span id='topic+aspell'></span>

<h3>Description</h3>

<p>Spell check given files via Aspell, Hunspell or Ispell.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aspell(files, filter, control = list(), encoding = "unknown",
       program = NULL, dictionaries = character())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="aspell_+3A_files">files</code></td>
<td>
<p>a character vector with the names of files to be checked.</p>
</td></tr>
<tr><td><code id="aspell_+3A_filter">filter</code></td>
<td>
<p>an optional filter for processing the files before spell
checking, given as either a function (with formals <code>ifile</code> and
<code>encoding</code>), or a character string specifying a built-in
filter, or a list with the name of a built-in filter and additional
arguments to be passed to it.  See <b>Details</b> for available
filters.  If missing or <code>NULL</code>, no filtering is performed.</p>
</td></tr>
<tr><td><code id="aspell_+3A_control">control</code></td>
<td>
<p>a list or character vector of control options for the
spell checker.</p>
</td></tr>
<tr><td><code id="aspell_+3A_encoding">encoding</code></td>
<td>
<p>the encoding of the files.  Recycled as needed.</p>
</td></tr>
<tr><td><code id="aspell_+3A_program">program</code></td>
<td>
<p>a character string giving the name (if on the system
path) or full path of the spell check program to be used, or
<code>NULL</code> (default).  By default, the system path is searched for
<code>aspell</code>, <code>hunspell</code> and <code>ispell</code> (in that
order), and the first one found is used.</p>
</td></tr>
<tr><td><code id="aspell_+3A_dictionaries">dictionaries</code></td>
<td>
<p>a character vector of names or file paths of
additional R level dictionaries to use.  Elements with no path
separator specify R system dictionaries (in subdirectory
&lsquo;<span class="file">share/dictionaries</span>&rsquo; of the R home directory).  The file
extension (currently, only &lsquo;<span class="file">.rds</span>&rsquo;) can be omitted.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The spell check programs employed must support the so-called Ispell
pipe interface activated via command line option <span class="option">-a</span>.  In
addition to the programs, suitable dictionaries need to be available.
See <a href="http://aspell.net">http://aspell.net</a>,
<a href="https://hunspell.github.io/">https://hunspell.github.io/</a> and
<a href="https://www.cs.hmc.edu/~geoff/ispell.html">https://www.cs.hmc.edu/~geoff/ispell.html</a>, respectively, for
obtaining the Aspell, Hunspell and (International) Ispell programs and
dictionaries.
</p>
<p>On Windows, Aspell is available via <abbr>MSYS2</abbr>.  One should use a non-Cygwin
version, e.g.  package <code>mingw-w64-x86_64-aspell</code>.  The version built
against the Cygwin runtime (package <code>aspell</code>) requires Unix line
endings in files and Unix-style paths, which is incompatible with
<code>aspell()</code>.
</p>
<p>The currently available built-in filters are <code>"Rd"</code>
(corresponding to <code><a href="tools.html#topic+RdTextFilter">RdTextFilter</a></code>, with additional argument
<code>ignore</code> allowing to give regular expressions for parts of the
text to be ignored for spell checking), <code>"Sweave"</code>
(corresponding to <code><a href="tools.html#topic+SweaveTeXFilter">SweaveTeXFilter</a></code>), <code>"R"</code>,
<code>"pot"</code>, <code>"dcf"</code> and <code>"md"</code>.
</p>
<p>Filter <code>"R"</code> is for R code and extracts the message string
constants in calls to <code><a href="base.html#topic+message">message</a></code>, <code><a href="base.html#topic+warning">warning</a></code>,
<code><a href="base.html#topic+stop">stop</a></code>, <code><a href="base.html#topic+packageStartupMessage">packageStartupMessage</a></code>,
<code><a href="base.html#topic+gettext">gettext</a></code>, <code><a href="base.html#topic+gettextf">gettextf</a></code>, and
<code><a href="base.html#topic+ngettext">ngettext</a></code> (the unnamed string constants for the first
five, and <code>fmt</code> and <code>msg1</code>/<code>msg2</code> string constants,
respectively, for the latter two).
</p>
<p>Filter <code>"pot"</code> is for message string catalog &lsquo;<span class="file">.pot</span>&rsquo; files.
Both have an argument <code>ignore</code> allowing to give regular
expressions for parts of message strings to be ignored for spell
checking: e.g., using <code>"[ \t]'[^']*'[ \t[:punct:]]"</code> ignores all
text inside single quotes.
</p>
<p>Filter <code>"dcf"</code> is for files in Debian Control File format.
The fields to keep can be controlled by argument <code>keep</code> (a
character vector with the respective field names).  By default,
&lsquo;<span class="samp">&#8288;Title&#8288;</span>&rsquo; and &lsquo;<span class="samp">&#8288;Description&#8288;</span>&rsquo; fields are kept.
</p>
<p>Filter <code>"md"</code> is for files in
<a href="https://en.wikipedia.org/wiki/Markdown">Markdown</a> format
(&lsquo;<span class="file">.md</span>&rsquo; and &lsquo;<span class="file">.Rmd</span>&rsquo; files), and needs packages
<a href="https://CRAN.R-project.org/package=commonmark"><span class="pkg">commonmark</span></a> and <a href="https://CRAN.R-project.org/package=xml2"><span class="pkg">xml2</span></a> to be available.
</p>
<p>The print method for the objects returned by <code>aspell</code> has an
<code>indent</code> argument controlling the indentation of the positions of
possibly misspelled words.  The default is 2; Emacs users may find it
useful to use an indentation of 0 and visit output in grep-mode.  It
also has a <code>verbose</code> argument: when this is true, suggestions for
replacements are shown as well.
</p>
<p>It is possible to employ additional R level dictionaries.  Currently,
these are files with extension &lsquo;<span class="file">.rds</span>&rsquo; obtained by serializing
character vectors of word lists using <code><a href="base.html#topic+saveRDS">saveRDS</a></code>.  If such
dictionaries are employed, they are combined into a single word list
file which is then used as the spell checker's personal dictionary
(option <span class="option">-p</span>): hence, the default personal dictionary is not
used in this case.
</p>


<h3>Value</h3>

<p>A data frame inheriting from <code>aspell</code> (which has a useful print
method) with the information about possibly misspelled words.
</p>


<h3>References</h3>

<p>Kurt Hornik and Duncan Murdoch (2011).
&ldquo;Watch your spelling!&rdquo;
<em>The R Journal</em>, <b>3</b>(2), 22&ndash;28.
<a href="https://doi.org/10.32614/RJ-2011-014">doi:10.32614/RJ-2011-014</a>.

</p>


<h3>See Also</h3>

<p><a href="#topic+aspell-utils">aspell-utils</a> for utilities for spell checking packages.
</p>





<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## To check all Rd files in a directory, (additionally) skipping the
## \references sections.
files &lt;- Sys.glob("*.Rd")
aspell(files, filter = list("Rd", drop = "\\references"))

## To check all Sweave files
files &lt;- Sys.glob(c("*.Rnw", "*.Snw", "*.rnw", "*.snw"))
aspell(files, filter = "Sweave", control = "-t")

## To check all Texinfo files (Aspell only)
files &lt;- Sys.glob("*.texi")
aspell(files, control = "--mode=texinfo")

## End(Not run)

## List the available R system dictionaries.
Sys.glob(file.path(R.home("share"), "dictionaries", "*.rds"))
</code></pre>

<hr>
<h2 id='aspell-utils'>Spell Check Utilities</h2><span id='topic+aspell-utils'></span><span id='topic+aspell_package_Rd_files'></span><span id='topic+aspell_package_vignettes'></span><span id='topic+aspell_package_R_files'></span><span id='topic+aspell_package_C_files'></span><span id='topic+aspell_write_personal_dictionary_file'></span>

<h3>Description</h3>

<p>Utilities for spell checking packages via Aspell, Hunspell or Ispell.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aspell_package_Rd_files(dir,
                        drop = c("\\abbr", "\\acronym",
                                 "\\author", "\\references"),
                        control = list(), program = NULL,
                        dictionaries = character())
aspell_package_vignettes(dir,
                         control = list(), program = NULL,
                         dictionaries = character())
aspell_package_R_files(dir, ignore = character(), control = list(),
                       program = NULL, dictionaries = character())
aspell_package_C_files(dir, ignore = character(), control = list(),
                       program = NULL, dictionaries = character())

aspell_write_personal_dictionary_file(x, out, language = "en",
                                      program = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="aspell-utils_+3A_dir">dir</code></td>
<td>
<p>a character string specifying the path to a package's root
directory.</p>
</td></tr>
<tr><td><code id="aspell-utils_+3A_drop">drop</code></td>
<td>
<p>a character vector naming additional Rd sections to drop
when selecting text via <code><a href="tools.html#topic+RdTextFilter">RdTextFilter</a></code>.</p>
</td></tr>
<tr><td><code id="aspell-utils_+3A_control">control</code></td>
<td>
<p>a list or character vector of control options for
the spell checker.</p>
</td></tr>
<tr><td><code id="aspell-utils_+3A_program">program</code></td>
<td>
<p>a character string giving the name (if on the system
path) or full path of the spell check program to be used, or
<code>NULL</code> (default).  By default, the system path is searched for
<code>aspell</code>, <code>hunspell</code> and <code>ispell</code> (in that
order), and the first one found is used.</p>
</td></tr>
<tr><td><code id="aspell-utils_+3A_dictionaries">dictionaries</code></td>
<td>
<p>a character vector of names or file paths of
additional R level dictionaries to use.  See <code><a href="#topic+aspell">aspell</a></code>.</p>
</td></tr>
<tr><td><code id="aspell-utils_+3A_ignore">ignore</code></td>
<td>
<p>a character vector with regular expressions to be
replaced by blanks when filtering the message strings.</p>
</td></tr>
<tr><td><code id="aspell-utils_+3A_x">x</code></td>
<td>
<p>a character vector, or the result of a call to
<code><a href="#topic+aspell">aspell</a>()</code>.</p>
</td></tr>
<tr><td><code id="aspell-utils_+3A_out">out</code></td>
<td>
<p>a character string naming the personal dictionary file to
write to.</p>
</td></tr>
<tr><td><code id="aspell-utils_+3A_language">language</code></td>
<td>
<p>a character string indicating a language as used by
Aspell.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Functions <code>aspell_package_Rd_files</code>,
<code>aspell_package_vignettes</code>, <code>aspell_package_R_files</code> and
<code>aspell_package_C_files</code> perform spell checking on the Rd files,
vignettes, R files, and C-level messages of the package with root
directory <code>dir</code>.  They determine the respective files, apply the
appropriate filters, and run the spell checker.
</p>
<p>See <code><a href="#topic+aspell">aspell</a></code> for details on filters.
</p>
<p>The C-level message string are obtained from the
&lsquo;<span class="file">po/<var>PACKAGE</var>.pot</span>&rsquo; message catalog file, with <var>PACKAGE</var>
the basename of <code>dir</code>.
See the section on &lsquo;C-level messages&rsquo; in
&lsquo;Writing R Extensions&rsquo; for more information.
</p>
<p>When using Aspell, the vignette checking skips parameters and/or
options of commands <code style="white-space: pre;">&#8288;\Sexpr&#8288;</code>, <code style="white-space: pre;">&#8288;\citep&#8288;</code>, <code style="white-space: pre;">&#8288;\code&#8288;</code>,
<code style="white-space: pre;">&#8288;\pkg&#8288;</code>, <code style="white-space: pre;">&#8288;\proglang&#8288;</code> and <code style="white-space: pre;">&#8288;\samp&#8288;</code> (in addition to the
what the Aspell TeX/LaTeX filter skips by default).  Further
commands can be skipped by adding <code style="white-space: pre;">&#8288;--add-tex-command&#8288;</code> options to
the <code>control</code> argument.  E.g., to skip both option and parameter
of <code style="white-space: pre;">&#8288;\mycmd&#8288;</code>, add <code style="white-space: pre;">&#8288;--add-tex-command='mycmd op'&#8288;</code>.
</p>
<p>Suitable values for <code>control</code>, <code>program</code>,
<code>dictionaries</code>, <code>drop</code> and <code>ignore</code> can also be
specified using a package defaults file which should go as
&lsquo;<span class="file">defaults.R</span>&rsquo; into the &lsquo;<span class="file">.aspell</span>&rsquo; subdirectory of <code>dir</code>,
and provides defaults via assignments of suitable named lists, e.g.,
</p>
<pre>vignettes &lt;- list(control = "--add-tex-command='mycmd op'")</pre>
<p>for vignettes (when using Aspell) and similarly assigning to
<code>Rd_files</code>, <code>R_files</code> and <code>C_files</code> for Rd files, R
files and C level message defaults.
</p>
<p>Maintainers of packages using both English and American spelling will
find it convenient to pass control options <span class="option">--master=en_US</span> and
<span class="option">--add-extra-dicts=en_GB</span> to Aspell and control options
<span class="option">-d en_US,en_GB</span> to Hunspell (provided that the corresponding
dictionaries are installed).
</p>
<p>Older versions of <span class="rlang"><b>R</b></span> had no support for R level dictionaries, and
hence provided the function
<code>aspell_write_personal_dictionary_file</code> to create (spell check)
program-specific personal dictionary files from words to be accepted.
The new mechanism is to use R level dictionaries, i.e., &lsquo;<span class="file">.rds</span>&rsquo;
files obtained by serializing character vectors of such words using
<code><a href="base.html#topic+saveRDS">saveRDS</a></code>.  For such dictionaries specified via the
package defaults mechanism, elements with no path separator can be R
system dictionaries or dictionaries in the &lsquo;<span class="file">.aspell</span>&rsquo;
subdirectory.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+aspell">aspell</a></code>
</p>

<hr>
<h2 id='available.packages'>List Available Packages at <abbr>CRAN</abbr>-like Repositories</h2><span id='topic+available.packages'></span><span id='topic+R_AVAILABLE_PACKAGES_CACHE_CONTROL_MAX_AGE'></span>

<h3>Description</h3>

<p><code>available.packages</code> returns a matrix of details corresponding to
packages currently available at one or more repositories. The
current list of packages is downloaded over the internet (or copied
from a local mirror).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>available.packages(contriburl = contrib.url(repos, type), method,
                   fields = NULL, type = getOption("pkgType"),
                   filters = NULL, repos = getOption("repos"),
                   ignore_repo_cache = FALSE, max_repo_cache_age,
                   quiet = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="available.packages_+3A_contriburl">contriburl</code></td>
<td>

<p>URL(s) of the &lsquo;<span class="file">contrib</span>&rsquo; sections of the repositories.
Specify this argument only if your repository mirror is incomplete,
e.g., because you mirrored only the &lsquo;<span class="file">contrib</span>&rsquo; section.
</p>
</td></tr>
<tr><td><code id="available.packages_+3A_method">method</code></td>
<td>

<p>download method, see <code><a href="#topic+download.file">download.file</a></code>.
</p>
</td></tr>
<tr><td><code id="available.packages_+3A_type">type</code></td>
<td>

<p>character string, indicate which type of packages: see
<code><a href="#topic+install.packages">install.packages</a></code>.
</p>
<p>If <code>type = "both"</code> this will use the source repository.
</p>
</td></tr>
<tr><td><code id="available.packages_+3A_fields">fields</code></td>
<td>

<p>a character vector giving the fields to extract from
the &lsquo;<span class="file">PACKAGES</span>&rsquo; file(s) in addition to the default ones, or
<code>NULL</code> (default).  Unavailable fields result in <code>NA</code>
values.
</p>
</td></tr>
<tr><td><code id="available.packages_+3A_filters">filters</code></td>
<td>

<p>a character vector or list or <code>NULL</code> (default). See &lsquo;Details&rsquo;.
</p>
</td></tr>
<tr><td><code id="available.packages_+3A_repos">repos</code></td>
<td>

<p>character vector, the base URL(s) of the repositories to use.
</p>
</td></tr>
<tr><td><code id="available.packages_+3A_ignore_repo_cache">ignore_repo_cache</code></td>
<td>
<p>logical.  If true, the repository cache is
never used (see &lsquo;Details&rsquo;).
</p>
</td></tr>
<tr><td><code id="available.packages_+3A_max_repo_cache_age">max_repo_cache_age</code></td>
<td>
<p>any cached values older than this in seconds
will be ignored. See &lsquo;Details&rsquo;.
</p>
</td></tr>
<tr><td><code id="available.packages_+3A_quiet">quiet</code></td>
<td>
<p>logical, passed to <code><a href="#topic+download.file">download.file</a>()</code>; change
only if you know what you are doing.</p>
</td></tr>
<tr><td><code id="available.packages_+3A_...">...</code></td>
<td>

<p>allow additional arguments to be passed from callers (which might be
arguments to future versions of this function).  Currently these are
all passed to <code><a href="#topic+download.file">download.file</a>()</code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The list of packages is either copied from a local mirror (specified by a
&lsquo;<span class="samp">&#8288;file://&#8288;</span>&rsquo; <abbr>URI</abbr>) or downloaded.  If downloaded and
<code>ignore_repo_cache</code> is false (the default), the list is cached
for the <span class="rlang"><b>R</b></span> session in a per-repository file in <code><a href="base.html#topic+tempdir">tempdir</a>()</code>
with a name like
</p>
<pre>repos_http%3a%2f%2fcran.r-project.org%2fsrc%2fcontrib.rds</pre>
<p>The cached values are renewed when found to be too old, with the age
limit controlled <em>via</em> argument <code>max_repo_cache_age</code>.
This defaults to the current value of the environment variable
<span class="env">R_AVAILABLE_PACKAGES_CACHE_CONTROL_MAX_AGE</span>, or if unset, to
<code>3600</code> (one hour).
</p>
<p>By default, the return value includes only packages whose version and
OS requirements are met by the running version of <span class="rlang"><b>R</b></span>, and only gives
information on the latest versions of packages.
</p>
<p>Argument <code>filters</code> can be used to select which of the packages on the
repositories are reported.  It is called with its default value
(<code>NULL</code>) by functions such as <code>install.packages</code>: this value
corresponds to <code><a href="base.html#topic+getOption">getOption</a>("available_packages_filters")</code>
and to <code>c("R_version", "OS_type", "subarch", "duplicates")</code> if
that is unset or set to <code>NULL</code>.
</p>
<p>The built-in filters are
</p>

<dl>
<dt><code>"R_version"</code></dt><dd><p>Exclude packages whose <span class="rlang"><b>R</b></span> version
requirements are not met.</p>
</dd>
<dt><code>"OS_type"</code></dt><dd><p>Exclude packages whose OS requirement is
incompatible with this version of <span class="rlang"><b>R</b></span>: that is exclude
Windows-only packages on a Unix-alike platform
and <em>vice versa</em>.</p>
</dd>
<dt><code>"subarch"</code></dt><dd><p>For binary packages, exclude those with
compiled code that is not available for the current
sub-architecture, e.g. exclude packages only compiled for
32-bit Windows on a 64-bit Windows <span class="rlang"><b>R</b></span>.</p>
</dd>
<dt><code>"duplicates"</code></dt><dd><p>Only report the latest version where more
than one version is available, and only report the first-named
repository (in <code>contriburl</code>) with the latest version if that
is in more than one repository.</p>
</dd>
<dt><code>"license/FOSS"</code></dt><dd><p>Include only packages for which
installation can proceed solely based on packages which can be
verified as Free or Open Source Software (<abbr>FOSS</abbr>, e.g.,
<a href="https://en.wikipedia.org/wiki/FOSS">https://en.wikipedia.org/wiki/FOSS</a>) employing the available
license specifications.  Thus both the package and any packages
that it depends on to load need to be <em>known to be</em> <abbr>FOSS</abbr>.
</p>
<p>Note that this does depend on the repository supplying license
information.
</p>
</dd>
<dt><code>"license/restricts_use"</code></dt><dd><p>Include only packages for
which installation can proceed solely based on packages which are
known not to restrict use.
</p>
</dd>
<dt><code>"CRAN"</code></dt><dd><p>Use <abbr>CRAN</abbr> versions in preference to versions
from other repositories (even if these have a higher version
number).  This needs to be applied <em>before</em> the default
<code>"duplicates"</code> filter, so cannot be used with
<code>add = TRUE</code>.
</p>
</dd>
</dl>

<p>If all the filters are from this set, then they can be specified as a
character vector; otherwise <code>filters</code> should be a list with
elements which are character strings, user-defined functions or
<code>add = TRUE</code> (see below).
</p>
<p>User-defined filters are functions which take a single argument, a
matrix of the form returned by <code>available.packages</code>, and
return a matrix consisting of a subset of the rows of the argument.
</p>
<p>The special &lsquo;filter&rsquo; <code>add = TRUE</code> appends the other
elements of the filter list to the default filters.
</p>


<h3>Value</h3>

<p>A character matrix with one row per package, row names the package names and
column names including <code>"Package"</code>, <code>"Version"</code>,
<code>"Priority"</code>, <code>"Depends"</code>, <code>"Imports"</code>,
<code>"LinkingTo"</code>, <code>"Suggests"</code>, <code>"Enhances"</code>,
<code>"File"</code> and <code>"Repository"</code>.  Additional columns can be
specified using the <code>fields</code> argument.
</p>
<p>Where provided by the repository, fields <code>"OS_type"</code>,
<code>"License"</code>, <code>"License_is_FOSS"</code>,
<code>"License_restricts_use"</code>, <code>"Archs"</code>, <code>"MD5sum"</code> and
<code>"NeedsCompilation"</code> are reported for use by the filters and
package management tools, including <code><a href="#topic+install.packages">install.packages</a></code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+packageStatus">packageStatus</a></code>, <code><a href="#topic+update.packages">update.packages</a></code>,
<code><a href="#topic+install.packages">install.packages</a></code>, <code><a href="#topic+download.packages">download.packages</a></code>,
<code><a href="#topic+contrib.url">contrib.url</a></code>.
</p>
<p>The &lsquo;R Installation and Administration&rsquo; manual for how to
set up a repository.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Count package licenses
db &lt;- available.packages(repos = findCRANmirror("web"), filters = "duplicates")
table(db[,"License"])

## Use custom filter function to only keep recommended packages
## which do not require compilation
available.packages(repos = findCRANmirror("web"),
  filters = list(
    add = TRUE,
    function (db) db[db[,"Priority"] %in% "recommended" &amp;
                     db[,"NeedsCompilation"] == "no", ]
  ))

## Not run: 
## Restrict install.packages() (etc) to known-to-be-FOSS packages
options(available_packages_filters =
  c("R_version", "OS_type", "subarch", "duplicates", "license/FOSS"))
## or
options(available_packages_filters = list(add = TRUE, "license/FOSS"))

## Give priority to released versions on CRAN, rather than development
## versions on R-Forge etc.
options(available_packages_filters =
     c("R_version", "OS_type", "subarch", "CRAN", "duplicates"))

## End(Not run)</code></pre>

<hr>
<h2 id='BATCH'>Batch Execution of R</h2><span id='topic+BATCH'></span>

<h3>Description</h3>

<p>Run <span class="rlang"><b>R</b></span> non-interactively with input from <code>infile</code> and
send output (stdout/stderr) to another file.</p>


<h3>Usage</h3>

<pre><code class='language-R'>R CMD BATCH [options] infile [outfile]
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="BATCH_+3A_infile">infile</code></td>
<td>
<p>the name of a file with <span class="rlang"><b>R</b></span> code to be executed.</p>
</td></tr>
<tr><td><code id="BATCH_+3A_options">options</code></td>
<td>
<p>a list of <span class="rlang"><b>R</b></span> command line options, e.g., for setting the
amount of memory available and controlling the load/save process.
If <code>infile</code> starts with a &lsquo;<span class="samp">&#8288;-&#8288;</span>&rsquo;, use <span class="option">--</span> as the final
option.
The default options are <span class="option">--restore --save --no-readline</span>.
(Without <span class="option">--no-readline</span> on Windows.)
</p>
</td></tr>
<tr><td><code id="BATCH_+3A_outfile">outfile</code></td>
<td>
<p>the name of a file to which to write output.  If not
given, the name used is that of <code>infile</code>, with a possible
&lsquo;<span class="file">.R</span>&rsquo; extension stripped, and &lsquo;<span class="file">.Rout</span>&rsquo; appended.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Use <code>R CMD BATCH --help</code> to be reminded of the usage.
</p>
<p>By default, the input commands are printed along with the output.  To
suppress this behavior, add <code>options(echo = FALSE)</code> at the
beginning of <code>infile</code>, or use option <span class="option">--no-echo</span>.
</p>
<p>The <code>infile</code> can have end of line marked by <abbr>LF</abbr> or <abbr>CRLF</abbr> (but not
just <abbr>CR</abbr>), and files with an incomplete last line (missing end of line
(<abbr>EOL</abbr>) mark) are processed correctly.
</p>
<p>A final expression &lsquo;<span class="samp">&#8288;proc.time()&#8288;</span>&rsquo; will be executed after the input
script unless the latter calls <code><a href="base.html#topic+q">q</a>(runLast = FALSE)</code> or is aborted.
This can be suppressed by the option <span class="option">--no-timing</span>.
</p>
<p>Additional options can be set by the environment variable
<span class="env">R_BATCH_OPTIONS</span>: these come after the default options (see the
description of the <code>options</code> argument) and before any options
given on the command line.
</p>


<h3>Note</h3>

<p>On Unix-alikes only: Unlike <code>Splus BATCH</code>, this does not run the <span class="rlang"><b>R</b></span>
process in the background.
In most shells, </p>
<pre>R CMD BATCH [options] infile [outfile] &amp;</pre>
<p>will do so.
</p>

<hr>
<h2 id='bibentry'>Bibliography Entries</h2><span id='topic+bibentry'></span><span id='topic+print.bibentry'></span><span id='topic+format.bibentry'></span><span id='topic+sort.bibentry'></span><span id='topic+print.citation'></span><span id='topic+format.citation'></span><span id='topic+toBibtex.bibentry'></span>

<h3>Description</h3>

<p>Functionality for representing and manipulating bibliographic
information in enhanced BibTeX style.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bibentry(bibtype, textVersion = NULL, header = NULL, footer = NULL,
         key = NULL, ..., other = list(),
         mheader = NULL, mfooter = NULL)

## S3 method for class 'bibentry'
print(x, style = "text", .bibstyle,
      bibtex = length(x) &lt;= getOption("citation.bibtex.max", 1),
      ...)

## S3 method for class 'bibentry'
format(x, style = "text", .bibstyle = NULL,
       bibtex = length(x) &lt;= 1,
       citMsg = missing(bibtex),
       sort = FALSE, macros = NULL, ...)

## S3 method for class 'bibentry'
sort(x, decreasing = FALSE, .bibstyle = NULL, drop = FALSE, ...)

## S3 method for class 'citation'
 print(x, style = "citation", ...)
## S3 method for class 'citation'
format(x, style = "citation", ...)

## S3 method for class 'bibentry'
toBibtex(object, escape = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bibentry_+3A_bibtype">bibtype</code></td>
<td>
<p>a character string with a BibTeX entry type.
See <b>Entry Types</b> for details.
</p>
</td></tr>
<tr><td><code id="bibentry_+3A_textversion">textVersion</code></td>
<td>
<p>a character string with a text representation of
the reference to optionally be employed for printing.  It is
recommended to leave this unspecified if
<code>format(x, style = "text")</code>
works correctly.  Only if special LaTeX macros (e.g., math
formatting) or special characters (e.g., with accents) are
necessary, a <code>textVersion</code> should be provided.
</p>
</td></tr>
<tr><td><code id="bibentry_+3A_header">header</code></td>
<td>
<p>a character string with optional header text.</p>
</td></tr>
<tr><td><code id="bibentry_+3A_footer">footer</code></td>
<td>
<p>a character string with optional footer text.</p>
</td></tr>
<tr><td><code id="bibentry_+3A_key">key</code></td>
<td>
<p>a character string giving the citation key for the entry.</p>
</td></tr>
<tr><td><code id="bibentry_+3A_...">...</code></td>
<td>
<p>for <code>bibentry</code>: arguments of the form
<code><var>tag</var>=<var>value</var></code> giving the fields of the entry, with
<var>tag</var> and <var>value</var> the name and value of the field,
respectively.  Arguments with empty values are dropped.
Field names are case-insensitive.
See <b>Entry Fields</b> for details.
</p>
<p>For the <code>print()</code> method, extra arguments to pass to the
renderer which typically includes the <code>format()</code> method.
</p>
<p>For the <code>citation</code> class methods, arguments passed to the next
method, i.e., the corresponding <code>bibentry</code> one.
</p>
<p>For the <code>toBibtex()</code> method, currently not used.
</p>
</td></tr>
<tr><td><code id="bibentry_+3A_other">other</code></td>
<td>
<p>a list of arguments as in <code>...</code> (useful in
particular for fields named the same as formals of
<code>bibentry</code>).</p>
</td></tr>
<tr><td><code id="bibentry_+3A_mheader">mheader</code></td>
<td>
<p>a character string with optional &ldquo;outer&rdquo; header
text.</p>
</td></tr>
<tr><td><code id="bibentry_+3A_mfooter">mfooter</code></td>
<td>
<p>a character string with optional &ldquo;outer&rdquo; footer
text.</p>
</td></tr>
<tr><td><code id="bibentry_+3A_x">x</code></td>
<td>
<p>an object inheriting from class <code>"bibentry"</code>.</p>
</td></tr>
<tr><td><code id="bibentry_+3A_style">style</code></td>
<td>
<p>an optional character string specifying the print style.
If present, must be a unique abbreviation (with case ignored) of the available
styles, see <b>Details</b>.</p>
</td></tr>
<tr><td><code id="bibentry_+3A_decreasing">decreasing</code></td>
<td>
<p>logical, passed to <code><a href="base.html#topic+order">order</a></code> indicating
the sort direction.</p>
</td></tr>
<tr><td><code id="bibentry_+3A_.bibstyle">.bibstyle</code></td>
<td>
<p>a character string naming a bibliography style,
see <code><a href="tools.html#topic+bibstyle">bibstyle</a></code>.</p>
</td></tr>
<tr><td><code id="bibentry_+3A_bibtex">bibtex</code></td>
<td>
<p><code><a href="base.html#topic+logical">logical</a></code> indicating if BibTeX code should be given
additionally; currently applies only to <code>style = "citation"</code>.
The default for the <code>print()</code> method depends on the number of
(bib) entries and <code><a href="base.html#topic+getOption">getOption</a>("citation.bibtex.max")</code> (which
itself is 1 by default).  For example, to see no BibTeX at all, you can change the
default by <code><a href="base.html#topic+options">options</a>(citation.bibtex.max = 0)</code>.</p>
</td></tr>
<tr><td><code id="bibentry_+3A_citmsg">citMsg</code></td>
<td>
<p><code><a href="base.html#topic+logical">logical</a></code> indicating if a &ldquo;message&rdquo; should be
added (to the footer) about how to get BibTeX code when <code>bibtex</code>
is false <em>and</em> <code>style = "citation"</code>.</p>
</td></tr>
<tr><td><code id="bibentry_+3A_sort">sort</code></td>
<td>
<p>logical indicating if bibentries should be sorted, using
<code><a href="tools.html#topic+bibstyle">bibstyle</a>(.bibstyle)$sortKeys(x)</code>.</p>
</td></tr>
<tr><td><code id="bibentry_+3A_macros">macros</code></td>
<td>
<p>a character string or an object with already loaded Rd
macros, see <b>Details</b>.</p>
</td></tr>
<tr><td><code id="bibentry_+3A_drop">drop</code></td>
<td>
<p>logical used as <code>x[ ..., drop=drop]</code> inside the
<code>sort()</code> method.</p>
</td></tr>
<tr><td><code id="bibentry_+3A_object">object</code></td>
<td>
<p>an object inheriting from class <code>"bibentry"</code>.</p>
</td></tr>
<tr><td><code id="bibentry_+3A_escape">escape</code></td>
<td>
<p>a logical indicating whether non-ASCII characters should
be translated to LaTeX escape sequences.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The bibentry objects created by <code>bibentry</code> can represent an
arbitrary positive number of references.  One can use <code>c()</code> to
combine bibentry objects, and hence in particular build a multiple
reference object from single reference ones.  Alternatively, one can
use <code>bibentry</code> to directly create a multiple reference object by
specifying the arguments as lists of character strings.
</p>
<p>The <code><a href="base.html#topic+print">print</a></code> method for bibentry objects is based on a
corresponding <code><a href="base.html#topic+format">format</a></code> method and provides a choice
between seven different styles:
plain text (style <code>"text"</code>),
BibTeX (<code>"bibtex"</code>),
a mixture of plain text and BibTeX as traditionally used for citations
(<code>"citation"</code>),
HTML (<code>"html"</code>),
LaTeX (<code>"latex"</code>),
R code (<code>"R"</code>),
and a simple copy of the <code>textVersion</code> elements (style
<code>"textVersion"</code>).
</p>
<p>The <code>"text"</code>, <code>"html"</code> and <code>"latex"</code> styles make use
of the <code>.bibstyle</code> argument: a style defined by the
<code><a href="tools.html#topic+bibstyle">bibstyle</a></code> function for rendering the bibentry into
(intermediate) Rd format.
The Rd format uses markup commands documented in the &lsquo;Rd format&rsquo;
section of the &lsquo;Writing R Extensions&rsquo; manual, e.g. <code style="white-space: pre;">&#8288;\bold&#8288;</code>.
In addition, one can use the <code>macros</code> argument to
provide additional (otherwise unknown, presumably LaTeX-style) Rd
macros, either by giving the path to a file with Rd macros to be
loaded via <code><a href="tools.html#topic+loadRdMacros">loadRdMacros</a></code>, or an object with macros
already loaded.
Note that the <code>"latex"</code> result may contain commands from the
LaTeX style file &lsquo;<span class="file">Rd.sty</span>&rsquo; shipped with <span class="rlang"><b>R</b></span>;
put <code style="white-space: pre;">&#8288;\usepackage{Rd}&#8288;</code> in the preamble of a LaTeX document
to make these available when compiling,
e.g. with <code><a href="tools.html#topic+texi2pdf">texi2pdf</a></code>.
</p>
<p>When printing bibentry objects in citation style, a
<code>header</code>/<code>footer</code> for each item can be displayed as well as
a <code>mheader</code>/<code>mfooter</code> for the whole vector of references.
</p>
<p>For formatting as R code,
a choice between giving a character vector with one <code>bibentry()</code>
call for each bibentry (as commonly used in &lsquo;<span class="file">CITATION</span>&rsquo; files), or
a character string with one collapsed call, obtained by combining the
individual calls with <code>c()</code> if there is more than one bibentry.
This can be controlled by passing the argument <code>collapse=FALSE</code>
(default) or <code>TRUE</code>, respectively, to the <code>format()</code> method.
(<em>Printing</em> in R style always collapses to a single call.)
</p>
<p>It is possible to subscript bibentry objects by their keys (which are
used for character subscripts if the names are <code>NULL</code>).
</p>
<p>There is also a <code><a href="#topic+toBibtex">toBibtex</a></code> method for direct conversion to
BibTeX.
</p>
<p>As of <span class="rlang"><b>R</b></span> 4.3.0, there is also a <code><a href="base.html#topic+transform">transform</a></code> method which
allows to directly use the current fields, see the examples.
</p>


<h3>Value</h3>

<p><code>bibentry</code> produces an object of class <code>"bibentry"</code>.
</p>


<h3>Entry Types</h3>

<p><code>bibentry</code> creates <code>"bibentry"</code> objects, which are modeled
after BibTeX entries.  The entry should be a valid BibTeX entry type,
e.g.,
</p>

<dl>
<dt>Article:</dt><dd><p>An article from a journal or magazine.</p>
</dd>
<dt>Book:</dt><dd><p>A book with an explicit publisher.</p>
</dd>
<dt>InBook:</dt><dd><p>A part of a book, which may be a chapter (or section
or whatever) and/or a range of pages.</p>
</dd>
<dt>InCollection:</dt><dd><p>A part of a book having its own title.</p>
</dd>
<dt>InProceedings:</dt><dd><p>An article in a conference proceedings.</p>
</dd>
<dt>Manual:</dt><dd><p>Technical documentation like a software manual.</p>
</dd>
<dt>MastersThesis:</dt><dd><p>A Master's thesis.</p>
</dd>
<dt>Misc:</dt><dd><p>Use this type when nothing else fits.</p>
</dd>
<dt>PhdThesis:</dt><dd><p>A PhD thesis.</p>
</dd>
<dt>Proceedings:</dt><dd><p>The proceedings of a conference.</p>
</dd>
<dt>TechReport:</dt><dd><p>A report published by a school or other
institution, usually numbered within a series.</p>
</dd>
<dt>Unpublished:</dt><dd><p>A document having an author and title, but not
formally published.</p>
</dd>
</dl>



<h3>Entry Fields</h3>

<p>The <code>...</code> argument of <code>bibentry</code> can be any number of
BibTeX fields, including
</p>

<dl>
<dt>address:</dt><dd><p>The address of the publisher or other type of
institution.</p>
</dd>
<dt>author:</dt><dd><p>The name(s) of the author(s), either as a
<code><a href="#topic+person">person</a></code> object, or as a character string which
<code><a href="#topic+as.person">as.person</a></code> correctly coerces to such.</p>
</dd>
<dt>booktitle:</dt><dd><p>Title of a book, part of which is being cited.</p>
</dd>
<dt>chapter:</dt><dd><p>A chapter (or section or whatever) number.</p>
</dd>
<dt>doi:</dt><dd><p>The <abbr>DOI</abbr>
(<a href="https://en.wikipedia.org/wiki/Digital_Object_Identifier">https://en.wikipedia.org/wiki/Digital_Object_Identifier</a>)
for the reference.</p>
</dd>
<dt>editor:</dt><dd><p>Name(s) of editor(s), same format as <code>author</code>.</p>
</dd>
<dt>institution:</dt><dd><p>The publishing institution of a technical report.</p>
</dd>
<dt>journal:</dt><dd><p>A journal name.</p>
</dd>
<dt>note:</dt><dd><p>Any additional information that can help the reader.
The first word should be capitalized.</p>
</dd>
<dt>number:</dt><dd><p>The number of a journal, magazine, technical report,
or of a work in a series.</p>
</dd>
<dt>pages:</dt><dd><p>One or more page numbers or range of numbers.</p>
</dd>
<dt>publisher:</dt><dd><p>The publisher's name.</p>
</dd>
<dt>school:</dt><dd><p>The name of the school where a thesis was written.</p>
</dd>
<dt>series:</dt><dd><p>The name of a series or set of books.</p>
</dd>
<dt>title:</dt><dd><p>The work's title.</p>
</dd>
<dt>url:</dt><dd><p>A URL for the reference.
(If the URL is an expanded <abbr>DOI</abbr>, we recommend to use the
&lsquo;<span class="samp">&#8288;doi&#8288;</span>&rsquo; field with the unexpanded <abbr>DOI</abbr> instead.)</p>
</dd>
<dt>volume:</dt><dd><p>The volume of a journal or multi-volume book.</p>
</dd>
<dt>year:</dt><dd><p>The year of publication.</p>
</dd>
</dl>



<h3>See Also</h3>

<p><code><a href="#topic+person">person</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## R reference
rref &lt;- bibentry(
   bibtype = "Manual",
   title = "R: A Language and Environment for Statistical Computing",
   author = person("R Core Team"),
   organization = "R Foundation for Statistical Computing",
   address = "Vienna, Austria",
   year = 2014,
   url = "https://www.R-project.org/")

## Different printing styles
print(rref)
print(rref, style = "bibtex")
print(rref, style = "citation")
print(rref, style = "html")
print(rref, style = "latex")
print(rref, style = "R")

## References for boot package and associated book
bref &lt;- c(
   bibentry(
     bibtype = "Manual",
     title = "boot: Bootstrap R (S-PLUS) Functions",
     author = c(
       person("Angelo", "Canty", role = "aut",
         comment = "S original"),
       person(c("Brian", "D."), "Ripley", role = c("aut", "trl", "cre"),
         comment = "R port, author of parallel support",
         email = "ripley@stats.ox.ac.uk")
     ),
     year = "2012",
     note = "R package version 1.3-4",
     url = "https://CRAN.R-project.org/package=boot",
     key = "boot-package"
   ),

   bibentry(
     bibtype = "Book",
     title = "Bootstrap Methods and Their Applications",
     author = as.person("Anthony C. Davison [aut], David V. Hinkley [aut]"),
     year = "1997",
     publisher = "Cambridge University Press",
     address = "Cambridge",
     isbn = "0-521-57391-2",
     url = "http://statwww.epfl.ch/davison/BMA/",
     key = "boot-book"
   )
)

## Combining and subsetting
c(rref, bref)
bref[2]
bref["boot-book"]

## Extracting fields
bref$author
bref[1]$author
bref[1]$author[2]$email

## Field names are case-insensitive
rref$Year
rref$Year &lt;- R.version$year
stopifnot(identical(rref$year, R.version$year))

## Convert to BibTeX
toBibtex(bref)

## Transform
transform(rref, address = paste0(address, ", Europe"))

## BibTeX reminder message (in case of &gt;= 2 refs):
print(bref, style = "citation")

## Format in R style
## One bibentry() call for each bibentry:
writeLines(paste(format(bref, "R"), collapse = "\n\n"))
## One collapsed call:
writeLines(format(bref, "R", collapse = TRUE))
</code></pre>

<hr>
<h2 id='browseEnv'>Browse Objects in Environment</h2><span id='topic+browseEnv'></span><span id='topic+wsbrowser'></span>

<h3>Description</h3>

<p>The <code>browseEnv</code> function opens a browser with list of objects
currently in <code>sys.frame()</code> environment.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>browseEnv(envir = .GlobalEnv, pattern,
          excludepatt = "^last\\.warning",
          html = .Platform$GUI != "AQUA",
          expanded = TRUE, properties = NULL,
          main = NULL, debugMe = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="browseEnv_+3A_envir">envir</code></td>
<td>
<p>an <code><a href="base.html#topic+environment">environment</a></code> the objects of which are to
be browsed.</p>
</td></tr>
<tr><td><code id="browseEnv_+3A_pattern">pattern</code></td>
<td>
<p>a <a href="base.html#topic+regular+20expression">regular expression</a> for object subselection
is passed to the internal <code><a href="base.html#topic+ls">ls</a>()</code> call.</p>
</td></tr>
<tr><td><code id="browseEnv_+3A_excludepatt">excludepatt</code></td>
<td>
<p>a regular expression for <em>dropping</em> objects
with matching names.</p>
</td></tr>
<tr><td><code id="browseEnv_+3A_html">html</code></td>
<td>
<p>is used to display the workspace
on a HTML page in your favorite browser.  The default except when
running from <code>R.app</code> on macOS.</p>
</td></tr>
<tr><td><code id="browseEnv_+3A_expanded">expanded</code></td>
<td>
<p>whether to show one level of recursion.  It can be useful
to switch it to <code>FALSE</code> if your workspace is large.  This
option is ignored if <code>html</code> is set to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="browseEnv_+3A_properties">properties</code></td>
<td>
<p>a named list of global properties (of the objects chosen)
to be showed in the browser;  when <code>NULL</code> (as per default),
user, date, and machine information is used.</p>
</td></tr>
<tr><td><code id="browseEnv_+3A_main">main</code></td>
<td>
<p>a title string to be used in the browser; when <code>NULL</code>
(as per default) a title is constructed.</p>
</td></tr>
<tr><td><code id="browseEnv_+3A_debugme">debugMe</code></td>
<td>
<p>logical switch; if true, some diagnostic output is produced.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Very experimental code: displays a static HTML page on all platforms
except <code>R.app</code> on macOS.
</p>
<p>Only allows one level of recursion into object structures.
</p>
<p>It can be generalized.  See sources for details.
Most probably, this should rather work through using the <span class="pkg">tkWidget</span>
package (from <a href="https://www.bioconductor.org">https://www.bioconductor.org</a>).
</p>


<h3>See Also</h3>

<p><code><a href="#topic+str">str</a></code>, <code><a href="base.html#topic+ls">ls</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if(interactive()) {
   ## create some interesting objects :
   ofa &lt;- ordered(4:1)
   ex1 &lt;- expression(1+ 0:9)
   ex3 &lt;- expression(u, v, 1+ 0:9)
   example(factor, echo = FALSE)
   example(table, echo = FALSE)
   example(ftable, echo = FALSE)
   example(lm, echo = FALSE, ask = FALSE)
   example(str, echo = FALSE)

   ## and browse them:
   browseEnv()

   ## a (simple) function's environment:
   af12 &lt;- approxfun(1:2, 1:2, method = "const")
   browseEnv(envir = environment(af12))
 }
</code></pre>

<hr>
<h2 id='browseURL'>Load URL into an HTML Browser</h2><span id='topic+browseURL'></span>

<h3>Description</h3>

<p>Load a given URL into an HTML browser.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>browseURL(url, browser = getOption("browser"),
          encodeIfNeeded = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="browseURL_+3A_url">url</code></td>
<td>
<p>a non-empty character string giving the URL to be loaded.
Some platforms also accept file paths.
</p>
</td></tr>
<tr><td><code id="browseURL_+3A_browser">browser</code></td>
<td>
<p>a non-empty character string giving the name of the
program to be used as the HTML browser.  It should be in the PATH,
or a full path specified.  Alternatively, an <span class="rlang"><b>R</b></span> function to be
called to invoke the browser.
</p>
<p>Under Windows <code>NULL</code> is also allowed (and is the default), and
implies that the file association mechanism will be used.
</p>
</td></tr>
<tr><td><code id="browseURL_+3A_encodeifneeded">encodeIfNeeded</code></td>
<td>
<p>Should the URL be encoded by
<code><a href="#topic+URLencode">URLencode</a></code> before passing to the browser?  This is not
needed (and might be harmful) if the <code>browser</code> program/function
itself does encoding, and can be harmful for &lsquo;<span class="samp">&#8288;file://&#8288;</span>&rsquo; URLs on some
systems and for &lsquo;<span class="samp">&#8288;http://&#8288;</span>&rsquo; URLs passed to some CGI applications.
Fortunately, most URLs do not need encoding.</p>
</td></tr>
</table>


<h3>Details</h3>


<dl>
<dt>On Unix-alikes:</dt><dd>
<p>The default browser is set by option <code>"browser"</code>, in turn set by
the environment variable <span class="env">R_BROWSER</span> which is by default set in
file &lsquo;<span class="file"><var><a href="base.html#topic+R_HOME">R_HOME</a></var>/etc/Renviron</span>&rsquo; to a choice
made manually or automatically when <span class="rlang"><b>R</b></span> was configured.  (See
<code><a href="base.html#topic+Startup">Startup</a></code> for where to override that default value.)
To suppress showing URLs altogether, use the value <code>"false"</code>.
</p>
<p>On many platforms it is best to set option <code>"browser"</code> to a
generic program/script and let that invoke the user's choice of
browser.  For example, on macOS use <code>open</code> and on many other
Unix-alikes use <code>xdg-open</code>.
</p>
<p>If <code>browser</code> supports remote control and <span class="rlang"><b>R</b></span> knows how to perform
it, the URL is opened in any already-running browser or a new one if
necessary.  This mechanism currently is available for browsers which
support the <code>"-remote openURL(...)"</code> interface (which includes
Mozilla and Opera), Galeon, KDE konqueror (<em>via</em> kfmclient) and
the GNOME interface to Mozilla. (Firefox has dropped support, but
defaults to using an already-running browser.)  Note that the type of
browser is determined from its name, so this mechanism will only be
used if the browser is installed under its canonical name.
</p>
<p>Because <code>"-remote"</code> will use any browser displaying on the X
server (whatever machine it is running on), the remote control
mechanism is only used if <code>DISPLAY</code> points to the local host.
This may not allow displaying more than one URL at a time from a
remote host.
</p>
<p>It is the caller's responsibility to encode <code>url</code> if necessary
(see <code><a href="#topic+URLencode">URLencode</a></code>).
</p>
<p>To suppress showing URLs altogether, set <code>browser = "false"</code>.
</p>
<p>The behaviour for arguments <code>url</code> which are not URLs is
platform-dependent.  Some platforms accept absolute file paths; fewer
accept relative file paths.
</p>
</dd>
<dt>On Windows:</dt><dd>
<p>The default browser is set by option <code>"browser"</code>, in turn set by
the environment variable <span class="env">R_BROWSER</span> if that is set, otherwise to
<code>NULL</code>.
To suppress showing URLs altogether, use the value <code>"false"</code>.
</p>
<p>Some browsers have required &lsquo;<span class="samp">&#8288;:&#8288;</span>&rsquo; be replaced by &lsquo;<span class="samp">&#8288;|&#8288;</span>&rsquo; in file
paths: others do not accept that.  All seem to accept &lsquo;<span class="samp">&#8288;\&#8288;</span>&rsquo; as a
path separator even though the RFC1738 standard requires &lsquo;<span class="samp">&#8288;/&#8288;</span>&rsquo;.
</p>
<p>To suppress showing URLs altogether, set <code>browser = "false"</code>.
</p>
</dd>
</dl>



<h3>URL schemes</h3>

<p>Which URL schemes are accepted is platform-specific: expect
&lsquo;<span class="samp">&#8288;http://&#8288;</span>&rsquo;, &lsquo;<span class="samp">&#8288;https://&#8288;</span>&rsquo; and &lsquo;<span class="samp">&#8288;ftp://&#8288;</span>&rsquo; to work, but
&lsquo;<span class="samp">&#8288;mailto:&#8288;</span>&rsquo; may or may not (and if it does may not use the user's
preferred email client).  However, modern browsers are unlikely to handle
&lsquo;<span class="samp">&#8288;ftp://&#8288;</span>&rsquo;.
</p>
<p>For the &lsquo;<span class="samp">&#8288;file://&#8288;</span>&rsquo; scheme the format accepted (if any) can depend on
both browser and OS.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## for KDE users who want to open files in a new tab
options(browser = "kfmclient newTab")

browseURL("https://www.r-project.org")

## On Windows-only, something like
browseURL("file://d:/R/R-2.5.1/doc/html/index.html",
          browser = "C:/Program Files/Mozilla Firefox/firefox.exe")

## End(Not run)</code></pre>

<hr>
<h2 id='browseVignettes'>List Vignettes in an HTML Browser</h2><span id='topic+browseVignettes'></span><span id='topic+print.browseVignettes'></span>

<h3>Description</h3>

<p>List available vignettes in an HTML browser with links to PDF,
LaTeX/Noweb source, and (tangled) R code (if available).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>browseVignettes(package = NULL, lib.loc = NULL, all = TRUE)

## S3 method for class 'browseVignettes'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="browseVignettes_+3A_package">package</code></td>
<td>
<p>a character vector with the names of packages to
search through, or <code>NULL</code> in which &quot;all&quot; packages (as defined
by argument <code>all</code>) are searched.</p>
</td></tr>
<tr><td><code id="browseVignettes_+3A_lib.loc">lib.loc</code></td>
<td>
<p>a character vector of directory names of <span class="rlang"><b>R</b></span> libraries,
or <code>NULL</code>.  The default value of <code>NULL</code> corresponds to all
libraries currently known.</p>
</td></tr>
<tr><td><code id="browseVignettes_+3A_all">all</code></td>
<td>
<p>logical; if <code>TRUE</code> search
all available packages in the library trees specified by <code>lib.loc</code>,
and if <code>FALSE</code>, search only attached packages.</p>
</td></tr>
<tr><td><code id="browseVignettes_+3A_x">x</code></td>
<td>
<p>Object of class <code>browseVignettes</code>.</p>
</td></tr>
<tr><td><code id="browseVignettes_+3A_...">...</code></td>
<td>
<p>Further arguments, ignored by the <code>print</code> method. </p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function <code>browseVignettes</code> returns an object of the same class;
the print method displays it as an HTML page in a browser (using
<code><a href="#topic+browseURL">browseURL</a></code>).
</p>


<h3>See Also</h3>

<p><code><a href="#topic+browseURL">browseURL</a></code>, <code><a href="#topic+vignette">vignette</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## List vignettes from all *attached* packages
browseVignettes(all = FALSE)

## List vignettes from a specific package
browseVignettes("grid")
</code></pre>

<hr>
<h2 id='bug.report'>Send a Bug Report</h2><span id='topic+bug.report'></span>

<h3>Description</h3>

<p>Invokes an editor or email program to write a bug report or opens a
web page for bug submission.  Some standard information on the current
version and configuration of <span class="rlang"><b>R</b></span> are included automatically.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bug.report(subject = "",  address,
           file = "R.bug.report", package = NULL, lib.loc = NULL,
           ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bug.report_+3A_subject">subject</code></td>
<td>
<p>Subject of the email.</p>
</td></tr>
<tr><td><code id="bug.report_+3A_address">address</code></td>
<td>
<p>Recipient's email address, where applicable: for
package bug reports sent by email this defaults to the address of
the package maintainer (the first if more than one is listed).</p>
</td></tr>
<tr><td><code id="bug.report_+3A_file">file</code></td>
<td>
<p>filename to use (if needed) for setting up the email.</p>
</td></tr>
<tr><td><code id="bug.report_+3A_package">package</code></td>
<td>
<p>Optional character vector naming a single package which is
the subject of the bug report.</p>
</td></tr>
<tr><td><code id="bug.report_+3A_lib.loc">lib.loc</code></td>
<td>
<p>A character vector describing the location of <span class="rlang"><b>R</b></span>
library trees in which to search for the package, or <code>NULL</code>.
The default value of <code>NULL</code> corresponds to all libraries
currently known.</p>
</td></tr>
<tr><td><code id="bug.report_+3A_...">...</code></td>
<td>
<p>additional named arguments such as <code>method</code> and
<code>ccaddress</code> to pass to <code><a href="#topic+create.post">create.post</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>package</code> is <code>NULL</code> or a base package, this opens the R
bugs tracker at <a href="https://bugs.r-project.org/">https://bugs.r-project.org/</a>.
</p>
<p>If <code>package</code> is specified, it is assumed that the bug report is
about that package, and parts of its &lsquo;<span class="file">DESCRIPTION</span>&rsquo; file are added
to the standard information.  If the package has a non-empty
<code>BugReports</code> field in the &lsquo;<span class="file">DESCRIPTION</span>&rsquo; file specifying the
URL of a webpage, that URL will be opened using
<code><a href="#topic+browseURL">browseURL</a></code>, otherwise an email directed to the package
maintainer will be generated using <code><a href="#topic+create.post">create.post</a></code>.  If
there is any other form of <code>BugReports</code> field or a <code>Contact</code>
field, this is examined as it may provide a preferred email address.
</p>


<h3>Value</h3>

<p>Nothing useful.</p>


<h3>When is there a bug?</h3>

<p>If <span class="rlang"><b>R</b></span> executes an illegal instruction, or dies with an operating
system error message that indicates a problem in the program (as
opposed to something like &ldquo;disk full&rdquo;), then it is certainly a
bug.
</p>
<p>Taking forever to complete a command can be a bug, but you must make
certain that it was really <span class="rlang"><b>R</b></span>'s fault.  Some commands simply take a
long time.  If the input was such that you KNOW it should have been
processed quickly, report a bug.  If you don't know whether the
command should take a long time, find out by looking in the manual or
by asking for assistance.
</p>
<p>If a command you are familiar with causes an <span class="rlang"><b>R</b></span> error message in a
case where its usual definition ought to be reasonable, it is probably
a bug.  If a command does the wrong thing, that is a bug.  But be sure
you know for certain what it ought to have done.  If you aren't
familiar with the command, or don't know for certain how the command
is supposed to work, then it might actually be working right.  Rather
than jumping to conclusions, show the problem to someone who knows for
certain.
</p>
<p>Finally, a command's intended definition may not be best for
statistical analysis.  This is a very important sort of problem, but
it is also a matter of judgement.  Also, it is easy to come to such a
conclusion out of ignorance of some of the existing features.  It is
probably best not to complain about such a problem until you have
checked the documentation in the usual ways, feel confident that you
understand it, and know for certain that what you want is not
available. The mailing list <code>r-devel@r-project.org</code> is a better
place for discussions of this sort than the bug list.
</p>
<p>If you are not sure what the command is supposed to do
after a careful reading of the manual this indicates a bug in the
manual.  The manual's job is to make everything clear.  It is just as
important to report documentation bugs as program bugs.
</p>
<p>If the online argument list of a function disagrees with the manual,
one of them must be wrong, so report the bug.
</p>


<h3>How to report a bug</h3>

<p>When you decide that there is a bug, it is important to report it and
to report it in a way which is useful.  What is most useful is an
exact description of what commands you type, from when you start <span class="rlang"><b>R</b></span>
until the problem happens.  Always include the version of <span class="rlang"><b>R</b></span>, machine,
and operating system that you are using; type <kbd>version</kbd> in <span class="rlang"><b>R</b></span> to
print this.  To help us keep track of which bugs have been fixed and
which are still open please send a separate report for each bug.
</p>
<p>The most important principle in reporting a bug is to report FACTS,
not hypotheses or categorizations.  It is always easier to report the
facts, but people seem to prefer to strain to posit explanations and
report them instead.  If the explanations are based on guesses about
how <span class="rlang"><b>R</b></span> is implemented, they will be useless; we will have to try to
figure out what the facts must have been to lead to such
speculations.  Sometimes this is impossible.  But in any case, it is
unnecessary work for us.
</p>
<p>For example, suppose that on a data set which you know to be quite
large the command <code>data.frame(x, y, z, monday, tuesday)</code> never
returns.  Do not report that <code>data.frame()</code> fails for large data
sets.  Perhaps it fails when a variable name is a day of the week.  If
this is so then when we got your report we would try out the
<code>data.frame()</code> command on a large data set, probably with no day
of the week variable name, and not see any problem. There is no way in
the world that we could guess that we should try a day of the week
variable name.
</p>
<p>Or perhaps the command fails because the last command you used was a
<code>[</code> method that had a bug causing <span class="rlang"><b>R</b></span>'s internal data structures
to be corrupted and making the <code>data.frame()</code> command fail from
then on.  This is why we need to know what other commands you have
typed (or read from your startup file).
</p>
<p>It is very useful to try and find simple examples that produce
apparently the same bug, and somewhat useful to find simple examples
that might be expected to produce the bug but actually do not.  If you
want to debug the problem and find exactly what caused it, that is
wonderful.  You should still report the facts as well as any
explanations or solutions.
</p>
<p>Invoking <span class="rlang"><b>R</b></span> with the <span class="option">--vanilla</span> option may help in isolating a
bug.  This ensures that the site profile and saved data files are not
read.
</p>
<p>A bug report can be generated using the function <code>bug.report()</code>.
For reports on <span class="rlang"><b>R</b></span> this will open the Web page at
<a href="https://bugs.r-project.org/">https://bugs.r-project.org/</a>: for a contributed package it will
open the package's bug tracker Web page or help you compose an email
to the maintainer.
</p>
<p>Bug reports on <strong>contributed packages</strong> should not be sent to the
R bug tracker: rather make use of the <code>package</code> argument.
</p>


<h3>Author(s)</h3>

<p>This help page is adapted from the Emacs manual and the R FAQ</p>


<h3>See Also</h3>

<p><code><a href="#topic+help.request">help.request</a></code> which you possibly should try
<em>before</em> <code>bug.report</code>.
</p>
<p><code><a href="#topic+create.post">create.post</a></code>, which handles emailing reports.
</p>
<p>The R FAQ, also <code><a href="#topic+sessionInfo">sessionInfo</a>()</code> from which you may add
to the bug report.
</p>

<hr>
<h2 id='capture.output'>Send Output to a Character String or File</h2><span id='topic+capture.output'></span>

<h3>Description</h3>

<p>Evaluates its arguments with the output being returned as a character
string or sent to a file.  Related to <code><a href="base.html#topic+sink">sink</a></code> similarly to how
<code><a href="base.html#topic+with">with</a></code> is related to <code><a href="base.html#topic+attach">attach</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>capture.output(..., file = NULL, append = FALSE,
               type = c("output", "message"), split = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="capture.output_+3A_...">...</code></td>
<td>
<p>Expressions to be evaluated.</p>
</td></tr>
<tr><td><code id="capture.output_+3A_file">file</code></td>
<td>
<p>A file name or a <a href="base.html#topic+connection">connection</a>, or <code>NULL</code> to return
the output as a character vector.  If the connection is not open,
it will be opened initially and closed on exit.</p>
</td></tr>
<tr><td><code id="capture.output_+3A_append">append</code></td>
<td>
<p>logical.  If <code>file</code> a file name or unopened
connection, append or overwrite?</p>
</td></tr>
<tr><td><code id="capture.output_+3A_type">type</code>, <code id="capture.output_+3A_split">split</code></td>
<td>
<p>are passed to <code><a href="base.html#topic+sink">sink</a>()</code>, see there.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It works via <code><a href="base.html#topic+sink">sink</a>(&lt;file connection&gt;)</code> and hence the <span class="rlang"><b>R</b></span> code
in <code>dots</code> must <em>not</em> interfere with the connection (e.g., by
calling <code><a href="base.html#topic+closeAllConnections">closeAllConnections</a>()</code>).
</p>
<p>An attempt is made to write output as far as possible to <code>file</code>
if there is an error in evaluating the expressions, but for
<code>file = NULL</code> all output will be lost.
</p>
<p>Messages sent to <code><a href="base.html#topic+stderr">stderr</a>()</code> (including those from
<code><a href="base.html#topic+message">message</a></code>, <code><a href="base.html#topic+warning">warning</a></code> and <code><a href="base.html#topic+stop">stop</a></code>)
are captured by <code>type = "message"</code>.  Note that this can be
&ldquo;unsafe&rdquo; and should only be used with care.
</p>


<h3>Value</h3>

<p>A character string (if <code>file = NULL</code>), or invisible <code>NULL</code>.
</p>


<h3>See Also</h3>

 <p><code><a href="base.html#topic+sink">sink</a></code>, <code><a href="base.html#topic+textConnection">textConnection</a></code> </p>


<h3>Examples</h3>

<pre><code class='language-R'>require(stats)
glmout &lt;- capture.output(summary(glm(case ~ spontaneous+induced,
                                     data = infert, family = binomial())))
glmout[1:5]
capture.output(1+1, 2+2)
capture.output({1+1; 2+2})

## Not run: ## on Unix-alike with a2ps available
op &lt;- options(useFancyQuotes=FALSE)
pdf &lt;- pipe("a2ps -o - | ps2pdf - tempout.pdf", "w")
capture.output(example(glm), file = pdf)
close(pdf); options(op) ; system("evince tempout.pdf &amp;")

## End(Not run)
</code></pre>

<hr>
<h2 id='changedFiles'>Detect which Files Have Changed</h2><span id='topic+fileSnapshot'></span><span id='topic+changedFiles'></span><span id='topic+print.changedFiles'></span><span id='topic+print.fileSnapshot'></span>

<h3>Description</h3>

<p><code>fileSnapshot</code> takes a snapshot of a selection of files,
recording summary information about each.  <code>changedFiles</code>
compares two snapshots, or compares one snapshot to the current state
of the file system.  The snapshots need not be the same directory;
this could be used to compare two directories.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fileSnapshot(path = ".", file.info = TRUE, timestamp = NULL, 
	    md5sum = FALSE, digest = NULL, full.names = length(path) &gt; 1,
	    ...) 

changedFiles(before, after, path = before$path, timestamp = before$timestamp, 
	    check.file.info = c("size", "isdir", "mode", "mtime"), 
	    md5sum = before$md5sum, digest = before$digest, 
	    full.names = before$full.names, ...)
	    
## S3 method for class 'fileSnapshot'
print(x, verbose = FALSE, ...)

## S3 method for class 'changedFiles'
print(x, verbose = FALSE, ...) 
</code></pre>


<h3>Arguments</h3>

 
<table>
<tr><td><code id="changedFiles_+3A_path">path</code></td>
<td>
<p>character vector; the path(s) to record. </p>
</td></tr>
<tr><td><code id="changedFiles_+3A_file.info">file.info</code></td>
<td>
<p>logical; whether to record <code><a href="base.html#topic+file.info">file.info</a></code>
values for each file.
</p>
</td></tr>  
<tr><td><code id="changedFiles_+3A_timestamp">timestamp</code></td>
<td>
<p>character string or <code>NULL</code>; the name of a file
to write at the time the snapshot is taken.  This gives a quick test
for modification, but may be unreliable; see the Details. </p>
</td></tr>
<tr><td><code id="changedFiles_+3A_md5sum">md5sum</code></td>
<td>
<p>logical; whether MD5 summaries of each file should be
taken as part of the snapshot. </p>
</td></tr>
<tr><td><code id="changedFiles_+3A_digest">digest</code></td>
<td>
<p>a function or <code>NULL</code>; a function with header
<code>function(filename)</code> which will take a vector of filenames and
produce a vector of values of the same length, or a matrix with that
number of rows. </p>
</td></tr>
<tr><td><code id="changedFiles_+3A_full.names">full.names</code></td>
<td>
<p>logical; whether full names (as in
<code><a href="base.html#topic+list.files">list.files</a></code>) should be recorded. Must be <code>TRUE</code> if
<code>length(path) &gt; 1</code>. </p>
</td></tr>
<tr><td><code id="changedFiles_+3A_...">...</code></td>
<td>
<p> additional parameters to pass to
<code><a href="base.html#topic+list.files">list.files</a></code> to control the set of files in the snapshots.
</p>
</td></tr>
<tr><td><code id="changedFiles_+3A_before">before</code>, <code id="changedFiles_+3A_after">after</code></td>
<td>
<p>objects produced by <code>fileSnapshot</code>; two
snapshots to compare.  If <code>after</code> is missing, a new snapshot of
the current file system will be produced for comparison, using
arguments recorded in <code>before</code> as defaults. </p>
</td></tr>
<tr><td><code id="changedFiles_+3A_check.file.info">check.file.info</code></td>
<td>
<p>character vector; which columns from
<code><a href="base.html#topic+file.info">file.info</a></code> should be compared. </p>
</td></tr>
<tr><td><code id="changedFiles_+3A_x">x</code></td>
<td>
<p>the object to print. </p>
</td></tr>
<tr><td><code id="changedFiles_+3A_verbose">verbose</code></td>
<td>
<p>logical; whether to list all data when printing. </p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>fileSnapshot</code> function uses <code><a href="base.html#topic+list.files">list.files</a></code> to
obtain a list of files, and depending on the <code>file.info</code>,
<code>md5sum</code>, and <code>digest</code> arguments, records information about
each file.
</p>
<p>The <code>changedFiles</code> function compares two snapshots. 
</p>
<p>If the <code>timestamp</code> argument to <code>fileSnapshot</code> is length 1, a
file with that name is created. If it is length 1 in
<code>changedFiles</code>, the <code><a href="#topic+file_test">file_test</a></code> function is used to
compare the age of all files common to both <code>before</code> and
<code>after</code> to it.  This test may be unreliable:  it compares the
current modification time of the <code>after</code> files to the timestamp;
that may not be the same as the modification time when the
<code>after</code> snapshot was taken.  It may also give incorrect results
if the clock on the file system holding the timestamp differs from the
one holding the snapshot files.
</p>
<p>If the <code>check.file.info</code> argument contains a non-empty character
vector, the indicated columns from the result of a call to
<code><a href="base.html#topic+file.info">file.info</a></code> will be compared.
</p>
<p>If <code>md5sum</code> is <code>TRUE</code>, <code>fileSnapshot</code> will call the
<code>tools::<a href="tools.html#topic+md5sum">md5sum</a></code> function to record the 32 byte MD5
checksum for each file, and <code>changedFiles</code> will compare the
values.  The <code>digest</code> argument allows users to provide their own
digest function.
</p>


<h3>Value</h3>

<p><code>fileSnapshot</code> returns an object of class <code>"fileSnapshot"</code>.
This is a list containing the fields 
</p>
<table>
<tr><td><code>info</code></td>
<td>
<p>a data frame whose rownames are the filenames, and whose
columns contain the requested snapshot data</p>
</td></tr> 
<tr><td><code>path</code></td>
<td>
<p>the normalized <code>path</code> from the call</p>
</td></tr> 
<tr><td><code>timestamp</code>, <code>file.info</code>, <code>md5sum</code>, <code>digest</code>, <code>full.names</code></td>
<td>
<p>a record of
the other arguments from the call</p>
</td></tr> 
<tr><td><code>args</code></td>
<td>
<p>other arguments passed via <code>...</code> to
<code><a href="base.html#topic+list.files">list.files</a></code>.</p>
</td></tr>
</table>
<p><code>changedFiles</code> produces an object of class <code>"changedFiles"</code>.
This is a list containing
</p>
<table>
<tr><td><code>added</code>, <code>deleted</code>, <code>changed</code>, <code>unchanged</code></td>
<td>
<p>character vectors of
filenames from the before and after snapshots, with obvious meanings</p>
</td></tr>
<tr><td><code>changes</code></td>
<td>
<p>a logical matrix with a row for each common file, and a
column for each comparison test. <code>TRUE</code> indicates a change in
that test.</p>
</td></tr>
</table>
<p><code><a href="base.html#topic+print">print</a></code> methods are defined for each of these types.  The
<code><a href="base.html#topic+print">print</a></code> method for <code>"fileSnapshot"</code> objects
displays the arguments used to produce them, while the one for
<code>"changedFiles"</code> displays the <code>added</code>, <code>deleted</code> and
<code>changed</code> fields if non-empty, and a submatrix of the
<code>changes</code> matrix containing all of the <code>TRUE</code> values.
</p>


<h3>Author(s)</h3>

<p>Duncan Murdoch, using suggestions from Karl Millar and others.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+file.info">file.info</a></code>, <code><a href="#topic+file_test">file_test</a></code>, <code><a href="tools.html#topic+md5sum">md5sum</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create some files in a temporary directory
dir &lt;- tempfile()
dir.create(dir)
writeBin(1L, file.path(dir, "file1"))
writeBin(2L, file.path(dir, "file2"))
dir.create(file.path(dir, "dir"))

# Take a snapshot
snapshot &lt;- fileSnapshot(dir, timestamp = tempfile("timestamp"), md5sum=TRUE)
  
# Change one of the files.
writeBin(3L:4L, file.path(dir, "file2"))

# Display the detected changes.  We may or may not see mtime change...
changedFiles(snapshot)
changedFiles(snapshot)$changes
</code></pre>

<hr>
<h2 id='charClass'>Character Classification</h2><span id='topic+charClass'></span>

<h3>Description</h3>

<p>An interface to the (C99) wide character classification functions in use.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>charClass(x, class)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="charClass_+3A_x">x</code></td>
<td>
<p><strong>Either</strong> a UTF-8-encoded length-1 character vector
<strong>or</strong> an integer vector of Unicode points (or a vector
coercible to integer).</p>
</td></tr>
<tr><td><code id="charClass_+3A_class">class</code></td>
<td>
<p>A character string, one of those given in the
&lsquo;Details&rsquo; section.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The classification into character classes is platform-dependent.  The
classes are determined by internal tables on Windows and (optionally
but by default) on macOS and AIX.
</p>
<p>The character classes are interpreted as follows:
</p>

<dl>
<dt><code>"alnum"</code></dt><dd><p>Alphabetic or numeric.</p>
</dd>
<dt><code>"alpha"</code></dt><dd><p>Alphabetic.</p>
</dd>
<dt><code>"blank"</code></dt><dd><p>Space or tab.</p>
</dd>
<dt><code>"cntrl"</code></dt><dd><p>Control characters.</p>
</dd>
<dt><code>"digit"</code></dt><dd><p>Digits <code>0-9</code>.</p>
</dd>
<dt><code>"graph"</code></dt><dd><p>Graphical characters (printable characters
except whitespace).</p>
</dd>
<dt><code>"lower"</code></dt><dd><p>Lower-case alphabetic.</p>
</dd>
<dt><code>"print"</code></dt><dd><p>Printable characters.</p>
</dd>
<dt><code>"punct"</code></dt><dd><p>Punctuation characters.  Some platforms treat all
non-alphanumeric graphical characters as punctuation.</p>
</dd>
<dt><code>"space"</code></dt><dd><p>Whitespace, including tabs, form and line
feeds and carriage returns.  Some OSes include non-breaking
spaces, some exclude them.</p>
</dd>
<dt><code>"upper"</code></dt><dd><p>Upper-case alphabetic.</p>
</dd>
<dt><code>"xdigit"</code></dt><dd><p>Hexadecimal character, one of <code>0-9A-fa-f</code>.</p>
</dd>
</dl>

<p>Alphabetic characters contain all lower- and upper-case ones and some
others (for example, those in &lsquo;title case&rsquo;).
</p>
<p>Whether a character is printable is used to decide whether to escape
it when printing &ndash; see the help for <code><a href="base.html#topic+print.default">print.default</a></code>.
</p>
<p>If <code>x</code> is a character string it should either be ASCII or declared
as UTF-8 &ndash; see <code><a href="base.html#topic+Encoding">Encoding</a></code>.
</p>
<p><code>charClass</code> was added in <span class="rlang"><b>R</b></span> 4.1.0.  A less direct way to examine
character classes which also worked in earlier versions is to use
something like <code>grepl("[[:print:]]", intToUtf8(x))</code> &ndash; however,
the regular-expression code might not use the same classification
functions as printing and on macOS used not to.
</p>


<h3>Value</h3>

<p>A logical vector of the length the number of characters or integers in
<code>x</code>.
</p>


<h3>Note</h3>

<p>Non-ASCII digits are excluded by the C99 standard from the class
<code>"digit"</code>: most platforms will have them as alphabetic.
</p>
<p>It is an assumption that the system's wide character classification
functions are coded in Unicode points, but this is known to be true
for all recent platforms.
</p>
<p>The classification may depend on the locale even on one platform.
</p>


<h3>See Also</h3>

<p>Character classes are used in <a href="base.html#topic+regular+20expression">regular expression</a>s.
</p>
<p>The OS's <code>man</code> pages for <code>iswctype</code> and <code>wctype</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- c(48:70, 32, 0xa0) # Last is non-breaking space
cl &lt;- c("alnum", "alpha", "blank", "digit", "graph", "punct", "upper", "xdigit")
X &lt;- lapply(cl, function(y) charClass(x,y)); names(X) &lt;- cl
X &lt;- as.data.frame(X); row.names(X) &lt;- sQuote(intToUtf8(x, multiple = TRUE))
X

charClass("ABC123", "alpha")
## Some accented capital Greek characters
(x &lt;- "\u0386\u0388\u0389")
charClass(x, "upper")

## How many printable characters are there? (Around 280,000 in Unicode 13.)
## There are 2^21-1 possible Unicode points (most not yet assigned).
pr &lt;- charClass(1:0x1fffff, "print") 
table(pr)
</code></pre>

<hr>
<h2 id='choose.dir'>Choose a Folder Interactively on MS Windows</h2><span id='topic+choose.dir'></span>

<h3>Description</h3>

<p>Use a Windows shell folder widget to choose a folder interactively.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>choose.dir(default = "", caption = "Select folder")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="choose.dir_+3A_default">default</code></td>
<td>
<p>which folder to show initially.</p>
</td></tr>
<tr><td><code id="choose.dir_+3A_caption">caption</code></td>
<td>
<p>the caption on the selection dialog.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This brings up   the Windows shell folder selection widget.  With the
default <code>default = ""</code>, &lsquo;My Computer&rsquo; (or similar) is
initially selected.
</p>
<p>To workaround a bug, on Vista and later only folders under
&lsquo;Computer&rsquo; are accessible via the widget.
</p>


<h3>Value</h3>

<p>A length-one character vector, character <code>NA</code> if
&lsquo;Cancel&rsquo; was selected.
</p>


<h3>Note</h3>

<p>This is only available on Windows.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+choose.files">choose.files</a></code> (on Windows) and <code><a href="base.html#topic+file.choose">file.choose</a></code>
(on all platforms).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  if (interactive() &amp;&amp; .Platform$OS.type == "windows")
        choose.dir(getwd(), "Choose a suitable folder")
</code></pre>

<hr>
<h2 id='choose.files'>Choose a List of Files Interactively on MS Windows</h2><span id='topic+choose.files'></span><span id='topic+Filters'></span>

<h3>Description</h3>

<p>Use a Windows file dialog to choose a list of zero or more files
interactively.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>choose.files(default = "", caption = "Select files",
             multi = TRUE, filters = Filters,
             index = nrow(Filters))

Filters
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="choose.files_+3A_default">default</code></td>
<td>
<p>which filename to show initially</p>
</td></tr>
<tr><td><code id="choose.files_+3A_caption">caption</code></td>
<td>
<p>the caption on the file selection dialog</p>
</td></tr>
<tr><td><code id="choose.files_+3A_multi">multi</code></td>
<td>
<p>whether to allow multiple files to be selected</p>
</td></tr>
<tr><td><code id="choose.files_+3A_filters">filters</code></td>
<td>
<p>a matrix of filename filters (see Details)</p>
</td></tr>
<tr><td><code id="choose.files_+3A_index">index</code></td>
<td>
<p>which row of filters to use by default</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Unlike <code><a href="base.html#topic+file.choose">file.choose</a></code>, <code>choose.files</code> will always
attempt to return a character vector giving a list of files.  If the
user cancels the dialog, then zero files are returned, whereas
<code><a href="base.html#topic+file.choose">file.choose</a></code> would signal an error.  <code>choose.dir</code>
chooses a directory.
</p>
<p>Windows file dialog boxes include a list of &lsquo;filters&rsquo;, which allow
the file selection to be limited to files of specific types.
The <code>filters</code> argument to <code>choose.files</code> allows the list
of filters to be set.  It should be an <code>n</code> by <code>2</code> character
matrix.  The first column gives, for each filter, the description the
user will see, while the second column gives the mask(s) to select
those files.  If more than one mask is used, separate them by
semicolons, with no spaces.  The <code>index</code> argument chooses which
filter will be used initially.
</p>
<p><code>Filters</code> is a matrix giving the descriptions and masks for
the file types that <span class="rlang"><b>R</b></span> knows about.  Print it to see typical formats
for filter specifications.  The examples below show how particular
filters may be selected.
</p>
<p>If you would like to display files in a particular directory,
give a fully qualified file mask (e.g., <code>"c:\\*.*"</code>)
in the <code>default</code> argument.  If a directory is not given, the
dialog will start in the current directory the first time, and
remember the last directory used on subsequent invocations.
</p>
<p>There is a buffer limit on the total length of the selected filenames:
it is large but this function is not intended to select thousands of
files, when the limit might be reached.
</p>


<h3>Value</h3>

<p>A character vector giving zero or more file paths.
</p>


<h3>Note</h3>

<p>This is only available on Windows.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+file.choose">file.choose</a></code>, <code><a href="#topic+choose.dir">choose.dir</a></code>.
</p>
<p><code><a href="base.html#topic+Sys.glob">Sys.glob</a></code> or <code><a href="base.html#topic+list.files">list.files</a></code> to select multiple
files by pattern.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  if (interactive() &amp;&amp; .Platform$OS.type == "windows")
       choose.files(filters = Filters[c("zip", "All"),])
</code></pre>

<hr>
<h2 id='chooseBioCmirror'>Select a Bioconductor Mirror</h2><span id='topic+chooseBioCmirror'></span><span id='topic+getBioCmirrors'></span>

<h3>Description</h3>

<p>Interact with the user to choose a Bioconductor mirror.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>chooseBioCmirror(graphics = getOption("menu.graphics"), ind = NULL,
                 local.only = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="chooseBioCmirror_+3A_graphics">graphics</code></td>
<td>
<p>Logical.  If true, use a graphical list: on Windows or
the macOS GUI use a list box, and on a Unix-alike use a Tk widget if
package <span class="pkg">tcltk</span> and an X server are available.  Otherwise use a
text <code><a href="#topic+menu">menu</a></code>.</p>
</td></tr>
<tr><td><code id="chooseBioCmirror_+3A_ind">ind</code></td>
<td>
<p>Optional numeric value giving which entry to select.</p>
</td></tr>
<tr><td><code id="chooseBioCmirror_+3A_local.only">local.only</code></td>
<td>
<p>Logical, try to get most recent list from the
Bioconductor master or use file on local disk only.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This sets the <a href="base.html#topic+option">option</a> <code>"BioC_mirror"</code>: it is used
before a call to <code><a href="#topic+setRepositories">setRepositories</a></code>.  The out-of-the-box
default for that option is <code>NULL</code>, which currently corresponds to
the mirror <a href="https://bioconductor.org">https://bioconductor.org</a>.
</p>
<p>The &lsquo;Bioconductor (World-wide)&rsquo; &lsquo;mirror&rsquo; is a network of
mirrors providing reliable world-wide access; other mirrors may
provide faster access on a geographically local scale.
</p>
<p><code>ind</code> chooses a row in
&lsquo;<span class="file"><var><a href="base.html#topic+R_HOME">R_HOME</a></var>/doc/BioC_mirrors.csv</span>&rsquo;,
by number.
</p>


<h3>Value</h3>

<p>None: this function is invoked for its
side effect of updating <code>options("BioC_mirror")</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+setRepositories">setRepositories</a></code>, <code><a href="#topic+chooseCRANmirror">chooseCRANmirror</a></code>.
</p>

<hr>
<h2 id='chooseCRANmirror'>Select a CRAN Mirror</h2><span id='topic+chooseCRANmirror'></span><span id='topic+getCRANmirrors'></span>

<h3>Description</h3>

<p>Interact with the user to choose a CRAN mirror.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>chooseCRANmirror(graphics = getOption("menu.graphics"), ind = NULL,
                 local.only = FALSE)

getCRANmirrors(all = FALSE, local.only = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="chooseCRANmirror_+3A_graphics">graphics</code></td>
<td>
<p>Logical.  If true, use a graphical list: on Windows or
the macOS GUI use a list box, and on a Unix-alike  use a Tk widget if
package <span class="pkg">tcltk</span> and an X server are available.  Otherwise use a
text <code><a href="#topic+menu">menu</a></code>.</p>
</td></tr>
<tr><td><code id="chooseCRANmirror_+3A_ind">ind</code></td>
<td>
<p>Optional numeric value giving which entry to select.</p>
</td></tr>
<tr><td><code id="chooseCRANmirror_+3A_all">all</code></td>
<td>
<p>Logical, get all known mirrors or only the ones flagged as OK.</p>
</td></tr>
<tr><td><code id="chooseCRANmirror_+3A_local.only">local.only</code></td>
<td>
<p>Logical, try to get most recent list from the CRAN
master or use file on local disk only.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A list of mirrors is stored in file
&lsquo;<span class="file"><var><a href="base.html#topic+R_HOME">R_HOME</a></var>/doc/CRAN_mirrors.csv</span>&rsquo;, but first an on-line
list of current mirrors is consulted, and the file copy used only if
the on-line list is inaccessible.
</p>
<p><code>chooseCRANmirror</code> is called by a Windows GUI menu item and by
<code><a href="#topic+contrib.url">contrib.url</a></code> if it finds the initial dummy value of
<code><a href="base.html#topic+options">options</a>("repos")</code>.
</p>
<p><abbr>HTTPS</abbr> mirrors with mirroring over <code>ssh</code> will be offered in
preference to other mirrors (which are listed in a sub-menu).
</p>
<p><code>ind</code> chooses a row in the list of current mirrors, by number. It
is best used with <code>local.only = TRUE</code> and row numbers in
&lsquo;<span class="file"><var><a href="base.html#topic+R_HOME">R_HOME</a></var>/doc/CRAN_mirrors.csv</span>&rsquo;.
</p>


<h3>Value</h3>

<p>None for <code>chooseCRANmirror()</code>, this function is invoked for its
side effect of updating <code>options("repos")</code>.
</p>
<p><code>getCRANmirrors()</code> returns a data frame with mirror information.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+setRepositories">setRepositories</a></code>, <code><a href="#topic+findCRANmirror">findCRANmirror</a></code>,
<code><a href="#topic+chooseBioCmirror">chooseBioCmirror</a></code>,
<code><a href="#topic+contrib.url">contrib.url</a></code>.
</p>

<hr>
<h2 id='citation'>Citing R and R Packages in Publications</h2><span id='topic+CITATION'></span><span id='topic+citation'></span><span id='topic+readCitationFile'></span><span id='topic+citHeader'></span><span id='topic+citFooter'></span>

<h3>Description</h3>

<p>How to cite <span class="rlang"><b>R</b></span> and <span class="rlang"><b>R</b></span> packages in publications.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>citation(package = "base", lib.loc = NULL, auto = NULL)

readCitationFile(file, meta = NULL)
citHeader(...)
citFooter(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="citation_+3A_package">package</code></td>
<td>
<p>a character string with the name of a single package.
An error occurs if more than one package name is given.</p>
</td></tr>
<tr><td><code id="citation_+3A_lib.loc">lib.loc</code></td>
<td>
<p>a character vector with path names of <span class="rlang"><b>R</b></span> libraries, or
the directory containing the source for <code>package</code>, or
<code>NULL</code>.  The default value of <code>NULL</code> corresponds to all
libraries currently known.  If the default is used, the loaded
packages are searched before the libraries.</p>
</td></tr>
<tr><td><code id="citation_+3A_auto">auto</code></td>
<td>
<p>a logical indicating whether the default citation
auto-generated from the package &lsquo;<span class="file">DESCRIPTION</span>&rsquo; metadata should
be used or not, or <code>NULL</code> (default), indicating that a
&lsquo;<span class="file">CITATION</span>&rsquo; file is used if it exists, or an object of class
<code>"<a href="#topic+packageDescription">packageDescription</a>"</code> with package metadata (see
below).</p>
</td></tr>
<tr><td><code id="citation_+3A_file">file</code></td>
<td>
<p>a file name.</p>
</td></tr>
<tr><td><code id="citation_+3A_meta">meta</code></td>
<td>
<p>a list of package metadata as obtained by
<code><a href="#topic+packageDescription">packageDescription</a></code>, or <code>NULL</code> (the default).</p>
</td></tr>
<tr><td><code id="citation_+3A_...">...</code></td>
<td>
<p>character strings (which will be <code><a href="base.html#topic+paste">paste</a></code>d).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <span class="rlang"><b>R</b></span> core development team and the very active community of package
authors have invested a lot of time and effort in creating <span class="rlang"><b>R</b></span> as it is
today.  Please give credit where credit is due and cite <span class="rlang"><b>R</b></span> and <span class="rlang"><b>R</b></span>
packages when you use them for data analysis.
</p>
<p>Execute function <code>citation()</code> for information on how to cite the
base R system in publications.  If the name of a non-base package is
given, the function either returns the information contained in the
&lsquo;<span class="file">CITATION</span>&rsquo; file of the package (using <code>readCitationFile</code>
with <code>meta</code> equal to <code>packageDescription(package, lib.loc)</code>)
or auto-generates citation information from the &lsquo;<span class="file">DESCRIPTION</span>&rsquo;
file.
</p>
<p>Packages can use an &lsquo;<span class="samp">&#8288;Authors@R&#8288;</span>&rsquo; field in their
&lsquo;<span class="file">DESCRIPTION</span>&rsquo; to provide (<span class="rlang"><b>R</b></span> code giving) a
<code><a href="#topic+person">person</a></code> object with a refined, machine-readable
description of the package &ldquo;authors&rdquo; (in particular specifying
their precise roles).  Only those with an author role will be
included in the auto-generated citation.
</p>
<p>If the object returned by <code>citation()</code> contains only one reference,
the associated print method shows both a text version and a BibTeX
entry for it. If a package has more than one reference then only the
text versions are shown. This threshold is controlled by
<code><a href="base.html#topic+options">options</a>("citation.bibtex.max")</code>.
The BibTeX versions can also be obtained using
function <code>toBibtex()</code> (see the examples below).
</p>
<p>The &lsquo;<span class="file">CITATION</span>&rsquo; file of an R package should be placed in the
&lsquo;<span class="file">inst</span>&rsquo; subdirectory of the package source.  The file is an R
source file and may contain arbitrary R commands including
conditionals and computations.  Function <code>readCitationFile()</code> is
used by <code>citation()</code> to extract the information in
&lsquo;<span class="file">CITATION</span>&rsquo; files.  The file is <code>source()</code>ed by the R
parser in a temporary environment and all resulting bibliographic
objects (specifically, inheriting from <code>"<a href="#topic+bibentry">bibentry</a>"</code>) are
collected.
These are typically produced by one or more <code><a href="#topic+bibentry">bibentry</a>()</code>
calls, optionally preceded by a <code>citHeader()</code> and followed
by a <code>citFooter()</code> call.
One can include an auto-generated package citation in the
&lsquo;<span class="file">CITATION</span>&rsquo; file via <code>citation(auto = meta)</code>.
</p>
<p><code>readCitationFile</code> makes use of the <code>Encoding</code> element (if
any) of <code>meta</code> to determine the encoding of the file.
</p>


<h3>Value</h3>

<p>An object of class <code>"citation"</code>, inheriting from class
<code>"<a href="#topic+bibentry">bibentry</a>"</code>; see there, notably for the
<code><a href="base.html#topic+print">print</a></code> and <code><a href="base.html#topic+format">format</a></code> methods.
</p>
<p><code>citHeader</code> and <code>citFooter</code> return an empty
<code>"<a href="#topic+bibentry">bibentry</a>"</code> storing &ldquo;outer&rdquo; header/footer text
for the package citation.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bibentry">bibentry</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## the basic R reference
citation()

## extract the BibTeX entry from the return value
x &lt;- citation()
toBibtex(x)

## references for a package
citation("lattice")
citation("lattice", auto = TRUE)  # request the Manual-type reference
citation("foreign")

## a CITATION file with more than one bibentry:
file.show(system.file("CITATION", package="mgcv"))
cm &lt;- citation("mgcv")
cm # header, text references, plus "reminder" about getting BibTeX
print(cm, bibtex = TRUE) # each showing its bibtex code

## a CITATION file including citation(auto = meta)
file.show(system.file("CITATION", package="nlme"))
citation("nlme")

</code></pre>

<hr>
<h2 id='cite'>Cite a Bibliography Entry</h2><span id='topic+cite'></span><span id='topic+citeNatbib'></span>

<h3>Description</h3>

<p>Cite a <code>bibentry</code> object in text.  The <code>cite()</code> function
uses the <code>cite()</code> function from the default
<code><a href="tools.html#topic+bibstyle">bibstyle</a></code> if present, or <code>citeNatbib()</code> if not.
<code>citeNatbib()</code> uses a style similar to that used by the LaTeX
package <span class="pkg">natbib</span>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cite(keys, bib, ...)
citeNatbib(keys, bib, textual = FALSE, before = NULL, after = NULL,
           mode = c("authoryear", "numbers", "super"),
           abbreviate = TRUE, longnamesfirst = TRUE,
           bibpunct = c("(", ")", ";", "a", "", ","), previous)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cite_+3A_keys">keys</code></td>
<td>

<p>A character vector of keys of entries to cite.  May contain multiple keys in
a single entry, separated by commas.
</p>
</td></tr>
<tr><td><code id="cite_+3A_bib">bib</code></td>
<td>

<p>A <code>"<a href="#topic+bibentry">bibentry</a>"</code> object containing the list of documents in which
to find the keys.
</p>
</td></tr>
<tr><td><code id="cite_+3A_...">...</code></td>
<td>

<p>Additional arguments to pass to the <code>cite()</code> function for the
default style.
</p>
</td></tr>
<tr><td><code id="cite_+3A_textual">textual</code></td>
<td>

<p>Produce a &ldquo;textual&rdquo; style of citation, i.e. what &lsquo;<span class="samp">&#8288;\citet&#8288;</span>&rsquo; would
produce in LaTeX.
</p>
</td></tr>
<tr><td><code id="cite_+3A_before">before</code></td>
<td>

<p>Optional text to display before the citation.
</p>
</td></tr>
<tr><td><code id="cite_+3A_after">after</code></td>
<td>

<p>Optional text to display after the citation.
</p>
</td></tr>
<tr><td><code id="cite_+3A_mode">mode</code></td>
<td>

<p>The &ldquo;mode&rdquo; of citation.
</p>
</td></tr>
<tr><td><code id="cite_+3A_abbreviate">abbreviate</code></td>
<td>

<p>Whether to abbreviate long author lists.
</p>
</td></tr>
<tr><td><code id="cite_+3A_longnamesfirst">longnamesfirst</code></td>
<td>

<p>If <code>abbreviate == TRUE</code>, whether to leave the first citation long.
</p>
</td></tr>
<tr><td><code id="cite_+3A_bibpunct">bibpunct</code></td>
<td>

<p>A vector of punctuation to use in the citation, as used in <span class="pkg">natbib</span>.  See
the Details section.
</p>
</td></tr>
<tr><td><code id="cite_+3A_previous">previous</code></td>
<td>

<p>A list of keys that have been previously cited, to be used when
<code>abbreviate == TRUE</code> and <code>longnamesfirst == TRUE</code>
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Argument names are chosen based on the documentation for the LaTeX <span class="pkg">natbib</span>
package.  See that documentation for the interpretation of the
<code>bibpunct</code> entries.
</p>
<p>The entries in <code>bibpunct</code> are as follows:
</p>

<ol>
<li><p> The left delimiter.
</p>
</li>
<li><p> The right delimiter.
</p>
</li>
<li><p> The separator between references within a citation.
</p>
</li>
<li><p> An indicator of the &ldquo;mode&rdquo;:  <code>"n"</code> for numbers,
<code>"s"</code> for superscripts, anything else for author-year.
</p>
</li>
<li><p> Punctuation to go between the author and year.
</p>
</li>
<li><p> Punctuation to go between years when authorship is suppressed.
</p>
</li></ol>

<p>Note that if <code>mode</code> is specified, it overrides the
mode specification in <code>bibpunct[4]</code>.  Partial matching is used for
<code>mode</code>.
</p>
<p>The defaults for <code>citeNatbib</code> have been chosen to match the <abbr>JSS</abbr> style, and
by default these are used in <code>cite</code>.  See <code><a href="tools.html#topic+bibstyle">bibstyle</a></code>
for how to set a different default style.
</p>


<h3>Value</h3>

<p>A single element character string is returned, containing the citation.
</p>


<h3>Author(s)</h3>

<p>Duncan Murdoch
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## R reference
rref &lt;- bibentry(
   bibtype = "Manual",
   title = "R: A Language and Environment for Statistical Computing",
   author = person("R Core Team"),
   organization = "R Foundation for Statistical Computing",
   address = "Vienna, Austria",
   year = 2013,
   url = "https://www.R-project.org/",
   key = "R")

## References for boot package and associated book
bref &lt;- c(
   bibentry(
     bibtype = "Manual",
     title = "boot: Bootstrap R (S-PLUS) Functions",
     author = c(
       person("Angelo", "Canty", role = "aut",
         comment = "S original"),
       person(c("Brian", "D."), "Ripley", role = c("aut", "trl", "cre"),
         comment = "R port, author of parallel support",
         email = "ripley@stats.ox.ac.uk")
     ),
     year = "2012",
     note = "R package version 1.3-4",
     url = "https://CRAN.R-project.org/package=boot",
     key = "boot-package"
   ),

   bibentry(
     bibtype = "Book",
     title = "Bootstrap Methods and Their Applications",
     author = as.person("Anthony C. Davison [aut], David V. Hinkley [aut]"),
     year = "1997",
     publisher = "Cambridge University Press",
     address = "Cambridge",
     isbn = "0-521-57391-2",
     url = "http://statwww.epfl.ch/davison/BMA/",
     key = "boot-book"
   )
)

## Combine and cite
refs &lt;- c(rref, bref)
cite("R, boot-package", refs)

## Cite numerically
savestyle &lt;- tools::getBibstyle()
tools::bibstyle("JSSnumbered", .init = TRUE,
         fmtPrefix = function(paper) paste0("[", paper$.index, "]"),
         cite = function(key, bib, ...)
         	citeNatbib(key, bib, mode = "numbers",
         	    bibpunct = c("[", "]", ";", "n", "", ","), ...)
         )
cite("R, boot-package", refs, textual = TRUE)
refs

## restore the old style
tools::bibstyle(savestyle, .default = TRUE)
</code></pre>

<hr>
<h2 id='citEntry'>Bibliography Entries (Older Interface)</h2><span id='topic+citEntry'></span>

<h3>Description</h3>

<p>Old interface providing functionality for specifying bibliographic 
information in enhanced BibTeX style.  Since R 2.14.0 this has been 
superseded by <code><a href="#topic+bibentry">bibentry</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>citEntry(entry, textVersion = NULL, header = NULL, footer = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="citEntry_+3A_entry">entry</code></td>
<td>
<p>a character string with a BibTeX entry type.
See section <b>Entry Types</b> in <code><a href="#topic+bibentry">bibentry</a></code> for
details.
</p>
</td></tr>
<tr><td><code id="citEntry_+3A_textversion">textVersion</code></td>
<td>
<p>a character string with a text representation of
the reference to optionally be employed for printing.</p>
</td></tr>
<tr><td><code id="citEntry_+3A_header">header</code></td>
<td>
<p>a character string with optional header text.</p>
</td></tr>
<tr><td><code id="citEntry_+3A_footer">footer</code></td>
<td>
<p>a character string with optional footer text.</p>
</td></tr>
<tr><td><code id="citEntry_+3A_...">...</code></td>
<td>
<p>for <code>citEntry</code>, arguments of the form
<code><var>tag</var>=<var>value</var></code> giving the fields of the entry, with
<var>tag</var> and <var>value</var> the name and value of the field,
respectively.
See section <b>Entry Fields</b> in <code><a href="#topic+bibentry">bibentry</a></code> for
details.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>citEntry</code> produces an object of class <code>"bibentry"</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+citation">citation</a></code> for more information about citing R and R
packages and &lsquo;<span class="file">CITATION</span>&rsquo; files;
<code><a href="#topic+bibentry">bibentry</a></code> for the newer functionality for representing
and manipulating bibliographic information.
</p>

<hr>
<h2 id='clipboard'>Read/Write to/from the Clipboard in MS Windows</h2><span id='topic+getClipboardFormats'></span><span id='topic+readClipboard'></span><span id='topic+writeClipboard'></span><span id='topic+clipboard'></span>

<h3>Description</h3>

<p>Transfer text between a character vector and the Windows clipboard in
MS Windows (only).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getClipboardFormats(numeric = FALSE)
readClipboard(format = 13, raw = FALSE)
writeClipboard(str, format = 13)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="clipboard_+3A_numeric">numeric</code></td>
<td>
<p>logical: should the result be in human-readable form
(the default) or raw numbers?</p>
</td></tr>
<tr><td><code id="clipboard_+3A_format">format</code></td>
<td>
<p>an integer giving the desired format.</p>
</td></tr>
<tr><td><code id="clipboard_+3A_raw">raw</code></td>
<td>
<p>should the value be returned as a raw vector rather than
as a character vector?</p>
</td></tr>
<tr><td><code id="clipboard_+3A_str">str</code></td>
<td>
<p>a character vector or a raw vector.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The Windows clipboard offers data in a number of formats: see
e.g. <a href="https://docs.microsoft.com/en-gb/windows/desktop/dataxchg/clipboard-formats">https://docs.microsoft.com/en-gb/windows/desktop/dataxchg/clipboard-formats</a>.
</p>
<p>The standard formats include
</p>

<table>
<tr>
 <td style="text-align: left;">
  CF_TEXT         </td><td style="text-align: right;">   1  </td><td style="text-align: left;"> Text in the machine's locale</td>
</tr>
<tr>
 <td style="text-align: left;">
  CF_BITMAP       </td><td style="text-align: right;">   2  </td><td style="text-align: left;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
  CF_METAFILEPICT </td><td style="text-align: right;">  3  </td><td style="text-align: left;"> Metafile picture</td>
</tr>
<tr>
 <td style="text-align: left;">
  CF_SYLK         </td><td style="text-align: right;">   4  </td><td style="text-align: left;"> Symbolic link</td>
</tr>
<tr>
 <td style="text-align: left;">
  CF_DIF          </td><td style="text-align: right;">   5  </td><td style="text-align: left;"> Data Interchange Format</td>
</tr>
<tr>
 <td style="text-align: left;">
  CF_TIFF         </td><td style="text-align: right;">   6  </td><td style="text-align: left;"> Tagged-Image File Format</td>
</tr>
<tr>
 <td style="text-align: left;">
  CF_OEMTEXT      </td><td style="text-align: right;">   7  </td><td style="text-align: left;"> Text in the <abbr>OEM</abbr> codepage</td>
</tr>
<tr>
 <td style="text-align: left;">
  CF_DIB          </td><td style="text-align: right;">   8  </td><td style="text-align: left;"> Device-Independent Bitmap</td>
</tr>
<tr>
 <td style="text-align: left;">
  CF_PALETTE      </td><td style="text-align: right;">   9  </td><td style="text-align: left;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
  CF_PENDATA      </td><td style="text-align: right;">   10 </td><td style="text-align: left;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
  CF_RIFF         </td><td style="text-align: right;">   11 </td><td style="text-align: left;"> Audio data</td>
</tr>
<tr>
 <td style="text-align: left;">
  CF_WAVE         </td><td style="text-align: right;">   12 </td><td style="text-align: left;"> Audio data</td>
</tr>
<tr>
 <td style="text-align: left;">
  CF_UNICODETEXT  </td><td style="text-align: right;">   13 </td><td style="text-align: left;"> Text in Unicode (UCS-2)</td>
</tr>
<tr>
 <td style="text-align: left;">
  CF_ENHMETAFILE  </td><td style="text-align: right;">   14 </td><td style="text-align: left;"> Enhanced metafile</td>
</tr>
<tr>
 <td style="text-align: left;">
  CF_HDROP        </td><td style="text-align: right;">   15 </td><td style="text-align: left;"> Drag-and-drop data</td>
</tr>
<tr>
 <td style="text-align: left;">
  CF_LOCALE       </td><td style="text-align: right;">   16 </td><td style="text-align: left;"> Locale for the text on the clipboard</td>
</tr>
<tr>
 <td style="text-align: left;">
  CF_MAX          </td><td style="text-align: right;">   17 </td><td style="text-align: left;"> Shell-oriented formats</td>
</tr>
<tr>
 <td style="text-align: left;">
  </td>
</tr>

</table>

<p>Applications normally make data available in one or more of these and
possibly additional private formats.  Use <code>raw = TRUE</code> to read binary
formats, <code>raw = FALSE</code> (the default) for text formats.  The
current codepage is used to convert text to Unicode text, and
information on that is contained in the <code>CF_LOCALE</code> format.
(Take care if you are running R in a different locale from Windows. It is
recommended to read as Unicode text, so that Windows does the conversion
based on <code>CF_LOCALE</code>, if available.) 
</p>
<p>The <code>writeClipboard</code> function will write a character vector as
text or Unicode text with standard <abbr>CRLF</abbr> line terminators.  It will
copy a raw vector directly to the clipboard without any changes. It is
recommended to use Unicode text (the default) instead of text to avoid interoperability
problems. (Note that <span class="rlang"><b>R</b></span> 4.2 and newer on recent systems uses UTF-8 as the
native encoding but the machine's locale uses a different encoding.)
</p>


<h3>Value</h3>

<p>For <code>getClipboardFormats</code>, a character or integer vector of
available formats, in numeric order.  If non human-readable character
representation is known, the number is returned.
</p>
<p>For <code>readClipboard</code>, a character vector by default, a raw vector
if <code>raw</code> is <code>TRUE</code>, or <code>NULL</code>, if the format is
unavailable.
</p>
<p>For <code>writeClipboard</code> an invisible logical indicating success or
failure.
</p>


<h3>Note</h3>

<p>This is only available on Windows.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+file">file</a></code> which can be used to set up a connection to a clipboard.
</p>

<hr>
<h2 id='close.socket'>Close a Socket</h2><span id='topic+close.socket'></span>

<h3>Description</h3>

<p>Closes the socket and frees the space in the file descriptor table.  The
port may not be freed immediately.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>close.socket(socket, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="close.socket_+3A_socket">socket</code></td>
<td>
<p>a <code>socket</code> object</p>
</td></tr>
<tr><td><code id="close.socket_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>logical indicating success or failure
</p>


<h3>Author(s)</h3>

<p>Thomas Lumley</p>


<h3>See Also</h3>

<p><code><a href="#topic+make.socket">make.socket</a></code>, <code><a href="#topic+read.socket">read.socket</a></code>
</p>
<p>Compiling in support for sockets was optional prior to <span class="rlang"><b>R</b></span> 3.3.0: see
<code><a href="base.html#topic+capabilities">capabilities</a>("sockets")</code> to see if it is available.
</p>

<hr>
<h2 id='combn'>Generate All Combinations of n Elements, Taken m at a Time</h2><span id='topic+combn'></span>

<h3>Description</h3>

<p>Generate all combinations of the elements of <code>x</code> taken <code>m</code>
at a time.  If <code>x</code> is a positive integer, returns all
combinations of the elements of <code>seq(x)</code> taken <code>m</code> at a
time.  If argument <code>FUN</code> is not <code>NULL</code>, applies a function given
by the argument to each point.  If simplify is FALSE,  returns
a list; otherwise returns an <code><a href="base.html#topic+array">array</a></code>, typically a
<code><a href="base.html#topic+matrix">matrix</a></code>.  <code>...</code> are passed unchanged to the
<code>FUN</code> function, if specified.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>combn(x, m, FUN = NULL, simplify = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="combn_+3A_x">x</code></td>
<td>
<p>vector source for combinations, or integer <code>n</code> for
<code>x &lt;- <a href="base.html#topic+seq_len">seq_len</a>(n)</code>.</p>
</td></tr>
<tr><td><code id="combn_+3A_m">m</code></td>
<td>
<p>number of elements to choose.</p>
</td></tr>
<tr><td><code id="combn_+3A_fun">FUN</code></td>
<td>
<p>function to be applied to each combination; default
<code>NULL</code> means the identity, i.e., to return the combination
(vector of length <code>m</code>).</p>
</td></tr>
<tr><td><code id="combn_+3A_simplify">simplify</code></td>
<td>
<p>logical indicating if the result should be simplified
to an <code><a href="base.html#topic+array">array</a></code> (typically a <code><a href="base.html#topic+matrix">matrix</a></code>); if
FALSE, the function returns a <code><a href="base.html#topic+list">list</a></code>.  Note that when
<code>simplify = TRUE</code> as by default, the dimension of the result is
simply determined from <code>FUN(<var>1st combination</var>)</code> (for
efficiency reasons).  This will badly fail if <code>FUN(u)</code> is not of
constant length.</p>
</td></tr>
<tr><td><code id="combn_+3A_...">...</code></td>
<td>
<p>optionally, further arguments to <code>FUN</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Factors <code>x</code> are accepted.
</p>


<h3>Value</h3>

<p>A <code><a href="base.html#topic+list">list</a></code> or <code><a href="base.html#topic+array">array</a></code>, see the <code>simplify</code>
argument above.  In the latter case, the identity
<code>dim(combn(n, m)) == c(m, choose(n, m))</code> holds.
</p>


<h3>Author(s)</h3>

<p>Scott Chasalow wrote the original in 1994 for S;
R package <a href="https://CRAN.R-project.org/package=combinat"><span class="pkg">combinat</span></a> and documentation by Vince Carey
<a href="mailto:stvjc@channing.harvard.edu">stvjc@channing.harvard.edu</a>;
small changes by the R core team, notably to return an array in all
cases of <code>simplify = TRUE</code>, e.g., for <code>combn(5,5)</code>.
</p>


<h3>References</h3>

<p>Nijenhuis, A. and Wilf, H.S. (1978)
<em>Combinatorial Algorithms for Computers and Calculators</em>;
Academic Press, NY.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+choose">choose</a></code> for fast computation of the <em>number</em> of
combinations. <code><a href="base.html#topic+expand.grid">expand.grid</a></code> for creating a data frame from
all combinations of factors or vectors.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>combn(letters[1:4], 2)
(m &lt;- combn(10, 5, min))   # minimum value in each combination
mm &lt;- combn(15, 6, function(x) matrix(x, 2, 3))
stopifnot(round(choose(10, 5)) == length(m), is.array(m), # 1-dimensional
          c(2,3, round(choose(15, 6))) == dim(mm))

## Different way of encoding points:
combn(c(1,1,1,1,2,2,2,3,3,4), 3, tabulate, nbins = 4)

## Compute support points and (scaled) probabilities for a
## Multivariate-Hypergeometric(n = 3, N = c(4,3,2,1)) p.f.:
# table.mat(t(combn(c(1,1,1,1,2,2,2,3,3,4), 3, tabulate, nbins = 4)))

## Assuring the identity
for(n in 1:7)
 for(m in 0:n) stopifnot(is.array(cc &lt;- combn(n, m)),
                         dim(cc) == c(m, choose(n, m)),
                         identical(cc, combn(n, m, identity)) || m == 1)
</code></pre>

<hr>
<h2 id='compareVersion'>Compare Two Package Version Numbers</h2><span id='topic+compareVersion'></span>

<h3>Description</h3>

<p>Compare two package version numbers to see which is later.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compareVersion(a, b)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="compareVersion_+3A_a">a</code>, <code id="compareVersion_+3A_b">b</code></td>
<td>
<p>Character strings representing package version numbers.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><span class="rlang"><b>R</b></span> package version numbers are of the form <code>x.y-z</code> for integers
<code>x</code>, <code>y</code> and <code>z</code>, with components after <code>x</code>
optionally missing (in which case the version number is older than
those with the components present).
</p>


<h3>Value</h3>

<p><code>0</code> if the numbers are equal, <code>-1</code> if <code>b</code> is later
and <code>1</code> if <code>a</code> is later (analogous to the C function
<code>strcmp</code>).
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+package_version">package_version</a></code>,
<code><a href="base.html#topic+library">library</a></code>, <code><a href="#topic+packageStatus">packageStatus</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>compareVersion("1.0", "1.0-1")
compareVersion("7.2-0","7.1-12")
</code></pre>

<hr>
<h2 id='COMPILE'>Compile Files for Use with R on Unix-alikes</h2><span id='topic+COMPILE'></span>

<h3>Description</h3>

<p>Compile given source files so that they can subsequently be collected
into a shared object using <code>R CMD SHLIB</code> or an executable
program using <code>R CMD LINK</code>.   Not available on Windows.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>R CMD COMPILE [options] srcfiles
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="COMPILE_+3A_srcfiles">srcfiles</code></td>
<td>
<p>A list of the names of source files to be compiled.
Currently, C, C++, Objective C, Objective C++ and Fortran are
supported; the corresponding files should have the extensions
&lsquo;<span class="file">.c</span>&rsquo;, &lsquo;<span class="file">.cc</span>&rsquo; (or &lsquo;<span class="file">.cpp</span>&rsquo;), &lsquo;<span class="file">.m</span>&rsquo;,
&lsquo;<span class="file">.mm</span>&rsquo; (or &lsquo;<span class="file">.M</span>&rsquo;), &lsquo;<span class="file">.f</span>&rsquo; and &lsquo;<span class="file">.f90</span>&rsquo; or &lsquo;<span class="file">.f95</span>&rsquo;,
respectively.</p>
</td></tr>
<tr><td><code id="COMPILE_+3A_options">options</code></td>
<td>
<p>A list of compile-relevant settings, or for obtaining
information about usage and version of the utility.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>R CMD SHLIB</code> can both compile and link files into a
shared object: since it knows what run-time libraries are needed
when passed C++, Fortran and Objective C(++) sources, passing source
files to <code>R CMD SHLIB</code> is more reliable.
</p>
<p>Objective C and Objective C++ support is optional and will work only
if the corresponding compilers were available at <span class="rlang"><b>R</b></span> configure time:
their main usage is on macOS.
</p>
<p>Compilation arranges to include the paths to the <span class="rlang"><b>R</b></span> public C/C++ headers.
</p>
<p>As this compiles code suitable for incorporation into a shared object,
it generates PIC code: that might occasionally be undesirable for the
main code of an executable program.
</p>
<p>This is a <code>make</code>-based facility, so will not compile a source file
if a newer corresponding &lsquo;<span class="file">.o</span>&rsquo; file is present.
</p>


<h3>Note</h3>

<p>Some binary distributions of <span class="rlang"><b>R</b></span> have <code>COMPILE</code> in a separate
bundle, e.g. an <code>R-devel</code> RPM.
</p>
<p>This is not available on Windows.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+LINK">LINK</a></code>, <code><a href="#topic+SHLIB">SHLIB</a></code>, <code><a href="base.html#topic+dyn.load">dyn.load</a></code>
</p>
<p>The section on &ldquo;Customizing package compilation&rdquo; in
the &lsquo;R Administration and Installation&rsquo; manual:
<code><a href="#topic+RShowDoc">RShowDoc</a>("R-admin")</code>.
</p>

<hr>
<h2 id='contrib.url'>Find Appropriate Paths in CRAN-like Repositories</h2><span id='topic+contrib.url'></span>

<h3>Description</h3>

<p><code>contrib.url</code> adds the appropriate type-specific path within a
repository to each URL in <code>repos</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>contrib.url(repos, type = getOption("pkgType"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="contrib.url_+3A_repos">repos</code></td>
<td>
<p>character vector, the base URL(s) of the repositories
to use.
</p>
</td></tr>
<tr><td><code id="contrib.url_+3A_type">type</code></td>
<td>
<p>character string, indicating which type of packages: see
<code><a href="#topic+install.packages">install.packages</a></code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>type = "both"</code> this will use the source repository.
</p>


<h3>Value</h3>

<p>A character vector of the same length as <code>repos</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+setRepositories">setRepositories</a></code> to set <code><a href="base.html#topic+options">options</a>("repos")</code>,
the most common value used for argument <code>repos</code>.
</p>
<p><code><a href="#topic+available.packages">available.packages</a></code>, <code><a href="#topic+download.packages">download.packages</a></code>,
<code><a href="#topic+install.packages">install.packages</a></code>.
</p>
<p>The &lsquo;R Installation and Administration&rsquo; manual for how to
set up a repository.
</p>

<hr>
<h2 id='count.fields'>Count the Number of Fields per Line</h2><span id='topic+count.fields'></span>

<h3>Description</h3>

<p><code>count.fields</code> counts the number of fields, as separated by
<code>sep</code>, in each of the lines of <code>file</code> read.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>count.fields(file, sep = "", quote = "\"'", skip = 0,
             blank.lines.skip = TRUE, comment.char = "#")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="count.fields_+3A_file">file</code></td>
<td>
<p>a character string naming an ASCII data file, or a
<code><a href="base.html#topic+connection">connection</a></code>, which will be opened if necessary,
and if so closed at the end of the function call.</p>
</td></tr>
<tr><td><code id="count.fields_+3A_sep">sep</code></td>
<td>
<p>the field separator character.  Values on each line of the
file are separated by this character.  By default, arbitrary amounts
of whitespace can separate fields.</p>
</td></tr>
<tr><td><code id="count.fields_+3A_quote">quote</code></td>
<td>
<p>the set of quoting characters</p>
</td></tr>
<tr><td><code id="count.fields_+3A_skip">skip</code></td>
<td>
<p>the number of lines of the data file to skip before
beginning to read data.</p>
</td></tr>
<tr><td><code id="count.fields_+3A_blank.lines.skip">blank.lines.skip</code></td>
<td>
<p>logical: if <code>TRUE</code> blank lines in the
input are ignored.</p>
</td></tr>
<tr><td><code id="count.fields_+3A_comment.char">comment.char</code></td>
<td>
<p>character: a character vector of length one
containing a single character or an empty string.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This used to be used by <code><a href="#topic+read.table">read.table</a></code> and can still be
useful in discovering problems in reading a file by that function.
</p>
<p>For the handling of comments, see <code><a href="base.html#topic+scan">scan</a></code>.
</p>
<p>Consistent with <code><a href="base.html#topic+scan">scan</a></code>, <code>count.fields</code> allows
quoted strings to contain newline characters.  In such a case the
starting line will have the field count recorded as <code>NA</code>, and
the ending line will include the count of all fields from the
beginning of the record.
</p>


<h3>Value</h3>

<p>A vector with the numbers of fields found.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+read.table">read.table</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>fil &lt;- tempfile()
cat("NAME", "1:John", "2:Paul", file = fil, sep = "\n")
count.fields(fil, sep = ":")
unlink(fil)
</code></pre>

<hr>
<h2 id='create.post'>
Ancillary Function for Preparing Emails and Postings
</h2><span id='topic+create.post'></span>

<h3>Description</h3>

<p>An ancillary function used by <code><a href="#topic+bug.report">bug.report</a></code> and
<code><a href="#topic+help.request">help.request</a></code> to prepare emails for submission to package
maintainers or to <span class="rlang"><b>R</b></span> mailing lists.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create.post(instructions = character(), description = "post",
            subject = "",
            method = getOption("mailer"),
            address = "the relevant mailing list",
            ccaddress = getOption("ccaddress", ""),
            filename = "R.post", info = character())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="create.post_+3A_instructions">instructions</code></td>
<td>
<p>Character vector of instructions to put at the top
of the template email.</p>
</td></tr>
<tr><td><code id="create.post_+3A_description">description</code></td>
<td>
<p>Character string: a description to be incorporated
into messages.</p>
</td></tr>
<tr><td><code id="create.post_+3A_subject">subject</code></td>
<td>
<p>Subject of the email. Optional except for the
<code>"mailx"</code> method.</p>
</td></tr>
<tr><td><code id="create.post_+3A_method">method</code></td>
<td>
<p>Submission method, one of <code>"none"</code>, <code>"mailto"</code>,
<code>"gnudoit"</code>, <code>"ess"</code> or (Unix only) <code>"mailx"</code>.
See &lsquo;Details&rsquo;.</p>
</td></tr>
<tr><td><code id="create.post_+3A_address">address</code></td>
<td>
<p>Recipient's email address, where applicable: for
package bug reports sent by email this defaults to the address of
the package maintainer (the first if more than one is listed).</p>
</td></tr>
<tr><td><code id="create.post_+3A_ccaddress">ccaddress</code></td>
<td>
<p>Optional email address for copies with the
<code>"mailx"</code> and <code>"mailto"</code> methods.
Use <code>ccaddress = ""</code> for no copy.</p>
</td></tr>
<tr><td><code id="create.post_+3A_filename">filename</code></td>
<td>
<p>Filename to use for setting up the email (or storing it when
method is <code>"none"</code> or sending mail fails).</p>
</td></tr>
<tr><td><code id="create.post_+3A_info">info</code></td>
<td>
<p>character vector of information to include in the template
email below the &lsquo;please do not edit the information below&rsquo; line.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>What this does depends on the <code>method</code>.  The function first
creates a template email body.
</p>

<dl>
<dt><code>none</code></dt><dd><p>A file editor (see <code><a href="#topic+file.edit">file.edit</a></code>) is
opened with instructions and the template email.  When this returns,
the completed email is in file <code>file</code> ready to be read/pasted
into an email program.</p>
</dd>
<dt><code>mailto</code></dt><dd>
<p>This opens the default email program with a template email
(including address, Cc: address and subject) for you to edit and
send.
</p>
<p>This works where default mailers are set up (usual on macOS and
Windows, and where <code>xdg-open</code> is available and configured on
other Unix-alikes: if that fails it tries the browser set by
<span class="env">R_BROWSER</span>).
</p>
<p>This is the &lsquo;factory-fresh&rsquo; default method.
</p>
</dd>
<dt><code>mailx</code></dt><dd><p>(Unix-alikes only.)
A file editor (see <code><a href="#topic+file.edit">file.edit</a></code>) is
opened with instructions and the template email.  When this
returns, it is mailed using a Unix command line mail utility such
as <code>mailx</code>, to the address (and optionally, the Cc: address)
given.</p>
</dd>
<dt><code>gnudoit</code></dt><dd>
<p>An (X)emacs mail buffer is opened for the email to be edited and
sent: this requires the <code>gnudoit</code> program to be
available.  Currently <code>subject</code> is ignored.</p>
</dd>
<dt><code>ess</code></dt><dd>
<p>The body of the template email is sent to <code>stdout</code>.</p>
</dd>
</dl>



<h3>Value</h3>

<p>Invisible <code>NULL</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bug.report">bug.report</a></code>, <code><a href="#topic+help.request">help.request</a></code>.
</p>

<hr>
<h2 id='data'>Data Sets</h2><span id='topic+data'></span><span id='topic+print.packageIQR'></span>

<h3>Description</h3>

<p>Loads specified data sets, or list the available data sets.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(..., list = character(), package = NULL, lib.loc = NULL,
     verbose = getOption("verbose"), envir = .GlobalEnv,
     overwrite = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="data_+3A_...">...</code></td>
<td>
<p>literal character strings or names.</p>
</td></tr>
<tr><td><code id="data_+3A_list">list</code></td>
<td>
<p>a character vector.</p>
</td></tr>
<tr><td><code id="data_+3A_package">package</code></td>
<td>

<p>a character vector giving the package(s) to look
in for data sets, or <code>NULL</code>.
</p>
<p>By default, all packages in the search path are used, then
the &lsquo;<span class="file">data</span>&rsquo; subdirectory (if present) of the current working
directory.
</p>
</td></tr>
<tr><td><code id="data_+3A_lib.loc">lib.loc</code></td>
<td>
<p>a character vector of directory names of <span class="rlang"><b>R</b></span> libraries,
or <code>NULL</code>.  The default value of <code>NULL</code> corresponds to all
libraries currently known.</p>
</td></tr>
<tr><td><code id="data_+3A_verbose">verbose</code></td>
<td>
<p>a logical.  If <code>TRUE</code>, additional diagnostics are
printed.</p>
</td></tr>
<tr><td><code id="data_+3A_envir">envir</code></td>
<td>
<p>the <a href="base.html#topic+environment">environment</a> where the data should be loaded.</p>
</td></tr>
<tr><td><code id="data_+3A_overwrite">overwrite</code></td>
<td>
<p>logical: should existing objects of the same name in
<span class="env">envir</span> be replaced?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Currently, four formats of data files are supported:
</p>

<ol>
<li><p> files ending &lsquo;<span class="file">.R</span>&rsquo; or &lsquo;<span class="file">.r</span>&rsquo; are
<code><a href="base.html#topic+source">source</a>()</code>d in, with the <span class="rlang"><b>R</b></span> working directory changed
temporarily to the directory containing the respective file.
(<code>data</code> ensures that the <span class="pkg">utils</span> package is attached, in
case it had been run <em>via</em> <code>utils::data</code>.)
</p>
</li>
<li><p> files ending &lsquo;<span class="file">.RData</span>&rsquo; or &lsquo;<span class="file">.rda</span>&rsquo; are
<code><a href="base.html#topic+load">load</a>()</code>ed.
</p>
</li>
<li><p> files ending &lsquo;<span class="file">.tab</span>&rsquo;, &lsquo;<span class="file">.txt</span>&rsquo; or &lsquo;<span class="file">.TXT</span>&rsquo; are read
using <code><a href="#topic+read.table">read.table</a>(..., header = TRUE, as.is=FALSE)</code>,
and hence
result in a data frame.
</p>
</li>
<li><p> files ending &lsquo;<span class="file">.csv</span>&rsquo; or &lsquo;<span class="file">.CSV</span>&rsquo; are read using
<code><a href="#topic+read.table">read.table</a>(..., header = TRUE, sep = ";", as.is=FALSE)</code>,
and also result in a data frame.
</p>
</li></ol>

<p>If more than one matching file name is found, the first on this list
is used.  (Files with extensions &lsquo;<span class="file">.txt</span>&rsquo;, &lsquo;<span class="file">.tab</span>&rsquo; or
&lsquo;<span class="file">.csv</span>&rsquo; can be compressed, with or without further extension
&lsquo;<span class="file">.gz</span>&rsquo;, &lsquo;<span class="file">.bz2</span>&rsquo; or &lsquo;<span class="file">.xz</span>&rsquo;.)
</p>
<p>The data sets to be loaded can be specified as a set of character
strings or names, or as the character vector <code>list</code>, or as both.
</p>
<p>For each given data set, the first two types (&lsquo;<span class="file">.R</span>&rsquo; or &lsquo;<span class="file">.r</span>&rsquo;,
and &lsquo;<span class="file">.RData</span>&rsquo; or &lsquo;<span class="file">.rda</span>&rsquo; files) can create several variables
in the load environment, which might all be named differently from the
data set.  The third and fourth types will always result in the
creation of a single variable with the same name (without extension)
as the data set.
</p>
<p>If no data sets are specified, <code>data</code> lists the available data
sets.  For each package,
it looks for a data index in the &lsquo;<span class="file">Meta</span>&rsquo; subdirectory or, if
this is not found, scans the &lsquo;<span class="file">data</span>&rsquo; subdirectory for data files
using <code><a href="tools.html#topic+list_files_with_type">list_files_with_type</a></code>.
The information about
available data sets is returned in an object of class
<code>"packageIQR"</code>.  The structure of this class is experimental.
Where the datasets have a different name from the argument that should
be used to retrieve them the index will have an entry like
<code>beaver1 (beavers)</code> which tells us that dataset <code>beaver1</code>
can be retrieved by the call <code>data(beavers)</code>.
</p>
<p>If <code>lib.loc</code> and <code>package</code> are both <code>NULL</code> (the
default), the data sets are searched for in all the currently loaded
packages then in the &lsquo;<span class="file">data</span>&rsquo; directory (if any) of the current
working directory.
</p>
<p>If <code>lib.loc = NULL</code> but <code>package</code> is specified as a
character vector, the specified package(s) are searched for first
amongst loaded packages and then in the default libraries
(see <code><a href="base.html#topic+.libPaths">.libPaths</a></code>).
</p>
<p>If <code>lib.loc</code> <em>is</em> specified (and not <code>NULL</code>), packages
are searched for in the specified libraries, even if they are
already loaded from another library.
</p>
<p>To just look in the &lsquo;<span class="file">data</span>&rsquo; directory of the current working
directory, set <code>package = character(0)</code>
(and <code>lib.loc = NULL</code>, the default).
</p>


<h3>Value</h3>

<p>A character vector of all data sets specified (whether found or not),
or information about all available data sets in an object of class
<code>"packageIQR"</code> if none were specified.
</p>


<h3>Good practice</h3>

<p>There is no requirement for <code>data(<var>foo</var>)</code> to create an object
named <code><var>foo</var></code> (nor to create one object), although it much
reduces confusion if this convention is followed (and it is enforced
if datasets are lazy-loaded).
</p>
<p><code>data()</code> was originally intended to allow users to load datasets
from packages for use in their examples, and as such it loaded the
datasets into the workspace <code><a href="base.html#topic+.GlobalEnv">.GlobalEnv</a></code>.  This avoided
having large datasets in memory when not in use: that need has been
almost entirely superseded by lazy-loading of datasets.
</p>
<p>The ability to specify a dataset by name (without quotes) is a
convenience: in programming the datasets should be specified by
character strings (with quotes).
</p>
<p>Use of <code>data</code> within a function without an <code>envir</code> argument
has the almost always undesirable side-effect of putting an object in
the user's workspace (and indeed, of replacing any object of that name
already there).  It would almost always be better to put the object in
the current evaluation environment by
<code>data(..., envir = environment())</code>.
However, two alternatives are usually preferable,
both described in the &lsquo;Writing R Extensions&rsquo; manual.
</p>

<ul>
<li><p> For sets of data, set up a package to use lazy-loading of data.
</p>
</li>
<li><p> For objects which are system data, for example lookup tables
used in calculations within the function, use a file
&lsquo;<span class="file">R/sysdata.rda</span>&rsquo; in the package sources or create the objects by
<span class="rlang"><b>R</b></span> code at package installation time.
</p>
</li></ul>

<p>A sometimes important distinction is that the second approach places
objects in the namespace but the first does not.  So if it is important
that the function sees <code>mytable</code> as an object from the package,
it is system data and the second approach should be used.  In the
unusual case that a package uses a lazy-loaded dataset as a default
argument to a function, that needs to be specified by <code><a href="base.html#topic++3A+3A">::</a></code>,
e.g., <code>survival::survexp.us</code>.
</p>


<h3>Warning</h3>

<p>This function creates objects in the <code>envir</code> environment (by
default the user's workspace) replacing any which already
existed. <code>data("foo")</code> can silently create objects other than
<code>foo</code>: there have been instances in published  packages where it
created/replaced <code><a href="base.html#topic+.Random.seed">.Random.seed</a></code> and hence change the seed
for the session.
</p>


<h3>Note</h3>

<p>One can take advantage of the search order and the fact that a
&lsquo;<span class="file">.R</span>&rsquo; file will change directory.  If raw data are stored in
&lsquo;<span class="file">mydata.txt</span>&rsquo; then one can set up &lsquo;<span class="file">mydata.R</span>&rsquo; to read
&lsquo;<span class="file">mydata.txt</span>&rsquo; and pre-process it, e.g., using <code><a href="base.html#topic+transform">transform</a>()</code>.
For instance one can convert numeric vectors to factors with the
appropriate labels.  Thus, the &lsquo;<span class="file">.R</span>&rsquo; file can effectively contain
a metadata specification for the plaintext formats.
</p>







<h3>See Also</h3>

<p><code><a href="#topic+help">help</a></code> for obtaining documentation on data sets,
<code><a href="base.html#topic+save">save</a></code> for <em>creating</em> the second (&lsquo;<span class="file">.rda</span>&rsquo;) kind
of data, typically the most efficient one.
</p>
<p>The &lsquo;Writing R Extensions&rsquo; manual for considerations in preparing the
&lsquo;<span class="file">data</span>&rsquo; directory of a package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>require(utils)
data()                         # list all available data sets
try(data(package = "rpart"), silent = TRUE) # list the data sets in the rpart package
data(USArrests, "VADeaths")    # load the data sets 'USArrests' and 'VADeaths'
## Not run: ## Alternatively
ds &lt;- c("USArrests", "VADeaths"); data(list = ds)
## End(Not run)
help(USArrests)                # give information on data set 'USArrests'
</code></pre>

<hr>
<h2 id='dataentry'>Spreadsheet Interface for Entering Data</h2><span id='topic+data.entry'></span><span id='topic+dataentry'></span><span id='topic+de'></span>

<h3>Description</h3>

<p>A spreadsheet-like editor for entering or editing data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data.entry(..., Modes = NULL, Names = NULL)
dataentry(data, modes)
de(..., Modes = list(), Names = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dataentry_+3A_...">...</code></td>
<td>
<p>A list of variables: currently these should be numeric or
character vectors or list containing such vectors.</p>
</td></tr>
<tr><td><code id="dataentry_+3A_modes">Modes</code></td>
<td>
<p>The modes to be used for the variables.</p>
</td></tr>
<tr><td><code id="dataentry_+3A_names">Names</code></td>
<td>
<p>The names to be used for the variables.</p>
</td></tr>
<tr><td><code id="dataentry_+3A_data">data</code></td>
<td>
<p>A list of numeric and/or character vectors.</p>
</td></tr>
<tr><td><code id="dataentry_+3A_modes">modes</code></td>
<td>
<p>A list of length up to that of <code>data</code> giving the
modes of (some of) the variables. <code>list()</code> is allowed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The data entry editor is only available on some platforms and GUIs.
Where available it provides a means to visually edit a matrix or
a collection of variables (including a data frame) as described in the
Notes section.
</p>
<p><code>data.entry</code> has side effects, any changes made in the
spreadsheet are reflected in the variables.  Function <code>de</code> and
the internal functions <code><a href="#topic+de.ncols">de.ncols</a></code>, <code><a href="#topic+de.setup">de.setup</a></code>
and <code><a href="#topic+de.restore">de.restore</a></code> are designed to 
help achieve these side effects.  If the user passes in a matrix,
<code>X</code> say, then the matrix is broken into columns before
<code>dataentry</code> is called. Then on return the columns are collected
and glued back together and the result assigned to the variable
<code>X</code>.  If you don't want this behaviour use <code>dataentry</code> directly.
</p>
<p>The primitive function is <code>dataentry</code>. It takes a list of
vectors of possibly different lengths and modes (the second argument)
and opens a spreadsheet with these variables being the columns.
The columns of the data entry window are returned as vectors in a
list when the spreadsheet is closed.
</p>
<p><code>de.ncols</code> counts the number of columns which are supplied as arguments
to <code>data.entry</code>. It attempts to count columns in lists, matrices
and vectors.  <code>de.setup</code> sets things up so that on return the
columns can be regrouped and reassigned to the correct name. This
is handled by <code>de.restore</code>.
</p>


<h3>Value</h3>

<p><code>de</code> and <code>dataentry</code> return the edited value of their
arguments. <code>data.entry</code> invisibly returns a vector of variable
names but its main value is its side effect of assigning new version
of those variables in the user's workspace.
</p>


<h3>Resources</h3>

<p>The data entry window responds to X resources of class
<code>R_dataentry</code>.  Resources <code>foreground</code>, <code>background</code> and
<code>geometry</code> are utilized.
</p>


<h3>Note</h3>

<p>The details of interface to the data grid may differ by platform and
GUI.  The following description applies to
the X11-based implementation under Unix.
</p>
<p>You can navigate around the grid using the cursor keys or by clicking
with the (left) mouse button on any cell.  The active cell is
highlighted by thickening the surrounding rectangle.  Moving to the
right or down will scroll the grid as needed: there is no constraint
to the rows or columns currently in use.
</p>
<p>There are alternative ways to navigate using the keys.  Return and
(keypad) Enter and LineFeed all move down. Tab moves right and
Shift-Tab move left.  Home moves to the top left.
</p>
<p>PageDown or Control-F moves down a page, and PageUp or
Control-B up by a page.  End will show the last used column and the
last few rows used (in any column).
</p>
<p>Using any other key starts an editing process on the currently
selected cell: moving away from that cell enters the edited value
whereas Esc cancels the edit and restores the previous value.  When
the editing process starts the cell is cleared.
In numerical columns
(the default) only letters making up a valid number (including
<code>-.eE</code>) are accepted, and entering an invalid edited value (such
as blank) enters <code>NA</code> in that cell.  The last entered value can
be deleted using the BackSpace or Del(ete) key.  Only a limited
number of characters (currently 29) can be entered in a cell, and if
necessary only the start or end of the string will be displayed, with the
omissions indicated by <code>&gt;</code> or <code>&lt;</code>.  (The start is shown
except when editing.)
</p>
<p>Entering a value in a cell further down a column than the last used
cell extends the variable and fills the gap (if any) by <code>NA</code>s (not
shown on screen).
</p>
<p>The column names can only be selected by clicking in them.  This gives
a popup menu to select the column type (currently Real (numeric) or
Character) or to change the name.  Changing the type converts the
current contents of the column (and converting from Character to Real
may generate <code>NA</code>s.)
If changing the name is selected the
header cell becomes editable (and is cleared).  As with all cells, the
value is entered by moving away from the cell by clicking elsewhere or
by any of the keys for moving down (only).
</p>
<p>New columns are created by entering values in them (and not by just
assigning a new name).  The mode of the column is auto-detected from
the first value entered: if this is a valid number it gives a numeric
column.  Unused columns are ignored, so
adding data in <code>var5</code> to a three-column grid adds one extra
variable, not two.
</p>
<p>The <code>Copy</code> button copies the currently selected cell:
<code>paste</code> copies the last copied value to the current cell, and
right-clicking selects a cell <em>and</em> copies in the value.
Initially the value is blank, and attempts to paste a blank value will
have no effect.
</p>
<p>Control-L will refresh the display, recalculating field widths to fit
the current entries.
</p>
<p>In the default mode the column widths are chosen to fit the contents
of each column, with a default of 10 characters for empty columns.
you can specify fixed column widths by setting option
<code>de.cellwidth</code> to the required fixed width (in characters).
(set it to zero to return to variable widths).  The displayed
width of any field is limited to
600 pixels (and by the window width).
</p>


<h3>See Also</h3>

<p><code><a href="#topic+vi">vi</a></code>, <code><a href="#topic+edit">edit</a></code>: <code>edit</code> uses
<code>dataentry</code> to edit data frames.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># call data entry with variables x and y
## Not run: data.entry(x, y)
</code></pre>

<hr>
<h2 id='debugcall'>Debug a Call</h2><span id='topic+debugcall'></span><span id='topic+undebugcall'></span>

<h3>Description</h3>

<p>Set or unset debugging flags based on a call to a function. Takes into
account S3/S4 method dispatch based on the classes of the arguments in
the call.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>debugcall(call, once = FALSE)
undebugcall(call)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="debugcall_+3A_call">call</code></td>
<td>
<p>An R expression calling a function. The called function
will be debugged. See Details.</p>
</td></tr>
<tr><td><code id="debugcall_+3A_once">once</code></td>
<td>
<p>logical; if <code>TRUE</code>, debugging only occurs once, as via
<code>debugonce</code>. Defaults to <code>FALSE</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>debugcall</code> debugs the non-generic function, S3 method or S4
method that would be called by evaluating <code>call</code>. Thus, the user
does not need to specify the signature when debugging
methods. Although the call is actually to the generic, it is the
method that is debugged, not the generic, except for non-standard S3
generics (see <code><a href="#topic+isS3stdGeneric">isS3stdGeneric</a></code>).
</p>


<h3>Value</h3>

<p><code>debugcall</code> invisibly returns the debugged call expression.
</p>


<h3>Note</h3>

<p>Non-standard evaluation is used to retrieve the <code>call</code> (via
<code><a href="base.html#topic+substitute">substitute</a></code>). For this reason, passing a variable
containing a call expression, rather than the call expression itself,
will not work.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+debug">debug</a></code> for the primary debugging interface
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## Evaluate call after setting debugging
## 
f &lt;- factor(1:10)
res &lt;- eval(debugcall(summary(f))) 

## End(Not run)
</code></pre>

<hr>
<h2 id='debugger'>Post-Mortem Debugging</h2><span id='topic+debugger'></span><span id='topic+dump.frames'></span><span id='topic+limitedLabels'></span>

<h3>Description</h3>

<p>Functions to dump the evaluation environments (frames) and to examine
dumped frames.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dump.frames(dumpto = "last.dump", to.file = FALSE,
            include.GlobalEnv = FALSE)
debugger(dump = last.dump)

limitedLabels(value, maxwidth = getOption("width") - 5L)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="debugger_+3A_dumpto">dumpto</code></td>
<td>
<p>a character string. The name of the object or file to
dump to.</p>
</td></tr>
<tr><td><code id="debugger_+3A_to.file">to.file</code></td>
<td>
<p>logical.  Should the dump be to an <span class="rlang"><b>R</b></span> object or to a
file?</p>
</td></tr>
<tr><td><code id="debugger_+3A_include.globalenv">include.GlobalEnv</code></td>
<td>
<p>logical indicating if a <em>copy</em> of the
<code><a href="base.html#topic+.GlobalEnv">.GlobalEnv</a></code> environment should be included in addition
to the <code><a href="base.html#topic+sys.frames">sys.frames</a>()</code>.  Will be particularly useful when
used in a batch job.</p>
</td></tr>
<tr><td><code id="debugger_+3A_dump">dump</code></td>
<td>
<p>an <span class="rlang"><b>R</b></span> dump object created by <code>dump.frames</code>.</p>
</td></tr>

<tr><td><code id="debugger_+3A_value">value</code></td>
<td>
<p>a <code><a href="base.html#topic+list">list</a></code> of <code><a href="base.html#topic+call">call</a></code>s to be formatted,
e.g., for user menus.</p>
</td></tr>
<tr><td><code id="debugger_+3A_maxwidth">maxwidth</code></td>
<td>
<p>optional length to which to trim the result of <code>limitedLabels()</code>;
values smaller than 40 or larger than 1000 are winsorized.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To use post-mortem debugging, set the option <code>error</code> to be a call
to <code>dump.frames</code>.  By default this dumps to an <span class="rlang"><b>R</b></span> object
<code>last.dump</code> in the workspace, but it can be set to dump to a
file (a dump of the object produced by a call to <code><a href="base.html#topic+save">save</a></code>).
The dumped object contain the call stack, the active environments and
the last error message as returned by <code><a href="base.html#topic+geterrmessage">geterrmessage</a></code>.
</p>
<p>When dumping to file, <code>dumpto</code> gives the name of the dumped
object and the file name has &lsquo;<span class="file">.rda</span>&rsquo; appended.
</p>
<p>A dump object of class <code>"dump.frames"</code> can be examined by calling
<code>debugger</code>.  This will give the error message and a list of
environments from which to select repeatedly.  When an environment is
selected, it is copied and the <code><a href="base.html#topic+browser">browser</a></code> called from
within the copy.  Note that not all the information in the original
frame will be available, e.g. promises which have not yet been
evaluated and the contents of any <code>...</code> argument.
</p>
<p>If <code>dump.frames</code> is installed as the error handler, execution
will continue even in non-interactive sessions.  See the examples for
how to dump and then quit.
</p>
<p><code>limitedLabels(v)</code> takes a <code><a href="base.html#topic+list">list</a></code> of calls whose
elements may have a <code>srcref</code> attribute and returns a vector that
pastes a formatted version of those attributes onto the formatted version
of the elements, all finally <code><a href="base.html#topic+strtrim">strtrim</a>()</code>med to <code>maxwidth</code>.
</p>


<h3>Value</h3>

<p>Invisible <code>NULL</code>.
</p>


<h3>Note</h3>

<p>Functions such as <code><a href="base.html#topic+sys.parent">sys.parent</a></code> and
<code><a href="base.html#topic+environment">environment</a></code> applied to closures will not work correctly
inside <code>debugger</code>.
</p>
<p>If the error occurred when computing the default value of a formal
argument the debugger will report &ldquo;recursive default argument
reference&rdquo; when trying to examine that environment.
</p>
<p>Of course post-mortem debugging will not work if <span class="rlang"><b>R</b></span> is too damaged to
produce and save the dump, for example if it has run out of workspace.
</p>


<h3>References</h3>

<p>Becker, R. A., Chambers, J. M. and Wilks, A. R. (1988)
<em>The New S Language</em>.
Wadsworth &amp; Brooks/Cole.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+browser">browser</a></code> for the actions available at the <code>Browse</code>
prompt.
</p>
<p><code><a href="base.html#topic+options">options</a></code> for setting <code>error</code> options;
<code><a href="#topic+recover">recover</a></code> is an interactive debugger working similarly to
<code>debugger</code> but directly after the error occurs.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
options(error = quote(dump.frames("testdump", TRUE)))

f &lt;- function() {
    g &lt;- function() stop("test dump.frames")
    g()
}
f()   # will generate a dump on file "testdump.rda"
options(error = NULL)

## possibly in another R session
load("testdump.rda")
debugger(testdump)
Available environments had calls:
1: f()
2: g()
3: stop("test dump.frames")

Enter an environment number, or 0 to exit
Selection: 1
Browsing in the environment with call:
f()
Called from: debugger.look(ind)
Browse[1]&gt; ls()
[1] "g"
Browse[1]&gt; g
function() stop("test dump.frames")
&lt;environment: 759818&gt;
Browse[1]&gt;
Available environments had calls:
1: f()
2: g()
3: stop("test dump.frames")

Enter an environment number, or 0 to exit
Selection: 0

## A possible setting for non-interactive sessions
options(error = quote({dump.frames(to.file = TRUE); q(status = 1)}))

## End(Not run)</code></pre>

<hr>
<h2 id='demo'>Demonstrations of R Functionality</h2><span id='topic+demo'></span>

<h3>Description</h3>

<p><code>demo</code> is a user-friendly interface to running some demonstration
<span class="rlang"><b>R</b></span> scripts.  <code>demo()</code> gives the list of available topics.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>demo(topic, package = NULL, lib.loc = NULL,
     character.only = FALSE, verbose = getOption("verbose"),
     type = c("console", "html"), echo = TRUE,
     ask = getOption("demo.ask"),
     encoding = getOption("encoding"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="demo_+3A_topic">topic</code></td>
<td>
<p>the topic which should be demonstrated, given as a
<a href="base.html#topic+name">name</a> or literal character string, or a character string,
depending on whether <code>character.only</code> is <code>FALSE</code> (default)
or <code>TRUE</code>.  If omitted, the list of available topics is
displayed.</p>
</td></tr>
<tr><td><code id="demo_+3A_package">package</code></td>
<td>
<p>a character vector giving the packages to look into for
demos, or <code>NULL</code>.  By default, all packages in the search path
are used.</p>
</td></tr>
<tr><td><code id="demo_+3A_lib.loc">lib.loc</code></td>
<td>
<p>a character vector of directory names of <span class="rlang"><b>R</b></span> libraries,
or <code>NULL</code>.  The default value of <code>NULL</code> corresponds to all
libraries currently known.  If the default is used, the loaded
packages are searched before the libraries.</p>
</td></tr>
<tr><td><code id="demo_+3A_character.only">character.only</code></td>
<td>
<p>logical; if <code>TRUE</code>, use <code>topic</code> as
character string.</p>
</td></tr>
<tr><td><code id="demo_+3A_verbose">verbose</code></td>
<td>
<p>a logical.  If <code>TRUE</code>, additional diagnostics are
printed.</p>
</td></tr>
<tr><td><code id="demo_+3A_type">type</code></td>
<td>
<p>character: whether to show output in the console or a
browser (using the dynamic help system). The latter is honored only
in interactive sessions and if the <code><a href="knitr.html#topic+knitr">knitr</a></code>
package is installed. Several other arguments are silently ignored
in that case, including <code>lib.loc</code>.</p>
</td></tr>
<tr><td><code id="demo_+3A_echo">echo</code></td>
<td>
<p>a logical.  If <code>TRUE</code>, show the <span class="rlang"><b>R</b></span> input when sourcing.</p>
</td></tr>
<tr><td><code id="demo_+3A_ask">ask</code></td>
<td>
<p>a logical (or <code>"default"</code>) indicating if
<code><a href="grDevices.html#topic+devAskNewPage">devAskNewPage</a>(ask = TRUE)</code> should be called before
graphical output happens from the demo code.  The value
<code>"default"</code> (the factory-fresh default) means to ask if
<code>echo == TRUE</code> and the graphics device appears to be
interactive.  This parameter applies both to any currently opened
device and to any devices opened by the demo code.  If this is
evaluated to <code>TRUE</code> and the session is <a href="base.html#topic+interactive">interactive</a>, the
user is asked to press RETURN to start.</p>
</td></tr>
<tr><td><code id="demo_+3A_encoding">encoding</code></td>
<td>
<p>See <code><a href="base.html#topic+source">source</a></code>.  If the package has a
declared encoding, that takes preference.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If no topics are given, <code>demo</code> lists the available demos.  For
<code>type = "console"</code>, the corresponding information is returned in
an object of class <code>"packageIQR"</code>.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+source">source</a></code> and <code><a href="grDevices.html#topic+devAskNewPage">devAskNewPage</a></code> which
are called by <code>demo</code>. <code><a href="#topic+example">example</a></code> to run code
in the Examples section of help pages.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>demo() # for attached packages

## All available demos:
demo(package = .packages(all.available = TRUE))


## Display a demo, pausing between pages
demo(lm.glm, package = "stats", ask = TRUE)

## Display it without pausing
demo(lm.glm, package = "stats", ask = FALSE)


## Not run: 
 ch &lt;- "scoping"
 demo(ch, character = TRUE)

## End(Not run)

## Find the location of a demo
system.file("demo", "lm.glm.R", package = "stats")
</code></pre>

<hr>
<h2 id='DLL.version'>DLL Version Information on MS Windows</h2><span id='topic+DLL.version'></span>

<h3>Description</h3>

<p>On MS Windows only, return the version of the package and the version of <span class="rlang"><b>R</b></span> used to
build the DLL, if available.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DLL.version(path)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="DLL.version_+3A_path">path</code></td>
<td>
<p>character vector of length one giving the complete path to
the DLL.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If the DLL does not exist, <code>NULL</code>.
</p>
<p>A character vector of length two, giving the DLL version and the version of
<span class="rlang"><b>R</b></span> used to build the DLL.  If the information is not available, the
corresponding string is empty.
</p>


<h3>Note</h3>

<p>This is only available on Windows.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if(.Platform$OS.type == "windows") withAutoprint({
  DLL.version(file.path(R.home("bin"), "R.dll"))
  DLL.version(file.path(R.home(), "library/stats/libs", .Platform$r_arch, "stats.dll"))
})
</code></pre>

<hr>
<h2 id='download.file'>Download File from the Internet</h2><span id='topic+download.file'></span>

<h3>Description</h3>

<p>This function can be used to download a file from the Internet.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>download.file(url, destfile, method, quiet = FALSE, mode = "w",
              cacheOK = TRUE,
              extra = getOption("download.file.extra"),
              headers = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="download.file_+3A_url">url</code></td>
<td>
<p>a <code><a href="base.html#topic+character">character</a></code> string (or longer vector
for the <code>"libcurl"</code> method) naming the URL of a resource to be
downloaded.</p>
</td></tr>
<tr><td><code id="download.file_+3A_destfile">destfile</code></td>
<td>
<p>a character string (or vector, see the <code>url</code>
argument) with the file path where the downloaded file is to be
saved.  Tilde-expansion is performed.</p>
</td></tr>
<tr><td><code id="download.file_+3A_method">method</code></td>
<td>
<p>Method to be used for downloading files.  Current
download methods are <code>"internal"</code>, <code>"libcurl"</code>,
<code>"wget"</code>, <code>"curl"</code> and <code>"wininet"</code> (Windows
only), and there is a value <code>"auto"</code>: see &lsquo;Details&rsquo; and
&lsquo;Note&rsquo;.
</p>
<p>The method can also be set through the option
<code>"download.file.method"</code>: see <code><a href="base.html#topic+options">options</a>()</code>.
</p>
</td></tr>
<tr><td><code id="download.file_+3A_quiet">quiet</code></td>
<td>
<p>If <code>TRUE</code>, suppress status messages (if any), and
the progress bar.</p>
</td></tr>
<tr><td><code id="download.file_+3A_mode">mode</code></td>
<td>
<p>character.  The mode with which to write the file.  Useful
values are <code>"w"</code>, <code>"wb"</code> (binary), <code>"a"</code> (append) and
<code>"ab"</code>.  Not used for methods <code>"wget"</code> and <code>"curl"</code>.
See also &lsquo;Details&rsquo;, notably about using <code>"wb"</code> for Windows.
</p>
</td></tr>
<tr><td><code id="download.file_+3A_cacheok">cacheOK</code></td>
<td>
<p>logical.  Is a server-side cached value acceptable?</p>
</td></tr>
<tr><td><code id="download.file_+3A_extra">extra</code></td>
<td>
<p>character vector of additional command-line arguments for
the <code>"wget"</code> and <code>"curl"</code> methods.</p>
</td></tr>
<tr><td><code id="download.file_+3A_headers">headers</code></td>
<td>
<p>named character vector of additional HTTP headers to
use in HTTP[S] requests.  It is ignored for non-HTTP[S] URLs.  The
<code>User-Agent</code> header taken from the <code>HTTPUserAgent</code> option
(see <code><a href="base.html#topic+options">options</a></code>) is automatically used as the first header.</p>
</td></tr>
<tr><td><code id="download.file_+3A_...">...</code></td>
<td>
<p>allow additional arguments to be passed, unused.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function <code>download.file</code> can be used to download a single
file as described by <code>url</code> from the internet and store it in
<code>destfile</code>.
</p>
<p>The <code>url</code> must start with a scheme such as &lsquo;<span class="samp">&#8288;http://&#8288;</span>&rsquo;,
&lsquo;<span class="samp">&#8288;https://&#8288;</span>&rsquo; or &lsquo;<span class="samp">&#8288;file://&#8288;</span>&rsquo;.  Which methods support which
schemes varies by <span class="rlang"><b>R</b></span> version, but <code>method = "auto"</code> will try to
find a method which supports the scheme.
</p>
<p>For <code>method = "auto"</code> (the default) currently the
<code>"internal"</code> method is used for &lsquo;<span class="samp">&#8288;file://&#8288;</span>&rsquo; URLs and
<code>"libcurl"</code> for all others.
</p>
<p>Support for method <code>"libcurl"</code> was optional on Windows prior to
<span class="rlang"><b>R</b></span> 4.2.0: use <code><a href="base.html#topic+capabilities">capabilities</a>("libcurl")</code> to see if it is
supported on an earlier version.  It uses an external library of that
name (<a href="https://curl.se/libcurl/">https://curl.se/libcurl/</a>) against which <span class="rlang"><b>R</b></span> can be
compiled.
</p>
<p>When method <code>"libcurl"</code> is used, there is support for
simultaneous downloads, so <code>url</code> and <code>destfile</code> can be
character vectors of the same length greater than one (but the method
has to be specified explicitly and not <em>via</em> <code>"auto"</code>).  For
a single URL and <code>quiet = FALSE</code> a progress bar is shown in
interactive use.
</p>
<p>Nowadays the <code>"internal"</code> method only supports the &lsquo;<span class="samp">&#8288;file://&#8288;</span>&rsquo;
scheme (for which it is the default).  On Windows the <code>"wininet"</code>
method currently supports &lsquo;<span class="samp">&#8288;file://&#8288;</span>&rsquo; and (but deprecated with a
warning) &lsquo;<span class="samp">&#8288;http://&#8288;</span>&rsquo; and &lsquo;<span class="samp">&#8288;https://&#8288;</span>&rsquo; schemes.
</p>
<p>For methods <code>"wget"</code> and <code>"curl"</code> a system call is made to
the tool given by <code>method</code>, and the respective program must be
installed on your system and be in the search path for executables.
They will block all other activity on the <span class="rlang"><b>R</b></span> process until they
complete: this may make a GUI unresponsive.
</p>
<p><code>cacheOK = FALSE</code> is useful for &lsquo;<span class="samp">&#8288;http://&#8288;</span>&rsquo; and
&lsquo;<span class="samp">&#8288;https://&#8288;</span>&rsquo; URLs: it will attempt to get a copy directly from the
site rather than from an intermediate cache.  It is used by
<code><a href="#topic+available.packages">available.packages</a></code>.
</p>
<p>The <code>"libcurl"</code> and <code>"wget"</code> methods follow &lsquo;<span class="samp">&#8288;http://&#8288;</span>&rsquo;
and &lsquo;<span class="samp">&#8288;https://&#8288;</span>&rsquo; redirections to any scheme they support.  (For
method <code>"curl"</code> use argument <code>extra = "-L"</code>.  To disable
redirection in <code>wget</code>, use <code>extra = "--max-redirect=0"</code>.)
The <code>"wininet"</code> method supports some redirections but not all.
(For method <code>"libcurl"</code>, messages will quote the endpoint of
redirections.)
</p>
<p>See <code><a href="base.html#topic+url">url</a></code> for how &lsquo;<span class="samp">&#8288;file://&#8288;</span>&rsquo; URLs are interpreted,
especially on Windows.  The <code>"internal"</code> and <code>"wininet"</code>
methods do not percent-decode, but the <code>"libcurl"</code> and
<code>"curl"</code> methods do: method <code>"wget"</code> does not support them.
</p>
<p>Most methods do not percent-encode special characters such as spaces
in URLs (see <code><a href="#topic+URLencode">URLencode</a></code>), but it seems the
<code>"wininet"</code> method does.
</p>
<p>The remaining details apply to the <code>"wininet"</code> and
<code>"libcurl"</code> methods only.
</p>
<p>The timeout for many parts of the transfer can be set by the option
<code>timeout</code> which defaults to 60 seconds.  This is often
insufficient for downloads of large files (50MB or more) and
so should be increased when <code>download.file</code> is used in packages
to do so.  Note that the user can set the default timeout by the
environment variable <span class="env">R_DEFAULT_INTERNET_TIMEOUT</span> in recent
versions of <span class="rlang"><b>R</b></span>, so to ensure that this is not decreased packages should
use something like
</p>
<pre>
    options(timeout = max(300, getOption("timeout")))
  </pre>
<p>(It is unrealistic to require download times of less than 1s/MB.)
</p>
<p>The level of detail provided during transfer can be set by the
<code>quiet</code> argument and the <code>internet.info</code> option: the details
depend on the platform and scheme.  For the <code>"libcurl"</code> method
values of the option less than 2 give verbose output.
</p>
<p>A progress bar tracks the transfer platform-specifically:
</p>

<dl>
<dt>On Windows</dt><dd><p>If the file length is known, the
full width of the bar is the known length.  Otherwise the initial
width represents 100 <abbr>Kbyte</abbr>s and is doubled whenever the current width
is exceeded.  (In non-interactive use this uses a text version.  If the
file length is known, an equals sign represents 2% of the transfer
completed: otherwise a dot represents 10Kb.)</p>
</dd>
<dt>On a Unix-alike</dt><dd><p>If the file length is known, an
equals sign represents 2% of the transfer completed: otherwise a dot
represents 10Kb.</p>
</dd>
</dl>

<p>The choice of binary transfer (<code>mode = "wb"</code> or <code>"ab"</code>) is
important on Windows, since unlike Unix-alikes it does distinguish
between text and binary files and for text transfers changes &lsquo;<span class="samp">&#8288;\n&#8288;</span>&rsquo;
line endings to &lsquo;<span class="samp">&#8288;\r\n&#8288;</span>&rsquo; (aka &lsquo;<span class="file">CRLF</span>&rsquo;).
</p>
<p>On Windows, if <code>mode</code> is not supplied (<code><a href="base.html#topic+missing">missing</a>()</code>)
and <code>url</code> ends in one of &lsquo;<span class="samp">&#8288;.gz&#8288;</span>&rsquo;, &lsquo;<span class="samp">&#8288;.bz2&#8288;</span>&rsquo;, &lsquo;<span class="samp">&#8288;.xz&#8288;</span>&rsquo;,
&lsquo;<span class="samp">&#8288;.tgz&#8288;</span>&rsquo;, &lsquo;<span class="samp">&#8288;.zip&#8288;</span>&rsquo;, &lsquo;<span class="samp">&#8288;.jar&#8288;</span>&rsquo;, &lsquo;<span class="samp">&#8288;.rda&#8288;</span>&rsquo;, &lsquo;<span class="samp">&#8288;.rds&#8288;</span>&rsquo;,
&lsquo;<span class="samp">&#8288;.RData&#8288;</span>&rsquo; or &lsquo;<span class="samp">&#8288;.pdf&#8288;</span>&rsquo;, <code>mode = "wb"</code> is set so that a binary
transfer is done to help unwary users.
</p>
<p>Code written to download binary files must use <code>mode = "wb"</code> (or
<code>"ab"</code>), but the problems incurred by a text transfer will only
be seen on Windows.
</p>


<h3>Value</h3>

<p>An (invisible) integer code, <code>0</code> for success and non-zero for
failure.  For the <code>"wget"</code> and <code>"curl"</code> methods this is the
status code returned by the external program.  The <code>"internal"</code>
method can return <code>1</code>, but will in most cases throw an error.
</p>
<p>What happens to the destination file(s) in the case of error depends
on the method and <span class="rlang"><b>R</b></span> version. Currently the <code>"internal"</code>,
<code>"wininet"</code> and <code>"libcurl"</code> methods will remove the file if
the URL is unavailable except when <code>mode</code> specifies
appending when the file should be unchanged.
</p>


<h3>Setting Proxies</h3>

<p>For the Windows-only method <code>"wininet"</code>, the &lsquo;Internet
Options&rsquo; of the system are used to choose proxies and so on; these are
set in the Control Panel and are those used for system browsers.
</p>
<p>For the <code>"libcurl"</code> and <code>"curl"</code> methods, proxies can be set
<em>via</em> the environment variables <span class="env">http_proxy</span> or
<span class="env">ftp_proxy</span>.  See
<a href="https://curl.se/libcurl/c/libcurl-tutorial.html">https://curl.se/libcurl/c/libcurl-tutorial.html</a> for further
details.
</p>


<h3>Secure URLs</h3>

<p>Methods which access &lsquo;<span class="samp">&#8288;https://&#8288;</span>&rsquo; and (where
supported) &lsquo;<span class="samp">&#8288;ftps://&#8288;</span>&rsquo; URLs should try to verify the site
certificates.  This is usually done using the CA root certificates
installed by the OS (although we have seen instances in which these
got removed rather than updated). For further information see
<a href="https://curl.se/docs/sslcerts.html">https://curl.se/docs/sslcerts.html</a>.
</p>
<p>On Windows with <code>method = "libcurl"</code>, the CA root certificates
are provided by the OS when <span class="rlang"><b>R</b></span> was linked with <code>libcurl</code> with
<code>Schannel</code> enabled, which is the current default in Rtools.  This
can be verified by checking that <code>libcurlVersion()</code> returns a
version string containing &lsquo;<span class="samp">&#8288;"Schannel"&#8288;</span>&rsquo;.  If it does not, for
verification to be on the environment variable <span class="env">CURL_CA_BUNDLE</span>
must be set to a path to a certificate bundle file, usually named
&lsquo;<span class="file">ca-bundle.crt</span>&rsquo; or &lsquo;<span class="file">curl-ca-bundle.crt</span>&rsquo;.  (This is normally
done automatically for a binary installation of <span class="rlang"><b>R</b></span>, which installs
&lsquo;<span class="file"><var>R_HOME</var>/etc/curl-ca-bundle.crt</span>&rsquo; and sets
<span class="env">CURL_CA_BUNDLE</span> to point to it if that environment variable is
not already set.) For an updated certificate bundle, see
<a href="https://curl.se/docs/sslcerts.html">https://curl.se/docs/sslcerts.html</a>.  Currently one can download
a copy from
<a href="https://raw.githubusercontent.com/bagder/ca-bundle/master/ca-bundle.crt">https://raw.githubusercontent.com/bagder/ca-bundle/master/ca-bundle.crt</a>
and set <span class="env">CURL_CA_BUNDLE</span> to the full path to the downloaded file.
</p>
<p>On Windows with <code>method = "libcurl"</code>, when <span class="rlang"><b>R</b></span> was linked with
<code>libcurl</code> with <code>Schannel</code> enabled, the connection fails if it
cannot be established that the certificate has not been revoked.  Some
<abbr>MITM</abbr> proxies present particularly in corporate environments do not work
with this behavior. It can be changed by setting environment variable
<span class="env">R_LIBCURL_SSL_REVOKE_BEST_EFFORT</span> to <code>TRUE</code>, with the
consequence of reducing security.
</p>
<p>Note that the root certificates used by <span class="rlang"><b>R</b></span> may or may not be the same
as used in a browser, and indeed different browsers may use different
certificate bundles (there is typically a build option to choose
either their own or the system ones).
</p>


<h3>Good practice</h3>

<p>Setting the <code>method</code> should be left to the end user.  Neither of
the <code>wget</code> nor <code>curl</code> commands is widely available:
you can check if one is available <em>via</em> <code><a href="base.html#topic+Sys.which">Sys.which</a></code>,
and should do so in a package or script.
</p>
<p>If you use <code>download.file</code> in a package or script, you must check
the return value, since it is possible that the download will fail
with a non-zero status but not an <span class="rlang"><b>R</b></span> error.
</p>
<p>The supported <code>method</code>s do change: method <code>libcurl</code> was
introduced in <span class="rlang"><b>R</b></span> 3.2.0 and was optional on Windows until <span class="rlang"><b>R</b></span> 4.2.0 &ndash;
use <code><a href="base.html#topic+capabilities">capabilities</a>("libcurl")</code> in a program to see if it is
available.
</p>


<h3>&lsquo;<span class="samp">&#8288;ftp://&#8288;</span>&rsquo; URLs</h3>

<p>Most modern browsers do not support such URLs, and &lsquo;<span class="samp">&#8288;https://&#8288;</span>&rsquo;
ones are much preferred for use in <span class="rlang"><b>R</b></span>. &lsquo;<span class="samp">&#8288;ftps://&#8288;</span>&rsquo; URLs have always
been rare, and are nowadays even less supported.
</p>
<p>It is intended that <span class="rlang"><b>R</b></span> will continue to allow such URLs for as long as
<code>libcurl</code> does, but as they become rarer this is increasingly
untested.   What &lsquo;protocols&rsquo; the version of <code>libcurl</code>
being used supports can be seen by calling <code><a href="base.html#topic+libcurlVersion">libcurlVersion</a>()</code>.
</p>
<p>These URLs are accessed using the FTP protocol which has a
number of variants.  One distinction is between &lsquo;active&rsquo; and
&lsquo;(extended) passive&rsquo; modes: which is used is chosen by the
client.  The <code>"libcurl"</code> method uses passive mode which was
almost universally used by browsers before they dropped support
altogether.
</p>


<h3>Note</h3>

<p>Files of more than 2GB are supported on 64-bit builds of <span class="rlang"><b>R</b></span>; they
may be truncated on some 32-bit builds.
</p>
<p>Methods <code>"wget"</code> and <code>"curl"</code> are mainly for historical
compatibility but provide may provide capabilities not supported by
the <code>"libcurl"</code> or <code>"wininet"</code> methods.
</p>
<p>Method <code>"wget"</code> can be used with proxy firewalls which require
user/password authentication if proper values are stored in the
configuration file for <code>wget</code>.
</p>
<p><code>wget</code> (<a href="https://www.gnu.org/software/wget/">https://www.gnu.org/software/wget/</a>) is commonly
installed on Unix-alikes (but not macOS).  Windows binaries are
available from <abbr>MSYS2</abbr> and elsewhere.
</p>
<p><code>curl</code> (<a href="https://curl.se/">https://curl.se/</a>) is installed on macOS and
increasingly commonly on Unix-alikes.  Windows binaries are available
at that URL.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+options">options</a></code> to set the <code>HTTPUserAgent</code>, <code>timeout</code>
and <code>internet.info</code> options used by some of the methods.
</p>
<p><code><a href="base.html#topic+url">url</a></code> for a finer-grained way to read data from URLs.
</p>
<p><code><a href="#topic+url.show">url.show</a></code>, <code><a href="#topic+available.packages">available.packages</a></code>,
<code><a href="#topic+download.packages">download.packages</a></code> for applications.
</p>
<p>Contributed packages <a href="https://CRAN.R-project.org/package=RCurl"><span class="pkg">RCurl</span></a> and <a href="https://CRAN.R-project.org/package=curl"><span class="pkg">curl</span></a> provide more
comprehensive facilities to download from URLs.
</p>

<hr>
<h2 id='download.packages'>Download Packages from CRAN-like Repositories</h2><span id='topic+download.packages'></span>

<h3>Description</h3>

<p>These functions can be used to automatically compare the version
numbers of installed packages with the newest available version on
the repositories and update outdated packages on the fly.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>download.packages(pkgs, destdir, available = NULL,
                  repos = getOption("repos"),
                  contriburl = contrib.url(repos, type),
                  method, type = getOption("pkgType"), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="download.packages_+3A_pkgs">pkgs</code></td>
<td>

<p>character vector of the names of packages whose latest available
versions should be downloaded from the repositories.
</p>
</td></tr>
<tr><td><code id="download.packages_+3A_destdir">destdir</code></td>
<td>

<p>directory where downloaded packages are to be stored.
</p>
</td></tr>
<tr><td><code id="download.packages_+3A_available">available</code></td>
<td>

<p>an object as returned by <code><a href="#topic+available.packages">available.packages</a></code>
listing packages available at the repositories, or <code>NULL</code> which
makes an internal call to <code>available.packages</code>.
</p>
</td></tr>
<tr><td><code id="download.packages_+3A_repos">repos</code></td>
<td>

<p>character vector, the base URL(s) of the repositories
to use, i.e., the URL of the CRAN master such as
<code>"https://cran.r-project.org"</code> or ones of its mirrors,
<code>"https://cloud.r-project.org"</code>.
</p>
</td></tr>
<tr><td><code id="download.packages_+3A_contriburl">contriburl</code></td>
<td>

<p>URL(s) of the contrib sections of the
repositories.  Use this argument only if your repository mirror is
incomplete, e.g., because you burned only the &lsquo;<span class="file">contrib</span>&rsquo; section on a
CD.  Overrides argument <code>repos</code>.
</p>
</td></tr>
<tr><td><code id="download.packages_+3A_method">method</code></td>
<td>

<p>Download method, see <code><a href="#topic+download.file">download.file</a></code>.
</p>
</td></tr>
<tr><td><code id="download.packages_+3A_type">type</code></td>
<td>

<p>character string, indicate which type of packages: see
<code><a href="#topic+install.packages">install.packages</a></code> and &lsquo;Details&rsquo;.
</p>
</td></tr>
<tr><td><code id="download.packages_+3A_...">...</code></td>
<td>

<p>additional arguments to be passed to <code><a href="#topic+download.file">download.file</a></code>
and <code><a href="#topic+available.packages">available.packages</a></code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>download.packages</code> takes a list of package names and a
destination directory, downloads the newest versions and saves them in
<code>destdir</code>.  If the list of available packages is not given as
argument, it is obtained from repositories.  If a repository is local,
i.e. the URL starts with <code>"file:"</code>, then the packages are not
downloaded but used directly.  Both <code>"file:"</code> and
<code>"file:///"</code> are allowed as prefixes to a file path.  Use the
latter only for URLs: see <code><a href="base.html#topic+url">url</a></code> for their interpretation.
(Other forms of &lsquo;<span class="samp">&#8288;file://&#8288;</span>&rsquo; URLs are not supported.)
</p>
<p>For <code>download.packages</code>, <code>type = "both"</code> looks at source
packages only.
</p>


<h3>Value</h3>

<p>A two-column matrix of names and destination file names of those
packages successfully downloaded.  If packages are not available or
there is a problem with the download, suitable warnings are given.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+available.packages">available.packages</a></code>, <code><a href="#topic+contrib.url">contrib.url</a></code>.
</p>
<p>The main use is by <code><a href="#topic+install.packages">install.packages</a></code>.
</p>
<p>See <code><a href="#topic+download.file">download.file</a></code> for how to handle proxies and
other options to monitor file transfers.
</p>
<p>The &lsquo;R Installation and Administration&rsquo; manual for how to
set up a repository.
</p>

<hr>
<h2 id='edit'>Invoke a Text Editor</h2><span id='topic+edit'></span><span id='topic+edit.default'></span><span id='topic+vi'></span><span id='topic+emacs'></span><span id='topic+pico'></span><span id='topic+xemacs'></span><span id='topic+xedit'></span>

<h3>Description</h3>

<p>Invoke a text editor on an <span class="rlang"><b>R</b></span> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>edit(name, ...)
## Default S3 method:
edit(name = NULL, file = "", title = NULL,
     editor = getOption("editor"), ...)

vi(name = NULL, file = "")
emacs(name = NULL, file = "")
pico(name = NULL, file = "")
xemacs(name = NULL, file = "")
xedit(name = NULL, file = "")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="edit_+3A_name">name</code></td>
<td>
<p>a named object that you want to edit.  For the default
method, if <code>name</code> is missing then the file specified by
<code>file</code> is opened for editing.</p>
</td></tr>
<tr><td><code id="edit_+3A_file">file</code></td>
<td>
<p>a string naming the file to write the edited version to.</p>
</td></tr>
<tr><td><code id="edit_+3A_title">title</code></td>
<td>
<p>a display name for the object being edited.</p>
</td></tr>
<tr><td><code id="edit_+3A_editor">editor</code></td>
<td>
<p>usually a character string naming (or giving the path
to) the text editor you want to use.  On Unix the default is set from
the environment variables <span class="env">EDITOR</span> or <span class="env">VISUAL</span> if either is
set, otherwise <code>vi</code> is used.  On Windows it defaults to
<code>"internal"</code>, the script editor.  On the macOS GUI the argument
is ignored and the document editor is always used.
</p>
<p><code>editor</code> can also be an <span class="rlang"><b>R</b></span> function, in which case it is called
with the arguments <code>name</code>, <code>file</code>, and <code>title</code>.  Note
that such a function will need to independently implement all
desired functionality.
</p>
</td></tr>
<tr><td><code id="edit_+3A_...">...</code></td>
<td>
<p>further arguments to be passed to or from methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>edit</code> invokes the text editor specified by <code>editor</code> with
the object <code>name</code> to be edited.  It is a generic function,
currently with a default method and one for data frames and matrices.
</p>
<p><code>data.entry</code> can be used to edit data, and is used by <code>edit</code>
to edit matrices and data frames on systems for which
<code>data.entry</code> is available.
</p>
<p>It is important to realize that <code>edit</code> does not change the object
called <code>name</code>. Instead, a copy of name is made and it is that
copy which is changed.  Should you want the changes to apply to the
object <code>name</code> you must assign the result of <code>edit</code> to
<code>name</code>.  (Try <code><a href="#topic+fix">fix</a></code> if you want to make permanent
changes to an object.)
</p>
<p>In the form <code>edit(name)</code>,
<code>edit</code> deparses <code>name</code> into a temporary file and invokes the
editor <code>editor</code> on this file. Quitting from the editor causes
<code>file</code> to be parsed and that value returned.
Should an error occur in parsing, possibly due to incorrect syntax, no
value is returned. Calling <code>edit()</code>, with no arguments, will
result in the temporary file being reopened for further editing.
</p>
<p>Note that deparsing is not perfect, and the object recreated after
editing can differ in subtle ways from that deparsed: see
<code><a href="base.html#topic+dput">dput</a></code> and <code><a href="base.html#topic+.deparseOpts">.deparseOpts</a></code>. (The deparse options
used are the same as the defaults for <code>dump</code>.)  Editing a
function will preserve its environment.  See
<code><a href="#topic+edit.data.frame">edit.data.frame</a></code> for further changes that can occur when
editing a data frame or matrix.
</p>
<p>Currently only the internal editor in Windows makes use of the
<code>title</code> option; it displays the given name in the window
header.
</p>


<h3>Note</h3>

<p>The functions <code>vi</code>, <code>emacs</code>, <code>pico</code>, <code>xemacs</code>,
<code>xedit</code> rely on the corresponding editor being available and
being on the path. This is system-dependent.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+edit.data.frame">edit.data.frame</a></code>,
<code><a href="#topic+data.entry">data.entry</a></code>,
<code><a href="#topic+fix">fix</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# use xedit on the function mean and assign the changes
mean &lt;- edit(mean, editor = "xedit")

# use vi on mean and write the result to file mean.out
vi(mean, file = "mean.out")

## End(Not run)
</code></pre>

<hr>
<h2 id='edit.data.frame'>Edit Data Frames and Matrices</h2><span id='topic+edit.data.frame'></span><span id='topic+edit.matrix'></span>

<h3>Description</h3>

<p>Use data editor on data frame or matrix contents.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'data.frame'
edit(name, factor.mode = c("character", "numeric"),
     edit.row.names = any(row.names(name) != 1:nrow(name)), ...)

## S3 method for class 'matrix'
edit(name, edit.row.names = !is.null(dn[[1]]), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="edit.data.frame_+3A_name">name</code></td>
<td>
<p>A data frame or (numeric, logical or character) matrix.</p>
</td></tr>
<tr><td><code id="edit.data.frame_+3A_factor.mode">factor.mode</code></td>
<td>
<p>How to handle factors (as integers or using
character levels) in a data frame.  Can be abbreviated.</p>
</td></tr>
<tr><td><code id="edit.data.frame_+3A_edit.row.names">edit.row.names</code></td>
<td>
<p>logical. Show the row names (if they exist) be
displayed as a separate editable column?  It is an error to ask for
this on a matrix with <code>NULL</code> row names.</p>
</td></tr>
<tr><td><code id="edit.data.frame_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>At present, this only works on simple data frames containing numeric,
logical or character vectors and factors, and numeric, logical or
character matrices.  Any other mode of matrix will give an error, and
a warning is given when the matrix has a class (which will be discarded).
</p>
<p>Data frame columns are coerced on input to <em>character</em> unless
numeric (in the sense of <code>is.numeric</code>), logical or factor.  A
warning is given when classes are discarded.  Special characters
(tabs, non-printing ASCII, etc.) will be displayed as escape sequences.
</p>
<p>Factors columns are represented in the spreadsheet as either numeric
vectors (which are more suitable for data entry) or character vectors
(better for browsing). After editing, vectors are padded with
<code>NA</code> to have the same length and factor attributes are restored.
The set of factor levels can not be changed by editing in numeric
mode; invalid levels are changed to <code>NA</code> and a warning is issued.
If new factor levels are introduced in character mode, they are added
at the end of the list of levels in the order in which they
encountered.
</p>
<p>It is possible to use the data-editor's facilities to select the mode
of columns to swap between numerical and factor columns in a data
frame.  Changing any column in a numerical matrix to character will
cause the result to be coerced to a character matrix.  Changing
the mode of logical columns is not supported.
</p>
<p>For a data frame, the row names will be taken from the original object
if <code>edit.row.names = FALSE</code> and the number of rows is unchanged,
and from the edited output if <code>edit.row.names = TRUE</code> and there
are no duplicates.  (If the <code>row.names</code> column is incomplete, it
is extended by entries like <code>row223</code>.)  In all other cases the
row names are replaced by <code>seq(length = nrows)</code>.
</p>
<p>For a matrix, colnames will be added (of the form <code>col7</code>) if
needed.  The rownames will be taken from the original object if
<code>edit.row.names = FALSE</code> and the number of rows is unchanged
(otherwise <code>NULL</code>), and from the edited output if
<code>edit.row.names = TRUE</code>.  (If the <code>row.names</code> column is
incomplete, it is extended by entries like <code>row223</code>.)
</p>
<p>Editing a matrix or data frame will lose all attributes apart from the
row and column names.
</p>


<h3>Value</h3>

<p>The edited data frame or matrix.
</p>


<h3>Note</h3>

<p><code>fix(dataframe)</code> works for in-place editing by calling this
function.
</p>
<p>If the data editor is not available, a dump of the object is presented
for editing using the default method of <code>edit</code>.
</p>
<p>At present the data editor is limited to 65535 rows.
</p>


<h3>Author(s)</h3>

<p> Peter Dalgaard </p>


<h3>See Also</h3>

<p><code><a href="#topic+data.entry">data.entry</a></code>, <code><a href="#topic+edit">edit</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
edit(InsectSprays)
edit(InsectSprays, factor.mode = "numeric")

## End(Not run)
</code></pre>

<hr>
<h2 id='example'>Run an Examples Section from the Online Help</h2><span id='topic+example'></span>

<h3>Description</h3>

<p>Run all the <span class="rlang"><b>R</b></span> code from the <b>Examples</b> part of <span class="rlang"><b>R</b></span>'s online help
topic <code>topic</code>, with possible exceptions due to <code style="white-space: pre;">&#8288;\dontrun&#8288;</code>,
<code style="white-space: pre;">&#8288;\dontshow&#8288;</code>, and <code style="white-space: pre;">&#8288;\donttest&#8288;</code> tags, see &lsquo;Details&rsquo; below.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>example(topic, package = NULL, lib.loc = NULL,
        character.only = FALSE, give.lines = FALSE, local = FALSE,
        type = c("console", "html"), echo = TRUE,
        verbose = getOption("verbose"),
        setRNG = FALSE, ask = getOption("example.ask"),
        prompt.prefix = abbreviate(topic, 6),
        catch.aborts = FALSE,
        run.dontrun = FALSE, run.donttest = interactive())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="example_+3A_topic">topic</code></td>
<td>
<p>name or literal character string: the online
<code><a href="#topic+help">help</a></code> topic the examples of which should be run.</p>
</td></tr>
<tr><td><code id="example_+3A_package">package</code></td>
<td>
<p>a character vector giving the package names to look
into for the topic, or <code>NULL</code> (the default), when all packages on
the <a href="base.html#topic+search">search</a> path are used.</p>
</td></tr>
<tr><td><code id="example_+3A_lib.loc">lib.loc</code></td>
<td>
<p>a character vector of directory names of <span class="rlang"><b>R</b></span> libraries,
or <code>NULL</code>.  The default value of <code>NULL</code> corresponds to all
libraries currently known.  If the default is used, the loaded
packages are searched before the libraries.</p>
</td></tr>
<tr><td><code id="example_+3A_character.only">character.only</code></td>
<td>
<p>a logical indicating whether <code>topic</code> can be
assumed to be a character string.</p>
</td></tr>
<tr><td><code id="example_+3A_give.lines">give.lines</code></td>
<td>
<p>logical: if true, the <em>lines</em> of the example
source code are returned as a character vector.</p>
</td></tr>
<tr><td><code id="example_+3A_local">local</code></td>
<td>
<p>logical: if <code>TRUE</code> evaluate locally, if <code>FALSE</code>
evaluate in the workspace.</p>
</td></tr>
<tr><td><code id="example_+3A_type">type</code></td>
<td>
<p>character: whether to show output in the console or a
browser (using the dynamic help system). The latter is honored only
in interactive sessions and if the <code><a href="knitr.html#topic+knitr">knitr</a></code>
package is installed. Several other arguments are silently ignored
in that case, including <code>setRNG</code> and <code>lib.loc</code>.</p>
</td></tr>
<tr><td><code id="example_+3A_echo">echo</code></td>
<td>
<p>logical;  if <code>TRUE</code>, show the <span class="rlang"><b>R</b></span> input when sourcing.</p>
</td></tr>
<tr><td><code id="example_+3A_verbose">verbose</code></td>
<td>
<p>logical;  if <code>TRUE</code>, show even more when running
example code.</p>
</td></tr>
<tr><td><code id="example_+3A_setrng">setRNG</code></td>
<td>
<p>logical or expression;  if not <code>FALSE</code>, the random
number generator state is saved, then initialized to a specified state,
the example is run and the (saved) state is restored.
<code>setRNG = TRUE</code> sets the same state as
<code>R CMD <a href="#topic+check">check</a></code> does for
running a package's examples.  This is currently equivalent to
<code>setRNG = {RNGkind("default", "default", "default"); set.seed(1)}</code>.</p>
</td></tr>
<tr><td><code id="example_+3A_ask">ask</code></td>
<td>
<p>logical (or <code>"default"</code>) indicating if
<code><a href="grDevices.html#topic+devAskNewPage">devAskNewPage</a>(ask = TRUE)</code> should be called
before graphical output happens from the example code.  The value
<code>"default"</code> (the factory-fresh default) means to ask if
<code>echo</code> is true and the graphics device appears to be
interactive.  This parameter applies both to any currently opened
device and to any devices opened by the example code.</p>
</td></tr>
<tr><td><code id="example_+3A_prompt.prefix">prompt.prefix</code></td>
<td>
<p>character; prefixes the prompt to be used if
<code>echo</code> is true (as it is by default).</p>
</td></tr>
<tr><td><code id="example_+3A_catch.aborts">catch.aborts</code></td>
<td>
<p>logical, passed on to <code><a href="base.html#topic+source">source</a>()</code>,
indicating that &ldquo;abort&rdquo;ing errors should be caught.</p>
</td></tr>
<tr><td><code id="example_+3A_run.dontrun">run.dontrun</code></td>
<td>
<p>logical indicating that <code style="white-space: pre;">&#8288;\dontrun&#8288;</code>
should be ignored, i.e., do run the enclosed code.</p>
</td></tr>
<tr><td><code id="example_+3A_run.donttest">run.donttest</code></td>
<td>
<p>logical indicating that <code style="white-space: pre;">&#8288;\donttest&#8288;</code>
should be ignored, i.e., do run the enclosed code.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>lib.loc</code> is not specified, the packages are searched for
amongst those already loaded, then in the libraries given by
<code><a href="base.html#topic+.libPaths">.libPaths</a>()</code>.  If <code>lib.loc</code> is specified, packages
are searched for only in the specified libraries, even if they are
already loaded from another library.  The search stops at the first
package found that has help on the topic.
</p>
<p>An attempt is made to load the package before running the examples,
but this will not replace a package loaded from another location.
</p>
<p>If <code>local = TRUE</code> objects are not created in the workspace and so
not available for examination after <code>example</code> completes: on the
other hand they cannot overwrite objects of the same name in the
workspace.
</p>
<p>As detailed in the &lsquo;Writing R Extensions&rsquo; manual, the author of
the help page can tag parts of the examples with the following
exception rules:
</p>

<dl>
<dt><code style="white-space: pre;">&#8288;\dontrun&#8288;</code></dt><dd><p>encloses code that should not be run.</p>
</dd>
<dt><code style="white-space: pre;">&#8288;\dontshow&#8288;</code></dt><dd><p>encloses code that is invisible on help
pages, but will be run both by the package checking tools,
and the <code>example()</code> function.  This was previously
<code style="white-space: pre;">&#8288;\testonly&#8288;</code>, and that form is still accepted.</p>
</dd>
<dt><code style="white-space: pre;">&#8288;\donttest&#8288;</code></dt><dd><p>encloses code that typically should be run,
but not during package checking.  The default
<code>run.donttest = <a href="base.html#topic+interactive">interactive</a>()</code>
leads <code>example()</code> use in other help
page examples to skip <code style="white-space: pre;">&#8288;\donttest&#8288;</code> sections appropriately.</p>
</dd>
</dl>

<p>The additional <code style="white-space: pre;">&#8288;\dontdiff&#8288;</code> tag (in <span class="rlang"><b>R</b></span> <code class="reqn">\ge</code> 4.4.0) produces
special comments in the code run by <code>example</code> (for
<code><a href="tools.html#topic+Rdiff">Rdiff</a></code>-based testing of example output), but does not
affect which code is run or displayed on the help page.
</p>


<h3>Value</h3>

<p>The value of the last evaluated expression, unless <code>give.lines</code>
is true, where a <code><a href="base.html#topic+character">character</a></code> vector is returned.
</p>


<h3>Author(s)</h3>

<p>Martin Maechler and others</p>


<h3>See Also</h3>

<p><code><a href="#topic+demo">demo</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>example(InsectSprays)
## force use of the standard package 'stats':
example("smooth", package = "stats", lib.loc = .Library)

## set RNG *before* example as when R CMD check is run:

r1 &lt;- example(quantile, setRNG = TRUE)
x1 &lt;- rnorm(1)
u &lt;- runif(1)
## identical random numbers
r2 &lt;- example(quantile, setRNG = TRUE)
x2 &lt;- rnorm(1)
stopifnot(identical(r1, r2))
## but x1 and x2 differ since the RNG state from before example()
## differs and is restored!
x1; x2

## Exploring examples code:
## How large are the examples of "lm...()" functions?
lmex &lt;- sapply(apropos("^lm", mode = "function"),
               example, character.only = TRUE, give.lines = TRUE)
lengths(lmex)
</code></pre>

<hr>
<h2 id='file_test'>
Shell-style Tests on Files
</h2><span id='topic+file_test'></span>

<h3>Description</h3>

<p>Utility for shell-style file tests.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>file_test(op, x, y)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="file_test_+3A_op">op</code></td>
<td>
<p>a character string specifying the test to be performed.
Unary tests (only <code>x</code> is used) are
<code>"-f"</code> (existence and not being a directory),
<code>"-d"</code> (existence and directory),
<code>"-L"</code> or <code>"-h"</code> (existence and symbolic link),
<code>"-x"</code> (executable as a file or searchable as a directory),
<code>"-w"</code> (writable) and
<code>"-r"</code> (readable).
Binary tests are
<code>"-nt"</code> (strictly newer than, using the modification dates) and
<code>"-ot"</code> (strictly older than):
in both cases the test is false unless both files exist.</p>
</td></tr>
<tr><td><code id="file_test_+3A_x">x</code>, <code id="file_test_+3A_y">y</code></td>
<td>
<p>character vectors giving file paths.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>&lsquo;Existence&rsquo; here means being on the file system and accessible
by the <code>stat</code> system call (or a 64-bit extension) &ndash; on a
Unix-alike this requires execute permission on all of the directories in
the path that leads to the file, but no permissions on the file
itself.
</p>
<p>For the meaning of <code>"-x"</code> on Windows see <code><a href="base.html#topic+file.access">file.access</a></code>.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+file.exists">file.exists</a></code> which only tests for existence
(<code>test -e</code> on some systems) but not for not being a directory.
</p>
<p><code><a href="base.html#topic+file.path">file.path</a></code>, <code><a href="base.html#topic+file.info">file.info</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dir &lt;- file.path(R.home(), "library", "stats")
file_test("-d", dir)
file_test("-nt", file.path(dir, "R"), file.path(dir, "demo"))
</code></pre>

<hr>
<h2 id='file.edit'>Edit One or More Files</h2><span id='topic+file.edit'></span>

<h3>Description</h3>

<p>Edit one or more files in a text editor.</p>


<h3>Usage</h3>

<pre><code class='language-R'>file.edit(..., title = file, editor = getOption("editor"),
          fileEncoding = "")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="file.edit_+3A_...">...</code></td>
<td>
<p>one or more character vectors containing the names of the
files to be displayed.  These will be tilde-expanded: see
<code><a href="base.html#topic+path.expand">path.expand</a></code>.</p>
</td></tr>
<tr><td><code id="file.edit_+3A_title">title</code></td>
<td>
<p>the title to use in the editor; defaults to the filename.</p>
</td></tr>
<tr><td><code id="file.edit_+3A_editor">editor</code></td>
<td>
<p>the text editor to be used, usually as a character
string naming (or giving the path to) the text editor you want to
use  See &lsquo;Details&rsquo;.</p>
</td></tr> 
<tr><td><code id="file.edit_+3A_fileencoding">fileEncoding</code></td>
<td>
<p>the encoding to assume for the file: the default
is to assume the native encoding.  See the &lsquo;Encoding&rsquo; section
of the help for <code><a href="base.html#topic+file">file</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The behaviour of this function is very system-dependent.  Currently
files can be opened only one at a time on Unix; on Windows, the
internal editor allows multiple files to be opened, but has a limit of
50 simultaneous edit windows.
</p>
<p>The <code>title</code> argument is used for the window caption in Windows,
and is currently ignored on other platforms.
</p>
<p>Any error in re-encoding the files to the native encoding will cause
the function to fail.
</p>
<p>The default for <code>editor</code> is system-dependent.   On
Windows it defaults to <code>"internal"</code>, the script editor, and in
the macOS GUI the document editor is used whatever the value of
<code>editor</code>.  On Unix the default is set from the environment
variables <span class="env">EDITOR</span> or <span class="env">VISUAL</span> if either is set, otherwise
<code>vi</code> is used.
</p>
<p><code>editor</code> can also be an <span class="rlang"><b>R</b></span> function, in which case it is called
with the arguments <code>name</code>, <code>file</code>, and <code>title</code>.  Note
that such a function will need to independently implement all
desired functionality.
</p>
<p>On Windows,
UTF-8-encoded paths not valid in the current locale can be used.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+files">files</a></code>,
<code><a href="base.html#topic+file.show">file.show</a></code>,
<code><a href="#topic+edit">edit</a></code>,
<code><a href="#topic+fix">fix</a></code>,
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# open two R scripts for editing
file.edit("script1.R", "script2.R")

## End(Not run)
</code></pre>

<hr>
<h2 id='findCRANmirror'>Find CRAN Mirror Preference</h2><span id='topic+findCRANmirror'></span>

<h3>Description</h3>

<p>Find out if a CRAN mirror has been selected for the current session.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>findCRANmirror(type = c("src", "web"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="findCRANmirror_+3A_type">type</code></td>
<td>
<p>Is the mirror to be used for package sources or web information?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Find out if a CRAN mirror has been selected for the current session.
If so, return its URL else return &lsquo;<span class="samp">&#8288;"https://CRAN.R-project.org"&#8288;</span>&rsquo;.
</p>
<p>The mirror is looked for in several places.
</p>

<ul>
<li><p> The value of the environment variable <span class="env">R_CRAN_SRC</span> or
<span class="env">R_CRAN_WEB</span> (depending on <code>type</code>), if set.
</p>
</li>
<li><p> An entry in <code>getOption("repos")</code> named &lsquo;<span class="samp">&#8288;CRAN&#8288;</span>&rsquo; which
is not the default &lsquo;<span class="samp">&#8288;"@CRAN@")&#8288;</span>&rsquo;.
</p>
</li>
<li><p> The &lsquo;<span class="samp">&#8288;CRAN&#8288;</span>&rsquo; URL entry in the &lsquo;<span class="file">repositories</span>&rsquo; file (see
<code><a href="#topic+setRepositories">setRepositories</a></code>), if it is not the default &lsquo;<span class="samp">&#8288;"@CRAN@"&#8288;</span>&rsquo;.
</p>
</li></ul>

<p>The two types allow for partial local CRAN mirrors, for example those
mirroring only the package sources where <code>getOption("repos")</code>
might point to the partial mirror and <span class="env">R_CRAN_WEB</span> point to
a full (remote) mirror.
</p>


<h3>Value</h3>

<p>A character string.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+setRepositories">setRepositories</a></code>, <code><a href="#topic+chooseCRANmirror">chooseCRANmirror</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
c(findCRANmirror("src"), findCRANmirror("web"))

Sys.setenv(R_CRAN_WEB = "https://cloud.r-project.org")
c(findCRANmirror("src"), findCRANmirror("web"))

</code></pre>

<hr>
<h2 id='findLineNum'>
Find the Location of a Line of Source Code, or Set a Breakpoint There
</h2><span id='topic+findLineNum'></span><span id='topic+setBreakpoint'></span>

<h3>Description</h3>

<p>These functions locate objects containing particular lines of source
code, using the information saved when the code was parsed with
<code>keep.source = TRUE</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>findLineNum(srcfile, line, nameonly = TRUE,
            envir = parent.frame(), lastenv)

setBreakpoint(srcfile, line, nameonly = TRUE,
              envir = parent.frame(), lastenv, verbose = TRUE,
              tracer, print = FALSE, clear = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="findLineNum_+3A_srcfile">srcfile</code></td>
<td>
<p>The name of the file containing the source code.</p>
</td></tr>
<tr><td><code id="findLineNum_+3A_line">line</code></td>
<td>
<p>The line number within the file.  See Details for an
alternate way to specify this.</p>
</td></tr>
<tr><td><code id="findLineNum_+3A_nameonly">nameonly</code></td>
<td>
<p>If <code>TRUE</code> (the default), we require only a match
to <code>basename(srcfile)</code>, not to the full path.</p>
</td></tr>
<tr><td><code id="findLineNum_+3A_envir">envir</code></td>
<td>
<p>Where do we start looking for function objects?</p>
</td></tr>
<tr><td><code id="findLineNum_+3A_lastenv">lastenv</code></td>
<td>
<p>Where do we stop?  See the Details.</p>
</td></tr>
<tr><td><code id="findLineNum_+3A_verbose">verbose</code></td>
<td>
<p>Should we print information on where breakpoints were set?</p>
</td></tr>
<tr><td><code id="findLineNum_+3A_tracer">tracer</code></td>
<td>
<p>An optional <code>tracer</code> function to pass to
<code><a href="base.html#topic+trace">trace</a></code>.  By default, a call to <code><a href="base.html#topic+browser">browser</a></code>
is inserted.</p>
</td></tr>
<tr><td><code id="findLineNum_+3A_print">print</code></td>
<td>
<p>The <code>print</code> argument to pass to <code><a href="base.html#topic+trace">trace</a></code>.</p>
</td></tr>
<tr><td><code id="findLineNum_+3A_clear">clear</code></td>
<td>
<p>If <code>TRUE</code>, call <code><a href="base.html#topic+untrace">untrace</a></code> rather than
<code><a href="base.html#topic+trace">trace</a></code>.</p>
</td></tr>
<tr><td><code id="findLineNum_+3A_...">...</code></td>
<td>
<p>Additional arguments to pass to <code><a href="base.html#topic+trace">trace</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>findLineNum</code> function searches through all objects in
environment <code>envir</code>, its parent, grandparent, etc., all the way
back to <code>lastenv</code>.
</p>
<p><code>lastenv</code> defaults to the global environment if
<code>envir</code> is not specified, and to the
root environment <code><a href="base.html#topic+emptyenv">emptyenv</a>()</code> if <code>envir</code> is
specified.  (The first default tends to be quite fast, and will
usually find all user code other than S4 methods; the second one is
quite slow, as it will typically search all attached system
libraries.)
</p>
<p>For convenience, <code>envir</code> may be specified indirectly:  if it is
not an environment, it will be replaced with
<code>environment(envir)</code>.
</p>
<p><code>setBreakpoint</code> is a simple wrapper function for
<code><a href="base.html#topic+trace">trace</a></code> and <code><a href="base.html#topic+untrace">untrace</a></code>.  It will set or clear
breakpoints at the locations found by <code>findLineNum</code>.
</p>
<p>The <code>srcfile</code> is normally a filename entered as a character
string, but it may be a <code>"<a href="base.html#topic+srcfile">srcfile</a>"</code> object, or it may
include a suffix like <code>"filename.R#nn"</code>, in which case the number
<code>nn</code> will be used as a default value for <code>line</code>.
</p>
<p>As described in the description of the <code>where</code> argument on the
man page for <code><a href="base.html#topic+trace">trace</a></code>, the <span class="rlang"><b>R</b></span> package system uses a
complicated scheme that may include more than one copy of a function
in a package.  The user will typically see the public one on the
search path, while code in the package will see a private one in the
package namespace.  If you set <code>envir</code> to the environment of a
function in the package, by default <code>findLineNum</code> will find both
versions, and <code>setBreakpoint</code> will set the breakpoint in both.
(This can be controlled using <code>lastenv</code>; e.g.,
<code>envir = environment(foo)</code>, <code>lastenv = globalenv()</code>
will find only the private copy, as the search is stopped before
seeing the public copy.)
</p>
<p>S version 4 methods are also somewhat tricky to find.  They are stored
with the generic function, which may be in the <span class="pkg">base</span> or other
package, so it is usually necessary to have <code>lastenv = emptyenv()</code>
in order to find them.  In some cases transformations are done by <span class="rlang"><b>R</b></span>
when storing them and <code>findLineNum</code> may not be able to find the
original code.  Many special cases, e.g. methods on primitive
generics, are not yet supported.
</p>


<h3>Value</h3>

<p><code>findLineNum</code> returns a list of objects containing location
information.  A <code>print</code> method is defined for them.
</p>
<p><code>setBreakpoint</code> has no useful return value; it is called for the
side effect of calling <code><a href="base.html#topic+trace">trace</a></code> or <code><a href="base.html#topic+untrace">untrace</a></code>.
</p>


<h3>Author(s)</h3>

<p>Duncan Murdoch
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+trace">trace</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Find what function was defined in the file mysource.R at line 100:
findLineNum("mysource.R#100")

# Set a breakpoint in both copies of that function, assuming one is in the
# same namespace as myfunction and the other is on the search path
setBreakpoint("mysource.R#100", envir = myfunction)

## End(Not run)
</code></pre>

<hr>
<h2 id='fix'>Fix an Object</h2><span id='topic+fix'></span>

<h3>Description</h3>

<p><code>fix</code> invokes <code><a href="#topic+edit">edit</a></code> on <code>x</code> and then assigns the new
(edited) version of <code>x</code> in the user's workspace.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fix(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fix_+3A_x">x</code></td>
<td>
<p>the name of an <span class="rlang"><b>R</b></span> object, as a name or a character string.</p>
</td></tr>
<tr><td><code id="fix_+3A_...">...</code></td>
<td>
<p>arguments to pass to editor: see <code><a href="#topic+edit">edit</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The name supplied as <code>x</code> need not exist as an <span class="rlang"><b>R</b></span> object, in
which case a function with no arguments and an empty body is supplied
for editing.
</p>
<p>Editing an <span class="rlang"><b>R</b></span> object may change it in ways other than are obvious: see
the comment under <code><a href="#topic+edit">edit</a></code>.  See
<code><a href="#topic+edit.data.frame">edit.data.frame</a></code> for changes that can occur when editing
a data frame or matrix.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+edit">edit</a></code>,
<code><a href="#topic+edit.data.frame">edit.data.frame</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
 ## Assume 'my.fun' is a user defined function :
 fix(my.fun)
 ## now my.fun is changed
 ## Also,
 fix(my.data.frame) # calls up data editor
 fix(my.data.frame, factor.mode="char") # use of ...

## End(Not run)</code></pre>

<hr>
<h2 id='flush.console'>Flush Output to a Console</h2><span id='topic+flush.console'></span>

<h3>Description</h3>

<p>This does nothing except on console-based versions of <span class="rlang"><b>R</b></span>.
On the macOS and Windows GUIs, it ensures that the display of
output in the console is current, even if output buffering is on.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>flush.console()
</code></pre>

<hr>
<h2 id='format'>Format Unordered and Ordered Lists</h2><span id='topic+formatUL'></span><span id='topic+formatOL'></span>

<h3>Description</h3>

<p>Format unordered (itemize) and ordered (enumerate) lists.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>formatUL(x, label = "*", offset = 0,
         width = 0.9 * getOption("width"))
formatOL(x, type = "arabic", offset = 0, start = 1,
         width = 0.9 * getOption("width"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="format_+3A_x">x</code></td>
<td>
<p>a character vector of list items.</p>
</td></tr>
<tr><td><code id="format_+3A_label">label</code></td>
<td>
<p>a character string used for labelling the items.</p>
</td></tr>
<tr><td><code id="format_+3A_offset">offset</code></td>
<td>
<p>a non-negative integer giving the offset (indentation)
of the list.</p>
</td></tr>
<tr><td><code id="format_+3A_width">width</code></td>
<td>
<p>a positive integer giving the target column for wrapping
lines in the output.</p>
</td></tr>
<tr><td><code id="format_+3A_type">type</code></td>
<td>
<p>a character string specifying the &lsquo;type&rsquo; of the
labels in the ordered list.  If <code>"arabic"</code> (default), arabic
numerals are used.  For <code>"Alph"</code> or <code>"alph"</code>, single upper
or lower case letters are employed (in this case, the number of the
last item must not exceed 26).  Finally, for <code>"Roman"</code> or
<code>"roman"</code>, the labels are given as upper or lower case roman
numerals (with the number of the last item maximally 3999).
<code>type</code> can be given as a unique abbreviation of the above, or
as one of the <abbr><span class="acronym">HTML</span></abbr> style tokens <code>"1"</code> (arabic),
<code>"A"</code>/<code>"a"</code> (alphabetic), or <code>"I"</code>/<code>"i"</code>
(roman), respectively.</p>
</td></tr>
<tr><td><code id="format_+3A_start">start</code></td>
<td>
<p>a positive integer specifying the starting number of the
first item in an ordered list.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector with the formatted entries.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+formatDL">formatDL</a></code> for formatting description lists.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## A simpler recipe.
x &lt;- c("Mix dry ingredients thoroughly.",
       "Pour in wet ingredients.",
       "Mix for 10 minutes.",
       "Bake for one hour at 300 degrees.")
## Format and output as an unordered list.
writeLines(formatUL(x))
## Format and output as an ordered list.
writeLines(formatOL(x))
## Ordered list using lower case roman numerals.
writeLines(formatOL(x, type = "i"))
## Ordered list using upper case letters and some offset.
writeLines(formatOL(x, type = "A", offset = 5))
</code></pre>

<hr>
<h2 id='getAnywhere'>Retrieve an R Object, Including from a Namespace</h2><span id='topic+getAnywhere'></span><span id='topic+argsAnywhere'></span><span id='topic++5B.getAnywhere'></span><span id='topic+print.getAnywhere'></span>

<h3>Description</h3>

<p>These functions locate all objects with name matching their argument,
whether visible on the search path, registered as an S3 method or in a
namespace but not exported.  <code>getAnywhere()</code> returns the objects
and <code>argsAnywhere()</code> returns the arguments of any objects that
are functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getAnywhere(x)
argsAnywhere(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getAnywhere_+3A_x">x</code></td>
<td>
<p>a character string or name.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>These functions look at all loaded namespaces, whether or not they are
associated with a package on the search list.
</p>
<p>They do not search literally &ldquo;anywhere&rdquo;: for example, local
evaluation frames and namespaces that are not loaded will not be
searched.
</p>
<p>Where functions are found as registered S3 methods, an attempt is
made to find which namespace registered them.  This may not be
correct, especially if namespaces have been unloaded.
</p>


<h3>Value</h3>

<p>For <code>getAnywhere()</code> an object of class <code>"getAnywhere"</code>.
This is a list with components
</p>
<table>
<tr><td><code>name</code></td>
<td>
<p>the name searched for</p>
</td></tr>
<tr><td><code>objs</code></td>
<td>
<p>a list of objects found</p>
</td></tr>
<tr><td><code>where</code></td>
<td>
<p>a character vector explaining where the object(s) were found</p>
</td></tr>
<tr><td><code>visible</code></td>
<td>
<p>logical: is the object visible</p>
</td></tr>
<tr><td><code>dups</code></td>
<td>
<p>logical: is the object identical to one earlier in the
list.</p>
</td></tr>
</table>
<p>In computing whether objects are identical, their environments are ignored.
</p>
<p>Normally the structure will be hidden by the <code>print</code> method.
There is a <code>[</code> method to extract one or more of the objects
found.
</p>
<p>For <code>argsAnywhere()</code> one or more argument lists as returned by
<code><a href="base.html#topic+args">args</a></code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+getS3method">getS3method</a></code> to find the method which would be used: this
might not be the one of those returned by <code>getAnywhere</code> since it
might have come from a namespace which was unloaded or be registered
under another name.
</p>
<p><code><a href="base.html#topic+get">get</a></code>,  <code><a href="#topic+getFromNamespace">getFromNamespace</a></code>, <code><a href="base.html#topic+args">args</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>getAnywhere("format.dist")
getAnywhere("simpleLoess") # not exported from stats
argsAnywhere(format.dist)
</code></pre>

<hr>
<h2 id='getFromNamespace'>Utility Functions for Developing Namespaces</h2><span id='topic+assignInNamespace'></span><span id='topic+assignInMyNamespace'></span><span id='topic+getFromNamespace'></span><span id='topic+fixInNamespace'></span>

<h3>Description</h3>

<p>Utility functions to access and replace the non-exported functions in
a namespace, for use in developing packages with namespaces.
</p>
<p>They should not be used in production code (except perhaps
<code>assignInMyNamespace</code>, but see the &lsquo;Note&rsquo;).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getFromNamespace(x, ns, pos = -1, envir = as.environment(pos))

assignInNamespace(x, value, ns, pos = -1,
                  envir = as.environment(pos))

assignInMyNamespace(x, value)

fixInNamespace(x, ns, pos = -1, envir = as.environment(pos), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getFromNamespace_+3A_x">x</code></td>
<td>
<p>an object name (given as a character string).</p>
</td></tr>
<tr><td><code id="getFromNamespace_+3A_value">value</code></td>
<td>
<p>an <span class="rlang"><b>R</b></span> object.</p>
</td></tr>
<tr><td><code id="getFromNamespace_+3A_ns">ns</code></td>
<td>
<p>a namespace, or character string giving the namespace.</p>
</td></tr>
<tr><td><code id="getFromNamespace_+3A_pos">pos</code></td>
<td>
<p>where to look for the object: see <code><a href="base.html#topic+get">get</a></code>.</p>
</td></tr>
<tr><td><code id="getFromNamespace_+3A_envir">envir</code></td>
<td>
<p>an alternative way to specify an environment to look in.</p>
</td></tr>
<tr><td><code id="getFromNamespace_+3A_...">...</code></td>
<td>
<p>arguments to pass to the editor: see <code><a href="#topic+edit">edit</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>assignInMyNamespace</code> is intended to be called from functions
within a package, and chooses the namespace as the environment of the
function calling it.
</p>
<p>The namespace can be specified in several ways.  Using, for example,
<code>ns = "stats"</code> is the most direct, but a loaded package can be
specified via any of the methods used for <code><a href="base.html#topic+get">get</a></code>: <code>ns</code>
can also be the environment printed as &lsquo;<span class="samp">&#8288;&lt;namespace:foo&gt;&#8288;</span>&rsquo;.
</p>
<p><code>getFromNamespace</code> is similar to (but predates) the
<code><a href="base.html#topic++3A+3A+3A">:::</a></code> operator: it is more flexible in how the namespace
is specified.
</p>
<p><code>fixInNamespace</code> invokes <code><a href="#topic+edit">edit</a></code> on the object named
<code>x</code> and assigns the revised object in place of the original
object.  For compatibility with <code>fix</code>, <code>x</code> can be unquoted.
</p>


<h3>Value</h3>

<p><code>getFromNamespace</code> returns the object found (or gives an error).
</p>
<p><code>assignInNamespace</code>, <code>assignInMyNamespace</code> and
<code>fixInNamespace</code> are invoked for their side effect of changing
the object in the namespace.
</p>


<h3>Warning</h3>

<p><code>assignInNamespace</code> should not be used in final code, and will in
future throw an error if called from a package.  Already certain uses
are disallowed.
</p>


<h3>Note</h3>

<p><code>assignInNamespace</code>, <code>assignInMyNamespace</code> and
<code>fixInNamespace</code> change the copy in the namespace, but not any
copies already exported from the namespace, in particular an object of
that name in the package (if already attached) and any copies already
imported into other namespaces.  They are really intended to be used
<em>only</em> for objects which are not exported from the namespace.
They do attempt to alter a copy registered as an S3 method if one is
found.
</p>
<p>They can only be used to change the values of objects in the
namespace, not to create new objects.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+get">get</a></code>, <code><a href="#topic+fix">fix</a></code>, <code><a href="#topic+getS3method">getS3method</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>getFromNamespace("findGeneric", "utils")
## Not run: 
fixInNamespace("predict.ppr", "stats")
stats:::predict.ppr
getS3method("predict", "ppr")
## alternatively
fixInNamespace("predict.ppr", pos = 3)
fixInNamespace("predict.ppr", pos = "package:stats")

## End(Not run)</code></pre>

<hr>
<h2 id='getParseData'>Get Detailed Parse Information from Object</h2><span id='topic+getParseData'></span><span id='topic+getParseText'></span>

<h3>Description</h3>

<p>If the <code>"keep.source"</code> option is <code>TRUE</code>, <span class="rlang"><b>R</b></span>'s parser
will attach detailed information on the object it has parsed.  These
functions retrieve that information.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getParseData(x, includeText = NA)
getParseText(parseData, id)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getParseData_+3A_x">x</code></td>
<td>

<p>an expression returned from <code><a href="base.html#topic+parse">parse</a></code>, or a function or other
object with source reference information
</p>
</td></tr>
<tr><td><code id="getParseData_+3A_includetext">includeText</code></td>
<td>

<p>logical; whether to include the text of parsed items in the result
</p>
</td></tr>
<tr><td><code id="getParseData_+3A_parsedata">parseData</code></td>
<td>

<p>a data frame returned from <code>getParseData</code>
</p>
</td></tr>
<tr><td><code id="getParseData_+3A_id">id</code></td>
<td>

<p>a vector of item identifiers whose text is to be retrieved
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In version 3.0.0, the <span class="rlang"><b>R</b></span> parser was modified to include code written
by Romain Francois in his <span class="pkg">parser</span> package.  This constructs a
detailed table of information about every token and higher level
construct in parsed code.  This table is stored in the
<code><a href="base.html#topic+srcfile">srcfile</a></code> record associated with source references in the
parsed code, and retrieved by the <code>getParseData</code> function.
</p>


<h3>Value</h3>

<p>For <code>getParseData</code>:<br />
If parse data is not present, <code>NULL</code>.  Otherwise
a data frame is returned, containing the following columns:
</p>
<table>
<tr><td><code>line1</code></td>
<td>
<p>integer. The line number where the item starts.  This is the
parsed line number called <code>"parse"</code> in <code><a href="#topic+getSrcLocation">getSrcLocation</a></code>,
which ignores <code style="white-space: pre;">&#8288;#line&#8288;</code> directives.</p>
</td></tr>
<tr><td><code>col1</code></td>
<td>
<p>integer. The column number where the item starts.  The first character
is column 1.  This corresponds to <code>"column"</code> in <code><a href="#topic+getSrcLocation">getSrcLocation</a></code>.</p>
</td></tr>
<tr><td><code>line2</code></td>
<td>
<p>integer. The line number where the item ends.</p>
</td></tr>
<tr><td><code>col2</code></td>
<td>
<p>integer. The column number where the item ends.</p>
</td></tr>
<tr><td><code>id</code></td>
<td>
<p>integer. An identifier associated with this item.</p>
</td></tr>
<tr><td><code>parent</code></td>
<td>
<p>integer. The <code>id</code> of the parent of this item.</p>
</td></tr>
<tr><td><code>token</code></td>
<td>
<p>character string. The type of the token.</p>
</td></tr>
<tr><td><code>terminal</code></td>
<td>
<p>logical.  Whether the token is &ldquo;terminal&rdquo;, i.e.
a leaf in the parse tree.</p>
</td></tr>
<tr><td><code>text</code></td>
<td>
<p>character string. If <code>includeText</code> is <code>TRUE</code>, the
text of all tokens; if it is <code>NA</code> (the default), the text of terminal
tokens.  If <code>includeText == FALSE</code>, this column is not included.
Very long strings (with source of 1000 characters or more) will not be stored;
a message giving their length and delimiter will be included instead.</p>
</td></tr>
</table>
<p>The rownames of the data frame will be equal to the <code>id</code> values,
and the data frame will have a <code>"srcfile"</code> attribute containing
the <code><a href="base.html#topic+srcfile">srcfile</a></code> record which was used.  The rows will be
ordered by starting position within the source file, with parent items
occurring before their children.
</p>
<p>For <code>getParseText</code>:<br />
A character vector of the same length as <code>id</code> containing the associated
text items.  If they are not included in <code>parseData</code>, they will be
retrieved from the original file.
</p>


<h3>Note</h3>

<p>There are a number of differences in the results returned by
<code>getParseData</code> relative to those in the original <span class="pkg">parser</span>
code:
</p>

<ul>
<li><p> Fewer columns are kept.
</p>
</li>
<li><p> The internal token number is not returned.
</p>
</li>
<li> <p><code>col1</code> starts counting at 1, not 0.
</p>
</li>
<li><p> The <code>id</code> values are not attached to the elements of the parse
tree, they are only retained in the table returned by <code>getParseData</code>.
</p>
</li>
<li> <p><code style="white-space: pre;">&#8288;#line&#8288;</code> directives are identified, but other comment
markup (e.g., <a href="https://CRAN.R-project.org/package=roxygen"><span class="pkg">roxygen</span></a> comments) are not.
</p>
</li></ul>

<p>Parse data by design explore details of the parser implementation, which
are subject to change without notice.  Applications computing on the parse
data may require updates for each R release.
</p>


<h3>Author(s)</h3>

<p>Duncan Murdoch
</p>


<h3>References</h3>

<p>Romain Francois (2012). parser: Detailed R source code parser. R
package version 0.0-16. <a href="https://github.com/halpo/parser">https://github.com/halpo/parser</a>.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+parse">parse</a></code>, <code><a href="base.html#topic+srcref">srcref</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>fn &lt;- function(x) {
  x + 1 # A comment, kept as part of the source
}

d &lt;- getParseData(fn)
if (!is.null(d)) {
  plus &lt;- which(d$token == "'+'")
  sum &lt;- d$parent[plus]
  print(d[as.character(sum),])
  print(getParseText(d, sum))
}
</code></pre>

<hr>
<h2 id='getS3method'>Get an S3 Method</h2><span id='topic+getS3method'></span>

<h3>Description</h3>

<p>Get a method for an S3 generic, possibly from a namespace or the
generic's registry.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getS3method(f, class, optional = FALSE, envir = parent.frame())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getS3method_+3A_f">f</code></td>
<td>
<p>a character string giving the name of the generic.</p>
</td></tr>
<tr><td><code id="getS3method_+3A_class">class</code></td>
<td>
<p>a character string giving the name of the class.</p>
</td></tr>
<tr><td><code id="getS3method_+3A_optional">optional</code></td>
<td>
<p>logical: should failure to find the generic or a
method be allowed?</p>
</td></tr>
<tr><td><code id="getS3method_+3A_envir">envir</code></td>
<td>
<p>the <code><a href="base.html#topic+environment">environment</a></code> in which the method and its
generic are searched first.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>S3 methods may be hidden in namespaces, and will not
then be found by <code><a href="base.html#topic+get">get</a></code>: this function can retrieve
such functions, primarily for debugging purposes.
</p>
<p>Further, S3 methods can be registered on the generic when a namespace
is loaded, and the registered method will be used if none is visible
(using namespace scoping rules).
</p>
<p>It is possible that which S3 method will be used may depend on where
the generic <code>f</code> is called from: <code>getS3method</code> returns the
method found if <code>f</code> were called from the same environment.
</p>


<h3>Value</h3>

<p>The function found, or <code>NULL</code> if no function is found and
<code>optional = TRUE</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+methods">methods</a></code>, <code><a href="base.html#topic+get">get</a></code>, <code><a href="#topic+getAnywhere">getAnywhere</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>require(stats)
exists("predict.ppr") # false
getS3method("predict", "ppr")
</code></pre>

<hr>
<h2 id='getWindowsHandle'>Get a Windows Handle</h2><span id='topic+getWindowsHandle'></span>

<h3>Description</h3>

<p>Get the Windows handle of a window or of the <span class="rlang"><b>R</b></span> process in MS Windows.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getWindowsHandle(which = "Console")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getWindowsHandle_+3A_which">which</code></td>
<td>
<p>a string (see below), or the number of a graphics device
window (which must a <code><a href="grDevices.html#topic+windows">windows</a></code> one).</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>getWindowsHandle</code> gets the Windows handle.
Possible choices for <code>which</code> are:
</p>

<table>
<tr>
 <td style="text-align: left;">
  <code>"Console"</code> </td><td style="text-align: left;"> The console window handle. </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>"Frame"</code>   </td><td style="text-align: left;"> The MDI frame window handle. </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>"Process"</code> </td><td style="text-align: left;"> The process pseudo-handle. </td>
</tr>
<tr>
 <td style="text-align: left;">
  A device number </td><td style="text-align: left;"> The window handle of a graphics device
 </td>
</tr>

</table>

<p>These values are not normally useful to users, but may be used by
developers making addons to <span class="rlang"><b>R</b></span>.
</p>
<p><code>NULL</code> is returned for the Frame handle if not running in MDI mode,
for the Console handle when running Rterm, for any unrecognized
string for <code>which</code>, or for a graphics device with no
corresponding window.
</p>
<p>Other windows (help browsers, etc.) are not accessible
through this function.
</p>


<h3>Value</h3>

<p>An external pointer holding the Windows handle, or <code>NULL</code>.
</p>


<h3>Note</h3>

<p>This is only available on Windows.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+getIdentification">getIdentification</a></code>, <code><a href="#topic+getWindowsHandles">getWindowsHandles</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>if(.Platform$OS.type == "windows")
  print( getWindowsHandle() )
</code></pre>

<hr>
<h2 id='getWindowsHandles'>Get handles of Windows in the MS Windows RGui</h2><span id='topic+getWindowsHandles'></span>

<h3>Description</h3>

<p>This function gets the Windows handles of visible top level windows or
windows within the <span class="rlang"><b>R</b></span> MDI frame (when using the <code>Rgui</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getWindowsHandles(which = "R", pattern = "", minimized = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getWindowsHandles_+3A_which">which</code></td>
<td>

<p>A vector of strings &quot;R&quot; or &quot;all&quot; (possibly with repetitions).  See
the Details section.
</p>
</td></tr>
<tr><td><code id="getWindowsHandles_+3A_pattern">pattern</code></td>
<td>

<p>A vector of patterns that the titles of the windows must match.
</p>
</td></tr>
<tr><td><code id="getWindowsHandles_+3A_minimized">minimized</code></td>
<td>

<p>A logical vector indicating whether minimized windows should be considered.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function will search for Windows handles, for passing to external
GUIs or to the <code><a href="#topic+arrangeWindows">arrangeWindows</a></code> function.  Each of the
arguments may be a vector of values.  These will be treated as
follows:
</p>

<ul>
<li><p> The arguments will all be recycled to the same length.
</p>
</li>
<li><p> The corresponding elements of each argument will be applied in
separate searches.
</p>
</li>
<li><p> The final result will be the union of the windows identified in
each of the searches.
</p>
</li></ul>

<p>If an element of <code>which</code> is <code>"R"</code>, only windows belonging to
the current <span class="rlang"><b>R</b></span> process will be returned.  In MDI mode, those will be the
child windows within the <span class="rlang"><b>R</b></span> GUI (<code>Rgui</code>) frame.  In SDI mode,
all windows belonging to the process will be included.
</p>
<p>If the element is <code>"all"</code>, then top level windows will be returned.
</p>
<p>The elements of <code>pattern</code> will be used to make a subset of windows
whose title text matches (according to <code><a href="base.html#topic+grep">grep</a></code>) the pattern.
</p>
<p>If <code>minimized = FALSE</code>, minimized windows will be ignored.
</p>


<h3>Value</h3>

<p>A list of external pointers containing the window handles.
</p>


<h3>Note</h3>

<p>This is only available on Windows.
</p>


<h3>Author(s)</h3>

<p>Duncan Murdoch
</p>


<h3>See Also</h3>

<p><code><a href="#topic+arrangeWindows">arrangeWindows</a></code>,
<code><a href="#topic+getWindowsHandle">getWindowsHandle</a></code> (singular).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
if(.Platform$OS.type == "windows") withAutoprint({
  getWindowsHandles()
  getWindowsHandles("all")
})
</code></pre>

<hr>
<h2 id='glob2rx'>Change Wildcard or Globbing Pattern into Regular Expression</h2><span id='topic+glob2rx'></span>

<h3>Description</h3>

<p>Change <em>wildcard</em> aka <em>globbing</em> patterns into the
corresponding regular expressions (<code><a href="base.html#topic+regexp">regexp</a></code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>glob2rx(pattern, trim.head = FALSE, trim.tail = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="glob2rx_+3A_pattern">pattern</code></td>
<td>
<p>character vector</p>
</td></tr>
<tr><td><code id="glob2rx_+3A_trim.head">trim.head</code></td>
<td>
<p>logical specifying if leading <code>"^.*"</code> should be
trimmed from the result.</p>
</td></tr>
<tr><td><code id="glob2rx_+3A_trim.tail">trim.tail</code></td>
<td>
<p>logical specifying if trailing <code>".*$"</code> should be
trimmed from the result.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This takes a wildcard as used by most shells and returns an equivalent
regular expression.  &lsquo;<span class="samp">&#8288;?&#8288;</span>&rsquo; is mapped to &lsquo;<span class="samp">&#8288;.&#8288;</span>&rsquo; (match a single
character), &lsquo;<span class="samp">&#8288;*&#8288;</span>&rsquo; to &lsquo;<span class="samp">&#8288;.*&#8288;</span>&rsquo; (match any string, including an
empty one), and the pattern is anchored (it must start at the
beginning and end at the end).  Optionally, the resulting regexp is
simplified.
</p>
<p>Note that now even &lsquo;<span class="samp">&#8288;(&#8288;</span>&rsquo;, &lsquo;<span class="samp">&#8288;[&#8288;</span>&rsquo; and &lsquo;<span class="samp">&#8288;{&#8288;</span>&rsquo; can be used
in <code>pattern</code>, but <code>glob2rx()</code> may not work correctly with
arbitrary characters in <code>pattern</code>.
</p>


<h3>Value</h3>

<p>A character vector of the same length as the input <code>pattern</code>
where each wildcard is translated to the corresponding
regular expression.
</p>


<h3>Author(s)</h3>

<p>Martin Maechler, Unix/sed based version, 1991; current: 2004</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+regexp">regexp</a></code> about regular expression,
<code><a href="base.html#topic+sub">sub</a></code>, etc about substitutions using regexps.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>stopifnot(glob2rx("abc.*") == "^abc\\.",
          glob2rx("a?b.*") == "^a.b\\.",
          glob2rx("a?b.*", trim.tail = FALSE) == "^a.b\\..*$",
          glob2rx("*.doc") == "^.*\\.doc$",
          glob2rx("*.doc", trim.head = TRUE) == "\\.doc$",
          glob2rx("*.t*")  == "^.*\\.t",
          glob2rx("*.t??") == "^.*\\.t..$",
          glob2rx("*[*")  == "^.*\\["
)
</code></pre>

<hr>
<h2 id='globalVariables'>
Declarations Used in Checking a Package
</h2><span id='topic+globalVariables'></span><span id='topic+suppressForeignCheck'></span>

<h3>Description</h3>

<p>For <code>globalVariables</code>, the names supplied are of functions or
other objects that should be regarded as defined globally when the
<code>check</code> tool is applied to this package.  The call to
<code>globalVariables</code> will be included in the package's source.
Repeated calls in the same package accumulate the names of the
global variables.
</p>
<p>Typical examples are the fields and methods in reference classes,
which appear to be global objects to <code>codetools</code>.
(This case is handled automatically by <code><a href="methods.html#topic+setRefClass">setRefClass</a>()</code> and
friends, using the supplied field and method names.)
</p>
<p>For <code>suppressForeignCheck</code>, the names supplied are of variables
used as <code>.NAME</code> in foreign function calls which should not be
checked by <code><a href="tools.html#topic+checkFF">checkFF</a>(registration = TRUE)</code>.  Without this
declaration, expressions other than simple character strings are
assumed to evaluate to registered native symbol objects.  The type of
call (<code>.Call</code>, <code>.External</code>, etc.) and argument counts will
be checked.  With this declaration, checks on those names will usually
be suppressed.  (If the code uses an expression that should only be
evaluated at runtime, the message can be suppressed by wrapping it in
a <code><a href="base.html#topic+dontCheck">dontCheck</a></code> function call, or by saving it to a local
variable, and suppressing messages about that variable. See the
example below.)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>globalVariables(names, package, add = TRUE)
suppressForeignCheck(names, package, add = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="globalVariables_+3A_names">names</code></td>
<td>

<p>The character vector of object names.  If omitted, the current list of
global variables declared in the package will be returned, unchanged.
</p>
</td></tr>
<tr><td><code id="globalVariables_+3A_package">package</code></td>
<td>

<p>The relevant package, usually the character string name of the package
but optionally its corresponding namespace environment.
</p>
<p>When the call to <code>globalVariables</code> or
<code>suppressForeignCheck</code> comes in the package's source file,
the argument is normally omitted, as in the example below.
</p>
</td></tr>
<tr><td><code id="globalVariables_+3A_add">add</code></td>
<td>

<p>Should the contents of <code>names</code> be added to the current global
variables or replace it?
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The lists of declared global variables and native symbol objects are
stored in a metadata object in the package's namespace, assuming the
<code>globalVariables</code> or <code>suppressForeignCheck</code> call(s) occur
as top-level calls in the package's source code.
</p>
<p>The check command, as implemented in package <code>tools</code>, queries
the list before checking the <span class="rlang"><b>R</b></span> source code in the package for
possible problems.
</p>
<p><code>globalVariables</code> was introduced in <span class="rlang"><b>R</b></span> 2.15.1 and
<code>suppressForeignCheck</code> was introduced in <span class="rlang"><b>R</b></span> 3.1.0 so both
should be used conditionally: see the example.  
</p>


<h3>Value</h3>

<p><code>globalVariables</code> returns the current list of declared global
variables, possibly modified by this call.
</p>
<p><code>suppressForeignCheck</code> returns the current list of native
symbol objects which are not to be checked.  
</p>


<h3>Note</h3>

<p>The global variables list really belongs to a restricted scope (a
function or a group of method definitions, for example) rather than
the package as a whole.  However, implementing finer control would
require changes in <code>check</code> and/or in <code>codetools</code>, so in this
version the information is stored at the package level.
</p>


<h3>Author(s)</h3>

<p>John Chambers and Duncan Murdoch
</p>


<h3>See Also</h3>

<p><code>dontCheck</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## assume your package has some code that assigns ".obj1" and ".obj2"
## but not in a way that codetools can find.
## In the same source file (to remind you that you did it) add:
if(getRversion() &gt;= "2.15.1")  utils::globalVariables(c(".obj1", "obj2"))

## To suppress messages about a run-time calculated native symbol, 
## save it to a local variable.

## At top level, put this:
if(getRversion() &gt;= "3.1.0") utils::suppressForeignCheck("localvariable")

## Within your function, do the call like this:
localvariable &lt;- if (condition) entry1 else entry2
.Call(localvariable, 1, 2, 3)

## HOWEVER, it is much better practice to write code
## that can be checked thoroughly, e.g.
if(condition) .Call(entry1, 1, 2, 3) else .Call(entry2, 1, 2, 3)

## End(Not run)
</code></pre>

<hr>
<h2 id='hashtab'>Hash Tables (Experimental)</h2><span id='topic+hashtab'></span><span id='topic+gethash'></span><span id='topic+sethash'></span><span id='topic+remhash'></span><span id='topic+numhash'></span><span id='topic+typhash'></span><span id='topic+maphash'></span><span id='topic+clrhash'></span><span id='topic+is.hashtab'></span><span id='topic++5B+5B.hashtab'></span><span id='topic++5B+5B+3C-.hashtab'></span><span id='topic+print.hashtab'></span><span id='topic+format.hashtab'></span><span id='topic+length.hashtab'></span><span id='topic+str.hashtab'></span>

<h3>Description</h3>

<p>Create and manipulate mutable hash tables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hashtab(type = c("identical", "address"), size)
gethash(h, key, nomatch = NULL)
sethash(h, key, value)
remhash(h, key)
numhash(h)
typhash(h)
maphash(h, FUN)
clrhash(h)
is.hashtab(x)
## S3 method for class 'hashtab'
h[[key, nomatch = NULL, ...]]
## S3 replacement method for class 'hashtab'
h[[key, ...]] &lt;- value
## S3 method for class 'hashtab'
print(x, ...)
## S3 method for class 'hashtab'
format(x, ...)
## S3 method for class 'hashtab'
length(x)
## S3 method for class 'hashtab'
str(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hashtab_+3A_type">type</code></td>
<td>
<p><code><a href="base.html#topic+character">character</a></code> string specifying the hash table type.</p>
</td></tr>
<tr><td><code id="hashtab_+3A_size">size</code></td>
<td>
<p>an integer specifying the expected number of entries.</p>
</td></tr>
<tr><td><code id="hashtab_+3A_h">h</code>, <code id="hashtab_+3A_object">object</code></td>
<td>
<p>a hash table.</p>
</td></tr>
<tr><td><code id="hashtab_+3A_key">key</code></td>
<td>
<p>an <span class="rlang"><b>R</b></span> object to use as a key.</p>
</td></tr>
<tr><td><code id="hashtab_+3A_nomatch">nomatch</code></td>
<td>
<p>value to return if <code>key</code> does not match.</p>
</td></tr>
<tr><td><code id="hashtab_+3A_value">value</code></td>
<td>
<p>new value to associate with <code>key</code>.</p>
</td></tr>
<tr><td><code id="hashtab_+3A_fun">FUN</code></td>
<td>
<p>a <code><a href="base.html#topic+function">function</a></code> of two arguments, the key and the value, to call
for each entry.</p>
</td></tr>
<tr><td><code id="hashtab_+3A_x">x</code></td>
<td>
<p>object to be tested, printed, or formatted.</p>
</td></tr>
<tr><td><code id="hashtab_+3A_...">...</code></td>
<td>
<p>additional arguments.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Hash tables are a data structure for efficiently associating keys with
values.  Hash tables are similar to <code><a href="base.html#topic+environment">environment</a></code>s, but
keys can be arbitrary objects. Like environments, and unlike named
lists and most other objects in R, hash tables are mutable, i.e., they
are <em>not</em> copied when modified and assignment means just giving a
new name to the same object.
</p>
<p>New hash tables are created by <code>hashtab</code>.  Two variants are
available: keys can be considered to match if they are
<code><a href="base.html#topic+identical">identical</a>()</code> (<code>type = "identical"</code>, the default), or
if their addresses in memory are equal (<code>type = "address"</code>). The
default <code>"identical"</code> type is almost always the right choice.
The <code>size</code> argument provides a hint for setting the initial
hash table size. The hash table will grow if necessary, but specifying
an expected size can be more efficient.
</p>
<p><code>gethash</code> returns the value associated with <code>key</code>.  If
<code>key</code> is not present in the table, then the value of
<code>nomatch</code> is returned.
</p>
<p><code>sethash</code> adds a new key/value association or changes the current
value for an existing key. <code>remhash</code> removes the entry for
<code>key</code>, if there is one.
</p>
<p><code>maphash</code> calls <code>FUN</code> for each entry in the hash table with
two arguments, the entry key and the entry value. The order in which
the entries are processed is not predictable. The consequence of
<code>FUN</code> adding entries to the table or deleting entries from the
table is also not predictable, except that removing the entry
currently being processed will have the desired effect.
</p>
<p><code>clrhash</code> removes all entries from the hash table.
</p>


<h3>Value</h3>

<p><code>hashtab</code> returns a new hash table of the specified <code>type</code>.
</p>
<p><code>gethash</code> returns the value associated with <code>key</code>, or
<code>nomatch</code> if there is no such value.
</p>
<p><code>sethash</code> returns <code>value</code> invisibly.
</p>
<p><code>remhash</code> invisibly returns <code>TRUE</code> if an entry for
<code>key</code> was found and removed, and <code>FALSE</code> if no entry was
found.
</p>
<p><code>numhash</code> returns the current number of entries in the table.
</p>
<p><code>typhash</code> returns a character string specifying the type of the
hash table, one of <code>"identical"</code> or <code>"address"</code>.
</p>
<p><code>maphash</code> and <code>clrhash</code> return <code>NULL</code> invisibly.
</p>


<h3>Notes</h3>

<p>The interface design is based loosely on hash table support in Common
Lisp.
</p>
<p>The hash function and equality test used for <code>"identical"</code> hash
tables are the same as the ones used internally by
<code><a href="base.html#topic+duplicated">duplicated</a></code> and <code><a href="base.html#topic+unique">unique</a></code>, with two
exceptions:
</p>

<ul>
<li><p> Closure environments are not ignored when comparing closures.
This corresponds to calling <code><a href="base.html#topic+identical">identical</a>()</code> with
<code>ignore.environment = FALSE</code>, which is the default for
<code><a href="base.html#topic+identical">identical</a>()</code>.
</p>
</li>
<li><p> External pointer objects are compared as reference objects,
corresponding to calling <code><a href="base.html#topic+identical">identical</a>()</code> with
<code>extptr.as.ref = TRUE</code>. This ensures that hash tables with
keys containing external pointers behave reasonably when
serialized and unserialized.
</p>
</li></ul>

<p>As an experimental feature, the element operator <code>[[</code> can also be
used get or set hash table entries, and <code>length</code> can be used to
obtain the number of entries. It is not yet clear whether this is a
good idea.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Create a new empty hash table.
h1 &lt;- hashtab()
h1

## Add some key/value pairs.
sethash(h1, NULL, 1)
sethash(h1, .GlobalEnv, 2)
for (i in seq_along(LETTERS)) sethash(h1, LETTERS[i], i)

## Look up values for some keys.
gethash(h1, NULL)
gethash(h1, .GlobalEnv)
gethash(h1, "Q")

## Remove an entry.
(remhash(h1, NULL))
gethash(h1, NULL)
(remhash(h1, "XYZ"))

## Using the element operator.
h1[["ABC"]]
h1[["ABC", nomatch = 77]]
h1[["ABC"]] &lt;- "DEF"
h1[["ABC"]]

## Integers and real numbers that are equal are considered different
## (not identical) as keys:
identical(3, 3L)
sethash(h1, 3L, "DEF")
gethash(h1, 3L)
gethash(h1, 3)

## Two variables can refer to the same hash table.
h2 &lt;- h1
identical(h1, h2)
## set in one, see in the "other"  &lt;==&gt; really one object with 2 names
sethash(h2, NULL, 77)
gethash(h1, NULL)
str(h1)

## An example of using  maphash():  get all hashkeys of a hash table:
hashkeys &lt;- function(h) {
  val &lt;- vector("list", numhash(h))
  idx &lt;- 0
  maphash(h, function(k, v) { idx &lt;&lt;- idx + 1
                              val[idx] &lt;&lt;- list(k) })
  val
}

kList &lt;- hashkeys(h1)
str(kList) # the *order* is "arbitrary" &amp; cannot be "known"
</code></pre>

<hr>
<h2 id='hasName'>Check for Name</h2><span id='topic+hasName'></span>

<h3>Description</h3>

<p><code>hasName</code> is a convenient way to test for one or more names
in an R object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hasName(x, name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hasName_+3A_x">x</code></td>
<td>
<p>Any object.</p>
</td></tr>
<tr><td><code id="hasName_+3A_name">name</code></td>
<td>
<p>One or more character values to look for.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>hasName(x, name)</code> is defined to be equivalent to 
<code>name %in% names(x)</code>, though it will evaluate slightly more
quickly.  It is intended to replace the common idiom
<code>!is.null(x$name)</code>.  The latter can be unreliable due to partial
name matching; see the example below.
</p>


<h3>Value</h3>

<p>A logical vector of the same length as <code>name</code> containing
<code>TRUE</code> if the corresponding entry is in <code>names(x)</code>.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic++25in+25">%in%</a></code>, <code><a href="base.html#topic+exists">exists</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- list(abc = 1, def = 2)
!is.null(x$abc) # correct
!is.null(x$a)   # this is the wrong test!
hasName(x, "abc")
hasName(x, "a")
</code></pre>

<hr>
<h2 id='head'>Return the First or Last Parts of an Object</h2><span id='topic+head'></span><span id='topic+head.data.frame'></span><span id='topic+head.default'></span><span id='topic+head.function'></span><span id='topic+head.ftable'></span><span id='topic+head.matrix'></span><span id='topic+tail'></span><span id='topic+tail.data.frame'></span><span id='topic+tail.default'></span><span id='topic+tail.function'></span><span id='topic+tail.ftable'></span><span id='topic+tail.table'></span><span id='topic+tail.matrix'></span><span id='topic+tail.array'></span>

<h3>Description</h3>

<p>Returns the first or last parts of a vector, matrix, table, data frame
or function.  Since <code>head()</code> and <code>tail()</code> are generic
functions, they may also have been extended to other classes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>head(x, ...)
## Default S3 method:
head(x, n = 6L, ...)
## S3 method for class 'matrix'
head(x, n = 6L, ...) # is exported as head.matrix()
## NB: The methods for 'data.frame' and 'array'  are identical to the 'matrix' one

## S3 method for class 'ftable'
head(x, n = 6L, ...)
## S3 method for class 'function'
head(x, n = 6L, ...)


tail(x, ...)
## Default S3 method:
tail(x, n = 6L, keepnums = FALSE, addrownums, ...)
## S3 method for class 'matrix'
tail(x, n = 6L, keepnums = TRUE, addrownums, ...) # exported as tail.matrix()
## NB: The methods for 'data.frame', 'array', and 'table'
##     are identical to the  'matrix'  one

## S3 method for class 'ftable'
tail(x, n = 6L, keepnums = FALSE, addrownums, ...)
## S3 method for class 'function'
tail(x, n = 6L, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="head_+3A_x">x</code></td>
<td>
<p>an object</p>
</td></tr>
<tr><td><code id="head_+3A_n">n</code></td>
<td>
<p>an integer vector of length up to <code>dim(x)</code> (or 1,
for non-dimensioned objects).  A <code>logical</code> is silently coerced to
integer.  Values specify the indices to be
selected in the corresponding dimension (or along the length) of the
object. A positive value of <code>n[i]</code> includes the first/last
<code>n[i]</code> indices in that dimension, while a negative value
excludes the last/first <code>abs(n[i])</code>, including all remaining
indices. <code>NA</code> or non-specified values (when <code>length(n) &lt;
      length(dim(x))</code>) select all indices in that dimension. Must
contain at least one non-missing value.</p>
</td></tr>
<tr><td><code id="head_+3A_keepnums">keepnums</code></td>
<td>
<p>in each dimension, if no names in that dimension are
present, create them using the indices included in that dimension.
Ignored if <code>dim(x)</code> is <code>NULL</code> or its length 1.</p>
</td></tr>
<tr><td><code id="head_+3A_addrownums">addrownums</code></td>
<td>
<p>deprecated - <code>keepnums</code> should be used
instead. Taken as the value of <code>keepnums</code> if it is explicitly
set when <code>keepnums</code> is not.</p>
</td></tr>
<tr><td><code id="head_+3A_...">...</code></td>
<td>
<p>arguments to be passed to or from other methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For vector/array based objects, <code>head()</code> (<code>tail()</code>) returns
a subset of the same dimensionality as <code>x</code>, usually of
the same class. For historical reasons, by default they select the
first (last) 6 indices in the first dimension (&quot;rows&quot;) or along the
length of a non-dimensioned vector, and the full extent (all indices)
in any remaining dimensions. <code>head.matrix()</code> and
<code>tail.matrix()</code> are exported.
</p>
<p>The default and array(/matrix) methods for <code>head()</code> and
<code>tail()</code> are quite general. They will work as is for any class
which has a <code>dim()</code> method, a <code>length()</code> method (only
required if <code>dim()</code> returns <code>NULL</code>), and a <code>[</code> method
(that accepts the <code>drop</code> argument and can subset in all
dimensions in the dimensioned case).
</p>
<p>For functions, the lines of the deparsed function are returned as
character strings.
</p>
<p>When <code>x</code> is an array(/matrix) of dimensionality two and more,
<code>tail()</code> will add dimnames similar to how they would appear in a
full printing of <code>x</code> for all dimensions <code>k</code> where
<code>n[k]</code> is specified and non-missing and <code>dimnames(x)[[k]]</code>
(or <code>dimnames(x)</code> itself) is <code>NULL</code>.  Specifically, the
form of the added dimnames will vary for different dimensions as follows:
</p>

<dl>
<dt><code>k=1</code> (rows): </dt><dd><p><code>"[n,]"</code> (right justified with
whitespace padding)</p>
</dd>
<dt><code>k=2</code> (columns): </dt><dd><p><code>"[,n]"</code> (with <em>no</em> whitespace
padding)</p>
</dd>
<dt><code>k&gt;2</code> (higher dims): </dt><dd><p><code>"n"</code>, i.e., the indices as
<em>character</em> values</p>
</dd>
</dl>

<p>Setting <code>keepnums = FALSE</code> suppresses this behaviour.
</p>
<p>As <code><a href="base.html#topic+data.frame">data.frame</a></code> subsetting (&lsquo;indexing&rsquo;) keeps
<code><a href="base.html#topic+attributes">attributes</a></code>, so do the <code>head()</code> and <code>tail()</code>
methods for data frames.
</p>


<h3>Value</h3>

<p>An object (usually) like <code>x</code> but generally smaller.  Hence, for
<code><a href="base.html#topic+array">array</a></code>s, the result corresponds to <code>x[.., drop=FALSE]</code>.
For <code><a href="stats.html#topic+ftable">ftable</a></code> objects <code>x</code>, a transformed <code>format(x)</code>.
</p>


<h3>Note</h3>

<p>For array inputs the output of <code>tail</code> when <code>keepnums</code> is <code>TRUE</code>,
any dimnames vectors added for dimensions <code>&gt;2</code> are the original
numeric indices in that dimension <em>as character vectors</em>.  This
means that, e.g., for 3-dimensional array <code>arr</code>,
<code>tail(arr, c(2,2,-1))[ , , 2]</code> and
<code>tail(arr, c(2,2,-1))[ , , "2"]</code> may both be valid but have
completely different meanings.
</p>


<h3>Author(s)</h3>

<p>Patrick Burns, improved and corrected by R-Core. Negative argument
added by Vincent Goulet.  Multi-dimension support added by Gabriel Becker.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>head(letters)
head(letters, n = -6L)

head(freeny.x, n = 10L)
head(freeny.y)

head(iris3)
head(iris3, c(6L, 2L))
head(iris3, c(6L, -1L, 2L))

tail(letters)
tail(letters, n = -6L)

tail(freeny.x)
## the bottom-right "corner" :
tail(freeny.x, n = c(4, 2))
tail(freeny.y)

tail(iris3)
tail(iris3, c(6L, 2L))
tail(iris3, c(6L, -1L, 2L))

## iris with dimnames stripped
a3d &lt;- iris3 ; dimnames(a3d) &lt;- NULL
tail(a3d, c(6, -1, 2)) # keepnums = TRUE is default here!
tail(a3d, c(6, -1, 2), keepnums = FALSE)

## data frame w/ a (non-standard) attribute:
treeS &lt;- structure(trees, foo = "bar")
(n &lt;- nrow(treeS))
stopifnot(exprs = { # attribute is kept
    identical(htS &lt;- head(treeS), treeS[1:6, ])
    identical(attr(htS, "foo") , "bar")
    identical(tlS &lt;- tail(treeS), treeS[(n-5):n, ])
    ## BUT if I use "useAttrib(.)", this is *not* ok, when n is of length 2:
    ## --- because [i,j]-indexing of data frames *also* drops "other" attributes ..
    identical(tail(treeS, 3:2), treeS[(n-2):n, 2:3] )
})

tail(library) # last lines of function

head(stats::ftable(Titanic))

## 1d-array (with named dim) :
a1 &lt;- array(1:7, 7); names(dim(a1)) &lt;- "O2"
stopifnot(exprs = {
  identical( tail(a1, 10), a1)
  identical( head(a1, 10), a1)
  identical( head(a1, 1), a1 [1 , drop=FALSE] ) # was a1[1] in R &lt;= 3.6.x
  identical( tail(a1, 2), a1[6:7])
  identical( tail(a1, 1), a1 [7 , drop=FALSE] ) # was a1[7] in R &lt;= 3.6.x
})
</code></pre>

<hr>
<h2 id='help'>Documentation</h2><span id='topic+help'></span>

<h3>Description</h3>

<p><code>help</code> is the primary interface to the help systems.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>help(topic, package = NULL, lib.loc = NULL,
     verbose = getOption("verbose"),
     try.all.packages = getOption("help.try.all.packages"),
     help_type = getOption("help_type"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="help_+3A_topic">topic</code></td>
<td>
<p>usually, a <a href="base.html#topic+name">name</a> or character string specifying the
topic for which help is sought.  A character string (enclosed in
explicit single or double quotes) is always taken as naming a topic.
</p>
<p>If the value of <code>topic</code> is a length-one
character vector the topic is taken to be the value of the only
element.  Otherwise <code>topic</code> must be a name or a <a href="base.html#topic+reserved">reserved</a>
word (if syntactically valid) or character string.
</p>
<p>See &lsquo;Details&rsquo; for what happens if this is omitted.
</p>
</td></tr>
<tr><td><code id="help_+3A_package">package</code></td>
<td>
<p>a name or character vector giving the packages to look
into for documentation, or <code>NULL</code>.  By default, all packages
whose namespaces are loaded are used.  To avoid a name being deparsed use e.g.
<code>(pkg_ref)</code> (see the examples).</p>
</td></tr>
<tr><td><code id="help_+3A_lib.loc">lib.loc</code></td>
<td>
<p>a character vector of directory names of <span class="rlang"><b>R</b></span> libraries,
or <code>NULL</code>.  The default value of <code>NULL</code> corresponds to all
libraries currently known.  If the default is used, the loaded
packages are searched before the libraries.  This is not used for
HTML help (see &lsquo;Details&rsquo;).</p>
</td></tr>
<tr><td><code id="help_+3A_verbose">verbose</code></td>
<td>
<p>logical; if <code>TRUE</code>, the file name is reported.</p>
</td></tr>
<tr><td><code id="help_+3A_try.all.packages">try.all.packages</code></td>
<td>
<p>logical; see <code>Note</code>.</p>
</td></tr>
<tr><td><code id="help_+3A_help_type">help_type</code></td>
<td>
<p>character string: the type of help required.
Possible values are <code>"text"</code>, <code>"html"</code> and <code>"pdf"</code>.
Case is ignored, and partial matching is allowed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The following types of help are available:
</p>

<ul>
<li><p> Plain text help
</p>
</li>
<li><p> HTML help pages with hyperlinks to other topics, shown in a
browser by <code><a href="#topic+browseURL">browseURL</a></code>.
<br />
(On Unix-alikes,
where possible an existing browser window is re-used: the macOS
GUI uses its own browser window.)
</p>
<p>If for some reason HTML help is unavailable (see
<code><a href="tools.html#topic+startDynamicHelp">startDynamicHelp</a></code>), plain text help will be used
instead.
</p>
</li>
<li><p> For <code>help</code> only, typeset as PDF &ndash;
see the section on &lsquo;Offline help&rsquo;.
</p>
</li></ul>


<dl>
<dt>On Unix-alikes:</dt><dd>
<p>The &lsquo;factory-fresh&rsquo; default is text help except from the macOS
GUI, which uses HTML help displayed in its own browser window.
</p>
</dd>
<dt>On Windows:</dt><dd>
<p>The default for the type of help is selected when <span class="rlang"><b>R</b></span> is installed &ndash;
the &lsquo;factory-fresh&rsquo; default is HTML help.
</p>
</dd>
</dl>

<p>The rendering of text help will use directional quotes in suitable
locales (UTF-8 and single-byte Windows locales): sometimes the fonts
used do not support these quotes so this can be turned off by setting
<code><a href="base.html#topic+options">options</a>(useFancyQuotes = FALSE)</code>.
</p>
<p><code>topic</code> is not optional: if it is omitted <span class="rlang"><b>R</b></span> will give
</p>

<ul>
<li><p> If a package is specified, (text or, in interactive use only,
HTML) information on the package, including hints/links to suitable
help topics.
</p>
</li>
<li><p> If <code>lib.loc</code> only is specified, a (text) list of available
packages.
</p>
</li>
<li><p> Help on <code>help</code> itself if none of the first three
arguments is specified.
</p>
</li></ul>

<p>Some topics need to be quoted (by <a href="base.html#topic+backtick">backtick</a>s) or given as a
character string.  These include those which cannot syntactically
appear on their own such as unary and binary operators,
<code>function</code> and control-flow <a href="base.html#topic+reserved">reserved</a> words (including
<code>if</code>, <code>else</code> <code>for</code>, <code>in</code>, <code>repeat</code>,
<code>while</code>, <code>break</code> and <code>next</code>).  The other <code>reserved</code>
words can be used as if they were names, for example <code>TRUE</code>,
<code>NA</code> and <code>Inf</code>.
</p>
<p>If multiple help files matching <code>topic</code> are found, in interactive
use a menu is presented for the user to choose one: in batch use the
first on the search path is used.  (For HTML help the menu will be an
HTML page, otherwise a graphical menu if possible if
<code><a href="base.html#topic+getOption">getOption</a>("menu.graphics")</code> is true, the default.)
</p>
<p>Note that HTML help does not make use of <code>lib.loc</code>: it will
always look first in the loaded packages and then along
<code>.libPaths()</code>.
</p>


<h3>Offline help</h3>

<p>Typeset documentation is produced by running the LaTeX version of the
help page through <code>pdflatex</code>: this will produce a PDF file.
</p>
<p>The appearance of the output can be customized through a file
&lsquo;<span class="file">Rhelp.cfg</span>&rsquo; somewhere in your LaTeX search path: this will be
input as a LaTeX style file after <code>Rd.sty</code>.  Some
<a href="base.html#topic+environment+20variables">environment variables</a> are consulted, notably <span class="env">R_PAPERSIZE</span>
(<em>via</em> <code>getOption("papersize")</code>) and <span class="env">R_RD4PDF</span> (see
&lsquo;Making manuals&rsquo; in the
&lsquo;R Installation and Administration&rsquo; manual).
</p>
<p>If there is a function <code>offline_help_helper</code> in the workspace or
further down the search path it is used to do the typesetting,
otherwise the function of that name in the <code>utils</code> namespace (to
which the first paragraph applies).  It should accept at least two
arguments, the name of the LaTeX file to be typeset and the type
(which is nowadays ignored).  It accepts a third argument,
<code>texinputs</code>, which will give the graphics path when the help
document contains figures, and will otherwise not be supplied.
</p>


<h3>Note</h3>

<p>Unless <code>lib.loc</code> is specified explicitly, the loaded packages are
searched before those in the specified libraries.  This ensures that
if a library is loaded from a library not in the known library trees,
then the help from the loaded library is used.  If <code>lib.loc</code> is
specified explicitly, the loaded packages are <em>not</em> searched.
</p>
<p>If this search fails and argument <code>try.all.packages</code> is
<code>TRUE</code> and neither <code>packages</code> nor <code>lib.loc</code> is
specified, then all the packages in the known library trees are
searched for help on <code>topic</code> and a list of (any) packages where
help may be found is displayed (with hyperlinks for
<code>help_type = "html"</code>).
<strong>NB:</strong> searching all packages can be slow, especially
the first time (caching of files by the OS can expedite subsequent
searches dramatically).
</p>


<h3>References</h3>

<p>Becker, R. A., Chambers, J. M. and Wilks, A. R. (1988)
<em>The New S Language</em>.
Wadsworth &amp; Brooks/Cole.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+Question">?</a></code> for shortcuts to help topics.
</p>
<p><code><a href="#topic+help.search">help.search</a>()</code> or <code><a href="#topic++3F+3F">??</a></code> for finding help pages
on a vague topic;
<code><a href="#topic+help.start">help.start</a>()</code> which opens the HTML version of the <span class="rlang"><b>R</b></span>
help pages;
<code><a href="base.html#topic+library">library</a>()</code> for listing available packages and the
help objects they contain;
<code><a href="#topic+data">data</a>()</code> for listing available data sets;
<code><a href="#topic+methods">methods</a>()</code>.
</p>
<p>Use <code><a href="#topic+prompt">prompt</a>()</code> to get a prototype for writing <code>help</code>
pages of your own package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>help()
help(help)              # the same

help(lapply)

help("for")             # or ?"for", but quotes/backticks are needed

try({# requires working TeX installation:
 help(dgamma, help_type = "pdf")
 ## -&gt; nicely formatted pdf -- including math formula -- for help(dgamma):
 system2(getOption("pdfviewer"), "dgamma.pdf", wait = FALSE)
})

help(package = "splines") # get help even when package is not loaded

topi &lt;- "women"
help(topi)

try(help("bs", try.all.packages = FALSE)) # reports not found (an error)
help("bs", try.all.packages = TRUE)       # reports can be found
                                          # in package 'splines'

## For programmatic use:
topic &lt;- "family"; pkg_ref &lt;- "stats"
help((topic), (pkg_ref))
</code></pre>

<hr>
<h2 id='help.request'>Send a Post to R-help</h2><span id='topic+help.request'></span>

<h3>Description</h3>

<p>Prompts the user to check they have done all that is expected of them
before sending a post to the R-help mailing list, provides a template
for the post with session information included and optionally sends
the email (on Unix systems).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>help.request(subject = "",
             address = "r-help@R-project.org",
             file = "R.help.request", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="help.request_+3A_subject">subject</code></td>
<td>
<p>subject of the email.  Please do not use single quotes
(<kbd>'</kbd>) in the subject!  Post separate help requests for multiple
queries.</p>
</td></tr>
<tr><td><code id="help.request_+3A_address">address</code></td>
<td>
<p>recipient's email address.</p>
</td></tr>
<tr><td><code id="help.request_+3A_file">file</code></td>
<td>
<p>filename to use (if needed) for setting up the email.</p>
</td></tr>
<tr><td><code id="help.request_+3A_...">...</code></td>
<td>
<p>additional named arguments such as <code>method</code> and
<code>ccaddress</code> to pass to <code><a href="#topic+create.post">create.post</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is not intended to replace the posting
guide.  Please read the guide before posting to R-help or using this
function (see <a href="https://www.r-project.org/posting-guide.html">https://www.r-project.org/posting-guide.html</a>).
</p>
<p>The <code>help.request</code> function:
</p>

<ul>
<li><p> asks whether the user has consulted relevant resources,
stopping and opening the relevant URL if a negative response if
given.
</p>
</li>
<li><p> checks whether the current version of <span class="rlang"><b>R</b></span> is being used and
whether the add-on packages are up-to-date, giving the option of
updating where necessary.
</p>
</li>
<li><p> asks whether the user has prepared appropriate (minimal,
reproducible, self-contained, commented) example code ready to
paste into the post.
</p>
</li></ul>

<p>Once this checklist has been completed a template post is prepared
including current session information, and passed to
<code><a href="#topic+create.post">create.post</a></code>.
</p>


<h3>Value</h3>

<p>Nothing useful.
</p>


<h3>Author(s)</h3>

<p>Heather Turner, based on the then current code and help page of
<code><a href="#topic+bug.report">bug.report</a>()</code>.</p>


<h3>See Also</h3>

<p>The posting guide (<a href="https://www.r-project.org/posting-guide.html">https://www.r-project.org/posting-guide.html</a>),
also <code><a href="#topic+sessionInfo">sessionInfo</a>()</code> from which you may add to the help request.
</p>
<p><code><a href="#topic+create.post">create.post</a></code>.
</p>

<hr>
<h2 id='help.search'>Search the Help System</h2><span id='topic+help.search'></span><span id='topic++3F+3F'></span><span id='topic+print.hsearch'></span>

<h3>Description</h3>

<p>Allows for searching the help system for documentation matching a
given character string in the (file) name, alias, title, concept or
keyword entries (or any combination thereof), using either
<a href="base.html#topic+fuzzy+20matching">fuzzy matching</a> or <a href="base.html#topic+regular+20expression">regular expression</a> matching.  Names
and titles of the matched help entries are displayed nicely formatted.
</p>
<p>Vignette names, titles and keywords and demo names and titles
may also be searched.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>help.search(pattern, fields = c("alias", "concept", "title"),
            apropos, keyword, whatis, ignore.case = TRUE,
            package = NULL, lib.loc = NULL,
            help.db = getOption("help.db"),
            verbose = getOption("verbose"),
            rebuild = FALSE, agrep = NULL, use_UTF8 = FALSE,
            types = getOption("help.search.types"))
??pattern
field??pattern
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="help.search_+3A_pattern">pattern</code></td>
<td>
<p>a character string to be matched in the specified
fields.  If this is given, the arguments <code>apropos</code>,
<code>keyword</code>, and <code>whatis</code> are ignored.</p>
</td></tr>
<tr><td><code id="help.search_+3A_fields">fields</code></td>
<td>
<p>a character vector specifying the fields of the help
database to be searched.  The entries must be abbreviations of
<code>"name"</code>, <code>"title"</code>, <code>"alias"</code>, <code>"concept"</code>, and
<code>"keyword"</code>, corresponding to the help page's (file) name, its
title, the topics and concepts it provides documentation for, and
the keywords it can be classified to.  See below for details and how
vignettes and demos are searched.</p>
</td></tr>
<tr><td><code id="help.search_+3A_apropos">apropos</code></td>
<td>
<p>a character string to be matched in the help page
topics and title.</p>
</td></tr>
<tr><td><code id="help.search_+3A_keyword">keyword</code></td>
<td>
<p>a character string to be matched in the help page
&lsquo;keywords&rsquo;. &lsquo;Keywords&rsquo; are really categories: the
standard categories are listed in file &lsquo;<span class="file">R.home(&quot;doc&quot;)/KEYWORDS</span>&rsquo;
(see also the example) and some package writers have defined their
own.  If <code>keyword</code> is specified, <code>agrep</code> defaults to
<code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="help.search_+3A_whatis">whatis</code></td>
<td>
<p>a character string to be matched in
the help page topics.</p>
</td></tr>
<tr><td><code id="help.search_+3A_ignore.case">ignore.case</code></td>
<td>
<p>a logical.  If <code>TRUE</code>, case is ignored during
matching; if <code>FALSE</code>, pattern matching is case sensitive.</p>
</td></tr>
<tr><td><code id="help.search_+3A_package">package</code></td>
<td>
<p>a character vector with the names of packages to
search through, or <code>NULL</code> in which case <em>all</em> available
packages in the library trees specified by <code>lib.loc</code> are
searched.</p>
</td></tr>
<tr><td><code id="help.search_+3A_lib.loc">lib.loc</code></td>
<td>
<p>a character vector describing the location of <span class="rlang"><b>R</b></span>
library trees to search through, or <code>NULL</code>.  The default value
of <code>NULL</code> corresponds to all libraries currently known.</p>
</td></tr>
<tr><td><code id="help.search_+3A_help.db">help.db</code></td>
<td>
<p>a character string giving the file path to a previously
built and saved help database, or <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="help.search_+3A_verbose">verbose</code></td>
<td>
<p>logical; if <code>TRUE</code>, the search process is traced.
Integer values are also accepted, with <code>TRUE</code> being equivalent
to <code>2</code>, and <code>1</code> being less verbose.  On Windows a progress
bar is shown during rebuilding, and on Unix a heartbeat is shown for
<code>verbose = 1</code> and a package-by-package list for
<code>verbose &gt;= 2</code>.</p>
</td></tr>
<tr><td><code id="help.search_+3A_rebuild">rebuild</code></td>
<td>
<p>a logical indicating whether the help database should
be rebuilt.  This will be done automatically if <code>lib.loc</code> or
the search path is changed, or if <code>package</code> is used and a value
is not found.</p>
</td></tr>
<tr><td><code id="help.search_+3A_agrep">agrep</code></td>
<td>
<p>if <code>NULL</code> (the default unless <code>keyword</code> is
used) and the character string to
be matched consists of alphanumeric characters, whitespace or a dash
only, approximate (fuzzy) matching via <code><a href="base.html#topic+agrep">agrep</a></code> is used
unless the string has fewer than 5 characters; otherwise, it is
taken to contain a <a href="base.html#topic+regular+20expression">regular expression</a> to be matched via
<code><a href="base.html#topic+grep">grep</a></code>.  If <code>FALSE</code>, approximate matching is not
used.  Otherwise, one can give a numeric or a list specifying the
maximal distance for the approximate match, see argument
<code>max.distance</code> in the documentation for <code><a href="base.html#topic+agrep">agrep</a></code>.</p>
</td></tr>
<tr><td><code id="help.search_+3A_use_utf8">use_UTF8</code></td>
<td>
<p>logical: should results be given in UTF-8 encoding?
Also changes the meaning of regexps in <code>agrep</code> to be Perl regexps.</p>
</td></tr>
<tr><td><code id="help.search_+3A_types">types</code></td>
<td>
<p>a character vector listing the types of documentation
to search.  The entries must be abbreviations of <code>"vignette"</code>
<code>"help"</code> or <code>"demo"</code>. Results will be presented in the
order specified.</p>
</td></tr>
<tr><td><code id="help.search_+3A_field">field</code></td>
<td>
<p>a single value of <code>fields</code> to search.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Upon installation of a package, a pre-built help.search index is
serialized as &lsquo;<span class="file">hsearch.rds</span>&rsquo; in the &lsquo;<span class="file">Meta</span>&rsquo; directory
(provided the package has any help pages).  Vignettes are also
indexed in the &lsquo;<span class="file">Meta/vignette.rds</span>&rsquo; file.  These files are used to
create the help search database via <code><a href="#topic+hsearch_db">hsearch_db</a></code>.
</p>
<p>The arguments <code>apropos</code> and <code>whatis</code> play a role similar to
the Unix commands with the same names.
</p>
<p>Searching with <code>agrep = FALSE</code> will be several times faster than
the default (once the database is built).  However, approximate
searches should be fast enough (around a second with 5000 packages
installed).
</p>
<p>If possible, the help database is saved in memory for use by
subsequent calls in the session.
</p>
<p>Note that currently the aliases in the matching help files are not
displayed.
</p>
<p>As with <code><a href="#topic++3F">?</a></code>, in <code>??</code> the pattern may be prefixed with a
package name followed by <code>::</code> or <code>:::</code> to limit the search
to that package.
</p>
<p>For help files, &lsquo;<span class="samp">&#8288;\keyword&#8288;</span>&rsquo; entries which are not among the
standard keywords as listed in file &lsquo;<span class="file">KEYWORDS</span>&rsquo; in the <span class="rlang"><b>R</b></span>
documentation directory are taken as concepts.  For standard keyword
entries different from &lsquo;<span class="samp">&#8288;internal&#8288;</span>&rsquo;, the corresponding descriptions
from file &lsquo;<span class="file">KEYWORDS</span>&rsquo; are additionally taken as concepts.  All
&lsquo;<span class="samp">&#8288;\concept&#8288;</span>&rsquo; entries used as concepts.  
</p>
<p>Vignettes are searched as follows.  The <code>"name"</code> and
<code>"alias"</code> are both the base of the vignette filename, and the
<code>"concept"</code> entries are taken from the &lsquo;<span class="samp">&#8288;\VignetteKeyword&#8288;</span>&rsquo;
entries.  Vignettes are not classified using the help system
<code>"keyword"</code> classifications.  Demos are handled
similarly to vignettes, without the <code>"concept"</code> search.
</p>


<h3>Value</h3>

<p>The results are returned in a list object of class <code>"hsearch"</code>,
which has a print method for nicely formatting the results of the
query.  This mechanism is experimental, and may change in future
versions of <span class="rlang"><b>R</b></span>.
</p>
<p>In <code>R.app</code> on macOS, this will show up a browser with selectable
items. On exiting this browser, the help pages for the selected items
will be shown in separate help windows.
</p>
<p>The internal format of the class is undocumented and subject to change.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+hsearch_db">hsearch_db</a></code> for more information on the help search
database employed, and for utilities to inspect available concepts and
keywords.
</p>
<p><code><a href="#topic+help">help</a></code>;
<code><a href="#topic+help.start">help.start</a></code> for starting the hypertext (currently HTML)
version of <span class="rlang"><b>R</b></span>'s online documentation, which offers a similar search
mechanism.
</p>
<p><code><a href="#topic+RSiteSearch">RSiteSearch</a></code> to access an on-line search of <span class="rlang"><b>R</b></span> resources.
</p>
<p><code><a href="#topic+apropos">apropos</a></code> uses regexps and has nice examples.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>help.search("linear models")    # In case you forgot how to fit linear
                                # models
help.search("non-existent topic")

??utils::help  # All the topics matching "help" in the utils package


## Documentation with topic/concept/title matching 'print'
## (disabling fuzzy matching to not also match 'point')
help.search("print", agrep = FALSE)
help.search(apropos = "print", agrep = FALSE)  # ignores concepts

## Help pages with documented topics starting with 'try':
help.search("^try", fields = "alias")
alias??"^try"  # the same

## Help pages documenting high-level plots:
help.search(keyword = "hplot")

RShowDoc("KEYWORDS")  # show all keywords
</code></pre>

<hr>
<h2 id='help.start'>Hypertext Documentation</h2><span id='topic+help.start'></span>

<h3>Description</h3>

<p>Start the hypertext (currently HTML) version of <span class="rlang"><b>R</b></span>'s online
documentation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>help.start(update = FALSE, gui = "irrelevant",
           browser = getOption("browser"), remote = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="help.start_+3A_update">update</code></td>
<td>
<p>logical: should this attempt to update the package index to
reflect the currently available packages.  (Not attempted if
<code>remote</code> is non-<code>NULL</code>.)</p>
</td></tr>
<tr><td><code id="help.start_+3A_gui">gui</code></td>
<td>
<p>just for compatibility with S-PLUS.</p>
</td></tr>
<tr><td><code id="help.start_+3A_browser">browser</code></td>
<td>
<p>the name of the program to be used as hypertext
browser.  It should be in the <span class="env">PATH</span>, or a full path specified.
Alternatively, it can be an <span class="rlang"><b>R</b></span> function which will be called with a
URL as its only argument. This option is normally unset on Windows,
when the file-association mechanism will be used.</p>
</td></tr>
<tr><td><code id="help.start_+3A_remote">remote</code></td>
<td>
<p>A character string giving a valid URL for the
&lsquo;<span class="file"><var><a href="base.html#topic+R_HOME">R_HOME</a></var></span>&rsquo; directory on a remote location.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Unless <code>remote</code> is specified this requires the HTTP server to be
available (it will be started if possible: see
<code><a href="tools.html#topic+startDynamicHelp">startDynamicHelp</a></code>).
</p>
<p>One of the links on the index page is the HTML package index,
&lsquo;<span class="file"><var>R_DOC_DIR</var>/html/packages.html</span>&rsquo;, which can be remade by
<code><a href="#topic+make.packages.html">make.packages.html</a>()</code>.  For local operation,
the HTTP server will remake a temporary version of this list when the
link is first clicked, and each time thereafter check if updating is
needed (if <code><a href="base.html#topic+.libPaths">.libPaths</a></code> has changed or any of the
directories has been changed).  This can be slow, and using
<code>update = TRUE</code> will ensure that the packages list is updated
before launching the index page.
</p>
<p>Argument <code>remote</code> can be used to point to HTML help published by
another <span class="rlang"><b>R</b></span> installation: it will typically only show packages from the
main library of that installation.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+help">help</a>()</code> for on- and off-line help in other formats.
</p>
<p><code><a href="#topic+browseURL">browseURL</a></code> for how the help file is displayed.
</p>
<p><code><a href="#topic+RSiteSearch">RSiteSearch</a></code> to access an on-line search of <span class="rlang"><b>R</b></span> resources.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
help.start()

## the 'remote' arg can be tested by
help.start(remote = paste0("file://", R.home()))
</code></pre>

<hr>
<h2 id='hsearch-utils'>Help Search Utilities</h2><span id='topic+hsearch_db'></span><span id='topic+hsearch_db_concepts'></span><span id='topic+hsearch_db_keywords'></span>

<h3>Description</h3>

<p>Utilities for searching the help system.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hsearch_db(package = NULL, lib.loc = NULL,
           types = getOption("help.search.types"), 
           verbose = getOption("verbose"),
           rebuild = FALSE, use_UTF8 = FALSE)
hsearch_db_concepts(db = hsearch_db())
hsearch_db_keywords(db = hsearch_db())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hsearch-utils_+3A_package">package</code></td>
<td>
<p>a character vector with the names of packages to
search through, or <code>NULL</code> in which case <em>all</em> available
packages in the library trees specified by <code>lib.loc</code> are
searched.</p>
</td></tr>
<tr><td><code id="hsearch-utils_+3A_lib.loc">lib.loc</code></td>
<td>
<p>a character vector describing the location of <span class="rlang"><b>R</b></span>
library trees to search through, or <code>NULL</code>.  The default value
of <code>NULL</code> corresponds to all libraries currently known.</p>
</td></tr>
<tr><td><code id="hsearch-utils_+3A_types">types</code></td>
<td>
<p>a character vector listing the types of documentation
to search.
See <code><a href="#topic+help.search">help.search</a></code> for details.</p>
</td></tr>
<tr><td><code id="hsearch-utils_+3A_verbose">verbose</code></td>
<td>
<p>a logical controlling the verbosity of building the
help search database.
See <code><a href="#topic+help.search">help.search</a></code> for details.</p>
</td></tr>
<tr><td><code id="hsearch-utils_+3A_rebuild">rebuild</code></td>
<td>
<p>a logical indicating whether the help search database
should be rebuilt.
See <code><a href="#topic+help.search">help.search</a></code> for details.</p>
</td></tr>
<tr><td><code id="hsearch-utils_+3A_use_utf8">use_UTF8</code></td>
<td>
<p>logical: should results be given in UTF-8 encoding?</p>
</td></tr>
<tr><td><code id="hsearch-utils_+3A_db">db</code></td>
<td>
<p>a help search database as obtained by calls to
<code>hsearch_db()</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>hsearch_db()</code> builds and caches the help search database for
subsequent use by <code><a href="#topic+help.search">help.search</a></code>.  (In fact, re-builds only
when forced (<code>rebuild = TRUE</code>) or &ldquo;necessary&rdquo;.)
</p>
<p>The format of the help search database is still experimental, and may
change in future versions.  Currently, it consists of four tables: one
with base information about all documentation objects found, including
their names and titles and unique ids; three more tables contain the
individual aliases, concepts and keywords together with the ids of the
documentation objects they belong to.  Separating out the latter three
tables accounts for the fact that a single documentation object may
provide several of these entries, and allows for efficient searching.
</p>
<p>See the details in <code><a href="#topic+help.search">help.search</a></code> for how searchable
entries are interpreted according to help type.
</p>
<p><code>hsearch_db_concepts()</code> and <code>hsearch_db_keywords()</code> extract
all concepts or keywords, respectively, from a help search database,
and return these in a data frame together with their total frequencies
and the numbers of packages they are used in, with entries sorted in
decreasing total frequency.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>db &lt;- hsearch_db()
## Total numbers of documentation objects, aliases, keywords and
## concepts (using the current format):
sapply(db, NROW)
## Can also be obtained from print method:
db
## 10 most frequent concepts:
head(hsearch_db_concepts(), 10)
## 10 most frequent keywords:
head(hsearch_db_keywords(), 10)
</code></pre>

<hr>
<h2 id='INSTALL'>Install Add-on Packages</h2><span id='topic+INSTALL'></span><span id='topic+R_INSTALL_TAR'></span><span id='topic+R_INSTALL_STAGED'></span>

<h3>Description</h3>

<p>Utility for installing add-on packages.</p>


<h3>Usage</h3>

<pre><code class='language-R'>R CMD INSTALL [options] [-l lib] pkgs
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="INSTALL_+3A_pkgs">pkgs</code></td>
<td>
<p>a space-separated list with the path names of the packages to be
installed.  See &lsquo;Details&rsquo;.</p>
</td></tr>
<tr><td><code id="INSTALL_+3A_lib">lib</code></td>
<td>
<p>the path name of the <span class="rlang"><b>R</b></span> library tree to install to.  Also
accepted in the form &lsquo;<span class="samp">&#8288;--library=lib&#8288;</span>&rsquo;.  Paths including spaces should
be quoted, using the conventions for the shell in use.</p>
</td></tr>
<tr><td><code id="INSTALL_+3A_options">options</code></td>
<td>
<p>a space-separated list of options through which in
particular the process for building the help files can be controlled.
Use <code>R CMD INSTALL --help</code> for the full current list of options.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This will stop at the first error, so if you want all the <code>pkgs</code>
to be tried, call this via a shell loop.
</p>
<p>If used as <code>R CMD INSTALL pkgs</code> without explicitly specifying
<code>lib</code>, packages are installed into the library tree rooted at the
first directory in the library path which would be used by <span class="rlang"><b>R</b></span> run in
the current environment.
</p>
<p>To install into the library tree <code><var>lib</var></code>, use
<code>R CMD INSTALL -l <var>lib</var> <var>pkgs</var></code>.
This prepends <code>lib</code> to the library path for
duration of the install, so required packages in the installation
directory will be found (and used in preference to those in other
libraries).
</p>
<p>Both <code>lib</code> and the elements of <code>pkgs</code> may be absolute or
relative path names of directories.  <code>pkgs</code> may also contain
names of package archive files: these are then extracted to a
temporary directory.  These are tarballs containing a single
directory, optionally compressed by <code>gzip</code>, <code>bzip2</code>,
<code>xz</code> or <code>compress</code>.
Finally, binary package archive files (as created by
<code>R CMD INSTALL --build</code>) can be supplied.
</p>
<p>Tarballs are by default unpackaged by the internal <code><a href="#topic+untar">untar</a></code>
function: if needed an external <code>tar</code> command can be specified
by the environment variable <span class="env">R_INSTALL_TAR</span>: please ensure that it
can handle the type of compression used on the tarball.  (This is
sometimes needed for tarballs containing invalid or unsupported
sections, and can be faster on very large tarballs.   Setting
<span class="env">R_INSTALL_TAR</span> to &lsquo;<span class="samp">&#8288;tar.exe&#8288;</span>&rsquo; has been needed to overcome
permissions issues on some Windows systems.)
</p>
<p>The package sources can be cleaned up prior to installation by
<span class="option">--preclean</span> or after by <span class="option">--clean</span>: cleaning is
essential if the sources are to be used with more than one
architecture or platform.
</p>
<p>Some package sources contain a &lsquo;<span class="file">configure</span>&rsquo; script that can be
passed arguments or variables via the option <span class="option">--configure-args</span>
and <span class="option">--configure-vars</span>, respectively, if necessary.  The latter
is useful in particular if libraries or header files needed for the
package are in non-system directories.  In this case, one can use the
configure variables <code>LIBS</code> and <code>CPPFLAGS</code> to specify these
locations (and set these via <span class="option">--configure-vars</span>), see section
&lsquo;Configuration variables&rsquo; in
&lsquo;R Installation and Administration&rsquo; for more information.
(If these are used more than
once on the command line they are concatenated.)  The configure
mechanism can be bypassed using the option <span class="option">--no-configure</span>.
</p>
<p>If the attempt to install the package fails, leftovers are removed.
If the package was already installed, the old version is restored.
This happens either if a command encounters an error or if the
install is interrupted from the keyboard: after cleaning up the script
terminates.
</p>
<p>For details of the locking which is done, see the section
&lsquo;Locking&rsquo; in the help for <code><a href="#topic+install.packages">install.packages</a></code>.
</p>
<p>Option <span class="option">--build</span> can be used to tar up the installed package
for distribution as a binary package (as used on macOS).  This is done
by <code>utils::tar</code> unless environment variable <span class="env">R_INSTALL_TAR</span>
is set.
</p>
<p>By default a package is installed with static HTML help pages if and
only if <span class="rlang"><b>R</b></span> was: use options <span class="option">--html</span> and <span class="option">--no-html</span> to
override this.
</p>
<p>Packages are not by default installed keeping the source formatting
(see the <code>keep.source</code> argument to <code><a href="base.html#topic+source">source</a></code>): this
can be enabled by the option <span class="option">--with-keep.source</span> or by setting
environment variable <span class="env">R_KEEP_PKG_SOURCE</span> to <code>yes</code>.
</p>
<p>Specifying the <span class="option">--install-tests</span> option copies the contents
of the &lsquo;<span class="file">tests</span>&rsquo; directory into the package installation. If the
<span class="env">R_ALWAYS_INSTALL_TESTS</span> environment variable is set to a true
value, the tests will be installed even if <span class="option">--install-tests</span> is
omitted.
</p>
<p>Use <code>R CMD INSTALL --help</code> for concise usage information,
including all the available options.
</p>


<h3>Sub-architectures</h3>

<p>An <span class="rlang"><b>R</b></span> installation can support more than one sub-architecture:
currently this is most commonly used for 32- and 64-bit builds on
Windows.
</p>
<p>For such installations, the default behaviour is to try to install
source packages for all installed sub-architectures unless the package
has a configure script or a &lsquo;<span class="file">src/Makefile</span>&rsquo; (or
&lsquo;<span class="file">src/Makefile.win</span>&rsquo; on Windows), when only compiled code for the
sub-architecture running <code>R CMD INSTALL</code> is installed.
</p>
<p>To install a source package with compiled code only for the
sub-architecture used by <code>R CMD INSTALL</code>, use
<span class="option">--no-multiarch</span>.  To install just the compiled code for
another sub-architecture, use <span class="option">--libs-only</span>.
</p>
<p>There are two ways to install for all available sub-architectures.  If
the configure script is known to work for both Windows architectures,
use flag <span class="option">--force-biarch</span> (and packages can specify this
<em>via</em> a &lsquo;<span class="samp">&#8288;Biarch: yes&#8288;</span>&rsquo; field in their <code>DESCRIPTION</code> files).
Second, a single tarball can be installed with
</p>
<pre>R CMD INSTALL --merge-multiarch mypkg_version.tar.gz</pre>


<h3>Staged installation</h3>

<p>The default way to install source packages changed in <span class="rlang"><b>R</b></span> 3.6.0, so
packages are first installed to a temporary location and then (if
successful) moved to the destination library directory.  Some older
packages were written in ways that assume direct installation to the
destination library.
</p>
<p>Staged installation can currently be overridden by having a line
&lsquo;<span class="samp">&#8288;StagedInstall: no&#8288;</span>&rsquo; in the package's &lsquo;<span class="file">DESCRIPTION</span>&rsquo; file,
<em>via</em> flag <span class="option">--no-staged-install</span> or by setting environment
variable <span class="env">R_INSTALL_STAGED</span> to a false value
(e.g. &lsquo;<span class="samp">&#8288;false&#8288;</span>&rsquo; or &lsquo;<span class="samp">&#8288;no&#8288;</span>&rsquo;).
</p>
<p>Staged installation requires either <span class="option">--pkglock</span> or
<span class="option">--lock</span>, one of which is used by default.
</p>


<h3>Note</h3>

<p>The options do not have to precede &lsquo;<span class="samp">&#8288;pkgs&#8288;</span>&rsquo; on the command line,
although it will be more legible if they do.  All the options are
processed before any packages, and where options have conflicting
effects the last one will win.
</p>
<p>Some parts of the operation of <code>INSTALL</code> depend on the <span class="rlang"><b>R</b></span>
temporary directory (see <code><a href="base.html#topic+tempdir">tempdir</a></code>, usually under
&lsquo;<span class="file">/tmp</span>&rsquo;) having both write and execution access to the account
running <span class="rlang"><b>R</b></span>.  This is usually the case, but if &lsquo;<span class="file">/tmp</span>&rsquo; has been
mounted as <code>noexec</code>, environment variable <span class="env">TMPDIR</span> may need
to be set to a directory from which execution is allowed.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+REMOVE">REMOVE</a></code>;
<code><a href="base.html#topic+.libPaths">.libPaths</a></code> for information on using several library trees;
<code><a href="#topic+install.packages">install.packages</a></code> for <span class="rlang"><b>R</b></span>-level installation of packages;
<code><a href="#topic+update.packages">update.packages</a></code> for automatic update of packages using
the Internet or a local repository.
</p>
<p>The chapter on &lsquo;Add-on packages&rsquo; in
&lsquo;R Installation and Administration&rsquo;
and the chapter on &lsquo;Creating R packages&rsquo; in
&lsquo;Writing R Extensions&rsquo;
<em>via</em> <code><a href="#topic+RShowDoc">RShowDoc</a></code> or in the &lsquo;<span class="file">doc/manual</span>&rsquo;
subdirectory of the <span class="rlang"><b>R</b></span> source tree.
</p>

<hr>
<h2 id='install.packages'>Install Packages from Repositories or Local Files</h2><span id='topic+install.packages'></span>

<h3>Description</h3>

<p>Download and install packages from CRAN-like repositories or from
local files.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>install.packages(pkgs, lib, repos = getOption("repos"),
                 contriburl = contrib.url(repos, type),
                 method, available = NULL, destdir = NULL,
                 dependencies = NA, type = getOption("pkgType"),
                 configure.args = getOption("configure.args"),
                 configure.vars = getOption("configure.vars"),
                 clean = FALSE, Ncpus = getOption("Ncpus", 1L),
                 verbose = getOption("verbose"),
                 libs_only = FALSE, INSTALL_opts, quiet = FALSE,
                 keep_outputs = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="install.packages_+3A_pkgs">pkgs</code></td>
<td>
<p>character vector of the names of packages whose
current versions should be downloaded from the repositories.
</p>
<p>If <code>repos = NULL</code>, a character vector of file paths,
</p>

<dl>
<dt>on Windows,</dt><dd>
<p>file paths of &lsquo;<span class="file">.zip</span>&rsquo; files containing binary builds of
packages.  (&lsquo;<span class="samp">&#8288;http://&#8288;</span>&rsquo; and &lsquo;<span class="samp">&#8288;file://&#8288;</span>&rsquo; URLs are also accepted
and the files will be downloaded and installed from local copies.)
Source directories or file paths or URLs of archives may be
specified with <code>type = "source"</code>, but some packages need
suitable tools installed (see the &lsquo;Details&rsquo; section).
</p>
</dd>
<dt>On Unix-alikes,</dt><dd><p>these file paths can be source directories or archives
or binary package archive files (as created by <code>R CMD build
      --binary</code>).  (&lsquo;<span class="samp">&#8288;http://&#8288;</span>&rsquo; and &lsquo;<span class="samp">&#8288;file://&#8288;</span>&rsquo; URLs are also
accepted and the files will be downloaded and installed from local
copies.)  On a CRAN build of <span class="rlang"><b>R</b></span> for macOS these can be &lsquo;<span class="file">.tgz</span>&rsquo;
files containing binary package archives.
Tilde-expansion will be done on file paths.
</p>
</dd>
</dl>

<p>If this is missing, a listbox of
available packages is presented where possible in an interactive <span class="rlang"><b>R</b></span>
session.
</p>
</td></tr>
<tr><td><code id="install.packages_+3A_lib">lib</code></td>
<td>

<p>character vector giving the library directories where to
install the packages.  Recycled as needed.  If missing, defaults to
the first element of <code><a href="base.html#topic+.libPaths">.libPaths</a>()</code>.
</p>
</td></tr>
<tr><td><code id="install.packages_+3A_repos">repos</code></td>
<td>

<p>character vector, the base URL(s) of the repositories
to use, e.g., the URL of a CRAN mirror such as
<code>"https://cloud.r-project.org"</code>.  For more details on
supported URL schemes see <code><a href="base.html#topic+url">url</a></code>.
</p>
<p>Can be <code>NULL</code> to install from local files, directories or URLs:
this will be inferred by extension from <code>pkgs</code> if of length one.
</p>
</td></tr>
<tr><td><code id="install.packages_+3A_contriburl">contriburl</code></td>
<td>

<p>URL(s) of the contrib sections of the repositories.  Use this
argument if your repository mirror is incomplete, e.g., because
you mirrored only the &lsquo;<span class="file">contrib</span>&rsquo; section, or only have
binary packages.  Overrides argument <code>repos</code>.
Incompatible with <code>type = "both"</code>.
</p>
</td></tr>
<tr><td><code id="install.packages_+3A_method">method</code></td>
<td>

<p>download method, see <code><a href="#topic+download.file">download.file</a></code>.  Unused if
a non-<code>NULL</code> <code>available</code> is supplied.
</p>
</td></tr>
<tr><td><code id="install.packages_+3A_available">available</code></td>
<td>

<p>a matrix as returned by <code><a href="#topic+available.packages">available.packages</a></code>
listing packages available at the repositories, or <code>NULL</code> when
the function makes an internal call to <code>available.packages</code>.
Incompatible with <code>type = "both"</code>.
</p>
</td></tr>
<tr><td><code id="install.packages_+3A_destdir">destdir</code></td>
<td>

<p>directory where downloaded packages are stored.  If it is
<code>NULL</code> (the default) a subdirectory
<code>downloaded_packages</code> of the session temporary
directory will be used (and the files will be deleted
at the end of the session).
</p>
</td></tr>
<tr><td><code id="install.packages_+3A_dependencies">dependencies</code></td>
<td>
<p>logical indicating whether to also install
uninstalled packages which these packages depend on/link
to/import/suggest (and so on recursively).
Not used if <code>repos = NULL</code>.
Can also be a character vector, a subset of
<code>c("Depends", "Imports", "LinkingTo", "Suggests", "Enhances")</code>.
</p>
<p>Only supported if <code>lib</code> is of length one (or missing),
so it is unambiguous where to install the dependent packages.  If
this is not the case it is ignored, with a warning.
</p>
<p>The default, <code>NA</code>, means
<code>c("Depends", "Imports", "LinkingTo")</code>.
</p>
<p><code>TRUE</code> means to use
<code>c("Depends", "Imports", "LinkingTo", "Suggests")</code> for
<code>pkgs</code> and
<code>c("Depends", "Imports", "LinkingTo")</code> for added dependencies:
this installs all the packages needed to run <code>pkgs</code>, their
examples, tests and vignettes (if the package author specified them
correctly).
</p>
<p>In all of these, <code>"LinkingTo"</code> is omitted for binary packages.
</p>
</td></tr>
<tr><td><code id="install.packages_+3A_type">type</code></td>
<td>
<p>character, indicating the type of package to download and
install.  Will be <code>"source"</code> except on Windows and some macOS
builds: see the section on &lsquo;Binary packages&rsquo; for those.
</p>
</td></tr>
<tr><td><code id="install.packages_+3A_configure.args">configure.args</code></td>
<td>

<p>(Used only for source installs.) A character vector or a named list.
If a character vector with no names is supplied, the elements are
concatenated into a single string (separated by a space) and used as
the value for the <span class="option">--configure-args</span> flag in the call to
<code>R CMD INSTALL</code>.  If the character vector has names these
are assumed to identify values for <span class="option">--configure-args</span> for
individual packages.  This allows one to specify settings for an
entire collection of packages which will be used if any of those
packages are to be installed.  (These settings can therefore be
re-used and act as default settings.)
</p>
<p>A named list can be used also to the same effect, and that
allows multi-element character strings for each package
which are concatenated to a single string to be used as the
value for <span class="option">--configure-args</span>.
</p>
</td></tr>
<tr><td><code id="install.packages_+3A_configure.vars">configure.vars</code></td>
<td>

<p>(Used only for source installs.) Analogous to <code>configure.args</code>
for flag <span class="option">--configure-vars</span>, which is used to set environment
variables for the <code>configure</code> run.
</p>
</td></tr>
<tr><td><code id="install.packages_+3A_clean">clean</code></td>
<td>
<p>a logical value indicating whether to add the
<span class="option">--clean</span> flag to the call to <code>R CMD INSTALL</code>.
This is sometimes used to perform additional operations at the end
of the package installation in addition to removing intermediate files.
</p>
</td></tr>
<tr><td><code id="install.packages_+3A_ncpus">Ncpus</code></td>
<td>
<p>the number of parallel processes to use for a parallel
install of more than one source package.  Values greater than one
are supported if the <code>make</code> command specified by
<code>Sys.getenv("MAKE", "make")</code> accepts argument
<span class="option">-k -j &lt;Ncpus&gt;</span>.
</p>
</td></tr>
<tr><td><code id="install.packages_+3A_verbose">verbose</code></td>
<td>

<p>a logical indicating if some &ldquo;progress report&rdquo; should be given.
</p>
</td></tr>
<tr><td><code id="install.packages_+3A_libs_only">libs_only</code></td>
<td>

<p>a logical value: should the <span class="option">--libs-only</span> option be used to
install only additional sub-architectures for source installs?  (See also
<code>INSTALL_opts</code>.)  This can also be used on Windows to install
just the DLL(s) from a binary package, e.g. to add 64-bit
DLLs to a 32-bit install.
</p>
</td></tr>
<tr><td><code id="install.packages_+3A_install_opts">INSTALL_opts</code></td>
<td>

<p>an optional character vector of additional option(s) to be passed to
<code>R CMD INSTALL</code> for a source package install.  E.g.,
<code>c("--html", "--no-multiarch", "--no-test-load")</code>.
</p>
<p>Can also be a named list of character vectors to be used as
additional options, with names the respective package names.
</p>
</td></tr>
<tr><td><code id="install.packages_+3A_quiet">quiet</code></td>
<td>

<p>logical: if true, reduce the amount of output.  This is <em>not</em>
passed to <code><a href="#topic+available.packages">available.packages</a>()</code> in case that is called, on
purpose.
</p>
</td></tr>
<tr><td><code id="install.packages_+3A_keep_outputs">keep_outputs</code></td>
<td>

<p>a logical: if true, keep the outputs from installing source packages
in the current working directory, with the names of the output files
the package names with &lsquo;<span class="file">.out</span>&rsquo; appended (overwriting existing
files, possibly from previous installation attempts).  Alternatively, a
character string giving the directory in which to save the outputs.
Ignored when installing from local files.
</p>
</td></tr>
<tr><td><code id="install.packages_+3A_...">...</code></td>
<td>

<p>further arguments to be passed to <code><a href="#topic+download.file">download.file</a></code>,
<code><a href="#topic+available.packages">available.packages</a></code>, or to the functions for binary
installs on macOS and Windows (which accept an argument <code>"lock"</code>:
see the section on &lsquo;Locking&rsquo;).
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is the main function to install packages.  It takes a vector of
names and a destination library, downloads the packages from the
repositories and installs them.  (If the library is omitted it
defaults to the first directory in <code>.libPaths()</code>, with a message
if there is more than one.)  If <code>lib</code> is omitted or is of length
one and is not a (group) writable directory, in interactive use the
code offers to create a personal library tree (the first element of
<code>Sys.getenv("R_LIBS_USER")</code>) and install there.
</p>
<p>Detection of a writable directory is problematic on Windows: see the
&lsquo;Note&rsquo; section.
</p>
<p>For installs from a repository an attempt is made to install the
packages in an order that respects their dependencies.  This does
assume that all the entries in <code>lib</code> are on the default library
path for installs (set by environment variable <span class="env">R_LIBS</span>).
</p>
<p>You are advised to run <code>update.packages</code> before
<code>install.packages</code> to ensure that any already installed
dependencies have their latest versions.
</p>


<h3>Value</h3>

<p>Invisible <code>NULL</code>.
</p>


<h3>Binary packages</h3>

<p>This section applies only to platforms where binary packages are
available: Windows and CRAN builds for macOS.
</p>
<p><span class="rlang"><b>R</b></span> packages are primarily distributed as <em>source</em> packages, but
<em>binary</em> packages (a packaging up of the installed package) are
also supported, and the type most commonly used on Windows and by the
CRAN builds for macOS.  This function can install either type, either by
downloading a file from a repository or from a local file.
</p>
<p>Possible values of <code>type</code> are (currently) <code>"source"</code>,
<code>"mac.binary"</code>, and
<code>"win.binary"</code>: the appropriate binary type where supported can
also be selected as <code>"binary"</code>.
</p>
<p>For a binary install from a repository, the function checks for the
availability of a source package on the same repository, and reports
if the source package has a later version, or is available but no
binary version is.  This check can be suppressed by using
</p>
<pre>    options(install.packages.check.source = "no")</pre>
<p>and should be if there is a partial repository containing only binary
files.
</p>
<p>An alternative (and the current default) is <code>"both"</code> which means
&lsquo;use binary if available and current, otherwise try
source&rsquo;. The action if there are source packages which are preferred
but may contain code which needs to be compiled is controlled by
<code><a href="base.html#topic+getOption">getOption</a>("install.packages.compile.from.source")</code>.
<code>type = "both"</code> will be silently changed to <code>"binary"</code> if
either <code>contriburl</code> or <code>available</code> is specified.
</p>
<p>Using packages with <code>type = "source"</code> always works provided the
package contains no C/C++/Fortran code that needs compilation.
Otherwise,
</p>

<dl>
<dt>on Windows,</dt><dd><p>you will need to have installed the Rtools
collection as described in the &lsquo;R for Windows FAQ&rsquo; <em>and</em>
you must have the <span class="env">PATH</span> environment variable set up as required
by Rtools.
</p>
<p>For a 32/64-bit installation of <span class="rlang"><b>R</b></span> on Windows, a small minority of
packages with compiled code need either <code>INSTALL_opts =
  "--force-biarch"</code> or <code>INSTALL_opts = "--merge-multiarch"</code> for a
source installation.  (It is safe to always set the latter when
installing from a repository or tarballs, although it will be a little
slower.)
</p>
<p>When installing a package on Windows, <code>install.packages</code> will abort
the install if it detects that the package is already installed and is
currently in use.  In some circumstances (e.g., multiple instances of
<span class="rlang"><b>R</b></span> running at the same time and sharing a library) it will not detect a
problem, but the installation may fail as Windows locks files in use.
</p>
</dd>
<dt>On Unix-alikes,</dt><dd><p>when the package contains C/C++/Fortran code
that needs compilation, suitable compilers and related tools need
to be installed.  On macOS you need to have installed the
&lsquo;Command-line tools for Xcode&rsquo; (see the
&lsquo;R Installation and Administration&rsquo; manual) and if needed
by the package a Fortran compiler, and have them in your path.
</p>
</dd>
</dl>



<h3>Locking</h3>

<p>There are various options for locking: these differ between source and
binary installs.
</p>
<p>By default for a source install, the library directory is
&lsquo;locked&rsquo; by creating a directory &lsquo;<span class="file">00LOCK</span>&rsquo; within it.  This
has two purposes: it prevents any other process installing into that
library concurrently, and is used to store any previous version of the
package to restore on error.  A finer-grained locking is provided by
the option <span class="option">--pkglock</span> which creates a separate lock for each
package: this allows enough freedom for parallel
installation.  Per-package locking is the default when installing a
single package, and for multiple packages when <code>Ncpus &gt; 1L</code>.
Finally locking (and restoration on error) can be suppressed by
<span class="option">--no-lock</span>.

</p>
<p>For a macOS binary install, no locking is done by default.  Setting
argument <code>lock</code> to <code>TRUE</code> (it defaults to the value of
<code><a href="base.html#topic+getOption">getOption</a>("install.lock", FALSE)</code>) will use per-directory
locking as described for source installs.  For Windows binary install,
per-directory locking is used by default (<code>lock</code> defaults to the
value of <code><a href="base.html#topic+getOption">getOption</a>("install.lock", TRUE)</code>).  If the value is
<code>"pkglock"</code> per-package locking will be used.
</p>
<p>If package locking is used on Windows with <code>libs_only = TRUE</code> and
the installation fails, the package will be restored to its previous
state.
</p>
<p>Note that it is possible for the package installation to fail so badly
that the lock directory is not removed: this inhibits any further
installs to the library directory (or for <span class="option">--pkglock</span>, of the
package) until the lock directory is removed manually.
</p>


<h3>Parallel installs</h3>

<p>Parallel installs are attempted if <code>pkgs</code> has length greater than
one and <code>Ncpus &gt; 1</code>.  It makes use of a parallel <code>make</code>,
so the <code>make</code> specified (default <code>make</code>) when <span class="rlang"><b>R</b></span> was
built must be capable of supporting <code>make -j <var>N</var></code>: GNU make,
<code>dmake</code> and <code>pmake</code> do, but Solaris <code>make</code> and
older FreeBSD <code>make</code> do not: if necessary environment variable
<span class="env">MAKE</span> can be set for the current session to select a suitable
<code>make</code>.
</p>
<p><code>install.packages</code> needs to be able to compute all the
dependencies of <code>pkgs</code> from <code>available</code>, including if one
element of <code>pkgs</code> depends indirectly on another.  This means that
if for example you are installing <abbr>CRAN</abbr> packages which depend
on Bioconductor packages which in turn depend on <abbr>CRAN</abbr>
packages, <code>available</code> needs to cover both <abbr>CRAN</abbr> and
Bioconductor packages.
</p>


<h3>Timeouts</h3>

<p>A limit on the elapsed time for each call to <code>R CMD INSTALL</code>
(so for source installs) can be set <em>via</em> environment variable
<span class="env">_R_INSTALL_PACKAGES_ELAPSED_TIMEOUT_</span>: in seconds (or in minutes
or hours with optional suffix &lsquo;<span class="samp">&#8288;m&#8288;</span>&rsquo; or &lsquo;<span class="samp">&#8288;h&#8288;</span>&rsquo;, suffix &lsquo;<span class="samp">&#8288;s&#8288;</span>&rsquo;
being allowed for the default seconds) with <code>0</code> meaning no limit.
</p>
<p>For non-parallel installs this is implemented <em>via</em> the
<code>timeout</code> argument of <code><a href="base.html#topic+system2">system2</a></code>: for parallel
installs <em>via</em> the OS's <code>timeout</code> command.  (The one
tested is from GNU <span class="pkg">coreutils</span>, commonly available on Linux but
not other Unix-alikes.  If no such command is available the timeout
request is ignored, with a warning. On Windows, one needs to specify
a suitable <code>timeout</code> command via environment variable
<span class="env">R_TIMEOUT</span>, because &lsquo;<span class="file">c:/Windows/system32/timeout.exe</span>&rsquo; is
not.)  For parallel installs a
&lsquo;<span class="samp">&#8288;Error 124&#8288;</span>&rsquo; message from <code>make</code> indicates that timeout
occurred.
</p>
<p>Timeouts during installation might leave lock directories behind and
not restore previous versions.
</p>


<h3>Version requirements on source installs</h3>

<p>If you are not running an up-to-date version of <span class="rlang"><b>R</b></span> you may see a
message like
</p>
<pre>
   package 'RODBC' is not available (for R version 3.5.3)
</pre>
<p>One possibility is that the package is not available in any of the
selected repositories; another is that is available but only for
current or recent versions of <span class="rlang"><b>R</b></span>.  For <abbr>CRAN</abbr> packages take
a look at the package's CRAN page (e.g.,
<a href="https://cran.r-project.org/package=RODBC">https://cran.r-project.org/package=RODBC</a>). If that indicates in
the &lsquo;<span class="samp">&#8288;Depends&#8288;</span>&rsquo; field a dependence on a later version of <span class="rlang"><b>R</b></span> you
will need to look in the &lsquo;<span class="samp">&#8288;Old sources&#8288;</span>&rsquo; section and select the URL
of a version of comparable age to your <span class="rlang"><b>R</b></span>.  Then you can supply that
URL as the first argument of <code>install.packages()</code>: you may
need to first manually install its dependencies.
</p>
<p>For other repositories, using <code>available.packages(filters =
    "OS_type")[<var>pkgname</var>, ]</code> will show if the package is available
for any <span class="rlang"><b>R</b></span> version (for your OS).
</p>


<h3>Note</h3>


<dl>
<dt>On Unix-alikes:</dt><dd>
<p>Some binary distributions of <span class="rlang"><b>R</b></span> have <code>INSTALL</code> in a separate
bundle, e.g. an <code>R-devel</code> RPM.  <code>install.packages</code> will
give an error if called with <code>type = "source"</code> on such a system.
</p>
<p>Some binary Linux distributions of <span class="rlang"><b>R</b></span> can be installed on a machine
without the tools needed to install packages: a possible remedy is to
do a complete install of <span class="rlang"><b>R</b></span> which should bring in all those tools as
dependencies.
</p>
</dd>
<dt>On Windows:</dt><dd>
<p><code>install.packages</code> tries to detect if you have write permission
on the library directories specified, but Windows reports unreliably.
If there is only one library directory (the default), <span class="rlang"><b>R</b></span> tries to
find out by creating a test directory, but even this need not be the
whole story: you may have permission to write in a library directory
but lack permission to write binary files (such as &lsquo;<span class="file">.dll</span>&rsquo; files)
there.  See the &lsquo;R for Windows FAQ&rsquo; for workarounds.
</p>
</dd>
</dl>



<h3>See Also</h3>

<p><code><a href="#topic+update.packages">update.packages</a></code>,
<code><a href="#topic+available.packages">available.packages</a></code>,
<code><a href="#topic+download.packages">download.packages</a></code>,
<code><a href="#topic+installed.packages">installed.packages</a></code>,
<code><a href="#topic+contrib.url">contrib.url</a></code>.
</p>
<p>See <code><a href="#topic+download.file">download.file</a></code> for how to handle proxies and
other options to monitor file transfers.
</p>
<p><code><a href="#topic+untar">untar</a></code> for manually unpacking source package tarballs.
</p>
<p><code><a href="#topic+INSTALL">INSTALL</a></code>, <code><a href="#topic+REMOVE">REMOVE</a></code>, <code><a href="#topic+remove.packages">remove.packages</a></code>,
<code><a href="base.html#topic+library">library</a></code>, <code><a href="base.html#topic+.packages">.packages</a></code>, <code><a href="base.html#topic+read.dcf">read.dcf</a></code>
</p>
<p>The &lsquo;R Installation and Administration&rsquo; manual for how to
set up a repository.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## A Linux example for Fedora's layout of udunits2 headers.
install.packages(c("ncdf4", "RNetCDF"),
  configure.args = c(RNetCDF = "--with-netcdf-include=/usr/include/udunits2"))

## End(Not run)</code></pre>

<hr>
<h2 id='installed.packages'>Find Installed Packages</h2><span id='topic+installed.packages'></span>

<h3>Description</h3>

<p>Find (or retrieve) details of all packages installed in the specified
libraries.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>installed.packages(lib.loc = NULL, priority = NULL,
                   noCache = FALSE, fields = NULL,
                   subarch = .Platform$r_arch, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="installed.packages_+3A_lib.loc">lib.loc</code></td>
<td>

<p>character vector describing the location of <span class="rlang"><b>R</b></span> library trees to
search through, or <code>NULL</code> for all known trees
(see <code><a href="base.html#topic+.libPaths">.libPaths</a></code>).
</p>
</td></tr>
<tr><td><code id="installed.packages_+3A_priority">priority</code></td>
<td>

<p>character vector or <code>NULL</code> (default).  If non-null, used to
select packages; <code>"high"</code> is equivalent to
<code>c("base", "recommended")</code>.  To select all packages without an
assigned priority use <code>priority = NA_character_</code>.
</p>
</td></tr>
<tr><td><code id="installed.packages_+3A_nocache">noCache</code></td>
<td>
<p>Do not use cached information, nor cache it.</p>
</td></tr>
<tr><td><code id="installed.packages_+3A_fields">fields</code></td>
<td>
<p>a character vector giving the fields to extract from
each package's &lsquo;<span class="file">DESCRIPTION</span>&rsquo; file in addition to the default
ones, or <code>NULL</code> (default).  Unavailable fields result in
<code>NA</code> values.</p>
</td></tr>
<tr><td><code id="installed.packages_+3A_subarch">subarch</code></td>
<td>
<p>character string or <code>NULL</code>.  If non-null and
non-empty, used to select packages which are installed for that
sub-architecture.</p>
</td></tr>
<tr><td><code id="installed.packages_+3A_...">...</code></td>
<td>
<p>allows unused arguments to be passed down from other functions.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>installed.packages</code> scans the &lsquo;<span class="file">DESCRIPTION</span>&rsquo; files of each
package found along <code>lib.loc</code> and returns a matrix of package
names, library paths and version numbers.
</p>
<p>The information found is cached (by library) for the <span class="rlang"><b>R</b></span> session and
specified <code>fields</code> argument, and updated only if the top-level
library directory has been altered, for example by installing or
removing a package.  If the cached information becomes confused, it
can be avoided by specifying <code>noCache = TRUE</code>.
</p>


<h3>Value</h3>

<p>A matrix with one row per package, row names the package names and
column names (currently)
<code>"Package"</code>, <code>"LibPath"</code>,
<code>"Version"</code>, <code>"Priority"</code>,
<code>"Depends"</code>, <code>"Imports"</code>, <code>"LinkingTo"</code>,
<code>"Suggests"</code>, <code>"Enhances"</code>,
<code>"OS_type"</code>, <code>"License"</code> and
<code>"Built"</code> (the <span class="rlang"><b>R</b></span> version the package was built under).
Additional columns can be specified using the <code>fields</code>
argument.
</p>


<h3>Note</h3>

<p>This needs to read several files per installed package, which will be
slow on Windows and on some network-mounted file systems.
</p>
<p>It will be slow when thousands of packages are installed, so do not
use it to find out if a named package is installed (use
<code><a href="base.html#topic+find.package">find.package</a></code> or <code><a href="base.html#topic+system.file">system.file</a></code>) nor to find
out if a package is usable (call <code><a href="base.html#topic+requireNamespace">requireNamespace</a></code> or
<code><a href="base.html#topic+require">require</a></code> and check the return value) nor to find details
of a small number of packages (use <code><a href="#topic+packageDescription">packageDescription</a></code>).
</p>


<h3>See Also</h3>

<p><code><a href="#topic+update.packages">update.packages</a></code>,
<code><a href="#topic+install.packages">install.packages</a></code>,
<code><a href="#topic+INSTALL">INSTALL</a></code>, <code><a href="#topic+REMOVE">REMOVE</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## confine search to .Library for speed
str(ip &lt;- installed.packages(.Library, priority = "high"))
ip[, c(1,3:5)]
plic &lt;- installed.packages(.Library, priority = "high", fields = "License")
## what licenses are there:
table( plic[, "License"] )

## Recommended setup (by many pros):
## Keep packages that come with R (priority="high") and all others separate!
## Consequently, .Library, R's "system" library, shouldn't have any
## non-"high"-priority packages :
pSys &lt;- installed.packages(.Library, priority = NA_character_)
length(pSys) == 0 # TRUE under such a setup
</code></pre>

<hr>
<h2 id='isS3method'>Is 'method' the Name of an S3 Method?</h2><span id='topic+isS3method'></span>

<h3>Description</h3>

<p>Checks if <code>method</code> is the name of a valid / registered S3
method.  Alternatively, when <code>f</code> and <code>class</code> are specified,
it is checked if <code>f</code> is the name of an S3 generic function and
<code>paste(f, class, sep=".")</code> is a valid S3 method.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>isS3method(method, f, class, envir = parent.frame())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="isS3method_+3A_method">method</code></td>
<td>
<p>a character string, typically of the form
<code>"<var>fn</var>.<var>class</var>"</code>.  If omitted, <code>f</code> and <code>class</code> have
to be specified instead.</p>
</td></tr>
<tr><td><code id="isS3method_+3A_f">f</code></td>
<td>
<p>optional character string, typically specifying an S3 generic
function.  Used, when <code>method</code> is not specified.</p>
</td></tr>
<tr><td><code id="isS3method_+3A_class">class</code></td>
<td>
<p>optional character string, typically specifying an S3
class name.  Used, when <code>method</code> is not specified.</p>
</td></tr>
<tr><td><code id="isS3method_+3A_envir">envir</code></td>
<td>
<p>the <code><a href="base.html#topic+environment">environment</a></code> in which the method and its
generic are searched first, as in <code><a href="#topic+getS3method">getS3method</a>()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code><a href="base.html#topic+logical">logical</a></code> <code>TRUE</code> or <code>FALSE</code>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+methods">methods</a></code>, <code><a href="#topic+getS3method">getS3method</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>isS3method("t")           # FALSE - it is an S3 generic
isS3method("t.default")   # TRUE
isS3method("t.ts")        # TRUE
isS3method("t.test")      # FALSE
isS3method("t.data.frame")# TRUE
isS3method("t.lm")        # FALSE - not existing
isS3method("t.foo.bar")   # FALSE - not existing

## S3 methods with "4 parts" in their name:
ff &lt;- c("as.list", "as.matrix", "is.na", "row.names", "row.names&lt;-")
for(m in ff) if(isS3method(m)) stop("wrongly declared an S3 method: ", m)
(m4 &lt;- paste(ff, "data.frame", sep="."))
for(m in m4) if(!isS3method(m)) stop("not an S3 method: ", m)

</code></pre>

<hr>
<h2 id='isS3stdGeneric'>Check if a Function Acts as an S3 Generic</h2><span id='topic+isS3stdGeneric'></span>

<h3>Description</h3>

<p>Determines whether <code>f</code> acts as a standard S3-style generic
function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>isS3stdGeneric(f)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="isS3stdGeneric_+3A_f">f</code></td>
<td>
<p>a function object</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A closure is considered a standard S3 generic if the first expression
in its body calls <code><a href="base.html#topic+UseMethod">UseMethod</a></code>. Functions which perform
operations before calling <code>UseMethod</code> will not be considered
&ldquo;standard&rdquo; S3 generics.
</p>
<p>If <code>f</code> is currently being traced, i.e., inheriting from class
<code>"traceable"</code>, the definition of the original untraced version of
the function is used instead.
</p>


<h3>Value</h3>

<p>If <code>f</code> is an S3 generic, a logical containing <code>TRUE</code>
with the name of the S3 generic (the string passed to
<code>UseMethod</code>). Otherwise, <code>FALSE</code> (unnamed).
</p>

<hr>
<h2 id='LINK'>Create Executable Programs on Unix-alikes</h2><span id='topic+LINK'></span>

<h3>Description</h3>

<p>Front-end for creating executable programs on unix-alikes, i.e., not
on Windows.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>R CMD LINK [options] linkcmd
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="LINK_+3A_linkcmd">linkcmd</code></td>
<td>
<p>a list of commands to link together suitable object
files (include library objects) to create the executable program.</p>
</td></tr>
<tr><td><code id="LINK_+3A_options">options</code></td>
<td>
<p>further options to control the linking, or for
obtaining information about usage and version.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The linker front-end is useful in particular when linking against the
<span class="rlang"><b>R</b></span> shared or static library: see the examples.
</p>
<p>The actual linking command is constructed by the version of
<code>libtool</code> installed at &lsquo;<span class="file"><var><a href="base.html#topic+R_HOME">R_HOME</a></var>/bin</span>&rsquo;.
</p>
<p><code>R CMD LINK --help</code> gives usage information.
</p>


<h3>Note</h3>

<p>Some binary distributions of <span class="rlang"><b>R</b></span> have <code>LINK</code> in a separate
bundle, e.g. an <code>R-devel</code> RPM.
</p>
<p>This is not available on Windows.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+COMPILE">COMPILE</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: ## examples of front-ends linked against R.
## First a C program
CC=`R CMD config CC`
R CMD LINK $CC -o foo foo.o `R CMD config --ldflags`

## if Fortran code has been compiled into ForFoo.o
FLIBS=`R CMD config FLIBS`
R CMD LINK $CC -o foo foo.o ForFoo.o `R CMD config --ldflags` $FLIBS

## And for a C++ front-end
CXX=`R CMD config CXX`
R CMD COMPILE foo.cc
R CMD LINK $CXX -o foo foo.o `R CMD config --ldflags`

## End(Not run)</code></pre>

<hr>
<h2 id='localeToCharset'>
Select a Suitable Encoding Name from a Locale Name
</h2><span id='topic+localeToCharset'></span>

<h3>Description</h3>

<p>This functions aims to find a suitable coding for the locale named, by
default the current locale, and if it is a UTF-8 locale a suitable
single-byte encoding.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>localeToCharset(locale = Sys.getlocale("LC_CTYPE"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="localeToCharset_+3A_locale">locale</code></td>
<td>
<p>character string naming a locale.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The operation differs by OS.
</p>

<dl>
<dt>On Windows,</dt><dd><p>a locale is specified like <code>"English_United Kingdom.1252"</code>.
The final component gives the codepage, and this defines the encoding.
</p>
</dd>
<dt>On Unix-alikes:</dt><dd>
<p>Locale names are normally like <code>es_MX.iso88591</code>.  If final
component indicates an encoding and it is not <code>utf8</code> we just need
to look up the equivalent encoding name.  Otherwise, the language
(here <code>es</code>) is used to choose a primary or fallback encoding.
</p>
</dd>
</dl>

<p>In the <code>C</code> locale the answer will be <code>"ASCII"</code>.
</p>


<h3>Value</h3>

<p>A character vector naming an encoding and possibly a fallback
single-encoding,  <code>NA</code> if unknown.
</p>


<h3>Note</h3>

<p>The encoding names are those used by <code>libiconv</code>, and ought also
to work with <code>glibc</code> but maybe not with commercial Unixen.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+Sys.getlocale">Sys.getlocale</a></code>, <code><a href="base.html#topic+iconv">iconv</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>localeToCharset()
</code></pre>

<hr>
<h2 id='ls.str'>List Objects and their Structure</h2><span id='topic+ls.str'></span><span id='topic+lsf.str'></span><span id='topic+print.ls_str'></span>

<h3>Description</h3>

<p><code>ls.str</code> and <code>lsf.str</code> are variations of <code><a href="base.html#topic+ls">ls</a></code>
applying <code><a href="#topic+str">str</a>()</code> to each matched name: see section Value.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ls.str(pos = -1, name, envir, all.names = FALSE,
       pattern, mode = "any")

lsf.str(pos = -1, envir, ...)

## S3 method for class 'ls_str'
print(x, max.level = 1, give.attr = FALSE, ...,
      digits = max(1, getOption("str")$digits.d))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ls.str_+3A_pos">pos</code></td>
<td>
<p>integer indicating <code><a href="base.html#topic+search">search</a></code> path position, or
<code>-1</code> for the current environment.</p>
</td></tr>
<tr><td><code id="ls.str_+3A_name">name</code></td>
<td>
<p>optional name indicating <code><a href="base.html#topic+search">search</a></code> path
position, see <code><a href="base.html#topic+ls">ls</a></code>.</p>
</td></tr>
<tr><td><code id="ls.str_+3A_envir">envir</code></td>
<td>
<p>environment to use, see <code><a href="base.html#topic+ls">ls</a></code>.</p>
</td></tr>
<tr><td><code id="ls.str_+3A_all.names">all.names</code></td>
<td>
<p>logical indicating if names which begin with a
<code>.</code> are omitted; see <code><a href="base.html#topic+ls">ls</a></code>.</p>
</td></tr>
<tr><td><code id="ls.str_+3A_pattern">pattern</code></td>
<td>
<p>a <a href="base.html#topic+regular+20expression">regular expression</a> passed to <code><a href="base.html#topic+ls">ls</a></code>.
Only names matching <code>pattern</code> are considered.</p>
</td></tr>
<tr><td><code id="ls.str_+3A_max.level">max.level</code></td>
<td>
<p>maximal level of nesting which is applied for
displaying nested structures, e.g., a list containing sub lists.
Default 1: Display only the first nested level.</p>
</td></tr>
<tr><td><code id="ls.str_+3A_give.attr">give.attr</code></td>
<td>
<p>logical; if <code>TRUE</code> (default), show attributes
as sub structures.</p>
</td></tr>
<tr><td><code id="ls.str_+3A_mode">mode</code></td>
<td>
<p>character specifying the <code><a href="base.html#topic+mode">mode</a></code> of objects to
consider.  Passed to <code><a href="base.html#topic+exists">exists</a></code> and <code><a href="base.html#topic+get">get</a></code>.</p>
</td></tr>
<tr><td><code id="ls.str_+3A_x">x</code></td>
<td>
<p>an object of class <code>"ls_str"</code>.</p>
</td></tr>
<tr><td><code id="ls.str_+3A_...">...</code></td>
<td>
<p>further arguments to pass.  <code>lsf.str</code> passes them to
<code>ls.str</code> which passes them on to <code><a href="base.html#topic+ls">ls</a></code>.  The
(non-exported) print method <code>print.ls_str</code> passes them to
<code><a href="#topic+str">str</a></code>.</p>
</td></tr>
<tr><td><code id="ls.str_+3A_digits">digits</code></td>
<td>
<p>the number of significant digits to use for printing.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>ls.str</code> and <code>lsf.str</code> return an object of class
<code>"ls_str"</code>, basically the character vector of matching names
(functions only for <code>lsf.str</code>), similarly to
<code><a href="base.html#topic+ls">ls</a></code>, with a <code>print()</code> method that calls <code><a href="#topic+str">str</a>()</code>
on each object.
</p>


<h3>Author(s)</h3>

<p>Martin Maechler</p>


<h3>See Also</h3>

<p><code><a href="#topic+str">str</a></code>, <code><a href="base.html#topic+summary">summary</a></code>, <code><a href="base.html#topic+args">args</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>require(stats)

lsf.str()  #- how do the functions look like which I am using?
ls.str(mode = "list")   #- what are the structured objects I have defined?

## create a few objects
example(glm, echo = FALSE)
ll &lt;- as.list(LETTERS)
print(ls.str(), max.level = 0)# don't show details

## which base functions have "file" in their name ?
lsf.str(pos = length(search()), pattern = "file")

## demonstrating that  ls.str() works inside functions
## ["browser/debug mode"]:
tt &lt;- function(x, y = 1) { aa &lt;- 7; r &lt;- x + y; ls.str() }
(nms &lt;- sapply(strsplit(capture.output(tt(2))," *: *"), `[`, 1))
stopifnot(nms == c("aa", "r","x","y"))
</code></pre>

<hr>
<h2 id='maintainer'>
Show Package Maintainer
</h2><span id='topic+maintainer'></span>

<h3>Description</h3>

<p>Show the name and email address of the maintainer of an installed package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>maintainer(pkg)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="maintainer_+3A_pkg">pkg</code></td>
<td>
<p>a character string, the name of an installed package.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Accesses the <a href="#topic+packageDescription">package description</a>
to return the name and email address of the maintainer.
</p>
<p>Questions about contributed packages should often be addressed to
the package maintainer; questions about base packages should
usually be addressed to the R-help or R-devel mailing lists.  Bug
reports should be submitted using the <code><a href="#topic+bug.report">bug.report</a></code>
function.
</p>


<h3>Value</h3>

<p>A character string giving the name and email address of the maintainer
of the package, or <code>NA_character_</code> if no such package is installed.
</p>


<h3>Author(s)</h3>

<p>David Scott <a href="mailto:d.scott@auckland.ac.nz">d.scott@auckland.ac.nz</a> from code on R-help originally
due to Charlie Sharpsteen <a href="mailto:source@sharpsteen.net">source@sharpsteen.net</a>; multiple corrections
by R-core.
</p>


<h3>References</h3>

<p><a href="https://stat.ethz.ch/pipermail/r-help/2010-February/230027.html">https://stat.ethz.ch/pipermail/r-help/2010-February/230027.html</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+packageDescription">packageDescription</a></code>, <code><a href="#topic+bug.report">bug.report</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>maintainer("MASS")
</code></pre>

<hr>
<h2 id='make.packages.html'>Update HTML Package List</h2><span id='topic+make.packages.html'></span>

<h3>Description</h3>

<p>Re-create the HTML list of packages.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make.packages.html(lib.loc = .libPaths(), temp = FALSE,
                   verbose = TRUE, docdir = R.home("doc"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="make.packages.html_+3A_lib.loc">lib.loc</code></td>
<td>
<p>character vector.  List of libraries to be included.</p>
</td></tr>
<tr><td><code id="make.packages.html_+3A_temp">temp</code></td>
<td>
<p>logical: should the package indices be created in a
temporary location for use by the HTTP server?</p>
</td></tr>
<tr><td><code id="make.packages.html_+3A_verbose">verbose</code></td>
<td>
<p>logical.  If true, print out a message.
</p>
</td></tr>
<tr><td><code id="make.packages.html_+3A_docdir">docdir</code></td>
<td>
<p>If <code>temp</code> is false, directory in whose &lsquo;<span class="file">html</span>&rsquo;
directory the &lsquo;<span class="file">packages.html</span>&rsquo; file is to be created/updated.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This creates the &lsquo;<span class="file">packages.html</span>&rsquo; file, either a temporary copy
for use by <code><a href="#topic+help.start">help.start</a></code>, or the copy in
&lsquo;<span class="file">R.home(&quot;doc&quot;)/html</span>&rsquo;
(for which you will need write permission).
</p>
<p>It can be very slow, as all the package &lsquo;<span class="file">DESCRIPTION</span>&rsquo; files in
all the library trees are read.
</p>
<p>For <code>temp = TRUE</code> there is some caching of information, so the
file will only be re-created if <code>lib.loc</code> or any of the
directories it lists have been changed.
</p>


<h3>Value</h3>

<p>Invisible logical, with <code>FALSE</code> indicating a failure to create
the file, probably due to lack of suitable permissions.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+help.start">help.start</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
make.packages.html()
# this can be slow for large numbers of installed packages.

## End(Not run)</code></pre>

<hr>
<h2 id='make.socket'>Create a Socket Connection</h2><span id='topic+make.socket'></span><span id='topic+print.socket'></span>

<h3>Description</h3>

<p>With <code>server = FALSE</code> attempts to open a client socket to the
specified port and host.  With <code>server = TRUE</code> the <span class="rlang"><b>R</b></span> process
listens on the specified port for a connection and then returns a
server socket.  It is a good idea to use <code><a href="base.html#topic+on.exit">on.exit</a></code> to
ensure that a socket is closed, as you only get 64 of them.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make.socket(host = "localhost", port, fail = TRUE, server = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="make.socket_+3A_host">host</code></td>
<td>
<p>name of remote host</p>
</td></tr>
<tr><td><code id="make.socket_+3A_port">port</code></td>
<td>
<p>port to connect to/listen on</p>
</td></tr>
<tr><td><code id="make.socket_+3A_fail">fail</code></td>
<td>
<p>failure to connect is an error?</p>
</td></tr>
<tr><td><code id="make.socket_+3A_server">server</code></td>
<td>
<p>a server socket?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>"socket"</code>, a list with components:
</p>
<table>
<tr><td><code>socket</code></td>
<td>
<p>socket number.  This is for internal use.  On a
Unix-alike it is a file descriptor.</p>
</td></tr>
<tr><td><code>port</code></td>
<td>
<p>port number of the connection.</p>
</td></tr>
<tr><td><code>host</code></td>
<td>
<p>name of remote computer.</p>
</td></tr>
</table>


<h3>Warning</h3>

<p>I don't know if the connecting host name returned
when <code>server = TRUE</code> can be trusted.  I suspect not.
</p>


<h3>Author(s)</h3>

<p>Thomas Lumley</p>


<h3>References</h3>

<p>Adapted from Luke Tierney's code for <code>XLISP-Stat</code>, in turn
based on code from Robbins and Robbins &ldquo;Practical UNIX Programming&rdquo;.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+close.socket">close.socket</a></code>, <code><a href="#topic+read.socket">read.socket</a></code>.
</p>
<p>Compiling in support for sockets was optional prior to <span class="rlang"><b>R</b></span> 3.3.0: see
<code><a href="base.html#topic+capabilities">capabilities</a>("sockets")</code> to see if it is available.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>daytime &lt;- function(host = "localhost"){
    a &lt;- make.socket(host, 13)
    on.exit(close.socket(a))
    read.socket(a)
}
## Official time (UTC) from US Naval Observatory
## Not run: daytime("tick.usno.navy.mil")
</code></pre>

<hr>
<h2 id='memory.size'>Report on Memory Allocation (no longer supported)</h2><span id='topic+memory.size'></span><span id='topic+memory.limit'></span>

<h3>Description</h3>


<p>These functions are currently stubs which report infinity
(<code><a href="base.html#topic+Inf">Inf</a></code>) with a warning on all platforms.  OS's own facilities
can be used on some systems to limit memory allocation.

</p>


<h3>Usage</h3>

<pre><code class='language-R'>memory.size(max = FALSE)

memory.limit(size = NA)
</code></pre>

<hr>
<h2 id='menu'>Menu Interaction Function</h2><span id='topic+menu'></span>

<h3>Description</h3>

<p><code>menu</code> presents the user with a menu of choices labelled from 1
to the number of choices.  To exit without choosing an item one can
select &lsquo;<span class="samp">&#8288;0&#8288;</span>&rsquo;.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>menu(choices, graphics = FALSE, title = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="menu_+3A_choices">choices</code></td>
<td>
<p>a character vector of choices</p>
</td></tr>
<tr><td><code id="menu_+3A_graphics">graphics</code></td>
<td>
<p>a logical indicating whether a graphics menu should be
used if available.</p>
</td></tr>
<tr><td><code id="menu_+3A_title">title</code></td>
<td>
<p>a character string to be used as the title of the menu.
<code>NULL</code> is also accepted.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>graphics = TRUE</code> and a windowing system is available
(Windows, macOS or X11 <em>via</em> Tcl/Tk) a listbox widget is
used, otherwise a text menu.  It is an error to use <code>menu</code> in a
non-interactive session.
</p>
<p>Ten or fewer items will be displayed in a single column, more in
multiple columns if possible within the current display width.
</p>
<p>No title is displayed if <code>title</code> is <code>NULL</code> or <code>""</code>.
</p>


<h3>Value</h3>

<p>The number corresponding to the selected item, or 0 if no choice was
made.
</p>


<h3>References</h3>

<p>Becker, R. A., Chambers, J. M. and Wilks, A. R. (1988)
<em>The New S Language</em>.
Wadsworth &amp; Brooks/Cole.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+select.list">select.list</a></code>, which is used to implement the graphical
menu, and allows multiple selections.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
switch(menu(c("List letters", "List LETTERS")) + 1,
       cat("Nothing done\n"), letters, LETTERS)

## End(Not run)
</code></pre>

<hr>
<h2 id='methods'>List Methods for S3 Generic Functions or Classes</h2><span id='topic+.S3methods'></span><span id='topic+methods'></span><span id='topic+format.MethodsFunction'></span><span id='topic+print.MethodsFunction'></span>

<h3>Description</h3>

<p>List all available methods for a S3 and S4 generic function, or all
methods for an S3 or S4 class.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>
   methods(generic.function, class, all.names = FALSE, dropPath = FALSE)
.S3methods(generic.function, class, envir = parent.frame(),
                                    all.names = FALSE, dropPath = FALSE)

## S3 method for class 'MethodsFunction'
format(x, byclass = attr(x, "byclass"), ...)
## S3 method for class 'MethodsFunction'
print(x, byclass = attr(x, "byclass"), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="methods_+3A_generic.function">generic.function</code></td>
<td>
<p>a generic function, or a character string naming a
generic function.</p>
</td></tr>
<tr><td><code id="methods_+3A_class">class</code></td>
<td>
<p>a symbol or character string naming a class: only used if
<code>generic.function</code> is not supplied.</p>
</td></tr>
<tr><td><code id="methods_+3A_envir">envir</code></td>
<td>
<p>the environment in which to look for the definition of
the generic function, when the generic function is passed as a
character string.</p>
</td></tr>
<tr><td><code id="methods_+3A_all.names">all.names</code></td>
<td>
<p>a <code><a href="base.html#topic+logical">logical</a></code> indicating if all
object names are returned.  When <code>FALSE</code> as by default, names
beginning with a &lsquo;<span class="samp">&#8288;.&#8288;</span>&rsquo; are omitted.</p>
</td></tr>
<tr><td><code id="methods_+3A_droppath">dropPath</code></td>
<td>
<p>a <code><a href="base.html#topic+logical">logical</a></code> indicating if the
<code><a href="base.html#topic+search">search</a>()</code> path, apart from <code><a href="base.html#topic+.GlobalEnv">.GlobalEnv</a></code> and
<code>package:base</code> (i.e., <code><a href="base.html#topic+baseenv">baseenv</a>()</code>), should be skipped
when searching for method definitions.  The default <code>FALSE</code> is
back compatible and typically desired for <code>print()</code>ing, with or
without asterisk; <code>dropPath=TRUE</code> has been hard coded in <span class="rlang"><b>R</b></span> 4.3.0
and is faster for non-small <code><a href="base.html#topic+search">search</a>()</code> paths.</p>
</td></tr>
<tr><td><code id="methods_+3A_x">x</code></td>
<td>
<p>typically the result of <code>methods(..)</code>, an <span class="rlang"><b>R</b></span> object of S3
class <code>"MethodsFunction"</code>, see &lsquo;Value&rsquo; below.</p>
</td></tr>
<tr><td><code id="methods_+3A_byclass">byclass</code></td>
<td>
<p>an optional <code><a href="base.html#topic+logical">logical</a></code> allowing to override
the <code>"byclass"</code> attribute determining how the result is
printed, see &lsquo;Details&rsquo;.</p>
</td></tr>
<tr><td><code id="methods_+3A_...">...</code></td>
<td>
<p>potentially further arguments passed to and from methods;
unused currently.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>methods()</code> finds S3 and S4 methods associated with either the
<code>generic.function</code> or <code>class</code> argument.
Methods found are those provided by all loaded namespaces via
registration, see <code><a href="base.html#topic+UseMethod">UseMethod</a></code>; normally, this includes
all packages on the current <code>search()</code> path.  <code>.S3methods()</code>
finds only S3 methods, <code><a href="methods.html#topic+.S4methods">.S4methods</a>()</code> finds only S4 methods.
</p>
<p>When invoked with the <code>generic.function</code> argument, the
<code>"byclass"</code> attribute (see Details) is <code>FALSE</code>, and the
<code>print</code> method by default displays the signatures (full names) of
S3 and S4 methods.  S3 methods are printed by pasting the generic
function and class together, separated by a &lsquo;.&rsquo;, as
<code>generic.class</code>.  The S3 method name is followed by an asterisk
<code>*</code> if the method definition is not exported from the package
namespace in which the method is defined.  S4 method signatures are
printed as <code>generic,class-method</code>; S4 allows for multiple
dispatch, so there may be several classes in the signature
<code>generic,A,B-method</code>.
</p>
<p>When invoked with the <code>class</code> argument, <code>"byclass"</code> is
<code>TRUE</code>, and the <code>print</code> method by default displays the names
of the generic functions associated with the class, <code>generic</code>.
</p>
<p>The source code for all functions is available.  For S3 functions
exported from the namespace, enter the method at the command line as
<code>generic.class</code>.  For S3 functions not exported from the
namespace, see <code>getAnywhere</code> or <code>getS3method</code>.  For S4
methods, see <code>getMethod</code>.
</p>
<p>Help is available for each method, in addition to each generic.  For
interactive help, use the documentation shortcut <code>?</code> with the
name of the generic and tab completion, <code>?"generic&lt;tab&gt;"</code> to
select the method for which help is desired.
</p>
<p>The S3 functions listed are those which <em>are named like methods</em>
and may not actually be methods (known exceptions are discarded in the
code).
</p>


<h3>Value</h3>

<p>An object of class <code>"MethodsFunction"</code>, a character vector of
method names with <code>"byclass"</code> and <code>"info"</code> attributes.  The
<code>"byclass"</code> attribute is a <code><a href="base.html#topic+logical">logical</a></code> indicating if
the results were obtained with argument <code>class</code>
defined.  The <code>"info"</code> attribute is a data frame with columns:
</p>

<dl>
<dt>generic</dt><dd><p><code><a href="base.html#topic+character">character</a></code> vector of the names of the generic.</p>
</dd>
<dt>visible</dt><dd><p>logical(), is the method &ldquo;visible&rdquo; to the user?
When true, it typically is exported from the namespace of the package
in which it is defined, and the package is <code><a href="base.html#topic+attach">attach</a>()</code>ed
to the <code><a href="base.html#topic+search">search</a>()</code> path.</p>
</dd>
<dt>isS4</dt><dd><p>logical(), true when the method is an S4 method.</p>
</dd>
<dt>from</dt><dd><p>a <code><a href="base.html#topic+factor">factor</a></code>, the location or package name
where the method was found.</p>
</dd>
</dl>



<h3>Note</h3>

<p>The original <code>methods</code> function was written by Martin Maechler.
</p>


<h3>References</h3>

<p>Chambers, J. M. (1992)
<em>Classes and methods: object-oriented programming in S.</em>
Appendix A of <em>Statistical Models in S</em>
eds J. M. Chambers and T. J. Hastie, Wadsworth &amp; Brooks/Cole.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+S3Methods">S3Methods</a></code>, <code><a href="base.html#topic+class">class</a></code>, <code><a href="#topic+getS3method">getS3method</a></code>.
</p>
<p>For S4, <code><a href="methods.html#topic+getMethod">getMethod</a></code>, <code><a href="methods.html#topic+showMethods">showMethods</a></code>,
<a href="methods.html#topic+Introduction">Introduction</a> or <code><a href="methods.html#topic+Methods_Details">Methods_Details</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>methods(class = "MethodsFunction") # format and print

require(stats)

methods(summary)
methods(class = "aov")    # S3 class
## The same, with more details and more difficult to read:
print(methods(class = "aov"), byclass=FALSE)
methods("[[")             # uses C-internal dispatching
methods("$")
methods("$&lt;-")            # replacement function
methods("+")              # binary operator
methods("Math")           # group generic
require(graphics)
methods(axis)             # looks like a generic, but is not

mf &lt;- methods(format)     # quite a few; ... the last few :
tail(cbind(meth = format(mf)))

if(require(Matrix, quietly = TRUE)) {
print(methods(class = "Matrix"))  # S4 class
m &lt;- methods(dim)         # S3 and S4 methods
print(m)
print(attr(m, "info"))    # more extensive information

## --&gt; help(showMethods) for related examples
}
</code></pre>

<hr>
<h2 id='mirrorAdmin'>Managing Repository Mirrors</h2><span id='topic+mirrorAdmin'></span><span id='topic+mirror2html'></span><span id='topic+checkCRAN'></span>

<h3>Description</h3>

<p>Functions helping to maintain CRAN, some of them may also be useful
for administrators of other repository networks.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mirror2html(mirrors = NULL, file = "mirrors.html",
  head = "mirrors-head.html", foot = "mirrors-foot.html")
checkCRAN(method)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mirrorAdmin_+3A_mirrors">mirrors</code></td>
<td>
<p>A data frame, by default the CRAN list of mirrors is used.</p>
</td></tr>
<tr><td><code id="mirrorAdmin_+3A_file">file</code></td>
<td>
<p>A <a href="base.html#topic+connection">connection</a> or a character string.</p>
</td></tr>
<tr><td><code id="mirrorAdmin_+3A_head">head</code></td>
<td>
<p>Name of optional header file.</p>
</td></tr>
<tr><td><code id="mirrorAdmin_+3A_foot">foot</code></td>
<td>
<p>Name of optional footer file.</p>
</td></tr>
<tr><td><code id="mirrorAdmin_+3A_method">method</code></td>
<td>
<p>Download method, see <code>download.file</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>mirror2html</code> creates the HTML file for the CRAN list of mirrors
and invisibly returns the HTML text.
</p>
<p><code>checkCRAN</code> performs a sanity checks on all CRAN mirrors.
</p>

<hr>
<h2 id='modifyList'>Recursively Modify Elements of a List</h2><span id='topic+modifyList'></span>

<h3>Description</h3>

<p>Modifies a possibly nested list recursively by changing a subset of
elements at each level to match a second list.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>modifyList(x, val, keep.null = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="modifyList_+3A_x">x</code></td>
<td>
<p>A named <code><a href="base.html#topic+list">list</a></code>, possibly empty.</p>
</td></tr>
<tr><td><code id="modifyList_+3A_val">val</code></td>
<td>
<p>A named list with components to replace corresponding
components in <code>x</code> or add new components.</p>
</td></tr>
<tr><td><code id="modifyList_+3A_keep.null">keep.null</code></td>
<td>
<p> If <code>TRUE</code>, <code>NULL</code> elements in <code>val</code>
become <code>NULL</code> elements in <code>x</code>.  Otherwise, the
corresponding element, if present, is deleted from <code>x</code>. </p>
</td></tr>
</table>


<h3>Value</h3>

<p>A modified version of <code>x</code>, with the modifications determined as
follows (here, list elements are identified by their names).  Elements
in <code>val</code> which are missing from <code>x</code> are added to <code>x</code>.
For elements that are common to both but are not both lists
themselves, the component in <code>x</code> is replaced (or possibly
deleted, depending on the value of <code>keep.null</code>) by the one in
<code>val</code>.  For common elements that are in both lists, <code>x[[name]]</code>
is replaced by <code>modifyList(x[[name]], val[[name]])</code>.
</p>


<h3>Author(s)</h3>

<p> Deepayan Sarkar <a href="mailto:Deepayan.Sarkar@R-project.org">Deepayan.Sarkar@R-project.org</a></p>


<h3>Examples</h3>

<pre><code class='language-R'>foo &lt;- list(a = 1, b = list(c = "a", d = FALSE))
bar &lt;- modifyList(foo, list(e = 2, b = list(d = TRUE)))
str(foo)
str(bar)
</code></pre>

<hr>
<h2 id='news'>Build and Query R or Package News Information</h2><span id='topic+news'></span><span id='topic+print.news_db'></span>

<h3>Description</h3>

<p>Build and query the news data base for <span class="rlang"><b>R</b></span> or add-on packages.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>news(query, package = "R", lib.loc = NULL, format = NULL,
     reader = NULL, db = NULL)

## S3 method for class 'news_db'
print(x, doBrowse = interactive(),
      browser = getOption("browser"), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="news_+3A_query">query</code></td>
<td>
<p>an optional expression for selecting news entries.</p>
</td></tr>
<tr><td><code id="news_+3A_package">package</code></td>
<td>
<p>a character string giving the name of an installed
add-on package, or <code>"R"</code> or <code>"R-3"</code> or <code>"R-2"</code>.</p>
</td></tr>
<tr><td><code id="news_+3A_lib.loc">lib.loc</code></td>
<td>
<p>a character vector of directory names of R libraries,
or <code>NULL</code>.  The default value of <code>NULL</code> corresponds to all
libraries currently known.</p>
</td></tr>
<tr><td><code id="news_+3A_format">format</code></td>
<td>
<p>Not yet used.</p>
</td></tr>
<tr><td><code id="news_+3A_reader">reader</code></td>
<td>
<p>Not yet used.</p>
</td></tr>
<tr><td><code id="news_+3A_db">db</code>, <code id="news_+3A_x">x</code></td>
<td>
<p>a news db obtained from <code>news()</code>.</p>
</td></tr>
<tr><td><code id="news_+3A_dobrowse">doBrowse</code></td>
<td>
<p>logical specifying that the news should be opened in
the browser (by <code><a href="#topic+browseURL">browseURL</a></code>, accessible as via
<code><a href="#topic+help.start">help.start</a></code>) instead of printed to the console.</p>
</td></tr>
<tr><td><code id="news_+3A_browser">browser</code></td>
<td>
<p>the browser to be used, see <code><a href="#topic+browseURL">browseURL</a></code>.</p>
</td></tr>
<tr><td><code id="news_+3A_...">...</code></td>
<td>
<p>potentially further arguments passed to <code>print()</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>package</code> is <code>"R"</code> (default), a news db is built with the
news since the 4.0.0 release of <span class="rlang"><b>R</b></span>, corresponding to the
&lsquo;<span class="file">NEWS</span>&rsquo; file in the <code>R.home("doc")</code> directory.
<code>"R-3"</code> or <code>"R-2"</code> give the news for <span class="rlang"><b>R</b></span> 3.x.y
or <span class="rlang"><b>R</b></span> 2.x.y respectively.  Otherwise, if the given add-on package can
be found in the given libraries, it is attempted to read its news in
structured form from files &lsquo;<span class="file">inst/NEWS.Rd</span>&rsquo;, &lsquo;<span class="file">NEWS.md</span>&rsquo; (since
<span class="rlang"><b>R</b></span> version 3.6.0, needs packages <a href="https://CRAN.R-project.org/package=commonmark"><span class="pkg">commonmark</span></a> and
<a href="https://CRAN.R-project.org/package=xml2"><span class="pkg">xml2</span></a> to be available), &lsquo;<span class="file">NEWS</span>&rsquo; or &lsquo;<span class="file">inst/NEWS</span>&rsquo; (in
that order). See section &lsquo;NEWS Formats&rsquo; for the file
specifications.
</p>
<p>Using <code>query</code>, one can select news entries from the db.  If
missing or <code>NULL</code>, the complete db is returned.  Otherwise,
<code>query</code> should be an expression involving (a subset of) the
variables <code>Version</code>, <code>Category</code>, <code>Date</code> and
<code>Text</code>, and when evaluated within the db returning a logical
vector with length the number of entries in the db.  The entries for
which evaluation gave <code>TRUE</code> are selected.  When evaluating,
<code>Version</code> and <code>Date</code> are coerced to
<code><a href="base.html#topic+numeric_version">numeric_version</a></code> and <code><a href="base.html#topic+Date">Date</a></code> objects,
respectively, so that the comparison operators for these classes can
be employed.
</p>


<h3>Value</h3>

<p>A data frame inheriting from class <code>"news_db"</code>, with
character variables <code>Version</code>, <code>Category</code>, <code>Date</code>,
<code>Text</code> and <code>HTML</code>, where the last two each contain the
entry texts read (in plain-text and HTML format, respectively), and
the other variables may be <code>NA</code> if they were missing or could not
be determined. The data frame has
<code><a href="base.html#topic+attributes">attributes</a></code> <code>"package"</code> (and <code>"subset"</code> if the
<code>query</code> lead to proper subsetting).
</p>


<h3>NEWS Formats</h3>



<h4>&lsquo;<span class="file">inst/NEWS.Rd</span>&rsquo;</h4>

<p>File &lsquo;<span class="file">inst/NEWS.Rd</span>&rsquo; should be an Rd file given the entries as Rd
<code style="white-space: pre;">&#8288;\itemize&#8288;</code> lists, grouped according to version using
<code style="white-space: pre;">&#8288;\section&#8288;</code> elements. Section titles start with a suitable prefix
followed by a space and the version
number, and optionally end with a (parenthesized) ISO
8601 (%Y-%m-%d, see <code><a href="base.html#topic+strptime">strptime</a></code>) format date
(optionally including a note), for example:</p>
<pre>
    \section{Changes in version 2.0 (2020-02-02, &lt;note&gt;)}{
      \itemize{
        \item ....
      }
    }
  </pre>
<p>The entries can be further grouped according to categories using
<code style="white-space: pre;">&#8288;\subsection&#8288;</code> elements named as the categories.
The &lsquo;<span class="file">NEWS.Rd</span>&rsquo; file is assumed to be UTF-8-encoded (but an
included <code style="white-space: pre;">&#8288;\encoding&#8288;</code> specification takes precedence).
</p>



<h4>&lsquo;<span class="file">NEWS.md</span>&rsquo;</h4>

<p>File &lsquo;<span class="file">NEWS.md</span>&rsquo; should contain the news in Markdown (following the
CommonMark (<a href="https://commonmark.org/">https://commonmark.org/</a>) specification), with the
primary heading level giving the version number after a prefix
followed by a space, and optionally followed by a space and a
parenthesized ISO 8601 format date.  Where available, secondary
headings are taken to indicate categories.  To accommodate for common
practice, news entries are only split down to the category level.
</p>



<h4>&lsquo;<span class="file">NEWS</span>&rsquo;</h4>

<p>The plain text &lsquo;<span class="file">NEWS</span>&rsquo; files in add-on packages use a variety of
different formats; the default news reader should be capable to
extract individual news entries from a majority of packages from the
standard repositories, which use (slight variations of) the following
format:
</p>

<ul>
<li><p> Entries are grouped according to version, with version header
&ldquo;Changes in version&rdquo; at the beginning of a line, followed by
a version number, optionally followed by an ISO 8601 format date,
possibly parenthesized.
</p>
</li>
<li><p> Entries may be grouped according to category, with a category
header (different from a version header) starting at the beginning
of a line.
</p>
</li>
<li><p> Entries are written as itemize-type lists, using one of
&lsquo;<span class="samp">&#8288;o&#8288;</span>&rsquo;, &lsquo;<span class="samp">&#8288;*&#8288;</span>&rsquo;, &lsquo;<span class="samp">&#8288;-&#8288;</span>&rsquo; or &lsquo;<span class="samp">&#8288;+&#8288;</span>&rsquo; as item tag.  Entries must
be indented, and ideally use a common indentation for the item
texts.
</p>
</li></ul>

<p>Package <span class="pkg">tools</span> provides an (internal) utility function
<code>news2Rd</code> to convert plain text &lsquo;<span class="file">NEWS</span>&rsquo; files to Rd.  For
&lsquo;<span class="file">NEWS</span>&rsquo; files in a format which can successfully be handled by the
default reader, package maintainers can use
<code>tools:::news2Rd(dir, "NEWS.Rd")</code>,
possibly with additional argument <code>codify = TRUE</code>,
with <code>dir</code> a character string specifying the path to a package's
root directory.  Upon success, the &lsquo;<span class="file">NEWS.Rd</span>&rsquo; file can further be
improved and then be moved to the &lsquo;<span class="file">inst</span>&rsquo; subdirectory of the
package source directory.
</p>

<p>Additional formats and readers may be supported in the future.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Build a db of all R news entries.
db &lt;- news()

## Bug fixes with PR number in 4.0.0.
db4 &lt;- news(Version == "4.0.0" &amp; grepl("^BUG", Category) &amp; grepl("PR#", Text),
            db = db)
nrow(db4)

## print db4 to show in an HTML browser.

## News from a date range ('Matrix' is there in a regular R installation):
if(length(iM &lt;- find.package("Matrix", quiet = TRUE)) &amp;&amp; nzchar(iM)) {
   dM &lt;- news(package="Matrix")
   stopifnot(identical(dM, news(db=dM)))
   dM2014 &lt;- news("2014-01-01" &lt;= Date &amp; Date &lt;= "2014-12-31", db = dM)
   stopifnot(paste0("1.1-", 2:4) %in% dM2014[,"Version"])
}

## Which categories have been in use? % R-core maybe should standardize a bit more
sort(table(db[, "Category"]), decreasing = TRUE)
## Entries with version &gt;= 4.0.0
table(news(Version &gt;= "4.0.0", db = db)$Version)


## do the same for R 3.x.y, more slowly
db3 &lt;- news(package = "R-3")
sort(table(db3[, "Category"]), decreasing = TRUE)
## Entries with version &gt;= 3.6.0
table(news(Version &gt;= "3.6.0", db = db3)$Version)

</code></pre>

<hr>
<h2 id='nsl'>Look up the IP Address by Hostname (on Unix-alikes)</h2><span id='topic+nsl'></span>

<h3>Description</h3>

<p>Interface to the system <code>gethostbyname</code>, currently available
only on unix-alikes, i.e., not on Windows.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nsl(hostname)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nsl_+3A_hostname">hostname</code></td>
<td>
<p>the name of the host.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This was included as a test of internet connectivity, to fail if
the node running <span class="rlang"><b>R</b></span> is not connected.  It will also return <code>NULL</code>
if BSD networking is not supported, including the header file
&lsquo;<span class="file">arpa/inet.h</span>&rsquo;.
</p>
<p>This function is not available on Windows.
</p>


<h3>Value</h3>

<p>The IP address, as a character string, or <code>NULL</code> if the call fails.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if(.Platform$OS.type == "unix") # includes Mac
  print( nsl("www.r-project.org") )
</code></pre>

<hr>
<h2 id='object.size'>Report the Space Allocated for an Object</h2><span id='topic+object.size'></span><span id='topic+format.object_size'></span><span id='topic+print.object_size'></span>

<h3>Description</h3>

<p>Provides an estimate of the memory that is being used to store an <span class="rlang"><b>R</b></span> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>object.size(x)

## S3 method for class 'object_size'
format(x, units = "b", standard = "auto", digits = 1L, ...)
## S3 method for class 'object_size'
print(x, quote = FALSE, units = "b", standard = "auto",
      digits = 1L, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="object.size_+3A_x">x</code></td>
<td>
<p>an <span class="rlang"><b>R</b></span> object.</p>
</td></tr>
<tr><td><code id="object.size_+3A_quote">quote</code></td>
<td>
<p>logical, indicating whether or not the result should be
printed with surrounding quotes.</p>
</td></tr>
<tr><td><code id="object.size_+3A_units">units</code></td>
<td>
<p>the units to be used in formatting and printing the size.
Allowed values for the different <code>standard</code>s are
</p>

<dl>
<dt><code>standard = "legacy"</code>:</dt><dd>
<p><code>"b"</code>, <code>"Kb"</code>, <code>"Mb"</code>, <code>"Gb"</code>, <code>"Tb"</code>, <code>"Pb"</code>,
<code>"B"</code>, <code>"KB"</code>, <code>"MB"</code>, <code>"GB"</code>, <code>"TB"</code> and <code>"PB"</code>.</p>
</dd>
<dt><code>standard = "IEC"</code>:</dt><dd>
<p><code>"B"</code>, <code>"KiB"</code>, <code>"MiB"</code>, <code>"GiB"</code>,
<code>"TiB"</code>, <code>"PiB"</code>, <code>"EiB"</code>, <code>"ZiB"</code> and <code>"YiB"</code>.</p>
</dd>
<dt><code>standard = "SI"</code>:</dt><dd>
<p><code>"B"</code>, <code>"kB"</code>, <code>"MB"</code>, <code>"GB"</code>, <code>"TB"</code>, <code>"PB"</code>,
<code>"EB"</code>, <code>"ZB"</code>, <code>"YB"</code>, <code>"RB"</code>, and <code>"QB"</code>.</p>
</dd>
</dl>

<p>For all standards, <code>units = "auto"</code> is also allowed.
If <code>standard = "auto"</code>, any of the &quot;legacy&quot; and <abbr><span class="acronym">IEC</span></abbr>
units are allowed.
See &lsquo;Formatting and printing object sizes&rsquo; for details.</p>
</td></tr>
<tr><td><code id="object.size_+3A_standard">standard</code></td>
<td>
<p>the byte-size unit standard to be used.  A character
string, possibly abbreviated from <code>"legacy"</code>, <code>"IEC"</code>,
<code>"SI"</code> and <code>"auto"</code>.  See &lsquo;Formatting and printing
object sizes&rsquo; for details.</p>
</td></tr>
<tr><td><code id="object.size_+3A_digits">digits</code></td>
<td>
<p>the number of digits after the decimal point, passed to
<code><a href="base.html#topic+round">round</a></code>.</p>
</td></tr>
<tr><td><code id="object.size_+3A_...">...</code></td>
<td>
<p>arguments to be passed to or from other methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Exactly which parts of the memory allocation should be attributed to
which object is not clear-cut.  This function merely provides a rough
indication: it should be reasonably accurate for atomic vectors, but
does not detect if elements of a list are shared, for example.
(Sharing amongst elements of a character vector is taken into account,
but not that between character vectors in a single object.)
</p>
<p>The calculation is of the size of the object, and excludes the space
needed to store its name in the symbol table.
</p>
<p>Associated space (e.g., the environment of a function and what the
pointer in a <code>EXTPTRSXP</code> points to) is not included in the
calculation.
</p>
<p>Object sizes are larger on 64-bit builds than 32-bit ones, but will
very likely be the same on different platforms with the same word
length and pointer size.
</p>
<p>Sizes of objects using a compact internal representation may be
over-estimated.
</p>


<h3>Value</h3>

<p>An object of class <code>"object_size"</code> with a length-one double value,
an estimate of the memory allocation attributable to the object in bytes.
</p>


<h3>Formatting and printing object sizes</h3>

<p>Object sizes can be formatted using byte-size units from <span class="rlang"><b>R</b></span>'s legacy
standard, the <abbr><span class="acronym">IEC</span></abbr> standard, or the <abbr><span class="acronym">SI</span></abbr> standard.
As illustrated by below tables, the legacy and <abbr><span class="acronym">IEC</span></abbr> standards use
<em>binary</em> units (multiples of 1024), whereas the SI standard uses
<em>decimal</em> units (multiples of 1000).
</p>
<p>For methods <code>format</code> and <code>print</code>, argument <code>standard</code>
specifies which standard to use and argument <code>units</code> specifies
which byte-size unit to use.  <code>units = "auto"</code> chooses the largest
units in which the result is one or more (before rounding).
Byte sizes are rounded to <code>digits</code> decimal places.
<code>standard = "auto"</code> chooses the standard based on <code>units</code>,
if possible, otherwise, the legacy standard is used.
</p>
<p>Summary of <span class="rlang"><b>R</b></span>'s legacy and <abbr><span class="acronym">IEC</span></abbr> units:
</p>

<table>
<tr>
 <td style="text-align: left;">
   <b>object size</b> </td><td style="text-align: left;"><b>legacy</b> </td><td style="text-align: left;"><b><abbr><span class="acronym">IEC</span></abbr></b></td>
</tr>
<tr>
 <td style="text-align: left;">
     1                </td><td style="text-align: left;">  1 bytes     </td><td style="text-align: left;">  1 B    </td>
</tr>
<tr>
 <td style="text-align: left;">
     1024             </td><td style="text-align: left;">  1 <abbr>Kb</abbr> </td><td style="text-align: left;">  1 <abbr>KiB</abbr>  </td>
</tr>
<tr>
 <td style="text-align: left;">
     1024^2           </td><td style="text-align: left;">  1 <abbr>Mb</abbr> </td><td style="text-align: left;">  1 <abbr>MiB</abbr>  </td>
</tr>
<tr>
 <td style="text-align: left;">
     1024^3           </td><td style="text-align: left;">  1 <abbr>Gb</abbr> </td><td style="text-align: left;">  1 <abbr>GiB</abbr>  </td>
</tr>
<tr>
 <td style="text-align: left;">
     1024^4           </td><td style="text-align: left;">  1 <abbr>Tb</abbr> </td><td style="text-align: left;">  1 <abbr>TiB</abbr>  </td>
</tr>
<tr>
 <td style="text-align: left;">
     1024^5           </td><td style="text-align: left;">  1 <abbr>Pb</abbr> </td><td style="text-align: left;">  1 <abbr>PiB</abbr>  </td>
</tr>
<tr>
 <td style="text-align: left;">
     1024^6           </td><td style="text-align: left;">              </td><td style="text-align: left;">  1 <abbr>EiB</abbr>  </td>
</tr>
<tr>
 <td style="text-align: left;">
     1024^7           </td><td style="text-align: left;">              </td><td style="text-align: left;">  1 <abbr>ZiB</abbr>  </td>
</tr>
<tr>
 <td style="text-align: left;">
     1024^8           </td><td style="text-align: left;">              </td><td style="text-align: left;">  1 <abbr>YiB</abbr>  </td>
</tr>
<tr>
 <td style="text-align: left;">
  </td>
</tr>

</table>

<p>Summary of <abbr><span class="acronym">SI</span></abbr> units:
</p>

<table>
<tr>
 <td style="text-align: left;">
   <b>object size</b> </td><td style="text-align: left;"> <b>SI</b> </td>
</tr>
<tr>
 <td style="text-align: left;">
     1       </td><td style="text-align: left;">  1 B   </td>
</tr>
<tr>
 <td style="text-align: left;">
     1000    </td><td style="text-align: left;">  1 <abbr>kB</abbr>  </td>
</tr>
<tr>
 <td style="text-align: left;">
     1000^2  </td><td style="text-align: left;">  1 <abbr>MB</abbr>  </td>
</tr>
<tr>
 <td style="text-align: left;">
     1000^3  </td><td style="text-align: left;">  1 <abbr>GB</abbr>  </td>
</tr>
<tr>
 <td style="text-align: left;">
     1000^4  </td><td style="text-align: left;">  1 <abbr>TB</abbr>  </td>
</tr>
<tr>
 <td style="text-align: left;">
     1000^5  </td><td style="text-align: left;">  1 <abbr>PB</abbr>  </td>
</tr>
<tr>
 <td style="text-align: left;">
     1000^6  </td><td style="text-align: left;">  1 <abbr>EB</abbr>  </td>
</tr>
<tr>
 <td style="text-align: left;">
     1000^7  </td><td style="text-align: left;">  1 <abbr>ZB</abbr>  </td>
</tr>
<tr>
 <td style="text-align: left;">
     1000^8  </td><td style="text-align: left;">  1 <abbr>YB</abbr>  </td>
</tr>
<tr>
 <td style="text-align: left;">
     1000^9  </td><td style="text-align: left;">  1 <abbr>RB</abbr>  </td>
</tr>
<tr>
 <td style="text-align: left;">
     1000^10 </td><td style="text-align: left;">  1 <abbr>QB</abbr>  </td>
</tr>
<tr>
 <td style="text-align: left;">
  </td>
</tr>

</table>



<h3>Author(s)</h3>

<p>R Core; Henrik Bengtsson for the non-legacy <code>standard</code>s.</p>


<h3>References</h3>

<p>The wikipedia page, <a href="https://en.wikipedia.org/wiki/Binary_prefix">https://en.wikipedia.org/wiki/Binary_prefix</a>,
is extensive on the different standards, usages and their history.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+Memory-limits">Memory-limits</a></code> for the design limitations on object size.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>object.size(letters)
object.size(ls)
format(object.size(library), units = "auto")

sl &lt;- object.size(rep(letters, 1000))

print(sl)                                    ## 209288 bytes
print(sl, units = "auto")                    ## 204.4 Kb
print(sl, units = "auto", standard = "IEC")  ## 204.4 KiB
print(sl, units = "auto", standard = "SI")   ## 209.3 kB

(fsl &lt;- sapply(c("Kb", "KB", "KiB"),
               function(u) format(sl, units = u)))
stopifnot(identical( ## assert that all three are the same :
             unique(substr(as.vector(fsl), 1,5)),
             format(round(as.vector(sl)/1024, 1))))

## find the 10 largest objects in the base package
z &lt;- sapply(ls("package:base"), function(x)
            object.size(get(x, envir = baseenv())))
if(interactive()) {
as.matrix(rev(sort(z))[1:10])
} else # (more constant over time):
    names(rev(sort(z))[1:10])
</code></pre>

<hr>
<h2 id='package.skeleton'>Create a Skeleton for a New Source Package</h2><span id='topic+package.skeleton'></span>

<h3>Description</h3>

<p><code>package.skeleton</code> automates some of the setup for a new source
package.  It creates directories, saves functions, data, and R code files to
appropriate places, and creates skeleton help files and a
&lsquo;<span class="file">Read-and-delete-me</span>&rsquo; file describing further steps in packaging.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>package.skeleton(name = "anRpackage", list,
                 environment = .GlobalEnv,
                 path = ".", force = FALSE,
                 code_files = character(), encoding = "unknown")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="package.skeleton_+3A_name">name</code></td>
<td>
<p>character string: the package name and directory name for
your package.  Must be a valid package name.</p>
</td></tr>
<tr><td><code id="package.skeleton_+3A_list">list</code></td>
<td>
<p>character vector naming the <span class="rlang"><b>R</b></span> objects to put in the
package.  Usually, at most one of <code>list</code>, <code>environment</code>,
or <code>code_files</code> will be supplied.  See &lsquo;Details&rsquo;.</p>
</td></tr>
<tr><td><code id="package.skeleton_+3A_environment">environment</code></td>
<td>
<p>an environment where objects are looked for.  See
&lsquo;Details&rsquo;.</p>
</td></tr>
<tr><td><code id="package.skeleton_+3A_path">path</code></td>
<td>
<p>path to put the package directory in.</p>
</td></tr>
<tr><td><code id="package.skeleton_+3A_force">force</code></td>
<td>
<p>If <code>FALSE</code> will not overwrite an existing directory.</p>
</td></tr>
<tr><td><code id="package.skeleton_+3A_code_files">code_files</code></td>
<td>
<p>a character vector with the paths to R code files to
build the package around.  See &lsquo;Details&rsquo;.</p>
</td></tr>
<tr><td><code id="package.skeleton_+3A_encoding">encoding</code></td>
<td>
<p>optionally a <code><a href="base.html#topic+character">character</a></code> string with an
encoding for an optional &lsquo;<span class="samp">&#8288;Encoding:&#8288;</span>&rsquo; line in
&lsquo;<span class="file">DESCRIPTION</span>&rsquo; when non-ASCII characters will be used; typically
one of <code>"latin1"</code>, <code>"latin2"</code>, or <code>"UTF-8"</code>; see the
<abbr>WRE</abbr> manual.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The arguments <code>list</code>, <code>environment</code>, and <code>code_files</code>
provide alternative ways to initialize the package.  If
<code>code_files</code> is supplied, the files so named will be sourced to
form the environment, then used to generate the package skeleton.
Otherwise <code>list</code> defaults to the objects in <code>environment</code>
(including those whose names start with <code>.</code>), but can be supplied
to select a subset of the objects in that environment.
</p>
<p>Stubs of help files are generated for functions, data objects, and
S4 classes and methods, using the <code><a href="#topic+prompt">prompt</a></code>,
<code><a href="methods.html#topic+promptClass">promptClass</a></code>,  and <code><a href="methods.html#topic+promptMethods">promptMethods</a></code> functions.
If an object from another package is intended to be imported and
re-exported without changes, the <code><a href="#topic+promptImport">promptImport</a></code> function
should be used after <code>package.skeleton</code>
to generate a simple help file linking to the original one.
</p>
<p>The package sources are placed in subdirectory <code>name</code> of
<code>path</code>.  If <code>code_files</code> is supplied, these files are
copied; otherwise, objects will be dumped into individual source
files.  The file names in <code>code_files</code> should have suffix
<code>".R"</code> and be in the current working directory.
</p>
<p>The filenames created for source and documentation try to be valid for
all OSes known to run <span class="rlang"><b>R</b></span>.  Invalid characters are replaced by &lsquo;<span class="samp">&#8288;_&#8288;</span>&rsquo;,
invalid names are preceded by &lsquo;<span class="samp">&#8288;zz&#8288;</span>&rsquo;, names are converted to lower
case (to avoid case collisions on case-insensitive file systems) and
finally the converted names are made unique by
<code><a href="base.html#topic+make.unique">make.unique</a>(sep = "_")</code>.  This can be done for code and
help files but not data files (which are looked for by name). Also,
the code and help files should have names starting with an ASCII
letter or digit, and this is checked and if necessary <code>z</code>
prepended.
</p>
<p>Functions with names starting with a dot are placed in file
&lsquo;<span class="file">R/<var>name</var>-internal.R</span>&rsquo;.
</p>
<p>When you are done, delete the &lsquo;<span class="file">Read-and-delete-me</span>&rsquo; file, as it
should not be distributed.
</p>


<h3>Value</h3>

<p>Used for its side-effects.
</p>


<h3>References</h3>

<p>Read the &lsquo;Writing R Extensions&rsquo; manual for more details.
</p>
<p>Once you have created a <em>source</em> package you need to install it:
see the &lsquo;R Installation and Administration&rsquo; manual,
<code><a href="#topic+INSTALL">INSTALL</a></code> and <code><a href="#topic+install.packages">install.packages</a></code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+prompt">prompt</a></code>, <code><a href="methods.html#topic+promptClass">promptClass</a></code>, and
<code><a href="methods.html#topic+promptMethods">promptMethods</a></code>.
</p>
<p><code><a href="tools.html#topic+package_native_routine_registration_skeleton">package_native_routine_registration_skeleton</a></code> for helping
in preparing packages with compiled code.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>require(stats)
## two functions and two "data sets" :
f &lt;- function(x, y) x+y
g &lt;- function(x, y) x-y
d &lt;- data.frame(a = 1, b = 2)
e &lt;- rnorm(1000)

package.skeleton(list = c("f","g","d","e"), name = "mypkg")

</code></pre>

<hr>
<h2 id='packageDescription'>Package Description</h2><span id='topic+packageDescription'></span><span id='topic+packageVersion'></span><span id='topic+packageDate'></span><span id='topic+asDateBuilt'></span><span id='topic+print.packageDescription'></span>

<h3>Description</h3>

<p>Parses and returns the &lsquo;<span class="file">DESCRIPTION</span>&rsquo; file of a package as a
<code>"packageDescription"</code>.
</p>
<p>Utility functions return (transformed) parts of that.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>packageDescription(pkg, lib.loc = NULL, fields = NULL,
                   drop = TRUE, encoding = "")
packageVersion(pkg, lib.loc = NULL)
packageDate(pkg, lib.loc = NULL,
            date.fields = c("Date", "Packaged", "Date/Publication", "Built"),
            tryFormats = c("%Y-%m-%d", "%Y/%m/%d", "%D", "%m/%d/%y"),
            desc = packageDescription(pkg, lib.loc=lib.loc, fields=date.fields))
asDateBuilt(built)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="packageDescription_+3A_pkg">pkg</code></td>
<td>
<p>a character string with the package name.</p>
</td></tr>
<tr><td><code id="packageDescription_+3A_lib.loc">lib.loc</code></td>
<td>
<p>a character vector of directory names of <span class="rlang"><b>R</b></span> libraries,
or <code>NULL</code>.  The default value of <code>NULL</code> corresponds to all
libraries currently known.  If the default is used, the loaded
packages and namespaces are searched before the libraries.</p>
</td></tr>
<tr><td><code id="packageDescription_+3A_fields">fields</code></td>
<td>
<p>a character vector giving the tags of fields to return
(if other fields occur in the file they are ignored).</p>
</td></tr>
<tr><td><code id="packageDescription_+3A_drop">drop</code></td>
<td>
<p>If <code>TRUE</code> and the length of <code>fields</code> is 1, then
a single character string with the value of the respective field is
returned instead of an object of class <code>"packageDescription"</code>.</p>
</td></tr>
<tr><td><code id="packageDescription_+3A_encoding">encoding</code></td>
<td>
<p>If there is an <code>Encoding</code> field, to what encoding
should re-encoding be attempted?  If <code>NA</code>, no re-encoding.  The
other values are as used by <code><a href="base.html#topic+iconv">iconv</a></code>, so the default
<code>""</code> indicates the encoding of the current locale.</p>
</td></tr>
<tr><td><code id="packageDescription_+3A_date.fields">date.fields</code></td>
<td>
<p>character vector of field tags to be tried.  The
first for which <code><a href="base.html#topic+as.Date">as.Date</a>(.)</code> is not <code><a href="base.html#topic+NA">NA</a></code>
will be returned. (Partly experimental, see <em>Note</em>.)</p>
</td></tr>
<tr><td><code id="packageDescription_+3A_tryformats">tryFormats</code></td>
<td>
<p>date formats to try, see <code><a href="base.html#topic+as.Date.character">as.Date.character</a>()</code>.</p>
</td></tr>
<tr><td><code id="packageDescription_+3A_desc">desc</code></td>
<td>
<p>optionally, a named <code><a href="base.html#topic+list">list</a></code> with components
named from <code>date.fields</code>;  where the default is fine, a
complete <code>packageDescription()</code> maybe specified as well.</p>
</td></tr>
<tr><td><code id="packageDescription_+3A_built">built</code></td>
<td>
<p>for <code>asDateBuilt()</code>, a <code><a href="base.html#topic+character">character</a></code>
string as from <code>packageDescription(*, fields="Built")</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A package will not be &lsquo;found&rsquo; unless it has a &lsquo;<span class="file">DESCRIPTION</span>&rsquo; file
which contains a valid <code>Version</code> field.  Different warnings are
given when no package directory is found and when there is a suitable
directory but no valid &lsquo;<span class="file">DESCRIPTION</span>&rsquo; file.
</p>
<p>An <a href="base.html#topic+attach">attach</a>ed environment named to look like a package
(e.g., <code>package:utils2</code>) will be ignored.
</p>
<p><code>packageVersion()</code> is a convenience shortcut, allowing things
like <code>if (packageVersion("MASS") &lt; "7.3") { do.things } </code>.
</p>
<p>For <code>packageDate()</code>, if <code>desc</code> is valid, both <code>pkg</code> and
<code>lib.loc</code> are not made use of.
</p>


<h3>Value</h3>

<p>If a &lsquo;<span class="file">DESCRIPTION</span>&rsquo; file for the given package is found and can
successfully be read, <code>packageDescription</code> returns an object of
class <code>"packageDescription"</code>, which is a named list with the
values of the (given) fields as elements and the tags as names, unless
<code>drop = TRUE</code>.
</p>
<p>If parsing the &lsquo;<span class="file">DESCRIPTION</span>&rsquo; file was not successful, it returns
a named list of <code>NA</code>s with the field tags as names if <code>fields</code>
is not null, and <code>NA</code> otherwise.
</p>
<p><code>packageVersion()</code> returns a (length-one) object of class
<code>"<a href="base.html#topic+package_version">package_version</a>"</code>.
</p>
<p><code>packageDate()</code> will return a <code>"Date"</code> object from
<code><a href="base.html#topic+as.Date">as.Date</a>()</code> or <code>NA</code>.
</p>
<p><code>asDateBuilt(built)</code> returns a <code>"Date"</code> object or signals an
error if <code>built</code> is invalid.
</p>


<h3>Note</h3>

<p>The default behavior of <code>packageDate()</code>, notably for
<code>date.fields</code>, is somewhat experimental and may change.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+read.dcf">read.dcf</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
packageDescription("stats")
packageDescription("stats", fields = c("Package", "Version"))

packageDescription("stats", fields = "Version")
packageDescription("stats", fields = "Version", drop = FALSE)

if(requireNamespace("MASS") &amp;&amp; packageVersion("MASS") &lt; "7.3.29")
  message("you need to update 'MASS'")

pu &lt;- packageDate("utils")
str(pu)
stopifnot(identical(pu, packageDate(desc = packageDescription("utils"))),
          identical(pu, packageDate("stats"))) # as "utils" and "stats" are
                                   # both 'base R' and "Built" at same time
</code></pre>

<hr>
<h2 id='packageName'>Find Package Associated with an Environment</h2><span id='topic+packageName'></span>

<h3>Description</h3>

<p>Many environments are associated with a package; this function
attempts to determine that package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>packageName(env = parent.frame())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="packageName_+3A_env">env</code></td>
<td>

<p>The environment whose name we seek.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Environment <code>env</code> would be associated with a package if
<code><a href="base.html#topic+topenv">topenv</a>(env)</code> is the namespace environment for that
package.  Thus when <code>env</code> is the environment associated with
functions inside a package, or local functions defined within them,
<code>packageName</code> will normally return the package name.
</p>
<p>Not all environments are associated with a package:  for example, 
the global environment, or the evaluation frames of functions defined
there.  <code>packageName</code> will return <code>NULL</code> in these cases.
</p>


<h3>Value</h3>

<p>A length one character vector containing the name of the package,
or <code>NULL</code> if there is no name.
</p>


<h3>See Also</h3>

<p><code><a href="methods.html#topic+getPackageName">getPackageName</a></code> is a more elaborate function
that can construct a name if none is found.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>packageName()
packageName(environment(mean))
</code></pre>

<hr>
<h2 id='packageStatus'>Package Management Tools</h2><span id='topic+packageStatus'></span><span id='topic+print.packageStatus'></span><span id='topic+summary.packageStatus'></span><span id='topic+update.packageStatus'></span><span id='topic+upgrade.packageStatus'></span>

<h3>Description</h3>

<p>Summarize information about installed packages and packages
available at various repositories, and automatically upgrade outdated
packages.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>packageStatus(lib.loc = NULL, repositories = NULL, method,
              type = getOption("pkgType"), ...)

## S3 method for class 'packageStatus'
summary(object, ...)

## S3 method for class 'packageStatus'
update(object, lib.loc = levels(object$inst$LibPath),
       repositories = levels(object$avail$Repository), ...)

## S3 method for class 'packageStatus'
upgrade(object, ask = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="packageStatus_+3A_lib.loc">lib.loc</code></td>
<td>
<p>a character vector describing the location of <span class="rlang"><b>R</b></span>
library trees to search through, or <code>NULL</code>.  The default value
of <code>NULL</code> corresponds to all libraries currently known.</p>
</td></tr>
<tr><td><code id="packageStatus_+3A_repositories">repositories</code></td>
<td>
<p>a character vector of URLs describing the location of <span class="rlang"><b>R</b></span>
package repositories on the Internet or on the local machine.
These should be full paths to the appropriate &lsquo;<span class="file">contrib</span>&rsquo;
sections of the repositories.
The default (<code>NULL</code>) derives URLs from <a href="base.html#topic+option">option</a>
<code>"repos"</code> and <code>type</code>.</p>
</td></tr>
<tr><td><code id="packageStatus_+3A_method">method</code></td>
<td>
<p>download method, see <code><a href="#topic+download.file">download.file</a></code>.</p>
</td></tr>
<tr><td><code id="packageStatus_+3A_type">type</code></td>
<td>
<p>type of package distribution:
see <code><a href="#topic+install.packages">install.packages</a></code>.</p>
</td></tr>
<tr><td><code id="packageStatus_+3A_object">object</code></td>
<td>
<p>an object of class <code>"packageStatus"</code> as returned by
<code>packageStatus</code>.</p>
</td></tr>
<tr><td><code id="packageStatus_+3A_ask">ask</code></td>
<td>
<p>if <code>TRUE</code>, the user is prompted which packages should
be upgraded and which not.</p>
</td></tr>
<tr><td><code id="packageStatus_+3A_...">...</code></td>
<td>
<p>for <code>packageStatus</code>: arguments to be passed to
<code><a href="#topic+available.packages">available.packages</a></code> and <code><a href="#topic+installed.packages">installed.packages</a></code>.<br />
for the <code>upgrade</code> method, arguments to be passed to
<code><a href="#topic+install.packages">install.packages</a></code><br />
for other methods: currently not used.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>There are <code>print</code> and <code>summary</code> methods for the
<code>"packageStatus"</code> objects: the <code>print</code> method gives a brief
tabular summary and the <code>summary</code> method prints the results.
</p>
<p>The <code>update</code> method updates the <code>"packageStatus"</code> object.
The <code>upgrade</code> method is similar to <code><a href="#topic+update.packages">update.packages</a></code>:
it offers to install the current versions of those packages which are not
currently up-to-date.
</p>


<h3>Value</h3>

<p>An object of class <code>"packageStatus"</code>.  This is a list with two
components
</p>
<table>
<tr><td><code>inst</code></td>
<td>
<p>a data frame with columns as the <em>matrix</em> returned by
<code><a href="#topic+installed.packages">installed.packages</a></code> plus <code>"Status"</code>, a factor with
levels <code>c("ok", "upgrade", "unavailable")</code>.  Only the newest 
version of each package is reported, in the first repository in 
which it appears.
</p>
</td></tr>
<tr><td><code>avail</code></td>
<td>
<p>a data frame with columns as the <em>matrix</em> returned by
<code><a href="#topic+available.packages">available.packages</a></code> plus <code>"Status"</code>, a factor with
levels <code>c("installed", "not installed")</code>.
</p>
</td></tr>
</table>
<p>For the <code>summary</code> method the result is also of class
<code>"summary.packageStatus"</code> with additional components
</p>
<table>
<tr><td><code>Libs</code></td>
<td>
<p>a list with one element for each library</p>
</td></tr>
<tr><td><code>Repos</code></td>
<td>
<p>a list with one element for each repository</p>
</td></tr>
</table>
<p>with the elements being lists of character vectors of package name for
each status.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+installed.packages">installed.packages</a></code>, <code><a href="#topic+available.packages">available.packages</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
x &lt;- packageStatus(repositories = contrib.url(findCRANmirror("web")))
print(x)
summary(x)

## Not run: 
upgrade(x)
x &lt;- update(x)
print(x)

## End(Not run)</code></pre>

<hr>
<h2 id='page'>Invoke a Pager on an R Object</h2><span id='topic+page'></span>

<h3>Description</h3>

<p>Displays a representation of the object named by <code>x</code> in a pager
<em>via</em> <code><a href="base.html#topic+file.show">file.show</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>page(x, method = c("dput", "print"), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="page_+3A_x">x</code></td>
<td>
<p>An <span class="rlang"><b>R</b></span> object, or a character string naming an object.</p>
</td></tr>
<tr><td><code id="page_+3A_method">method</code></td>
<td>
<p>The default method is to dump the object <em>via</em>
<code><a href="base.html#topic+dput">dput</a></code>.  An alternative is to use <code>print</code> and
capture the output to be shown in the pager.  Can be abbreviated.</p>
</td></tr>
<tr><td><code id="page_+3A_...">...</code></td>
<td>
<p>additional arguments for <code><a href="base.html#topic+dput">dput</a></code>,
<code><a href="base.html#topic+print">print</a></code> or <code><a href="base.html#topic+file.show">file.show</a></code> (such as <code>title</code>).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>x</code> is a length-one character vector, it is used as the name
of an object to look up in the environment from which <code>page</code> is
called.   All other objects are displayed directly.
</p>
<p>A default value of <code>title</code> is passed to <code>file.show</code> if one
is not supplied in <code>...</code>.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+file.show">file.show</a></code>, <code><a href="#topic+edit">edit</a></code>, <code><a href="#topic+fix">fix</a></code>.
</p>
<p>To go to a new page when graphing, see <code><a href="graphics.html#topic+frame">frame</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: ## four ways to look at the code of 'page'
page(page)             # as an object
page("page")           # a character string
v &lt;- "page"; page(v)   # a length-one character vector
page(utils::page)      # a call

## End(Not run)</code></pre>

<hr>
<h2 id='person'>Persons</h2><span id='topic+person'></span><span id='topic+as.person'></span><span id='topic+as.person.default'></span><span id='topic++5B.person'></span><span id='topic++24.person'></span><span id='topic+as.character.person'></span><span id='topic+c.person'></span><span id='topic+format.person'></span><span id='topic+print.person'></span><span id='topic+toBibtex.person'></span>

<h3>Description</h3>

<p>A class and utility methods for holding information about persons
like name and email address.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>person(given = NULL, family = NULL, middle = NULL,
       email = NULL, role = NULL, comment = NULL,
       first = NULL, last = NULL)

as.person(x)
## Default S3 method:
as.person(x)

## S3 method for class 'person'
format(x,
       include = c("given", "family", "email", "role", "comment"),
       braces = list(given = "", family = "", email = c("&lt;", "&gt;"),
                     role = c("[", "]"), comment = c("(", ")")),
       collapse = list(given = " ", family = " ", email = ", ",
                       role = ", ", comment = ", "),
       ...,
       style = c("text", "R")
)

## S3 method for class 'person'
toBibtex(object, escape = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="person_+3A_given">given</code></td>
<td>
<p>a character vector with the <em>given</em> names,
or a list thereof.</p>
</td></tr>
<tr><td><code id="person_+3A_family">family</code></td>
<td>
<p>a character string with the <em>family</em> name,
or a list thereof.</p>
</td></tr>
<tr><td><code id="person_+3A_middle">middle</code></td>
<td>
<p>a character string with the collapsed middle name(s).
Deprecated, see <b>Details</b>.</p>
</td></tr>
<tr><td><code id="person_+3A_email">email</code></td>
<td>
<p>a character string (or vector) giving an e-mail address
(each),
or a list thereof.</p>
</td></tr>
<tr><td><code id="person_+3A_role">role</code></td>
<td>
<p>a character vector specifying the role(s) of the person
(see <b>Details</b>),
or a list thereof.</p>
</td></tr>
<tr><td><code id="person_+3A_comment">comment</code></td>
<td>
<p>a character string (or vector) providing comments,
or a list thereof.</p>
</td></tr>
<tr><td><code id="person_+3A_first">first</code></td>
<td>
<p>a character string giving the first name.
Deprecated, see <b>Details</b>.</p>
</td></tr>
<tr><td><code id="person_+3A_last">last</code></td>
<td>
<p>a character string giving the last name.
Deprecated, see <b>Details</b>.</p>
</td></tr>
<tr><td><code id="person_+3A_x">x</code></td>
<td>
<p>an object for the <code>as.person</code> generic;
a character string for the <code>as.person</code> default method;
an object of class <code>"person"</code> otherwise.</p>
</td></tr>
<tr><td><code id="person_+3A_include">include</code></td>
<td>
<p>a character vector giving the fields to be included
when formatting.</p>
</td></tr>
<tr><td><code id="person_+3A_braces">braces</code></td>
<td>
<p>a list of characters (see <b>Details</b>).</p>
</td></tr>
<tr><td><code id="person_+3A_collapse">collapse</code></td>
<td>
<p>a list of characters (see <b>Details</b>).</p>
</td></tr>
<tr><td><code id="person_+3A_...">...</code></td>
<td>
<p>currently not used.</p>
</td></tr>
<tr><td><code id="person_+3A_style">style</code></td>
<td>
<p>a character string specifying the print style, with 
<code>"R"</code> yielding formatting as R code.</p>
</td></tr>
<tr><td><code id="person_+3A_object">object</code></td>
<td>
<p>an <span class="rlang"><b>R</b></span> object inhering from class <code>"person"</code>.</p>
</td></tr>
<tr><td><code id="person_+3A_escape">escape</code></td>
<td>
<p>a logical indicating whether non-ASCII characters should
be translated to LaTeX escape sequences.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Objects of class <code>"person"</code> can hold information about an
arbitrary positive number of persons.  These can be obtained by one
call to <code>person()</code> with list arguments, or by first creating
objects representing single persons and combining these via
<code>c()</code>.
</p>
<p>The <code>format()</code> method collapses information about persons into
character vectors (one string for each person): the fields in
<code>include</code> are selected, each collapsed to a string using the
respective element of <code>collapse</code> and subsequently
&ldquo;embraced&rdquo; using the respective element of <code>braces</code>, and
finally collapsed into one string separated by white space.  If
<code>braces</code> and/or <code>collapse</code> do not specify characters for all
fields, the defaults shown in the usage are imputed.
If <code>collapse</code> is <code>FALSE</code> or <code>NA</code> the corresponding
field is not collapsed but only the first element is used.
The <code>print()</code> method calls the <code>format()</code> method and prints
the result, the <code>toBibtex()</code> method creates a suitable BibTeX
representation.
</p>
<p>Person objects can be subscripted by fields (using <code>$</code>) or by
position (using <code>[</code>).
</p>
<p><code>as.person()</code> is a generic function.  Its default method tries to
reverse the default person formatting, and can also handle formatted
person entries collapsed by comma or <code>"and"</code> (with appropriate
white space).
</p>
<p>Personal names are rather tricky, e.g.,
<a href="https://en.wikipedia.org/wiki/Personal_name">https://en.wikipedia.org/wiki/Personal_name</a>.
</p>
<p>The current implementation (starting from R 2.12.0) of the
<code>"person"</code> class uses the notions of <em>given</em> (including
middle names) and <em>family</em> names, as specified by <code>given</code>
and <code>family</code> respectively.  Earlier versions used a scheme based
on first, middle and last names, as appropriate for most of Western
culture where the given name precedes the family name, but not
universal, as some other cultures place it after the family name, or
use no family name.  To smooth the transition to the new scheme,
arguments <code>first</code>, <code>middle</code> and <code>last</code> are still
supported, but their use is deprecated and they must not be given in
combination with the corresponding new style arguments.  For persons
which are not natural persons (e.g., institutions, companies, etc.) it
is appropriate to use <code>given</code> (but not <code>family</code>) for the
name, e.g., <code>person("R Core Team", role = "aut")</code>.
</p>
<p>The new scheme also adds the possibility of specifying <em>roles</em>
based on a subset of the MARC Code List for Relators 
(<a href="https://www.loc.gov/marc/relators/relaterm.html">https://www.loc.gov/marc/relators/relaterm.html</a>).
When giving the roles of persons in the context of authoring <span class="rlang"><b>R</b></span>
packages, the following usage is suggested.
</p>

<dl>
<dt><code>"aut"</code></dt><dd><p>(Author) Use for full authors who have made
substantial contributions to the package and should show up in the
package citation.</p>
</dd>
<dt><code>"com"</code></dt><dd><p>(Compiler) Use for persons who collected code
(potentially in other languages) but did not make further
substantial contributions to the package.</p>
</dd>
<dt><code>"cph"</code></dt><dd><p>(Copyright holder) Use for all copyright
holders.  This is a legal concept so should use the legal name of
an institution or corporate body.</p>
</dd>
<dt><code>"cre"</code></dt><dd><p>(Creator) Use for the package maintainer.</p>
</dd>
<dt><code>"ctb"</code></dt><dd><p>(Contributor) Use for authors who have made
smaller contributions (such as code patches etc.) but should not
show up in the package citation.</p>
</dd>
<dt><code>"ctr"</code></dt><dd><p>(Contractor) Use for authors who have been
contracted to write (parts of) the package and hence do not own
intellectual property.</p>
</dd>
<dt><code>"dtc"</code></dt><dd><p>(Data contributor) Use for persons who
contributed data sets for the package.</p>
</dd>
<dt><code>"fnd"</code></dt><dd><p>(Funder) Use for persons or organizations that
furnished financial support for the development of the package.</p>
</dd>
<dt><code>"rev"</code></dt><dd><p>(Reviewer) Use for persons or organizations
responsible for reviewing (parts of) the package.</p>
</dd>
<dt><code>"ths"</code></dt><dd><p>(Thesis advisor) If the package is part of a
thesis, use for the thesis advisor.</p>
</dd>
<dt><code>"trl"</code></dt><dd><p>(Translator) If the R code is a translation from
another language (typically S), use for the translator to R.</p>
</dd>
</dl>

<p>In the old scheme, person objects were used for single persons, and a
separate <code>"personList"</code> class with corresponding creator
<code><a href="#topic+personList">personList</a>()</code> for collections of these.  The new scheme employs
a single class for information about an arbitrary positive number of
persons, eliminating the need for the <code>personList</code> mechanism.
</p>
<p>The <code>comment</code> field can be used for &ldquo;arbitrary&rdquo; additional
information about persons.  Elements named <code>"ORCID"</code> will be
taken to give <abbr>ORCID</abbr> identifiers (see <a href="https://orcid.org/">https://orcid.org/</a> for more
information), and be displayed as the corresponding <abbr>URI</abbr>s by the
<code>print()</code> and <code>format()</code> methods (see <b>Examples</b>
below).
</p>


<h3>Value</h3>

<p><code>person()</code> and <code>as.person()</code> return objects of class
<code>"person"</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+citation">citation</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Create a person object directly ...
p1 &lt;- person("Karl", "Pearson", email = "pearson@stats.heaven")

## ... or convert a string.
p2 &lt;- as.person("Ronald Aylmer Fisher")

## Combining and subsetting.
p &lt;- c(p1, p2)
p[1]
p[-1]

## Extracting fields.
p$family
p$email
p[1]$email

## Specifying package authors, example from "boot":
## AC is the first author [aut] who wrote the S original.
## BR is the second author [aut], who translated the code to R [trl],
## and maintains the package [cre].
b &lt;- c(person("Angelo", "Canty", role = "aut", comment =
         "S original, &lt;http://statwww.epfl.ch/davison/BMA/library.html&gt;"),
       person(c("Brian", "D."), "Ripley", role = c("aut", "trl", "cre"),
              comment = "R port", email = "ripley@stats.ox.ac.uk")
     )
b

## Formatting.
format(b)
format(b, include = c("family", "given", "role"),
   braces = list(family = c("", ","), role = c("(Role(s): ", ")")))

## Conversion to BibTeX author field.
paste(format(b, include = c("given", "family")), collapse = " and ")
toBibtex(b)

## ORCID identifiers.
(p3 &lt;- person("Achim", "Zeileis",
              comment = c(ORCID = "0000-0003-0918-3766")))
</code></pre>

<hr>
<h2 id='personList'>Collections of Persons (Older Interface)</h2><span id='topic+personList'></span><span id='topic+as.personList'></span><span id='topic+as.personList.person'></span><span id='topic+as.personList.default'></span>

<h3>Description</h3>

<p>Old interface providing functionality for information about
collections of persons.  Since R 2.14.0 <code><a href="#topic+person">person</a></code> objects
can be combined with the corresponding <code>c</code> method which
supersedes the <code>personList</code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>personList(...)
as.personList(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="personList_+3A_...">...</code></td>
<td>
<p>person objects (inheriting from class
<code>"<a href="#topic+person">person</a>"</code>)</p>
</td></tr>
<tr><td><code id="personList_+3A_x">x</code></td>
<td>
<p>an object the elements of which are coercible via
<code><a href="#topic+as.person">as.person</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a person object (inheriting from class <code>"<a href="#topic+person">person</a>"</code>)
</p>


<h3>See Also</h3>

<p><code><a href="#topic+person">person</a></code> for the new functionality for representing and
manipulating information about persons.
</p>

<hr>
<h2 id='PkgUtils'>Utilities for Building and Checking Add-on Packages</h2><span id='topic+build'></span><span id='topic+check'></span>

<h3>Description</h3>

<p>Utilities for checking whether the sources of an <span class="rlang"><b>R</b></span> add-on package
work correctly, and for building a source package from them.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>R CMD check [options] pkgdirs
R CMD build [options] pkgdirs
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="PkgUtils_+3A_pkgdirs">pkgdirs</code></td>
<td>
<p>a list of names of directories with sources of <span class="rlang"><b>R</b></span>
add-on packages.  For <code>check</code> these can also be the filenames of
compressed <code>tar</code> archives with extension &lsquo;<span class="file">.tar.gz</span>&rsquo;,
&lsquo;<span class="file">.tgz</span>&rsquo;, &lsquo;<span class="file">.tar.bz2</span>&rsquo; or &lsquo;<span class="file">.tar.xz</span>&rsquo;.</p>
</td></tr>
<tr><td><code id="PkgUtils_+3A_options">options</code></td>
<td>
<p>further options to control the processing, or for
obtaining information about usage and version of the utility.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>R CMD check</code>
checks <span class="rlang"><b>R</b></span> add-on packages from their sources, performing a wide
variety of diagnostic checks.
</p>
<p><code>R CMD build</code> builds <span class="rlang"><b>R</b></span> source tarballs.  The name(s) of the
packages are taken from the &lsquo;<span class="file">DESCRIPTION</span>&rsquo; files and not from the
directory names. This works entirely on a copy of the supplied source
directories.
</p>
<p>Use <code>R CMD <var>foo</var> --help</code> to obtain usage information on
utility <code><var>foo</var></code>, notably the possible <code>options</code>.
</p>
<p>The defaults for some of the options to <code>R CMD build</code> can be
set by environment variables <span class="env">_R_BUILD_RESAVE_DATA_</span> and
<span class="env">_R_BUILD_COMPACT_VIGNETTES_</span>: see &lsquo;Writing R Extensions&rsquo;.
Many of the checks in <code>R CMD check</code> can be turned off or on by
environment variables: see Chapter &lsquo;Tools&rsquo; of the
&lsquo;R Internals&rsquo; manual.
</p>
<p>By default <code>R CMD build</code> uses the <code>"internal"</code> option to
<code><a href="#topic+tar">tar</a></code> to prepare the tarball.  An external <code>tar</code>
program can be specified by the <span class="env">R_BUILD_TAR</span> environment
variable.  This may be substantially faster for very large packages,
and can be needed for packages with long path names (over 100 bytes)
or very large files (over 8GB): however, the resulting tarball may not
be portable.
</p>
<p><code>R CMD check</code> by default unpacks tarballs by the internal
<code><a href="#topic+untar">untar</a></code> function: if needed an external <code>tar</code>
command can be specified by the environment variable
<span class="env">R_INSTALL_TAR</span>: please ensure that it can handle the type of
compression used on the tarball.  (This is sometimes needed for
tarballs containing invalid or unsupported sections, and can be faster
on very large tarballs.  Setting <span class="env">R_INSTALL_TAR</span> to &lsquo;<span class="samp">&#8288;tar.exe&#8288;</span>&rsquo;
has been needed to overcome permissions issues on some Windows
systems.)
</p>


<h3>Note</h3>

<p>Only on Windows:
They make use of a temporary directory specified by the environment
variable <code>TMPDIR</code> and defaulting to &lsquo;<span class="samp">&#8288;c:/TEMP&#8288;</span>&rsquo;.  Do ensure
that if set forward slashes are used.
</p>


<h3>See Also</h3>

<p>The sections on &lsquo;Checking and building packages&rsquo; and
&lsquo;Processing documentation files&rsquo; in &lsquo;Writing R Extensions&rsquo;:
<code><a href="#topic+RShowDoc">RShowDoc</a>("R-exts")</code>.
</p>

<hr>
<h2 id='process.events'>Trigger Event Handling</h2><span id='topic+process.events'></span>

<h3>Description</h3>

<p>R front ends like the Windows GUI handle key presses and mouse clicks
through &ldquo;events&rdquo; generated by the OS. These are processed
automatically by R at intervals during computations, but in some cases
it may be desirable to trigger immediate event handling.  The
<code>process.events</code> function does that.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>process.events()
</code></pre>


<h3>Details</h3>

<p>This is a simple wrapper for the C API function
<code>R_ProcessEvents</code>.  As such, it is possible that it will not
return if the user has signalled to interrupt the calculation.
</p>


<h3>Value</h3>

<p><code>NULL</code> is returned invisibly.
</p>


<h3>Author(s)</h3>

<p>Duncan Murdoch
</p>


<h3>See Also</h3>

<p>See &lsquo;Writing R Extensions&rsquo; and the &lsquo;R for Windows FAQ&rsquo;
for more discussion of the <code>R_ProcessEvents</code> function.
</p>

<hr>
<h2 id='prompt'>Produce Prototype of an R Documentation File</h2><span id='topic+prompt'></span><span id='topic+prompt.default'></span><span id='topic+prompt.data.frame'></span><span id='topic+promptImport'></span>

<h3>Description</h3>

<p>Facilitate the constructing of files documenting <span class="rlang"><b>R</b></span> objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prompt(object, filename = NULL, name = NULL, ...)

## Default S3 method:
prompt(object, filename = NULL, name = NULL,
       force.function = FALSE, ...)

## S3 method for class 'data.frame'
prompt(object, filename = NULL, name = NULL, ...)

promptImport(object, filename = NULL, name = NULL, 
	importedFrom = NULL, importPage = name, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prompt_+3A_object">object</code></td>
<td>
<p>an <span class="rlang"><b>R</b></span> object, typically a function for the default
method.  Can be <code><a href="base.html#topic+missing">missing</a></code> when <code>name</code> is specified.</p>
</td></tr>
<tr><td><code id="prompt_+3A_filename">filename</code></td>
<td>
<p>usually, a <a href="base.html#topic+connection">connection</a> or a character string giving the
name of the file to which the documentation shell should be written.
The default corresponds to a file whose name is <code>name</code> followed
by <code>".Rd"</code>.  Can also be <code>NA</code> (see below).</p>
</td></tr>
<tr><td><code id="prompt_+3A_name">name</code></td>
<td>
<p>a character string specifying the name of the object.</p>
</td></tr>
<tr><td><code id="prompt_+3A_force.function">force.function</code></td>
<td>
<p>a logical.  If <code>TRUE</code>, treat <code>object</code>
as function in any case.</p>
</td></tr>
<tr><td><code id="prompt_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td></tr>
<tr><td><code id="prompt_+3A_importedfrom">importedFrom</code></td>
<td>
<p>a character string naming the package from
which <code>object</code> was imported.  Defaults to the environment
of <code>object</code> if <code>object</code> is a function.</p>
</td></tr>
<tr><td><code id="prompt_+3A_importpage">importPage</code></td>
<td>
<p>a character string naming the help page
in the package from which <code>object</code> was imported.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Unless <code>filename</code> is <code>NA</code>, a documentation shell for
<code>object</code> is written to the file specified by <code>filename</code>, and
a message about this is given.  For function objects, this shell
contains the proper function and argument names.  R documentation
files thus created still need to be edited and moved into the
&lsquo;<span class="file">man</span>&rsquo; subdirectory of the package containing the object to be
documented.
</p>
<p>If <code>filename</code> is <code>NA</code>, a list-style representation of the
documentation shell is created and returned.  Writing the shell to a
file amounts to <code>cat(unlist(x), file = filename, sep = "\n")</code>,
where <code>x</code> is the list-style representation.
</p>
<p>When <code>prompt</code> is used in <code><a href="base.html#topic+for">for</a></code> loops or scripts, the
explicit <code>name</code> specification will be useful.
</p>
<p>The <code>importPage</code> argument for <code>promptImport</code> needs to give 
the base of the name of the
help file of the original help page.  For example,
the <code><a href="stats.html#topic+approx">approx</a></code> function is documented in &lsquo;<span class="file">approxfun.Rd</span>&rsquo;
in the <span class="pkg">stats</span> package, so if it were imported and re-exported
it should have <code>importPage = "approxfun"</code>.  
Objects that are imported from other packages are not
normally documented unless re-exported. 
</p>


<h3>Value</h3>

<p>If <code>filename</code> is <code>NA</code>, a list-style representation of the
documentation shell.  Otherwise, the name of the file written to is
returned invisibly.
</p>


<h3>Warning</h3>

<p>The default filename may not be a valid filename under limited file
systems (e.g., those on Windows).
</p>
<p>Currently, calling <code>prompt</code> on a non-function object assumes that
the object is in fact a data set and hence documents it as such.  This
may change in future versions of <span class="rlang"><b>R</b></span>.  Use <code><a href="#topic+promptData">promptData</a></code> to
create documentation skeletons for data sets.
</p>


<h3>Note</h3>

<p>The documentation file produced by <code>prompt.data.frame</code> does not
have the same format as many of the data frame documentation files in
the <span class="pkg">base</span> package.  We are trying to settle on a preferred
format for the documentation.
</p>


<h3>Author(s)</h3>

<p>Douglas Bates for <code>prompt.data.frame</code></p>


<h3>References</h3>

<p>Becker, R. A., Chambers, J. M. and Wilks, A. R. (1988)
<em>The New S Language</em>.
Wadsworth &amp; Brooks/Cole.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+promptData">promptData</a></code>, <code><a href="#topic+help">help</a></code> and the chapter on
&lsquo;Writing R documentation files&rsquo; in the &lsquo;Writing R Extensions&rsquo;
manual: <code><a href="#topic+RShowDoc">RShowDoc</a>("R-exts")</code>.
</p>
<p>For creation of many help pages (for a package),
see <code><a href="#topic+package.skeleton">package.skeleton</a></code>.
</p>
<p>To prompt the user for input, see <code><a href="base.html#topic+readline">readline</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>require(graphics)

prompt(plot.default)
prompt(interactive, force.function = TRUE)
unlink("plot.default.Rd")
unlink("interactive.Rd")

prompt(women) # data.frame
unlink("women.Rd")

prompt(sunspots) # non-data.frame data
unlink("sunspots.Rd")


## Not run: 
## Create a help file for each function in the .GlobalEnv:
for(f in ls()) if(is.function(get(f))) prompt(name = f)

## End(Not run)

</code></pre>

<hr>
<h2 id='promptData'>Generate Outline Documentation for a Data Set</h2><span id='topic+promptData'></span>

<h3>Description</h3>

<p>Generates a shell of documentation for a data set.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>promptData(object, filename = NULL, name = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="promptData_+3A_object">object</code></td>
<td>
<p>an <span class="rlang"><b>R</b></span> object to be documented as a data set.</p>
</td></tr>
<tr><td><code id="promptData_+3A_filename">filename</code></td>
<td>
<p>usually, a <a href="base.html#topic+connection">connection</a> or a character string giving the
name of the file to which the documentation shell should be written.
The default corresponds to a file whose name is <code>name</code> followed
by <code>".Rd"</code>.  Can also be <code>NA</code> (see below).</p>
</td></tr>
<tr><td><code id="promptData_+3A_name">name</code></td>
<td>
<p>a character string specifying the name of the object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Unless <code>filename</code> is <code>NA</code>, a documentation shell for
<code>object</code> is written to the file specified by <code>filename</code>, and
a message about this is given.
</p>
<p>If <code>filename</code> is <code>NA</code>, a list-style representation of the
documentation shell is created and returned.  Writing the shell to a
file amounts to <code>cat(unlist(x), file = filename, sep = "\n")</code>,
where <code>x</code> is the list-style representation.
</p>
<p>Currently, only data frames are handled explicitly by the code.
</p>


<h3>Value</h3>

<p>If <code>filename</code> is <code>NA</code>, a list-style representation of the
documentation shell.  Otherwise, the name of the file written to is
returned invisibly.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+prompt">prompt</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>
promptData(sunspots)
unlink("sunspots.Rd")

</code></pre>

<hr>
<h2 id='promptPackage'>Generate a Shell for Documentation of a Package</h2><span id='topic+promptPackage'></span>

<h3>Description</h3>

<p>Generates a prototype of a package overview help page
using Rd macros that dynamically extract information
from package metadata when building the package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>promptPackage(package, lib.loc = NULL, filename = NULL,
              name = NULL, final = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="promptPackage_+3A_package">package</code></td>
<td>
<p>a <code><a href="base.html#topic+character">character</a></code> string with the name of the
package to be documented.</p>
</td></tr>
<tr><td><code id="promptPackage_+3A_lib.loc">lib.loc</code></td>
<td>
<p>ignored.</p>
</td></tr>
<tr><td><code id="promptPackage_+3A_filename">filename</code></td>
<td>
<p>usually, a <a href="base.html#topic+connection">connection</a> or a character string giving the
name of the file to which the documentation shell should be written.
The default corresponds to a file whose name is <code>name</code> followed
by <code>".Rd"</code>.  Can also be <code>NA</code> (see below).</p>
</td></tr>
<tr><td><code id="promptPackage_+3A_name">name</code></td>
<td>
<p>a character string specifying the name of the help topic;
defaults to <code>"<var>pkgname</var>-package"</code>, which is the required
<code style="white-space: pre;">&#8288;\alias&#8288;</code> for the overview help page.</p>
</td></tr>
<tr><td><code id="promptPackage_+3A_final">final</code></td>
<td>
<p>a logical value indicating whether to attempt to
create a usable version of the help topic, rather than just a shell.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Unless <code>filename</code> is <code>NA</code>, a documentation shell for
<code>package</code> is written to the file specified by <code>filename</code>, and
a message about this is given.
</p>
<p>If <code>filename</code> is <code>NA</code>, a list-style representation of the
documentation shell is created and returned.  Writing the shell to a
file amounts to <code>cat(unlist(x), file = filename, sep = "\n")</code>,
where <code>x</code> is the list-style representation.
</p>
<p>If <code>final</code> is <code>TRUE</code>, the generated documentation will not
include the place-holder slots for manual editing, it will be usable
as-is.  In most cases a manually edited file is preferable (but
<code>final = TRUE</code> is certainly less work).
</p>


<h3>Value</h3>

<p>If <code>filename</code> is <code>NA</code>, a list-style representation of the
documentation shell.  Otherwise, the name of the file written to is
returned invisibly.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+prompt">prompt</a></code>, <code><a href="#topic+package.skeleton">package.skeleton</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>filename &lt;- tempfile()
promptPackage("utils", filename = filename)
file.show(filename)
unlink(filename)
</code></pre>

<hr>
<h2 id='Question'>Documentation Shortcuts</h2><span id='topic+Question'></span><span id='topic++3F'></span>

<h3>Description</h3>

<p>These functions provide access to documentation.
Documentation on a topic with name <code>name</code> (typically, an <span class="rlang"><b>R</b></span>
object or a data set) can be displayed by either <code>help("name")</code> or
<code>?name</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>?topic

type?topic
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Question_+3A_topic">topic</code></td>
<td>
<p>Usually, a <a href="base.html#topic+name">name</a> or character string specifying the
topic for which help is sought.
</p>
<p>Alternatively, a function call to ask for documentation on a
corresponding S4 method: see the section on S4 method documentation.
The calls <code><var>pkg</var>::<var>topic</var></code> and
<code><var>pkg</var>:::<var>topic</var></code> are treated specially, and look for
help on <code>topic</code> in package <span class="pkg"><var>pkg</var></span>.
</p>
</td></tr>
<tr><td><code id="Question_+3A_type">type</code></td>
<td>
<p>the special type of documentation to use for this topic;
for example, if the type is <code>class</code>, documentation is
provided for the class with name <code>topic</code>.
See the Section &lsquo;S4 Method Documentation&rsquo; for the uses of
<code>type</code> to get help on formal methods, including
<code>methods?<var>function</var></code> and <code>method?<var>call</var></code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is a shortcut to <code><a href="#topic+help">help</a></code> and uses its default type of help.
</p>
<p>Some topics need to be quoted (by <a href="base.html#topic+backtick">backtick</a>s) or given as a
character string.  There include those which cannot syntactically
appear on their own such as unary and binary operators,
<code>function</code> and control-flow <a href="base.html#topic+reserved">reserved</a> words (including
<code>if</code>, <code>else</code> <code>for</code>, <code>in</code>, <code>repeat</code>,
<code>while</code>, <code>break</code> and <code>next</code>).  The other <code>reserved</code>
words can be used as if they were names, for example <code>TRUE</code>,
<code>NA</code> and <code>Inf</code>.
</p>


<h3>S4 Method Documentation</h3>

<p>Authors of formal (&lsquo;S4&rsquo;) methods can provide documentation
on specific methods, as well as overall documentation on the methods
of a particular function.  The <code>"?"</code> operator allows access to
this documentation in three ways.
</p>
<p>The expression <code>methods?<var>f</var></code> will look for the overall
documentation methods for the function <code><var>f</var></code>.  Currently,
this means the documentation file containing the alias
<code><var>f</var>-methods</code>.
</p>
<p>There are two different ways to look for documentation on a
particular method.  The first is to supply the <code>topic</code> argument
in the form of a function call, omitting the <code>type</code> argument.
The effect is to look for documentation on the method that would be
used if this function call were actually evaluated. See the examples
below.  If the function is not a generic (no S4 methods are defined
for it), the help reverts to documentation on the function name.
</p>
<p>The <code>"?"</code> operator can also be called with <code>type</code> supplied
as <code>method</code>; in this case also, the <code>topic</code> argument is
a function call, but the arguments are now interpreted as specifying
the class of the argument, not the actual expression that will
appear in a real call to the function.  See the examples below.
</p>
<p>The first approach will be tedious if the actual call involves
complicated expressions, and may be slow if the arguments take a
long time to evaluate.  The second approach avoids these
issues, but you do have to know what the classes of the actual
arguments will be when they are evaluated.
</p>
<p>Both approaches make use of any inherited methods; the signature of
the method to be looked up is found by using <code>selectMethod</code>
(see the documentation for <code><a href="methods.html#topic+getMethod">getMethod</a></code>).  A limitation
is that methods in packages (as opposed to regular functions) will only 
be found if the package exporting them is on the search list, even 
if it is specified explicitly using the <code>?package::generic()</code> 
notation.  
</p>


<h3>References</h3>

<p>Becker, R. A., Chambers, J. M. and Wilks, A. R. (1988)
<em>The New S Language</em>.
Wadsworth &amp; Brooks/Cole.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+help">help</a></code>
</p>
<p><code><a href="#topic++3F+3F">??</a></code> for finding help pages on a vague topic.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>?lapply

?"for"                  # but quotes/backticks are needed
?`+`

?women                  # information about data set "women"

## Not run: 
require(methods)
## define a S4 generic function and some methods
combo &lt;- function(x, y) c(x, y)
setGeneric("combo")
setMethod("combo", c("numeric", "numeric"), function(x, y) x+y)

## assume we have written some documentation
## for combo, and its methods ....

?combo  # produces the function documentation

methods?combo  # looks for the overall methods documentation

method?combo("numeric", "numeric")  # documentation for the method above

?combo(1:10, rnorm(10))  # ... the same method, selected according to
                         # the arguments (one integer, the other numeric)

?combo(1:10, letters)    # documentation for the default method

## End(Not run)</code></pre>

<hr>
<h2 id='rcompgen'>A Completion Generator for R</h2><span id='topic+rcompgen'></span><span id='topic+rc.settings'></span><span id='topic+rc.status'></span><span id='topic+rc.getOption'></span><span id='topic+rc.options'></span><span id='topic+findMatches'></span><span id='topic+.DollarNames'></span><span id='topic+.DollarNames.default'></span><span id='topic+.DollarNames.list'></span><span id='topic+.DollarNames.environment'></span><span id='topic+.AtNames'></span><span id='topic+.AtNames.default'></span><span id='topic+completion'></span>

<h3>Description</h3>

<p>This page documents a mechanism to generate relevant completions
from a partially completed command line.  It is not intended to be
useful by itself, but rather in conjunction with other mechanisms that
use it as a backend.  The functions listed in the usage section
provide a simple control and query mechanism.  The actual interface
consists of a few unexported functions described further down.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>
rc.settings(ops, ns, args, dots, func, ipck, S3, data, help,
            argdb, fuzzy, quotes, files, backtick)

rc.status()
rc.getOption(name)
rc.options(...)

.DollarNames(x, pattern)
.AtNames(x, pattern)

## Default S3 method:
.DollarNames(x, pattern = "")
## S3 method for class 'list'
.DollarNames(x, pattern = "")
## S3 method for class 'environment'
.DollarNames(x, pattern = "")
## Default S3 method:
.AtNames(x, pattern = "")

findMatches(pattern, values, fuzzy, backtick)

</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rcompgen_+3A_ops">ops</code></td>
<td>
<p> Logical flag. Activates completion after the <code>$</code> and
<code>@</code> operators. </p>
</td></tr>
<tr><td><code id="rcompgen_+3A_ns">ns</code></td>
<td>
<p> Logical flag. Controls namespace related completions. </p>
</td></tr>
<tr><td><code id="rcompgen_+3A_args">args</code></td>
<td>
<p> Logical flag. Enables completion of function arguments. </p>
</td></tr>
<tr><td><code id="rcompgen_+3A_dots">dots</code></td>
<td>
<p> Logical flag. If disabled, drops <code>...</code> from list of
function arguments. Relevant only if <code>args</code> is enabled.
</p>
</td></tr>
<tr><td><code id="rcompgen_+3A_func">func</code></td>
<td>
<p> Logical flag. Enables detection of functions.  If
enabled, a customizable extension (<code>"("</code> by default) is
appended to function names.  The process of determining whether a
potential completion is a function requires evaluation, including
for lazy loaded symbols.  This is undesirable for large objects,
because of potentially wasteful use of memory in addition to the
time overhead associated with loading.  For this reason, this
feature is disabled by default. </p>
</td></tr>
<tr><td><code id="rcompgen_+3A_s3">S3</code></td>
<td>
<p> Logical flag. When <code>args = TRUE</code>, activates completion on
arguments of all S3 methods (otherwise just the generic, which
usually has very few arguments). </p>
</td></tr>
<tr><td><code id="rcompgen_+3A_ipck">ipck</code></td>
<td>
<p> Logical flag. Enables completion of installed package names
inside <code><a href="base.html#topic+library">library</a></code> and <code><a href="base.html#topic+require">require</a></code>. </p>
</td></tr>
<tr><td><code id="rcompgen_+3A_data">data</code></td>
<td>
<p> Logical flag. Enables completion of data sets (including
those already visible) inside <code><a href="#topic+data">data</a></code>. </p>
</td></tr>
<tr><td><code id="rcompgen_+3A_help">help</code></td>
<td>
<p> Logical flag. Enables completion of help requests starting
with a question mark, by looking inside help index files. </p>
</td></tr>
<tr><td><code id="rcompgen_+3A_argdb">argdb</code></td>
<td>
<p> Logical flag. When <code>args = TRUE</code>, completion is
attempted on function arguments.  Generally, the list of valid
arguments is determined by dynamic calls to <code><a href="base.html#topic+args">args</a></code>.
While this gives results that are technically correct, the use of
the <code>...</code> argument often hides some useful arguments.  To
give more flexibility in this regard, an optional table of valid
arguments names for specific functions is retained internally.
Setting <code>argdb = TRUE</code> enables preferential lookup in this
internal data base for functions with an entry in it.  Of course,
this is useful only when the data base contains information about
the function of interest.  Some functions are already included, and
more can be added by the user through the unexported function
<code>.addFunctionInfo</code> (see below).  </p>
</td></tr>
<tr><td><code id="rcompgen_+3A_fuzzy">fuzzy</code></td>
<td>
<p> Logical flag. Enables fuzzy matching, where close but
non-exact matches (e.g., with different case) are considered if no
exact matches are found.  This feature is experimental and the
details can change. In <code>findMatches</code>, this argument defaults to
the current setting. </p>
</td></tr>
<tr><td><code id="rcompgen_+3A_backtick">backtick</code></td>
<td>
<p> Logical flag. If enabled, non-syntactic completions
are wrapped in backticks to make them syntactically valid. This is
useful only if the backend can handle such completions. In
<code>findMatches</code>, this argument defaults to the current setting. </p>
</td></tr>
<tr><td><code id="rcompgen_+3A_quotes">quotes</code></td>
<td>
<p> Logical flag. Enables completion in <span class="rlang"><b>R</b></span> code when inside
quotes.  This normally leads to filename completion, but can be
otherwise depending on context (for example, when the open quote is
preceded by <code>?</code>), help completion is invoked.  Setting this to
<code>FALSE</code> relegates completion to the underlying completion
front-end, which may do its own processing (for example,
<code>readline</code> on Unix-alikes will do filename completion).  </p>
</td></tr>
<tr><td><code id="rcompgen_+3A_files">files</code></td>
<td>
<p> Logical flag. Deprecated. Use <code>quotes</code> instead.  </p>
</td></tr>
<tr><td><code id="rcompgen_+3A_name">name</code>, <code id="rcompgen_+3A_...">...</code></td>
<td>
<p> user-settable options.  Currently valid names are
</p>

<dl>
<dt><code>function.suffix</code>:</dt><dd><p> default <code>"("</code> </p>
</dd>
<dt><code>funarg.suffix</code>:</dt><dd><p> default <code>"="</code> </p>
</dd>
<dt><code>package.suffix</code></dt><dd><p> default <code>"::"</code> </p>
</dd>
</dl>

<p>Usage is similar to that of <code><a href="base.html#topic+options">options</a></code>.
</p>
</td></tr>
<tr><td><code id="rcompgen_+3A_x">x</code></td>
<td>
<p> An R object for which valid names after <code>"$"</code>
are computed and returned.
</p>
</td></tr>
<tr><td><code id="rcompgen_+3A_pattern">pattern</code></td>
<td>
<p> A regular expression.  Only matching names are
returned.
</p>
</td></tr>
<tr><td><code id="rcompgen_+3A_values">values</code></td>
<td>
<p> character string giving set of candidate values
in which matches are to be found.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>There are several types of completion, some of which can be disabled
using <code>rc.settings</code>. The arguments of <code>rc.settings</code> are all
logical flags, turning specific optional completion features on and
off. All settings are on by default except <code>ipck</code>, <code>func</code>,
and <code>fuzzy</code>. Turn more off if your CPU cycles are valuable; you
will still retain basic completion.
</p>
<p>The most basic level, which can not be turned off once the completion
functionality is activated, provides completion on names visible on
the search path, along with a few special keywords (e.g.,
<code>TRUE</code>).  This type of completion is not attempted if the partial
&lsquo;word&rsquo; (a.k.a. token) being completed is empty (since there
would be too many completions).  The more advanced types of completion
are described below.
</p>

<dl>
<dt><b>Completion after extractors <code>$</code> and <code>@</code></b>:</dt><dd>
<p>When the <code>ops</code> setting is turned on, completion after
<code>$</code> and <code>@</code> is attempted.  This requires the prefix to
be evaluated, which is attempted unless it involves an explicit
function call (implicit function calls involving the use of
<code>[</code>, <code>$</code>, etc <em>do not</em> inhibit evaluation).
</p>
<p>Valid completions after the <code>$</code> and <code>@</code> extractors are
determined by the generic functions <code>.DollarNames</code> and
<code>.AtNames</code> respectively. A few basic methods are provided,
and more can be written for custom classes. The <code>findMatches</code>
function can be useful for this purpose.
</p>
</dd>
<dt><b>Completion inside namespaces</b>:</dt><dd>
<p>When the <code>ns</code> setting is turned on, completion inside
namespaces is attempted when a token is preceded by the <code>::</code>
or <code>:::</code> operators.  Additionally, the basic completion
mechanism is extended to include all loaded namespaces, i.e.,
<code>foopkg::</code> becomes a valid completion of <code>foo</code> if
<code>"foopkg"</code> is a loaded namespace.
</p>
<p>The completion of package namespaces applies only to already
loaded namespaces, i.e. if <code>MASS</code> is not loaded,
<code>MAS</code> will not complete to <code>MASS::</code>.  However, attempted
completion <em>inside</em> an apparent namespace will attempt to
load the namespace if it is not already loaded,
e.g. trying to complete on <code>MASS::fr</code> will load
<code>MASS</code> if it is not already loaded.
</p>
</dd>
<dt><b>Completion for help items</b>:</dt><dd>
<p>When the <code>help</code> setting is turned on, completion on help
topics is attempted when a token is preceded by <code>?</code>.
Prefixes (such as <code>class</code>, <code>method</code>) are supported, as
well as quoted help topics containing special characters.
</p>
</dd>
<dt><b>Completion of function arguments</b>:</dt><dd>
<p>When the <code>args</code> setting is turned on, completion on function
arguments is attempted whenever deemed appropriate.  The mechanism
used will currently fail if the relevant function (at the point
where completion is requested) was entered on a previous prompt
(which implies in particular that the current line is being typed
in response to a continuation prompt, usually <code>+</code>).  Note
that separation by newlines is fine.
</p>
<p>The list of possible argument completions that is generated can be
misleading.  There is no problem for non-generic functions (except
that <code>...</code> is listed as a completion; this is intentional
as it signals the fact that the function can accept further
arguments).  However, for generic functions, it is practically
impossible to give a reliable argument list without evaluating
arguments (and not even then, in some cases), which is risky (in
addition to being difficult to code, which is the real reason it
hasn't even been tried), especially when that argument is itself
an inline function call.  Our compromise is to consider arguments
of <em>all</em> currently available methods of that generic.  This
has two drawbacks.  First, not all listed completions may be
appropriate in the call currently being constructed.  Second, for
generics with many methods (like <code>print</code> and <code>plot</code>),
many matches will need to be considered, which may take a
noticeable amount of time.  Despite these drawbacks, we believe
this behaviour to be more useful than the only other practical
alternative, which is to list arguments of the generic only.
</p>
<p>Only S3 methods are currently supported in this fashion, and that
can be turned off using the <code>S3</code> setting.
</p>
<p>Since arguments can be unnamed in <span class="rlang"><b>R</b></span> function calls, other types
of completion are also appropriate whenever argument completion
is.  Since there are usually many many more visible objects than
formal arguments of any particular function, possible argument
completions are often buried in a bunch of other possibilities.
However, recall that basic completion is suppressed for blank
tokens.  This can be useful to list possible arguments of a
function.  For example, trying to complete <code>seq([TAB]</code> and
<code>seq(from = 1, [TAB])</code> will both list only the arguments of
<code>seq</code> (or any of its methods), whereas trying to complete
<code>seq(length[TAB]</code> will list both the <code>length.out</code>
argument and the <code>length(</code> function as possible completions.
Note that no attempt is made to remove arguments already supplied,
as that would incur a further speed penalty.
</p>
</dd>
<dt><b>Special functions</b>:</dt><dd>
<p>For a few special functions (<code><a href="base.html#topic+library">library</a></code>,
<code><a href="#topic+data">data</a></code>, etc), the first argument is treated specially,
in the sense that normal completion is suppressed, and some
function specific completions are enabled if so requested by the
settings.  The <code>ipck</code> setting, which controls whether
<code><a href="base.html#topic+library">library</a></code> and <code><a href="base.html#topic+require">require</a></code> will complete on
<em>installed packages</em>, is disabled by default because the
first call to <code><a href="#topic+installed.packages">installed.packages</a></code> is potentially time
consuming (e.g., when packages are installed on a remote network
file server).  Note, however, that the results of a call to
<code><a href="#topic+installed.packages">installed.packages</a></code> is cached, so subsequent calls
are usually fast, so turning this option on is not particularly
onerous even in such situations.
</p>
</dd>
</dl>

<p><code>findMatches</code> is an utility function that is used internally to
determine matches. It can be used for writing methods for
<code>.DollarNames</code> or <code>.AtNames</code>, the main benefit being that it
will take the current <code>fuzzy</code> setting into account.
</p>


<h3>Value</h3>

<p>If <code>rc.settings</code> is called without any arguments, it returns the
current settings as a named logical vector.  Otherwise, it returns
<code>NULL</code> invisibly. 
</p>
<p><code>rc.status</code> returns, as a list, the contents of an internal
(unexported) environment that is used to record the results of the
last completion attempt.  This can be useful for debugging.  For such
use, one must resist the temptation to use completion when typing the
call to <code>rc.status</code> itself, as that then becomes the last attempt
by the time the call is executed.
</p>
<p>The items of primary interest in the returned list are:
</p>
<table>
<tr><td><code>comps</code></td>
<td>
<p> The possible completions generated by the last
call to <code>.completeToken</code>, as a character vector. </p>
</td></tr>
<tr><td><code>token</code></td>
<td>
<p> The token that was (or, is to be) completed, as
set by the last call to <code>.assignToken</code> (possibly inside a call
to <code>.guessTokenFromLine</code>). </p>
</td></tr>
<tr><td><code>linebuffer</code></td>
<td>
<p> The full line, as set by the last call to
<code>.assignLinebuffer</code>. </p>
</td></tr>
<tr><td><code>start</code></td>
<td>
<p> The start position of the token in the line
buffer, as set by the last call to <code>.assignStart</code>. </p>
</td></tr>
<tr><td><code>end</code></td>
<td>
<p> The end position of the token in the line
buffer, as set by the last call to <code>.assignEnd</code>. </p>
</td></tr>
<tr><td><code>fileName</code></td>
<td>
<p> Logical, indicating whether the cursor is
currently inside quotes. </p>
</td></tr>
<tr><td><code>fguess</code></td>
<td>
<p> The name of the function the cursor is currently inside. </p>
</td></tr>
<tr><td><code>isFirstArg</code></td>
<td>
<p> Logical.  If cursor is inside a function, is it the
first argument? </p>
</td></tr>
</table>
<p>In addition, the components <code>settings</code> and <code>options</code> give
the current values of settings and options respectively.
</p>
<p><code>rc.getOption</code> and <code>rc.options</code> behave much like
<code><a href="base.html#topic+getOption">getOption</a></code> and <code><a href="base.html#topic+options">options</a></code> respectively.
</p>
<p><code>findMatches</code> returns values that match the input pattern, taking
the <code>fuzzy</code> flag into account.
</p>


<h3>Unexported API</h3>

<p>There are several unexported functions in the package.  Of these,
a few are special because they provide the API through which other
mechanisms can make use of the facilities provided by this package
(they are unexported because they are not meant to be called directly
by users).  The usage of these functions are:
</p>
<pre>    .assignToken(text)
    .assignLinebuffer(line)
    .assignStart(start)
    .assignEnd(end)

    .completeToken(custom = TRUE)
    .retrieveCompletions()
    .getFileComp()

    .guessTokenFromLine()
    .win32consoleCompletion(linebuffer, cursorPosition,
                            check.repeat = TRUE,
                            minlength = -1)

    .addFunctionInfo(...)
</pre>
<p>The first four functions set up a completion attempt by specifying the
token to be completed (<code>text</code>), and indicating where
(<code>start</code> and <code>end</code>, which should be integers) the token is
placed within the complete line typed so far (<code>line</code>).
</p>
<p>Potential completions of the token are generated by
<code>.completeToken</code>, and the completions can be retrieved as an <span class="rlang"><b>R</b></span>
character vector using <code>.retrieveCompletions</code>. It is possible for
the user to specify a replacement for this function by setting
<code>rc.options("custom.completer")</code>; if not <code>NULL</code>, this
function is called to compute potential completions.  This facility is
meant to help in situations where completing as R code is not
appropriate. See source code for more details. Custom completion can
be disabled by setting <code>custom = FALSE</code> when calling
<code>.completeToken</code>.
</p>
<p>If the cursor is inside quotes, completion may be suppressed.  The
function <code>.getFileComp</code> can be used after a call to
<code>.completeToken</code> to determine if this is the case (returns
<code>TRUE</code>), and alternative completions generated as deemed useful.
In most cases, filename completion is a reasonable fallback.
</p>
<p>The <code>.guessTokenFromLine</code> function is provided for use with
backends that do not already break a line into tokens.  It requires
the linebuffer and endpoint (cursor position) to be already set, and
itself sets the token and the start position.  It returns the token as
a character string.
</p>
<p>The <code>.win32consoleCompletion</code> is similar in spirit, but is more
geared towards the Windows GUI (or rather, any front-end that has no
completion facilities of its own).  It requires the linebuffer
and cursor position as arguments, and returns a list with three
components, <code>addition</code>, <code>possible</code> and <code>comps</code>.  If
there is an unambiguous extension at the current position,
<code>addition</code> contains the additional text that should be inserted
at the cursor.  If there is more than one possibility, these are
available either as a character vector of preformatted strings in
<code>possible</code>, or as a single string in <code>comps</code>.
<code>possible</code> consists of lines formatted using the current
<code>width</code> option, so that printing them on the console one line at
a time will be a reasonable way to list them.  <code>comps</code> is a space
separated (collapsed) list of the same completions, in case the
front-end wishes to display it in some other fashion.
</p>
<p>The <code>minlength</code> argument can be used to suppress completion when
the token is too short (which can be useful if the front-end is set up
to try completion on every keypress).  If <code>check.repeat</code> is
<code>TRUE</code>, it is detected if the same completion is being requested
more than once in a row, and ambiguous completions are returned only
in that case.  This is an attempt to emulate GNU Readline behaviour,
where a single TAB completes up to any unambiguous part, and multiple
possibilities are reported only on two consecutive <abbr>TAB</abbr>s.
</p>
<p>As the various front-end interfaces evolve, the details of these
functions are likely to change as well.
</p>
<p>The function <code>.addFunctionInfo</code> can be used to add information
about the permitted argument names for specific functions.  Multiple
named arguments are allowed in calls to it, where the tags are names
of functions and values are character vectors representing valid
arguments.  When the <code>argdb</code> setting is <code>TRUE</code>, these are
used as a source of valid argument names for the relevant functions.
</p>


<h3>Note</h3>

<p>If you are uncomfortable with unsolicited evaluation of pieces of
code, you should set <code>ops = FALSE</code>.  Otherwise, trying to
complete <code>foo@ba</code> will evaluate <code>foo</code>, trying to complete
<code>foo[i, 1:10]$ba</code> will evaluate <code>foo[i, 1:10]</code>, etc.  This
should not be too bad, as explicit function calls (involving
parentheses) are not evaluated in this manner.  However, this
<em>will</em> affect promises and lazy loaded symbols.
</p>


<h3>Author(s)</h3>

<p> Deepayan Sarkar, <a href="mailto:deepayan.sarkar@r-project.org">deepayan.sarkar@r-project.org</a> </p>

<hr>
<h2 id='read.DIF'>Data Input from Spreadsheet</h2><span id='topic+read.DIF'></span>

<h3>Description</h3>

<p>Reads a file in Data Interchange Format (<abbr>DIF</abbr>) and creates a
data frame from it.  <abbr>DIF</abbr> is a format for data matrices such as
single spreadsheets. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read.DIF(file, header = FALSE,
         dec = ".", numerals = c("allow.loss", "warn.loss", "no.loss"),
         row.names, col.names, as.is = !stringsAsFactors,
         na.strings = "NA", colClasses = NA, nrows = -1,
         skip = 0, check.names = TRUE, blank.lines.skip = TRUE,
         stringsAsFactors = FALSE,
         transpose = FALSE, fileEncoding = "")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read.DIF_+3A_file">file</code></td>
<td>
<p>the name of the file which the data are to be read from,
or a <a href="base.html#topic+connection">connection</a>, or a complete URL.
</p>
<p>The name <code>"clipboard"</code> may also be used on Windows, in which
case <code>read.DIF("clipboard")</code> will look for a <abbr>DIF</abbr> format entry
in the Windows clipboard.
</p>
</td></tr>
<tr><td><code id="read.DIF_+3A_header">header</code></td>
<td>
<p>a logical value indicating whether the spreadsheet contains the
names of the variables as its first line.  If missing, the value is
determined from the file format: <code>header</code> is set to <code>TRUE</code>
if and only if the first row contains only character values and
the top left cell is empty.</p>
</td></tr>
<tr><td><code id="read.DIF_+3A_dec">dec</code></td>
<td>
<p>the character used in the file for decimal points.</p>
</td></tr>
<tr><td><code id="read.DIF_+3A_numerals">numerals</code></td>
<td>
<p>string indicating how to convert numbers whose conversion
to double precision would lose accuracy, see <code><a href="#topic+type.convert">type.convert</a></code>.</p>
</td></tr>
<tr><td><code id="read.DIF_+3A_row.names">row.names</code></td>
<td>
<p>a vector of row names.  This can be a vector giving
the actual row names, or a single number giving the column of the
table which contains the row names, or character string giving the
name of the table column containing the row names.
</p>
<p>If there is a header and the first row contains one fewer field than
the number of columns, the first column in the input is used for the
row names.  Otherwise if <code>row.names</code> is missing, the rows are
numbered.
</p>
<p>Using <code>row.names = NULL</code> forces row numbering.
</p>
</td></tr>
<tr><td><code id="read.DIF_+3A_col.names">col.names</code></td>
<td>
<p>a vector of optional names for the variables.
The default is to use <code>"V"</code> followed by the column number.</p>
</td></tr>
<tr><td><code id="read.DIF_+3A_as.is">as.is</code></td>
<td>
<p>controls conversion of character variables (insofar as
they are not converted to logical, numeric or complex) to factors,
if not otherwise specified by <code>colClasses</code>.
Its value is either a vector of logicals (values are recycled if
necessary), or a vector of numeric or character indices which
specify which columns should not be converted to factors.
</p>
<p>Note: In releases prior to <span class="rlang"><b>R</b></span> 2.12.1, cells marked as being of
character type were converted to logical, numeric or complex using
<code><a href="#topic+type.convert">type.convert</a></code> as in <code><a href="#topic+read.table">read.table</a></code>.
</p>
<p>Note: to suppress all conversions including those of numeric
columns, set <code>colClasses = "character"</code>.
</p>
<p>Note that <code>as.is</code> is specified per column (not per
variable) and so includes the column of row names (if any) and any
columns to be skipped.
</p>
</td></tr>
<tr><td><code id="read.DIF_+3A_na.strings">na.strings</code></td>
<td>
<p>a character vector of strings which are to be
interpreted as <code><a href="base.html#topic+NA">NA</a></code> values.  Blank fields are also
considered to be missing values in logical, integer, numeric and
complex fields.</p>
</td></tr>
<tr><td><code id="read.DIF_+3A_colclasses">colClasses</code></td>
<td>
<p>character.  A vector of classes to be assumed for
the columns.  Recycled as necessary, or if the character vector is
named, unspecified values are taken to be <code>NA</code>.
</p>
<p>Possible values are <code>NA</code> (when <code><a href="#topic+type.convert">type.convert</a></code> is
used), <code>"NULL"</code> (when the column is skipped), one of the atomic
vector classes (logical, integer, numeric, complex, character, raw),
or <code>"factor"</code>, <code>"Date"</code> or <code>"POSIXct"</code>.  Otherwise
there needs to be an <code>as</code> method (from package <span class="pkg">methods</span>)
for conversion from <code>"character"</code> to the specified formal
class.
</p>
<p>Note that <code>colClasses</code> is specified per column (not per
variable) and so includes the column of row names (if any).
</p>
</td></tr>
<tr><td><code id="read.DIF_+3A_nrows">nrows</code></td>
<td>
<p>the maximum number of rows to read in.  Negative values
are ignored.</p>
</td></tr>
<tr><td><code id="read.DIF_+3A_skip">skip</code></td>
<td>
<p>the number of lines of the data file to skip before
beginning to read data.</p>
</td></tr>
<tr><td><code id="read.DIF_+3A_check.names">check.names</code></td>
<td>
<p>logical.  If <code>TRUE</code> then the names of the
variables in the data frame are checked to ensure that they are
syntactically valid variable names.  If necessary they are adjusted
(by <code><a href="base.html#topic+make.names">make.names</a></code>) so that they are, and also to ensure
that there are no duplicates.</p>
</td></tr>
<tr><td><code id="read.DIF_+3A_blank.lines.skip">blank.lines.skip</code></td>
<td>
<p>logical: if <code>TRUE</code> blank lines in the
input are ignored.</p>
</td></tr>
<tr><td><code id="read.DIF_+3A_stringsasfactors">stringsAsFactors</code></td>
<td>
<p>logical: should character vectors be converted
to factors?</p>
</td></tr>
<tr><td><code id="read.DIF_+3A_transpose">transpose</code></td>
<td>
<p>logical, indicating if the row and column
interpretation should be transposed.  Microsoft's Excel has been
known to produce (non-standard conforming) <abbr>DIF</abbr> files which would
need <code>transpose = TRUE</code> to be read correctly.</p>
</td></tr>
<tr><td><code id="read.DIF_+3A_fileencoding">fileEncoding</code></td>
<td>
<p>character string: if non-empty declares the
encoding used on a file (not a connection or clipboard) so the
character data can be re-encoded.  See the &lsquo;Encoding&rsquo; section
of the help for <code><a href="base.html#topic+file">file</a></code>, the &lsquo;R Data Import/Export&rsquo;
manual and &lsquo;Note&rsquo;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame (<code><a href="base.html#topic+data.frame">data.frame</a></code>) containing a representation of
the data in the file.  Empty input is an error unless <code>col.names</code>
is specified, when a 0-row data frame is returned: similarly giving
just a header line if <code>header = TRUE</code> results in a 0-row data frame.
</p>


<h3>Note</h3>

<p>The columns referred to in <code>as.is</code> and <code>colClasses</code> include
the column of row names (if any).
</p>
<p>Less memory will be used if <code>colClasses</code> is specified as one of
the six atomic vector classes.
</p>


<h3>Author(s)</h3>

<p>R Core; <code>transpose</code> option by Christoph Buser, ETH Zurich</p>


<h3>References</h3>

<p>The DIF format specification can be found by searching on
<a href="http://www.wotsit.org/">http://www.wotsit.org/</a>; the optional header fields are ignored.
See also
<a href="https://en.wikipedia.org/wiki/Data_Interchange_Format">https://en.wikipedia.org/wiki/Data_Interchange_Format</a>.
</p>
<p>The term is likely to lead to confusion: Windows will have a
&lsquo;Windows Data Interchange Format (DIF) data format&rsquo; as part of
its WinFX system, which may or may not be compatible.
</p>


<h3>See Also</h3>

<p>The <em>R Data Import/Export</em> manual.
</p>
<p><code><a href="base.html#topic+scan">scan</a></code>, <code><a href="#topic+type.convert">type.convert</a></code>,
<code><a href="#topic+read.fwf">read.fwf</a></code> for reading <em>f</em>ixed <em>w</em>idth
<em>f</em>ormatted input;
<code><a href="#topic+read.table">read.table</a></code>;
<code><a href="base.html#topic+data.frame">data.frame</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## read.DIF() may need transpose = TRUE for a file exported from Excel
udir &lt;- system.file("misc", package = "utils")
dd &lt;- read.DIF(file.path(udir, "exDIF.dif"), header = TRUE, transpose = TRUE)
dc &lt;- read.csv(file.path(udir, "exDIF.csv"), header = TRUE)
stopifnot(identical(dd, dc), dim(dd) == c(4,2))
</code></pre>

<hr>
<h2 id='read.fortran'>Read Fixed-Format Data in a Fortran-like Style</h2><span id='topic+read.fortran'></span>

<h3>Description</h3>

<p>Read fixed-format data files using Fortran-style format specifications.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read.fortran(file, format, ..., as.is = TRUE, colClasses = NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read.fortran_+3A_file">file</code></td>
<td>
<p>File or <a href="base.html#topic+connection">connection</a> to read from.</p>
</td></tr>
<tr><td><code id="read.fortran_+3A_format">format</code></td>
<td>
<p>Character vector or list of vectors.  See
&lsquo;Details&rsquo; below.</p>
</td></tr>
<tr><td><code id="read.fortran_+3A_...">...</code></td>
<td>
<p>Other arguments for <code><a href="#topic+read.fwf">read.fwf</a></code>.</p>
</td></tr>
<tr><td><code id="read.fortran_+3A_as.is">as.is</code></td>
<td>
<p>Keep characters as characters?</p>
</td></tr>
<tr><td><code id="read.fortran_+3A_colclasses">colClasses</code></td>
<td>
<p>Variable classes to override defaults. See
<code><a href="#topic+read.table">read.table</a></code> for details.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The format for a field is of one of the following forms: <code>rFl.d</code>,
<code>rDl.d</code>, <code>rXl</code>, <code>rAl</code>, <code>rIl</code>, where <code>l</code> is
the number of columns, <code>d</code> is the number of decimal places, and
<code>r</code> is the number of repeats. <code>F</code> and <code>D</code> are numeric
formats, <code>A</code> is character, <code>I</code> is integer, and <code>X</code>
indicates columns to be skipped. The repeat code <code>r</code> and decimal
place code <code>d</code> are always optional. The length code <code>l</code> is
required except for <code>X</code> formats when <code>r</code> is present.
</p>
<p>For a single-line record, <code>format</code> should be a character
vector. For a multiline record it should be a list with a character
vector for each line.
</p>
<p>Skipped (<code>X</code>) columns are not passed to <code>read.fwf</code>, so
<code>colClasses</code>, <code>col.names</code>, and similar arguments passed to
<code>read.fwf</code> should not reference these columns.
</p>


<h3>Value</h3>

<p>A data frame
</p>


<h3>Note</h3>

<p><code>read.fortran</code> does not use actual Fortran input routines, so
the formats are at best rough approximations to the Fortran ones.
In particular, specifying <code>d &gt; 0</code> in the <code>F</code> or <code>D</code>
format will shift the decimal <code>d</code> places to the left, even if
it is explicitly specified in the input file.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+read.fwf">read.fwf</a></code>, <code><a href="#topic+read.table">read.table</a></code>, <code><a href="#topic+read.csv">read.csv</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>ff &lt;- tempfile()
cat(file = ff, "123456", "987654", sep = "\n")
read.fortran(ff, c("F2.1","F2.0","I2"))
read.fortran(ff, c("2F1.0","2X","2A1"))
unlink(ff)
cat(file = ff, "123456AB", "987654CD", sep = "\n")
read.fortran(ff, list(c("2F3.1","A2"), c("3I2","2X")))
unlink(ff)
# Note that the first number is read differently than Fortran would
# read it:
cat(file = ff, "12.3456", "1234567", sep = "\n")
read.fortran(ff, "F7.4")
unlink(ff)
</code></pre>

<hr>
<h2 id='read.fwf'>Read Fixed Width Format Files</h2><span id='topic+read.fwf'></span>

<h3>Description</h3>

<p>Read a table of <b>f</b>ixed <b>w</b>idth <b>f</b>ormatted
data into a <code><a href="base.html#topic+data.frame">data.frame</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read.fwf(file, widths, header = FALSE, sep = "\t",
         skip = 0, row.names, col.names, n = -1,
         buffersize = 2000, fileEncoding = "", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read.fwf_+3A_file">file</code></td>
<td>

<p>the name of the file which the data are to be read from.
</p>
<p>Alternatively, <code>file</code> can be a <a href="base.html#topic+connection">connection</a>, which
will be opened if necessary, and if so closed at the end of the
function call.
</p>
</td></tr>
<tr><td><code id="read.fwf_+3A_widths">widths</code></td>
<td>
<p>integer vector, giving the widths of the fixed-width
fields (of one line), or list of integer vectors giving widths for
multiline records.</p>
</td></tr>
<tr><td><code id="read.fwf_+3A_header">header</code></td>
<td>
<p>a logical value indicating whether the file contains the
names of the variables as its first line.  If present, the names
must be delimited by <code>sep</code>.</p>
</td></tr>
<tr><td><code id="read.fwf_+3A_sep">sep</code></td>
<td>
<p>character; the separator used internally; should be a
character that does not occur in the file (except in the header).</p>
</td></tr>
<tr><td><code id="read.fwf_+3A_skip">skip</code></td>
<td>
<p>number of initial lines to skip; see
<code><a href="#topic+read.table">read.table</a></code>.</p>
</td></tr>
<tr><td><code id="read.fwf_+3A_row.names">row.names</code></td>
<td>
<p>see <code><a href="#topic+read.table">read.table</a></code>.</p>
</td></tr>
<tr><td><code id="read.fwf_+3A_col.names">col.names</code></td>
<td>
<p>see <code><a href="#topic+read.table">read.table</a></code>.</p>
</td></tr>
<tr><td><code id="read.fwf_+3A_n">n</code></td>
<td>
<p>the maximum number of records (lines) to be read, defaulting
to no limit.</p>
</td></tr>
<tr><td><code id="read.fwf_+3A_buffersize">buffersize</code></td>
<td>
<p>Maximum number of lines to read at one time</p>
</td></tr>
<tr><td><code id="read.fwf_+3A_fileencoding">fileEncoding</code></td>
<td>
<p>character string: if non-empty declares the
encoding used on a file (not a connection) so the character data can
be re-encoded.  See the &lsquo;Encoding&rsquo; section of the help for
<code><a href="base.html#topic+file">file</a></code>, the &lsquo;R Data Import/Export&rsquo; manual and
&lsquo;Note&rsquo;.</p>
</td></tr>
<tr><td><code id="read.fwf_+3A_...">...</code></td>
<td>
<p>further arguments to be passed to
<code><a href="#topic+read.table">read.table</a></code>.  Useful such arguments include
<code>as.is</code>, <code>na.strings</code>, <code>colClasses</code> and <code>strip.white</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Multiline records are concatenated to a single line before processing.
Fields that are of zero-width or are wholly beyond the end of the line
in <code>file</code> are replaced by <code>NA</code>.
</p>
<p>Negative-width fields are used to indicate columns to be skipped, e.g.,
<code>-5</code> to skip 5 columns.  These fields are not seen by
<code>read.table</code> and so should not be included in a <code>col.names</code>
or <code>colClasses</code> argument (nor in the header line, if present).
</p>
<p>Reducing the <code>buffersize</code> argument may reduce memory use when
reading large files with long lines.  Increasing <code>buffersize</code> may
result in faster processing when enough memory is available.
</p>
<p>Note that <code>read.fwf</code> (not <code>read.table</code>) reads the supplied
file, so the latter's argument <code>encoding</code> will not be useful.
</p>


<h3>Value</h3>

<p>A <code><a href="base.html#topic+data.frame">data.frame</a></code> as produced by <code><a href="#topic+read.table">read.table</a></code>
which is called internally.
</p>


<h3>Author(s)</h3>

<p>Brian Ripley for <span class="rlang"><b>R</b></span> version: originally in <code>Perl</code> by Kurt Hornik.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+scan">scan</a></code> and <code><a href="#topic+read.table">read.table</a></code>.
</p>
<p><code><a href="#topic+read.fortran">read.fortran</a></code> for another style of fixed-format files.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ff &lt;- tempfile()
cat(file = ff, "123456", "987654", sep = "\n")
read.fwf(ff, widths = c(1,2,3))    #&gt; 1 23 456 \ 9 87 654
read.fwf(ff, widths = c(1,-2,3))   #&gt; 1 456 \ 9 654
unlink(ff)
cat(file = ff, "123", "987654", sep = "\n")
read.fwf(ff, widths = c(1,0, 2,3))    #&gt; 1 NA 23 NA \ 9 NA 87 654
unlink(ff)
cat(file = ff, "123456", "987654", sep = "\n")
read.fwf(ff, widths = list(c(1,0, 2,3), c(2,2,2))) #&gt; 1 NA 23 456 98 76 54
unlink(ff)
</code></pre>

<hr>
<h2 id='read.socket'> Read from or Write to a Socket</h2><span id='topic+read.socket'></span><span id='topic+write.socket'></span>

<h3>Description</h3>

<p><code>read.socket</code> reads a string from the specified socket,
<code>write.socket</code> writes to the specified socket.  There is very
little error checking done by either.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read.socket(socket, maxlen = 256L, loop = FALSE)
write.socket(socket, string)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read.socket_+3A_socket">socket</code></td>
<td>
<p>a socket object.</p>
</td></tr>
<tr><td><code id="read.socket_+3A_maxlen">maxlen</code></td>
<td>
<p>maximum length (in bytes) of string to read.</p>
</td></tr>
<tr><td><code id="read.socket_+3A_loop">loop</code></td>
<td>
<p>wait for ever if there is nothing to read?</p>
</td></tr>
<tr><td><code id="read.socket_+3A_string">string</code></td>
<td>
<p>string to write to socket.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>read.socket</code> returns the string read as a length-one character vector.
</p>
<p><code>write.socket</code> returns the number of bytes written.
</p>


<h3>Author(s)</h3>

<p>Thomas Lumley</p>


<h3>See Also</h3>

<p><code><a href="#topic+close.socket">close.socket</a></code>, <code><a href="#topic+make.socket">make.socket</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>finger &lt;- function(user, host = "localhost", port = 79, print = TRUE)
{
    if (!is.character(user))
        stop("user name must be a string")
    user &lt;- paste(user,"\r\n")
    socket &lt;- make.socket(host, port)
    on.exit(close.socket(socket))
    write.socket(socket, user)
    output &lt;- character(0)
    repeat{
        ss &lt;- read.socket(socket)
        if (ss == "") break
        output &lt;- paste(output, ss)
    }
    close.socket(socket)
    if (print) cat(output)
    invisible(output)
}
## Not run: 
finger("root")  ## only works if your site provides a finger daemon
## End(Not run)
</code></pre>

<hr>
<h2 id='read.table'>Data Input</h2><span id='topic+read.table'></span><span id='topic+read.csv'></span><span id='topic+read.csv2'></span><span id='topic+read.delim'></span><span id='topic+read.delim2'></span>

<h3>Description</h3>

<p>Reads a file in table format and creates a data frame from it, with
cases corresponding to lines and variables to fields in the file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read.table(file, header = FALSE, sep = "", quote = "\"'",
           dec = ".", numerals = c("allow.loss", "warn.loss", "no.loss"),
           row.names, col.names, as.is = !stringsAsFactors, tryLogical = TRUE,
           na.strings = "NA", colClasses = NA, nrows = -1,
           skip = 0, check.names = TRUE, fill = !blank.lines.skip,
           strip.white = FALSE, blank.lines.skip = TRUE,
           comment.char = "#",
           allowEscapes = FALSE, flush = FALSE,
           stringsAsFactors = FALSE,
           fileEncoding = "", encoding = "unknown", text, skipNul = FALSE)

read.csv(file, header = TRUE, sep = ",", quote = "\"",
         dec = ".", fill = TRUE, comment.char = "", ...)

read.csv2(file, header = TRUE, sep = ";", quote = "\"",
          dec = ",", fill = TRUE, comment.char = "", ...)

read.delim(file, header = TRUE, sep = "\t", quote = "\"",
           dec = ".", fill = TRUE, comment.char = "", ...)

read.delim2(file, header = TRUE, sep = "\t", quote = "\"",
            dec = ",", fill = TRUE, comment.char = "", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read.table_+3A_file">file</code></td>
<td>
<p>the name of the file which the data are to be read from.
Each row of the table appears as one line of the file.  If it does
not contain an <em>absolute</em> path, the file name is
<em>relative</em> to the current working directory,
<code><a href="base.html#topic+getwd">getwd</a>()</code>. Tilde-expansion is performed where supported.
This can be a compressed file (see <code><a href="base.html#topic+file">file</a></code>).
</p>
<p>Alternatively, <code>file</code> can be a readable text-mode
<a href="base.html#topic+connection">connection</a> (which will be opened for reading if
necessary, and if so <code><a href="base.html#topic+close">close</a></code>d (and hence destroyed) at
the end of the function call).  (If <code><a href="base.html#topic+stdin">stdin</a>()</code> is used,
the prompts for lines may be somewhat confusing.  Terminate input
with a blank line or an <abbr>EOF</abbr> signal, <code>Ctrl-D</code> on Unix and
<code>Ctrl-Z</code> on Windows.  Any pushback on <code>stdin()</code> will be
cleared before return.)
</p>
<p><code>file</code> can also be a complete URL.  (For the supported URL
schemes, see the &lsquo;URLs&rsquo; section of the help for
<code><a href="base.html#topic+url">url</a></code>.)
</p>
</td></tr>
<tr><td><code id="read.table_+3A_header">header</code></td>
<td>
<p>a logical value indicating whether the file contains the
names of the variables as its first line.  If missing, the value is
determined from the file format: <code>header</code> is set to <code>TRUE</code>
if and only if the first row contains one fewer field than the
number of columns.</p>
</td></tr>
<tr><td><code id="read.table_+3A_sep">sep</code></td>
<td>
<p>the field separator character.  Values on each line of the
file are separated by this character.  If <code>sep = ""</code> (the
default for <code>read.table</code>) the separator is &lsquo;white space&rsquo;,
that is one or more spaces, tabs, newlines or carriage returns.</p>
</td></tr>
<tr><td><code id="read.table_+3A_quote">quote</code></td>
<td>
<p>the set of quoting characters. To disable quoting
altogether, use <code>quote = ""</code>.  See <code><a href="base.html#topic+scan">scan</a></code> for the
behaviour on quotes embedded in quotes.  Quoting is only considered
for columns read as character, which is all of them unless
<code>colClasses</code> is specified.</p>
</td></tr>
<tr><td><code id="read.table_+3A_dec">dec</code></td>
<td>
<p>the character used in the file for decimal points.</p>
</td></tr>
<tr><td><code id="read.table_+3A_numerals">numerals</code></td>
<td>
<p>string indicating how to convert numbers whose conversion
to double precision would lose accuracy, see <code><a href="#topic+type.convert">type.convert</a></code>.
Can be abbreviated.  (Applies also to complex-number inputs.)</p>
</td></tr>
<tr><td><code id="read.table_+3A_row.names">row.names</code></td>
<td>
<p>a vector of row names.  This can be a vector giving
the actual row names, or a single number giving the column of the
table which contains the row names, or character string giving the
name of the table column containing the row names.
</p>
<p>If there is a header and the first row contains one fewer field than
the number of columns, the first column in the input is used for the
row names.  Otherwise if <code>row.names</code> is missing, the rows are
numbered.
</p>
<p>Using <code>row.names = NULL</code> forces row numbering. Missing or
<code>NULL</code> <code>row.names</code> generate row names that are considered
to be &lsquo;automatic&rsquo; (and not preserved by <code><a href="base.html#topic+as.matrix">as.matrix</a></code>).
</p>
</td></tr>
<tr><td><code id="read.table_+3A_col.names">col.names</code></td>
<td>
<p>a vector of optional names for the variables.
The default is to use <code>"V"</code> followed by the column number.</p>
</td></tr>
<tr><td><code id="read.table_+3A_as.is">as.is</code></td>
<td>
<p>controls conversion of character variables (insofar as
they are not converted to logical, numeric or complex) to factors,
if not otherwise specified by <code>colClasses</code>.
Its value is either a vector of logicals (values are recycled if
necessary), or a vector of numeric or character indices which
specify which columns should not be converted to factors.
</p>
<p>Note: to suppress all conversions including those of numeric
columns, set <code>colClasses = "character"</code>.
</p>
<p>Note that <code>as.is</code> is specified per column (not per
variable) and so includes the column of row names (if any) and any
columns to be skipped.
</p>
</td></tr>
<tr><td><code id="read.table_+3A_trylogical">tryLogical</code></td>
<td>
<p>a <code><a href="base.html#topic+logical">logical</a></code> determining if columns
consisting entirely of <code>"F"</code>, <code>"T"</code>, <code>"FALSE"</code>, and
<code>"TRUE"</code> should be converted to <code><a href="base.html#topic+logical">logical</a></code>; passed to
<code><a href="#topic+type.convert">type.convert</a></code>, true by default.</p>
</td></tr>
<tr><td><code id="read.table_+3A_na.strings">na.strings</code></td>
<td>
<p>a character vector of strings which are to be
interpreted as <code><a href="base.html#topic+NA">NA</a></code> values.  Blank fields are also
considered to be missing values in logical, integer, numeric and
complex fields.  Note that the test happens <em>after</em>
white space is stripped from the input (if enabled), so <code>na.strings</code>
values may need their own white space stripped in advance.</p>
</td></tr>
<tr><td><code id="read.table_+3A_colclasses">colClasses</code></td>
<td>
<p>character.  A vector of classes to be assumed for
the columns.  If unnamed, recycled as necessary.  If named, names
are matched with unspecified values being taken to be <code>NA</code>.
</p>
<p>Possible values are <code>NA</code> (the default, when
<code><a href="#topic+type.convert">type.convert</a></code> is used), <code>"NULL"</code> (when the column
is skipped), one of the atomic vector classes (logical, integer,
numeric, complex, character, raw), or <code>"factor"</code>, <code>"Date"</code>
or <code>"POSIXct"</code>.  Otherwise there needs to be an <code>as</code>
method (from package <span class="pkg">methods</span>) for conversion from
<code>"character"</code> to the specified formal class.
</p>
<p>Note that <code>colClasses</code> is specified per column (not per
variable) and so includes the column of row names (if any).
</p>
</td></tr>
<tr><td><code id="read.table_+3A_nrows">nrows</code></td>
<td>
<p>integer: the maximum number of rows to read in.  Negative
and other invalid values are ignored.</p>
</td></tr>
<tr><td><code id="read.table_+3A_skip">skip</code></td>
<td>
<p>integer: the number of lines of the data file to skip before
beginning to read data.</p>
</td></tr>
<tr><td><code id="read.table_+3A_check.names">check.names</code></td>
<td>
<p>logical.  If <code>TRUE</code> then the names of the
variables in the data frame are checked to ensure that they are
syntactically valid variable names.  If necessary they are adjusted
(by <code><a href="base.html#topic+make.names">make.names</a></code>) so that they are, and also to ensure
that there are no duplicates.</p>
</td></tr>
<tr><td><code id="read.table_+3A_fill">fill</code></td>
<td>
<p>logical. If <code>TRUE</code> then in case the rows have unequal
length, blank fields are implicitly added.  See &lsquo;Details&rsquo;.</p>
</td></tr>
<tr><td><code id="read.table_+3A_strip.white">strip.white</code></td>
<td>
<p>logical. Used only when <code>sep</code> has
been specified, and allows the stripping of leading and trailing
white space from unquoted <code>character</code> fields (<code>numeric</code> fields
are always stripped).  See <code><a href="base.html#topic+scan">scan</a></code> for further details
(including the exact meaning of &lsquo;white space&rsquo;),
remembering that the columns may include the row names.</p>
</td></tr>
<tr><td><code id="read.table_+3A_blank.lines.skip">blank.lines.skip</code></td>
<td>
<p>logical: if <code>TRUE</code> blank lines in the
input are ignored.</p>
</td></tr>
<tr><td><code id="read.table_+3A_comment.char">comment.char</code></td>
<td>
<p>character: a character vector of length one
containing a single character or an empty string.  Use <code>""</code> to
turn off the interpretation of comments altogether.</p>
</td></tr>
<tr><td><code id="read.table_+3A_allowescapes">allowEscapes</code></td>
<td>
<p>logical.  Should C-style escapes such as
&lsquo;<span class="samp">&#8288;\n&#8288;</span>&rsquo; be processed or read verbatim (the default)?   Note that if
not within quotes these could be interpreted as a delimiter (but not
as a comment character).  For more details see <code><a href="base.html#topic+scan">scan</a></code>.</p>
</td></tr>
<tr><td><code id="read.table_+3A_flush">flush</code></td>
<td>
<p>logical: if <code>TRUE</code>, <code>scan</code> will flush to the
end of the line after reading the last of the fields requested.
This allows putting comments after the last field.</p>
</td></tr>
<tr><td><code id="read.table_+3A_stringsasfactors">stringsAsFactors</code></td>
<td>
<p>logical: should character vectors be converted
to factors?  Note that this is overridden by <code>as.is</code> and
<code>colClasses</code>, both of which allow finer control.</p>
</td></tr>
<tr><td><code id="read.table_+3A_fileencoding">fileEncoding</code></td>
<td>
<p>character string: if non-empty declares the
encoding used on a file when given as a character string (not on an
existing connection) so the character data can
be re-encoded.  See the &lsquo;Encoding&rsquo; section of the help for
<code><a href="base.html#topic+file">file</a></code>, the &lsquo;R Data Import/Export&rsquo; manual and
&lsquo;Note&rsquo;.
</p>
</td></tr>
<tr><td><code id="read.table_+3A_encoding">encoding</code></td>
<td>
<p>encoding to be assumed for input strings.  It is
used to mark character strings as known to be in
Latin-1 or UTF-8 (see <code><a href="base.html#topic+Encoding">Encoding</a></code>): it is not used to
re-encode the input, but allows <span class="rlang"><b>R</b></span> to handle encoded strings in
their native encoding (if one of those two).  See &lsquo;Value&rsquo;
and &lsquo;Note&rsquo;.
</p>
</td></tr>
<tr><td><code id="read.table_+3A_text">text</code></td>
<td>
<p>character string: if <code>file</code> is not supplied and this is,
then data are read from the value of <code>text</code> via a text connection.
Notice that a literal string can be used to include (small) data sets
within R code.
</p>
</td></tr>
<tr><td><code id="read.table_+3A_skipnul">skipNul</code></td>
<td>
<p>logical: should <abbr>NUL</abbr>s be skipped?</p>
</td></tr>
<tr><td><code id="read.table_+3A_...">...</code></td>
<td>
<p>Further arguments to be passed to <code>read.table</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is the principal means of reading tabular data into <span class="rlang"><b>R</b></span>.
</p>
<p>Unless <code>colClasses</code> is specified, all columns are read as
character columns and then converted using <code><a href="#topic+type.convert">type.convert</a></code>
to logical, integer, numeric, complex or (depending on <code>as.is</code>)
factor as appropriate.  Quotes are (by default) interpreted in all
fields, so a column of values like <code>"42"</code> will result in an
integer column.
</p>
<p>A field or line is &lsquo;blank&rsquo; if it contains nothing (except
whitespace if no separator is specified) before a comment character or
the end of the field or line.
</p>
<p>If <code>row.names</code> is not specified and the header line has one less
entry than the number of columns, the first column is taken to be the
row names.  This allows data frames to be read in from the format in
which they are printed.  If <code>row.names</code> is specified and does
not refer to the first column, that column is discarded from such files.
</p>
<p>The number of data columns is determined by looking at the first five
lines of input (or the whole input if it has less than five lines), or
from the length of <code>col.names</code> if it is specified and is longer.
This could conceivably be wrong if <code>fill</code> or
<code>blank.lines.skip</code> are true, so specify <code>col.names</code> if
necessary (as in the &lsquo;Examples&rsquo;).
</p>
<p><code>read.csv</code> and <code>read.csv2</code> are identical to
<code>read.table</code> except for the defaults.  They are intended for
reading &lsquo;comma separated value&rsquo; files (&lsquo;<span class="file">.csv</span>&rsquo;) or
(<code>read.csv2</code>) the variant used in countries that use a comma as
decimal point and a semicolon as field separator.  Similarly,
<code>read.delim</code> and <code>read.delim2</code> are for reading delimited
files, defaulting to the TAB character for the delimiter.  Notice that
<code>header = TRUE</code> and <code>fill = TRUE</code> in these variants, and
that the comment character is disabled.
</p>
<p>The rest of the line after a comment character is skipped; quotes
are not processed in comments.  Complete comment lines are allowed
provided <code>blank.lines.skip = TRUE</code>; however, comment lines prior
to the header must have the comment character in the first non-blank
column.
</p>
<p>Quoted fields with embedded newlines are supported except after a
comment character.  Embedded <abbr>NUL</abbr>s are unsupported: skipping them (with
<code>skipNul = TRUE</code>) may work.
</p>


<h3>Value</h3>

<p>A data frame (<code><a href="base.html#topic+data.frame">data.frame</a></code>) containing a representation of
the data in the file.
</p>
<p>Empty input is an error unless <code>col.names</code> is specified, when a
0-row data frame is returned: similarly giving just a header line if
<code>header = TRUE</code> results in a 0-row data frame.  Note that in
either case the columns will be logical unless <code>colClasses</code> was
supplied.
</p>
<p>Character strings in the result (including factor levels) will have a
declared encoding if <code>encoding</code> is <code>"latin1"</code> or
<code>"UTF-8"</code>.
</p>


<h3>CSV files</h3>

<p>See the help on <code><a href="#topic+write.csv">write.csv</a></code> for the various conventions
for <code>.csv</code> files.  The commonest form of CSV file with row names
needs to be read with <code>read.csv(..., row.names = 1)</code> to use the
names in the first column of the file as row names.
</p>


<h3>Memory usage</h3>

<p>These functions can use a surprising amount of memory when reading
large files.  There is extensive discussion in the &lsquo;R Data
Import/Export&rsquo; manual, supplementing the notes here.
</p>
<p>Less memory will be used if <code>colClasses</code> is specified as one of
the six <a href="base.html#topic+atomic">atomic</a> vector classes.  This can be particularly so when
reading a column that takes many distinct numeric values, as storing
each distinct value as a character string can take up to 14 times as
much memory as storing it as an integer.
</p>
<p>Using <code>nrows</code>, even as a mild over-estimate, will help memory
usage.
</p>
<p>Using <code>comment.char = ""</code> will be appreciably faster than the
<code>read.table</code> default.
</p>
<p><code>read.table</code> is not the right tool for reading large matrices,
especially those with many columns: it is designed to read
<em>data frames</em> which may have columns of very different classes.
Use <code><a href="base.html#topic+scan">scan</a></code> instead for matrices.
</p>


<h3>Note</h3>

<p>The columns referred to in <code>as.is</code> and <code>colClasses</code> include
the column of row names (if any).
</p>
<p>There are two approaches for reading input that is not in the local
encoding.  If the input is known to be UTF-8 or Latin1, use the
<code>encoding</code> argument to declare that.  If the input is in some
other encoding, then it may be translated on input.  The <code>fileEncoding</code>
argument achieves this by setting up a connection to do the re-encoding
into the current locale.  Note that on Windows or other systems not running
in a UTF-8 locale, this may not be possible.
</p>


<h3>References</h3>

<p>Chambers, J. M. (1992)
<em>Data for models.</em>
Chapter 3 of <em>Statistical Models in S</em>
eds J. M. Chambers and T. J. Hastie, Wadsworth &amp; Brooks/Cole.
</p>


<h3>See Also</h3>

<p>The &lsquo;R Data Import/Export&rsquo; manual.
</p>
<p><code><a href="base.html#topic+scan">scan</a></code>, <code><a href="#topic+type.convert">type.convert</a></code>,
<code><a href="#topic+read.fwf">read.fwf</a></code> for reading <em>f</em>ixed <em>w</em>idth
<em>f</em>ormatted input;
<code><a href="#topic+write.table">write.table</a></code>;
<code><a href="base.html#topic+data.frame">data.frame</a></code>.
</p>
<p><code><a href="#topic+count.fields">count.fields</a></code> can be useful to determine problems with
reading files which result in reports of incorrect record lengths (see
the &lsquo;Examples&rsquo; below).
</p>
<p><a href="https://www.rfc-editor.org/rfc/rfc4180">https://www.rfc-editor.org/rfc/rfc4180</a> for the <abbr>IANA</abbr> definition of
CSV files (which requires comma as separator and CRLF line endings).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## using count.fields to handle unknown maximum number of fields
## when fill = TRUE
test1 &lt;- c(1:5, "6,7", "8,9,10")
tf &lt;- tempfile()
writeLines(test1, tf)

read.csv(tf, fill = TRUE) # 1 column
ncol &lt;- max(count.fields(tf, sep = ","))
read.csv(tf, fill = TRUE, header = FALSE,
         col.names = paste0("V", seq_len(ncol)))
unlink(tf)

## "Inline" data set, using text=
## Notice that leading and trailing empty lines are auto-trimmed

read.table(header = TRUE, text = "
a b
1 2
3 4
")
</code></pre>

<hr>
<h2 id='readRegistry'>Read a Windows Registry Hive</h2><span id='topic+readRegistry'></span>

<h3>Description</h3>

<p>On Windows, read values of keys in the Windows Registry, and
optionally whole hives.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>readRegistry(key, hive = c("HLM", "HCR", "HCU", "HU", "HCC", "HPD"),
             maxdepth = 1, view = c("default", "32-bit", "64-bit"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="readRegistry_+3A_key">key</code></td>
<td>
<p>character string, the path to the key in the Windows Registry.</p>
</td></tr>
<tr><td><code id="readRegistry_+3A_hive">hive</code></td>
<td>
<p>The &lsquo;hive&rsquo; containing the key.  The abbreviations
are for <code>HKEY_LOCAL_MACHINE</code>,
<code>HKEY_CLASSES_ROOT</code>. <code>HKEY_CURRENT_USER</code>,
<code>HKEY_USERS</code>, <code>HKEY_CURRENT_CONFIG</code> and
<code>HKEY_PERFORMANCE_DATA</code></p>
</td></tr>
<tr><td><code id="readRegistry_+3A_maxdepth">maxdepth</code></td>
<td>
<p>How far to recurse into the subkeys of the key.  By
default only the values of the key and the names of subkeys are
returned.</p>
</td></tr>
<tr><td><code id="readRegistry_+3A_view">view</code></td>
<td>
<p>On 64-bit Windows, the view of the Registry to be used:
see &lsquo;Details&rsquo;.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Registry access is done using the security settings of the current <span class="rlang"><b>R</b></span>
session: this means that some Registry keys may not be accessible even
if they exist.  This may result in <code>NULL</code> values in the object
returned, and, possibly, empty element names.
</p>
<p>On 64-bit Windows, this will by default read the 32-bit view of the
Registry when run from 32-bit <span class="rlang"><b>R</b></span>, and the 64-bit view when run from
64-bit <span class="rlang"><b>R</b></span>: see
<a href="https://learn.microsoft.com/en-us/windows/win32/winprog64/registry-redirector">https://learn.microsoft.com/en-us/windows/win32/winprog64/registry-redirector</a>.
</p>


<h3>Value</h3>

<p>A named list of values and subkeys (which may themselves be named
lists).  The default value (if any) precedes named values which
precede subkeys, and both the latter sets are sorted alphabetically.
</p>


<h3>Note</h3>

<p>This is only available on Windows.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
if(.Platform$OS.type == "windows") withAutoprint({
  ## only in HLM if set in an admin-mode install.
  try(readRegistry("SOFTWARE\\R-core", maxdepth = 3))

  gmt &lt;- file.path("SOFTWARE", "Microsoft", "Windows NT",
                   "CurrentVersion", "Time Zones",
		   "GMT Standard Time", fsep = "\\")
  readRegistry(gmt, "HLM")
}) 
## Not run: ## on a 64-bit R need this to find 32-bit JAGS
readRegistry("SOFTWARE\\JAGS", maxdepth = 3, view = "32")

## See if there is a 64-bit user install
readRegistry("SOFTWARE\\R-core\\R64", "HCU", maxdepth = 2)

## End(Not run)
</code></pre>

<hr>
<h2 id='recover'>Browsing after an Error</h2><span id='topic+recover'></span>

<h3>Description</h3>

<p>This function allows the user to browse directly on any of the
currently active function calls, and is suitable as an error option.
The expression <code>options(error = recover)</code> will make this
the error option.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>recover()
</code></pre>


<h3>Details</h3>

<p>When called, <code>recover</code> prints the list of current calls, and
prompts the user to select one of them.  The standard <span class="rlang"><b>R</b></span>
<code><a href="base.html#topic+browser">browser</a></code> is then invoked from the corresponding
environment; the user can type ordinary <span class="rlang"><b>R</b></span> language expressions to be
evaluated in that environment.
</p>
<p>When finished browsing in this call, type <code>c</code> to return to
<code>recover</code> from the browser.  Type another frame number to browse
some more, or type <code>0</code> to exit <code>recover</code>.
</p>
<p>The use of <code>recover</code> largely supersedes <code><a href="#topic+dump.frames">dump.frames</a></code>
as an error option, unless you really want to wait to look at the
error.  If <code>recover</code> is called in non-interactive mode, it
behaves like <code>dump.frames</code>.  For computations involving large
amounts of data, <code>recover</code> has the advantage that it does not
need to copy out all the environments in order to browse in them.  If
you do decide to quit interactive debugging, call
<code><a href="#topic+dump.frames">dump.frames</a></code> directly while browsing in any frame (see
the examples).
</p>


<h3>Value</h3>

<p>Nothing useful is returned.  However, you <em>can</em> invoke
<code>recover</code> directly from a function, rather than through the error
option shown in the examples.  In this case, execution continues
after you type <code>0</code> to exit <code>recover</code>.
</p>


<h3>Compatibility Note</h3>

<p>The <span class="rlang"><b>R</b></span> <code>recover</code> function can be used in the same way as the
S function of the same name; therefore, the error option shown is
a compatible way to specify the error action.  However, the actual
functions are essentially unrelated and interact quite differently
with the user.  The navigating commands <code>up</code> and <code>down</code> do
not exist in the <span class="rlang"><b>R</b></span> version; instead, exit the browser and select
another frame.
</p>


<h3>References</h3>

<p>John M. Chambers (1998).
<em>Programming with Data</em>; Springer. <br />
See the compatibility note above, however.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+browser">browser</a></code> for details about the interactive computations;
<code><a href="base.html#topic+options">options</a></code> for setting the error option;
<code><a href="#topic+dump.frames">dump.frames</a></code> to save the current environments for later
debugging.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

options(error = recover) # setting the error option

### Example of interaction

&gt; myFit &lt;- lm(y ~ x, data = xy, weights = w)
Error in lm.wfit(x, y, w, offset = offset, ...) :
        missing or negative weights not allowed

Enter a frame number, or 0 to exit
1:lm(y ~ x, data = xy, weights = w)
2:lm.wfit(x, y, w, offset = offset, ...)
Selection: 2
Called from: eval(expr, envir, enclos)
Browse[1]&gt; objects() # all the objects in this frame
[1] "method" "n"      "ny"     "offset" "tol"    "w"
[7] "x"      "y"
Browse[1]&gt; w
[1] -0.5013844  1.3112515  0.2939348 -0.8983705 -0.1538642
[6] -0.9772989  0.7888790 -0.1919154 -0.3026882
Browse[1]&gt; dump.frames() # save for offline debugging
Browse[1]&gt; c # exit the browser

Enter a frame number, or 0 to exit
1:lm(y ~ x, data = xy, weights = w)
2:lm.wfit(x, y, w, offset = offset, ...)
Selection: 0 # exit recover
&gt;


## End(Not run)
</code></pre>

<hr>
<h2 id='relist'>Allow Re-Listing an unlist()ed Object</h2><span id='topic+relist'></span><span id='topic+relist.default'></span><span id='topic+relist.list'></span><span id='topic+relist.factor'></span><span id='topic+relist.matrix'></span><span id='topic+as.relistable'></span><span id='topic+is.relistable'></span><span id='topic+unlist.relistable'></span>

<h3>Description</h3>

<p><code>relist()</code> is an S3 generic function with a few methods in order
to allow easy inversion of <code><a href="base.html#topic+unlist">unlist</a>(obj)</code> when that is used
with an object <code>obj</code> of (S3) class <code>"relistable"</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>relist(flesh, skeleton)
## Default S3 method:
relist(flesh, skeleton = attr(flesh, "skeleton"))
## S3 method for class 'factor'
relist(flesh, skeleton = attr(flesh, "skeleton"))
## S3 method for class 'list'
relist(flesh, skeleton = attr(flesh, "skeleton"))
## S3 method for class 'matrix'
relist(flesh, skeleton = attr(flesh, "skeleton"))

as.relistable(x)
is.relistable(x)

## S3 method for class 'relistable'
unlist(x, recursive = TRUE, use.names = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="relist_+3A_flesh">flesh</code></td>
<td>
<p>a vector to be relisted</p>
</td></tr>
<tr><td><code id="relist_+3A_skeleton">skeleton</code></td>
<td>
<p>a list, the structure of which determines the structure
of the result</p>
</td></tr>
<tr><td><code id="relist_+3A_x">x</code></td>
<td>
<p>an <span class="rlang"><b>R</b></span> object, typically a list (or vector).</p>
</td></tr>
<tr><td><code id="relist_+3A_recursive">recursive</code></td>
<td>
<p>logical.  Should unlisting be applied to list
components of <code>x</code>?</p>
</td></tr>
<tr><td><code id="relist_+3A_use.names">use.names</code></td>
<td>
<p>logical.  Should names be preserved?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Some functions need many parameters, which are most easily represented in
complex structures, e.g., nested lists.  Unfortunately, many
mathematical functions in <span class="rlang"><b>R</b></span>, including <code><a href="stats.html#topic+optim">optim</a></code> and
<code><a href="stats.html#topic+nlm">nlm</a></code> can only operate on functions whose domain is
a vector.  <span class="rlang"><b>R</b></span> has <code><a href="base.html#topic+unlist">unlist</a>()</code> to convert nested list
objects into a vector representation.  <code>relist()</code>, its methods and
the functionality mentioned here provide the inverse operation to convert
vectors back to the convenient structural representation.
This allows structured functions (such as <code>optim()</code>) to have simple
mathematical interfaces.
</p>
<p>For example, a likelihood function for a multivariate normal model needs a
variance-covariance matrix and a mean vector.  It would be most convenient to
represent it as a list containing a vector and a matrix.  A typical parameter
might look like
</p>
<pre>      list(mean = c(0, 1), vcov = cbind(c(1, 1), c(1, 0))).</pre>
<p>However, <code><a href="stats.html#topic+optim">optim</a></code> cannot operate on functions that take
lists as input; it only likes numeric vectors.  The solution is
conversion. Given a function <code>mvdnorm(x, mean, vcov, log = FALSE)</code>
which computes the required probability density, then
</p>
<pre>        ipar &lt;- list(mean = c(0, 1), vcov = c bind(c(1, 1), c(1, 0)))
        initial.param &lt;- as.relistable(ipar)

        ll &lt;- function(param.vector)
        {
           param &lt;- relist(param.vector, skeleton = ipar)
           -sum(mvdnorm(x, mean = param$mean, vcov = param$vcov,
                        log = TRUE))
        }

        optim(unlist(initial.param), ll)
</pre>
<p><code>relist</code> takes two parameters: skeleton and flesh.  Skeleton is a sample
object that has the right <code>shape</code> but the wrong content.  <code>flesh</code>
is a vector with the right content but the wrong shape.  Invoking
</p>
<pre>    relist(flesh, skeleton)</pre>
<p>will put the content of flesh on the skeleton.  You don't need to specify
skeleton explicitly if the skeleton is stored as an attribute inside flesh.
In particular, if flesh was created from some object obj with
<code>unlist(as.relistable(obj))</code>
then the skeleton attribute is automatically set.  (Note that this
does not apply to the example here, as <code><a href="stats.html#topic+optim">optim</a></code> is creating
a new vector to pass to <code>ll</code> and not its <code>par</code> argument.)
</p>
<p>As long as <code>skeleton</code> has the right shape, it should be an inverse
of <code><a href="base.html#topic+unlist">unlist</a></code>.  These equalities hold:
</p>
<pre>   relist(unlist(x), x) == x
   unlist(relist(y, skeleton)) == y

   x &lt;- as.relistable(x)
   relist(unlist(x)) == x
</pre>
<p>Note however that the relisted object might not be
<em><a href="base.html#topic+identical">identical</a></em> to the skeleton because of implicit coercions
performed during the unlisting step.  All elements of the relisted
objects have the same type as the unlisted object.  <code>NULL</code> values
are coerced to empty vectors of that type.
</p>


<h3>Value</h3>

<p>an object of (S3) class <code>"relistable"</code> (and <code>"<a href="base.html#topic+list">list</a>"</code>).
</p>


<h3>Author(s)</h3>

<p>R Core, based on a code proposal by Andrew Clausen.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+unlist">unlist</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'> ipar &lt;- list(mean = c(0, 1), vcov = cbind(c(1, 1), c(1, 0)))
 initial.param &lt;- as.relistable(ipar)
 ul &lt;- unlist(initial.param)
 relist(ul)
 stopifnot(identical(relist(ul), initial.param))
</code></pre>

<hr>
<h2 id='REMOVE'>Remove Add-on Packages</h2><span id='topic+REMOVE'></span>

<h3>Description</h3>

<p>Utility for removing add-on packages.</p>


<h3>Usage</h3>

<pre><code class='language-R'>R CMD REMOVE [options] [-l lib] pkgs
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="REMOVE_+3A_pkgs">pkgs</code></td>
<td>
<p>a space-separated list with the names of the packages to
be removed.</p>
</td></tr>
<tr><td><code id="REMOVE_+3A_lib">lib</code></td>
<td>
<p>the path name of the <span class="rlang"><b>R</b></span> library tree to remove from.  May
be absolute or relative.  Also accepted in the form &lsquo;<span class="samp">&#8288;--library=lib&#8288;</span>&rsquo;.</p>
</td></tr>
<tr><td><code id="REMOVE_+3A_options">options</code></td>
<td>
<p>further options for help or version.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If used as <code>R CMD REMOVE pkgs</code> without explicitly specifying
<code>lib</code>, packages are removed from the library tree rooted at the
first directory in the library path which would be used by <span class="rlang"><b>R</b></span> run in
the current environment.
</p>
<p>To remove from the library tree <code><var>lib</var></code> instead of the default
one, use <code>R CMD REMOVE -l lib <var>pkgs</var></code>.
</p>
<p>Use <code>R CMD REMOVE --help</code> for more usage information.
</p>


<h3>Note</h3>

<p>Some binary distributions of <span class="rlang"><b>R</b></span> have <code>REMOVE</code> in a separate
bundle, e.g. an <code>R-devel</code> RPM.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+INSTALL">INSTALL</a></code>, <code><a href="#topic+remove.packages">remove.packages</a></code>
</p>

<hr>
<h2 id='remove.packages'>Remove Installed Packages</h2><span id='topic+remove.packages'></span>

<h3>Description</h3>

<p>Removes installed packages/bundles and updates index information
as necessary.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>remove.packages(pkgs, lib)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="remove.packages_+3A_pkgs">pkgs</code></td>
<td>
<p>a character vector with the names of the packages to be removed.</p>
</td></tr>
<tr><td><code id="remove.packages_+3A_lib">lib</code></td>
<td>
<p>a character vector giving the library directories to remove the
packages from.  If missing, defaults to the first element in
<code><a href="base.html#topic+.libPaths">.libPaths</a>()</code>.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>On Unix-alikes,
<code><a href="#topic+REMOVE">REMOVE</a></code> for a command line version;
</p>
<p><code><a href="#topic+install.packages">install.packages</a></code> for installing packages.
</p>

<hr>
<h2 id='removeSource'>Remove Stored Source from a Function or Language Object</h2><span id='topic+removeSource'></span>

<h3>Description</h3>

<p>When <code>options("keep.source")</code> is <code>TRUE</code>, a copy of the
original source code to a function is stored with it.  Similarly,
<code><a href="base.html#topic+parse">parse</a>()</code> may keep formatted source for an expression.
Such source reference attributes are removed from the object by
<code>removeSource()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>removeSource(fn)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="removeSource_+3A_fn">fn</code></td>
<td>
<p>a <code><a href="base.html#topic+function">function</a></code> or another language object
(fulfilling <code><a href="base.html#topic+is.language">is.language</a></code>) from which to remove the
source.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This removes the <code>"srcref"</code> and related attributes, via
<em>recursive</em> cleaning of <code>body(fn)</code> in the case of a function
or the recursive language parts, otherwise.
</p>


<h3>Value</h3>

<p>A copy of the <code>fn</code> object with the source removed.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+is.language">is.language</a></code> about language objects.
</p>
<p><code><a href="base.html#topic+srcref">srcref</a></code> for a description of source reference records,
<code><a href="base.html#topic+deparse">deparse</a></code> for a description of how functions are deparsed.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## to make this act independently of the global 'options()' setting:
op &lt;- options(keep.source = TRUE)
fn &lt;- function(x) {
  x + 1 # A comment, kept as part of the source
}
fn
names(attributes(fn))       # "srcref" (only)
names(attributes(body(fn))) # "srcref" "srcfile" "wholeSrcref"
f2 &lt;- removeSource(fn)
f2
stopifnot(length(attributes(fn)) &gt; 0,
          is.null(attributes(f2)),
          is.null(attributes(body(f2))))

## Source attribute of parse()d expressions,
##	  have {"srcref", "srcfile", "wholeSrcref"} :
E  &lt;- parse(text ="a &lt;- x^y  # power")  ; names(attributes(E ))
E. &lt;- removeSource(E)                   ; names(attributes(E.))
stopifnot(length(attributes(E ))  &gt; 0,
          is.null(attributes(E.)))
options(op) # reset to previous state
</code></pre>

<hr>
<h2 id='RHOME'>R Home Directory</h2><span id='topic+RHOME'></span>

<h3>Description</h3>

<p>Returns the location of the <span class="rlang"><b>R</b></span> home directory, which is the root of
the installed <span class="rlang"><b>R</b></span> tree.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>R RHOME
</code></pre>

<hr>
<h2 id='roman'>Roman Numerals</h2><span id='topic+as.roman'></span><span id='topic+.romans'></span><span id='topic+Ops.roman'></span><span id='topic+Summary.roman'></span>

<h3>Description</h3>

<p>Simple manipulation of (a small set of) integer numbers as roman numerals.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.roman(x)
.romans

r1 + r2
r1 &lt;= r2
max(r1)
sum(r2)

</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="roman_+3A_x">x</code></td>
<td>
<p>a numeric or character vector of arabic or roman numerals.</p>
</td></tr>
<tr><td><code id="roman_+3A_r1">r1</code>, <code id="roman_+3A_r2">r2</code></td>
<td>
<p>a roman number vector, i.e., of <code><a href="base.html#topic+class">class</a></code>
<code>"roman"</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>as.roman</code> creates objects of class <code>"roman"</code> which are
internally represented as integers, and have suitable methods for
printing, formatting, subsetting, coercion, etc, see
<code><a href="#topic+methods">methods</a>(class = "roman")</code>.
</p>
<p>Arithmetic (<code>"<a href="methods.html#topic+Arith">Arith</a>"</code>), Comparison (<code>"<a href="methods.html#topic+Compare">Compare</a>"</code>)
and  (<code>"<a href="methods.html#topic+Logic">Logic</a>"</code>), i.e., all <code>"<a href="methods.html#topic+Ops">Ops</a>"</code> group
operations work as for regular numbers via <span class="rlang"><b>R</b></span>'s integer functionality.
</p>
<p>Only numbers between 1 and 3999 have a unique representation as roman
numbers, and hence others result in <code>as.roman(NA)</code>.
</p>
<p><code>.romans</code> is the basic dictionary, a named <code><a href="base.html#topic+character">character</a></code> vector.
</p>


<h3>References</h3>

<p>Wikipedia contributors (2024). Roman numerals.
Wikipedia, The Free Encyclopedia.
<a href="https://en.wikipedia.org/w/index.php?title=Roman_numerals&amp;oldid=1188781837">https://en.wikipedia.org/w/index.php?title=Roman_numerals&amp;oldid=1188781837</a>.
Accessed February 22, 2024.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## First five roman 'numbers'.
(y &lt;- as.roman(1 : 5))
## Middle one.
y[3]
## Current year as a roman number.
(y &lt;- as.roman(format(Sys.Date(), "%Y")))
## Today, and  10, 20, 30, and 100 years ago ...
y - 10*c(0:3,10)

## mixture of arabic and roman numbers :
as.roman(c(NA, 1:3, "", strrep("I", 1:6))) # + NA with a warning for "IIIIII"
cc &lt;- c(NA, 1:3, strrep("I", 0:5))
(rc &lt;- as.roman(cc)) # two NAs: 0 is not "roman"
(ic &lt;- as.integer(rc)) # works automatically [without an explicit method]
rNA &lt;- as.roman(NA)
## simple consistency checks -- arithmetic when result is in  {1,2,..,3999} :
stopifnot(identical(rc, as.roman(rc)), # as.roman(.) is "idempotent"
          identical(rc + rc + (3*rc), rc*5),
          identical(ic, c(NA, 1:3, NA, 1:5)),
          identical(as.integer(5*rc), 5L*ic),
          identical(as.numeric(rc), as.numeric(ic)),
          identical(rc[1], rNA),
          identical(as.roman(0), rNA),
          identical(as.roman(NA_character_), rNA),
          identical(as.list(rc), as.list(ic)))
## Non-Arithmetic 'Ops' :
stopifnot(exprs = {
        # Comparisons :
        identical(ic &lt; 1:5, rc &lt; 1:5)
        identical(ic &lt; 1:5, rc &lt; as.roman(1:5))
        # Logic  [integers |-&gt; logical] :
        identical(rc &amp; TRUE , ic &amp; TRUE)
        identical(rc &amp; FALSE, ic &amp; FALSE)
        identical(rc | FALSE, ic | FALSE)
        identical(rc | NA   , ic | NA)
})
## 'Summary' group functions (and comparison):
(rc. &lt;- rc[!is.na(rc)])
stopifnot(exprs = {
        identical(min(rc), as.roman(NA))
        identical(min(rc, na.rm=TRUE),
         as.roman(min(ic, na.rm=TRUE)))
        identical(range(rc.),
         as.roman(range(as.integer(rc.))))
        identical(sum (rc, na.rm=TRUE), as.roman("XXI"))
        identical(format(prod(rc, na.rm=TRUE)), "DCCXX")
        format(prod(rc.)) == "DCCXX"
})
</code></pre>

<hr>
<h2 id='Rprof'>Enable Profiling of R's Execution</h2><span id='topic+Rprof'></span>

<h3>Description</h3>

<p>Enable or disable profiling of the execution of <span class="rlang"><b>R</b></span> expressions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Rprof(filename = "Rprof.out", append = FALSE, interval = 0.02,
       memory.profiling = FALSE, gc.profiling = FALSE,
       line.profiling = FALSE, filter.callframes = FALSE,
       numfiles = 100L, bufsize = 10000L,
       event = c("default", "cpu", "elapsed"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Rprof_+3A_filename">filename</code></td>
<td>

<p>The file to be used for recording the profiling results.
Set to <code>NULL</code> or <code>""</code> to disable profiling.
</p>
</td></tr>
<tr><td><code id="Rprof_+3A_append">append</code></td>
<td>

<p>logical: should the file be over-written or appended to?
</p>
</td></tr>
<tr><td><code id="Rprof_+3A_interval">interval</code></td>
<td>

<p>real: distance (time interval) between samples in seconds.
</p>
</td></tr>
<tr><td><code id="Rprof_+3A_memory.profiling">memory.profiling</code></td>
<td>
<p>logical: write memory use information to the file?</p>
</td></tr>
<tr><td><code id="Rprof_+3A_gc.profiling">gc.profiling</code></td>
<td>
<p>logical:  record whether <abbr>GC</abbr> is running?</p>
</td></tr>
<tr><td><code id="Rprof_+3A_line.profiling">line.profiling</code></td>
<td>
<p>logical:  write line locations to the file?</p>
</td></tr>
<tr><td><code id="Rprof_+3A_filter.callframes">filter.callframes</code></td>
<td>
<p>logical: filter out intervening call frames
of the call tree. See the filtering out call frames section.</p>
</td></tr>
<tr><td><code id="Rprof_+3A_numfiles">numfiles</code>, <code id="Rprof_+3A_bufsize">bufsize</code></td>
<td>
<p>integers: line profiling memory allocation</p>
</td></tr>
<tr><td><code id="Rprof_+3A_event">event</code></td>
<td>

<p>character: profiling event, character vector of length one,
<code>"elapsed"</code> for elapsed (real, wall-clock) time and <code>"cpu"</code>
for CPU time, both measured in seconds. <code>"default"</code> is the default
event on the platform, one of the two. See the &lsquo;Details&rsquo;.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Enabling profiling automatically disables any existing profiling to
another or the same file.
</p>
<p>Profiling works by writing out the call stack every <code>interval</code>
seconds (units of the profiling event), to the file specified.  Either the
<code><a href="#topic+summaryRprof">summaryRprof</a></code> function or the wrapper script <code>R CMD
  Rprof</code> can be used to process the output file to produce a summary of the
usage; use <code>R CMD Rprof --help</code> for usage information.
</p>
<p>Exactly what is measured is subtle and depends on the profiling event.
</p>
<p>With <code>"elapsed"</code> (the default and only supported event on Windows): it
is time that the <span class="rlang"><b>R</b></span> process is running and executing an <span class="rlang"><b>R</b></span> command.  It is
not however just CPU time, for if <code>readline()</code> is waiting for input,
that counts as well.  It is also known as &lsquo;elapsed&rsquo; time.
</p>
<p>With <code>"cpu"</code> (the default on Unix and typically the preferred event
for identifying performance bottlenecks), it is CPU time of the <span class="rlang"><b>R</b></span> process,
so for example excludes time when <span class="rlang"><b>R</b></span> is waiting for input or for processes
run by <code><a href="base.html#topic+system">system</a></code> to return.  It may go slower than
<code>"elapsed"</code> when the process is often waiting for I/O to finish, but it
may go faster with actively computing concurrent threads (say via <abbr>OpenMP</abbr>)
on a multi-core system.
</p>
<p>Note that the (timing) interval cannot be too small.  With <code>"cpu"</code>,
the time spent in each profiling step is currently added to the interval. 
With all profiling events, the computation in each profiling step causes
perturbation to the observed system and biases the results.  What is
feasible is machine-dependent.  On Linux, R requires the interval to be at
least 10ms, on all other platforms at least 1ms.  Shorter intervals will
be rounded up with a warning.
</p>
<p>The <code>"default"</code> profiling event is <code>"elapsed"</code> on Windows and
<code>"cpu"</code> on Unix. 
</p>
<p>Support for <code>"elapsed"</code> event on Unix is new and considered
experimental.  To reduce the risk of missing a sample, R tries to use the
(real-time) FIFO scheduling policy with the maximum scheduling priority
for an internal thread which initiates collection of each sample.  If
setting that priority fails, it tries to use the maximum scheduling
priority of the current scheduling policy, falling back to the current
scheduling parameters.  On Linux, regular users are typically not allowed
to use the real-time scheduling priorities.  This can be usually allowed
via PAM (e.g.  &lsquo;<span class="file">/etc/security/limits.conf</span>&rsquo;), see the OS documentation
for details.  The priorities only matter when profiling a system under
high load.
</p>
<p>Functions will only be recorded in the profile log if they put a
context on the call stack (see <code><a href="base.html#topic+sys.calls">sys.calls</a></code>).  Some
<a href="base.html#topic+primitive">primitive</a> functions do not do so: specifically those which are
of <a href="base.html#topic+type">type</a> <code>"special"</code> (see the &lsquo;R Internals&rsquo; manual
for more details).
</p>
<p>Individual statements will be recorded in the profile log if
<code>line.profiling</code> is <code>TRUE</code>, and if the code being executed
was parsed with source references.  See <code><a href="base.html#topic+parse">parse</a></code> for a
discussion of source references.  By default the statement locations
are not shown in <code><a href="#topic+summaryRprof">summaryRprof</a></code>, but see that help page
for options to enable the display.
</p>


<h3>Filtering Out Call Frames</h3>

<p>Lazy evaluation makes the call stack more complex because intervening
call frames are created between the time arguments are applied to a
function, and the time they are effectively evaluated. When the call
stack is represented as a tree, these intervening frames appear as
sibling nodes. For instance, evaluating <code>try(EXPR)</code> produces the
following call tree, at the time <code>EXPR</code> gets evaluated:
</p>
<pre>
1. +-base::try(EXPR)
2. | \-base::tryCatch(...)
3. |   \-base:::tryCatchList(expr, classes, parentenv, handlers)
4. |     \-base:::tryCatchOne(expr, names, parentenv, handlers[[1L]])
5. |       \-base:::doTryCatch(return(expr), name, parentenv, handler)
6. \-EXPR
</pre>
<p>Lines 2 to 5 are intervening call frames, the last of which finally
triggered evaluation of <code>EXPR</code>. Setting <code>filter.callframes</code>
to <code>TRUE</code> simplifies the profiler output by removing all sibling
nodes of intervening frames.
</p>
<p>The same kind of call frame filtering is applied with <code>eval()</code>
frames.  When you call <code>eval()</code>, two frames are pushed on the
stack to ensure a continuity between frames. Say we have these
definitions:
</p>
<pre>
calling &lt;- function() evaluator(quote(called()), environment())
evaluator &lt;- function(expr, env) eval(expr, env)
called &lt;- function() EXPR()
</pre>
<p><code>calling()</code> calls <code>called()</code> in its own environment, via
<code>eval()</code>. The latter is called indirectly through
<code>evaluator()</code>. The net effect of this code is identical to just
calling <code>called()</code> directly, without the intermediaries. However,
the full call stack looks like this:
</p>
<pre>
1. calling()
2. \-evaluator(quote(called()), environment())
3.   \-base::eval(expr, env)
4.     \-base::eval(expr, env)
5.       \-called()
6.         \-EXPR()
</pre>
<p>When call frame filtering is turned on, the true calling environment
of <code>called()</code> is looked up, and the filtered call stack looks like
this:
</p>
<pre>
1. calling()
5. \-called()
6.   \-EXPR()
</pre>
<p>If the calling environment is not on the stack, the function called by
<code>eval()</code> becomes a root node. Say we have:
</p>
<pre>
calling &lt;- function() evaluator(quote(called()), new.env())
</pre>
<p>With call frame filtering we then get the following filtered call
stack:
</p>
<pre>
5. called()
6. \-EXPR()
</pre>


<h3>Note</h3>


<dl>
<dt>On Unix-alikes:</dt><dd>
<p>Profiling is not available on all platforms.  By default,
support for profiling is compiled in if possible &ndash; configure <span class="rlang"><b>R</b></span> with
<span class="option">--disable-R-profiling</span> to change this.
</p>
<p>As <span class="rlang"><b>R</b></span> CPU profiling uses the same mechanisms as C profiling, the two
cannot be used together, so do not use <code>Rprof(event = "cpu")</code>
(the default) in an executable built for C-level profiling (such as
using the GCC option <span class="option">-p</span> or <span class="option">-pg</span>).
</p>
</dd>
<dt>On Windows:</dt><dd>
<p><code>filename</code> can be a UTF-8-encoded filepath that cannot be translated to
the current locale.
</p>
</dd>
</dl>

<p>The profiler interrupts R asynchronously, and it cannot allocate
memory to store results as it runs.  This affects line profiling,
which needs to store an unknown number of file pathnames.  The
<code>numfiles</code> and <code>bufsize</code> arguments control the size of
pre-allocated buffers to hold these results:  the former counts the
maximum number of paths, the latter counts the numbers of bytes in
them.  If the profiler runs out of space it will skip recording the
line information for new files, and issue a warning when
<code>Rprof(NULL)</code> is called to finish profiling.
</p>


<h3>See Also</h3>

<p>The chapter on &ldquo;Tidying and profiling R code&rdquo; in
&lsquo;Writing R Extensions&rsquo;: <code><a href="#topic+RShowDoc">RShowDoc</a>("R-exts")</code>.
</p>
<p><code><a href="#topic+summaryRprof">summaryRprof</a></code> to analyse the output file.
</p>
<p><code><a href="base.html#topic+tracemem">tracemem</a></code>, <code><a href="#topic+Rprofmem">Rprofmem</a></code> for other ways to track
memory use.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: Rprof()
## some code to be profiled
Rprof(NULL)
## some code NOT to be profiled
Rprof(append = TRUE)
## some code to be profiled
Rprof(NULL)
## ...
## Now post-process the output as described in Details

## End(Not run)</code></pre>

<hr>
<h2 id='Rprofmem'>Enable Profiling of R's Memory Use</h2><span id='topic+Rprofmem'></span>

<h3>Description</h3>

<p>Enable or disable reporting of memory allocation in R.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Rprofmem(filename = "Rprofmem.out", append = FALSE, threshold = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Rprofmem_+3A_filename">filename</code></td>
<td>
<p>The file to be used for recording the memory
allocations. Set to <code>NULL</code> or <code>""</code> to disable reporting. </p>
</td></tr>
<tr><td><code id="Rprofmem_+3A_append">append</code></td>
<td>
<p>logical: should the file be over-written or appended to? </p>
</td></tr>
<tr><td><code id="Rprofmem_+3A_threshold">threshold</code></td>
<td>
<p>numeric: allocations on R's &quot;large vector&quot; heap
larger than this number of bytes will be reported.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Enabling profiling automatically disables any existing profiling to
another or the same file.
</p>
<p>Profiling writes the call stack to the specified file every time
<code>malloc</code> is called to allocate a large vector object or to
allocate a page of memory for small objects. The size of a page of
memory and the size above which <code>malloc</code> is used for vectors are
compile-time constants, by default 2000 and 128 bytes respectively.
</p>
<p>The profiler tracks allocations, some of which will be to previously
used memory and will not increase the total memory use of R.
</p>


<h3>Value</h3>

<p>None
</p>


<h3>Note</h3>

<p>The memory profiler slows down R even when not in use, and so is a
compile-time option.
(It is enabled in a standard Windows build of <span class="rlang"><b>R</b></span>.)
</p>
<p>The memory profiler can be used at the same time as other <span class="rlang"><b>R</b></span> and C profilers.
</p>


<h3>See Also</h3>

<p>The R sampling profiler, <code><a href="#topic+Rprof">Rprof</a></code> also collects
memory information.
</p>
<p><code><a href="base.html#topic+tracemem">tracemem</a></code> traces duplications of specific objects.
</p>
<p>The chapter on &lsquo;Tidying and profiling R code&rsquo;
in the &lsquo;Writing R Extensions&rsquo; manual.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## not supported unless R is compiled to support it.
Rprofmem("Rprofmem.out", threshold = 1000)
example(glm)
Rprofmem(NULL)
noquote(readLines("Rprofmem.out", n = 5))

## End(Not run)</code></pre>

<hr>
<h2 id='Rscript'>Scripting Front-End for R</h2><span id='topic+Rscript'></span>

<h3>Description</h3>

<p>This is an alternative front end for use in &lsquo;<span class="samp">&#8288;#!&#8288;</span>&rsquo; scripts and
other scripting applications.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Rscript [options] file [args]
Rscript [options] -e expr [-e expr2 ...] [args]
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Rscript_+3A_options">options</code></td>
<td>
<p>a list of options, all beginning with &lsquo;<span class="samp">&#8288;--&#8288;</span>&rsquo;.  These
can be any of the options of the standard <span class="rlang"><b>R</b></span> front-end, and also those
described in the details.</p>
</td></tr>
<tr><td><code id="Rscript_+3A_expr">expr</code>, <code id="Rscript_+3A_expr2">expr2</code></td>
<td>
<p><span class="rlang"><b>R</b></span> expression(s), properly quoted.</p>
</td></tr>
<tr><td><code id="Rscript_+3A_file">file</code></td>
<td>
<p>the name of a file containing <span class="rlang"><b>R</b></span> commands.  &lsquo;<span class="samp">&#8288;-&#8288;</span>&rsquo;
indicates &lsquo;<span class="file">stdin</span>&rsquo;.</p>
</td></tr>
<tr><td><code id="Rscript_+3A_args">args</code></td>
<td>
<p>arguments to be passed to the script in <code>file</code> or
expressions supplied via <span class="option">-e</span>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>Rscript --help</code> gives details of usage, and
<code>Rscript --version</code> gives the version of <code>Rscript</code>.
</p>
<p>Other invocations invoke the <span class="rlang"><b>R</b></span> front-end with selected options.  This
front-end is convenient for writing &lsquo;<span class="samp">&#8288;#!&#8288;</span>&rsquo; scripts since it is an
executable and takes <code>file</code> directly as an argument.  Options
<span class="option">--no-echo --no-restore</span> are always supplied: these imply
<span class="option">--no-save</span>. Arguments that contain spaces cannot be specified
directly on the &lsquo;<span class="samp">&#8288;#!&#8288;</span>&rsquo; line, because spaces and tabs are interpreted as
delimiters and there is no way to protect them from this interpretation on
the &lsquo;<span class="samp">&#8288;#!&#8288;</span>&rsquo; line. (The standard Windows command line has no concept
of &lsquo;<span class="samp">&#8288;#!&#8288;</span>&rsquo; scripts, but Cygwin shells do.)
</p>
<p><em>Either</em> one or more <span class="option">-e</span> options or <code>file</code> should
be supplied.  When using <span class="option">-e</span> options be aware of the quoting
rules in the shell used: see the examples.
</p>
<p>The prescribed order of arguments is important: e.g.  <span class="option">--verbose</span>
specified after <span class="option">-e</span> will be part of <code>args</code> and passed to the
expression; the same will happen to <span class="option">-e</span> specified after
<code>file</code>.
</p>
<p>Additional options accepted as part of <code>options</code> (before <code>file</code>
or <span class="option">-e</span>) are
</p>

<dl>
<dt><span class="option">--verbose</span></dt><dd><p>gives details of what <code>Rscript</code> is
doing.</p>
</dd>
<dt><span class="option">--default-packages=list</span></dt><dd><p>where <code>list</code> is a
comma-separated list of package names or <code>NULL</code>.  Sets the
environment variable <span class="env">R_DEFAULT_PACKAGES</span> which determines the
packages loaded on startup.
</p>
</dd>
</dl>

<p>Spaces are allowed in <code>expr</code> and <code>file</code> (but will need
to be protected from the shell in use, if any, for example by
enclosing the argument in quotes).
</p>
<p>If <span class="option">--default-packages</span> is not used, then <code>Rscript</code>
checks the environment variable <span class="env">R_SCRIPT_DEFAULT_PACKAGES</span>. If
this is set, then it takes precedence over <span class="env">R_DEFAULT_PACKAGES</span>.
</p>
<p>Normally the version of <span class="rlang"><b>R</b></span> is determined at installation, but this can
be overridden by setting the environment variable <span class="env">RHOME</span>.
</p>
<p><code><a href="base.html#topic+stdin">stdin</a>()</code> refers to the input file, and
<code><a href="base.html#topic+file">file</a>("stdin")</code> to the <code>stdin</code> file stream of the
process.
</p>


<h3>Note</h3>

<p><code>Rscript</code> is only supported on systems with the <code>execv</code>
system call.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
Rscript -e 'date()' -e 'format(Sys.time(), "%a %b %d %X %Y")'
# Get the same initial packages in the same order as default R:
Rscript --default-packages=methods,datasets,utils,grDevices,graphics,stats -e 'sessionInfo()'

## example #! script for a Unix-alike
## (arguments given on the #! line end up as [options] to Rscript, while
## arguments passed to the #! script end up as [args], so available to
## commandArgs())
#! /path/to/Rscript --vanilla --default-packages=utils
args &lt;- commandArgs(TRUE)
res &lt;- try(install.packages(args))
if(inherits(res, "try-error")) q(status=1) else q()


## End(Not run)</code></pre>

<hr>
<h2 id='RShowDoc'>Show R Manuals and Other Documentation</h2><span id='topic+RShowDoc'></span>

<h3>Description</h3>

<p>Utility function to find and display <span class="rlang"><b>R</b></span> documentation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>RShowDoc(what, type = c("pdf", "html", "txt"), package)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="RShowDoc_+3A_what">what</code></td>
<td>
<p>a character string: see &lsquo;Details&rsquo;.</p>
</td></tr>
<tr><td><code id="RShowDoc_+3A_type">type</code></td>
<td>
<p>an optional character string giving the preferred format.
Can be abbreviated.</p>
</td></tr>
<tr><td><code id="RShowDoc_+3A_package">package</code></td>
<td>
<p>an optional character string specifying the name of a
package within which to look for documentation.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>what</code> can specify one of several different sources of documentation,
including the <span class="rlang"><b>R</b></span> manuals (<code>R-admin</code>, <code>R-data</code>, <code>R-exts</code>,
<code>R-intro</code>, <code>R-ints</code>, <code>R-lang</code>), <code>NEWS</code>,
<code>COPYING</code> (the GPL licence), any of the licenses in
&lsquo;<span class="file">share/licenses</span>&rsquo;, <code>FAQ</code> (also available as
<code>R-FAQ</code>), and the files in &lsquo;<span class="file"><var><a href="base.html#topic+R_HOME">R_HOME</a></var>/doc</span>&rsquo;.
</p>
<p>Only on Windows, the <span class="rlang"><b>R</b></span> for Windows FAQ is specified by <code>rw-FAQ</code>.
</p>
<p>If <code>package</code> is supplied, documentation is looked for in the
&lsquo;<span class="file">doc</span>&rsquo; and top-level directories of an installed package of that name.
</p>
<p>If <code>what</code> is missing a brief usage message is printed.
</p>
<p>The documentation types are tried in turn starting with the first
specified in <code>type</code> (or <code>"pdf"</code> if none is specified).
</p>


<h3>Value</h3>

<p>A invisible character string given the path to the file found.
</p>


<h3>See Also</h3>

<p>For displaying regular help files, <code><a href="#topic+help">help</a></code> (or
<code><a href="#topic++3F">?</a></code>) and <code><a href="#topic+help.start">help.start</a></code>.
</p>
<p>For <code>type = "txt"</code>, <code><a href="base.html#topic+file.show">file.show</a></code> is used.
<code><a href="#topic+vignette">vignette</a></code>s are nicely viewed via <code>RShowDoc(*, package= . )</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
RShowDoc("R-lang")
RShowDoc("FAQ", type = "html")
RShowDoc("frame", package = "grid")
RShowDoc("changes.txt", package = "grid")
RShowDoc("NEWS", package = "MASS")
</code></pre>

<hr>
<h2 id='RSiteSearch'>
Search for Key Words or Phrases in Documentation
</h2><span id='topic+RSiteSearch'></span>

<h3>Description</h3>

<p>Search for key words or phrases in various documentation, such as
R manuals, help pages of base and CRAN packages, vignettes, task views and others, using the search engine
at <a href="https://search.r-project.org">https://search.r-project.org</a> and view them in a web browser.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>RSiteSearch(string,
            restrict = c("functions", "descriptions", "news", "Rfunctions",
                         "Rmanuals", "READMEs", "views", "vignettes"),
            format,
            sortby = c("score", "date:late", "date:early", "subject",
                       "subject:descending", "size", "size:descending"),
            matchesPerPage = 20,
            words = c("all", "any"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="RSiteSearch_+3A_string">string</code></td>
<td>
<p>A character string specifying word(s) or phrase(s) to
search. If the words are to be searched as one entity, enclose them
either in (escaped) quotes or in braces.</p>
</td></tr>
<tr><td><code id="RSiteSearch_+3A_restrict">restrict</code></td>
<td>
<p>A character vector, typically of length greater than one.
Values can be abbreviated.
Possible areas to search in:
<code>functions</code> for help pages of CRAN packages,
<code>descriptions</code> for extended descriptions of CRAN packages,
<code>news</code> for package NEWS,
<code>Rfunctions</code> for help pages of R base packages,
<code>Rmanuals</code> for R manuals,
<code>READMEs</code> for &lsquo;<span class="file">README</span>&rsquo; files of CRAN packages,
<code>views</code> for task views,
<code>vignettes</code> for package vignettes.</p>
</td></tr>
<tr><td><code id="RSiteSearch_+3A_format">format</code></td>
<td>
<p>deprecated.</p>
</td></tr>
<tr><td><code id="RSiteSearch_+3A_sortby">sortby</code></td>
<td>
<p>character string (can be abbreviated) indicating how to
sort the search results:<br />
(<code>score</code>,
<code>date:late</code> for sorting by date with latest results first,
<code>date:early</code> for earliest first,
<code>subject</code> for captions in alphabetical order,
<code>subject:descending</code> for reverse alphabetical order,
<code>size</code> or <code>size:descending</code> for size.)</p>
</td></tr>
<tr><td><code id="RSiteSearch_+3A_matchesperpage">matchesPerPage</code></td>
<td>
<p>How many items to show per page.</p>
</td></tr>
<tr><td><code id="RSiteSearch_+3A_words">words</code></td>
<td>
<p>Show results matching <code>all</code> words/phrases (default) or <code>any</code> of them.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is designed to work with the search site at
<a href="https://search.r-project.org">https://search.r-project.org</a>.
</p>
<p>Unique partial matches will work for all arguments.  Each new
browser window will stay open unless you close it.
</p>


<h3>Value</h3>

<p>(Invisibly) the complete URL passed to the browser,
including the query string.
</p>


<h3>Author(s)</h3>

<p>Andy Liaw and Jonathan Baron and Gennadiy Starostin</p>


<h3>See Also</h3>

<p><code><a href="#topic+help.search">help.search</a></code>, <code><a href="#topic+help.start">help.start</a></code> for local searches.
</p>
<p><code><a href="#topic+browseURL">browseURL</a></code> for how the help file is displayed.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># need Internet connection
## for phrase searching you may use (escaped) double quotes or brackets
RSiteSearch("{logistic regression} \"glm object\"")
RSiteSearch('"logistic regression"')

## Search in vignettes and help files of R base packages
## store the query string:
fullquery &lt;- RSiteSearch("lattice", restrict = c("vignettes","Rfunctions"))
fullquery # a string of 112 characters

</code></pre>

<hr>
<h2 id='rtags'> An Etags-like Tagging Utility for R </h2><span id='topic+rtags'></span>

<h3>Description</h3>

<p><code>rtags</code> provides etags-like indexing capabilities for R code,
using R's own parser.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rtags(path = ".", pattern = "\\.[RrSs]$",
      recursive = FALSE,
      src = list.files(path = path, pattern = pattern,
                       full.names = TRUE,
                       recursive = recursive),
      keep.re = NULL,
      ofile = "", append = FALSE,
      verbose = getOption("verbose"),
      type = c("etags", "ctags"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rtags_+3A_path">path</code>, <code id="rtags_+3A_pattern">pattern</code>, <code id="rtags_+3A_recursive">recursive</code></td>
<td>

<p>Arguments passed on to <code><a href="base.html#topic+list.files">list.files</a></code> to determine the
files to be tagged.  By default, these are all files with extension
&lsquo;<span class="file">.R</span>&rsquo;, &lsquo;<span class="file">.r</span>&rsquo;, &lsquo;<span class="file">.S</span>&rsquo;, and &lsquo;<span class="file">.s</span>&rsquo; in the current
directory.  These arguments are ignored if <code>src</code> is specified.
</p>
</td></tr>
<tr><td><code id="rtags_+3A_src">src</code></td>
<td>

<p>A vector of file names to be indexed.
</p>
</td></tr>
<tr><td><code id="rtags_+3A_keep.re">keep.re</code></td>
<td>
<p> A regular expression further restricting <code>src</code>
(the files to be indexed).  For example, specifying
<code>keep.re = "/R/[^/]*\\.R$"</code> will only retain files with
extension &lsquo;<span class="file">.R</span>&rsquo; inside a directory named &lsquo;<span class="file">R</span>&rsquo;.
</p>
</td></tr>
<tr><td><code id="rtags_+3A_ofile">ofile</code></td>
<td>
<p> Passed on to <code><a href="base.html#topic+cat">cat</a></code> as the <code>file</code>
argument; typically the output file where the tags will be written
(<code>"TAGS"</code> or <code>"tags"</code> by convention).  By default, the
output is written to the R console (unless redirected).
</p>
</td></tr>
<tr><td><code id="rtags_+3A_append">append</code></td>
<td>
<p> Logical, indicating whether the output should overwrite
an existing file, or append to it.
</p>
</td></tr>
<tr><td><code id="rtags_+3A_verbose">verbose</code></td>
<td>
<p> Logical.  If <code>TRUE</code>, file names are echoed to the
R console as they are processed.
</p>
</td></tr>
<tr><td><code id="rtags_+3A_type">type</code></td>
<td>
<p> Character string specifying whether emacs style
(<code>"etags"</code>) or vi style (<code>"ctags"</code>) tags are to be
generated.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Many text editors allow definitions of functions and other language
objects to be quickly and easily located in source files through a
tagging utility.  This functionality requires the relevant source
files to be preprocessed, producing an index (or tag) file containing
the names and their corresponding locations.  There are multiple tag
file formats, the most popular being the vi-style ctags format and the
and emacs-style etags format.  Tag files in these formats are usually
generated by the <code>ctags</code> and <code>etags</code> utilities respectively.
Unfortunately, these programs do not recognize R code syntax.  They do
allow tagging of arbitrary language files through regular expressions,
but this too is insufficient.
</p>
<p>The <code>rtags</code> function is intended to be a tagging utility for R
code.  It parses R code files (using R's parser) and produces tags in
both etags and ctags formats.  The support for vi-style ctags is
rudimentary, and was adapted from a patch by Neal Fultz; see
<a href="https://bugs.R-project.org/show_bug.cgi?id=17214">PR#17214</a>.
</p>
<p>It may be more convenient to use the command-line wrapper script
<code>R CMD rtags</code>.
</p>


<h3>Author(s)</h3>

<p>Deepayan Sarkar</p>


<h3>References</h3>

<p><a href="https://en.wikipedia.org/wiki/Ctags">https://en.wikipedia.org/wiki/Ctags</a>,
<a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Tags-Tables.html">https://www.gnu.org/software/emacs/manual/html_node/emacs/Tags-Tables.html</a>
</p>


<h3>See Also</h3>

 <p><code><a href="base.html#topic+list.files">list.files</a></code>, <code><a href="base.html#topic+cat">cat</a></code> </p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
rtags("/path/to/src/repository",
      pattern = "[.]*\\.[RrSs]$",
      keep.re = "/R/",
      verbose = TRUE,
      ofile = "TAGS",
      append = FALSE,
      recursive = TRUE)

## End(Not run)

</code></pre>

<hr>
<h2 id='Rtangle'>R Driver for <code>Stangle</code></h2><span id='topic+Rtangle'></span><span id='topic+RtangleSetup'></span>

<h3>Description</h3>

<p>A driver for <code><a href="#topic+Stangle">Stangle</a></code> that extracts <span class="rlang"><b>R</b></span> code chunks.
Notably all <code>RtangleSetup()</code> arguments may be used as arguments
in the <code><a href="#topic+Stangle">Stangle</a>()</code> call.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Rtangle()
RtangleSetup(file, syntax, output = NULL, annotate = TRUE,
             split = FALSE, quiet = FALSE, drop.evalFALSE = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Rtangle_+3A_file">file</code></td>
<td>
<p>name of Sweave source file.  See the description of the
corresponding argument of <code><a href="#topic+Sweave">Sweave</a></code>.</p>
</td></tr>
<tr><td><code id="Rtangle_+3A_syntax">syntax</code></td>
<td>
<p>an object of class <code>SweaveSyntax</code>.</p>
</td></tr>
<tr><td><code id="Rtangle_+3A_output">output</code></td>
<td>
<p>name of output file used unless <code>split = TRUE</code>:
see &lsquo;Details&rsquo;.</p>
</td></tr>
<tr><td><code id="Rtangle_+3A_annotate">annotate</code></td>
<td>
<p>a logical or <code><a href="base.html#topic+function">function</a></code>.  When true, as by
default, code chunks are separated by comment lines specifying the
names and line numbers of the code chunks.
If <code>FALSE</code> the decorating comments are omitted.  Alternatively,
<code>annotate</code> may be a function, see section &lsquo;Chunk annotation&rsquo;.</p>
</td></tr>
<tr><td><code id="Rtangle_+3A_split">split</code></td>
<td>
<p>split output into a file for each code chunk?</p>
</td></tr>
<tr><td><code id="Rtangle_+3A_quiet">quiet</code></td>
<td>
<p>logical to suppress all progress messages.</p>
</td></tr>
<tr><td><code id="Rtangle_+3A_drop.evalfalse">drop.evalFALSE</code></td>
<td>
<p>logical; When false, as by default, all chunks with
option <code>eval = FALSE</code> are <em>commented out</em> in the output;
otherwise (<code>drop.evalFALSE = TRUE</code>) they are omitted entirely.</p>
</td></tr>
<tr><td><code id="Rtangle_+3A_...">...</code></td>
<td>
<p>additional named arguments setting defaults for further
options listed in &lsquo;Supported Options&rsquo;.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Unless <code>split = TRUE</code>, the default name of the output file is
<code>basename(file)</code> with an extension corresponding to the Sweave
syntax (e.g., &lsquo;<span class="file">Rnw</span>&rsquo;, &lsquo;<span class="file">Stex</span>&rsquo;) replaced by &lsquo;<span class="file">R</span>&rsquo;.  File
names <code>"stdout"</code> and <code>"stderr"</code> are interpreted as the
output and message connection respectively.
</p>
<p>If splitting is selected (including by the options in the file), each
chunk is written to a separate file with extension the name of the
&lsquo;engine&rsquo; (default &lsquo;<span class="file">.R</span>&rsquo;).
</p>
<p>Note that this driver does more than simply extract the code chunks verbatim,
because chunks may re-use earlier chunks.
</p>


<h3>Chunk annotation (<code>annotate</code>)</h3>

<p>By default <code>annotate = TRUE</code>, the annotation is of one of the forms
</p>
<pre>###################################################
### code chunk number 3: viewport
###################################################

###################################################
### code chunk number 18: grid.Rnw:647-648
###################################################

###################################################
### code chunk number 19: trellisdata (eval = FALSE)
###################################################
</pre>
<p>using either the chunk label (if present, i.e., when specified in the
source) or the file name and line numbers.
</p>
<p><code>annotate</code> may be a function with formal arguments
<code>(options, chunk, output)</code>, e.g. to produce less dominant chunk
annotations; see <code>Rtangle()$runcode</code> how it is called instead of
the default.
</p>


<h3>Supported Options</h3>

<p><code>Rtangle</code> supports the following options for code chunks (the
values in parentheses show the default values):
</p>

<dl>
<dt>engine:</dt><dd><p>character string (<code>"R"</code>).  Only chunks with
<code>engine</code> equal to <code>"R"</code> or <code>"S"</code> are processed.</p>
</dd>
<dt>keep.source:</dt><dd><p>logical (<code>TRUE</code>).  If
<code>keep.source == TRUE</code> the original source is copied to the
file.  Otherwise, deparsed source is output.</p>
</dd>
<dt>eval:</dt><dd><p>logical (<code>TRUE</code>).  If <code>FALSE</code>, the code chunk
is copied across but commented out.</p>
</dd>
<dt>prefix</dt><dd><p>Used if <code>split = TRUE</code>.  See <code>prefix.string</code>.</p>
</dd>
<dt>prefix.string:</dt><dd><p>a character string, default is the name of the
source file (without extension).  Used if <code>split = TRUE</code> as
the prefix for the filename if the chunk has no label, or if it
has a label and <code>prefix = TRUE</code>.  Note that this is used as
part of filenames, so needs to be portable.</p>
</dd>
<dt>show.line.nos</dt><dd><p>logical (<code>FALSE</code>).  Should the output be
annotated with comments showing the line number of the first code line
of the chunk?</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Friedrich Leisch and R-core.</p>


<h3>See Also</h3>

<p>&lsquo;<a href="../doc/Sweave.pdf">Sweave User Manual</a>&rsquo;, a vignette in
the <span class="pkg">utils</span> package.
</p>
<p><code><a href="#topic+Sweave">Sweave</a></code>, <code><a href="#topic+RweaveLatex">RweaveLatex</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>nmRnw &lt;- "example-1.Rnw"
exfile &lt;- system.file("Sweave", nmRnw, package = "utils")
## Create R source file
Stangle(exfile)
nmR &lt;- sub("Rnw$", "R", nmRnw) # the (default) R output file name
if(interactive()) file.show("example-1.R")

## Smaller R source file with custom annotation:
my.Ann &lt;- function(options, chunk, output) {
  cat("### chunk #", options$chunknr, ": ",
      if(!is.null(ol &lt;- options$label)) ol else .RtangleCodeLabel(chunk),
      if(!options$eval) " (eval = FALSE)", "\n",
      file = output, sep = "")
}
Stangle(exfile, annotate = my.Ann)
if(interactive()) file.show("example-1.R")

Stangle(exfile, annotate = my.Ann, drop.evalFALSE=TRUE)
if(interactive()) file.show("example-1.R")

</code></pre>

<hr>
<h2 id='RweaveLatex'>R/LaTeX Driver for Sweave</h2><span id='topic+RweaveLatex'></span><span id='topic+RweaveLatexSetup'></span>

<h3>Description</h3>

<p>A driver for <code><a href="#topic+Sweave">Sweave</a></code> that translates <span class="rlang"><b>R</b></span> code chunks in
LaTeX files by &ldquo;running them&rdquo;, i.e., <code><a href="base.html#topic+parse">parse</a>()</code> and
<code><a href="base.html#topic+eval">eval</a>()</code> each.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>RweaveLatex()

RweaveLatexSetup(file, syntax, output = NULL, quiet = FALSE,
                 debug = FALSE, stylepath, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="RweaveLatex_+3A_file">file</code></td>
<td>
<p>Name of Sweave source file.  See the description of the
corresponding argument of <code><a href="#topic+Sweave">Sweave</a></code>.</p>
</td></tr>
<tr><td><code id="RweaveLatex_+3A_syntax">syntax</code></td>
<td>
<p>An object of class <code>SweaveSyntax</code>.</p>
</td></tr>
<tr><td><code id="RweaveLatex_+3A_output">output</code></td>
<td>
<p>Name of output file.  The default is to remove extension
&lsquo;<span class="file">.nw</span>&rsquo;, &lsquo;<span class="file">.Rnw</span>&rsquo; or &lsquo;<span class="file">.Snw</span>&rsquo; and to add
extension &lsquo;<span class="file">.tex</span>&rsquo;.  Any directory paths in
<code>file</code> are also removed such that the output is
created in the current working directory.</p>
</td></tr>
<tr><td><code id="RweaveLatex_+3A_quiet">quiet</code></td>
<td>
<p>If <code>TRUE</code> all progress messages are suppressed.</p>
</td></tr>
<tr><td><code id="RweaveLatex_+3A_debug">debug</code></td>
<td>
<p>If <code>TRUE</code>, input and output of all code
chunks is copied to the console.</p>
</td></tr>
<tr><td><code id="RweaveLatex_+3A_stylepath">stylepath</code></td>
<td>
<p>See &lsquo;Details&rsquo;.</p>
</td></tr>
<tr><td><code id="RweaveLatex_+3A_...">...</code></td>
<td>
<p>named values for the options listed in &lsquo;Supported
Options&rsquo;.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The LaTeX file generated needs to contain the line
&lsquo;<span class="samp">&#8288;\usepackage{Sweave}&#8288;</span>&rsquo;, and if this is not present in the
Sweave source file (possibly in a comment), it is inserted by the
<code>RweaveLatex</code> driver as last line before the &lsquo;<span class="samp">&#8288;\begin{document}&#8288;</span>&rsquo;
statement. If <code>stylepath = TRUE</code>, a hard-coded
path to the file &lsquo;<span class="file">Sweave.sty</span>&rsquo; in the <span class="rlang"><b>R</b></span> installation is set in
place of <code>Sweave</code>.  The hard-coded path makes the LaTeX file less
portable, but avoids the problem of installing the current version of
&lsquo;<span class="file">Sweave.sty</span>&rsquo; to some place in your TeX input path.  However, TeX
may not be able to process the hard-coded path if it contains spaces
(as it often will under Windows) or TeX special characters.
</p>
<p>The default for <code>stylepath</code> is now taken from the environment
variable <span class="env">SWEAVE_STYLEPATH_DEFAULT</span>, or is <code>FALSE</code> it that is
unset or empty.  If set, it should be exactly <code>TRUE</code> or
<code>FALSE</code>: any other values are taken as <code>FALSE</code>.
</p>
<p>The simplest way for frequent Sweave users to ensure that
&lsquo;<span class="file">Sweave.sty</span>&rsquo; is in the TeX input path is to add
&lsquo;<span class="file"><var>R_HOME</var>/share/texmf</span>&rsquo; as a &lsquo;texmf tree&rsquo; (&lsquo;root
directory&rsquo; in the parlance of the &lsquo;MiKTeX settings&rsquo; utility).
</p>
<p>By default, &lsquo;<span class="file">Sweave.sty</span>&rsquo; loads the &lsquo;<span class="samp">&#8288;graphicx&#8288;</span>&rsquo; LaTeX package
and sets the width of all included graphics to:<br />
&lsquo;<span class="samp">&#8288;\setkeys{Gin}{width=0.8\textwidth}&#8288;</span>&rsquo;.
</p>
<p>This setting (defined in the &lsquo;<span class="samp">&#8288;graphicx&#8288;</span>&rsquo; package)
affects the width size option passed to the
&lsquo;<span class="samp">&#8288;\includegraphics{}&#8288;</span>&rsquo; directive for each plot file and in turn
impacts the scaling of your plot files as they will appear in your
final document.
</p>
<p>Thus, for example, you may set <code>width=3</code> in your figure chunk and
the generated graphics files will be set to 3 inches in
width.  However, the width of your graphic in your final document will
be set to &lsquo;<span class="samp">&#8288;0.8\textwidth&#8288;</span>&rsquo; and the height dimension will be
scaled accordingly.  Fonts and symbols will be similarly scaled in the
final document.
</p>
<p>You can adjust the default value by including the
&lsquo;<span class="samp">&#8288;\setkeys{Gin}{width=...}&#8288;</span>&rsquo; directive in your &lsquo;<span class="file">.Rnw</span>&rsquo; file
after the &lsquo;<span class="samp">&#8288;\begin{document}&#8288;</span>&rsquo; directive and changing the
<code>width</code> option value as you prefer, using standard LaTeX
measurement values.
</p>
<p>If you wish to override this default behavior entirely, you can add a
&lsquo;<span class="samp">&#8288;\usepackage[nogin]{Sweave}&#8288;</span>&rsquo; directive in your preamble.  In this
case, no size/scaling options will be passed to the
&lsquo;<span class="samp">&#8288;\includegraphics{}&#8288;</span>&rsquo; directive and the <code>height</code> and
<code>width</code> options will determine both the runtime generated graphic
file sizes and the size of the graphics in your final document.
</p>
<p>&lsquo;<span class="file">Sweave.sty</span>&rsquo; also supports the &lsquo;<span class="samp">&#8288;[nofontenc]&#8288;</span>&rsquo; option, which
skips the default inclusion of &lsquo;<span class="samp">&#8288;\usepackage[T1]{fontenc}&#8288;</span>&rsquo;
for pdfTeX processing.
</p>
<p>It also supports the &lsquo;<span class="samp">&#8288;[inconsolata]&#8288;</span>&rsquo; option, to render monospaced
text in <code>inconsolata</code>, the font used by default for <span class="rlang"><b>R</b></span> help
pages.
</p>
<p>The use of fancy quotes (see <code><a href="base.html#topic+sQuote">sQuote</a></code>) can cause problems
when setting <span class="rlang"><b>R</b></span> output in non-UTF-8 locales (note that pdfTeX assumes
UTF-8 by default since 2018).  Either set
<code><a href="base.html#topic+options">options</a>(useFancyQuotes = FALSE)</code> or arrange that LaTeX
is aware of the encoding used and ensure that typewriter fonts
containing directional quotes are used.
</p>
<p>Some LaTeX graphics drivers do not include &lsquo;<span class="samp">&#8288;.png&#8288;</span>&rsquo; or &lsquo;<span class="samp">&#8288;.jpg&#8288;</span>&rsquo;
in the list of known extensions.  To enable them, add something like
&lsquo;<span class="samp">&#8288;\DeclareGraphicsExtensions{.png,.pdf,.jpg}&#8288;</span>&rsquo; to the preamble of
your document or check the behavior of your graphics driver.  When
both <code>pdf</code> and <code>png</code> are <code>TRUE</code> both files will be
produced by <code>Sweave</code>, and their order in the
&lsquo;<span class="samp">&#8288;DeclareGraphicsExtensions&#8288;</span>&rsquo; list determines which will be used by
<code>pdflatex</code>.
</p>


<h3>Supported Options</h3>

<p><code>RweaveLatex</code> supports the following options for code chunks (the
values in parentheses show the default values).  Character string
values should be quoted when passed from <code><a href="#topic+Sweave">Sweave</a></code> through
<code>...</code> but not when used in the header of a code chunk.
</p>

<dl>
<dt>engine:</dt><dd><p>character string (<code>"R"</code>).  Only chunks with
<code>engine</code> equal to <code>"R"</code> or <code>"S"</code> are processed.</p>
</dd>
<dt>echo:</dt><dd><p>logical (<code>TRUE</code>). Include <span class="rlang"><b>R</b></span> code in the output
file?</p>
</dd>
<dt>keep.source:</dt><dd><p>logical (<code>TRUE</code>).  When echoing, if
<code>TRUE</code> the original source is copied to the file.  Otherwise,
deparsed source is echoed.</p>
</dd> 
<dt>eval:</dt><dd><p>logical (<code>TRUE</code>).  If <code>FALSE</code>, the code chunk
is not evaluated, and hence no text nor graphical output
produced.</p>
</dd>
<dt>results:</dt><dd><p>character string (<code>"verbatim"</code>).  If
<code>"verbatim"</code>, the output of <span class="rlang"><b>R</b></span> commands is included in the
verbatim-like &lsquo;<span class="samp">&#8288;Soutput&#8288;</span>&rsquo; environment.  If <code>"tex"</code>, the
output is taken to be already proper LaTeX markup and included as
is.  If <code>"hide"</code> then all output is completely suppressed
(but the code executed during the weave).  Values can be abbreviated.</p>
</dd>
<dt>print:</dt><dd><p>logical (<code>FALSE</code>).  If <code>TRUE</code>, this forces
auto-printing of all expressions.</p>
</dd>
<dt>term:</dt><dd><p>logical (<code>TRUE</code>).  If <code>TRUE</code>, visibility of
values emulates an interactive <span class="rlang"><b>R</b></span> session: values of assignments
are not printed, values of single objects are printed.  If
<code>FALSE</code>, output comes only from explicit <code><a href="base.html#topic+print">print</a></code>
or similar statements.</p>
</dd>
<dt>split:</dt><dd><p>logical (<code>FALSE</code>).  If <code>TRUE</code>, text output
is written to separate files for each code chunk.</p>
</dd>
<dt>strip.white:</dt><dd><p>character string (<code>"true"</code>).  If
<code>"true"</code>, blank lines at the beginning and end of output are
removed.  If <code>"all"</code>, then all blank lines are removed from
the output.  If <code>"false"</code> then blank lines are retained.
</p>
<p>A &lsquo;blank line&rsquo; is one that is empty or includes only
whitespace (spaces and tabs).
</p>
<p>Note that blank lines in a code chunk will usually produce a
prompt string rather than a blank line on output.
</p>
</dd>
<dt>prefix:</dt><dd><p>logical (<code>TRUE</code>).  If <code>TRUE</code> generated
filenames of figures and output all have the common prefix given
by the <code>prefix.string</code> option: otherwise only unlabelled
chunks use the prefix.</p>
</dd>
<dt>prefix.string:</dt><dd><p>a character string, default is the name of the
source file (without extension).  Note that this is used as part
of filenames, so needs to be portable.</p>
</dd>
<dt>include:</dt><dd><p>logical (<code>TRUE</code>), indicating whether input
statements for text output (if <code>split = TRUE</code>) and
&lsquo;<span class="samp">&#8288;\includegraphics&#8288;</span>&rsquo; statements for figures should be
auto-generated.  Use <code>include = FALSE</code> if the output should
appear in a different place than the code chunk (by placing the
input line manually).</p>
</dd>
<dt>fig:</dt><dd><p>logical (<code>FALSE</code>), indicating whether the code
chunk produces graphical output.  Note that only one figure per
code chunk can be processed this way.  The labels for figure
chunks are used as part of the file names, so should preferably be
alphanumeric.</p>
</dd>
<dt>eps:</dt><dd><p>logical (<code>FALSE</code>), indicating whether EPS figures
should be generated.  Ignored if <code>fig = FALSE</code>.</p>
</dd>
<dt>pdf:</dt><dd><p>logical (<code>TRUE</code>), indicating whether PDF figures
should be generated.  Ignored if <code>fig = FALSE</code>.</p>
</dd>
<dt>pdf.version, pdf.encoding, pdf.compress:</dt><dd><p>passed to
<code><a href="grDevices.html#topic+pdf">pdf</a></code> to set the version, encoding and compression (or
not).  Defaults taken from <code>pdf.options()</code>.</p>
</dd>
<dt>png:</dt><dd><p>logical (<code>FALSE</code>), indicating whether PNG figures
should be generated.  Ignored if <code>fig = FALSE</code>.
Only available in <code class="reqn">\R \ge 2.13.0</code>.</p>
</dd>
<dt>jpeg:</dt><dd><p>logical (<code>FALSE</code>), indicating whether JPEG figures
should be generated.  Ignored if <code>fig = FALSE</code>.
Only available in <code class="reqn">\R \ge 2.13.0</code>.</p>
</dd>
<dt>grdevice:</dt><dd><p>character (<code>NULL</code>): see section
&lsquo;Custom Graphics Devices&rsquo;.  Ignored if <code>fig = FALSE</code>.
Only available in <code class="reqn">\R \ge 2.13.0</code>.</p>
</dd>
<dt>width:</dt><dd><p>numeric (6), width of figures in inches.  See
&lsquo;Details&rsquo;.</p>
</dd>
<dt>height:</dt><dd><p>numeric (6), height of figures in inches.  See
&lsquo;Details&rsquo;.</p>
</dd>
<dt>resolution:</dt><dd><p>numeric (300), resolution in pixels per inch:
used for PNG and JPEG graphics.  Note that the default is a fairly
high value, appropriate for high-quality plots.  Something like
<code>100</code> is a better choice for package vignettes.</p>
</dd>
<dt>concordance:</dt><dd><p>logical (<code>FALSE</code>).  Write a concordance
file to link the input line numbers to the output line numbers.</p>
</dd>
<dt>figs.only:</dt><dd><p>logical (<code>FALSE</code>).
By default each figure chunk is run once, then re-run for each
selected type of graphics.  That will open a default graphics
device for the first figure chunk and use that device for the first
evaluation of all subsequent chunks.  If this option is true, the
figure chunk is run only for each selected type of graphics, for
which a new graphics device is opened and then closed.</p>
</dd>
</dl>

<p>In addition, users can specify further options, either in the header
of an individual code section or in a &lsquo;<span class="samp">&#8288;\SweaveOpts{}&#8288;</span>&rsquo; line in
the document. For unknown options, their type is set at first use.
</p>


<h3>Custom Graphics Devices</h3>

<p>If option <code>grdevice</code> is supplied for a code chunk with both
<code>fig</code> and <code>eval</code> true, the following call is made
</p>
<pre>  get(options$grdevice, envir = .GlobalEnv)(name=, width=,
                                            height=, options)
</pre>
<p>which should open a graphics device.  The chunk's code is then
evaluated and <code><a href="grDevices.html#topic+dev.off">dev.off</a></code> is called.  Normally a function of
the name given will have been defined earlier in the Sweave document, e.g.
</p>
<pre>&lt;&lt;results=hide&gt;&gt;=
my.Swd &lt;- function(name, width, height, ...)
  grDevices::png(filename = paste(name, "png", sep = "."),
                 width = width, height = height, res = 100,
                 units = "in", type = "quartz", bg = "transparent")
@
</pre>
<p>Alternatively for <span class="rlang"><b>R</b></span> &gt;= 3.4.0, if the function exists in a package
(rather than the <code>.GlobalEnv</code>) it can be used by setting
<code>grdevice = "pkg::my.Swd"</code> (or with &lsquo;<span class="samp">&#8288;:::&#8288;</span>&rsquo; instead of
&lsquo;<span class="samp">&#8288;::&#8288;</span>&rsquo; if the function is not exported).
</p>
<p>Currently only one custom device can be used for each chunk, but
different devices can be used for different chunks.
</p>
<p>A replacement for <code><a href="grDevices.html#topic+dev.off">dev.off</a></code> can be provided as a function
with suffix <code>.off</code>, e.g. <code>my.Swd.off()</code> or
<code>pkg::my.Swd.off()</code>, respectively.
</p>


<h3>Hook Functions</h3>

<p>Before each code chunk is evaluated, zero or more hook functions can
be executed.  If <code>getOption("SweaveHooks")</code> is set, it is taken
to be a named list of hook functions.  For each <em>logical</em> option of a
code chunk (<code>echo</code>, <code>print</code>, ...) a hook can be
specified, which is executed if and only if the respective option is
<code>TRUE</code>.  Hooks must be named elements of the list returned by
<code>getOption("SweaveHooks")</code> and be functions taking no arguments.
E.g., if option <code>"SweaveHooks"</code> is defined as
<code>list(fig = foo)</code>, and <code>foo</code> is a function, then it would be
executed before the code in each figure chunk.  This is especially
useful to set defaults for the graphical parameters in a series of
figure chunks.
</p>
<p>Note that the user is free to define new Sweave logical options and
associate arbitrary hooks with them.  E.g., one could define a hook
function for a new option called <code>clean</code> that removes all objects
in the workspace.  Then all code chunks specified with
<code>clean = TRUE</code> would start operating on an empty workspace.
</p>


<h3>Author(s)</h3>

<p>Friedrich Leisch and R-core</p>


<h3>See Also</h3>

<p>&lsquo;<a href="../doc/Sweave.pdf">Sweave User Manual</a>&rsquo;, a vignette in
the <span class="pkg">utils</span> package.
</p>
<p><code><a href="#topic+Sweave">Sweave</a></code>, <code><a href="#topic+Rtangle">Rtangle</a></code>
</p>

<hr>
<h2 id='Rwin+20configuration'>R for Windows Configuration</h2><span id='topic+Rconsole'></span><span id='topic+Rdevga'></span><span id='topic+loadRconsole'></span>

<h3>Description</h3>

<p>The file &lsquo;<span class="file">Rconsole</span>&rsquo; configures the R GUI (<code>Rgui</code>) console
under MS Windows and <code>loadRconsole(*)</code> loads a new configuration.
</p>
<p>The file &lsquo;<span class="file">Rdevga</span>&rsquo; configures the graphics devices
<code><a href="grDevices.html#topic+windows">windows</a></code>, <code>win.graph</code>, <code>win.metafile</code> and
<code>win.print</code>, as well as the bitmap devices <code><a href="grDevices.html#topic+bmp">bmp</a></code>,
<code>jpeg</code>, <code>png</code> and <code>tiff</code> (which use for <code>type =
  "windows"</code> use <code>windows</code> internally).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>  loadRconsole(file)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Rwin+2B20configuration_+3A_file">file</code></td>
<td>
<p>The file from which to load a new &lsquo;<span class="file">Rconsole</span>&rsquo; configuration.
By default a file dialog is used to select a file. </p>
</td></tr>
</table>


<h3>Details</h3>

<p>There are system copies of these files in
&lsquo;<span class="file"><var><a href="base.html#topic+R_HOME">R_HOME</a></var>\etc</span>&rsquo;.  Users can have personal copies of
the files: these are looked for in the location given by the
environment variable <span class="env">R_USER</span>. The system files are read only if a
corresponding personal file is not found.
</p>
<p>If the environment variable <span class="env">R_USER</span> is not set, the <span class="rlang"><b>R</b></span> system
sets it to <span class="env">HOME</span> if that is set (stripping any trailing slash),
otherwise to the Windows &lsquo;personal&rsquo;  directory,
otherwise to <code>{HOMEDRIVE}{HOMEPATH}</code> if <code>HOMEDRIVE</code> and
<code>HOMEDRIVE</code> are both set
otherwise to the working directory.  This is as described in the file
&lsquo;<span class="file">rw-FAQ</span>&rsquo;.
</p>


<h3>Value</h3>

<p>Each of the files contains details in its comments of how to set the
values.
</p>
<p>At the time of writing &lsquo;<span class="file">Rdevga</span>&rsquo; configured the mapping of font
numbers to fonts, and &lsquo;<span class="file">Rconsole</span>&rsquo; configured the appearance
(single or multiple document interface, toolbar, status bar on MDI),
size, font and colours of the GUI console, and whether resizing the
console sets <code><a href="base.html#topic+options">options</a>("width")</code>.
</p>
<p>The file &lsquo;<span class="file">Rconsole</span>&rsquo; also configures the internal pager.  This
shares the font and colours of the console, but can be sized
separately.
</p>
<p>&lsquo;<span class="file">Rconsole</span>&rsquo; can also set the initial positions of the console and
the graphics device, as well as the size and position of the MDI
workspace in MDI mode.
</p>
<p><code>loadRconsole</code> is called for its side effect of loading new
defaults.  It returns no useful value.
</p>


<h3>Chinese/Japanese/Korean</h3>

<p>Users of these languages will need to select a suitable font for the
console (perhaps <code>MS Mincho</code>) and for the graphics device
(although the default <code>Arial</code> has many East Asian characters).
It is essential that the font selected for the console has
double-width East Asian characters &ndash; many monospaced fonts do not.
</p>


<h3>Note</h3>

<p>The <code>GUI preferences</code> item on the <code>Edit</code> menu brings up an
dialog box which can be used to edit the console settings, and to save them
to a file.
</p>
<p>This is only available on Windows.
</p>


<h3>Author(s)</h3>

<p>Guido Masarotto and R-core members
</p>


<h3>See Also</h3>

<p><code><a href="grDevices.html#topic+windows">windows</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>if(.Platform$OS.type == "windows") withAutoprint({
  ruser &lt;- Sys.getenv("R_USER")
  cat("\n\nLocation for personal configuration files is\n   R_USER = ",
      ruser, "\n\n", sep = "")
  ## see if there are personal configuration files
  file.exists(file.path(ruser, c("Rconsole", "Rdevga")))

  ## show the configuration files used
  showConfig &lt;- function(file)
  {
      ruser &lt;- Sys.getenv("R_USER")
      path &lt;- file.path(ruser, file)
      if(!file.exists(path)) path &lt;- file.path(R.home(), "etc", file)
      file.show(path, header = path)
  }
  showConfig("Rconsole")
})
</code></pre>

<hr>
<h2 id='savehistory'>Load or Save or Display the Commands History</h2><span id='topic+loadhistory'></span><span id='topic+savehistory'></span><span id='topic+history'></span><span id='topic+timestamp'></span>

<h3>Description</h3>

<p>Load or save or display the commands history.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>loadhistory(file = ".Rhistory")
savehistory(file = ".Rhistory")

history(max.show = 25, reverse = FALSE, pattern, ...)

timestamp(stamp = date(),
          prefix = "##------ ", suffix = " ------##",
          quiet = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="savehistory_+3A_file">file</code></td>
<td>
<p>The name of the file in which to save the history, or
from which to load it. The path is relative to the current
working directory.</p>
</td></tr>
<tr><td><code id="savehistory_+3A_max.show">max.show</code></td>
<td>
<p>The maximum number of lines to show. <code>Inf</code> will
give all of the currently available history.</p>
</td></tr>
<tr><td><code id="savehistory_+3A_reverse">reverse</code></td>
<td>
<p>logical. If true, the lines are shown in reverse
order. Note: this is not useful when there are continuation lines.</p>
</td></tr>
<tr><td><code id="savehistory_+3A_pattern">pattern</code></td>
<td>
<p>A character string to be matched against the lines of
the history.  When supplied, only <em>unique</em> matching lines are shown.</p>
</td></tr>
<tr><td><code id="savehistory_+3A_...">...</code></td>
<td>
<p>Arguments to be passed to <code><a href="base.html#topic+grep">grep</a></code> when doing
the matching.</p>
</td></tr>
<tr><td><code id="savehistory_+3A_stamp">stamp</code></td>
<td>
<p>A value or vector of values to be written into the history.</p>
</td></tr>
<tr><td><code id="savehistory_+3A_prefix">prefix</code></td>
<td>
<p>A prefix to apply to each line.</p>
</td></tr>
<tr><td><code id="savehistory_+3A_suffix">suffix</code></td>
<td>
<p>A suffix to apply to each line.</p>
</td></tr>
<tr><td><code id="savehistory_+3A_quiet">quiet</code></td>
<td>
<p>If <code>TRUE</code>, suppress printing timestamp to the console.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>There are several history mechanisms available for the different <span class="rlang"><b>R</b></span>
consoles, which work in similar but not identical ways.  Notably,
there are different implementations for Unix and Windows.
</p>

<dl>
<dt>Windows:</dt><dd>
<p>The functions described here work in <code>Rgui</code> and interactive
<code>Rterm</code> but not in batch use of <code>Rterm</code> nor in
embedded/<abbr>DCOM</abbr> versions.
</p>
</dd>
<dt>Unix-alikes:</dt><dd>
<p>The functions described here work under the
<code>readline</code> command-line interface but may not otherwise (for
example, in batch use or in an embedded application).  Note that <span class="rlang"><b>R</b></span>
can be built without <code>readline</code>.
</p>
<p><code>R.app</code>, the console on macOS, has a separate and largely
incompatible history mechanism, which by default uses a file
&lsquo;<span class="file">.Rapp.history</span>&rsquo; and saves up to 250 entries.  These functions are
not currently implemented there.
</p>
</dd>
</dl>

<p>The (<code>readline</code> on Unix-alikes) history mechanism
is controlled by two environment variables: <span class="env">R_HISTSIZE</span> controls
the number of lines that are saved (default 512), and <span class="env">R_HISTFILE</span>
(default &lsquo;<span class="file">.Rhistory</span>&rsquo;) sets the filename used for the
loading/saving of history if requested at the beginning/end of a
session (but not the default for
<code>loadhistory</code>/<code>savehistory</code>).  There is no limit on the
number of lines of history retained during a session, so setting
<span class="env">R_HISTSIZE</span> to a large value has no penalty unless a large file
is actually generated.
</p>
<p>These environment variables are read at the time of saving, so can be
altered within a session by the use of <code><a href="base.html#topic+Sys.setenv">Sys.setenv</a></code>.
</p>
<p>On Unix-alikes:
Note that <code>readline</code> history library saves files with permission
<code>0600</code>, that is with read/write permission for the user and not
even read permission for any other account.
</p>
<p>The <code>timestamp</code> function writes a timestamp (or other message)
into the history and echos it to the console.  On platforms that do not
support a history mechanism only the console message is printed.
</p>


<h3>Note</h3>

<p>If you want to save the history at the end of (almost) every
interactive session (even those in which you do not save the
workspace), you can put a call to <code>savehistory()</code> in
<code><a href="base.html#topic+.Last">.Last</a></code>.  See the examples.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## Save the history in the home directory: note that it is not
## (by default) read from there but from the current directory
.Last &lt;- function()
    if(interactive()) try(savehistory("~/.Rhistory"))

## End(Not run)</code></pre>

<hr>
<h2 id='select.list'>Select Items from a List</h2><span id='topic+select.list'></span>

<h3>Description</h3>

<p>Select item(s) from a character vector.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>select.list(choices, preselect = NULL, multiple = FALSE,
            title = NULL, graphics = getOption("menu.graphics"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="select.list_+3A_choices">choices</code></td>
<td>
<p>a character vector of items.</p>
</td></tr>
<tr><td><code id="select.list_+3A_preselect">preselect</code></td>
<td>
<p>a character vector, or <code>NULL</code>.  If non-null and
if the string(s) appear in the list, the item(s) are selected
initially.</p>
</td></tr>
<tr><td><code id="select.list_+3A_multiple">multiple</code></td>
<td>
<p>logical: can more than one item be selected?</p>
</td></tr>
<tr><td><code id="select.list_+3A_title">title</code></td>
<td>
<p>optional character string for window title, or
<code>NULL</code> for no title.</p>
</td></tr>
<tr><td><code id="select.list_+3A_graphics">graphics</code></td>
<td>
<p>logical: should a graphical widget be used?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The normal default is <code>graphics = TRUE</code>.
</p>

<dl>
<dt>On Windows,</dt><dd><p>this brings up a modal dialog box with a (scrollable) list
of items, which can be selected by the mouse.  If <code>multiple</code> is
true, further items can be selected or deselected by holding the
control key down whilst selecting, and shift-clicking can be used to
select ranges.
</p>
<p>Normal termination is via the &lsquo;OK&rsquo; button or by hitting Enter or
double-clicking an item.  Selection can be aborted via the
&lsquo;Cancel&rsquo; button or pressing Escape.</p>
</dd>
<dt>Under the macOS GUI,</dt><dd><p>this brings up a modal dialog box
with a (scrollable) list of items, which can be selected by the mouse.</p>
</dd>
<dt>On other Unix-like platforms</dt><dd><p>it will use a Tcl/Tk listbox
widget if possible.</p>
</dd>
</dl>

<p>If <code>graphics</code> is FALSE or no graphical widget is available it
displays a text list from which the user can choose by number(s). The
<code>multiple = FALSE</code> case uses <code><a href="#topic+menu">menu</a></code>.  Preselection is
only supported for <code>multiple = TRUE</code>, where it is indicated by a
<code>"+"</code> preceding the item.
</p>
<p>It is an error to use <code>select.list</code> in a non-interactive session.
</p>


<h3>Value</h3>

<p>A character vector of selected items.  If <code>multiple</code> is false and
no item was selected (or <code>Cancel</code> was used), <code>""</code> is
returned.   If <code>multiple</code> is true and no item was selected (or
<code>Cancel</code> was used) then a character vector of length 0 is returned.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+menu">menu</a></code>, <code><a href="tcltk.html#topic+tk_select.list">tk_select.list</a></code> for a graphical
version using Tcl/Tk.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
select.list(sort(.packages(all.available = TRUE)))

## End(Not run)</code></pre>

<hr>
<h2 id='sessionInfo'>Collect Information About the Current R Session</h2><span id='topic+sessionInfo'></span><span id='topic+osVersion'></span><span id='topic+toLatex.sessionInfo'></span><span id='topic+print.sessionInfo'></span>

<h3>Description</h3>

<p>Get and report version information about <span class="rlang"><b>R</b></span>, the OS and attached or
loaded packages.
</p>
<p>The <code><a href="base.html#topic+print">print</a>()</code> and <code><a href="#topic+toLatex">toLatex</a>()</code> methods (for a
<code>"sessionInfo"</code> object) show the locale and timezone information by
default, when <code>locale</code> or <code>tzone</code> are true.
The <code>system.codepage</code> is only shown when it is not empty, i.e., only
on Windows, <em>and</em> if it differs from <code>code.page</code>, see below or
<code><a href="base.html#topic+l10n_info">l10n_info</a>()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sessionInfo(package = NULL)
## S3 method for class 'sessionInfo'
print(x, locale = TRUE, tzone = locale,
      RNG = !identical(x$RNGkind, .RNGdefaults), ...)
## S3 method for class 'sessionInfo'
toLatex(object, locale = TRUE, tzone = locale,
        RNG = !identical(object$RNGkind, .RNGdefaults), ...)
osVersion
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sessionInfo_+3A_package">package</code></td>
<td>
<p>a character vector naming installed packages, or <code>NULL</code>
(the default) meaning all attached packages.</p>
</td></tr>
<tr><td><code id="sessionInfo_+3A_x">x</code></td>
<td>
<p>an object of class <code>"sessionInfo"</code>.</p>
</td></tr>
<tr><td><code id="sessionInfo_+3A_object">object</code></td>
<td>
<p>an object of class <code>"sessionInfo"</code>.</p>
</td></tr>
<tr><td><code id="sessionInfo_+3A_locale">locale</code></td>
<td>
<p>show locale, by default <code>tzone</code>, and (on Windows) code page information?</p>
</td></tr>
<tr><td><code id="sessionInfo_+3A_tzone">tzone</code></td>
<td>
<p>show time zone information?</p>
</td></tr>
<tr><td><code id="sessionInfo_+3A_rng">RNG</code></td>
<td>
<p>show information on <code><a href="base.html#topic+RNGkind">RNGkind</a>()</code>?  Defaults to true
iff it differs from the <span class="rlang"><b>R</b></span> version's default, i.e., <code><a href="base.html#topic+RNGversion">RNGversion</a>(*)</code>.</p>
</td></tr>
<tr><td><code id="sessionInfo_+3A_...">...</code></td>
<td>
<p>currently not used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>sessionInfo()</code> returns an object of class <code>"sessionInfo"</code>
which has <code>print</code> and
<code><a href="#topic+toLatex">toLatex</a></code> methods.  This is a list with components
</p>
<table>
<tr><td><code>R.version</code></td>
<td>
<p>a list, the result of calling <code><a href="base.html#topic+R.Version">R.Version</a>()</code>.</p>
</td></tr>
<tr><td><code>platform</code></td>
<td>
<p>a character string describing the platform <span class="rlang"><b>R</b></span> was
built under.  Where sub-architectures are in use this is of the form
&lsquo;<span class="samp">&#8288;platform/sub-arch&#8288;</span>&rsquo;: 32-bit builds have <code>(32-bit)</code> appended</p>
</td></tr>
<tr><td><code>running</code></td>
<td>
<p>a character string (or possibly <code>NULL</code>), the same
as <code>osVersion</code>, see below.</p>
</td></tr>
<tr><td><code>RNGkind</code></td>
<td>
<p>a character vector, the result of calling <code><a href="base.html#topic+RNGkind">RNGkind</a>()</code>.</p>
</td></tr>
<tr><td><code>matprod</code></td>
<td>
<p>a character string, the result of calling
<code><a href="base.html#topic+getOption">getOption</a>("matprod")</code>.</p>
</td></tr>
<tr><td><code>BLAS</code></td>
<td>
<p>a character string, the result of calling
<code><a href="base.html#topic+extSoftVersion">extSoftVersion</a>()["BLAS"]</code>.</p>
</td></tr>
<tr><td><code>LAPACK</code></td>
<td>
<p>a character string, the result of calling <code><a href="base.html#topic+La_library">La_library</a>()</code>.</p>
</td></tr>
<tr><td><code>LA_version</code></td>
<td>
<p>a character string, the result of calling <code><a href="base.html#topic+La_version">La_version</a>()</code>.</p>
</td></tr>
<tr><td><code>locale</code></td>
<td>
<p>a character string, the result of calling <code><a href="base.html#topic+Sys.getlocale">Sys.getlocale</a>()</code>.</p>
</td></tr>
<tr><td><code>tzone</code></td>
<td>
<p>a character string, the result of calling <code><a href="base.html#topic+Sys.timezone">Sys.timezone</a>()</code>.</p>
</td></tr>
<tr><td><code>tzcode_type</code></td>
<td>
<p>a character string indicating source
(system/internal) of the date-time conversion and printing functions.</p>
</td></tr>
<tr><td><code>basePkgs</code></td>
<td>
<p>a character vector of base packages which are attached.</p>
</td></tr>
<tr><td><code>otherPkgs</code></td>
<td>
<p>(not always present): a named list of the results of
calling <code><a href="#topic+packageDescription">packageDescription</a></code> on other
attached packages.</p>
</td></tr>
<tr><td><code>loadedOnly</code></td>
<td>
<p>(not always present): a named list of the results of
calling <code><a href="#topic+packageDescription">packageDescription</a></code> on packages whose
namespaces are loaded but are not attached.</p>
</td></tr>
</table>


<h3><code>osVersion</code></h3>

<p><code>osVersion</code> is a character string (or possibly <code>NULL</code> on
bizarre platforms) describing the OS and version which it is running
under (as distinct from built under).  This attempts to name a Linux
distribution and give the OS name on an Apple Mac.
</p>
<p>It is the same as <code>sessionInfo()$running</code>
and created when loading the <span class="pkg">utils</span> package.
</p>
<p>Windows may report unexpected versions: see the help for
<code><a href="#topic+win.version">win.version</a></code>.
</p>
<p>How OSes identify themselves and their versions can be arcane: where
possible <code>osVersion</code> (and hence <code>sessionInfo()$running</code>) uses
a human-readable form.
</p>
<p>Where <span class="rlang"><b>R</b></span> was compiled under macOS 10.x (as the <abbr>CRAN</abbr> Intel
distributions were prior to <span class="rlang"><b>R</b></span> 4.3.0) but running under &lsquo;Big
  Sur&rsquo; or later, macOS reports itself as &lsquo;<span class="samp">&#8288;10.16&#8288;</span>&rsquo; (which <span class="rlang"><b>R</b></span> 
recognizes as &lsquo;Big Sur ...&rsquo;) and not &lsquo;<span class="samp">&#8288;11&#8288;</span>&rsquo;, &lsquo;<span class="samp">&#8288;12&#8288;</span>&rsquo;, ....
</p>


<h3>Note</h3>

<p>The information on &lsquo;loaded&rsquo; packages and namespaces is the
<em>current</em> version installed at the location the package was
loaded from: it can be wrong if another process has been changing
packages during the session.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+R.version">R.version</a></code>, <code><a href="base.html#topic+R_compiled_by">R_compiled_by</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
sI &lt;- sessionInfo()
sI
# The same, showing the RNGkind, but not the locale :
  print(sI, RNG = TRUE, locale = FALSE)
toLatex(sI, locale = FALSE) # shortest; possibly desirable at end of report
</code></pre>

<hr>
<h2 id='setRepositories'>Select Package Repositories</h2><span id='topic+setRepositories'></span><span id='topic+R_REPOSITORIES'></span><span id='topic+R_BIOC_VERSION'></span>

<h3>Description</h3>

<p>Interact with the user to choose the package repositories to be used.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setRepositories(graphics = getOption("menu.graphics"),
                ind = NULL, addURLs = character(), name = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="setRepositories_+3A_graphics">graphics</code></td>
<td>
<p>Logical. If true, use a graphical list: on Windows or
macOS GUI use a list box, and on a Unix-alike if <span class="pkg">tcltk</span> and an X
server are available, use Tk widget. Otherwise use a text
<code><a href="#topic+menu">menu</a></code>.</p>
</td></tr>
<tr><td><code id="setRepositories_+3A_ind">ind</code></td>
<td>
<p><code>NULL</code> or a vector of integer indices, which have the
same effect as if they were entered at the prompt for
<code>graphics = FALSE</code>.</p>
</td></tr>
<tr><td><code id="setRepositories_+3A_name">name</code></td>
<td>
<p><code>NULL</code> or character vector of names of the
repositories in the repository table which has the same effect as
passing the corresponding indices to <code>ind</code>.</p>
</td></tr>
<tr><td><code id="setRepositories_+3A_addurls">addURLs</code></td>
<td>
<p>A character vector of additional URLs: it is often
helpful to use a named vector.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The default list of known repositories is stored in the file
&lsquo;<span class="file"><var><a href="base.html#topic+R_HOME">R_HOME</a></var>/etc/repositories</span>&rsquo;.
That file can be edited for a site, or a user can have a personal copy
in the file pointed to by the environment variable
<span class="env">R_REPOSITORIES</span>, or if this is unset, <code>NULL</code> or does not exist,
in &lsquo;<span class="file"><var>HOME</var>/.R/repositories</span>&rsquo;, which will take precedence.
</p>
<p>A Bioconductor mirror can be selected by setting
<code><a href="base.html#topic+options">options</a>("BioC_mirror")</code>, e.g. via
<code><a href="#topic+chooseBioCmirror">chooseBioCmirror</a></code> &mdash; the default value is
&lsquo;<span class="samp">&#8288;"https://bioconductor.org"&#8288;</span>&rsquo;.
This version of R chooses Bioconductor version 3.19 by default, but that can be changed via the environment variable
<span class="env">R_BIOC_VERSION</span>.
</p>
<p>The items that are preselected are those that are currently in
<code>options("repos")</code> plus those marked as default in the
list of known repositories.
</p>
<p>The list of repositories offered depends on the setting of option
<code>"pkgType"</code> as some repositories only offer a subset of types
(e.g., only source packages or not macOS binary packages).
Further, for binary packages some repositories (notably R-Forge) only
offer packages for the current or recent versions of <span class="rlang"><b>R</b></span>.
(Type <code>"both"</code> is equivalent to <code>"source"</code>.)
</p>
<p>Repository &lsquo;<span class="samp">&#8288;CRAN&#8288;</span>&rsquo; is treated specially: the value is taken from
the current setting of <code>getOption("repos")</code> if this has an
element <code>"CRAN"</code>: this ensures mirror selection is sticky.
</p>
<p>This function requires the <span class="rlang"><b>R</b></span> session to be interactive unless
<code>ind</code> or <code>name</code> is supplied. The latter overrides the former
if both are supplied and values are not case-sensitive. If any of the
supplied names does not match, an error is raised.
</p>


<h3>Value</h3>

<p>This function is invoked mainly for its side effect of updating
<code>options("repos")</code>.  It returns (invisibly) the previous
<code>repos</code> options setting (as a <code><a href="base.html#topic+list">list</a></code> with component
<code>repos</code>) or <code><a href="base.html#topic+NULL">NULL</a></code> if no changes were applied.
</p>


<h3>Note</h3>

<p>This does <strong>not</strong> set the list of repositories at startup: to do
so set <code><a href="base.html#topic+options">options</a>(repos =)</code> in a start up file (see help topic
<a href="base.html#topic+Startup">Startup</a>) or via a customized &lsquo;<span class="file">repositories</span>&rsquo; file.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+chooseCRANmirror">chooseCRANmirror</a></code>, <code><a href="#topic+chooseBioCmirror">chooseBioCmirror</a></code>,
<code><a href="#topic+install.packages">install.packages</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
setRepositories(addURLs =
                c(CRANxtras = "https://www.stats.ox.ac.uk/pub/RWin"))

## End(Not run)
oldrepos &lt;- setRepositories(name = c("CRAN", "R-Forge"))
getOption("repos")
options(oldrepos) # restore
</code></pre>

<hr>
<h2 id='setWindowTitle'>Set the Window Title or the Status Bar of the RGui in Windows</h2><span id='topic+setWindowTitle'></span><span id='topic+getWindowTitle'></span><span id='topic+getIdentification'></span><span id='topic+setStatusBar'></span>

<h3>Description</h3>

<p>Set or get the title of the <span class="rlang"><b>R</b></span> (i.e. <code>RGui</code>) window  which
will appear in the task bar, or set the status bar (if in use).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setWindowTitle(suffix, title = paste(getIdentification(), suffix))

getWindowTitle()

getIdentification()

setStatusBar(text)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="setWindowTitle_+3A_suffix">suffix</code></td>
<td>
<p>a character string to form part of the title</p>
</td></tr>
<tr><td><code id="setWindowTitle_+3A_title">title</code></td>
<td>
<p>a character string forming the complete new title</p>
</td></tr>
<tr><td><code id="setWindowTitle_+3A_text">text</code></td>
<td>
<p>a character string of up to 255 characters, to be
displayed in the status bar.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>setWindowTitle</code> appends <code>suffix</code> to the normal window
identification (<code>RGui</code>, <code>R Console</code> or
<code>Rterm</code>).  Use
<code>suffix = ""</code> to reset the title.
</p>
<p><code>getWindowTitle</code> gets the current title.
</p>
<p>This sets the title of the frame in MDI mode, the title of the console
for <code>RGui --sdi</code>, and the title of the window from which it was
launched for <code>Rterm</code>.
It has no effect in embedded uses of <span class="rlang"><b>R</b></span>.
</p>
<p><code>getIdentification</code> returns the normal window identification.
</p>
<p><code>setStatusBar</code> sets the text in the status bar of an MDI
frame: if this is not currently shown it is selected and shown.
</p>


<h3>Value</h3>

<p>The first three functions return a length 1 character vector.
</p>
<p><code>setWindowTitle</code> returns the previous window title (invisibly).
</p>
<p><code>getWindowTitle</code> and <code>getIdentification</code> return the current
window title and the normal window identification, respectively.
</p>


<h3>Note</h3>

<p>These functions are only available on Windows and only make sense when
using the <code>Rgui</code>.  E.g., in <code>Rterm</code> (and hence in <code>ESS</code>)
the title is not visible (but can be set and gotten), and in a version of
<code>RStudio</code> it has been <code>""</code>, invariably.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if(.Platform$OS.type == "windows") withAutoprint({
## show the current working directory in the title, saving the old one
oldtitle &lt;- setWindowTitle(getwd())
Sys.sleep(0.5)
## reset the title
setWindowTitle("")
Sys.sleep(0.5)
## restore the original title
setWindowTitle(title = oldtitle)
})
</code></pre>

<hr>
<h2 id='SHLIB'>Build Shared Object/DLL for Dynamic Loading</h2><span id='topic+SHLIB'></span>

<h3>Description</h3>

<p>Compile the given source files and then link all specified object
files into a shared object aka DLL which can be loaded into <span class="rlang"><b>R</b></span> using
<code>dyn.load</code> or <code>library.dynam</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>R CMD SHLIB [options] [-o dllname] files
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SHLIB_+3A_files">files</code></td>
<td>
<p>a list specifying the object files to be included in the
shared object/DLL.  You can also include the name of source files (for
which the object files are automagically made from their sources)
and library linking commands.
</p>
</td></tr>
<tr><td><code id="SHLIB_+3A_dllname">dllname</code></td>
<td>
<p>the full name of the shared object/DLL to be built,
including the extension (typically &lsquo;<span class="file">.so</span>&rsquo; on Unix systems, and
&lsquo;<span class="file">.dll</span>&rsquo; on Windows).  If not given, the basename of the object/DLL
is taken from the basename of the first file.</p>
</td></tr>
<tr><td><code id="SHLIB_+3A_options">options</code></td>
<td>
<p>Further options to control the processing.  Use
<code>R CMD SHLIB --help</code> for a current list.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>R CMD SHLIB</code> is the mechanism used by <code><a href="#topic+INSTALL">INSTALL</a></code> to
compile source code in packages.  It will generate suitable
compilation commands for C, C++, Objective C(++) and Fortran sources: Fortran
90/95 sources can also be used but it may not be possible to mix these
with other languages (on most platforms it is possible to mix with C,
but mixing with C++ rarely works).
</p>
<p>Please consult section &lsquo;Creating shared objects&rsquo; in the manual
&lsquo;Writing R Extensions&rsquo; for how to customize it (for example to
add <code>cpp</code> flags and to add libraries to the link step) and for
details of some of its quirks.
</p>
<p>Items in <code>files</code> with extensions &lsquo;<span class="file">.c</span>&rsquo;, &lsquo;<span class="file">.cpp</span>&rsquo;,
&lsquo;<span class="file">.cc</span>&rsquo;, &lsquo;<span class="file">.C</span>&rsquo;, &lsquo;<span class="file">.f</span>&rsquo;, &lsquo;<span class="file">.f90</span>&rsquo;, &lsquo;<span class="file">.f95</span>&rsquo;, &lsquo;<span class="file">.m</span>&rsquo;
(Objective-C), &lsquo;<span class="file">.M</span>&rsquo; and &lsquo;<span class="file">.mm</span>&rsquo; (Objective-C++) are regarded as source
files, and those with extension &lsquo;<span class="file">.o</span>&rsquo; as object files.  All other
items are passed to the linker.
</p>
<p>Objective C(++) support is optional when <span class="rlang"><b>R</b></span> was configured: their main
usage is on macOS.
</p>
<p>Note that the appropriate run-time libraries will be used when linking
if C++, Fortran or Objective C(++) sources are supplied, but not for
compiled object files from these languages.
</p>
<p>Option <span class="option">-n</span> (also known as <span class="option">--dry-run</span>) will show the
commands that would be run without actually executing them.
</p>


<h3>Note</h3>

<p>Some binary distributions of <span class="rlang"><b>R</b></span> have <code>SHLIB</code> in a separate
bundle, e.g., an <code>R-devel</code> RPM.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+COMPILE">COMPILE</a></code>,
<code><a href="base.html#topic+dyn.load">dyn.load</a></code>, <code><a href="base.html#topic+library.dynam">library.dynam</a></code>.
</p>
<p>The &lsquo;R Installation and Administration&rsquo; and
&lsquo;Writing R Extensions&rsquo; manuals, including the section on
&lsquo;Customizing package compilation&rsquo; in the former.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# To link against a library not on the system library paths:
R CMD SHLIB -o mylib.so a.f b.f -L/opt/acml3.5.0/gnu64/lib -lacml

## End(Not run)</code></pre>

<hr>
<h2 id='shortPathName'>Express File Paths in Short Form on Windows</h2><span id='topic+shortPathName'></span>

<h3>Description</h3>

<p>Convert file paths to the short form.  This is an interface to the
Windows API call <code>GetShortPathNameW</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>shortPathName(path)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="shortPathName_+3A_path">path</code></td>
<td>
<p>character vector of file paths.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For most file systems, the short form is the &lsquo;DOS&rsquo; form with
8+3 path components and no spaces, and this used to be guaranteed.
But some file systems on recent versions of Windows do not have short
path names when the long-name path will be returned instead.
</p>


<h3>Value</h3>

<p>A character vector.  The path separator will be &lsquo;<span class="samp">&#8288;\&#8288;</span>&rsquo;.  If a
file path does not exist, the supplied path will be returned with slashes
replaced by backslashes.
</p>


<h3>Note</h3>

<p>This is only available on Windows.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+normalizePath">normalizePath</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
if(.Platform$OS.type == "windows") withAutoprint({

  cat(shortPathName(c(R.home(), tempdir())), sep = "\n")

})
</code></pre>

<hr>
<h2 id='sourceutils'>
Source Reference Utilities
</h2><span id='topic+getSrcFilename'></span><span id='topic+getSrcDirectory'></span><span id='topic+getSrcref'></span><span id='topic+getSrcLocation'></span>

<h3>Description</h3>

<p>These functions extract information from source references.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getSrcFilename(x, full.names = FALSE, unique = TRUE)
getSrcDirectory(x, unique = TRUE)
getSrcref(x)
getSrcLocation(x, which = c("line", "column", "byte", "parse"),
               first = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sourceutils_+3A_x">x</code></td>
<td>

<p>An object (typically a function) containing source references.
</p>
</td></tr>
<tr><td><code id="sourceutils_+3A_full.names">full.names</code></td>
<td>

<p>Whether to include the full path in the filename result.
</p>
</td></tr>
<tr><td><code id="sourceutils_+3A_unique">unique</code></td>
<td>

<p>Whether to list only unique filenames/directories.
</p>
</td></tr>
<tr><td><code id="sourceutils_+3A_which">which</code></td>
<td>

<p>Which part of a source reference to extract.  Can be abbreviated.
</p>
</td></tr>
<tr><td><code id="sourceutils_+3A_first">first</code></td>
<td>

<p>Whether to show the first (or last) location of the object.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Each statement of a function will have its own source reference if the 
<code>"keep.source"</code> option is <code>TRUE</code>.  These functions retrieve
all of them. 
</p>
<p>The components are as follows:
</p>

<dl>
<dt>line</dt><dd><p>The line number where the object starts or ends.</p>
</dd>
<dt>column</dt><dd><p>The column number where the object starts or ends.
Horizontal tabs are converted to spaces.</p>
</dd>
<dt>byte</dt><dd><p>As for <code>"column"</code>, but counting bytes, which may
differ in case of multibyte characters (and horizontal tabs).</p>
</dd>
<dt>parse</dt><dd><p>As for <code>"line"</code>, but this ignores <code>#line</code> directives.</p>
</dd>
</dl>



<h3>Value</h3>

<p><code>getSrcFilename</code> and <code>getSrcDirectory</code> return character vectors
holding the filename/directory.
</p>
<p><code>getSrcref</code> returns a list of <code>"srcref"</code> objects or
<code>NULL</code> if there are none.
</p>
<p><code>getSrcLocation</code> returns an integer vector of the requested type
of locations.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+srcref">srcref</a></code>, <code><a href="#topic+getParseData">getParseData</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>fn &lt;- function(x) {
  x + 1 # A comment, kept as part of the source
}			

# Show the temporary file directory
# where the example was saved

getSrcDirectory(fn)
getSrcLocation(fn, "line")
</code></pre>

<hr>
<h2 id='stack'>Stack or Unstack Vectors from a Data Frame or List</h2><span id='topic+stack'></span><span id='topic+stack.default'></span><span id='topic+stack.data.frame'></span><span id='topic+unstack'></span><span id='topic+unstack.default'></span><span id='topic+unstack.data.frame'></span>

<h3>Description</h3>

<p>Stacking vectors concatenates multiple vectors into a single vector
along with a factor indicating where each observation originated.
Unstacking reverses this operation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stack(x, ...)
## Default S3 method:
stack(x, drop=FALSE, ...)
## S3 method for class 'data.frame'
stack(x, select, drop=FALSE, ...)

unstack(x, ...)
## Default S3 method:
unstack(x, form, ...)
## S3 method for class 'data.frame'
unstack(x, form, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stack_+3A_x">x</code></td>
<td>
<p>a list or data frame to be stacked or unstacked.</p>
</td></tr>
<tr><td><code id="stack_+3A_select">select</code></td>
<td>
<p>an expression, indicating which variable(s) to select from a
data frame.</p>
</td></tr>
<tr><td><code id="stack_+3A_form">form</code></td>
<td>
<p>a two-sided formula whose left side evaluates to the
vector to be unstacked and whose right side evaluates to the
indicator of the groups to create.  Defaults to <code><a href="stats.html#topic+formula">formula</a>(x)</code>
in the data frame method for <code>unstack</code>.</p>
</td></tr>
<tr><td><code id="stack_+3A_drop">drop</code></td>
<td>
<p>Whether to drop the unused levels from the &ldquo;ind&rdquo;
column of the return value.
</p>
</td></tr>
<tr><td><code id="stack_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>stack</code> function is used to transform data available as
separate columns in a data frame or list into a single column that can
be used in an analysis of variance model or other linear model.  The
<code>unstack</code> function reverses this operation.
</p>
<p>Note that <code>stack</code> applies to <em>vectors</em> (as determined by
<code><a href="base.html#topic+is.vector">is.vector</a></code>): non-vector columns (e.g., factors) will be
ignored with a warning.  Where vectors of different types are selected
they are concatenated by <code><a href="base.html#topic+unlist">unlist</a></code> whose help page explains
how the type of the result is chosen.
</p>
<p>These functions are generic: the supplied methods handle data frames
and objects coercible to lists by <code><a href="base.html#topic+as.list">as.list</a></code>.
</p>


<h3>Value</h3>

<p><code>unstack</code> produces a list of columns according to the formula
<code>form</code>.  If all the columns have the same length, the resulting
list is coerced to a data frame.
</p>
<p><code>stack</code> produces a data frame with two columns:
</p>
<table>
<tr><td><code>values</code></td>
<td>
<p>the result of concatenating the selected vectors in
<code>x</code>.</p>
</td></tr>
<tr><td><code>ind</code></td>
<td>
<p>a factor indicating from which vector in <code>x</code> the
observation originated.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Douglas Bates</p>


<h3>See Also</h3>

<p><code><a href="stats.html#topic+lm">lm</a></code>, <code><a href="stats.html#topic+reshape">reshape</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>require(stats)
formula(PlantGrowth)         # check the default formula
pg &lt;- unstack(PlantGrowth)   # unstack according to this formula
pg
stack(pg)                    # now put it back together
stack(pg, select = -ctrl)    # omitting one vector
</code></pre>

<hr>
<h2 id='str'>Compactly Display the Structure of an Arbitrary R Object</h2><span id='topic+str'></span><span id='topic+str.default'></span><span id='topic+str.data.frame'></span><span id='topic+strOptions'></span>

<h3>Description</h3>

<p>Compactly display the internal <b>str</b>ucture of an <span class="rlang"><b>R</b></span> object, a
diagnostic function and an alternative to <code><a href="base.html#topic+summary">summary</a></code>
(and to some extent, <code><a href="base.html#topic+dput">dput</a></code>).  Ideally, only one line for
each &lsquo;basic&rsquo; structure is displayed.  It is especially well suited
to compactly display the (abbreviated) contents of (possibly nested)
lists.  The idea is to give reasonable output for <b>any</b> <span class="rlang"><b>R</b></span>
object.  It calls <code><a href="base.html#topic+args">args</a></code> for (non-primitive) function objects.
</p>
<p><code>strOptions()</code> is a convenience function for setting
<code><a href="base.html#topic+options">options</a>(str = .)</code>, see the examples.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>str(object, ...)

## S3 method for class 'data.frame'
str(object, ...)

## Default S3 method:
str(object, max.level = NA,
    vec.len  = strO$vec.len, digits.d = strO$digits.d,
    nchar.max = 128, give.attr = TRUE,
    drop.deparse.attr = strO$drop.deparse.attr,
    give.head = TRUE, give.length = give.head,
    width = getOption("width"), nest.lev = 0,
    indent.str = paste(rep.int(" ", max(0, nest.lev + 1)),
                       collapse = ".."),
    comp.str = "$ ", no.list = FALSE, envir = baseenv(),
    strict.width = strO$strict.width,
    formatNum = strO$formatNum, list.len = strO$list.len,
    deparse.lines = strO$deparse.lines, ...)

strOptions(strict.width = "no", digits.d = 3, vec.len = 4,
           list.len = 99, deparse.lines = NULL,
           drop.deparse.attr = TRUE,
           formatNum = function(x, ...)
                       format(x, trim = TRUE, drop0trailing = TRUE, ...))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="str_+3A_object">object</code></td>
<td>
<p>any <span class="rlang"><b>R</b></span> object about which you want to have some
information.</p>
</td></tr>
<tr><td><code id="str_+3A_max.level">max.level</code></td>
<td>
<p>maximal level of nesting which is applied for
displaying nested structures, e.g., a list containing sub lists.
Default NA: Display all nesting levels.</p>
</td></tr>
<tr><td><code id="str_+3A_vec.len">vec.len</code></td>
<td>
<p>numeric (&gt;= 0) indicating how many &lsquo;first few&rsquo; elements
are displayed of each vector.  The number is multiplied by different
factors (from .5 to 3) depending on the kind of vector.  Defaults to
the <code>vec.len</code> component of option <code>"str"</code> (see
<code><a href="base.html#topic+options">options</a></code>) which defaults to 4.</p>
</td></tr>
<tr><td><code id="str_+3A_digits.d">digits.d</code></td>
<td>
<p>number of digits for numerical components (as for
<code><a href="base.html#topic+print">print</a></code>).  Defaults to the <code>digits.d</code> component of
option <code>"str"</code> which defaults to 3.</p>
</td></tr>
<tr><td><code id="str_+3A_nchar.max">nchar.max</code></td>
<td>
<p>maximal number of characters to show for
<code><a href="base.html#topic+character">character</a></code> strings.  Longer strings are truncated, see
<code>longch</code> example below.</p>
</td></tr>
<tr><td><code id="str_+3A_give.attr">give.attr</code></td>
<td>
<p>logical; if <code>TRUE</code> (default), show attributes
as sub structures.</p>
</td></tr>
<tr><td><code id="str_+3A_drop.deparse.attr">drop.deparse.attr</code></td>
<td>
<p>logical; if <code>TRUE</code> (default),
<code><a href="base.html#topic+deparse">deparse</a>(control = <var>control</var>)</code> will not have
<code>"showAttributes"</code> in <var>control</var>.  Used to be hard coded to
<code>FALSE</code> and hence can be set via <code>strOptions()</code> for back
compatibility.</p>
</td></tr>
<tr><td><code id="str_+3A_give.length">give.length</code></td>
<td>
<p>logical; if <code>TRUE</code> (default), indicate
length (as <code>[1:...]</code>).</p>
</td></tr>
<tr><td><code id="str_+3A_give.head">give.head</code></td>
<td>
<p>logical; if <code>TRUE</code> (default), give (possibly
abbreviated) mode/class and length (as <code><var>type</var>[1:...]</code>).</p>
</td></tr>
<tr><td><code id="str_+3A_width">width</code></td>
<td>
<p>the page width to be used.  The default is the currently
active <code><a href="base.html#topic+options">options</a>("width")</code>; note that this has only a
weak effect, unless <code>strict.width</code> is not <code>"no"</code>.</p>
</td></tr>
<tr><td><code id="str_+3A_nest.lev">nest.lev</code></td>
<td>
<p>current nesting level in the recursive calls to
<code>str</code>.</p>
</td></tr>
<tr><td><code id="str_+3A_indent.str">indent.str</code></td>
<td>
<p>the indentation string to use.</p>
</td></tr>
<tr><td><code id="str_+3A_comp.str">comp.str</code></td>
<td>
<p>string to be used for separating list components.</p>
</td></tr>
<tr><td><code id="str_+3A_no.list">no.list</code></td>
<td>
<p>logical; if true, no &lsquo;list of ...&rsquo; nor the
class are printed.</p>
</td></tr>
<tr><td><code id="str_+3A_envir">envir</code></td>
<td>
<p>the environment to be used for <em>promise</em> (see
<code><a href="base.html#topic+delayedAssign">delayedAssign</a></code>) objects only.</p>
</td></tr>
<tr><td><code id="str_+3A_strict.width">strict.width</code></td>
<td>
<p>string indicating if the <code>width</code> argument's
specification should be followed strictly, one of the values
<code>c("no", "cut", "wrap")</code>, which can be abbreviated.
Defaults to the <code>strict.width</code> component of option <code>"str"</code>
(see <code><a href="base.html#topic+options">options</a></code>) which defaults to <code>"no"</code> for back
compatibility reasons; <code>"wrap"</code> uses
<code><a href="base.html#topic+strwrap">strwrap</a>(*, width = width)</code> whereas <code>"cut"</code> cuts
directly to <code>width</code>.  Note that a small <code>vec.length</code>
may be better than setting <code>strict.width = "wrap"</code>.</p>
</td></tr>
<tr><td><code id="str_+3A_formatnum">formatNum</code></td>
<td>
<p>a function such as <code><a href="base.html#topic+format">format</a></code> for
formatting numeric vectors.  It defaults to the <code>formatNum</code>
component of option <code>"str"</code>, see &ldquo;Usage&rdquo; of
<code>strOptions()</code> above, which is almost back compatible to <span class="rlang"><b>R</b></span>
&lt;= 2.7.x, however, using <code><a href="base.html#topic+formatC">formatC</a></code> may be slightly better.</p>
</td></tr>
<tr><td><code id="str_+3A_list.len">list.len</code></td>
<td>
<p>numeric; maximum number of list elements to display
within a level.</p>
</td></tr>
<tr><td><code id="str_+3A_deparse.lines">deparse.lines</code></td>
<td>
<p>numeric or <code>NULL</code> as by default, determining the
<code>nlines</code> argument to <code><a href="base.html#topic+deparse">deparse</a>()</code> when <code>object</code> is
a <code><a href="base.html#topic+call">call</a></code>.  When <code>NULL</code>, the <code>nchar.max</code> and
<code>width</code> arguments are used to determine a smart default.</p>
</td></tr>
<tr><td><code id="str_+3A_...">...</code></td>
<td>
<p>potential further arguments (required for Method/Generic
reasons).</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>str</code> does not return anything, for efficiency reasons.
The obvious side effect is output to the terminal.
</p>


<h3>Note</h3>

<p>See the extensive annotated &lsquo;Examples&rsquo; below.
</p>
<p>The default method tries to &ldquo;work always&rdquo;, but needs to make some
assumptions for the case when <code>object</code> has a <code><a href="base.html#topic+class">class</a></code> but
no own <code>str()</code> method which is <em>the typical</em> case: There it
relies on <code>"<a href="Matrix.html#topic++5B">[</a>"</code> and <code>"<a href="base.html#topic++5B+5B">[[</a>"</code> subsetting methods to
be compatible with <code><a href="base.html#topic+length">length</a>()</code>.  When this is not the case, or
when <code>is.list(object)</code> is <code>TRUE</code>, but <code>length(object)</code>
differs from <code>length(<a href="base.html#topic+unclass">unclass</a>(object))</code> it treats it as
&ldquo;irregular&rdquo; and reports the contents of <code>unclass(object)</code>
as &ldquo;hidden list&rdquo;.
</p>


<h3>Author(s)</h3>

<p>Martin Maechler <a href="mailto:maechler@stat.math.ethz.ch">maechler@stat.math.ethz.ch</a> since 1990.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ls.str">ls.str</a></code> for <em>listing</em> objects with their structure;
<code><a href="base.html#topic+summary">summary</a></code>, <code><a href="base.html#topic+args">args</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>require(stats); require(grDevices); require(graphics)
## The following examples show some of 'str' capabilities
str(1:12)
str(ls)
str(args) #- more useful than  args(args) !
str(freeny)
str(str)
str(.Machine, digits.d = 20) # extra digits for identification of binary numbers
str( lsfit(1:9, 1:9))
str( lsfit(1:9, 1:9), max.level = 1)
str( lsfit(1:9, 1:9), width = 60, strict.width = "cut")
str( lsfit(1:9, 1:9), width = 60, strict.width = "wrap")
op &lt;- options(); str(op)   # save first;
                           # otherwise internal options() is used.
need.dev &lt;-
  !exists(".Device") || is.null(.Device) || .Device == "null device"
{ if(need.dev) pdf()
  str(par())
  if(need.dev) graphics.off()
}
ch &lt;- letters[1:12]; is.na(ch) &lt;- 3:5
str(ch) # character NA's

str(list(a = "A", L = as.list(1:100)), list.len = 9)
##                                     ------------
## " .. [list output truncated] "

## Long strings,   'nchar.max'; 'strict.width' :
nchar(longch &lt;- paste(rep(letters,100), collapse = ""))
str(longch)
str(longch, nchar.max = 52)
str(longch, strict.width = "wrap")

## Multibyte characters in strings:
## Truncation behavior (&lt;-&gt; correct width measurement) for "long" non-ASCII:
idx &lt;- c(65313:65338, 65345:65350)
fwch &lt;- intToUtf8(idx) # full width character string: each has width 2
ch &lt;- strtrim(paste(LETTERS, collapse="._"), 64)
(ncc &lt;- c(c.ch = nchar(ch),   w.ch = nchar(ch,   "w"),
          c.fw = nchar(fwch), w.fw = nchar(fwch, "w")))
stopifnot(unname(ncc) == c(64,64, 32, 64))
## nchar.max: 1st line needs an increase of  2  in order to see  1  (in UTF-8!):
invisible(lapply(60:66, function(N) str(fwch, nchar.max = N)))
invisible(lapply(60:66, function(N) str( ch , nchar.max = N))) # "1 is 1" here


## Settings for narrow transcript :
op &lt;- options(width = 60,
              str = strOptions(strict.width = "wrap"))
str(lsfit(1:9,1:9))
str(options())
## reset to previous:
options(op)



str(quote( { A+B; list(C, D) } ))


## S4 classes :
require(stats4)
x &lt;- 0:10; y &lt;- c(26, 17, 13, 12, 20, 5, 9, 8, 5, 4, 8)
ll &lt;- function(ymax = 15, xh = 6)
      -sum(dpois(y, lambda=ymax/(1+x/xh), log=TRUE))
fit &lt;- mle(ll)
str(fit)

</code></pre>

<hr>
<h2 id='strcapture'>Capture String Tokens into a data.frame</h2><span id='topic+strcapture'></span>

<h3>Description</h3>

<p>Given a character vector and a regular expression containing capture
expressions, <code>strcapture</code> will extract the captured tokens into a
tabular data structure, such as a data.frame, the type and structure of
which is specified by a prototype object. The assumption is that the
same number of tokens are captured from every input string. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>strcapture(pattern, x, proto, perl = FALSE, useBytes = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="strcapture_+3A_pattern">pattern</code></td>
<td>

<p>The regular expression with the capture expressions.
</p>
</td></tr>
<tr><td><code id="strcapture_+3A_x">x</code></td>
<td>

<p>A character vector in which to capture the tokens.
</p>
</td></tr>
<tr><td><code id="strcapture_+3A_proto">proto</code></td>
<td>

<p>A <code>data.frame</code> or S4 object that behaves like one. See details.
</p>
</td></tr>
<tr><td><code id="strcapture_+3A_perl">perl</code>, <code id="strcapture_+3A_usebytes">useBytes</code></td>
<td>

<p>Arguments passed to <code><a href="base.html#topic+regexec">regexec</a></code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>proto</code> argument is typically a <code>data.frame</code>, with a
column corresponding to each capture expression, in order. The
captured character vector is coerced to the type of the column, and
the column names are carried over to the return value. Any data in the
prototype are ignored. See the examples. 
</p>


<h3>Value</h3>

<p>A tabular data structure of the same type as <code>proto</code>, so
typically a <code>data.frame</code>, containing a column for each capture
expression. The column types and names are inherited from
<code>proto</code>. Cases in <code>x</code> that do not match <code>pattern</code> have
<code>NA</code> in every column.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+regexec">regexec</a></code> and <code><a href="base.html#topic+regmatches">regmatches</a></code> for related
low-level utilities.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- "chr1:1-1000"
pattern &lt;- "(.*?):([[:digit:]]+)-([[:digit:]]+)"
proto &lt;- data.frame(chr=character(), start=integer(), end=integer())
strcapture(pattern, x, proto)
</code></pre>

<hr>
<h2 id='summaryRprof'>Summarise Output of R Sampling Profiler</h2><span id='topic+summaryRprof'></span>

<h3>Description</h3>

<p>Summarise the output of the <code><a href="#topic+Rprof">Rprof</a></code> function to show the
amount of time used by different <span class="rlang"><b>R</b></span> functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>summaryRprof(filename = "Rprof.out", chunksize = 5000,
              memory = c("none", "both", "tseries", "stats"),
              lines = c("hide", "show", "both"),
              index = 2, diff = TRUE, exclude = NULL,
              basenames = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summaryRprof_+3A_filename">filename</code></td>
<td>
<p>Name of a file produced by <code>Rprof()</code>.</p>
</td></tr>
<tr><td><code id="summaryRprof_+3A_chunksize">chunksize</code></td>
<td>
<p>Number of lines to read at a time.</p>
</td></tr>
<tr><td><code id="summaryRprof_+3A_memory">memory</code></td>
<td>
<p>Summaries for memory information.  See &lsquo;Memory profiling&rsquo; below.   Can be abbreviated.</p>
</td></tr>
<tr><td><code id="summaryRprof_+3A_lines">lines</code></td>
<td>
<p>Summaries for line information.  See &lsquo;Line profiling&rsquo; below.   Can be abbreviated.</p>
</td></tr>
<tr><td><code id="summaryRprof_+3A_index">index</code></td>
<td>
<p>How to summarize the stack trace for memory
information.  See &lsquo;Details&rsquo; below.</p>
</td></tr>
<tr><td><code id="summaryRprof_+3A_diff">diff</code></td>
<td>
<p>If <code>TRUE</code> memory summaries use change in memory
rather than current memory.</p>
</td></tr>
<tr><td><code id="summaryRprof_+3A_exclude">exclude</code></td>
<td>
<p>Functions to exclude when summarizing the stack trace
for memory summaries.</p>
</td></tr>
<tr><td><code id="summaryRprof_+3A_basenames">basenames</code></td>
<td>
<p>Number of components of the path to filenames to display.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function provides the analysis code for <code><a href="#topic+Rprof">Rprof</a></code> files
used by <code>R CMD Rprof</code>.
</p>
<p>As the profiling output file could be larger than available memory, it
is read in blocks of <code>chunksize</code> lines.  Increasing <code>chunksize</code>
will make the function run faster if sufficient memory is available.
</p>


<h3>Value</h3>

<p>If <code>memory = "none"</code> and <code>lines = "hide"</code>, a list with components
</p>
<table>
<tr><td><code>by.self</code></td>
<td>
<p>A data frame of timings sorted by &lsquo;self&rsquo; time.</p>
</td></tr>
<tr><td><code>by.total</code></td>
<td>
<p>A data frame of timings sorted by &lsquo;total&rsquo; time.</p>
</td></tr>
<tr><td><code>sample.interval</code></td>
<td>
<p>The sampling interval.</p>
</td></tr>
<tr><td><code>sampling.time</code></td>
<td>
<p>Total time of profiling run.</p>
</td></tr>
</table>
<p>The first two components have columns &lsquo;<span class="samp">&#8288;self.time&#8288;</span>&rsquo;,
&lsquo;<span class="samp">&#8288;self.pct&#8288;</span>&rsquo;, &lsquo;<span class="samp">&#8288;total.time&#8288;</span>&rsquo; and &lsquo;<span class="samp">&#8288;total.pct&#8288;</span>&rsquo;, the times in
seconds and percentages of the total time spent executing code in that
function and code in that function or called from that function,
respectively.
</p>
<p>If <code>lines = "show"</code>, an additional component is added to the list:
</p>
<table>
<tr><td><code>by.line</code></td>
<td>
<p>A data frame of timings sorted by source location.</p>
</td></tr>
</table>
<p>If <code>memory = "both"</code> the same list but with memory consumption in Mb
in addition to the timings.
</p>
<p>If <code>memory = "tseries"</code> a data frame giving memory statistics over
time. Memory usage is in bytes.
</p>
<p>If <code>memory = "stats"</code> a <code><a href="base.html#topic+by">by</a></code> object giving memory statistics
by function. Memory usage is in bytes.
</p>
<p>If no events were recorded, a zero-row data frame is returned.
</p>


<h3>Memory profiling</h3>

<p>Options other than <code>memory = "none"</code> apply only to files produced
by <code><a href="#topic+Rprof">Rprof</a>(memory.profiling =  TRUE)</code>.
</p>
<p>When called with <code>memory.profiling = TRUE</code>, the profiler writes
information on three aspects of memory use: vector memory in small
blocks on the R heap, vector memory in large blocks (from
<code>malloc</code>), memory in nodes on the R heap.  It also records the number of
calls to the internal function <code>duplicate</code> in the time
interval.  <code>duplicate</code> is called by C code when arguments need to be
copied.  Note that the profiler does not track which function actually
allocated the memory.
</p>
<p>With <code>memory = "both"</code> the change in total memory (truncated at zero)
is reported in addition to timing data.
</p>
<p>With <code>memory = "tseries"</code> or <code>memory = "stats"</code> the <code>index</code>
argument specifies how to summarize the stack trace.  A positive number
specifies that many calls from the bottom of the stack; a negative
number specifies the number of calls from the top of the stack.  With
<code>memory = "tseries"</code> the index is used to construct labels and may be
a vector to give multiple sets of labels.  With <code>memory = "stats"</code> the
index must be a single number and specifies how to aggregate the data to
the maximum and average of the memory statistics.  With both
<code>memory = "tseries"</code> and <code>memory = "stats"</code> the argument
<code>diff = TRUE</code> asks for summaries of the increase in memory use over
the sampling interval and <code>diff = FALSE</code> asks for the memory use at
the end of the interval.
</p>


<h3>Line profiling</h3>

<p>If the code being run has source reference information retained (via
<code>keep.source = TRUE</code> in <code><a href="base.html#topic+source">source</a></code> or
<code>KeepSource = TRUE</code> in a package &lsquo;<span class="file">DESCRIPTION</span>&rsquo; file or
some other way), then information about the origin of lines is
recorded during profiling.  By default this is not displayed, but
the <code>lines</code> parameter can enable the display.
</p>
<p>If <code>lines = "show"</code>, line locations will be used in preference
to the usual function name information, and the results
will be displayed ordered by location in addition to the other orderings.
</p>
<p>If <code>lines = "both"</code>, line locations will be mixed with function
names in a combined display.  
</p>


<h3>See Also</h3>

<p>The chapter on &lsquo;Tidying and profiling R code&rsquo; in
&lsquo;Writing R Extensions&rsquo;: <code><a href="#topic+RShowDoc">RShowDoc</a>("R-exts")</code>.
</p>
<p><code><a href="#topic+Rprof">Rprof</a></code>
</p>
<p><code><a href="base.html#topic+tracemem">tracemem</a></code> traces copying of an object via the C function
<code>duplicate</code>.
</p>
<p><code><a href="#topic+Rprofmem">Rprofmem</a></code> is a non-sampling memory-use profiler.
</p>
<p><a href="https://developer.r-project.org/memory-profiling.html">https://developer.r-project.org/memory-profiling.html</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## Rprof() is not available on all platforms
Rprof(tmp &lt;- tempfile())
example(glm)
Rprof()
summaryRprof(tmp)
unlink(tmp)

## End(Not run)
</code></pre>

<hr>
<h2 id='Sweave'>Automatic Generation of Reports</h2><span id='topic+Sweave'></span><span id='topic+Stangle'></span><span id='topic+SweaveSyntaxLatex'></span><span id='topic+SweaveSyntaxNoweb'></span>

<h3>Description</h3>

<p><code>Sweave</code> provides a flexible framework for mixing text and R/S code
for automatic report generation.  The basic idea is to replace the
code with its output, such that the final document only contains the
text and the output of the statistical analysis: however, the source
code can also be included.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Sweave(file, driver = RweaveLatex(),
       syntax = getOption("SweaveSyntax"), encoding = "", ...)

Stangle(file, driver = Rtangle(),
        syntax = getOption("SweaveSyntax"), encoding = "", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Sweave_+3A_file">file</code></td>
<td>
<p>Path to Sweave source file.  Note that this can be
supplied without the extension, but the function will only proceed
if there is exactly one Sweave file in the directory whose
basename matches <code>file</code>.</p>
</td></tr>
<tr><td><code id="Sweave_+3A_driver">driver</code></td>
<td>
<p>the actual workhorse, (a function returning) a named
<code><a href="base.html#topic+list">list</a></code> of five functions; for details, see Section 5 of the
&lsquo;Sweave User Manual&rsquo; available as <code>vignette("Sweave")</code>.</p>
</td></tr>
<tr><td><code id="Sweave_+3A_syntax">syntax</code></td>
<td>
<p><code>NULL</code> or an object of class <code>"SweaveSyntax"</code> or
a character string with its name.
See the section &lsquo;Syntax Definition&rsquo;.</p>
</td></tr>
<tr><td><code id="Sweave_+3A_encoding">encoding</code></td>
<td>
<p>The default encoding to assume for <code>file</code>.</p>
</td></tr>
<tr><td><code id="Sweave_+3A_...">...</code></td>
<td>
<p>further arguments passed to the driver's setup function.
See <code><a href="#topic+RweaveLatexSetup">RweaveLatexSetup</a></code> and <code><a href="#topic+RtangleSetup">RtangleSetup</a></code>,
respectively, for the arguments of the default drivers.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>An Sweave source file contains both text in a markup language (like
LaTeX) and <span class="rlang"><b>R</b></span> (or S) code.  The code gets replaced by its output (text or
graphs) in the final markup file.  This allows a report to be re-generated
if the input data change and documents the code to reproduce the
analysis in the same file that also produces the report.
</p>
<p><code>Sweave</code> combines the documentation and code chunks (or
their output) into a single document.  <code>Stangle</code> extracts only
the code from the Sweave file creating an <span class="rlang"><b>R</b></span> source file that can be
run using <code><a href="base.html#topic+source">source</a></code>.  (Code inside <code>\Sexpr{}</code>
statements is ignored by <code>Stangle</code>.)
</p>
<p><code>Stangle</code> is just a wrapper to <code>Sweave</code> specifying a
different default driver.  Alternative drivers can be used and are
provided by various contributed packages.
</p>
<p>Environment variable <span class="env">SWEAVE_OPTIONS</span> can be used to override the
initial options set by the driver: it should be a comma-separated set
of <code>key=value</code> items, as would be used in a &lsquo;<span class="samp">&#8288;\SweaveOpts&#8288;</span>&rsquo;
statement in a document.
</p>
<p>If the <code>encoding</code> is unspecified (the default),
<em>non-ASCII</em> source files must contain a line of the form
</p>
<pre>  \usepackage[foo]{inputenc}</pre>
<p>(where &lsquo;<span class="samp">&#8288;foo&#8288;</span>&rsquo; is typically &lsquo;<span class="samp">&#8288;latin1&#8288;</span>&rsquo;, &lsquo;<span class="samp">&#8288;latin2&#8288;</span>&rsquo;, &lsquo;<span class="samp">&#8288;utf8&#8288;</span>&rsquo; or
&lsquo;<span class="samp">&#8288;cp1252&#8288;</span>&rsquo; or &lsquo;<span class="samp">&#8288;cp1250&#8288;</span>&rsquo;) or a comment line
</p>
<pre>  %\SweaveUTF8</pre>
<p>to declare UTF-8 input (the default encoding assumed by pdfTeX since 2018),
or they will give an error.
Re-encoding can be turned off completely with argument
<code>encoding = "bytes"</code>.
</p>


<h3>Syntax Definition</h3>

<p>Sweave allows a flexible syntax framework for marking
documentation and text chunks. The default is a noweb-style syntax, as
alternative a LaTeX-style syntax can be used.  (See the user manual for
further details.)
</p>
<p>If <code>syntax = NULL</code> (the default) then the available syntax
objects are consulted in turn, and selected if their <code>extension</code>
component matches (as a regexp) the file name.  Objects
<code>SweaveSyntaxNoweb</code> (with <code>extension = "[.][rsRS]nw$"</code>) and
<code>SweaveSyntaxLatex</code> (with <code>extension = "[.][rsRS]tex$"</code>) are
supplied, but users or packages can supply others with names matching
the pattern <code>SweaveSyntax.*</code>.
</p>


<h3>Author(s)</h3>

<p>Friedrich Leisch and R-core.
</p>


<h3>References</h3>

<p>Friedrich Leisch (2002)
Dynamic generation of statistical reports using literate data analysis.
In W. Härdle and B. Rönz, editors,
<em>Compstat 2002 - Proceedings in Computational Statistics</em>,
pages 575&ndash;580. Physika Verlag, Heidelberg, Germany, ISBN 3-7908-1517-9.
</p>


<h3>See Also</h3>

<p>&lsquo;<a href="../doc/Sweave.pdf">Sweave User Manual</a>&rsquo;, a vignette in
the <span class="pkg">utils</span> package.
</p>
<p><code><a href="#topic+RweaveLatex">RweaveLatex</a></code>, <code><a href="#topic+Rtangle">Rtangle</a></code>.
Alternative Sweave drivers are in, for example, packages
<span class="pkg">weaver</span> (Bioconductor), <a href="https://CRAN.R-project.org/package=R2HTML"><span class="pkg">R2HTML</span></a>, and <a href="https://CRAN.R-project.org/package=ascii"><span class="pkg">ascii</span></a>.
</p>
<p><code>tools::<a href="tools.html#topic+buildVignette">buildVignette</a></code> to process source files
using Sweave or alternative vignette processing engines.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>testfile &lt;- system.file("Sweave", "Sweave-test-1.Rnw", package = "utils")


## enforce par(ask = FALSE)
options(device.ask.default = FALSE)

## create a LaTeX file - in the current working directory, getwd():
Sweave(testfile)

## This can be compiled to PDF by
## tools::texi2pdf("Sweave-test-1.tex")

## or outside R by
##
## 	R CMD texi2pdf Sweave-test-1.tex
## on Unix-alikes which sets the appropriate TEXINPUTS path.
##
## On Windows,
##      Rcmd texify --pdf Sweave-test-1.tex
## if MiKTeX is available.

## create an R source file from the code chunks
Stangle(testfile)
## which can be sourced, e.g.
source("Sweave-test-1.R")


</code></pre>

<hr>
<h2 id='SweaveSyntConv'>Convert Sweave Syntax</h2><span id='topic+SweaveSyntConv'></span>

<h3>Description</h3>

<p>This function converts the syntax of files in <code><a href="#topic+Sweave">Sweave</a></code>
format to another Sweave syntax definition.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SweaveSyntConv(file, syntax, output = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SweaveSyntConv_+3A_file">file</code></td>
<td>
<p>Name of Sweave source file.</p>
</td></tr>
<tr><td><code id="SweaveSyntConv_+3A_syntax">syntax</code></td>
<td>
<p>An object of class <code>SweaveSyntax</code> or a character
string with its name giving the target syntax to which the file is
converted.</p>
</td></tr>
<tr><td><code id="SweaveSyntConv_+3A_output">output</code></td>
<td>
<p>Name of output file, default is to remove the extension
from the input file and to add the default extension of the target
syntax. Any directory names in <code>file</code> are also removed such
that the output is created in the current working directory.</p>
</td></tr></table>


<h3>Author(s)</h3>

<p>Friedrich Leisch</p>


<h3>See Also</h3>

<p>&lsquo;<a href="../doc/Sweave.pdf">Sweave User Manual</a>&rsquo;, a vignette in
the <span class="pkg">utils</span> package.
</p>
<p><code><a href="#topic+RweaveLatex">RweaveLatex</a></code>, <code><a href="#topic+Rtangle">Rtangle</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>testfile &lt;- system.file("Sweave", "Sweave-test-1.Rnw", package = "utils")


## convert the file to latex syntax
SweaveSyntConv(testfile, SweaveSyntaxLatex)

## and run it through Sweave
Sweave("Sweave-test-1.Stex")


</code></pre>

<hr>
<h2 id='SweaveUtils'>Sweave Driver Utilities</h2><span id='topic+RtangleWritedoc'></span><span id='topic+RweaveChunkPrefix'></span><span id='topic+RweaveEvalWithOpt'></span><span id='topic+RweaveLatexFinish'></span><span id='topic+RtangleFinish'></span><span id='topic+RweaveLatexOptions'></span><span id='topic+RweaveLatexWritedoc'></span><span id='topic+RweaveTryStop'></span><span id='topic+SweaveHooks'></span><span id='topic+SweaveUtils'></span><span id='topic+makeRweaveLatexCodeRunner'></span><span id='topic+RtangleRuncode'></span><span id='topic+.RtangleCodeLabel'></span>

<h3>Description</h3>

<p>These functions are handy for writing Sweave drivers and are
considered internal and hence not documented.  Look at the source code
of the Sweave LaTeX driver (in this
package) or the HTML driver (in the <span class="pkg">R2HTML</span> package from CRAN) to see
how they can be used.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>RtangleWritedoc(object, chunk)
RweaveChunkPrefix(options)
RweaveEvalWithOpt(expr, options)
RweaveLatexFinish(object, error = FALSE)
RtangleFinish(object, error = FALSE)
RweaveLatexOptions(options)
RweaveLatexWritedoc(object, chunk)
RweaveTryStop(err, options)
SweaveHooks(options, run = FALSE, envir = .GlobalEnv)
makeRweaveLatexCodeRunner(evalFunc = RweaveEvalWithOpt)
RtangleRuncode(object, chunk, options)
.RtangleCodeLabel(chunk)
</code></pre>


<h3>Author(s)</h3>

<p>Friedrich Leisch, with contributions by Seth Falcon</p>


<h3>See Also</h3>

<p>The <code><a href="#topic+Sweave">Sweave</a></code>, <code><a href="#topic+RweaveLatex">RweaveLatex</a></code> help pages.
</p>

<hr>
<h2 id='tar'>
Create a Tar Archive
</h2><span id='topic+tar'></span>

<h3>Description</h3>

<p>Create a tar archive.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tar(tarfile, files = NULL,
    compression = c("none", "gzip", "bzip2", "xz"),
    compression_level = 6, tar = Sys.getenv("tar"),
    extra_flags = "")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tar_+3A_tarfile">tarfile</code></td>
<td>
<p>The pathname of the tar file: tilde expansion (see
<code><a href="base.html#topic+path.expand">path.expand</a></code>) will be performed.  Alternatively, a
<a href="base.html#topic+connection">connection</a> that can be used for binary writes.</p>
</td></tr>
<tr><td><code id="tar_+3A_files">files</code></td>
<td>
<p>A character vector of filepaths to be archived:
the default is to archive all files under the current directory.</p>
</td></tr>
<tr><td><code id="tar_+3A_compression">compression</code></td>
<td>
<p>character string giving the type of compression to
be used (default none).  Can be abbreviated.</p>
</td></tr>
<tr><td><code id="tar_+3A_compression_level">compression_level</code></td>
<td>
<p>integer: the level of compression.  Only used
for the internal method.</p>
</td></tr>
<tr><td><code id="tar_+3A_tar">tar</code></td>
<td>
<p>character string: the path to the command to be used.  If
the command itself contains spaces it needs to be quoted (e.g., by
<code><a href="base.html#topic+shQuote">shQuote</a></code>) &ndash; but argument <code>tar</code> may also contain
flags separated from the command by spaces.</p>
</td></tr>
<tr><td><code id="tar_+3A_extra_flags">extra_flags</code></td>
<td>
<p>Any extra flags for an external <code>tar</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is either a wrapper for a <code>tar</code> command or uses an
internal implementation in <span class="rlang"><b>R</b></span>.  The latter is used if <code>tarfile</code>
is a connection or if the argument <code>tar</code> is <code>"internal"</code> or
<code>""</code> (the &lsquo;factory-fresh&rsquo; default).  Note that whereas
Unix-alike versions of <span class="rlang"><b>R</b></span> set the environment variable <span class="env">TAR</span>, its
value is not the default for this function.
</p>
<p>Argument <code>extra_flags</code> is passed to an external <code>tar</code> and
so is platform-dependent.  Possibly useful values include <span class="option">-h</span>
(follow symbolic links, also <span class="option">-L</span> on some platforms),
&lsquo;<span class="samp">&#8288;--acls&#8288;</span>&rsquo;, <span class="option">--exclude-backups</span>, <span class="option">--exclude-vcs</span> (and
similar) and on Windows <span class="option">--force-local</span> (so drives can be
included in filepaths). <code>Rtools</code> 4 and earlier included a
<code>tar</code> which used <span class="option">--force-local</span>, but <code>Rtools</code> 4.2
includes original GNU <code>tar</code>, which does not use it by default.
</p>
<p>A convenient and robust way to set options for GNU <code>tar</code> is via
environment variable <span class="env">TAR_OPTIONS</span>.  Appending <span class="option">--force-local</span>
to <span class="env">TAR</span> does not work with GNU <code>tar</code> due to restrictions on
how some options can be mixed.  The <code>tar</code> available on Windows 10
(libarchive's <code>bsdtar</code>) supports drive letters by default.  It
does not support the <span class="option">--force-local</span>, but ignores
<span class="env">TAR_OPTIONS</span>.
</p>
<p>For GNU <code>tar</code>,
<span class="option">--format=ustar</span> forces a more portable format. (The default is
set at compilation and will be shown at the end of the output from
<code>tar --help</code>: for version 1.30 &lsquo;out-of-the-box&rsquo; it is 
<span class="option">--format=gnu</span>, but the manual says the intention is to change
to <span class="option">--format=posix</span> which is the same as <code>pax</code> &ndash;
it was never part of the POSIX standard for <code>tar</code> and should
not be used.)
For libarchive's <code>bsdtar</code>, <span class="option">--format=ustar</span> is more
portable than the default.
</p>

<p>One issue which can cause an external command to fail is a command
line too long for the system shell: as from <span class="rlang"><b>R</b></span> 3.5.0 this is worked
around if the external command is detected to be GNU <code>tar</code> or
libarchive <code>tar</code> (aka <code>bsdtar</code>).
</p>
<p>Note that <code>files = '.'</code> will usually not work with an external
<code>tar</code> as that would expand the list of files after
<code>tarfile</code> is created.  (It does work with the default internal
method.)
</p>


<h3>Value</h3>

<p>The return code from <code><a href="base.html#topic+system">system</a></code> or <code>0</code> for the internal
version, invisibly.
</p>


<h3>Portability</h3>

<p>The &lsquo;tar&rsquo; format no longer has an agreed standard!
&lsquo;Unix Standard Tar&rsquo; was part of POSIX 1003.1:1998 but has been
removed in favour of <code>pax</code>, and in any case many common
implementations diverged from the former standard.
</p>
<p>Many <span class="rlang"><b>R</b></span> platforms use a version of GNU <code>tar</code>, but the
behaviour seems to be changed with each version.  macOS &gt;= 10.6,
FreeBSD and Windows 10 use <code>bsdtar</code> from the libarchive
project (but for macOS often a quite-old version), and commercial
Unixes will have their own versions. <code>bsdtar</code> is available for
many other platforms: macOS up to at least 10.9 had GNU <code>tar</code>
as <code>gnutar</code> and other platforms, e.g. Solaris, have it
as <code>gtar</code>: on a Unix-alike <code>configure</code> will try
<code>gnutar</code> and <code>gtar</code> before <code>tar</code>.
</p>


<p>Known problems arise from
</p>

<ul>
<li><p> The handling of file paths of more than 100 bytes.  These were
unsupported in early versions of <code>tar</code>, and supported in one
way by POSIX <code>tar</code> and in another by GNU <code>tar</code> and
yet another by the POSIX <code>pax</code> command which
recent <code>tar</code> programs often support.  The internal
implementation warns on paths of more than 100 bytes,
uses the &lsquo;ustar&rsquo; way from the 1998 POSIX
standard which supports up to 256 bytes (depending on the path: in
particular the final component is limited to 100 bytes) if possible,
otherwise the GNU way (which is widely supported, including by
<code><a href="#topic+untar">untar</a></code>).
</p>
<p>Most formats do not record the encoding of file paths.
</p>
</li>
<li><p> (File) links.  <code>tar</code> was developed on an OS that used
hard links, and physical files that were referred to more than once
in the list of files to be included were included only once, the
remaining instances being added as links.  Later a means to include
symbolic links was added.  The internal implementation supports
symbolic links (on OSes that support them), only.  Of course, the
question arises as to how links should be unpacked on OSes that do
not support them: for regular files file copies can be used.
</p>
<p>Names of links in the &lsquo;ustar&rsquo; format are restricted to 100
bytes.  There is an GNU extension for arbitrarily long link names,
but <code>bsdtar</code> ignores it.  The internal method uses the
GNU extension, with a warning.
</p>
</li>
<li><p> Header fields, in particular the padding to be used when
fields are not full or not used.  POSIX did define the correct
behaviour but commonly used implementations did (and still do)
not comply.
</p>
</li>
<li><p> File sizes.  The &lsquo;ustar&rsquo; format is restricted to 8GB
per (uncompressed) file.
</p>
</li></ul>

<p>For portability, avoid file paths of more than 100 bytes and all links
(especially hard links and symbolic links to directories).
</p>
<p>The internal implementation writes only the blocks of 512 bytes
required (including trailing blocks of <abbr>NUL</abbr>s), unlike GNU <code>tar</code>
which by default pads with &lsquo;<span class="samp">&#8288;nul&#8288;</span>&rsquo; to a multiple of 20 blocks
(10KB).  Implementations which pad differ on whether the block padding
should occur before or after compression (or both): padding was
designed for improved performance on physical tape drives.
</p>
<p>The &lsquo;ustar&rsquo; format records file modification times to a
resolution of 1 second: on file systems with higher resolution it is
conventional to discard fractional seconds.
</p>


<h3>Compression</h3>

<p>When an external <code>tar</code> command is used, compressing the tar
archive requires that <code>tar</code> supports the <span class="option">-z</span>,
<span class="option">-j</span> or <span class="option">-J</span> flag, and may require the appropriate
command (<code>gzip</code>, <code>bzip2</code> or <code>xz</code>) to be
available.  For GNU <code>tar</code>, further compression programs can be
specified by e.g. <code>extra_flags = "-I lz4"</code>.
Some versions of <code>bsdtar</code> accept options such as
<span class="option">--lz4</span>, <span class="option">--lzop</span> and <span class="option">--lrzip</span> or an external
compressor <em>via</em> <span class="option">--use-compress-program lz4</span>: these could
be supplied in <code>extra_flags</code>.
</p>
<p>NetBSD prior to 8.0 used flag <span class="option">--xz</span> rather than <span class="option">-J</span>,
so this should be used <em>via</em> <code>extra_flags = "--xz"</code> rather
than <code>compression = "xz"</code>.  The commands from OpenBSD and the
Heirloom Toolchest are not documented to support <code>xz</code>.
</p>
<p>The <code>tar</code> programs in commercial Unixen such as AIX and
Solaris do not support compression.
</p>


<h3>Note</h3>

<p>For users of macOS.  Apple's file systems have a legacy concept of
&lsquo;resource forks&rsquo; dating from classic Mac OS and rarely used
nowadays.  Apple's version of <code>tar</code> stores these as separate
files in the tarball with names prefixed by &lsquo;<span class="file">._</span>&rsquo;, and unpacks
such files into resource forks (if possible): other ways of unpacking
(including <code><a href="#topic+untar">untar</a></code> in <span class="rlang"><b>R</b></span>) unpack them as separate files.
</p>
<p>When argument <code>tar</code> is set to the command <code>tar</code> on macOS,
environment variable <span class="env">COPYFILE_DISABLE=1</span> is set, which for the
system version of <code>tar</code> prevents these separate files being
included in the tarball.
</p>


<h3>See Also</h3>

<p><a href="https://en.wikipedia.org/wiki/Tar_(file_format)">https://en.wikipedia.org/wiki/Tar_(file_format)</a>,
<a href="https://pubs.opengroup.org/onlinepubs/9699919799/utilities/pax.html#tag_20_92_13_06">https://pubs.opengroup.org/onlinepubs/9699919799/utilities/pax.html#tag_20_92_13_06</a>
for the way the POSIX utility <code>pax</code> handles <code>tar</code> formats.
</p>
<p><a href="https://github.com/libarchive/libarchive/wiki/FormatTar">https://github.com/libarchive/libarchive/wiki/FormatTar</a>.
</p>
<p><code><a href="#topic+untar">untar</a></code>.
</p>

<hr>
<h2 id='toLatex'>Converting R Objects to BibTeX or LaTeX</h2><span id='topic+toLatex'></span><span id='topic+print.Latex'></span><span id='topic+toBibtex'></span><span id='topic+print.Bibtex'></span>

<h3>Description</h3>

<p>These methods convert <span class="rlang"><b>R</b></span> objects to character vectors with
BibTeX or LaTeX markup.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>toBibtex(object, ...)
toLatex(object, ...)
## S3 method for class 'Bibtex'
print(x, prefix = "", ...)
## S3 method for class 'Latex'
print(x, prefix = "", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="toLatex_+3A_object">object</code></td>
<td>
<p>object of a class for which a <code>toBibtex</code> or
<code>toLatex</code> method exists.</p>
</td></tr>
<tr><td><code id="toLatex_+3A_x">x</code></td>
<td>
<p>object of class <code>"Bibtex"</code> or
<code>"Latex"</code>.</p>
</td></tr>
<tr><td><code id="toLatex_+3A_prefix">prefix</code></td>
<td>
<p>a character string which is printed at the beginning of
each line, mostly used to insert whitespace for indentation.</p>
</td></tr>
<tr><td><code id="toLatex_+3A_...">...</code></td>
<td>
<p>in the print methods, passed to <code><a href="base.html#topic+writeLines">writeLines</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Objects of class <code>"Bibtex"</code> or <code>"Latex"</code> are simply
character vectors where each element holds one line of the
corresponding BibTeX or LaTeX file.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+citEntry">citEntry</a></code> and <code><a href="#topic+sessionInfo">sessionInfo</a></code> for examples</p>

<hr>
<h2 id='txtProgressBar'>Text Progress Bar</h2><span id='topic+txtProgressBar'></span><span id='topic+getTxtProgressBar'></span><span id='topic+setTxtProgressBar'></span><span id='topic+close.txtProgressBar'></span>

<h3>Description</h3>

<p>Text progress bar in the <span class="rlang"><b>R</b></span> console.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>txtProgressBar(min = 0, max = 1, initial = 0, char = "=",
               width = NA, title, label, style = 1, file = "")

getTxtProgressBar(pb)
setTxtProgressBar(pb, value, title = NULL, label = NULL)
## S3 method for class 'txtProgressBar'
close(con, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="txtProgressBar_+3A_min">min</code>, <code id="txtProgressBar_+3A_max">max</code></td>
<td>
<p>(finite) numeric values for the extremes of the
progress bar. Must have <code>min &lt; max</code>.</p>
</td></tr>
<tr><td><code id="txtProgressBar_+3A_initial">initial</code>, <code id="txtProgressBar_+3A_value">value</code></td>
<td>
<p>initial or new value for the progress bar.  See
&lsquo;Details&rsquo; for what happens with invalid values.</p>
</td></tr>
<tr><td><code id="txtProgressBar_+3A_char">char</code></td>
<td>
<p>the character (or character string) to form the progress
bar.  Must have non-zero display width.</p>
</td></tr>
<tr><td><code id="txtProgressBar_+3A_width">width</code></td>
<td>
<p>the width of the progress bar, as a multiple of the width
of <code>char</code>.  If <code>NA</code>, the default, the number of characters
is that which fits into <code>getOption("width")</code>.</p>
</td></tr>
<tr><td><code id="txtProgressBar_+3A_style">style</code></td>
<td>
<p>the &lsquo;style&rsquo; of the bar &ndash; see &lsquo;Details&rsquo;.</p>
</td></tr>
<tr><td><code id="txtProgressBar_+3A_file">file</code></td>
<td>
<p>an open connection object or <code>""</code> which indicates
the console: <code><a href="base.html#topic+stderr">stderr</a>()</code> might be useful here.</p>
</td></tr>
<tr><td><code id="txtProgressBar_+3A_pb">pb</code>, <code id="txtProgressBar_+3A_con">con</code></td>
<td>
<p>an object of class <code>"txtProgressBar"</code>.</p>
</td></tr>
<tr><td><code id="txtProgressBar_+3A_title">title</code>, <code id="txtProgressBar_+3A_label">label</code></td>
<td>
<p>ignored, for compatibility with other progress bars.</p>
</td></tr>
<tr><td><code id="txtProgressBar_+3A_...">...</code></td>
<td>
<p>for consistency with the generic.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>txtProgressBar</code> will display a progress bar on the <span class="rlang"><b>R</b></span> console
(or a connection) via a text representation.
</p>
<p><code>setTxtProgessBar</code> will update the value.  Missing
(<code><a href="base.html#topic+NA">NA</a></code>) and out-of-range values of <code>value</code> will be
(silently) ignored.  (Such values of <code>initial</code> cause the progress
bar not to be displayed until a valid value is set.)
</p>
<p>The progress bar should be <code>close</code>d when finished with: this
outputs the final newline character.
</p>
<p><code>style = 1</code> and <code>style = 2</code> just shows a line of
<code>char</code>. They differ in that <code>style = 2</code> redraws the line
each time, which is useful if other code might be writing to the <span class="rlang"><b>R</b></span>
console.  <code>style = 3</code> marks the end of the range by &lsquo;<span class="samp">&#8288;|&#8288;</span>&rsquo; and
gives a percentage to the right of the bar.
</p>


<h3>Value</h3>

<p>For <code>txtProgressBar</code> an object of class <code>"txtProgressBar"</code>.
</p>
<p>For <code>getTxtProgressBar</code> and <code>setTxtProgressBar</code>, a
length-one numeric vector giving the previous value (invisibly for
<code>setTxtProgressBar</code>).
</p>


<h3>Note</h3>

<p>Using <code>style</code> 2 or 3 or reducing the value with <code>style = 1</code>
uses &lsquo;<span class="samp">&#8288;\r&#8288;</span>&rsquo; to return to the left margin &ndash; the interpretation of
carriage return is up to the terminal or console in which <span class="rlang"><b>R</b></span> is
running, and this is liable to produce ugly output on a connection
other than a terminal, including when <code>stdout()</code> is
redirected to a file.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+winProgressBar">winProgressBar</a></code> (Windows only),
<code><a href="tcltk.html#topic+tkProgressBar">tkProgressBar</a></code> (Unix-alike platforms).
</p>


<h3>Examples</h3>

<pre><code class='language-R'> # slow
testit &lt;- function(x = sort(runif(20)), ...)
{
    pb &lt;- txtProgressBar(...)
    for(i in c(0, x, 1)) {Sys.sleep(0.5); setTxtProgressBar(pb, i)}
    Sys.sleep(1)
    close(pb)
}
testit()
testit(runif(10))
testit(style = 3)
testit(char=' \u27a4')
</code></pre>

<hr>
<h2 id='type.convert'>Convert Data to Appropriate Type</h2><span id='topic+type.convert'></span><span id='topic+type.convert.default'></span><span id='topic+type.convert.list'></span><span id='topic+type.convert.data.frame'></span>

<h3>Description</h3>

<p>Convert a data object to logical, integer, numeric, complex, character
or factor as appropriate.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>type.convert(x, ...)
## Default S3 method:
type.convert(x, na.strings = "NA", as.is, dec = ".",
             numerals = c("allow.loss", "warn.loss", "no.loss"),
             tryLogical = TRUE, ...)
## S3 method for class 'data.frame'
type.convert(x, ...)
## S3 method for class 'list'
type.convert(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="type.convert_+3A_x">x</code></td>
<td>
<p>a vector, matrix, array, data frame, or list.</p>
</td></tr>
<tr><td><code id="type.convert_+3A_na.strings">na.strings</code></td>
<td>
<p>a vector of strings which are to be interpreted as
<code><a href="base.html#topic+NA">NA</a></code> values.  Blank fields are also considered to be
missing values in logical, integer, numeric or complex vectors.</p>
</td></tr>
<tr><td><code id="type.convert_+3A_as.is">as.is</code></td>
<td>
<p>whether to store strings as plain <code>character</code>. When
false, convert character vectors to
factors.  See &lsquo;Details&rsquo;.</p>
</td></tr>
<tr><td><code id="type.convert_+3A_dec">dec</code></td>
<td>
<p>the character to be assumed for decimal points.</p>
</td></tr>
<tr><td><code id="type.convert_+3A_numerals">numerals</code></td>
<td>
<p>string indicating how to convert numbers whose
conversion to double precision would lose accuracy, typically when
<code>x</code> has more digits than can be stored in a <code><a href="base.html#topic+double">double</a></code>.
Can be abbreviated.  Possible values are
</p>

<dl>
<dt><code>numerals = "allow.loss"</code>, default:</dt><dd><p>the conversion
happens with some accuracy loss.</p>
</dd>
<dt><code>numerals = "warn.loss"</code>:</dt><dd><p>a <code><a href="base.html#topic+warning">warning</a></code>
about accuracy loss is signalled and the conversion happens as
with <code>numerals = "allow.loss"</code>.</p>
</dd>
<dt><code>numerals = "no.loss"</code>:</dt><dd><p><code>x</code> is <em>not</em>
converted to a number, but to a <code><a href="base.html#topic+factor">factor</a></code> or
<code>character</code>, depending on <code>as.is</code>.</p>
</dd>
</dl>

</td></tr>
<tr><td><code id="type.convert_+3A_trylogical">tryLogical</code></td>
<td>
<p>a <code><a href="base.html#topic+logical">logical</a></code> determining if vectors
consisting entirely of <code>F</code>, <code>T</code>, <code>FALSE</code>, <code>TRUE</code>
and <code>na.strings</code> should be converted to <code><a href="base.html#topic+logical">logical</a></code>;
true, by default.</p>
</td></tr>
<tr><td><code id="type.convert_+3A_...">...</code></td>
<td>
<p>arguments to be passed to or from methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This helper function is used by <code><a href="#topic+read.table">read.table</a></code>. When the
data object <code>x</code> is a data frame or list, the function is called
recursively for each column or list element.
</p>
<p>Given a vector, the function attempts to convert it to logical,
integer, numeric or complex, and when additionally <code>as.is = FALSE</code>
(no longer the default!), converts a character vector to
<code><a href="base.html#topic+factor">factor</a></code>.  The first type that can accept all the non-missing
values is chosen.
</p>
<p>Vectors which are entirely missing values are converted to logical,
since <code>NA</code> is primarily logical.
</p>
<p>If <code>tryLogical</code> is true as by default, vectors containing just
<code>F</code>, <code>T</code>, <code>FALSE</code>, <code>TRUE</code>
and values from <code>na.strings</code> are converted to logical.  This may be surprising
in a context where you have many <code>character</code> columns with e.g.,
1-letter strings and you happen to get one with only <code>"F"</code>.  In such
cases <code>tryLogical = FALSE</code> is recommended.

Vectors containing optional whitespace followed by decimal constants
representable as <span class="rlang"><b>R</b></span> integers or values from <code>na.strings</code> are
converted to integer.  Other vectors containing optional whitespace
followed by other decimal or hexadecimal constants (see
<a href="base.html#topic+NumericConstants">NumericConstants</a>), or <code>NaN</code>, <code>Inf</code> or <code>infinity</code>
(ignoring case) or values from <code>na.strings</code> are converted to
numeric.  Where converting inputs to numeric or complex would result
in loss of accuracy they can optionally be returned as strings or (for
<code>as.is = FALSE</code>) factors.
</p>
<p>Since this is a helper function, the caller should always pass an
appropriate value of <code>as.is</code>.
</p>


<h3>Value</h3>

<p>An object like <code>x</code> but using another storage mode when
appropriate.
</p>


<h3>Author(s)</h3>

<p>R Core, with a contribution by Arni Magnusson</p>


<h3>See Also</h3>

<p><code><a href="#topic+read.table">read.table</a></code>, <code><a href="base.html#topic+class">class</a></code>,
<code><a href="base.html#topic+storage.mode">storage.mode</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Numeric to integer
class(rivers)
x &lt;- type.convert(rivers, as.is = TRUE)
class(x)

## Convert many columns
auto &lt;- type.convert(mtcars, as.is = TRUE)
str(mtcars)
str(auto)

## Convert matrix
phones &lt;- type.convert(WorldPhones, as.is = TRUE)
storage.mode(WorldPhones)
storage.mode(phones)

## Factor or character
chr &lt;- c("A", "B", "B", "A")
ch2 &lt;- c("F", "F", "NA", "F")
(fac &lt;- factor(chr))
type.convert(chr, as.is = FALSE) # -&gt; factor
type.convert(fac, as.is = FALSE) # -&gt; factor
type.convert(chr, as.is = TRUE)  # -&gt; character
type.convert(fac, as.is = TRUE)  # -&gt; character
type.convert(ch2, as.is = TRUE)                   #-&gt; logical
type.convert(ch2, as.is = TRUE, tryLogical=FALSE) #-&gt; character
</code></pre>

<hr>
<h2 id='untar'>
Extract or List Tar Archives
</h2><span id='topic+untar'></span>

<h3>Description</h3>

<p>Extract files from or list the contents of a tar archive.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>untar(tarfile, files = NULL, list = FALSE, exdir = ".",
      compressed = NA, extras = NULL, verbose = FALSE,
      restore_times =  TRUE,
      support_old_tars = Sys.getenv("R_SUPPORT_OLD_TARS", FALSE),
      tar = Sys.getenv("TAR"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="untar_+3A_tarfile">tarfile</code></td>
<td>
<p>The pathname of the tar file: tilde expansion (see
<code><a href="base.html#topic+path.expand">path.expand</a></code>) will be performed.  Alternatively, a
<a href="base.html#topic+connection">connection</a> that can be used for binary reads.  For a
<em>compressed</em> <code>tarfile</code>, and if a connection is to be used,
that should be created by <code><a href="base.html#topic+gzfile">gzfile</a>(.)</code> (or
<code><a href="base.html#topic+gzcon">gzcon</a>(.)</code> which currently only works for <code>"gzip"</code>,
whereas <code>gzfile()</code> works for all compressions available in
<code><a href="#topic+tar">tar</a>()</code>).</p>
</td></tr>
<tr><td><code id="untar_+3A_files">files</code></td>
<td>
<p>A character vector of recorded filepaths to be extracted:
the default is to extract all files.</p>
</td></tr>
<tr><td><code id="untar_+3A_list">list</code></td>
<td>
<p>If <code>TRUE</code>, list the files (the equivalent of
<code>tar -tf</code>).  Otherwise extract the files (the equivalent of
<code>tar -xf</code>).</p>
</td></tr>
<tr><td><code id="untar_+3A_exdir">exdir</code></td>
<td>
<p>The directory to extract files to (the equivalent of
<code>tar -C</code>).  It will be created if necessary.</p>
</td></tr>
<tr><td><code id="untar_+3A_compressed">compressed</code></td>
<td>
<p>(Deprecated in favour of auto-detection, used only
for an external <code>tar</code> command.)  Logical or character
string.  Values <code>"gzip"</code>, <code>"bzip2"</code> and <code>"xz"</code> select
that form of compression (and may be abbreviated to the first
letter).  <code>TRUE</code> indicates <code>gzip</code> compression,
<code>FALSE</code> no known compression, and <code>NA</code> (the default)
indicates that the type is to be inferred from the file header.
</p>
<p>The external command may ignore the selected compression type but
detect a type automagically.
</p>
</td></tr>
<tr><td><code id="untar_+3A_extras">extras</code></td>
<td>
<p><code>NULL</code> or a character string: further command-line
flags such as <span class="option">-p</span> to be passed to an external <code>tar</code>
program.</p>
</td></tr>
<tr><td><code id="untar_+3A_verbose">verbose</code></td>
<td>
<p>logical: if true echo the command used for an external
<code>tar</code> program.</p>
</td></tr>
<tr><td><code id="untar_+3A_restore_times">restore_times</code></td>
<td>
<p>logical.  If true (default) restore file
modification times.  If false, the equivalent of the <span class="option">-m</span>
flag.  Times in tarballs are supposed to be in UTC, but tarballs
have been submitted to CRAN with times in the future or far past:
this argument allows such times to be discarded.
</p>
<p>Note that file times in a tarball are stored with a resolution of 1
second, and can only be restored to the resolution supported by the
file system (which on a FAT system is 2 seconds).
</p>
</td></tr>




<tr><td><code id="untar_+3A_support_old_tars">support_old_tars</code></td>
<td>
<p>logical.  If false (the default), the external
<code>tar</code> command is assumed to be able handle compressed
tarfiles and if <code>compressed</code> does not specify it, to
automagically detect the type of compression.  (The major
implementations have done so since 2009; for GNU <code>tar</code> since
version 1.22.)
</p>
<p>If true, the <span class="rlang"><b>R</b></span> code calls an appropriate decompressor and pipes
the output to <code>tar</code>, for <code>compressed = NA</code> examining
the tarfile header to determine the type of compression.
</p>
</td></tr>
<tr><td><code id="untar_+3A_tar">tar</code></td>
<td>
<p>character string: the path to the command to be used or
<code>"internal"</code>.  If the command itself contains spaces it needs
to be quoted &ndash; but <code>tar</code> can also contain flags separated from
the command by spaces.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is either a wrapper for a <code>tar</code> command or for an
internal implementation written in <span class="rlang"><b>R</b></span>.  The latter is used if
<code>tarfile</code> is a connection or if the argument <code>tar</code> is
<code>"internal"</code> or <code>""</code> (except on Windows, when
<code>tar.exe</code> is tried first).
</p>
<p>Unless otherwise stated three types of compression of the tar file are
supported: <code>gzip</code>, <code>bzip2</code> and <code>xz</code>.
</p>
<p>What options are supported will depend on the <code>tar</code>
implementation used: the <code>"internal"</code> one is intended to provide
support for most in a platform-independent way.
</p>

<dl>
<dt>GNU tar:</dt><dd><p>Modern GNU <code>tar</code> versions support
compressed archives and since 1.15 are able to detect the type of
compression automatically: version 1.22 added support for
<code>xz</code> compression.
</p>
<p>On a Unix-alike, <code>configure</code> will set environment variable
<span class="env">TAR</span>, preferring GNU tar if found.</p>
</dd>

<dt><code>bsdtar</code>:</dt><dd><p>macOS 10.6 and later (and FreeBSD and some
other OSes) have a <code>tar</code>
from the libarchive project which detects all three forms
of compression automagically (even if undocumented in macOS).</p>
</dd>
<dt>NetBSD:</dt><dd><p>It is undocumented if NetBSD's <code>tar</code> can
detect compression automagically: for versions before 8 the flag
for <code>xz</code> compression was <span class="option">--xz</span> not <span class="option">-J</span>.
So <code>support_old_tars = TRUE</code> is recommended (or use
<code>bsdtar</code> if installed).</p>
</dd>

<dt>OpenBSD:</dt><dd><p>OpenBSD's <code>tar</code> does not detect compression
automagically.  It has no support for <code>xz</code> beyond reporting
that the file is <code>xz</code>-compressed.  So <code>support_old_tars
	= TRUE</code> is recommended.</p>
</dd>
<dt>Heirloom Toolchest:</dt><dd><p>This <code>tar</code> does automagically
detect <code>gzip</code> and <code>bzip2</code> compression (undocumented)
but has no support for <code>xz</code> compression.</p>
</dd>
<dt>Older support:</dt><dd><p>Environment variable <span class="env">R_GZIPCMD</span> gives the
command to decompress <code>gzip</code> files, and
<span class="env">R_BZIPCMD</span> for <code>bzip2</code> files. (On Unix-alikes
these are set at installation if found.)  <code>xz</code> is used if
available: if not decompression is expected to fail.</p>
</dd>
</dl>

<p>Arguments <code>compressed</code>, <code>extras</code> and <code>verbose</code> are only
used when an external <code>tar</code> is used.
</p>
<p>Some external <code>tar</code> commands will detect some of
<code>lrzip</code>, <code>lzma</code>, <code>lz4</code>, <code>lzop</code> and
<code>zstd</code> compression in addition to <code>gzip</code>,
<code>bzip2</code> and <code>xz</code>.  (For some external <code>tar</code>
commands, compressed tarfiles can only be read if the appropriate
utility program is available.)  For GNU <code>tar</code>, further
(de)compression programs can be specified by e.g. <code>extras
  = "-I lz4"</code>.  For <code>bsdtar</code> this could be <code>extras =
  "--use-compress-program lz4"</code>.  Most commands will detect (the
nowadays rarely seen) &lsquo;<span class="file">.tar.Z</span>&rsquo; archives compressed by
<code>compress</code>.
</p>
<p>The internal implementation restores symbolic links as links on a
Unix-alike, and as file copies on Windows (which works only for
existing files, not for directories), and hard links as links.  If the
linking operation fails (as it may on a FAT file system), a file copy
is tried.  Since it uses <code><a href="base.html#topic+gzfile">gzfile</a></code> to read a file it can
handle files compressed by any of the methods that function can
handle: at least <code>compress</code>, <code>gzip</code>, <code>bzip2</code>
and <code>xz</code> compression, and some types of <code>lzma</code>
compression.  It does not guard against restoring absolute file paths,
as some <code>tar</code> implementations do.  It will create the parent
directories for directories or files in the archive if necessary.  It
handles the USTAR/POSIX, GNU and <code>pax</code> ways of handling file
paths of more than 100 bytes, and the GNU way of handling link targets
of more than 100 bytes.
</p>
<p>You may see warnings from the internal implementation such
as </p>
<pre>    unsupported entry type 'x'</pre>
<p>This often indicates an invalid archive: entry types <code>"A-Z"</code> are
allowed as extensions, but other types are reserved.  The only thing
you can do with such an archive is to find a <code>tar</code> program that
handles it, and look carefully at the resulting files.  There may also
be the warning </p>
<pre>    using pax extended headers</pre>
<p>This indicates that additional information may have been discarded,
such as <abbr>ACL</abbr>s, encodings ....
</p>
<p>The former standards only supported ASCII filenames (indeed, only
alphanumeric plus period, underscore and hyphen).  <code>untar</code> makes
no attempt to map filenames to those acceptable on the current system,
and treats the filenames in the archive as applicable without any
re-encoding in the current locale.
</p>
<p>The internal implementation does not special-case &lsquo;resource
forks&rsquo; in macOS: that system's <code>tar</code> command does. This may
lead to unexpected files with names with prefix &lsquo;<span class="file">._</span>&rsquo;.
</p>


<h3>Value</h3>

<p>If <code>list = TRUE</code>, a character vector of (relative or absolute)
paths of files contained in the tar archive.
</p>
<p>Otherwise the return code from <code><a href="base.html#topic+system">system</a></code> with an external
<code>tar</code> or <code>0L</code>, invisibly.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+tar">tar</a></code>, <code><a href="#topic+unzip">unzip</a></code>.
</p>

<hr>
<h2 id='unzip'>
Extract or List Zip Archives
</h2><span id='topic+unzip'></span>

<h3>Description</h3>

<p>Extract files from or list a zip archive.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>unzip(zipfile, files = NULL, list = FALSE, overwrite = TRUE,
      junkpaths = FALSE, exdir = ".", unzip = "internal",
      setTimes = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="unzip_+3A_zipfile">zipfile</code></td>
<td>
<p>The pathname of the zip file: tilde expansion (see
<code><a href="base.html#topic+path.expand">path.expand</a></code>) will be performed.</p>
</td></tr>
<tr><td><code id="unzip_+3A_files">files</code></td>
<td>
<p>A character vector of recorded filepaths to be extracted:
the default is to extract all files.</p>
</td></tr>
<tr><td><code id="unzip_+3A_list">list</code></td>
<td>
<p>If <code>TRUE</code>, list the files and extract none.  The
equivalent of <code>unzip -l</code>.</p>
</td></tr>
<tr><td><code id="unzip_+3A_overwrite">overwrite</code></td>
<td>
<p>If <code>TRUE</code>, overwrite existing files (the equivalent
of <code>unzip -o</code>), otherwise ignore such files (the equivalent of
<code>unzip -n</code>).</p>
</td></tr>
<tr><td><code id="unzip_+3A_junkpaths">junkpaths</code></td>
<td>
<p>If <code>TRUE</code>, use only the basename of the stored
filepath when extracting.  The equivalent of <code>unzip -j</code>.</p>
</td></tr>
<tr><td><code id="unzip_+3A_exdir">exdir</code></td>
<td>
<p>The directory to extract files to (the equivalent of
<code>unzip -d</code>).  It will be created if necessary.</p>
</td></tr>
<tr><td><code id="unzip_+3A_unzip">unzip</code></td>
<td>
<p>The method to be used.  An alternative is to use
<code>getOption("unzip")</code>, which on a Unix-alike may be set to the
path to a <code>unzip</code> program.</p>
</td></tr>
<tr><td><code id="unzip_+3A_settimes">setTimes</code></td>
<td>
<p>logical.  For the internal method only, should the
file times be set based on the times in the zip file?  (NB: this
applies to included files, not to directories.)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>list = TRUE</code>, a data frame with columns <code>Name</code>
(character) <code>Length</code> (the size of the uncompressed file, numeric)
and <code>Date</code> (of class <code>"<a href="base.html#topic+POSIXct">POSIXct</a>"</code>).
</p>
<p>Otherwise for the <code>"internal"</code> method, a character vector of the
filepaths extracted to, invisibly.
</p>


<h3>Note</h3>

<p>The default internal method is a minimal implementation, principally
designed for Windows' users to be able to unpack Windows binary
packages without external software.  It does not (for example) support
Unicode filenames as introduced in <code>zip 3.0</code>: for that use
<code>unzip = "unzip"</code> with <code>unzip 6.00</code> or later.  It does
have some support for <code>bzip2</code> compression and &gt; 2GB zip files
(but not &gt;= 4GB files pre-compression contained in a zip file: like
many builds of <code>unzip</code> it may truncate these, in <span class="rlang"><b>R</b></span>'s case
with a warning if possible).
</p>
<p>If <code>unzip</code> specifies a program, the format of the dates listed
with <code>list = TRUE</code> is unknown (on Windows it can even depend on
the current locale) and the return values could be <code>NA</code> or
expressed in the wrong time zone or misinterpreted (the latter being
far less likely as from <code>unzip 6.00</code>).
</p>
<p>File times in zip files are stored in the style of MS-DOS, as local times
to an accuracy of 2 seconds.  This is not very useful when
transferring zip files between machines (even across continents), so
we chose not to restore them by default.
</p>


<h3>Source</h3>

<p>The internal C code uses <code>zlib</code> and is in particular based on the
contributed &lsquo;<span class="samp">&#8288;minizip&#8288;</span>&rsquo; application in the <code>zlib</code> sources
(from <a href="https://zlib.net/">https://zlib.net/</a>) by Gilles Vollant.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+unz">unz</a></code> to read a single component from a zip file.
</p>
<p><code><a href="#topic+zip">zip</a></code> for packing, i.e., the &ldquo;inverse&rdquo; of <code>unzip()</code>;
further <code><a href="#topic+untar">untar</a></code> and <code><a href="#topic+tar">tar</a></code>, the corresponding
pair for (un)packing tar archives (&ldquo;tarballs&rdquo;) such as <span class="rlang"><b>R</b></span>
source packages.
</p>

<hr>
<h2 id='update.packages'>Compare Installed Packages with CRAN-like Repositories</h2><span id='topic+update.packages'></span><span id='topic+old.packages'></span><span id='topic+new.packages'></span>

<h3>Description</h3>

<p><code>old.packages</code> indicates packages which have a (suitable) later
version on the repositories whereas <code>update.packages</code> offers to
download and install such packages.
</p>
<p><code>new.packages</code> looks for (suitable) packages on the repositories
that are not already installed, and optionally offers them for
installation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>update.packages(lib.loc = NULL, repos = getOption("repos"),
                contriburl = contrib.url(repos, type),
                method, instlib = NULL,
                ask = TRUE, available = NULL,
                oldPkgs = NULL, ..., checkBuilt = FALSE,
                type = getOption("pkgType"))

old.packages(lib.loc = NULL, repos = getOption("repos"),
             contriburl = contrib.url(repos, type),
             instPkgs = installed.packages(lib.loc = lib.loc, ...),
             method, available = NULL, checkBuilt = FALSE, ...,
             type = getOption("pkgType"))

new.packages(lib.loc = NULL, repos = getOption("repos"),
             contriburl = contrib.url(repos, type),
             instPkgs = installed.packages(lib.loc = lib.loc, ...),
             method, available = NULL, ask = FALSE, ...,
             type = getOption("pkgType"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="update.packages_+3A_lib.loc">lib.loc</code></td>
<td>
<p>character vector describing the location of R
library trees to search through (and update packages therein), or
<code>NULL</code> for all known trees (see <code><a href="base.html#topic+.libPaths">.libPaths</a></code>).</p>
</td></tr>
<tr><td><code id="update.packages_+3A_repos">repos</code></td>
<td>

<p>character vector, the base URL(s) of the repositories
to use, e.g., the URL of a CRAN mirror such as
<code>"https://cloud.r-project.org"</code>.
</p>
</td></tr>
<tr><td><code id="update.packages_+3A_contriburl">contriburl</code></td>
<td>
<p>URL(s) of the contrib sections of the
repositories.  Use this argument if your repository is
incomplete.  Overrides argument <code>repos</code>.
Incompatible with <code>type = "both"</code>.
</p>
</td></tr>
<tr><td><code id="update.packages_+3A_method">method</code></td>
<td>
<p>Download method, see <code><a href="#topic+download.file">download.file</a></code>.
Unused if a non-<code>NULL</code> <code>available</code> is supplied.</p>
</td></tr> 
<tr><td><code id="update.packages_+3A_instlib">instlib</code></td>
<td>
<p>character string giving the library directory where to
install the packages.</p>
</td></tr>
<tr><td><code id="update.packages_+3A_ask">ask</code></td>
<td>
<p>logical indicating whether to ask the user to select
packages before they are downloaded and installed, or the character
string <code>"graphics"</code>, which brings up a widget to allow the user
to (de)select from the list of packages which could be updated.
The latter value only works on systems with a GUI version of
<code><a href="#topic+select.list">select.list</a></code>, and is otherwise equivalent to
<code>ask = TRUE</code>. <code>ask</code> does not control questions asked before
installing packages from source via <code>type = "both"</code> (see option
<code>"install.packages.compile.from.source"</code>).
</p>
</td></tr>
<tr><td><code id="update.packages_+3A_available">available</code></td>
<td>

<p>an object as returned by <code><a href="#topic+available.packages">available.packages</a></code>
listing packages available at the repositories, or <code>NULL</code> which
makes an internal call to <code>available.packages</code>.
Incompatible with <code>type = "both"</code>.
</p>
</td></tr>
<tr><td><code id="update.packages_+3A_checkbuilt">checkBuilt</code></td>
<td>
<p>If <code>TRUE</code>, a package built under an earlier
major.minor version of <span class="rlang"><b>R</b></span> (e.g., <code>3.4</code>) is considered to be
&lsquo;old&rsquo;.</p>
</td></tr>
<tr><td><code id="update.packages_+3A_oldpkgs">oldPkgs</code></td>
<td>

<p>if specified as non-NULL, <code>update.packages()</code> only considers
these packages for updating. This may be a character vector
of package names or a matrix as returned by <code>old.packages</code>.
</p>
</td></tr>
<tr><td><code id="update.packages_+3A_instpkgs">instPkgs</code></td>
<td>

<p>by default all installed packages,
<code><a href="#topic+installed.packages">installed.packages</a>(lib.loc = lib.loc)</code>.  A subset can be
specified; currently this must be in the same (character matrix)
format as returned by <code>installed.packages()</code>.
</p>
</td></tr>
<tr><td><code id="update.packages_+3A_...">...</code></td>
<td>

<p>Arguments such as <code>destdir</code> and <code>dependencies</code> to be
passed to <code><a href="#topic+install.packages">install.packages</a></code> and
<code>ignore_repo_cache</code>, <code>max_repo_cache_age</code> and
<code>noCache</code> to <code><a href="#topic+available.packages">available.packages</a></code> or
<code><a href="#topic+installed.packages">installed.packages</a></code>.
</p>
</td></tr>
<tr><td><code id="update.packages_+3A_type">type</code></td>
<td>
<p>character, indicating the type of package to download and
install.  See <code><a href="#topic+install.packages">install.packages</a></code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>old.packages</code> compares the information from
<code><a href="#topic+available.packages">available.packages</a></code> with that from <code>instPkgs</code> (computed by
<code><a href="#topic+installed.packages">installed.packages</a></code> by default) and reports installed
packages that have newer versions on the repositories or, if
<code>checkBuilt = TRUE</code>, that were built under an earlier minor
version of <span class="rlang"><b>R</b></span> (for example built under 3.3.x when running <span class="rlang"><b>R</b></span> 3.4.0).
(For binary package types there is no check that the version on the
repository was built under the current minor version of <span class="rlang"><b>R</b></span>,
but it is advertised as being suitable for this version.)
</p>
<p><code>new.packages</code> does the same comparison but reports uninstalled
packages that are available at the repositories.  If
<code>ask != FALSE</code> it asks which packages should be installed in the
first element of <code>lib.loc</code>.
</p>
<p>The main function of the set is <code>update.packages</code>.  First a list
of all packages found in <code>lib.loc</code> is created and compared with
those available at the repositories.  If <code>ask = TRUE</code> (the
default) packages with a newer version are reported and for each one
the user can specify if it should be updated.  If so the packages are
downloaded from the repositories and installed in the respective
library path (or <code>instlib</code> if specified).
</p>
<p>For how the list of suitable available packages is determined see
<code><a href="#topic+available.packages">available.packages</a></code>.  <code>available = NULL</code> make a call
to <code>available.packages(contriburl = contriburl, method = method)</code>
and hence by default filters on <span class="rlang"><b>R</b></span> version, OS type and removes
duplicates.
</p>


<h3>Value</h3>

<p><code>update.packages</code> returns <code>NULL</code> invisibly.
</p>
<p>For <code>old.packages</code>, <code>NULL</code> or a matrix with one row per
package, row names the package names and column names
<code>"Package"</code>, <code>"LibPath"</code>, <code>"Installed"</code> (the version),
<code>"Built"</code> (the version built under), <code>"ReposVer"</code> and
<code>"Repository"</code>.
</p>
<p>For <code>new.packages</code> a character vector of package names,
<em>after</em> any selected <em>via</em> <code>ask</code> have been installed.
</p>


<h3>Warning</h3>

<p>Take care when using <code>dependencies</code> (passed to
<code><a href="#topic+install.packages">install.packages</a></code>) with <code>update.packages</code>,
for it is unclear where new dependencies should be installed.  The
current implementation will only allow it if all the packages to be
updated are in a single library, when that library will be used.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+install.packages">install.packages</a></code>,
<code><a href="#topic+available.packages">available.packages</a></code>, <code><a href="#topic+download.packages">download.packages</a></code>,
<code><a href="#topic+installed.packages">installed.packages</a></code>, <code><a href="#topic+contrib.url">contrib.url</a></code>.
</p>
<p>The options listed for <code>install.packages</code> under
<code><a href="base.html#topic+options">options</a></code>.
</p>
<p>See <code><a href="#topic+download.file">download.file</a></code> for how to handle proxies and
other options to monitor file transfers.
</p>
<p><code><a href="#topic+INSTALL">INSTALL</a></code>, <code><a href="#topic+REMOVE">REMOVE</a></code>, <code><a href="#topic+remove.packages">remove.packages</a></code>,
<code><a href="base.html#topic+library">library</a></code>, <code><a href="base.html#topic+.packages">.packages</a></code>, <code><a href="base.html#topic+read.dcf">read.dcf</a></code>
</p>
<p>The &lsquo;R Installation and Administration&rsquo; manual for how to
set up a repository.
</p>

<hr>
<h2 id='upgrade'>Upgrade</h2><span id='topic+upgrade'></span>

<h3>Description</h3>

<p>Upgrade objects.</p>


<h3>Usage</h3>

<pre><code class='language-R'>upgrade(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="upgrade_+3A_object">object</code></td>
<td>
<p>an <span class="rlang"><b>R</b></span> object.</p>
</td></tr>
<tr><td><code id="upgrade_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is a generic function, with a method for
<code>"<a href="#topic+packageStatus">packageStatus</a>"</code> objects.
</p>

<hr>
<h2 id='url.show'>Display a Text URL</h2><span id='topic+url.show'></span>

<h3>Description</h3>

<p>Extension of <code><a href="base.html#topic+file.show">file.show</a></code> to display text files from a remote
server.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>url.show(url, title = url, file = tempfile(),
         delete.file = TRUE, method, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="url.show_+3A_url">url</code></td>
<td>
<p>The URL to read from.</p>
</td></tr>
<tr><td><code id="url.show_+3A_title">title</code></td>
<td>
<p>Title for the browser.</p>
</td></tr>
<tr><td><code id="url.show_+3A_file">file</code></td>
<td>
<p>File to copy to.</p>
</td></tr>
<tr><td><code id="url.show_+3A_delete.file">delete.file</code></td>
<td>
<p>Delete the file afterwards?</p>
</td></tr>
<tr><td><code id="url.show_+3A_method">method</code></td>
<td>
<p>File transfer method: see <code><a href="#topic+download.file">download.file</a></code></p>
</td></tr>
<tr><td><code id="url.show_+3A_...">...</code></td>
<td>
<p>Arguments to pass to <code><a href="base.html#topic+file.show">file.show</a></code>.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>Since this is for text files, it will convert to CRLF line endings on
Windows.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+url">url</a></code>, <code><a href="base.html#topic+file.show">file.show</a></code>, <code><a href="#topic+download.file">download.file</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: url.show("https://www.stats.ox.ac.uk/pub/datasets/csb/ch3a.txt")
</code></pre>

<hr>
<h2 id='URLencode'>Encode or Decode (partial) URLs</h2><span id='topic+URLencode'></span><span id='topic+URLdecode'></span>

<h3>Description</h3>

<p>Functions to percent-encode or decode characters in URLs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>URLencode(URL, reserved = FALSE, repeated = FALSE)
URLdecode(URL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="URLencode_+3A_url">URL</code></td>
<td>
<p>a character vector.</p>
</td></tr>
<tr><td><code id="URLencode_+3A_reserved">reserved</code></td>
<td>
<p>logical: should &lsquo;reserved&rsquo; characters be
encoded? See &lsquo;Details&rsquo;.</p>
</td></tr>
<tr><td><code id="URLencode_+3A_repeated">repeated</code></td>
<td>
<p>logical: should apparently already-encoded URLs be
encoded again?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Characters in a URL other than the English alphanumeric characters and
&lsquo;<span class="samp">&#8288;- _ . ~&#8288;</span>&rsquo; should be encoded as <code>%</code>
plus a two-digit hexadecimal representation, and any single-byte
character can be so encoded. (Multi-byte characters are encoded
byte-by-byte.)  The standard refers to this as &lsquo;percent-encoding&rsquo;.
</p>
<p>In addition, &lsquo;<span class="samp">&#8288;! $ &amp; ' ( ) * + , ; = : / ? @ # [ ]&#8288;</span>&rsquo; are reserved
characters, and should be encoded unless used in their reserved sense,
which is scheme specific.  The default in <code>URLencode</code> is to leave
them alone, which is appropriate for &lsquo;<span class="samp">&#8288;file://&#8288;</span>&rsquo; URLs, but probably
not for &lsquo;<span class="samp">&#8288;http://&#8288;</span>&rsquo; ones.
</p>
<p>An &lsquo;apparently already-encoded URL&rsquo; is one containing
<code>%xx</code> for two hexadecimal digits.
</p>


<h3>Value</h3>

<p>A character vector.
</p>


<h3>References</h3>

<p>Internet STD 66 (formerly RFC 3986),
<a href="https://www.rfc-editor.org/info/std66">https://www.rfc-editor.org/info/std66</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>(y &lt;- URLencode("a url with spaces and / and @"))
URLdecode(y)
(y &lt;- URLencode("a url with spaces and / and @", reserved = TRUE))
URLdecode(y)

URLdecode(z &lt;- "ab%20cd")
c(URLencode(z), URLencode(z, repeated = TRUE)) # first is usually wanted

## both functions support character vectors of length &gt; 1
y &lt;- URLdecode(URLencode(c("url with space", "another one")))
</code></pre>

<hr>
<h2 id='utils-defunct'>Defunct Functions in Package <span class="pkg">utils</span></h2><span id='topic+utils-defunct'></span><span id='topic+package.contents'></span><span id='topic+zip.file.extract'></span><span id='topic+CRAN.packages'></span>

<h3>Description</h3>

<p>The functions or variables listed here are no longer part of <span class="rlang"><b>R</b></span> as
they are not needed (any more).
</p>


<h3>Usage</h3>

<pre><code class='language-R'># Defunct in R 2.0.0
package.contents(pkg, lib.loc = NULL)

# Defunct in R 2.2.0
CRAN.packages(CRAN = getOption("repos"), method,
              contriburl = contrib.url(CRAN))

# Defunct in R 2.14.0
zip.file.extract(file, zipname = "R.zip",
                 unzip = getOption("unzip"), dir = tempdir())

</code></pre>


<h3>See Also</h3>

<p><code><a href="base.html#topic+Deprecated">Deprecated</a></code>, <code><a href="base.html#topic+Defunct">Defunct</a></code>
</p>

<hr>
<h2 id='utils-deprecated'>Deprecated Functions in Package <span class="pkg">utils</span></h2><span id='topic+utils-deprecated'></span>

<h3>Description</h3>

<p>(Currently none)
</p>
<p>These functions are provided for compatibility with older versions of
<span class="rlang"><b>R</b></span> only, and may be defunct as soon as of the next release.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+Deprecated">Deprecated</a></code>, <code><a href="base.html#topic+Defunct">Defunct</a></code>
</p>

<hr>
<h2 id='utils-internal'>Internal utils Functions</h2><span id='topic+de.ncols'></span><span id='topic+de.restore'></span><span id='topic+de.setup'></span>

<h3>Description</h3>

<p>Internal utils functions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>de.ncols(inlist) 
de.restore(inlist, ncols, coltypes, argnames, args) 
de.setup(ilist, list.names, incols) 
</code></pre>


<h3>Details</h3>

<p>These are not to be called by the user.
</p>

<hr>
<h2 id='View'>Invoke a Data Viewer</h2><span id='topic+View'></span>

<h3>Description</h3>

<p>Invoke a spreadsheet-style data viewer on a matrix-like <span class="rlang"><b>R</b></span> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>View(x, title)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="View_+3A_x">x</code></td>
<td>
<p>an <span class="rlang"><b>R</b></span> object which can be coerced to a data frame with
non-zero numbers of rows and columns.</p>
</td></tr>
<tr><td><code id="View_+3A_title">title</code></td>
<td>
<p>title for viewer window.  Defaults to name of <code>x</code>
prefixed by <code>Data:</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Object <code>x</code> is coerced (if possible) to a data frame, then
columns are converted to character using <code><a href="base.html#topic+format.data.frame">format.data.frame</a></code>.
The object is then viewed in a spreadsheet-like data viewer, a
read-only version of <code><a href="#topic+data.entry">data.entry</a></code>.
</p>
<p>If there are row names on the data frame that are not <code>1:nrow</code>,
they are displayed in a separate first column called <code>row.names</code>.
</p>
<p>Objects with zero columns or zero rows are not accepted.
</p>

<dl>
<dt>On Unix-alikes,</dt><dd><p>the array of cells can be navigated by the
cursor keys and Home, End, Page Up and Page Down (where supported by
X11) as well as Enter and Tab.</p>
</dd>
<dt>On Windows,</dt><dd><p>the array of cells can be navigated <em>via</em>
the scrollbars and by the cursor keys, Home, End, Page Up and Page Down.
</p>
<p>On Windows, the initial size of the data viewer window is taken
from the default dimensions of a pager (see <code><a href="#topic+Rconsole">Rconsole</a></code>),
but adjusted downwards to show a whole number of rows and columns.</p>
</dd>
</dl>



<h3>Value</h3>

<p>Invisible <code>NULL</code>.  The functions puts up a window and returns
immediately: the window can be closed via its controls or menus.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+edit.data.frame">edit.data.frame</a></code>,
<code><a href="#topic+data.entry">data.entry</a></code>.
</p>

<hr>
<h2 id='vignette'>View, List or Get R Source of Package Vignettes</h2><span id='topic+vignette'></span><span id='topic+edit.vignette'></span><span id='topic+print.vignette'></span><span id='topic+vignettes'></span>

<h3>Description</h3>

<p>View a specified package vignette, or list the available ones;
display it rendered in a viewer, and get or edit its <span class="rlang"><b>R</b></span> source file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vignette(topic, package = NULL, lib.loc = NULL, all = TRUE)

## S3 method for class 'vignette'
print(x, ...)
## S3 method for class 'vignette'
edit(name, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vignette_+3A_topic">topic</code></td>
<td>
<p>a character string giving the (base) name of the vignette
to view.  If omitted, all vignettes from all installed packages are
listed.</p>
</td></tr>
<tr><td><code id="vignette_+3A_package">package</code></td>
<td>
<p>a character vector with the names of packages to
search through, or <code>NULL</code> in which &lsquo;all&rsquo; packages (as
defined by argument <code>all</code>) are searched.</p>
</td></tr>
<tr><td><code id="vignette_+3A_lib.loc">lib.loc</code></td>
<td>
<p>a character vector of directory names of <span class="rlang"><b>R</b></span> libraries,
or <code>NULL</code>.  The default value of <code>NULL</code> corresponds to all
libraries currently known.</p>
</td></tr>
<tr><td><code id="vignette_+3A_all">all</code></td>
<td>
<p>logical; if <code>TRUE</code> search all available packages in
the library trees specified by <code>lib.loc</code>, and if <code>FALSE</code>,
search only attached packages.</p>
</td></tr>
<tr><td><code id="vignette_+3A_x">x</code>, <code id="vignette_+3A_name">name</code></td>
<td>
<p>object of class <code>vignette</code>.</p>
</td></tr>
<tr><td><code id="vignette_+3A_...">...</code></td>
<td>
<p>ignored by the <code>print</code> method, passed on to
<code><a href="#topic+file.edit">file.edit</a></code> by the <code>edit</code> method.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function <code>vignette</code> returns an object of the same class, the
print method opens a viewer for it.
</p>
<p>On Unix-alikes,
the program specified by the <code>pdfviewer</code> option is used for
viewing PDF versions of vignettes.
</p>
<p>If several vignettes have PDF/HTML versions with base name identical
to <code>topic</code>, the first one found is used.
</p>
<p>If no topics are given, all available vignettes are listed.  The
corresponding information is returned in an object of class
<code>"packageIQR"</code>.
</p>








<h3>See Also</h3>

<p><code><a href="#topic+browseVignettes">browseVignettes</a></code> for an HTML-based vignette browser;
<code><a href="#topic+RShowDoc">RShowDoc</a>("<var>basename</var>", package = "<var>pkgname</var>")</code> displays a
&ldquo;rendered&rdquo; vignette (pdf or html).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## List vignettes from all *attached* packages
vignette(all = FALSE)

## List vignettes from all *installed* packages (can take a long time!):
vignette(all = TRUE)

## The grid intro vignette -- open it
## Not run: vignette("grid") # calling print()
## The same (conditional on existence of the vignettte).
## Note that 'package = *' is much faster in the case of many installed packages:
if(!is.null(v1 &lt;- vignette("grid", package="grid"))) {
## Not run: v1 # calling print(.)
  str(v1)
  ## Now let us have a closer look at the code
  
  
  
  
## Not run: edit(v1) # e.g., to send lines ...
}# if( has vignette "installed")
## A package can have more than one vignette (package grid has several):
vignette(package = "grid")
if(interactive()) {
   ## vignette("rotated")
   ## The same, but without searching for it:
   vignette("rotated", package = "grid")
}
</code></pre>

<hr>
<h2 id='warnErrList'>Collect and Summarize Errors From List</h2><span id='topic+warnErrList'></span>

<h3>Description</h3>

<p>Collect errors (class <code>"error"</code>, typically from <code><a href="base.html#topic+tryCatch">tryCatch</a></code>)
from a list <code>x</code> into a &ldquo;summary warning&rdquo;, by default
produce a <code><a href="base.html#topic+warning">warning</a></code> and keep that message as
<code>"warningMsg"</code> attribute.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>warnErrList(x, warn = TRUE, errValue = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="warnErrList_+3A_x">x</code></td>
<td>
<p>a <code><a href="base.html#topic+list">list</a></code>, typically from applying models to a
list of data (sub)sets, e.g., using <code><a href="base.html#topic+tryCatch">tryCatch</a>(*, error = identity)</code>.
</p>
</td></tr>
<tr><td><code id="warnErrList_+3A_warn">warn</code></td>
<td>
<p>logical indicating if <code><a href="base.html#topic+warning">warning</a>()</code> should be
called.</p>
</td></tr>
<tr><td><code id="warnErrList_+3A_errvalue">errValue</code></td>
<td>
<p>the value with which errors should be replaced.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code><a href="base.html#topic+list">list</a></code> of the same length and names as the <code>x</code>
argument, with the error components replaced by <code>errValue</code>,
<code><a href="base.html#topic+NULL">NULL</a></code> by default, and summarized in the
<code>"warningMsg"</code> attribute.
</p>


<h3>See Also</h3>

<p>The <code>warnErrList()</code> utility has been used in
<code><a href="nlme.html#topic+lmList">lmList</a>()</code> and <code><a href="nlme.html#topic+nlsList">nlsList</a>()</code> in
recommended package <a href="https://CRAN.R-project.org/package=nlme"><span class="pkg">nlme</span></a> forever.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Regression for each Chick:
ChWtgrps &lt;- split(ChickWeight, ChickWeight[,"Chick"])
sapply(ChWtgrps, nrow)# typically 12 obs.
nlis1 &lt;- lapply(ChWtgrps, function(DAT) tryCatch(error = identity,
                      lm(weight ~ (Time + I(Time^2)) * Diet, data = DAT)))
nl1 &lt;- warnErrList(nlis1) #-&gt; warning :
## 50 times the same error (as Diet has only one level in each group)
stopifnot(sapply(nl1, is.null)) ## all errors --&gt; all replaced by NULL
nlis2 &lt;- lapply(ChWtgrps, function(DAT) tryCatch(error = identity,
                      lm(weight ~ Time + I(Time^2), data = DAT)))
nl2 &lt;- warnErrList(nlis2)
stopifnot(identical(nl2, nlis2)) # because there was *no* error at all
nlis3 &lt;- lapply(ChWtgrps, function(DAT) tryCatch(error = identity,
                      lm(weight ~ poly(Time, 3), data = DAT)))
nl3 &lt;- warnErrList(nlis3) # 1 error caught:
stopifnot(inherits(nlis3[[1]], "error")
        , identical(nl3[-1], nlis3[-1])
        , is.null(nl3[[1]])
)

## With different error messages
if(requireNamespace("nlme")) { # almost always, as it is recommended
 data(Soybean, package="nlme")
 attr(Soybean, "formula") #-&gt; weight ~ Time | Plot  =&gt; split by "Plot":
 L &lt;- lapply(split(Soybean, Soybean[,"Plot"]),
             function(DD) tryCatch(error = identity,
                 nls(weight ~ SSlogis(Time, Asym, xmid, scal), data = DD)))
 Lw &lt;- warnErrList(L)
} # if &lt;nlme&gt;
</code></pre>

<hr>
<h2 id='winDialog'>Dialog Boxes under Windows</h2><span id='topic+winDialog'></span><span id='topic+winDialogString'></span>

<h3>Description</h3>

<p>On MS Windows only, put up a dialog box to communicate with the user.
There are various types, either for the user to select from a set of
buttons or to edit a string.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>winDialog(type = c("ok", "okcancel", "yesno", "yesnocancel"),
          message)

winDialogString(message, default)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="winDialog_+3A_type">type</code></td>
<td>
<p>character. The type of dialog box. It will have the
buttons implied by its name.</p>
</td></tr>
<tr><td><code id="winDialog_+3A_message">message</code></td>
<td>
<p>character. The information field of the dialog
box. Limited to 255 chars (by Windows, checked by R).</p>
</td></tr>
<tr><td><code id="winDialog_+3A_default">default</code></td>
<td>
<p>character. The default string.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>For <code>winDialog</code> a character string giving the name of the button
pressed (in capitals) or <code>NULL</code> (invisibly) if the user had no
choice.
</p>
<p>For <code>winDialogString</code> a string giving the contents of the text
box when <code>Ok</code> was pressed, or <code>NULL</code> if <code>Cancel</code> was pressed.
</p>


<h3>Note</h3>

<p>The standard keyboard accelerators work with these dialog boxes:
where appropriate <code>Return</code> accepts the default action,
<code>Esc</code> cancels and the underlined initial letter (<code>Y</code> or
<code>N</code>) can be used.
</p>
<p>These functions are only available on Windows.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+winMenuAdd">winMenuAdd</a></code><br />
<code><a href="base.html#topic+file.choose">file.choose</a></code> to select a file<br />
package <code>windlgs</code> in the package source distribution for ways to
program dialogs in C in the <code>GraphApp</code> toolkit.</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: winDialog("yesno", "Is it OK to delete file blah")
</code></pre>

<hr>
<h2 id='winextras'>Get Windows Version</h2><span id='topic+win.version'></span>

<h3>Description</h3>

<p>Get the self-reported Microsoft Windows version number.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>win.version()
</code></pre>


<h3>Details</h3>

<p><code>win.version</code> is an auxiliary function for
<code><a href="#topic+sessionInfo">sessionInfo</a></code> and <code><a href="#topic+bug.report">bug.report</a></code>.
</p>


<h3>Value</h3>

<p>A character string describing the version of Windows reported to be in use.
</p>


<h3>Note</h3>

<p>This function is only available on Microsoft Windows.
</p>
<p>The result is based on the Windows <code>GetVersionEx</code> API function.  It
is not known how to detect a version of Windows before it is released, and
hence the textual information returned by <span class="rlang"><b>R</b></span> may identify an older version
than installed.  The build number is more reliable.  When running <span class="rlang"><b>R</b></span> in
compatibility mode, the reported version including the build number is the
compatibility version, not the installed version.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if(.Platform$OS.type == "windows")
   print(win.version())
</code></pre>

<hr>
<h2 id='winMenus'>User Menus under MS Windows (RGui)</h2><span id='topic+winMenuAdd'></span><span id='topic+winMenuAddItem'></span><span id='topic+winMenuDel'></span><span id='topic+winMenuDelItem'></span><span id='topic+winMenuNames'></span><span id='topic+winMenuItems'></span>

<h3>Description</h3>

<p>Enables users to add, delete and program menus for the <code>Rgui</code> in MS Windows.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>winMenuAdd(menuname)
winMenuAddItem(menuname, itemname, action)
winMenuDel(menuname)
winMenuDelItem(menuname, itemname)
winMenuNames()
winMenuItems(menuname)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="winMenus_+3A_menuname">menuname</code></td>
<td>
<p>a character string naming a menu.</p>
</td></tr>
<tr><td><code id="winMenus_+3A_itemname">itemname</code></td>
<td>
<p>a character string naming a menu item on an existing menu.</p>
</td></tr>
<tr><td><code id="winMenus_+3A_action">action</code></td>
<td>
<p>a character string describing the action when that menu
is selected, or <code>"enable"</code> or <code>"disable"</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>User menus are added to the right of existing menus, and items are
added at the bottom of the menu.
</p>
<p>By default the action character string is treated as <span class="rlang"><b>R</b></span> input, being
echoed on the command line and parsed and executed as usual.
</p>
<p>If the <code>menuname</code> parameter of <code>winMenuAddItem</code> does not
already exist, it will be created automatically.
</p>
<p>Normally new submenus and menu items are added to the main console
menu. They may be added elsewhere using the following special names:
</p>

<dl>
<dt><code>$ConsoleMain</code></dt><dd><p>The console menu (the default)</p>
</dd>
<dt><code>$ConsolePopup</code></dt><dd><p>The console popup menu</p>
</dd>
<dt><code>$Graph&lt;n&gt;Main</code></dt><dd><p>The menu for graphics window <code>&lt;n&gt;</code></p>
</dd>
<dt><code>$Graph&lt;n&gt;Popup</code></dt><dd><p>The popup menu for graphics window
<code>&lt;n&gt;</code></p>
</dd>
</dl>

<p>Specifying an existing item in <code>winMenuAddItem</code> enables the
action to be changed.
</p>
<p>Submenus can be specified by separating the elements in
<code>menuname</code> by slashes: as a consequence menu names may not
contain slashes.
</p>
<p>If the <code>action</code> is specified as <code>"none"</code> no action is taken:
this can be useful to reserve items for future expansion.
</p>
<p>The function <code>winMenuNames</code> can be used to find out what menus
have been created by the user and returns a vector of the existing
menu names.
</p>
<p>The <code>winMenuItems</code> function will take the name of a menu and
return the items that exist in that menu.  The return value is a named
vector where the names correspond to the names of the items and the
values of the vector are the corresponding actions.
</p>
<p>The <code>winMenuDel</code> function will delete a menu and all of its items
and submenus.  <code>winMenuDelItem</code> just deletes one menu item.
</p>
<p>The total path to an item (menu string plus item string) cannot exceed
1000 bytes, and the menu string cannot exceed 500 bytes.
</p>


<h3>Value</h3>

<p><code>NULL</code>, invisibly.  If an error occurs, an informative error
message will be given.
</p>


<h3>Note</h3>

<p>These functions are only available on Windows and only when using
the <code>Rgui</code>, hence not in <code>ESS</code> nor <code>RStudio</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+winDialog">winDialog</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
winMenuAdd("Testit")
winMenuAddItem("Testit", "one", "aaaa")
winMenuAddItem("Testit", "two", "bbbb")
winMenuAdd("Testit/extras")
winMenuAddItem("Testit", "-", "")
winMenuAddItem("Testit", "two", "disable")
winMenuAddItem("Testit", "three", "cccc")
winMenuAddItem("Testit/extras", "one more", "ddd")
winMenuAddItem("Testit/extras", "and another", "eee")
winMenuAdd("$ConsolePopup/Testit")
winMenuAddItem("$ConsolePopup/Testit", "six", "fff")
winMenuNames()
winMenuItems("Testit")

## End(Not run)</code></pre>

<hr>
<h2 id='winProgressBar'>Progress Bars under MS Windows</h2><span id='topic+winProgressBar'></span><span id='topic+getWinProgressBar'></span><span id='topic+setWinProgressBar'></span><span id='topic+close.winProgressBar'></span>

<h3>Description</h3>

<p>Put up a Windows progress bar widget, update and access it.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>winProgressBar(title = "R progress bar", label = "",
               min = 0, max = 1, initial = 0, width = 300)

getWinProgressBar(pb)
setWinProgressBar(pb, value, title = NULL, label = NULL)
## S3 method for class 'winProgressBar'
close(con, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="winProgressBar_+3A_title">title</code>, <code id="winProgressBar_+3A_label">label</code></td>
<td>
<p>character strings, giving the window title and the
label on the dialog box respectively.</p>
</td></tr>
<tr><td><code id="winProgressBar_+3A_min">min</code>, <code id="winProgressBar_+3A_max">max</code></td>
<td>
<p>(finite) numeric values for the extremes of the
progress bar.</p>
</td></tr>
<tr><td><code id="winProgressBar_+3A_initial">initial</code>, <code id="winProgressBar_+3A_value">value</code></td>
<td>
<p>initial or new value for the progress bar.</p>
</td></tr>
<tr><td><code id="winProgressBar_+3A_width">width</code></td>
<td>
<p>the width of the progress bar in pixels: the dialog box
will be 40 pixels wider (plus frame).</p>
</td></tr>
<tr><td><code id="winProgressBar_+3A_pb">pb</code>, <code id="winProgressBar_+3A_con">con</code></td>
<td>
<p>an object of class <code>"winProgressBar"</code>.</p>
</td></tr>
<tr><td><code id="winProgressBar_+3A_...">...</code></td>
<td>
<p>for consistency with the generic.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>winProgressBar</code> will display a progress bar centred on the
screen.  Space will be allocated for the label only if it is non-empty.
</p>
<p><code>setWinProgessBar</code> will update the value and for non-<code>NULL</code>
values, the title and label (provided there was one when the widget
was created).  Missing (<code><a href="base.html#topic+NA">NA</a></code>) and out-of-range values of
<code>value</code> will be (silently) ignored.
</p>
<p>The progress bar should be <code>close</code>d when finished with, but it
will be garbage-collected once no <span class="rlang"><b>R</b></span> object refers to it.
</p>


<h3>Value</h3>

<p>For <code>winProgressBar</code> an object of class <code>"winProgressBar"</code>.
</p>
<p>For <code>getWinProgressBar</code> and <code>setWinProgressBar</code>, a
length-one numeric vector giving the previous value (invisibly for
<code>setWinProgressBar</code>).
</p>


<h3>Note</h3>

<p>These functions are only available on Windows.
</p>


<h3>See Also</h3>

<p>On all platforms,
<code><a href="#topic+txtProgressBar">txtProgressBar</a></code>, <code><a href="tcltk.html#topic+tkProgressBar">tkProgressBar</a></code>
</p>

<hr>
<h2 id='write.table'>Data Output</h2><span id='topic+write.table'></span><span id='topic+write.csv'></span><span id='topic+write.csv2'></span>

<h3>Description</h3>

<p><code>write.table</code> prints its required argument <code>x</code> (after
converting it to a data frame if it is not one nor a matrix) to
a file or <a href="base.html#topic+connection">connection</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>write.table(x, file = "", append = FALSE, quote = TRUE, sep = " ",
            eol = "\n", na = "NA", dec = ".", row.names = TRUE,
            col.names = TRUE, qmethod = c("escape", "double"),
            fileEncoding = "")

write.csv(...)
write.csv2(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="write.table_+3A_x">x</code></td>
<td>
<p>the object to be written, preferably a matrix or data frame.
If not, it is attempted to coerce <code>x</code> to a data frame.</p>
</td></tr>
<tr><td><code id="write.table_+3A_file">file</code></td>
<td>
<p>either a character string naming a file or a <a href="base.html#topic+connection">connection</a>
open for writing.  <code>""</code> indicates output to the console.</p>
</td></tr>
<tr><td><code id="write.table_+3A_append">append</code></td>
<td>
<p>logical. Only relevant if <code>file</code> is a character
string.  If <code>TRUE</code>, the output is appended to the
file.  If <code>FALSE</code>, any existing file of the name is destroyed.</p>
</td></tr>
<tr><td><code id="write.table_+3A_quote">quote</code></td>
<td>
<p>a logical value (<code>TRUE</code> or <code>FALSE</code>) or a
numeric vector.  If <code>TRUE</code>, any character or factor columns
will be surrounded by double quotes.  If a numeric vector, its
elements are taken as the indices of columns to quote.  In both
cases, row and column names are quoted if they are written.  If
<code>FALSE</code>, nothing is quoted.</p>
</td></tr>
<tr><td><code id="write.table_+3A_sep">sep</code></td>
<td>
<p>the field separator string.  Values within each row of
<code>x</code> are separated by this string.</p>
</td></tr>
<tr><td><code id="write.table_+3A_eol">eol</code></td>
<td>
<p>the character(s) to print at the end of each line (row).
For example, <code>eol = "\r\n"</code> will produce Windows' line endings on
a Unix-alike OS, and <code>eol = "\r"</code> will produce files as expected by
Excel:mac 2004.</p>
</td></tr>
<tr><td><code id="write.table_+3A_na">na</code></td>
<td>
<p>the string to use for missing values in the data.</p>
</td></tr>
<tr><td><code id="write.table_+3A_dec">dec</code></td>
<td>
<p>the string to use for decimal points in numeric or complex
columns: must be a single character.</p>
</td></tr>
<tr><td><code id="write.table_+3A_row.names">row.names</code></td>
<td>
<p>either a logical value indicating whether the row
names of <code>x</code> are to be written along with <code>x</code>, or a
character vector of row names to be written.</p>
</td></tr>
<tr><td><code id="write.table_+3A_col.names">col.names</code></td>
<td>
<p>either a logical value indicating whether the column
names of <code>x</code> are to be written along with <code>x</code>, or a
character vector of column names to be written.  See the section on
&lsquo;CSV files&rsquo; for the meaning of <code>col.names = NA</code>.</p>
</td></tr>
<tr><td><code id="write.table_+3A_qmethod">qmethod</code></td>
<td>
<p>a character string specifying how to deal with embedded
double quote characters when quoting strings.  Must be one of
<code>"escape"</code> (default for <code>write.table</code>), in which case the
quote character is escaped in C style by a backslash, or
<code>"double"</code> (default for <code>write.csv</code> and
<code>write.csv2</code>), in which case it is doubled.  You can specify
just the initial letter.</p>
</td></tr>
<tr><td><code id="write.table_+3A_fileencoding">fileEncoding</code></td>
<td>
<p>character string: if non-empty declares the
encoding to be used on a file (not a connection) so the character data can
be re-encoded as they are written.  See <code><a href="base.html#topic+file">file</a></code>.</p>
</td></tr>
<tr><td><code id="write.table_+3A_...">...</code></td>
<td>
<p>arguments to <code>write.table</code>: <code>append</code>,
<code>col.names</code>, <code>sep</code>, <code>dec</code> and <code>qmethod</code>
cannot be altered.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If the table has no columns the rownames will be written only if
<code>row.names = TRUE</code>, and <em>vice versa</em>.
</p>
<p>Real and complex numbers are written to the maximal possible precision.
</p>
<p>If a data frame has matrix-like columns these will be converted to
multiple columns in the result (<em>via</em> <code><a href="base.html#topic+as.matrix">as.matrix</a></code>)
and so a character <code>col.names</code> or a numeric <code>quote</code> should
refer to the columns in the result, not the input.  Such matrix-like
columns are unquoted by default.
</p>
<p>Any columns in a data frame which are lists or have a class
(e.g., dates) will be converted by the appropriate <code>as.character</code>
method: such columns are unquoted by default.  On the other hand,
any class information for a matrix is discarded and non-atomic
(e.g., list) matrices are coerced to character.
</p>
<p>Only columns which have been converted to character will be quoted if
specified by <code>quote</code>.
</p>
<p>The <code>dec</code> argument only applies to columns that are not subject
to conversion to character because they have a class or are part of a
matrix-like column (or matrix), in particular to columns protected by
<code><a href="base.html#topic+I">I</a>()</code>.  Use <code><a href="base.html#topic+options">options</a>("OutDec")</code> to control
such conversions.
</p>
<p>In almost all cases the conversion of numeric quantities is governed
by the option <code>"scipen"</code> (see <code><a href="base.html#topic+options">options</a></code>), but with
the internal equivalent of <code>digits = 15</code>.  For finer control, use
<code><a href="base.html#topic+format">format</a></code> to make a character matrix/data frame, and call
<code>write.table</code> on that.
</p>
<p>These functions check for a user interrupt every 1000 lines of output.
</p>
<p>If <code>file</code> is a non-open connection, an attempt is made to open it
and then close it after use.
</p>
<p>To write a Unix-style file on Windows, use a binary connection
e.g. <code>file = file("filename", "wb")</code>.
</p>


<h3>CSV files</h3>

<p>By default there is no column name for a column of row names.  If
<code>col.names = NA</code> and <code>row.names = TRUE</code> a blank column name
is added, which is the convention used for CSV files to be read by
spreadsheets.  Note that such CSV files can be read in <span class="rlang"><b>R</b></span> by
</p>
<pre>  read.csv(file = "&lt;filename&gt;", row.names = 1)</pre>
<p><code>write.csv</code> and <code>write.csv2</code> provide convenience wrappers
for writing CSV files.  They set <code>sep</code> and <code>dec</code> (see
below), <code>qmethod = "double"</code>, and <code>col.names</code> to <code>NA</code>
if <code>row.names = TRUE</code> (the default) and to <code>TRUE</code> otherwise.
</p>
<p><code>write.csv</code> uses <code>"."</code> for the decimal point and a comma for
the separator.
</p>
<p><code>write.csv2</code> uses a comma for the decimal point and a semicolon for
the separator, the Excel convention for CSV files in some Western
European locales.
</p>
<p>These wrappers are deliberately inflexible: they are designed to
ensure that the correct conventions are used to write a valid file.
Attempts to change <code>append</code>, <code>col.names</code>, <code>sep</code>,
<code>dec</code> or <code>qmethod</code> are ignored, with a warning.
</p>
<p>CSV files do not record an encoding, and this causes problems if they
are not ASCII for many other applications.  Windows Excel 2007/10 will
open files (e.g., by the file association mechanism) correctly if they
are ASCII or UTF-16 (use <code>fileEncoding = "UTF-16LE"</code>) or perhaps
in the current Windows codepage (e.g., <code>"CP1252"</code>), but the
&lsquo;Text Import Wizard&rsquo; (from the &lsquo;Data&rsquo; tab) allows far
more choice of encodings.  Excel:mac 2004/8 can <em>import</em> only
&lsquo;Macintosh&rsquo; (which seems to mean Mac Roman), &lsquo;Windows&rsquo;
(perhaps Latin-1) and &lsquo;PC-8&rsquo; files.  OpenOffice 3.x asks for
the character set when opening the file.
</p>
<p>There is an <abbr>IETF</abbr> RFC4180 (<a href="https://www.rfc-editor.org/rfc/rfc4180">https://www.rfc-editor.org/rfc/rfc4180</a>)
for CSV files, which mandates comma as the separator and CRLF line
endings.  <code>write.csv</code> writes compliant files on Windows: use
<code>eol = "\r\n"</code> on other platforms.
</p>


<h3>Note</h3>

<p><code>write.table</code> can be slow for data frames with large numbers
(hundreds or more) of columns: this is inevitable as each column could
be of a different class and so must be handled separately.  If they
are all of the same class, consider using a matrix instead.
</p>


<h3>See Also</h3>

<p>The &lsquo;R Data Import/Export&rsquo; manual.
</p>
<p><code><a href="#topic+read.table">read.table</a></code>, <code><a href="base.html#topic+write">write</a></code>.
</p>
<p><code><a href="MASS.html#topic+write.matrix">write.matrix</a></code> in package <a href="https://CRAN.R-project.org/package=MASS"><span class="pkg">MASS</span></a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- data.frame(a = I("a \" quote"), b = pi)
tf &lt;- tempfile(fileext = ".csv")

## To write a CSV file for input to Excel one might use
write.table(x, file = tf, sep = ",", col.names = NA,
            qmethod = "double")
file.show(tf)
## and to read this file back into R one needs
read.table(tf, header = TRUE, sep = ",", row.names = 1)
## NB: you do need to specify a separator if qmethod = "double".

### Alternatively
write.csv(x, file = tf)
read.csv(tf, row.names = 1)
## or without row names
write.csv(x, file = tf, row.names = FALSE)
read.csv(tf)

## Not run: 
## To write a file in Mac Roman for simple use in Mac Excel 2004/8
write.csv(x, file = "foo.csv", fileEncoding = "macroman")
## or for Windows Excel 2007/10
write.csv(x, file = "foo.csv", fileEncoding = "UTF-16LE")

## End(Not run)</code></pre>

<hr>
<h2 id='zip'>Create Zip Archives</h2><span id='topic+zip'></span>

<h3>Description</h3>

<p>A wrapper for an external <code>zip</code> command to create zip archives.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>zip(zipfile, files, flags = "-r9X", extras = "",
    zip = Sys.getenv("R_ZIPCMD", "zip"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="zip_+3A_zipfile">zipfile</code></td>
<td>
<p>The pathname of the zip file: tilde expansion (see
<code><a href="base.html#topic+path.expand">path.expand</a></code>) will be performed.</p>
</td></tr>
<tr><td><code id="zip_+3A_files">files</code></td>
<td>
<p>A character vector of recorded filepaths to be included.</p>
</td></tr>
<tr><td><code id="zip_+3A_flags">flags</code></td>
<td>
<p>A character string of flags to be passed to the command:
see &lsquo;Details&rsquo;.</p>
</td></tr>
<tr><td><code id="zip_+3A_extras">extras</code></td>
<td>
<p>An optional character vector: see &lsquo;Details&rsquo;.</p>
</td></tr>
<tr><td><code id="zip_+3A_zip">zip</code></td>
<td>
<p>A character string specifying the external command to be used.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>On a Unix-alike, the default for <code>zip</code> will use the
value of <span class="env">R_ZIPCMD</span>, whose default is set in &lsquo;<span class="file">etc/Renviron</span>&rsquo;
to the <code>zip</code> command found during configuration.  On Windows, the
default relies on a <code>zip</code> program (for example that from
Rtools) being in the path.
</p>
<p>The default for <code>flags</code> is that appropriate for zipping up a
directory tree in a portable way: see the system-specific help for the
<code>zip</code> command for other possibilities.
</p>
<p>Argument <code>extras</code> can be used to specify <code>-x</code> or <code>-i</code>
followed by a list of filepaths to exclude or include. Since
<code>extras</code> will be treated as if passed to <code><a href="base.html#topic+system">system</a></code>, if
the filepaths contain spaces they must be quoted e.g. by
<code><a href="base.html#topic+shQuote">shQuote</a></code>.
</p>


<h3>Value</h3>

<p>The status value returned by the external command, invisibly.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+unzip">unzip</a></code>, <code><a href="base.html#topic+unz">unz</a></code>; further, <code><a href="#topic+tar">tar</a></code> and
<code><a href="#topic+untar">untar</a></code> for (un)packing tar archives.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

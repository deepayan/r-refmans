<!DOCTYPE html><html lang="en"><head><title>Help for package ForestElementsR</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ForestElementsR}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#+25+26gt+3B+25'><p>Pipe operator</p></a></li>
<li><a href='#age_d_gnfi3'><p>Inverse Stem Diameter Growth Model of the 3rd German National Forest</p>
Inventory (2012)</a></li>
<li><a href='#age_d_gnfi3_core'><p>Core Function For the Inverse Stem Diameter Growth Model of the 3rd German</p>
National Forest Inventory (2012)</a></li>
<li><a href='#age_h_gnfi3'><p>Inverse Tree Height Growth Model of the 3rd German National Forest</p>
Inventory (2012)</a></li>
<li><a href='#age_h_gnfi3_core'><p>Core Function For the Inverse Tree Height Growth Model of the 3rd German</p>
National Forest Inventory (2012)</a></li>
<li><a href='#all_codes_allowed'><p>Check Species Codes for Compliance with a Given Coding</p></a></li>
<li><a href='#as_fe_species_bavrn_state'><p>Cast Appropriate Objects Into a <strong>fe_stand_bavrn_state</strong> Species Class</p>
Object</a></li>
<li><a href='#as_fe_species_bavrn_state_short'><p>Cast Appropriate Objects Into a <strong>fe_stand_bavrn_state_short</strong> Species Class</p>
Object</a></li>
<li><a href='#as_fe_species_ger_nfi_2012'><p>Cast Appropriate Objects Into a <strong>fe_stand_ger_nfi_2012</strong> Species Class</p>
Object</a></li>
<li><a href='#as_fe_species_master'><p>Cast Appropriate Objects Into a <strong>fe_stand_master</strong> Species Class</p>
Object</a></li>
<li><a href='#as_fe_species_tum_wwk_long'><p>Cast Appropriate Objects Into a <strong>fe_species_tum_wwk_long</strong> Species Class</p>
Object</a></li>
<li><a href='#as_fe_species_tum_wwk_short'><p>Cast Appropriate Objects Into a <strong>fe_stand_tum_wwk_short</strong> Species Class</p>
Object</a></li>
<li><a href='#assmann_layers'><p>Attribute Tree Heights to Layers After Ernst Assmann</p></a></li>
<li><a href='#check_order_of_magnitude'><p>Check a Number's Order of Magnitude Against a Requirement</p></a></li>
<li><a href='#check_trees_orders_of_magnitude'><p>Check the Orders of Magnitude of the Variables Given in a 'trees' data.frame</p>
as Required in an <em>fe_stand</em> object</a></li>
<li><a href='#crown_diameter_silva'><p>Estimate a tree's crown diameter</p></a></li>
<li><a href='#crown_diameter_silva_core'><p>Core function for the silva tree crown diameter calculation</p></a></li>
<li><a href='#d_100'><p>Dominant Diameter d100</p></a></li>
<li><a href='#d_age_gnfi3'><p>Estimate Stem Diameter Growth With the 3rd German National Forest Inventory</p>
Growth Model (2012)</a></li>
<li><a href='#d_age_gnfi3_core'><p>Core Function for Estimate Stem Diameter Growth With the 3rd German National</p>
Forest Inventory Growth Model (2012)</a></li>
<li><a href='#d_age_gnfi3_spec_convert'><p>Helper function for cascaded species conversion when applying the function</p>
d_age_gnfi3().
Try to convert given species_id into ger_nfi_2012. If this causes an error
convert to tum_wwk_short instead</a></li>
<li><a href='#d_dom_weise'><p>Weise's Dominant Diameter</p></a></li>
<li><a href='#d_q'><p>Quadratic Mean Diameter</p></a></li>
<li><a href='#example_data'><p>Example Stands</p></a></li>
<li><a href='#fe_ccircle_spatial'><p>User Friendly Construction of an <strong>fe_ccircle_spatial</strong> Object from a List of</p>
Data Frames</a></li>
<li><a href='#fe_ccircle_spatial_notrees'><p>User Friendly Construction of an <strong>fe_ccircle_spatial_notrees</strong> Object from a</p>
List of Data Frames</a></li>
<li><a href='#fe_species_bavrn_state'><p>Construct a <em>fe_species_bavrn_state</em> Species Code Vector</p></a></li>
<li><a href='#fe_species_bavrn_state_short'><p>Construct a <em>fe_species_bavrn_state_short</em> Species Code Vector</p></a></li>
<li><a href='#fe_species_ger_nfi_2012'><p>Construct a <em>fe_species_ger_nfi_2012</em> Species Code Vector</p></a></li>
<li><a href='#fe_species_get_coding'><p>Get Name of the Coding Belonging to an <strong>fe_species</strong> Object</p></a></li>
<li><a href='#fe_species_get_coding_table'><p>Get the Coding Table of a Supported <strong>fe_species</strong> Coding</p></a></li>
<li><a href='#fe_species_master'><p>Construct a <em>fe_species_master</em> Species Code Vector</p></a></li>
<li><a href='#fe_species_tum_wwk_long'><p>Construct a <em>fe_species_tum_wwk_long</em> Species Code Vector</p></a></li>
<li><a href='#fe_species_tum_wwk_short'><p>Construct a <em>fe_species_tum_wwk_short</em> Species Code Vector</p></a></li>
<li><a href='#fe_stand'><p>User Friendly Construction of an <strong>fe_stand</strong> Object from a Data Frame</p></a></li>
<li><a href='#fe_stand_spatial'><p>User Friendly Construction of an <strong>fe_stand_spatial</strong> Object from a List of</p>
Data Frames</a></li>
<li><a href='#fe_tally_list'><p>User Friendly Construction of an <strong>fe_tally_list</strong> Object from a List of</p>
Data Frames</a></li>
<li><a href='#fe_yield_table'><p>User Friendly Construction of an <strong>fe_yield_table</strong> Object from a Data Frame</p></a></li>
<li><a href='#ForestElementsR-vctrs'><p>Internal vctrs methods</p></a></li>
<li><a href='#format_fe_species'><p>Generic Formatted Output for <strong>fe_species</strong> Objects</p></a></li>
<li><a href='#format.fe_species_bavrn_state'><p>Formatted Output of an <strong>fe_species_bavrn_state</strong> Vector</p></a></li>
<li><a href='#format.fe_species_bavrn_state_short'><p>Formatted Output of an <strong>fe_species_bavrn_state_short</strong> Vector</p></a></li>
<li><a href='#format.fe_species_ger_nfi_2012'><p>Formatted Output of an <strong>fe_species_ger_nfi_2012</strong> Vector</p></a></li>
<li><a href='#format.fe_species_master'><p>Formatted Output of an <strong>fe_species_master</strong> Vector</p></a></li>
<li><a href='#format.fe_species_tum_wwk_long'><p>Formatted Output of an <strong>fe_species_tum_wwk_long</strong> Vector</p></a></li>
<li><a href='#format.fe_species_tum_wwk_short'><p>Formatted Output of an <strong>fe_species_tum_wwk_short</strong> Vector</p></a></li>
<li><a href='#get_area_ha'><p>Get the Area in ha of a Compatible Object</p></a></li>
<li><a href='#h_100'><p>Dominant Height h100</p></a></li>
<li><a href='#h_age_gnfi3'><p>Estimate Tree Height Growth With the 3rd German National Forest Inventory</p>
Growth Model (2012)</a></li>
<li><a href='#h_age_gnfi3_core'><p>Core Function for Estimate Tree Height Growth With the 3rd German National</p>
Forest Inventory Growth Model (2012)</a></li>
<li><a href='#h_age_gnfi3_spec_convert'><p>Helper function for cascaded species conversion when applying the function</p>
h_age_gnfi3().
Try to convert given species_id into ger_nfi_2012. If this causes an error
convert to tum_wwk_short instead</a></li>
<li><a href='#h_dom_weise'><p>Weise's Dominant Height</p></a></li>
<li><a href='#h_q'><p>Quadratic Mean Height</p></a></li>
<li><a href='#h_q_from_d_q'><p>Estimate Quadratic Mean Height from Quadratic Mean Diameter</p></a></li>
<li><a href='#h_q_from_d_q_core'><p>Core Function for Estimating Quadratic Mean Height from Quadratic Mean</p>
Diameter</a></li>
<li><a href='#h_standard_bv'><p>Calculate Tree Heights with the Bavarian Standard Height Curve System</p></a></li>
<li><a href='#h_standard_bv_core'><p>Core Function for calculating Individual Tree Heights with the Bavarian</p>
Standard Height Curve System</a></li>
<li><a href='#h_standard_gnfi3'><p>Calculate Tree Heights with the Bavarian Standard Height Curve System of the</p>
3rd German National Forest Inventory (2012)</a></li>
<li><a href='#h_standard_gnfi3_core'><p>Core Function for the Estimation of Tree Heights Using the Standard Height</p>
Curve System of the 3rd German National Forest Inventory</a></li>
<li><a href='#has_no_missing_values'><p>Check if Selected Columns in a Data Frame Contain Missing Values</p></a></li>
<li><a href='#has_required_lengths'><p>Check Required Length for a List of Objects</p></a></li>
<li><a href='#has_required_names'><p>Check for Required Elements Existing in an Object</p></a></li>
<li><a href='#has_required_type_or_class'><p>Check if an Object has a Required Type or Class</p></a></li>
<li><a href='#has_required_types_or_classes'><p>Check Required Type or Class for a List of Objects</p></a></li>
<li><a href='#height_crown_base_silva'><p>Estimate a tree's height to crown base</p></a></li>
<li><a href='#height_crown_base_silva_core'><p>Core function for the silva tree height to crown base calculation</p></a></li>
<li><a href='#hstd_gnfi3_spec_convert'><p>Helper function for cascaded species conversion when applying the German</p>
National forest inventory 2012 standard height curve system.
Try to convert given species_id into ger_nfi_2012. If this causes an error
convert to tum_wwk_short instead</a></li>
<li><a href='#is_distinct'><p>Check if Given Variable Combinations in a Data Frame are Distinct</p></a></li>
<li><a href='#is_fe_ccircle_spatial'><p>Check if an Object is an <strong>fe_ccircle_spatial</strong></p></a></li>
<li><a href='#is_fe_ccircle_spatial_notrees'><p>Check if an Object is an <strong>fe_ccircle_spatial_notrees</strong> object</p></a></li>
<li><a href='#is_fe_species_bavrn_state'><p>Check if an Object is a <strong>fe_species_bavrn_state</strong> species code vector</p></a></li>
<li><a href='#is_fe_species_bavrn_state_short'><p>Check if an Object is a <strong>fe_species_bavrn_state_short</strong> species code vector</p></a></li>
<li><a href='#is_fe_species_ger_nfi_2012'><p>Check if an Object is a <strong>fe_species_ger_nfi_2012</strong> species code vector</p></a></li>
<li><a href='#is_fe_species_master'><p>Check if an Object is a <strong>fe_species_master</strong> species code vector</p></a></li>
<li><a href='#is_fe_species_tum_wwk_long'><p>Check if an Object is a <strong>fe_species_tum_wwk_long</strong> species code vector</p></a></li>
<li><a href='#is_fe_species_tum_wwk_short'><p>Check if an Object is a <strong>fe_species_tum_wwk_short</strong> species code vector</p></a></li>
<li><a href='#is_fe_stand'><p>Check if an Object is an <strong>fe_stand</strong></p></a></li>
<li><a href='#is_fe_stand_spatial'><p>Check if an Object is an <strong>fe_stand_spatial</strong></p></a></li>
<li><a href='#is_fe_tally_list'><p>Check if an Object is an <strong>fe_tally_list</strong></p></a></li>
<li><a href='#is_fe_yield_table'><p>Check if an Object is an <strong>fe_yield_table</strong></p></a></li>
<li><a href='#make_trees_dataframe'><p>Build a 'trees' data.frame (tibble) as Required for <em>fe_stand</em> and</p>
<em>fe_stand_spatial</em> Objects</a></li>
<li><a href='#n_rep_ha'><p>Calculate or Return the Representation Number per ha for the Trees Contained</p>
in a Compatible Object</a></li>
<li><a href='#new_fe_ccircle_spatial'><p>Constructor for the <strong>fe_ccircle_spatial</strong> Class</p></a></li>
<li><a href='#new_fe_ccircle_spatial_notrees'><p>Constructor for the <strong>fe_ccircle_spatial_notrees</strong> Class</p></a></li>
<li><a href='#new_fe_species'><p>Generic Constructor for <strong>fe_species</strong> Objects</p></a></li>
<li><a href='#new_fe_species_bavrn_state'><p>Constructor for the <strong>fe_species_bavrn_state</strong> Class</p></a></li>
<li><a href='#new_fe_species_bavrn_state_short'><p>Constructor for the <strong>fe_species_bavrn_state_short</strong> Class</p></a></li>
<li><a href='#new_fe_species_ger_nfi_2012'><p>Constructor for the <strong>fe_species_ger_nfi_2012</strong> Class</p></a></li>
<li><a href='#new_fe_species_master'><p>Constructor for the <strong>fe_species_master</strong> Class</p></a></li>
<li><a href='#new_fe_species_tum_wwk_long'><p>Constructor for the <strong>fe_species_tum_wwk_long</strong> Class</p></a></li>
<li><a href='#new_fe_species_tum_wwk_short'><p>Constructor for the <strong>fe_species_tum_wwk_short</strong> Class</p></a></li>
<li><a href='#new_fe_stand'><p>Constructor for the <strong>fe_stand</strong> Class</p></a></li>
<li><a href='#new_fe_stand_spatial'><p>Constructor for the <strong>fe_stand_spatial</strong> Class</p></a></li>
<li><a href='#new_fe_tally_list'><p>Constructor for the <strong>fe_tally_list</strong> Class</p></a></li>
<li><a href='#new_fe_yield_table'><p>Constructor for the <strong>fe_yield_table</strong> Class</p></a></li>
<li><a href='#plot.fe_ccircle_spatial'><p>Plot an fe_ccircle_spatial Object</p></a></li>
<li><a href='#plot.fe_ccircle_spatial_notrees'><p>Plot an fe_ccircle_spatial_notrees Object</p></a></li>
<li><a href='#plot.fe_stand'><p>Plot an <strong>fe_stand</strong> Object</p></a></li>
<li><a href='#plot.fe_yield_table'><p>Plot an fe_yield_table Object</p></a></li>
<li><a href='#se_tests'><p>Convenient Information About the Precision of a Random Sample</p></a></li>
<li><a href='#shannon_index'><p>Shannon Diversity Index for Tree Species</p></a></li>
<li><a href='#si_to_mai_age'><p>Convert a Standard Site Index Into an MAI(age) Site Index</p></a></li>
<li><a href='#si_to_mai_max'><p>Convert a Standard Site Index Into an maximum MAI Site Index</p></a></li>
<li><a href='#site_index'><p>Find Site Indexes With a Yield Table</p></a></li>
<li><a href='#species_codings'><p>Supported Species Codings in the Package <strong>ForestElementsR</strong></p></a></li>
<li><a href='#species_master_table'><p>List of Supported Species in the Package <strong>ForestElementsR</strong></p></a></li>
<li><a href='#species_profile'><p>Species Profile Index After Pretzsch</p></a></li>
<li><a href='#species_shares'><p>species_shares</p></a></li>
<li><a href='#stand_level_increment'><p>stand_level_increment</p></a></li>
<li><a href='#stand_sums_dynamic'><p>stand_sums_dynamic</p></a></li>
<li><a href='#stand_sums_static'><p>Static Stand Sum and Mean Values for an fe_stand Object</p></a></li>
<li><a href='#standing_area_gnfi3'><p>Estimate the Standing Area of Single Trees</p></a></li>
<li><a href='#standing_area_gnfi3_core'><p>Core Function for the Estimation of Tree Standing Areas According to the 3rd</p>
German National Forest Inventory</a></li>
<li><a href='#stndg_area_gnfi3_spec_convert'><p>Helper function for cascaded species conversion when applying the standing</p>
area estimation of the German National forest inventory 2012.
Try to convert given species_id into ger_nfi_2012. If this causes an error
convert to tum_wwk_short instead (to be used in the default version of the
function).</a></li>
<li><a href='#stocking_level'><p>Calculate the Stocking Level (&quot;Bestockungsgrad&quot;) of a Stand</p></a></li>
<li><a href='#summary_fe_species'><p>Generic Summary for <strong>fe_species</strong> Objects</p></a></li>
<li><a href='#summary.fe_ccircle_spatial_notrees'><p>summary For a fe_ccircle_spatial_notrees object</p></a></li>
<li><a href='#summary.fe_species_bavrn_state'><p>Summary of an <strong>fe_species_bavrn_state</strong> Vector</p></a></li>
<li><a href='#summary.fe_species_bavrn_state_short'><p>Summary of an <strong>fe_species_bavrn_state_short</strong> Vector</p></a></li>
<li><a href='#summary.fe_species_ger_nfi_2012'><p>Summary of an <strong>fe_species_ger_nfi_2012</strong> Vector</p></a></li>
<li><a href='#summary.fe_species_master'><p>Summary of an <strong>fe_species_master</strong> Vector</p></a></li>
<li><a href='#summary.fe_species_tum_wwk_long'><p>Summary of an <strong>fe_species_tum_wwk_long</strong> Vector</p></a></li>
<li><a href='#summary.fe_species_tum_wwk_short'><p>Summary of an <strong>fe_species_tum_wwk_short</strong> Vector</p></a></li>
<li><a href='#summary.fe_stand'><p>Summary for an <strong>fe_stand</strong> Object</p></a></li>
<li><a href='#survey_overview'><p>Generate an Overview of the Surveys of an fe_stand Object</p></a></li>
<li><a href='#translate_spec_codes_into_names'><p>Translate Species Codes into Names</p></a></li>
<li><a href='#v_gri'><p>Calculate Tree Volumes With the GRI Volume Equations</p>
(Franz et al. 1973)</a></li>
<li><a href='#v_gri_core'><p>Core Function For the GRI Tree Volume Calculation</p></a></li>
<li><a href='#v_red_harvest_ubark'><p>Reduce a Given standing Volume Over Bark to Harvested Volume Under Bark</p></a></li>
<li><a href='#v_red_harvest_ubark_core'><p>Core Function For the Volume Reduction With v_red_harvest_ubark</p></a></li>
<li><a href='#validate_fe_ccircle_spatial'><p>Validate an <strong>fe_ccircle_spatial</strong> Object</p></a></li>
<li><a href='#validate_fe_ccircle_spatial_notrees'><p>Validate an <strong>fe_ccircle_spatial_notrees</strong> Object</p></a></li>
<li><a href='#validate_fe_species'><p>Generic Validator for <strong>fe_species</strong> Objects</p></a></li>
<li><a href='#validate_fe_species_bavrn_state'><p>Validate an <em>fe_species_bavrn_state</em> Object</p></a></li>
<li><a href='#validate_fe_species_bavrn_state_short'><p>Validate an <em>fe_species_bavrn_state_short</em> Object</p></a></li>
<li><a href='#validate_fe_species_ger_nfi_2012'><p>Validate an <em>fe_species_ger_nfi_2012</em> Object</p></a></li>
<li><a href='#validate_fe_species_master'><p>Validate an <em>fe_species_master</em> Object</p></a></li>
<li><a href='#validate_fe_species_tum_wwk_long'><p>Validate an <em>fe_species_tum_wwk_long</em> Object</p></a></li>
<li><a href='#validate_fe_species_tum_wwk_short'><p>Validate an <em>fe_species_tum_wwk_short</em> Object</p></a></li>
<li><a href='#validate_fe_stand'><p>Validate an <strong>fe_stand</strong> Object</p></a></li>
<li><a href='#validate_fe_stand_spatial'><p>Validate an <strong>fe_stand_spatial</strong> Object</p></a></li>
<li><a href='#validate_fe_tally_list'><p>Validate an <strong>fe_tally_list</strong> Object</p></a></li>
<li><a href='#validate_fe_yield_table'><p>Validate a Candidate For an fe_yield_table Object</p></a></li>
<li><a href='#vec_ptype_abbr.fe_species_bavrn_state'><p>Abbreviation for the <em>fe_species_bavrn_state</em> Type</p></a></li>
<li><a href='#vec_ptype_abbr.fe_species_bavrn_state_short'><p>Abbreviation for the <em>fe_species_bavrn_state_short</em> Type</p></a></li>
<li><a href='#vec_ptype_abbr.fe_species_ger_nfi_2012'><p>Abbreviation for the <em>fe_species_ger_nfi_2012</em> Type</p></a></li>
<li><a href='#vec_ptype_abbr.fe_species_master'><p>Abbreviation for the <em>fe_species_master</em> Type</p></a></li>
<li><a href='#vec_ptype_abbr.fe_species_tum_wwk_long'><p>Abbreviation for the <em>fe_species_tum_wwk_long</em> Type</p></a></li>
<li><a href='#vec_ptype_abbr.fe_species_tum_wwk_short'><p>Abbreviation for the <em>fe_species_tum_wwk_short</em> Type</p></a></li>
<li><a href='#yield_tables'><p>Yield Tables</p></a></li>
<li><a href='#yield_tables_for_species'><p>Yield Tables To Species Assignments</p></a></li>
<li><a href='#ytable_age_slice'><p>Take an Age Slice out of an fe_yield_table_object</p></a></li>
<li><a href='#ytable_lookup'><p>Look Up Values From Yield Tables</p></a></li>
<li><a href='#ytable_max_slice'><p>Take a Max Slice out of an fe_yield_table_object</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Data Structures and Functions for Working with Forest Data</td>
</tr>
<tr>
<td>Version:</td>
<td>2.1.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2025-02-07</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides generic data structures and algorithms for use with forest
    mensuration data in a consistent framework. The functions and objects
    included are a collection of broadly applicable tools. More specialized 
    applications should be implemented in separate packages that build on this
    foundation. Documentation about 'ForestElementsR' is provided by three
    vignettes included in this package. For an introduction to the field of 
    forest mensuration, refer to the textbooks by Kershaw et al. (2017)
    &lt;<a href="https://doi.org/10.1002%2F9781118902028">doi:10.1002/9781118902028</a>&gt;, and van Laar and Akca (2007)
    &lt;<a href="https://doi.org/10.1007%2F978-1-4020-5991-9">doi:10.1007/978-1-4020-5991-9</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>Imports:</td>
<td>magrittr, ggplot2, tibble, dplyr, purrr, rlang, Rdpack, tidyr,
vctrs, stringr, tidyselect (&ge; 1.2.0), doBy</td>
</tr>
<tr>
<td>RdMacros:</td>
<td>Rdpack</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.3), sf</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, testthat (&ge; 3.2.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-02-07 12:43:19 UTC; casto</td>
</tr>
<tr>
<td>Author:</td>
<td>Peter Biber <a href="https://orcid.org/0000-0002-9700-8708"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre, cph],
  Astor Toraño Caicoya
    <a href="https://orcid.org/0000-0002-9658-8990"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Torben Hilmers <a href="https://orcid.org/0000-0002-4982-8867"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Peter Biber &lt;p.biber@tum.de&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-02-07 13:00:07 UTC</td>
</tr>
</table>
<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>See <code>magrittr::<a href="magrittr.html#topic+pipe">%&gt;%</a></code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_lhs">lhs</code></td>
<td>
<p>A value or the magrittr placeholder.</p>
</td></tr>
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_rhs">rhs</code></td>
<td>
<p>A function call using the magrittr semantics.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The result of calling <code>rhs(lhs)</code>.
</p>

<hr>
<h2 id='age_d_gnfi3'>Inverse Stem Diameter Growth Model of the 3rd German National Forest
Inventory (2012)</h2><span id='topic+age_d_gnfi3'></span>

<h3>Description</h3>

<p>Inverse tree diameter growth model of the third German National Forest
Inventory of 2012 (Riedel et al. 2017). Allows to
estimate a tree's age at any dbh if its dbh is known at a given age.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>age_d_gnfi3(species_id, dbh_cm, dbh_cm_known, age_yr_known)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="age_d_gnfi3_+3A_species_id">species_id</code></td>
<td>
<p>Vector of species id's preferably following the
<em>ger_nfi_2012</em> species coding. Ideally, these species_id's are provided as
a <code><a href="#topic+fe_species_ger_nfi_2012">fe_species_ger_nfi_2012</a></code> object. See Details for how other
species codings are handled.</p>
</td></tr>
<tr><td><code id="age_d_gnfi3_+3A_dbh_cm">dbh_cm</code></td>
<td>
<p>Single numeric value or vector of dbh (cm) for which the
age is to be estimated</p>
</td></tr>
<tr><td><code id="age_d_gnfi3_+3A_dbh_cm_known">dbh_cm_known</code></td>
<td>
<p>Vector of known dbh (cm) values at age
<code>age_yr_known</code></p>
</td></tr>
<tr><td><code id="age_d_gnfi3_+3A_age_yr_known">age_yr_known</code></td>
<td>
<p>Vector of ages (years) for which the dbh
<code>d_cm_known</code> is known</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Originally, the function was parameterized for species and species groups
corresponding to the national forest inventory's species coding
(<code><a href="#topic+fe_species_ger_nfi_2012">fe_species_ger_nfi_2012</a></code>). We have attributed in addition these
the original parameters also to the species codings
<code><a href="#topic+fe_species_tum_wwk_short">fe_species_tum_wwk_short</a></code>, and
<code><a href="#topic+fe_species_bavrn_state_short">fe_species_bavrn_state_short</a></code>. When called with a given species
coding, the function will try to use the &quot;nearest&quot; of these three
alternatives. Fallback option is the attempt to use
<code><a href="#topic+fe_species_tum_wwk_short">fe_species_tum_wwk_short</a></code>.
</p>


<h3>Value</h3>

<p>A single age value or vector of age values corresponding to
<code>dbh_cm</code>
</p>


<h3>References</h3>

<p>Riedel T, Hennig P, Kroiher F, Polley H, Schmitz F, F. S (2017).
<em>Die dritte Bundeswaldinventur (BWI 2012). Inventur- und Auswertungsmethoden</em>.
Thuenen Institut fuer Waldoekosysteme.
</p>


<h3>See Also</h3>

<p>Other growth functions: 
<code><a href="#topic+age_h_gnfi3">age_h_gnfi3</a>()</code>,
<code><a href="#topic+d_age_gnfi3">d_age_gnfi3</a>()</code>,
<code><a href="#topic+h_age_gnfi3">h_age_gnfi3</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  # A Norway spruce has a diameter of 17.5 cm at age 45. Estimate
  # its age at dbh 20.6 cm
  age_d_gnfi3(10, 20.6, 17.5, 45) # 10 is ger_nfi_2012 code for Norway spruce

  # Do the same backward in time, age at dbh 12.4 cm
  age_d_gnfi3(10, 12.4, 17.5, 45)

  # Apply for more than one tree, different species, same age
  d_known   &lt;- c(23.1, 16.2, 35.2, 19.3, 21.8)
  d_age     &lt;- c(27.0, 19.0, 40.8, 22.9, 25.8)
  species   &lt;- as_fe_species_tum_wwk_short(c(3, 3, 3, 6, 6))
  age_d_gnfi3(
    species, dbh_cm = d_age, dbh_cm_known = d_known, age_yr_known = 40
  )

</code></pre>

<hr>
<h2 id='age_d_gnfi3_core'>Core Function For the Inverse Stem Diameter Growth Model of the 3rd German
National Forest Inventory (2012)</h2><span id='topic+age_d_gnfi3_core'></span>

<h3>Description</h3>

<p>See documentation of <code><a href="#topic+age_d_gnfi3">age_d_gnfi3</a></code> for most information,
this function is the workhorse behind, and should never be called directly by
a user.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>age_d_gnfi3_core(species_id, dbh_cm, dbh_cm_known, age_yr_known, params)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="age_d_gnfi3_core_+3A_species_id">species_id</code></td>
<td>
<p>Vector of species ids (see <code><a href="#topic+age_d_gnfi3">age_d_gnfi3</a></code>),
but for this core function to work, <code>species_id</code> must be provided as
<code>character</code>. This will and should be not checked inside this function,
because if used as intended, that has happened before calling it. The
codings must either follow the <em>ger_nfi_2012</em> or the <em>tum_wwk_short</em>
coding. In the former case, the parameter <code>param_orig</code> must be TRUE,
in the latter, it must be FALSE.</p>
</td></tr>
<tr><td><code id="age_d_gnfi3_core_+3A_dbh_cm">dbh_cm</code></td>
<td>
<p>Single numeric value or vector of dbh (cm) for which the
age is to be estimated</p>
</td></tr>
<tr><td><code id="age_d_gnfi3_core_+3A_dbh_cm_known">dbh_cm_known</code></td>
<td>
<p>Vector of known dbh (cm) values at age
<code>age_yr_known</code></p>
</td></tr>
<tr><td><code id="age_d_gnfi3_core_+3A_age_yr_known">age_yr_known</code></td>
<td>
<p>Vector of ages (years) for which the dbh
<code>d_cm_known</code> is known</p>
</td></tr>
<tr><td><code id="age_d_gnfi3_core_+3A_params">params</code></td>
<td>
<p>A data frame that defines the function parameters corresponding
to the species coding represented by <code>species_id</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function <code>age_d_gnfi3</code> is fully vectorized, inputs are recyled
according to the tibble rules
</p>


<h3>Value</h3>

<p>A vector with estimates of the trees' expected dbh (see
<code><a href="#topic+age_d_gnfi3">age_d_gnfi3</a></code>)
</p>

<hr>
<h2 id='age_h_gnfi3'>Inverse Tree Height Growth Model of the 3rd German National Forest
Inventory (2012)</h2><span id='topic+age_h_gnfi3'></span>

<h3>Description</h3>

<p>Inverse tree height growth model of the third German National Forest
Inventory of 2012 (Riedel et al. 2017). Allows to
estimate a tree's age at any height if its height is known at a given age.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>age_h_gnfi3(species_id, h_m, h_m_known, age_yr_known)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="age_h_gnfi3_+3A_species_id">species_id</code></td>
<td>
<p>Vector of species id's preferably following the
<em>ger_nfi_2012</em> species coding. Ideally, these species_id's are provided as
a <code><a href="#topic+fe_species_ger_nfi_2012">fe_species_ger_nfi_2012</a></code> object. See Details for how other
species codings are handled.</p>
</td></tr>
<tr><td><code id="age_h_gnfi3_+3A_h_m">h_m</code></td>
<td>
<p>Single numeric value or vector of tree heights (m) for which the
age is to be estimated</p>
</td></tr>
<tr><td><code id="age_h_gnfi3_+3A_h_m_known">h_m_known</code></td>
<td>
<p>Vector of known height (m) values at age
<code>age_yr_known</code></p>
</td></tr>
<tr><td><code id="age_h_gnfi3_+3A_age_yr_known">age_yr_known</code></td>
<td>
<p>Vector of ages (years) for which the height
<code>h_m_known</code> is known</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Originally, the function was parameterized for species and species groups
corresponding to the national forest inventory's species coding
(<code><a href="#topic+fe_species_ger_nfi_2012">fe_species_ger_nfi_2012</a></code>). We have attributed in addition these
the original parameters also to the species codings
<code><a href="#topic+fe_species_tum_wwk_short">fe_species_tum_wwk_short</a></code>, and
<code><a href="#topic+fe_species_bavrn_state_short">fe_species_bavrn_state_short</a></code>. When called with a given species
coding, the function will try to use the &quot;nearest&quot; of these three
alternatives. Fallback option is the attempt to use
<code><a href="#topic+fe_species_tum_wwk_short">fe_species_tum_wwk_short</a></code>.
</p>


<h3>Value</h3>

<p>A single age value or vector of age values corresponding to
<code>h_m</code>
</p>


<h3>References</h3>

<p>Riedel T, Hennig P, Kroiher F, Polley H, Schmitz F, F. S (2017).
<em>Die dritte Bundeswaldinventur (BWI 2012). Inventur- und Auswertungsmethoden</em>.
Thuenen Institut fuer Waldoekosysteme.
</p>


<h3>See Also</h3>

<p>Other growth functions: 
<code><a href="#topic+age_d_gnfi3">age_d_gnfi3</a>()</code>,
<code><a href="#topic+d_age_gnfi3">d_age_gnfi3</a>()</code>,
<code><a href="#topic+h_age_gnfi3">h_age_gnfi3</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  # A European beech has a height of 25.2 m at age 75. Estimate
  # its age at height 26.8 m
  age_h_gnfi3(100, 26.8, 25.2, 75) # 100 is ger_nfi_2012 code for E. beech

  # Do the same backward in time, age at height 21.7 m
  age_h_gnfi3(100, 21.7, 25.2, 75)

  # Apply for more than one tree, different species, same age
  h_known   &lt;- c(23.1, 16.2, 35.2, 19.3, 21.8)
  h_age     &lt;- c(25.5, 18.2, 38.0, 21.6, 24.2)
  species   &lt;- as_fe_species_tum_wwk_short(c(3, 3, 3, 6, 6))
  age_h_gnfi3(
    species, h_m = h_age, h_m_known = h_known, age_yr_known = 60
  )

</code></pre>

<hr>
<h2 id='age_h_gnfi3_core'>Core Function For the Inverse Tree Height Growth Model of the 3rd German
National Forest Inventory (2012)</h2><span id='topic+age_h_gnfi3_core'></span>

<h3>Description</h3>

<p>See documentation of <code><a href="#topic+age_h_gnfi3">age_h_gnfi3</a></code> for most information, this
function is the workhorse behind, and should never be called directly by a
user.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>age_h_gnfi3_core(species_id, h_m, h_m_known, age_yr_known, params)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="age_h_gnfi3_core_+3A_species_id">species_id</code></td>
<td>
<p>Vector of species ids (see <code><a href="#topic+age_d_gnfi3">age_d_gnfi3</a></code>), but
for this core function to work, <code>species_id</code> must be provided as
<code>character</code>. This will and should be not checked inside this function,
because if used as intended, that has happened before calling it. The
codings must either follow the <em>ger_nfi_2012</em> or the <em>tum_wwk_short</em>
coding. In the former case, the parameter <code>param_orig</code> must be TRUE,
in the latter, it must be FALSE.</p>
</td></tr>
<tr><td><code id="age_h_gnfi3_core_+3A_h_m">h_m</code></td>
<td>
<p>Single numeric value or vector of heights (m) for which the age is
to be estimated</p>
</td></tr>
<tr><td><code id="age_h_gnfi3_core_+3A_h_m_known">h_m_known</code></td>
<td>
<p>Vector of known height (m) values at age
<code>age_yr_known</code></p>
</td></tr>
<tr><td><code id="age_h_gnfi3_core_+3A_age_yr_known">age_yr_known</code></td>
<td>
<p>Vector of ages (years) for which the height
<code>h_m_known</code> is known</p>
</td></tr>
<tr><td><code id="age_h_gnfi3_core_+3A_params">params</code></td>
<td>
<p>A data frame that defines the function parameters corresponding
to the species coding represented by <code>species_id</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function <code>age_h_gnfi3</code> is fully vectorized, inputs are recyled
according to the tibble rules
</p>


<h3>Value</h3>

<p>A vector with estimates of the trees' ages (see
<code><a href="#topic+age_h_gnfi3">age_h_gnfi3</a></code>)
</p>

<hr>
<h2 id='all_codes_allowed'>Check Species Codes for Compliance with a Given Coding</h2><span id='topic+all_codes_allowed'></span>

<h3>Description</h3>

<p>Check Species Codes for Compliance with a Given Coding
</p>


<h3>Usage</h3>

<pre><code class='language-R'>all_codes_allowed(x, coding)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="all_codes_allowed_+3A_x">x</code></td>
<td>
<p>Object of one of the fe_species_id classes or a <code>character</code>
vector</p>
</td></tr>
<tr><td><code id="all_codes_allowed_+3A_coding">coding</code></td>
<td>
<p>Name of the coding against which <code>x</code> is to be checked. Must
be one of the entries in the column <code>species_coding</code> in the data file
<code><a href="#topic+species_codings">species_codings</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with two elements: 1) <code>rqmt_ok</code> which is <code>TRUE</code> if
the requirement is fulfilled and <code>FALSE</code> otherwise; 2)
<code>err_message</code>, the body of an error message to be used by the calling
function (mentions all problematic elements of x)
</p>

<hr>
<h2 id='as_fe_species_bavrn_state'>Cast Appropriate Objects Into a <strong>fe_stand_bavrn_state</strong> Species Class
Object</h2><span id='topic+as_fe_species_bavrn_state'></span>

<h3>Description</h3>

<p>If the cast is forward ambiguous, the function terminates with an error.
&quot;Forward ambiguous&quot; means that one code in the original object corresponds to
more than one codes in the goal coding. If the cast loses information, a
warning is raised, but the cast is performed. &quot;Information loss&quot; in this
context means that several codes from the orginal coding correspond to only
one code in the goal coding.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_fe_species_bavrn_state(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="as_fe_species_bavrn_state_+3A_x">x</code></td>
<td>
<p>The object to be cast, either a vector of types <code>integer</code>,
<code>double</code>, or <code>character</code> or an object of one of the supported
<strong>fe_species</strong> classes</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note that a cast where only one species id from
the original coding translates in a goal coding which represents a group of
species is NOT considered losing information (i.e. backward ambiguous),
because of the 1:1 match in the constellation of the specific cast.
</p>


<h3>Value</h3>

<p>If a meaningful cast is possible, an
<code>fe_species_bavrn_state</code> object is returned
</p>


<h3>Examples</h3>

<pre><code class='language-R'>as_fe_species_bavrn_state(c(10L, 40L, 40L, 20L)) # integer
as_fe_species_bavrn_state(c(10, 40, 40, 20)) # double
as_fe_species_bavrn_state(c("10", "40", "40", "20")) # character

# cast other fe_species classes
as_fe_species_bavrn_state(
  fe_species_tum_wwk_short(as.character(c(1, 1, 1, 3, 3, 5)))
)
as_fe_species_bavrn_state(
  fe_species_ger_nfi_2012(as.character(c(20, 20, 10, 30, 30, 100)))
)

# display the casting result in terms of scientific species names
as_fe_species_bavrn_state(c(10L, 40L, 40L, 20L)) |&gt; format("sci")

</code></pre>

<hr>
<h2 id='as_fe_species_bavrn_state_short'>Cast Appropriate Objects Into a <strong>fe_stand_bavrn_state_short</strong> Species Class
Object</h2><span id='topic+as_fe_species_bavrn_state_short'></span>

<h3>Description</h3>

<p>If the cast is forward ambiguous, the function terminates with an error.
&quot;Forward ambiguous&quot; means that one code in the original object corresponds to
more than one codes in the goal coding. If the cast loses information, a
warning is raised, but the cast is performed. &quot;Information loss&quot; in this
context means that several codes from the orginal coding correspond to only
one code in the goal coding.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_fe_species_bavrn_state_short(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="as_fe_species_bavrn_state_short_+3A_x">x</code></td>
<td>
<p>The object to be cast, either a vector of types <code>integer</code>,
<code>double</code>, or <code>character</code> or an object of one of the supported
<strong>fe_species</strong> classes</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note that a cast where only one species id from the original coding
translates in a goal coding which represents a group of species is NOT
considered losing information (i.e. backward ambiguous), because of the 1:1
match in the constellation of the specific cast.
</p>


<h3>Value</h3>

<p>If a meaningful cast is possible, an
<code>fe_species_bavrn_state_short</code> object is returned
</p>


<h3>Examples</h3>

<pre><code class='language-R'>as_fe_species_bavrn_state_short(c(1L, 4L, 4L, 2L)) # integer
as_fe_species_bavrn_state_short(c(1, 4, 4, 2)) # double
as_fe_species_bavrn_state_short(c("1", "4", "4", "2")) # character

# cast other fe_species classes
as_fe_species_bavrn_state_short(
  fe_species_tum_wwk_short(as.character(c(1, 1, 1, 3, 3, 5)))
)
as_fe_species_bavrn_state_short(
  fe_species_ger_nfi_2012(as.character(c(20, 20, 10, 30, 30, 100)))
)

# display the casting result in terms of scientific species names
as_fe_species_bavrn_state_short(c(1L, 4L, 4L, 2L)) |&gt; format("sci")

</code></pre>

<hr>
<h2 id='as_fe_species_ger_nfi_2012'>Cast Appropriate Objects Into a <strong>fe_stand_ger_nfi_2012</strong> Species Class
Object</h2><span id='topic+as_fe_species_ger_nfi_2012'></span>

<h3>Description</h3>

<p>If the cast is forward ambiguous, the function terminates with an error.
&quot;Forward ambiguous&quot; means that one code in the original object corresponds to
more than one codes in the goal coding. If the cast loses information, a
warning is raised, but the cast is performed. &quot;Information loss&quot; in this
context means that several codes from the orginal coding correspond to only
one code in the goal coding.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_fe_species_ger_nfi_2012(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="as_fe_species_ger_nfi_2012_+3A_x">x</code></td>
<td>
<p>The object to be cast, either a vector of types <code>integer</code>,
<code>double</code>, or <code>character</code> or an object of one of the supported
<strong>fe_species</strong> classes</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note that a cast where only one species id from
the original coding translates in a goal coding which represents a group of
species is NOT considered losing information (i.e. backward ambiguous),
because of the 1:1 match in the constellation of the specific cast.
</p>


<h3>Value</h3>

<p>If a meaningful cast is possible, an <code>fe_species_ger_nfi_2012</code>
object is returned
</p>


<h3>Examples</h3>

<pre><code class='language-R'>as_fe_species_ger_nfi_2012(c(10L, 40L, 40L, 20L)) # integer
as_fe_species_ger_nfi_2012(c(10, 40, 40, 20)) # double
as_fe_species_ger_nfi_2012(c("10", "40", "40", "20")) # character

# cast other fe_species classes
as_fe_species_ger_nfi_2012(
  fe_species_tum_wwk_short(as.character(c(1, 1, 1, 3, 3, 5)))
)
as_fe_species_ger_nfi_2012(
  fe_species_bavrn_state(as.character(c(20, 20, 10, 30, 30, 60)))
)
as_fe_species_ger_nfi_2012(
  fe_species_tum_wwk_long(as.character(c(83, 83, 10, 31, 40, 61)))
)

# display the casting result in terms of scientific species names
as_fe_species_ger_nfi_2012(c(10L, 40L, 40L, 20L)) |&gt; format("sci")

</code></pre>

<hr>
<h2 id='as_fe_species_master'>Cast Appropriate Objects Into a <strong>fe_stand_master</strong> Species Class
Object</h2><span id='topic+as_fe_species_master'></span>

<h3>Description</h3>

<p>If the cast is forward ambiguous, the function terminates with an error.
&quot;Forward ambiguous&quot; means that one code in the original object corresponds to
more than one codes in the goal coding. If the cast loses information, a
warning is raised, but the cast is performed. &quot;Information loss&quot; in this
context means that several codes from the orginal coding correspond to only
one code in the goal coding.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_fe_species_master(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="as_fe_species_master_+3A_x">x</code></td>
<td>
<p>The object to be cast, either a vector of types <code>integer</code>,
<code>double</code>, or <code>character</code> or an object of one of the supported
<strong>fe_species</strong> classes</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note that a cast where only one species id from
the original coding translates in a goal coding which represents a group of
species is NOT considered losing information (i.e. backward ambiguous),
because of the 1:1 match in the constellation of the specific cast.
</p>


<h3>Value</h3>

<p>If a meaningful cast is possible, an
<code>fe_species_master</code> object is returned
</p>


<h3>Examples</h3>

<pre><code class='language-R'>as_fe_species_master(c("abies_001", "fagus_001")) # character

# cast other fe_species classes
as_fe_species_master(
  fe_species_tum_wwk_short(as.character(c(1, 1, 1, 3, 3, 5)))
)
as_fe_species_master(
  fe_species_ger_nfi_2012(as.character(c(20, 20, 10, 30, 30, 100)))
)
as_fe_species_master(
  fe_species_bavrn_state(as.character(c(10L, 40L, 40L, 20L)))
)
as_fe_species_master(
  fe_species_tum_wwk_long(as.character(c(10L, 30L, 88L, 87L)))
)

# display the casting result in terms of scientific species names
as_fe_species_master(c("abies_001", "fagus_001")) |&gt; format("sci")

</code></pre>

<hr>
<h2 id='as_fe_species_tum_wwk_long'>Cast Appropriate Objects Into a <strong>fe_species_tum_wwk_long</strong> Species Class
Object</h2><span id='topic+as_fe_species_tum_wwk_long'></span>

<h3>Description</h3>

<p>If the cast is forward ambiguous, the function terminates with an error.
&quot;Forward ambiguous&quot; means that one code in the original object corresponds to
more than one codes in the goal coding. If the cast loses information, a
warning is raised, but the cast is performed. &quot;Information loss&quot; in this
context means that several codes from the orginal coding correspond to only
one code in the goal coding.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_fe_species_tum_wwk_long(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="as_fe_species_tum_wwk_long_+3A_x">x</code></td>
<td>
<p>The object to be cast, either a vector of types <code>integer</code>,
<code>double</code>, or <code>character</code> or an object of one of the supported
<strong>fe_species</strong> classes</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note that a cast where only one species id from
the original coding translates in a goal coding which represents a group of
species is NOT considered losing information (i.e. backward ambiguous),
because of the 1:1 match in the constellation of the specific cast.
</p>


<h3>Value</h3>

<p>If a meaningful cast is possible, an <code>fe_species_ger_nfi_2012</code>
object is returned
</p>


<h3>Examples</h3>

<pre><code class='language-R'>as_fe_species_tum_wwk_long(c(10L, 41L, 41L, 31L)) # integer
as_fe_species_tum_wwk_long(c(10, 41, 41, 31)) # double
as_fe_species_tum_wwk_long(c("10", "41", "41", "31")) # character

# cast other fe_species classes
as_fe_species_tum_wwk_long(
  fe_species_tum_wwk_short(as.character(c(1, 1, 1, 3, 3, 5)))
)
as_fe_species_tum_wwk_long(
  fe_species_bavrn_state(as.character(c(20, 20, 10, 30, 30, 60)))
)

# display the casting result in terms of scientific species names
as_fe_species_tum_wwk_long(c(10L, 41L, 41L, 31L)) |&gt; format("sci")

</code></pre>

<hr>
<h2 id='as_fe_species_tum_wwk_short'>Cast Appropriate Objects Into a <strong>fe_stand_tum_wwk_short</strong> Species Class
Object</h2><span id='topic+as_fe_species_tum_wwk_short'></span>

<h3>Description</h3>

<p>If the cast is forward ambiguous, the function terminates with an error.
&quot;Forward ambiguous&quot; means that one code in the original object corresponds to
more than one codes in the goal coding. If the cast loses information, a
warning is raised, but the cast is performed. &quot;Information loss&quot; in this
context means that several codes from the orginal coding correspond to only
one code in the goal coding.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_fe_species_tum_wwk_short(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="as_fe_species_tum_wwk_short_+3A_x">x</code></td>
<td>
<p>The object to be cast, either a vector of types <code>integer</code>,
<code>double</code>, or <code>character</code> or an object of one of the supported
<strong>fe_species</strong> classes</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note that a cast where only one species id from
the original coding translates in a goal coding which represents a group of
species is NOT considered losing information (i.e. backward ambiguous),
because of the 1:1 match in the constellation of the specific cast.
</p>


<h3>Value</h3>

<p>If a meaningful cast is possible, an
<code>fe_species_tum_wwk_short</code> object is returned
</p>


<h3>Examples</h3>

<pre><code class='language-R'>as_fe_species_tum_wwk_short(c(1L, 4L, 4L, 2L, 6L, 7L)) # integer
as_fe_species_tum_wwk_short(c(1, 4, 4, 2, 6, 7)) # double
as_fe_species_tum_wwk_short(c("1", "4", "4", "2", "6")) # character

# cast other fe_species classes
as_fe_species_tum_wwk_short(
  fe_species_ger_nfi_2012(as.character(c(20, 20, 10, 30, 30, 100)))
)
as_fe_species_tum_wwk_short(
  fe_species_bavrn_state(as.character(c(20, 20, 10, 30, 30, 60)))
)
as_fe_species_tum_wwk_short(
  fe_species_tum_wwk_long(as.character(c(10, 20, 10, 31, 31, 812, 87)))
)

# display the casting result in terms of scientific species names
as_fe_species_tum_wwk_short(c(1, 4, 4, 2, 6, 7, 5, 5)) |&gt; format("sci")

</code></pre>

<hr>
<h2 id='assmann_layers'>Attribute Tree Heights to Layers After Ernst Assmann</h2><span id='topic+assmann_layers'></span>

<h3>Description</h3>

<p>Tree heights are attributed to three layers as proposed by
Assmann (1961). The layers are called
Top, T, Middle, M, and Bottom, B, and correspond to &gt;80%, &gt;50%, and &gt;0% of
a reference height (usually the height of the highest tree in the stand of
interest).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>assmann_layers(heights, reference_height = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="assmann_layers_+3A_heights">heights</code></td>
<td>
<p>Vector of tree heights</p>
</td></tr>
<tr><td><code id="assmann_layers_+3A_reference_height">reference_height</code></td>
<td>
<p>Reference height for the 100% level. If <code>NULL</code>
(default), the maximum of <code>heights</code> will be used as reference height.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An ordered factor of T, M, B values, corresponding to
<code>heights</code> in the order as <code>heights</code> was provided.
</p>


<h3>References</h3>

<p>Assmann E (1961).
<em>Waldertragskunde. Organische Produktion, Struktur, Zuwachs und Ertrag von Waldbestaenden</em>.
BLV Verlagsgesellschaft, Muenchen, Bonn, Wien.
</p>


<h3>See Also</h3>

<p>Other structure and diversity: 
<code><a href="#topic+shannon_index">shannon_index</a>()</code>,
<code><a href="#topic+species_profile">species_profile</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  # Monospecific stand
  trees &lt;- norway_spruce_1_fe_stand$trees
  assmann_layers(trees$height_m)

  # Selection forest
  trees &lt;- selection_forest_1_fe_stand$trees
  assmann_layers(trees$height_m)

</code></pre>

<hr>
<h2 id='check_order_of_magnitude'>Check a Number's Order of Magnitude Against a Requirement</h2><span id='topic+check_order_of_magnitude'></span>

<h3>Description</h3>

<p>Check a Number's Order of Magnitude Against a Requirement
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_order_of_magnitude(x, min_ok, max_ok)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="check_order_of_magnitude_+3A_x">x</code></td>
<td>
<p>number to check</p>
</td></tr>
<tr><td><code id="check_order_of_magnitude_+3A_min_ok">min_ok</code></td>
<td>
<p>an integer power of 10, allowed minimum</p>
</td></tr>
<tr><td><code id="check_order_of_magnitude_+3A_max_ok">max_ok</code></td>
<td>
<p>an integer power of 10, allowed maximum</p>
</td></tr>
</table>


<h3>Value</h3>

<p>TRUE if a number x's integer power of 10 is inside the range given by
<code>min_ok</code> and <code>max_ok</code> (<code>min_ok</code> and <code>max_ok</code> included)
</p>

<hr>
<h2 id='check_trees_orders_of_magnitude'>Check the Orders of Magnitude of the Variables Given in a 'trees' data.frame
as Required in an <em>fe_stand</em> object</h2><span id='topic+check_trees_orders_of_magnitude'></span>

<h3>Description</h3>

<p>Check the Orders of Magnitude of the Variables Given in a 'trees' data.frame
as Required in an <em>fe_stand</em> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_trees_orders_of_magnitude(trees)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="check_trees_orders_of_magnitude_+3A_trees">trees</code></td>
<td>
<p>data.frame (tibble) structured as required for the 'trees'
component in an <em>fe_stand</em> object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The function issues a warning if it suspects that one of the
variables in <code>trees</code> does not have the right units. This is the side
effect it is actually called for. It always returns <code>TRUE</code> invisibly.
</p>

<hr>
<h2 id='crown_diameter_silva'>Estimate a tree's crown diameter</h2><span id='topic+crown_diameter_silva'></span>

<h3>Description</h3>

<p>This function can be used for estimating a tree's crown diameter, given its
species, its stem diameter at breast height, and its total height. This is
the crown diameter function which is implemented in the forest growth
simulator SILVA (Pretzsch et al. 2002). The crown
diameter in this context is defined as the average diameter of the crown at
its greatest lateral extension. The crown diameter equations are
available for exactly the species (groups) defined in the coding
<em>tum_wwk_short</em>. If they are called with another species coding supported by
the package <strong>ForestElementsR</strong>, <code>crown_diameter_silva</code> will attempt to
convert them accordingly.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>crown_diameter_silva(species_id, dbh_cm, height_m)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="crown_diameter_silva_+3A_species_id">species_id</code></td>
<td>
<p>Vector of species id's following the <em>tum_wwk_short</em>
species coding. Ideally, these species_id's are provided as a
<code>fe_species_tum_wwk_short</code> object. If they are provided as another
object, <code>crown_diameter_silva</code> will make an attempt to convert them.
If this is not possible, the function will terminate with an error. The
species id's can also be provided as numeric values (<code>double</code> or
<code>integer</code>) or <code>character</code>. These will be internally converted to
<code>fe_species_tum_wwk_short</code>. If this fails (i.e. the user provided
species codes not defined in the <em>tum_wwk_short</em> coding), an error is
thrown and the function terminates.</p>
</td></tr>
<tr><td><code id="crown_diameter_silva_+3A_dbh_cm">dbh_cm</code></td>
<td>
<p>Vector of tree dbh values in cm (dbh = stem diameter at breast
height, i.e. 1.3 m)</p>
</td></tr>
<tr><td><code id="crown_diameter_silva_+3A_height_m">height_m</code></td>
<td>
<p>Vector of tree height values in m</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An estimate of the tree's diameter of the crown at its greatest
lateral extension in m.
</p>


<h3>References</h3>

<p>Pretzsch H, Biber P, Dursky J (2002).
&ldquo;The single tree-based stand simulator SILVA: construction, application and evaluation.&rdquo;
<em>Forest Ecology and Management</em>, <b>162</b>(1), 3&ndash;21.
ISSN 0378-1127, <a href="https://doi.org/10.1016/S0378-1127%2802%2900047-6">doi:10.1016/S0378-1127(02)00047-6</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Estimate the crown diameter of a Scots pine with a stem diameter
# at breast height of 45.2 cm and a total height of 29.2 m:
crown_diameter_silva(
  species_id = "3",    # will be internally converted to tum_wwk_short
  dbh_cm = 45.2,
  height_m = 29.2
) # 6.1 m (rounded)

# Crown diameter estimate for a European beech with
# the same height and diameter:
crown_diameter_silva(
  species_id = "5",   # will be internally converted to tum_wwk_short
  dbh_cm = 45.2,
  height_m = 29.2
) # 9.6 m (rounded)

# Run vectorized
spec &lt;- mm_forest_1_fe_stand_spatial$trees$species_id
d &lt;- mm_forest_1_fe_stand_spatial$trees$dbh_cm
h &lt;- mm_forest_1_fe_stand_spatial$trees$height_m
crown_diameter_silva(spec, d, h)

</code></pre>

<hr>
<h2 id='crown_diameter_silva_core'>Core function for the silva tree crown diameter calculation</h2><span id='topic+crown_diameter_silva_core'></span>

<h3>Description</h3>

<p>See documentation of <code><a href="#topic+crown_diameter_silva">crown_diameter_silva</a></code> for most information,
this function is the workhorse behind, and should never be called directly by
a user.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>crown_diameter_silva_core(species_id, dbh_cm, height_m)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="crown_diameter_silva_core_+3A_species_id">species_id</code></td>
<td>
<p>Vector of species ids
(see <code><a href="#topic+crown_diameter_silva">crown_diameter_silva</a></code>), but for this core function to work,
<code>species_id</code> must be provided as <code>character</code>. This will and should
be not checked inside this function, because if used as intended, that has
happened before calling it.</p>
</td></tr>
<tr><td><code id="crown_diameter_silva_core_+3A_dbh_cm">dbh_cm</code></td>
<td>
<p>Vector of breast height diameters
(see <code><a href="#topic+crown_diameter_silva">crown_diameter_silva</a></code>)</p>
</td></tr>
<tr><td><code id="crown_diameter_silva_core_+3A_height_m">height_m</code></td>
<td>
<p>Vector of tree heights
(see <code><a href="#topic+crown_diameter_silva">crown_diameter_silva</a></code>)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function <code>crown_diameter_silva</code> is fully vectorized, inputs are
recycled according to the tibble rules
</p>


<h3>Value</h3>

<p>Tree crown diameter (see <code><a href="#topic+crown_diameter_silva">crown_diameter_silva</a></code>)
</p>

<hr>
<h2 id='d_100'>Dominant Diameter d100</h2><span id='topic+d_100'></span>

<h3>Description</h3>

<p>The dominant diameter d100 was conceptuated by Ernst Assmann and Friedrich
Franz in order obtain a mean diameter value for those trees which usually
dominate a stand throughout its whole life.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>d_100(d, n_rep_ha)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="d_100_+3A_d">d</code></td>
<td>
<p>vector of diameter values to calculate the dominant diameter d_100
of</p>
</td></tr>
<tr><td><code id="d_100_+3A_n_rep_ha">n_rep_ha</code></td>
<td>
<p>vector of representation numbers per ha for each diameter
in d. Must have the same length as d or the length 1 (in which case it is
recycled to the length of d). Otherwise, the function terminates with an
error.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The d100 is defined as the quadratic mean diameter of the hundred thickest
trees per ha. If there are only 100 trees or less on one ha, the d100 is the
same as the quadratic mean diameter <code><a href="#topic+d_q">d_q</a></code>. While the d100 is well
defined and useful in monospecific stands, it is less so in mixed stands.
</p>


<h3>Value</h3>

<p>The dominant diameter d100 value resulting from the input data
</p>


<h3>See Also</h3>

<p>Other stand diameters: 
<code><a href="#topic+d_dom_weise">d_dom_weise</a>()</code>,
<code><a href="#topic+d_q">d_q</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># A sample of trees from an angle count sample, where each
# tree represents a basal area of 4 m²/ha
d_cm &lt;- c(12, 13, 25, 27, 28, 26, 26.1, 32, 35, 31, 42)
n_rep_ha &lt;- 4 / ((d_cm / 100)^2 * pi / 4) # representation number of each tree
d_100(d_cm, n_rep_ha)
d_q(d_cm, n_rep_ha) # quadratic mean diameter for comparison


# Typical application to a set of single tree data grouped by survey
# time and species
# (note that everyone is applying d_100 mixed stands, but you should do it
# only, if you know exactly what you are doing)
library(dplyr)
oldopt &lt;- options(fe_spec_lang = "eng") # display colloquial species names
# for d_100 in mixed stands, we require species shares
spec_shares &lt;- species_shares(
  mm_forest_1_fe_stand_spatial,
  tree_filter = !removal, # include remaining trees only
  method = "ba_wd"
)
# extract the tree data to allow insights into the mechanics
trees &lt;- mm_forest_1_fe_stand_spatial$trees |&gt; filter(!removal)
# join with the shares
trees |&gt;
  left_join(spec_shares) |&gt;
  group_by(species_id, time_yr) |&gt;
  summarise(
    n_ha     = round(sum(n_rep_ha)),
    d_q      = d_q(dbh_cm, n_rep_ha), # For comparison
    d_100_cm = d_100(dbh_cm, n_rep_ha / species_share)
  ) |&gt;
  print(n = Inf)
options(oldopt) # set species name display to previous value

</code></pre>

<hr>
<h2 id='d_age_gnfi3'>Estimate Stem Diameter Growth With the 3rd German National Forest Inventory
Growth Model (2012)</h2><span id='topic+d_age_gnfi3'></span>

<h3>Description</h3>

<p>Tree diameter growth model of the third German National Forest Inventory of
2012 (Riedel et al. 2017). Allows to estimate a
tree's dbh at any age if its dbh is known at a given age.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>d_age_gnfi3(species_id, age_yr, dbh_cm_known, age_yr_known)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="d_age_gnfi3_+3A_species_id">species_id</code></td>
<td>
<p>Vector of species id's preferably following the
<em>ger_nfi_2012</em> species coding. Ideally, these species_id's are provided as
a <code><a href="#topic+fe_species_ger_nfi_2012">fe_species_ger_nfi_2012</a></code> object. See Details for how other
species codings are handled.</p>
</td></tr>
<tr><td><code id="d_age_gnfi3_+3A_age_yr">age_yr</code></td>
<td>
<p>Single numeric value or vector of ages (in years) for which the
diameter is to be calculated</p>
</td></tr>
<tr><td><code id="d_age_gnfi3_+3A_dbh_cm_known">dbh_cm_known</code></td>
<td>
<p>Vector of known dbh (cm) values at age
<code>age_yr_known</code></p>
</td></tr>
<tr><td><code id="d_age_gnfi3_+3A_age_yr_known">age_yr_known</code></td>
<td>
<p>Vector of ages (years) for which the dbh
<code>d_cm_known</code> is known</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Originally, the function was parameterized for species and species groups
corresponding to the national forest inventory's species coding
(<code><a href="#topic+fe_species_ger_nfi_2012">fe_species_ger_nfi_2012</a></code>). We have attributed in addition these
the original parameters also to the species codings
<code><a href="#topic+fe_species_tum_wwk_short">fe_species_tum_wwk_short</a></code>, and
<code><a href="#topic+fe_species_bavrn_state_short">fe_species_bavrn_state_short</a></code>. When called with a given species
coding, the function will try to use the &quot;nearest&quot; of these three
alternatives. Fallback option is the attempt to use
<code><a href="#topic+fe_species_tum_wwk_short">fe_species_tum_wwk_short</a></code>.
</p>


<h3>Value</h3>

<p>A single diameter value or vector of diameter values corresponding to
<code>age_yr</code>
</p>


<h3>References</h3>

<p>Riedel T, Hennig P, Kroiher F, Polley H, Schmitz F, F. S (2017).
<em>Die dritte Bundeswaldinventur (BWI 2012). Inventur- und Auswertungsmethoden</em>.
Thuenen Institut fuer Waldoekosysteme.
</p>


<h3>See Also</h3>

<p>Other growth functions: 
<code><a href="#topic+age_d_gnfi3">age_d_gnfi3</a>()</code>,
<code><a href="#topic+age_h_gnfi3">age_h_gnfi3</a>()</code>,
<code><a href="#topic+h_age_gnfi3">h_age_gnfi3</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  # A Norway spruce has a diameter of 17.5 cm at age 45. Estimate
  # its diameter at age 55
  d_age_gnfi3(10, 55, 17.5, 45) # 10 is ger_nfi_2012 code for Norway spruce

  # Do the same but 10 years backward in time (dbh at age 35)
  d_age_gnfi3(10, 35, 17.5, 45)

  # Apply for more than one tree, different species, same age
  d_known   &lt;- c(23.1, 16.2, 35.2, 19.3, 21.8)
  species   &lt;- as_fe_species_tum_wwk_short(c(3, 3, 3, 6, 6))
  d_age_gnfi3(
    species, age_yr = 50, dbh_cm_known = d_known, age_yr_known = 40
  )

</code></pre>

<hr>
<h2 id='d_age_gnfi3_core'>Core Function for Estimate Stem Diameter Growth With the 3rd German National
Forest Inventory Growth Model (2012)</h2><span id='topic+d_age_gnfi3_core'></span>

<h3>Description</h3>

<p>See documentation of <code><a href="#topic+d_age_gnfi3">d_age_gnfi3</a></code> for most information,
this function is the workhorse behind, and should never be called directly by
a user.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>d_age_gnfi3_core(species_id, age_yr, dbh_cm_known, age_yr_known, params)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="d_age_gnfi3_core_+3A_species_id">species_id</code></td>
<td>
<p>Vector of species ids (see <code><a href="#topic+d_age_gnfi3">d_age_gnfi3</a></code>),
but for this core function to work, <code>species_id</code> must be provided as
<code>character</code>. This will and should be not checked inside this function,
because if used as intended, that has happened before calling it. The
codings must either follow the <em>ger_nfi_2012</em> or the <em>tum_wwk_short</em>
coding. In the former case, the parameter <code>param_orig</code> must be TRUE,
in the latter, it must be FALSE.</p>
</td></tr>
<tr><td><code id="d_age_gnfi3_core_+3A_age_yr">age_yr</code></td>
<td>
<p>Single numeric value or vector of ages (in years) for which the
diameter is to be calculated</p>
</td></tr>
<tr><td><code id="d_age_gnfi3_core_+3A_dbh_cm_known">dbh_cm_known</code></td>
<td>
<p>Vector of known dbh (cm) values at age
<code>age_yr_known</code></p>
</td></tr>
<tr><td><code id="d_age_gnfi3_core_+3A_age_yr_known">age_yr_known</code></td>
<td>
<p>Vector of ages (years) for which the dbh
<code>d_cm_known</code> is known</p>
</td></tr>
<tr><td><code id="d_age_gnfi3_core_+3A_params">params</code></td>
<td>
<p>A data frame that defines the function parameters corresponding
to the species coding represented by <code>species_id</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function <code>d_age_gnfi3</code> is fully vectorized, inputs are recyled
according to the tibble rules
</p>


<h3>Value</h3>

<p>A vector with estimates of the trees' expected dbh (see
<code><a href="#topic+d_age_gnfi3">d_age_gnfi3</a></code>)
</p>

<hr>
<h2 id='d_age_gnfi3_spec_convert'>Helper function for cascaded species conversion when applying the function
d_age_gnfi3().
Try to convert given species_id into ger_nfi_2012. If this causes an error
convert to tum_wwk_short instead</h2><span id='topic+d_age_gnfi3_spec_convert'></span>

<h3>Description</h3>

<p>Helper function for cascaded species conversion when applying the function
d_age_gnfi3().
Try to convert given species_id into ger_nfi_2012. If this causes an error
convert to tum_wwk_short instead
</p>


<h3>Usage</h3>

<pre><code class='language-R'>d_age_gnfi3_spec_convert(species_id)
</code></pre>

<hr>
<h2 id='d_dom_weise'>Weise's Dominant Diameter</h2><span id='topic+d_dom_weise'></span>

<h3>Description</h3>

<p>The dominant diameter after Weise is the quadratic mean diameter of the 20%
biggest trees in a stand. In contrast to the dominant diameter
<code><a href="#topic+d_100">d_100</a></code> it is well defined not only in monospecific stands, but
also in mixed stands.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>d_dom_weise(d, n_rep = 1)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="d_dom_weise_+3A_d">d</code></td>
<td>
<p>vector of diameter values to calculate Weise's dominant diameter
of</p>
</td></tr>
<tr><td><code id="d_dom_weise_+3A_n_rep">n_rep</code></td>
<td>
<p>vector of representation numbers (typically the number of trees
per ha corresponding to the diameter at the same position), will be used
as individual weights for each diameter. If n_rep has length 1, it will be
recycled to the length of d. Otherwise, if the length of n_rep does not
correspond to the length of d, the function will terminate with an error.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The value of Weise's dominant diameter resulting from the input data
</p>


<h3>See Also</h3>

<p>Other stand diameters: 
<code><a href="#topic+d_100">d_100</a>()</code>,
<code><a href="#topic+d_q">d_q</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># A sample of trees from an angle count sample, where each
# tree represents a basal area of 4 m²/ha
d_cm &lt;- c(12, 13, 25, 27, 28, 26, 26.1, 32, 35, 31, 42)
n_rep_ha &lt;- 4 / ((d_cm / 100)^2 * pi / 4) # representation number of each tree
d_dom_weise(d_cm, n_rep_ha)
d_100(d_cm, n_rep_ha) # dominant diameter d100 for comparison
d_q(d_cm, n_rep_ha) # quadratic mean diameter for comparison

# if 20% of the trees are 100 stems/ha, Weise's dominant diameter and
# d100 are equal
d_cm &lt;- rnorm(n = 500, mean = 35, sd = 7)
d_dom_weise(d_cm, 1)
d_100(d_cm, 1)

# Weise's dominant diameter is greater than d100, if 20% of the trees
# represent less than 100 trees/ha
d_cm &lt;- rnorm(n = 200, mean = 35, sd = 7)
d_dom_weise(d_cm, 1)
d_100(d_cm, 1)

# Weise's dominant diameter is smaller than d100, if 20% of the trees
# represent more than 100 trees/ha
d_cm &lt;- rnorm(n = 800, mean = 35, sd = 7)
d_dom_weise(d_cm, 1)
d_100(d_cm, 1)

</code></pre>

<hr>
<h2 id='d_q'>Quadratic Mean Diameter</h2><span id='topic+d_q'></span>

<h3>Description</h3>

<p>Function for calculating the quadratic mean of a vector. The typical
application in forestry is to calculate the quadratic mean diameter.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>d_q(d, n_rep = 1)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="d_q_+3A_d">d</code></td>
<td>
<p>vector of (stem diameter at breast height) values to calculate the
quadratic mean of</p>
</td></tr>
<tr><td><code id="d_q_+3A_n_rep">n_rep</code></td>
<td>
<p>vector of representation numbers (typically the number of trees
per ha corresponding to the diameter at the same position), will be used
as individual weights for each diameter. If n_rep has length 1, it will be
recycled to the length of d. Otherwise, if the length of n_rep does not
correspond to the length of d, the function will terminate with an error.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the quadratic mean of d
</p>


<h3>See Also</h3>

<p>Other stand diameters: 
<code><a href="#topic+d_100">d_100</a>()</code>,
<code><a href="#topic+d_dom_weise">d_dom_weise</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Evaluate a sample of equally weighted tree diameters
d_cm &lt;- c(12, 13, 25, 27, 28, 26, 26.1, 32, 35, 31, 42)
d_q(d_cm) # quadratic mean diameter
mean(d_cm) # the arithmetic mean is not the same!

# Assume, the same sample comes from an angle count sample, where each
# tree represents a basal area of 4 m²/ha
n_rep_ha &lt;- 4 / ((d_cm / 100)^2 * pi / 4) # representation number of each tree
d_q(d_cm, n_rep_ha)


# Typical application to a set of single tree data grouped by survey
# time and species
library(dplyr)
oldopt &lt;- options(fe_spec_lang = "eng") # display colloquial species names
# extract the tree data to allow insights into the mechanics
trees &lt;- mm_forest_1_fe_stand_spatial$trees |&gt; filter(!removal)
trees |&gt;
  group_by(species_id, time_yr) |&gt;
  summarise(
    n_ha   = round(sum(n_rep_ha)),
    d_q_cm = d_q(dbh_cm, n_rep_ha)
  ) |&gt;
  print(n = Inf)
options(oldopt) # set species name display to previous value

</code></pre>

<hr>
<h2 id='example_data'>Example Stands</h2><span id='topic+example_data'></span><span id='topic+norway_spruce_1_raw'></span><span id='topic+norway_spruce_1_fe_stand'></span><span id='topic+european_beech_1_raw'></span><span id='topic+european_beech_1_fe_stand'></span><span id='topic+spruce_beech_1_raw'></span><span id='topic+spruce_beech_1_fe_stand'></span><span id='topic+selection_forest_1_raw'></span><span id='topic+selection_forest_1_fe_stand'></span><span id='topic+mm_forest_1_raw'></span><span id='topic+mm_forest_1_fe_stand_spatial'></span><span id='topic+spruce_pine_ccircle_raw'></span><span id='topic+spruce_pine_ccircle_spatial'></span><span id='topic+spruce_pine_ccircle_spatial_notrees'></span>

<h3>Description</h3>

<p><strong>ForestelementsR</strong> comes with five example stands that exist each in a 'raw'
format that could have been taken from a user data base, and one of the
package's specific stand object classes (<strong>fe_stand</strong>, <strong>fe_stand_spatial</strong>,
,<strong>fe_ccircle_spatial</strong>). Four of the example stands correspond to the
<strong>fe_stand</strong> class, one to the
<strong>fe_stand_spatial</strong>  and one to <strong>fe_ccircle_spatial</strong>class.
The <strong>fe_stand</strong>, <strong>fe_stand_spatial</strong> and  <strong>fe_ccircle_spatial</strong> objects
have been constructed from the raw data using the functions
<code><a href="#topic+fe_stand">fe_stand</a></code>,  <code><a href="#topic+fe_stand_spatial">fe_stand_spatial</a></code> and
<code><a href="#topic+fe_ccircle_spatial">fe_ccircle_spatial</a></code> (see the examples section of the functions'
documentation).
</p>

<dl>
<dt><strong>fe_stand</strong> compatible examples:</dt><dd>
<p>The first stand is a 53 years-old Norway spruce stand, the second one
a 79 year old European beech stand, the third an even-aged mixed stand of
Norway spruce and European beech (75 and 88 years, respectively). The
fourth stand is a selection forest comprising the species Norway spruce,
silver fir, European beech, and sycamore. All these stands have an area
of 0.49 ha. The raw data (see name suffix) are data.frames (tibbles)
comprising the following columns
</p>

<dl>
<dt><code>stand</code></dt><dd><p>Name of the stand</p>
</dd>
<dt><code>species</code></dt><dd><p>Integer numbers following the
<code>TUM_WWK_short</code> convention</p>
</dd>
<dt><code>no</code></dt><dd><p>Tree id</p>
</dd>
<dt><code>age</code></dt><dd><p>Tree age (i.e. stand age, in these examples) in
years; note that the selection forest data do not provide age
information, as this is usually not available in practice and mostly
not meaningful for this forest type</p>
</dd>
<dt><code>d</code></dt><dd><p>Breast height (1.3 m) stem diameter in cm</p>
</dd>
<dt><code>h</code></dt><dd><p>Tree height in m</p>
</dd>
<dt><code>hcb</code></dt><dd><p>Crown base height in m</p>
</dd>
<dt><code>crad</code></dt><dd><p>Crown radius in m</p>
</dd>
</dl>

<p>The fe_stand objects (see name suffix) resulted from converting the
raw data with <code><a href="#topic+fe_stand">fe_stand</a></code>
</p>
</dd>
<dt><strong>fe_stand_spatial</strong> compatible example:</dt><dd>
<p><strong>mm_forest_1_raw</strong> represents raw data from a research plot in a mixed
mountain forest that has been surveyed several times.
<strong>mm_forest_1_fe_stand_spatial</strong> is the representation of this plot as an
object of class <code><a href="#topic+fe_stand_spatial">fe_stand_spatial</a></code>
</p>
</dd>
<dt><strong>fe_ccircle_spatial</strong> compatible examples</dt><dd>
<p><strong>spruce_pine_ccircle_raw</strong> represents raw data that could come from a
typical inventory plot of the Bavarian State Forest, while
<strong>spruce_pine_ccircle_spatial</strong> is an object of class
<code><a href="#topic+fe_ccircle_spatial">fe_ccircle_spatial</a></code>.
</p>
</dd>
</dl>



<h3>Usage</h3>

<pre><code class='language-R'>norway_spruce_1_raw

norway_spruce_1_fe_stand

european_beech_1_raw

european_beech_1_fe_stand

spruce_beech_1_raw

spruce_beech_1_fe_stand

selection_forest_1_raw

selection_forest_1_fe_stand

mm_forest_1_raw

mm_forest_1_fe_stand_spatial

spruce_pine_ccircle_raw

spruce_pine_ccircle_spatial

spruce_pine_ccircle_spatial_notrees
</code></pre>


<h3>Format</h3>

<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 498 rows and 8 columns.
</p>
<p>An object of class <code>fe_stand</code> of length 4.
</p>
<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 268 rows and 8 columns.
</p>
<p>An object of class <code>fe_stand</code> of length 4.
</p>
<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 225 rows and 8 columns.
</p>
<p>An object of class <code>fe_stand</code> of length 4.
</p>
<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 283 rows and 7 columns.
</p>
<p>An object of class <code>fe_stand</code> of length 4.
</p>
<p>An object of class <code>list</code> of length 5.
</p>
<p>An object of class <code>fe_stand_spatial</code> (inherits from <code>fe_stand</code>) of length 6.
</p>
<p>An object of class <code>list</code> of length 8.
</p>
<p>An object of class <code>fe_ccircle_spatial</code> (inherits from <code>fe_stand_spatial</code>, <code>fe_stand</code>) of length 6.
</p>
<p>An object of class <code>fe_ccircle_spatial_notrees</code> (inherits from <code>fe_ccircle_spatial</code>, <code>fe_stand_spatial</code>, <code>fe_stand</code>) of length 6.
</p>

<hr>
<h2 id='fe_ccircle_spatial'>User Friendly Construction of an <strong>fe_ccircle_spatial</strong> Object from a List of
Data Frames</h2><span id='topic+fe_ccircle_spatial'></span>

<h3>Description</h3>

<p><code>fe_ccircle_spatial()</code> provides a user-friendly interface for the
constructor <code><a href="#topic+new_fe_ccircle_spatial">new_fe_ccircle_spatial</a></code>. While the constructor does
not prevent users from creating malformed <code>fe_ccircle_spatial</code> objects,
<code>fe_ccircle_spatial</code> does everything to achieve a well-defined object
mostly based on an initial list of data.frames that might be, e.g. drawn out
of a user's own data base.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fe_ccircle_spatial(
  x,
  method = c("strict", "flexible"),
  tree_frame_name = "trees",
  tree_pos_frame_name = "tree_positions",
  circle_frame_name = "circle_definition",
  center_coord = "center_coordinate",
  small_trees_name = "small_trees",
  time_yr_name = "time_yr",
  tree_id_col,
  species_id_col,
  time_yr_col,
  dbh_cm_col,
  radius_col,
  angle_col,
  stand_id = "my_fe_ccircle_spatial",
  layer_key_col = NA,
  age_yr_col = NA,
  height_m_col = NA,
  crown_base_height_m_col = NA,
  crown_radius_m_col = NA,
  removal_col = NA,
  ingrowth_col = NA,
  n_rep_ha_col = NA,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fe_ccircle_spatial_+3A_x">x</code></td>
<td>
<p>named list of two data frames to be coerced into the goal object. One
data frame must contain the single tree data; it has the same requirements
as for the input data frame <code>x</code> of the function <code><a href="#topic+fe_stand">fe_stand</a></code>
or  <code><a href="#topic+fe_stand_spatial">fe_stand_spatial</a></code>. Another data frame must contain the tree
positions.</p>
</td></tr>
<tr><td><code id="fe_ccircle_spatial_+3A_method">method</code></td>
<td>
<p>name of the method for dealing with trees without positions. If
method = &quot;flexible&quot; the validator issues a warning. By default (method =
&quot;strict&quot;), all trees must have defined positions and the validator issues an
error. Trees without positions are typically trees below a certain dbh
threshold. Note that this check applies only to trees that actually have a
dbh, not to trees in the <code>small_trees</code> slot of an
<code>fe_ccircle_spatial object</code>.</p>
</td></tr>
<tr><td><code id="fe_ccircle_spatial_+3A_tree_frame_name">tree_frame_name</code></td>
<td>
<p>name of the data frame in <code>x</code> that contains the
single tree data (default: &quot;trees&quot;)</p>
</td></tr>
<tr><td><code id="fe_ccircle_spatial_+3A_tree_pos_frame_name">tree_pos_frame_name</code></td>
<td>
<p>name of the data frame in <code>x</code> that contains
the tree positions (default: &quot;tree_positions&quot;), it must contain the tree_id
the radius and the angle in polar coordinates. The angle must be
defined in degrees with the Y-Axis as North (anti-clockwise) and
the radius in meters.</p>
</td></tr>
<tr><td><code id="fe_ccircle_spatial_+3A_circle_frame_name">circle_frame_name</code></td>
<td>
<p>name of the data frame in <code>x</code> that contains the
definition of the concentric circles. It must contain the lower and the
upper dbh limits, the circle area in Ha, and the slope in degrees. If the
slope is not given it will be set to 0.</p>
</td></tr>
<tr><td><code id="fe_ccircle_spatial_+3A_center_coord">center_coord</code></td>
<td>
<p>name of the sf object that contains the center coordinate
of the circles with coordinate reference system (either Gauss Kruger or
UTM). If it is not provided the center will be c(0,0) by the default</p>
</td></tr>
<tr><td><code id="fe_ccircle_spatial_+3A_small_trees_name">small_trees_name</code></td>
<td>
<p>name of the object that contains the information
regarding the small trees (generally those trees that do no have any dbh
because of having a height below 1.3 m). This object is still experimental,
so the only requirement for it is that it has to be a data frame with at
least one row with column names. Useful standard information in this data
frame are the tree id, the height and representation area.</p>
</td></tr>
<tr><td><code id="fe_ccircle_spatial_+3A_time_yr_name">time_yr_name</code></td>
<td>
<p>name of the element of <code>x</code> which contains the
required time information, i.e. a single (calendar) year or vector of years
in order to give the object a time relation. If small tree information is
present (i.e. the small tree data frame is not empty), <code>time_yr</code> must
absolutely match with the <code>time_yr</code> column of this data frame.</p>
</td></tr>
<tr><td><code id="fe_ccircle_spatial_+3A_tree_id_col">tree_id_col</code></td>
<td>
<p>name of the column in the trees and tree_positions data
frames  which contains the tree id's (<code>character</code>, required, must not
contain missing values)</p>
</td></tr>
<tr><td><code id="fe_ccircle_spatial_+3A_species_id_col">species_id_col</code></td>
<td>
<p>name of the column in trees data frame which contains
the species id's. Must be an object of one  of the <code>fe_species</code> classes
supported by this package. This column is required, must not contain missing
values.</p>
</td></tr>
<tr><td><code id="fe_ccircle_spatial_+3A_time_yr_col">time_yr_col</code></td>
<td>
<p>name of the column in the trees data frame which provides
time information in years (<code>character</code>, required, must not contain
missing values)</p>
</td></tr>
<tr><td><code id="fe_ccircle_spatial_+3A_dbh_cm_col">dbh_cm_col</code></td>
<td>
<p>name of the column in the trees data frame which contains
the dbh in cm (<code>character</code>, required, must not contain missing values)</p>
</td></tr>
<tr><td><code id="fe_ccircle_spatial_+3A_radius_col">radius_col</code></td>
<td>
<p>name of the column in the tree positions data frame that
contains the distance to the center of the plot (<code>character</code>).</p>
</td></tr>
<tr><td><code id="fe_ccircle_spatial_+3A_angle_col">angle_col</code></td>
<td>
<p>name of the column in the tree positions data frame that
contains the angle coordinate of the tree in polar coordinates. The angle
must be measured respect to the x axis and anticlockwise (<code>character</code>).</p>
</td></tr>
<tr><td><code id="fe_ccircle_spatial_+3A_stand_id">stand_id</code></td>
<td>
<p>arbitrary id of the stand (<code>character</code>, default:
&quot;my_fe_ccircle_spatial&quot;)</p>
</td></tr>
<tr><td><code id="fe_ccircle_spatial_+3A_layer_key_col">layer_key_col</code></td>
<td>
<p>name of the column in <code>x</code> that contains codes for
the stand layer a given tree belongs to. These codes are whole numbers.
The following values are allowed: 1 - Main stand, 2 - Understorey,
3 - Pregeneration (ger: &quot;Vorausverjuengung&quot;), 4 - Remnant trees, hold over
trees, veteran trees (ger: &quot;Nachhiebsreste&quot;, &quot;Ueberhaelter&quot;, &quot;Altbaeume&quot;).
Must not contain missing values if provided. If not provided, it will be
set to 1 (main stand) for every tree.</p>
</td></tr>
<tr><td><code id="fe_ccircle_spatial_+3A_age_yr_col">age_yr_col</code></td>
<td>
<p>name of the column in the trees data frame which provides
the tree ages in years (<code>character</code>, optional, may contain missing
values)</p>
</td></tr>
<tr><td><code id="fe_ccircle_spatial_+3A_height_m_col">height_m_col</code></td>
<td>
<p>name of the column in the trees data frame which provides
the tree heights in m (<code>character</code>, optional, may contain missing
values)</p>
</td></tr>
<tr><td><code id="fe_ccircle_spatial_+3A_crown_base_height_m_col">crown_base_height_m_col</code></td>
<td>
<p>name of the column in the trees data frame
which provides the crown base heights in m (<code>character</code>, optional, may
contain missing values)</p>
</td></tr>
<tr><td><code id="fe_ccircle_spatial_+3A_crown_radius_m_col">crown_radius_m_col</code></td>
<td>
<p>name of the column in the trees data frame which
provides the crown radii in m (<code>character</code>, optional, may contain
missing values)</p>
</td></tr>
<tr><td><code id="fe_ccircle_spatial_+3A_removal_col">removal_col</code></td>
<td>
<p>name of the column in the trees data frame which provides
the tree's removal status. If <code>TRUE</code>, this indicates the tree was
removed or dead at the time indicated in <code>age_yr_col</code>
(<code>character</code>, optional, must not contain missing values if provided).
If not provided, the removal status will be <code>FALSE</code> for all trees in
the resulting <code>fe_ccircle_spatial</code> object.</p>
</td></tr>
<tr><td><code id="fe_ccircle_spatial_+3A_ingrowth_col">ingrowth_col</code></td>
<td>
<p>name of the column in the trees data frame which provides
the tree's ingrowth status. If <code>TRUE</code>, this indicates a tree that grew
newly in at the time indicated in <code>age_yr_col</code> (<code>character</code>,
optional, must not contain missing values if provided). If not provided, the
ingrowth status will be <code>FALSE</code> for all trees in the resulting
<code>fe_ccircle_spatial</code> object.</p>
</td></tr>
<tr><td><code id="fe_ccircle_spatial_+3A_n_rep_ha_col">n_rep_ha_col</code></td>
<td>
<p>name of the column in the trees data frame which provides
each tree's representation number per ha. n_rep_ha will be always
recalculated based on the representation area of each of the concentric
circles.</p>
</td></tr>
<tr><td><code id="fe_ccircle_spatial_+3A_verbose">verbose</code></td>
<td>
<p>name of the column in the trees data frame which provides the
tree's ingrowth status. If <code>TRUE</code>, this indicates a tree that grew
newly in at the time indicated in <code>age_yr_col</code> (<code>character</code>,
optional, must not contain missing values if provided). If not provided, the
ingrowth status will be <code>FALSE</code> for all trees in the resulting
<code>fe_ccircle_spatial</code> object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>An object of class <code>fe_ccircle_spatial</code> is a child object of
<code>fe_stand_spatial</code> which, however, contains information about the
horizontal positions of the trees in a concentric circle representation
scheme. All spatial information and its processing is based on the R-package
<a href="https://CRAN.R-project.org/package=sf">sf</a>.
</p>
<p>The input object <code>x</code> to <code>fe_ccircle_spatial</code> must be a list that
comprises two and an optional third data frame(s): </p>
 <ul>
<li><p> a data
frame containing the single tree information (same requirements as for
<code><a href="#topic+fe_stand">fe_stand</a></code>). This data frame must contain a a minimum set of
columns (tree id, species id, time variable, diameter at breast height). These
columns must not contain missing values. Other columns (containing tree
height, height to crown base, crown radius, tree age) are optional for the
user to provide. If provided, they may contain missing values. If not
provided, these columns will only contain missing values in the
<code>fe_ccircle_spatial</code> object. The columns about the trees' removal and
ingrowth status are also optional, but if provided, they must <em>not</em> contain
missing values. If not provided, both columns will be filled with <code>FALSE</code>
in the resulting <code>fe_ccircle_spatial</code> object.
<code>fe_ccircle_spatial</code> will automatically add a column <code>n_rep_ha</code>
which contains for each tree the number of trees it represents per ha. This
may seem redundant if looking at <code>fe_ccircle</code> objects alone, but it
allows a broad range of evaluation functions to be applied to different
objects containing trees. In addition to the input object of
<code><a href="#topic+fe_ccircle_spatial">fe_ccircle_spatial</a></code>, there is one additional list element needed
which defines a single (calendar) year or a vector of years in order to give
the object a time relation. If small tree information is present (i.e. the
small tree data frame is not empty), <code>time_yr</code> must absolutely match
with the <code>time_yr</code> column of this data frame.
</p>
</li>
<li><p> a data frame that contains information about the tree positions. This is
not part of the first data frame, because the latter could contain several
observations (at different times) of the same tree, which would lead to
redundant coordinate representation. This data frame must contain a column
with tree id's, and the x and y coordinates of the stem center points.
<code>NA</code> values are not allowed in this data frame.</p>
</li></ul>



<h3>Value</h3>

<p>If the user input allows to construct a well-defined
<code>fe_ccircle_spatial</code> object, this object will be returned. If not, the
function will terminate with an error.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Transform the example data collection mm_forest_1_raw (could e.g. have
# been drawn out of a user's data base) into an fe_ccircle_spatial object

spruce_pine_ccircle_sp &lt;- spruce_pine_ccircle_raw |&gt;
  fe_ccircle_spatial(
    method = "flexible",
    tree_id_col = "tree_id",
    species_id_col = "species_id",
    time_yr_col = "time_yr",
    dbh_cm_col = "dbh_cm",
    radius_col = "R",
    angle_col = "angle",
    stand_id = mm_forest_1_raw$stand_id,
    height_m_col = "height_m",
    removal_col = "removal",
    time_yr_name = "time_yr"
  )
# Show a little summary, display scientific species names
options(fe_spec_lang = "sci")
spruce_pine_ccircle_sp |&gt; summary()

</code></pre>

<hr>
<h2 id='fe_ccircle_spatial_notrees'>User Friendly Construction of an <strong>fe_ccircle_spatial_notrees</strong> Object from a
List of Data Frames</h2><span id='topic+fe_ccircle_spatial_notrees'></span>

<h3>Description</h3>

<p><code>fe_ccircle_spatial_notrees()</code> provides a user-friendly interface for
the constructor <code><a href="#topic+new_fe_ccircle_spatial_notrees">new_fe_ccircle_spatial_notrees</a></code>. While the
constructor does not prevent users from creating malformed
<code>new_fe_ccircle_spatial_notrees</code> objects,
<code>new_fe_ccircle_spatial_notrees</code> does everything to achieve a
well-defined object mostly based on an initial list of data.frames that might
be, e.g. drawn out of a user's own data base.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fe_ccircle_spatial_notrees(
  x,
  time_yr_name = "time_yr",
  circle_frame_name = "circle_definition",
  center_coord = "center_coordinate",
  small_trees_name = "small_trees",
  stand_id = "my_fe_ccircle_spatial_notrees"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fe_ccircle_spatial_notrees_+3A_x">x</code></td>
<td>
<p>Named list to be coerced into the goal object.</p>
</td></tr>
<tr><td><code id="fe_ccircle_spatial_notrees_+3A_time_yr_name">time_yr_name</code></td>
<td>
<p>name of the element of <code>x</code> which contains the
required time information, i.e. a single (calendar) year or vector of years
in order to give the object a time relation. If small tree information is
present (i.e. the small tree data frame is not empty), <code>time_yr</code> must
absolutely match with the <code>time_yr</code> column of this data frame.</p>
</td></tr>
<tr><td><code id="fe_ccircle_spatial_notrees_+3A_circle_frame_name">circle_frame_name</code></td>
<td>
<p>Name of the data frame in <code>x</code> that contains the
definition of the concentric circles. It must contain the lower and the
upper dbh limits, the circle area in Ha, and the slope in degrees. If the
slope is not given it will be set to 0.</p>
</td></tr>
<tr><td><code id="fe_ccircle_spatial_notrees_+3A_center_coord">center_coord</code></td>
<td>
<p>Name of the sf object that contains the center coordinate
of the circles with coordinate reference system (either Gauss Kruger or
UTM). If it is not provided the center will be c(0,0) by the default</p>
</td></tr>
<tr><td><code id="fe_ccircle_spatial_notrees_+3A_small_trees_name">small_trees_name</code></td>
<td>
<p>Name of the object that contains the information
regarding the small trees (generally those trees that do no have any dbh
because of having a height below 1.3 m). This object is still experimental,
so the only requirement for it is that it has to be a data frame without
any further specification. Useful standard information in this data frame
are the tree id, the height and represenation area.</p>
</td></tr>
<tr><td><code id="fe_ccircle_spatial_notrees_+3A_stand_id">stand_id</code></td>
<td>
<p>arbitrary id of the stand (<code>character</code>, default:
&quot;my_fe_ccircle_spatial&quot;)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>An object of class <code>fe_ccircle_spatial_notrees</code> is a child object of
<code><a href="#topic+fe_ccircle_spatial">fe_ccircle_spatial</a></code> which, however does not contain trees which
are big enough to have a dbh. So, in contrast to
<code><a href="#topic+fe_ccircle_spatial">fe_ccircle_spatial</a></code> objects, where the elements <code>trees</code>,
and <code>tree_positions</code> must be data frames, both are <code>NULL</code> in this
class. The class <code>fe_ccircle_spatial_notrees</code> has been designed for
covering a comparably rare case, i.e. an inventory point where no regular
trees (trees that are big enough to have a dbh), but possibly small trees are
present. The input object <code>x</code> to <code>fe_ccircle_spatial</code> must be a
list that follows the same conventions as the input object of
<code><a href="#topic+fe_ccircle_spatial">fe_ccircle_spatial</a></code>, except that no tree data frame is required.
If it does exist, it will be ignored. In addition to the input object of
<code><a href="#topic+fe_ccircle_spatial">fe_ccircle_spatial</a></code>, there is one additional list element needed
which defines a single (calendar) year or a vector of years in order to give
the object a time relation. If small tree information is present (i.e. the
small tree data frame is not empty), <code>time_yr</code> must absolutely match
with the <code>time_yr</code> column of this data frame.
</p>


<h3>Value</h3>

<p>If the user input allows to construct a well-defined
<code>fe_ccircle_spatial_notrees</code> object, this object will be returned. If
not, the function will terminate with an error.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Transform the example data collection mm_forest_1_raw (could e.g. have
# been drawn out of a user's data base) into an fe_ccircle_spatial_notrees
# object. This means, that in the resulting data frame the trees and their
# positions are ignored.
notrees_example &lt;- spruce_pine_ccircle_raw |&gt;
  fe_ccircle_spatial_notrees()

plot(notrees_example)

</code></pre>

<hr>
<h2 id='fe_species_bavrn_state'>Construct a <em>fe_species_bavrn_state</em> Species Code Vector</h2><span id='topic+fe_species_bavrn_state'></span>

<h3>Description</h3>

<p>User interface for constructing a vector of species codes follwing the
<em>fe_species_bavrn_state</em> convention
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fe_species_bavrn_state(x = character())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fe_species_bavrn_state_+3A_x">x</code></td>
<td>
<p>Input vector to become a vector of tree species codes by the
definition <em>bavrn_state</em>. Any type of vector (typically
<code>integer</code>) which, after conversion with <code><a href="base.html#topic+as.character">as.character</a></code>,
adheres to that definition is acceptable. If <code>x</code> is provided as a
character vector, leading and trailing white spaces will be trimmed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <em>bavrn_state</em> species coding is the species coding used by the Bavarian
State Forest Service. See the example section for how to look up the coding.
</p>


<h3>Value</h3>

<p>If the user input allows to construct a well-defined
<code>fe_species_bavrn_state</code> object, this object will be returned. If
not, the function will terminate with an error.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Libraries required for the following two examples
library(dplyr)
library(purrr)

# Look up the bavrn_state species codes for all supported species
# the column species_id contains the bavrn_state codes
species_codings |&gt;
  filter(species_coding == "bavrn_state") |&gt;
  pluck(2, 1) |&gt;
  arrange(as.numeric(species_id)) |&gt; # just for the look of it
  print(n = Inf)

# Display a summary table which shows the number of single species behind
# each bavrn_state species code
species_codings |&gt;
  filter(species_coding == "bavrn_state") |&gt;
  pluck(2, 1) |&gt;
  group_by(name_eng, species_id) |&gt; # display english names
  summarise(n = n()) |&gt;
  arrange(as.numeric(species_id)) |&gt; # just for the look of it
  print(n = Inf)


# Make an fe_species_bavrn_state vector from a vector of integer codes
spec_ids &lt;- fe_species_bavrn_state(
  c(10, 10, 10, 60, 60, 60, 60, 30, 30, 80, 86, 80)
)

</code></pre>

<hr>
<h2 id='fe_species_bavrn_state_short'>Construct a <em>fe_species_bavrn_state_short</em> Species Code Vector</h2><span id='topic+fe_species_bavrn_state_short'></span>

<h3>Description</h3>

<p>User interface for constructing a vector of species codes follwing the
<em>fe_species_bavrn_state_short</em> convention
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fe_species_bavrn_state_short(x = character())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fe_species_bavrn_state_short_+3A_x">x</code></td>
<td>
<p>Input vector to become a vector of tree species codes by the
definition <em>bavrn_state_short</em>. Any type of vector (typically
<code>integer</code>) which, after conversion with <code><a href="base.html#topic+as.character">as.character</a></code>,
adheres to that definition is acceptable. If <code>x</code> is provided as a
character vector, leading and trailing white spaces will be trimmed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <em>bavrn_state_short</em> species coding is the species coding used by the
Bavarian State Forest Service for aggregated data evaluations. It is actually
a grouped version of the detailed <em>bavrn_state</em> coding. See the example
section for how to look up the coding.
</p>


<h3>Value</h3>

<p>If the user input allows to construct a well-defined
<code>fe_species_bavrn_state_short</code> object, this object will be returned.
If not, the function will terminate with an error.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Libraries required for the following two examples
library(dplyr)
library(purrr)

# Look up the bavrn_state_short species codes for all supported species
# the column species_id contains the bavrn_state_short codes
species_codings |&gt;
  filter(species_coding == "bavrn_state_short") |&gt;
  pluck(2, 1) |&gt;
  arrange(as.numeric(species_id)) |&gt; # just for the look of it
  print(n = Inf)

# Or, use an even easier access with
fe_species_get_coding_table("bavrn_state_short")

# Display a summary table which shows the number of single species behind
# each bavrn_state_short species code
fe_species_get_coding_table("bavrn_state_short") |&gt;
  group_by(name_eng, species_id) |&gt; # display english names
  summarise(n = n()) |&gt;
  arrange(as.numeric(species_id)) |&gt; # just for the look of it
  print(n = Inf)


# Make an fe_species_bavrn_state_short vector from a vector of integer codes
spec_ids &lt;- fe_species_bavrn_state_short(
  c(1, 1, 1, 6, 6, 6, 6, 3, 3, 8, 8, 8)
)

</code></pre>

<hr>
<h2 id='fe_species_ger_nfi_2012'>Construct a <em>fe_species_ger_nfi_2012</em> Species Code Vector</h2><span id='topic+fe_species_ger_nfi_2012'></span>

<h3>Description</h3>

<p>User interface for constructing a vector of species codes follwing the
<em>fe_species_ger_nfi_2012</em> convention
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fe_species_ger_nfi_2012(x = character())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fe_species_ger_nfi_2012_+3A_x">x</code></td>
<td>
<p>Input vector to become a vector of tree species codes by the
definition <em>ger_nfi_2012</em>. Any type of vector (typically
<code>integer</code>) which, after conversion with <code><a href="base.html#topic+as.character">as.character</a></code>,
adheres to that definition is acceptable. If <code>x</code> is provided as a
character vector, leading and trailing white spaces will be trimmed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <em>ger_nfi_2012</em> species coding is the species coding used by the German
National Forest Inventory of 2012. See the example section for how to look up
the coding.
</p>


<h3>Value</h3>

<p>If the user input allows to construct a well-defined
<code>fe_species_ger_nfi_2012</code> object, this object will be returned. If
not, the function will terminate with an error.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Libraries required for the following two examples
library(dplyr)
library(purrr)

# Look up the ger_nfi_2012 species codes for all supported species
# the column species_id contains the ger_nfi_2012 codes
species_codings |&gt;
  filter(species_coding == "ger_nfi_2012") |&gt;
  pluck(2, 1) |&gt;
  arrange(as.numeric(species_id)) |&gt; # just for the look of it
  print(n = Inf)

# Display a summary table which shows the number of single species behind
# each ger_nfi_2012 species code
species_codings |&gt;
  filter(species_coding == "ger_nfi_2012") |&gt;
  pluck(2, 1) |&gt;
  group_by(name_eng, species_id) |&gt; # display english names
  summarise(n = n()) |&gt;
  arrange(as.numeric(species_id)) |&gt; # just for the look of it
  print(n = Inf)


# Make an fe_species_ger_nfi_2012 vector from a vector of integer codes
spec_ids &lt;- fe_species_ger_nfi_2012(
  c(10, 10, 10, 100, 100, 100, 100, 20, 20, 190, 290, 190)
)

</code></pre>

<hr>
<h2 id='fe_species_get_coding'>Get Name of the Coding Belonging to an <strong>fe_species</strong> Object</h2><span id='topic+fe_species_get_coding'></span>

<h3>Description</h3>

<p>Get Name of the Coding Belonging to an <strong>fe_species</strong> Object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fe_species_get_coding(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fe_species_get_coding_+3A_x">x</code></td>
<td>
<p>An object of one of the supported <code>fe_species</code> classes</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The requested coding name (<code>character</code>)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>spec_ids &lt;- fe_species_ger_nfi_2012(c("10", "10", "30"))
fe_species_get_coding(spec_ids)

</code></pre>

<hr>
<h2 id='fe_species_get_coding_table'>Get the Coding Table of a Supported <strong>fe_species</strong> Coding</h2><span id='topic+fe_species_get_coding_table'></span>

<h3>Description</h3>

<p>Get the Coding Table of a Supported <strong>fe_species</strong> Coding
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fe_species_get_coding_table(coding)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fe_species_get_coding_table_+3A_coding">coding</code></td>
<td>
<p>A character string representing one of the supported codings as
can be requested for a given <strong>fe_species</strong> object with
<code><a href="#topic+fe_species_get_coding">fe_species_get_coding</a></code>, or one of the entries in the column
<code>species_coding</code> of the data <code>species_codings</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>data.frame</code> (<code>tibble</code>) representing the requested coding
</p>


<h3>Examples</h3>

<pre><code class='language-R'>fe_species_get_coding_table("ger_nfi_2012")
fe_species_get_coding_table("bavrn_state")
fe_species_get_coding_table("tum_wwk_short")

</code></pre>

<hr>
<h2 id='fe_species_master'>Construct a <em>fe_species_master</em> Species Code Vector</h2><span id='topic+fe_species_master'></span>

<h3>Description</h3>

<p>User interface for constructing a vector of species codes follwing the
<em>fe_species_master</em> convention
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fe_species_master(x = character())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fe_species_master_+3A_x">x</code></td>
<td>
<p>Input vector to become a vector of tree species codes by the
definition <em>master</em>. Any type of vector (typically <code>integer</code>)
which, after conversion with <code><a href="base.html#topic+as.character">as.character</a></code>, adheres to that
definition is acceptable. If <code>x</code> is provided as a character vector,
leading and trailing white spaces will be trimmed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <em>master</em> species coding is the original species coding used by the
package <strong>ForestElementsR</strong>. It contains each species from the
<code><a href="#topic+species_master_table">species_master_table</a></code> and no species groups. See the example
section for how to look up the coding.
</p>


<h3>Value</h3>

<p>If the user input allows to construct a well-defined
<code>fe_species_master</code> object, this object will be returned. If not,
the function will terminate with an error.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Libraries required for the following two examples
library(dplyr)
library(purrr)

# Look up the master species codes for all supported species
# the column species_id contains the master codes
fe_species_get_coding_table("master") |&gt;
  print(n = Inf)

# Display a summary table which shows the number of single species behind
# each master species code (must be 1 with no exception)
fe_species_get_coding_table("master") |&gt;
  group_by(name_eng, species_id) |&gt; # display english names
  summarise(n = n()) |&gt;
  arrange(as.numeric(species_id)) |&gt; # just for the look of it
  print(n = Inf)

# Make an fe_species_master vector from a character vector of appropriate
# codes
spec_ids &lt;- fe_species_master(
  c("pinus_002", "sorbus_002", "sorbus_002", "quercus_002", "prunus_001")
)

</code></pre>

<hr>
<h2 id='fe_species_tum_wwk_long'>Construct a <em>fe_species_tum_wwk_long</em> Species Code Vector</h2><span id='topic+fe_species_tum_wwk_long'></span>

<h3>Description</h3>

<p>User interface for constructing a vector of species codes follwing the
<em>fe_species_tum_wwk_long</em> convention
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fe_species_tum_wwk_long(x = character())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fe_species_tum_wwk_long_+3A_x">x</code></td>
<td>
<p>Input vector to become a vector of tree species codes by the
definition <em>tum_wwk_long</em>. Any type of vector (typically <code>integer</code>)
which, after conversion with <code><a href="base.html#topic+as.character">as.character</a></code>, adheres to that
definition is acceptable. If <code>x</code> is provided as a character vector,
leading and trailing white spaces will be trimmed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <em>tum_wwk_long</em> species coding is one of two codings in use at the Chair
of Forest Growth and Yield Science (see <code><a href="#topic+species_codings">species_codings</a></code> for
more information). See the example section for how to look up the coding.
</p>


<h3>Value</h3>

<p>If the user input allows to construct a well-defined
<code>fe_species_ger_nfi_2012</code> object, this object will be returned. If
not, the function will terminate with an error.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Libraries required for the following two examples
library(dplyr)
library(purrr)

# Look up the tum_wwk_long species codes for all supported species
# the column species_id contains the tum_wwk_long codes
species_codings |&gt;
  filter(species_coding == "tum_wwk_long") |&gt;
  pluck(2, 1) |&gt;
  arrange(as.numeric(species_id)) |&gt; # just for the look of it
  print(n = Inf)

# Display a summary table which shows the number of single species behind
# each tum_wwk_long species code
species_codings |&gt;
  filter(species_coding == "tum_wwk_long") |&gt;
  pluck(2, 1) |&gt;
  group_by(name_eng, species_id) |&gt; # display english names
  summarise(n = n()) |&gt;
  arrange(as.numeric(species_id)) |&gt; # just for the look of it
  print(n = Inf)


# Make an fe_species_tum_wwk_long vector from a vector of integer codes
spec_ids &lt;- fe_species_tum_wwk_long(
  c(10, 10, 10, 20, 20, 20, 50, 50, 811, 811, 811, 891)
)

</code></pre>

<hr>
<h2 id='fe_species_tum_wwk_short'>Construct a <em>fe_species_tum_wwk_short</em> Species Code Vector</h2><span id='topic+fe_species_tum_wwk_short'></span>

<h3>Description</h3>

<p>User interface for constructing a vector of species codes follwing the
<em>fe_species_tum_wwk_short</em> convention
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fe_species_tum_wwk_short(x = character())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fe_species_tum_wwk_short_+3A_x">x</code></td>
<td>
<p>Input vector to become a vector of tree species codes by the
definition <em>tum_wwk_short</em>. Any type of vector (typically
<code>integer</code>) which, after conversion with <code><a href="base.html#topic+as.character">as.character</a></code>,
adheres to that definition is acceptable. If <code>x</code> is provided as a
character vector, leading and trailing white spaces will be trimmed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <em>tum_wwk_short</em> species coding is one of two codings in use
at the Chair of Forest Growth and Yield Science. It defines only a small set
of single species explicitly (the most important ones in Central Europe),
while all other species are attributed to three large container groups. See
the example section for how to look up the coding.
</p>


<h3>Value</h3>

<p>If the user input allows to construct a well-defined
<code>fe_species_tum_wwk_short</code> object, this object will be returned. If
not, the function will terminate with an error.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Libraries required for the following two examples
library(dplyr)
library(purrr)

# Look up the tum_wwk_short species codes for all supported species
# the column species_id contains the tum_wwk_short codes
species_codings |&gt;
  filter(species_coding == "tum_wwk_short") |&gt;
  pluck(2, 1) |&gt;
  print(n = Inf)

# Display a summary table which shows the number of single species behind
# each tum_wwk_short species code
species_codings |&gt;
  filter(species_coding == "tum_wwk_short") |&gt;
  pluck(2, 1) |&gt;
  group_by(name_eng, species_id) |&gt; # display english names
  summarise(n = n()) |&gt;
  arrange(as.numeric(species_id)) |&gt; # just for the look of it
  print(n = Inf)


# Make an fe_species_tum_wwk_short vector from a vector of integer codes
spec_ids &lt;- fe_species_tum_wwk_short(c(1, 1, 1, 5, 5, 5, 5, 3, 3, 8, 9, 8))

</code></pre>

<hr>
<h2 id='fe_stand'>User Friendly Construction of an <strong>fe_stand</strong> Object from a Data Frame</h2><span id='topic+fe_stand'></span>

<h3>Description</h3>

<p><code>fe_stand()</code> provides a user-friendly interface for the constructor
<code><a href="#topic+new_fe_stand">new_fe_stand</a></code>. While the constructor does not prevent users from
creating malformed <code>fe_stand</code> objects, <code>fe_stand</code> does everything
to achieve a well-defined object mostly based on an initial <code>data.frame</code>
that might be, e.g. drawn out of a user's own data base.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fe_stand(
  x,
  tree_id_col,
  species_id_col,
  time_yr_col,
  dbh_cm_col,
  area_ha,
  stand_id = "my_fe_stand",
  layer_key_col = NA,
  age_yr_col = NA,
  height_m_col = NA,
  crown_base_height_m_col = NA,
  crown_radius_m_col = NA,
  removal_col = NA,
  ingrowth_col = NA,
  n_rep_ha_col = NA,
  small_trees = data.frame(),
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fe_stand_+3A_x">x</code></td>
<td>
<p><code>data.frame</code> to be coerced into the goal object. Each line of
<code>x</code> must represent a single tree. As a minimum requirement, there must
be a column for the tree id, the species id, the time (in years), the
diameter at breast height (dbh), each.</p>
</td></tr>
<tr><td><code id="fe_stand_+3A_tree_id_col">tree_id_col</code></td>
<td>
<p>name of the column in <code>x</code> which contains the tree
id's (<code>character</code>, required, must not contain missing values)</p>
</td></tr>
<tr><td><code id="fe_stand_+3A_species_id_col">species_id_col</code></td>
<td>
<p>name of the column in <code>x</code> which contains the
species id's. Must be an object of one  of the <code>fe_species</code> classes
supported by this package. This column is required, must not contain
missing values.</p>
</td></tr>
<tr><td><code id="fe_stand_+3A_time_yr_col">time_yr_col</code></td>
<td>
<p>name of the column in <code>x</code> which provides time
information in years (<code>character</code>, required, must not contain missing
values)</p>
</td></tr>
<tr><td><code id="fe_stand_+3A_dbh_cm_col">dbh_cm_col</code></td>
<td>
<p>name of the column in <code>x</code> which contains the dbh in cm
(<code>character</code>, required, must not contain missing values)</p>
</td></tr>
<tr><td><code id="fe_stand_+3A_area_ha">area_ha</code></td>
<td>
<p>size of the stand area in ha (<code>numeric</code>. It is possible
to have no defined stand area; in this case area_ha must be
<code>NULL</code>, and n_rep_ha_col must be given (with no missing values).</p>
</td></tr>
<tr><td><code id="fe_stand_+3A_stand_id">stand_id</code></td>
<td>
<p>arbitrary id of the stand (<code>character</code>, default:
&quot;my_fe_stand&quot;)</p>
</td></tr>
<tr><td><code id="fe_stand_+3A_layer_key_col">layer_key_col</code></td>
<td>
<p>name of the column in <code>x</code> that contains codes for
the stand layer a given tree belongs to. These codes are whole numbers.
The following values are allowed: 1 - Main stand, 2 - Understorey,
3 - Pregeneration (ger: &quot;Vorausverjuengung&quot;), 4 - Remnant trees, hold over
trees, veteran trees (ger: &quot;Nachhiebsreste&quot;, &quot;Ueberhaelter&quot;, &quot;Altbaeume&quot;).
Must not contain missing values if provided. If not provided, it will be
set to 1 (main stand) for every tree.</p>
</td></tr>
<tr><td><code id="fe_stand_+3A_age_yr_col">age_yr_col</code></td>
<td>
<p>name of the column in <code>x</code> which provides the tree ages
in years (<code>character</code>, optional, may contain missing values)</p>
</td></tr>
<tr><td><code id="fe_stand_+3A_height_m_col">height_m_col</code></td>
<td>
<p>name of the column in <code>x</code> which provides the tree
heights in m (<code>character</code>, optional, may contain missing values)</p>
</td></tr>
<tr><td><code id="fe_stand_+3A_crown_base_height_m_col">crown_base_height_m_col</code></td>
<td>
<p>name of the column in <code>x</code> which provides
the crown base heights in m (<code>character</code>, optional, may contain
missing values)</p>
</td></tr>
<tr><td><code id="fe_stand_+3A_crown_radius_m_col">crown_radius_m_col</code></td>
<td>
<p>name of the column in <code>x</code> which provides the
crown radii in m (<code>character</code>, optional, may contain missing values)</p>
</td></tr>
<tr><td><code id="fe_stand_+3A_removal_col">removal_col</code></td>
<td>
<p>name of the column in <code>x</code> which provides the tree's
removal status. If <code>TRUE</code>, this indicates the tree was removed or dead
at the time indicated in <code>age_yr_col</code> (<code>character</code>, optional,
must not contain missing values if provided). If not provided, the removal
status will be <code>FALSE</code> for all trees in the resulting <code>fe_stand</code>
object.</p>
</td></tr>
<tr><td><code id="fe_stand_+3A_ingrowth_col">ingrowth_col</code></td>
<td>
<p>name of the column in <code>x</code> which provides the tree's
ingrowth status. If <code>TRUE</code>, this indicates a tree that grew newly in
at the time indicated in <code>age_yr_col</code> (<code>character</code>, optional,
must not contain missing values if provided). If not provided, the ingrowth
status will be <code>FALSE</code> for all trees in the resulting <code>fe_stand</code>
object.</p>
</td></tr>
<tr><td><code id="fe_stand_+3A_n_rep_ha_col">n_rep_ha_col</code></td>
<td>
<p>name of the column in the trees data frame which provides
each tree's representation number per ha. Not required if a stand area is
provided under <code>area_ha</code>. If a stand outline is given, n_rep_ha will
be always recalculated based on the outline and the tree positions.</p>
</td></tr>
<tr><td><code id="fe_stand_+3A_small_trees">small_trees</code></td>
<td>
<p>An <code>fe_stand</code> object does contain an extra slot for
small trees, defined as trees which are too small to have an own dbh (i.e.
having a height &gt; 1.3 m). So far, this slot is still experimental. The only
requirement is that it is a <code>data.frame</code>. Such a <code>data.frame</code> can
be provided via this parameter, it will be directly put into the goal
object's <code>small_trees</code> slot. The default is a <code>data.frame</code> with
zero rows and zero columns (<code>data.frame()</code>).</p>
</td></tr>
<tr><td><code id="fe_stand_+3A_verbose">verbose</code></td>
<td>
<p><code>logical</code>, if <code>TRUE</code> (default) the tree size
variables will be checked for plausible orders of magnitude after
successful construction of the <code>fe_stand</code> object. In case of a
potential implausibility, a warning will be raised. The purpose of this
mechanism is to avoid unit mismatches.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The initial <code>data.frame</code> (or even nicer, <code>tibble</code>) provided by the
user must contain a a minimum set of columns (tree id, species id, time
variable, diameter at breast height). These columns must not contain missing
values. Other columns (containing tree height, height to crown base, crown
radius, tree age) are optional for the user to provide. If provided, they may
contain missing values. If not provided these columns will only contain
missing values in the <code>fe_stand</code> object. The columns about the trees'
removal and ingrowth status are also optional, but if provided, they must
<em>not</em> contain missing values. If not provided, both columns will be filled
with <code>FALSE</code> in the resulting <code>fe_stand</code> object.
</p>
<p>The columns from the user's <code>data.frame</code> that correspond to the columns
defined in <code>fe_stand</code> objects will turn up in the object under standard
names. All other columns that might be in the <code>data.frame</code> will be
transferred to the <code>fe_stand</code> object with their orignal names. It is the
user's responsibility to take care of them.
</p>
<p><code>fe_stand</code> will automatically add a column <code>n_rep_ha</code> which
contains for each tree the number of trees it represents per ha. This may
seem redundant if looking at <code>fe_stand</code> objects alone, but it allows a
broad range of evaluation functions to be applied to different objects
containing trees.
</p>


<h3>Value</h3>

<p>If the user input allows to construct a well-defined <code>fe_stand</code>
object, this object will be returned. If not, the function will terminate
with an error.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Constructing an fe_stand object based on the minimum required information
# - make data.frame (or, nicer, a tibble) with stand information from
#   scratch
candidate_stand &lt;- tibble::tibble(
  tree_no    = as.character(c(1:100)),
  species_id = as_fe_species_tum_wwk_short(c(rep("1", 30), rep("5", 70))),
  time_yr    = 2022,
  dbh        = c(rnorm(30, 45, 12), rnorm(70, 38, 9))
)

# - call fe_stand
goal_fe_stand_object &lt;- fe_stand(
  x = candidate_stand,
  tree_id_col = "tree_no",
  species_id_col = "species_id",
  time_yr_col = "time_yr",
  dbh_cm_col = "dbh",
  area_ha = 0.33
)


# Using raw data that could come out of a user's data bases; here one
# example stands (spruce_beech_1_raw) provided with the ForestElementsR
# package
spruce_beech_1_raw$year &lt;- 2022 # No time information in the data frame
spruce_beech_1_raw$species &lt;- as_fe_species_tum_wwk_short(
  spruce_beech_1_raw$species
)

spruce_beech_stand &lt;- fe_stand(
  spruce_beech_1_raw,
  tree_id_col = "no",
  species_id_col = "species",
  time_yr_col = "year",
  dbh_cm_col = "d",
  area_ha = 0.49,
  stand_id = spruce_beech_1_raw[1, ]$stand,
  age_yr_col = "age",
  height_m_col = "h",
  crown_base_height_m_col = "hcb",
  crown_radius_m_col = "crad"
)

# Little summary
spruce_beech_stand |&gt; summary()

</code></pre>

<hr>
<h2 id='fe_stand_spatial'>User Friendly Construction of an <strong>fe_stand_spatial</strong> Object from a List of
Data Frames</h2><span id='topic+fe_stand_spatial'></span>

<h3>Description</h3>

<p><code>fe_stand_spatial()</code> provides a user-friendly interface for the
constructor <code><a href="#topic+new_fe_stand_spatial">new_fe_stand_spatial</a></code>. While the constructor does
not prevent users from creating malformed <code>fe_stand_spatial</code> objects,
<code>fe_stand_spatial</code> does everything to achieve a well-defined object
mostly based on an initial list of data.frames that might be, e.g. drawn out
of a user's own data base.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fe_stand_spatial(
  x,
  tree_frame_name = "trees",
  tree_pos_frame_name = "tree_positions",
  outline_frame_name = "outline",
  orientation = NA,
  tree_id_col,
  species_id_col,
  time_yr_col,
  dbh_cm_col,
  x_m_col,
  y_m_col,
  stand_id = "my_fe_stand_spatial",
  layer_key_col = NA,
  age_yr_col = NA,
  height_m_col = NA,
  crown_base_height_m_col = NA,
  crown_radius_m_col = NA,
  removal_col = NA,
  ingrowth_col = NA,
  n_rep_ha_col = NA,
  small_trees = data.frame(),
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fe_stand_spatial_+3A_x">x</code></td>
<td>
<p>named list of two or three data frames to be coerced into the goal
object. One data frame must contain the single tree data; it has the same
requirements as for the input data frame <code>x</code> of the function
<code><a href="#topic+fe_stand">fe_stand</a></code>. Another data frame must contain the tree positions.
The third data frame is optional, if provided it must contain a coordinate
description of the stand/plot outline. See the Details section for all
requirements.</p>
</td></tr>
<tr><td><code id="fe_stand_spatial_+3A_tree_frame_name">tree_frame_name</code></td>
<td>
<p>name of the data frame in <code>x</code> that contains the
single tree data (default: &quot;trees&quot;)</p>
</td></tr>
<tr><td><code id="fe_stand_spatial_+3A_tree_pos_frame_name">tree_pos_frame_name</code></td>
<td>
<p>name of the data frame in <code>x</code> that contains
the tree positions (default: &quot;tree_positions&quot;)</p>
</td></tr>
<tr><td><code id="fe_stand_spatial_+3A_outline_frame_name">outline_frame_name</code></td>
<td>
<p>name of the data frame in <code>x</code> that contains
the stand outline information (default: &quot;outline&quot;). It is possible to have
no defined stand outline; in this case outline_frame_name must be
<code>NULL</code>, and n_rep_ha_col must be given (with no missing values).</p>
</td></tr>
<tr><td><code id="fe_stand_spatial_+3A_orientation">orientation</code></td>
<td>
<p>counterclockwise angle in degrees between the y-axis of
the coordinate system of the stand outline and the tree positions and the
north direction. The value <code>NA</code> is allowed.</p>
</td></tr>
<tr><td><code id="fe_stand_spatial_+3A_tree_id_col">tree_id_col</code></td>
<td>
<p>name of the column in the trees and tree_positions data
frames  which contains the tree id's (<code>character</code>, required, must not
contain missing values)</p>
</td></tr>
<tr><td><code id="fe_stand_spatial_+3A_species_id_col">species_id_col</code></td>
<td>
<p>name of the column in trees data frame which contains
the species id's. Must be an object of one  of the <code>fe_species</code>
classes supported by this package. This column is required, must not
contain missing values.</p>
</td></tr>
<tr><td><code id="fe_stand_spatial_+3A_time_yr_col">time_yr_col</code></td>
<td>
<p>name of the column in the trees data frame which provides
time information in years (<code>character</code>, required, must not contain
missing values)</p>
</td></tr>
<tr><td><code id="fe_stand_spatial_+3A_dbh_cm_col">dbh_cm_col</code></td>
<td>
<p>name of the column in the trees data frame which contains
the dbh in cm (<code>character</code>, required, must not contain missing values)</p>
</td></tr>
<tr><td><code id="fe_stand_spatial_+3A_x_m_col">x_m_col</code></td>
<td>
<p>name of the column in the tree positions data frame that
contains the x-coordinates of the tree stem centers in m. The coordinates
must adhere to the same coordinate system as the coordinates in the plot
outline data frame. If the latter is provided, its x column must also have
the name provided with <code>x_m_col</code>.</p>
</td></tr>
<tr><td><code id="fe_stand_spatial_+3A_y_m_col">y_m_col</code></td>
<td>
<p>name of the column in the tree positions data frame that
contains the y-coordinates of the tree stem centers in m. The coordinates
must adhere to the same coordinate system as the coordinates in the plot
outline data frame. If the latter is provided, its x column must also have
the name provided with <code>y_m_col</code>.</p>
</td></tr>
<tr><td><code id="fe_stand_spatial_+3A_stand_id">stand_id</code></td>
<td>
<p>arbitrary id of the stand (<code>character</code>, default:
&quot;my_fe_stand_spatial&quot;)</p>
</td></tr>
<tr><td><code id="fe_stand_spatial_+3A_layer_key_col">layer_key_col</code></td>
<td>
<p>name of the column in <code>x</code> that contains codes for
the stand layer a given tree belongs to. These codes are whole numbers.
The following values are allowed: 1 - Main stand, 2 - Understorey,
3 - Pregeneration (ger: &quot;Vorausverjuengung&quot;), 4 - Remnant trees, hold over
trees, veteran trees (ger: &quot;Nachhiebsreste&quot;, &quot;Ueberhaelter&quot;, &quot;Altbaeume&quot;).
Must not contain missing values if provided. If not provided, it will be
set to 1 (main stand) for every tree.</p>
</td></tr>
<tr><td><code id="fe_stand_spatial_+3A_age_yr_col">age_yr_col</code></td>
<td>
<p>name of the column in the trees data frame which provides
the tree ages in years (<code>character</code>, optional, may contain missing
values)</p>
</td></tr>
<tr><td><code id="fe_stand_spatial_+3A_height_m_col">height_m_col</code></td>
<td>
<p>name of the column in the trees data frame which provides
the tree heights in m (<code>character</code>, optional, may contain missing
values)</p>
</td></tr>
<tr><td><code id="fe_stand_spatial_+3A_crown_base_height_m_col">crown_base_height_m_col</code></td>
<td>
<p>name of the column in the trees data frame
which provides the crown base heights in m (<code>character</code>, optional, may
contain missing values)</p>
</td></tr>
<tr><td><code id="fe_stand_spatial_+3A_crown_radius_m_col">crown_radius_m_col</code></td>
<td>
<p>name of the column in the trees data frame which
provides the crown radii in m (<code>character</code>, optional, may contain
missing values)</p>
</td></tr>
<tr><td><code id="fe_stand_spatial_+3A_removal_col">removal_col</code></td>
<td>
<p>name of the column in the trees data frame which provides
the tree's removal status. If <code>TRUE</code>, this indicates the tree was
removed or dead at the time indicated in <code>age_yr_col</code>
(<code>character</code>, optional, must not contain missing values if provided).
If not provided, the removal status will be <code>FALSE</code> for all trees in
the resulting <code>fe_stand</code> object.</p>
</td></tr>
<tr><td><code id="fe_stand_spatial_+3A_ingrowth_col">ingrowth_col</code></td>
<td>
<p>name of the column in the trees data frame which provides
the tree's ingrowth status. If <code>TRUE</code>, this indicates a tree that grew
newly in at the time indicated in <code>age_yr_col</code> (<code>character</code>,
optional, must not contain missing values if provided). If not provided,
the ingrowth status will be <code>FALSE</code> for all trees in the resulting
<code>fe_stand</code> object.</p>
</td></tr>
<tr><td><code id="fe_stand_spatial_+3A_n_rep_ha_col">n_rep_ha_col</code></td>
<td>
<p>name of the column in the trees data frame which provides
each tree's representation number per ha. Not required if a stand outline
is provided in <code>x</code>. If a stand outline is given, n_rep_ha will be
always recalculated based on the outline and the tree positions.</p>
</td></tr>
<tr><td><code id="fe_stand_spatial_+3A_small_trees">small_trees</code></td>
<td>
<p>An <code>fe_stand_spatial</code> object does contain an extra
slot for small trees, defined as trees which are too small to have an own
dbh (i.e. having a height &gt; 1.3 m). So far, this slot is still
experimental. The only requirement is that it is a <code>data.frame</code>. Such
a <code>data.frame</code> can be provided via this parameter, it will be directly
put into the goal object's <code>small_trees</code> slot. The default is a
<code>data.frame</code> with zero rows and zero columns (<code>data.frame()</code>).</p>
</td></tr>
<tr><td><code id="fe_stand_spatial_+3A_verbose">verbose</code></td>
<td>
<p>name of the column in the trees data frame which provides the
tree's ingrowth status. If <code>TRUE</code>, this indicates a tree that grew
newly in at the time indicated in <code>age_yr_col</code> (<code>character</code>,
optional, must not contain missing values if provided). If not provided,
the ingrowth status will be <code>FALSE</code> for all trees in the resulting
<code>fe_stand</code> object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>An object of class <code>fe_stand_spatial</code> is a child object of
<code>fe_stand</code> which, however, contains information about the horizontal
positions of the trees and the horizontal outline of the stand. All spatial
information and its processing is based on the R-package
<a href="https://CRAN.R-project.org/package=sf">sf</a>.
</p>
<p>The input object <code>x</code> to <code>fe_stand_spatial</code> must be a list that
comprises two and an optional third data frame(s):
</p>
 <ul>
<li><p> a data frame containing the single tree information (same
requirements as for <code><a href="#topic+fe_stand">fe_stand</a></code>). This data frame must contain a a
minimum set of columns (tree id, species id, time variable, diameter at
breast height). These columns must not contain missing values. Other columns
(containing tree height, height to crown base, crown radius, tree age) are
optional for the user to provide. If provided, they may contain missing
values. If not provided, these columns will only contain missing values in
the <code>fe_stand_spatial</code> object. The columns about the trees' removal and
ingrowth status are also optional, but if provided, they must <em>not</em> contain
missing values. If not provided, both columns will be filled with
<code>FALSE</code> in the resulting <code>fe_stand_spatial</code> object.
<code>fe_stand_spatial</code> will automatically add a column <code>n_rep_ha</code> which
contains for each tree the number of trees it represents per ha. This may
seem redundant if looking at <code>fe_stand</code> objects alone, but it allows a
broad range of evaluation functions to be applied to different objects
containing trees. Note that in a <code>fe_stand_spatial</code> object trees are
allowed which are outside the actual stand outine (e.g. &quot;buffer zone trees&quot;).
Such trees will be automatically identified by their coordinates and not
taken into account for calculating the stand's growth and yield
characteristics. However, they can be included in visual displays.
</p>
</li>
<li><p> a data frame that contains information about the tree positions. This
is not part of the first data frame, because the latter could contain several
observations (at different times) of the same tree, which would lead to
redundant coordinate representation. This data frame must contain a column
with tree id's, and the x and y coordinates of the stem center points
according to the same coordinate system as the stand outline (see below).
<code>NA</code> values are not allowed in this data frame.
</p>
</li>
<li><p> The optional third data frame must comprise the corner points of a
polygon that describes the stand's outline. The polygon must not be
self-intersection, therefore, the points must be given in correct sequence.
The first point does not need to be repeated - <code>fe_stand_spatial</code> will
take care for closing the polygon. This data frame needs to contain only the
x and y coordinates of the  corner points (in m), no <code>NA</code> values
allowed.</p>
</li></ul>



<h3>Value</h3>

<p>If the user input allows to construct a well-defined
<code>fe_stand_spatial</code> object, this object will be returned. If not, the
function will terminate with an error.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Transform the example data collection mm_forest_1_raw (could e.g. have
# been drawn out of a user's data base) into an fe_stand_spatial object

mm_forest_spatial &lt;- mm_forest_1_raw |&gt;
  fe_stand_spatial(
    orientation = mm_forest_1_raw$north_dev,
    tree_id_col = "tree_id",
    species_id_col = "species_id",
    time_yr_col = "time_yr",
    dbh_cm_col = "dbh_cm",
    x_m_col = "x",
    y_m_col = "y",
    stand_id = mm_forest_1_raw$stand_id,
    height_m_col = "height_m",
    crown_base_height_m_col = "crown_base_height_m",
    crown_radius_m_col = "crown_radius_m",
    removal_col = "removal"
  )

# Show a little summary, display scientific species names
options(fe_spec_lang = "sci")
mm_forest_spatial |&gt; summary()

</code></pre>

<hr>
<h2 id='fe_tally_list'>User Friendly Construction of an <strong>fe_tally_list</strong> Object from a List of
Data Frames</h2><span id='topic+fe_tally_list'></span>

<h3>Description</h3>

<p><code>fe_tally_list()</code> provides a user-friendly interface for the
constructor <code><a href="#topic+new_fe_tally_list">new_fe_tally_list</a></code>. While the constructor does
not prevent users from creating malformed <code>fe_tally_list</code> objects,
<code>fe_tally_list</code> does everything to achieve a well-defined object
mostly based on an initial list of data.frames that might be, e.g. drawn out
of a user's own data base.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fe_tally_list(
  x,
  stand_id = "my_tally_list",
  tree_count_name = "tree_count",
  class_def_name = "class_definition",
  area_ha_name = "area_ha",
  size_class_col,
  tree_nr_col,
  species_id_col,
  count_col,
  class_type_col,
  class_min_col,
  class_max_col
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fe_tally_list_+3A_x">x</code></td>
<td>
<p>named list of two or three data frames to be coerced into the goal
object. One data frame must contain the tree counts data</p>
</td></tr>
<tr><td><code id="fe_tally_list_+3A_stand_id">stand_id</code></td>
<td>
<p>arbitrary id of the stand (<code>character</code>, default:
&quot;my_tally_list&quot;)</p>
</td></tr>
<tr><td><code id="fe_tally_list_+3A_tree_count_name">tree_count_name</code></td>
<td>
<p>name of the data frame in <code>x</code> that contains the
tree data counting (default: &quot;tree_count&quot;)</p>
</td></tr>
<tr><td><code id="fe_tally_list_+3A_class_def_name">class_def_name</code></td>
<td>
<p>name of the column in the trees data frame which
provides the definition of the counting classes (default: &quot;class_definition&quot;)</p>
</td></tr>
<tr><td><code id="fe_tally_list_+3A_area_ha_name">area_ha_name</code></td>
<td>
<p>name of the column in the trees data frame which provides
each tree's representation number per ha.</p>
</td></tr>
<tr><td><code id="fe_tally_list_+3A_size_class_col">size_class_col</code></td>
<td>
<p>description</p>
</td></tr>
<tr><td><code id="fe_tally_list_+3A_tree_nr_col">tree_nr_col</code></td>
<td>
<p>description</p>
</td></tr>
<tr><td><code id="fe_tally_list_+3A_species_id_col">species_id_col</code></td>
<td>
<p>description</p>
</td></tr>
<tr><td><code id="fe_tally_list_+3A_count_col">count_col</code></td>
<td>
<p>description</p>
</td></tr>
<tr><td><code id="fe_tally_list_+3A_class_type_col">class_type_col</code></td>
<td>
<p>description</p>
</td></tr>
<tr><td><code id="fe_tally_list_+3A_class_min_col">class_min_col</code></td>
<td>
<p>description</p>
</td></tr>
<tr><td><code id="fe_tally_list_+3A_class_max_col">class_max_col</code></td>
<td>
<p>description</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The input object <code>x</code> to <code>fe_tally_list</code> must be a list that
comprises two data frame(s):
</p>
 <ul>
<li><p> a data frame containing the tree counts per class.
This data frame must contain a a minimum set of columns (Nr, size_class, N,
species.
</p>
</li>
<li><p> a data frame that contains information about the class definition, </p>
</li></ul>



<h3>Value</h3>

<p>If the user input allows to construct a well-defined
<code>fe_tally_list</code> object, this object will be returned. If not, the
function will terminate with an error.
</p>

<hr>
<h2 id='fe_yield_table'>User Friendly Construction of an <strong>fe_yield_table</strong> Object from a Data Frame</h2><span id='topic+fe_yield_table'></span>

<h3>Description</h3>

<p>User Friendly Construction of an <strong>fe_yield_table</strong> Object from a Data Frame
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fe_yield_table(
  x,
  name_orig,
  name_int,
  si_variable = "h_q_m",
  mai_variable = NA
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fe_yield_table_+3A_x">x</code></td>
<td>
<p>Data frame to become an <code>fe_yield_table</code> object. The minimum
required columns (all numeric) and their names are:
</p>

<ul>
<li><p>age: Stand age in years
</p>
</li>
<li><p>si: Site index following the yield table's definition
</p>
</li>
<li><p>ba_m2_ha: The stand's standing basal area in m²/ha
</p>
</li>
<li><p>v_m3_ha: The stand's standing volume in m³/ha
</p>
</li>
<li><p>pai_m3_ha_yr: The periodic annual volume increment in m³/ha/yr
</p>
</li>
<li><p>mai_m3_ha_yr: The mean annual volume increment in m³/ha/yr
</p>
</li></ul>

<p>The variable(s) named as the input parameters <code>si_variable</code> and
<code>mai_variable</code> must be present in addition. NA values are allowed.
All other columns of <code>x</code> will also be taken into the yield table
object and will be accessible by all functions that request values from
yield tables.</p>
</td></tr>
<tr><td><code id="fe_yield_table_+3A_name_orig">name_orig</code></td>
<td>
<p>Name of the table in the language it was originally
published</p>
</td></tr>
<tr><td><code id="fe_yield_table_+3A_name_int">name_int</code></td>
<td>
<p>Internatonalized (i.e. English) version of the table name</p>
</td></tr>
<tr><td><code id="fe_yield_table_+3A_si_variable">si_variable</code></td>
<td>
<p>Character (vector), name(s) of the variable(s) (i.e.
column(s) in x) which is/are used for site indexing. Usually, this will be
stand heights. Some yield tables contain different definitions of stand
heights (e.g. mean and dominant height). In order to enable site indexing
by more than one height definition in such a case, more than one variable
name can be provided here. At least one site index variable must be given
to obtain a valid fe_yield_table object.</p>
</td></tr>
<tr><td><code id="fe_yield_table_+3A_mai_variable">mai_variable</code></td>
<td>
<p>Character (vector), name(s) of the variable(s) (i.e.
column(s) in x) which can be used for mai-site indexing. Clearly, this will
be variables containing a mean annual increment (mai). Some yield tables
contain different definitions of mai (e.g. over- and under bark).
Therefore, more than one variable name can be provided here. If no mai
variable is provided (<code>mai_variable = NA</code>, default), mai site indexing
is not possible with the yield table of interest.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>fe_yield_table</code>, if the input allows to
build a valid one. If this is not the case, the function will terminate
with an error.
</p>


<h3>See Also</h3>

<p>Other yield table functions: 
<code><a href="#topic+plot.fe_yield_table">plot.fe_yield_table</a>()</code>,
<code><a href="#topic+si_to_mai_age">si_to_mai_age</a>()</code>,
<code><a href="#topic+si_to_mai_max">si_to_mai_max</a>()</code>,
<code><a href="#topic+site_index">site_index</a>()</code>,
<code><a href="#topic+stocking_level">stocking_level</a>()</code>,
<code><a href="#topic+yield_tables_for_species">yield_tables_for_species</a></code>,
<code><a href="#topic+ytable_age_slice">ytable_age_slice</a>()</code>,
<code><a href="#topic+ytable_lookup">ytable_lookup</a>()</code>,
<code><a href="#topic+ytable_max_slice">ytable_max_slice</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  # Make fe_yield_table object from a very original-table-like data frame
  ytable_pine_wiedemann_moderate_1943_raw |&gt;
    fe_yield_table(
      name_orig = "Kiefer Wiedemann 1943 Maessige Durchforstung",
      name_int  = "Scots Pine Wiedemann 1943 Moderate Thinning",
      si_variable = "h_q_m",
      mai_variable = c("mai_m3_ha_yr", "red_mai_m3_ha_yr")
    )

</code></pre>

<hr>
<h2 id='ForestElementsR-vctrs'>Internal vctrs methods</h2><span id='topic+ForestElementsR-vctrs'></span>

<h3>Description</h3>

<p>Internal vctrs methods
</p>

<hr>
<h2 id='format_fe_species'>Generic Formatted Output for <strong>fe_species</strong> Objects</h2><span id='topic+format_fe_species'></span>

<h3>Description</h3>

<p>Generic Formatted Output for <strong>fe_species</strong> Objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>format_fe_species(x, spec_lang = c("code", "eng", "ger", "sci"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="format_fe_species_+3A_x">x</code></td>
<td>
<p>Object of one of the supported <code>fe_species_</code> classes</p>
</td></tr>
<tr><td><code id="format_fe_species_+3A_spec_lang">spec_lang</code></td>
<td>
<p>Choice of how species (group) names or id's are displayed.
Supported choices are &quot;code&quot; (default, displays the species codes as they
are), &quot;eng&quot; (English species names), &quot;ger&quot; (German species names), and
&quot;sci&quot; (scientific species names). The names and the codes refer to the
species coding given in the object's attribute <code>species_coding</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>character</code> vector either displaying the original species
codes provided in <code>x</code>, or the species (group) names in the desired
language
</p>

<hr>
<h2 id='format.fe_species_bavrn_state'>Formatted Output of an <strong>fe_species_bavrn_state</strong> Vector</h2><span id='topic+format.fe_species_bavrn_state'></span>

<h3>Description</h3>

<p>Usually, this function is not required to be called explicitly. It Will
always be used automatically, when an object of type
<code>fe_species_bavrn_state</code> is printed, be it alone, be it as part of
another object (e.g. a tibble)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'fe_species_bavrn_state'
format(x, spec_lang = options("fe_spec_lang")$fe_spec_lang, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="format.fe_species_bavrn_state_+3A_x">x</code></td>
<td>
<p>An object of type <code>fe_species_bavrn_state</code></p>
</td></tr>
<tr><td><code id="format.fe_species_bavrn_state_+3A_spec_lang">spec_lang</code></td>
<td>
<p>Choice of how species (group) names or id's are displayed.
Supported choices are &quot;code&quot; (default, displays the species codes as they
are), &quot;eng&quot; (English species names), &quot;ger&quot; (German species names), and &quot;sci&quot;
(scientific species names). The names and the codes refer to the species
coding given in the object's attribute <code>species_coding</code>. The default
is to request the choice with <code>options("spec_lang")</code>. If this option
is not set, the choice &quot;code&quot; is used.</p>
</td></tr>
<tr><td><code id="format.fe_species_bavrn_state_+3A_...">...</code></td>
<td>
<p>Other parameters (not used)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>character</code> vector either displaying the original species
codes provided in <code>x</code>, or the species (group) names in the desired
language
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create an fe_species_bavrn_state object
spec_ids &lt;- fe_species_bavrn_state(
  as.character(c(10, 30, 20, 40, 50, 60, 87, 63, 73, 72, 86, 80))
)

# Display in default style, scientific names, English, and German names
format(spec_ids)
format(spec_ids, spec_lang = "sci")
format(spec_ids, spec_lang = "eng")
format(spec_ids, spec_lang = "ger")

# Usual application: Set option for species code output
# Any print of an fe_species object will use the last setting of the option
options(fe_spec_lang = "sci")
spec_ids

</code></pre>

<hr>
<h2 id='format.fe_species_bavrn_state_short'>Formatted Output of an <strong>fe_species_bavrn_state_short</strong> Vector</h2><span id='topic+format.fe_species_bavrn_state_short'></span>

<h3>Description</h3>

<p>Usually, this function is not required to be called explicitly. It Will
always be used automatically, when an object of type
<code>fe_species_bavrn_state_short</code> is printed, be it alone, be it as part of
another object (e.g. a tibble)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'fe_species_bavrn_state_short'
format(x, spec_lang = options("fe_spec_lang")$fe_spec_lang, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="format.fe_species_bavrn_state_short_+3A_x">x</code></td>
<td>
<p>An object of type <code>fe_species_bavrn_state_short</code></p>
</td></tr>
<tr><td><code id="format.fe_species_bavrn_state_short_+3A_spec_lang">spec_lang</code></td>
<td>
<p>Choice of how species (group) names or id's are displayed.
Supported choices are &quot;code&quot; (default, displays the species codes as they
are), &quot;eng&quot; (English species names), &quot;ger&quot; (German species names), and &quot;sci&quot;
(scientific species names). The names and the codes refer to the species
coding given in the object's attribute <code>species_coding</code>. The default
is to request the choice with <code>options("spec_lang")</code>. If this option
is not set, the choice &quot;code&quot; is used.</p>
</td></tr>
<tr><td><code id="format.fe_species_bavrn_state_short_+3A_...">...</code></td>
<td>
<p>Other parameters (not used)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>character</code> vector either displaying the original species
codes provided in <code>x</code>, or the species (group) names in the desired
language
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create an fe_species_bavrn_state_short object
spec_ids &lt;- fe_species_bavrn_state_short(
  as.character(1:9)
)

# Display in default style, scientific names, English, and German names
format(spec_ids)
format(spec_ids, spec_lang = "sci")
format(spec_ids, spec_lang = "eng")
format(spec_ids, spec_lang = "ger")

# Usual application: Set option for species code output
# Any print of an fe_species object will use the last setting of the option
options(fe_spec_lang = "sci")
spec_ids

</code></pre>

<hr>
<h2 id='format.fe_species_ger_nfi_2012'>Formatted Output of an <strong>fe_species_ger_nfi_2012</strong> Vector</h2><span id='topic+format.fe_species_ger_nfi_2012'></span>

<h3>Description</h3>

<p>Usually, this function is not required to be called explicitly. It Will
always be used automatically, when an object of type
<code>fe_species_ger_nfi_2012</code> is printed, be it alone, be it as part of
another object (e.g. a tibble)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'fe_species_ger_nfi_2012'
format(x, spec_lang = options("fe_spec_lang")$fe_spec_lang, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="format.fe_species_ger_nfi_2012_+3A_x">x</code></td>
<td>
<p>An object of type <code>fe_species_ger_nfi_2012</code></p>
</td></tr>
<tr><td><code id="format.fe_species_ger_nfi_2012_+3A_spec_lang">spec_lang</code></td>
<td>
<p>Choice of how species (group) names or id's are displayed.
Supported choices are &quot;code&quot; (displays the species codes as they
are), &quot;eng&quot; (English species names), &quot;ger&quot; (German species names), and &quot;sci&quot;
(scientific species names). The names and the codes refer to the species
coding given in the object's attribute <code>species_coding</code>. The default
is to request the choice with <code>options("fe_spec_lang")</code>. If this option
is not set, the choice &quot;code&quot; is used.</p>
</td></tr>
<tr><td><code id="format.fe_species_ger_nfi_2012_+3A_...">...</code></td>
<td>
<p>Other parameters (not used)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>character</code> vector either displaying the original species
codes provided in <code>x</code>, or the species (group) names in the desired
language
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create an fe_species_ger_nfi_2012 object
spec_ids &lt;- fe_species_ger_nfi_2012(
  as.character(c(10, 20, 30, 40, 50, 100, 110, 120, 130, 140, 150, 170))
)

# Display in default style, scientific names, English, and German names
format(spec_ids)
format(spec_ids, spec_lang = "sci")
format(spec_ids, spec_lang = "eng")
format(spec_ids, spec_lang = "ger")

# Usual application: Set option for species code output
# Any print of an fe_species object will use the last setting of the option
options(fe_spec_lang = "eng")
spec_ids

</code></pre>

<hr>
<h2 id='format.fe_species_master'>Formatted Output of an <strong>fe_species_master</strong> Vector</h2><span id='topic+format.fe_species_master'></span>

<h3>Description</h3>

<p>Usually, this function is not required to be called explicitly. It Will
always be used automatically, when an object of type
<code>fe_species_master</code> is printed, be it alone, be it as part of
another object (e.g. a tibble)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'fe_species_master'
format(x, spec_lang = options("fe_spec_lang")$fe_spec_lang, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="format.fe_species_master_+3A_x">x</code></td>
<td>
<p>An object of type <code>fe_species_master</code></p>
</td></tr>
<tr><td><code id="format.fe_species_master_+3A_spec_lang">spec_lang</code></td>
<td>
<p>Choice of how species (group) names or id's are displayed.
Supported choices are &quot;code&quot; (displays the species codes as they are),
&quot;eng&quot; (English species names), &quot;ger&quot; (German species names), and &quot;sci&quot;
(scientific species names). The names and the codes refer to the species
coding given in the object's attribute <code>species_coding</code>. The default
is to request the choice with <code>options("fe_spec_lang")</code>. If this
option is not set, the choice &quot;code&quot; is used.</p>
</td></tr>
<tr><td><code id="format.fe_species_master_+3A_...">...</code></td>
<td>
<p>Other parameters (not used)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>character</code> vector either displaying the original species
codes provided in <code>x</code>, or the species (group) names in the desired
language
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create an fe_species_master object
spec_ids &lt;- fe_species_master(
  c("picea_001", "fagus_001", "quercus_002", "quercus_001")
)

# Display in default style, scientific names, English, and German names
format(spec_ids)
format(spec_ids, spec_lang = "sci")
format(spec_ids, spec_lang = "eng")
format(spec_ids, spec_lang = "ger")

# Usual application: Set option for species code output
# Any print of an fe_species object will use the last setting of the option
options(fe_spec_lang = "eng")
spec_ids

</code></pre>

<hr>
<h2 id='format.fe_species_tum_wwk_long'>Formatted Output of an <strong>fe_species_tum_wwk_long</strong> Vector</h2><span id='topic+format.fe_species_tum_wwk_long'></span>

<h3>Description</h3>

<p>Usually, this function is not required to be called explicitly. It Will
always be used automatically, when an object of type
<code>fe_species_tum_wwk_long</code> is printed, be it alone, be it as part of
another object (e.g. a tibble)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'fe_species_tum_wwk_long'
format(x, spec_lang = options("fe_spec_lang")$fe_spec_lang, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="format.fe_species_tum_wwk_long_+3A_x">x</code></td>
<td>
<p>An object of type <code>fe_species_tum_wwk_long</code></p>
</td></tr>
<tr><td><code id="format.fe_species_tum_wwk_long_+3A_spec_lang">spec_lang</code></td>
<td>
<p>Choice of how species (group) names or id's are displayed.
Supported choices are &quot;code&quot; (displays the species codes as they are),
&quot;eng&quot; (English species names), &quot;ger&quot; (German species names), and &quot;sci&quot;
(scientific species names). The names and the codes refer to the species
coding given in the object's attribute <code>species_coding</code>. The default
is to request the choice with <code>options("fe_spec_lang")</code>. If this
option is not set, the choice &quot;code&quot; is used.</p>
</td></tr>
<tr><td><code id="format.fe_species_tum_wwk_long_+3A_...">...</code></td>
<td>
<p>Other parameters (not used)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>character</code> vector either displaying the original species
codes provided in <code>x</code>, or the species (group) names in the desired
language
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create an fe_species_tum_wwk_long object
spec_ids &lt;- fe_species_tum_wwk_long(
  as.character(c(70, 61, 88, 88, 10, 971, 32))
)

# Display in default style, scientific names, English, and German names
format(spec_ids)
format(spec_ids, spec_lang = "sci")
format(spec_ids, spec_lang = "eng")
format(spec_ids, spec_lang = "ger")

# Usual application: Set option for species code output
# Any print of an fe_species object will use the last setting of the option
options(fe_spec_lang = "sci")
spec_ids

</code></pre>

<hr>
<h2 id='format.fe_species_tum_wwk_short'>Formatted Output of an <strong>fe_species_tum_wwk_short</strong> Vector</h2><span id='topic+format.fe_species_tum_wwk_short'></span>

<h3>Description</h3>

<p>Usually, this function is not required to be called explicitly. It Will
always be used automatically, when an object of type
<code>fe_species_tum_wwk_short</code> is printed, be it alone, be it as part of
another object (e.g. a tibble)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'fe_species_tum_wwk_short'
format(x, spec_lang = options("fe_spec_lang")$fe_spec_lang, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="format.fe_species_tum_wwk_short_+3A_x">x</code></td>
<td>
<p>An object of type <code>fe_species_tum_wwk_short</code></p>
</td></tr>
<tr><td><code id="format.fe_species_tum_wwk_short_+3A_spec_lang">spec_lang</code></td>
<td>
<p>Choice of how species (group) names or id's are displayed.
Supported choices are &quot;code&quot; (displays the species codes as they are),
&quot;eng&quot; (English species names), &quot;ger&quot; (German species names), and &quot;sci&quot;
(scientific species names). The names and the codes refer to the species
coding given in the object's attribute <code>species_coding</code>. The default
is to request the choice with <code>options("fe_spec_lang")</code>. If this
option is not set, the choice &quot;code&quot; is used.</p>
</td></tr>
<tr><td><code id="format.fe_species_tum_wwk_short_+3A_...">...</code></td>
<td>
<p>Other parameters (not used)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>character</code> vector either displaying the original species
codes provided in <code>x</code>, or the species (group) names in the desired
language
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create an fe_species_tum_wwk_short object
spec_ids &lt;- fe_species_tum_wwk_short(as.character(1:10))

# Display in default style, scientific names, English, and German names
format(spec_ids)
format(spec_ids, spec_lang = "sci")
format(spec_ids, spec_lang = "eng")
format(spec_ids, spec_lang = "ger")

# Usual application: Set option for species code output
# Any print of an fe_species object will use the last setting of the option
options(fe_spec_lang = "sci")
spec_ids

</code></pre>

<hr>
<h2 id='get_area_ha'>Get the Area in ha of a Compatible Object</h2><span id='topic+get_area_ha'></span>

<h3>Description</h3>

<p>The function <code>get_area_ha</code> will return the correct area for all
appropriate objects provided by <strong>ForestElementsR</strong>. While the
<code><a href="#topic+fe_stand">fe_stand</a></code> class contains this information directly, this is not
the case for the <code><a href="#topic+fe_stand_spatial">fe_stand_spatial</a></code> class. However,
<code>get_area_ha</code> will work for both (and other objects to be implemented)
in the same way. In case the object <code>x</code> does not contain sufficient
information, the function returns NULL.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_area_ha(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_area_ha_+3A_x">x</code></td>
<td>
<p>Object provided by <strong>ForestElementsR</strong> for which an area can be
meaningfully given, typically <code><a href="#topic+fe_stand">fe_stand</a></code> or
<code><a href="#topic+fe_stand_spatial">fe_stand_spatial</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>The object's area in ha. In case the object <code>x</code> does not contain
sufficient information, the function returns NULL.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Example for an fe_stand object
selection_forest_1_fe_stand |&gt; get_area_ha()

# Example for an fe_stand_spatial object
mm_forest_1_fe_stand_spatial |&gt; get_area_ha()

</code></pre>

<hr>
<h2 id='h_100'>Dominant Height h100</h2><span id='topic+h_100'></span>

<h3>Description</h3>

<p>The dominant height h100 was conceptuated by Ernst Assmann and Friedrich
Franz in order obtain a mean height value for those trees which usually
dominate a stand throughout its whole life.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>h_100(h, d, n_rep_ha)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="h_100_+3A_h">h</code></td>
<td>
<p>vector of tree height values to calculate the dominant height
h100 from</p>
</td></tr>
<tr><td><code id="h_100_+3A_d">d</code></td>
<td>
<p>vector of stem diameters at breast height corresponding to h, must
therefore have the same length as h</p>
</td></tr>
<tr><td><code id="h_100_+3A_n_rep_ha">n_rep_ha</code></td>
<td>
<p>vector of representation numbers per ha for each diameter
in d. Must have the same length as d or the length 1 (in which case it is
recycled to the length of d). Otherwise, the function terminates with an
error.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The h100 is defined as the quadratic mean height of the hundred thickest
trees per ha. If there are only 100 trees or less on one ha, the h100 is the
same as the quadratic mean height <code><a href="#topic+d_q">d_q</a></code>. While the h100 is well
defined and useful in monospecific stands, it is less so in mixed stands.
</p>


<h3>Value</h3>

<p>the dominant height value h100 resulting from the input data
</p>


<h3>See Also</h3>

<p>Other stand heights: 
<code><a href="#topic+h_dom_weise">h_dom_weise</a>()</code>,
<code><a href="#topic+h_q">h_q</a>()</code>,
<code><a href="#topic+h_q_from_d_q">h_q_from_d_q</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># A sample of trees from an angle count sample , where each
# tree represents a basal area of 4 m²/ha
d_cm &lt;- c(12, 13, 25, 27, 28, 26, 26.1, 32, 35, 31, 42)
n_rep_ha &lt;- 4 / ((d_cm / 100)^2 * pi / 4) # representation number of each tree
dq_cm &lt;- d_q(d_cm, n_rep_ha)
h_m &lt;- 0.9 * dq_cm * (d_cm / dq_cm)^0.8 # quick plausible height estim.
h_100(h_m, d_cm, n_rep_ha)
h_q(h_m, d_cm) # quadratic mean height for comparison


# Typical application to a set of single tree data grouped by survey
# time and species
# (note that everyone is applying h_100 mixed stands, but you should do it
# only, if you know exactly what you are doing)
library(dplyr)
oldopt &lt;- options(fe_spec_lang = "eng") # display colloquial species names
# for d_100 in mixed stands, we require species shares
spec_shares &lt;- species_shares(
  mm_forest_1_fe_stand_spatial,
  tree_filter = !removal, # remaining trees only
  method = "ba_wd"
)
# extract the tree data to allow insights into the mechanics
trees &lt;- mm_forest_1_fe_stand_spatial$trees |&gt; filter(!removal)
# join with the shares
trees |&gt;
  left_join(spec_shares) |&gt;
  group_by(species_id, time_yr) |&gt;
  summarise(
    n_ha     = round(sum(n_rep_ha)),
    d_q      = d_q(dbh_cm, n_rep_ha),
    d_100_cm = d_100(dbh_cm, n_rep_ha / species_share),
    h_q      = h_q(height_m, dbh_cm, n_rep_ha),
    h_100_m  = h_100(height_m, dbh_cm, n_rep_ha / species_share)
  ) |&gt;
  print(n = Inf)
options(oldopt) # set species name display to previous value

</code></pre>

<hr>
<h2 id='h_age_gnfi3'>Estimate Tree Height Growth With the 3rd German National Forest Inventory
Growth Model (2012)</h2><span id='topic+h_age_gnfi3'></span>

<h3>Description</h3>

<p>Tree height growth model of the third German National Forest Inventory of
2012 (Riedel et al. 2017). Allows to estimate a
tree's height at any age if its height is known at a given age.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>h_age_gnfi3(species_id, age_yr, h_m_known, age_yr_known)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="h_age_gnfi3_+3A_species_id">species_id</code></td>
<td>
<p>Vector of species id's preferably following the
<em>ger_nfi_2012</em> species coding. Ideally, these species_id's are provided as
a <code><a href="#topic+fe_species_ger_nfi_2012">fe_species_ger_nfi_2012</a></code> object. See Details for how other
species codings are handled.</p>
</td></tr>
<tr><td><code id="h_age_gnfi3_+3A_age_yr">age_yr</code></td>
<td>
<p>Single numeric value or vector of ages (in years) for which the
height is to be calculated</p>
</td></tr>
<tr><td><code id="h_age_gnfi3_+3A_h_m_known">h_m_known</code></td>
<td>
<p>Vector of known height (m) values at age
<code>age_yr_known</code></p>
</td></tr>
<tr><td><code id="h_age_gnfi3_+3A_age_yr_known">age_yr_known</code></td>
<td>
<p>Vector of ages (years) for which the height
<code>h_m_known</code> is known</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Originally, the function was parameterized for species and species groups
corresponding to the national forest inventory's species coding
(<code><a href="#topic+fe_species_ger_nfi_2012">fe_species_ger_nfi_2012</a></code>). We have attributed in addition these
the original parameters also to the species codings
<code><a href="#topic+fe_species_tum_wwk_short">fe_species_tum_wwk_short</a></code>, and
<code><a href="#topic+fe_species_bavrn_state_short">fe_species_bavrn_state_short</a></code>. When called with a given species
coding, the function will try to use the &quot;nearest&quot; of these three
alternatives. Fallback option is the attempt to use
<code><a href="#topic+fe_species_tum_wwk_short">fe_species_tum_wwk_short</a></code>.
</p>


<h3>Value</h3>

<p>A single height value or vector of height values corresponding to
<code>age_yr</code>
</p>


<h3>References</h3>

<p>Riedel T, Hennig P, Kroiher F, Polley H, Schmitz F, F. S (2017).
<em>Die dritte Bundeswaldinventur (BWI 2012). Inventur- und Auswertungsmethoden</em>.
Thuenen Institut fuer Waldoekosysteme.
</p>


<h3>See Also</h3>

<p>Other growth functions: 
<code><a href="#topic+age_d_gnfi3">age_d_gnfi3</a>()</code>,
<code><a href="#topic+age_h_gnfi3">age_h_gnfi3</a>()</code>,
<code><a href="#topic+d_age_gnfi3">d_age_gnfi3</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  # A European beech tree has a height of 25.2 m at age 75. Estimate
  # its height at age 83
  h_age_gnfi3(100, 83, 25.2, 75) # 100 is ger_nfi_2012 code for E. beech

  # Do the same backward in time, height at age 67
  h_age_gnfi3(100, 67, 25.2, 75)

  # Apply for more than one tree, different species, same age
  h_known   &lt;- c(23.1, 16.2, 35.2, 19.3, 21.8)
  species   &lt;- as_fe_species_tum_wwk_short(c(3, 3, 3, 6, 6))
  h_age_gnfi3(
    species, age_yr = 70, h_m_known = h_known, age_yr_known = 60
  )

</code></pre>

<hr>
<h2 id='h_age_gnfi3_core'>Core Function for Estimate Tree Height Growth With the 3rd German National
Forest Inventory Growth Model (2012)</h2><span id='topic+h_age_gnfi3_core'></span>

<h3>Description</h3>

<p>See documentation of <code><a href="#topic+h_age_gnfi3">h_age_gnfi3</a></code> for most information,
this function is the workhorse behind, and should never be called directly by
a user.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>h_age_gnfi3_core(species_id, age_yr, h_m_known, age_yr_known, params)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="h_age_gnfi3_core_+3A_species_id">species_id</code></td>
<td>
<p>Vector of species ids (see <code><a href="#topic+d_age_gnfi3">d_age_gnfi3</a></code>),
but for this core function to work, <code>species_id</code> must be provided as
<code>character</code>. This will and should be not checked inside this function,
because if used as intended, that has happened before calling it. The
codings must either follow the <em>ger_nfi_2012</em> or the <em>tum_wwk_short</em>
coding. In the former case, the parameter <code>param_orig</code> must be TRUE,
in the latter, it must be FALSE.</p>
</td></tr>
<tr><td><code id="h_age_gnfi3_core_+3A_age_yr">age_yr</code></td>
<td>
<p>Single numeric value or vector of ages (in years) for which the
height is to be calculated</p>
</td></tr>
<tr><td><code id="h_age_gnfi3_core_+3A_h_m_known">h_m_known</code></td>
<td>
<p>Vector of known height (m) values at age
<code>age_yr_known</code></p>
</td></tr>
<tr><td><code id="h_age_gnfi3_core_+3A_age_yr_known">age_yr_known</code></td>
<td>
<p>Vector of ages (years) for which the height
<code>h_m_known</code> is known</p>
</td></tr>
<tr><td><code id="h_age_gnfi3_core_+3A_params">params</code></td>
<td>
<p>A data frame that defines the function parameters corresponding
to the species coding represented by <code>species_id</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function <code>h_age_gnfi3</code> is fully vectorized, inputs are recyled
according to the tibble rules
</p>


<h3>Value</h3>

<p>A vector with estimates of the trees' expected heights (see
<code><a href="#topic+h_age_gnfi3">h_age_gnfi3</a></code>)
</p>

<hr>
<h2 id='h_age_gnfi3_spec_convert'>Helper function for cascaded species conversion when applying the function
h_age_gnfi3().
Try to convert given species_id into ger_nfi_2012. If this causes an error
convert to tum_wwk_short instead</h2><span id='topic+h_age_gnfi3_spec_convert'></span>

<h3>Description</h3>

<p>Helper function for cascaded species conversion when applying the function
h_age_gnfi3().
Try to convert given species_id into ger_nfi_2012. If this causes an error
convert to tum_wwk_short instead
</p>


<h3>Usage</h3>

<pre><code class='language-R'>h_age_gnfi3_spec_convert(species_id)
</code></pre>

<hr>
<h2 id='h_dom_weise'>Weise's Dominant Height</h2><span id='topic+h_dom_weise'></span>

<h3>Description</h3>

<p>The dominant height after Weise is the quadratic mean height of the 20%
biggest trees in a stand. In contrast to the dominant height
<code><a href="#topic+h_100">h_100</a></code> it is well defined not only in monospecific stands, but
also in mixed stands.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>h_dom_weise(h, d, n_rep = 1)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="h_dom_weise_+3A_h">h</code></td>
<td>
<p>vector of tree height values to calculate Weise's dominant height
from</p>
</td></tr>
<tr><td><code id="h_dom_weise_+3A_d">d</code></td>
<td>
<p>vector of stem diameters at breast height corresponding to h, must
therefore have the same length as h</p>
</td></tr>
<tr><td><code id="h_dom_weise_+3A_n_rep">n_rep</code></td>
<td>
<p>vector of representation numbers (typically the number of trees
per ha corresponding to the diameter at the same position), will be used as
individual weights for each height, together with the squared diameters d.
If n_rep has length 1, it will be recycled to the length of d. Otherwise,
if the length of n_rep does not correspond to the length of d, the function
will terminate with an error.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The value of Weise's dominant diameter resulting from the input data
</p>


<h3>See Also</h3>

<p>Other stand heights: 
<code><a href="#topic+h_100">h_100</a>()</code>,
<code><a href="#topic+h_q">h_q</a>()</code>,
<code><a href="#topic+h_q_from_d_q">h_q_from_d_q</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># A sample of trees from an angle count sample , where each
# tree represents a basal area of 4 m²/ha
d_cm &lt;- c(12, 13, 25, 27, 28, 26, 26.1, 32, 35, 31, 42)
n_rep_ha &lt;- 4 / ((d_cm / 100)^2 * pi / 4) # representation number of each tree
dq_cm &lt;- d_q(d_cm, n_rep_ha)
h_m &lt;- 0.9 * dq_cm * (d_cm / dq_cm)^0.8 # quick plausible height estim.
h_dom_weise(h_m, d_cm, n_rep_ha)
h_100(h_m, d_cm, n_rep_ha) # dominant height h100 for comparison
h_q(h_m, d_cm) # quadratic mean height for comparison

# if 20% of the trees are 100 stems/ha, Weise's dominant diameter and
# d100 are equal
d_cm &lt;- rnorm(n = 500, mean = 35, sd = 7)
dq_cm &lt;- d_q(d_cm)
h_m &lt;- 0.8 * dq_cm * (d_cm / dq_cm)^0.8 # quick plausible height estim.
h_dom_weise(h_m, d_cm, 1)
h_100(h_m, d_cm, 1)

# Weise's dominant diameter is greater than d100, if 20% of the trees
# represent less than 100 trees/ha
d_cm &lt;- rnorm(n = 200, mean = 35, sd = 7)
dq_cm &lt;- d_q(d_cm)
h_m &lt;- 0.8 * dq_cm * (d_cm / dq_cm)^0.8 # quick plausible height estim.
h_dom_weise(h_m, d_cm, 1)
h_100(h_m, d_cm, 1)

# Weise's dominant diameter is smaller than d100, if 20% of the trees
# represent more than 100 trees/ha
d_cm &lt;- rnorm(n = 800, mean = 35, sd = 7)
dq_cm &lt;- d_q(d_cm)
h_m &lt;- 0.8 * dq_cm * (d_cm / dq_cm)^0.8 # quick plausible height estim.
h_dom_weise(h_m, d_cm, 1)
h_100(h_m, d_cm, 1)

</code></pre>

<hr>
<h2 id='h_q'>Quadratic Mean Height</h2><span id='topic+h_q'></span>

<h3>Description</h3>

<p>The quadratic mean height is the stand height corresponding to the quadratic
mean diameter <code><a href="#topic+d_q">d_q</a></code>. It is actually the basal area weighted
average height of a tree in the stand of interest. Insofar, its name is
somewhat misleading.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>h_q(h, d, n_rep = 1, na_h.rm = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="h_q_+3A_h">h</code></td>
<td>
<p>vector of tree height values to calculate the quadratic mean height
from</p>
</td></tr>
<tr><td><code id="h_q_+3A_d">d</code></td>
<td>
<p>vector of stem diameters at breast height corresponding to h, must
therefore have the same length as h</p>
</td></tr>
<tr><td><code id="h_q_+3A_n_rep">n_rep</code></td>
<td>
<p>vector of representation numbers (typically the number of trees
per ha corresponding to the diameter at the same position), will be used as
individual weights for each height, together with the squared diameters d.
If n_rep has length 1, it will be recycled to the length of d. Otherwise,
if the length of n_rep does not correspond to the length of d, the function
will terminate with an error.</p>
</td></tr>
<tr><td><code id="h_q_+3A_na_h.rm">na_h.rm</code></td>
<td>
<p>logical; if <code>TRUE</code>, records with <code>NA</code> heights will
be excluded from <code>h</code>, <code>d</code>, and <code>n_rep</code>. If <code>FALSE</code>,
<code>NA</code> height values are kept and will lead to the function returning
<code>NA</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the quadratic mean height value resulting from the input data
</p>


<h3>See Also</h3>

<p>Other stand heights: 
<code><a href="#topic+h_100">h_100</a>()</code>,
<code><a href="#topic+h_dom_weise">h_dom_weise</a>()</code>,
<code><a href="#topic+h_q_from_d_q">h_q_from_d_q</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Evaluate a sample of equally weighted trees
d_cm &lt;- c(12, 13, 25, 27, 28, 26, 26.1, 32, 35, 31, 42)
dq_cm &lt;- d_q(d_cm)
h_m &lt;- 0.9 * dq_cm * (d_cm / dq_cm)^0.8 # quick plausible height estim.
h_q(h_m, d_cm) # quadratic mean height
mean(h_m) # the arithmetic mean height is not the same!

# Assume, the same sample are trees from an angle count sample, where each
# tree represents a basal area of 4 m²/ha
n_rep_ha &lt;- 4 / ((d_cm / 100)^2 * pi / 4) # representation number of each tree
h_q(h_m, d_cm, n_rep_ha)
# Interestingly, the h_q obtained here is the same as the unweighted
# arithmetic mean height above. The reason: the n_rep_ha used here act as
# inverse basal area weights, which is exactly compensated by the basal
# area weights coming from d_cm.


# Typical application to a set of single tree data grouped by survey
# time and species
library(dplyr)
oldopt &lt;- options(fe_spec_lang = "eng") # display colloquial species names
# extract the tree data to allow insights into the mechanics
trees &lt;- mm_forest_1_fe_stand_spatial$trees |&gt; filter(!removal)
trees |&gt;
  group_by(species_id, time_yr) |&gt;
  summarise(
    n_ha   = round(sum(n_rep_ha)),
    d_q_cm = d_q(dbh_cm, n_rep_ha),
    h_q_m  = h_q(height_m, dbh_cm, n_rep_ha)
  ) |&gt;
  print(n = Inf)
options(oldopt) # set species name display to previous value

</code></pre>

<hr>
<h2 id='h_q_from_d_q'>Estimate Quadratic Mean Height from Quadratic Mean Diameter</h2><span id='topic+h_q_from_d_q'></span>

<h3>Description</h3>

<p>Fallback function to be used in the unfortunate case when a mean stand
(cohort) height value is required but nothing useful is contained in the
available data. The function has originally been developed for and used in
the forest growth simulator SILVA
(Pretzsch et al. 2002). The version here is
slightly simplified for the species Norway spruce and soft deciduous woods
(codes 1 and 9 in the species coding <code><a href="#topic+fe_species_tum_wwk_short">fe_species_tum_wwk_short</a></code>),
because the original version requires non-standard information which is not
available outside the simulator.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>h_q_from_d_q(species_id, d_q_cm)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="h_q_from_d_q_+3A_species_id">species_id</code></td>
<td>
<p>vector of species codes in any format that can be converted
into the tum_wwk_short species coding (see examples)</p>
</td></tr>
<tr><td><code id="h_q_from_d_q_+3A_d_q_cm">d_q_cm</code></td>
<td>
<p>vector of quadratic mean stand (cohort) diameters in cm for
which a corresponding mean height estimate is required</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A typical application of this function would be to calculate the quadratic
mean diameter, <code><a href="#topic+d_q">d_q</a></code> of the tree cohort of interest. If height
information is totally lacking, a reasonable fallback value of the
corresponding quadratic mean height, h_q, can be obtained from this function.
Both values could then be used as the entry point of a standard height curve
system (like <code><a href="#topic+h_standard_gnfi3">h_standard_gnfi3</a></code> and <code><a href="#topic+h_standard_bv">h_standard_bv</a></code>)
in order to get plausible height estimates for the single trees in the
cohort. Be aware that, though the height estimates obtained from this
function are plausible, they should be interpreted with care, because the
variation of mean stand height at a given mean diameter is very high in
reality.
</p>


<h3>Value</h3>

<p>vector of estimated quadratic mean heights corresponding to the given
values of <code>d_q_cm</code>
</p>


<h3>References</h3>

<p>Pretzsch H, Biber P, Dursky J (2002).
&ldquo;The single tree-based stand simulator SILVA: construction, application and evaluation.&rdquo;
<em>Forest Ecology and Management</em>, <b>162</b>(1), 3&ndash;21.
ISSN 0378-1127, <a href="https://doi.org/10.1016/S0378-1127%2802%2900047-6">doi:10.1016/S0378-1127(02)00047-6</a>.
</p>


<h3>See Also</h3>

<p>Other stand heights: 
<code><a href="#topic+h_100">h_100</a>()</code>,
<code><a href="#topic+h_dom_weise">h_dom_weise</a>()</code>,
<code><a href="#topic+h_q">h_q</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'> # Species codes handed to h_q_from_d_q will be attempted to convert
 # into tum_wwk_short
 h_q_from_d_q(5, 25.4) # Apply to a common beech stand width d_q = 25.4 cm
 h_q_from_d_q(fe_species_ger_nfi_2012(100), 25.4)

 # Works also vectorized, i.e. when vectors of d_q values and species codes
 # are given
 species &lt;- fe_species_tum_wwk_short(c(1, 3, 5))
 d_qmean &lt;- c(23.2, 47.2, 12.7)
 h_q_from_d_q(species, d_qmean)

# Typical application: From diameter values to single tree height estimates
# when no height information is available
# - single tree diameters in a stand/cohort
dbh &lt;- c(10.2, 43.3, 37.5, 28.8, 12.4, 19.2, 25.4, 27.3, 32.0)
# - quadratic mean diameter
d_qmean &lt;- d_q(dbh)
species &lt;- fe_species_tum_wwk_short(3) # we assume it's a Scots pine stand
# - quadrativ mean height fallback value
h_qest &lt;- h_q_from_d_q(species, d_qmean)
# - single tree height estimates with the German National Inventory height
#   curve system
h_standard_gnfi3(species, dbh, d_qmean, h_qest)

</code></pre>

<hr>
<h2 id='h_q_from_d_q_core'>Core Function for Estimating Quadratic Mean Height from Quadratic Mean
Diameter</h2><span id='topic+h_q_from_d_q_core'></span>

<h3>Description</h3>

<p>See documentation of <code><a href="#topic+h_q_from_d_q">h_q_from_d_q</a></code> for most information,
this function is the workhorse behind, and should never be called directly by
a user.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>h_q_from_d_q_core(species_id, d_q_cm)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="h_q_from_d_q_core_+3A_species_id">species_id</code></td>
<td>
<p>when handed to this core function, species_id must be
character and correspond to the tum_wwk_short species coding
<code><a href="#topic+fe_species_tum_wwk_short">fe_species_tum_wwk_short</a></code></p>
</td></tr>
<tr><td><code id="h_q_from_d_q_core_+3A_d_q_cm">d_q_cm</code></td>
<td>
<p>see <code><a href="#topic+h_q_from_d_q">h_q_from_d_q</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>see <code><a href="#topic+h_q_from_d_q">h_q_from_d_q</a></code>
</p>

<hr>
<h2 id='h_standard_bv'>Calculate Tree Heights with the Bavarian Standard Height Curve System</h2><span id='topic+h_standard_bv'></span>

<h3>Description</h3>

<p>Implementation of the standard height curve system used by the Bavarian State
Forest Service (Kennel 1972). The
structure of the approach was developed by R. Kennel together with a
parameterisation for European beech (Fagus sylvatica). Later, anonymous
scientists have extended the parameters for all species (groups) covered by
the <em>tum_wwk_short</em> species coding. The standard height curve system
allows to estimate a tree's height when its dbh is given together with the
quadratic mean diameter, the corresponding quadratic mean height, and the age
of the stand it belongs to.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>h_standard_bv(species_id, dbh_cm, age_yr, d_q_cm, h_q_m)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="h_standard_bv_+3A_species_id">species_id</code></td>
<td>
<p>Vector of species id's following the <em>tum_wwk_short</em> or the
<em>bavrn_state_short</em> species coding. If another coding is provided, an
attempt will be made to convert it into the &quot;nearest&quot; of the two codings
mentioned above. The default is a conversion attempt to <em>tum_wwk_short</em>.
The species id's can also be provided as numeric values
(<code>double</code> or <code>integer</code>) or <code>character</code>. These will be
interpreted as and converted to <code>fe_species_tum_wwk_short</code>.
If all conversion attempts fail, the function will terminate with an
error.</p>
</td></tr>
<tr><td><code id="h_standard_bv_+3A_dbh_cm">dbh_cm</code></td>
<td>
<p>Vector of tree dbh values in cm (dbh = stem diameter at breast
height, i.e. 1.3 m)</p>
</td></tr>
<tr><td><code id="h_standard_bv_+3A_age_yr">age_yr</code></td>
<td>
<p>Vector of stand age values in years (will be recycled following
the rules for tibbles)</p>
</td></tr>
<tr><td><code id="h_standard_bv_+3A_d_q_cm">d_q_cm</code></td>
<td>
<p>Vector of quadratic mean stand diameters (will be recycled
following the rules for tibbles)</p>
</td></tr>
<tr><td><code id="h_standard_bv_+3A_h_q_m">h_q_m</code></td>
<td>
<p>Vector of quadratic mean stand heights (will be recycled
following the rules for tibbles)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In order to provide maximum flexibility in applying the function
h_standard_bv, the stand values (age, mean height, mean diameter) can be
provided with each tree diameter individually. This allows estimating heights
for trees from different stands at the same time. In the same way, the
provided species codes are not required to be the same for each tree.
</p>


<h3>Value</h3>

<p>A vector of the estimated heights
</p>


<h3>References</h3>

<p>Kennel R (1972).
<em>Die Buchendurchforstungsversuche in Bayern von 1870 bis 1970. Mit dem Modell einer Strukturertragstafel für die Buche</em>, volume 7 of <em>Forstliche Forschungsberichte München</em>.
Forstwissenschaftliche Fakultät der Universität München und Bayerische Forstliche Versuchs- und Forschungsanstalt.
</p>


<h3>See Also</h3>

<p>Other standard height curve systems: 
<code><a href="#topic+h_standard_gnfi3">h_standard_gnfi3</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  species_id &lt;- fe_species_tum_wwk_short(rep(3, 7))  # Seven Scots pines
  dbh &lt;- c(10.1, 27.4, 31.4, 35.5, 39.8, 45.2, 47.2) # and their diameters
  # Estimate the heights of these trees assuming they are from a 100 year old
  # stand with a mean diameter of 35.5 cm, and a corresponding mean height
  # of 28 m.
  h_standard_bv(species_id, dbh, age_yr = 100, d_q_cm = 35.5, h_q_m = 28.0)

  # Compare with sister function h_standard_gnfi3 which does not require
  # stand age
  h_standard_gnfi3(species_id, dbh, d_q_cm = 35.5, h_q_m = 28.0)

</code></pre>

<hr>
<h2 id='h_standard_bv_core'>Core Function for calculating Individual Tree Heights with the Bavarian
Standard Height Curve System</h2><span id='topic+h_standard_bv_core'></span>

<h3>Description</h3>

<p>See documentation of <code><a href="#topic+h_standard_bv">h_standard_bv</a></code> for most information, this
function is the workhorse behind, and should never be called directly by a
user.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>h_standard_bv_core(species_id, dbh_cm, age_yr, d_q_cm, h_q_m, params)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="h_standard_bv_core_+3A_species_id">species_id</code></td>
<td>
<p>Vector of species ids (see <code><a href="#topic+h_standard_bv">h_standard_bv</a></code>),
but for this core function to work, <code>species_id</code> must be provided as
<code>character</code>. This will and should be not checked inside this function,
because if used as intended, that has happened before calling it.</p>
</td></tr>
<tr><td><code id="h_standard_bv_core_+3A_dbh_cm">dbh_cm</code></td>
<td>
<p>Diameter at breast height vector (see documentation of
<code><a href="#topic+h_standard_bv">h_standard_bv</a></code>)</p>
</td></tr>
<tr><td><code id="h_standard_bv_core_+3A_age_yr">age_yr</code></td>
<td>
<p>Stand age vector (see documentation of
<code><a href="#topic+h_standard_bv">h_standard_bv</a></code>)</p>
</td></tr>
<tr><td><code id="h_standard_bv_core_+3A_d_q_cm">d_q_cm</code></td>
<td>
<p>Stand mean diameter vector (see documentation of
<code><a href="#topic+h_standard_bv">h_standard_bv</a></code>)</p>
</td></tr>
<tr><td><code id="h_standard_bv_core_+3A_h_q_m">h_q_m</code></td>
<td>
<p>Stand mean height vector (see documentation of
<code><a href="#topic+h_standard_bv">h_standard_bv</a></code>)</p>
</td></tr>
<tr><td><code id="h_standard_bv_core_+3A_params">params</code></td>
<td>
<p>A data frame that defines the function parameters corresponding
to the species coding represented by <code>species_id</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function <code>h_standard_bv</code> is fully vectorized, inputs are recyled
according to the tibble rules
</p>


<h3>Value</h3>

<p>A vector of the estimated heights
</p>

<hr>
<h2 id='h_standard_gnfi3'>Calculate Tree Heights with the Bavarian Standard Height Curve System of the
3rd German National Forest Inventory (2012)</h2><span id='topic+h_standard_gnfi3'></span>

<h3>Description</h3>

<p>Implementation of the standard height curve developed during the the 3nd
German National Forest Inventory
(Riedel et al. 2017). Structurally, this is a
height curve system after Sloboda
(Sloboda et al. 1993) which allows to estimate a
tree's height when its species, diameter, and the quadratic mean diameter
and height of (the species in) the stand is given.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>h_standard_gnfi3(species_id, dbh_cm, d_q_cm, h_q_m)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="h_standard_gnfi3_+3A_species_id">species_id</code></td>
<td>
<p>Vector of species id's preferably following the
<em>ger_nfi_2012</em> species coding. Ideally, these species_id's are provided as
a <code><a href="#topic+fe_species_ger_nfi_2012">fe_species_ger_nfi_2012</a></code> object. Second best, they are
provided in the <em>tum_wwk_short</em> coding. For any other type of object, an
attempt will be made to convert into <em>ger_nfi_2012</em> (and use the
corresponding parameters); if that fails, conversion to <em>tum_wwk_short</em>
will be attempted (see details).</p>
</td></tr>
<tr><td><code id="h_standard_gnfi3_+3A_dbh_cm">dbh_cm</code></td>
<td>
<p>Vector of tree dbh values in cm (dbh = stem diameter at breast
height, i.e. 1.3 m)</p>
</td></tr>
<tr><td><code id="h_standard_gnfi3_+3A_d_q_cm">d_q_cm</code></td>
<td>
<p>Vector of quadratic mean stand diameters (will be recycled
following the rules for tibbles)</p>
</td></tr>
<tr><td><code id="h_standard_gnfi3_+3A_h_q_m">h_q_m</code></td>
<td>
<p>Vector of quadratic mean stand heights (will be recycled
following the rules for tibbles)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Originally, the height curve system was parameterized for species and species
groups corresponding to the national forest inventory's species coding
(<code><a href="#topic+fe_species_ger_nfi_2012">fe_species_ger_nfi_2012</a></code>).  We have attributed in addition these
the original parameters also to the species codings
<code><a href="#topic+fe_species_tum_wwk_short">fe_species_tum_wwk_short</a></code>, and
<code><a href="#topic+fe_species_bavrn_state_short">fe_species_bavrn_state_short</a></code>. When called with a given species
coding, the function will try to use the &quot;nearest&quot; of these three
alternatives. Fallback option is the attempt to use
<code><a href="#topic+fe_species_tum_wwk_short">fe_species_tum_wwk_short</a></code>.
</p>
<p>In order to provide maximum flexibility in applying the function
h_standard_gnfi3, the stand values (mean height, mean diameter) can be
provided with each tree diameter individually. This allows estimating heights
for trees from different stands at the same time. In the same way, the
provided species codes are not required to be the same for each tree.
</p>


<h3>Value</h3>

<p>A vector of the estimated heights
</p>


<h3>References</h3>

<p>Riedel T, Hennig P, Kroiher F, Polley H, Schmitz F, F. S (2017).
<em>Die dritte Bundeswaldinventur (BWI 2012). Inventur- und Auswertungsmethoden</em>.
Thuenen Institut fuer Waldoekosysteme.<br /><br /> Sloboda B, Gaffrey D, Matsamura N (1993).
&ldquo;Regionale und lokale Systeme von Hoehenkurven gleichartiger Waldbestaende.&rdquo;
<em>Allgmeine Forst- und Jagdzeitung</em>, <b>164</b>(12), 225&ndash;228.
</p>


<h3>See Also</h3>

<p>Other standard height curve systems: 
<code><a href="#topic+h_standard_bv">h_standard_bv</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  # Three examples for single tree applications with species codes given
  # as integers (but following the ger_nfi_2012 coding)

  # European beech, dbh_cm &lt; dq_cm
  h_standard_gnfi3(species_id = 100, dbh_cm = 14.8, d_q_cm = 25, h_q_m = 22)

  # Scots pine, dbh_cm == dq_cm
  h_standard_gnfi3(species_id = 20, dbh_cm = 25, d_q_cm = 25, h_q_m = 22)

  # Douglas fir, dbh_cm &gt; dq_cm
  h_standard_gnfi3(species_id = 40, dbh_cm = 45, d_q_cm = 25, h_q_m = 22)

  # Same Douglas fir but species_id = 7 (i.e. tum_wwk_short),
  # note the message, because numeric 7 is not convertible into ger_nfi_2012
  h_standard_gnfi3(species_id = 7, dbh_cm = 45, d_q_cm = 25, h_q_m = 22)

  # But no message, when species_id = 7 is made a tum_wwk_short object first,
  # because this can be unambiguously converted into ger_nfi_2012
  h_standard_gnfi3(
    fe_species_tum_wwk_short(7), dbh_cm = 45, d_q_cm = 25, h_q_m = 22
  )

  # Usually, applications will be vectorized
  species_id &lt;- fe_species_ger_nfi_2012(rep(20, 7))  # Seven Scots pines
  dbh &lt;- c(10.1, 27.4, 31.4, 35.5, 39.8, 45.2, 47.2) # and their diameters
  # Estimate the heights of these trees, assuming they are from a
  # stand with a mean diameter of 35.5 cm, and a corresponding mean height
  # of 28 m.
  h_standard_gnfi3(species_id, dbh, d_q_cm = 35.5, h_q_m = 28.0)

  # Compare with sister function h_standard_bv, assuming a stand age of
  # 100 years
  h_standard_bv(species_id, dbh, age_yr = 100, d_q_cm = 35.5, h_q_m = 28.0)

</code></pre>

<hr>
<h2 id='h_standard_gnfi3_core'>Core Function for the Estimation of Tree Heights Using the Standard Height
Curve System of the 3rd German National Forest Inventory</h2><span id='topic+h_standard_gnfi3_core'></span>

<h3>Description</h3>

<p>See documentation of <code><a href="#topic+h_standard_gnfi3">h_standard_gnfi3</a></code> for most information,
this function is the workhorse behind, and should never be called directly by
a user.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>h_standard_gnfi3_core(species_id, dbh_cm, d_q_cm, h_q_m, params)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="h_standard_gnfi3_core_+3A_species_id">species_id</code></td>
<td>
<p>Vector of species ids (see <code><a href="#topic+h_standard_gnfi3">h_standard_gnfi3</a></code>),
but for this core function to work, <code>species_id</code> must be provided as
<code>character</code>. This will and should be not checked inside this function,
because if used as intended, that has happened before calling it. The
codings must either follow the <em>ger_nfi_2012</em>, the <em>tum_wwk_short</em>, or the
<em>bavrn_state_short</em> coding.</p>
</td></tr>
<tr><td><code id="h_standard_gnfi3_core_+3A_dbh_cm">dbh_cm</code></td>
<td>
<p>Vector of breast height diameters (see
<code><a href="#topic+h_standard_gnfi3">h_standard_gnfi3</a></code>)</p>
</td></tr>
<tr><td><code id="h_standard_gnfi3_core_+3A_d_q_cm">d_q_cm</code></td>
<td>
<p>The species quadratic mean diameter (cm) in the stand of
interest. (see <code><a href="#topic+h_standard_gnfi3">h_standard_gnfi3</a></code>)</p>
</td></tr>
<tr><td><code id="h_standard_gnfi3_core_+3A_h_q_m">h_q_m</code></td>
<td>
<p>The species mean height (m), corresponding to the quadratic mean
diameter in the stand of interest. (see <code><a href="#topic+h_standard_gnfi3">h_standard_gnfi3</a></code>)</p>
</td></tr>
<tr><td><code id="h_standard_gnfi3_core_+3A_params">params</code></td>
<td>
<p>A data frame that defines the function parameters corresponding
to the species coding represented by <code>species_id</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function <code>h_standard_gnfi3</code> is fully vectorized, inputs are recyled
according to the tibble rules
</p>


<h3>Value</h3>

<p>A vector with estimates of the trees' heights (m) (see
<code><a href="#topic+h_standard_gnfi3">h_standard_gnfi3</a></code>)
</p>

<hr>
<h2 id='has_no_missing_values'>Check if Selected Columns in a Data Frame Contain Missing Values</h2><span id='topic+has_no_missing_values'></span>

<h3>Description</h3>

<p>Check if Selected Columns in a Data Frame Contain Missing Values
</p>


<h3>Usage</h3>

<pre><code class='language-R'>has_no_missing_values(x, names)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="has_no_missing_values_+3A_x">x</code></td>
<td>
<p>a <code>data.frame</code></p>
</td></tr>
<tr><td><code id="has_no_missing_values_+3A_names">names</code></td>
<td>
<p><code>character</code> vector containg the names of the columns in
<code>x</code> to be checked</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with two elements: 1) <code>rqmt_ok</code> which is <code>TRUE</code> if
the requirement is fulfilled and <code>FALSE</code> otherwise; 2)
<code>err_message</code>, the body of an error message to be used by the calling
function (mentions all problematic elements)
</p>

<hr>
<h2 id='has_required_lengths'>Check Required Length for a List of Objects</h2><span id='topic+has_required_lengths'></span>

<h3>Description</h3>

<p>Check Required Length for a List of Objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>has_required_lengths(x, names_and_rqmts)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="has_required_lengths_+3A_x">x</code></td>
<td>
<p>list of objects to be checked</p>
</td></tr>
<tr><td><code id="has_required_lengths_+3A_names_and_rqmts">names_and_rqmts</code></td>
<td>
<p>a <code>tibble</code> that relates object names and the
length they are required to have. Must have two columns, <code>name</code> (i.e.
the object name, <code>character</code>), and <code>required</code> (i.e. the required
length, <code>integer</code>)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with two elements: 1) <code>rqmt_ok</code> which is <code>TRUE</code> if
the requirement is fulfilled and <code>FALSE</code> otherwise; 2)
<code>err_message</code>, the body of an error message to be used by the calling
function (mentions all problematic elements)
</p>

<hr>
<h2 id='has_required_names'>Check for Required Elements Existing in an Object</h2><span id='topic+has_required_names'></span>

<h3>Description</h3>

<p>Check for Required Elements Existing in an Object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>has_required_names(x, required_names)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="has_required_names_+3A_x">x</code></td>
<td>
<p>Any object for which <code>names</code> returns a character vector</p>
</td></tr>
<tr><td><code id="has_required_names_+3A_required_names">required_names</code></td>
<td>
<p>Character vector of names required to be in
<code>names(x)</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with two elements: 1) <code>rqmt_ok</code> which is <code>TRUE</code> if
the requirement is fulfilled and <code>FALSE</code> otherwise; 2)
<code>err_message</code>, the body of an error message to be used by the calling
function (mentions all problematic elements)
</p>

<hr>
<h2 id='has_required_type_or_class'>Check if an Object has a Required Type or Class</h2><span id='topic+has_required_type_or_class'></span>

<h3>Description</h3>

<p>Not a complete coverage of all base types and classes, but tailored to the
needs of <code><a href="#topic+validate_fe_stand">validate_fe_stand</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>has_required_type_or_class(x, rqmt)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="has_required_type_or_class_+3A_x">x</code></td>
<td>
<p>object to be checked</p>
</td></tr>
<tr><td><code id="has_required_type_or_class_+3A_rqmt">rqmt</code></td>
<td>
<p>name of the type or class required for <code>x</code>
(<code>character</code>)</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code> or <code>FALSE</code>, indicating if the requirement is met or
not
</p>

<hr>
<h2 id='has_required_types_or_classes'>Check Required Type or Class for a List of Objects</h2><span id='topic+has_required_types_or_classes'></span>

<h3>Description</h3>

<p>Check Required Type or Class for a List of Objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>has_required_types_or_classes(x, names_and_rqmts)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="has_required_types_or_classes_+3A_x">x</code></td>
<td>
<p>a list of objects to be checked</p>
</td></tr>
<tr><td><code id="has_required_types_or_classes_+3A_names_and_rqmts">names_and_rqmts</code></td>
<td>
<p>a <code>tibble</code> that relates object names and the
names of the types and classes they are required to have. Must have two
<code>character</code> columns, <code>name</code> (i.e. the object name), and
<code>required</code> (i.e. the name of the required type or class)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with two elements: 1) <code>rqmt_ok</code> which is <code>TRUE</code> if
the requirement is met and <code>FALSE</code> otherwise; 2)
<code>err_message</code>, the body of an error message to be used by the calling
function (mentions all problematic elements)
</p>

<hr>
<h2 id='height_crown_base_silva'>Estimate a tree's height to crown base</h2><span id='topic+height_crown_base_silva'></span>

<h3>Description</h3>

<p>This function can be used to estimate a tree's height to crown base,
given its stem diameter at breast height, its height and its species.
This is the height to crown base function implemented in the forest growth
simulator SILVA (Pretzsch et al. 2002). Height to
crown base in this context is defined as the height where the lowest living
branch of the tree's primary crown branches of the stem.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>height_crown_base_silva(species_id, dbh_cm, height_m)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="height_crown_base_silva_+3A_species_id">species_id</code></td>
<td>
<p>Vector of species id's following the <em>tum_wwk_short</em>
species coding. Ideally, these species_id's are provided as a
<code>fe_species_tum_wwk_short</code> object. If they are provided as another
<code>fe_species</code> object, <code>height_crown_base_silva</code> will make an
attempt to convert them. If this is not possible, the function will
terminate with an error. The species id's can also be provided as numeric
values (<code>double</code> or <code>integer</code>) or <code>character</code>. These will be
internally converted to <code>fe_species_tum_wwk_short</code>. If this fails
(i.e. the user provided species codes not defined in the <em>tum_wwk_short</em>
coding), an error is thrown and the function terminates.</p>
</td></tr>
<tr><td><code id="height_crown_base_silva_+3A_dbh_cm">dbh_cm</code></td>
<td>
<p>Vector of tree dbh values in cm (dbh = stem diameter at breast
height, i.e. 1.3 m)</p>
</td></tr>
<tr><td><code id="height_crown_base_silva_+3A_height_m">height_m</code></td>
<td>
<p>Vector of tree height values in m</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An estimate of the tree's height to crown base in m.
</p>


<h3>References</h3>

<p>Pretzsch H, Biber P, Dursky J (2002).
&ldquo;The single tree-based stand simulator SILVA: construction, application and evaluation.&rdquo;
<em>Forest Ecology and Management</em>, <b>162</b>(1), 3&ndash;21.
ISSN 0378-1127, <a href="https://doi.org/10.1016/S0378-1127%2802%2900047-6">doi:10.1016/S0378-1127(02)00047-6</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Estimate the height to crown base of a Scots pine with a stem diameter
# at breast height of 45.2 cm and a total height of 29.2 m:
height_crown_base_silva(
  species_id = "3",     # will be internally converted to tum_wwk_short
  dbh_cm = 45.2,
  height_m = 29.2
) # 20.9 m (rounded)

# Height to crown base estimate for a European beech with
# the same height and diameter:
height_crown_base_silva(
  species_id = "5",     # will be internally converted to tum_wwk_short
  dbh_cm = 45.2,
  height_m = 29.2
) # 15.0 m (rounded)

# Run on vectors
spec &lt;- mm_forest_1_fe_stand_spatial$trees$species_id
h &lt;- mm_forest_1_fe_stand_spatial$trees$height_m
d &lt;- mm_forest_1_fe_stand_spatial$trees$dbh_cm
height_crown_base_silva(spec, d, h)

</code></pre>

<hr>
<h2 id='height_crown_base_silva_core'>Core function for the silva tree height to crown base calculation</h2><span id='topic+height_crown_base_silva_core'></span>

<h3>Description</h3>

<p>See documentation of <code><a href="#topic+height_crown_base_silva">height_crown_base_silva</a></code> for most
information, this function is the workhorse behind, and should never be
called directly by a user.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>height_crown_base_silva_core(species_id, dbh_cm, height_m)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="height_crown_base_silva_core_+3A_species_id">species_id</code></td>
<td>
<p>Vector of species ids
(see <code><a href="#topic+height_crown_base_silva">height_crown_base_silva</a></code>), but for this core function to
work, <code>species_id</code> must be provided as <code>character</code>. This will and
should be not checked inside this function, because if used as intended, that
has happened before calling it.</p>
</td></tr>
<tr><td><code id="height_crown_base_silva_core_+3A_dbh_cm">dbh_cm</code></td>
<td>
<p>Vector of breast height diameters
(see <code><a href="#topic+height_crown_base_silva">height_crown_base_silva</a></code>)</p>
</td></tr>
<tr><td><code id="height_crown_base_silva_core_+3A_height_m">height_m</code></td>
<td>
<p>Vector of tree heights
(see <code><a href="#topic+height_crown_base_silva">height_crown_base_silva</a></code>)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function <code>height_crown_base_silva</code> is fully vectorized, inputs are
recycled according to the tibble rules
</p>


<h3>Value</h3>

<p>Tree height to crown base (see <code><a href="#topic+height_crown_base_silva">height_crown_base_silva</a></code>)
</p>

<hr>
<h2 id='hstd_gnfi3_spec_convert'>Helper function for cascaded species conversion when applying the German
National forest inventory 2012 standard height curve system.
Try to convert given species_id into ger_nfi_2012. If this causes an error
convert to tum_wwk_short instead</h2><span id='topic+hstd_gnfi3_spec_convert'></span>

<h3>Description</h3>

<p>Helper function for cascaded species conversion when applying the German
National forest inventory 2012 standard height curve system.
Try to convert given species_id into ger_nfi_2012. If this causes an error
convert to tum_wwk_short instead
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hstd_gnfi3_spec_convert(species_id)
</code></pre>

<hr>
<h2 id='is_distinct'>Check if Given Variable Combinations in a Data Frame are Distinct</h2><span id='topic+is_distinct'></span>

<h3>Description</h3>

<p>Check if Given Variable Combinations in a Data Frame are Distinct
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_distinct(x, combinations)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="is_distinct_+3A_x">x</code></td>
<td>
<p>a <code>data.frame</code></p>
</td></tr>
<tr><td><code id="is_distinct_+3A_combinations">combinations</code></td>
<td>
<p>a <code>list</code> of <code>character</code> vectors, where each
describes a variable combination in <code>x</code> to be checked for being
distinct</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with two elements: 1) <code>rqmt_ok</code> which is <code>TRUE</code> if
the requirement is fulfilled and <code>FALSE</code> otherwise; 2)
<code>err_message</code>, the body of an error message to be used by the calling
function (mentions all problematic elements)
</p>

<hr>
<h2 id='is_fe_ccircle_spatial'>Check if an Object is an <strong>fe_ccircle_spatial</strong></h2><span id='topic+is_fe_ccircle_spatial'></span>

<h3>Description</h3>

<p>Check if an Object is an <strong>fe_ccircle_spatial</strong>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_fe_ccircle_spatial(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="is_fe_ccircle_spatial_+3A_x">x</code></td>
<td>
<p>An object</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code> if the object inherits from the <code>fe_ccircle_spatial</code>
class
</p>


<h3>Examples</h3>

<pre><code class='language-R'>strange &lt;- "xyzabc"
is_fe_ccircle_spatial(strange)

</code></pre>

<hr>
<h2 id='is_fe_ccircle_spatial_notrees'>Check if an Object is an <strong>fe_ccircle_spatial_notrees</strong> object</h2><span id='topic+is_fe_ccircle_spatial_notrees'></span>

<h3>Description</h3>

<p>Check if an Object is an <strong>fe_ccircle_spatial_notrees</strong> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_fe_ccircle_spatial_notrees(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="is_fe_ccircle_spatial_notrees_+3A_x">x</code></td>
<td>
<p>An object</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code> if the object inherits from the
<code>fe_ccircle_spatial_notrees</code> class
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  strange &lt;- "xyzabc"
  is_fe_ccircle_spatial_notrees(strange)

</code></pre>

<hr>
<h2 id='is_fe_species_bavrn_state'>Check if an Object is a <strong>fe_species_bavrn_state</strong> species code vector</h2><span id='topic+is_fe_species_bavrn_state'></span>

<h3>Description</h3>

<p>Check if an Object is a <strong>fe_species_bavrn_state</strong> species code vector
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_fe_species_bavrn_state(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="is_fe_species_bavrn_state_+3A_x">x</code></td>
<td>
<p>An object</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code> if the object inherits from the
<code>fe_species_bavrn_state</code> class
</p>


<h3>Examples</h3>

<pre><code class='language-R'>spec_ids &lt;- new_fe_species_bavrn_state(
  as.character(c(40, 40, 30, 30, 60, 60, 60))
)
is_fe_species_bavrn_state(spec_ids)

</code></pre>

<hr>
<h2 id='is_fe_species_bavrn_state_short'>Check if an Object is a <strong>fe_species_bavrn_state_short</strong> species code vector</h2><span id='topic+is_fe_species_bavrn_state_short'></span>

<h3>Description</h3>

<p>Check if an Object is a <strong>fe_species_bavrn_state_short</strong> species code vector
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_fe_species_bavrn_state_short(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="is_fe_species_bavrn_state_short_+3A_x">x</code></td>
<td>
<p>An object</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code> if the object inherits from the
<code>fe_species_bavrn_state_short</code> class
</p>


<h3>Examples</h3>

<pre><code class='language-R'>spec_ids &lt;- new_fe_species_bavrn_state_short(
  as.character(1:9)
)
is_fe_species_bavrn_state_short(spec_ids)

</code></pre>

<hr>
<h2 id='is_fe_species_ger_nfi_2012'>Check if an Object is a <strong>fe_species_ger_nfi_2012</strong> species code vector</h2><span id='topic+is_fe_species_ger_nfi_2012'></span>

<h3>Description</h3>

<p>Check if an Object is a <strong>fe_species_ger_nfi_2012</strong> species code vector
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_fe_species_ger_nfi_2012(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="is_fe_species_ger_nfi_2012_+3A_x">x</code></td>
<td>
<p>An object</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code> if the object inherits from the
<code>fe_species_ger_nfi_2012</code> class
</p>


<h3>Examples</h3>

<pre><code class='language-R'>spec_ids &lt;- new_fe_species_ger_nfi_2012(
  as.character(c(50, 50, 20, 20, 100, 100, 100))
)
is_fe_species_ger_nfi_2012(spec_ids)

</code></pre>

<hr>
<h2 id='is_fe_species_master'>Check if an Object is a <strong>fe_species_master</strong> species code vector</h2><span id='topic+is_fe_species_master'></span>

<h3>Description</h3>

<p>Check if an Object is a <strong>fe_species_master</strong> species code vector
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_fe_species_master(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="is_fe_species_master_+3A_x">x</code></td>
<td>
<p>An object</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code> if the object inherits from the
<code>fe_species_master</code> class
</p>


<h3>Examples</h3>

<pre><code class='language-R'>spec_ids &lt;- new_fe_species_master(
  c("picea_001", "fagus_001", "quercus_002", "quercus_001")
)
is_fe_species_master(spec_ids)

</code></pre>

<hr>
<h2 id='is_fe_species_tum_wwk_long'>Check if an Object is a <strong>fe_species_tum_wwk_long</strong> species code vector</h2><span id='topic+is_fe_species_tum_wwk_long'></span>

<h3>Description</h3>

<p>Check if an Object is a <strong>fe_species_tum_wwk_long</strong> species code vector
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_fe_species_tum_wwk_long(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="is_fe_species_tum_wwk_long_+3A_x">x</code></td>
<td>
<p>An object</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code> if the object inherits from the
<code>fe_species_tum_wwk_long</code> class
</p>


<h3>Examples</h3>

<pre><code class='language-R'>spec_ids &lt;- new_fe_species_tum_wwk_long(
  as.character(c(70, 61, 88, 88, 10, 971, 32))
)
is_fe_species_tum_wwk_long(spec_ids)

</code></pre>

<hr>
<h2 id='is_fe_species_tum_wwk_short'>Check if an Object is a <strong>fe_species_tum_wwk_short</strong> species code vector</h2><span id='topic+is_fe_species_tum_wwk_short'></span>

<h3>Description</h3>

<p>Check if an Object is a <strong>fe_species_tum_wwk_short</strong> species code vector
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_fe_species_tum_wwk_short(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="is_fe_species_tum_wwk_short_+3A_x">x</code></td>
<td>
<p>An object</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code> if the object inherits from the
<code>fe_species_tum_wwk_short</code> class
</p>


<h3>Examples</h3>

<pre><code class='language-R'>spec_ids &lt;- new_fe_species_tum_wwk_short(
  as.character(c(4, 4, 3, 3, 5, 5, 5))
)
is_fe_species_tum_wwk_short(spec_ids)

</code></pre>

<hr>
<h2 id='is_fe_stand'>Check if an Object is an <strong>fe_stand</strong></h2><span id='topic+is_fe_stand'></span>

<h3>Description</h3>

<p>Check if an Object is an <strong>fe_stand</strong>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_fe_stand(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="is_fe_stand_+3A_x">x</code></td>
<td>
<p>An object</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code> if the object inherits from the <code>fe_stand</code> class
</p>


<h3>Examples</h3>

<pre><code class='language-R'>strange &lt;- "xyzabc"
is_fe_stand(strange)

is_fe_stand(norway_spruce_1_fe_stand)

</code></pre>

<hr>
<h2 id='is_fe_stand_spatial'>Check if an Object is an <strong>fe_stand_spatial</strong></h2><span id='topic+is_fe_stand_spatial'></span>

<h3>Description</h3>

<p>Check if an Object is an <strong>fe_stand_spatial</strong>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_fe_stand_spatial(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="is_fe_stand_spatial_+3A_x">x</code></td>
<td>
<p>An object</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code> if the object inherits from the <code>fe_stand_spatial</code>
class
</p>


<h3>Examples</h3>

<pre><code class='language-R'>strange &lt;- "xyzabc"
is_fe_stand_spatial(strange)

</code></pre>

<hr>
<h2 id='is_fe_tally_list'>Check if an Object is an <strong>fe_tally_list</strong></h2><span id='topic+is_fe_tally_list'></span>

<h3>Description</h3>

<p>Check if an Object is an <strong>fe_tally_list</strong>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_fe_tally_list(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="is_fe_tally_list_+3A_x">x</code></td>
<td>
<p>An object</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code> if the object inherits from the <code>fe_tally_list</code>
class
</p>

<hr>
<h2 id='is_fe_yield_table'>Check if an Object is an <strong>fe_yield_table</strong></h2><span id='topic+is_fe_yield_table'></span>

<h3>Description</h3>

<p>Check if an Object is an <strong>fe_yield_table</strong>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_fe_yield_table(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="is_fe_yield_table_+3A_x">x</code></td>
<td>
<p>An object</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code> if the object inherits from the <code>fe_yield_table</code>
class
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  x &lt;- "I want to be a yield table!"  # strange object
  is_fe_yield_table(x)                # sorry

  is_fe_yield_table(ytable_pine_wiedemann_moderate_1943_raw) # Nope
  is_fe_yield_table(fe_ytable_pine_wiedemann_moderate_1943)  # That's better

</code></pre>

<hr>
<h2 id='make_trees_dataframe'>Build a 'trees' data.frame (tibble) as Required for <em>fe_stand</em> and
<em>fe_stand_spatial</em> Objects</h2><span id='topic+make_trees_dataframe'></span>

<h3>Description</h3>

<p>Build a 'trees' data.frame (tibble) as Required for <em>fe_stand</em> and
<em>fe_stand_spatial</em> Objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_trees_dataframe(
  x,
  tree_id_col,
  species_id_col,
  time_yr_col,
  dbh_cm_col,
  layer_key_col,
  age_yr_col,
  height_m_col,
  crown_base_height_m_col,
  crown_radius_m_col,
  removal_col,
  ingrowth_col,
  n_rep_ha_col
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="make_trees_dataframe_+3A_x">x</code></td>
<td>
<p>Input data frame (tibble)</p>
</td></tr>
<tr><td><code id="make_trees_dataframe_+3A_tree_id_col">tree_id_col</code></td>
<td>
<p>See documentation of <code><a href="#topic+fe_stand">fe_stand</a></code></p>
</td></tr>
<tr><td><code id="make_trees_dataframe_+3A_species_id_col">species_id_col</code></td>
<td>
<p>See documentation of <code><a href="#topic+fe_stand">fe_stand</a></code></p>
</td></tr>
<tr><td><code id="make_trees_dataframe_+3A_time_yr_col">time_yr_col</code></td>
<td>
<p>See documentation of <code><a href="#topic+fe_stand">fe_stand</a></code></p>
</td></tr>
<tr><td><code id="make_trees_dataframe_+3A_dbh_cm_col">dbh_cm_col</code></td>
<td>
<p>See documentation of <code><a href="#topic+fe_stand">fe_stand</a></code></p>
</td></tr>
<tr><td><code id="make_trees_dataframe_+3A_layer_key_col">layer_key_col</code></td>
<td>
<p>See documentation of <code><a href="#topic+fe_stand">fe_stand</a></code></p>
</td></tr>
<tr><td><code id="make_trees_dataframe_+3A_age_yr_col">age_yr_col</code></td>
<td>
<p>See documentation of <code><a href="#topic+fe_stand">fe_stand</a></code></p>
</td></tr>
<tr><td><code id="make_trees_dataframe_+3A_height_m_col">height_m_col</code></td>
<td>
<p>See documentation of <code><a href="#topic+fe_stand">fe_stand</a></code></p>
</td></tr>
<tr><td><code id="make_trees_dataframe_+3A_crown_base_height_m_col">crown_base_height_m_col</code></td>
<td>
<p>See documentation of <code><a href="#topic+fe_stand">fe_stand</a></code></p>
</td></tr>
<tr><td><code id="make_trees_dataframe_+3A_crown_radius_m_col">crown_radius_m_col</code></td>
<td>
<p>See documentation of <code><a href="#topic+fe_stand">fe_stand</a></code></p>
</td></tr>
<tr><td><code id="make_trees_dataframe_+3A_removal_col">removal_col</code></td>
<td>
<p>See documentation of <code><a href="#topic+fe_stand">fe_stand</a></code></p>
</td></tr>
<tr><td><code id="make_trees_dataframe_+3A_ingrowth_col">ingrowth_col</code></td>
<td>
<p>See documentation of <code><a href="#topic+fe_stand">fe_stand</a></code></p>
</td></tr>
<tr><td><code id="make_trees_dataframe_+3A_n_rep_ha_col">n_rep_ha_col</code></td>
<td>
<p>See documentation of <code><a href="#topic+fe_stand">fe_stand</a></code> and
<code><a href="#topic+fe_stand_spatial">fe_stand_spatial</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame (tibble) that can be used as the list element 'trees' in
an <em>fe_stand</em> or <em>fe_stand_spatial</em> object
</p>

<hr>
<h2 id='n_rep_ha'>Calculate or Return the Representation Number per ha for the Trees Contained
in a Compatible Object</h2><span id='topic+n_rep_ha'></span>

<h3>Description</h3>

<p>The idea behind creating this function was to allow for using the very same
evaluation algorithms for ha-based values for a broad range of different
objects, e.g. stands/research plots, inventory plots, etc.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>n_rep_ha(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="n_rep_ha_+3A_x">x</code></td>
<td>
<p>An object provided by <strong>ForestElementsR</strong> containing trees for which
a representation number per ha can be meaningfully given. Such an object
must contain a data frame called 'trees'. Typically, this is an
<code><a href="#topic+fe_stand">fe_stand</a></code> or <code><a href="#topic+fe_stand_spatial">fe_stand_spatial</a></code> object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If the object <code>x</code> contains information about its area, the
representation numbers for each tree will be calculated in the following way:
</p>
<p>While <code>n_rep_ha</code> will return a vector of equal numbers for
<code><a href="#topic+fe_stand">fe_stand</a></code> objects, this is less trivial for the class
<code><a href="#topic+fe_stand_spatial">fe_stand_spatial</a></code>. The latter might contain 'buffer zone trees'
beyond the actual stand outline. Such trees will obtain a zero representation
number in contrast to the trees inside the outline.
If <code>x</code> does not contain sufficient information about its area, the
function will simply hand back the <code>n_rep_ha</code> column of the
<code>x$trees</code> data frame.
</p>


<h3>Value</h3>

<p>A vector of representation numbers corresponding to the order of the
trees data frame in <code>x</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># example for an fe_stand object
spruce_beech_1_fe_stand |&gt; n_rep_ha()

# example for an fe_stand_spatial object
mm_forest_1_fe_stand_spatial |&gt; n_rep_ha()

</code></pre>

<hr>
<h2 id='new_fe_ccircle_spatial'>Constructor for the <strong>fe_ccircle_spatial</strong> Class</h2><span id='topic+new_fe_ccircle_spatial'></span>

<h3>Description</h3>

<p>Should be used by expert users only who know exactly what they are doing.
Other users please take the function <code><a href="#topic+fe_stand">fe_stand</a></code> for creating an
object of that class.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_fe_ccircle_spatial(x = list(), ..., class = character())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="new_fe_ccircle_spatial_+3A_x">x</code></td>
<td>
<p>An appropriate <code>list</code> object</p>
</td></tr>
<tr><td><code id="new_fe_ccircle_spatial_+3A_...">...</code></td>
<td>
<p>Additional arguments required for enabling subclasses of
<code>fe_ccircle_spatial</code></p>
</td></tr>
<tr><td><code id="new_fe_ccircle_spatial_+3A_class">class</code></td>
<td>
<p>A Character string required for enabling subclasses of
<code>fe_ccircle_spatial</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>fe_ccircle_spatial</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
#' # Constructing a minimal fe_ccircle_spatial object from scratch
# Use fe_ccircle_spatial() if you are not absolutely sure

trees &lt;- data.frame(
  tree_id = as.character(c(1:10)),
  species_id = as_fe_species_tum_wwk_short(rep("5", 10)),
  layer_key = 1,
  time_yr = 2024,
  dbh_cm = rnorm(10, 50, 8),
  age_yr = NA_real_,
  height_m = NA_real_,
  crown_base_height_m = NA_real_,
  crown_radius_m = NA_real_,
  removal = FALSE,
  ingrowth = FALSE,
  n_rep_ha = 1 / 0.75
)

# define a circle definition with three concentric circles
circle_def &lt;- data.frame(
  dbh_lower = c(0,12,30),
  dbh_upper = c(11.9,29.9,999.0),
  c_area = c(0.0025, 0.0060, 0.0500)
)

# generate tree positions in polar coordinates for the 10 trees

tree_positions &lt;- data.frame(
 tree_id = as.character(c(1:10)),
 R = runif(10, 1, 12),
 angle = runif(10, 0, 360)) |&gt;
 dplyr::mutate(
 #convert the polar coordinates to cartesian and into an sf object
 x_pos = R*sin(angle*pi / 180),
 y_pos = R*cos(angle*pi / 180)
 ) |&gt; sf::st_as_sf(coords = c("x_pos", "y_pos"))

# generate a NA dummy for small_trees

  small_trees &lt;- data.frame(
  tree_id = NA_character_,
  species_id = NA_character_,
  layer_key = NA_real_,
  time_yr = NA_real_,
  dbh_cm = NA_real_,
  age_yr = NA_real_,
  height_m = NA_real_
  )

fe_ccircle_spatial_candidate &lt;- list(
  stand_id = "my_interesting_stand",
  small_trees = small_trees,
  trees = trees,
  circle_definition = circle_def,
  tree_positions = tree_positions,
  time_yr = 2024
)

fe_ccircle_object &lt;- new_fe_ccircle_spatial(fe_ccircle_spatial_candidate)

# Better validate it
fe_ccircle_object |&gt; validate_fe_ccircle_spatial()


</code></pre>

<hr>
<h2 id='new_fe_ccircle_spatial_notrees'>Constructor for the <strong>fe_ccircle_spatial_notrees</strong> Class</h2><span id='topic+new_fe_ccircle_spatial_notrees'></span>

<h3>Description</h3>

<p>Should be used by expert users only who know exactly what they are doing.
Other users please take the function <code><a href="#topic+fe_stand">fe_stand</a></code> for creating an
object of that class.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_fe_ccircle_spatial_notrees(x = list(), ..., class = character())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="new_fe_ccircle_spatial_notrees_+3A_x">x</code></td>
<td>
<p>An appropriate <code>list</code> object</p>
</td></tr>
<tr><td><code id="new_fe_ccircle_spatial_notrees_+3A_...">...</code></td>
<td>
<p>Additional arguments required for enabling subclasses of
<code>fe_ccircle_spatial_notrees</code></p>
</td></tr>
<tr><td><code id="new_fe_ccircle_spatial_notrees_+3A_class">class</code></td>
<td>
<p>A Character string required for enabling subclasses of
<code>fe_ccircle_spatial_notrees</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>The class <code>fe_ccircle_spatial_notrees</code> has been designed for covering
a comparably rare case, i.e. an inventory point where no regular trees
(trees that are big enough to have a dbh), but possibly small trees are
present.
</p>


<h3>Value</h3>

<p>An object of class <code>fe_ccircle_spatial_notrees</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#' # Constructing a minimal fe_ccircle_spatial object from scratch
# Use fe_ccircle_spatial() if you are not absolutely sure

trees &lt;- NULL
tree_positions &lt;- NULL

# define a circle definition with three concentric circles
circle_def &lt;- data.frame(
  dbh_lower = c(0,12,30),
  dbh_upper = c(11.9,29.9,999.0),
  c_area = c(0.0025, 0.0060, 0.0500)
)


# generate a NA dummy for small_trees

  small_trees &lt;- data.frame(
  tree_id = NA_character_,
  species_id = NA_character_,
  layer_key = NA_real_,
  time_yr = NA_real_,
  dbh_cm = NA_real_,
  age_yr = NA_real_,
  height_m = NA_real_
  )

fe_ccircle_spatial_notrees_candidate &lt;- list(
  stand_id = "my_interesting_stand",
  small_trees = small_trees,
  trees = trees,
  circle_definition = circle_def,
  tree_positions = tree_positions,
  time_yr = 2024
)

fe_ccircle_notrees_object &lt;-
new_fe_ccircle_spatial_notrees(fe_ccircle_spatial_notrees_candidate)

# Better validate it
fe_ccircle_notrees_object |&gt; validate_fe_ccircle_spatial_notrees()


</code></pre>

<hr>
<h2 id='new_fe_species'>Generic Constructor for <strong>fe_species</strong> Objects</h2><span id='topic+new_fe_species'></span>

<h3>Description</h3>

<p>Generic Constructor for <strong>fe_species</strong> Objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_fe_species(x = character(), class_name)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="new_fe_species_+3A_x">x</code></td>
<td>
<p>A <code>character</code> vector</p>
</td></tr>
<tr><td><code id="new_fe_species_+3A_class_name">class_name</code></td>
<td>
<p>Name of the class to be created. Must be one of the
supported names (first column of data <code>species_codings</code> with the
prefix &quot;fe_species_&quot;)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>class_name</code> if x is <code>character</code> and
<code>class_name</code> is among the supported names. Otherwise, the function
terminates with an error.
</p>

<hr>
<h2 id='new_fe_species_bavrn_state'>Constructor for the <strong>fe_species_bavrn_state</strong> Class</h2><span id='topic+new_fe_species_bavrn_state'></span>

<h3>Description</h3>

<p>Should be used by expert users only who know exactly what they are doing.
Other users please take the function <code><a href="#topic+fe_species_bavrn_state">fe_species_bavrn_state</a></code>
for creating an object of that class.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_fe_species_bavrn_state(x = character())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="new_fe_species_bavrn_state_+3A_x">x</code></td>
<td>
<p>An appropriate <code>character</code> vector</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>fe_species_bavrn_state</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Constructing a fe_species_bavrn_state object from scratch
# Use fe_species_bavrn_state() if you are not absolutely sure
spec_ids &lt;- new_fe_species_bavrn_state(
  as.character(c(40, 40, 30, 30, 60, 60, 60))
)

</code></pre>

<hr>
<h2 id='new_fe_species_bavrn_state_short'>Constructor for the <strong>fe_species_bavrn_state_short</strong> Class</h2><span id='topic+new_fe_species_bavrn_state_short'></span>

<h3>Description</h3>

<p>Should be used by expert users only who know exactly what they are doing.
Other users please take the function
<code><a href="#topic+fe_species_bavrn_state_short">fe_species_bavrn_state_short</a></code> for creating an object of that
class.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_fe_species_bavrn_state_short(x = character())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="new_fe_species_bavrn_state_short_+3A_x">x</code></td>
<td>
<p>An appropriate <code>character</code> vector</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>fe_species_bavrn_state_short</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Constructing a fe_species_bavrn_state_short object from scratch
# Use fe_species_bavrn_state_short() if you are not absolutely sure
spec_ids &lt;- new_fe_species_bavrn_state_short(
  as.character(1:9)
)

</code></pre>

<hr>
<h2 id='new_fe_species_ger_nfi_2012'>Constructor for the <strong>fe_species_ger_nfi_2012</strong> Class</h2><span id='topic+new_fe_species_ger_nfi_2012'></span>

<h3>Description</h3>

<p>Should be used by expert users only who know exactly what they are doing.
Other users please take the function <code><a href="#topic+fe_species_ger_nfi_2012">fe_species_ger_nfi_2012</a></code>
for creating an object of that class.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_fe_species_ger_nfi_2012(x = character())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="new_fe_species_ger_nfi_2012_+3A_x">x</code></td>
<td>
<p>An appropriate <code>character</code> vector</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>fe_species_ger_nfi_2012</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Constructing a fe_species_ger_nfi_2012 object from scratch
# Use fe_species_ger_nfi_2012() if you are not absolutely sure
spec_ids &lt;- new_fe_species_ger_nfi_2012(
  as.character(c(50, 50, 20, 20, 100, 100, 100))
)

</code></pre>

<hr>
<h2 id='new_fe_species_master'>Constructor for the <strong>fe_species_master</strong> Class</h2><span id='topic+new_fe_species_master'></span>

<h3>Description</h3>

<p>Should be used by expert users only who know exactly what they are doing.
Other users please take the function <code><a href="#topic+fe_species_master">fe_species_master</a></code>
for creating an object of that class.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_fe_species_master(x = character())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="new_fe_species_master_+3A_x">x</code></td>
<td>
<p>An appropriate <code>character</code> vector</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>fe_species_master</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Constructing a fe_species_master object from scratch
# Use fe_species_master() if you are not absolutely sure
spec_ids &lt;- new_fe_species_master(
  c("picea_001", "fagus_001", "quercus_002", "quercus_001")
)

</code></pre>

<hr>
<h2 id='new_fe_species_tum_wwk_long'>Constructor for the <strong>fe_species_tum_wwk_long</strong> Class</h2><span id='topic+new_fe_species_tum_wwk_long'></span>

<h3>Description</h3>

<p>Should be used by expert users only who know exactly what they are doing.
Other users please take the function <code><a href="#topic+fe_species_tum_wwk_long">fe_species_tum_wwk_long</a></code>
for creating an object of that class.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_fe_species_tum_wwk_long(x = character())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="new_fe_species_tum_wwk_long_+3A_x">x</code></td>
<td>
<p>An appropriate <code>character</code> vector</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>fe_species_tum_wwk_long</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Constructing a fe_species_tum_wwk_long object from scratch
# Use fe_species_tum_wwk_long() if you are not absolutely sure
spec_ids &lt;- new_fe_species_tum_wwk_long(
  as.character(c(70, 61, 88, 88, 10, 971, 32))
)

</code></pre>

<hr>
<h2 id='new_fe_species_tum_wwk_short'>Constructor for the <strong>fe_species_tum_wwk_short</strong> Class</h2><span id='topic+new_fe_species_tum_wwk_short'></span>

<h3>Description</h3>

<p>Should be used by expert users only who know exactly what they are doing.
Other users please take the function <code><a href="#topic+fe_species_tum_wwk_short">fe_species_tum_wwk_short</a></code>
for creating an object of that class.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_fe_species_tum_wwk_short(x = character())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="new_fe_species_tum_wwk_short_+3A_x">x</code></td>
<td>
<p>An appropriate <code>character</code> vector</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>fe_species_tum_wwk_short</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Constructing a fe_species_tum_wwk_short object from scratch
# Use fe_species_tum_wwk_short() if you are not absolutely sure
spec_ids &lt;- new_fe_species_tum_wwk_short(
  as.character(c(4, 4, 3, 3, 5, 5, 5))
)

</code></pre>

<hr>
<h2 id='new_fe_stand'>Constructor for the <strong>fe_stand</strong> Class</h2><span id='topic+new_fe_stand'></span>

<h3>Description</h3>

<p>Should be used by expert users only who know exactly what they are doing.
Other users please take the function <code><a href="#topic+fe_stand">fe_stand</a></code> for creating an
object of that class.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_fe_stand(x = list(), ..., class = character())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="new_fe_stand_+3A_x">x</code></td>
<td>
<p>An appropriate <code>list</code> object</p>
</td></tr>
<tr><td><code id="new_fe_stand_+3A_...">...</code></td>
<td>
<p>Additional arguments required for enabling subclasses of
<code>fe_stand</code></p>
</td></tr>
<tr><td><code id="new_fe_stand_+3A_class">class</code></td>
<td>
<p>A Character string required for enabling subclasses of
<code>fe_stand</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>fe_stand</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Constructing a minimal fe_stand object from scratch
# Use fe_stand() if you are not absolutely sure

trees &lt;- data.frame(
  tree_id = as.character(c(1:100)),
  species_id = as_fe_species_tum_wwk_short(rep("5", 100)),
  layer_key = 1,
  time_yr = 2022,
  dbh_cm = rnorm(100, 50, 8),
  age_yr = NA_real_,
  height_m = NA_real_,
  crown_base_height_m = NA_real_,
  crown_radius_m = NA_real_,
  removal = FALSE,
  ingrowth = FALSE,
  n_rep_ha = 1 / 0.75
)

fe_stand_candidate &lt;- list(
  stand_id = "my_interesting_stand",
  area_ha = 0.75,
  small_trees = data.frame(),
  trees = trees
)

fe_stand_object &lt;- new_fe_stand(fe_stand_candidate)

# Better validate it
fe_stand_object |&gt; validate_fe_stand()

</code></pre>

<hr>
<h2 id='new_fe_stand_spatial'>Constructor for the <strong>fe_stand_spatial</strong> Class</h2><span id='topic+new_fe_stand_spatial'></span>

<h3>Description</h3>

<p>Should be used by expert users only who know exactly what they are doing.
Other users please take the function <code><a href="#topic+fe_stand">fe_stand</a></code> for creating an
object of that class.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_fe_stand_spatial(x = list(), ..., class = character())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="new_fe_stand_spatial_+3A_x">x</code></td>
<td>
<p>An appropriate <code>list</code> object</p>
</td></tr>
<tr><td><code id="new_fe_stand_spatial_+3A_...">...</code></td>
<td>
<p>Additional arguments required for enabling subclasses of
<code>fe_stand_spatial</code></p>
</td></tr>
<tr><td><code id="new_fe_stand_spatial_+3A_class">class</code></td>
<td>
<p>A Character string required for enabling subclasses of
<code>fe_stand_spatial</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>fe_stand_spatial</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#' # Constructing a minimal fe_stand_spatial object from scratch
# Use fe_stand_spatial() if you are not absolutely sure

trees &lt;- data.frame(
  tree_id = as.character(c(1:50)),
  species_id = as_fe_species_tum_wwk_short(rep("5", 50)),
  layer_key = 1,
  time_yr = 2024,
  dbh_cm = rnorm(50, 50, 8),
  age_yr = NA_real_,
  height_m = NA_real_,
  crown_base_height_m = NA_real_,
  crown_radius_m = NA_real_,
  removal = FALSE,
  ingrowth = FALSE,
  n_rep_ha = 1 / 0.75
)

# generate tree positions

tree_positions &lt;- data.frame(
 tree_id = as.character(c(1:50)),
 x_pos = runif(50, 1, 49),
 y_pos = runif(50, 1, 49)
 ) |&gt; sf::st_as_sf(coords = c("x_pos", "y_pos"))


fe_stand_spatial_candidate &lt;- list(
  stand_id = "my_interesting_stand",
  outline = NULL,
  orientation = 0,
  small_trees = data.frame(),
  trees = trees,
  tree_positions = tree_positions
)

fe_stand_object &lt;- new_fe_stand_spatial(fe_stand_spatial_candidate)

# Better validate it
fe_stand_object |&gt; validate_fe_stand_spatial()



</code></pre>

<hr>
<h2 id='new_fe_tally_list'>Constructor for the <strong>fe_tally_list</strong> Class</h2><span id='topic+new_fe_tally_list'></span>

<h3>Description</h3>

<p>Should be used by expert users only who know exactly what they are doing.
Other users please take the function <code><a href="#topic+fe_stand">fe_stand</a></code> for creating an
object of that class.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_fe_tally_list(x = list(), ..., class = character())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="new_fe_tally_list_+3A_x">x</code></td>
<td>
<p>An appropriate <code>list</code> object</p>
</td></tr>
<tr><td><code id="new_fe_tally_list_+3A_...">...</code></td>
<td>
<p>Additional arguments required for enabling subclasses of
<code>fe_tally_list</code></p>
</td></tr>
<tr><td><code id="new_fe_tally_list_+3A_class">class</code></td>
<td>
<p>A Character string required for enabling subclasses of
<code>fe_tally_list</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>fe_tally_list</code>
</p>

<hr>
<h2 id='new_fe_yield_table'>Constructor for the <strong>fe_yield_table</strong> Class</h2><span id='topic+new_fe_yield_table'></span>

<h3>Description</h3>

<p>Provided for expert users only who know exactly what they are doing. Other
users please take the function <code><a href="#topic+fe_yield_table">fe_yield_table</a></code> for creating an
object of that class.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_fe_yield_table(x = list())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="new_fe_yield_table_+3A_x">x</code></td>
<td>
<p>An appropriate <code>list</code> object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>fe_yield_table</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  # Some highly motivated object, even a list
  x &lt;- list(my_dream = "I want to be a yield table!")
  x &lt;- new_fe_yield_table(x) # let's help the guy
  is_fe_yield_table(x)       # nice - it worked?!

  # But here's the error. That's why you should not use the bare constructor
  # if you don't know what you are doing.
  try(
    validate_fe_yield_table(x)
  )

</code></pre>

<hr>
<h2 id='plot.fe_ccircle_spatial'>Plot an fe_ccircle_spatial Object</h2><span id='topic+plot.fe_ccircle_spatial'></span>

<h3>Description</h3>

<p>Plot an fe_ccircle_spatial Object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'fe_ccircle_spatial'
plot(x, tree_filter = TRUE, dbh_scale = 1, show_labels = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot.fe_ccircle_spatial_+3A_x">x</code></td>
<td>
<p>An <code>fe_ccircle_spatial</code> object</p>
</td></tr>
<tr><td><code id="plot.fe_ccircle_spatial_+3A_tree_filter">tree_filter</code></td>
<td>
<p>A <code>data-masking</code> expression that applies to the
data.frame <code>x$trees</code>. It must return a logical value, and is defined
in terms of the variables in <code>x$trees</code>. In this function, it is used
internally in order to define the cohort of trees which is to be evaluated
by this function (within a call to <code>dplyr::filter()</code>). While many
meaningful filterings are conceivable, distinctions between total stand,
removal stand, and remaining stand are the most probable applications.
Defaults to <code>TRUE</code>, i.e. all trees are included. See examples.</p>
</td></tr>
<tr><td><code id="plot.fe_ccircle_spatial_+3A_dbh_scale">dbh_scale</code></td>
<td>
<p>Scaling factor for plotting tree dbh in order to allow
oversized representations. Defaults to 1 (correct scaling)</p>
</td></tr>
<tr><td><code id="plot.fe_ccircle_spatial_+3A_show_labels">show_labels</code></td>
<td>
<p>Logical value. If TRUE, labels for species, dbh, R and
angle are displayed.</p>
</td></tr>
<tr><td><code id="plot.fe_ccircle_spatial_+3A_...">...</code></td>
<td>
<p>Additional arguments, not used in <code>plot.fe_ccircle_spatial</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A map (ggplot2) of the plot layout including the trees with
coordinates
</p>


<h3>Examples</h3>

<pre><code class='language-R'> opt_old &lt;- getOption("fe_spec_lang") # store user's current setting
 options(fe_spec_lang = "eng")      # choose Englisch species name display
 spruce_pine_ccircle_spatial |&gt; plot()
 spruce_pine_ccircle_spatial |&gt; plot(dbh_scale = 4)
 spruce_pine_ccircle_spatial |&gt;
   plot(
     dbh_scale = 4,
     tree_filter = species_id == fe_species_tum_wwk_long(30) &amp; dbh_cm &gt; 35
   )
 options(fe_spec_lang = opt_old)

</code></pre>

<hr>
<h2 id='plot.fe_ccircle_spatial_notrees'>Plot an fe_ccircle_spatial_notrees Object</h2><span id='topic+plot.fe_ccircle_spatial_notrees'></span>

<h3>Description</h3>

<p>For an object of class<code><a href="#topic+fe_ccircle_spatial_notrees">fe_ccircle_spatial_notrees</a></code> only the
concentric circles are plotted at their correct positions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'fe_ccircle_spatial_notrees'
plot(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot.fe_ccircle_spatial_notrees_+3A_x">x</code></td>
<td>
<p>An <code><a href="#topic+fe_ccircle_spatial_notrees">fe_ccircle_spatial_notrees</a></code> object</p>
</td></tr>
<tr><td><code id="plot.fe_ccircle_spatial_notrees_+3A_...">...</code></td>
<td>
<p>Additional arguments, not used in
<code>plot.fe_ccircle_spatial_notrees</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A map (ggplot2) of the plot layout including the trees with
coordinates
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  # Abuse input data, that would actually allow for a full fe_ccircle_spatial
  # object to construct a fe_ccircle_spatial_notrees object.
  x &lt;- spruce_pine_ccircle_raw
  x &lt;- x |&gt; fe_ccircle_spatial_notrees()

  # Plot it
  plot(x)

</code></pre>

<hr>
<h2 id='plot.fe_stand'>Plot an <strong>fe_stand</strong> Object</h2><span id='topic+plot.fe_stand'></span>

<h3>Description</h3>

<p>Diameter distributions in number of trees per ha, one diagrame by year of
survey, tree cohort to be displayed can be filtered.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'fe_stand'
plot(x, tree_filter = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot.fe_stand_+3A_x">x</code></td>
<td>
<p>an <code>fe_stand</code> object</p>
</td></tr>
<tr><td><code id="plot.fe_stand_+3A_tree_filter">tree_filter</code></td>
<td>
<p>A <code>data-masking</code> expression that applies to the
data.frame <code>x$trees</code>. It must return a logical value, and is defined
in terms of the variables in <code>x$trees</code>. In this function, it is used
internally in order to define the cohort of trees which is to be evaluated
by this function (within a call to <code>dplyr::filter()</code>). While many
meaningful filterings are conceivable, distinctions between total stand,
removal stand, and remaining stand are the most probable applications.
Defaults to <code>TRUE</code>, i.e. all trees are included. See examples.</p>
</td></tr>
<tr><td><code id="plot.fe_stand_+3A_...">...</code></td>
<td>
<p>additional arguments, not used in <code>plot.fe_stand</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>The diagram(s) are made with <code>ggplot2::geom_bar</code>, the colours for the
species, the number and width of the diameter bins correspond to the default
settings in ggplot.
</p>


<h3>Value</h3>

<p>A plot (ggplot2) of the diameter distribution
</p>


<h3>Examples</h3>

<pre><code class='language-R'># display scientific species names in all examples
old_opt &lt;- getOption("fe_spec_lang") # store current user sertting
options(fe_spec_lang = "sci") # display scientific names

# mixed mountain forest - all trees
mm_forest_1_fe_stand_spatial |&gt; plot()
# ... remaining trees only
mm_forest_1_fe_stand_spatial |&gt; plot(tree_filter = !removal)
# ... removal only
mm_forest_1_fe_stand_spatial |&gt; plot(tree_filter = removal)
# ... all trees with dbh &gt; 30 cm
mm_forest_1_fe_stand_spatial |&gt; plot(tree_filter = dbh_cm &gt; 20)

# other example stands
selection_forest_1_fe_stand |&gt; plot()
norway_spruce_1_fe_stand |&gt; plot()
spruce_beech_1_fe_stand |&gt; plot()

# reset to previous species name settings
options(fe_spec_lang = old_opt)

</code></pre>

<hr>
<h2 id='plot.fe_yield_table'>Plot an fe_yield_table Object</h2><span id='topic+plot.fe_yield_table'></span>

<h3>Description</h3>

<p>Plot an fe_yield_table Object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'fe_yield_table'
plot(x, variable = NA, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot.fe_yield_table_+3A_x">x</code></td>
<td>
<p>An object of class <code><a href="#topic+fe_yield_table">fe_yield_table</a></code></p>
</td></tr>
<tr><td><code id="plot.fe_yield_table_+3A_variable">variable</code></td>
<td>
<p>Character, name of the variable to be plotted, default is
<code>NA</code>, which plots the variable listed first in the fe_yield_table
object's <code>site_index_variable slot</code>.</p>
</td></tr>
<tr><td><code id="plot.fe_yield_table_+3A_...">...</code></td>
<td>
<p>Other parameters, not used</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class ggplot
</p>


<h3>See Also</h3>

<p>Other yield table functions: 
<code><a href="#topic+fe_yield_table">fe_yield_table</a>()</code>,
<code><a href="#topic+si_to_mai_age">si_to_mai_age</a>()</code>,
<code><a href="#topic+si_to_mai_max">si_to_mai_max</a>()</code>,
<code><a href="#topic+site_index">site_index</a>()</code>,
<code><a href="#topic+stocking_level">stocking_level</a>()</code>,
<code><a href="#topic+yield_tables_for_species">yield_tables_for_species</a></code>,
<code><a href="#topic+ytable_age_slice">ytable_age_slice</a>()</code>,
<code><a href="#topic+ytable_lookup">ytable_lookup</a>()</code>,
<code><a href="#topic+ytable_max_slice">ytable_max_slice</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  fe_ytable_pine_wiedemann_moderate_1943 |&gt; plot()
  fe_ytable_pine_wiedemann_moderate_1943 |&gt; plot(variable = "ba_m2_ha")
  fe_ytable_pine_wiedemann_moderate_1943 |&gt; plot(variable = "mai_m3_ha_yr")

  # Modify plot post hoc ...
  fe_ytable_pine_wiedemann_moderate_1943 |&gt; plot(variable = "n_ha")
  # ... better to read on log scale
  fe_ytable_pine_wiedemann_moderate_1943 |&gt; plot(variable = "n_ha") +
    ggplot2::scale_y_log10()

</code></pre>

<hr>
<h2 id='se_tests'>Convenient Information About the Precision of a Random Sample</h2><span id='topic+se_tests'></span>

<h3>Description</h3>

<p>Given an arbitrary random sample, t-statistics are calculated in order to
obtain information about the precision of the sample mean or sum. A list of
useful statistics is returned, most importantly the standard error and the
confidence boundaries according to the confidence level provided by the user.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>se_tests(
  x,
  mu = 0,
  ref = c("mean", "sum"),
  alternative = c("two.sided", "greater", "less"),
  conf.level = 0.95
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="se_tests_+3A_x">x</code></td>
<td>
<p>vector representing the sample to be evaluated</p>
</td></tr>
<tr><td><code id="se_tests_+3A_mu">mu</code></td>
<td>
<p>the hypothesized mean for the null hypothesis, standard = 0</p>
</td></tr>
<tr><td><code id="se_tests_+3A_ref">ref</code></td>
<td>
<p>the reference value for the satistic, whether it is calculated
from the mean or the sum, default = 'mean'</p>
</td></tr>
<tr><td><code id="se_tests_+3A_alternative">alternative</code></td>
<td>
<p>a character string specifying the alternative hypothesis
for the t-statistics: &quot;two-sided&quot;, &quot;greater&quot; or &quot;less&quot;. Default is
&quot;two-sided&quot;</p>
</td></tr>
<tr><td><code id="se_tests_+3A_conf.level">conf.level</code></td>
<td>
<p>confidence level of the interval, Default = 0.95</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing various statistics such as standard error,
t-statistic, degrees of freedom, p-value, and confidence interval and
margin of error as a percentage of the mean or sum, respectively.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(123)
data &lt;- rnorm(100, mean = 5, sd = 2)

# Test for sum
se_tests(
  data, mu = 0, ref = "sum", alternative = "two.sided", conf.level = 0.95
)
# Test for mean
se_tests(
  data, mu = 0, ref = "mean", alternative = "two.sided", conf.level = 0.95
)

</code></pre>

<hr>
<h2 id='shannon_index'>Shannon Diversity Index for Tree Species</h2><span id='topic+shannon_index'></span>

<h3>Description</h3>

<p>Species diversity index after
Shannon and Weaver (1948). Note that this function
calculates comparable output only when the same species coding is used for
the input parameter <code>species_id</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>shannon_index(species_id, weights = 1, n_rep = 1)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="shannon_index_+3A_species_id">species_id</code></td>
<td>
<p>A vector of species codes, each vector element representing
a tree. Preferably, <code>species_id</code> is defined in one of the species
codings supported by this package, but technically, this is not even
a requirement.</p>
</td></tr>
<tr><td><code id="shannon_index_+3A_weights">weights</code></td>
<td>
<p>A vector of weights for each tree, default = 1, i.e. all trees
are equally weighted. Must be of length 1 or the same length as
<code>species_id</code>. Useful if e.g. trees should be weighted by their basal
area.</p>
</td></tr>
<tr><td><code id="shannon_index_+3A_n_rep">n_rep</code></td>
<td>
<p>A vector of representation numbers for each tree, typically the
number of trees represented per ha by each tree. Does only make a
difference if it differs among the trees. Default = 1, i.e. all trees have
the same representation number.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The Shannon Index value resulting from the input data
</p>


<h3>References</h3>

<p>Shannon CE, Weaver W (1948).
<em>The Mathematical Theory of Communication</em>.
University of Illinois Press.
</p>


<h3>See Also</h3>

<p>Other structure and diversity: 
<code><a href="#topic+assmann_layers">assmann_layers</a>()</code>,
<code><a href="#topic+species_profile">species_profile</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  # Monospecific stand
  trees &lt;- norway_spruce_1_fe_stand$trees
  shannon_index(trees$species_id)

  # Two-species mixed stand
  trees &lt;- spruce_beech_1_fe_stand$trees
  shannon_index(trees$species_id)

  # Selection forest
  trees &lt;- selection_forest_1_fe_stand$trees
  shannon_index(trees$species_id)

  # weigh with basal area (i.e. dbh^2)
  shannon_index(trees$species_id, weights = trees$dbh_cm^2)

  # weigh with inverse basal area (i.e. 1 / dbh^2)
  shannon_index(trees$species_id, weights = 1 / trees$dbh_cm^2)

</code></pre>

<hr>
<h2 id='si_to_mai_age'>Convert a Standard Site Index Into an MAI(age) Site Index</h2><span id='topic+si_to_mai_age'></span>

<h3>Description</h3>

<p>A useful way of site indexing is to give the site index of a stand in terms
of a mean annual increment (mai) at a given age, typically 100 years. This
function converts a standard site index into such an mai site index. See
<code><a href="#topic+si_to_mai_max">si_to_mai_max</a></code> for an alternative mai based site indexing
method.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>si_to_mai_age(si, mai_variable, age, ytable)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="si_to_mai_age_+3A_si">si</code></td>
<td>
<p>Standard site index to be converted, must correspond to the site
index nomenclature of the yield table to be used (param <code>ytable</code>, see
below).</p>
</td></tr>
<tr><td><code id="si_to_mai_age_+3A_mai_variable">mai_variable</code></td>
<td>
<p>Character, name of the mai_variable to be used. Must be
one if the mai variables listed in the <code>fe_yield_table</code> object
provided with the parameter <code>ytable</code>.</p>
</td></tr>
<tr><td><code id="si_to_mai_age_+3A_age">age</code></td>
<td>
<p>The stand age (years) for which the mai site index is to be
defined, typically 100 years.</p>
</td></tr>
<tr><td><code id="si_to_mai_age_+3A_ytable">ytable</code></td>
<td>
<p>An object of class <code>fe_yield_table</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>The requested mai value corresponding to the given standard
site index at the given age
</p>


<h3>See Also</h3>

<p>Other yield table functions: 
<code><a href="#topic+fe_yield_table">fe_yield_table</a>()</code>,
<code><a href="#topic+plot.fe_yield_table">plot.fe_yield_table</a>()</code>,
<code><a href="#topic+si_to_mai_max">si_to_mai_max</a>()</code>,
<code><a href="#topic+site_index">site_index</a>()</code>,
<code><a href="#topic+stocking_level">stocking_level</a>()</code>,
<code><a href="#topic+yield_tables_for_species">yield_tables_for_species</a></code>,
<code><a href="#topic+ytable_age_slice">ytable_age_slice</a>()</code>,
<code><a href="#topic+ytable_lookup">ytable_lookup</a>()</code>,
<code><a href="#topic+ytable_max_slice">ytable_max_slice</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'> age &lt;- 100
 mai_var &lt;- "mai_m3_ha_yr" # mai in volume over bark before harvest

 si_to_mai_age(2.3, mai_var, age, fe_ytable_larch_schober_moderate_1946)
 si_to_mai_age(0.7, mai_var, age, fe_ytable_larch_schober_moderate_1946)
 si_to_mai_age(2.3, mai_var, age, fe_ytable_beech_wiedemann_moderate_1931)
 si_to_mai_age(0.7, mai_var, age, fe_ytable_beech_wiedemann_moderate_1931)

 mai_var &lt;- "red_mai_m3_ha_yr" # mai in vol. under bark minus harvest losses
 si_to_mai_age(2.3, mai_var, age, fe_ytable_larch_schober_moderate_1946)
 si_to_mai_age(0.7, mai_var, age, fe_ytable_larch_schober_moderate_1946)
 si_to_mai_age(2.3, mai_var, age, fe_ytable_beech_wiedemann_moderate_1931)
 si_to_mai_age(0.7, mai_var, age, fe_ytable_beech_wiedemann_moderate_1931)

</code></pre>

<hr>
<h2 id='si_to_mai_max'>Convert a Standard Site Index Into an maximum MAI Site Index</h2><span id='topic+si_to_mai_max'></span>

<h3>Description</h3>

<p>A less common, but sometimes useful way of site indexing is to give the site
function converts a standard site index into such an maximum mai site index.
Typically, the stand age where the maximum mai is obtained increases from
better to lesser site index classes. See <code><a href="#topic+si_to_mai_age">si_to_mai_age</a></code> for an
alternative mai based site indexing method.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>si_to_mai_max(si, mai_variable, ytable)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="si_to_mai_max_+3A_si">si</code></td>
<td>
<p>Standard site index to be converted, must correspond to the site
index nomenclature of the yield table to be used (param <code>ytable</code>, see
below).</p>
</td></tr>
<tr><td><code id="si_to_mai_max_+3A_mai_variable">mai_variable</code></td>
<td>
<p>Character, name of the mai_variable to be used. Must be
one if the mai variables listed in the <code>fe_yield_table</code> object
provided with the parameter <code>ytable</code>.</p>
</td></tr>
<tr><td><code id="si_to_mai_max_+3A_ytable">ytable</code></td>
<td>
<p>An object of class <code>fe_yield_table</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>The requested maximum mai value corresponding to the given standard
site index
</p>


<h3>See Also</h3>

<p>Other yield table functions: 
<code><a href="#topic+fe_yield_table">fe_yield_table</a>()</code>,
<code><a href="#topic+plot.fe_yield_table">plot.fe_yield_table</a>()</code>,
<code><a href="#topic+si_to_mai_age">si_to_mai_age</a>()</code>,
<code><a href="#topic+site_index">site_index</a>()</code>,
<code><a href="#topic+stocking_level">stocking_level</a>()</code>,
<code><a href="#topic+yield_tables_for_species">yield_tables_for_species</a></code>,
<code><a href="#topic+ytable_age_slice">ytable_age_slice</a>()</code>,
<code><a href="#topic+ytable_lookup">ytable_lookup</a>()</code>,
<code><a href="#topic+ytable_max_slice">ytable_max_slice</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'> mai_var &lt;- "mai_m3_ha_yr" # mai in volume over bark before harvest

 si_to_mai_max(2.3, mai_var, fe_ytable_larch_schober_moderate_1946)
 si_to_mai_max(0.7, mai_var, fe_ytable_larch_schober_moderate_1946)
 si_to_mai_max(2.3, mai_var, fe_ytable_beech_wiedemann_moderate_1931)
 si_to_mai_max(0.7, mai_var, fe_ytable_beech_wiedemann_moderate_1931)

 mai_var &lt;- "red_mai_m3_ha_yr" # mai in vol. under bark minus harvest losses
 si_to_mai_max(2.3, mai_var, fe_ytable_larch_schober_moderate_1946)
 si_to_mai_max(0.7, mai_var, fe_ytable_larch_schober_moderate_1946)
 si_to_mai_max(2.3, mai_var, fe_ytable_beech_wiedemann_moderate_1931)
 si_to_mai_max(0.7, mai_var, fe_ytable_beech_wiedemann_moderate_1931)

</code></pre>

<hr>
<h2 id='site_index'>Find Site Indexes With a Yield Table</h2><span id='topic+site_index'></span>

<h3>Description</h3>

<p>Find Site Indexes With a Yield Table
</p>


<h3>Usage</h3>

<pre><code class='language-R'>site_index(age, size, ytable, si_variable)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="site_index_+3A_age">age</code></td>
<td>
<p>Age (years) of the stand to be site indexed</p>
</td></tr>
<tr><td><code id="site_index_+3A_size">size</code></td>
<td>
<p>Size value, typically a height (m), of the stand to be site
indexed. Must correspond to the parameter <code>si_variable</code> (see below)</p>
</td></tr>
<tr><td><code id="site_index_+3A_ytable">ytable</code></td>
<td>
<p>A yield table, must be an <code>fe_yield_table</code> object</p>
</td></tr>
<tr><td><code id="site_index_+3A_si_variable">si_variable</code></td>
<td>
<p>Name of the stand size variable, typically a height (m),
to be used for site indexing. Must correspond to the parameter <code>size</code>
(see above). If  <code>si_variable</code> is not part of the yield table object's
slot <code>$site_index_variable</code>, the function will terminate with an
error.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The site index resulting from <code>age</code> and <code>height</code>
</p>


<h3>See Also</h3>

<p>Other yield table functions: 
<code><a href="#topic+fe_yield_table">fe_yield_table</a>()</code>,
<code><a href="#topic+plot.fe_yield_table">plot.fe_yield_table</a>()</code>,
<code><a href="#topic+si_to_mai_age">si_to_mai_age</a>()</code>,
<code><a href="#topic+si_to_mai_max">si_to_mai_max</a>()</code>,
<code><a href="#topic+stocking_level">stocking_level</a>()</code>,
<code><a href="#topic+yield_tables_for_species">yield_tables_for_species</a></code>,
<code><a href="#topic+ytable_age_slice">ytable_age_slice</a>()</code>,
<code><a href="#topic+ytable_lookup">ytable_lookup</a>()</code>,
<code><a href="#topic+ytable_max_slice">ytable_max_slice</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  site_index(72, 19.7, fe_ytable_pine_wiedemann_moderate_1943, "h_q_m")

</code></pre>

<hr>
<h2 id='species_codings'>Supported Species Codings in the Package <strong>ForestElementsR</strong></h2><span id='topic+species_codings'></span>

<h3>Description</h3>

<p>Data of all supported species codings in the package
<code>ForestElementsR</code>. Currently supported codings are
</p>

<dl>
<dt>master</dt><dd><p>The <em>master</em> species coding is the original species coding
used by the package <strong>ForestElementsR</strong>. It contains each species from
the <code><a href="#topic+species_master_table">species_master_table</a></code> and no species groups. This
coding corresponds directly to the <code><a href="#topic+species_master_table">species_master_table</a></code>.
Its species_id's (see below) are the master table's columns
<code>genus</code> and <code>species</code> combined into one character string,
separated by an underscore.</p>
</dd>
<dt>tum_wwk_short</dt><dd><p>The <em>tum_wwk_short</em> species coding is one of two
codings in use at the Chair of Forest Growth and Yield Science. It
defines only a small set of single species explicitly (the most important
ones in Central Europe), while all other species are attributed to a few
large container groups.</p>
</dd>
<dt>tum_wwk_long</dt><dd><p>The <em>tum_wwk_long</em> species coding is one of two
codings in use at the Chair of Forest Growth and Yield Science. It
defines a larger set of single species than the <em>tum_wwk_short</em> coding.
In its original version, this coding contains several species groups, but
most of these groups are ambiguous as they include species which also
have a single coding. These ambiguous groups were not included in this
package.</p>
</dd>
<dt>bavrn_state</dt><dd><p>The <em>bavrn_state</em> species coding is the species coding
used by the Bavarian State Forest Service.</p>
</dd>
<dt>bavrn_state_short</dt><dd><p>The <em>bavrn_state_short</em> is a coding that combines
the species of <em>bavrn_state</em> into groups. These groups are typically used
by the Bavarian State Forest Service in aggregated evaluations.</p>
</dd>
<dt>ger_nfi_2012</dt><dd><p>The <em>ger_nfi_2012</em> species coding is the species coding
used by the German National Forest Inventory of 2012
(Riedel et al. 2017)</p>
</dd>
</dl>



<h3>Usage</h3>

<pre><code class='language-R'>species_codings
</code></pre>


<h3>Format</h3>

<p>A tibble containing the supported species codings together with the
coding tables (which are tibbles themselves). Its columns are:
</p>

<dl>
<dt>species_coding</dt><dd><p>name of the coding</p>
</dd>
<dt>code_table</dt><dd><p>tibble describing the species coding with the columns
</p>

<dl>
<dt>species_id</dt><dd><p>the species code (character)</p>
</dd>
<dt>species_name_sci</dt><dd><p>the scientific species name (for species groups
english terms are used)</p>
</dd>
<dt>species_name_eng</dt><dd><p>English species names</p>
</dd>
<dt>species_name_ger</dt><dd><p>German species names</p>
</dd>
</dl>

</dd>
</dl>



<h3>References</h3>

<p>Riedel T, Hennig P, Kroiher F, Polley H, Schmitz F, F. S (2017).
<em>Die dritte Bundeswaldinventur (BWI 2012). Inventur- und Auswertungsmethoden</em>.
Thuenen Institut fuer Waldoekosysteme.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Get specific coding tables out of the data 'species_codings'
fe_species_get_coding_table("master")
fe_species_get_coding_table("tum_wwk_short")
fe_species_get_coding_table("tum_wwk_long")
fe_species_get_coding_table("bavrn_state")
fe_species_get_coding_table("bavrn_state_short")
fe_species_get_coding_table("ger_nfi_2012")

# Check number of species behind each code in a given coding
fe_species_get_coding_table("tum_wwk_short") |&gt;
  dplyr::group_by(species_id) |&gt;
  dplyr::summarise(n = dplyr::n()) |&gt;
  dplyr::arrange(as.numeric(species_id)) # just for the look of it

fe_species_get_coding_table("bavrn_state_short") |&gt;
  dplyr::group_by(species_id) |&gt;
  dplyr::summarise(n = dplyr::n()) |&gt;
  dplyr::arrange(as.numeric(species_id)) # just for the look of it

</code></pre>

<hr>
<h2 id='species_master_table'>List of Supported Species in the Package <strong>ForestElementsR</strong></h2><span id='topic+species_master_table'></span>

<h3>Description</h3>

<p>A <code>data.frame</code> (<code>tibble</code>) where each row represents a
single species which is - in principle - currently supported by the package
<strong>ForestElementsR</strong>. Each species which is coded (as a single species or a
group of species) in any of the supported <code><a href="#topic+species_codings">species_codings</a></code>,
must also be represented in this data frame. No specific species coding,
however, must necessarily use all of the species listed here.
</p>
<p>The internal universal species coding used in this package is defined in
the two columns <code>genus</code> and <code>species_no</code> (see below).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>species_master_table
</code></pre>


<h3>Format</h3>

<p>A tibble with the following columns are:
</p>

<dl>
<dt>deciduous_conifer</dt><dd><p><code>Character</code> column with allowed values
<code>conif</code>, and <code>decid</code></p>
</dd></dl>
<p> for confifer and deciduous species,
respectively
</p>
<dl>
<dt>genus</dt><dd><p><code>Character</code>, the genus of the species in plaintext, but
always lowercase</p>
</dd>
<dt>species_no</dt><dd><p><code>Character</code>, a three digit number, always with
leading zeroes, indicating the species inside the genus. A number was
chosen instead of plaintext, because spelling and naming must be
considered somewhat instable on that level. The order of the numbers
reflects (very) roughly the importance of the species inside a given
genus in Central Europe.</p>
</dd>
<dt>name_sci</dt><dd><p>Scientific species names (<code>character</code>)</p>
</dd>
<dt>name_eng</dt><dd><p>Colloquial English species names (<code>character</code>)</p>
</dd>
<dt>name_ger</dt><dd><p>Colloquial German species names (<code>character</code>)</p>
</dd>
</dl>


<hr>
<h2 id='species_profile'>Species Profile Index After Pretzsch</h2><span id='topic+species_profile'></span>

<h3>Description</h3>

<p>As an extension of the Shannon Index (<code><a href="#topic+shannon_index">shannon_index</a></code>), the
species profile index by
Pretzsch (2009)
takes into account the vertical structure of a forest stand. For doing so,
the function <code><a href="#topic+assmann_layers">assmann_layers</a></code> is called in the background.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>species_profile(
  species_id,
  heights,
  weights = 1,
  n_rep = 1,
  reference_height = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="species_profile_+3A_species_id">species_id</code></td>
<td>
<p>A vector of species codes, each vector element representing
a tree. Preferably, <code>species_id</code> is defined in one of the species
codings supported by this package, but technically, this is not even
a requirement.</p>
</td></tr>
<tr><td><code id="species_profile_+3A_heights">heights</code></td>
<td>
<p>A vector of tree heights, must have the same length as
<code>species_id</code></p>
</td></tr>
<tr><td><code id="species_profile_+3A_weights">weights</code></td>
<td>
<p>A vector of weights for each tree, default = 1, i.e. all trees
are equally weighted. Must be of length 1 or the same length as
<code>species_id</code>. Useful if e.g. trees should be weighted by their basal
area.</p>
</td></tr>
<tr><td><code id="species_profile_+3A_n_rep">n_rep</code></td>
<td>
<p>A vector of representation numbers for each tree, typically the
number of trees represented per ha by each tree. Does only make a
difference if it differs among the trees. Default = 1, i.e. all trees have
the same representation number.</p>
</td></tr>
<tr><td><code id="species_profile_+3A_reference_height">reference_height</code></td>
<td>
<p>Reference height for the 100% level of the stand
height profile. Internally passed to <code><a href="#topic+assmann_layers">assmann_layers</a></code>. If
<code>NULL</code> (default), the maximum of <code>heights</code> will be used as the
reference height.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note that this function calculates comparable output only when the same
species coding is used for the input parameter <code>species_id</code>.
</p>


<h3>Value</h3>

<p>The Species Profile Index value resulting from the input data
</p>


<h3>References</h3>

<p>Pretzsch H (2009).
<em>Forest Dynamics, Growth and Yield: From Measurement to Model</em>, 2010 edition.
Springer, Berlin.
ISBN 978-3-540-88306-7.
</p>


<h3>See Also</h3>

<p>Other structure and diversity: 
<code><a href="#topic+assmann_layers">assmann_layers</a>()</code>,
<code><a href="#topic+shannon_index">shannon_index</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  # Monospecific stand
  trees &lt;- norway_spruce_1_fe_stand$trees
  species_profile(trees$species_id, trees$height_m)

  # Two-species mixed stand
  trees &lt;- spruce_beech_1_fe_stand$trees
  species_profile(trees$species_id, trees$height_m)

  # Selection forest
  trees &lt;- selection_forest_1_fe_stand$trees
  species_profile(trees$species_id, trees$height_m)

  # weigh with basal area (i.e. dbh^2)
  species_profile(trees$species_id, trees$height_m, weights = trees$dbh_cm^2)

  # weigh with inverse basal area (i.e. 1 / dbh^2)
  species_profile(
    trees$species_id, trees$height_m, weights = 1 / trees$dbh_cm^2
  )

</code></pre>

<hr>
<h2 id='species_shares'>species_shares</h2><span id='topic+species_shares'></span>

<h3>Description</h3>

<p>Calculate tree species shares for a <code><a href="#topic+fe_stand">fe_stand</a></code> object. Different
methods and scopes are available.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>species_shares(
  x,
  tree_filter = TRUE,
  method = c("ba_wd", "ba", "n"),
  include_ingrowth = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="species_shares_+3A_x">x</code></td>
<td>
<p>An <code><a href="#topic+fe_stand">fe_stand</a></code> object</p>
</td></tr>
<tr><td><code id="species_shares_+3A_tree_filter">tree_filter</code></td>
<td>
<p>A <code>data-masking</code> expression that applies to the
data.frame <code>x$trees</code>. It must return a logical value, and is defined
in terms of the variables in <code>x$trees</code>. In this function, it is used
internally in order to define the cohort of trees which is to be evaluated
by this function (within a call to <code>dplyr::filter()</code>). While many
meaningful filterings are conceivable, distinctions between total stand,
removal stand, and remaining stand are the most probable applications.
Defaults to <code>TRUE</code>, i.e. all trees are included. See examples.</p>
</td></tr>
<tr><td><code id="species_shares_+3A_method">method</code></td>
<td>
<p>Character string defining the calculation method to be applied.
Must be one of &quot;ba_wd&quot; (default), &quot;ba&quot;, and &quot;n&quot; (see Details).</p>
</td></tr>
<tr><td><code id="species_shares_+3A_include_ingrowth">include_ingrowth</code></td>
<td>
<p>If <code>TRUE</code> (default), newly ingrown trees will be
included in the calculation.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The calculation uses the <code>trees</code> data frame of the input
<code><a href="#topic+fe_stand">fe_stand</a></code> object. The small tree cohort is not taken into
account. Three different methods are available to choose from (parameter
<code>method</code>: </p>
 <dl>
<dt><b>Basal area shares, weighted with wood
density (method &quot;ba_wd&quot;): </b></dt><dd><p> The species shares are based on basal areas
which are weighted with the species specific wood densities raised to the
power of 2/3. The exponent of 2/3 takes into account that wood density is a
three-dimensional quantity, while basal area is two-dimensional. This is the
default method. It works, however, only with species codings that can be
converted into the <code><a href="#topic+fe_species_tum_wwk_short">fe_species_tum_wwk_short</a></code> coding (default),
or with <code><a href="#topic+fe_species_bavrn_state_short">fe_species_bavrn_state_short</a></code>. The latter is used if
this species coding is directly provided or if the species coding is
<code><a href="#topic+fe_species_bavrn_state">fe_species_bavrn_state</a></code>. The reason for that restriction is that
wood densities are currently only provided for the two species codings
<code><a href="#topic+fe_species_tum_wwk_short">fe_species_tum_wwk_short</a></code>, and
<code><a href="#topic+fe_species_bavrn_state_short">fe_species_bavrn_state_short</a></code>. The resulting shares, however,
will always relate to the original coding.</p>
</dd> <dt><b>Unweighted basal area
shares (method &quot;ba&quot;):</b></dt><dd><p> Species shares are calculated as shares of the
unweighted basal areas. </p>
</dd> <dt><b>Stem number shares (method &quot;n&quot;):</b></dt><dd>
<p>Species shares are calculated as stem number shares, i.e. tree size does not
matter for that calculation. </p>
</dd> </dl>



<h3>Value</h3>

<p>A data frame (tibble) with the three columns <code>species_id</code>,
<code>time_yr</code>, and <code>species_share</code>. If no tree passes the
user-defined <code>tree_filter</code>, the tibble will have no lines.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>species_shares(selection_forest_1_fe_stand) # default method ("ba_wd")
species_shares(selection_forest_1_fe_stand, method = "ba")
species_shares(selection_forest_1_fe_stand, method = "n")

# Same stand, different cohorts
mm_forest_1_fe_stand_spatial |&gt; species_shares() # all trees
mm_forest_1_fe_stand_spatial |&gt; species_shares(!removal) # remaining only
mm_forest_1_fe_stand_spatial |&gt; species_shares(removal) # removal only

</code></pre>

<hr>
<h2 id='stand_level_increment'>stand_level_increment</h2><span id='topic+stand_level_increment'></span>

<h3>Description</h3>

<p>Calculate periodic annual stand level increments from time-ordered vectors of
appropriate stand sum variables. Typically the variable of interest is a
stand's wood volume per unit area, but it works equally for stand basal area
and biomass.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stand_level_increment(time, x_remain, x_remove)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="stand_level_increment_+3A_time">time</code></td>
<td>
<p>Vector of points in time. Must be unique and in ascending order</p>
</td></tr>
<tr><td><code id="stand_level_increment_+3A_x_remain">x_remain</code></td>
<td>
<p>Vector of the variable of interest (typically wood volume)
for the remaining stand. &quot;Remaining stand&quot; means the amount which is
actually there at the corresponding point in time. The vector
<code>x_remaing</code> must be arranged corresponding to the input vector
<code>time</code>.</p>
</td></tr>
<tr><td><code id="stand_level_increment_+3A_x_remove">x_remove</code></td>
<td>
<p>Vector of the variable of interest (typically wood volume)
for the removal stand. Each entry in this vector represents the amount
removed up to and including the corresponding point of time, but after the
previous point in time.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The input vector <code>x_remove</code> is to be understood as the amount removed up
to (or at) the corresponding points in time and after the preceding points in
time in the <code>time</code> input vector. The resulting increments are to be
understood in a similar way: The entries in the increment vector relate to
the period between the entry at the same position in the <code>time</code> input
vector and the time entry at the position before. Therefore, the first
element of the resulting increment vector is always <code>NA</code>.
</p>


<h3>Value</h3>

<p>A vector of the annual increments for the stand level variable of
interest corresponding to the input vector <code>time</code>. The increments
always relate to the period from (and including) the corresponding point
in time back to (and excluding) the previous point in time. Thus, the first
element of the output vector is always NA. If the input vectors are of
length 1 only, the function consequently returns NA.
</p>


<h3>Examples</h3>

<pre><code class='language-R'> # Stand age, remaining and removal volume (m³/ha)
 age        &lt;- seq(20, 70, 5)
 vol_remain &lt;- c(65, 118, 175, 233, 293, 355, 416, 476, 534, 589, 642)
 vol_remove &lt;- c(16,  29,  35,  39,  39,  39,  38,  37,  36,  35,  34)

 stand_level_increment(age, vol_remain, vol_remove) # m³/ha/yr

 # Works also with basal area (m²/ha)
 age        &lt;- seq(20, 60, 5)
 ba_remain  &lt;- c(26.0, 30.1, 32.5, 34.2, 35.5, 37.1, 38.7, 40.3, 41.9)
 ba_remove  &lt;- c( 0.0,  5.0,  5.9,  5.4,  5.1,  4.2,  3.3,  3.0,  2.7)

 stand_level_increment(age, ba_remain, ba_remove) # m²/ha/yr

</code></pre>

<hr>
<h2 id='stand_sums_dynamic'>stand_sums_dynamic</h2><span id='topic+stand_sums_dynamic'></span>

<h3>Description</h3>

<p>Calculate periodic annual volume and basal area increments for
<code><a href="#topic+fe_stand">fe_stand</a></code> objects with repeated surveys
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stand_sums_dynamic(x, tree_filter = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="stand_sums_dynamic_+3A_x">x</code></td>
<td>
<p>An <code><a href="#topic+fe_stand">fe_stand</a></code> object</p>
</td></tr>
<tr><td><code id="stand_sums_dynamic_+3A_tree_filter">tree_filter</code></td>
<td>
<p>A <code>data-masking</code> expression that applies to the
data.frame <code>x$trees</code>. It must return a logical value, and is defined
in terms of the variables in <code>x$trees</code>. In this function, it is used
internally in order to define the cohort of trees which is to be evaluated
by this function (within a call to <code>dplyr::filter()</code>). In order to
obtain meaningful increments, you should be very careful when changing
the default value (<code>TRUE</code>) of <code>tree_filter</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For the sake of robustness, <code>stand_sums_dynamic</code> does not perform a
plausibility check on single tree level before calculating increments.
Internally, the function <code><a href="#topic+stand_sums_static">stand_sums_static</a></code> is called separately
for the remaining and the removal stand. Both are required for calculating
meaningful increments. Basal area increments are always calculated, because
valid <code><a href="#topic+fe_stand">fe_stand</a></code> objects always contain the required information
(i.e. all trees' dbh); volume increments are calculated if also height values
(either measured or estimated) are available for all trees.
</p>


<h3>Value</h3>

<p>A data frame (tibble) that contains the periodic annual basal area
and volume growth (the latter if enough information is available,
see Details) per ha for each species and each period. The year where the
increment entry is, means the end point of the period of interest.
Therefore, the first increment value will always be NA. If the input
<code><a href="#topic+fe_stand">fe_stand</a></code> object <code>x</code> does only comprise one survey, the
increment values will be NA, because it takes at least two subsequent
surveys to calculate meaningful increments. In case an object of class
<code>fe_ccircle_spatial_notrees</code> (which is a special child of
<code><a href="#topic+fe_stand">fe_stand</a></code>) is provided as input <code>x</code>, the function returns
an empty data frame.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  oo &lt;- options(fe_spec_lang = "eng") # Display species names in English

  # Mixed mountain forest with several surveys
  stand_inc &lt;- stand_sums_dynamic(mm_forest_1_fe_stand_spatial)
  stand_inc

  # Combine to species overarching increments. Zero in the first year results
  # as there cannot be increments available at the first survey
  stand_inc |&gt;
    dplyr::group_by(time_yr) |&gt;
      dplyr::summarise(
        iba_m2_ha_yr = sum(iba_m2_ha_yr, na.rm = TRUE),
        iv_m3_ha_yr  = sum(iv_m3_ha_yr,  na.rm = TRUE)
      )

  # When there is only one single survey, all increments must be NA
  stand_sums_dynamic(spruce_beech_1_fe_stand)

  options(oo) # Set options to previous values

</code></pre>

<hr>
<h2 id='stand_sums_static'>Static Stand Sum and Mean Values for an fe_stand Object</h2><span id='topic+stand_sums_static'></span>

<h3>Description</h3>

<p>Calculate ha-wise static stand sum and mean values for a fe_stand object. The
term 'static' means that no growth and increment variables are calculated,
only descriptive variables for each point in time.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stand_sums_static(x, tree_filter = TRUE, hd_dom_method = c("Weise", "Assmann"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="stand_sums_static_+3A_x">x</code></td>
<td>
<p>An <code><a href="#topic+fe_stand">fe_stand</a></code> object</p>
</td></tr>
<tr><td><code id="stand_sums_static_+3A_tree_filter">tree_filter</code></td>
<td>
<p>A <code>data-masking</code> expression that applies to the
data.frame <code>x$trees</code>. It must return a logical value, and is defined
in terms of the variables in <code>x$trees</code>. In this function, it is used
internally in order to define the cohort of trees which is to be evaluated
by this function (within a call to <code>dplyr::filter()</code>). While many
meaningful filterings are conceivable, distinctions between total stand,
removal stand, and remaining stand are the most probable applications.
Defaults to <code>TRUE</code>, i.e. all trees are included. See examples.</p>
</td></tr>
<tr><td><code id="stand_sums_static_+3A_hd_dom_method">hd_dom_method</code></td>
<td>
<p>Method for calculationg the dominant diameter and
dominant height. The default choice is &quot;Weise&quot;, using the functions
<code><a href="#topic+d_dom_weise">d_dom_weise</a></code>, and <code><a href="#topic+h_dom_weise">h_dom_weise</a></code>. Alternatively,
the option &quot;Assmann&quot; uses the functions <code><a href="#topic+d_100">d_100</a></code>, and
<code><a href="#topic+h_100">h_100</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Default setting for the dominant heights and diameters is the method by
Weise, i.e. quadratic mean diameter and height for the 20% biggest trees.
Alternatively, the d100, h100 method by Assmann can be selected. This should
be, however, done with care, because d100 and h100 are only well defined
in monospecific stands. Note, that this function does not take into account
species shares in mixed stands when calculating d100 and h100. If the tree
heights in the input object contain missing values, the output variables
requiring height information will be <code>NA</code>.
</p>


<h3>Value</h3>

<p>A data frame (tibble) with the ha-related static sum values stem
number, basal area, volume, quadratic mean diameter, dominant diameter,
quadratic mean height, dominant height. If no tree in <code>x$trees</code> passes
<code>tree_filter</code>, as defined above, an empty data frame is returned. In
case an object of class <code>fe_ccircle_spatial_notrees</code> (which is a
special child of <code><a href="#topic+fe_stand">fe_stand</a></code>) is provided as input <code>x</code>, the
function also returns an empty data frame. In case the tree heights in the
input object contain missing values, the output variables requiring
height information will be <code>NA</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Evaluation for all trees
mm_forest_1_fe_stand_spatial |&gt; stand_sums_static()

# Exclude removal trees
mm_forest_1_fe_stand_spatial |&gt; stand_sums_static(!removal)

# Exclude removal trees and include only trees with dbh &gt; 30 cm
mm_forest_1_fe_stand_spatial |&gt; stand_sums_static(!removal &amp; dbh_cm &gt; 30)

# Exclude removal trees, use Assmann's d100 h100 for dominant height
# and diameter
mm_forest_1_fe_stand_spatial |&gt;
  stand_sums_static(!removal, hd_dom_method = "Assmann")

# Include all trees, use Assmann's d100 h100 for dominant height
# and diameter
mm_forest_1_fe_stand_spatial |&gt;
  stand_sums_static(hd_dom_method = "Assmann")

# Incomplete height information leads to missing values in all variables
# that require height as an input
demo_stand &lt;- spruce_beech_1_fe_stand     # Copy an existing fe_stand object
index &lt;- seq(2:nrow(demo_stand$trees))    # remove every 2nd height
demo_stand$trees[index, ]$height_m &lt;- NA
demo_stand |&gt; stand_sums_static()

</code></pre>

<hr>
<h2 id='standing_area_gnfi3'>Estimate the Standing Area of Single Trees</h2><span id='topic+standing_area_gnfi3'></span>

<h3>Description</h3>

<p>An implementation of the standing area estimation of the third German
National Forest Inventory (Riedel et al. 2017).
Its main intended use is the calculation of virtual species areas in mixed
stands. According to (Riedel et al. 2017), it is
recommended only to include the main stand in such calculations, neither
understorey, nor any layers above the main stand.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>standing_area_gnfi3(species_id, dbh_cm)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="standing_area_gnfi3_+3A_species_id">species_id</code></td>
<td>
<p>Vector of species id's preferably following the
<em>ger_nfi_2012</em> species coding. Ideally, these species_id's are provided as
a <code><a href="#topic+fe_species_ger_nfi_2012">fe_species_ger_nfi_2012</a></code> object. See Details for how other
species codings are handled.</p>
</td></tr>
<tr><td><code id="standing_area_gnfi3_+3A_dbh_cm">dbh_cm</code></td>
<td>
<p>Vector of tree dbh values in cm (dbh = stem diameter at breast
height, i.e. 1.3 m)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Originally, the function was parameterized for species and species groups
corresponding to the national forest inventory's species coding
(<code><a href="#topic+fe_species_ger_nfi_2012">fe_species_ger_nfi_2012</a></code>). We have attributed in addition these
the original parameters also to the species codings
<code><a href="#topic+fe_species_tum_wwk_short">fe_species_tum_wwk_short</a></code>, and
<code><a href="#topic+fe_species_bavrn_state_short">fe_species_bavrn_state_short</a></code>. When called with a given species
coding, the function will try to use the &quot;nearest&quot; of these three
alternatives. Fallback option is the attempt to use
<code><a href="#topic+fe_species_tum_wwk_short">fe_species_tum_wwk_short</a></code>.
</p>


<h3>Value</h3>

<p>A vector of the estimated standing areas in m²
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  # Three spruces, two pines, two beech
  species_id &lt;- fe_species_ger_nfi_2012(c(10, 10, 10, 20, 20, 100, 100))
  dbh_cm     &lt;- c(10.1, 27.4, 31.4, 35.5, 39.8, 45.2, 47.2)

  standing_area_gnfi3(species_id, dbh_cm)

</code></pre>

<hr>
<h2 id='standing_area_gnfi3_core'>Core Function for the Estimation of Tree Standing Areas According to the 3rd
German National Forest Inventory</h2><span id='topic+standing_area_gnfi3_core'></span>

<h3>Description</h3>

<p>See documentation of <code><a href="#topic+standing_area_gnfi3">standing_area_gnfi3</a></code> for most information,
this function is the workhorse behind, and should never be called directly by
a user. The function <code>standing_area_gnfi3</code> is fully vectorized, inputs
are recyled according to the tibble rules
</p>


<h3>Usage</h3>

<pre><code class='language-R'>standing_area_gnfi3_core(species_id, dbh_cm, params)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="standing_area_gnfi3_core_+3A_species_id">species_id</code></td>
<td>
<p>Vector of species ids (see
<code><a href="#topic+standing_area_gnfi3">standing_area_gnfi3</a></code>), but for this core function to work,
<code>species_id</code> must be provided as <code>character</code>. This will and
should be not checked inside this function, because if used as intended,
that has happened before calling it. The codings must either follow the
<em>ger_nfi_2012</em>, the <em>tum_wwk_short</em>, or the <em>bavrn_state_short</em> coding.</p>
</td></tr>
<tr><td><code id="standing_area_gnfi3_core_+3A_dbh_cm">dbh_cm</code></td>
<td>
<p>Vector of breast height diameters (see
<code><a href="#topic+standing_area_gnfi3">standing_area_gnfi3</a></code>)</p>
</td></tr>
<tr><td><code id="standing_area_gnfi3_core_+3A_params">params</code></td>
<td>
<p>A data frame that defines the function parameters corresponding
to the species coding represented by <code>species_id</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector with estimates of the trees' standing areas in m²
</p>

<hr>
<h2 id='stndg_area_gnfi3_spec_convert'>Helper function for cascaded species conversion when applying the standing
area estimation of the German National forest inventory 2012.
Try to convert given species_id into ger_nfi_2012. If this causes an error
convert to tum_wwk_short instead (to be used in the default version of the
function).</h2><span id='topic+stndg_area_gnfi3_spec_convert'></span>

<h3>Description</h3>

<p>Helper function for cascaded species conversion when applying the standing
area estimation of the German National forest inventory 2012.
Try to convert given species_id into ger_nfi_2012. If this causes an error
convert to tum_wwk_short instead (to be used in the default version of the
function).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stndg_area_gnfi3_spec_convert(species_id)
</code></pre>

<hr>
<h2 id='stocking_level'>Calculate the Stocking Level (&quot;Bestockungsgrad&quot;) of a Stand</h2><span id='topic+stocking_level'></span>

<h3>Description</h3>

<p>The stocking level (German &quot;Bestockungsgrad&quot;) is an important measure for
stand density in practice. It is the ratio of a stand's actual basal area
and its expected basal area due to a yield table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stocking_level(ba, age, si, ytable)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="stocking_level_+3A_ba">ba</code></td>
<td>
<p>The stand's basal area in m²/ha</p>
</td></tr>
<tr><td><code id="stocking_level_+3A_age">age</code></td>
<td>
<p>The stand's age in years</p>
</td></tr>
<tr><td><code id="stocking_level_+3A_si">si</code></td>
<td>
<p>The stand's site index according to the yield table <code>yt</code></p>
</td></tr>
<tr><td><code id="stocking_level_+3A_ytable">ytable</code></td>
<td>
<p>The yield table to be used as reference. Must be an object
of class <code><a href="#topic+fe_yield_table">fe_yield_table</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>The stocking level of the stand based on the yield table of interest
</p>


<h3>See Also</h3>

<p>Other yield table functions: 
<code><a href="#topic+fe_yield_table">fe_yield_table</a>()</code>,
<code><a href="#topic+plot.fe_yield_table">plot.fe_yield_table</a>()</code>,
<code><a href="#topic+si_to_mai_age">si_to_mai_age</a>()</code>,
<code><a href="#topic+si_to_mai_max">si_to_mai_max</a>()</code>,
<code><a href="#topic+site_index">site_index</a>()</code>,
<code><a href="#topic+yield_tables_for_species">yield_tables_for_species</a></code>,
<code><a href="#topic+ytable_age_slice">ytable_age_slice</a>()</code>,
<code><a href="#topic+ytable_lookup">ytable_lookup</a>()</code>,
<code><a href="#topic+ytable_max_slice">ytable_max_slice</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  # Scots pine stand, 72 years old, site index 1.2, basal area 41.3 m²/ha

  # 1. Reference: Yield table for pine by Wiedemann
  stocking_level(
    ba = 41.3, age = 72, si = 1.2,
    ytable = fe_ytable_pine_wiedemann_moderate_1943
  )

  # 2. Reference: Yield table for pine by Wiedemann
  stocking_level(
    ba = 41.3, age = 72, si = 1.2,
    ytable = fe_ytable_pine_gehrhardt_moderate_1921
  )

  # Norway spruce stand, 72 years old, site index 38, basal area 41.3 m²/ha
  # 1. Reference Yield Table by Assmann-Franz
  stocking_level(
    ba = 41.3, age = 72, si = 38,
    ytable = fe_ytable_spruce_assmann_franz_mean_yield_level_1963
  )

  # 2. Reference Yield Table for spruce by Wiedemann, moderate thinning,
  # site index 1.0
  stocking_level(
    ba = 41.3, age = 72, si = 1.0,
    ytable = fe_ytable_spruce_wiedemann_moderate_1936_42
  )


</code></pre>

<hr>
<h2 id='summary_fe_species'>Generic Summary for <strong>fe_species</strong> Objects</h2><span id='topic+summary_fe_species'></span>

<h3>Description</h3>

<p>Produces a summary for a fe_species object in the same style as R does
factors. Actually, after some conversions <code><a href="base.html#topic+summary.factor">summary.factor</a></code> <em>is</em>
called by this function. The species naming in the summary depends on the
parameter <code>spec_lang</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>summary_fe_species(
  x,
  spec_lang = c("code", "eng", "ger", "sci"),
  maxsum = 100L
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="summary_fe_species_+3A_x">x</code></td>
<td>
<p>Object of one of the supported <code>fe_species_</code> classes</p>
</td></tr>
<tr><td><code id="summary_fe_species_+3A_spec_lang">spec_lang</code></td>
<td>
<p>Choice of how species (group) names or id's are displayed.
Supported choices are &quot;code&quot; (default, displays the species codes as they
are), &quot;eng&quot; (English species names), &quot;ger&quot; (German species names), and
&quot;sci&quot; (scientific species names). The names and the codes refer to the
species coding given in the object's attribute <code>species_coding</code>.</p>
</td></tr>
<tr><td><code id="summary_fe_species_+3A_maxsum">maxsum</code></td>
<td>
<p>Same as parameter <code>maxsum</code> in <code><a href="base.html#topic+summary.factor">summary.factor</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named vector in the same style as returned by
<code><a href="base.html#topic+summary.factor">summary.factor</a></code>
</p>

<hr>
<h2 id='summary.fe_ccircle_spatial_notrees'>summary For a fe_ccircle_spatial_notrees object</h2><span id='topic+summary.fe_ccircle_spatial_notrees'></span>

<h3>Description</h3>

<p>For the time being, this is function serves only to obtain a controled
output when <code><a href="base.html#topic+summary">summary</a></code> is called for an object of class
<code><a href="#topic+fe_ccircle_spatial_notrees">fe_ccircle_spatial_notrees</a></code>. This output is just an empty
data data frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'fe_ccircle_spatial_notrees'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="summary.fe_ccircle_spatial_notrees_+3A_object">object</code></td>
<td>
<p>An <code><a href="#topic+fe_ccircle_spatial_notrees">fe_ccircle_spatial_notrees</a></code> object</p>
</td></tr>
<tr><td><code id="summary.fe_ccircle_spatial_notrees_+3A_...">...</code></td>
<td>
<p>Additional arguments, not used in
<code>plot.fe_ccircle_spatial_notrees</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>An empty data frame
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  # Abuse input data, that would actually allow for a full fe_ccircle_spatial
  # object to construct a fe_ccircle_spatial_notrees object.
  x &lt;- spruce_pine_ccircle_raw
  x &lt;- x |&gt; fe_ccircle_spatial_notrees()

  # Make the dummy summary
  summary(x)

</code></pre>

<hr>
<h2 id='summary.fe_species_bavrn_state'>Summary of an <strong>fe_species_bavrn_state</strong> Vector</h2><span id='topic+summary.fe_species_bavrn_state'></span>

<h3>Description</h3>

<p>Produces a summary for a fe_species_bavrn_state object in the same style as R
does for factors. Actually, after some conversions
<code><a href="base.html#topic+summary.factor">summary.factor</a></code> <em>is</em> called by this function. The species naming
in the summary depends on the parameter <code>spec_lang</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'fe_species_bavrn_state'
summary(
  object,
  spec_lang = options("fe_spec_lang")$fe_spec_lang,
  maxsum = 100L,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="summary.fe_species_bavrn_state_+3A_object">object</code></td>
<td>
<p>Object of class <code><a href="#topic+fe_species_bavrn_state">fe_species_bavrn_state</a></code></p>
</td></tr>
<tr><td><code id="summary.fe_species_bavrn_state_+3A_spec_lang">spec_lang</code></td>
<td>
<p>Choice of how species (group) names or id's are displayed in
the summary. Supported choices are &quot;code&quot; (displays the species codes as
they are), &quot;eng&quot; (English species names), &quot;ger&quot; (German species names), and
&quot;sci&quot; (scientific species names). The names and the codes refer to the
species coding given in the object's attribute <code>species_coding</code>. The
default is to request the choice with <code>options("fe_spec_lang")</code>. If
this option is not set, the choice &quot;code&quot; is used.</p>
</td></tr>
<tr><td><code id="summary.fe_species_bavrn_state_+3A_maxsum">maxsum</code></td>
<td>
<p>Same as parameter <code>maxsum</code> in <code><a href="base.html#topic+summary.factor">summary.factor</a></code></p>
</td></tr>
<tr><td><code id="summary.fe_species_bavrn_state_+3A_...">...</code></td>
<td>
<p>Other parameters (not used)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named vector in the same style as returned by
<code><a href="base.html#topic+summary.factor">summary.factor</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Construct some species id vector
spec_ids &lt;- c(
  rep(fe_species_bavrn_state(c("10", "20", "21", "89")),
    times = c(15, 31, 70, 12)
  ),
  NA, NA
)

summary(spec_ids)
spec_ids |&gt; summary()
spec_ids |&gt; summary(spec_lang = "eng")

# Usual application: Set option for species code output
# Any summary of an fe_species object will use the last setting of the
# option
options(fe_spec_lang = "sci")
spec_ids |&gt; summary()

</code></pre>

<hr>
<h2 id='summary.fe_species_bavrn_state_short'>Summary of an <strong>fe_species_bavrn_state_short</strong> Vector</h2><span id='topic+summary.fe_species_bavrn_state_short'></span>

<h3>Description</h3>

<p>Produces a summary for a fe_species_bavrn_state_short object in the same
style as R does for factors. Actually, after some conversions
<code><a href="base.html#topic+summary.factor">summary.factor</a></code> <em>is</em> called by this function. The species naming
in the summary depends on the parameter <code>spec_lang</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'fe_species_bavrn_state_short'
summary(
  object,
  spec_lang = options("fe_spec_lang")$fe_spec_lang,
  maxsum = 100L,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="summary.fe_species_bavrn_state_short_+3A_object">object</code></td>
<td>
<p>Object of class <code><a href="#topic+fe_species_bavrn_state_short">fe_species_bavrn_state_short</a></code></p>
</td></tr>
<tr><td><code id="summary.fe_species_bavrn_state_short_+3A_spec_lang">spec_lang</code></td>
<td>
<p>Choice of how species (group) names or id's are displayed in
the summary. Supported choices are &quot;code&quot; (displays the species codes as
they are), &quot;eng&quot; (English species names), &quot;ger&quot; (German species names), and
&quot;sci&quot; (scientific species names). The names and the codes refer to the
species coding given in the object's attribute <code>species_coding</code>. The
default is to request the choice with <code>options("fe_spec_lang")</code>. If
this option is not set, the choice &quot;code&quot; is used.</p>
</td></tr>
<tr><td><code id="summary.fe_species_bavrn_state_short_+3A_maxsum">maxsum</code></td>
<td>
<p>Same as parameter <code>maxsum</code> in <code><a href="base.html#topic+summary.factor">summary.factor</a></code></p>
</td></tr>
<tr><td><code id="summary.fe_species_bavrn_state_short_+3A_...">...</code></td>
<td>
<p>Other parameters (not used)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named vector in the same style as returned by
<code><a href="base.html#topic+summary.factor">summary.factor</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Construct some species id vector
spec_ids &lt;- c(
  rep(fe_species_bavrn_state_short(c("1", "2", "6", "9")),
    times = c(15, 31, 70, 12)
  ),
  NA, NA
)

summary(spec_ids)
spec_ids |&gt; summary()
spec_ids |&gt; summary(spec_lang = "eng")

# Usual application: Set option for species code output
# Any summary of an fe_species object will use the last setting of the
# option
options(fe_spec_lang = "sci")
spec_ids |&gt; summary()

</code></pre>

<hr>
<h2 id='summary.fe_species_ger_nfi_2012'>Summary of an <strong>fe_species_ger_nfi_2012</strong> Vector</h2><span id='topic+summary.fe_species_ger_nfi_2012'></span>

<h3>Description</h3>

<p>Produces a summary for a fe_species_ger_nfi_2012 object in the same style as
R does for factors. Actually, after some conversions
<code><a href="base.html#topic+summary.factor">summary.factor</a></code> <em>is</em> called by this function. The species naming
in the summary depends on the parameter <code>spec_lang</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'fe_species_ger_nfi_2012'
summary(
  object,
  spec_lang = options("fe_spec_lang")$fe_spec_lang,
  maxsum = 100L,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="summary.fe_species_ger_nfi_2012_+3A_object">object</code></td>
<td>
<p>Object of class <code><a href="#topic+fe_species_ger_nfi_2012">fe_species_ger_nfi_2012</a></code></p>
</td></tr>
<tr><td><code id="summary.fe_species_ger_nfi_2012_+3A_spec_lang">spec_lang</code></td>
<td>
<p>Choice of how species (group) names or id's are displayed in
the summary. Supported choices are &quot;code&quot; (displays the species codes as
they are), &quot;eng&quot; (English species names), &quot;ger&quot; (German species names), and
&quot;sci&quot; (scientific species names). The names and the codes refer to the
species coding given in the object's attribute <code>species_coding</code>. The
default is to request the choice with <code>options("fe_spec_lang")</code>. If
this option is not set, the choice &quot;code&quot; is used.</p>
</td></tr>
<tr><td><code id="summary.fe_species_ger_nfi_2012_+3A_maxsum">maxsum</code></td>
<td>
<p>Same as parameter <code>maxsum</code> in <code><a href="base.html#topic+summary.factor">summary.factor</a></code></p>
</td></tr>
<tr><td><code id="summary.fe_species_ger_nfi_2012_+3A_...">...</code></td>
<td>
<p>Other parameters (not used)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named vector in the same style as returned by
<code><a href="base.html#topic+summary.factor">summary.factor</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Construct some species id vector
spec_ids &lt;- c(
  rep(fe_species_ger_nfi_2012(c("170", "140", "120", "150")),
    times = c(151, 231, 70, 122)
  ),
  NA, NA, NA, NA
)

summary(spec_ids)
spec_ids |&gt; summary()
spec_ids |&gt; summary(spec_lang = "eng")

# Usual application: Set option for species code output
# Any summary of an fe_species object will use the last setting of the
# option
options(fe_spec_lang = "sci")
spec_ids |&gt; summary()

</code></pre>

<hr>
<h2 id='summary.fe_species_master'>Summary of an <strong>fe_species_master</strong> Vector</h2><span id='topic+summary.fe_species_master'></span>

<h3>Description</h3>

<p>Produces a summary for a fe_species_master object in the same style as R does
for factors. Actually, after some conversions <code><a href="base.html#topic+summary.factor">summary.factor</a></code>
<em>is</em> called by this function. The species naming in the summary depends on
the parameter <code>spec_lang</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'fe_species_master'
summary(
  object,
  spec_lang = options("fe_spec_lang")$fe_spec_lang,
  maxsum = 100L,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="summary.fe_species_master_+3A_object">object</code></td>
<td>
<p>Object of class <code><a href="#topic+fe_species_master">fe_species_master</a></code></p>
</td></tr>
<tr><td><code id="summary.fe_species_master_+3A_spec_lang">spec_lang</code></td>
<td>
<p>Choice of how species (group) names or id's are displayed in
the summary. Supported choices are &quot;code&quot; (displays the species codes as
they are), &quot;eng&quot; (English species names), &quot;ger&quot; (German species names), and
&quot;sci&quot; (scientific species names). The names and the codes refer to the
species coding given in the object's attribute <code>species_coding</code>. The
default is to request the choice with <code>options("fe_spec_lang")</code>. If
this option is not set, the choice &quot;code&quot; is used.</p>
</td></tr>
<tr><td><code id="summary.fe_species_master_+3A_maxsum">maxsum</code></td>
<td>
<p>Same as parameter <code>maxsum</code> in <code><a href="base.html#topic+summary.factor">summary.factor</a></code></p>
</td></tr>
<tr><td><code id="summary.fe_species_master_+3A_...">...</code></td>
<td>
<p>Other parameters (not used)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named vector in the same style as returned by
<code><a href="base.html#topic+summary.factor">summary.factor</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Construct some species id vector
spec_ids &lt;- c(
  rep(
    fe_species_master(c(
      "pinus_001", "quercus_003", "tilia_002", "carpinus_001", "sorbus_002"
    )),
    times = c(12, 7, 24, 16, 32)
  ),
  NA, NA, NA, NA
)

summary(spec_ids)
spec_ids |&gt; summary()
spec_ids |&gt; summary(spec_lang = "eng")

# Usual application: Set option for species code output
# Any summary of an fe_species object will use the last setting of the
# option
options(fe_spec_lang = "sci")
spec_ids |&gt; summary()

</code></pre>

<hr>
<h2 id='summary.fe_species_tum_wwk_long'>Summary of an <strong>fe_species_tum_wwk_long</strong> Vector</h2><span id='topic+summary.fe_species_tum_wwk_long'></span>

<h3>Description</h3>

<p>Produces a summary for a fe_species_tum_wwk_long object in the same style as
R does for factors. Actually, after some conversions
<code><a href="base.html#topic+summary.factor">summary.factor</a></code> <em>is</em> called by this function. The species naming
in the summary depends on the parameter <code>spec_lang</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'fe_species_tum_wwk_long'
summary(
  object,
  spec_lang = options("fe_spec_lang")$fe_spec_lang,
  maxsum = 100L,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="summary.fe_species_tum_wwk_long_+3A_object">object</code></td>
<td>
<p>Object of class <code><a href="#topic+fe_species_tum_wwk_long">fe_species_tum_wwk_long</a></code></p>
</td></tr>
<tr><td><code id="summary.fe_species_tum_wwk_long_+3A_spec_lang">spec_lang</code></td>
<td>
<p>Choice of how species (group) names or id's are displayed in
the summary. Supported choices are &quot;code&quot; (displays the species codes as
they are), &quot;eng&quot; (English species names), &quot;ger&quot; (German species names), and
&quot;sci&quot; (scientific species names). The names and the codes refer to the
species coding given in the object's attribute <code>species_coding</code>. The
default is to request the choice with <code>options("fe_spec_lang")</code>. If
this option is not set, the choice &quot;code&quot; is used.</p>
</td></tr>
<tr><td><code id="summary.fe_species_tum_wwk_long_+3A_maxsum">maxsum</code></td>
<td>
<p>Same as parameter <code>maxsum</code> in <code><a href="base.html#topic+summary.factor">summary.factor</a></code></p>
</td></tr>
<tr><td><code id="summary.fe_species_tum_wwk_long_+3A_...">...</code></td>
<td>
<p>Other parameters (not used)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named vector in the same style as returned by
<code><a href="base.html#topic+summary.factor">summary.factor</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Construct some species id vector
spec_ids &lt;- c(
  rep(fe_species_tum_wwk_long(c("10", "60", "87", "811")), each = 15),
  NA, NA
)

summary(spec_ids)
spec_ids |&gt; summary()
spec_ids |&gt; summary(spec_lang = "eng")

# Usual application: Set option for species code output
# Any summary of an fe_species object will use the last setting of the
# option
options(fe_spec_lang = "sci")
spec_ids |&gt; summary()

</code></pre>

<hr>
<h2 id='summary.fe_species_tum_wwk_short'>Summary of an <strong>fe_species_tum_wwk_short</strong> Vector</h2><span id='topic+summary.fe_species_tum_wwk_short'></span>

<h3>Description</h3>

<p>Produces a summary for a fe_species_tum_wwk_short object in the same style as
R does for factors. Actually, after some conversions
<code><a href="base.html#topic+summary.factor">summary.factor</a></code> <em>is</em> called by this function. The species naming
in the summary depends on the parameter <code>spec_lang</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'fe_species_tum_wwk_short'
summary(
  object,
  spec_lang = options("fe_spec_lang")$fe_spec_lang,
  maxsum = 100L,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="summary.fe_species_tum_wwk_short_+3A_object">object</code></td>
<td>
<p>Object of class <code><a href="#topic+fe_species_tum_wwk_short">fe_species_tum_wwk_short</a></code></p>
</td></tr>
<tr><td><code id="summary.fe_species_tum_wwk_short_+3A_spec_lang">spec_lang</code></td>
<td>
<p>Choice of how species (group) names or id's are displayed in
the summary. Supported choices are &quot;code&quot; (displays the species codes as
they are), &quot;eng&quot; (English species names), &quot;ger&quot; (German species names), and
&quot;sci&quot; (scientific species names). The names and the codes refer to the
species coding given in the object's attribute <code>species_coding</code>. The
default is to request the choice with <code>options("fe_spec_lang")</code>. If
this option is not set, the choice &quot;code&quot; is used.</p>
</td></tr>
<tr><td><code id="summary.fe_species_tum_wwk_short_+3A_maxsum">maxsum</code></td>
<td>
<p>Same as parameter <code>maxsum</code> in <code><a href="base.html#topic+summary.factor">summary.factor</a></code></p>
</td></tr>
<tr><td><code id="summary.fe_species_tum_wwk_short_+3A_...">...</code></td>
<td>
<p>Other parameters (not used)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named vector in the same style as returned by
<code><a href="base.html#topic+summary.factor">summary.factor</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Construct some species id vector
spec_ids &lt;- c(
  rep(fe_species_tum_wwk_short(as.character(1:10)), each = 5), NA
)

summary(spec_ids)
spec_ids |&gt; summary()
spec_ids |&gt; summary(spec_lang = "eng")

# Usual application: Set option for species code output
# Any summary of an fe_species object will use the last setting of the
# option
options(fe_spec_lang = "sci")
spec_ids |&gt; summary()

# The summary is also used in the summary of a data frame which contains
# an fe_species object, but displayed differently
options(fe_spec_lang = "eng")
selection_forest_1_fe_stand$trees |&gt; summary()

</code></pre>

<hr>
<h2 id='summary.fe_stand'>Summary for an <strong>fe_stand</strong> Object</h2><span id='topic+summary.fe_stand'></span>

<h3>Description</h3>

<p>Compute an overview of basic stand level variables for an <code>fe_stand</code>
object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'fe_stand'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="summary.fe_stand_+3A_object">object</code></td>
<td>
<p>an <code>fe_stand</code> object</p>
</td></tr>
<tr><td><code id="summary.fe_stand_+3A_...">...</code></td>
<td>
<p>additional arguments, passed to <code><a href="#topic+stand_sums_static">stand_sums_static</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>The summary calls the function <code><a href="#topic+stand_sums_static">stand_sums_static</a></code> with its
default settings. The result is a data.frame (tibble) with species and year
wise stand sum values per ha and mean values. Stem numbers, basal areas,
quadratic mean diameters and dominant diameters (d 100) are always
calculated. Quadratic mean heights, dominant heights (h 100), and wood
volumes are only calculated if the heights of all trees are given in
<code>object</code> (i.e. no NA). The summary contains a column
<code>species_id</code>. Depending on the setting of
<code>options("fe_spec_lang")</code>, the species ids will be printed as the
species code (settings NULL or &quot;ger&quot;), scientific, English, or German species
names (settings &quot;sci&quot;, &quot;eng&quot;, or &quot;ger&quot;, respectively).
</p>


<h3>Value</h3>

<p>data.frame (tibble) resulting from applying the function
<code><a href="#topic+stand_sums_static">stand_sums_static</a></code> to <code>object</code>
</p>


<h3>See Also</h3>

<p><a href="#topic+stand_sums_static">stand_sums_static</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Make a stand data.frame (or nicer, a tibble) that meets the minimum
# requirements for setting up a fe_Stand object
some_stand &lt;- tibble::tibble(
  tree_id = as.character(c(1:100)),
  species_id = as_fe_species_tum_wwk_short(
    as.character(c(rep(1, 40), rep(5, 60)))
  ),
  time_yr = rep(2022, 100),
  dbh_cm = c(rnorm(40, 40.1, 7.3), rnorm(60, 32.8, 8.4)),
)

# Make the object
some_fe_stand &lt;- fe_stand(
  some_stand,
  tree_id_col = "tree_id",
  species_id_col = "species_id",
  time_yr_col = "time_yr",
  dbh_cm_col = "dbh_cm",
  area_ha = 0.25
)

# The summary with different language choices
options(fe_spec_lang = "code")
summary(some_fe_stand)
options(fe_spec_lang = "sci")
summary(some_fe_stand)
options(fe_spec_lang = "eng")
summary(some_fe_stand)
options(fe_spec_lang = "ger")
summary(some_fe_stand)


# Use example stands
options(fe_spec_lang = "eng")
norway_spruce_1_fe_stand |&gt; summary()
summary(european_beech_1_fe_stand)
options(fe_spec_lang = "sci")
summary(selection_forest_1_fe_stand)
spruce_beech_1_fe_stand |&gt; summary()
options(fe_spec_lang = "code")
summary(selection_forest_1_fe_stand)
spruce_beech_1_fe_stand |&gt; summary()

</code></pre>

<hr>
<h2 id='survey_overview'>Generate an Overview of the Surveys of an fe_stand Object</h2><span id='topic+survey_overview'></span>

<h3>Description</h3>

<p>The tree data frame of an <code><a href="#topic+fe_stand">fe_stand</a></code> object is evaluated in order
to get survey and species specific meta information about these data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>survey_overview(x, tree_filter = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="survey_overview_+3A_x">x</code></td>
<td>
<p>An object of class <code><a href="#topic+fe_stand">fe_stand</a></code></p>
</td></tr>
<tr><td><code id="survey_overview_+3A_tree_filter">tree_filter</code></td>
<td>
<p>A <code>data-masking</code> expression that applies to the
data.frame <code>x$trees</code>. It must return a logical value, and is defined
in terms of the variables in <code>x$trees</code>. In this function, it is used
internally in order to define the cohort of trees which is to be evaluated
by this function (within a call to <code>dplyr::filter()</code>). For this
function, <code>tree_filter</code> should almost <em>never</em> be something else
than <code>TRUE</code> (default)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function provides meta information that is useful for evaluations that
can be complex on the detail level, e.g. increment calculations from
subsequent surveys. In such contexts, the column <code>n_species_occurence</code>
of the output data frame can be of special interest. If a species is present
for a number of consecutive surveys, all these surveys get the same integer
number in this column. If the same species vanishes, but occurs again later,
the next block of surveys gets the subsequent number, and so on. So, all
consecutive blocks of a species' occurrence are numbered as 1, 2, 3, etc.
At surveys where the species is not present <code>n_species_occurrence</code> has
the value 1.
</p>


<h3>Value</h3>

<p>A data frame (tibble) that gives an overview of the surveys
represented in the input object <code>x</code>. It is basically an evaluation of
the data frame <code>x$trees</code>. It provides information about how many trees
were present in each survey, how many dbh and heights were measured, and
if the dbh and height measurements cover all trees, For dbh this must be
always true, because this is a requirement for a valid
<code><a href="#topic+fe_stand">fe_stand</a></code> object. In addition, we are informed whether a
species that has been documented in the object is represented in a specific
survey or not. As a basis for advanced evaluations, species occurences are
numbered in the columen <code>n_species_occurrence</code> (see Details). In case
an object of class <code>fe_ccircle_spatial_notrees</code> (which is a special
child of <code><a href="#topic+fe_stand">fe_stand</a></code>) is provided as input <code>x</code>, the
function returns an empty data frame.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  # Example data: Mixed mountain forest plot with several surveys
  mm_forest_1_fe_stand_spatial |&gt; survey_overview()

</code></pre>

<hr>
<h2 id='translate_spec_codes_into_names'>Translate Species Codes into Names</h2><span id='topic+translate_spec_codes_into_names'></span>

<h3>Description</h3>

<p>Translate Species Codes into Names
</p>


<h3>Usage</h3>

<pre><code class='language-R'>translate_spec_codes_into_names(x, spec_lang = c("eng", "ger", "sci"), coding)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="translate_spec_codes_into_names_+3A_x">x</code></td>
<td>
<p>Object of one of the fe_species_id classes or a <code>character</code>
vector</p>
</td></tr>
<tr><td><code id="translate_spec_codes_into_names_+3A_spec_lang">spec_lang</code></td>
<td>
<p>Choice of how species (group) names or id's are translated.
Supported choices are &quot;eng&quot; (English species names, default), &quot;ger&quot; (Geman
species names), and &quot;sci&quot; (scientific species names).</p>
</td></tr>
<tr><td><code id="translate_spec_codes_into_names_+3A_coding">coding</code></td>
<td>
<p>Name of the coding against which <code>x</code> is to be checked.
Must be one of the entries in the column <code>species_coding</code> in the data
file <code><a href="#topic+species_codings">species_codings</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>character</code> vector in the same order as <code>x</code>, containing
the species (group names) in the desired language
</p>

<hr>
<h2 id='v_gri'>Calculate Tree Volumes With the GRI Volume Equations
(Franz et al. 1973)</h2><span id='topic+v_gri'></span>

<h3>Description</h3>

<p>Merchantable standing tree volumes over bark calculated with the GRI volume
equations developed by Friedrich Franz in 1971. These volume equations are
standard in the German Federal State of Bavaria
</p>


<h3>Usage</h3>

<pre><code class='language-R'>v_gri(species_id, dbh_cm, height_m)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="v_gri_+3A_species_id">species_id</code></td>
<td>
<p>Vector of species id's following the <em>tum_wwk_short</em>
species coding. Ideally, these species_id's are provided as an
<code><a href="#topic+fe_species_tum_wwk_short">fe_species_tum_wwk_short</a></code> or an
<code><a href="#topic+fe_species_bavrn_state_short">fe_species_bavrn_state_short</a></code> object. If they are provided as
another <code>fe_species</code> object, <code>v_gri</code> will make an attempt to
convert them into <code><a href="#topic+fe_species_tum_wwk_short">fe_species_tum_wwk_short</a></code>. The exception is
the coding <code><a href="#topic+fe_species_bavrn_state">fe_species_bavrn_state</a></code> which will be converted
into <code><a href="#topic+fe_species_bavrn_state_short">fe_species_bavrn_state_short</a></code>. If all conversion attempts
fail, the function will terminate with an error. The species id's can also
be provided as numeric values (<code>double</code> or <code>integer</code>) or
<code>character</code>. These will be internally converted to
<code><a href="#topic+fe_species_tum_wwk_short">fe_species_tum_wwk_short</a></code>. If this fails (i.e. the user
provided species codes are not defined in the <em>tum_wwk_short</em> coding), an
error is thrown and the function terminates.</p>
</td></tr>
<tr><td><code id="v_gri_+3A_dbh_cm">dbh_cm</code></td>
<td>
<p>Vector of tree dbh values in cm (dbh = stem diameter at breast
height, i.e. 1.3 m)</p>
</td></tr>
<tr><td><code id="v_gri_+3A_height_m">height_m</code></td>
<td>
<p>Vector of tree height values in m. While missing values in
<code>species_id</code> and <code>dbh_cm</code> are not allowed, they are accepted
in <code>height_m</code> but <code>v_gri</code> will return <code>NA</code> and trigger a
warning.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The abbreviation <em>GRI</em> stands for the German word &quot;Großrauminventur&quot; (large
area inventory). This forest inventory was conducted in 1971 by Friedrich
Franz and his team of the Chair for Forest Growth and Yield Science at the
Munich Ludwig-Maximilians-University
(Franz et al. 1973). The inventory covered
the whole federal state of Bavaria (~ 70,600 km²). The volume equations
implemented in this function were calibrated with the data of several ten
thousands of trees which were felled for that purpose during the
inventory. The volume equations are available for exactly the species
(groups) defined in the coding <em>tum_wwk_short</em>. If they are called with
another species coding supported by the package <strong>ForestElementsR</strong>,
<code>v_gri</code> will attempt to convert them accordingly.
</p>


<h3>Value</h3>

<p>A vector of merchantable standing tree wood volumes over bark in m³.
&quot;Merchantable&quot; means only wood with a minimum diameter of 7 cm over bark is
taken into account. Therefore, for small trees without any merchandable
wood, the function will return 0 m³.
</p>


<h3>References</h3>

<p>Franz F, Bachler B, Deckelmann E, Kennel R, Schmidt A, Wotschikowski U (1973).
<em>Bayerische Waldinventur 1970/71, Inventurabschnitt I: Großrauminventur Aufnahme- und Auswertungsverfahren</em>, volume 11 of <em>Forstliche Forschungsberichte München</em>.
Forstwissenschaftliche Fakultät der Universität München und Bayerische Forstliche Versuchs- und Forschungsanstalt.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Find out the species codes that work with v_gri
fe_species_get_coding_table("tum_wwk_short") |&gt;
  dplyr::select(-genus, -species_no) |&gt;
  dplyr::distinct()

# Merchantable volume of a European beech with dbh = 30 cm,
# and height = 29 m
v_gri("5", 30, 29)
v_gri(5, 30, 29)
v_gri(as_fe_species_tum_wwk_short(5), 30, 29)

# Several trees (three species, three sizes)
species_id &lt;- fe_species_tum_wwk_short(c(1, 1, 1, 3, 3, 3, 5, 5, 5))
dbh_cm &lt;- c(12, 30, 55, 12, 30, 55, 12, 30, 55)
height_m &lt;- c(14, 33, 39, 14, 33, 39, 14, 33, 39)
v_gri(species_id, dbh_cm, height_m)

# The same, but the species id's are now originally defined in the
# coding of the 2012 German national forest inventory
species_id &lt;- fe_species_ger_nfi_2012(
  c(10, 10, 10, 20, 20, 20, 100, 100, 100)
)
v_gri(species_id, dbh_cm, height_m)

</code></pre>

<hr>
<h2 id='v_gri_core'>Core Function For the GRI Tree Volume Calculation</h2><span id='topic+v_gri_core'></span>

<h3>Description</h3>

<p>See documentation of <code><a href="#topic+v_gri">v_gri</a></code> for most information, this function
is the workhorse behind, and should never be called directly by a user.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>v_gri_core(species_id, dbh_cm, height_m, v_param)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="v_gri_core_+3A_species_id">species_id</code></td>
<td>
<p>Vector of species ids (see <code><a href="#topic+v_gri">v_gri</a></code>), but for
this core function to work, <code>species_id</code> must be provided as
<code>character</code>. This will and should be not checked inside this function,
because if used as intended, that has happened before calling it.</p>
</td></tr>
<tr><td><code id="v_gri_core_+3A_dbh_cm">dbh_cm</code></td>
<td>
<p>Vector of breast height diameters (see <code><a href="#topic+v_gri">v_gri</a></code>)</p>
</td></tr>
<tr><td><code id="v_gri_core_+3A_height_m">height_m</code></td>
<td>
<p>Vector of tree heights (see <code><a href="#topic+v_gri">v_gri</a></code>)</p>
</td></tr>
<tr><td><code id="v_gri_core_+3A_v_param">v_param</code></td>
<td>
<p>An internally provided object with appropriate species (group)
specific paramters</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function <code>v_gri</code> is fully vectorized, inputs are recyled according
to the tibble rules
</p>


<h3>Value</h3>

<p>Tree wood volume (see <code><a href="#topic+v_gri">v_gri</a></code>)
</p>

<hr>
<h2 id='v_red_harvest_ubark'>Reduce a Given standing Volume Over Bark to Harvested Volume Under Bark</h2><span id='topic+v_red_harvest_ubark'></span>

<h3>Description</h3>

<p>Many tree volume functions (like <code><a href="#topic+v_gri">v_gri</a></code>) calculate wood volumes
defined as standing and over bark. Practictioners often prefer to work with
volumes where the harvest losses and the bark volume have been substracted.
Given an over bark standing volume, this function uses species specific
reduction factors in order to obtain harvested volume under bark. The
reduction factors are taken from
(BayMinELF 1990); they relate to the
species coding <code>fe_species_tum_wwk_short</code> or, alternatively
<code>fe_species_bavrn_state_short</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>v_red_harvest_ubark(species_id, v_orig_m3)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="v_red_harvest_ubark_+3A_species_id">species_id</code></td>
<td>
<p>Vector of species id's. Ideally, these species_id's are
provided as a <code><a href="#topic+fe_species_tum_wwk_short">fe_species_tum_wwk_short</a></code> or a
<code><a href="#topic+fe_species_bavrn_state_short">fe_species_bavrn_state_short</a></code> object. If they are provided as
another <code>fe_species</code> object, <code>v_red_harvest_ubark</code> will make an
attempt to convert them into <code><a href="#topic+fe_species_tum_wwk_short">fe_species_tum_wwk_short</a></code>. The
exception is the coding <code><a href="#topic+fe_species_bavrn_state">fe_species_bavrn_state</a></code> which will be
converted into <code><a href="#topic+fe_species_bavrn_state_short">fe_species_bavrn_state_short</a></code>. If all
conversion attempts fail, the function will terminate with an error. The
species id's can also be provided as numeric values (<code>double</code> or
<code>integer</code>) or <code>character</code>. These will be internally converted to
<code><a href="#topic+fe_species_tum_wwk_short">fe_species_tum_wwk_short</a></code>. If this fails (i.e. the user
provided species codes are not defined in the <em>tum_wwk_short</em> coding), an
error is thrown and the function terminates.</p>
</td></tr>
<tr><td><code id="v_red_harvest_ubark_+3A_v_orig_m3">v_orig_m3</code></td>
<td>
<p>Vector of wood volumes (m³) defined as standing over bark.
If <code>species_id</code> and <code>v_orig_m3</code> do not have the same length, an
attempt is made to recyle them according to the tibble rules.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of the reduced volumes defined as harveest
</p>


<h3>References</h3>

<p>BayMinELF (1990).
<em>Hilfstafeln für die Forsteinrichtung. Zusammengestellt für den Gebrauch in der Bayerischen Staatsforstverwaltung</em>.
Bayerisches Staatsministerium für Ernährung Landwirtschaft und Forsten.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  # Take all species groups of tum_wwk_short and a standing volume of 1 m³
  # over bark
  species_id &lt;- fe_species_tum_wwk_short(1:10)
  v_red_harvest_ubark(species_id, 1)

</code></pre>

<hr>
<h2 id='v_red_harvest_ubark_core'>Core Function For the Volume Reduction With v_red_harvest_ubark</h2><span id='topic+v_red_harvest_ubark_core'></span>

<h3>Description</h3>

<p>See documentation of <code><a href="#topic+v_red_harvest_ubark">v_red_harvest_ubark</a></code> for most information,
this function is the workhorse behind, and should never be called directly by
a user.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>v_red_harvest_ubark_core(species_id, v_orig_m3, params)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="v_red_harvest_ubark_core_+3A_species_id">species_id</code></td>
<td>
<p>Vector of species ids (see
<code><a href="#topic+v_red_harvest_ubark">v_red_harvest_ubark</a></code>), but for this core function to work,
<code>species_id</code> must be provided as <code>character</code>. This will and
should be not checked inside this function, because if used as intended,
that has happened before calling it.</p>
</td></tr>
<tr><td><code id="v_red_harvest_ubark_core_+3A_v_orig_m3">v_orig_m3</code></td>
<td>
<p>Vector of wood volumes (m³) defined as standing over bark
(see documentation of <code><a href="#topic+v_red_harvest_ubark">v_red_harvest_ubark</a></code>.)</p>
</td></tr>
<tr><td><code id="v_red_harvest_ubark_core_+3A_params">params</code></td>
<td>
<p>A data frame comprising species (group) wise reduction factors.
The calling function has to take care that <code>v_red_harvest_ubark_core</code>
is called with a <code>params</code> that fits to the coding used in
<code>species_id</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function <code>v_red_harvest_ubark</code> is fully vectorized, inputs are
recyled according to the tibble rules
</p>


<h3>Value</h3>

<p>A vector of wood volumes defined as harvested under bark (see
<code><a href="#topic+v_red_harvest_ubark">v_red_harvest_ubark</a></code>)
</p>

<hr>
<h2 id='validate_fe_ccircle_spatial'>Validate an <strong>fe_ccircle_spatial</strong> Object</h2><span id='topic+validate_fe_ccircle_spatial'></span>

<h3>Description</h3>

<p>Regular users will not require this function. Expert users will want to use
it in combination with the constructor <code><a href="#topic+new_fe_ccircle_spatial">new_fe_ccircle_spatial</a></code>.
Regular users, please construct <code>fe_ccircle_spatial</code> objects with
<code><a href="#topic+fe_ccircle_spatial">fe_ccircle_spatial</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate_fe_ccircle_spatial(x, method = c("strict", "flexible"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="validate_fe_ccircle_spatial_+3A_x">x</code></td>
<td>
<p>An object that is expected to be a correct <code>fe_ccircle_spatial</code>
object</p>
</td></tr>
<tr><td><code id="validate_fe_ccircle_spatial_+3A_method">method</code></td>
<td>
<p>Character string that specifies whether tree_positions is
allowed to contain less tree_ids than trees (i.e. in this case, not all
trees have coordinates). Possible choices are &quot;strict&quot; (default) and
&quot;flexible&quot;. If method == &quot;flexible&quot;, a warning is issued if not all trees
have coordinates. If method == &quot;strict&quot;, the validation terminates with an
error.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns <code>x</code>, but this function is mainly called for its side
effect which is pointing out any violations of the <code>fe_ccircle_spatial</code>
object specifications. In case of such violations, the function will
terminate with an error.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  # Validate the example fe_ccircle_spatial object
  spruce_pine_ccircle_spatial |&gt;
    validate_fe_ccircle_spatial(method = "flexible")

</code></pre>

<hr>
<h2 id='validate_fe_ccircle_spatial_notrees'>Validate an <strong>fe_ccircle_spatial_notrees</strong> Object</h2><span id='topic+validate_fe_ccircle_spatial_notrees'></span>

<h3>Description</h3>

<p>Regular users will not require this function. Expert users will want to use
it in combination with the constructor
<code><a href="#topic+new_fe_ccircle_spatial_notrees">new_fe_ccircle_spatial_notrees</a></code>. Regular users, please construct
<code>fe_ccircle_spatial_notrees</code> objects with
<code><a href="#topic+fe_ccircle_spatial_notrees">fe_ccircle_spatial_notrees</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate_fe_ccircle_spatial_notrees(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="validate_fe_ccircle_spatial_notrees_+3A_x">x</code></td>
<td>
<p>An object that is expected to be a correct
<code>fe_ccircle_spatial_notrees</code> object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns <code>x</code>, but this function is mainly called for its side
effect which is pointing out any violations of the
<code>fe_ccircle_spatial_notrees</code> object specifications. In case of such
violations, the function will terminate with an error.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  # Validate the example fe_ccircle_spatial object
  spruce_pine_ccircle_spatial_notrees |&gt;
    validate_fe_ccircle_spatial_notrees()


</code></pre>

<hr>
<h2 id='validate_fe_species'>Generic Validator for <strong>fe_species</strong> Objects</h2><span id='topic+validate_fe_species'></span>

<h3>Description</h3>

<p>Generic Validator for <strong>fe_species</strong> Objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate_fe_species(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="validate_fe_species_+3A_x">x</code></td>
<td>
<p>An object that is expected to be a correct instance of one of the
supported <code>fe_species</code> classes</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns <code>x</code> if it passes the validation, terminates with an
error otherwise
</p>

<hr>
<h2 id='validate_fe_species_bavrn_state'>Validate an <em>fe_species_bavrn_state</em> Object</h2><span id='topic+validate_fe_species_bavrn_state'></span>

<h3>Description</h3>

<p>Regular users will not require this function. Expert users will want to use
it in combination with the constructor <code><a href="#topic+fe_species_bavrn_state">fe_species_bavrn_state</a></code>.
Regular users, please construct <code>fe_species_bavrn_state</code> objects with
<code><a href="#topic+fe_species_bavrn_state">fe_species_bavrn_state</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate_fe_species_bavrn_state(x = character())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="validate_fe_species_bavrn_state_+3A_x">x</code></td>
<td>
<p>An object that is expected to be a correct
<code>fe_species_bavrn_state</code> object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns <code>x</code>, but this function is mainly called for its side
effect which is pointing out any violations of the
<code>fe_species_bavrn_state</code> object specifications. In case of such
violations, the function will terminate with an error.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Passes validation
spec_ids &lt;- as.character(c(30, 30, 30, 10, 10, 10, 10, 20, 20, 80))
spec_ids &lt;- new_fe_species_bavrn_state(spec_ids)
validate_fe_species_bavrn_state(spec_ids)

# Validating the following spec_ids throws an error due to
# non-supported species codes
spec_ids &lt;- as.character(c(30, 30, 8712, 10, 10, 10, 349, 20, 20, 80))
spec_ids &lt;- new_fe_species_bavrn_state(spec_ids)
try(
  validate_fe_species_bavrn_state(spec_ids)
)

</code></pre>

<hr>
<h2 id='validate_fe_species_bavrn_state_short'>Validate an <em>fe_species_bavrn_state_short</em> Object</h2><span id='topic+validate_fe_species_bavrn_state_short'></span>

<h3>Description</h3>

<p>Regular users will not require this function. Expert users will want to use
it in combination with the constructor
<code><a href="#topic+fe_species_bavrn_state_short">fe_species_bavrn_state_short</a></code>. Regular users, please construct
<code>fe_species_bavrn_state_short</code> objects with
<code><a href="#topic+fe_species_bavrn_state_short">fe_species_bavrn_state_short</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate_fe_species_bavrn_state_short(x = character())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="validate_fe_species_bavrn_state_short_+3A_x">x</code></td>
<td>
<p>An object that is expected to be a valid
<code>fe_species_bavrn_state_short</code> object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns <code>x</code>, but this function is mainly called for its side
effect which is pointing out any violations of the
<code>fe_species_bavrn_state_short</code> object specifications. In case of such
violations, the function will terminate with an error.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Passes validation
spec_ids &lt;- as.character(c(3, 3, 3, 1, 1, 1, 1, 2, 2, 8))
spec_ids &lt;- new_fe_species_bavrn_state_short(spec_ids)
validate_fe_species_bavrn_state_short(spec_ids)

# Validating the following spec_ids throws an error due to
# non-supported species codes
spec_ids &lt;- as.character(c(3, 3, 8712, 1, 1, 1, 349, 2, 2, 8))
spec_ids &lt;- new_fe_species_bavrn_state_short(spec_ids)
try(
  validate_fe_species_bavrn_state_short(spec_ids)
)

</code></pre>

<hr>
<h2 id='validate_fe_species_ger_nfi_2012'>Validate an <em>fe_species_ger_nfi_2012</em> Object</h2><span id='topic+validate_fe_species_ger_nfi_2012'></span>

<h3>Description</h3>

<p>Regular users will not require this function. Expert users will want to use
it in combination with the constructor
<code><a href="#topic+new_fe_species_ger_nfi_2012">new_fe_species_ger_nfi_2012</a></code>. Regular users, please construct
<code>fe_species_ger_nfi_2012</code> objects with
<code><a href="#topic+fe_species_ger_nfi_2012">fe_species_ger_nfi_2012</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate_fe_species_ger_nfi_2012(x = character())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="validate_fe_species_ger_nfi_2012_+3A_x">x</code></td>
<td>
<p>An object that is expected to be a correct
<code>fe_species_ger_nfi_2012</code> object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns <code>x</code>, but this function is mainly called for its side
effect which is pointing out any violations of the
<code>fe_species_ger_nfi_2012</code> object specifications. In case of such
violations, the function will terminate with an error.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Passes validation
spec_ids &lt;- as.character(c(30, 30, 30, 10, 10, 10, 10, 20, 20, 290))
spec_ids &lt;- new_fe_species_ger_nfi_2012(spec_ids)
validate_fe_species_ger_nfi_2012(spec_ids)

# Validating the following spec_ids throws an error due to
# non-supported species codes
spec_ids &lt;- as.character(c(30, 30, 542, 10, 10, 10, 1234, 20, 20, 290))
spec_ids &lt;- new_fe_species_ger_nfi_2012(spec_ids)
try(
  validate_fe_species_ger_nfi_2012(spec_ids)
)

</code></pre>

<hr>
<h2 id='validate_fe_species_master'>Validate an <em>fe_species_master</em> Object</h2><span id='topic+validate_fe_species_master'></span>

<h3>Description</h3>

<p>Regular users will not require this function. Expert users will want to use
it in combination with the constructor <code><a href="#topic+new_fe_species_master">new_fe_species_master</a></code>.
Regular users, please construct <code>fe_species_master</code> objects with
<code><a href="#topic+fe_species_master">fe_species_master</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate_fe_species_master(x = character())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="validate_fe_species_master_+3A_x">x</code></td>
<td>
<p>An object that is expected to be a correct
<code>fe_species_master</code> object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns <code>x</code>, but this function is mainly called for its side
effect which is pointing out any violations of the
<code>fe_species_master</code> object specifications. In case of such
violations, the function will terminate with an error.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Passes validation
spec_ids &lt;- c("pinus_001", "quercus_002", "pinus_001", "fagus_001")
spec_ids &lt;- new_fe_species_master(spec_ids)
validate_fe_species_master(spec_ids)

# Validating the following spec_ids throws an error due to
# non-supported species codes
spec_ids &lt;- c("pinus_001", "my_awesome_species_003", "wonder_tree_3012")
spec_ids &lt;- new_fe_species_master(spec_ids)
try(
  validate_fe_species_master(spec_ids)
)

</code></pre>

<hr>
<h2 id='validate_fe_species_tum_wwk_long'>Validate an <em>fe_species_tum_wwk_long</em> Object</h2><span id='topic+validate_fe_species_tum_wwk_long'></span>

<h3>Description</h3>

<p>Regular users will not require this function. Expert users will want to use
it in combination with the constructor
<code><a href="#topic+new_fe_species_tum_wwk_long">new_fe_species_tum_wwk_long</a></code>. Regular users, please construct
<code>fe_species_tum_wwk_long</code> objects with
<code><a href="#topic+fe_species_tum_wwk_long">fe_species_tum_wwk_long</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate_fe_species_tum_wwk_long(x = character())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="validate_fe_species_tum_wwk_long_+3A_x">x</code></td>
<td>
<p>An object that is expected to be a correct
<code>fe_species_tum_wwk_long</code> object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns <code>x</code>, but this function is mainly called for its side
effect which is pointing out any violations of the
<code>fe_species_tum_wwk_long</code> object specifications. In case of such
violations, the function will terminate with an error.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Passes validation
spec_ids &lt;- as.character(c(70, 61, 88, 88, 10, 971, 32))
spec_ids &lt;- new_fe_species_tum_wwk_long(spec_ids)
validate_fe_species_tum_wwk_long(spec_ids)

# Validating the following spec_ids throws an error due to
# non-supported species codes
spec_ids &lt;- as.character(c(70, 61, 1221, 88, 88, 10, 971, 32, 4031))
spec_ids &lt;- new_fe_species_tum_wwk_long(spec_ids)
try(
  validate_fe_species_tum_wwk_long(spec_ids)
)

</code></pre>

<hr>
<h2 id='validate_fe_species_tum_wwk_short'>Validate an <em>fe_species_tum_wwk_short</em> Object</h2><span id='topic+validate_fe_species_tum_wwk_short'></span>

<h3>Description</h3>

<p>Regular users will not require this function. Expert users will want to use
it in combination with the constructor
<code><a href="#topic+new_fe_species_tum_wwk_short">new_fe_species_tum_wwk_short</a></code>. Regular users, please construct
<code>fe_species_tum_wwk_short</code> objects with
<code><a href="#topic+fe_species_tum_wwk_short">fe_species_tum_wwk_short</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate_fe_species_tum_wwk_short(x = character())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="validate_fe_species_tum_wwk_short_+3A_x">x</code></td>
<td>
<p>An object that is expected to be a correct
<code>fe_species_tum_wwk_short</code> object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns <code>x</code>, but this function is mainly called for its side
effect which is pointing out any violations of the
<code>fe_species_tum_wwk_short</code> object specifications. In case of such
violations, the function will terminate with an error.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Passes validation
spec_ids &lt;- as.character(c(2, 2, 2, 1, 1, 1, 1, 3, 3, 9))
spec_ids &lt;- new_fe_species_tum_wwk_short(spec_ids)
validate_fe_species_tum_wwk_short(spec_ids)

# Validating the following spec_ids throws an error due to
# non-supported species codes
spec_ids &lt;- as.character(c(2, 2, 52, 1, 1, 1, 123, 3, 3, 9))
spec_ids &lt;- new_fe_species_tum_wwk_short(spec_ids)
try(
  validate_fe_species_tum_wwk_short(spec_ids)
)

</code></pre>

<hr>
<h2 id='validate_fe_stand'>Validate an <strong>fe_stand</strong> Object</h2><span id='topic+validate_fe_stand'></span>

<h3>Description</h3>

<p>Regular users will not require this function. Expert users will want to use
it in combination with the constructor <code><a href="#topic+new_fe_stand">new_fe_stand</a></code>. Regular
users, please construct <code>fe_stand</code> objects with <code><a href="#topic+fe_stand">fe_stand</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate_fe_stand(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="validate_fe_stand_+3A_x">x</code></td>
<td>
<p>An object that is expected to be a correct <code>fe_stand</code> object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns <code>x</code>, but this function is mainly called for its side
effect which is pointing out any violations of the <code>fe_stand</code> object
specifications. In case of such violations, the function will terminate
with an error.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Validate the example stands
validate_fe_stand(norway_spruce_1_fe_stand)
validate_fe_stand(european_beech_1_fe_stand)
validate_fe_stand(spruce_beech_1_fe_stand)
selection_forest_1_fe_stand |&gt; validate_fe_stand()

</code></pre>

<hr>
<h2 id='validate_fe_stand_spatial'>Validate an <strong>fe_stand_spatial</strong> Object</h2><span id='topic+validate_fe_stand_spatial'></span>

<h3>Description</h3>

<p>Regular users will not require this function. Expert users will want to use
it in combination with the constructor <code><a href="#topic+new_fe_stand_spatial">new_fe_stand_spatial</a></code>.
Regular users, please construct <code>fe_stand_spatial</code> objects with
<code><a href="#topic+fe_stand_spatial">fe_stand_spatial</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate_fe_stand_spatial(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="validate_fe_stand_spatial_+3A_x">x</code></td>
<td>
<p>An object that is expected to be a correct <code>fe_stand_spatial</code>
object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns <code>x</code>, but this function is mainly called for its side
effect which is pointing out any violations of the <code>fe_stand_spatial</code>
object specifications. In case of such violations, the function will
terminate with an error.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  # Validate the example fe_stand_spatial object
  mm_forest_1_fe_stand_spatial |&gt; validate_fe_stand_spatial()

</code></pre>

<hr>
<h2 id='validate_fe_tally_list'>Validate an <strong>fe_tally_list</strong> Object</h2><span id='topic+validate_fe_tally_list'></span>

<h3>Description</h3>

<p>Regular users will not require this function. Expert users will want to use
it in combination with the constructor <code><a href="#topic+new_fe_tally_list">new_fe_tally_list</a></code>.
Regular users, please construct <code>fe_tally_list</code> objects with
<code><a href="#topic+fe_tally_list">fe_tally_list</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate_fe_tally_list(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="validate_fe_tally_list_+3A_x">x</code></td>
<td>
<p>An object that is expected to be a correct <code>fe_tally_list</code>
object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns <code>x</code>, but this function is mainly called for its side
effect which is pointing out any violations of the <code>fe_tally_list</code>
object specifications. In case of such violations, the function will
terminate with an error.
</p>

<hr>
<h2 id='validate_fe_yield_table'>Validate a Candidate For an fe_yield_table Object</h2><span id='topic+validate_fe_yield_table'></span>

<h3>Description</h3>

<p>Validate a Candidate For an fe_yield_table Object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate_fe_yield_table(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="validate_fe_yield_table_+3A_x">x</code></td>
<td>
<p>The candidate object to be validated</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>x</code> is not a valid <code>fe_yield_table</code> object, the function
will terminate with an error. Otherwise, <code>x</code> will be returned.
</p>


<h3>Examples</h3>

<pre><code class='language-R'> validate_fe_yield_table(fe_ytable_beech_wiedemann_moderate_1931)
 validate_fe_yield_table(fe_ytable_larch_schober_moderate_1946)
 validate_fe_yield_table(fe_ytable_pine_wiedemann_moderate_1943)
 validate_fe_yield_table(fe_ytable_spruce_gehrhardt_moderate_1921)
 validate_fe_yield_table(fe_ytable_douglas_schober_moderate_1956)
 validate_fe_yield_table(fe_ytable_spruce_wiedemann_moderate_1936_42)
 validate_fe_yield_table(fe_ytable_silver_fir_hausser_moderate_1956)

</code></pre>

<hr>
<h2 id='vec_ptype_abbr.fe_species_bavrn_state'>Abbreviation for the <em>fe_species_bavrn_state</em> Type</h2><span id='topic+vec_ptype_abbr.fe_species_bavrn_state'></span>

<h3>Description</h3>

<p>Provide an abbreviated name for the class <code>fe_species_bavrn_state</code> to
be displayed in tibbles and <code>str()</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'fe_species_bavrn_state'
vec_ptype_abbr(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="vec_ptype_abbr.fe_species_bavrn_state_+3A_x">x</code></td>
<td>
<p>An object of type <code>fe_species_bavrn_state</code></p>
</td></tr>
<tr><td><code id="vec_ptype_abbr.fe_species_bavrn_state_+3A_...">...</code></td>
<td>
<p>Other parameters (not used)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The abbreviation to be displayed for the species coding
(<code>character</code>) in tibbles and in <code>str()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>spec_ids &lt;- fe_species_bavrn_state(as.character(c(10, 30, 60)))
vctrs::vec_ptype_abbr(spec_ids)
str(spec_ids)

</code></pre>

<hr>
<h2 id='vec_ptype_abbr.fe_species_bavrn_state_short'>Abbreviation for the <em>fe_species_bavrn_state_short</em> Type</h2><span id='topic+vec_ptype_abbr.fe_species_bavrn_state_short'></span>

<h3>Description</h3>

<p>Provide an abbreviated name for the class <code>fe_species_bavrn_state_short</code>
to be displayed in tibbles and <code>str()</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'fe_species_bavrn_state_short'
vec_ptype_abbr(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="vec_ptype_abbr.fe_species_bavrn_state_short_+3A_x">x</code></td>
<td>
<p>An object of type <code>fe_species_bavrn_state_short</code></p>
</td></tr>
<tr><td><code id="vec_ptype_abbr.fe_species_bavrn_state_short_+3A_...">...</code></td>
<td>
<p>Other parameters (not used)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The abbreviation to be displayed for the species coding
(<code>character</code>) in tibbles and in <code>str()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>spec_ids &lt;- fe_species_bavrn_state_short(as.character(c(2, 4, 6)))
vctrs::vec_ptype_abbr(spec_ids)
str(spec_ids)

</code></pre>

<hr>
<h2 id='vec_ptype_abbr.fe_species_ger_nfi_2012'>Abbreviation for the <em>fe_species_ger_nfi_2012</em> Type</h2><span id='topic+vec_ptype_abbr.fe_species_ger_nfi_2012'></span>

<h3>Description</h3>

<p>Provide an abbreviated name for the class <code>fe_species_ger_nfi_2012</code> to
be displayed in tibbles and <code>str()</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'fe_species_ger_nfi_2012'
vec_ptype_abbr(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="vec_ptype_abbr.fe_species_ger_nfi_2012_+3A_x">x</code></td>
<td>
<p>An object of type <code>fe_species_ger_nfi_2012</code></p>
</td></tr>
<tr><td><code id="vec_ptype_abbr.fe_species_ger_nfi_2012_+3A_...">...</code></td>
<td>
<p>Other parameters (not used)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The abbreviation to be displayed for the species coding
(<code>character</code>) in tibbles and in <code>str()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>spec_ids &lt;- fe_species_ger_nfi_2012(as.character(c(10, 20, 50)))
vctrs::vec_ptype_abbr(spec_ids)
str(spec_ids)

</code></pre>

<hr>
<h2 id='vec_ptype_abbr.fe_species_master'>Abbreviation for the <em>fe_species_master</em> Type</h2><span id='topic+vec_ptype_abbr.fe_species_master'></span>

<h3>Description</h3>

<p>Provide an abbreviated name for the class <code>fe_species_master</code> to
be displayed in tibbles and <code>str()</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'fe_species_master'
vec_ptype_abbr(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="vec_ptype_abbr.fe_species_master_+3A_x">x</code></td>
<td>
<p>An object of type <code>fe_species_master</code></p>
</td></tr>
<tr><td><code id="vec_ptype_abbr.fe_species_master_+3A_...">...</code></td>
<td>
<p>Other parameters (not used)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The abbreviation to be displayed for the species coding
(<code>character</code>) in tibbles and in <code>str()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>spec_ids &lt;- fe_species_master(c("pinus_001", "quercus_002", "pinus_001"))
vctrs::vec_ptype_abbr(spec_ids)
str(spec_ids)

</code></pre>

<hr>
<h2 id='vec_ptype_abbr.fe_species_tum_wwk_long'>Abbreviation for the <em>fe_species_tum_wwk_long</em> Type</h2><span id='topic+vec_ptype_abbr.fe_species_tum_wwk_long'></span>

<h3>Description</h3>

<p>Provide an abbreviated name for the class <code>fe_species_tum_wwk_long</code> to
be displayed in tibbles and <code>str()</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'fe_species_tum_wwk_long'
vec_ptype_abbr(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="vec_ptype_abbr.fe_species_tum_wwk_long_+3A_x">x</code></td>
<td>
<p>An object of type <code>fe_species_tum_wwk_long</code></p>
</td></tr>
<tr><td><code id="vec_ptype_abbr.fe_species_tum_wwk_long_+3A_...">...</code></td>
<td>
<p>Other parameters (not used)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The abbreviation to be displayed for the species coding
(<code>character</code>) in tibbles and in <code>str()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>spec_ids &lt;- fe_species_tum_wwk_long(as.character(c(10, 50, 87, 813)))
vctrs::vec_ptype_abbr(spec_ids)
str(spec_ids)

</code></pre>

<hr>
<h2 id='vec_ptype_abbr.fe_species_tum_wwk_short'>Abbreviation for the <em>fe_species_tum_wwk_short</em> Type</h2><span id='topic+vec_ptype_abbr.fe_species_tum_wwk_short'></span>

<h3>Description</h3>

<p>Provide an abbreviated name for the class <code>fe_species_tum_wwk_short</code> to
be displayed in tibbles and <code>str()</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'fe_species_tum_wwk_short'
vec_ptype_abbr(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="vec_ptype_abbr.fe_species_tum_wwk_short_+3A_x">x</code></td>
<td>
<p>An object of type <code>fe_species_tum_wwk_short</code></p>
</td></tr>
<tr><td><code id="vec_ptype_abbr.fe_species_tum_wwk_short_+3A_...">...</code></td>
<td>
<p>Other parameters (not used)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The abbreviation to be displayed for the species coding
(<code>character</code>) in tibbles and in <code>str()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>spec_ids &lt;- fe_species_tum_wwk_short(as.character(c(1, 3, 4)))
vctrs::vec_ptype_abbr(spec_ids)
str(spec_ids)

</code></pre>

<hr>
<h2 id='yield_tables'>Yield Tables</h2><span id='topic+yield_tables'></span><span id='topic+fe_ytable_spruce_assmann_franz_mean_yield_level_1963'></span><span id='topic+fe_ytable_poplar_blume_1949'></span><span id='topic+fe_ytable_redoak_bauer_1955'></span><span id='topic+fe_ytable_beech_gehrhardt_moderate_1908'></span><span id='topic+fe_ytable_spruce_gehrhardt_moderate_1921'></span><span id='topic+fe_ytable_pine_gehrhardt_moderate_1921'></span><span id='topic+fe_ytable_spruce_guttenberg_1915'></span><span id='topic+fe_ytable_silver_fir_hausser_moderate_1956'></span><span id='topic+fe_ytable_oak_juettner_moderate_1955'></span><span id='topic+fe_ytable_blackalder_mitscherlich_heavy_1945'></span><span id='topic+fe_ytable_larch_schober_moderate_1946'></span><span id='topic+fe_ytable_japanlarch_schober_moderate_1953'></span><span id='topic+fe_ytable_douglas_schober_moderate_1956'></span><span id='topic+fe_ytable_birch_schwappach_1903_29'></span><span id='topic+fe_ytable_beech_wiedemann_moderate_1931'></span><span id='topic+fe_ytable_spruce_wiedemann_moderate_1936_42'></span><span id='topic+fe_ytable_pine_wiedemann_moderate_1943'></span><span id='topic+ytable_pine_wiedemann_moderate_1943_raw'></span><span id='topic+fe_ytable_ash_wimmenauer_1919_29'></span><span id='topic+fe_ytable_spruce_vanselow_1951'></span>

<h3>Description</h3>

<p>The yield table system of <strong>ForestElementsR</strong> allows easy use
of yield tables that are available as an <code><a href="#topic+fe_yield_table">fe_yield_table</a></code> object.
Here, we list all yield tables that come with the current version of the
package. For test purposes and as an example, the Scots Pine table by
Wiedemann (1943) is provided as a raw data frame (prefix &quot;ytable_&quot;) and an
<code>fe_yield_table</code> object (prefix &quot;fe_ytable_&quot;). The raw data frame can be
transformed into a <code>fe_yield_table</code> object with the function
<code><a href="#topic+fe_yield_table">fe_yield_table</a></code> (see the example there).
When we refer to <em>Schober's yield table collection</em> below, we mean
Schober (1975). Many of
the yield tables listed were implemented in the version published in what we
refer to as the <em>Hilfstafeln edited by the Bavarian Forest Administration</em>.
Hereby, we mean, more precisely,
BayMinELF (1990), and
BayMinELF (2018). The yield
table collection in both editions is almost identical, and represented
in  <strong>ForestElementsR</strong> (including error corrections beyond the 2018
edition). Only the yield table by Kenk and Hradetzky for Douglas fir that is
new in the 2018 hasn't been imported here, yet.
</p>
<p>The following yield tables are currently implemented (alphabetically ordered
by author names):
</p>

<ul>
<li><p><em>Assmann-Franz 1963, Norway Spruce, Mean Yield Level</em>: Imported from
the &quot;Hilfstafeln&quot; edited by the Bavarian Forest Administration. The total
volume production (tvp), mean annual increment (mai), and the periodic
annual increment were given as reduced values (under bark, harvest losses
substracted) only. Thus, they were converted into standing m³ over bark
by dividing them by 0.81 (standard factor for Norway spruce in Bavaria). The
yield table allows site indexing based on the dominant height h100, and the
quadratic mean height hq, whereby the former is the way Ernst Assmann and
Friedrich Franz had in mind. The site index of this table is, unusual for
German yield tables, given as a stand's expected dominant height at an age
of 100 years. Unlike in most yield table, the number of removal trees
(n_rmv_ha), the volume of the removal stand (v_rmv_ha), and the periodic
annual increment (pai_m3_ha_yr, red_m3_ha_yr) relate to the subsequent, not
the previous time span. Variables whose names begin with &quot;red_&quot; relate to
harvested volume under bark; i.e. reduced by 19 % which takes into account
both, harvest losses (mainly stump) and bark volume.
</p>
</li>
<li><p><em>Bauer, 1955, Red Oak</em>: Imported from the &quot;Hilfstafeln&quot; edited by the
Bavarian Forest Administration. In the source files, the quadratic mean
height of the site index classes was only available as lower threshold
(i.e 1/4 site index lower). So the original heights were taken from the
version published in Schober's (1975) yield table collection for the whole
site indexes (I.0, II.0, etc.). The values for the site indexes I.5 and II.5
were generated by linear inter- and extrapolation. The total volume
production was not contained in the Bavarian edition of the table; so, it
was added from the version published in Schober's (1975) collection.
The table follows the standard structure of all tables that are part of the
Bavarian &quot;Hilfstafeln&quot;: Stem number, mean diameter, standing volume, and
basal area describe the remaining stand. Wood volume means is defined as
standing coarse wood over bark. Variables whose names begin with &quot;red_&quot;
relate to harvested volume under bark; i.e. reduced by 21 % which takes
into account both, harvest losses (mainly stump) and bark volume.
</p>
</li>
<li><p><em>Blume, 1949, Poplar</em>: Imported from the &quot;Hilfstafeln&quot; edited
by the Bavarian Forest Administration. Originally, this table was designed
for site indexing by quadratic mean diameter (d_q_cm), not by height.
Therefore, this diameter was given in the table as lower threshold, here
listed as &quot;d_q_cm_si_plus_025&quot;. As site indexing by height is always
preferable, options for site indexing by both, diameter and height, were
included in the fe_yield_table representation of this table.
The actual quadratic mean diameter (d_q_cm) which is used for site indexing
if the user decides so was calculated from dividing the given basal area
by the stem number, multiplying it with 4/pi, and taking the square root of
the result. The total volume production (tvp) was not contained in the
Bavarian edition of the table. Therefore, it was re-calculated by
multiplying the table's mean annual increment (mai) with the stand age.
Despite the lower diameter threshold for site indexing, the table follows
the standard structure of all tables that are part of the Bavarian
&quot;Hilfstafeln&quot;: Stem number, mean diameter, standing volume, and basal area
describe the remaining stand. Wood volume means is defined as standing
coarse wood over bark. Variables whose names begin with &quot;red_&quot; relate to
harvested volume under bark; i.e. reduced by 19 % which takes into account
both, harvest losses (mainly stump) and bark volume.
Overall, this table seems not really well constructed, the time-curves of
its variables are often not intuitively plausible. Some inconsistencies
(e.g. decreasing tvp resulting from a to low mean annual increment value)
were corrected.
</p>
</li>
<li><p><em>Gehrhardt, 1908, European Beech, Moderate Thinning</em>:Imported from the
&quot;Hilfstafeln&quot; edited by the Bavarian Forest Administration. in the source
files, the quadratic mean height of the site index classes was only
available as lower threshold (i.e 1/4 site index lower). So the original
heights, as required for automated use were generated by inter- and
extrapolation. The total volume production (tvp) was not contained in the
Bavarian edition of the table. Therefore, it was re-calculated by
multiplying the table's mean annual increment (mai) with the stand age.
The table follows the standard structure of all tables that are part of the
Bavarian &quot;Hilfstafeln&quot;: Stem number, mean diameter, standing volume, and
basal area describe the remaining stand. Wood volume means is defined as
standing coarse wood over bark. Variables whose names begin with &quot;red_&quot;
relate to harvested volume under bark; i.e. reduced by 15.4 % which takes
into account both, harvest losses (mainly stump) and bark volume. The
quadratic mean diameter (d_q_cm) for site index 2.0 was obviously wrong
in the source data. It was corrected by interpolation.
</p>
</li>
<li><p><em>Gehrhardt 1921, Norway Spruce, Moderate Thinning</em>: Imported from the
&quot;Hilfstafeln&quot; edited by the Bavarian Forest Administration. in the source
files, the quadratic mean height of the site index classes was only
available as lower threshold (i.e 1/4 site index lower). So the original
heights, as required for automated use were generated by inter- and
extrapolation. The total volume production (tvp) was not contained in the
Bavarian edition of the table. Therefore, it was re-calculated by
multiplying the table's mean annual increment (mai) with the stand age.
The table follows the standard structure of all tables that are part of the
Bavarian &quot;Hilfstafeln&quot;: Stem number, mean diameter, standing volume, and
basal area describe the remaining stand. Wood volume means is defined as
standing coarse wood over bark. Variables whose names begin with &quot;red_&quot;
relate to harvested volume under bark; i.e. reduced by 19 % which takes into
account both, harvest losses (mainly stump) and bark volume.
</p>
</li>
<li><p><em>Gehrhardt, 1921, Scots Pine, Moderate Thinning</em>: Imported from the
&quot;Hilfstafeln&quot; edited by the Bavarian Forest Administration. in the source
files, the quadratic mean height of the site index classes was only
available as lower threshold (i.e 1/4 site index lower). So the original
heights, as required for automated use were generated by inter- and
extrapolation. The total volume production (tvp) was not contained in the
Bavarian edition of the table. Therefore, it was re-calculated by
multiplying the table's mean annual increment (mai) with the stand age.
The table follows the standard structure of all tables that are part of the
Bavarian &quot;Hilfstafeln&quot;: Stem number, mean diameter, standing volume, and
basal area describe the remaining stand. Wood volume means is defined as
standing coarse wood over bark. Variables whose names begin with &quot;red_&quot;
relate to harvested volume under bark; i.e. reduced by 21 % which takes into
account both, harvest losses (mainly stump) and bark volume.
</p>
</li>
<li><p><em>Guttenberg, 1915, Norway Spruce, High Mountains</em>: Imported from the
&quot;Hilfstafeln&quot; edited by the Bavarian Forest Administration. in the source
files, the quadratic mean height of the site index classes was only
available as lower threshold (i.e 1/4 site index lower). So the original
heights, as required for automated use were generated by inter- and
extrapolation. The total volume production (tvp) was not contained in the
Bavarian edition of the table. Therefore, it was re-calculated by
multiplying the table's mean annual increment (mai) with the stand age.
The table follows the standard structure of all tables that are part of the
Bavarian &quot;Hilfstafeln&quot;: Stem number, mean diameter, standing volume, and
basal area describe the remaining stand. Wood volume means is defined as
standing coarse wood over bark. Variables whose names begin with &quot;red_&quot;
relate to harvested volume under bark; i.e. reduced by 19 % which takes into
account both, harvest losses (mainly stump) and bark volume.
The interpolated site indexes contained many mistakes (highlighted in the
source data), mostly in the mai which could, however, be easily corrected
by interpolation between the adjacent site index tables.
</p>
</li>
<li><p><em>Hausser 1956, Silver Fir, Moderate Thinning</em>: Imported from the
&quot;Hilfstafeln&quot; edited by the Bavarian Forest Administration. In the source
files, the quadratic mean height of the site index classes was only
available as lower threshold (i.e 1/4 site index lower). So the original
heights were taken from the version published in Schober's (1975) yield
table collection for the whole site indexes (I.0, II.0, etc.). The values
for the site indexes I.5, II.5, etc. were generated by linear inter- and
extrapolation. The total volume production was not contained in the
Bavarian edition of the table; so, it was added from the version published
in Schober's (1975) collection.
The table follows the standard structure of all tables that are part of the
Bavarian &quot;Hilfstafeln&quot;: Stem number, mean diameter, standing volume, and
basal area describe the remaining stand. Wood volume means is defined as
standing coarse wood over bark. Variables whose names begin with &quot;red_&quot;
relate to harvested volume under bark; i.e. reduced by 19 % which takes
into account both, harvest losses (mainly stump) and bark volume.
</p>
</li>
<li><p><em>Juettner 1955, Oak, Moderate Thinning</em>: Imported from the
&quot;Hilfstafeln&quot; edited by the Bavarian Forest Administration. In the source
files, the quadratic mean height of the site index classes was only
available as lower threshold (i.e 1/4 site index lower). So the original
heights were taken from the version published in Schober's (1975) yield
table collection for the whole site indexes (I.0, II.0, etc.). The values
for the site indexes I.5, II.5, etc. were generated by linear inter- and
extrapolation. The total volume production was not contained in the
Bavarian edition of the table; so, it was added from the version published
in Schober's (1975) collection.
</p>
</li>
<li><p><em>Mitscherlich, 1945, Black Alder</em>:  Imported from the
&quot;Hilfstafeln&quot; edited by the Bavarian Forest Administration. in the source
files, the quadratic mean height of the site index classes was only
available as lower threshold (i.e 1/4 site index lower). So the original
heights, as required for automated use were generated by inter- and
extrapolation. The total volume production (tvp) was not contained in the
Bavarian edition of the table. Therefore, it was re-calculated by
multiplying the table's mean annual increment (mai) with the stand age.
The table follows the standard structure of all tables that are part of the
Bavarian &quot;Hilfstafeln&quot;: Stem number, mean diameter, standing volume, and
basal area describe the remaining stand. Wood volume means is defined as
standing coarse wood over bark. Variables whose names begin with &quot;red_&quot;
relate to harvested volume under bark; i.e. reduced by 19 % which takes into
account both, harvest losses (mainly stump) and bark volume.
</p>
</li>
<li><p><em>Schober 1946, European Larch, Moderate Thinning</em>: Imported from the
&quot;Hilfstafeln&quot; edited by the Bavarian Forest Administration. in the source
files, the quadratic mean height of the site index classes was only
available as lower threshold (i.e 1/4 site index lower). So the original
heights were taken from the version published in Schober's (1975) yield
table collection for the whole site indexes (I.0, II.0, etc.). The values
for the site indexes I.5, II.5, etc. were generated by linear inter- and
extrapolation. The total volume production was not contained in the
Bavarian edition of the table; so, it was added from the version published
in Schober's (1975) collection.
The table follows the standard structure of all tables that are part of the
Bavarian &quot;Hilfstafeln&quot;: Stem number, mean diameter, standing volume, and
basal area describe the remaining stand. Wood volume means is defined as
standing coarse wood over bark. Variables whose names begin with &quot;red_&quot;
relate to harvested volume under bark; i.e. reduced by 28 % which takes
into account both, harvest losses (mainly stump) and bark volume.
There were some mistakes in the mean diameters and basal areas of the
interpolated site index tables I.5 (most) and II.5 (less). These have been
corrected by interpolating between the original values of the integer site
index tables (I.0, II.0, III.0).
</p>
</li>
<li><p><em>Schober, 1953, Japanese Larch, Moderate Thinning</em>: Imported from the
&quot;Hilfstafeln&quot; edited by the Bavarian Forest Administration. In the source
files, the quadratic mean height of the site index classes was only
available as lower threshold (i.e 1/4 site index lower). So the original
heights were taken from the version published in Schober's (1975) yield
table collection for the whole site indexes (I.0, II.0, etc.). The values
for the site index I.5 were generated by linear inter- and extrapolation.
The total volume production was not contained in the Bavarian edition of the
table; so, it was added from the version published in Schober's (1975)
collection.
The table follows the standard structure of all tables that are part of the
Bavarian &quot;Hilfstafeln&quot;: Stem number, mean diameter, standing volume, and
basal area describe the remaining stand. Wood volume means is defined as
standing coarse wood over bark. Variables whose names begin with &quot;red_&quot;
relate to harvested volume under bark; i.e. reduced by 28 % which takes
into account both, harvest losses (mainly stump) and bark volume.
</p>
</li>
<li><p><em>Schober 1956, Douglas Fir, Moderate Thinning</em>: Imported from the
&quot;Hilfstafeln&quot; edited by the Bavarian Forest Administration. in the source
files, the quadratic mean height of the site index classes was only
available as lower threshold (i.e 1/4 site index lower). So the original
heights, as required for automated use were generated by inter- and
extrapolation. The total volume production (tvp) was not contained in the
Bavarian edition of the table. Therefore, it was re-calculated by
multiplying the table's mean annual increment (mai) with the stand age.
The table follows the standard structure of all tables that are part of the
Bavarian &quot;Hilfstafeln&quot;: Stem number, mean diameter, standing volume, and
basal area describe the remaining stand. Wood volume means is defined as
standing coarse wood over bark. Variables whose names begin with &quot;red_&quot;
relate to harvested volume under bark; i.e. reduced by 21 % which takes
into account both, harvest losses (mainly stump) and bark volume.
</p>
</li>
<li><p><em>Schwappach, 1903/29, Birch</em>: Imported from the &quot;Hilfstafeln&quot; edited
by the Bavarian Forest Administration. In the source files, the quadratic
mean height of the site index classes was only available as lower threshold
(i.e 1/4 site index lower). So the original heights were taken from the
version published in Schober's (1975) yield table collection for the whole
site indexes (I.0, II.0, etc.). The values for the site indexes I.5 and II.5
were generated by linear inter- and extrapolation. The total volume
production was not contained in the Bavarian edition of the table; so, it
was added from the version published in Schober's (1975) collection.
The table follows the standard structure of all tables that are part of the
Bavarian &quot;Hilfstafeln&quot;: Stem number, mean diameter, standing volume, and
basal area describe the remaining stand. Wood volume means is defined as
standing coarse wood over bark. Variables whose names begin with &quot;red_&quot;
relate to harvested volume under bark; i.e. reduced by 19 % which takes
into account both, harvest losses (mainly stump) and bark volume. An
obvious interpoliation error was corrected (site index 1.5, basal area at
age = 40 years).
</p>
</li>
<li><p><em>Vanselow, 1951, Norway Spruce, Southern Bavaria</em>: Imported from the
&quot;Hilfstafeln&quot; edited by the Bavarian Forest Administration. in the source
files, the quadratic mean height of the site index classes was only
available as lower threshold (i.e 1/4 site index lower). So the original
heights, as required for automated use were generated by inter- and
extrapolation. The total volume production (tvp) was not contained in the
Bavarian edition of the table. Therefore, it was re-calculated by
multiplying the table's mean annual increment (mai) with the stand age.
The table follows the standard structure of all tables that are part of the
Bavarian &quot;Hilfstafeln&quot;: Stem number, mean diameter, standing volume, and
basal area describe the remaining stand. Wood volume means is defined as
standing coarse wood over bark. Variables whose names begin with &quot;red_&quot;
relate to harvested volume under bark; i.e. reduced by 19 % which takes into
account both, harvest losses (mainly stump) and bark volume.
Two values, basal area at age 20 and standing volume at age 40 for site
index I.5 were obviously wrong, probably due to interpolation errors. Both
values were replaced by those obtained from correct interpolation between
site indexes I and II.
</p>
</li>
<li><p><em>Wiedemann 1931, European Beech, Moderate Thinning</em>: Imported from the
&quot;Hilfstafeln&quot; edited by the Bavarian Forest Administration. in the source
files, the quadratic mean height of the site index classes was only
available as lower threshold (i.e 1/4 site index lower). So the original
heights, as required for automated use were generated by inter- and
extrapolation. The total volume production (tvp) was not contained in the
Bavarian edition of the table. Therefore, it was re-calculated by
multiplying the table's mean annual increment (mai) with the stand age.
The table follows the standard structure of all tables that are part of the
Bavarian &quot;Hilfstafeln&quot;: Stem number, mean diameter, standing volume, and
basal area describe the remaining stand. Wood volume means is defined as
standing coarse wood over bark. Variables whose names begin with &quot;red_&quot;
relate to harvested volume under bark; i.e. reduced by 15.4 % which takes
into account both, harvest losses (mainly stump) and bark volume.
Site index I.5, age 130: Mistake in n_ha, value 465 was wrong. Linearly
interpolated from the neighboring values to 238.5.
</p>
</li>
<li><p><em>Wiedemann 1936/42, Norway Spruce, Moderate Thinning</em>: Imported from
the &quot;Hilfstafeln&quot; edited by the Bavarian Forest Administration. in the
source files, the quadratic mean height of the site index classes was only
available as lower threshold (i.e 1/4 site index lower). So the original
heights were taken from the version published in Schober's (1975) yield
table collection for the whole site indexes (I.0, II.0, etc.). The values
for the site indexes I.5, II.5, etc. were generated by linear inter- and
extrapolation. The total volume production was not contained in the
Bavarian edition of the table; so, it was added from the version published
in Schober's (1975) collection.
The table follows the standard structure of all tables that are part of the
Bavarian &quot;Hilfstafeln&quot;: Stem number, mean diameter, standing volume, and
basal area describe the remaining stand. Wood volume means is defined as
standing coarse wood over bark. Variables whose names begin with &quot;red_&quot;
relate to harvested volume under bark; i.e. reduced by 19 % which takes into
account both, harvest losses (mainly stump) and bark volume.
Several mistakes were found in the source files, especially consistently
wrong stem numbers and mean diameters in site indexes 4 and 5.
</p>
</li>
<li><p><em>Wiedemann 1943, Scots Pine, Moderate Thinning</em>: Imported from the
&quot;Hilfstafeln&quot; edited by the Bavarian Forest Administration. in the source
files, the quadratic mean height of the site index classes was only
available as lower threshold (i.e 1/4 site index lower). So the original
heights were taken from the version published in Schober's (1975) yield
table collection for the whole site indexes (I.0, II.0, etc.). The values
for the site indexes I.5, II.5, etc. were generated by linear inter- and
extrapolation. The total volume production was not contained in the
Bavarian edition of the table; so, it was added from the version published
in Schober's (1975) collection.
The table follows the standard structure of all tables that are part of the
Bavarian &quot;Hilfstafeln&quot;: Stem number, mean diameter, standing volume, and
basal area describe the remaining stand. Wood volume means is defined as
standing coarse wood over bark. Variables whose names begin with &quot;red_&quot;
relate to harvested volume under bark; i.e. reduced by 21 % which takes into
account both, harvest losses (mainly stump) and bark volume.
The Bavarian original values had a mistake in N/ha, site index I.0, age 95:
343 (wrong) instead of 373 (right), correct value was taken from the version
in Schober's (1975) yield table collection.
</p>
</li>
<li><p><em>Wimmenauer-Schwappach, 1919/29, Ash, Weak Thinning</em>: Imported from
the &quot;Hilfstafeln&quot; edited by the Bavarian Forest Administration. The table
follows the standard structure of all tables that are part of the Bavarian
&quot;Hilfstafeln&quot;: Stem number, mean diameter, standing volume, and basal area
describe the remaining stand. Wood volume is defined as standing
coarse wood over bark. Variables whose names begin with &quot;red_&quot; relate to
harvested volume under bark; i.e. reduced by 19 % which takes into account
both, harvest losses (mainly stump) and bark volume.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>fe_ytable_spruce_assmann_franz_mean_yield_level_1963

fe_ytable_poplar_blume_1949

fe_ytable_redoak_bauer_1955

fe_ytable_beech_gehrhardt_moderate_1908

fe_ytable_spruce_gehrhardt_moderate_1921

fe_ytable_pine_gehrhardt_moderate_1921

fe_ytable_spruce_guttenberg_1915

fe_ytable_silver_fir_hausser_moderate_1956

fe_ytable_oak_juettner_moderate_1955

fe_ytable_blackalder_mitscherlich_heavy_1945

fe_ytable_larch_schober_moderate_1946

fe_ytable_japanlarch_schober_moderate_1953

fe_ytable_douglas_schober_moderate_1956

fe_ytable_birch_schwappach_1903_29

fe_ytable_beech_wiedemann_moderate_1931

fe_ytable_spruce_wiedemann_moderate_1936_42

fe_ytable_pine_wiedemann_moderate_1943

ytable_pine_wiedemann_moderate_1943_raw

fe_ytable_ash_wimmenauer_1919_29

fe_ytable_spruce_vanselow_1951
</code></pre>


<h3>Format</h3>

<p>An object of class <code>fe_yield_table</code> of length 7.
</p>
<p>An object of class <code>fe_yield_table</code> of length 7.
</p>
<p>An object of class <code>fe_yield_table</code> of length 7.
</p>
<p>An object of class <code>fe_yield_table</code> of length 7.
</p>
<p>An object of class <code>fe_yield_table</code> of length 7.
</p>
<p>An object of class <code>fe_yield_table</code> of length 7.
</p>
<p>An object of class <code>fe_yield_table</code> of length 7.
</p>
<p>An object of class <code>fe_yield_table</code> of length 7.
</p>
<p>An object of class <code>fe_yield_table</code> of length 7.
</p>
<p>An object of class <code>fe_yield_table</code> of length 7.
</p>
<p>An object of class <code>fe_yield_table</code> of length 7.
</p>
<p>An object of class <code>fe_yield_table</code> of length 7.
</p>
<p>An object of class <code>fe_yield_table</code> of length 7.
</p>
<p>An object of class <code>fe_yield_table</code> of length 7.
</p>
<p>An object of class <code>fe_yield_table</code> of length 7.
</p>
<p>An object of class <code>fe_yield_table</code> of length 7.
</p>
<p>An object of class <code>fe_yield_table</code> of length 7.
</p>
<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 237 rows and 16 columns.
</p>
<p>An object of class <code>fe_yield_table</code> of length 7.
</p>
<p>An object of class <code>fe_yield_table</code> of length 7.
</p>


<h3>References</h3>

<p>BayMinELF (1990).
<em>Hilfstafeln für die Forsteinrichtung. Zusammengestellt für den Gebrauch in der Bayerischen Staatsforstverwaltung</em>.
Bayerisches Staatsministerium für Ernährung Landwirtschaft und Forsten.<br /><br /> BayMinELF (2018).
<em>Hilfstafeln für die Forsteinrichtung</em>.
Bayerisches Staatsministerium für Ernährung Landwirtschaft und Forsten.<br /><br /> Schober R (1975).
<em>Ertragstafeln wichtiger Baumarten bei verschiedener Durchforstung</em>.
J. D. Sauerländer's Verlag, Frankfurt a. M.
</p>

<hr>
<h2 id='yield_tables_for_species'>Yield Tables To Species Assignments</h2><span id='topic+yield_tables_for_species'></span><span id='topic+ytables_bavrn_state_short_var_1'></span><span id='topic+ytables_tum_wwk_short_var_1'></span><span id='topic+ytables_bavrn_state_var_1'></span>

<h3>Description</h3>

<p>In order to facilitate the application of yield tables, we
provide data frames that link the names of implemented
<code><a href="#topic+fe_yield_table">fe_yield_table</a></code> objects to species codings. Currently, there
are three such data frames:
<code><a href="#topic+fe_species_tum_wwk_short">fe_species_tum_wwk_short</a></code>,
<code><a href="#topic+fe_species_bavrn_state_short">fe_species_bavrn_state_short</a></code>,
<code><a href="#topic+fe_species_bavrn_state">fe_species_bavrn_state</a></code>
Note, that different
yield table assignemnts for the same coding can be defined and coexist. In
future, such tables will be added also for less aggregated species codings.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ytables_bavrn_state_short_var_1

ytables_tum_wwk_short_var_1

ytables_bavrn_state_var_1
</code></pre>


<h3>Format</h3>

<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 9 rows and 2 columns.
</p>
<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 9 rows and 2 columns.
</p>
<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 45 rows and 2 columns.
</p>


<h3>See Also</h3>

<p>Other yield table functions: 
<code><a href="#topic+fe_yield_table">fe_yield_table</a>()</code>,
<code><a href="#topic+plot.fe_yield_table">plot.fe_yield_table</a>()</code>,
<code><a href="#topic+si_to_mai_age">si_to_mai_age</a>()</code>,
<code><a href="#topic+si_to_mai_max">si_to_mai_max</a>()</code>,
<code><a href="#topic+site_index">site_index</a>()</code>,
<code><a href="#topic+stocking_level">stocking_level</a>()</code>,
<code><a href="#topic+ytable_age_slice">ytable_age_slice</a>()</code>,
<code><a href="#topic+ytable_lookup">ytable_lookup</a>()</code>,
<code><a href="#topic+ytable_max_slice">ytable_max_slice</a>()</code>
</p>

<hr>
<h2 id='ytable_age_slice'>Take an Age Slice out of an fe_yield_table_object</h2><span id='topic+ytable_age_slice'></span>

<h3>Description</h3>

<p>Age slices out of yield tables are typically required for finding out the
site index for a given age-height pair, or for extracting a yield table value
when age and site index are given.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ytable_age_slice(age, variable, ytable)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ytable_age_slice_+3A_age">age</code></td>
<td>
<p>The age (in years) for which the time slice has to be drawn</p>
</td></tr>
<tr><td><code id="ytable_age_slice_+3A_variable">variable</code></td>
<td>
<p>Name of the yield table variable for which the slice is to
be taken</p>
</td></tr>
<tr><td><code id="ytable_age_slice_+3A_ytable">ytable</code></td>
<td>
<p>An object of class <code><a href="#topic+fe_yield_table">fe_yield_table</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>If the age provided by the user is not directly contained in the table,
linear interpolation and also extrapolation is used for obtaining the age
slice. Currently, this is only done inside the general age span covered by
the table (slot <code>$age_coverage</code> of the yield table object). For ages
outside this range, the slice is given for the nearest covered age extreme,
and a warning is issued.
</p>


<h3>Value</h3>

<p>A (named) vector representing the vertical slice of the desired
yield table variable. The names are the site indexes as defined in the
yield table's element <code>$site_index</code> (in the same order) with the
prefix &quot;si_&quot;.
</p>


<h3>See Also</h3>

<p>Other yield table functions: 
<code><a href="#topic+fe_yield_table">fe_yield_table</a>()</code>,
<code><a href="#topic+plot.fe_yield_table">plot.fe_yield_table</a>()</code>,
<code><a href="#topic+si_to_mai_age">si_to_mai_age</a>()</code>,
<code><a href="#topic+si_to_mai_max">si_to_mai_max</a>()</code>,
<code><a href="#topic+site_index">site_index</a>()</code>,
<code><a href="#topic+stocking_level">stocking_level</a>()</code>,
<code><a href="#topic+yield_tables_for_species">yield_tables_for_species</a></code>,
<code><a href="#topic+ytable_lookup">ytable_lookup</a>()</code>,
<code><a href="#topic+ytable_max_slice">ytable_max_slice</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  # Get the yield table heights of the Wiedemann 1943 Scots pine table at age
  # 73
  ytable_age_slice(
    fe_ytable_pine_wiedemann_moderate_1943,
    age = 73,
    variable = "h_q_m"
  )


</code></pre>

<hr>
<h2 id='ytable_lookup'>Look Up Values From Yield Tables</h2><span id='topic+ytable_lookup'></span>

<h3>Description</h3>

<p>Provide yield table values for a given age and site index. If necessary,
values are linearly inter- and extrapolated.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ytable_lookup(age, si, variable, ytable)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ytable_lookup_+3A_age">age</code></td>
<td>
<p>Stand age (years)</p>
</td></tr>
<tr><td><code id="ytable_lookup_+3A_si">si</code></td>
<td>
<p>Site index (according to the yield table of interest's
(<code>ytable</code>) site index definition). If si is outside the yield table's
coverage, an extrapolated value is returned, and a warning is raised.</p>
</td></tr>
<tr><td><code id="ytable_lookup_+3A_variable">variable</code></td>
<td>
<p>Name of the variable to be looked up. If the name is not
one of the variable names available in the <code><a href="#topic+fe_yield_table">fe_yield_table</a></code>
object, the function will terminate with an error.</p>
</td></tr>
<tr><td><code id="ytable_lookup_+3A_ytable">ytable</code></td>
<td>
<p>A yield table, must be an <code>fe_yield_table</code> object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The requested yield table value
</p>


<h3>See Also</h3>

<p>Other yield table functions: 
<code><a href="#topic+fe_yield_table">fe_yield_table</a>()</code>,
<code><a href="#topic+plot.fe_yield_table">plot.fe_yield_table</a>()</code>,
<code><a href="#topic+si_to_mai_age">si_to_mai_age</a>()</code>,
<code><a href="#topic+si_to_mai_max">si_to_mai_max</a>()</code>,
<code><a href="#topic+site_index">site_index</a>()</code>,
<code><a href="#topic+stocking_level">stocking_level</a>()</code>,
<code><a href="#topic+yield_tables_for_species">yield_tables_for_species</a></code>,
<code><a href="#topic+ytable_age_slice">ytable_age_slice</a>()</code>,
<code><a href="#topic+ytable_max_slice">ytable_max_slice</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  age &lt;- 72
  si  &lt;- 3.2

  ytable_lookup(
    age, si, "h_q_m", fe_ytable_spruce_gehrhardt_moderate_1921
  )

  ytable_lookup(
    age, si, "v_m3_ha", fe_ytable_spruce_gehrhardt_moderate_1921
  )

  ytable_lookup(
    age, si, "mai_m3_ha_yr", fe_ytable_spruce_gehrhardt_moderate_1921
  )


</code></pre>

<hr>
<h2 id='ytable_max_slice'>Take a Max Slice out of an fe_yield_table_object</h2><span id='topic+ytable_max_slice'></span>

<h3>Description</h3>

<p>Max slices out of yield tables are typically required for finding out the
mai max site index for a given height based standard site index.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ytable_max_slice(variable, ytable)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ytable_max_slice_+3A_variable">variable</code></td>
<td>
<p>Name of the yield table variable for which the slice is to
be taken</p>
</td></tr>
<tr><td><code id="ytable_max_slice_+3A_ytable">ytable</code></td>
<td>
<p>Name of the yield table variable for which the slice is to
be taken</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A max slice in the sense of this function means a vector that, for each of
the yield table's standard site indexes, contains the table's max value of
the variable of interest.
</p>


<h3>Value</h3>

<p>A (named) vector representing the max slice of the desired
yield table variable. The names are the site indexes as defined in the
yield table's element <code>$site_index</code> (in the same order) with the
prefix &quot;si_&quot;.
</p>


<h3>See Also</h3>

<p>Other yield table functions: 
<code><a href="#topic+fe_yield_table">fe_yield_table</a>()</code>,
<code><a href="#topic+plot.fe_yield_table">plot.fe_yield_table</a>()</code>,
<code><a href="#topic+si_to_mai_age">si_to_mai_age</a>()</code>,
<code><a href="#topic+si_to_mai_max">si_to_mai_max</a>()</code>,
<code><a href="#topic+site_index">site_index</a>()</code>,
<code><a href="#topic+stocking_level">stocking_level</a>()</code>,
<code><a href="#topic+yield_tables_for_species">yield_tables_for_species</a></code>,
<code><a href="#topic+ytable_age_slice">ytable_age_slice</a>()</code>,
<code><a href="#topic+ytable_lookup">ytable_lookup</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  ytable_max_slice("mai_m3_ha_yr", fe_ytable_beech_wiedemann_moderate_1931)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

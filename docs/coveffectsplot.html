<!DOCTYPE html><html lang="en"><head><title>Help for package coveffectsplot</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {coveffectsplot}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#covdatasim'><p>Correlated Covariates data</p></a></li>
<li><a href='#deltamethod'><p>The delta method</p></a></li>
<li><a href='#draw_key'><p>Horizontal key drawing functions from ggstance in case it is deprecated</p></a></li>
<li><a href='#expand_modelframe'><p>Expand covariate values choices and reference values varying one at a time</p></a></li>
<li><a href='#forest_plot'><p>Forest plot</p></a></li>
<li><a href='#get_sample_data'><p>Get sample dataset</p></a></li>
<li><a href='#prezista'><p>Prezista Drug Label Data</p></a></li>
<li><a href='#run_interactiveforestplot'><p>Run the interactiveforestplot application</p></a></li>
<li><a href='#wtage'><p>Weight Age CDC growth charts data</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Produce Forest Plots to Visualize Covariate Effects</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.6</td>
</tr>
<tr>
<td>Description:</td>
<td>Produce forest plots to visualize covariate effects using either
    the command line or an interactive 'Shiny' application.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://smouksassi.github.io/coveffectsplot/">https://smouksassi.github.io/coveffectsplot/</a>,
<a href="https://github.com/smouksassi/coveffectsplot">https://github.com/smouksassi/coveffectsplot</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/smouksassi/coveffectsplot/issues">https://github.com/smouksassi/coveffectsplot/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.0.0), data.table (&ge; 1.9.8)</td>
</tr>
<tr>
<td>Imports:</td>
<td>colourpicker, egg, grid, ggplot2 (&ge; 3.3.2), shiny, stats,
utils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>markdown, dplyr, tidyr, shinyjs, shinymeta, table1, clipr,
formatR, MASS, knitr, rmarkdown, mrgsolve, GGally, ggridges,
ggrepel, ggstance, patchwork, plotly, scales, shinyAce, Rcpp,
gamlss.dist, ggdist, ggh4x, ggpmisc, quantreg</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>pandoc with https support</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-01-12 13:10:17 UTC; smouksas</td>
</tr>
<tr>
<td>Author:</td>
<td>Samer Mouksassi <a href="https://orcid.org/0000-0002-7152-6654"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Benjamin Rich [aut],
  Dean Attali [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Samer Mouksassi &lt;samermouksassi@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-01-12 13:30:01 UTC</td>
</tr>
</table>
<hr>
<h2 id='covdatasim'>Correlated Covariates data</h2><span id='topic+covdatasim'></span>

<h3>Description</h3>

<p>A example dataset used to illustrate multivariate joint covariate effects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>covdatasim
</code></pre>


<h3>Format</h3>

<p>A dataset with 2000 rows and 5 variables
</p>

<dl>
<dt>ID</dt><dd><p>Subject ID</p>
</dd>
<dt>AGE</dt><dd><p>Age in years</p>
</dd>
<dt>WT</dt><dd><p>Weight in kg</p>
</dd>
<dt>Sex</dt><dd><p>0=male; 1=female</p>
</dd>
<dt>ALB</dt><dd><p>Albumin in g/dL</p>
</dd>
</dl>



<h3>Source</h3>

<p>simulated based on a real dataset
</p>

<hr>
<h2 id='deltamethod'>The delta method</h2><span id='topic+deltamethod'></span>

<h3>Description</h3>

<p>This is a copy of msm deltamethod function with the modification to add an environment 
to make it usable within a function or within a shiny app.
Delta method for approximating the standard error of a transformation
<code class="reqn">g(X)</code> of a random variable <code class="reqn">X = (x_1, x_2, \ldots)</code>, given estimates of the mean and covariance matrix of <code class="reqn">X</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>deltamethod(g, mean, cov, ses = TRUE, envir = parent.frame())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="deltamethod_+3A_g">g</code></td>
<td>
<p>A formula representing the transformation. The variables must be
labelled <code>x1, x2,...{}</code> For example,
</p>
<p><code>~ 1 / (x1 + x2)</code>
</p>
<p>If the transformation returns a vector, then a list of formulae representing
(<code class="reqn">g_1, g_2, \ldots</code>) can be provided, for example
</p>
<p><code>list( ~ x1 + x2, ~ x1 / (x1 + x2) )</code></p>
</td></tr>
<tr><td><code id="deltamethod_+3A_mean">mean</code></td>
<td>
<p>The estimated mean of <code class="reqn">X</code></p>
</td></tr>
<tr><td><code id="deltamethod_+3A_cov">cov</code></td>
<td>
<p>The estimated covariance matrix of <code class="reqn">X</code></p>
</td></tr>
<tr><td><code id="deltamethod_+3A_ses">ses</code></td>
<td>
<p>If <code>TRUE</code>, then the standard errors of <code class="reqn">g_1(X),
g_2(X),\ldots</code> are returned. Otherwise the covariance
matrix of <code class="reqn">g(X)</code> is returned.</p>
</td></tr>
<tr><td><code id="deltamethod_+3A_envir">envir</code></td>
<td>
<p>defaults to <code>parent.frame()</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>The delta method expands a differentiable function of a random variable
about its mean, usually with a first-order Taylor approximation, and then
takes the variance. For example, an approximation to the covariance matrix
of <code class="reqn">g(X)</code> is given by
</p>
<p style="text-align: center;"><code class="reqn"> Cov(g(X)) = g'(\mu) Cov(X) [g'(\mu)]^T </code>
</p>

<p>where <code class="reqn">\mu</code> is an estimate of the mean of <code class="reqn">X</code>.  This function
uses symbolic differentiation via <code><a href="stats.html#topic+deriv">deriv</a></code>.
</p>
<p>A limitation of this function is that variables created by the user are not
visible within the formula <code>g</code>.  To work around this, it is necessary
to build the formula as a string, using functions such as <code>sprintf</code>,
then to convert the string to a formula using <code>as.formula</code>.  See the
example below.
</p>
<p>If you can spare the computational time, bootstrapping is a more accurate
method of calculating confidence intervals or standard errors for
transformations of parameters. Simulation from the asymptotic
distribution of the MLEs (see e.g. Mandel 2013) is also a
convenient alternative.
</p>


<h3>Value</h3>

<p>A vector containing the standard errors of <code class="reqn">g_1(X), g_2(X),
\ldots</code> or a matrix containing the covariance of
<code class="reqn">g(X)</code>.
</p>


<h3>Author(s)</h3>

<p>C. H. Jackson <a href="mailto:chris.jackson@mrc-bsu.cam.ac.uk">chris.jackson@mrc-bsu.cam.ac.uk</a>
</p>


<h3>References</h3>

<p>Oehlert, G. W. (1992) <em>A note on the delta method</em>.
American Statistician 46(1).
</p>
<p>Mandel, M. (2013) <em>Simulation based confidence intervals for functions
with complicated derivatives.</em> The American Statistician 67(2):76-81.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

## Simple linear regression, E(y) = alpha + beta x 
x &lt;- 1:100
y &lt;- rnorm(100, 4*x, 5)
toy.lm &lt;- lm(y ~ x)
estmean &lt;- coef(toy.lm)
estvar &lt;- summary(toy.lm)$cov.unscaled * summary(toy.lm)$sigma^2

## Estimate of (1 / (alphahat + betahat))
1 / (estmean[1] + estmean[2])
## Approximate standard error
deltamethod (~ 1 / (x1 + x2), estmean, estvar) 

## We have a variable z we would like to use within the formula.
z &lt;- 1
## deltamethod (~ z / (x1 + x2), estmean, estvar) will not work.
## Instead, build up the formula as a string, and convert to a formula.
form &lt;- sprintf("~ %f / (x1 + x2)", z)
form
deltamethod(as.formula(form), estmean, estvar)


</code></pre>

<hr>
<h2 id='draw_key'>Horizontal key drawing functions from ggstance in case it is deprecated</h2><span id='topic+draw_key'></span><span id='topic+draw_key_hpath'></span><span id='topic+draw_key_pointrangeh'></span>

<h3>Description</h3>

<p>Horizontal key drawing functions from ggstance in case it is deprecated
</p>


<h3>Usage</h3>

<pre><code class='language-R'>draw_key_hpath(data, params, size)

draw_key_pointrangeh(data, params, size)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="draw_key_+3A_data">data</code></td>
<td>
<p>A single row data frame containing the scaled aesthetics to
display in this key</p>
</td></tr>
<tr><td><code id="draw_key_+3A_params">params</code></td>
<td>
<p>A list of additional parameters supplied to the geom.</p>
</td></tr>
<tr><td><code id="draw_key_+3A_size">size</code></td>
<td>
<p>Width and height of key in mm.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A grid grob.
</p>

<hr>
<h2 id='expand_modelframe'>Expand covariate values choices and reference values varying one at a time</h2><span id='topic+expand_modelframe'></span>

<h3>Description</h3>

<p>Expand covariate values choices and reference values varying one at a time
</p>


<h3>Usage</h3>

<pre><code class='language-R'>expand_modelframe(rv, covcol = "covname", ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="expand_modelframe_+3A_rv">rv</code></td>
<td>
<p>a data.frame with columns names of covariate(s) and values equal reference</p>
</td></tr>
<tr><td><code id="expand_modelframe_+3A_covcol">covcol</code></td>
<td>
<p>column name for the covariate being varied</p>
</td></tr>
<tr><td><code id="expand_modelframe_+3A_...">...</code></td>
<td>
<p>Arguments to be passed to methods</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame with combination of covariates
</p>


<h3>Examples</h3>

<pre><code class='language-R'>reference.values &lt;- data.frame(WT = 85, ALB = 45, SEX = 0)   
covcomb &lt;- expand_modelframe(
  WT  = c(56, 72, 98, 128), # P05, P25, P75, P95 # ref is P50
ALB = c(40, 50),          # P05, P95 # ref is P50
  SEX = c(1),               # Reference is for SEX=0 (female)
  rv = reference.values)
covcomb
</code></pre>

<hr>
<h2 id='forest_plot'>Forest plot</h2><span id='topic+forest_plot'></span>

<h3>Description</h3>

<p>Produce forest plots to visualize covariate effects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>forest_plot(
  data,
  facet_formula = "covname~paramname",
  xlabel = "",
  ylabel = "",
  x_facet_text_size = 13,
  y_facet_text_size = 13,
  x_facet_text_angle = 0,
  y_facet_text_angle = 0,
  x_facet_text_vjust = 0.5,
  y_facet_text_vjust = 0.5,
  x_facet_text_hjust = 0.5,
  y_facet_text_hjust = 0.5,
  x_facet_text_col = "black",
  y_facet_text_col = "black",
  xy_facet_text_bold = TRUE,
  x_label_text_size = 16,
  y_label_text_size = 16,
  legend_title_size = 12,
  break_ylabel = FALSE,
  y_label_text_width = 25,
  table_text_size = 7,
  table_text_colour_overwrite = FALSE,
  table_text_colour = "none",
  base_size = 22,
  theme_benrich = FALSE,
  table_title = "",
  table_title_size = 15,
  ref_legend_text = "",
  area_legend_text = "",
  interval_legend_text = "",
  interval_legend_title = "",
  shape_legend_title = "",
  legend_order = c("pointinterval", "ref", "area", "shape"),
  combine_area_ref_legend = TRUE,
  combine_interval_shape_legend = FALSE,
  legend_position = "top",
  show_ref_area = TRUE,
  ref_area = c(0.8, 1.25),
  ref_area_col = "#BEBEBE50",
  show_ref_value = TRUE,
  ref_value = 1,
  ref_value_col = "black",
  ref_value_size = 1,
  ref_value_linetype = "dashed",
  ref_value_by_panel = FALSE,
  ref_value_by_panel_data = NULL,
  interval_col = "blue",
  interval_size = 1,
  interval_fatten = 4,
  interval_linewidth = 1,
  interval_shape = "circle small",
  bsv_col = "red",
  bsv_shape = "circle small",
  bsv_text_id = c("BSV", "bsv", "IIV", "Bsv"),
  interval_bsv_text = "",
  strip_col = "#E5E5E5",
  paramname_shape = FALSE,
  paramname_color = FALSE,
  legend_shape_reverse = FALSE,
  legend_color_reverse = FALSE,
  facet_switch = c("both", "y", "x", "none"),
  facet_scales = c("fixed", "free_y", "free_x", "free"),
  facet_space = c("fixed", "free_x", "free_y", "free"),
  facet_labeller = "label_value",
  label_wrap_width = 55,
  facet_labeller_multiline = FALSE,
  strip_placement = c("inside", "outside"),
  strip_outline = TRUE,
  facet_spacing = 5.5,
  major_x_ticks = NULL,
  major_x_labels = NULL,
  minor_x_ticks = NULL,
  x_range = NULL,
  logxscale = FALSE,
  show_yaxis_gridlines = TRUE,
  show_xaxis_gridlines = TRUE,
  show_table_facet_strip = "none",
  table_facet_switch = c("both", "y", "x", "none"),
  show_table_yaxis_tick_label = FALSE,
  reserve_table_xaxis_label_space = TRUE,
  table_panel_border = TRUE,
  table_position = c("right", "below", "none"),
  plot_table_ratio = 4,
  vertical_dodge_height = 0.8,
  legend_space_x_mult = 1,
  legend_ncol_interval = 1,
  legend_ncol_shape = 1,
  plot_margin = c(5.5, 5.5, 5.5, 5.5),
  table_margin = c(5.5, 5.5, 5.5, 5.5),
  legend_margin = c(0, 0.1, -0.1, 0),
  parse_xlabel = FALSE,
  parse_ylabel = FALSE,
  plot_title = "\n",
  return_list = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="forest_plot_+3A_data">data</code></td>
<td>
<p>Data to use.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_facet_formula">facet_formula</code></td>
<td>
<p>Facet formula.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_xlabel">xlabel</code></td>
<td>
<p>X axis title.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_ylabel">ylabel</code></td>
<td>
<p>Y axis title.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_x_facet_text_size">x_facet_text_size</code></td>
<td>
<p>Facet text size X.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_y_facet_text_size">y_facet_text_size</code></td>
<td>
<p>Facet text size Y.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_x_facet_text_angle">x_facet_text_angle</code></td>
<td>
<p>Facet text angle X.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_y_facet_text_angle">y_facet_text_angle</code></td>
<td>
<p>Facet text angle Y.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_x_facet_text_vjust">x_facet_text_vjust</code></td>
<td>
<p>Facet text vertical justification.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_y_facet_text_vjust">y_facet_text_vjust</code></td>
<td>
<p>Facet text vertical justification.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_x_facet_text_hjust">x_facet_text_hjust</code></td>
<td>
<p>Facet text horizontal justification.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_y_facet_text_hjust">y_facet_text_hjust</code></td>
<td>
<p>Facet text horizontal justification.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_x_facet_text_col">x_facet_text_col</code></td>
<td>
<p>Facet text color default to black.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_y_facet_text_col">y_facet_text_col</code></td>
<td>
<p>Facet text color default to black.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_xy_facet_text_bold">xy_facet_text_bold</code></td>
<td>
<p>Bold Facet text. Logical TRUE FALSE.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_x_label_text_size">x_label_text_size</code></td>
<td>
<p>X axis labels size.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_y_label_text_size">y_label_text_size</code></td>
<td>
<p>Y axis labels size.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_legend_title_size">legend_title_size</code></td>
<td>
<p>Legend title size if present.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_break_ylabel">break_ylabel</code></td>
<td>
<p>Split Y axis labels into multiple lines. Logical FALSE TRUE.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_y_label_text_width">y_label_text_width</code></td>
<td>
<p>Number of characters to break Y axis labels.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_table_text_size">table_text_size</code></td>
<td>
<p>Table text size.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_table_text_colour_overwrite">table_text_colour_overwrite</code></td>
<td>
<p>Logical TRUE FALSE.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_table_text_colour">table_text_colour</code></td>
<td>
<p>Table text color to be used and overwrites mapped color</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_base_size">base_size</code></td>
<td>
<p>theme_bw base_size for the plot and table.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_theme_benrich">theme_benrich</code></td>
<td>
<p>apply Benjamin Rich's theming.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_table_title">table_title</code></td>
<td>
<p>What text to use for table title (theme_benrich has a default).</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_table_title_size">table_title_size</code></td>
<td>
<p>table title size.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_ref_legend_text">ref_legend_text</code></td>
<td>
<p>Reference legend text.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_area_legend_text">area_legend_text</code></td>
<td>
<p>Area legend text.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_interval_legend_text">interval_legend_text</code></td>
<td>
<p>Pointinterval legend text.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_interval_legend_title">interval_legend_title</code></td>
<td>
<p>Pointinterval legend title defaults to empty.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_shape_legend_title">shape_legend_title</code></td>
<td>
<p>Shape legend title defaults to empty.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_legend_order">legend_order</code></td>
<td>
<p>Legend order. A four-element vector with the following
items ordered in your desired order: &quot;pointinterval&quot;, &quot;ref&quot;, &quot;area&quot;, &quot;shape&quot;.
if an item is absent the legend will be omitted.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_combine_area_ref_legend">combine_area_ref_legend</code></td>
<td>
<p>Combine reference and area legends if they
share the same text?</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_combine_interval_shape_legend">combine_interval_shape_legend</code></td>
<td>
<p>Combine interval and shape legends?</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_legend_position">legend_position</code></td>
<td>
<p>where to put the legend: &quot;top&quot;, &quot;bottom&quot;,&quot;right&quot;,&quot;none&quot;</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_show_ref_area">show_ref_area</code></td>
<td>
<p>Show reference window?</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_ref_area">ref_area</code></td>
<td>
<p>Reference area. Two-element numeric vector multiplying the ref_value.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_ref_area_col">ref_area_col</code></td>
<td>
<p>Reference area background color.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_show_ref_value">show_ref_value</code></td>
<td>
<p>Show reference line?</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_ref_value">ref_value</code></td>
<td>
<p>X intercept of reference line.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_ref_value_col">ref_value_col</code></td>
<td>
<p>Reference line color.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_ref_value_size">ref_value_size</code></td>
<td>
<p>Reference line size.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_ref_value_linetype">ref_value_linetype</code></td>
<td>
<p>Reference line linetype.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_ref_value_by_panel">ref_value_by_panel</code></td>
<td>
<p>The ref_value vary by panel TRUE or FALSE.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_ref_value_by_panel_data">ref_value_by_panel_data</code></td>
<td>
<p>if ref_value_by_panel is TRUE, data.frame to use for Reference (lines).</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_interval_col">interval_col</code></td>
<td>
<p>Point range color. One or Multiple values.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_interval_size">interval_size</code></td>
<td>
<p>Point range size. Default to 1</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_interval_fatten">interval_fatten</code></td>
<td>
<p>Point range fatten. Default to 4</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_interval_linewidth">interval_linewidth</code></td>
<td>
<p>Point range line width. Default to 1</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_interval_shape">interval_shape</code></td>
<td>
<p>Shape used for the Point Range. Default to &quot;circle small&quot;.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_bsv_col">bsv_col</code></td>
<td>
<p>BSV pointinterval color. One value.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_bsv_shape">bsv_shape</code></td>
<td>
<p>Shape used for the BSV Point Range. Default to &quot;circle small&quot;.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_bsv_text_id">bsv_text_id</code></td>
<td>
<p>Text string(s) to identify BSV. Default to c(&quot;BSV&quot;,&quot;bsv&quot;,&quot;IIV&quot;,&quot;Bsv&quot;)</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_interval_bsv_text">interval_bsv_text</code></td>
<td>
<p>BSV legend text.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_strip_col">strip_col</code></td>
<td>
<p>Strip background color.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_paramname_shape">paramname_shape</code></td>
<td>
<p>Map symbol to parameter(s) name? TRUE or FALSE.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_paramname_color">paramname_color</code></td>
<td>
<p>Map color to parameter(s) name? TRUE or FALSE.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_legend_shape_reverse">legend_shape_reverse</code></td>
<td>
<p>TRUE or FALSE.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_legend_color_reverse">legend_color_reverse</code></td>
<td>
<p>TRUE or FALSE.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_facet_switch">facet_switch</code></td>
<td>
<p>Facet switch to near axis. Possible values: &quot;both&quot;, &quot;y&quot;,
&quot;x&quot;, &quot;none&quot;.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_facet_scales">facet_scales</code></td>
<td>
<p>Facet scales. Possible values: &quot;free_y&quot;, &quot;fixed&quot;,
&quot;free_x&quot;, &quot;free&quot;.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_facet_space">facet_space</code></td>
<td>
<p>Facet spaces. Possible values: &quot;fixed&quot;, &quot;free_x&quot;,
&quot;free_y&quot;, &quot;free&quot;.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_facet_labeller">facet_labeller</code></td>
<td>
<p>Facet Labeller. Default &quot;label_value&quot;
any other valid 'facet_grid' labeller can be specified.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_label_wrap_width">label_wrap_width</code></td>
<td>
<p>How many characters before breaking the line. Numeric value.
any other valid 'facet_grid' labeller can be specified.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_facet_labeller_multiline">facet_labeller_multiline</code></td>
<td>
<p>break facet strips into multiple lines. Logical TRUE FALSE.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_strip_placement">strip_placement</code></td>
<td>
<p>Strip placement. Possible values: &quot;inside&quot;, &quot;outside&quot;.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_strip_outline">strip_outline</code></td>
<td>
<p>Draw rectangle around the Strip. Logical TRUE FALSE.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_facet_spacing">facet_spacing</code></td>
<td>
<p>Control the space between facets in points.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_major_x_ticks">major_x_ticks</code></td>
<td>
<p>X axis major ticks. Numeric vector.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_major_x_labels">major_x_labels</code></td>
<td>
<p>X axis labels. Character vector should be same length as major_x_ticks.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_minor_x_ticks">minor_x_ticks</code></td>
<td>
<p>X axis minor ticks. Numeric vector.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_x_range">x_range</code></td>
<td>
<p>Range of X values. Two-element numeric vector.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_logxscale">logxscale</code></td>
<td>
<p>X axis log scale. Logical TRUE FALSE.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_show_yaxis_gridlines">show_yaxis_gridlines</code></td>
<td>
<p>Draw the y axis gridlines. Logical TRUE FALSE.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_show_xaxis_gridlines">show_xaxis_gridlines</code></td>
<td>
<p>Draw the x axis gridlines. Logical TRUE FALSE.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_show_table_facet_strip">show_table_facet_strip</code></td>
<td>
<p>Possible values: &quot;none&quot;, &quot;both&quot;, &quot;y&quot;, &quot;x&quot;.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_table_facet_switch">table_facet_switch</code></td>
<td>
<p>Table facet switch to near axis. Possible values: &quot;both&quot;, &quot;y&quot;,
&quot;x&quot;, &quot;none&quot;.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_show_table_yaxis_tick_label">show_table_yaxis_tick_label</code></td>
<td>
<p>Show table y axis ticks and labels?</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_reserve_table_xaxis_label_space">reserve_table_xaxis_label_space</code></td>
<td>
<p>keep space for the x axis label to keep alignment.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_table_panel_border">table_panel_border</code></td>
<td>
<p>Draw the panel border for the table. Logical TRUE FALSE.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_table_position">table_position</code></td>
<td>
<p>Table position. Possible values: &quot;right&quot;, &quot;below&quot;, &quot;none&quot;.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_plot_table_ratio">plot_table_ratio</code></td>
<td>
<p>Plot-to-table ratio. Suggested value between 1-5.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_vertical_dodge_height">vertical_dodge_height</code></td>
<td>
<p>Amount of vertical dodging to apply on segments and table text.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_legend_space_x_mult">legend_space_x_mult</code></td>
<td>
<p>Multiplier to adjust the spacing between legend items.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_legend_ncol_interval">legend_ncol_interval</code></td>
<td>
<p>Control the number of columns for the pointinterval legend.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_legend_ncol_shape">legend_ncol_shape</code></td>
<td>
<p>Control the number of columns for the shape legend.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_plot_margin">plot_margin</code></td>
<td>
<p>Control the white space around the main plot. Vector of four numeric values
for the top, right, bottom and left sides.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_table_margin">table_margin</code></td>
<td>
<p>Control the white space around the table. Vector of four numeric values
for the top, right, bottom and left sides.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_legend_margin">legend_margin</code></td>
<td>
<p>Control the white space around the plot legend. Vector of four numeric values
for the top, right, bottom and left sides.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_parse_xlabel">parse_xlabel</code></td>
<td>
<p>treat xlabel as an expression. Logical FALSE TRUE.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_parse_ylabel">parse_ylabel</code></td>
<td>
<p>treat ylabel as an expression. Logical FALSE TRUE.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_plot_title">plot_title</code></td>
<td>
<p>main plot title default to a line break.</p>
</td></tr>
<tr><td><code id="forest_plot_+3A_return_list">return_list</code></td>
<td>
<p>What to return if True a list of the main and table plots is returned
instead of the gtable/plot.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>library(dplyr)
library(ggplot2)

# Example 1

plotdata &lt;- get_sample_data("forest-plot-table.csv")
plotdata &lt;- plotdata %&gt;%
  mutate(midlabel = format(round(mid,2), nsmall = 2),
         lowerlabel = format(round(lower,2), nsmall = 2),
         upperlabel = format(round(upper,2), nsmall = 2),
         LABEL = paste0(midlabel, " [", lowerlabel, "-", upperlabel, "]"))
param &lt;- "BZD AUC"
plotdata &lt;-  filter(plotdata,paramname==param)
plotdata$covname &lt;- reorder(plotdata$covname,plotdata$upper,FUN =max)
plotdata$label &lt;- reorder(plotdata$label,plotdata$scen)
covs &lt;- c("WEIGHT","AGE")
plotdata &lt;-  filter(plotdata,covname%in%covs)
forest_plot(plotdata,
            ref_legend_text = "Reference (vertical line)",
            area_legend_text = "Reference (vertical line)",
            xlabel = paste("Fold Change in", param, "Relative to Reference"),
            logxscale = TRUE, major_x_ticks =c(0.1,1,1.5),
            show_ref_area = FALSE,
            paramname_color =TRUE,
            interval_col =c("steelblue","red","steelblue","red"),
            facet_formula = "covname~.",
            facet_scales = "free_y",
            facet_space = "free_y",
            show_table_facet_strip = "none",
            table_position = "right",
            plot_title = "",
            plot_table_ratio = 4)

# Example 2

plotdata &lt;- get_sample_data("forest-plot-table.csv")
plotdata &lt;- plotdata %&gt;%
  mutate(midlabel = format(round(mid,2), nsmall = 2),
         lowerlabel = format(round(lower,2), nsmall = 2),
         upperlabel = format(round(upper,2), nsmall = 2),
         LABEL = paste0(midlabel, " [", lowerlabel, "-", upperlabel, "]"))
param &lt;- c("BZD AUC","BZD Cmax")
plotdata &lt;-  filter(plotdata,paramname%in%param)
plotdata &lt;-  filter(plotdata,covname%in%"WEIGHT")
plotdata$covname &lt;- reorder(plotdata$covname,plotdata$upper,FUN =max)
plotdata$label &lt;- reorder(plotdata$label,plotdata$scen)
forest_plot(plotdata,
            ref_legend_text = "Reference (vertical line)",
            area_legend_text = "Reference (vertical line)",
            xlabel = paste("Fold Change of Parameter", "Relative to Reference"),
            show_ref_area = FALSE,
            facet_formula = "covname~paramname",
            facet_scales = "free_y",
            facet_space = "free_y",
            x_facet_text_size = 10,
            y_facet_text_size = 10,
            y_label_text_size = 10,
            y_label_text_width = 15,
            x_label_text_size = 10,
            facet_switch = "both",
            show_table_facet_strip = "both",
            show_table_yaxis_tick_label = TRUE,
            table_position = "below",
            plot_title = "",
            plot_table_ratio = 1)
## Not run: 

# Example 3a

plotdata &lt;- get_sample_data("forest-plot-table.csv")
plotdata &lt;- plotdata %&gt;%
  mutate(midlabel = format(round(mid,2), nsmall = 2),
         lowerlabel = format(round(lower,2), nsmall = 2),
         upperlabel = format(round(upper,2), nsmall = 2),
         LABEL = paste0(midlabel, " [", lowerlabel, "-", upperlabel, "]"))
plotdata$covname &lt;- reorder(plotdata$covname,plotdata$upper,FUN =max)
plotdata$label &lt;- reorder(plotdata$label,plotdata$scen)

plotdata$compound &lt;- c(rep("1-OH",30),rep("BZD",30))
plotdata$paramname &lt;- c(rep("AUC",15),rep("CMAX",15),rep("AUC",15),rep("CMAX",15))

forest_plot(plotdata,
            ref_area = c(0.8, 1.2),
           x_facet_text_size = 13,
           y_facet_text_size = 13,
            ref_legend_text = "Reference (vertical line)\n+/- 20% limits (colored area)",
            area_legend_text = "Reference (vertical line)\n+/- 20% limits (colored area)",
            xlabel = "Fold Change Relative to Parameter",
            facet_formula = covname~compound,
            facet_switch = "both",
            facet_scales = "free",
            facet_space = "fixed",
            paramname_shape = TRUE,
            legend_shape_reverse = TRUE,
            interval_shape = c("square","triangle"),
            paramname_color =  FALSE,
            combine_interval_shape_legend = FALSE,
            table_position = "right", plot_title = "",
            ref_area_col = rgb( col2rgb("gray50")[1], col2rgb("gray50")[2],col2rgb("gray50")[3],
                                max = 255, alpha = 0.1*255 ) ,
            interval_col = c("steelblue"),
            strip_col = "lightblue",
            plot_table_ratio = 1.5)
            
# Example 3b
        
plotdata$paramname &lt;- c(rep("1-OH",30),rep("BZD",30))
plotdata$paramname2 &lt;- c(rep("AUC",15),rep("CMAX",15),rep("AUC",15),rep("CMAX",15))
forest_plot(plotdata,
           show_ref_area = TRUE,
           x_facet_text_size = 13,
           y_facet_text_size = 13,
           ref_legend_text = "Reference (vertical line)",
           area_legend_text = "Reference (vertical line)",
           xlabel = "Fold Change Relative to Parameter",
           facet_formula = covname~paramname2,
           facet_switch = "both",
           facet_scales = "free",
           facet_space = "free",
           legend_order = c("shape","pointinterval","ref"),
           paramname_shape = TRUE,
           interval_shape = c("diamond","diamond filled",
                              "diamond","diamond filled"),
           paramname_color =  TRUE,
           combine_interval_shape_legend = TRUE,
           legend_shape_reverse = TRUE,
           legend_color_reverse = TRUE,
           interval_legend_title="Median (points)\n95% CI (horizontal lines)",
           table_position = "right", plot_title = "",
           ref_area_col = "gray85" ,
           interval_col = c("#ee3124", "#fdbb2f"),
           strip_col = "#475c6b",
           y_facet_text_col = "white",x_facet_text_col = "white",
           major_x_labels         = c("1/2", "0.8","1", "1.25", "2"),
           logxscale = TRUE, major_x_ticks =c(0.5,0.8,1,1.25,2),
           table_text_size = 5,
           plot_table_ratio = 1.5,
           ref_value_by_panel = TRUE,
           ref_value_by_panel_data = as.data.frame(
           plotdata %&gt;% 
           distinct(paramname2,covname) %&gt;% 
           dplyr::mutate(xintercept=ifelse(paramname2=="CMAX",1,1.2))))

# Example 3

plotdata &lt;- get_sample_data("forestplotdatacpidata.csv")
forest_plot(plotdata,
            ref_area = c(0.8, 1.2),
            x_facet_text_size = 12,
            y_facet_text_size = 12,
            y_label_text_size = 10,
            x_label_text_size = 10,
            table_text_size = 6,
            plot_table_ratio = 1.5,
            ref_legend_text = "Reference (vertical line)\n+/- 20% limits (colored area)",
            area_legend_text = "Reference (vertical line)\n+/- 20% limits (colored area)",
            xlabel = "Fold Change Relative to RHZE",
            facet_formula = "covname~paramname",
            table_position = "below",
            show_table_facet_strip = "both",
            show_table_yaxis_tick_label = TRUE)

# Example 4
plotdata &lt;- get_sample_data("dataforest.csv")
plotdata &lt;- plotdata %&gt;%
  dplyr::mutate(midlabel = format(round(mid,2), nsmall = 2),
         lowerlabel = format(round(lower,2), nsmall = 2),
         upperlabel = format(round(upper,2), nsmall = 2),
         LABEL = paste0(midlabel, " [", lowerlabel, "-", upperlabel, "]"))
plotdata &lt;- plotdata %&gt;%
  filter(covname%in%c("Weight"))
plotdata$label &lt;- as.factor(as.character(plotdata$label))
plotdata$label &lt;- factor(plotdata$label, c("36.2 kg","66 kg","110 kg"))
forest_plot(plotdata,
            ref_area = c(0.8, 1.2),
            x_facet_text_size = 13,
            y_facet_text_size = 13,
            ref_legend_text = "Reference (vertical line)\n+/- 20% limits (colored area)",
            area_legend_text = "Reference (vertical line)\n+/- 20% limits (colored area)",
            xlabel = "Fold Change Relative to Parameter",
            facet_formula = "covname~paramname",
            facet_switch = "both",
            facet_scales = "free",
            facet_space = "fixed",
            table_position = "below",
            plot_table_ratio = 1,
            show_table_facet_strip = "both",
            show_table_yaxis_tick_label = TRUE)

# Example 5

forest_plot(plotdata,
            ref_area = c(0.8, 1.2),
            x_facet_text_size = 13,
            y_facet_text_size = 13,
            ref_legend_text = "Reference (vertical line)\n+/- 20% limits (colored area)",
            area_legend_text = "Reference (vertical line)\n+/- 20% limits (colored area)",
            xlabel = "Fold Change Relative to Parameter",
            facet_formula = "covname~.",
            facet_switch = "both",
            facet_scales = "free",
            facet_space = "fixed",
            paramname_shape = TRUE,
            table_position = "none",
            ref_area_col = rgb( col2rgb("gray50")[1], col2rgb("gray50")[2],col2rgb("gray50")[3],
            max = 255, alpha = 0.1*255 ) ,
            interval_col = "steelblue",
            strip_col = "lightblue",
            plot_table_ratio = 1)

## End(Not run)
</code></pre>

<hr>
<h2 id='get_sample_data'>Get sample dataset</h2><span id='topic+get_sample_data'></span>

<h3>Description</h3>

<p>Get a sample dataset that is included with the package to plot a forest plot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_sample_data(dataset = "dfall.csv")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_sample_data_+3A_dataset">dataset</code></td>
<td>
<p>A sample dataset file.</p>
</td></tr>
</table>

<hr>
<h2 id='prezista'>Prezista Drug Label Data</h2><span id='topic+prezista'></span>

<h3>Description</h3>

<p>A dataset containing an excerpt from the official Prezista FDA Drug Label
to help in the app exploration.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prezista
</code></pre>


<h3>Format</h3>

<p>A dataset with 33 rows and 6 variables
</p>

<dl>
<dt>covname</dt><dd><p>Covariate Name, a character variable with two values
Protease Inihibitors and Other Antiretrovirals</p>
</dd>
<dt>label</dt><dd><p>Covariate value label, a character variable with several possible values</p>
</dd>
<dt>paramname</dt><dd><p>Parameter on which the effects are shown,
a character variable with three possible values
Cmax, AUC and Cmin</p>
</dd>
<dt>mid</dt><dd><p>Middle value for the effects, the median from the uncertainty distribution</p>
</dd>
<dt>lower</dt><dd><p>Lower value for the effects usually the 5% from the uncertainty distribution</p>
</dd>
<dt>upper</dt><dd><p>Upper value for the effects usually the 95% from the uncertainty distribution</p>
</dd>
</dl>



<h3>Source</h3>

<p>Table 16 from <a href="https://www.accessdata.fda.gov/drugsatfda_docs/label/2017/021976s045_202895s020lbl.pdf">https://www.accessdata.fda.gov/drugsatfda_docs/label/2017/021976s045_202895s020lbl.pdf</a>
</p>

<hr>
<h2 id='run_interactiveforestplot'>Run the interactiveforestplot application</h2><span id='topic+run_interactiveforestplot'></span>

<h3>Description</h3>

<p>Run the <code>interactiveforestplot</code> application.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>run_interactiveforestplot(data = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="run_interactiveforestplot_+3A_data">data</code></td>
<td>
<p>optional data to load when the app is launched</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  run_interactiveforestplot()
}
</code></pre>

<hr>
<h2 id='wtage'>Weight Age CDC growth charts data</h2><span id='topic+wtage'></span>

<h3>Description</h3>

<p>Weight-for-age, 2 to 20 years, LMS parameters and selected smoothed weight percentiles in kilograms, by sex and age.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wtage
</code></pre>


<h3>Format</h3>

<p>A dataset with 436 rows and 14 variables
</p>

<dl>
<dt>Sex</dt><dd><p>1=male; 2=female</p>
</dd>
<dt>Agemos</dt><dd><p>Age in months</p>
</dd>
<dt>L</dt><dd><p>skewness distribution parameter</p>
</dd>
<dt>M</dt><dd><p>location distribution parameter</p>
</dd>
<dt>S</dt><dd><p>scale distribution parameter</p>
</dd>
<dt>P3</dt><dd><p>Smoothed third percentile</p>
</dd>
<dt>P5</dt><dd><p>Smoothed fifth percentile</p>
</dd>
<dt>P10</dt><dd><p>Smoothed tenth percentile</p>
</dd>
<dt>P25</dt><dd><p>Smoothed twenty fifth percentile</p>
</dd>
<dt>P50</dt><dd><p>Smoothed fiftieth percentile</p>
</dd>
<dt>P75</dt><dd><p>Smoothed seventy fifth percentile</p>
</dd>
<dt>P90</dt><dd><p>Smoothed ninetieth percentile</p>
</dd>
<dt>P95</dt><dd><p>Smoothed ninety fifth percentile</p>
</dd>
<dt>P97</dt><dd><p>Smoothed ninety seventh percentile</p>
</dd>
</dl>



<h3>Source</h3>

<p>CDC website <a href="https://www.cdc.gov/growthcharts/data/zscore/wtage.csv">https://www.cdc.gov/growthcharts/data/zscore/wtage.csv</a>
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

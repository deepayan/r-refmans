<!DOCTYPE html><html><head><title>Help for package aoristic</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {aoristic}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#aoristic.all.graph'><p>Creating a kml file with aoristic graph</p></a></li>
<li><a href='#aoristic.datacheck'><p>Check aoristic input data</p></a></li>
<li><a href='#aoristic.density'><p>Aoristic graph by grid count</p></a></li>
<li><a href='#aoristic.df'><p>Calculate aoristic weights</p></a></li>
<li><a href='#aoristic.graph'><p>Create aoristic distribution chart</p></a></li>
<li><a href='#aoristic.grid'><p>Aoristic graph by grid count</p></a></li>
<li><a href='#aoristic.map'><p>Plot aoristic probabilities for one hour</p></a></li>
<li><a href='#aoristic.plot'><p>Summarize weekly aoristic weights</p></a></li>
<li><a href='#aoristic.ref'><p>Hour of the week reference chart</p></a></li>
<li><a href='#aoristic.shp'><p>Aoristic graph by shapefile boundary</p></a></li>
<li><a href='#aoristic.spdf'><p>Creating a spatial.polygon.data.frame for aoristic analysis</p></a></li>
<li><a href='#aoristic.summary'><p>Summarize weekly aoristic weights</p></a></li>
<li><a href='#arlington'><p>Arlington burglary incident data</p></a></li>
<li><a href='#CouncilDistrict'><p>Council district (spatial polygon data frame)</p></a></li>
<li><a href='#dcburglaries'><p>Burglaries, Washington DC, first six months of 2016</p></a></li>
<li><a href='#dcburgsum'><p>Summary output from aoristic analysis of DC burglaries</p></a></li>
<li><a href='#NYburg'><p>Residential burglaries, Manhattan borough, New York City, NY, 2019</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Generates Aoristic Probability Distributions</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1.1</td>
</tr>
<tr>
<td>Author:</td>
<td>Jerry Ratcliffe</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jerry Ratcliffe &lt;jhr@temple.edu&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>It can sometimes be difficult to ascertain when some events (such as property crime)
    occur because the victim is not present when the crime happens. As a result, police databases often
    record a 'start' (or 'from') date and time, and an 'end' (or 'to') date and time. The time span between
    these date/times can be minutes, hours, or sometimes days, hence the term 'Aoristic'. 
    Aoristic is one of the past tenses in Greek and represents an uncertain occurrence in time. 
    For events with a location describes with either a latitude/longitude, or X,Y coordinate pair, 
    and a start and end date/time, this package generates an aoristic data frame with aoristic weighted
    probability values for each hour of the week, for each observation. The coordinates are not 
    necessary for the program to calculate aoristic weights; however, they are part of this package 
    because a spatial component has been integral to aoristic analysis from the start. Dummy 
    coordinates can be introduced if the user only has temporal data. Outputs include an aoristic 
    data frame, as well as summary graphs and displays.   
        For more information see:
    Ratcliffe, JH (2002) Aoristic signatures and the temporal analysis of high volume crime patterns, 
    Journal of Quantitative Criminology. 18 (1): 23-43.
    Note: This package replaces an original 'aoristic' package (version 0.6) by George Kikuchi that 
    has been discontinued with his permission. </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Imports:</td>
<td>openxlsx, ggplot2, grid, lubridate, plyr, scales, tidyr,
dplyr, stats</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.1</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-10-20 19:47:05 UTC; jhr</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-10-20 20:15:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='aoristic.all.graph'>Creating a kml file with aoristic graph</h2><span id='topic+aoristic.all.graph'></span>

<h3>Description</h3>

<p>This function is defunct
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aoristic.all.graph(...)
</code></pre>

<hr>
<h2 id='aoristic.datacheck'>Check aoristic input data</h2><span id='topic+aoristic.datacheck'></span>

<h3>Description</h3>

<p>A function that flags datetime errors with aoristic input data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aoristic.datacheck(data1, Xcoord, Ycoord, DateTimeFrom, DateTimeTo)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="aoristic.datacheck_+3A_data1">data1</code></td>
<td>
<p>data.frame with a minimum of 4 columns with X, Y coords, Start and End date/time</p>
</td></tr>
<tr><td><code id="aoristic.datacheck_+3A_xcoord">Xcoord</code></td>
<td>
<p>a vector of the X coordinate or latitude (numeric object)</p>
</td></tr>
<tr><td><code id="aoristic.datacheck_+3A_ycoord">Ycoord</code></td>
<td>
<p>a vector of the Y coordinate or longitude (numeric object)</p>
</td></tr>
<tr><td><code id="aoristic.datacheck_+3A_datetimefrom">DateTimeFrom</code></td>
<td>
<p>a  vector of the column name for FromDateTime (POSIXct date-time object)</p>
</td></tr>
<tr><td><code id="aoristic.datacheck_+3A_datetimeto">DateTimeTo</code></td>
<td>
<p>a vector of the column name for ToDateTime (POSIXct date-time object)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The aoristic.df function handles data with Start (or From) and End (or To) datetime objects. Sometimes
these data can be messy or inaccurately recorded (such as crime data from some police departments). This
function checks for common problems and reports the result in a column labeled 'aoristic_datacheck'.
</p>
<p>Rows with missing 'End' information are flagged with '1' and counted in the console.
Rows where the 'End' datetime occurs before the 'Start' datetime are flagged '2'. 
</p>
<p>Note that aoristic.df() will still run even with the data issues. Where the 'End'
datetime is missing, the aoristic value will be assigned to the 'Start' datetime hour.
When the 'End' datetime comes before the 'Start' datetime, the 'Start' datetime is only used
and again, the aoristic value is assigned to the 'Start' datetime hour.
</p>


<h3>Value</h3>

<p>A data frame flagging any problems or logical errors from an aoristic data check
</p>


<h3>References</h3>

<p>Ratcliffe, J. H. (2002). Aoristic signatures and the spatio-temporal analysis of high volume crime patterns. Journal of Quantitative Criminology, 18(1), 23-43.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>datacheck.df &lt;- aoristic.datacheck(dcburglaries, 'X', 'Y', 'StartDateTime', 'EndDateTime')
</code></pre>

<hr>
<h2 id='aoristic.density'>Aoristic graph by grid count</h2><span id='topic+aoristic.density'></span>

<h3>Description</h3>

<p>This function is defunct
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aoristic.density(...)
</code></pre>

<hr>
<h2 id='aoristic.df'>Calculate aoristic weights</h2><span id='topic+aoristic.df'></span>

<h3>Description</h3>

<p>Calculates aoristic proportional weights across 168 units representing each hour of the week (24 hours x 7 days). 
It is designed for situations when an event time is not know but could be spread across numerous
hours or days, and is represented by a Start (or From) date and time, and an End (or To) date and time.
The output retains the source data, and can be reimported into a GIS for spatial analysis. The output 
from this function is used in other aoristic library functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aoristic.df(data1, Xcoord, Ycoord, DateTimeFrom, DateTimeTo)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="aoristic.df_+3A_data1">data1</code></td>
<td>
<p>data frame with a minimum of 4 columns with X, Y coords, Start and End date/time</p>
</td></tr>
<tr><td><code id="aoristic.df_+3A_xcoord">Xcoord</code></td>
<td>
<p>a vector of the event X coordinate or latitude (numeric object)</p>
</td></tr>
<tr><td><code id="aoristic.df_+3A_ycoord">Ycoord</code></td>
<td>
<p>a vector of the event Y coordinate or longitude (numeric object)</p>
</td></tr>
<tr><td><code id="aoristic.df_+3A_datetimefrom">DateTimeFrom</code></td>
<td>
<p>a vector of the column name for FromDateTime (POSIXct date-time object)</p>
</td></tr>
<tr><td><code id="aoristic.df_+3A_datetimeto">DateTimeTo</code></td>
<td>
<p>a vector of the column name for ToDateTime (POSIXct date-time object)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>NOTE: If an observation is missing the End/To datetime, the entire aoristic weight (1.0) will be assigned to the
hour block containing the Start/From datetime. Events with start datetime events after the end datetime will also 
be assigned to the hour block containing the Start/From datetime. Events with time spans lasting more than one 
week (&gt;168 hours) will default to a time span of 168 hours and a value of ~ 0.0059 (1/168) assigned to each day/hour.
</p>


<h3>Value</h3>

<p>A data frame with aoristic values for each hour of the week for each observation
</p>


<h3>References</h3>

<p>Ratcliffe, J. H. (2002). Aoristic signatures and the spatio-temporal analysis of high volume crime patterns. Journal of Quantitative Criminology, 18(1), 23-43.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>df &lt;- aoristic.df(dcburglaries, 'X', 'Y', 'StartDateTime', 'EndDateTime')
</code></pre>

<hr>
<h2 id='aoristic.graph'>Create aoristic distribution chart</h2><span id='topic+aoristic.graph'></span>

<h3>Description</h3>

<p>Takes the output from the aoristic.summary() function and converts that data frame
into a series of eight charts for each day of the week (and a total chart) based on the
aggregate aoristic distribution of the events. 
Option (marks = TRUE) adds small tick marks showing the (y-axis adjusted) overall weekly 
distribution for comparison to the daily value.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aoristic.graph(data1, marks = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="aoristic.graph_+3A_data1">data1</code></td>
<td>
<p>a data frame output from the aoristic2.df function</p>
</td></tr>
<tr><td><code id="aoristic.graph_+3A_marks">marks</code></td>
<td>
<p>marks=FALSE. TRUE shows tick marks for week distribution. Default is FALSE.</p>
</td></tr>
</table>


<h3>References</h3>

<p>Ratcliffe, J. H. (2002). Aoristic signatures and the spatio-temporal analysis of high volume crime patterns. Journal of Quantitative Criminology, 18(1), 23-43.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>aoristic.graph(dcburgsum)
aoristic.graph(dcburgsum, TRUE)
</code></pre>

<hr>
<h2 id='aoristic.grid'>Aoristic graph by grid count</h2><span id='topic+aoristic.grid'></span>

<h3>Description</h3>

<p>This function is defunct
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aoristic.grid(...)
</code></pre>

<hr>
<h2 id='aoristic.map'>Plot aoristic probabilities for one hour</h2><span id='topic+aoristic.map'></span>

<h3>Description</h3>

<p>Creates a plot showing aoristic probability values for one hour of the week. The X, Y coordinate pair (or latitude
and longitude) are used to create a plot that shows each event that could have occured in the user-
selected hour. Each event is color coded to represent the aoristic weight, range &gt;0 to 1. Events
with weight 1 definitely occurred during that hour, while events with values at the lower end of the
range could have occured at one of many hours. For guidance on which day/hour is represented by a
number, use aoristic.ref()
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aoristic.map(data1, AorHour = "1")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="aoristic.map_+3A_data1">data1</code></td>
<td>
<p>a data frame output from the aoristic.df function</p>
</td></tr>
<tr><td><code id="aoristic.map_+3A_aorhour">AorHour</code></td>
<td>
<p>user-selected number for an hour in the week (range 1-168)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot object
</p>


<h3>References</h3>

<p>Ratcliffe, J. H. (2002). Aoristic signatures and the spatio-temporal analysis of high volume crime patterns. Journal of Quantitative Criminology, 18(1), 23-43.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

aor.plot &lt;- aoristic.map(aor.df, 25)

## End(Not run)
</code></pre>

<hr>
<h2 id='aoristic.plot'>Summarize weekly aoristic weights</h2><span id='topic+aoristic.plot'></span>

<h3>Description</h3>

<p>Summarizes the sum of aoristic weights for each hour of the week, based on output from an aoristic data 
frame (created by aoristic.df). This function returns a ggplot object. 
</p>
<p>NOTE: Be aware that the distribution of values is NOT the same as the aoristic.ref() output, because
the summary charts and graphs move Sunday to the end of the week to keep the weekend together.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aoristic.plot(data1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="aoristic.plot_+3A_data1">data1</code></td>
<td>
<p>a data frame output from the aoristic.df function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>ggplot object
</p>


<h3>References</h3>

<p>Ratcliffe, J. H. (2002). Aoristic signatures and the spatio-temporal analysis of high volume crime patterns. Journal of Quantitative Criminology, 18(1), 23-43.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
aoristic.plot(aor.df)  
p &lt;- aoristic.plot(aor.df)

## End(Not run)
</code></pre>

<hr>
<h2 id='aoristic.ref'>Hour of the week reference chart</h2><span id='topic+aoristic.ref'></span>

<h3>Description</h3>

<p>Creates and views a simple data frame with reference hour of the week. 
This is a reference for the aoristic.map function that requires a user-selected hour
in order to map spatial distribution for the requested one hour time period.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aoristic.ref()
</code></pre>


<h3>Details</h3>

<p>NOTE: The jpg from aoristic.summary does not use the same day/hour layout. 
Sunday is moved to the end of the layout to make the weekend period clearer to the user.
</p>


<h3>Value</h3>

<p>A data frame
</p>


<h3>References</h3>

<p>Ratcliffe, J. H. (2002). Aoristic signatures and the spatio-temporal analysis of high volume crime patterns. Journal of Quantitative Criminology, 18(1), 23-43.
</p>

<hr>
<h2 id='aoristic.shp'>Aoristic graph by shapefile boundary</h2><span id='topic+aoristic.shp'></span>

<h3>Description</h3>

<p>This function is defunct
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aoristic.shp(...)
</code></pre>

<hr>
<h2 id='aoristic.spdf'>Creating a spatial.polygon.data.frame for aoristic analysis</h2><span id='topic+aoristic.spdf'></span>

<h3>Description</h3>

<p>This function is defunct
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aoristic.spdf(...)
</code></pre>

<hr>
<h2 id='aoristic.summary'>Summarize weekly aoristic weights</h2><span id='topic+aoristic.summary'></span>

<h3>Description</h3>

<p>Summarizes the sum of aoristic weights for each hour of the week, based on output from an aoristic data 
frame (created by aoristic.df). The function returns a data frame, with optional outputs. 
Option 'xlsx' sends the data frame to an Excel spreadsheet in the current working directory. 
Filenames increment to prevent overwriting previous analyses. Using option 'jpg' 
creates a color coded summary table in jpg format in the working directory.
The filename is aoristic_distribution.jpg, adding incremental numbers as necessary to the filename.
</p>
<p>NOTE: Be aware that the distribution of values is NOT the same as the aoristic.ref() output, because
the summary charts and graphs move Sunday to the end of the week to keep the weekend together.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aoristic.summary(data1, output = "")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="aoristic.summary_+3A_data1">data1</code></td>
<td>
<p>a data frame output from the aoristic.df function</p>
</td></tr>
<tr><td><code id="aoristic.summary_+3A_output">output</code></td>
<td>
<p>output ='xlsx' for an Excel format output
#' output ='jpg' for JPG grid, blank otherwise</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with aoristic values summed for each hour of the week
</p>


<h3>References</h3>

<p>Ratcliffe, J. H. (2002). Aoristic signatures and the spatio-temporal analysis of high volume crime patterns. Journal of Quantitative Criminology, 18(1), 23-43.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

aor.summary &lt;- aoristic.summary(aor.df)
aor.summary &lt;- aoristic.summary(aor.df, 'xlsx')
aor.summary &lt;- aoristic.summary(aor.df, 'jpg')

## End(Not run)
</code></pre>

<hr>
<h2 id='arlington'>Arlington burglary incident data</h2><span id='topic+arlington'></span>

<h3>Description</h3>

<p>This function is defunct
</p>


<h3>Usage</h3>

<pre><code class='language-R'>arlington(...)
</code></pre>

<hr>
<h2 id='CouncilDistrict'>Council district (spatial polygon data frame)</h2><span id='topic+CouncilDistrict'></span>

<h3>Description</h3>

<p>This function is defunct
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CouncilDistrict(...)
</code></pre>

<hr>
<h2 id='dcburglaries'>Burglaries, Washington DC, first six months of 2016</h2><span id='topic+dcburglaries'></span>

<h3>Description</h3>

<p>A dataset containing the X and Y coordinates of burglaries, with
the start and end date and times of the crimes. Sourced from Open Data Washington DC
with start date in the first six months 2016. X, Y geometry for Washington DC is from
FIPS 1900 (crs 7058).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dcburglaries
</code></pre>


<h3>Format</h3>

<p>A data frame with 1025 rows and 4 variables:
</p>

<dl>
<dt>X</dt><dd><p>X coordinate of burglary location</p>
</dd>
<dt>Y</dt><dd><p>Y coordinate of burglary location</p>
</dd>
<dt>StartDateTime</dt><dd><p>Start date and time of the burglary in POSIXct format</p>
</dd>
<dt>EndDateTime</dt><dd><p>End date and time of the burglary in POSIXct format</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://opendata.dc.gov/">https://opendata.dc.gov/</a>
</p>

<hr>
<h2 id='dcburgsum'>Summary output from aoristic analysis of DC burglaries</h2><span id='topic+dcburgsum'></span>

<h3>Description</h3>

<p>A dataset containing the summarized output generated by aoristic.summary() 
on the data frame produced by the aoristic function aoristic.df(dcburglaries, ...).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dcburgsum
</code></pre>


<h3>Format</h3>

<p>A data frame with 24 observations and 8 variables:
</p>

<dl>
<dt>Range</dt><dd><p>The hour represented by the column, in 24 hour format</p>
</dd>
<dt>Mon</dt><dd><p>Sum of aoristic values for Mondays by hour</p>
</dd>
<dt>Tue</dt><dd><p>Sum of aoristic values for Tuesdays by hour</p>
</dd>
<dt>Wed</dt><dd><p>Sum of aoristic values for Wednesdays by hour</p>
</dd>
<dt>Thu</dt><dd><p>Sum of aoristic values for Thursdays by hour</p>
</dd>
<dt>Fri</dt><dd><p>Sum of aoristic values for Fridays by hour</p>
</dd>
<dt>Sat</dt><dd><p>Sum of aoristic values for Saturdays by hour</p>
</dd>
<dt>Sun</dt><dd><p>Sum of aoristic values for Sundays by hour</p>
</dd>
</dl>


<hr>
<h2 id='NYburg'>Residential burglaries, Manhattan borough, New York City, NY, 2019</h2><span id='topic+NYburg'></span>

<h3>Description</h3>

<p>A dataset with a residential burglaries in the Borough of Manhattan, New York City, NY for 2019. 
Data include start and end date-times, and coordinates.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>NYburg
</code></pre>


<h3>Format</h3>

<p>A data frame with 1233 rows and 6 variables:
</p>

<dl>
<dt>CMPLNT_FR_DT</dt><dd><p>Crime from date in Date format</p>
</dd>
<dt>CMPLNT_FR_TM</dt><dd><p>Crime from time in number format</p>
</dd>
<dt>CMPLNT_TO_DT</dt><dd><p>Crime to date in Date format</p>
</dd>
<dt>CMPLNT_TO_TM</dt><dd><p>Crime to time in number format</p>
</dd>
<dt>X_COORD_CD</dt><dd><p>X coordinate of crime event in state plane format</p>
</dd>
<dt>Y_COORD_CD</dt><dd><p>Y coordinate of crime event in state plane format</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://data.cityofnewyork.us/Public-Safety/NYPD-Complaint-Data-Current-Year-To-Date-/5uac-w243/data">https://data.cityofnewyork.us/Public-Safety/NYPD-Complaint-Data-Current-Year-To-Date-/5uac-w243/data</a>
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

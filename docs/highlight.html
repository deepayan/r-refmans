<!DOCTYPE html><html><head><title>Help for package highlight</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {highlight}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#highlight-package'><p>Syntax Highlighter for R</p></a></li>
<li><a href='#boxes_latex'><p>Creates the set of latex boxes</p></a></li>
<li><a href='#css.parser'><p>Minimal CSS parser</p></a></li>
<li><a href='#external_highlight'><p>Multi-language source code highlighter</p></a></li>
<li><a href='#formatter_html'><p>html formatter</p></a></li>
<li><a href='#formatter_latex'><p>Latex formatter</p></a></li>
<li><a href='#getStyleFile'><p>helper function to get a style file</p></a></li>
<li><a href='#header_html'><p>html renderer header and footer</p></a></li>
<li><a href='#header_latex'><p>latex header and footer</p></a></li>
<li><a href='#highlight'><p>syntax highlighting based on the R parser</p></a></li>
<li><a href='#highlight_output_types'><p>List of available output types supported by external_highlight</p></a></li>
<li><a href='#highlight_themes'><p>List of themes supported by external_highlight</p></a></li>
<li><a href='#HighlightWeaveLatex'><p>Sweave driver performing syntax highlighting</p></a></li>
<li><a href='#Hweave'><p>Weaving and Tangling with syntax highlighting</p></a></li>
<li><a href='#renderer'><p>highlight renderer</p></a></li>
<li><a href='#simple_detective'><p>Simple detective</p></a></li>
<li><a href='#space_latex'><p>LaTeX renderer</p></a></li>
<li><a href='#styler'><p>Style definition generator</p></a></li>
<li><a href='#styler_assistant_latex'><p>latex styler assistant</p></a></li>
<li><a href='#translator_html'><p>html renderer using span tags and CSS</p></a></li>
<li><a href='#translator_latex'><p>LaTeX translator</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Syntax Highlighter</td>
</tr>
<tr>
<td>Version:</td>
<td>0.5.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Syntax highlighter for R code based on the results of the R
    parser. Rendering in HTML and latex markup. Custom Sweave driver
    performing syntax highlighting of R code chunks.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/hadley/highlight">https://github.com/hadley/highlight</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/hadley/highlight/issues">https://github.com/hadley/highlight/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.2)</td>
</tr>
<tr>
<td>Imports:</td>
<td>grDevices, tools</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-01-17 14:17:40 UTC; hadleywickham</td>
</tr>
<tr>
<td>Author:</td>
<td>Hadley Wickham [cre],
  Romain Francois [aut],
  Andre Simon [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Hadley Wickham &lt;hadley@rstudio.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-01-18 12:00:09 UTC</td>
</tr>
</table>
<hr>
<h2 id='highlight-package'>Syntax Highlighter for R</h2><span id='topic+highlight-package'></span>

<h3>Description</h3>

<p>Syntax highlighter for R based on output from the R parser
</p>


<h3>See Also</h3>

<p>The main function of the package is <code><a href="#topic+highlight">highlight</a></code>. 
</p>
<p><code><a href="#topic+highlight">highlight</a></code> delegates rendering the document to 
<code><a href="#topic+renderer">renderer</a></code>s, such as the <code><a href="#topic+renderer_latex">renderer_latex</a></code> 
or <code><a href="#topic+renderer_html">renderer_html</a></code> and is helped by a
detective to make sense of the results
from the parser. The package ships a <code><a href="#topic+simple_detective">simple_detective</a></code>. 
</p>
<p>The package also defines a custom sweave driver 
(<code><a href="#topic+HighlightWeaveLatex">HighlightWeaveLatex</a></code>) for latex based 
on the standard sweave latex driver (<code><a href="utils.html#topic+RweaveLatex">RweaveLatex</a></code>)
using <code><a href="#topic+highlight">highlight</a></code> to perform syntax 
highlighting of R code chunks.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
tf &lt;- tempfile()
dump( "glm" , file = tf )

# rendering in html
highlight( tf, output = stdout(), 
	renderer = renderer_html() )

# rendering in latex
highlight( tf, output = stdout(), 
	renderer = renderer_latex() )

# Sweave driver using syntax highlighting
if( require( grid ) ){
	v &lt;- vignette( "grid", package = "grid" )$file
	file.copy( v, "grid.Snw" )
	Sweave( "grid.Snw", driver= HighlightWeaveLatex() )
	system( "pdflatex grid.tex" )
	if (.Platform$OS.type == "windows"){ 
		shell.exec( "grid.pdf" )
	} else {
		system(paste(shQuote(getOption("pdfviewer")), "grid.pdf" ), 
			wait = FALSE)
	}
}

unlink( tf )

## End(Not run)
</code></pre>

<hr>
<h2 id='boxes_latex'>Creates the set of latex boxes</h2><span id='topic+boxes_latex'></span>

<h3>Description</h3>

<p>This function returns the set of latex boxes definitions
that should be included in the document preamble. The 
latex renderer includes these definitions automatically when the 
document argument is TRUE, but not otherwise.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>boxes_latex()
</code></pre>


<h3>Value</h3>

<p>A character vector containing latex definitions for boxes
used by the latex renderer
</p>


<h3>See Also</h3>

<p><code><a href="#topic+translator_latex">translator_latex</a></code> translates text into markup that 
makes use of these boxes
</p>

<hr>
<h2 id='css.parser'>Minimal CSS parser</h2><span id='topic+css.parser'></span>

<h3>Description</h3>

<p>Minimal CSS parser
</p>


<h3>Usage</h3>

<pre><code class='language-R'>css.parser(file, lines = readLines(file))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="css.parser_+3A_file">file</code></td>
<td>
<p>file to parse</p>
</td></tr>
<tr><td><code id="css.parser_+3A_lines">lines</code></td>
<td>
<p>text lines to parse</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with one element per style class declaration. Each element 
is a list which has one element per CSS setting 
(&lsquo;<span class="samp">&#8288;color&#8288;</span>&rsquo;, &lsquo;<span class="samp">&#8288;background&#8288;</span>&rsquo;, ...)
</p>


<h3>Note</h3>

<p>The parser is very minimal and will only identify CSS declarations like
the following : 
</p>
<pre>
.classname{
	setting1 : value ;
	setting2 : value ;
} </pre>
<p>The line where a declaration occurs must start with a dot, 
followed by the name of the class and a left brace. The declaration
ends with the first line that starts with a right brace. The function
will warn about class names containing numbers as this is likely to 
cause trouble when the parsed style is translated into another 
language (e.g. latex commands).
</p>
<p>Within the css declaration, the parser identifies setting/value 
pairs separated by &lsquo;<span class="samp">&#8288;:&#8288;</span>&rsquo; on a single line. Each setting must 
be on a seperate line.
</p>
<p>If the setting is &lsquo;<span class="samp">&#8288;color&#8288;</span>&rsquo; or &lsquo;<span class="samp">&#8288;background&#8288;</span>&rsquo;, the parser then
tries to map the value to a hex color specification 
by trying the following options: the value is already a hex
color, the name of the color is one of the 16 w3c standard colors, the name 
is an R color (see <code><a href="grDevices.html#topic+colors">colors</a></code>), the 
color is specified as &lsquo;<span class="samp">&#8288;rgb(r,g,b)&#8288;</span>&rsquo;. If all fails, the
color used is black for the &lsquo;<span class="samp">&#8288;color&#8288;</span>&rsquo; setting and 
&lsquo;<span class="samp">&#8288;white&#8288;</span>&rsquo; for the &lsquo;<span class="samp">&#8288;background&#8288;</span>&rsquo; setting.
</p>
<p>Other settings are not further parsed at present.
</p>

<hr>
<h2 id='external_highlight'>Multi-language source code highlighter</h2><span id='topic+external_highlight'></span>

<h3>Description</h3>

<p>Multi-language source code highlighter
</p>


<h3>Usage</h3>

<pre><code class='language-R'>external_highlight(
  file,
  outfile = stdout(),
  theme = "kwrite",
  lang = NULL,
  type = "HTML",
  line_numbers = FALSE,
  doc = TRUE,
  code
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="external_highlight_+3A_file">file</code></td>
<td>
<p>Source file to highlight</p>
</td></tr>
<tr><td><code id="external_highlight_+3A_outfile">outfile</code></td>
<td>
<p>Destination of the highlighted code. 
When <code>NULL</code>, the code is simply returned as a character vector</p>
</td></tr>
<tr><td><code id="external_highlight_+3A_theme">theme</code></td>
<td>
<p>One of the themes. See <code><a href="#topic+highlight_themes">highlight_themes</a></code> for the list
of available themes.</p>
</td></tr>
<tr><td><code id="external_highlight_+3A_lang">lang</code></td>
<td>
<p>The language in which the code is to be interpreted. If this argument
is not given, it will be deduced from the file extension.</p>
</td></tr>
<tr><td><code id="external_highlight_+3A_type">type</code></td>
<td>
<p>Output format. See <code><a href="#topic+highlight_output_types">highlight_output_types</a></code> for the list 
of supported output types.</p>
</td></tr>
<tr><td><code id="external_highlight_+3A_line_numbers">line_numbers</code></td>
<td>
<p>if <code>TRUE</code>, the result will include line numbers</p>
</td></tr>
<tr><td><code id="external_highlight_+3A_doc">doc</code></td>
<td>
<p>if <code>TRUE</code>, the result is a stand alone document, otherwise, just a 
portion to include in a document</p>
</td></tr>
<tr><td><code id="external_highlight_+3A_code">code</code></td>
<td>
<p>If given, then the source code is not read from the file</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Nothing if <code>outfile</code> is given, with the side effect of writing into the file. 
The result as a character vector if outfile is NULL
</p>


<h3>See Also</h3>

<p><code><a href="#topic+highlight">highlight</a></code> to highlight R code using the information from the parser
</p>

<hr>
<h2 id='formatter_html'>html formatter</h2><span id='topic+formatter_html'></span>

<h3>Description</h3>

<p>Wraps tokens into span tags with the class corresponding to the style
</p>


<h3>Usage</h3>

<pre><code class='language-R'>formatter_html(tokens, styles, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="formatter_html_+3A_tokens">tokens</code></td>
<td>
<p>tokens to wrap</p>
</td></tr>
<tr><td><code id="formatter_html_+3A_styles">styles</code></td>
<td>
<p>styles to give to the tokens</p>
</td></tr>
<tr><td><code id="formatter_html_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+renderer_html">renderer_html</a></code>
</p>

<hr>
<h2 id='formatter_latex'>Latex formatter</h2><span id='topic+formatter_latex'></span>

<h3>Description</h3>

<p>Combines tokens and styles into a latex command
</p>


<h3>Usage</h3>

<pre><code class='language-R'>formatter_latex(tokens, styles, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="formatter_latex_+3A_tokens">tokens</code></td>
<td>
<p>vector of okens</p>
</td></tr>
<tr><td><code id="formatter_latex_+3A_styles">styles</code></td>
<td>
<p>vector of styles</p>
</td></tr>
<tr><td><code id="formatter_latex_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of latex commands
</p>


<h3>See Also</h3>

<p><code><a href="#topic+renderer_latex">renderer_latex</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>formatter_latex( "hello world", "blue" )
</code></pre>

<hr>
<h2 id='getStyleFile'>helper function to get a style file</h2><span id='topic+getStyleFile'></span>

<h3>Description</h3>

<p>helper function to get a style file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getStyleFile(name = "default", extension = "css")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getStyleFile_+3A_name">name</code></td>
<td>
<p>the name of the style file to look for</p>
</td></tr>
<tr><td><code id="getStyleFile_+3A_extension">extension</code></td>
<td>
<p>the file extension (css, sty, or xterm)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>the search goes as follows: first the current working directory
then the directory ~/.R/highlight, then the stylesheet directory
in the installed package
</p>


<h3>Value</h3>

<p>the name of the first file that is found, or NULL
</p>

<hr>
<h2 id='header_html'>html renderer header and footer</h2><span id='topic+header_html'></span><span id='topic+footer_html'></span>

<h3>Description</h3>

<p>these functions build the header function and the footer function 
used by the html renderer
</p>


<h3>Usage</h3>

<pre><code class='language-R'>header_html(document, stylesheet)

footer_html(document)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="header_html_+3A_document">document</code></td>
<td>
<p>logical. If <code>TRUE</code> the built header and footer
functions will return the beginning and end 
of a full html document. If <code>FALSE</code>, the built functions will 
only return the opening and closing &lsquo;<span class="samp">&#8288;&lt;pre&gt;&#8288;</span>&rsquo; tags.</p>
</td></tr>
<tr><td><code id="header_html_+3A_stylesheet">stylesheet</code></td>
<td>
<p>stylesheet to use. See <code>getStyleFile</code> for details 
on where the stylesheet can be located.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>header and footer functions.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+renderer_html">renderer_html</a></code> uses these functions to create a renderer
suitable for the &lsquo;<span class="samp">&#8288;renderer&#8288;</span>&rsquo; argument of <code><a href="#topic+highlight">highlight</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>h &lt;- header_html( document = FALSE )
h()
h &lt;- header_html( document = TRUE, stylesheet = "default") 
h()
f &lt;- footer_html( document = TRUE )
f()
f &lt;- footer_html( document = FALSE )
f() 
</code></pre>

<hr>
<h2 id='header_latex'>latex header and footer</h2><span id='topic+header_latex'></span><span id='topic+footer_latex'></span>

<h3>Description</h3>

<p>These functions return appropriate header and footer functions
for the latex renderer
</p>


<h3>Usage</h3>

<pre><code class='language-R'>header_latex(document, styles, boxes, minipage = FALSE)

footer_latex(document, minipage = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="header_latex_+3A_document">document</code></td>
<td>
<p>logical. If TRUE the header and footer functions will create the 
full document (including preamble with boxes and styles)</p>
</td></tr>
<tr><td><code id="header_latex_+3A_styles">styles</code></td>
<td>
<p>a vector of style definitions to include in the preamble if document is TRUE</p>
</td></tr>
<tr><td><code id="header_latex_+3A_boxes">boxes</code></td>
<td>
<p>a vector of boxes definitions to include in the preamble if document is TRUE</p>
</td></tr>
<tr><td><code id="header_latex_+3A_minipage">minipage</code></td>
<td>
<p>if <code>TRUE</code>, the highlighted latex is included in a minipage environment</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A function is returned, suitable for the header or footer argument
of the latex renderer
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  
h &lt;- header_latex( document = FALSE )
h()
f &lt;- footer_latex( document = FALSE )
f()
</code></pre>

<hr>
<h2 id='highlight'>syntax highlighting based on the R parser</h2><span id='topic+highlight'></span>

<h3>Description</h3>

<p>The <code>highlight</code> function performs syntax highlighting based on the 
results of the <code><a href="base.html#topic+parse">parse</a></code> and the investigation
of a detective.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>highlight(
  file,
  output = stdout(),
  detective = simple_detective,
  renderer,
  encoding = "unknown",
  parse.output = parse(file, encoding = encoding, keep.source = TRUE),
  styles = detective(parse.output),
  expr = NULL,
  final.newline = FALSE,
  showPrompts = FALSE,
  prompt = getOption("prompt"),
  continue = getOption("continue"),
  initial.spaces = TRUE,
  size = c("normalsize", "tiny", "scriptsize", "footnotesize", "small", "large", "Large",
    "LARGE", "huge", "Huge"),
  show_line_numbers = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="highlight_+3A_file">file</code></td>
<td>
<p>code file to parse. This is only used if the <code>parse.output</code> is given</p>
</td></tr>
<tr><td><code id="highlight_+3A_output">output</code></td>
<td>
<p>where to write the rendered text. If this is anything else than the 
default (standard output), the <code><a href="base.html#topic+sink">sink</a></code> function
is used to redirect the standard output to the output.</p>
</td></tr>
<tr><td><code id="highlight_+3A_detective">detective</code></td>
<td>
<p>the detective chooses the style to apply to each token, basing its 
investigation on the results of the <code><a href="base.html#topic+parse">parse</a></code></p>
</td></tr>
<tr><td><code id="highlight_+3A_renderer">renderer</code></td>
<td>
<p>highlight delegates rendering the information to the renderer. This 
package includes html and latex renderers. See <code><a href="#topic+renderer_html">renderer_html</a></code>
and <code><a href="#topic+renderer_latex">renderer_latex</a></code></p>
</td></tr>
<tr><td><code id="highlight_+3A_encoding">encoding</code></td>
<td>
<p>encoding to assume for the file. the argument is directly passed 
to the <code><a href="base.html#topic+parse">parse</a></code>.</p>
</td></tr>
<tr><td><code id="highlight_+3A_parse.output">parse.output</code></td>
<td>
<p>output from the <code><a href="base.html#topic+parse">parse</a></code>. If this is given, the 
arguments <code>file</code> and <code>encoding</code> are not used</p>
</td></tr>
<tr><td><code id="highlight_+3A_styles">styles</code></td>
<td>
<p>result of the detective investigation. A character vector 
with as many elements as there are tokens in the parser output</p>
</td></tr>
<tr><td><code id="highlight_+3A_expr">expr</code></td>
<td>
<p>In case we want to render only one expression and not the full parse
tree, this argument can be used to specify which expression
to render. The default (NULL) means render all expressions. This 
feature is used by the sweave driver shipped with this package. See
<code><a href="#topic+HighlightWeaveLatex">HighlightWeaveLatex</a></code></p>
</td></tr>
<tr><td><code id="highlight_+3A_final.newline">final.newline</code></td>
<td>
<p>logical. Indicates if a newline character is added after all tokens.</p>
</td></tr>
<tr><td><code id="highlight_+3A_showprompts">showPrompts</code></td>
<td>
<p>if TRUE, the highlighted text will show standard and continue prompt</p>
</td></tr>
<tr><td><code id="highlight_+3A_prompt">prompt</code></td>
<td>
<p>standard prompt</p>
</td></tr>
<tr><td><code id="highlight_+3A_continue">continue</code></td>
<td>
<p>continue prompt</p>
</td></tr>
<tr><td><code id="highlight_+3A_initial.spaces">initial.spaces</code></td>
<td>
<p>should initial spaces be displayed or skipped.</p>
</td></tr>
<tr><td><code id="highlight_+3A_size">size</code></td>
<td>
<p>font size. only respected by the latex renderer so far.</p>
</td></tr>
<tr><td><code id="highlight_+3A_show_line_numbers">show_line_numbers</code></td>
<td>
<p>logical. When TRUE, line numbers are shown in the output.</p>
</td></tr>
<tr><td><code id="highlight_+3A_...">...</code></td>
<td>
<p>additional arguments, currently ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The resulting formatted text is returned invisibly. It is also 
written to the output if the output is not <code>NULL</code>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+renderer_html">renderer_html</a></code> and <code><a href="#topic+renderer_latex">renderer_latex</a></code> are the
two implementation of renderers currently available in this package. 
</p>
<p><code><a href="#topic+simple_detective">simple_detective</a></code> is an example detective which does a very 
simple investigation.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
	tf &lt;- tempfile()
	dump( "jitter", file = tf )
	highlight( file = tf, detective = simple_detective, 
		renderer = renderer_html( document = TRUE ) )
	highlight( file = tf, detective = simple_detective, 
		renderer = renderer_latex( document = TRUE ) )
	

## End(Not run)
</code></pre>

<hr>
<h2 id='highlight_output_types'>List of available output types supported by external_highlight</h2><span id='topic+highlight_output_types'></span>

<h3>Description</h3>

<p>List of available output types supported by <code><a href="#topic+external_highlight">external_highlight</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>highlight_output_types()
</code></pre>


<h3>Value</h3>

<p>A character vector with the list of supported types
</p>

<hr>
<h2 id='highlight_themes'>List of themes supported by external_highlight</h2><span id='topic+highlight_themes'></span>

<h3>Description</h3>

<p>List of themes supported by <code><a href="#topic+external_highlight">external_highlight</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>highlight_themes()
</code></pre>


<h3>Value</h3>

<p>A character vector with the names of the themes
</p>

<hr>
<h2 id='HighlightWeaveLatex'>Sweave driver performing syntax highlighting</h2><span id='topic+HighlightWeaveLatex'></span>

<h3>Description</h3>

<p>Sweave driver using the highlight latex renderer to perform syntax 
highlighting of input R code in sweave chunks.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>HighlightWeaveLatex(
  boxes = FALSE,
  bg = rgb(0.95, 0.95, 0.95, maxColorValue = 1),
  border = "black",
  highlight.options = list(boxes = boxes, bg = bg, border = border)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="HighlightWeaveLatex_+3A_boxes">boxes</code></td>
<td>
<p>if <code>TRUE</code>, code blocks are wrapped in boxes.</p>
</td></tr>
<tr><td><code id="HighlightWeaveLatex_+3A_bg">bg</code></td>
<td>
<p>background color for code boxes.</p>
</td></tr>
<tr><td><code id="HighlightWeaveLatex_+3A_border">border</code></td>
<td>
<p>color to use for the border of code boxes.</p>
</td></tr>
<tr><td><code id="HighlightWeaveLatex_+3A_highlight.options">highlight.options</code></td>
<td>
<p>Can be used instead of the other arguments to 
set the <code>boxes</code>, <code>bg</code> and <code>border</code> settings.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This sweave driver is very similar to standard driver that is 
included in &lsquo;<span class="samp">&#8288;utils&#8288;</span>&rsquo;. The difference is that input R code and 
verbatim output is rendered using <code>highlight</code> enabling 
syntax highlighting of R code. 
</p>
<p>Instead of using &lsquo;<span class="samp">&#8288;Sinput&#8288;</span>&rsquo; and &lsquo;<span class="samp">&#8288;Soutput&#8288;</span>&rsquo; commands, this 
driver uses &lsquo;<span class="samp">&#8288;Hinput&#8288;</span>&rsquo; and &lsquo;<span class="samp">&#8288;Houtput&#8288;</span>&rsquo; and defines these commands
at the very beginning of the document, letting the user the option 
to overwrite them as necessary. 
</p>
<p>Latex boxes defined by the latex renderer (<code><a href="#topic+renderer_latex">renderer_latex</a></code>)
and style definitions needed are also written at the beginning 
of the document.
</p>
<p>Because highlight does not use verbatim environments, the user
of this driver can freely redefine the &lsquo;<span class="samp">&#8288;Hinput&#8288;</span>&rsquo;, &lsquo;<span class="samp">&#8288;Houtput&#8288;</span>&rsquo;
and &lsquo;<span class="samp">&#8288;Hchunk&#8288;</span>&rsquo; environments to achieve greater control
of the output latex document than with the standard driver.
</p>


<h3>Value</h3>

<p>A sweave driver, suitable for the &lsquo;<span class="samp">&#8288;driver&#8288;</span>&rsquo; argument of
<code><a href="utils.html#topic+Sweave">Sweave</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# using the driver on the grid vignette
require( grid )
v &lt;- vignette( "grid", package = "grid" )$file
file.copy( v, "grid.Snw" )
Sweave( "grid.Snw", driver= HighlightWeaveLatex() )

## End(Not run)
</code></pre>

<hr>
<h2 id='Hweave'>Weaving and Tangling with syntax highlighting</h2><span id='topic+Hweave'></span><span id='topic+Htangle'></span>

<h3>Description</h3>

<p><code>Hweave</code> and <code>Htangle</code> are similar to <code>Sweave</code> 
and <code>Stangle</code>, but they take advantage of the
custom driver shipped with this package
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Hweave(
  file,
  driver = HighlightWeaveLatex(),
  syntax = HweaveSyntaxNoweb,
  encoding = "",
  ...
)

Htangle(
  file,
  driver = HighlightTangle(),
  syntax = HweaveSyntaxNoweb,
  encoding = "",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Hweave_+3A_file">file</code></td>
<td>
<p>Path to Sweave source file</p>
</td></tr>
<tr><td><code id="Hweave_+3A_driver">driver</code></td>
<td>
<p>The actual workhorse, see the Details section in <code><a href="utils.html#topic+Sweave">Sweave</a></code></p>
</td></tr>
<tr><td><code id="Hweave_+3A_syntax">syntax</code></td>
<td>
<p><code>NULL</code> or an object of class <code>SweaveSyntax</code>
or a character string with its name. See the section <code>Syntax Definition</code>
in <code><a href="utils.html#topic+Sweave">Sweave</a></code></p>
</td></tr>
<tr><td><code id="Hweave_+3A_encoding">encoding</code></td>
<td>
<p>The default encoding to assume for <code>file</code></p>
</td></tr>
<tr><td><code id="Hweave_+3A_...">...</code></td>
<td>
<p>Further arguments passed to the driver's setup function.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>These functions exist for the purpose of the 
<code>\VignetteEngine</code> option in vignette introduced in R 3.0.0
</p>
<p><code>highlight</code> loads the <code>highlight</code> vignette engine 
at load time. Client packages must declare to use it
with the <code>VignetteBuilder</code> field in their <code>DESCRIPTION</code>
file
</p>
<p>The vignette engine looks for files matching the 
pattern <code>"[.][hHrRsS]nw$"</code> although in order to distinguish 
vignettes using this engine and the default
Sweave engine, the recommandation is to use vignette with the <code>".Hnw"</code>
extension.
</p>

<hr>
<h2 id='renderer'>highlight renderer</h2><span id='topic+renderer'></span>

<h3>Description</h3>

<p>The function builds a renderer, suitable for the renderer argument
of the highlight function. In the highlight process, renderers
are responsible to render the information in the target markup 
language.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>renderer(translator, formatter, space, newline, header, footer, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="renderer_+3A_translator">translator</code></td>
<td>
<p>This argument should be a function with one argument. The translator 
needs to work token characters so that they display nicely 
in the target markup language.</p>
</td></tr>
<tr><td><code id="renderer_+3A_formatter">formatter</code></td>
<td>
<p>The formatter should be a function with at least two arguments: the
tokens and the styles. These two arguments are supplied 
to the formatter by the highlight function. The formatter should wrap 
tokens and styles into the target markup language. 
For example, the formatter used by the html renderer makes 
a &lsquo;<span class="samp">&#8288;&lt;span&gt;&#8288;</span>&rsquo; tag of &lsquo;<span class="samp">&#8288;class&#8288;</span>&rsquo; given by the &lsquo;<span class="samp">&#8288;styles&#8288;</span>&rsquo; 
and content given by the &lsquo;<span class="samp">&#8288;token&#8288;</span>&rsquo;.</p>
</td></tr>
<tr><td><code id="renderer_+3A_space">space</code></td>
<td>
<p>This should be a function with no argument. The output of this function
should be a character vector of length one giving the representation
of a space character in the target language. For example, in the 
latex renderer, the function returns &lsquo;<span class="samp">&#8288;"{\ }"&#8288;</span>&rsquo;.</p>
</td></tr>
<tr><td><code id="renderer_+3A_newline">newline</code></td>
<td>
<p>This should be a function with no argument. The output of the function
is a character vector of length one giving the representation of a newline
character in the target language.</p>
</td></tr>
<tr><td><code id="renderer_+3A_header">header</code></td>
<td>
<p>This should be a function with no argument. The output of this function
is a character vector of arbitrary length. The elements of the output 
are written before the highlighted content. headers and footers are used 
to embed the highlighted tokens into some markup. For example, the header 
used in the html renderer starts a &lsquo;<span class="samp">&#8288;&lt;pre&gt;&#8288;</span>&rsquo; tag that is closed 
by the footer. headers and footer might also be used to write 
style definitions such as CSS, STY, ...</p>
</td></tr>
<tr><td><code id="renderer_+3A_footer">footer</code></td>
<td>
<p>This should be a function with no argument. The output of this function
is written after all tokens.</p>
</td></tr>
<tr><td><code id="renderer_+3A_...">...</code></td>
<td>
<p>Additional arguments. This might be used to store additional renderer
specific objects.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Implementations of renderers should call this function to ensure
that a proper renderer is created. At the moment, no checking is performed
to ensure that the built object complies with the expected 
interface, but this is very likely to change.
</p>


<h3>Value</h3>

<p>A &lsquo;<span class="samp">&#8288;renderer&#8288;</span>&rsquo; object. Renderer objects define the interface expected
by the <code><a href="#topic+highlight">highlight</a></code> function. At the moment, a renderer 
object is a list of class &lsquo;<span class="samp">&#8288;renderer&#8288;</span>&rsquo; containing elements: 
&lsquo;<span class="samp">&#8288;translator&#8288;</span>&rsquo;, &lsquo;<span class="samp">&#8288;formatter&#8288;</span>&rsquo;, &lsquo;<span class="samp">&#8288;space&#8288;</span>&rsquo;, &lsquo;<span class="samp">&#8288;newline&#8288;</span>&rsquo;, 
&lsquo;<span class="samp">&#8288;header&#8288;</span>&rsquo; and &lsquo;<span class="samp">&#8288;footer&#8288;</span>&rsquo;.
</p>


<h3>See Also</h3>

<p>The <code><a href="#topic+renderer_html">renderer_html</a></code> implements a renderer using html markup, 
&lsquo;<span class="samp">&#8288;&lt;span&gt;&#8288;</span>&rsquo; tags and CSS. 
</p>
<p>The <code><a href="#topic+renderer_latex">renderer_latex</a></code> implements a latex renderer.
</p>

<hr>
<h2 id='simple_detective'>Simple detective</h2><span id='topic+simple_detective'></span>

<h3>Description</h3>

<p>This detective only uses semantic information to make its 
investigation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simple_detective(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simple_detective_+3A_x">x</code></td>
<td>
<p>output of the parser. The detective is only interested in the 
&lsquo;<span class="samp">&#8288;token&#8288;</span>&rsquo; column of the data.</p>
</td></tr>
<tr><td><code id="simple_detective_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a vector of styles grouping similar tokens together
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
p &lt;- parse( text = deparse( jitter ), keep.source=TRUE )
simple_detective( p )

## End(Not run)
</code></pre>

<hr>
<h2 id='space_latex'>LaTeX renderer</h2><span id='topic+space_latex'></span><span id='topic+newline_latex'></span><span id='topic+renderer_latex'></span>

<h3>Description</h3>

<p>renderer implementation targetting latex markup. The result
markup uses the latex &lsquo;<span class="samp">&#8288;alltt&#8288;</span>&rsquo; package to achieve true type 
renderering and therefore does not depend on verbatim-like environments.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>space_latex()

newline_latex()

renderer_latex(
  document = TRUE,
  boxes = boxes_latex(),
  translator = translator_latex,
  formatter = formatter_latex,
  space = space_latex,
  newline = newline_latex,
  stylesheet = "default",
  styles = styler(stylesheet, "sty", styler_assistant_latex),
  header = header_latex(document, styles = styles, boxes = boxes, minipage = minipage),
  footer = footer_latex(document, minipage = minipage),
  minipage = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="space_latex_+3A_document">document</code></td>
<td>
<p>logical. Should the renderer create the full document or only the code
section, assuming the document is already created. Using FALSE 
is used by the sweave driver shipped with this package.</p>
</td></tr>
<tr><td><code id="space_latex_+3A_boxes">boxes</code></td>
<td>
<p>a function that returns definitions of latex boxes used for non standard
characters. The reason for using boxes is that some character need 
to be escaped to be rendered, and unfortunately, escaping turns
alltt off, which does not produce satisfying rendering. This argument
is used by the header function when the document argument is TRUE. 
It is also used in the sweave driver at the very beginning of the document</p>
</td></tr>
<tr><td><code id="space_latex_+3A_translator">translator</code></td>
<td>
<p>translation of characters into latex markup. See <code><a href="#topic+translator_latex">translator_latex</a></code> for details</p>
</td></tr>
<tr><td><code id="space_latex_+3A_formatter">formatter</code></td>
<td>
<p>latex formatter. Tokens are wrapped into a latex command related
to the style they should honor.</p>
</td></tr>
<tr><td><code id="space_latex_+3A_space">space</code></td>
<td>
<p>returns a space character that does not get reduced by latex</p>
</td></tr>
<tr><td><code id="space_latex_+3A_newline">newline</code></td>
<td>
<p>returns a newline character</p>
</td></tr>
<tr><td><code id="space_latex_+3A_stylesheet">stylesheet</code></td>
<td>
<p>stylesheet to use.</p>
</td></tr>
<tr><td><code id="space_latex_+3A_styles">styles</code></td>
<td>
<p>style definitions inferred from the parsing of the stylesheet. See <code><a href="#topic+styler">styler</a></code> and
<code><a href="#topic+styler_assistant_latex">styler_assistant_latex</a></code>.</p>
</td></tr>
<tr><td><code id="space_latex_+3A_header">header</code></td>
<td>
<p>returns the header. If the document argument is TRUE, the header contains
the style definitions and the boxes definitions. If it is FALSE, a minimal
header is produced to turn alltt on. In the latter case, boxes and style 
definitions are assumed to have been inserted already, latex will not 
compile the document otherwise.</p>
</td></tr>
<tr><td><code id="space_latex_+3A_footer">footer</code></td>
<td>
<p>returns the footer. Depending on the document argument, either a minimal
footer is produced (turning off alltt) or the full latex 
document is closed.</p>
</td></tr>
<tr><td><code id="space_latex_+3A_minipage">minipage</code></td>
<td>
<p>if TRUE, the highlighted latex is included in a minipage environment</p>
</td></tr>
<tr><td><code id="space_latex_+3A_...">...</code></td>
<td>
<p>Additional arguments</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a &lsquo;<span class="samp">&#8288;renderer&#8288;</span>&rsquo; object, suitable for the &lsquo;<span class="samp">&#8288;renderer&#8288;</span>&rsquo; argument of 
<code><a href="#topic+highlight">highlight</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
	r &lt;- renderer_latex(document = T )
	r$space()
	r$newline()
	r$boxes()
	r$translator( "# the hash symbol gets a latex box" )

## End(Not run)
</code></pre>

<hr>
<h2 id='styler'>Style definition generator</h2><span id='topic+styler'></span>

<h3>Description</h3>

<p>This generates style definitions either by including a language 
specific style file (e.g. sty file for latex) or by parsing 
a css stylesheet
</p>


<h3>Usage</h3>

<pre><code class='language-R'>styler(stylesheet, extension = "css", assistant)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="styler_+3A_stylesheet">stylesheet</code></td>
<td>
<p>name of the stylesheet</p>
</td></tr>
<tr><td><code id="styler_+3A_extension">extension</code></td>
<td>
<p>extension of the language specific format for the stylesheet.</p>
</td></tr>
<tr><td><code id="styler_+3A_assistant">assistant</code></td>
<td>
<p>function to which the styler delegates understanding of the parser output</p>
</td></tr>
</table>


<h3>Details</h3>

<p>First, the function attempts to retrieve a language specific stylesheet
using the <code><a href="#topic+getStyleFile">getStyleFile</a></code> function. If a language specific 
stylesheet is found, it returns the content of the file as a character 
vector. 
</p>
<p>Second, the function attemps to find a css stylesheet using 
<code><a href="#topic+getStyleFile">getStyleFile</a></code>, parse the css declarations using the 
<code><a href="#topic+css.parser">css.parser</a></code> function, and delegates to the 
&lsquo;<span class="samp">&#8288;assistant&#8288;</span>&rsquo; which is responsible to translate the results
of the css parser into language specific declarations.
</p>


<h3>Value</h3>

<p>a character vector containing style declarations in the target language
</p>


<h3>See Also</h3>

<p><code><a href="#topic+styler_assistant_latex">styler_assistant_latex</a></code> gives a concrete implementation
of the assistant for the latex language
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
	styler( "default", "sty", styler_assistant_latex )

## End(Not run)
</code></pre>

<hr>
<h2 id='styler_assistant_latex'>latex styler assistant</h2><span id='topic+styler_assistant_latex'></span>

<h3>Description</h3>

<p>This function takes the output of the <code><a href="#topic+css.parser">css.parser</a></code> and
produces latex style definitions from it.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>styler_assistant_latex(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="styler_assistant_latex_+3A_x">x</code></td>
<td>
<p>output from <code><a href="#topic+css.parser">css.parser</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function create a new latex command for each css declaration, i.e.
each item of the list &lsquo;<span class="samp">&#8288;x&#8288;</span>&rsquo; it is passed. 
</p>
<p>The assistant currently honours the following css settings: color, 
&lsquo;<span class="samp">&#8288;text-decoration:underline&#8288;</span>&rsquo;, &lsquo;<span class="samp">&#8288;font-weight:bold[er]&#8288;</span>&rsquo; and 
&lsquo;<span class="samp">&#8288;font-style:italic&#8288;</span>&rsquo;
</p>


<h3>Value</h3>

<p>a vector of latex style definitions corresponding to (a subset of) the 
output of the parser
</p>


<h3>See Also</h3>

<p><code><a href="#topic+styler">styler</a></code>
</p>

<hr>
<h2 id='translator_html'>html renderer using span tags and CSS</h2><span id='topic+translator_html'></span><span id='topic+space_html'></span><span id='topic+newline_html'></span><span id='topic+renderer_html'></span>

<h3>Description</h3>

<p>implementation of the <code><a href="#topic+renderer">renderer</a></code> that renders
the information as a series of &lsquo;<span class="samp">&#8288;&lt;span&gt;&#8288;</span>&rsquo; html tags
</p>


<h3>Usage</h3>

<pre><code class='language-R'>translator_html(x, size)

space_html()

newline_html()

renderer_html(
  document = TRUE,
  translator = translator_html,
  formatter = formatter_html,
  space = space_html,
  newline = newline_html,
  header = header_html(document, stylesheet),
  footer = footer_html(document),
  stylesheet = "default",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="translator_html_+3A_x">x</code></td>
<td>
<p>argument to the translator. Returned as is.</p>
</td></tr>
<tr><td><code id="translator_html_+3A_size">size</code></td>
<td>
<p>font size. ignored</p>
</td></tr>
<tr><td><code id="translator_html_+3A_document">document</code></td>
<td>
<p>logical. Indicates if the renderer should render a full document
or simply a &lsquo;<span class="samp">&#8288;&lt;pre&gt;&#8288;</span>&rsquo; section containing the highlighted
tokens. This argument is used by the <code><a href="#topic+header_html">header_html</a></code> and 
<code><a href="#topic+footer_html">footer_html</a></code> to build appropriate header and footer.</p>
</td></tr>
<tr><td><code id="translator_html_+3A_translator">translator</code></td>
<td>
<p>Since the highlighted tokens are wrapped in a &lsquo;<span class="samp">&#8288;&lt;pre&gt;&#8288;</span>&rsquo; tag, 
no further translation is needed.</p>
</td></tr>
<tr><td><code id="translator_html_+3A_formatter">formatter</code></td>
<td>
<p>html formatter. creates &lsquo;<span class="samp">&#8288;&lt;span&gt;&#8288;</span>&rsquo; tags for all tokens.
See <code><a href="#topic+formatter_html">formatter_html</a></code></p>
</td></tr>
<tr><td><code id="translator_html_+3A_space">space</code></td>
<td>
<p>returns a space character</p>
</td></tr>
<tr><td><code id="translator_html_+3A_newline">newline</code></td>
<td>
<p>returns a newline character</p>
</td></tr>
<tr><td><code id="translator_html_+3A_header">header</code></td>
<td>
<p>html header. Depending on the &lsquo;<span class="samp">&#8288;document&#8288;</span>&rsquo; argument, this will be a 
function building a the beginning of a 
complete html document (starting with &lsquo;<span class="samp">&#8288;&lt;html&gt;&#8288;</span>&rsquo;) including 
css definitions or simply a function returning &lsquo;<span class="samp">&#8288;&lt;pre&gt;&#8288;</span>&rsquo; 
enabling the renderer to be used to just render the syntax 
as part of a bigger document.</p>
</td></tr>
<tr><td><code id="translator_html_+3A_footer">footer</code></td>
<td>
<p>html footer. Depending on the &lsquo;<span class="samp">&#8288;document&#8288;</span>&rsquo; argument, this will 
either close the full document (close the &lsquo;<span class="samp">&#8288;&lt;/html&gt;&#8288;</span>&rsquo; tag)
or simply close the &lsquo;<span class="samp">&#8288;&lt;/pre&gt;&#8288;</span>&rsquo; tag.</p>
</td></tr>
<tr><td><code id="translator_html_+3A_stylesheet">stylesheet</code></td>
<td>
<p>stylesheet to use. This is used by the header when document is TRUE.
The content of the stylesheet is copied verbatim into a &lsquo;<span class="samp">&#8288;&lt;style&gt;&#8288;</span>&rsquo;
tag in that case. See <code><a href="#topic+getStyleFile">getStyleFile</a></code> for details
on where the stylesheet can be located</p>
</td></tr>
<tr><td><code id="translator_html_+3A_...">...</code></td>
<td>
<p>Additional arguments. unused.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A renderer capable suitable for the &lsquo;<span class="samp">&#8288;renderer&#8288;</span>&rsquo; argument
of <code><a href="#topic+highlight">highlight</a></code>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+renderer">renderer</a></code> for a description of the interface
this renderer is implementing. 
</p>
<p><code><a href="#topic+highlight">highlight</a></code> takes a renderer argument to which it 
delegates rendering.
</p>

<hr>
<h2 id='translator_latex'>LaTeX translator</h2><span id='topic+translator_latex'></span>

<h3>Description</h3>

<p>This function translates character vectors so that they nicely print
in LaTeX. In particular this uses latex boxes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>translator_latex(
  x,
  size = c("normalsize", "tiny", "scriptsize", "footnotesize", "small", "large", "Large",
    "LARGE", "huge", "Huge")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="translator_latex_+3A_x">x</code></td>
<td>
<p>text to translate</p>
</td></tr>
<tr><td><code id="translator_latex_+3A_size">size</code></td>
<td>
<p>font size</p>
</td></tr>
</table>


<h3>Value</h3>

<p>translated text
</p>


<h3>See Also</h3>

<p>the latex renderer: <code><a href="#topic+renderer_latex">renderer_latex</a></code> uses this translator.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

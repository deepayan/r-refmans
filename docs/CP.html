<!DOCTYPE html><html><head><title>Help for package CP</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {CP}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#CalcConPwrExp'>
<p>Auxiliary Function</p></a></li>
<li><a href='#CalcConPwrExpAndersen'>
<p>Auxiliary Function</p></a></li>
<li><a href='#CalcConPwrNonMix'>
<p>Auxiliary Function</p></a></li>
<li><a href='#CompSurvMod'>
<p>Conditional Power (Comparison)</p></a></li>
<li><a href='#ConPwrExp'>
<p>Conditional Power (Exponential)</p></a></li>
<li><a href='#ConPwrExpAndersen'>
<p>Conditional Power (Exponential (Andersen))</p></a></li>
<li><a href='#ConPwrNonMixExp'>
<p>Conditional Power (Non-Mixture-Exponential)</p></a></li>
<li><a href='#ConPwrNonMixGamma'>
<p>Conditional Power (Non-Mixture-Gamma)</p></a></li>
<li><a href='#ConPwrNonMixWei'>
<p>Conditional Power (Non-Mixture-Weibull)</p></a></li>
<li><a href='#CP-package'>
<p>Conditional Power Calculations</p></a></li>
<li><a href='#DispConPwr'>
<p>Auxiliary Function</p></a></li>
<li><a href='#DispConPwrAll'>
<p>Auxiliary Function</p></a></li>
<li><a href='#DispDataAll'>
<p>Auxiliary Function</p></a></li>
<li><a href='#DispDataExp'>
<p>Auxiliary Function</p></a></li>
<li><a href='#DispDataNonMixExp'>
<p>Auxiliary Function</p></a></li>
<li><a href='#DispDataNonMixGamma'>
<p>Auxiliary Function</p></a></li>
<li><a href='#DispDataNonMixWei'>
<p>Auxiliary Function</p></a></li>
<li><a href='#FctPersMonNonMixExp'>
<p>Auxiliary Function</p></a></li>
<li><a href='#FctPersMonNonMixGamma'>
<p>Auxiliary Function</p></a></li>
<li><a href='#FctPersMonNonMixWei'>
<p>Auxiliary Function</p></a></li>
<li><a href='#GenerateDataFrame'>
<p>Generating Data Frame</p></a></li>
<li><a href='#InitValLikelihoodNonMixExp'>
<p>Auxiliary Function</p></a></li>
<li><a href='#InitValLikelihoodNonMixGamma'>
<p>Auxiliary Function</p></a></li>
<li><a href='#InitValLikelihoodNonMixWei'>
<p>Auxiliary Function</p></a></li>
<li><a href='#InterimData'>
<p>Auxiliary Function</p></a></li>
<li><a href='#IsValid'>
<p>Auxiliary Function</p></a></li>
<li><a href='#LikelihoodNonMixExp'>
<p>Auxiliary Function</p></a></li>
<li><a href='#LikelihoodNonMixGamma'>
<p>Auxiliary Function</p></a></li>
<li><a href='#LikelihoodNonMixWei'>
<p>Auxiliary Function</p></a></li>
<li><a href='#PersMonExp'>
<p>Auxiliary Function</p></a></li>
<li><a href='#PersMonNonMixExp'>
<p>Auxiliary Function</p></a></li>
<li><a href='#PersMonNonMixGamma'>
<p>Auxiliary Function</p></a></li>
<li><a href='#PersMonNonMixWei'>
<p>Auxiliary Function</p></a></li>
<li><a href='#PlotConPwr'>
<p>Auxiliary Function</p></a></li>
<li><a href='#PlotConPwrAll'>
<p>Auxiliary Function</p></a></li>
<li><a href='#PlotEstExp'>
<p>Auxiliary Function</p></a></li>
<li><a href='#PlotEstNonMixExp'>
<p>Auxiliary Function</p></a></li>
<li><a href='#PlotEstNonMixGamma'>
<p>Auxiliary Function</p></a></li>
<li><a href='#PlotEstNonMixWei'>
<p>Auxiliary Function</p></a></li>
<li><a href='#PlotKM'>
<p>Auxiliary Function</p></a></li>
<li><a href='#SplitData'>
<p>Auxiliary Function</p></a></li>
<li><a href='#test'>
<p>Test Data Frame</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Conditional Power Calculations</td>
</tr>
<tr>
<td>Version:</td>
<td>1.8</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-05-17</td>
</tr>
<tr>
<td>Author:</td>
<td>Andreas Kuehnapfel</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Andreas Kuehnapfel &lt;andreas.kuehnapfel@imise.uni-leipzig.de&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>R(&ge; 3.3.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>stats, graphics, survival</td>
</tr>
<tr>
<td>Description:</td>
<td>Functions for calculating the conditional power
             for different models in survival time analysis
             within randomized clinical trials
             with two different treatments to be compared
             and survival as an endpoint.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://www.genstat.imise.uni-leipzig.de/">https://www.genstat.imise.uni-leipzig.de/</a></td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>LazyData:</td>
<td>yes</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-05-17 21:39:10 UTC; Andreas Kuehnapfel</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-05-19 14:20:05 UTC</td>
</tr>
</table>
<hr>
<h2 id='CalcConPwrExp'>
Auxiliary Function
</h2><span id='topic+CalcConPwrExp'></span>

<h3>Description</h3>

<p>Calculates the conditional power in the exponential model.
</p>


<h3>Author(s)</h3>

<p>Andreas Kuehnapfel
</p>


<h3>See Also</h3>

<p><code><a href="#topic+CP">CP</a></code>
<code><a href="#topic+ConPwrExp">ConPwrExp</a></code>
<code><a href="#topic+CompSurvMod">CompSurvMod</a></code>
</p>

<hr>
<h2 id='CalcConPwrExpAndersen'>
Auxiliary Function
</h2><span id='topic+CalcConPwrExpAndersen'></span>

<h3>Description</h3>

<p>Calculates the conditional power in the exponential model
with the original formulae of the Andersen paper.
</p>


<h3>Author(s)</h3>

<p>Andreas Kuehnapfel
</p>


<h3>See Also</h3>

<p><code><a href="#topic+CP">CP</a></code>
<code><a href="#topic+ConPwrExp">ConPwrExp</a></code>
<code><a href="#topic+CompSurvMod">CompSurvMod</a></code>
</p>

<hr>
<h2 id='CalcConPwrNonMix'>
Auxiliary Function
</h2><span id='topic+CalcConPwrNonMix'></span>

<h3>Description</h3>

<p>Calculates the conditional power in the non-mixture models.
</p>


<h3>Author(s)</h3>

<p>Andreas Kuehnapfel
</p>


<h3>See Also</h3>

<p><code><a href="#topic+CP">CP</a></code>
<code><a href="#topic+ConPwrNonMixExp">ConPwrNonMixExp</a></code>
<code><a href="#topic+ConPwrNonMixWei">ConPwrNonMixWei</a></code>
<code><a href="#topic+ConPwrNonMixGamma">ConPwrNonMixGamma</a></code>
<code><a href="#topic+CompSurvMod">CompSurvMod</a></code>
</p>

<hr>
<h2 id='CompSurvMod'>
Conditional Power (Comparison)
</h2><span id='topic+CompSurvMod'></span>

<h3>Description</h3>

<p>Calculates the conditional power within the exponential model
and the non-mixture models with exponential, Weibull type
and Gamma type survival.
</p>


<h3>Usage</h3>

<pre><code class='language-R'> CompSurvMod(data, cont.time, new.pat = c(0, 0),
             theta.0 = 1, alpha = 0.05,
             disp.data = FALSE, plot.km = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CompSurvMod_+3A_data">data</code></td>
<td>

<p>Data frame which consists of at least three columns with the group
(two different expressions) in the first,
status (1 = event, 0 = censored) in the second
and event time in the third column.
</p>
</td></tr>
<tr><td><code id="CompSurvMod_+3A_cont.time">cont.time</code></td>
<td>

<p>Period of time of continuing the trial.
</p>
</td></tr>
<tr><td><code id="CompSurvMod_+3A_new.pat">new.pat</code></td>
<td>

<p>2-dimensional vector which consists of numbers of new patients
who will be recruited each time unit
(first component = group 1, second component = group 2)
with default at (0, 0).
</p>
</td></tr>
<tr><td><code id="CompSurvMod_+3A_theta.0">theta.0</code></td>
<td>

<p>Originally postulated clinically relevant difference
(hazard ratio = hazard of group 2 / hazard of group 1)
with default at 1.
</p>
</td></tr>
<tr><td><code id="CompSurvMod_+3A_alpha">alpha</code></td>
<td>

<p>Significance level for conditional power calculations
with default at 0.05.
</p>
</td></tr>
<tr><td><code id="CompSurvMod_+3A_disp.data">disp.data</code></td>
<td>

<p>Logical value indicating if all calculated data should be displayed
with default at FALSE.
</p>
</td></tr>
<tr><td><code id="CompSurvMod_+3A_plot.km">plot.km</code></td>
<td>

<p>Logical value indicating if Kaplan-Meier curves
and estimated survival curves according to
the four mentioned models should be plotted
with default at FALSE.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function calculates the conditional power within the exponential model
and the non-mixture models with exponential, Weibull type
and Gamma type survival and plots the conditional power curves.
</p>
<p>Optionally, further data will be displayed.
This includes data from interim analysis, log-likelihoods, AICs,
calculated estimators and further patient times.
</p>
<p>Moreover, it is possible to plot the Kaplan-Meier curves
and the estimated survival curves according to
the four mentioned models.
</p>


<h3>Value</h3>

<p>See Details.
</p>
<p>Returns a list which consists of the following components:
</p>
<table>
<tr><td><code>lambda1.hat.exp</code></td>
<td>

<p>estimated hazard of group 1
within the exponential model
</p>
</td></tr>
<tr><td><code>lambda2.hat.exp</code></td>
<td>

<p>estimated hazard of group 2
within the exponential model
</p>
</td></tr>
<tr><td><code>theta.hat.exp</code></td>
<td>

<p>estimated hazard ratio
= estimated hazard of group 2 / estimated hazard of group 1
within the exponential model
</p>
</td></tr>
<tr><td><code>gamma.theta.0.exp</code></td>
<td>

<p>conditional power
within the exponential model
</p>
</td></tr>
<tr><td><code>lambda1.hat.nm.exp</code></td>
<td>

<p>estimated rate parameter of group 1
within the non-mixture model with exponential survival
</p>
</td></tr>
<tr><td><code>c1.hat.nm.exp</code></td>
<td>

<p>estimated survival fraction of group 1
within the non-mixture model with exponential survival
</p>
</td></tr>
<tr><td><code>lambda2.hat.nm.exp</code></td>
<td>

<p>estimated rate parameter of group 2
within the non-mixture model with exponential survival
</p>
</td></tr>
<tr><td><code>c2.hat.nm.exp</code></td>
<td>

<p>estimated survival fraction of group 2
within the non-mixture model with exponential survival
</p>
</td></tr>
<tr><td><code>theta.hat.nm.exp</code></td>
<td>

<p>estimated hazard ratio
= <code class="reqn">log(</code>estimated survival fraction of group 2<code class="reqn">)</code>
/ <code class="reqn">log(</code>estimated survival fraction of group 1<code class="reqn">)</code>
within the non-mixture model with exponential survival
</p>
</td></tr>
<tr><td><code>gamma.theta.0.nm.exp</code></td>
<td>

<p>conditional power
within the non-mixture model with exponential survival
</p>
</td></tr>
<tr><td><code>lambda1.hat.nm.wei</code></td>
<td>

<p>estimated scale parameter of group 1
within the non-mixture model with Weibull type survival
</p>
</td></tr>
<tr><td><code>k1.hat.nm.wei</code></td>
<td>

<p>estimated shape parameter of group 1
within the non-mixture model with Weibull type survival
</p>
</td></tr>
<tr><td><code>c1.hat.nm.wei</code></td>
<td>

<p>estimated survival fraction of group 1
within the non-mixture model with Weibull type survival
</p>
</td></tr>
<tr><td><code>lambda2.hat.nm.wei</code></td>
<td>

<p>estimated scale parameter of group 2
within the non-mixture model with Weibull type survival
</p>
</td></tr>
<tr><td><code>k2.hat.nm.wei</code></td>
<td>

<p>estimated shape parameter of group 2
within the non-mixture model with Weibull type survival
</p>
</td></tr>
<tr><td><code>c2.hat.nm.wei</code></td>
<td>

<p>estimated survival fraction of group 2
within the non-mixture model with Weibull type survival
</p>
</td></tr>
<tr><td><code>theta.hat.nm.wei</code></td>
<td>

<p>estimated hazard ratio
= <code class="reqn">log(</code>estimated survival fraction of group 2<code class="reqn">)</code>
/ <code class="reqn">log(</code>estimated survival fraction of group 1<code class="reqn">)</code>
within the non-mixture model with Weibull type survival
</p>
</td></tr>
<tr><td><code>gamma.theta.0.nm.wei</code></td>
<td>

<p>conditional power
within the non-mixture model with Weibull type survival
</p>
</td></tr>
<tr><td><code>a1.hat.nm.gamma</code></td>
<td>

<p>estimated shape parameter of group 1
within the non-mixture model with Gamma type survival
</p>
</td></tr>
<tr><td><code>b1.hat.nm.gamma</code></td>
<td>

<p>estimated rate parameter of group 1
within the non-mixture model with Gamma type survival
</p>
</td></tr>
<tr><td><code>c1.hat.nm.gamma</code></td>
<td>

<p>estimated survival fraction of group 1
within the non-mixture model with Gamma type survival
</p>
</td></tr>
<tr><td><code>a2.hat.nm.gamma</code></td>
<td>

<p>estimated shape parameter of group 2
within the non-mixture model with Gamma type survival
</p>
</td></tr>
<tr><td><code>b2.hat.nm.gamma</code></td>
<td>

<p>estimated rate parameter of group 2
within the non-mixture model with Gamma type survival
</p>
</td></tr>
<tr><td><code>c2.hat.nm.gamma</code></td>
<td>

<p>estimated survival fraction of group 2
within the non-mixture model with Gamma type survival
</p>
</td></tr>
<tr><td><code>theta.hat.nm.gamma</code></td>
<td>

<p>estimated hazard ratio
= <code class="reqn">log(</code>estimated survival fraction of group 2<code class="reqn">)</code>
/ <code class="reqn">log(</code>estimated survival fraction of group 1<code class="reqn">)</code>
within the non-mixture model with Gamma type survival
</p>
</td></tr>
<tr><td><code>gamma.theta.0.nm.gamma</code></td>
<td>

<p>conditional power
within the non-mixture model with Gamma type survival
</p>
</td></tr>
</table>


<h3>Note</h3>

<p>There are several mechanisms to ensure that no illegal operations will be done
and maximum likelihood calculations will be executed stable.
That is why there should not be too less data in the data frame,
for example one patient of each group and both being censored.
</p>


<h3>Author(s)</h3>

<p>Andreas Kuehnapfel
</p>


<h3>References</h3>

<p>Kuehnapfel, A. (2013).
Die bedingte Power in der Ueberlebenszeitanalyse.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+CP">CP</a></code> <br />
<code><a href="#topic+ConPwrExp">ConPwrExp</a></code> <br />
<code><a href="#topic+ConPwrNonMixExp">ConPwrNonMixExp</a></code> <br />
<code><a href="#topic+ConPwrNonMixWei">ConPwrNonMixWei</a></code> <br />
<code><a href="#topic+ConPwrNonMixGamma">ConPwrNonMixGamma</a></code> <br />
<code><a href="#topic+ConPwrExpAndersen">ConPwrExpAndersen</a></code> <br />
<code><a href="#topic+GenerateDataFrame">GenerateDataFrame</a></code> <br />
<code><a href="#topic+test">test</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'> # data frame 'test' generated by 'GenerateDataFrame'
 
 # conditional power calculations
 # within the four mentioned models
 CompSurvMod(data = test, cont.time = 12, new.pat = c(2.5, 2.5),
             theta.0 = 0.75, alpha = 0.05,
             disp.data = TRUE, plot.km = TRUE)
</code></pre>

<hr>
<h2 id='ConPwrExp'>
Conditional Power (Exponential)
</h2><span id='topic+ConPwrExp'></span>

<h3>Description</h3>

<p>Calculates the conditional power within the exponential model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'> ConPwrExp(data, cont.time, new.pat = c(0, 0),
           theta.0 = 1, alpha = 0.05,
           disp.data = FALSE, plot.km = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ConPwrExp_+3A_data">data</code></td>
<td>

<p>Data frame which consists of at least three columns with the group
(two different expressions) in the first,
status (1 = event, 0 = censored) in the second
and event time in the third column.
</p>
</td></tr>
<tr><td><code id="ConPwrExp_+3A_cont.time">cont.time</code></td>
<td>

<p>Period of time of continuing the trial.
</p>
</td></tr>
<tr><td><code id="ConPwrExp_+3A_new.pat">new.pat</code></td>
<td>

<p>2-dimensional vector which consists of numbers of new patients
who will be recruited each time unit
(first component = group 1, second component = group 2)
with default at (0, 0).
</p>
</td></tr>
<tr><td><code id="ConPwrExp_+3A_theta.0">theta.0</code></td>
<td>

<p>Originally postulated clinically relevant difference
(hazard ratio = hazard of group 2 / hazard of group 1)
with default at 1.
</p>
</td></tr>
<tr><td><code id="ConPwrExp_+3A_alpha">alpha</code></td>
<td>

<p>Significance level for conditional power calculations
with default at 0.05.
</p>
</td></tr>
<tr><td><code id="ConPwrExp_+3A_disp.data">disp.data</code></td>
<td>

<p>Logical value indicating if all calculated data should be displayed
with default at FALSE.
</p>
</td></tr>
<tr><td><code id="ConPwrExp_+3A_plot.km">plot.km</code></td>
<td>

<p>Logical value indicating if Kaplan-Meier curves
and estimated survival curves according to
the exponential model should be plotted
with default at FALSE.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function calculates the conditional power within
the exponential model, i. e.
</p>
<p style="text-align: center;"><code class="reqn">S(t) = e^(- \lambda t)</code>
</p>

<p>for all <code class="reqn">t \ge 0</code> and <code class="reqn">\lambda &gt; 0</code>,
and plots the conditional power curve.
</p>
<p>Optionally, further data will be displayed.
This includes data from interim analysis, log-likelihoods, AICs,
calculated estimators and further patient times.
</p>
<p>Moreover, it is possible to plot the Kaplan-Meier curves
and the estimated survival curves according to
the exponential model.
</p>


<h3>Value</h3>

<p>See Details.
</p>
<p>Returns a list which consists of the following components:
</p>
<table>
<tr><td><code>lambda1.hat</code></td>
<td>

<p>estimated hazard of group 1
</p>
</td></tr>
<tr><td><code>lambda2.hat</code></td>
<td>

<p>estimated hazard of group 2
</p>
</td></tr>
<tr><td><code>theta.hat</code></td>
<td>

<p>estimated hazard ratio
= estimated hazard of group 2 / estimated hazard of group 1
</p>
</td></tr>
<tr><td><code>gamma.theta.0</code></td>
<td>

<p>conditional power
</p>
</td></tr>
</table>


<h3>Note</h3>

<p>There are several mechanisms to ensure that no illegal operations will be done.
That is why there should not be too less data in the data frame,
for example one patient of each group and both being censored.
</p>


<h3>Author(s)</h3>

<p>Andreas Kuehnapfel
</p>


<h3>References</h3>

<p>Kuehnapfel, A. (2013).
Die bedingte Power in der Ueberlebenszeitanalyse.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+CP">CP</a></code> <br />
<code><a href="#topic+GenerateDataFrame">GenerateDataFrame</a></code> <br />
<code><a href="#topic+test">test</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'> # data frame 'test' generated by 'GenerateDataFrame'
 
 # conditional power calculations
 # within the exponential model
 ConPwrExp(data = test, cont.time = 12, new.pat = c(2.5, 2.5),
           theta.0 = 0.75, alpha = 0.05,
           disp.data = TRUE, plot.km = TRUE)
</code></pre>

<hr>
<h2 id='ConPwrExpAndersen'>
Conditional Power (Exponential (Andersen))
</h2><span id='topic+ConPwrExpAndersen'></span>

<h3>Description</h3>

<p>Calculates the conditional power within the exponential model
with the original formulae of the Andersen paper.
</p>


<h3>Usage</h3>

<pre><code class='language-R'> ConPwrExpAndersen(data, cont.time, new.pat = c(0, 0),
                   theta.0 = 1, alpha = 0.05,
                   disp.data = FALSE, plot.km = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ConPwrExpAndersen_+3A_data">data</code></td>
<td>

<p>Data frame which consists of at least three columns with the group
(two different expressions) in the first,
status (1 = event, 0 = censored) in the second
and event time in the third column.
</p>
</td></tr>
<tr><td><code id="ConPwrExpAndersen_+3A_cont.time">cont.time</code></td>
<td>

<p>Period of time of continuing the trial.
</p>
</td></tr>
<tr><td><code id="ConPwrExpAndersen_+3A_new.pat">new.pat</code></td>
<td>

<p>2-dimensional vector which consists of numbers of new patients
who will be recruited each time unit
(first component = group 1, second component = group 2)
with default at (0, 0).
</p>
</td></tr>
<tr><td><code id="ConPwrExpAndersen_+3A_theta.0">theta.0</code></td>
<td>

<p>Originally postulated clinically relevant difference
(hazard ratio = hazard of group 2 / hazard of group 1)
with default at 1.
</p>
</td></tr>
<tr><td><code id="ConPwrExpAndersen_+3A_alpha">alpha</code></td>
<td>

<p>Significance level for conditional power calculations
with default at 0.05.
</p>
</td></tr>
<tr><td><code id="ConPwrExpAndersen_+3A_disp.data">disp.data</code></td>
<td>

<p>Logical value indicating if all calculated data should be displayed
with default at FALSE.
</p>
</td></tr>
<tr><td><code id="ConPwrExpAndersen_+3A_plot.km">plot.km</code></td>
<td>

<p>Logical value indicating if Kaplan-Meier curves
and estimated survival curves according to
the exponential model should be plotted
with default at FALSE.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function calculates the conditional power within
the exponential model, i. e.
</p>
<p style="text-align: center;"><code class="reqn">S(t) = e^(- \lambda t)</code>
</p>

<p>for all <code class="reqn">t \ge 0</code> and <code class="reqn">\lambda &gt; 0</code>,
and plots the conditional power curve.
The original formulae of the Andersen paper are used.
</p>
<p>Optionally, further data will be displayed.
This includes data from interim analysis, log-likelihoods, AICs,
calculated estimators and further patient times.
</p>
<p>Moreover, it is possible to plot the Kaplan-Meier curves
and the estimated survival curves according to
the exponential model.
</p>


<h3>Value</h3>

<p>See Details.
</p>
<p>Returns a list which consists of the following components:
</p>
<table>
<tr><td><code>lambda1.hat</code></td>
<td>

<p>estimated hazard of group 1
</p>
</td></tr>
<tr><td><code>lambda2.hat</code></td>
<td>

<p>estimated hazard of group 2
</p>
</td></tr>
<tr><td><code>theta.hat</code></td>
<td>

<p>estimated hazard ratio
= estimated hazard of group 2 / estimated hazard of group 1
</p>
</td></tr>
<tr><td><code>gamma.theta.0</code></td>
<td>

<p>conditional power
</p>
</td></tr>
</table>


<h3>Note</h3>

<p>There are several mechanisms to ensure that no illegal operations will be done.
That is why there should not be too less data in the data frame,
for example one patient of each group and both being censored.
</p>


<h3>Author(s)</h3>

<p>Andreas Kuehnapfel
</p>


<h3>References</h3>

<p>Andersen, P. K. (1987).
Conditional power calculations as an aid in the decision
whether to continue a clinical trial.
Controlled Clinical Trials 8, 67-74.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+CP">CP</a></code> <br />
<code><a href="#topic+GenerateDataFrame">GenerateDataFrame</a></code> <br />
<code><a href="#topic+test">test</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'> # data frame 'test' generated by 'GenerateDataFrame'
 
 # conditional power calculations
 # within the exponential model
 # with the original formulae of the Andersen paper
 ConPwrExpAndersen(data = test, cont.time = 12, new.pat = c(2.5, 2.5),
                   theta.0 = 0.75, alpha = 0.05,
                   disp.data = TRUE, plot.km = TRUE)
</code></pre>

<hr>
<h2 id='ConPwrNonMixExp'>
Conditional Power (Non-Mixture-Exponential)
</h2><span id='topic+ConPwrNonMixExp'></span>

<h3>Description</h3>

<p>Calculates the conditional power within
the non-mixture model with exponential survival.
</p>


<h3>Usage</h3>

<pre><code class='language-R'> ConPwrNonMixExp(data, cont.time, new.pat = c(0, 0),
                 theta.0 = 1, alpha = 0.05,
                 disp.data = FALSE, plot.km = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ConPwrNonMixExp_+3A_data">data</code></td>
<td>

<p>Data frame which consists of at least three columns with the group
(two different expressions) in the first,
status (1 = event, 0 = censored) in the second
and event time in the third column.
</p>
</td></tr>
<tr><td><code id="ConPwrNonMixExp_+3A_cont.time">cont.time</code></td>
<td>

<p>Period of time of continuing the trial.
</p>
</td></tr>
<tr><td><code id="ConPwrNonMixExp_+3A_new.pat">new.pat</code></td>
<td>

<p>2-dimensional vector which consists of numbers of new patients
who will be recruited each time unit
(first component = group 1, second component = group 2)
with default at (0, 0).
</p>
</td></tr>
<tr><td><code id="ConPwrNonMixExp_+3A_theta.0">theta.0</code></td>
<td>

<p>Originally postulated clinically relevant difference
(hazard ratio = hazard of group 2 / hazard of group 1)
with default at 1.
</p>
</td></tr>
<tr><td><code id="ConPwrNonMixExp_+3A_alpha">alpha</code></td>
<td>

<p>Significance level for conditional power calculations
with default at 0.05.
</p>
</td></tr>
<tr><td><code id="ConPwrNonMixExp_+3A_disp.data">disp.data</code></td>
<td>

<p>Logical value indicating if all calculated data should be displayed
with default at FALSE.
</p>
</td></tr>
<tr><td><code id="ConPwrNonMixExp_+3A_plot.km">plot.km</code></td>
<td>

<p>Logical value indicating if Kaplan-Meier curves
and estimated survival curves according to
the non-mixture model with exponential survival should be plotted
with default at FALSE.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function calculates the conditional power within
the non-mixture model with exponential survival, i. e.
</p>
<p style="text-align: center;"><code class="reqn">S(t) = c^(1 - e^(- \lambda t))</code>
</p>

<p>for all <code class="reqn">t \ge 0</code>, <code class="reqn">\lambda &gt; 0</code> and <code class="reqn">0 &lt; c &lt; 1</code>,
and plots the conditional power curve.
</p>
<p>Optionally, further data will be displayed.
This includes data from interim analysis, log-likelihoods, AICs,
calculated estimators and further patient times.
</p>
<p>Moreover, it is possible to plot the Kaplan-Meier curves
and the estimated survival curves according to
the non-mixture model with exponential survival.
</p>


<h3>Value</h3>

<p>See Details.
</p>
<p>Returns a list which consists of the following components:
</p>
<table>
<tr><td><code>lambda1.hat</code></td>
<td>

<p>estimated rate parameter of group 1
</p>
</td></tr>
<tr><td><code>c1.hat</code></td>
<td>

<p>estimated survival fraction of group 1
</p>
</td></tr>
<tr><td><code>lambda2.hat</code></td>
<td>

<p>estimated rate parameter of group 2
</p>
</td></tr>
<tr><td><code>c2.hat</code></td>
<td>

<p>estimated survival fraction of group 2
</p>
</td></tr>
<tr><td><code>theta.hat</code></td>
<td>

<p>estimated hazard ratio
= <code class="reqn">log(</code>estimated survival fraction of group 2<code class="reqn">)</code>
/ <code class="reqn">log(</code>estimated survival fraction of group 1<code class="reqn">)</code>
</p>
</td></tr>
<tr><td><code>gamma.theta.0</code></td>
<td>

<p>conditional power
</p>
</td></tr>
</table>


<h3>Note</h3>

<p>There are several mechanisms to ensure that no illegal operations will be done
and maximum likelihood calculations will be executed stable.
That is why there should not be too less data in the data frame,
for example one patient of each group and both being censored.
</p>


<h3>Author(s)</h3>

<p>Andreas Kuehnapfel
</p>


<h3>References</h3>

<p>Kuehnapfel, A. (2013).
Die bedingte Power in der Ueberlebenszeitanalyse.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+CP">CP</a></code> <br />
<code><a href="#topic+GenerateDataFrame">GenerateDataFrame</a></code> <br />
<code><a href="#topic+test">test</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'> # data frame 'test' generated by 'GenerateDataFrame'
 
 # conditional power calculations
 # within the non-mixture model with exponential survival
 ConPwrNonMixExp(data = test, cont.time = 12, new.pat = c(2.5, 2.5),
                 theta.0 = 0.75, alpha = 0.05,
                 disp.data = TRUE, plot.km = TRUE)
</code></pre>

<hr>
<h2 id='ConPwrNonMixGamma'>
Conditional Power (Non-Mixture-Gamma)
</h2><span id='topic+ConPwrNonMixGamma'></span>

<h3>Description</h3>

<p>Calculates the conditional power within
the non-mixture model with Gamma type survival.
</p>


<h3>Usage</h3>

<pre><code class='language-R'> ConPwrNonMixGamma(data, cont.time, new.pat = c(0, 0),
                   theta.0 = 1, alpha = 0.05,
                   disp.data = FALSE, plot.km = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ConPwrNonMixGamma_+3A_data">data</code></td>
<td>

<p>Data frame which consists of at least three columns with the group
(two different expressions) in the first,
status (1 = event, 0 = censored) in the second
and event time in the third column.
</p>
</td></tr>
<tr><td><code id="ConPwrNonMixGamma_+3A_cont.time">cont.time</code></td>
<td>

<p>Period of time of continuing the trial.
</p>
</td></tr>
<tr><td><code id="ConPwrNonMixGamma_+3A_new.pat">new.pat</code></td>
<td>

<p>2-dimensional vector which consists of numbers of new patients
who will be recruited each time unit
(first component = group 1, second component = group 2)
with default at (0, 0).
</p>
</td></tr>
<tr><td><code id="ConPwrNonMixGamma_+3A_theta.0">theta.0</code></td>
<td>

<p>Originally postulated clinically relevant difference
(hazard ratio = hazard of group 2 / hazard of group 1)
with default at 1.
</p>
</td></tr>
<tr><td><code id="ConPwrNonMixGamma_+3A_alpha">alpha</code></td>
<td>

<p>Significance level for conditional power calculations
with default at 0.05.
</p>
</td></tr>
<tr><td><code id="ConPwrNonMixGamma_+3A_disp.data">disp.data</code></td>
<td>

<p>Logical value indicating if all calculated data should be displayed
with default at FALSE.
</p>
</td></tr>
<tr><td><code id="ConPwrNonMixGamma_+3A_plot.km">plot.km</code></td>
<td>

<p>Logical value indicating if Kaplan-Meier curves
and estimated survival curves according to
the non-mixture model with Gamma type survival should be plotted
with default at FALSE.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function calculates the conditional power within
the non-mixture model with Gamma type survival, i. e.
</p>
<p style="text-align: center;"><code class="reqn">S(t) = c^(\Gamma^(0)(a, b t))</code>
</p>

<p>for all <code class="reqn">t \ge 0</code>, <code class="reqn">a &gt; 0</code>, <code class="reqn">b &gt; 0</code> and <code class="reqn">0 &lt; c &lt; 1</code>
with <code class="reqn">\Gamma^(0)</code> being
the regularized incomplete Gamma function of the upper bound,
and plots the conditional power curve.
</p>
<p>Optionally, further data will be displayed.
This includes data from interim analysis, log-likelihoods, AICs,
calculated estimators and further patient times.
</p>
<p>Moreover, it is possible to plot the Kaplan-Meier curves
and the estimated survival curves according to
the non-mixture model with Gamma type survival.
</p>


<h3>Value</h3>

<p>See Details.
</p>
<p>Returns a list which consists of the following components:
</p>
<table>
<tr><td><code>a1.hat</code></td>
<td>

<p>estimated shape parameter of group 1
</p>
</td></tr>
<tr><td><code>b1.hat</code></td>
<td>

<p>estimated rate parameter of group 1
</p>
</td></tr>
<tr><td><code>c1.hat</code></td>
<td>

<p>estimated survival fraction of group 1
</p>
</td></tr>
<tr><td><code>a2.hat</code></td>
<td>

<p>estimated shape parameter of group 2
</p>
</td></tr>
<tr><td><code>b2.hat</code></td>
<td>

<p>estimated rate parameter of group 2
</p>
</td></tr>
<tr><td><code>c2.hat</code></td>
<td>

<p>estimated survival fraction of group 2
</p>
</td></tr>
<tr><td><code>theta.hat</code></td>
<td>

<p>estimated hazard ratio
= <code class="reqn">log(</code>estimated survival fraction of group 2<code class="reqn">)</code>
/ <code class="reqn">log(</code>estimated survival fraction of group 1<code class="reqn">)</code>
</p>
</td></tr>
<tr><td><code>gamma.theta.0</code></td>
<td>

<p>conditional power
</p>
</td></tr>
</table>


<h3>Note</h3>

<p>There are several mechanisms to ensure that no illegal operations will be done
and maximum likelihood calculations will be executed stable.
That is why there should not be too less data in the data frame,
for example one patient of each group and both being censored.
</p>


<h3>Author(s)</h3>

<p>Andreas Kuehnapfel
</p>


<h3>References</h3>

<p>Kuehnapfel, A. (2013).
Die bedingte Power in der Ueberlebenszeitanalyse.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+CP">CP</a></code> <br />
<code><a href="#topic+GenerateDataFrame">GenerateDataFrame</a></code> <br />
<code><a href="#topic+test">test</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'> # data frame 'test' generated by 'GenerateDataFrame'
 
 # conditional power calculations
 # within the non-mixture model with Gamma type survival
 ConPwrNonMixGamma(data = test, cont.time = 12, new.pat = c(2.5, 2.5),
                   theta.0 = 0.75, alpha = 0.05,
                   disp.data = TRUE, plot.km = TRUE)
</code></pre>

<hr>
<h2 id='ConPwrNonMixWei'>
Conditional Power (Non-Mixture-Weibull)
</h2><span id='topic+ConPwrNonMixWei'></span>

<h3>Description</h3>

<p>Calculates the conditional power within
the non-mixture model with Weibull type survival.
</p>


<h3>Usage</h3>

<pre><code class='language-R'> ConPwrNonMixWei(data, cont.time, new.pat = c(0, 0),
                 theta.0 = 1, alpha = 0.05,
                 disp.data = FALSE, plot.km = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ConPwrNonMixWei_+3A_data">data</code></td>
<td>

<p>Data frame which consists of at least three columns with the group
(two different expressions) in the first,
status (1 = event, 0 = censored) in the second
and event time in the third column.
</p>
</td></tr>
<tr><td><code id="ConPwrNonMixWei_+3A_cont.time">cont.time</code></td>
<td>

<p>Period of time of continuing the trial.
</p>
</td></tr>
<tr><td><code id="ConPwrNonMixWei_+3A_new.pat">new.pat</code></td>
<td>

<p>2-dimensional vector which consists of numbers of new patients
who will be recruited each time unit
(first component = group 1, second component = group 2)
with default at (0, 0).
</p>
</td></tr>
<tr><td><code id="ConPwrNonMixWei_+3A_theta.0">theta.0</code></td>
<td>

<p>Originally postulated clinically relevant difference
(hazard ratio = hazard of group 2 / hazard of group 1)
with default at 1.
</p>
</td></tr>
<tr><td><code id="ConPwrNonMixWei_+3A_alpha">alpha</code></td>
<td>

<p>Significance level for conditional power calculations
with default at 0.05.
</p>
</td></tr>
<tr><td><code id="ConPwrNonMixWei_+3A_disp.data">disp.data</code></td>
<td>

<p>Logical value indicating if all calculated data should be displayed
with default at FALSE.
</p>
</td></tr>
<tr><td><code id="ConPwrNonMixWei_+3A_plot.km">plot.km</code></td>
<td>

<p>Logical value indicating if Kaplan-Meier curves
and estimated survival curves according to
the non-mixture model with Weibull type survival should be plotted
with default at FALSE.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function calculates the conditional power within
the non-mixture model with Weibull type survival, i. e.
</p>
<p style="text-align: center;"><code class="reqn">S(t) = c^(1 - e^(- \lambda t^k))</code>
</p>

<p>for all <code class="reqn">t \ge 0</code>, <code class="reqn">\lambda &gt; 0</code>, <code class="reqn">k &gt; 0</code> and <code class="reqn">0 &lt; c &lt; 1</code>,
and plots the conditional power curve.
</p>
<p>Optionally, further data will be displayed.
This includes data from interim analysis, log-likelihoods, AICs,
calculated estimators and further patient times.
</p>
<p>Moreover, it is possible to plot the Kaplan-Meier curves
and the estimated survival curves according to
the non-mixture model with Weibull type survival.
</p>


<h3>Value</h3>

<p>See Details.
</p>
<p>Returns a list which consists of the following components:
</p>
<table>
<tr><td><code>lambda1.hat</code></td>
<td>

<p>estimated scale parameter of group 1
</p>
</td></tr>
<tr><td><code>k1.hat</code></td>
<td>

<p>estimated shape parameter of group 1
</p>
</td></tr>
<tr><td><code>c1.hat</code></td>
<td>

<p>estimated survival fraction of group 1
</p>
</td></tr>
<tr><td><code>lambda2.hat</code></td>
<td>

<p>estimated scale parameter of group 2
</p>
</td></tr>
<tr><td><code>k2.hat</code></td>
<td>

<p>estimated shape parameter of group 2
</p>
</td></tr>
<tr><td><code>c2.hat</code></td>
<td>

<p>estimated survival fraction of group 2
</p>
</td></tr>
<tr><td><code>theta.hat</code></td>
<td>

<p>estimated hazard ratio
= <code class="reqn">log(</code>estimated survival fraction of group 2<code class="reqn">)</code>
/ <code class="reqn">log(</code>estimated survival fraction of group 1<code class="reqn">)</code>
</p>
</td></tr>
<tr><td><code>gamma.theta.0</code></td>
<td>

<p>conditional power
</p>
</td></tr>
</table>


<h3>Note</h3>

<p>There are several mechanisms to ensure that no illegal operations will be done
and maximum likelihood calculations will be executed stable.
That is why there should not be too less data in the data frame,
for example one patient of each group and both being censored.
</p>


<h3>Author(s)</h3>

<p>Andreas Kuehnapfel
</p>


<h3>References</h3>

<p>Kuehnapfel, A. (2013).
Die bedingte Power in der Ueberlebenszeitanalyse.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+CP">CP</a></code> <br />
<code><a href="#topic+GenerateDataFrame">GenerateDataFrame</a></code> <br />
<code><a href="#topic+test">test</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'> # data frame 'test' generated by 'GenerateDataFrame'
 
 # conditional power calculations
 # within the non-mixture model with Weibull type survival
 ConPwrNonMixWei(data = test, cont.time = 12, new.pat = c(2.5, 2.5),
                 theta.0 = 0.75, alpha = 0.05,
                 disp.data = TRUE, plot.km = TRUE)
</code></pre>

<hr>
<h2 id='CP-package'>
Conditional Power Calculations
</h2><span id='topic+CP-package'></span><span id='topic+CP'></span>

<h3>Description</h3>

<p>This package provides several functions for calculating the conditional power
for different models in survival time analysis
within randomized clinical trials
with two different treatments to be compared
and survival as an endpoint.
</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;">
  Package: </td><td style="text-align: left;"> CP </td>
</tr>
<tr>
 <td style="text-align: left;">
  Type:    </td><td style="text-align: left;"> Package </td>
</tr>
<tr>
 <td style="text-align: left;">
  Version: </td><td style="text-align: left;"> 1.8 </td>
</tr>
<tr>
 <td style="text-align: left;">
  Date:    </td><td style="text-align: left;"> 2023-05-17 </td>
</tr>
<tr>
 <td style="text-align: left;">
  License: </td><td style="text-align: left;"> GPL-3 </td>
</tr>
<tr>
 <td style="text-align: left;">
 </td>
</tr>

</table>

<p>This package could be some help
when you want to calculate the conditional power
at the time of an interim analysis
of a randomized clinical trial with survival as an endpoint.
</p>
<p>The conditional power is defined as the probability
of obtaining a significant result at the end of the trial
when the real effect is equal to the expected effect
given the data from the interim analysis.
</p>
<p>Functions for the model with exponential survival (<code><a href="#topic+ConPwrExp">ConPwrExp</a></code>)
and the non-mixture models with exponential (<code><a href="#topic+ConPwrNonMixExp">ConPwrNonMixExp</a></code>),
Weibull type (<code><a href="#topic+ConPwrNonMixWei">ConPwrNonMixWei</a></code>)
and Gamma type survival (<code><a href="#topic+ConPwrNonMixGamma">ConPwrNonMixGamma</a></code>) are provided.
</p>
<p>There is also the function <code><a href="#topic+CompSurvMod">CompSurvMod</a></code>
to compare the four mentioned models.
</p>
<p>Additionally, there is also a function for the exponential model
with the original formulae of the Andersen paper
(<code><a href="#topic+ConPwrExpAndersen">ConPwrExpAndersen</a></code>).
</p>
<p>Finally, the user is able to generate further data frames
by random via <code><a href="#topic+GenerateDataFrame">GenerateDataFrame</a></code>.
</p>


<h3>Note</h3>

<p>The theoretical results of this implementation
are based on some assumptions. <br />
Non-Mixture-Exponential: <code class="reqn">\lambda[1] = \lambda[2]</code> <br />
Non-Mixture-Weibull: <code class="reqn">\lambda[1] = \lambda[2]</code> and <code class="reqn">k[1] = k[2]</code> <br />
Non-Mixture-Gamma: <code class="reqn">a[1] = a[2]</code> and <code class="reqn">b[1] = b[2]</code>
</p>
<p>In general, such assumptions are not fulfilled when using real data.
</p>
<p>Nevertheless, when doing conditional power calculations
the situation is that you have no significant difference
at the time of interim analysis.
In this case, no treatment arm is superior to the other one.
Thus, the assumptions named above are approximately satisfied.
</p>
<p>In contrast to this, caution should be exercised
when calculating the conditional power
in the case of significant results at the time of interim analysis.  
</p>


<h3>Author(s)</h3>

<p>Andreas Kuehnapfel
</p>
<p>Maintainer: Andreas Kuehnapfel &lt;andreas.kuehnapfel@imise.uni-leipzig.de&gt;
</p>


<h3>References</h3>

<p>Andreas Kuehnapfel, Fabian Schwarzenberger, Markus Scholz.
On the Conditional Power in Survival Time Analysis
Considering Cure Fractions.
The International Journal of Biostatistics 13 (1), 2017.
</p>
<p>Per Kragh Andersen.
Conditional power calculations as an aid in the decision
whether to continue a clinical trial.
Controlled Clinical Trials 8 (1), 67-74, 1987.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ConPwrExp">ConPwrExp</a></code> <br />
<code><a href="#topic+ConPwrNonMixExp">ConPwrNonMixExp</a></code> <br />
<code><a href="#topic+ConPwrNonMixWei">ConPwrNonMixWei</a></code> <br /> 
<code><a href="#topic+ConPwrNonMixGamma">ConPwrNonMixGamma</a></code> <br />
<code><a href="#topic+CompSurvMod">CompSurvMod</a></code> <br />
<code><a href="#topic+ConPwrExpAndersen">ConPwrExpAndersen</a></code> <br />
<code><a href="#topic+GenerateDataFrame">GenerateDataFrame</a></code> <br />
<code><a href="#topic+test">test</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'> # data frame 'test' generated by 'GenerateDataFrame'
 
 # conditional power calculations
 # within the exponential model
 ConPwrExp(data = test, cont.time = 12, new.pat = c(2.5, 2.5),
           theta.0 = 0.75, alpha = 0.05,
           disp.data = TRUE, plot.km = TRUE)
           
 # conditional power calculations
 # within the non-mixture model with exponential survival
 ConPwrNonMixExp(data = test, cont.time = 12, new.pat = c(2.5, 2.5),
                 theta.0 = 0.75, alpha = 0.05,
                 disp.data = TRUE, plot.km = TRUE)
                 
 # conditional power calculations
 # within the non-mixture model with Weibull type survival
 ConPwrNonMixWei(data = test, cont.time = 12, new.pat = c(2.5, 2.5),
                 theta.0 = 0.75, alpha = 0.05,
                 disp.data = TRUE, plot.km = TRUE)
                
 # conditional power calculations
 # within the non-mixture model with Gamma type survival
 ConPwrNonMixGamma(data = test, cont.time = 12, new.pat = c(2.5, 2.5),
                   theta.0 = 0.75, alpha = 0.05,
                   disp.data = TRUE, plot.km = TRUE)
                   
 # conditional power calculations
 # within the four mentioned models
 CompSurvMod(data = test, cont.time = 12, new.pat = c(2.5, 2.5),
             theta.0 = 0.75, alpha = 0.05,
             disp.data = TRUE, plot.km = TRUE)
 
 # conditional power calculations
 # within the exponential model
 # with the original formulae of the Andersen paper
 ConPwrExpAndersen(data = test, cont.time = 12, new.pat = c(2.5, 2.5),
                   theta.0 = 0.75, alpha = 0.05,
                   disp.data = TRUE, plot.km = TRUE)
</code></pre>

<hr>
<h2 id='DispConPwr'>
Auxiliary Function
</h2><span id='topic+DispConPwr'></span>

<h3>Description</h3>

<p>Displays the conditional power in
<code><a href="#topic+ConPwrExp">ConPwrExp</a></code>, <code><a href="#topic+ConPwrNonMixExp">ConPwrNonMixExp</a></code>,
<code><a href="#topic+ConPwrNonMixWei">ConPwrNonMixWei</a></code> and <code><a href="#topic+ConPwrNonMixGamma">ConPwrNonMixGamma</a></code>.
</p>


<h3>Author(s)</h3>

<p>Andreas Kuehnapfel
</p>


<h3>See Also</h3>

<p><code><a href="#topic+CP">CP</a></code>
<code><a href="#topic+ConPwrExp">ConPwrExp</a></code>
<code><a href="#topic+ConPwrNonMixExp">ConPwrNonMixExp</a></code>
<code><a href="#topic+ConPwrNonMixWei">ConPwrNonMixWei</a></code>
<code><a href="#topic+ConPwrNonMixGamma">ConPwrNonMixGamma</a></code>
</p>

<hr>
<h2 id='DispConPwrAll'>
Auxiliary Function
</h2><span id='topic+DispConPwrAll'></span>

<h3>Description</h3>

<p>Displays the conditional power in <code><a href="#topic+CompSurvMod">CompSurvMod</a></code>.
</p>


<h3>Author(s)</h3>

<p>Andreas Kuehnapfel
</p>


<h3>See Also</h3>

<p><code><a href="#topic+CP">CP</a></code>
<code><a href="#topic+CompSurvMod">CompSurvMod</a></code>
</p>

<hr>
<h2 id='DispDataAll'>
Auxiliary Function
</h2><span id='topic+DispDataAll'></span>

<h3>Description</h3>

<p>Displays the data in <code><a href="#topic+CompSurvMod">CompSurvMod</a></code>.
</p>


<h3>Author(s)</h3>

<p>Andreas Kuehnapfel
</p>


<h3>See Also</h3>

<p><code><a href="#topic+CP">CP</a></code>
<code><a href="#topic+CompSurvMod">CompSurvMod</a></code>
</p>

<hr>
<h2 id='DispDataExp'>
Auxiliary Function
</h2><span id='topic+DispDataExp'></span>

<h3>Description</h3>

<p>Displays the data in the exponential model.
</p>


<h3>Author(s)</h3>

<p>Andreas Kuehnapfel
</p>


<h3>See Also</h3>

<p><code><a href="#topic+CP">CP</a></code>
<code><a href="#topic+ConPwrExp">ConPwrExp</a></code>
</p>

<hr>
<h2 id='DispDataNonMixExp'>
Auxiliary Function
</h2><span id='topic+DispDataNonMixExp'></span>

<h3>Description</h3>

<p>Displays the data in the non-mixture model with exponential survival.
</p>


<h3>Author(s)</h3>

<p>Andreas Kuehnapfel
</p>


<h3>See Also</h3>

<p><code><a href="#topic+CP">CP</a></code>
<code><a href="#topic+ConPwrNonMixExp">ConPwrNonMixExp</a></code>
</p>

<hr>
<h2 id='DispDataNonMixGamma'>
Auxiliary Function
</h2><span id='topic+DispDataNonMixGamma'></span>

<h3>Description</h3>

<p>Displays the data in the non-mixture model with Gamma type survival.
</p>


<h3>Author(s)</h3>

<p>Andreas Kuehnapfel
</p>


<h3>See Also</h3>

<p><code><a href="#topic+CP">CP</a></code>
<code><a href="#topic+ConPwrNonMixGamma">ConPwrNonMixGamma</a></code>
</p>

<hr>
<h2 id='DispDataNonMixWei'>
Auxiliary Function
</h2><span id='topic+DispDataNonMixWei'></span>

<h3>Description</h3>

<p>Displays the data in the non-mixture model with Weibull type survival.
</p>


<h3>Author(s)</h3>

<p>Andreas Kuehnapfel
</p>


<h3>See Also</h3>

<p><code><a href="#topic+CP">CP</a></code>
<code><a href="#topic+ConPwrNonMixWei">ConPwrNonMixWei</a></code>
</p>

<hr>
<h2 id='FctPersMonNonMixExp'>
Auxiliary Function
</h2><span id='topic+FctPersMonNonMixExp'></span>

<h3>Description</h3>

<p>Calculates the value of some function of the further person months
in the non-mixture model with exponential survival.
</p>


<h3>Author(s)</h3>

<p>Andreas Kuehnapfel
</p>


<h3>See Also</h3>

<p><code><a href="#topic+CP">CP</a></code>
<code><a href="#topic+ConPwrNonMixExp">ConPwrNonMixExp</a></code>
</p>

<hr>
<h2 id='FctPersMonNonMixGamma'>
Auxiliary Function
</h2><span id='topic+FctPersMonNonMixGamma'></span>

<h3>Description</h3>

<p>Calculates the value of some function of the further person months
in the non-mixture model with Gamma type survival.
</p>


<h3>Author(s)</h3>

<p>Andreas Kuehnapfel
</p>


<h3>See Also</h3>

<p><code><a href="#topic+CP">CP</a></code>
<code><a href="#topic+ConPwrNonMixGamma">ConPwrNonMixGamma</a></code>
</p>

<hr>
<h2 id='FctPersMonNonMixWei'>
Auxiliary Function
</h2><span id='topic+FctPersMonNonMixWei'></span>

<h3>Description</h3>

<p>Calculates the value of some function of the further person months
in the non-mixture model with Weibull type survival.
</p>


<h3>Author(s)</h3>

<p>Andreas Kuehnapfel
</p>


<h3>See Also</h3>

<p><code><a href="#topic+CP">CP</a></code>
<code><a href="#topic+ConPwrNonMixWei">ConPwrNonMixWei</a></code>
</p>

<hr>
<h2 id='GenerateDataFrame'>
Generating Data Frame
</h2><span id='topic+GenerateDataFrame'></span>

<h3>Description</h3>

<p>Generates a data frame for conditional power calculations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'> GenerateDataFrame()
</code></pre>


<h3>Details</h3>

<p>This function generates a data frame for
testing the conditional power calculating functions.
</p>
<p>Its data is generated by random in the following way:
</p>
<p>The number of all patients is a realization of
a Poisson distributed random variable with parameter 200.
</p>
<p>The probability of censoring is a realization of
a uniform distributed random variable of the interval from 0.4 to 0.6,
one random variable for each of the two groups 'A' and 'B'.
</p>
<p>The patients are randomized to group 'A' or 'B'
each with probability 0.5.
</p>
<p>The status (1 = event, 0 = censored) is a realization of
a Bernoulli random variable with parameter (1 - probability of being censored).
</p>
<p>The event time is a realization of
an exponential random variable
with parameter (1 - probability of being censored). 
</p>


<h3>Value</h3>

<p>This function returns a data frame consisting of three columns:
the group ('A' or 'B') in the first ('group'),
the status (o or 1) in the second ('stat')
and the event time in the third column ('time').
</p>


<h3>Note</h3>

<p>Of course, this is only one and also a quiet simple way of
generating data frames for interim analysis.
Such a generated data frame should be more an aid to get to know
the conditional power caluclating functions
than simulating realistic data. 
</p>


<h3>Author(s)</h3>

<p>Andreas Kuehnapfel
</p>


<h3>See Also</h3>

<p><code><a href="#topic+CP">CP</a></code> <br />
<code><a href="#topic+test">test</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'> # generate a data frame
 data &lt;- GenerateDataFrame()
</code></pre>

<hr>
<h2 id='InitValLikelihoodNonMixExp'>
Auxiliary Function
</h2><span id='topic+InitValLikelihoodNonMixExp'></span>

<h3>Description</h3>

<p>Calculates initial values for maximum likelihood calculations
in the non-mixture model with exponential survival.
</p>


<h3>Author(s)</h3>

<p>Andreas Kuehnapfel
</p>


<h3>See Also</h3>

<p><code><a href="#topic+CP">CP</a></code>
<code><a href="#topic+ConPwrNonMixExp">ConPwrNonMixExp</a></code>
</p>

<hr>
<h2 id='InitValLikelihoodNonMixGamma'>
Auxiliary Function
</h2><span id='topic+InitValLikelihoodNonMixGamma'></span>

<h3>Description</h3>

<p>Calculates initial values for maximum likelihood calculations
in the non-mixture model with Gamma type survival.
</p>


<h3>Author(s)</h3>

<p>Andreas Kuehnapfel
</p>


<h3>See Also</h3>

<p><code><a href="#topic+CP">CP</a></code>
<code><a href="#topic+ConPwrNonMixGamma">ConPwrNonMixGamma</a></code>
</p>

<hr>
<h2 id='InitValLikelihoodNonMixWei'>
Auxiliary Function
</h2><span id='topic+InitValLikelihoodNonMixWei'></span>

<h3>Description</h3>

<p>Calculates initial values for maximum likelihood calculations
in the non-mixture model with Weibull type survival.
</p>


<h3>Author(s)</h3>

<p>Andreas Kuehnapfel
</p>


<h3>See Also</h3>

<p><code><a href="#topic+CP">CP</a></code>
<code><a href="#topic+ConPwrNonMixWei">ConPwrNonMixWei</a></code>
</p>

<hr>
<h2 id='InterimData'>
Auxiliary Function
</h2><span id='topic+InterimData'></span>

<h3>Description</h3>

<p>Displays the data from the interim analysis.
</p>


<h3>Author(s)</h3>

<p>Andreas Kuehnapfel
</p>


<h3>See Also</h3>

<p><code><a href="#topic+CP">CP</a></code>
<code><a href="#topic+ConPwrExp">ConPwrExp</a></code>
<code><a href="#topic+ConPwrNonMixExp">ConPwrNonMixExp</a></code>
<code><a href="#topic+ConPwrNonMixWei">ConPwrNonMixWei</a></code>
<code><a href="#topic+ConPwrNonMixGamma">ConPwrNonMixGamma</a></code>
<code><a href="#topic+CompSurvMod">CompSurvMod</a></code>
</p>

<hr>
<h2 id='IsValid'>
Auxiliary Function
</h2><span id='topic+IsValid'></span>

<h3>Description</h3>

<p>Checks the passed parameters of the user.
</p>


<h3>Author(s)</h3>

<p>Andreas Kuehnapfel
</p>


<h3>See Also</h3>

<p><code><a href="#topic+CP">CP</a></code>
<code><a href="#topic+ConPwrExp">ConPwrExp</a></code>
<code><a href="#topic+ConPwrNonMixExp">ConPwrNonMixExp</a></code>
<code><a href="#topic+ConPwrNonMixWei">ConPwrNonMixWei</a></code>
<code><a href="#topic+ConPwrNonMixGamma">ConPwrNonMixGamma</a></code>
<code><a href="#topic+CompSurvMod">CompSurvMod</a></code>
</p>

<hr>
<h2 id='LikelihoodNonMixExp'>
Auxiliary Function
</h2><span id='topic+LikelihoodNonMixExp'></span>

<h3>Description</h3>

<p>Calculates the maximum likelihood estimators
of the non-mixture model with exponential survival.
</p>


<h3>Author(s)</h3>

<p>Andreas Kuehnapfel
</p>


<h3>See Also</h3>

<p><code><a href="#topic+CP">CP</a></code>
<code><a href="#topic+ConPwrNonMixExp">ConPwrNonMixExp</a></code>
</p>

<hr>
<h2 id='LikelihoodNonMixGamma'>
Auxiliary Function
</h2><span id='topic+LikelihoodNonMixGamma'></span>

<h3>Description</h3>

<p>Calculates the maximum likelihood estimators
of the non-mixture model with Gamma type survival.
</p>


<h3>Author(s)</h3>

<p>Andreas Kuehnapfel
</p>


<h3>See Also</h3>

<p><code><a href="#topic+CP">CP</a></code>
<code><a href="#topic+ConPwrNonMixGamma">ConPwrNonMixGamma</a></code>
</p>

<hr>
<h2 id='LikelihoodNonMixWei'>
Auxiliary Function
</h2><span id='topic+LikelihoodNonMixWei'></span>

<h3>Description</h3>

<p>Calculates the maximum likelihood estimators
of the non-mixture model with Weibull type survival.
</p>


<h3>Author(s)</h3>

<p>Andreas Kuehnapfel
</p>


<h3>See Also</h3>

<p><code><a href="#topic+CP">CP</a></code>
<code><a href="#topic+ConPwrNonMixWei">ConPwrNonMixWei</a></code>
</p>

<hr>
<h2 id='PersMonExp'>
Auxiliary Function
</h2><span id='topic+PersMonExp'></span>

<h3>Description</h3>

<p>Calculates the further person months
in the exponential model.
</p>


<h3>Author(s)</h3>

<p>Andreas Kuehnapfel
</p>


<h3>See Also</h3>

<p><code><a href="#topic+CP">CP</a></code>
<code><a href="#topic+ConPwrExp">ConPwrExp</a></code>
</p>

<hr>
<h2 id='PersMonNonMixExp'>
Auxiliary Function
</h2><span id='topic+PersMonNonMixExp'></span>

<h3>Description</h3>

<p>Calculates the further person months
in the non-mixture model with exponential survival.
</p>


<h3>Author(s)</h3>

<p>Andreas Kuehnapfel
</p>


<h3>See Also</h3>

<p><code><a href="#topic+CP">CP</a></code>
<code><a href="#topic+ConPwrNonMixExp">ConPwrNonMixExp</a></code>
</p>

<hr>
<h2 id='PersMonNonMixGamma'>
Auxiliary Function
</h2><span id='topic+PersMonNonMixGamma'></span>

<h3>Description</h3>

<p>Calculates the further person months
in the non-mixture model with Gamma type survival.
</p>


<h3>Author(s)</h3>

<p>Andreas Kuehnapfel
</p>


<h3>See Also</h3>

<p><code><a href="#topic+CP">CP</a></code>
<code><a href="#topic+ConPwrNonMixGamma">ConPwrNonMixGamma</a></code>
</p>

<hr>
<h2 id='PersMonNonMixWei'>
Auxiliary Function
</h2><span id='topic+PersMonNonMixWei'></span>

<h3>Description</h3>

<p>Calculates the further person months
in the non-mixture model with Weibull type survival.
</p>


<h3>Author(s)</h3>

<p>Andreas Kuehnapfel
</p>


<h3>See Also</h3>

<p><code><a href="#topic+CP">CP</a></code>
<code><a href="#topic+ConPwrNonMixWei">ConPwrNonMixWei</a></code>
</p>

<hr>
<h2 id='PlotConPwr'>
Auxiliary Function
</h2><span id='topic+PlotConPwr'></span>

<h3>Description</h3>

<p>Plots the conditional power curve in
<code><a href="#topic+ConPwrExp">ConPwrExp</a></code>, <code><a href="#topic+ConPwrNonMixExp">ConPwrNonMixExp</a></code>,
<code><a href="#topic+ConPwrNonMixWei">ConPwrNonMixWei</a></code> and <code><a href="#topic+ConPwrNonMixGamma">ConPwrNonMixGamma</a></code>.
</p>


<h3>Author(s)</h3>

<p>Andreas Kuehnapfel
</p>


<h3>See Also</h3>

<p><code><a href="#topic+CP">CP</a></code>
<code><a href="#topic+ConPwrExp">ConPwrExp</a></code>
<code><a href="#topic+ConPwrNonMixExp">ConPwrNonMixExp</a></code>
<code><a href="#topic+ConPwrNonMixWei">ConPwrNonMixWei</a></code>
<code><a href="#topic+ConPwrNonMixGamma">ConPwrNonMixGamma</a></code>
</p>

<hr>
<h2 id='PlotConPwrAll'>
Auxiliary Function
</h2><span id='topic+PlotConPwrAll'></span>

<h3>Description</h3>

<p>Plots the conditional power curve in <code><a href="#topic+CompSurvMod">CompSurvMod</a></code>.
</p>


<h3>Author(s)</h3>

<p>Andreas Kuehnapfel
</p>


<h3>See Also</h3>

<p><code><a href="#topic+CP">CP</a></code>
<code><a href="#topic+CompSurvMod">CompSurvMod</a></code>
</p>

<hr>
<h2 id='PlotEstExp'>
Auxiliary Function
</h2><span id='topic+PlotEstExp'></span>

<h3>Description</h3>

<p>Plots the estimated survival curves
of the exponential model.
</p>


<h3>Author(s)</h3>

<p>Andreas Kuehnapfel
</p>


<h3>See Also</h3>

<p><code><a href="#topic+CP">CP</a></code>
<code><a href="#topic+ConPwrExp">ConPwrExp</a></code>
</p>

<hr>
<h2 id='PlotEstNonMixExp'>
Auxiliary Function
</h2><span id='topic+PlotEstNonMixExp'></span>

<h3>Description</h3>

<p>Plots the estimated survival curves
of the non-mixture model with exponential survival.
</p>


<h3>Author(s)</h3>

<p>Andreas Kuehnapfel
</p>


<h3>See Also</h3>

<p><code><a href="#topic+CP">CP</a></code>
<code><a href="#topic+ConPwrNonMixExp">ConPwrNonMixExp</a></code>
</p>

<hr>
<h2 id='PlotEstNonMixGamma'>
Auxiliary Function
</h2><span id='topic+PlotEstNonMixGamma'></span>

<h3>Description</h3>

<p>Plots the estimated survival curves
of the non-mixture model with Gamma type survival.
</p>


<h3>Author(s)</h3>

<p>Andreas Kuehnapfel
</p>


<h3>See Also</h3>

<p><code><a href="#topic+CP">CP</a></code>
<code><a href="#topic+ConPwrNonMixGamma">ConPwrNonMixGamma</a></code>
</p>

<hr>
<h2 id='PlotEstNonMixWei'>
Auxiliary Function
</h2><span id='topic+PlotEstNonMixWei'></span>

<h3>Description</h3>

<p>Plots the estimated survival curves
of the non-mixture model with Weibull type survival.
</p>


<h3>Author(s)</h3>

<p>Andreas Kuehnapfel
</p>


<h3>See Also</h3>

<p><code><a href="#topic+CP">CP</a></code>
<code><a href="#topic+ConPwrNonMixWei">ConPwrNonMixWei</a></code>
</p>

<hr>
<h2 id='PlotKM'>
Auxiliary Function
</h2><span id='topic+PlotKM'></span>

<h3>Description</h3>

<p>Plots the Kaplan-Meier curves.
</p>


<h3>Author(s)</h3>

<p>Andreas Kuehnapfel
</p>


<h3>See Also</h3>

<p><code><a href="#topic+CP">CP</a></code>
<code><a href="#topic+ConPwrExp">ConPwrExp</a></code>
<code><a href="#topic+ConPwrNonMixExp">ConPwrNonMixExp</a></code>
<code><a href="#topic+ConPwrNonMixWei">ConPwrNonMixWei</a></code>
<code><a href="#topic+ConPwrNonMixGamma">ConPwrNonMixGamma</a></code>
<code><a href="#topic+CompSurvMod">CompSurvMod</a></code>
</p>

<hr>
<h2 id='SplitData'>
Auxiliary Function
</h2><span id='topic+SplitData'></span>

<h3>Description</h3>

<p>Splits the entire data frame into two sub data frames
each for one group.
</p>


<h3>Author(s)</h3>

<p>Andreas Kuehnapfel
</p>


<h3>See Also</h3>

<p><code><a href="#topic+CP">CP</a></code>
<code><a href="#topic+ConPwrExp">ConPwrExp</a></code>
<code><a href="#topic+ConPwrNonMixExp">ConPwrNonMixExp</a></code>
<code><a href="#topic+ConPwrNonMixWei">ConPwrNonMixWei</a></code>
<code><a href="#topic+ConPwrNonMixGamma">ConPwrNonMixGamma</a></code>
<code><a href="#topic+CompSurvMod">CompSurvMod</a></code>
</p>

<hr>
<h2 id='test'>
Test Data Frame
</h2><span id='topic+test'></span>

<h3>Description</h3>

<p>The data frame 'test' is generated by random
and does not refer to a special realistic issue.
</p>


<h3>Format</h3>

<p>This data frame consists of three columns.
The first column consists of the group expressions 'A' and 'B' (character).
The second column consists of
the status 1 for event or 2 for censored (numeric).
The third column consists of the event time (numeric). 
</p>


<h3>Source</h3>

<p><code><a href="#topic+CP">CP</a></code> <br />
<code><a href="#topic+GenerateDataFrame">GenerateDataFrame</a></code>
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

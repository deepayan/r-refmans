<!DOCTYPE html><html><head><title>Help for package codebook</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {codebook}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#add_R'><p>Append R to string, if it doesn't end in R already.</p></a></li>
<li><a href='#aggregate_and_document_scale'><p>Aggregate variables and remember which variables this were</p></a></li>
<li><a href='#bfi'><p>Mock BFI data</p></a></li>
<li><a href='#codebook'><p>Generate rmarkdown codebook</p></a></li>
<li><a href='#codebook_browser'><p>Browse and search codebook</p></a></li>
<li><a href='#codebook_component_scale'><p>Codebook component for scales</p></a></li>
<li><a href='#codebook_component_single_item'><p>Codebook component for single items</p></a></li>
<li><a href='#codebook_data_info'><p>Codebook data info</p></a></li>
<li><a href='#codebook_items'><p>Tabular codebook</p></a></li>
<li><a href='#codebook_missingness'><p>Codebook missingness</p></a></li>
<li><a href='#codebook_survey_overview'><p>Codebook survey overview</p></a></li>
<li><a href='#codebook_table'><p>Codebook metadata table</p></a></li>
<li><a href='#compact_codebook'><p>Compact Codebook</p></a></li>
<li><a href='#compute_reliabilities'><p>Compute reliabilities</p></a></li>
<li><a href='#data_description_default'><p>Data description default</p></a></li>
<li><a href='#detect_missing'><p>Detect missing values</p></a></li>
<li><a href='#detect_scales'><p>Detect item scales</p></a></li>
<li><a href='#ended'><p>How many surveys were ended?</p></a></li>
<li><a href='#expired'><p>How many surveys were expired?</p></a></li>
<li><a href='#get_skimmers.haven_labelled'><p>Define skimmers for haven_labelled variables</p></a></li>
<li><a href='#get_skimmers.haven_labelled_spss'><p>Define skimmers for haven_labelled_spss variables</p></a></li>
<li><a href='#has_label'><p>Has label</p></a></li>
<li><a href='#has_labels'><p>Has labels</p></a></li>
<li><a href='#knit_print.htest'><p>Print a <code>stats::cor.test()</code> object for knitr</p></a></li>
<li><a href='#knit_print.multilevel'><p>Print a <code>psych::multilevel.reliability()</code> object for knitr</p></a></li>
<li><a href='#label_browser'><p>Browse and search variable and value labels</p></a></li>
<li><a href='#label_browser_static'><p>Browse and search variable and value labels</p></a></li>
<li><a href='#likert_from_items'><p>Derive a likert object from items</p></a></li>
<li><a href='#list_to_dict'><p>Go from a named list to a key-value data frame or data dictionary and back</p></a></li>
<li><a href='#load_data_and_render_codebook'><p>Submit a data file and an rmarkdown template as a file to generate a codebook.</p>
Used chiefly in the webapp.</a></li>
<li><a href='#md_pattern'><p>Missing data patterns</p></a></li>
<li><a href='#metadata'><p>Add metadata to a dataset</p></a></li>
<li><a href='#metadata_jsonld'><p>Metadata as JSON-LD</p></a></li>
<li><a href='#metadata_list'><p>Metadata from dataframe</p></a></li>
<li><a href='#modified'><p>How many surveys were modified?</p></a></li>
<li><a href='#new_codebook_rmd'><p>Create a codebook rmarkdown document</p></a></li>
<li><a href='#plot_labelled'><p>Plot labelled vector</p></a></li>
<li><a href='#reexports'><p>Objects exported from other packages</p></a></li>
<li><a href='#rescue_attributes'><p>Rescue lost attributes</p></a></li>
<li><a href='#reverse_labelled_values'><p>Reverse labelled values</p>
reverse the underlying values for a numeric <code>haven::labelled()</code> vector while keeping the labels correct</a></li>
<li><a href='#skim_codebook'><p>Skim codebook</p></a></li>
<li><a href='#to_factor'><p>To factor</p></a></li>
<li><a href='#zap_attributes'><p>Zap attributes</p></a></li>
<li><a href='#zap_labelled'><p>Zap labelled class</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Automatic Codebooks from Metadata Encoded in Dataset Attributes</td>
</tr>
<tr>
<td>Description:</td>
<td>Easily automate the following tasks to describe data frames:
		Summarise the distributions, and labelled missings of variables graphically
		and using descriptive statistics.
		For surveys, compute and summarise reliabilities (internal consistencies, 
		retest, multilevel) for psychological scales.
		Combine this information with metadata (such as item labels and labelled 
		values) that is derived from R attributes.
		To do so, the package relies on 'rmarkdown' partials, so you can generate 
		HTML, PDF, and Word documents. 
		Codebooks are also available as tables (CSV, Excel, etc.) and in JSON-LD, so
		that search engines can find your data and index the metadata.
		The metadata are also available at your fingertips via RStudio Addins.</td>
</tr>
<tr>
<td>Version:</td>
<td>0.9.2</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.2.0)</td>
</tr>
<tr>
<td>Language:</td>
<td>en_GB</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/rubenarslan/codebook">https://github.com/rubenarslan/codebook</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/rubenarslan/codebook/issues">https://github.com/rubenarslan/codebook/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Imports:</td>
<td>stats, methods, graphics, utils, rmdpartials, forcats (&ge;
0.4.0), vctrs (&ge; 0.3.0), ggplot2 (&ge; 2.0.0), stringr, rlang,
dplyr (&ge; 1.0.0), tidyr, tidyselect, jsonlite, haven (&ge;
2.3.0), purrr, tibble, glue, likert, knitr, skimr (&ge; 2.1.0),
htmltools, labeling, labelled</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, DT, shinytest, lme4, rmarkdown, rstudioapi (&ge;
0.5), shiny (&ge; 0.13), miniUI (&ge; 0.1.1), roxygen2, webshot,
rio, psych, future, ufs, userfriendlyscience</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.0</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-06-06 14:16:57 UTC; rubenarslan</td>
</tr>
<tr>
<td>Author:</td>
<td>Ruben Arslan [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Ruben Arslan &lt;ruben.arslan@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-06-06 23:40:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='add_R'>Append R to string, if it doesn't end in R already.</h2><span id='topic+add_R'></span>

<h3>Description</h3>

<p>Use this function to conveniently rename reverse-coded variables, so that
they end in R.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_R(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_R_+3A_x">x</code></td>
<td>
<p>a string</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>data('bfi')
bfi %&gt;% dplyr::select(BFIK_open_2,BFIK_agree_2) %&gt;% dplyr::rename_at(1, add_R) %&gt;% head()
</code></pre>

<hr>
<h2 id='aggregate_and_document_scale'>Aggregate variables and remember which variables this were</h2><span id='topic+aggregate_and_document_scale'></span>

<h3>Description</h3>

<p>The resulting variables will have the attribute <code>scale_item_names</code> containing
the basis for aggregation. Its <code>label</code> attribute will refer to the common stem of the
aggregated variable names (if any), the number of variables, and the
aggregation function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aggregate_and_document_scale(items, fun = rowMeans, stem = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="aggregate_and_document_scale_+3A_items">items</code></td>
<td>
<p>data.frame of the items that should be aggregated</p>
</td></tr>
<tr><td><code id="aggregate_and_document_scale_+3A_fun">fun</code></td>
<td>
<p>aggregation function, defaults to rowMeans with na.rm = FALSE</p>
</td></tr>
<tr><td><code id="aggregate_and_document_scale_+3A_stem">stem</code></td>
<td>
<p>common stem for the variables, specify if it should not be auto-detected
as the longest common stem of the variable names</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>testdf &lt;- data.frame(bfi_neuro_1 = rnorm(20), bfi_neuro_2 = rnorm(20),
                    bfi_neuro_3R = rnorm(20), age = rpois(20, 30))
item_names &lt;- c('bfi_neuro_1', 'bfi_neuro_2', 'bfi_neuro_3R')
testdf$bfi_neuro &lt;- aggregate_and_document_scale(testdf[, item_names])
testdf$bfi_neuro
</code></pre>

<hr>
<h2 id='bfi'>Mock BFI data</h2><span id='topic+bfi'></span>

<h3>Description</h3>

<p>a small mock BFI dataset with realistic values, exported from formr.
The dataset is self-documenting via its attributes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bfi
</code></pre>


<h3>Format</h3>

<p>A data frame with 28 rows and 29 variables:
</p>

<hr>
<h2 id='codebook'>Generate rmarkdown codebook</h2><span id='topic+codebook'></span>

<h3>Description</h3>

<p>Pass a data frame to this function to make a codebook for that dataset.
If the dataset has metadata (attributes) set on its variables, these will be
used to make the codebook more informative. Examples are item, value, and
missing labels.
Data frames imported via <code><a href="haven.html#topic+read_dta">haven::read_dta()</a></code>, <code><a href="haven.html#topic+read_sav">haven::read_sav()</a></code>, or from
<a href="https://formr.org">formr.org</a> will have these attributes in the right format.
By calling this function inside a knitr code chunk, the
codebook will become part of the document you are generating.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>codebook(
  results,
  reliabilities = NULL,
  survey_repetition = c("auto", "single", "repeated_once", "repeated_many"),
  detailed_variables = TRUE,
  detailed_scales = TRUE,
  survey_overview = TRUE,
  missingness_report = TRUE,
  metadata_table = TRUE,
  metadata_json = TRUE,
  indent = "#"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="codebook_+3A_results">results</code></td>
<td>
<p>a data frame, ideally with attributes set on variables</p>
</td></tr>
<tr><td><code id="codebook_+3A_reliabilities">reliabilities</code></td>
<td>
<p>a named list with one entry per scale and one or several printable reliability computations for this scale. if NULL, computed on-the-fly using compute_reliabilities</p>
</td></tr>
<tr><td><code id="codebook_+3A_survey_repetition">survey_repetition</code></td>
<td>
<p>defaults to &quot;auto&quot; which is to try to determine the level of repetition from the &quot;session&quot; and &quot;created&quot; variables. Other values are: single, repeated_once, repeated_many</p>
</td></tr>
<tr><td><code id="codebook_+3A_detailed_variables">detailed_variables</code></td>
<td>
<p>whether to print a graph and summary for each variable</p>
</td></tr>
<tr><td><code id="codebook_+3A_detailed_scales">detailed_scales</code></td>
<td>
<p>whether to print a graph and summary for each scale</p>
</td></tr>
<tr><td><code id="codebook_+3A_survey_overview">survey_overview</code></td>
<td>
<p>whether to print an overview of survey entries, durations (depends on presence of columns session, created, modified, ended, expired)</p>
</td></tr>
<tr><td><code id="codebook_+3A_missingness_report">missingness_report</code></td>
<td>
<p>whether to print a missingness report. Turn off if this gets too complicated and you need a custom solution (e.g. in case of random missings).</p>
</td></tr>
<tr><td><code id="codebook_+3A_metadata_table">metadata_table</code></td>
<td>
<p>whether to print a metadata table/tabular codebook.</p>
</td></tr>
<tr><td><code id="codebook_+3A_metadata_json">metadata_json</code></td>
<td>
<p>whether to include machine-readable metadata as JSON-LD (not visible)</p>
</td></tr>
<tr><td><code id="codebook_+3A_indent">indent</code></td>
<td>
<p>add # to this to make the headings in the components lower-level. defaults to beginning at h2</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># will generate figures in a temporary directory
## Not run: 
data("bfi")
bfi &lt;- bfi[, c("BFIK_open_1", "BFIK_open_1")]
md &lt;- codebook(bfi, survey_repetition = "single", metadata_table = FALSE)

## End(Not run)
</code></pre>

<hr>
<h2 id='codebook_browser'>Browse and search codebook</h2><span id='topic+codebook_browser'></span>

<h3>Description</h3>

<p>Usable as an Addin in RStudio. You can select it from a menu at the top,
when this package is installed. If you're currently selecting the name of a
data frame in your source code, this will be the dataset shown by default.
If you don't select text, you can pick a dataset from a dropdown.
You can add a keyboard shortcut for this command by following the
<a href="https://support.rstudio.com/hc/en-us/articles/206382178-Customizing-Keyboard-Shortcuts">instructions</a>
by RStudio. How about Cmd+Ctrl+C?
</p>


<h3>Usage</h3>

<pre><code class='language-R'>codebook_browser(
  data = NULL,
  labels_only = FALSE,
  title = "Codebook metadata",
  viewer = rstudioapi::viewer
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="codebook_browser_+3A_data">data</code></td>
<td>
<p>the dataset to display. If left empty will try to use selected text in RStudio or offer a dropdown</p>
</td></tr>
<tr><td><code id="codebook_browser_+3A_labels_only">labels_only</code></td>
<td>
<p>defaults to false called with TRUE from <code><a href="#topic+label_browser">label_browser()</a></code></p>
</td></tr>
<tr><td><code id="codebook_browser_+3A_title">title</code></td>
<td>
<p>title of the gadget</p>
</td></tr>
<tr><td><code id="codebook_browser_+3A_viewer">viewer</code></td>
<td>
<p>defaults to displaying in the RStudio viewer</p>
</td></tr>
</table>

<hr>
<h2 id='codebook_component_scale'>Codebook component for scales</h2><span id='topic+codebook_component_scale'></span>

<h3>Description</h3>

<p>Codebook component for scales
</p>


<h3>Usage</h3>

<pre><code class='language-R'>codebook_component_scale(
  scale,
  scale_name = deparse(substitute(scale)),
  items,
  reliabilities = list(),
  indent = "##"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="codebook_component_scale_+3A_scale">scale</code></td>
<td>
<p>a scale with attributes set</p>
</td></tr>
<tr><td><code id="codebook_component_scale_+3A_scale_name">scale_name</code></td>
<td>
<p>the variable name of this scale</p>
</td></tr>
<tr><td><code id="codebook_component_scale_+3A_items">items</code></td>
<td>
<p>a data.frame with the items constituting the scale</p>
</td></tr>
<tr><td><code id="codebook_component_scale_+3A_reliabilities">reliabilities</code></td>
<td>
<p>a list with one or several results from calls to psych package functions for computing reliability</p>
</td></tr>
<tr><td><code id="codebook_component_scale_+3A_indent">indent</code></td>
<td>
<p>add # to this to make the headings in the components lower-level. defaults to beginning at h2</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># will generate figures in a temporary directory
## Not run: 
data("bfi")
bfi &lt;- bfi[,c("BFIK_open", paste0("BFIK_open_", 1:4))]
codebook_component_scale(bfi[,1], "BFIK_open", bfi[,-1],
   reliabilities = list(BFIK_open = psych::alpha(bfi[,-1])))

## End(Not run)
</code></pre>

<hr>
<h2 id='codebook_component_single_item'>Codebook component for single items</h2><span id='topic+codebook_component_single_item'></span>

<h3>Description</h3>

<p>Codebook component for single items
</p>


<h3>Usage</h3>

<pre><code class='language-R'>codebook_component_single_item(
  item,
  item_name = deparse(substitute(item)),
  indent = "##"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="codebook_component_single_item_+3A_item">item</code></td>
<td>
<p>an item with attributes set</p>
</td></tr>
<tr><td><code id="codebook_component_single_item_+3A_item_name">item_name</code></td>
<td>
<p>the item name</p>
</td></tr>
<tr><td><code id="codebook_component_single_item_+3A_indent">indent</code></td>
<td>
<p>add # to this to make the headings in the components lower-level. defaults to beginning at h2</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
data("bfi")
codebook_component_single_item(bfi$BFIK_open_1, "BFIK_open_1")

## End(Not run)
</code></pre>

<hr>
<h2 id='codebook_data_info'>Codebook data info</h2><span id='topic+codebook_data_info'></span>

<h3>Description</h3>

<p>A readout of the metadata for this dataset, with some defaults set
</p>


<h3>Usage</h3>

<pre><code class='language-R'>codebook_data_info(results, indent = "##")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="codebook_data_info_+3A_results">results</code></td>
<td>
<p>a data frame which has the following columns: session, created, modified, expired, ended</p>
</td></tr>
<tr><td><code id="codebook_data_info_+3A_indent">indent</code></td>
<td>
<p>add # to this to make the headings in the components lower-level. defaults to beginning at h2</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># will generate figures in a figure/ subdirectory
data("bfi")
metadata(bfi)$name &lt;- "MOCK Big Five Inventory dataset (German metadata demo)"
metadata(bfi)$description &lt;- "a small mock Big Five Inventory dataset"
metadata(bfi)$citation &lt;- "doi:10.5281/zenodo.1326520"
metadata(bfi)$url &lt;-
   "https://rubenarslan.github.io/codebook/articles/codebook.html"
codebook_data_info(bfi)
</code></pre>

<hr>
<h2 id='codebook_items'>Tabular codebook</h2><span id='topic+codebook_items'></span>

<h3>Description</h3>

<p>Renders a tabular codebook including attributes and data summaries. The table
is generated using <code><a href="DT.html#topic+datatable">DT::datatable()</a></code> and can be exported to CSV, Excel, etc.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>codebook_items(results, indent = "##")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="codebook_items_+3A_results">results</code></td>
<td>
<p>a data frame, ideally with attributes set on variables</p>
</td></tr>
<tr><td><code id="codebook_items_+3A_indent">indent</code></td>
<td>
<p>add # to this to make the headings in the components lower-level. defaults to beginning at h2</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>data("bfi")
## Not run: 
# doesn't show interactively, because a html widget needs to be registered
codebook_items(bfi)

## End(Not run)
</code></pre>

<hr>
<h2 id='codebook_missingness'>Codebook missingness</h2><span id='topic+codebook_missingness'></span>

<h3>Description</h3>

<p>An overview table of missingness patterns generated using <code><a href="#topic+md_pattern">md_pattern()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>codebook_missingness(results, indent = "##")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="codebook_missingness_+3A_results">results</code></td>
<td>
<p>a data frame</p>
</td></tr>
<tr><td><code id="codebook_missingness_+3A_indent">indent</code></td>
<td>
<p>add # to this to make the headings in the components lower-level. defaults to beginning at h2</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>data("bfi")
codebook_missingness(bfi)
</code></pre>

<hr>
<h2 id='codebook_survey_overview'>Codebook survey overview</h2><span id='topic+codebook_survey_overview'></span>

<h3>Description</h3>

<p>An overview of the number of rows and groups, and of the durations participants
needed to respond (if those data are available).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>codebook_survey_overview(results, survey_repetition = "single", indent = "##")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="codebook_survey_overview_+3A_results">results</code></td>
<td>
<p>a data frame which has all the following columns: session, created, modified, expired, ended</p>
</td></tr>
<tr><td><code id="codebook_survey_overview_+3A_survey_repetition">survey_repetition</code></td>
<td>
<p>defaults to single (other values: repeated_once, repeated_many). controls whether internal consistency, retest reliability or multilevel reliability is computed</p>
</td></tr>
<tr><td><code id="codebook_survey_overview_+3A_indent">indent</code></td>
<td>
<p>add # to this to make the headings in the components lower-level. defaults to beginning at h2</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
data("bfi")
codebook_survey_overview(bfi)

## End(Not run)
</code></pre>

<hr>
<h2 id='codebook_table'>Codebook metadata table</h2><span id='topic+codebook_table'></span>

<h3>Description</h3>

<p>will generate a table combining metadata from variable attributes
with data summaries generated using <code><a href="skimr.html#topic+skim">skimr::skim()</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>codebook_table(results)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="codebook_table_+3A_results">results</code></td>
<td>
<p>a data frame, ideally with attributes set on variables</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>data("bfi")
codebook_table(bfi)
</code></pre>

<hr>
<h2 id='compact_codebook'>Compact Codebook</h2><span id='topic+compact_codebook'></span>

<h3>Description</h3>

<p>Generate only the tabular codebook and the machine-readable JSON-LD metadata.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compact_codebook(results)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="compact_codebook_+3A_results">results</code></td>
<td>
<p>the data frame</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># will generate figures in a figure/ subdirectory
## Not run: 
data("bfi")
bfi &lt;- bfi[, c("BFIK_open_1", "BFIK_open_2")]
compact_codebook(bfi)

## End(Not run)
</code></pre>

<hr>
<h2 id='compute_reliabilities'>Compute reliabilities</h2><span id='topic+compute_reliabilities'></span>

<h3>Description</h3>

<p>If you pass the object resulting from a call to formr_results to this function, it will compute reliabilities for each scale.
Internally, each reliability computation is passed to a <code><a href="future.html#topic+future">future::future()</a></code>.
If you are calculating multilevel reliabilities, it may be worthwhile to
parallelise this operation using <code><a href="future.html#topic+plan">future::plan()</a></code>.
If you don't plan on any complicated parallelisation, you probably do not
need to call this function directly, but can rely on it being automatically
called during codebook generation.
If you do plan to do that, you can pass the results of this operation to the codebook function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compute_reliabilities(results, survey_repetition = "single")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="compute_reliabilities_+3A_results">results</code></td>
<td>
<p>a formr results table with attributes set on items and scales</p>
</td></tr>
<tr><td><code id="compute_reliabilities_+3A_survey_repetition">survey_repetition</code></td>
<td>
<p>defaults to &quot;single&quot;. Can also be &quot;repeated_once&quot; or &quot;repeated_many&quot;</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
data("bfi", package = "codebook")
bfi &lt;- bfi %&gt;% dplyr::select(dplyr::starts_with("BFIK_agree"))
reliabilities &lt;- compute_reliabilities(bfi)

## End(Not run)
</code></pre>

<hr>
<h2 id='data_description_default'>Data description default</h2><span id='topic+data_description_default'></span>

<h3>Description</h3>

<p>If you do not define a dataset description yourself, this will be the
automatically generated default.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_description_default(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="data_description_default_+3A_data">data</code></td>
<td>
<p>the data frame</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>data('bfi')
data_description_default(bfi)

</code></pre>

<hr>
<h2 id='detect_missing'>Detect missing values</h2><span id='topic+detect_missing'></span><span id='topic+detect_missings'></span>

<h3>Description</h3>

<p>SPSS users frequently label their missing values, but don't set them as missing.
This function will rectify that for negative values and for the values 99 and 999 (only if they're 5*MAD away from the median).
Using different settings, you can also easily tag other missing values.
</p>
<p>SPSS users frequently label their missing values, but don't set them as missing.
This function will rectify that for negative values and for the values 99 and 999 (only if they're 5*MAD away from the median).
Using different settings, you can also easily tag other missing values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>detect_missing(
  data,
  only_labelled = TRUE,
  negative_values_are_missing = TRUE,
  ninety_nine_problems = TRUE,
  learn_from_labels = TRUE,
  missing = c(),
  non_missing = c(),
  vars = names(data),
  use_labelled_spss = FALSE
)

detect_missings(data, only_labelled_missings = TRUE, ...)

detect_missing(
  data,
  only_labelled = TRUE,
  negative_values_are_missing = TRUE,
  ninety_nine_problems = TRUE,
  learn_from_labels = TRUE,
  missing = c(),
  non_missing = c(),
  vars = names(data),
  use_labelled_spss = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="detect_missing_+3A_data">data</code></td>
<td>
<p>the data frame with labelled missing values</p>
</td></tr>
<tr><td><code id="detect_missing_+3A_only_labelled">only_labelled</code></td>
<td>
<p>don't set values to missing if there's no label for them</p>
</td></tr>
<tr><td><code id="detect_missing_+3A_negative_values_are_missing">negative_values_are_missing</code></td>
<td>
<p>by default we label negative values as missing</p>
</td></tr>
<tr><td><code id="detect_missing_+3A_ninety_nine_problems">ninety_nine_problems</code></td>
<td>
<p>SPSS users often store values as 99/999, should we do this for values with 5*MAD of the median</p>
</td></tr>
<tr><td><code id="detect_missing_+3A_learn_from_labels">learn_from_labels</code></td>
<td>
<p>if there are labels for missing values of the form <code style="white-space: pre;">&#8288;[-1] no answer&#8288;</code>, set -1 in the data to the corresponding tagged missing</p>
</td></tr>
<tr><td><code id="detect_missing_+3A_missing">missing</code></td>
<td>
<p>also set these values to missing (or enforce for 99/999 within 5*MAD)</p>
</td></tr>
<tr><td><code id="detect_missing_+3A_non_missing">non_missing</code></td>
<td>
<p>don't set these values to missing</p>
</td></tr>
<tr><td><code id="detect_missing_+3A_vars">vars</code></td>
<td>
<p>only edit these variables</p>
</td></tr>
<tr><td><code id="detect_missing_+3A_use_labelled_spss">use_labelled_spss</code></td>
<td>
<p>the labelled_spss class has a few drawbacks. Since R can't store missing values like -1 and 99, we're replacing them with letters unless this option is enabled. If you prefer to keep your -1 etc, turn this on.</p>
</td></tr>
<tr><td><code id="detect_missing_+3A_only_labelled_missings">only_labelled_missings</code></td>
<td>
<p>passed to <code><a href="#topic+detect_missing">detect_missing()</a></code></p>
</td></tr>
<tr><td><code id="detect_missing_+3A_...">...</code></td>
<td>
<p>passed to <code><a href="#topic+detect_missing">detect_missing()</a></code></p>
</td></tr>
</table>


<h3>Functions</h3>


<ul>
<li> <p><code>detect_missings</code>: Deprecated version
</p>
</li></ul>

<hr>
<h2 id='detect_scales'>Detect item scales</h2><span id='topic+detect_scales'></span>

<h3>Description</h3>

<p>Did you create aggregates of items like this
<code>scale &lt;- scale_1 + scale_2R + scale_3R</code>?
If you run this function on a dataset, it will detect these
relationships and set the appropriate attributes. Once they are set,
the codebook package can perform reliability computations for you.
</p>
<p>Did you create aggregates of items like this
<code>scale &lt;- scale_1 + scale_2R + scale_3R</code>?
If you run this function on a dataset, it will detect these
relationships and set the appropriate attributes. Once they are set,
the codebook package can perform reliability computations for you.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>detect_scales(data, quiet = FALSE)

detect_scales(data, quiet = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="detect_scales_+3A_data">data</code></td>
<td>
<p>the data frame</p>
</td></tr>
<tr><td><code id="detect_scales_+3A_quiet">quiet</code></td>
<td>
<p>defaults to false. Suppresses messages about found items.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>bfi &lt;- data.frame(matrix(data = rnorm(500), ncol = 5))
names(bfi) &lt;- c("bfi_e1", "bfi_e2R", "bfi_e3", "bfi_n1", "bfi_n2")
bfi$bfi_e &lt;- rowMeans(bfi[, c("bfi_e1", "bfi_e2R", "bfi_e3")])
bfi &lt;- detect_scales(bfi)
bfi$bfi_e
bfi &lt;- data.frame(matrix(data = rnorm(500), ncol = 5))
names(bfi) &lt;- c("bfi_e1", "bfi_e2R", "bfi_e3", "bfi_n1", "bfi_n2")
bfi$bfi_e &lt;- rowMeans(bfi[, c("bfi_e1", "bfi_e2R", "bfi_e3")])
bfi &lt;- detect_scales(bfi)
bfi$bfi_e
</code></pre>

<hr>
<h2 id='ended'>How many surveys were ended?</h2><span id='topic+ended'></span>

<h3>Description</h3>

<p>Just a simple to check how many times a survey (e.g. diary)
was finished. It defaults to checking the &quot;ended&quot; variable for this.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ended(survey, variable = "ended")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ended_+3A_survey">survey</code></td>
<td>
<p>which survey are you asking about?</p>
</td></tr>
<tr><td><code id="ended_+3A_variable">variable</code></td>
<td>
<p>which variable should be filled out, defaults to &quot;ended&quot;</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>survey &lt;- data.frame(ended = c("2016-05-28 10:11:00", NA, "2016-05-30 11:18:28"))
ended(survey = survey)
</code></pre>

<hr>
<h2 id='expired'>How many surveys were expired?</h2><span id='topic+expired'></span>

<h3>Description</h3>

<p>Just a simple to check how many times a survey (e.g. diary)
has expired (i.e. user missed it). It defaults to checking the &quot;expired&quot; variable for this.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>expired(survey, variable = "expired")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="expired_+3A_survey">survey</code></td>
<td>
<p>which survey are you asking about?</p>
</td></tr>
<tr><td><code id="expired_+3A_variable">variable</code></td>
<td>
<p>which variable should be filled out, defaults to &quot;expired&quot;</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>survey &lt;- data.frame(expired = c(NA, "2016-05-29 10:11:00", NA))
expired(survey = survey)
</code></pre>

<hr>
<h2 id='get_skimmers.haven_labelled'>Define skimmers for haven_labelled variables</h2><span id='topic+get_skimmers.haven_labelled'></span>

<h3>Description</h3>

<p>Variables labelled using the haven_labelled class are special
because the underlying data can be numeric or character. This skimmers summarises
both and leaves non-pertinent columns missings.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_skimmers.haven_labelled(column)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_skimmers.haven_labelled_+3A_column">column</code></td>
<td>
<p>the column to skim</p>
</td></tr>
</table>

<hr>
<h2 id='get_skimmers.haven_labelled_spss'>Define skimmers for haven_labelled_spss variables</h2><span id='topic+get_skimmers.haven_labelled_spss'></span>

<h3>Description</h3>

<p>Variables labelled using the haven_labelled_spss class are special
because the underlying data can be numeric or character. This skimmers summarises
both and leaves non-pertinent columns missings.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_skimmers.haven_labelled_spss(column)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_skimmers.haven_labelled_spss_+3A_column">column</code></td>
<td>
<p>the column to skim</p>
</td></tr>
</table>

<hr>
<h2 id='has_label'>Has label</h2><span id='topic+has_label'></span>

<h3>Description</h3>

<p>Has label
</p>


<h3>Usage</h3>

<pre><code class='language-R'>has_label(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="has_label_+3A_x">x</code></td>
<td>
<p>a vector</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>example("labelled", "haven")
has_label(x)
</code></pre>

<hr>
<h2 id='has_labels'>Has labels</h2><span id='topic+has_labels'></span>

<h3>Description</h3>

<p>Has labels
</p>


<h3>Usage</h3>

<pre><code class='language-R'>has_labels(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="has_labels_+3A_x">x</code></td>
<td>
<p>a vector</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>example("labelled", "haven")
has_labels(x)
</code></pre>

<hr>
<h2 id='knit_print.htest'>Print a <code><a href="stats.html#topic+cor.test">stats::cor.test()</a></code> object for knitr</h2><span id='topic+knit_print.htest'></span>

<h3>Description</h3>

<p>Just prints the normal output of <code><a href="stats.html#topic+cor.test">stats::cor.test()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>knit_print.htest(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="knit_print.htest_+3A_x">x</code></td>
<td>
<p>a psych alpha object</p>
</td></tr>
<tr><td><code id="knit_print.htest_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>knitr::knit_print(cor.test(rnorm(100), rnorm(100)))

</code></pre>

<hr>
<h2 id='knit_print.multilevel'>Print a <code><a href="psych.html#topic+multilevel.reliability">psych::multilevel.reliability()</a></code> object for knitr</h2><span id='topic+knit_print.multilevel'></span>

<h3>Description</h3>

<p>Just prints the normal output of <code><a href="psych.html#topic+multilevel.reliability">psych::multilevel.reliability()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>knit_print.multilevel(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="knit_print.multilevel_+3A_x">x</code></td>
<td>
<p>a psych alpha object</p>
</td></tr>
<tr><td><code id="knit_print.multilevel_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>example("mlr", "psych")
knitr::knit_print(mg)

</code></pre>

<hr>
<h2 id='label_browser'>Browse and search variable and value labels</h2><span id='topic+label_browser'></span>

<h3>Description</h3>

<p>Same as the <code><a href="#topic+codebook_browser">codebook_browser()</a></code>, but doesn't show data summaries and
additional attributes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>label_browser(data = NULL, viewer = rstudioapi::viewer)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="label_browser_+3A_data">data</code></td>
<td>
<p>the dataset to display. If left empty will try to use selected text in RStudio or offer a dropdown</p>
</td></tr>
<tr><td><code id="label_browser_+3A_viewer">viewer</code></td>
<td>
<p>defaults to displaying in the RStudio viewer</p>
</td></tr>
</table>

<hr>
<h2 id='label_browser_static'>Browse and search variable and value labels</h2><span id='topic+label_browser_static'></span>

<h3>Description</h3>

<p>Same as the <code><a href="#topic+codebook_browser">codebook_browser()</a></code>, but doesn't show data summaries and
additional attributes. This yields a static table, so you can continue
to edit code while viewing the labels, but you cannot switch the dataset
via a dropdown menu.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>label_browser_static(data = NULL, viewer = rstudioapi::viewer)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="label_browser_static_+3A_data">data</code></td>
<td>
<p>data frame. if left empty, will use the text you currently select in RStudio as the label or the first data frame in your environment</p>
</td></tr>
<tr><td><code id="label_browser_static_+3A_viewer">viewer</code></td>
<td>
<p>where to show. defaults to viewer tab</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>label_browser_static(bfi)


</code></pre>

<hr>
<h2 id='likert_from_items'>Derive a likert object from items</h2><span id='topic+likert_from_items'></span>

<h3>Description</h3>

<p>Pass a data.frame containing several items composing one scale, get a
<code><a href="likert.html#topic+likert">likert::likert()</a></code> object, which you can plot.
Intelligently makes use of labels and value labels if present.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>likert_from_items(items)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="likert_from_items_+3A_items">items</code></td>
<td>
<p>a data frame of items composing one scale</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>data("bfi", package = "codebook")
open_items &lt;- paste0("BFIK_open_",1:4)
graphics::plot(likert_from_items(bfi[, open_items]))
</code></pre>

<hr>
<h2 id='list_to_dict'>Go from a named list to a key-value data frame or data dictionary and back</h2><span id='topic+list_to_dict'></span><span id='topic+dict_to_list'></span>

<h3>Description</h3>

<p>Sometimes, you'll want to have variable labels in a data.frame, sometimes
you'll have imported an existing data dictionary and will need to turn it
into a list before setting <code><a href="labelled.html#topic+var_label">labelled::var_label()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>list_to_dict(named_list)

dict_to_list(dict)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="list_to_dict_+3A_named_list">named_list</code></td>
<td>
<p>a named list with one element each (names being variable names, elements being labels)</p>
</td></tr>
<tr><td><code id="list_to_dict_+3A_dict">dict</code></td>
<td>
<p>a data frame with the variable names in the first and the labels in the second column. If they are named variable and label, they can also be in a different order.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>data('bfi')
labels &lt;- var_label(bfi)
head(labels, 2)
dict &lt;- list_to_dict(labels)
head(dict, 2)
head(dict_to_list(list_to_dict(labels)), 2)



</code></pre>

<hr>
<h2 id='load_data_and_render_codebook'>Submit a data file and an rmarkdown template as a file to generate a codebook.
Used chiefly in the webapp.</h2><span id='topic+load_data_and_render_codebook'></span>

<h3>Description</h3>

<p>Submit a data file and an rmarkdown template as a file to generate a codebook.
Used chiefly in the webapp.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>load_data_and_render_codebook(file, text, remove_file = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="load_data_and_render_codebook_+3A_file">file</code></td>
<td>
<p>path to a file to make codebook from (sav, rds, dta, por, xpt, csv, csv2, tsv, etc.)</p>
</td></tr>
<tr><td><code id="load_data_and_render_codebook_+3A_text">text</code></td>
<td>
<p>codebook template</p>
</td></tr>
<tr><td><code id="load_data_and_render_codebook_+3A_remove_file">remove_file</code></td>
<td>
<p>whether to remove file after rendering</p>
</td></tr>
<tr><td><code id="load_data_and_render_codebook_+3A_...">...</code></td>
<td>
<p>all other arguments passed to <code><a href="rmarkdown.html#topic+render">rmarkdown::render()</a></code></p>
</td></tr>
</table>

<hr>
<h2 id='md_pattern'>Missing data patterns</h2><span id='topic+md_pattern'></span>

<h3>Description</h3>

<p>Generate missingness patterns using a function borrowed from mice,
with options to reduce the complexity of the output.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>md_pattern(data, omit_complete = TRUE, min_freq = 0.01)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="md_pattern_+3A_data">data</code></td>
<td>
<p>the dataset</p>
</td></tr>
<tr><td><code id="md_pattern_+3A_omit_complete">omit_complete</code></td>
<td>
<p>defaults to TRUE, omitting variables without missing values</p>
</td></tr>
<tr><td><code id="md_pattern_+3A_min_freq">min_freq</code></td>
<td>
<p>minimum number of rows to have this missingness pattern</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>data("bfi", package = 'psych')
md_pattern(bfi)
md_pattern(bfi, omit_complete = FALSE, min_freq = 0.2)
</code></pre>

<hr>
<h2 id='metadata'>Add metadata to a dataset</h2><span id='topic+metadata'></span><span id='topic+metadata+3C-'></span>

<h3>Description</h3>

<p>Use this function to describe a data frame in preparation for JSON-LD
metadata generation using <code><a href="#topic+codebook">codebook()</a></code> or <code><a href="#topic+metadata_list">metadata_list()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>metadata(data)

metadata(data) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="metadata_+3A_data">data</code></td>
<td>
<p>the data frame</p>
</td></tr>
<tr><td><code id="metadata_+3A_value">value</code></td>
<td>
<p>the metadata attribute</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>data('bfi')
metadata(bfi)$name &lt;- "MOCK Big Five Inventory dataset (German metadata demo)"
metadata(bfi)$description &lt;- "a small mock Big Five Inventory dataset"
metadata(bfi)$identifier &lt;- "doi:10.5281/zenodo.1326520"
metadata(bfi)$datePublished &lt;- "2016-06-01"
metadata(bfi)$creator &lt;- list(
  "@type" = "Person",
  givenName = "Ruben", familyName = "Arslan",
  email = "ruben.arslan@gmail.com",
  affiliation = list("@type" = "Organization",
                     name = "MPI Human Development, Berlin"))
metadata(bfi)$citation &lt;- "Arslan (2016). Mock BFI data."
metadata(bfi)$url &lt;-
  "https://rubenarslan.github.io/codebook/articles/codebook.html"
metadata(bfi)$temporalCoverage &lt;- "2016"
metadata(bfi)$spatialCoverage &lt;- "Goettingen, Germany"
metadata(bfi)$keywords &lt;- c("Personality", "Psychology")
metadata(bfi)

</code></pre>

<hr>
<h2 id='metadata_jsonld'>Metadata as JSON-LD</h2><span id='topic+metadata_jsonld'></span>

<h3>Description</h3>

<p>Echo a list of a metadata, generated using <code><a href="#topic+metadata_list">metadata_list()</a></code> as JSON-LD in a
script tag.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>metadata_jsonld(results)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="metadata_jsonld_+3A_results">results</code></td>
<td>
<p>a data frame, ideally with attributes set on variables</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>data("bfi")
metadata_jsonld(bfi)
</code></pre>

<hr>
<h2 id='metadata_list'>Metadata from dataframe</h2><span id='topic+metadata_list'></span>

<h3>Description</h3>

<p>Returns a list containing variable metadata (attributes) and data summaries.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>metadata_list(results, only_existing = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="metadata_list_+3A_results">results</code></td>
<td>
<p>a data frame, ideally with attributes set on variables</p>
</td></tr>
<tr><td><code id="metadata_list_+3A_only_existing">only_existing</code></td>
<td>
<p>whether to drop helpful metadata to comply with the list
of currently defined schema.org properties</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>data("bfi")
md_list &lt;- metadata_list(bfi)
md_list$variableMeasured[[20]]
</code></pre>

<hr>
<h2 id='modified'>How many surveys were modified?</h2><span id='topic+modified'></span>

<h3>Description</h3>

<p>Just a simple to check how many times a survey (e.g. diary)
has expired (i.e. user missed it). It defaults to checking the &quot;expired&quot; variable for this.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>modified(survey, variable = "modified")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="modified_+3A_survey">survey</code></td>
<td>
<p>which survey are you asking about?</p>
</td></tr>
<tr><td><code id="modified_+3A_variable">variable</code></td>
<td>
<p>which variable should be filled out, defaults to &quot;modified&quot;</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>survey &lt;- data.frame(modified = c(NA, "2016-05-29 10:11:00", NA))
modified(survey = survey)
</code></pre>

<hr>
<h2 id='new_codebook_rmd'>Create a codebook rmarkdown document</h2><span id='topic+new_codebook_rmd'></span>

<h3>Description</h3>

<p>This function will create and open an .Rmd file in the current working
directory. By default, the file is named codebook.Rmd. No files will be
overwritten. The .Rmd file has some useful defaults set for creating codebooks.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_codebook_rmd(filename = "codebook", template = "default")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="new_codebook_rmd_+3A_filename">filename</code></td>
<td>
<p>under which file name do you want to create a template</p>
</td></tr>
<tr><td><code id="new_codebook_rmd_+3A_template">template</code></td>
<td>
<p>only &quot;default&quot; exists for now</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
new_codebook_rmd()

## End(Not run)

</code></pre>

<hr>
<h2 id='plot_labelled'>Plot labelled vector</h2><span id='topic+plot_labelled'></span>

<h3>Description</h3>

<p>Plot a labelled vector, making use of the variable name, label and value
labels to make the plot more readable. This function also works for other
vectors, but provides little benefit.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_labelled(
  item,
  item_name = NULL,
  wrap_at = 70,
  go_vertical = FALSE,
  trans = "identity",
  x_axis_label = "values"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_labelled_+3A_item">item</code></td>
<td>
<p>a vector</p>
</td></tr>
<tr><td><code id="plot_labelled_+3A_item_name">item_name</code></td>
<td>
<p>item name, defaults to name of first argument</p>
</td></tr>
<tr><td><code id="plot_labelled_+3A_wrap_at">wrap_at</code></td>
<td>
<p>the subtitle (the label) will be wrapped at this number of characters</p>
</td></tr>
<tr><td><code id="plot_labelled_+3A_go_vertical">go_vertical</code></td>
<td>
<p>defaults to FALSE. Whether to show choices on the Y axis instead.</p>
</td></tr>
<tr><td><code id="plot_labelled_+3A_trans">trans</code></td>
<td>
<p>defaults to &quot;identity&quot; passed to <code><a href="ggplot2.html#topic+scale_x_continuous">ggplot2::scale_x_continuous()</a></code></p>
</td></tr>
<tr><td><code id="plot_labelled_+3A_x_axis_label">x_axis_label</code></td>
<td>
<p>defaults to &quot;values&quot;</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>data("bfi", package = "codebook")
plot_labelled(bfi$BFIK_open_1)
</code></pre>

<hr>
<h2 id='reexports'>Objects exported from other packages</h2><span id='topic+reexports'></span><span id='topic+as_factor'></span><span id='topic+zap_label'></span><span id='topic+var_label'></span><span id='topic+var_label+3C-'></span><span id='topic+val_label'></span><span id='topic+val_label+3C-'></span><span id='topic+val_labels'></span><span id='topic+val_labels+3C-'></span><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>dplyr</dt><dd><p><code><a href="dplyr.html#topic++25+3E+25">%&gt;%</a></code></p>
</dd>
<dt>forcats</dt><dd><p><code><a href="forcats.html#topic+as_factor">as_factor</a></code></p>
</dd>
<dt>haven</dt><dd><p><code><a href="haven.html#topic+zap_label">zap_label</a></code></p>
</dd>
<dt>labelled</dt><dd><p><code><a href="labelled.html#topic+val_label">val_label</a></code>, <code><a href="labelled.html#topic+val_label+3C-">val_label&lt;-</a></code>, <code><a href="labelled.html#topic+val_labels">val_labels</a></code>, <code><a href="labelled.html#topic+val_labels+3C-">val_labels&lt;-</a></code>, <code><a href="labelled.html#topic+var_label">var_label</a></code>, <code><a href="labelled.html#topic+var_label+3C-">var_label&lt;-</a></code></p>
</dd>
</dl>

<hr>
<h2 id='rescue_attributes'>Rescue lost attributes</h2><span id='topic+rescue_attributes'></span>

<h3>Description</h3>

<p>You can use this function if some of your items have lost their attributes during wrangling
Variables have to have the same name (Duh) and no attributes should be overwritten.
But use with care. Similar to <code><a href="labelled.html#topic+copy_labels">labelled::copy_labels()</a></code>.
</p>
<p>You can use this function if some of your items have lost their attributes during wrangling
Variables have to have the same name (Duh) and no attributes should be overwritten.
But use with care. Similar to <code><a href="labelled.html#topic+copy_labels">labelled::copy_labels()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rescue_attributes(df_no_attributes, df_with_attributes)

rescue_attributes(df_no_attributes, df_with_attributes)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rescue_attributes_+3A_df_no_attributes">df_no_attributes</code></td>
<td>
<p>the data frame with missing attributes</p>
</td></tr>
<tr><td><code id="rescue_attributes_+3A_df_with_attributes">df_with_attributes</code></td>
<td>
<p>the data frame from which you want to restore attributes</p>
</td></tr>
</table>

<hr>
<h2 id='reverse_labelled_values'>Reverse labelled values
reverse the underlying values for a numeric <code><a href="haven.html#topic+labelled">haven::labelled()</a></code> vector while keeping the labels correct</h2><span id='topic+reverse_labelled_values'></span>

<h3>Description</h3>

<p>Reverse labelled values
reverse the underlying values for a numeric <code><a href="haven.html#topic+labelled">haven::labelled()</a></code> vector while keeping the labels correct
</p>
<p>Reverse labelled values
reverse the underlying values for a numeric <code><a href="haven.html#topic+labelled">haven::labelled()</a></code> vector while keeping the labels correct
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reverse_labelled_values(x)

reverse_labelled_values(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="reverse_labelled_values_+3A_x">x</code></td>
<td>
<p>a labelled vector</p>
</td></tr>
</table>


<h3>Value</h3>

<p>return the labelled vector with the underlying values having been reversed
</p>
<p>return the labelled vector with the underlying values having been reversed
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- haven::labelled(rep(1:3, each = 3), c(Bad = 1, Good = 5))
x
reverse_labelled_values(x)
x &lt;- haven::labelled(rep(1:3, each = 3), c(Bad = 1, Good = 5))
x
reverse_labelled_values(x)
</code></pre>

<hr>
<h2 id='skim_codebook'>Skim codebook</h2><span id='topic+skim_codebook'></span>

<h3>Description</h3>

<p>Implements the regular functionality of <code><a href="skimr.html#topic+skim">skimr::skim()</a></code> but renames the columns
p0, p50, and p100 to min, median, and max respectively for numeric types to
keep things consistent across type (and produce a narrower wide table).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>skim_codebook(data, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="skim_codebook_+3A_data">data</code></td>
<td>
<p>the dataset to skim</p>
</td></tr>
<tr><td><code id="skim_codebook_+3A_...">...</code></td>
<td>
<p>passed to <code><a href="skimr.html#topic+skim">skimr::skim()</a></code></p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>skim_codebook(bfi)
</code></pre>

<hr>
<h2 id='to_factor'>To factor</h2><span id='topic+to_factor'></span>

<h3>Description</h3>

<p>Convert a labelled vector to a factor, even if it doesn't have the proper
class, as long as it has the &quot;labels&quot; attribute.
You can have this attribute without, for example, the haven_labelled class,
when importing data with <code><a href="rio.html#topic+import">rio::import()</a></code> for example.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>to_factor(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="to_factor_+3A_x">x</code></td>
<td>
<p>a vector</p>
</td></tr>
<tr><td><code id="to_factor_+3A_...">...</code></td>
<td>
<p>passed to <code><a href="haven.html#topic+as_factor">haven::as_factor()</a></code></p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>example("labelled", "haven")
to_factor(x)
to_factor(zap_labelled(x))
to_factor(as_factor(x))
to_factor(1:4)
</code></pre>

<hr>
<h2 id='zap_attributes'>Zap attributes</h2><span id='topic+zap_attributes'></span>

<h3>Description</h3>

<p>Modelled on <code><a href="haven.html#topic+zap_labels">haven::zap_labels()</a></code>, but more encompassing. By default removes
the following attributes:
format.spss, format.sas, format.stata, label, labels, na_values, na_range,
display_width
</p>
<p>Modelled on <code><a href="haven.html#topic+zap_labels">haven::zap_labels()</a></code>, but more encompassing. By default removes
the following attributes:
format.spss, format.sas, format.stata, label, labels, na_values, na_range,
display_width
</p>


<h3>Usage</h3>

<pre><code class='language-R'>zap_attributes(
  x,
  attributes = c("format.spss", "format.sas", "format.stata", "label", "labels",
    "na_values", "na_range", "display_width")
)

zap_attributes(
  x,
  attributes = c("format.spss", "format.sas", "format.stata", "label", "labels",
    "na_values", "na_range", "display_width")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="zap_attributes_+3A_x">x</code></td>
<td>
<p>the data frame or variable</p>
</td></tr>
<tr><td><code id="zap_attributes_+3A_attributes">attributes</code></td>
<td>
<p>character vector of attributes to zap. NULL if everything
(including factor levels etc) should be zapped</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>bfi &lt;- data.frame(matrix(data = rnorm(300), ncol = 3))
names(bfi) &lt;- c("bfi_e1", "bfi_e2R", "bfi_e3")
attributes(bfi$bfi_e1)$label &lt;- "I am outgoing."
attributes(bfi$bfi_e2R)$label &lt;- "I prefer books to people."
attributes(bfi$bfi_e3)$label &lt;- "I love to party."
bfi$bfi_e &lt;- rowMeans(bfi[, c("bfi_e1", "bfi_e2R", "bfi_e3")])
bfi &lt;- detect_scales(bfi, quiet = TRUE) # create attributes
str(zap_attributes(bfi, "label"))
zap_attributes(bfi$bfi_e)
bfi &lt;- data.frame(matrix(data = rnorm(300), ncol = 3))
names(bfi) &lt;- c("bfi_e1", "bfi_e2R", "bfi_e3")
attributes(bfi$bfi_e1)$label &lt;- "I am outgoing."
attributes(bfi$bfi_e2R)$label &lt;- "I prefer books to people."
attributes(bfi$bfi_e3)$label &lt;- "I love to party."
bfi$bfi_e &lt;- rowMeans(bfi[, c("bfi_e1", "bfi_e2R", "bfi_e3")])
bfi &lt;- detect_scales(bfi, quiet = TRUE) # create attributes
str(zap_attributes(bfi, "label"))
zap_attributes(bfi$bfi_e)
</code></pre>

<hr>
<h2 id='zap_labelled'>Zap labelled class</h2><span id='topic+zap_labelled'></span>

<h3>Description</h3>

<p>Modelled on <code><a href="haven.html#topic+zap_labels">haven::zap_labels()</a></code>, zaps labelled class (not other attributes).
</p>
<p>Modelled on <code><a href="haven.html#topic+zap_labels">haven::zap_labels()</a></code>, zaps labelled class (not other attributes).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>zap_labelled(x)

zap_labelled(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="zap_labelled_+3A_x">x</code></td>
<td>
<p>the data frame or variable</p>
</td></tr>
</table>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

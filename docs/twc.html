<!DOCTYPE html><html lang="en"><head><title>Help for package twc</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {twc}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#twc-package'><p>twc: Terrestrial Water Cycle</p></a></li>
<li><a href='#+25+26gt+3B+25'><p>Pipe operator</p></a></li>
<li><a href='#aux_date'><p>Ensure getZ output are dates</p></a></li>
<li><a href='#crop_data'><p>Crop precipitation data sets</p></a></li>
<li><a href='#csi'><p>Probability of Detection</p></a></li>
<li><a href='#far'><p>False Alarm Rate</p></a></li>
<li><a href='#fldmean'><p>Field mean</p></a></li>
<li><a href='#infoNC'><p>Show data content</p></a></li>
<li><a href='#muldpm'><p>Multiply by days per month</p></a></li>
<li><a href='#nse'><p>Nash–Sutcliffe Efficiency</p></a></li>
<li><a href='#pod'><p>Probability Of Detection</p></a></li>
<li><a href='#pRecipe_masks'><p>Masks data</p></a></li>
<li><a href='#remap'><p>Spatial aggregation</p></a></li>
<li><a href='#saveNC'><p>Save .nc file</p></a></li>
<li><a href='#sellonlatbox'><p>Select Longitude Latitude Box</p></a></li>
<li><a href='#selyear'><p>Select Years</p></a></li>
<li><a href='#subset_data'><p>Subset data in space and time</p></a></li>
<li><a href='#tabular'><p>Transform raster into data.table</p></a></li>
<li><a href='#trend'><p>Trends</p></a></li>
<li><a href='#yearstat'><p>Yearly &lt;stat&gt;</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Terrestrial Water Cycle</td>
</tr>
<tr>
<td>Version:</td>
<td>0.0.1</td>
</tr>
<tr>
<td>Description:</td>
<td>An open-access tool/framework that constitutes the core functions
  to analyze terrestrial water cycle data across various spatio-temporal scales.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.0.0)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>Imports:</td>
<td>data.table, doParallel, foreach, lubridate, magrittr, methods,
ncdf4, parallel, raster, sf, sp,utils</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/imarkonis/twc">https://github.com/imarkonis/twc</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/imarkonis/twc/issues">https://github.com/imarkonis/twc/issues</a></td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>PROJ (&gt;= 6, https://proj.org/download.html), GDAL
(&gt;= 3, https://gdal.org/download.html), NetCDF(&gt;= 4,
https://www.unidata.ucar.edu/software/netcdf/).</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-11-29 15:53:34 UTC; mirovago</td>
</tr>
<tr>
<td>Author:</td>
<td>Mijael Rodrigo Vargas Godoy
    <a href="https://orcid.org/0000-0002-1828-9266"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, cre],
  Yannis Markonis <a href="https://orcid.org/0000-0003-0144-8969"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Mijael Rodrigo Vargas Godoy &lt;mirovago@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-12-02 12:40:31 UTC</td>
</tr>
</table>
<hr>
<h2 id='twc-package'>twc: Terrestrial Water Cycle</h2><span id='topic+twc'></span><span id='topic+twc-package'></span>

<h3>Description</h3>

<p>twc is an R package that that constitutes the core functions to analyze terrestrial water cycle data across various spatio-temporal scales.
</p>


<h3>Author(s)</h3>

<p><strong>Coded by:</strong> Mijael Rodrigo Vargas Godoy <a href="mailto:vargas_godoy@fzp.czu.cz">vargas_godoy@fzp.czu.cz</a>
</p>
<p><strong>Conceptual design by:</strong> Mijael Rodrigo Vargas Godoy <a href="mailto:vargas_godoy@fzp.czu.cz">vargas_godoy@fzp.czu.cz</a> and Yannis Markonis <a href="mailto:markonis@fzp.czu.cz">markonis@fzp.czu.cz</a>
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/imarkonis/twc">https://github.com/imarkonis/twc</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/imarkonis/twc/issues">https://github.com/imarkonis/twc/issues</a>
</p>
</li></ul>


<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>See <code>magrittr::<a href="magrittr.html#topic+pipe">%&gt;%</a></code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_lhs">lhs</code></td>
<td>
<p>A value or the magrittr placeholder.</p>
</td></tr>
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_rhs">rhs</code></td>
<td>
<p>A function call using the magrittr semantics.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The result of calling 'rhs(lhs)'.
</p>

<hr>
<h2 id='aux_date'>Ensure getZ output are dates</h2><span id='topic+aux_date'></span>

<h3>Description</h3>

<p>Function to fix dates
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aux_date(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="aux_date_+3A_x">x</code></td>
<td>
<p>output from getZ()</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Date
</p>

<hr>
<h2 id='crop_data'>Crop precipitation data sets</h2><span id='topic+crop_data'></span><span id='topic+crop_data+2CRaster-method'></span><span id='topic+crop_data+2Cdata.table-method'></span><span id='topic+crop_data+2Ccharacter-method'></span>

<h3>Description</h3>

<p>The function <code>crop_data</code> crops the data sets using a shapefile mask.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>crop_data(x, y)

## S4 method for signature 'Raster'
crop_data(x, y)

## S4 method for signature 'data.table'
crop_data(x, y)

## S4 method for signature 'character'
crop_data(x, y)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="crop_data_+3A_x">x</code></td>
<td>
<p>Raster* object; data.table (see details); filename (character; see details)</p>
</td></tr>
<tr><td><code id="crop_data_+3A_y">y</code></td>
<td>
<p>filename (character). Path to a *.shp file</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If 'x' is a data.table, its columns should be named: &quot;lon&quot;, &quot;lat&quot;, &quot;date&quot;, and &quot;value&quot;
</p>
<p>If 'x' is a filename, it should point to a *.nc file.
</p>


<h3>Value</h3>

<p>Raster* object; data.table
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
download_data("gldas-vic", tempdir(), timestep = "yearly")
r &lt;- raster::brick(paste0(tempdir(),
"/gldas-vic_tp_mm_land_194801_201412_025_yearly.nc"))
s &lt;- crop_data(r, "cze.shp")

## End(Not run)
</code></pre>

<hr>
<h2 id='csi'>Probability of Detection</h2><span id='topic+csi'></span>

<h3>Description</h3>

<p>Function for calculating the critical success index.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>csi(x, ref, th)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="csi_+3A_x">x</code></td>
<td>
<p>a data.table generated by <code><a href="#topic+fldmean">fldmean</a></code></p>
</td></tr>
<tr><td><code id="csi_+3A_ref">ref</code></td>
<td>
<p>a data.table with data used for evaluation</p>
</td></tr>
<tr><td><code id="csi_+3A_th">th</code></td>
<td>
<p>numeric. The value for detection threshold</p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric
</p>

<hr>
<h2 id='far'>False Alarm Rate</h2><span id='topic+far'></span>

<h3>Description</h3>

<p>Function for calculating the false alarm rate.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>far(x, ref, th)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="far_+3A_x">x</code></td>
<td>
<p>a data.table generated by <code><a href="#topic+fldmean">fldmean</a></code></p>
</td></tr>
<tr><td><code id="far_+3A_ref">ref</code></td>
<td>
<p>a data.table with data used for evaluation</p>
</td></tr>
<tr><td><code id="far_+3A_th">th</code></td>
<td>
<p>numeric. The value for detection threshold</p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric
</p>

<hr>
<h2 id='fldmean'>Field mean</h2><span id='topic+fldmean'></span><span id='topic+fldmean+2CRaster-method'></span><span id='topic+fldmean+2Cdata.table-method'></span><span id='topic+fldmean+2Ccharacter-method'></span>

<h3>Description</h3>

<p>The function <code>fldmean</code> computes the spatial weighted average for each timestep.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fldmean(x)

## S4 method for signature 'Raster'
fldmean(x)

## S4 method for signature 'data.table'
fldmean(x)

## S4 method for signature 'character'
fldmean(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fldmean_+3A_x">x</code></td>
<td>
<p>Raster* object; data.table (see details); filename (character, see details)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If 'x' is a data.table, its columns should be named: &quot;lon&quot;, &quot;lat&quot;, &quot;date&quot;, and &quot;value&quot;
</p>
<p>If 'x' is a filename, it should point to a *.nc file.
</p>


<h3>Value</h3>

<p>data.table
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
download_data("gldas-vic", tempdir(), timestep = "yearly")
r &lt;- raster::brick(paste0(tempdir(),
"/gldas-vic_tp_mm_land_194801_201412_025_yearly.nc"))
s &lt;- fldmean(r)

## End(Not run)
</code></pre>

<hr>
<h2 id='infoNC'>Show data content</h2><span id='topic+infoNC'></span><span id='topic+infoNC+2CRaster-method'></span><span id='topic+infoNC+2Ccharacter-method'></span>

<h3>Description</h3>

<p>The function <code>infoNC</code> displays the specification of the desired file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>infoNC(x)

## S4 method for signature 'Raster'
infoNC(x)

## S4 method for signature 'character'
infoNC(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="infoNC_+3A_x">x</code></td>
<td>
<p>Raster* Object; character</p>
</td></tr>
</table>


<h3>Value</h3>

<p>character
</p>

<hr>
<h2 id='muldpm'>Multiply by days per month</h2><span id='topic+muldpm'></span><span id='topic+muldpm+2CRaster-method'></span><span id='topic+muldpm+2Cdata.table-method'></span><span id='topic+muldpm+2Ccharacter-method'></span>

<h3>Description</h3>

<p>The function <code>muldpm</code> multiplies the value by days per month.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>muldpm(x)

## S4 method for signature 'Raster'
muldpm(x)

## S4 method for signature 'data.table'
muldpm(x)

## S4 method for signature 'character'
muldpm(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="muldpm_+3A_x">x</code></td>
<td>
<p>Raster* object; data.table (see details); filename (character, see details)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>'x' object with monthly data in [units/day]
</p>
<p>If 'x' is a data.table, its columns should be named: &quot;lon&quot;, &quot;lat&quot;, &quot;date&quot;, and &quot;value&quot;
</p>
<p>If 'x' is a filename, it should point to a *.nc file.
</p>


<h3>Value</h3>

<p>Raster* object; data.table
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
tavg_brick &lt;- raster::brick('terraclimate_tavg.nc')
pet_od &lt;- pet(method = "od", tavg = tavg_brick)
pet_od &lt;- muldpm(pet_od)

## End(Not run)
</code></pre>

<hr>
<h2 id='nse'>Nash–Sutcliffe Efficiency</h2><span id='topic+nse'></span>

<h3>Description</h3>

<p>Function for calculating the Nash–Sutcliffe efficiency.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nse(x, ref)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="nse_+3A_x">x</code></td>
<td>
<p>a data.table generated by <code><a href="#topic+fldmean">fldmean</a></code></p>
</td></tr>
<tr><td><code id="nse_+3A_ref">ref</code></td>
<td>
<p>a data.table with data used for evaluation</p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric
</p>

<hr>
<h2 id='pod'>Probability Of Detection</h2><span id='topic+pod'></span>

<h3>Description</h3>

<p>Function for calculating the probability of detection.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pod(x, ref, th)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pod_+3A_x">x</code></td>
<td>
<p>a data.table generated by <code><a href="#topic+fldmean">fldmean</a></code></p>
</td></tr>
<tr><td><code id="pod_+3A_ref">ref</code></td>
<td>
<p>a data.table with data used for evaluation</p>
</td></tr>
<tr><td><code id="pod_+3A_th">th</code></td>
<td>
<p>numeric. The value for detection threshold</p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric
</p>

<hr>
<h2 id='pRecipe_masks'>Masks data</h2><span id='topic+pRecipe_masks'></span>

<h3>Description</h3>

<p>Function for various masks.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pRecipe_masks()
</code></pre>


<h3>Value</h3>

<p>data.table
</p>

<hr>
<h2 id='remap'>Spatial aggregation</h2><span id='topic+remap'></span><span id='topic+remap+2CRaster-method'></span><span id='topic+remap+2Cdata.table-method'></span><span id='topic+remap+2Ccharacter-method'></span>

<h3>Description</h3>

<p>The function <code>remap</code> aggregates data into a new grid resolution.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>remap(x, y)

## S4 method for signature 'Raster'
remap(x, y)

## S4 method for signature 'data.table'
remap(x, y)

## S4 method for signature 'character'
remap(x, y)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="remap_+3A_x">x</code></td>
<td>
<p>Raster* object; data.table (see details); filename (character, see details)</p>
</td></tr>
<tr><td><code id="remap_+3A_y">y</code></td>
<td>
<p>numeric</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If 'x' is a data.table, its columns should be named: &quot;lon&quot;, &quot;lat&quot;, &quot;date&quot;, and &quot;value&quot;
</p>
<p>If 'x' is a filename, it should point to a *.nc file.
</p>


<h3>Value</h3>

<p>Raster* object; data.table
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
download_data("gldas-vic", tempdir(), timestep = "yearly")
r &lt;- raster::brick(paste0(tempdir(),
"/gldas-vic_tp_mm_land_194801_201412_025_yearly.nc"))
s &lt;- remap(r, 1)

## End(Not run)
</code></pre>

<hr>
<h2 id='saveNC'>Save .nc file</h2><span id='topic+saveNC'></span>

<h3>Description</h3>

<p>Function to save data compatible with pRecipe in .nc file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>saveNC(x, file, name = "tp", longname = "Total precipitation", units = "mm")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="saveNC_+3A_x">x</code></td>
<td>
<p>Raster* object</p>
</td></tr>
<tr><td><code id="saveNC_+3A_file">file</code></td>
<td>
<p>character</p>
</td></tr>
<tr><td><code id="saveNC_+3A_name">name</code></td>
<td>
<p>character</p>
</td></tr>
<tr><td><code id="saveNC_+3A_longname">longname</code></td>
<td>
<p>character</p>
</td></tr>
<tr><td><code id="saveNC_+3A_units">units</code></td>
<td>
<p>character</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called to save a file
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
save_nc(dummie_brick, "gpcp_tp_mm_global_197901_202205_025_monthly.nc")

## End(Not run)
</code></pre>

<hr>
<h2 id='sellonlatbox'>Select Longitude Latitude Box</h2><span id='topic+sellonlatbox'></span><span id='topic+sellonlatbox+2CRaster-method'></span><span id='topic+sellonlatbox+2Cdata.table-method'></span><span id='topic+sellonlatbox+2Ccharacter-method'></span>

<h3>Description</h3>

<p>The function <code>sellonlatbox</code> subsets the data in space within a bounding box.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sellonlatbox(x, y)

## S4 method for signature 'Raster'
sellonlatbox(x, y)

## S4 method for signature 'data.table'
sellonlatbox(x, y)

## S4 method for signature 'character'
sellonlatbox(x, y)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sellonlatbox_+3A_x">x</code></td>
<td>
<p>Raster* object; data.table (see details); filename (character, see details)</p>
</td></tr>
<tr><td><code id="sellonlatbox_+3A_y">y</code></td>
<td>
<p>numeric. Bounding box in the form: (xmin, xmax, ymin, ymax)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If 'x' is a data.table, its columns should be named: &quot;lon&quot;, &quot;lat&quot;, &quot;date&quot;, and &quot;value&quot;
</p>
<p>If 'x' is a filename, it should point to a *.nc file.
</p>


<h3>Value</h3>

<p>Raster* object; data.table
</p>

<hr>
<h2 id='selyear'>Select Years</h2><span id='topic+selyear'></span><span id='topic+selyear+2CRaster-method'></span><span id='topic+selyear+2Cdata.table-method'></span><span id='topic+selyear+2Ccharacter-method'></span>

<h3>Description</h3>

<p>The function <code>selyear</code> subsets the data in time within a year range.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>selyear(x, y)

## S4 method for signature 'Raster'
selyear(x, y)

## S4 method for signature 'data.table'
selyear(x, y)

## S4 method for signature 'character'
selyear(x, y)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="selyear_+3A_x">x</code></td>
<td>
<p>Raster* object; data.table (see details); filename (character, see details)</p>
</td></tr>
<tr><td><code id="selyear_+3A_y">y</code></td>
<td>
<p>numeric. Time range in the form: (start_year, end_year)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If 'x' is a data.table, its columns should be named: &quot;lon&quot;, &quot;lat&quot;, &quot;date&quot;, and &quot;value&quot;
</p>
<p>If 'x' is a filename, it should point to a *.nc file.
</p>


<h3>Value</h3>

<p>Raster* object; data.table
</p>

<hr>
<h2 id='subset_data'>Subset data in space and time</h2><span id='topic+subset_data'></span><span id='topic+subset_data+2CRaster-method'></span><span id='topic+subset_data+2Cdata.table-method'></span><span id='topic+subset_data+2Ccharacter-method'></span>

<h3>Description</h3>

<p>The function <code>subset_data</code> subsets the data in space within a bounding box, and/or in time within a year range.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>subset_data(x, box = NULL, yrs = NULL)

## S4 method for signature 'Raster'
subset_data(x, box = NULL, yrs = NULL)

## S4 method for signature 'data.table'
subset_data(x, box = NULL, yrs = NULL)

## S4 method for signature 'character'
subset_data(x, box = NULL, yrs = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="subset_data_+3A_x">x</code></td>
<td>
<p>Raster* object; data.table (see details); filename (character, see details)</p>
</td></tr>
<tr><td><code id="subset_data_+3A_box">box</code></td>
<td>
<p>numeric. Bounding box in the form: (xmin, xmax, ymin, ymax)</p>
</td></tr>
<tr><td><code id="subset_data_+3A_yrs">yrs</code></td>
<td>
<p>numeric. Time range in the form: (start_year, end_year)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If 'x' is a data.table, its columns should be named: &quot;lon&quot;, &quot;lat&quot;, &quot;date&quot;, and &quot;value&quot;
</p>
<p>If 'x' is a filename, it should point to a *.nc file.
</p>
<p>If subsetting only in space or time then the arguments must be passed by name. I.e., <code>subset_data(x, box = ...)</code> (space) or <code>subset_data(x, yrs = ...)</code> (time)
</p>


<h3>Value</h3>

<p>Raster* object; data.table
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
download_data("gldas-vic", tempdir(), timestep = "yearly")
r &lt;- raster::brick(paste0(tempdir(),
"/gldas-vic_tp_mm_land_194801_201412_025_yearly.nc"))
sd &lt;- subset_data(r, c(12.24, 18.85, 48.56, 51.12), c(2000, 2010))
ss &lt;- subset_data(r, box = c(12.24, 18.85, 48.56, 51.12))
st &lt;- subset_data(r, yrs = c(2000, 2010))

## End(Not run)
</code></pre>

<hr>
<h2 id='tabular'>Transform raster into data.table</h2><span id='topic+tabular'></span><span id='topic+tabular+2CRaster-method'></span><span id='topic+tabular+2Ccharacter-method'></span>

<h3>Description</h3>

<p>Function to transform a raster brick into a data.table
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tabular(x)

## S4 method for signature 'Raster'
tabular(x)

## S4 method for signature 'character'
tabular(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tabular_+3A_x">x</code></td>
<td>
<p>Raster* object; filename (character, see details)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.table
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
download_data("gldas-vic", tempdir(), timestep = "yearly")
r &lt;- raster::brick(paste0(tempdir(),
"/gldas-vic_tp_mm_land_194801_201412_025_yearly.nc"))
s &lt;- tabular(r)

## End(Not run)
</code></pre>

<hr>
<h2 id='trend'>Trends</h2><span id='topic+trend'></span><span id='topic+trend+2CRaster-method'></span><span id='topic+trend+2Cdata.table-method'></span><span id='topic+trend+2Ccharacter-method'></span>

<h3>Description</h3>

<p>The function <code>trend</code> computes linear slope.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>trend(x)

## S4 method for signature 'Raster'
trend(x)

## S4 method for signature 'data.table'
trend(x)

## S4 method for signature 'character'
trend(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="trend_+3A_x">x</code></td>
<td>
<p>Raster* object; data.table (see details); filename (character, see details)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If 'x' is a data.table, its columns should be named: &quot;lon&quot;, &quot;lat&quot;, &quot;date&quot;, and &quot;value&quot;
</p>
<p>If 'x' is a filename, it should point to a *.nc file.
</p>


<h3>Value</h3>

<p>Raster* object; data.table
</p>

<hr>
<h2 id='yearstat'>Yearly &lt;stat&gt;</h2><span id='topic+yearstat'></span><span id='topic+yearstat+2CRaster-method'></span><span id='topic+yearstat+2Cdata.table-method'></span><span id='topic+yearstat+2Ccharacter-method'></span>

<h3>Description</h3>

<p>The function <code>yearstat</code> aggregates the data from monthly to yearly.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>yearstat(x, stat = "sum")

## S4 method for signature 'Raster'
yearstat(x, stat = "sum")

## S4 method for signature 'data.table'
yearstat(x, stat = "sum")

## S4 method for signature 'character'
yearstat(x, stat = "sum")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="yearstat_+3A_x">x</code></td>
<td>
<p>Raster* object; data.table (see details); filename (character, see details)</p>
</td></tr>
<tr><td><code id="yearstat_+3A_stat">stat</code></td>
<td>
<p>character</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If 'x' is a data.table, its columns should be named: &quot;lon&quot;, &quot;lat&quot;, &quot;date&quot;, and &quot;value&quot;
</p>
<p>If 'x' is a filename, it should point to a *.nc file.
</p>
<p>'stat' is a character string describing the desired aggregation function. Suitable options are:
</p>

<ul>
<li><p> &quot;max&quot;
</p>
</li>
<li><p> &quot;mean&quot;
</p>
</li>
<li><p> &quot;median&quot;
</p>
</li>
<li><p> &quot;min&quot;
</p>
</li>
<li><p> &quot;sum&quot; (default)
</p>
</li></ul>



<h3>Value</h3>

<p>Raster* object; data.table
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
download_data("gldas-vic", path = tempdir())
r &lt;- raster::brick(paste0(tempdir(),
"/gldas-vic_tp_mm_land_194801_201412_025_monthly.nc"))
s &lt;- yearstat(r, "mean")

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

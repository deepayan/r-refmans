<!DOCTYPE html><html><head><title>Help for package pkgndep</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {pkgndep}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#ALL_BIOC_RELEASES'>
<p>All Bioconductor releases</p></a></li>
<li><a href='#all_pkg_stat_snapshot'>
<p>The complete table of dependency heaviness for all CRAN/Bioconductor packages</p></a></li>
<li><a href='#check_pkg'>
<p>Check whether a package is available</p></a></li>
<li><a href='#child_dependency'>
<p>Get child dependency for a package</p></a></li>
<li><a href='#co_heaviness'>
<p>Co-heaviness for pairs of parent packages</p></a></li>
<li><a href='#dependency_database'>
<p>Database of package dependency heaviness of all R packages</p></a></li>
<li><a href='#dependency_heatmap'>
<p>Make the dependency heatmap</p></a></li>
<li><a href='#dependency_report'>
<p>HTML report for package dependency heaviness analysis</p></a></li>
<li><a href='#dependency_website'>
<p>Database of package dependency heaviness of all R packages</p></a></li>
<li><a href='#downstream_dependency'>
<p>Get downstream dependency for a package</p></a></li>
<li><a href='#get_all_functions_imported_to_children'>
<p>Get functions that are imported to its child packages</p></a></li>
<li><a href='#gini_index'>
<p>Gini index</p></a></li>
<li><a href='#heaviness'>
<p>Heaviness from parent packages</p></a></li>
<li><a href='#heaviness_database'>
<p>Database of package dependency heaviness of all R packages</p></a></li>
<li><a href='#heaviness_from_upstream'>
<p>Heaviness from all upstream packages</p></a></li>
<li><a href='#heaviness_on_children'>
<p>Heaviness on all child packages</p></a></li>
<li><a href='#heaviness_on_downstream'>
<p>Heaviness on all downstream packages</p></a></li>
<li><a href='#heaviness_report'>
<p>HTML report for package dependency heaviness analysis</p></a></li>
<li><a href='#is_parent'>
<p>Test the parent-child relationship</p></a></li>
<li><a href='#is_upstream'>
<p>Test upstream-downstream relationship</p></a></li>
<li><a href='#load_all_pkg_dep'>
<p>Load dependency analysis results of all packages</p></a></li>
<li><a href='#load_from_heaviness_db'>
<p>Load pre-computed objects</p></a></li>
<li><a href='#load_heaviness_timeline'>
<p>Load heaviness statistics at all time points</p></a></li>
<li><a href='#load_pkg_db'>
<p>Load package database</p></a></li>
<li><a href='#load_pkg_description'>
<p>Load DESCRIPTION files of all packages</p></a></li>
<li><a href='#load_pkg_downstream_dependency_path_snapshot'>
<p>Load downstream dependency paths for all packages</p></a></li>
<li><a href='#load_pkg_namespace'>
<p>Load NAMESPACE files of all packages</p></a></li>
<li><a href='#load_pkg_stat_snapshot'>
<p>Load all package dependency statistics</p></a></li>
<li><a href='#loaded_packages'>
<p>Loaded packages</p></a></li>
<li><a href='#parent_dependency'>
<p>Get parent dependency for a package</p></a></li>
<li><a href='#pkgndep'>
<p>Package dependency analysis</p></a></li>
<li><a href='#pkgndep_opt'>
<p>Global parameters for pkgndep</p></a></li>
<li><a href='#plot.pkgndep'>
<p>Make the dependency heatmap</p></a></li>
<li><a href='#print.pkgndep'>
<p>Print method</p></a></li>
<li><a href='#reformat_db'>
<p>Format the package database</p></a></li>
<li><a href='#required_dependency_packages'>
<p>Required dependency packages</p></a></li>
<li><a href='#upstream_dependency'>
<p>Get upstream dependency for a package</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Analyze Dependency Heaviness of R Packages</td>
</tr>
<tr>
<td>Version:</td>
<td>1.99.3</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-10-12</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.0.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>ComplexHeatmap (&ge; 2.6.0), GetoptLong, GlobalOptions, utils,
grid, hash, methods, BiocManager, brew, BiocVersion</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, svglite, callr, rjson, Rook, igraph,
ggplot2, ggrepel, base64, testthat, cowplot</td>
</tr>
<tr>
<td>Description:</td>
<td>A new metric named 'dependency heaviness' is proposed that measures the number 
    of additional dependency packages that a parent package brings to its child package 
    and are unique to the dependency packages imported by all other parents.  
    The dependency heaviness analysis is visualized by a customized heatmap. 
    The package is described in &lt;<a href="https://doi.org/10.1093%2Fbioinformatics%2Fbtac449">doi:10.1093/bioinformatics/btac449</a>&gt;. 
    We have also performed the dependency heaviness analysis on the CRAN/Bioconductor 
    package ecosystem and the results are implemented as a web-based database 
    which provides comprehensive tools for querying dependencies of individual R packages. 
    The systematic analysis on the CRAN/Bioconductor ecosystem is described in 
    &lt;<a href="https://doi.org/10.1016%2Fj.jss.2023.111610">doi:10.1016/j.jss.2023.111610</a>&gt;. From 'pkgndep' version 2.0.0, the heaviness 
    database includes snapshots of the CRAN/Bioconductor ecosystems for many old R versions.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/jokergoo/pkgndep">https://github.com/jokergoo/pkgndep</a></td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-10-12 19:31:30 UTC; guz</td>
</tr>
<tr>
<td>Author:</td>
<td>Zuguang Gu <a href="https://orcid.org/0000-0002-7395-8709"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Zuguang Gu &lt;z.gu@dkfz.de&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-10-13 05:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='ALL_BIOC_RELEASES'>
All Bioconductor releases
</h2><span id='topic+ALL_BIOC_RELEASES'></span>

<h3>Description</h3>

<p>All Bioconductor releases
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ALL_BIOC_RELEASES
</code></pre>


<h3>Value</h3>

<p>A data frame
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ALL_BIOC_RELEASES
</code></pre>

<hr>
<h2 id='all_pkg_stat_snapshot'>
The complete table of dependency heaviness for all CRAN/Bioconductor packages
</h2><span id='topic+all_pkg_stat_snapshot'></span>

<h3>Description</h3>

<p>The complete table of dependency heaviness for all CRAN/Bioconductor packages
</p>


<h3>Usage</h3>

<pre><code class='language-R'>all_pkg_stat_snapshot()
</code></pre>


<h3>Value</h3>

<p>The returned data frame is directly from <code><a href="#topic+load_pkg_stat_snapshot">load_pkg_stat_snapshot</a></code>, but with only a subset of columns of heaviness metrics.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># There is no example
NULL

</code></pre>

<hr>
<h2 id='check_pkg'>
Check whether a package is available
</h2><span id='topic+check_pkg'></span>

<h3>Description</h3>

<p>Check whether a package is available
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_pkg(pkg, bioc = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_pkg_+3A_pkg">pkg</code></td>
<td>
<p>The name of the package.</p>
</td></tr>
<tr><td><code id="check_pkg_+3A_bioc">bioc</code></td>
<td>
<p>Whether it is a Bioconductor package.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>One of the suggestions to avoid heavy dependencies is to put parent packages that are not frequently used
to 'Suggests' and to load them when the corresponding functions are used. Here the <code><a href="#topic+check_pkg">check_pkg</a></code>
function helps to check whether these parent packages are avaiable and if not, it prints messages to guide users to install the corresponding packages.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># There is no example
NULL

</code></pre>

<hr>
<h2 id='child_dependency'>
Get child dependency for a package
</h2><span id='topic+child_dependency'></span>

<h3>Description</h3>

<p>Get child dependency for a package
</p>


<h3>Usage</h3>

<pre><code class='language-R'>child_dependency(package, fields = NULL, online = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="child_dependency_+3A_package">package</code></td>
<td>
<p>Package name.</p>
</td></tr>
<tr><td><code id="child_dependency_+3A_fields">fields</code></td>
<td>
<p>Which fields in DESCRIPTION? Values should be in <code>Depends</code>, <code>Imports</code>, <code>LinkingTo</code>, <code>Suggests</code> and <code>Enhances</code>. The value can also be set to <code>strong</code> or <code>weak</code>.</p>
</td></tr>
<tr><td><code id="child_dependency_+3A_online">online</code></td>
<td>
<p>Whether use the newest package database directly from CRAN/Bioconductor or the pre-computated package database?  The version of the pre-computated package database can be set via <code><a href="#topic+pkgndep_opt">pkgndep_opt</a></code>$heaviness_db_version.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with child packages as well as its heaviness on its child packages. If <code>snapshot</code> is set to <code>FALSE</code>, heaviness on child packages
is set to NA.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
child_dependency("ComplexHeatmap")

## End(Not run)
</code></pre>

<hr>
<h2 id='co_heaviness'>
Co-heaviness for pairs of parent packages
</h2><span id='topic+co_heaviness'></span>

<h3>Description</h3>

<p>Co-heaviness for pairs of parent packages
</p>


<h3>Usage</h3>

<pre><code class='language-R'>co_heaviness(x, rel = FALSE, a = 10, jaccard = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="co_heaviness_+3A_x">x</code></td>
<td>
<p>An object returned by <code><a href="#topic+pkgndep">pkgndep</a></code>.</p>
</td></tr>
<tr><td><code id="co_heaviness_+3A_rel">rel</code></td>
<td>
<p>Whether to return the absolute measure or the relative measure.</p>
</td></tr>
<tr><td><code id="co_heaviness_+3A_a">a</code></td>
<td>
<p>A constant added for calculating the relative measure.</p>
</td></tr>
<tr><td><code id="co_heaviness_+3A_jaccard">jaccard</code></td>
<td>
<p>Whether to return Jaccard coeffcient?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Denote a package as P and its two strong parent packages as A and B, i.e., parent packages in &quot;Depends&quot;, &quot;Imports&quot; and &quot;LinkingTo&quot;, 
the co-heaviness for A and B is calculated as follows.
</p>
<p>Denote S_A as the set of reduced dependency packages when only moving A to &quot;Suggests&quot; of P, and denote S_B as the set of reduced dependency
packages when only moving B to &quot;Suggests&quot; of P, denote S_AB as the set of reduced dependency packages when moving A and B together to &quot;Suggests&quot; of P,
the co-heaviness of A, B on P is calculatd as <code>length(setdiff(S_AB, union(S_A, S_B)))</code>, which is the number of reduced package only caused by co-action of A and B.
</p>
<p>Note the co-heaviness is only calculated for parent packages in &quot;Depends&quot;, &quot;Imports&quot; and &quot;LinkingTo&quot;.
</p>
<p>When <code>jaccard</code> is set to <code>TRUE</code>, the function returns jaccard coeffcient. <code>setdiff(S_AB, union(S_A, S_B))</code> is actually
the set of dependencies imported by and only by two parent packages A and B. Thus the jaccard coeffcient is calculated as
<code>length(setdiff(S_AB, union(S_A, S_B)))/length(S_AB)</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# DESeq version 1.36.0, the dependencies have been changed in later versions.
x = readRDS(system.file("extdata", "DESeq2_dep.rds", package = "pkgndep"))
hm = co_heaviness(x)
ComplexHeatmap::Heatmap(hm)
co_heaviness(x, jaccard = TRUE)

## End(Not run)
</code></pre>

<hr>
<h2 id='dependency_database'>
Database of package dependency heaviness of all R packages
</h2><span id='topic+dependency_database'></span>

<h3>Description</h3>

<p>Database of package dependency heaviness of all R packages
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dependency_database(version = pkgndep_opt$heaviness_db_version)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dependency_database_+3A_version">version</code></td>
<td>
<p>Version of the heaviness database. See <code><a href="#topic+pkgndep_opt">pkgndep_opt</a></code>$heaviness_db_version.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if(interactive()) {
    dependency_database()
}
</code></pre>

<hr>
<h2 id='dependency_heatmap'>
Make the dependency heatmap
</h2><span id='topic+dependency_heatmap'></span>

<h3>Description</h3>

<p>Make the dependency heatmap
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dependency_heatmap(x, pkg_fontsize = 10*cex, title_fontsize = 12*cex,
    legend_fontsize = 10*cex, fix_size = !dev.interactive(), cex = 1,
    help = TRUE, file = NULL, res = 144)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dependency_heatmap_+3A_x">x</code></td>
<td>
<p>An object from <code><a href="#topic+pkgndep">pkgndep</a></code>.</p>
</td></tr>
<tr><td><code id="dependency_heatmap_+3A_pkg_fontsize">pkg_fontsize</code></td>
<td>
<p>Font size for the package names.</p>
</td></tr>
<tr><td><code id="dependency_heatmap_+3A_title_fontsize">title_fontsize</code></td>
<td>
<p>Font size for the title.</p>
</td></tr>
<tr><td><code id="dependency_heatmap_+3A_legend_fontsize">legend_fontsize</code></td>
<td>
<p>Font size for the legends.</p>
</td></tr>
<tr><td><code id="dependency_heatmap_+3A_fix_size">fix_size</code></td>
<td>
<p>Should the rows and columns in the heatmap have fixed size?</p>
</td></tr>
<tr><td><code id="dependency_heatmap_+3A_cex">cex</code></td>
<td>
<p>A factor multiplicated to all font sizes.</p>
</td></tr>
<tr><td><code id="dependency_heatmap_+3A_help">help</code></td>
<td>
<p>Whether to print help message?</p>
</td></tr>
<tr><td><code id="dependency_heatmap_+3A_file">file</code></td>
<td>
<p>A path of the figure. The size of the figure is automatically calculated.</p>
</td></tr>
<tr><td><code id="dependency_heatmap_+3A_res">res</code></td>
<td>
<p>Resolution of the figure (only for png and jpeg).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>fix_size</code> is set to <code>TRUE</code>. The size of the whole plot can be obtained by:
</p>
<pre>
    size = dependency_heatmap(x, fix_size = TRUE)  </pre>
<p>where <code>size</code> is a numeric vector of length two which are the width and height of the whole heatmap.
If <code>file</code> argument is set, the size of the figure is automatically calculated.
</p>
<p>If there are no dependency packages stored in <code>x</code>, <code>NULL</code> is returned.
</p>


<h3>Value</h3>

<p>A vector of two numeric values (in inches) that correspond to the width and height of the plot.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># See examples in `pkgndep()`.
</code></pre>

<hr>
<h2 id='dependency_report'>
HTML report for package dependency heaviness analysis
</h2><span id='topic+dependency_report'></span>

<h3>Description</h3>

<p>HTML report for package dependency heaviness analysis
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dependency_report(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dependency_report_+3A_...">...</code></td>
<td>
<p>Pass to <code><a href="#topic+heaviness_report">heaviness_report</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It is the same as <code><a href="#topic+heaviness_report">heaviness_report</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># There is no example
NULL

</code></pre>

<hr>
<h2 id='dependency_website'>
Database of package dependency heaviness of all R packages
</h2><span id='topic+dependency_website'></span>

<h3>Description</h3>

<p>Database of package dependency heaviness of all R packages
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dependency_website(version = pkgndep_opt$heaviness_db_version)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dependency_website_+3A_version">version</code></td>
<td>
<p>Version of the heaviness database. See <code><a href="#topic+pkgndep_opt">pkgndep_opt</a></code>$heaviness_db_version.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if(interactive()) {
    dependency_website()
}
</code></pre>

<hr>
<h2 id='downstream_dependency'>
Get downstream dependency for a package
</h2><span id='topic+downstream_dependency'></span>

<h3>Description</h3>

<p>Get downstream dependency for a package
</p>


<h3>Usage</h3>

<pre><code class='language-R'>downstream_dependency(package, online = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="downstream_dependency_+3A_package">package</code></td>
<td>
<p>Package name.</p>
</td></tr>
<tr><td><code id="downstream_dependency_+3A_online">online</code></td>
<td>
<p>Whether use the newest package database directly from CRAN/Bioconductor or the pre-computated package database?  The version of the pre-computated package database can be set via <code><a href="#topic+pkgndep_opt">pkgndep_opt</a></code>$heaviness_db_version.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Downstream packages with relations of <code>Depends</code>, <code>Imports</code> and <code>LinkingTo</code> are retrieved.
</p>


<h3>Value</h3>

<p>A data frame with all downstream packages.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
downstream_dependency("ComplexHeatmap")

## End(Not run)
</code></pre>

<hr>
<h2 id='get_all_functions_imported_to_children'>
Get functions that are imported to its child packages
</h2><span id='topic+get_all_functions_imported_to_children'></span>

<h3>Description</h3>

<p>Get functions that are imported to its child packages
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_all_functions_imported_to_children(package)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_all_functions_imported_to_children_+3A_package">package</code></td>
<td>
<p>Package name.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The information is based on pre-computated results for a specific CRAN/Bioconductor snapshot. See <code><a href="#topic+pkgndep">pkgndep</a></code>$heaviness_db_version for how to set the version of the snapshot.
</p>


<h3>Value</h3>

<p>It returns a list of function names that are imported to every of its child packages.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
get_all_functions_imported_to_children("circlize")

## End(Not run)
</code></pre>

<hr>
<h2 id='gini_index'>
Gini index
</h2><span id='topic+gini_index'></span>

<h3>Description</h3>

<p>Gini index
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gini_index(v)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gini_index_+3A_v">v</code></td>
<td>
<p>A numeric vector.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>x = readRDS(system.file("extdata", "ComplexHeatmap_dep.rds", package = "pkgndep"))
gini_index(x$heaviness[x$which_required])
</code></pre>

<hr>
<h2 id='heaviness'>
Heaviness from parent packages
</h2><span id='topic+heaviness'></span>

<h3>Description</h3>

<p>Heaviness from parent packages
</p>


<h3>Usage</h3>

<pre><code class='language-R'>heaviness(x, rel = FALSE, a = 10, only_strong_dep = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="heaviness_+3A_x">x</code></td>
<td>
<p>An object returned by <code><a href="#topic+pkgndep">pkgndep</a></code>.</p>
</td></tr>
<tr><td><code id="heaviness_+3A_rel">rel</code></td>
<td>
<p>Whether to return the absolute measure or the relative measure.</p>
</td></tr>
<tr><td><code id="heaviness_+3A_a">a</code></td>
<td>
<p>A constant added for calculating the relative measure.</p>
</td></tr>
<tr><td><code id="heaviness_+3A_only_strong_dep">only_strong_dep</code></td>
<td>
<p>Whether to only return the heaviness for strong parents.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The heaviness from a parent package is calculated as follows: If package B is in the <code>Depends</code>/<code>Imports</code>/<code>LinkingTo</code> fields of package A,
which means, package B is necessary for package A, denote <code>v1</code> as the total numbers of packages required for package A,
and <code>v2</code> as the total number of required packages if moving package B to <code>Suggests</code> (which means, now B is not necessary for A).
The absolute measure is simply <code>v1 -  v2</code> and relative measure is <code>(v1 + a)/(v2 + a)</code>.
</p>
<p>In the second scenario, if B is in the <code>Suggests</code>/<code>Enhances</code> fields of package A, now <code>v2</code> is the total number of required packages if moving
B to <code>Imports</code>, the absolute measure is <code>v2 - v1</code> and relative measure is <code>(v2 + a)/(v1 + a)</code>.
</p>


<h3>Value</h3>

<p>A numeric vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x = readRDS(system.file("extdata", "ComplexHeatmap_dep.rds", package = "pkgndep"))
heaviness(x)
heaviness(x, rel = TRUE)
</code></pre>

<hr>
<h2 id='heaviness_database'>
Database of package dependency heaviness of all R packages
</h2><span id='topic+heaviness_database'></span>

<h3>Description</h3>

<p>Database of package dependency heaviness of all R packages
</p>


<h3>Usage</h3>

<pre><code class='language-R'>heaviness_database(version = pkgndep_opt$heaviness_db_version)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="heaviness_database_+3A_version">version</code></td>
<td>
<p>Version of the heaviness database. See <code><a href="#topic+pkgndep_opt">pkgndep_opt</a></code>$heaviness_db_version.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if(interactive()) {
    heaviness_database()
}
</code></pre>

<hr>
<h2 id='heaviness_from_upstream'>
Heaviness from all upstream packages
</h2><span id='topic+heaviness_from_upstream'></span>

<h3>Description</h3>

<p>Heaviness from all upstream packages
</p>


<h3>Usage</h3>

<pre><code class='language-R'>heaviness_from_upstream(package)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="heaviness_from_upstream_+3A_package">package</code></td>
<td>
<p>A package name.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It is calculated based on a specific CRAN/Bioconductor snapshot. The version is set via <code><a href="#topic+pkgndep_opt">pkgndep_opt</a></code>$heaviness_db_version.
</p>


<h3>Value</h3>

<p>A named vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># There is no example
NULL

</code></pre>

<hr>
<h2 id='heaviness_on_children'>
Heaviness on all child packages
</h2><span id='topic+heaviness_on_children'></span>

<h3>Description</h3>

<p>Heaviness on all child packages
</p>


<h3>Usage</h3>

<pre><code class='language-R'>heaviness_on_children(package, add_values_attr = FALSE, total = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="heaviness_on_children_+3A_package">package</code></td>
<td>
<p>A package name.</p>
</td></tr>
<tr><td><code id="heaviness_on_children_+3A_add_values_attr">add_values_attr</code></td>
<td>
<p>Whether to include &quot;values&quot; attribute? Internally used.</p>
</td></tr>
<tr><td><code id="heaviness_on_children_+3A_total">total</code></td>
<td>
<p>Whether to return the total heaviness?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It is calculated based on a specific CRAN/Bioconductor snapshot. The version is set via <code><a href="#topic+pkgndep_opt">pkgndep_opt</a></code>$heaviness_db_version.
</p>


<h3>Value</h3>

<p>The value is the mean heaviness of the package on all its child packages.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
heaviness_on_children("ComplexHeatmap")

## End(Not run)
</code></pre>

<hr>
<h2 id='heaviness_on_downstream'>
Heaviness on all downstream packages
</h2><span id='topic+heaviness_on_downstream'></span>

<h3>Description</h3>

<p>Heaviness on all downstream packages
</p>


<h3>Usage</h3>

<pre><code class='language-R'>heaviness_on_downstream(package, add_values_attr = FALSE, via = NULL,
    total = FALSE, internal = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="heaviness_on_downstream_+3A_package">package</code></td>
<td>
<p>A package name.</p>
</td></tr>
<tr><td><code id="heaviness_on_downstream_+3A_add_values_attr">add_values_attr</code></td>
<td>
<p>Whether to include &quot;values&quot; attribute? Internally used.</p>
</td></tr>
<tr><td><code id="heaviness_on_downstream_+3A_via">via</code></td>
<td>
<p>Whether to only consider downstream packages via a intermediate package?</p>
</td></tr>
<tr><td><code id="heaviness_on_downstream_+3A_total">total</code></td>
<td>
<p>Whether to return the total heaviness?</p>
</td></tr>
<tr><td><code id="heaviness_on_downstream_+3A_internal">internal</code></td>
<td>
<p>Whether to use internally calculated heaviness?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It is calculated based on a specific CRAN/Bioconductor snapshot. The version is set via <code><a href="#topic+pkgndep_opt">pkgndep_opt</a></code>$heaviness_db_version.
</p>


<h3>Value</h3>

<p>The value is the mean heaviness of the package on all its downstream packages. Denote <code>n</code> as the number of all its downstream packages,
<code>k_i</code> as the number of required packages for package i,
<code>v_1</code> as the total number of required packages for all downstream packages, i.e. <code>v_1 = sum_i^n {k_i}</code>. Denote <code>p_i</code> as the number of required packages if moving <code>package</code> to <code>Suggests</code>,
and <code>v_2</code> as the total number of required packages, i.e. <code>v_1 = sum_i^n {p_i}</code>. The final heaviniss on downstream packages is <code>(v_1 - v_2)/n</code>.
</p>
<p>Note since the interaction from <code>package</code> to its downstream packages may go through several intermediate packages, which means, the reduction of required packages
for a downstream package might be joint effects from all its upstream packages, thus, to properly calculate the heaviness of a package to its downstream packages, we first make 
a copy of the package database and move <code>package</code> to <code>Suggests</code> for all packages which depends on <code>package</code>. Then for all downstream packages of <code>package</code>, dependency analysis
by <code><a href="#topic+pkgndep">pkgndep</a></code> is redone with the modified package database. Finally, the heaviness on downstream packages is collected and the mean heaviness is calculated.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
heaviness_on_downstream("ComplexHeatmap")

## End(Not run)
</code></pre>

<hr>
<h2 id='heaviness_report'>
HTML report for package dependency heaviness analysis
</h2><span id='topic+heaviness_report'></span>

<h3>Description</h3>

<p>HTML report for package dependency heaviness analysis
</p>


<h3>Usage</h3>

<pre><code class='language-R'>heaviness_report(pkg, file = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="heaviness_report_+3A_pkg">pkg</code></td>
<td>
<p>An object from <code><a href="#topic+pkgndep">pkgndep</a></code>.</p>
</td></tr>
<tr><td><code id="heaviness_report_+3A_file">file</code></td>
<td>
<p>The path of the html file. If it is not specified, the report will be automatically opened in the web browser.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The path of the HTML file of the report.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if(interactive()) {
    x = readRDS(system.file("extdata", "ComplexHeatmap_dep.rds", package = "pkgndep"))
    heaviness_report(x)
}
</code></pre>

<hr>
<h2 id='is_parent'>
Test the parent-child relationship
</h2><span id='topic+is_parent'></span>

<h3>Description</h3>

<p>Test the parent-child relationship
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_parent(parent, child, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_parent_+3A_parent">parent</code></td>
<td>
<p>A vector of package names.</p>
</td></tr>
<tr><td><code id="is_parent_+3A_child">child</code></td>
<td>
<p>A single package name.</p>
</td></tr>
<tr><td><code id="is_parent_+3A_...">...</code></td>
<td>
<p>Pass to <code><a href="#topic+parent_dependency">parent_dependency</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># There is no example
NULL

</code></pre>

<hr>
<h2 id='is_upstream'>
Test upstream-downstream relationship
</h2><span id='topic+is_upstream'></span>

<h3>Description</h3>

<p>Test upstream-downstream relationship
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_upstream(upstream, package, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_upstream_+3A_upstream">upstream</code></td>
<td>
<p>A vector of package names.</p>
</td></tr>
<tr><td><code id="is_upstream_+3A_package">package</code></td>
<td>
<p>A single package name.</p>
</td></tr>
<tr><td><code id="is_upstream_+3A_...">...</code></td>
<td>
<p>Pass to <code><a href="#topic+upstream_dependency">upstream_dependency</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># There is no example
NULL

</code></pre>

<hr>
<h2 id='load_all_pkg_dep'>
Load dependency analysis results of all packages
</h2><span id='topic+load_all_pkg_dep'></span>

<h3>Description</h3>

<p>Load dependency analysis results of all packages
</p>


<h3>Usage</h3>

<pre><code class='language-R'>load_all_pkg_dep(hash = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="load_all_pkg_dep_+3A_hash">hash</code></td>
<td>
<p>Whether to convert the named list to a hash table by <code><a href="hash.html#topic+hash">hash</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It is calculated based on a specific CRAN/Bioconductor snapshot. The version is set via <code><a href="#topic+pkgndep_opt">pkgndep_opt</a></code>$heaviness_db_version.
</p>


<h3>Value</h3>

<p>A list (as a hash table) of <code>pkgndep</code> objects where each element corresponds to the analysis on one package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
lt = load_all_pkg_dep()
length(lt)
head(names(lt))
lt[["ggplot2"]]

## End(Not run)
</code></pre>

<hr>
<h2 id='load_from_heaviness_db'>
Load pre-computed objects
</h2><span id='topic+load_from_heaviness_db'></span>

<h3>Description</h3>

<p>Load pre-computed objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>load_from_heaviness_db(file)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="load_from_heaviness_db_+3A_file">file</code></td>
<td>
<p>File name.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The pathway of the file can be set via <code><a href="#topic+pkgndep_opt">pkgndep_opt</a></code>$db_file_template.
</p>
<p>Internally used.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># There is no example
NULL

</code></pre>

<hr>
<h2 id='load_heaviness_timeline'>
Load heaviness statistics at all time points
</h2><span id='topic+load_heaviness_timeline'></span>

<h3>Description</h3>

<p>Load heaviness statistics at all time points
</p>


<h3>Usage</h3>

<pre><code class='language-R'>load_heaviness_timeline()
</code></pre>


<h3>Details</h3>

<p>Used internally.
</p>


<h3>Value</h3>

<p>A list of data frames.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># There is no example
NULL

</code></pre>

<hr>
<h2 id='load_pkg_db'>
Load package database
</h2><span id='topic+load_pkg_db'></span>

<h3>Description</h3>

<p>Load package database
</p>


<h3>Usage</h3>

<pre><code class='language-R'>load_pkg_db(lib = NULL, online = TRUE, db = NULL, verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="load_pkg_db_+3A_lib">lib</code></td>
<td>
<p>Local library path. If the value is <code>NA</code>, only remote package database is used.</p>
</td></tr>
<tr><td><code id="load_pkg_db_+3A_online">online</code></td>
<td>
<p>If the value is <code>TRUE</code>, it will directly use the newest package database file from CRAN/Bioconductor. If the  value is <code>FALSE</code>, it uses the pre-computated package database on a specific CRAN/Bioconductor snapshot.  The version of the pre-computated package database can be set via <code><a href="#topic+pkgndep_opt">pkgndep_opt</a></code>$heaviness_db_version.</p>
</td></tr>
<tr><td><code id="load_pkg_db_+3A_db">db</code></td>
<td>
<p>A pre-computed <code>pkg_db</code> object.</p>
</td></tr>
<tr><td><code id="load_pkg_db_+3A_verbose">verbose</code></td>
<td>
<p>Whetehr to print messages.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It loads the package database from CRAN/Bioconductor and locally installed packages.
</p>
<p>The database object internaly is cached for repeated use of other functions in this package.
</p>


<h3>Value</h3>

<p>A <code>pkg_db</code> class object. See <code><a href="#topic+reformat_db">reformat_db</a></code> for how to use the <code>pkg_db</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
pkg_db = load_pkg_db(lib = NA)
pkg_db

## End(Not run)
</code></pre>

<hr>
<h2 id='load_pkg_description'>
Load DESCRIPTION files of all packages
</h2><span id='topic+load_pkg_description'></span>

<h3>Description</h3>

<p>Load DESCRIPTION files of all packages
</p>


<h3>Usage</h3>

<pre><code class='language-R'>load_pkg_description()
</code></pre>


<h3>Details</h3>

<p>It is calculated based on a specific CRAN/Bioconductor snapshot. The version is set via <code><a href="#topic+pkgndep_opt">pkgndep_opt</a></code>$heaviness_db_version.
</p>


<h3>Value</h3>

<p>A list of character vectors.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
lt = load_pkg_description()
lt[1:2]

## End(Not run)
</code></pre>

<hr>
<h2 id='load_pkg_downstream_dependency_path_snapshot'>
Load downstream dependency paths for all packages
</h2><span id='topic+load_pkg_downstream_dependency_path_snapshot'></span>

<h3>Description</h3>

<p>Load downstream dependency paths for all packages
</p>


<h3>Usage</h3>

<pre><code class='language-R'>load_pkg_downstream_dependency_path_snapshot()
</code></pre>


<h3>Details</h3>

<p>It is calculated based on a specific CRAN/Bioconductor snapshot. The version is set via <code><a href="#topic+pkgndep_opt">pkgndep_opt</a></code>$heaviness_db_version.
</p>


<h3>Value</h3>

<p>A list.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
downstream_path_list = load_pkg_downstream_dependency_path_snapshot()
downstream_path_list[["ComplexHeatmap"]]

## End(Not run)
</code></pre>

<hr>
<h2 id='load_pkg_namespace'>
Load NAMESPACE files of all packages
</h2><span id='topic+load_pkg_namespace'></span>

<h3>Description</h3>

<p>Load NAMESPACE files of all packages
</p>


<h3>Usage</h3>

<pre><code class='language-R'>load_pkg_namespace()
</code></pre>


<h3>Details</h3>

<p>It is calculated based on a specific CRAN/Bioconductor snapshot. The version is set via <code><a href="#topic+pkgndep_opt">pkgndep_opt</a></code>$heaviness_db_version.
</p>


<h3>Value</h3>

<p>A list of character vectors.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
lt = load_pkg_namespace()
lt[1:2]

## End(Not run)
</code></pre>

<hr>
<h2 id='load_pkg_stat_snapshot'>
Load all package dependency statistics
</h2><span id='topic+load_pkg_stat_snapshot'></span>

<h3>Description</h3>

<p>Load all package dependency statistics
</p>


<h3>Usage</h3>

<pre><code class='language-R'>load_pkg_stat_snapshot()
</code></pre>


<h3>Details</h3>

<p>It is calculated based on a specific CRAN/Bioconductor snapshot. The version is set via <code><a href="#topic+pkgndep_opt">pkgndep_opt</a></code>$heaviness_db_version.
</p>


<h3>Value</h3>

<p>A data frame.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
df = load_pkg_stat_snapshot()
head(df)

## End(Not run)
</code></pre>

<hr>
<h2 id='loaded_packages'>
Loaded packages
</h2><span id='topic+loaded_packages'></span>

<h3>Description</h3>

<p>Loaded packages
</p>


<h3>Usage</h3>

<pre><code class='language-R'>loaded_packages(pkg, verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="loaded_packages_+3A_pkg">pkg</code></td>
<td>
<p>A package name.</p>
</td></tr>
<tr><td><code id="loaded_packages_+3A_verbose">verbose</code></td>
<td>
<p>Whether to print messages.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It loads <code>pkg</code> into a new R session and collects which other packages are loaded by parsing the output from <code><a href="utils.html#topic+sessionInfo">sessionInfo</a></code>.
</p>


<h3>Value</h3>

<p>A data frame.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>loaded_packages("ComplexHeatmap")
</code></pre>

<hr>
<h2 id='parent_dependency'>
Get parent dependency for a package
</h2><span id='topic+parent_dependency'></span>

<h3>Description</h3>

<p>Get parent dependency for a package
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parent_dependency(package, fields = NULL, online = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="parent_dependency_+3A_package">package</code></td>
<td>
<p>Package name.</p>
</td></tr>
<tr><td><code id="parent_dependency_+3A_fields">fields</code></td>
<td>
<p>Which fields in DESCRIPTION? Values should be in <code>Depends</code>, <code>Imports</code>, <code>LinkingTo</code>, <code>Suggests</code> and <code>Enhances</code>. The value can also be set to <code>strong</code> or <code>weak</code>.</p>
</td></tr>
<tr><td><code id="parent_dependency_+3A_online">online</code></td>
<td>
<p>Whether use the newest package database directly from CRAN/Bioconductor or the pre-computated package database?  The version of the pre-computated package database can be set via <code><a href="#topic+pkgndep_opt">pkgndep_opt</a></code>$heaviness_db_version.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with parent packages as well as their heaviness on <code>pacakge</code>. If <code>snapshot</code> is set to <code>FALSE</code>, heaviness on child packages
is set to NA.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
parent_dependency("ComplexHeatmap")

## End(Not run)
</code></pre>

<hr>
<h2 id='pkgndep'>
Package dependency analysis
</h2><span id='topic+pkgndep'></span>

<h3>Description</h3>

<p>Package dependency analysis
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pkgndep(package, verbose = TRUE, online = TRUE, load = FALSE, parse_namespace = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pkgndep_+3A_package">package</code></td>
<td>
<p>Package name. The value can be 1. a CRAN/Bioconductor package, 2. an installed package, 3. a path of a local package, 4. URL of a GitHub repository.</p>
</td></tr>
<tr><td><code id="pkgndep_+3A_verbose">verbose</code></td>
<td>
<p>Whether to show messages.</p>
</td></tr>
<tr><td><code id="pkgndep_+3A_online">online</code></td>
<td>
<p>If the value is <code>TRUE</code>, it will directly use the newest package database file from CRAN/Bioconductor. Note the default Bioconductor version is the one corresponding to the current R version. If you want to use a higher bioc version, you need to set the global option <code>pkgndep_opt$bioc_version</code>. If the value of <code>online</code> is <code>FALSE</code>, a snapshot of the CRAN/Bioconductor package database will be used. The version of the package database snapshot can be via the global option <code><a href="#topic+pkgndep_opt">pkgndep_opt</a></code>$heaviness_db_version.</p>
</td></tr>
<tr><td><code id="pkgndep_+3A_load">load</code></td>
<td>
<p>If the value is <code>TRUE</code>, the <code>package</code> is loaded into a fresh new R session and the function will check which upstream packages are also loaded into the R session. Note it is possible that an &quot;Imports&quot; package is not loaded or a &quot;Suggests&quot; package is loaded in the R session when loading <code>package</code>.</p>
</td></tr>
<tr><td><code id="pkgndep_+3A_parse_namespace">parse_namespace</code></td>
<td>
<p>Whether to also parse the NAMESPACE file. It is only used internally.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>pkgndep</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
x = pkgndep("ComplexHeatmap")

## End(Not run)
# The `x` variable generated by `pkgndep()` is already saved in this package.
x = readRDS(system.file("extdata", "ComplexHeatmap_dep.rds", package = "pkgndep"))
x
dependency_heatmap(x)
</code></pre>

<hr>
<h2 id='pkgndep_opt'>
Global parameters for pkgndep
</h2><span id='topic+pkgndep_opt'></span>

<h3>Description</h3>

<p>Global parameters for pkgndep
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pkgndep_opt(..., RESET = FALSE, READ.ONLY = NULL, LOCAL = FALSE, ADD = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pkgndep_opt_+3A_...">...</code></td>
<td>
<p>Arguments for the parameters, see &quot;details&quot; section</p>
</td></tr>
<tr><td><code id="pkgndep_opt_+3A_reset">RESET</code></td>
<td>
<p>Reset to default values.</p>
</td></tr>
<tr><td><code id="pkgndep_opt_+3A_read.only">READ.ONLY</code></td>
<td>
<p>Please ignore.</p>
</td></tr>
<tr><td><code id="pkgndep_opt_+3A_local">LOCAL</code></td>
<td>
<p>Pllease ignore.</p>
</td></tr>
<tr><td><code id="pkgndep_opt_+3A_add">ADD</code></td>
<td>
<p>Please ignore.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>There are following parameters:
</p>

<dl>
<dt><code>bioc_version</code></dt><dd><p>The bioconductor version. By default it is the version corresponding to the R version under use. Please note this option is only for switching between bioc release version and development version, while not for switching to very old bioc versions.</p>
</dd>
<dt><code>heaviness_db_version</code></dt><dd><p>The version of the heaviness database. The value can be the corresponding bioc version, the R version or the corresponding date for the bioc release. All supported values are in the object <code><a href="#topic+ALL_BIOC_RELEASES">ALL_BIOC_RELEASES</a></code>.</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>pkgndep_opt
</code></pre>

<hr>
<h2 id='plot.pkgndep'>
Make the dependency heatmap
</h2><span id='topic+plot.pkgndep'></span>

<h3>Description</h3>

<p>Make the dependency heatmap
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'pkgndep'
plot(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.pkgndep_+3A_x">x</code></td>
<td>
<p>An object from <code><a href="#topic+pkgndep">pkgndep</a></code>.</p>
</td></tr>
<tr><td><code id="plot.pkgndep_+3A_...">...</code></td>
<td>
<p>Other arguments.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Please use <code><a href="#topic+dependency_heatmap">dependency_heatmap</a></code> instead.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># There is no example
NULL

</code></pre>

<hr>
<h2 id='print.pkgndep'>
Print method
</h2><span id='topic+print.pkgndep'></span>

<h3>Description</h3>

<p>Print method
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'pkgndep'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.pkgndep_+3A_x">x</code></td>
<td>
<p>An object from <code><a href="#topic+pkgndep">pkgndep</a></code>.</p>
</td></tr>
<tr><td><code id="print.pkgndep_+3A_...">...</code></td>
<td>
<p>Other arguments.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No value is returned.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># See examples in `pkgndep()`.
</code></pre>

<hr>
<h2 id='reformat_db'>
Format the package database
</h2><span id='topic+reformat_db'></span>

<h3>Description</h3>

<p>Format the package database
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reformat_db(db, version = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="reformat_db_+3A_db">db</code></td>
<td>
<p>A data frame returned from <code><a href="utils.html#topic+available.packages">available.packages</a></code> or <code><a href="utils.html#topic+installed.packages">installed.packages</a></code>.</p>
</td></tr>
<tr><td><code id="reformat_db_+3A_version">version</code></td>
<td>
<p>Version of the database, a self-defined text.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It reformats the data frame of the package database into a <code>pkg_db</code> class object.
</p>


<h3>Value</h3>

<p>A <code>pkg_db</code> class object. There are the following methods:
</p>

<dl>
<dt><code>pkg_db$get_meta(package,field=NULL)</code></dt><dd><p><code>field</code> can take values in &quot;Package&quot;, &quot;Version&quot; and &quot;Repository&quot;.</p>
</dd>
<dt><code>pkg_db$get_dependency_table(package)</code></dt><dd><p>Get the dependency table.</p>
</dd>
<dt><code>pkg_db$get_rev_dependency_table(package)</code></dt><dd><p>Get the reverse dependency table.</p>
</dd>
<dt><code>pkg_db$package_dependencies(package,recursive=FALSE,reverse=FALSE,which="strong",simplify=FALSE)</code></dt><dd><p>All the arguments are the same as in <code><a href="tools.html#topic+package_dependencies">package_dependencies</a></code>. Argument <code>simplify</code> controls whether to return a data frame or a simplied vector.</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
db = available.packages()
db2 = reformat_db(db)

# a pkg_db object generated on 2021-10-28 can be loaded by load_pkg_db()
db2 = load_pkg_db(online = FALSE)
db2
db2$get_meta("ComplexHeatmap")
db2$get_dependency_table("ComplexHeatmap")
db2$get_rev_dependency_table("ComplexHeatmap")
db2$package_dependencies("ComplexHeatmap")
db2$package_dependencies("ComplexHeatmap", recursive = TRUE)

## End(Not run)
</code></pre>

<hr>
<h2 id='required_dependency_packages'>
Required dependency packages
</h2><span id='topic+required_dependency_packages'></span>

<h3>Description</h3>

<p>Required dependency packages
</p>


<h3>Usage</h3>

<pre><code class='language-R'>required_dependency_packages(x, all = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="required_dependency_packages_+3A_x">x</code></td>
<td>
<p>An object from <code><a href="#topic+pkgndep">pkgndep</a></code>.</p>
</td></tr>
<tr><td><code id="required_dependency_packages_+3A_all">all</code></td>
<td>
<p>Whether to include the packages required if also including packages from &quot;Suggests&quot;/&quot;Enhances&quot; field.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function returns all upstream packages.
</p>


<h3>Value</h3>

<p>A vector of package names.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
x = readRDS(system.file("extdata", "ComplexHeatmap_dep.rds", package = "pkgndep"))
required_dependency_packages(x)

## End(Not run)
</code></pre>

<hr>
<h2 id='upstream_dependency'>
Get upstream dependency for a package
</h2><span id='topic+upstream_dependency'></span>

<h3>Description</h3>

<p>Get upstream dependency for a package
</p>


<h3>Usage</h3>

<pre><code class='language-R'>upstream_dependency(package, online = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="upstream_dependency_+3A_package">package</code></td>
<td>
<p>Package name.</p>
</td></tr>
<tr><td><code id="upstream_dependency_+3A_online">online</code></td>
<td>
<p>Whether use the newest package database directly from CRAN/Bioconductor or the pre-computated package database?  The version of the pre-computated package database can be set via <code><a href="#topic+pkgndep_opt">pkgndep_opt</a></code>$heaviness_db_version.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Upstream packages with relations of &quot;Depends&quot;, &quot;Imports&quot; and &quot;LinkingTo&quot; are retrieved.
</p>


<h3>Value</h3>

<p>A data frame with all upstream packages.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
upstream_dependency("ComplexHeatmap")

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

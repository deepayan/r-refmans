<!DOCTYPE html><html><head><title>Help for package SurvivalClusteringTree</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {SurvivalClusteringTree}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#SurvivalClusteringTree-package'><p>Clustering Analysis Using Survival Tree and Forest Algorithms</p></a></li>
<li><a href='#plot_survival_tree'><p>Visualize the Fitted Survival Tree</p></a></li>
<li><a href='#predict_distance_forest'><p>Predict Distances Between Samples Based on a Survival Forest Fit (Data Supplied as a Dataframe)</p></a></li>
<li><a href='#predict_distance_forest_matrix'><p>Predict Distances Between Samples Based on a Survival Forest Fit (Data Supplied as Matrices)</p></a></li>
<li><a href='#predict_distance_tree'><p>Predict Distances Between Samples Based on a Survival Tree Fit (Data Supplied as a Dataframe)</p></a></li>
<li><a href='#predict_distance_tree_matrix'><p>Predict Distances Between Samples Based on a Survival Tree Fit (Data Supplied as Matrices)</p></a></li>
<li><a href='#predict_weights'><p>Predict Weights of Samples in Terminal Nodes Based on a Survival Tree Fit (Data Supplied as a Dataframe)</p></a></li>
<li><a href='#predict_weights_matrix'><p>Predict Weights of Samples in Terminal Nodes Based on a Survival Tree Fit (Data Supplied as Matrices)</p></a></li>
<li><a href='#survival_forest'><p>Build a Survival Forest (Data Supplied as a Dataframe)</p></a></li>
<li><a href='#survival_forest_matrix'><p>Build a Survival Forest (Data Supplied as Matrices)</p></a></li>
<li><a href='#survival_tree'><p>Build a Survival Tree (Data Supplied as a Dataframe)</p></a></li>
<li><a href='#survival_tree_matrix'><p>Build a Survival Tree (Data Supplied as Matrices)</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Clustering Analysis Using Survival Tree and Forest Algorithms</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1.1</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-05-15</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Lu You &lt;lu.you@epi.usf.edu&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>An outcome-guided algorithm is developed to identify clusters of samples with similar characteristics and survival rate. The algorithm first builds a random forest and then defines distances between samples based on the fitted random forest. Given the distances, we can apply hierarchical clustering algorithms to define clusters. Details about this method is described in <a href="https://github.com/luyouepiusf/SurvivalClusteringTree">https://github.com/luyouepiusf/SurvivalClusteringTree</a>.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, tinytest</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Imports:</td>
<td>Rcpp, survival, dplyr, grid, gridtext, formula.tools</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp, RcppArmadillo</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-05-24 02:58:58 UTC; luyou</td>
</tr>
<tr>
<td>Author:</td>
<td>Lu You [aut, cre] (Created the package. Maintains the package.),
  Lauric Ferrat [aut] (Added functionality. Revised the package. Wrote
    the vignette.),
  Hemang Parikh [aut] (Checked and revised the package.),
  Yanan Huo [aut] (Revised plotting functions of the package.),
  Yuting Yang [aut] (Added some data frame features.),
  Jeffrey Krischer [ctb] (Supervisor the medical research. Coauthor of
    the medical manuscript.),
  Maria Redondo [ctb] (Principal investigators of the medical research.
    Coauthor of the medical manuscript.),
  Richard Oram [ctb] (Coauthor of the medical manuscript.),
  Andrea Steck [ctb] (Coauthor of the medical manuscript.)</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-05-24 21:10:25 UTC</td>
</tr>
</table>
<hr>
<h2 id='SurvivalClusteringTree-package'>Clustering Analysis Using Survival Tree and Forest Algorithms</h2><span id='topic+SurvivalClusteringTree-package'></span><span id='topic+SurvivalClusteringTree'></span>

<h3>Description</h3>

<p>An outcome-guided algorithm is developed to identify clusters of samples with similar characteristics and survival rate. The algorithm first builds a random forest and then defines distances between samples based on the fitted random forest. Given the distances, we can apply hierarchical clustering algorithms to define clusters. Details about this method is described in &lt;https://github.com/luyouepiusf/SurvivalClusteringTree&gt;.</p>


<h3>Package Content</h3>


<p>Index of help topics:
</p>
<pre>
SurvivalClusteringTree-package
                        Clustering Analysis Using Survival Tree and
                        Forest Algorithms
plot_survival_tree      Visualize the Fitted Survival Tree
predict_distance_forest
                        Predict Distances Between Samples Based on a
                        Survival Forest Fit (Data Supplied as a
                        Dataframe)
predict_distance_forest_matrix
                        Predict Distances Between Samples Based on a
                        Survival Forest Fit (Data Supplied as Matrices)
predict_distance_tree   Predict Distances Between Samples Based on a
                        Survival Tree Fit (Data Supplied as a
                        Dataframe)
predict_distance_tree_matrix
                        Predict Distances Between Samples Based on a
                        Survival Tree Fit (Data Supplied as Matrices)
predict_weights         Predict Weights of Samples in Terminal Nodes
                        Based on a Survival Tree Fit (Data Supplied as
                        a Dataframe)
predict_weights_matrix
                        Predict Weights of Samples in Terminal Nodes
                        Based on a Survival Tree Fit (Data Supplied as
                        Matrices)
survival_forest         Build a Survival Forest (Data Supplied as a
                        Dataframe)
survival_forest_matrix
                        Build a Survival Forest (Data Supplied as
                        Matrices)
survival_tree           Build a Survival Tree (Data Supplied as a
                        Dataframe)
survival_tree_matrix    Build a Survival Tree (Data Supplied as
                        Matrices)
</pre>

<h3>Maintainer</h3>

<p>Lu You &lt;lu.you@epi.usf.edu&gt;</p>


<h3>Author(s)</h3>

<p>NA</p>

<hr>
<h2 id='plot_survival_tree'>Visualize the Fitted Survival Tree</h2><span id='topic+plot_survival_tree'></span>

<h3>Description</h3>

<p>Visualize the Fitted Survival Tree
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_survival_tree(survival_tree, cex = 0.75)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_survival_tree_+3A_survival_tree">survival_tree</code></td>
<td>
<p>a fitted survival tree object.</p>
</td></tr>
<tr><td><code id="plot_survival_tree_+3A_cex">cex</code></td>
<td>
<p>numeric character expansion factor.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for generating graphical outputs.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(survival)
a_survival_tree&lt;-
  survival_tree(
  survival_outcome=Surv(time,status==2)~1,
  numeric_predictor=~age+ph.ecog+ph.karno+pat.karno+meal.cal,
  factor_predictor=~as.factor(sex),
  data=lung)
plot_survival_tree(a_survival_tree)
</code></pre>

<hr>
<h2 id='predict_distance_forest'>Predict Distances Between Samples Based on a Survival Forest Fit (Data Supplied as a Dataframe)</h2><span id='topic+predict_distance_forest'></span>

<h3>Description</h3>

<p>The function 
<code>predict_distance_forest</code> predicts distances between samples based on a survival forest fit.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>predict_distance_forest(
  survival_forest,
  numeric_predictor,
  factor_predictor,
  data,
  missing = "omit"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="predict_distance_forest_+3A_survival_forest">survival_forest</code></td>
<td>
<p>a fitted survival forest</p>
</td></tr>
<tr><td><code id="predict_distance_forest_+3A_numeric_predictor">numeric_predictor</code></td>
<td>
<p>a formula specifying the numeric predictors. 
As in <code>~x1+x2+x3</code>, the three numeric variables <code>x1</code>, <code>x2</code>, and <code>x3</code> are included as numeric predictors. 
<code>x1[i]</code>, <code>x2[i]</code>, and <code>x3[i]</code> are the predictors of the ith sample.
The best practice is to use the same variables names in the training and testing dataset.</p>
</td></tr>
<tr><td><code id="predict_distance_forest_+3A_factor_predictor">factor_predictor</code></td>
<td>
<p>a formula specifying the numeric predictors. 
As in <code>~z1+z2+z3</code>, the three character variables <code>z1</code>, <code>z2</code>, and <code>z3</code> are included as factor predictors. 
<code>z1[i]</code>, <code>z2[i]</code>, and <code>z3[i]</code> are the predictors of the ith sample.
The best practice is to use the same variables names in the training and testing dataset.</p>
</td></tr>
<tr><td><code id="predict_distance_forest_+3A_data">data</code></td>
<td>
<p>the dataframe (test data) that stores the outcome and predictor variables.
Variables in the global environment will be used if <code>data</code> is missing.</p>
</td></tr>
<tr><td><code id="predict_distance_forest_+3A_missing">missing</code></td>
<td>
<p>a character value that specifies the handling of missing data. 
If <code>missing=="omit"</code>, samples with missing values in the splitting variables will be discarded.
If <code>missing=="majority"</code>, samples with missing values in the splitting variables will be assigned to the majority node.
If <code>missing=="weighted"</code>, samples with missing values in the splitting variables will be weighted by the weights of branch nodes.
The best practice is to use the same method as the trained random forest.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Predict Distances Between Samples Based on a Survival Forest Fit (Data Supplied as a Dataframe)
</p>


<h3>Value</h3>

<p>A list. 
<code>mean_distance</code> is the mean distance matrix. 
<code>sum_distance</code> is the matrix that sums the distances between samples. 
<code>sum_non_na</code> is the matrix of the number of non NA distances being averaged.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(survival)
a_survival_forest&lt;-
  survival_forest(
    survival_outcome=Surv(time,status==2)~1,
    numeric_predictor=~age+ph.ecog+ph.karno+pat.karno+meal.cal,
    factor_predictor=~as.factor(sex),
    data=lung,nboot=20)
a_distance&lt;-
  predict_distance_forest(
    a_survival_forest,
    numeric_predictor=~age+ph.ecog+ph.karno+pat.karno+meal.cal,
    factor_predictor=~as.factor(sex),
    data=lung)

</code></pre>

<hr>
<h2 id='predict_distance_forest_matrix'>Predict Distances Between Samples Based on a Survival Forest Fit (Data Supplied as Matrices)</h2><span id='topic+predict_distance_forest_matrix'></span>

<h3>Description</h3>

<p>The function 
<code>predict_distance_forest_matrix</code> predicts distances between samples based on a survival forest fit.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>predict_distance_forest_matrix(
  survival_forest,
  matrix_numeric,
  matrix_factor,
  missing = "omit"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="predict_distance_forest_matrix_+3A_survival_forest">survival_forest</code></td>
<td>
<p>a fitted survival forest</p>
</td></tr>
<tr><td><code id="predict_distance_forest_matrix_+3A_matrix_numeric">matrix_numeric</code></td>
<td>
<p>numeric predictors, a numeric matrix. 
<code>matrix_numeric[i,j]</code> is the jth numeric predictor of the ith sample.
The best practice is to have the same column names in the training and testing dataset.</p>
</td></tr>
<tr><td><code id="predict_distance_forest_matrix_+3A_matrix_factor">matrix_factor</code></td>
<td>
<p>factor predictors, a character matrix. 
<code>matrix_factor[i,j]</code> is the jth predictor of the ith sample.
The best practice is to have the same column names in the training and testing dataset.</p>
</td></tr>
<tr><td><code id="predict_distance_forest_matrix_+3A_missing">missing</code></td>
<td>
<p>a character value that specifies the handling of missing data. 
If <code>missing=="omit"</code>, samples with missing values in the splitting variables will be discarded.
If <code>missing=="majority"</code>, samples with missing values in the splitting variables will be assigned to the majority node.
If <code>missing=="weighted"</code>, samples with missing values in the splitting variables will be weighted by the weights of branch nodes.
The best practice is to use the same method as the trained random forest.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Predict Distances Between Samples Based on a Survival Forest Fit (Data Supplied as Matrices)
(Works for raw matrices)
</p>


<h3>Value</h3>

<p>A list. 
<code>mean_distance</code> is the mean distance matrix. 
<code>sum_distance</code> is the matrix that sums the distances between samples. 
<code>sum_non_na</code> is the matrix of the number of non NA distances being averaged.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(survival)
a_survival_forest&lt;-
  survival_forest_matrix(
    time=lung$time,
    event=lung$status==2,
    matrix_numeric=data.matrix(lung[,c(4,6:9),drop=FALSE]),
    matrix_factor=data.matrix(lung[,5,drop=F]),
    nboot=20)
a_distance&lt;-
  predict_distance_forest_matrix(
    a_survival_forest,
    matrix_numeric=data.matrix(lung[,c(4,6:9),drop=FALSE]),
    matrix_factor=data.matrix(lung[,5,drop=F]))

</code></pre>

<hr>
<h2 id='predict_distance_tree'>Predict Distances Between Samples Based on a Survival Tree Fit (Data Supplied as a Dataframe)</h2><span id='topic+predict_distance_tree'></span>

<h3>Description</h3>

<p>The function 
<code>predict_distance_tree</code> predicts distances between samples based on a survival tree fit.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>predict_distance_tree(
  survival_tree,
  numeric_predictor,
  factor_predictor,
  data,
  missing = "omit"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="predict_distance_tree_+3A_survival_tree">survival_tree</code></td>
<td>
<p>a fitted survival tree</p>
</td></tr>
<tr><td><code id="predict_distance_tree_+3A_numeric_predictor">numeric_predictor</code></td>
<td>
<p>a formula specifying the numeric predictors. 
As in <code>~x1+x2+x3</code>, the three numeric variables <code>x1</code>, <code>x2</code>, and <code>x3</code> are included as numeric predictors. 
<code>x1[i]</code>, <code>x2[i]</code>, and <code>x3[i]</code> are the predictors of the ith sample.
The best practice is to use the same variables names in the training and testing dataset.</p>
</td></tr>
<tr><td><code id="predict_distance_tree_+3A_factor_predictor">factor_predictor</code></td>
<td>
<p>a formula specifying the numeric predictors. 
As in <code>~z1+z2+z3</code>, the three character variables <code>z1</code>, <code>z2</code>, and <code>z3</code> are included as factor predictors. 
<code>z1[i]</code>, <code>z2[i]</code>, and <code>z3[i]</code> are the predictors of the ith sample.
The best practice is to use the same variables names in the training and testing dataset.</p>
</td></tr>
<tr><td><code id="predict_distance_tree_+3A_data">data</code></td>
<td>
<p>the dataframe (test data) that stores the outcome and predictor variables.
Variables in the global environment will be used if <code>data</code> is missing.</p>
</td></tr>
<tr><td><code id="predict_distance_tree_+3A_missing">missing</code></td>
<td>
<p>a character value that specifies the handling of missing data. 
If <code>missing=="omit"</code>, samples with missing values in the splitting variables will be discarded.
If <code>missing=="majority"</code>, samples with missing values in the splitting variables will be assigned to the majority node.
If <code>missing=="weighted"</code>, samples with missing values in the splitting variables will be weighted by the weights of branch nodes.
The best practice is to use the same method as the trained random tree.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Predict Distances Between Samples Based on a Survival Tree Fit (Data Supplied as a Dataframe)
</p>


<h3>Value</h3>

<p>A list.
<code>node_distance</code> gives the distance matrix between nodes.
<code>ind_distance</code> gives the distance matrix between samples.
<code>ind_weights</code> gives the weights of samples in each node.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(survival)
a_survival_tree&lt;-
  survival_tree(
    survival_outcome=Surv(time,status==2)~1,
    numeric_predictor=~age+ph.ecog+ph.karno+pat.karno+meal.cal,
    factor_predictor=~as.factor(sex),
    data=lung)
a_distance&lt;-
  predict_distance_tree(
    a_survival_tree,
    numeric_predictor=~age+ph.ecog+ph.karno+pat.karno+meal.cal,
    factor_predictor=~as.factor(sex),
    data=lung)
</code></pre>

<hr>
<h2 id='predict_distance_tree_matrix'>Predict Distances Between Samples Based on a Survival Tree Fit (Data Supplied as Matrices)</h2><span id='topic+predict_distance_tree_matrix'></span>

<h3>Description</h3>

<p>The function 
<code>predict_distance_tree_matrix</code> predicts distances between samples based on a survival tree fit.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>predict_distance_tree_matrix(
  survival_tree,
  matrix_numeric,
  matrix_factor,
  missing = "omit"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="predict_distance_tree_matrix_+3A_survival_tree">survival_tree</code></td>
<td>
<p>a fitted survival tree</p>
</td></tr>
<tr><td><code id="predict_distance_tree_matrix_+3A_matrix_numeric">matrix_numeric</code></td>
<td>
<p>numeric predictors, a numeric matrix. 
<code>matrix_numeric[i,j]</code> is the jth numeric predictor of the ith sample.
The best practice is to have the same column names in the training and testing dataset.</p>
</td></tr>
<tr><td><code id="predict_distance_tree_matrix_+3A_matrix_factor">matrix_factor</code></td>
<td>
<p>factor predictors, a character matrix. 
<code>matrix_factor[i,j]</code> is the jth predictor of the ith sample.
The best practice is to have the same column names in the training and testing dataset.</p>
</td></tr>
<tr><td><code id="predict_distance_tree_matrix_+3A_missing">missing</code></td>
<td>
<p>a character value that specifies the handling of missing data. 
If <code>missing=="omit"</code>, samples with missing values in the splitting variables will be discarded.
If <code>missing=="majority"</code>, samples with missing values in the splitting variables will be assigned to the majority node.
If <code>missing=="weighted"</code>, samples with missing values in the splitting variables will be weighted by the weights of branch nodes.
The best practice is to use the same method as the trained random tree.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Predict Distances Between Samples Based on a Survival Tree Fit (Data Supplied as Matrices)
(Works for raw matrices)
</p>


<h3>Value</h3>

<p>A list.
<code>node_distance</code> gives the distance matrix between nodes.
<code>ind_distance</code> gives the distance matrix between samples.
<code>ind_weights</code> gives the weights of samples in each node.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(survival)
a_survival_tree&lt;-
  survival_tree_matrix(
    time=lung$time,
    event=lung$status==2,
    matrix_numeric=data.matrix(lung[,c(4,6:9),drop=FALSE]),
    matrix_factor=data.matrix(lung[,5,drop=FALSE]))
a_distance&lt;-
  predict_distance_tree_matrix(
    a_survival_tree,
    matrix_numeric=data.matrix(lung[,c(4,6:9),drop=FALSE]),
    matrix_factor=data.matrix(lung[,5,drop=FALSE]))
</code></pre>

<hr>
<h2 id='predict_weights'>Predict Weights of Samples in Terminal Nodes Based on a Survival Tree Fit (Data Supplied as a Dataframe)</h2><span id='topic+predict_weights'></span>

<h3>Description</h3>

<p>The function 
<code>predict_weights</code> predicts weights of samples in terminal nodes based on a survival tree fit.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>predict_weights(
  survival_tree,
  numeric_predictor,
  factor_predictor,
  data,
  missing = "omit"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="predict_weights_+3A_survival_tree">survival_tree</code></td>
<td>
<p>a fitted survival tree</p>
</td></tr>
<tr><td><code id="predict_weights_+3A_numeric_predictor">numeric_predictor</code></td>
<td>
<p>a formula specifying the numeric predictors. 
As in <code>~x1+x2+x3</code>, the three numeric variables <code>x1</code>, <code>x2</code>, and <code>x3</code> are included as numeric predictors. 
<code>x1[i]</code>, <code>x2[i]</code>, and <code>x3[i]</code> are the predictors of the ith sample.
The best practice is to use the same variables names in the training and testing dataset.</p>
</td></tr>
<tr><td><code id="predict_weights_+3A_factor_predictor">factor_predictor</code></td>
<td>
<p>a formula specifying the numeric predictors. 
As in <code>~z1+z2+z3</code>, the three character variables <code>z1</code>, <code>z2</code>, and <code>z3</code> are included as factor predictors. 
<code>z1[i]</code>, <code>z2[i]</code>, and <code>z3[i]</code> are the predictors of the ith sample.
The best practice is to use the same variables names in the training and testing dataset.</p>
</td></tr>
<tr><td><code id="predict_weights_+3A_data">data</code></td>
<td>
<p>the dataframe (test data) that stores the outcome and predictor variables.
Variables in the global environment will be used if <code>data</code> is missing.</p>
</td></tr>
<tr><td><code id="predict_weights_+3A_missing">missing</code></td>
<td>
<p>a character value that specifies the handling of missing data. 
If <code>missing=="omit"</code>, samples with missing values in the splitting variables will be discarded.
If <code>missing=="majority"</code>, samples with missing values in the splitting variables will be assigned to the majority node.
If <code>missing=="weighted"</code>, samples with missing values in the splitting variables will be weighted by the weights of branch nodes.
The best practice is to use the same method as the trained random tree.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Predict Weights of Samples in Terminal Nodes Based on a Survival Tree Fit (Data Supplied as a Dataframe)
</p>


<h3>Value</h3>

<p>A weight matrix representing the weights of samples in each node.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(survival)
a_survival_tree&lt;-
  survival_tree(
    survival_outcome=Surv(time,status==2)~1,
    numeric_predictor=~age+ph.ecog+ph.karno+pat.karno+meal.cal,
    factor_predictor=~as.factor(sex),
    data=lung)
a_weight&lt;-
  predict_weights(
    a_survival_tree,
    numeric_predictor=~age+ph.ecog+ph.karno+pat.karno+meal.cal,
    factor_predictor=~as.factor(sex),
    data=lung)
</code></pre>

<hr>
<h2 id='predict_weights_matrix'>Predict Weights of Samples in Terminal Nodes Based on a Survival Tree Fit (Data Supplied as Matrices)</h2><span id='topic+predict_weights_matrix'></span>

<h3>Description</h3>

<p>The function 
<code>predict_weights_matrix</code> predicts weights of samples in terminal nodes based on a survival tree fit.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>predict_weights_matrix(
  survival_tree,
  matrix_numeric,
  matrix_factor,
  missing = "majority"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="predict_weights_matrix_+3A_survival_tree">survival_tree</code></td>
<td>
<p>a fitted survival tree</p>
</td></tr>
<tr><td><code id="predict_weights_matrix_+3A_matrix_numeric">matrix_numeric</code></td>
<td>
<p>numeric predictors, a numeric matrix. 
<code>matrix_numeric[i,j]</code> is the jth numeric predictor of the ith sample.
The best practice is to have the same column names in the training and testing dataset.</p>
</td></tr>
<tr><td><code id="predict_weights_matrix_+3A_matrix_factor">matrix_factor</code></td>
<td>
<p>factor predictors, a character matrix. 
<code>matrix_factor[i,j]</code> is the jth predictor of the ith sample.
The best practice is to have the same column names in the training and testing dataset.</p>
</td></tr>
<tr><td><code id="predict_weights_matrix_+3A_missing">missing</code></td>
<td>
<p>a character value that specifies the handling of missing data. 
If <code>missing=="omit"</code>, samples with missing values in the splitting variables will be discarded.
If <code>missing=="majority"</code>, samples with missing values in the splitting variables will be assigned to the majority node.
If <code>missing=="weighted"</code>, samples with missing values in the splitting variables will be weighted by the weights of branch nodes.
The best practice is to use the same method as the trained tree.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Predict Weights of Samples in Terminal Nodes Based on a Survival Tree Fit (Data Supplied as Matrices)
</p>


<h3>Value</h3>

<p>A weight matrix representing the weights of samples in each node.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(survival)
a_survival_tree&lt;-
  survival_tree_matrix(
    time=lung$time,
    event=lung$status==2,
    matrix_numeric=data.matrix(lung[,c(4,6:9),drop=FALSE]),
    matrix_factor=data.matrix(lung[,5,drop=FALSE]))
a_weight&lt;-
  predict_weights_matrix(
    a_survival_tree,
    matrix_numeric=data.matrix(lung[,c(4,6:9),drop=FALSE]),
    matrix_factor=data.matrix(lung[,5,drop=FALSE]))
</code></pre>

<hr>
<h2 id='survival_forest'>Build a Survival Forest (Data Supplied as a Dataframe)</h2><span id='topic+survival_forest'></span>

<h3>Description</h3>

<p>The function 
<code>survival_forest</code> build a survival forest given the survival outcomes and predictors of numeric and factor variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>survival_forest(
  survival_outcome,
  numeric_predictor,
  factor_predictor,
  weights = NULL,
  data,
  significance = 0.05,
  min_weights = 50,
  missing = "omit",
  test_type = "univariate",
  cut_type = 0,
  nboot = 100,
  seed = 0
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="survival_forest_+3A_survival_outcome">survival_outcome</code></td>
<td>
<p>a <code>Surv</code> object of right-censored outcomes. 
In <code>Surv(time,event)</code>,
<code>time[i]</code> is the survival time of the ith sample.
<code>event[i]</code> is the survival event of the ith sample.</p>
</td></tr>
<tr><td><code id="survival_forest_+3A_numeric_predictor">numeric_predictor</code></td>
<td>
<p>a formula specifying the numeric predictors. 
As in <code>~x1+x2+x3</code>, the three numeric variables <code>x1</code>, <code>x2</code>, and <code>x3</code> are included as numeric predictors. 
<code>x1[i]</code>, <code>x2[i]</code>, and <code>x3[i]</code> are the predictors of the ith sample.</p>
</td></tr>
<tr><td><code id="survival_forest_+3A_factor_predictor">factor_predictor</code></td>
<td>
<p>a formula specifying the numeric predictors. 
As in <code>~z1+z2+z3</code>, the three character variables <code>z1</code>, <code>z2</code>, and <code>z3</code> are included as factor predictors. 
<code>z1[i]</code>, <code>z2[i]</code>, and <code>z3[i]</code> are the predictors of the ith sample.</p>
</td></tr>
<tr><td><code id="survival_forest_+3A_weights">weights</code></td>
<td>
<p>sample weights, a numeric vector. 
<code>weights[i]</code> is the weight of the ith sample.</p>
</td></tr>
<tr><td><code id="survival_forest_+3A_data">data</code></td>
<td>
<p>the dataframe that stores the outcome and predictor variables.
Variables in the global environment will be used if <code>data</code> is missing.</p>
</td></tr>
<tr><td><code id="survival_forest_+3A_significance">significance</code></td>
<td>
<p>significance threshold, a numeric value. 
Stop the splitting algorithm when no splits give a p-value smaller than <code>significance</code>.</p>
</td></tr>
<tr><td><code id="survival_forest_+3A_min_weights">min_weights</code></td>
<td>
<p>minimum weight threshold, a numeric value. 
The weights in a node are greater than <code>min_weights</code>.</p>
</td></tr>
<tr><td><code id="survival_forest_+3A_missing">missing</code></td>
<td>
<p>a character value that specifies the handling of missing data. 
If <code>missing=="omit"</code>, samples with missing values in the splitting variables will be discarded.
If <code>missing=="majority"</code>, samples with missing values in the splitting variables will be assigned to the majority node.
If <code>missing=="weighted"</code>, samples with missing values in the splitting variables will be weighted by the weights of branch nodes.</p>
</td></tr>
<tr><td><code id="survival_forest_+3A_test_type">test_type</code></td>
<td>
<p>a character value that specifies the type of statistical tests.
If <code>test_type=="univariate"</code>, then it performs a log-rank test without p-value adjustments.
If <code>test_type</code> is in <code>p.adjust.methods</code>, i.e., one of holm, hochberg, hommel, bonferroni, BH, BY, or fdr, 
then the p-values will be adjusted using the corresponding method.</p>
</td></tr>
<tr><td><code id="survival_forest_+3A_cut_type">cut_type</code></td>
<td>
<p>an integer value that specifies how to cut between two numeric values.
If <code>cut_type==0</code>, then cut at the ends.
If <code>cut_type==1</code>, then cut from the middle.
If <code>cut_type==2</code>, then cut randomly between the two values.</p>
</td></tr>
<tr><td><code id="survival_forest_+3A_nboot">nboot</code></td>
<td>
<p>an integer value that specifies the number of bootstrap replications.</p>
</td></tr>
<tr><td><code id="survival_forest_+3A_seed">seed</code></td>
<td>
<p>an integer value that specifies the seed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Build a Survival Forest (Data Supplied as a Dataframe)
</p>


<h3>Value</h3>

<p>A list containing the information of the survival forest fit.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(survival)
a_survival_forest&lt;-
  survival_forest(
    survival_outcome=Surv(time,status==2)~1,
    numeric_predictor=~age+ph.ecog+ph.karno+pat.karno+meal.cal,
    factor_predictor=~as.factor(sex),
    data=lung,nboot=20)

</code></pre>

<hr>
<h2 id='survival_forest_matrix'>Build a Survival Forest (Data Supplied as Matrices)</h2><span id='topic+survival_forest_matrix'></span>

<h3>Description</h3>

<p>The function 
<code>survival_forest_matrix</code> build a survival forest given the survival outcomes and predictors of numeric and factor variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>survival_forest_matrix(
  time,
  event,
  matrix_numeric,
  matrix_factor,
  weights = rep(1, length(time)),
  significance = 0.05,
  min_weights = 50,
  missing = "omit",
  test_type = "univariate",
  cut_type = 0,
  nboot = 100,
  seed = 0
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="survival_forest_matrix_+3A_time">time</code></td>
<td>
<p>survival times, a numeric vector. 
<code>time[i]</code> is the survival time of the ith sample.</p>
</td></tr>
<tr><td><code id="survival_forest_matrix_+3A_event">event</code></td>
<td>
<p>survival events, a logical vector. 
<code>event[i]</code> is the survival event of the ith sample.</p>
</td></tr>
<tr><td><code id="survival_forest_matrix_+3A_matrix_numeric">matrix_numeric</code></td>
<td>
<p>numeric predictors, a numeric matrix. 
<code>matrix_numeric[i,j]</code> is the jth numeric predictor of the ith sample.</p>
</td></tr>
<tr><td><code id="survival_forest_matrix_+3A_matrix_factor">matrix_factor</code></td>
<td>
<p>factor predictors, a character matrix. 
<code>matrix_factor[i,j]</code> is the jth predictor of the ith sample.</p>
</td></tr>
<tr><td><code id="survival_forest_matrix_+3A_weights">weights</code></td>
<td>
<p>sample weights, a numeric vector. 
<code>weights[i]</code> is the weight of the ith sample.</p>
</td></tr>
<tr><td><code id="survival_forest_matrix_+3A_significance">significance</code></td>
<td>
<p>significance threshold, a numeric value. 
Stop the splitting algorithm when no splits give a p-value smaller than <code>significance</code>.</p>
</td></tr>
<tr><td><code id="survival_forest_matrix_+3A_min_weights">min_weights</code></td>
<td>
<p>minimum weight threshold, a numeric value. 
The weights in a node are greater than <code>min_weights</code>.</p>
</td></tr>
<tr><td><code id="survival_forest_matrix_+3A_missing">missing</code></td>
<td>
<p>a character value that specifies the handling of missing data. 
If <code>missing=="omit"</code>, samples with missing values in the splitting variables will be discarded.
If <code>missing=="majority"</code>, samples with missing values in the splitting variables will be assigned to the majority node.
If <code>missing=="weighted"</code>, samples with missing values in the splitting variables will be weighted by the weights of branch nodes.</p>
</td></tr>
<tr><td><code id="survival_forest_matrix_+3A_test_type">test_type</code></td>
<td>
<p>a character value that specifies the type of statistical tests.
If <code>test_type=="univariate"</code>, then it performs a log-rank test without p-value adjustments.
If <code>test_type</code> is in <code>p.adjust.methods</code>, i.e., one of holm, hochberg, hommel, bonferroni, BH, BY, or fdr, 
then the p-values will be adjusted using the corresponding method.</p>
</td></tr>
<tr><td><code id="survival_forest_matrix_+3A_cut_type">cut_type</code></td>
<td>
<p>an integer value that specifies how to cut between two numeric values.
If <code>cut_type==0</code>, then cut at the ends.
If <code>cut_type==1</code>, then cut from the middle.
If <code>cut_type==2</code>, then cut randomly between the two values.</p>
</td></tr>
<tr><td><code id="survival_forest_matrix_+3A_nboot">nboot</code></td>
<td>
<p>an integer value that specifies the number of bootstrap replications.</p>
</td></tr>
<tr><td><code id="survival_forest_matrix_+3A_seed">seed</code></td>
<td>
<p>an integer value that specifies the seed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Build a Survival Forest (Data Supplied as Matrices)
</p>


<h3>Value</h3>

<p>A list containing the information of the survival forest fit.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(survival)
a_survival_forest&lt;-
  survival_forest_matrix(
    time=lung$time,
    event=lung$status==2,
    matrix_numeric=data.matrix(lung[,c(4,6:9),drop=FALSE]),
    matrix_factor=data.matrix(lung[,5,drop=FALSE]),
    nboot=20)

</code></pre>

<hr>
<h2 id='survival_tree'>Build a Survival Tree (Data Supplied as a Dataframe)</h2><span id='topic+survival_tree'></span>

<h3>Description</h3>

<p>The function 
<code>survival_tree</code> build a survival tree given the survival outcomes and predictors of numeric and factor variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>survival_tree(
  survival_outcome,
  numeric_predictor,
  factor_predictor,
  weights = NULL,
  data,
  significance = 0.05,
  min_weights = 50,
  missing = "omit",
  test_type = "univariate",
  cut_type = 0
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="survival_tree_+3A_survival_outcome">survival_outcome</code></td>
<td>
<p>a <code>Surv</code> object of right-censored outcomes. 
In <code>Surv(time,event)</code>,
<code>time[i]</code> is the survival time of the ith sample.
<code>event[i]</code> is the survival event of the ith sample.</p>
</td></tr>
<tr><td><code id="survival_tree_+3A_numeric_predictor">numeric_predictor</code></td>
<td>
<p>a formula specifying the numeric predictors. 
As in <code>~x1+x2+x3</code>, the three numeric variables <code>x1</code>, <code>x2</code>, and <code>x3</code> are included as numeric predictors. 
<code>x1[i]</code>, <code>x2[i]</code>, and <code>x3[i]</code> are the predictors of the ith sample.</p>
</td></tr>
<tr><td><code id="survival_tree_+3A_factor_predictor">factor_predictor</code></td>
<td>
<p>a formula specifying the numeric predictors. 
As in <code>~z1+z2+z3</code>, the three character variables <code>z1</code>, <code>z2</code>, and <code>z3</code> are included as factor predictors. 
<code>z1[i]</code>, <code>z2[i]</code>, and <code>z3[i]</code> are the predictors of the ith sample.</p>
</td></tr>
<tr><td><code id="survival_tree_+3A_weights">weights</code></td>
<td>
<p>sample weights, a numeric vector. 
<code>weights[i]</code> is the weight of the ith sample.</p>
</td></tr>
<tr><td><code id="survival_tree_+3A_data">data</code></td>
<td>
<p>the dataframe that stores the outcome and predictor variables.
Variables in the global environment will be used if <code>data</code> is missing.</p>
</td></tr>
<tr><td><code id="survival_tree_+3A_significance">significance</code></td>
<td>
<p>significance threshold, a numeric value. 
Stop the splitting algorithm when no splits give a p-value smaller than <code>significance</code>.</p>
</td></tr>
<tr><td><code id="survival_tree_+3A_min_weights">min_weights</code></td>
<td>
<p>minimum weight threshold, a numeric value. 
The weights in a node are greater than <code>min_weights</code>.</p>
</td></tr>
<tr><td><code id="survival_tree_+3A_missing">missing</code></td>
<td>
<p>a character value that specifies the handling of missing data. 
If <code>missing=="omit"</code>, samples with missing values in the splitting variables will be discarded.
If <code>missing=="majority"</code>, samples with missing values in the splitting variables will be assigned to the majority node.
If <code>missing=="weighted"</code>, samples with missing values in the splitting variables will be weighted by the weights of branch nodes.</p>
</td></tr>
<tr><td><code id="survival_tree_+3A_test_type">test_type</code></td>
<td>
<p>a character value that specifies the type of statistical tests.
If <code>test_type=="univariate"</code>, then it performs a log-rank test without p-value adjustments.
If <code>test_type</code> is in <code>p.adjust.methods</code>, i.e., one of holm, hochberg, hommel, bonferroni, BH, BY, or fdr, 
then the p-values will be adjusted using the corresponding method.</p>
</td></tr>
<tr><td><code id="survival_tree_+3A_cut_type">cut_type</code></td>
<td>
<p>an integer value that specifies how to cut between two numeric values.
If <code>cut_type==0</code>, then cut at the ends.
If <code>cut_type==1</code>, then cut from the middle.
If <code>cut_type==2</code>, then cut randomly between the two values.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Build a Survival Tree (Data Supplied as a Dataframe)
</p>


<h3>Value</h3>

<p>A list containing the information of the survival tree fit.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(survival)
a_survival_tree&lt;-
  survival_tree(
    survival_outcome=Surv(time,status==2)~1,
    numeric_predictor=~age+ph.ecog+ph.karno+pat.karno+meal.cal,
    factor_predictor=~as.factor(sex),
    data=lung)
</code></pre>

<hr>
<h2 id='survival_tree_matrix'>Build a Survival Tree (Data Supplied as Matrices)</h2><span id='topic+survival_tree_matrix'></span>

<h3>Description</h3>

<p>The function 
<code>survival_tree_matrix</code> build a survival tree given the survival outcomes and predictors of numeric and factor variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>survival_tree_matrix(
  time,
  event,
  matrix_numeric,
  matrix_factor,
  weights = rep(1, length(time)),
  significance = 0.05,
  min_weights = 50,
  missing = "omit",
  test_type = "univariate",
  cut_type = 0
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="survival_tree_matrix_+3A_time">time</code></td>
<td>
<p>survival times, a numeric vector. 
<code>time[i]</code> is the survival time of the ith sample.</p>
</td></tr>
<tr><td><code id="survival_tree_matrix_+3A_event">event</code></td>
<td>
<p>survival events, a logical vector. 
<code>event[i]</code> is the survival event of the ith sample.</p>
</td></tr>
<tr><td><code id="survival_tree_matrix_+3A_matrix_numeric">matrix_numeric</code></td>
<td>
<p>numeric predictors, a numeric matrix. 
<code>matrix_numeric[i,j]</code> is the jth numeric predictor of the ith sample.</p>
</td></tr>
<tr><td><code id="survival_tree_matrix_+3A_matrix_factor">matrix_factor</code></td>
<td>
<p>factor predictors, a character matrix. 
<code>matrix_factor[i,j]</code> is the jth predictor of the ith sample.</p>
</td></tr>
<tr><td><code id="survival_tree_matrix_+3A_weights">weights</code></td>
<td>
<p>sample weights, a numeric vector. 
<code>weights[i]</code> is the weight of the ith sample.</p>
</td></tr>
<tr><td><code id="survival_tree_matrix_+3A_significance">significance</code></td>
<td>
<p>significance threshold, a numeric value. 
Stop the splitting algorithm when no splits give a p-value smaller than <code>significance</code>.</p>
</td></tr>
<tr><td><code id="survival_tree_matrix_+3A_min_weights">min_weights</code></td>
<td>
<p>minimum weight threshold, a numeric value. 
The weights in a node are greater than <code>min_weights</code>.</p>
</td></tr>
<tr><td><code id="survival_tree_matrix_+3A_missing">missing</code></td>
<td>
<p>a character value that specifies the handling of missing data. 
If <code>missing=="omit"</code>, samples with missing values in the splitting variables will be discarded.
If <code>missing=="majority"</code>, samples with missing values in the splitting variables will be assigned to the majority node.
If <code>missing=="weighted"</code>, samples with missing values in the splitting variables will be weighted by the weights of branch nodes.</p>
</td></tr>
<tr><td><code id="survival_tree_matrix_+3A_test_type">test_type</code></td>
<td>
<p>a character value that specifies the type of statistical tests.
If <code>test_type=="univariate"</code>, then it performs a log-rank test without p-value adjustments.
If <code>test_type</code> is in <code>p.adjust.methods</code>, i.e., one of holm, hochberg, hommel, bonferroni, BH, BY, or fdr, 
then the p-values will be adjusted using the corresponding method.</p>
</td></tr>
<tr><td><code id="survival_tree_matrix_+3A_cut_type">cut_type</code></td>
<td>
<p>an integer value that specifies how to cut between two numeric values.
If <code>cut_type==0</code>, then cut at the ends.
If <code>cut_type==1</code>, then cut from the middle.
If <code>cut_type==2</code>, then cut randomly between the two values.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Build a Survival Tree (Data Supplied as Matrices)
</p>


<h3>Value</h3>

<p>A list containing the information of the survival tree fit.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package owmr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {owmr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#%$$%'><p>Render operator.</p></a></li>
<li><a href='#add_owm_tiles'><p>Add owm tiles to leaflet map.</p></a></li>
<li><a href='#add_weather'><p>Add weather data to leaflet map.</p></a></li>
<li><a href='#cbind_weather'><p>Flatten weather column in data frame. (DEPRECATED)</p></a></li>
<li><a href='#find_cities_by_bbox'><p>Find cities by bounding box.</p></a></li>
<li><a href='#find_cities_by_geo_point'><p>Find cities by geo point.</p></a></li>
<li><a href='#find_city'><p>Find city by name or coordinates.</p></a></li>
<li><a href='#flatten'><p>Flatten list. (DEPRECATED)</p></a></li>
<li><a href='#flatten_weather'><p>Parse weather column to (single) data frame. (DEPRECATED)</p></a></li>
<li><a href='#get_current'><p>Get current weather data for given city.</p></a></li>
<li><a href='#get_current_for_group'><p>Get current weather data for multiple cities.</p></a></li>
<li><a href='#get_forecast'><p>Get 3h forecast data.</p></a></li>
<li><a href='#get_forecast_daily'><p>Get daily forecast data up to 16 days.</p></a></li>
<li><a href='#get_icon_url'><p>Get icon url.</p></a></li>
<li><a href='#owm_cities'><p>owm city list containing ids and coordinates of cities.</p></a></li>
<li><a href='#owm_layers'><p>List of available owm weather map layers.</p></a></li>
<li><a href='#owmr'><p>owmr - An R interface to access OpenWeatherMap's API</p></a></li>
<li><a href='#owmr_as_tibble'><p>Parse owmr response to tibble.</p></a></li>
<li><a href='#owmr_settings'><p>owmr settings.</p></a></li>
<li><a href='#parse_columns'><p>Apply functions to columns.</p></a></li>
<li><a href='#reexports'><p>Objects exported from other packages</p></a></li>
<li><a href='#remove_prefix'><p>Remove prefices from column names.</p></a></li>
<li><a href='#search_city_list'><p>Look up coordinates and city id in owm's city list.</p></a></li>
<li><a href='#tidy_up'><p>Tidy up owm data. (DEPRECATED)</p></a></li>
<li><a href='#tidy_up_'><p>Tidy up owm data. (DEPRECATED)</p></a></li>
<li><a href='#use_underscore'><p>Substitute dots in column names with underscores.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>OpenWeatherMap API Wrapper</td>
</tr>
<tr>
<td>Version:</td>
<td>0.8.2</td>
</tr>
<tr>
<td>Date:</td>
<td>2019-12-12</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Stefan Kuethe &lt;crazycapivara@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Accesses OpenWeatherMap's (owm) <a href="https://openweathermap.org/">https://openweathermap.org/</a> API.
   'owm' itself is a service providing weather data in the past, in the future and now.
   Furthermore, 'owm' serves weather map layers usable in frameworks like 'leaflet'.
   In order to access the API, you need to sign up for an API key. There are free and paid plans.
   Beside functions for fetching weather data from 'owm', 'owmr' supplies
   tools to tidy up fetched data (for fast and simple access) and to show it on leaflet maps.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/crazycapivara/owmr/">https://github.com/crazycapivara/owmr/</a>,
<a href="https://crazycapivara.github.io/owmr/">https://crazycapivara.github.io/owmr/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/crazycapivara/owmr/issues/">https://github.com/crazycapivara/owmr/issues/</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.1.2)</td>
</tr>
<tr>
<td>Imports:</td>
<td>magrittr, httr, jsonlite, plyr, tibble, tidyr</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.1.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>leaflet, whisker, testthat, covr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-01-11 13:48:58 UTC; gabbo</td>
</tr>
<tr>
<td>Author:</td>
<td>Stefan Kuethe [aut, cre],
  Amanda Dobbyn [ctb]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-01-11 14:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='+25+24+24+25'>Render operator.</h2><span id='topic++25+24+24+25'></span><span id='topic+render'></span>

<h3>Description</h3>

<p>Vectorizes function <code><a href="whisker.html#topic+whisker.render">whisker.render</a></code>. <br />
<br />
NOTE: Because <span class="pkg">whisker</span> does not support variable names
inlcuding dots, a <em>dot</em> in column names is replaced by an <em>underscore</em>.
Therefore, you must use an underscore in the template text for
varibales including dots.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>template %$$% data
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B25+2B24+2B24+2B25_+3A_template">template</code></td>
<td>
<p>template</p>
</td></tr>
<tr><td><code id="+2B25+2B24+2B24+2B25_+3A_data">data</code></td>
<td>
<p>data frame where column names correspond to
variables names in template</p>
</td></tr>
</table>


<h3>Value</h3>

<p>rendered template
</p>


<h3>See Also</h3>

<p><code><a href="whisker.html#topic+whisker.render">whisker.render</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>vars &lt;- data.frame(a = 1:3, b = 23:21)
"a = {{a}} and b = {{b}}" %$$% vars
</code></pre>

<hr>
<h2 id='add_owm_tiles'>Add owm tiles to leaflet map.</h2><span id='topic+add_owm_tiles'></span>

<h3>Description</h3>

<p>Add owm tiles to leaflet map.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_owm_tiles(map, layer_name = owm_layers$Temperature_new, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_owm_tiles_+3A_map">map</code></td>
<td>
<p>leaflet map object</p>
</td></tr>
<tr><td><code id="add_owm_tiles_+3A_layer_name">layer_name</code></td>
<td>
<p>owm layer name,
see <code><a href="#topic+owm_layers">owm_layers</a></code></p>
</td></tr>
<tr><td><code id="add_owm_tiles_+3A_...">...</code></td>
<td>
<p>optional parameters passed to <code><a href="leaflet.html#topic+addTiles">addTiles</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>updated map object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
   leaflet() %&gt;% add_owm_tiles() %&gt;%
      addMarkers(data = quakes[1:20, ])

## End(Not run)
</code></pre>

<hr>
<h2 id='add_weather'>Add weather data to leaflet map.</h2><span id='topic+add_weather'></span>

<h3>Description</h3>

<p>Add weather data to leaflet map.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_weather(map, data, lng = NULL, lat = NULL, icon = NULL,
  template = NULL, popup = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_weather_+3A_map">map</code></td>
<td>
<p><code><a href="leaflet.html#topic+leaflet">leaflet</a></code> map object</p>
</td></tr>
<tr><td><code id="add_weather_+3A_data">data</code></td>
<td>
<p>owm data</p>
</td></tr>
<tr><td><code id="add_weather_+3A_lng">lng</code></td>
<td>
<p>numeric vector of longitudes
(if <code>NULL</code> it will be taken from <code>data</code>)</p>
</td></tr>
<tr><td><code id="add_weather_+3A_lat">lat</code></td>
<td>
<p>numeric vector of latitudes
(if <code>NULL</code> it will be taken from <code>data</code>)</p>
</td></tr>
<tr><td><code id="add_weather_+3A_icon">icon</code></td>
<td>
<p>vector of owm icon names
(usually included in weather column of owm data)</p>
</td></tr>
<tr><td><code id="add_weather_+3A_template">template</code></td>
<td>
<p>template in the form of <br />
<code>"&lt;b&gt;{{name}}&lt;/b&gt;"</code> <br />
where variable names in brackets correspond to
column names of <code>data</code> (see also <code><a href="#topic+render">render</a></code>)</p>
</td></tr>
<tr><td><code id="add_weather_+3A_popup">popup</code></td>
<td>
<p>vector containing (HTML) content for popups,
skipped in case parameter <code>template</code> is given</p>
</td></tr>
<tr><td><code id="add_weather_+3A_...">...</code></td>
<td>
<p>see <code><a href="leaflet.html#topic+addMarkers">addMarkers</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>updated map object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
   owm_data &lt;- find_city("Malaga", units = "metric") %&gt;%
     owmr_as_tibble()
   map &lt;- leaflet() %&gt;% addTiles() %&gt;%
     add_weather(
       owm_data,
       template = "&lt;b&gt;{{name}}&lt;/b&gt;, {{temp}}°C",
       icon = owm_data$weather_icon
     )

## End(Not run)
</code></pre>

<hr>
<h2 id='cbind_weather'>Flatten weather column in data frame. (DEPRECATED)</h2><span id='topic+cbind_weather'></span>

<h3>Description</h3>

<p>Flatten weather column in data frame. (DEPRECATED)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cbind_weather(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cbind_weather_+3A_data">data</code></td>
<td>
<p>data frame containing weather column</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data frame with flattened weather (data)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
   get_forecast("Kassel") %&gt;% cbind_weather()

## End(Not run)
</code></pre>

<hr>
<h2 id='find_cities_by_bbox'>Find cities by bounding box.</h2><span id='topic+find_cities_by_bbox'></span>

<h3>Description</h3>

<p>Get current weather data for a number of cities
within a given bounding box.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find_cities_by_bbox(bbox = c(12, 32, 15, 37, 10), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="find_cities_by_bbox_+3A_bbox">bbox</code></td>
<td>
<p>bounding box, numric vector of the form
(lon-left, lat-bottom, lon-right, lat-top, zoom)</p>
</td></tr>
<tr><td><code id="find_cities_by_bbox_+3A_...">...</code></td>
<td>
<p>see <a href="https://openweathermap.org/current">https://openweathermap.org/current</a></p>
</td></tr>
</table>

<hr>
<h2 id='find_cities_by_geo_point'>Find cities by geo point.</h2><span id='topic+find_cities_by_geo_point'></span>

<h3>Description</h3>

<p>Get current weather data for a number of cities
around a given geo point.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find_cities_by_geo_point(lat, lon, cnt = 3, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="find_cities_by_geo_point_+3A_lat">lat</code></td>
<td>
<p>latitude of geo point</p>
</td></tr>
<tr><td><code id="find_cities_by_geo_point_+3A_lon">lon</code></td>
<td>
<p>longitude of geo point</p>
</td></tr>
<tr><td><code id="find_cities_by_geo_point_+3A_cnt">cnt</code></td>
<td>
<p>number of cities</p>
</td></tr>
<tr><td><code id="find_cities_by_geo_point_+3A_...">...</code></td>
<td>
<p>see owm api documentation</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list
</p>


<h3>See Also</h3>

<p><code><a href="#topic+find_city">find_city</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  find_cities_by_geo_point(lat = 51.50853, lon = -0.12574, cnt = 5)

## End(Not run)
</code></pre>

<hr>
<h2 id='find_city'>Find city by name or coordinates.</h2><span id='topic+find_city'></span>

<h3>Description</h3>

<p>Either search for city by name or fetch weather
data for a number of cities around geo point.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find_city(city = NA, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="find_city_+3A_city">city</code></td>
<td>
<p>city name (and country code)</p>
</td></tr>
<tr><td><code id="find_city_+3A_...">...</code></td>
<td>
<p>see owm api documentation, pass <code>lat</code> and <code>lon</code>
to search by coordinates</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list of weather data for matches
</p>


<h3>See Also</h3>

<p><a href="#topic+find_cities_by_geo_point">find_cities_by_geo_point</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
   find_city("London,UK")
   find_city(lat = 51.50853, lon = -0.12574, cnt = 5)

## End(Not run)
</code></pre>

<hr>
<h2 id='flatten'>Flatten list. (DEPRECATED)</h2><span id='topic+flatten'></span>

<h3>Description</h3>

<p>Flatten list. (DEPRECATED)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>flatten(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="flatten_+3A_data">data</code></td>
<td>
<p>list returned from owm</p>
</td></tr>
</table>


<h3>Value</h3>

<p>flattened list
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
   get_current("Rio de Janeiro") %&gt;% flatten()
   get_current("Rio de Janeiro") %&gt;% flatten() %&gt;%
      tidy_up_()

## End(Not run)
</code></pre>

<hr>
<h2 id='flatten_weather'>Parse weather column to (single) data frame. (DEPRECATED)</h2><span id='topic+flatten_weather'></span>

<h3>Description</h3>

<p>Parse weather column to (single) data frame. (DEPRECATED)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>flatten_weather(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="flatten_weather_+3A_x">x</code></td>
<td>
<p>weather column (NOT name)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data frame
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
   result &lt;- get_forecast("Kassel", units = "metric")$list
   weather &lt;- flatten_weather(result$weather)
   weather$description %&gt;% print()

## End(Not run)
</code></pre>

<hr>
<h2 id='get_current'>Get current weather data for given city.</h2><span id='topic+get_current'></span>

<h3>Description</h3>

<p>Get current weather data for given city.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_current(city = NA, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_current_+3A_city">city</code></td>
<td>
<p>city name or id</p>
</td></tr>
<tr><td><code id="get_current_+3A_...">...</code></td>
<td>
<p>see owm api documentation, you can also skip parameter
<code>city</code> and pass <code>lat</code> (latitude) and <code>lon</code> (longitude)
or <code>zip</code> (zip code) instead</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
   get_current("London", units = "metric")
   get_current(2643741, lang = "DE")
   get_current(lon = -0.09184, lat = 51.51279)
   get_current(zip = "94040,US")

## End(Not run)
</code></pre>

<hr>
<h2 id='get_current_for_group'>Get current weather data for multiple cities.</h2><span id='topic+get_current_for_group'></span>

<h3>Description</h3>

<p>Get current weather data for multiple cities.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_current_for_group(city_ids, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_current_for_group_+3A_city_ids">city_ids</code></td>
<td>
<p>numeric vector containing city ids</p>
</td></tr>
<tr><td><code id="get_current_for_group_+3A_...">...</code></td>
<td>
<p>see owm api documentation</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list
</p>


<h3>See Also</h3>

<p><code><a href="#topic+owm_cities">owm_cities</a></code> dataset in order to
lookup city ids
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
   city_ids = c(2831088, 2847639, 2873291)
   result &lt;- get_current_for_group(city_ids)
   result$cnt == nrow(result$list)
   weather_frame &lt;- result$list

## End(Not run)
</code></pre>

<hr>
<h2 id='get_forecast'>Get 3h forecast data.</h2><span id='topic+get_forecast'></span>

<h3>Description</h3>

<p>Get 3h forecast data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_forecast(city = NA, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_forecast_+3A_city">city</code></td>
<td>
<p>city name or id</p>
</td></tr>
<tr><td><code id="get_forecast_+3A_...">...</code></td>
<td>
<p>see owm api documentation, you can also skip parameter
<code>city</code> and pass <code>lat</code> (latitude) and <code>lon</code> (longitude)
or <code>zip</code> (zip code) instead</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
   result &lt;- get_forecast("Kassel", units = "metric")
   names(result)
   get_forecast("London", cnt = 10)
   get_forecast(lat = -22.90278, lon = -22.90278, cnt = 3, units = "metric")

## End(Not run)
</code></pre>

<hr>
<h2 id='get_forecast_daily'>Get daily forecast data up to 16 days.</h2><span id='topic+get_forecast_daily'></span>

<h3>Description</h3>

<p>Get daily forecast data up to 16 days.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_forecast_daily(city = NA, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_forecast_daily_+3A_city">city</code></td>
<td>
<p>city name or id</p>
</td></tr>
<tr><td><code id="get_forecast_daily_+3A_...">...</code></td>
<td>
<p>see owm api documentation, you can also skip parameter
<code>city</code> and pass <code>lat</code> (latitude) and <code>lon</code> (longitude)
or <code>zip</code> (zip code) instead</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
   # 9 day forecast
   result &lt;- get_forecast_daily("London", cnt = 9)
   forecast_frame &lt;- result$list

## End(Not run)
</code></pre>

<hr>
<h2 id='get_icon_url'>Get icon url.</h2><span id='topic+get_icon_url'></span>

<h3>Description</h3>

<p>Get icon url.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_icon_url(icon)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_icon_url_+3A_icon">icon</code></td>
<td>
<p>icon name as returned by owm</p>
</td></tr>
</table>


<h3>Value</h3>

<p>icon url
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
   forecast &lt;- get_forecast("London")$list
   weather &lt;- flatten_weather(forecast$weather)
   icons &lt;- get_icon_url(weather$icon)

## End(Not run)
</code></pre>

<hr>
<h2 id='owm_cities'>owm city list containing ids and coordinates of cities.</h2><span id='topic+owm_cities'></span>

<h3>Description</h3>

<p>A dataset containing city ids and coordinates to be used in queries.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>owm_cities
</code></pre>


<h3>Format</h3>

<p>data frame with 74071 rows and 4 variables:
</p>

<dl>
<dt>id</dt><dd><p>city id</p>
</dd>
<dt>nm</dt><dd><p>city name</p>
</dd>
<dt>lat</dt><dd><p>latitude</p>
</dd>
<dt>lon</dt><dd><p>longitude</p>
</dd>
<dt>countryCode</dt><dd><p>two letter country code</p>
</dd>
</dl>


<h3>Source</h3>

<p><a href="http://bulk.openweathermap.org/sample/city.list.json.gz">http://bulk.openweathermap.org/sample/city.list.json.gz</a>
</p>

<hr>
<h2 id='owm_layers'>List of available owm weather map layers.</h2><span id='topic+owm_layers'></span>

<h3>Description</h3>

<p>List of available owm weather map layers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>owm_layers
</code></pre>


<h3>Format</h3>

<p>An object of class <code>list</code> of length 16.</p>


<h3>See Also</h3>

<p><a href="https://openweathermap.org/api/weathermaps">https://openweathermap.org/api/weathermaps</a>
</p>

<hr>
<h2 id='owmr'>owmr - An R interface to access OpenWeatherMap's API</h2><span id='topic+owmr'></span>

<h3>Description</h3>

<p>In order to access the API, you need to sign up for an API key
at <a href="https://openweathermap.org/">https://openweathermap.org/</a>. <br />
For optional parameters (<code>...</code>) in functions see
<a href="https://openweathermap.org/api/">https://openweathermap.org/api/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
   # first of all you have to set up your api key
   owmr_settings("your_api_key")

   # or store it in an environment variable called OWM_API_KEY (recommended)
   Sys.setenv(OWM_API_KEY = "your_api_key") # if not set globally

   # get current weather data for "Kassel" with temperatures in °C
   get_current("Kassel", units = "metric")

   # get 3h forcast data (7 rows)
   get_forecast("London", cnt = 7)

   # ...

## End(Not run)
</code></pre>

<hr>
<h2 id='owmr_as_tibble'>Parse owmr response to tibble.</h2><span id='topic+owmr_as_tibble'></span><span id='topic+owmr_as_tibble.owmr_weather'></span><span id='topic+owmr_as_tibble.default'></span><span id='topic+owmr_as_tibble.owmr_forecast_daily'></span>

<h3>Description</h3>

<p>Parse owmr response to tibble.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>owmr_as_tibble(resp, simplify = TRUE)

## S3 method for class 'owmr_weather'
owmr_as_tibble(resp, simplify = TRUE)

## Default S3 method:
owmr_as_tibble(resp, simplify = TRUE)

## S3 method for class 'owmr_forecast_daily'
owmr_as_tibble(resp, simplify = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="owmr_as_tibble_+3A_resp">resp</code></td>
<td>
<p>response object returned from functions like
<code><a href="#topic+get_current">get_current</a></code> or <code><a href="#topic+get_forecast">get_forecast</a></code></p>
</td></tr>
<tr><td><code id="owmr_as_tibble_+3A_simplify">simplify</code></td>
<td>
<p>return tibble only?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list containing tibble or tibble only (<code>simplify = TRUE</code>)
</p>

<hr>
<h2 id='owmr_settings'>owmr settings.</h2><span id='topic+owmr_settings'></span>

<h3>Description</h3>

<p>Set api key. Internally it calls <code><a href="base.html#topic+Sys.setenv">Sys.setenv</a></code>
to store the api key in an environment variable called <code>OWM_API_KEY</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>owmr_settings(api_key)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="owmr_settings_+3A_api_key">api_key</code></td>
<td>
<p>owm api key</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
   owmr_settings(api_key = "your-api-key")

## End(Not run)
</code></pre>

<hr>
<h2 id='parse_columns'>Apply functions to columns.</h2><span id='topic+parse_columns'></span>

<h3>Description</h3>

<p>Apply functions to columns.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parse_columns(data, functions_)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="parse_columns_+3A_data">data</code></td>
<td>
<p>data frame</p>
</td></tr>
<tr><td><code id="parse_columns_+3A_functions_">functions_</code></td>
<td>
<p>named list where keys correspond to column names</p>
</td></tr>
</table>


<h3>Value</h3>

<p>updated data frame
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
   parse_dt &lt;- function(x){as.POSIXct(x, origin = "1970-01-01")}
   forecast &lt;- get_forecast("Kassel")$list
   forecast %&lt;&gt;% parse_columns(list(dt = parse_dt))

## End(Not run)
</code></pre>

<hr>
<h2 id='reexports'>Objects exported from other packages</h2><span id='topic+reexports'></span><span id='topic++25+3E+25'></span><span id='topic++25+3C+3E+25'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>magrittr</dt><dd><p><code><a href="magrittr.html#topic++25+3E+25">%&gt;%</a></code>, <code><a href="magrittr.html#topic++25+3C+3E+25">%&lt;&gt;%</a></code></p>
</dd>
</dl>

<hr>
<h2 id='remove_prefix'>Remove prefices from column names.</h2><span id='topic+remove_prefix'></span>

<h3>Description</h3>

<p>Remove prefices from column names.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>remove_prefix(data, prefices, sep = ".")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="remove_prefix_+3A_data">data</code></td>
<td>
<p>data frame</p>
</td></tr>
<tr><td><code id="remove_prefix_+3A_prefices">prefices</code></td>
<td>
<p>vector of prefices to be removed from column names</p>
</td></tr>
<tr><td><code id="remove_prefix_+3A_sep">sep</code></td>
<td>
<p>prefix separator</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data frame with updated column names
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- data.frame(main.temp = 1:10, sys.msg = "OK", cnt = 10:1)
names(x)
remove_prefix(x, c("main", "sys")) %&gt;% names()
</code></pre>

<hr>
<h2 id='search_city_list'>Look up coordinates and city id in owm's city list.</h2><span id='topic+search_city_list'></span>

<h3>Description</h3>

<p>Search <code><a href="#topic+owm_cities">owm_cities</a></code> dataset by city name
and country code.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>search_city_list(city, country_code = "")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="search_city_list_+3A_city">city</code></td>
<td>
<p>city name (regex)</p>
</td></tr>
<tr><td><code id="search_city_list_+3A_country_code">country_code</code></td>
<td>
<p>two letter country code (AU, DE, ...),
use <code>country_code = ""</code> as wildcard</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data frame with matches
</p>


<h3>See Also</h3>

<p><code><a href="#topic+owm_cities">owm_cities</a></code> dataset
</p>


<h3>Examples</h3>

<pre><code class='language-R'>search_city_list("London", "GB")
search_city_list("London")
search_city_list("Lond")
</code></pre>

<hr>
<h2 id='tidy_up'>Tidy up owm data. (DEPRECATED)</h2><span id='topic+tidy_up'></span>

<h3>Description</h3>

<p>Calls <code><a href="#topic+tidy_up_">tidy_up_</a></code> passing <code>data$list</code>
as <code>data</code> argument.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tidy_up(data, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tidy_up_+3A_data">data</code></td>
<td>
<p>result returned from owm
containing data frame in <code>data$list</code></p>
</td></tr>
<tr><td><code id="tidy_up_+3A_...">...</code></td>
<td>
<p>see <code><a href="#topic+tidy_up_">tidy_up_</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>data with updated data frame (<code>data$list</code>)
</p>


<h3>See Also</h3>

<p><code><a href="#topic+tidy_up_">tidy_up_</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
   get_forecast("London") %&gt;% tidy_up()

## End(Not run)
</code></pre>

<hr>
<h2 id='tidy_up_'>Tidy up owm data. (DEPRECATED)</h2><span id='topic+tidy_up_'></span>

<h3>Description</h3>

<p>Tidy up owm data. (DEPRECATED)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tidy_up_(data, flatten_weather_ = TRUE, use_underscore_ = TRUE,
  remove_prefix_ = c("main", "sys"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tidy_up__+3A_data">data</code></td>
<td>
<p>data frame</p>
</td></tr>
<tr><td><code id="tidy_up__+3A_flatten_weather_">flatten_weather_</code></td>
<td>
<p>see <code><a href="#topic+flatten_weather">flatten_weather</a></code></p>
</td></tr>
<tr><td><code id="tidy_up__+3A_use_underscore_">use_underscore_</code></td>
<td>
<p>substitute dots in column names with underscores</p>
</td></tr>
<tr><td><code id="tidy_up__+3A_remove_prefix_">remove_prefix_</code></td>
<td>
<p>prefices to be removed for shorter column names
(<code>remove_prefix_ = NULL</code> will keep all prefices)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>updated data frame
</p>


<h3>See Also</h3>

<p><code><a href="#topic+tidy_up">tidy_up</a></code>,<br />
<code><a href="#topic+remove_prefix">remove_prefix</a></code>,<br />
<code><a href="#topic+use_underscore">use_underscore</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
   result &lt;- find_city("Malaga")
   result$list %&gt;% tidy_up_()

   # keep dots in column names
   result$list %&gt;% tidy_up_(use_underscore_ = FALSE)

   # keep all prefices
   result$list %&gt;% tidy_up_(remove_prefix_ = NULL)

## End(Not run)
</code></pre>

<hr>
<h2 id='use_underscore'>Substitute dots in column names with underscores.</h2><span id='topic+use_underscore'></span>

<h3>Description</h3>

<p>Substitute dots in column names with underscores.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>use_underscore(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="use_underscore_+3A_data">data</code></td>
<td>
<p>data frame</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data frame with updated column names
</p>


<h3>Examples</h3>

<pre><code class='language-R'>names(airquality)
use_underscore(airquality) %&gt;% names()
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

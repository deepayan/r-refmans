<!DOCTYPE html><html><head><title>Help for package regmedint</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {regmedint}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#beta_hat'><p>Create a vector of coefficients from the mediator model (mreg)</p></a></li>
<li><a href='#calc_myreg'><p>Return mediation analysis functions given mediator and outcome models specifications.</p></a></li>
<li><a href='#calc_myreg_mreg_linear_yreg_linear'><p>Create calculators for effects and se (mreg linear / yreg linear)</p></a></li>
<li><a href='#calc_myreg_mreg_linear_yreg_logistic'><p>Create calculators for effects and se (mreg linear / yreg logistic)</p></a></li>
<li><a href='#calc_myreg_mreg_logistic_yreg_linear'><p>Create calculators for effects and se (mreg logistic / yreg linear)</p></a></li>
<li><a href='#calc_myreg_mreg_logistic_yreg_logistic'><p>Create calculators for effects and se (mreg logistic / yreg logistic)</p></a></li>
<li><a href='#coef.regmedint'><p>Extract point estimates.</p></a></li>
<li><a href='#coef.summary_regmedint'><p>Extract the result matrix from a summary_regmedint object.</p></a></li>
<li><a href='#confint.regmedint'><p>Confidence intervals for mediation prameter estimates.</p></a></li>
<li><a href='#fit_mreg'><p>Fit a model for the mediator given the treatment and covariates.</p></a></li>
<li><a href='#fit_yreg'><p>Fit a model for the outcome given the treatment, mediator, and covariates.</p></a></li>
<li><a href='#grad_prop_med_yreg_linear'><p>Calculate the gradient of the proportion mediated for yreg linear.</p></a></li>
<li><a href='#grad_prop_med_yreg_logistic'><p>Calculate the gradient of the proportion mediated for yreg logistic.</p></a></li>
<li><a href='#new_regmedint'><p>Low level constructor for a regmedint S3 class object.</p></a></li>
<li><a href='#print.regmedint'><p>print method for regmedint object</p></a></li>
<li><a href='#print.summary_regmedint'><p>Print method for summary objects from <code>summary.regmedint</code></p></a></li>
<li><a href='#prop_med_yreg_linear'><p>Calculate the proportion mediated for yreg linear.</p></a></li>
<li><a href='#prop_med_yreg_logistic'><p>Calculate the proportion mediated for yreg logistic.</p></a></li>
<li><a href='#regmedint'><p>regmedint: A package for regression-based causal mediation analysis</p></a></li>
<li><a href='#report_missing'><p>Report variables with missing data</p></a></li>
<li><a href='#summary.regmedint'><p>summary method for regmedint object</p></a></li>
<li><a href='#summary.regmedint_mod_poisson'><p>Summary with robust sandwich variance estimator for modified Poisson</p></a></li>
<li><a href='#theta_hat'><p>Create a vector of coefficients from the outcome model (yreg)</p></a></li>
<li><a href='#validate_args'><p>Validate arguments to regmedint before passing to other functions</p></a></li>
<li><a href='#validate_regmedint'><p>Validate soundness of a regmedint object.</p></a></li>
<li><a href='#vcov.regmedint'><p>Extract variance estimates in the vcov form.</p></a></li>
<li><a href='#vcov.regmedint_mod_poisson'><p>Robust sandwich variance estimator for modified Poisson</p></a></li>
<li><a href='#vv2015'><p>Example dataset from Valeri and VanderWeele 2015.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Regression-Based Causal Mediation Analysis with Interaction and
Effect Modification Terms</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.1</td>
</tr>
<tr>
<td>Description:</td>
<td>This is an extension of the regression-based causal mediation analysis first proposed by Valeri and VanderWeele (2013) &lt;<a href="https://doi.org/10.1037%2Fa0031034">doi:10.1037/a0031034</a>&gt; and Valeri and VanderWeele (2015) &lt;<a href="https://doi.org/10.1097%2FEDE.0000000000000253">doi:10.1097/EDE.0000000000000253</a>&gt;). It supports including effect measure modification by covariates(treatment-covariate and mediator-covariate product terms in mediator and outcome regression models) as proposed by Li et al (2023) &lt;<a href="https://doi.org/10.1097%2FEDE.0000000000001643">doi:10.1097/EDE.0000000000001643</a>&gt;. It also accommodates the original 'SAS' macro and 'PROC CAUSALMED' procedure in 'SAS' when there is no effect measure modification. Linear and logistic models are supported for the mediator model. Linear, logistic, loglinear, Poisson, negative binomial, Cox, and accelerated failure time (exponential and Weibull) models are supported for the outcome model.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Imports:</td>
<td>Deriv, MASS, Matrix, assertthat, sandwich, survival</td>
</tr>
<tr>
<td>Suggests:</td>
<td>boot, furrr, future, geepack, knitr, mice, mitools, modelr,
purrr, rlang, rmarkdown, stringr, testthat, tidyverse, magic,
formattable, kableExtra</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://kaz-yos.github.io/regmedint/">https://kaz-yos.github.io/regmedint/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/kaz-yos/regmedint/issues">https://github.com/kaz-yos/regmedint/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-01-06 20:53:58 UTC; kazuki</td>
</tr>
<tr>
<td>Author:</td>
<td>Kazuki Yoshida <a href="https://orcid.org/0000-0002-2030-3549"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb, aut],
  Yi Li <a href="https://orcid.org/0000-0002-9359-210X"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [cre, aut],
  Maya Mathur <a href="https://orcid.org/0000-0001-6698-2607"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Yi Li &lt;yi.li10@mail.mcgill.ca&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-01-13 00:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='beta_hat'>Create a vector of coefficients from the mediator model (mreg)</h2><span id='topic+beta_hat'></span>

<h3>Description</h3>

<p>This function extracts <code><a href="stats.html#topic+coef">coef</a></code> from <code>mreg_fit</code> and pads with zeros appropriately to create a named vector consistently having the following elements:
<code>(Intercept)</code>,
<code>avar</code>,
<code>cvar</code> (this part is eliminated when <code>cvar = NULL</code>),
<code>emm_ac_mreg</code> (this part is eliminated when <code>emm_ac_mreg = NULL</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>beta_hat(mreg, mreg_fit, avar, cvar, emm_ac_mreg = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="beta_hat_+3A_mreg">mreg</code></td>
<td>
<p>A character vector of length 1. Mediator regression type: <code>"linear"</code> or <code>"logistic"</code>.</p>
</td></tr>
<tr><td><code id="beta_hat_+3A_mreg_fit">mreg_fit</code></td>
<td>
<p>Model fit object for mreg (mediator model).</p>
</td></tr>
<tr><td><code id="beta_hat_+3A_avar">avar</code></td>
<td>
<p>A character vector of length 1. Treatment variable name.</p>
</td></tr>
<tr><td><code id="beta_hat_+3A_cvar">cvar</code></td>
<td>
<p>A character vector of length &gt; 0. Covariate names. Use <code>NULL</code> if there is no covariate. However, this is a highly suspicious situation. Even if <code>avar</code> is randomized, <code>mvar</code> is not. Thus, there are usually some confounder(s) to account for the common cause structure (confounding) between <code>mvar</code> and <code>yvar</code>.</p>
</td></tr>
<tr><td><code id="beta_hat_+3A_emm_ac_mreg">emm_ac_mreg</code></td>
<td>
<p>A character vector of length &gt; 0. Effect modifiers names. The covariate vector in treatment-covariate product term in the mediator model.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named numeric vector of coefficients.
</p>

<hr>
<h2 id='calc_myreg'>Return mediation analysis functions given mediator and outcome models specifications.</h2><span id='topic+calc_myreg'></span>

<h3>Description</h3>

<p>This function returns functions that can be used to calculate the causal effect measures, given the mediator model fit (<code>mreg_fit</code>) and the outcome model fit (<code>yreg_fit</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calc_myreg(
  mreg,
  mreg_fit,
  yreg,
  yreg_fit,
  avar,
  mvar,
  cvar,
  emm_ac_mreg,
  emm_ac_yreg,
  emm_mc_yreg,
  interaction
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calc_myreg_+3A_mreg">mreg</code></td>
<td>
<p>A character vector of length 1. Mediator regression type: <code>"linear"</code> or <code>"logistic"</code>.</p>
</td></tr>
<tr><td><code id="calc_myreg_+3A_mreg_fit">mreg_fit</code></td>
<td>
<p>Model fit from <code><a href="#topic+fit_mreg">fit_mreg</a></code></p>
</td></tr>
<tr><td><code id="calc_myreg_+3A_yreg">yreg</code></td>
<td>
<p>A character vector of length 1. Outcome regression type: <code>"linear"</code>, <code>"logistic"</code>, <code>"loglinear"</code>, <code>"poisson"</code>, <code>"negbin"</code>, <code>"survCox"</code>, <code>"survAFT_exp"</code>, or <code>"survAFT_weibull"</code>.</p>
</td></tr>
<tr><td><code id="calc_myreg_+3A_yreg_fit">yreg_fit</code></td>
<td>
<p>Model fit from <code><a href="#topic+fit_yreg">fit_yreg</a></code></p>
</td></tr>
<tr><td><code id="calc_myreg_+3A_avar">avar</code></td>
<td>
<p>A character vector of length 1. Treatment variable name.</p>
</td></tr>
<tr><td><code id="calc_myreg_+3A_mvar">mvar</code></td>
<td>
<p>A character vector of length 1. Mediator variable name.</p>
</td></tr>
<tr><td><code id="calc_myreg_+3A_cvar">cvar</code></td>
<td>
<p>A character vector of length &gt; 0. Covariate names. Use <code>NULL</code> if there is no covariate. However, this is a highly suspicious situation. Even if <code>avar</code> is randomized, <code>mvar</code> is not. Thus, there are usually some confounder(s) to account for the common cause structure (confounding) between <code>mvar</code> and <code>yvar</code>.</p>
</td></tr>
<tr><td><code id="calc_myreg_+3A_emm_ac_mreg">emm_ac_mreg</code></td>
<td>
<p>A character vector of length &gt; 0. Effect modifiers names. The covariate vector in treatment-covariate product term in the mediator model.</p>
</td></tr>
<tr><td><code id="calc_myreg_+3A_emm_ac_yreg">emm_ac_yreg</code></td>
<td>
<p>A character vector of length &gt; 0. Effect modifiers names. The covariate vector in treatment-covariate product term in the outcome model.</p>
</td></tr>
<tr><td><code id="calc_myreg_+3A_emm_mc_yreg">emm_mc_yreg</code></td>
<td>
<p>A character vector of length &gt; 0. Effect modifiers names. The covariate vector in mediator-covariate product term in outcome model.</p>
</td></tr>
<tr><td><code id="calc_myreg_+3A_interaction">interaction</code></td>
<td>
<p>A logical vector of length 1. The presence of treatment-mediator interaction in the outcome model. Default to TRUE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing two functions. The first is for calculating point estimates. The second is for calculating the correspoding
</p>

<hr>
<h2 id='calc_myreg_mreg_linear_yreg_linear'>Create calculators for effects and se (mreg linear / yreg linear)</h2><span id='topic+calc_myreg_mreg_linear_yreg_linear'></span>

<h3>Description</h3>

<p>Construct functions for the conditional effect estimates and their standard errors in the mreg linear / yreg linear setting. Internally, this function deconstructs model objects and feeds parameter estiamtes to the internal worker functions <code>calc_myreg_mreg_linear_yreg_linear_est</code> and <code>calc_myreg_mreg_linear_yreg_linear_se</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calc_myreg_mreg_linear_yreg_linear(
  mreg,
  mreg_fit,
  yreg,
  yreg_fit,
  avar,
  mvar,
  cvar,
  emm_ac_mreg,
  emm_ac_yreg,
  emm_mc_yreg,
  interaction
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calc_myreg_mreg_linear_yreg_linear_+3A_mreg">mreg</code></td>
<td>
<p>A character vector of length 1. Mediator regression type: <code>"linear"</code> or <code>"logistic"</code>.</p>
</td></tr>
<tr><td><code id="calc_myreg_mreg_linear_yreg_linear_+3A_mreg_fit">mreg_fit</code></td>
<td>
<p>Model fit from <code><a href="#topic+fit_mreg">fit_mreg</a></code></p>
</td></tr>
<tr><td><code id="calc_myreg_mreg_linear_yreg_linear_+3A_yreg">yreg</code></td>
<td>
<p>A character vector of length 1. Outcome regression type: <code>"linear"</code>, <code>"logistic"</code>, <code>"loglinear"</code>, <code>"poisson"</code>, <code>"negbin"</code>, <code>"survCox"</code>, <code>"survAFT_exp"</code>, or <code>"survAFT_weibull"</code>.</p>
</td></tr>
<tr><td><code id="calc_myreg_mreg_linear_yreg_linear_+3A_yreg_fit">yreg_fit</code></td>
<td>
<p>Model fit from <code><a href="#topic+fit_yreg">fit_yreg</a></code></p>
</td></tr>
<tr><td><code id="calc_myreg_mreg_linear_yreg_linear_+3A_avar">avar</code></td>
<td>
<p>A character vector of length 1. Treatment variable name.</p>
</td></tr>
<tr><td><code id="calc_myreg_mreg_linear_yreg_linear_+3A_mvar">mvar</code></td>
<td>
<p>A character vector of length 1. Mediator variable name.</p>
</td></tr>
<tr><td><code id="calc_myreg_mreg_linear_yreg_linear_+3A_cvar">cvar</code></td>
<td>
<p>A character vector of length &gt; 0. Covariate names. Use <code>NULL</code> if there is no covariate. However, this is a highly suspicious situation. Even if <code>avar</code> is randomized, <code>mvar</code> is not. Thus, there are usually some confounder(s) to account for the common cause structure (confounding) between <code>mvar</code> and <code>yvar</code>.</p>
</td></tr>
<tr><td><code id="calc_myreg_mreg_linear_yreg_linear_+3A_emm_ac_mreg">emm_ac_mreg</code></td>
<td>
<p>A character vector of length &gt; 0. Effect modifiers names. The covariate vector in treatment-covariate product term in the mediator model.</p>
</td></tr>
<tr><td><code id="calc_myreg_mreg_linear_yreg_linear_+3A_emm_ac_yreg">emm_ac_yreg</code></td>
<td>
<p>A character vector of length &gt; 0. Effect modifiers names. The covariate vector in treatment-covariate product term in the outcome model.</p>
</td></tr>
<tr><td><code id="calc_myreg_mreg_linear_yreg_linear_+3A_emm_mc_yreg">emm_mc_yreg</code></td>
<td>
<p>A character vector of length &gt; 0. Effect modifiers names. The covariate vector in mediator-covariate product term in outcome model.</p>
</td></tr>
<tr><td><code id="calc_myreg_mreg_linear_yreg_linear_+3A_interaction">interaction</code></td>
<td>
<p>A logical vector of length 1. The presence of treatment-mediator interaction in the outcome model. Default to TRUE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing a function for effect estimates and a function for corresponding standard errors.
</p>

<hr>
<h2 id='calc_myreg_mreg_linear_yreg_logistic'>Create calculators for effects and se (mreg linear / yreg logistic)</h2><span id='topic+calc_myreg_mreg_linear_yreg_logistic'></span>

<h3>Description</h3>

<p>Construct functions for the conditional effect estimates and their standard errors in the mreg linear / yreg logistic setting. Internally, this function deconstructs model objects and feeds parameter estimates to the internal worker functions <code>calc_myreg_mreg_linear_yreg_logistic_est</code> and <code>calc_myreg_mreg_linear_yreg_logistic_se</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calc_myreg_mreg_linear_yreg_logistic(
  mreg,
  mreg_fit,
  yreg,
  yreg_fit,
  avar,
  mvar,
  cvar,
  emm_ac_mreg,
  emm_ac_yreg,
  emm_mc_yreg,
  interaction
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calc_myreg_mreg_linear_yreg_logistic_+3A_mreg">mreg</code></td>
<td>
<p>A character vector of length 1. Mediator regression type: <code>"linear"</code> or <code>"logistic"</code>.</p>
</td></tr>
<tr><td><code id="calc_myreg_mreg_linear_yreg_logistic_+3A_mreg_fit">mreg_fit</code></td>
<td>
<p>Model fit from <code><a href="#topic+fit_mreg">fit_mreg</a></code></p>
</td></tr>
<tr><td><code id="calc_myreg_mreg_linear_yreg_logistic_+3A_yreg">yreg</code></td>
<td>
<p>A character vector of length 1. Outcome regression type: <code>"linear"</code>, <code>"logistic"</code>, <code>"loglinear"</code>, <code>"poisson"</code>, <code>"negbin"</code>, <code>"survCox"</code>, <code>"survAFT_exp"</code>, or <code>"survAFT_weibull"</code>.</p>
</td></tr>
<tr><td><code id="calc_myreg_mreg_linear_yreg_logistic_+3A_yreg_fit">yreg_fit</code></td>
<td>
<p>Model fit from <code><a href="#topic+fit_yreg">fit_yreg</a></code></p>
</td></tr>
<tr><td><code id="calc_myreg_mreg_linear_yreg_logistic_+3A_avar">avar</code></td>
<td>
<p>A character vector of length 1. Treatment variable name.</p>
</td></tr>
<tr><td><code id="calc_myreg_mreg_linear_yreg_logistic_+3A_mvar">mvar</code></td>
<td>
<p>A character vector of length 1. Mediator variable name.</p>
</td></tr>
<tr><td><code id="calc_myreg_mreg_linear_yreg_logistic_+3A_cvar">cvar</code></td>
<td>
<p>A character vector of length &gt; 0. Covariate names. Use <code>NULL</code> if there is no covariate. However, this is a highly suspicious situation. Even if <code>avar</code> is randomized, <code>mvar</code> is not. Thus, there are usually some confounder(s) to account for the common cause structure (confounding) between <code>mvar</code> and <code>yvar</code>.</p>
</td></tr>
<tr><td><code id="calc_myreg_mreg_linear_yreg_logistic_+3A_emm_ac_mreg">emm_ac_mreg</code></td>
<td>
<p>A character vector of length &gt; 0. Effect modifiers names. The covariate vector in treatment-covariate product term in the mediator model.</p>
</td></tr>
<tr><td><code id="calc_myreg_mreg_linear_yreg_logistic_+3A_emm_ac_yreg">emm_ac_yreg</code></td>
<td>
<p>A character vector of length &gt; 0. Effect modifiers names. The covariate vector in treatment-covariate product term in the outcome model.</p>
</td></tr>
<tr><td><code id="calc_myreg_mreg_linear_yreg_logistic_+3A_emm_mc_yreg">emm_mc_yreg</code></td>
<td>
<p>A character vector of length &gt; 0. Effect modifiers names. The covariate vector in mediator-covariate product term in outcome model.</p>
</td></tr>
<tr><td><code id="calc_myreg_mreg_linear_yreg_logistic_+3A_interaction">interaction</code></td>
<td>
<p>A logical vector of length 1. The presence of treatment-mediator interaction in the outcome model. Default to TRUE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing a function for effect estimates and a function for corresponding standard errors.
</p>

<hr>
<h2 id='calc_myreg_mreg_logistic_yreg_linear'>Create calculators for effects and se (mreg logistic / yreg linear)</h2><span id='topic+calc_myreg_mreg_logistic_yreg_linear'></span>

<h3>Description</h3>

<p>Construct functions for the conditional effect estimates and their standard errors in the mreg logistic / yreg linear setting. Internally, this function deconstructs model objects and feeds parameter estimates to the internal worker functions <code>calc_myreg_mreg_logistic_yreg_linear_est</code> and <code>calc_myreg_mreg_logistic_yreg_linear_se</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calc_myreg_mreg_logistic_yreg_linear(
  mreg,
  mreg_fit,
  yreg,
  yreg_fit,
  avar,
  mvar,
  cvar,
  emm_ac_mreg,
  emm_ac_yreg,
  emm_mc_yreg,
  interaction
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calc_myreg_mreg_logistic_yreg_linear_+3A_mreg">mreg</code></td>
<td>
<p>A character vector of length 1. Mediator regression type: <code>"linear"</code> or <code>"logistic"</code>.</p>
</td></tr>
<tr><td><code id="calc_myreg_mreg_logistic_yreg_linear_+3A_mreg_fit">mreg_fit</code></td>
<td>
<p>Model fit from <code><a href="#topic+fit_mreg">fit_mreg</a></code></p>
</td></tr>
<tr><td><code id="calc_myreg_mreg_logistic_yreg_linear_+3A_yreg">yreg</code></td>
<td>
<p>A character vector of length 1. Outcome regression type: <code>"linear"</code>, <code>"logistic"</code>, <code>"loglinear"</code>, <code>"poisson"</code>, <code>"negbin"</code>, <code>"survCox"</code>, <code>"survAFT_exp"</code>, or <code>"survAFT_weibull"</code>.</p>
</td></tr>
<tr><td><code id="calc_myreg_mreg_logistic_yreg_linear_+3A_yreg_fit">yreg_fit</code></td>
<td>
<p>Model fit from <code><a href="#topic+fit_yreg">fit_yreg</a></code></p>
</td></tr>
<tr><td><code id="calc_myreg_mreg_logistic_yreg_linear_+3A_avar">avar</code></td>
<td>
<p>A character vector of length 1. Treatment variable name.</p>
</td></tr>
<tr><td><code id="calc_myreg_mreg_logistic_yreg_linear_+3A_mvar">mvar</code></td>
<td>
<p>A character vector of length 1. Mediator variable name.</p>
</td></tr>
<tr><td><code id="calc_myreg_mreg_logistic_yreg_linear_+3A_cvar">cvar</code></td>
<td>
<p>A character vector of length &gt; 0. Covariate names. Use <code>NULL</code> if there is no covariate. However, this is a highly suspicious situation. Even if <code>avar</code> is randomized, <code>mvar</code> is not. Thus, there are usually some confounder(s) to account for the common cause structure (confounding) between <code>mvar</code> and <code>yvar</code>.</p>
</td></tr>
<tr><td><code id="calc_myreg_mreg_logistic_yreg_linear_+3A_emm_ac_mreg">emm_ac_mreg</code></td>
<td>
<p>A character vector of length &gt; 0. Effect modifiers names. The covariate vector in treatment-covariate product term in the mediator model.</p>
</td></tr>
<tr><td><code id="calc_myreg_mreg_logistic_yreg_linear_+3A_emm_ac_yreg">emm_ac_yreg</code></td>
<td>
<p>A character vector of length &gt; 0. Effect modifiers names. The covariate vector in treatment-covariate product term in the outcome model.</p>
</td></tr>
<tr><td><code id="calc_myreg_mreg_logistic_yreg_linear_+3A_emm_mc_yreg">emm_mc_yreg</code></td>
<td>
<p>A character vector of length &gt; 0. Effect modifiers names. The covariate vector in mediator-covariate product term in outcome model.</p>
</td></tr>
<tr><td><code id="calc_myreg_mreg_logistic_yreg_linear_+3A_interaction">interaction</code></td>
<td>
<p>A logical vector of length 1. The presence of treatment-mediator interaction in the outcome model. Default to TRUE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing a function for effect estimates and a function for corresponding standard errors.
</p>

<hr>
<h2 id='calc_myreg_mreg_logistic_yreg_logistic'>Create calculators for effects and se (mreg logistic / yreg logistic)</h2><span id='topic+calc_myreg_mreg_logistic_yreg_logistic'></span>

<h3>Description</h3>

<p>Construct functions for the conditional effect estimates and their standard errors in the mreg logistic / yreg logistic setting. Internally, this function deconstructs model objects and feeds parameter estimates to the internal worker functions <code>calc_myreg_mreg_logistic_yreg_logistic_est</code> and <code>calc_myreg_mreg_logistic_yreg_logistic_se</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calc_myreg_mreg_logistic_yreg_logistic(
  mreg,
  mreg_fit,
  yreg,
  yreg_fit,
  avar,
  mvar,
  cvar,
  emm_ac_mreg,
  emm_ac_yreg,
  emm_mc_yreg,
  interaction
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calc_myreg_mreg_logistic_yreg_logistic_+3A_mreg">mreg</code></td>
<td>
<p>A character vector of length 1. Mediator regression type: <code>"linear"</code> or <code>"logistic"</code>.</p>
</td></tr>
<tr><td><code id="calc_myreg_mreg_logistic_yreg_logistic_+3A_mreg_fit">mreg_fit</code></td>
<td>
<p>Model fit from <code><a href="#topic+fit_mreg">fit_mreg</a></code></p>
</td></tr>
<tr><td><code id="calc_myreg_mreg_logistic_yreg_logistic_+3A_yreg">yreg</code></td>
<td>
<p>A character vector of length 1. Outcome regression type: <code>"linear"</code>, <code>"logistic"</code>, <code>"loglinear"</code>, <code>"poisson"</code>, <code>"negbin"</code>, <code>"survCox"</code>, <code>"survAFT_exp"</code>, or <code>"survAFT_weibull"</code>.</p>
</td></tr>
<tr><td><code id="calc_myreg_mreg_logistic_yreg_logistic_+3A_yreg_fit">yreg_fit</code></td>
<td>
<p>Model fit from <code><a href="#topic+fit_yreg">fit_yreg</a></code></p>
</td></tr>
<tr><td><code id="calc_myreg_mreg_logistic_yreg_logistic_+3A_avar">avar</code></td>
<td>
<p>A character vector of length 1. Treatment variable name.</p>
</td></tr>
<tr><td><code id="calc_myreg_mreg_logistic_yreg_logistic_+3A_mvar">mvar</code></td>
<td>
<p>A character vector of length 1. Mediator variable name.</p>
</td></tr>
<tr><td><code id="calc_myreg_mreg_logistic_yreg_logistic_+3A_cvar">cvar</code></td>
<td>
<p>A character vector of length &gt; 0. Covariate names. Use <code>NULL</code> if there is no covariate. However, this is a highly suspicious situation. Even if <code>avar</code> is randomized, <code>mvar</code> is not. Thus, there are usually some confounder(s) to account for the common cause structure (confounding) between <code>mvar</code> and <code>yvar</code>.</p>
</td></tr>
<tr><td><code id="calc_myreg_mreg_logistic_yreg_logistic_+3A_emm_ac_mreg">emm_ac_mreg</code></td>
<td>
<p>A character vector of length &gt; 0. Effect modifiers names. The covariate vector in treatment-covariate product term in the mediator model.</p>
</td></tr>
<tr><td><code id="calc_myreg_mreg_logistic_yreg_logistic_+3A_emm_ac_yreg">emm_ac_yreg</code></td>
<td>
<p>A character vector of length &gt; 0. Effect modifiers names. The covariate vector in treatment-covariate product term in the outcome model.</p>
</td></tr>
<tr><td><code id="calc_myreg_mreg_logistic_yreg_logistic_+3A_emm_mc_yreg">emm_mc_yreg</code></td>
<td>
<p>A character vector of length &gt; 0. Effect modifiers names. The covariate vector in mediator-covariate product term in outcome model.</p>
</td></tr>
<tr><td><code id="calc_myreg_mreg_logistic_yreg_logistic_+3A_interaction">interaction</code></td>
<td>
<p>A logical vector of length 1. The presence of treatment-mediator interaction in the outcome model. Default to TRUE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing a function for effect estimates and a function for corresponding standard errors.
</p>

<hr>
<h2 id='coef.regmedint'>Extract point estimates.</h2><span id='topic+coef.regmedint'></span>

<h3>Description</h3>

<p>Extract point estimates evaluated at <code>a0</code>, <code>a1</code>, <code>m_cde</code>, and <code>c_cond</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'regmedint'
coef(object, a0 = NULL, a1 = NULL, m_cde = NULL, c_cond = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="coef.regmedint_+3A_object">object</code></td>
<td>
<p>An object of the <code><a href="#topic+regmedint">regmedint</a></code> class.</p>
</td></tr>
<tr><td><code id="coef.regmedint_+3A_a0">a0</code></td>
<td>
<p>A numeric vector of length 1</p>
</td></tr>
<tr><td><code id="coef.regmedint_+3A_a1">a1</code></td>
<td>
<p>A numeric vector of length 1</p>
</td></tr>
<tr><td><code id="coef.regmedint_+3A_m_cde">m_cde</code></td>
<td>
<p>A numeric vector of length 1 The mediator value at which the controlled direct effect (CDE) conditional on the adjustment covariates is evaluated. If not provided, the default value supplied to the call to <code><a href="#topic+regmedint">regmedint</a></code> will be used. Only the CDE is affected.</p>
</td></tr>
<tr><td><code id="coef.regmedint_+3A_c_cond">c_cond</code></td>
<td>
<p>A numeric vector of the same length as <code>cvar</code>. A set of covariate values at which the conditional natural effects are evaluated.</p>
</td></tr>
<tr><td><code id="coef.regmedint_+3A_...">...</code></td>
<td>
<p>For compatibility with the generic. Ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric vector of point estimates.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(regmedint)
data(vv2015)
regmedint_obj &lt;- regmedint(data = vv2015,
                           ## Variables
                           yvar = "y",
                           avar = "x",
                           mvar = "m",
                           cvar = c("c"),
                           eventvar = "event",
                           ## Values at which effects are evaluated
                           a0 = 0,
                           a1 = 1,
                           m_cde = 1,
                           c_cond = 0.5,
                           ## Model types
                           mreg = "logistic",
                           yreg = "survAFT_weibull",
                           ## Additional specification
                           interaction = TRUE,
                           casecontrol = FALSE)
coef(regmedint_obj)
## Evaluate at different values
coef(regmedint_obj, m_cde = 0, c_cond = 1)

</code></pre>

<hr>
<h2 id='coef.summary_regmedint'>Extract the result matrix from a summary_regmedint object.</h2><span id='topic+coef.summary_regmedint'></span>

<h3>Description</h3>

<p>Extract the result matrix from a summary_regmedint object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'summary_regmedint'
coef(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="coef.summary_regmedint_+3A_object">object</code></td>
<td>
<p>An object with a class of <code>summary_regmedint</code>.</p>
</td></tr>
<tr><td><code id="coef.summary_regmedint_+3A_...">...</code></td>
<td>
<p>For compatibility with the generic.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A matrix populated with results.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(regmedint)
data(vv2015)
regmedint_obj &lt;- regmedint(data = vv2015,
                           ## Variables
                           yvar = "y",
                           avar = "x",
                           mvar = "m",
                           cvar = c("c"),
                           eventvar = "event",
                           ## Values at which effects are evaluated
                           a0 = 0,
                           a1 = 1,
                           m_cde = 1,
                           c_cond = 0.5,
                           ## Model types
                           mreg = "logistic",
                           yreg = "survAFT_weibull",
                           ## Additional specification
                           interaction = TRUE,
                           casecontrol = FALSE)
coef(summary(regmedint_obj))

</code></pre>

<hr>
<h2 id='confint.regmedint'>Confidence intervals for mediation prameter estimates.</h2><span id='topic+confint.regmedint'></span>

<h3>Description</h3>

<p>Construct Wald approximate confidence intervals for the quantities of interest.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'regmedint'
confint(
  object,
  parm = NULL,
  level = 0.95,
  a0 = NULL,
  a1 = NULL,
  m_cde = NULL,
  c_cond = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="confint.regmedint_+3A_object">object</code></td>
<td>
<p>An object of the <code><a href="#topic+regmedint">regmedint</a></code> class.</p>
</td></tr>
<tr><td><code id="confint.regmedint_+3A_parm">parm</code></td>
<td>
<p>For compatibility with generic. Ignored.</p>
</td></tr>
<tr><td><code id="confint.regmedint_+3A_level">level</code></td>
<td>
<p>A numeric vector of length one. Requested confidence level. Defaults to 0.95.</p>
</td></tr>
<tr><td><code id="confint.regmedint_+3A_a0">a0</code></td>
<td>
<p>A numeric vector of length 1</p>
</td></tr>
<tr><td><code id="confint.regmedint_+3A_a1">a1</code></td>
<td>
<p>A numeric vector of length 1</p>
</td></tr>
<tr><td><code id="confint.regmedint_+3A_m_cde">m_cde</code></td>
<td>
<p>A numeric vector of length 1 The mediator value at which the controlled direct effect (CDE) conditional on the adjustment covariates is evaluated. If not provided, the default value supplied to the call to <code><a href="#topic+regmedint">regmedint</a></code> will be used. Only the CDE is affected.</p>
</td></tr>
<tr><td><code id="confint.regmedint_+3A_c_cond">c_cond</code></td>
<td>
<p>A numeric vector of the same length as <code>cvar</code>. A set of covariate values at which the conditional natural effects are evaluated.</p>
</td></tr>
<tr><td><code id="confint.regmedint_+3A_...">...</code></td>
<td>
<p>For compatibility with generic.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric matrix of the lower limit and upper limit.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(regmedint)
data(vv2015)
regmedint_obj &lt;- regmedint(data = vv2015,
                           ## Variables
                           yvar = "y",
                           avar = "x",
                           mvar = "m",
                           cvar = c("c"),
                           eventvar = "event",
                           ## Values at which effects are evaluated
                           a0 = 0,
                           a1 = 1,
                           m_cde = 1,
                           c_cond = 0.5,
                           ## Model types
                           mreg = "logistic",
                           yreg = "survAFT_weibull",
                           ## Additional specification
                           interaction = TRUE,
                           casecontrol = FALSE)
confint(regmedint_obj)
## Evaluate at different values
confint(regmedint_obj, m_cde = 0, c_cond = 1)
## Change confidence level
confint(regmedint_obj, m_cde = 0, c_cond = 1, level = 0.99)

</code></pre>

<hr>
<h2 id='fit_mreg'>Fit a model for the mediator given the treatment and covariates.</h2><span id='topic+fit_mreg'></span>

<h3>Description</h3>

<p><code><a href="stats.html#topic+lm">lm</a></code> is called if <code>mreg = "linear"</code>. <code><a href="stats.html#topic+glm">glm</a></code> is called with <code>family = binomial()</code> if <code>mreg = "logistic"</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fit_mreg(mreg, data, avar, mvar, cvar, emm_ac_mreg = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fit_mreg_+3A_mreg">mreg</code></td>
<td>
<p>A character vector of length 1. Mediator regression type: <code>"linear"</code> or <code>"logistic"</code>.</p>
</td></tr>
<tr><td><code id="fit_mreg_+3A_data">data</code></td>
<td>
<p>Data frame containing the following relevant variables.</p>
</td></tr>
<tr><td><code id="fit_mreg_+3A_avar">avar</code></td>
<td>
<p>A character vector of length 1. Treatment variable name.</p>
</td></tr>
<tr><td><code id="fit_mreg_+3A_mvar">mvar</code></td>
<td>
<p>A character vector of length 1. Mediator variable name.</p>
</td></tr>
<tr><td><code id="fit_mreg_+3A_cvar">cvar</code></td>
<td>
<p>A character vector of length &gt; 0. Covariate names. Use <code>NULL</code> if there is no covariate. However, this is a highly suspicious situation. Even if <code>avar</code> is randomized, <code>mvar</code> is not. Thus, there are usually some confounder(s) to account for the common cause structure (confounding) between <code>mvar</code> and <code>yvar</code>.</p>
</td></tr>
<tr><td><code id="fit_mreg_+3A_emm_ac_mreg">emm_ac_mreg</code></td>
<td>
<p>A character vector of length &gt; 0. Effect modifiers names. The covariate vector in treatment-covariate product term in the mediator model.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A regression object of class lm (linear) or glm (logistic)
</p>

<hr>
<h2 id='fit_yreg'>Fit a model for the outcome given the treatment, mediator, and covariates.</h2><span id='topic+fit_yreg'></span>

<h3>Description</h3>

<p>The outcome model type <code>yreg</code> can be one of the following <code>"linear"</code>, <code>"logistic"</code>, <code>"loglinear"</code> (implemented as modified Poisson), <code>"poisson"</code>, <code>"negbin"</code>, <code>"survCox"</code>, <code>"survAFT_exp"</code>, or <code>"survAFT_weibull"</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fit_yreg(
  yreg,
  data,
  yvar,
  avar,
  mvar,
  cvar,
  emm_ac_yreg = NULL,
  emm_mc_yreg = NULL,
  eventvar,
  interaction
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fit_yreg_+3A_yreg">yreg</code></td>
<td>
<p>A character vector of length 1. Outcome regression type: <code>"linear"</code>, <code>"logistic"</code>, <code>"loglinear"</code>, <code>"poisson"</code>, <code>"negbin"</code>, <code>"survCox"</code>, <code>"survAFT_exp"</code>, or <code>"survAFT_weibull"</code>.</p>
</td></tr>
<tr><td><code id="fit_yreg_+3A_data">data</code></td>
<td>
<p>Data frame containing the following relevant variables.</p>
</td></tr>
<tr><td><code id="fit_yreg_+3A_yvar">yvar</code></td>
<td>
<p>A character vector of length 1. Outcome variable name. It should be the time variable for the survival outcome.</p>
</td></tr>
<tr><td><code id="fit_yreg_+3A_avar">avar</code></td>
<td>
<p>A character vector of length 1. Treatment variable name.</p>
</td></tr>
<tr><td><code id="fit_yreg_+3A_mvar">mvar</code></td>
<td>
<p>A character vector of length 1. Mediator variable name.</p>
</td></tr>
<tr><td><code id="fit_yreg_+3A_cvar">cvar</code></td>
<td>
<p>A character vector of length &gt; 0. Covariate names. Use <code>NULL</code> if there is no covariate. However, this is a highly suspicious situation. Even if <code>avar</code> is randomized, <code>mvar</code> is not. Thus, there are usually some confounder(s) to account for the common cause structure (confounding) between <code>mvar</code> and <code>yvar</code>.</p>
</td></tr>
<tr><td><code id="fit_yreg_+3A_emm_ac_yreg">emm_ac_yreg</code></td>
<td>
<p>A character vector of length &gt; 0. Effect modifiers names. The covariate vector in treatment-covariate product term in the outcome model.</p>
</td></tr>
<tr><td><code id="fit_yreg_+3A_emm_mc_yreg">emm_mc_yreg</code></td>
<td>
<p>A character vector of length &gt; 0. Effect modifiers names. The covariate vector in mediator-covariate product term in outcome model.</p>
</td></tr>
<tr><td><code id="fit_yreg_+3A_eventvar">eventvar</code></td>
<td>
<p>An character vector of length 1. Only required for survival outcome regression models. Note that the coding is 1 for event and 0 for censoring, following the R survival package convention.</p>
</td></tr>
<tr><td><code id="fit_yreg_+3A_interaction">interaction</code></td>
<td>
<p>A logical vector of length 1. The presence of treatment-mediator interaction in the outcome model. Default to TRUE.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The outcome regression functions to be called are the following:
</p>

<ul>
<li> <p><code>"linear"</code> <code><a href="stats.html#topic+lm">lm</a></code>
</p>
</li>
<li> <p><code>"logistic"</code> <code><a href="stats.html#topic+glm">glm</a></code>
</p>
</li>
<li> <p><code>"loglinear"</code> <code><a href="stats.html#topic+glm">glm</a></code> (modified Poisson)
</p>
</li>
<li> <p><code>"poisson"</code> <code><a href="stats.html#topic+glm">glm</a></code>
</p>
</li>
<li> <p><code>"negbin"</code> <code><a href="MASS.html#topic+glm.nb">glm.nb</a></code>
</p>
</li>
<li> <p><code>"survCox"</code> <code><a href="survival.html#topic+coxph">coxph</a></code>
</p>
</li>
<li> <p><code>"survAFT_exp"</code> <code><a href="survival.html#topic+survreg">survreg</a></code>
</p>
</li>
<li> <p><code>"survAFT_weibull"</code> <code><a href="survival.html#topic+survreg">survreg</a></code>
</p>
</li></ul>



<h3>Value</h3>

<p>Model fit object from on of the above regression functions.
</p>

<hr>
<h2 id='grad_prop_med_yreg_linear'>Calculate the gradient of the proportion mediated for yreg linear.</h2><span id='topic+grad_prop_med_yreg_linear'></span>

<h3>Description</h3>

<p>Calculate the gradient of the proportion mediated for yreg linear case.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>grad_prop_med_yreg_linear(pnde, tnie)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="grad_prop_med_yreg_linear_+3A_pnde">pnde</code></td>
<td>
<p>A numeric vector of length one. Pure natural direct effect.</p>
</td></tr>
<tr><td><code id="grad_prop_med_yreg_linear_+3A_tnie">tnie</code></td>
<td>
<p>A numeric vector of length one. Total natural indirect effect.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric vector of length two. Gradient of the proportion mediated with respect to pnde and tnie.
</p>

<hr>
<h2 id='grad_prop_med_yreg_logistic'>Calculate the gradient of the proportion mediated for yreg logistic.</h2><span id='topic+grad_prop_med_yreg_logistic'></span>

<h3>Description</h3>

<p>Calculate the gradient of the proportion mediated for yreg logistic case.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>grad_prop_med_yreg_logistic(pnde, tnie)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="grad_prop_med_yreg_logistic_+3A_pnde">pnde</code></td>
<td>
<p>A numeric vector of length one. Pure natural direct effect.</p>
</td></tr>
<tr><td><code id="grad_prop_med_yreg_logistic_+3A_tnie">tnie</code></td>
<td>
<p>A numeric vector of length one. Total natural indirect effect.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric vector of length two. Gradient of the proportion mediated with respect to pnde and tnie.
</p>

<hr>
<h2 id='new_regmedint'>Low level constructor for a regmedint S3 class object.</h2><span id='topic+new_regmedint'></span>

<h3>Description</h3>

<p>This is not a user function and meant to be executed within the regmedint function after validatingthe arguments.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_regmedint(
  data,
  yvar,
  avar,
  mvar,
  cvar,
  emm_ac_mreg,
  emm_ac_yreg,
  emm_mc_yreg,
  eventvar,
  a0,
  a1,
  m_cde,
  c_cond,
  yreg,
  mreg,
  interaction,
  casecontrol
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="new_regmedint_+3A_data">data</code></td>
<td>
<p>Data frame containing the following relevant variables.</p>
</td></tr>
<tr><td><code id="new_regmedint_+3A_yvar">yvar</code></td>
<td>
<p>A character vector of length 1. Outcome variable name. It should be the time variable for the survival outcome.</p>
</td></tr>
<tr><td><code id="new_regmedint_+3A_avar">avar</code></td>
<td>
<p>A character vector of length 1. Treatment variable name.</p>
</td></tr>
<tr><td><code id="new_regmedint_+3A_mvar">mvar</code></td>
<td>
<p>A character vector of length 1. Mediator variable name.</p>
</td></tr>
<tr><td><code id="new_regmedint_+3A_cvar">cvar</code></td>
<td>
<p>A character vector of length &gt; 0. Covariate names. Use <code>NULL</code> if there is no covariate. However, this is a highly suspicious situation. Even if <code>avar</code> is randomized, <code>mvar</code> is not. Thus, there are usually some confounder(s) to account for the common cause structure (confounding) between <code>mvar</code> and <code>yvar</code>.</p>
</td></tr>
<tr><td><code id="new_regmedint_+3A_emm_ac_mreg">emm_ac_mreg</code></td>
<td>
<p>A character vector of length &gt; 0. Effect modifiers names. The covariate vector in treatment-covariate product term in the mediator model.</p>
</td></tr>
<tr><td><code id="new_regmedint_+3A_emm_ac_yreg">emm_ac_yreg</code></td>
<td>
<p>A character vector of length &gt; 0. Effect modifiers names. The covariate vector in treatment-covariate product term in the outcome model.</p>
</td></tr>
<tr><td><code id="new_regmedint_+3A_emm_mc_yreg">emm_mc_yreg</code></td>
<td>
<p>A character vector of length &gt; 0. Effect modifiers names. The covariate vector in mediator-covariate product term in outcome model.</p>
</td></tr>
<tr><td><code id="new_regmedint_+3A_eventvar">eventvar</code></td>
<td>
<p>An character vector of length 1. Only required for survival outcome regression models. Note that the coding is 1 for event and 0 for censoring, following the R survival package convention.</p>
</td></tr>
<tr><td><code id="new_regmedint_+3A_a0">a0</code></td>
<td>
<p>A numeric vector of length 1. The reference level of treatment variable that is considered &quot;untreated&quot; or &quot;unexposed&quot;.</p>
</td></tr>
<tr><td><code id="new_regmedint_+3A_a1">a1</code></td>
<td>
<p>A numeric vector of length 1.</p>
</td></tr>
<tr><td><code id="new_regmedint_+3A_m_cde">m_cde</code></td>
<td>
<p>A numeric vector of length 1. Mediator level at which controlled direct effect is evaluated at.</p>
</td></tr>
<tr><td><code id="new_regmedint_+3A_c_cond">c_cond</code></td>
<td>
<p>A numeric vector of the same length as <code>cvar</code>. Covariate levels at which natural direct and indirect effects are evaluated at.</p>
</td></tr>
<tr><td><code id="new_regmedint_+3A_yreg">yreg</code></td>
<td>
<p>A character vector of length 1. Outcome regression type: <code>"linear"</code>, <code>"logistic"</code>, <code>"loglinear"</code>, <code>"poisson"</code>, <code>"negbin"</code>, <code>"survCox"</code>, <code>"survAFT_exp"</code>, or <code>"survAFT_weibull"</code>.</p>
</td></tr>
<tr><td><code id="new_regmedint_+3A_mreg">mreg</code></td>
<td>
<p>A character vector of length 1. Mediator regression type: <code>"linear"</code> or <code>"logistic"</code>.</p>
</td></tr>
<tr><td><code id="new_regmedint_+3A_interaction">interaction</code></td>
<td>
<p>A logical vector of length 1. The presence of treatment-mediator interaction in the outcome model. Default to TRUE.</p>
</td></tr>
<tr><td><code id="new_regmedint_+3A_casecontrol">casecontrol</code></td>
<td>
<p>A logical vector of length 1. Default to FALSE. Whether data comes from a case-control study.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A regmedint object.
</p>

<hr>
<h2 id='print.regmedint'>print method for regmedint object</h2><span id='topic+print.regmedint'></span>

<h3>Description</h3>

<p>Print the <code>mreg_fit</code>, <code>yreg_fit</code>, and the mediation analysis effect estimates.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'regmedint'
print(
  x,
  a0 = NULL,
  a1 = NULL,
  m_cde = NULL,
  c_cond = NULL,
  args_mreg_fit = list(),
  args_yreg_fit = list(),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.regmedint_+3A_x">x</code></td>
<td>
<p>An object of the <code><a href="#topic+regmedint">regmedint</a></code> class.</p>
</td></tr>
<tr><td><code id="print.regmedint_+3A_a0">a0</code></td>
<td>
<p>A numeric vector of length 1</p>
</td></tr>
<tr><td><code id="print.regmedint_+3A_a1">a1</code></td>
<td>
<p>A numeric vector of length 1</p>
</td></tr>
<tr><td><code id="print.regmedint_+3A_m_cde">m_cde</code></td>
<td>
<p>A numeric vector of length 1 The mediator value at which the controlled direct effect (CDE) conditional on the adjustment covariates is evaluated. If not provided, the default value supplied to the call to <code><a href="#topic+regmedint">regmedint</a></code> will be used. Only the CDE is affected.</p>
</td></tr>
<tr><td><code id="print.regmedint_+3A_c_cond">c_cond</code></td>
<td>
<p>A numeric vector of the same length as <code>cvar</code>. A set of covariate values at which the conditional natural effects are evaluated.</p>
</td></tr>
<tr><td><code id="print.regmedint_+3A_args_mreg_fit">args_mreg_fit</code></td>
<td>
<p>A named list of argument to be passed to the method for the <code>mreg_fit</code> object.</p>
</td></tr>
<tr><td><code id="print.regmedint_+3A_args_yreg_fit">args_yreg_fit</code></td>
<td>
<p>A named list of argument to be passed to the method for the <code>mreg_fit</code> object.</p>
</td></tr>
<tr><td><code id="print.regmedint_+3A_...">...</code></td>
<td>
<p>For compatibility with the generic. Ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Invisibly return the <code>regmedint</code> class object as is.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(regmedint)
data(vv2015)
regmedint_obj &lt;- regmedint(data = vv2015,
                           ## Variables
                           yvar = "y",
                           avar = "x",
                           mvar = "m",
                           cvar = c("c"),
                           eventvar = "event",
                           ## Values at which effects are evaluated
                           a0 = 0,
                           a1 = 1,
                           m_cde = 1,
                           c_cond = 0.5,
                           ## Model types
                           mreg = "logistic",
                           yreg = "survAFT_weibull",
                           ## Additional specification
                           interaction = TRUE,
                           casecontrol = FALSE)
## Implicit printing
regmedint_obj
## Explicit printing
print(regmedint_obj)
## Evaluate at different values
print(regmedint_obj, m_cde = 0, c_cond = 1)

</code></pre>

<hr>
<h2 id='print.summary_regmedint'>Print method for summary objects from <code><a href="#topic+summary.regmedint">summary.regmedint</a></code></h2><span id='topic+print.summary_regmedint'></span>

<h3>Description</h3>

<p>Print results contained in a <code>summary_regmedint</code> object with additional explanation regarding the evaluation settings.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'summary_regmedint'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.summary_regmedint_+3A_x">x</code></td>
<td>
<p>An object of the class <code>summary_regmedint</code>.</p>
</td></tr>
<tr><td><code id="print.summary_regmedint_+3A_...">...</code></td>
<td>
<p>For compatibility with the generic function.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Invisibly return the first argument.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(regmedint)
data(vv2015)
regmedint_obj &lt;- regmedint(data = vv2015,
                           ## Variables
                           yvar = "y",
                           avar = "x",
                           mvar = "m",
                           cvar = c("c"),
                           eventvar = "event",
                           ## Values at which effects are evaluated
                           a0 = 0,
                           a1 = 1,
                           m_cde = 1,
                           c_cond = 0.5,
                           ## Model types
                           mreg = "logistic",
                           yreg = "survAFT_weibull",
                           ## Additional specification
                           interaction = TRUE,
                           casecontrol = FALSE)
## Implicit printing
summary(regmedint_obj)
## Explicit printing
print(summary(regmedint_obj))

</code></pre>

<hr>
<h2 id='prop_med_yreg_linear'>Calculate the proportion mediated for yreg linear.</h2><span id='topic+prop_med_yreg_linear'></span>

<h3>Description</h3>

<p>Calculate the proportion mediated on the mean difference scale.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prop_med_yreg_linear(pnde, tnie)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prop_med_yreg_linear_+3A_pnde">pnde</code></td>
<td>
<p>Pure natural direct effect.</p>
</td></tr>
<tr><td><code id="prop_med_yreg_linear_+3A_tnie">tnie</code></td>
<td>
<p>Total natural indirect effect.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Proportion mediated value.
</p>

<hr>
<h2 id='prop_med_yreg_logistic'>Calculate the proportion mediated for yreg logistic.</h2><span id='topic+prop_med_yreg_logistic'></span>

<h3>Description</h3>

<p>Calculate the approximate proportion mediated on the risk difference scale.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prop_med_yreg_logistic(pnde, tnie)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prop_med_yreg_logistic_+3A_pnde">pnde</code></td>
<td>
<p>Pure natural direct effect on the log scale.</p>
</td></tr>
<tr><td><code id="prop_med_yreg_logistic_+3A_tnie">tnie</code></td>
<td>
<p>Total natural indirect effect on the log scale.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Proportion mediated value.
</p>

<hr>
<h2 id='regmedint'>regmedint: A package for regression-based causal mediation analysis</h2><span id='topic+regmedint'></span>

<h3>Description</h3>

<p>The package is an R implementation of regression-based closed-form causal mediation as originally described in Valeri &amp; VanderWeele 2013 and Valeri &amp; VanderWeele 2015 <a href="https://www.hsph.harvard.edu/tyler-vanderweele/tools-and-tutorials/">https://www.hsph.harvard.edu/tyler-vanderweele/tools-and-tutorials/</a>. The earlier version is a sister program of the SAS macro. The current extended version (version 1.0 and later) supports effect modification by covariates (treatment-covariate and mediator-covariate product terms) in mediator and outcome models.
</p>
<p>This is a user-interface for regression-based causal mediation analysis as described in Valeri &amp; VanderWeele 2013 and Valeri &amp; VanderWeele 2015.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>regmedint(
  data,
  yvar,
  avar,
  mvar,
  cvar,
  emm_ac_mreg = NULL,
  emm_ac_yreg = NULL,
  emm_mc_yreg = NULL,
  eventvar = NULL,
  a0,
  a1,
  m_cde,
  c_cond,
  mreg,
  yreg,
  interaction = TRUE,
  casecontrol = FALSE,
  na_omit = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="regmedint_+3A_data">data</code></td>
<td>
<p>Data frame containing the following relevant variables.</p>
</td></tr>
<tr><td><code id="regmedint_+3A_yvar">yvar</code></td>
<td>
<p>A character vector of length 1. Outcome variable name. It should be the time variable for the survival outcome.</p>
</td></tr>
<tr><td><code id="regmedint_+3A_avar">avar</code></td>
<td>
<p>A character vector of length 1. Treatment variable name.</p>
</td></tr>
<tr><td><code id="regmedint_+3A_mvar">mvar</code></td>
<td>
<p>A character vector of length 1. Mediator variable name.</p>
</td></tr>
<tr><td><code id="regmedint_+3A_cvar">cvar</code></td>
<td>
<p>A character vector of length &gt; 0. Covariate names. Use <code>NULL</code> if there is no covariate. However, this is a highly suspicious situation. Even if <code>avar</code> is randomized, <code>mvar</code> is not. Thus, there are usually some confounder(s) to account for the common cause structure (confounding) between <code>mvar</code> and <code>yvar</code>.</p>
</td></tr>
<tr><td><code id="regmedint_+3A_emm_ac_mreg">emm_ac_mreg</code></td>
<td>
<p>A character vector of length &gt; 0. Effect modifiers names. The covariate vector in treatment-covariate product term in the mediator model.</p>
</td></tr>
<tr><td><code id="regmedint_+3A_emm_ac_yreg">emm_ac_yreg</code></td>
<td>
<p>A character vector of length &gt; 0. Effect modifiers names. The covariate vector in treatment-covariate product term in the outcome model.</p>
</td></tr>
<tr><td><code id="regmedint_+3A_emm_mc_yreg">emm_mc_yreg</code></td>
<td>
<p>A character vector of length &gt; 0. Effect modifiers names. The covariate vector in mediator-covariate product term in outcome model.</p>
</td></tr>
<tr><td><code id="regmedint_+3A_eventvar">eventvar</code></td>
<td>
<p>An character vector of length 1. Only required for survival outcome regression models. Note that the coding is 1 for event and 0 for censoring, following the R survival package convention.</p>
</td></tr>
<tr><td><code id="regmedint_+3A_a0">a0</code></td>
<td>
<p>A numeric vector of length 1. The reference level of treatment variable that is considered &quot;untreated&quot; or &quot;unexposed&quot;.</p>
</td></tr>
<tr><td><code id="regmedint_+3A_a1">a1</code></td>
<td>
<p>A numeric vector of length 1.</p>
</td></tr>
<tr><td><code id="regmedint_+3A_m_cde">m_cde</code></td>
<td>
<p>A numeric vector of length 1. Mediator level at which controlled direct effect is evaluated at.</p>
</td></tr>
<tr><td><code id="regmedint_+3A_c_cond">c_cond</code></td>
<td>
<p>A numeric vector of the same length as <code>cvar</code>. Covariate levels at which natural direct and indirect effects are evaluated at.</p>
</td></tr>
<tr><td><code id="regmedint_+3A_mreg">mreg</code></td>
<td>
<p>A character vector of length 1. Mediator regression type: <code>"linear"</code> or <code>"logistic"</code>.</p>
</td></tr>
<tr><td><code id="regmedint_+3A_yreg">yreg</code></td>
<td>
<p>A character vector of length 1. Outcome regression type: <code>"linear"</code>, <code>"logistic"</code>, <code>"loglinear"</code>, <code>"poisson"</code>, <code>"negbin"</code>, <code>"survCox"</code>, <code>"survAFT_exp"</code>, or <code>"survAFT_weibull"</code>.</p>
</td></tr>
<tr><td><code id="regmedint_+3A_interaction">interaction</code></td>
<td>
<p>A logical vector of length 1. The presence of treatment-mediator interaction in the outcome model. Default to TRUE.</p>
</td></tr>
<tr><td><code id="regmedint_+3A_casecontrol">casecontrol</code></td>
<td>
<p>A logical vector of length 1. Default to FALSE. Whether data comes from a case-control study.</p>
</td></tr>
<tr><td><code id="regmedint_+3A_na_omit">na_omit</code></td>
<td>
<p>A logical vector of length 1. Default to FALSE. Whether to remove NAs in the columns of interest before fitting the models.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>regmedint object, which is a list containing the mediator regression object, the outcome regression object, and the regression-based mediation results.
</p>


<h3>Fitting models</h3>

<p>Use the regmedint function to fit models and set up regression-based causal mediation analysis.
</p>


<h3>Examining results</h3>

<p>Several methods are available to examine the regmedint object.
print
summary
coef
confint
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(regmedint)
data(vv2015)
regmedint_obj1 &lt;- regmedint(data = vv2015,
                            ## Variables
                            yvar = "y",
                            avar = "x",
                            mvar = "m",
                            cvar = c("c"),
                            eventvar = "event",
                            ## Values at which effects are evaluated
                            a0 = 0,
                            a1 = 1,
                            m_cde = 1,
                            c_cond = 3,
                            ## Model types
                            mreg = "logistic",
                            yreg = "survAFT_weibull",
                            ## Additional specification
                            interaction = TRUE,
                            casecontrol = FALSE)
summary(regmedint_obj1)

regmedint_obj2 &lt;- regmedint(data = vv2015,
                            ## Variables
                            yvar = "y",
                            avar = "x",
                            mvar = "m",
                            cvar = c("c"),
                            emm_ac_mreg = c("c"), 
                            emm_ac_yreg = c("c"), 
                            emm_mc_yreg = c("c"), 
                            eventvar = "event",
                            ## Values at which effects are evaluated
                            a0 = 0,
                            a1 = 1,
                            m_cde = 1,
                            c_cond = 3,
                            ## Model types
                            mreg = "logistic",
                            yreg = "survAFT_weibull",
                            ## Additional specification
                            interaction = TRUE,
                            casecontrol = FALSE)
summary(regmedint_obj2)




</code></pre>

<hr>
<h2 id='report_missing'>Report variables with missing data</h2><span id='topic+report_missing'></span>

<h3>Description</h3>

<p>Report the number of missing observations for each variables of interest relevant for the analysis
</p>


<h3>Usage</h3>

<pre><code class='language-R'>report_missing(data, yvar, avar, mvar, cvar, eventvar)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="report_missing_+3A_data">data</code></td>
<td>
<p>Data frame containing the following relevant variables.</p>
</td></tr>
<tr><td><code id="report_missing_+3A_yvar">yvar</code></td>
<td>
<p>A character vector of length 1. Outcome variable name. It should be the time variable for the survival outcome.</p>
</td></tr>
<tr><td><code id="report_missing_+3A_avar">avar</code></td>
<td>
<p>A character vector of length 1. Treatment variable name.</p>
</td></tr>
<tr><td><code id="report_missing_+3A_mvar">mvar</code></td>
<td>
<p>A character vector of length 1. Mediator variable name.</p>
</td></tr>
<tr><td><code id="report_missing_+3A_cvar">cvar</code></td>
<td>
<p>A character vector of length &gt; 0. Covariate names. Use <code>NULL</code> if there is no covariate. However, this is a highly suspicious situation. Even if <code>avar</code> is randomized, <code>mvar</code> is not. Thus, there are usually some confounder(s) to account for the common cause structure (confounding) between <code>mvar</code> and <code>yvar</code>.</p>
</td></tr>
<tr><td><code id="report_missing_+3A_eventvar">eventvar</code></td>
<td>
<p>An character vector of length 1. Only required for survival outcome regression models. Note that the coding is 1 for event and 0 for censoring, following the R survival package convention.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects.
</p>

<hr>
<h2 id='summary.regmedint'>summary method for regmedint object</h2><span id='topic+summary.regmedint'></span>

<h3>Description</h3>

<p>Summarize the <code>mreg_fit</code>, <code>yreg_fit</code>, and the mediation analysis effect estimates.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'regmedint'
summary(
  object,
  a0 = NULL,
  a1 = NULL,
  m_cde = NULL,
  c_cond = NULL,
  args_mreg_fit = list(),
  args_yreg_fit = list(),
  exponentiate = FALSE,
  level = 0.95,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.regmedint_+3A_object">object</code></td>
<td>
<p>An object of the <code><a href="#topic+regmedint">regmedint</a></code> class.</p>
</td></tr>
<tr><td><code id="summary.regmedint_+3A_a0">a0</code></td>
<td>
<p>A numeric vector of length 1</p>
</td></tr>
<tr><td><code id="summary.regmedint_+3A_a1">a1</code></td>
<td>
<p>A numeric vector of length 1</p>
</td></tr>
<tr><td><code id="summary.regmedint_+3A_m_cde">m_cde</code></td>
<td>
<p>A numeric vector of length 1 The mediator value at which the controlled direct effect (CDE) conditional on the adjustment covariates is evaluated. If not provided, the default value supplied to the call to <code><a href="#topic+regmedint">regmedint</a></code> will be used. Only the CDE is affected.</p>
</td></tr>
<tr><td><code id="summary.regmedint_+3A_c_cond">c_cond</code></td>
<td>
<p>A numeric vector of the same length as <code>cvar</code>. A set of covariate values at which the conditional natural effects are evaluated.</p>
</td></tr>
<tr><td><code id="summary.regmedint_+3A_args_mreg_fit">args_mreg_fit</code></td>
<td>
<p>A named list of argument to be passed to the method for the <code>mreg_fit</code> object.</p>
</td></tr>
<tr><td><code id="summary.regmedint_+3A_args_yreg_fit">args_yreg_fit</code></td>
<td>
<p>A named list of argument to be passed to the method for the <code>mreg_fit</code> object.</p>
</td></tr>
<tr><td><code id="summary.regmedint_+3A_exponentiate">exponentiate</code></td>
<td>
<p>Whether to add exponentiated point and confidence limit estimates. When <code>yreg = "linear"</code>, it is ignored.</p>
</td></tr>
<tr><td><code id="summary.regmedint_+3A_level">level</code></td>
<td>
<p>Confidence level for the confidence intervals.</p>
</td></tr>
<tr><td><code id="summary.regmedint_+3A_...">...</code></td>
<td>
<p>For compatibility with the generic. Ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>summary_regmedint</code> object, which is a list containing the summary objects of the <code>mreg_fit</code> and the <code>yreg_fit</code> as well as the mediation analysis results.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(regmedint)
data(vv2015)
regmedint_obj &lt;- regmedint(data = vv2015,
                           ## Variables
                           yvar = "y",
                           avar = "x",
                           mvar = "m",
                           cvar = c("c"),
                           eventvar = "event",
                           ## Values at which effects are evaluated
                           a0 = 0,
                           a1 = 1,
                           m_cde = 1,
                           c_cond = 0.5,
                           ## Model types
                           mreg = "logistic",
                           yreg = "survAFT_weibull",
                           ## Additional specification
                           interaction = TRUE,
                           casecontrol = FALSE)
## Detailed result with summary
summary(regmedint_obj)
## Add exponentiate results for non-linear outcome models
summary(regmedint_obj, exponentiate = TRUE)
## Evaluate at different values
summary(regmedint_obj, m_cde = 0, c_cond = 1)
## Change confidence level
summary(regmedint_obj, m_cde = 0, c_cond = 1, level = 0.99)

</code></pre>

<hr>
<h2 id='summary.regmedint_mod_poisson'>Summary with robust sandwich variance estimator for modified Poisson</h2><span id='topic+summary.regmedint_mod_poisson'></span>

<h3>Description</h3>

<p>This is a version of <code><a href="stats.html#topic+summary.glm">summary.glm</a></code> modified to use the robust variance estimator <code><a href="sandwich.html#topic+sandwich">sandwich</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'regmedint_mod_poisson'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.regmedint_mod_poisson_+3A_object">object</code></td>
<td>
<p>A model object of the class <code>regmedint_mod_poisson</code></p>
</td></tr>
<tr><td><code id="summary.regmedint_mod_poisson_+3A_...">...</code></td>
<td>
<p>For compatibility with the generic.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of the class <code>summary.glm</code>
</p>

<hr>
<h2 id='theta_hat'>Create a vector of coefficients from the outcome model (yreg)</h2><span id='topic+theta_hat'></span>

<h3>Description</h3>

<p>This function extracts <code><a href="stats.html#topic+coef">coef</a></code> from <code>yreg_fit</code> and 3s with zeros appropriately to create a named vector consistently having the following elements:
<code>(Intercept)</code> (a zero element is added for <code>yreg = "survCox"</code> for which no intercept is estimated (the baseline hazard is left unspecified)),
<code>avar</code>,
<code>mvar</code>,
<code>avar:mvar</code> (a zero element is added when <code>interaction = FALSE</code>).
<code>cvar</code> (this part is eliminated when <code>cvar = NULL</code>),
<code>emm_ac_yreg</code> (this part is eliminated when <code>emm_ac_yreg = NULL</code>),
<code>emm_mc_yreg</code> (this part is eliminated when <code>emm_mc_yreg = NULL</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>theta_hat(
  yreg,
  yreg_fit,
  avar,
  mvar,
  cvar,
  emm_ac_yreg = NULL,
  emm_mc_yreg = NULL,
  interaction
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="theta_hat_+3A_yreg">yreg</code></td>
<td>
<p>A character vector of length 1. Outcome regression type: <code>"linear"</code>, <code>"logistic"</code>, <code>"loglinear"</code>, <code>"poisson"</code>, <code>"negbin"</code>, <code>"survCox"</code>, <code>"survAFT_exp"</code>, or <code>"survAFT_weibull"</code>.</p>
</td></tr>
<tr><td><code id="theta_hat_+3A_yreg_fit">yreg_fit</code></td>
<td>
<p>Model fit object for yreg (outcome model).</p>
</td></tr>
<tr><td><code id="theta_hat_+3A_avar">avar</code></td>
<td>
<p>A character vector of length 1. Treatment variable name.</p>
</td></tr>
<tr><td><code id="theta_hat_+3A_mvar">mvar</code></td>
<td>
<p>A character vector of length 1. Mediator variable name.</p>
</td></tr>
<tr><td><code id="theta_hat_+3A_cvar">cvar</code></td>
<td>
<p>A character vector of length &gt; 0. Covariate names. Use <code>NULL</code> if there is no covariate. However, this is a highly suspicious situation. Even if <code>avar</code> is randomized, <code>mvar</code> is not. Thus, there are usually some confounder(s) to account for the common cause structure (confounding) between <code>mvar</code> and <code>yvar</code>.</p>
</td></tr>
<tr><td><code id="theta_hat_+3A_emm_ac_yreg">emm_ac_yreg</code></td>
<td>
<p>A character vector of length &gt; 0. Effect modifiers names. The covariate vector in treatment-covariate product term in the outcome model.</p>
</td></tr>
<tr><td><code id="theta_hat_+3A_emm_mc_yreg">emm_mc_yreg</code></td>
<td>
<p>A character vector of length &gt; 0. Effect modifiers names. The covariate vector in mediator-covariate product term in outcome model.</p>
</td></tr>
<tr><td><code id="theta_hat_+3A_interaction">interaction</code></td>
<td>
<p>A logical vector of length 1. The presence of treatment-mediator interaction in the outcome model. Default to TRUE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named numeric vector of coefficients.
</p>

<hr>
<h2 id='validate_args'>Validate arguments to regmedint before passing to other functions</h2><span id='topic+validate_args'></span>

<h3>Description</h3>

<p>Internal functions (usually) do not validate arguments, thus, we need to make sure informative errors are raised when the arguments are not safe for subsequent computation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate_args(
  data,
  yvar,
  avar,
  mvar,
  cvar,
  emm_ac_mreg,
  emm_ac_yreg,
  emm_mc_yreg,
  eventvar,
  a0,
  a1,
  m_cde,
  c_cond,
  mreg,
  yreg,
  interaction,
  casecontrol
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="validate_args_+3A_data">data</code></td>
<td>
<p>Data frame containing the following relevant variables.</p>
</td></tr>
<tr><td><code id="validate_args_+3A_yvar">yvar</code></td>
<td>
<p>A character vector of length 1. Outcome variable name. It should be the time variable for the survival outcome.</p>
</td></tr>
<tr><td><code id="validate_args_+3A_avar">avar</code></td>
<td>
<p>A character vector of length 1. Treatment variable name.</p>
</td></tr>
<tr><td><code id="validate_args_+3A_mvar">mvar</code></td>
<td>
<p>A character vector of length 1. Mediator variable name.</p>
</td></tr>
<tr><td><code id="validate_args_+3A_cvar">cvar</code></td>
<td>
<p>A character vector of length &gt; 0. Covariate names. Use <code>NULL</code> if there is no covariate. However, this is a highly suspicious situation. Even if <code>avar</code> is randomized, <code>mvar</code> is not. Thus, there are usually some confounder(s) to account for the common cause structure (confounding) between <code>mvar</code> and <code>yvar</code>.</p>
</td></tr>
<tr><td><code id="validate_args_+3A_emm_ac_mreg">emm_ac_mreg</code></td>
<td>
<p>A character vector of length &gt; 0. Effect modifiers names. The covariate vector in treatment-covariate product term in the mediator model.</p>
</td></tr>
<tr><td><code id="validate_args_+3A_emm_ac_yreg">emm_ac_yreg</code></td>
<td>
<p>A character vector of length &gt; 0. Effect modifiers names. The covariate vector in treatment-covariate product term in the outcome model.</p>
</td></tr>
<tr><td><code id="validate_args_+3A_emm_mc_yreg">emm_mc_yreg</code></td>
<td>
<p>A character vector of length &gt; 0. Effect modifiers names. The covariate vector in mediator-covariate product term in outcome model.</p>
</td></tr>
<tr><td><code id="validate_args_+3A_eventvar">eventvar</code></td>
<td>
<p>An character vector of length 1. Only required for survival outcome regression models. Note that the coding is 1 for event and 0 for censoring, following the R survival package convention.</p>
</td></tr>
<tr><td><code id="validate_args_+3A_a0">a0</code></td>
<td>
<p>A numeric vector of length 1. The reference level of treatment variable that is considered &quot;untreated&quot; or &quot;unexposed&quot;.</p>
</td></tr>
<tr><td><code id="validate_args_+3A_a1">a1</code></td>
<td>
<p>A numeric vector of length 1.</p>
</td></tr>
<tr><td><code id="validate_args_+3A_m_cde">m_cde</code></td>
<td>
<p>A numeric vector of length 1. Mediator level at which controlled direct effect is evaluated at.</p>
</td></tr>
<tr><td><code id="validate_args_+3A_c_cond">c_cond</code></td>
<td>
<p>A numeric vector of the same length as <code>cvar</code>. Covariate levels at which natural direct and indirect effects are evaluated at.</p>
</td></tr>
<tr><td><code id="validate_args_+3A_mreg">mreg</code></td>
<td>
<p>A character vector of length 1. Mediator regression type: <code>"linear"</code> or <code>"logistic"</code>.</p>
</td></tr>
<tr><td><code id="validate_args_+3A_yreg">yreg</code></td>
<td>
<p>A character vector of length 1. Outcome regression type: <code>"linear"</code>, <code>"logistic"</code>, <code>"loglinear"</code>, <code>"poisson"</code>, <code>"negbin"</code>, <code>"survCox"</code>, <code>"survAFT_exp"</code>, or <code>"survAFT_weibull"</code>.</p>
</td></tr>
<tr><td><code id="validate_args_+3A_interaction">interaction</code></td>
<td>
<p>A logical vector of length 1. The presence of treatment-mediator interaction in the outcome model. Default to TRUE.</p>
</td></tr>
<tr><td><code id="validate_args_+3A_casecontrol">casecontrol</code></td>
<td>
<p>A logical vector of length 1. Default to FALSE. Whether data comes from a case-control study.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects.
</p>

<hr>
<h2 id='validate_regmedint'>Validate soundness of a regmedint object.</h2><span id='topic+validate_regmedint'></span>

<h3>Description</h3>

<p>Check the structure of a proposed regmedint object for soundness.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate_regmedint(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="validate_regmedint_+3A_x">x</code></td>
<td>
<p>A <code>regmedint</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects.
</p>

<hr>
<h2 id='vcov.regmedint'>Extract variance estimates in the vcov form.</h2><span id='topic+vcov.regmedint'></span>

<h3>Description</h3>

<p>Extract variance estimates evaluated at <code>a0</code>, <code>a1</code>, <code>m_cde</code>, and <code>c_cond</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'regmedint'
vcov(object, a0 = NULL, a1 = NULL, m_cde = NULL, c_cond = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vcov.regmedint_+3A_object">object</code></td>
<td>
<p>An object of the <code><a href="#topic+regmedint">regmedint</a></code> class.</p>
</td></tr>
<tr><td><code id="vcov.regmedint_+3A_a0">a0</code></td>
<td>
<p>A numeric vector of length 1</p>
</td></tr>
<tr><td><code id="vcov.regmedint_+3A_a1">a1</code></td>
<td>
<p>A numeric vector of length 1</p>
</td></tr>
<tr><td><code id="vcov.regmedint_+3A_m_cde">m_cde</code></td>
<td>
<p>A numeric vector of length 1 The mediator value at which the controlled direct effect (CDE) conditional on the adjustment covariates is evaluated. If not provided, the default value supplied to the call to <code><a href="#topic+regmedint">regmedint</a></code> will be used. Only the CDE is affected.</p>
</td></tr>
<tr><td><code id="vcov.regmedint_+3A_c_cond">c_cond</code></td>
<td>
<p>A numeric vector of the same length as <code>cvar</code>. A set of covariate values at which the conditional natural effects are evaluated.</p>
</td></tr>
<tr><td><code id="vcov.regmedint_+3A_...">...</code></td>
<td>
<p>For compatibility with the generic. Ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric matrix with the diagonals populated with variance estimates. Off-diagnonals are NA since these are not estimated.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(regmedint)
data(vv2015)
regmedint_obj &lt;- regmedint(data = vv2015,
                           ## Variables
                           yvar = "y",
                           avar = "x",
                           mvar = "m",
                           cvar = c("c"),
                           eventvar = "event",
                           ## Values at which effects are evaluated
                           a0 = 0,
                           a1 = 1,
                           m_cde = 1,
                           c_cond = 0.5,
                           ## Model types
                           mreg = "logistic",
                           yreg = "survAFT_weibull",
                           ## Additional specification
                           interaction = TRUE,
                           casecontrol = FALSE)
vcov(regmedint_obj)
## Evaluate at different values
vcov(regmedint_obj, m_cde = 0, c_cond = 1)

</code></pre>

<hr>
<h2 id='vcov.regmedint_mod_poisson'>Robust sandwich variance estimator for modified Poisson</h2><span id='topic+vcov.regmedint_mod_poisson'></span>

<h3>Description</h3>

<p>Provide robust sandwich variance-covariance estimate using <code><a href="sandwich.html#topic+sandwich">sandwich</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'regmedint_mod_poisson'
vcov(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vcov.regmedint_mod_poisson_+3A_object">object</code></td>
<td>
<p>A model object of the class <code>regmedint_mod_poisson</code></p>
</td></tr>
<tr><td><code id="vcov.regmedint_mod_poisson_+3A_...">...</code></td>
<td>
<p>For compatibility with the generic.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A variance-covariance matrix using the <code><a href="sandwich.html#topic+sandwich">sandwich</a></code>.
</p>

<hr>
<h2 id='vv2015'>Example dataset from Valeri and VanderWeele 2015.</h2><span id='topic+vv2015'></span>

<h3>Description</h3>

<p>An example dataset from Valeri and VanderWeele (2015) &lt;doi:10.1097/EDE.0000000000000253&gt;.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vv2015
</code></pre>


<h3>Format</h3>

<p>A tibble with 100 rows and 7 variables:
</p>

<dl>
<dt>id</dt><dd><p>Positive integer id.</p>
</dd>
<dt>x</dt><dd><p>Binary treatment assignment variable.</p>
</dd>
<dt>m</dt><dd><p>Binary mediator variable.</p>
</dd>
<dt>y</dt><dd><p>Time to event outcome variable.</p>
</dd>
<dt>cens</dt><dd><p>Binary censoring indicator. Censored is 1.</p>
</dd>
<dt>c</dt><dd><p>Continuous confounder variable.</p>
</dd>
<dt>event</dt><dd><p>Binary event indicator. Event is 1.</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://www.hsph.harvard.edu/tyler-vanderweele/tools-and-tutorials/">https://www.hsph.harvard.edu/tyler-vanderweele/tools-and-tutorials/</a>
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

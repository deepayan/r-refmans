<!DOCTYPE html><html><head><title>Help for package Umatrix</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {Umatrix}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#Umatrix-package'>
<p>Umatrix-package</p></a></li>
<li><a href='#esomTrain'><p>Train an ESOM (emergent self organizing map) and project data</p></a></li>
<li><a href='#Hepta'><p>Hepta from FCPS (Fundamental Clustering Problem Suite)</p></a></li>
<li><a href='#iClassification'><p>GUI for manual classification</p></a></li>
<li><a href='#iEsomTrain'><p>iEsomTrain</p></a></li>
<li><a href='#iUmapIsland'><p>iUmapIsland</p></a></li>
<li><a href='#iUstarmatrix'><p>iUstarmatrix</p></a></li>
<li><a href='#plotMatrix'><p>plotMatrix</p></a></li>
<li><a href='#pmatrixForEsom'><p>pmatrixForEsom</p></a></li>
<li><a href='#showMatrix3D'><p>showMatrix3D</p></a></li>
<li><a href='#umatrixForEsom'><p>umatrixForEsom</p></a></li>
<li><a href='#ustarmatrixCalc'><p>ustarmatrixCalc</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Visualization of Structures in High-Dimensional Data</td>
</tr>
<tr>
<td>Version:</td>
<td>3.4.1</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-11-25</td>
</tr>
<tr>
<td>Author:</td>
<td>Florian Lerch[aut,cre], Michael Thrun[aut], Felix Pape[ctb], Jorn Lotsch[aut], Raphael Paebst[ctb], Alfred Ultsch[aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jorn Lotsch &lt;j.lotsch@em.uni-frankfurt.de&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>By gaining the property of emergence through self-organization, the enhancement of SOMs(self organizing maps) is called Emergent SOM (ESOM). The result of the projection by ESOM is a grid of neurons which can be visualised as a three dimensional landscape in form of the Umatrix. Further details can be found in the referenced publications (see url). This package offers tools for calculating and visualising the ESOM as well as Umatrix, Pmatrix and UStarMatrix. All the functionality is also available through graphical user interfaces implemented in 'shiny'.</td>
</tr>
<tr>
<td>Imports:</td>
<td>Rcpp, ggplot2, shiny, shinyjs, reshape2, fields, plyr, png,
tools, grid, abind, deldir, geometry, pdist, AdaptGauss,
DataVisualizations</td>
</tr>
<tr>
<td>Suggests:</td>
<td>rgl</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.0)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="http://wscg.zcu.cz/wscg2016/short/A43-full.pdf">http://wscg.zcu.cz/wscg2016/short/A43-full.pdf</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-11-25 07:51:01 UTC; joern</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-11-25 12:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='Umatrix-package'>
Umatrix-package
</h2><span id='topic+Umatrix-package'></span>

<h3>Description</h3>

<p>The <b>ESOM</b>(emergent self organizing map) is an improvement of the regular <b>SOM</b>(self organizing map) which allows for toroid grids of neurons and is intended to be used in combination with the <b>Umatrix</b>. The set of neurons is referred to as <b>weights</b> within this package, as they represent the values within the high dimensional space. The neuron with smallest distance to a datapoint is called a <b>Bestmatch</b> and can be considered as projection of said datapoint. As the Umatrix is usually toroid, it is drawn four consecutive times to remove border effects. An island, or Imx, is a filter mask, which cuts out a subset of the Umatrix, which shows every point only a single time while avoiding border effects cutting through potential clusters.
Finally the Pmatrix shows the density structures within the grid, by a set radius. It can be combined with the Umatrix resulting in the UStarMatrix, which is therefore a combination of density based structures as well as clearly divided ones.
</p>


<h3>References</h3>

<p>Ultsch, A.: Data mining and knowledge discovery with emergent self-organizing feature maps for multivariate time series, In Oja, E. &amp; Kaski, S. (Eds.), Kohonen maps, (1 ed., pp. 33-46), Elsevier, 1999.
</p>
<p>Ultsch, A.: Maps for the visualization of high-dimensional data spaces, Proc. Workshop on Self organizing Maps (WSOM), pp. 225-230, Kyushu, Japan, 2003.
</p>
<p>Ultsch, A.: U* C: Self-organized Clustering with Emergent Feature Maps, Lernen, Wissensentdeckung und Adaptivitaet (LWA), pp. 240-244, Saarbruecken, Germany, 2005.
</p>
<p>Loetsch, J., Ultsch, A.: Exploiting the Structures of the U-Matrix, in Villmann, T., Schleif, F.-M., Kaden, M. &amp; Lange, M. (eds.), Proc. Advances in Self-Organizing Maps and Learning Vector Quantization, pp. 249-257, Springer International Publishing, Mittweida, Germany, 2014.
</p>
<p>Ultsch, A., Behnisch, M., Loetsch, J.: ESOM Visualizations for Quality Assessment in Clustering, In Merenyi, E., Mendenhall, J. M. &amp; O'Driscoll, P. (Eds.), Advances in Self-Organizing Maps and Learning Vector Quantization: Proceedings of the 11th International Workshop WSOM 2016, pp. 39-48, Houston, Texas, USA, January 6-8, 2016, (10.1007/978-3-319-28518-4_3), Cham, Springer International Publishing, 2016.
</p>
<p>Thrun, M. C., Lerch, F., Loetsch, J., Ultsch, A.: Visualization and 3D Printing of Multivariate Data of Biomarkers, in Skala, V. (Ed.), International Conference in Central Europe on Computer Graphics, Visualization and Computer Vision,Plzen, 2016.
</p>

<hr>
<h2 id='esomTrain'>Train an ESOM (emergent self organizing map) and project data</h2><span id='topic+esomTrain'></span>

<h3>Description</h3>

<p>The ESOM (emergent self organizing map) algorithm as defined by [Ultsch 1999]. A set of weigths(neurons) on a two-dimensional grid get trained to adapt the given datastructure. The weights will be used to project data on a two-dimensional space, by seeking the BestMatches for every datapoint.</p>


<h3>Arguments</h3>

<table>
<tr><td><code id="esomTrain_+3A_data">Data</code></td>
<td>
<p>Data that will be used for training and projection</p>
</td></tr>
<tr><td><code id="esomTrain_+3A_lines">Lines</code></td>
<td>
<p>Height of grid</p>
</td></tr>
<tr><td><code id="esomTrain_+3A_columns">Columns</code></td>
<td>
<p>Width of grid</p>
</td></tr>
<tr><td><code id="esomTrain_+3A_epochs">Epochs</code></td>
<td>
<p>Number of Epochs the ESOM will run</p>
</td></tr>
<tr><td><code id="esomTrain_+3A_toroid">Toroid</code></td>
<td>
<p>If TRUE, the grid will be toroid</p>
</td></tr>
<tr><td><code id="esomTrain_+3A_neighbourhoodfunction">NeighbourhoodFunction</code></td>
<td>
<p>Type of Neighbourhood; Possible values are: &quot;cone&quot;, &quot;mexicanhat&quot; and &quot;gauss&quot;</p>
</td></tr>
<tr><td><code id="esomTrain_+3A_startlearningrate">StartLearningRate</code></td>
<td>
<p>Initial value for LearningRate</p>
</td></tr>
<tr><td><code id="esomTrain_+3A_endlearningrate">EndLearningRate</code></td>
<td>
<p>Final value for LearningRate</p>
</td></tr>
<tr><td><code id="esomTrain_+3A_startradius">StartRadius</code></td>
<td>
<p>Start value for the Radius in which will be searched for neighbours</p>
</td></tr>
<tr><td><code id="esomTrain_+3A_endradius">EndRadius</code></td>
<td>
<p>End value for the Radius in which will be searched for neighbours</p>
</td></tr>
<tr><td><code id="esomTrain_+3A_neighbourhoodcooling">NeighbourhoodCooling</code></td>
<td>
<p>Cooling method for radius; &quot;linear&quot; is the only available option at the moment</p>
</td></tr>
<tr><td><code id="esomTrain_+3A_learningratecooling">LearningRateCooling</code></td>
<td>
<p>Cooling method for LearningRate; &quot;linear&quot; is the only available option at the moment</p>
</td></tr>
<tr><td><code id="esomTrain_+3A_shinyprogress">shinyProgress</code></td>
<td>
<p>Generate progress output for shiny if Progress Object is given</p>
</td></tr>
<tr><td><code id="esomTrain_+3A_shifttohighestdensity">ShiftToHighestDensity</code></td>
<td>
<p>If True, the Umatrix will be shifted so that the point with highest density will be at the center</p>
</td></tr>
<tr><td><code id="esomTrain_+3A_initmethod">InitMethod</code></td>
<td>
<p>name of the method that will be used to choose initializations
Valid Inputs: &quot;uni_min_max&quot;: uniform distribution with minimum and maximum from sampleData
&quot;norm_mean_2std&quot;: normal distribuation based on mean and standard deviation of sampleData</p>
</td></tr>
<tr><td><code id="esomTrain_+3A_key">Key</code></td>
<td>
<p>Vector of numeric keys matching the datapoints. Will be added to Bestmatches</p>
</td></tr>
<tr><td><code id="esomTrain_+3A_umatrixforesom">UmatrixForEsom</code></td>
<td>
<p>If TRUE, Umatrix based on resulting ESOM is calculated and returned</p>
</td></tr>
</table>


<h3>Details</h3>

<p>On a toroid grid, opposing borders are connected.</p>


<h3>Value</h3>

<p>List with
</p>
<table>
<tr><td><code>BestMatches</code></td>
<td>
<p>BestMatches of datapoints</p>
</td></tr>
<tr><td><code>Weights</code></td>
<td>
<p>Trained weights</p>
</td></tr>
<tr><td><code>Lines</code></td>
<td>
<p>Height of grid</p>
</td></tr>
<tr><td><code>Columns</code></td>
<td>
<p>Width of grid</p>
</td></tr>
<tr><td><code>Toroid</code></td>
<td>
<p>TRUE if grid is a toroid</p>
</td></tr>
</table>


<h3>References</h3>

<p>Kohonen, T., Self-organized formation of topologically correct feature maps. Biological cybernetics, 1982. 43(1): p. 59-69.
</p>
<p>Ultsch, A., Data mining and knowledge discovery with emergent self-organizing feature maps for multivariate time series. Kohonen maps, 1999. 46: p. 33-46.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data('Hepta')
res=esomTrain(Hepta$Data, Key = 1:nrow(Hepta$Data))
</code></pre>

<hr>
<h2 id='Hepta'>Hepta from FCPS (Fundamental Clustering Problem Suite)</h2><span id='topic+Hepta'></span>

<h3>Description</h3>

<p>Dataset with 7 easily seperable classes.</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("Hepta")</code></pre>


<h3>Details</h3>

<p>Size 212, Dimensions 3, stored in <code>Hepta$Data</code>
</p>
<p>Classes 7, stored in <code>Hepta$Cls</code>
</p>


<h3>References</h3>

<p>Ultsch, A.: U* C: Self-organized Clustering with Emergent Feature Maps, Lernen, Wissensentdeckung und Adaptivitaet (LWA), pp. 240-244, Saarbruecken, Germany, 2005. </p>


<h3>Examples</h3>

<pre><code class='language-R'>data(Hepta)
str(Hepta)
</code></pre>

<hr>
<h2 id='iClassification'>GUI for manual classification</h2><span id='topic+iClassification'></span>

<h3>Description</h3>

<p>This tool is a 'shiny' GUI that visualizes a given Umatrix and allows the user to select areas and mark them as clusters.</p>


<h3>Arguments</h3>

<table>
<tr><td><code id="iClassification_+3A_umatrix">Umatrix</code></td>
<td>
<p>Matrix of Umatrix Heights</p>
</td></tr>
<tr><td><code id="iClassification_+3A_bestmatches">BestMatches</code></td>
<td>
<p>Array with positions of Bestmatches</p>
</td></tr>
<tr><td><code id="iClassification_+3A_cls">Cls</code></td>
<td>
<p>Classification of the Bestmatches</p>
</td></tr>
<tr><td><code id="iClassification_+3A_imx">Imx</code></td>
<td>
<p>Matrix of an island that will be cut out of the Umatrix</p>
</td></tr>
<tr><td><code id="iClassification_+3A_toroid">Toroid</code></td>
<td>
<p>Are BestMatches placed on a toroid grid? TRUE by default</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector containing the selected class ids. The order is corresponding to the given Bestmatches </p>


<h3>References</h3>

<p>Thrun, M. C., Lerch, F., Loetsch, J., Ultsch, A.: Visualization and 3D Printing of Multivariate Data of Biomarkers, in Skala, V. (Ed.), International Conference in Central Europe on Computer Graphics, Visualization and Computer Vision,Plzen, 2016.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
data("Hepta")
e = esomTrain(Hepta$Data, Key = 1:nrow(Hepta$Data))
cls = iClassification(e$Umatrix, e$BestMatches)

## End(Not run)</code></pre>

<hr>
<h2 id='iEsomTrain'>iEsomTrain</h2><span id='topic+iEsomTrain'></span>

<h3>Description</h3>

<p>Trains the ESOM and shows the Umatrix.</p>


<h3>Arguments</h3>

<table>
<tr><td><code id="iEsomTrain_+3A_data">Data</code></td>
<td>
<p>Matrix of Data that will be used to learn. One DataPoint per row</p>
</td></tr>
<tr><td><code id="iEsomTrain_+3A_bestmatches">BestMatches</code></td>
<td>
<p>Array with positions of Bestmatches</p>
</td></tr>
<tr><td><code id="iEsomTrain_+3A_cls">Cls</code></td>
<td>
<p>Classification of the Bestmatches as a  vector</p>
</td></tr>
<tr><td><code id="iEsomTrain_+3A_key">Key</code></td>
<td>
<p>Numeric vector of keys matching the Bestmatches</p>
</td></tr>
<tr><td><code id="iEsomTrain_+3A_toroid">Toroid</code></td>
<td>
<p>Are BestMatches placed on a toroid grid? TRUE by default</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List with
</p>
<table>
<tr><td><code>Umatrix</code></td>
<td>
<p>matrix with height values of the umatrix</p>
</td></tr>
<tr><td><code>BestMatches</code></td>
<td>
<p>matrix containing the bestmatches</p>
</td></tr>
<tr><td><code>Lines</code></td>
<td>
<p>number of lines of the chosen ESOM</p>
</td></tr>
<tr><td><code>Columns</code></td>
<td>
<p>number of columns of the chosen ESOM</p>
</td></tr>
<tr><td><code>Epochs</code></td>
<td>
<p>number of epochs of the chosen ESOM</p>
</td></tr>
<tr><td><code>Weights</code></td>
<td>
<p>List of weights</p>
</td></tr>
<tr><td><code>Toroid</code></td>
<td>
<p>True if a toroid grid was used</p>
</td></tr>
<tr><td><code>EsomDetails</code></td>
<td>
<p>Further details describing the chosen ESOM parameters</p>
</td></tr>
</table>


<h3>References</h3>

<p>Thrun, M. C., Lerch, F., Loetsch, J., Ultsch, A.: Visualization and 3D Printing of Multivariate Data of Biomarkers, in Skala, V. (Ed.), International Conference in Central Europe on Computer Graphics, Visualization and Computer Vision,Plzen, 2016.
</p>

<hr>
<h2 id='iUmapIsland'>iUmapIsland</h2><span id='topic+iUmapIsland'></span>

<h3>Description</h3>

<p>The toroid Umatrix is usually drawn 4 times, so that connected areas on borders can be seen as a whole. An island is a manual cutout of such a tiled visualization, that is selected such that all connected areas stay intact. This 'shiny' tool allows the user to do this manually.</p>


<h3>Arguments</h3>

<table>
<tr><td><code id="iUmapIsland_+3A_umatrix">Umatrix</code></td>
<td>
<p>Matrix of Umatrix Heights</p>
</td></tr>
<tr><td><code id="iUmapIsland_+3A_bestmatches">BestMatches</code></td>
<td>
<p>Array with positions of BestMatches</p>
</td></tr>
<tr><td><code id="iUmapIsland_+3A_cls">Cls</code></td>
<td>
<p>Classification of the BestMatches</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Boolean Matrix that represents the island within the tiled Umatrix</p>


<h3>References</h3>

<p>Thrun, M. C., Lerch, F., Loetsch, J., Ultsch, A.: Visualization and 3D Printing of Multivariate Data of Biomarkers, in Skala, V. (Ed.), International Conference in Central Europe on Computer Graphics, Visualization and Computer Vision,Plzen, 2016.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
data("Hepta")
e = esomTrain(Hepta$Data, Key = 1:nrow(Hepta$Data))
Imx = iUmapIsland(e$Umatrix, e$BestMatches)
plotMatrix(e$Umatrix, e$BestMatches, Imx = Imx$Imx)

## End(Not run)</code></pre>

<hr>
<h2 id='iUstarmatrix'>iUstarmatrix</h2><span id='topic+iUstarmatrix'></span>

<h3>Description</h3>

<p>Calculates the Ustarmatrix by combining a Umatrix with a Pmatrix.</p>


<h3>Arguments</h3>

<table>
<tr><td><code id="iUstarmatrix_+3A_weights">Weights</code></td>
<td>
<p>Weights that were trained by the ESOM algorithm</p>
</td></tr>
<tr><td><code id="iUstarmatrix_+3A_lines">Lines</code></td>
<td>
<p>Height of the used grid</p>
</td></tr>
<tr><td><code id="iUstarmatrix_+3A_columns">Columns</code></td>
<td>
<p>Width of the used grid</p>
</td></tr>
<tr><td><code id="iUstarmatrix_+3A_data">Data</code></td>
<td>
<p>Matrix of Data that was used to train the ESOM. One datapoint per row</p>
</td></tr>
<tr><td><code id="iUstarmatrix_+3A_imx">Imx</code></td>
<td>
<p>Island mask that will be cut out from displayed Umatrix</p>
</td></tr>
<tr><td><code id="iUstarmatrix_+3A_cls">Cls</code></td>
<td>
<p>Classification of the Bestmatches</p>
</td></tr>
<tr><td><code id="iUstarmatrix_+3A_toroid">Toroid</code></td>
<td>
<p>Are weights placed on a toroid grid?</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>Ustarmatrix</code></td>
<td>
<p>matrix with height values of the Ustarmatrix</p>
</td></tr>
</table>


<h3>References</h3>

<p>Thrun, M. C., Lerch, F., Loetsch, J., Ultsch, A.: Visualization and 3D Printing of Multivariate Data of Biomarkers, in Skala, V. (Ed.), International Conference in Central Europe on Computer Graphics, Visualization and Computer Vision,Plzen, 2016.
</p>

<hr>
<h2 id='plotMatrix'>plotMatrix</h2><span id='topic+plotMatrix'></span>

<h3>Description</h3>

<p>Draws a plot based of given Umatrix or Pmatrix.</p>


<h3>Arguments</h3>

<table>
<tr><td><code id="plotMatrix_+3A_matrix">Matrix</code></td>
<td>
<p>Umatrix or Pmatrix to be plotted</p>
</td></tr>
<tr><td><code id="plotMatrix_+3A_bestmatches">BestMatches</code></td>
<td>
<p>Positions of BestmMtches to be plotted onto the Umatrix</p>
</td></tr>
<tr><td><code id="plotMatrix_+3A_cls">Cls</code></td>
<td>
<p>Class identifier for the BestMatches</p>
</td></tr>
<tr><td><code id="plotMatrix_+3A_clscolors">ClsColors</code></td>
<td>
<p>Vector of colors that will be used to colorize the different classes</p>
</td></tr>
<tr><td><code id="plotMatrix_+3A_colorstyle">ColorStyle</code></td>
<td>
<p>If &quot;Umatrix&quot; the colors of a Umatrix (Blue -&gt; Green -&gt; Brown -&gt; White) will be used; If &quot;Pmatrix&quot; the colors of a Pmatrix (White -&gt; Yellow -&gt; Red) will be used</p>
</td></tr>
<tr><td><code id="plotMatrix_+3A_toroid">Toroid</code></td>
<td>
<p>Should the Umatrix be drawn 4times?</p>
</td></tr>
<tr><td><code id="plotMatrix_+3A_bmsize">BmSize</code></td>
<td>
<p>Integer between 0.1 and 5, magnification factor of the drawn BestMatch circles</p>
</td></tr>
<tr><td><code id="plotMatrix_+3A_drawlegend">DrawLegend</code></td>
<td>
<p>If TRUE, a color legend will be drawn next to the plot</p>
</td></tr>
<tr><td><code id="plotMatrix_+3A_fixedratio">FixedRatio</code></td>
<td>
<p>If TRUE, the plot will be drawn with a fixed ratio of x and y axis</p>
</td></tr>
<tr><td><code id="plotMatrix_+3A_cutoutpol">CutoutPol</code></td>
<td>
<p>Only draws the area within given polygon</p>
</td></tr>
<tr><td><code id="plotMatrix_+3A_nrlevels">Nrlevels</code></td>
<td>
<p>Number of height levels that will be used within the Umatrix</p>
</td></tr>
<tr><td><code id="plotMatrix_+3A_transparentcontours">TransparentContours</code></td>
<td>
<p>Use half transparent contours. Looks better but is slow</p>
</td></tr>
<tr><td><code id="plotMatrix_+3A_imx">Imx</code></td>
<td>
<p>Mask to cut out an island. Every value should be either 1 (stays in) or 0 (gets cut out)</p>
</td></tr>
<tr><td><code id="plotMatrix_+3A_clean">Clean</code></td>
<td>
<p>If TRUE axis, margins, ... surrounding the Umatrix image will be removed</p>
</td></tr>
<tr><td><code id="plotMatrix_+3A_removeocean">RemoveOcean</code></td>
<td>
<p>If TRUE, the surrounding blue area around an island will be reduced as much as possible (while still maintaining a rectangular form)</p>
</td></tr>
<tr><td><code id="plotMatrix_+3A_transparentocean">TransparentOcean</code></td>
<td>
<p>If TRUE, the surrounding blue area around an island will be transparent</p>
</td></tr>
<tr><td><code id="plotMatrix_+3A_title">Title</code></td>
<td>
<p>A title that will be drawn above the plot</p>
</td></tr>
<tr><td><code id="plotMatrix_+3A_bestmatcheslabels">BestMatchesLabels</code></td>
<td>
<p>Vector of strings corresponding to the order of BestMatches which will be drawn on the plot as labels</p>
</td></tr>
<tr><td><code id="plotMatrix_+3A_bestmatchesshape">BestMatchesShape</code></td>
<td>
<p>Numeric value of Shape that will be used. Responds to the usual shapes of ggplot</p>
</td></tr>
<tr><td><code id="plotMatrix_+3A_markduplicatedbestmatches">MarkDuplicatedBestMatches</code></td>
<td>
<p>If TRUE, BestMatches that are shown more than once within an island, will be marked</p>
</td></tr>
<tr><td><code id="plotMatrix_+3A_yellowcircle">YellowCircle</code></td>
<td>
<p>If TRUE, a yellow circle is drawn around Bestmatches to distinct them better from background</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The heightScale (nrlevels) is set at the proportion of the 1 percent quantile against the 99 percent quantile of the matrix values.</p>


<h3>Value</h3>

<p>A 'ggplot' of a Matrix</p>


<h3>References</h3>

<p>Thrun, M. C., Lerch, F., Loetsch, J., Ultsch, A.: Visualization and 3D Printing of Multivariate Data of Biomarkers, in Skala, V. (Ed.), International Conference in Central Europe on Computer Graphics, Visualization and Computer Vision,Plzen, 2016.
</p>
<p>Ultsch, A.: Maps for the visualization of high-dimensional data spaces, Proc. Workshop on Self organizing Maps (WSOM), pp. 225-230, Kyushu, Japan, 2003.
</p>
<p>Siemon, H.P., Ultsch,A.: Kohonen Networks on Transputers: Implementation and Animation, in: Proceedings Intern. Neural Networks, Kluwer Academic Press, Paris, pp. 643-646, 1990.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("Hepta")
e = esomTrain(Hepta$Data, Key = 1:nrow(Hepta$Data))
plotMatrix(e$Umatrix,e$BestMatches)
</code></pre>

<hr>
<h2 id='pmatrixForEsom'>pmatrixForEsom</h2><span id='topic+pmatrixForEsom'></span>

<h3>Description</h3>

<p>Generates a Pmatrix based on the weights of an ESOM.</p>


<h3>Arguments</h3>

<table>
<tr><td><code id="pmatrixForEsom_+3A_data">Data</code></td>
<td>
<p>A <code>[n,k]</code> matrix containing the data</p>
</td></tr>
<tr><td><code id="pmatrixForEsom_+3A_weights">Weights</code></td>
<td>
<p>Weights stored as a list in a 2D matrix</p>
</td></tr>
<tr><td><code id="pmatrixForEsom_+3A_lines">Lines</code></td>
<td>
<p>Number of lines of the SOM that is described by weights</p>
</td></tr>
<tr><td><code id="pmatrixForEsom_+3A_columns">Columns</code></td>
<td>
<p>Number of columns of the SOM that is described by weights</p>
</td></tr>
<tr><td><code id="pmatrixForEsom_+3A_radius">Radius</code></td>
<td>
<p>The radius for measuring the density within the hypersphere</p>
</td></tr>
<tr><td><code id="pmatrixForEsom_+3A_plotit">PlotIt</code></td>
<td>
<p>If set the Pmatrix will also be plotted</p>
</td></tr>
<tr><td><code id="pmatrixForEsom_+3A_toroid">Toroid</code></td>
<td>
<p>Are BestMatches placed on a toroid grid? TRUE by default</p>
</td></tr>
</table>


<h3>Value</h3>

<p>UstarMatrix</p>


<h3>References</h3>

<p>Ultsch, A.: Maps for the visualization of high-dimensional data spaces, Proc. Workshop on Self organizing Maps (WSOM), pp. 225-230, Kyushu, Japan, 2003.
</p>
<p>Ultsch, A., Loetsch, J.: Computed ABC Analysis for Rational Selection of Most Informative Variables in Multivariate Data, PloS one, Vol. 10(6), pp. e0129767. doi 10.1371/journal.pone.0129767, 2015.
</p>
<p>Thrun, M. C., Lerch, F., Loetsch, J., Ultsch, A.: Visualization and 3D Printing of Multivariate Data of Biomarkers, in Skala, V. (Ed.), International Conference in Central Europe on Computer Graphics, Visualization and Computer Vision,Plzen, 2016.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("Hepta")
e = esomTrain(Hepta$Data, Key = 1:nrow(Hepta$Data))
Pmatrix = pmatrixForEsom(Hepta$Data,
                         e$Weights,
                         e$Lines,
                         e$Columns,
                         e$Toroid)
plotMatrix(Pmatrix, ColorStyle = "Pmatrix")
</code></pre>

<hr>
<h2 id='showMatrix3D'>showMatrix3D</h2><span id='topic+showMatrix3D'></span>

<h3>Description</h3>

<p>Visualizes the matrix(Umatrix/Pmatrix) in an interactive window in 3D.</p>


<h3>Arguments</h3>

<table>
<tr><td><code id="showMatrix3D_+3A_matrix">Matrix</code></td>
<td>
<p>Matrix to be plotted</p>
</td></tr>
<tr><td><code id="showMatrix3D_+3A_bestmatches">BestMatches</code></td>
<td>
<p>Positions of BestMatches to be plotted onto the matrix</p>
</td></tr>
<tr><td><code id="showMatrix3D_+3A_cls">Cls</code></td>
<td>
<p>Class identifier for the BestMatch at the given point</p>
</td></tr>
<tr><td><code id="showMatrix3D_+3A_imx">Imx</code></td>
<td>
<p>a mask (island) that will be used to cut out the Umatrix</p>
</td></tr>
<tr><td><code id="showMatrix3D_+3A_toroid">Toroid</code></td>
<td>
<p>Should the Matrix be drawn 4 times (in a toroid view)</p>
</td></tr>
<tr><td><code id="showMatrix3D_+3A_heightscale">HeightScale</code></td>
<td>
<p>Optional. Scaling Factor for Mountain Height</p>
</td></tr>
<tr><td><code id="showMatrix3D_+3A_bmsize">BmSize</code></td>
<td>
<p>Size of drawn BestMatches</p>
</td></tr>
<tr><td><code id="showMatrix3D_+3A_removeocean">RemoveOcean</code></td>
<td>
<p>Remove as much area sourrounding an island as possible</p>
</td></tr>
<tr><td><code id="showMatrix3D_+3A_colorstyle">ColorStyle</code></td>
<td>
<p>Either &quot;Umatrix&quot; or &quot;Pmatrix&quot; respectevily for their colors</p>
</td></tr>
<tr><td><code id="showMatrix3D_+3A_showaxis">ShowAxis</code></td>
<td>
<p>Draw an axis arround the drawn matrix</p>
</td></tr>
<tr><td><code id="showMatrix3D_+3A_smoothslope">SmoothSlope</code></td>
<td>
<p>Try to increase the island size, to get smooth slopes around the island</p>
</td></tr>
<tr><td><code id="showMatrix3D_+3A_clscolors">ClsColors</code></td>
<td>
<p>Vector of colors that will be used for classes</p>
</td></tr>
<tr><td><code id="showMatrix3D_+3A_filename">FileName</code></td>
<td>
<p>Name for a stl file to write the Matrix to</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The heightScale is set at the proportion of the 1 percent quantile against the 99 percent quantile of the Matrix values.
</p>


<h3>References</h3>

<p>Thrun, M. C., Lerch, F., Loetsch, J., Ultsch, A.: Visualization and 3D Printing of Multivariate Data of Biomarkers, in Skala, V. (Ed.), International Conference in Central Europe on Computer Graphics, Visualization and Computer Vision,Plzen, 2016.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
data("Hepta")
e = esomTrain(Hepta$Data, Key = 1:nrow(Hepta$Data))
showMatrix3D(e$Umatrix)

## End(Not run)</code></pre>

<hr>
<h2 id='umatrixForEsom'>umatrixForEsom</h2><span id='topic+umatrixForEsom'></span>

<h3>Description</h3>

<p>Calculate the Umatrix for given ESOM projection</p>


<h3>Arguments</h3>

<table>
<tr><td><code id="umatrixForEsom_+3A_weights">Weights</code></td>
<td>
<p>Weights from which the Umatrix will be calculated</p>
</td></tr>
<tr><td><code id="umatrixForEsom_+3A_lines">Lines</code></td>
<td>
<p>Number of lines of the SOM that is described by weights</p>
</td></tr>
<tr><td><code id="umatrixForEsom_+3A_columns">Columns</code></td>
<td>
<p>Number of columns of the SOM that is described by weights</p>
</td></tr>
<tr><td><code id="umatrixForEsom_+3A_toroid">Toroid</code></td>
<td>
<p>Boolean describing if the neural grid should be borderless</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Umatrix</p>


<h3>References</h3>

<p>Ultsch, A. and H.P. Siemon, Kohonen's Self Organizing Feature Maps for Exploratory Data Analysis. 1990.</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("Hepta")
e = esomTrain(Hepta$Data, Key = 1:nrow(Hepta$Data))
umatrix = umatrixForEsom(e$Weights,
                         Lines=e$Lines,
                         Columns=e$Columns,
                         Toroid=e$Toroid)
plotMatrix(umatrix,e$BestMatches)
</code></pre>

<hr>
<h2 id='ustarmatrixCalc'>ustarmatrixCalc</h2><span id='topic+ustarmatrixCalc'></span>

<h3>Description</h3>

<p>The UStarMatrix is a combination of the Umatrix (average distance to neighbours) and Pmatrix (density in a point). It can be used to improve the Umatrix, if the dataset contains density based structures.</p>


<h3>Arguments</h3>

<table>
<tr><td><code id="ustarmatrixCalc_+3A_umatrix">Umatrix</code></td>
<td>
<p>A given Umatrix</p>
</td></tr>
<tr><td><code id="ustarmatrixCalc_+3A_pmatrix">Pmatrix</code></td>
<td>
<p>A density matrix</p>
</td></tr>
</table>


<h3>Value</h3>

<p>UStarMatrix</p>


<h3>References</h3>

<p>Ultsch, A. U* C: Self-organized Clustering with Emergent Feature Maps. in Lernen, Wissensentdeckung und Adaptivitaet (LWA). 2005. Saarbruecken, Germany.</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("Hepta")
e = esomTrain(Hepta$Data, Key = 1:nrow(Hepta$Data))
Pmatrix = pmatrixForEsom(Hepta$Data,
                         e$Weights,
                         e$Lines,
                         e$Columns,
                          e$Toroid)
Ustarmatrix = ustarmatrixCalc(e$Umatrix, Pmatrix)
plotMatrix(Ustarmatrix, e$BestMatches)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

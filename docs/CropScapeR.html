<!DOCTYPE html><html><head><title>Help for package CropScapeR</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {CropScapeR}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#GetCDLComp'><p>Request data on land cover changes over time</p></a></li>
<li><a href='#GetCDLData'><p>Request the CDL data from the CropScape</p></a></li>
<li><a href='#GetCDLImage'><p>Request images of the CDL data</p></a></li>
<li><a href='#GetCDLStat'><p>Request summary statistics of the CDL data</p></a></li>
<li><a href='#linkdata'><p>A dataset documenting the correspondence between crop names and crop names for CDL</p></a></li>
<li><a href='#manualrotate'><p>Manual calculation of land cover changes</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Access Cropland Data Layer Data via the 'CropScape' Web Service</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1.5</td>
</tr>
<tr>
<td>Description:</td>
<td>Interface to easily access Cropland Data Layer (CDL) data for any area of interest via the 'CropScape' <a href="https://nassgeodata.gmu.edu/CropScape/">https://nassgeodata.gmu.edu/CropScape/</a> web service.  </td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.6.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr (&ge; 0.8.3), magrittr (&ge; 1.5), raster (&ge; 3.0), sf (&ge;
0.8), data.table (&ge; 1.12.8), httr (&ge; 1.4.1), RJSONIO (&ge;
1.3), utils (&ge; 3.6.1)</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-01-30 03:03:45 UTC; BC</td>
</tr>
<tr>
<td>Author:</td>
<td>Bowen Chen <a href="https://orcid.org/0000-0003-0370-2756"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre],
  Benjamin Gramig [ctb],
  Taro Mieno [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Bowen Chen &lt;bwchen0719@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-01-30 15:30:11 UTC</td>
</tr>
</table>
<hr>
<h2 id='GetCDLComp'>Request data on land cover changes over time</h2><span id='topic+GetCDLComp'></span>

<h3>Description</h3>

<p>A function that requests data on land cover changes over time from the CropScape. This function implements the GetCDLComp service provided by the CropScape <a href="https://nassgeodata.gmu.edu/CropScape">https://nassgeodata.gmu.edu/CropScape</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>GetCDLComp(
  aoi,
  year1,
  year2,
  type,
  mat = TRUE,
  crs = NULL,
  tol_time = 20,
  manual_try = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="GetCDLComp_+3A_aoi">aoi</code></td>
<td>
<p>Area of interest. Can be a 5-digit FIPS code of a county, 2-digit FIPS code of a state, four corner points or an sf object that defines a rectangle (or a box) area,
multiple coordinates that defines a polygon, or a URL of an compressed ESRI shapefile.</p>
</td></tr>
<tr><td><code id="GetCDLComp_+3A_year1">year1</code></td>
<td>
<p>Year 1. Should be a 4-digit numeric value.</p>
</td></tr>
<tr><td><code id="GetCDLComp_+3A_year2">year2</code></td>
<td>
<p>Year 2. Should be a 4-digit numeric value.</p>
</td></tr>
<tr><td><code id="GetCDLComp_+3A_type">type</code></td>
<td>
<p>Type of the selected AOI. 'f' for state or county, 'b' for box area, 'ps' for polygon, 's' for ESRI shapefile.</p>
</td></tr>
<tr><td><code id="GetCDLComp_+3A_mat">mat</code></td>
<td>
<p><code>TRUE</code>/<code>FALSE</code>. If <code>TRUE</code>, return a data frame. If <code>FALSE</code> (default), return a raster tif file.</p>
</td></tr>
<tr><td><code id="GetCDLComp_+3A_crs">crs</code></td>
<td>
<p>Coordinate system. <code>NULL</code> if use the default coordinate system (i.e., Albers projection); Use '+init=epsg:4326' for longitude/latitude.</p>
</td></tr>
<tr><td><code id="GetCDLComp_+3A_tol_time">tol_time</code></td>
<td>
<p>Number of seconds to wait for a response until giving up. Default is 20 seconds.</p>
</td></tr>
<tr><td><code id="GetCDLComp_+3A_manual_try">manual_try</code></td>
<td>
<p><code>True</code> (default) for trying calculating land cover changes using the <code>manualrotate</code> function. If <code>False</code>, no attempt is made.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Land cover changes are obtained by first merging two raster files in two different years (year1 and year 2) together based on the geographic coordinates, and then count
the number of pixels (or grids) by types of land cover changes, such as corn to soybeans. The process is done in the CropScape server (the default option) or inside the <code>GetDataComp</code> function.
</p>
<p>To obtain land cover chaneg data, the raster objects in two different years must have the same spatial resolutions and identical coordinates to be directly merged together.
The CropScape server does internal checks on this and would report an error if the two rasters cannot be directly merged together due to unequal spatial resolution or different
coordinates. However, the <code>GetCDLComp</code> function allows users to obtain land cover changes from two raster files that have different resolutions. This is achieved by resample the raster
data using the nearest neighbor resampling technique such that both rasters have the same resolutions (the finer resolution raster is downscaled to lower resolution).
Then, the resampled data are processed automatically to get data on land cover changes (this is done by using the <code>manualrotate</code> function).
This feature is useful when dealing with the rasters in 2006 and 2007, which are at 56-meter resolution. While the rasters in other years are at 30-meter resolution.
Also note that the resampling process will lead to sampling errors. Whenever the manual calculation of land cover changes is used, a warning message will show up to alert users.
If without warning, the data are directly from the CropScape GetCDLComp service.
</p>
<p>In rare cases, the CropScape server fails to generate land cover change data even without the issue of unequal spatial resolution. A common issue is mismatch in data sizes: the raster objects in two years
have different pixel numbers. It is unclear that why this would happen. Nevertheless, when there is data mismatch, the <code>GetCDLComp</code> function will attempt to calculate for land cover change
manually using the <code>manual_rotate</code> function. Data associated with the unmatched coordinates are
discarded at the merging process. Again, a warning message will show up to alert users if <code>manual_rotate</code> function is used. If no coordinates can be matched, the
<code>manual_rotate</code> function would also fail to get land cover change data. In this case, a warning message will show up to alert users.
</p>
<p>The usage of this function is similar to the <code>GetCDLData</code> function. Please see the help page of the <code>GetCDLData</code> function
for details. Note that the <code>aoi</code> cannot be a single point here.
</p>


<h3>Value</h3>

<p>The function returns a data table or a raster file.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Example 1. Retrieve data for the Champaign county in Illinois (FIPS = 17109) in 2017-2018.
data &lt;- GetCDLComp(aoi = '17019', year1 = 2017, year2 = 2018, type = 'f')
head(data, 5)

# Example 2. Retrieve data for a polygon (a triangle) defined by three coordinates in 2017-2018.
aoi &lt;- c(175207,2219600,175207,2235525,213693,2219600)
data &lt;- GetCDLComp(aoi = aoi, year1 = 2017, year2 = 2018, type = 'ps')
head(data, 5)

# Example 3. Retrieve data for a rectangle box defined by four corner points in 2018.
data &lt;- GetCDLComp(aoi = c(130783,2203171,153923,2217961), year1 = 2017, year2 = 2018, type = 'b')
head(data, 5)

</code></pre>

<hr>
<h2 id='GetCDLData'>Request the CDL data from the CropScape</h2><span id='topic+GetCDLData'></span>

<h3>Description</h3>

<p>A function that requests the CDL data for any Area of Interests (AOI) in a given year from the CropScape.
This function implements the GetCDLData service provided by the CropScape: <a href="https://nassgeodata.gmu.edu/CropScape">https://nassgeodata.gmu.edu/CropScape</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>GetCDLData(
  aoi = NULL,
  year = NULL,
  type = NULL,
  format = "raster",
  crs = NULL,
  tol_time = 20,
  save_path = NULL,
  readr = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="GetCDLData_+3A_aoi">aoi</code></td>
<td>
<p>Area of interest. Can be a 5-digit FIPS code of a county, 2-digit FIPS code of a state, four corner points or an sf object that defines a rectangle (or a box) area,
multiple coordinates that defines a polygon, a single coordinate that defines a point, or a URL of an compressed ESRI shapefile. See details.</p>
</td></tr>
<tr><td><code id="GetCDLData_+3A_year">year</code></td>
<td>
<p>Year of data. Should be a 4-digit numeric value.</p>
</td></tr>
<tr><td><code id="GetCDLData_+3A_type">type</code></td>
<td>
<p>Type of the selected AOI. 'f' for state or county, 'b' for box area, 'ps' for polygon, 'p' for a single coordinate, 's' for ESRI shapefile.</p>
</td></tr>
<tr><td><code id="GetCDLData_+3A_format">format</code></td>
<td>
<p>Format of the output. 'raster' for raster object, 'table' for a data table, and 'sf' for a sf object.</p>
</td></tr>
<tr><td><code id="GetCDLData_+3A_crs">crs</code></td>
<td>
<p>Coordinate system. <code>NULL</code> if use the default coordinate system (i.e., Albers projection); Use '+init=epsg:4326' for longitude/latitude.</p>
</td></tr>
<tr><td><code id="GetCDLData_+3A_tol_time">tol_time</code></td>
<td>
<p>Number of seconds to wait for a response until giving up. Default is 20 seconds.</p>
</td></tr>
<tr><td><code id="GetCDLData_+3A_save_path">save_path</code></td>
<td>
<p>Path (including the file name with the suffix: '.tif') to save the TIF file.
If a path is provided, the TIF file will be saved in the computer in the specified directory. Default: <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="GetCDLData_+3A_readr">readr</code></td>
<td>
<p>Read the raster data into R. Default is <code>TRUE</code>. If <code>FALSE</code>, only the tif file is saved at <code>save_path</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>GetCDLData</code> function implements the data request in two steps. First, the function sends data requests to the CropScape online server using the <code>GET</code> function
from the <code>httr</code> package. Second, the function reads the requested data into R using the <code>raster</code> function from the <code>raster</code> package. By default, the data
returned from the CropScape are in the raster-based GeoTIFF file format. Users can choose to save the raw GeoTIFF data into their local drives.
</p>
<p>Users should at least specify <code>aoi</code>, <code>year</code>, and <code>type</code> to make valid data requests. <code>aoi</code>, or area of interest, refers to the
area to make data request. An <code>aoi</code> can be a state/county defined by a 2-digit/5-digit FIPS code, a box defined by four corner points,
a polygon defined by multiple coordinates, a single point defined by a coordinate, or a custom area defined by an ESRI shapefile.
</p>
<p>If the type of <code>aoi</code> is a box, users should specify <code>aoi</code> as a numeric vector with four elements that represent corner points of the box.
The format of the box should be (minimum x, minimum y, maximum x, maximum y). For example, if latitude/longitude is used, users should specify the <code>aoi</code> as
(Lower longitude, Lower latitude, Higher longitude, Higher latitude). Note that for box type <code>aoi</code>, users can also
use a sf object as the input of <code>aoi</code>. In this case, the <code>GetCDLData</code> will automatically extract bounding box points from the sf object and then make data request. The sf object
must contain the crs information. If the type of <code>aoi</code> is a polygon, users should specify <code>aoi</code> as a
numeric vector with at least 6 elements (corresponding to multiple points). The format is (x1, y2, x2, y2, ..., xn, yn). The polygon can take any shape.
If the type of <code>aoi</code> is a custom area, users
must specify <code>aoi</code> as a URL of a compressed ESRI shapefile. The .shp, .shx, .dbf, and .prj files must all be compressed with no subdirectories in a single ZIP file.
In cases that the compressed shapefile is saved in the local disk, this shapefile needs to be published to a website URL. See more detailed instructions from here:
<a href="https://github.com/cbw1243/CropScapeR">https://github.com/cbw1243/CropScapeR</a>
</p>
<p>The <code>GetCDLData</code> function provides some additional functionalities that might benefit the users. First, it can recognize data requests made in any coordinate system.
The default coordinate system used by the CDL is a projected coordinate system called Albers projection (or Albers equal-area conic projection).
Users can specify an alternative coordinate system, such as latitude/longitude, by changing the <code>crs</code> value. As an exception, this functionality
is unavailable when the requested data type is 's' (a shapefile). This is because the zipped shapefile is directly sent to CropScape, and it cannot
be processed before sending the request. If a shapefile is used, users must ensure that the shapefile has the Albers projection system. Second, the <code>tol_time</code> argument specifies
the upper time limit for making the data request. This is useful particularly when the CropScape server has issues with responding to the data request (e.g., system maintenance).
It is possible that the CropScape server takes a long time before sending back a message saying that the data are not available. The default time limit is 20 seconds.
Third, users can choose to save the raster TIF file in their local disks when requesting the CDL data. This can be done simply by specifying a directory name
in <code>save_path</code>. In this case, <code>GetCDLData</code> will first save the data and then read the saved data into <code>R</code> using the <code>raster</code> function
from the <code>raster</code> package. For example, when letting <code>save_path</code> be 'C:/test.tif', the raster TIF file will be saved at the 'C' disk in the name of
'test.tif'. If <code>save_path</code> is <code>NULL</code> (default), the raster TIF file will not be saved but just read into the <code>R</code> environment through the <code>raster</code> function.
Forth, users can transform the raster data into a data table by letting <code>format</code> = 'table' or a sf object by letting <code>format</code> = 'sf'. The transformation into data table is done by using the
<code>as.data.frame</code> function from the <code>raster</code> package. The returned object would be a data table with the coordinates (first two columns) and
numeric codes of the land cover category (third column). The coordinates are centroids of the grid cells. The transformation into 'sf' is based on functions in the 'sf' package.
</p>
<p>The CDL website provides an EXCEL file that links the numeric codes with the land cover names.
Users can download the EXCEL file from this link <a href="https://www.nass.usda.gov/Research_and_Science/Cropland/docs/cdl_codes_names.xlsx">https://www.nass.usda.gov/Research_and_Science/Cropland/docs/cdl_codes_names.xlsx</a>.
Alternatively, users can also use <code>data(linkdata)</code> to get the data directly from this package.
Yet, be noted that <code>linkdata</code> saved in this package is not frequently updated.
</p>
<p>Mac users might encounter the error of 'SSL certificate expired', and this error can be avoided by skipping the SSL check.
Please visit the package website (<a href="https://github.com/cbw1243/CropScapeR">https://github.com/cbw1243/CropScapeR</a>) for details.
</p>


<h3>Value</h3>

<p>The function returns the requested CDL data for the aoi in a given year. Format of the returned object can be a raster, a data table, or a sf, depending on users' choice.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Example. Retrieve data for the Champaign county in Illinois (FIPS: 17109) in 2018.
data &lt;- GetCDLData(aoi = 17019, year = 2018, type = 'f')
data # can plot the data using raster::plot(data)

# Same request but also save the raster data as a TIF file.
# Note: A temporary file is created to save the data using the tempfile function
data &lt;- GetCDLData(aoi = 17019, year = 2018, type = 'f', save_path = tempfile(fileext = '.tif'))
data # can plot the data using raster::plot(data)

# Example. Retrieve data for the state of Delaware (fips: 44) in 2018.
data &lt;- GetCDLData(aoi = 44, year = 2018, type = 'f')
data # can plot the data using raster::plot(data)

# Example. Retrieve data for a box area defined by four corner points (long/lat)
data &lt;- GetCDLData(aoi = c(-88.2, 40.03, -88.1, 40.1), year = '2018', type = 'b',
crs = '+init=epsg:4326')
data # can plot the data using raster::plot(data)

# Example. Retrieve data for a polygon (triangle) area defined by three coordinates in 2018.
data &lt;- GetCDLData(aoi = c(175207,2219600,175207,2235525,213693,2219600), year = 2018, type = 'ps')
data # can plot the data using raster::plot(data)

# Example. Retrieve data for a box area defined by four corner points in 2018.
data &lt;- GetCDLData(aoi = c(130783,2203171,153923,2217961), year = '2018', type = 'b')
data # can plot the data using raster::plot(data)

# Example. Retrieve data for a single point by long/lat in 2018.
data &lt;- GetCDLData(aoi = c(-94.6754,42.1197), year = 2018, type = 'p', crs = '+init=epsg:4326')
data

# Below uses the same point, but under the default coordinate system
data &lt;- GetCDLData(aoi = c(108777,2125055), year = 2018, type = 'p')
data

# Visit the package webiste https://github.com/cbw1243/CropScapeR for more examples.


</code></pre>

<hr>
<h2 id='GetCDLImage'>Request images of the CDL data</h2><span id='topic+GetCDLImage'></span>

<h3>Description</h3>

<p>A function that requests images of the CDL data for an area of interests in a given year from the CropScape.
This function implements the GetCDLImage service provided by the CropScape <a href="https://nassgeodata.gmu.edu/CropScape">https://nassgeodata.gmu.edu/CropScape</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>GetCDLImage(
  aoi = NULL,
  year = NULL,
  type = NULL,
  format = "png",
  crs = NULL,
  destfile = NULL,
  verbose = TRUE,
  tol_time = 20
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="GetCDLImage_+3A_aoi">aoi</code></td>
<td>
<p>Area of interest. Can be a 5-digit FIPS code of a county, 2-digit FIPS code of a state, four corner points or an sf object that defines a rectangle (or a box) area,
multiple coordinates that defines a polygon, or a URL of an compressed ESRI shapefile.</p>
</td></tr>
<tr><td><code id="GetCDLImage_+3A_year">year</code></td>
<td>
<p>Year of data. Should be a 4-digit numeric value.</p>
</td></tr>
<tr><td><code id="GetCDLImage_+3A_type">type</code></td>
<td>
<p>Type of the selected AOI. 'f' for state or county, 'b' for box area, 'ps' for polygon, 's' for ESRI shapefile.</p>
</td></tr>
<tr><td><code id="GetCDLImage_+3A_format">format</code></td>
<td>
<p>Format of the image file. Can be png or kml.</p>
</td></tr>
<tr><td><code id="GetCDLImage_+3A_crs">crs</code></td>
<td>
<p>Coordinate system. <code>NULL</code> if use the default coordinate system (i.e., Albers projection); Use '+init=epsg:4326' for longitude/latitude.</p>
</td></tr>
<tr><td><code id="GetCDLImage_+3A_destfile">destfile</code></td>
<td>
<p>A character string that specifies the directory to save the downloaded image file (e.g., 'C:/image.png'). Note that
the name of the image file should be specified as well. If not providing <code>destfile</code>, the function will create a temporary folder to save the image file.</p>
</td></tr>
<tr><td><code id="GetCDLImage_+3A_verbose">verbose</code></td>
<td>
<p><code>TRUE</code>/<code>FALSE</code>. Display the directory saving the file or not.</p>
</td></tr>
<tr><td><code id="GetCDLImage_+3A_tol_time">tol_time</code></td>
<td>
<p>Number of seconds to wait for a response until giving up. Default is 20 seconds.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The usage of this function is similar to the <code>GetCDLData</code> function. Please see the help page of the <code>GetCDLData</code> function
for details. Note that the <code>aoi</code> cannot be a single point here.
</p>


<h3>Value</h3>

<p>The function downloads an image file in png or kml format to users' computer. This function is different to <code>GetCDLData</code> that returns a raster TIF file.
</p>

<hr>
<h2 id='GetCDLStat'>Request summary statistics of the CDL data</h2><span id='topic+GetCDLStat'></span>

<h3>Description</h3>

<p>A function that requests summary statistics of the CDL data for any Area of Interests (AOI) in a given year from the CropScape.
This function implements the GetCDLStat services provided by the CropScape <a href="https://nassgeodata.gmu.edu/CropScape">https://nassgeodata.gmu.edu/CropScape</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>GetCDLStat(aoi = NULL, year = NULL, type = NULL, crs = NULL, tol_time = 20)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="GetCDLStat_+3A_aoi">aoi</code></td>
<td>
<p>Area of interest. Can be a 5-digit FIPS code of a county, 2-digit FIPS code of a state, four corner points or an sf object that defines a rectangle (or a box) area,
multiple coordinates that defines a polygon, or a URL of an compressed ESRI shapefile.</p>
</td></tr>
<tr><td><code id="GetCDLStat_+3A_year">year</code></td>
<td>
<p>Year of data. Should be a 4-digit numeric value.</p>
</td></tr>
<tr><td><code id="GetCDLStat_+3A_type">type</code></td>
<td>
<p>Type of the selected AOI. 'f' for state or county, 'b' for box area, 'ps' for polygon, 's' for ESRI shapefile.</p>
</td></tr>
<tr><td><code id="GetCDLStat_+3A_crs">crs</code></td>
<td>
<p>Coordinate system. <code>NULL</code> if use the default coordinate system (i.e., Albers projection); Use '+init=epsg:4326' for longitude/latitude.</p>
</td></tr>
<tr><td><code id="GetCDLStat_+3A_tol_time">tol_time</code></td>
<td>
<p>Number of seconds to wait for a response until giving up. Default is 20 seconds.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The usage of this function is similar to the <code>GetCDLData</code> function. Please see the help page of the <code>GetCDLData</code> function
for details. Note that the <code>aoi</code> cannot be a single point here.
</p>


<h3>Value</h3>

<p>The function returns a data frame that reports summary statistics of the CDL data for an AOI in a given year.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Example 1. Retrieve data for the Champaign county in Illinois (FIPS = 17109) in 2018.
data &lt;- GetCDLStat(aoi = 17019, year = 2018, type = 'f')
head(data, n = 5) # Show top 5 rows of retrieved data

# Example 2. Retrieve data for a polygon (a triangle) defined by three points in 2018.
data &lt;- GetCDLStat(aoi = c(175207,2219600,175207,2235525,213693,2219600), year = 2018, type = 'ps')
head(data, n = 5)

# Example 3. Retrieve data for a rectangle box defined by three corner points in 2018.
data &lt;- GetCDLStat(aoi = c(130783,2203171,153923,2217961), year = '2018', type = 'b')
head(data, n = 5)

</code></pre>

<hr>
<h2 id='linkdata'>A dataset documenting the correspondence between crop names and crop names for CDL</h2><span id='topic+linkdata'></span>

<h3>Description</h3>

<p>A dataset documenting the correspondence between crop names and crop names for CDL
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(linkdata)
</code></pre>


<h3>Format</h3>

<p>An object of class <code>data.table</code> (inherits from <code>data.frame</code>) with 256 rows and 2 columns.
</p>


<h3>Source</h3>

<p><a href="https://www.nass.usda.gov/Research_and_Science/Cropland/docs/cdl_codes_names.xlsx">https://www.nass.usda.gov/Research_and_Science/Cropland/docs/cdl_codes_names.xlsx</a>
</p>

<hr>
<h2 id='manualrotate'>Manual calculation of land cover changes</h2><span id='topic+manualrotate'></span>

<h3>Description</h3>

<p>The <code>manualrotate</code> function analyzes land cover changes based on two raster files from the CropScape. The analysis is done in three steps.
At step 1, the two raster files are converted to data tables. At step 2, the two data tables are merged together based on their coordinates.
The coordinates without macthes are discarded during the merging process.
At step 3, the merged data are aggregated by counting the number of pixels for each land cover change group.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>manualrotate(datat1, datat2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="manualrotate_+3A_datat1">datat1</code></td>
<td>
<p>A raster file.</p>
</td></tr>
<tr><td><code id="manualrotate_+3A_datat2">datat2</code></td>
<td>
<p>A raster file.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The function returns a data frame.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

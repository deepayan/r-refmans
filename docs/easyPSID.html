<!DOCTYPE html><html lang="en"><head><title>Help for package easyPSID</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {easyPSID}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#easyPSID-package'><p>easyPSID: Reading, Formatting, and Organizing the Panel Study of Income Dynamics (PSID)</p></a></li>
<li><a href='#convert_from_rds'><p>Export PSID files to another statistical language</p></a></li>
<li><a href='#convert_to_rds'><p>Convert all PSID files from .txt format to .rds format</p></a></li>
<li><a href='#create_custom_panel'><p>Create custom longitudinal (panel) dataset with PSID Family Files</p></a></li>
<li><a href='#create_extract'><p>Create subset of common family file variables in long format</p></a></li>
<li><a href='#find_description'><p>Find description of PSID variable</p></a></li>
<li><a href='#find_name'><p>Lookup new longitudinal variables names</p></a></li>
<li><a href='#find_years'><p>Find years of PSID variable</p></a></li>
<li><a href='#rename_fam_vars'><p>Rename longitudinal Family File variables</p></a></li>
<li><a href='#rename_ind_vars'><p>Renames longitudinal Cross-year Individual variables and saves in long format</p></a></li>
<li><a href='#unzip_all_files'><p>Unzip all PSID files</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Reading, Formatting, and Organizing the Panel Study of Income
Dynamics (PSID)</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.2</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides various functions for reading and preparing the Panel Study of Income Dynamics (PSID) for longitudinal analysis, including functions that read the PSID's fixed width format files directly into R, rename all of the PSID's longitudinal variables so that recurring variables have consistent names across years, simplify assembling longitudinal datasets from cross sections of the PSID Family Files, and export the resulting PSID files into file formats common among other statistical programming languages ('SAS', 'STATA', and 'SPSS').</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.0.1), stringr (&ge; 1.0.0), LaF (&ge; 0.6.0), foreign (&ge;
0.8-67)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>false</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.1.0</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-10-03 14:44:33 UTC; bda13</td>
</tr>
<tr>
<td>Author:</td>
<td>Brian Aronson [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Brian Aronson &lt;bdaronson@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-10-03 15:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='easyPSID-package'>easyPSID: Reading, Formatting, and Organizing the Panel Study of Income Dynamics (PSID)</h2><span id='topic+easyPSID'></span><span id='topic+easyPSID-package'></span>

<h3>Description</h3>

<p>Provides various functions for reading and preparing the Panel Study of Income Dynamics (PSID) for longitudinal analysis, including functions that read the PSID's fixed width format files directly into R, rename all of the PSID's longitudinal variables so that recurring variables have consistent names across years, simplify assembling longitudinal datasets from cross sections of the PSID Family Files, and export the resulting PSID files into file formats common among other statistical programming languages ('SAS', 'STATA', and 'SPSS').
</p>


<h3>Details</h3>

<p>This package is designed for use with the PSID's packaged data Family Files, available at https://simba.isr.umich.edu/. See easyPSID's readme at https://github.com/BrianAronson/easyPSID/blob/master/README.md for a more detailed overview and guide for using this package.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Brian Aronson <a href="mailto:bdaronson@gmail.com">bdaronson@gmail.com</a>
</p>

<hr>
<h2 id='convert_from_rds'>Export PSID files to another statistical language</h2><span id='topic+convert_from_rds'></span>

<h3>Description</h3>

<p>Exports all .rds files in the chosen directory into a common file format used by one of three other statistical programming languages (SPSS, SAS, and STATA). Unlike most alternatives, this function retains all variable labels provided by the PSID.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convert_from_rds(language, in_direc, out_direc)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="convert_from_rds_+3A_language">language</code></td>
<td>
<p>Language to export PSID .rds files into (options include SPSS, SAS, and STATA)</p>
</td></tr>
<tr><td><code id="convert_from_rds_+3A_in_direc">in_direc</code></td>
<td>
<p>Directory of PSID .rds files to export. Note that large files can take a long time to export.</p>
</td></tr>
<tr><td><code id="convert_from_rds_+3A_out_direc">out_direc</code></td>
<td>
<p>Directory for exported files to be placed</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>convert_from_rds(
    language="STATA", 
    in_direc=system.file("extdata","rds_dir", package = "easyPSID"),
    out_direc=tempdir()
)
</code></pre>

<hr>
<h2 id='convert_to_rds'>Convert all PSID files from .txt format to .rds format</h2><span id='topic+convert_to_rds'></span>

<h3>Description</h3>

<p>Converts all PSID fixed width format .txt files in a selected directory into .rds format. Importantly, this function assumes that all files contained in the original PSID .zip files (especially those ending in .do) are present in the same directory as the PSID .txt files, and that all files within that directory have the same names as when first unzipped.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convert_to_rds(in_direc, out_direc)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="convert_to_rds_+3A_in_direc">in_direc</code></td>
<td>
<p>Directory containing unzipped PSID .txt and .do files</p>
</td></tr>
<tr><td><code id="convert_to_rds_+3A_out_direc">out_direc</code></td>
<td>
<p>Directory to place PSID .rds files into</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>convert_to_rds(
    in_direc=system.file("extdata","unzip_dir", package = "easyPSID"),
    out_direc=tempdir()
)
</code></pre>

<hr>
<h2 id='create_custom_panel'>Create custom longitudinal (panel) dataset with PSID Family Files</h2><span id='topic+create_custom_panel'></span>

<h3>Description</h3>

<p>Uses the longitudinal PSID Family Files to create a custom longitudinal dataset in long format based on all PSID .rds Family files in a selected directory.
</p>
<p>This function can work with data that has been renamed via the rename_fam_vars function or data just converted to .rds format via the convert_to_rds function. It will creates NAs for years when a given variable was not available, and creates a new variable (&quot;Year&quot;) to specify the panel of data included in the custom dataset. If a provided variable exists in other waves of the family files under a different name, all waves of that variable will be included in the resulting dataset.
</p>
<p>To create a longitudinal family file of the PSID with all variables in the PSID Family Files, it is recommended that one uses the create_extract function instead. However, such a file can be very large when using many waves of the PSID. Users with more than five waves of the PSID Family Files are highly recommended to avoid creating a longitudinal dataset with all unique Family File variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_custom_panel(var_names, in_direc, out_direc)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="create_custom_panel_+3A_var_names">var_names</code></td>
<td>
<p>Variable names to include in custom longitudinal dataset (as vector of strings)</p>
</td></tr>
<tr><td><code id="create_custom_panel_+3A_in_direc">in_direc</code></td>
<td>
<p>Directory of PSID .rds to use for custom longitudinal dataset</p>
</td></tr>
<tr><td><code id="create_custom_panel_+3A_out_direc">out_direc</code></td>
<td>
<p>Directory to place resulting longitudinal dataset into</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>create_custom_panel(
   var_names = c("V534", "V442", "V398"),
   in_direc=system.file("extdata","rds_dir", package = "easyPSID"),
   out_direc=tempdir()
)
</code></pre>

<hr>
<h2 id='create_extract'>Create subset of common family file variables in long format</h2><span id='topic+create_extract'></span>

<h3>Description</h3>

<p>Creates an extract dataset in long format consisting of the 500 most frequently reoccurring PSID Family Variables across all supplied waves of the PSID.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_extract(in_direc, out_direc, num_vars = 500, all_years = F)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="create_extract_+3A_in_direc">in_direc</code></td>
<td>
<p>Directory containing waves of the Family Files in .rds format</p>
</td></tr>
<tr><td><code id="create_extract_+3A_out_direc">out_direc</code></td>
<td>
<p>Directory to place export file into</p>
</td></tr>
<tr><td><code id="create_extract_+3A_num_vars">num_vars</code></td>
<td>
<p>Number of variables to include in export dataset (default = 500). High variable counts with many waves of data require a significant amount of RAM, and may cause this function to throw errors if a computer's RAM is insufficient</p>
</td></tr>
<tr><td><code id="create_extract_+3A_all_years">all_years</code></td>
<td>
<p>Select most common variables based on all years of the PSID rather than based in the data actually supplied</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>create_extract(
    in_direc=system.file("extdata","rds_dir", package = "easyPSID"),
    out_direc=tempdir(),
    num_vars=25,
)
</code></pre>

<hr>
<h2 id='find_description'>Find description of PSID variable</h2><span id='topic+find_description'></span>

<h3>Description</h3>

<p>Finds the descriptions of selected PSID variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find_description(variables)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="find_description_+3A_variables">variables</code></td>
<td>
<p>Variable names to look up (as individual string or vector of strings)</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>find_description(variables=c("V2","V30"))
</code></pre>

<hr>
<h2 id='find_name'>Lookup new longitudinal variables names</h2><span id='topic+find_name'></span>

<h3>Description</h3>

<p>Finds the new name of any longitudinal variable in the PSID Family Files or Individual files following implementation of the rename_fam_vars and rename_ind_vars functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find_name(variable, var_year = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="find_name_+3A_variable">variable</code></td>
<td>
<p>Variable to look up</p>
</td></tr>
<tr><td><code id="find_name_+3A_var_year">var_year</code></td>
<td>
<p>Report year when renamed variable first entered the PSID dataset (default=TRUE)</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>find_name(variable="V1244",var_year=FALSE)
</code></pre>

<hr>
<h2 id='find_years'>Find years of PSID variable</h2><span id='topic+find_years'></span>

<h3>Description</h3>

<p>Finds the years and corresponding variable names for any longitudinal PSID variable in the PSID Family Files and Individual file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find_years(variable, var_names = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="find_years_+3A_variable">variable</code></td>
<td>
<p>Variable name to look up</p>
</td></tr>
<tr><td><code id="find_years_+3A_var_names">var_names</code></td>
<td>
<p>Report names for longitudinal PSID variable across years (default=TRUE)</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>find_years(variable="V3",var_names=FALSE)
</code></pre>

<hr>
<h2 id='rename_fam_vars'>Rename longitudinal Family File variables</h2><span id='topic+rename_fam_vars'></span>

<h3>Description</h3>

<p>Renames all longitudinal variables in every PSID Family File of a given directory, such that variables are labeled with the variable name used when the variable was first made available in the PSID. For example, the &quot;Release Number&quot; variable was first recorded in the PSID dataset in 1968 as variable &quot;V1&quot; but its name in the 1969 family file is &quot;V441&quot;. This program changes the &quot;Release Number&quot; variable name to &quot;V1&quot; in 1968 and all subsequent waves.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rename_fam_vars(in_direc, out_direc)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rename_fam_vars_+3A_in_direc">in_direc</code></td>
<td>
<p>Directory of PSID .rds files to rename</p>
</td></tr>
<tr><td><code id="rename_fam_vars_+3A_out_direc">out_direc</code></td>
<td>
<p>Directory for renamed PSID .rds files to be saves to. Warning: If no directory specified, this function will overwrite the Family Files in the current directory.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>rename_fam_vars(
    in_direc=system.file("extdata","rds_dir", package = "easyPSID"),
    out_direc=tempdir()
)
</code></pre>

<hr>
<h2 id='rename_ind_vars'>Renames longitudinal Cross-year Individual variables and saves in long format</h2><span id='topic+rename_ind_vars'></span>

<h3>Description</h3>

<p>Renames all repeated variables in the Cross-year Individual file so that matching variables across waves have the same name, and transforms the resulting dataset into long format. The longitudinal file does not include rows for respondents who were missing in a given wave, and cross-sectional variables are marked as NA during waves when they were not asked. In addition, the resulting file adds two variables for ease of use: &quot;Year&quot; and &quot;fam_id_68&quot;. 
</p>
<p>This function may require up to 8gb of RAM, and will likely throw &quot;cannot allocate memory&quot; errors to users with less RAM on their computer. Users with memory issues should implement the &quot;only_long_vars&quot; or &quot;cust_vars&quot; options.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rename_ind_vars(in_direc, out_direc, only_long_vars = F,
  cust_vars = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rename_ind_vars_+3A_in_direc">in_direc</code></td>
<td>
<p>Directory of PSID Cross-year Individual file .rds file</p>
</td></tr>
<tr><td><code id="rename_ind_vars_+3A_out_direc">out_direc</code></td>
<td>
<p>Directory for renamed and transformed PSID Cross-year Individual file to be saved to</p>
</td></tr>
<tr><td><code id="rename_ind_vars_+3A_only_long_vars">only_long_vars</code></td>
<td>
<p>Keep only longitudinal variables in dataset</p>
</td></tr>
<tr><td><code id="rename_ind_vars_+3A_cust_vars">cust_vars</code></td>
<td>
<p>Custom variables to keep in dataset (as character vector). Output will always include &quot;ER30001&quot;, &quot;fam_id_68&quot;, and &quot;Year&quot;</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>rename_ind_vars(
   only_long_vars=TRUE, 
   in_direc=system.file("extdata","rds_dir", package = "easyPSID"),
   out_direc=tempdir()
)
</code></pre>

<hr>
<h2 id='unzip_all_files'>Unzip all PSID files</h2><span id='topic+unzip_all_files'></span>

<h3>Description</h3>

<p>Unzips all .zip_files files in the specified directory.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>unzip_all_files(in_direc, out_direc)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="unzip_all_files_+3A_in_direc">in_direc</code></td>
<td>
<p>Directory of .zip files to be unzipped</p>
</td></tr>
<tr><td><code id="unzip_all_files_+3A_out_direc">out_direc</code></td>
<td>
<p>Directory for unzipped PSID files to be placed</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>unzip_all_files(
    in_direc=system.file("extdata", "zip_dir", package = "easyPSID"),
    out_direc=tempdir()
)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

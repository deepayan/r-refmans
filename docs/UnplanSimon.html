<!DOCTYPE html><html lang="en"><head><title>Help for package UnplanSimon</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {UnplanSimon}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#ATS_Design'><p>Adaptive Threshold Simon	Design</p></a></li>
<li><a href='#ATSS_Design_Stage1'><p>Adaptive Threshold and Sample Size Simon Design Interim Analysis</p></a></li>
<li><a href='#ATSS_Design_Stage2'><p>Adaptive Threshold and Sample Size Simon Design Two Stages</p></a></li>
<li><a href='#SimonAnalysis'><p>Post-Trial Inference for ATS and ATSS Simon Designs</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Methods for Managing Enrollment Deviation in Simon's Two-Stage
Design</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Yunhe Liu &lt;yunhe.liu@tamu.edu&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Methods for managing under- and over-enrollment in Simon's Two-Stage Design are offered by providing adaptive threshold adjustments and sample size recalibration. It also includes post-inference analysis tools to support clinical trial design and evaluation. The package is designed to enhance flexibility and accuracy in trial design, ensuring better outcomes in oncology and other clinical studies. Yunhe Liu, Haitao Pan (2024). Submitted.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>Imports:</td>
<td>stats</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, clinfun (&ge; 3.0.0)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-10-24 15:10:03 UTC; iad</td>
</tr>
<tr>
<td>Author:</td>
<td>Yunhe Liu [aut, cre],
  Haitao Pan [aut]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-10-25 09:10:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='ATS_Design'>Adaptive Threshold Simon	Design</h2><span id='topic+ATS_Design'></span>

<h3>Description</h3>

<p>ATS_Design( ) provides an Adaptive Threshold Simon Design (ATS Simon) method
for Simonâ€™s two-stage design in oncology trials when the realized sample sizes
in the first stage and/or the second stage(s) are different from the planned
sample sizes in the first stage and/or the second stage(s). The Proposed ATS
Simon design aims to adhere to sample sizes of the original design, to that end,
this design updates the original thresholds of (r1, r) in the first and/or
the second stages to satisfy the type I error rate as the original planned
design (note: power will decrease if the realized sample size is smaller than
the original one).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ATS_Design(n1, n, n1_star, n_star, r1, r, p0, p1, alpha)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ATS_Design_+3A_n1">n1</code></td>
<td>
<p>The planned number of patients in stage 1</p>
</td></tr>
<tr><td><code id="ATS_Design_+3A_n">n</code></td>
<td>
<p>The planned number of patients in stages 1 and 2</p>
</td></tr>
<tr><td><code id="ATS_Design_+3A_n1_star">n1_star</code></td>
<td>
<p>The actual number of patients in stage 1</p>
</td></tr>
<tr><td><code id="ATS_Design_+3A_n_star">n_star</code></td>
<td>
<p>The actual total number of patients in stages 1 and 2</p>
</td></tr>
<tr><td><code id="ATS_Design_+3A_r1">r1</code></td>
<td>
<p>Original design threshold in stage 1</p>
</td></tr>
<tr><td><code id="ATS_Design_+3A_r">r</code></td>
<td>
<p>Original design threshold in stage 2</p>
</td></tr>
<tr><td><code id="ATS_Design_+3A_p0">p0</code></td>
<td>
<p>Unacceptable efficacy rate</p>
</td></tr>
<tr><td><code id="ATS_Design_+3A_p1">p1</code></td>
<td>
<p>Desirable efficacy rate</p>
</td></tr>
<tr><td><code id="ATS_Design_+3A_alpha">alpha</code></td>
<td>
<p>Original type-I error rate</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data frame includes the Adaptive Threshold Simon Design (ATS Simon)
first stage threshold r1*, second stage threshold r*, actual first stage
patients n1*, actual total sample sizes of the two stages patients n*, updated
type I error constraint alpha(n*), attained type-I error and Power, Average
sample size under null hypothesis EN(p0) and Probability of early termination
under null hypothesis PET(p0).
</p>


<h3>References</h3>

<p>Yunhe Liu, &amp; Haitao Pan. (2024). <em>Clinical Trial Design Methods
for Managing Under- and Over-Enrollment in Simon's Two-Stage Design, Submitted.</em>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Adaptive Threshold Simon Design Case 1
ATS_Design(19, 36, 17, 34, 3, 10, 0.20, 0.40, 0.1)
#                                 r1* r* n1* n* alpha(n*) Type I Power EN(p0) PET(p0)
# Adaptive Threshold Simon Design   3 10  17 34     0.091  0.059 0.847 24.669   0.549

# Adaptive Threshold Simon Design Case 2
ATS_Design(14, 44, 11, 41, 3, 14, 0.25, 0.45, 0.1)
#                                 r1* r* n1* n* alpha(n*) Type I Power EN(p0) PET(p0)
# Adaptive Threshold Simon Design   2 14  11 41     0.088   0.06 0.854 27.344   0.455

</code></pre>

<hr>
<h2 id='ATSS_Design_Stage1'>Adaptive Threshold and Sample Size Simon Design Interim Analysis</h2><span id='topic+ATSS_Design_Stage1'></span>

<h3>Description</h3>

<p>ATSS_Design_Stage1( ) provides an Adaptive Threshold and Sample Size Simon Design
(ATSS Simon) method for Simon's two stage design in oncology trials when the
realized sample sizes in the first stage is different from the planned sample
sizes in the first stage. When under-enrollment or over-enrollment occurs at
the first stage, we identify the design parameters (r1*, r*, n*) based
on the actual sample size n1* ar the first stage to satisfy the type I error
rate and power. In addition, the ATSS Simon design also satisfies the other
criteria as in the originally planned design, such as minimizing the average
sample size under the null hypothesis H0.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ATSS_Design_Stage1(p0, p1, n1_star, alpha, beta)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ATSS_Design_Stage1_+3A_p0">p0</code></td>
<td>
<p>Unacceptable efficacy rate</p>
</td></tr>
<tr><td><code id="ATSS_Design_Stage1_+3A_p1">p1</code></td>
<td>
<p>Desirable efficacy rate</p>
</td></tr>
<tr><td><code id="ATSS_Design_Stage1_+3A_n1_star">n1_star</code></td>
<td>
<p>The actual number of patients in stage 1</p>
</td></tr>
<tr><td><code id="ATSS_Design_Stage1_+3A_alpha">alpha</code></td>
<td>
<p>Original Type-I error rate</p>
</td></tr>
<tr><td><code id="ATSS_Design_Stage1_+3A_beta">beta</code></td>
<td>
<p>Original Type-II error rate</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data frame includes the Adaptive Threshold and Sample Simon Design
interim analysis' adjusted first stage threshold r1*, second stage threshold
r*, actual number of patients in the first stage n1*, new design planned two
stages' patients n*, attained Type-I error rate and Power, Average sample
size under null hypothesis EN(p0) and Probability of early termination
under null hypothesis PET(p0).
</p>


<h3>References</h3>

<p>Yunhe Liu, &amp; Haitao Pan. (2024). <em>Clinical Trial Design Methods
for Managing Under- and Over-Enrollment in Simon's Two-Stage Design, Submitted.</em>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Adaptive Threshold and Sample Size Simon Design interim analysis case 1
ATSS_Design_Stage1(0.05, 0.20, 20, 0.10, 0.10)
#                    r1* r* n1* n* Type I Power EN(p0) PET(p0)
# ATSS_Design_Stage1   1  3  20 35   0.08 0.901 23.962   0.736

# Adaptive Threshold and Sample Size Simon Design interim analysis case 2
ATSS_Design_Stage1(0.10, 0.30, 18, 0.10, 0.10)
#                    r1* r* n1* n* Type I Power EN(p0) PET(p0)
# ATSS_Design_Stage1   2  4  18 26  0.099 0.904  20.13   0.734

</code></pre>

<hr>
<h2 id='ATSS_Design_Stage2'>Adaptive Threshold and Sample Size Simon Design Two Stages</h2><span id='topic+ATSS_Design_Stage2'></span>

<h3>Description</h3>

<p>ATSS_Design_Stage2( ) provides an Adaptive Threshold and Sample Size Simon Design
(ATSS Simon) method for Simon's two stage design in oncology trials when the
realized sample sizes in the second stage is different from the planned
sample sizes in the second stage from interim analysis new design. Further
adjustment of the threshold at the second stage is needed. So, we update again
the second stage threshold r* to satisfy the type I error rate given
the interim analysis design first stage threshold r1* and actual two stages
sample sizes (n1*, n**).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ATSS_Design_Stage2(p0, p1, r1_star, n1_star, n_double_star, alpha)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ATSS_Design_Stage2_+3A_p0">p0</code></td>
<td>
<p>Unacceptable efficacy rate</p>
</td></tr>
<tr><td><code id="ATSS_Design_Stage2_+3A_p1">p1</code></td>
<td>
<p>Desirable efficacy rate</p>
</td></tr>
<tr><td><code id="ATSS_Design_Stage2_+3A_r1_star">r1_star</code></td>
<td>
<p>Interim analysis design threshold in stage 1</p>
</td></tr>
<tr><td><code id="ATSS_Design_Stage2_+3A_n1_star">n1_star</code></td>
<td>
<p>The actual number of patients in stage 1</p>
</td></tr>
<tr><td><code id="ATSS_Design_Stage2_+3A_n_double_star">n_double_star</code></td>
<td>
<p>The actual total number of patients in stages 1 and 2</p>
</td></tr>
<tr><td><code id="ATSS_Design_Stage2_+3A_alpha">alpha</code></td>
<td>
<p>Original Type-I error rate</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data frame includes the Adaptive Threshold and Sample Size Simon Design
interim analysis design adjusted first stage threshold r1*,
Adaptive Threshold and Sample Simon Design stage 2 new design adjusted second
stage threshold r*, actual number of patients in the first stage n1*,
actual total number of patients in stages 1 and 2 n**, attained Type-I error
and Power, Average sample size under null hypothesis EN(p0) and Probability
of early termination under null hypothesis PET(p0).
</p>


<h3>References</h3>

<p>Yunhe Liu, &amp; Haitao Pan. (2024). <em>Clinical Trial Design Methods
for Managing Under- and Over-Enrollment in Simon's Two-Stage Design, Submitted.</em>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Adaptive Threshold and Sample Size Simon Design two stages analysis case 1
ATSS_Design_Stage2(0.05, 0.20, 1, 20, 33, 0.10)
#                     r1* r* n1* n** Type I Power EN(p0) PET(p0)
# ATSS_Design_Stage2   1  3  20  33   0.07 0.888 23.434   0.736

# Adaptive Threshold and Sample Size Simon Design two stages analysis case 2
ATSS_Design_Stage2(0.10, 0.30, 2, 18, 24, 0.10)
#                   r1* r* n1* n** Type I Power EN(p0) PET(p0)
#ATSS_Design_Stage2   2  4  18  24   0.08 0.876 19.597   0.734

</code></pre>

<hr>
<h2 id='SimonAnalysis'>Post-Trial Inference for ATS and ATSS Simon Designs</h2><span id='topic+SimonAnalysis'></span>

<h3>Description</h3>

<p>SimonAnalysis( ) can be used to calculate the Uniformly minimum-variance
unbiased estimator (UMVUE), Confidence Intervals (Clopper-Pearson, Jung exact,
and Mid-<em>p</em>) and <em>p</em>-Value given the design parameters obtained
from the Adaptive Threshold Simon Design (ATS Simon) design and Adaptive
Threshold and Sample Simon Design (ATSS Simon) design using ATS_Design( ),
ATSS_Design_Stage1( ) and ATSS_Design_Stage2( ).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SimonAnalysis(m, s, n1, n2, r1, r, alpha, quantile, CI_option, p0)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="SimonAnalysis_+3A_m">m</code></td>
<td>
<p>Stopping stage of the ATS or ATSS Simon Designs</p>
</td></tr>
<tr><td><code id="SimonAnalysis_+3A_s">s</code></td>
<td>
<p>The number of responses observed in total</p>
</td></tr>
<tr><td><code id="SimonAnalysis_+3A_n1">n1</code></td>
<td>
<p>The actual number of patients in stage 1</p>
</td></tr>
<tr><td><code id="SimonAnalysis_+3A_n2">n2</code></td>
<td>
<p>The actual total number of patients in stages 1 and 2</p>
</td></tr>
<tr><td><code id="SimonAnalysis_+3A_r1">r1</code></td>
<td>
<p>The design threshold in stage 1</p>
</td></tr>
<tr><td><code id="SimonAnalysis_+3A_r">r</code></td>
<td>
<p>The design threshold in stage 2</p>
</td></tr>
<tr><td><code id="SimonAnalysis_+3A_alpha">alpha</code></td>
<td>
<p>Type-I error rate</p>
</td></tr>
<tr><td><code id="SimonAnalysis_+3A_quantile">quantile</code></td>
<td>
<p>Two tails probability of the confidence interval</p>
</td></tr>
<tr><td><code id="SimonAnalysis_+3A_ci_option">CI_option</code></td>
<td>
<p>The type of confidence interval, the character can be typed by
&quot;CP&quot;, &quot;Jung&quot; or &quot;MIDp&quot; corresponding to the Clopper-Pearson, Jung exact,
or Midp confidence intervals</p>
</td></tr>
<tr><td><code id="SimonAnalysis_+3A_p0">p0</code></td>
<td>
<p>Unacceptable efficacy rate</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data frame includes the Uniformly minimum-variance
unbiased estimator (UMVUE), chosen Confidence Interval and <em>p</em>-Value
</p>


<h3>References</h3>

<p>Jung, S. H., &amp; Kim, K. M. (2004).
<em>On the estimation of the binomial probability in multistage clinical
trials. Statistics in medicine, 23(6), 881-896</em>,
<a href="https://doi.org/10.1002/sim.1653">doi:10.1002/sim.1653</a>.<br />
Clopper, C. J., &amp; Pearson, E. S. (1934).
<em>The use of confidence or fiducial limits illustrated in the case of
the binomial. Biometrika, 26(4),404-413</em>,
<a href="https://doi.org/10.2307/2331986">doi:10.2307/2331986</a>.<br />
Porcher, R., &amp; Desseaux, K. (2012).
<em>What inference for two-stage phase II trials?. BMC medical research methodology, 12, 1-13</em>,
<a href="https://doi.org/10.1186/1471-2288-12-117">doi:10.1186/1471-2288-12-117</a>.<br />
Jung, S. H., Owzar, K., George, S. L., &amp; Lee, T. (2006).
<em>P-value calculation for multistage phase II cancer clinical trials. Journal of Biopharmaceutical Statistics, 16(6), 765-775</em>,
<a href="https://doi.org/10.1080/10543400600825645">doi:10.1080/10543400600825645</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Post-Trial inference for ATS or ATSS Simon Designs case 1
SimonAnalysis(2,7,13,30,3,12,0.05,c(0.025,0.975),"MIDp",0.40)
# Analysis Plan
#                      UMVUE CI(lower) CI(upper) p_Val
# Post-Trial Inference 0.322     0.108     0.538 0.831

# Post-Trial inference for ATS or ATSS Simon Designs case 2
SimonAnalysis(2,16,11,28,2,13,0.077,c(0.025,0.975),"Jung",0.25)
# Analysis Plan
#                     UMVUE CI(lower) CI(upper) p_Val
# Post-Trial Inference 0.429     0.257     0.568 0.019

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

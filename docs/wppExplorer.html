<!DOCTYPE html><html><head><title>Help for package wppExplorer</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {wppExplorer}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#iso3166'>
<p>ISO 3166 Dataset</p></a></li>
<li><a href='#set.wpp.year'>
<p>Edit/Retrieve WPP Year.</p></a></li>
<li><a href='#wpp.by.country'>
<p>Selection by Country and Year</p></a></li>
<li><a href='#wpp.explore'>
<p>Launching WPP Explorer</p></a></li>
<li><a href='#wpp.indicator'>
<p>Accessing a WPP Indicator</p></a></li>
<li><a href='#wppExplorer-package'>
<p>Explorer of the World Population Prospects</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Version:</td>
<td>2.3-4</td>
</tr>
<tr>
<td>Date:</td>
<td>2020-4-7</td>
</tr>
<tr>
<td>Title:</td>
<td>Explorer of World Population Prospects</td>
</tr>
<tr>
<td>Author:</td>
<td>Hana Sevcikova &lt;hanas@uw.edu&gt;</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Hana Sevcikova &lt;hanas@uw.edu&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>shiny (&ge; 0.13.0), shinythemes, shinyjs, plyr, reshape2,
googleVis, wpp2019, Hmisc, ggplot2, DT</td>
</tr>
<tr>
<td>Suggests:</td>
<td>wpp2017, wpp2015, wpp2012, wpp2010, testthat</td>
</tr>
<tr>
<td>Description:</td>
<td>Explore data in the 'wpp2019' (or 2017, 2015, ...) package using a 'shiny' interface.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> | file LICENSE</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-04-07 18:58:28 UTC; hana</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-04-09 09:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='iso3166'>
ISO 3166 Dataset
</h2><span id='topic+iso3166'></span><span id='topic+iso3166ud'></span>

<h3>Description</h3>

<p>Countries with their alpha-2, alpha-3 and numerical ISO3166-1 code. It includes aggregated regions with user-assigned codes. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>	data(iso3166)
	data(iso3166ud)
</code></pre>


<h3>Format</h3>

<p>A data frame containing 5 variables:
</p>

<dl>
<dt><code>name</code></dt><dd><p>Country name</p>
</dd>
<dt><code>charcode</code></dt><dd><p>alpha-2 code</p>
</dd>
<dt><code>charcode3</code></dt><dd><p>alpha-3 code</p>
</dd>
<dt><code>uncode</code></dt><dd><p>UN numeric code</p>
</dd>
<dt><code>is.country</code></dt><dd><p>Logical. It is <code>TRUE</code> for all countries included in the official ISO3166-1 dataset and <code>FALSE</code> for user-assigned codes, i.e. aggregations.</p>
</dd> 
</dl>



<h3>Details</h3>

<p>Dataset <code>iso3166</code> includes both, countries and aggregations; dataset <code>iso3166ud</code> includes aggregations only. 
</p>


<h3>References</h3>

<p><a href="https://www.iso.org/iso/home/standards/country_codes.htm">https://www.iso.org/iso/home/standards/country_codes.htm</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(iso3166)
</code></pre>

<hr>
<h2 id='set.wpp.year'>
Edit/Retrieve WPP Year.
</h2><span id='topic+set.wpp.year'></span><span id='topic+get.wpp.year'></span>

<h3>Description</h3>

<p>Change/get the WPP year which determines from which <span class="pkg">wpp</span> package data are retrieved.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set.wpp.year(wpp.year)

get.wpp.year()
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="set.wpp.year_+3A_wpp.year">wpp.year</code></td>
<td>
<p>Possible values are 2019 (default), 2017, 2015, 2012, and 2010.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>get.wpp.year</code> returns the wpp year used through out the package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>get.wpp.year() # by default the wpp2019 is used
set.wpp.year(2012) # any subsequent operations use the wpp2012 package
</code></pre>

<hr>
<h2 id='wpp.by.country'>
Selection by Country and Year
</h2><span id='topic+wpp.by.country'></span><span id='topic+wpp.by.countries'></span><span id='topic+wpp.by.year'></span>

<h3>Description</h3>

<p>Filtering indicators by given countries and year.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wpp.by.country(data, country)

wpp.by.countries(data, countries)

wpp.by.year(data, year)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="wpp.by.country_+3A_data">data</code></td>
<td>
<p>Data frame as returned by <code><a href="#topic+wpp.indicator">wpp.indicator</a></code>.</p>
</td></tr>
<tr><td><code id="wpp.by.country_+3A_country">country</code></td>
<td>
<p>alpha-2 ISO 3166 country code.</p>
</td></tr>
<tr><td><code id="wpp.by.country_+3A_countries">countries</code></td>
<td>
<p>Vector of alpha-2 ISO 3166 country codes.</p>
</td></tr>
<tr><td><code id="wpp.by.country_+3A_year">year</code></td>
<td>
<p>Year. For vital rates with 5-years time period, currently it is the end year of the time period.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame filtered by the input arguments.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+wpp.indicator">wpp.indicator</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tfr &lt;- wpp.indicator("fert")
tfr.germany.2010 &lt;- wpp.by.country(wpp.by.year(tfr, 2010), 'DE')
</code></pre>

<hr>
<h2 id='wpp.explore'>
Launching WPP Explorer
</h2><span id='topic+wpp.explore'></span>

<h3>Description</h3>

<p>Main function of the package. It opens an interactive (shiny) interface in a browser. To exit the browser view, hit the Escape key.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wpp.explore(wpp.year = NULL, host = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="wpp.explore_+3A_wpp.year">wpp.year</code></td>
<td>
<p>Determines which <span class="pkg">wpp</span> package is to be explored. Currently available are 2019 (default), 2017, 2015, 2012, and 2010.</p>
</td></tr>
<tr><td><code id="wpp.explore_+3A_host">host</code></td>
<td>
<p>Argument passed to <code><a href="shiny.html#topic+runApp">runApp</a></code>. Defaults to the <code>shiny.host</code> option, or <code>"0.0.0.0"</code> if not set.</p>
</td></tr>
<tr><td><code id="wpp.explore_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="shiny.html#topic+runApp">runApp</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The time slider in the left pane defines the year or time period for which data are shown. Note that for vital rates indicators, such as fertility, mortality, migration and sex ratio at birth, the time shown on the slider is the end year of the time period of the data shown in the right pane.
</p>
<p>The uncertainty selection is only used for indicators and years for which the corresponding lower and upper bounds are available, and for the appropriate visualization types. These are country plots that appear after clicking on the map, table in the &ldquo;Sortable Data&rdquo; tab, and &ldquo;Trends&rdquo; and &ldquo;Pyramids&rdquo;. The 80 and 95% intervals are available for the fertility, life expectancy and total population indicators; The +-1/2child intervals are available for the fertility and population indicators. 
</p>
<p>The ggplot-based graphs in the Trends and Pyramids tabs are interactive. One can see the data values by mouse hovering or single clicks. One can zoom in by selecting a region. Zooming out is done by a double click.  
</p>
<p>The interface can be accessed online: <a href="https://bayespop.shinyapps.io/wpp2019explorer/">https://bayespop.shinyapps.io/wpp2019explorer/</a>
</p>


<h3>Note</h3>

<p>If you have any troubles to see the data, please check that the <span class="pkg"><a href="shiny.html#topic+shiny-package">shiny</a></span> package is working in your environment. In particular, check that examples in <a href="http://rstudio.github.com/shiny/tutorial">http://rstudio.github.com/shiny/tutorial</a> work. On Windows, you might check this:
<a href="https://groups.google.com/forum/#!topic/shiny-discuss/tqeURyiPmFI">https://groups.google.com/forum/#!topic/shiny-discuss/tqeURyiPmFI</a>
</p>


<h3>Author(s)</h3>

<p>Hana Sevcikova, based on code from a Joe Cheng's shiny example. Used comments from Patrick Gerland.
</p>


<h3>See Also</h3>

<p><code><a href="wpp2019.html#topic+wpp2019-package">wpp2019</a></code>, <code><a href="#topic+wpp.indicator">wpp.indicator</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
wpp.explore()
## End(Not run)
</code></pre>

<hr>
<h2 id='wpp.indicator'>
Accessing a WPP Indicator
</h2><span id='topic+wpp.indicator'></span>

<h3>Description</h3>

<p>An interface for accessing a WPP indicator, where datasets with observed and predicted data are merged. The resulting data frame is in a &quot;melted&quot; format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wpp.indicator(what, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="wpp.indicator_+3A_what">what</code></td>
<td>
<p>Name of indicator. Possible values are:
</p>

<dl>
<dt>fert</dt><dd><p>Total fertililty rate. Merges datasets <code><a href="wpp2019.html#topic+tfr">tfr</a></code> and <code><a href="wpp2019.html#topic+tfr">tfrprojMed</a></code>.</p>
</dd> 
<dt>leF</dt><dd><p>Female life expectancy. Merges datasets <code><a href="wpp2019.html#topic+e0F">e0F</a></code> and <code><a href="wpp2019.html#topic+e0F">e0Fproj</a></code>.</p>
</dd>
<dt>leM</dt><dd><p>Male life expectancy. Merges datasets <code><a href="wpp2019.html#topic+e0M">e0M</a></code> and <code><a href="wpp2019.html#topic+e0M">e0Mproj</a></code>.</p>
</dd>
<dt>tpop</dt><dd><p>Total population. Uses datasets with age- and sex-specific population counts and agregates over sexes and ages.</p>
</dd>
<dt>tpopF</dt><dd><p>Total female population. Uses datasets <code><a href="wpp2019.html#topic+popF">popF</a></code> and <code><a href="wpp2019.html#topic+popF">popFprojMed</a></code> and aggregates over ages.</p>
</dd>
<dt>tpopM</dt><dd><p>Total male population. Uses datasets <code><a href="wpp2019.html#topic+popM">popM</a></code> and <code><a href="wpp2019.html#topic+popM">popMprojMed</a></code> and aggregates over ages.</p>
</dd>
<dt>mig</dt><dd><p>Total net migration. For <span class="pkg">wpp2019</span> and <span class="pkg">wpp2015</span>, the dataset <code><a href="wpp2019.html#topic+migration">migration</a></code> is used. For <span class="pkg">wpp2012</span> and <span class="pkg">wpp2010</span> it aggregates datasets <code><a href="wpp2012.html#topic+migrationF">migrationF</a></code> and <code><a href="wpp2012.html#topic+migrationM">migrationM</a></code> over ages.</p>
</dd>
<dt>migrate</dt><dd><p>Annual migration rate per thousand population. The denominator is approximated with the average population (<code class="reqn">(P_{t}+P_{t-1})/2</code>).</p>
</dd> 
<dt>popagesex</dt><dd><p>Population by sex and age. Uses datasets <code><a href="wpp2019.html#topic+popM">popM</a></code> and <code><a href="wpp2019.html#topic+popM">popMprojMed</a></code>. It requires two arguments in ..., namely <code>sexm=c("F", "M")</code> and <br /><code>agem=c("0-4", "5-9", ..., "95-99", "100+")</code>. The function aggregates population counts over the given sex and age groups.</p>
</dd>
<dt>mortagesex</dt><dd><p>Mortality by sex and age. Uses datasets <code><a href="wpp2019.html#topic+mxF">mxF</a></code> and <code><a href="wpp2019.html#topic+mxM">mxM</a></code>. It requires two atguments in ..., namely <code>sex</code> which is either &quot;F&quot; or &quot;M&quot;, and <code>age</code> which is one of (&quot;0&quot;, &quot;1&quot;, &quot;5&quot;, &quot;10&quot;, &quot;15&quot;, &quot;20&quot;, ... &quot;95&quot;, &quot;100+&quot;).</p>
</dd>
<dt>fertage</dt><dd><p>Age-specific fertility rate. Uses datasets <code><a href="wpp2019.html#topic+tfr">tfr</a></code> and <code><a href="wpp2019.html#topic+tfr">tfrprojMed</a></code> which are merged together and dataset <code><a href="wpp2019.html#topic+percentASFR">percentASFR</a></code> to derive age-specific rates. It requires one argument in ..., namely <code>age</code> which is one of (&quot;15-19&quot;, &quot;20-24&quot;, ..., &quot;45-49&quot;).</p>
</dd>
<dt>pfertage</dt><dd><p>Percent age-specific fertility. Corresponds to the dataset  <code><a href="wpp2019.html#topic+percentASFR">percentASFR</a></code>. Argument <code>agem</code> as defined above giving one or more age categories is required.</p>
</dd>
<dt>sexratio</dt><dd><p>Sex ratio at birth. Corresponds to the dataset <code><a href="wpp2019.html#topic+sexRatio">sexRatio</a></code>.</p>
</dd>
<dt>medage</dt><dd><p>Median age.</p>
</dd>
<dt>meanagechbear</dt><dd><p>Mean age at childbearing.</p>
</dd>
<dt>meanageinchbearage</dt><dd><p>Mean age of women in childbearing ages.</p>
</dd>
<dt>tdratio</dt><dd><p>Total dependency ratio. Ratio of population of age 0 to 14 and 65+ to population of age 15-64.</p>
</dd>
<dt>chdratio</dt><dd><p>Child dependency ratio. Ratio of population of age 0 to 14 to population of age 15-64.</p>
</dd>
<dt>oadratio</dt><dd><p>Old-age dependency ratio. Ratio of population of age 65+ to population of age 15-64.</p>
</dd>
<dt>psratio</dt><dd><p>Potential support ratio. Inverse of old-age dependency ratio.</p>
</dd>
<dt>popgrowth</dt><dd><p>Average annual population growth (<code class="reqn">log(P_t / P_{t-1})/5</code>).</p>
</dd>
<dt>fert.ci, leF.ci, leM.ci, tpop.ci, popagesex.ci</dt><dd><p>Lower or upper bound of the corresponding indicator. Requires argument <code>which.pi</code> which is one of &ldquo;80&rdquo;, &ldquo;95&rdquo;, &ldquo;half.child&rdquo;, and an argument <code>bound</code> which is
either &ldquo;low&rdquo; or &ldquo;high&rdquo;. Arguments <code>sexm</code> and <code>agem</code> (as defined above, but of length one) are required for popagesex.ci.</p>
</dd>
</dl>

</td></tr>
<tr><td><code id="wpp.indicator_+3A_...">...</code></td>
<td>
<p>Arguments passed to the underlying functions as described above.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data frame with columns <code>charcode</code> (alpha-2 ISO 3166 country code), <code>Year</code>, and <code>value</code>.</p>


<h3>Author(s)</h3>

<p>Hana Sevcikova
</p>


<h3>See Also</h3>

<p><code><a href="#topic+wpp.by.country">wpp.by.country</a></code>, <code><a href="#topic+wpp.by.year">wpp.by.year</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>	tfr &lt;- wpp.indicator("fert")
	## Not run: 
	# Histogram of TFR 
	print(qplot(value, data=tfr) + facet_wrap(~ Year))
## End(Not run)
	## Not run: 
	mxM01 &lt;- wpp.indicator("mortagesex", sex="M", age="0")
	# Plot map
	plot(gvisGeoMap(tfr, locationvar='charcode', numvar='value'))
## End(Not run)
</code></pre>

<hr>
<h2 id='wppExplorer-package'>
Explorer of the World Population Prospects
</h2><span id='topic+wppExplorer-package'></span><span id='topic+wppExplorer'></span>

<h3>Description</h3>

<p>Allows to interactively explore data from the World Population Prospects, contained in packages <span class="pkg">wpp2019</span>, <span class="pkg">wpp2017</span>, <span class="pkg">wpp2015</span>, <span class="pkg">wpp2012</span> and <span class="pkg">wpp2010</span>. It is based on the <span class="pkg">shiny</span> package.
</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> wppExplorer</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 2.3-4</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2020-4-7</td>
</tr>
<tr>
 <td style="text-align: left;">
Depends: </td><td style="text-align: left;"> R (&gt;= 3.0.0)</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL-3 | file LICENSE
</td>
</tr>

</table>

<p>The main function of the packge is <code><a href="#topic+wpp.explore">wpp.explore</a></code> which opens an interactive interface in a web browser. A few helper functions are available for a fast access to the (possibly filtered) data, e.g. <code><a href="#topic+wpp.indicator">wpp.indicator</a></code>.
</p>
<p>The interface can be also accessed online: <a href="https://bayespop.shinyapps.io/wpp2019explorer/">https://bayespop.shinyapps.io/wpp2019explorer/</a>
</p>


<h3>Author(s)</h3>

<p>Hana Sevcikova &lt;hanas@uw.edu&gt;, used code from a Joe Cheng's shiny example
</p>
<p>Maintainer: Hana Sevcikova &lt;hanas@uw.edu&gt;
</p>


<h3>Source</h3>

<p>The underlying datasets are based on estimates and projections of the United Nations, Department of Economic and Social Affairs, Population Division (2011, 2013, 2015, 2017, 2019). The probabilistic projections were produced with the method of Raftery et al. (2012).
</p>


<h3>References</h3>

<p>World Population Prospects: The 2019 Revision. (<a href="https://population.un.org/wpp/">https://population.un.org/wpp/</a>) Special Tabulations.
</p>
<p>A. E. Raftery,  N. Li, H. Sevcikova , P. Gerland, G. K. Heilig (2012). Bayesian probabilistic population projections for all countries. Proceedings of the National Academy of Sciences 109:13915-13921.
</p>
<p>P. Gerland, A. E. Raftery, H. Sevcikova, N. Li, D. Gu, T. Spoorenberg, L. Alkema, B. K. Fosdick, J. L. Chunn, N. Lalic, G. Bay, T. Buettner, G. K. Heilig,  J. Wilmoth (2014). World Population Stabilization Unlikely This Century. Science 346:234-237.
</p>


<h3>See Also</h3>

<p><code><a href="wpp2019.html#topic+wpp2019-package">wpp2019</a></code>, <code><a href="wpp2017.html#topic+wpp2017-package">wpp2017</a></code>, <code><a href="wpp2015.html#topic+wpp2015-package">wpp2015</a></code>, <code><a href="wpp2012.html#topic+wpp2012-package">wpp2012</a></code>, <code><a href="wpp2010.html#topic+wpp2010-package">wpp2010</a></code>, <code><a href="shiny.html#topic+shiny-package">shiny</a></code>, <code><a href="#topic+wpp.explore">wpp.explore</a></code>, <code><a href="#topic+wpp.indicator">wpp.indicator</a></code>
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

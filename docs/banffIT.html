<!DOCTYPE html><html lang="en-US"><head><title>Help for package banffIT</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {banffIT}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#add_diagnoses'><p>Add diagnoses to the input dataset</p></a></li>
<li><a href='#banff_dataset_evaluate'><p>Evaluates the format and content of the input dataset</p></a></li>
<li><a href='#banff_launcher'><p>Launch the program</p></a></li>
<li><a href='#banffIT_website'><p>Call the online documentation</p></a></li>
<li><a href='#calculate_adequacy'><p>Calculate adequacy of each biopsy from glomeruli and arteries variables</p></a></li>
<li><a href='#dataset_cat_as_labels'><p>Objects exported from other packages</p></a></li>
<li><a href='#dataset_summarize'><p>Objects exported from other packages</p></a></li>
<li><a href='#get_banff_dictionary'><p>Get the Banff data dictionary</p></a></li>
<li><a href='#get_banff_example'><p>Get a dataset example</p></a></li>
<li><a href='#get_banff_template'><p>Get a dataset template</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Automatize Diagnosis Standardized Assignation Using the Banff
Classification</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.0</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Guillaume Fabre &lt;guijoseph.fabre@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Assigns standardized diagnoses using the Banff Classification
    (Category 1 to 6 diagnoses, including Acute and Chronic active T-cell
    mediated rejection as well as Active, Chronic active, and Chronic antibody
    mediated rejection). The main function considers a minimal dataset
    containing biopsies information in a specific format (described by a data
    dictionary), verifies its content and format (based on the data dictionary),
    assigns diagnoses, and creates a summary report. The package is developed on
    the reference guide to the Banff classification of renal allograft pathology
    Roufosse C, Simmonds N, Clahsen-van Groningen M, et al. A (2018) &lt;<a href="https://doi.org/10.1097%2FTP.0000000000002366">doi:10.1097/TP.0000000000002366</a>&gt;.
    The full description of the Banff classification is available at <a href="https://banfffoundation.org/">https://banfffoundation.org/</a>.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.4)</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/PersonalizedTransplantCare/banffIT">https://github.com/PersonalizedTransplantCare/banffIT</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/PersonalizedTransplantCare/banffIT/issues">https://github.com/PersonalizedTransplantCare/banffIT/issues</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr (&ge; 1.1.0), rlang, tools, utils, crayon, stringr, fs,
lubridate, tidyr, fabR, madshapR</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, usethis</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-05-08 13:08:28 UTC; guill</td>
</tr>
<tr>
<td>Author:</td>
<td>Guillaume Fabre <a href="https://orcid.org/0000-0002-0124-9970"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Ruth Sapir-Pichhadze [fnd, cph, ctb],
  Samuel El Bouzaïdi Tiali [ctb],
  Jérôme Laforme [ctb],
  Tina Wey [ctb]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-05-08 14:00:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='add_diagnoses'>Add diagnoses to the input dataset</h2><span id='topic+add_diagnoses'></span>

<h3>Description</h3>

<p>This function takes a dataset and returns a diagnosis for each
observation. For the function to run, the dataset must not contain any errors
that <code><a href="#topic+banff_launcher">banff_launcher()</a></code> would have detected. Please prefer using
<code><a href="#topic+banff_launcher">banff_launcher()</a></code> to run additional tests.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_diagnoses(banff_dataset)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="add_diagnoses_+3A_banff_dataset">banff_dataset</code></td>
<td>
<p>A tibble object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble object that contains additional variables with the diagnoses results.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

banff_dataset &lt;- get_banff_template()
add_diagnoses(banff_dataset)

}

</code></pre>

<hr>
<h2 id='banff_dataset_evaluate'>Evaluates the format and content of the input dataset</h2><span id='topic+banff_dataset_evaluate'></span>

<h3>Description</h3>

<p>This function takes a dataset and evaluates its format and content based on
the accepted format specified in the data dictionary. It applies a series of
checks to make sure the dataset is ready to be processed by the
<code><a href="#topic+add_diagnoses">add_diagnoses()</a></code> function which assigns diagnoses to each observation of the
dataset. The function evaluates whether:
</p>

<ul>
<li><p> The input file is a dataset
</p>
</li>
<li><p> All mandatory variables are present in the dataset
</p>
</li>
<li><p> Missing values (NA) are present in variables where they are not allowed
</p>
</li>
<li><p> Data types are correct.
</p>
</li>
<li><p> The combination of ID, center, and biopsy date is unique
</p>
</li>
<li><p> There are duplicated variable in the dataset
</p>
</li>
<li><p> Dates are valid
</p>
</li>
<li><p> Content values follow the category values as specified in the data dictionary
</p>
</li>
<li><p> Constraints specified in the data dictionary are respected
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>banff_dataset_evaluate(banff_dataset)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="banff_dataset_evaluate_+3A_banff_dataset">banff_dataset</code></td>
<td>
<p>A tibble object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of tibble objects giving information on the assessment of the dataset.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

banff_dataset &lt;- get_banff_template()
banff_dataset_evaluate(banff_dataset)

}

</code></pre>

<hr>
<h2 id='banff_launcher'>Launch the program</h2><span id='topic+banff_launcher'></span>

<h3>Description</h3>

<p>This function takes a path string identifying the input file path. The
function internally runs a series of tests that assess the input dataset. If
any of these tests fails, the user gets information allowing them to correct
the input dataset and rerun the process. Once all tests pass, the dataset
is given as an output with a diagnosis for each observation (using the
function <code><a href="#topic+add_diagnoses">add_diagnoses()</a></code> internally). The output dataset, along with its
associated labels (<code>label:en</code> by default) are provided to the user in an Excel
format file accessible in the output_folder specified. The output dataset
comes with a report that summarizes information about variable distributions
and descriptive statistics.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>banff_launcher(
  input_file,
  output_folder,
  language = "label:en",
  option_filter,
  detail = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="banff_launcher_+3A_input_file">input_file</code></td>
<td>
<p>A character string identifying the path of the input file
(must be a CSV or a one sheet Excel file)
to be processed.</p>
</td></tr>
<tr><td><code id="banff_launcher_+3A_output_folder">output_folder</code></td>
<td>
<p>A character string identifying the folder path where
the output files will be saved.</p>
</td></tr>
<tr><td><code id="banff_launcher_+3A_language">language</code></td>
<td>
<p>Optional argument allowing the user to get the diagnoses in a
specific language. Options are &quot;label:en&quot; (default), &quot;label:fr&quot;, &quot;label:de&quot;,
&quot;label:sp&quot;, &quot;label:nl&quot;, &quot;label:jp&quot;, &quot;label:in&quot;.</p>
</td></tr>
<tr><td><code id="banff_launcher_+3A_option_filter">option_filter</code></td>
<td>
<p>Optional argument allowing the user to filter the
dataset using <code><a href="dplyr.html#topic+filter">dplyr::filter()</a></code> syntax. The variable used to filter must
exist.</p>
</td></tr>
<tr><td><code id="banff_launcher_+3A_detail">detail</code></td>
<td>
<p>Optional argument indicating whether the output should
include temporary variables generated in the process or not. FALSE by default.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Nothing to be returned. The function generates a folder (if not already
existing) where Excel files are stored.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

input_file &lt;- system.file("extdata", "banff_template.xlsx", package = "banffIT")
banff_launcher(input_file, output_folder = tempdir())

}

</code></pre>

<hr>
<h2 id='banffIT_website'>Call the online documentation</h2><span id='topic+banffIT_website'></span>

<h3>Description</h3>

<p>This function sends the user to the online documentation for the package,
which includes a description of the latest version of the package, vignettes,
user guides, and a reference list of functions and help pages.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>banffIT_website()
</code></pre>


<h3>Value</h3>

<p>Nothing to be returned. The function opens a web page.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

banffIT_website()

}

</code></pre>

<hr>
<h2 id='calculate_adequacy'>Calculate adequacy of each biopsy from glomeruli and arteries variables</h2><span id='topic+calculate_adequacy'></span>

<h3>Description</h3>

<p>This function calculates adequacy of each biopsy (i.e., each observation)
based on glomeruli and arteries variables (if provided).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calculate_adequacy(banff_dataset)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="calculate_adequacy_+3A_banff_dataset">banff_dataset</code></td>
<td>
<p>A tibble object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble object with two variables: the calculated adequacy
(adequacy_calculated) and the adequacy specified in input (adequacy_input).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

banff_dataset &lt;- get_banff_template()
calculate_adequacy(banff_dataset)

}

</code></pre>

<hr>
<h2 id='dataset_cat_as_labels'>Objects exported from other packages</h2><span id='topic+dataset_cat_as_labels'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>madshapR</dt><dd><p><code><a href="madshapR.html#topic+dataset_cat_as_labels">dataset_cat_as_labels</a></code></p>
</dd>
</dl>

<hr>
<h2 id='dataset_summarize'>Objects exported from other packages</h2><span id='topic+dataset_summarize'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>madshapR</dt><dd><p><code><a href="madshapR.html#topic+dataset_summarize">dataset_summarize</a></code></p>
</dd>
</dl>

<hr>
<h2 id='get_banff_dictionary'>Get the Banff data dictionary</h2><span id='topic+get_banff_dictionary'></span>

<h3>Description</h3>

<p>This function gets the data dictionary used to control the consistency of
the input dataset.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_banff_dictionary(which = NULL, language = "label:en", detail = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_banff_dictionary_+3A_which">which</code></td>
<td>
<p>Indicates which variables to get from the Banff data dictionary.
If NULL both input and output variables are provided.*</p>
</td></tr>
<tr><td><code id="get_banff_dictionary_+3A_language">language</code></td>
<td>
<p>Optional input allowing the user to get the diagnoses in a
specific language. Options are &quot;label:en&quot; (default), &quot;label:fr&quot;, &quot;label:de&quot;,
&quot;label:sp&quot;, &quot;label:nl&quot;, &quot;label:jp&quot;, &quot;label:in&quot;.</p>
</td></tr>
<tr><td><code id="get_banff_dictionary_+3A_detail">detail</code></td>
<td>
<p>Optional argument indicating whether the data dictionary should
include temporary variables generated in the process or not.
FALSE by default.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of tibbles representing meta data used in the process. The metadata
are the list of variables used, and their associated categories, if any.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

  get_banff_dictionary()

}

</code></pre>

<hr>
<h2 id='get_banff_example'>Get a dataset example</h2><span id='topic+get_banff_example'></span>

<h3>Description</h3>

<p>This function gets the dataset used in the vignette as an example.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_banff_example()
</code></pre>


<h3>Value</h3>

<p>A tibble representing the dataset used in the the vignette as an example.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

  get_banff_example()

}

</code></pre>

<hr>
<h2 id='get_banff_template'>Get a dataset template</h2><span id='topic+get_banff_template'></span>

<h3>Description</h3>

<p>This function gets the empty dataset with variables that are mandatory in the
process.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_banff_template()
</code></pre>


<h3>Value</h3>

<p>A tibble representing the empty dataset.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

  get_banff_template()

}

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

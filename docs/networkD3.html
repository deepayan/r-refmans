<!DOCTYPE html><html><head><title>Help for package networkD3</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {networkD3}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#networkD3-package'><p>Tools for Creating D3 Network Graphs from R</p></a></li>
<li><a href='#as.radialNetwork'><p>Convert an R hclust or dendrogram object into a radialNetwork list.</p></a></li>
<li><a href='#chordNetwork'><p>Create Reingold-Tilford Tree network diagrams.</p></a></li>
<li><a href='#chordNetworkOutput'><p>Shiny bindings for networkD3 widgets</p></a></li>
<li><a href='#dendroNetwork'><p>Create hierarchical cluster network diagrams.</p></a></li>
<li><a href='#diagonalNetwork'><p>Create Reingold-Tilford Tree network diagrams.</p></a></li>
<li><a href='#forceNetwork'><p>Create a D3 JavaScript force directed network graph.</p></a></li>
<li><a href='#igraph_to_networkD3'><p>Function to convert igraph graph to a list suitable for networkD3</p></a></li>
<li><a href='#JS'><p>Create character strings that will be evaluated as JavaScript</p></a></li>
<li><a href='#MisLinks'><p>Les Miserables character links</p></a></li>
<li><a href='#MisNodes'><p>Les Miserables character nodes</p></a></li>
<li><a href='#radialNetwork'><p>Create Reingold-Tilford Tree network diagrams.</p></a></li>
<li><a href='#sankeyNetwork'><p>Create a D3 JavaScript Sankey diagram</p></a></li>
<li><a href='#saveNetwork'><p>Save a network graph to an HTML file</p></a></li>
<li><a href='#SchoolsJournals'><p>Edge list of REF (2014) journal submissions for Politics and International</p>
Relations</a></li>
<li><a href='#simpleNetwork'><p>Function for creating simple D3 JavaScript force directed network graphs.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>D3 JavaScript Network Graphs from R</td>
</tr>
<tr>
<td>Description:</td>
<td>Creates 'D3' 'JavaScript' network, tree, dendrogram, and Sankey
    graphs from 'R'.</td>
</tr>
<tr>
<td>Version:</td>
<td>0.4</td>
</tr>
<tr>
<td>Date:</td>
<td>2017-03-18</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://CRAN.R-project.org/package=networkD3">https://CRAN.R-project.org/package=networkD3</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/christophergandrud/networkD3/issues">https://github.com/christophergandrud/networkD3/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>htmlwidgets (&ge; 0.3.2), igraph, magrittr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>htmltools (&ge; 0.2.6), jsonlite,</td>
</tr>
<tr>
<td>Enhances:</td>
<td>knitr, shiny</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.0.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2017-03-18 15:59:43 UTC; cgandrud</td>
</tr>
<tr>
<td>Author:</td>
<td>J.J. Allaire [aut],
  Peter Ellis [ctb],
  Christopher Gandrud [aut, cre],
  Kevin Kuo [ctb],
  B.W. Lewis [ctb],
  Jonathan Owen [ctb],
  Kenton Russell [aut],
  Jennifer Rogers [ctb],
  Charles Sese [ctb],
  CJ Yetman [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Christopher Gandrud &lt;christopher.gandrud@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2017-03-18 17:31:09 UTC</td>
</tr>
</table>
<hr>
<h2 id='networkD3-package'>Tools for Creating D3 Network Graphs from R</h2><span id='topic+networkD3-package'></span><span id='topic+networkD3'></span>

<h3>Description</h3>

<p>Creates D3 JavaScript network, tree, dendrogram, and Sankey graphs from R.
</p>

<hr>
<h2 id='as.radialNetwork'>Convert an R hclust or dendrogram object into a radialNetwork list.</h2><span id='topic+as.radialNetwork'></span>

<h3>Description</h3>

<p><code>as.radialNetwork</code> converts an R hclust or dendrogram object into a list
suitable for use by the <code>radialNetwork</code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.radialNetwork(d, root)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.radialNetwork_+3A_d">d</code></td>
<td>
<p>An object of R class <code>hclust</code> or <code>dendrogram</code>.</p>
</td></tr>
<tr><td><code id="as.radialNetwork_+3A_root">root</code></td>
<td>
<p>An optional name for the root node. If missing, use the first
argument variable name.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>as.radialNetwork</code> coverts R objects of class <code>hclust</code> or
<code>dendrogram</code> into a list suitable for use with the <code>radialNetwork</code>
function.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create a hierarchical cluster object and display with radialNetwork
## dontrun
hc &lt;- hclust(dist(USArrests), "ave")
radialNetwork(as.radialNetwork(hc))

</code></pre>

<hr>
<h2 id='chordNetwork'>Create Reingold-Tilford Tree network diagrams.</h2><span id='topic+chordNetwork'></span>

<h3>Description</h3>

<p>Create Reingold-Tilford Tree network diagrams.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>chordNetwork(Data, height = 500, width = 500, initialOpacity = 0.8,
  useTicks = 0, colourScale = c("#1f77b4", "#aec7e8", "#ff7f0e", "#ffbb78",
  "#2ca02c", "#98df8a", "#d62728", "#ff9896", "#9467bd", "#c5b0d5", "#8c564b",
  "#c49c94", "#e377c2", "#f7b6d2", "#7f7f7f", "#c7c7c7", "#bcbd22", "#dbdb8d",
  "#17becf", "#9edae5"), padding = 0.1, fontSize = 14,
  fontFamily = "sans-serif", labels = c(), labelDistance = 30)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="chordNetwork_+3A_data">Data</code></td>
<td>
<p>A square matrix or data frame whose (n, m) entry represents
the strength of the link from group n to group m</p>
</td></tr>
<tr><td><code id="chordNetwork_+3A_height">height</code></td>
<td>
<p>height for the network graph's frame area in pixels (if
<code>NULL</code> then height is automatically determined based on context)</p>
</td></tr>
<tr><td><code id="chordNetwork_+3A_width">width</code></td>
<td>
<p>numeric width for the network graph's frame area in pixels (if
<code>NULL</code> then width is automatically determined based on context)</p>
</td></tr>
<tr><td><code id="chordNetwork_+3A_initialopacity">initialOpacity</code></td>
<td>
<p>specify the opacity before the user mouses over 
the link</p>
</td></tr>
<tr><td><code id="chordNetwork_+3A_useticks">useTicks</code></td>
<td>
<p>integer number of ticks on the radial axis.
The default is '0' which means no ticks will be drawn.</p>
</td></tr>
<tr><td><code id="chordNetwork_+3A_colourscale">colourScale</code></td>
<td>
<p>specify the hexadecimal colours in which to display
the different categories. If there are fewer colours than categories,
the last colour is repeated as necessary (if <code>NULL</code> then defaults
to D3 colour scale)</p>
</td></tr>
<tr><td><code id="chordNetwork_+3A_padding">padding</code></td>
<td>
<p>specify the amount of space between adjacent categories
on the outside of the graph</p>
</td></tr>
<tr><td><code id="chordNetwork_+3A_fontsize">fontSize</code></td>
<td>
<p>numeric font size in pixels for the node text labels.</p>
</td></tr>
<tr><td><code id="chordNetwork_+3A_fontfamily">fontFamily</code></td>
<td>
<p>font family for the node text labels.</p>
</td></tr>
<tr><td><code id="chordNetwork_+3A_labels">labels</code></td>
<td>
<p>vector containing labels of the categories</p>
</td></tr>
<tr><td><code id="chordNetwork_+3A_labeldistance">labelDistance</code></td>
<td>
<p>integer distance in pixels (px) between
text labels and outer radius.  The default is '30'.</p>
</td></tr>
</table>


<h3>Source</h3>

<p>Mike Bostock: <a href="https://github.com/mbostock/d3/wiki/Chord-Layout">https://github.com/mbostock/d3/wiki/Chord-Layout</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
#### Data about hair colour preferences, from 
## https://github.com/mbostock/d3/wiki/Chord-Layout

hairColourData &lt;- matrix(c(11975,  1951,  8010, 1013,
                            5871, 10048, 16145,  990,
                            8916,  2060,  8090,  940,
                            2868,  6171,  8045, 6907),
                            nrow = 4)
                            
chordNetwork(Data = hairColourData, 
             width = 500, 
             height = 500,
             colourScale = c("#000000", 
                             "#FFDD89", 
                             "#957244", 
                             "#F26223"),
             labels = c("red", "brown", "blond", "gray"))


## End(Not run)

</code></pre>

<hr>
<h2 id='chordNetworkOutput'>Shiny bindings for networkD3 widgets</h2><span id='topic+chordNetworkOutput'></span><span id='topic+renderchordNetwork'></span><span id='topic+dendroNetworkOutput'></span><span id='topic+renderDendroNetwork'></span><span id='topic+diagonalNetworkOutput'></span><span id='topic+renderDiagonalNetwork'></span><span id='topic+forceNetworkOutput'></span><span id='topic+renderForceNetwork'></span><span id='topic+networkD3-shiny'></span><span id='topic+radialNetworkOutput'></span><span id='topic+renderRadialNetwork'></span><span id='topic+sankeyNetworkOutput'></span><span id='topic+renderSankeyNetwork'></span><span id='topic+simpleNetworkOutput'></span><span id='topic+renderSimpleNetwork'></span>

<h3>Description</h3>

<p>Output and render functions for using networkD3 widgets within Shiny
applications and interactive Rmd documents.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>chordNetworkOutput(outputId, width = "100%", height = "500px")

renderchordNetwork(expr, env = parent.frame(), quoted = FALSE)

dendroNetworkOutput(outputId, width = "100%", height = "800px")

renderDendroNetwork(expr, env = parent.frame(), quoted = FALSE)

diagonalNetworkOutput(outputId, width = "100%", height = "800px")

renderDiagonalNetwork(expr, env = parent.frame(), quoted = FALSE)

forceNetworkOutput(outputId, width = "100%", height = "500px")

renderForceNetwork(expr, env = parent.frame(), quoted = FALSE)

radialNetworkOutput(outputId, width = "100%", height = "800px")

renderRadialNetwork(expr, env = parent.frame(), quoted = FALSE)

sankeyNetworkOutput(outputId, width = "100%", height = "500px")

renderSankeyNetwork(expr, env = parent.frame(), quoted = FALSE)

simpleNetworkOutput(outputId, width = "100%", height = "500px")

renderSimpleNetwork(expr, env = parent.frame(), quoted = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="chordNetworkOutput_+3A_outputid">outputId</code></td>
<td>
<p>output variable to read from</p>
</td></tr>
<tr><td><code id="chordNetworkOutput_+3A_width">width</code>, <code id="chordNetworkOutput_+3A_height">height</code></td>
<td>
<p>Must be a valid CSS unit (like <code>"100%"</code>,
<code>"400px"</code>, <code>"auto"</code>) or a number, which will be coerced to a
string and have <code>"px"</code> appended.</p>
</td></tr>
<tr><td><code id="chordNetworkOutput_+3A_expr">expr</code></td>
<td>
<p>An expression that generates a networkD3 graph</p>
</td></tr>
<tr><td><code id="chordNetworkOutput_+3A_env">env</code></td>
<td>
<p>The environment in which to evaluate <code>expr</code>.</p>
</td></tr>
<tr><td><code id="chordNetworkOutput_+3A_quoted">quoted</code></td>
<td>
<p>Is <code>expr</code> a quoted expression (with <code>quote()</code>)? This
is useful if you want to save an expression in a variable.</p>
</td></tr>
</table>

<hr>
<h2 id='dendroNetwork'>Create hierarchical cluster network diagrams.</h2><span id='topic+dendroNetwork'></span>

<h3>Description</h3>

<p>Create hierarchical cluster network diagrams.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dendroNetwork(hc, height = 500, width = 800, fontSize = 10,
  linkColour = "#ccc", nodeColour = "#fff", nodeStroke = "steelblue",
  textColour = "#111", textOpacity = 0.9, textRotate = NULL,
  opacity = 0.9, margins = NULL, linkType = c("elbow", "diagonal"),
  treeOrientation = c("horizontal", "vertical"), zoom = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dendroNetwork_+3A_hc">hc</code></td>
<td>
<p>a hierarchical (<code>hclust</code>) cluster object.</p>
</td></tr>
<tr><td><code id="dendroNetwork_+3A_height">height</code></td>
<td>
<p>height for the network graph's frame area in pixels</p>
</td></tr>
<tr><td><code id="dendroNetwork_+3A_width">width</code></td>
<td>
<p>numeric width for the network graph's frame area in pixels</p>
</td></tr>
<tr><td><code id="dendroNetwork_+3A_fontsize">fontSize</code></td>
<td>
<p>numeric font size in pixels for the node text labels.</p>
</td></tr>
<tr><td><code id="dendroNetwork_+3A_linkcolour">linkColour</code></td>
<td>
<p>character string specifying the colour you want the link
lines to be. Multiple formats supported (e.g. hexadecimal).</p>
</td></tr>
<tr><td><code id="dendroNetwork_+3A_nodecolour">nodeColour</code></td>
<td>
<p>character string specifying the colour you want the node
circles to be. Multiple formats supported (e.g. hexadecimal).</p>
</td></tr>
<tr><td><code id="dendroNetwork_+3A_nodestroke">nodeStroke</code></td>
<td>
<p>character string specifying the colour you want the node
perimeter to be. Multiple formats supported (e.g. hexadecimal).</p>
</td></tr>
<tr><td><code id="dendroNetwork_+3A_textcolour">textColour</code></td>
<td>
<p>character vector or scalar specifying the colour you want
the text to be before they are clicked. Order should match the order of
<code>hclust$labels</code>. Multiple formats supported (e.g. hexadecimal).</p>
</td></tr>
<tr><td><code id="dendroNetwork_+3A_textopacity">textOpacity</code></td>
<td>
<p>numeric vector or scalar of the proportion opaque you
would like the text to be before they are clicked. rder should match the
order of <code>hclust$labels</code>.</p>
</td></tr>
<tr><td><code id="dendroNetwork_+3A_textrotate">textRotate</code></td>
<td>
<p>numeric degress to rotate text for node text. Default
is 0 for horizontal and 65 degrees for vertical.</p>
</td></tr>
<tr><td><code id="dendroNetwork_+3A_opacity">opacity</code></td>
<td>
<p>numeric value of the proportion opaque you would like the
graph elements to be.</p>
</td></tr>
<tr><td><code id="dendroNetwork_+3A_margins">margins</code></td>
<td>
<p>numeric value or named list of plot margins
(top, right, bottom, left). Set the margin appropriately to accomodate
long text labels.</p>
</td></tr>
<tr><td><code id="dendroNetwork_+3A_linktype">linkType</code></td>
<td>
<p>character specifying the link type between points. Options
are 'elbow' and 'diagonal'.</p>
</td></tr>
<tr><td><code id="dendroNetwork_+3A_treeorientation">treeOrientation</code></td>
<td>
<p>character specifying the tree orientation, Options
are 'vertical' and 'horizontal'.</p>
</td></tr>
<tr><td><code id="dendroNetwork_+3A_zoom">zoom</code></td>
<td>
<p>logical enabling plot zoom and pan</p>
</td></tr>
</table>


<h3>Source</h3>

<p>Mike Bostock: <a href="http://bl.ocks.org/mbostock/4063570">http://bl.ocks.org/mbostock/4063570</a>.
</p>
<p>Fabio Nelli: <a href="http://www.meccanismocomplesso.org/en/dendrogramma-d3-parte1/">http://www.meccanismocomplesso.org/en/dendrogramma-d3-parte1/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
hc &lt;- hclust(dist(USArrests), "ave")

dendroNetwork(hc, height = 600)
dendroNetwork(hc, treeOrientation = "vertical")

dendroNetwork(hc, height = 600, linkType = "diagonal")
dendroNetwork(hc, treeOrientation = "vertical", linkType = "diagonal")

dendroNetwork(hc, textColour = c("red", "green", "orange")[cutree(hc, 3)],
               height = 600)
dendroNetwork(hc, textColour = c("red", "green", "orange")[cutree(hc, 3)],
               treeOrientation = "vertical")

## End(Not run)

</code></pre>

<hr>
<h2 id='diagonalNetwork'>Create Reingold-Tilford Tree network diagrams.</h2><span id='topic+diagonalNetwork'></span>

<h3>Description</h3>

<p>Create Reingold-Tilford Tree network diagrams.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>diagonalNetwork(List, height = NULL, width = NULL, fontSize = 10,
  fontFamily = "serif", linkColour = "#ccc", nodeColour = "#fff",
  nodeStroke = "steelblue", textColour = "#111", opacity = 0.9,
  margin = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="diagonalNetwork_+3A_list">List</code></td>
<td>
<p>a hierarchical list object with a root node and children.</p>
</td></tr>
<tr><td><code id="diagonalNetwork_+3A_height">height</code></td>
<td>
<p>height for the network graph's frame area in pixels (if
<code>NULL</code> then height is automatically determined based on context)</p>
</td></tr>
<tr><td><code id="diagonalNetwork_+3A_width">width</code></td>
<td>
<p>numeric width for the network graph's frame area in pixels (if
<code>NULL</code> then width is automatically determined based on context)</p>
</td></tr>
<tr><td><code id="diagonalNetwork_+3A_fontsize">fontSize</code></td>
<td>
<p>numeric font size in pixels for the node text labels.</p>
</td></tr>
<tr><td><code id="diagonalNetwork_+3A_fontfamily">fontFamily</code></td>
<td>
<p>font family for the node text labels.</p>
</td></tr>
<tr><td><code id="diagonalNetwork_+3A_linkcolour">linkColour</code></td>
<td>
<p>character string specifying the colour you want the link
lines to be. Multiple formats supported (e.g. hexadecimal).</p>
</td></tr>
<tr><td><code id="diagonalNetwork_+3A_nodecolour">nodeColour</code></td>
<td>
<p>character string specifying the colour you want the node
circles to be. Multiple formats supported (e.g. hexadecimal).</p>
</td></tr>
<tr><td><code id="diagonalNetwork_+3A_nodestroke">nodeStroke</code></td>
<td>
<p>character string specifying the colour you want the node
perimeter to be. Multiple formats supported (e.g. hexadecimal).</p>
</td></tr>
<tr><td><code id="diagonalNetwork_+3A_textcolour">textColour</code></td>
<td>
<p>character string specifying the colour you want the text to
be before they are clicked. Multiple formats supported (e.g. hexadecimal).</p>
</td></tr>
<tr><td><code id="diagonalNetwork_+3A_opacity">opacity</code></td>
<td>
<p>numeric value of the proportion opaque you would like the
graph elements to be.</p>
</td></tr>
<tr><td><code id="diagonalNetwork_+3A_margin">margin</code></td>
<td>
<p>an integer or a named <code>list</code>/<code>vector</code> of integers
for the plot margins. If using a named <code>list</code>/<code>vector</code>,
the positions <code>top</code>, <code>right</code>, <code>bottom</code>, <code>left</code>
are valid.  If a single integer is provided, then the value will be
assigned to the right margin. Set the margin appropriately
to accomodate long text labels.</p>
</td></tr>
</table>


<h3>Source</h3>

<p>Reingold. E. M., and Tilford, J. S. (1981). Tidier Drawings of Trees.
IEEE Transactions on Software Engineering, SE-7(2), 223-228.
</p>
<p>Mike Bostock: <a href="http://bl.ocks.org/mbostock/4339083">http://bl.ocks.org/mbostock/4339083</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
#### Create tree from JSON formatted data
## Download JSON data
# Create URL. paste0 used purely to keep within line width.
URL &lt;- paste0("https://cdn.rawgit.com/christophergandrud/networkD3/",
              "master/JSONdata//flare.json")
              
## Convert to list format
Flare &lt;- jsonlite::fromJSON(URL, simplifyDataFrame = FALSE)

## Recreate Bostock example from http://bl.ocks.org/mbostock/4063550
diagonalNetwork(List = Flare, fontSize = 10, opacity = 0.9)

#### Create a tree dendrogram from an R hclust object
hc &lt;- hclust(dist(USArrests), "ave")
diagonalNetwork(as.radialNetwork(hc))
diagonalNetwork(as.radialNetwork(hc), fontFamily = "cursive")

#### Create tree from a hierarchical R list
For an alternative structure see: http://stackoverflow.com/a/30747323/1705044
CanadaPC &lt;- list(name = "Canada", children = list(list(name = "Newfoundland",
                    children = list(list(name = "St. John's"))),
               list(name = "PEI",
                    children = list(list(name = "Charlottetown"))),
               list(name = "Nova Scotia",
                    children = list(list(name = "Halifax"))),
               list(name = "New Brunswick",
                    children = list(list(name = "Fredericton"))),
               list(name = "Quebec",
                    children = list(list(name = "Montreal"),
                                    list(name = "Quebec City"))),
               list(name = "Ontario",
                    children = list(list(name = "Toronto"),
                                    list(name = "Ottawa"))),
               list(name = "Manitoba",
                    children = list(list(name = "Winnipeg"))),
               list(name = "Saskatchewan",
                    children = list(list(name = "Regina"))),
               list(name = "Nunavuet",
                    children = list(list(name = "Iqaluit"))),
               list(name = "NWT",
                    children = list(list(name = "Yellowknife"))),
               list(name = "Alberta",
                    children = list(list(name = "Edmonton"))),
               list(name = "British Columbia",
                    children = list(list(name = "Victoria"),
                                    list(name = "Vancouver"))),
               list(name = "Yukon",
                    children = list(list(name = "Whitehorse")))
))

diagonalNetwork(List = CanadaPC, fontSize = 10)

## End(Not run)

</code></pre>

<hr>
<h2 id='forceNetwork'>Create a D3 JavaScript force directed network graph.</h2><span id='topic+forceNetwork'></span>

<h3>Description</h3>

<p>Create a D3 JavaScript force directed network graph.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>forceNetwork(Links, Nodes, Source, Target, Value, NodeID, Nodesize, Group,
  height = NULL, width = NULL,
  colourScale = JS("d3.scaleOrdinal(d3.schemeCategory20);"), fontSize = 7,
  fontFamily = "serif", linkDistance = 50,
  linkWidth = JS("function(d) { return Math.sqrt(d.value); }"),
  radiusCalculation = JS(" Math.sqrt(d.nodesize)+6"), charge = -30,
  linkColour = "#666", opacity = 0.6, zoom = FALSE, legend = FALSE,
  arrows = FALSE, bounded = FALSE, opacityNoHover = 0,
  clickAction = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="forceNetwork_+3A_links">Links</code></td>
<td>
<p>a data frame object with the links between the nodes. It should
include the <code>Source</code> and <code>Target</code> for each link. These should be
numbered starting from 0. An optional <code>Value</code> variable can be included
to specify how close the nodes are to one another.</p>
</td></tr>
<tr><td><code id="forceNetwork_+3A_nodes">Nodes</code></td>
<td>
<p>a data frame containing the node id and properties of the nodes.
If no ID is specified then the nodes must be in the same order as the Source
variable column in the <code>Links</code> data frame. Currently only a grouping
variable is allowed.</p>
</td></tr>
<tr><td><code id="forceNetwork_+3A_source">Source</code></td>
<td>
<p>character string naming the network source variable in the
<code>Links</code> data frame.</p>
</td></tr>
<tr><td><code id="forceNetwork_+3A_target">Target</code></td>
<td>
<p>character string naming the network target variable in the
<code>Links</code> data frame.</p>
</td></tr>
<tr><td><code id="forceNetwork_+3A_value">Value</code></td>
<td>
<p>character string naming the variable in the <code>Links</code> data
frame for how wide the links are.</p>
</td></tr>
<tr><td><code id="forceNetwork_+3A_nodeid">NodeID</code></td>
<td>
<p>character string specifying the node IDs in the <code>Nodes</code>
data frame.</p>
</td></tr>
<tr><td><code id="forceNetwork_+3A_nodesize">Nodesize</code></td>
<td>
<p>character string specifying the a column in the <code>Nodes</code>
data frame with some value to vary the node radius's with. See also
<code>radiusCalculation</code>.</p>
</td></tr>
<tr><td><code id="forceNetwork_+3A_group">Group</code></td>
<td>
<p>character string specifying the group of each node in the
<code>Nodes</code> data frame.</p>
</td></tr>
<tr><td><code id="forceNetwork_+3A_height">height</code></td>
<td>
<p>numeric height for the network graph's frame area in pixels.</p>
</td></tr>
<tr><td><code id="forceNetwork_+3A_width">width</code></td>
<td>
<p>numeric width for the network graph's frame area in pixels.</p>
</td></tr>
<tr><td><code id="forceNetwork_+3A_colourscale">colourScale</code></td>
<td>
<p>character string specifying the categorical colour
scale for the nodes. See
<a href="https://github.com/d3/d3/blob/master/API.md#ordinal-scales">https://github.com/d3/d3/blob/master/API.md#ordinal-scales</a>.</p>
</td></tr>
<tr><td><code id="forceNetwork_+3A_fontsize">fontSize</code></td>
<td>
<p>numeric font size in pixels for the node text labels.</p>
</td></tr>
<tr><td><code id="forceNetwork_+3A_fontfamily">fontFamily</code></td>
<td>
<p>font family for the node text labels.</p>
</td></tr>
<tr><td><code id="forceNetwork_+3A_linkdistance">linkDistance</code></td>
<td>
<p>numeric or character string. Either numberic fixed
distance between the links in pixels (actually arbitrary relative to the
diagram's size). Or a JavaScript function, possibly to weight by
<code>Value</code>. For example:
<code>linkDistance = JS("function(d){return d.value * 10}")</code>.</p>
</td></tr>
<tr><td><code id="forceNetwork_+3A_linkwidth">linkWidth</code></td>
<td>
<p>numeric or character string. Can be a numeric fixed width in
pixels (arbitrary relative to the diagram's size). Or a JavaScript function,
possibly to weight by <code>Value</code>. The default is
<code>linkWidth = JS("function(d) { return Math.sqrt(d.value); }")</code>.</p>
</td></tr>
<tr><td><code id="forceNetwork_+3A_radiuscalculation">radiusCalculation</code></td>
<td>
<p>character string. A javascript mathematical
expression, to weight the radius by <code>Nodesize</code>. The default value is
<code>radiusCalculation = JS("Math.sqrt(d.nodesize)+6")</code>.</p>
</td></tr>
<tr><td><code id="forceNetwork_+3A_charge">charge</code></td>
<td>
<p>numeric value indicating either the strength of the node
repulsion (negative value) or attraction (positive value).</p>
</td></tr>
<tr><td><code id="forceNetwork_+3A_linkcolour">linkColour</code></td>
<td>
<p>character vector specifying the colour(s) you want the link
lines to be. Multiple formats supported (e.g. hexadecimal).</p>
</td></tr>
<tr><td><code id="forceNetwork_+3A_opacity">opacity</code></td>
<td>
<p>numeric value of the proportion opaque you would like the
graph elements to be.</p>
</td></tr>
<tr><td><code id="forceNetwork_+3A_zoom">zoom</code></td>
<td>
<p>logical value to enable (<code>TRUE</code>) or disable (<code>FALSE</code>)
zooming.</p>
</td></tr>
<tr><td><code id="forceNetwork_+3A_legend">legend</code></td>
<td>
<p>logical value to enable node colour legends.</p>
</td></tr>
<tr><td><code id="forceNetwork_+3A_arrows">arrows</code></td>
<td>
<p>logical value to enable directional link arrows.</p>
</td></tr>
<tr><td><code id="forceNetwork_+3A_bounded">bounded</code></td>
<td>
<p>logical value to enable (<code>TRUE</code>) or disable
(<code>FALSE</code>) the bounding box limiting the graph's extent. See
<a href="http://bl.ocks.org/mbostock/1129492">http://bl.ocks.org/mbostock/1129492</a>.</p>
</td></tr>
<tr><td><code id="forceNetwork_+3A_opacitynohover">opacityNoHover</code></td>
<td>
<p>numeric value of the opacity proportion for node labels
text when the mouse is not hovering over them.</p>
</td></tr>
<tr><td><code id="forceNetwork_+3A_clickaction">clickAction</code></td>
<td>
<p>character string with a JavaScript expression to evaluate
when a node is clicked.</p>
</td></tr>
</table>


<h3>Source</h3>

<p>D3.js was created by Michael Bostock. See <a href="http://d3js.org/">http://d3js.org/</a> and, more
specifically for force directed networks
<a href="https://github.com/d3/d3/blob/master/API.md#forces-d3-force">https://github.com/d3/d3/blob/master/API.md#forces-d3-force</a>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+JS">JS</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Load data
data(MisLinks)
data(MisNodes)
# Create graph
forceNetwork(Links = MisLinks, Nodes = MisNodes, Source = "source",
             Target = "target", Value = "value", NodeID = "name",
             Group = "group", opacity = 0.4, zoom = TRUE)

# Create graph with legend and varying node radius
forceNetwork(Links = MisLinks, Nodes = MisNodes, Source = "source",
             Target = "target", Value = "value", NodeID = "name",
             Nodesize = "size",
             radiusCalculation = "Math.sqrt(d.nodesize)+6",
             Group = "group", opacity = 0.4, legend = TRUE)

# Create graph directed arrows
forceNetwork(Links = MisLinks, Nodes = MisNodes, Source = "source",
             Target = "target", Value = "value", NodeID = "name",
             Group = "group", opacity = 0.4, arrows = TRUE)

## Not run: 
#### JSON Data Example
# Load data JSON formated data into two R data frames
# Create URL. paste0 used purely to keep within line width.
URL &lt;- paste0("https://cdn.rawgit.com/christophergandrud/networkD3/",
              "master/JSONdata/miserables.json")

MisJson &lt;- jsonlite::fromJSON(URL)

# Create graph
forceNetwork(Links = MisJson$links, Nodes = MisJson$nodes, Source = "source",
             Target = "target", Value = "value", NodeID = "name",
             Group = "group", opacity = 0.4)

# Create graph with zooming
forceNetwork(Links = MisJson$links, Nodes = MisJson$nodes, Source = "source",
             Target = "target", Value = "value", NodeID = "name",
             Group = "group", opacity = 0.4, zoom = TRUE)


# Create a bounded graph
forceNetwork(Links = MisJson$links, Nodes = MisJson$nodes, Source = "source",
             Target = "target", Value = "value", NodeID = "name",
             Group = "group", opacity = 0.4, bounded = TRUE)

# Create graph with node text faintly visible when no hovering
forceNetwork(Links = MisJson$links, Nodes = MisJson$nodes, Source = "source",
             Target = "target", Value = "value", NodeID = "name",
             Group = "group", opacity = 0.4, bounded = TRUE,
             opacityNoHover = TRUE)

## Specify colours for specific edges
# Find links to Valjean (11)
which(MisNodes == "Valjean", arr = TRUE)[1] - 1
ValjeanInds = which(MisLinks == 11, arr = TRUE)[, 1]

# Create a colour vector
ValjeanCols = ifelse(1:nrow(MisLinks) %in% ValjeanInds, "#bf3eff", "#666")

forceNetwork(Links = MisLinks, Nodes = MisNodes, Source = "source",
             Target = "target", Value = "value", NodeID = "name",
             Group = "group", opacity = 0.8, linkColour = ValjeanCols)


## Create graph with alert pop-up when a node is clicked.  You're
# unlikely to want to do exactly this, but you might use
# Shiny.onInputChange() to allocate d.XXX to an element of input
# for use in a Shiny app.

MyClickScript &lt;- 'alert("You clicked " + d.name + " which is in row " +
       (d.index + 1) +  " of your original R data frame");'

forceNetwork(Links = MisLinks, Nodes = MisNodes, Source = "source",
             Target = "target", Value = "value", NodeID = "name",
             Group = "group", opacity = 1, zoom = FALSE,
             bounded = TRUE, clickAction = MyClickScript)

## End(Not run)

</code></pre>

<hr>
<h2 id='igraph_to_networkD3'>Function to convert igraph graph to a list suitable for networkD3</h2><span id='topic+igraph_to_networkD3'></span>

<h3>Description</h3>

<p>Function to convert igraph graph to a list suitable for networkD3
</p>


<h3>Usage</h3>

<pre><code class='language-R'>igraph_to_networkD3(g, group, what = "both")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="igraph_to_networkD3_+3A_g">g</code></td>
<td>
<p>an <code>igraph</code> class graph object</p>
</td></tr>
<tr><td><code id="igraph_to_networkD3_+3A_group">group</code></td>
<td>
<p>an object that contains node group values, for example, those
created with igraph's <code><a href="igraph.html#topic+membership">membership</a></code> function.</p>
</td></tr>
<tr><td><code id="igraph_to_networkD3_+3A_what">what</code></td>
<td>
<p>a character string specifying what to return. If
<code>what = 'links'</code> or <code>what = 'nodes'</code> only the links or nodes are
returned as data frames, respectively. If <code>what = 'both'</code> then both
data frames will be return in a list.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of link and node data frames or only the link or node data
frames.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Load igraph
library(igraph)

# Use igraph to make the graph and find membership
karate &lt;- make_graph("Zachary")
wc &lt;- cluster_walktrap(karate)
members &lt;- membership(wc)

# Convert to object suitable for networkD3
karate_d3 &lt;- igraph_to_networkD3(karate, group = members)

# Create force directed network plot
forceNetwork(Links = karate_d3$links, Nodes = karate_d3$nodes,
             Source = 'source', Target = 'target', NodeID = 'name',
             Group = 'group')

## Not run: 
# Example with data from data frame
# Load data
## Original data from http://results.ref.ac.uk/DownloadSubmissions/ByUoa/21
data('SchoolsJournals')

# Convert to igraph
SchoolsJournals &lt;- graph.data.frame(SchoolsJournals, directed = FALSE)

# Remove duplicate edges
SchoolsJournals &lt;- simplify(SchoolsJournals)

# Find group membership
wt &lt;- cluster_walktrap(SchoolsJournals, steps = 6)
members &lt;- membership(wt)

# Convert igraph to list for networkD3
sj_list &lt;- igraph_to_networkD3(SchoolsJournals, group = members)

# Plot as a forceDirected Network
forceNetwork(Links = sj_list$links, Nodes = sj_list$nodes, Source = 'source',
             Target = 'target', NodeID = 'name', Group = 'group',
             zoom = TRUE, linkDistance = 200)

## End(Not run)

</code></pre>

<hr>
<h2 id='JS'>Create character strings that will be evaluated as JavaScript</h2><span id='topic+JS'></span>

<h3>Description</h3>

<p>Create character strings that will be evaluated as JavaScript
</p>


<h3>Usage</h3>

<pre><code class='language-R'>JS(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="JS_+3A_...">...</code></td>
<td>
<p>character string to evaluate</p>
</td></tr>
</table>


<h3>Source</h3>

<p>A direct import of <code>JS</code> from Ramnath Vaidyanathan, Yihui Xie,
JJ Allaire, Joe Cheng and Kenton Russell (2015). <a href="htmlwidgets.html#topic+htmlwidgets">htmlwidgets</a>: HTML
Widgets for R. R package version 0.4.
</p>

<hr>
<h2 id='MisLinks'>Les Miserables character links</h2><span id='topic+MisLinks'></span>

<h3>Description</h3>

<p>A data file of links from Knuth's Les Miserables characters data base.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>MisLinks
</code></pre>


<h3>Format</h3>

<p>A data set with 254 observations of 3 variables.</p>


<h3>Source</h3>

<p>See Mike Bostock <a href="http://bl.ocks.org/mbostock/4062045">http://bl.ocks.org/mbostock/4062045</a>.
</p>

<hr>
<h2 id='MisNodes'>Les Miserables character nodes</h2><span id='topic+MisNodes'></span>

<h3>Description</h3>

<p>A data file of nodes from Knuth's Les Miserables characters data base.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>MisNodes
</code></pre>


<h3>Format</h3>

<p>A data set with 77 observations of 2 variables, plus made up
node size variable.</p>


<h3>Source</h3>

<p>See Mike Bostock <a href="http://bl.ocks.org/mbostock/4062045">http://bl.ocks.org/mbostock/4062045</a>.
</p>

<hr>
<h2 id='radialNetwork'>Create Reingold-Tilford Tree network diagrams.</h2><span id='topic+radialNetwork'></span>

<h3>Description</h3>

<p>Create Reingold-Tilford Tree network diagrams.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>radialNetwork(List, height = NULL, width = NULL, fontSize = 10,
  fontFamily = "serif", linkColour = "#ccc", nodeColour = "#fff",
  nodeStroke = "steelblue", textColour = "#111", opacity = 0.9,
  margin = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="radialNetwork_+3A_list">List</code></td>
<td>
<p>a hierarchical list object with a root node and children.</p>
</td></tr>
<tr><td><code id="radialNetwork_+3A_height">height</code></td>
<td>
<p>height for the network graph's frame area in pixels (if
<code>NULL</code> then height is automatically determined based on context)</p>
</td></tr>
<tr><td><code id="radialNetwork_+3A_width">width</code></td>
<td>
<p>numeric width for the network graph's frame area in pixels (if
<code>NULL</code> then width is automatically determined based on context)</p>
</td></tr>
<tr><td><code id="radialNetwork_+3A_fontsize">fontSize</code></td>
<td>
<p>numeric font size in pixels for the node text labels.</p>
</td></tr>
<tr><td><code id="radialNetwork_+3A_fontfamily">fontFamily</code></td>
<td>
<p>font family for the node text labels.</p>
</td></tr>
<tr><td><code id="radialNetwork_+3A_linkcolour">linkColour</code></td>
<td>
<p>character string specifying the colour you want the link
lines to be. Multiple formats supported (e.g. hexadecimal).</p>
</td></tr>
<tr><td><code id="radialNetwork_+3A_nodecolour">nodeColour</code></td>
<td>
<p>character string specifying the colour you want the node
circles to be. Multiple formats supported (e.g. hexadecimal).</p>
</td></tr>
<tr><td><code id="radialNetwork_+3A_nodestroke">nodeStroke</code></td>
<td>
<p>character string specifying the colour you want the node
perimeter to be. Multiple formats supported (e.g. hexadecimal).</p>
</td></tr>
<tr><td><code id="radialNetwork_+3A_textcolour">textColour</code></td>
<td>
<p>character string specifying the colour you want the text to
be before they are clicked. Multiple formats supported (e.g. hexadecimal).</p>
</td></tr>
<tr><td><code id="radialNetwork_+3A_opacity">opacity</code></td>
<td>
<p>numeric value of the proportion opaque you would like the
graph elements to be.</p>
</td></tr>
<tr><td><code id="radialNetwork_+3A_margin">margin</code></td>
<td>
<p>an integer or a named <code>list</code>/<code>vector</code> of integers
for the plot margins. If using a named <code>list</code>/<code>vector</code>,
the positions <code>top</code>, <code>right</code>, <code>bottom</code>, <code>left</code>
are valid.  If a single integer is provided, then the value will be
assigned to the right margin. Set the margin appropriately
to accomodate long text labels.</p>
</td></tr>
</table>


<h3>Source</h3>

<p>Reingold. E. M., and Tilford, J. S. (1981). Tidier Drawings of Trees.
IEEE Transactions on Software Engineering, SE-7(2), 223-228.
</p>
<p>Mike Bostock: <a href="http://bl.ocks.org/mbostock/4063550">http://bl.ocks.org/mbostock/4063550</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
#### Create tree from JSON formatted data
## Download JSON data
# Create URL. paste0 used purely to keep within line width.
URL &lt;- paste0("https://cdn.rawgit.com/christophergandrud/networkD3/",
              "master/JSONdata//flare.json")
              
## Convert to list format
Flare &lt;- jsonlite::fromJSON(URL, simplifyDataFrame = FALSE)

## Recreate Bostock example from http://bl.ocks.org/mbostock/4063550
radialNetwork(List = Flare, fontSize = 10, opacity = 0.9)

#### Create a tree dendrogram from an R hclust object
hc &lt;- hclust(dist(USArrests), "ave")
radialNetwork(as.radialNetwork(hc))
radialNetwork(as.radialNetwork(hc), fontFamily = "cursive")

#### Create tree from a hierarchical R list
For an alternative structure see: http://stackoverflow.com/a/30747323/1705044
CanadaPC &lt;- list(name = "Canada", children = list(list(name = "Newfoundland",
                    children = list(list(name = "St. John's"))),
               list(name = "PEI",
                    children = list(list(name = "Charlottetown"))),
               list(name = "Nova Scotia",
                    children = list(list(name = "Halifax"))),
               list(name = "New Brunswick",
                    children = list(list(name = "Fredericton"))),
               list(name = "Quebec",
                    children = list(list(name = "Montreal"),
                                    list(name = "Quebec City"))),
               list(name = "Ontario",
                    children = list(list(name = "Toronto"),
                                    list(name = "Ottawa"))),
               list(name = "Manitoba",
                    children = list(list(name = "Winnipeg"))),
               list(name = "Saskatchewan",
                    children = list(list(name = "Regina"))),
               list(name = "Nunavuet",
                    children = list(list(name = "Iqaluit"))),
               list(name = "NWT",
                    children = list(list(name = "Yellowknife"))),
               list(name = "Alberta",
                    children = list(list(name = "Edmonton"))),
               list(name = "British Columbia",
                    children = list(list(name = "Victoria"),
                                    list(name = "Vancouver"))),
               list(name = "Yukon",
                    children = list(list(name = "Whitehorse")))
))

radialNetwork(List = CanadaPC, fontSize = 10)

## End(Not run)

</code></pre>

<hr>
<h2 id='sankeyNetwork'>Create a D3 JavaScript Sankey diagram</h2><span id='topic+sankeyNetwork'></span>

<h3>Description</h3>

<p>Create a D3 JavaScript Sankey diagram
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sankeyNetwork(Links, Nodes, Source, Target, Value, NodeID, NodeGroup = NodeID,
  LinkGroup = NULL, units = "",
  colourScale = JS("d3.scaleOrdinal(d3.schemeCategory20);"), fontSize = 7,
  fontFamily = NULL, nodeWidth = 15, nodePadding = 10, margin = NULL,
  height = NULL, width = NULL, iterations = 32, sinksRight = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sankeyNetwork_+3A_links">Links</code></td>
<td>
<p>a data frame object with the links between the nodes. It should
have include the <code>Source</code> and <code>Target</code> for each link. An optional
<code>Value</code> variable can be included to specify how close the nodes are to
one another.</p>
</td></tr>
<tr><td><code id="sankeyNetwork_+3A_nodes">Nodes</code></td>
<td>
<p>a data frame containing the node id and properties of the nodes.
If no ID is specified then the nodes must be in the same order as the
<code>Source</code> variable column in the <code>Links</code> data frame. Currently only
grouping variable is allowed.</p>
</td></tr>
<tr><td><code id="sankeyNetwork_+3A_source">Source</code></td>
<td>
<p>character string naming the network source variable in the
<code>Links</code> data frame.</p>
</td></tr>
<tr><td><code id="sankeyNetwork_+3A_target">Target</code></td>
<td>
<p>character string naming the network target variable in the
<code>Links</code> data frame.</p>
</td></tr>
<tr><td><code id="sankeyNetwork_+3A_value">Value</code></td>
<td>
<p>character string naming the variable in the <code>Links</code> data
frame for how far away the nodes are from one another.</p>
</td></tr>
<tr><td><code id="sankeyNetwork_+3A_nodeid">NodeID</code></td>
<td>
<p>character string specifying the node IDs in the <code>Nodes</code>.
data frame. Must be 0-indexed.</p>
</td></tr>
<tr><td><code id="sankeyNetwork_+3A_nodegroup">NodeGroup</code></td>
<td>
<p>character string specifying the node groups in the
<code>Nodes</code>. Used to color the nodes in the network.</p>
</td></tr>
<tr><td><code id="sankeyNetwork_+3A_linkgroup">LinkGroup</code></td>
<td>
<p>character string specifying the groups in the
<code>Links</code>. Used to color the links in the network.</p>
</td></tr>
<tr><td><code id="sankeyNetwork_+3A_units">units</code></td>
<td>
<p>character string describing physical units (if any) for Value</p>
</td></tr>
<tr><td><code id="sankeyNetwork_+3A_colourscale">colourScale</code></td>
<td>
<p>character string specifying the categorical colour
scale for the nodes. See
<a href="https://github.com/d3/d3/blob/master/API.md#ordinal-scales">https://github.com/d3/d3/blob/master/API.md#ordinal-scales</a>.</p>
</td></tr>
<tr><td><code id="sankeyNetwork_+3A_fontsize">fontSize</code></td>
<td>
<p>numeric font size in pixels for the node text labels.</p>
</td></tr>
<tr><td><code id="sankeyNetwork_+3A_fontfamily">fontFamily</code></td>
<td>
<p>font family for the node text labels.</p>
</td></tr>
<tr><td><code id="sankeyNetwork_+3A_nodewidth">nodeWidth</code></td>
<td>
<p>numeric width of each node.</p>
</td></tr>
<tr><td><code id="sankeyNetwork_+3A_nodepadding">nodePadding</code></td>
<td>
<p>numeric essentially influences the width height.</p>
</td></tr>
<tr><td><code id="sankeyNetwork_+3A_margin">margin</code></td>
<td>
<p>an integer or a named <code>list</code>/<code>vector</code> of integers
for the plot margins. If using a named <code>list</code>/<code>vector</code>,
the positions <code>top</code>, <code>right</code>, <code>bottom</code>, <code>left</code>
are valid.  If a single integer is provided, then the value will be
assigned to the right margin. Set the margin appropriately
to accomodate long text labels.</p>
</td></tr>
<tr><td><code id="sankeyNetwork_+3A_height">height</code></td>
<td>
<p>numeric height for the network graph's frame area in pixels.</p>
</td></tr>
<tr><td><code id="sankeyNetwork_+3A_width">width</code></td>
<td>
<p>numeric width for the network graph's frame area in pixels.</p>
</td></tr>
<tr><td><code id="sankeyNetwork_+3A_iterations">iterations</code></td>
<td>
<p>numeric. Number of iterations in the diagramm layout for
computation of the depth (y-position) of each node. Note: this runs in the
browser on the client so don't push it too high.</p>
</td></tr>
<tr><td><code id="sankeyNetwork_+3A_sinksright">sinksRight</code></td>
<td>
<p>boolean. If <code>TRUE</code>, the last nodes are moved to the
right border of the plot.</p>
</td></tr>
</table>


<h3>Source</h3>

<p>D3.js was created by Michael Bostock. See <a href="http://d3js.org/">http://d3js.org/</a> and, more
specifically for Sankey diagrams <a href="http://bost.ocks.org/mike/sankey/">http://bost.ocks.org/mike/sankey/</a>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+JS">JS</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Recreate Bostock Sankey diagram: http://bost.ocks.org/mike/sankey/
# Load energy projection data
URL &lt;- paste0('https://cdn.rawgit.com/christophergandrud/networkD3/',
              'master/JSONdata/energy.json')
energy &lt;- jsonlite::fromJSON(URL)

# Plot
sankeyNetwork(Links = energy$links, Nodes = energy$nodes, Source = 'source',
             Target = 'target', Value = 'value', NodeID = 'name',
             units = 'TWh', fontSize = 12, nodeWidth = 30)

# Colour links
energy$links$energy_type &lt;- sub(' .*', '',
                               energy$nodes[energy$links$source + 1, 'name'])

sankeyNetwork(Links = energy$links, Nodes = energy$nodes, Source = 'source',
             Target = 'target', Value = 'value', NodeID = 'name',
             LinkGroup = 'energy_type', NodeGroup = NULL)


## End(Not run)
</code></pre>

<hr>
<h2 id='saveNetwork'>Save a network graph to an HTML file</h2><span id='topic+saveNetwork'></span>

<h3>Description</h3>

<p>Save a networkD3 graph to an HTML file for sharing with others. The HTML can
include it's dependencies in an adjacent directory or can bundle all
dependencies into the HTML file (via base64 encoding).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>saveNetwork(network, file, selfcontained = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="saveNetwork_+3A_network">network</code></td>
<td>
<p>Network to save (e.g. result of calling the function
<code>simpleNetwork</code>).</p>
</td></tr>
<tr><td><code id="saveNetwork_+3A_file">file</code></td>
<td>
<p>File to save HTML into</p>
</td></tr>
<tr><td><code id="saveNetwork_+3A_selfcontained">selfcontained</code></td>
<td>
<p>Whether to save the HTML as a single self-contained file
(with external resources base64 encoded) or a file with external resources
placed in an adjacent directory.</p>
</td></tr>
</table>

<hr>
<h2 id='SchoolsJournals'>Edge list of REF (2014) journal submissions for Politics and International
Relations</h2><span id='topic+SchoolsJournals'></span>

<h3>Description</h3>

<p>Edge list of REF (2014) journal submissions for Politics and International
Relations
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SchoolsJournals
</code></pre>


<h3>Format</h3>

<p>A data set with 2732 rows and 3 variables.</p>


<h3>Source</h3>

<p>See REF 2014 <a href="http://results.ref.ac.uk/DownloadSubmissions/ByUoa/21">http://results.ref.ac.uk/DownloadSubmissions/ByUoa/21</a>.
</p>

<hr>
<h2 id='simpleNetwork'>Function for creating simple D3 JavaScript force directed network graphs.</h2><span id='topic+simpleNetwork'></span>

<h3>Description</h3>

<p><code>simpleNetwork</code> creates simple D3 JavaScript force directed network
graphs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simpleNetwork(Data, Source = 1, Target = 2, height = NULL, width = NULL,
  linkDistance = 50, charge = -30, fontSize = 7, fontFamily = "serif",
  linkColour = "#666", nodeColour = "#3182bd", opacity = 0.6, zoom = F)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simpleNetwork_+3A_data">Data</code></td>
<td>
<p>a data frame object with three columns. The first two are the
names of the linked units. The third records an edge value. (Currently the
third column doesn't affect the graph.)</p>
</td></tr>
<tr><td><code id="simpleNetwork_+3A_source">Source</code></td>
<td>
<p>character string naming the network source variable in the data
frame. If <code>Source = NULL</code> then the first column of the data frame is
treated as the source.</p>
</td></tr>
<tr><td><code id="simpleNetwork_+3A_target">Target</code></td>
<td>
<p>character string naming the network target variable in the data
frame. If <code>Target = NULL</code> then the second column of the data frame is
treated as the target.</p>
</td></tr>
<tr><td><code id="simpleNetwork_+3A_height">height</code></td>
<td>
<p>height for the network graph's frame area in pixels (if
<code>NULL</code> then height is automatically determined based on context)</p>
</td></tr>
<tr><td><code id="simpleNetwork_+3A_width">width</code></td>
<td>
<p>numeric width for the network graph's frame area in pixels (if
<code>NULL</code> then width is automatically determined based on context)</p>
</td></tr>
<tr><td><code id="simpleNetwork_+3A_linkdistance">linkDistance</code></td>
<td>
<p>numeric distance between the links in pixels (actually
arbitrary relative to the diagram's size).</p>
</td></tr>
<tr><td><code id="simpleNetwork_+3A_charge">charge</code></td>
<td>
<p>numeric value indicating either the strength of the node
repulsion (negative value) or attraction (positive value).</p>
</td></tr>
<tr><td><code id="simpleNetwork_+3A_fontsize">fontSize</code></td>
<td>
<p>numeric font size in pixels for the node text labels.</p>
</td></tr>
<tr><td><code id="simpleNetwork_+3A_fontfamily">fontFamily</code></td>
<td>
<p>font family for the node text labels.</p>
</td></tr>
<tr><td><code id="simpleNetwork_+3A_linkcolour">linkColour</code></td>
<td>
<p>character string specifying the colour you want the link
lines to be. Multiple formats supported (e.g. hexadecimal).</p>
</td></tr>
<tr><td><code id="simpleNetwork_+3A_nodecolour">nodeColour</code></td>
<td>
<p>character string specifying the colour you want the node
circles to be. Multiple formats supported (e.g. hexadecimal).</p>
</td></tr>
<tr><td><code id="simpleNetwork_+3A_opacity">opacity</code></td>
<td>
<p>numeric value of the proportion opaque you would like the
graph elements to be.</p>
</td></tr>
<tr><td><code id="simpleNetwork_+3A_zoom">zoom</code></td>
<td>
<p>logical value to enable (<code>TRUE</code>) or disable (<code>FALSE</code>)
zooming</p>
</td></tr>
</table>


<h3>Source</h3>

<p>D3.js was created by Michael Bostock. See <a href="http://d3js.org/">http://d3js.org/</a> and,
more specifically for directed networks
<a href="https://github.com/d3/d3/blob/master/API.md#forces-d3-force">https://github.com/d3/d3/blob/master/API.md#forces-d3-force</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Fake data
Source &lt;- c("A", "A", "A", "A", "B", "B", "C", "C", "D")
Target &lt;- c("B", "C", "D", "J", "E", "F", "G", "H", "I")
NetworkData &lt;- data.frame(Source, Target)

# Create graph
simpleNetwork(NetworkData)
simpleNetwork(NetworkData, fontFamily = "sans-serif")

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

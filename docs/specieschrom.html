<!DOCTYPE html><html><head><title>Help for package specieschrom</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {specieschrom}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#chromato_env16'><p>Display the multidimensional ecological niche of a species with a species chromatogram.</p></a></li>
<li><a href='#combina_niche3'><p>Estimate the degree of niche overlapping among species from their chromatograms.</p></a></li>
<li><a href='#data_abundance'><p>Abundance of 14 pseudo-species.</p>
A dataset containing the abundance values of 14 pseudo-species in 100
samples. The environmental conditions associated with each samples are
described in the environment dataset. Pseudo-species v1 and v2, v3 and v4,
v5 and v6, v7 and v8, v9 and v10, v11 and v12, v13 and v14 have the same
niche.</a></li>
<li><a href='#environment'><p>Three fictive environmental variables</p>
A dataset containing the values of three fictive envionemental variables
in 100 samples. The corresponding pseudo-species abundance in each sample
are available in the data_abundance dataset.</a></li>
<li><a href='#moymob1'><p>m order simple moving average.</p></a></li>
<li><a href='#nanmean4'><p>Mean of the n highest values of a vector.</p></a></li>
<li><a href='#niche_difer_sp'><p>Nested function for niche overlapping estimation with 'combina_niche3.R'.</p></a></li>
<li><a href='#niche_difer2'><p>Nested function for niche overlapping estimation with 'combina_niche3.R' and 'niche_differ_sp.R'.</p></a></li>
<li><a href='#opti_eury_niche2'><p>Optimums and amplitudes estimations along each niche dimension.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>The Species Chromatogram</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.0</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Loick Kleparski &lt;loick.kleparski@hotmail.fr&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>A simple method to display and characterise the multidimensional ecological niche of a species. The method also estimates the optimums and amplitudes along each niche dimension. Give also an estimation of the degree of niche overlapping between species. See Kleparski and Beaugrand (2022) &lt;<a href="https://doi.org/10.1002%2Fece3.8830">doi:10.1002/ece3.8830</a>&gt; for further details. </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.1</td>
</tr>
<tr>
<td>Imports:</td>
<td>colorRamps, ggplot2, reshape2, utils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>rmarkdown, knitr, abind</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/loick-klpr/specieschrom">https://github.com/loick-klpr/specieschrom</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/loick-klpr/specieschrom/issues">https://github.com/loick-klpr/specieschrom/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-10-14 17:43:14 UTC; moi</td>
</tr>
<tr>
<td>Author:</td>
<td>Loick Kleparski <a href="https://orcid.org/0000-0002-7536-2941"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Gregory Beaugrand <a href="https://orcid.org/0000-0002-0712-5223"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Universite Littoral Cote d'Opale (ULCO) [cph]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-10-17 09:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='chromato_env16'>Display the multidimensional ecological niche of a species with a species chromatogram.</h2><span id='topic+chromato_env16'></span>

<h3>Description</h3>

<p>Display the multidimensional ecological niche of a species as an array of coloured cells (alpha categories by p environmental variables).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>chromato_env16(z, y, alpha, m, k, order_smth)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="chromato_env16_+3A_z">z</code></td>
<td>
<p>a matrix with n samples by p environmental variables (i.e. the value of each environmental variable in each sample)</p>
</td></tr>
<tr><td><code id="chromato_env16_+3A_y">y</code></td>
<td>
<p>a vector with the abundance of a species in the n samples</p>
</td></tr>
<tr><td><code id="chromato_env16_+3A_alpha">alpha</code></td>
<td>
<p>an integer corresponding to the number of category along each environmental variable</p>
</td></tr>
<tr><td><code id="chromato_env16_+3A_m">m</code></td>
<td>
<p>an integer corresponding to the lowest number of samples needed in a category in order to have an estimation of the mean abundance</p>
</td></tr>
<tr><td><code id="chromato_env16_+3A_k">k</code></td>
<td>
<p>an integer corresponding to the percentage of samples with the highest abundance use to estimate the mean abundance of a species in a given category</p>
</td></tr>
<tr><td><code id="chromato_env16_+3A_order_smth">order_smth</code></td>
<td>
<p>an integer corresponding the order of the simple moving average applied along each niche dimension</p>
</td></tr>
</table>


<h3>Value</h3>

<p>chr2 a matrix corresponding to the species chromatogram (alpha categories by p environmental variables)
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Load the example datasets
data("data_abundance")
data("environment")
# Characterise and display the ecological niche of a pseudo-species
# `alpha`=50 categories, `m`=1 sample, `k`=5 and `order_smth`=2
sp_chrom_PS1&lt;-chromato_env16(environment,data_abundance[,1],50,1,5,2)
</code></pre>

<hr>
<h2 id='combina_niche3'>Estimate the degree of niche overlapping among species from their chromatograms.</h2><span id='topic+combina_niche3'></span>

<h3>Description</h3>

<p>Function that returns the lowest degree of niche overlapping (index D) among all the species when 1 to p environmental variables
are considered. Also return the degree of niche overlapping (index D) among each couple of species when all the environmental
variables are considered simultaneously and the lowest degree of niche overlapping (index D) when each environmental variable is considered alone.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>combina_niche3(sp_chr, Thres_T)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="combina_niche3_+3A_sp_chr">sp_chr</code></td>
<td>
<p>a matrix with the species chromatograms (alpha categories by p-environmental variables by species). Outputs of 'chromato_env16.R'</p>
</td></tr>
<tr><td><code id="combina_niche3_+3A_thres_t">Thres_T</code></td>
<td>
<p>an integer corresponding to the threshold of minimal abundance in a category for niche breadth estimation</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Return a list composed of three matrices:
</p>
<p>combi_dim, which contains the mean degree of niche overlapping. In combi_dim, the first column displays the number of dimensions
considered simultaneously and the last column displays the index D associated with the combination of dimensions.
Columns between the first and the last display the combinations of dimensions considered.
</p>
<p>sp_by_sp, a matrix with the degree of niche overlapping (index D) species by species when all the dimensions are considered.
</p>
<p>dim_alone, a vector with the mean degree of niche overlapping (index D) when each dimension is considered alone.
</p>
<p>D=0 when species niches are fully different and D=100 when species niches are identical;
the higher the number of dimensions, the lower the value of index D.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Load the example datasets
data("data_abundance")
data("environment")
# Characterise and display the ecological niche of 2 pseudo-species
# `alpha`=50 categories, `m`=1 sample, `k`=5 and `order_smth`=2
sp_chrom_PS3&lt;-chromato_env16(environment,data_abundance[,3],50,1,5,2)
sp_chrom_PS8&lt;-chromato_env16(environment,data_abundance[,8],50,1,5,2)
# Combine the species chromatograms along a third dimension with `abind`
library(abind)
test_PS&lt;-abind::abind(sp_chrom_PS3,sp_chrom_PS8,along=3)
# Apply the function `combina_niche3.R` on the matrix `test_PS` with `Thres_T`=0
Index_D_PS&lt;-combina_niche3(test_PS,0)
</code></pre>

<hr>
<h2 id='data_abundance'>Abundance of 14 pseudo-species.
A dataset containing the abundance values of 14 pseudo-species in 100
samples. The environmental conditions associated with each samples are
described in the environment dataset. Pseudo-species v1 and v2, v3 and v4,
v5 and v6, v7 and v8, v9 and v10, v11 and v12, v13 and v14 have the same
niche.</h2><span id='topic+data_abundance'></span>

<h3>Description</h3>

<p>Abundance of 14 pseudo-species.
A dataset containing the abundance values of 14 pseudo-species in 100
samples. The environmental conditions associated with each samples are
described in the environment dataset. Pseudo-species v1 and v2, v3 and v4,
v5 and v6, v7 and v8, v9 and v10, v11 and v12, v13 and v14 have the same
niche.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(data_abundance)
</code></pre>


<h3>Format</h3>

<p>A data frame with 100 rows and 14 variables:
</p>

<dl>
<dt>PS1</dt><dd><p>Abundance of pseudo-species 1</p>
</dd>
<dt>PS2</dt><dd><p>Abundance of pseudo-species 2</p>
</dd>
<dt>PS3</dt><dd><p>Abundance of pseudo-species 3</p>
</dd>
<dt>PS4</dt><dd><p>Abundance of pseudo-species 4</p>
</dd>
<dt>PS5</dt><dd><p>Abundance of pseudo-species 5</p>
</dd>
<dt>PS6</dt><dd><p>Abundance of pseudo-species 6</p>
</dd>
<dt>PS7</dt><dd><p>Abundance of pseudo-species 7</p>
</dd>
<dt>PS8</dt><dd><p>Abundance of pseudo-species 8</p>
</dd>
<dt>PS9</dt><dd><p>Abundance of pseudo-species 9</p>
</dd>
<dt>PS10</dt><dd><p>Abundance of pseudo-species 10</p>
</dd>
<dt>PS11</dt><dd><p>Abundance of pseudo-species 11</p>
</dd>
<dt>PS12</dt><dd><p>Abundance of pseudo-species 12</p>
</dd>
<dt>PS13</dt><dd><p>Abundance of pseudo-species 13</p>
</dd>
<dt>PS14</dt><dd><p>Abundance of pseudo-species 14</p>
</dd>
</dl>
<p>...

</p>


<h3>Author(s)</h3>

<p>Loïck Kléparski <a href="mailto:loick.kleparski@hotmail.fr">loick.kleparski@hotmail.fr</a>
</p>

<hr>
<h2 id='environment'>Three fictive environmental variables
A dataset containing the values of three fictive envionemental variables
in 100 samples. The corresponding pseudo-species abundance in each sample
are available in the data_abundance dataset.</h2><span id='topic+environment'></span>

<h3>Description</h3>

<p>Three fictive environmental variables
A dataset containing the values of three fictive envionemental variables
in 100 samples. The corresponding pseudo-species abundance in each sample
are available in the data_abundance dataset.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(environment)
</code></pre>


<h3>Format</h3>

<p>A data frame with 100 rows and 3 variables:
</p>

<dl>
<dt>x1</dt><dd><p>an environmental gradient from 0 to 25</p>
</dd>
<dt>x2</dt><dd><p>an environmental gradient from 0 to 40</p>
</dd>
<dt>x3</dt><dd><p>an environmental gradient from 1 to 0</p>
</dd>
</dl>
<p>...

</p>


<h3>Author(s)</h3>

<p>Loïck Kléparski <a href="mailto:loick.kleparski@hotmail.fr">loick.kleparski@hotmail.fr</a>
</p>

<hr>
<h2 id='moymob1'>m order simple moving average.</h2><span id='topic+moymob1'></span>

<h3>Description</h3>

<p>Apply a m order simple moving average on each column of a matrix.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>moymob1(x, m)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="moymob1_+3A_x">x</code></td>
<td>
<p>a matrix with in line the observations and in column the variables</p>
</td></tr>
<tr><td><code id="moymob1_+3A_m">m</code></td>
<td>
<p>an integer corresponding to the window size (2m+1)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>smoothed matrix
</p>

<hr>
<h2 id='nanmean4'>Mean of the n highest values of a vector.</h2><span id='topic+nanmean4'></span>

<h3>Description</h3>

<p>Estimates the mean of the n% highest values in vector x.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nanmean4(x, n)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nanmean4_+3A_x">x</code></td>
<td>
<p>a vector with the values to average</p>
</td></tr>
<tr><td><code id="nanmean4_+3A_n">n</code></td>
<td>
<p>an integer corresponding to the percentage of values to use</p>
</td></tr>
</table>


<h3>Value</h3>

<p>mean of the n% highest values in vector x
</p>

<hr>
<h2 id='niche_difer_sp'>Nested function for niche overlapping estimation with 'combina_niche3.R'.</h2><span id='topic+niche_difer_sp'></span>

<h3>Description</h3>

<p>Select the couple of species for niche overlapping (index D) estimation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>niche_difer_sp(sp_chr, Thres_T)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="niche_difer_sp_+3A_sp_chr">sp_chr</code></td>
<td>
<p>a three dimensional matrix with the species chromatograms (alpha category by p environmental variables by species)</p>
</td></tr>
<tr><td><code id="niche_difer_sp_+3A_thres_t">Thres_T</code></td>
<td>
<p>an integer corresponding to the threshold of minimal abundance in a category for the niche breadth estimation</p>
</td></tr>
</table>


<h3>Value</h3>

<p>index D
</p>

<hr>
<h2 id='niche_difer2'>Nested function for niche overlapping estimation with 'combina_niche3.R' and 'niche_differ_sp.R'.</h2><span id='topic+niche_difer2'></span>

<h3>Description</h3>

<p>Estimate the niche overlapping (index D) between two species. Assume that the niche is rectangular.
Columns (i.e. environmental variables) in 'spe_chr1' and 'sp_chr2' have to be the same.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>niche_difer2(sp_chr1, sp_chr2, Thres_T)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="niche_difer2_+3A_sp_chr1">sp_chr1</code></td>
<td>
<p>a matrix (niche categories by environmental variables) for species 1</p>
</td></tr>
<tr><td><code id="niche_difer2_+3A_sp_chr2">sp_chr2</code></td>
<td>
<p>a matrix (niche categories by environmental variables) for species 2</p>
</td></tr>
<tr><td><code id="niche_difer2_+3A_thres_t">Thres_T</code></td>
<td>
<p>an integer corresponding to the threshold of minimal abundance in a category for the niche breadth estimation</p>
</td></tr>
</table>


<h3>Value</h3>

<p>index D
</p>

<hr>
<h2 id='opti_eury_niche2'>Optimums and amplitudes estimations along each niche dimension.</h2><span id='topic+opti_eury_niche2'></span>

<h3>Description</h3>

<p>Function that estimates niche optimums and amplitudes along each environmental variable and for each species.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>opti_eury_niche2(sp_chr, Thres_T, z, y, k)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="opti_eury_niche2_+3A_sp_chr">sp_chr</code></td>
<td>
<p>a matrix with the species chromatograms (categories by environmental variables by species). Outputs of 'chromato_env16.R'</p>
</td></tr>
<tr><td><code id="opti_eury_niche2_+3A_thres_t">Thres_T</code></td>
<td>
<p>an integer corresponding to the min abundance threshold for niche amplitudes estimations</p>
</td></tr>
<tr><td><code id="opti_eury_niche2_+3A_z">z</code></td>
<td>
<p>a matrix with n samples by p environmental variables (i.e. the value of each environmental variable in each sample). Same matrix as in 'chromato_env16.R'.</p>
</td></tr>
<tr><td><code id="opti_eury_niche2_+3A_y">y</code></td>
<td>
<p>a matrix with the species abundance in the n samples</p>
</td></tr>
<tr><td><code id="opti_eury_niche2_+3A_k">k</code></td>
<td>
<p>an integer corresponding to the percentage of samples with the highest abundance values to use to estimate the mean abundance in a given category. Should have the same value as in 'chromato_env16.R'</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Three matrices are returned:
</p>
<p>amplitudes, a matrix with the degree of euryoecie (niche breadth) of each species (in column) along each environmental dimension (in line)
</p>
<p>mean_amplitudes, a matrix with the mean degree of euryoecie of each species
</p>
<p>optimums, a matrix with the niche optimum values of each species (in column) along each environmental dimension (in line)
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Load the example datasets
data("data_abundance")
data("environment")
# Characterise and display the ecological niche of 2 pseudo-species
# `alpha`=50 categories, `m`=1 sample, `k`=5 and `order_smth`=2
sp_chrom_PS3&lt;-chromato_env16(environment,data_abundance[,3],50,1,5,2)
sp_chrom_PS8&lt;-chromato_env16(environment,data_abundance[,8],50,1,5,2)
# Combine the species chromatograms along a third dimension with `abind`
library(abind)
test_PS&lt;-abind::abind(sp_chrom_PS3,sp_chrom_PS8,along=3)
# `opti_eury_niche2.R` can then be applied, with `Thres_T`=0 and `k`=5
opti_ampli_niche&lt;-opti_eury_niche2(test_PS,0,environment,data_abundance[,c(3,8)],5)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

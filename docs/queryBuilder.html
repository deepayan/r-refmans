<!DOCTYPE html><html lang="en"><head><title>Help for package queryBuilder</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {queryBuilder}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#queryBuilder-package'><p>Build Filtering Query from Configuration</p></a></li>
<li><a href='#attach_to_list'><p>Combine two lists</p></a></li>
<li><a href='#err_msg'><p>Generate error message</p></a></li>
<li><a href='#in_range'><p>Check if value fits to a range</p></a></li>
<li><a href='#in_string'><p>Check if character value matches the provided pattern</p></a></li>
<li><a href='#is_empty'><p>Compare the string to empty value</p></a></li>
<li><a href='#lget_attr'><p>Extract attribute of each element from a set of lists</p></a></li>
<li><a href='#operator_name_prefix'><p>Prefix used for renaming operators names</p></a></li>
<li><a href='#prefix_operators_name'><p>Rename operators with the provided prefix</p></a></li>
<li><a href='#query_to_expr_bare'><p>Convert query definition to expression</p></a></li>
<li><a href='#query-condition'><p>Register new or list existing query conditions</p></a></li>
<li><a href='#query-operator'><p>Register new or list existing query operators</p></a></li>
<li><a href='#query-rules'><p>Define filtering query</p></a></li>
<li><a href='#queryBuilderConfig'><p>Default object storing 'queryBuilder' configuration.</p></a></li>
<li><a href='#queryBuilderConfigClass'><p>R6 class representing 'queryBuilderConfig' object.</p></a></li>
<li><a href='#queryToExpr'><p>Parse query rules to R filtering expression</p></a></li>
<li><a href='#remove_by_name'><p>Remove list elements by their names</p></a></li>
<li><a href='#rule_to_expr'><p>Convert rule definition to expression</p></a></li>
<li><a href='#substitute_q'><p>Substitute expression stored as a variable</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Programmatic Way to Construct Complex Filtering Queries</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Krystian Igras &lt;krystian8207@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Syntax for defining complex filtering expressions in a programmatic way.
  A filtering query, built as a nested list configuration, can be easily stored in other formats like 'YAML' or 'JSON'.
  What's more, it's possible to convert such configuration to a valid expression that can be applied to 
  popular 'dplyr' package operations.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Imports:</td>
<td>utils, magrittr, rlang, dplyr, glue, purrr</td>
</tr>
<tr>
<td>Collate:</td>
<td>'queryBuilder-package.R' 'utils.R' 'operators.R'
'conditions.R' 'config.R' 'rules_and_groups.R'
'parse_results.R'</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-09-23 13:54:55 UTC; krystiai</td>
</tr>
<tr>
<td>Author:</td>
<td>Krystian Igras [aut, cre],
  Damien Sorel [cph] (Syntax for defining queries using rules and groups
    as included in 'jQuery-QueryBuilder' JavaScript framework.)</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-09-24 19:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='queryBuilder-package'>Build Filtering Query from Configuration</h2><span id='topic+queryBuilder-package'></span>

<h3>Description</h3>

<p>Build Filtering Query from Configuration
</p>

<hr>
<h2 id='attach_to_list'>Combine two lists</h2><span id='topic+attach_to_list'></span>

<h3>Description</h3>

<p>Combine two lists
</p>


<h3>Usage</h3>

<pre><code class='language-R'>attach_to_list(base_list, extra_list)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="attach_to_list_+3A_base_list">base_list</code></td>
<td>
<p>List to attach objects to.</p>
</td></tr>
<tr><td><code id="attach_to_list_+3A_extra_list">extra_list</code></td>
<td>
<p>List from which elements should be attached to <code>base_list</code>.
Duplicated objects are overwritten.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List.
</p>

<hr>
<h2 id='err_msg'>Generate error message</h2><span id='topic+err_msg'></span>

<h3>Description</h3>

<p>Generate error message
</p>


<h3>Usage</h3>

<pre><code class='language-R'>err_msg(msg, ..., .envir = parent.frame())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="err_msg_+3A_msg">msg</code></td>
<td>
<p>Character string interpreted by <a href="glue.html#topic+glue">glue</a>.</p>
</td></tr>
<tr><td><code id="err_msg_+3A_...">...</code></td>
<td>
<p>Extra arguments passed to <a href="glue.html#topic+glue">glue</a>.</p>
</td></tr>
<tr><td><code id="err_msg_+3A_.envir">.envir</code></td>
<td>
<p>Environment to evaluate each expression in, passed to <a href="glue.html#topic+glue">glue</a>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Executed error with interpolated message.
</p>

<hr>
<h2 id='in_range'>Check if value fits to a range</h2><span id='topic+in_range'></span>

<h3>Description</h3>

<p>Check if value fits to a range
</p>


<h3>Usage</h3>

<pre><code class='language-R'>in_range(x, range)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="in_range_+3A_x">x</code></td>
<td>
<p>Numeric value.</p>
</td></tr>
<tr><td><code id="in_range_+3A_range">range</code></td>
<td>
<p>Vector of length 2, storing range change limits.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical vector indicating which elements of <code>x</code> fit into the specified <code>range</code>.
</p>

<hr>
<h2 id='in_string'>Check if character value matches the provided pattern</h2><span id='topic+in_string'></span>

<h3>Description</h3>

<p>Check if character value matches the provided pattern
</p>


<h3>Usage</h3>

<pre><code class='language-R'>in_string(x, pattern, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="in_string_+3A_x">x</code></td>
<td>
<p>String value.</p>
</td></tr>
<tr><td><code id="in_string_+3A_pattern">pattern</code></td>
<td>
<p>Pattern that should be matched to <code>x</code>.</p>
</td></tr>
<tr><td><code id="in_string_+3A_...">...</code></td>
<td>
<p>Extra arguments passed to <a href="base.html#topic+grepl">grepl</a>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical vector indicating which elements of <code>x</code> are matching the provided <code>pattern</code>.
</p>

<hr>
<h2 id='is_empty'>Compare the string to empty value</h2><span id='topic+is_empty'></span>

<h3>Description</h3>

<p>Compare the string to empty value
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_empty(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="is_empty_+3A_x">x</code></td>
<td>
<p>String value.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical vector indicating which elements equal <code>""</code>.
</p>

<hr>
<h2 id='lget_attr'>Extract attribute of each element from a set of lists</h2><span id='topic+lget_attr'></span>

<h3>Description</h3>

<p>Extract attribute of each element from a set of lists
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lget_attr(list_obj, attribute)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="lget_attr_+3A_list_obj">list_obj</code></td>
<td>
<p>List of lists. Each nested list should contain <code>el_name</code> object.</p>
</td></tr>
<tr><td><code id="lget_attr_+3A_attribute">attribute</code></td>
<td>
<p>Name of the attribute to extract from each object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Vector of the same length, storing extracted attributes.
</p>

<hr>
<h2 id='operator_name_prefix'>Prefix used for renaming operators names</h2><span id='topic+operator_name_prefix'></span>

<h3>Description</h3>

<p>Required due to erroneous operations on objects with names such as 'in' or 'for'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>operator_name_prefix
</code></pre>


<h3>Format</h3>

<p>An object of class <code>character</code> of length 1.
</p>

<hr>
<h2 id='prefix_operators_name'>Rename operators with the provided prefix</h2><span id='topic+prefix_operators_name'></span>

<h3>Description</h3>

<p>Rename operators with the provided prefix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prefix_operators_name(operators)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prefix_operators_name_+3A_operators">operators</code></td>
<td>
<p>List storing <a href="#topic+queryOperator">queryOperator</a>s.</p>
</td></tr>
</table>

<hr>
<h2 id='query_to_expr_bare'>Convert query definition to expression</h2><span id='topic+query_to_expr_bare'></span>

<h3>Description</h3>

<p>Convert query definition to expression
</p>


<h3>Usage</h3>

<pre><code class='language-R'>query_to_expr_bare(query, operators, conditions, keep_na)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="query_to_expr_bare_+3A_query">query</code></td>
<td>
<p>Query definition (see <a href="#topic+queryRule">queryRule</a> and <a href="#topic+queryGroup">queryGroup</a>).</p>
</td></tr>
<tr><td><code id="query_to_expr_bare_+3A_operators">operators</code></td>
<td>
<p>List storing <a href="#topic+queryOperator">queryOperator</a>s.</p>
</td></tr>
<tr><td><code id="query_to_expr_bare_+3A_conditions">conditions</code></td>
<td>
<p>List storing <a href="#topic+queryCondition">queryCondition</a>s.</p>
</td></tr>
<tr><td><code id="query_to_expr_bare_+3A_keep_na">keep_na</code></td>
<td>
<p>Should each rule expression be extended with rule excluding/including 'NA' values?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Character value storing expression to be parsed.
</p>

<hr>
<h2 id='query-condition'>Register new or list existing query conditions</h2><span id='topic+query-condition'></span><span id='topic+queryCondition'></span><span id='topic+setQueryConditions'></span><span id='topic+listQueryConditions'></span><span id='topic+default_conditions'></span>

<h3>Description</h3>

<p>Condition is two-argument function such as '|' or '&amp;' used to combine pair of rules.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>queryCondition(method)

setQueryConditions(..., .queryBuilderConfig = queryBuilderConfig)

listQueryConditions(.queryBuilderConfig = queryBuilderConfig, print = TRUE)

default_conditions
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="query-condition_+3A_method">method</code></td>
<td>
<p>R function of two parameters that is used to combine a pair of rules.</p>
</td></tr>
<tr><td><code id="query-condition_+3A_...">...</code></td>
<td>
<p>Name-value pairs defining condition name and method respectively.
Should be defined with usage of <code>queryCondition</code> function.</p>
</td></tr>
<tr><td><code id="query-condition_+3A_.querybuilderconfig">.queryBuilderConfig</code></td>
<td>
<p>R6 class object storing query configuration. See <a href="#topic+queryBuilderConfigClass">queryBuilderConfigClass</a>.</p>
</td></tr>
<tr><td><code id="query-condition_+3A_print">print</code></td>
<td>
<p>Should the list of operators be printed into console?</p>
</td></tr>
</table>


<h3>Format</h3>

<p>An object of class <code>list</code> of length 2.
</p>


<h3>Details</h3>


<ul>
<li><p><code>queryCondition</code>: defines condition method.
</p>
</li>
<li><p><code>setQueryConditions</code>:
is used to register the defined conditions in the default or custom <a href="#topic+queryBuilderConfigClass">queryBuilderConfigClass</a> object.

</p>
</li>
<li><p><code>listQueryConditions</code>: returns list of registered conditions.
</p>
</li>
<li><p><code>default_conditions</code>: an object storing default definitions for conditions.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>setQueryConditions(
  "XOR" = queryCondition(xor)
)
query &lt;- queryGroup(
  condition = "XOR",
  queryRule("am", "equal", 1),
  queryRule("vs", "equal", 1)
)
queryToExpr(query)

</code></pre>

<hr>
<h2 id='query-operator'>Register new or list existing query operators</h2><span id='topic+query-operator'></span><span id='topic+queryOperator'></span><span id='topic+setQueryOperators'></span><span id='topic+listQueryOperators'></span><span id='topic+default_operators'></span>

<h3>Description</h3>

<p>Operator are functions of maximum two arguments.
The first argument is interpreted as a field (e.g. column name),
the second one as a filtering value interpreted by operator accordingly.
Some operators, such as 'is_empty' (that compares field values to empty string) don't require any value provided.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>queryOperator(method)

setQueryOperators(..., .queryBuilderConfig = queryBuilderConfig)

listQueryOperators(.queryBuilderConfig = queryBuilderConfig, print = TRUE)

default_operators
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="query-operator_+3A_method">method</code></td>
<td>
<p>R function the operator should be transformed to when parsing result to R expression.
The function should take at most two parameters. The first one (obligatory) is variable vector,
the second one additional parameters interpreted by operator.
Could be negated with exclamation mark e.g. <code>queryOperator(!startsWith)</code> which will be interpreted as
the negation of the associated expression.</p>
</td></tr>
<tr><td><code id="query-operator_+3A_...">...</code></td>
<td>
<p>Name-value pairs defining operator name and method respectively.
Should be defined with usage of <code>queryOperator</code> function.</p>
</td></tr>
<tr><td><code id="query-operator_+3A_.querybuilderconfig">.queryBuilderConfig</code></td>
<td>
<p>R6 class object storing query configuration. See <a href="#topic+queryBuilderConfigClass">queryBuilderConfigClass</a>.</p>
</td></tr>
<tr><td><code id="query-operator_+3A_print">print</code></td>
<td>
<p>Should the list of operators be printed into console?</p>
</td></tr>
</table>


<h3>Format</h3>

<p>An object of class <code>list</code> of length 20.
</p>


<h3>Details</h3>

<p>Operators are stored as <a href="base.html#topic+quote">quote</a>s, that are further interpreted while converting the query to
filtering expression.
</p>

<ul>
<li><p><code>queryOperator</code>: defines a custom operator that can be used in generated query.
</p>
</li>
<li><p><code>setQueryOperators</code>:
is used to register the defined operators in the default or custom <a href="#topic+queryBuilderConfigClass">queryBuilderConfigClass</a> object.

</p>
</li>
<li><p><code>listQueryOperators</code>: allows to list available operators for the specific column type.
</p>
</li>
<li><p><code>default_operators</code>: an object storing default definitions for operators.
</p>
</li></ul>



<h3>Value</h3>

<p>A single 'quote' storing the provided method.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
listQueryOperators()

in_closed_range &lt;- function(x, range) {
  x &gt;= range[1] &amp; x &lt;= range[2]
}

setQueryOperators(
  "within" = queryOperator(in_closed_range),
  "not_within" = queryOperator(!in_closed_range)
)
query &lt;- queryGroup(
  condition = "AND",
  queryRule("am", "equal", 1),
  queryRule("qsec", "within", c(10, 15)),
  queryRule("disp", "not_within", c(10, 15))
)
queryToExpr(query)

</code></pre>

<hr>
<h2 id='query-rules'>Define filtering query</h2><span id='topic+query-rules'></span><span id='topic+queryGroup'></span><span id='topic+queryRule'></span>

<h3>Description</h3>

<p>Query is configuration consisting of rules and group.
Rule defines a single filtering expression whereas group is combining multiple rules (or nested groups)
with the provided condition.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>queryGroup(..., condition = "AND")

queryRule(field, operator, value = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="query-rules_+3A_...">...</code></td>
<td>
<p>Rules defined with <code>queryRule</code> function.</p>
</td></tr>
<tr><td><code id="query-rules_+3A_condition">condition</code></td>
<td>
<p>Group condition. By default 'AND' and 'OR' are available.
To set custom one use <a href="#topic+setQueryConditions">setQueryConditions</a>.</p>
</td></tr>
<tr><td><code id="query-rules_+3A_field">field</code></td>
<td>
<p>Field of the filter applied to the rule.
To set custom one use <a href="#topic+setQueryOperators">setQueryOperators</a>.</p>
</td></tr>
<tr><td><code id="query-rules_+3A_operator">operator</code></td>
<td>
<p>Name of the operator to be applied to the rule.</p>
</td></tr>
<tr><td><code id="query-rules_+3A_value">value</code></td>
<td>
<p>(optional) Values that should be applied to the rule.
Some operators, such as 'is_null', don't require any value provided.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Having the example expression 'a == 1 | (vs == 0 &amp; qsec &gt; 10)' we can distinct the following rules and groups:
</p>
<p>Rules:
- 'am == 1' - related to 'am' field, applies '==' operator with '1' value,
- 'vs == 0' - related to 'vs' field, applies '==' operator with '1' value,
- 'qsec &gt; 10' - related to 'qsec' field, applies '&gt;' operator with '10' value.
</p>
<p>Groups:
- '(vs == 0 &amp; qsec &gt; 10)' - combines two rules ('vs == 0' and 'qsec &gt; 10') with '&amp;' condition,
- 'a == 1 | (vs == 0 &amp; qsec &gt; 10)' - combines rule 'a == 1' and group '(vs == 0 &amp; qsec &gt; 10)' with '|' condition.
</p>
<p>Such query can be defined by 'queryBuilder' the following way:
</p>
<p><code>
  queryGroup(
    condition = "OR",
    queryRule("am", "equal", 1)
    queryGroup(
      condition = "AND",
      queryRule("vs", "equal", 0),
      queryRule("qsec", "greater", 10)
    )
  )
</code>
</p>
<p>Connection between conditions and operators names and their R-based counterparts are defined with
<a href="#topic+queryBuilderConfig">queryBuilderConfig</a> class.
</p>
<p>The defined query can be then converted to filtering expression with <a href="#topic+queryToExpr">queryToExpr</a> function.
</p>


<h3>Value</h3>

<p>Nested lists structure.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
queryGroup(
  condition = "OR",
  queryRule("am", "equal", 1),
  queryGroup(
    condition = "AND",
    queryRule("vs", "equal", 0),
    queryRule("qsec", "greater", 10)
  )
)

</code></pre>

<hr>
<h2 id='queryBuilderConfig'>Default object storing 'queryBuilder' configuration.</h2><span id='topic+queryBuilderConfig'></span>

<h3>Description</h3>

<p>Default object storing 'queryBuilder' configuration.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>queryBuilderConfig
</code></pre>


<h3>Format</h3>

<p>An object of class <code>queryBuilderConfig</code> (inherits from <code>R6</code>) of length 8.
</p>

<hr>
<h2 id='queryBuilderConfigClass'>R6 class representing 'queryBuilderConfig' object.</h2><span id='topic+queryBuilderConfigClass'></span>

<h3>Description</h3>

<p>R6 class representing 'queryBuilderConfig' object.
</p>
<p>R6 class representing 'queryBuilderConfig' object.
</p>


<h3>Details</h3>

<p>The object is responsible for storing definitions for operators and conditions
that are used to generate query expression.
It also allows to manage its objects by the provided methods.
</p>


<h3>Value</h3>

<p>R6 Class constructor for query configuration (operators, conditions and methods for managing the objects).
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-queryBuilderConfig-new"><code>queryBuilderConfigClass$new()</code></a>
</p>
</li>
<li> <p><a href="#method-queryBuilderConfig-add"><code>queryBuilderConfigClass$add()</code></a>
</p>
</li>
<li> <p><a href="#method-queryBuilderConfig-remove"><code>queryBuilderConfigClass$remove()</code></a>
</p>
</li>
<li> <p><a href="#method-queryBuilderConfig-get_from_private"><code>queryBuilderConfigClass$get_from_private()</code></a>
</p>
</li>
<li> <p><a href="#method-queryBuilderConfig-set_to_private"><code>queryBuilderConfigClass$set_to_private()</code></a>
</p>
</li>
<li> <p><a href="#method-queryBuilderConfig-reset"><code>queryBuilderConfigClass$reset()</code></a>
</p>
</li>
<li> <p><a href="#method-queryBuilderConfig-clone"><code>queryBuilderConfigClass$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-queryBuilderConfig-new"></a>



<h4>Method <code>new()</code></h4>

<p>Create queryBuilderConfig object with initialized conditions and operators.
</p>


<h5>Usage</h5>

<div class="r"><pre>queryBuilderConfigClass$new(
  conditions = default_conditions,
  operators = default_operators,
  ...
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>conditions</code></dt><dd><p>Conditions.</p>
</dd>
<dt><code>operators</code></dt><dd><p>Operators.</p>
</dd>
<dt><code>...</code></dt><dd><p>Unused.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>The object of class 'queryBuilderConfig'.
</p>


<hr>
<a id="method-queryBuilderConfig-add"></a>



<h4>Method <code>add()</code></h4>

<p>Add conditions and conditions to 'queryBuilderConfig' object.
</p>


<h5>Usage</h5>

<div class="r"><pre>queryBuilderConfigClass$add(conditions = NULL, operators = NULL)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>conditions</code></dt><dd><p>Conditions.</p>
</dd>
<dt><code>operators</code></dt><dd><p>Operators.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-queryBuilderConfig-remove"></a>



<h4>Method <code>remove()</code></h4>

<p>Remove conditions or operators from 'queryBuilderConfig' object.
</p>


<h5>Usage</h5>

<div class="r"><pre>queryBuilderConfigClass$remove(conditions_id = NULL, operators_id = NULL)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>conditions_id</code></dt><dd><p>Id of conditions to remove.</p>
</dd>
<dt><code>operators_id</code></dt><dd><p>Id of operators to remove.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-queryBuilderConfig-get_from_private"></a>



<h4>Method <code>get_from_private()</code></h4>

<p>Get private elements from 'queryBuilderConfig' object.
</p>


<h5>Usage</h5>

<div class="r"><pre>queryBuilderConfigClass$get_from_private(name)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>name</code></dt><dd><p>Name of the element to get.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-queryBuilderConfig-set_to_private"></a>



<h4>Method <code>set_to_private()</code></h4>

<p>Set private elements to 'queryBuilderConfig' object.
</p>


<h5>Usage</h5>

<div class="r"><pre>queryBuilderConfigClass$set_to_private(name, value)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>name</code></dt><dd><p>Name of the element to set.</p>
</dd>
<dt><code>value</code></dt><dd><p>New element value.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-queryBuilderConfig-reset"></a>



<h4>Method <code>reset()</code></h4>

<p>Restore default conditions and conditions of 'queryBuilderConfig' object and clear out remaining private objects.
</p>


<h5>Usage</h5>

<div class="r"><pre>queryBuilderConfigClass$reset()</pre></div>


<hr>
<a id="method-queryBuilderConfig-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>queryBuilderConfigClass$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>



<hr>
<h2 id='queryToExpr'>Parse query rules to R filtering expression</h2><span id='topic+queryToExpr'></span>

<h3>Description</h3>

<p>The function takes a list of condition rules provided by the widget (<code>input[[&lt;widget-name&gt;]]</code>) and
returns valid R expression that can be used for example in <a href="dplyr.html#topic+filter">filter</a> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>queryToExpr(query, keep_na = FALSE, .queryBuilderConfig = queryBuilderConfig)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="queryToExpr_+3A_query">query</code></td>
<td>
<p>Query definition (see <a href="#topic+queryRule">queryRule</a> and <a href="#topic+queryGroup">queryGroup</a>).</p>
</td></tr>
<tr><td><code id="queryToExpr_+3A_keep_na">keep_na</code></td>
<td>
<p>Should query keep or exclude missing values?</p>
</td></tr>
<tr><td><code id="queryToExpr_+3A_.querybuilderconfig">.queryBuilderConfig</code></td>
<td>
<p>R6 class object storing query configuration. See <a href="#topic+queryBuilderConfigClass">queryBuilderConfigClass</a>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Object of class 'call'. A filtering expression that can be passed to 'dplyr'-based filtering methods.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
query &lt;- queryGroup(
  condition = "AND",
  queryGroup(
    queryRule(
      field = "Species",
      operator = "equal",
      value = "setosa"
    ),
    queryRule(
      field = "Petal.Length",
      operator = "less",
      value = 1.2
    )
  )
)
queryToExpr(query)
dplyr::filter(iris, !!queryToExpr(query))

</code></pre>

<hr>
<h2 id='remove_by_name'>Remove list elements by their names</h2><span id='topic+remove_by_name'></span>

<h3>Description</h3>

<p>Remove list elements by their names
</p>


<h3>Usage</h3>

<pre><code class='language-R'>remove_by_name(list_obj, ids)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="remove_by_name_+3A_list_obj">list_obj</code></td>
<td>
<p>List object.</p>
</td></tr>
<tr><td><code id="remove_by_name_+3A_ids">ids</code></td>
<td>
<p>Objects names to be removed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List.
</p>

<hr>
<h2 id='rule_to_expr'>Convert rule definition to expression</h2><span id='topic+rule_to_expr'></span>

<h3>Description</h3>

<p>Convert rule definition to expression
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rule_to_expr(rule, operators, keep_na = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rule_to_expr_+3A_rule">rule</code></td>
<td>
<p>Rule definition (see <a href="#topic+queryRule">queryRule</a>).</p>
</td></tr>
<tr><td><code id="rule_to_expr_+3A_operators">operators</code></td>
<td>
<p>List storing <a href="#topic+queryOperator">queryOperator</a>s.</p>
</td></tr>
<tr><td><code id="rule_to_expr_+3A_keep_na">keep_na</code></td>
<td>
<p>Should the expression be extended with rule excluding/including 'NA' values?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Character value storing expression to be parsed.
</p>

<hr>
<h2 id='substitute_q'>Substitute expression stored as a variable</h2><span id='topic+substitute_q'></span>

<h3>Description</h3>

<p>Substitute expression stored as a variable
</p>


<h3>Usage</h3>

<pre><code class='language-R'>substitute_q(x, env)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="substitute_q_+3A_x">x</code></td>
<td>
<p>Expression to be substituted.</p>
</td></tr>
<tr><td><code id="substitute_q_+3A_env">env</code></td>
<td>
<p>List of arguments to substitute for x.</p>
</td></tr>
</table>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

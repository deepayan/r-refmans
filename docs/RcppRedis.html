<!DOCTYPE html><html><head><title>Help for package RcppRedis</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {RcppRedis}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#RcppRedis'><p>Rcpp module using hiredis library to connect R to Redis</p></a></li>
<li><a href='#redisMonitorChannels'><p>redisMonitorChannels</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>'Rcpp' Bindings for 'Redis' using the 'hiredis' Library</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.4</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-08-19</td>
</tr>
<tr>
<td>Author:</td>
<td>Dirk Eddelbuettel and Bryan W. Lewis</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Dirk Eddelbuettel &lt;edd@debian.org&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Connection to the 'Redis' key/value store using the
 C-language client library 'hiredis' (included as a fallback) with
 'MsgPack' encoding provided via 'RcppMsgPack' headers. It now also
 includes the pub/sub functions from the 'rredis' package.</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>An available hiredis library (eg via package
libhiredis-dev on Debian/Ubuntu, hiredis-devel on
Fedora/RedHat, or directly from source from
&lt;https://github.com/redis/hiredis&gt;) can be used but version
1.0.2 is also included and built on demand if needed. The
optional 'rredis' package can be installed from the 'ghrr'
'drat' repo for additional illustrations and tests.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/eddelbuettel/rcppredis">https://github.com/eddelbuettel/rcppredis</a>,
<a href="https://dirk.eddelbuettel.com/code/rcpp.redis.html">https://dirk.eddelbuettel.com/code/rcpp.redis.html</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/eddelbuettel/rcppredis/issues">https://github.com/eddelbuettel/rcppredis/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Imports:</td>
<td>methods, Rcpp (&ge; 0.11.0), RApiSerialize</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp, RApiSerialize</td>
</tr>
<tr>
<td>Suggests:</td>
<td>RcppMsgPack, tinytest</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-08-19 12:40:53 UTC; edd</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-08-19 13:12:31 UTC</td>
</tr>
</table>
<hr>
<h2 id='RcppRedis'>Rcpp module using hiredis library to connect R to Redis</h2><span id='topic+Redis'></span><span id='topic+Rcpp_Redis'></span><span id='topic+Rcpp_Redis-class'></span><span id='topic+serializeToChar'></span><span id='topic+unserializeFromChar'></span><span id='topic+serializeToRaw'></span><span id='topic+unserializeFromRaw'></span><span id='topic+RcppRedis-package'></span>

<h3>Description</h3>

<p>The <code style="white-space: pre;">&#8288;Redis&#8288;</code> module is created using Rcpp modules and wraps a
minimal class <code style="white-space: pre;">&#8288;Redis&#8288;</code> around an Redis connection context object
which permits bi-directional communication with a Redis in-memory database.
</p>
<p>New instances can be created using either a default constructor
(using localhost and the default port) and either host and port, or
just the host.
</p>
<p>Currently, the module has just one worker command which sends a string
to the Redis instance and returns a string.
</p>
<p>The helper functions <code>serializeToChar()</code> and
<code>unserializeFromChar</code> convert R objects to/from a character
representation (and internalize the conversion from <code>raw</code>
to <code>char</code> representation at the compiled level).
The helper functions <code>serializeToRaw()</code> and
<code>unserializeFromRaw</code> convert R objects to/from raw vectors.
</p>


<h3>Details</h3>

<p>Please consult the Redis documentation for details on the available
commands. See the Rcpp-modules vignette for details on Rcpp modules.
</p>


<h3>Author(s)</h3>

<p>Dirk Eddelbuettel <a href="mailto:edd@debian.org">edd@debian.org</a></p>

<hr>
<h2 id='redisMonitorChannels'>redisMonitorChannels</h2><span id='topic+redisMonitorChannels'></span>

<h3>Description</h3>

<p>Listen for messages on subscribed Redis message channels.</p>


<h3>Usage</h3>

<pre><code class='language-R'>redisMonitorChannels(context, type=c("rdata", "raw", "string"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="redisMonitorChannels_+3A_context">context</code></td>
<td>
<p> A valid Redis context (see example).  </p>
</td></tr>
<tr><td><code id="redisMonitorChannels_+3A_type">type</code></td>
<td>
<p> The expected message value type.  </p>
</td></tr>
</table>


<h3>Details</h3>

<p>(From the Redis.io documentation):
implement the Publish/Subscribe messaging paradigm where (citing Wikipedia)
senders (publishers) are not programmed to send their messages to specific
receivers (subscribers). Rather, published messages are characterized into
channels, without knowledge of what (if any) subscribers there may be.
Subscribers express interest in one or more channels, and only receive messages
that are of interest, without knowledge of what (if any) publishers there are.
</p>
<p>The <code>redisMonitorChannels</code> function may be called repeatedly in an
event loop to service messages on all subscribed channels. When a message
is received, the <code>redisMonitorChannels</code> function will attempt to
evaluate a callback function with same name as the channel, with the message
as its single argument. If no such function can be found, the message is
returned. See the help page for <code>redisGetResponse</code> for a description
of the message format.
</p>
<p>WARNING: The <code>redisMonitorChannels</code> function blocks indefinitely until a 
message is received.
</p>
<p>Use the lower-level <code>listen</code> context method to simply poll channels
for messages without evaluating function callbacks.
</p>


<h3>Value</h3>

<p>The result of an evaluated function callback message, or if
no matching callback exists, the message.</p>


<h3>Author(s)</h3>

<p>B. W. Lewis
</p>


<h3>References</h3>

<p>http://redis.io/commands
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
x &lt;- new(Redis)
y &lt;- new(Redis)

# Define a callback function to process messages from channel 1:
channel1 &lt;- function(x) {
  cat("Message received from channel 1: ",x,"\n")
}
# Define a callback function to process messages from channel 2:
channel2 &lt;- function(x) {
  cat("Message received from channel 2: ",x,"\n")
}

# Subscribe to the channels...
x$subscribe(c("channel1", "channel2"))
y$publish("channel2", pi)

redisMonitorChannels(x)

# Unsubscribe
x$unsubscribe(c("channel1", "channel2"))

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

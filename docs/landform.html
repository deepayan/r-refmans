<!DOCTYPE html><html><head><title>Help for package landform</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {landform}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#landform'><p>Landform Classification</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Topographic Position Index-Based Landform Classification</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides a function for classifying a landscape into different categories based on the Topographic Position Index (TPI) and slope. It offers two types of classifications: Slope Position Classification, and Landform Classification. The function internally calculates the TPI for the given landscape and then uses it along with the slope to perform the classification. Optionally, descriptive statistics for every class are calculated and plotted. The classifications are useful for identifying the position of a location on a slope and for identifying broader landform types.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.0.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>graphics (&ge; 4.2.0), grDevices (&ge; 4.2.0), stats (&ge; 4.2.0),
terra (&ge; 1.7.0)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-10-04 10:31:26 UTC; gianmarcoalberti</td>
</tr>
<tr>
<td>Author:</td>
<td>Gianmarco Alberti [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Gianmarco Alberti &lt;gianmarcoalberti@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-10-04 16:00:07 UTC</td>
</tr>
</table>
<hr>
<h2 id='landform'>Landform Classification</h2><span id='topic+landform'></span>

<h3>Description</h3>

<p>This function classifies a landscape into different categories based on the Topographic Position Index (TPI) and slope.
It offers two types of classifications: Slope Position Classification (Weiss 2001) and Landform Classification (Weiss 2001; Jenness 2003).<br />
Visit this <a href="https://drive.google.com/file/d/1vjy8_HPtuyKkzSkYwKdQbHJLrVtO79ft/view?usp=sharing">LINK</a> to access the package's vignette.<br />
</p>


<h3>Usage</h3>

<pre><code class='language-R'>landform(
  x,
  scale = 3,
  sn = 3,
  ln = 7,
  class.type = "slope.position",
  descriptive = FALSE,
  leg.pos = "topright",
  leg.cex = 0.65
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="landform_+3A_x">x</code></td>
<td>
<p>A RasterLayer or a SpatRaster object representing the landscape.</p>
</td></tr>
<tr><td><code id="landform_+3A_scale">scale</code></td>
<td>
<p>The size of the neighbourhood for calculating the TPI. Default is 3.</p>
</td></tr>
<tr><td><code id="landform_+3A_sn">sn</code></td>
<td>
<p>The size of the small neighbourhood for calculating the TPI in the Landform Classification. Default is 3.</p>
</td></tr>
<tr><td><code id="landform_+3A_ln">ln</code></td>
<td>
<p>The size of the large neighbourhood for calculating the TPI in the Landform Classification. Default is 7.</p>
</td></tr>
<tr><td><code id="landform_+3A_class.type">class.type</code></td>
<td>
<p>The type of classification to be performed. Options are &quot;slope.position&quot; for Slope Position Classification
and &quot;landform.classification&quot; for Landform Classification. Default is &quot;slope.position&quot;.</p>
</td></tr>
<tr><td><code id="landform_+3A_descriptive">descriptive</code></td>
<td>
<p>A logical parameter (default is FALSE). If set to TRUE, the function will calculate and return
additional descriptive statistics for each class. These statistics include the count of pixels, total area (in Km2), and percentage
of the total area for each class. Additionally, a bar plot showing the area of each class will be generated.</p>
</td></tr>
<tr><td><code id="landform_+3A_leg.pos">leg.pos</code></td>
<td>
<p>The position of the legend in the plot. Default is &quot;topright&quot;.</p>
</td></tr>
<tr><td><code id="landform_+3A_leg.cex">leg.cex</code></td>
<td>
<p>The magnification to be used for sizing the legend relative to the current setting of 'cex'. Default is 0.65.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function internally calculates the Standardised Topographic Position Index (TPI) for the given landscape.
The TPI is calculated as the difference between the elevation of each cell in the landscape and the mean elevation of
its neighbouring cells. The TPI is then standardised by dividing the difference between each cell's TPI and the mean TPI
of its neighbouring cells by the standard deviation of the TPI values within the neighbourhood.
</p>
<p>The Slope Position Classification uses the standardised TPI and slope to classify the landscape into
six categories: Valley, Lower Slope, Flat Slope, Middle Slope, Upper Slope, and Ridge.
This classification is useful for identifying the position of a location on a slope (Weiss 2001).
</p>
<p>The Landform Classification uses two standardised TPI grids at different scales to classify the landscape
into ten categories: Canyons, Midslope Drainage, Upland Drainage, U-shaped Valleys, Plains, Open Slopes,
Upper Slopes, Local Ridges, Midslope Ridges, and Mountain Tops. This classification is useful for identifying
broader landform types (Weiss 2001; Jenness 2003).
</p>
<p>As for the descriptive statistics returned by the function, please note that if the input raster layer is not in
a projected coordinate system, the area calculation for each class (which is based on the resolution of the raster and the
count of cells in each class) may not accurately represent the true area on the ground. Therefore, it's recommended to use
a raster layer in a suitable projected coordinate system for your area of interest to ensure accurate area calculations.
</p>


<h3>Value</h3>

<p>The package plots the raster of all the classes combined. If the <code>descriptive</code> parameter is set to <code>TRUE</code>,
a bar plot showing the area of each class is generated. A list of SpatRaster objects
representing the different classes of the landscape is also returned. The list will contain an item named
<code>Descriptive Statistics</code> if the <code>descriptive</code> parameter is set to <code>TRUE</code>. For each class, the item reports the
cell counts, the corresponding area (in Km2), and the corresponding percentage.<br />
</p>
<p>For the &quot;slope.position&quot; classification, the returned layers are:
</p>

<ul>
<li><p> &quot;all&quot;: all classes combined
</p>
</li>
<li><p> &quot;Valley&quot;: TPI &lt;= -1
</p>
</li>
<li><p> &quot;Lower Slope&quot;: -1 &lt; TPI &lt;= -0.5
</p>
</li>
<li><p> &quot;Flat Slope&quot;: -0.5 &lt; TPI &lt; 0.5 and slope &lt;= 5
</p>
</li>
<li><p> &quot;Middle Slope&quot;: -0.5 &lt; TPI &lt; 0.5 and slope &gt; 5
</p>
</li>
<li><p> &quot;Upper Slope&quot;: 0.5 &lt; TPI &lt;= 1
</p>
</li>
<li><p> &quot;Ridge&quot;: TPI &gt; 1
</p>
</li></ul>

<p>For the &quot;landform.classification&quot;, the returned layers are:
</p>

<ul>
<li><p> &quot;all&quot;: all classes combined
</p>
</li>
<li><p> &quot;Canyons-Deeply Incised Streams&quot;: sn &lt;= -1 and ln &lt;= -1
</p>
</li>
<li><p> &quot;Midslope Drainage-Shallow Valleys&quot;: sn &lt;= -1 and -1 &lt; ln &lt; 1
</p>
</li>
<li><p> &quot;Upland Drainages-Headwaters&quot;: sn &lt;= -1 and ln &gt;= 1
</p>
</li>
<li><p> &quot;U-shaped Valleys&quot;: -1 &lt; sn &lt; 1 and ln &lt;= -1
</p>
</li>
<li><p> &quot;Plains&quot;: -1 &lt; sn &lt; 1 and -1 &lt; ln &lt; 1 and slope &lt;= 5
</p>
</li>
<li><p> &quot;Open Slopes&quot;: -1 &lt; sn &lt; 1 and -1 &lt; ln &lt; 1 and slope &gt; 5
</p>
</li>
<li><p> &quot;Upper Slopes-Mesas&quot;: -1 &lt; sn &lt; 1 and ln &gt;= 1
</p>
</li>
<li><p> &quot;Local Ridges-Hills in Valley&quot;: sn &gt;= 1 and ln &lt;= -1
</p>
</li>
<li><p> &quot;Midslopes Ridges-Small Hills in Plains&quot;: sn &gt;= 1 and -1 &lt; ln &lt; 1
</p>
</li>
<li><p> &quot;Mountain Tops-High Ridges&quot;: sn &gt;= 1 and ln &gt;= 1
</p>
</li></ul>



<h3>References</h3>

<p>Weiss, A. (2001). Topographic Position and Landforms Analysis. Poster presentation, ESRI User Conference, San Diego, CA.
</p>
<p>Jenness, J. (2003). TPI ArcView Extension. Jenness Enterprises. Available at: http://www.jennessent.com/arcview/tpi.htm
</p>


<h3>See Also</h3>

<p><code><a href="raster.html#topic+raster">raster</a></code>, <code><a href="terra.html#topic+rast">rast</a></code>, <code><a href="terra.html#topic+focal">focal</a></code>, <code><a href="terra.html#topic+terrain">terrain</a></code>, <code><a href="terra.html#topic+plot">plot</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Create a toy elevation dataset
# Define the raster dimensions
nrows &lt;- 100
ncols &lt;- 100

# Create a matrix with random values
set.seed(123) # to make the example reproducible
mat &lt;- matrix(runif(nrows*ncols), nrow=nrows, ncol=ncols)

# Convert the matrix to a raster object
library(terra)
elev &lt;- rast(mat)

# EXAMPLE 1

# Run the analysis
result &lt;- landform(elev, scale = 3, class.type = "slope.position")

# EXAMPLE 2

# Run the analysis
result &lt;- landform(elev, class.type = "landform.classification", sn=3, ln=11)


</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

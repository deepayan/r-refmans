<!DOCTYPE html><html><head><title>Help for package hereR</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {hereR}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#aoi'><p>Example Areas of Interest</p></a></li>
<li><a href='#autosuggest'><p>HERE Geocoding &amp; Search API: Autosuggest</p></a></li>
<li><a href='#connection'><p>HERE Public Transit API: Transit Route</p></a></li>
<li><a href='#flow'><p>HERE Traffic API: Flow</p></a></li>
<li><a href='#geocode'><p>HERE Geocoding &amp; Search API: Geocode</p></a></li>
<li><a href='#hereR-package'><p>hereR: 'sf'-Based Interface to the 'HERE' REST APIs</p></a></li>
<li><a href='#incident'><p>HERE Traffic API: Incidents</p></a></li>
<li><a href='#intermodal_route'><p>HERE Intermodal Routing API: Calculate Route</p></a></li>
<li><a href='#isoline'><p>HERE Isoline Routing API: Calculate Isoline</p></a></li>
<li><a href='#poi'><p>Example Points of Interest</p></a></li>
<li><a href='#reverse_geocode'><p>HERE Geocoding &amp; Search API: Reverse Geocode</p></a></li>
<li><a href='#route'><p>HERE Routing API: Calculate Route</p></a></li>
<li><a href='#route_matrix'><p>HERE Matrix Routing API: Calculate Matrix</p></a></li>
<li><a href='#set_currency'><p>Set the currency for HERE API requests</p></a></li>
<li><a href='#set_freemium'><p>Set whether plan is freemium or not</p></a></li>
<li><a href='#set_key'><p>Set HERE Application Credentials</p></a></li>
<li><a href='#set_verbose'><p>Verbose API usage of hereR</p></a></li>
<li><a href='#station'><p>HERE Public Transit API: Find Stations Nearby</p></a></li>
<li><a href='#unset_key'><p>Remove HERE Application Credentials</p></a></li>
<li><a href='#weather'><p>HERE Destination Weather API: Observations, Forecasts, Astronomy and Alerts</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>'sf'-Based Interface to the 'HERE' REST APIs</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.0</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Merlin Unterfinger &lt;info@munterfinger.ch&gt;</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://munterfi.github.io/hereR/">https://munterfi.github.io/hereR/</a>,
<a href="https://github.com/munterfi/hereR/">https://github.com/munterfi/hereR/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/munterfi/hereR/issues/">https://github.com/munterfi/hereR/issues/</a></td>
</tr>
<tr>
<td>Description:</td>
<td>Interface to the 'HERE' REST APIs <a href="https://developer.here.com/develop/rest-apis">https://developer.here.com/develop/rest-apis</a>:
  (1) geocode and autosuggest addresses or reverse geocode POIs using the 'Geocoder' API;
  (2) route directions, travel distance or time matrices and isolines using the 'Routing', 'Matrix Routing' and 'Isoline Routing' APIs;
  (3) request real-time traffic flow and incident information from the 'Traffic' API;
  (4) find request public transport connections and nearby stations from the 'Public Transit' API;
  (5) request intermodal routes using the 'Intermodal Routing' API;
  (6) get weather forecasts, reports on current weather conditions, astronomical
  information and alerts at a specific location from the 'Destination Weather' API.
  Locations, routes and isolines are returned as 'sf' objects.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.3.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>crul (&ge; 1.1.0), curl (&ge; 4.3), data.table (&ge; 1.13.0),
flexpolyline (&ge; 0.2.0), jsonlite (&ge; 1.7.0), sf (&ge; 0.9-0),
stringr (&ge; 1.4.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr (&ge; 3.5.0), ggplot2 (&ge; 3.3.2), htmlwidgets (&ge; 1.5.1),
knitr (&ge; 1.29), leafpop (&ge; 0.0.5), lwgeom (&ge; 0.2-5), mapview
(&ge; 2.9.0), rmarkdown (&ge; 2.3), testthat (&ge; 2.3.2)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-09-18 12:57:02 UTC; munterfi</td>
</tr>
<tr>
<td>Author:</td>
<td>Merlin Unterfinger
    <a href="https://orcid.org/0000-0003-2020-2366"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, cre],
  Daniel Possenriede
    <a href="https://orcid.org/0000-0002-6738-9845"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [ctb]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-09-18 14:10:05 UTC</td>
</tr>
</table>
<hr>
<h2 id='aoi'>Example Areas of Interest</h2><span id='topic+aoi'></span>

<h3>Description</h3>

<p>Some example Areas of Interest (AOIs):
The boundary polygons of the districts of Zurich. The districts serve as the
basis for administrative tasks within the City of Zurich.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(aoi)
</code></pre>


<h3>Format</h3>

<p>An object of class <code>"sf", "data.frame"</code>.
</p>


<h3>Source</h3>

<p>City of Zurich - Department of Civil Engineering and Waste Management - Geomatics + Surveying <a href="https://www.geocat.ch/geonetwork/srv/api/records/64091dfe-2785-4b8d-ab01-4ae291c1054a">@geocat.ch</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(aoi)
</code></pre>

<hr>
<h2 id='autosuggest'>HERE Geocoding &amp; Search API: Autosuggest</h2><span id='topic+autosuggest'></span>

<h3>Description</h3>

<p>Completes addresses using the HERE 'Geocoder Autosuggest' API.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>autosuggest(address, results = 5, url_only = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="autosuggest_+3A_address">address</code></td>
<td>
<p>character, address text to propose suggestions.</p>
</td></tr>
<tr><td><code id="autosuggest_+3A_results">results</code></td>
<td>
<p>numeric, maximum number of suggestions (Valid range: 1 and 100).</p>
</td></tr>
<tr><td><code id="autosuggest_+3A_url_only">url_only</code></td>
<td>
<p>boolean, only return the generated URLs (<code>default = FALSE</code>)?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>data.frame</code> object, containing the suggestions for the input addresses.
</p>


<h3>References</h3>

<p><a href="https://developer.here.com/documentation/geocoding-search-api/dev_guide/topics/endpoint-autosuggest-brief.html">HERE Geocoder API: Autosuggest</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Provide an API Key for a HERE project
set_key("&lt;YOUR API KEY&gt;")

suggestions &lt;- autosuggest(address = poi$city, url_only = TRUE)
</code></pre>

<hr>
<h2 id='connection'>HERE Public Transit API: Transit Route</h2><span id='topic+connection'></span>

<h3>Description</h3>

<p>Route public transport connections with geometries (<code>LINESTRING</code>) between pairs of points using the HERE 'Public Transit' API.
Two modes are provided:
</p>

<ul>
<li><p><code>summary = FALSE</code>: The public transport connections are returned as mulitple sections with the same vehicle and transport mode. Each section has a detailed route geometry.
</p>
</li>
<li><p><code>summary = TRUE</code>: A summary of the connections is retrieved, where each connection is represented as one row with a unified and simplified geometry.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>connection(
  origin,
  destination,
  datetime = Sys.time(),
  arrival = FALSE,
  results = 3,
  transfers = -1,
  transport_mode = NULL,
  summary = FALSE,
  url_only = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="connection_+3A_origin">origin</code></td>
<td>
<p><code>sf</code> object, the origin locations of geometry type <code>POINT</code>.</p>
</td></tr>
<tr><td><code id="connection_+3A_destination">destination</code></td>
<td>
<p><code>sf</code> object, the destination locations of geometry type <code>POINT</code>.</p>
</td></tr>
<tr><td><code id="connection_+3A_datetime">datetime</code></td>
<td>
<p><code>POSIXct</code> object, datetime for the departure (or arrival if <code>arrival = TRUE</code>).</p>
</td></tr>
<tr><td><code id="connection_+3A_arrival">arrival</code></td>
<td>
<p>boolean, calculate connections for arrival at the defined time (<code>default = FALSE</code>)?</p>
</td></tr>
<tr><td><code id="connection_+3A_results">results</code></td>
<td>
<p>numeric, maximum number of suggested public transport routes (Valid range: 1 and 6).</p>
</td></tr>
<tr><td><code id="connection_+3A_transfers">transfers</code></td>
<td>
<p>numeric, maximum number of transfers allowed per route (Valid range: -1 and 6, whereby the <code>default = -1</code> allows for unlimited transfers).</p>
</td></tr>
<tr><td><code id="connection_+3A_transport_mode">transport_mode</code></td>
<td>
<p>character, enable or disable (<code>"-"</code> prefix) transport modes. Note: Do not enable and disable modes at the same time (<code>default = NULL</code>).</p>
</td></tr>
<tr><td><code id="connection_+3A_summary">summary</code></td>
<td>
<p>boolean, return a summary of the public transport connections instead of the sections of the routes (<code>default = FALSE</code>)?</p>
</td></tr>
<tr><td><code id="connection_+3A_url_only">url_only</code></td>
<td>
<p>boolean, only return the generated URLs (<code>default = FALSE</code>)?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An <code>sf</code> object containing the requested routes.
</p>


<h3>References</h3>

<p><a href="https://developer.here.com/documentation/public-transit/dev_guide/routing/index.html">HERE Public Transit API: Transit Route</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Provide an API Key for a HERE project
set_key("&lt;YOUR API KEY&gt;")

# Connection sections
sections &lt;- connection(
  origin = poi[3:4, ], destination = poi[5:6, ],
  summary = FALSE, url_only = TRUE
)

# Connection summary
summary &lt;- connection(
  origin = poi[3:4, ], destination = poi[5:6, ],
  summary = TRUE, url_only = TRUE
)
</code></pre>

<hr>
<h2 id='flow'>HERE Traffic API: Flow</h2><span id='topic+flow'></span>

<h3>Description</h3>

<p>Real-time traffic flow from the HERE 'Traffic' API in areas of interest (AOIs).
The traffic flow data contains speed and congestion information, which
corresponds to the status of the traffic at the time of the query.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>flow(aoi, min_jam_factor = 0, url_only = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="flow_+3A_aoi">aoi</code></td>
<td>
<p><code>sf</code> object, Areas of Interest (POIs) of geometry type <code>POLYGON</code>.</p>
</td></tr>
<tr><td><code id="flow_+3A_min_jam_factor">min_jam_factor</code></td>
<td>
<p>numeric, only retrieve flow information with a jam factor greater than the value provided (<code>default = 0</code>).</p>
</td></tr>
<tr><td><code id="flow_+3A_url_only">url_only</code></td>
<td>
<p>boolean, only return the generated URLs (<code>default = FALSE</code>)?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An <code>sf</code> object containing the requested traffic flow information.
</p>


<h3>Note</h3>

<p>The maximum width and height of the bounding box of the input AOIs is 1 degree.
This means that each polygon (= one row) in the AOI <code>sf</code> object should fit in a 1 x 1 degree bbox.
</p>


<h3>References</h3>

<p><a href="https://developer.here.com/documentation/traffic-api/api-reference.html">HERE Traffic API: Flow</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Provide an API Key for a HERE project
set_key("&lt;YOUR API KEY&gt;")

# Real-time traffic flow
flow_data &lt;- flow(
  aoi = aoi,
  url_only = TRUE
)
</code></pre>

<hr>
<h2 id='geocode'>HERE Geocoding &amp; Search API: Geocode</h2><span id='topic+geocode'></span>

<h3>Description</h3>

<p>Geocodes addresses using the HERE 'Geocoding &amp; Search API' API.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geocode(address, alternatives = FALSE, sf = TRUE, url_only = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geocode_+3A_address">address</code></td>
<td>
<p>character, addresses to geocode or a list containing qualified queries with the keys &quot;country&quot;, &quot;state&quot;, &quot;county&quot;, &quot;city&quot;, &quot;district&quot;, &quot;street&quot;, &quot;houseNumber&quot; or &quot;postalCode&quot;.</p>
</td></tr>
<tr><td><code id="geocode_+3A_alternatives">alternatives</code></td>
<td>
<p>boolean, return also alternative results (<code>default = FALSE</code>)?</p>
</td></tr>
<tr><td><code id="geocode_+3A_sf">sf</code></td>
<td>
<p>boolean, return an <code>sf</code> object (<code>default = TRUE</code>) or a
<code>data.frame</code>?</p>
</td></tr>
<tr><td><code id="geocode_+3A_url_only">url_only</code></td>
<td>
<p>boolean, only return the generated URLs (<code>default =
FALSE</code>)?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>sf = TRUE</code>, an <code>sf</code> object, containing the position coordinates
geocoded addresses as geometry list column and the access coordinates as
well-known text (WKT).
If <code>sf = FALSE</code>, a <code>data.frame</code> containing the coordinates of the
geocoded addresses as <code>lng</code>, <code>lat</code> columns.
</p>
<p>According to the
<a href="https://developer.here.com/documentation/geocoding-search-api/api-reference-swagger.html">Geocoding
and Search API Reference</a>, the access coordinates are &quot;[c]oordinates of the
place you are navigating to (for example, driving or walking). This is a
point on a road or in a parking lot.&quot; The position coordinates are &quot;[t]he
coordinates (latitude, longitude) of a pin on a map corresponding to the
searched place.&quot;
</p>


<h3>References</h3>

<p><a href="https://developer.here.com/documentation/geocoding-search-api/dev_guide/index.html">HERE Geocoding &amp; Search API: Geocode</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Provide an API Key for a HERE project
set_key("&lt;YOUR API KEY&gt;")

locs &lt;- geocode(address = poi$city, url_only = TRUE)
</code></pre>

<hr>
<h2 id='hereR-package'>hereR: 'sf'-Based Interface to the 'HERE' REST APIs</h2><span id='topic+hereR'></span><span id='topic+hereR-package'></span>

<h3>Description</h3>

<p>Interface to the 'HERE' REST APIs <a href="https://developer.here.com/develop/rest-apis">https://developer.here.com/develop/rest-apis</a>: (1) geocode and autosuggest addresses or reverse geocode POIs using the 'Geocoder' API; (2) route directions, travel distance or time matrices and isolines using the 'Routing', 'Matrix Routing' and 'Isoline Routing' APIs; (3) request real-time traffic flow and incident information from the 'Traffic' API; (4) find request public transport connections and nearby stations from the 'Public Transit' API; (5) request intermodal routes using the 'Intermodal Routing' API; (6) get weather forecasts, reports on current weather conditions, astronomical information and alerts at a specific location from the 'Destination Weather' API. Locations, routes and isolines are returned as 'sf' objects.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Merlin Unterfinger <a href="mailto:info@munterfinger.ch">info@munterfinger.ch</a> (<a href="https://orcid.org/0000-0003-2020-2366">ORCID</a>)
</p>
<p>Other contributors:
</p>

<ul>
<li><p> Daniel Possenriede (<a href="https://orcid.org/0000-0002-6738-9845">ORCID</a>) [contributor]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://munterfi.github.io/hereR/">https://munterfi.github.io/hereR/</a>
</p>
</li>
<li> <p><a href="https://github.com/munterfi/hereR/">https://github.com/munterfi/hereR/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/munterfi/hereR/issues/">https://github.com/munterfi/hereR/issues/</a>
</p>
</li></ul>


<hr>
<h2 id='incident'>HERE Traffic API: Incidents</h2><span id='topic+incident'></span>

<h3>Description</h3>

<p>Traffic incident information from the HERE 'Traffic' API in areas of
interest (AOIs). The incidents contain information about location, duration,
severity, type, description and further details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>incident(aoi, from = NULL, to = NULL, url_only = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="incident_+3A_aoi">aoi</code></td>
<td>
<p><code>sf</code> object, Areas of Interest (POIs) of geometry type <code>POLYGON</code>.</p>
</td></tr>
<tr><td><code id="incident_+3A_from">from</code></td>
<td>
<p><code>POSIXct</code> object, start time of the earliest traffic incidents (<code>default = NULL</code>).</p>
</td></tr>
<tr><td><code id="incident_+3A_to">to</code></td>
<td>
<p><code>POSIXct</code> object, end time of the latest traffic incidents (<code>default = NULL</code>).</p>
</td></tr>
<tr><td><code id="incident_+3A_url_only">url_only</code></td>
<td>
<p>boolean, only return the generated URLs (<code>default = FALSE</code>)?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An <code>sf</code> object containing the traffic incidents.
</p>


<h3>Note</h3>

<p>The maximum width and height of the bounding box of the input AOIs is 1 degree.
This means that each polygon (= one row) in the AOI <code>sf</code> object should fit in a 1 x 1 degree bbox.
</p>


<h3>References</h3>

<p><a href="https://developer.here.com/documentation/traffic-api/api-reference.html">HERE Traffic API: Incidents</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Provide an API Key for a HERE project
set_key("&lt;YOUR API KEY&gt;")

# Traffic incidents
incidents &lt;- incident(
  aoi = aoi,
  url_only = TRUE
)
</code></pre>

<hr>
<h2 id='intermodal_route'>HERE Intermodal Routing API: Calculate Route</h2><span id='topic+intermodal_route'></span>

<h3>Description</h3>

<p>Calculates route geometries (<code>LINESTRING</code>) between given pairs of points using the HERE 'Intermodal Routing' API.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>intermodal_route(
  origin,
  destination,
  datetime = Sys.time(),
  results = 3,
  transfers = -1,
  url_only = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="intermodal_route_+3A_origin">origin</code></td>
<td>
<p><code>sf</code> object, the origin locations of geometry type <code>POINT</code>.</p>
</td></tr>
<tr><td><code id="intermodal_route_+3A_destination">destination</code></td>
<td>
<p><code>sf</code> object, the destination locations of geometry type <code>POINT</code>.</p>
</td></tr>
<tr><td><code id="intermodal_route_+3A_datetime">datetime</code></td>
<td>
<p><code>POSIXct</code> object, datetime for the departure (<code>default = Sys.time()</code>).</p>
</td></tr>
<tr><td><code id="intermodal_route_+3A_results">results</code></td>
<td>
<p>numeric, maximum number of suggested route alternatives (Valid range: 1 and 7, <code>default = 3</code>).</p>
</td></tr>
<tr><td><code id="intermodal_route_+3A_transfers">transfers</code></td>
<td>
<p>numeric, maximum number of transfers allowed per route (Valid range: -1 and 6, <code>default = -1</code>).</p>
</td></tr>
<tr><td><code id="intermodal_route_+3A_url_only">url_only</code></td>
<td>
<p>boolean, only return the generated URLs (<code>default = FALSE</code>)?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An <code>sf</code> object containing the requested intermodal routes.
</p>


<h3>References</h3>

<p><a href="https://developer.here.com/documentation/intermodal-routing/dev_guide/index.html">HERE Intermodal Routing API: Routes</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Provide an API Key for a HERE project
set_key("&lt;YOUR API KEY&gt;")

# Intermodal routing
routes &lt;- intermodal_route(
  origin = poi[1:3, ],
  destination = poi[4:6, ],
  url_only = TRUE
)
</code></pre>

<hr>
<h2 id='isoline'>HERE Isoline Routing API: Calculate Isoline</h2><span id='topic+isoline'></span>

<h3>Description</h3>

<p>Calcuates isolines (<code>POLYGON</code> or <code>MULTIPOLYGON</code>) using the HERE 'Isoline Routing' API
that connect the end points of all routes leaving from defined centers (POIs) with either
a specified length, a specified travel time or consumption (only the default E-car available).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>isoline(
  poi,
  datetime = Sys.time(),
  arrival = FALSE,
  range = seq(5, 30, 5) * 60,
  range_type = "time",
  routing_mode = "fast",
  transport_mode = "car",
  traffic = TRUE,
  optimize = "balanced",
  consumption_model = NULL,
  aggregate = FALSE,
  url_only = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="isoline_+3A_poi">poi</code></td>
<td>
<p><code>sf</code> object, Points of Interest (POIs) of geometry type <code>POINT</code>.</p>
</td></tr>
<tr><td><code id="isoline_+3A_datetime">datetime</code></td>
<td>
<p><code>POSIXct</code> object, datetime for the departure (or arrival if <code>arrival = TRUE</code>).</p>
</td></tr>
<tr><td><code id="isoline_+3A_arrival">arrival</code></td>
<td>
<p>boolean, are the provided Points of Interest (POIs) the origin or destination locations (<code>default = FALSE</code>)?</p>
</td></tr>
<tr><td><code id="isoline_+3A_range">range</code></td>
<td>
<p>numeric, a vector of type <code>integer</code> containing the breaks for the generation of the isolines: (1) time in seconds; (2) distance in meters; (3) consumption in Wh.</p>
</td></tr>
<tr><td><code id="isoline_+3A_range_type">range_type</code></td>
<td>
<p>character, unit of the isolines: <code>"distance"</code>, <code>"time"</code> or <code>"consumption"</code>.</p>
</td></tr>
<tr><td><code id="isoline_+3A_routing_mode">routing_mode</code></td>
<td>
<p>character, set the routing mode: <code>"fast"</code> or <code>"short"</code>.</p>
</td></tr>
<tr><td><code id="isoline_+3A_transport_mode">transport_mode</code></td>
<td>
<p>character, set the transport mode: <code>"car"</code>, <code>"pedestrian"</code> or <code>"truck"</code>.</p>
</td></tr>
<tr><td><code id="isoline_+3A_traffic">traffic</code></td>
<td>
<p>boolean, use real-time traffic or prediction in routing (<code>default = TRUE</code>)? If no traffic is selected, the <code>datetime</code> is set to <code>"any"</code> and the request is processed independently from time.</p>
</td></tr>
<tr><td><code id="isoline_+3A_optimize">optimize</code></td>
<td>
<p>character, specifies how isoline calculation is optimized: <code>"balanced"</code>, <code>"quality"</code> or <code>"performance"</code> (<code>default = "balanced"</code>).</p>
</td></tr>
<tr><td><code id="isoline_+3A_consumption_model">consumption_model</code></td>
<td>
<p>character, specify the consumption model of the vehicle (<code>default = NULL</code> an average electric car is set).</p>
</td></tr>
<tr><td><code id="isoline_+3A_aggregate">aggregate</code></td>
<td>
<p>boolean, aggregate (with function <code>min</code>) and intersect the isolines from geometry type <code>POLYGON</code> to geometry type <code>MULTIPOLYGON</code> (<code>default = FALSE</code>)?</p>
</td></tr>
<tr><td><code id="isoline_+3A_url_only">url_only</code></td>
<td>
<p>boolean, only return the generated URLs (<code>default = FALSE</code>)?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An <code>sf</code> object containing the requested isolines.
</p>


<h3>References</h3>

<p><a href="https://developer.here.com/documentation/isoline-routing-api/dev_guide/index.html">HERE Isoline Routing API</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Provide an API Key for a HERE project
set_key("&lt;YOUR API KEY&gt;")

# Isochrone for 5, 10, 15, 20, 25 and 30 minutes driving time
isolines &lt;- isoline(
  poi = poi,
  range = seq(5, 30, 5) * 60,
  url_only = TRUE
)
</code></pre>

<hr>
<h2 id='poi'>Example Points of Interest</h2><span id='topic+poi'></span>

<h3>Description</h3>

<p>Some example Points of Interest (POIs):
Cities in Switzerland and Liechtenstein with more than 100'000 inhabitants.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(poi)
</code></pre>


<h3>Format</h3>

<p>An object of class <code>"sf", "data.frame"</code>.
</p>


<h3>Source</h3>

<p>Made with Natural Earth. Free vector and raster map data <a href="https://raw.githubusercontent.com/nvkelso/natural-earth-vector/master/geojson/ne_10m_populated_places_simple.geojson">@naturalearthdata.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(poi)
</code></pre>

<hr>
<h2 id='reverse_geocode'>HERE Geocoding &amp; Search API: Reverse Geocode</h2><span id='topic+reverse_geocode'></span>

<h3>Description</h3>

<p>Get addresses from locations using the HERE 'Geocoder' API.
The return value is an <code>sf</code> object, containing point geometries
with suggestions for addresses near the provided POIs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reverse_geocode(poi, results = 1, sf = TRUE, url_only = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="reverse_geocode_+3A_poi">poi</code></td>
<td>
<p><code>sf</code> object, Points of Interest (POIs) of geometry type <code>POINT</code>.</p>
</td></tr>
<tr><td><code id="reverse_geocode_+3A_results">results</code></td>
<td>
<p>numeric, maximum number of results (Valid range: 1 and 100).</p>
</td></tr>
<tr><td><code id="reverse_geocode_+3A_sf">sf</code></td>
<td>
<p>boolean, return an <code>sf</code> object (<code>default = TRUE</code>) or a
<code>data.frame</code>?</p>
</td></tr>
<tr><td><code id="reverse_geocode_+3A_url_only">url_only</code></td>
<td>
<p>boolean, only return the generated URLs (<code>default = FALSE</code>)?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>sf = TRUE</code>, an <code>sf</code> object, containing the position coordinates
of the reverse geocoded POIs as geometry list column and the access
coordinates as well-known text (WKT).
If <code>sf = FALSE</code>, a <code>data.frame</code> containing the
coordinates of the reverse geocoded POIs as <code>lng</code>, <code>lat</code> columns.
</p>


<h3>Note</h3>

<p>If no addresses are found near a POI, <code>NULL</code> for this POI is returned.
In this case the rows corresponding to this particular POI are missing and merging the POIs by row is not possible.
However, in the returned <code>sf</code> object, the column <code>"id"</code> matches the rows of the input POIs.
The <code>"id"</code> column can be used to join the original POIs.
</p>


<h3>References</h3>

<p><a href="https://developer.here.com/documentation/geocoding-search-api/dev_guide/topics/endpoint-reverse-geocode-brief.html">HERE Geocoder API: Reverse Geocode</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Provide an API Key for a HERE project
set_key("&lt;YOUR API KEY&gt;")

# Get addresses
addresses &lt;- reverse_geocode(poi = poi, results = 3, url_only = TRUE)
</code></pre>

<hr>
<h2 id='route'>HERE Routing API: Calculate Route</h2><span id='topic+route'></span>

<h3>Description</h3>

<p>Calculates route geometries (<code>LINESTRING</code>) between given pairs of points using the HERE 'Routing' API.
Routes can be created for various transport modes, as for example 'car' or 'bicycle',
incorporating current traffic information, if available.
For routes using the transport mode <code>"car"</code> a vehicle consumption model can be specified,
to obtain an estimate of the consumption.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>route(
  origin,
  destination,
  datetime = Sys.time(),
  arrival = FALSE,
  results = 1,
  routing_mode = "fast",
  transport_mode = "car",
  traffic = TRUE,
  avoid_area = NULL,
  avoid_feature = NULL,
  consumption_model = NULL,
  vignettes = TRUE,
  url_only = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="route_+3A_origin">origin</code></td>
<td>
<p><code>sf</code> object, the origin locations of geometry type <code>POINT</code>.</p>
</td></tr>
<tr><td><code id="route_+3A_destination">destination</code></td>
<td>
<p><code>sf</code> object, the destination locations of geometry type <code>POINT</code>.</p>
</td></tr>
<tr><td><code id="route_+3A_datetime">datetime</code></td>
<td>
<p><code>POSIXct</code> object, datetime for the departure (or arrival if <code>arrival = TRUE</code>).</p>
</td></tr>
<tr><td><code id="route_+3A_arrival">arrival</code></td>
<td>
<p>boolean, calculate routes for arrival at the defined time (<code>default = FALSE</code>)?</p>
</td></tr>
<tr><td><code id="route_+3A_results">results</code></td>
<td>
<p>numeric, maximum number of suggested routes (Valid range: 1 and 7).</p>
</td></tr>
<tr><td><code id="route_+3A_routing_mode">routing_mode</code></td>
<td>
<p>character, set the routing type: <code>"fast"</code> or <code>"short"</code> (<code>default = "fast"</code>).</p>
</td></tr>
<tr><td><code id="route_+3A_transport_mode">transport_mode</code></td>
<td>
<p>character, set the transport mode: <code>"car"</code>, <code>"truck"</code>, <code>"pedestrian"</code>, <code>"bicycle"</code>, <code>"scooter"</code>, <code>"taxi"</code>, <code>"bus"</code> or <code>"privateBus"</code> (<code>default = "car"</code>).</p>
</td></tr>
<tr><td><code id="route_+3A_traffic">traffic</code></td>
<td>
<p>boolean, use real-time traffic or prediction in routing (<code>default = TRUE</code>)? If no traffic is selected, the <code>datetime</code> is set to <code>"any"</code> and the request is processed independently from time.</p>
</td></tr>
<tr><td><code id="route_+3A_avoid_area">avoid_area</code></td>
<td>
<p><code>sf</code> object, area (only bounding box is taken) to avoid in routes (<code>default = NULL</code>).</p>
</td></tr>
<tr><td><code id="route_+3A_avoid_feature">avoid_feature</code></td>
<td>
<p>character, transport network features to avoid, e.g. <code>"tollRoad"</code> or <code>"ferry"</code> (<code>default = NULL</code>).</p>
</td></tr>
<tr><td><code id="route_+3A_consumption_model">consumption_model</code></td>
<td>
<p>character, specify the consumption model of the vehicle (<code>default = NULL</code> an average electric car is set).</p>
</td></tr>
<tr><td><code id="route_+3A_vignettes">vignettes</code></td>
<td>
<p>boolean, include vignettes in the total toll cost of routes (<code>default = TRUE</code>).</p>
</td></tr>
<tr><td><code id="route_+3A_url_only">url_only</code></td>
<td>
<p>boolean, only return the generated URLs (<code>default = FALSE</code>)?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An <code>sf</code> object containing the requested routes.
</p>
<p>Tolls are requested for routes with transport mode <code>"car"</code>,
<code>"truck"</code> <code>"taxi"</code> or <code>"bus"</code>. The currency defaults to the
current system locale settings. A different currency can be set using
<a href="#topic+set_currency">set_currency</a> and a currency code compliant to ISO 4217.
</p>


<h3>References</h3>

<p><a href="https://developer.here.com/documentation/routing-api/dev_guide/index.html">HERE Routing API: Calculate Route</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Provide an API Key for a HERE project
set_key("&lt;YOUR API KEY&gt;")

# Get all from - to combinations from POIs
to &lt;- poi[rep(seq_len(nrow(poi)), nrow(poi)), ]
from &lt;- poi[rep(seq_len(nrow(poi)), each = nrow(poi)), ]
idx &lt;- apply(to != from, any, MARGIN = 1)
to &lt;- to[idx, ]
from &lt;- from[idx, ]

# Routing
routes &lt;- route(
  origin = from, destination = to, results = 3,
  transport_mode = "car", url_only = TRUE
)
</code></pre>

<hr>
<h2 id='route_matrix'>HERE Matrix Routing API: Calculate Matrix</h2><span id='topic+route_matrix'></span>

<h3>Description</h3>

<p>Calculates a matrix of M:N, M:1 or 1:N route summaries between given points of interest (POIs) using the HERE 'Matrix Routing' API.
Various transport modes and traffic information at a provided timestamp are supported.
The requested matrix is split into (sub-)matrices of dimension 15x100 to use the
maximum matrix size per request and thereby minimize the number of overall needed requests.
The result is one route summary matrix, that fits the order of the provided POIs: <code>orig_id</code>, <code>dest_id</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>route_matrix(
  origin,
  destination = origin,
  datetime = Sys.time(),
  routing_mode = "fast",
  transport_mode = "car",
  traffic = TRUE,
  url_only = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="route_matrix_+3A_origin">origin</code></td>
<td>
<p><code>sf</code> object, the origin locations (M) of geometry type <code>POINT</code>.</p>
</td></tr>
<tr><td><code id="route_matrix_+3A_destination">destination</code></td>
<td>
<p><code>sf</code> object, the destination locations (N) of geometry type <code>POINT</code>.</p>
</td></tr>
<tr><td><code id="route_matrix_+3A_datetime">datetime</code></td>
<td>
<p><code>POSIXct</code> object, datetime for the departure.</p>
</td></tr>
<tr><td><code id="route_matrix_+3A_routing_mode">routing_mode</code></td>
<td>
<p>character, set the routing type: <code>"fast"</code> or <code>"short"</code> (<code>default = "fast"</code>).</p>
</td></tr>
<tr><td><code id="route_matrix_+3A_transport_mode">transport_mode</code></td>
<td>
<p>character, set the transport mode: <code>"car"</code>, <code>"truck"</code>, <code>"pedestrian"</code>, <code>"bicycle"</code>, <code>"scooter"</code>, <code>"taxi"</code>, <code>"bus"</code> or <code>"privateBus"</code> (<code>default = "car"</code>).</p>
</td></tr>
<tr><td><code id="route_matrix_+3A_traffic">traffic</code></td>
<td>
<p>boolean, use real-time traffic or prediction in routing (<code>default = TRUE</code>)? If no traffic is selected, the <code>datetime</code> is set to <code>"any"</code> and the request is processed independently from time.</p>
</td></tr>
<tr><td><code id="route_matrix_+3A_url_only">url_only</code></td>
<td>
<p>boolean, only return the generated URLs (<code>default = FALSE</code>)?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>data.frame</code>, which is an edge list containing the requested M:N route combinations.
</p>


<h3>References</h3>

<p><a href="https://developer.here.com/documentation/matrix-routing-api/dev_guide/index.html">HERE Matrix Routing API</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Provide an API Key for a HERE project
set_key("&lt;YOUR API KEY&gt;")

# Create routes summaries between all POIs
mat &lt;- route_matrix(
  origin = poi,
  url_only = TRUE
)
</code></pre>

<hr>
<h2 id='set_currency'>Set the currency for HERE API requests</h2><span id='topic+set_currency'></span>

<h3>Description</h3>

<p>If the currency is not set using this function call, the currency defined in
the monetary representations in the current locale is used. If the monetary
formatting category <code>"LC_MONETARY"</code> of the C locale is not set,
<code>"USD"</code> is set as default.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_currency(currency = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="set_currency_+3A_currency">currency</code></td>
<td>
<p>character, the currency code compliant to ISO 4217 to use in
the requests (default = <code>NULL</code>, which defaults to the current system
locale settings).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>None.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set_currency("CHF")
</code></pre>

<hr>
<h2 id='set_freemium'>Set whether plan is freemium or not</h2><span id='topic+set_freemium'></span>

<h3>Description</h3>

<p>If set to <code>TRUE</code> the hereR package limits the requests per second (RPS)
sent to the APIs and routing matrices will be chopped up into submatrices
of size 15x100. This option is necessary for freemium licenses to avoid
hitting the rate limit of the APIs with status code 429. Deactivate this
option to increase speed of requests for paid plans.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_freemium(ans = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="set_freemium_+3A_ans">ans</code></td>
<td>
<p>boolean, use limits or not (default = <code>TRUE</code>)?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>None.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set_freemium(FALSE)
</code></pre>

<hr>
<h2 id='set_key'>Set HERE Application Credentials</h2><span id='topic+set_key'></span>

<h3>Description</h3>

<p>Provide an API Key for a HERE project of type 'REST'.
The key is set for the current R session and is used
to authenticate in the requests to the APIs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_key(api_key)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="set_key_+3A_api_key">api_key</code></td>
<td>
<p>character, the API key from a HERE project.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>No login yet? Get a login and key here: <a href="https://developer.here.com/">klick</a>
</p>


<h3>Value</h3>

<p>None.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set_key("&lt;YOUR API KEY&gt;")
</code></pre>

<hr>
<h2 id='set_verbose'>Verbose API usage of hereR</h2><span id='topic+set_verbose'></span>

<h3>Description</h3>

<p>If set to <code>TRUE</code> the hereR package is messaging information about
the amount of requests sent to the APIs and data size received.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_verbose(ans = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="set_verbose_+3A_ans">ans</code></td>
<td>
<p>boolean, verbose or not (default = <code>FALSE</code>)?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>None.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set_verbose(TRUE)
</code></pre>

<hr>
<h2 id='station'>HERE Public Transit API: Find Stations Nearby</h2><span id='topic+station'></span>

<h3>Description</h3>

<p>Retrieve stations with the corresponding line information around given locations using the HERE 'Public Transit' API.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>station(poi, radius = 500, results = 50, url_only = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="station_+3A_poi">poi</code></td>
<td>
<p><code>sf</code> object, Points of Interest (POIs) of geometry type <code>POINT</code>.</p>
</td></tr>
<tr><td><code id="station_+3A_radius">radius</code></td>
<td>
<p>numeric, the search radius in meters (<code>default = 500</code>).</p>
</td></tr>
<tr><td><code id="station_+3A_results">results</code></td>
<td>
<p>numeric, maximum number of suggested public transport stations (Valid range: 1 and 50, <code>default = 50</code>).</p>
</td></tr>
<tr><td><code id="station_+3A_url_only">url_only</code></td>
<td>
<p>boolean, only return the generated URLs (<code>default = FALSE</code>)?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An <code>sf</code> object containing the requested stations with the corresponding line information.
</p>


<h3>References</h3>

<p><a href="https://developer.here.com/documentation/public-transit/dev_guide/station-search/index.html">HERE Public Transit API: Station Search</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Provide an API Key for a HERE project
set_key("&lt;YOUR API KEY&gt;")

# Stations
stations &lt;- station(poi = poi, url_only = TRUE)
</code></pre>

<hr>
<h2 id='unset_key'>Remove HERE Application Credentials</h2><span id='topic+unset_key'></span>

<h3>Description</h3>

<p>Remove previously set HERE API key from the current R session.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>unset_key()
</code></pre>


<h3>Value</h3>

<p>None.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>unset_key()
</code></pre>

<hr>
<h2 id='weather'>HERE Destination Weather API: Observations, Forecasts, Astronomy and Alerts</h2><span id='topic+weather'></span>

<h3>Description</h3>

<p>Weather forecasts, reports on current weather conditions,
astronomical information and alerts at a specific location (coordinates or
location name) based on the HERE 'Destination Weather' API.
The information comes from the nearest available weather station and is not interpolated.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>weather(poi, product = "observation", url_only = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="weather_+3A_poi">poi</code></td>
<td>
<p><code>sf</code> object or character, Points of Interest (POIs) of geometry type <code>POINT</code> or location names (e.g. cities or regions).</p>
</td></tr>
<tr><td><code id="weather_+3A_product">product</code></td>
<td>
<p>character, weather product of the 'Destination Weather API'. Supported products: <code>"observation"</code>, <code>"forecastHourly"</code>, <code>"forecastAstronomy"</code> and <code>"alerts"</code>.</p>
</td></tr>
<tr><td><code id="weather_+3A_url_only">url_only</code></td>
<td>
<p>boolean, only return the generated URLs (<code>default = FALSE</code>)?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An <code>sf</code> object containing the requested weather information at the nearest weather station.
The point geometry in the <code>sf</code> object is the location of the weather station.
</p>


<h3>References</h3>

<p><a href="https://developer.here.com/documentation/destination-weather/api-reference-v3.html">HERE Destination Weather API</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Provide an API Key for a HERE project
set_key("&lt;YOUR API KEY&gt;")

# Observation
observation &lt;- weather(poi = poi, product = "observation", url_only = TRUE)

# Forecast
forecast &lt;- weather(poi = poi, product = "forecast_hourly", url_only = TRUE)

# Astronomy
astronomy &lt;- weather(poi = poi, product = "forecast_astronomy", url_only = TRUE)

# Alerts
alerts &lt;- weather(poi = poi, product = "alerts", url_only = TRUE)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

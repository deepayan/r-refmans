<!DOCTYPE html><html><head><title>Help for package eatGADS</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {eatGADS}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#eatGADS-package'><p>eatGADS: Data management of hierarchical SPSS files via R and SQLite</p></a></li>
<li><a href='#applyChangeMeta'><p>Apply Meta Data Changes.</p></a></li>
<li><a href='#applyLookup'><p>Recode via lookup table.</p></a></li>
<li><a href='#applyLookup_expandVar'><p>Recode via lookup table into multiple variables.</p></a></li>
<li><a href='#applyNumCheck'><p>Apply recodes according to a numerical check data.frame.</p></a></li>
<li><a href='#assimilateValLabels'><p>Assimilate value labels.</p></a></li>
<li><a href='#autoRecode'><p>Auto recode a variable in a <code>GADSdat</code>.</p></a></li>
<li><a href='#calculateScale'><p>Calculate a scale.</p></a></li>
<li><a href='#cbind.GADSdat'><p>Bind two <code>GADSdat</code> objects into a single <code>GADSdat</code> object by columns.</p></a></li>
<li><a href='#changeMissings'><p>Change missing code.</p></a></li>
<li><a href='#changeSPSSformat'><p>Change SPSS format.</p></a></li>
<li><a href='#changeValLabels'><p>Change value labels.</p></a></li>
<li><a href='#changeVarLabels'><p>Change the variable label.</p></a></li>
<li><a href='#changeVarNames'><p>Change Variable Names.</p></a></li>
<li><a href='#check4SPSS'><p>Check <code>SPSS</code> Compliance of Meta Data</p></a></li>
<li><a href='#checkEmptyValLabels'><p>Check Value Labels</p></a></li>
<li><a href='#checkFormat'><p>Check and Adjust SPSS Format</p></a></li>
<li><a href='#checkMissings'><p>Check and Adjust Missing Tags</p></a></li>
<li><a href='#checkTrendStructure'><p>Checks compatibility of two <code>eatGADS</code> data bases.</p></a></li>
<li><a href='#checkUniqueness'><p>Check uniqueness of a variable.</p></a></li>
<li><a href='#checkUniqueness2'><p>Check uniqueness of a variable.</p></a></li>
<li><a href='#checkValue'><p>Check for a specific value</p></a></li>
<li><a href='#checkVarNames'><p>Check names for <code>SQLite</code> column name conventions.</p></a></li>
<li><a href='#clean_cache'><p>Clean temporary cache.</p></a></li>
<li><a href='#cloneVariable'><p>Clone a variable.</p></a></li>
<li><a href='#collapseColumns'><p>Collapse two columns of a lookup table.</p></a></li>
<li><a href='#collapseMC_Text'><p>Recode a multiple choice variable according to a character variable.</p></a></li>
<li><a href='#collapseMultiMC_Text'><p>Recode multiple choice variable with multiple variables.</p></a></li>
<li><a href='#compareGADS'><p>Compare two GADS.</p></a></li>
<li><a href='#composeVar'><p>Create a composite variable.</p></a></li>
<li><a href='#convertCase'><p>Modify upper and lower case for strings.</p></a></li>
<li><a href='#createGADS'><p>Create an <code>eatGADS</code> data base.</p></a></li>
<li><a href='#createLookup'><p>Extract values for recoding.</p></a></li>
<li><a href='#createNumCheck'><p>Create data.frame for specification of numerical plausibility checks.</p></a></li>
<li><a href='#createVariable'><p>Create a variable.</p></a></li>
<li><a href='#dummies2char'><p>Transform dummy variables to character variables.</p></a></li>
<li><a href='#emptyTheseVariables'><p>Set variables to <code>NA</code>.</p></a></li>
<li><a href='#equalGADS'><p>Test if two <code>GADSdat</code> objects are (nearly) equal</p></a></li>
<li><a href='#export_tibble'><p>Transform a <code>GADSdat</code> to a <code>tibble</code></p></a></li>
<li><a href='#extractData'><p>Extract Data</p></a></li>
<li><a href='#extractData2'><p>Extract Data 2</p></a></li>
<li><a href='#extractDataOld'><p>Extract Data while merging linking errors.</p></a></li>
<li><a href='#extractGADSdat'><p>Extract single <code>GADSdat</code> from <code>all_GADSdat</code></p></a></li>
<li><a href='#extractMeta'><p>Get Meta Data</p></a></li>
<li><a href='#extractVars'><p>Extract or remove variables from a <code>GADSdat</code>.</p></a></li>
<li><a href='#fac2dummies'><p>Transform a factor variable to dummy variables.</p></a></li>
<li><a href='#fac2dummies_complex'><p>Transform a complex factor variable to dummy variables.</p></a></li>
<li><a href='#fillImputations'><p>Fill imputed values.</p></a></li>
<li><a href='#fixEncoding'><p>Remove special characters.</p></a></li>
<li><a href='#getChangeMeta'><p>Extract table for Meta Data Changes.</p></a></li>
<li><a href='#getGADS'><p>Get data from GADS data base.</p></a></li>
<li><a href='#getGADS_fast'><p>Get data from GADS data base fast from server directory.</p></a></li>
<li><a href='#getTrendGADS'><p>Get data for trend reports.</p></a></li>
<li><a href='#getTrendGADSOld'><p>Get data for trend reports.</p></a></li>
<li><a href='#import_convertLabel'><p>Import an object imported via <code>convertLabel</code></p></a></li>
<li><a href='#import_DF'><p>Import R <code>data.frame</code></p></a></li>
<li><a href='#import_raw'><p>Import R data frame with explicit meta data sheets</p></a></li>
<li><a href='#import_raw2'><p>Import R data frame with a explicit meta data sheet</p></a></li>
<li><a href='#import_RDS'><p>Import <code>RDS</code> file</p></a></li>
<li><a href='#import_spss'><p>Import SPSS data</p></a></li>
<li><a href='#import_stata'><p>Import <code>Stata</code> data</p></a></li>
<li><a href='#insertVariable'><p>Reorder a single variable in a <code>GADSdat</code>.</p></a></li>
<li><a href='#inspectDifferences'><p>Inspect differences in a variable.</p></a></li>
<li><a href='#inspectMetaDifferences'><p>Inspect meta data differences in a variable.</p></a></li>
<li><a href='#labelsGADS'><p>Labels from relational <code>eatGADS</code> data base.</p></a></li>
<li><a href='#matchValues_varLabels'><p>Match regular expressions and variable names.</p></a></li>
<li><a href='#merge.GADSdat'><p>Merge two <code>GADSdat</code> objects into a single <code>GADSdat</code> object.</p></a></li>
<li><a href='#mergeLabels'><p>Prepare data and metadata</p></a></li>
<li><a href='#miss2NA'><p>Recode Missings to <code>NA</code></p></a></li>
<li><a href='#multiChar2fac'><p>Transform one or multiple character variables to factor.</p></a></li>
<li><a href='#namesGADS'><p>Variables names of a GADS.</p></a></li>
<li><a href='#orderLike'><p>Order the variables in a <code>GADSdat</code>.</p></a></li>
<li><a href='#pisa'><p>PISA Plus Example Data</p></a></li>
<li><a href='#recode2NA'><p>Recode values to <code>NA</code>.</p></a></li>
<li><a href='#recodeGADS'><p>Recode a variable.</p></a></li>
<li><a href='#recodeNA2missing'><p>Recode <code>NAs</code> to Missing.</p></a></li>
<li><a href='#recodeString2NA'><p>Recode a string to <code>NA</code>.</p></a></li>
<li><a href='#relocateVariable'><p>Reorder a single variable in a <code>GADSdat</code>.</p></a></li>
<li><a href='#remove2NAchar'><p>Shorten multiple text variables while giving NA codes.</p></a></li>
<li><a href='#removeValLabels'><p>Remove value labels.</p></a></li>
<li><a href='#reuseMeta'><p>Use meta data for variables from another <code>GADSdat</code>.</p></a></li>
<li><a href='#splitGADS'><p>Split <code>GADSdat</code> into hierarchy levels.</p></a></li>
<li><a href='#stringAsNumeric'><p>Transform string to numeric.</p></a></li>
<li><a href='#subImputations'><p>Substitute imputed values.</p></a></li>
<li><a href='#updateMeta'><p>Update meta data.</p></a></li>
<li><a href='#write_spss'><p>Write a <code>GADSdat</code> object to a file</p></a></li>
<li><a href='#write_spss2'><p>Write a <code>GADSdat</code> object to <code>txt</code> and <code>SPSS</code> syntax</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Data Management of Large Hierarchical Data</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Import 'SPSS' data, handle and change 'SPSS' meta data, store and access large hierarchical data in 'SQLite' data bases.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>eatDB (&ge; 0.5.0), haven (&ge; 2.4.0), plyr, eatTools (&ge; 0.4.0),
tibble, data.table, hms, stats, utils, stringi</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/beckerbenj/eatGADS">https://github.com/beckerbenj/eatGADS</a>,
<a href="https://beckerbenj.github.io/eatGADS/">https://beckerbenj.github.io/eatGADS/</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, knitr, rmarkdown, covr, tidyr (&ge; 1.1.0)</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-08-25 11:10:37 UTC; beckerbz</td>
</tr>
<tr>
<td>Author:</td>
<td>Benjamin Becker [aut, cre],
  Karoline Sachse [ctb],
  Johanna Busse [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Benjamin Becker &lt;b.becker@iqb.hu-berlin.de&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-08-25 11:50:05 UTC</td>
</tr>
</table>
<hr>
<h2 id='eatGADS-package'>eatGADS: Data management of hierarchical SPSS files via R and SQLite</h2><span id='topic+eatGADS'></span><span id='topic+eatGADS-package'></span>

<h3>Description</h3>

<p>The <code>eatGADS</code> package provides various functionality, mainly:
importing data,
data and meta data cleaning,
creating a fixed form <code>SQLite</code> data base
and using the <code>SQLite</code> data base.
</p>


<h3>Importing data</h3>

<p><code>SPSS</code> data (<code>.sav</code>) can be imported via <code><a href="#topic+import_spss">import_spss</a></code>. Further import functions exist as well:
<code><a href="#topic+import_stata">import_stata</a></code> for importing <code>Stata</code> data (<code>.dta</code>),
<code><a href="#topic+import_DF">import_DF</a></code> for importing <code>R</code> <code>data.frames</code>,
<code><a href="#topic+import_RDS">import_RDS</a></code> for importing <code>R</code> <code>data.frames</code> saved as <code>.RDS</code> files,
and <code><a href="#topic+import_raw">import_raw</a></code> as well as <code><a href="#topic+import_raw2">import_raw2</a></code> for importing data from raw data and meta data files.
</p>


<h3>Data and meta data cleaning</h3>

<p>Data cleaning functions include functions for recoding data (e.g., <code><a href="#topic+recodeGADS">recodeGADS</a></code>)
or re-ordering variables (e.g., <code><a href="#topic+relocateVariable">relocateVariable</a></code>).
Meta data cleaning functions include functions for changing variables labels (e.g., <code><a href="#topic+changeVarLabels">changeVarLabels</a></code>),
changing value labels <code><a href="#topic+changeValLabels">changeValLabels</a></code> or modifying missings tags <code><a href="#topic+changeMissings">changeMissings</a></code>.
</p>


<h3>Creating a GADS data base</h3>

<p>Hierarchical data sets are combined via <code><a href="#topic+mergeLabels">mergeLabels</a></code> and the data base is created via <code><a href="#topic+createGADS">createGADS</a></code>. For this, the package <code>eatDB</code> is utilized. See also <code><a href="eatDB.html#topic+createDB">createDB</a></code>.
</p>


<h3>Using the GADS</h3>

<p>The content of a data base can be obtained via <code><a href="#topic+namesGADS">namesGADS</a></code>. Data is extracted from the data base via <code><a href="#topic+getGADS">getGADS</a></code> for a single GADS and via <code><a href="#topic+getTrendGADS">getTrendGADS</a></code> for trend analysis. The resulting object is a <code>GADSdat</code> object. Meta data can be extracted via <code><a href="#topic+extractMeta">extractMeta</a></code>, either from the <code>GADSdat</code> object or directly from the data base. Data can be extracted from the <code>GADSdat</code> object via <code><a href="#topic+extractData">extractData</a></code>.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Benjamin Becker <a href="mailto:b.becker@iqb.hu-berlin.de">b.becker@iqb.hu-berlin.de</a>
</p>
<p>Other contributors:
</p>

<ul>
<li><p> Karoline Sachse [contributor]
</p>
</li>
<li><p> Johanna Busse [contributor]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/beckerbenj/eatGADS">https://github.com/beckerbenj/eatGADS</a>
</p>
</li>
<li> <p><a href="https://beckerbenj.github.io/eatGADS/">https://beckerbenj.github.io/eatGADS/</a>
</p>
</li></ul>


<hr>
<h2 id='applyChangeMeta'>Apply Meta Data Changes.</h2><span id='topic+applyChangeMeta'></span><span id='topic+applyChangeMeta.varChanges'></span><span id='topic+applyChangeMeta.valChanges'></span>

<h3>Description</h3>

<p>Function to apply meta data changes to a <code>GADSdat</code> object specified by a change table extracted by <code><a href="#topic+getChangeMeta">getChangeMeta</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>applyChangeMeta(changeTable, GADSdat, ...)

## S3 method for class 'varChanges'
applyChangeMeta(changeTable, GADSdat, checkVarNames = TRUE, ...)

## S3 method for class 'valChanges'
applyChangeMeta(
  changeTable,
  GADSdat,
  existingMeta = c("stop", "value", "value_new", "drop", "ignore"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="applyChangeMeta_+3A_changetable">changeTable</code></td>
<td>
<p>Change table as provided by <code><a href="#topic+getChangeMeta">getChangeMeta</a></code>.</p>
</td></tr>
<tr><td><code id="applyChangeMeta_+3A_gadsdat">GADSdat</code></td>
<td>
<p><code>GADSdat</code> object imported via <code>eatGADS</code>.</p>
</td></tr>
<tr><td><code id="applyChangeMeta_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td></tr>
<tr><td><code id="applyChangeMeta_+3A_checkvarnames">checkVarNames</code></td>
<td>
<p>Logical. Should new variable names be checked by <code><a href="#topic+checkVarNames">checkVarNames</a></code>?</p>
</td></tr>
<tr><td><code id="applyChangeMeta_+3A_existingmeta">existingMeta</code></td>
<td>
<p>If values are recoded, which meta data should be used (see details)?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Values for which the change columns contain <code>NA</code> remain unchanged. If changes are performed on value levels, recoding into
existing values can occur. In these cases, <code>existingMeta</code> determines how the resulting meta data conflicts are handled,
either raising an error if any occur (<code>"stop"</code>),
keeping the original meta data for the value (<code>"value"</code>),
using the meta data in the <code>changeTable</code> and, if incomplete, from the recoded value (<code>"value_new"</code>),
or leaving the respective meta data untouched (<code>"ignore"</code>).
</p>
<p>Furthermore, one might recode multiple old values in the same new value. This is currently only possible with
<code>existingMeta = "drop"</code>, which drops all related meta data on value level, or
<code>existingMeta = "ignore"</code>, which leaves all related meta data on value level untouched.
</p>


<h3>Value</h3>

<p>Returns the modified <code>GADSdat</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Change a variable name and label
varChangeTable &lt;- getChangeMeta(pisa, level = "variable")
varChangeTable[1, c("varName_new", "varLabel_new")] &lt;- c("IDstud", "Person ID")

pisa2 &lt;- applyChangeMeta(varChangeTable, GADSdat = pisa)
</code></pre>

<hr>
<h2 id='applyLookup'>Recode via lookup table.</h2><span id='topic+applyLookup'></span>

<h3>Description</h3>

<p>Recode one or multiple variables based on a lookup table created via <code><a href="#topic+createLookup">createLookup</a></code>
(and potentially formatted by <code><a href="#topic+collapseColumns">collapseColumns</a></code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>applyLookup(GADSdat, lookup, suffix = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="applyLookup_+3A_gadsdat">GADSdat</code></td>
<td>
<p>A <code>GADSdat</code> object.</p>
</td></tr>
<tr><td><code id="applyLookup_+3A_lookup">lookup</code></td>
<td>
<p>Lookup table created by <code><a href="#topic+createLookup">createLookup</a></code> and - if necessary -  collapsed by <code><a href="#topic+collapseColumns">collapseColumns</a></code>.
Column names must be <code>c("variable", "value", "value_new")</code>.</p>
</td></tr>
<tr><td><code id="applyLookup_+3A_suffix">suffix</code></td>
<td>
<p>Suffix to add to the existing variable names. If <code>NULL</code>, the old variables will be overwritten.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If there are missing values in the column <code>value_new</code>, <code>NAs</code> are inserted as new values
and a <code>warning</code> is issued.
</p>
<p>The complete work flow when using a lookup table to recode multiple variables in a <code>GADSdat</code> could be:
(0) optional: Recode empty strings to <code>NA</code> (necessary, if the look up table is written to excel).
(1) create a lookup table with <code><a href="#topic+createLookup">createLookup</a></code>.
(2) Save the lookup table to <code>.xlsx</code> with <code>write_xlsx</code> from <code>eatAnalysis</code>.
(3) fill out the lookup table via <code>Excel</code>.
(4) Import the lookup table back to <code>R</code> via <code>read_excel</code> from <code>readxl</code>.
(5) Apply the final lookup table with <code>applyLookup</code>.
</p>
<p>See <code><a href="#topic+applyLookup_expandVar">applyLookup_expandVar</a></code> for recoding a single variable into multiple variables.
</p>


<h3>Value</h3>

<p>Returns a recoded <code>GADSdat</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## create an example GADSdat
iris2 &lt;- iris
iris2$Species &lt;- as.character(iris2$Species)
gads &lt;- import_DF(iris2)

## create Lookup
lu &lt;- createLookup(gads, recodeVars = "Species")
lu$value_new &lt;- c("plant 1", "plant 2", "plant 3")

## apply lookup table
gads2 &lt;- applyLookup(gads, lookup = lu, suffix = "_r")

## only recode some values
lu2 &lt;- createLookup(gads, recodeVars = "Species")
lu2$value_new &lt;- c("plant 1", "plant 2", NA)
gads3 &lt;- applyLookup(gads, lookup = lu2, suffix = "_r")

</code></pre>

<hr>
<h2 id='applyLookup_expandVar'>Recode via lookup table into multiple variables.</h2><span id='topic+applyLookup_expandVar'></span>

<h3>Description</h3>

<p>Recode one or multiple variables based on a lookup table created via <code><a href="#topic+createLookup">createLookup</a></code>.
In contrast to <code><a href="#topic+applyLookup">applyLookup</a></code>, this function allows the creation of multiple resulting
variables from a single input variable. All variables in <code>lookup</code> except
<code>variable</code> and <code>value</code> are treated as recode columns.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>applyLookup_expandVar(GADSdat, lookup)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="applyLookup_expandVar_+3A_gadsdat">GADSdat</code></td>
<td>
<p>A <code>GADSdat</code> object.</p>
</td></tr>
<tr><td><code id="applyLookup_expandVar_+3A_lookup">lookup</code></td>
<td>
<p>Lookup table created by <code><a href="#topic+createLookup">createLookup</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If a variable contains information that should be split into multiple variables via manual recoding,
<code>applyLookup_expandVar</code> can be used. If there are missing values in any recode column,
<code>NAs</code> are inserted as new values. A <code>warning</code> is issued only for the first column.
</p>
<p>The complete work flow when using a lookup table to expand variables in a <code>GADSdat</code> based on manual recoding could be:
(1) create a lookup table with <code><a href="#topic+createLookup">createLookup</a></code>.
(2) Save the lookup table to <code>.xlsx</code> with <code>write_xlsx</code> from <code>eatAnalysis</code>.
(3) fill out the lookup table via <code>Excel</code>.
(4) Import the lookup table back to <code>R</code> via <code>read_excel</code> from <code>readxl</code>.
(5) Apply the final lookup table with <code>applyLookup_expandVar</code>.
</p>
<p>See <code><a href="#topic+applyLookup">applyLookup</a></code> for simply recoding variables in a <code>GADSdat</code>.
</p>


<h3>Value</h3>

<p>Returns a recoded <code>GADSdat</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## create an example GADSdat
example_df &lt;- data.frame(ID = 1:6,
                        citizenship = c("germ", "engl", "germ, usa", "china",
                                        "austral, morocco", "nothin"),
                        stringsAsFactors = FALSE)
gads &lt;- import_DF(example_df)

## create Lookup
lu &lt;- createLookup(gads, recodeVars = "citizenship", addCol = c("cit_1", "cit_2"))
lu$cit_1 &lt;- c("German", "English", "German", "Chinese", "Australian", NA)
lu$cit_2 &lt;- c(NA, NA, "USA", NA, "Morocco", NA)

## apply lookup table
gads2 &lt;- applyLookup_expandVar(gads, lookup = lu)

</code></pre>

<hr>
<h2 id='applyNumCheck'>Apply recodes according to a numerical check data.frame.</h2><span id='topic+applyNumCheck'></span>

<h3>Description</h3>

<p>Applies recodes as specified by a <code>numCheck</code> <code>data.frame</code>, as created by <code><a href="#topic+createNumCheck">createNumCheck</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>applyNumCheck(GADSdat, numCheck)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="applyNumCheck_+3A_gadsdat">GADSdat</code></td>
<td>
<p>A <code>GADSdat</code> object.</p>
</td></tr>
<tr><td><code id="applyNumCheck_+3A_numcheck">numCheck</code></td>
<td>
<p>A <code>data.frame</code> as created by <code><a href="#topic+createNumCheck">createNumCheck</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is currently under development.
</p>


<h3>Value</h3>

<p>A recoded <code>GADSdat</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># tbd

</code></pre>

<hr>
<h2 id='assimilateValLabels'>Assimilate value labels.</h2><span id='topic+assimilateValLabels'></span>

<h3>Description</h3>

<p>Assimilate all value labels of multiple variables as part of a <code>GADSdat</code> or <code>all_GADSdat</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>assimilateValLabels(GADSdat, varNames, lookup = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="assimilateValLabels_+3A_gadsdat">GADSdat</code></td>
<td>
<p><code>GADSdat</code> object imported via <code>eatGADS</code>.</p>
</td></tr>
<tr><td><code id="assimilateValLabels_+3A_varnames">varNames</code></td>
<td>
<p>Character string of a variable name.</p>
</td></tr>
<tr><td><code id="assimilateValLabels_+3A_lookup">lookup</code></td>
<td>
<p>Look up <code>data.frame</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Assimilation can be performed using all existing value labels or a look up table containing at least all existing value labels.
Missing codes are reused based on the meta data of the first variable in <code>varNames</code>.
</p>


<h3>Value</h3>

<p>Returns the <code>GADSdat</code> object with changed meta data and recoded values.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Example data set
facs_df &lt;- data.frame(id = 1:3, fac1 = c("Eng", "Aus", "Ger"),
                      fac2 = c("Ger", "Franz", "Ita"),
                      fac3 = c("Kor", "Chi", "Alg"),
                      stringsAsFactors = TRUE)
facs_gads &lt;- import_DF(facs_df)

assimilateValLabels(facs_gads, varNames = paste0("fac", 1:3))

</code></pre>

<hr>
<h2 id='autoRecode'>Auto recode a variable in a <code>GADSdat</code>.</h2><span id='topic+autoRecode'></span>

<h3>Description</h3>

<p>Auto recode a variable in a <code>GADSdat</code>. A look up table is created containing the respective recode pairs.
An existing look up table can be utilized via <code>template</code>. This function somewhat mirrors the functionality provided
by the <code>SPSS</code> function <code>autorecode</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>autoRecode(
  GADSdat,
  var,
  var_suffix = "",
  label_suffix = "",
  csv_path = NULL,
  template = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="autoRecode_+3A_gadsdat">GADSdat</code></td>
<td>
<p>A <code>GADSdat</code> object.</p>
</td></tr>
<tr><td><code id="autoRecode_+3A_var">var</code></td>
<td>
<p>Character string of the variable name which should be recoded.</p>
</td></tr>
<tr><td><code id="autoRecode_+3A_var_suffix">var_suffix</code></td>
<td>
<p>Variable suffix for the newly created <code>GADSdat</code>. If an empty character, the existing variables are overwritten.</p>
</td></tr>
<tr><td><code id="autoRecode_+3A_label_suffix">label_suffix</code></td>
<td>
<p>Suffix added to variable label for the newly created variable in the <code>GADSdat</code>.</p>
</td></tr>
<tr><td><code id="autoRecode_+3A_csv_path">csv_path</code></td>
<td>
<p>Path for the <code>.csv</code> file for the look up table.</p>
</td></tr>
<tr><td><code id="autoRecode_+3A_template">template</code></td>
<td>
<p>Existing look up table.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If an existing <code>template</code> is used and a look up table is saved as a <code>.csv</code> file, the resulting look up
table will contain the existing recodes plus additional recode pairs required for the data.
</p>


<h3>Value</h3>

<p>Returns a <code>GADSdat</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>gads &lt;- import_DF(data.frame(v1 = letters))

# auto recode without saving look up table
gads2 &lt;- autoRecode(gads, var = "v1", var_suffix = "_num")

# auto recode with saving look up table
f &lt;- tempfile(fileext = ".csv")
gads2 &lt;- autoRecode(gads, var = "v1", var_suffix = "_num", csv_path = f)
</code></pre>

<hr>
<h2 id='calculateScale'>Calculate a scale.</h2><span id='topic+calculateScale'></span>

<h3>Description</h3>

<p>Calculate a scale variable based on multiple items.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calculateScale(
  GADSdat,
  items,
  scale,
  maxNA = length(items),
  reportDescr = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calculateScale_+3A_gadsdat">GADSdat</code></td>
<td>
<p>A <code>data.frame</code> or <code>GADSdat</code> object.</p>
</td></tr>
<tr><td><code id="calculateScale_+3A_items">items</code></td>
<td>
<p>A character vector with all item variable names.</p>
</td></tr>
<tr><td><code id="calculateScale_+3A_scale">scale</code></td>
<td>
<p>A character vector with the scale name.</p>
</td></tr>
<tr><td><code id="calculateScale_+3A_maxna">maxNA</code></td>
<td>
<p>Maximum number of allowed <code>NA</code> values on the items.</p>
</td></tr>
<tr><td><code id="calculateScale_+3A_reportdescr">reportDescr</code></td>
<td>
<p>Should descriptive statistics be reported for the calculated scale.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Descriptive statistics (including Cronbach's alpha, credit to the <code>psy</code> package) are calculated and printed to the console.
The new scale variable is automatically inserted right after the last item in the original <code>GADSdat</code>.
</p>


<h3>Value</h3>

<p>Returns a <code>GADSdat</code> containing the newly computed variable.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##
items &lt;- paste0("norms_", letters[1:6])
pisa_new &lt;- calculateScale(pisa, items = items, scale = "norms")

</code></pre>

<hr>
<h2 id='cbind.GADSdat'>Bind two <code>GADSdat</code> objects into a single <code>GADSdat</code> object by columns.</h2><span id='topic+cbind.GADSdat'></span>

<h3>Description</h3>

<p>Is a secure way to <code>cbind</code> the data and the meta data of two <code>GADSdat</code> objects. Currently, only limited merging options are supported.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'GADSdat'
cbind(..., deparse.level = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cbind.GADSdat_+3A_...">...</code></td>
<td>
<p>Multiple <code>GADSdat</code> objects imported via <code>eatGADS</code>.</p>
</td></tr>
<tr><td><code id="cbind.GADSdat_+3A_deparse.level">deparse.level</code></td>
<td>
<p>Argument is ignored in this method.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If there are duplicate variables (except the variables specified in the <code>by</code> argument), these variables are removed from y.
The meta data is joined for the remaining variables via <code>rbind</code>.
</p>


<h3>Value</h3>

<p>Returns a <code>GADSdat</code> object.
</p>

<hr>
<h2 id='changeMissings'>Change missing code.</h2><span id='topic+changeMissings'></span>

<h3>Description</h3>

<p>Change or add missing codes of a variable as part of a <code>GADSdat</code> or <code>all_GADSdat</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>changeMissings(GADSdat, varName, value, missings)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="changeMissings_+3A_gadsdat">GADSdat</code></td>
<td>
<p><code>GADSdat</code> object imported via <code>eatGADS</code>.</p>
</td></tr>
<tr><td><code id="changeMissings_+3A_varname">varName</code></td>
<td>
<p>Character string of a variable name.</p>
</td></tr>
<tr><td><code id="changeMissings_+3A_value">value</code></td>
<td>
<p>Numeric values.</p>
</td></tr>
<tr><td><code id="changeMissings_+3A_missings">missings</code></td>
<td>
<p>Character string of the new missing codes, either <code>"miss"</code> or <code>"valid"</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Applied to a <code>GADSdat</code> or <code>all_GADSdat</code> object, this function is a wrapper of <code><a href="#topic+getChangeMeta">getChangeMeta</a></code> and
<code><a href="#topic+applyChangeMeta">applyChangeMeta</a></code>.
</p>


<h3>Value</h3>

<p>Returns the <code>GADSdat</code> object with changed meta data.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Set a specific value to missing
pisa2 &lt;- changeMissings(pisa, varName = "computer_age",
                        value = 5, missings = "miss")

# Set multiple values to missing
pisa3 &lt;- changeMissings(pisa, varName = "computer_age",
                        value = 1:4,
                        missings = c("miss", "miss", "miss", "miss"))

# Set a specific value to not missing
pisa4 &lt;- changeMissings(pisa2, varName = "computer_age",
                        value = 5, missings = "valid")

</code></pre>

<hr>
<h2 id='changeSPSSformat'>Change SPSS format.</h2><span id='topic+changeSPSSformat'></span>

<h3>Description</h3>

<p>Change the SPSS format of a variable as part of a <code>GADSdat</code> or <code>all_GADSdat</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>changeSPSSformat(GADSdat, varName, format)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="changeSPSSformat_+3A_gadsdat">GADSdat</code></td>
<td>
<p><code>GADSdat</code> object imported via <code>eatGADS</code>.</p>
</td></tr>
<tr><td><code id="changeSPSSformat_+3A_varname">varName</code></td>
<td>
<p>Character string of variable names.</p>
</td></tr>
<tr><td><code id="changeSPSSformat_+3A_format">format</code></td>
<td>
<p>A single string containing the new SPSS format, for example 'A25' or 'F10'.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Applied to a <code>GADSdat</code> or <code>all_GADSdat</code> object, this function is a wrapper of <code><a href="#topic+getChangeMeta">getChangeMeta</a></code> and <code><a href="#topic+applyChangeMeta">applyChangeMeta</a></code>.
</p>


<h3>Value</h3>

<p>Returns the <code>GADSdat</code> object with changed meta data..
</p>


<h3>Examples</h3>

<pre><code class='language-R'>pisa2 &lt;- changeSPSSformat(pisa, varName = "idstud",
                        format = "F10.0")


</code></pre>

<hr>
<h2 id='changeValLabels'>Change value labels.</h2><span id='topic+changeValLabels'></span>

<h3>Description</h3>

<p>Change or add value labels of a variable as part of a <code>GADSdat</code> or <code>all_GADSdat</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>changeValLabels(GADSdat, varName, value, valLabel)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="changeValLabels_+3A_gadsdat">GADSdat</code></td>
<td>
<p><code>GADSdat</code> object imported via <code>eatGADS</code>.</p>
</td></tr>
<tr><td><code id="changeValLabels_+3A_varname">varName</code></td>
<td>
<p>Character string of a variable name.</p>
</td></tr>
<tr><td><code id="changeValLabels_+3A_value">value</code></td>
<td>
<p>Numeric values.</p>
</td></tr>
<tr><td><code id="changeValLabels_+3A_vallabel">valLabel</code></td>
<td>
<p>Character string of the new value labels.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Applied to a <code>GADSdat</code> or <code>all_GADSdat</code> object, this function is a wrapper of <code><a href="#topic+getChangeMeta">getChangeMeta</a></code> and
<code><a href="#topic+applyChangeMeta">applyChangeMeta</a></code>.
</p>


<h3>Value</h3>

<p>Returns the <code>GADSdat</code> object with changed meta data.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Change existing value labels
pisa2 &lt;- changeValLabels(pisa, varName = "repeated",
                        value = c(1, 2),
                        valLabel = c("no grade repetition", "grade repitition"))

# Add value label to unlabeled value
mtcars_g &lt;- import_DF(mtcars)
mtcars_g2 &lt;- changeValLabels(mtcars_g, varName = "cyl",
                             value = c(4, 6, 8),
                             valLabel = c("four", "six", "eight"))

</code></pre>

<hr>
<h2 id='changeVarLabels'>Change the variable label.</h2><span id='topic+changeVarLabels'></span>

<h3>Description</h3>

<p>Change the variable label of a variable as part of a <code>GADSdat</code> or <code>all_GADSdat</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>changeVarLabels(GADSdat, varName, varLabel)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="changeVarLabels_+3A_gadsdat">GADSdat</code></td>
<td>
<p><code>GADSdat</code> object imported via <code>eatGADS</code>.</p>
</td></tr>
<tr><td><code id="changeVarLabels_+3A_varname">varName</code></td>
<td>
<p>Character string of variable names.</p>
</td></tr>
<tr><td><code id="changeVarLabels_+3A_varlabel">varLabel</code></td>
<td>
<p>Character string of the new variable labels.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Applied to a <code>GADSdat</code> or <code>all_GADSdat</code> object, this function is a wrapper of <code><a href="#topic+getChangeMeta">getChangeMeta</a></code> and
<code><a href="#topic+applyChangeMeta">applyChangeMeta</a></code>.
</p>


<h3>Value</h3>

<p>Returns the <code>GADSdat</code> object with changed meta data.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Change one variable label
pisa2 &lt;- changeVarLabels(pisa, varName = "repeated",
                        varLabel = c("Has a grade been repeated?"))

</code></pre>

<hr>
<h2 id='changeVarNames'>Change Variable Names.</h2><span id='topic+changeVarNames'></span>

<h3>Description</h3>

<p>Change variable names of a <code>GADSdat</code> or <code>all_GADSdat</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>changeVarNames(GADSdat, oldNames, newNames, checkVarNames = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="changeVarNames_+3A_gadsdat">GADSdat</code></td>
<td>
<p><code>GADSdat</code> object imported via <code>eatGADS</code>.</p>
</td></tr>
<tr><td><code id="changeVarNames_+3A_oldnames">oldNames</code></td>
<td>
<p>Vector containing the old variable names.</p>
</td></tr>
<tr><td><code id="changeVarNames_+3A_newnames">newNames</code></td>
<td>
<p>Vector containing the new variable names, in identical order as <code>oldNames</code>.</p>
</td></tr>
<tr><td><code id="changeVarNames_+3A_checkvarnames">checkVarNames</code></td>
<td>
<p>Logical. Should new variable names be checked by <code><a href="#topic+checkVarNames">checkVarNames</a></code>?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Applied to a <code>GADSdat</code> or <code>all_GADSdat</code> object, this function is a wrapper of <code><a href="#topic+getChangeMeta">getChangeMeta</a></code> and
<code><a href="#topic+applyChangeMeta">applyChangeMeta</a></code>
</p>


<h3>Value</h3>

<p>Returns the <code>GADSdat</code> object with changed variable names.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Change multiple variable name
pisa2 &lt;- changeVarNames(pisa, oldNames = c("idstud", "idschool"),
                        newNames = c("IDstud", "IDschool"))

</code></pre>

<hr>
<h2 id='check4SPSS'>Check <code>SPSS</code> Compliance of Meta Data</h2><span id='topic+check4SPSS'></span>

<h3>Description</h3>

<p>Function to check if variable names and labels, value labels and missing codes comply with <code>SPSS</code> requirements for meta data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check4SPSS(GADSdat)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check4SPSS_+3A_gadsdat">GADSdat</code></td>
<td>
<p><code>GADSdat</code> object imported via <code>eatGADS</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function measures the length of variable names (<code>"varNames_length"</code>, maximum of 64 characters)
variable labels (<code>"varLabels"</code>, maximum of 256 characters),
value labels (<code>"valLabels"</code>, maximum of 120 characters). Furthermore,
missing codes are counted (<code>"missings"</code>, maximum of three missing codes for character variables)
and special characters are flagged in variable names (<code>"varNames_special"</code>).
Check results are reported back on variable level, with the exception of <code>"valLabels"</code>, which is a list
with entries per violating variable.
</p>


<h3>Value</h3>

<p>Returns a list with the entries <code>"varNames_special"</code>, <code>"varNames_length"</code>,
<code>"varLabels"</code>, <code>"valLabels"</code> and <code>"missings"</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Change example data set (create a violating label)
pisa2 &lt;- changeVarLabels(pisa, varName = "computer_age",
                        varLabel = paste(rep("3", 125), collapse = ""))

check4SPSS(pisa2)

</code></pre>

<hr>
<h2 id='checkEmptyValLabels'>Check Value Labels</h2><span id='topic+checkEmptyValLabels'></span><span id='topic+checkMissingValLabels'></span>

<h3>Description</h3>

<p>Check value labels for (a) value labels with no occurrence in the data (<code>checkEmptyValLabels</code>) and
(b) values with no value labels (<code>checkMissingValLabels</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>checkEmptyValLabels(
  GADSdat,
  vars = namesGADS(GADSdat),
  valueRange = NULL,
  output = c("list", "data.frame")
)

checkMissingValLabels(
  GADSdat,
  vars = namesGADS(GADSdat),
  classes = c("integer"),
  valueRange = NULL,
  output = c("list", "data.frame")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="checkEmptyValLabels_+3A_gadsdat">GADSdat</code></td>
<td>
<p>A <code>GADSdat</code> object.</p>
</td></tr>
<tr><td><code id="checkEmptyValLabels_+3A_vars">vars</code></td>
<td>
<p>Character vector with the variable names to which <code>checkValLabels()</code> should be applied.</p>
</td></tr>
<tr><td><code id="checkEmptyValLabels_+3A_valuerange">valueRange</code></td>
<td>
<p>[optional] Numeric vector of length 2: In which range should numeric values be checked?
If specified, only numeric values are returned and strings are omitted.</p>
</td></tr>
<tr><td><code id="checkEmptyValLabels_+3A_output">output</code></td>
<td>
<p>Should the output be structured as a <code>"list"</code> or a <code>"data.frame"</code>?</p>
</td></tr>
<tr><td><code id="checkEmptyValLabels_+3A_classes">classes</code></td>
<td>
<p>Character vector with the classes to which <code>checkMissingLabels()</code> should be applied. Valid options are <code>"integer"</code>, <code>"double"</code>, and <code>"character"</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>NAs</code> are excluded from this check. Designated missing codes are reported normally.
</p>


<h3>Value</h3>

<p>Returns a list of length <code>vars</code> or a <code>data.frame</code>.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>checkEmptyValLabels()</code>: check for superfluous value labels
</p>
</li>
<li> <p><code>checkMissingValLabels()</code>: check for missing value labels
</p>
</li></ul>


<h3>Examples</h3>

<pre><code class='language-R'># Check a categorical and a metric variable
checkMissingValLabels(pisa, vars = c("g8g9", "age"))
checkEmptyValLabels(pisa, vars = c("g8g9", "age"))

# Check while defining a specific value range
checkMissingValLabels(pisa, vars = c("g8g9", "age", "idschool"),
              valueRange = c(0, 5))
checkEmptyValLabels(pisa, vars = c("g8g9", "age", "idschool"),
              valueRange = c(0, 5))

</code></pre>

<hr>
<h2 id='checkFormat'>Check and Adjust SPSS Format</h2><span id='topic+checkFormat'></span>

<h3>Description</h3>

<p>Function to check if SPSS format statements are specified correctly in a <code>GADSdat</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>checkFormat(GADSdat, type = "SPSS", changeFormat = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="checkFormat_+3A_gadsdat">GADSdat</code></td>
<td>
<p><code>GADSdat</code> object imported via <code>eatGADS</code>.</p>
</td></tr>
<tr><td><code id="checkFormat_+3A_type">type</code></td>
<td>
<p>If <code>type='other'</code>, the function <code>nchar</code> will be used to determine character lengths and decimals are not rounded to 16 decimal places. With <code>type='SPSS'</code> additional width for character variables will be added in order to let SPSS read in lengthy characters correctly and .</p>
</td></tr>
<tr><td><code id="checkFormat_+3A_changeformat">changeFormat</code></td>
<td>
<p>If <code>changeFormat=TRUE</code> the <code>GADSdat</code> meta data will be updated otherwise only information will be reported.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function compares SPSS format statements <code>"format"</code> and actual character length and
decimal places of all variables in a <code>GADSdat</code> object and its
meta data information. Mismatches are reported and can be automatically adjusted.
</p>


<h3>Value</h3>

<p>Returns a <code>GADSdat</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Change example meta information (create a value label with incorrect missing code)
pisa2 &lt;- checkFormat(pisa)


</code></pre>

<hr>
<h2 id='checkMissings'>Check and Adjust Missing Tags</h2><span id='topic+checkMissings'></span><span id='topic+checkMissingsByValues'></span>

<h3>Description</h3>

<p>Functions to check if missings are tagged and labeled correctly in a <code>GADSdat</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>checkMissings(
  GADSdat,
  missingLabel = "missing",
  addMissingCode = TRUE,
  addMissingLabel = FALSE
)

checkMissingsByValues(GADSdat, missingValues = -50:-99, addMissingCode = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="checkMissings_+3A_gadsdat">GADSdat</code></td>
<td>
<p><code>GADSdat</code> object imported via <code>eatGADS</code>.</p>
</td></tr>
<tr><td><code id="checkMissings_+3A_missinglabel">missingLabel</code></td>
<td>
<p>Single regular expression indicating how missing labels are commonly named in the value labels.</p>
</td></tr>
<tr><td><code id="checkMissings_+3A_addmissingcode">addMissingCode</code></td>
<td>
<p>If <code>TRUE</code>, missing tags are added according to <code>missingLabel</code> or <code>missingValues</code>.</p>
</td></tr>
<tr><td><code id="checkMissings_+3A_addmissinglabel">addMissingLabel</code></td>
<td>
<p>If <code>TRUE</code>, <code>"generic missing"</code> is added according to occurrence of <code>"miss"</code> in <code>"missings"</code>. As often various value labels for missings are used, this argument should be used with great care.</p>
</td></tr>
<tr><td><code id="checkMissings_+3A_missingvalues">missingValues</code></td>
<td>
<p>Numeric vector of values which are commonly used for missing values.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>checkMissings()</code> compares value labels (<code>valLabels</code>) and missing tags (<code>missings</code>) of a <code>GADSdat</code> object and its
meta data information.
<code>checkMissingsByValues()</code> compares labeled values (<code>value</code>) and missing tags (<code>missings</code>) of a <code>GADSdat</code> object
and its meta data information.
Mismatches are reported and can be automatically adjusted. Note that all checks are only applied to the
meta data information, not the actual data. For detecting missing value labels, see <code><a href="#topic+checkMissingValLabels">checkMissingValLabels</a></code>.
</p>


<h3>Value</h3>

<p>Returns a <code>GADSdat</code> object with - if specified - modified missing tags.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>checkMissings()</code>: compare missing tags and value labels
</p>
</li>
<li> <p><code>checkMissingsByValues()</code>: compare missing tags and values in a certain range
</p>
</li></ul>


<h3>Examples</h3>

<pre><code class='language-R'># checkMissings
pisa2 &lt;- changeValLabels(pisa, varName = "computer_age",
                        value = 5, valLabel = "missing: No computer use")

pisa3 &lt;- checkMissings(pisa2)

# checkMissingsByValues
pisa4 &lt;- changeValLabels(pisa, varName = "computer_age",
                        value = c(-49, -90, -99), valLabel = c("test1", "test2", "test3"))

pisa5 &lt;- checkMissingsByValues(pisa4, missingValues = -50:-99)

</code></pre>

<hr>
<h2 id='checkTrendStructure'>Checks compatibility of two <code>eatGADS</code> data bases.</h2><span id='topic+checkTrendStructure'></span>

<h3>Description</h3>

<p>This function checks if both data bases perform identical joins via foreign keys, if they contain the same variable names and if
these variables have the same value labels. Results of this comparison are reported on data table level as messages and as an output list.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>checkTrendStructure(filePath1, filePath2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="checkTrendStructure_+3A_filepath1">filePath1</code></td>
<td>
<p>Path of the first <code>eatGADS</code> <code>.db</code> file.</p>
</td></tr>
<tr><td><code id="checkTrendStructure_+3A_filepath2">filePath2</code></td>
<td>
<p>Path of the second <code>eatGADS</code> <code>.db</code> file.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>An error is thrown if the key structure or the data table structure differs between the two data bases. Differences regarding
meta data for missing value labels and for variables labels (and formatting) are ignored.
</p>
<p>Reported differences regarding meta data can be inspected further via <code><a href="#topic+inspectMetaDifferences">inspectMetaDifferences</a></code>.
</p>


<h3>Value</h3>

<p>Returns a report list.
</p>

<hr>
<h2 id='checkUniqueness'>Check uniqueness of a variable.</h2><span id='topic+checkUniqueness'></span>

<h3>Description</h3>

<p>Function to check if a variable is unique for all cases of an identifier variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>checkUniqueness(GADSdat, varName, idVar)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="checkUniqueness_+3A_gadsdat">GADSdat</code></td>
<td>
<p><code>GADSdat</code> object imported via <code>eatGADS</code>.</p>
</td></tr>
<tr><td><code id="checkUniqueness_+3A_varname">varName</code></td>
<td>
<p>Single string containing the variable name for which the check should be performed.</p>
</td></tr>
<tr><td><code id="checkUniqueness_+3A_idvar">idVar</code></td>
<td>
<p>Single string containing the identifier variable name.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For example if missing values are multiple imputed and data is stored in a long format, checking the uniqueness of a variable
within an identifier can be tricky. This function automates this task.
</p>


<h3>Value</h3>

<p>Returns either <code>TRUE</code> if the variable is unique within each value for <code>idVar</code> or a <code>GADSdat</code> object including
the not unique cases.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## create an example GADSdat
iris2 &lt;- iris
iris2$Species &lt;- as.character(iris2$Species)
gads &lt;- import_DF(iris2, checkVarNames = FALSE)

## check uniqueness
checkUniqueness(gads, varName = "Sepal.Length", idVar = "Species")

</code></pre>

<hr>
<h2 id='checkUniqueness2'>Check uniqueness of a variable.</h2><span id='topic+checkUniqueness2'></span>

<h3>Description</h3>

<p>Function to check if a variable is unique for all cases of an identifier variable. This is a fast and more efficient version of
<code><a href="#topic+checkUniqueness">checkUniqueness</a></code> which always returns a logical, non missing value of length one.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>checkUniqueness2(GADSdat, varName, idVar, impVar)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="checkUniqueness2_+3A_gadsdat">GADSdat</code></td>
<td>
<p><code>GADSdat</code> object imported via <code>eatGADS</code>.</p>
</td></tr>
<tr><td><code id="checkUniqueness2_+3A_varname">varName</code></td>
<td>
<p>Single string containing the variable name for which the check should be performed.</p>
</td></tr>
<tr><td><code id="checkUniqueness2_+3A_idvar">idVar</code></td>
<td>
<p>Single string containing the name of the identifier variable.</p>
</td></tr>
<tr><td><code id="checkUniqueness2_+3A_impvar">impVar</code></td>
<td>
<p>Single string containing the name of the imputation number.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For example if missing values are multiple imputed and data is stored in a long format, checking the uniqueness of a variable
within an identifier can be tricky. This function automates this task via reshaping the data into wide format and testing equality
among the reshaped variables. Similar functionality (via matrices) is covered by <code>lme4::isNested</code>,
which is more general and performs similarly.
</p>


<h3>Value</h3>

<p>Returns a logical of length one.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## create an example GADSdat
l &lt;- 1000
long_df &lt;- data.table::data.table(id = sort(rep(1:l, 15)),
                               v1 = sort(rep(1:l, 15)),
                                 imp = rep(1:15, l))
gads &lt;- import_DF(long_df)
## check uniqueness
checkUniqueness2(gads, varName = "v1", idVar = "id", impVar = "imp")

</code></pre>

<hr>
<h2 id='checkValue'>Check for a specific value</h2><span id='topic+checkValue'></span>

<h3>Description</h3>

<p>Function to look for occurrences of a specific value in a <code>GADSdat</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>checkValue(GADSdat, value, vars = namesGADS(GADSdat))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="checkValue_+3A_gadsdat">GADSdat</code></td>
<td>
<p><code>GADSdat</code> object imported via <code>eatGADS</code>.</p>
</td></tr>
<tr><td><code id="checkValue_+3A_value">value</code></td>
<td>
<p>Single string indicating how missing labels are commonly named in the value labels.</p>
</td></tr>
<tr><td><code id="checkValue_+3A_vars">vars</code></td>
<td>
<p>Character vector with the variable names to which <code>checkValue</code> should be applied.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function checks occurrences of a specific value in a set of variables (default: all variables) in the <code>GADSdat</code> and outputs a vector
containing the count of occurrences for all variables in which the value occurs. It explicitly supports checking for <code>NA</code>.
</p>


<h3>Value</h3>

<p>A named integer.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># for all variables in the data
checkValue(pisa, value = 99)

# only for specific variables in the data
checkValue(pisa, vars = c("idschool", "g8g9"), value = 99)

</code></pre>

<hr>
<h2 id='checkVarNames'>Check names for <code>SQLite</code> column name conventions.</h2><span id='topic+checkVarNames'></span>

<h3>Description</h3>

<p>Checks names for <code>SQLite</code> column name conventions and
applies appropriate variable name changes to <code>GADSdat</code> or <code>all_GADSdat</code> objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>checkVarNames(GADSdat, checkKeywords = TRUE, checkDots = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="checkVarNames_+3A_gadsdat">GADSdat</code></td>
<td>
<p><code>GADSdat</code> or <code>all_GADSdat</code> object.</p>
</td></tr>
<tr><td><code id="checkVarNames_+3A_checkkeywords">checkKeywords</code></td>
<td>
<p>Logical. Should <code>SQLite</code> keywords be checked and modified?</p>
</td></tr>
<tr><td><code id="checkVarNames_+3A_checkdots">checkDots</code></td>
<td>
<p>Logical. Should occurrences of <code>"."</code> be checked and modified?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Invalid column names in a <code>SQLite</code> data base include
</p>

<ul>
<li> <p><code>SQLite</code> keywords (see <code><a href="eatDB.html#topic+sqlite_keywords">sqlite_keywords</a></code>) and
</p>
</li>
<li><p> column names with a <code>"."</code> in it.
</p>
</li></ul>

<p>The corresponding variable name changes are
</p>

<ul>
<li><p> appending the suffix <code>"Var"</code> to all <code>SQLite</code> keywords and
</p>
</li>
<li><p> changing all <code>"."</code> in variable names to <code>"_"</code>.
</p>
</li></ul>

<p>Note that avoiding <code>"."</code> in variable names is beneficial for multiple reasons, such as
avoiding confusion with <code>S3</code> methods in <code>R</code> and issues when importing from <code>Stata</code>.
</p>


<h3>Value</h3>

<p>Returns the original object with updated variable names.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Change example data set (create an invalid variable name)
pisa2 &lt;- changeVarNames(pisa, oldNames = "computer_age",
                        newNames = "computer.age")

pisa3 &lt;- checkVarNames(pisa2)

</code></pre>

<hr>
<h2 id='clean_cache'>Clean temporary cache.</h2><span id='topic+clean_cache'></span>

<h3>Description</h3>

<p>Deprecated. The cached data base is now cleaned when the R sessions ends automatically.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>clean_cache(tempPath = tempdir())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="clean_cache_+3A_temppath">tempPath</code></td>
<td>
<p>Local directory in which the data base was temporarily be stored.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Cleans the temporary cache, specified by <code>tempdir()</code>. This function had to be executed at the end of an <code>R</code> session if
<code><a href="#topic+getGADS_fast">getGADS_fast</a></code> or <code><a href="#topic+getTrendGADS">getTrendGADS</a></code> with <code>fast = TRUE</code> had been used.
</p>


<h3>Value</h3>

<p>Returns nothing.
</p>

<hr>
<h2 id='cloneVariable'>Clone a variable.</h2><span id='topic+cloneVariable'></span>

<h3>Description</h3>

<p>Clone a variable as part of a <code>GADSdat</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cloneVariable(
  GADSdat,
  varName,
  new_varName,
  label_suffix = "",
  checkVarName = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cloneVariable_+3A_gadsdat">GADSdat</code></td>
<td>
<p><code>GADSdat</code> object imported via <code>eatGADS</code>.</p>
</td></tr>
<tr><td><code id="cloneVariable_+3A_varname">varName</code></td>
<td>
<p>Name of the variable to be cloned.</p>
</td></tr>
<tr><td><code id="cloneVariable_+3A_new_varname">new_varName</code></td>
<td>
<p>Name of the new variable.</p>
</td></tr>
<tr><td><code id="cloneVariable_+3A_label_suffix">label_suffix</code></td>
<td>
<p>Suffix added to variable label for the newly created variable in the <code>GADSdat</code>.</p>
</td></tr>
<tr><td><code id="cloneVariable_+3A_checkvarname">checkVarName</code></td>
<td>
<p>Logical. Should <code>new_varName</code> be checked by <code><a href="#topic+checkVarNames">checkVarNames</a></code>?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The variable is simply duplicated and assigned a new name.
</p>


<h3>Value</h3>

<p>Returns a <code>GADSdat</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># duplicate the variable schtype
pisa_new &lt;- cloneVariable(pisa, varName = "schtype", new_varName = "schtype_new")

</code></pre>

<hr>
<h2 id='collapseColumns'>Collapse two columns of a lookup table.</h2><span id='topic+collapseColumns'></span>

<h3>Description</h3>

<p>Collapse two columns or format a single column of a lookup table created by <code><a href="#topic+createLookup">createLookup</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>collapseColumns(lookup, recodeVars, prioritize)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="collapseColumns_+3A_lookup">lookup</code></td>
<td>
<p>For example a lookup table <code>data.frame</code> as created via <code><a href="#topic+createLookup">createLookup</a></code>.</p>
</td></tr>
<tr><td><code id="collapseColumns_+3A_recodevars">recodeVars</code></td>
<td>
<p>Character vector of column names which should be collapsed (currently only up to two variables are supported).</p>
</td></tr>
<tr><td><code id="collapseColumns_+3A_prioritize">prioritize</code></td>
<td>
<p>Character vector of length 1. Which of the columns in <code>recodeVars</code> should be prioritized,
if multiple values are available? If <code>recodeVars</code> is of length 1, this argument can be omitted.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If a lookup table is created by <code><a href="#topic+createLookup">createLookup</a></code>, different recoding columns can be specified by the <code>addCols</code> argument.
This might be the case if two rater suggest recodes or one rater corrects recodes by another rater in a separate column.
After the recoding columns have been filled out, <code>collapseColumns</code> can be used to either:
</p>
<p>(a) Collapse two recoding columns into one recoding column. This might be desirable, if the two columns contain missing values.
<code>prioritize</code> can be used to specify, which of the two columns should be prioritized if both columns contain valid values.
</p>
<p>(b) Format the lookup table for <code><a href="#topic+applyLookup">applyLookup</a></code>, if <code>recodeVars</code> is a single variable.
This simply renames the single variable specified under <code>recodeVars</code>.
</p>


<h3>Value</h3>

<p>Returns a <code>data.frame</code> that can be used for <code><a href="#topic+applyLookup">applyLookup</a></code>, with the columns:
</p>
<table>
<tr><td><code>variable</code></td>
<td>
<p>Variable names</p>
</td></tr>
<tr><td><code>value</code></td>
<td>
<p>Old values</p>
</td></tr>
<tr><td><code>value_new</code></td>
<td>
<p>New values. Renamed and/or collapsed column.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## (a) Collapse two columns
# create example recode data.frame
lookup_raw &lt;- data.frame(variable = c("var1"), value = c("germa", "German", "dscherman"),
           recode1 = c(NA, "English", "German"),
           recode2 = c("German", "German", NA), stringsAsFactors = FALSE)

# collapse columns
lookup &lt;- collapseColumns(lookup_raw, recodeVars = c("recode1", "recode2"), prioritize = "recode2")

## (b) Format one column
# create example recode data.frame
lookup_raw2 &lt;- data.frame(variable = c("var1"), value = c("germa", "German", "dscherman"),
           recode1 = c("German", "German", "German"), stringsAsFactors = FALSE)

# collapse columns
lookup2 &lt;- collapseColumns(lookup_raw2, recodeVars = c("recode1"))

</code></pre>

<hr>
<h2 id='collapseMC_Text'>Recode a multiple choice variable according to a character variable.</h2><span id='topic+collapseMC_Text'></span>

<h3>Description</h3>

<p>Recode an labeled integer variable (based on an multiple choice item), according to a character variable (e.g. an open answer item).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>collapseMC_Text(
  GADSdat,
  mc_var,
  text_var,
  mc_code4text,
  var_suffix = "_r",
  label_suffix = "(recoded)"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="collapseMC_Text_+3A_gadsdat">GADSdat</code></td>
<td>
<p>A <code>GADSdat</code> object.</p>
</td></tr>
<tr><td><code id="collapseMC_Text_+3A_mc_var">mc_var</code></td>
<td>
<p>The variable name of the multiple choice variable.</p>
</td></tr>
<tr><td><code id="collapseMC_Text_+3A_text_var">text_var</code></td>
<td>
<p>The variable name of the text variable.</p>
</td></tr>
<tr><td><code id="collapseMC_Text_+3A_mc_code4text">mc_code4text</code></td>
<td>
<p>The value label in <code>mc_var</code> that indicates that information from the text variable should be used.</p>
</td></tr>
<tr><td><code id="collapseMC_Text_+3A_var_suffix">var_suffix</code></td>
<td>
<p>Variable name suffix for the newly created variables. If <code>NULL</code>, variables are overwritten.</p>
</td></tr>
<tr><td><code id="collapseMC_Text_+3A_label_suffix">label_suffix</code></td>
<td>
<p>Variable label suffix for the newly created variable (only added in the meta data). If <code>NULL</code> no suffix is added.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Multiple choice variables can be represented as labeled integer variables in a <code>GADSdat</code>. Multiple choice items with a forced choice
frequently contain an open answer category. However, sometimes open answers overlap with the existing categories in the multiple choice
item. <code>collapseMC_Text</code> allows recoding the multiple choice variable based on the open answer variable.
</p>
<p><code>mc_code4text</code> indicates when entries in the <code>text_var</code> should be used. Additionally, entries in the <code>text_var</code> are also
used when there are missings on the <code>mc_var</code>. New values for the <code>mc_var</code> are added in the meta data, while preserving the initial
ordering of the value labels. Newly added value labels are sorted alphabetically.
</p>
<p>For more details see the help vignette:
<code>vignette("recoding_forcedChoice", package = "eatGADS")</code>.
</p>


<h3>Value</h3>

<p>Returns a <code>GADSdat</code> containing the newly computed variable.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Example gads
example_df &lt;- data.frame(ID = 1:5, mc = c("blue", "blue", "green", "other", "other"),
                        open = c(NA, NA, NA, "yellow", "blue"),
                        stringsAsFactors = FALSE)
example_df$mc &lt;- as.factor(example_df$mc)
gads &lt;- import_DF(example_df)

# recode
gads2 &lt;- collapseMC_Text(gads, mc_var = "mc", text_var = "open",
                        mc_code4text = "other")

</code></pre>

<hr>
<h2 id='collapseMultiMC_Text'>Recode multiple choice variable with multiple variables.</h2><span id='topic+collapseMultiMC_Text'></span>

<h3>Description</h3>

<p>Recode multiple variables (representing a single multiple choice item) based on multiple character variables
(representing a text field).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>collapseMultiMC_Text(
  GADSdat,
  mc_vars,
  text_vars,
  mc_var_4text,
  var_suffix = "_r",
  label_suffix = "(recoded)",
  invalid_miss_code = -98,
  invalid_miss_label = "Missing: Invalid response",
  notext_miss_code = -99,
  notext_miss_label = "Missing: By intention"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="collapseMultiMC_Text_+3A_gadsdat">GADSdat</code></td>
<td>
<p>A <code>GADSdat</code> object.</p>
</td></tr>
<tr><td><code id="collapseMultiMC_Text_+3A_mc_vars">mc_vars</code></td>
<td>
<p>A character vector with the variable names of the multiple choice variable. Names of the character
vector are the corresponding values that are represented by the individual variables.
Creation by <code><a href="#topic+matchValues_varLabels">matchValues_varLabels</a></code> is recommended.</p>
</td></tr>
<tr><td><code id="collapseMultiMC_Text_+3A_text_vars">text_vars</code></td>
<td>
<p>A character vector with the names of the text variables which should be collapsed.</p>
</td></tr>
<tr><td><code id="collapseMultiMC_Text_+3A_mc_var_4text">mc_var_4text</code></td>
<td>
<p>The name of the multiple choice variable that signals that information from the text variable should be used. This variable is recoded according to the final status of the text variables.</p>
</td></tr>
<tr><td><code id="collapseMultiMC_Text_+3A_var_suffix">var_suffix</code></td>
<td>
<p>Variable suffix for the newly created <code>GADSdat</code>. If an empty character, the existing variables are overwritten.</p>
</td></tr>
<tr><td><code id="collapseMultiMC_Text_+3A_label_suffix">label_suffix</code></td>
<td>
<p>Suffix added to variable label for the newly created or modified variables in the <code>GADSdat</code>.</p>
</td></tr>
<tr><td><code id="collapseMultiMC_Text_+3A_invalid_miss_code">invalid_miss_code</code></td>
<td>
<p>Missing code which is given to new character variables if all text entries where recoded into the dichotomous variables.</p>
</td></tr>
<tr><td><code id="collapseMultiMC_Text_+3A_invalid_miss_label">invalid_miss_label</code></td>
<td>
<p>Value label for <code>invalid_miss_code</code>.</p>
</td></tr>
<tr><td><code id="collapseMultiMC_Text_+3A_notext_miss_code">notext_miss_code</code></td>
<td>
<p>Missing code which is given to empty character variables.</p>
</td></tr>
<tr><td><code id="collapseMultiMC_Text_+3A_notext_miss_label">notext_miss_label</code></td>
<td>
<p>Value label for <code>notext_miss_code</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If a multiple choice item can be answered with ticking multiple boxes, multiple variables in the data
set are necessary to represent this item. In this case, an additional text field for further answers can also
contain multiple values at once. However, some of the answers in the text field might be redundant to
the dummy variables. <code>collapseMultiMC_Text</code> allows to recode multiple MC items of this
kind based on multiple text variables. The recoding can be prepared by expanding the single text variable
(<code><a href="#topic+createLookup">createLookup</a></code> and <code><a href="#topic+applyLookup_expandVar">applyLookup_expandVar</a></code>) and by matching the dummy variables
to its underlying values stored in variable labels (<code><a href="#topic+matchValues_varLabels">matchValues_varLabels</a></code>).
</p>
<p>The function recodes the dummy variables according to the character variables. Additionally, the <code>mc_var_4text</code>
variable is recoded according to the final status of the <code>text_vars</code> (exception: if the text variables were
originally <code>NA</code>, <code>mc_var_4text</code> is left as it was).
</p>
<p>Missing values in the character variables can be represented either by <code>NAs</code> or by empty characters.
The multiple choice variables specified with <code>mc_vars</code> can only contain the values <code>0</code>,
<code>1</code> and missing codes. The value <code>1</code> must always represent &quot;this category applies&quot;.
If necessary, use <code><a href="#topic+recodeGADS">recodeGADS</a></code> for recoding.
</p>
<p>For cases for which the <code>text_vars</code> contain only values that can be recoded into the <code>mc_vars</code>,
all new <code>text_vars</code> are given specific missing codes (see <code>invalid_miss_code</code> and <code>invalid_miss_label</code>).
All remaining <code>NAs</code> on the character variables are given a specific missing code (<code>notext_miss_code</code>).
</p>


<h3>Value</h3>

<p>Returns a <code>GADSdat</code> containing the newly computed variables.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Prepare example data
mt2 &lt;- data.frame(ID = 1:4, mc1 = c(1, 0, 0, 0), mc2 = c(0, 0, 0, 0), mc3 = c(0, 1, 1, 0),
                  text1 = c(NA, "Eng", "Aus", "Aus2"), text2 = c(NA, "Franz", NA, "Ger"),
                  stringsAsFactors = FALSE)
mt2_gads &lt;- import_DF(mt2)
mt3_gads &lt;- changeVarLabels(mt2_gads, varName = c("mc1", "mc2", "mc3"),
                            varLabel = c("Lang: Eng", "Aus spoken", "other"))

## All operations (see also respective help pages of functions for further explanations)
mc_vars &lt;- matchValues_varLabels(mt3_gads, mc_vars = c("mc1", "mc2", "mc3"),
            values = c("Aus", "Eng", "Eng"), label_by_hand = c("other" = "mc3"))

out_gads &lt;- collapseMultiMC_Text(mt3_gads, mc_vars = mc_vars,
             text_vars = c("text1", "text2"), mc_var_4text = "mc3")

out_gads2 &lt;- multiChar2fac(out_gads, vars = c("text1_r", "text2_r"))

final_gads &lt;- remove2NAchar(out_gads2, vars = c("text1_r_r", "text2_r_r"),
                              max_num = 1, na_value = -99, na_label = "missing: excessive answers")

</code></pre>

<hr>
<h2 id='compareGADS'>Compare two GADS.</h2><span id='topic+compareGADS'></span>

<h3>Description</h3>

<p>Compare multiple variables of two <code>GADSdat</code> or <code>all_GADSdat</code> objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compareGADS(
  GADSdat_old,
  GADSdat_new,
  varNames,
  output = c("list", "data.frame", "aggregated")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="compareGADS_+3A_gadsdat_old">GADSdat_old</code></td>
<td>
<p><code>GADSdat</code> object imported via <code>eatGADS</code>.</p>
</td></tr>
<tr><td><code id="compareGADS_+3A_gadsdat_new">GADSdat_new</code></td>
<td>
<p><code>GADSdat</code> object imported via <code>eatGADS</code>.</p>
</td></tr>
<tr><td><code id="compareGADS_+3A_varnames">varNames</code></td>
<td>
<p>Character string of variable names to be compared.</p>
</td></tr>
<tr><td><code id="compareGADS_+3A_output">output</code></td>
<td>
<p>How should the output be structured?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Returns <code>"all equal"</code> if the variable is identical across the objects or a <code>data.frame</code>
containing a frequency table with the values which have been changed. Especially useful for checks
after recoding.
</p>


<h3>Value</h3>

<p>Returns either a list with <code>"all equal"</code> and <code>data.frames</code> or a single <code>data.frame</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Recode a GADS
pisa2 &lt;- recodeGADS(pisa, varName = "schtype",
                        oldValues = 3, newValues = 9)
pisa2 &lt;- recodeGADS(pisa2, varName = "language",
                        oldValues = 1, newValues = 15)

# Compare
compareGADS(pisa, pisa2,
            varNames = c("ganztag", "schtype", "language"), output = "list")
compareGADS(pisa, pisa2,
            varNames = c("ganztag", "schtype", "language"), output = "data.frame")
compareGADS(pisa, pisa2,
             varNames = c("ganztag", "schtype", "language"), output = "aggregated")

</code></pre>

<hr>
<h2 id='composeVar'>Create a composite variable.</h2><span id='topic+composeVar'></span>

<h3>Description</h3>

<p>Create a composite variable out of two variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>composeVar(GADSdat, sourceVars, primarySourceVar, newVar, checkVarName = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="composeVar_+3A_gadsdat">GADSdat</code></td>
<td>
<p><code>GADSdat</code> or <code>all_GADSdat</code> object imported via eatGADS.</p>
</td></tr>
<tr><td><code id="composeVar_+3A_sourcevars">sourceVars</code></td>
<td>
<p>Character vector of length two containing the variable names which represent the sources of information.</p>
</td></tr>
<tr><td><code id="composeVar_+3A_primarysourcevar">primarySourceVar</code></td>
<td>
<p>Character vector containing a single variable name. Which of the <code>sourceVars</code> should be preferred?</p>
</td></tr>
<tr><td><code id="composeVar_+3A_newvar">newVar</code></td>
<td>
<p>Character vector containing the name of the new composite variable.</p>
</td></tr>
<tr><td><code id="composeVar_+3A_checkvarname">checkVarName</code></td>
<td>
<p>Logical. Should <code>newVar</code> be checked by <code><a href="#topic+checkVarNames">checkVarNames</a></code>?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A common use case for creating a composite variable is if there are multiple sources for the same information.
For example, a child and the parents are asked about the child's native language. In such cases a composite variable
contains information from both variables, meaning that one source is preferred and the other source is used
to substitute missing values.
</p>


<h3>Value</h3>

<p>The modified <code>GADSdat</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># example data
dat &lt;- data.frame(ID = 1:4,
nat_lang_child = c("Engl", "Ger", "missing", "missing"),
nat_lang_father = c("Engl", "Engl", "Ger", "missing"),
stringsAsFactors = TRUE)
gads &lt;- import_DF(dat)
changeMissings(gads, "nat_lang_child", value = 3, missings = "miss")
changeMissings(gads, "nat_lang_father", value = 3, missings = "miss")

# compose variable
composeVar(gads, sourceVars = c("nat_lang_child", "nat_lang_father"),
           primarySourceVar = "nat_lang_child", newVar = "nat_lang_comp")


</code></pre>

<hr>
<h2 id='convertCase'>Modify upper and lower case for strings.</h2><span id='topic+convertCase'></span><span id='topic+convertCase.GADSdat'></span>

<h3>Description</h3>

<p>Convert a character vector, all character variables in a <code>data.frame</code> or selected variables in a <code>GADSdat</code> to
upper (<code>"uppper"</code>), lower (<code>"lower"</code>), or first letter upper and everything else lower case (<code>"upperFirst"</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convertCase(x, case = c("lower", "upper", "upperFirst"), ...)

## S3 method for class 'GADSdat'
convertCase(x, case = c("lower", "upper", "upperFirst"), vars, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="convertCase_+3A_x">x</code></td>
<td>
<p>A character vector, <code>data.frame</code>, or <code>GADSdat</code>.</p>
</td></tr>
<tr><td><code id="convertCase_+3A_case">case</code></td>
<td>
<p>Character vector of length 1. What case should the strings be converted to? Available options are
<code>"lower"</code>, <code>"upper"</code>, or <code>"upperFirst"</code>.</p>
</td></tr>
<tr><td><code id="convertCase_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td></tr>
<tr><td><code id="convertCase_+3A_vars">vars</code></td>
<td>
<p>Character vector. What variables in the <code>GADSdat</code> should the conversion be applied to?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns the converted object.
</p>


<h3>Methods (by class)</h3>


<ul>
<li> <p><code>convertCase(GADSdat)</code>: convert case for <code>GADSdats</code>
</p>
</li></ul>


<h3>Examples</h3>

<pre><code class='language-R'># for character
convertCase(c("Hi", "HEllo", "greaT"), case = "upperFirst")

# for GADSdat
input_g &lt;- import_DF(data.frame(v1 = 1:3, v2 = c("Hi", "HEllo", "greaT"),
                          stringsAsFactors = FALSE))
convertCase(input_g, case = "upperFirst", vars = "v2")


</code></pre>

<hr>
<h2 id='createGADS'>Create an <code>eatGADS</code> data base.</h2><span id='topic+createGADS'></span>

<h3>Description</h3>

<p>Creates a relational data base containing hierarchically stored data with meta information (e.g. value and variable labels).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>createGADS(allList, pkList, fkList, filePath)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="createGADS_+3A_alllist">allList</code></td>
<td>
<p>An object created via <code><a href="#topic+mergeLabels">mergeLabels</a></code>.</p>
</td></tr>
<tr><td><code id="createGADS_+3A_pklist">pkList</code></td>
<td>
<p>List of primary keys.</p>
</td></tr>
<tr><td><code id="createGADS_+3A_fklist">fkList</code></td>
<td>
<p>List of foreign keys.</p>
</td></tr>
<tr><td><code id="createGADS_+3A_filepath">filePath</code></td>
<td>
<p>Path to the db file to write (including name); has to end on '.db'.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Uses <code><a href="eatDB.html#topic+createDB">createDB</a></code> from the <code>eatDB</code> package to create a relational data base. For details on how to define
keys see the documentation of <code><a href="eatDB.html#topic+createDB">createDB</a></code>.
</p>


<h3>Value</h3>

<p>Creates a data base in the given path, returns <code>NULL</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># see createDB vignette

</code></pre>

<hr>
<h2 id='createLookup'>Extract values for recoding.</h2><span id='topic+createLookup'></span>

<h3>Description</h3>

<p>Extract unique values from one or multiple variables of a <code>GADSdat</code> object for recoding (e.g. via an Excel spreadsheet).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>createLookup(GADSdat, recodeVars, sort_by = NULL, addCols = c("value_new"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="createLookup_+3A_gadsdat">GADSdat</code></td>
<td>
<p>A <code>GADSdat</code> object.</p>
</td></tr>
<tr><td><code id="createLookup_+3A_recodevars">recodeVars</code></td>
<td>
<p>Character vector of variable names which should be recoded.</p>
</td></tr>
<tr><td><code id="createLookup_+3A_sort_by">sort_by</code></td>
<td>
<p>By which column (<code>variable</code> and/or <code>value</code>) should the long format <code>data.frame</code> be sorted? If <code>NULL</code>, no sorting is performed.</p>
</td></tr>
<tr><td><code id="createLookup_+3A_addcols">addCols</code></td>
<td>
<p>Character vector of additional column names for recoding purposes.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If recoding of one or multiple variables is more complex, a lookup table can be created for later application via
<code><a href="#topic+applyLookup">applyLookup</a></code> or <code><a href="#topic+applyLookup_expandVar">applyLookup_expandVar</a></code>. The function allows the extraction of the values
of multiple variables and sorting of these unique values via <code>variable</code> and/or <code>values</code>.
If <code>addCols</code> are specified the lookup table has to be formatted via <code><a href="#topic+collapseColumns">collapseColumns</a></code>,
before it can be applied to recode data.
</p>


<h3>Value</h3>

<p>Returns a data frame in long format with the following variables:
</p>
<table>
<tr><td><code>variable</code></td>
<td>
<p>Variables as specified in <code>recodeVars</code></p>
</td></tr>
<tr><td><code>value</code></td>
<td>
<p>Unique values of the variables specified in <code>recodeVars</code></p>
</td></tr>
<tr><td><code>value_new</code></td>
<td>
<p>This is the default for <code>addCols</code>. If different additional column names are supplied, this column is missing.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># create example GADS
dat &lt;- data.frame(ID = 1:4, var1 = c(NA, "Eng", "Aus", "Aus2"),
                  var2 = c(NA, "French", "Ger", "Ita"),
                  stringsAsFactors = FALSE)
gads &lt;- import_DF(dat)

# create Lookup table for recoding
lookup &lt;- createLookup(gads, recodeVars = c("var1", "var2"), sort_by = c("value", "variable"))

# create Lookup table for recoding by multiple recoders
lookup2 &lt;- createLookup(gads, recodeVars = c("var1", "var2"), sort_by = c("value", "variable"),
                        addCols = c("value_recoder1", "value_recoder2"))

</code></pre>

<hr>
<h2 id='createNumCheck'>Create data.frame for specification of numerical plausibility checks.</h2><span id='topic+createNumCheck'></span>

<h3>Description</h3>

<p>All numerical variables without value labels in a <code>GADSdat</code> are selected and a <code>data.frame</code> is created, which allows the specification
of minima and maxima.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>createNumCheck(GADSdat)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="createNumCheck_+3A_gadsdat">GADSdat</code></td>
<td>
<p>A <code>GADSdat</code> object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is currently under development.
</p>


<h3>Value</h3>

<p>A data.frame with the following variables:
</p>
<table>
<tr><td><code>variable</code></td>
<td>
<p>All numerical variables in the <code>GADSdat</code></p>
</td></tr>
<tr><td><code>varLabel</code></td>
<td>
<p>Corresponding variable labels</p>
</td></tr>
<tr><td><code>min</code></td>
<td>
<p>Minimum value for the specific variable.</p>
</td></tr>
<tr><td><code>max</code></td>
<td>
<p>Maximum value for the specific variable.</p>
</td></tr>
<tr><td><code>value_new</code></td>
<td>
<p>Which value should be inserted if values exceed the specified range?</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># tbd

</code></pre>

<hr>
<h2 id='createVariable'>Create a variable.</h2><span id='topic+createVariable'></span>

<h3>Description</h3>

<p>Create an empty variable as part of a <code>GADSdat</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>createVariable(GADSdat, varName, checkVarName = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="createVariable_+3A_gadsdat">GADSdat</code></td>
<td>
<p><code>GADSdat</code> object imported via <code>eatGADS</code>.</p>
</td></tr>
<tr><td><code id="createVariable_+3A_varname">varName</code></td>
<td>
<p>Name of the variable to be cloned.</p>
</td></tr>
<tr><td><code id="createVariable_+3A_checkvarname">checkVarName</code></td>
<td>
<p>Logical. Should <code>varName</code> be checked by <code><a href="#topic+checkVarNames">checkVarNames</a></code>?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a <code>GADSdat</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># create a new variable
pisa_new &lt;- createVariable(pisa, varName = "new_variable")

</code></pre>

<hr>
<h2 id='dummies2char'>Transform dummy variables to character variables.</h2><span id='topic+dummies2char'></span>

<h3>Description</h3>

<p>Convert a set of dummy variables into a set of character variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dummies2char(GADSdat, dummies, dummyValues, charNames, checkVarNames = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dummies2char_+3A_gadsdat">GADSdat</code></td>
<td>
<p>A <code>GADSdat</code> object.</p>
</td></tr>
<tr><td><code id="dummies2char_+3A_dummies">dummies</code></td>
<td>
<p>A character vector with the names of the dummy variables.</p>
</td></tr>
<tr><td><code id="dummies2char_+3A_dummyvalues">dummyValues</code></td>
<td>
<p>A vector with the values which the dummy variables represent.</p>
</td></tr>
<tr><td><code id="dummies2char_+3A_charnames">charNames</code></td>
<td>
<p>A character vector containing the new variable names.</p>
</td></tr>
<tr><td><code id="dummies2char_+3A_checkvarnames">checkVarNames</code></td>
<td>
<p>Logical. Should <code>charNames</code> be checked by <code><a href="#topic+checkVarNames">checkVarNames</a></code>?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A set of dummy variables is transformed to an equal number of character variables.
The character variables are aligned to the left and the remaining character variables are set to <code>NA</code>.
For each new variable the missing codes of the respective dummy variable are reused.
</p>


<h3>Value</h3>

<p>Returns a <code>GADSdat</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## create an example GADSdat
dummy_df &lt;- data.frame(d1 = c("eng", "no eng", "eng"),
                      d2 = c("french", "french", "no french"),
                      d3 = c("no ger", "ger", "no ger"),
                      stringsAsFactors = TRUE)
dummy_g &lt;- import_DF(dummy_df)

## transform dummy variables
dummy_g2 &lt;- dummies2char(dummy_g, dummies = c("d1", "d2", "d3"),
                        dummyValues = c("english", "french", "german"),
                        charNames = c("char1", "char2", "char3"))


</code></pre>

<hr>
<h2 id='emptyTheseVariables'>Set variables to <code>NA</code>.</h2><span id='topic+emptyTheseVariables'></span>

<h3>Description</h3>

<p>Set all values within one or multiple variables to <code>NA</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>emptyTheseVariables(GADSdat, vars, label_suffix = "")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="emptyTheseVariables_+3A_gadsdat">GADSdat</code></td>
<td>
<p>A <code>GADSdat</code> object.</p>
</td></tr>
<tr><td><code id="emptyTheseVariables_+3A_vars">vars</code></td>
<td>
<p>Character vector of variable names which should be set to <code>NA</code>.</p>
</td></tr>
<tr><td><code id="emptyTheseVariables_+3A_label_suffix">label_suffix</code></td>
<td>
<p>Suffix added to variable labels for the affected variables in the <code>GADSdat</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns the recoded <code>GADSdat</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># empty multiple variables
pisa2 &lt;- emptyTheseVariables(pisa, vars = c("idstud", "idschool"))
</code></pre>

<hr>
<h2 id='equalGADS'>Test if two <code>GADSdat</code> objects are (nearly) equal</h2><span id='topic+equalGADS'></span>

<h3>Description</h3>

<p>Run tests to check whether two <code>GADSdat</code> objects are (nearly) equal. Variable names, number of rows in the data,
meta data and data differences are checked and reported as a list output.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>equalGADS(
  target,
  current,
  id = NULL,
  metaExceptions = c("display_width", "labeled"),
  tolerance = sqrt(.Machine$double.eps)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="equalGADS_+3A_target">target</code></td>
<td>
<p>A <code>GADSdat</code> object.</p>
</td></tr>
<tr><td><code id="equalGADS_+3A_current">current</code></td>
<td>
<p>A <code>GADSdat</code> object.</p>
</td></tr>
<tr><td><code id="equalGADS_+3A_id">id</code></td>
<td>
<p>A character vector of length 1 containing the unique identifier column of both <code>GADSdat</code>.
If specified, both <code>GADSdat</code> are ordered according to <code>ID</code> before comparing their data.</p>
</td></tr>
<tr><td><code id="equalGADS_+3A_metaexceptions">metaExceptions</code></td>
<td>
<p>Should certain meta data columns be excluded from the comparison?</p>
</td></tr>
<tr><td><code id="equalGADS_+3A_tolerance">tolerance</code></td>
<td>
<p>A numeric value greater than or equal to <code>0</code>. Differences smaller than <code>tolerance</code> are not reported.
The default value is close to <code>1.5e-8</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>More detailed checks for individual variables can be performed via <code><a href="#topic+inspectDifferences">inspectDifferences</a></code>
and <code><a href="#topic+inspectMetaDifferences">inspectMetaDifferences</a></code>.
</p>


<h3>Value</h3>

<p>Returns a list.
</p>

<hr>
<h2 id='export_tibble'>Transform a <code>GADSdat</code> to a <code>tibble</code></h2><span id='topic+export_tibble'></span>

<h3>Description</h3>

<p><code>haven</code>'s <code><a href="haven.html#topic+read_spss">read_spss</a></code> stores data together with meta data (e.g. value and variable labels) in a
<code>tibble</code> with attributes on variable level. This function transforms a <code>GADSdat</code> object to such a <code>tibble</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>export_tibble(GADSdat)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="export_tibble_+3A_gadsdat">GADSdat</code></td>
<td>
<p><code>GADSdat</code> object imported via <code>eatGADS</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is mainly intended for internal use. For further documentation see also <code><a href="#topic+write_spss">write_spss</a></code>.
</p>


<h3>Value</h3>

<p>Returns a <code>tibble</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>pisa_tbl &lt;- export_tibble(pisa)

</code></pre>

<hr>
<h2 id='extractData'>Extract Data</h2><span id='topic+extractData'></span>

<h3>Description</h3>

<p>Extract <code>data.frame</code> from a <code>GADSdat</code> object for analyses in <code>R</code>. Value labels can be
selectively applied via defining <code>convertLabels</code> and <code>covertVariables</code>.
For extracting meta data see <code><a href="#topic+extractMeta">extractMeta</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractData(
  GADSdat,
  convertMiss = TRUE,
  convertLabels = "character",
  convertVariables = NULL,
  dropPartialLabels = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extractData_+3A_gadsdat">GADSdat</code></td>
<td>
<p>A <code>GADSdat</code> object.</p>
</td></tr>
<tr><td><code id="extractData_+3A_convertmiss">convertMiss</code></td>
<td>
<p>Should values tagged as missing values be recoded to <code>NA</code>?</p>
</td></tr>
<tr><td><code id="extractData_+3A_convertlabels">convertLabels</code></td>
<td>
<p>If <code>"numeric"</code>, values remain as numerics. If <code>"factor"</code> or
<code>"character"</code>, values are recoded to their labels. Corresponding variable type is applied.</p>
</td></tr>
<tr><td><code id="extractData_+3A_convertvariables">convertVariables</code></td>
<td>
<p>Character vector of variables names, which labels should be applied to.
All other variables remain as numeric variables in the data.
If not specified [default], value labels are applied to all variables for which labels are available.
Variable names not in the actual <code>GADS</code> are silently dropped.</p>
</td></tr>
<tr><td><code id="extractData_+3A_droppartiallabels">dropPartialLabels</code></td>
<td>
<p>Should value labels for partially labeled variables be dropped?
If <code>TRUE</code>, the partial labels will be dropped. If <code>FALSE</code>, the variable will be converted
to the class specified in <code>convertLabels</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A <code>GADSdat</code> object includes actual data (<code>GADSdat$dat</code>) and the corresponding meta data information
(<code>GADSdat$labels</code>). <code>extractData</code> extracts the data and applies relevant meta data on value level (missing conversion, value labels),
so the data can be used for analyses in <code>R</code>. Variable labels are retained as <code>label</code> attributes on column level.
</p>
<p>If <code>factor</code> are extracted via <code>convertLabels == "factor"</code>, an attempt is made to preserve the underlying integers.
If this is not possible, a warning is issued.
As <code>SPSS</code> has almost no limitations regarding the underlying values of labeled
integers and <code>R</code>'s <code>factor</code> format is very strict (no <code>0</code>, only integers increasing by <code>+ 1</code>),
this procedure can lead to frequent problems.
</p>


<h3>Value</h3>

<p>Returns a data frame.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Extract Data for Analysis
dat &lt;- extractData(pisa)

# convert labeled variables to factors
dat &lt;- extractData(pisa, convertLabels = "factor")

# convert only some variables to factor, all others remain numeric
dat &lt;- extractData(pisa, convertLabels = "factor", convertVariables = c("schtype", "ganztag"))

# convert only some variables to character, all others remain numeric
dat &lt;- extractData(pisa, convertLabels = "factor", convertVariables = c("schtype", "ganztag"))
# schtype is now character
table(dat$schtype)
# schtype remains numeric
table(dat$gender)

</code></pre>

<hr>
<h2 id='extractData2'>Extract Data 2</h2><span id='topic+extractData2'></span>

<h3>Description</h3>

<p>Extract <code>data.frame</code> from a <code>GADSdat</code> object for analyses in <code>R</code>. Per default, missing codes are applied but
value labels are dropped. Alternatively, value labels can be selectively applied via
<code>labels2character</code>, <code>labels2factor</code>, and <code>labels2ordered</code>.
For extracting meta data see <code><a href="#topic+extractMeta">extractMeta</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractData2(
  GADSdat,
  convertMiss = TRUE,
  labels2character = NULL,
  labels2factor = NULL,
  labels2ordered = NULL,
  dropPartialLabels = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extractData2_+3A_gadsdat">GADSdat</code></td>
<td>
<p>A <code>GADSdat</code> object.</p>
</td></tr>
<tr><td><code id="extractData2_+3A_convertmiss">convertMiss</code></td>
<td>
<p>Should values tagged as missing values be recoded to <code>NA</code>?</p>
</td></tr>
<tr><td><code id="extractData2_+3A_labels2character">labels2character</code></td>
<td>
<p>For which variables should values be recoded to their labels? The resulting variables
are of type <code>character</code>.</p>
</td></tr>
<tr><td><code id="extractData2_+3A_labels2factor">labels2factor</code></td>
<td>
<p>For which variables should values be recoded to their labels? The resulting variables
are of type <code>factor</code>.</p>
</td></tr>
<tr><td><code id="extractData2_+3A_labels2ordered">labels2ordered</code></td>
<td>
<p>For which variables should values be recoded to their labels? The resulting variables
are of type <code>ordered</code>.</p>
</td></tr>
<tr><td><code id="extractData2_+3A_droppartiallabels">dropPartialLabels</code></td>
<td>
<p>Should value labels for partially labeled variables be dropped?
If <code>TRUE</code>, the partial labels will be dropped. If <code>FALSE</code>, the variable will be converted
to the class specified in <code>labels2character</code>, <code>labels2factor</code>, or <code>labels2ordered</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A <code>GADSdat</code> object includes actual data (<code>GADSdat$dat</code>) and the corresponding meta data information
(<code>GADSdat$labels</code>). <code>extractData2</code> extracts the data and applies relevant meta data on value level
(missing conversion, value labels),
so the data can be used for analyses in <code>R</code>. Variable labels are retained as <code>label</code> attributes on column level.
</p>
<p>If <code>factor</code> are extracted via <code>labels2factor</code> or <code>labels2ordered</code>, an attempt is made to preserve the underlying integers.
If this is not possible, a warning is issued.
As <code>SPSS</code> has almost no limitations regarding the underlying values of labeled
integers and <code>R</code>'s <code>factor</code> format is very strict (no <code>0</code>, only integers increasing by <code>+ 1</code>),
this procedure can lead to frequent problems.
</p>


<h3>Value</h3>

<p>Returns a data frame.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Extract Data for Analysis
dat &lt;- extractData2(pisa)

# convert only some variables to character, all others remain numeric
dat &lt;- extractData2(pisa, labels2character = c("schtype", "ganztag"))

# convert only some variables to factor, all others remain numeric
dat &lt;- extractData2(pisa, labels2factor = c("schtype", "ganztag"))

# convert all labeled variables to factors
dat &lt;- extractData2(pisa, labels2factor = namesGADS(pisa))

# convert somme variables to factor, some to character
dat &lt;- extractData2(pisa, labels2character = c("schtype", "ganztag"),
                          labels2factor = c("migration"))

</code></pre>

<hr>
<h2 id='extractDataOld'>Extract Data while merging linking errors.</h2><span id='topic+extractDataOld'></span>

<h3>Description</h3>

<p>Support for linking error data bases has been removed from <code>eatGADS</code>.
<code>extractDataOld</code> provides (for the time being) backwards compatibility, so linking errors can still be merged automatically.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractDataOld(
  GADSdat,
  convertMiss = TRUE,
  convertLabels = "character",
  dropPartialLabels = TRUE,
  convertVariables = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extractDataOld_+3A_gadsdat">GADSdat</code></td>
<td>
<p>A <code>GADSdat</code> object.</p>
</td></tr>
<tr><td><code id="extractDataOld_+3A_convertmiss">convertMiss</code></td>
<td>
<p>Should values coded as missing values be recoded to <code>NA</code>?</p>
</td></tr>
<tr><td><code id="extractDataOld_+3A_convertlabels">convertLabels</code></td>
<td>
<p>If <code>"numeric"</code>, values remain as numerics. If <code>"factor"</code> or <code>"character"</code>, values are recoded to their labels. Corresponding variable type is applied.</p>
</td></tr>
<tr><td><code id="extractDataOld_+3A_droppartiallabels">dropPartialLabels</code></td>
<td>
<p>Should value labels for partially labeled variables be dropped? If <code>TRUE</code>, the partial labels will be dropped. If <code>FALSE</code>, the variable will be converted to the class specified in <code>convertLabels</code>.</p>
</td></tr>
<tr><td><code id="extractDataOld_+3A_convertvariables">convertVariables</code></td>
<td>
<p>Character vector of variables names, which labels should be applied to. If not specified (default), value labels are applied to all variables for which labels are available. Variable names not in the actual GADS are silently dropped.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See <code><a href="#topic+extractData">extractData</a></code> for the current functionality.
</p>


<h3>Value</h3>

<p>Returns a data frame.
</p>

<hr>
<h2 id='extractGADSdat'>Extract single <code>GADSdat</code> from <code>all_GADSdat</code></h2><span id='topic+extractGADSdat'></span>

<h3>Description</h3>

<p>Function to extract a single <code>GADSdat</code> from an <code>all_GADSdat</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractGADSdat(all_GADSdat, name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extractGADSdat_+3A_all_gadsdat">all_GADSdat</code></td>
<td>
<p><code>all_GADSdat</code> object</p>
</td></tr>
<tr><td><code id="extractGADSdat_+3A_name">name</code></td>
<td>
<p>A character vector with length 1 with the name of the <code>GADSdat</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>GADSdat</code> objects can be merged into a single <code>all_GADSdat</code> object via <code><a href="#topic+mergeLabels">mergeLabels</a></code>. This function, performs the
reverse action, extracting a single <code>GADSdat</code> object.
</p>


<h3>Value</h3>

<p>Returns an <code>GADSdat</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># see createGADS vignette

</code></pre>

<hr>
<h2 id='extractMeta'>Get Meta Data</h2><span id='topic+extractMeta'></span>

<h3>Description</h3>

<p>Extract meta data (e.g. variable and values labels) from an <code>eatGADS</code> object. This can be a <code>GADSdat</code>, an <code>all_GADSdat</code>,
a labels <code>data.frame</code>, or the path to an existing data base.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractMeta(GADSobject, vars = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extractMeta_+3A_gadsobject">GADSobject</code></td>
<td>
<p>Either a <code>GADSdat</code> object or a path to an existing <code>eatGADS</code> data base.</p>
</td></tr>
<tr><td><code id="extractMeta_+3A_vars">vars</code></td>
<td>
<p>A character vector containing variable names. If <code>NULL</code> (default), all available meta information is returned.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Meta data is stored tidily in all <code>GADSdat</code> objects as a separate long format data frame. This information can be extracted for a single or
multiple variables.
</p>


<h3>Value</h3>

<p>Returns a long format data frame with meta information.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Extract Meta data from data base
db_path &lt;- system.file("extdata", "pisa.db", package = "eatGADS")
extractMeta(db_path, vars = c("schtype", "sameteach"))

# Extract Meta data from loaded/imported GADS
extractMeta(pisa, vars = c("schtype", "sameteach"))

</code></pre>

<hr>
<h2 id='extractVars'>Extract or remove variables from a <code>GADSdat</code>.</h2><span id='topic+extractVars'></span><span id='topic+removeVars'></span>

<h3>Description</h3>

<p>Extract or remove variables and their meta data from a <code>GADSdat</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractVars(GADSdat, vars)

removeVars(GADSdat, vars)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extractVars_+3A_gadsdat">GADSdat</code></td>
<td>
<p><code>GADSdat</code> object.</p>
</td></tr>
<tr><td><code id="extractVars_+3A_vars">vars</code></td>
<td>
<p>A character vector containing the variables names in the <code>GADSdat</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Both functions simply perform the variable removal or extraction from the underlying <code>data.frame</code>
in the <code>GADSdat</code> object followed by calling <code><a href="#topic+updateMeta">updateMeta</a></code>.
</p>


<h3>Value</h3>

<p>Returns a <code>GADSdat</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## create an example GADSdat
example_df &lt;- data.frame(ID = 1:4,
                        age = c(12, 14, 16, 13),
                        citizenship1 = c("German", "English", "Polish", "Chinese"),
                        citizenship2 = c(NA, "German", "Chinese", "Polish"),
                        stringsAsFactors = TRUE)
gads &lt;- import_DF(example_df)

## remove variables from GADSdat
gads2 &lt;- removeVars(gads, vars = c("citizenship2", "age"))

## extract GADSdat with specific variables
gads3 &lt;- extractVars(gads, vars = c("ID", "citizenship1"))
</code></pre>

<hr>
<h2 id='fac2dummies'>Transform a factor variable to dummy variables.</h2><span id='topic+fac2dummies'></span>

<h3>Description</h3>

<p>Convert a factor variable with n levels to n dummy variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fac2dummies(GADSdat, var)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fac2dummies_+3A_gadsdat">GADSdat</code></td>
<td>
<p>A <code>data.frame</code> or <code>GADSdat</code> object.</p>
</td></tr>
<tr><td><code id="fac2dummies_+3A_var">var</code></td>
<td>
<p>A character vector with the name of the factor variable.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Newly created variables are named as the original variable with the suffix <code>"_a"</code>, <code>"_b"</code> and so on. Variable labels
are created by using the original variable label (if available) and adding the value label of the corresponding level.
All missing codes are forwarded to all dummy variables.
</p>


<h3>Value</h3>

<p>Returns a <code>GADSdat</code> containing the newly computed variables.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## create an example GADSdat
suppressMessages(gads &lt;- import_DF(iris))

## transform factor variable
gads2 &lt;- fac2dummies(gads, var = "Species")


</code></pre>

<hr>
<h2 id='fac2dummies_complex'>Transform a complex factor variable to dummy variables.</h2><span id='topic+fac2dummies_complex'></span>

<h3>Description</h3>

<p>Convert a factor variable with complex factor levels (factor levels contain combinations of other factor levels) to dummy variables.
Dummy variables are coded <code>1</code> (<code>"yes"</code>) and <code>0</code> (<code>"no"</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fac2dummies_complex(GADSdat, var)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fac2dummies_complex_+3A_gadsdat">GADSdat</code></td>
<td>
<p>A <code>data.frame</code> or <code>GADSdat</code> object.</p>
</td></tr>
<tr><td><code id="fac2dummies_complex_+3A_var">var</code></td>
<td>
<p>A character vector with the name of the factor variable.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The basic functionality of this function is analogous to <code><a href="#topic+fac2dummies">fac2dummies</a></code>. However, the function expects factor levels to only go
to <code>9</code>. Higher numbers are treated as combinations of factor levels, for example <code>"13"</code> as <code>"1"</code> and <code>"3"</code>.
</p>


<h3>Value</h3>

<p>Returns a <code>GADSdat</code> containing the newly computed variables.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## create an example GADSdat
df_fac &lt;- data.frame(id = 1:6, fac = c("Opt a", "Opt c, Opt b", "Opt c",
"Opt b", "Opt a, Opt b", "Opt a, Opt b, Opt c"), stringsAsFactors = TRUE)
g_fac &lt;- import_DF(df_fac)
g_fac &lt;- recodeGADS(g_fac, varName = "fac", oldValues = c(1, 2, 3, 4, 5, 6),
                     newValues = c(1, 12, 123, 2, 3, 23))

## transform factor variable
fac2dummies_complex(g_fac, "fac")


</code></pre>

<hr>
<h2 id='fillImputations'>Fill imputed values.</h2><span id='topic+fillImputations'></span>

<h3>Description</h3>

<p>Fill imputed values in a imputed <code>GADSdat_imp</code> object with original, not imputed values from a <code>GADSdat</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fillImputations(GADSdat, GADSdat_imp, varName, varName_imp = varName, id, imp)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fillImputations_+3A_gadsdat">GADSdat</code></td>
<td>
<p>A <code>GADSdat</code> object.</p>
</td></tr>
<tr><td><code id="fillImputations_+3A_gadsdat_imp">GADSdat_imp</code></td>
<td>
<p>A <code>GADSdat</code> object.</p>
</td></tr>
<tr><td><code id="fillImputations_+3A_varname">varName</code></td>
<td>
<p>A character vector of length 1 containing the variable name in <code>GADSdat</code>.</p>
</td></tr>
<tr><td><code id="fillImputations_+3A_varname_imp">varName_imp</code></td>
<td>
<p>A character vector of length 1 containing the variable name in <code>GADSdat_imp</code>.</p>
</td></tr>
<tr><td><code id="fillImputations_+3A_id">id</code></td>
<td>
<p>A character vector of length 1 containing the unique identifier column of both <code>GADSdat</code>.</p>
</td></tr>
<tr><td><code id="fillImputations_+3A_imp">imp</code></td>
<td>
<p>A character vector of length 1 containing the imputation number in <code>GADSdat_imp</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function only fills in missing values in the imputed variable from the not imputed variable. It provides parts
of the functionality of <code>subImputations</code> but does not check whether values have been mistakenly imputed. However,
performance is increased substantially.
</p>


<h3>Value</h3>

<p>The modified <code>GADSdat_imp</code>..
</p>


<h3>Examples</h3>

<pre><code class='language-R'># tbd

</code></pre>

<hr>
<h2 id='fixEncoding'>Remove special characters.</h2><span id='topic+fixEncoding'></span>

<h3>Description</h3>

<p>Remove special characters from a character vector or a <code>GADSdat</code> object.
Also suitable to fix encoding problems of a character vector or a <code>GADSdat</code> object. See details for available options.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fixEncoding(x, input = c("other", "ASCII", "windows1250", "BRISE"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fixEncoding_+3A_x">x</code></td>
<td>
<p>A character vector or <code>GADSdat</code> object.</p>
</td></tr>
<tr><td><code id="fixEncoding_+3A_input">input</code></td>
<td>
<p>Which encoding was used in <code><a href="#topic+import_spss">import_spss</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The option <code>"other"</code> replaces correctly encoded special signs.
The option <code>"ASCII"</code> works for strings which were encoded presumably using <code>UTF-8</code> and imported using <code>ASCII</code> encoding.
The option <code>"windows1250"</code> works for strings which were encoded presumably using <code>UTF-8</code>
and imported using <code>windows-1250</code> encoding.
The option <code>"BRISE"</code> covers a unique case used at the <code>FDZ at IQB</code>.
</p>
<p>If entries are all upper case, special characters are also transformed to all upper case (e.g., <code>"AE"</code> instead
of <code>"Ae"</code>).
</p>


<h3>Value</h3>

<p>The modified character vector or <code>GADSdat</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>fixEncoding(c("\U00C4pfel", "\U00C4PFEL", paste0("\U00DC", "ben"), paste0("\U00DC", "BEN")))

</code></pre>

<hr>
<h2 id='getChangeMeta'>Extract table for Meta Data Changes.</h2><span id='topic+getChangeMeta'></span>

<h3>Description</h3>

<p>Function to obtain a data frame from a <code>GADSdat</code> object for for changes to meta data on variable or on value level.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getChangeMeta(GADSdat, level = "variable")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getChangeMeta_+3A_gadsdat">GADSdat</code></td>
<td>
<p><code>GADSdat</code> object imported via <code>eatGADS</code>.</p>
</td></tr>
<tr><td><code id="getChangeMeta_+3A_level">level</code></td>
<td>
<p><code>'variable'</code> or <code>'value'</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Changes on variable level include variable names (<code>varName</code>), variable labels (<code>varLabel</code>),
SPSS format ((<code>format</code>)) and display width (<code>display_width</code>).
Changes on value level include values (<code>value</code>), value labels (<code>valLabel</code>) and
missing codes (<code>missings</code>).
</p>


<h3>Value</h3>

<p>Returns the meta data sheet for all variables including the corresponding change columns.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># For changes on variable level
varChangeTable &lt;- getChangeMeta(pisa, level = "variable")

# For changes on value level
valChangeTable &lt;- getChangeMeta(pisa, level = "value")

</code></pre>

<hr>
<h2 id='getGADS'>Get data from GADS data base.</h2><span id='topic+getGADS'></span>

<h3>Description</h3>

<p>Extracts variables from a GADS data base. Only the specified variables are extracted. Note that this selection determines the format of
the <code>data.frame</code> that is extracted.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getGADS(vSelect = NULL, filePath)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getGADS_+3A_vselect">vSelect</code></td>
<td>
<p>Character vector of variable names.</p>
</td></tr>
<tr><td><code id="getGADS_+3A_filepath">filePath</code></td>
<td>
<p>Path of the existing <code>eatGADS</code> data base file.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See <code><a href="eatDB.html#topic+createDB">createDB</a></code> and <code><a href="eatDB.html#topic+dbPull">dbPull</a></code> for further explanation of the query and merging processes.
</p>


<h3>Value</h3>

<p>Returns a <code>GADSdat</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Use data base within package
db_path &lt;- system.file("extdata", "pisa.db", package = "eatGADS")
pisa_gads &lt;- getGADS(db_path, vSelect = c("schtype", "sameteach"))

</code></pre>

<hr>
<h2 id='getGADS_fast'>Get data from GADS data base fast from server directory.</h2><span id='topic+getGADS_fast'></span>

<h3>Description</h3>

<p>Extracts variables from a <code>eatGADS</code> data base. Only the specified variables are extracted. Note that this selection determines the format
of the <code>data.frame</code> that is extracted. CAREFUL: This function uses a local temporary directory to speed up loading the data base
from a server and caches the data base locally for a running R session. The temporary data base is removed automatically when the
running <code>R</code> session is terminated.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getGADS_fast(vSelect = NULL, filePath, tempPath = tempdir())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getGADS_fast_+3A_vselect">vSelect</code></td>
<td>
<p>Character vector of variable names.</p>
</td></tr>
<tr><td><code id="getGADS_fast_+3A_filepath">filePath</code></td>
<td>
<p>Path of the existing <code>eatGADS</code> data base file.</p>
</td></tr>
<tr><td><code id="getGADS_fast_+3A_temppath">tempPath</code></td>
<td>
<p>Local directory in which the data base can temporarily be stored. Using the default is recommended.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A random temporary directory is used for caching the data base and is removed, when the <code>R</code> sessions terminates. See
<code><a href="eatDB.html#topic+createDB">createDB</a></code> and <code><a href="eatDB.html#topic+dbPull">dbPull</a></code> for further explanation of the query and merging processes.
</p>


<h3>Value</h3>

<p>Returns a <code>GADSdat</code> object.
</p>

<hr>
<h2 id='getTrendGADS'>Get data for trend reports.</h2><span id='topic+getTrendGADS'></span>

<h3>Description</h3>

<p>Extracts variables from multiple <code>eatGADS</code> data bases.
Data can then be extracted from the <code>GADSdat</code> object via
<code><a href="#topic+extractData">extractData</a></code>. For extracting meta data from a data base or a <code>GADSdat</code> object see <code><a href="#topic+extractMeta">extractMeta</a></code>. To speed
up the data loading, <code><a href="#topic+getGADS_fast">getGADS_fast</a></code> is used per default.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getTrendGADS(
  filePaths,
  vSelect = NULL,
  years,
  fast = TRUE,
  tempPath = tempdir(),
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getTrendGADS_+3A_filepaths">filePaths</code></td>
<td>
<p>Character vectors with paths to the <code>eatGADS</code> db files.</p>
</td></tr>
<tr><td><code id="getTrendGADS_+3A_vselect">vSelect</code></td>
<td>
<p>Variables from all GADS to be selected (as character vector).</p>
</td></tr>
<tr><td><code id="getTrendGADS_+3A_years">years</code></td>
<td>
<p>A numeric vector with identical length as <code>filePaths</code>.</p>
</td></tr>
<tr><td><code id="getTrendGADS_+3A_fast">fast</code></td>
<td>
<p>Should <code><a href="#topic+getGADS_fast">getGADS_fast</a></code> be used for data loading instead of <code><a href="#topic+getGADS">getGADS</a></code>? Using the default is heavily recommended.</p>
</td></tr>
<tr><td><code id="getTrendGADS_+3A_temppath">tempPath</code></td>
<td>
<p>The directory, in which both GADS will be temporarily stored. Using the default is heavily recommended.</p>
</td></tr>
<tr><td><code id="getTrendGADS_+3A_verbose">verbose</code></td>
<td>
<p>Should the loading process be reported?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function extracts data from multiple GADS data bases. All data bases have to be created via
<code><a href="#topic+createGADS">createGADS</a></code>. The data bases are joined via <code>rbind()</code> and a variable <code>year</code> is added, corresponding to the
argument <code>years</code>. The <code>GADSdat</code> object can then further
be used via <code><a href="#topic+extractData">extractData</a></code>. See <code><a href="eatDB.html#topic+createDB">createDB</a></code> and <code><a href="eatDB.html#topic+dbPull">dbPull</a></code> for further explanation
of the querying and merging processes.
</p>


<h3>Value</h3>

<p>Returns a <code>GADSdat</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># See getGADS vignette


</code></pre>

<hr>
<h2 id='getTrendGADSOld'>Get data for trend reports.</h2><span id='topic+getTrendGADSOld'></span>

<h3>Description</h3>

<p>Support for linking error data bases has been removed from <code>eatGADS</code>.
<code>getGADSold</code> provides (for the time being) backwards compatibility, so linking errors can still be extracted automatically.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getTrendGADSOld(
  filePath1,
  filePath2,
  lePath = NULL,
  vSelect = NULL,
  years,
  fast = TRUE,
  tempPath = tempdir()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getTrendGADSOld_+3A_filepath1">filePath1</code></td>
<td>
<p>Path of the first <code>eatGADS</code> db file.</p>
</td></tr>
<tr><td><code id="getTrendGADSOld_+3A_filepath2">filePath2</code></td>
<td>
<p>Path of the second <code>eatGADS</code> db file.</p>
</td></tr>
<tr><td><code id="getTrendGADSOld_+3A_lepath">lePath</code></td>
<td>
<p>Path of the linking error db file. If <code>NULL</code>, no linking errors are added to the data.</p>
</td></tr>
<tr><td><code id="getTrendGADSOld_+3A_vselect">vSelect</code></td>
<td>
<p>Variables from both GADS to be selected (as character vector).</p>
</td></tr>
<tr><td><code id="getTrendGADSOld_+3A_years">years</code></td>
<td>
<p>A numeric vector of length 2. The first elements corresponds to <code>filePath1</code>, the second element to <code>filePath2</code>.</p>
</td></tr>
<tr><td><code id="getTrendGADSOld_+3A_fast">fast</code></td>
<td>
<p>Should <code><a href="#topic+getGADS_fast">getGADS_fast</a></code> be used for data loading instead of <code><a href="#topic+getGADS">getGADS</a></code>? Using the default is heavily recommended.</p>
</td></tr>
<tr><td><code id="getTrendGADSOld_+3A_temppath">tempPath</code></td>
<td>
<p>The directory, in which both GADS will be temporarily stored. Using the default is heavily recommended.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See <code><a href="#topic+getGADS">getGADS</a></code> for the current functionality.
</p>


<h3>Value</h3>

<p>Returns a <code>GADSdat</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># See getGADS vignette


</code></pre>

<hr>
<h2 id='import_convertLabel'>Import an object imported via <code>convertLabel</code></h2><span id='topic+import_convertLabel'></span>

<h3>Description</h3>

<p>Function to import a <code>data.frame</code> object created by <code>convertLabel</code> for use in <code>eatGADS</code>. If possible, importing data via <code><a href="#topic+import_spss">import_spss</a></code> should always be preferred.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>import_convertLabel(df, checkVarNames = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="import_convertLabel_+3A_df">df</code></td>
<td>
<p>A <code>data.frame</code>.</p>
</td></tr>
<tr><td><code id="import_convertLabel_+3A_checkvarnames">checkVarNames</code></td>
<td>
<p>Should variable names be checked for violations of <code>SQLite</code> and <code>R</code> naming rules?</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>convertLabel</code> from <code>R</code> package <code>eatAnalysis</code> converts an object imported via <code>read.spss</code> (from the <code>foreign</code> package) to a <code>data.frame</code> with factors and variable labels stored in variable attributes.
</p>


<h3>Value</h3>

<p>Returns a list with the actual data <code>dat</code> and a data frame with all meta information in long format <code>labels</code>.
</p>

<hr>
<h2 id='import_DF'>Import R <code>data.frame</code></h2><span id='topic+import_DF'></span>

<h3>Description</h3>

<p>Function to import a <code>data.frame</code> object for use in <code>eatGADS</code> while extracting value labels from factors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>import_DF(df, checkVarNames = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="import_DF_+3A_df">df</code></td>
<td>
<p>A <code>data.frame</code>.</p>
</td></tr>
<tr><td><code id="import_DF_+3A_checkvarnames">checkVarNames</code></td>
<td>
<p>Should variable names be checked for violations of <code>SQLite</code> and <code>R</code> naming rules?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Factors are integers with labeled variable levels. <code>import_DF</code> extracts these labels and stores them in a separate meta data data.frame.
See <code><a href="#topic+import_spss">import_spss</a></code> for detailed information.
</p>


<h3>Value</h3>

<p>Returns a list with the actual data <code>dat</code> and a data frame with all meta information in long format <code>labels</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dat &lt;- import_DF(iris, checkVarNames = FALSE)

# Inspect Meta data
extractMeta(dat)

# Extract Data
dat &lt;- extractData(dat, convertLabels = "character")

</code></pre>

<hr>
<h2 id='import_raw'>Import R data frame with explicit meta data sheets</h2><span id='topic+import_raw'></span>

<h3>Description</h3>

<p>Function to import a <code>data.frame</code> object for use in <code>eatGADS</code> while adding explicit variable and value meta information through
separate <code>data.frames</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>import_raw(df, varLabels, valLabels = NULL, checkVarNames = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="import_raw_+3A_df">df</code></td>
<td>
<p>A <code>data.frame</code>.</p>
</td></tr>
<tr><td><code id="import_raw_+3A_varlabels">varLabels</code></td>
<td>
<p>A <code>data.frame</code> containing the variable labels. All variables in the data have to have exactly one column in this data.frame.</p>
</td></tr>
<tr><td><code id="import_raw_+3A_vallabels">valLabels</code></td>
<td>
<p>A <code>data.frame</code> containing the value labels. All referenced variables have to appear in the data, but not all variables in the data have to receive value labels. Can be omitted.</p>
</td></tr>
<tr><td><code id="import_raw_+3A_checkvarnames">checkVarNames</code></td>
<td>
<p>Should variable names be checked for violations of <code>SQLite</code> and <code>R</code> naming rules?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The argument <code>varLables</code> has to contain exactly two variables, namely <code>varName</code> and <code>varLabel</code>. <code>valLables</code> has
to contain exactly four variables, namely <code>varName</code>, <code>value</code>, <code>valLabel</code> and <code>missings</code>. The column <code>value</code>
can only contain numerical values. The column <code>missings</code> can only contain the values <code>"valid"</code> and <code>"miss"</code>.
Variables of type <code>factor</code> are not supported in any of the <code>data.frames</code>.
</p>


<h3>Value</h3>

<p>Returns a list with the actual data <code>dat</code> and with all meta information in long format <code>labels</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dat &lt;- data.frame(ID = 1:5, grade = c(1, 1, 2, 3, 1))
varLabels &lt;- data.frame(varName = c("ID", "grade"),
                       varLabel = c("Person Identifier", "School grade Math"),
                       stringsAsFactors = FALSE)
valLabels &lt;- data.frame(varName = c("grade", "grade", "grade"),
                       value = c(1, 2, 3),
                       valLabel = c("very good", "good", "sufficient"),
                       missings = c("valid", "valid", "valid"),
                       stringsAsFactors = FALSE)

gads &lt;- import_raw(df = dat, varLabels = varLabels, valLabels = valLabels, checkVarNames = FALSE)

# Inspect Meta data
extractMeta(gads)

# Extract Data
dat &lt;- extractData(gads, convertLabels = "character")

</code></pre>

<hr>
<h2 id='import_raw2'>Import R data frame with a explicit meta data sheet</h2><span id='topic+import_raw2'></span>

<h3>Description</h3>

<p>Function to create a <code>GADSdat</code> object based on a <code>dat</code> <code>data.frame</code> and a <code>labels</code> <code>data.frame</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>import_raw2(dat, labels)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="import_raw2_+3A_dat">dat</code></td>
<td>
<p>A <code>dat</code> <code>data.frame</code> containing all actual data.</p>
</td></tr>
<tr><td><code id="import_raw2_+3A_labels">labels</code></td>
<td>
<p>A <code>labels</code> <code>data.frame</code> containing all meta data.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A <code>GADSdat</code> is basically a <code>list</code> with two elements: a <code>dat</code> and a <code>labels</code> <code>data.frame</code>. If these elements are
separated, they can be cleanly tied together again by <code>import_raw2</code>. The function performs extensive checks on the integrity of the
resulting <code>GADSdat</code> object. See <code><a href="#topic+import_spss">import_spss</a></code> and <code><a href="#topic+import_raw">import_raw</a></code> for further details.
</p>


<h3>Value</h3>

<p>Returns a <code>GADSdat</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dat &lt;- data.frame(ID = 1:5, grade = c(1, 1, 2, 3, 1))
varLabels &lt;- data.frame(varName = c("ID", "grade"),
                       varLabel = c("Person Identifier", "School grade Math"),
                       stringsAsFactors = FALSE)
valLabels &lt;- data.frame(varName = c("grade", "grade", "grade"),
                       value = c(1, 2, 3),
                       valLabel = c("very good", "good", "sufficient"),
                       missings = c("valid", "valid", "valid"),
                       stringsAsFactors = FALSE)

gads &lt;- import_raw(df = dat, varLabels = varLabels, valLabels = valLabels, checkVarNames = FALSE)

# separate the GADSdat object
dat &lt;- gads$dat
labels &lt;- gads$labels

# rejoin it
dat &lt;- import_raw2(dat, labels)

</code></pre>

<hr>
<h2 id='import_RDS'>Import <code>RDS</code> file</h2><span id='topic+import_RDS'></span>

<h3>Description</h3>

<p>Function to import a <code>data.frame</code> stored as a <code>.RDS</code> file while extracting value labels from factors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>import_RDS(filePath, checkVarNames = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="import_RDS_+3A_filepath">filePath</code></td>
<td>
<p>Source file location, ending on <code>.RDS</code>.</p>
</td></tr>
<tr><td><code id="import_RDS_+3A_checkvarnames">checkVarNames</code></td>
<td>
<p>Should variable names be checked for violations of <code>SQLite</code> and <code>R</code> naming rules?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Factors are integers with labeled variable levels. <code>import_RDS</code> extracts these labels and stores them in a separate meta data data.frame.
See <code><a href="#topic+import_DF">import_DF</a></code> for detailed information. This function is a wrapper around <code><a href="#topic+import_DF">import_DF</a></code>.
</p>


<h3>Value</h3>

<p>Returns a list with the actual data <code>dat</code> and a data frame with all meta information in long format <code>labels</code>.
</p>

<hr>
<h2 id='import_spss'>Import SPSS data</h2><span id='topic+import_spss'></span>

<h3>Description</h3>

<p>Function to import <code>.sav</code> files while extracting meta information, e.g. variable and value labels.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>import_spss(
  filePath,
  checkVarNames = TRUE,
  labeledStrings = c("drop", "keep", "transform"),
  encoding = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="import_spss_+3A_filepath">filePath</code></td>
<td>
<p>Source file location, ending on <code>.sav</code>.</p>
</td></tr>
<tr><td><code id="import_spss_+3A_checkvarnames">checkVarNames</code></td>
<td>
<p>Should variable names be checked for violations of <code>SQLite</code> and <code>R</code> naming rules?</p>
</td></tr>
<tr><td><code id="import_spss_+3A_labeledstrings">labeledStrings</code></td>
<td>
<p>Should strings as labeled values be allowed? If <code>"drop"</code> (default), all labeled strings are dropped and <code>NAs</code> occur in the meta data. If <code>"transform"</code>, all underlying values are transformed to numeric. If <code>"keep"</code>, value labels stay untouched. However, the latter possibly corrupts all labeled values.</p>
</td></tr>
<tr><td><code id="import_spss_+3A_encoding">encoding</code></td>
<td>
<p>The character encoding used for the file. The default, <code>NULL</code>, use the encoding specified in the file, but sometimes this value is incorrect and it is useful to be able to override it.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>SPSS files (<code>.sav</code>) store variable and value labels and assign specific formatting to variables. <code>import_spss</code> imports
data from SPSS, while storing this meta-information separately in a long format data frame. Value labels and missing labels are used
to identify missing values (see <code><a href="#topic+checkMissings">checkMissings</a></code>). Time and date variables are converted to character.
</p>
<p>In some special cases, <code>.sav</code> files seem to consist of a mix of different encoding types. In such cases, <code>haven</code> might
throw an error if the encoding argument is not specified or <code>UTF-8</code> is selected as encoding. To circumvent this problem we
recommend using <code>encoding = "ASCII"</code> and fixing the resulting issues manually. For example, <code><a href="#topic+fixEncoding">fixEncoding</a></code>
provides some fixes for encoding issues specific to the German language.
</p>


<h3>Value</h3>

<p>Returns a list with the actual data <code>dat</code> and a data frame with all meta information in long format <code>labels</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Use spss data from within package
spss_path &lt;- system.file("extdata", "pisa.zsav", package = "eatGADS")
pisa_gads &lt;- import_spss(spss_path)

</code></pre>

<hr>
<h2 id='import_stata'>Import <code>Stata</code> data</h2><span id='topic+import_stata'></span>

<h3>Description</h3>

<p>Function to import <code>.dta</code> files while extracting meta information, e.g. variable and value labels.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>import_stata(filePath, checkVarNames = TRUE, labeledStrings = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="import_stata_+3A_filepath">filePath</code></td>
<td>
<p>Source file location, ending on <code>.dta</code>.</p>
</td></tr>
<tr><td><code id="import_stata_+3A_checkvarnames">checkVarNames</code></td>
<td>
<p>Should variable names be checked for violations of <code>SQLite</code> and <code>R</code> naming rules?</p>
</td></tr>
<tr><td><code id="import_stata_+3A_labeledstrings">labeledStrings</code></td>
<td>
<p>Should strings as labeled values be allowed? This possibly corrupts all labeled values.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>Stata</code> files (<code>.dta</code>) store variable and value labels and assign specific formatting to variables. <code>import_stata</code> imports
data from <code>Stata</code>, while storing this meta-information separately in a long format data frame. Time and date variables are converted to character.
</p>


<h3>Value</h3>

<p>Returns a list with the actual data <code>dat</code> and a data frame with all meta information in long format <code>labels</code>.
</p>

<hr>
<h2 id='insertVariable'>Reorder a single variable in a <code>GADSdat</code>.</h2><span id='topic+insertVariable'></span>

<h3>Description</h3>

<p>Deprecated. Please use <code><a href="#topic+relocateVariable">relocateVariable</a></code> instead.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>insertVariable(GADSdat, var, after = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="insertVariable_+3A_gadsdat">GADSdat</code></td>
<td>
<p>A <code>GADSdat</code> object.</p>
</td></tr>
<tr><td><code id="insertVariable_+3A_var">var</code></td>
<td>
<p>Character string of the variable name which should be sorted.</p>
</td></tr>
<tr><td><code id="insertVariable_+3A_after">after</code></td>
<td>
<p>Character string of the variable name after which <code>var</code> should be inserted. If <code>NULL</code>, <code>var</code> is inserted at the beginning of the
<code>GADSdat</code>.</p>
</td></tr>
</table>

<hr>
<h2 id='inspectDifferences'>Inspect differences in a variable.</h2><span id='topic+inspectDifferences'></span>

<h3>Description</h3>

<p>Inspect differences between two <code>GADSdat</code> objects in a specific variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>inspectDifferences(varName, GADSdat1, GADSdat2, id)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="inspectDifferences_+3A_varname">varName</code></td>
<td>
<p>A character vector of length 1 containing the variable name.</p>
</td></tr>
<tr><td><code id="inspectDifferences_+3A_gadsdat1">GADSdat1</code></td>
<td>
<p>A <code>GADSdat</code> object.</p>
</td></tr>
<tr><td><code id="inspectDifferences_+3A_gadsdat2">GADSdat2</code></td>
<td>
<p>A <code>GADSdat</code> object.</p>
</td></tr>
<tr><td><code id="inspectDifferences_+3A_id">id</code></td>
<td>
<p>A character vector of length 1 containing the unique identifier column of both <code>GADSdat</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Two <code>GADSdat</code> objects can be compared using <code><a href="#topic+equalGADS">equalGADS</a></code>.
If differences in the data for specific variables in the two objects occur,
these variables can be further inspected using <code>inspectDifferences</code>. Differences on meta data-level can be inspected via
<code><a href="#topic+inspectMetaDifferences">inspectMetaDifferences</a></code>.
</p>


<h3>Value</h3>

<p>A list.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># create a second GADS with different data
pisa2 &lt;- pisa
pisa2$dat$age[400:nrow(pisa$dat)] &lt;- sample(pisa2$dat$age[400:nrow(pisa$dat)])

# inspect via equalGADS()
equalGADS(pisa, pisa2)

# inspect via inspectDifferences()
inspectDifferences("age", GADSdat1 = pisa, GADSdat2 = pisa2, id = "idstud")

</code></pre>

<hr>
<h2 id='inspectMetaDifferences'>Inspect meta data differences in a variable.</h2><span id='topic+inspectMetaDifferences'></span>

<h3>Description</h3>

<p>Inspect meta data differences between two <code>GADSdat</code> objects or <code>GADSdat</code> data bases regarding a specific variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>inspectMetaDifferences(varName, GADSdat1, GADSdat2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="inspectMetaDifferences_+3A_varname">varName</code></td>
<td>
<p>A character vector of length 1 containing the variable name.</p>
</td></tr>
<tr><td><code id="inspectMetaDifferences_+3A_gadsdat1">GADSdat1</code></td>
<td>
<p>A <code>GADSdat</code> object.</p>
</td></tr>
<tr><td><code id="inspectMetaDifferences_+3A_gadsdat2">GADSdat2</code></td>
<td>
<p>A <code>GADSdat</code> object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Two <code>GADSdat</code> objects can be compared using <code><a href="#topic+equalGADS">equalGADS</a></code>.
If meta data differences for specific variables in the two objects occur,
these variables can be further inspected using <code>inspectMetaDifferences</code>.
For data-level differences for a specific variable, see <code><a href="#topic+inspectDifferences">inspectDifferences</a></code>.
</p>


<h3>Value</h3>

<p>A list.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># create a second GADS with different meta data
pisa2 &lt;- pisa
pisa2 &lt;- changeVarLabels(pisa2, varName = "sameteach", varLabel = "Same math teacher")
pisa2 &lt;- recodeGADS(pisa2, varName = "sameteach", oldValues = c(1, 2), newValues = c(0, 1))

# inspect via equalGADS()
equalGADS(pisa, pisa2)

# inspect via inspectMetaDifferences()
inspectMetaDifferences("sameteach", GADSdat1 = pisa, GADSdat2 = pisa2)

</code></pre>

<hr>
<h2 id='labelsGADS'>Labels from relational <code>eatGADS</code> data base.</h2><span id='topic+labelsGADS'></span>

<h3>Description</h3>

<p>Returns the variable and value labels of all variables in the <code>eatGADS</code> data base.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labelsGADS(filePath)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labelsGADS_+3A_filepath">filePath</code></td>
<td>
<p>Path of the existing <code>eatGADS</code> data base.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Variable, value and missing labels as stored in the original SPSS-files and factors from R files are converted to long format for
storage in the data base. <code>labelsGADS</code> returns them as a long format data frame.
</p>


<h3>Value</h3>

<p>Returns a long format data frame including variable names, labels, values, value labels and missing labels.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Extract Meta data from data base
db_path &lt;- system.file("extdata", "pisa.db", package = "eatGADS")
metaData &lt;- labelsGADS(db_path)

</code></pre>

<hr>
<h2 id='matchValues_varLabels'>Match regular expressions and variable names.</h2><span id='topic+matchValues_varLabels'></span>

<h3>Description</h3>

<p>Using variable labels, <code>matchValues_varLabels</code> matches a vector of regular expressions to a set of variable names.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>matchValues_varLabels(GADSdat, mc_vars, values, label_by_hand = character(0))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="matchValues_varLabels_+3A_gadsdat">GADSdat</code></td>
<td>
<p>A <code>GADSdat</code> object.</p>
</td></tr>
<tr><td><code id="matchValues_varLabels_+3A_mc_vars">mc_vars</code></td>
<td>
<p>A vector containing the names of the variables, which should be matched according to their variable labels.</p>
</td></tr>
<tr><td><code id="matchValues_varLabels_+3A_values">values</code></td>
<td>
<p>A character vector containing the regular expressions for which the <code>varLabel</code> column should be searched.</p>
</td></tr>
<tr><td><code id="matchValues_varLabels_+3A_label_by_hand">label_by_hand</code></td>
<td>
<p>Additional value - <code>mc_var</code> pairs. Necessary, if for some <code>mc_vars</code> no value exists.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Multiple choice items can be stored as multiple dichotomous variables with the information about the variable
stored in the variable labels. The function <code><a href="#topic+collapseMultiMC_Text">collapseMultiMC_Text</a></code> can be used to collapse such dichotomous
variables and a character variable, but requires a character vector with variables names of the multiple choice variables.
<code>matchValues_varLabels</code> creates such a vector based on matching regular expressions (<code>values</code>) to variable labels.
</p>
<p>Note that all variables in <code>mc_vars</code> have to be assigned exactly one value (and vice versa).
If a variable name is missing in the output,
an error will be thrown. In this case, the <code>label_by_hand</code> argument should be used to specify the regular expression
variable name pair manually.
</p>


<h3>Value</h3>

<p>Returns a named character vector. Values of the vector are the variable names in the <code>GADSdat</code>, names of the vector
are the regular expressions.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Prepare example data
mt2 &lt;- data.frame(ID = 1:4, mc1 = c(1, 0, 0, 0), mc2 = c(0, 0, 0, 0), mc3 = c(0, 1, 1, 0),
                  text1 = c(NA, "Eng", "Aus", "Aus2"), text2 = c(NA, "Franz", NA, NA),
                  stringsAsFactors = FALSE)

mt2_gads &lt;- import_DF(mt2)

mt3_gads &lt;- changeVarLabels(mt2_gads, varName = c("mc1", "mc2", "mc3"),
                           varLabel = c("Lang: Eng", "Aus spoken", "other"))

out &lt;- matchValues_varLabels(mt3_gads, mc_vars = c("mc1", "mc2", "mc3"),
                            values = c("Aus", "Eng", "Eng"),
                            label_by_hand = c("other" = "mc3"))

</code></pre>

<hr>
<h2 id='merge.GADSdat'>Merge two <code>GADSdat</code> objects into a single <code>GADSdat</code> object.</h2><span id='topic+merge.GADSdat'></span>

<h3>Description</h3>

<p>Is a secure way to merge the data and the meta data of two <code>GADSdat</code> objects. Currently, only limited merging options are supported.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'GADSdat'
merge(x, y, by, all = TRUE, all.x = all, all.y = all, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="merge.GADSdat_+3A_x">x</code></td>
<td>
<p><code>GADSdat</code> object imported via <code>eatGADS</code>.</p>
</td></tr>
<tr><td><code id="merge.GADSdat_+3A_y">y</code></td>
<td>
<p><code>GADSdat</code> object imported via <code>eatGADS</code>.</p>
</td></tr>
<tr><td><code id="merge.GADSdat_+3A_by">by</code></td>
<td>
<p>A character vector.</p>
</td></tr>
<tr><td><code id="merge.GADSdat_+3A_all">all</code></td>
<td>
<p>A character vector (either a full join or an inner join).</p>
</td></tr>
<tr><td><code id="merge.GADSdat_+3A_all.x">all.x</code></td>
<td>
<p>See merge.</p>
</td></tr>
<tr><td><code id="merge.GADSdat_+3A_all.y">all.y</code></td>
<td>
<p>See merge.</p>
</td></tr>
<tr><td><code id="merge.GADSdat_+3A_...">...</code></td>
<td>
<p>Further arguments are currently not supported but have to be included for <code>R CMD</code> checks.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If there are duplicate variables (except the variables specified in the <code>by</code> argument), these variables are removed from y.
The meta data is joined for the remaining variables via <code>rbind</code>.
</p>


<h3>Value</h3>

<p>Returns a <code>GADSdat</code> object.
</p>

<hr>
<h2 id='mergeLabels'>Prepare data and metadata</h2><span id='topic+mergeLabels'></span>

<h3>Description</h3>

<p>Transform multiple <code>GADSdat</code> objects into a list ready for data base creation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mergeLabels(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mergeLabels_+3A_...">...</code></td>
<td>
<p><code>GADSdat</code> objects, as named arguments in the correct merge order.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function <code><a href="#topic+createGADS">createGADS</a></code> takes multiple <code>GADSdat</code> objects as input. The function preserves the ordering
in which the objects are supplied, which is then used for the merging order in <code><a href="#topic+createGADS">createGADS</a></code>. Additionally,
the separate lists of meta information for each <code>GADSdat</code> are merged and a data frame unique identifier is added.
</p>


<h3>Value</h3>

<p>Returns an <code>all_GADSdat</code> object, which consists of list with a list of all data frames <code>"datList"</code> and a single data frame containing all meta data information <code>"allLabels"</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># see createGADS vignette

</code></pre>

<hr>
<h2 id='miss2NA'>Recode Missings to <code>NA</code></h2><span id='topic+miss2NA'></span>

<h3>Description</h3>

<p>Recode Missings to <code>NA</code> according to missing labels in label <code>data.frame</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>miss2NA(GADSdat)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="miss2NA_+3A_gadsdat">GADSdat</code></td>
<td>
<p>A <code>GADSdat</code> object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Missings are imported as their values via <code><a href="#topic+import_spss">import_spss</a></code>. Using the value labels in the labels <code>data.frame</code>,
<code>miss2NA</code> recodes these missings codes to <code>NA</code>. This function is mainly intended for internal use.
</p>


<h3>Value</h3>

<p>Returns a <code>data.frame</code> with <code>NA</code> instead of missing codes.
</p>

<hr>
<h2 id='multiChar2fac'>Transform one or multiple character variables to factor.</h2><span id='topic+multiChar2fac'></span>

<h3>Description</h3>

<p>Convert one or multiple character variables to factors. If multiple variables are converted, a common set of value labels is created,
which is identical across variables. Existing value labels are preserved.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>multiChar2fac(
  GADSdat,
  vars,
  var_suffix = "_r",
  label_suffix = "(recoded)",
  convertCases = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="multiChar2fac_+3A_gadsdat">GADSdat</code></td>
<td>
<p>A <code>data.frame</code> or <code>GADSdat</code> object.</p>
</td></tr>
<tr><td><code id="multiChar2fac_+3A_vars">vars</code></td>
<td>
<p>A character vector with all variables that should be transformed to factor.</p>
</td></tr>
<tr><td><code id="multiChar2fac_+3A_var_suffix">var_suffix</code></td>
<td>
<p>Variable suffix for the newly created <code>GADSdat</code>. If an empty character, the existing variables are overwritten.</p>
</td></tr>
<tr><td><code id="multiChar2fac_+3A_label_suffix">label_suffix</code></td>
<td>
<p>Suffix added to variable label for the newly created variable in the <code>GADSdat</code>.</p>
</td></tr>
<tr><td><code id="multiChar2fac_+3A_convertcases">convertCases</code></td>
<td>
<p>Should cases be transformed for all variables? Default <code>NULL</code> leaves cases as they are.
Available options for converting cases are all lower case (<code>'lower'</code>), all upper case (<code>'upper'</code>),
or first letter upper case, everything else lower case (<code>'upperFirst'</code>).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If a set of variables has the same possible values, it is desirable that these variables share the same
value labels, even if some of the values do not occur on the individual variables. This function allows
the transformation of multiple character variables to factors while assimilating the value labels.
The SPSS format of the newly created variables is set to <code>F10.0</code>.
</p>
<p>A current limitation of the function is that prior to the conversion, all variables specified in <code>vars</code> must have identical
meta data on value level (value labels and missing tags).
</p>
<p>If necessary, missing codes can be set after transformation via <code><a href="#topic+checkMissings">checkMissings</a></code> for setting missing codes
depending on value labels for all variables or
<code><a href="#topic+changeMissings">changeMissings</a></code> for setting missing codes for specific values in a specific variable.
</p>
<p>The argument <code>convertCases</code> uses the function <code><a href="#topic+convertCase">convertCase</a></code> internally. See the respective documentation for more details.
</p>


<h3>Value</h3>

<p>Returns a <code>GADSdat</code> containing the newly computed variable.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## create an example GADSdat
example_df &lt;- data.frame(ID = 1:4,
                        citizenship1 = c("German", "English", "missing by design", "Chinese"),
                        citizenship2 = c("missing", "German", "missing by design", "Polish"),
                        stringsAsFactors = FALSE)
gads &lt;- import_DF(example_df)

## transform one character variable
gads2 &lt;- multiChar2fac(gads, vars = "citizenship1")

## transform multiple character variables
gads2 &lt;- multiChar2fac(gads, vars = c("citizenship1", "citizenship2"))

## set values to missings
gads3 &lt;- checkMissings(gads2, missingLabel = "missing")

</code></pre>

<hr>
<h2 id='namesGADS'>Variables names of a GADS.</h2><span id='topic+namesGADS'></span>

<h3>Description</h3>

<p>Variables names of a <code>GADSdat</code> object, a <code>all_GADSdat</code> object or a <code>eatGADS</code> data base.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>namesGADS(GADS)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="namesGADS_+3A_gads">GADS</code></td>
<td>
<p>A <code>GADSdat</code> object, a <code>all_GADSdat</code> or the path to an existing <code>eatGADS</code> data base.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If the function is applied to a <code>GADSdat</code> object, a character vector with all variable names is returned. If the function is
applied to a <code>all_GADSdat</code> object or to the path of a <code>eatGADS</code> data base, a named list is returned. Each list entry
represents a data table in the object.
</p>


<h3>Value</h3>

<p>Returns a character vector or a named list of character vectors.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Extract variable names from data base
db_path &lt;- system.file("extdata", "pisa.db", package = "eatGADS")
namesGADS(db_path)

# Extract variable names  from loaded/imported GADS
namesGADS(pisa)

</code></pre>

<hr>
<h2 id='orderLike'>Order the variables in a <code>GADSdat</code>.</h2><span id='topic+orderLike'></span>

<h3>Description</h3>

<p>Order the variables in a <code>GADSdat</code> according to a character vector. If there are discrepancies between the two sets, a warning is issued.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>orderLike(GADSdat, newOrder)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="orderLike_+3A_gadsdat">GADSdat</code></td>
<td>
<p>A <code>GADSdat</code> object.</p>
</td></tr>
<tr><td><code id="orderLike_+3A_neworder">newOrder</code></td>
<td>
<p>A character vector containing the order of variables.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The variables in the <code>dat</code> and in the <code>labels</code> section are ordered. Variables not contained in the character vector are moved to the end of the data.
</p>


<h3>Value</h3>

<p>Returns a <code>GADSdat</code> object.
</p>

<hr>
<h2 id='pisa'>PISA Plus Example Data</h2><span id='topic+pisa'></span>

<h3>Description</h3>

<p>A small example data set from the German PISA Plus campus files as distributed by the <code>Forschungsdatenzentrum, IQB</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pisa
</code></pre>


<h3>Format</h3>

<p>A data.frame with 500 rows and 133 variables, including:
</p>

<dl>
<dt>idstud</dt><dd><p>Person ID variable</p>
</dd>
<dt>idschool</dt><dd><p>School ID variable</p>
</dd>
<dt>schtype</dt><dd><p>School type</p>
</dd>
<dt>...</dt><dd></dd>
</dl>



<h3>Source</h3>

<p>Research Data Center at the Institute for Educational Quality Improvement (2020). Programme for International Student Assessment - Plus 2012, 2013 (PISA Plus 2012-2013) - Campus File (Version 1) [Data set]. Berlin: Institute for Educational Quality Improvement. <a href="https://doi.org/10.5159/IQB_PISA_Plus_2012-13_CF_v1">doi:10.5159/IQB_PISA_Plus_2012-13_CF_v1</a>
</p>

<hr>
<h2 id='recode2NA'>Recode values to <code>NA</code>.</h2><span id='topic+recode2NA'></span>

<h3>Description</h3>

<p>Recode multiple values in multiple variables in a <code>GADSdat</code> to <code>NA</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>recode2NA(GADSdat, recodeVars = namesGADS(GADSdat), value = "")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="recode2NA_+3A_gadsdat">GADSdat</code></td>
<td>
<p>A <code>GADSdat</code> object.</p>
</td></tr>
<tr><td><code id="recode2NA_+3A_recodevars">recodeVars</code></td>
<td>
<p>Character vector of variable names which should be recoded.</p>
</td></tr>
<tr><td><code id="recode2NA_+3A_value">value</code></td>
<td>
<p>Which values should be recoded to <code>NA</code>?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If there are value labels given to the specified value, a warning is issued. Number of recodes per variable are reported.
</p>
<p>If a data set is imported from <code>.sav</code>, character variables frequently contain empty strings. Especially if parts of the
data are written to <code>.xlsx</code>, this can cause problems (e.g. as look up tables from <code><a href="#topic+createLookup">createLookup</a></code>),
as most function which write to <code>.xlsx</code> convert empty strings to <code>NAs</code>. <code>recodeString2NA</code> can be
used to recode all empty strings to <code>NA</code> beforehand.
</p>


<h3>Value</h3>

<p>Returns the recoded <code>GADSdat</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># create example GADS
dat &lt;- data.frame(ID = 1:4, var1 = c("", "Eng", "Aus", "Aus2"),
                  var2 = c("", "French", "Ger", "Ita"),
                  stringsAsFactors = FALSE)
gads &lt;- import_DF(dat)

# recode empty strings
gads2 &lt;- recode2NA(gads)

# recode numeric value
gads3 &lt;- recode2NA(gads, recodeVars = "ID", value = 1:3)


</code></pre>

<hr>
<h2 id='recodeGADS'>Recode a variable.</h2><span id='topic+recodeGADS'></span>

<h3>Description</h3>

<p>Recode a variable as part of a <code>GADSdat</code> or <code>all_GADSdat</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>recodeGADS(
  GADSdat,
  varName,
  oldValues,
  newValues,
  existingMeta = c("stop", "value", "value_new", "drop", "ignore")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="recodeGADS_+3A_gadsdat">GADSdat</code></td>
<td>
<p><code>GADSdat</code> object imported via <code>eatGADS</code>.</p>
</td></tr>
<tr><td><code id="recodeGADS_+3A_varname">varName</code></td>
<td>
<p>Name of the variable to be recoded.</p>
</td></tr>
<tr><td><code id="recodeGADS_+3A_oldvalues">oldValues</code></td>
<td>
<p>Vector containing the old values.</p>
</td></tr>
<tr><td><code id="recodeGADS_+3A_newvalues">newValues</code></td>
<td>
<p>Vector containing the new values (in the respective order as <code>oldValues</code>).</p>
</td></tr>
<tr><td><code id="recodeGADS_+3A_existingmeta">existingMeta</code></td>
<td>
<p>If values are recoded, which meta data should be used (see details)?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Applied to a <code>GADSdat</code> or <code>all_GADSdat</code> object, this function is a wrapper of <code><a href="#topic+getChangeMeta">getChangeMeta</a></code>
and <code><a href="#topic+applyChangeMeta">applyChangeMeta</a></code>. Beyond that, unlabeled variables and values are recoded as well.
<code>oldValues</code> and <code>newValues</code> are matched by ordering in the function call.
</p>
<p>If changes are performed on value levels, recoding into
existing values can occur. In these cases, <code>existingMeta</code> determines how the resulting meta data conflicts are handled,
either raising an error if any occur (<code>"stop"</code>),
keeping the original meta data for the value (<code>"value"</code>),
using the meta data in the <code>changeTable</code> and, if incomplete, from the recoded value (<code>"value_new"</code>),
or leaving the respective meta data untouched (<code>"ignore"</code>).
</p>
<p>Furthermore, one might recode multiple old values in the same new value. This is currently only possible with
<code>existingMeta = "drop"</code>, which drops all related meta data on value level, or
<code>existingMeta = "ignore"</code>, which leaves all related meta data on value level untouched.
</p>
<p>Missing values (<code>NA</code>) are supported in <code>oldValues</code> but not in <code>newValues</code>. For recoding values to
<code>NA</code> see <code><a href="#topic+recode2NA">recode2NA</a></code> instead.
For recoding character variables, using lookup tables via <code><a href="#topic+createLookup">createLookup</a></code> is recommended. For changing
value labels see <code><a href="#topic+changeValLabels">changeValLabels</a></code>.
</p>


<h3>Value</h3>

<p>Returns a <code>GADSdat</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Example gads
example_df &lt;- data.frame(ID = 1:5, color = c("blue", "blue", "green", "other", "other"),
                        animal = c("dog", "Dog", "cat", "hors", "horse"),
                        age = c(NA, 16, 15, 23, 50),
                        stringsAsFactors = FALSE)
example_df$animal &lt;- as.factor(example_df$animal)
gads &lt;- import_DF(example_df)

# simple recode
gads2 &lt;- recodeGADS(gads, varName = "animal",
                   oldValues = c(3, 4), newValues = c(7, 8))
</code></pre>

<hr>
<h2 id='recodeNA2missing'>Recode <code>NAs</code> to Missing.</h2><span id='topic+recodeNA2missing'></span>

<h3>Description</h3>

<p>Recode <code>NAs</code> in multiple variables in a <code>GADSdat</code> to a numeric value with a value label and a missing tag.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>recodeNA2missing(
  GADSdat,
  recodeVars = namesGADS(GADSdat),
  value = -99,
  valLabel = "missing"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="recodeNA2missing_+3A_gadsdat">GADSdat</code></td>
<td>
<p>A <code>GADSdat</code> object.</p>
</td></tr>
<tr><td><code id="recodeNA2missing_+3A_recodevars">recodeVars</code></td>
<td>
<p>Character vector of variable names which should be recoded.</p>
</td></tr>
<tr><td><code id="recodeNA2missing_+3A_value">value</code></td>
<td>
<p>Which value should <code>NAs</code> be recoded to?</p>
</td></tr>
<tr><td><code id="recodeNA2missing_+3A_vallabel">valLabel</code></td>
<td>
<p>Which value label should <code>value</code> be assigned?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The value label and missing tag are only added to variables which contain <code>NAs</code> and which have been recoded.
If a variable has an existing value label for <code>value</code>, the existing value label is overwritten and a missing tag is added.
A corresponding warning is issued.
</p>


<h3>Value</h3>

<p>Returns the recoded <code>GADSdat</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># create example GADS
dat &lt;- data.frame(ID = 1:4, age = c(NA, 18, 21, 23),
                  siblings = c(0, 2, NA, NA))
gads &lt;- import_DF(dat)

# recode NAs
gads2 &lt;- recodeNA2missing(gads)
</code></pre>

<hr>
<h2 id='recodeString2NA'>Recode a string to <code>NA</code>.</h2><span id='topic+recodeString2NA'></span>

<h3>Description</h3>

<p>Deprecated, use <code><a href="#topic+recode2NA">recode2NA</a></code> instead..
</p>


<h3>Usage</h3>

<pre><code class='language-R'>recodeString2NA(GADSdat, recodeVars = namesGADS(GADSdat), string = "")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="recodeString2NA_+3A_gadsdat">GADSdat</code></td>
<td>
<p>A <code>GADSdat</code> object.</p>
</td></tr>
<tr><td><code id="recodeString2NA_+3A_recodevars">recodeVars</code></td>
<td>
<p>Character vector of variable names which should be recoded.</p>
</td></tr>
<tr><td><code id="recodeString2NA_+3A_string">string</code></td>
<td>
<p>Which string should be recoded to <code>NA</code>?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns the recoded <code>GADSdat</code>.
</p>

<hr>
<h2 id='relocateVariable'>Reorder a single variable in a <code>GADSdat</code>.</h2><span id='topic+relocateVariable'></span>

<h3>Description</h3>

<p>Reorder a single variable in a <code>GADSdat</code>. The variable (<code>var</code>) can be inserted right after another variable (<code>after</code>) or at the beginning
of the <code>GADSdat</code> via <code>after = NULL</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>relocateVariable(GADSdat, var, after = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="relocateVariable_+3A_gadsdat">GADSdat</code></td>
<td>
<p>A <code>GADSdat</code> object.</p>
</td></tr>
<tr><td><code id="relocateVariable_+3A_var">var</code></td>
<td>
<p>Character string of the variable name which should be sorted.</p>
</td></tr>
<tr><td><code id="relocateVariable_+3A_after">after</code></td>
<td>
<p>Character string of the variable name after which <code>var</code> should be inserted. If <code>NULL</code>, <code>var</code> is inserted at the beginning of the
<code>GADSdat</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The variables in the <code>dat</code> and in the <code>labels</code> section are ordered. For reordering the whole <code>GADSdat</code>, see
<code><a href="#topic+orderLike">orderLike</a></code>.
</p>


<h3>Value</h3>

<p>Returns a <code>GADSdat</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Insert variable 'migration' after variable 'idclass'
pisa2 &lt;- relocateVariable(pisa, var = "migration", after = "idclass")

# Insert variable 'idclass' at the beginning of the data set
pisa2 &lt;- relocateVariable(pisa, var = "idclass", after = NULL)
</code></pre>

<hr>
<h2 id='remove2NAchar'>Shorten multiple text variables while giving NA codes.</h2><span id='topic+remove2NAchar'></span>

<h3>Description</h3>

<p>Shorten text variables from a certain number on while coding overflowing answers as complete missings.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>remove2NAchar(GADSdat, vars, max_num = 2, na_value, na_label)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="remove2NAchar_+3A_gadsdat">GADSdat</code></td>
<td>
<p>A <code>GADSdat</code> object.</p>
</td></tr>
<tr><td><code id="remove2NAchar_+3A_vars">vars</code></td>
<td>
<p>A character vector with the names of the text variables.</p>
</td></tr>
<tr><td><code id="remove2NAchar_+3A_max_num">max_num</code></td>
<td>
<p>Maximum number of text variables. Additional text variables will be removed and NA codes given accordingly.</p>
</td></tr>
<tr><td><code id="remove2NAchar_+3A_na_value">na_value</code></td>
<td>
<p>Which NA value should be given in cases of too many values on text variables.</p>
</td></tr>
<tr><td><code id="remove2NAchar_+3A_na_label">na_label</code></td>
<td>
<p>Which value label should be given to the <code>na_value</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In some cases, multiple text variables contain the information of one variable (e.g. multiple answers to an open item).
If this is a case, sometimes the number text variables displaying this variable should be limited. <code>remove2NAchar</code>
allows shortening multiple character variables, this means character variables after <code>max_num</code> are removed
from the <code>GADSdat</code>. Cases, which had valid responses on these removed variables are coded as missings (using
<code>na_value</code> and <code>na_label</code>).
</p>


<h3>Value</h3>

<p>Returns the modified <code>GADSdat</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## create an example GADSdat
example_df &lt;- data.frame(ID = 1:4,
                        citizenship1 = c("German", "English", "missing by design", "Chinese"),
                        citizenship2 = c(NA, "German", "missing by design", "Polish"),
                        citizenship3 = c(NA, NA, NA, "German"),
                        stringsAsFactors = FALSE)
gads &lt;- import_DF(example_df)

## shorten character variables
gads2 &lt;- remove2NAchar(gads, vars = c("citizenship1", "citizenship2", "citizenship3"),
                      na_value = -99, na_label = "missing: too many answers")


</code></pre>

<hr>
<h2 id='removeValLabels'>Remove value labels.</h2><span id='topic+removeValLabels'></span>

<h3>Description</h3>

<p>Remove value labels of a variable as part of a <code>GADSdat</code> or <code>all_GADSdat</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>removeValLabels(GADSdat, varName, value, valLabel = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="removeValLabels_+3A_gadsdat">GADSdat</code></td>
<td>
<p><code>GADSdat</code> object imported via <code>eatGADS</code>.</p>
</td></tr>
<tr><td><code id="removeValLabels_+3A_varname">varName</code></td>
<td>
<p>Character string of a variable name.</p>
</td></tr>
<tr><td><code id="removeValLabels_+3A_value">value</code></td>
<td>
<p>Numeric values.</p>
</td></tr>
<tr><td><code id="removeValLabels_+3A_vallabel">valLabel</code></td>
<td>
<p>[optional] Regular expressions in the value labels corresponding to <code>value</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If the argument <code>valLabel</code> is provided the function checks for <code>value</code> and <code>valLabel</code> pairs in the
meta data that match both arguments.
</p>


<h3>Value</h3>

<p>Returns the <code>GADSdat</code> object with changed meta data.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Remove a label based on value
extractMeta(pisa, "schtype")
pisa2 &lt;- removeValLabels(pisa, varName = "schtype", value = 1)
extractMeta(pisa2, "schtype")

# Remove multiple labels based on value
extractMeta(pisa, "schtype")
pisa3 &lt;- removeValLabels(pisa, varName = "schtype", value = 1:3)
extractMeta(pisa3, "schtype")

# Remove multiple labels based on value - valLabel combination
extractMeta(pisa, "schtype")
pisa4 &lt;- removeValLabels(pisa, varName = "schtype",
                        value = 1:3, valLabel = c("Gymnasium", "other", "several courses"))
extractMeta(pisa4, "schtype")

</code></pre>

<hr>
<h2 id='reuseMeta'>Use meta data for variables from another <code>GADSdat</code>.</h2><span id='topic+reuseMeta'></span>

<h3>Description</h3>

<p>Transfer meta information from one <code>GADSdat</code> to another for one or multiple variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reuseMeta(
  GADSdat,
  varName,
  other_GADSdat,
  other_varName = NULL,
  missingLabels = NULL,
  addValueLabels = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="reuseMeta_+3A_gadsdat">GADSdat</code></td>
<td>
<p><code>GADSdat</code> object imported via <code>eatGADS</code>.</p>
</td></tr>
<tr><td><code id="reuseMeta_+3A_varname">varName</code></td>
<td>
<p>Character vector with the names of the variables that should get the new meta data.</p>
</td></tr>
<tr><td><code id="reuseMeta_+3A_other_gadsdat">other_GADSdat</code></td>
<td>
<p><code>GADSdat</code> object imported via <code>eatGADS</code> including the desired meta information. Can either be a <code>GADSdat</code>, an <code>eatGADS</code> data base or an <code>all_GADSdat</code> object.</p>
</td></tr>
<tr><td><code id="reuseMeta_+3A_other_varname">other_varName</code></td>
<td>
<p>Character vector with the names of the variables in <code>other_GADSdat</code> that contain the meta data which should be copied.</p>
</td></tr>
<tr><td><code id="reuseMeta_+3A_missinglabels">missingLabels</code></td>
<td>
<p>How should meta data for missing values be treated? If <code>NULL</code>, missing values are transferred as all other labels. If <code>"drop"</code>, missing labels are dropped (useful for imputed data). If <code>"leave"</code>, missing labels remain untouched. If <code>"only"</code>, all valid value labels are dropped.</p>
</td></tr>
<tr><td><code id="reuseMeta_+3A_addvaluelabels">addValueLabels</code></td>
<td>
<p>Should only value labels be added and all other meta information retained?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Transfer of meta information can mean substituting the complete meta information, only adding value labels, adding only
<code>"valid"</code> or adding only <code>"miss"</code> missing labels.
See the arguments <code>missingLabels</code> and <code>addValueLabels</code> for further details.
</p>


<h3>Value</h3>

<p>Returns the original object with updated meta data.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># see createGADS vignette

</code></pre>

<hr>
<h2 id='splitGADS'>Split <code>GADSdat</code> into hierarchy levels.</h2><span id='topic+splitGADS'></span>

<h3>Description</h3>

<p>Split a <code>GADSdat</code> into multiple, specified hierarchical levels.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>splitGADS(GADSdat, nameList)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="splitGADS_+3A_gadsdat">GADSdat</code></td>
<td>
<p>A <code>GADSdat</code> object.</p>
</td></tr>
<tr><td><code id="splitGADS_+3A_namelist">nameList</code></td>
<td>
<p>A list of character vectors. The names in the list correspond the the hierarchy levels.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function takes a <code>GADSdat</code> object and splits it into its desired hierarchical levels (a <code>all_GADSdat</code> object).
Hierarchy level of a variable is also accessible in the meta data via the column <code>data_table</code>. If not all variable names
are included in the <code>nameList</code>, the missing variables will be dropped.
</p>


<h3>Value</h3>

<p>Returns an <code>all_GADSdat</code> object, which consists of list with a list of all data frames <code>"datList"</code> and
a single data frame containing all meta data information <code>"allLabels"</code>. For more details see also <code><a href="#topic+mergeLabels">mergeLabels</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># see createGADS vignette

</code></pre>

<hr>
<h2 id='stringAsNumeric'>Transform string to numeric.</h2><span id='topic+stringAsNumeric'></span>

<h3>Description</h3>

<p>Transform a string variable within a <code>GADSdat</code> or <code>all_GADSdat</code> object to a numeric variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stringAsNumeric(GADSdat, varName)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stringAsNumeric_+3A_gadsdat">GADSdat</code></td>
<td>
<p><code>GADSdat</code> object imported via <code>eatGADS</code>.</p>
</td></tr>
<tr><td><code id="stringAsNumeric_+3A_varname">varName</code></td>
<td>
<p>Character string of a variable name.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Applied to a <code>GADSdat</code> or <code>all_GADSdat</code> object, this function uses <code><a href="eatTools.html#topic+asNumericIfPossible">asNumericIfPossible</a></code> to
change the variable class and changes the <code>format</code> column in the meta data.
</p>


<h3>Value</h3>

<p>Returns the <code>GADSdat</code> object with with the changed variable.
</p>

<hr>
<h2 id='subImputations'>Substitute imputed values.</h2><span id='topic+subImputations'></span>

<h3>Description</h3>

<p>Substitute imputed values in a imputed <code>GADSdat_imp</code> object with original, not imputed values from a <code>GADSdat</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>subImputations(GADSdat, GADSdat_imp, varName, varName_imp = varName, id, imp)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="subImputations_+3A_gadsdat">GADSdat</code></td>
<td>
<p>A <code>GADSdat</code> object.</p>
</td></tr>
<tr><td><code id="subImputations_+3A_gadsdat_imp">GADSdat_imp</code></td>
<td>
<p>A <code>GADSdat</code> object.</p>
</td></tr>
<tr><td><code id="subImputations_+3A_varname">varName</code></td>
<td>
<p>A character vector of length 1 containing the variable name in <code>GADSdat</code>.</p>
</td></tr>
<tr><td><code id="subImputations_+3A_varname_imp">varName_imp</code></td>
<td>
<p>A character vector of length 1 containing the variable name in <code>GADSdat_imp</code>.</p>
</td></tr>
<tr><td><code id="subImputations_+3A_id">id</code></td>
<td>
<p>A character vector of length 1 containing the unique identifier column of both <code>GADSdat</code>.</p>
</td></tr>
<tr><td><code id="subImputations_+3A_imp">imp</code></td>
<td>
<p>A character vector of length 1 containing the imputation number in <code>GADSdat_imp</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>There are two cases in which values are substituted: (a) there are missings in <code>varName_imp</code>, (b) values have been imputed
even though there is valid information in <code>varName</code>.
</p>


<h3>Value</h3>

<p>The modified <code>GADSdat_imp</code>..
</p>


<h3>Examples</h3>

<pre><code class='language-R'># tbd

</code></pre>

<hr>
<h2 id='updateMeta'>Update meta data.</h2><span id='topic+updateMeta'></span>

<h3>Description</h3>

<p>Update the meta data of a <code>GADSdat</code> or <code>all_GADSdat</code> object according to the variables in a new data object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>updateMeta(GADSdat, newDat, checkVarNames = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="updateMeta_+3A_gadsdat">GADSdat</code></td>
<td>
<p><code>GADSdat</code> or <code>all_GADSdat</code> object.</p>
</td></tr>
<tr><td><code id="updateMeta_+3A_newdat">newDat</code></td>
<td>
<p><code>data.frame</code> or list of <code>data.frames</code> with the modified data. <code>tibbles</code> and <code>data.tables</code>
are currently not supported and need to be transformed to <code>data.frames</code> beforehand.</p>
</td></tr>
<tr><td><code id="updateMeta_+3A_checkvarnames">checkVarNames</code></td>
<td>
<p>Logical. Should new variable names be checked by <code><a href="#topic+checkVarNames">checkVarNames</a></code>?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If the data of a <code>GADSdat</code> or a <code>all_GADSdat</code> has changed (supplied via <code>newDat</code>), <code>updateMeta</code>
assimilates the corresponding meta data set. If variables have been removed, the corresponding meta data is also removed.
If variables have been added, empty meta data is added for these variables. Factors are transformed to numerical
and their levels added to the meta data set.
</p>


<h3>Value</h3>

<p>Returns the original object with updated meta data (and removes factors from the data).
</p>


<h3>Examples</h3>

<pre><code class='language-R'># see createGADS vignette

</code></pre>

<hr>
<h2 id='write_spss'>Write a <code>GADSdat</code> object to a file</h2><span id='topic+write_spss'></span><span id='topic+write_stata'></span>

<h3>Description</h3>

<p>Write a <code>GADSdat</code> object, which contains meta information as value and variable labels to an <code>SPSS</code> file (<code>sav</code>)
or <code>Stata</code> file (<code>dta</code>).
See 'details' for some important limitations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>write_spss(GADSdat, filePath)

write_stata(GADSdat, filePath)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="write_spss_+3A_gadsdat">GADSdat</code></td>
<td>
<p>A <code>GADSdat</code> object.</p>
</td></tr>
<tr><td><code id="write_spss_+3A_filepath">filePath</code></td>
<td>
<p>Path of <code>sav</code> file to write.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The provided functionality relies on <code>havens</code> <code><a href="haven.html#topic+read_spss">write_sav</a></code> and
<code><a href="haven.html#topic+read_dta">write_dta</a></code> functions.
</p>
<p>Currently known limitations for <code>write_spss</code> are:
</p>

<ul>
<li><p>a)  value labels for long character variables (&gt; <code>A10</code>) are dropped,
</p>
</li>
<li><p>b)  under specific conditions very long character variables (&gt; <code>A254</code>) are incorrectly
displayed as multiple character variables in <code>SPSS</code>,
</p>
</li>
<li><p>c)  exporting date or time variables is currently not supported,
</p>
</li>
<li><p>d)  missing tags are slightly incompatible between <code>SPSS</code> and <code>eatGADS</code>
as <code>eatGADS</code> supports unlimited discrete missing tags (but no range of missing tags) and
<code>SPSS</code> only supports up to three discrete missing tags or ranges of missing tags. For this purpose, if a variable
is assigned more than three discrete missing tags, <code>write_spss()</code> (more precisely <code><a href="#topic+export_tibble">export_tibble</a></code>)
performs a silent conversion of the discrete missing tags into a missing range.
If this conversion affects other value labels or values in the data not tagged as missing, an error is issued.
</p>
</li></ul>

<p>Currently known limitations for <code>write_stata</code> are:
</p>

<ul>
<li><p>a) Variable format is dropped,
</p>
</li>
<li><p>b) missing codes are dropped.
</p>
</li></ul>



<h3>Value</h3>

<p>Writes file to disc, returns <code>NULL</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# write to spss
tmp &lt;- tempfile(fileext = ".sav")
write_spss(pisa, tmp)

# write to stata
tmp &lt;- tempfile(fileext = ".dta")
write_stata(pisa, tmp)

</code></pre>

<hr>
<h2 id='write_spss2'>Write a <code>GADSdat</code> object to <code>txt</code> and <code>SPSS</code> syntax</h2><span id='topic+write_spss2'></span>

<h3>Description</h3>

<p>Write a <code>GADSdat</code> object to a text file (<code>txt</code>) and an accompanying <code>SPSS</code> syntax file containing all meta information (e.g. value and variable labels).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>write_spss2(
  GADSdat,
  txtPath,
  spsPath = NULL,
  savPath = NULL,
  dec = ".",
  fileEncoding = "UTF-8",
  chkFormat = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="write_spss2_+3A_gadsdat">GADSdat</code></td>
<td>
<p>A <code>GADSdat</code> object.</p>
</td></tr>
<tr><td><code id="write_spss2_+3A_txtpath">txtPath</code></td>
<td>
<p>Path of <code>.txt</code> file to write, including file name and ending <code>.txt</code>. No default.</p>
</td></tr>
<tr><td><code id="write_spss2_+3A_spspath">spsPath</code></td>
<td>
<p>Path of <code>.sps</code> file to write, including file name and ending <code>.sps</code>. Default Path is <code>txtPath</code>.</p>
</td></tr>
<tr><td><code id="write_spss2_+3A_savpath">savPath</code></td>
<td>
<p>Path of <code>.sav</code> file to write, including file name and ending <code>.sav</code>. Default Path is <code>spsPath</code>.</p>
</td></tr>
<tr><td><code id="write_spss2_+3A_dec">dec</code></td>
<td>
<p>Decimal delimiter for your SPSS version. Other values for <code>dec</code> than <code>","</code> or <code>"."</code> are not implemented yet.</p>
</td></tr>
<tr><td><code id="write_spss2_+3A_fileencoding">fileEncoding</code></td>
<td>
<p>Data file encoding for SPSS. Default is <code>"UTF-8"</code>.</p>
</td></tr>
<tr><td><code id="write_spss2_+3A_chkformat">chkFormat</code></td>
<td>
<p>Whether format checks via <code>checkFormat</code> should be performed.</p>
</td></tr>
<tr><td><code id="write_spss2_+3A_...">...</code></td>
<td>
<p>Arguments to pass to <code>checkFormat</code> in particular <code>changeFormat=FALSE</code> if needed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is based on <code>eatPreps</code> <code>writeSpss</code> function and is currently under development.
</p>


<h3>Value</h3>

<p>Writes a <code>txt</code> and an <code>sav</code> file to disc, returns nothing.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# write to spss
tmp_txt &lt;- tempfile(fileext = ".txt")
write_spss2(pisa, txtPath = tmp_txt)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package SherlockHolmes</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {SherlockHolmes}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#chronology'><p>chronology</p></a></li>
<li><a href='#coChronology'><p>coChronology</p></a></li>
<li><a href='#concordance'><p>concordance</p></a></li>
<li><a href='#contingency'><p>contingency</p></a></li>
<li><a href='#csp'><p>Sherlock data sets</p></a></li>
<li><a href='#csw'><p>Sherlock data sets</p></a></li>
<li><a href='#distributions'><p>distributions</p></a></li>
<li><a href='#freqHist'><p>freqHist</p></a></li>
<li><a href='#freqs'><p>Sherlock data sets</p></a></li>
<li><a href='#frequency'><p>frequency</p></a></li>
<li><a href='#grabFunctionParameters'><p>grabFunctionParameters</p></a></li>
<li><a href='#inside'><p>Sherlock data sets</p></a></li>
<li><a href='#lengths'><p>lengths</p></a></li>
<li><a href='#mergeTables'><p>mergeTables</p></a></li>
<li><a href='#outside'><p>Sherlock data sets</p></a></li>
<li><a href='#patterns'><p>Sherlock data sets</p></a></li>
<li><a href='#plot_dpseg2'><p>plot_dpseg2</p></a></li>
<li><a href='#readTitles'><p>readTitles</p></a></li>
<li><a href='#retrieveLmStats'><p>retrieveLmStats</p></a></li>
<li><a href='#rolling'><p>rolling</p></a></li>
<li><a href='#segments'><p>segments</p></a></li>
<li><a href='#segs'><p>Sherlock data sets</p></a></li>
<li><a href='#Sherlock'><p>Sherlock</p></a></li>
<li><a href='#startLine'><p>startLine</p></a></li>
<li><a href='#starts'><p>Sherlock data sets</p></a></li>
<li><a href='#strSplitTab'><p>strSplitTab</p></a></li>
<li><a href='#texts'><p>Sherlock data sets</p></a></li>
<li><a href='#texts.vec'><p>Sherlock data sets</p></a></li>
<li><a href='#titles'><p>Sherlock data sets</p></a></li>
<li><a href='#titles.vec'><p>Sherlock data sets</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Version:</td>
<td>1.0.1</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-03-28</td>
</tr>
<tr>
<td>Title:</td>
<td>Building a Concordance of Terms in a Series of Texts</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Barry Zeeberg &lt;barryz2013@gmail.com&gt;</td>
</tr>
<tr>
<td>Author:</td>
<td>Barry Zeeberg [aut, cre]</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.2.0)</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Imports:</td>
<td>qpdf, stringr, dpseg, tableHTML, plotrix, zoo, stargazer,
utils, graphics, grDevices, stats, textBoxPlacement,
plot.matrix, devtools</td>
</tr>
<tr>
<td>Description:</td>
<td>Compute the frequency distribution of a search term in a series of texts. For example, Arthur Conan Doyle wrote a total of 60 Sherlock Holmes stories, comprised of 54 short stories and 4 longer novels. I wanted to test my own subjective impression that, in many of the stories, Sherlock Holmes' popularity was used as bait to induce the reader to read a story that is essentially not primarily a Sherlock Holmes story. I used the term "Holmes" as a search pattern, since Watson would frequently address him by name, or use his name to describe something that he was doing. My hypothesis is that the frequency distribution of the search pattern "Holmes" is a good proxy for the degree to which a story is or is not truly a Sherlock Holmes story. The results are presented in a manuscript that is available as a vignette and online at <a href="https://barryzee.github.io/Concordance/index.html">https://barryzee.github.io/Concordance/index.html</a>.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-03-28 11:01:09 UTC; barryzeeberg</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-03-28 14:40:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='chronology'>chronology</h2><span id='topic+chronology'></span>

<h3>Description</h3>

<p>frequencies plotted in order of date
(if the titles are given in order of date)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>chronology(titles.vec, patterns, starts, freqs, chronDir, overlay = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="chronology_+3A_titles.vec">titles.vec</code></td>
<td>
<p>character vector containing the titles of the stories</p>
</td></tr>
<tr><td><code id="chronology_+3A_patterns">patterns</code></td>
<td>
<p>vector of character string query patterns</p>
</td></tr>
<tr><td><code id="chronology_+3A_starts">starts</code></td>
<td>
<p>integer vector of starting positions</p>
</td></tr>
<tr><td><code id="chronology_+3A_freqs">freqs</code></td>
<td>
<p>return value of frequency()</p>
</td></tr>
<tr><td><code id="chronology_+3A_chrondir">chronDir</code></td>
<td>
<p>character string full path name for output directory</p>
</td></tr>
<tr><td><code id="chronology_+3A_overlay">overlay</code></td>
<td>
<p>Boolean if TRUE overlay the chronolgy for multiple search patterns</p>
</td></tr>
</table>


<h3>Value</h3>

<p>returns no value, but has side effect generating graph
</p>


<h3>Examples</h3>

<pre><code class='language-R'>freqDir&lt;-tempdir()
chronDir&lt;-sprintf("%s/chronology",freqDir)
dir.create(chronDir)
dir.create(sprintf("%s/plots",chronDir))
dir.create(sprintf("%s/archive",chronDir))
print(chronDir)
chr&lt;-chronology(titles.vec,c("Holmes","Watson"),starts,freqs,chronDir)

</code></pre>

<hr>
<h2 id='coChronology'>coChronology</h2><span id='topic+coChronology'></span>

<h3>Description</h3>

<p>graphical indicator of search patterns within stories
</p>


<h3>Usage</h3>

<pre><code class='language-R'>coChronology(titles.vec, patterns, starts, freqs, chronDir)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="coChronology_+3A_titles.vec">titles.vec</code></td>
<td>
<p>character vector containing the titles of the stories</p>
</td></tr>
<tr><td><code id="coChronology_+3A_patterns">patterns</code></td>
<td>
<p>vector of character string query patterns</p>
</td></tr>
<tr><td><code id="coChronology_+3A_starts">starts</code></td>
<td>
<p>integer vector of starting positions</p>
</td></tr>
<tr><td><code id="coChronology_+3A_freqs">freqs</code></td>
<td>
<p>return value of frequency()</p>
</td></tr>
<tr><td><code id="coChronology_+3A_chrondir">chronDir</code></td>
<td>
<p>character string full path name for output directory</p>
</td></tr>
</table>


<h3>Value</h3>

<p>returns an integer matrix whose rows are search patterns
and columns are stories, value of 1 indicates the presence of the
corresponding search pattern in the corresponding story
</p>


<h3>Examples</h3>

<pre><code class='language-R'>freqDir&lt;-tempdir()
chronDir&lt;-sprintf("%s/chronology",freqDir)
dir.create(chronDir)
dir.create(sprintf("%s/plots",chronDir))
dir.create(sprintf("%s/archive",chronDir))
print(chronDir)
coch&lt;-coChronology(titles.vec,c("Holmes","Watson"),starts,freqs,chronDir)
</code></pre>

<hr>
<h2 id='concordance'>concordance</h2><span id='topic+concordance'></span>

<h3>Description</h3>

<p>retrieve words that are close to occurrences of pattern
</p>


<h3>Usage</h3>

<pre><code class='language-R'>concordance(freqs, titles.vec, texts.vec, starts, window, odir)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="concordance_+3A_freqs">freqs</code></td>
<td>
<p>return value of frequency()</p>
</td></tr>
<tr><td><code id="concordance_+3A_titles.vec">titles.vec</code></td>
<td>
<p>character vector containing the titles of the stories</p>
</td></tr>
<tr><td><code id="concordance_+3A_texts.vec">texts.vec</code></td>
<td>
<p>character vector of entire text</p>
</td></tr>
<tr><td><code id="concordance_+3A_starts">starts</code></td>
<td>
<p>integer vector of starting positions</p>
</td></tr>
<tr><td><code id="concordance_+3A_window">window</code></td>
<td>
<p>integer number of lines to take before and after the pattern match</p>
</td></tr>
<tr><td><code id="concordance_+3A_odir">odir</code></td>
<td>
<p>character string containing the full path name for the output directory</p>
</td></tr>
</table>


<h3>Value</h3>

<p>returns no value but has side effect of generating graphs
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
con&lt;-concordance(freqs,titles.vec[3],texts.vec,starts,window=2,odir=tempdir())


</code></pre>

<hr>
<h2 id='contingency'>contingency</h2><span id='topic+contingency'></span>

<h3>Description</h3>

<p>compute chisq value for a 2 x 2 contingency table
</p>


<h3>Usage</h3>

<pre><code class='language-R'>contingency(inside, outside)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="contingency_+3A_inside">inside</code></td>
<td>
<p>numeric vector of raw counts</p>
</td></tr>
<tr><td><code id="contingency_+3A_outside">outside</code></td>
<td>
<p>numeric vector of raw counts</p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric vector of chisq.test() p.values
</p>


<h3>Examples</h3>

<pre><code class='language-R'>con&lt;-contingency(inside=c(4,5),outside=c(20,7))

</code></pre>

<hr>
<h2 id='csp'>Sherlock data sets</h2><span id='topic+csp'></span>

<h3>Description</h3>

<p>Sherlock data sets
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(csp)
</code></pre>

<hr>
<h2 id='csw'>Sherlock data sets</h2><span id='topic+csw'></span>

<h3>Description</h3>

<p>Sherlock data sets
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(csw)
</code></pre>

<hr>
<h2 id='distributions'>distributions</h2><span id='topic+distributions'></span>

<h3>Description</h3>

<p>compute distribution of ratio of number of occurrences of query string divided by total number of words
</p>


<h3>Usage</h3>

<pre><code class='language-R'>distributions(freqs, titles.vec, minl, P, odir)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="distributions_+3A_freqs">freqs</code></td>
<td>
<p>return value of frequency()</p>
</td></tr>
<tr><td><code id="distributions_+3A_titles.vec">titles.vec</code></td>
<td>
<p>character vector containing the titles of the stories</p>
</td></tr>
<tr><td><code id="distributions_+3A_minl">minl</code></td>
<td>
<p>is an integer param passed to dpseg::dpseg</p>
</td></tr>
<tr><td><code id="distributions_+3A_p">P</code></td>
<td>
<p>is a numeric param passed to dpseg::dpseg</p>
</td></tr>
<tr><td><code id="distributions_+3A_odir">odir</code></td>
<td>
<p>character string containing the full path name for the output directory</p>
</td></tr>
</table>


<h3>Value</h3>

<p>returns no value but has side effect of generating graphs
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dis&lt;-distributions(freqs,titles.vec[1],minl=100,P=0.00001,tempdir())

</code></pre>

<hr>
<h2 id='freqHist'>freqHist</h2><span id='topic+freqHist'></span>

<h3>Description</h3>

<p>histogram of frequencies
</p>


<h3>Usage</h3>

<pre><code class='language-R'>freqHist(patterns, starts, titles.vec, freqs, histDir)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="freqHist_+3A_patterns">patterns</code></td>
<td>
<p>vector of character string query patterns</p>
</td></tr>
<tr><td><code id="freqHist_+3A_starts">starts</code></td>
<td>
<p>integer vector of starting positions</p>
</td></tr>
<tr><td><code id="freqHist_+3A_titles.vec">titles.vec</code></td>
<td>
<p>character vector containing the titles of the stories</p>
</td></tr>
<tr><td><code id="freqHist_+3A_freqs">freqs</code></td>
<td>
<p>return value of frequency()</p>
</td></tr>
<tr><td><code id="freqHist_+3A_histdir">histDir</code></td>
<td>
<p>character string full path name for output directory</p>
</td></tr>
</table>


<h3>Value</h3>

<p>returns no value, but has side effect generating histogram
</p>


<h3>Examples</h3>

<pre><code class='language-R'>fh&lt;-freqHist(patterns,starts,titles.vec,freqs,histDir=tempdir())

</code></pre>

<hr>
<h2 id='freqs'>Sherlock data sets</h2><span id='topic+freqs'></span>

<h3>Description</h3>

<p>Sherlock data sets
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(freqs)
</code></pre>

<hr>
<h2 id='frequency'>frequency</h2><span id='topic+frequency'></span>

<h3>Description</h3>

<p>compute ratio of number of occurrences of query string divided by total number of words
</p>


<h3>Usage</h3>

<pre><code class='language-R'>frequency(texts.vec, starts, patterns)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="frequency_+3A_texts.vec">texts.vec</code></td>
<td>
<p>character vector of entire text</p>
</td></tr>
<tr><td><code id="frequency_+3A_starts">starts</code></td>
<td>
<p>integer vector of starting positions</p>
</td></tr>
<tr><td><code id="frequency_+3A_patterns">patterns</code></td>
<td>
<p>vector of character string query patterns</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list whose components are sub-lists
</p>
<p> # indexed by the titles of the stories
</p>
<ul>
<li><p> start integer starting line in text
</p>
</li>
<li><p> end integer ending line in text
</p>
</li>
<li><p> wPerLine integer words perline
</p>
</li>
<li><p> wordSum integer sum of wPerLine
</p>
</li>
<li><p> patterns a sub-list
</p>

<ul>
<li><p> integer pPerLine integer patterns per line
</p>
</li>
<li><p> patSum integer total of pPerLine
</p>
</li>
<li><p> fraction numeric ratio of patSum/wordSum
</p>
</li></ul>

</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>fr&lt;-frequency(texts.vec,starts,patterns)
</code></pre>

<hr>
<h2 id='grabFunctionParameters'>grabFunctionParameters</h2><span id='topic+grabFunctionParameters'></span>

<h3>Description</h3>

<p>retrieve capture all of the parameter names and values passed in
</p>


<h3>Usage</h3>

<pre><code class='language-R'>grabFunctionParameters()
</code></pre>


<h3>Details</h3>

<p>copied and pasted from
https://stackoverflow.com/questions/66329835/using-r-how-to-get-all-parameters-passed-into-a-function-with-their-values
</p>


<h3>Value</h3>

<p>a list whose components are the symbolic names of the function parameters,
and their values.
</p>

<hr>
<h2 id='inside'>Sherlock data sets</h2><span id='topic+inside'></span>

<h3>Description</h3>

<p>Sherlock data sets
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(inside)
</code></pre>

<hr>
<h2 id='lengths'>lengths</h2><span id='topic+lengths'></span>

<h3>Description</h3>

<p>frequencies plotted in order of story length
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lengths(titles.vec, patterns, starts, freqs, lengthDir)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lengths_+3A_titles.vec">titles.vec</code></td>
<td>
<p>character vector containing the titles of the stories</p>
</td></tr>
<tr><td><code id="lengths_+3A_patterns">patterns</code></td>
<td>
<p>vector of character string query patterns</p>
</td></tr>
<tr><td><code id="lengths_+3A_starts">starts</code></td>
<td>
<p>integer vector of starting positions</p>
</td></tr>
<tr><td><code id="lengths_+3A_freqs">freqs</code></td>
<td>
<p>return value of frequency()</p>
</td></tr>
<tr><td><code id="lengths_+3A_lengthdir">lengthDir</code></td>
<td>
<p>character string full path name for output directory</p>
</td></tr>
</table>


<h3>Value</h3>

<p>returns no value, but has side effect generating graph
</p>


<h3>Examples</h3>

<pre><code class='language-R'>freqDir&lt;-tempdir()
lengthDir&lt;-sprintf("%s/length",freqDir)
dir.create(lengthDir)
print(lengthDir)
dir.create(sprintf("%s/plots",lengthDir))
dir.create(sprintf("%s/archive",lengthDir))
le&lt;-lengths(titles.vec,patterns,starts,freqs,lengthDir) 

</code></pre>

<hr>
<h2 id='mergeTables'>mergeTables</h2><span id='topic+mergeTables'></span>

<h3>Description</h3>

<p>merge (inner join) the results in 2 tables generated from 2 vectors
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mergeTables(tv, tw, cnv, cnw)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mergeTables_+3A_tv">tv</code></td>
<td>
<p>first table</p>
</td></tr>
<tr><td><code id="mergeTables_+3A_tw">tw</code></td>
<td>
<p>second table</p>
</td></tr>
<tr><td><code id="mergeTables_+3A_cnv">cnv</code></td>
<td>
<p>character name for column coming from v</p>
</td></tr>
<tr><td><code id="mergeTables_+3A_cnw">cnw</code></td>
<td>
<p>character name for column coming from w</p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric matrix generated from merging tables from v and w
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mt&lt;-mergeTables(inside,outside,"in","out")[1:10,]

</code></pre>

<hr>
<h2 id='outside'>Sherlock data sets</h2><span id='topic+outside'></span>

<h3>Description</h3>

<p>Sherlock data sets
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(outside)
</code></pre>

<hr>
<h2 id='patterns'>Sherlock data sets</h2><span id='topic+patterns'></span>

<h3>Description</h3>

<p>Sherlock data sets
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(patterns)
</code></pre>

<hr>
<h2 id='plot_dpseg2'>plot_dpseg2</h2><span id='topic+plot_dpseg2'></span>

<h3>Description</h3>

<p>Alternative plot procedure for dpseg,
special function provided personally by dpseg curator.
I made a few custom tweeks
Including option to overlay multiple plots
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_dpseg2(
  x,
  delog = FALSE,
  col,
  main,
  xlab,
  ylab,
  res = 10,
  vlines,
  overlay,
  textX,
  textY,
  textLabel,
  ylim
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_dpseg2_+3A_x">x</code></td>
<td>
<p>dpseg object to plot</p>
</td></tr>
<tr><td><code id="plot_dpseg2_+3A_delog">delog</code></td>
<td>
<p>Boolean use log scale if TRUE</p>
</td></tr>
<tr><td><code id="plot_dpseg2_+3A_col">col</code></td>
<td>
<p>color</p>
</td></tr>
<tr><td><code id="plot_dpseg2_+3A_main">main</code></td>
<td>
<p>character title of graph</p>
</td></tr>
<tr><td><code id="plot_dpseg2_+3A_xlab">xlab</code></td>
<td>
<p>character label for x axis</p>
</td></tr>
<tr><td><code id="plot_dpseg2_+3A_ylab">ylab</code></td>
<td>
<p>character label for y axis</p>
</td></tr>
<tr><td><code id="plot_dpseg2_+3A_res">res</code></td>
<td>
<p>numeric resolution</p>
</td></tr>
<tr><td><code id="plot_dpseg2_+3A_vlines">vlines</code></td>
<td>
<p>Boolean if FALSE suppress vertical lines in graph</p>
</td></tr>
<tr><td><code id="plot_dpseg2_+3A_overlay">overlay</code></td>
<td>
<p>Boolean if TRUE this plot is an overlay of previous plot</p>
</td></tr>
<tr><td><code id="plot_dpseg2_+3A_textx">textX</code></td>
<td>
<p>numeric x position for text box</p>
</td></tr>
<tr><td><code id="plot_dpseg2_+3A_texty">textY</code></td>
<td>
<p>numeric y position for text box</p>
</td></tr>
<tr><td><code id="plot_dpseg2_+3A_textlabel">textLabel</code></td>
<td>
<p>character string to label the points in the graph</p>
</td></tr>
<tr><td><code id="plot_dpseg2_+3A_ylim">ylim</code></td>
<td>
<p>numeric vector ylim for plot</p>
</td></tr>
</table>


<h3>Value</h3>

<p>returns no value but has side effect of producing a graph
</p>


<h3>Examples</h3>

<pre><code class='language-R'>pdp&lt;-plot_dpseg2(segs,overlay=FALSE,xlab="xaxis",
  ylab="yaxis",vlines=FALSE,textX=2000,textY=20,
  textLabel="label",ylim=c(0,60))

</code></pre>

<hr>
<h2 id='readTitles'>readTitles</h2><span id='topic+readTitles'></span>

<h3>Description</h3>

<p>read and edit titles to remove blank lines and white space
</p>


<h3>Usage</h3>

<pre><code class='language-R'>readTitles(titles)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="readTitles_+3A_titles">titles</code></td>
<td>
<p>is a character string containing the full path name for a text file containing the titles of the stories in the same order that thney appear in the texts file</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a character vector of titles
</p>


<h3>Examples</h3>

<pre><code class='language-R'>titles&lt;-system.file("extdata/contents3.txt",package="SherlockHolmes")
rt&lt;-readTitles(titles)
</code></pre>

<hr>
<h2 id='retrieveLmStats'>retrieveLmStats</h2><span id='topic+retrieveLmStats'></span>

<h3>Description</h3>

<p>This function retrieves intercept, slope,
r.squared, and adj.r.squared from lm()
</p>


<h3>Usage</h3>

<pre><code class='language-R'>retrieveLmStats(x, y)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="retrieveLmStats_+3A_x">x</code></td>
<td>
<p>is second argument to lm()</p>
</td></tr>
<tr><td><code id="retrieveLmStats_+3A_y">y</code></td>
<td>
<p>is first argument to lm()</p>
</td></tr>
</table>


<h3>Value</h3>

<p>returns a list containing the return value of lm,
intercept, slope, r.squared, and adj.r.squared
</p>


<h3>Examples</h3>

<pre><code class='language-R'>retr&lt;-retrieveLmStats(1:10,runif(10,0,1))

</code></pre>

<hr>
<h2 id='rolling'>rolling</h2><span id='topic+rolling'></span>

<h3>Description</h3>

<p>compute rolling average of ratio of number of occurrences of query string divided by total number of words
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rolling(freqs, titles.vec, windowPct = 0.1, odir, verbose)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rolling_+3A_freqs">freqs</code></td>
<td>
<p>return value of frequency()</p>
</td></tr>
<tr><td><code id="rolling_+3A_titles.vec">titles.vec</code></td>
<td>
<p>character vector containing the titles of the stories</p>
</td></tr>
<tr><td><code id="rolling_+3A_windowpct">windowPct</code></td>
<td>
<p>a numeric control size of plot window</p>
</td></tr>
<tr><td><code id="rolling_+3A_odir">odir</code></td>
<td>
<p>character string containing the full path name for the output directory</p>
</td></tr>
<tr><td><code id="rolling_+3A_verbose">verbose</code></td>
<td>
<p>Boolean if TRUE print informative or diagnostic messages to console</p>
</td></tr>
</table>


<h3>Value</h3>

<p>returns noo value, but has side effect of generating graphs
</p>


<h3>Examples</h3>

<pre><code class='language-R'>rol&lt;-rolling(freqs,titles.vec,windowPct=0.10,odir=tempdir(),verbose=FALSE)
</code></pre>

<hr>
<h2 id='segments'>segments</h2><span id='topic+segments'></span>

<h3>Description</h3>

<p>reformat seqs$segments as a legend to insert into segment plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>segments(segs)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="segments_+3A_segs">segs</code></td>
<td>
<p>return value of dpseg::dpseg()</p>
</td></tr>
</table>


<h3>Value</h3>

<p>reformatted matrix suitable for printing
</p>


<h3>Examples</h3>

<pre><code class='language-R'>seg&lt;-segments(segs)

</code></pre>

<hr>
<h2 id='segs'>Sherlock data sets</h2><span id='topic+segs'></span>

<h3>Description</h3>

<p>Sherlock data sets
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(segs)
</code></pre>

<hr>
<h2 id='Sherlock'>Sherlock</h2><span id='topic+Sherlock'></span>

<h3>Description</h3>

<p>This function is the driver that organizes
the computation of concordances in Sherlock Holmes stories
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Sherlock(
  titles = "NONE",
  texts,
  patterns,
  toupper,
  odir,
  concord = FALSE,
  minl = 100,
  P = 1e-05,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Sherlock_+3A_titles">titles</code></td>
<td>
<p>is a character string containing the full path name
for a text file containing the titles of the stories
in the same order that they appear in the texts file.
If titles==&quot;NONE&quot;, treat the entire book as one story.</p>
</td></tr>
<tr><td><code id="Sherlock_+3A_texts">texts</code></td>
<td>
<p>is a character string containing the full path name for a text file containing the full texts of all of the stories</p>
</td></tr>
<tr><td><code id="Sherlock_+3A_patterns">patterns</code></td>
<td>
<p>is a vector containing the search patterns</p>
</td></tr>
<tr><td><code id="Sherlock_+3A_toupper">toupper</code></td>
<td>
<p>is a Boolean TRUE if the titles should be converted to upper case</p>
</td></tr>
<tr><td><code id="Sherlock_+3A_odir">odir</code></td>
<td>
<p>is a character string containing the full path name of the output directory</p>
</td></tr>
<tr><td><code id="Sherlock_+3A_concord">concord</code></td>
<td>
<p>Boolean if TRUE invoke concordance()</p>
</td></tr>
<tr><td><code id="Sherlock_+3A_minl">minl</code></td>
<td>
<p>is an integer param passed to dpseg::dpseg</p>
</td></tr>
<tr><td><code id="Sherlock_+3A_p">P</code></td>
<td>
<p>is a numeric param passed to dpseg::dpseg</p>
</td></tr>
<tr><td><code id="Sherlock_+3A_verbose">verbose</code></td>
<td>
<p>Boolean if TRUE print informative or diagnostic messages to console</p>
</td></tr>
</table>


<h3>Value</h3>

<p>returns no value but has side effect of driving the concordance computations
</p>


<h3>Examples</h3>

<pre><code class='language-R'>titles&lt;-system.file("extdata/contents3.txt",package="SherlockHolmes")
texts&lt;-system.file("extdata/processed_download3.txt",package="SherlockHolmes")
SH&lt;-Sherlock(titles=titles,texts=texts,patterns=patterns[1],
 toupper=TRUE,odir=tempdir(),concord=FALSE,minl=100,P=0.00001,
 verbose=FALSE)
 

</code></pre>

<hr>
<h2 id='startLine'>startLine</h2><span id='topic+startLine'></span>

<h3>Description</h3>

<p>where does each story start?
</p>


<h3>Usage</h3>

<pre><code class='language-R'>startLine(titles.vec, texts.vec, toupper)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="startLine_+3A_titles.vec">titles.vec</code></td>
<td>
<p>is a character string containing the full path name for a text file containing the titles of the stories in the same order that they appear in the texts file</p>
</td></tr>
<tr><td><code id="startLine_+3A_texts.vec">texts.vec</code></td>
<td>
<p>is a character string containing the full path name for a text file containing the full texts of all of the stories</p>
</td></tr>
<tr><td><code id="startLine_+3A_toupper">toupper</code></td>
<td>
<p>is a Boolean TRUE if the titles should be converted to upper case</p>
</td></tr>
</table>


<h3>Details</h3>

<p>each title in titles.vec must appear on a single line
in titles.vec and texts.vec -
a title cannot be split across multiple lines.
each title must only appear one time within titles.vec and texts.vec
</p>


<h3>Value</h3>

<p>an integer vector of the starting lines of each story
</p>


<h3>Examples</h3>

<pre><code class='language-R'>sl&lt;-startLine(titles.vec,texts.vec,toupper=TRUE)
</code></pre>

<hr>
<h2 id='starts'>Sherlock data sets</h2><span id='topic+starts'></span>

<h3>Description</h3>

<p>Sherlock data sets
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(starts)
</code></pre>

<hr>
<h2 id='strSplitTab'>strSplitTab</h2><span id='topic+strSplitTab'></span>

<h3>Description</h3>

<p>use strsplit to parse words from text t, delete the empty string
from the result, and compile into a sorted table of word frequencies
</p>


<h3>Usage</h3>

<pre><code class='language-R'>strSplitTab(t)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="strSplitTab_+3A_t">t</code></td>
<td>
<p>vector of character strings representing lines of the orginal text</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a sorted table of raw word counts
</p>


<h3>Examples</h3>

<pre><code class='language-R'>sst&lt;-strSplitTab(texts.vec)
 
</code></pre>

<hr>
<h2 id='texts'>Sherlock data sets</h2><span id='topic+texts'></span>

<h3>Description</h3>

<p>Sherlock data sets
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(texts)
</code></pre>

<hr>
<h2 id='texts.vec'>Sherlock data sets</h2><span id='topic+texts.vec'></span>

<h3>Description</h3>

<p>Sherlock data sets
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(texts.vec)
</code></pre>

<hr>
<h2 id='titles'>Sherlock data sets</h2><span id='topic+titles'></span>

<h3>Description</h3>

<p>Sherlock data sets
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(titles)
</code></pre>

<hr>
<h2 id='titles.vec'>Sherlock data sets</h2><span id='topic+titles.vec'></span>

<h3>Description</h3>

<p>Sherlock data sets
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(titles.vec)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

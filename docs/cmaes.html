<!DOCTYPE html><html lang="en"><head><title>Help for package cmaes</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {cmaes}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#bias_function'><p>Create a biased test function...</p></a></li>
<li><a href='#cma_es'><p>Covariance matrix adapting evolutionary strategy</p></a></li>
<li><a href='#extract_population'><p>Extract the iter-th population...</p></a></li>
<li><a href='#f_rand'><p>Random function...</p></a></li>
<li><a href='#f_rastrigin'><p>Rastrigin function...</p></a></li>
<li><a href='#f_rosenbrock'><p>Rosenbrock function...</p></a></li>
<li><a href='#f_sphere'><p>Sphere function...</p></a></li>
<li><a href='#rotate_function'><p>Create a rotated test function...</p></a></li>
<li><a href='#shift_function'><p>shift_function</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Covariance Matrix Adapting Evolutionary Strategy</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0-12</td>
</tr>
<tr>
<td>Author:</td>
<td>Heike Trautmann &lt;trautmann@statistik.tu-dortmund.de&gt; and Olaf
    Mersmann &lt;olafm@statistik.tu-dortmund.de&gt; and David Arnu
    &lt;david.arnu@statistik.tu-dortmund.de&gt;</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Olaf Mersmann &lt;olafm@statistik.tu-dortmund.de&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Single objective optimization using a CMA-ES.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.9.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>RUnit</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-03-17 22:40:20 UTC; olafm</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-03-18 10:20:18 UTC</td>
</tr>
</table>
<hr>
<h2 id='bias_function'>Create a biased test function...</h2><span id='topic+bias_function'></span>

<h3>Description</h3>

<p>Create a biased test function</p>


<h3>Usage</h3>

<pre><code class='language-R'>bias_function(f, bias)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="bias_function_+3A_f">f</code></td>
<td>
<p>test function</p>
</td></tr>
<tr><td><code id="bias_function_+3A_bias">bias</code></td>
<td>
<p>bias value.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Returns a new biased test function defined as
</p>
<p style="text-align: center;"><code class="reqn">g(x) = f(x) + bias.</code>
</p>


<h3>Value</h3>

<p>The biased test function.</p>


<h3>Author(s)</h3>

<p>Olaf Mersmann <a href="mailto:olafm@statistik.tu-dortmund.de">olafm@statistik.tu-dortmund.de</a></p>

<hr>
<h2 id='cma_es'>Covariance matrix adapting evolutionary strategy</h2><span id='topic+cma_es'></span><span id='topic+cmaES'></span>

<h3>Description</h3>

<p>Global optimization procedure using a covariance matrix adapting
evolutionary strategy.</p>


<h3>Usage</h3>

<pre><code class='language-R'>cma_es(par, fn, ..., lower, upper, control=list())
cmaES(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cma_es_+3A_par">par</code></td>
<td>
<p>Initial values for the parameters to be optimized over.</p>
</td></tr>
<tr><td><code id="cma_es_+3A_fn">fn</code></td>
<td>
<p>A function to be minimized (or maximized), with first
argument the vector of parameters over which minimization is to
take place. It should return a scalar result.</p>
</td></tr>
<tr><td><code id="cma_es_+3A_...">...</code></td>
<td>
<p>Further arguments to be passed to <code>fn</code>.</p>
</td></tr>
<tr><td><code id="cma_es_+3A_lower">lower</code></td>
<td>
<p>Lower bounds on the variables.</p>
</td></tr>
<tr><td><code id="cma_es_+3A_upper">upper</code></td>
<td>
<p>Upper bounds on the variables.</p>
</td></tr>
<tr><td><code id="cma_es_+3A_control">control</code></td>
<td>
<p>A list of control parameters. See &lsquo;Details&rsquo;.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>cma_es</code>: Note that arguments after <code>...</code> must be matched exactly.
By default this function performs minimization, but it will
maximize if <code>control$fnscale</code> is negative. It can usually be
used as a drop in replacement for <code>optim</code>, but do note, that
no sophisticated convergence detection is included. Therefore you
need to choose <code>maxit</code> appropriately.
</p>
<p>If you set <code>vectorize==TRUE</code>, <code>fn</code> will be passed matrix
arguments during optimization. The columns correspond to the
<code>lambda</code> new individuals created in each iteration of the
ES. In this case <code>fn</code> must return a numeric vector of
<code>lambda</code> corresponding function values. This enables you to
do up to <code>lambda</code> function evaluations in parallel.
</p>
<p>The <code>control</code> argument is a list that can supply any of the
following components:
</p>

<dl>
<dt><code>fnscale</code></dt><dd><p>An overall scaling to be applied to the value
of <code>fn</code> during optimization. If negative,
turns the problem into a maximization problem. Optimization is
performed on <code>fn(par)/fnscale</code>.</p>
</dd>
<dt><code>maxit</code></dt><dd><p>The maximum number of iterations. Defaults to
<code class="reqn">100*D^2</code>, where <code class="reqn">D</code> is the dimension of the parameter space.</p>
</dd>
<dt><code>stopfitness</code></dt><dd><p>Stop if function value is smaller than or
equal to <code>stopfitness</code>. This is the only way for the CMA-ES
to &ldquo;converge&rdquo;.</p>
</dd>
<dt>keep.best</dt><dd><p>return the best overall solution and not the best
solution in the last population. Defaults to true.</p>
</dd>
<dt><code>sigma</code></dt><dd><p>Initial variance estimates. Can be a single
number or a vector of length <code class="reqn">D</code>, where <code class="reqn">D</code> is the dimension
of the parameter space.</p>
</dd>
<dt><code>mu</code></dt><dd><p>Population size.</p>
</dd>
<dt><code>lambda</code></dt><dd><p>Number of offspring. Must be greater than or
equal to <code>mu</code>.</p>
</dd>
<dt><code>weights</code></dt><dd><p>Recombination weights</p>
</dd>
<dt><code>damps</code></dt><dd><p>Damping for step-size</p>
</dd>
<dt><code>cs</code></dt><dd><p>Cumulation constant for step-size</p>
</dd>
<dt><code>ccum</code></dt><dd><p>Cumulation constant for covariance matrix</p>
</dd>
<dt><code>vectorized</code></dt><dd><p>Is the function <code>fn</code> vectorized?</p>
</dd>
<dt><code>ccov.1</code></dt><dd><p>Learning rate for rank-one update</p>
</dd>
<dt><code>ccov.mu</code></dt><dd><p>Learning rate for rank-mu update</p>
</dd>
<dt><code>diag.sigma</code></dt><dd><p>Save current step size <code class="reqn">\sigma</code>
in each iteration.</p>
</dd>
<dt><code>diag.eigen</code></dt><dd><p>Save current principle components
of the covariance matrix <code class="reqn">C</code> in each iteration.</p>
</dd>
<dt><code>diag.pop</code></dt><dd><p>Save current population in each iteration.</p>
</dd>
<dt><code>diag.value</code></dt><dd><p>Save function values of the current
population in each iteration.</p>
</dd></dl>



<h3>Value</h3>

<p><code>cma_es</code>: A list with components: </p>

<dl>
<dt>par</dt><dd><p>The best set of parameters found.</p>
</dd>
<dt>value</dt><dd><p>The value of <code>fn</code> corresponding to <code>par</code>.</p>
</dd>
<dt>counts</dt><dd><p>A two-element integer vector giving the number of calls
to <code>fn</code>. The second element is always zero for call
compatibility with <code>optim</code>.</p>
</dd>
<dt>convergence</dt><dd><p>An integer code. <code>0</code> indicates successful
convergence. Possible error codes are </p>

<dl>
<dt><code>1</code></dt><dd><p>indicates that the iteration limit <code>maxit</code>
had been reached.</p>
</dd></dl>
</dd>
<dt>message</dt><dd><p>Always set to <code>NULL</code>, provided for call
compatibility with <code>optim</code>.</p>
</dd>
<dt>diagnostic</dt><dd><p>List containing diagnostic information. Possible elements
are: </p>

<dl>
<dt>sigma</dt><dd><p>Vector containing the step size <code class="reqn">\sigma</code>
for each iteration.</p>
</dd>
<dt>eigen</dt><dd><p><code class="reqn">d \times niter</code> matrix containing the
principle components of the covariance matrix <code class="reqn">C</code>.</p>
</dd>
<dt>pop</dt><dd><p>An <code class="reqn">d\times\mu\times niter</code> array
containing all populations. The last dimension is the iteration
and the second dimension the individual.</p>
</dd>
<dt>value</dt><dd><p>A <code class="reqn">niter \times \mu</code> matrix
containing the function values of each population. The first
dimension is the iteration, the second one the individual.</p>
</dd></dl>

<p>These are only present if the respective diagnostic control variable is
set to <code>TRUE</code>.</p>
</dd></dl>



<h3>Author(s)</h3>

<p>Olaf Mersmann <a href="mailto:olafm@statistik.tu-dortmund.de">olafm@statistik.tu-dortmund.de</a> and
David Arnu <a href="mailto:david.arnu@tu-dortmun.de">david.arnu@tu-dortmun.de</a></p>


<h3>References</h3>

<p>Hansen, N. (2006). The CMA Evolution Strategy: A Comparing Review. In
J.A. Lozano, P. Larranga, I. Inza and E. Bengoetxea (eds.). Towards a
new evolutionary computation. Advances in estimation of distribution
algorithms. pp. 75-102, Springer</p>


<h3>See Also</h3>

<p><code><a href="#topic+extract_population">extract_population</a></code></p>

<hr>
<h2 id='extract_population'>Extract the iter-th population...</h2><span id='topic+extract_population'></span>

<h3>Description</h3>

<p>Extract the <code>iter</code>-th population</p>


<h3>Usage</h3>

<pre><code class='language-R'>extract_population(res, iter)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="extract_population_+3A_res">res</code></td>
<td>
<p>A <code>cma_es</code> result object.</p>
</td></tr>
<tr><td><code id="extract_population_+3A_iter">iter</code></td>
<td>
<p>Which population to return.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Return the population of the <code>iter</code>-th iteration of the
CMA-ES algorithm. For this to work, the populations must be saved
in the result object. This is achieved by setting
<code>diag.pop=TRUE</code> in the <code>control</code> list. Function values
are included in the result if present in the result object.</p>


<h3>Value</h3>

<p>A list containing the population as the <code>par</code> element
and possibly the function values in <code>value</code> if they are
present in the result object.</p>

<hr>
<h2 id='f_rand'>Random function...</h2><span id='topic+f_rand'></span>

<h3>Description</h3>

<p>Random function</p>


<h3>Usage</h3>

<pre><code class='language-R'>f_rand(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="f_rand_+3A_x">x</code></td>
<td>
<p>parameter vector.</p>
</td></tr>
</table>


<h3>Details</h3>

<p style="text-align: center;"><code class="reqn">f(x) = runif(1)</code>
</p>


<h3>Author(s)</h3>

<p>Olaf Mersmann <a href="mailto:olafm@statistik.tu-dortmund.de">olafm@statistik.tu-dortmund.de</a></p>

<hr>
<h2 id='f_rastrigin'>Rastrigin function...</h2><span id='topic+f_rastrigin'></span>

<h3>Description</h3>

<p>Rastrigin function</p>


<h3>Usage</h3>

<pre><code class='language-R'>f_rastrigin(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="f_rastrigin_+3A_x">x</code></td>
<td>
<p>parameter vector.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>David Arnu <a href="mailto:david.arnu@tu-dortmund.de">david.arnu@tu-dortmund.de</a></p>

<hr>
<h2 id='f_rosenbrock'>Rosenbrock function...</h2><span id='topic+f_rosenbrock'></span>

<h3>Description</h3>

<p>Rosenbrock function</p>


<h3>Usage</h3>

<pre><code class='language-R'>f_rosenbrock(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="f_rosenbrock_+3A_x">x</code></td>
<td>
<p>parameter vector.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>David Arnu <a href="mailto:david.arnu@tu-dortmund.de">david.arnu@tu-dortmund.de</a></p>

<hr>
<h2 id='f_sphere'>Sphere function...</h2><span id='topic+f_sphere'></span>

<h3>Description</h3>

<p>Sphere function</p>


<h3>Usage</h3>

<pre><code class='language-R'>f_sphere(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="f_sphere_+3A_x">x</code></td>
<td>
<p>parameter vector.</p>
</td></tr>
</table>


<h3>Details</h3>

<p style="text-align: center;"><code class="reqn">f(x) = x'x</code>
</p>

<hr>
<h2 id='rotate_function'>Create a rotated test function...</h2><span id='topic+rotate_function'></span>

<h3>Description</h3>

<p>Create a rotated test function</p>


<h3>Usage</h3>

<pre><code class='language-R'>rotate_function(f, M)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rotate_function_+3A_f">f</code></td>
<td>
<p>test function.</p>
</td></tr>
<tr><td><code id="rotate_function_+3A_m">M</code></td>
<td>
<p>orthogonal square matrix defining the rotation.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Returns a new rotated test function defined as
</p>
<p style="text-align: center;"><code class="reqn">g(x) = f(Mx).</code>
</p>


<h3>Value</h3>

<p>The rotated test function.</p>


<h3>Author(s)</h3>

<p>Olaf Mersmann <a href="mailto:olafm@statistik.tu-dortmund.de">olafm@statistik.tu-dortmund.de</a></p>

<hr>
<h2 id='shift_function'>shift_function</h2><span id='topic+shift_function'></span>

<h3>Description</h3>

<p>Returns a new function
</p>
<p style="text-align: center;"><code class="reqn">g(x) = f(x - offset).</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>shift_function(f, offset)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="shift_function_+3A_f">f</code></td>
<td>
<p>test function</p>
</td></tr>
<tr><td><code id="shift_function_+3A_offset">offset</code></td>
<td>
<p>offset.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The shifted test function.</p>


<h3>Author(s)</h3>

<p>Olaf Mersmann <a href="mailto:olafm@statistik.tu-dortmund.de">olafm@statistik.tu-dortmund.de</a></p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package httpgd</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {httpgd}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#httpgd-package'><p>httpgd: HTTP server graphics device</p></a></li>
<li><a href='#hgd'><p>Asynchronous HTTP server graphics device.</p></a></li>
<li><a href='#hgd_browse'><p>Open httpgd URL in the browser.</p></a></li>
<li><a href='#hgd_close'><p>Close httpgd device.</p></a></li>
<li><a href='#hgd_details'><p>httpgd device status.</p></a></li>
<li><a href='#hgd_generate_token'><p>Generate random alphanumeric token.</p></a></li>
<li><a href='#hgd_url'><p>httpgd URL.</p></a></li>
<li><a href='#hgd_view'><p>Open httpgd URL in the IDE.</p></a></li>
<li><a href='#hgd_watch'><p>Watch for changes in code files and refresh plots automatically.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>A 'HTTP' Server Graphics Device</td>
</tr>
<tr>
<td>Version:</td>
<td>2.0.4</td>
</tr>
<tr>
<td>Description:</td>
<td>A graphics device for R that is accessible via network protocols.
    This package was created to make it easier to embed live R graphics in 
    integrated development environments and other applications.
    The included 'HTML/JavaScript' client (plot viewer) aims to provide a better overall user experience when dealing with R graphics.
    The device asynchronously serves graphics via 'HTTP' and 'WebSockets'.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.2.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>unigd</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>unigd, cpp11 (&ge; 0.2.4), AsioHeaders (&ge; 1.22.1)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, xml2 (&ge; 1.0.0), knitr, rmarkdown, covr, future,
httr, jsonlite</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/nx10/httpgd">https://github.com/nx10/httpgd</a>, <a href="https://nx10.github.io/httpgd/">https://nx10.github.io/httpgd/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/nx10/httpgd/issues">https://github.com/nx10/httpgd/issues</a></td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-03-15 23:11:18 UTC; floru</td>
</tr>
<tr>
<td>Author:</td>
<td>Florian Rupprecht <a href="https://orcid.org/0000-0002-1795-8624"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Kun Ren [ctb],
  Jeroen Ooms <a href="https://orcid.org/0000-0002-4035-0289"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Florian Rupprecht &lt;floruppr@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-03-16 00:50:01 UTC</td>
</tr>
</table>
<hr>
<h2 id='httpgd-package'>httpgd: HTTP server graphics device</h2><span id='topic+httpgd'></span><span id='topic+httpgd-package'></span>

<h3>Description</h3>

<p>Asynchronous HTTP server graphics device.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Florian Rupprecht <a href="mailto:floruppr@gmail.com">floruppr@gmail.com</a> (<a href="https://orcid.org/0000-0002-1795-8624">ORCID</a>)
</p>
<p>Other contributors:
</p>

<ul>
<li><p> Kun Ren <a href="mailto:mail@renkun.me">mail@renkun.me</a> [contributor]
</p>
</li>
<li><p> Jeroen Ooms <a href="mailto:jeroen@berkeley.edu">jeroen@berkeley.edu</a> (<a href="https://orcid.org/0000-0002-4035-0289">ORCID</a>) [contributor]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/nx10/httpgd">https://github.com/nx10/httpgd</a>
</p>
</li>
<li> <p><a href="https://nx10.github.io/httpgd/">https://nx10.github.io/httpgd/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/nx10/httpgd/issues">https://github.com/nx10/httpgd/issues</a>
</p>
</li></ul>


<hr>
<h2 id='hgd'>Asynchronous HTTP server graphics device.</h2><span id='topic+hgd'></span>

<h3>Description</h3>

<p>This function initializes a httpgd graphics device and
starts a local webserver, that allows for access via HTTP and WebSockets.
A link will be printed by which the web client can be accessed using
a browser.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hgd(
  host = getOption("httpgd.host", "127.0.0.1"),
  port = getOption("httpgd.port", 0),
  cors = getOption("httpgd.cors", FALSE),
  token = getOption("httpgd.token", TRUE),
  silent = getOption("httpgd.silent", FALSE),
  width = getOption("httpgd.width", 720),
  height = getOption("httpgd.height", 576),
  zoom = getOption("httpgd.zoom", 1),
  bg = getOption("httpgd.bg", "white"),
  pointsize = getOption("httpgd.pointsize", 12),
  system_fonts = getOption("httpgd.system_fonts", list()),
  user_fonts = getOption("httpgd.user_fonts", list()),
  reset_par = getOption("httpgd.reset_par", FALSE)
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="hgd_+3A_host">host</code></td>
<td>
<p>Server hostname. Set to <code>"0.0.0.0"</code> to enable remote access.
We recommend to <strong>only enable remote access in trusted networks</strong>.
The network security of httpgd has not yet been properly tested.</p>
</td></tr>
<tr><td><code id="hgd_+3A_port">port</code></td>
<td>
<p>Server port. If this is set to <code>0</code>, an open port
will be assigned.</p>
</td></tr>
<tr><td><code id="hgd_+3A_cors">cors</code></td>
<td>
<p>Toggles Cross-Origin Resource Sharing (CORS) header.
When set to <code>TRUE</code>, CORS header will be set to <code>"*"</code>.</p>
</td></tr>
<tr><td><code id="hgd_+3A_token">token</code></td>
<td>
<p>(Optional) security token. When set, all requests
need to include a token to be allowed. (Either in a request header
(<code>X-HTTPGD-TOKEN</code>) field or as a query parameter.)
This parameter can be set to <code>TRUE</code> to generate a random 8 character
alphanumeric token. A random token of the specified length is generated
when it is set to a number. <code>FALSE</code> deactivates the token.</p>
</td></tr>
<tr><td><code id="hgd_+3A_silent">silent</code></td>
<td>
<p>When set to <code>FALSE</code> no information will be printed to console.</p>
</td></tr>
<tr><td><code id="hgd_+3A_width">width</code></td>
<td>
<p>Initial plot width (pixels).</p>
</td></tr>
<tr><td><code id="hgd_+3A_height">height</code></td>
<td>
<p>Initial plot height (pixels).</p>
</td></tr>
<tr><td><code id="hgd_+3A_zoom">zoom</code></td>
<td>
<p>Initial plot zoom level (For example: 2 corresponds
to 200%, 0.5 would be 50%.).</p>
</td></tr>
<tr><td><code id="hgd_+3A_bg">bg</code></td>
<td>
<p>Background color.</p>
</td></tr>
<tr><td><code id="hgd_+3A_pointsize">pointsize</code></td>
<td>
<p>Graphics device point size.</p>
</td></tr>
<tr><td><code id="hgd_+3A_system_fonts">system_fonts</code></td>
<td>
<p>Named list of font names to be aliased with
fonts installed on your system. If unspecified, the R default
families <code>sans</code>, <code>serif</code>, <code>mono</code> and <code>symbol</code>
are aliased to the family returned by
<code>systemfonts::font_info()</code>.</p>
</td></tr>
<tr><td><code id="hgd_+3A_user_fonts">user_fonts</code></td>
<td>
<p>Named list of fonts to be aliased with font files
provided by the user rather than fonts properly installed on the
system. The aliases can be fonts from the fontquiver package,
strings containing a path to a font file, or a list containing
<code>name</code> and <code>file</code> elements with <code>name</code> indicating
the font alias in the SVG output and <code>file</code> the path to a
font file.</p>
</td></tr>
<tr><td><code id="hgd_+3A_reset_par">reset_par</code></td>
<td>
<p>If set to <code>TRUE</code>, global graphics parameters will be saved
on device start and reset every time the plots are cleared (see
<code><a href="graphics.html#topic+par">graphics::par()</a></code>).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>All font settings and descriptions are adopted from the excellent
'svglite' package.
</p>


<h3>Value</h3>

<p>No return value, called to initialize graphics device.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

hgd() # Initialize graphics device and start server
hgd_browse() # Or copy the displayed link in the browser

# Plot something
x &lt;- seq(0, 3 * pi, by = 0.1)
plot(x, sin(x), type = "l")

dev.off() # alternatively: hgd_close()

## End(Not run)
</code></pre>

<hr>
<h2 id='hgd_browse'>Open httpgd URL in the browser.</h2><span id='topic+hgd_browse'></span>

<h3>Description</h3>

<p>This function will only work after starting a device with <code><a href="#topic+hgd">hgd()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hgd_browse(..., which = dev.cur(), browser = getOption("browser"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="hgd_browse_+3A_...">...</code></td>
<td>
<p>Parameters passed to <code><a href="#topic+hgd_url">hgd_url()</a></code>.</p>
</td></tr>
<tr><td><code id="hgd_browse_+3A_which">which</code></td>
<td>
<p>Which device (ID).</p>
</td></tr>
<tr><td><code id="hgd_browse_+3A_browser">browser</code></td>
<td>
<p>Program to be used as HTML browser.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>URL.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

hgd()
hgd_browse() # open browser
hist(rnorm(100))

dev.off()

## End(Not run)
</code></pre>

<hr>
<h2 id='hgd_close'>Close httpgd device.</h2><span id='topic+hgd_close'></span>

<h3>Description</h3>

<p>This achieves the same effect as <code><a href="grDevices.html#topic+dev">grDevices::dev.off()</a></code>,
but will only close the device if it has the httpgd type.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hgd_close(which = dev.cur(), all = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="hgd_close_+3A_which">which</code></td>
<td>
<p>Which device (ID).</p>
</td></tr>
<tr><td><code id="hgd_close_+3A_all">all</code></td>
<td>
<p>Should all running httpgd devices be closed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Number and name of the new active device (after the specified device
has been shut down).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

hgd()
hgd_browse() # open browser
hist(rnorm(100))
hgd_close() # Equvalent to dev.off()

hgd()
hgd()
hgd()
hgd_close(all = TRUE)

## End(Not run)
</code></pre>

<hr>
<h2 id='hgd_details'>httpgd device status.</h2><span id='topic+hgd_details'></span>

<h3>Description</h3>

<p>Access status information of a httpgd graphics device.
This function will only work after starting a device with <code><a href="#topic+hgd">hgd()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hgd_details(which = dev.cur())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="hgd_details_+3A_which">which</code></td>
<td>
<p>Which device (ID).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List of status variables with the following named items:
<code style="white-space: pre;">&#8288;$host&#8288;</code>: Server hostname,
<code style="white-space: pre;">&#8288;$port&#8288;</code>: Server port,
<code style="white-space: pre;">&#8288;$token&#8288;</code>: Security token,
<code style="white-space: pre;">&#8288;$hsize&#8288;</code>: Plot history size (how many plots are accessible),
<code style="white-space: pre;">&#8288;$upid&#8288;</code>: Update ID (changes when the device has received new information),
<code style="white-space: pre;">&#8288;$active&#8288;</code>: Is the device the currently activated device.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

hgd()
hgd_details()
plot(1, 1)
hgd_details()

dev.off()

## End(Not run)
</code></pre>

<hr>
<h2 id='hgd_generate_token'>Generate random alphanumeric token.</h2><span id='topic+hgd_generate_token'></span>

<h3>Description</h3>

<p>This is mainly used internally by httpgd, but exposed for
testing purposes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hgd_generate_token(len)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="hgd_generate_token_+3A_len">len</code></td>
<td>
<p>Token length (number of characters).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Random token string.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>hgd_generate_token(6)
</code></pre>

<hr>
<h2 id='hgd_url'>httpgd URL.</h2><span id='topic+hgd_url'></span>

<h3>Description</h3>

<p>Generate URLs to the plot viewer or to plot SVGs.
This function will only work after starting a device with <code><a href="#topic+hgd">hgd()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hgd_url(
  endpoint = "live",
  which = dev.cur(),
  host = NA,
  port = NA,
  explicit = FALSE,
  omit_token = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="hgd_url_+3A_endpoint">endpoint</code></td>
<td>
<p>API endpoint. The default, <code>"live"</code> is the HTML/JS
plot viewer. Can be set to a numeric plot index or plot ID
(see <code><a href="unigd.html#topic+ugd_id">unigd::ugd_id()</a></code>) to obtain the direct URL to the SVG.</p>
</td></tr>
<tr><td><code id="hgd_url_+3A_which">which</code></td>
<td>
<p>Which device (ID).</p>
</td></tr>
<tr><td><code id="hgd_url_+3A_host">host</code></td>
<td>
<p>Replaces hostname.</p>
</td></tr>
<tr><td><code id="hgd_url_+3A_port">port</code></td>
<td>
<p>Replaces port.</p>
</td></tr>
<tr><td><code id="hgd_url_+3A_explicit">explicit</code></td>
<td>
<p>Ads <code>hgd={host}:{port}</code> query parameter. Needed for host
resolution in some editors.</p>
</td></tr>
<tr><td><code id="hgd_url_+3A_omit_token">omit_token</code></td>
<td>
<p>Should the security token be omitted from the URL.</p>
</td></tr>
<tr><td><code id="hgd_url_+3A_...">...</code></td>
<td>
<p>Other query parameters that will be appended to the URL.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note: If the included client is used set <code>websockets=0</code> or
<code>sidebar=0</code> to turn off WebSocket or plot history sidebar.
</p>


<h3>Value</h3>

<p>URL.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

hgd()
my_url &lt;- hgd_url()
hgd_url(0)
hgd_url(plot_id(), width = 800, height = 600)

dev.off()

## End(Not run)
</code></pre>

<hr>
<h2 id='hgd_view'>Open httpgd URL in the IDE.</h2><span id='topic+hgd_view'></span>

<h3>Description</h3>

<p>Global option <code>viewer</code> needs to be set to a function that accepts the client
URL as a parameter.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hgd_view()
</code></pre>


<h3>Details</h3>

<p>This function will only work after starting a device with <code><a href="#topic+hgd">hgd()</a></code>.
</p>


<h3>Value</h3>

<p><code>viewer</code> function return value.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

hgd()
hgd_view()
hist(rnorm(100))

dev.off()

## End(Not run)
</code></pre>

<hr>
<h2 id='hgd_watch'>Watch for changes in code files and refresh plots automatically.</h2><span id='topic+hgd_watch'></span>

<h3>Description</h3>

<p>This function may be used to rapidly develop visualizations
by replacing a workflow of reloading and executing code manually.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hgd_watch(
  watch = list.files(pattern = "\\.R$", ignore.case = T),
  on_change = function(changed_files) {
     print(changed_files)
 },
  interval = 1,
  on_start = hgd_browse,
  on_exit = NULL,
  on_error = print,
  reset_par = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="hgd_watch_+3A_watch">watch</code></td>
<td>
<p>Paths that are watched for changes (see <code><a href="utils.html#topic+changedFiles">utils::fileSnapshot()</a></code>)</p>
</td></tr>
<tr><td><code id="hgd_watch_+3A_on_change">on_change</code></td>
<td>
<p>Will be called when a file changes.</p>
</td></tr>
<tr><td><code id="hgd_watch_+3A_interval">interval</code></td>
<td>
<p>Time interval in which changes are detected (in seconds).</p>
</td></tr>
<tr><td><code id="hgd_watch_+3A_on_start">on_start</code></td>
<td>
<p>Will be called after the httpgd server is started
(may be set to <code>NULL</code>).</p>
</td></tr>
<tr><td><code id="hgd_watch_+3A_on_exit">on_exit</code></td>
<td>
<p>Will be called before the server is closed
(may be set to <code>NULL</code>).</p>
</td></tr>
<tr><td><code id="hgd_watch_+3A_on_error">on_error</code></td>
<td>
<p>Will be called when on_change throws an error
(may be set to <code>NULL</code>).</p>
</td></tr>
<tr><td><code id="hgd_watch_+3A_reset_par">reset_par</code></td>
<td>
<p>If set to <code>TRUE</code>, global graphics parameters will be saved
on device start and reset every time <code><a href="unigd.html#topic+ugd_clear">unigd::ugd_clear()</a></code> is called (see
<code><a href="graphics.html#topic+par">graphics::par()</a></code>).</p>
</td></tr>
<tr><td><code id="hgd_watch_+3A_...">...</code></td>
<td>
<p>Additional parameters passed to <code>hgd(webserver=FALSE, ...)</code></p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# --- my_code.R ---

plot(rnorm(100), col = "red")

# --- Other file / interactive ---

hgd_watch(
  watch = "my_code.R", # When my_code.R changes...
  on_change = function(...) {
    source("my_code.R") # ...call updated plot function.
  }
)

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

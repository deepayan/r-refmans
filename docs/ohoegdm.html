<!DOCTYPE html><html><head><title>Help for package ohoegdm</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ohoegdm}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#ohoegdm-package'><p>ohoegdm: Ordinal Higher-Order Exploratory General Diagnostic Model for Polytomous Data</p></a></li>
<li><a href='#gen_bijectionvector'><p>Generate a vector to map polytomous vector to integers</p></a></li>
<li><a href='#GenerateAtable'><p>Generate tables that store different design elements</p></a></li>
<li><a href='#ohoegdm'><p>Ordinal Higher-Order General Diagnostic Model under the</p>
Exploratory Framework (OHOEGDM)</a></li>
<li><a href='#sim_slcm'><p>Simulate Ordinal Item Data from a Sparse Latent Class Model</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Ordinal Higher-Order Exploratory General Diagnostic Model for
Polytomous Data</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Perform a Bayesian estimation of the ordinal exploratory 
    Higher-order General Diagnostic Model (OHOEGDM) for Polytomous Data 
    described by Culpepper, S. A. and Balamuta, J. J. (In Press) &lt;<a href="https://doi.org/10.1080%2F00273171.2021.1985949">doi:10.1080/00273171.2021.1985949</a>&gt;.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/tmsalab/ohoegdm">https://github.com/tmsalab/ohoegdm</a>,
<a href="https://tmsalab.github.io/ohoegdm/">https://tmsalab.github.io/ohoegdm/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/tmsalab/ohoegdm/issues">https://github.com/tmsalab/ohoegdm/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp, RcppArmadillo</td>
</tr>
<tr>
<td>Imports:</td>
<td>Rcpp</td>
</tr>
<tr>
<td>Suggests:</td>
<td>edmdata, covr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-02-23 03:02:03 UTC; ronin</td>
</tr>
<tr>
<td>Author:</td>
<td>Steven Andrew Culpepper
    <a href="https://orcid.org/0000-0003-4226-6176"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, cph],
  James Joseph Balamuta
    <a href="https://orcid.org/0000-0003-2826-8458"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, cre,
    cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>James Joseph Balamuta &lt;balamut2@illinois.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-02-24 09:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='ohoegdm-package'>ohoegdm: Ordinal Higher-Order Exploratory General Diagnostic Model for Polytomous Data</h2><span id='topic+ohoegdm-package'></span><span id='topic+_PACKAGE'></span>

<h3>Description</h3>

<p>Perform a Bayesian estimation of the ordinal exploratory Higher-order General Diagnostic Model (OHOEGDM) for Polytomous Data described by Culpepper, S. A. and Balamuta, J. J. (In Press) &lt;doi:10.1080/00273171.2021.1985949&gt;.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: James Joseph Balamuta <a href="mailto:balamut2@illinois.edu">balamut2@illinois.edu</a> (<a href="https://orcid.org/0000-0003-2826-8458">ORCID</a>) [copyright holder]
</p>
<p>Authors:
</p>

<ul>
<li><p> Steven Andrew Culpepper <a href="mailto:sculpepp@illinois.edu">sculpepp@illinois.edu</a> (<a href="https://orcid.org/0000-0003-4226-6176">ORCID</a>) [copyright holder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/tmsalab/ohoegdm">https://github.com/tmsalab/ohoegdm</a>
</p>
</li>
<li> <p><a href="https://tmsalab.github.io/ohoegdm/">https://tmsalab.github.io/ohoegdm/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/tmsalab/ohoegdm/issues">https://github.com/tmsalab/ohoegdm/issues</a>
</p>
</li></ul>


<hr>
<h2 id='gen_bijectionvector'>Generate a vector to map polytomous vector to integers</h2><span id='topic+gen_bijectionvector'></span>

<h3>Description</h3>

<p>Converts class into a bijection to integers
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gen_bijectionvector(K, M)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gen_bijectionvector_+3A_k">K</code></td>
<td>
<p>Number of Attributes</p>
</td></tr>
<tr><td><code id="gen_bijectionvector_+3A_m">M</code></td>
<td>
<p>Number of Response Categories</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Return a <code class="reqn">K</code>-length vector containing the bijection vector.
</p>

<hr>
<h2 id='GenerateAtable'>Generate tables that store different design elements</h2><span id='topic+GenerateAtable'></span>

<h3>Description</h3>

<p>Each table provides a &quot;cache&quot; of pre-computed values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>GenerateAtable(nClass, K, M, order)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="GenerateAtable_+3A_nclass">nClass</code></td>
<td>
<p>Number of Attribute Classes</p>
</td></tr>
<tr><td><code id="GenerateAtable_+3A_k">K</code></td>
<td>
<p>Number of Attributes</p>
</td></tr>
<tr><td><code id="GenerateAtable_+3A_m">M</code></td>
<td>
<p>Number of Responses</p>
</td></tr>
<tr><td><code id="GenerateAtable_+3A_order">order</code></td>
<td>
<p>Highest interaction order to consider.
Default model-specified <code>k</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is <strong>an internal function</strong> briefly used to simulate data and, thus, has
been exported into <em>R</em> as well as documented. <strong>Output from this function can
change in future versions.</strong>
</p>


<h3>Value</h3>

<p>Return a <code>list</code> containing the table caches for different parameters
</p>

<hr>
<h2 id='ohoegdm'>Ordinal Higher-Order General Diagnostic Model under the
Exploratory Framework (OHOEGDM)</h2><span id='topic+ohoegdm'></span>

<h3>Description</h3>

<p>Performs the Gibbs sampling routine for an ordinal higher-order EGDM.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ohoegdm(
  y,
  k,
  m = 2,
  order = k,
  sd_mh = 0.4,
  burnin = 1000L,
  chain_length = 10000L,
  l0 = c(1, rep(100, sum(choose(k, seq_len(order))))),
  l1 = c(1, rep(1, sum(choose(k, seq_len(order))))),
  m0 = 0,
  bq = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ohoegdm_+3A_y">y</code></td>
<td>
<p>Ordinal Item Matrix</p>
</td></tr>
<tr><td><code id="ohoegdm_+3A_k">k</code></td>
<td>
<p>Dimension to estimate for Q matrix</p>
</td></tr>
<tr><td><code id="ohoegdm_+3A_m">m</code></td>
<td>
<p>Number of Item Categories. Default is <code>2</code> matching the binary case.</p>
</td></tr>
<tr><td><code id="ohoegdm_+3A_order">order</code></td>
<td>
<p>Highest interaction order to consider. Default model-specified <code>k</code>.</p>
</td></tr>
<tr><td><code id="ohoegdm_+3A_sd_mh">sd_mh</code></td>
<td>
<p>Metropolis-Hastings standard deviation tuning parameter.</p>
</td></tr>
<tr><td><code id="ohoegdm_+3A_burnin">burnin</code></td>
<td>
<p>Amount of Draws to Burn</p>
</td></tr>
<tr><td><code id="ohoegdm_+3A_chain_length">chain_length</code></td>
<td>
<p>Number of Iterations for chain.</p>
</td></tr>
<tr><td><code id="ohoegdm_+3A_l0">l0</code></td>
<td>
<p>Spike parameter. Default 1 for intercept and 100
coefficients</p>
</td></tr>
<tr><td><code id="ohoegdm_+3A_l1">l1</code></td>
<td>
<p>Slab parameter. Default 1 for all values.</p>
</td></tr>
<tr><td><code id="ohoegdm_+3A_m0">m0</code>, <code id="ohoegdm_+3A_bq">bq</code></td>
<td>
<p>Additional tuning parameters.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <strong><code>estimates</code></strong> list contains the mean information from the sampling
procedure. Meanwhile, the <strong><code>chain</code></strong> list contains full MCMC values. Moreover,
the <strong><code>details</code></strong> list provides information regarding the estimation call.
Lastly, the <strong><code>recovery</code></strong> list stores values that can be used when
assessing the method under a simulation study.
</p>


<h3>Value</h3>

<p>A <code>ohoegdm</code> object containing four named lists:
</p>

<ul>
<li> <p><strong><code>estimates</code></strong>: Averaged chain iterations
</p>

<ul>
<li> <p><code>thetas</code>: Average theta coefficients
</p>
</li>
<li> <p><code>betas</code>: Average beta coefficients
</p>
</li>
<li> <p><code>deltas</code>: Average activeness of coefficients
</p>
</li>
<li> <p><code>classes</code>: Average class membership
</p>
</li>
<li> <p><code>m2lls</code>: Average negative two times log-likelihood
</p>
</li>
<li> <p><code>omegas</code>: Average omega
</p>
</li>
<li> <p><code>kappas</code> : Average category threshold parameter
</p>
</li>
<li> <p><code>taus</code>: Average <code class="reqn">K</code>-vectors of factor intercept
</p>
</li>
<li> <p><code>lambdas</code>: Average <code class="reqn">K</code>-vectors of factor loadings
</p>
</li>
<li> <p><code>guessing</code>: Average guessing item parameter
</p>
</li>
<li> <p><code>slipping</code>: Average slipping item parameter
</p>
</li>
<li> <p><code>QS</code>: Average activeness of Q matrix entries
</p>
</li></ul>

</li>
<li> <p><strong><code>chain</code></strong>: Chain iterations from the underlying <em>C++</em> rountine.
</p>

<ul>
<li> <p><code>thetas</code>: Theta coefficients iterations
</p>
</li>
<li> <p><code>betas</code>:  Beta coefficients iterations
</p>
</li>
<li> <p><code>deltas</code>: Activeness of coefficients iterations
</p>
</li>
<li> <p><code>classes</code>:  Class membership iterations
</p>
</li>
<li> <p><code>m2lls</code>: Negative two times log-likelihood iterations
</p>
</li>
<li> <p><code>omegas</code>:  Omega iterations
</p>
</li>
<li> <p><code>kappas</code> : Category threshold parameter iterations
</p>
</li>
<li> <p><code>taus</code>: <code class="reqn">K</code>-vector of factor intercept iterations
</p>
</li>
<li> <p><code>lambdas</code>: <code class="reqn">K</code>-vector of factor loadings iterations
</p>
</li>
<li> <p><code>guessing</code>: Guessing item parameter iterations
</p>
</li>
<li> <p><code>slipping</code>: Slipping item parameter iterations
</p>
</li></ul>

</li>
<li> <p><strong><code>details</code></strong>: Properties used to estimate the model
</p>

<ul>
<li> <p><code>n</code>: Number of Subjects
</p>
</li>
<li> <p><code>j</code>: Number of Items
</p>
</li>
<li> <p><code>k</code>: Number of Traits
</p>
</li>
<li> <p><code>m</code>: Number of Item Categories.
</p>
</li>
<li> <p><code>order</code>: Highest interaction order to consider. Default model-specified <code>k</code>.
</p>
</li>
<li> <p><code>sd_mh</code>: Metropolis-Hastings standard deviation tuning parameter.
</p>
</li>
<li> <p><code>l0</code>: Spike parameter
</p>
</li>
<li> <p><code>l1</code>: Slab parameter
</p>
</li>
<li> <p><code>m0</code>, <code>bq</code>: Additional tuning parameters
</p>
</li>
<li> <p><code>burnin</code>: Number of Iterations to discard
</p>
</li>
<li> <p><code>chain_length</code>: Number of Iterations to keep
</p>
</li>
<li> <p><code>runtime</code>: Elapsed time algorithm run time in the <em>C++</em> code.
</p>
</li></ul>

</li>
<li> <p><strong><code>recovery</code></strong>: Assess recovery metrics under a simulation study.
</p>

<ul>
<li> <p><code>Q_item_encoded</code>: Per-iteration item encodings from Q matrix.
</p>
</li>
<li> <p><code>MHsum</code>: Average acceptance from metropolis hastings sampler
</p>
</li></ul>

</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'># Simulation Study
if (requireNamespace("edmdata", quietly = TRUE)) {
# Q and Beta Design ----

# Obtain the full K3 Q matrix from edmdata
data("qmatrix_oracle_k3_j20", package = "edmdata")
Q_full = qmatrix_oracle_k3_j20

# Retain only a subset of the original Q matrix
removal_idx = -c(3, 5, 9, 12, 15, 18, 19, 20)
Q = Q_full[removal_idx, ]

# Construct the beta matrix by-hand
beta = matrix(0, 20, ncol = 8)

# Intercept
beta[, 1] = 1

# Main effects
beta[1:3, 2] = 1.5
beta[4:6, 3] = 1.5
beta[7:9, 5] = 1.5

# Setup two-way effects
beta[10, c(2, 3)] = 1
beta[11, c(3, 4)] = 1

beta[12, c(2, 5)] = 1
beta[13, c(2, 5)] = 1
beta[14, c(2, 6)] = 1

beta[15, c(3, 5)] = 1
beta[16, c(3, 5)] = 1
beta[17, c(3, 7)] = 1

# Setup three-way effects
beta[18:20, c(2, 3, 5)] = 0.75

# Decrease the number of Beta rows
beta = beta[removal_idx,]

# Construct additional parameters for data simulation
Kappa = matrix(c(0, 1, 2), nrow = 20, ncol = 3, byrow =TRUE) # mkappa
lambda = c(0.25, 1.5, -1.25) # mlambdas
tau = c(0, -0.5, 0.5) # mtaus


# Simulation conditions ---- 
N = 100        # Number of Observations
J = nrow(beta) # Number of Items
M = 4          # Number of Response Categories
Malpha = 2     # Number of Classes
K = ncol(Q)    # Number of Attributes
order = K      # Highest interaction to consider
sdmtheta = 1   # Standard deviation for theta values

# Simulate data ---- 

# Generate theta values
theta = rnorm(N, sd = sdmtheta)

# Generate alphas 
Zs = matrix(1, N, 1) %*% tau + 
     matrix(theta, N, 1) %*% lambda + 
     matrix(rnorm(N * K), N, K)
Alphas = 1 * (Zs &gt; 0)

vv = gen_bijectionvector(K, Malpha)
CLs = Alphas %*% vv
Atab = GenerateAtable(Malpha ^ K, K, Malpha, order)$Atable

# Simulate item-level data
Ysim = sim_slcm(N, J, M, Malpha ^ K, CLs, Atab, beta, Kappa)

# Establish chain properties 
# Standard Deviation of MH. Set depending on sample size.
# If sample size is:
#  - small, allow for larger standard deviation
#  - large, allow for smaller standard deviation.
sd_mh = .4 
burnin = 50        # Set for demonstration purposes, increase to at least 5,000 in practice.
chain_length = 100 # Set for demonstration purposes, increase to at least 40,000 in practice.

# Setup spike-slab parameters
l0s = c(1, rep(100, Malpha ^ K - 1))
l1s = c(1, rep(1, Malpha ^ K - 1))

my_model = ohoegdm::ohoegdm(
  y = Ysim,
  k = K,
  m = M,
  order = order,
  l0 = l0s,
  l1 = l1s,
  m0 = 0,
  bq = 1,
  sd_mh = sd_mh,
  burnin = burnin,
  chain_length = chain_length
)
}
</code></pre>

<hr>
<h2 id='sim_slcm'>Simulate Ordinal Item Data from a Sparse Latent Class Model</h2><span id='topic+sim_slcm'></span>

<h3>Description</h3>

<p>Simulate Ordinal Item Data from a Sparse Latent Class Model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sim_slcm(N, J, M, nClass, CLASS, Atable, BETA, KAPPA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sim_slcm_+3A_n">N</code></td>
<td>
<p>Number of Observations</p>
</td></tr>
<tr><td><code id="sim_slcm_+3A_j">J</code></td>
<td>
<p>Number of Items</p>
</td></tr>
<tr><td><code id="sim_slcm_+3A_m">M</code></td>
<td>
<p>Number of Item Categories (2, 3,  ..., M)</p>
</td></tr>
<tr><td><code id="sim_slcm_+3A_nclass">nClass</code></td>
<td>
<p>Number of Latent Classes</p>
</td></tr>
<tr><td><code id="sim_slcm_+3A_class">CLASS</code></td>
<td>
<p>A vector of <code class="reqn">N</code> observations containing the class ID of the
subject.</p>
</td></tr>
<tr><td><code id="sim_slcm_+3A_atable">Atable</code></td>
<td>
<p>A matrix of dimensions <code class="reqn">M^K \times M^O</code> containing
the attribute classes in bijection-form. Note, <code class="reqn">O</code> refers
to the model's highest interaction order.</p>
</td></tr>
<tr><td><code id="sim_slcm_+3A_beta">BETA</code></td>
<td>
<p>A matrix of dimensions <code class="reqn">J \times M^K</code> containing the
coefficients of the reparameterized <code class="reqn">\beta</code> matrix.</p>
</td></tr>
<tr><td><code id="sim_slcm_+3A_kappa">KAPPA</code></td>
<td>
<p>A matrix of dimensions <code class="reqn">J \times M</code> containing the
category threshold parameters</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An ordinal item matrix of dimensions <code class="reqn">N \times J</code> with <code class="reqn">M</code>
response levels.
</p>


<h3>See Also</h3>

<p><a href="#topic+ohoegdm">ohoegdm</a>
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

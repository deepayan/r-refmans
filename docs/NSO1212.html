<!DOCTYPE html><html><head><title>Help for package NSO1212</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {NSO1212}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#all_tables'><p>Brief Information about All Database Tables</p></a></li>
<li><a href='#get_sector_info'><p>Detailed Information about All Main Sectors</p></a></li>
<li><a href='#get_subsector_info'><p>Detailed Information about a Sub-Sector</p></a></li>
<li><a href='#get_table'><p>Download a Database Table</p></a></li>
<li><a href='#get_table_info'><p>Detailed Information about a Database Table and Its Classification</p></a></li>
<li><a href='#NSO1212'><p>National Statistical Office of Mongolia's Open Data API Handler</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>National Statistical Office of Mongolia's Open Data API Handler</td>
</tr>
<tr>
<td>Version:</td>
<td>1.4.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2021-09-29</td>
</tr>
<tr>
<td>Description:</td>
<td>National Statistical Office of Mongolia (NSO) is the national statistical service and an organization of Mongolian government. NSO provides open access to official data via its API <a href="http://opendata.1212.mn/en/doc">http://opendata.1212.mn/en/doc</a>. The package NSO1212 has functions for accessing the API service. The functions are compatible with the API v2.0 and get data sets and its detailed informations from the API.</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Makhgal Ganbold &lt;makhgal@seas.num.edu.mn&gt;</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/galaamn/NSO1212">https://github.com/galaamn/NSO1212</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/galaamn/NSO1212/issues">https://github.com/galaamn/NSO1212/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>httr, jsonlite</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>ByteCompile:</td>
<td>true</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-09-29 05:14:43 UTC; galaa</td>
</tr>
<tr>
<td>Author:</td>
<td>Makhgal Ganbold [aut, cre]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-09-29 07:10:20 UTC</td>
</tr>
</table>
<hr>
<h2 id='all_tables'>Brief Information about All Database Tables</h2><span id='topic+all_tables'></span>

<h3>Description</h3>

<p>Brief information about all available database tables on the open-data API which is supported by National Statistical Office of Mongolia (NSO)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>all_tables(try = FALSE, timeout = Inf, na.rm = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="all_tables_+3A_try">try</code></td>
<td>
<p>logical: Should the body of the function be wrapped by the function <code><a href="base.html#topic+try">try</a></code>? See details.</p>
</td></tr>
<tr><td><code id="all_tables_+3A_timeout">timeout</code></td>
<td>
<p>positive numeric or <code>Inf</code>: The number of seconds to wait for a response from the NSO server. Can not be less than 1 ms or 0.001 s.</p>
</td></tr>
<tr><td><code id="all_tables_+3A_na.rm">na.rm</code></td>
<td>
<p>logical: If <code>TRUE</code>, it removes empty rows in a data frame which is result of this function.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The NSO server returns &quot;HTTP error 500&quot; frequently. Due to the server error, error handling is supported. if <code>try</code> is <code>TRUE</code>, you have to write code with error handling as shown in the example.
</p>


<h3>Value</h3>

<p>A data frame which has brief information of all available database tables if the function is executed without error, but an object of class &quot;try-error&quot; containing the error message, if it fails. The data frame has following structure:
</p>

<dl>
<dt>rownum</dt><dd><p>Row number</p>
</dd>
<dt>list_id</dt><dd><p>Sector number</p>
</dd>
<dt>tbl_id</dt><dd><p>Table identification number</p>
</dd>
<dt>tbl_nm</dt><dd><p>Table name in Mongolian</p>
</dd>
<dt>tbl_eng_nm</dt><dd><p>Table name in English</p>
</dd>
<dt>unit_id</dt><dd><p>Unit code</p>
</dd>
<dt>cd_nm</dt><dd><p>Unit name in Mongolian</p>
</dd>
<dt>cd_eng_nm</dt><dd><p>Unit name in English</p>
</dd>
<dt>strt_prd</dt><dd><p>Start date</p>
</dd>
<dt>end_prd</dt><dd><p>Finish date</p>
</dd>
<dt>prd_se</dt><dd><p>Time frequency</p>
</dd>
<dt>lst_chn_de</dt><dd><p>Last update date</p>
</dd>
</dl>



<h3>References</h3>

<p><a href="http://opendata.1212.mn/en/doc/Api/GET-api-Itms">http://opendata.1212.mn/en/doc/Api/GET-api-Itms</a>
</p>


<h3>See Also</h3>

<p><a href="#topic+get_table">get_table</a>, <a href="#topic+get_table_info">get_table_info</a>, <a href="#topic+get_sector_info">get_sector_info</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>all.tables &lt;- all_tables(try = TRUE, timeout = 4)
if (!inherits(all.tables, "try-error")) {
  str(all.tables)
}
</code></pre>

<hr>
<h2 id='get_sector_info'>Detailed Information about All Main Sectors</h2><span id='topic+get_sector_info'></span>

<h3>Description</h3>

<p>Detailed information about all main sectors, which are major classification of data, on the open-data API which is supported by National Statistical Office of Mongolia (NSO)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_sector_info(try = FALSE, timeout = Inf)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_sector_info_+3A_try">try</code></td>
<td>
<p>logical: Should the body of the function be wrapped by the function <code><a href="base.html#topic+try">try</a></code>? See details.</p>
</td></tr>
<tr><td><code id="get_sector_info_+3A_timeout">timeout</code></td>
<td>
<p>positive numeric or <code>Inf</code>: The number of seconds to wait for a response from the NSO server. Can not be less than 1 ms or 0.001 s.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The NSO server returns &quot;HTTP error 500&quot; frequently. Due to the server error, error handling is supported. if <code>try</code> is <code>TRUE</code>, you have to write code with error handling as shown in the example.
</p>


<h3>Value</h3>

<p>A data frame which has sector information if the function is executed without error, but an object of class &quot;try-error&quot; containing the error message, if it fails. The data frame has following structure:
</p>

<dl>
<dt>rownum</dt><dd><p>Row number</p>
</dd>
<dt>list_id</dt><dd><p>Sector identification number</p>
</dd>
<dt>up_list_id</dt><dd><p>Sub sector identification number</p>
</dd>
<dt>list_nm</dt><dd><p>Sector name in Mongolian</p>
</dd>
<dt>list_eng_nm</dt><dd><p>Sector name in English</p>
</dd>
<dt>isExist</dt><dd><p>Whether or exist sub-sectors</p>
</dd>
</dl>



<h3>References</h3>

<p><a href="http://opendata.1212.mn/en/doc/Api/GET-api-Sector">http://opendata.1212.mn/en/doc/Api/GET-api-Sector</a>
</p>


<h3>See Also</h3>

<p><a href="#topic+all_tables">all_tables</a>, <a href="#topic+get_table">get_table</a>, <a href="#topic+get_table_info">get_table_info</a>, <a href="#topic+get_subsector_info">get_subsector_info</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>sector_info &lt;- get_sector_info(try = TRUE, timeout = 4)
if (!inherits(sector_info, "try-error")) {
  print(sector_info)
}
</code></pre>

<hr>
<h2 id='get_subsector_info'>Detailed Information about a Sub-Sector</h2><span id='topic+get_subsector_info'></span>

<h3>Description</h3>

<p>Detailed information about a sub-sector, which is minor classification of data, on the open-data API which is supported by National Statistical Office of Mongolia
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_subsector_info(subid, try = FALSE, timeout = Inf)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_subsector_info_+3A_subid">subid</code></td>
<td>
<p>character string, Sub-sector identification number</p>
</td></tr>
<tr><td><code id="get_subsector_info_+3A_try">try</code></td>
<td>
<p>logical: Should the body of the function be wrapped by the function <code><a href="base.html#topic+try">try</a></code>? See details.</p>
</td></tr>
<tr><td><code id="get_subsector_info_+3A_timeout">timeout</code></td>
<td>
<p>positive numeric or <code>Inf</code>: The number of seconds to wait for a response from the NSO server. Can not be less than 1 ms or 0.001 s.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The NSO server returns &quot;HTTP error 500&quot; frequently. Due to the server error, error handling is supported. if <code>try</code> is <code>TRUE</code>, you have to write code with error handling as shown in the example.
</p>


<h3>Value</h3>

<p>A data frame which has sub-sector information if the function is executed without error, but an object of class &quot;try-error&quot; containing the error message, if it fails. The data frame has following structure:
</p>

<dl>
<dt>rownum</dt><dd><p>Row number</p>
</dd>
<dt>list_id</dt><dd><p>Sector identification number</p>
</dd>
<dt>up_list_id</dt><dd><p>Sub sector identification number</p>
</dd>
<dt>list_nm</dt><dd><p>Sector name in Mongolian</p>
</dd>
<dt>list_eng_nm</dt><dd><p>Sector name in English</p>
</dd>
<dt>isExist</dt><dd><p>Whether or exist sub-sectors</p>
</dd>
</dl>



<h3>References</h3>

<p><a href="http://opendata.1212.mn/en/doc/Api/GET-api-Sector_subid">http://opendata.1212.mn/en/doc/Api/GET-api-Sector_subid</a>
</p>


<h3>See Also</h3>

<p><a href="#topic+all_tables">all_tables</a>, <a href="#topic+get_table">get_table</a>, <a href="#topic+get_table_info">get_table_info</a>, <a href="#topic+get_sector_info">get_sector_info</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>subsector_info &lt;- get_subsector_info("976_L05", try = TRUE, timeout = 4)
if (!inherits(subsector_info, "try-error")) {
  print(subsector_info)
}
</code></pre>

<hr>
<h2 id='get_table'>Download a Database Table</h2><span id='topic+get_table'></span><span id='topic+make_period'></span>

<h3>Description</h3>

<p>It downloads a database table, which contains statistical data, from the open-data API which is supported by National Statistical Office of Mongolia (NSO).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_table(
  tbl_id,
  PERIOD = NULL,
  CODE = NULL,
  CODE1 = NULL,
  CODE2 = NULL,
  try = FALSE,
  timeout = Inf
)

make_period(start, end = NULL, period = "Y")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_table_+3A_tbl_id">tbl_id</code></td>
<td>
<p>character string, Table identification number</p>
</td></tr>
<tr><td><code id="get_table_+3A_period">PERIOD</code></td>
<td>
<p>character vector, Time</p>
</td></tr>
<tr><td><code id="get_table_+3A_code">CODE</code>, <code id="get_table_+3A_code1">CODE1</code>, <code id="get_table_+3A_code2">CODE2</code></td>
<td>
<p>character vector, Classification code (age, gender etc)</p>
</td></tr>
<tr><td><code id="get_table_+3A_try">try</code></td>
<td>
<p>logical: Should the main body of the function be wrapped by the function <code><a href="base.html#topic+try">try</a></code>? See details.</p>
</td></tr>
<tr><td><code id="get_table_+3A_timeout">timeout</code></td>
<td>
<p>positive numeric or <code>Inf</code>: The number of seconds to wait for a response from the NSO server. Can not be less than 1 ms or 0.001 s.</p>
</td></tr>
<tr><td><code id="get_table_+3A_start">start</code>, <code id="get_table_+3A_end">end</code></td>
<td>
<p>Starting and stopping moments of period which has following formats: &quot;YYYY&quot;, &quot;YYYYMM&quot;, &quot;YYYYMMDD&quot;, &quot;YYYYQQ&quot;. Notations YYYY, MM, DD and QQ, respectively, indicate year, month, day and quarter of a date. These are written as a number has a leading zero, if necessary.</p>
</td></tr>
<tr><td><code id="get_table_+3A_period">period</code></td>
<td>
<p>One of single characters &quot;Y&quot; (default), &quot;M&quot;, &quot;D&quot; and &quot;Q&quot; which represent periods yearly, monthly, daily and quarterly respectively. There is one more value &quot;F&quot; which is supported by the API. However it can not be used for such function due to there is not a fixed rule for this type of periods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The NSO server returns &quot;HTTP error 500&quot; frequently. Due to the server error, error handling is supported. if <code>try</code> is <code>TRUE</code>, you have to write code with error handling as shown in the example.
</p>


<h3>Value</h3>

<p>A data frame if the function is executed without error, but an object of class &quot;try-error&quot; containing the error message, if it fails. The data frame has following structure:
</p>

<dl>
<dt>TBL_ID</dt><dd><p>Row number</p>
</dd>
<dt>Period</dt><dd><p>Time</p>
</dd>
<dt>CODE</dt><dd><p>Classification code</p>
</dd>
<dt>SCR_MN</dt><dd><p>Classification name in Mongolian</p>
</dd>
<dt>SCR_ENG</dt><dd><p>Classification name in English</p>
</dd>
<dt>CODE1</dt><dd><p>Classification code</p>
</dd>
<dt>SCR_MN1</dt><dd><p>Classification name in Mongolian</p>
</dd>
<dt>SCR_ENG1</dt><dd><p>Classification name in English</p>
</dd>
<dt>CODE2</dt><dd><p>Classification code</p>
</dd>
<dt>SCR_MN2</dt><dd><p>Classification name in Mongolian</p>
</dd>
<dt>SCR_ENG2</dt><dd><p>Classification name in English</p>
</dd>
<dt>DTVAL_CO</dt><dd><p>Datum</p>
</dd>
</dl>

<p>a character vector which contains an API compatible period.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>make_period</code>: It is used to prepare values for the argument <code>PERIOD</code> of the function <a href="#topic+get_table">get_table</a>.
</p>
</li></ul>


<h3>References</h3>

<p><a href="http://opendata.1212.mn/en/doc/Api/POST-api-Data">http://opendata.1212.mn/en/doc/Api/POST-api-Data</a>
</p>


<h3>See Also</h3>

<p><a href="#topic+all_tables">all_tables</a>, <a href="#topic+get_table_info">get_table_info</a>, <a href="#topic+get_sector_info">get_sector_info</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>nso.data &lt;- get_table(
  tbl_id = "DT_NSO_2400_015V2",
  PERIOD = make_period(start = "201711", end = "202103", period = "M"),
  CODE = c("10", "11"),
  CODE1 = "11",
  try = TRUE,  # to prevent a server error
  timeout = 4
)
if (!inherits(nso.data, "try-error")) {
  print(nso.data)
}
</code></pre>

<hr>
<h2 id='get_table_info'>Detailed Information about a Database Table and Its Classification</h2><span id='topic+get_table_info'></span>

<h3>Description</h3>

<p>Detailed information about a database table and its classification on the open-data API which is supported by National Statistical Office of Mongolia (NSO)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_table_info(tbl_id, simplify = FALSE, try = FALSE, timeout = Inf)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_table_info_+3A_tbl_id">tbl_id</code></td>
<td>
<p>character string, Table identification number</p>
</td></tr>
<tr><td><code id="get_table_info_+3A_simplify">simplify</code></td>
<td>
<p>logical: Should the result be simplified to a vector and a data frame?</p>
</td></tr>
<tr><td><code id="get_table_info_+3A_try">try</code></td>
<td>
<p>logical: Should the body of the function be wrapped by the function <code><a href="base.html#topic+try">try</a></code>? See details.</p>
</td></tr>
<tr><td><code id="get_table_info_+3A_timeout">timeout</code></td>
<td>
<p>positive numeric or <code>Inf</code>: The number of seconds to wait for a response from the NSO server. Can not be less than 1 ms or 0.001 s.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The NSO server returns &quot;HTTP error 500&quot; frequently. Due to the server error, error handling is supported. if <code>try</code> is <code>TRUE</code>, you have to write code with error handling as shown in the example.
</p>


<h3>Value</h3>

<p>A list which contains information about database table and its classification if the function is executed without error, but an object of class &quot;try-error&quot; containing the error message, if it fails. The list has following structure:
</p>

<dl>
<dt>tbl_id</dt><dd><p>Table identification number</p>
</dd>
<dt>unit_id</dt><dd><p>Unit identification number</p>
</dd>
<dt>unit_nm</dt><dd><p>Unit name in Mongolia</p>
</dd>
<dt>unit_eng_nm</dt><dd><p>Unit name in English</p>
</dd>
<dt>obj</dt><dd><p>Table classification:
</p>

<dl>
<dt>obj_var_id</dt><dd><p>Variable identification</p>
</dd>
<dt>var_ord_sn</dt><dd><p>Variable identification number</p>
</dd>
<dt>field</dt><dd><p>Field name</p>
</dd>
<dt>scr_mn</dt><dd><p>Variable name in Mongolian</p>
</dd>
<dt>scr_eng</dt><dd><p>Variable identification</p>
</dd>
<dt>itm</dt><dd><p>Variable classification and code:
</p>

<dl>
<dt>itm_id</dt><dd><p>Classification number</p>
</dd>
<dt>up_itm_id</dt><dd><p>Sub-classification</p>
</dd>
<dt>scr_mn</dt><dd><p>Classification name in Mongolian</p>
</dd>
<dt>scr_eng</dt><dd><p>Classification name in English</p>
</dd>
</dl>

</dd>
</dl>

</dd>
</dl>

<p>if <code>simplify</code> is <code>TRUE</code>, an user-friendly result is returned.
</p>


<h3>References</h3>

<p><a href="http://opendata.1212.mn/en/doc/Api/GET-api-Itms-id">http://opendata.1212.mn/en/doc/Api/GET-api-Itms-id</a>
</p>


<h3>See Also</h3>

<p><a href="#topic+all_tables">all_tables</a>, <a href="#topic+get_table">get_table</a>, <a href="#topic+get_sector_info">get_sector_info</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># tree shaped result
table_info &lt;- get_table_info("DT_NSO_2400_015V2", try = TRUE,, timeout = 4)
if (!inherits(table_info, "try-error")) {
  str(table_info)
}
# tabular result
table_info_simplified &lt;- get_table_info(
  "DT_NSO_2400_015V2", simplify = TRUE, try = TRUE, timeout = 4)
if (!inherits(table_info_simplified, "try-error")) {
  str(table_info_simplified)
}
</code></pre>

<hr>
<h2 id='NSO1212'>National Statistical Office of Mongolia's Open Data API Handler</h2><span id='topic+NSO1212'></span>

<h3>Description</h3>

<p>National Statistical Office of Mongolia (NSO) is the national statistical service and an organization of Mongolian government. NSO provides open access and official data via its open-data API. The package NSO1212 has functions for accessing the API service. The functions are compatible with the API v2.0 and get data-sets or its detailed information from the API.
</p>


<h3>Author(s)</h3>

<p>Makhgal Ganbold, National University of Mongolia
</p>


<h3>References</h3>

<p><a href="http://opendata.1212.mn/en/doc">http://opendata.1212.mn/en/doc</a>
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package SAME</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {SAME}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#conduct.phase2'><p>Function to identify the most promising treatment-biomarker-linked subgroup</p></a></li>
<li><a href='#conduct.phase3'><p>Function to estimate the hazard ratios and other statistics of the selected</p>
subgroup</a></li>
<li><a href='#example.1'><p>A Time-to-event dataset containing the time and other attributes of 643 patients.</p></a></li>
<li><a href='#example.2'><p>A Time-to-event dataset containing the time and other attributes of 643 patients.</p></a></li>
<li><a href='#find.cutoffs'><p>Function to calibrate the cutoff points under null hypothesis</p></a></li>
<li><a href='#sim.trial'><p>Function to simulate Bayesian seamless multi-arm biomarker-enriched phase</p>
II/III designs</a></li>
<li><a href='#sim.trial.2'><p>Function to simulate Bayesian seamless multi-arm biomarker-enriched phase</p>
II/III designs with user-defined cutoff points</a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Seamless Adaptive Multi-Arm Multi-Stage Enrichment</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Chengxue Zhong &lt;czhong9106@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Design a Bayesian seamless multi-arm biomarker-enriched phase II/III 
             design with the survival endpoint with allowing sample size re-estimation.
             James M S Wason, Jean E Abraham, Richard D Baird, Ioannis Gournaris, Anne-Laure Vallier, James D Brenton, Helena M Earl, Adrian P Mander (2015) &lt;<a href="https://doi.org/10.1038%2Fbjc.2015.278">doi:10.1038/bjc.2015.278</a>&gt;.
             Guosheng Yin, Nan Chen, J. Jack Lee (2018) &lt;<a href="https://doi.org/10.1007%2Fs12561-017-9199-7">doi:10.1007/s12561-017-9199-7</a>&gt;.
             Ying Yuan, Beibei Guo, Mark Munsell, Karen Lu, Amir Jazaeri (2016) &lt;<a href="https://doi.org/10.1002%2Fsim.6971">doi:10.1002/sim.6971</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.1</td>
</tr>
<tr>
<td>Imports:</td>
<td>boot, rjags, coda, extraDistr, survival, ggplot2, expint</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, mockery, knitr, rmarkdown</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.3.0)</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-01-13 14:24:41 UTC; alexz</td>
</tr>
<tr>
<td>Author:</td>
<td>Chengxue Zhong [aut, cre],
  Haitao Pan [aut],
  Hongyu Miao [aut]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-01-16 10:10:08 UTC</td>
</tr>
</table>
<hr>
<h2 id='conduct.phase2'>Function to identify the most promising treatment-biomarker-linked subgroup</h2><span id='topic+conduct.phase2'></span>

<h3>Description</h3>

<p>This function is used to estimate the effect size of each subgroup and to
select the most promising subgroup.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>conduct.phase2(formula, surv, event, data)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="conduct.phase2_+3A_formula">formula</code></td>
<td>
<p>a formula object, with the combinations of treatment and
biomarker term, e.g., formula = &quot;T1:B1+T1:B2+T2:B1+T2:B2&quot;</p>
</td></tr>
<tr><td><code id="conduct.phase2_+3A_surv">surv</code></td>
<td>
<p>survival time</p>
</td></tr>
<tr><td><code id="conduct.phase2_+3A_event">event</code></td>
<td>
<p>the status indicator, 0=alive, 1=dead</p>
</td></tr>
<tr><td><code id="conduct.phase2_+3A_data">data</code></td>
<td>
<p>a data.frame in which to interpret the variables named in the formula</p>
</td></tr>
</table>


<h3>Value</h3>

<p>conduct.phase2() select the most effective subgroup and returns the
estimated hazard ratio.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>conduct.phase2(formula = "T1:B1+T1:B2+T2:B1+T2:B2", surv = "surv",
event = "death", data = "example.1")


</code></pre>

<hr>
<h2 id='conduct.phase3'>Function to estimate the hazard ratios and other statistics of the selected
subgroup</h2><span id='topic+conduct.phase3'></span>

<h3>Description</h3>

<p>This function is used to estimate the effect size of the selected
subgroup.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>conduct.phase3(data, eta, theta)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="conduct.phase3_+3A_data">data</code></td>
<td>
<p>a data.frame in which to interpret the variables named in the formula</p>
</td></tr>
<tr><td><code id="conduct.phase3_+3A_eta">eta</code></td>
<td>
<p>a cutoff probability for the strength of evidence for decision-making</p>
</td></tr>
<tr><td><code id="conduct.phase3_+3A_theta">theta</code></td>
<td>
<p>a clinically meaningful treatment effect size defined by clinicians</p>
</td></tr>
</table>


<h3>Value</h3>

<p>conduct.phase3()
</p>


<h3>Examples</h3>

<pre><code class='language-R'>conduct.phase3(example.2,eta=0.8, theta=0.95)


</code></pre>

<hr>
<h2 id='example.1'>A Time-to-event dataset containing the time and other attributes of 643 patients.</h2><span id='topic+example.1'></span>

<h3>Description</h3>

<p>A Time-to-event dataset containing the time and other attributes of 643 patients.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>example.1
</code></pre>


<h3>Format</h3>

<p>A data frame with 643 rows and 6 variables:
</p>

<dl>
<dt>T1</dt><dd><p>binary variable, receive treatment 1=1, not receive treatment 1=0</p>
</dd>
<dt>T2</dt><dd><p>binary variable, receive treatment 2=1, not receive treatment 2=0</p>
</dd>
<dt>B1</dt><dd><p>binary variable, biomarker 1 positive=1, biomarker 1 negative=0</p>
</dd>
<dt>B2</dt><dd><p>binary variable, biomarker 2 positive=1, biomarker 2 negative=0</p>
</dd>
<dt>death</dt><dd><p>the status indicator, alive=0, dead=1</p>
</dd>
<dt>surv</dt><dd><p>survival time or follow up time</p>
</dd>
</dl>
<p>...

</p>

<hr>
<h2 id='example.2'>A Time-to-event dataset containing the time and other attributes of 643 patients.</h2><span id='topic+example.2'></span>

<h3>Description</h3>

<p>A Time-to-event dataset containing the time and other attributes of 643 patients.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>example.2
</code></pre>


<h3>Format</h3>

<p>A data frame with 643 rows and 6 variables:
</p>

<dl>
<dt>T1</dt><dd><p>binary variable, receive treatment 1=1, not receive treatment 1=0</p>
</dd>
<dt>T2</dt><dd><p>binary variable, receive treatment 2=1, not receive treatment 2=0</p>
</dd>
<dt>B1</dt><dd><p>binary variable, biomarker 1 positive=1, biomarker 1 negative=0</p>
</dd>
<dt>B2</dt><dd><p>binary variable, biomarker 2 positive=1, biomarker 2 negative=0</p>
</dd>
<dt>death</dt><dd><p>the status indicator, alive=0, dead=1</p>
</dd>
<dt>surv</dt><dd><p>survival time or follow up time</p>
</dd>
<dt>survtime</dt><dd><p>survival time or follow up time</p>
</dd>
<dt>treatments</dt><dd><p>categorical vairable, indicating treatments received</p>
</dd>
</dl>
<p>...

</p>

<hr>
<h2 id='find.cutoffs'>Function to calibrate the cutoff points under null hypothesis</h2><span id='topic+find.cutoffs'></span>

<h3>Description</h3>

<p>This function is used to calibrate the cutoff points under null hypothesis
using a multi-arm multi-stage biomarker-enriched design with time-to-event
endpoints.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find.cutoffs(
  median.c,
  K,
  L,
  lfu,
  alpha,
  power,
  accrate,
  theta,
  bio.preva,
  FAtime.phase3,
  N.iter
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="find.cutoffs_+3A_median.c">median.c</code></td>
<td>
<p>The median survival time for control group</p>
</td></tr>
<tr><td><code id="find.cutoffs_+3A_k">K</code></td>
<td>
<p>Number of biomarkers</p>
</td></tr>
<tr><td><code id="find.cutoffs_+3A_l">L</code></td>
<td>
<p>Information fraction in terms of the accumulative events in
phase II stage, e.g., K = c(1/4,1/2,1)</p>
</td></tr>
<tr><td><code id="find.cutoffs_+3A_lfu">lfu</code></td>
<td>
<p>Follow-up time</p>
</td></tr>
<tr><td><code id="find.cutoffs_+3A_alpha">alpha</code></td>
<td>
<p>One-sided familywise error rate</p>
</td></tr>
<tr><td><code id="find.cutoffs_+3A_power">power</code></td>
<td>
<p>Power</p>
</td></tr>
<tr><td><code id="find.cutoffs_+3A_accrate">accrate</code></td>
<td>
<p>Accrual rate</p>
</td></tr>
<tr><td><code id="find.cutoffs_+3A_theta">theta</code></td>
<td>
<p>A clinically meaningful treatment effect size defined by clinicians</p>
</td></tr>
<tr><td><code id="find.cutoffs_+3A_bio.preva">bio.preva</code></td>
<td>
<p>Prevalence of biomarker(s)</p>
</td></tr>
<tr><td><code id="find.cutoffs_+3A_fatime.phase3">FAtime.phase3</code></td>
<td>
<p>the study ending time of phase III</p>
</td></tr>
<tr><td><code id="find.cutoffs_+3A_n.iter">N.iter</code></td>
<td>
<p>Number of iterations</p>
</td></tr>
</table>


<h3>Value</h3>

<p>find.cutoffs() returns the calibrated cutoff points that can control the
type I error rate.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
find.cutoffs(median.c=12,K=2,L=c(1/4,1/2,1),lfu=0,alpha=0.05,power=0.9,
             accrate=15,theta=log(1.25),bio.preva=c(0.4,0.6),FAtime.phase3=48,
             N.iter=3)
</code></pre>

<hr>
<h2 id='sim.trial'>Function to simulate Bayesian seamless multi-arm biomarker-enriched phase
II/III designs</h2><span id='topic+sim.trial'></span>

<h3>Description</h3>

<div class="sourceCode"><pre>This function finds the required number of events
using a multi-arm multi-stage biomarker-enriched design with time-to-event
endpoints.
</pre></div>


<h3>Usage</h3>

<pre><code class='language-R'>sim.trial(
  median.c,
  hr,
  K,
  L,
  lfu,
  alpha,
  power,
  accrate,
  theta,
  bio.preva,
  FAtime.phase3,
  N.iter
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sim.trial_+3A_median.c">median.c</code></td>
<td>
<p>The median survival time for control group</p>
</td></tr>
<tr><td><code id="sim.trial_+3A_hr">hr</code></td>
<td>
<p>Alternative hazard ratio</p>
</td></tr>
<tr><td><code id="sim.trial_+3A_k">K</code></td>
<td>
<p>Number of biomarkers</p>
</td></tr>
<tr><td><code id="sim.trial_+3A_l">L</code></td>
<td>
<p>Information fraction in terms of the accumulative events in phase II stage, e.g., K = c(1/4,1/2,1)</p>
</td></tr>
<tr><td><code id="sim.trial_+3A_lfu">lfu</code></td>
<td>
<p>Follow-up time</p>
</td></tr>
<tr><td><code id="sim.trial_+3A_alpha">alpha</code></td>
<td>
<p>One-sided familywise error rate</p>
</td></tr>
<tr><td><code id="sim.trial_+3A_power">power</code></td>
<td>
<p>Power</p>
</td></tr>
<tr><td><code id="sim.trial_+3A_accrate">accrate</code></td>
<td>
<p>Accrual rate</p>
</td></tr>
<tr><td><code id="sim.trial_+3A_theta">theta</code></td>
<td>
<p>A clinically meaningful treatment effect size defined by clinicians</p>
</td></tr>
<tr><td><code id="sim.trial_+3A_bio.preva">bio.preva</code></td>
<td>
<p>Prevalence of biomarker(s)</p>
</td></tr>
<tr><td><code id="sim.trial_+3A_fatime.phase3">FAtime.phase3</code></td>
<td>
<p>the study ending time of phase III</p>
</td></tr>
<tr><td><code id="sim.trial_+3A_n.iter">N.iter</code></td>
<td>
<p>Number of iterations</p>
</td></tr>
</table>


<h3>Value</h3>

<p>sim_trial() returns the nominal type I error rate and calibrated cutoff
points, nominal power under user-defined hypothesis, empirical power under
user-defined number of simulations, the duration of trial(time), the number
of events (num_evs), the number of patients (num_pts) from different stages.
The function can also display the number of events and patients under the
selected subgroup, the distribution of decision zones and the estimated hazard
ratio for the final analysis.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
sim.trial(median.c=12,hr=c(1,1,1,0.6),K=2,L=c(1/4,1/2,1),lfu=0,
          alpha=0.05,power=0.9,accrate=15,theta=log(1.25),
          bio.preva=c(0.4,0.6),FAtime.phase3=48,N.iter=5)


</code></pre>

<hr>
<h2 id='sim.trial.2'>Function to simulate Bayesian seamless multi-arm biomarker-enriched phase
II/III designs with user-defined cutoff points</h2><span id='topic+sim.trial.2'></span>

<h3>Description</h3>

<p>This function finds the required number of events using a multi-arm multi-stage
biomarker-enriched design with time-to-event endpoints with the user-defined
cutoff points.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sim.trial.2(
  median.c,
  hr,
  K,
  L,
  lfu,
  alpha,
  power,
  accrate,
  theta,
  bio.preva,
  FAtime.phase3,
  eta,
  futility,
  superiority,
  N.iter
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sim.trial.2_+3A_median.c">median.c</code></td>
<td>
<p>The median survival time for control group</p>
</td></tr>
<tr><td><code id="sim.trial.2_+3A_hr">hr</code></td>
<td>
<p>Alternative hazard ratio</p>
</td></tr>
<tr><td><code id="sim.trial.2_+3A_k">K</code></td>
<td>
<p>Number of biomarkers</p>
</td></tr>
<tr><td><code id="sim.trial.2_+3A_l">L</code></td>
<td>
<p>Information fraction in terms of the accumulative events in phase II stage, e.g., K = c(1/4,1/2,1)</p>
</td></tr>
<tr><td><code id="sim.trial.2_+3A_lfu">lfu</code></td>
<td>
<p>Follow-up time</p>
</td></tr>
<tr><td><code id="sim.trial.2_+3A_alpha">alpha</code></td>
<td>
<p>One-sided family-wise error rate</p>
</td></tr>
<tr><td><code id="sim.trial.2_+3A_power">power</code></td>
<td>
<p>Power</p>
</td></tr>
<tr><td><code id="sim.trial.2_+3A_accrate">accrate</code></td>
<td>
<p>Accrual rate</p>
</td></tr>
<tr><td><code id="sim.trial.2_+3A_theta">theta</code></td>
<td>
<p>A clinically meaningful treatment effect size defined by clinicians</p>
</td></tr>
<tr><td><code id="sim.trial.2_+3A_bio.preva">bio.preva</code></td>
<td>
<p>Prevalence of biomarker(s)</p>
</td></tr>
<tr><td><code id="sim.trial.2_+3A_fatime.phase3">FAtime.phase3</code></td>
<td>
<p>the study ending time of phase III</p>
</td></tr>
<tr><td><code id="sim.trial.2_+3A_eta">eta</code></td>
<td>
<p>A cutoff probability for the strength of evidence for decision-making
and defined by user.</p>
</td></tr>
<tr><td><code id="sim.trial.2_+3A_futility">futility</code></td>
<td>
<p>cutoff point for futility termination</p>
</td></tr>
<tr><td><code id="sim.trial.2_+3A_superiority">superiority</code></td>
<td>
<p>cutoff point for superiority termination</p>
</td></tr>
<tr><td><code id="sim.trial.2_+3A_n.iter">N.iter</code></td>
<td>
<p>Number of iterations</p>
</td></tr>
</table>


<h3>Value</h3>

<p>sim.trial.2() returns the nominal type I error rate,  nominal power under
user-defined hypothesis, empirical power under user-defined number of
simulations, the duration of trial(time), the number of events (num_evs),
the number of patients (num_pts) from different stages. The function can
also display the number of events and patients under the selected subgroup,
the distribution of decision zones and the estimated hazard ratio for the
final analysis.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
 sim.trial.2(median.c=12,hr=c(1,1,1,0.6),K=2,L=c(1/4,1/2,1),lfu=0,alpha=0.05,
             power=0.9,accrate=15,theta=log(1.25),bio.preva=c(0.4,0.6),
             FAtime.phase3=48,eta=0.2,futility=0.1,superiority=0.9,
             N.iter=3)
             
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

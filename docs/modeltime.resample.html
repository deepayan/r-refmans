<!DOCTYPE html><html><head><title>Help for package modeltime.resample</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {modeltime.resample}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#%&gt;%'><p>Pipe operator</p></a></li>
<li><a href='#get_target_text_from_resamples'><p>Gets the target variable as text from unnested resamples</p></a></li>
<li><a href='#m750_training_resamples_fitted'><p>Time Series Cross Validation Resample Predictions (Results) from the M750 Data (Training Set)</p></a></li>
<li><a href='#mdl_time_fit_resamples'><p>Modeltime Fit Resample Helpers</p></a></li>
<li><a href='#modeltime_fit_resamples'><p>Fits Models in a Modeltime Table to Resamples</p></a></li>
<li><a href='#modeltime_resample_accuracy'><p>Calculate Accuracy Metrics from Modeltime Resamples</p></a></li>
<li><a href='#plot_modeltime_resamples'><p>Interactive Resampling Accuracy Plots</p></a></li>
<li><a href='#tidyeval'><p>Tidy eval helpers</p></a></li>
<li><a href='#time_series_cv'><p>Time Series Resampling Sets and Plans</p></a></li>
<li><a href='#unnest_modeltime_resamples'><p>Unnests the Results of Modeltime Fit Resamples</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Resampling Tools for Time Series Forecasting</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.3</td>
</tr>
<tr>
<td>Description:</td>
<td>
    A 'modeltime' extension that implements forecast resampling tools
    that assess time-based model performance and stability for a single time series, 
    panel data, and cross-sectional time series analysis. </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/business-science/modeltime.resample">https://github.com/business-science/modeltime.resample</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/business-science/modeltime.resample/issues">https://github.com/business-science/modeltime.resample/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>modeltime (&ge; 0.3.0), R (&ge; 3.5)</td>
</tr>
<tr>
<td>Imports:</td>
<td>tune, rsample, workflows, parsnip (&ge; 0.1.4), recipes, dials,
yardstick, timetk (&ge; 2.5.0), tibble, dplyr, tidyr, purrr,
forcats, glue, stringr, ggplot2, plotly, cli, crayon, magrittr,
rlang (&ge; 0.1.2), progressr, tictoc, hardhat</td>
</tr>
<tr>
<td>Suggests:</td>
<td>roxygen2, testthat, tidymodels, tidyverse, tidyquant, glmnet,
lubridate, knitr, rmarkdown, covr, remotes</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-04-12 14:25:47 UTC; mdanc</td>
</tr>
<tr>
<td>Author:</td>
<td>Matt Dancho [aut, cre],
  Business Science [cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Matt Dancho &lt;mdancho@business-science.io&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-04-12 15:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>See <code>magrittr::<a href="magrittr.html#topic+pipe">%&gt;%</a></code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>

<hr>
<h2 id='get_target_text_from_resamples'>Gets the target variable as text from unnested resamples</h2><span id='topic+get_target_text_from_resamples'></span>

<h3>Description</h3>

<p>An internal function used by <code><a href="#topic+unnest_modeltime_resamples">unnest_modeltime_resamples()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_target_text_from_resamples(data, column_before_target = ".row")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_target_text_from_resamples_+3A_data">data</code></td>
<td>
<p>Unnested resample results</p>
</td></tr>
<tr><td><code id="get_target_text_from_resamples_+3A_column_before_target">column_before_target</code></td>
<td>
<p>The text column located before the target variable.
This is &quot;.row&quot;.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>
# The .resample_results column is deeply nested
m750_training_resamples_fitted

# Unnest and prepare the resample predictions for evaluation
unnest_modeltime_resamples(m750_training_resamples_fitted) %&gt;%
    get_target_text_from_resamples()

</code></pre>

<hr>
<h2 id='m750_training_resamples_fitted'>Time Series Cross Validation Resample Predictions (Results) from the M750 Data (Training Set)</h2><span id='topic+m750_training_resamples_fitted'></span>

<h3>Description</h3>

<p>Time Series Cross Validation Resample Predictions (Results) from the M750 Data (Training Set)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>m750_training_resamples_fitted
</code></pre>


<h3>Format</h3>

<p>A Modeltime Table that has been fitted to resamples with predictions in the <code>.resample_results</code> column
</p>


<h3>Details</h3>

<div class="sourceCode {r eval = FALSE}#'"><pre>m750_training_resamples_fitted &lt;- m750_models %&gt;%
    modeltime_fit_resamples(
        resamples = m750_training_resamples,
        control   = control_resamples(verbose = T)
    )
</pre></div>


<h3>See Also</h3>


<ul>
<li> <p><a href="modeltime.html#topic+m750_models">modeltime::m750_models</a>
</p>
</li>
<li> <p><a href="modeltime.html#topic+m750_training_resamples">modeltime::m750_training_resamples</a>
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>
m750_training_resamples_fitted



</code></pre>

<hr>
<h2 id='mdl_time_fit_resamples'>Modeltime Fit Resample Helpers</h2><span id='topic+mdl_time_fit_resamples'></span>

<h3>Description</h3>

<p>Used for low-level resample fitting of modeltime, parnsip and workflow models
These functions are not intended for user use.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mdl_time_fit_resamples(object, resamples, control = control_resamples())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mdl_time_fit_resamples_+3A_object">object</code></td>
<td>
<p>A Modeltime Table</p>
</td></tr>
<tr><td><code id="mdl_time_fit_resamples_+3A_resamples">resamples</code></td>
<td>
<p>An <code>rset</code> resample object.
Used to generate sub-model predictions for the meta-learner.
See <code><a href="timetk.html#topic+time_series_cv">timetk::time_series_cv()</a></code> or <code><a href="rsample.html#topic+vfold_cv">rsample::vfold_cv()</a></code> for making resamples.</p>
</td></tr>
<tr><td><code id="mdl_time_fit_resamples_+3A_control">control</code></td>
<td>
<p>A <code><a href="tune.html#topic+control_grid">tune::control_resamples()</a></code> object to provide
control over the resampling process.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with forecast features
</p>

<hr>
<h2 id='modeltime_fit_resamples'>Fits Models in a Modeltime Table to Resamples</h2><span id='topic+modeltime_fit_resamples'></span>

<h3>Description</h3>

<p>Resampled predictions are commonly used for:
</p>

<ol>
<li><p> Analyzing accuracy and stability of models
</p>
</li>
<li><p> As inputs to Ensemble methods (refer to the <code>modeltime.ensemble</code> package)
</p>
</li></ol>



<h3>Usage</h3>

<pre><code class='language-R'>modeltime_fit_resamples(object, resamples, control = control_resamples())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="modeltime_fit_resamples_+3A_object">object</code></td>
<td>
<p>A Modeltime Table</p>
</td></tr>
<tr><td><code id="modeltime_fit_resamples_+3A_resamples">resamples</code></td>
<td>
<p>An <code>rset</code> resample object.
Used to generate sub-model predictions for the meta-learner.
See <code><a href="timetk.html#topic+time_series_cv">timetk::time_series_cv()</a></code> or <code><a href="rsample.html#topic+vfold_cv">rsample::vfold_cv()</a></code> for making resamples.</p>
</td></tr>
<tr><td><code id="modeltime_fit_resamples_+3A_control">control</code></td>
<td>
<p>A <code><a href="tune.html#topic+control_grid">tune::control_resamples()</a></code> object to provide
control over the resampling process.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function is a wrapper for <code>tune::fit_resamples()</code> to iteratively train and predict models
contained in a Modeltime Table on resample objects.
One difference between <code>tune::fit_resamples()</code> and <code>modeltime_fit_resamples()</code>
is that predictions are always returned
(i.e. <code>control = tune::control_resamples(save_pred = TRUE)</code>). This is needed for
<code>ensemble_model_spec()</code>.
</p>
<p><strong>Resampled Prediction Accuracy</strong>
</p>
<p>Calculating Accuracy Metrics on models fit to resamples can help
to understand the model performance and stability under different
forecasting windows. See <code><a href="#topic+modeltime_resample_accuracy">modeltime_resample_accuracy()</a></code> for
getting resampled prediction accuracy for each model.
</p>
<p><strong>Ensembles</strong>
</p>
<p>Fitting and Predicting Resamples is useful in
creating Stacked Ensembles using <code>modeltime.ensemble::ensemble_model_spec()</code>.
The sub-model cross-validation predictions are used as the input to the meta-learner model.
</p>


<h3>Value</h3>

<p>A Modeltime Table (<code>mdl_time_tbl</code>) object with a column containing
resample results (<code>.resample_results</code>)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(tidymodels)
library(modeltime)
library(timetk)
library(tidyverse)

# Make resamples
resamples_tscv &lt;- training(m750_splits) %&gt;%
    time_series_cv(
        assess      = "2 years",
        initial     = "5 years",
        skip        = "2 years",
        # Normally we do more than one slice, but this speeds up the example
        slice_limit = 1
    )


# Fit and generate resample predictions
m750_models_resample &lt;- m750_models %&gt;%
    modeltime_fit_resamples(
        resamples = resamples_tscv,
        control   = control_resamples(verbose = TRUE)
    )

# A new data frame is created from the Modeltime Table
#  with a column labeled, '.resample_results'
m750_models_resample


</code></pre>

<hr>
<h2 id='modeltime_resample_accuracy'>Calculate Accuracy Metrics from Modeltime Resamples</h2><span id='topic+modeltime_resample_accuracy'></span>

<h3>Description</h3>

<p>This is a wrapper for <code>yardstick</code> that simplifies time
series regression accuracy metric calculations from
a Modeltime Table that has been resampled and fitted using
<code><a href="#topic+modeltime_fit_resamples">modeltime_fit_resamples()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>modeltime_resample_accuracy(
  object,
  summary_fns = mean,
  metric_set = default_forecast_accuracy_metric_set(),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="modeltime_resample_accuracy_+3A_object">object</code></td>
<td>
<p>a Modeltime Table with a column '.resample_results' (the output of <code><a href="#topic+modeltime_fit_resamples">modeltime_fit_resamples()</a></code>)</p>
</td></tr>
<tr><td><code id="modeltime_resample_accuracy_+3A_summary_fns">summary_fns</code></td>
<td>
<p>One or more functions to analyze resamples. The default is <code>mean()</code>.
Possible values are:
</p>

<ul>
<li><p> NULL, to returns the resamples untransformed.
</p>
</li>
<li><p> A function, e.g. mean.
</p>
</li>
<li><p> A purrr-style lambda, e.g. ~ mean(.x, na.rm = TRUE)
</p>
</li>
<li><p> A list of functions/lambdas, e.g. list(mean = mean, sd = sd)
</p>
</li></ul>
</td></tr>
<tr><td><code id="modeltime_resample_accuracy_+3A_metric_set">metric_set</code></td>
<td>
<p>A <code>yardstick::metric_set()</code> that is used to summarize one or more
forecast accuracy (regression) metrics.</p>
</td></tr>
<tr><td><code id="modeltime_resample_accuracy_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to the function calls in <code>summary_fns</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>#' <strong>Default Accuracy Metrics</strong>
</p>
<p>The following accuracy metrics are included by default via <code><a href="modeltime.html#topic+metric_sets">modeltime::default_forecast_accuracy_metric_set()</a></code>:
</p>

<ul>
<li><p> MAE - Mean absolute error, <code><a href="yardstick.html#topic+mae">yardstick::mae()</a></code>
</p>
</li>
<li><p> MAPE - Mean absolute percentage error, <code><a href="yardstick.html#topic+mape">yardstick::mape()</a></code>
</p>
</li>
<li><p> MASE  - Mean absolute scaled error, <code><a href="yardstick.html#topic+mase">yardstick::mase()</a></code>
</p>
</li>
<li><p> SMAPE - Symmetric mean absolute percentage error, <code><a href="yardstick.html#topic+smape">yardstick::smape()</a></code>
</p>
</li>
<li><p> RMSE  - Root mean squared error, <code><a href="yardstick.html#topic+rmse">yardstick::rmse()</a></code>
</p>
</li>
<li><p> RSQ   - R-squared, <code><a href="yardstick.html#topic+rsq">yardstick::rsq()</a></code>
</p>
</li></ul>

<p><strong>Summary Functions</strong>
</p>
<p>By default, <code>modeltime_resample_accuracy()</code> returns
the <em>average</em> accuracy metrics for each resample prediction.
</p>
<p>The user can change this default behavior using <code>summary_fns</code>.
Simply pass one or more Summary Functions. Internally, the functions are passed to
<code>dplyr::across(.fns)</code>, which applies the summary functions.
</p>
<p><strong>Returning Unsummarized Results</strong>
</p>
<p>You can pass <code>summary_fns = NULL</code> to return unsummarized results by <code>.resample_id</code>.
</p>
<p><strong>Professional Tables (Interactive &amp; Static)</strong>
</p>
<p>Use <code><a href="modeltime.html#topic+table_modeltime_accuracy">modeltime::table_modeltime_accuracy()</a></code> to format the results for reporting in
<code>reactable</code> (interactive) or <code>gt</code> (static) formats, which are perfect for
Shiny Apps (interactive) and PDF Reports (static).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(modeltime)

# Mean (Default)
m750_training_resamples_fitted %&gt;%
    modeltime_resample_accuracy() %&gt;%
    table_modeltime_accuracy(.interactive = FALSE)

# Mean and Standard Deviation
m750_training_resamples_fitted %&gt;%
    modeltime_resample_accuracy(
        summary_fns = list(mean = mean, sd = sd)
    ) %&gt;%
    table_modeltime_accuracy(.interactive = FALSE)

# When summary_fns = NULL, returns the unsummarized resample results
m750_training_resamples_fitted %&gt;%
    modeltime_resample_accuracy(
        summary_fns = NULL
    )

</code></pre>

<hr>
<h2 id='plot_modeltime_resamples'>Interactive Resampling Accuracy Plots</h2><span id='topic+plot_modeltime_resamples'></span>

<h3>Description</h3>

<p>A convenient plotting function for visualizing resampling accuracy by
resample set for each model in a Modeltime Table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_modeltime_resamples(
  .data,
  .metric_set = default_forecast_accuracy_metric_set(),
  .summary_fn = mean,
  ...,
  .facet_ncol = NULL,
  .facet_scales = "free_x",
  .point_show = TRUE,
  .point_size = 1,
  .point_shape = 16,
  .point_alpha = 1,
  .summary_line_show = TRUE,
  .summary_line_size = 0.5,
  .summary_line_type = 1,
  .summary_line_alpha = 1,
  .x_intercept = NULL,
  .x_intercept_color = "red",
  .x_intercept_size = 0.5,
  .legend_show = TRUE,
  .legend_max_width = 40,
  .title = "Resample Accuracy Plot",
  .x_lab = "",
  .y_lab = "",
  .color_lab = "Legend",
  .interactive = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_modeltime_resamples_+3A_.data">.data</code></td>
<td>
<p>A modeltime table that includes a column <code>.resample_results</code> containing
the resample results. See <code><a href="#topic+modeltime_fit_resamples">modeltime_fit_resamples()</a></code> for more information.</p>
</td></tr>
<tr><td><code id="plot_modeltime_resamples_+3A_.metric_set">.metric_set</code></td>
<td>
<p>A <code>yardstick::metric_set()</code> that is used to summarize
one or more forecast accuracy (regression) metrics.</p>
</td></tr>
<tr><td><code id="plot_modeltime_resamples_+3A_.summary_fn">.summary_fn</code></td>
<td>
<p>A single summary function that is applied to aggregate the
metrics across resample sets. Default: <code>mean</code>.</p>
</td></tr>
<tr><td><code id="plot_modeltime_resamples_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to the <code>.summary_fn</code>.</p>
</td></tr>
<tr><td><code id="plot_modeltime_resamples_+3A_.facet_ncol">.facet_ncol</code></td>
<td>
<p>Default: <code>NULL</code>. The number of facet columns.</p>
</td></tr>
<tr><td><code id="plot_modeltime_resamples_+3A_.facet_scales">.facet_scales</code></td>
<td>
<p>Default: <code>free_x</code>.</p>
</td></tr>
<tr><td><code id="plot_modeltime_resamples_+3A_.point_show">.point_show</code></td>
<td>
<p>Whether or not to show the individual points for each combination
of models and metrics. Default: <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="plot_modeltime_resamples_+3A_.point_size">.point_size</code></td>
<td>
<p>Controls the point size. Default: 1.</p>
</td></tr>
<tr><td><code id="plot_modeltime_resamples_+3A_.point_shape">.point_shape</code></td>
<td>
<p>Controls the point shape. Default: 16.</p>
</td></tr>
<tr><td><code id="plot_modeltime_resamples_+3A_.point_alpha">.point_alpha</code></td>
<td>
<p>Controls the opacity of the points. Default: 1 (full opacity).</p>
</td></tr>
<tr><td><code id="plot_modeltime_resamples_+3A_.summary_line_show">.summary_line_show</code></td>
<td>
<p>Whether or not to show the summary lines. Default: <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="plot_modeltime_resamples_+3A_.summary_line_size">.summary_line_size</code></td>
<td>
<p>Controls the summary line size. Default: 0.5.</p>
</td></tr>
<tr><td><code id="plot_modeltime_resamples_+3A_.summary_line_type">.summary_line_type</code></td>
<td>
<p>Controls the summary line type. Default: 1.</p>
</td></tr>
<tr><td><code id="plot_modeltime_resamples_+3A_.summary_line_alpha">.summary_line_alpha</code></td>
<td>
<p>Controls the summary line opacity. Default: 1 (full opacity).</p>
</td></tr>
<tr><td><code id="plot_modeltime_resamples_+3A_.x_intercept">.x_intercept</code></td>
<td>
<p>Numeric. Adds an x-intercept at a location (e.g. 0). Default: NULL.</p>
</td></tr>
<tr><td><code id="plot_modeltime_resamples_+3A_.x_intercept_color">.x_intercept_color</code></td>
<td>
<p>Controls the x-intercept color. Default: &quot;red&quot;.</p>
</td></tr>
<tr><td><code id="plot_modeltime_resamples_+3A_.x_intercept_size">.x_intercept_size</code></td>
<td>
<p>Controls the x-intercept size. Default: 0.5.</p>
</td></tr>
<tr><td><code id="plot_modeltime_resamples_+3A_.legend_show">.legend_show</code></td>
<td>
<p>Logical. Whether or not to show the legend.
Can save space with long model descriptions.</p>
</td></tr>
<tr><td><code id="plot_modeltime_resamples_+3A_.legend_max_width">.legend_max_width</code></td>
<td>
<p>Numeric. The width of truncation to apply to the legend text.</p>
</td></tr>
<tr><td><code id="plot_modeltime_resamples_+3A_.title">.title</code></td>
<td>
<p>Title for the plot</p>
</td></tr>
<tr><td><code id="plot_modeltime_resamples_+3A_.x_lab">.x_lab</code></td>
<td>
<p>X-axis label for the plot</p>
</td></tr>
<tr><td><code id="plot_modeltime_resamples_+3A_.y_lab">.y_lab</code></td>
<td>
<p>Y-axis label for the plot</p>
</td></tr>
<tr><td><code id="plot_modeltime_resamples_+3A_.color_lab">.color_lab</code></td>
<td>
<p>Legend label if a <code>color_var</code> is used.</p>
</td></tr>
<tr><td><code id="plot_modeltime_resamples_+3A_.interactive">.interactive</code></td>
<td>
<p>Returns either a static (<code>ggplot2</code>) visualization or an interactive (<code>plotly</code>) visualization</p>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>Default Accuracy Metrics</strong>
</p>
<p>The following accuracy metrics are included by default via <code><a href="modeltime.html#topic+metric_sets">modeltime::default_forecast_accuracy_metric_set()</a></code>:
</p>

<ul>
<li><p> MAE - Mean absolute error, <code><a href="yardstick.html#topic+mae">yardstick::mae()</a></code>
</p>
</li>
<li><p> MAPE - Mean absolute percentage error, <code><a href="yardstick.html#topic+mape">yardstick::mape()</a></code>
</p>
</li>
<li><p> MASE  - Mean absolute scaled error, <code><a href="yardstick.html#topic+mase">yardstick::mase()</a></code>
</p>
</li>
<li><p> SMAPE - Symmetric mean absolute percentage error, <code><a href="yardstick.html#topic+smape">yardstick::smape()</a></code>
</p>
</li>
<li><p> RMSE  - Root mean squared error, <code><a href="yardstick.html#topic+rmse">yardstick::rmse()</a></code>
</p>
</li>
<li><p> RSQ   - R-squared, <code><a href="yardstick.html#topic+rsq">yardstick::rsq()</a></code>
</p>
</li></ul>

<p><strong>Summary Function</strong>
</p>
<p>Users can supply a single summary function (e.g. <code>mean</code>) to summarize the
resample metrics by each model.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
m750_training_resamples_fitted %&gt;%
    plot_modeltime_resamples(
        .interactive = FALSE
    )


</code></pre>

<hr>
<h2 id='tidyeval'>Tidy eval helpers</h2><span id='topic+tidyeval'></span><span id='topic+expr'></span><span id='topic+enquo'></span><span id='topic+enquos'></span><span id='topic+sym'></span><span id='topic+syms'></span><span id='topic+.data'></span><span id='topic++3A+3D'></span><span id='topic+as_name'></span><span id='topic+as_label'></span>

<h3>Description</h3>


<ul>
<li> <p><code><a href="rlang.html#topic+sym">sym</a>()</code> creates a symbol from a string and
<code><a href="rlang.html#topic+sym">syms</a>()</code> creates a list of symbols from a
character vector.
</p>
</li>
<li> <p><code><a href="rlang.html#topic+nse-defuse">enquo</a>()</code> and
<code><a href="rlang.html#topic+nse-defuse">enquos</a>()</code> delay the execution of one or
several function arguments. <code>enquo()</code> returns a single quoted
expression, which is like a blueprint for the delayed computation.
<code>enquos()</code> returns a list of such quoted expressions.
</p>
</li>
<li> <p><code><a href="rlang.html#topic+nse-defuse">expr</a>()</code> quotes a new expression <em>locally</em>. It
is mostly useful to build new expressions around arguments
captured with <code><a href="#topic+enquo">enquo()</a></code> or <code><a href="#topic+enquos">enquos()</a></code>:
<code>expr(mean(!!enquo(arg), na.rm = TRUE))</code>.
</p>
</li>
<li> <p><code><a href="rlang.html#topic+as_name">as_name</a>()</code> transforms a quoted variable name
into a string. Supplying something else than a quoted variable
name is an error.
</p>
<p>That's unlike <code><a href="rlang.html#topic+as_label">as_label</a>()</code> which also returns
a single string but supports any kind of R object as input,
including quoted function calls and vectors. Its purpose is to
summarise that object into a single label. That label is often
suitable as a default name.
</p>
<p>If you don't know what a quoted expression contains (for instance
expressions captured with <code>enquo()</code> could be a variable
name, a call to a function, or an unquoted constant), then use
<code>as_label()</code>. If you know you have quoted a simple variable
name, or would like to enforce this, use <code>as_name()</code>.
</p>
</li></ul>

<p>To learn more about tidy eval and how to use these tools, visit the
<a href="https://adv-r.hadley.nz/metaprogramming.html">Metaprogramming
section</a> of <a href="https://adv-r.hadley.nz">Advanced R</a>.
</p>

<hr>
<h2 id='time_series_cv'>Time Series Resampling Sets and Plans</h2><span id='topic+time_series_cv'></span><span id='topic+time_series_split'></span><span id='topic+plot_time_series_cv_plan'></span><span id='topic+tk_time_series_cv_plan'></span>

<h3>Description</h3>

<p>These resampling tools are exported from the <code>timetk</code> package.
</p>

<ul>
<li> <p><code><a href="timetk.html#topic+time_series_cv">timetk::time_series_cv()</a></code>: Creates resample sets using time series cross validation
</p>
</li>
<li> <p><code><a href="timetk.html#topic+time_series_split">timetk::time_series_split()</a></code>: Makes an initial time series split
</p>
</li>
<li> <p><code><a href="timetk.html#topic+plot_time_series_cv_plan">timetk::plot_time_series_cv_plan()</a></code>: Plots a cross validation plan
</p>
</li>
<li> <p><code><a href="timetk.html#topic+tk_time_series_cv_plan">timetk::tk_time_series_cv_plan()</a></code>: Unnests a cross validation plan
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>
# Generate Time Series Resamples
resamples_tscv &lt;- time_series_cv(
    data        = m750,
    assess      = "2 years",
    initial     = "5 years",
    skip        = "2 years",
    slice_limit = 4
)

resamples_tscv

# Visualize the Resample Sets
resamples_tscv %&gt;%
    tk_time_series_cv_plan() %&gt;%
    plot_time_series_cv_plan(
        date, value,
        .facet_ncol  = 2,
        .interactive = FALSE
    )

</code></pre>

<hr>
<h2 id='unnest_modeltime_resamples'>Unnests the Results of Modeltime Fit Resamples</h2><span id='topic+unnest_modeltime_resamples'></span>

<h3>Description</h3>

<p>An internal function used by <code><a href="#topic+modeltime_resample_accuracy">modeltime_resample_accuracy()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>unnest_modeltime_resamples(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="unnest_modeltime_resamples_+3A_object">object</code></td>
<td>
<p>A Modeltime Table that has a column '.resample_results'</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The following data columns are unnested and prepared for evaluation:
</p>

<ul>
<li> <p><code>.row_id</code> - A unique identifier to compare observations.
</p>
</li>
<li> <p><code>.resample_id</code> - A unique identifier given to the resample iteration.
</p>
</li>
<li> <p><code>.model_id</code> and <code>.model_desc</code> - Modeltime Model ID and Description
</p>
</li>
<li> <p><code>.pred</code> - The Resample Prediction Value
</p>
</li>
<li> <p><code>.row</code> - The actual row value from the original dataset
</p>
</li>
<li> <p><em>Actual Value Column</em> - The name changes to target variable name in dataset
</p>
</li></ul>



<h3>Value</h3>

<p>Tibble with columns for '.row_id', '.resample_id', '.model_id', '.model_desc', '.pred',
'.row', and actual value name from the data set
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# The .resample_results column is deeply nested
m750_training_resamples_fitted

# Unnest and prepare the resample predictions for evaluation
unnest_modeltime_resamples(m750_training_resamples_fitted)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

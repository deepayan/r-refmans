<!DOCTYPE html><html><head><title>Help for package txtplot</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {txtplot}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#txtboxplot'>
<p>Text based boxplot</p></a></li>
<li><a href='#txtimage'><p>Display a Text Image of a Matrix</p></a></li>
<li><a href='#txtplot'>
<p>Ascii graphics</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Text Based Plots</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0-4</td>
</tr>
<tr>
<td>Date:</td>
<td>2020-04-04</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides functions to produce rudimentary ascii graphics
        directly in the terminal window. Provides a basic plotting
        function (and equivalents of curve, density, acf and barplot)
        as well as boxplot and image functions.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/LGPL-2">LGPL-2</a> | <a href="https://www.r-project.org/Licenses/LGPL-2.1">LGPL-2.1</a> | <a href="https://www.r-project.org/Licenses/LGPL-3">LGPL-3</a> [expanded from: LGPL]</td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-04-04 10:20:09 UTC; bjoern</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-04-05 05:00:02 UTC</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Author:</td>
<td>Bjoern Bornkamp [aut, cre],
  Ivan Krylov [ctb] (txtimage)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Bjoern Bornkamp &lt;bbnkmp@mail.de&gt;</td>
</tr>
</table>
<hr>
<h2 id='txtboxplot'>
Text based boxplot
</h2><span id='topic+txtboxplot'></span><span id='topic+boxcore'></span>

<h3>Description</h3>

<p>Produces rudimentary ascii boxplots. The boxplot statistics are produced
using the <code>boxplot.stats</code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>txtboxplot(..., range = 1.5, legend = NULL, xlab = NULL,
           width = round(options()$width * 0.8))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="txtboxplot_+3A_...">...</code></td>
<td>

<p>Numeric vectors for which a boxplot should be produced
</p>
</td></tr>
<tr><td><code id="txtboxplot_+3A_range">range</code></td>
<td>

<p>This determines how far the plot whiskers extend out from the
box. See <code><a href="grDevices.html#topic+boxplot.stats">boxplot.stats</a></code> and the <code>coef</code> function
for details.
</p>
</td></tr>
<tr><td><code id="txtboxplot_+3A_legend">legend</code></td>
<td>

<p>Logical determining whether a legend should be drawn.  If
<code>legend</code> is NULL there will be a legend drawn in case there is
more than one boxplot.
</p>
</td></tr>
<tr><td><code id="txtboxplot_+3A_xlab">xlab</code></td>
<td>

<p>label for x-axis of boxplot, if NULL no x-label will be plotted
</p>
</td></tr>
<tr><td><code id="txtboxplot_+3A_width">width</code></td>
<td>

<p>Width of the plot
</p>
</td></tr>
</table>


<h3>Note</h3>

<p>Due to rounding to a relatively crude grid results can only be
approximate. E.g. the equally spaced axis ticks may be non-equally
spaced in the plot.
</p>


<h3>Author(s)</h3>

<p>Bjoern Bornkamp
</p>


<h3>See Also</h3>

<p><code><a href="#topic+txtplot">txtplot</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  rand1 &lt;- rnorm(100, 1, 2)
  rand2 &lt;- rnorm(50, 2, 2)
  rand3 &lt;- rnorm(50, 2, 5)
  txtboxplot(rand1)
  txtboxplot(rand1, rand2, rand3)
</code></pre>

<hr>
<h2 id='txtimage'>Display a Text Image of a Matrix</h2><span id='topic+txtimage'></span>

<h3>Description</h3>

<p>Print a rudimentary image of a matrix on the R console using a
user-supplied alphabet as a palette of sorts.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>txtimage(z, width, height, yaxis = c('up', 'down'), transpose = TRUE,
         legend = TRUE, na.char = ' ', alphabet = 0:9, Lanczos = 3)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="txtimage_+3A_z">z</code></td>
<td>

<p>Numeric matrix containing values to be plotted.  <code>NA</code> and
<code>NaN</code> are allowed, but infinities, being impossible to scale,
cause an error.
</p>
</td></tr>
<tr><td><code id="txtimage_+3A_width">width</code></td>
<td>

<p>Desired width in characters.  Defaults to full screen (by means of
<code>getOption('width')</code>) or number of columns (rows if transposed)
in <code>z</code>, whichever is less.   Asking for more characters than
there is in the supplied matrix results in an error.
</p>
</td></tr>
<tr><td><code id="txtimage_+3A_height">height</code></td>
<td>

<p>Desired height in characters.  Defaults to <code class="reqn">25/80</code> of <code>width</code>
or number of rows (columns if transposed) in <code>z</code>, whichever
is less.  Asking for more characters than there is in the supplied
matrix results in an error.
</p>
</td></tr>
<tr><td><code id="txtimage_+3A_yaxis">yaxis</code></td>
<td>

<p>Direction of the Y axis, <code>"up"</code> or <code>"down"</code>.  Defaults to
'up' like in <code>image</code>.
</p>
</td></tr>
<tr><td><code id="txtimage_+3A_transpose">transpose</code></td>
<td>

<p>Whether to arrange rows by the X axis, like <code>image</code>
does.  Defaults to <code>TRUE</code>.
</p>
</td></tr>
<tr><td><code id="txtimage_+3A_legend">legend</code></td>
<td>

<p>Whether to print the legend under the plot.  If set, the returned
object will have the <code>'cuts'</code> and <code>'alphabet'</code> attributes
set containing the values separating the intervals and characters
used for the intervals, respectively.
</p>
</td></tr>
<tr><td><code id="txtimage_+3A_na.char">na.char</code></td>
<td>

<p>Character to substitute for values satisfying <code>is.na</code>.  A warning
is produced if <code>na.char</code> is found in the <code>alphabet</code> in
presence of <code>NA</code> in <code>z</code>.
</p>
</td></tr>
<tr><td><code id="txtimage_+3A_alphabet">alphabet</code></td>
<td>

<p>Symbols to compose the plot of, linear scale.  Either a single
multi-character string or a vector of single-character strings.
Defaults to <code>0:9</code>.
</p>
</td></tr>
<tr><td><code id="txtimage_+3A_lanczos">Lanczos</code></td>
<td>

<p>Positive integer defining the size of the Lanczos filter kernel.
Given a value of <code class="reqn">a</code>, the windowed sinc kernel will have
<code class="reqn">2a-1</code> lobes.  Increasing the value may lead to better frequency
response, but cause worse performance and wider undefined zones when
the input contains <code>NA</code>s.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>By default, <code>txtimage</code> mimics the behaviour of <code>image</code>,
drawing the rows of the matrix along the X axis and making the Y axis
grow from bottom to the top of the plot.  The function can be made to
mimic matrix <code>print</code> instead (rows arranged vertically from top to
bottom) by specifying <code>yaxis</code> and <code>image.transpose</code> arguments.
</p>
<p>If requested <code>width</code> or <code>height</code> is different from dimensions
of the matrix, it is resampled using the Lanczos filter for a given
downsampling ratio <code class="reqn">r</code> and window parameter <code class="reqn">a</code>:
</p>
<p style="text-align: center;"><code class="reqn">%
    L(x) = \mathrm{sinc}(x) \, \mathrm{sinc}(x/a) \, | x | &lt; a
  </code>
</p>

<p style="text-align: center;"><code class="reqn">%
    S_{ij} = \sum_{k, l} s_{kl} %
      L \left( i - \frac{k}{r} \right) %
      L \left( j - \frac{l}{r} \right)
  </code>
</p>

<p>When resampling, the rows and columns are assumed to correspond to a
uniform linear grid.
</p>


<h3>Value</h3>

<p>The function is called for its side effect of printing the textual
plot on the R console using <code>cat</code>, but it also invisibly returns
the resulting character matrix.  If <code>legend</code> is <code>TRUE</code>, the
<code>'cuts'</code> attribute contains the values separating the intervals
used for characters in the <code>alphabet</code> (the copy of which is stored
in the <code>'alphabet'</code> attribute).
</p>


<h3>Note</h3>

<p>Resampling constant signals may produce rounding errors that get greatly
amplified after scaling them to <code>diff(range(z))</code>.  For constant
signals this is compensated by not allowing the resampling process to
increase the range of the signal, but if the range of the matrix values
is already really small (comparable to <code>.Machine$double.eps</code>,
but not zero), the result of resampling process may not make sense.
</p>
<p>Resampling high frequency signals (e.g.
<code>outer(1:200, 1:200, function(x,y) cos(x*y))</code>) might give
hard-to-interpret results.
</p>


<h3>Author(s)</h3>

<p>Ivan Krylov
</p>


<h3>References</h3>

<p>Szeliski, R. (2010) <em>Computer Vision: Algorithms and Applications.</em>
Section 3.5.2: Decimation.
</p>


<h3>See Also</h3>

<p><code>symnum</code>, <code>image</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  txtimage(datasets::volcano)
  ## Not run: 
  ## try this if your terminal supports shade/block characters
  txtimage(datasets::volcano, alphabet = " \u2591\u2592\u2593\u2588")
  
## End(Not run)
</code></pre>

<hr>
<h2 id='txtplot'>
Ascii graphics
</h2><span id='topic+txtplot'></span><span id='topic+txtdensity'></span><span id='topic+txtcurve'></span><span id='topic+txtacf'></span><span id='topic+txtbarchart'></span><span id='topic+getRng'></span><span id='topic+getTicks'></span><span id='topic+insEOL'></span><span id='topic+drawLegend'></span><span id='topic+checkNA'></span>

<h3>Description</h3>

<p>Provides a function to produce rudimentary ascii graphics
directly in the terminal window. 
</p>
<p><code>txtplot</code> provides the basic plotting function of two numeric
vectors. All other functions below are based on this.<br />
<code>txtcurve</code> is a text based equivalent of the <code>curve</code> function<br />
<code>txtdensity</code> is a text based density estimation function based on the
<code>density</code> function<br />
<code>txtacf</code> is a text based equivalent of the <code>acf</code> function
and based on the <code>acf</code> function.<br />
<code>txtbarchart</code> is a text based barplot and plots the
relative frequences of the occurences of the different levels of a
factor (in percent)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>txtplot(x, y = NULL, pch = "*", width = round(options()$width*0.8),
        height = round(0.25*width), xlab = NULL, ylab = NULL,
        xlim = NULL, ylim = NULL)

txtcurve(expr, from = NULL, to = NULL, n = 101,
         pch = "*", width = round(options()$width*0.8),
         height = round(0.25*width), xlab = NULL, ylab = NULL)

txtdensity(x, pch = "*", width = round(options()$width*0.8),
        height = round(0.25*width), xlab = NULL, ylab = NULL)

txtacf(x, pch = "*", lag.max = 20, type = c("correlation", "covariance", "partial"),
       na.action = na.fail, demean = TRUE, width = round(options()$width*0.8),
       height = round(0.25*width), xlab = NULL, ylab = NULL)

txtbarchart(x, pch = "*", width = round(options()$width*0.8),
            height = round(0.25*width), ylab = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="txtplot_+3A_x">x</code></td>
<td>

<p>numeric containing the x-values to plot (for <code>txtbarchart</code> this
needs to be of class factor). NA, NaN are removed for
plotting. Infinities cause an error
</p>
</td></tr>
<tr><td><code id="txtplot_+3A_y">y</code></td>
<td>

<p>numeric containing the x-values to plot (needs to be of the same
length as x). If NULL the numeric <code>x</code> is plotted against
<code>1:length(x)</code>. NA, NaN are removed for plotting. Infinities
cause an error
</p>
</td></tr>
<tr><td><code id="txtplot_+3A_pch">pch</code></td>
<td>

<p>Plotting symbol
</p>
</td></tr>
<tr><td><code id="txtplot_+3A_width">width</code>, <code id="txtplot_+3A_height">height</code></td>
<td>

<p>Width and height of the plots in points
</p>
</td></tr>
<tr><td><code id="txtplot_+3A_xlab">xlab</code>, <code id="txtplot_+3A_ylab">ylab</code></td>
<td>

<p>labels for x and y axis
</p>
</td></tr>
<tr><td><code id="txtplot_+3A_xlim">xlim</code>, <code id="txtplot_+3A_ylim">ylim</code></td>
<td>

<p>limits for x and y axis in plot, if equal to NULL automatically
determined from x and y.
</p>
</td></tr>
<tr><td><code id="txtplot_+3A_expr">expr</code></td>
<td>

<p>An expression to plot (containing x)
</p>
</td></tr>
<tr><td><code id="txtplot_+3A_from">from</code>, <code id="txtplot_+3A_to">to</code></td>
<td>

<p>Defines boundaries of plotting region for expr in txtcurve
</p>
</td></tr>
<tr><td><code id="txtplot_+3A_n">n</code></td>
<td>

<p>integer specifying the number of x values between from and to
</p>
</td></tr>
<tr><td><code id="txtplot_+3A_lag.max">lag.max</code>, <code id="txtplot_+3A_type">type</code>, <code id="txtplot_+3A_na.action">na.action</code>, <code id="txtplot_+3A_demean">demean</code></td>
<td>

<p>arguments for call of <code>acf</code> function, see ?acf for details
</p>
</td></tr>
</table>


<h3>Note</h3>

<p>Due to rounding to a relatively crude grid results can only be
approximate! The equally spaced axis ticks, for example, may be
non-equally spaced in the plot.
</p>
<p>Due to the crude grid also there might be several points per pixel.
The function uses the same plotting symbol no matter how many points
coincide on one pixel 
</p>


<h3>Author(s)</h3>

<p>Bjoern Bornkamp
</p>


<h3>See Also</h3>

<p><code><a href="#topic+txtboxplot">txtboxplot</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  ## basic plotting function
  require(stats)
  txtplot(cars[,1], cars[,2])
  ## can include axis labels when desired
  txtplot(cars[,1], cars[,2], xlab = "speed", ylab = "distance")

  ## text based density plot
  txtdensity(rnorm(500))

  ## text based plotting of functions
  txtcurve(x/(x+1), 0, 4, xlab = "Emax model")

  ## text based acf
  txtacf(rnorm(100))

  ## text based barchart
  x &lt;- factor(c("orange", "orange", "red", "green", "green", "red",
               "yellow", "purple", "purple", "orange"))
  txtbarchart(x)

  ## text based boxplots
  rand1 &lt;- rnorm(100, 1, 2)
  rand2 &lt;- rnorm(50, 2, 2)
  rand3 &lt;- rnorm(50, 2, 5)
  txtboxplot(rand1)
  txtboxplot(rand1, rand2, rand3)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

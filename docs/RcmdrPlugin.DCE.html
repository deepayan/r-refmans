<!DOCTYPE html><html><head><title>Help for package RcmdrPlugin.DCE</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {RcmdrPlugin.DCE}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#RcmdrPlugin.DCE-package'><p>R Commander Plug-in for Discrete Choice Experiments</p></a></li>
<li><a href='#dceDataset'><p>Create Data Set for DCE Analysis</p></a></li>
<li><a href='#dceDesign'><p>Design Choice Sets for DCE</p></a></li>
<li><a href='#dceInteractions'><p>Create Interactions between Attributes/Levels and Covariates</p></a></li>
<li><a href='#dceModel'><p>Fit Model to DCE Data</p></a></li>
<li><a href='#dceMwtp'><p>Calculate Marginal Willingness to Pay</p></a></li>
<li><a href='#dceQuestions'><p>Display DCE Questions</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>R Commander Plug-in for Discrete Choice Experiments</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2-3</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-05-21</td>
</tr>
<tr>
<td>Author:</td>
<td>Hideo Aizaki</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Hideo Aizaki &lt;azk-r@spa.nifty.com&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>support.CEs (&ge; 0.7-0), survival</td>
</tr>
<tr>
<td>Imports:</td>
<td>Rcmdr</td>
</tr>
<tr>
<td>Description:</td>
<td>Adds menu items for discrete choice experiments (DCEs) to the R Commander. DCE is a question-based survey method that designs various combinations (profiles) of attribute levels using the experimental designs, asks respondents to select the most preferred profile in each choice set, and then measures preferences for the attribute levels by analyzing the responses. For details on DCEs, refer to Louviere et al. (2000) &lt;<a href="https://doi.org/10.1017%2FCBO9780511753831">doi:10.1017/CBO9780511753831</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://sites.google.com/view/r4sp/rcmdrplugin">https://sites.google.com/view/r4sp/rcmdrplugin</a></td>
</tr>
<tr>
<td>RcmdrModels:</td>
<td>clogit</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-05-21 08:07:15 UTC; rpkgdev</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-05-21 08:30:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='RcmdrPlugin.DCE-package'>R Commander Plug-in for Discrete Choice Experiments</h2><span id='topic+RcmdrPlugin.DCE-package'></span><span id='topic+RcmdrPlugin.DCE'></span><span id='topic+dceLoad'></span>

<h3>Description</h3>

<p>This package adds menu items for discrete choice experiments (DCEs) 
to the R Commander. DCE is a question-based survey method that 
designs various combinations (profiles) of attribute levels 
using the experimental designs, asks respondents to select 
the most preferred profile in each choice set, and then measures
preferences for the attribute levels by analyzing the responses. 
For details on DCEs, refer to Louviere et al. (2000). 
</p>


<h3>Details</h3>

<p>This package is an R Commander plug-in package for DCEs. 
It depends on <span class="pkg"><a href="support.CEs.html#topic+support.CEs">support.CEs</a></span> (Aizaki 2012), 
<span class="pkg">survival</span> (Therneau 2020; Therneau and Grambsch 2000), and 
<span class="pkg"><a href="Rcmdr.html#topic+Rcmdr">Rcmdr</a></span> (Fox 2005, 2017; Fox and Bouchet-Valat 2020). 
Refer to Aizaki (2012), Aizaki et al. (2014), and 
&lsquo;Non-Market Valuation with R&rsquo; &lt;<a href="http://lab.agr.hokudai.ac.jp/nmvr/">http://lab.agr.hokudai.ac.jp/nmvr/</a>&gt; 
for a brief introduction to DCEs in R.
A manual for this package is available at &lt;<a href="https://sites.google.com/view/r4sp/rcmdrplugin">https://sites.google.com/view/r4sp/rcmdrplugin</a>&gt;.
</p>
<p>After successfully installing and loading <span class="pkg">RcmdrPlugin.DCE</span>, 
the R Commander window will appear, and then you will find &lsquo;<code>DCE</code>&rsquo; 
added to the top-level menus in the R Commander window.
</p>
<p>Selecting &lsquo;<code>DCE</code>&rsquo; displays menu items. When selecting a menu item, 
the corresponding dialog box opens. The following dialog boxes are 
provided by <span class="pkg">RcmdrPlugin.DCE</span>:
</p>

<ul>
<li><p> The dialog box for &lsquo;<code>Design choice sets...</code>&rsquo; designs 
choice sets for DCE with the rotation design method or mix-and-match method 
using the function <code><a href="support.CEs.html#topic+rotation.design">rotation.design</a></code> 
in <span class="pkg"><a href="support.CEs.html#topic+support.CEs">support.CEs</a></span>.
</p>
</li>
<li><p> The dialog box for &lsquo;<code>Display questions...</code>&rsquo; 
shows DCE questions from the choice sets designed in the first dialog box 
using the function <code><a href="support.CEs.html#topic+questionnaire">questionnaire</a></code> in 
<span class="pkg"><a href="support.CEs.html#topic+support.CEs">support.CEs</a></span>.
</p>
</li>
<li><p> The dialog box for &lsquo;<code>Create data set for analysis...</code>&rsquo; 
creates a data set for DCE analysis from the choice sets designed in the first 
dialog box and a data set containing responses to DCE questions using 
the function <code><a href="support.CEs.html#topic+ce.dataset">ce.dataset</a></code> 
in <span class="pkg"><a href="support.CEs.html#topic+support.CEs">support.CEs</a></span>. The menu item is activated if a data frame is 
selected as the active data set.
</p>
</li>
<li><p> The dialog box for &lsquo;<code>Create interactions...</code>&rsquo; creates 
interactions between attribute/level variables and covariates 
in the data set for DCE analysis. The menu item is activated 
if the data set for DCE analysis created in the previous dialog box is selected as 
the active data set.
</p>
</li>
<li><p> The dialog box for &lsquo;<code>Fit model...</code>&rsquo; implements 
a conditional logit model analysis of the data set for analysis using 
the functions <code><a href="survival.html#topic+clogit">clogit</a></code> in <span class="pkg">survival</span> and 
<code><a href="support.CEs.html#topic+gofm">gofm</a></code> in <span class="pkg"><a href="support.CEs.html#topic+support.CEs">support.CEs</a></span>. 
The menu item is activated if the data set for DCE analysis created in 
the previous dialog box is selected as the active data set.
</p>
</li>
<li><p> The dialog box for &lsquo;<code>Calculate MWTP...</code>&rsquo; 
calculates marginal willingness to pays (MWTPs) of nonmonetary variables 
from the model fitted in the previous dialog box using the function 
<code><a href="support.CEs.html#topic+mwtp">mwtp</a></code> in <span class="pkg"><a href="support.CEs.html#topic+support.CEs">support.CEs</a></span>. The menu item 
is activated if the fitted model is selected as the active model.
</p>
</li>
<li><p> The dialog box for &lsquo;<code>Load saved objects...</code>&rsquo; loads 
an R Data file saved in the dialog box for 
&lsquo;<code>Design choice sets...</code>&rsquo; or 
&lsquo;<code>Create data set for analysis...</code>&rsquo;
using the function <code><a href="base.html#topic+load">load</a></code> in <span class="pkg"><a href="base.html#topic+base">base</a></span>. 
</p>
</li></ul>



<h3>Acknowledgments</h3>

<p>This work was supported by JSPS KAKENHI Grant Number JP20K06251.
</p>


<h3>Author(s)</h3>

<p>Hideo Aizaki
</p>


<h3>References</h3>

<p>Aizaki H (2012) Basic Functions for Supporting an Implementation of Choice Experiments in R.
<em>Journal of Statistical Software</em>, 50(C2): 1&ndash;24.
<a href="https://www.jstatsoft.org/article/view/v050c02">https://www.jstatsoft.org/article/view/v050c02</a>.
</p>
<p>Aizaki H (2021) support.CEs: Basic Functions for Supporting an Implementation of Choice Experiments.
R package version 0.5-0. 
<a href="https://CRAN.R-project.org/package=support.CEs">https://CRAN.R-project.org/package=support.CEs</a>.
</p>
<p>Aizaki H, Nakatani T, Sato K (2014) 
<em>Stated Preference Methods Using R</em>. 
Chapman and Hall/CRC. 
</p>
<p>Fox J (2005) The R Commander: A Basic Statistics Graphical User Interface to R. 
<em>Journal of Statistical Software</em>, 14(9): 1&ndash;42. 
<a href="https://www.jstatsoft.org/article/view/v014i09">https://www.jstatsoft.org/article/view/v014i09</a>.
</p>
<p>Fox J (2017) <em>Using the R Commander: A Point-and-Click Interface for R</em>.
Chapman and Hall/CRC. 
<a href="https://socialsciences.mcmaster.ca/jfox/Books/RCommander/">https://socialsciences.mcmaster.ca/jfox/Books/RCommander/</a>
</p>
<p>Fox J, Bouchet-Valat M (2020) Rcmdr: R Commander.
R package version 2.7-1.
<a href="https://socialsciences.mcmaster.ca/jfox/Misc/Rcmdr/">https://socialsciences.mcmaster.ca/jfox/Misc/Rcmdr/</a>.
</p>
<p>Louviere JJ, Hensher DA, Swait JD (2000) <em>Stated Choice Methods: Analysis and Application</em>.
Cambridge University Press.
</p>
<p>Therneau T (2020) survival: Survival Analysis.
R package version 3.2-7.
<a href="https://CRAN.R-project.org/package=survival">https://CRAN.R-project.org/package=survival</a>.
</p>
<p>Therneau TM, Grambsch PM (2000) <em>Modeling Survival Data: Extending the Cox Model</em>.
Springer.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if(interactive()) {
  library(RcmdrPlugin.DCE)
}
</code></pre>

<hr>
<h2 id='dceDataset'>Create Data Set for DCE Analysis</h2><span id='topic+dceDataset'></span><span id='topic+dceDataP'></span>

<h3>Description</h3>

<p>Create a data set for analysis from choice sets for DCEs and data set
containing responses to DCE questions.
</p>


<h3>Details</h3>

<p>This dialog box uses the function <code><a href="support.CEs.html#topic+ce.dataset">ce.dataset</a></code> 
in <span class="pkg">support.CEs</span> to create a data set for DCE analysis from the choice 
sets designed in the &lsquo;<code>Design Choice Sets for DCE</code>&rsquo; dialog box
and a data set containing responses to DCE questions.
This dialog box is activated if a data frame is selected as the active 
data set. 
For details on the results of this dialog box, refer to help for 
the function <code><a href="support.CEs.html#topic+ce.dataset">ce.dataset</a></code>.
</p>
<p>GUI elements of this dialog box are as follows.
</p>

<ul>
<li> <p><code>Name for data set</code>: An R object name into which a data set
generated using this dialog box is stored.
The default name &lsquo;<code>DCEdata</code>&rsquo; can be changed following R's
rules for naming objects. If changed, you should take note of the new
object name, which will be used later.
</p>
</li>
<li> <p><code>Save to file</code>: A check box for saving the resultant data set
to an external file in RDA format (<code>.rda</code>). 
If necessary, check this box.
</p>
</li>
<li> <p><code>Design</code>: An R object name containing DCE choice sets generated
in the &lsquo;<code>Design Choice Sets for DCE</code>&rsquo; dialog box. 
The default name &lsquo;<code>DCEdesign</code>&rsquo; is displayed automatically.
The correct name should be entered if the name 
for design (<code>DCEdesign</code>) was changed in the dialog box for DCE design.
</p>
</li>
<li> <p><code>Responses to DCE questions</code>: Names of variables containing
responses to DCE questions in the active data set. Variable names are
separated by commas (e.g., q1, q2, q3, ...).
</p>
</li>
<li> <p><code>Opt-out option</code>: A check box for an opt-out option. 
When the opt-out option was used in the DCE questions, check this box.
</p>
</li></ul>


<hr>
<h2 id='dceDesign'>Design Choice Sets for DCE</h2><span id='topic+dceDesign'></span><span id='topic+resetDceTable'></span>

<h3>Description</h3>

<p>Design choice sets for DCEs.
</p>


<h3>Details</h3>

<p>This dialog box uses the function <code><a href="support.CEs.html#topic+rotation.design">rotation.design</a></code> 
in package <span class="pkg">support.CEs</span> to design choice sets for DCE with 
the rotation design method or mix-and-match method. 
For details on the results of this dialog box, refer to help for the
function <code><a href="support.CEs.html#topic+rotation.design">rotation.design</a></code>. 
</p>
<p>GUI elements of this dialog box are as follows.
</p>

<ul>
<li> <p><code>Name for design</code>: An R object name into which choice sets 
generated using this dialog box are stored. The default name 
&lsquo;<code>DCEdesign</code>&rsquo; can be changed following R's rules for naming
objects. If changed, you should take note of the new object name, 
which will be used later.
</p>
</li>
<li> <p><code>Save to file</code>: A check box used to save the resultant design
to an external file in RDA format (<code>.rda</code>). 
If necessary, check this box.
</p>
</li>
<li> <p><code>Design method</code>: A method used to generate DCE choice sets. 
Select one from two radio buttons corresponding to &lsquo;<code>Rotation</code>&rsquo; 
and &lsquo;<code>Mix-and-Match</code>&rsquo;. For the details on these methods, 
see help for function <code><a href="support.CEs.html#topic+rotation.design">rotation.design</a></code>.
</p>
</li>
<li> <p><code>Number of alternatives per set (without opt-out)</code>: The number
of alternatives per choice set (question), where an opt-out option is not
counted as this number even if the opt-out option will be used in your 
survey.
</p>
</li>
<li> <p><code>Number of blocks</code>: The number of blocks into which the resultant
DCE choice sets are divided.
</p>
</li>
<li> <p><code>Quantitative</code>: A check box showing that a quantitative attribute
is set in the corresponding row.
</p>
</li>
<li> <p><code>Attribute</code>: An attribute variable name following R's rules for
naming variables. Type names without skipping from the first row.
</p>
</li>
<li> <p><code>Level 1</code> to <code>Level 6</code>: Level variable names corresponding
to the attribute entered in the first column. These variable names must 
also follow R's rules for naming variables. Type names without skipping 
from the &lsquo;<code>Level 1</code>&rsquo;.
</p>
</li>
<li> <p><code>Seed for random number generator (optional)</code>: An integer value
used as a seed for generating random numbers. If reproducibility is needed,
type an arbitrary value into this box.
</p>
</li>
<li> <p><code>Reproduce choice sets designed with R &lt; 3.6.0</code>: A check box 
for reproducing DCE choice sets generated with R versions older than 3.6.0.
If necessary, check this box.
</p>
</li></ul>


<hr>
<h2 id='dceInteractions'>Create Interactions between Attributes/Levels and Covariates</h2><span id='topic+dceInteractions'></span>

<h3>Description</h3>

<p>Create interactions between attribute/level variables and covariates
in the data set for DCE analysis.
</p>


<h3>Details</h3>

<p>This dialog box creates interactions between attribute/level variables and
covariates in the data set for DCE analysis. This dialog box is activated if 
the data set created in the &lsquo;<code>Create Data Set for DCE Analysis</code>&rsquo;
dialog box is selected as the active data set. 
</p>
<p>GUI elements of this dialog box are as follows.
</p>

<ul>
<li> <p><code>Attribute/level variables</code>: Variables to be used as attribute
and/or level variables in the model. Select one or more variables from 
this list box.
</p>
</li>
<li> <p><code>Covariates</code>: Variables to be used as covariates in the model.
Select one or more variables from this list box.
</p>
</li></ul>


<hr>
<h2 id='dceModel'>Fit Model to DCE Data</h2><span id='topic+dceModel'></span><span id='topic+resetDceModel'></span><span id='topic+dceClogitP'></span>

<h3>Description</h3>

<p>Fit a model to DCE data.
</p>


<h3>Details</h3>

<p>This dialog box fits a conditional logit model to the data set for DCE
analysis using the functions <code><a href="survival.html#topic+clogit">clogit</a></code> in <span class="pkg">survival</span>
and <code><a href="support.CEs.html#topic+gofm">gofm</a></code> in <span class="pkg">support.CEs</span>. 
This dialog box is activated if the DCE data set created in the 
&lsquo;<code>Create Data Set for DCE Analysis</code>&rsquo; dialog box is selected 
as the active data set.
For details on the results of this dialog box, refer to helps for
<code><a href="survival.html#topic+clogit">clogit</a></code> and <code><a href="support.CEs.html#topic+gofm">gofm</a></code>. 
</p>
<p>GUI elements of this dialog box are as follows.
</p>

<ul>
<li> <p><code>Name for model</code>: An R object name into which the results of
a fitted model obtained using this dialog box are stored. 
The default name &lsquo;<code>DCEmodel.x</code>&rsquo;, where <code>x</code> indicates
the integer number assigned automatically from <code>1</code>, can be changed
following R's rules for naming objects.
</p>
</li>
<li> <p><code>Response variable</code>: A variable containing responses to DCE
questions in the active data set. This variable name is fixed as <code>RES</code>,
which cannot be changed by users (A fixed variable is colored in green).
</p>
</li>
<li> <p><code>Independent variables</code>: Variables used as independent variables
in the model. Select one or more variables from this list box.
</p>
</li>
<li> <p><code>Stratification variable</code>: A variable for identifying each
combination of respondents and DCE questions. This variable name is fixed
as <code>STR</code>.
</p>
</li>
<li> <p><code>Subset expression</code>: A logical expression for specifying
a subset of the observations in the active dataset to be used for
the fitting.
</p>
</li></ul>


<hr>
<h2 id='dceMwtp'>Calculate Marginal Willingness to Pay</h2><span id='topic+dceMwtp'></span>

<h3>Description</h3>

<p>Calculate marginal willingness to pay (MWTP) values of nonmonetary variables
from the fitted model.
</p>


<h3>Details</h3>

<p>This dialog box uses the function <code><a href="support.CEs.html#topic+mwtp">mwtp</a></code> in 
<span class="pkg">support.CEs</span> to calculate MWTP values of nonmonetary variables 
from the model fitted in the &lsquo;<code>Fit Model to DCE Data</code>&rsquo; 
dialog box.
This dialog box is activated if the fitted model is selected as 
the active model. For details on the results of this dialog
box, refer to help for the function <code><a href="support.CEs.html#topic+mwtp">mwtp</a></code>. 
</p>
<p>GUI elements of this dialog box are as follows.
</p>

<ul>
<li> <p><code>Name for output</code>: An R object name into which the calculated
results obtained through this dialog box are stored. The default name 
&lsquo;<code>MWTP</code>&rsquo; can be changed following R's rules for naming objects. 
</p>
</li>
<li> <p><code>Monetary variable</code>: A variable used as the monetary variable in
the calculation of MWTP(s). Select one from this drop-down list of variables.
</p>
</li>
<li> <p><code>Nonmonetary variables</code>: Variables used as the nonmonetary
variable(s) in the calculation of MWTP(s). Select one or more variables
from this list box.
</p>
</li>
<li> <p><code>Calculation method</code>: A method used to calculate confidence
intervals for MWTP(s). Select one from two radio buttons corresponding to
&lsquo;<code>Krinsky and Robb</code>&rsquo; and &lsquo;<code>Delta</code>&rsquo;. 
For the details on these methods, see help for <code><a href="support.CEs.html#topic+mwtp">mwtp</a></code>.
</p>
</li>
<li> <p><code>Confidence level</code>: A confidence level used for calculating
the confidence intervals for MWTP(s). The default is <code>0.95</code>.
</p>
</li>
<li> <p><code>Number of replications</code>: A total number of replications for
the Krinsky and Robb method.
</p>
</li>
<li> <p><code>Seed for random number generator (optional)</code>: An integer value
used as a seed for generating random numbers. If reproducibility is needed,
type an arbitrary value into this
box.
</p>
</li></ul>


<hr>
<h2 id='dceQuestions'>Display DCE Questions</h2><span id='topic+dceQuestions'></span>

<h3>Description</h3>

<p>Display a series of questions for DCEs.
</p>


<h3>Details</h3>

<p>This dialog box displays a series of DCE questions that are converted from
the choice sets designed in the &lsquo;<code>Design Choice Sets for DCE</code>&rsquo; 
dialog box. This dialog box uses the function 
<code><a href="support.CEs.html#topic+questionnaire">questionnaire</a></code> in <span class="pkg">support.CEs</span>. 
For details on the results of this dialog box,
refer to help for <code><a href="support.CEs.html#topic+questionnaire">questionnaire</a></code>.
</p>
<p>GUI element of this dialog box is as follows.
</p>

<ul>
<li> <p><code>Design</code>: An R object name containing DCE choice sets
generated in the &lsquo;<code>Design Choice Sets for DCE</code>&rsquo; dialog box. 
The default name &lsquo;<code>DCEdesign</code>&rsquo; is displayed automatically.
The correct name should be entered if the name of DCE choice sets 
(<code>DCEdesign</code>) was changed in the dialog box for DCE design.
</p>
</li></ul>


</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

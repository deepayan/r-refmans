<!DOCTYPE html><html lang="en"><head><title>Help for package FinNet</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {FinNet}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#FinNet'><p>Quickly Build and Manipulate Financial Networks</p></a></li>
<li><a href='#.set_names'><p>Function to return an object after assigning new names</p></a></li>
<li><a href='#add.attribute'><p>Function to set a vertex  or edge attribute of a <code>network</code> or <code>graph</code> object</p></a></li>
<li><a href='#as.firm'><p>Coerce into (a list of) <code>firm</code> object(s)</p></a></li>
<li><a href='#as.firm+2Cfinancial_matrix-method'><p>Coerce a <code>financial_matrix</code> object into a list of <code>firm</code> objects</p></a></li>
<li><a href='#as.firm.financial_matrix'><p>Coerce a <code>financial_matrix</code> object into a list of <code>firm</code> objects</p></a></li>
<li><a href='#cfa'><p>Perform cascade failure analysis</p></a></li>
<li><a href='#check.against.other.slots'><p>Determine if all the non-<code>NA</code> slots of a <code>financial_matrix</code> object are of a given length</p></a></li>
<li><a href='#check.correct.grey'><p>Function to check whether the provided colour is actually a shade of grey and correct it if necessary</p></a></li>
<li><a href='#extract.matrix'><p>Function to extract the bare matrix from several complex objects</p></a></li>
<li><a href='#FF'><p>Create any firm-firm (FF) matrix</p></a></li>
<li><a href='#FF-basic-methods'><p>Basic methods for objects of class <code>financial_matrix</code></p></a></li>
<li><a href='#FF-comparison-methods'><p>Basic method to check to compare values in a <code>financial_matrix</code> object</p></a></li>
<li><a href='#FF-math-methods'><p>Mathematical methods for <code>financial_matrix</code> objects</p></a></li>
<li><a href='#FF-nrow-ncol'><p>Number of rows/columns in a <code>financial_matrix</code> object</p></a></li>
<li><a href='#FF-subset-method'><p>Method to subset a <code>financial_matrix</code></p></a></li>
<li><a href='#FF.binary.both'><p>Create a complete binary firm-firm (FF) matrix</p></a></li>
<li><a href='#FF.binary.management'><p>Create a binary firm-firm (FF) matrix for board interlocks</p></a></li>
<li><a href='#FF.binary.ownership'><p>Create a binary firm-firm (FF) matrix for common ownership</p></a></li>
<li><a href='#FF.graph'><p>Easily represent a firm-firm (FF) network using the package <code>igraph</code></p></a></li>
<li><a href='#FF.graph.custom'><p>Represent a firm-firm (FF) network using the package <code>igraph</code></p></a></li>
<li><a href='#FF.naive.both'><p>Create a complete naive-valued firm-firm (FF) matrix</p></a></li>
<li><a href='#FF.naive.management'><p>Create a naive-valued firm-firm (FF) matrix for boards interlocks</p></a></li>
<li><a href='#FF.naive.ownership'><p>Create a naive-valued firm-firm (FF) matrix for common ownership</p></a></li>
<li><a href='#FF.net'><p>Easily represent a firm-firm (FF) network using the package <code>network</code></p></a></li>
<li><a href='#FF.net.custom'><p>Represent a firm-firm (FF) network using the package <code>network</code></p></a></li>
<li><a href='#FF.norm.both'><p>Create a complete normalised-valued firm-firm (FF) matrix</p></a></li>
<li><a href='#FF.norm.management'><p>Create a normalised-valued firm-firm (FF) matrix for boards interlocks</p></a></li>
<li><a href='#FF.norm.ownership'><p>Create a normalised-valued firm-firm (FF) matrix for common ownership</p></a></li>
<li><a href='#fiedler'><p>Calculate the Fiedler value (algebraic connectivity)</p></a></li>
<li><a href='#financial_matrix'><p>An S4 class for the adjacency matrix produced by <code>FF</code> and related functions to represent the relations between firms (legal person)</p></a></li>
<li><a href='#financial_net'><p>A virtual class for relational data extending the packages <a href="https://statnet.org/">network</a>and <a href="https://igraph.org/">igraph</a></p></a></li>
<li><a href='#find.firm'><p>Function to create a <code>firm</code> (legal person) using data from 'Yahoo! Finance'</p></a></li>
<li><a href='#find.firms'><p>Function to create mutiple <code>firms</code> (legal persons) using data from 'Yahoo! Finance'</p></a></li>
<li><a href='#find.people'><p>Extract all the unique people associated to at least one of the provided <code>firm</code> objects</p></a></li>
<li><a href='#firm'><p>A firm</p></a></li>
<li><a href='#firms_BKB'><p>Complete Berkshire Hathaway Portfolio</p></a></li>
<li><a href='#firms_US'><p>Three US firms</p></a></li>
<li><a href='#FM'><p>Function to create a (necessarily binary) firm-manager (FM) matrix</p></a></li>
<li><a href='#FO.binary'><p>Function to create a binary firm-owner (FO) matrix</p></a></li>
<li><a href='#FO.naive'><p>Function to create a naive-valued firm-owner (FO) matrix</p></a></li>
<li><a href='#FO.norm'><p>Function to create a naive-valued firm-owner (FO) matrix</p></a></li>
<li><a href='#get.binarary.values'><p>Function to compute the binary values of the FM or FO matrix for multiple <code>firm</code> objects</p></a></li>
<li><a href='#get.matrix.adjacency'><p>Create any firm-firm (FF) matrix for common ownership or board interlocks</p></a></li>
<li><a href='#get.matrix.adjacency.both'><p>Create a firm-firm (FF) matrix</p></a></li>
<li><a href='#get.matrix.twomode'><p>Function to create a firm-owner (FO) or firm-manager (FM) matrix</p></a></li>
<li><a href='#get.net'><p>Create any firm-firm (FF) network</p></a></li>
<li><a href='#graph_methods'><p>Extending <code>igraph</code> functions to <code>igraph_financial</code> objects</p></a></li>
<li><a href='#igraph_E_iterators'><p>igraph edge iterators for <code>igraph_financial</code> objects</p></a></li>
<li><a href='#igraph_financial'><p>An S4 class for relational data extending the package <a href="https://igraph.org/">igraph</a></p></a></li>
<li><a href='#igraph_v_iterators'><p>igraph vertex iterators for <code>igraph_financial</code> objects</p></a></li>
<li><a href='#is.neither.null.nor.na'><p>Function to check whether an object is neither <code>NA</code> nor <code>NULL</code></p></a></li>
<li><a href='#is.null.na'><p>Function to check whether an object is <code>NA</code> or <code>NULL</code></p></a></li>
<li><a href='#listing'><p>Function to list multiple objects passed as <code>...</code></p></a></li>
<li><a href='#load.Matrix'><p>Function to  load the package <code>Matrix</code></p></a></li>
<li><a href='#Matrix+26amp+3Bmatrix'><p>A (virtual) class union for matrix-like objects to be included in <code>financial_matrix</code></p></a></li>
<li><a href='#naming'><p>Function to extract the symbols of the objects passed as <code>...</code></p></a></li>
<li><a href='#network_financial'><p>An S4 class for relational data extending the package <a href="https://statnet.org/">network</a></p></a></li>
<li><a href='#network_methods'><p>Extending <code>newtwork</code> functions to <code>newtwork_financial</code> objects</p></a></li>
<li><a href='#network_operators'><p>Operators for <code>network_financial</code> objects</p></a></li>
<li><a href='#network.efficiency'><p>Calculate network efficiency</p></a></li>
<li><a href='#palette'><p>Function to create the default palette and ramp it up as needed</p></a></li>
<li><a href='#plot_igraph-methods'><p>igraph plotting for <code>igraph_financial</code> objects</p></a></li>
<li><a href='#plot_network-methods'><p>network plotting for <code>igraph_financial</code> objects</p></a></li>
<li><a href='#print_financial_matrix'><p>Print information on a <code>financial_matrix</code></p></a></li>
<li><a href='#print+2Cfinancial_matrix-method'><p>Print information on a <code>financial_matrix</code></p></a></li>
<li><a href='#print+2Cfirm-method'><p>Print information on a class <code>firm</code> object</p></a></li>
<li><a href='#print+2Cigraph_financial-method'><p>Print information on a <code>igraph_financial</code> object</p></a></li>
<li><a href='#print+2Cnetwork_financial-method'><p>Print information on a <code>network_financial</code> object</p></a></li>
<li><a href='#query.firm'><p>Function to extract information from a <code>firm</code> object (legal person)</p></a></li>
<li><a href='#query.firms'><p>Function to extract information from multiple <code>firm</code> object (legal person)</p></a></li>
<li><a href='#query.firms_switch'><p>Function to chose the right algorithm when querying one or more information over multiple <code>firm</code> objects</p></a></li>
<li><a href='#query.firms.dataframe'><p>Function to extract information from multiple <code>firm</code> object (legal person) as a data frame</p></a></li>
<li><a href='#register.firm'><p>Function to create a <code>firm</code> (legal person)</p></a></li>
<li><a href='#rescale.numeric'><p>Function to rescale numeric vectors</p></a></li>
<li><a href='#SCC'><p>Tarjan's algorithm for finding strongly connected components</p></a></li>
<li><a href='#SCC2'><p>Tarjan's algorithm for finding strongly connected components in C++</p></a></li>
<li><a href='#SCC2.prep'><p>Create list of edges for SCC2</p></a></li>
<li><a href='#show_firm'><p>Show information on a class <code>firm</code> object</p></a></li>
<li><a href='#show_igraph_financial'><p>Show information on a <code>igraph_financial</code></p></a></li>
<li><a href='#show_network_financial'><p>Show information on a <code>network_financial</code></p></a></li>
<li><a href='#show+2Cfinancial_matrix-method'><p>Show information on a <code>financial_matrix</code></p></a></li>
<li><a href='#show+2Cfirm-method'><p>Show information on a <code>firm</code></p></a></li>
<li><a href='#show+2Cigraph_financial-method'><p>Show information on a <code>igraph_financial</code></p></a></li>
<li><a href='#show+2Cnetwork_financial-method'><p>Show information on a <code>network_financial</code></p></a></li>
<li><a href='#subset_financial_matrix'><p>Subset a <code>financial_matrix</code> object</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Quickly Build and Manipulate Financial Networks</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.1</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Fabio Ashtar Telarico &lt;Fabio-Ashtar.Telarico@fdv.uni-lj.si&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Providing classes, methods, and functions to deal with financial networks. 
    Users can easily store information about both physical and legal persons by using pre-made classes that are studied for integration with scraping packages such as 'rvest' and 'RSelenium'.
    Moreover, the package assists in creating various types of financial networks depending on the type of relation between its units depending on the relation under scrutiny (ownership, board interlocks, etc.), the desired tie type (valued or binary), and renders them in the most common formats (adjacency matrix, incidence matrix, edge list, 'igraph', 'network').
    There are also ad-hoc functions for the Fiedler value, global network efficiency, and cascade-failure analysis.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://fatelarico.github.io/FinNet.html">https://fatelarico.github.io/FinNet.html</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/FATelarico/FinNet/issues">https://github.com/FATelarico/FinNet/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>Author:</td>
<td>Fabio Ashtar Telarico
    <a href="https://orcid.org/0000-0002-8740-7078"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, cre]</td>
</tr>
<tr>
<td>Imports:</td>
<td>Matrix, grDevices, methods, Rcpp</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, igraph, network, markdown, SPB, yahoofinancer</td>
</tr>
<tr>
<td>LazyData:</td>
<td>no</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-10-31 10:36:37 UTC; fabio</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-10-31 15:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='FinNet'>Quickly Build and Manipulate Financial Networks</h2><span id='topic+FinNet-package'></span><span id='topic+FinNet'></span>

<h3>Description</h3>

<p>Providing classes, methods, and functions to deal with financial networks.
Users can easily store information about both physical and legal persons
by using pre-made classes that are studied for integration with scraping
packages such as 'rvest' and 'RSelenium'.
Moreover, the package assists in creating various types of financial networks
depending on the type of relation between its units depending on the relation
under scrutiny (ownership, board interlocks, etc.), the desired tie type
(valued or binary), and renders them in the most common formats (adjacency
matrix, incidence matrix, edge list, 'igraph', 'network').
</p>


<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://fatelarico.github.io/FinNet.html">https://fatelarico.github.io/FinNet.html</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/FATelarico/FinNet/issues">https://github.com/FATelarico/FinNet/issues</a>
</p>
</li></ul>


<hr>
<h2 id='.set_names'>Function to return an object after assigning new names</h2><span id='topic+.set_names'></span>

<h3>Description</h3>

<p>Combines <code>magrittr::set_colnames</code>, <code>magrittr::set_rownames</code>, <code>magrittr::set_names</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.set_names(x, names, where = c("col", "row", "attr"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id=".set_names_+3A_x">x</code></td>
<td>
<p>Object on which to operate</p>
</td></tr>
<tr><td><code id=".set_names_+3A_names">names</code></td>
<td>
<p>New names</p>
</td></tr>
<tr><td><code id=".set_names_+3A_where">where</code></td>
<td>
<p>What to change:
</p>

<ul>
<li><p><code>col</code> - Column names
</p>
</li>
<li><p><code>row</code> - Row names
</p>
</li>
<li><p><code>names</code> - Names attribute
</p>
</li></ul>
</td></tr>
</table>


<h3>Value</h3>

<p>The original object, with new names
</p>


<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>

<hr>
<h2 id='add.attribute'>Function to set a vertex  or edge attribute of a <code>network</code> or <code>graph</code> object</h2><span id='topic+add.attribute'></span>

<h3>Description</h3>

<p>Function to set a vertex  or edge attribute of a <code>network</code> or <code>graph</code> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add.attribute(x, where = c("edge", "vertex"), attr_name, value, which = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="add.attribute_+3A_x">x</code></td>
<td>
<p>The representation of the network as a <code>network</code> or <code>graph</code> object</p>
</td></tr>
<tr><td><code id="add.attribute_+3A_where">where</code></td>
<td>
<p>What network element does the attribute refer to. Either <code>edge</code>/<code>tie</code> or <code>vertex</code>/<code>node</code>.</p>
</td></tr>
<tr><td><code id="add.attribute_+3A_attr_name">attr_name</code></td>
<td>
<p>Name of the attribute to set</p>
</td></tr>
<tr><td><code id="add.attribute_+3A_value">value</code></td>
<td>
<p>of the attribute to set</p>
</td></tr>
<tr><td><code id="add.attribute_+3A_which">which</code></td>
<td>
<p>A subset of elements on which the attribute should be applied. Defaults to all the vertexes/nodes.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>network</code> or <code>graph</code> object with the desired attribute
</p>


<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>

<hr>
<h2 id='as.firm'>Coerce into (a list of) <code>firm</code> object(s)</h2><span id='topic+as.firm'></span>

<h3>Description</h3>

<p>Generic function to coerce other other classes into the S4 class <code>firm</code> representing a firm (legal person)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.firm(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="as.firm_+3A_x">x</code></td>
<td>
<p>The object to coerce</p>
</td></tr>
<tr><td><code id="as.firm_+3A_...">...</code></td>
<td>
<p>Arguments passed to class-specific methods</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>firm</code> or a (usually named) list of them, depending on the available method for the object being coerced.
</p>


<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>

<hr>
<h2 id='as.firm+2Cfinancial_matrix-method'>Coerce a <code>financial_matrix</code> object into a list of <code>firm</code> objects</h2><span id='topic+as.firm+2Cfinancial_matrix-method'></span>

<h3>Description</h3>

<p>'as.firm' method for an object of class <code>financial_matrix</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'financial_matrix'
as.firm(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="as.firm+2B2Cfinancial_matrix-method_+3A_x">x</code></td>
<td>
<p>The <code>financial_matrix</code> object to coerce</p>
</td></tr>
<tr><td><code id="as.firm+2B2Cfinancial_matrix-method_+3A_...">...</code></td>
<td>
<p>Optional arguments</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A (usually named) list of <code>firm</code> objects the length of which equals the number of rows and columns of the provided <code>financial_matrix</code>
</p>


<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>

<hr>
<h2 id='as.firm.financial_matrix'>Coerce a <code>financial_matrix</code> object into a list of <code>firm</code> objects</h2><span id='topic+as.firm.financial_matrix'></span>

<h3>Description</h3>

<p>Un-exported function behind the <code>as.firm</code> method for objects of class <code>financial_matrix</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.firm.financial_matrix(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="as.firm.financial_matrix_+3A_x">x</code></td>
<td>
<p>The object of class <code>financial_matrix</code> to be coerced</p>
</td></tr>
<tr><td><code id="as.firm.financial_matrix_+3A_...">...</code></td>
<td>
<p>Optional argument to the method</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A (usually named) list of <code>firm</code> objects the length of which equals the number of rows and columns of the provided <code>financial_matrix</code>
</p>


<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>

<hr>
<h2 id='cfa'>Perform cascade failure analysis</h2><span id='topic+cfa'></span>

<h3>Description</h3>

<p>Cascade failure analysis (CFA) involves understanding how failures in one
part of the network might cascade to other parts. Networks capable of
isolating such failures or minimizing their effects demonstrate higher
robustness.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cfa(
  ...,
  ordering = "tot",
  custom.order = NULL,
  decreasing = TRUE,
  Rcpp = ifelse(requireNamespace("Rcpp", quietly = TRUE), yes = TRUE, no = FALSE)
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cfa_+3A_...">...</code></td>
<td>
<p>Firm-Firm network in one of the following classes:
</p>

<ul>
<li><p><code>financial_matrix</code> produced by <code>FF</code> and family;
</p>
</li>
<li><p><code>network_financial</code> or <code>network</code> if the relevant package is installed;
</p>
</li>
<li><p><code>igraph_financial</code> or <code>igraph</code> if the  relevant package is installed.
</p>
</li></ul>
</td></tr>
<tr><td><code id="cfa_+3A_ordering">ordering</code></td>
<td>
<p>In what order to remove the firms, the completing ordering is always returned as part of the result. Take the following values:
</p>

<ul>
<li><p><code>random</code> - Random order, corresponds to percolation theory
</p>
</li>
<li><p><code>out</code> - By out-degree
</p>
</li>
<li><p><code>in</code> - By in-degree
</p>
</li>
<li><p><code>tot</code> - By sum of in- and out-degre (default)
</p>
</li>
<li><p><code>custom</code> - Customised ordering via <code>custom.order</code>
</p>
</li></ul>
</td></tr>
<tr><td><code id="cfa_+3A_custom.order">custom.order</code></td>
<td>
<p>Order in which to remove the firms. If <code>ordering</code> is not 'custom', it is ignored. Defaults to <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="cfa_+3A_decreasing">decreasing</code></td>
<td>
<p>Logical, defaults to <code>TRUE</code>. Only evaluated if <code>ordering</code> is neither 'custom' nor 'random'.
</p>

<ul>
<li><p>if <code>TRUE</code> - the ordering is by decreasing degree and higher in-/out-/total-degree firms are removed first
</p>
</li>
<li><p>if <code>FALSE</code> - the ordering is by increasing degree and higher in-/out-/total-degree firms are removed last
</p>
</li></ul>
</td></tr>
<tr><td><code id="cfa_+3A_rcpp">Rcpp</code></td>
<td>
<p>Whether to use the <code>C++</code> or native-<code>R</code> version of the search algorithm. Defaults to <code>TRUE</code> if the package <code>Rcpp</code> is installed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>data.frame</code> with one row for the result of the CFA after each node is removed. The columns report:
</p>

<ul>
<li><p><code>l_scc</code> - Size of the largest strongly connected component
</p>
</li>
<li><p><code>rem_id</code> - ID of the firm removed
</p>
</li>
<li><p><code>rem_pos</code> - Position of the firm removed (row/column number)
</p>
</li>
<li><p><code>n_scc</code> - Number of strongly connected components
</p>
</li>
<li><p><code>n_rem</code> - Number of firms removed
</p>
</li>
<li><p><code>n_left</code> - Number of firms left
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>


<h3>References</h3>

<p>Elliott, Matthew, Benjamin Golub, and Matthew O. Jackson. ‘Financial Networks and Contagion’. American Economic Review 104, no. 10 (1 October 2014): 3115–53. <a href="https://doi.org/10.1257/aer.104.10.3115">doi:10.1257/aer.104.10.3115</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create a matrix
mat &lt;- matrix(c(
    0, 1, 0, 1, 0, 1, 0, 0,
    0, 0, 1, 0, 0, 0, 0, 0,
    1, 0, 0, 0, 0, 0, 0, 0,
    0, 1, 1, 0, 1, 0, 0, 0,
    0, 0, 0, 1, 0, 1, 0, 0,
    0, 0, 1, 0, 0, 0, 1, 0,
   0, 0, 0, 0, 0, 1, 0, 0,
    0, 0, 0, 0, 1, 0, 1, 1
  ),ncol = 8, byrow = TRUE)
# Add rownames
rownames(mat) &lt;- paste0("Firm", LETTERS[1:ncol(mat)])

# Create a FF matrix
mat &lt;- methods::new('financial_matrix',
                    M = mat,
                    relation = c('own'),
                    legal_form = c('JSC'),
                    sector = c('A.01'),
                    revenues = c(NA),
                    capitalisation = c(NA),
                    currency = c('USD'))

# Notice the differnce between:
# a. CFA with ordering by in-degree (decreasing)
# b. CFA with ordering by in-degree (increasing)
cfa(mat, ordering = 'in', decreasing = FALSE)
# But ordering by increasing (decreasing) in-degree is the
# same as ordering by decreasing (increasing) out-degree and
# vice versa!
cfa(mat, ordering = 'out', decreasing = FALSE) # By out-degree (increasing)

</code></pre>

<hr>
<h2 id='check.against.other.slots'>Determine if all the non-<code>NA</code> slots of a <code>financial_matrix</code> object are of a given length</h2><span id='topic+check.against.other.slots'></span>

<h3>Description</h3>

<p>Un-exported function called by the <code>ncol</code> and <code>nrow</code> methods for objects of class <code>financial_matrix</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check.against.other.slots(x, number)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="check.against.other.slots_+3A_x">x</code></td>
<td>
<p>The object of class <code>financial_matrix</code> which to extract unique elements from</p>
</td></tr>
<tr><td><code id="check.against.other.slots_+3A_number">number</code></td>
<td>
<p>The number against which to check the length of <code>x</code>'s non-<code>NA</code> slots</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>

<hr>
<h2 id='check.correct.grey'>Function to check whether the provided colour is actually a shade of grey and correct it if necessary</h2><span id='topic+check.correct.grey'></span>

<h3>Description</h3>

<p>Function to check whether the provided colour is actually a shade of grey and correct it if necessary
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check.correct.grey(hex)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="check.correct.grey_+3A_hex">hex</code></td>
<td>
<p>The RGB colour to check</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A valid grey colour in RGB format
</p>


<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>

<hr>
<h2 id='extract.matrix'>Function to extract the bare matrix from several complex objects</h2><span id='topic+extract.matrix'></span>

<h3>Description</h3>

<p>Function to extract the bare matrix from several complex objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extract.matrix(x, .except.igraph = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="extract.matrix_+3A_x">x</code></td>
<td>
<p>The representation of the network as an object of class:
</p>

<ul>
<li><p><code>financial_matrix</code> produced by <code>FF</code> and family;
</p>
</li>
<li><p><code>network_financial</code> or <code>network</code> if the relevant package is installed;
</p>
</li>
<li><p><code>igraph_financial</code> or <code>igraph</code> if the  relevant package is installed.
</p>
</li></ul>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>matrix</code> or an object from the package <code>Matrix</code>
</p>


<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>


<h3>See Also</h3>

<p>Other Internal matrix (de)constructrs: 
<code><a href="#topic+get.matrix.adjacency">get.matrix.adjacency</a>()</code>,
<code><a href="#topic+get.matrix.adjacency.both">get.matrix.adjacency.both</a>()</code>,
<code><a href="#topic+load.Matrix">load.Matrix</a>()</code>
</p>

<hr>
<h2 id='FF'>Create any firm-firm (FF) matrix</h2><span id='topic+FF'></span>

<h3>Description</h3>

<p>General function to create a firm-firm (FF) matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>FF(..., who, ties, id_as_firm_name = NULL, Matrix = NULL, self_ties = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="FF_+3A_...">...</code></td>
<td>
<p>Either multiple objects of class <code>firm</code> or a list of such objects</p>
</td></tr>
<tr><td><code id="FF_+3A_who">who</code></td>
<td>
<p>Whether to take into account: (<code>ownership</code>) co-ownership ; (<code>management</code>) board interlocks, or <code>both</code> (recognises minimum unambiguous strings).</p>
</td></tr>
<tr><td><code id="FF_+3A_ties">ties</code></td>
<td>
<p>Type of ties to create. Possible values: <code>binary</code>; <code>naive</code>; <code>share</code> (see Details).</p>
</td></tr>
<tr><td><code id="FF_+3A_id_as_firm_name">id_as_firm_name</code></td>
<td>
<p>Whether to use the ticker as the firm's name. Defaults to <code>TRUE</code> if all firms' id is neither <code>NULL</code> nor <code>NA</code>.</p>
</td></tr>
<tr><td><code id="FF_+3A_matrix">Matrix</code></td>
<td>
<p>Whether to use the <a href="https://cran.r-project.org/package=Matrix"><code>Matrix</code> package</a>. Defaults to <code>TRUE</code> when any matrix in the pipeline contains more than 10,000 cells and the package is installed.</p>
</td></tr>
<tr><td><code id="FF_+3A_self_ties">self_ties</code></td>
<td>
<p>Whether to allow self-ties (a 'loop' in graph theory). Defaults to <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See more specific functions for a detailed overview:
</p>
<p>for board interlocks (<code>who == 'management'</code>):
</p>

<ul>
<li> <p><code><a href="#topic+FF.binary.management">FF.binary.management</a></code>, if <code>ties = 'binary'</code>;
</p>
</li>
<li> <p><code><a href="#topic+FF.binary.management">FF.binary.management</a></code>, if <code>ties = 'naive'</code>;
</p>
</li>
<li> <p><code><a href="#topic+FF.norm.management">FF.norm.management</a></code>, if <code>ties = 'share'</code>.
</p>
</li></ul>

<p>for co-ownership (<code>who == 'ownership'</code>):
</p>

<ul>
<li> <p><code><a href="#topic+FF.binary.ownership">FF.binary.ownership</a></code>, if <code>ties = 'binary'</code>;
</p>
</li>
<li> <p><code><a href="#topic+FF.naive.ownership">FF.naive.ownership</a></code>, if <code>ties = 'naive'</code>;
</p>
</li>
<li> <p><code><a href="#topic+FF.norm.ownership">FF.norm.ownership</a></code>, if <code>ties = 'share'</code>.
</p>
</li></ul>

<p>for both co-ownership and board interlocks (<code>who == 'both'</code>):
</p>

<ul>
<li> <p><code><a href="#topic+FF.binary.both">FF.binary.both</a></code>, if <code>ties = 'binary'</code>;
</p>
</li>
<li> <p><code><a href="#topic+FF.naive.both">FF.naive.both</a></code>, if <code>ties = 'naive'</code>;
</p>
</li>
<li> <p><code><a href="#topic+FF.norm.both">FF.norm.both</a></code>, if <code>ties = 'share'</code>.
</p>
</li></ul>



<h3>Value</h3>

<p>A matrix object of class <code>financial_matrix</code>(possibly using the <a href="https://cran.r-project.org/package=Matrix"><code>Matrix</code> package</a>)
</p>


<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>


<h3>See Also</h3>

<p>Other Financial_matrix builders: 
<code><a href="#topic+FF.binary.both">FF.binary.both</a>()</code>,
<code><a href="#topic+FF.binary.management">FF.binary.management</a>()</code>,
<code><a href="#topic+FF.binary.ownership">FF.binary.ownership</a>()</code>,
<code><a href="#topic+FF.naive.both">FF.naive.both</a>()</code>,
<code><a href="#topic+FF.naive.management">FF.naive.management</a>()</code>,
<code><a href="#topic+FF.naive.ownership">FF.naive.ownership</a>()</code>,
<code><a href="#topic+FF.norm.both">FF.norm.both</a>()</code>,
<code><a href="#topic+FF.norm.management">FF.norm.management</a>()</code>,
<code><a href="#topic+FF.norm.ownership">FF.norm.ownership</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Create the normalised FF matrix of Berkshire Hathaway's holdings by boards interlocks
data('firms_BKB')
FF &lt;- FF(firms_BKB, who = 'man', ties = 'share')

</code></pre>

<hr>
<h2 id='FF-basic-methods'>Basic methods for objects of class <code>financial_matrix</code></h2><span id='topic+FF-basic-methods'></span><span id='topic+rownames+2Cfinancial_matrix-method'></span><span id='topic+colnames+2Cfinancial_matrix-method'></span>

<h3>Description</h3>

<p>Basic methods for objects of class <code>financial_matrix</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'financial_matrix'
rownames(x, do.NULL = TRUE, prefix = "row")

## S4 method for signature 'financial_matrix'
colnames(x, do.NULL = TRUE, prefix = "row")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="FF-basic-methods_+3A_x">x</code></td>
<td>
<p>The <code>financial_matrix</code> object to operate on</p>
</td></tr>
<tr><td><code id="FF-basic-methods_+3A_do.null">do.NULL</code></td>
<td>
<p>Whether to use <code>NULL</code> names. Defaults to <code>FALSE</code></p>
</td></tr>
<tr><td><code id="FF-basic-methods_+3A_prefix">prefix</code></td>
<td>
<p>Prefix for created names (if <code>do.NULL</code> is <code>FALSE</code> and names are <code>NULL</code>)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Mind that usually the rows and columns are named after the firm's tickers.
</p>


<h3>Value</h3>

<p>A character vector of length equal to the number of rows (or columns) in the <code>financial_matrix</code> corresponding to the names of the rows (or columns)
</p>


<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>

<hr>
<h2 id='FF-comparison-methods'>Basic method to check to compare values in a <code>financial_matrix</code> object</h2><span id='topic+FF-comparison-methods'></span><span id='topic+duplicated+2Cfinancial_matrix+2Clogical-method'></span><span id='topic+unique+2Cfinancial_matrix+2Clogical-method'></span>

<h3>Description</h3>

<p>Basic method to check to compare values in a <code>financial_matrix</code> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'financial_matrix,logical'
duplicated(x, incomparables = FALSE, ...)

## S4 method for signature 'financial_matrix,logical'
unique(x, incomparables = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="FF-comparison-methods_+3A_x">x</code></td>
<td>
<p>The <code>financial_matrix</code> object to operate on</p>
</td></tr>
<tr><td><code id="FF-comparison-methods_+3A_incomparables">incomparables</code></td>
<td>
<p>Either:
</p>

<ul>
<li><p> a vector of values that cannot be compared
</p>
</li>
<li><p> or <code>FALSE</code>, in which case all values can be compared
</p>
</li></ul>
</td></tr>
<tr><td><code id="FF-comparison-methods_+3A_...">...</code></td>
<td>
<p>Arguments passed to the relevant <code>matrix</code> method</p>
</td></tr>
</table>


<h3>Value</h3>


<ul>
<li> <p><code>duplicated</code>: A logical array with the same dimensions and <code>dimnames</code> of the <code>financial_matrix</code>'s matrix component.
</p>
</li>
<li> <p><code>unique</code>: The matrix component is coerced into a vector and then returned, but with only one copy of each duplicated element.
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>

<hr>
<h2 id='FF-math-methods'>Mathematical methods for <code>financial_matrix</code> objects</h2><span id='topic+FF-math-methods'></span><span id='topic+isSymmetric+2Cfinancial_matrix-method'></span><span id='topic+summary+2Cfinancial_matrix-method'></span>

<h3>Description</h3>

<p><code>isSymmetric</code> checks only the matrix-like part
<code>summary</code> operates on all numeric attributes and the matrix-like part
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'financial_matrix'
isSymmetric(object, ...)

## S4 method for signature 'financial_matrix'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="FF-math-methods_+3A_object">object</code></td>
<td>
<p>The <code>financial_matrix</code> object to operate on</p>
</td></tr>
<tr><td><code id="FF-math-methods_+3A_...">...</code></td>
<td>
<p>Arguments passed to the relevant <code>matrix</code> method</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Mathematical methods for <code>financial_matrix</code> objects
</p>


<h3>Value</h3>


<ul>
<li> <p><code>isSymmetric</code>: a boolean, <code>TRUE</code> if the matrix is symmetric, <code>FALSE</code> otherwise;
</p>
</li>
<li> <p><code>summary</code>: a list of length equal to the number of numeric attributes possed by the <code>financial_matrix</code> (maximum three, the matrix itself, revenues, and capitalisation) assumed as measured on the same scale and denominated in the same currency). Each element of the list of class <code>c('summaryDefault', 'table')</code> which has specialized <a href="base.html#topic+format">format</a> and <a href="base.html#topic+print">print</a> methods
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>

<hr>
<h2 id='FF-nrow-ncol'>Number of rows/columns in a <code>financial_matrix</code> object</h2><span id='topic+FF-nrow-ncol'></span><span id='topic+ncol+2Cfinancial_matrix-method'></span><span id='topic+nrow+2Cfinancial_matrix-method'></span>

<h3>Description</h3>

<p>Unlike most other methods (i.e., <code>duplicated</code>, <code>isSymmetric</code>, <code>summary</code>, <code>rownames</code>, and <code>colnames</code>), these methods act on both the matrix-like and the other components of a <code>financial_matrix</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'financial_matrix'
ncol(x)

## S4 method for signature 'financial_matrix'
nrow(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="FF-nrow-ncol_+3A_x">x</code></td>
<td>
<p>The <code>financial_matrix</code> object to operate on</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Checks if the length of the names matches that of the other attributes that are not <code>NA</code> or structurally of unitary length (i.e., the slots <code>M</code> and <code>relation</code>).
</p>


<h3>Value</h3>

<p>A single numeric, the number of rows (columns) in the matrix. It also prints a message to the console if any of the object's other attributes (e.g., capitalisation) is not conformed to the matrix's dimensions
</p>


<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>

<hr>
<h2 id='FF-subset-method'>Method to subset a <code>financial_matrix</code></h2><span id='topic+FF-subset-method'></span><span id='topic+subset+2Cfinancial_matrix-method'></span>

<h3>Description</h3>

<p>Subsets all components of a <code>financial_matrix</code> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'financial_matrix'
subset(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="FF-subset-method_+3A_x">x</code></td>
<td>
<p>The <code>financial_matrix</code> object to operate on</p>
</td></tr>
<tr><td><code id="FF-subset-method_+3A_...">...</code></td>
<td>
<p>Arguments passed to the relevant <code>matrix</code> method</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>financial_matrix</code> object, subsetted to the desired firms
</p>


<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>

<hr>
<h2 id='FF.binary.both'>Create a complete binary firm-firm (FF) matrix</h2><span id='topic+FF.binary.both'></span>

<h3>Description</h3>

<p>Function to create a binary firm-firm (FF) matrix based on both common ownership and board interlocks
</p>


<h3>Usage</h3>

<pre><code class='language-R'>FF.binary.both(
  ...,
  id_as_firm_name = NULL,
  Matrix = NULL,
  self_ties = FALSE,
  combining = "sum"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="FF.binary.both_+3A_...">...</code></td>
<td>
<p>Either multiple objects of class <code>firm</code> or a list of such objects</p>
</td></tr>
<tr><td><code id="FF.binary.both_+3A_id_as_firm_name">id_as_firm_name</code></td>
<td>
<p>Whether to use the ticker as the firm's name. Defaults to <code>TRUE</code> if all firms' id is neither <code>NULL</code> nor <code>NA</code>.</p>
</td></tr>
<tr><td><code id="FF.binary.both_+3A_matrix">Matrix</code></td>
<td>
<p>Whether to use the <a href="https://cran.r-project.org/package=Matrix"><code>Matrix</code> package</a>. Defaults to <code>TRUE</code> when any matrix in the pipeline contains more than 10,000 cells and the package is installed.</p>
</td></tr>
<tr><td><code id="FF.binary.both_+3A_self_ties">self_ties</code></td>
<td>
<p>Whether to allow self-ties (a 'loop' in graph theory). Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="FF.binary.both_+3A_combining">combining</code></td>
<td>
<p>How to combine the FF matrix for managers and that for owners. Possible values:
</p>

<ul>
<li> <p><code>sum</code>;
</p>
</li>
<li> <p><code>mean</code> or <code>average</code>;
</p>
</li>
<li> <p><code>min</code>;
</p>
</li>
<li> <p><code>max</code>;
</p>
</li></ul>
</td></tr>
</table>


<h3>Details</h3>

<p>The ties' value will be: <code class="reqn">1</code> if there is at least one common manager or owner, <code class="reqn">0</code> otherwise.
</p>


<h3>Value</h3>

<p>A matrix object of class <code>financial_matrix</code>(possibly using the <a href="https://cran.r-project.org/package=Matrix"><code>Matrix</code> package</a>)
</p>


<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>


<h3>See Also</h3>

<p>Other Financial_matrix builders: 
<code><a href="#topic+FF">FF</a>()</code>,
<code><a href="#topic+FF.binary.management">FF.binary.management</a>()</code>,
<code><a href="#topic+FF.binary.ownership">FF.binary.ownership</a>()</code>,
<code><a href="#topic+FF.naive.both">FF.naive.both</a>()</code>,
<code><a href="#topic+FF.naive.management">FF.naive.management</a>()</code>,
<code><a href="#topic+FF.naive.ownership">FF.naive.ownership</a>()</code>,
<code><a href="#topic+FF.norm.both">FF.norm.both</a>()</code>,
<code><a href="#topic+FF.norm.management">FF.norm.management</a>()</code>,
<code><a href="#topic+FF.norm.ownership">FF.norm.ownership</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Create the complete binary firm-firm matrix for the companies held by Berkshire Hathaway
data('firms_BKB')
FF &lt;- FF.binary.both(firms_BKB)


</code></pre>

<hr>
<h2 id='FF.binary.management'>Create a binary firm-firm (FF) matrix for board interlocks</h2><span id='topic+FF.binary.management'></span>

<h3>Description</h3>

<p>Function to create a binary firm-firm (FF) matrix based on board interlocks
</p>


<h3>Usage</h3>

<pre><code class='language-R'>FF.binary.management(
  ...,
  id_as_firm_name = NULL,
  Matrix = NULL,
  self_ties = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="FF.binary.management_+3A_...">...</code></td>
<td>
<p>Either multiple objects of class <code>firm</code> or a list of such objects</p>
</td></tr>
<tr><td><code id="FF.binary.management_+3A_id_as_firm_name">id_as_firm_name</code></td>
<td>
<p>Whether to use the ticker as the firm's name. Defaults to <code>TRUE</code> if all firms' id is neither <code>NULL</code> nor <code>NA</code>.</p>
</td></tr>
<tr><td><code id="FF.binary.management_+3A_matrix">Matrix</code></td>
<td>
<p>Whether to use the <a href="https://cran.r-project.org/package=Matrix"><code>Matrix</code> package</a>. Defaults to <code>TRUE</code> when any matrix in the pipeline contains more than 10,000 cells and the package is installed.</p>
</td></tr>
<tr><td><code id="FF.binary.management_+3A_self_ties">self_ties</code></td>
<td>
<p>Whether to allow self-ties (a 'loop' in graph theory). Defaults to <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A matrix object of class <code>financial_matrix</code>(possibly using the <a href="https://cran.r-project.org/package=Matrix"><code>Matrix</code> package</a>)
</p>


<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>


<h3>See Also</h3>

<p>Other Financial_matrix builders: 
<code><a href="#topic+FF">FF</a>()</code>,
<code><a href="#topic+FF.binary.both">FF.binary.both</a>()</code>,
<code><a href="#topic+FF.binary.ownership">FF.binary.ownership</a>()</code>,
<code><a href="#topic+FF.naive.both">FF.naive.both</a>()</code>,
<code><a href="#topic+FF.naive.management">FF.naive.management</a>()</code>,
<code><a href="#topic+FF.naive.ownership">FF.naive.ownership</a>()</code>,
<code><a href="#topic+FF.norm.both">FF.norm.both</a>()</code>,
<code><a href="#topic+FF.norm.management">FF.norm.management</a>()</code>,
<code><a href="#topic+FF.norm.ownership">FF.norm.ownership</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Create the binary FF matrix of Berkshire Hathaway's holdings by boards interlock
data('firms_BKB')
FF &lt;- FF.binary.management(firms_BKB)


</code></pre>

<hr>
<h2 id='FF.binary.ownership'>Create a binary firm-firm (FF) matrix for common ownership</h2><span id='topic+FF.binary.ownership'></span>

<h3>Description</h3>

<p>Function to create a binary firm-firm (FF) matrix based on common ownership
</p>


<h3>Usage</h3>

<pre><code class='language-R'>FF.binary.ownership(
  ...,
  id_as_firm_name = NULL,
  Matrix = NULL,
  self_ties = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="FF.binary.ownership_+3A_...">...</code></td>
<td>
<p>Either multiple objects of class <code>firm</code> or a list of such objects</p>
</td></tr>
<tr><td><code id="FF.binary.ownership_+3A_id_as_firm_name">id_as_firm_name</code></td>
<td>
<p>Whether to use the ticker as the firm's name. Defaults to <code>TRUE</code> if all firms' id is neither <code>NULL</code> nor <code>NA</code>.</p>
</td></tr>
<tr><td><code id="FF.binary.ownership_+3A_matrix">Matrix</code></td>
<td>
<p>Whether to use the <a href="https://cran.r-project.org/package=Matrix"><code>Matrix</code> package</a>. Defaults to <code>TRUE</code> when any matrix in the pipeline contains more than 10,000 cells and the package is installed.</p>
</td></tr>
<tr><td><code id="FF.binary.ownership_+3A_self_ties">self_ties</code></td>
<td>
<p>Whether to allow self-ties (a 'loop' in graph theory). Defaults to <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A matrix object of class <code>financial_matrix</code>(possibly using the <a href="https://cran.r-project.org/package=Matrix"><code>Matrix</code> package</a>)
</p>


<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>


<h3>See Also</h3>

<p>Other Financial_matrix builders: 
<code><a href="#topic+FF">FF</a>()</code>,
<code><a href="#topic+FF.binary.both">FF.binary.both</a>()</code>,
<code><a href="#topic+FF.binary.management">FF.binary.management</a>()</code>,
<code><a href="#topic+FF.naive.both">FF.naive.both</a>()</code>,
<code><a href="#topic+FF.naive.management">FF.naive.management</a>()</code>,
<code><a href="#topic+FF.naive.ownership">FF.naive.ownership</a>()</code>,
<code><a href="#topic+FF.norm.both">FF.norm.both</a>()</code>,
<code><a href="#topic+FF.norm.management">FF.norm.management</a>()</code>,
<code><a href="#topic+FF.norm.ownership">FF.norm.ownership</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Create the binary FF matrix of Berkshire Hathaway's holdings by common ownership
data('firms_BKB')
FF &lt;- FF.binary.ownership(firms_BKB)


</code></pre>

<hr>
<h2 id='FF.graph'>Easily represent a firm-firm (FF) network using the package <code>igraph</code></h2><span id='topic+FF.graph'></span>

<h3>Description</h3>

<p>Create an object of class <code>igraph</code> from the package <code>igraph</code> using a FF matrix of class <code>financial_matrix</code> using all the default aesthetic options
</p>


<h3>Usage</h3>

<pre><code class='language-R'>FF.graph(x, aesthetic = c("simple", "nice"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="FF.graph_+3A_x">x</code></td>
<td>
<p>A matrix-like object produced by <code><a href="#topic+FF">FF</a></code> and related functions.</p>
</td></tr>
<tr><td><code id="FF.graph_+3A_aesthetic">aesthetic</code></td>
<td>
<p>Choose a pre-set for the graph's look. Either <code>'simple'</code> or <code>'nice'</code> (see Details).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function does not allow for any of the additional arguments that can be passed to <code><a href="#topic+FF.graph.custom">FF.graph.custom</a></code>.
</p>


<h3>Value</h3>

<p>A network in the desired format
</p>


<h3>Loops and values</h3>

<p>Loops will be allowed if at least one of the matrix's diagonal entries is not zero.
The igraph will be valued if at least one entry of the matrix is neither zero nor one.
</p>
<p>Instead, if <code>aesthetic</code> is set to <code>'simple'</code>:
</p>

<ul>
<li><p> The width of the ties is <code>1</code>;
</p>
</li>
<li><p> The colour of the ties is <code>#b4b4b4</code> (<a href="https://www.color-name.com/hex/b4b4b4">Philippine Silver</a>);
</p>
</li>
<li><p> The size of the nodes is <code>5</code>;
</p>
</li>
<li><p> The colour of the nodes is <code>#081677</code> (<a href="https://www.color-name.com/gentian-blue.color">Gentian blue</a>).
</p>
</li></ul>

<p>Otherwise, if <code>aesthetic</code> is set to <code>'nice'</code>:
</p>

<ul>
<li><p> The width of the ties is <code>1</code>;
</p>
</li>
<li><p> The colour of the ties is a grey scale reflecting tie strength if the graph is valued, otherwise it is <code>#b4b4b4</code> (<a href="https://www.color-name.com/hex/b4b4b4">Philippine Silver</a>);
</p>
</li>
<li><p> The size of the nodes reflects their <code>capitalisation</code> if all firms have data on it and ranges between <code>1</code> and <code>5</code>, otherwise it is <code>5</code> for all nodes;
</p>
</li>
<li><p> The colour of the nodes reflects their <code>sector</code> if all firms have data on it is taken from a built-in palette, otherwise it is <code>#081677</code> (<a href="https://www.color-name.com/gentian-blue.color">Gentian blue</a>).
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>


<h3>See Also</h3>

<p><a href="#topic+FF.net">FF.net</a> <a href="#topic+FF.net.custom">FF.net.custom</a> <a href="#topic+FF.graph.custom">FF.graph.custom</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create a nice graph representation of the binary FF of
# Berkshire Hataway's holdings based on common ownership
data("firms_BKB")
x &lt;- FF.naive.ownership(firms_BKB)
FF.graph(x = x, aesthetic = 'nice')

</code></pre>

<hr>
<h2 id='FF.graph.custom'>Represent a firm-firm (FF) network using the package <code>igraph</code></h2><span id='topic+FF.graph.custom'></span>

<h3>Description</h3>

<p>Create an object of class <code>graph</code> from the package <code>igraph</code> using a FF matrix of class <code>financial_matrix</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>FF.graph.custom(
  x,
  vertex.size = NULL,
  vertex.colour = NULL,
  edge.width = NULL,
  edge.greyscale = NULL,
  directed = TRUE,
  loops = FALSE,
  weighted = any(x@M %in% c(0, 1)),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="FF.graph.custom_+3A_x">x</code></td>
<td>
<p>A matrix-like object produced by <code><a href="#topic+FF">FF</a></code> and related functions</p>
</td></tr>
<tr><td><code id="FF.graph.custom_+3A_vertex.size">vertex.size</code></td>
<td>
<p>Which piece of information on the firms should be used to represent the nodes' size (see Details).</p>
</td></tr>
<tr><td><code id="FF.graph.custom_+3A_vertex.colour">vertex.colour</code></td>
<td>
<p>Which piece of  information on the firms should be used to represent the nodes' colours (see Details).</p>
</td></tr>
<tr><td><code id="FF.graph.custom_+3A_edge.width">edge.width</code></td>
<td>
<p>Whether to use the edges' width to represent tie strength. Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="FF.graph.custom_+3A_edge.greyscale">edge.greyscale</code></td>
<td>
<p>Whether to use the edges' colour to represent tie strength through a grey scale. Defaults to <code>TRUE</code> if the matrix is valued.</p>
</td></tr>
<tr><td><code id="FF.graph.custom_+3A_directed">directed</code></td>
<td>
<p>Whether the network should be directed. Defaults to <code>TRUE</code></p>
</td></tr>
<tr><td><code id="FF.graph.custom_+3A_loops">loops</code></td>
<td>
<p>Whether the network should have loops. Defaults to <code>FALSE</code></p>
</td></tr>
<tr><td><code id="FF.graph.custom_+3A_weighted">weighted</code></td>
<td>
<p>Whether the ties/edges should be weighted. Defaults to <code>TRUE</code> if any element of the matrix equals neither 0 nor 1</p>
</td></tr>
<tr><td><code id="FF.graph.custom_+3A_...">...</code></td>
<td>
<p>Aliases to the other parameters and additional settings (see Details).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function allows for a number of additional arguments.
</p>


<h3>Value</h3>

<p>A network in the desired format
</p>


<h3>What can be passed to <code>vertex.colour</code> and <code>vertex.size</code></h3>

<p>The pieces of information that is possible to pass to <code>vertex.size</code> and <code>vertex.colour</code> are:
</p>

<ul>
<li> <p><code>capitalisation</code>, will be arranged into steps (see <code>capitalisation.bins</code> below)
</p>
</li>
<li> <p><code>revenue</code>, will be arranged into steps (see <code>revenues.bins</code> below)
</p>
</li>
<li> <p><code>legal_form</code>
</p>
</li>
<li> <p><code>sector</code>
</p>
</li>
<li> <p><code>currency</code>
</p>
</li></ul>



<h3>What can be passed to <code>edge.width</code> and <code>edge.greyscale</code></h3>

<p>The pieces of information that is possible to pass to <code>edge.width</code> and <code>edge.greyscale</code> are:
</p>

<ul>
<li> <p><code>capitalisation</code>
</p>
</li>
<li> <p><code>revenue</code>
</p>
</li></ul>



<h3>Additional parameters related to <code>vertex.size</code></h3>

<p>The effect of the additional parameters that modify the behaviour of <code>vertex.size</code> are:
</p>
<p><code>vertex.size.max</code> (defaults to <code>5</code>) :
</p>

<ul>
<li><p> if <code>vertex.size</code> or one of its aliases is specified, this is the size of the biggest vertex;
</p>
</li>
<li><p> if neither <code>vertex.size</code> nor any of its aliases is given, this is the size of ALL vertices.
</p>
</li></ul>

<p><code>vertex.size.min</code> (defaults to <code>1</code>):
</p>

<ul>
<li><p> if <code>vertex.size</code> or one of its aliases is specified, this is the size of the smallest vertex;
</p>
</li>
<li><p> if neither <code>vertex.size</code> nor any of its aliases is given, it is ignored.
</p>
</li></ul>



<h3>Additional parameters related to <code>vertex.colour</code></h3>

<p>The only additional parameter related to <code>vertex.colour</code> is <code>vertex.colour.palette</code>.
It supports a vector of RGB or named colours (see <code><a href="grDevices.html#topic+colours">colours</a></code> for all named colours in <code>R</code>).
It also accepts complete calls to functions that return a such a vector like <code>RColorBrewer::brewer.pal(n, name)</code> or <code>viridisLite::viridis(n, option)</code>.
If the palette is too short, it will be extended automatically using <code><a href="grDevices.html#topic+colorRampPalette">colorRampPalette</a></code>.
If the palette is not declared, but this arguemnt is <code>TRUE</code>, it will defaulr to the following vector of colours:
</p>

<ul>
<li> <p><code>#00204D</code>, <a href="https://www.color-name.com/hex/00204d">Oxford Blue</a>
</p>
</li>
<li> <p><code>#31446B</code>, <a href="https://www.color-name.com/hex/31446B">Police Blue</a>
</p>
</li>
<li> <p><code>#666970</code>, <a href="https://www.color-name.com/hex/666970">Dim Grey</a>
</p>
</li>
<li> <p><code>#958F78</code>, <a href="https://www.color-name.com/hex/958F78">Artichoke</a>
</p>
</li>
<li> <p><code>#CBBA69</code>, <a href="https://www.color-name.com/hex/CBBA69">Dark Khaki</a>
</p>
</li>
<li> <p><code>#FFEA46</code>, <a href="https://www.color-name.com/hex/FFEA46">Gargoyle Gas</a>
</p>
</li></ul>

<p>If the argument is <code>FALSE</code>, <code>NULL</code> or <code>NA</code>, the vertex will be coloured of <code>#081677</code> (<a href="https://www.color-name.com/gentian-blue.color">Gentian blue</a>).
</p>


<h3>Additional parameters related to <code>edge.width</code></h3>

<p><code>edge.width.max</code> (defaults to <code>5</code>) :
</p>

<ul>
<li><p> if <code>edge.width</code> or one of its aliases is specified, this is the thickness of the thickest edge;
</p>
</li>
<li><p> if neither <code>edge.width</code> nor any of its aliases is given, this is the thickness of ALL edges
</p>
</li></ul>

<p><code>edge.width.min</code> (defaults to <code>1</code>):
</p>

<ul>
<li><p>  if <code>edge.width</code> or one of its aliases is specified, this is the thickness of the slimmest edge;
</p>
</li>
<li><p>  if neither <code>edge.width</code> nor any of its aliases is given, it is ignored.
</p>
</li></ul>



<h3>Additional parameters related to <code>edge.greyscale</code></h3>

<p><code>edge.greyscale.darkest</code> (defaults to <code>5</code>) :
</p>

<ul>
<li><p> if <code>edge.greyscale</code> or one of its aliases is specified, this is the thickness of the thickest edge;
</p>
</li>
<li><p> if neither <code>edge.greyscale</code> nor any of its aliases is given, this is the thickness of ALL edges
</p>
</li></ul>

<p><code>edge.greyscale.fairest</code> (defaults to <code>1</code>):
</p>

<ul>
<li><p> if <code>edge.greyscale</code> or one of its aliases is specified, this is the thickness of the slimmest edge;
</p>
</li>
<li><p> if neither <code>edge.greyscale</code> nor any of its aliases is given, it is ignored.
</p>
</li></ul>

<p>Several aliases are accepted for all arguments, except <code>M</code>:
</p>

<ul>
<li><p> for <code>vertex.size</code>: <code>node.size</code>
</p>
</li>
<li><p> for <code>vertex.colour</code>: <code>vertex.color</code>, <code>node.colour</code>, and <code>node.color</code>;
</p>
</li>
<li><p> for <code>edge.width</code>: <code>tie.width</code>
</p>
</li>
<li><p> for <code>edge.greyscale</code>: <code>tie.grayscale</code>, <code>tie.greyscale</code>, and <code>edge.grayscale</code>
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>


<h3>See Also</h3>

<p><a href="#topic+FF.net">FF.net</a> <a href="#topic+FF.net.custom">FF.net.custom</a> <a href="#topic+FF.graph">FF.graph</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create the graph representation of the binary FF of
# Berkshire Hataway's holdings based on common ownership
data("firms_BKB")
x &lt;- FF.naive.ownership(firms_BKB)
FF.graph.custom(x = x, node.size = 3)

</code></pre>

<hr>
<h2 id='FF.naive.both'>Create a complete naive-valued firm-firm (FF) matrix</h2><span id='topic+FF.naive.both'></span>

<h3>Description</h3>

<p>Function to create a naive-valued firm-firm (FF) matrix based on both common ownership and board interlocks
</p>


<h3>Usage</h3>

<pre><code class='language-R'>FF.naive.both(
  ...,
  id_as_firm_name = NULL,
  Matrix = NULL,
  self_ties = FALSE,
  combining = "sum"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="FF.naive.both_+3A_...">...</code></td>
<td>
<p>Either multiple objects of class <code>firm</code> or a list of such objects</p>
</td></tr>
<tr><td><code id="FF.naive.both_+3A_id_as_firm_name">id_as_firm_name</code></td>
<td>
<p>Whether to use the ticker as the firm's name. Defaults to <code>TRUE</code> if all firms' id is neither <code>NULL</code> nor <code>NA</code>.</p>
</td></tr>
<tr><td><code id="FF.naive.both_+3A_matrix">Matrix</code></td>
<td>
<p>Whether to use the <a href="https://cran.r-project.org/package=Matrix"><code>Matrix</code> package</a>. Defaults to <code>TRUE</code> when any matrix in the pipeline contains more than 10,000 cells and the package is installed.</p>
</td></tr>
<tr><td><code id="FF.naive.both_+3A_self_ties">self_ties</code></td>
<td>
<p>Whether to allow self-ties (a 'loop' in graph theory). Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="FF.naive.both_+3A_combining">combining</code></td>
<td>
<p>How to combine the FF matrix for managers and that for owners. Possible values:
</p>

<ul>
<li> <p><code>sum</code>;
</p>
</li>
<li> <p><code>mean</code> or <code>average</code>;
</p>
</li>
<li> <p><code>min</code>;
</p>
</li>
<li> <p><code>max</code>;
</p>
</li></ul>
</td></tr>
</table>


<h3>Details</h3>

<p>The ties' value will reflect the count of common owners and membership depending on <code>combining</code>:
</p>

<ul>
<li> <p><code>sum</code>: sum of the counts;
</p>
</li>
<li> <p><code>mean</code> or <code>average</code>: average of the counts;
</p>
</li>
<li> <p><code>min</code>: minimum of the counts;
</p>
</li>
<li> <p><code>max</code>: maximum of the counts.
</p>
</li></ul>



<h3>Value</h3>

<p>A matrix object of class <code>financial_matrix</code>(possibly using the <a href="https://cran.r-project.org/package=Matrix"><code>Matrix</code> package</a>)
</p>


<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>


<h3>See Also</h3>

<p>Other Financial_matrix builders: 
<code><a href="#topic+FF">FF</a>()</code>,
<code><a href="#topic+FF.binary.both">FF.binary.both</a>()</code>,
<code><a href="#topic+FF.binary.management">FF.binary.management</a>()</code>,
<code><a href="#topic+FF.binary.ownership">FF.binary.ownership</a>()</code>,
<code><a href="#topic+FF.naive.management">FF.naive.management</a>()</code>,
<code><a href="#topic+FF.naive.ownership">FF.naive.ownership</a>()</code>,
<code><a href="#topic+FF.norm.both">FF.norm.both</a>()</code>,
<code><a href="#topic+FF.norm.management">FF.norm.management</a>()</code>,
<code><a href="#topic+FF.norm.ownership">FF.norm.ownership</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Create the complete naive firm-firm matrix for the companies held by Berkshire Hathaway
data('firms_BKB')
FF &lt;- FF.naive.both(firms_BKB)

</code></pre>

<hr>
<h2 id='FF.naive.management'>Create a naive-valued firm-firm (FF) matrix for boards interlocks</h2><span id='topic+FF.naive.management'></span>

<h3>Description</h3>

<p>Function to create a naive-valued firm-firm (FF) matrix based on boards interlocks
</p>


<h3>Usage</h3>

<pre><code class='language-R'>FF.naive.management(
  ...,
  id_as_firm_name = NULL,
  Matrix = NULL,
  self_ties = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="FF.naive.management_+3A_...">...</code></td>
<td>
<p>Either multiple objects of class <code>firm</code> or a list of such objects</p>
</td></tr>
<tr><td><code id="FF.naive.management_+3A_id_as_firm_name">id_as_firm_name</code></td>
<td>
<p>Whether to use the ticker as the firm's name. Defaults to <code>TRUE</code> if all firms' id is neither <code>NULL</code> nor <code>NA</code>.</p>
</td></tr>
<tr><td><code id="FF.naive.management_+3A_matrix">Matrix</code></td>
<td>
<p>Whether to use the <a href="https://cran.r-project.org/package=Matrix"><code>Matrix</code> package</a>. Defaults to <code>TRUE</code> when any matrix in the pipeline contains more than 10,000 cells and the package is installed.</p>
</td></tr>
<tr><td><code id="FF.naive.management_+3A_self_ties">self_ties</code></td>
<td>
<p>Whether to allow self-ties (a 'loop' in graph theory). Defaults to <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Naive-valued means simply counting the number of common managers.
</p>


<h3>Value</h3>

<p>A matrix object of class <code>financial_matrix</code>(possibly using the <a href="https://cran.r-project.org/package=Matrix"><code>Matrix</code> package</a>)
</p>


<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>


<h3>See Also</h3>

<p>Other Financial_matrix builders: 
<code><a href="#topic+FF">FF</a>()</code>,
<code><a href="#topic+FF.binary.both">FF.binary.both</a>()</code>,
<code><a href="#topic+FF.binary.management">FF.binary.management</a>()</code>,
<code><a href="#topic+FF.binary.ownership">FF.binary.ownership</a>()</code>,
<code><a href="#topic+FF.naive.both">FF.naive.both</a>()</code>,
<code><a href="#topic+FF.naive.ownership">FF.naive.ownership</a>()</code>,
<code><a href="#topic+FF.norm.both">FF.norm.both</a>()</code>,
<code><a href="#topic+FF.norm.management">FF.norm.management</a>()</code>,
<code><a href="#topic+FF.norm.ownership">FF.norm.ownership</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Create the naive FF matrix of Berkshire Hathaway's holdings by boards interlocks
data('firms_BKB')
FF &lt;- FF.naive.management(firms_BKB)

</code></pre>

<hr>
<h2 id='FF.naive.ownership'>Create a naive-valued firm-firm (FF) matrix for common ownership</h2><span id='topic+FF.naive.ownership'></span>

<h3>Description</h3>

<p>Function to create a naive-valued firm-firm (FF) matrix based on common ownership
</p>


<h3>Usage</h3>

<pre><code class='language-R'>FF.naive.ownership(
  ...,
  id_as_firm_name = NULL,
  Matrix = NULL,
  self_ties = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="FF.naive.ownership_+3A_...">...</code></td>
<td>
<p>Either multiple objects of class <code>firm</code> or a list of such objects</p>
</td></tr>
<tr><td><code id="FF.naive.ownership_+3A_id_as_firm_name">id_as_firm_name</code></td>
<td>
<p>Whether to use the ticker as the firm's name. Defaults to <code>TRUE</code> if all firms' id is neither <code>NULL</code> nor <code>NA</code>.</p>
</td></tr>
<tr><td><code id="FF.naive.ownership_+3A_matrix">Matrix</code></td>
<td>
<p>Whether to use the <a href="https://cran.r-project.org/package=Matrix"><code>Matrix</code> package</a>. Defaults to <code>TRUE</code> when any matrix in the pipeline contains more than 10,000 cells and the package is installed.</p>
</td></tr>
<tr><td><code id="FF.naive.ownership_+3A_self_ties">self_ties</code></td>
<td>
<p>Whether to allow self-ties (a 'loop' in graph theory). Defaults to <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Naive-valued means simply counting the number of common owners
</p>


<h3>Value</h3>

<p>A matrix object of class <code>financial_matrix</code>(possibly using the <a href="https://cran.r-project.org/package=Matrix"><code>Matrix</code> package</a>)
</p>


<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>


<h3>See Also</h3>

<p>Other Financial_matrix builders: 
<code><a href="#topic+FF">FF</a>()</code>,
<code><a href="#topic+FF.binary.both">FF.binary.both</a>()</code>,
<code><a href="#topic+FF.binary.management">FF.binary.management</a>()</code>,
<code><a href="#topic+FF.binary.ownership">FF.binary.ownership</a>()</code>,
<code><a href="#topic+FF.naive.both">FF.naive.both</a>()</code>,
<code><a href="#topic+FF.naive.management">FF.naive.management</a>()</code>,
<code><a href="#topic+FF.norm.both">FF.norm.both</a>()</code>,
<code><a href="#topic+FF.norm.management">FF.norm.management</a>()</code>,
<code><a href="#topic+FF.norm.ownership">FF.norm.ownership</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Create the naive FF matrix of Berkshire Hathaway's holdings by common ownership
data('firms_BKB')
FF &lt;- FF.naive.ownership(firms_BKB)

</code></pre>

<hr>
<h2 id='FF.net'>Easily represent a firm-firm (FF) network using the package <code>network</code></h2><span id='topic+FF.net'></span>

<h3>Description</h3>

<p>Create an object of class <code>network</code> from the package <code>network</code> using a FF matrix of class <code>financial_matrix</code> using all the default aesthetic options
</p>


<h3>Usage</h3>

<pre><code class='language-R'>FF.net(x, aesthetic = c("simple", "nice"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="FF.net_+3A_x">x</code></td>
<td>
<p>A matrix-like object produced by <code><a href="#topic+FF">FF</a></code> and related functions.</p>
</td></tr>
<tr><td><code id="FF.net_+3A_aesthetic">aesthetic</code></td>
<td>
<p>Choose a pre-set for the network's look. Either <code>'simple'</code> or <code>'nice'</code> (see Details).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function does not allow for any of the additional arguments that can be passed to <code><a href="#topic+FF.net.custom">FF.net.custom</a></code>.
</p>


<h3>Value</h3>

<p>A network in the desired format
</p>


<h3>Loops and values</h3>

<p>Loops will be allowed if at least one of the matrix's diagonal entries is not zero.
The network will be valued if at least one entry of the matrix is neither zero nor one.
</p>
<p>Instead, if <code>aesthetic</code> is set to <code>'simple'</code>:
</p>

<ul>
<li><p> The width of the ties is <code>1</code>;
</p>
</li>
<li><p> The colour of the ties is <code>#b4b4b4</code> (<a href="https://www.color-name.com/hex/b4b4b4">Philippine Silver</a>);
</p>
</li>
<li><p> The size of the nodes is <code>5</code>;
</p>
</li>
<li><p> The colour of the nodes is <code>#081677</code> (<a href="https://www.color-name.com/gentian-blue.color">Gentian blue</a>).
</p>
</li></ul>

<p>Otherwise, if <code>aesthetic</code> is set to <code>'nice'</code>:
</p>

<ul>
<li><p> The width of the ties is <code>1</code>;
</p>
</li>
<li><p> The colour of the ties is a grey scale reflecting tie strength if the network is valued, otherwise it is <code>#b4b4b4</code> (<a href="https://www.color-name.com/hex/b4b4b4">Philippine Silver</a>);
</p>
</li>
<li><p> The size of the nodes reflects their <code>capitalisation</code> if all firms have data on it and ranges between <code>1</code> and <code>5</code>, otherwise it is <code>5</code> for all nodes;
</p>
</li>
<li><p> The colour of the nodes reflects their <code>sector</code> if all firms have data on it is taken from a built-in palette, otherwise it is <code>#081677</code> (<a href="https://www.color-name.com/gentian-blue.color">Gentian blue</a>).
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>


<h3>See Also</h3>

<p><a href="#topic+FF.net.custom">FF.net.custom</a> <a href="#topic+FF.graph">FF.graph</a> <a href="#topic+FF.graph.custom">FF.graph.custom</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create a nice network representation of the binary FF of
# Berkshire Hataway's holdings based on common ownership
data("firms_BKB")
x &lt;- FF.naive.ownership(firms_BKB)
FF.net(x = x, aesthetic = 'nice')

</code></pre>

<hr>
<h2 id='FF.net.custom'>Represent a firm-firm (FF) network using the package <code>network</code></h2><span id='topic+FF.net.custom'></span>

<h3>Description</h3>

<p>Create an object of class <code>network</code> from the package <code>network</code> using a FF matrix of class <code>financial_matrix</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>FF.net.custom(
  x,
  vertex.size = NULL,
  vertex.colour = NULL,
  edge.width = NULL,
  edge.greyscale = NULL,
  directed = TRUE,
  loops = FALSE,
  weighted = any(x@M %in% c(0, 1)),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="FF.net.custom_+3A_x">x</code></td>
<td>
<p>A matrix-like object produced by <code><a href="#topic+FF">FF</a></code> and related functions</p>
</td></tr>
<tr><td><code id="FF.net.custom_+3A_vertex.size">vertex.size</code></td>
<td>
<p>Which piece of information on the firms should be used to represent the nodes' size (see Details).</p>
</td></tr>
<tr><td><code id="FF.net.custom_+3A_vertex.colour">vertex.colour</code></td>
<td>
<p>Which piece of  information on the firms should be used to represent the nodes' colours (see Details).</p>
</td></tr>
<tr><td><code id="FF.net.custom_+3A_edge.width">edge.width</code></td>
<td>
<p>Whether to use the edges' width to represent tie strength. Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="FF.net.custom_+3A_edge.greyscale">edge.greyscale</code></td>
<td>
<p>Whether to use the edges' colour to represent tie strength through a grey scale. Defaults to <code>TRUE</code> if the matrix is valued.</p>
</td></tr>
<tr><td><code id="FF.net.custom_+3A_directed">directed</code></td>
<td>
<p>Whether the network should be directed. Defaults to <code>TRUE</code></p>
</td></tr>
<tr><td><code id="FF.net.custom_+3A_loops">loops</code></td>
<td>
<p>Whether the network should have loops. Defaults to <code>FALSE</code></p>
</td></tr>
<tr><td><code id="FF.net.custom_+3A_weighted">weighted</code></td>
<td>
<p>Whether the ties/edges should be weighted. Defaults to <code>TRUE</code> if any element of the matrix equals neither 0 nor 1</p>
</td></tr>
<tr><td><code id="FF.net.custom_+3A_...">...</code></td>
<td>
<p>Aliases to the other parameters and additional settings (see Details).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function allows for a number of additional arguments.
</p>


<h3>Value</h3>

<p>A network in the desired format
</p>


<h3>What can be passed to <code>vertex.colour</code> and <code>vertex.size</code></h3>

<p>The pieces of information that is possible to pass to <code>vertex.size</code> and <code>vertex.colour</code> are:
</p>

<ul>
<li> <p><code>capitalisation</code>, will be arranged into steps (see <code>capitalisation.bins</code> below)
</p>
</li>
<li> <p><code>revenue</code>, will be arranged into steps (see <code>revenues.bins</code> below)
</p>
</li>
<li> <p><code>legal_form</code>
</p>
</li>
<li> <p><code>sector</code>
</p>
</li>
<li> <p><code>currency</code>
</p>
</li></ul>



<h3>What can be passed to <code>edge.width</code> and <code>edge.greyscale</code></h3>

<p>The pieces of information that is possible to pass to <code>edge.width</code> and <code>edge.greyscale</code> are:
</p>

<ul>
<li> <p><code>capitalisation</code>
</p>
</li>
<li> <p><code>revenue</code>
</p>
</li></ul>



<h3>Additional parameters related to <code>vertex.size</code></h3>

<p>The effect of the additional parameters that modify the behaviour of <code>vertex.size</code> are:
</p>
<p><code>vertex.size.max</code> (defaults to <code>5</code>):
</p>

<ul>
<li><p> if <code>vertex.size</code> or one of its aliases is specified, this is the size of the biggest vertex;
</p>
</li>
<li><p> if neither <code>vertex.size</code> nor any of its aliases is given, this is the size of ALL vertices.
</p>
</li></ul>

<p><code>vertex.size.min</code> (defaults to <code>1</code>):
</p>

<ul>
<li><p> if <code>vertex.size</code> or one of its aliases is specified, this is the size of the smallest vertex;
</p>
</li>
<li><p> if neither <code>vertex.size</code> nor any of its aliases is given, it is ignored.
</p>
</li></ul>



<h3>Additional parameters related to <code>vertex.colour</code></h3>

<p>The only additional parameter related to <code>vertex.colour</code> is <code>vertex.colour.palette</code>.
It supports a vector of RGB or named colours (see <code><a href="grDevices.html#topic+colours">colours</a></code> for all named colours in <code>R</code>).
It also accepts complete calls to functions that return a such a vector like <code>RColorBrewer::brewer.pal(n, name)</code> or <code>viridisLite::viridis(n, option)</code>.
If the palette is too short, it will be extended automatically using <code><a href="grDevices.html#topic+colorRampPalette">colorRampPalette</a></code>.
If the palette is not declared, but this arguemnt is <code>TRUE</code>, it will defaulr to the following vector of colours:
</p>

<ul>
<li> <p><code>#00204D</code>, <a href="https://www.color-name.com/hex/00204d">Oxford Blue</a>
</p>
</li>
<li> <p><code>#31446B</code>, <a href="https://www.color-name.com/hex/31446B">Police Blue</a>
</p>
</li>
<li> <p><code>#666970</code>, <a href="https://www.color-name.com/hex/666970">Dim Gray</a>
</p>
</li>
<li> <p><code>#958F78</code>, <a href="https://www.color-name.com/hex/958F78">Artichoke</a>
</p>
</li>
<li> <p><code>#CBBA69</code>, <a href="https://www.color-name.com/hex/CBBA69">Dark Khaki</a>
</p>
</li>
<li> <p><code>#FFEA46</code>, <a href="https://www.color-name.com/hex/FFEA46">Gargoyle Gas</a>
</p>
</li></ul>

<p>If the argument is <code>FALSE</code>, <code>NULL</code> or <code>NA</code>, the vertex will be coloured of <code>#081677</code> (<a href="https://www.color-name.com/gentian-blue.color">Gentian blue</a>).
</p>


<h3>Additional parameters related to <code>edge.width</code></h3>

<p><code>edge.width.max</code> (defaults to <code>5</code>):
</p>

<ul>
<li><p> if <code>edge.width</code> or one of its aliases is specified, this is the thickness of the thickest edge;
</p>
</li>
<li><p> if neither <code>edge.width</code> nor any of its aliases is given, this is the thickness of ALL edges
</p>
</li></ul>

<p><code>edge.width.min</code> (defaults to <code>1</code>):
</p>

<ul>
<li><p> if <code>edge.width</code> or one of its aliases is specified, this is the thickness of the slimmest edge;
</p>
</li>
<li><p> if neither <code>edge.width</code> nor any of its aliases is given, it is ignored.
</p>
</li></ul>



<h3>Additional parameters related to <code>edge.greyscale</code></h3>

<p><code>edge.greyscale.darkest</code> (defaults to <code>5</code>) :
</p>

<ul>
<li><p> if <code>edge.greyscale</code> or one of its aliases is specified, this is the thickness of the thickest edge;
</p>
</li>
<li><p> if neither <code>edge.greyscale</code> nor any of its aliases is given, this is the thickness of ALL edges
</p>
</li></ul>

<p><code>edge.greyscale.fairest</code> (defaults to <code>1</code>):
</p>

<ul>
<li><p> if <code>edge.greyscale</code> or one of its aliases is specified, this is the thickness of the slimmest edge;
</p>
</li>
<li><p> if neither <code>edge.greyscale</code> nor any of its aliases is given, it is ignored.
</p>
</li></ul>

<p>Several aliases are accepted for all arguments, except <code>M</code>:
</p>

<ul>
<li><p> for <code>vertex.size</code>: <code>node.size</code>
</p>
</li>
<li><p> for <code>vertex.colour</code>: <code>vertex.color</code>, <code>node.colour</code>, and <code>node.color</code>;
</p>
</li>
<li><p> for <code>edge.width</code>: <code>tie.width</code>
</p>
</li>
<li><p> for <code>edge.greyscale</code>: <code>tie.grayscale</code>, <code>tie.greyscale</code>, and <code>edge.grayscale</code>
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>


<h3>See Also</h3>

<p><a href="#topic+FF.net">FF.net</a> <a href="#topic+FF.graph">FF.graph</a> <a href="#topic+FF.graph.custom">FF.graph.custom</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create the network representation of the binary FF of
# Berkshire Hataway's holdings based on common ownership
data("firms_BKB")
x &lt;- FF.naive.ownership(firms_BKB)
FF.net.custom(x = x, node.size = 3)

</code></pre>

<hr>
<h2 id='FF.norm.both'>Create a complete normalised-valued firm-firm (FF) matrix</h2><span id='topic+FF.norm.both'></span>

<h3>Description</h3>

<p>Function to create a normalised-valued firm-firm (FF) matrix based on both common ownership and board interlocks
</p>


<h3>Usage</h3>

<pre><code class='language-R'>FF.norm.both(
  ...,
  id_as_firm_name = NULL,
  Matrix = NULL,
  self_ties = FALSE,
  combining = "sum"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="FF.norm.both_+3A_...">...</code></td>
<td>
<p>Either multiple objects of class <code>firm</code> or a list of such objects</p>
</td></tr>
<tr><td><code id="FF.norm.both_+3A_id_as_firm_name">id_as_firm_name</code></td>
<td>
<p>Whether to use the ticker as the firm's name. Defaults to <code>TRUE</code> if all firms' id is neither <code>NULL</code> nor <code>NA</code>.</p>
</td></tr>
<tr><td><code id="FF.norm.both_+3A_matrix">Matrix</code></td>
<td>
<p>Whether to use the <a href="https://cran.r-project.org/package=Matrix"><code>Matrix</code> package</a>. Defaults to <code>TRUE</code> when any matrix in the pipeline contains more than 10,000 cells and the package is installed.</p>
</td></tr>
<tr><td><code id="FF.norm.both_+3A_self_ties">self_ties</code></td>
<td>
<p>Whether to allow self-ties (a 'loop' in graph theory). Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="FF.norm.both_+3A_combining">combining</code></td>
<td>
<p>How to combine the FF matrix for managers and that for owners. Possible values:
</p>

<ul>
<li> <p><code>sum</code>;
</p>
</li>
<li> <p><code>mean</code> or <code>average</code>;
</p>
</li>
<li> <p><code>min</code>;
</p>
</li>
<li> <p><code>max</code>;
</p>
</li></ul>
</td></tr>
</table>


<h3>Details</h3>

<p>The ties' value will reflect the count of common owners and membership depending on <code>combining</code>:
-<code>sum</code>: sum of the shares (normalised on 2);
-<code>mean</code> or <code>average</code>: average of the shares (normalised on 1);
-<code>min</code>: minimum of the shares (normalised on 1);
-<code>max</code>: maximum of the shares (normalised on 1).
</p>


<h3>Value</h3>

<p>A matrix object of class <code>financial_matrix</code>(possibly using the <a href="https://cran.r-project.org/package=Matrix"><code>Matrix</code> package</a>)
</p>


<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>


<h3>See Also</h3>

<p>Other Financial_matrix builders: 
<code><a href="#topic+FF">FF</a>()</code>,
<code><a href="#topic+FF.binary.both">FF.binary.both</a>()</code>,
<code><a href="#topic+FF.binary.management">FF.binary.management</a>()</code>,
<code><a href="#topic+FF.binary.ownership">FF.binary.ownership</a>()</code>,
<code><a href="#topic+FF.naive.both">FF.naive.both</a>()</code>,
<code><a href="#topic+FF.naive.management">FF.naive.management</a>()</code>,
<code><a href="#topic+FF.naive.ownership">FF.naive.ownership</a>()</code>,
<code><a href="#topic+FF.norm.management">FF.norm.management</a>()</code>,
<code><a href="#topic+FF.norm.ownership">FF.norm.ownership</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Create the complete normalised firm-firm matrix for the companies held by Berkshire Hathaway
data('firms_BKB')
FF &lt;- FF.norm.both(firms_BKB)


</code></pre>

<hr>
<h2 id='FF.norm.management'>Create a normalised-valued firm-firm (FF) matrix for boards interlocks</h2><span id='topic+FF.norm.management'></span>

<h3>Description</h3>

<p>Function to create a normalised-valued firm-firm (FF) matrix based on boards interlocks
</p>


<h3>Usage</h3>

<pre><code class='language-R'>FF.norm.management(
  ...,
  id_as_firm_name = NULL,
  Matrix = NULL,
  self_ties = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="FF.norm.management_+3A_...">...</code></td>
<td>
<p>Either multiple objects of class <code>firm</code> or a list of such objects</p>
</td></tr>
<tr><td><code id="FF.norm.management_+3A_id_as_firm_name">id_as_firm_name</code></td>
<td>
<p>Whether to use the ticker as the firm's name. Defaults to <code>TRUE</code> if all firms' id is neither <code>NULL</code> nor <code>NA</code>.</p>
</td></tr>
<tr><td><code id="FF.norm.management_+3A_matrix">Matrix</code></td>
<td>
<p>Whether to use the <a href="https://cran.r-project.org/package=Matrix"><code>Matrix</code> package</a>. Defaults to <code>TRUE</code> when any matrix in the pipeline contains more than 10,000 cells and the package is installed.</p>
</td></tr>
<tr><td><code id="FF.norm.management_+3A_self_ties">self_ties</code></td>
<td>
<p>Whether to allow self-ties (a 'loop' in graph theory). Defaults to <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Normalised-valued means that weights represent the share of common managers.
</p>


<h3>Value</h3>

<p>A matrix object of class <code>financial_matrix</code>(possibly using the <a href="https://cran.r-project.org/package=Matrix"><code>Matrix</code> package</a>)
</p>


<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>


<h3>See Also</h3>

<p>Other Financial_matrix builders: 
<code><a href="#topic+FF">FF</a>()</code>,
<code><a href="#topic+FF.binary.both">FF.binary.both</a>()</code>,
<code><a href="#topic+FF.binary.management">FF.binary.management</a>()</code>,
<code><a href="#topic+FF.binary.ownership">FF.binary.ownership</a>()</code>,
<code><a href="#topic+FF.naive.both">FF.naive.both</a>()</code>,
<code><a href="#topic+FF.naive.management">FF.naive.management</a>()</code>,
<code><a href="#topic+FF.naive.ownership">FF.naive.ownership</a>()</code>,
<code><a href="#topic+FF.norm.both">FF.norm.both</a>()</code>,
<code><a href="#topic+FF.norm.ownership">FF.norm.ownership</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Create the normalised FF matrix of Berkshire Hathaway's holdings by boards interlocks
data('firms_BKB')
FF &lt;- FF.norm.management(firms_BKB)

</code></pre>

<hr>
<h2 id='FF.norm.ownership'>Create a normalised-valued firm-firm (FF) matrix for common ownership</h2><span id='topic+FF.norm.ownership'></span>

<h3>Description</h3>

<p>Function to create a normalised-valued firm-firm (FF) matrix based on common ownership
</p>


<h3>Usage</h3>

<pre><code class='language-R'>FF.norm.ownership(
  ...,
  id_as_firm_name = NULL,
  Matrix = NULL,
  self_ties = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="FF.norm.ownership_+3A_...">...</code></td>
<td>
<p>Either multiple objects of class <code>firm</code> or a list of such objects</p>
</td></tr>
<tr><td><code id="FF.norm.ownership_+3A_id_as_firm_name">id_as_firm_name</code></td>
<td>
<p>Whether to use the ticker as the firm's name. Defaults to <code>TRUE</code> if all firms' id is neither <code>NULL</code> nor <code>NA</code>.</p>
</td></tr>
<tr><td><code id="FF.norm.ownership_+3A_matrix">Matrix</code></td>
<td>
<p>Whether to use the <a href="https://cran.r-project.org/package=Matrix"><code>Matrix</code> package</a>. Defaults to <code>TRUE</code> when any matrix in the pipeline contains more than 10,000 cells and the package is installed.</p>
</td></tr>
<tr><td><code id="FF.norm.ownership_+3A_self_ties">self_ties</code></td>
<td>
<p>Whether to allow self-ties (a 'loop' in graph theory). Defaults to <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Normalised-valued means that weights represent the share of common managers.
</p>


<h3>Value</h3>

<p>A matrix object of class <code>financial_matrix</code>(possibly using the <a href="https://cran.r-project.org/package=Matrix"><code>Matrix</code> package</a>)
</p>


<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>


<h3>See Also</h3>

<p>Other Financial_matrix builders: 
<code><a href="#topic+FF">FF</a>()</code>,
<code><a href="#topic+FF.binary.both">FF.binary.both</a>()</code>,
<code><a href="#topic+FF.binary.management">FF.binary.management</a>()</code>,
<code><a href="#topic+FF.binary.ownership">FF.binary.ownership</a>()</code>,
<code><a href="#topic+FF.naive.both">FF.naive.both</a>()</code>,
<code><a href="#topic+FF.naive.management">FF.naive.management</a>()</code>,
<code><a href="#topic+FF.naive.ownership">FF.naive.ownership</a>()</code>,
<code><a href="#topic+FF.norm.both">FF.norm.both</a>()</code>,
<code><a href="#topic+FF.norm.management">FF.norm.management</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Create the normalised FF matrix of Berkshire Hathaway's holdings by common ownership
data('firms_BKB')
FF &lt;- FF.norm.ownership(firms_BKB)

</code></pre>

<hr>
<h2 id='fiedler'>Calculate the Fiedler value (algebraic connectivity)</h2><span id='topic+fiedler'></span>

<h3>Description</h3>

<p>This function expresses the algebraic connectivity of a Firm-Firm network as
its Fiedler value. The Fiedler value, named after Miroslav Fiedler, who
explored its significance, summarises the connectivity and robustness of a
network. Mathematically, it is the second smallest eigenvalue
of the network's Laplacian matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fiedler(..., ignore.weights = FALSE, generalise = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fiedler_+3A_...">...</code></td>
<td>
<p>Firm-Firm network in one of the following classes:
</p>

<ul>
<li><p><code>financial_matrix</code> produced by <code>FF</code> and family;
</p>
</li>
<li><p><code>network_financial</code> or <code>network</code> if the relevant package is installed;
</p>
</li>
<li><p><code>igraph_financial</code> or <code>igraph</code> if the  relevant package is installed.
</p>
</li></ul>
</td></tr>
<tr><td><code id="fiedler_+3A_ignore.weights">ignore.weights</code></td>
<td>
<p>Optional parameter, defaults to <code>FALSE</code>. If <code>TRUE</code>, ignore ties weights in the computation.</p>
</td></tr>
<tr><td><code id="fiedler_+3A_generalise">generalise</code></td>
<td>
<p>See Details for more information. Defaults to <code>NULL</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The Fiedler value is specifically defined for undirected graphs. For directed
or asymmetrical networks like the Firm-Firm ones, the Laplacian is not
necessarily symmetric, and its eigenvalues can be complex. In practical applications,
this is more likely to happen in naively valued networks, due to the presence of
large off-diagonal values. But it can happen also under other circumstances.
</p>
<p>There are three main workarounds:
</p>
<p>1. Symmetrisation - Simply considers the underlying undirected graph.
This involves ignoring the direction of edges and calculating the Laplacian
matrix and its eigenvalues as if the graph were undirected.
</p>
<p>2. The generalised Laplacian calculated as the sum of the diagonal matrices for
in-degree and out-degree <code class="reqn">\left([D]_{in}+[D]_{out}\right)/2</code>
</p>
<p>3. The Hermitian part of the Laplacian - Uses the Hermitian part of the
Laplacian matrix of the directed network <code class="reqn">\left([M]+{[M]^\text{C}}^\top)\right)/2</code>,
where the second addendum is the conjugate transpose of the adjacency matrix.
</p>
<p>Practically, the third method is excessive here, as the values of the ties
cannot be complex numbers. Indeed, the Hermitian is actually the Laplacian
of the underlying symmetric network with the value of the ties being split
equally in both directions because the conjugate of a real number is that number.
Moreover, symmetrising before calculating the Laplacian or generalising the matrix
<code class="reqn">[L]</code> returns the same result. So, the parameter <code>generalise</code> is logical
and takes the following values:
</p>

<ol>
<li><p><code>TRUE</code> for the generalised Laplacian;
</p>
</li>
<li><p><code>FALSE</code> for the possibly complex (and uninterpretable) eigenvalue of the as-is Laplacian.
</p>
</li>
<li><p><code>NULL</code> will take the generalised Laplacian only if necessary.
</p>
</li></ol>



<h3>Value</h3>

<p>A numeric, the Fiedler value.
</p>


<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>


<h3>References</h3>

<p>Fiedler, Miroslav. ‘Laplacian of Graphs and Algebraic Connectivity’. Banach Center Publications 25, no. 1 (1989): 57–70. <a href="https://eudml.org/doc/267812">https://eudml.org/doc/267812</a>.
</p>
<p>Guo, Krystal, and Bojan Mohar. ‘Hermitian Adjacency Matrix of Digraphs and Mixed Graphs’. Journal of Graph Theory 85, no. 1 (May 2017): 217–48. <a href="https://doi.org/10.1002/jgt.22057">doi:10.1002/jgt.22057</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Load some data
data('firms_BKB')
# Create a FF matrix
mat &lt;- FF(firms_BKB, who = 'b', ties =  'n')
fiedler(mat)

# Create a FF network
if(!require('network')){
  net &lt;- FF.net(mat, 'simple')
  fiedler(net)==fiedler(mat)
}

# Create a FF graph
if(!require('igraph')){
  g &lt;- FF.graph(mat, 'simple')
  fiedler(g)==fiedler(mat)
}

</code></pre>

<hr>
<h2 id='financial_matrix'>An S4 class for the adjacency matrix produced by <code><a href="#topic+FF">FF</a></code> and related functions to represent the relations between firms (legal person)</h2><span id='topic+financial_matrix'></span>

<h3>Description</h3>

<p>An S4 class for the adjacency matrix produced by <code><a href="#topic+FF">FF</a></code> and related functions to represent the relations between firms (legal person)
</p>


<h3>Slots</h3>


<dl>
<dt><code>M</code></dt><dd><p>Adjacency matrix</p>
</dd>
<dt><code>relation</code></dt><dd><p>Relations represented by the matrix</p>
</dd>
<dt><code>legal_form</code></dt><dd><p>Legal form of the firms</p>
</dd>
<dt><code>sector</code></dt><dd><p>Sector in which the firms operate</p>
</dd>
<dt><code>revenues</code></dt><dd><p>Yearly revenues</p>
</dd>
<dt><code>capitalisation</code></dt><dd><p>Firms' capitalisation</p>
</dd>
<dt><code>currency</code></dt><dd><p>Currency in which the capitalisation and revenues are expressed</p>
</dd>
</dl>

<hr>
<h2 id='financial_net'>A virtual class for relational data extending the packages <a href="https://statnet.org/">network</a>and <a href="https://igraph.org/">igraph</a></h2><span id='topic+financial_net'></span>

<h3>Description</h3>

<p>This is the un-exported <a href="methods.html#topic+BasicClasses">virtual</a> base for the S4 classes <code>igraph_financial</code> and <code>network_financial</code> to represent the relations between firms (legal person)
</p>


<h3>Slots</h3>


<dl>
<dt><code>relation</code></dt><dd><p>Relations represented by the matrix</p>
</dd>
<dt><code>vertex.size</code></dt><dd><p>Attribute used to determine the vertexes' size</p>
</dd>
<dt><code>vertex.color</code></dt><dd><p>Attribute used to determine the vertexes' colour</p>
</dd>
<dt><code>edge.width</code></dt><dd><p>Whether the edges' width reflect tie weight</p>
</dd>
<dt><code>edge.greyscale</code></dt><dd><p>Whether the edges' color reflects tie weight</p>
</dd>
</dl>

<hr>
<h2 id='find.firm'>Function to create a <code>firm</code> (legal person) using data from 'Yahoo! Finance'</h2><span id='topic+find.firm'></span>

<h3>Description</h3>

<p>Tickers can be retrieved from [Yahoo! Finance](https://finance.yahoo.com/lookup/).
This function requires the package <code>yahoofinancer</code> to be installed. It is available from the CRAN by running <code>install.packages('yahoofinancer')</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find.firm(
  ticker,
  name = NULL,
  ticker_is_id = TRUE,
  legal_form = NULL,
  sector_granularity = 1,
  managers_remove_salutation_title = TRUE,
  managers_only_surname = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="find.firm_+3A_ticker">ticker</code></td>
<td>
<p>Firm's ticker.</p>
</td></tr>
<tr><td><code id="find.firm_+3A_name">name</code></td>
<td>
<p>Provide the firm's name. If not provided, <code>NA</code>, or <code>NULL</code>, will default to the string provided as <code>ticker</code>.</p>
</td></tr>
<tr><td><code id="find.firm_+3A_ticker_is_id">ticker_is_id</code></td>
<td>
<p>Should the ticker be used as the firm's id?</p>
</td></tr>
<tr><td><code id="find.firm_+3A_legal_form">legal_form</code></td>
<td>
<p>The firm's legal form of the firm. Possible values:
- a string (e.g., 'LLC', 'Private', 'GmbH', etc.);
- <code>NULL</code> (default), in which case the function will set <code>legal_form</code> to 'JSC'; or
- <code>NA</code> to specify no legal form.</p>
</td></tr>
<tr><td><code id="find.firm_+3A_sector_granularity">sector_granularity</code></td>
<td>
<p>Sector in which the firm operates. Possible values:
- <code>0</code>, <code>NULL</code>, or <code>NA</code> to omit the sector;
- <code>1</code> or <code>'generic'</code> (default) for a generic description (e.g., 'Consumer Technology', 'Consumer Cyclical', 'Consumer Defensive');
- <code>2</code> or <code>'specifc'</code> for a more granular description (e.g., 'Technology', 'Auto Manufacturers', 'Tobacco').</p>
</td></tr>
<tr><td><code id="find.firm_+3A_managers_remove_salutation_title">managers_remove_salutation_title</code></td>
<td>
<p>Yahoo! Finance provide salutation titles before the names of the managers. If this is <code>TRUE</code> (default), they will be omitted.</p>
</td></tr>
<tr><td><code id="find.firm_+3A_managers_only_surname">managers_only_surname</code></td>
<td>
<p>Yahoo! Finance provide first, middle, and last name of the managers. If this is <code>TRUE</code> (not recommended for large data sets), only the surname is returned.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of the S4 class <code>firm</code> containing several fields, only the first one of which is mandatory:
</p>
<table role = "presentation">
<tr><td><code>name</code></td>
<td>
<p>Name of the firm (or ticker if no name was provided)</p>
</td></tr>
<tr><td><code>id</code></td>
<td>
<p>Firm' ticker (if ticker_is_id was 'TRUE') or nothing (otherwise)</p>
</td></tr>
<tr><td><code>legal_form</code></td>
<td>
<p>Legal form of the firm (may be null)</p>
</td></tr>
<tr><td><code>sector</code></td>
<td>
<p>Sector in which the firm operates (may be null)</p>
</td></tr>
<tr><td><code>revenues</code></td>
<td>
<p>Yearly revenues</p>
</td></tr>
<tr><td><code>capitalisation</code></td>
<td>
<p>Capitalisation</p>
</td></tr>
<tr><td><code>management</code></td>
<td>
<p>Members of the board</p>
</td></tr>
<tr><td><code>ownership</code></td>
<td>
<p>Owner(s)</p>
</td></tr>
<tr><td><code>shares</code></td>
<td>
<p>Share owned by (each of) the owner(s)</p>
</td></tr>
<tr><td><code>currency</code></td>
<td>
<p>Currency</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>


<h3>See Also</h3>

<p><a href="#topic+register.firm">register.firm</a> <a href="#topic+find.firms">find.firms</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Registering Apple automatically
#| Results are subject to the correct functioning of the package `yahoofinancer`
#| and of the Yahoo! Finance API

</code></pre>

<hr>
<h2 id='find.firms'>Function to create mutiple <code>firms</code> (legal persons) using data from 'Yahoo! Finance'</h2><span id='topic+find.firms'></span>

<h3>Description</h3>

<p>If <code>legal_form</code> is a vector containing:
- one or more <code>NULL</code> elements, the corresponding <code>firm</code>'s legal form will be <code>JSC</code>;
- one or more <code>NA</code>s, the corresponding <code>firm</code>'s legal form will be <code>NA</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find.firms(
  tickers,
  name = NULL,
  ticker_is_id = TRUE,
  legal_form = NULL,
  sector_granularity = 1,
  managers_remove_salutation_title = TRUE,
  managers_only_surname = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="find.firms_+3A_tickers">tickers</code></td>
<td>
<p>The firms' ticker.</p>
</td></tr>
<tr><td><code id="find.firms_+3A_name">name</code></td>
<td>
<p>Provide the firms' names as a vector of the same length as tickers. If not provided, <code>NA</code>, or <code>NULL</code>, will default to the firm's <code>ticker</code>.</p>
</td></tr>
<tr><td><code id="find.firms_+3A_ticker_is_id">ticker_is_id</code></td>
<td>
<p>Should the ticker be used as the firm's id?</p>
</td></tr>
<tr><td><code id="find.firms_+3A_legal_form">legal_form</code></td>
<td>
<p>The firm's legal form of the firm. Possible values:
- a vector of strings (e.g., 'LLC', 'Private', 'GmbH', etc.) of the same length as <code>tickers</code> (see 'Details' for the interpretation of <code>NA</code>s and <code>NULL</code>s);
- <code>NULL</code> (default), in which case the function will set <code>legal_form</code> to 'JSC' for all firms; or
- <code>NA</code> to specify no legal form.</p>
</td></tr>
<tr><td><code id="find.firms_+3A_sector_granularity">sector_granularity</code></td>
<td>
<p>Sector in which the firm operates. Possible values:
- <code>0</code>, <code>NULL</code>, or <code>NA</code> to omit the sector;
- <code>1</code> or <code>'generic'</code> (default) for a generic description (e.g., 'Consumer Technology', 'Consumer Cyclical', 'Consumer Defensive');
- <code>2</code> or <code>'specifc'</code> for a more granular description (e.g., 'Technology', 'Auto Manufacturers', 'Tobacco').</p>
</td></tr>
<tr><td><code id="find.firms_+3A_managers_remove_salutation_title">managers_remove_salutation_title</code></td>
<td>
<p>Yahoo! Finance provide salutation titles before the names of the managers. If this is <code>TRUE</code> (default), they will be omitted.</p>
</td></tr>
<tr><td><code id="find.firms_+3A_managers_only_surname">managers_only_surname</code></td>
<td>
<p>Yahoo! Finance provide first, middle, and last name of the managers. If this is <code>TRUE</code> (not recommended for large data sets), only the surname is returned.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To ensure consistency, <code>ticker_is_id</code>, <code>sector_granularity</code>, <code>managers_remove_salutation_title</code>, and <code>managers_only_surname</code> cannot be vectors.
</p>
<p>Tickers can be retrieved from [Yahoo! Finance](https://finance.yahoo.com/lookup/).
This function requires the package <code>yahoofinancer</code> to be installed. It is available from the CRAN by running <code>install.packages('yahoofinancer')</code>.
</p>


<h3>Value</h3>

<p>An object of the S4 class <code>firm</code> containing several fields, only the first one of which is mandatory:
</p>
<table role = "presentation">
<tr><td><code>name</code></td>
<td>
<p>Name of the firm (or ticker if no name was provided)</p>
</td></tr>
<tr><td><code>id</code></td>
<td>
<p>Firm' ticker (if ticker_is_id was 'TRUE') or nothing (otherwise)</p>
</td></tr>
<tr><td><code>legal_form</code></td>
<td>
<p>Legal form of the firm (may be null)</p>
</td></tr>
<tr><td><code>sector</code></td>
<td>
<p>Sector in which the firm operates (may be null)</p>
</td></tr>
<tr><td><code>revenues</code></td>
<td>
<p>Yearly revenues</p>
</td></tr>
<tr><td><code>capitalisation</code></td>
<td>
<p>Capitalisation</p>
</td></tr>
<tr><td><code>management</code></td>
<td>
<p>Members of the board</p>
</td></tr>
<tr><td><code>ownership</code></td>
<td>
<p>Owner(s)</p>
</td></tr>
<tr><td><code>shares</code></td>
<td>
<p>Share owned by (each of) the owner(s)</p>
</td></tr>
<tr><td><code>currency</code></td>
<td>
<p>Currency</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>


<h3>See Also</h3>

<p><a href="#topic+find.firm">find.firm</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Registering Apple, General Motors, and British American Tobacco automatically
#| Results are subject to the correct functioning of the package `yahoofinancer`
#| and of the Yahoo! Finance API

</code></pre>

<hr>
<h2 id='find.people'>Extract all the unique people associated to at least one of the provided <code>firm</code> objects</h2><span id='topic+find.people'></span>

<h3>Description</h3>

<p>Extract all the unique people associated to at least one of the provided <code>firm</code> objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find.people(..., who = c("managers", "owners", "both", "all"), sorting = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="find.people_+3A_...">...</code></td>
<td>
<p>Either multiple objects of class <code>firm</code> or a list of such objects</p>
</td></tr>
<tr><td><code id="find.people_+3A_who">who</code></td>
<td>
<p>Whether to extract the 'managers' or the 'owners' (minimum unambiguous string)</p>
</td></tr>
<tr><td><code id="find.people_+3A_sorting">sorting</code></td>
<td>
<p>Whether to sort the people by alphabetical order. Defaults to <code>TRUE</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector containing the names of the individuals looked up. If
</p>


<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Find all the shareholders in companies that Berkshire Hathaway holds
data('firms_BKB')
shareholders &lt;- find.people(firms_BKB, who = 'own')

# Find all those managing the companies that Berkshire Hathaway holds
data('firms_BKB')
managers &lt;- find.people(firms_BKB, who = 'man')

</code></pre>

<hr>
<h2 id='firm'>A firm</h2><span id='topic+firm'></span>

<h3>Description</h3>

<p>An S4 class to representing a firm (legal person) as a financial entity
</p>


<h3>Details</h3>

<p>This S4 class stores all information on a firm created using <a href="#topic+register.firm">register.firm</a> or <a href="#topic+find.firm">find.firm</a>.
The firm's property can be accessed using the relative function (see <a href="#topic+query.firm">query.firm</a>)
</p>


<h3>Slots</h3>


<dl>
<dt><code>name</code></dt><dd><p>Name of the firm</p>
</dd>
<dt><code>id</code></dt><dd><p>Provide an ID code for the firm.</p>
</dd>
<dt><code>legal_form</code></dt><dd><p>Legal form of the firm</p>
</dd>
<dt><code>sector</code></dt><dd><p>Sector in which the firm operates</p>
</dd>
<dt><code>sector_classif</code></dt><dd><p>Activity sector classification (if any)</p>
</dd>
<dt><code>revenues</code></dt><dd><p>Yearly revenues</p>
</dd>
<dt><code>capitalisation</code></dt><dd><p>Firm's capitalisation</p>
</dd>
<dt><code>management</code></dt><dd><p>Names of the members of the board</p>
</dd>
<dt><code>ownership</code></dt><dd><p>Names of the owner(s)</p>
</dd>
<dt><code>shares</code></dt><dd><p>Share owned by (each of) the owner(s)</p>
</dd>
<dt><code>currency</code></dt><dd><p>Currency in which the capitalisation and revenues are expressed</p>
</dd>
</dl>

<hr>
<h2 id='firms_BKB'>Complete Berkshire Hathaway Portfolio</h2><span id='topic+firms_BKB'></span>

<h3>Description</h3>

<p>Data on Apple (AAPL), General Motors (GM), and British American Tobacco (BTI) extracted from Yahoo! Finance (on May 20, 2023) and formatted a <code>firm</code> objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data('firms_BKB')
</code></pre>


<h3>Format</h3>

<p>Three objects of class <code>firm</code>.
</p>


<h3>Source</h3>

<p>- Divine, John. “The Complete Berkshire Hathaway Portfolio.” FInancial data. U.S. News &amp; World Report, May 17, 2023. &lt;https://money.usnews.com/investing/stock-market-news/articles/the-complete-berkshire-hathaway-portfolio&gt;.
- ICE Data Services. “Nasdaq Stock Exchange &amp; Dow Jones Indexes.” Financial data, May 21, 2023, &lt;https://finance.yahoo.com/lookup/&gt;.
</p>

<hr>
<h2 id='firms_US'>Three US firms</h2><span id='topic+firms_US'></span>

<h3>Description</h3>

<p>Data on Apple (AAPL), General Motors (GM), and British American Tobacco (BTI) extracted from Yahoo! Finance (on May 20, 2023) and formatted a <code>firm</code> objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data('firms_US')
</code></pre>


<h3>Format</h3>

<p>Three objects of class <code>firm</code>.
</p>


<h3>Source</h3>

<p>ICE Data Services. “Nasdaq Stock Exchange &amp; Dow Jones Indexes.” Financial data, May 21, 2023, &lt;https://finance.yahoo.com/lookup/&gt;
</p>

<hr>
<h2 id='FM'>Function to create a (necessarily binary) firm-manager (FM) matrix</h2><span id='topic+FM'></span>

<h3>Description</h3>

<p>Function to create a (necessarily binary) firm-manager (FM) matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>FM(..., id_as_firm_name = NULL, Matrix = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="FM_+3A_...">...</code></td>
<td>
<p>Either multiple objects of class <code>firm</code> or a list of such objects</p>
</td></tr>
<tr><td><code id="FM_+3A_id_as_firm_name">id_as_firm_name</code></td>
<td>
<p>Whether to use the ticker as the firm's name. Defaults to <code>TRUE</code> if all firms' id is neither <code>NULL</code> nor <code>NA</code>.</p>
</td></tr>
<tr><td><code id="FM_+3A_matrix">Matrix</code></td>
<td>
<p>Whether to use the <a href="https://cran.r-project.org/package=Matrix"><code>Matrix</code> package</a>. Defaults to <code>TRUE</code> when there are more than 10,000 combinations and the package is installed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A matrix object of class <code>financial_matrix</code> (possibly using the <a href="https://cran.r-project.org/package=Matrix"><code>Matrix</code> package</a>) in which:
</p>

<dl>
<dt>the rows</dt><dd><p>Represent firms;</p>
</dd>
<dt>the columns</dt><dd><p>Represent managers (usually physical persons).</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>


<h3>See Also</h3>

<p><a href="#topic+FO.binary">FO.binary</a> <a href="#topic+FO.naive">FO.naive</a> <a href="#topic+FO.norm">FO.norm</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Create the FM matrix of Berkshire Hathaway's holdings

data('firms_BKB')
  FM &lt;- FM(firms_BKB)


</code></pre>

<hr>
<h2 id='FO.binary'>Function to create a binary firm-owner (FO) matrix</h2><span id='topic+FO.binary'></span>

<h3>Description</h3>

<p>Function to create a binary firm-owner (FO) matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>FO.binary(..., id_as_firm_name = NULL, Matrix = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="FO.binary_+3A_...">...</code></td>
<td>
<p>Either multiple objects of class <code>firm</code> or a list of such objects</p>
</td></tr>
<tr><td><code id="FO.binary_+3A_id_as_firm_name">id_as_firm_name</code></td>
<td>
<p>Whether to use the ticker as the firm's name. Defaults to <code>TRUE</code> if all firms' id is neither <code>NULL</code> nor <code>NA</code>.</p>
</td></tr>
<tr><td><code id="FO.binary_+3A_matrix">Matrix</code></td>
<td>
<p>Whether to use the <a href="https://cran.r-project.org/package=Matrix"><code>Matrix</code> package</a>. Defaults to <code>TRUE</code> when there are more than 10,000 combinations and the package is installed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A matrix object of class <code>financial_matrix</code> (possibly using the <a href="https://cran.r-project.org/package=Matrix"><code>Matrix</code> package</a>) in which:
</p>

<dl>
<dt>the rows</dt><dd><p>Represent firms;</p>
</dd>
<dt>the columns</dt><dd><p>Represent owners (physical and legal persons).</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>


<h3>See Also</h3>

<p><a href="#topic+FM">FM</a> <a href="#topic+FO.naive">FO.naive</a> <a href="#topic+FO.norm">FO.norm</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Create the binary FO matrix of Berkshire Hathaway's holdings

data('firms_BKB')
FO &lt;- FO.binary(firms_BKB)


</code></pre>

<hr>
<h2 id='FO.naive'>Function to create a naive-valued firm-owner (FO) matrix</h2><span id='topic+FO.naive'></span>

<h3>Description</h3>

<p>The values are simply the value of the owner <code class="reqn">j</code>'s stake in firm <code class="reqn">i</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>FO.naive(..., id_as_firm_name = NULL, Matrix = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="FO.naive_+3A_...">...</code></td>
<td>
<p>Either multiple objects of class <code>firm</code> or a list of such objects</p>
</td></tr>
<tr><td><code id="FO.naive_+3A_id_as_firm_name">id_as_firm_name</code></td>
<td>
<p>Whether to use the ticker as the firm's name. Defaults to <code>TRUE</code> if all firms' id is neither <code>NULL</code> nor <code>NA</code>.</p>
</td></tr>
<tr><td><code id="FO.naive_+3A_matrix">Matrix</code></td>
<td>
<p>Whether to use the <a href="https://cran.r-project.org/package=Matrix"><code>Matrix</code> package</a>. Defaults to <code>TRUE</code> when there are more than 10,000 combinations and the package is installed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A matrix object of class <code>financial_matrix</code> (possibly using the <a href="https://cran.r-project.org/package=Matrix"><code>Matrix</code> package</a>) in which:
</p>

<dl>
<dt>the rows</dt><dd><p>Represent firms;</p>
</dd>
<dt>the columns</dt><dd><p>Represent owners (physical and legal persons).</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>


<h3>See Also</h3>

<p><a href="#topic+FM">FM</a> <a href="#topic+FO.binary">FO.binary</a> <a href="#topic+FO.norm">FO.norm</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Create the naive FO matrix of Berkshire Hathaway's holdings

data('firms_BKB')
FO &lt;- FO.naive(firms_BKB)


</code></pre>

<hr>
<h2 id='FO.norm'>Function to create a naive-valued firm-owner (FO) matrix</h2><span id='topic+FO.norm'></span>

<h3>Description</h3>

<p>The values represent the share of firm <code class="reqn">i</code>'s capital owned by <code class="reqn">j</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>FO.norm(..., id_as_firm_name = NULL, Matrix = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="FO.norm_+3A_...">...</code></td>
<td>
<p>Either multiple objects of class <code>firm</code> or a list of such objects</p>
</td></tr>
<tr><td><code id="FO.norm_+3A_id_as_firm_name">id_as_firm_name</code></td>
<td>
<p>Whether to use the ticker as the firm's name. Defaults to <code>TRUE</code> if all firms' id is neither <code>NULL</code> nor <code>NA</code>.</p>
</td></tr>
<tr><td><code id="FO.norm_+3A_matrix">Matrix</code></td>
<td>
<p>Whether to use the <a href="https://cran.r-project.org/package=Matrix"><code>Matrix</code> package</a>. Defaults to <code>TRUE</code> when there are more than 10,000 combinations and the package is installed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A matrix object of class <code>financial_matrix</code> (possibly using the <a href="https://cran.r-project.org/package=Matrix"><code>Matrix</code> package</a>) in which:
</p>

<dl>
<dt>the rows</dt><dd><p>Represent firms;</p>
</dd>
<dt>the columns</dt><dd><p>Represent owners (physical and legal persons).</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>


<h3>See Also</h3>

<p><a href="#topic+FM">FM</a> <a href="#topic+FO.binary">FO.binary</a> <a href="#topic+FO.naive">FO.naive</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Create the normalised FO matrix of Berkshire Hathaway's holdings

data('firms_BKB')
FO &lt;- FO.norm(firms_BKB)


</code></pre>

<hr>
<h2 id='get.binarary.values'>Function to compute the binary values of the FM or FO matrix for multiple <code>firm</code> objects</h2><span id='topic+get.binarary.values'></span>

<h3>Description</h3>

<p>Function to compute the binary values of the FM or FO matrix for multiple <code>firm</code> objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get.binarary.values(firms, which, cols = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get.binarary.values_+3A_firms">firms</code></td>
<td>
<p>List of objects on which to operate</p>
</td></tr>
<tr><td><code id="get.binarary.values_+3A_which">which</code></td>
<td>
<p>Whether to use ownership or management to construct the matrix</p>
</td></tr>
<tr><td><code id="get.binarary.values_+3A_cols">cols</code></td>
<td>
<p>Possible values assumed by the enquired variable (determined autmotically if not provided)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The values to be filled in the binary FO or FM matrix
</p>


<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>

<hr>
<h2 id='get.matrix.adjacency'>Create any firm-firm (FF) matrix for common ownership or board interlocks</h2><span id='topic+get.matrix.adjacency'></span>

<h3>Description</h3>

<p>Function to create a firm-firm (FF) matrix based on ownership or board interlocks:
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get.matrix.adjacency(
  ...,
  who = c("managers", "owners"),
  ties = 3,
  id_as_firm_name = NULL,
  Matrix = NULL,
  self_ties = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get.matrix.adjacency_+3A_...">...</code></td>
<td>
<p>Either multiple objects of class <code>firm</code> or a list of such objects</p>
</td></tr>
<tr><td><code id="get.matrix.adjacency_+3A_who">who</code></td>
<td>
<p>Whether to extract the 'managers' or the 'owners' (minimum unambiguous string)</p>
</td></tr>
<tr><td><code id="get.matrix.adjacency_+3A_ties">ties</code></td>
<td>
<p>Type of ties to create. Defaults to <code>2</code>; for other possible values, see details.</p>
</td></tr>
<tr><td><code id="get.matrix.adjacency_+3A_id_as_firm_name">id_as_firm_name</code></td>
<td>
<p>Whether to use the ticker as the firm's name. Defaults to <code>TRUE</code> if all firms' id is neither <code>NULL</code> nor <code>NA</code>.</p>
</td></tr>
<tr><td><code id="get.matrix.adjacency_+3A_matrix">Matrix</code></td>
<td>
<p>Whether to use the <a href="https://cran.r-project.org/package=Matrix"><code>Matrix</code> package</a>. Defaults to <code>TRUE</code> when any matrix in the pipeline contains more than 10,000 cells and the package is installed.</p>
</td></tr>
<tr><td><code id="get.matrix.adjacency_+3A_self_ties">self_ties</code></td>
<td>
<p>Whether to allow self-ties (a 'loop' in graph theory). Defaults to <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The possible values of <code>ties</code> and their effect relative to the value of <code>who</code> are:
</p>
<p><code>binary</code> or <code>0</code> for binary ties. Namely:
</p>

<ul>
<li><p> for <code>owners</code>: <code class="reqn">1</code> if there is at least one common owner, <code class="reqn">0</code> otherwise;
</p>
</li>
<li><p> for <code>managers</code>: <code class="reqn">1</code> if there is at least one common manager, <code class="reqn">0</code> otherwise.
</p>
</li></ul>

<p><code>naive</code>, or <code>1</code> for 'naively' valued ties. Namely:
</p>

<ul>
<li><p>  for <code>owners</code>, the number of common owners;
</p>
</li>
<li><p>  for <code>managers</code>, the number of common managers.
</p>
</li></ul>

<p><code>share</code> or <code>2</code> (the default) for 'normalised' tie values. Namely:
</p>

<ul>
<li><p> for <code>owners</code>, the share of <code class="reqn">i</code>'s owners who are also amongst <code class="reqn">j</code>'s owners;
</p>
</li>
<li><p> for <code>managers</code>, the share of <code class="reqn">i</code>'s managers who are also amongst <code class="reqn">j</code>'s managers.
</p>
</li></ul>



<h3>Value</h3>

<p>A matrix object of class <code>financial_matrix</code>(possibly using the <a href="https://cran.r-project.org/package=Matrix"><code>Matrix</code> package</a>)
</p>


<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>


<h3>See Also</h3>

<p><a href="#topic+FF">FF</a>
</p>
<p>Other Internal matrix (de)constructrs: 
<code><a href="#topic+extract.matrix">extract.matrix</a>()</code>,
<code><a href="#topic+get.matrix.adjacency.both">get.matrix.adjacency.both</a>()</code>,
<code><a href="#topic+load.Matrix">load.Matrix</a>()</code>
</p>

<hr>
<h2 id='get.matrix.adjacency.both'>Create a firm-firm (FF) matrix</h2><span id='topic+get.matrix.adjacency.both'></span>

<h3>Description</h3>

<p>Function to create a firm-firm (FF) matrix based on both common ownership and board interlocks
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get.matrix.adjacency.both(
  ...,
  ties = 3,
  id_as_firm_name = NULL,
  Matrix = NULL,
  self_ties = FALSE,
  combining = "sum"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get.matrix.adjacency.both_+3A_...">...</code></td>
<td>
<p>Either multiple objects of class <code>firm</code> or a list of such objects</p>
</td></tr>
<tr><td><code id="get.matrix.adjacency.both_+3A_ties">ties</code></td>
<td>
<p>Type of ties to create. Defaults to <code>2</code>; for other possible values, see details.</p>
</td></tr>
<tr><td><code id="get.matrix.adjacency.both_+3A_id_as_firm_name">id_as_firm_name</code></td>
<td>
<p>Whether to use the ticker as the firm's name. Defaults to <code>TRUE</code> if all firms' id is neither <code>NULL</code> nor <code>NA</code>.</p>
</td></tr>
<tr><td><code id="get.matrix.adjacency.both_+3A_matrix">Matrix</code></td>
<td>
<p>Whether to use the <a href="https://cran.r-project.org/package=Matrix"><code>Matrix</code> package</a>. Defaults to <code>TRUE</code> when any matrix in the pipeline contains more than 10,000 cells and the package is installed.</p>
</td></tr>
<tr><td><code id="get.matrix.adjacency.both_+3A_self_ties">self_ties</code></td>
<td>
<p>Whether to allow self-ties (a 'loop' in graph theory). Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="get.matrix.adjacency.both_+3A_combining">combining</code></td>
<td>
<p>How to combine the FF matrix for managers and that for owners (see Details);</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The possible values of <code>ties</code> and their effect relative to the value of <code>who</code> are:
</p>
<p><code>binary</code> or <code>1</code> for binary ties: <code class="reqn">1</code> if there is at least one common manager or owner, <code class="reqn">0</code> otherwise.
</p>
<p><code>naive</code>, or <code>2</code> for 'naively' valued ties indicating the number of common managers and owners.
</p>
<p><code>share</code> or <code>3</code> (the default) for 'normalised' tie values. The actual value depends on <code>combining</code>:
</p>

<ul>
<li><p> for <code>sum</code> (the default), the sum of the share of <code class="reqn">i</code>'s owners who are also amongst <code class="reqn">j</code>'s owners and the share of <code class="reqn">i</code>'s managers who are also amongst <code class="reqn">j</code>'s managers (normalised to 2);
</p>
</li>
<li><p> for <code>mean</code> or <code>avg</code>, the mean of the share of <code class="reqn">i</code>'s owners who are also amongst <code class="reqn">j</code>'s owners and the share of <code class="reqn">i</code>'s managers who are also amongst <code class="reqn">j</code>'s managers (normalised to 1);
</p>
</li>
<li><p> for <code>max</code>, the maximum between the share of <code class="reqn">i</code>'s owners who are also amongst <code class="reqn">j</code>'s owners and the share of <code class="reqn">i</code>'s managers who are also amongst <code class="reqn">j</code>'s managers (normalised to 1);
</p>
</li>
<li><p> for <code>min</code>, the minimum between the share of <code class="reqn">i</code>'s owners who are also amongst <code class="reqn">j</code>'s owners and the share of <code class="reqn">i</code>'s managers who are also amongst <code class="reqn">j</code>'s managers (normalised to 1);
</p>
</li></ul>



<h3>Value</h3>

<p>A matrix object of class <code>financial_matrix</code>(possibly using the <a href="https://cran.r-project.org/package=Matrix"><code>Matrix</code> package</a>)
</p>


<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>


<h3>See Also</h3>

<p><a href="#topic+FF">FF</a>.
</p>
<p>Other Internal matrix (de)constructrs: 
<code><a href="#topic+extract.matrix">extract.matrix</a>()</code>,
<code><a href="#topic+get.matrix.adjacency">get.matrix.adjacency</a>()</code>,
<code><a href="#topic+load.Matrix">load.Matrix</a>()</code>
</p>

<hr>
<h2 id='get.matrix.twomode'>Function to create a firm-owner (FO) or firm-manager (FM) matrix</h2><span id='topic+get.matrix.twomode'></span>

<h3>Description</h3>

<p>The possible values of <code>ties</code> are:
</p>

<ul>
<li> <p><code>binary</code> or <code>1</code> for binary ties;
</p>
</li>
<li> <p><code>weighted</code>, <code>valued</code>, or <code>2</code> to weight the tie between company <code class="reqn">i</code> and the person <code class="reqn">j</code> as the value of <code class="reqn">j</code>'s share of <code class="reqn">i</code>'s capital;
</p>
</li>
<li> <p><code>share</code> or <code>3</code> (the default) to weight the tie between company <code class="reqn">i</code> and the person <code class="reqn">j</code> as the share of <code class="reqn">i</code>'s capital owned by <code class="reqn">j</code>.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>get.matrix.twomode(..., who, ties = 3, id_as_firm_name = NULL, Matrix = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get.matrix.twomode_+3A_...">...</code></td>
<td>
<p>Either multiple objects of class <code>firm</code> or a list of such objects</p>
</td></tr>
<tr><td><code id="get.matrix.twomode_+3A_who">who</code></td>
<td>
<p>Whether to extract the 'managers' or the 'owners' (minimum unambiguous string)</p>
</td></tr>
<tr><td><code id="get.matrix.twomode_+3A_ties">ties</code></td>
<td>
<p>Type of ties to create. Defaults to <code>3</code>; for other possible values, see details.</p>
</td></tr>
<tr><td><code id="get.matrix.twomode_+3A_id_as_firm_name">id_as_firm_name</code></td>
<td>
<p>Whether to use the ticker as the firm's name. Defaults to <code>TRUE</code> if all firms' id is neither <code>NULL</code> nor <code>NA</code>.</p>
</td></tr>
<tr><td><code id="get.matrix.twomode_+3A_matrix">Matrix</code></td>
<td>
<p>Whether to use the <a href="https://cran.r-project.org/package=Matrix"><code>Matrix</code> package</a>. Defaults to <code>TRUE</code> when there are more than 10,000 combinations and the package is installed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A matrix object of class <code>financial_matrix</code> (possibly using the <a href="https://cran.r-project.org/package=Matrix"><code>Matrix</code> package</a>) in which:
</p>

<dl>
<dt>the rows</dt><dd><p>Represent firms;</p>
</dd>
<dt>the columns</dt><dd><p>Represent managers/owners (physical and legal persons).</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>


<h3>See Also</h3>

<p><a href="#topic+FM">FM</a> <a href="#topic+FO.binary">FO.binary</a> <a href="#topic+FO.naive">FO.naive</a> <a href="#topic+FO.norm">FO.norm</a>
</p>

<hr>
<h2 id='get.net'>Create any firm-firm (FF) network</h2><span id='topic+get.net'></span>

<h3>Description</h3>

<p>Create a network (either an object of class <code>network</code> from the package <code>network</code> or a <code>graph</code> object from the package <code>igraph</code>) from a FF, FO, or FM matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get.net(
  x,
  vertex.size = NULL,
  vertex.colour = NULL,
  edge.width = NULL,
  edge.greyscale = NULL,
  format = c("igraph", "network"),
  directed = TRUE,
  loops = FALSE,
  weighted = any(!x@M %in% c(0, 1)),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get.net_+3A_x">x</code></td>
<td>
<p>A matrix-like object produced by <code><a href="#topic+FF">FF</a></code> and related functions</p>
</td></tr>
<tr><td><code id="get.net_+3A_vertex.size">vertex.size</code></td>
<td>
<p>Which piece of information on the firms should be used to represent the nodes' size (see Details).</p>
</td></tr>
<tr><td><code id="get.net_+3A_vertex.colour">vertex.colour</code></td>
<td>
<p>Which piece of  information on the firms should be used to represent the nodes' colours (see Details).</p>
</td></tr>
<tr><td><code id="get.net_+3A_edge.width">edge.width</code></td>
<td>
<p>Whether to use the edges' width to represent tie strength. Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="get.net_+3A_edge.greyscale">edge.greyscale</code></td>
<td>
<p>Whether to use the edges' colour to represent tie strength through a grey scale. Defaults to <code>TRUE</code> if the matrix is valued.</p>
</td></tr>
<tr><td><code id="get.net_+3A_format">format</code></td>
<td>
<p>Which format to use for the network. Possible values: <code>igraph</code> or <code>network</code></p>
</td></tr>
<tr><td><code id="get.net_+3A_directed">directed</code></td>
<td>
<p>Whether the network should be directed. Defaults to <code>TRUE</code></p>
</td></tr>
<tr><td><code id="get.net_+3A_loops">loops</code></td>
<td>
<p>Whether the network should have loops. Defaults to <code>FALSE</code></p>
</td></tr>
<tr><td><code id="get.net_+3A_weighted">weighted</code></td>
<td>
<p>Whether the ties/edges should be weighted. Defaults to <code>TRUE</code> if any element of the matrix equals neither 0 nor 1</p>
</td></tr>
<tr><td><code id="get.net_+3A_...">...</code></td>
<td>
<p>Aliases to the other parameters and additional settings (see Details).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function allows for a number of additional arguments.
</p>


<h3>Value</h3>

<p>A network in the desired format
</p>


<h3>What can be passed to <code>vertex.colour</code> and <code>vertex.size</code></h3>

<p>The pieces of information that is possible to pass to <code>vertex.size</code> and <code>vertex.colour</code> are:
</p>

<ul>
<li> <p><code>capitalisation</code>, will be arranged into steps (see <code>capitalisation.bins</code> below)
</p>
</li>
<li> <p><code>revenue</code>, will be arranged into steps (see <code>revenues.bins</code> below)
</p>
</li>
<li> <p><code>legal_form</code>
</p>
</li>
<li> <p><code>sector</code>
</p>
</li>
<li> <p><code>currency</code>
</p>
</li></ul>



<h3>What can be passed to <code>edge.width</code> and <code>edge.greyscale</code></h3>

<p>The pieces of information that is possible to pass to <code>edge.width</code> and <code>edge.greyscale</code> are:
- <code>capitalisation</code>
- <code>revenue</code>
</p>


<h3>Additional parameters related to <code>vertex.size</code></h3>

<p>The effect of the additional parameters that modify the behaviour of <code>vertex.size</code> are:
</p>
<p><code>vertex.size.max</code> (defaults to <code>5</code>) :
</p>

<ul>
<li><p> if <code>vertex.size</code> or one of its aliases is specified, this is the size of the biggest vertex;
</p>
</li>
<li><p> if neither <code>vertex.size</code> nor any of its aliases is given, this is the size of ALL vertices.
</p>
</li></ul>

<p><code>vertex.size.min</code> (defaults to <code>1</code>):
</p>

<ul>
<li><p> if <code>vertex.size</code> or one of its aliases is specified, this is the size of the smallest vertex;
</p>
</li>
<li><p> if neither <code>vertex.size</code> nor any of its aliases is given, it is ignored.
</p>
</li></ul>



<h3>Additional parameters related to <code>vertex.colour</code></h3>

<p>The only additional parameter related to <code>vertex.colour</code> is <code>vertex.colour.palette</code>.
It supports a vector of RGB or named colours (see <code><a href="grDevices.html#topic+colours">colours</a></code> for all named colours in <code>R</code>).
It also accepts complete calls to functions that return a such a vector like <code>RColorBrewer::brewer.pal(n, name)</code> or <code>viridisLite::viridis(n, option)</code>.
If the palette is too short, it will be extended automatically using <code><a href="grDevices.html#topic+colorRampPalette">colorRampPalette</a></code>.
If the palette is not declared, but this arguemnt is <code>TRUE</code>, it will defaulr to the following vector of colours:
</p>

<ul>
<li> <p><code>#00204D</code>, <a href="https://www.color-name.com/hex/00204d">Oxford Blue</a>
</p>
</li>
<li> <p><code>#31446B</code>, <a href="https://www.color-name.com/hex/31446B">Police Blue</a>
</p>
</li>
<li> <p><code>#666970</code>, <a href="https://www.color-name.com/hex/666970">Dim Gray</a>
</p>
</li>
<li> <p><code>#958F78</code>, <a href="https://www.color-name.com/hex/958F78">Artichoke</a>
</p>
</li>
<li> <p><code>#CBBA69</code>, <a href="https://www.color-name.com/hex/CBBA69">Dark Khaki</a>
</p>
</li>
<li> <p><code>#FFEA46</code>, <a href="https://www.color-name.com/hex/FFEA46">Gargoyle Gas</a>
</p>
</li></ul>

<p>If the argument is <code>FALSE</code>, <code>NULL</code> or <code>NA</code>, the vertex will be coloured of <code>#081677</code> (<a href="https://www.color-name.com/gentian-blue.color">Gentian blue</a>).
</p>


<h3>Additional parameters related to <code>edge.width</code></h3>

<p><code>edge.width.max</code> (defaults to <code>5</code>) :
</p>

<ul>
<li><p> if <code>edge.width</code> or one of its aliases is specified, this is the thickness of the thickest edge;
</p>
</li>
<li><p> if neither <code>edge.width</code> nor any of its aliases is given, this is the thickness of ALL edges
</p>
</li></ul>

<p><code>edge.width.min</code> (defaults to <code>1</code>):
</p>

<ul>
<li><p> if <code>edge.width</code> or one of its aliases is specified, this is the thickness of the slimmest edge;
</p>
</li>
<li><p> if neither <code>edge.width</code> nor any of its aliases is given, it is ignored.
</p>
</li></ul>



<h3>Additional parameters related to <code>edge.greyscale</code></h3>

<p><code>edge.greyscale.darkest</code> (defaults to <code>5</code>):
</p>

<ul>
<li><p> if <code>edge.greyscale</code> or one of its aliases is specified, this is the thickness of the thickest edge;
</p>
</li>
<li><p> if neither <code>edge.greyscale</code> nor any of its aliases is given, this is the thickness of ALL edges
</p>
</li></ul>

<p><code>edge.greyscale.fairest</code> (defaults to <code>1</code>):
</p>

<ul>
<li><p> if <code>edge.greyscale</code> or one of its aliases is specified, this is the thickness of the slimmest edge;
</p>
</li>
<li><p> if neither <code>edge.greyscale</code> nor any of its aliases is given, it is ignored.
</p>
</li></ul>

<p>Several aliases are accepted for all arguments, except <code>M</code>:
</p>

<ul>
<li><p> for <code>vertex.size</code>: <code>node.size</code>
</p>
</li>
<li><p> for <code>vertex.colour</code>: <code>vertex.color</code>, <code>node.colour</code>, and <code>node.color</code>;
</p>
</li>
<li><p> for <code>edge.width</code>: <code>tie.width</code>
</p>
</li>
<li><p> for <code>edge.greyscale</code>: <code>tie.grayscale</code>, <code>tie.greyscale</code>, and <code>edge.grayscale</code>
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>


<h3>See Also</h3>

<p><a href="#topic+FF.net">FF.net</a> <a href="#topic+FF.net.custom">FF.net.custom</a> <a href="#topic+FF.graph">FF.graph</a> <a href="#topic+FF.graph.custom">FF.graph.custom</a>
</p>

<hr>
<h2 id='graph_methods'>Extending <code>igraph</code> functions to <code>igraph_financial</code> objects</h2><span id='topic+graph_methods'></span><span id='topic+V'></span><span id='topic+vcount'></span><span id='topic+gorder'></span><span id='topic+E'></span><span id='topic+ecount'></span><span id='topic+gsize'></span><span id='topic+plot_igraph'></span>

<h3>Description</h3>

<p>The following functions are implemented:
</p>

<ul>
<li> <p><code>V</code> to retrieve the vertexes (<code>igraph::V</code>);
</p>
</li>
<li> <p><code>vcount</code> to count the vertexes (<code>igraph::vcount</code>);
</p>
</li>
<li> <p><code>gorder</code> as an alias to <code>vcount_fin</code> (<code>igraph::gorder</code>);
</p>
</li>
<li> <p><code>E</code> to retrieve the edges (<code>igraph::E</code>);
</p>
</li>
<li> <p><code>gsize</code> to count the edges (<code>igraph::gsize</code>);
</p>
</li>
<li> <p><code>ecount</code> as an alias to <code>gsize_fin</code> (<code>igraph::ecount</code>)
</p>
</li>
<li> <p><code>plot_igraph</code> to plot graphs (<code>igraph::plot.igraph</code>))
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>V(x)

vcount(x)

gorder(x)

E(x, ...)

ecount(x, ...)

gsize(x, ...)

plot_igraph(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="graph_methods_+3A_x">x</code></td>
<td>
<p>The <code>igraph_financial</code> object</p>
</td></tr>
<tr><td><code id="graph_methods_+3A_...">...</code></td>
<td>
<p>Other parameters passed to the corresponding <code>igraph</code> functions (see Details).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Implementing most basic iterators from the package <code>igraph</code> for objects of class <code>igraph_financial</code>
</p>


<h3>Value</h3>

<p>The same result for both <code>igraph</code> and <code>igraph_financial</code> objects
</p>

<ul>
<li> <p><code>V</code>: A vertex sequence containing all vertices, in the order of their numeric vertex ids.
</p>
</li>
<li> <p><code>vcount</code> and <code>gorder</code>: Number of vertices, numeric scalar.
</p>
</li>
<li> <p><code>E</code>: An edge sequence of the graph
</p>
</li>
<li> <p><code>ecount</code> and <code>gsize</code>: Number of edges, numeric scalar.
</p>
</li>
<li> <p><code>plot_igraph</code>: Returns NULL, invisibly. Called to print the graph to any R device. (see method and <a href="https://rdrr.io/cran/igraph/man/plot.igraph.html">igraph::plot.igraph</a>)
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>

<hr>
<h2 id='igraph_E_iterators'>igraph edge iterators for <code>igraph_financial</code> objects</h2><span id='topic+igraph_E_iterators'></span><span id='topic+E+2Cigraph-method'></span><span id='topic+E+2Cigraph_financial-method'></span><span id='topic+ecount+2Cigraph_financial-method'></span><span id='topic+ecount+2Cigraph-method'></span><span id='topic+gsize+2Cigraph_financial-method'></span><span id='topic+gsize+2Cigraph-method'></span>

<h3>Description</h3>

<p>Methods to extend igraph edge iterators and functions to <code>igraph_financial</code> objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'igraph_financial'
E(x, ...)

## S4 method for signature 'igraph'
E(x, ...)

## S4 method for signature 'igraph_financial'
ecount(x, ...)

## S4 method for signature 'igraph'
ecount(x, ...)

## S4 method for signature 'igraph_financial'
gsize(x, ...)

## S4 method for signature 'igraph'
gsize(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="igraph_E_iterators_+3A_x">x</code></td>
<td>
<p>The <code>igraph_financial</code> object</p>
</td></tr>
<tr><td><code id="igraph_E_iterators_+3A_...">...</code></td>
<td>
<p>Other parameters passed to the corresponding method and/or <code>igraph</code> functions (see Details).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The same result for both <code>igraph</code> and <code>igraph_financial</code> objects
</p>

<ul>
<li> <p><code>E</code>: An edge sequence of the graph
</p>
</li>
<li> <p><code>ecount</code> and <code>gsize</code>: Number of edges, numeric scalar
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>

<hr>
<h2 id='igraph_financial'>An S4 class for relational data extending the package <a href="https://igraph.org/">igraph</a></h2><span id='topic+igraph_financial'></span><span id='topic+igraph_financial-class'></span>

<h3>Description</h3>

<p>An S4 class for the network objects produced by the <code><a href="#topic+FF.graph">FF.graph</a></code> and <code><a href="#topic+FF.graph.custom">FF.graph.custom</a></code> to represent the relations between firms (legal person)
</p>


<h3>Slots</h3>


<dl>
<dt><code>data</code></dt><dd><p>The representation of the network as a <a href="https://rdrr.io/cran/igraph/man/make_graph.html">igraph</a> object</p>
</dd>
</dl>

<hr>
<h2 id='igraph_v_iterators'>igraph vertex iterators for <code>igraph_financial</code> objects</h2><span id='topic+igraph_v_iterators'></span><span id='topic+V+2Cigraph-method'></span><span id='topic+V+2Cigraph_financial-method'></span><span id='topic+vcount+2Cigraph-method'></span><span id='topic+vcount+2Cigraph_financial-method'></span><span id='topic+gorder+2Cigraph-method'></span><span id='topic+gorder+2Cigraph_financial-method'></span>

<h3>Description</h3>

<p>Methods to extend igraph vertex iterators and functions to <code>igraph_financial</code> objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'igraph_financial'
V(x)

## S4 method for signature 'igraph'
V(x)

## S4 method for signature 'igraph_financial'
vcount(x)

## S4 method for signature 'igraph'
vcount(x)

## S4 method for signature 'igraph_financial'
gorder(x)

## S4 method for signature 'igraph'
gorder(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="igraph_v_iterators_+3A_x">x</code></td>
<td>
<p>The <code>igraph_financial</code> object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The same result for both <code>igraph</code> and <code>igraph_financial</code> objects
</p>

<ul>
<li> <p><code>V</code>: A vertex sequence containing all vertices, in the order of their numeric vertex ids
</p>
</li>
<li> <p><code>vcount</code> and <code>gorder</code>: Number of vertices, numeric scalar
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>

<hr>
<h2 id='is.neither.null.nor.na'>Function to check whether an object is neither <code>NA</code> nor <code>NULL</code></h2><span id='topic+is.neither.null.nor.na'></span>

<h3>Description</h3>

<p>Combines <code>base::is.na(x)|&gt; magrittr::not()</code> and <code>base::is.null(x)|&gt; magrittr::not()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.neither.null.nor.na(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="is.neither.null.nor.na_+3A_x">x</code></td>
<td>
<p>Object on which to operate</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Logical: <code>TRUE</code> if <code>x</code> is neither <code>NA</code> or <code>NULL</code>, <code>FALSE</code> otherwise.
</p>


<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>

<hr>
<h2 id='is.null.na'>Function to check whether an object is <code>NA</code> or <code>NULL</code></h2><span id='topic+is.null.na'></span>

<h3>Description</h3>

<p>Combines <code>base::is.na(x)</code>, <code>base::is.null(x)</code>. When <code>negating</code> is <code>TRUE</code>, it integrates also <code>f(x)|&gt; magrittr::not()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.null.na(x, negating = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="is.null.na_+3A_x">x</code></td>
<td>
<p>Object on which to operate</p>
</td></tr>
<tr><td><code id="is.null.na_+3A_negating">negating</code></td>
<td>
<p>Whether to return the negation of the result</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Logical, depending on <code>negating</code>:
</p>

<ul>
<li><p> if <code>negating</code> is <code>FALSE</code>, it returns <code>TRUE</code> if <code>x</code> is <code>NA</code> or <code>NULL</code>;
</p>
</li>
<li><p> if <code>negating</code> is <code>TRUE</code>, it returns <code>TRUE</code> if <code>x</code> is <strong>neither</strong> <code>NA</code> <strong>nor</strong> <code>NULL</code>.
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>

<hr>
<h2 id='listing'>Function to list multiple objects passed as <code>...</code></h2><span id='topic+listing'></span>

<h3>Description</h3>

<p>Function to list multiple objects passed as <code>...</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>listing(..., naming = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="listing_+3A_...">...</code></td>
<td>
<p>Objects on which to operate</p>
</td></tr>
<tr><td><code id="listing_+3A_naming">naming</code></td>
<td>
<p>Logical | Whether to name the list after the symbols of the provided objects. Defaults to <code>TRUE</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A (possibly named) list of the provided objects.
</p>


<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>

<hr>
<h2 id='load.Matrix'>Function to  load the package <code>Matrix</code></h2><span id='topic+load.Matrix'></span>

<h3>Description</h3>

<p>Checks if the package is required and check whether it is available
</p>


<h3>Usage</h3>

<pre><code class='language-R'>load.Matrix(x, pos = 1L)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="load.Matrix_+3A_x">x</code></td>
<td>
<p>The object on which to base the decision</p>
</td></tr>
<tr><td><code id="load.Matrix_+3A_pos">pos</code></td>
<td>
<p>Integer specifying position to attach</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>logical</code> whether to load the package <code>Matrix</code>
</p>


<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>


<h3>See Also</h3>

<p>Other Internal matrix (de)constructrs: 
<code><a href="#topic+extract.matrix">extract.matrix</a>()</code>,
<code><a href="#topic+get.matrix.adjacency">get.matrix.adjacency</a>()</code>,
<code><a href="#topic+get.matrix.adjacency.both">get.matrix.adjacency.both</a>()</code>
</p>

<hr>
<h2 id='Matrix+26amp+3Bmatrix'>A (virtual) class union for matrix-like objects to be included in <code>financial_matrix</code></h2><span id='topic+Matrix+26matrix'></span>

<h3>Description</h3>

<p>This is the un-exported basis for the S4 classes <code>financial_matrix</code>
</p>

<hr>
<h2 id='naming'>Function to extract the symbols of the objects passed as <code>...</code></h2><span id='topic+naming'></span>

<h3>Description</h3>

<p>This function will not work when called inside the function to which the objects were explicitly passsed as <code>...</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>naming(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="naming_+3A_...">...</code></td>
<td>
<p>Objects on which to operate</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of strings matching the provided objects' symbols.
</p>


<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>


<h3>References</h3>

<p><a href="https://stackoverflow.com/a/11892680">https://stackoverflow.com/a/11892680</a>
</p>

<hr>
<h2 id='network_financial'>An S4 class for relational data extending the package <a href="https://statnet.org/">network</a></h2><span id='topic+network_financial'></span><span id='topic+network_financial-class'></span>

<h3>Description</h3>

<p>An S4 class for the network objects produced by the <code><a href="#topic+FF.net">FF.net</a></code> and <code><a href="#topic+FF.net.custom">FF.net.custom</a></code> functions to represent the relations between firms (legal person)
</p>


<h3>Slots</h3>


<dl>
<dt><code>data</code></dt><dd><p>The representation of the network as a <a href="https://rdrr.io/cran/network/man/network.html">network</a> object</p>
</dd>
</dl>

<hr>
<h2 id='network_methods'>Extending <code>newtwork</code> functions to <code>newtwork_financial</code> objects</h2><span id='topic+network_methods'></span><span id='topic+edgecount'></span><span id='topic+network.size'></span><span id='topic+vertex.names'></span><span id='topic+plot_network'></span>

<h3>Description</h3>

<p>The following functions are implemented:
</p>

<ul>
<li> <p><code>edgecount</code> to count the number of eges (<code>network::network.edgecount</code>);
</p>
</li>
<li> <p><code>vertex.names</code> to retrieve the vertices' names (<code>network::network.vertex.names</code>);
</p>
</li>
<li> <p><code>network.size</code> to count the edges (<code>network::network::network.size</code>);
</p>
</li>
<li> <p><code>plot_network</code> to plot networks (<code>network::plot.network</code>))
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>edgecount(x, ...)

network.size(x, ...)

vertex.names(x, ...)

plot_network(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="network_methods_+3A_x">x</code></td>
<td>
<p>The <code>newtwork_financial</code> object</p>
</td></tr>
<tr><td><code id="network_methods_+3A_...">...</code></td>
<td>
<p>Other parameters passed to the corresponding <code>newtwork</code> functions (see Details).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Implementing most basic iterators from the package <code>newtwork</code> for objects of class <code>newtwork_financial</code>
</p>


<h3>Value</h3>

<p>The same result for both <code>newtwork</code> and <code>newtwork_financial</code> objects
</p>

<ul>
<li> <p><code>edgecount</code>: Number of edges, numeric scalar
</p>
</li>
<li> <p><code>vertex.names</code>: Names/Labels of the vertices, character vector
</p>
</li>
<li> <p><code>network.size</code>: Number of vertices, numeric scalar
</p>
</li>
<li> <p><code>plot_network</code>: Returns a two-column matrix containing the vertex positions as <code>(x,y)</code> coordinates, invisibly. Called to print the graph to any <code>R</code> device.)
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>

<hr>
<h2 id='network_operators'>Operators for <code>network_financial</code> objects</h2><span id='topic+network_operators'></span><span id='topic+edgecount+2Cnetwork_financial-method'></span><span id='topic+edgecount+2Cnetwork-method'></span><span id='topic+vertex.names+2Cnetwork-method'></span><span id='topic+vertex.names+2Cnetwork_financial-method'></span><span id='topic+network.size+2Cnetwork-method'></span><span id='topic+network.size+2Cnetwork_financial-method'></span>

<h3>Description</h3>

<p>Methods to extend operators from the package <code>network</code> to <code>network_financial</code> objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'network_financial'
edgecount(x, ...)

## S4 method for signature 'network'
edgecount(x, ...)

## S4 method for signature 'network_financial'
vertex.names(x, ...)

## S4 method for signature 'network'
vertex.names(x, ...)

## S4 method for signature 'network_financial'
network.size(x, ...)

## S4 method for signature 'network'
network.size(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="network_operators_+3A_x">x</code></td>
<td>
<p>The <code>network_financial</code> object</p>
</td></tr>
<tr><td><code id="network_operators_+3A_...">...</code></td>
<td>
<p>Other parameters passed to the corresponding method and/or <code>network</code> functions (see Details).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The same result for both <code>network</code> and <code>network_financial</code> objects
</p>

<ul>
<li> <p><code>network.edgecount</code>: Number of edges, numeric scalar
</p>
</li>
<li> <p><code>network.vertex.names</code>: Names/Labels of the vertices, character vector
</p>
</li>
<li> <p><code>network::network.size</code>: Number of vertices, numeric scalar
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>

<hr>
<h2 id='network.efficiency'>Calculate network efficiency</h2><span id='topic+network.efficiency'></span>

<h3>Description</h3>

<p>Network efficiency quantifies how efficiently information (management relations)
and/or money capital (ownership relations) flow through a network. It is essential in
systemic-risk identification, resilience assessment, and crisis-propagation analysis.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>network.efficiency(
  ...,
  ignore.weights = FALSE,
  use.igraph = isTRUE(requireNamespace("igraph", quietly = TRUE))
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="network.efficiency_+3A_...">...</code></td>
<td>
<p>Firm-Firm network in one of the following classes:
</p>

<ul>
<li><p><code>financial_matrix</code> produced by <code>FF</code> and family;
</p>
</li>
<li><p><code>network_financial</code> or <code>network</code> if the relevant package is installed;
</p>
</li>
<li><p><code>igraph_financial</code> or <code>igraph</code> if the  relevant package is installed.
</p>
</li></ul>
</td></tr>
<tr><td><code id="network.efficiency_+3A_ignore.weights">ignore.weights</code></td>
<td>
<p>Optional parameter, defaults to <code>FALSE</code>. If <code>TRUE</code>, ignore ties weights in the computation.</p>
</td></tr>
<tr><td><code id="network.efficiency_+3A_use.igraph">use.igraph</code></td>
<td>
<p>Whether to use igraph to speed-up the computation. See 'Details'.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function is implemented both for <code>igraph</code> users and in base <code>R</code> using the Floyd-Warshall algorithm.
However, the latter runs in <code class="reqn">O(n^3)</code>, which may not be efficient for very large networks.
</p>
<p>The distances enter into play in the formal definition of efficiency:
</p>
<p style="text-align: center;"><code class="reqn">E = \frac{1}{N(N-1)}\sum_{i\ne j \in \mathcal{N}}\frac{1}{d_{i,\ j}}</code>
</p>

<p>where:
</p>

<ul>
<li><p><code class="reqn">\mathcal{N}</code> is the set of all nodes;
</p>
</li>
<li><p><code class="reqn">N</code> is the number of nodes (i.e., the number of elements in <code class="reqn">\mathcal{N}</code>;
</p>
</li>
<li><p><code class="reqn">d_{i,\ j}</code> is the shortest (weighted and directed) path distance between the nodes <code class="reqn">i</code> and <code class="reqn">j</code>.
</p>
</li></ul>



<h3>Value</h3>

<p>A <code>numeric</code>, the global efficiency value.
</p>


<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>


<h3>References</h3>

<p>Latora, Vito, and Masimo Marchiori. 'Economic Small-World Behavior in Weighted Networks'. The European Physical Journal B - Condensed Matter and Complex Systems 32, no. 2 (1 March 2003): 249–63. <a href="https://doi.org/10.1140/epjb/e2003-00095-5">doi:10.1140/epjb/e2003-00095-5</a>.
</p>
<p>Floyd, Robert W. 'Algorithm 97: Shortest path'. Communications of the ACM, 5, no. 6 (1962): 345.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Load some data
data('firms_BKB')

# Create a FF matrix
mat &lt;- FF(firms_BKB, who = 'b', ties =  'n')
# Use the built-in Floyd-Warshall algorithm
network.efficiency(mat, use.igraph = FALSE)

#' # Create a FF graph
if(!require('igraph')){
  g &lt;- FF.graph(mat, 'simple')
  # Use igraph's implementation, which gives the same result
  # as the built-in Floyd-Warshall algorithm, but is faster
  network.efficiency(g, use.igraph = TRUE)==network.efficiency(mat, use.igraph = FALSE)
}

</code></pre>

<hr>
<h2 id='palette'>Function to create the default palette and ramp it up as needed</h2><span id='topic+palette'></span>

<h3>Description</h3>

<p>Function to create the default palette and ramp it up as needed
</p>


<h3>Usage</h3>

<pre><code class='language-R'>palette(length = 6)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="palette_+3A_length">length</code></td>
<td>
<p>Length of the desired palette</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of RGB codes containing <code>length</code> colours
</p>


<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>

<hr>
<h2 id='plot_igraph-methods'>igraph plotting for <code>igraph_financial</code> objects</h2><span id='topic+plot_igraph-methods'></span><span id='topic+plot_igraph+2Cigraph-method'></span><span id='topic+plot_igraph+2Cigraph_financial-method'></span>

<h3>Description</h3>

<p>Methods to extend <code>igraph</code>'s plotting functions to <code>igraph_financial</code> objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'igraph_financial'
plot_igraph(x, ...)

## S4 method for signature 'igraph'
plot_igraph(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot_igraph-methods_+3A_x">x</code></td>
<td>
<p>The <code>igraph_financial</code> object</p>
</td></tr>
<tr><td><code id="plot_igraph-methods_+3A_...">...</code></td>
<td>
<p>Other parameters passed to the corresponding method and/or <code>igraph</code> functions (see Details).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>For both <code>igraph</code> and <code>igraph_financial</code> objects, returns NULL invisibly. It is called to print the graph to any R device. (see method and <a href="https://rdrr.io/cran/igraph/man/plot.igraph.html">igraph::plot.igraph</a>)
</p>


<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>

<hr>
<h2 id='plot_network-methods'>network plotting for <code>igraph_financial</code> objects</h2><span id='topic+plot_network-methods'></span><span id='topic+plot_network+2Cnetwork_financial-method'></span><span id='topic+plot_network+2Cnetwork-method'></span>

<h3>Description</h3>

<p>Methods to extend <code>network</code>'s plotting functions to <code>network_financial</code> objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'network_financial'
plot_network(x, ...)

## S4 method for signature 'network'
plot_network(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot_network-methods_+3A_x">x</code></td>
<td>
<p>The <code>network_financial</code> object</p>
</td></tr>
<tr><td><code id="plot_network-methods_+3A_...">...</code></td>
<td>
<p>Other parameters passed to the corresponding method and/or <code>network</code> functions (see Details).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>For both <code>igraph</code> and <code>igraph_financial</code> objects, returns NULL invisibly. It is called to print the graph to any R device. (see method and <a href="https://rdrr.io/cran/igraph/man/plot.igraph.html">igraph::plot.igraph</a>)
</p>


<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>

<hr>
<h2 id='print_financial_matrix'>Print information on a <code>financial_matrix</code></h2><span id='topic+print_financial_matrix'></span>

<h3>Description</h3>

<p>Un-exported function behind the <code>print</code> methods for objects of class <code>financial_matrix</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>print_financial_matrix(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print_financial_matrix_+3A_x">x</code></td>
<td>
<p>The object of class <code>financial_matrix</code> to be shown</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>

<hr>
<h2 id='print+2Cfinancial_matrix-method'>Print information on a <code>financial_matrix</code></h2><span id='topic+print+2Cfinancial_matrix-method'></span>

<h3>Description</h3>

<p>Print method for the objects of class <code>financial_matrix</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'financial_matrix'
print(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print+2B2Cfinancial_matrix-method_+3A_x">x</code></td>
<td>
<p>The <code>financial_matrix</code> object to print</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called to print to the console information about the <code>financial_matrix</code> object:
</p>

<ul>
<li><p> type of relation detail (common ownership, board interlocks, or both),
</p>
</li>
<li><p> Total capitalisation of the firms present (if known), broke down by currency (if more than one);
</p>
</li>
<li><p> Average total revenues (if known), broke down by currency (if more than one)
</p>
</li>
<li><p> A print-out of the matrix, up to the number of character given by <code>options('max.print')</code>.
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>

<hr>
<h2 id='print+2Cfirm-method'>Print information on a class <code>firm</code> object</h2><span id='topic+print+2Cfirm-method'></span>

<h3>Description</h3>

<p>Print method for the S4 class representing a firm (legal person)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'firm'
print(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print+2B2Cfirm-method_+3A_x">x</code></td>
<td>
<p>The <code>firm</code> object to show</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called to print to the console <em>detail</em> information about the <code>firm</code> object including:
</p>

<ul>
<li><p> in the first paragraph:
</p>

<ul>
<li><p> legal form (if any),
</p>
</li>
<li><p> revenues (if known),
</p>
</li>
<li><p> capitalisation (if known).
</p>
</li></ul>

</li>
<li><p> in the second paragraph, the names of the board members/managers;
</p>
</li>
<li><p> in the third paragraph, a data frame with two columns:
</p>

<ul>
<li><p> First, the names of the owners
</p>
</li>
<li><p> The, their respective share of the firm's capital (normalised to 1)
</p>
</li></ul>

</li></ul>



<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>

<hr>
<h2 id='print+2Cigraph_financial-method'>Print information on a <code>igraph_financial</code> object</h2><span id='topic+print+2Cigraph_financial-method'></span>

<h3>Description</h3>

<p>Method to <code>print</code> objects of class <code>igraph_financial</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'igraph_financial'
print(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print+2B2Cigraph_financial-method_+3A_x">x</code></td>
<td>
<p>The object of class <code>igraph_financial</code> to be shown</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For more information see the relevant igraph function: <a href="https://rdrr.io/cran/igraph/man/print.igraph.html">print.igraph</a>
</p>


<h3>Value</h3>

<p>Nothing, called for printing to the console the following information:
</p>

<ul>
<li><p> The first line contains the basic properties of the graph;
</p>
</li>
<li><p> The rest of the of the print-out contains the graph's attributes. After the attribute names, the kind of the attribute – graph (‘g’), vertex (‘v’) or edge (‘e’) – is denoted, and the type of the attribute as well, character (‘c’), numeric (‘n’), logical (‘l’), or other (‘x’).
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>

<hr>
<h2 id='print+2Cnetwork_financial-method'>Print information on a <code>network_financial</code> object</h2><span id='topic+print+2Cnetwork_financial-method'></span>

<h3>Description</h3>

<p>Method to <code>print</code> objects of class <code>network_financial</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'network_financial'
print(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print+2B2Cnetwork_financial-method_+3A_x">x</code></td>
<td>
<p>The object of class <code>network_financial</code> to be shown</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Prints the list of global attributes of the network as if <code>network::print.network()</code> had been called. See <a href="https://rdrr.io/cran/network/man/network.html">print.network</a> for more details.
</p>


<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>

<hr>
<h2 id='query.firm'>Function to extract information from a <code>firm</code> object (legal person)</h2><span id='topic+query.firm'></span>

<h3>Description</h3>

<p>Function to extract information from a <code>firm</code> object (legal person)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>query.firm(firm, which, naming = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="query.firm_+3A_firm">firm</code></td>
<td>
<p>Firm which to extract information from</p>
</td></tr>
<tr><td><code id="query.firm_+3A_which">which</code></td>
<td>
<p>Information to extract, minimum unambiguous substring. Possible values (one or more):
- <code>name</code> Name of the firm
- <code>id</code> ID of the firm, usually the ticker (if provided or otherwise known)
- <code>legal_form</code> Legal form of the firm
- <code>sector</code> Sector in which the firm operates
- <code>revenues</code> Yearly revenues
- <code>capitalisation</code> Capitalisation
- <code>management</code> Members of the board
- <code>ownership</code> Owner(s)
- <code>shares</code> Share owned by (each of) the owner(s)
- <code>currency</code> Currency in which revenues and capitalisation are denominated</p>
</td></tr>
<tr><td><code id="query.firm_+3A_naming">naming</code></td>
<td>
<p>Whether to name the result after the querie information (defaults to <code>TRUE</code>)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Depends on the information queried. One (or, if <code>length(which)&gt;=2</code>, a <code><a href="base.html#topic+list">list</a></code> of two or more) of the following:
</p>
<table role = "presentation">
<tr><td><code>name</code></td>
<td>
<p>A string representing the name of the firm</p>
</td></tr>
<tr><td><code>id</code></td>
<td>
<p>A string representing the ID of the firm (usually its ticker)</p>
</td></tr>
<tr><td><code>legal_form</code></td>
<td>
<p>A string representing the firm's legal form</p>
</td></tr>
<tr><td><code>sector</code></td>
<td>
<p>A string indicating the sector in which the firm operates (possibly a NACE rev. 2 code)</p>
</td></tr>
<tr><td><code>revenues</code></td>
<td>
<p>A numeric (double) quantifying yearly revenues</p>
</td></tr>
<tr><td><code>capitalisation</code></td>
<td>
<p>A numeric (double) quantifying capitalisation</p>
</td></tr>
<tr><td><code>management</code></td>
<td>
<p>A vector of strings representing the members of the board</p>
</td></tr>
<tr><td><code>ownership</code></td>
<td>
<p>A vector of strings representing the owner(s)</p>
</td></tr>
<tr><td><code>shares</code></td>
<td>
<p>A numeric (double) vector indicating the shares controlled by (each of) the owner(s)</p>
</td></tr>
<tr><td><code>currency</code></td>
<td>
<p>A string indicating the currency in which revenues and capitalisation are denominated</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>


<h3>See Also</h3>

<p><a href="#topic+query.firms">query.firms</a> <a href="#topic+query.firms.dataframe">query.firms.dataframe</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Query Apple's capitalisation
data('firms_US')
list2env(firms_US, parent.frame())
query.firm(AAPL, which = 'capitalisation')

# Query British-American Tobacco's capitalisation using the common abbreviation 'cap'
data('firms_US')
list2env(firms_US, parent.frame())
query.firm(BTI, 'cap')

# Query General Motors's owners and their shares, but return an unnamed \code{\link{list}}
data('firms_US')
list2env(firms_US, parent.frame())
query.firm(GM, c('own', 'sha'), naming = FALSE)


</code></pre>

<hr>
<h2 id='query.firms'>Function to extract information from multiple <code>firm</code> object (legal person)</h2><span id='topic+query.firms'></span>

<h3>Description</h3>

<p>This function can be fed either:
- a (possibly named) <code><a href="base.html#topic+list">list</a></code> of objects of class <code>firm</code> (see examples 1 and 2); or
- multiple objects of class <code>firm</code>(see example 3)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>query.firms(..., which, naming = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="query.firms_+3A_...">...</code></td>
<td>
<p>Object/s which to extract information from (see 'Details')</p>
</td></tr>
<tr><td><code id="query.firms_+3A_which">which</code></td>
<td>
<p>Information to extract, minimum unambiguous sub-string. Possible values (one or more):
- <code>name</code> Name of the firm
- <code>id</code> ID of the firm, usually the ticker (if provided or otherwise known)
- <code>legal_form</code> Legal form of the firm
- <code>sector</code> Sector in which the firm operates
- <code>revenues</code> Yearly revenues
- <code>capitalisation</code> Capitalisation
- <code>management</code> Members of the board
- <code>ownership</code> Owner(s)
- <code>shares</code> Share owned by (each of) the owner(s)
- <code>currency</code> Currency in which revenues and capitalisation are denominated</p>
</td></tr>
<tr><td><code id="query.firms_+3A_naming">naming</code></td>
<td>
<p>Whether to name the result after the querie information (defaults to <code>TRUE</code>)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Depends on the information queried. An object of class <code><a href="base.html#topic+list">list</a></code> (that, if <code>length(which)&gt;=2</code>, contain multiple sub-lists) of the following:
</p>
<table role = "presentation">
<tr><td><code>name</code></td>
<td>
<p>A string representing the name of the firm</p>
</td></tr>
<tr><td><code>id</code></td>
<td>
<p>A string representing the ID of the firm (usually its ticker)</p>
</td></tr>
<tr><td><code>legal_form</code></td>
<td>
<p>A string representing the firm's legal form</p>
</td></tr>
<tr><td><code>sector</code></td>
<td>
<p>A string indicating the sector in which the firm operates (possibly a NACE rev. 2 code)</p>
</td></tr>
<tr><td><code>revenues</code></td>
<td>
<p>A numeric (double) quantifying yearly revenues</p>
</td></tr>
<tr><td><code>capitalisation</code></td>
<td>
<p>A numeric (double) quantifying capitalisation</p>
</td></tr>
<tr><td><code>management</code></td>
<td>
<p>A vector of strings representing the members of the board</p>
</td></tr>
<tr><td><code>ownership</code></td>
<td>
<p>A vector of strings representing the owner(s)</p>
</td></tr>
<tr><td><code>shares</code></td>
<td>
<p>A numeric (double) vector indicating the shares controlled by (each of) the owner(s)</p>
</td></tr>
<tr><td><code>currency</code></td>
<td>
<p>A string indicating the currency in which revenues and capitalisation are denominated</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>


<h3>See Also</h3>

<p><a href="#topic+query.firm">query.firm</a> <a href="#topic+query.firms.dataframe">query.firms.dataframe</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Query Apple's, GM's, and BTI's market cap and revenues
data('firms_US')
query.firms(firms_US, which = c('cap', 'rev'))

# Query GM's and BTI's management
data('firms_US')
query.firms(firms_US, which = 'man')

# Query Appple's and GM's revenues and currency
data('firms_US')
list2env(firms_US, envir = parent.frame())
query.firms(AAPL, GM, which = c('rev', 'curr'))


</code></pre>

<hr>
<h2 id='query.firms_switch'>Function to chose the right algorithm when querying one or more information over multiple <code>firm</code> objects</h2><span id='topic+query.firms_switch'></span>

<h3>Description</h3>

<p>Function to chose the right algorithm when querying one or more information over multiple <code>firm</code> objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>query.firms_switch(firm, which, naming = TRUE, unlisting = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="query.firms_switch_+3A_firm">firm</code></td>
<td>
<p>List of objects on which to operate</p>
</td></tr>
<tr><td><code id="query.firms_switch_+3A_naming">naming</code></td>
<td>
<p>Logical | Whether to name the result after <code>names(firms)</code>. Defaults to <code>TRUE</code></p>
</td></tr>
<tr><td><code id="query.firms_switch_+3A_unlisting">unlisting</code></td>
<td>
<p>Logical | Whether to un-list the result. Defaults to <code>FALSE</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>The queried information.
</p>


<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>

<hr>
<h2 id='query.firms.dataframe'>Function to extract information from multiple <code>firm</code> object (legal person) as a data frame</h2><span id='topic+query.firms.dataframe'></span>

<h3>Description</h3>

<p>This function can be fed either:
- a (possibly named) <code><a href="base.html#topic+list">list</a></code> of objects of class <code>firm</code> (see example 1); or
</p>


<h3>Usage</h3>

<pre><code class='language-R'>query.firms.dataframe(..., which, naming = TRUE, transposing = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="query.firms.dataframe_+3A_...">...</code></td>
<td>
<p>Object/s which to extract information from (see 'Details')</p>
</td></tr>
<tr><td><code id="query.firms.dataframe_+3A_which">which</code></td>
<td>
<p>Information to extract, minimum unambiguous sub-string. Possible values (one or more):
- <code>name</code> Name of the firm
- <code>id</code> ID of the firm, usually the ticker (if provided or otherwise known)
- <code>legal_form</code> Legal form of the firm
- <code>sector</code> Sector in which the firm operates
- <code>revenues</code> Yearly revenues
- <code>capitalisation</code> Capitalisation
- <code>management</code> Members of the board
- <code>ownership</code> Owner(s)
- <code>shares</code> Share owned by (each of) the owner(s)
- <code>currency</code> Currency in which revenues and capitalisation are denominated</p>
</td></tr>
<tr><td><code id="query.firms.dataframe_+3A_naming">naming</code></td>
<td>
<p>Whether to name the result after the queried information (defaults to <code>TRUE</code>)</p>
</td></tr>
<tr><td><code id="query.firms.dataframe_+3A_transposing">transposing</code></td>
<td>
<p>If <code>TRUE</code> (default) each row will correspond to a firm and each column to a variable.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It is not recommended to use this function with <code>management</code>, <code>ownership</code>, or <code>shares</code> unless <code>transposing == FALSE</code>.
</p>


<h3>Value</h3>

<p>A data frame in structured as follows (or vice versa if <code>transposing == TRUE</code>):
</p>

<dl>
<dt>a row</dt><dd><p>for each queried information; and</p>
</dd>
<dt>a column</dt><dd><p>for each number of firm</p>
</dd></dl>
<p>.

</p>


<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>


<h3>See Also</h3>

<p><a href="#topic+query.firm">query.firm</a> <a href="#topic+query.firms">query.firms</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Query Apple's, GM's, and BTI's market cap and revenues
data('firms_US')
query.firms.dataframe(firms_US, which = c('cap', 'rev'))

# Query GM's and BTI's market cap and revenues
data('firms_US')
list2env(firms_US, envir = parent.frame())
query.firms.dataframe(GM, BTI, which = c('cap', 'rev'))


</code></pre>

<hr>
<h2 id='register.firm'>Function to create a <code>firm</code> (legal person)</h2><span id='topic+register.firm'></span>

<h3>Description</h3>

<p>Function to create a <code>firm</code> (legal person)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>register.firm(
  name,
  id = NA,
  legal_form = NA,
  sector = NA,
  sector_classif = NULL,
  revenues = NA,
  capitalisation = NA,
  management = NA,
  ownership = NA,
  shares = NA,
  currency = NA
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="register.firm_+3A_name">name</code></td>
<td>
<p>Name of the firm</p>
</td></tr>
<tr><td><code id="register.firm_+3A_id">id</code></td>
<td>
<p>Provide an ID code for the firm. Defaults to <code>NA</code></p>
</td></tr>
<tr><td><code id="register.firm_+3A_legal_form">legal_form</code></td>
<td>
<p>Legal form of the firm (e.g., LLP, Inc, GmbH, Private, etc.)</p>
</td></tr>
<tr><td><code id="register.firm_+3A_sector">sector</code></td>
<td>
<p>Sector in which the firm operates (its values depend on the value of <code>sector_classif</code>)</p>
</td></tr>
<tr><td><code id="register.firm_+3A_sector_classif">sector_classif</code></td>
<td>
<p>Which standard sector classification (if any) to be used. Possible values are
- <code>NACE</code> for the Statistical Classification of Economic Activities in the European Community or 'Nomenclature statistique des Activités économiques dans la Communauté Européenne', revision 2;
- <code>NA</code> for a custom classification (default if anything is provided);
- <code>NULL</code> for no classification (default if nothing is provided).</p>
</td></tr>
<tr><td><code id="register.firm_+3A_revenues">revenues</code></td>
<td>
<p>Yearly revenues</p>
</td></tr>
<tr><td><code id="register.firm_+3A_capitalisation">capitalisation</code></td>
<td>
<p>Firm's capitalisation</p>
</td></tr>
<tr><td><code id="register.firm_+3A_management">management</code></td>
<td>
<p>Names of the members of the board</p>
</td></tr>
<tr><td><code id="register.firm_+3A_ownership">ownership</code></td>
<td>
<p>Names of the owner(s)</p>
</td></tr>
<tr><td><code id="register.firm_+3A_shares">shares</code></td>
<td>
<p>Share owned by (each of) the owner(s)</p>
</td></tr>
<tr><td><code id="register.firm_+3A_currency">currency</code></td>
<td>
<p>Currency in which the capitalisation and revenues are expressed (defaults to 'USD')</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of the S4 class <code>firm</code> containing several fields, only the first one of which is mandatory:
</p>
<table role = "presentation">
<tr><td><code>name</code></td>
<td>
<p>Name of the firm</p>
</td></tr>
<tr><td><code>id</code></td>
<td>
<p>ID of the firm, usually the ticker</p>
</td></tr>
<tr><td><code>legal_form</code></td>
<td>
<p>Legal form of the firm</p>
</td></tr>
<tr><td><code>sector</code></td>
<td>
<p>Sector in which the firm operates</p>
</td></tr>
<tr><td><code>revenues</code></td>
<td>
<p>Yearly revenues</p>
</td></tr>
<tr><td><code>capitalisation</code></td>
<td>
<p>Capitalisation</p>
</td></tr>
<tr><td><code>management</code></td>
<td>
<p>Members of the board</p>
</td></tr>
<tr><td><code>ownership</code></td>
<td>
<p>Owner(s)</p>
</td></tr>
<tr><td><code>shares</code></td>
<td>
<p>Share owned by (each of) the owner(s)</p>
</td></tr>
<tr><td><code>currency</code></td>
<td>
<p>Currency</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>


<h3>See Also</h3>

<p><a href="#topic+find.firm">find.firm</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Registering Apple manually
AAPL &lt;- register.firm(name = 'Apple', id = 'AAPL', legal_form = 'GmbH',
                      revenues = 81665400000, capitalisation = 2755039000000,
                      management = my_vector &lt;- c("Timothy D. Cook",
                                                  "Luca Maestri",
                                                  "Jeffrey E. Williams",
                                                  "Katherine L. Adams",
                                                  "Deirdre O'Brien",
                                                  "Chris Kondo",
                                                  "James Wilson",
                                                  "Mary Demby",
                                                  "Nancy Paxton",
                                                  "Greg Joswiak"),
                      ownership = c('Vanguard Total Stock Market Index Fund',
                      'Vanguard 500 Index Fund',
                      'Fidelity 500 Index Fund',
                      'SPDR S&amp;P 500 ETF Trust',
                      'iShares Core S&amp;P 500 ETF',
                      'Invesco ETF Tr-Invesco QQQ Tr, Series 1 ETF',
                      'Vanguard Growth Index Fund',
                      'Vanguard Institutional Index Fund-Institutional Index Fund',
                      'Vanguard Information Technology Index Fund',
                      'Select Sector SPDR Fund-Technology'),
                      shares = c(0.0290, 0.0218, 0.0104, 0.0102, 0.0084,
                                 0.0082, 0.0081, 0.0066, 0.0043, 0.0039),
                      currency = 'USD')

# Registering a coal-mining company indicating the sector using `NACE` codes, without ID
set.seed(123456789)
firm_coalmining &lt;- register.firm(
  name = 'A coal-mining firm',
  legal_form = 'Private',
  sector = 'B.05',
  sector_classif = 'NACE'
)

# Getting creative: Register a firm with coded owners and managers
set.seed(123456789)
firm_coded &lt;- register.firm(
  name = 'Coded firm',
  revenues = sample(seq(1:100)/10, 1)*10^sample(1:5, 1),
  capitalisation = sample(seq(1:100)/10, 1)*10^sample(2:7, 1),
  management = c('Board Member', 'CEO', 'CTO', 'Activist investor'),
  ownership = c('State', 'Foreign investors'),
  shares = c(51, 49),
  currency = 'EUR'
)

</code></pre>

<hr>
<h2 id='rescale.numeric'>Function to rescale numeric vectors</h2><span id='topic+rescale.numeric'></span>

<h3>Description</h3>

<p>Rescale continuous vector to have specified minimum and maximum
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rescale.numeric(
  x,
  to = c(0, 1),
  from = range(x, na.rm = TRUE, finite = TRUE),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rescale.numeric_+3A_x">x</code></td>
<td>
<p>A vector to re-scale</p>
</td></tr>
<tr><td><code id="rescale.numeric_+3A_to">to</code></td>
<td>
<p>output range (numeric vector of length two)</p>
</td></tr>
<tr><td><code id="rescale.numeric_+3A_from">from</code></td>
<td>
<p>input range (vector of length two).  If not given, is
calculated from the range of <code>x</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>From: The package <a href="https://scales.r-lib.org/"><code>scales</code></a>
</p>


<h3>Value</h3>

<p>Re-scaled vector
</p>


<h3>Author(s)</h3>

<p><a href="https://scales.r-lib.org/">Hadley Wickham</a>
</p>

<hr>
<h2 id='SCC'>Tarjan's algorithm for finding strongly connected components</h2><span id='topic+SCC'></span>

<h3>Description</h3>

<p>This function performs a depth-first search (DFS) on a directed graph to identify
strongly connected components (SCCs) and their size
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SCC(test_m)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="SCC_+3A_test_m">test_m</code></td>
<td>
<p>A square adjacency matrix representing the directed network.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is a modified version of the R implementation of Tarjan's
algorithm for finding strongly connected components in directed graphs by
Ettore Settanni at the University of Cambridge (see References).
</p>
<p>The function consists of several internal steps:
</p>

<ol>
<li><p>Node Labeling - All nodes are labeled with two-digit names for clarity in referencing.
</p>
</li>
<li><p>Successor List Creation - For each node, lists of direct successors are compiled.
</p>
</li>
<li><p>Utilization Table Setup - A table is set up for tracking exploration details such as depth and backtracking information.
</p>
</li>
<li><p>Main DFS Loop - The core loop where DFS occurs, including node visitation and backtracking logic to determine SCCs.
</p>
</li>
<li><p>Stack Management - Nodes are managed in a stack to keep track of the current path of exploration and to facilitate backtracking.
</p>
</li>
<li><p>SCC Identification - Upon finishing exploration of an SCC, it is identified and nodes are popped from the stack.
</p>
</li></ol>



<h3>Value</h3>

<p>A list containing two elements:
</p>

<ul>
<li><p><code>n</code> - number of strongly connected components
</p>
</li>
<li><p><code>sizes</code> - size of each strongly connected component, in order of discovery
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Settanni,Ettore
</p>
<p>Telarico, Fabio Ashtar
</p>


<h3>References</h3>

<p>Settanni, Ettore. ‘RtarD - Find Strongly Connected Components in a Digraph Using R’. R, 15 November 2021. <a href="https://github.com/Dr-Eti/RtarD-Tarjans_DFS_in_R">https://github.com/Dr-Eti/RtarD-Tarjans_DFS_in_R</a>.
</p>


<h3>See Also</h3>

<p>Other SCC finders: 
<code><a href="#topic+SCC2">SCC2</a>()</code>
</p>

<hr>
<h2 id='SCC2'>Tarjan's algorithm for finding strongly connected components in C++</h2><span id='topic+SCC2'></span>

<h3>Description</h3>

<p>This function performs a depth-first search (DFS) on a directed graph to identify
strongly connected components (SCCs) and their size
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SCC2(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="SCC2_+3A_x">x</code></td>
<td>
<p>A square adjacency matrix representing the directed network.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is a modified version of the C++ implementation of Tarjan's
algorithm for finding strongly connected components in directed graphs made
available by the webiste Geeks for Geeks (see References).
</p>
<p>The function consists of several internal steps:
</p>

<ol>
<li><p>Node Labeling - All nodes are labeled with two-digit names for clarity in referencing.
</p>
</li>
<li><p>Successor List Creation - For each node, lists of direct successors are compiled.
</p>
</li>
<li><p>Utilization Table Setup - A table is set up for tracking exploration details such as depth and backtracking information.
</p>
</li>
<li><p>Main DFS Loop - The core loop where DFS occurs, including node visitation and backtracking logic to determine SCCs.
</p>
</li>
<li><p>Stack Management - Nodes are managed in a stack to keep track of the current path of exploration and to facilitate backtracking.
</p>
</li>
<li><p>SCC Identification - Upon finishing exploration of an SCC, it is identified and nodes are popped from the stack.
</p>
</li></ol>



<h3>Value</h3>

<p>A list containing two elements:
</p>

<ul>
<li><p><code>n</code> - number of strongly connected components
</p>
</li>
<li><p><code>sizes</code> - size of each strongly connected component, in order of discovery
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Geeks for Geeks
</p>
<p>Telarico, Fabio Ashtar
</p>


<h3>References</h3>

<p>Geeks for Geeks. ‘Strongly Connected Components’. C++, 17 January 2024. <a href="https://www.geeksforgeeks.org/strongly-connected-components/">https://www.geeksforgeeks.org/strongly-connected-components/</a>.
</p>


<h3>See Also</h3>

<p>Other SCC finders: 
<code><a href="#topic+SCC">SCC</a>()</code>
</p>

<hr>
<h2 id='SCC2.prep'>Create list of edges for SCC2</h2><span id='topic+SCC2.prep'></span>

<h3>Description</h3>

<p>Create list of edges for SCC2
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SCC2.prep(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="SCC2.prep_+3A_x">x</code></td>
<td>
<p>A square adjacency matrix representing the directed network.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If there are at least two non-zero rows:
</p>

<ul>
<li><p>A <code>list</code> whose elements are <code>vector</code>s representing the
ties between units as <code>c(starting_node, end_node)</code> for the
function #' <code>SCC2()</code>. Otherwise,
</p>
</li>
<li><p>A <code>list</code> like those produced by <code>SCC2()</code> and <code>SCC()</code>.
</p>
</li></ul>

<p>Note: Isolated nodes are not returned, but the object <code>x2</code> is modified
in place to store information on their number if the matrix has at least two
non-null rows.
</p>


<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>


<h3>See Also</h3>

<p>[SCC2()]
</p>

<hr>
<h2 id='show_firm'>Show information on a class <code>firm</code> object</h2><span id='topic+show_firm'></span>

<h3>Description</h3>

<p>Unexported function behind the <code>show</code> methods for objects of class <code>firm</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>show_firm(object)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="show_firm_+3A_object">object</code></td>
<td>
<p>The object of class <code>firm</code> to be shown</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called to print to the console information about the <code>firm</code> object including:
</p>

<ul>
<li><p> legal form (if any),
</p>
</li>
<li><p> revenues (if known),
</p>
</li>
<li><p> capitalisation (if known),
</p>
</li>
<li><p> number of members of the board/managers; and
</p>
</li>
<li><p> number of owners/shareholders.
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>

<hr>
<h2 id='show_igraph_financial'>Show information on a <code>igraph_financial</code></h2><span id='topic+show_igraph_financial'></span>

<h3>Description</h3>

<p>Un-exported function behind the <code>show</code> method for objects of class <code>igraph_financial</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>show_igraph_financial(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="show_igraph_financial_+3A_x">x</code></td>
<td>
<p>The object of class <code>igraph_financial</code> to be shown</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>

<hr>
<h2 id='show_network_financial'>Show information on a <code>network_financial</code></h2><span id='topic+show_network_financial'></span>

<h3>Description</h3>

<p>Un-exported function behind the <code>show</code> method for objects of class <code>network_financial</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>show_network_financial(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="show_network_financial_+3A_x">x</code></td>
<td>
<p>The object of class <code>network_financial</code> to be shown</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>

<hr>
<h2 id='show+2Cfinancial_matrix-method'>Show information on a <code>financial_matrix</code></h2><span id='topic+show+2Cfinancial_matrix-method'></span>

<h3>Description</h3>

<p>Show method for the objects of class <code>financial_matrix</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'financial_matrix'
show(object)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="show+2B2Cfinancial_matrix-method_+3A_object">object</code></td>
<td>
<p>The <code>financial_matrix</code> object to show</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called to print to the console information about the <code>financial_matrix</code> object:
</p>

<ul>
<li><p> type of relation detail (common ownership, board interlocks, or both),
</p>
</li>
<li><p> Total capitalisation of the firms present (if known), broke down by currency (if more than one);
</p>
</li>
<li><p> Average total revenues (if known), broke down by currency (if more than one)
</p>
</li>
<li><p> A print-out of the matrix, up to six columns by six rows (i.e., 36 cells). An additional row of text is printed out to inform on the truncation of the matrix displayed
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>

<hr>
<h2 id='show+2Cfirm-method'>Show information on a <code>firm</code></h2><span id='topic+show+2Cfirm-method'></span>

<h3>Description</h3>

<p>Show method for the S4 class <code>firm</code> representing a firm (legal person)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'firm'
show(object)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="show+2B2Cfirm-method_+3A_object">object</code></td>
<td>
<p>The <code>firm</code> object to show</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called to print to the console information about the <code>firm</code> object including:
</p>

<ul>
<li><p> legal form (if any),
</p>
</li>
<li><p> revenues (if known),
</p>
</li>
<li><p> capitalisation (if known),
</p>
</li>
<li><p> number of members of the board/managers; and
</p>
</li>
<li><p> number of owners/shareholders.
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>

<hr>
<h2 id='show+2Cigraph_financial-method'>Show information on a <code>igraph_financial</code></h2><span id='topic+show+2Cigraph_financial-method'></span>

<h3>Description</h3>

<p>Show method for the objects of class <code>igraph_financial</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'igraph_financial'
show(object)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="show+2B2Cigraph_financial-method_+3A_object">object</code></td>
<td>
<p>The <code>igraph_financial</code> object to show</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Nothing, called for printing to the console the following information:
</p>

<ul>
<li><p> The first line contains the basic properties of the graph;
</p>
</li>
<li><p> The rest of the of the first paragrah contains the graph's attributes. After the attribute names, the kind of the attribute – graph (‘g’), vertex (‘v’) or edge (‘e’) – is denoted, and the type of the attribute as well, character (‘c’), numeric (‘n’), logical (‘l’), or other (‘x’);
</p>
</li>
<li><p> The second paragraph decribes the type of relation represented in the network (common ownership, board interlocks, both);
</p>
</li>
<li><p> The third paragraph informs on whether the size of the vertexes represents an attribute (and, if yes, which one);
</p>
</li>
<li><p> The fourth paragraph informs on whether the colour of the vertexes represents an attribute (and, if yes, which one);
</p>
</li>
<li><p> The fifth paragraph informs on whether the width of the edges represents their strength;
</p>
</li>
<li><p> The sixth paragraph informs on whether the colour of the edges represents their strength.
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>

<hr>
<h2 id='show+2Cnetwork_financial-method'>Show information on a <code>network_financial</code></h2><span id='topic+show+2Cnetwork_financial-method'></span>

<h3>Description</h3>

<p>Show method for the objects of class <code>network_financial</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'network_financial'
show(object)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="show+2B2Cnetwork_financial-method_+3A_object">object</code></td>
<td>
<p>The <code>network_financial</code> object to show</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>

<hr>
<h2 id='subset_financial_matrix'>Subset a <code>financial_matrix</code> object</h2><span id='topic+subset_financial_matrix'></span>

<h3>Description</h3>

<p>Un-exported function behind the <code>subset</code> method for objects of class <code>financial_matrix</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>subset_financial_matrix(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="subset_financial_matrix_+3A_x">x</code></td>
<td>
<p>The object of class <code>financial_matrix</code> to be subset</p>
</td></tr>
<tr><td><code id="subset_financial_matrix_+3A_...">...</code></td>
<td>
<p>Additional arguments to the <code>matrix</code> method for <code>subset()</code> (see under 'See also')</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Telarico, Fabio Ashtar
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

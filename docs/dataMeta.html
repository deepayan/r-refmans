<!DOCTYPE html><html><head><title>Help for package dataMeta</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {dataMeta}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#dataMeta'><p>dataMeta: Create and Append a Data Dictionary for an R Dataset</p></a></li>
<li><a href='#build_dict'><p>Build a data dictionary for a dataset.</p></a></li>
<li><a href='#build_linker'><p>Build a linker data frame.</p></a></li>
<li><a href='#incorporate_attr'><p>Incorporate attributes as metadata to an original dataset.</p></a></li>
<li><a href='#my.data'><p>my.data</p></a></li>
<li><a href='#prompt_attr'><p>Incorporate attributes as metadata to an original dataset as prompted by the</p>
function.</a></li>
<li><a href='#prompt_linker'><p>Build a linker data frame: prompt option.</p></a></li>
<li><a href='#save_it'><p>Save dataset with attributes.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Create and Append a Data Dictionary for an R Dataset</td>
</tr>
<tr>
<td>Date:</td>
<td>2017-08-11</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Designed to create a basic data dictionary and append to the original dataset's attributes list. The package makes use of a tidy dataset and creates a data frame that will serve as a linker that will aid in building the dictionary. The dictionary is then appended to the list of the original dataset's attributes. The user will have the option of entering variable and item descriptions by writing code or use alternate functions that will prompt the user to add these.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.3.2)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/dmrodz/dataMeta">https://github.com/dmrodz/dataMeta</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/dmrodz/dataMeta/issues">https://github.com/dmrodz/dataMeta/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.0.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2017-08-12 00:01:20 UTC; Dania Rodriguez</td>
</tr>
<tr>
<td>Author:</td>
<td>Dania M. Rodriguez [aut, cre],
  P3S Corporation [cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Dania M. Rodriguez &lt;dmrodz@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2017-08-12 03:19:59 UTC</td>
</tr>
</table>
<hr>
<h2 id='dataMeta'>dataMeta: Create and Append a Data Dictionary for an R Dataset</h2><span id='topic+dataMeta'></span><span id='topic+dataMeta-package'></span>

<h3>Description</h3>

<p>The dataMeta package provides three main functions:
build_linker, build_dict and incorporate_attr. The build_linker and incorporate_attr functions have prompt options called:
prompt_linker and prompt_attr, respectively.
</p>


<h3>dataMeta functions</h3>

<p>build_linker This function will  build a data frame that will serve as a link between your dataset to the creation of the data dictionary.
prompt_linker This function is an alternate function to build the linker. It will prompt you for variable name descriptions in real time.
build_dict This function will build a data dictionary using the linker and the original dataset.
incorporate_attr This function will incorporate the data dictionary that is created with the build_dict option into the R dataset as an attribute, along with other metadata that may be needed.
prompt_attr This function will prompt the user for options related to the metadata that will be added to the R dataset. This is an alternative to the incorporate_attr function.
save_it This function will save your new data with its attributes as an R dataset.
</p>

<hr>
<h2 id='build_dict'>Build a data dictionary for a dataset.</h2><span id='topic+build_dict'></span>

<h3>Description</h3>

<p><code>build_dict</code> constructs a data dictionary for a dataset with the aid of 
a data linker. This is the second function used in this package. For the function 
to run, the following parameters are needed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>build_dict(my.data, linker, option_description = NULL,
  prompt_varopts = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="build_dict_+3A_my.data">my.data</code></td>
<td>
<p>Data.frame. The data set for which the user is creating the 
dictionary for.</p>
</td></tr>
<tr><td><code id="build_dict_+3A_linker">linker</code></td>
<td>
<p>Data.frame. A data frame that has the variable names from the 
original dataset, and also a avriable type that will tell the dictionary whether 
to list unique item options or a range of values for each variable name.</p>
</td></tr>
<tr><td><code id="build_dict_+3A_option_description">option_description</code></td>
<td>
<p>A vector that has the description of each variable 
option in the order in which these appear and depending on how the variable type 
was set while building the linker data frame. If using the prompt_varopts option, 
this value must be NULL.</p>
</td></tr>
<tr><td><code id="build_dict_+3A_prompt_varopts">prompt_varopts</code></td>
<td>
<p>Logical. Whether to add the option_description manually 
as prompted by R. Default is set to TRUE. If FALSE, an option_description vector 
must be provided.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame that will serve as a data dictionary for an original dataset. 
The user will have the option to add this dictionary as an attribute to the original 
dataset with the other package functions.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># example original data set for which a dictionary will be made
data("esoph")
my.data &lt;- esoph

# Linker: Add description for each variable names and variable type
variable_description &lt;- c("age group in years", "alcohol consumption in gm/day", 
"tobacco consumption in gm/day", "number of cases (showing a range)", 
"number of controls (showing range)")

variable_type &lt;- c(0, 0, 0, 0, 0)
linker &lt;- build_linker(my.data = my.data, variable_description = variable_description, 
variable_type = variable_type)
linker

# Data dictionary
# For this data set, no further option description is needed.
dictionary &lt;- build_dict(my.data = my.data, linker = linker, option_description = NULL, 
prompt_varopts = FALSE)
dictionary

</code></pre>

<hr>
<h2 id='build_linker'>Build a linker data frame.</h2><span id='topic+build_linker'></span>

<h3>Description</h3>

<p><code>build_linker</code> constructs a data frame that will be an intermediary 
between the original dataset and the data dictionary. This is the first function 
used in this package. For the function to run, the following parameters are needed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>build_linker(my.data, variable_description, variable_type)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="build_linker_+3A_my.data">my.data</code></td>
<td>
<p>Data.frame. The data set for which the user is creating the 
dictionary for.</p>
</td></tr>
<tr><td><code id="build_linker_+3A_variable_description">variable_description</code></td>
<td>
<p>A string vector representing the different descriptions 
that the user will give to each variable name from the original dataset. These 
need to be in the same order as the original dataset's variable names.</p>
</td></tr>
<tr><td><code id="build_linker_+3A_variable_type">variable_type</code></td>
<td>
<p>A vector of integers with values 0 or 1, only. Use 0 for
variable names for which a range of values will be presented and 1 to show unique 
cases of each variable name option. See examples, below.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If the original dataset supplied as my.data is of class data.frame; 
the variable description items are in the same order as the orignal dataset's 
variable names; and the variable_type intgeer vector values are 0 or 1, then 
a small data frame is produced with variable_names, variable_description, 
variable_type columns. This dataframe will serve as a linker data frame to be 
able to construct the data dictionary.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># example original data set for which a dictionary will be made
data("esoph")
my.data &lt;- esoph

# Add description for each variable names and variable type
variable_description &lt;- c("age group", "alcohol consumption", "tobacco consumption", 
"number of cases", "number of controls")

variable_type &lt;- c(0, 0, 0, 0, 0)

linker &lt;- build_linker(my.data = my.data, variable_description = variable_description, 
variable_type = variable_type)
linker

## Not run: 
variable_description &lt;- c("age group", "alcohol consumption", "tobacco consumption", 
"number of cases", "number of controls")
variable_type &lt;- c(0, 2, 0, 0, 0)
linker &lt;- build_linker(my.data = my.data, variable_description = variable_description, 
variable_type = variable_type)
linker

## End(Not run)

</code></pre>

<hr>
<h2 id='incorporate_attr'>Incorporate attributes as metadata to an original dataset.</h2><span id='topic+incorporate_attr'></span>

<h3>Description</h3>

<p><code>incorporate_attr</code> adds attributes to an original dataset as metadata, 
including a data dictionary, among other attributes. This is the third function 
used in this package. For the function to run, the following parameters are needed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>incorporate_attr(my.data, data.dictionary, main_string)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="incorporate_attr_+3A_my.data">my.data</code></td>
<td>
<p>Data.frame. The data set to add attributes as metadata.</p>
</td></tr>
<tr><td><code id="incorporate_attr_+3A_data.dictionary">data.dictionary</code></td>
<td>
<p>Data frame. The data dictionary has all variable names, 
and variable descriptions that will explain an original dataset.</p>
</td></tr>
<tr><td><code id="incorporate_attr_+3A_main_string">main_string</code></td>
<td>
<p>A character string describing the original dataset.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>This function will return an R dataset containing metadata stored in 
its attributes. Attributes added will include: a data dictionary, number of columns, 
number of rows, the name of the author or user who created the dictionary and added it,
the time when it was last edited and a brief description of the original dataset.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># example original data set for which a dictionary will be made
data("esoph")
my.data &lt;- esoph

# Linker: Add description for each variable names and variable type
variable_description &lt;- c("age group in years", "alcohol consumption in gm/day", 
"tobacco consumption in gm/day", "number of cases (showing range)", 
"number of controls (showing range)")
variable_type &lt;- c(0, 0, 0, 0, 0)
linker &lt;- build_linker(my.data = my.data, variable_description = variable_description, 
variable_type = variable_type)
linker

# Data dictionary
# For this data set, no further option description is needed.
dictionary &lt;- build_dict(my.data = my.data, linker = linker, option_description = NULL, 
prompt_varopts = FALSE)
dictionary

# Create main_string for attributes
main_string &lt;- "This dataset describes tobacco and alcohol consumption at different age groups."
complete_dataset &lt;- incorporate_attr(my.data = my.data, data.dictionary = dictionary, 
main_string = main_string)
complete_dataset
attributes(complete_dataset)

</code></pre>

<hr>
<h2 id='my.data'>my.data</h2><span id='topic+my.data'></span>

<h3>Description</h3>

<p>Data containing Zika cases as reported by the United States Virgin Islands
department of Health and scraped into CDC's public Zika data github repository.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(my.data)
</code></pre>


<h3>Format</h3>

<p>A data frame of 32 observations and 9 variables.
</p>

<dl>
<dt>report_date</dt><dd><p>Date when report was published by USVI Department of Health, YYYY-mm-dd</p>
</dd>
<dt>location</dt><dd><p>Regional location by name</p>
</dd>
<dt>location_type</dt><dd><p>The type of location</p>
</dd>
<dt>data_field</dt><dd><p>The type of case presented</p>
</dd>
<dt>data_field_code</dt><dd><p>A code to identify the data_field</p>
</dd>
<dt>time_period</dt><dd><p>The time period of the cases</p>
</dd>
<dt>time_period_type</dt><dd><p>The units of the time period</p>
</dd>
<dt>value</dt><dd><p>The number of observations under a specificc data_field</p>
</dd>
<dt>unit</dt><dd><p>The unit of the number of observations, cases, municipalities...</p>
</dd>
</dl>


<h3>Source</h3>

<p><a href="https://github.com/cdcepi/zika/blob/master/USVI/USVI_Zika/data/USVI_Zika-2017-01-03.csv">https://github.com/cdcepi/zika/blob/master/USVI/USVI_Zika/data/USVI_Zika-2017-01-03.csv</a>
</p>


<h3>References</h3>

<p>Dania M. Rodriguez, Michael A Johansson, Luis Mier-y-Teran-Romero, 
moiradillon2, eyq9, YoJimboDurant, … Daniel Mietchen. (2017). cdcepi/zika: 
March 31, 2017 [Data set]. Zenodo.
(<a href="http://doi.org/10.5281/zenodo.439543">zenodo</a>)
</p>

<hr>
<h2 id='prompt_attr'>Incorporate attributes as metadata to an original dataset as prompted by the 
function.</h2><span id='topic+prompt_attr'></span>

<h3>Description</h3>

<p><code>prompt_attr</code> adds attributes to an original dataset as metadata, 
including a data dictionary, among other attributes as prompted by the function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prompt_attr(my.data, data.dictionary)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prompt_attr_+3A_my.data">my.data</code></td>
<td>
<p>Data.frame. The data set to add attributes as metadata.</p>
</td></tr>
<tr><td><code id="prompt_attr_+3A_data.dictionary">data.dictionary</code></td>
<td>
<p>Data frame. The data dictionary has all variable names, 
and variable descriptions that will explain an original dataset.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is a variation of the third function used in this package. For the function 
to run, the following parameters are needed.
</p>


<h3>Value</h3>

<p>This function will return an R dataset containing metadata stored in its 
attributes. The function will prompt the user for a main description. Attributes 
added will include: a data dictionary, the name of the author or user who 
created the dictionary and added it, the time when it was last edited and a
brief description of the original dataset.
</p>

<hr>
<h2 id='prompt_linker'>Build a linker data frame: prompt option.</h2><span id='topic+prompt_linker'></span>

<h3>Description</h3>

<p><code>prompt_linker</code> this function will prompt the user for a variable 
description and variable type to construct a data frame that will be an 
intermediary between the original dataset and the data dictionary. This is a 
variation of the first function used in this package. For the function to run, 
the following parameters are needed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prompt_linker(my.data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prompt_linker_+3A_my.data">my.data</code></td>
<td>
<p>Data.frame. The dataset for which the user is creating the 
dictionary for.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If the original dataset supplied as my.data is of class data.frame;
the variable description items are in the same order as the orignal dataset's 
variable names; and the variable_type intgeer vector values are 0 or 1, 
then a small data frame is produced with variable_names, variable_description, 
variable_type columns. This dataframe will serve as a linker daata frame to 
be able to construct the data dictionary.
</p>

<hr>
<h2 id='save_it'>Save dataset with attributes.</h2><span id='topic+save_it'></span>

<h3>Description</h3>

<p><code>save_it</code> saves datset with attributes stored as metadata as an R 
dataset (.rds) into the current working directory. This is the final function 
used in this package. For the function to run, the following parameters are needed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>save_it(x, name_of_file)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="save_it_+3A_x">x</code></td>
<td>
<p>Data.frame. Dataset that has attributes added, including a data dictionary.</p>
</td></tr>
<tr><td><code id="save_it_+3A_name_of_file">name_of_file</code></td>
<td>
<p>Text string to name the file.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>This function will save the dataset along with its attributes as an R
dataset (.rds) to the current working directory.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># example original data set for which a dictionary will be made
data("esoph")
my.data &lt;- esoph

# Linker: Add description for each variable names and variable type
variable_description &lt;- c("age group in years", "alcohol consumption in gm/day", 
"tobacco consumption in gm/day", "number of cases (showing a range)", 
"number of controls (showing range)")

variable_type &lt;- c(0, 0, 0, 0, 0)

linker &lt;- build_linker(my.data = my.data, variable_description = variable_description, 
variable_type = variable_type)
linker

# Data dictionary
# For this data set, no further option description is needed.
dictionary &lt;- build_dict(my.data = my.data, linker = linker, option_description = NULL, 
prompt_varopts = FALSE)
dictionary

# Create main_string for attributes
main_string &lt;- "This dataset describes tobacco and alcohol consumption at different age groups."
complete_dataset &lt;- incorporate_attr(my.data = my.data, data.dictionary = dictionary, 
main_string = main_string)
complete_dataset
attributes(complete_dataset)

# Save it
# Name of file
name_of_file &lt;- "my new data set"
save_it(x = complete_dataset, name_of_file = name_of_file)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package liftr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {liftr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#liftr-package'><p>liftr: Containerize R Markdown Documents for Continuous Reproducibility</p></a></li>
<li><a href='#addin_lift'><p>RStudio Addin: Containerize R Markdown Document</p></a></li>
<li><a href='#addin_lift_render_docker'><p>RStudio Addin: Containerize and Render R Markdown Document with Docker</p></a></li>
<li><a href='#addin_prune_dangling'><p>RStudio Addin: Remove Dangling Container + Image</p></a></li>
<li><a href='#addin_prune_image'><p>RStudio Addin: Remove the Built Docker Image</p></a></li>
<li><a href='#check_docker_install'><p>Check if Docker was Installed</p></a></li>
<li><a href='#check_docker_running'><p>Check if Docker Daemon is Running</p></a></li>
<li><a href='#install_docker'><p>Installation Helper for Docker Engine</p></a></li>
<li><a href='#lift'><p>Containerize R Markdown Documents</p></a></li>
<li><a href='#prune_all_auto'><p>Remove Docker Containers, Images, and Networks</p></a></li>
<li><a href='#prune_container'><p>Remove Specific Docker Containers</p></a></li>
<li><a href='#prune_container_auto'><p>Remove Dangling Docker Containers</p></a></li>
<li><a href='#prune_image'><p>Remove Specific Docker Images</p></a></li>
<li><a href='#prune_image_auto'><p>Remove Dangling Docker Images</p></a></li>
<li><a href='#render_docker'><p>Render Containerized R Markdown Documents</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Containerize R Markdown Documents for Continuous Reproducibility</td>
</tr>
<tr>
<td>Version:</td>
<td>0.9.2</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Nan Xiao &lt;me@nanx.me&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Persistent reproducible reporting by containerization of R Markdown documents.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> | file LICENSE</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>Docker (see &lt;https://docs.docker.com/install/&gt;)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://nanx.me/liftr/">https://nanx.me/liftr/</a>, <a href="https://github.com/nanxstats/liftr">https://github.com/nanxstats/liftr</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/nanxstats/liftr/issues">https://github.com/nanxstats/liftr/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.0.2)</td>
</tr>
<tr>
<td>Imports:</td>
<td>yaml, knitr, rmarkdown, stringr, rstudioapi</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.1.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2019-06-19 00:27:30 UTC; nanx</td>
</tr>
<tr>
<td>Author:</td>
<td>Nan Xiao <a href="https://orcid.org/0000-0002-0250-5673"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre],
  Miao-Zhu Li [ctb],
  Teng-Fei Yin [ctb]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2019-06-19 04:20:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='liftr-package'>liftr: Containerize R Markdown Documents for Continuous Reproducibility</h2><span id='topic+liftr'></span><span id='topic+liftr-package'></span>

<h3>Description</h3>

<p>Persistent reproducible reporting by containerization of R Markdown documents.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Nan Xiao <a href="mailto:me@nanx.me">me@nanx.me</a> (0000-0002-0250-5673)
</p>
<p>Other contributors:
</p>

<ul>
<li><p> Miao-Zhu Li <a href="mailto:miaozhu.li@duke.edu">miaozhu.li@duke.edu</a> [contributor]
</p>
</li>
<li><p> Teng-Fei Yin <a href="mailto:yintengfei@gmail.com">yintengfei@gmail.com</a> [contributor]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://nanx.me/liftr/">https://nanx.me/liftr/</a>
</p>
</li>
<li> <p><a href="https://github.com/nanxstats/liftr">https://github.com/nanxstats/liftr</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/nanxstats/liftr/issues">https://github.com/nanxstats/liftr/issues</a>
</p>
</li></ul>


<hr>
<h2 id='addin_lift'>RStudio Addin: Containerize R Markdown Document</h2><span id='topic+addin_lift'></span>

<h3>Description</h3>

<p>RStudio addin for containerizing the current document.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addin_lift()
</code></pre>

<hr>
<h2 id='addin_lift_render_docker'>RStudio Addin: Containerize and Render R Markdown Document with Docker</h2><span id='topic+addin_lift_render_docker'></span>

<h3>Description</h3>

<p>RStudio addin for containerizing and rendering the current document.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addin_lift_render_docker()
</code></pre>

<hr>
<h2 id='addin_prune_dangling'>RStudio Addin: Remove Dangling Container + Image</h2><span id='topic+addin_prune_dangling'></span>

<h3>Description</h3>

<p>RStudio addin for removing any dangling Docker
containers and images automatically.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addin_prune_dangling()
</code></pre>

<hr>
<h2 id='addin_prune_image'>RStudio Addin: Remove the Built Docker Image</h2><span id='topic+addin_prune_image'></span>

<h3>Description</h3>

<p>RStudio addin for removing the Docker images used for
rendering the current document.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addin_prune_image()
</code></pre>

<hr>
<h2 id='check_docker_install'>Check if Docker was Installed</h2><span id='topic+check_docker_install'></span>

<h3>Description</h3>

<p>This function checks if Docker was properly
installed and discoverable by R and liftr.
If still not usable, please start Docker daemon
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_docker_install()
</code></pre>


<h3>Value</h3>

<p><code>TRUE</code> if Docker was deteted, <code>FALSE</code> otherwise.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
check_docker_install()
## End(Not run)
</code></pre>

<hr>
<h2 id='check_docker_running'>Check if Docker Daemon is Running</h2><span id='topic+check_docker_running'></span>

<h3>Description</h3>

<p>This function checks if the Docker daemon is running.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_docker_running()
</code></pre>


<h3>Value</h3>

<p><code>TRUE</code> if Docker daemon is running, <code>FALSE</code> otherwise.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
check_docker_running()
## End(Not run)
</code></pre>

<hr>
<h2 id='install_docker'>Installation Helper for Docker Engine</h2><span id='topic+install_docker'></span>

<h3>Description</h3>

<p>This function guides you to install Docker (Engine).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>install_docker()
</code></pre>


<h3>References</h3>

<p><a href="https://docs.docker.com/engine/installation/">https://docs.docker.com/engine/installation/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
install_docker()
## End(Not run)
</code></pre>

<hr>
<h2 id='lift'>Containerize R Markdown Documents</h2><span id='topic+lift'></span>

<h3>Description</h3>

<p>Containerize R Markdown documents. This function generates
<code>Dockerfile</code> based on the liftr metadata in the RMD document.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lift(input = NULL, use_config = FALSE, config_file = "_liftr.yml",
  output_dir = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lift_+3A_input">input</code></td>
<td>
<p>Input (R Markdown) file.</p>
</td></tr>
<tr><td><code id="lift_+3A_use_config">use_config</code></td>
<td>
<p>If <code>TRUE</code>, will parse the liftr metadata from
a YAML file, if <code>FALSE</code>, will parse such information from the
metadata section in the R Markdown file. Default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="lift_+3A_config_file">config_file</code></td>
<td>
<p>Name of the YAML configuration file, under the
same directory as the input file. Default is <code>"_liftr.yml"</code>.</p>
</td></tr>
<tr><td><code id="lift_+3A_output_dir">output_dir</code></td>
<td>
<p>Directory to output <code>Dockerfile</code>.
If not provided, will be the same directory as <code>input</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>After running <a href="#topic+lift">lift</a>, run <a href="#topic+render_docker">render_docker</a> on the document to
render the containerized R Markdown document using Docker containers.
See <code>vignette('liftr-intro')</code> for details about the extended
YAML front-matter metadata format used by liftr.
</p>


<h3>Value</h3>

<p><code>Dockerfile</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># copy example file
dir_example = paste0(tempdir(), '/liftr-minimal/')
dir.create(dir_example)
file.copy(system.file("examples/liftr-minimal.Rmd", package = "liftr"), dir_example)

# containerization
input = paste0(dir_example, "liftr-minimal.Rmd")
lift(input)

## Not run: 
# render the document with Docker
render_docker(input)

# view rendered document
browseURL(paste0(dir_example, "liftr-minimal.html"))

# purge the generated Docker image
purge_image(paste0(dir_example, "liftr-minimal.docker.yml"))
## End(Not run)
</code></pre>

<hr>
<h2 id='prune_all_auto'>Remove Docker Containers, Images, and Networks</h2><span id='topic+prune_all_auto'></span>

<h3>Description</h3>

<p>This function removes stopped containers, all networks
not used by at least one container, all dangling images,
and all build cache.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prune_all_auto(volumes = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prune_all_auto_+3A_volumes">volumes</code></td>
<td>
<p>Logical. Should we prune volumes? Default is <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>prune results
</p>


<h3>References</h3>

<p><a href="https://docs.docker.com/engine/admin/pruning/">https://docs.docker.com/engine/admin/pruning/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
prune_all_auto()
## End(Not run)
</code></pre>

<hr>
<h2 id='prune_container'>Remove Specific Docker Containers</h2><span id='topic+prune_container'></span><span id='topic+purge_container'></span>

<h3>Description</h3>

<p>This function stops and removes the Docker containers used
for rendering the R Markdown document based on the output
YAML file from the (possibly unsuccessful) rendering process.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prune_container(input_yml)

purge_container()
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prune_container_+3A_input_yml">input_yml</code></td>
<td>
<p>The YAML file path (output of <code><a href="#topic+render_docker">render_docker</a></code>)
when <code>prune_info = TRUE</code> which stores the information of the Docker
container to be stopped and removed. If not specified, will prune all
dangling containers.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>prune results
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
prune_container()
## End(Not run)
</code></pre>

<hr>
<h2 id='prune_container_auto'>Remove Dangling Docker Containers</h2><span id='topic+prune_container_auto'></span>

<h3>Description</h3>

<p>This function prunes all dangling Docker containers automatically.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prune_container_auto()
</code></pre>


<h3>Value</h3>

<p>prune results
</p>


<h3>References</h3>

<p><a href="https://docs.docker.com/engine/admin/pruning/">https://docs.docker.com/engine/admin/pruning/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
prune_container_auto()
## End(Not run)
</code></pre>

<hr>
<h2 id='prune_image'>Remove Specific Docker Images</h2><span id='topic+prune_image'></span><span id='topic+purge_image'></span>

<h3>Description</h3>

<p>This function removes the Docker images used
for rendering the R Markdown document based on the output
YAML file from the (possibly unsuccessful) rendering process.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prune_image(input_yml)

purge_image()
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prune_image_+3A_input_yml">input_yml</code></td>
<td>
<p>The YAML file path (output of <code><a href="#topic+render_docker">render_docker</a></code>)
when <code>prune_info = TRUE</code> which stores the information of the
Docker image to be removed. If not specified, will prune all
dangling images.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>prune results
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
prune_image()
## End(Not run)
</code></pre>

<hr>
<h2 id='prune_image_auto'>Remove Dangling Docker Images</h2><span id='topic+prune_image_auto'></span>

<h3>Description</h3>

<p>This function prunes all dangling Docker images automatically.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prune_image_auto()
</code></pre>


<h3>Value</h3>

<p>prune results
</p>


<h3>References</h3>

<p><a href="https://docs.docker.com/engine/admin/pruning/">https://docs.docker.com/engine/admin/pruning/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
prune_image_auto()
## End(Not run)
</code></pre>

<hr>
<h2 id='render_docker'>Render Containerized R Markdown Documents</h2><span id='topic+render_docker'></span><span id='topic+drender'></span>

<h3>Description</h3>

<p>Render R Markdown documents using Docker.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>render_docker(input = NULL, tag = NULL, container_name = NULL,
  cache = TRUE, build_args = NULL, run_args = NULL, prune = TRUE,
  prune_info = TRUE, dry_run = FALSE, ...)

drender(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="render_docker_+3A_input">input</code></td>
<td>
<p>Input file to render in Docker container.</p>
</td></tr>
<tr><td><code id="render_docker_+3A_tag">tag</code></td>
<td>
<p>Docker image name to build, sent as docker argument <code>-t</code>.
If not specified, it will use the same name as the input file.</p>
</td></tr>
<tr><td><code id="render_docker_+3A_container_name">container_name</code></td>
<td>
<p>Docker container name to run.
If not specified, will use a randomly generated name.</p>
</td></tr>
<tr><td><code id="render_docker_+3A_cache">cache</code></td>
<td>
<p>Logical. Controls the <code>--no-cache</code> argument
in <code>docker run</code>. Setting this to be <code>TRUE</code> can accelerate
the rendering speed substantially for repeated/interactive rendering
since the Docker image layers will be cached, with only the changed
(knitr related) image layer being updated. Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="render_docker_+3A_build_args">build_args</code></td>
<td>
<p>A character string specifying additional
<code>docker build</code> arguments. For example,
<code>--pull=true -m="1024m" --memory-swap="-1"</code>.</p>
</td></tr>
<tr><td><code id="render_docker_+3A_run_args">run_args</code></td>
<td>
<p>A character string specifying additional
<code>docker run</code> arguments. For example, <code>--privileged=true</code>.</p>
</td></tr>
<tr><td><code id="render_docker_+3A_prune">prune</code></td>
<td>
<p>Logical. Should we clean up all dangling containers,
volumes, networks, and images in case the rendering was not successful?
Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="render_docker_+3A_prune_info">prune_info</code></td>
<td>
<p>Logical. Should we save the Docker container and
image information to a YAML file (name ended with <code>.docker.yml</code>)
for manual pruning or inspections later? Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="render_docker_+3A_dry_run">dry_run</code></td>
<td>
<p>Preview the Docker commands but do not run them?
Useful for debugging purposes. Default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="render_docker_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to
<code><a href="rmarkdown.html#topic+render">render</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Before using this function, please run <code><a href="#topic+lift">lift</a></code> on the
RMD document first to generate the <code>Dockerfile</code>.
</p>
<p>After a successful rendering, you will be able to clean up the
Docker image with <code><a href="#topic+prune_image">prune_image</a></code>.
</p>
<p>Please see <code>vignette('liftr-intro')</code> for details of the extended
YAML metadata format and system requirements for writing and rendering
containerized R Markdown documents.
</p>


<h3>Value</h3>


<ul>
<li><p> A list containing the image name, container name,
and Docker commands will be returned.
</p>
</li>
<li><p> An YAML file ending with <code>.docker.yml</code> storing the
image name, container name, and Docker commands for rendering
this document will be written to the directory of the input file.
</p>
</li>
<li><p> The rendered output will be written to the directory of the
input file.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'># copy example file
dir_example = paste0(tempdir(), "/liftr-tidyverse/")
dir.create(dir_example)
file.copy(system.file("examples/liftr-tidyverse.Rmd", package = "liftr"), dir_example)

# containerization
input = paste0(dir_example, "liftr-tidyverse.Rmd")
lift(input)

## Not run: 
# print the Docker commands first
render_docker(input, dry_run = TRUE)

# render the document with Docker
render_docker(input)

# view rendered document
browseURL(paste0(dir_example, "liftr-tidyverse.pdf"))

# remove the generated Docker image
prune_image(paste0(dir_example, "liftr-tidyverse.docker.yml"))
## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

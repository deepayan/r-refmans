<!DOCTYPE html><html><head><title>Help for package DrugExposureDiagnostics</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {DrugExposureDiagnostics}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#DrugExposureDiagnostics-package'><p>DrugExposureDiagnostics: Diagnostics for OMOP Common Data Model Drug Records</p></a></li>
<li><a href='#+25+26gt+3B+25'><p>Pipe operator</p></a></li>
<li><a href='#checkDaysSupply'><p>Check if Days_supply is the same as datediff(drug_exp_start_date,drug_exp_end_date)</p></a></li>
<li><a href='#checkDbType'><p>Check the database type.</p></a></li>
<li><a href='#checkDrugDose'><p>Get a summary of the daily drug dose</p></a></li>
<li><a href='#checkDrugSig'><p>Check the drug sig field; this is the verbatim instruction for the drug as</p>
written by the provider.</a></li>
<li><a href='#checkIngredientInTable'><p>Check ingredient is present in given table</p></a></li>
<li><a href='#checkIsIngredient'><p>Check is an ingredient</p></a></li>
<li><a href='#checkLogical'><p>Check if given object is a boolean.</p></a></li>
<li><a href='#checkSampleMinCellCount'><p>Check that the sample is bigger than the mincellcount</p></a></li>
<li><a href='#checkTableExists'><p>Check if given table exists in cdm.</p></a></li>
<li><a href='#checkVerbatimEndDate'><p>Check the verbatim_end_date field</p></a></li>
<li><a href='#computeDBQuery'><p>Store the given input in a remote database table. It will be stored either in a</p>
permanent table or a temporary table depending on tablePrefix.</a></li>
<li><a href='#executeChecks'><p>Execute given checks on Drug Exposure.</p></a></li>
<li><a href='#executeChecksSingleIngredient'><p>Execute given checks on Drug Exposure for a single ingredient.</p></a></li>
<li><a href='#getDrugMissings'><p>Check missings in drug exposure records</p></a></li>
<li><a href='#getDrugRecords'><p>Drug exposure records for ingredients of interest</p></a></li>
<li><a href='#getDrugRoutes'><p>Get drug exposure route types</p></a></li>
<li><a href='#getDrugSourceConcepts'><p>Check drug exposure source types</p></a></li>
<li><a href='#getDrugStrength'><p>Drug strength records for ingredients of interest</p></a></li>
<li><a href='#getDrugTypes'><p>Get drug exposure record types</p></a></li>
<li><a href='#getDuration'><p>Compute the difference in days between 2 variables in a database table.</p></a></li>
<li><a href='#ingredientDescendantsInDb'><p>Get the descendants for the given ingredients</p></a></li>
<li><a href='#mockDrugExposure'><p>Mock Drug exposure tables for ingredients of interest</p></a></li>
<li><a href='#obscureCounts'><p>Obscure the small number of counts</p></a></li>
<li><a href='#printDurationAndMessage'><p>Print duration from start to now and print it as well as new status message</p></a></li>
<li><a href='#summariseChecks'><p>Create a summary about the diagnostics results</p></a></li>
<li><a href='#summariseDrugExposureDuration'><p>Summarise drug exposure record durations</p></a></li>
<li><a href='#summariseQuantity'><p>Summarise the quantity column of the drug_exposure table</p></a></li>
<li><a href='#writeResultToDisk'><p>Write diagnostics results to a zip file on disk in given output folder.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Diagnostics for OMOP Common Data Model Drug Records</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.6</td>
</tr>
<tr>
<td>Description:</td>
<td>Ingredient specific diagnostics for drug exposure records in the Observational Medical Outcomes Partnership (OMOP) common data model.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License (&ge; 2)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>CDMConnector (&ge; 1.2.0), dplyr (&ge; 1.0.0), magrittr (&ge;
2.0.0), rlang (&ge; 1.0.0), tidyr (&ge; 1.2.0), tidyselect (&ge;
1.2.0), checkmate (&ge; 2.0.0), glue (&ge; 1.5.0), DrugUtilisation
(&ge; 0.6.0), omopgenerics (&ge; 0.2.1)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0), duckdb, odbc, DBI, knitr, rmarkdown,
zip, lubridate, tibble, DT, graphics, SqlRender, PaRe, magick,
DiagrammeRsvg, ggplot2, cowplot, plotly</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://darwin-eu.github.io/DrugExposureDiagnostics/">https://darwin-eu.github.io/DrugExposureDiagnostics/</a>,
<a href="https://github.com/darwin-eu/DrugExposureDiagnostics">https://github.com/darwin-eu/DrugExposureDiagnostics</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/darwin-eu/DrugExposureDiagnostics/issues">https://github.com/darwin-eu/DrugExposureDiagnostics/issues</a></td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-07-02 12:23:54 UTC; ginberg</td>
</tr>
<tr>
<td>Author:</td>
<td>Ger Inberg <a href="https://orcid.org/0000-0001-8993-8748"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre],
  Edward Burn <a href="https://orcid.org/0000-0002-9286-1128"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Theresa Burkard <a href="https://orcid.org/0000-0003-1313-4473"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Yuchen Guo <a href="https://orcid.org/0000-0002-0847-4855"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [ctb],
  Marti Catala <a href="https://orcid.org/0000-0003-3308-9905"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb],
  Mike Du <a href="https://orcid.org/0000-0002-9517-8834"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [ctb],
  Xintong Li <a href="https://orcid.org/0000-0002-6872-5804"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [ctb],
  Ross Williams <a href="https://orcid.org/0000-0001-7723-417X"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb],
  Erasmus MC [cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Ger Inberg &lt;g.inberg@erasmusmc.nl&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-07-02 13:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='DrugExposureDiagnostics-package'>DrugExposureDiagnostics: Diagnostics for OMOP Common Data Model Drug Records</h2><span id='topic+DrugExposureDiagnostics'></span><span id='topic+DrugExposureDiagnostics-package'></span>

<h3>Description</h3>

<p>Ingredient specific diagnostics for drug exposure records in the Observational Medical Outcomes Partnership (OMOP) common data model.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Ger Inberg <a href="mailto:g.inberg@erasmusmc.nl">g.inberg@erasmusmc.nl</a> (<a href="https://orcid.org/0000-0001-8993-8748">ORCID</a>)
</p>
<p>Authors:
</p>

<ul>
<li><p> Edward Burn <a href="mailto:edward.burn@ndorms.ox.ac.uk">edward.burn@ndorms.ox.ac.uk</a> (<a href="https://orcid.org/0000-0002-9286-1128">ORCID</a>)
</p>
</li>
<li><p> Theresa Burkard <a href="mailto:theresa.burkard@ndorms.ox.ac.uk">theresa.burkard@ndorms.ox.ac.uk</a> (<a href="https://orcid.org/0000-0003-1313-4473">ORCID</a>)
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> Yuchen Guo <a href="mailto:yuchen.guo@ndorms.ox.ac.uk">yuchen.guo@ndorms.ox.ac.uk</a> (<a href="https://orcid.org/0000-0002-0847-4855">ORCID</a>) [contributor]
</p>
</li>
<li><p> Marti Catala <a href="mailto:marti.catalasabate@ndorms.ox.ac.uk">marti.catalasabate@ndorms.ox.ac.uk</a> (<a href="https://orcid.org/0000-0003-3308-9905">ORCID</a>) [contributor]
</p>
</li>
<li><p> Mike Du <a href="mailto:mike.du@ndorms.ox.ac.uk">mike.du@ndorms.ox.ac.uk</a> (<a href="https://orcid.org/0000-0002-9517-8834">ORCID</a>) [contributor]
</p>
</li>
<li><p> Xintong Li <a href="mailto:xintong.li@ndorms.ox.ac.uk">xintong.li@ndorms.ox.ac.uk</a> (<a href="https://orcid.org/0000-0002-6872-5804">ORCID</a>) [contributor]
</p>
</li>
<li><p> Ross Williams <a href="mailto:r.williams@erasmusmc.nl">r.williams@erasmusmc.nl</a> (<a href="https://orcid.org/0000-0001-7723-417X">ORCID</a>) [contributor]
</p>
</li>
<li><p> Erasmus MC [copyright holder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://darwin-eu.github.io/DrugExposureDiagnostics/">https://darwin-eu.github.io/DrugExposureDiagnostics/</a>
</p>
</li>
<li> <p><a href="https://github.com/darwin-eu/DrugExposureDiagnostics">https://github.com/darwin-eu/DrugExposureDiagnostics</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/darwin-eu/DrugExposureDiagnostics/issues">https://github.com/darwin-eu/DrugExposureDiagnostics/issues</a>
</p>
</li></ul>


<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>See <code>magrittr::<a href="magrittr.html#topic+pipe">%&gt;%</a></code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_lhs">lhs</code></td>
<td>
<p>A value or the magrittr placeholder.</p>
</td></tr>
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_rhs">rhs</code></td>
<td>
<p>A function call using the magrittr semantics.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The result of calling <code>rhs(lhs)</code>.
</p>

<hr>
<h2 id='checkDaysSupply'>Check if Days_supply is the same as datediff(drug_exp_start_date,drug_exp_end_date)</h2><span id='topic+checkDaysSupply'></span>

<h3>Description</h3>

<p>Check if Days_supply is the same as datediff(drug_exp_start_date,drug_exp_end_date)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>checkDaysSupply(
  cdm,
  drugRecordsTable = "ingredient_drug_records",
  byConcept = TRUE,
  sampleSize = 10000
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="checkDaysSupply_+3A_cdm">cdm</code></td>
<td>
<p>CDMConnector reference object</p>
</td></tr>
<tr><td><code id="checkDaysSupply_+3A_drugrecordstable">drugRecordsTable</code></td>
<td>
<p>a modified version of the drug exposure table, default &quot;ingredient_drug_records&quot;</p>
</td></tr>
<tr><td><code id="checkDaysSupply_+3A_byconcept">byConcept</code></td>
<td>
<p>whether to get result by drug concept</p>
</td></tr>
<tr><td><code id="checkDaysSupply_+3A_samplesize">sampleSize</code></td>
<td>
<p>the sample size given in execute checks</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a table with the stats of days supply compared to start and end date
</p>

<hr>
<h2 id='checkDbType'>Check the database type.</h2><span id='topic+checkDbType'></span>

<h3>Description</h3>

<p>Check the database type.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>checkDbType(cdm, type = "cdm_reference", messageStore)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="checkDbType_+3A_cdm">cdm</code></td>
<td>
<p>CDMConnector reference object</p>
</td></tr>
<tr><td><code id="checkDbType_+3A_type">type</code></td>
<td>
<p>type of the database, default cdm_reference</p>
</td></tr>
<tr><td><code id="checkDbType_+3A_messagestore">messageStore</code></td>
<td>
<p>checkmate collection</p>
</td></tr>
</table>

<hr>
<h2 id='checkDrugDose'>Get a summary of the daily drug dose</h2><span id='topic+checkDrugDose'></span>

<h3>Description</h3>

<p>Get a summary of the daily drug dose
</p>


<h3>Usage</h3>

<pre><code class='language-R'>checkDrugDose(cdm, ingredientConceptId, minCellCount = 5)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="checkDrugDose_+3A_cdm">cdm</code></td>
<td>
<p>CDMConnector reference object</p>
</td></tr>
<tr><td><code id="checkDrugDose_+3A_ingredientconceptid">ingredientConceptId</code></td>
<td>
<p>ingredient</p>
</td></tr>
<tr><td><code id="checkDrugDose_+3A_mincellcount">minCellCount</code></td>
<td>
<p>minimum number of events to report- results
lower than this will be obscured. If NULL all results will be reported.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a table with the stats about the daily dose
</p>

<hr>
<h2 id='checkDrugSig'>Check the drug sig field; this is the verbatim instruction for the drug as
written by the provider.</h2><span id='topic+checkDrugSig'></span>

<h3>Description</h3>

<p>Check the drug sig field; this is the verbatim instruction for the drug as
written by the provider.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>checkDrugSig(
  cdm,
  drugRecordsTable = "ingredient_drug_records",
  byConcept = TRUE,
  sampleSize = 10000
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="checkDrugSig_+3A_cdm">cdm</code></td>
<td>
<p>CDMConnector reference object</p>
</td></tr>
<tr><td><code id="checkDrugSig_+3A_drugrecordstable">drugRecordsTable</code></td>
<td>
<p>a modified version of the drug exposure table, default &quot;ingredient_drug_records&quot;</p>
</td></tr>
<tr><td><code id="checkDrugSig_+3A_byconcept">byConcept</code></td>
<td>
<p>whether to get result by drug concept</p>
</td></tr>
<tr><td><code id="checkDrugSig_+3A_samplesize">sampleSize</code></td>
<td>
<p>the sample size given in execute checks</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a table with a summary of the sig values
</p>

<hr>
<h2 id='checkIngredientInTable'>Check ingredient is present in given table</h2><span id='topic+checkIngredientInTable'></span>

<h3>Description</h3>

<p>Check ingredient is present in given table
</p>


<h3>Usage</h3>

<pre><code class='language-R'>checkIngredientInTable(cdm, conceptId, tableName, messageStore)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="checkIngredientInTable_+3A_cdm">cdm</code></td>
<td>
<p>CDMConnector reference object</p>
</td></tr>
<tr><td><code id="checkIngredientInTable_+3A_conceptid">conceptId</code></td>
<td>
<p>ingredient concept id to check</p>
</td></tr>
<tr><td><code id="checkIngredientInTable_+3A_tablename">tableName</code></td>
<td>
<p>name of the table to check</p>
</td></tr>
<tr><td><code id="checkIngredientInTable_+3A_messagestore">messageStore</code></td>
<td>
<p>checkmate collection</p>
</td></tr>
</table>

<hr>
<h2 id='checkIsIngredient'>Check is an ingredient</h2><span id='topic+checkIsIngredient'></span>

<h3>Description</h3>

<p>Check is an ingredient
</p>


<h3>Usage</h3>

<pre><code class='language-R'>checkIsIngredient(cdm, conceptId, messageStore)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="checkIsIngredient_+3A_cdm">cdm</code></td>
<td>
<p>CDMConnector reference object</p>
</td></tr>
<tr><td><code id="checkIsIngredient_+3A_conceptid">conceptId</code></td>
<td>
<p>ingredient concept id to check</p>
</td></tr>
<tr><td><code id="checkIsIngredient_+3A_messagestore">messageStore</code></td>
<td>
<p>checkmate collection</p>
</td></tr>
</table>

<hr>
<h2 id='checkLogical'>Check if given object is a boolean.</h2><span id='topic+checkLogical'></span>

<h3>Description</h3>

<p>Check if given object is a boolean.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>checkLogical(input, messageStore, null.ok = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="checkLogical_+3A_input">input</code></td>
<td>
<p>the input</p>
</td></tr>
<tr><td><code id="checkLogical_+3A_messagestore">messageStore</code></td>
<td>
<p>checkmate collection</p>
</td></tr>
<tr><td><code id="checkLogical_+3A_null.ok">null.ok</code></td>
<td>
<p>if value null is allowed</p>
</td></tr>
</table>

<hr>
<h2 id='checkSampleMinCellCount'>Check that the sample is bigger than the mincellcount</h2><span id='topic+checkSampleMinCellCount'></span>

<h3>Description</h3>

<p>Check that the sample is bigger than the mincellcount
</p>


<h3>Usage</h3>

<pre><code class='language-R'>checkSampleMinCellCount(sampleSize, minCellCount, messageStore)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="checkSampleMinCellCount_+3A_samplesize">sampleSize</code></td>
<td>
<p>sample size for sampling</p>
</td></tr>
<tr><td><code id="checkSampleMinCellCount_+3A_mincellcount">minCellCount</code></td>
<td>
<p>minimum cell count below which to obsure results</p>
</td></tr>
<tr><td><code id="checkSampleMinCellCount_+3A_messagestore">messageStore</code></td>
<td>
<p>checkmate collection</p>
</td></tr>
</table>

<hr>
<h2 id='checkTableExists'>Check if given table exists in cdm.</h2><span id='topic+checkTableExists'></span>

<h3>Description</h3>

<p>Check if given table exists in cdm.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>checkTableExists(cdm, tableName, messageStore)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="checkTableExists_+3A_cdm">cdm</code></td>
<td>
<p>CDMConnector reference object</p>
</td></tr>
<tr><td><code id="checkTableExists_+3A_tablename">tableName</code></td>
<td>
<p>checkmate collection</p>
</td></tr>
<tr><td><code id="checkTableExists_+3A_messagestore">messageStore</code></td>
<td>
<p>the message store</p>
</td></tr>
</table>

<hr>
<h2 id='checkVerbatimEndDate'>Check the verbatim_end_date field</h2><span id='topic+checkVerbatimEndDate'></span>

<h3>Description</h3>

<p>Check the verbatim_end_date field
</p>


<h3>Usage</h3>

<pre><code class='language-R'>checkVerbatimEndDate(
  cdm,
  drugRecordsTable = "ingredient_drug_records",
  byConcept = TRUE,
  sampleSize = 10000
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="checkVerbatimEndDate_+3A_cdm">cdm</code></td>
<td>
<p>CDMConnector reference object</p>
</td></tr>
<tr><td><code id="checkVerbatimEndDate_+3A_drugrecordstable">drugRecordsTable</code></td>
<td>
<p>a modified version of the drug exposure table, default &quot;ingredient_drug_records&quot;</p>
</td></tr>
<tr><td><code id="checkVerbatimEndDate_+3A_byconcept">byConcept</code></td>
<td>
<p>whether to get result by drug concept</p>
</td></tr>
<tr><td><code id="checkVerbatimEndDate_+3A_samplesize">sampleSize</code></td>
<td>
<p>the sample size given in execute checks</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a table with the stats about the verbatim_end_date
</p>

<hr>
<h2 id='computeDBQuery'>Store the given input in a remote database table. It will be stored either in a
permanent table or a temporary table depending on tablePrefix.</h2><span id='topic+computeDBQuery'></span>

<h3>Description</h3>

<p>Store the given input in a remote database table. It will be stored either in a
permanent table or a temporary table depending on tablePrefix.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>computeDBQuery(table, tablePrefix, tableName, cdm, overwrite = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="computeDBQuery_+3A_table">table</code></td>
<td>
<p>the input table</p>
</td></tr>
<tr><td><code id="computeDBQuery_+3A_tableprefix">tablePrefix</code></td>
<td>
<p>The stem for the permanent tables that will
be created when running the diagnostics. Permanent tables will be created using
this prefix, and any existing tables that start with this will be at risk of
being dropped or overwritten. If NULL, temporary tables will be
used throughout.</p>
</td></tr>
<tr><td><code id="computeDBQuery_+3A_tablename">tableName</code></td>
<td>
<p>the input table</p>
</td></tr>
<tr><td><code id="computeDBQuery_+3A_cdm">cdm</code></td>
<td>
<p>cdm reference object</p>
</td></tr>
<tr><td><code id="computeDBQuery_+3A_overwrite">overwrite</code></td>
<td>
<p>if the table should be overwritten (default TRUE).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>reference to the table
</p>

<hr>
<h2 id='executeChecks'>Execute given checks on Drug Exposure.</h2><span id='topic+executeChecks'></span>

<h3>Description</h3>

<p>Execute given checks on Drug Exposure.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>executeChecks(
  cdm,
  ingredients = c(1125315),
  subsetToConceptId = NULL,
  checks = c("missing", "exposureDuration", "quantity"),
  minCellCount = 5,
  sample = 10000,
  tablePrefix = NULL,
  earliestStartDate = "2010-01-01",
  verbose = FALSE,
  byConcept = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="executeChecks_+3A_cdm">cdm</code></td>
<td>
<p>CDMConnector reference object</p>
</td></tr>
<tr><td><code id="executeChecks_+3A_ingredients">ingredients</code></td>
<td>
<p>vector of ingredients, by default: acetaminophen</p>
</td></tr>
<tr><td><code id="executeChecks_+3A_subsettoconceptid">subsetToConceptId</code></td>
<td>
<p>vector of concept IDs of the ingredients
to filter. If a concept ID is positive it will be included, a negative one will be excluded.
If NULL, all concept IDs for an ingredient will be considered.</p>
</td></tr>
<tr><td><code id="executeChecks_+3A_checks">checks</code></td>
<td>
<p>the checks to be executed, by default the missing values, the
exposure duration and the quantity. Possible options are &quot;missing&quot;,
&quot;exposureDuration&quot;, &quot;type&quot;, &quot;route&quot;, &quot;sourceConcept&quot;, &quot;daysSupply&quot;,
&quot;verbatimEndDate&quot;, &quot;dose&quot;, &quot;sig&quot;, &quot;quantity&quot; and &quot;diagnosticsSummary&quot;</p>
</td></tr>
<tr><td><code id="executeChecks_+3A_mincellcount">minCellCount</code></td>
<td>
<p>minimum number of events to report- results
lower than this will be obscured. If NULL all results will be reported.</p>
</td></tr>
<tr><td><code id="executeChecks_+3A_sample">sample</code></td>
<td>
<p>the number of samples, default 10.000</p>
</td></tr>
<tr><td><code id="executeChecks_+3A_tableprefix">tablePrefix</code></td>
<td>
<p>The stem for the permanent tables that will
be created when running the diagnostics. Permanent tables will be created using
this prefix, and any existing tables that start with this will be at risk of
being dropped or overwritten. If NULL, temporary tables will be
used throughout.</p>
</td></tr>
<tr><td><code id="executeChecks_+3A_earlieststartdate">earliestStartDate</code></td>
<td>
<p>the earliest date from which a record can be included</p>
</td></tr>
<tr><td><code id="executeChecks_+3A_verbose">verbose</code></td>
<td>
<p>verbose, default FALSE</p>
</td></tr>
<tr><td><code id="executeChecks_+3A_byconcept">byConcept</code></td>
<td>
<p>boolean argument whether to return results by Concept or overall only</p>
</td></tr>
</table>


<h3>Value</h3>

<p>named list with results
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
db &lt;- DBI::dbConnect(" Your database connection here ")
cdm &lt;- CDMConnector::cdm_from_con(
  con = db,
  cdm_schema = "cdm schema name"
)
result &lt;- executeChecks(
  cdm = cdm,
  ingredients = c(1125315))

## End(Not run)
</code></pre>

<hr>
<h2 id='executeChecksSingleIngredient'>Execute given checks on Drug Exposure for a single ingredient.</h2><span id='topic+executeChecksSingleIngredient'></span>

<h3>Description</h3>

<p>Execute given checks on Drug Exposure for a single ingredient.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>executeChecksSingleIngredient(
  cdm,
  ingredient = 1125315,
  subsetToConceptId = NULL,
  checks = c("missing", "exposureDuration", "quantity"),
  minCellCount = 5,
  sampleSize = 10000,
  tablePrefix = NULL,
  earliestStartDate = "2010-01-01",
  verbose = FALSE,
  byConcept = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="executeChecksSingleIngredient_+3A_cdm">cdm</code></td>
<td>
<p>CDMConnector reference object</p>
</td></tr>
<tr><td><code id="executeChecksSingleIngredient_+3A_ingredient">ingredient</code></td>
<td>
<p>ingredient, by default: acetaminophen</p>
</td></tr>
<tr><td><code id="executeChecksSingleIngredient_+3A_subsettoconceptid">subsetToConceptId</code></td>
<td>
<p>vector of concept IDs of the ingredients
to filter. If a concept ID is positive it will be included, a negative one will be excluded.
If NULL, all concept IDs for an ingredient will be considered.</p>
</td></tr>
<tr><td><code id="executeChecksSingleIngredient_+3A_checks">checks</code></td>
<td>
<p>the checks to be executed, by default the missing values, the
exposure duration and the quantity.</p>
</td></tr>
<tr><td><code id="executeChecksSingleIngredient_+3A_mincellcount">minCellCount</code></td>
<td>
<p>minimum number of events to report- results
lower than this will be obscured. If NULL all results will be reported.</p>
</td></tr>
<tr><td><code id="executeChecksSingleIngredient_+3A_samplesize">sampleSize</code></td>
<td>
<p>the number of samples, default 10.000</p>
</td></tr>
<tr><td><code id="executeChecksSingleIngredient_+3A_tableprefix">tablePrefix</code></td>
<td>
<p>The stem for the permanent tables that will
be created when running the diagnostics. Permanent tables will be created using
this prefix, and any existing tables that start with this will be at risk of
being dropped or overwritten. If NULL, temporary tables will be
used throughout.</p>
</td></tr>
<tr><td><code id="executeChecksSingleIngredient_+3A_earlieststartdate">earliestStartDate</code></td>
<td>
<p>the earliest date from which a record can be included</p>
</td></tr>
<tr><td><code id="executeChecksSingleIngredient_+3A_verbose">verbose</code></td>
<td>
<p>verbose, default FALSE</p>
</td></tr>
<tr><td><code id="executeChecksSingleIngredient_+3A_byconcept">byConcept</code></td>
<td>
<p>boolean argument whether to return restults by Concept or overall only</p>
</td></tr>
</table>


<h3>Value</h3>

<p>named list with results
</p>

<hr>
<h2 id='getDrugMissings'>Check missings in drug exposure records</h2><span id='topic+getDrugMissings'></span>

<h3>Description</h3>

<p>Check missings in drug exposure records
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getDrugMissings(
  cdm,
  drugRecordsTable = "ingredient_drug_records",
  byConcept = TRUE,
  sampleSize = 10000
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getDrugMissings_+3A_cdm">cdm</code></td>
<td>
<p>CDMConnector reference object</p>
</td></tr>
<tr><td><code id="getDrugMissings_+3A_drugrecordstable">drugRecordsTable</code></td>
<td>
<p>a modified version of the drug exposure table, default &quot;ingredient_drug_records&quot;</p>
</td></tr>
<tr><td><code id="getDrugMissings_+3A_byconcept">byConcept</code></td>
<td>
<p>by individual drug Concept</p>
</td></tr>
<tr><td><code id="getDrugMissings_+3A_samplesize">sampleSize</code></td>
<td>
<p>the sample size given in execute checks</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a table with a summary of missing records
</p>

<hr>
<h2 id='getDrugRecords'>Drug exposure records for ingredients of interest</h2><span id='topic+getDrugRecords'></span>

<h3>Description</h3>

<p>Drug exposure records for ingredients of interest
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getDrugRecords(
  cdm,
  ingredient,
  includedConceptsTable,
  drugRecordsTable = "drug_exposure",
  tablePrefix = NULL,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getDrugRecords_+3A_cdm">cdm</code></td>
<td>
<p>CDMConnector reference object</p>
</td></tr>
<tr><td><code id="getDrugRecords_+3A_ingredient">ingredient</code></td>
<td>
<p>Concept ID for ingredient of interest</p>
</td></tr>
<tr><td><code id="getDrugRecords_+3A_includedconceptstable">includedConceptsTable</code></td>
<td>
<p>includedConceptsTable</p>
</td></tr>
<tr><td><code id="getDrugRecords_+3A_drugrecordstable">drugRecordsTable</code></td>
<td>
<p>drugRecordsTable, default &quot;drug_exposure&quot;</p>
</td></tr>
<tr><td><code id="getDrugRecords_+3A_tableprefix">tablePrefix</code></td>
<td>
<p>The stem for the permanent tables that will
be created when running the diagnostics. Permanent tables will be created using
this prefix, and any existing tables that start with this will be at risk of
being dropped or overwritten. If NULL, temporary tables will be
used throughout.</p>
</td></tr>
<tr><td><code id="getDrugRecords_+3A_verbose">verbose</code></td>
<td>
<p>verbose</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a table containing drug exposure records
</p>

<hr>
<h2 id='getDrugRoutes'>Get drug exposure route types</h2><span id='topic+getDrugRoutes'></span>

<h3>Description</h3>

<p>Get drug exposure route types
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getDrugRoutes(
  cdm,
  drugRecordsTable = "ingredient_drug_records",
  byConcept = TRUE,
  sampleSize = 10000
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getDrugRoutes_+3A_cdm">cdm</code></td>
<td>
<p>CDMConnector reference object</p>
</td></tr>
<tr><td><code id="getDrugRoutes_+3A_drugrecordstable">drugRecordsTable</code></td>
<td>
<p>a modified version of the drug exposure table, default &quot;ingredient_drug_records&quot;</p>
</td></tr>
<tr><td><code id="getDrugRoutes_+3A_byconcept">byConcept</code></td>
<td>
<p>by individual drug Concept</p>
</td></tr>
<tr><td><code id="getDrugRoutes_+3A_samplesize">sampleSize</code></td>
<td>
<p>the sample size given in execute checks</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a table with the drug exposure route types
</p>

<hr>
<h2 id='getDrugSourceConcepts'>Check drug exposure source types</h2><span id='topic+getDrugSourceConcepts'></span>

<h3>Description</h3>

<p>Check drug exposure source types
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getDrugSourceConcepts(
  cdm,
  drugRecordsTable = "ingredient_drug_records",
  sampleSize = 10000
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getDrugSourceConcepts_+3A_cdm">cdm</code></td>
<td>
<p>CDMConnector reference object</p>
</td></tr>
<tr><td><code id="getDrugSourceConcepts_+3A_drugrecordstable">drugRecordsTable</code></td>
<td>
<p>modified drug exposure table</p>
</td></tr>
<tr><td><code id="getDrugSourceConcepts_+3A_samplesize">sampleSize</code></td>
<td>
<p>the sample size given in execute checks</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a table with the drug source concepts
</p>

<hr>
<h2 id='getDrugStrength'>Drug strength records for ingredients of interest</h2><span id='topic+getDrugStrength'></span>

<h3>Description</h3>

<p>Drug strength records for ingredients of interest
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getDrugStrength(
  cdm,
  ingredient,
  includedConceptsTable = "ingredient_concepts",
  drugStrengthTable = "drug_strength",
  tablePrefix = NULL,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getDrugStrength_+3A_cdm">cdm</code></td>
<td>
<p>CDMConnector reference object</p>
</td></tr>
<tr><td><code id="getDrugStrength_+3A_ingredient">ingredient</code></td>
<td>
<p>ingredient concept ID for ingredient of interest</p>
</td></tr>
<tr><td><code id="getDrugStrength_+3A_includedconceptstable">includedConceptsTable</code></td>
<td>
<p>table name for the concept ids, names and units</p>
</td></tr>
<tr><td><code id="getDrugStrength_+3A_drugstrengthtable">drugStrengthTable</code></td>
<td>
<p>table name for drug strength, default &quot;drug_strength&quot;</p>
</td></tr>
<tr><td><code id="getDrugStrength_+3A_tableprefix">tablePrefix</code></td>
<td>
<p>The stem for the permanent tables that will
be created when running the diagnostics. Permanent tables will be created using
this prefix, and any existing tables that start with this will be at risk of
being dropped or overwritten. If NULL, temporary tables will be
used throughout.</p>
</td></tr>
<tr><td><code id="getDrugStrength_+3A_verbose">verbose</code></td>
<td>
<p>verbose</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a table containing drug strength records
</p>

<hr>
<h2 id='getDrugTypes'>Get drug exposure record types</h2><span id='topic+getDrugTypes'></span>

<h3>Description</h3>

<p>Get drug exposure record types
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getDrugTypes(
  cdm,
  drugRecordsTable = "ingredient_drug_records",
  byConcept = TRUE,
  sampleSize = 10000
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getDrugTypes_+3A_cdm">cdm</code></td>
<td>
<p>CDMConnector reference object</p>
</td></tr>
<tr><td><code id="getDrugTypes_+3A_drugrecordstable">drugRecordsTable</code></td>
<td>
<p>a modified version of the drug exposure table, default &quot;ingredient_drug_records&quot;</p>
</td></tr>
<tr><td><code id="getDrugTypes_+3A_byconcept">byConcept</code></td>
<td>
<p>by individual drug Concept</p>
</td></tr>
<tr><td><code id="getDrugTypes_+3A_samplesize">sampleSize</code></td>
<td>
<p>the sample size given in execute checks</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a table with the drug exposure record types
</p>

<hr>
<h2 id='getDuration'>Compute the difference in days between 2 variables in a database table.</h2><span id='topic+getDuration'></span>

<h3>Description</h3>

<p>Compute the difference in days between 2 variables in a database table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getDuration(
  cdm,
  tableName = "drug_exposure",
  startDateCol = "drug_exposure_start_date",
  endDateCol = "drug_exposure_end_date",
  colName = "duration"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getDuration_+3A_cdm">cdm</code></td>
<td>
<p>CDMConnector reference object</p>
</td></tr>
<tr><td><code id="getDuration_+3A_tablename">tableName</code></td>
<td>
<p>the table name</p>
</td></tr>
<tr><td><code id="getDuration_+3A_startdatecol">startDateCol</code></td>
<td>
<p>the start date column name</p>
</td></tr>
<tr><td><code id="getDuration_+3A_enddatecol">endDateCol</code></td>
<td>
<p>the end date column name</p>
</td></tr>
<tr><td><code id="getDuration_+3A_colname">colName</code></td>
<td>
<p>the result column name</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the table with as new column the duration
</p>

<hr>
<h2 id='ingredientDescendantsInDb'>Get the descendants for the given ingredients</h2><span id='topic+ingredientDescendantsInDb'></span>

<h3>Description</h3>

<p>Get the descendants for the given ingredients
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ingredientDescendantsInDb(
  cdm,
  ingredient,
  drugRecordsTable = "drug_exposure",
  tablePrefix = NULL,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ingredientDescendantsInDb_+3A_cdm">cdm</code></td>
<td>
<p>CDMConnector reference object</p>
</td></tr>
<tr><td><code id="ingredientDescendantsInDb_+3A_ingredient">ingredient</code></td>
<td>
<p>ingredient concept id for ingredient of interest</p>
</td></tr>
<tr><td><code id="ingredientDescendantsInDb_+3A_drugrecordstable">drugRecordsTable</code></td>
<td>
<p>table name of the drug exposure records, default &quot;drug_exposure&quot;</p>
</td></tr>
<tr><td><code id="ingredientDescendantsInDb_+3A_tableprefix">tablePrefix</code></td>
<td>
<p>The stem for the permanent tables that will
be created when running the diagnostics. Permanent tables will be created using
this prefix, and any existing tables that start with this will be at risk of
being dropped or overwritten. If NULL, temporary tables will be
used throughout.</p>
</td></tr>
<tr><td><code id="ingredientDescendantsInDb_+3A_verbose">verbose</code></td>
<td>
<p>if verbose set to TRUE, the function will output extra messages</p>
</td></tr>
</table>


<h3>Value</h3>

<p>temp table with concepts used
</p>

<hr>
<h2 id='mockDrugExposure'>Mock Drug exposure tables for ingredients of interest</h2><span id='topic+mockDrugExposure'></span>

<h3>Description</h3>

<p>Mock Drug exposure tables for ingredients of interest
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mockDrugExposure(
  drug_exposure = NULL,
  concept_ancestor = NULL,
  concept_relationship = NULL,
  concept = NULL,
  drug_strength = NULL,
  ingredient_drug_records = NULL,
  drug_exposure_size = 100,
  patient_size = 50,
  person = NULL,
  observation_period = NULL,
  amount_val = c(NA, 100, 200, 300),
  den_val = c(1, 10, 100),
  amount_unit = c(8587, 8576, 9655),
  num_unit = c(8587, 8576, 9655),
  denom_unit = c(8587, 8576, 8505),
  num_val = c(1, 2, 3),
  seed = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mockDrugExposure_+3A_drug_exposure">drug_exposure</code></td>
<td>
<p>drug exposure table</p>
</td></tr>
<tr><td><code id="mockDrugExposure_+3A_concept_ancestor">concept_ancestor</code></td>
<td>
<p>concept_ancestor table</p>
</td></tr>
<tr><td><code id="mockDrugExposure_+3A_concept_relationship">concept_relationship</code></td>
<td>
<p>concept_relationship table</p>
</td></tr>
<tr><td><code id="mockDrugExposure_+3A_concept">concept</code></td>
<td>
<p>concept table</p>
</td></tr>
<tr><td><code id="mockDrugExposure_+3A_drug_strength">drug_strength</code></td>
<td>
<p>drug strength table</p>
</td></tr>
<tr><td><code id="mockDrugExposure_+3A_ingredient_drug_records">ingredient_drug_records</code></td>
<td>
<p>modified drug exposure table having drug name</p>
</td></tr>
<tr><td><code id="mockDrugExposure_+3A_drug_exposure_size">drug_exposure_size</code></td>
<td>
<p>the sample size of the drug exposure table</p>
</td></tr>
<tr><td><code id="mockDrugExposure_+3A_patient_size">patient_size</code></td>
<td>
<p>the number of unique patients in the drug exposure table</p>
</td></tr>
<tr><td><code id="mockDrugExposure_+3A_person">person</code></td>
<td>
<p>person table</p>
</td></tr>
<tr><td><code id="mockDrugExposure_+3A_observation_period">observation_period</code></td>
<td>
<p>observation_period table</p>
</td></tr>
<tr><td><code id="mockDrugExposure_+3A_amount_val">amount_val</code></td>
<td>
<p>vector of possible numeric amount value for the drug in the drug strength table</p>
</td></tr>
<tr><td><code id="mockDrugExposure_+3A_den_val">den_val</code></td>
<td>
<p>vector of possible numeric denominator value for the drug in drug strength table</p>
</td></tr>
<tr><td><code id="mockDrugExposure_+3A_amount_unit">amount_unit</code></td>
<td>
<p>vector of possible amount unit type drug strength table representing milligram, milliliter and microgram</p>
</td></tr>
<tr><td><code id="mockDrugExposure_+3A_num_unit">num_unit</code></td>
<td>
<p>vector of possible numerator unit type drug strength table representing milligram, milliliter and microgram</p>
</td></tr>
<tr><td><code id="mockDrugExposure_+3A_denom_unit">denom_unit</code></td>
<td>
<p>vector of possible numerator unit type drug strength table representing milligram, milliliter and hour</p>
</td></tr>
<tr><td><code id="mockDrugExposure_+3A_num_val">num_val</code></td>
<td>
<p>vector of possible numeric numerator denominator value drug strength table</p>
</td></tr>
<tr><td><code id="mockDrugExposure_+3A_seed">seed</code></td>
<td>
<p>seed to make results reproducible</p>
</td></tr>
</table>


<h3>Value</h3>

<p>CDMConnector CDM reference object to duckdb database with mock data include  concept_ancestor, concept, drug_strength, drug_exposure tables
</p>

<hr>
<h2 id='obscureCounts'>Obscure the small number of counts</h2><span id='topic+obscureCounts'></span>

<h3>Description</h3>

<p>Obscure the small number of counts
</p>


<h3>Usage</h3>

<pre><code class='language-R'>obscureCounts(table, tableName, minCellCount = 5, substitute = NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="obscureCounts_+3A_table">table</code></td>
<td>
<p>the table as a tibble</p>
</td></tr>
<tr><td><code id="obscureCounts_+3A_tablename">tableName</code></td>
<td>
<p>the table name</p>
</td></tr>
<tr><td><code id="obscureCounts_+3A_mincellcount">minCellCount</code></td>
<td>
<p>the minimum number of counts that will be displayed. If NULL all results will be reported.</p>
</td></tr>
<tr><td><code id="obscureCounts_+3A_substitute">substitute</code></td>
<td>
<p>the substitute value if values will be obscured</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the input table with results obscured if minCellCount applies
</p>

<hr>
<h2 id='printDurationAndMessage'>Print duration from start to now and print it as well as new status message</h2><span id='topic+printDurationAndMessage'></span>

<h3>Description</h3>

<p>Print duration from start to now and print it as well as new status message
</p>


<h3>Usage</h3>

<pre><code class='language-R'>printDurationAndMessage(message, start)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="printDurationAndMessage_+3A_message">message</code></td>
<td>
<p>the message</p>
</td></tr>
<tr><td><code id="printDurationAndMessage_+3A_start">start</code></td>
<td>
<p>the start time</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the current time
</p>

<hr>
<h2 id='summariseChecks'>Create a summary about the diagnostics results</h2><span id='topic+summariseChecks'></span>

<h3>Description</h3>

<p>Create a summary about the diagnostics results
</p>


<h3>Usage</h3>

<pre><code class='language-R'>summariseChecks(resultList)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summariseChecks_+3A_resultlist">resultList</code></td>
<td>
<p>a list with the diagnostics results</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a table containing the diagnostics summary
</p>

<hr>
<h2 id='summariseDrugExposureDuration'>Summarise drug exposure record durations</h2><span id='topic+summariseDrugExposureDuration'></span>

<h3>Description</h3>

<p>Summarise drug exposure record durations
</p>


<h3>Usage</h3>

<pre><code class='language-R'>summariseDrugExposureDuration(
  cdm,
  drugRecordsTable = "ingredient_drug_records",
  byConcept = TRUE,
  sampleSize = 10000
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summariseDrugExposureDuration_+3A_cdm">cdm</code></td>
<td>
<p>CDMConnector reference object</p>
</td></tr>
<tr><td><code id="summariseDrugExposureDuration_+3A_drugrecordstable">drugRecordsTable</code></td>
<td>
<p>a modified version of the drug exposure table, default &quot;ingredient_drug_records&quot;</p>
</td></tr>
<tr><td><code id="summariseDrugExposureDuration_+3A_byconcept">byConcept</code></td>
<td>
<p>by individual drug Concept</p>
</td></tr>
<tr><td><code id="summariseDrugExposureDuration_+3A_samplesize">sampleSize</code></td>
<td>
<p>the sample size given in execute checks</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a table with the drug exposure record durations
</p>

<hr>
<h2 id='summariseQuantity'>Summarise the quantity column of the drug_exposure table</h2><span id='topic+summariseQuantity'></span>

<h3>Description</h3>

<p>Summarise the quantity column of the drug_exposure table
</p>


<h3>Usage</h3>

<pre><code class='language-R'>summariseQuantity(
  cdm,
  drugRecordsTable = "ingredient_drug_records",
  byConcept = TRUE,
  sampleSize = sampleSize
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summariseQuantity_+3A_cdm">cdm</code></td>
<td>
<p>CDMConnector reference object</p>
</td></tr>
<tr><td><code id="summariseQuantity_+3A_drugrecordstable">drugRecordsTable</code></td>
<td>
<p>a modified version of the drug exposure table, default &quot;ingredient_drug_records&quot;</p>
</td></tr>
<tr><td><code id="summariseQuantity_+3A_byconcept">byConcept</code></td>
<td>
<p>whether to get result by drug concept</p>
</td></tr>
<tr><td><code id="summariseQuantity_+3A_samplesize">sampleSize</code></td>
<td>
<p>the sample size given in execute checks</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a table with the summarized quantity result
</p>

<hr>
<h2 id='writeResultToDisk'>Write diagnostics results to a zip file on disk in given output folder.</h2><span id='topic+writeResultToDisk'></span>

<h3>Description</h3>

<p>Write diagnostics results to a zip file on disk in given output folder.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>writeResultToDisk(resultList, databaseId, outputFolder, filename = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="writeResultToDisk_+3A_resultlist">resultList</code></td>
<td>
<p>named list with results</p>
</td></tr>
<tr><td><code id="writeResultToDisk_+3A_databaseid">databaseId</code></td>
<td>
<p>database identifier</p>
</td></tr>
<tr><td><code id="writeResultToDisk_+3A_outputfolder">outputFolder</code></td>
<td>
<p>folder to write to</p>
</td></tr>
<tr><td><code id="writeResultToDisk_+3A_filename">filename</code></td>
<td>
<p>output filename, if NULL it will be equal to databaseId</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
resultList &lt;- list("mtcars" = mtcars)
result &lt;- writeResultToDisk(
  resultList = resultList,
  databaseId = "mtcars",
  outputFolder = here::here())

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package duckplyr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {duckplyr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#duckplyr-package'><p>duckplyr: A 'DuckDB'-Backed Version of 'dplyr'</p></a></li>
<li><a href='#as_duckplyr_df'><p>Convert to a duckplyr data frame</p></a></li>
<li><a href='#config'><p>Configuration options</p></a></li>
<li><a href='#df_from_csv'><p>df_from_csv</p></a></li>
<li><a href='#fallback'><p>Fallback to dplyr</p></a></li>
<li><a href='#is_duckplyr_df'><p>Class predicate for duckplyr data frames</p></a></li>
<li><a href='#methods_overwrite'><p>Forward all dplyr methods to duckplyr</p></a></li>
<li><a href='#new_relational'><p>Relational implementer's interface</p></a></li>
<li><a href='#new_relexpr'><p>Relational expressions</p></a></li>
<li><a href='#reexports'><p>Objects exported from other packages</p></a></li>
<li><a href='#stats_show'><p>Show stats</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>A 'DuckDB'-Backed Version of 'dplyr'</td>
</tr>
<tr>
<td>Version:</td>
<td>0.3.2</td>
</tr>
<tr>
<td>Description:</td>
<td>A drop-in replacement for 'dplyr', powered by 'DuckDB' for performance.
    Also defines a set of generics that provide a low-level
    implementer's interface for the high-level user interface of 'dplyr'.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://duckdblabs.github.io/duckplyr/">https://duckdblabs.github.io/duckplyr/</a>,
<a href="https://github.com/duckdblabs/duckplyr">https://github.com/duckdblabs/duckplyr</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/duckdblabs/duckplyr/issues">https://github.com/duckdblabs/duckplyr/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.1.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>cli, collections, DBI, dplyr (&ge; 1.1.4), duckdb (&ge; 0.9.1-1),
glue, jsonlite, lifecycle, rlang (&ge; 1.0.6), tibble,
tidyselect, utils, vctrs (&ge; 0.6.3)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>arrow, brio, constructive (&ge; 0.2.0), curl, dbplyr, hms,
lobstr, lubridate, palmerpenguins, pillar, prettycode, purrr,
qs, reprex, rstudioapi, styler, testthat (&ge; 3.1.5), usethis,
withr</td>
</tr>
<tr>
<td>Config/Needs/check:</td>
<td>anthonynorth/roxyglobals</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Config/testthat/parallel:</td>
<td>false</td>
</tr>
<tr>
<td>Config/testthat/start-first:</td>
<td>rel_api, tpch, as_duckplyr_df, mutate,
filter, count-tally</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-03-17 19:36:22 UTC; kirill</td>
</tr>
<tr>
<td>Author:</td>
<td>Hannes Mühleisen <a href="https://orcid.org/0000-0001-8552-0029"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Kirill Müller <a href="https://orcid.org/0000-0002-1416-3412"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Posit Software, PBC [cph, fnd]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Kirill Müller &lt;kirill@cynkra.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-03-17 20:10:07 UTC</td>
</tr>
</table>
<hr>
<h2 id='duckplyr-package'>duckplyr: A 'DuckDB'-Backed Version of 'dplyr'</h2><span id='topic+duckplyr'></span><span id='topic+duckplyr-package'></span>

<h3>Description</h3>

<p>A drop-in replacement for 'dplyr', powered by 'DuckDB' for performance. Also defines a set of generics that provide a low-level implementer's interface for the high-level user interface of 'dplyr'.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Kirill Müller <a href="mailto:kirill@cynkra.com">kirill@cynkra.com</a> (<a href="https://orcid.org/0000-0002-1416-3412">ORCID</a>)
</p>
<p>Authors:
</p>

<ul>
<li><p> Hannes Mühleisen (<a href="https://orcid.org/0000-0001-8552-0029">ORCID</a>)
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> Posit Software, PBC [copyright holder, funder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://duckdblabs.github.io/duckplyr/">https://duckdblabs.github.io/duckplyr/</a>
</p>
</li>
<li> <p><a href="https://github.com/duckdblabs/duckplyr">https://github.com/duckdblabs/duckplyr</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/duckdblabs/duckplyr/issues">https://github.com/duckdblabs/duckplyr/issues</a>
</p>
</li></ul>


<hr>
<h2 id='as_duckplyr_df'>Convert to a duckplyr data frame</h2><span id='topic+as_duckplyr_df'></span>

<h3>Description</h3>

<p>For an object of class <code>duckplyr_df</code>,
dplyr verbs such as <code><a href="#topic+mutate">mutate()</a></code>, <code><a href="#topic+select">select()</a></code> or <code><a href="#topic+filter">filter()</a></code>  will attempt to use DuckDB.
If this is not possible, the original dplyr implementation is used.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_duckplyr_df(.data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_duckplyr_df_+3A_.data">.data</code></td>
<td>
<p>data frame or tibble to transform</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Set the <code>DUCKPLYR_FALLBACK_INFO</code> and <code>DUCKPLYR_FORCE</code> environment variables
for more control over the behavior, see <a href="#topic+config">config</a> for more details.
</p>


<h3>Value</h3>

<p>An object of class <code>"duckplyr_df"</code>, inheriting from the classes of the
<code>.data</code> argument.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tibble(a = 1:3) %&gt;%
  mutate(b = a + 1)

tibble(a = 1:3) %&gt;%
  as_duckplyr_df() %&gt;%
  mutate(b = a + 1)
</code></pre>

<hr>
<h2 id='config'>Configuration options</h2><span id='topic+config'></span>

<h3>Description</h3>

<p>The behavior of duckplyr can be fine-tuned with several environment variables,
and one option.
</p>


<h3>Options</h3>

<p><code>duckdb.materialize_message</code>: Set to <code>FALSE</code> to turn off diagnostic output from duckdb
on data frame materialization.
Currenty set to <code>TRUE</code> when duckplyr is loaded.
</p>


<h3>Environment variables</h3>

<p><code>DUCKPLYR_OUTPUT_ORDER</code>: If <code>TRUE</code>, row output order is preserved.
The default may change the row order where dplyr would keep it stable.
</p>
<p><code>DUCKPLYR_FORCE</code>: If <code>TRUE</code>, fail if duckdb cannot handle a request.
</p>
<p><code>DUCKPLYR_FALLBACK_INFO</code>: If <code>TRUE</code>, print a message when a fallback to dplyr occurs
because duckdb cannot handle a request.
</p>
<p><code>DUCKPLYR_CHECK_ROUNDTRIP</code>: If <code>TRUE</code>, check if all columns are roundtripped perfectly
when creating a relational object from a data frame,
This is slow, and mostly useful for debugging.
The default is to check roundtrip of attributes.
</p>
<p><code>DUCKPLYR_EXPERIMENTAL</code>: If <code>TRUE</code>, pass <code>experimental = TRUE</code>
to certain duckdb functions.
Currently unused.
</p>
<p><code>DUCKPLYR_METHODS_OVERWRITE</code>: If <code>TRUE</code>, call <code>methods_overwrite()</code>
when the package is loaded.
</p>
<p>See <a href="#topic+fallback">fallback</a> for more options related to logging and uploading of fallback events.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># options(duckdb.materialize_message = FALSE)
data.frame(a = 3:1) %&gt;%
  as_duckplyr_df() %&gt;%
  inner_join(data.frame(a = 1:4), by = "a")

rlang::with_options(duckdb.materialize_message = FALSE, {
  data.frame(a = 3:1) %&gt;%
    as_duckplyr_df() %&gt;%
    inner_join(data.frame(a = 1:4), by = "a") %&gt;%
    print()
})

# Sys.setenv(DUCKPLYR_OUTPUT_ORDER = TRUE)
data.frame(a = 3:1) %&gt;%
  as_duckplyr_df() %&gt;%
  inner_join(data.frame(a = 1:4), by = "a")

withr::with_envvar(c(DUCKPLYR_OUTPUT_ORDER = "TRUE"), {
  data.frame(a = 3:1) %&gt;%
    as_duckplyr_df() %&gt;%
    inner_join(data.frame(a = 1:4), by = "a")
})

# Sys.setenv(DUCKPLYR_FORCE = TRUE)
add_one &lt;- function(x) {
  x + 1
}

data.frame(a = 3:1) %&gt;%
  as_duckplyr_df() %&gt;%
  mutate(b = add_one(a))

try(withr::with_envvar(c(DUCKPLYR_FORCE = "TRUE"), {
  data.frame(a = 3:1) %&gt;%
    as_duckplyr_df() %&gt;%
    mutate(b = add_one(a))
}))

# Sys.setenv(DUCKPLYR_FALLBACK_INFO = TRUE)
withr::with_envvar(c(DUCKPLYR_FALLBACK_INFO = "TRUE"), {
  data.frame(a = 3:1) %&gt;%
    as_duckplyr_df() %&gt;%
    mutate(b = add_one(a))
})
</code></pre>

<hr>
<h2 id='df_from_csv'>df_from_csv</h2><span id='topic+df_from_csv'></span><span id='topic+duckplyr_df_from_csv'></span><span id='topic+df_from_parquet'></span><span id='topic+duckplyr_df_from_parquet'></span><span id='topic+df_to_parquet'></span><span id='topic+df_from_file'></span><span id='topic+duckplyr_df_from_file'></span>

<h3>Description</h3>

<p>These functions ingest data from a file using a table function.
The results are transparently converted to a data frame, but the data is only read when
the resulting data frame is actually accessed.
</p>
<p><code>df_from_csv()</code> reads a CSV file using the <code>read_csv_auto()</code> table function.
</p>
<p><code>duckplyr_df_from_csv()</code> is a thin wrapper around <code>df_from_csv()</code>
that calls <code>as_duckplyr_df()</code> on the output.
</p>
<p><code>df_from_parquet()</code> reads a Parquet file using the <code>read_parquet()</code> table function.
</p>
<p><code>duckplyr_df_from_parquet()</code> is a thin wrapper around <code>df_from_parquet()</code>
that calls <code>as_duckplyr_df()</code> on the output.
</p>
<p><code>df_to_parquet()</code> writes a data frame to a Parquet file via DuckDB.
If the data frame is a <code>duckplyr_df</code>, the materialization occurs outside of R.
An existing file will be overwritten.
This function requires duckdb &gt;= 0.10.0.
</p>
<p><code>df_from_file()</code> uses arbitrary table functions to read data.
See <a href="https://duckdb.org/docs/data/overview">https://duckdb.org/docs/data/overview</a> for a documentation
of the available functions and their options.
</p>
<p><code>duckplyr_df_from_file()</code> is a thin wrapper around <code>df_from_file()</code>
that calls <code>as_duckplyr_df()</code> on the output.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>df_from_csv(path, ..., options = list(), class = NULL)

duckplyr_df_from_csv(path, ..., options = list(), class = NULL)

df_from_parquet(path, ..., options = list(), class = NULL)

duckplyr_df_from_parquet(path, ..., options = list(), class = NULL)

df_to_parquet(data, path)

df_from_file(path, table_function, ..., options = list(), class = NULL)

duckplyr_df_from_file(
  path,
  table_function,
  ...,
  options = list(),
  class = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="df_from_csv_+3A_path">path</code></td>
<td>
<p>Path to file or directory.</p>
</td></tr>
<tr><td><code id="df_from_csv_+3A_...">...</code></td>
<td>
<p>These dots are for future extensions and must be empty.</p>
</td></tr>
<tr><td><code id="df_from_csv_+3A_options">options</code></td>
<td>
<p>Arguments to the DuckDB function
indicated by <code>table_function</code>.</p>
</td></tr>
<tr><td><code id="df_from_csv_+3A_class">class</code></td>
<td>
<p>An optional class to add to the data frame.
The returned object will always be a data frame.
Pass <code>class(tibble())</code> to create a tibble.</p>
</td></tr>
<tr><td><code id="df_from_csv_+3A_data">data</code></td>
<td>
<p>A data frame to be written to disk.</p>
</td></tr>
<tr><td><code id="df_from_csv_+3A_table_function">table_function</code></td>
<td>
<p>The name of a table-valued
DuckDB function such as <code>"read_parquet"</code>,
<code>"read_csv"</code>, <code>"read_csv_auto"</code> or <code>"read_json"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame for <code>df_from_file()</code>, or a <code>duckplyr_df</code> for
<code>duckplyr_df_from_file()</code>, extended by the provided <code>class</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create simple CSV file
path &lt;- tempfile(fileext = ".csv")
write.csv(data.frame(a = 1:3, b = letters[4:6]), path, row.names = FALSE)

# Reading is immediate
df &lt;- df_from_csv(path)

# Materialization only upon access
names(df)
df$a

# Return as tibble:
df_from_file(
  path,
  "read_csv",
  options = list(delim = ",", auto_detect = TRUE),
  class = class(tibble())
)

unlink(path)

# Write a Parquet file:
path_parquet &lt;- tempfile(fileext = ".parquet")
df_to_parquet(df, path_parquet)

# With a duckplyr_df, the materialization occurs outside of R:
df %&gt;%
  as_duckplyr_df() %&gt;%
  mutate(b = a + 1) %&gt;%
  df_to_parquet(path_parquet)

duckplyr_df_from_parquet(path_parquet)

unlink(path_parquet)
</code></pre>

<hr>
<h2 id='fallback'>Fallback to dplyr</h2><span id='topic+fallback'></span><span id='topic+fallback_sitrep'></span><span id='topic+fallback_review'></span><span id='topic+fallback_upload'></span><span id='topic+fallback_purge'></span>

<h3>Description</h3>

<p>The <span class="pkg">duckplyr</span> package aims at providing
a fully compatible drop-in replacement for <span class="pkg">dplyr</span>.
To achieve this, only a carefully selected subset of dplyr's operations,
R functions, and R data types are implemented.
Whenever duckplyr encounters an incompatibility, it falls back to dplyr.
</p>
<p>To assist future development, the fallback situations can be logged
to the console or to a local file and uploaded for analysis.
By default, <span class="pkg">duckplyr</span> will not log or upload anything.
The functions and environment variables on this page control the process.
</p>
<p><code>fallback_sitrep()</code> prints the current settings for fallback logging and uploading,
the number of reports ready for upload, and the location of the logs.
</p>
<p><code>fallback_review()</code> prints the available reports for review to the console.
</p>
<p><code>fallback_upload()</code> uploads the available reports to a central server for analysis.
The server is hosted on AWS and the reports are stored in a private S3 bucket.
Only authorized personnel have access to the reports.
</p>
<p><code>fallback_purge()</code> deletes some or all available reports.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fallback_sitrep()

fallback_review(oldest = NULL, newest = NULL, detail = TRUE)

fallback_upload(oldest = NULL, newest = NULL, strict = TRUE)

fallback_purge(oldest = NULL, newest = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fallback_+3A_oldest">oldest</code>, <code id="fallback_+3A_newest">newest</code></td>
<td>
<p>The number of oldest or newest reports to review.
If not specified, all reports are dispayed.</p>
</td></tr>
<tr><td><code id="fallback_+3A_detail">detail</code></td>
<td>
<p>Print the full content of the reports.
Set to <code>FALSE</code> to only print the file names.</p>
</td></tr>
<tr><td><code id="fallback_+3A_strict">strict</code></td>
<td>
<p>If <code>TRUE</code>, the function aborts if any of the reports fail to upload.
With <code>FALSE</code>, only a message is printed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Logging and uploading are both opt-in.
By default, for logging, a message is printed to the console
for the first time in a session and then once every 8 hours.
</p>
<p>The following environment variables control the logging and uploading:
</p>

<ul>
<li> <p><code>DUCKPLYR_FALLBACK_COLLECT</code> controls logging, set it
to 1 or greater to enable logging.
If the value is 0, logging is disabled.
Future versions of duckplyr may start logging additional data
and thus require a higher value to enable logging.
Set to 99 to enable logging for all future versions.
Use <code><a href="usethis.html#topic+edit">usethis::edit_r_environ()</a></code> to edit the environment file.
</p>
</li>
<li> <p><code>DUCKPLYR_FALLBACK_VERBOSE</code> controls printing, set it
to <code>TRUE</code> or <code>FALSE</code> to enable or disable printing.
If the value is <code>TRUE</code>, a message is printed to the console
for each fallback situation.
This setting is only relevant if logging is enabled.
</p>
</li>
<li> <p><code>DUCKPLYR_FALLBACK_AUTOUPLOAD</code> controls uploading, set it
to 1 or greater to enable uploading.
If the value is 0, uploading is disabled.
Currently, uploading is active if the value is 1 or greater.
Future versions of duckplyr may start logging additional data
and thus require a higher value to enable uploading.
Set to 99 to enable uploading for all future versions.
Use <code><a href="usethis.html#topic+edit">usethis::edit_r_environ()</a></code> to edit the environment file.
</p>
</li>
<li> <p><code>DUCKPLYR_FALLBACK_LOG_DIR</code> controls the location of the logs.
It must point to a directory (existing or not) where the logs will be written.
By default, logs are written to a directory in the user's cache directory
as returned by <code>tools::R_user_dir("duckplyr", "cache")</code>.
</p>
</li></ul>

<p>All code related to fallback logging and uploading is in the
<a href="https://github.com/duckdblabs/duckplyr/blob/main/R/fallback.R"><code>fallback.R</code></a> and
<a href="https://github.com/duckdblabs/duckplyr/blob/main/R/telemetry.R"><code>telemetry.R</code></a> files.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>fallback_sitrep()
</code></pre>

<hr>
<h2 id='is_duckplyr_df'>Class predicate for duckplyr data frames</h2><span id='topic+is_duckplyr_df'></span>

<h3>Description</h3>

<p>Tests if the input object is of class <code>"duckplyr_df"</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_duckplyr_df(.data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_duckplyr_df_+3A_.data">.data</code></td>
<td>
<p>The object to test</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code> if the input object is of class <code>"duckplyr_df"</code>,
otherwise <code>FALSE</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tibble(a = 1:3) %&gt;%
  is_duckplyr_df()

tibble(a = 1:3) %&gt;%
  as_duckplyr_df() %&gt;%
  is_duckplyr_df()
</code></pre>

<hr>
<h2 id='methods_overwrite'>Forward all dplyr methods to duckplyr</h2><span id='topic+methods_overwrite'></span><span id='topic+methods_restore'></span>

<h3>Description</h3>

<p>After calling <code>methods_overwrite()</code>, all dplyr methods are redirected to duckplyr
for the duraton of the session, or until a call to <code>methods_restore()</code>.
The <code>methods_overwrite()</code> function is called automatically when the package is loaded
if the environment variable <code>DUCKPLYR_METHODS_OVERWRITE</code> is set to <code>TRUE</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>methods_overwrite()

methods_restore()
</code></pre>


<h3>Value</h3>

<p>Called for their side effects.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tibble(a = 1:3) %&gt;%
  mutate(b = a + 1)

methods_overwrite()

tibble(a = 1:3) %&gt;%
  mutate(b = a + 1)

methods_restore()

tibble(a = 1:3) %&gt;%
  mutate(b = a + 1)
</code></pre>

<hr>
<h2 id='new_relational'>Relational implementer's interface</h2><span id='topic+new_relational'></span><span id='topic+rel_to_df'></span><span id='topic+rel_filter'></span><span id='topic+rel_project'></span><span id='topic+rel_aggregate'></span><span id='topic+rel_order'></span><span id='topic+rel_join'></span><span id='topic+rel_limit'></span><span id='topic+rel_distinct'></span><span id='topic+rel_set_intersect'></span><span id='topic+rel_set_diff'></span><span id='topic+rel_set_symdiff'></span><span id='topic+rel_union_all'></span><span id='topic+rel_explain'></span><span id='topic+rel_alias'></span><span id='topic+rel_set_alias'></span><span id='topic+rel_names'></span>

<h3>Description</h3>

<p>The constructor and generics described here define a class
that helps separating dplyr's user interface from the actual underlying operations.
In the longer term, this will help packages that implement the dplyr interface
(such as <span class="pkg">dbplyr</span>, <span class="pkg">dtplyr</span>, <span class="pkg">arrow</span> and similar)
to focus on the core details of their functionality,
rather than on the intricacies of dplyr's user interface.
</p>
<p><code>new_relational()</code> constructs an object of class <code>"relational"</code>.
Users are encouraged to provide the <code>class</code> argument.
The typical use case will be to create a wrapper function.
</p>
<p><code>rel_to_df()</code> extracts a data frame representation from a relational object,
to be used by <code><a href="dplyr.html#topic+compute">dplyr::collect()</a></code>.
</p>
<p><code>rel_filter()</code> keeps rows that match a predicate,
to be used by <code><a href="dplyr.html#topic+filter">dplyr::filter()</a></code>.
</p>
<p><code>rel_project()</code> selects columns or creates new columns,
to be used by <code><a href="dplyr.html#topic+select">dplyr::select()</a></code>, <code><a href="dplyr.html#topic+rename">dplyr::rename()</a></code>,
<code><a href="dplyr.html#topic+mutate">dplyr::mutate()</a></code>, <code><a href="dplyr.html#topic+relocate">dplyr::relocate()</a></code>, and others.
</p>
<p><code>rel_aggregate()</code> combines several rows into one,
to be used by <code><a href="dplyr.html#topic+summarise">dplyr::summarize()</a></code>.
</p>
<p><code>rel_order()</code> reorders rows by columns or expressions,
to be used by <code><a href="dplyr.html#topic+arrange">dplyr::arrange()</a></code>.
</p>
<p><code>rel_join()</code> joins or merges two tables,
to be used by <code><a href="dplyr.html#topic+mutate-joins">dplyr::left_join()</a></code>, <code><a href="dplyr.html#topic+mutate-joins">dplyr::right_join()</a></code>,
<code><a href="dplyr.html#topic+mutate-joins">dplyr::inner_join()</a></code>, <code><a href="dplyr.html#topic+mutate-joins">dplyr::full_join()</a></code>, <code><a href="dplyr.html#topic+cross_join">dplyr::cross_join()</a></code>,
<code><a href="dplyr.html#topic+filter-joins">dplyr::semi_join()</a></code>, and <code><a href="dplyr.html#topic+filter-joins">dplyr::anti_join()</a></code>.
</p>
<p><code>rel_limit()</code> limits the number of rows in a table,
to be used by <code><a href="utils.html#topic+head">utils::head()</a></code>.
</p>
<p><code>rel_distinct()</code> only keeps the distinct rows in a table,
to be used by <code><a href="dplyr.html#topic+distinct">dplyr::distinct()</a></code>.
</p>
<p><code>rel_set_intersect()</code> returns rows present in both tables,
to be used by <code><a href="#topic+intersect">intersect()</a></code>.
</p>
<p><code>rel_set_diff()</code> returns rows present in any of both tables,
to be used by <code><a href="#topic+setdiff">setdiff()</a></code>.
</p>
<p><code>rel_set_symdiff()</code> returns rows present in any of both tables,
to be used by <code><a href="dplyr.html#topic+setops">dplyr::symdiff()</a></code>.
</p>
<p><code>rel_union_all()</code> returns rows present in any of both tables,
to be used by <code><a href="dplyr.html#topic+setops">dplyr::union_all()</a></code>.
</p>
<p><code>rel_explain()</code> prints an explanation of the plan
executed by the relational object.
</p>
<p><code>rel_alias()</code> returns the alias name for a relational object.
</p>
<p><code>rel_set_alias()</code> sets the alias name for a relational object.
</p>
<p><code>rel_names()</code> returns the column names as character vector,
to be used by <code><a href="base.html#topic+colnames">colnames()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_relational(..., class = NULL)

rel_to_df(rel, ...)

rel_filter(rel, exprs, ...)

rel_project(rel, exprs, ...)

rel_aggregate(rel, groups, aggregates, ...)

rel_order(rel, orders, ...)

rel_join(
  left,
  right,
  conds,
  join = c("inner", "left", "right", "outer", "cross", "semi", "anti"),
  join_ref_type = c("regular", "natural", "cross", "positional", "asof"),
  ...
)

rel_limit(rel, n, ...)

rel_distinct(rel, ...)

rel_set_intersect(rel_a, rel_b, ...)

rel_set_diff(rel_a, rel_b, ...)

rel_set_symdiff(rel_a, rel_b, ...)

rel_union_all(rel_a, rel_b, ...)

rel_explain(rel, ...)

rel_alias(rel, ...)

rel_set_alias(rel, alias, ...)

rel_names(rel, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="new_relational_+3A_...">...</code></td>
<td>
<p>Reserved for future extensions, must be empty.</p>
</td></tr>
<tr><td><code id="new_relational_+3A_class">class</code></td>
<td>
<p>Classes added in front of the <code>"relational"</code> base class.</p>
</td></tr>
<tr><td><code id="new_relational_+3A_rel">rel</code>, <code id="new_relational_+3A_rel_a">rel_a</code>, <code id="new_relational_+3A_rel_b">rel_b</code>, <code id="new_relational_+3A_left">left</code>, <code id="new_relational_+3A_right">right</code></td>
<td>
<p>A relational object.</p>
</td></tr>
<tr><td><code id="new_relational_+3A_exprs">exprs</code></td>
<td>
<p>A list of <a href="dplyr.html#topic+expr">expr</a> objects to filter by.</p>
</td></tr>
<tr><td><code id="new_relational_+3A_groups">groups</code></td>
<td>
<p>A list of expressions to group by.</p>
</td></tr>
<tr><td><code id="new_relational_+3A_aggregates">aggregates</code></td>
<td>
<p>A list of expressions with aggregates to compute.</p>
</td></tr>
<tr><td><code id="new_relational_+3A_orders">orders</code></td>
<td>
<p>A list of expressions to order by.</p>
</td></tr>
<tr><td><code id="new_relational_+3A_conds">conds</code></td>
<td>
<p>A list of expressions to use for the join.</p>
</td></tr>
<tr><td><code id="new_relational_+3A_join">join</code></td>
<td>
<p>The type of join.</p>
</td></tr>
<tr><td><code id="new_relational_+3A_join_ref_type">join_ref_type</code></td>
<td>
<p>The ref type of join.</p>
</td></tr>
<tr><td><code id="new_relational_+3A_n">n</code></td>
<td>
<p>The number of rows.</p>
</td></tr>
<tr><td><code id="new_relational_+3A_alias">alias</code></td>
<td>
<p>the new alias</p>
</td></tr>
</table>


<h3>Value</h3>


<ul>
<li> <p><code>new_relational()</code> returns a new relational object.
</p>
</li>
<li> <p><code>rel_to_df()</code> returns a data frame.
</p>
</li>
<li> <p><code>rel_names()</code> returns a character vector.
</p>
</li>
<li><p> All other generics return a modified relational object.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>new_dfrel &lt;- function(x) {
  stopifnot(is.data.frame(x))
  new_relational(list(x), class = "dfrel")
}
mtcars_rel &lt;- new_dfrel(mtcars[1:5, 1:4])

rel_to_df.dfrel &lt;- function(rel, ...) {
  unclass(rel)[[1]]
}
rel_to_df(mtcars_rel)

rel_filter.dfrel &lt;- function(rel, exprs, ...) {
  df &lt;- unclass(rel)[[1]]

  # A real implementation would evaluate the predicates defined
  # by the exprs argument
  new_dfrel(df[seq_len(min(3, nrow(df))), ])
}

rel_filter(
  mtcars_rel,
  list(
    relexpr_function(
      "gt",
      list(relexpr_reference("cyl"), relexpr_constant("6"))
    )
  )
)

rel_project.dfrel &lt;- function(rel, exprs, ...) {
  df &lt;- unclass(rel)[[1]]

  # A real implementation would evaluate the expressions defined
  # by the exprs argument
  new_dfrel(df[seq_len(min(3, ncol(df)))])
}

rel_project(
  mtcars_rel,
  list(relexpr_reference("cyl"), relexpr_reference("disp"))
)

rel_order.dfrel &lt;- function(rel, exprs, ...) {
  df &lt;- unclass(rel)[[1]]

  # A real implementation would evaluate the expressions defined
  # by the exprs argument
  new_dfrel(df[order(df[[1]]), ])
}

rel_order(
  mtcars_rel,
  list(relexpr_reference("mpg"))
)

rel_join.dfrel &lt;- function(left, right, conds, join, ...) {
  left_df &lt;- unclass(left)[[1]]
  right_df &lt;- unclass(right)[[1]]

  # A real implementation would evaluate the expressions
  # defined by the conds argument,
  # use different join types based on the join argument,
  # and implement the join itself instead of relaying to left_join().
  new_dfrel(dplyr::left_join(left_df, right_df))
}

rel_join(new_dfrel(data.frame(mpg = 21)), mtcars_rel)


rel_limit.dfrel &lt;- function(rel, n, ...) {
  df &lt;- unclass(rel)[[1]]

  new_dfrel(df[seq_len(n), ])
}

rel_limit(mtcars_rel, 3)

rel_distinct.dfrel &lt;- function(rel, ...) {
  df &lt;- unclass(rel)[[1]]

  new_dfrel(df[!duplicated(df), ])
}

rel_distinct(new_dfrel(mtcars[1:3, 1:4]))

rel_names.dfrel &lt;- function(rel, ...) {
  df &lt;- unclass(rel)[[1]]

  names(df)
}

rel_names(mtcars_rel)
</code></pre>

<hr>
<h2 id='new_relexpr'>Relational expressions</h2><span id='topic+new_relexpr'></span><span id='topic+relexpr_reference'></span><span id='topic+relexpr_constant'></span><span id='topic+relexpr_function'></span><span id='topic+relexpr_window'></span><span id='topic+relexpr_set_alias'></span>

<h3>Description</h3>

<p>These functions provide a backend-agnostic way to construct expression trees
built of column references, constants, and functions.
All subexpressions in an expression tree can have an alias.
</p>
<p><code>new_relexpr()</code> constructs an object of class <code>"relational_relexpr"</code>.
It is used by the higher-level constructors,
users should rarely need to call it directly.
</p>
<p><code>relexpr_reference()</code> constructs a reference to a column.
</p>
<p><code>relexpr_constant()</code> wraps a constant value.
</p>
<p><code>relexpr_function()</code> applies a function.
The arguments to this function are a list of other expression objects.
</p>
<p><code>relexpr_window()</code> applies a function over a window,
similarly to the SQL <code>OVER</code> clause.
</p>
<p><code>relexpr_set_alias()</code> assigns an alias to an expression.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_relexpr(x, class = NULL)

relexpr_reference(name, rel = NULL, alias = NULL)

relexpr_constant(val, alias = NULL)

relexpr_function(name, args, alias = NULL)

relexpr_window(
  expr,
  partitions,
  order_bys = list(),
  offset_expr = NULL,
  default_expr = NULL,
  alias = NULL
)

relexpr_set_alias(expr, alias = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="new_relexpr_+3A_x">x</code></td>
<td>
<p>An object.</p>
</td></tr>
<tr><td><code id="new_relexpr_+3A_class">class</code></td>
<td>
<p>Classes added in front of the <code>"relational_relexpr"</code> base class.</p>
</td></tr>
<tr><td><code id="new_relexpr_+3A_name">name</code></td>
<td>
<p>The name of the column or function to reference.</p>
</td></tr>
<tr><td><code id="new_relexpr_+3A_rel">rel</code></td>
<td>
<p>The name of the relation to reference.</p>
</td></tr>
<tr><td><code id="new_relexpr_+3A_alias">alias</code></td>
<td>
<p>An alias for the new expression.</p>
</td></tr>
<tr><td><code id="new_relexpr_+3A_val">val</code></td>
<td>
<p>The value to use in the constant expression.</p>
</td></tr>
<tr><td><code id="new_relexpr_+3A_args">args</code></td>
<td>
<p>Function arguments, a list of <code>expr</code> objects.</p>
</td></tr>
<tr><td><code id="new_relexpr_+3A_expr">expr</code></td>
<td>
<p>An <code>expr</code> object.</p>
</td></tr>
<tr><td><code id="new_relexpr_+3A_partitions">partitions</code></td>
<td>
<p>Partitions, a list of <code>expr</code> objects.</p>
</td></tr>
<tr><td><code id="new_relexpr_+3A_order_bys">order_bys</code></td>
<td>
<p>which variables to order results by (list).</p>
</td></tr>
<tr><td><code id="new_relexpr_+3A_offset_expr">offset_expr</code></td>
<td>
<p>offset relational expression.</p>
</td></tr>
<tr><td><code id="new_relexpr_+3A_default_expr">default_expr</code></td>
<td>
<p>default relational expression.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an object of class <code>"relational_relexpr"</code>
</p>
<p>an object of class <code>"relational_relexpr"</code>
</p>
<p>an object of class <code>"relational_relexpr"</code>
</p>
<p>an object of class <code>"relational_relexpr"</code>
</p>
<p>an object of class <code>"relational_relexpr"</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>relexpr_set_alias(
  alias = "my_predicate",
  relexpr_function(
    "&lt;",
    list(
      relexpr_reference("my_number"),
      relexpr_constant(42)
    )
  )
)
</code></pre>

<hr>
<h2 id='reexports'>Objects exported from other packages</h2><span id='topic+reexports'></span><span id='topic++25+3E+25'></span><span id='topic+tibble'></span><span id='topic+across'></span><span id='topic+add_count'></span><span id='topic+add_tally'></span><span id='topic+all_equal'></span><span id='topic+anti_join'></span><span id='topic+arrange'></span><span id='topic+auto_copy'></span><span id='topic+c_across'></span><span id='topic+case_when'></span><span id='topic+collapse'></span><span id='topic+collect'></span><span id='topic+compute'></span><span id='topic+count'></span><span id='topic+cross_join'></span><span id='topic+desc'></span><span id='topic+distinct'></span><span id='topic+do'></span><span id='topic+dplyr_col_modify'></span><span id='topic+dplyr_reconstruct'></span><span id='topic+dplyr_row_slice'></span><span id='topic+explain'></span><span id='topic+filter'></span><span id='topic+first'></span><span id='topic+full_join'></span><span id='topic+funs'></span><span id='topic+funs_'></span><span id='topic+group_by'></span><span id='topic+group_data'></span><span id='topic+group_keys'></span><span id='topic+group_map'></span><span id='topic+group_modify'></span><span id='topic+group_rows'></span><span id='topic+group_size'></span><span id='topic+group_vars'></span><span id='topic+group_walk'></span><span id='topic+if_all'></span><span id='topic+if_any'></span><span id='topic+inner_join'></span><span id='topic+intersect'></span><span id='topic+is_grouped_df'></span><span id='topic+join_by'></span><span id='topic+lag'></span><span id='topic+last'></span><span id='topic+lead'></span><span id='topic+left_join'></span><span id='topic+mutate'></span><span id='topic+mutate_all'></span><span id='topic+n'></span><span id='topic+n_distinct'></span><span id='topic+nest_by'></span><span id='topic+nest_join'></span><span id='topic+nth'></span><span id='topic+pull'></span><span id='topic+reframe'></span><span id='topic+relocate'></span><span id='topic+rename'></span><span id='topic+rename_all'></span><span id='topic+rename_at'></span><span id='topic+rename_if'></span><span id='topic+rename_with'></span><span id='topic+right_join'></span><span id='topic+row_number'></span><span id='topic+rows_append'></span><span id='topic+rows_delete'></span><span id='topic+rows_insert'></span><span id='topic+rows_patch'></span><span id='topic+rows_update'></span><span id='topic+rows_upsert'></span><span id='topic+rowwise'></span><span id='topic+same_src'></span><span id='topic+sample_frac'></span><span id='topic+sample_n'></span><span id='topic+select'></span><span id='topic+select_all'></span><span id='topic+select_at'></span><span id='topic+select_if'></span><span id='topic+semi_join'></span><span id='topic+setdiff'></span><span id='topic+setequal'></span><span id='topic+slice'></span><span id='topic+slice_head'></span><span id='topic+slice_max'></span><span id='topic+slice_min'></span><span id='topic+slice_sample'></span><span id='topic+slice_tail'></span><span id='topic+summarise'></span><span id='topic+summarise_all'></span><span id='topic+summarise_at'></span><span id='topic+summarize'></span><span id='topic+symdiff'></span><span id='topic+tally'></span><span id='topic+tbl_vars'></span><span id='topic+transmute'></span><span id='topic+ungroup'></span><span id='topic+union'></span><span id='topic+union_all'></span><span id='topic+vars'></span><span id='topic+with_groups'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>dplyr</dt><dd><p><code><a href="dplyr.html#topic+reexports">%&gt;%</a></code>, <code><a href="dplyr.html#topic+across">across</a></code>, <code><a href="dplyr.html#topic+count">add_count</a></code>, <code><a href="dplyr.html#topic+count">add_tally</a></code>, <code><a href="dplyr.html#topic+all_equal">all_equal</a></code>, <code><a href="dplyr.html#topic+filter-joins">anti_join</a></code>, <code><a href="dplyr.html#topic+arrange">arrange</a></code>, <code><a href="dplyr.html#topic+auto_copy">auto_copy</a></code>, <code><a href="dplyr.html#topic+c_across">c_across</a></code>, <code><a href="dplyr.html#topic+case_when">case_when</a></code>, <code><a href="dplyr.html#topic+compute">collapse</a></code>, <code><a href="dplyr.html#topic+compute">collect</a></code>, <code><a href="dplyr.html#topic+compute">compute</a></code>, <code><a href="dplyr.html#topic+count">count</a></code>, <code><a href="dplyr.html#topic+cross_join">cross_join</a></code>, <code><a href="dplyr.html#topic+desc">desc</a></code>, <code><a href="dplyr.html#topic+distinct">distinct</a></code>, <code><a href="dplyr.html#topic+do">do</a></code>, <code><a href="dplyr.html#topic+dplyr_extending">dplyr_col_modify</a></code>, <code><a href="dplyr.html#topic+dplyr_extending">dplyr_reconstruct</a></code>, <code><a href="dplyr.html#topic+dplyr_extending">dplyr_row_slice</a></code>, <code><a href="dplyr.html#topic+explain">explain</a></code>, <code><a href="dplyr.html#topic+filter">filter</a></code>, <code><a href="dplyr.html#topic+nth">first</a></code>, <code><a href="dplyr.html#topic+mutate-joins">full_join</a></code>, <code><a href="dplyr.html#topic+funs">funs</a></code>, <code><a href="dplyr.html#topic+se-deprecated">funs_</a></code>, <code><a href="dplyr.html#topic+group_by">group_by</a></code>, <code><a href="dplyr.html#topic+group_data">group_data</a></code>, <code><a href="dplyr.html#topic+group_data">group_keys</a></code>, <code><a href="dplyr.html#topic+group_map">group_map</a></code>, <code><a href="dplyr.html#topic+group_map">group_modify</a></code>, <code><a href="dplyr.html#topic+group_data">group_rows</a></code>, <code><a href="dplyr.html#topic+group_data">group_size</a></code>, <code><a href="dplyr.html#topic+group_data">group_vars</a></code>, <code><a href="dplyr.html#topic+group_map">group_walk</a></code>, <code><a href="dplyr.html#topic+across">if_all</a></code>, <code><a href="dplyr.html#topic+across">if_any</a></code>, <code><a href="dplyr.html#topic+mutate-joins">inner_join</a></code>, <code><a href="dplyr.html#topic+setops">intersect</a></code>, <code><a href="dplyr.html#topic+grouped_df">is_grouped_df</a></code>, <code><a href="dplyr.html#topic+join_by">join_by</a></code>, <code><a href="dplyr.html#topic+lead-lag">lag</a></code>, <code><a href="dplyr.html#topic+nth">last</a></code>, <code><a href="dplyr.html#topic+lead-lag">lead</a></code>, <code><a href="dplyr.html#topic+mutate-joins">left_join</a></code>, <code><a href="dplyr.html#topic+mutate">mutate</a></code>, <code><a href="dplyr.html#topic+mutate_all">mutate_all</a></code>, <code><a href="dplyr.html#topic+context">n</a></code>, <code><a href="dplyr.html#topic+n_distinct">n_distinct</a></code>, <code><a href="dplyr.html#topic+nest_by">nest_by</a></code>, <code><a href="dplyr.html#topic+nest_join">nest_join</a></code>, <code><a href="dplyr.html#topic+nth">nth</a></code>, <code><a href="dplyr.html#topic+pull">pull</a></code>, <code><a href="dplyr.html#topic+reframe">reframe</a></code>, <code><a href="dplyr.html#topic+relocate">relocate</a></code>, <code><a href="dplyr.html#topic+rename">rename</a></code>, <code><a href="dplyr.html#topic+select_all">rename_all</a></code>, <code><a href="dplyr.html#topic+select_all">rename_at</a></code>, <code><a href="dplyr.html#topic+select_all">rename_if</a></code>, <code><a href="dplyr.html#topic+rename">rename_with</a></code>, <code><a href="dplyr.html#topic+mutate-joins">right_join</a></code>, <code><a href="dplyr.html#topic+row_number">row_number</a></code>, <code><a href="dplyr.html#topic+rows">rows_append</a></code>, <code><a href="dplyr.html#topic+rows">rows_delete</a></code>, <code><a href="dplyr.html#topic+rows">rows_insert</a></code>, <code><a href="dplyr.html#topic+rows">rows_patch</a></code>, <code><a href="dplyr.html#topic+rows">rows_update</a></code>, <code><a href="dplyr.html#topic+rows">rows_upsert</a></code>, <code><a href="dplyr.html#topic+rowwise">rowwise</a></code>, <code><a href="dplyr.html#topic+same_src">same_src</a></code>, <code><a href="dplyr.html#topic+sample_n">sample_frac</a></code>, <code><a href="dplyr.html#topic+sample_n">sample_n</a></code>, <code><a href="dplyr.html#topic+select">select</a></code>, <code><a href="dplyr.html#topic+select_all">select_all</a></code>, <code><a href="dplyr.html#topic+select_all">select_at</a></code>, <code><a href="dplyr.html#topic+select_all">select_if</a></code>, <code><a href="dplyr.html#topic+filter-joins">semi_join</a></code>, <code><a href="dplyr.html#topic+setops">setdiff</a></code>, <code><a href="dplyr.html#topic+setops">setequal</a></code>, <code><a href="dplyr.html#topic+slice">slice</a></code>, <code><a href="dplyr.html#topic+slice">slice_head</a></code>, <code><a href="dplyr.html#topic+slice">slice_max</a></code>, <code><a href="dplyr.html#topic+slice">slice_min</a></code>, <code><a href="dplyr.html#topic+slice">slice_sample</a></code>, <code><a href="dplyr.html#topic+slice">slice_tail</a></code>, <code><a href="dplyr.html#topic+summarise">summarise</a></code>, <code><a href="dplyr.html#topic+summarise_all">summarise_all</a></code>, <code><a href="dplyr.html#topic+summarise_all">summarise_at</a></code>, <code><a href="dplyr.html#topic+summarise">summarize</a></code>, <code><a href="dplyr.html#topic+setops">symdiff</a></code>, <code><a href="dplyr.html#topic+count">tally</a></code>, <code><a href="dplyr.html#topic+tbl_vars">tbl_vars</a></code>, <code><a href="dplyr.html#topic+reexports">tibble</a></code>, <code><a href="dplyr.html#topic+transmute">transmute</a></code>, <code><a href="dplyr.html#topic+group_by">ungroup</a></code>, <code><a href="dplyr.html#topic+setops">union</a></code>, <code><a href="dplyr.html#topic+setops">union_all</a></code>, <code><a href="dplyr.html#topic+vars">vars</a></code>, <code><a href="dplyr.html#topic+with_groups">with_groups</a></code></p>
</dd>
</dl>

<hr>
<h2 id='stats_show'>Show stats</h2><span id='topic+stats_show'></span>

<h3>Description</h3>

<p>Prints statistics on how many calls were handled by DuckDB.
The output shows the total number of requests in the current session,
split by fallbacks to dplyr and requests handled by duckdb.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stats_show()
</code></pre>


<h3>Value</h3>

<p>Called for its side effect.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>stats_show()

tibble(a = 1:3) %&gt;%
  as_duckplyr_df() %&gt;%
  mutate(b = a + 1)

stats_show()
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

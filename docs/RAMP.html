<!DOCTYPE html><html><head><title>Help for package RAMP</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {RAMP}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#predict.RAMP'><p>Model prediction based on a fitted RAMP object.</p></a></li>
<li><a href='#print.RAMP'><p>Result summary of a fitted RAMP object.</p></a></li>
<li><a href='#RAMP'><p>Regularization Algorithm under Marginality Principle (RAMP) for high</p>
dimensional generalized quadratic regression.</a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Regularized Generalized Linear Models with Interaction Effects</td>
</tr>
<tr>
<td>Version:</td>
<td>2.0.2</td>
</tr>
<tr>
<td>Date:</td>
<td>2020-01-03</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides an efficient procedure for fitting the entire solution
    path for high-dimensional regularized quadratic generalized linear models with
    interactions effects under the strong or weak heredity constraint.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.0.2</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-01-14 23:32:32 UTC; yangfeng</td>
</tr>
<tr>
<td>Author:</td>
<td>Yang Feng [aut, cre],
  Ning Hao [aut],
  Hao Helen Zhang [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Yang Feng &lt;yangfengstat@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-01-16 13:20:29 UTC</td>
</tr>
</table>
<hr>
<h2 id='predict.RAMP'>Model prediction based on a fitted RAMP object.</h2><span id='topic+predict.RAMP'></span>

<h3>Description</h3>

<p>Similar to the usual predict methods, 
this function returns predictions from a fitted <code>'RAMP'</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'RAMP'
predict(object, newdata = NULL, type = c("link",
  "response", "class"), allpath = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="predict.RAMP_+3A_object">object</code></td>
<td>
<p>Fitted <code>'RAMP'</code> model object.</p>
</td></tr>
<tr><td><code id="predict.RAMP_+3A_newdata">newdata</code></td>
<td>
<p>Matrix of new values for <code>x</code> at which predictions 
are to be made, without the intercept term.</p>
</td></tr>
<tr><td><code id="predict.RAMP_+3A_type">type</code></td>
<td>
<p>Type of prediction required. 
Type <code>'response'</code> gives the fitted values for <code>'gaussian'</code>, 
fitted probabilities for <code>'binomial'</code>, 
fitted mean for <code>'poisson'</code>, 
and the fitted relative risk for <code>'cox'</code>. 
Type <code>'link'</code> returns the linear predictors for 
<code>'binomial'</code>, <code>'poisson'</code> and <code>'cox'</code> models;
for <code>'gaussian'</code> models it is equivalent to type 
<code>'response'</code>. Type <code>'class'</code> applies only to <code>'binomial'</code> models,
and produces the class label corresponding to the maximum probability (0-1 labels).</p>
</td></tr>
<tr><td><code id="predict.RAMP_+3A_allpath">allpath</code></td>
<td>
<p>allpath = T will output all the predictions on the solution path. allpath = FALSE will only output the one the criterion selected in the <code>'RAMP'</code> object.</p>
</td></tr>
<tr><td><code id="predict.RAMP_+3A_...">...</code></td>
<td>
<p>Not used. Other arguments to predict.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The object returned depends on type.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+RAMP">RAMP</a></code>,<code><a href="#topic+print.RAMP">print.RAMP</a></code>
</p>

<hr>
<h2 id='print.RAMP'>Result summary of a fitted RAMP object.</h2><span id='topic+print.RAMP'></span>

<h3>Description</h3>

<p>Similar to the usual print methods, this function summarize results 
from a fitted <code>'RAMP'</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'RAMP'
print(x, digits = max(3, getOption("digits") - 3), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.RAMP_+3A_x">x</code></td>
<td>
<p>Fitted <code>'RAMP'</code> model object.</p>
</td></tr>
<tr><td><code id="print.RAMP_+3A_digits">digits</code></td>
<td>
<p>The number of significant digits for the coefficient estimates.</p>
</td></tr>
<tr><td><code id="print.RAMP_+3A_...">...</code></td>
<td>
<p>Not used. Other arguments to predict.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No value is returned.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+RAMP">RAMP</a></code>
</p>

<hr>
<h2 id='RAMP'>Regularization Algorithm under Marginality Principle (RAMP) for high
dimensional generalized quadratic regression.</h2><span id='topic+RAMP'></span>

<h3>Description</h3>

<p>Regularization Algorithm under Marginality Principle (RAMP) for high
dimensional generalized quadratic regression.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>RAMP(X, y, family = "gaussian", penalty = "LASSO", gamma = NULL,
  inter = TRUE, hier = "Strong", eps = 1e-15, tune = "EBIC",
  penalty.factor = rep(1, ncol(X)), inter.penalty.factor = 1, lam.list,
  lambda.min.ratio, max.iter = 100, max.num, n.lambda = 100,
  ebic.gamma = 1, refit = TRUE, trace = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="RAMP_+3A_x">X</code></td>
<td>
<p>input matrix, of dimension nobs x nvars; each row is an observation
vector.</p>
</td></tr>
<tr><td><code id="RAMP_+3A_y">y</code></td>
<td>
<p>response variable, of dimension nobs x 1. continous for
<code>family='gaussian'</code>, binary for <code>family='binomial'</code>.</p>
</td></tr>
<tr><td><code id="RAMP_+3A_family">family</code></td>
<td>
<p>response type. Default is 'gaussian'. The other choice is 'binomial'
for logistic regression.</p>
</td></tr>
<tr><td><code id="RAMP_+3A_penalty">penalty</code></td>
<td>
<p>Choose from <code>LASSO</code>, <code>SCAD</code> and <code>MCP</code>. Default
is 'LASSO'.</p>
</td></tr>
<tr><td><code id="RAMP_+3A_gamma">gamma</code></td>
<td>
<p>concavity parameter. If NULL, the code will use 3.7 for
'SCAD' and 2.7 for 'MCP'.</p>
</td></tr>
<tr><td><code id="RAMP_+3A_inter">inter</code></td>
<td>
<p>whether to select interaction effects. Default is TRUE.</p>
</td></tr>
<tr><td><code id="RAMP_+3A_hier">hier</code></td>
<td>
<p>whether to enforce strong or weak heredity. Default is 'Strong'.</p>
</td></tr>
<tr><td><code id="RAMP_+3A_eps">eps</code></td>
<td>
<p>the precision used to test the convergence. Default is 1e-15.</p>
</td></tr>
<tr><td><code id="RAMP_+3A_tune">tune</code></td>
<td>
<p>tuning parameter selection method.
'AIC', 'BIC', 'EBIC' and 'GIC' are available options. Default is EBIC.</p>
</td></tr>
<tr><td><code id="RAMP_+3A_penalty.factor">penalty.factor</code></td>
<td>
<p>A multiplicative factor for the penalty applied to each coefficient. If supplied, penalty.factor must be a numeric vector of length equal to the number of columns of X. The purpose of penalty.factor is to apply differential penalization if some coefficients are thought to be more likely than others to be in the model. In particular, penalty.factor can be 0, in which case the coefficient is always in the model without shrinkage.</p>
</td></tr>
<tr><td><code id="RAMP_+3A_inter.penalty.factor">inter.penalty.factor</code></td>
<td>
<p>the penalty factor for interactions effects. Default is 1. 
larger value discourage interaction effects.</p>
</td></tr>
<tr><td><code id="RAMP_+3A_lam.list">lam.list</code></td>
<td>
<p>a user supplied <code class="reqn">\lambda</code> sequence.
typical usage is to have the program compute its own
<code>lambda</code> sequence based on <code>lambda.min.ratio</code> and <code>n.lambda</code>.
supplying a value of <code class="reqn">\lambda</code> overrides this.</p>
</td></tr>
<tr><td><code id="RAMP_+3A_lambda.min.ratio">lambda.min.ratio</code></td>
<td>
<p>optional input. smallest value for <code>lambda</code>, as
a fraction of <code>max.lam</code>, the (data derived) entry value. the default
depends on the sample size <code>n</code> relative to the number of variables
<code>p</code>. if <code>n</code> &gt; <code>p</code>, the default is 0.0001. otherwise, the
default is 0.01.</p>
</td></tr>
<tr><td><code id="RAMP_+3A_max.iter">max.iter</code></td>
<td>
<p>maximum number of iteration in the computation. Default is
100.</p>
</td></tr>
<tr><td><code id="RAMP_+3A_max.num">max.num</code></td>
<td>
<p>optional input. maximum number of nonzero coefficients.</p>
</td></tr>
<tr><td><code id="RAMP_+3A_n.lambda">n.lambda</code></td>
<td>
<p>the number of <code>lambda</code> values. Default is 100.</p>
</td></tr>
<tr><td><code id="RAMP_+3A_ebic.gamma">ebic.gamma</code></td>
<td>
<p>the gamma parameter value in the EBIC criteria. Default is
1.</p>
</td></tr>
<tr><td><code id="RAMP_+3A_refit">refit</code></td>
<td>
<p>whether to perform a MLE refit on the selected model. Default
is TRUE.</p>
</td></tr>
<tr><td><code id="RAMP_+3A_trace">trace</code></td>
<td>
<p>whether to trace the fitting process. Default is FALSE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object with S3 class RAMP.
</p>
<table>
<tr><td><code>a0</code></td>
<td>
<p>intercept vector of length(<code>lambda</code>).</p>
</td></tr>
<tr><td><code>mainInd</code></td>
<td>
<p>index for the selected main effects.</p>
</td></tr>
<tr><td><code>interInd</code></td>
<td>
<p>index for the selected interaction effects</p>
</td></tr>
<tr><td><code>beta.m</code></td>
<td>
<p>coefficients for the selected main effects.</p>
</td></tr>
<tr><td><code>beta.i</code></td>
<td>
<p>coefficients for the selected interaction effects.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+predict.RAMP">predict.RAMP</a></code>,<code><a href="#topic+print.RAMP">print.RAMP</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(0)
n = 500
p = 10 #Can be changed to a much larger number say 50000
x = matrix(rnorm(n*p),n,p)
eta = 1 * x[,1] + 2 * x[,3]  + 3*x[,6]  + 4*x[,1]*x[,3] + 5*x[,1]*x[,6]
y =  eta + rnorm(n)
xtest = matrix(rnorm(n*p),n,p)
eta.test = 1 * xtest[,1] + 2 * xtest[,3]  + 3*xtest[,6] +
4*xtest[,1]*xtest[,3] + 5*xtest[,1]*xtest[,6]
ytest =  eta.test + rnorm(n)
fit1 = RAMP(x, y)
fit1    ###examine the results
ypred = predict(fit1, xtest)
mean((ypred-ytest)^2)

#fit1.scad = RAMP(x, y, penalty = 'SCAD')
#fit1.scad    ###examine the results

#fit1.mcp = RAMP(x, y, penalty = 'MCP')
#fit1.mcp    ###examine the results

##Now, try a binary response
#y = rbinom(n, 1, 1/(1+exp(-eta)))
#fit2 = RAMP(x, y, family='binomial')  ###for binary response

## Weak heredity
eta = 1 * x[,1] + 3*x[,6]  + 4*x[,1]*x[,3] + 5*x[,1]*x[,6]
y =  eta + rnorm(n)
eta.test = 1 * xtest[,1] +  3*xtest[,6] + 4*xtest[,1]*xtest[,3] +
5*xtest[,1]*xtest[,6]
ytest =  eta.test + rnorm(n)

fit3 = RAMP(x, y, hier = 'Strong')
fit3    ###examine the results
ypred3 = predict(fit3, xtest)
mean((ypred3-ytest)^2)
fit4 = RAMP(x, y, hier = 'Weak')
fit4
ypred4 = predict(fit4, xtest)
mean((ypred4-ytest)^2)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

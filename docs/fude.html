<!DOCTYPE html><html><head><title>Help for package fude</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {fude}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#bind_fude'><p>Bind multiple Fude Polygon data</p></a></li>
<li><a href='#combine_fude'><p>Combine the Fude Polygon data with the agricultural community boundary data</p></a></li>
<li><a href='#extract_fude'><p>Extract specified Fude Polygon data</p></a></li>
<li><a href='#get_boundary'><p>Get the agricultural community boundary data</p></a></li>
<li><a href='#lg_code_table'><p>Local government code/name correspondence table</p></a></li>
<li><a href='#ls_fude'><p>Itemize the structure of Fude Polygon data</p></a></li>
<li><a href='#pref_table'><p>Prefecture code/name correspondence table</p></a></li>
<li><a href='#read_fude'><p>Read a Fude Polygon ZIP file</p></a></li>
<li><a href='#rename_fude'><p>Rename the Fude Polygon data</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Utilities for Fude Polygon</td>
</tr>
<tr>
<td>Version:</td>
<td>0.3.6</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides utilities to facilitate handling of Fude Polygon data 
    downloadable from the Ministry of Agriculture, Forestry and Fisheries 
    website <a href="https://open.fude.maff.go.jp">https://open.fude.maff.go.jp</a>.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/takeshinishimura/fude">https://github.com/takeshinishimura/fude</a>,
<a href="https://takeshinishimura.github.io/fude/">https://takeshinishimura.github.io/fude/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/takeshinishimura/fude/issues">https://github.com/takeshinishimura/fude/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.3.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>sf, dplyr, tidyr, purrr, rlang, magrittr, forcats, stringi,
units, glue</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-05-18 11:07:55 UTC; takeshinishimura</td>
</tr>
<tr>
<td>Author:</td>
<td>Takeshi Nishimura <a href="https://orcid.org/0000-0003-1761-4300"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cph, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Takeshi Nishimura &lt;takenishi@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-05-18 11:20:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='bind_fude'>Bind multiple Fude Polygon data</h2><span id='topic+bind_fude'></span>

<h3>Description</h3>

<p><code>bind_fude()</code> binds a list of polygon data. It also binds a list of data
combined by <code><a href="#topic+combine_fude">combine_fude()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bind_fude(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bind_fude_+3A_...">...</code></td>
<td>
<p>Database lists to be combined. They should all have the same named
elements.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of <code><a href="sf.html#topic+sf">sf::sf()</a></code> object(s).
</p>


<h3>See Also</h3>

<p><code><a href="#topic+read_fude">read_fude()</a></code>, <code><a href="#topic+combine_fude">combine_fude()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>path &lt;- system.file("extdata", "castle.zip", package = "fude")
d1 &lt;- read_fude(path, stringsAsFactors = FALSE, quiet = TRUE)
d2 &lt;- read_fude(path, stringsAsFactors = FALSE, quiet = TRUE)
bind_fude(d1, d2)

</code></pre>

<hr>
<h2 id='combine_fude'>Combine the Fude Polygon data with the agricultural community boundary data</h2><span id='topic+combine_fude'></span>

<h3>Description</h3>

<p><code>combine_fude()</code> uses the agricultural community boundary data to reduce the
Fude Polygon data to the community units.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>combine_fude(
  data,
  boundary,
  city,
  old_village = "",
  community = "",
  year = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="combine_fude_+3A_data">data</code></td>
<td>
<p>List of <code><a href="sf.html#topic+sf">sf::sf()</a></code> objects.</p>
</td></tr>
<tr><td><code id="combine_fude_+3A_boundary">boundary</code></td>
<td>
<p>List of one or more agricultural community boundary data provided by
the MAFF.</p>
</td></tr>
<tr><td><code id="combine_fude_+3A_city">city</code></td>
<td>
<p>A local government name in Japanese to be extracted. In the case of
overlapping local government names, this must contain the prefecture name
in Japanese and the prefecture code in romaji (e.g., &quot;Fuchu-shi, 13&quot;,
&quot;fuchu 13&quot;,  &quot;34 fuchu-shi&quot;,  &quot;34, FUCHU-CHO&quot;). Alternatively, it could be
a 6-digit local government code.</p>
</td></tr>
<tr><td><code id="combine_fude_+3A_old_village">old_village</code></td>
<td>
<p>String by regular expression. One or more old village name in Japanese to
be extracted.</p>
</td></tr>
<tr><td><code id="combine_fude_+3A_community">community</code></td>
<td>
<p>String by regular expression. One or more agricultural community name in
Japanese to be extracted.</p>
</td></tr>
<tr><td><code id="combine_fude_+3A_year">year</code></td>
<td>
<p>Year in the column name of the <code>data</code>. If there is more than one
applicable local government code, it is required.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of <code><a href="sf.html#topic+sf">sf::sf()</a></code> objects.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+read_fude">read_fude()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
path &lt;- system.file("extdata", "castle.zip", package = "fude")
d &lt;- read_fude(path, stringsAsFactors = FALSE)
b &lt;- get_boundary(d)
db &lt;- combine_fude(d, b, "\u677e\u5c71\u5e02", "\u57ce\u6771", year = 2022)

</code></pre>

<hr>
<h2 id='extract_fude'>Extract specified Fude Polygon data</h2><span id='topic+extract_fude'></span>

<h3>Description</h3>

<p><code>extract_fude()</code> extracts the specified data from the list returned by
<code><a href="#topic+read_fude">read_fude()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extract_fude(data, year = NULL, city = NULL, list = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extract_fude_+3A_data">data</code></td>
<td>
<p>List of <code><a href="sf.html#topic+sf">sf::sf()</a></code> objects.</p>
</td></tr>
<tr><td><code id="extract_fude_+3A_year">year</code></td>
<td>
<p>Years to be extracted.</p>
</td></tr>
<tr><td><code id="extract_fude_+3A_city">city</code></td>
<td>
<p>Local government names or codes to be extracted.</p>
</td></tr>
<tr><td><code id="extract_fude_+3A_list">list</code></td>
<td>
<p>logical. If <code>FALSE</code>, the object to be extracted is no longer a list.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of <code><a href="sf.html#topic+sf">sf::sf()</a></code> object(s).
</p>


<h3>See Also</h3>

<p><code><a href="#topic+read_fude">read_fude()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>path &lt;- system.file("extdata", "castle.zip", package = "fude")
d &lt;- read_fude(path, stringsAsFactors = FALSE, quiet = TRUE)
d2 &lt;- extract_fude(d, year = 2022)

</code></pre>

<hr>
<h2 id='get_boundary'>Get the agricultural community boundary data</h2><span id='topic+get_boundary'></span>

<h3>Description</h3>

<p><code>get_boundary()</code> downloads and reads one or more agricultural community
boundary data provided by the MAFF.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_boundary(data, year = 2020, quiet = FALSE, path = NULL, to_wgs84 = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_boundary_+3A_data">data</code></td>
<td>
<p>List of <code><a href="sf.html#topic+sf">sf::sf()</a></code> objects.</p>
</td></tr>
<tr><td><code id="get_boundary_+3A_year">year</code></td>
<td>
<p>Year in which the agricultural community boundary data was created.</p>
</td></tr>
<tr><td><code id="get_boundary_+3A_quiet">quiet</code></td>
<td>
<p>logical. Suppress information about the data to be read.</p>
</td></tr>
<tr><td><code id="get_boundary_+3A_path">path</code></td>
<td>
<p>Path to the ZIP file containing the agricultural community boundary data;
use a local ZIP file instead of going looking for a ZIP file. Specify a
directory containing one or more ZIP files, not the ZIP file itself.</p>
</td></tr>
<tr><td><code id="get_boundary_+3A_to_wgs84">to_wgs84</code></td>
<td>
<p>logical. Convert JGD2000 to WGS 84.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of <code><a href="sf.html#topic+sf">sf::sf()</a></code> objects.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
path &lt;- system.file("extdata", "castle.zip", package = "fude")
d &lt;- read_fude(path)
b &lt;- get_boundary(d)

</code></pre>

<hr>
<h2 id='lg_code_table'>Local government code/name correspondence table</h2><span id='topic+lg_code_table'></span>

<h3>Description</h3>

<p>A dataset containing codes/names of local governments in Japan.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lg_code_table
</code></pre>


<h3>Format</h3>

<p>A data frame with 1,992 rows and 6 variables:
</p>

<dl>
<dt>lg_code</dt><dd><p>Local government codes</p>
</dd>
<dt>pref_kanji</dt><dd><p>Prefecture names written in kanji</p>
</dd>
<dt>city_kanji</dt><dd><p>Local government names written in kanji</p>
</dd>
<dt>pref_kana</dt><dd><p>Prefecture names written in katakana</p>
</dd>
<dt>city_kana</dt><dd><p>Local government names written in katakana</p>
</dd>
<dt>romaji</dt><dd><p>Local government names written in romaji</p>
</dd>
</dl>


<hr>
<h2 id='ls_fude'>Itemize the structure of Fude Polygon data</h2><span id='topic+ls_fude'></span>

<h3>Description</h3>

<p><code>ls_fude()</code> lists the year and the local government names (or codes) in
order to understand what is included in the list returned by <code><a href="#topic+read_fude">read_fude()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ls_fude(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ls_fude_+3A_data">data</code></td>
<td>
<p>List of <code><a href="sf.html#topic+sf">sf::sf()</a></code> objects.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+read_fude">read_fude()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>path &lt;- system.file("extdata", "castle.zip", package = "fude")
d &lt;- read_fude(path, stringsAsFactors = FALSE, quiet = TRUE)
ls_fude(d)

</code></pre>

<hr>
<h2 id='pref_table'>Prefecture code/name correspondence table</h2><span id='topic+pref_table'></span>

<h3>Description</h3>

<p>A dataset containing codes/names of prefectures in Japan.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pref_table
</code></pre>


<h3>Format</h3>

<p>A data frame with 47 rows and 2 variables:
</p>

<dl>
<dt>pref_code</dt><dd><p>Prefecture codes</p>
</dd>
<dt>pref_kanji</dt><dd><p>Prefecture names written in kanji</p>
</dd>
</dl>


<hr>
<h2 id='read_fude'>Read a Fude Polygon ZIP file</h2><span id='topic+read_fude'></span>

<h3>Description</h3>

<p><code>read_fude()</code> reads Fude Polygon data as a list. The data can be downloaded
from the MAFF website as a ZIP file, which contains one or more GeoJSON
format files. The function should also work with the ZIP file you created,
as long as you do not change the filenames of the original GeoJSON files.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_fude(path, stringsAsFactors = TRUE, quiet = FALSE, supplementary = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read_fude_+3A_path">path</code></td>
<td>
<p>Path to the ZIP file containing one or more GeoJSON format files.</p>
</td></tr>
<tr><td><code id="read_fude_+3A_stringsasfactors">stringsAsFactors</code></td>
<td>
<p>logical. Should character vectors be converted to factors?</p>
</td></tr>
<tr><td><code id="read_fude_+3A_quiet">quiet</code></td>
<td>
<p>logical. Suppress information about the data to be read.</p>
</td></tr>
<tr><td><code id="read_fude_+3A_supplementary">supplementary</code></td>
<td>
<p>logical. If TRUE, add supplementary information for each polygon. Default
is TRUE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of <code><a href="sf.html#topic+sf">sf::sf()</a></code> objects.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>path &lt;- system.file("extdata", "castle.zip", package = "fude")
d &lt;- read_fude(path, stringsAsFactors = FALSE)

</code></pre>

<hr>
<h2 id='rename_fude'>Rename the Fude Polygon data</h2><span id='topic+rename_fude'></span>

<h3>Description</h3>

<p><code>rename_fude()</code> renames the 6-digit local government code of the list
returned by <code><a href="#topic+read_fude">read_fude()</a></code> to the corresponding Japanese name in order to
make the data human-friendly.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rename_fude(data, suffix = TRUE, romaji = NULL, quiet = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rename_fude_+3A_data">data</code></td>
<td>
<p>List of <code><a href="sf.html#topic+sf">sf::sf()</a></code> objects.</p>
</td></tr>
<tr><td><code id="rename_fude_+3A_suffix">suffix</code></td>
<td>
<p>logical. If <code>FALSE</code>, suffixes such as &quot;SHI&quot; and &quot;KU&quot; in local government
names are removed.</p>
</td></tr>
<tr><td><code id="rename_fude_+3A_romaji">romaji</code></td>
<td>
<p>If not <code>NULL</code>, rename the local government name in romaji instead of
Japanese. Romanji format is upper case unless specified.
</p>

<ul>
<li> <p><code>"title"</code>: Title case.
</p>
</li>
<li> <p><code>"lower"</code>: Lower case.
</p>
</li>
<li> <p><code>"upper"</code>: Upper case.
</p>
</li></ul>
</td></tr>
<tr><td><code id="rename_fude_+3A_quiet">quiet</code></td>
<td>
<p>logical. Suppress information about the data to be read.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of <code><a href="sf.html#topic+sf">sf::sf()</a></code> objects.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+read_fude">read_fude()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>path &lt;- system.file("extdata", "castle.zip", package = "fude")
d &lt;- read_fude(path, stringsAsFactors = FALSE, quiet = FALSE)
d2 &lt;- rename_fude(d)
d2 &lt;- rename_fude(d, suffix = FALSE)
d2 &lt;- d |&gt; rename_fude(romaji = "upper")

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

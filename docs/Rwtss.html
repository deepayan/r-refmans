<!DOCTYPE html><html><head><title>Help for package Rwtss</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {Rwtss}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#.wtss_coverage_description'><p>Decodes the description from a WTSS coverage</p></a></li>
<li><a href='#.wtss_get_response'><p>Get a response to the WTSS server</p></a></li>
<li><a href='#.wtss_ggplot_series'><p>Plot one timeSeries using ggplot</p></a></li>
<li><a href='#.wtss_guess_satellite'><p>Try a best guess for the type of sensor/satellite</p></a></li>
<li><a href='#.wtss_list_coverages'><p>Retrieves the list of cubes from the URL server</p></a></li>
<li><a href='#.wtss_parse_json'><p>Parse a JSON response from the WTSS server</p></a></li>
<li><a href='#.wtss_process_request'><p>Process a request to the WTSS server</p></a></li>
<li><a href='#.wtss_remove_trailing_dash'><p>Remove trailing dashes from a WTSS server address</p></a></li>
<li><a href='#.wtss_send_request'><p>Send a request to WTSS server</p></a></li>
<li><a href='#.wtss_tibble'><p>Create a sits tibble to store the time series information</p></a></li>
<li><a href='#.wtss_time_series_processing'><p>Processing a Time Series Result from WTSS</p></a></li>
<li><a href='#.wtss_to_tibble'><p>Import time series in the zoo format to a tibble</p></a></li>
<li><a href='#%&gt;%'><p>Pipe</p></a></li>
<li><a href='#describe_coverage'><p>Retrieves the list of cubes from the URL server</p></a></li>
<li><a href='#list_coverages'><p>List the coverages available in the WTSS service</p></a></li>
<li><a href='#ndvi_ts'><p>Example time series from MOD13Q1 product.</p></a></li>
<li><a href='#plot'><p>Generic interface for ploting time series</p></a></li>
<li><a href='#Rwtss-package'><p>Rwtss</p></a></li>
<li><a href='#time_series'><p>Get time series</p></a></li>
<li><a href='#wtss_to_ts'><p>Export data to be used to the ts format</p></a></li>
<li><a href='#wtss_to_zoo'><p>Export data to be used to the zoo format</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Client for Web Time-Series Service</td>
</tr>
<tr>
<td>Version:</td>
<td>0.9.2</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Felipe Souza &lt;lipecaso@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Allows remote access to satellite image time 
    series provided by the web time series service (WTSS) available 
    at servers such as <a href="https://brazildatacube.dpi.inpe.br/wtss/">https://brazildatacube.dpi.inpe.br/wtss/</a>. 
    The functions include listing the data sets available in WTSS servers, 
    describing the contents of a data set, and retrieving a time series 
    based on spatial location and temporal filters.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/e-sensing/Rwtss/">https://github.com/e-sensing/Rwtss/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/e-sensing/Rwtss/issues">https://github.com/e-sensing/Rwtss/issues</a></td>
</tr>
<tr>
<td>ByteCompile:</td>
<td>true</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.6.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>assertthat, dplyr, geosphere, ggplot2, reshape2, jsonlite,
lubridate, magrittr, purrr, httr, stats, stringr, tibble, zoo</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>Suggests:</td>
<td>bfast, knitr, rmarkdown, roxygen2, testthat, spelling, vcr</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-04-22 19:40:29 UTC; sits</td>
</tr>
<tr>
<td>Author:</td>
<td>Gilberto Queiroz <a href="https://orcid.org/0000-0001-7534-0219"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Gilberto Camara <a href="https://orcid.org/0000-0002-3681-487X"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Pedro Andrade <a href="https://orcid.org/0000-0001-8675-4046"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Felipe Souza [aut, cre],
  Luiz Assis [aut]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-04-25 08:50:05 UTC</td>
</tr>
</table>
<hr>
<h2 id='.wtss_coverage_description'>Decodes the description from a WTSS coverage</h2><span id='topic+.wtss_coverage_description'></span>

<h3>Description</h3>

<p>creates a tibble to store the description of the WTSS coverage
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.wtss_coverage_description(URL, cov)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".wtss_coverage_description_+3A_url">URL</code></td>
<td>
<p>URL of the coverage</p>
</td></tr>
<tr><td><code id=".wtss_coverage_description_+3A_cov">cov</code></td>
<td>
<p>coverage response provided by WTSS service</p>
</td></tr>
</table>

<hr>
<h2 id='.wtss_get_response'>Get a response to the WTSS server</h2><span id='topic+.wtss_get_response'></span>

<h3>Description</h3>

<p>Sends a request to the WTSS server and gets a response
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.wtss_get_response(request, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".wtss_get_response_+3A_request">request</code></td>
<td>
<p>valid request according to the WTSS protocol</p>
</td></tr>
<tr><td><code id=".wtss_get_response_+3A_...">...</code></td>
<td>
<p>additional parameters that can be added in httr.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>response from the server
</p>

<hr>
<h2 id='.wtss_ggplot_series'>Plot one timeSeries using ggplot</h2><span id='topic+.wtss_ggplot_series'></span>

<h3>Description</h3>

<p>Plots a set of time series using ggplot. This function is used
for showing the same lat/long location in a series of time steps.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.wtss_ggplot_series(row, colors = "Dark2")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".wtss_ggplot_series_+3A_row">row</code></td>
<td>
<p>A row of a sits tibble with the time series to be plotted.</p>
</td></tr>
<tr><td><code id=".wtss_ggplot_series_+3A_colors">colors</code></td>
<td>
<p>The set of Brewer colors to be used for plotting.</p>
</td></tr>
</table>

<hr>
<h2 id='.wtss_guess_satellite'>Try a best guess for the type of sensor/satellite</h2><span id='topic+.wtss_guess_satellite'></span>

<h3>Description</h3>

<p>Based on resolution, tries to guess what is the satellite.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.wtss_guess_satellite(xres)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".wtss_guess_satellite_+3A_xres">xres</code></td>
<td>
<p>xres of the coverage</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Satellite sensor pair
</p>


<h3>Author(s)</h3>

<p>Gilberto Camara, <a href="mailto:gilberto.camara@inpe.br">gilberto.camara@inpe.br</a>
</p>

<hr>
<h2 id='.wtss_list_coverages'>Retrieves the list of cubes from the URL server</h2><span id='topic+.wtss_list_coverages'></span>

<h3>Description</h3>

<p>Use the WTSS protocol to find out available coverages
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.wtss_list_coverages(URL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".wtss_list_coverages_+3A_url">URL</code></td>
<td>
<p>URL of the WTSS service</p>
</td></tr>
</table>


<h3>Value</h3>

<p>updated WTSS object.
</p>

<hr>
<h2 id='.wtss_parse_json'>Parse a JSON response from the WTSS server</h2><span id='topic+.wtss_parse_json'></span>

<h3>Description</h3>

<p>Parse a JSON response from the WTSS service
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.wtss_parse_json(response)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".wtss_parse_json_+3A_response">response</code></td>
<td>
<p>valid JSON response from the WTSS service</p>
</td></tr>
</table>


<h3>Value</h3>

<p>parsed JSON document
</p>

<hr>
<h2 id='.wtss_process_request'>Process a request to the WTSS server</h2><span id='topic+.wtss_process_request'></span>

<h3>Description</h3>

<p>Process a request
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.wtss_process_request(request)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".wtss_process_request_+3A_request">request</code></td>
<td>
<p>valid request to the WTSS service</p>
</td></tr>
</table>


<h3>Value</h3>

<p>parsed JSON document
</p>

<hr>
<h2 id='.wtss_remove_trailing_dash'>Remove trailing dashes from a WTSS server address</h2><span id='topic+.wtss_remove_trailing_dash'></span>

<h3>Description</h3>

<p>The WTSS URL cannot have a trailing dash. This functions checks
and removes it, if present.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.wtss_remove_trailing_dash(URL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".wtss_remove_trailing_dash_+3A_url">URL</code></td>
<td>
<p>A WTSS URL</p>
</td></tr>
</table>


<h3>Value</h3>

<p>URL without trailing dash
</p>

<hr>
<h2 id='.wtss_send_request'>Send a request to WTSS server</h2><span id='topic+.wtss_send_request'></span>

<h3>Description</h3>

<p>Sends a request to the WTSS server and times out after 10 tries
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.wtss_send_request(request, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".wtss_send_request_+3A_request">request</code></td>
<td>
<p>valid request according to the WTSS protocol</p>
</td></tr>
<tr><td><code id=".wtss_send_request_+3A_...">...</code></td>
<td>
<p>additional parameters that can be added in httr.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>response from the server
</p>

<hr>
<h2 id='.wtss_tibble'>Create a sits tibble to store the time series information</h2><span id='topic+.wtss_tibble'></span>

<h3>Description</h3>

<p>This function returns an empty tibble that
contains the satellite image time series and its metadata. The columns are
&lt;longitude, latitude, start_date, end_date, label, cube, time_series&gt;.
WTSS functions produce a tibble as output.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.wtss_tibble()
</code></pre>


<h3>Value</h3>

<p>A tibble.
</p>


<h3>Author(s)</h3>

<p>Gilberto Camara, <a href="mailto:gilberto.camara@inpe.br">gilberto.camara@inpe.br</a>
</p>

<hr>
<h2 id='.wtss_time_series_processing'>Processing a Time Series Result from WTSS</h2><span id='topic+.wtss_time_series_processing'></span>

<h3>Description</h3>

<p>Processing a Time Series Result from WTSS
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.wtss_time_series_processing(items)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".wtss_time_series_processing_+3A_items">items</code></td>
<td>
<p>Items retrieved from WTSS server</p>
</td></tr>
</table>


<h3>Value</h3>

<p>tibble with a time series
</p>

<hr>
<h2 id='.wtss_to_tibble'>Import time series in the zoo format to a tibble</h2><span id='topic+.wtss_to_tibble'></span>

<h3>Description</h3>

<p>Converts data from an instance of a zoo series to a sits tibble.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.wtss_to_tibble(
  ts,
  name,
  bands,
  longitude,
  latitude,
  start_date,
  end_date,
  cov_desc
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".wtss_to_tibble_+3A_ts">ts</code></td>
<td>
<p>list of time series retrieved by WTSS</p>
</td></tr>
<tr><td><code id=".wtss_to_tibble_+3A_name">name</code></td>
<td>
<p>Name of the coverage where data comes from.</p>
</td></tr>
<tr><td><code id=".wtss_to_tibble_+3A_bands">bands</code></td>
<td>
<p>Bands to be retrieved from the time series.</p>
</td></tr>
<tr><td><code id=".wtss_to_tibble_+3A_longitude">longitude</code></td>
<td>
<p>Longitude of the chosen location.</p>
</td></tr>
<tr><td><code id=".wtss_to_tibble_+3A_latitude">latitude</code></td>
<td>
<p>Latitude of the chosen location.</p>
</td></tr>
<tr><td><code id=".wtss_to_tibble_+3A_start_date">start_date</code></td>
<td>
<p>Starting date of the time series</p>
</td></tr>
<tr><td><code id=".wtss_to_tibble_+3A_end_date">end_date</code></td>
<td>
<p>End date of the time series</p>
</td></tr>
<tr><td><code id=".wtss_to_tibble_+3A_cov_desc">cov_desc</code></td>
<td>
<p>Description of the WTSS coverage</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Time series in sits tibble format.
</p>


<h3>Author(s)</h3>

<p>Gilberto Camara, <a href="mailto:gilberto.camara@inpe.br">gilberto.camara@inpe.br</a>
</p>

<hr>
<h2 id='+25+26gt+3B+25'>Pipe</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>Magrittr compound assignment pipe-operator.
</p>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_lhs">lhs</code>, <code id="+2B25+2B26gt+2B3B+2B25_+3A_rhs">rhs</code></td>
<td>
<p>A visualisation and a function to apply to it.</p>
</td></tr>
</table>

<hr>
<h2 id='describe_coverage'>Retrieves the list of cubes from the URL server</h2><span id='topic+describe_coverage'></span>

<h3>Description</h3>

<p>Contacts the WTSS server to describe one coverage
</p>


<h3>Usage</h3>

<pre><code class='language-R'>describe_coverage(URL, name, .print = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="describe_coverage_+3A_url">URL</code></td>
<td>
<p>URL of the server</p>
</td></tr>
<tr><td><code id="describe_coverage_+3A_name">name</code></td>
<td>
<p>name of coverage</p>
</td></tr>
<tr><td><code id="describe_coverage_+3A_.print">.print</code></td>
<td>
<p>Print the coverage description</p>
</td></tr>
</table>


<h3>Value</h3>

<p>tibble with coverage description
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Using external server 
describe_coverage("https://brazildatacube.dpi.inpe.br/wtss/", 
                  "LC8_30_16D_STK-1")

## End(Not run)
</code></pre>

<hr>
<h2 id='list_coverages'>List the coverages available in the WTSS service</h2><span id='topic+list_coverages'></span>

<h3>Description</h3>

<p>Lists coverages available in the WTSS service
</p>


<h3>Usage</h3>

<pre><code class='language-R'>list_coverages(URL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="list_coverages_+3A_url">URL</code></td>
<td>
<p>URL of the server</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector with coverage name
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Using external server 
list_coverages("https://brazildatacube.dpi.inpe.br/wtss/")

## End(Not run)
</code></pre>

<hr>
<h2 id='ndvi_ts'>Example time series from MOD13Q1 product.</h2><span id='topic+ndvi_ts'></span>

<h3>Description</h3>

<p>A dataset containing a wtss tibble, with extracted time series.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("ndvi_ts")
</code></pre>


<h3>Format</h3>

<p>A <code>wtss</code> tibble with 388 samples. A <code>wtss</code> tibble contains 
data and metadata. The first six columns contain the metadata: satellite, 
sensor, spatial and temporal information, and the coverage from where the 
data has been extracted. The spatial location is given in longitude and 
latitude coordinates for the &quot;WGS84&quot; ellipsoid. The 'time_series' column 
contains the time series data for each spatiotemporal location.
</p>

<hr>
<h2 id='plot'>Generic interface for ploting time series</h2><span id='topic+plot'></span><span id='topic+plot.wtss'></span>

<h3>Description</h3>

<p>Given a tibble with a set of time series, plot them.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'wtss'
plot(x, y, ..., colors = "Dark2")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_+3A_x">x</code></td>
<td>
<p>object of class &quot;wtss&quot;</p>
</td></tr>
<tr><td><code id="plot_+3A_y">y</code></td>
<td>
<p>ignored</p>
</td></tr>
<tr><td><code id="plot_+3A_...">...</code></td>
<td>
<p>further specifications for <a href="#topic+plot">plot</a>.</p>
</td></tr>
<tr><td><code id="plot_+3A_colors">colors</code></td>
<td>
<p>Color pallete to be used (based on Color Brewer - 
default is &quot;Dark2&quot;).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Input  tibble (useful for chaining functions).
</p>


<h3>Author(s)</h3>

<p>Gilberto Camara, <a href="mailto:gilberto.camara@inpe.br">gilberto.camara@inpe.br</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Access to external service
# Read one time series from the WTSS server
# plot one time series
wtss_service &lt;- "https://brazildatacube.dpi.inpe.br/wtss/"
ts   &lt;- Rwtss::time_series(
                wtss_service, 
                name = "MOD13Q1-6", 
                attributes = c("NDVI","EVI"), 
                longitude = -45.00, 
                latitude  = -12.00,
                start_date = "2000-02-18", 
                end_date = "2016-12-18",
                token = "YOUR-BDC-TOKEN")
plot(ts)

## End(Not run)
</code></pre>

<hr>
<h2 id='Rwtss-package'>Rwtss</h2><span id='topic+Rwtss-package'></span><span id='topic+_PACKAGE'></span><span id='topic+Rwtss'></span>

<h3>Description</h3>

<p>An R client to the web time series service (WTSS)
</p>


<h3>Rwtss API</h3>

<p>Implements an R interface to a web time series service (WTSS) 
that offers time series of remote sensing data using a simple API. 
A WTSS server takes as input an Earth observation data cube, 
that has a spatial and a temporal dimension 
and can be multidimensional in terms of its attributes.
</p>
<p>The WTSS API has four commands: 
</p>

<ul>
<li><p> 'wtss': given an URL, creates a connection to a WTSS service
</p>
</li>
<li><p> 'list_coverages': returns a list of coverages (cubes) available 
in the WTSS server.
</p>
</li>
<li><p> 'describe_coverage': returns the metadata for a given coverage.
</p>
</li>
<li><p> 'time_series': returns a time series for a spatio-temporal location.
</p>
</li></ul>



<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Felipe Souza <a href="mailto:lipecaso@gmail.com">lipecaso@gmail.com</a>
</p>
<p>Authors:
</p>

<ul>
<li><p> Gilberto Queiroz <a href="mailto:gilberto.queiroz@inpe.br">gilberto.queiroz@inpe.br</a> (<a href="https://orcid.org/0000-0001-7534-0219">ORCID</a>)
</p>
</li>
<li><p> Gilberto Camara <a href="mailto:gilberto.camara@inpe.br">gilberto.camara@inpe.br</a> (<a href="https://orcid.org/0000-0002-3681-487X">ORCID</a>)
</p>
</li>
<li><p> Pedro Andrade <a href="mailto:pedro.andrade@inpe.br">pedro.andrade@inpe.br</a> (<a href="https://orcid.org/0000-0001-8675-4046">ORCID</a>)
</p>
</li>
<li><p> Luiz Assis <a href="mailto:luiz.assis@inpe.br">luiz.assis@inpe.br</a>
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/e-sensing/Rwtss/">https://github.com/e-sensing/Rwtss/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/e-sensing/Rwtss/issues">https://github.com/e-sensing/Rwtss/issues</a>
</p>
</li></ul>


<hr>
<h2 id='time_series'>Get time series</h2><span id='topic+time_series'></span>

<h3>Description</h3>

<p>Retrieves the time series for a pair of coordinates
</p>


<h3>Usage</h3>

<pre><code class='language-R'>time_series(
  URL,
  name,
  attributes = NULL,
  longitude,
  latitude,
  start_date = NULL,
  end_date = NULL,
  token = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="time_series_+3A_url">URL</code></td>
<td>
<p>URL of the server</p>
</td></tr>
<tr><td><code id="time_series_+3A_name">name</code></td>
<td>
<p>Coverage name.</p>
</td></tr>
<tr><td><code id="time_series_+3A_attributes">attributes</code></td>
<td>
<p>Vector of band names.</p>
</td></tr>
<tr><td><code id="time_series_+3A_longitude">longitude</code></td>
<td>
<p>Longitude in WGS84 coordinate system.</p>
</td></tr>
<tr><td><code id="time_series_+3A_latitude">latitude</code></td>
<td>
<p>Latitude in WGS84 coordinate system.</p>
</td></tr>
<tr><td><code id="time_series_+3A_start_date">start_date</code></td>
<td>
<p>Start date in the format yyyy-mm-dd or yyyy-mm 
depending on the coverage.</p>
</td></tr>
<tr><td><code id="time_series_+3A_end_date">end_date</code></td>
<td>
<p>End date in the format yyyy-mm-dd or yyyy-mm 
depending on the coverage.</p>
</td></tr>
<tr><td><code id="time_series_+3A_token">token</code></td>
<td>
<p>A character with token to be add in URL.</p>
</td></tr>
<tr><td><code id="time_series_+3A_...">...</code></td>
<td>
<p>Additional parameters that can be added in httr.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>time series in a tibble format (NULL)
</p>


<h3>Author(s)</h3>

<p>Gilberto Camara
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# connect to a WTSS server
wtss_server &lt;- "https://brazildatacube.dpi.inpe.br/wtss/"
# retrieve a time series
ndvi_ts &lt;- Rwtss::time_series(wtss_server, 
                              "LC8_30_16D_STK-1", 
                              attributes = "NDVI", 
                              latitude = -14.31, 
                              longitude = -51.16,
                              token = "YOUR-BDC-TOKEN")
# plot the time series
plot(ndvi_ts)

## End(Not run)
</code></pre>

<hr>
<h2 id='wtss_to_ts'>Export data to be used to the ts format</h2><span id='topic+wtss_to_ts'></span>

<h3>Description</h3>

<p>Converts data from a wtss tibble to a time series &quot;ts&quot;.
A WTSS tibble contains data retrieved from a WTSS server. 
These data sets are time series with irregular intervals. Given that
of many functions that use the R &quot;ts&quot; format, this function converts 
a time series (a tibble with data and metadata) to the &quot;ts&quot; format. 
Since  &quot;ts&quot; requires regular time series, it interpolates 
the original irregular time series to a regular time series. To do this, the 
user needs to specify a period which is recognised by the &quot;ts&quot; format. 
This period can be either &quot;month&quot;, &quot;week&quot;, &quot;day&quot;, 
&quot;months&quot;, &quot;weeks&quot;, &quot;days&quot; or
12, 52, 365. This function creates a new time series with the required 
frequency and intepolates the missing values using spline interpolation 
from the &quot;zoo&quot; package (zoo::na.spline).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wtss_to_ts(data, band = NULL, period = "week")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="wtss_to_ts_+3A_data">data</code></td>
<td>
<p>A sits tibble with time series.</p>
</td></tr>
<tr><td><code id="wtss_to_ts_+3A_band">band</code></td>
<td>
<p>Name of the band to be exported 
(optional if series has only one band)</p>
</td></tr>
<tr><td><code id="wtss_to_ts_+3A_period">period</code></td>
<td>
<p>One of c(&quot;month&quot;, &quot;week&quot;, &quot;day&quot;), 
c(&quot;months&quot;, &quot;weeks&quot;, &quot;days&quot;) or
c(12, 52, 365)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A time series in the ts format.
</p>


<h3>Author(s)</h3>

<p>Gilberto Camara, <a href="mailto:gilberto.camara@inpe.br">gilberto.camara@inpe.br</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# connect to a WTSS server
wtss_service &lt;- "https://brazildatacube.dpi.inpe.br/wtss/"
# retrieve a time series
ts_wtss  &lt;- Rwtss::time_series(
                 wtss_service,
                 "MOD13Q1-6", 
                 c("NDVI","EVI"),
                 longitude = -45.00, 
                 latitude  = -12.00,
                 start_date = "2000-02-18", 
                 end_date = "2016-12-18",
                 token = "YOUR-BDC-TOKEN")
# convert to ts
ts &lt;- Rwtss::wtss_to_ts(ts_wtss, band = "NDVI")

## End(Not run)
</code></pre>

<hr>
<h2 id='wtss_to_zoo'>Export data to be used to the zoo format</h2><span id='topic+wtss_to_zoo'></span>

<h3>Description</h3>

<p>Converts data from a tibble to a list of a zoo series.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wtss_to_zoo(data, band = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="wtss_to_zoo_+3A_data">data</code></td>
<td>
<p>A tibble with time series.</p>
</td></tr>
<tr><td><code id="wtss_to_zoo_+3A_band">band</code></td>
<td>
<p>Name of the band to be exported 
(if NULL all bands are exported).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List of time series in zoo format.
</p>


<h3>Author(s)</h3>

<p>Gilberto Camara, <a href="mailto:gilberto.camara@inpe.br">gilberto.camara@inpe.br</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# retrieve a time series
wtss_service &lt;- "https://brazildatacube.dpi.inpe.br/wtss/"
ts_wtss  &lt;- Rwtss::time_series(
                 wtss_service,
                 "MOD13Q1-6", 
                 c("NDVI","EVI"),
                 longitude = -45.00, 
                 latitude  = -12.00,
                 start_date = "2000-02-18", 
                 end_date = "2016-12-18",
                 token = "YOUR-BDC-TOKEN")
# convert to zoo
zoo.lst &lt;- Rwtss::wtss_to_zoo(ts_wtss)

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package gtrendsR</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {gtrendsR}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#categories'><p>Google Trends categories.</p></a></li>
<li><a href='#countries'><p>Word countries ISO code.</p></a></li>
<li><a href='#gtrends'><p>Google Trends Query</p></a></li>
<li><a href='#plot.gtrends'><p>Plot Google Trends interest over time</p></a></li>
<li><a href='#setHandleParameters'><p>If <code>gtrends</code> should be used behind a proxy, especially with NTLM</p>
authentication mode, you need to set the proxy parameters and credentials
using &quot;setHandleParameters&quot; function</a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Perform and Display Google Trends Queries</td>
</tr>
<tr>
<td>Version:</td>
<td>1.5.1</td>
</tr>
<tr>
<td>Description:</td>
<td>An interface for retrieving and displaying the information
        returned online by Google Trends is provided. Trends (number of
        hits) over the time as well as geographic representation of the
        results can be displayed.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/PMassicotte/gtrendsR/issues">https://github.com/PMassicotte/gtrendsR/issues</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/PMassicotte/gtrendsR">https://github.com/PMassicotte/gtrendsR</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>LazyData:</td>
<td>yes</td>
</tr>
<tr>
<td>Imports:</td>
<td>ggplot2, jsonlite, anytime, curl</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.0</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, tinytest</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-05-23 16:15:00 UTC; filoche</td>
</tr>
<tr>
<td>Author:</td>
<td>Philippe Massicotte [aut, cre],
  Dirk Eddelbuettel [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Philippe Massicotte &lt;pmassicotte@hotmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-05-23 16:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='categories'>Google Trends categories.</h2><span id='topic+categories'></span>

<h3>Description</h3>


<ul>
<li><p> name  Names of the categories
</p>
</li>
<li><p> id IDs of the categories
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>data("categories")
</code></pre>


<h3>Format</h3>

<p>A data frame with 1426 rows and 2 variables
</p>

<hr>
<h2 id='countries'>Word countries ISO code.</h2><span id='topic+countries'></span>

<h3>Description</h3>


<ul>
<li><p> country_code  Two-digits country codes
</p>
</li>
<li><p> description Description of the location
</p>
</li>
<li><p> sub_code ISO3166-2 country codes
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>data("countries")
</code></pre>


<h3>Format</h3>

<p>A data frame with 117293 rows and 3 variables
</p>


<h3>References</h3>

<p><a href="https://www.unece.org/cefact/codesfortrade/codes_index.html">https://www.unece.org/cefact/codesfortrade/codes_index.html</a>
</p>

<hr>
<h2 id='gtrends'>Google Trends Query</h2><span id='topic+gtrends'></span>

<h3>Description</h3>

<p>The <code>gtrends</code> default method performs a Google Trends query for the
&lsquo;query&rsquo; argument and session &lsquo;session&rsquo;. Optional arguments for
geolocation and category can also be supplied.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gtrends(
  keyword = NA,
  geo = "",
  time = "today+5-y",
  gprop = c("web", "news", "images", "froogle", "youtube"),
  category = 0,
  hl = "en-US",
  compared_breakdown = FALSE,
  low_search_volume = FALSE,
  cookie_url = "http://trends.google.com/Cookies/NID",
  tz = 0,
  onlyInterest = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="gtrends_+3A_keyword">keyword</code></td>
<td>
<p>A character vector with the actual Google Trends query
keywords. Multiple keywords are possible using <code>gtrends(c("NHL",
"NBA", "MLB", "MLS"))</code>.</p>
</td></tr>
<tr><td><code id="gtrends_+3A_geo">geo</code></td>
<td>
<p>A character vector denoting geographic regions for the query,
default to &ldquo;all&rdquo; for global queries. Multiple regions are possible
using <code>gtrends("NHL", c("CA", "US"))</code>.</p>
</td></tr>
<tr><td><code id="gtrends_+3A_time">time</code></td>
<td>
<p>A string specifying the time span of the query. Possible values
are:
</p>
 <dl>
<dt>&quot;now 1-H&quot;</dt><dd><p>Last hour</p>
</dd> <dt>&quot;now 4-H&quot;</dt><dd><p>Last four hours</p>
</dd>
<dt>&quot;now 1-d&quot;</dt><dd><p>Last day</p>
</dd> <dt>&quot;now 7-d&quot;</dt><dd><p>Last seven days</p>
</dd> <dt>&quot;today
1-m&quot;</dt><dd><p>Past 30 days</p>
</dd> <dt>&quot;today 3-m&quot;</dt><dd><p>Past 90 days</p>
</dd> <dt>&quot;today
12-m&quot;</dt><dd><p>Past 12 months</p>
</dd> <dt>&quot;today+5-y&quot;</dt><dd><p>Last five years (default)</p>
</dd>
<dt>&quot;all&quot;</dt><dd><p>Since the beginning of Google Trends (2004)</p>
</dd> <dt>&quot;Y-m-d
Y-m-d&quot;</dt><dd><p>Time span between two dates (ex.: &quot;2010-01-01 2010-04-03&quot;)</p>
</dd> </dl>
</td></tr>
<tr><td><code id="gtrends_+3A_gprop">gprop</code></td>
<td>
<p>A character string defining the Google product for which the
trend query if preformed. Valid options are:
</p>
 <ul>
<li><p> &quot;web&quot; (default) </p>
</li>
<li><p> &quot;news&quot; </p>
</li>
<li><p> &quot;images&quot; </p>
</li>
<li><p> &quot;froogle&quot;
</p>
</li>
<li><p> &quot;youtube&quot; </p>
</li></ul>
</td></tr>
<tr><td><code id="gtrends_+3A_category">category</code></td>
<td>
<p>A character denoting the category, defaults to &ldquo;0&rdquo;.</p>
</td></tr>
<tr><td><code id="gtrends_+3A_hl">hl</code></td>
<td>
<p>A string specifying the ISO language code (ex.: &ldquo;en-US&rdquo; or
&ldquo;fr&rdquo;). Default is &ldquo;en-US&rdquo;. Note that this is only influencing
the data returned by related topics.</p>
</td></tr>
<tr><td><code id="gtrends_+3A_compared_breakdown">compared_breakdown</code></td>
<td>
<p>Logical. Should compare breakdown the results by
city and subregion? Can only be used if one 'geo' is used conjointly with
more than one keyword. If 'TRUE', then the relative hits across the
keywords will be returned. 'FALSE' by default.</p>
</td></tr>
<tr><td><code id="gtrends_+3A_low_search_volume">low_search_volume</code></td>
<td>
<p>Logical. Should include low search volume regions?</p>
</td></tr>
<tr><td><code id="gtrends_+3A_cookie_url">cookie_url</code></td>
<td>
<p>A string specifying the URL from which to obtain cookies.
Default should work in general; should only be changed by advanced users.</p>
</td></tr>
<tr><td><code id="gtrends_+3A_tz">tz</code></td>
<td>
<p>A number specifying the minutes the returned dates should be offset
to UTC. Note the parameter 'time' above is specified in UTC. E.g. choosing
&quot;time=2018-01-01T01 2018-01-01T03&quot; and &quot;tz=-120&quot; will yield data between
2018-01-01T03 and 2018-01-01T05, i.e. data specified to be in UTC+2.</p>
</td></tr>
<tr><td><code id="gtrends_+3A_onlyinterest">onlyInterest</code></td>
<td>
<p>If you only want the interest over time set it to TRUE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class &lsquo;gtrends&rsquo; (basically a list of data
frames).
</p>


<h3>Categories</h3>

<p>The package includes a complete list of categories that
can be used to narrow requests. These can be accessed using
<code>data("categories")</code>.
</p>


<h3>Related topics</h3>

<p>Note that *related topics* are not retrieved when
more than one keyword is provided due to Google restriction.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

head(gtrends("NHL")$interest_over_time)
head(gtrends("NHL")$related_topics)
head(gtrends("NHL")$related_queries)

head(gtrends(c("NHL", "NFL"))$interest_over_time)

head(gtrends(c("NHL", "NFL"), geo = c("CA", "US"))$interest_over_time)

## Interest by city

gtrends(keyword = "obama", geo = "US-AL-630")

## Sport category (20)
data(categories)
categories[grepl("^Sport", categories$name), ]
gtrends(c("NHL", "NFL"), geo = c("CA", "US"), category = 20)
gtrends(geo = c("CA"), category = 20)

## Playing with time format

gtrends(c("NHL", "NFL"), time = "now 1-H") # last hour
gtrends(c("NHL", "NFL"), time = "now 4-H") # last four hours
gtrends(c("NHL", "NFL"), time = "now 1-d") # last day
gtrends(c("NHL", "NFL"), time = "today 1-m") # last 30 days
gtrends(c("NHL", "NFL"), time = "today 3-m") # last 90 days
gtrends(c("NHL", "NFL"), time = "today 12-m") # last 12 months
gtrends(c("NHL", "NFL"), time = "today+5-y") # last five years (default)
gtrends(c("NHL", "NFL"), time = "all") # since 2004

## Custom date format

gtrends(c("NHL", "NFL"), time = "2010-01-01 2010-04-03")

## Search from various Google's services

head(gtrends(c("NHL", "NFL"), gprop = "news")$interest_over_time)
head(gtrends(c("NHL", "NFL"), gprop = "youtube")$interest_over_time)

## Language settings

head(gtrends("NHL", hl = "en")$related_topics)
head(gtrends("NHL", hl = "fr")$related_topics)

## Compared breakdown
head(gtrends(keyword = c("nhl", "nba"), geo = "CA", compared_breakdown = FALSE)$interest_by_region)
head(gtrends(keyword = c("nhl", "nba"), geo = "CA", compared_breakdown = TRUE)$interest_by_region)

## End(Not run)
</code></pre>

<hr>
<h2 id='plot.gtrends'>Plot Google Trends interest over time</h2><span id='topic+plot.gtrends'></span>

<h3>Description</h3>

<p>Plot Google Trends interest over time
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'gtrends'
plot(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot.gtrends_+3A_x">x</code></td>
<td>
<p>A <code><a href="#topic+gtrends">gtrends</a></code> object.</p>
</td></tr>
<tr><td><code id="plot.gtrends_+3A_...">...</code></td>
<td>
<p>Additional parameters passed on in method dispatch. Currently not
used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot2 object is returned silently.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
res &lt;- gtrends("nhl", geo = c("CA", "US"))
plot(res)

## End(Not run)
</code></pre>

<hr>
<h2 id='setHandleParameters'>If <code>gtrends</code> should be used behind a proxy, especially with NTLM
authentication mode, you need to set the proxy parameters and credentials
using &quot;setHandleParameters&quot; function</h2><span id='topic+setHandleParameters'></span>

<h3>Description</h3>

<p>If <code>gtrends</code> should be used behind a proxy, especially with NTLM
authentication mode, you need to set the proxy parameters and credentials
using &quot;setHandleParameters&quot; function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setHandleParameters(
  user = NULL,
  password = NULL,
  domain = NULL,
  proxyhost = NULL,
  proxyport = 8080,
  proxyauth = 15,
  extra_curl_opts = list()
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="setHandleParameters_+3A_user">user</code></td>
<td>
<p>A string specifying your username</p>
</td></tr>
<tr><td><code id="setHandleParameters_+3A_password">password</code></td>
<td>
<p>A string specifying your password</p>
</td></tr>
<tr><td><code id="setHandleParameters_+3A_domain">domain</code></td>
<td>
<p>A string specifying the authentication domain</p>
</td></tr>
<tr><td><code id="setHandleParameters_+3A_proxyhost">proxyhost</code></td>
<td>
<p>A string specifying the Proxy host DNS or IP address</p>
</td></tr>
<tr><td><code id="setHandleParameters_+3A_proxyport">proxyport</code></td>
<td>
<p>A numeric specifying the Proxy Port : 8080 (default)</p>
</td></tr>
<tr><td><code id="setHandleParameters_+3A_proxyauth">proxyauth</code></td>
<td>
<p>A numeric specifying the Proxy Authentication Method : 0 for
NONE 1 for BASIC 2 for DIGEST 4 for NEGOTIATE 8 for NTLM 15 for ANY
(default)</p>
</td></tr>
<tr><td><code id="setHandleParameters_+3A_extra_curl_opts">extra_curl_opts</code></td>
<td>
<p>A list of additional named options to pass into
curl::handle_setopt(), e.g. list(timeout=60)</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(gtrendsR)

setHandleParameters(
  user = "xxxx",
  password = "*******",
  domain = "mydomain",
  proxyhost = "10.111.124.113"
)

res &lt;- gtrends(c("nhl", "nba"), geo = c("CA", "US"))

# include additional curl options
setHandleParameters(
  user = "xxxx",
  password = "*******",
  domain = "mydomain",
  proxyhost = "10.111.124.113",
  extra_curl_opts = list(timeout = 60)
)

## End(Not run)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

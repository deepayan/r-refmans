<!DOCTYPE html><html><head><title>Help for package ONEST</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ONEST}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#empirical'><p>Precomputed dataset</p></a></li>
<li><a href='#NCCN_22c3_t'><p>Example dataset5</p></a></li>
<li><a href='#NCCN_sp142'><p>Example dataset3</p></a></li>
<li><a href='#NCCN_sp142_t'><p>Example dataset4</p></a></li>
<li><a href='#ONEST'><p>The R ONEST package</p></a></li>
<li><a href='#ONEST_inflation_test'><p>The ONEST_inflation_test</p></a></li>
<li><a href='#ONEST_main'><p>ONEST main function</p></a></li>
<li><a href='#ONEST_vignettes'><p>ONEST vignettes function</p></a></li>
<li><a href='#plotline'><p>Plotline</p></a></li>
<li><a href='#sp142_bin'><p>Example dataset1</p></a></li>
<li><a href='#sp263_bin'><p>Example dataset2</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Observers Needed to Evaluate Subjective Tests</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Author:</td>
<td>Gang Han [aut, cre],
  Baihong Guo [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Gang Han &lt;hangang.true@gmail.com&gt;</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/hangangtrue/ONEST">https://github.com/hangangtrue/ONEST</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/hangangtrue/ONEST/issues">https://github.com/hangangtrue/ONEST/issues</a></td>
</tr>
<tr>
<td>Description:</td>
<td>
    This ONEST software implements the method of assessing the pathologist agreement in reading PD-L1 assays (Reisenbichler et al. (2020 &lt;<a href="https://doi.org/10.1038%2Fs41379-020-0544-x">doi:10.1038/s41379-020-0544-x</a>&gt;)), to determine the minimum number of evaluators needed to estimate agreement involving a large number of raters. Input to the program should be binary(1/0) pathology data, where “0” may stand for negative and “1” for positive. Additional examples were given using the data from Rimm et al. (2017 &lt;<a href="https://doi.org/10.1001%2Fjamaoncol.2017.0013">doi:10.1001/jamaoncol.2017.0013</a>&gt;). </td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-07-26 18:57:46 UTC; rager</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-07-26 19:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='empirical'>Precomputed dataset</h2><span id='topic+empirical'></span>

<h3>Description</h3>

<p>A precomputed dataset only used by the ONEST_vignettes function to create the vignettes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data('empirical')
</code></pre>


<h3>Details</h3>


<ul>
<li><p> columns : different permutations
</p>
</li>
<li><p> rows : agreement percentage
</p>
</li></ul>


<hr>
<h2 id='NCCN_22c3_t'>Example dataset5</h2><span id='topic+NCCN_22c3_t'></span>

<h3>Description</h3>

<p>NCCN 22c3 tumor data from Rimm et al. (2017) used to illustrate the ONEST method.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data('NCCN_22c3_t')
</code></pre>


<h3>Details</h3>


<ul>
<li><p> columns : different raters
</p>
</li>
<li><p> rows : different cases
</p>
</li></ul>



<h3>References</h3>

<p>[1] Rimm DL, Han G, Taube JM, Yi ES, Bridge JA, Flieder DB, et al. A Prospective, Multi-institutional, Pathologist-Based Assessment of 4 Immunohistochemistry Assays for PD-L1 Expression in Non-Small Cell Lung Cancer. JAMA Oncol. 2017;3(8):1051-8, DOI: 10.1001/jamaoncol.2017.0013, PMID: 28278348.
</p>

<hr>
<h2 id='NCCN_sp142'>Example dataset3</h2><span id='topic+NCCN_sp142'></span>

<h3>Description</h3>

<p>NCCN SP142 stromal data from Rimm et al. (2017) used to illustrate the ONEST method.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data('NCCN_sp142')
</code></pre>


<h3>Details</h3>


<ul>
<li><p> columns : different raters
</p>
</li>
<li><p> rows : different cases
</p>
</li></ul>



<h3>References</h3>

<p>[1] Rimm DL, Han G, Taube JM, Yi ES, Bridge JA, Flieder DB, et al. A Prospective, Multi-institutional, Pathologist-Based Assessment of 4 Immunohistochemistry Assays for PD-L1 Expression in Non-Small Cell Lung Cancer. JAMA Oncol. 2017;3(8):1051-8, DOI: 10.1001/jamaoncol.2017.0013, PMID: 28278348.
</p>

<hr>
<h2 id='NCCN_sp142_t'>Example dataset4</h2><span id='topic+NCCN_sp142_t'></span>

<h3>Description</h3>

<p>NCCN SP142 tumor data from Rimm et al. (2017) used to illustrate the ONEST method.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data('NCCN_sp142_t')
</code></pre>


<h3>Details</h3>


<ul>
<li><p> columns : different raters
</p>
</li>
<li><p> rows : different cases
</p>
</li></ul>



<h3>References</h3>

<p>[1] Rimm DL, Han G, Taube JM, Yi ES, Bridge JA, Flieder DB, et al. A Prospective, Multi-institutional, Pathologist-Based Assessment of 4 Immunohistochemistry Assays for PD-L1 Expression in Non-Small Cell Lung Cancer. JAMA Oncol. 2017;3(8):1051-8, DOI: 10.1001/jamaoncol.2017.0013, PMID: 28278348.
</p>

<hr>
<h2 id='ONEST'>The R ONEST package</h2><span id='topic+ONEST'></span>

<h3>Description</h3>

<p>The ONEST software implements a statistical method in Reisenbichler et al. (2020[1]), to determine the minimum number of evaluators needed to estimate agreement involving a large number of raters. This method could be utilized by regulatory agencies, such as the FDA, when evaluating agreement levels of a newly proposed subjective laboratory test. Input to the program should be binary(1/0) pathology data, where “0” may stand for negative and “1” for positive. The example datasets in this software are from Rimm et al. (2017[2]) (the SP142 assay), and Reisenbichler et al. 2020. This program can run in R version 3.5.0 and above.
</p>


<h3>References</h3>

<p>[1] Reisenbichler ES, Han G, Bellizzi A, Bossuyt V, Brock J, Cole K, et al. Prospective multi-institutional evaluation of pathologist assessment of PD-L1 assays for patient selection in triple negative breast cancer. Mod Pathol. 2020, DOI: 10.1038/s41379-020-0544-x; PMID: 32300181.
</p>
<p>[2] Rimm DL, Han G, Taube JM, Yi ES, Bridge JA, Flieder DB, et al. A Prospective, Multi-institutional, Pathologist-Based Assessment of 4 Immunohistochemistry Assays for PD-L1 Expression in Non-Small Cell Lung Cancer. JAMA Oncol. 2017;3(8):1051-8, DOI: 10.1001/jamaoncol.2017.0013, PMID: 28278348.
</p>

<hr>
<h2 id='ONEST_inflation_test'>The ONEST_inflation_test</h2><span id='topic+ONEST_inflation_test'></span>

<h3>Description</h3>

<p>This function uses the binary (0/1) pathology data to test if the agreement proportion will converge to 0 with an increasing number of observers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ONEST_inflation_test(Y)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ONEST_inflation_test_+3A_y">Y</code></td>
<td>
<p>pathology data as a matrix (missing values are allowed)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>p_value: chi-square p-value, a small p-value indicates significant evidence that the observers’ agreement will converge to a non-zero proportion.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("sp263_bin")
ONEST_inflation_test(sp263_bin)
</code></pre>

<hr>
<h2 id='ONEST_main'>ONEST main function</h2><span id='topic+ONEST_main'></span>

<h3>Description</h3>

<p>This is the ONEST main function taking binary (0/1) pathology data as input. This function
utilizes the plotline function to produce the ONEST graphs and estimates.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ONEST_main(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ONEST_main_+3A_data">data</code></td>
<td>
<p>a matrix containing the binary pathology data. Each row is the data from one case, and each column is the data from one rater. Missing values are allowed and can be denoted as NA or left blank. If there are n cases and k raters, the input ‘data’ is a matrix with dimension n by k.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>consist_p: a vector of length k-1, indicating proportion of identical reads among a set of pathologists. For example, the first element of “consist_p” is the estimate of agreement percentage for 2 raters. The k-1 th element is the estimate of agreement percentage for k raters.
</p>
<p>consist_low: a vector of length k-1, indicating the lower bound of the agreement percentage with 95 percent confidence level corresponding to “consist_p”.
</p>
<p>diff_consist: a vector of length k-2, indicating the difference between the consist_p. For example, the first element of “diff_consist” is the estimated difference of agreement percentage after increasing from 2 to 3 raters. The k-2 th element is the difference of agreement percentage after increasing from k-1 to k raters.
</p>
<p>diff_high: a vector of length k-2, indicating the upper bound of the change of agreement percentage corresponding to “diff_consist” with 95 percent confidence level.
</p>
<p>size_case: number of cases n
</p>
<p>size_rater: number of raters k
</p>
<p>p: the probability of of being rated positive among the proportion of ‘1-p_plus-p_minus’ cases.
</p>
<p>p_plus: proportion of the cases rated positive by all raters.
</p>
<p>p_minus: proportion of the cases rated negative by all raters.
</p>
<p>empirical: a matrix of dimension k-1 by 3, including the empirical estimate of the agreement percentage, and the empirical 95 percent confidence intervals (CI) of the agreement percentage with equal tail probabilities on the two sides. The empirical estimate and CI were calculated by permuting the raters with 1000 random permutations, and using the mean, 2.5th percentile, and 97.5th percentile.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("sp142_bin")
ONEST_main(sp142_bin)
</code></pre>

<hr>
<h2 id='ONEST_vignettes'>ONEST vignettes function</h2><span id='topic+ONEST_vignettes'></span>

<h3>Description</h3>

<p>This function is only used to create vignettes. Although it can get the same results from ONEST_main(sp142_bin), it uses some precomputed data to decrease the time to get the results. Therefore, it can only be applied to the sp142_bin dataset. Please use ONEST_main instead.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ONEST_vignettes(data,empirical)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ONEST_vignettes_+3A_data">data</code></td>
<td>
<p>a matrix containing the binary pathology data. Each row is the data from one case, and each column is the data from one rater. Missing values are allowed and can be denoted as NA or left blank. If there are n cases and k raters, the input ‘data’ is a matrix with dimension n by k.</p>
</td></tr>
<tr><td><code id="ONEST_vignettes_+3A_empirical">empirical</code></td>
<td>
<p>a matrix containing data used to plot the empirical confidence intervals for the sp142_bin dataset.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>consist_p: a vector of length k-1, indicating proportion of identical reads among a set of pathologists. For example, the first element of “consist_p” is the estimate of agreement percentage for 2 raters. The k-1 th element is the estimate of agreement percentage for k raters.
</p>
<p>consist_low: a vector of length k-1, indicating the lower bound of the agreement percentage with 95 percent confidence level corresponding to “consist_p”.
</p>
<p>diff_consist: a vector of length k-2, indicating the difference between the consist_p. For example, the first element of “diff_consist” is the estimated difference of agreement percentage after increasing from 2 to 3 raters. The k-2 th element is the difference of agreement percentage after increasing from k-1 to k raters.
</p>
<p>diff_high: a vector of length k-2, indicating the upper bound of the change of agreement percentage corresponding to “diff_consist” with 95 percent confidence level.
</p>
<p>size_case: number of cases n
</p>
<p>size_rater: number of raters k
</p>
<p>p: the probability of of being rated positive among the proportion of ‘1-p_plus-p_minus’ cases.
</p>
<p>p_plus: proportion of the cases rated positive by all raters.
</p>
<p>p_minus: proportion of the cases rated negative by all raters.
</p>
<p>empirical: a matrix of dimension k-1 by 3, including the empirical estimate of the agreement percentage, and the empirical 95 percent confidence intervals (CI) of the agreement percentage with equal tail probabilities on the two sides. The empirical estimate and CI were calculated by permuting the raters with 1000 random permutations, and using the mean, 2.5th percentile, and 97.5th percentile.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data('sp142_bin')
data('empirical')
ONEST_vignettes(sp142_bin,empirical)
</code></pre>

<hr>
<h2 id='plotline'>Plotline</h2><span id='topic+plotline'></span>

<h3>Description</h3>

<p>This function uses the binary (0/1) pathology data to plot the percentage of agreement.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotline(path,indi=1,color="red")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plotline_+3A_path">path</code></td>
<td>
<p>pathology data as a matrix (missing values are allowed)</p>
</td></tr>
<tr><td><code id="plotline_+3A_indi">indi</code></td>
<td>
<p>an indicator; if indi=0: then do not make plot;
indi=1: then make plot, original scale.
Labels on the x and y-axis are on the original scale</p>
</td></tr>
<tr><td><code id="plotline_+3A_color">color</code></td>
<td>
<p>the color used to draw pictures</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A matrix with percentage of agreement from the original scale
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("sp142_bin")
plotline(sp142_bin,1,"red")
</code></pre>

<hr>
<h2 id='sp142_bin'>Example dataset1</h2><span id='topic+sp142_bin'></span>

<h3>Description</h3>

<p>A pathology reads dataset of triple negative breast cancer in Reisenbichler et al. (2020). A value of 0 means negative and a value of 1 means positive.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data('sp142_bin')
</code></pre>


<h3>Details</h3>


<ul>
<li><p> columns : different raters
</p>
</li>
<li><p> rows : different cases
</p>
</li></ul>



<h3>References</h3>

<p>[1] Reisenbichler ES, Han G, Bellizzi A, Bossuyt V, Brock J, Cole K, et al. Prospective multi-institutional evaluation of pathologist assessment of PD-L1 assays for patient selection in triple negative breast cancer. Mod Pathol. 2020, DOI: 10.1038/s41379-020-0544-x; PMID: 32300181.
</p>

<hr>
<h2 id='sp263_bin'>Example dataset2</h2><span id='topic+sp263_bin'></span>

<h3>Description</h3>

<p>A pathology reads dataset of triple negative breast cancer in Reisenbichler et al. (2020). A value of 0 means negative and a value of 1 means positive.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data('sp263_bin')
</code></pre>


<h3>Details</h3>


<ul>
<li><p> columns : different raters
</p>
</li>
<li><p> rows : different cases
</p>
</li></ul>



<h3>References</h3>

<p>[1] Reisenbichler ES, Han G, Bellizzi A, Bossuyt V, Brock J, Cole K, et al. Prospective multi-institutional evaluation of pathologist assessment of PD-L1 assays for patient selection in triple negative breast cancer. Mod Pathol. 2020, DOI: 10.1038/s41379-020-0544-x; PMID: 32300181.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

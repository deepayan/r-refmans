<!DOCTYPE html><html><head><title>Help for package prettyR</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {prettyR}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#add.value.labels'><p>Add value labels</p></a></li>
<li><a href='#AddNav'><p>Add a navigation item (R2html).</p></a></li>
<li><a href='#AddNavItem'><p>Add a navigation item (htmlize).</p></a></li>
<li><a href='#addxtabs'>
<p>Add the cells of two or more xtab objects</p></a></li>
<li><a href='#BeginNav'><p>Write the header for the HTML navigation file (htmlize).</p></a></li>
<li><a href='#brkdn'><p>Breakdown of a numeric variable by grouping variable(s)</p></a></li>
<li><a href='#calculate.xtab'><p>Calculate a crosstabulation</p></a></li>
<li><a href='#CreateIndexFile'><p>Write an index file for the current output (htmlize).</p></a></li>
<li><a href='#createIndxFile'><p>Write an index file for the current output (R2html).</p></a></li>
<li><a href='#decimal.align'>
<p>Turn numbers into strings with aligned decimal points</p></a></li>
<li><a href='#delim.table'><p>Format a 2D table</p></a></li>
<li><a href='#delim.xtab'><p>Format a crosstabulation</p></a></li>
<li><a href='#describe'><p>Description of variables</p></a></li>
<li><a href='#describe.factor'>
<p>Description of factor variables</p></a></li>
<li><a href='#describe.logical'>
<p>Description of logical variables</p></a></li>
<li><a href='#describe.numeric'>
<p>Description of numeric variables</p></a></li>
<li><a href='#EndHTML'><p>End an HTML file (htmlize).</p></a></li>
<li><a href='#freq'><p>Calculate a frequency table</p></a></li>
<li><a href='#HTMLgraph'><p>Create a graphic in HTML output (R2html).</p></a></li>
<li><a href='#htmlize'><p>Read an R script and write HTML output</p></a></li>
<li><a href='#Mode'>
<p>Find the modal value</p></a></li>
<li><a href='#print.desc'><p>Display descriptive stats output</p></a></li>
<li><a href='#print.freq'><p>Display frequency table(s)</p></a></li>
<li><a href='#print.xtab'><p>Display a 2D crosstabulation</p></a></li>
<li><a href='#R2html'><p>Read an R script and write HTML output</p></a></li>
<li><a href='#rep_n_stack'>
<p>Replicate and stack columns of a data frame</p></a></li>
<li><a href='#skew'>
<p>Calculate the skew of a distribution.</p></a></li>
<li><a href='#StartList'><p>Write the header for the HTML listing file (htmlize).</p></a></li>
<li><a href='#StartNav'><p>Write the header for the HTML navigation file (R2html).</p></a></li>
<li><a href='#stretch_df'>
<p>Reshape a data frame from &quot;long&quot; to &quot;wide&quot; format</p></a></li>
<li><a href='#toNA'><p>Set specified values in an object to NA</p></a></li>
<li><a href='#truncString'>
<p>Truncate strings and add ellipses if a string is truncated.</p></a></li>
<li><a href='#valid.n'>
<p>Find the number of valid (not NA) values</p></a></li>
<li><a href='#xtab'><p>Crosstabulate variables</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Version:</td>
<td>2.2-3</td>
</tr>
<tr>
<td>Title:</td>
<td>Pretty Descriptive Stats</td>
</tr>
<tr>
<td>Date:</td>
<td>2019-04-08</td>
</tr>
<tr>
<td>Author:</td>
<td>Jim Lemon &lt;drjimlemon@gmail.com&gt;,
 Philippe Grosjean &lt;phgrosjean@sciviews.org&gt;</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jim Lemon &lt;drjimlemon@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Functions for conventionally formatting descriptive stats,
 reshaping data frames and formatting R output as HTML.</td>
</tr>
<tr>
<td>Imports:</td>
<td>grDevices, stats, utils</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2019-04-08 03:30:00 UTC; root</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2019-04-09 05:10:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='add.value.labels'>Add value labels</h2><span id='topic+add.value.labels'></span>

<h3>Description</h3>

<p>Adds value labels to a variable.</p>


<h3>Usage</h3>

<pre><code class='language-R'> add.value.labels(x,value.labels)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add.value.labels_+3A_x">x</code></td>
<td>
<p>The variable to add the labels.</p>
</td></tr>
<tr><td><code id="add.value.labels_+3A_value.labels">value.labels</code></td>
<td>
<p>The labels.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>&lsquo;<span class="samp">&#8288;add.value.labels&#8288;</span>&rsquo; adds value labels like those from an SPSS .sav file.
It makes it a bit easier to stick on value labels that have been lost or were
not there in the first place.</p>


<h3>Value</h3>

<p>The variable with the labels added.</p>


<h3>Author(s)</h3>

<p>Jim Lemon</p>


<h3>Examples</h3>

<pre><code class='language-R'> fgh&lt;-data.frame(sex=sample(1:2,20,TRUE),viviality=sample(1:3,20,TRUE))
 fgh$sex&lt;-add.value.labels(fgh$sex,c("Female","Male"))
 fgh$viviality&lt;-add.value.labels(fgh$viviality,c("Alive","Dead","Zombie"))
</code></pre>

<hr>
<h2 id='AddNav'>Add a navigation item (R2html).</h2><span id='topic+AddNav'></span>

<h3>Description</h3>

<p>Add an item to the HTML navigation file.</p>


<h3>Usage</h3>

<pre><code class='language-R'>AddNav(navcon,Rcommand,listname)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="AddNav_+3A_navcon">navcon</code></td>
<td>
<p>The connection for writing to the navigation file.</p>
</td></tr>
<tr><td><code id="AddNav_+3A_rcommand">Rcommand</code></td>
<td>
<p>The current R command in the script file.</p>
</td></tr>
<tr><td><code id="AddNav_+3A_listname">listname</code></td>
<td>
<p>The name of the listing file.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>&lsquo;<span class="samp">&#8288;AddNav&#8288;</span>&rsquo; adds an entry to the navigation file, generates
a name tag for that entry and returns it to be inserted into the 
listing file. If the <span class="rlang"><b>R</b></span> command is longer than 20 characters, it
is truncated to 18 characters and an ellipsis appended.
</p>


<h3>Value</h3>

<p>The name tag to link the listing to the navigation entry.
</p>


<h3>Author(s)</h3>

<p>Philippe Grosjean</p>

<hr>
<h2 id='AddNavItem'>Add a navigation item (htmlize).</h2><span id='topic+AddNavItem'></span>

<h3>Description</h3>

<p>Add an item to the HTML navigation file.</p>


<h3>Usage</h3>

<pre><code class='language-R'>AddNavItem(Rcommand,navcon,listname,navindex)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="AddNavItem_+3A_rcommand">Rcommand</code></td>
<td>
<p>The current R command in the script file.</p>
</td></tr>
<tr><td><code id="AddNavItem_+3A_navcon">navcon</code></td>
<td>
<p>The connection for writing to the navigation file.</p>
</td></tr>
<tr><td><code id="AddNavItem_+3A_listname">listname</code></td>
<td>
<p>The name of the listing file.</p>
</td></tr>
<tr><td><code id="AddNavItem_+3A_navindex">navindex</code></td>
<td>
<p>The number used to generate the name tag.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>&lsquo;<span class="samp">&#8288;AddNavItem&#8288;</span>&rsquo; adds an entry to the navigation file, generates
a name tag for that entry and returns it to be inserted into the 
listing file. If the <span class="rlang"><b>R</b></span> command is longer than 20 characters, it
is truncated to 18 characters and an ellipsis appended.
</p>


<h3>Value</h3>

<p>The name tag to link the listing to the navigation entry.
</p>


<h3>Author(s)</h3>

<p>Jim Lemon</p>

<hr>
<h2 id='addxtabs'>
Add the cells of two or more xtab objects
</h2><span id='topic+addxtabs'></span>

<h3>Description</h3>

<p>Adds the counts in corresponding cells of xtab objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'> addxtabs(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addxtabs_+3A_x">x</code></td>
<td>
<p>A list containing two or more return values from &lsquo;<span class="samp">&#8288;xtab&#8288;</span>&rsquo;.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>&lsquo;<span class="samp">&#8288;addxtabs&#8288;</span>&rsquo; adds the counts in the cells of two or more &lsquo;<span class="samp">&#8288;xtab&#8288;</span>&rsquo; objects
by matching the row and column names. All of the &lsquo;<span class="samp">&#8288;xtab&#8288;</span>&rsquo; objects in the list
will usually contain counts of the same response options, although some options
may be missing in some tables. This often occurs when respondents do not have to
complete all of the responses (e.g. &quot;for up to three occasions ...&quot;).
</p>
<p>This function facilitates calculating the total counts in crosstabulations that
arise from multiple responses for the options. See the example.
</p>


<h3>Value</h3>

<p>The number of valid values or the length of the object.</p>


<h3>Author(s)</h3>

<p>Jim Lemon</p>


<h3>See Also</h3>

<p><a href="#topic+xtab">xtab</a></p>


<h3>Examples</h3>

<pre><code class='language-R'> # Assume that respondents are asked to record the location and quantity for
 # three occasions of drinking, and for each occasion the fields are named
 # "drinks" and "loc"
 drinkloc&lt;-data.frame(drinks1=sample(c("1-2","3-5","6+"),100,TRUE),
  loc1=sample(c("Meal at home","Restaurant","Party","Pub"),100,TRUE),
  drinks2=sample(c("1-2","3-5","6+"),100,TRUE),
  loc2=sample(c("Meal at home","Restaurant","Party","Pub"),100,TRUE),
  drinks3=sample(c("1-2","3-5"),100,TRUE),
  loc3=sample(c("Meal at home","Restaurant","Party"),100,TRUE))
 # notice how two options have been left out in drink3 and loc3
 # create the list of xtab objects
 dltablist&lt;-list()
 dltablist[[1]]&lt;-xtab(loc1~drinks1,drinkloc)
 dltablist[[2]]&lt;-xtab(loc2~drinks2,drinkloc)
 dltablist[[3]]&lt;-xtab(loc3~drinks3,drinkloc)
 # now sum the corresponding cells
 addxtabs(dltablist)
</code></pre>

<hr>
<h2 id='BeginNav'>Write the header for the HTML navigation file (htmlize).</h2><span id='topic+BeginNav'></span>

<h3>Description</h3>

<p>Initiate the navigation file for an R listing in HTML format.</p>


<h3>Usage</h3>

<pre><code class='language-R'>BeginNav(navcon,bgcolor="#dddddd")</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="BeginNav_+3A_navcon">navcon</code></td>
<td>
<p>The connection for writing to the navigation file.</p>
</td></tr>
<tr><td><code id="BeginNav_+3A_bgcolor">bgcolor</code></td>
<td>
<p>The background color for the navigation frame.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>&lsquo;<span class="samp">&#8288;BeginNav&#8288;</span>&rsquo; sets up the file with the navigation
frame information for the HTML listing for the &lsquo;<span class="samp">&#8288;htmlize&#8288;</span>&rsquo; function.
</p>


<h3>Value</h3>

<p>nil</p>


<h3>Author(s)</h3>

<p>Jim Lemon</p>

<hr>
<h2 id='brkdn'>Breakdown of a numeric variable by grouping variable(s)</h2><span id='topic+brkdn'></span>

<h3>Description</h3>

<p>Calculates means, variances and ns for subgroups of numeric observations and
displays the results.
</p>


<h3>Usage</h3>

<pre><code class='language-R'> brkdn(formula,data,maxlevels=10,num.desc=c("mean","var","valid.n"),
  width=10,round.n=2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="brkdn_+3A_formula">formula</code></td>
<td>
<p>a formula with the variable to be broken down on the left and
the names of one or more variables defining subgroups on the right</p>
</td></tr>
<tr><td><code id="brkdn_+3A_data">data</code></td>
<td>
<p>the data frame from which to select the variables</p>
</td></tr>
<tr><td><code id="brkdn_+3A_maxlevels">maxlevels</code></td>
<td>
<p>the maximum number of levels in any subgroup</p>
</td></tr>
<tr><td><code id="brkdn_+3A_num.desc">num.desc</code></td>
<td>
<p>names of the summary functions to apply to the variable
on the left side of the formula</p>
</td></tr>
<tr><td><code id="brkdn_+3A_width">width</code></td>
<td>
<p>The number of characters to allow for each column in the
summary output.</p>
</td></tr>
<tr><td><code id="brkdn_+3A_round.n">round.n</code></td>
<td>
<p>The number of decimal places to round the output.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>&lsquo;<span class="samp">&#8288;brkdn&#8288;</span>&rsquo; will accept a formula referring to columns in a data frame. 
It calls &lsquo;<span class="samp">&#8288;describe.numeric&#8288;</span>&rsquo; for the calculations and displays a 
table of results.
</p>


<h3>Value</h3>

<p>The results of &lsquo;<span class="samp">&#8288;describe.numeric&#8288;</span>&rsquo;, or a multi-level list if more than 
one grouping variable is specified.</p>


<h3>Author(s)</h3>

<p>Jim Lemon</p>


<h3>See Also</h3>

<p><a href="#topic+describe.numeric">describe.numeric</a></p>


<h3>Examples</h3>

<pre><code class='language-R'> test.df&lt;-data.frame(Age=rnorm(100)+3*10,Sex=sample(c("M","F"),100,TRUE),
  Employ=sample(c("FT","PT","NO"),100,TRUE))
 # add value labels for Employ in alphabetical order so they match
 attr(test.df$Employ,"value.labels")&lt;-c("Full time","None","Part time")
 brkdn(Age~Sex+Employ,test.df)
</code></pre>

<hr>
<h2 id='calculate.xtab'>Calculate a crosstabulation</h2><span id='topic+calculate.xtab'></span>

<h3>Description</h3>

<p>Calculates the marginal totals and names for a crosstabulation.</p>


<h3>Usage</h3>

<pre><code class='language-R'> calculate.xtab(v1,v2,varnames=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calculate.xtab_+3A_v1">v1</code>, <code id="calculate.xtab_+3A_v2">v2</code></td>
<td>
<p>The variables to be crosstabulated.</p>
</td></tr>
<tr><td><code id="calculate.xtab_+3A_varnames">varnames</code></td>
<td>
<p>Labels for the variables (defaults to &lsquo;<span class="samp">&#8288;names(data))&#8288;</span>&rsquo;</p>
</td></tr>
</table>


<h3>Details</h3>

<p>&lsquo;<span class="samp">&#8288;calculate.xtab&#8288;</span>&rsquo; calls &lsquo;<span class="samp">&#8288;table&#8288;</span>&rsquo; for the base table, calculates
the marginal totals and returns a list with these and the names of the
variables that will be used by &lsquo;<span class="samp">&#8288;print.xtab&#8288;</span>&rsquo;.</p>


<h3>Value</h3>

<p>A list containing the value of &lsquo;<span class="samp">&#8288;table&#8288;</span>&rsquo;, the row and column marginals
and the names of the variables.</p>


<h3>Author(s)</h3>

<p>Jim Lemon</p>


<h3>See Also</h3>

<p><a href="base.html#topic+table">table</a>, <a href="#topic+print.xtab">print.xtab</a></p>

<hr>
<h2 id='CreateIndexFile'>Write an index file for the current output (htmlize).</h2><span id='topic+CreateIndexFile'></span>

<h3>Description</h3>

<p>Write an index file for the current HTML output.</p>


<h3>Usage</h3>

<pre><code class='language-R'>CreateIndexFile(HTMLbase,HTMLdir,title="R listing")</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CreateIndexFile_+3A_htmlbase">HTMLbase</code></td>
<td>
<p>The base name for the HTML files.</p>
</td></tr>
<tr><td><code id="CreateIndexFile_+3A_htmldir">HTMLdir</code></td>
<td>
<p>The directory in which to write the HTML files.</p>
</td></tr>
<tr><td><code id="CreateIndexFile_+3A_title">title</code></td>
<td>
<p>The title for the listing.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>&lsquo;<span class="samp">&#8288;CreateIndexFile&#8288;</span>&rsquo; opens a new HTML index file. If there is another
file with the same name, it will be overwritten. This is intentional,
as the user may want to run &lsquo;<span class="samp">&#8288;htmlize&#8288;</span>&rsquo; repeatedly without generating
multiple sets of files. It then writes the frameset definition into the
file and closes it.
</p>


<h3>Value</h3>

<p>nil</p>


<h3>Author(s)</h3>

<p>Jim Lemon</p>

<hr>
<h2 id='createIndxFile'>Write an index file for the current output (R2html).</h2><span id='topic+createIndxFile'></span>

<h3>Description</h3>

<p>Write an index file for the current R2html output.</p>


<h3>Usage</h3>

<pre><code class='language-R'>createIndxFile(HTMLfile,navfile,listfile,title="R listing")</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="createIndxFile_+3A_htmlfile">HTMLfile</code></td>
<td>
<p>The file name for the HTML files.</p>
</td></tr>
<tr><td><code id="createIndxFile_+3A_navfile">navfile</code></td>
<td>
<p>The name for the HTML navigation frame file.</p>
</td></tr>
<tr><td><code id="createIndxFile_+3A_listfile">listfile</code></td>
<td>
<p>The name for the HTML listing file.</p>
</td></tr>
<tr><td><code id="createIndxFile_+3A_title">title</code></td>
<td>
<p>The title for the listing.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>&lsquo;<span class="samp">&#8288;createIndxFile&#8288;</span>&rsquo; opens a new HTML index file. If there is another
file with the same name, it will be overwritten. This is intentional,
as the user may want to run &lsquo;<span class="samp">&#8288;R2html&#8288;</span>&rsquo; repeatedly without generating
multiple sets of files. It then writes the frameset definition into the
file and closes it.
</p>


<h3>Value</h3>

<p>nil</p>


<h3>Author(s)</h3>

<p>Philippe Grosjean</p>

<hr>
<h2 id='decimal.align'>
Turn numbers into strings with aligned decimal points
</h2><span id='topic+decimal.align'></span>

<h3>Description</h3>

<p>Formats decimal numbers as strings with aligned decimal points.
</p>


<h3>Usage</h3>

<pre><code class='language-R'> decimal.align(x,dechar=".",nint=NA,ndec=NA,pad.left=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="decimal.align_+3A_x">x</code></td>
<td>
<p>One or more decimal numbers.</p>
</td></tr>
<tr><td><code id="decimal.align_+3A_dechar">dechar</code></td>
<td>
<p>The character used to separate the decimal part of a number.</p>
</td></tr>
<tr><td><code id="decimal.align_+3A_nint">nint</code></td>
<td>
<p>The number of characters to which the integer part of the
numbers should be padded.</p>
</td></tr>
<tr><td><code id="decimal.align_+3A_ndec">ndec</code></td>
<td>
<p>The number of characters to which the decimal part of the
numbers should be padded.</p>
</td></tr>
<tr><td><code id="decimal.align_+3A_pad.left">pad.left</code></td>
<td>
<p>Whether the left (integer) side of the numbers should be
padded as well as the right.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>&lsquo;<span class="samp">&#8288;decimal.align&#8288;</span>&rsquo; splits the incoming numbers at the decimal point
and pads the decimal part and optionally the integer part so that when
the numbers are displayed in a monospaced font the decimal points will
be aligned. Note that if an integer or a decimal part without an integer
is passed, the function will insert a zero for the missing part.
</p>
<p>This is useful for displaying or storing aligned columns of decimal
numbers when the user does not want to pad the decimal part with zeros
as in the &lsquo;<span class="samp">&#8288;format&#8288;</span>&rsquo; function.
</p>


<h3>Value</h3>

<p>The original numbers as strings, padded with spaces.
</p>


<h3>Author(s)</h3>

<p>Jim Lemon</p>


<h3>See Also</h3>

<p><a href="base.html#topic+sprintf">sprintf</a></p>


<h3>Examples</h3>

<pre><code class='language-R'> x&lt;-c(1,2.3,44.55,666.777)
 decimal.align(x)
</code></pre>

<hr>
<h2 id='delim.table'>Format a 2D table</h2><span id='topic+delim.table'></span>

<h3>Description</h3>

<p>Format a 2D table with delimiters and other formatting commands</p>


<h3>Usage</h3>

<pre><code class='language-R'> delim.table(x,filename="",delim=",",tabegin="",bor="",eor="\n",tablend="",
  label=deparse(substitute(x)),header=NULL,trailer=NULL,html=FALSE,
  show.rownames=TRUE,leading.delim=FALSE,show.all=FALSE,nsignif=4,
  con,open.con=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="delim.table_+3A_x">x</code></td>
<td>
<p>A list, matrix or data frame that is to be formatted.</p>
</td></tr>
<tr><td><code id="delim.table_+3A_filename">filename</code></td>
<td>
<p>Name for a file to which the result will be written.</p>
</td></tr>
<tr><td><code id="delim.table_+3A_delim">delim</code></td>
<td>
<p>The delimiter to place between entries in the table(s).</p>
</td></tr>
<tr><td><code id="delim.table_+3A_tabegin">tabegin</code></td>
<td>
<p>Any formatting commands to be placed before the table.</p>
</td></tr>
<tr><td><code id="delim.table_+3A_bor">bor</code></td>
<td>
<p>The formatting command for the beginning of a table row.</p>
</td></tr>
<tr><td><code id="delim.table_+3A_eor">eor</code></td>
<td>
<p>The formatting command for the end of a table row.</p>
</td></tr>
<tr><td><code id="delim.table_+3A_tablend">tablend</code></td>
<td>
<p>Any formatting commands to be placed after the table.</p>
</td></tr>
<tr><td><code id="delim.table_+3A_label">label</code></td>
<td>
<p>A label to be displayed before the table.</p>
</td></tr>
<tr><td><code id="delim.table_+3A_header">header</code></td>
<td>
<p>A character string to be written at the beginning of the
output file.</p>
</td></tr>
<tr><td><code id="delim.table_+3A_trailer">trailer</code></td>
<td>
<p>A character string to be written at the end of the
output file.</p>
</td></tr>
<tr><td><code id="delim.table_+3A_html">html</code></td>
<td>
<p>If TRUE, all table formatting commands that are not explicitly
specified will be altered to HTML tags.</p>
</td></tr>
<tr><td><code id="delim.table_+3A_show.rownames">show.rownames</code></td>
<td>
<p>Whether to display the rownames of a table.</p>
</td></tr>
<tr><td><code id="delim.table_+3A_leading.delim">leading.delim</code></td>
<td>
<p>Whether to add an extra delimiter at the beginning of
the table. See Details.</p>
</td></tr>
<tr><td><code id="delim.table_+3A_show.all">show.all</code></td>
<td>
<p>Whether to show all the components of a list. The default
FALSE is to show only those components that look like 2D tables.</p>
</td></tr>
<tr><td><code id="delim.table_+3A_nsignif">nsignif</code></td>
<td>
<p>Number of significant digits for numeric display.</p>
</td></tr>
<tr><td><code id="delim.table_+3A_con">con</code></td>
<td>
<p>A connection to which the output will be written. If a filename
is passed, it will be ignored if &lsquo;<span class="samp">&#8288;con&#8288;</span>&rsquo; is not missing.</p>
</td></tr>
<tr><td><code id="delim.table_+3A_open.con">open.con</code></td>
<td>
<p>A flag for an open connection. This argument is used by
the function to keep track of connections in recursive calls and should
not be altered by the user.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>&lsquo;<span class="samp">&#8288;delim.table&#8288;</span>&rsquo; tries to format its first argument into one or more tables
that will be displayed in another application. The most common use is to
produce a CSV style file that can be imported into a spreadsheet. The default
values for &lsquo;<span class="samp">&#8288;delim&#8288;</span>&rsquo; and &lsquo;<span class="samp">&#8288;eor&#8288;</span>&rsquo; should be adequate for this, and all the
user has to do is to supply a filename as in the first example. When a filename
is provided, the function attempts to open the file, write its output to it and
close it again. In order to deal with the multilevel lists that are often
produced by other functions, the function calls itself until it reaches the
lowest level of the list, where it can successfully format the contents. Thus
the function only passes the connection, not the filename, in recursive calls.
If the user passes both a filename and a valid connection, the output will be
written to the connection and the filename will not be used.
</p>
<p>&lsquo;<span class="samp">&#8288;delim.table&#8288;</span>&rsquo; will fail if passed a table with more than two dimensions.
However, the function will process 2D &quot;slices&quot; of such tables if called with
one of the &lsquo;<span class="samp">&#8288;apply&#8288;</span>&rsquo; family of functions or manually for each slice.
</p>
<p>&lsquo;<span class="samp">&#8288;delim.table&#8288;</span>&rsquo; can also be used to format HTML tables as in the second
example. If the user wants different tags from the defaults, pass these
explicitly. In principle, any markup language that can produce a table using
commands that include; commands to begin and end the table, a command to 
start and end a row, and a command to start a new cell.
</p>
<p>&lsquo;<span class="samp">&#8288;delim.table&#8288;</span>&rsquo; is consistent with the default CSV arguments, adding an
extra delimiter to the first line if there are row names. The user should set
&lsquo;<span class="samp">&#8288;leading.delim&#8288;</span>&rsquo; to FALSE for a table without the empty cell at the upper
left. When &lsquo;<span class="samp">&#8288;delim.table&#8288;</span>&rsquo; is used to format tables for &lsquo;<span class="samp">&#8288;htmlize&#8288;</span>&rsquo;, it
should not attempt to open a new connection.
</p>
<p>An unexpected use of &lsquo;<span class="samp">&#8288;delim.table&#8288;</span>&rsquo; is producing tables that can be imported
into OpenOffice Writer and most other word processors. While the tables in an HTML
listing can be imported directly, the formatting is usually not suitable. If a
table is output to an HTML or text document formatted with TAB characters as the
delimiter as in the third example, the output can be copied and pasted into the
word processor document and then converted to a table. 
</p>


<h3>Value</h3>

<p>nil
</p>


<h3>Author(s)</h3>

<p>Jim Lemon</p>


<h3>See Also</h3>

<p><a href="#topic+htmlize">htmlize</a></p>


<h3>Examples</h3>

<pre><code class='language-R'> testdf&lt;-data.frame(a=sample(0:1,100,TRUE),b=rnorm(100),c=rnorm(100))
 testglm&lt;-summary(glm(a~b*c,testdf,family="binomial"))
 # produce a CSV file to import into a spreadsheet, just the coefficients
 delim.table(testglm$coefficients,"testglm.csv")
 # now create an HTML file of the three tables in the result
 # add a background color different from the default
 delim.table(testglm,"testglm.html",header="&lt;html&gt;&lt;body bgcolor=\"#ffaaff\"&gt;",
  html=TRUE)
 # these tables can be pasted into a word processor and converted
 # using "Insert|Table" or similar commands
 delim.table(testglm,"testglm.tab",delim="\t",leading.delim=FALSE)
 # to clean up, delete the files "testglm.csv", "testglm.tab" and "testglm.html"
</code></pre>

<hr>
<h2 id='delim.xtab'>Format a crosstabulation</h2><span id='topic+delim.xtab'></span>

<h3>Description</h3>

<p>Format a 2D crosstabulation from xtab</p>


<h3>Usage</h3>

<pre><code class='language-R'> delim.xtab(x,pct=c("row","column","cell"),coltot=TRUE,rowtot=TRUE,
  ndec=1,delim="\t",interdigitate=TRUE,label=deparse(substitute(x)))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="delim.xtab_+3A_x">x</code></td>
<td>
<p>An object of class &lsquo;<span class="samp">&#8288;xtab&#8288;</span>&rsquo;.</p>
</td></tr>
<tr><td><code id="delim.xtab_+3A_pct">pct</code></td>
<td>
<p>Whether and how to calculate percentages.</p>
</td></tr>
<tr><td><code id="delim.xtab_+3A_coltot">coltot</code>, <code id="delim.xtab_+3A_rowtot">rowtot</code></td>
<td>
<p>Whether to add the marginal totals.</p>
</td></tr>
<tr><td><code id="delim.xtab_+3A_ndec">ndec</code></td>
<td>
<p>The number of decimal places for percentages.</p>
</td></tr>
<tr><td><code id="delim.xtab_+3A_delim">delim</code></td>
<td>
<p>The delimiter to use between columns. Defaults to TAB.</p>
</td></tr>
<tr><td><code id="delim.xtab_+3A_interdigitate">interdigitate</code></td>
<td>
<p>Whether to place each column of percentages next to
its row of counts.</p>
</td></tr>
<tr><td><code id="delim.xtab_+3A_label">label</code></td>
<td>
<p>A label to be displayed before the table.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>&lsquo;<span class="samp">&#8288;delim.xtab&#8288;</span>&rsquo; formats a crosstabulation in a manner similar to those
produced by commercial spreadsheets, with a column of counts followed by a
column of percentages. If &lsquo;<span class="samp">&#8288;interdigitate&#8288;</span>&rsquo; is FALSE, the percentages will
be displayed separately. 
</p>
<p>&lsquo;<span class="samp">&#8288;delim.xtab&#8288;</span>&rsquo; will only process one 2D xtab object at a time.
</p>
<p>To format only the counts, set &lsquo;<span class="samp">&#8288;pct&#8288;</span>&rsquo; to NA.
</p>
<p>The intended use of &lsquo;<span class="samp">&#8288;delim.xtab&#8288;</span>&rsquo; is producing tables that can be imported
into most word processors. If a table is output to
an HTML or text document formatted with TAB characters, the output can be copied
and pasted into the word processor document and then converted to a table. 
</p>


<h3>Value</h3>

<p>nil</p>


<h3>Author(s)</h3>

<p>Jim Lemon</p>


<h3>See Also</h3>

<p><a href="#topic+xtab">xtab</a></p>


<h3>Examples</h3>

<pre><code class='language-R'> alpha1&lt;-sample(LETTERS[1:3],50,TRUE)
 alpha2&lt;-sample(LETTERS[1:2],50,TRUE)
 alphas&lt;-data.frame(alpha1,alpha2)
 alphatab&lt;-xtab(alpha1~alpha2,alphas)
 delim.xtab(alphatab,pct="row",interdigitate=TRUE)
 delim.xtab(alphatab,pct="column",interdigitate=TRUE)
 delim.xtab(alphatab,pct="cell",interdigitate=TRUE)
</code></pre>

<hr>
<h2 id='describe'>Description of variables</h2><span id='topic+describe'></span>

<h3>Description</h3>

<p>Describes a vector or the columns in a matrix or data frame.</p>


<h3>Usage</h3>

<pre><code class='language-R'> describe(x,num.desc=c("mean","median","var","sd","valid.n"),xname=NA,
  horizontal=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="describe_+3A_x">x</code></td>
<td>
<p>A vector, matrix or data frame.</p>
</td></tr>
<tr><td><code id="describe_+3A_num.desc">num.desc</code></td>
<td>
<p>The names of the functions to apply to numeric data.</p>
</td></tr>
<tr><td><code id="describe_+3A_xname">xname</code></td>
<td>
<p>A name for the object &lsquo;<span class="samp">&#8288;x&#8288;</span>&rsquo;, mostly where this would be
a very long string describing its structure (e.g. if it was extracted
by name from a data frame).</p>
</td></tr>
<tr><td><code id="describe_+3A_horizontal">horizontal</code></td>
<td>
<p>Whether to display the results of &lsquo;<span class="samp">&#8288;describe.factor&#8288;</span>&rsquo;
across the page (TRUE) or down the page (FALSE).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>&lsquo;<span class="samp">&#8288;describe&#8288;</span>&rsquo; displays a table of descriptive statistics for numeric,
factor and logical variables in the object &lsquo;<span class="samp">&#8288;x&#8288;</span>&rsquo;. The summary measures
for numeric variables can easily be altered with the argument
&lsquo;<span class="samp">&#8288;num.desc&#8288;</span>&rsquo;. Pass a character vector with the names of the
desired summary measures and these will be displayed at the top of
the numeric block with their results beneath them. If quantiles are
desired, the user will have to write wrapper functions that call
&lsquo;<span class="samp">&#8288;quantile&#8288;</span>&rsquo; with the appropriate type or probabilities and use
the names of the wrapper functions in &lsquo;<span class="samp">&#8288;num.desc&#8288;</span>&rsquo;. Remember that
any function called by &lsquo;<span class="samp">&#8288;describe&#8288;</span>&rsquo; must have an &lsquo;<span class="samp">&#8288;na.rm&#8288;</span>&rsquo;
argument.
</p>
<p>Percentages are now always displayed and returned in the tables for
factor and logical variables.
</p>


<h3>Value</h3>

<p>A list with three components:
</p>
<table>
<tr><td><code>Numeric</code></td>
<td>
<p>A list of the values returned from &lsquo;<span class="samp">&#8288;describe.numeric&#8288;</span>&rsquo;
for each column described.</p>
</td></tr>
<tr><td><code>Factor</code></td>
<td>
<p>A list of the tables for each column described.</p>
</td></tr>
<tr><td><code>Logical</code></td>
<td>
<p>A list of the tables for each column described.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jim Lemon</p>


<h3>See Also</h3>

<p><a href="#topic+Mode">Mode</a>, <a href="#topic+valid.n">valid.n</a>, <a href="#topic+describe.numeric">describe.numeric</a>,
<a href="#topic+describe.factor">describe.factor</a></p>


<h3>Examples</h3>

<pre><code class='language-R'> sample.df&lt;-data.frame(sex=sample(c("MALE","FEMALE"),100,TRUE),
  income=(rnorm(100)+2.5)*20000,suburb=factor(sample(1:4,100,TRUE)))
 # include the maximum values
 describe(sample.df,num.desc=c("mean","median","max","var","sd","valid.n"))
 # make up a function
 roughness&lt;-function(x,na.rm=TRUE) {
  if(na.rm) x&lt;-x[!is.na(x)]
  xspan&lt;-diff(range(x))
  return(mean(abs(diff(x))/xspan,na.rm=TRUE))
 }
 # now use it
 describe(sample.df$income,num.desc="roughness",xname="income")
</code></pre>

<hr>
<h2 id='describe.factor'>
Description of factor variables
</h2><span id='topic+describe.factor'></span>

<h3>Description</h3>

<p>Describes a factor variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'> describe.factor(x,varname="",horizontal=FALSE,decr.order=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="describe.factor_+3A_x">x</code></td>
<td>
<p>A factor.</p>
</td></tr>
<tr><td><code id="describe.factor_+3A_varname">varname</code></td>
<td>
<p>A name for the variable. &lsquo;<span class="samp">&#8288;describe&#8288;</span>&rsquo; always passes
the name.</p>
</td></tr>
<tr><td><code id="describe.factor_+3A_horizontal">horizontal</code></td>
<td>
<p>Whether to display the results across the page (TRUE)
or down the page (FALSE).</p>
</td></tr>
<tr><td><code id="describe.factor_+3A_decr.order">decr.order</code></td>
<td>
<p>Whether to order the rows by decreasing frequency.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>&lsquo;<span class="samp">&#8288;describe.factor&#8288;</span>&rsquo; displays the name of the factor, a table of
its values, the modal value of the factor and the number of valid
(not NA) values.
</p>


<h3>Value</h3>

<p>nil</p>


<h3>Author(s)</h3>

<p>Jim Lemon</p>


<h3>See Also</h3>

<p><a href="#topic+Mode">Mode</a>, <a href="#topic+valid.n">valid.n</a>, <a href="base.html#topic+table">table</a></p>

<hr>
<h2 id='describe.logical'>
Description of logical variables
</h2><span id='topic+describe.logical'></span>

<h3>Description</h3>

<p>Describes a logical variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'> describe.logical(x,varname="")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="describe.logical_+3A_x">x</code></td>
<td>
<p>A logical.</p>
</td></tr>
<tr><td><code id="describe.logical_+3A_varname">varname</code></td>
<td>
<p>An optional name for the variable. &lsquo;<span class="samp">&#8288;describe&#8288;</span>&rsquo;
always passes the name of the variable.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>&lsquo;<span class="samp">&#8288;describe.logical&#8288;</span>&rsquo; displays the name of the logical, a table 
of counts of its two values (TRUE, FALSE) and the percentage
of TRUE values.
</p>


<h3>Value</h3>

<p>nil</p>


<h3>Author(s)</h3>

<p>Jim Lemon</p>


<h3>See Also</h3>

<p><a href="base.html#topic+table">table</a></p>

<hr>
<h2 id='describe.numeric'>
Description of numeric variables
</h2><span id='topic+describe.numeric'></span>

<h3>Description</h3>

<p>Describes a numeric variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'> describe.numeric(x,varname="",
  num.desc=c("mean","median","var","sd","valid.n"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="describe.numeric_+3A_x">x</code></td>
<td>
<p>A numeric vector.</p>
</td></tr>
<tr><td><code id="describe.numeric_+3A_varname">varname</code></td>
<td>
<p>The variable name to display.</p>
</td></tr>
<tr><td><code id="describe.numeric_+3A_num.desc">num.desc</code></td>
<td>
<p>The names of the functions to apply to the vector.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>&lsquo;<span class="samp">&#8288;describe.numeric&#8288;</span>&rsquo; displays the name of the vector and the
results of the functions whose names are passed in &lsquo;<span class="samp">&#8288;num.desc&#8288;</span>&rsquo;.
Note that any functions that are called by &lsquo;<span class="samp">&#8288;describe.numeric&#8288;</span>&rsquo;
must have an &lsquo;<span class="samp">&#8288;na.rm&#8288;</span>&rsquo; argument, even if it is a dummy.
</p>


<h3>Value</h3>

<p>The vector of values returned from the functions in &lsquo;<span class="samp">&#8288;num.desc&#8288;</span>&rsquo;.
</p>


<h3>Author(s)</h3>

<p>Jim Lemon</p>


<h3>See Also</h3>

<p><a href="#topic+describe">describe</a>, <a href="#topic+valid.n">valid.n</a></p>


<h3>Examples</h3>

<pre><code class='language-R'> x&lt;-rnorm(100)
 # include a function that calculates the "smoothness" of a vector
 # of numbers by calculating the mean of the absolute difference
 # between each successive value - all values equal would be 0
 smoothness&lt;-function(x,na.rm=TRUE) {
  if(na.rm) x&lt;-x[!is.na(x)]
  xspan&lt;-diff(range(x))
  return(mean(abs(diff(x))/xspan,na.rm=TRUE))
 }
 describe(x,num.desc=c("mean","median","smoothness"),xname="x")
 # now sort the values to make the vector "smoother"
 describe(sort(x),num.desc=c("mean","median","smoothness"),xname="x")
</code></pre>

<hr>
<h2 id='EndHTML'>End an HTML file (htmlize).</h2><span id='topic+EndHTML'></span>

<h3>Description</h3>

<p>Append an ending to an HTML file.</p>


<h3>Usage</h3>

<pre><code class='language-R'>EndHTML(con,ending=NULL)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="EndHTML_+3A_con">con</code></td>
<td>
<p>The connection for writing to the HTML file.</p>
</td></tr>
<tr><td><code id="EndHTML_+3A_ending">ending</code></td>
<td>
<p>Any &quot;trailer&quot; information to be added to the file
before closing it.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>&lsquo;<span class="samp">&#8288;EndHTML&#8288;</span>&rsquo; appends a brief ending to an HTML file.
</p>


<h3>Value</h3>

<p>nil</p>


<h3>Author(s)</h3>

<p>Jim Lemon</p>

<hr>
<h2 id='freq'>Calculate a frequency table</h2><span id='topic+freq'></span>

<h3>Description</h3>

<p>Calculates one or more frequency table(s) from a vector, matrix or data frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'> freq(x,variable.labels=NULL,display.na=TRUE,decr.order=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="freq_+3A_x">x</code></td>
<td>
<p>a vector, matrix or data frame.</p>
</td></tr>
<tr><td><code id="freq_+3A_variable.labels">variable.labels</code></td>
<td>
<p>optional labels for the variables. The default is
the name of the variable passed or the &lsquo;<span class="samp">&#8288;names&#8288;</span>&rsquo; attribute if the
variable has more than 1 dimension.</p>
</td></tr>
<tr><td><code id="freq_+3A_display.na">display.na</code></td>
<td>
<p>logical - whether to display counts of NAs.</p>
</td></tr>
<tr><td><code id="freq_+3A_decr.order">decr.order</code></td>
<td>
<p>Whether to order each frequency table in decreasing order.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>&lsquo;<span class="samp">&#8288;freq&#8288;</span>&rsquo; calls &lsquo;<span class="samp">&#8288;table&#8288;</span>&rsquo; to get the frequency counts and builds a
list with one or more components containing the value labels and counts.
</p>


<h3>Value</h3>

<p>A list with one or more components. Each component includes the 
values of the relevant variable as the names.</p>


<h3>Note</h3>

<p>The limit on the number of bins has been removed, so passing a numeric 
vector with many levels may produce a huge, useless &quot;frequency&quot; table.
</p>


<h3>Author(s)</h3>

<p>Jim Lemon</p>


<h3>See Also</h3>

<p><a href="#topic+print.freq">print.freq</a></p>


<h3>Examples</h3>

<pre><code class='language-R'> A&lt;-sample(1:10,130,TRUE)
 A[sample(1:130,6)]&lt;-NA
 C&lt;-sample(LETTERS[1:14],130,TRUE)
 C[sample(1:130,7)]&lt;-NA
 test.df&lt;-data.frame(A,C)
 freq(test.df)
</code></pre>

<hr>
<h2 id='HTMLgraph'>Create a graphic in HTML output (R2html).</h2><span id='topic+HTMLgraph'></span>

<h3>Description</h3>

<p>Creates a graphic file and links it to the HTML output.</p>


<h3>Usage</h3>

<pre><code class='language-R'>HTMLgraph(listfile, graphfile = NULL,type = "png",...)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="HTMLgraph_+3A_listfile">listfile</code></td>
<td>
<p>The name of the HTMLize listing file.</p>
</td></tr>
<tr><td><code id="HTMLgraph_+3A_graphfile">graphfile</code></td>
<td>
<p>The name for the graphic file (see Details).</p>
</td></tr>
<tr><td><code id="HTMLgraph_+3A_type">type</code></td>
<td>
<p>The graphic format in which to write the image.</p>
</td></tr>
<tr><td><code id="HTMLgraph_+3A_...">...</code></td>
<td>
<p>Additional arguments - currently ignored.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>&lsquo;<span class="samp">&#8288;HTMLgraph&#8288;</span>&rsquo; sets up a graphic device to allow an R graphic to be
written to a file and that file linked to the HTML listing. If no
filename is passed, a name is constructed from &lsquo;<span class="samp">&#8288;fig&#8288;</span>&rsquo; and a number
that does not match any existing &lsquo;<span class="samp">&#8288;fignnn...&#8288;</span>&rsquo; file. Only &lsquo;<span class="samp">&#8288;bmp,
 jpeg&#8288;</span>&rsquo; and &lsquo;<span class="samp">&#8288;png&#8288;</span>&rsquo; files are currently handled, defaulting to the last.
</p>


<h3>Value</h3>

<p>nil</p>


<h3>Author(s)</h3>

<p>Philippe Grosjean</p>

<hr>
<h2 id='htmlize'>Read an R script and write HTML output</h2><span id='topic+htmlize'></span>

<h3>Description</h3>

<p>Produces HTML output from an R script.</p>


<h3>Usage</h3>

<pre><code class='language-R'>htmlize(Rfile,HTMLbase,HTMLdir,title,
 bgcolor="#dddddd",echo=FALSE,do.nav=FALSE,useCSS=NULL,...)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="htmlize_+3A_rfile">Rfile</code></td>
<td>
<p>The R script file from which to read the commands.</p>
</td></tr>
<tr><td><code id="htmlize_+3A_htmlbase">HTMLbase</code></td>
<td>
<p>The base name for the HTML files (see Details).</p>
</td></tr>
<tr><td><code id="htmlize_+3A_htmldir">HTMLdir</code></td>
<td>
<p>The directory in which to write the HTML output.</p>
</td></tr>
<tr><td><code id="htmlize_+3A_title">title</code></td>
<td>
<p>The title of the HTML page and the headings for the
frames. See Details for including the title in the R script.</p>
</td></tr>
<tr><td><code id="htmlize_+3A_bgcolor">bgcolor</code></td>
<td>
<p>The background color for the frames.</p>
</td></tr>
<tr><td><code id="htmlize_+3A_echo">echo</code></td>
<td>
<p>Whether to include (&quot;echo&quot;) the commands in the listing.</p>
</td></tr>
<tr><td><code id="htmlize_+3A_do.nav">do.nav</code></td>
<td>
<p>Whether to have a navigation window.</p>
</td></tr>
<tr><td><code id="htmlize_+3A_usecss">useCSS</code></td>
<td>
<p>The name of a CSS stylesheet that will define the
appearance of components of the HTML display. If this is not NULL,
the CSS file should exist.</p>
</td></tr>
<tr><td><code id="htmlize_+3A_...">...</code></td>
<td>
<p>Additional arguments - currently ignored.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>&lsquo;<span class="samp">&#8288;htmlize&#8288;</span>&rsquo; allows the user to produce a basic HTML listing from
an existing R script. The script must already run correctly with
&lsquo;<span class="samp">&#8288;source&#8288;</span>&rsquo;. If the first line of the R script is a comment starting
with &lsquo;<span class="samp">&#8288;#title~&#8288;</span>&rsquo; and the &lsquo;<span class="samp">&#8288;title&#8288;</span>&rsquo; argument is missing, the rest
of the first line will be used as the title of the HTML output.
</p>
<p>If there is any graphic output, the script must contain the necessary
commands to set up the graphic devices. Note that only TIFF, GIF, BMP,
JPEG and PNG graphic images are generally viewable in HTML browsers.
The last two are probably the most reliable, but see their help pages
for more details. The graphic files will be linked to the HTML listing
page so that they should be interleaved with text output and commands.
</p>
<p>If &lsquo;<span class="samp">&#8288;do.nav&#8288;</span>&rsquo; is TRUE, three files will be output. The first will
be named &lsquo;<span class="samp">&#8288;HTMLbase.html&#8288;</span>&rsquo;, where &lsquo;<span class="samp">&#8288;HTMLbase&#8288;</span>&rsquo; is whatever string
has been passed as that argument.
If that argument is missing, the function will attempt to munge the
&lsquo;<span class="samp">&#8288;Rfile&#8288;</span>&rsquo; argument into a base name. This file is an &quot;index&quot; file
that sets up the HTML frameset. The second file will be named
&lsquo;<span class="samp">&#8288;HTMLbase_nav.html&#8288;</span>&rsquo; and will be dispayed at the left side of the HTML
output as a &quot;navigation&quot; list using the commands as names. Commands
longer than 20 characters will be truncated. The third file, named
&lsquo;<span class="samp">&#8288;HTMLbase_list.html&#8288;</span>&rsquo;, contains the program listing. All three 
files will be written in &lsquo;<span class="samp">&#8288;HTMLdir&#8288;</span>&rsquo;. If this is missing, the path of
&lsquo;<span class="samp">&#8288;Rfile&#8288;</span>&rsquo; will be used.
</p>
<p>If &lsquo;<span class="samp">&#8288;do.nav&#8288;</span>&rsquo; is FALSE, only one file will be written. It will have
the same content as the &lsquo;<span class="samp">&#8288;HTMLbase_list.html&#8288;</span>&rsquo; file except without
the name tags for navigation and it will be named &lsquo;<span class="samp">&#8288;HTMLbase.html&#8288;</span>&rsquo;.
</p>
<p>Commands that create or alter connections, such as &lsquo;<span class="samp">&#8288;sink&#8288;</span>&rsquo; are
&quot;forbidden&quot;, not evaluated and marked as comments in the listing.
This prevents such commands from altering the connections necessary
to write the HTML files.
</p>
<p>If there is a function defined in the R script, &lsquo;<span class="samp">&#8288;htmlize&#8288;</span>&rsquo; will run, but
not write any output after the function definition. This has to do with the
way that &lsquo;<span class="samp">&#8288;htmlize&#8288;</span>&rsquo; reads command lines from the script file. This is a
bug, so watch this space for a solution.
</p>
<p>The ability to nominate a CSS stylesheet allows the user to customize the
appearance of the HTML output. The most likely use of the &lsquo;<span class="samp">&#8288;useCSS&#8288;</span>&rsquo;
argument is for the user to specify whatever aspects of the HTML display
are to be different from the default browser values in a stylesheet.
</p>


<h3>Value</h3>

<p>nil</p>


<h3>Note</h3>

<p>As of version 1.1, both &lsquo;<span class="samp">&#8288;echo&#8288;</span>&rsquo; and &lsquo;<span class="samp">&#8288;do.nav&#8288;</span>&rsquo; are FALSE by default,
as these defaults seem to be more popular.
</p>
<p>The major differences between &lsquo;<span class="samp">&#8288;htmlize&#8288;</span>&rsquo; and &lsquo;<span class="samp">&#8288;R2html&#8288;</span>&rsquo; are:
&lsquo;<span class="samp">&#8288;htmlize&#8288;</span>&rsquo; will run with a minimum of one argument (&lsquo;<span class="samp">&#8288;Rfile&#8288;</span>&rsquo;)
and produces very basic HTML output. It requires the graphic devices to be
set up as commands in the R script.
</p>
<p>&lsquo;<span class="samp">&#8288;R2html&#8288;</span>&rsquo; does not require commands for graphic devices, just 
comments at the end of any line that requires graphic output to the HTML
file. It color codes commands and output and is more careful about the 
content of lines it writes.
</p>


<h3>Author(s)</h3>

<p>Jim Lemon with improvements by Phillipe Grosjean</p>


<h3>Examples</h3>

<pre><code class='language-R'> rcon&lt;-file("test.R","w")
 cat("#title~This is the title\n")
 cat("test.df&lt;-data.frame(a=factor(sample(LETTERS[1:4],100,TRUE)),\n",
  file=rcon)
 cat(" b=sample(1:4,100,TRUE),c=rnorm(100),d=rnorm(100))\n",file=rcon)
 cat("describe(test.df)\n",file=rcon)
 cat("print(freq(test.df$a))\n",file=rcon)
 cat("xtab(a~b,test.df)\n",file=rcon)
 cat("brkdn(c~b,test.df)\n",file=rcon)
 cat("png(\"hista.png\")\nhist(test.df$b)\ndev.off()\n",file=rcon)
 cat("png(\"plotcd.png\")\nplot(test.df$c,test.df$d)\ndev.off()\n",file=rcon)
 close(rcon)
 # call htmlize with minimal arguments
 htmlize("test.R")
 # if you want to see the output, use the following line
 # system(paste(options("browser")," file:",getwd(),"/test.html",sep="",collapse=""))
 # to clean up, use the following line
 # system("rm test.R test.html hista.png plotcd.png")
</code></pre>

<hr>
<h2 id='Mode'>
Find the modal value
</h2><span id='topic+Mode'></span>

<h3>Description</h3>

<p>Finds the modal value of an object (usually a factor).
</p>


<h3>Usage</h3>

<pre><code class='language-R'> Mode(x,na.rm=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Mode_+3A_x">x</code></td>
<td>
<p>An object, usually a factor.</p>
</td></tr>
<tr><td><code id="Mode_+3A_na.rm">na.rm</code></td>
<td>
<p>A dummy argument to make it compatible with calls to
&lsquo;<span class="samp">&#8288;mean&#8288;</span>&rsquo;, etc.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>&lsquo;<span class="samp">&#8288;Mode&#8288;</span>&rsquo; finds the modal value of the object. If there are
multiple modal values, it returns an appropriate message. If
&lsquo;<span class="samp">&#8288;Mode&#8288;</span>&rsquo; is called with a continuous variable, it will not in
general return a sensible answer. It does not attempt to estimate
the density of the values and return an approximate modal value.
</p>


<h3>Value</h3>

<p>The modal value of the object as a character string.</p>


<h3>Note</h3>

<p>This is not the same as &lsquo;<span class="samp">&#8288;mode&#8288;</span>&rsquo; that determines the data mode of
an object.
</p>


<h3>Author(s)</h3>

<p>Jim Lemon</p>


<h3>See Also</h3>

<p><a href="#topic+describe">describe</a></p>

<hr>
<h2 id='print.desc'>Display descriptive stats output</h2><span id='topic+print.desc'></span>

<h3>Description</h3>

<p>Displays a list of descriptive statistics produced by &lsquo;<span class="samp">&#8288;describe&#8288;</span>&rsquo;.
</p>


<h3>Usage</h3>

<pre><code class='language-R'> ## S3 method for class 'desc'
print(x,ndec=2,...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.desc_+3A_x">x</code></td>
<td>
<p>a list of descriptive statistics produced by &lsquo;<span class="samp">&#8288;describe&#8288;</span>&rsquo;</p>
</td></tr>
<tr><td><code id="print.desc_+3A_ndec">ndec</code></td>
<td>
<p>The number of decimal places to display.</p>
</td></tr>
<tr><td><code id="print.desc_+3A_...">...</code></td>
<td>
<p>additional arguments passed to &lsquo;<span class="samp">&#8288;print&#8288;</span>&rsquo;</p>
</td></tr>
</table>


<h3>Details</h3>

<p>&lsquo;<span class="samp">&#8288;print.desc&#8288;</span>&rsquo; displays the list of descriptive statistics produced 
by the &lsquo;<span class="samp">&#8288;describe&#8288;</span>&rsquo; function.
</p>


<h3>Value</h3>

<p>nil</p>


<h3>Author(s)</h3>

<p>Jim Lemon</p>


<h3>See Also</h3>

<p><a href="#topic+describe">describe</a></p>


<h3>Examples</h3>

<pre><code class='language-R'> test.df&lt;-data.frame(A=c(sample(1:10,99,TRUE),NA),C=sample(LETTERS,100,TRUE))
 test.desc&lt;-describe(test.df)
 print(test.desc)
</code></pre>

<hr>
<h2 id='print.freq'>Display frequency table(s)</h2><span id='topic+print.freq'></span>

<h3>Description</h3>

<p>Displays one or more frequency tables produced by &lsquo;<span class="samp">&#8288;freq&#8288;</span>&rsquo;.
</p>


<h3>Usage</h3>

<pre><code class='language-R'> ## S3 method for class 'freq'
print(x,show.pc=TRUE,cum.pc=FALSE,show.total=FALSE,...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.freq_+3A_x">x</code></td>
<td>
<p>a frequency table produced by &lsquo;<span class="samp">&#8288;\link{freq}&#8288;</span>&rsquo;</p>
</td></tr>
<tr><td><code id="print.freq_+3A_show.pc">show.pc</code></td>
<td>
<p>Whether to display percentages as well as counts.</p>
</td></tr>
<tr><td><code id="print.freq_+3A_cum.pc">cum.pc</code></td>
<td>
<p>Whether to display cumulative percentages.</p>
</td></tr>
<tr><td><code id="print.freq_+3A_show.total">show.total</code></td>
<td>
<p>Whether to display the total count of observations.</p>
</td></tr>
<tr><td><code id="print.freq_+3A_...">...</code></td>
<td>
<p>additional arguments passed to &lsquo;<span class="samp">&#8288;print&#8288;</span>&rsquo;.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>&lsquo;<span class="samp">&#8288;print.freq&#8288;</span>&rsquo; displays frequency tables produced by &lsquo;<span class="samp">&#8288;freq&#8288;</span>&rsquo;.
If &lsquo;<span class="samp">&#8288;show.pc&#8288;</span>&rsquo; is TRUE and there is a value in the frequency table with
the label &quot;NA&quot;, an additional set of percentages ignoring that value will
also be displayed. If &lsquo;<span class="samp">&#8288;show.total&#8288;</span>&rsquo; is TRUE, the total number of
observations will be displayed.
</p>


<h3>Value</h3>

<p>nil</p>


<h3>Author(s)</h3>

<p>Jim Lemon</p>


<h3>See Also</h3>

<p><a href="#topic+freq">freq</a></p>


<h3>Examples</h3>

<pre><code class='language-R'> test.df&lt;-data.frame(A=c(sample(1:10,99,TRUE),NA),C=sample(LETTERS,100,TRUE))
 test.freq&lt;-freq(test.df)
 print(test.freq,show.total=TRUE)
</code></pre>

<hr>
<h2 id='print.xtab'>Display a 2D crosstabulation</h2><span id='topic+print.xtab'></span>

<h3>Description</h3>

<p>Displays a 2D crosstabulation with optional chi-squared test,
odds ratio/relative risk and phi coefficient.</p>


<h3>Usage</h3>

<pre><code class='language-R'> ## S3 method for class 'xtab'
print(x,col.width=8,or=TRUE,chisq=TRUE,phi=TRUE,
  rowname.width=NA,html=FALSE,bgcol="lightgray",...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.xtab_+3A_x">x</code></td>
<td>
<p>The list returned by &lsquo;<span class="samp">&#8288;calculate.xtab&#8288;</span>&rsquo;.</p>
</td></tr>
<tr><td><code id="print.xtab_+3A_col.width">col.width</code></td>
<td>
<p>Width of the columns in the display.</p>
</td></tr>
<tr><td><code id="print.xtab_+3A_or">or</code></td>
<td>
<p>whether to calculate the odds ratio and relative risk
(only for 2x2 tables).</p>
</td></tr>
<tr><td><code id="print.xtab_+3A_chisq">chisq</code></td>
<td>
<p>Whether to call &lsquo;<span class="samp">&#8288;chisq.test&#8288;</span>&rsquo; and display the result.</p>
</td></tr>
<tr><td><code id="print.xtab_+3A_phi">phi</code></td>
<td>
<p>Whether to calculate and display the phi coefficient
(only for 2x2 tables).</p>
</td></tr>
<tr><td><code id="print.xtab_+3A_rowname.width">rowname.width</code></td>
<td>
<p>Optional width for the rownames. Mostly useful for
truncating very long rownames.</p>
</td></tr>
<tr><td><code id="print.xtab_+3A_html">html</code></td>
<td>
<p>Whether to format the table with HTML tags.</p>
</td></tr>
<tr><td><code id="print.xtab_+3A_bgcol">bgcol</code></td>
<td>
<p>Background color for the table.</p>
</td></tr>
<tr><td><code id="print.xtab_+3A_...">...</code></td>
<td>
<p>additional arguments passed to &lsquo;<span class="samp">&#8288;chisq.test&#8288;</span>&rsquo;.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>&lsquo;<span class="samp">&#8288;print.xtab&#8288;</span>&rsquo; displays a crosstabulation in a fairly conventional style
with row, column and marginal percentages. If &lsquo;<span class="samp">&#8288;html&#8288;</span>&rsquo; is TRUE, the
formatting will use HTML tags and will only be useful if viewed in an HTML
browser. In order to get HTML formatting, save, the output of &lsquo;<span class="samp">&#8288;xtab&#8288;</span>&rsquo; and
print with the argument &lsquo;<span class="samp">&#8288;html=TRUE&#8288;</span>&rsquo;.
</p>
<p>If &lsquo;<span class="samp">&#8288;or&#8288;</span>&rsquo; is &lsquo;<span class="samp">&#8288;TRUE&#8288;</span>&rsquo; and the resulting table is 2x2, the odds ratio will
be displayed below the table. If the function &lsquo;<span class="samp">&#8288;logical.names&#8288;</span>&rsquo; within
&lsquo;<span class="samp">&#8288;print.xtab&#8288;</span>&rsquo; finds that the column margin names are one of FALSE/TRUE,
0/1 or NO/YES in those orders, the risk of the column variable for the
second level of the row variable relative to the first row variable
will be displayed as well.
</p>


<h3>Value</h3>

<p>nil</p>


<h3>Author(s)</h3>

<p>Jim Lemon</p>


<h3>See Also</h3>

<p><a href="#topic+calculate.xtab">calculate.xtab</a>, <a href="#topic+xtab">xtab</a></p>

<hr>
<h2 id='R2html'>Read an R script and write HTML output</h2><span id='topic+R2html'></span>

<h3>Description</h3>

<p>Produces HTML output from an R script.</p>


<h3>Usage</h3>

<pre><code class='language-R'>R2html(Rfile,HTMLfile,echo=TRUE,split=FALSE,browse=TRUE,
 title="R listing",bgcolor="#dddddd",...)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="R2html_+3A_rfile">Rfile</code></td>
<td>
<p>The R script file from which to read the commands.</p>
</td></tr>
<tr><td><code id="R2html_+3A_htmlfile">HTMLfile</code></td>
<td>
<p>The name for the HTML index file (see Details).</p>
</td></tr>
<tr><td><code id="R2html_+3A_echo">echo</code></td>
<td>
<p>Whether to include (&quot;echo&quot;) the commands in the listing.</p>
</td></tr>
<tr><td><code id="R2html_+3A_split">split</code></td>
<td>
<p>Whether to split the output (see &lsquo;<span class="samp">&#8288;\link{sink}&#8288;</span>&rsquo;)</p>
</td></tr></table>
<p>.
</p>
<table>
<tr><td><code id="R2html_+3A_browse">browse</code></td>
<td>
<p>Whether to automatically open the HTML output in the
default browser when finished.</p>
</td></tr>
<tr><td><code id="R2html_+3A_title">title</code></td>
<td>
<p>The title of the HTML page and the headings for the
frames.</p>
</td></tr>
<tr><td><code id="R2html_+3A_bgcolor">bgcolor</code></td>
<td>
<p>The background color for the frames.</p>
</td></tr>
<tr><td><code id="R2html_+3A_...">...</code></td>
<td>
<p>Additional arguments - currently ignored.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>&lsquo;<span class="samp">&#8288;R2html&#8288;</span>&rsquo; allows the user to produce an HTML listing from
an existing R script. The script must already run correctly and, if
there is any graphic output, contain the necessary comments at the 
end of each graphic command to set up the graphic devices.
The graphic files will be linked to the HTML listing page so
that they should be interleaved with text output and commands.
</p>
<p>Three files will be output. The first will be named &lsquo;<span class="samp">&#8288;HTMLfile&#8288;</span>&rsquo;
which must be a valid filename with the extension &lsquo;<span class="samp">&#8288;.html&#8288;</span>&rsquo;.
This file is the &quot;index&quot; file that sets up the HTML frameset.
The second file will be named by concatenating &lsquo;<span class="samp">&#8288;HTMLfile&#8288;</span>&rsquo;
without its extension and &lsquo;<span class="samp">&#8288;_nav.html&#8288;</span>&rsquo;. Its contents will be 
dispayed at the left side of the HTML output as a &quot;navigation&quot; list 
using the commands as names. The third file is named by concatentating
&lsquo;<span class="samp">&#8288;HTMLfile&#8288;</span>&rsquo; without its extension and &lsquo;<span class="samp">&#8288;_list.html&#8288;</span>&rsquo;. This
contains the program listing. All three files will be written in 
whatever directory is specified by the path to &lsquo;<span class="samp">&#8288;HTMLfile&#8288;</span>&rsquo;. If this
is missing, everything will be written in the current R directory.
</p>
<p>Commands that create or alter connections, such as &lsquo;<span class="samp">&#8288;sink&#8288;</span>&rsquo; are
&quot;forbidden&quot;, not evaluated and marked as comments in the listing.
This prevents such commands from altering the connections necessary
to write the HTML files.
</p>
<p>To include graphic output in the HTML file, place a comment at the end of
any function that produces a graphic like this &lsquo;<span class="samp">&#8288;#--FIG:filename.png--&#8288;</span>&rsquo;
and the appropriate graphic device is automatically set up. The filename
may be left out, in which case a name will be generated.
</p>


<h3>Value</h3>

<p>nil</p>


<h3>Author(s)</h3>

<p>Philippe Grosjean</p>


<h3>Examples</h3>

<pre><code class='language-R'> rcon&lt;-file("testR2html.R","w")
 cat("test.df&lt;-data.frame(a=factor(sample(LETTERS[1:4],100,TRUE)),\n",
  file=rcon)
 cat(" b=sample(1:4,100,TRUE),c=rnorm(100),d=rnorm(100))\n",file=rcon)
 cat("describe(test.df)\n",file=rcon)
 cat("print(freq(test.df$a))\n",file=rcon)
 cat("xtab(a~b,test.df)\n",file=rcon)
 cat("brkdn(c~b,test.df)\n",file=rcon)
 cat("hist(test.df$b)#--FIG:hista.png--\n",file=rcon)
 cat("plot(test.df$c,test.df$d)#--FIG:plotcd.png--\n",file=rcon)
 close(rcon)
 # R2html("testR2html.R", "testR2html.html")
 # if you want to see the output, use the following line
 # system(paste(options("browser")," file:",getwd(),"/testR2html.html",sep="",collapse=""))
 # to clean up, use the following line
 # system("rm testR2html.R testR2html.html testR2html_nav.html")
 # system("rm testR2html_list.html hista.png plotcd.png")
</code></pre>

<hr>
<h2 id='rep_n_stack'>
Replicate and stack columns of a data frame
</h2><span id='topic+rep_n_stack'></span>

<h3>Description</h3>

<p>Reshape a data frame by stacking two or more columns into one and adding a
factor, while replicating the remaining columns and stacking them to match
the number of rows
</p>


<h3>Usage</h3>

<pre><code class='language-R'> rep_n_stack(data,to.stack,stack.names=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rep_n_stack_+3A_data">data</code></td>
<td>
<p>A data frame.</p>
</td></tr>
<tr><td><code id="rep_n_stack_+3A_to.stack">to.stack</code></td>
<td>
<p>Which columns are to be stacked together (see Details).</p>
</td></tr>
<tr><td><code id="rep_n_stack_+3A_stack.names">stack.names</code></td>
<td>
<p>Names for the new factor and stacked column.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>&lsquo;<span class="samp">&#8288;rep_n_stack&#8288;</span>&rsquo; takes two or more specified columns in a data frame and
&quot;stacks&quot; them into a single column. It also creates a new factor composed of
the replicated names of the columns that identifies from which column each
value came. The remaining columns in the data frame are replicated to match
the new number of rows.
</p>
<p>If &lsquo;<span class="samp">&#8288;to.stack&#8288;</span>&rsquo; is a matrix of names or column numbers, &lsquo;<span class="samp">&#8288;rep_n_stack&#8288;</span>&rsquo;
will stack each row into two new columns, allowing multiple related sets of
values to be stacked in one operation. 
</p>
<p>A matrix or data frame of values can now be stacked so that the values can be
displayed by a function like &lsquo;<span class="samp">&#8288;barNest&#8288;</span>&rsquo; in the <span class="pkg">plotrix</span> package.
</p>


<h3>Value</h3>

<p>The reshaped data frame.</p>


<h3>Note</h3>

<p>&lsquo;<span class="samp">&#8288;rep_n_stack&#8288;</span>&rsquo; only does what other reshaping functions can do, but may
be more easy to understand.
</p>


<h3>Author(s)</h3>

<p>Jim Lemon</p>


<h3>See Also</h3>

<p><a href="stats.html#topic+reshape">reshape</a></p>


<h3>Examples</h3>

<pre><code class='language-R'> wide.data&lt;-data.frame(ID=1:10,Glup=sample(c("Montic","Subtic"),10,TRUE),
  Flimit1=runif(10,1,2),Flimit2=runif(10,1.5,2.5),Flimit3=runif(10,1.2,3),
  Glimit1=rnorm(10,mean=5),Glimit2=rnorm(10,mean=4),Glimit3=rnorm(10,mean=4.5))
 # first just stack one set of related measures
 rep_n_stack(wide.data[,1:5],to.stack=c("Flimit1","Flimit2","Flimit3"))
 # now stack two sets of related measures and pass names for the stacks
 rep_n_stack(wide.data,to.stack=matrix(3:8,nrow=2,byrow=TRUE),
  stack.names=c("Limit_F","Value_F","Limit_G","Value_G"))
 # finally stack a matrix of means into a single column with the
 # row and column names becoming "factor" variables
 meanmat&lt;-matrix(runif(16,10,20),nrow=4)
 rownames(meanmat)&lt;-c("Plunderers","Storers","Refusers","Jokers")
 colnames(meanmat)&lt;-c("Week1","Week2","Week3","Week4")
 rep_n_stack(meanmat,to.stack=1:4,
  stack.names=c("Returns","Occasion","Strategy"))
</code></pre>

<hr>
<h2 id='skew'>
Calculate the skew of a distribution.
</h2><span id='topic+skew'></span>

<h3>Description</h3>

<p>Calculates the skew of a distribution using a simple formula.
</p>


<h3>Usage</h3>

<pre><code class='language-R'> skew(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="skew_+3A_x">x</code></td>
<td>
<p>A vector of numeric values, supposedly drawn from a particular distribution.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>&lsquo;<span class="samp">&#8288;skew&#8288;</span>&rsquo; calculates the asymmetry of the distribution of the values.
</p>


<h3>Value</h3>

<p>The value calculated.</p>


<h3>Author(s)</h3>

<p>Jim Lemon</p>


<h3>See Also</h3>

<p><a href="stats.html#topic+sd">sd</a></p>

<hr>
<h2 id='StartList'>Write the header for the HTML listing file (htmlize).</h2><span id='topic+StartList'></span>

<h3>Description</h3>

<p>Initiate the listing file for an R listing in HTML format.</p>


<h3>Usage</h3>

<pre><code class='language-R'>StartList(listcon,title="R listing",bgcolor="#dddddd",useCSS=NULL)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="StartList_+3A_listcon">listcon</code></td>
<td>
<p>The connection for writing to the listing file.</p>
</td></tr>
<tr><td><code id="StartList_+3A_title">title</code></td>
<td>
<p>The title and heading for the listing frame.</p>
</td></tr>
<tr><td><code id="StartList_+3A_bgcolor">bgcolor</code></td>
<td>
<p>The background color for the listing frame.</p>
</td></tr>
<tr><td><code id="StartList_+3A_usecss">useCSS</code></td>
<td>
<p>Path and filename of a CSS stylesheet.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>&lsquo;<span class="samp">&#8288;StartList&#8288;</span>&rsquo; sets up the file with the listing
frame information for the HTML listing.
</p>


<h3>Value</h3>

<p>nil</p>


<h3>Author(s)</h3>

<p>Jim Lemon</p>

<hr>
<h2 id='StartNav'>Write the header for the HTML navigation file (R2html).</h2><span id='topic+StartNav'></span>

<h3>Description</h3>

<p>Initiate the navigation file for an R listing in HTML format.</p>


<h3>Usage</h3>

<pre><code class='language-R'>StartNav(navcon,title="R listing",bgcolor="#dddddd")</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="StartNav_+3A_navcon">navcon</code></td>
<td>
<p>The connection for writing to the navigation file.</p>
</td></tr>
<tr><td><code id="StartNav_+3A_title">title</code></td>
<td>
<p>Title for the navigation window.</p>
</td></tr>
<tr><td><code id="StartNav_+3A_bgcolor">bgcolor</code></td>
<td>
<p>The background color for the navigation frame.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>&lsquo;<span class="samp">&#8288;StartNav&#8288;</span>&rsquo; sets up the file with the navigation
frame information for the HTML listing for &lsquo;<span class="samp">&#8288;R2html&#8288;</span>&rsquo;.
</p>


<h3>Value</h3>

<p>nil</p>


<h3>Author(s)</h3>

<p>Philippe Grosjean</p>

<hr>
<h2 id='stretch_df'>
Reshape a data frame from &quot;long&quot; to &quot;wide&quot; format
</h2><span id='topic+stretch_df'></span>

<h3>Description</h3>

<p>Reshape a data frame by reducing the multiple rows of repeated variables to
a single row for each instance (usually a &quot;case&quot; or object) and stretching
out the variables that are not repeated within each case.
</p>


<h3>Usage</h3>

<pre><code class='language-R'> stretch_df(x,idvar,to.stretch,ordervar=NA,include.ordervar=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stretch_df_+3A_x">x</code></td>
<td>
<p>A data frame.</p>
</td></tr>
<tr><td><code id="stretch_df_+3A_idvar">idvar</code></td>
<td>
<p>A variable that identifies instances (cases or objects).</p>
</td></tr>
<tr><td><code id="stretch_df_+3A_to.stretch">to.stretch</code></td>
<td>
<p>Which variables are to be stretched out in the single row.</p>
</td></tr>
<tr><td><code id="stretch_df_+3A_ordervar">ordervar</code></td>
<td>
<p>Variable that gives the order of the stretched variables.</p>
</td></tr>
<tr><td><code id="stretch_df_+3A_include.ordervar">include.ordervar</code></td>
<td>
<p>Include the ordering variable in the output.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>&lsquo;<span class="samp">&#8288;stretch_df&#8288;</span>&rsquo; takes a data frame in which at least some instances have
multiple rows and reshapes it into a &quot;wide&quot; format with one row per instance.
The variable passed as &lsquo;<span class="samp">&#8288;idvar&#8288;</span>&rsquo; distinguishes the instances, and will be
the first column in the new data frame. All other variables in the data frame
except those named in &lsquo;<span class="samp">&#8288;to.stretch&#8288;</span>&rsquo; and &lsquo;<span class="samp">&#8288;ordervar&#8288;</span>&rsquo; will follow
&lsquo;<span class="samp">&#8288;idvar&#8288;</span>&rsquo;.
The variables named in &lsquo;<span class="samp">&#8288;to.stretch&#8288;</span>&rsquo; will follow the variables that are
not repeated in the initial data frame, along with the order variable if
&lsquo;<span class="samp">&#8288;include.ordervar&#8288;</span>&rsquo; is TRUE.
</p>


<h3>Value</h3>

<p>The reshaped data frame.</p>


<h3>Note</h3>

<p>&lsquo;<span class="samp">&#8288;stretch_df&#8288;</span>&rsquo; mostly does what other reshaping functions can do, but may
be more easy to understand. It will stretch multiple variables, something that
some reshaping functions will not do.
</p>


<h3>Author(s)</h3>

<p>Jim Lemon</p>


<h3>See Also</h3>

<p><a href="stats.html#topic+reshape">reshape</a></p>


<h3>Examples</h3>

<pre><code class='language-R'> # create a data frame with two repeated variables
 longdf&lt;-data.frame(ID=c(rep(111,3),rep(222,4),rep(333,6),rep(444,3)),
  name=c(rep("Joe",3),rep("Bob",4),rep("Sue",6),rep("Bea",3)),
  score1=sample(1:10,16,TRUE),score2=sample(0:100,16),
  scoreorder=c(1,2,3,4,3,2,1,4,6,3,5,1,2,1,2,3))
 stretch_df(longdf,"ID",c("score1","score2"),"scoreorder")
</code></pre>

<hr>
<h2 id='toNA'>Set specified values in an object to NA</h2><span id='topic+toNA'></span>

<h3>Description</h3>

<p>Sets all specified values in an object to NA.</p>


<h3>Usage</h3>

<pre><code class='language-R'>toNA(x,values=NA)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="toNA_+3A_x">x</code></td>
<td>
<p>A vector, matrix or data frame (max 2D).</p>
</td></tr>
<tr><td><code id="toNA_+3A_values">values</code></td>
<td>
<p>One or more values that are to be set to NA.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>&lsquo;<span class="samp">&#8288;toNA&#8288;</span>&rsquo; sets all entries in an object in values to NA. Useful for
converting various missing value samps to NA.
</p>


<h3>Value</h3>

<p>The object with NAs replacing all specified values.</p>


<h3>Author(s)</h3>

<p>Jim Lemon</p>


<h3>See Also</h3>

<p><a href="base.html#topic++25in+25">%in%</a></p>

<hr>
<h2 id='truncString'>
Truncate strings and add ellipses if a string is truncated.
</h2><span id='topic+truncString'></span>

<h3>Description</h3>

<p>Truncates one or more strings to a specified length, adding an ellipsis (...)
to those strings that have been truncated. The justification of the strings can
be controlled by the &lsquo;<span class="samp">&#8288;justify&#8288;</span>&rsquo; argument as in <a href="base.html#topic+format">format</a>, which does
the padding and justification.
</p>


<h3>Usage</h3>

<pre><code class='language-R'> truncString(x,maxlen=20,justify="left")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="truncString_+3A_x">x</code></td>
<td>
<p>A vector of strings.</p>
</td></tr>
<tr><td><code id="truncString_+3A_maxlen">maxlen</code></td>
<td>
<p>The maximum length of the returned strings.</p>
</td></tr>
<tr><td><code id="truncString_+3A_justify">justify</code></td>
<td>
<p>Justification for the new strings.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The string(s) passed as &lsquo;<span class="samp">&#8288;x&#8288;</span>&rsquo; now with a maximum length of &lsquo;<span class="samp">&#8288;maxlen&#8288;</span>&rsquo;.
</p>


<h3>Author(s)</h3>

<p>Jim Lemon</p>


<h3>See Also</h3>

<p><a href="base.html#topic+substr">substr</a></p>

<hr>
<h2 id='valid.n'>
Find the number of valid (not NA) values
</h2><span id='topic+valid.n'></span>

<h3>Description</h3>

<p>Finds the number of valid (not NA) or total values in an object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'> valid.n(x,na.rm=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="valid.n_+3A_x">x</code></td>
<td>
<p>An object.</p>
</td></tr>
<tr><td><code id="valid.n_+3A_na.rm">na.rm</code></td>
<td>
<p>Whether to count all values (FALSE) or only those not NA.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>&lsquo;<span class="samp">&#8288;valid.n&#8288;</span>&rsquo; finds the number of valid values of the object if &lsquo;<span class="samp">&#8288;na.rm=TRUE&#8288;</span>&rsquo;.
</p>


<h3>Value</h3>

<p>The number of valid values or the length of the object.</p>


<h3>Author(s)</h3>

<p>Jim Lemon</p>


<h3>See Also</h3>

<p><a href="#topic+describe">describe</a></p>

<hr>
<h2 id='xtab'>Crosstabulate variables</h2><span id='topic+xtab'></span>

<h3>Description</h3>

<p>Crosstabulates variables with small numbers of unique values.</p>


<h3>Usage</h3>

<pre><code class='language-R'> xtab(formula,data,varnames=NULL,or=TRUE,chisq=FALSE,phi=FALSE,html=FALSE,
  bgcol="lightgray",lastone=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="xtab_+3A_formula">formula</code></td>
<td>
<p>a formula containing the variables to be crosstabulated</p>
</td></tr>
<tr><td><code id="xtab_+3A_data">data</code></td>
<td>
<p>the data frame from which to select the variables</p>
</td></tr>
<tr><td><code id="xtab_+3A_varnames">varnames</code></td>
<td>
<p>optional labels for the variables (defaults to &lsquo;<span class="samp">&#8288;names(data))&#8288;</span>&rsquo;</p>
</td></tr>
<tr><td><code id="xtab_+3A_or">or</code></td>
<td>
<p>whether to calculate the odds ratio (only for 2x2 tables).</p>
</td></tr>
<tr><td><code id="xtab_+3A_chisq">chisq</code></td>
<td>
<p>logical - whether to display chi squared test(s) of the table(s)</p>
</td></tr>
<tr><td><code id="xtab_+3A_phi">phi</code></td>
<td>
<p>whether to calculate and display the phi coefficient
of association - only for 2x2 tables</p>
</td></tr>
<tr><td><code id="xtab_+3A_html">html</code></td>
<td>
<p>whether to format the resulting table with HTML tags.</p>
</td></tr>
<tr><td><code id="xtab_+3A_bgcol">bgcol</code></td>
<td>
<p>background color for the table if html=TRUE.</p>
</td></tr>
<tr><td><code id="xtab_+3A_lastone">lastone</code></td>
<td>
<p>A flag that controls the names of the returned list.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>&lsquo;<span class="samp">&#8288;xtab&#8288;</span>&rsquo; will accept a formula referring to columns in a data frame or two explicit
variable names.
It calls &lsquo;<span class="samp">&#8288;calculate.xtab&#8288;</span>&rsquo; for the calculations and displays one or more tables of
results by calling &lsquo;<span class="samp">&#8288;print.xtab&#8288;</span>&rsquo;.
If &lsquo;<span class="samp">&#8288;html&#8288;</span>&rsquo; is TRUE, the resulting table will be formatted with HTML tags.
The default value of &lsquo;<span class="samp">&#8288;lastone&#8288;</span>&rsquo; should not be changed.
</p>


<h3>Value</h3>

<p>The result of &lsquo;<span class="samp">&#8288;calculate.xtab&#8288;</span>&rsquo; if there is only one table to display, 
otherwise a nested list of tables.</p>


<h3>Author(s)</h3>

<p>Jim Lemon</p>


<h3>See Also</h3>

<p><a href="base.html#topic+table">table</a>, <a href="#topic+calculate.xtab">calculate.xtab</a>, <a href="#topic+print.xtab">print.xtab</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'> test.df&lt;-data.frame(sex=sample(c("MALE","FEMALE"),1000,TRUE),
 suburb=sample(1:4,1000,TRUE),social.type=sample(LETTERS[1:4],1000,TRUE))
 xtab(sex~suburb+social.type,test.df,chisq=TRUE)
 # now add some value labels
 attr(test.df$suburb,"value.labels")&lt;-1:4
 names(attr(test.df$suburb,"value.labels"))&lt;-
  c("Upper","Middle","Working","Slum")
 attr(test.df$social.type,"value.labels")&lt;-LETTERS[1:4]
 names(attr(test.df$social.type,"value.labels"))&lt;-
  c("Gregarious","Mixer","Aloof","Hermit")
 xtab(sex~suburb+social.type,test.df)
 # now have some fun with ridiculously long factor labels
 testxtab&lt;-data.frame(firstbit=sample(c("Ecomaniacs","Redneck rogues"),50,TRUE),
  secondbit=sample(c("Macho bungy jumpers","Wimpy quiche munchers"),50,TRUE))
 # and format the table in HTML and add some tests
 xtab(secondbit~firstbit,testxtab,html=TRUE,chisq=TRUE,phi=TRUE)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package sinew</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {sinew}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#create_yml'><p>Create _sinewconfig.yml</p></a></li>
<li><a href='#interOxyAddIn'><p>Interactive add-in</p></a></li>
<li><a href='#ls_param'><p>Return roxygen2 parameter calls from parameter dictionary</p></a></li>
<li><a href='#make_force_packages'><p>Create lists of <code>package</code> exports</p></a></li>
<li><a href='#make_import'><p>Populate import fields for documentation</p></a></li>
<li><a href='#makeDictionary'><p>Parse package R files to create dictionary of unique parameter definitions</p></a></li>
<li><a href='#makeOxyFile'><p>Inserts roxygen2 skeletons in file(s).</p></a></li>
<li><a href='#makeOxygen'><p>Populate Roxygen2 Skeleton</p></a></li>
<li><a href='#moga'><p>Make Oxygen Great Again</p></a></li>
<li><a href='#parse_check'><p>parse_check</p></a></li>
<li><a href='#pretty_addin'><p>Interactively run pretty functions in R and Rmd files</p></a></li>
<li><a href='#pretty_merge'><p>pretty_merge</p></a></li>
<li><a href='#pretty_namespace'><p>Append namespace to functions in script</p></a></li>
<li><a href='#pretty_rmd'><p>Attach namespacing to Rmarkdown chunks</p></a></li>
<li><a href='#pretty_sinew'><p>Convert File to R directory with pretty and oxygen</p></a></li>
<li><a href='#rmOxygen'><p>Remove roxygen2 Comments From an .R File</p></a></li>
<li><a href='#sinew_opts'><p>Default and current sinew options</p></a></li>
<li><a href='#tabular'><p>Tabular for roxygen2</p></a></li>
<li><a href='#untangle'><p>Split an R script by functions</p></a></li>
<li><a href='#untangle_examples'><p>Convert examples blocks in roxygen2 header to script</p></a></li>
<li><a href='#update_desc'><p>Update Package Description File</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Package Development Documentation and Namespace Management</td>
</tr>
<tr>
<td>Version:</td>
<td>0.4.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2022-03-27</td>
</tr>
<tr>
<td>Description:</td>
<td>Manage package documentation and namespaces from the command line. 
             Programmatically attach namespaces in R and Rmd script, populates 
             'Roxygen2' skeletons with information scraped from within functions and 
             populate the Imports field of the DESCRIPTION file.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.2.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>rstudioapi, utils, tools, sos, stringi, yaml, crayon, cli,
rematch2</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Suggests:</td>
<td>rcmdcheck, git2r, shiny, miniUI, withr, usethis, fs, details,
roxygen2, testthat, knitr, rmarkdown</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/yonicd/sinew">https://github.com/yonicd/sinew</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/yonicd/sinew/issues">https://github.com/yonicd/sinew/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-03-27 20:01:36 UTC; yonis</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Author:</td>
<td>Jonathan Sidi [aut, cre],
  Anton Grishin [ctb],
  Lorenzo Busetto [ctb],
  Alexey Shiklomanov [ctb],
  Stephen Holsenbeck [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jonathan Sidi &lt;yonicd@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-03-31 10:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='create_yml'>Create _sinewconfig.yml</h2><span id='topic+create_yml'></span>

<h3>Description</h3>

<p>Create _sinewconfig.yml file in project root directory
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_yml()
</code></pre>


<h3>Value</h3>

<p>nothing
</p>


<h3>Author(s)</h3>

<p>Jonathan Sidi
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
create_yml()

## End(Not run)
</code></pre>

<hr>
<h2 id='interOxyAddIn'>Interactive add-in</h2><span id='topic+interOxyAddIn'></span>

<h3>Description</h3>

<p>Launches an interactive addin for insertion of roxygen2 comments in files.
Allows selection of extra parameters for <a href="#topic+makeOxygen">makeOxygen</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>interOxyAddIn()
</code></pre>


<h3>Details</h3>

<p>Open an .R file in Rstudio's source editor.
</p>
<p>This addin requires <code>shiny</code> and <code>miniUI</code> to be installed (listed as Suggests in Description)
</p>

<ul>
<li><p> Launch the add-in via Addins -&gt; interactiveOxygen or interOxyAddIn() in the console.
</p>

<ul>
<li><p> Add-in opens in the viewer panel.
</p>
</li></ul>

</li>
<li><p> Select function's/dataset's name in the source editor.
</p>

<ul>
<li><p> If objects cannot be found, the addin prompts to source the file.
</p>
</li>
<li><p> Choose parameters for <a href="#topic+makeOxygen">makeOxygen</a>
</p>

<ul>
<li><p> Click Insert
</p>
</li></ul>

</li></ul>

</li>
<li><p> Select next object's name
</p>
</li>
<li><p> Rinse/Repeat
</p>
</li>
<li><p> Click Quit when done with the file.
</p>
</li></ul>



<h3>Value</h3>

<p>Nothing. Inserts roxygen2 comments in a file opened in the source editor.
</p>


<h3>Author(s)</h3>

<p>Anton Grishin, Jonathan Sidi
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if(interactive()) interOxyAddIn()
</code></pre>

<hr>
<h2 id='ls_param'>Return roxygen2 parameter calls from parameter dictionary</h2><span id='topic+ls_param'></span>

<h3>Description</h3>

<p>Return roxygen2 parameter calls from the intersection of the parameters listed in
the package dictionary and the formals of a function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ls_param(obj, dictionary = "man-roxygen/Dictionary-1.R", print = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ls_param_+3A_obj">obj</code></td>
<td>
<p>function or name of function</p>
</td></tr>
<tr><td><code id="ls_param_+3A_dictionary">dictionary</code></td>
<td>
<p>character, path_to_dictionary, Default: 'roxygen-man/Dictionary-1.R'</p>
</td></tr>
<tr><td><code id="ls_param_+3A_print">print</code></td>
<td>
<p>boolean print output to console, Default: TRUE</p>
</td></tr>
</table>


<h3>Value</h3>

<p>character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>repo='https://raw.githubusercontent.com/yonicd/sinew/master/'
dict_loc=file.path(repo,'man-roxygen/Dictionary-1.R')
ls_param(sinew::makeOxygen,dictionary=dict_loc)
</code></pre>

<hr>
<h2 id='make_force_packages'>Create lists of <code>package</code> exports</h2><span id='topic+make_force_packages'></span>

<h3>Description</h3>

<p>Useful for supplying packages to the <code>force</code> argument to <code>pretty_namespace</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_force_packages(packages)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="make_force_packages_+3A_packages">packages</code></td>
<td>
<p><code>(character)</code> packages to include in list. When duplicate function names exist the order of packages determines which function will be selected first - IE the first package with the function name will include that function, the second package with the function name will not have it listed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>(named list)</code> with package names as names as all exports as a character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>make_force_packages(c("utils"))
</code></pre>

<hr>
<h2 id='make_import'>Populate import fields for documentation</h2><span id='topic+make_import'></span>

<h3>Description</h3>

<p>Scrape <code>R</code> script to create import and importFrom calls for
roxygen2, namespace or description files
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_import(
  script,
  cut = NULL,
  print = TRUE,
  format = "oxygen",
  desc_loc = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="make_import_+3A_script">script</code></td>
<td>
<p>character, connection to pass to readLines, can be file path,
directory path, url path</p>
</td></tr>
<tr><td><code id="make_import_+3A_cut">cut</code></td>
<td>
<p>integer, number of functions to write as importFrom until
switches to import, Default: NULL</p>
</td></tr>
<tr><td><code id="make_import_+3A_print">print</code></td>
<td>
<p>boolean, print output to console, Default: TRUE</p>
</td></tr>
<tr><td><code id="make_import_+3A_format">format</code></td>
<td>
<p>character, the output format must be in
c('oxygen','description','import'), Default: 'oxygen'</p>
</td></tr>
<tr><td><code id="make_import_+3A_desc_loc">desc_loc</code></td>
<td>
<p>character, path to DESCRIPTION file,
if not NULL then the Imports fields in the DESCRIPTION file, Default: NULL</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>
# copy dummy package to tempdir
file.copy(system.file('pkg',package = 'sinew'),tempdir(),recursive = TRUE)

pkg_dir &lt;- file.path(tempdir(),'pkg')
pkg_dir_R &lt;- file.path(pkg_dir,'R')
pkg_dir_DESC &lt;- file.path(pkg_dir,'DESCRIPTION')

# update namespaces in package functions
pretty_namespace(pkg_dir_R, overwrite = TRUE)

# update imports/importsFrom for roxygen2 tags
make_import(pkg_dir_R,format = 'oxygen')

# update Imports for DESCRIPTION file output to console
make_import(pkg_dir_R,format = 'description')

# update Imports for DESCRIPTION file overwrite file
make_import(pkg_dir_R,format = 'description', desc_loc = pkg_dir)

cat(readLines(pkg_dir_DESC),sep = '\n')

# cleanup tempdir
unlink(pkg_dir, force = TRUE, recursive = TRUE)

</code></pre>

<hr>
<h2 id='makeDictionary'>Parse package R files to create dictionary of unique parameter definitions</h2><span id='topic+makeDictionary'></span>

<h3>Description</h3>

<p>Given list of R files function returns roxygen2 template consisting of intersecting
parameter definitions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>makeDictionary(path, save_path = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="makeDictionary_+3A_path">path</code></td>
<td>
<p>character or character vector of paths to files to parse</p>
</td></tr>
<tr><td><code id="makeDictionary_+3A_save_path">save_path</code></td>
<td>
<p>boolean that allows for function to write template to man-roxygen subdirectory, Default: FALSE</p>
</td></tr>
</table>


<h3>Value</h3>

<p>character/character vector of intersecting parameters
</p>


<h3>Examples</h3>

<pre><code class='language-R'>makeDictionary('R')
</code></pre>

<hr>
<h2 id='makeOxyFile'>Inserts roxygen2 skeletons in file(s).</h2><span id='topic+makeOxyFile'></span>

<h3>Description</h3>

<p>Applies <code>makeOxygen</code> function to all functions/dataframes in supplied file(s)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>makeOxyFile(input = NULL, overwrite = FALSE, verbose = interactive(), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="makeOxyFile_+3A_input">input</code></td>
<td>
<p>character, vector of path(s) to one or more .R files, a path to directory containing .R files, Default: NULL</p>
</td></tr>
<tr><td><code id="makeOxyFile_+3A_overwrite">overwrite</code></td>
<td>
<p>logical, If TRUE overwrites file(s), FALSE writes &quot;Oxy&quot;- prefixed files in the same directory, Default: FALSE</p>
</td></tr>
<tr><td><code id="makeOxyFile_+3A_verbose">verbose</code></td>
<td>
<p>logical, If TRUE will print output to console and open edited files in the editor viewer, Default: interactive()</p>
</td></tr>
<tr><td><code id="makeOxyFile_+3A_...">...</code></td>
<td>
<p>additional parameters passed to <code>makeOxygen</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>If an object cannot be found it will be sourced into a temporary environment.
If the file already contains roxygen2 comments they will be deleted to avoid duplication.
Some functions may require attaching additional packages. For instance, if functions
were defined with purrr's <code>compose</code> or <code>partial</code> functions, omission of <code>purr::</code> in definitions will
require <code>library(purrr)</code> before proceeding with <code>makeOxyFile</code>.
</p>


<h3>Value</h3>

<p>Nothing. Writes files with roxygen2 comments as a side effect
</p>


<h3>Author(s)</h3>

<p>Anton Grishin
</p>


<h3>See Also</h3>

<p><a href="#topic+makeOxygen">makeOxygen</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'> 
# copy dummy package to tempdir
  file.copy(system.file('pkg',package = 'sinew'),tempdir(),recursive = TRUE)
  pkg_dir &lt;- file.path(tempdir(),'pkg')
  pkg_dir_R &lt;- file.path(pkg_dir,'R')

# update namespaces in package functions
  pretty_namespace(pkg_dir_R, overwrite = TRUE)
   
 # test on one R file 
 # this will create a new R file called 'oxy-yy.R' in the same directory
   makeOxyFile(file.path(pkg_dir_R,'yy.R'))
 
 # Remove the file
   unlink(file.path(pkg_dir_R,'oxy-yy.R'))
 
 # Test on all R files in directory and overwrite the contents
   makeOxyFile(pkg_dir_R, overwrite = TRUE)
 
 # Remove Skeleton
   rmOxygen(file.path(pkg_dir_R,'yy.R'))
   rmOxygen(file.path(pkg_dir_R,'zz.R'))
   
 # adds more fields to defaults, passes "cut" to make_import
   sinew_opts$append(list(add_fields=c("concept", "describeIn")))
   makeOxyFile(file.path(pkg_dir_R,'yy.R'), cut = 5)
 
 # cleanup 
   unlink(pkg_dir, recursive = TRUE, force = TRUE)
   sinew_opts$restore()
   
</code></pre>

<hr>
<h2 id='makeOxygen'>Populate Roxygen2 Skeleton</h2><span id='topic+makeOxygen'></span>

<h3>Description</h3>

<p>Creates roxygen2 skeleton including title,
description, import and other fields for
an object in the global environment or a function of an attached namespace.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>makeOxygen(
  obj,
  add_default = TRUE,
  add_fields = sinew_opts$get("add_fields"),
  use_dictionary = NULL,
  print = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="makeOxygen_+3A_obj">obj</code></td>
<td>
<p>function or name of function</p>
</td></tr>
<tr><td><code id="makeOxygen_+3A_add_default">add_default</code></td>
<td>
<p>boolean to add defaults values to the end of the PARAM
fields, Default: TRUE</p>
</td></tr>
<tr><td><code id="makeOxygen_+3A_add_fields">add_fields</code></td>
<td>
<p>character vector to add additional roxygen2 fields,
Default: c(&quot;details&quot;,&quot;examples&quot;,&quot;seealso&quot;,&quot;rdname&quot;,&quot;export&quot;)</p>
</td></tr>
<tr><td><code id="makeOxygen_+3A_use_dictionary">use_dictionary</code></td>
<td>
<p>character, path_to_dictionary, Default: NULL</p>
</td></tr>
<tr><td><code id="makeOxygen_+3A_print">print</code></td>
<td>
<p>boolean print output to console, Default: TRUE</p>
</td></tr>
<tr><td><code id="makeOxygen_+3A_...">...</code></td>
<td>
<p>arguments to be passed to make_import</p>
</td></tr>
</table>


<h3>Details</h3>

<p>add_fields can include any slot except for the
defaults (title,description,param,return).
The order in add_fields determines the order of printout.
The roxygen2 fields to add are list below,
for more information go to <a href="https://CRAN.R-project.org/package=roxygen2/vignettes/rd.html">Generating Rd files</a>.
If obj is 'data.frame' or 'tibble' then the fields
c('export','examples','seealso','rdname') will be ignored.
</p>

<table>
<tr>
 <td style="text-align: left;">
<strong>Field</strong>    </td><td style="text-align: left;"> <strong>Skeleton</strong>                           </td>
</tr>
<tr>
 <td style="text-align: left;">
author            </td><td style="text-align: left;"> AUTHOR [AUTHOR_2]                           </td>
</tr>
<tr>
 <td style="text-align: left;">
backref           </td><td style="text-align: left;"> src/filename.cpp                            </td>
</tr>
<tr>
 <td style="text-align: left;">
concept           </td><td style="text-align: left;"> CONCEPT_TERM_1 [CONCEPT_TERM_2]             </td>
</tr>
<tr>
 <td style="text-align: left;">
describeIn        </td><td style="text-align: left;"> FUNCTION_NAME DESCRIPTION                   </td>
</tr>
<tr>
 <td style="text-align: left;">
details           </td><td style="text-align: left;"> DETAILS                                     </td>
</tr>
<tr>
 <td style="text-align: left;">
example           </td><td style="text-align: left;"> path/relative/to/packge/root                </td>
</tr>
<tr>
 <td style="text-align: left;">
export            </td><td style="text-align: left;">                                             </td>
</tr>
<tr>
 <td style="text-align: left;">
family            </td><td style="text-align: left;"> FAMILY_TITLE                                </td>
</tr>
<tr>
 <td style="text-align: left;">
field             </td><td style="text-align: left;"> FIELD_IN_S4_RefClass DESCRIPTION            </td>
</tr>
<tr>
 <td style="text-align: left;">
format            </td><td style="text-align: left;"> DATA_STRUCTURE                              </td>
</tr>
<tr>
 <td style="text-align: left;">
importClassesFrom </td><td style="text-align: left;"> PKG CLASS_a [CLASS_b]                       </td>
</tr>
<tr>
 <td style="text-align: left;">
importMethodsFrom </td><td style="text-align: left;"> PKG METHOD_a [METHOD_b]                     </td>
</tr>
<tr>
 <td style="text-align: left;">
include           </td><td style="text-align: left;"> FILENAME.R [FILENAME_b.R]                   </td>
</tr>
<tr>
 <td style="text-align: left;">
inherit           </td><td style="text-align: left;"> [PKG::]SOURCE_FUNCTION [FIELD_a FIELD_b]    </td>
</tr>
<tr>
 <td style="text-align: left;">
inheritDotParams  </td><td style="text-align: left;"> [PKG::]SOURCE_FUNCTION                      </td>
</tr>
<tr>
 <td style="text-align: left;">
inheritSection    </td><td style="text-align: left;"> [PKG::]SOURCE_FUNCTION [SECTION_a SECTION_b]</td>
</tr>
<tr>
 <td style="text-align: left;">
keywords          </td><td style="text-align: left;"> KEYWORD_TERM                                </td>
</tr>
<tr>
 <td style="text-align: left;">
name              </td><td style="text-align: left;"> NAME                                        </td>
</tr>
<tr>
 <td style="text-align: left;">
rdname            </td><td style="text-align: left;"> FUNCTION_NAME                               </td>
</tr>
<tr>
 <td style="text-align: left;">
references        </td><td style="text-align: left;"> BIB_CITATION                                </td>
</tr>
<tr>
 <td style="text-align: left;">
section           </td><td style="text-align: left;"> SECTION_NAME                                </td>
</tr>
<tr>
 <td style="text-align: left;">
source            </td><td style="text-align: left;"> \url{http://somewhere.important.com/}    </td>
</tr>
<tr>
 <td style="text-align: left;">
slot              </td><td style="text-align: left;"> SLOTNAME DESCRIPTION                        </td>
</tr>
<tr>
 <td style="text-align: left;">
template          </td><td style="text-align: left;"> FILENAME                                    </td>
</tr>
<tr>
 <td style="text-align: left;">
templateVar       </td><td style="text-align: left;"> NAME VALUE                                  </td>
</tr>
<tr>
 <td style="text-align: left;">
useDynLib         </td><td style="text-align: left;"> PKG [routine_a routine_b]
</td>
</tr>

</table>



<h3>Examples</h3>

<pre><code class='language-R'>makeOxygen(stats::lm)
</code></pre>

<hr>
<h2 id='moga'>Make Oxygen Great Again</h2><span id='topic+moga'></span>

<h3>Description</h3>

<p>Update/append an R file that has roxygen2 headers already with updated information
</p>


<h3>Usage</h3>

<pre><code class='language-R'>moga(path, ..., force.fields = NULL, dry.run = TRUE, overwrite = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="moga_+3A_path">path</code></td>
<td>
<p>character path to R file</p>
</td></tr>
<tr><td><code id="moga_+3A_...">...</code></td>
<td>
<p>arguments to be passed to new makeOxygen</p>
</td></tr>
<tr><td><code id="moga_+3A_force.fields">force.fields</code></td>
<td>
<p>character, vector a field names that are in current header that are to be updated Default: NULL</p>
</td></tr>
<tr><td><code id="moga_+3A_dry.run">dry.run</code></td>
<td>
<p>boolean, write lines to console the output, Default: TRUE</p>
</td></tr>
<tr><td><code id="moga_+3A_overwrite">overwrite</code></td>
<td>
<p>boolean, overwrite contents of input file, Default: FALSE</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Cross references fields already in the roxygen2 header and adds any new ones from the updated call.
To force a change to a field add field name to force.fields.
</p>


<h3>Value</h3>

<p>character
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# We want to update the contents of the Roxygen2 with the new parameter "b"
# without touching the other fields

# Before
 cat(readLines(system.file('example_moga.R',package = 'sinew')),sep = '\n')

# After
 moga(system.file('example_moga.R',package = 'sinew'))
 
</code></pre>

<hr>
<h2 id='parse_check'>parse_check</h2><span id='topic+parse_check'></span>

<h3>Description</h3>

<p>check for fail of pretty_parse &gt; parse, and offers to open file to offending line
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parse_check(p, txt, ask)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="parse_check_+3A_p">p</code></td>
<td>
<p>result of <code>pretty_parse</code> &gt; <code>parse</code></p>
</td></tr>
<tr><td><code id="parse_check_+3A_txt">txt</code></td>
<td>
<p>input text to <code>pretty_parse</code></p>
</td></tr>
<tr><td><code id="parse_check_+3A_ask">ask</code></td>
<td>
<p>boolean, If TRUE then a <code><a href="utils.html#topic+menu">menu</a></code> will be created for the use to
choose between competing namespaces for a function, Default: TRUE</p>
</td></tr>
</table>

<hr>
<h2 id='pretty_addin'>Interactively run pretty functions in R and Rmd files</h2><span id='topic+pretty_addin'></span>

<h3>Description</h3>

<p>Addin that scans the file source contents and attaches namespace
information.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pretty_addin()
</code></pre>


<h3>Details</h3>

<p>Either saved or untitled R or Rmd files in the source editor may be used.
</p>
<p>In R files Highlight specific text, or not highlight at all and the whole document will be used.
</p>
<p>In Rmd files highlight subsets of chunks to add namespaces directly in the chunks, or not
highlight at all and the whole document will be used to create a new chunk at the top of the
document with relevant namespaces needed to render the Rmd.
</p>

<hr>
<h2 id='pretty_merge'>pretty_merge</h2><span id='topic+pretty_merge'></span>

<h3>Description</h3>

<p>handles <code>force</code> and <code>ignore</code> arguments
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pretty_merge(e1, e2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pretty_merge_+3A_e1">e1</code></td>
<td>
<p><code>(data.frame)</code> typically <code>sym.funs</code> with list of all parsed functions in <code>txt</code></p>
</td></tr>
<tr><td><code id="pretty_merge_+3A_e2">e2</code></td>
<td>
<p><code>(list)</code> typically <code>force</code> or <code>ignore</code> with list of namespaces and the respective functions to force or ignore</p>
</td></tr>
</table>

<hr>
<h2 id='pretty_namespace'>Append namespace to functions in script</h2><span id='topic+pretty_namespace'></span>

<h3>Description</h3>

<p>Autoappend namespace to functions in script by searchpath order
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pretty_namespace(
  con = NULL,
  text = NULL,
  ask = TRUE,
  askenv = new.env(),
  force = NULL,
  ignore = NULL,
  overwrite = FALSE,
  sos = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pretty_namespace_+3A_con">con</code></td>
<td>
<p>character, path to file or directory that contains script, Default: NULL</p>
</td></tr>
<tr><td><code id="pretty_namespace_+3A_text">text</code></td>
<td>
<p>character, vector that contains script, Default: NULL</p>
</td></tr>
<tr><td><code id="pretty_namespace_+3A_ask">ask</code></td>
<td>
<p>boolean, If TRUE then a <code><a href="utils.html#topic+menu">menu</a></code> will be created for the use to
choose between competing namespaces for a function, Default: TRUE</p>
</td></tr>
<tr><td><code id="pretty_namespace_+3A_askenv">askenv</code></td>
<td>
<p>environment, environment that stores names of functions to force in ask,
Default: new.env()</p>
</td></tr>
<tr><td><code id="pretty_namespace_+3A_force">force</code></td>
<td>
<p>list, named list of functions to force over the
internal search (seee details), Default: NULL</p>
</td></tr>
<tr><td><code id="pretty_namespace_+3A_ignore">ignore</code></td>
<td>
<p>list, named list of functions to ignore (seee details), Default: NULL</p>
</td></tr>
<tr><td><code id="pretty_namespace_+3A_overwrite">overwrite</code></td>
<td>
<p>boolean, overwrite original file, Default: FALSE</p>
</td></tr>
<tr><td><code id="pretty_namespace_+3A_sos">sos</code></td>
<td>
<p>boolean, apply sos search for uninstalled libraries, Default: FALSE</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Searches for functions in the <code>loadedNamespace</code>, <code>help.search</code> and then <code><a href="sos.html#topic+findFn">findFn</a></code>.
If force is not NULL but a named list eg <code>list(stats=c('rnorm','runif'),utils = 'head')</code>,
then the value pairs will be used in place of what was found using the search path.
If ignore is not NULL but a named list eg <code>list(stats=c('rnorm','runif'),utils = 'head')</code>,
then if the functions are found they will not have a namespace attached to them.
</p>
<p>If you want to toggle off the summary console printing you can set it globally via
<code>sinew_opts$set(pretty_print=FALSE)</code>.
</p>


<h3>Value</h3>

<p>character
</p>


<h3>Author(s)</h3>

<p>Jonathan Sidi
</p>


<h3>See Also</h3>

<p><a href="sos.html#topic+findFn">findFn</a>, <a href="utils.html#topic+help.search">help.search</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>txt &lt;- '#some comment
yy &lt;- function(a=4){
  head(runif(10),a)
  # a comment
}

zz &lt;- function(v=10,a=8){
  head(runif(v),a)
}'

pretty_namespace(text=txt)

</code></pre>

<hr>
<h2 id='pretty_rmd'>Attach namespacing to Rmarkdown chunks</h2><span id='topic+pretty_rmd'></span>

<h3>Description</h3>

<p>Apply pretty_namespace to Rmarkdown document
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pretty_rmd(
  input,
  output = tempfile(fileext = ".Rmd"),
  open_output = TRUE,
  create_library = TRUE,
  chunks = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pretty_rmd_+3A_input">input</code></td>
<td>
<p>character, path to input Rmd file</p>
</td></tr>
<tr><td><code id="pretty_rmd_+3A_output">output</code></td>
<td>
<p>character, path to output Rmd file, Default: NULL</p>
</td></tr>
<tr><td><code id="pretty_rmd_+3A_open_output">open_output</code></td>
<td>
<p>boolean, open the output on.exit, Default: TRUE</p>
</td></tr>
<tr><td><code id="pretty_rmd_+3A_create_library">create_library</code></td>
<td>
<p>boolean, create library chunk, Default: TRUE</p>
</td></tr>
<tr><td><code id="pretty_rmd_+3A_chunks">chunks</code></td>
<td>
<p>numeric, indicies of chunks to run on, Default: NULL</p>
</td></tr>
<tr><td><code id="pretty_rmd_+3A_...">...</code></td>
<td>
<p>arguments to pass to pretty_namespace</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If output is NULL then the returned lines are printed to console.
If chunks is NULL then all the chunks are used.
</p>


<h3>Value</h3>

<p>character
</p>


<h3>Author(s)</h3>

<p>Jonathan Sidi
</p>


<h3>See Also</h3>

<p><a href="#topic+pretty_namespace">pretty_namespace</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  if(interactive()){
    pretty_rmd(input = system.file('example.Rmd',package = 'sinew'))
  }

## End(Not run)
</code></pre>

<hr>
<h2 id='pretty_sinew'>Convert File to R directory with pretty and oxygen</h2><span id='topic+pretty_sinew'></span>

<h3>Description</h3>

<p>One function to run <a href="#topic+pretty_namespace">pretty_namespace</a>, <a href="#topic+untangle">untangle</a> and <a href="#topic+makeOxyFile">makeOxyFile</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pretty_sinew(con = NULL, text = NULL, dir.out = NULL, keep.body = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pretty_sinew_+3A_con">con</code></td>
<td>
<p>character, path to file or directory that contains script, Default: NULL</p>
</td></tr>
<tr><td><code id="pretty_sinew_+3A_text">text</code></td>
<td>
<p>character, vector that contains script, Default: NULL</p>
</td></tr>
<tr><td><code id="pretty_sinew_+3A_dir.out">dir.out</code></td>
<td>
<p>character, path to save new R files, Default: NULL</p>
</td></tr>
<tr><td><code id="pretty_sinew_+3A_keep.body">keep.body</code></td>
<td>
<p>boolean, if TRUE all non-functions will be saved to body.R in the parent
directory of dir.out, Default: TRUE</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If dir.out is set to NULL all outputs are redirected into file.path(tempdir(),'sinew')
</p>


<h3>Value</h3>

<p>Nothing, side effects is to create files
</p>


<h3>Author(s)</h3>

<p>Jonathan Sidi
</p>

<hr>
<h2 id='rmOxygen'>Remove roxygen2 Comments From an .R File</h2><span id='topic+rmOxygen'></span>

<h3>Description</h3>

<p>Strips .R files of roxygen2 style comments (#')
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rmOxygen(.file, showonexit = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rmOxygen_+3A_.file">.file</code></td>
<td>
<p>character, path to an .R file, character vector of length 1</p>
</td></tr>
<tr><td><code id="rmOxygen_+3A_showonexit">showonexit</code></td>
<td>
<p>logical, show file on exit. Default: TRUE</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Nothing. Overwrites files as a side effect
</p>


<h3>Author(s)</h3>

<p>Anton Grishin
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
rmOxygen("./myRfunctions/function1.R")

## End(Not run)
</code></pre>

<hr>
<h2 id='sinew_opts'>Default and current sinew options</h2><span id='topic+sinew_opts'></span><span id='topic+sinew_opts_current'></span>

<h3>Description</h3>

<p>Options for functions in the sinew package. When running R code, the object <code>sinew_opts</code>
(default options) is not modified by chunk headers (local chunk options are
merged with default options), whereas <code>sinew_opts_current</code> (current options)
changes with different chunk headers and it always reflects the options for
the current chunk.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sinew_opts

sinew_opts_current
</code></pre>


<h3>Format</h3>

<p>An object of class <code>list</code> of length 5.
</p>
<p>An object of class <code>list</code> of length 5.
</p>


<h3>Details</h3>

<p>Normally we set up the global options once in the first code chunk in a
document using <code>sinew_opts$set()</code>, so that all <em>latter</em> chunks will
use these options. Note the global options set in one chunk will not affect
the options in this chunk itself, and that is why we often need to set global
options in a separate chunk.
</p>
<p>A list of default chunk options, can be retrieved via
<code>sinew_opts$get()</code>
</p>


<h3>Note</h3>

<p><code>sinew_opts_current</code> is read-only in the sense that it does nothing if
you call <code>sinew_opts_current$set()</code>; you can only query the options via
<code>sinew_opts_current$get()</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>sinew_opts$get()
</code></pre>

<hr>
<h2 id='tabular'>Tabular for roxygen2</h2><span id='topic+tabular'></span>

<h3>Description</h3>

<p>Convert data.frame to roxygen2 tabular format
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tabular(df, header = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tabular_+3A_df">df</code></td>
<td>
<p>data.frame to convert to table</p>
</td></tr>
<tr><td><code id="tabular_+3A_header">header</code></td>
<td>
<p>boolean to control if header is created from names(df), Default: TRUE</p>
</td></tr>
<tr><td><code id="tabular_+3A_...">...</code></td>
<td>
<p>arguments to pass to format</p>
</td></tr>
</table>


<h3>Value</h3>

<p>character
</p>


<h3>Source</h3>

<p><a href="https://CRAN.R-project.org/package=roxygen2/vignettes/roxygen2.html">roxygen2 formatting</a>
</p>


<h3>See Also</h3>

<p><a href="base.html#topic+format">format</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tabular(mtcars[1:5, 1:5])
tabular(mtcars[1:5, 1:5],header=FALSE)
</code></pre>

<hr>
<h2 id='untangle'>Split an R script by functions</h2><span id='topic+untangle'></span>

<h3>Description</h3>

<p>Split a R script with multiple functions into multiple single function R files.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>untangle(
  file = "",
  text = NULL,
  dir.out = "",
  keep.body = TRUE,
  dir.body = dirname(dir.out)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="untangle_+3A_file">file</code></td>
<td>
<p>character, path to R file, Default: &rdquo;</p>
</td></tr>
<tr><td><code id="untangle_+3A_text">text</code></td>
<td>
<p>character, vector of R commands, Default: NULL</p>
</td></tr>
<tr><td><code id="untangle_+3A_dir.out">dir.out</code></td>
<td>
<p>character, path to save new R files, Default: NULL</p>
</td></tr>
<tr><td><code id="untangle_+3A_keep.body">keep.body</code></td>
<td>
<p>boolean, if TRUE all non-functions will be saved to body.R in the parent
directory of dir.out, Default: TRUE</p>
</td></tr>
<tr><td><code id="untangle_+3A_dir.body">dir.body</code></td>
<td>
<p>character, path to save body.R files, Default: dirname(dir.out)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Functions that are objects in lists are treated as objects and will stay in body.R .
</p>


<h3>Value</h3>

<p>list of seperate functions
</p>


<h3>Author(s)</h3>

<p>Jonathan Sidi
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
test_dir &lt;- file.path(tempdir(),'sinew_test')

dir.create(test_dir)

txt &lt;- "#some comment
yy &lt;- function(a=4){
 head(runif(10),a)
 # a comment
}

v &lt;- 20

#another comment
zz &lt;- function(v=10,a=3){
 head(runif(v),pmin(a,v))
}

zz(v)

"

untangle(text = txt,dir.out = test_dir)

list.files(tempdir(), recursive = TRUE, pattern = '.R$')

cat( readLines(file.path(test_dir,'yy.R')), sep = '\n')

cat( readLines(file.path(test_dir,'zz.R')), sep = '\n')

cat( readLines(file.path(tempdir(),'body.R')), sep = '\n')

unlink(test_dir, force = TRUE, recursive = TRUE)


</code></pre>

<hr>
<h2 id='untangle_examples'>Convert examples blocks in roxygen2 header to script</h2><span id='topic+untangle_examples'></span>

<h3>Description</h3>

<p>Converts and aggregates roxygen2 examples into a
single output file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>untangle_examples(input, output = "./roxy_ex_to_file.R")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="untangle_examples_+3A_input">input</code></td>
<td>
<p>character, file or directory</p>
</td></tr>
<tr><td><code id="untangle_examples_+3A_output">output</code></td>
<td>
<p>character, file path of output, Default: './roxy_ex_to_file.R'</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If output is set to NULL then output returned as invisible character object.
</p>


<h3>Value</h3>

<p>writes R file to disk
</p>


<h3>Author(s)</h3>

<p>Jonathan Sidi
</p>

<hr>
<h2 id='update_desc'>Update Package Description File</h2><span id='topic+update_desc'></span>

<h3>Description</h3>

<p>Update package DESCRIPTION file Imports field
</p>


<h3>Usage</h3>

<pre><code class='language-R'>update_desc(path, overwrite = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="update_desc_+3A_path">path</code></td>
<td>
<p>character, path to R folder containing package functions</p>
</td></tr>
<tr><td><code id="update_desc_+3A_overwrite">overwrite</code></td>
<td>
<p>logical, overwrite the file, Default: TRUE</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If overwrite is FALSE then the output will be returned to the console.
</p>


<h3>Author(s)</h3>

<p>Jonathan Sidi
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# copy dummy package to tempdir
file.copy(system.file('pkg',package = 'sinew'),tempdir(),recursive = TRUE)

pkg_dir &lt;- file.path(tempdir(),'pkg')
pkg_dir_R &lt;- file.path(pkg_dir,'R')
pkg_dir_DESC &lt;- file.path(pkg_dir,'DESCRIPTION')

# update namespaces in package functions
pretty_namespace(pkg_dir_R,overwrite = TRUE)

# send result to the console
update_desc(pkg_dir_R,overwrite = FALSE)

# overwrite the Imports field
update_desc(pkg_dir_R,overwrite = TRUE)

# view DESCRIPTION file
cat(readLines(pkg_dir_DESC),sep='\n')

# cleanup tempdir
unlink(pkg_dir,recursive = TRUE,force = TRUE)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

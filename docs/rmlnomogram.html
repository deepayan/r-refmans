<!DOCTYPE html><html lang="en"><head><title>Help for package rmlnomogram</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {rmlnomogram}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#create_nomogram'><p>Construct nomogram for a machine learning model</p></a></li>
<li><a href='#nomogram_features'><p>Nomogram features using categorical predictors</p></a></li>
<li><a href='#nomogram_features2'><p>Nomogram features using categorical and 1 numerical predictors</p></a></li>
<li><a href='#nomogram_features3'><p>Nomogram features using categorical predictors</p></a></li>
<li><a href='#nomogram_features4'><p>Nomogram features using categorical and 1 numerical predictors</p></a></li>
<li><a href='#nomogram_outputs'><p>Nomogram outputs using the predicted probability of binary outcome</p></a></li>
<li><a href='#nomogram_outputs2'><p>Nomogram outputs using the predicted probability of binary outcome</p></a></li>
<li><a href='#nomogram_outputs3'><p>Nomogram outputs using the estimated value of numerical outcome</p></a></li>
<li><a href='#nomogram_outputs4'><p>Nomogram outputs using the estimated value of numerical outcome</p></a></li>
<li><a href='#nomogram_shaps'><p>Nomogram SHAP values using categorical predictors and binary outcome</p></a></li>
<li><a href='#nomogram_shaps2'><p>Nomogram SHAP values using categorical and 1 numerical predictors and binary</p>
outcome</a></li>
<li><a href='#nomogram_shaps3'><p>Nomogram SHAP values using categorical predictors and numerical outcome</p></a></li>
<li><a href='#nomogram_shaps4'><p>Nomogram SHAP values using categorical and 1 numerical predictors and</p>
numerical outcome</a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Construct Explainable Nomogram for a Machine Learning Model</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.2</td>
</tr>
<tr>
<td>Description:</td>
<td>Construct an explainable nomogram for a machine learning (ML) model to improve availability of an ML prediction model in addition to a computer application, particularly in a situation where a computer, a mobile phone, an internet connection, or the application accessibility are unreliable. This package enables a nomogram creation for any ML prediction models, which is conventionally limited to only a linear/logistic regression model. This nomogram may indicate the explainability value per feature, e.g., the Shapley additive explanation value, for each individual. However, this package only allows a nomogram creation for a model using categorical without or with single numerical predictors. Detailed methodologies and examples are documented in our vignette, available at <a href="https://htmlpreview.github.io/?https://github.com/herdiantrisufriyana/rmlnomogram/blob/master/doc/ml_nomogram_exemplar.html">https://htmlpreview.github.io/?https://github.com/herdiantrisufriyana/rmlnomogram/blob/master/doc/ml_nomogram_exemplar.html</a>.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.4)</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr, purrr, broom, stats, ggplot2, ggpubr, stringr, tidyr,
utils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>tidyverse, knitr, caret, randomForest, iml, testthat (&ge;
3.0.0)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-01-08 10:07:20 UTC; rstudio</td>
</tr>
<tr>
<td>Author:</td>
<td>Herdiantri Sufriyana
    <a href="https://orcid.org/0000-0001-9178-0222"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, cre],
  Emily Chia-Yu Su <a href="https://orcid.org/0000-0003-4801-5159"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Herdiantri Sufriyana &lt;herdi@nycu.edu.tw&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-01-08 16:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='create_nomogram'>Construct nomogram for a machine learning model</h2><span id='topic+create_nomogram'></span>

<h3>Description</h3>

<p>This function constructs a nomogram for either binary or continuous outcomes
based on provided sample features and outputs. It can also incorporate
feature explainability values, such as SHAP values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_nomogram(
  sample_features,
  sample_output,
  feature_exp = NULL,
  threshold = 0.5,
  prob = FALSE,
  est = FALSE,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="create_nomogram_+3A_sample_features">sample_features</code></td>
<td>
<p>A data frame of feature values where each column
represents a feature. The data frame must contain all possible combinations
of feature values. There must be at least one categorical predictor and no
more than one numerical predictor. Only factor and numeric data types are
allowed. The column name 'output' is not allowed. Must not contain any NA
values.</p>
</td></tr>
<tr><td><code id="create_nomogram_+3A_sample_output">sample_output</code></td>
<td>
<p>A data frame with one column 'output' containing
numeric values for either the predicted probabilities (for binary outcomes)
or estimated values (for continuous outcomes). Must not contain any NA
values.</p>
</td></tr>
<tr><td><code id="create_nomogram_+3A_feature_exp">feature_exp</code></td>
<td>
<p>Optional data frame containing feature explainability
values (e.g., SHAP values) with one column for each feature. The structure
must match <code>sample_features</code> in terms of column names. Each column must
contain numeric values. Must not contain any NA values.</p>
</td></tr>
<tr><td><code id="create_nomogram_+3A_threshold">threshold</code></td>
<td>
<p>A numeric scalar between 0 and 1, used to define the
threshold for classifying predicted probabilities into binary outcomes. A
sample is predicted positive if the predicted probability is equal or
greater than this threshold.</p>
</td></tr>
<tr><td><code id="create_nomogram_+3A_prob">prob</code></td>
<td>
<p>A logical scalar indicating if the predicted probabilities
should be shown in the nomogram.</p>
</td></tr>
<tr><td><code id="create_nomogram_+3A_est">est</code></td>
<td>
<p>A logical scalar indicating if the estimated values should be
shown in the nomogram.</p>
</td></tr>
<tr><td><code id="create_nomogram_+3A_verbose">verbose</code></td>
<td>
<p>A logical scalar indicating whether to show a progress bar if
it is required.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot object representing the nomogram.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Binary outcome (or class-wise multinomial outcome)

## 1 - Categorical predictors and binary outcome without probability
data(nomogram_features)
data(nomogram_outputs)
create_nomogram(nomogram_features, nomogram_outputs)

## 2 - Categorical predictors and binary outcome with probability
create_nomogram(nomogram_features, nomogram_outputs, prob = TRUE)

data(nomogram_shaps)
create_nomogram(
  nomogram_features, nomogram_outputs, nomogram_shaps
  , prob = TRUE
)

## 3 - Categorical and 1 numerical predictors and binary outcome with probability
data(nomogram_features2)
data(nomogram_outputs2)
create_nomogram(nomogram_features2, nomogram_outputs2, prob = TRUE)

data(nomogram_shaps2)
create_nomogram(
  nomogram_features2, nomogram_outputs2, nomogram_shaps2
  , prob = TRUE
)

# Continuous outcome

## 4 - Categorical predictors and continuous outcome
data(nomogram_features3)
data(nomogram_outputs3)
create_nomogram(nomogram_features3, nomogram_outputs3, est = TRUE)

data(nomogram_shaps3)
create_nomogram(
  nomogram_features3, nomogram_outputs3, nomogram_shaps3
  , est = TRUE
)

## 5 - Categorical and 1 numerical predictors and continuous outcome
data(nomogram_features4)
data(nomogram_outputs4)
create_nomogram(nomogram_features4, nomogram_outputs4, est = TRUE)

data(nomogram_shaps4)
create_nomogram(
  nomogram_features4, nomogram_outputs4, nomogram_shaps4
  , est = TRUE
)
</code></pre>

<hr>
<h2 id='nomogram_features'>Nomogram features using categorical predictors</h2><span id='topic+nomogram_features'></span>

<h3>Description</h3>

<p>An example of a data frame for <code>sample_features</code> argument in
<code><a href="#topic+create_nomogram">create_nomogram</a></code> function, must only include all possible
combinations of feature values, where one column is available for each
feature.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nomogram_features
</code></pre>


<h3>Format</h3>

<p>A data frame with 16 rows and 4 columns:
</p>

<dl>
<dt>cyl.6</dt><dd><p>A categorical predictor with values of 0 and 1.</p>
</dd>
<dt>cyl.8</dt><dd><p>A categorical predictor with values of 0 and 1.</p>
</dd>
<dt>qsec.1</dt><dd><p>A categorical predictor with values of 0 and 1.</p>
</dd>
<dt>vs.1</dt><dd><p>A categorical predictor with values of 0 and 1.</p>
</dd>
</dl>



<h3>Source</h3>

<p>Derived from <code>mtcars</code> for examples in this package.
</p>

<hr>
<h2 id='nomogram_features2'>Nomogram features using categorical and 1 numerical predictors</h2><span id='topic+nomogram_features2'></span>

<h3>Description</h3>

<p>An example of a data frame for <code>sample_features</code> argument in
<code><a href="#topic+create_nomogram">create_nomogram</a></code> function, must only include all possible
combinations of feature values, where one column is available for each
feature.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nomogram_features2
</code></pre>


<h3>Format</h3>

<p>A data frame with 80 rows and 4 columns:
</p>

<p>.  </p>
<dl>
<dt>qsec</dt><dd><p>A numerical predictor without decimal.</p>
</dd>
<dt>cyl.6</dt><dd><p>A categorical predictor with values of 0 and 1.</p>
</dd>
<dt>cyl.8</dt><dd><p>A categorical predictor with values of 0 and 1.</p>
</dd>
<dt>vs.1</dt><dd><p>A categorical predictor with values of 0 and 1.</p>
</dd>
</dl>



<h3>Source</h3>

<p>Derived from <code>mtcars</code> for examples in this package.
</p>

<hr>
<h2 id='nomogram_features3'>Nomogram features using categorical predictors</h2><span id='topic+nomogram_features3'></span>

<h3>Description</h3>

<p>An example of a data frame for <code>sample_features</code> argument in
<code><a href="#topic+create_nomogram">create_nomogram</a></code> function, must only include all possible
combinations of feature values, where one column is available for each
feature.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nomogram_features3
</code></pre>


<h3>Format</h3>

<p>A data frame with 16 rows and 4 columns:
</p>

<dl>
<dt>cyl.6</dt><dd><p>A categorical predictor with values of 0 and 1.</p>
</dd>
<dt>cyl.8</dt><dd><p>A categorical predictor with values of 0 and 1.</p>
</dd>
<dt>qsec.1</dt><dd><p>A categorical predictor with values of 0 and 1.</p>
</dd>
<dt>vs.1</dt><dd><p>A categorical predictor with values of 0 and 1.</p>
</dd>
</dl>



<h3>Source</h3>

<p>Derived from <code>mtcars</code> for examples in this package.
</p>

<hr>
<h2 id='nomogram_features4'>Nomogram features using categorical and 1 numerical predictors</h2><span id='topic+nomogram_features4'></span>

<h3>Description</h3>

<p>An example of a data frame for <code>sample_features</code> argument in
<code><a href="#topic+create_nomogram">create_nomogram</a></code> function, must only include all possible
combinations of feature values, where one column is available for each
feature.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nomogram_features4
</code></pre>


<h3>Format</h3>

<p>A data frame with 80 rows and 4 columns:
</p>

<p>.  </p>
<dl>
<dt>qsec</dt><dd><p>A numerical predictor without decimal.</p>
</dd>
<dt>cyl.6</dt><dd><p>A categorical predictor with values of 0 and 1.</p>
</dd>
<dt>cyl.8</dt><dd><p>A categorical predictor with values of 0 and 1.</p>
</dd>
<dt>vs.1</dt><dd><p>A categorical predictor with values of 0 and 1.</p>
</dd>
</dl>



<h3>Source</h3>

<p>Derived from <code>mtcars</code> for examples in this package.
</p>

<hr>
<h2 id='nomogram_outputs'>Nomogram outputs using the predicted probability of binary outcome</h2><span id='topic+nomogram_outputs'></span>

<h3>Description</h3>

<p>An example of a data frame for <code>sample_output</code> argument in
<code><a href="#topic+create_nomogram">create_nomogram</a></code> function, must only include the predicted
probabilities for binary outcome.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nomogram_outputs
</code></pre>


<h3>Format</h3>

<p>A data frame with 16 rows and 1 column:
</p>

<dl>
<dt>output</dt><dd><p>A binary outcome with values from 0 to 1.</p>
</dd>
</dl>



<h3>Source</h3>

<p>Generated by a caret randomforest model using categorical predictors
for examples in this package.
</p>

<hr>
<h2 id='nomogram_outputs2'>Nomogram outputs using the predicted probability of binary outcome</h2><span id='topic+nomogram_outputs2'></span>

<h3>Description</h3>

<p>An example of a data frame for <code>sample_output</code> argument in
<code><a href="#topic+create_nomogram">create_nomogram</a></code> function, must only include the predicted
probabilities for binary outcome.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nomogram_outputs2
</code></pre>


<h3>Format</h3>

<p>A data frame with 80 rows and 1 column:
</p>

<dl>
<dt>output</dt><dd><p>A binary outcome with values from 0 to 1.</p>
</dd>
</dl>



<h3>Source</h3>

<p>Generated by a caret randomforest model using categorical and 1
numerical predictors for examples in this package.
</p>

<hr>
<h2 id='nomogram_outputs3'>Nomogram outputs using the estimated value of numerical outcome</h2><span id='topic+nomogram_outputs3'></span>

<h3>Description</h3>

<p>An example of a data frame for <code>sample_output</code> argument in
<code><a href="#topic+create_nomogram">create_nomogram</a></code> function, must only include the estimated
values for numerical outcome.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nomogram_outputs3
</code></pre>


<h3>Format</h3>

<p>A data frame with 16 rows and 1 column:
</p>

<dl>
<dt>output</dt><dd><p>A numerical outcome.</p>
</dd>
</dl>



<h3>Source</h3>

<p>Generated by a caret randomforest model using categorical predictors
for examples in this package.
</p>

<hr>
<h2 id='nomogram_outputs4'>Nomogram outputs using the estimated value of numerical outcome</h2><span id='topic+nomogram_outputs4'></span>

<h3>Description</h3>

<p>An example of a data frame for <code>sample_output</code> argument in
<code><a href="#topic+create_nomogram">create_nomogram</a></code> function, must only include the estimated
values for numerical outcome.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nomogram_outputs4
</code></pre>


<h3>Format</h3>

<p>A data frame with 80 rows and 1 column:
</p>

<dl>
<dt>output</dt><dd><p>A numerical outcome.</p>
</dd>
</dl>



<h3>Source</h3>

<p>Generated by a caret randomforest model using categorical and 1
numerical predictors for examples in this package.
</p>

<hr>
<h2 id='nomogram_shaps'>Nomogram SHAP values using categorical predictors and binary outcome</h2><span id='topic+nomogram_shaps'></span>

<h3>Description</h3>

<p>An example of a data frame for <code>feature_exp</code> argument in
<code><a href="#topic+create_nomogram">create_nomogram</a></code> function, must only include feature
explainability value per sample (i.e., SHAP value), where one column is
available for each feature.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nomogram_shaps
</code></pre>


<h3>Format</h3>

<p>A data frame with 16 rows and 4 columns:
</p>

<dl>
<dt>cyl.6</dt><dd><p>A predictor with SHAP values.</p>
</dd>
<dt>cyl.8</dt><dd><p>A predictor with SHAP values.</p>
</dd>
<dt>qsec.1</dt><dd><p>A predictor with SHAP values.</p>
</dd>
<dt>vs.1</dt><dd><p>A predictor with SHAP values.</p>
</dd>
</dl>



<h3>Source</h3>

<p>Computed by iml from a caret randomforest model using categorical
predictors for examples in this package.
</p>

<hr>
<h2 id='nomogram_shaps2'>Nomogram SHAP values using categorical and 1 numerical predictors and binary
outcome</h2><span id='topic+nomogram_shaps2'></span>

<h3>Description</h3>

<p>An example of a data frame for <code>feature_exp</code> argument in
<code><a href="#topic+create_nomogram">create_nomogram</a></code> function, must only include feature
explainability value per sample (i.e., SHAP value), where one column is
available for each feature.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nomogram_shaps2
</code></pre>


<h3>Format</h3>

<p>A data frame with 80 rows and 4 columns:
</p>

<dl>
<dt>cyl.6</dt><dd><p>A predictor with SHAP values.</p>
</dd>
<dt>cyl.8</dt><dd><p>A predictor with SHAP values.</p>
</dd>
<dt>qsec</dt><dd><p>A predictor with SHAP values.</p>
</dd>
<dt>vs.1</dt><dd><p>A predictor with SHAP values.</p>
</dd>
</dl>



<h3>Source</h3>

<p>Computed by iml from a caret randomforest model using categorical
and 1 numerical predictors for examples in this package.
</p>

<hr>
<h2 id='nomogram_shaps3'>Nomogram SHAP values using categorical predictors and numerical outcome</h2><span id='topic+nomogram_shaps3'></span>

<h3>Description</h3>

<p>An example of a data frame for <code>feature_exp</code> argument in
<code><a href="#topic+create_nomogram">create_nomogram</a></code> function, must only include feature
explainability value per sample (i.e., SHAP value), where one column is
available for each feature.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nomogram_shaps3
</code></pre>


<h3>Format</h3>

<p>A data frame with 16 rows and 4 columns:
</p>

<dl>
<dt>cyl.6</dt><dd><p>A predictor with SHAP values.</p>
</dd>
<dt>cyl.8</dt><dd><p>A predictor with SHAP values.</p>
</dd>
<dt>qsec.1</dt><dd><p>A predictor with SHAP values.</p>
</dd>
<dt>vs.1</dt><dd><p>A predictor with SHAP values.</p>
</dd>
</dl>



<h3>Source</h3>

<p>Computed by iml from a caret randomforest model using categorical
predictors for examples in this package.
</p>

<hr>
<h2 id='nomogram_shaps4'>Nomogram SHAP values using categorical and 1 numerical predictors and
numerical outcome</h2><span id='topic+nomogram_shaps4'></span>

<h3>Description</h3>

<p>An example of a data frame for <code>feature_exp</code> argument in
<code><a href="#topic+create_nomogram">create_nomogram</a></code> function, must only include feature
explainability value per sample (i.e., SHAP value), where one column is
available for each feature.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nomogram_shaps4
</code></pre>


<h3>Format</h3>

<p>A data frame with 80 rows and 4 columns:
</p>

<dl>
<dt>cyl.6</dt><dd><p>A predictor with SHAP values.</p>
</dd>
<dt>cyl.8</dt><dd><p>A predictor with SHAP values.</p>
</dd>
<dt>qsec</dt><dd><p>A predictor with SHAP values.</p>
</dd>
<dt>vs.1</dt><dd><p>A predictor with SHAP values.</p>
</dd>
</dl>



<h3>Source</h3>

<p>Computed by iml from a caret randomforest model using categorical
and 1 numerical predictors for examples in this package.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

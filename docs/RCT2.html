<!DOCTYPE html><html><head><title>Help for package RCT2</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {RCT2}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#CADEparamreg'><p>Regression-based method for the ITT effects and the complier average direct effect/spillover effect</p></a></li>
<li><a href='#CADErand'><p>Randomization-based method for the complier average direct effect and the complier average spillover effect</p></a></li>
<li><a href='#CADEreg'><p>Regression-based method for the complier average direct effect</p></a></li>
<li><a href='#CalAPO'><p>Point Estimation and Variance for the unit-level direct effect (ADE), marginal direct effect (MDE), and unit level spillover effect (ASE)</p></a></li>
<li><a href='#calpara'><p>Sample size parameter calculations for detecting a specific alternative</p></a></li>
<li><a href='#Calsamplesize'><p>Sample size calculations for detecting a specific alternative</p></a></li>
<li><a href='#india'><p>Replication Data for: Causal Inference with Interference and Noncompliance in Two-Stage Randomized Experiments.</p></a></li>
<li><a href='#jd'><p>Replication Data for: Statistical Inference and Power Analysis for Direct and Spillover Effects in Two-Stage Randomized Experiments</p></a></li>
<li><a href='#print.regression'><p>Print Method for the RCT2 Package</p></a></li>
<li><a href='#Test2SRE'><p>Hypothesis testing for three null hypotheses</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Version:</td>
<td>0.0.1</td>
</tr>
<tr>
<td>Date:</td>
<td>2022-10-16</td>
</tr>
<tr>
<td>Title:</td>
<td>Designing and Analyzing Two-Stage Randomized Experiments</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Kosuke Imai &lt;imai@harvard.edu&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.1.0)</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides various statistical methods for designing and analyzing two-stage randomized controlled 
	trials using the methods developed by Imai, Jiang, and Malani (2021) &lt;<a href="https://doi.org/10.1080%2F01621459.2020.1775612">doi:10.1080/01621459.2020.1775612</a>&gt; and 
	(2022+) &lt;<a href="https://doi.org/10.48550%2FarXiv.2011.07677">doi:10.48550/arXiv.2011.07677</a>&gt;.  The package enables the estimation of direct and spillover effects, 
	conduct hypotheses tests, and conduct sample size calculation for two-stage randomized controlled trials.  </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/kosukeimai/RCT2">https://github.com/kosukeimai/RCT2</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/kosukeimai/RCT2/issues">https://github.com/kosukeimai/RCT2/issues</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, knitr, rmarkdown</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Imports:</td>
<td>sandwich, AER, stats, quadprog</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-10-18 03:04:05 UTC; kosukeimai</td>
</tr>
<tr>
<td>Author:</td>
<td>Karissa Huang [aut],
  Zhichao Jiang [aut],
  Kosuke Imai [aut, cre]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-10-18 07:05:17 UTC</td>
</tr>
</table>
<hr>
<h2 id='CADEparamreg'>Regression-based method for the ITT effects and the complier average direct effect/spillover effect</h2><span id='topic+CADEparamreg'></span>

<h3>Description</h3>

<p>This function computes the point estimates and variance estimates of the direct effect and spillover effect for ITT and CADE/CASE
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CADEparamreg(data, assign.prob, ci.level = 0.95)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CADEparamreg_+3A_data">data</code></td>
<td>
<p>A data frame containing the relevant variables. The names for the variables should be: &ldquo;Z&rdquo; for the treatment assignment,  &ldquo;D&rdquo;  for the actual received treatment, &ldquo;Y&rdquo; for the outcome, &ldquo;A&rdquo; for the treatment assignment mechanism and &ldquo;id&rdquo; for the cluster ID. The variable for the cluster id should be a factor.</p>
</td></tr>
<tr><td><code id="CADEparamreg_+3A_assign.prob">assign.prob</code></td>
<td>
<p>A double between 0 and 1 specifying the assignment probability to either assignment mechanism.</p>
</td></tr>
<tr><td><code id="CADEparamreg_+3A_ci.level">ci.level</code></td>
<td>
<p>A double between 0 and 1 specifying the confidence interval level to be output.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For the details of the method implemented by this function, see the
references.
</p>


<h3>Value</h3>

<p>A list of class <code>CADEparamreg</code> which contains the following items:
</p>
<table>
<tr><td><code>ITT.DE</code></td>
<td>
<p> Estimate of direct effect under ITT regresion. </p>
</td></tr><tr><td><code>ITT.SE</code></td>
<td>
<p> Estimate of spillover effect under ITT regresion. </p>
</td></tr>
<tr><td><code>ITT.DE.CI</code></td>
<td>
<p> Confidence itnerval of direct effect under ITT regresion. </p>
</td></tr>
<tr><td><code>ITT.SE.CI</code></td>
<td>
<p> Confidence itnerval of spillover effect under ITT regresion. </p>
</td></tr>
<tr><td><code>IV.DE</code></td>
<td>
<p> Estimate of direct effect under IV regresion. </p>
</td></tr><tr><td><code>IV.SE</code></td>
<td>
<p> Estimate of spillover effect under IV regresion. </p>
</td></tr>
<tr><td><code>IV.DE.CI</code></td>
<td>
<p> Confidence interval of direct effect under IV regresion. </p>
</td></tr>
<tr><td><code>IV.SE.CI</code></td>
<td>
<p> Confidence interval of spillover effect under IV regresion. </p>
</td></tr>
<tr><td><code>IV.DE.CI</code></td>
<td>
<p> Confidence interval of direct effect under IV regresion. </p>
</td></tr>
<tr><td><code>ITT.tstat</code></td>
<td>
<p> t-stats from ITT regression. </p>
</td></tr><tr><td><code>IV.tstat</code></td>
<td>
<p> t-stats from IV regression. </p>
</td></tr>
<tr><td><code>ITT.pvals</code></td>
<td>
<p> p-values from ITT regression. </p>
</td></tr><tr><td><code>IV.pvals</code></td>
<td>
<p> p-values from IV regression. </p>
</td></tr>
</table>
<p>data(india)
india$id &lt;- factor(india$id)
CADEreg(india, ci.level = 0.90)
</p>


<h3>Author(s)</h3>

<p>Kosuke Imai, Department of Statistics, Harvard University
<a href="mailto:imai@harvard.edu">imai@harvard.edu</a>, <a href="https://imai.fas.harvard.edu/">https://imai.fas.harvard.edu/</a>;
Zhichao Jiang, School of Public Health and Health Sciences, University of Massachusetts Amherst
<a href="mailto:zhichaojiang@umass.edu">zhichaojiang@umass.edu</a>;
Karissa Huang, Department of Statistics, Harvard College
<a href="mailto:krhuang@college.harvard.edu">krhuang@college.harvard.edu</a>
</p>


<h3>References</h3>

<p>Kosuke Imai, Zhichao Jiang and Anup Malani (2018).
&ldquo;Causal Inference with Interference and Noncompliance in the Two-Stage Randomized Experiments&rdquo;, <em>Technical Report</em>. Department of Politics, Princeton
University.
</p>

<hr>
<h2 id='CADErand'>Randomization-based method for the complier average direct effect and the complier average spillover effect</h2><span id='topic+CADErand'></span>

<h3>Description</h3>

<p>This function computes the point estimates and variance estimates of the complier average direct effect (CADE)  and the complier average spillover effect (CASE).
The estimators calculated using this function are either individual weighted or cluster-weighted. The point estimates and variances of ITT effects are also included.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CADErand(data, individual = 1, ci = 0.95)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CADErand_+3A_data">data</code></td>
<td>
<p>A data frame containing the relevant variables. The names for the variables should be: &ldquo;Z&rdquo; for the treatment assignment,  &ldquo;D&rdquo;  for the actual received treatment, &ldquo;Y&rdquo; for the outcome, &ldquo;A&rdquo; for the treatment assignment mechanism and &ldquo;id&rdquo; for the cluster ID. The variable for the cluster id should be a factor.</p>
</td></tr>
<tr><td><code id="CADErand_+3A_individual">individual</code></td>
<td>
<p>A binary variable with TRUE for  individual-weighted estimators and FALSE for cluster-weighted estimators.</p>
</td></tr>
<tr><td><code id="CADErand_+3A_ci">ci</code></td>
<td>
<p>A numeric variable between 0 and 1 for the level of the confidence interval to be returned.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For the details of the method implemented by this function, see the
references.
</p>


<h3>Value</h3>

<p>A list of class <code>CADErand</code> which contains the following items:
</p>
<table>
<tr><td><code>CADE</code></td>
<td>
<p> The point estimates of the CADE for each assignment mechanism.  </p>
</td></tr>
<tr><td><code>CASE</code></td>
<td>
<p> The point estimate of CASE for each assignment mechanism.  </p>
</td></tr> 
<tr><td><code>var.CADE1</code></td>
<td>
<p> The  variance estimate of CADE for each assignment mechanism.   </p>
</td></tr> 
<tr><td><code>var.CASE1</code></td>
<td>
<p> The  variance estimate of CASE for each assignment mechanism.   </p>
</td></tr> 
<tr><td><code>DEY1</code></td>
<td>
<p> The point estimate of DEY for each assignment mechanism.  </p>
</td></tr>
<tr><td><code>DED1</code></td>
<td>
<p> The point estimate of DED for each assignment mechanism.  </p>
</td></tr>
<tr><td><code>var.DEY1</code></td>
<td>
<p> The  variance estimate of DEY for each assignment mechanism.   </p>
</td></tr> 
<tr><td><code>var.DED1</code></td>
<td>
<p> The  variance estimate of DED for each assignment mechanism.   </p>
</td></tr> 
<tr><td><code>SEY1</code></td>
<td>
<p> The point estimate of SEY for each pairwise groups of assignment mechanisms.  </p>
</td></tr> 
<tr><td><code>SED1</code></td>
<td>
<p> The point estimate of SED for each pairwise groups of assignment mechanisms.  </p>
</td></tr>
<tr><td><code>var.SEY1</code></td>
<td>
<p> The  variance estimate of SEY for each pairwise groups of assignment mechanisms.   </p>
</td></tr> 
<tr><td><code>var.SED1</code></td>
<td>
<p> The  variance estimate of SED for each pairwise groups of assignment mechanisms.   </p>
</td></tr> 
<tr><td><code>lci.CADE</code></td>
<td>
<p> The left endpoint for the confidence intervals for the CADE from each assignment mechanism. </p>
</td></tr>
<tr><td><code>rci.CADE</code></td>
<td>
<p> The right endpoint for the confidence intervals for the CADE from each assignment mechanism. </p>
</td></tr>
<tr><td><code>lci.CASE</code></td>
<td>
<p> The left endpoint for the confidence intervals for the CASE from each assignment mechanism. </p>
</td></tr>
<tr><td><code>rci.CASE</code></td>
<td>
<p> The left endpoint for the confidence intervals for the CASE from each assignment mechanism. </p>
</td></tr>
<tr><td><code>lci.DEY</code></td>
<td>
<p> The left endpoint for the confidence intervals for the DEY from each assignment mechanism. </p>
</td></tr>
<tr><td><code>rci.DEY</code></td>
<td>
<p> The left endpoint for the confidence intervals for the DEY from each assignment mechanism. </p>
</td></tr>
<tr><td><code>lci.SEY</code></td>
<td>
<p> The left endpoint for the confidence intervals for the SEY from each pairwise groups of assignment mechanisms. </p>
</td></tr>
<tr><td><code>rci.SEY</code></td>
<td>
<p> The left endpoint for the confidence intervals for the SEY from each pairwise groups of assignment mechanism. </p>
</td></tr>
<tr><td><code>lci.DED</code></td>
<td>
<p> The left endpoint for the confidence intervals for the DED from each assignment mechanism. </p>
</td></tr>
<tr><td><code>rci.DED</code></td>
<td>
<p> The left endpoint for the confidence intervals for the DED from each assignment mechanism. </p>
</td></tr>
<tr><td><code>lci.SED</code></td>
<td>
<p> The left endpoint for the confidence intervals for the SED from each pairwise groups of assignment mechanism. </p>
</td></tr>
<tr><td><code>rci.SED</code></td>
<td>
<p> The left endpoint for the confidence intervals for the SED from each pairwise groups of assignment mechanism. </p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Kosuke Imai, Department of Statistics, Harvard University
<a href="mailto:imai@harvard.edu">imai@harvard.edu</a>, <a href="https://imai.fas.harvard.edu/">https://imai.fas.harvard.edu/</a>;
Zhichao Jiang, School of Public Health and Health Sciences, University of Massachusetts Amherst
<a href="mailto:zhichaojiang@umass.edu">zhichaojiang@umass.edu</a>;
Karissa Huang, Department of Statistics, Harvard College
<a href="mailto:krhuang@college.harvard.edu">krhuang@college.harvard.edu</a>
</p>


<h3>References</h3>

<p>Kosuke Imai, Zhichao Jiang and Anup Malani (2018).
&ldquo;Causal Inference with Interference and Noncompliance in the Two-Stage Randomized Experiments&rdquo;, <em>Technical Report</em>. Department of Politics, Princeton
University.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(india)
india$id &lt;- factor(india$id)
CADErand(india, 0.95) 

</code></pre>

<hr>
<h2 id='CADEreg'>Regression-based method for the complier average direct effect</h2><span id='topic+CADEreg'></span>

<h3>Description</h3>

<p>This function computes the point estimates of the complier average direct effect (CADE) and four
different variance estimates: the HC2 variance, the cluster-robust variance, the cluster-robust HC2
variance and the variance proposed in the reference. The estimators calculated using this function
are cluster-weighted, i.e., the weights are equal for each cluster. To obtain the indivudal-weighted
estimators, please multiply the recieved treatment and the outcome by <code>n_jJ/N</code>, where
<code>n_j</code> is the number of individuals in cluster <code>j</code>, <code>J</code> is the number of clusters and 
<code>N</code> is the total number of individuals.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CADEreg(data, ci.level = 0.95)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CADEreg_+3A_data">data</code></td>
<td>
<p>A data frame containing the relevant variables. The names for the variables should be: &ldquo;Z&rdquo; for the treatment assignment,  &ldquo;D&rdquo;  for the actual received treatment, &ldquo;Y&rdquo; for the outcome, &ldquo;A&rdquo; for the treatment assignment mechanism and &ldquo;id&rdquo; for the cluster ID. The variable for the cluster id should be a factor.</p>
</td></tr>
<tr><td><code id="CADEreg_+3A_ci.level">ci.level</code></td>
<td>
<p>A double between 0 and 1 specifying the confidence interval level to be output.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For the details of the method implemented by this function, see the
references.
</p>


<h3>Value</h3>

<p>A list of class <code>CADEreg</code> which contains the following items:
</p>
<table>
<tr><td><code>CADE1</code></td>
<td>
<p> The point estimate of CADE(1).  </p>
</td></tr> <tr><td><code>CADE0</code></td>
<td>
<p> The point estimate of CADE(0).  </p>
</td></tr> 
<tr><td><code>var1.clu</code></td>
<td>
<p> The cluster-robust variance of CADE(1).   </p>
</td></tr> <tr><td><code>var0.clu</code></td>
<td>
<p> The cluster-robust variance of CADE(0).  </p>
</td></tr>
<tr><td><code>var1.clu.hc2</code></td>
<td>
<p> The cluster-robust HC2 variance of CADE(1).   </p>
</td></tr> 
<tr><td><code>var0.clu.hc2</code></td>
<td>
<p> The cluster-robust HC2 variance of CADE(0).    </p>
</td></tr> 
<tr><td><code>var1.hc2</code></td>
<td>
<p> The  HC2 variance of CADE(1).    </p>
</td></tr> 
<tr><td><code>var0.hc2</code></td>
<td>
<p> The  HC2 variance of CADE(0).    </p>
</td></tr> 
<tr><td><code>var1.ind</code></td>
<td>
<p> The  individual-robust variance of CADE(1).    </p>
</td></tr> 
<tr><td><code>var0.ind</code></td>
<td>
<p> The  individual-robust variance of CADE(0).    </p>
</td></tr> 
<tr><td><code>var1.reg</code></td>
<td>
<p> The  proposed variance of CADE(1).    </p>
</td></tr> 
<tr><td><code>var0.reg</code></td>
<td>
<p> The  proposed variance of CADE(0).    </p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Kosuke Imai, Department of Statistics, Harvard University
<a href="mailto:imai@harvard.edu">imai@harvard.edu</a>, <a href="https://imai.fas.harvard.edu/">https://imai.fas.harvard.edu/</a>;
Zhichao Jiang, School of Public Health and Health Sciences, University of Massachusetts Amherst
<a href="mailto:zhichaojiang@umass.edu">zhichaojiang@umass.edu</a>;
Karissa Huang, Department of Statistics, Harvard College
<a href="mailto:krhuang@college.harvard.edu">krhuang@college.harvard.edu</a>
</p>


<h3>References</h3>

<p>Kosuke Imai, Zhichao Jiang and Anup Malani (2018).
&ldquo;Causal Inference with Interference and Noncompliance in the Two-Stage Randomized Experiments&rdquo;, <em>Technical Report</em>. Department of Politics, Princeton
University.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(india)
india$id &lt;- factor(india$id)
CADEreg(india, ci.level = 0.90)

</code></pre>

<hr>
<h2 id='CalAPO'>Point Estimation and Variance for the unit-level direct effect (ADE), marginal direct effect (MDE), and unit level spillover effect (ASE)</h2><span id='topic+CalAPO'></span>

<h3>Description</h3>

<p>This function calculates the estimated average potential outcomes Y(z,a), point estimates for the ADE, MDE, and ASE, and conservative covariance matrix estimates.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CalAPO(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CalAPO_+3A_data">data</code></td>
<td>
<p>A data frame containing the relevant variables. The names for the variables should be &ldquo;Z&rdquo; for the treatment assignment, &ldquo;Y&rdquo; for the treatment outcome, &ldquo;A&rdquo; for the treatment assignment mechanism, and &ldquo;id&rdquo; for the cluster ID. The variable for the cluster ID should be a factor.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For the details of the method implemented by this function, see the
references.
</p>


<h3>Value</h3>

<p>A list of class <code>CalAPO</code> which contains the following items:
</p>
<table>
<tr><td><code>Y.hat</code></td>
<td>
<p> Estimate of the average potential outcomes. </p>
</td></tr>
<tr><td><code>ADE.est</code></td>
<td>
<p> Estimate of the unit level direct effect. </p>
</td></tr>
<tr><td><code>MDE.est</code></td>
<td>
<p> Estimate of the marginal direct effect. </p>
</td></tr>
<tr><td><code>ASE.est</code></td>
<td>
<p> Estimate of the unti level spillover effect. </p>
</td></tr>
<tr><td><code>cov.hat</code></td>
<td>
<p> Conservative covariance matrix for the estimated potential outcomes. </p>
</td></tr>
<tr><td><code>var.hat.ADE</code></td>
<td>
<p> Estimated variance of the ADE. </p>
</td></tr>
<tr><td><code>var.hat.MDE</code></td>
<td>
<p> Estimated variance of the MDE. </p>
</td></tr>
<tr><td><code>var.hat.ASE</code></td>
<td>
<p> Estimated variance of the ASE. </p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Kosuke Imai, Department of Statistics, Harvard University
<a href="mailto:imai@harvard.edu">imai@harvard.edu</a>, <a href="https://imai.fas.harvard.edu/">https://imai.fas.harvard.edu/</a>;
Zhichao Jiang, School of Public Health and Health Sciences, University of Massachusetts Amherst
<a href="mailto:zhichaojiang@umass.edu">zhichaojiang@umass.edu</a>;
Karissa Huang, Department of Statistics, Harvard College
<a href="mailto:krhuang@college.harvard.edu">krhuang@college.harvard.edu</a>
</p>


<h3>References</h3>

<p>Zhichao Jiang, Kosuke Imai (2020).
&ldquo;Statistical Inference and Power Analysis for Direct and Spillover Effects in Two-Stage Randomized Experiments&rdquo;, <em>Technical Report</em>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(jd)
data_LTFC &lt;- data.frame(jd$assigned, jd$pct0, jd$cdd6m, jd$anonale)
colnames(data_LTFC) &lt;- c("Z", "A", "Y", "id")
test &lt;- CalAPO(data_LTFC)
print(CalAPO(data_LTFC))

</code></pre>

<hr>
<h2 id='calpara'>Sample size parameter calculations for detecting a specific alternative</h2><span id='topic+calpara'></span>

<h3>Description</h3>

<p>This function calculates the parameters needed for the method to calculate sample size
references.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calpara(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calpara_+3A_data">data</code></td>
<td>
<p>A data frame containing the relevant variables. The names for the variables should be &ldquo;Z&rdquo; for the treatment assignment, &ldquo;Y&rdquo; for the treatment outcome, &ldquo;A&rdquo; for the treatment assignment mechanism, and &ldquo;id&rdquo; for the cluster ID. The variable for the cluster ID should be a factor.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of class <code>calpara</code> which contains the following item:
</p>
<table>
<tr><td><code>sigmaw</code></td>
<td>
<p> The within-cluster variance of the potential outcomes, with the assumption that the all of the variances the same. </p>
</td></tr>
<tr><td><code>sigmab</code></td>
<td>
<p> The between-cluster variance of the potential outcomes, with the assumption that all of the variances are the same. </p>
</td></tr>
<tr><td><code>r</code></td>
<td>
<p> The intraclass correlation coefficient with respect to the potential outcomes. </p>
</td></tr>
<tr><td><code>sigma.tot</code></td>
<td>
<p> The total variance of the potential outcomes. </p>
</td></tr>
<tr><td><code>n.avg</code></td>
<td>
<p> The mean of the number of treated observations by cluster. </p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Kosuke Imai, Department of Statistics, Harvard University
<a href="mailto:imai@harvard.edu">imai@harvard.edu</a>, <a href="https://imai.fas.harvard.edu/">https://imai.fas.harvard.edu/</a>;
Zhichao Jiang, School of Public Health and Health Sciences, University of Massachusetts Amherst
<a href="mailto:zhichaojiang@umass.edu">zhichaojiang@umass.edu</a>;
Karissa Huang, Department of Statistics, Harvard College
<a href="mailto:krhuang@college.harvard.edu">krhuang@college.harvard.edu</a>
</p>


<h3>References</h3>

<p>Zhichao Jiang, Kosuke Imai (2020).
&ldquo;Statistical Inference and Power Analysis for Direct and Spillover Effects in Two-Stage Randomized Experiments&rdquo;, <em>Technical Report</em>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(jd)
data_LTFC &lt;- data.frame(jd$assigned, jd$pct0, jd$cdd6m, jd$anonale)
colnames(data_LTFC) &lt;- c("Z", "A", "Y", "id")
var.LTFC &lt;- calpara(data_LTFC)

</code></pre>

<hr>
<h2 id='Calsamplesize'>Sample size calculations for detecting a specific alternative</h2><span id='topic+Calsamplesize'></span>

<h3>Description</h3>

<p>This function calculates the sample size needed to detect a specific alternative hypothesis with a given power at a given significance level.
For the details of the method implemented by this function, see the
references.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Calsamplesize(data, mu, qa, alpha = 0.05, beta = 0.2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Calsamplesize_+3A_data">data</code></td>
<td>
<p>A data frame containing the relevant variables. The names for the variables should be &ldquo;Z&rdquo; for the treatment assignment, &ldquo;Y&rdquo; for the treatment outcome, &ldquo;A&rdquo; for the treatment assignment mechanism, and &ldquo;id&rdquo; for the cluster ID. The variable for the cluster ID should be a factor.</p>
</td></tr>
<tr><td><code id="Calsamplesize_+3A_mu">mu</code></td>
<td>
<p>The effect size (i.e. the largest direct effect across treatment assignment mechanisms).</p>
</td></tr>
<tr><td><code id="Calsamplesize_+3A_qa">qa</code></td>
<td>
<p>The proportions of different treatment assignment mechanisms.</p>
</td></tr>
<tr><td><code id="Calsamplesize_+3A_alpha">alpha</code></td>
<td>
<p>The given significance level (default 0.05).</p>
</td></tr>
<tr><td><code id="Calsamplesize_+3A_beta">beta</code></td>
<td>
<p>The given power level (default 0.2).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of class <code>sampleSRE</code> which contains the following item:
</p>
<table>
<tr><td><code>samplesize</code></td>
<td>
<p> A list of the calculated necessary nubmer of clusters for each assignment mechanism in order to detect a specific alternative with a given power at a given significance level. </p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Kosuke Imai, Department of Statistics, Harvard University
<a href="mailto:imai@harvard.edu">imai@harvard.edu</a>, <a href="https://imai.fas.harvard.edu/">https://imai.fas.harvard.edu/</a>;
Zhichao Jiang, School of Public Health and Health Sciences, University of Massachusetts Amherst
<a href="mailto:zhichaojiang@umass.edu">zhichaojiang@umass.edu</a>;
Karissa Huang, Department of Statistics, Harvard College
<a href="mailto:krhuang@college.harvard.edu">krhuang@college.harvard.edu</a>
</p>


<h3>References</h3>

<p>Zhichao Jiang, Kosuke Imai (2020).
&ldquo;Statistical Inference and Power Analysis for Direct and Spillover Effects in Two-Stage Randomized Experiments&rdquo;, <em>Technical Report</em>.
</p>

<hr>
<h2 id='india'>Replication Data for: Causal Inference with Interference and Noncompliance in Two-Stage Randomized Experiments.</h2><span id='topic+india'></span>

<h3>Description</h3>

<p>Replication Data for: Causal Inference with Interference and Noncompliance in Two-Stage Randomized Experiments.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(india)
</code></pre>


<h3>Format</h3>

<p>A data frame with columns:
</p>

<dl>
<dt>id</dt><dd><p>The id for the village.</p>
</dd>
<dt>DistrictId</dt><dd><p>The id for the district.</p>
</dd>
<dt>Z</dt><dd><p>The treatment status for the individual.</p>
</dd>
<dt>A</dt><dd><p>The treatment assignment mechanism.</p>
</dd>
<dt>D</dt><dd><p>Whether or not the individual enrolled.</p>
</dd>
<dt>Y</dt><dd><p>The hospital expenditure.</p>
</dd>
<dt>X</dt><dd><p>Enumeration of the patients.</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://doi.org/10.7910/DVN/N7D9LS">doi:10.7910/DVN/N7D9LS</a>
</p>

<hr>
<h2 id='jd'>Replication Data for: Statistical Inference and Power Analysis for Direct and Spillover Effects in Two-Stage Randomized Experiments</h2><span id='topic+jd'></span>

<h3>Description</h3>

<p>Replication Data for: Statistical Inference and Power Analysis for Direct and Spillover Effects in Two-Stage Randomized Experiments
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(jd)
</code></pre>


<h3>Format</h3>

<p>A data frame with columns:
</p>

<dl>
<dt>anonale</dt><dd><p>The local employment agency.</p>
</dd>
<dt>tempsc_av</dt><dd><p>Categorical variable for full-time work at time of assignment (1: 1-4 months, 2: 4-8 months, 3: 8-12 months, 4: 12+ months)</p>
</dd>
<dt>assigned</dt><dd><p>An indicator variable for whether or not the individual is assigned to treatment.</p>
</dd>
<dt>pct0</dt><dd><p>The share of the local population treated (as a decimal).</p>
</dd>
<dt>cdi</dt><dd><p>An indicator variable for whether the individual works on a permanent contract 8 months after assignment.</p>
</dd>
<dt>cdd6m</dt><dd><p>An indicator variable for whether the individual works in CDD (LTFC-time contract) for more than 6 months, 8 months after the assignment.</p>
</dd>
<dt>emploidur</dt><dd><p>An indicator variable for whether the individual works on a permanent or LTFC-term contract for more than 6 months, 8 months after the assignment.</p>
</dd>
<dt>tempsc</dt><dd><p>An indicator variable for whether the individual works full time, 8 months after the assignment.</p>
</dd>
<dt>salaire</dt><dd><p>The individual's salary in Euros.</p>
</dd>
</dl>


<hr>
<h2 id='print.regression'>Print Method for the RCT2 Package</h2><span id='topic+print.regression'></span>

<h3>Description</h3>

<p>This function prints a nicely formatted summary of the three functions in the RCT2 package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'regression'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.regression_+3A_x">x</code></td>
<td>
<p>A list object generated by running one of the analyses on a data set.</p>
</td></tr>
<tr><td><code id="print.regression_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For the details of the method implemented by this function, see the
references.
</p>


<h3>Value</h3>

<p><code>NULL</code>
</p>


<h3>Author(s)</h3>

<p>Kosuke Imai, Department of Statistics, Harvard University
<a href="mailto:imai@harvard.edu">imai@harvard.edu</a>, <a href="https://imai.fas.harvard.edu/">https://imai.fas.harvard.edu/</a>;
Zhichao Jiang, School of Public Health and Health Sciences, University of Massachusetts Amherst
<a href="mailto:zhichaojiang@umass.edu">zhichaojiang@umass.edu</a>;
Karissa Huang, Department of Statistics, Harvard College
<a href="mailto:krhuang@college.harvard.edu">krhuang@college.harvard.edu</a>
</p>


<h3>References</h3>

<p>Kosuke Imai, Zhichao Jiang and Anup Malani (2018).
&ldquo;Causal Inference with Interference and Noncompliance in the Two-Stage Randomized Experiments&rdquo;, <em>Technical Report</em>. Department of Politics, Princeton
University.
</p>

<hr>
<h2 id='Test2SRE'>Hypothesis testing for three null hypotheses</h2><span id='topic+Test2SRE'></span>

<h3>Description</h3>

<p>This function tests the null hypotheses of no direct effect, no marginal direct effect, and no spillover effect.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Test2SRE(data, effect = "DE", alpha = 0.05)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Test2SRE_+3A_data">data</code></td>
<td>
<p>A data frame containing the relevant variables. The names for the variables should be &ldquo;Z&rdquo; for the treatment assignment, &ldquo;Y&rdquo; for the treatment outcome, &ldquo;A&rdquo; for the treatment assignment mechanism, and &ldquo;id&rdquo; for the cluster ID. The variable for the cluster ID should be a factor.</p>
</td></tr>
<tr><td><code id="Test2SRE_+3A_effect">effect</code></td>
<td>
<p>Specify which null hypothesis to be tested. &ldquo;DE&rdquo; for direct effect, &ldquo;ME&rdquo; for marginal effect, and &ldquo;SE&rdquo; for spillover effect.</p>
</td></tr>
<tr><td><code id="Test2SRE_+3A_alpha">alpha</code></td>
<td>
<p>The level of significance at which the test is to be run (default is 0.05).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For the details of the method implemented by this function, see the
references.
</p>


<h3>Value</h3>

<p>A list of class <code>Test2SRE</code> which contains the following item:
</p>
<table>
<tr><td><code>rej</code></td>
<td>
<p> Rejection region for test conducted. </p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Kosuke Imai, Department of Statistics, Harvard University
<a href="mailto:imai@harvard.edu">imai@harvard.edu</a>, <a href="https://imai.fas.harvard.edu/">https://imai.fas.harvard.edu/</a>;
Zhichao Jiang, School of Public Health and Health Sciences, University of Massachusetts Amherst
<a href="mailto:zhichaojiang@umass.edu">zhichaojiang@umass.edu</a>;
Karissa Huang, Department of Statistics, Harvard College
<a href="mailto:krhuang@college.harvard.edu">krhuang@college.harvard.edu</a>
</p>


<h3>References</h3>

<p>Zhichao Jiang, Kosuke Imai (2020).
&ldquo;Statistical Inference and Power Analysis for Direct and Spillover Effects in Two-Stage Randomized Experiments&rdquo;, <em>Technical Report</em>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(jd)
data_LTFC &lt;- data.frame(jd$assigned, jd$pct0, jd$cdd6m, jd$anonale)
colnames(data_LTFC) &lt;- c("Z", "A", "Y", "id")
Test2SRE(data_LTFC, effect="MDE", alpha=0.05)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

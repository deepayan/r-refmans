<!DOCTYPE html><html><head><title>Help for package fmeffects</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {fmeffects}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#fmeffects-package'><p>fmeffects</p></a></li>
<li><a href='#ame'><p>Computes AMEs for every feature (or a subset of features) of a model.</p></a></li>
<li><a href='#AverageMarginalEffects'><p>R6 Class computing Average Marginal Effects (AME) based on Forward Marginal Effects (FME) for a model</p></a></li>
<li><a href='#bikes'><p>Regression data of the usage of rental bikes in Washington D.C., USA</p></a></li>
<li><a href='#came'><p>Computes a partitioning for a <code>ForwardMarginalEffect</code></p></a></li>
<li><a href='#fme'><p>Computes FMEs.</p></a></li>
<li><a href='#ForwardMarginalEffect'><p>R6 Class representing a forward marginal effect (FME)</p></a></li>
<li><a href='#makePredictor'><p>User-friendly function to create a Predictor.</p></a></li>
<li><a href='#Partitioning'><p>R6 Class representing a partitioning</p></a></li>
<li><a href='#PartitioningCtree'><p>PartitioningCtree</p></a></li>
<li><a href='#PartitioningRpart'><p>PartitioningRpart</p></a></li>
<li><a href='#plot.ForwardMarginalEffect'><p>Plots an ForwardMarginalEffect object.</p></a></li>
<li><a href='#plot.Partitioning'><p>Plots an FME Partitioning.</p></a></li>
<li><a href='#Predictor'><p>R6 Class representing a predictor</p></a></li>
<li><a href='#PredictorCaret'><p>PredictorCaret</p></a></li>
<li><a href='#PredictorLM'><p>PredictorLM</p></a></li>
<li><a href='#PredictorMLR3'><p>PredictorMLR3</p></a></li>
<li><a href='#PredictorParsnip'><p>PredictorParsnip</p></a></li>
<li><a href='#print.ForwardMarginalEffect'><p>Prints an ForwardMarginalEffect object.</p></a></li>
<li><a href='#print.Partitioning'><p>Prints an FME Partitioning.</p></a></li>
<li><a href='#summary.AverageMarginalEffects'><p>Prints summary of an AverageMarginalEffects object.</p></a></li>
<li><a href='#summary.ForwardMarginalEffect'><p>Prints summary of an ForwardMarginalEffect object.</p></a></li>
<li><a href='#summary.Partitioning'><p>Prints summary of an FME Partitioning.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Model-Agnostic Interpretations with Forward Marginal Effects</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.3</td>
</tr>
<tr>
<td>Description:</td>
<td>Create local, regional, and global explanations for any machine learning model with forward marginal effects. You provide a model and data, and 'fmeffects' computes feature effects. The package is based on the theory in: C. A. Scholbeck, G. Casalicchio, C. Molnar, B. Bischl, and C. Heumann (2022) &lt;<a href="https://doi.org/10.48550%2FarXiv.2201.08837">doi:10.48550/arXiv.2201.08837</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/LGPL-3">LGPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Suggests:</td>
<td>caret, furrr, future, hexbin, knitr, mlr3verse, parallelly,
ranger, rmarkdown, rpart, tidymodels</td>
</tr>
<tr>
<td>Imports:</td>
<td>checkmate, cli, data.table, partykit, ggparty, ggplot2,
cowplot, R6, testthat</td>
</tr>
<tr>
<td>Collate:</td>
<td>'ExtrapolationDetector.R' 'FME.R' 'FMEPlot.R'
'NonLinearityMeasure.R' 'Partitioning.R' 'PartitioningCtree.R'
'PartitioningPlot.R' 'PartitioningRpart.R' 'Predictor.R'
'PredictorCaret.R' 'PredictorLM.R' 'PredictorMLR3.R'
'PredictorParsnip.R' 'Pruner.R' 'S3.R' 'ame.R' 'bikes.R'
'misc.R' 'zzz.R'</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://holgstr.github.io/fmeffects/">https://holgstr.github.io/fmeffects/</a>,
<a href="https://github.com/holgstr/fmeffects">https://github.com/holgstr/fmeffects</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/holgstr/fmeffects/issues">https://github.com/holgstr/fmeffects/issues</a></td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-06-07 23:26:53 UTC; holgerlowe</td>
</tr>
<tr>
<td>Author:</td>
<td>Holger Löwe [cre, aut],
  Christian Scholbeck [aut],
  Christian Heumann [rev],
  Bernd Bischl [rev],
  Giuseppe Casalicchio [rev]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Holger Löwe &lt;hbj.loewe@gmail.com&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-06-07 23:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='fmeffects-package'>fmeffects</h2><span id='topic+fmeffects'></span><span id='topic+fmeffects-package'></span>

<h3>Description</h3>

<p>Computes forward marginal effects (FME) for arbitrary supervised machine learning models. You provide a model and data, and 'fmeffects' gives you feature effects.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Holger Löwe <a href="mailto:hbj.loewe@gmail.com">hbj.loewe@gmail.com</a>
</p>
<p>Authors:
</p>

<ul>
<li><p> Christian Scholbeck <a href="mailto:christian.scholbeck@stat.uni-muenchen.de">christian.scholbeck@stat.uni-muenchen.de</a>
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> Christian Heumann <a href="mailto:christian.heumann@stat.uni-muenchen.de">christian.heumann@stat.uni-muenchen.de</a> [reviewer]
</p>
</li>
<li><p> Bernd Bischl <a href="mailto:bernd.bischl@stat.uni-muenchen.de">bernd.bischl@stat.uni-muenchen.de</a> [reviewer]
</p>
</li>
<li><p> Giuseppe Casalicchio <a href="mailto:giuseppe.casalicchio@stat.uni-muenchen.de">giuseppe.casalicchio@stat.uni-muenchen.de</a> [reviewer]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://holgstr.github.io/fmeffects/">https://holgstr.github.io/fmeffects/</a>
</p>
</li>
<li> <p><a href="https://github.com/holgstr/fmeffects">https://github.com/holgstr/fmeffects</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/holgstr/fmeffects/issues">https://github.com/holgstr/fmeffects/issues</a>
</p>
</li></ul>


<hr>
<h2 id='ame'>Computes AMEs for every feature (or a subset of features) of a model.</h2><span id='topic+ame'></span>

<h3>Description</h3>

<p>This is a wrapper function for <code>AverageMarginalEffects$new(...)$compute()</code>.
It computes Average Marginal Effects (AME) based on Forward Marginal Effects (FME) for a model. The AME is a simple mean FME and computed w.r.t. a feature variable and a model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ame(model, data, features = NULL, ep.method = "none")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ame_+3A_model">model</code></td>
<td>
<p>The (trained) model, with the ability to predict on new data. This must be a <code>train.formula</code> (<code>tidymodels</code>), <code>Learner</code> (<code>mlr3</code>), <code>train</code> (<code>caret</code>), <code>lm</code> or <code>glm</code> object.</p>
</td></tr>
<tr><td><code id="ame_+3A_data">data</code></td>
<td>
<p>The data used for computing AMEs, must be data.frame or data.table.</p>
</td></tr>
<tr><td><code id="ame_+3A_features">features</code></td>
<td>
<p>If not NULL, a named list of the names of the feature variables for which AMEs should be computed, together with the desired step sizes.
For numeric features, the step size must be a single number.
For categorial features, the step size must be a character vector of category names that is a subset of the levels of the factor variable.</p>
</td></tr>
<tr><td><code id="ame_+3A_ep.method">ep.method</code></td>
<td>
<p>String specifying the method used for extrapolation detection. One of <code>"none"</code> or <code>"envelope"</code>. Defaults to <code>"none"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An <code>AverageMarginalEffects</code> object, with a field <code>results</code> containing a list of summary statistics, including
</p>

<ul>
<li> <p><code>Feature</code>: The name of the feature.
</p>
</li>
<li> <p><code>step.size</code>: The step.size w.r.t. the specified feature.
</p>
</li>
<li> <p><code>AME</code>: The Average Marginal Effect for a step of length step.size w.r.t. the specified feature.
</p>
</li>
<li> <p><code>SD</code>: The standard deviation of FMEs for the specified feature and step.size.
</p>
</li>
<li> <p><code>0.25</code>: The 0.25-quantile of FMEs for the specified feature and step.size.
</p>
</li>
<li> <p><code>0.75</code>: The 0.75-quantile of FMEs for the specified feature and step.size.
</p>
</li>
<li> <p><code>n</code>: The number of observations included for the computation of the AME. This can vary for the following reasons:
For categorical features, FMEs are only computed for observations where the original category is not the step.size category.
For numerical features, FMEs are only computed for observations that are not extrapolation points (if ep.method is set to <code>"envelope"</code>).
</p>
</li></ul>



<h3>References</h3>

<p>Scholbeck, C.A., Casalicchio, G., Molnar, C. et al. Marginal effects for non-linear prediction functions. Data Min Knowl Disc (2024). https://doi.org/10.1007/s10618-023-00993-x
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Train a model:

library(mlr3verse)
library(ranger)
data(bikes, package = "fmeffects")
set.seed(123)
task = as_task_regr(x = bikes, id = "bikes", target = "count")
forest = lrn("regr.ranger")$train(task)

# Compute AMEs for all features:
## Not run: 
overview = ame(model = forest, data = bikes)
summary(overview)

# Compute AMEs for a subset of features with non-default step.sizes:
overview = ame(model = forest,
               data = bikes,
               features = list(humidity = 0.1, weather = c("clear", "rain")))
summary(overview)

# Extract results:
overview$results

## End(Not run)
</code></pre>

<hr>
<h2 id='AverageMarginalEffects'>R6 Class computing Average Marginal Effects (AME) based on Forward Marginal Effects (FME) for a model</h2><span id='topic+AverageMarginalEffects'></span>

<h3>Description</h3>

<p>The AME is a simple mean FME and computed w.r.t. a feature variable and a model.
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>predictor</code></dt><dd><p><code>Predictor</code> object</p>
</dd>
<dt><code>features</code></dt><dd><p>vector of features for which AMEs should be computed</p>
</dd>
<dt><code>ep.method</code></dt><dd><p>string specifying extrapolation detection method</p>
</dd>
<dt><code>results</code></dt><dd><p>data.table with AMEs computed</p>
</dd>
<dt><code>computed</code></dt><dd><p>logical specifying if compute() has been run</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-AverageMarginalEffects-new"><code>AverageMarginalEffects$new()</code></a>
</p>
</li>
<li> <p><a href="#method-AverageMarginalEffects-compute"><code>AverageMarginalEffects$compute()</code></a>
</p>
</li>
<li> <p><a href="#method-AverageMarginalEffects-clone"><code>AverageMarginalEffects$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-AverageMarginalEffects-new"></a>



<h4>Method <code>new()</code></h4>

<p>Create a new AME object.
</p>


<h5>Usage</h5>

<div class="r"><pre>AverageMarginalEffects$new(model, data, features = NULL, ep.method = "none")</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>model</code></dt><dd><p>The (trained) model, with the ability to predict on new data. This must be a <code>train.formula</code> (<code>tidymodels</code>), <code>Learner</code> (<code>mlr3</code>), <code>train</code> (<code>caret</code>), <code>lm</code> or <code>glm</code> object.</p>
</dd>
<dt><code>data</code></dt><dd><p>The data used for computing AMEs, must be data.frame or data.table.</p>
</dd>
<dt><code>features</code></dt><dd><p>If not NULL, a named list of the names of the feature variables for which AMEs should be computed, together with the desired step sizes.
For numeric features, the step size must be a single number.
For categorial features, the step size must be a character vector of category names that is a subset of the levels of the factor variable.</p>
</dd>
<dt><code>ep.method</code></dt><dd><p>String specifying the method used for extrapolation detection. One of <code>"none"</code> or <code>"envelope"</code>. Defaults to <code>"none"</code>.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>A new <code>AME</code> object.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre># Train a model:

library(mlr3verse)
library(ranger)
set.seed(123)
data(bikes, package = "fmeffects")
task = as_task_regr(x = bikes, id = "bikes", target = "count")
forest = lrn("regr.ranger")$train(task)

# Compute AMEs for all features:
\dontrun{
overview = AverageMarginalEffects$new(
  model = forest,
  data = bikes)$compute()
summary(overview)

# Compute AMEs for a subset of features with non-default step.sizes:
overview = AverageMarginalEffects$new(model = forest,
                                      data = bikes,
                                      features = list(humidity = 0.1,
                                                   weather = c("clear", "rain")))$compute()
summary(overview)
}
</pre>
</div>


<hr>
<a id="method-AverageMarginalEffects-compute"></a>



<h4>Method <code>compute()</code></h4>

<p>Computes results, i.e., AMEs including the SD of FMEs, for an <code>AME</code> object.
</p>


<h5>Usage</h5>

<div class="r"><pre>AverageMarginalEffects$compute()</pre></div>



<h5>Returns</h5>

<p>An <code>AME</code> object with results.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre># Compute results:
\dontrun{
overview$compute()
}
</pre>
</div>


<hr>
<a id="method-AverageMarginalEffects-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>AverageMarginalEffects$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>Examples</h3>

<pre><code class='language-R'>
## ------------------------------------------------
## Method `AverageMarginalEffects$new`
## ------------------------------------------------

# Train a model:

library(mlr3verse)
library(ranger)
set.seed(123)
data(bikes, package = "fmeffects")
task = as_task_regr(x = bikes, id = "bikes", target = "count")
forest = lrn("regr.ranger")$train(task)

# Compute AMEs for all features:
## Not run: 
overview = AverageMarginalEffects$new(
  model = forest,
  data = bikes)$compute()
summary(overview)

# Compute AMEs for a subset of features with non-default step.sizes:
overview = AverageMarginalEffects$new(model = forest,
                                      data = bikes,
                                      features = list(humidity = 0.1,
                                                   weather = c("clear", "rain")))$compute()
summary(overview)

## End(Not run)

## ------------------------------------------------
## Method `AverageMarginalEffects$compute`
## ------------------------------------------------

# Compute results:
## Not run: 
overview$compute()

## End(Not run)
</code></pre>

<hr>
<h2 id='bikes'>Regression data of the usage of rental bikes in Washington D.C., USA</h2><span id='topic+bikes'></span>

<h3>Description</h3>

<p>This data set contains information on daily bike sharing usage in Washington, D.C. for the years 2011-2012. The target variable is <code>count</code>, the total number of bikes lent out to users at a specific day.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(bikes)
</code></pre>


<h3>Format</h3>

<p>An object of class <code>data.frame</code> with 731 rows and 10 columns.
</p>


<h3>Details</h3>

<p>This data frame contains the following columns:
</p>

<dl>
<dt><code>season</code></dt><dd><p>Season of the year</p>
</dd>
<dt><code>year</code></dt><dd><p>Year; 0=2011, 1=2012</p>
</dd>
<dt><code>holiday</code></dt><dd><p>If a day is a public holiday (y/n)</p>
</dd>
<dt><code>weekday</code></dt><dd><p>Day of the week</p>
</dd>
<dt><code>workingday</code></dt><dd><p>If a day is aworking day (y/n)</p>
</dd>
<dt><code>weather</code></dt><dd><p>Weather situation</p>
</dd>
<dt><code>temp</code></dt><dd><p>Temperature in degrees celsius</p>
</dd>
<dt><code>humidity</code></dt><dd><p>Humidity (relative)</p>
</dd>
<dt><code>windspeed</code></dt><dd><p>Windspeed in miles per hour</p>
</dd>
<dt><code>count</code></dt><dd><p>Total number of bikes lent out to users</p>
</dd>  </dl>



<h3>Source</h3>

<p>The original data can be found on the <a href="https://archive.ics.uci.edu/dataset/275/bike+sharing+dataset">UCI</a> database (ID = <code>275</code>).
</p>


<h3>References</h3>

<p>Fanaee-T, Hadi, and Gama, Joao, &quot;Event labeling combining ensemble detectors and background knowledge&quot;, Progress in Artificial Intelligence (2013): pp. 1-15, Springer Berlin Heidelberg, doi:10.1007/s13748-013-0040-3.
</p>

<hr>
<h2 id='came'>Computes a partitioning for a <code>ForwardMarginalEffect</code></h2><span id='topic+came'></span>

<h3>Description</h3>

<p>This is a wrapper function that creates the correct subclass of <code>Partitioning</code>.
It computes feature subspaces for semi-global interpretations of FMEs via recursive partitioning (RP).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>came(
  effects,
  number.partitions = NULL,
  max.sd = Inf,
  rp.method = "ctree",
  tree.control = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="came_+3A_effects">effects</code></td>
<td>
<p>A <code>ForwardMarginalEffect</code> object with FMEs computed.</p>
</td></tr>
<tr><td><code id="came_+3A_number.partitions">number.partitions</code></td>
<td>
<p>The exact number of partitions required.
Either <code>number.partitions</code> or <code>max.sd</code> can be specified.</p>
</td></tr>
<tr><td><code id="came_+3A_max.sd">max.sd</code></td>
<td>
<p>The maximum standard deviation required in each partition.
Among multiple partitionings with this criterion identified, the one with lowest number of partitions is selected.
Either <code>number.partitions</code> or <code>max.sd</code> can be specified.</p>
</td></tr>
<tr><td><code id="came_+3A_rp.method">rp.method</code></td>
<td>
<p>One of <code>"ctree"</code> or <code>"rpart"</code>. The RP algorithm used for growing the decision tree. Defaults to <code>"ctree"</code>.</p>
</td></tr>
<tr><td><code id="came_+3A_tree.control">tree.control</code></td>
<td>
<p>Control parameters for the RP algorithm. One of <code>"ctree.control(...)"</code> or <code>"rpart.control(...)"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>Partitioning</code> Object with identified feature subspaces.
</p>


<h3>References</h3>

<p>Scholbeck, C.A., Casalicchio, G., Molnar, C. et al. Marginal effects for non-linear prediction functions. Data Min Knowl Disc (2024). https://doi.org/10.1007/s10618-023-00993-x
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Train a model and compute FMEs:

library(mlr3verse)
library(ranger)
data(bikes, package = "fmeffects")
task = as_task_regr(x = bikes, id = "bikes", target = "count")
forest = lrn("regr.ranger")$train(task)
effects = fme(model = forest, data = bikes, features = list("temp" = 1), ep.method = "envelope")

# Find a partitioning with exactly 3 subspaces:
subspaces = came(effects, number.partitions = 3)

# Find a partitioning with a maximum standard deviation of 20, use `rpart`:
library(rpart)
subspaces = came(effects, max.sd = 200, rp.method = "rpart")

# Analyze results:
summary(subspaces)
plot(subspaces)

# Extract results:
subspaces$results
subspaces$tree
</code></pre>

<hr>
<h2 id='fme'>Computes FMEs.</h2><span id='topic+fme'></span>

<h3>Description</h3>

<p>This is a wrapper function for <code>FME$new(...)$compute()</code>.
It computes forward marginal effects (FMEs) for a specified change in feature values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fme(
  model,
  data,
  features,
  ep.method = "none",
  compute.nlm = FALSE,
  nlm.intervals = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fme_+3A_model">model</code></td>
<td>
<p>The (trained) model, with the ability to predict on new data. This must be a <code>train.formula</code> (<code>tidymodels</code>), <code>Learner</code> (<code>mlr3</code>), <code>train</code> (<code>caret</code>), <code>lm</code> or <code>glm</code> object.</p>
</td></tr>
<tr><td><code id="fme_+3A_data">data</code></td>
<td>
<p>The data used for computing FMEs, must be data.frame or data.table.</p>
</td></tr>
<tr><td><code id="fme_+3A_features">features</code></td>
<td>
<p>A named list with the feature name(s) and step size(s). The list names should correspond to the names of the feature variables affected by the step.
The list must exclusively contain either numeric or categorical features, but not a combination of both.
Numeric features must have a number as step size, categorical features the name of the reference category.</p>
</td></tr>
<tr><td><code id="fme_+3A_ep.method">ep.method</code></td>
<td>
<p>String specifying the method used for extrapolation detection. One of <code>"none"</code> or <code>"envelope"</code>. Defaults to <code>"none"</code>.</p>
</td></tr>
<tr><td><code id="fme_+3A_compute.nlm">compute.nlm</code></td>
<td>
<p>Compute NLMs for FMEs for numerical steps. Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="fme_+3A_nlm.intervals">nlm.intervals</code></td>
<td>
<p>Number of intervals for computing NLMs. Results in longer computing time but more accurate approximation of NLMs. Defaults to <code>1</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If one or more numeric features are passed to the <code>features</code> argument, FMEs are computed as </p>
<p style="text-align: center;"><code class="reqn">FME_{x, h_{S}} = f(x + h_{S}, x_{-S}) - f(x)</code>
</p>
<p> where <code class="reqn">h_{S}</code> is the step size vector and <code class="reqn">x_{-S}</code> the other features.
If one or more categorical features are passed to <code>features</code>, </p>
<p style="text-align: center;"><code class="reqn">FME_{x, c_{J}} = f(c_{J}, x_{-J}) - f(x)</code>
</p>
<p> where <code class="reqn">c_{J}</code> is the set of selected reference categories in <code>features</code> and <code class="reqn">x_{-J}</code> the other features.
</p>


<h3>Value</h3>

<p><code>ForwardsMarginalEffect</code> object with the following fields:
</p>

<ul>
<li> <p><code>ame</code> average marginal effect (AME).
</p>
</li>
<li> <p><code>anlm</code> average non-linearity measure (NLM).
</p>
</li>
<li> <p><code>extrapolation.ids</code> observations that have been identified as extrapolation points and not included in the analysis.
</p>
</li>
<li> <p><code>data.step</code>, a <code>data.table</code> of the feature matrix after the step has been applied.
</p>
</li>
<li> <p><code>results</code>, a <code>data.table</code> of the individual FMEs (and NLMs, if applicable) for all observations that are not extrapolation points.
</p>
</li></ul>



<h3>References</h3>

<p>Scholbeck, C.A., Casalicchio, G., Molnar, C. et al. Marginal effects for non-linear prediction functions. Data Min Knowl Disc (2024). https://doi.org/10.1007/s10618-023-00993-x
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Train a model:

library(mlr3verse)
library(ranger)
data(bikes, package = "fmeffects")
forest = lrn("regr.ranger")$train(as_task_regr(x = bikes, target = "count"))

# Compute FMEs for a numerical feature:
effects = fme(model = forest, data = bikes, features = list("temp" = 1), ep.method = "envelope")

# Analyze results:
summary(effects)
plot(effects)

# Extract results:
effects$results

# Compute the AME for a categorial feature:
fme(model = forest, data = bikes, features = list("weather" = "rain"))$ame
</code></pre>

<hr>
<h2 id='ForwardMarginalEffect'>R6 Class representing a forward marginal effect (FME)</h2><span id='topic+ForwardMarginalEffect'></span>

<h3>Description</h3>

<p>The FME is a forward difference in prediction due to a specified change in feature values.
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>feature</code></dt><dd><p>vector of features</p>
</dd>
<dt><code>predictor</code></dt><dd><p><code>Predictor</code> object</p>
</dd>
<dt><code>step.size</code></dt><dd><p>vector of step sizes for features specified by &quot;feature&quot;</p>
</dd>
<dt><code>data.step</code></dt><dd><p>the data.table with the data matrix after the step</p>
</dd>
<dt><code>ep.method</code></dt><dd><p>string specifying extrapolation detection method</p>
</dd>
<dt><code>compute.nlm</code></dt><dd><p>logical specifying if NLM should be computed</p>
</dd>
<dt><code>nlm.intervals</code></dt><dd><p>number of intervals for computing NLMs</p>
</dd>
<dt><code>step.type</code></dt><dd><p><code>"numerical"</code> or <code>"categorical"</code></p>
</dd>
<dt><code>extrapolation.ids</code></dt><dd><p>vector of observation ids classified as extrapolation points</p>
</dd>
<dt><code>results</code></dt><dd><p>data.table with FMEs and NLMs computed</p>
</dd>
<dt><code>ame</code></dt><dd><p>Average Marginal Effect (AME) of observations in <code>results</code></p>
</dd>
<dt><code>anlm</code></dt><dd><p>Average Non-linearity Measure (ANLM) of observations in <code>results</code></p>
</dd>
<dt><code>computed</code></dt><dd><p>logical specifying if compute() has been run</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-ForwardMarginalEffect-new"><code>ForwardMarginalEffect$new()</code></a>
</p>
</li>
<li> <p><a href="#method-ForwardMarginalEffect-compute"><code>ForwardMarginalEffect$compute()</code></a>
</p>
</li>
<li> <p><a href="#method-ForwardMarginalEffect-plot"><code>ForwardMarginalEffect$plot()</code></a>
</p>
</li>
<li> <p><a href="#method-ForwardMarginalEffect-clone"><code>ForwardMarginalEffect$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-ForwardMarginalEffect-new"></a>



<h4>Method <code>new()</code></h4>

<p>Create a new ForwardMarginalEffect object.
</p>


<h5>Usage</h5>

<div class="r"><pre>ForwardMarginalEffect$new(
  predictor,
  features,
  ep.method = "none",
  compute.nlm = FALSE,
  nlm.intervals = 1
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>predictor</code></dt><dd><p><code>Predictor</code> object.</p>
</dd>
<dt><code>features</code></dt><dd><p>A named list with the feature name(s) and step size(s).</p>
</dd>
<dt><code>ep.method</code></dt><dd><p>String specifying extrapolation detection method.</p>
</dd>
<dt><code>compute.nlm</code></dt><dd><p>Compute NLM with FMEs? Defaults to <code>FALSE</code>.</p>
</dd>
<dt><code>nlm.intervals</code></dt><dd><p>How many intervals for NLM computation. Defaults to <code>1</code>.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>A new <code>ForwardMarginalEffect</code> object.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>
# Train a model:

library(mlr3verse)
library(ranger)
data(bikes, package = "fmeffects")
forest = lrn("regr.ranger")$train(as_task_regr(x = bikes, target = "count"))

# Create an `ForwardMarginalEffect` object:
effects = ForwardMarginalEffect$new(makePredictor(forest, bikes),
                  features = list("temp" = 1, "humidity" = 0.01),
                  ep.method = "envelope")
</pre>
</div>


<hr>
<a id="method-ForwardMarginalEffect-compute"></a>



<h4>Method <code>compute()</code></h4>

<p>Computes results, i.e., FME (and NLMs) for non-extrapolation points, for a <code>ForwardMarginalEffect</code> object.
</p>


<h5>Usage</h5>

<div class="r"><pre>ForwardMarginalEffect$compute()</pre></div>



<h5>Returns</h5>

<p>A <code>ForwardMarginalEffect</code> object with results.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre># Compute results:
effects$compute()
</pre>
</div>


<hr>
<a id="method-ForwardMarginalEffect-plot"></a>



<h4>Method <code>plot()</code></h4>

<p>Plots results, i.e., FME (and NLMs) for non-extrapolation points, for an <code>FME</code> object.
</p>


<h5>Usage</h5>

<div class="r"><pre>ForwardMarginalEffect$plot(with.nlm = FALSE, bins = 40, binwidth = NULL)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>with.nlm</code></dt><dd><p>Plots NLMs if computed, defaults to <code>FALSE</code>.</p>
</dd>
<dt><code>bins</code></dt><dd><p>Numeric vector giving number of bins in both vertical and horizontal directions.  Applies only to univariate or bivariate numeric effects.
See <code><a href="ggplot2.html#topic+stat_summary_2d">ggplot2::stat_summary_hex()</a></code> for details.</p>
</dd>
<dt><code>binwidth</code></dt><dd><p>Numeric vector giving bin width in both vertical and horizontal directions. Overrides bins if both set. Applies only to univariate or bivariate numeric effects.
See <code><a href="ggplot2.html#topic+stat_summary_2d">ggplot2::stat_summary_hex()</a></code> for details.</p>
</dd>
</dl>

</div>



<h5>Examples</h5>

<div class="r example copy">
<pre># Compute results:
effects$plot()
</pre>
</div>


<hr>
<a id="method-ForwardMarginalEffect-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>ForwardMarginalEffect$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>Examples</h3>

<pre><code class='language-R'>
## ------------------------------------------------
## Method `ForwardMarginalEffect$new`
## ------------------------------------------------


# Train a model:

library(mlr3verse)
library(ranger)
data(bikes, package = "fmeffects")
forest = lrn("regr.ranger")$train(as_task_regr(x = bikes, target = "count"))

# Create an `ForwardMarginalEffect` object:
effects = ForwardMarginalEffect$new(makePredictor(forest, bikes),
                  features = list("temp" = 1, "humidity" = 0.01),
                  ep.method = "envelope")

## ------------------------------------------------
## Method `ForwardMarginalEffect$compute`
## ------------------------------------------------

# Compute results:
effects$compute()

## ------------------------------------------------
## Method `ForwardMarginalEffect$plot`
## ------------------------------------------------

# Compute results:
effects$plot()
</code></pre>

<hr>
<h2 id='makePredictor'>User-friendly function to create a <a href="#topic+Predictor">Predictor</a>.</h2><span id='topic+makePredictor'></span>

<h3>Description</h3>

<p>A wrapper function that creates the correct subclass of <code>Predictor</code> by automatically from <code>model</code>. Can be passed to the constructor of <code>FME</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>makePredictor(model, data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="makePredictor_+3A_model">model</code></td>
<td>
<p>the (trained) model, with the ability to predict on new data.</p>
</td></tr>
<tr><td><code id="makePredictor_+3A_data">data</code></td>
<td>
<p>the data used for computing FMEs, must be data.frame or data.table.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># Train a model:

library(mlr3verse)
data(bikes, package = "fmeffects")
task = as_task_regr(x = bikes, id = "bikes", target = "count")
forest = lrn("regr.ranger")$train(task)

# Create the predictor:
predictor = makePredictor(forest, bikes)

# This instantiated an object of the correct subclass of `Predictor`:
class(predictor)
</code></pre>

<hr>
<h2 id='Partitioning'>R6 Class representing a partitioning</h2><span id='topic+Partitioning'></span>

<h3>Description</h3>

<p>This is the abstract superclass for partitioning objects like <a href="#topic+PartitioningCtree">PartitioningCtree</a> and <a href="#topic+PartitioningRpart">PartitioningRpart</a>.
A Partitioning contains information about feature subspaces with conditional average marginal effects (cAME) computed for <code>ForwardMarginalEffect</code> objects.
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>object</code></dt><dd><p>a <code>ForwardMarginalEffect</code> object with results computed</p>
</dd>
<dt><code>method</code></dt><dd><p>the method for finding feature subspaces</p>
</dd>
<dt><code>value</code></dt><dd><p>the value of <code>method</code></p>
</dd>
<dt><code>results</code></dt><dd><p>descriptive statistics of the resulting feature subspaces</p>
</dd>
<dt><code>tree</code></dt><dd><p>the tree representing the partitioning, a <code>party</code> object</p>
</dd>
<dt><code>tree.control</code></dt><dd><p>control parameters for the RP algorithm</p>
</dd>
<dt><code>computed</code></dt><dd><p>logical specifying if compute() has been run</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-Partitioning-new"><code>Partitioning$new()</code></a>
</p>
</li>
<li> <p><a href="#method-Partitioning-compute"><code>Partitioning$compute()</code></a>
</p>
</li>
<li> <p><a href="#method-Partitioning-plot"><code>Partitioning$plot()</code></a>
</p>
</li>
<li> <p><a href="#method-Partitioning-clone"><code>Partitioning$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-Partitioning-new"></a>



<h4>Method <code>new()</code></h4>

<p>Create a Partitioning object
</p>


<h5>Usage</h5>

<div class="r"><pre>Partitioning$new(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt><dd><p>Partitioning cannot be initialized, only its subclasses</p>
</dd>
</dl>

</div>


<hr>
<a id="method-Partitioning-compute"></a>



<h4>Method <code>compute()</code></h4>

<p>Computes the partitioning, i.e., feature subspaces with more homogeneous FMEs, for a <code>ForwardMarginalEffect</code> object.
</p>


<h5>Usage</h5>

<div class="r"><pre>Partitioning$compute()</pre></div>



<h5>Returns</h5>

<p>An <code>Partitioning</code> object with results.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre># Compute results for an arbitrary partitioning:
# subspaces$compute()
</pre>
</div>


<hr>
<a id="method-Partitioning-plot"></a>



<h4>Method <code>plot()</code></h4>

<p>Plots results, i.e., a decision tree and summary statistics of the feature subspaces, for an <code>Partitioning</code> object after <code style="white-space: pre;">&#8288;$compute()&#8288;</code> has been run.
</p>


<h5>Usage</h5>

<div class="r"><pre>Partitioning$plot()</pre></div>



<h5>Examples</h5>

<div class="r example copy">
<pre># Plot an arbitrary partitioning:
# subspaces$plot()
</pre>
</div>


<hr>
<a id="method-Partitioning-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>Partitioning$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>Examples</h3>

<pre><code class='language-R'>
## ------------------------------------------------
## Method `Partitioning$compute`
## ------------------------------------------------

# Compute results for an arbitrary partitioning:
# subspaces$compute()

## ------------------------------------------------
## Method `Partitioning$plot`
## ------------------------------------------------

# Plot an arbitrary partitioning:
# subspaces$plot()
</code></pre>

<hr>
<h2 id='PartitioningCtree'>PartitioningCtree</h2><span id='topic+PartitioningCtree'></span>

<h3>Description</h3>

<p>This task specializes <a href="#topic+Partitioning">Partitioning</a> for the <code>ctree</code> algorithm for recursive partitioning.
</p>
<p>It is recommended to use <code><a href="#topic+came">came()</a></code> for construction of Partitioning objects.
</p>


<h3>Super class</h3>

<p><code><a href="#topic+Partitioning">fmeffects::Partitioning</a></code> -&gt; <code>PartitioningCtree</code>
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-PartitioningCtree-new"><code>PartitioningCtree$new()</code></a>
</p>
</li>
<li> <p><a href="#method-PartitioningCtree-clone"><code>PartitioningCtree$clone()</code></a>
</p>
</li></ul>



<details open><summary>Inherited methods</summary>
<ul>
<li><span class="pkg-link" data-pkg="fmeffects" data-topic="Partitioning" data-id="compute"><a href='../../fmeffects/html/Partitioning.html#method-Partitioning-compute'><code>fmeffects::Partitioning$compute()</code></a></span></li>
<li><span class="pkg-link" data-pkg="fmeffects" data-topic="Partitioning" data-id="plot"><a href='../../fmeffects/html/Partitioning.html#method-Partitioning-plot'><code>fmeffects::Partitioning$plot()</code></a></span></li>
</ul>
</details>

<hr>
<a id="method-PartitioningCtree-new"></a>



<h4>Method <code>new()</code></h4>

<p>Create a new PartitioningCtree object.
</p>


<h5>Usage</h5>

<div class="r"><pre>PartitioningCtree$new(object, method, value, tree.control = NULL)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>object</code></dt><dd><p>an <code>FME</code> object with results computed.</p>
</dd>
<dt><code>method</code></dt><dd><p>the method for finding feature subspaces.</p>
</dd>
<dt><code>value</code></dt><dd><p>the value of <code>method</code>.</p>
</dd>
<dt><code>tree.control</code></dt><dd><p>control parameters for the RP algorithm.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-PartitioningCtree-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>PartitioningCtree$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>



<hr>
<h2 id='PartitioningRpart'>PartitioningRpart</h2><span id='topic+PartitioningRpart'></span>

<h3>Description</h3>

<p>This task specializes <a href="#topic+Partitioning">Partitioning</a> for the <code>rpart</code> algorithm for recursive partitioning.
</p>
<p>It is recommended to use <code><a href="#topic+came">came()</a></code> for construction of Partitioning objects.
</p>


<h3>Super class</h3>

<p><code><a href="#topic+Partitioning">fmeffects::Partitioning</a></code> -&gt; <code>PartitioningRpart</code>
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-PartitioningRpart-new"><code>PartitioningRpart$new()</code></a>
</p>
</li>
<li> <p><a href="#method-PartitioningRpart-clone"><code>PartitioningRpart$clone()</code></a>
</p>
</li></ul>



<details open><summary>Inherited methods</summary>
<ul>
<li><span class="pkg-link" data-pkg="fmeffects" data-topic="Partitioning" data-id="compute"><a href='../../fmeffects/html/Partitioning.html#method-Partitioning-compute'><code>fmeffects::Partitioning$compute()</code></a></span></li>
<li><span class="pkg-link" data-pkg="fmeffects" data-topic="Partitioning" data-id="plot"><a href='../../fmeffects/html/Partitioning.html#method-Partitioning-plot'><code>fmeffects::Partitioning$plot()</code></a></span></li>
</ul>
</details>

<hr>
<a id="method-PartitioningRpart-new"></a>



<h4>Method <code>new()</code></h4>

<p>Create a new PartitioningRpart object.
</p>


<h5>Usage</h5>

<div class="r"><pre>PartitioningRpart$new(object, method, value, tree.control = NULL)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>object</code></dt><dd><p>An <code>FME</code> object with results computed.</p>
</dd>
<dt><code>method</code></dt><dd><p>The method for finding feature subspaces.</p>
</dd>
<dt><code>value</code></dt><dd><p>The value of <code>method</code>.</p>
</dd>
<dt><code>tree.control</code></dt><dd><p>Control parameters for the RP algorithm.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-PartitioningRpart-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>PartitioningRpart$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>



<hr>
<h2 id='plot.ForwardMarginalEffect'>Plots an ForwardMarginalEffect object.</h2><span id='topic+plot.ForwardMarginalEffect'></span>

<h3>Description</h3>

<p>Plots an ForwardMarginalEffect object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ForwardMarginalEffect'
plot(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.ForwardMarginalEffect_+3A_x">x</code></td>
<td>
<p>object of class <code>ForwardMarginalEffect</code>.
See the method <code style="white-space: pre;">&#8288;$plot()&#8288;</code> in <code><a href="#topic+ForwardMarginalEffect">ForwardMarginalEffect()</a></code> for details.</p>
</td></tr>
<tr><td><code id="plot.ForwardMarginalEffect_+3A_...">...</code></td>
<td>
<p>additional arguments affecting the summary produced.</p>
</td></tr>
</table>

<hr>
<h2 id='plot.Partitioning'>Plots an FME Partitioning.</h2><span id='topic+plot.Partitioning'></span>

<h3>Description</h3>

<p>Plots an FME Partitioning.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'Partitioning'
plot(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.Partitioning_+3A_x">x</code></td>
<td>
<p>object of class <code>Partitioning</code>.</p>
</td></tr>
<tr><td><code id="plot.Partitioning_+3A_...">...</code></td>
<td>
<p>additional arguments affecting the summary produced.</p>
</td></tr>
</table>

<hr>
<h2 id='Predictor'>R6 Class representing a predictor</h2><span id='topic+Predictor'></span>

<h3>Description</h3>

<p>This is the abstract superclass for predictor objects like <a href="#topic+PredictorMLR3">PredictorMLR3</a> and <a href="#topic+PredictorCaret">PredictorCaret</a>.
A Predictor contains information about an ML model's prediction function and training data.
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>model</code></dt><dd><p>The (trained) model, with the ability to predict on new data.</p>
</dd>
<dt><code>target</code></dt><dd><p>A character vector with the name of the target variable.</p>
</dd>
<dt><code>X</code></dt><dd><p>A data.table with feature and target variables.</p>
</dd>
<dt><code>feature.names</code></dt><dd><p>A character vector with the names of the features in X.</p>
</dd>
<dt><code>feature.types</code></dt><dd><p>A character vector with the types (numerical or categorical) of the features in X.</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-Predictor-new"><code>Predictor$new()</code></a>
</p>
</li>
<li> <p><a href="#method-Predictor-clone"><code>Predictor$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-Predictor-new"></a>



<h4>Method <code>new()</code></h4>

<p>Create a Predictor object
</p>


<h5>Usage</h5>

<div class="r"><pre>Predictor$new(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt><dd><p>Predictor cannot be initialized, only its subclasses</p>
</dd>
</dl>

</div>


<hr>
<a id="method-Predictor-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>Predictor$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>



<hr>
<h2 id='PredictorCaret'>PredictorCaret</h2><span id='topic+PredictorCaret'></span>

<h3>Description</h3>

<p>This task specializes <a href="#topic+Predictor">Predictor</a> for <code>caret</code> regression models.
The <code>model</code> is assumed to be a <code>c("train", "train.formula")</code>.
</p>
<p>It is recommended to use <code><a href="#topic+makePredictor">makePredictor()</a></code> for construction of Predictor objects.
</p>


<h3>Super class</h3>

<p><code><a href="#topic+Predictor">fmeffects::Predictor</a></code> -&gt; <code>PredictorCaret</code>
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-PredictorCaret-new"><code>PredictorCaret$new()</code></a>
</p>
</li>
<li> <p><a href="#method-PredictorCaret-predict"><code>PredictorCaret$predict()</code></a>
</p>
</li>
<li> <p><a href="#method-PredictorCaret-clone"><code>PredictorCaret$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-PredictorCaret-new"></a>



<h4>Method <code>new()</code></h4>

<p>Create a new PredictorCaret object.
</p>


<h5>Usage</h5>

<div class="r"><pre>PredictorCaret$new(model, data)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>model</code></dt><dd><p><code style="white-space: pre;">&#8288;train, train.formula&#8288;</code> object.</p>
</dd>
<dt><code>data</code></dt><dd><p>The data used for computing FMEs, must be data.frame or data.table.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-PredictorCaret-predict"></a>



<h4>Method <code>predict()</code></h4>

<p>Predicts on an observation <code>"newdata"</code>.
</p>


<h5>Usage</h5>

<div class="r"><pre>PredictorCaret$predict(newdata)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>newdata</code></dt><dd><p>The feature vector for which the target should be predicted.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-PredictorCaret-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>PredictorCaret$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>



<hr>
<h2 id='PredictorLM'>PredictorLM</h2><span id='topic+PredictorLM'></span>

<h3>Description</h3>

<p>This task specializes <a href="#topic+Predictor">Predictor</a> for <code>lm</code> and <code>lm</code>-type models.
The <code>model</code> is assumed to be a <code>lm</code>.
</p>
<p>It is recommended to use <code><a href="#topic+makePredictor">makePredictor()</a></code> for construction of Predictor objects.
</p>


<h3>Super class</h3>

<p><code><a href="#topic+Predictor">fmeffects::Predictor</a></code> -&gt; <code>PredictorLM</code>
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-PredictorLM-new"><code>PredictorLM$new()</code></a>
</p>
</li>
<li> <p><a href="#method-PredictorLM-predict"><code>PredictorLM$predict()</code></a>
</p>
</li>
<li> <p><a href="#method-PredictorLM-clone"><code>PredictorLM$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-PredictorLM-new"></a>



<h4>Method <code>new()</code></h4>

<p>Create a new PredictorCaret object.
</p>


<h5>Usage</h5>

<div class="r"><pre>PredictorLM$new(model, data)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>model</code></dt><dd><p><code style="white-space: pre;">&#8288;train, train.formula&#8288;</code> object.</p>
</dd>
<dt><code>data</code></dt><dd><p>The data used for computing FMEs, must be data.frame or data.table.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-PredictorLM-predict"></a>



<h4>Method <code>predict()</code></h4>

<p>Predicts on an observation <code>"newdata"</code>.
</p>


<h5>Usage</h5>

<div class="r"><pre>PredictorLM$predict(newdata)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>newdata</code></dt><dd><p>The feature vector for which the target should be predicted.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-PredictorLM-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>PredictorLM$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>



<hr>
<h2 id='PredictorMLR3'>PredictorMLR3</h2><span id='topic+PredictorMLR3'></span>

<h3>Description</h3>

<p>This task specializes <a href="#topic+Predictor">Predictor</a> for <code>mlr3</code> models.
The <code>model</code> is assumed to be a <code>LearnerRegr</code> or <code>LearnerClassif</code>.
</p>
<p>It is recommended to use <code><a href="#topic+makePredictor">makePredictor()</a></code> for construction of Predictor objects.
</p>


<h3>Super class</h3>

<p><code><a href="#topic+Predictor">fmeffects::Predictor</a></code> -&gt; <code>PredictorMLR3</code>
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-PredictorMLR3-new"><code>PredictorMLR3$new()</code></a>
</p>
</li>
<li> <p><a href="#method-PredictorMLR3-predict"><code>PredictorMLR3$predict()</code></a>
</p>
</li>
<li> <p><a href="#method-PredictorMLR3-clone"><code>PredictorMLR3$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-PredictorMLR3-new"></a>



<h4>Method <code>new()</code></h4>

<p>Create a new PredictorMLR3 object.
</p>


<h5>Usage</h5>

<div class="r"><pre>PredictorMLR3$new(model, data)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>model</code></dt><dd><p><code>LearnerRegr</code> or <code>LearnerClassif</code> object.</p>
</dd>
<dt><code>data</code></dt><dd><p>The data used for computing FMEs, must be data.frame or data.table.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-PredictorMLR3-predict"></a>



<h4>Method <code>predict()</code></h4>

<p>Predicts on an observation <code>"newdata"</code>.
</p>


<h5>Usage</h5>

<div class="r"><pre>PredictorMLR3$predict(newdata)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>newdata</code></dt><dd><p>The feature vector for which the target should be predicted.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-PredictorMLR3-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>PredictorMLR3$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>



<hr>
<h2 id='PredictorParsnip'>PredictorParsnip</h2><span id='topic+PredictorParsnip'></span>

<h3>Description</h3>

<p>This task specializes <a href="#topic+Predictor">Predictor</a> for <code>parsnip</code> models.
The <code>model</code> is assumed to be a <code>model_fit</code> object.
</p>
<p>It is recommended to use <code><a href="#topic+makePredictor">makePredictor()</a></code> for construction of Predictor objects.
</p>


<h3>Super class</h3>

<p><code><a href="#topic+Predictor">fmeffects::Predictor</a></code> -&gt; <code>PredictorParsnip</code>
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-PredictorParsnip-new"><code>PredictorParsnip$new()</code></a>
</p>
</li>
<li> <p><a href="#method-PredictorParsnip-predict"><code>PredictorParsnip$predict()</code></a>
</p>
</li>
<li> <p><a href="#method-PredictorParsnip-clone"><code>PredictorParsnip$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-PredictorParsnip-new"></a>



<h4>Method <code>new()</code></h4>

<p>Create a new PredictorParsnip object.
</p>


<h5>Usage</h5>

<div class="r"><pre>PredictorParsnip$new(model, data)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>model</code></dt><dd><p><code>model_fit</code> object.</p>
</dd>
<dt><code>data</code></dt><dd><p>The data used for computing FMEs, must be data.frame or data.table.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-PredictorParsnip-predict"></a>



<h4>Method <code>predict()</code></h4>

<p>Predicts on an observation <code>"newdata"</code>.
</p>


<h5>Usage</h5>

<div class="r"><pre>PredictorParsnip$predict(newdata)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>newdata</code></dt><dd><p>The feature vector for which the target should be predicted.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-PredictorParsnip-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>PredictorParsnip$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>



<hr>
<h2 id='print.ForwardMarginalEffect'>Prints an ForwardMarginalEffect object.</h2><span id='topic+print.ForwardMarginalEffect'></span>

<h3>Description</h3>

<p>Prints an ForwardMarginalEffect object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ForwardMarginalEffect'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.ForwardMarginalEffect_+3A_x">x</code></td>
<td>
<p>object of class <code>ForwardMarginalEffect</code>.</p>
</td></tr>
<tr><td><code id="print.ForwardMarginalEffect_+3A_...">...</code></td>
<td>
<p>additional arguments affecting the summary produced.</p>
</td></tr>
</table>

<hr>
<h2 id='print.Partitioning'>Prints an FME Partitioning.</h2><span id='topic+print.Partitioning'></span>

<h3>Description</h3>

<p>Prints an FME Partitioning.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'Partitioning'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.Partitioning_+3A_x">x</code></td>
<td>
<p>object of class <code>Partitioning</code>.</p>
</td></tr>
<tr><td><code id="print.Partitioning_+3A_...">...</code></td>
<td>
<p>additional arguments affecting the summary produced.</p>
</td></tr>
</table>

<hr>
<h2 id='summary.AverageMarginalEffects'>Prints summary of an AverageMarginalEffects object.</h2><span id='topic+summary.AverageMarginalEffects'></span>

<h3>Description</h3>

<p>Prints summary of an AverageMarginalEffects object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'AverageMarginalEffects'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.AverageMarginalEffects_+3A_object">object</code></td>
<td>
<p>object of class <code>AverageMarginalEffects</code>.</p>
</td></tr>
<tr><td><code id="summary.AverageMarginalEffects_+3A_...">...</code></td>
<td>
<p>additional arguments affecting the summary produced.</p>
</td></tr>
</table>

<hr>
<h2 id='summary.ForwardMarginalEffect'>Prints summary of an ForwardMarginalEffect object.</h2><span id='topic+summary.ForwardMarginalEffect'></span>

<h3>Description</h3>

<p>Prints summary of an ForwardMarginalEffect object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ForwardMarginalEffect'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.ForwardMarginalEffect_+3A_object">object</code></td>
<td>
<p>object of class <code>ForwardMarginalEffect</code>.</p>
</td></tr>
<tr><td><code id="summary.ForwardMarginalEffect_+3A_...">...</code></td>
<td>
<p>additional arguments affecting the summary produced.</p>
</td></tr>
</table>

<hr>
<h2 id='summary.Partitioning'>Prints summary of an FME Partitioning.</h2><span id='topic+summary.Partitioning'></span>

<h3>Description</h3>

<p>Prints summary of an FME Partitioning.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'Partitioning'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.Partitioning_+3A_object">object</code></td>
<td>
<p>object of class <code>Partitioning</code>.</p>
</td></tr>
<tr><td><code id="summary.Partitioning_+3A_...">...</code></td>
<td>
<p>additional arguments affecting the summary produced.</p>
</td></tr>
</table>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

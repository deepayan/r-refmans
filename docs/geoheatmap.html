<!DOCTYPE html><html lang="en"><head><title>Help for package geoheatmap</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {geoheatmap}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#geoheatmap'><p>Create a new ggplot-based geographical heatmap for a user-specified geographical grid</p></a></li>
<li><a href='#internet'><p>Individuals using the Internet</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Create Geospatial Cartogram Heatmaps</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Sanne J.W. Willems &lt;s.j.w.willems@fsw.leidenuniv.nl&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>The functionality provided by this package is an expansion of the code 
    of the 'statebins' package, created by B. Rudis (2022), &lt;<a href="https://doi.org/10.32614%2FCRAN.package.statebins">doi:10.32614/CRAN.package.statebins</a>&gt;. It allows for the creation of square choropleths 
    for the entire world, provided an appropriate specified grid is supplied. </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Imports:</td>
<td>geofacet, statebins, ggplot2, plotly, rlang</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, viridisLite, testthat (&ge; 3.0.0), htmltools</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>Collate:</td>
<td>'aaa.R' 'geoheatmap.R' 'geom-rrect.r' 'geom-rtile.R' 'gutil.R'
'internet.R' 'util.R'</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-09-02 13:14:32 UTC; Maria</td>
</tr>
<tr>
<td>Author:</td>
<td>Sanne J.W. Willems [cre, aut],
  Maria Rados [aut],
  Juan Claramunt Gonzalez [ctb]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-09-05 15:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='geoheatmap'>Create a new ggplot-based geographical heatmap for a user-specified geographical grid</h2><span id='topic+geoheatmap'></span>

<h3>Description</h3>

<p>Pass in desired data frame and grid and get back a square choropleth. The function takes
inspiration from the <code>statebins</code> function, modifying it to allow for non-US grids and territories,
e.g. as defined in the <code>geofacet</code> package.
The output is a ggplot2 object to which additional layers can be added.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geoheatmap(
  facet_data = NULL,
  grid_data = NULL,
  facet_col = NULL,
  value_col = NULL,
  merge_col = NULL,
  dark_label = "black",
  light_label = "white",
  na_label = "white",
  font_size = 3,
  facet_border_col = "white",
  facet_border_size = 2,
  round = FALSE,
  radius = grid::unit(6, "pt"),
  ggplot2_scale_function = ggplot2::scale_fill_continuous,
  hover = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="geoheatmap_+3A_facet_data">facet_data</code></td>
<td>
<p>data frame of facets (geographical locations) and values to plot</p>
</td></tr>
<tr><td><code id="geoheatmap_+3A_grid_data">grid_data</code></td>
<td>
<p>data frame of matching geographical grid positions</p>
</td></tr>
<tr><td><code id="geoheatmap_+3A_facet_col">facet_col</code></td>
<td>
<p>column name in <code>facet_data</code> that holds the facets. No duplicates;
can be full names (e.g. &quot;<code>Netherlands</code>&quot;) or abbreviations (e.g. &quot;<code>NL</code>&quot;)</p>
</td></tr>
<tr><td><code id="geoheatmap_+3A_value_col">value_col</code></td>
<td>
<p>column name in <code>facet_data</code> that holds the values to be plotted</p>
</td></tr>
<tr><td><code id="geoheatmap_+3A_merge_col">merge_col</code></td>
<td>
<p>grids can sometimes hold both native and anglophone language geographical names
(e.g. &quot;<code>Bayern/Bavaria</code>&quot;. If native option is preferable, use <code>merge_col</code>;
defaults to &quot;<code>name</code>&quot;.</p>
</td></tr>
<tr><td><code id="geoheatmap_+3A_dark_label">dark_label</code>, <code id="geoheatmap_+3A_light_label">light_label</code>, <code id="geoheatmap_+3A_na_label">na_label</code></td>
<td>
<p>dark/light/NA label colors. The specified color will be used
when the algorithm determines labels should be inverted.</p>
</td></tr>
<tr><td><code id="geoheatmap_+3A_font_size">font_size</code></td>
<td>
<p>font size (default = <code>3</code>)</p>
</td></tr>
<tr><td><code id="geoheatmap_+3A_facet_border_col">facet_border_col</code></td>
<td>
<p>default &quot;<code>white</code>&quot; - this creates the &quot;spaces&quot; between boxes</p>
</td></tr>
<tr><td><code id="geoheatmap_+3A_facet_border_size">facet_border_size</code></td>
<td>
<p>border size</p>
</td></tr>
<tr><td><code id="geoheatmap_+3A_round">round</code></td>
<td>
<p>rounded corners (default: <code>FALSE</code>)</p>
</td></tr>
<tr><td><code id="geoheatmap_+3A_radius">radius</code></td>
<td>
<p>if <code>round</code> is <code>TRUE</code> then use <code>grid::unit</code> to specify the corner radius.
Default is <code>grid::unit(6, "pt")</code> if using rounded corners.</p>
</td></tr>
<tr><td><code id="geoheatmap_+3A_ggplot2_scale_function">ggplot2_scale_function</code></td>
<td>
<p>ggplot2 scale function to use. Defaults to <code>scale_fill_continuous</code></p>
</td></tr>
<tr><td><code id="geoheatmap_+3A_hover">hover</code></td>
<td>
<p>if <code>hover</code> is <code>TRUE</code>, enables interactive plotly plot (see also <code><a href="plotly.html#topic+ggplotly">ggplotly</a></code>).
Note it only works when <code>round</code> is set to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="geoheatmap_+3A_...">...</code></td>
<td>
<p>additional parameters to the scale function</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Like in the statebins package, we offer the option to specify a <code>dark_label</code> color
and a <code>light_label</code> color. Depending on the selected colour scale function,
<code>geoheatmap</code> will use that information to determine what label to use on lighter/darker tiles.
This should in principle mean that labels never fade into the background.
Note that this only applies if colours are defined within function,
i.e. not called after the object has already been created.
</p>
<p>You can customize the scale function you pass in by using name parameters. All named
parameters not used by <code>geoheatmap()</code> itself get passed to the scale function.
</p>
<p>The default theme is set to <code>theme_void()</code>, but this can be either overwritten,
or added onto depending on intended plot purposes.
</p>


<h3>Value</h3>

<p>ggplot2 object
</p>


<h3>References</h3>

<p>Bob Rudis. (2022). statebins: Create United States Uniform Cartogram Heatmaps. R package version 1.4.0.
URL: <a href="https://CRAN.R-project.org/package=statebins">https://CRAN.R-project.org/package=statebins</a>
</p>
<p>Ryan Hafen. (2018). geofacet: 'ggplot2' Faceting Utilities for Geographical Data.
R package version 0.2.1. URL: <a href="https://CRAN.R-project.org/package=geofacet">https://CRAN.R-project.org/package=geofacet</a>
</p>


<h3>See Also</h3>

<p><code><a href="statebins.html#topic+statebins">statebins</a></code> <code><a href="geofacet.html#topic+geofacet">geofacet</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(internet)
library(geofacet)
library(ggplot2)

internet_2015 &lt;- subset(internet, year == 2015)
geoheatmap(facet_data= internet_2015, grid_data= europe_countries_grid1,
                    facet_col = "country", value_col = "users")
</code></pre>

<hr>
<h2 id='internet'>Individuals using the Internet</h2><span id='topic+internet'></span>

<h3>Description</h3>

<p>This dataset contains information on the percentage of individuals using the Internet
within a given population, categorized by country and year. It helps to measure the digital divide
and track progress internet accessibility worldwide. Internet users are defined as
individuals who have used the Internet (from any location) in the last 3 months.
The data is collected from national surveys and telecommunications ministries and is
regularly updated (last update: 2022) to reflect the latest available figures.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>internet
</code></pre>


<h3>Format</h3>

<p>A data frame with 7101 observations (long format) on the following 3 variables:
</p>

<dl>
<dt><code>country</code></dt><dd><p>list of countries for which data was collected;
there are 263 unique entries, including UN-recognized countries, dependent and autonomous territories.</p>
</dd>
<dt><code>year</code></dt><dd><p>year in which data was recorded in.</p>
</dd>
<dt><code>users</code></dt><dd><p>amount of population with active internet usage, expressed in percentage.</p>
</dd>
</dl>



<h3>Details</h3>

<p>Dataset contains a country name (&quot;Democratic Republic of Korea&quot;) that has a encoding that does not comply with the UTF-8, so this observation is
removed from the dataset to avoid encoding issues in the example.
</p>


<h3>Source</h3>

<p>The World Bank. (2024). Internet Users (% of population) [Data file]. Retrieved from https://data.worldbank.org/indicator/IT.NET.USER.ZS
</p>
<p>The World Bank Group. (2024). Internet Users (% of population) [Data file]. Retrieved from https://data.worldbank.org/indicator/IT.NET.USER.ZS
</p>


<h3>References</h3>

<p>International Telecommunication Union (ITU). (2024). ITU data (World Telecommunication/ICT Indicators Database) used in World Bank compilation.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

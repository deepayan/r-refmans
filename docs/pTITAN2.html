<!DOCTYPE html><html lang="en-US"><head><title>Help for package pTITAN2</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {pTITAN2}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#datasets'><p>Example Data Sets</p></a></li>
<li><a href='#occurrences'><p>Occurrence</p></a></li>
<li><a href='#permutation_example'><p>Permutation Example Result</p></a></li>
<li><a href='#permute'><p>Permute</p></a></li>
<li><a href='#pTITAN2'><p>Permutations of Treatment Labels and TITAN2 Analysis</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Permutations of Treatment Labels and TITAN2 Analysis</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.2</td>
</tr>
<tr>
<td>Description:</td>
<td>Permute treatment labels for taxa and environmental gradients to
    generate an empirical distribution of change points.  This is an extension
    for the 'TITAN2' package <a href="https://cran.r-project.org/package=TITAN2">https://cran.r-project.org/package=TITAN2</a>.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/USEPA/pTITAN2">https://github.com/USEPA/pTITAN2</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>data.table</td>
</tr>
<tr>
<td>Suggests:</td>
<td>bookdown, DiagrammeR, dplyr (&ge; 1.0.0), knitr, magrittr,
readr, rmarkdown, TITAN2, testthat (&ge; 3.0.0), tidyr</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-03-07 16:43:47 UTC; peterdewitt</td>
</tr>
<tr>
<td>Author:</td>
<td>Peter DeWitt <a href="https://orcid.org/0000-0002-6391-0795"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Stephanie Figary <a href="https://orcid.org/0000-0002-4876-9850"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Naomi Detenbeck <a href="https://orcid.org/0000-0002-9868-0475"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Peter DeWitt &lt;peter.dewitt@cuanschutz.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-03-07 17:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='datasets'>Example Data Sets</h2><span id='topic+datasets'></span><span id='topic+C_IC_D_06_wID'></span><span id='topic+C_IC_N_06_wID'></span><span id='topic+CD_06_Mall_wID'></span><span id='topic+CN_06_Mall_wID'></span>

<h3>Description</h3>

<p>Four Example data sets for use the pTITAN2 package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>C_IC_D_06_wID

C_IC_N_06_wID

CD_06_Mall_wID

CN_06_Mall_wID
</code></pre>


<h3>Format</h3>

<p>An object of class <code>data.frame</code> with 251 rows and 2 columns.
</p>
<p>An object of class <code>data.frame</code> with 124 rows and 2 columns.
</p>
<p>An object of class <code>data.frame</code> with 251 rows and 501 columns.
</p>
<p>An object of class <code>data.frame</code> with 124 rows and 501 columns.
</p>


<h3>Details</h3>

<p>Example data sets are from publicly available macroinvertebrate survey data
from California.  The data sets are broken down between the environmental
variable, in this case percent impervious cover, and macroinvertebrate data.
Separate data files are provided for each 'treatment' that is explored. In
this case, the treatments are data from either drought (dry) or normal
precipitation years in the Chaparral region of California.
</p>
<p><code>CN_06_Mall_wID</code> (Chaparral Region, Treatment = Normal) file contains
raw macroinvertebrate density data for 500 possible macroinvertebrate codes
for each taxonomic level (class, order, family, genus).
</p>
<p>The raw data files are provided for your use as well.  See example below for
accessing these files.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>head(C_IC_D_06_wID)  # Environemntal Gradient, Dry Treatment
head(C_IC_N_06_wID)  # Environemntal Gradient, Normal Treatment
head(CD_06_Mall_wID) # Taxonomic, Dry Treatment
head(CN_06_Mall_wID) # Taxonomic, Normal Treatment

# Get the paths to the raw data files
list.files(system.file("extdata", package = "pTITAN2"))

</code></pre>

<hr>
<h2 id='occurrences'>Occurrence</h2><span id='topic+occurrences'></span>

<h3>Description</h3>

<p>Generate a taxonomic data set with codes which have at least n occurrences.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>occurrences(data, n = 5L)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="occurrences_+3A_data">data</code></td>
<td>
<p>A <code>data.frame</code> wit</p>
</td></tr>
<tr><td><code id="occurrences_+3A_n">n</code></td>
<td>
<p>the minimum number of occurrences.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Of the codes with at least n occurrences, the code with the most taxonomic
detail needs to be selected for the <code><a href="TITAN2.html#topic+titan">titan</a></code> run.  This
means if the macroinvertebrate count has at least n occurrences in a genus
code, the family, order, and class codes associated with these counts should
be removed.  Or, for another example, if there are too few counts at the
genus level, but at least n counts at the family level- the family code would
be retained and the order and class codes would be removed.
</p>
<p>Coding: All of the macroinvertebrates were coded so the first two letters
indicate the class, the second two letters indicate the order, the third two
letters indicate the family, and the last two numbers indicate the genus.
&quot;00&quot; indicates that there is no information at that level.  For example: A
code that is 'Bi000000' is the Bivalvia class, while BiVe0000 is the Bivalvia
class, Veneroida order. BiVeSh00 is the Bivalvia class, Veneroida order,
Spheriridae family. BiVeSh01 is a genus within that family.
</p>
<p>NOTE: The example script that inspired the development of this function
required the data set to have the column names in alpha order.  This function
relaxes that requirement by using the <code><a href="dplyr.html#topic+arrange">arrange</a></code> call.
</p>


<h3>Value</h3>

<p>a <code>data.frame</code> with six columns: <code>taxon</code>, <code>Class</code>,
<code>Order</code>, <code>Family</code>, <code>Genus</code>, and <code>count</code>.
</p>


<h3>See Also</h3>

<p><code>vignette(topic = "pTITAN2", package = "pTITAN2")</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Report the tax with minimum of five (default) occurrences.
occurrences(CN_06_Mall_wID[, -1])

# Report the tax with at least six occurrences
occurrences(CN_06_Mall_wID[, -1], n = 6)

</code></pre>

<hr>
<h2 id='permutation_example'>Permutation Example Result</h2><span id='topic+permutation_example'></span>

<h3>Description</h3>

<p>Results for a permutation example.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>permutation_example
</code></pre>


<h3>Format</h3>

<p>An object of class <code>data.frame</code> with 10 rows and 7 columns.
</p>


<h3>Details</h3>

<p>The code to generate this example permuation set can be found via
<code>system.file("example-scripts", "permutation_example.R", package = "pTITAN2")</code>
</p>


<h3>See Also</h3>

<p><code>vignette("pTITIAN2")</code>
</p>

<hr>
<h2 id='permute'>Permute</h2><span id='topic+permute'></span><span id='topic+permute2'></span>

<h3>Description</h3>

<p>Permute treatment labels for a taxa and associated environmental gradients.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>permute(taxa, envs, sid)

permute2(..., minTaxonFreq = 3L, trys = 100L)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="permute_+3A_taxa">taxa</code></td>
<td>
<p>a list of <code>data.frame</code>s with the taxa.  See Details.</p>
</td></tr>
<tr><td><code id="permute_+3A_envs">envs</code></td>
<td>
<p>a list of <code>data.frame</code>s with the environmental gradients. See
Details</p>
</td></tr>
<tr><td><code id="permute_+3A_sid">sid</code></td>
<td>
<p>a character vector of length one with the name of the column
identifying the station id.</p>
</td></tr>
<tr><td><code id="permute_+3A_...">...</code></td>
<td>
<p>passed to permute</p>
</td></tr>
<tr><td><code id="permute_+3A_mintaxonfreq">minTaxonFreq</code></td>
<td>
<p>min number of occurrences for each taxon</p>
</td></tr>
<tr><td><code id="permute_+3A_trys">trys</code></td>
<td>
<p>maximum number of attempts to generate a meaningful permutation</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The taxa and envs lists are expected to be of equal length and that the ith
element of taxa list is associated with the ith element of the envs list.
That is, the taxa and environmental gradient for treatment 1 are both the
first elements of the respective lists, the taxa and environmental gradient
for treatment 2 are the second elements for the respective lists, etc.
</p>
<p>The environmental gradient data.frames are expected to have two columns, one
with the station ID and one with the data defining the gradient.
</p>
<p>The taxa data.frames are expected to have the station ID column as well.
<strong>Important</strong> The station ID column name needs to be the same for all the
taxa and environmental gradient data.frames.
</p>


<h3>Value</h3>

<p>A list of lists of lists.  At the top level the elements are the treatment
groups.  There are as many elements as the length of the lists taxa and envs.
</p>
<p>The second level are the taxa and environmental gradient.
</p>


<h3>See Also</h3>

<p><code>vignette(topic = "pTITAN2", package = "pTITAN2")</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
example_permutation &lt;-
 permute(taxa = list(CD_06_Mall_wID, CN_06_Mall_wID),
         envs = list(C_IC_D_06_wID, C_IC_N_06_wID),
         sid  = "StationID")
str(example_permutation, max.level = 2)

</code></pre>

<hr>
<h2 id='pTITAN2'>Permutations of Treatment Labels and TITAN2 Analysis</h2><span id='topic+pTITAN2'></span>

<h3>Description</h3>

<p>Permute treatment labels for taxa and environmental gradients to generate
an empirical distribution of change points.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

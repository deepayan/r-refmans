<!DOCTYPE html><html lang="en"><head><title>Help for package truncSP</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {truncSP}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#truncSP-package'>
<p>Estimators of semi-parametric truncated regression models</p></a></li>
<li><a href='#lt'>
<p>Estimation of truncated regression models using the Left Truncated (LT) estimator</p></a></li>
<li><a href='#lt-class'><p>Class <code>"lt"</code></p></a></li>
<li><a href='#lt.fit'>
<p>Function for fitting LT</p></a></li>
<li><a href='#PM10'>
<p>Air pollution data</p></a></li>
<li><a href='#PM10trunc'>
<p>Air pollution data (Truncated)</p></a></li>
<li><a href='#qme'>
<p>Estimation of truncated regression models using the Quadratic Mode Estimator (QME)</p></a></li>
<li><a href='#qme-class'><p>Class <code>"qme"</code></p></a></li>
<li><a href='#qme.fit'>
<p>Function for fitting QME</p></a></li>
<li><a href='#stls'>
<p>Estimation of truncated regression models using the Symmetrically Trimmed Least Squares (STLS) estimator</p></a></li>
<li><a href='#stls-class'><p>Class &quot;stls&quot;</p></a></li>
<li><a href='#stls.fit'>
<p>Function for fitting STLS</p></a></li>
<li><a href='#summary.lt-class'><p>Class <code>"summary.lt"</code></p></a></li>
<li><a href='#summary.qme-class'><p>Class <code>"summary.qme"</code></p></a></li>
<li><a href='#summary.stls-class'><p>Class &quot;summary.stls&quot;</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Semi-parametric estimators of truncated regression models</td>
</tr>
<tr>
<td>Version:</td>
<td>1.2.2</td>
</tr>
<tr>
<td>Date:</td>
<td>2014-05-05</td>
</tr>
<tr>
<td>Author:</td>
<td>Anita Lindmark and Maria Karlsson, Department of Statistics, Umea University</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Anita Lindmark &lt;anita.lindmark@stat.umu.se&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Semi-parametric estimation of truncated linear regression models</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>Depends:</td>
<td>R(&ge; 2.10), stats, methods, truncreg, boot</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2014-05-05 09:02:11 UTC; anli0053</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2014-05-05 11:43:44</td>
</tr>
</table>
<hr>
<h2 id='truncSP-package'>
Estimators of semi-parametric truncated regression models
</h2><span id='topic+truncSP-package'></span><span id='topic+truncSP'></span>

<h3>Description</h3>

<p>Functions for estimation of semi-parametric linear regression models with truncated response variables (fixed truncation point). Estimation using the Symmetrically Trimmed Least Squares (STLS) estimator (Powell 1986), Quadratic Mode (QME) estimator (Lee 1993) and Left Truncated (LT) estimator (Karlsson 2006).
</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> truncSP</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 1.2.2</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2014-05-05</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL (&gt;=2)</td>
</tr>
<tr>
 <td style="text-align: left;">
LazyLoad: </td><td style="text-align: left;"> yes</td>
</tr>
<tr>
 <td style="text-align: left;">
Depends: </td><td style="text-align: left;"> R(&gt;= 2.10), methods, truncreg, boot</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>These semi-parametric estimators provide an alternative to maximum likelihood estimators, which are sensitive to distributional misspecification (Davidson and MacKinnon, 1993, p 536). All three estimators use trimming of the conditional density of the error terms. STLS assumes symmetrically distributed error terms, while QME and LT have been shown to be consistent for estimation of the slope parameters under asymmetrically distributed errors as well (Laitila 2001 and Karlsson 2006). The functions in the package (<code><a href="#topic+qme">qme</a></code>, <code><a href="#topic+lt">lt</a></code> and <code><a href="#topic+stls">stls</a></code>), all use <code><a href="stats.html#topic+optim">optim</a></code> to maximize or minimize objective functions wrt the vector of regression coefficients in order to find estimates (Karlsson and Lindmark, 2014). As the covariance matrices of the estimators depend on the density of the error distribution, the estimation of these is complicated and bootstrap (as described in Karlsson 2004 and Karlsson and Lindmark 2014) is used in all three functions. 
</p>


<h3>Author(s)</h3>

<p>Anita Lindmark and Maria Karlsson, Department of Statistics, Umea University<br /><br />
Maintainer: Anita Lindmark &lt;anita.lindmark@stat.umu.se&gt;
</p>


<h3>References</h3>

<p>Davidson, R., MacKinnon, J. G. (1993) <em>Estimation and Inference in Econometrics</em>, Oxford University Press, USA<br /><br />
Karlsson, M. (2004) Finite sample properties of the QME, <em>Communications in Statistics - Simulation and Computation</em>, <b>5</b>, pp 567&ndash;583<br /><br />
Karlsson, M. (2006) Estimators of regression parameters for truncated and censored data, <em>Metrika</em>, <b>63</b>, pp 329&ndash;341<br /><br />
Karlsson, M., Lindmark, A. (2014) truncSP: An R Package for Estimation of Semi-Parametric Truncated Linear Regression Models, <em>Journal of Statistical Software</em>, <b>57(14)</b>, pp 1&ndash;19, <a href="http://www.jstatsoft.org/v57/i14/">http://www.jstatsoft.org/v57/i14/</a> <br /><br />
Laitila, T. (2001) Properties of the QME under asymmetrically distributed disturbances, <em>Statistics &amp; Probability Letters</em>, <b>52</b>, pp 347&ndash;352<br /><br />
Lee, M. (1993) Quadratic mode regression, <em>Journal of Econometrics</em>, <b>57</b>, pp 1-19<br /><br />
Lee, M., Kim, H. (1998) Semiparametric econometric estimators for a truncated regression model: a review with an extension, <em>Statistica Neerlandica</em>, <b>52(2)</b>, pp 200&ndash;225<br /><br />
Powell, J. (1986) Symmetrically Trimmed Least Squares Estimation for Tobit Models, <em>Econometrika</em>, <b>54(6)</b>, pp 1435&ndash;1460
</p>


<h3>See Also</h3>

<p><code><a href="truncreg.html#topic+truncreg">truncreg</a></code>, function for estimating models with truncated response variables by maximum likelihood assuming Gaussian errors 
</p>


<h3>Examples</h3>

<pre><code class='language-R'> ##Simulate a data.frame (model with asymmetrically distributed errors)
n &lt;- 10000
x1 &lt;- runif(n,0,10)
x2 &lt;- runif(n,0,10)
x3 &lt;- runif(n,-5,5)
eps &lt;- rexp(n,0.2)- 5
y &lt;- 2-2*x1+x2+2*x3+eps
d &lt;- data.frame(y=y,x1=x1,x2=x2,x3=x3)
   
##Use a truncated subsample
dtrunc &lt;- subset(d, y&gt;0)

##Use qme or lt to consistently estimate the slope parameters
qme(y~x1+x2+x3, dtrunc, point=0, direction="left", cval="ols", const=1, 
   beta="ols", covar=FALSE)
lt(y~x1+x2+x3, dtrunc, point=0, direction="left", clower="ols", const=1, 
   cupper=2, beta="ols", covar=FALSE)
   
##Simulate a data.frame (symmetrically distributed errors)
n &lt;- 10000
x1 &lt;- runif(n,0,10)
x2 &lt;- runif(n,0,10)
x3 &lt;- runif(n,-5,5)
y &lt;- 1-2*x1+x2+2*x3+rnorm(n,0,2)
d &lt;- data.frame(y=y,x1=x1,x2=x2,x3=x3)

##Use a truncated subsample
dtrunc &lt;- subset(d, y&gt;0)
  
##Use stls to estimate the model
stls(y~x1+x2+x3, dtrunc, point=0, direction="left", beta="ols", covar=FALSE)
</code></pre>

<hr>
<h2 id='lt'>
Estimation of truncated regression models using the Left Truncated (LT) estimator
</h2><span id='topic+lt'></span><span id='topic+print+2Clt-method'></span><span id='topic+summary+2Clt-method'></span><span id='topic+print+2Csummary.lt-method'></span><span id='topic+coef+2Clt-method'></span><span id='topic+vcov+2Clt-method'></span><span id='topic+residuals+2Clt-method'></span><span id='topic+fitted+2Clt-method'></span>

<h3>Description</h3>

<p>Estimates linear regression models with truncated response variables (fixed truncation point), using the LT estimator (Karlsson 2006).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lt(formula, data, point = 0, direction = "left", clower = "ml", const = 1, cupper = 2,
   beta = "ml", covar = FALSE, na.action, ...)
## S4 method for signature 'lt'
print(x, digits = max(3, getOption("digits") - 3), ...)
## S4 method for signature 'lt'
summary(object, level=0.95, ...)
## S4 method for signature 'summary.lt'
print(x, digits= max(3, getOption("digits") - 3), ...)
## S4 method for signature 'lt'
coef(object,...)
## S4 method for signature 'lt'
vcov(object,...)
## S4 method for signature 'lt'
residuals(object,...)
## S4 method for signature 'lt'
fitted(object,...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="lt_+3A_x">x</code>, <code id="lt_+3A_object">object</code></td>
<td>

<p>an object of class <code>"lt"</code>
</p>
</td></tr>
<tr><td><code id="lt_+3A_formula">formula</code></td>
<td>

<p>a symbolic description of the model to be estimated
</p>
</td></tr>
<tr><td><code id="lt_+3A_data">data</code></td>
<td>

<p>an optional data frame
</p>
</td></tr>
<tr><td><code id="lt_+3A_point">point</code></td>
<td>

<p>the value of truncation (the default is 0)
</p>
</td></tr>
<tr><td><code id="lt_+3A_direction">direction</code></td>
<td>

<p>the direction of truncation, either <code>"left"</code> (the default) or <code>"right"</code>
</p>
</td></tr>
<tr><td><code id="lt_+3A_clower">clower</code></td>
<td>

<p>the lower threshold value to be used when trimming the conditional density of the errors from below. The default is <code>"ml"</code> meaning that the residual standard deviation from fitting a maximum likelihood model for truncated regression, using <code><a href="truncreg.html#topic+truncreg">truncreg</a></code>, is used. Method <code>"ols"</code> uses the estimated residual standard deviation from a linear model fitted by <code><a href="stats.html#topic+lm">lm</a></code>. It is also possible to manually supply the threshold value by setting <code>clower</code> to be equal to a number or numeric vector of length one.
</p>
</td></tr>
<tr><td><code id="lt_+3A_const">const</code></td>
<td>

<p>a number that can be used to alter the size of the lower threshold. <code>const=0.5</code> would give a lower threshold value that is half the original size. The default value is 1.
</p>
</td></tr>
<tr><td><code id="lt_+3A_cupper">cupper</code></td>
<td>

<p>number indicating what upper threshold to use when trimming the conditional density of the errors from above. The number is used to multiply the lower threshold value, i.e. if <code>cupper=2</code> (the default value) the upper threshold value is two times larger than the lower threshold value.
</p>
</td></tr>
<tr><td><code id="lt_+3A_beta">beta</code></td>
<td>
<p>the method of determining the starting values of the regression coefficients (See Details for more information):
</p>

<ul>
<li><p> The default method is <code>"ml"</code>, meaning that the estimated regression coefficients from fitting a maximum likelihood model for truncated regression, assuming Gaussian errors, are used. The maximum likelihood model is fitted using <code><a href="truncreg.html#topic+truncreg">truncreg</a></code>. 
</p>
</li>
<li><p> Method <code>"ols"</code> means that the estimated regression coefficients from fitting a linear model with <code><a href="stats.html#topic+lm">lm</a></code>. 
</p>
</li>
<li><p> The third option is to manually provide starting values as either a vector, column matrix or row matrix. 
</p>
</li></ul>

</td></tr>
<tr><td><code id="lt_+3A_covar">covar</code></td>
<td>

<p>logical. Indicates whether or not the covariance matrix should be estimated. If <code>TRUE</code> the covariance matrix is estimated using bootstrap. The default number of replicates is 2000 but this can be adjusted (see argument <code>...</code>). However, since the bootstrap procedure is time-consuming the default is <code>covar=FALSE</code>.
</p>
</td></tr>
<tr><td><code id="lt_+3A_na.action">na.action</code></td>
<td>

<p>a function which indicates what should happen when the data contain <code>NA</code>s.
</p>
</td></tr>
<tr><td><code id="lt_+3A_digits">digits</code></td>
<td>

<p>the number of digits to be printed     
</p>
</td></tr>
<tr><td><code id="lt_+3A_level">level</code></td>
<td>

<p>the desired level of confidence, for confidence intervals provided by <code>summary.lt</code>. A number between 0 and 1. The default value is <code>0.95</code>.
</p>
</td></tr>
<tr><td><code id="lt_+3A_...">...</code></td>
<td>

<p>additional arguments. For <code>lt</code> the number of bootstrap replicates can be adjusted by setting <code>R=</code>the desired number of replicates. Also the <code>control</code> argument of <code><a href="stats.html#topic+optim">optim</a></code> can be set by <code>control=list()</code> (see Details for more information).
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Minimizes the objective function described in Karlsson (2006) wrt the vector of regression coefficients, in order to find the LT estimates. The minimization is performed by <code><a href="stats.html#topic+optim">optim</a></code> using the &quot;Nelder&ndash;Mead&quot; method, and a maximum number of iterations of 2000. The maximum number of iterations can be adjusted by setting <code>control=list(maxit=...)</code> (for more information see the documentation for <code><a href="stats.html#topic+optim">optim</a></code>). <br /><br /> It is recommended to use one of the methods for generating the starting values of the regression coefficients (see argument <code>beta</code>) rather than supplying these manually, unless one is confident that one has a good idea of what these should be. This because the starting values can have a great impact on the result of the minimization. <br /><br /> Note that setting <code>cupper=1</code> means that the LT estimates will coincide with the estimates from the Quadratic Mode Estimator (see function <code><a href="#topic+qme">qme</a></code>). For more detailed information see Karlsson and Lindmark (2014).
</p>


<h3>Value</h3>

<p><code>lt</code> returns an object of class <code>"lt"</code>. <br /><br /> The function <code>summary</code> prints a summary of the results, including two types of confidence intervals (normal approximation and percentile method). The generic accessor functions
<code>coef</code>, <code>fitted</code>, <code>residuals</code> and <code>vcov</code> extract various useful features of the value returned by <code>lt</code><br /><br /> An object of class <code>"lt"</code>, a list with elements:
</p>
<table role = "presentation">
<tr><td><code>coefficients</code></td>
<td>
<p>the named vector of coefficients</p>
</td></tr>
<tr><td><code>startcoef</code></td>
<td>
<p>the starting values of the regression coefficients used by <code><a href="stats.html#topic+optim">optim</a></code></p>
</td></tr>
<tr><td><code>cvalues</code></td>
<td>
<p>information about the thresholds used. The method and constant used and the resulting lower and upper threshold values.</p>
</td></tr>
<tr><td><code>value</code></td>
<td>
<p>the value of the objective function corresponding to <code>coefficients</code></p>
</td></tr>
<tr><td><code>counts</code></td>
<td>
<p>number of iterations used by <code><a href="stats.html#topic+optim">optim</a></code>. See the documentation for <code><a href="stats.html#topic+optim">optim</a></code> for further details</p>
</td></tr>
<tr><td><code>convergence</code></td>
<td>
<p>from <code><a href="stats.html#topic+optim">optim</a></code>. An integer code. 0 indicates successful completion. Possible error codes are <br /> 1  indicating that the iteration limit maxit had been reached.<br /> 10  indicating degeneracy of the Nelder&ndash;Mead simplex.</p>
</td></tr>  
<tr><td><code>message</code></td>
<td>
<p>from <code><a href="stats.html#topic+optim">optim</a></code>. A character string giving any additional information returned by the optimizer, or <code>NULL</code>.</p>
</td></tr>
<tr><td><code>residuals</code></td>
<td>
<p>the residuals of the model</p>
</td></tr>
<tr><td><code>fitted.values</code></td>
<td>
<p>the fitted values</p>
</td></tr>
<tr><td><code>df.residual</code></td>
<td>
<p>the residual degrees of freedom</p>
</td></tr>
<tr><td><code>call</code></td>
<td>
<p>the matched call</p>
</td></tr>
<tr><td><code>covariance</code></td>
<td>
<p>if <code>covar</code><code>=</code><code>TRUE</code>, the estimated covariance matrix</p>
</td></tr>
<tr><td><code>R</code></td>
<td>
<p>if <code>covar</code><code>=</code><code>TRUE</code>, the number of bootstrap replicates</p>
</td></tr>
<tr><td><code>bootrepl</code></td>
<td>
<p>if <code>covar</code><code>=</code><code>TRUE</code>, the bootstrap replicates</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Anita Lindmark and Maria Karlsson
</p>


<h3>References</h3>

<p>Karlsson, M. (2006) Estimators of regression parameters for truncated and censored data, <em>Metrika</em>, <b>63</b>, pp 329&ndash;341<br /><br />
Karlsson, M., Lindmark, A. (2014) truncSP: An R Package for Estimation of Semi-Parametric Truncated Linear Regression Models, <em>Journal of Statistical Software</em>, <b>57(14)</b>, pp 1&ndash;19, <a href="http://www.jstatsoft.org/v57/i14/">http://www.jstatsoft.org/v57/i14/</a> <br /><br />
</p>


<h3>See Also</h3>

<p><code><a href="#topic+lt.fit">lt.fit</a></code>, the function that does the actual fitting <br /><br />
<code><a href="#topic+qme">qme</a></code>, for estimation of models with truncated response variables using the QME estimator <br /><br />
<code><a href="#topic+stls">stls</a></code>, for estimation of models with truncated response variables using the STLS estimator <br /><br />
<code><a href="truncreg.html#topic+truncreg">truncreg</a></code> for estimating models with truncated response variables by maximum likelihood, assuming Gaussian errors
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##Simulate a data.frame (model with asymmetrically distributed errors)
n &lt;- 10000
x1 &lt;- runif(n,0,10)
x2 &lt;- runif(n,0,10)
x3 &lt;- runif(n,-5,5)
eps &lt;- rexp(n,0.2)- 5
y &lt;- 2-2*x1+x2+2*x3+eps
d &lt;- data.frame(y=y,x1=x1,x2=x2,x3=x3)


##Use a truncated subsample
dtrunc &lt;- subset(d, y&gt;0)

##Use lt to consistently estimate the slope parameters
lt(y~x1+x2+x3, dtrunc, point=0, direction="left", clower="ml", const=1, 
   cupper=2, beta="ml", covar=FALSE)
   
##Example using data "PM10trunc"
data(PM10trunc)

ltpm10 &lt;- lt(PM10~cars+temp+wind.speed+temp.diff+wind.dir+hour+day, 
   data=PM10trunc, point=2, control=list(maxit=2500))

summary(ltpm10)

</code></pre>

<hr>
<h2 id='lt-class'>Class <code>"lt"</code></h2><span id='topic+lt-class'></span>

<h3>Description</h3>

<p>Documentation on S4 class <code>"lt"</code>.
</p>


<h3>Objects from the Class</h3>

<p>Objects from the class are usually obtained by a call to the function <code><a href="#topic+lt">lt</a></code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>call</code>:</dt><dd><p>Object of class <code>"call"</code> the function call </p>
</dd>
<dt><code>coefficients</code>:</dt><dd><p>Object of class <code>"matrix"</code> the estimated coefficients from fitting a model for truncated regression using the Quadratic Mode Estimator (QME) </p>
</dd>
<dt><code>startcoef</code>:</dt><dd><p>Object of class <code>"matrix"</code> the starting coefficients used when fitting the model </p>
</dd>
<dt><code>cvalues</code>:</dt><dd><p>Object of class <code>"data.frame"</code> containing information about the thresholds used </p>
</dd>
<dt><code>value</code>:</dt><dd><p>Object of class <code>"numeric"</code> the value of the objective function corresponding to <code>coefficients</code> </p>
</dd>
<dt><code>counts</code>:</dt><dd><p>Object of class <code>"integer"</code> number of iterations until convergence</p>
</dd>
<dt><code>convergence</code>:</dt><dd><p>Object of class <code>"integer"</code> indicating whether convergence was achieved </p>
</dd>
<dt><code>message</code>:</dt><dd><p>Object of class <code>"character"</code> a character string giving any additional information returned by the optimizer </p>
</dd>
<dt><code>residuals</code>:</dt><dd><p>Object of class <code>"matrix"</code> the residuals of the model </p>
</dd>
<dt><code>fitted.values</code>:</dt><dd><p>Object of class <code>"matrix"</code> the fitted values </p>
</dd>
<dt><code>df.residual</code>:</dt><dd><p>Object of class <code>"integer"</code> the residual degrees of freedom </p>
</dd>
<dt><code>covariance</code>:</dt><dd><p>Object of class <code>"matrix"</code> the estimated covariance matrix </p>
</dd>
<dt><code>bootrepl</code>:</dt><dd><p>Object of class <code>"matrix"</code> bootstrap replicates used to estimate the covariance matrix </p>
</dd>
</dl>



<h3>Methods</h3>


<dl>
<dt>coef</dt><dd><p><code>signature(object = "lt")</code>: extracts the coefficients of the model fitted using <code><a href="#topic+lt">lt</a></code></p>
</dd>
<dt>fitted</dt><dd><p><code>signature(object = "lt")</code>: extracts the fitted values of the model fitted using <code><a href="#topic+lt">lt</a></code> </p>
</dd>
<dt>print</dt><dd><p><code>signature(x = "lt")</code>: print method </p>
</dd>
<dt>residuals</dt><dd><p><code>signature(object = "lt")</code>: extracts the residuals of the model fitted using <code><a href="#topic+lt">lt</a></code> </p>
</dd>
<dt>summary</dt><dd><p><code>signature(object = "lt")</code>: summary method </p>
</dd>
<dt>vcov</dt><dd><p><code>signature(object = "lt")</code>: extracts the covariance matrix of the model fitted using <code><a href="#topic+lt">lt</a></code> </p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Anita Lindmark and Maria Karlsson
</p>


<h3>See Also</h3>

<p>Function <code><a href="#topic+lt">lt</a></code> and class <code>"<a href="#topic+summary.lt-class">summary.lt</a>"</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>showClass("lt")
</code></pre>

<hr>
<h2 id='lt.fit'>
Function for fitting LT
</h2><span id='topic+lt.fit'></span>

<h3>Description</h3>

<p>Function to find LT estimates of the regression coefficients for regression models with truncated response variables. Uses <code><a href="stats.html#topic+optim">optim</a></code>. Intended to be called through <code><a href="#topic+lt">lt</a></code>, not on its own, since <code>lt</code> also transforms data into the correct form etc.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lt.fit(formula, mf, point, direction, bet, cl, cu, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="lt.fit_+3A_formula">formula</code></td>
<td>

<p>a symbolic description of the model to be estimated
</p>
</td></tr>
<tr><td><code id="lt.fit_+3A_mf">mf</code></td>
<td>

<p>the <code>model.frame</code> containing the variables to be used when fitting the model. <code><a href="#topic+lt">lt</a></code> transforms the model frame to the correct form before calling <code>lt.fit</code>. If <code>lt.fit</code> is called on its own the model frame needs to be transformed manually.
</p>
</td></tr>
<tr><td><code id="lt.fit_+3A_point">point</code></td>
<td>

<p>point of truncation
</p>
</td></tr>
<tr><td><code id="lt.fit_+3A_direction">direction</code></td>
<td>

<p>direction of truncation
</p>
</td></tr>
<tr><td><code id="lt.fit_+3A_bet">bet</code></td>
<td>

<p>starting values to be used by <code><a href="stats.html#topic+optim">optim</a></code>. Column matrix with p rows.
</p>
</td></tr>
<tr><td><code id="lt.fit_+3A_cl">cl</code></td>
<td>

<p>lower threshold value to be used, number or numeric vector of length 1.  (See <code><a href="#topic+lt">lt</a></code>, argument <code>clower</code>, for more information).
</p>
</td></tr>
<tr><td><code id="lt.fit_+3A_cu">cu</code></td>
<td>

<p>upper threshold value to be used, number or numeric vector of length 1. (See <code><a href="#topic+lt">lt</a></code>, argument <code>cupper</code>, for more information).
</p>
</td></tr>
<tr><td><code id="lt.fit_+3A_...">...</code></td>
<td>

<p>additional arguments to be passed to <code><a href="stats.html#topic+optim">optim</a></code> (see the documentation for <code><a href="#topic+lt">lt</a></code> for further details).
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list with components:
</p>
<table role = "presentation">
<tr><td><code>startcoef</code></td>
<td>
<p>the starting values of the regression coefficients used by <code><a href="stats.html#topic+optim">optim</a></code></p>
</td></tr>
<tr><td><code>coefficients</code></td>
<td>
<p>the named vector of coefficients</p>
</td></tr>
<tr><td><code>counts</code></td>
<td>
<p>number of iterations used by <code><a href="stats.html#topic+optim">optim</a></code>. See the documentation for <code><a href="stats.html#topic+optim">optim</a></code> for further details</p>
</td></tr>
<tr><td><code>convergence</code></td>
<td>
<p>from <code><a href="stats.html#topic+optim">optim</a></code>. An integer code. 0 indicates successful completion. Possible error codes are <br /> 1  indicating that the iteration limit maxit had been reached.<br /> 10  indicating degeneracy of the Nelder&ndash;Mead simplex.</p>
</td></tr>
<tr><td><code>message</code></td>
<td>
<p>from <code><a href="stats.html#topic+optim">optim</a></code>. A character string giving any additional information returned by the optimizer, or <code>NULL</code>.</p>
</td></tr>
<tr><td><code>residuals</code></td>
<td>
<p>the residuals of the model</p>
</td></tr>
<tr><td><code>df.residual</code></td>
<td>
<p>the residual degrees of freedom</p>
</td></tr>
<tr><td><code>fitted.values</code></td>
<td>
<p>the fitted values</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Anita Lindmark  and Maria Karlsson
</p>


<h3>See Also</h3>

<p><code><a href="#topic+lt">lt</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>require(utils)
##Model frame
n &lt;- 10000
x &lt;- rnorm(n,0,2)
y &lt;- 2+x+4*rnorm(n)
d &lt;- data.frame(y=y, x=x)
dl0 &lt;- subset(d, y&gt;0)
mf &lt;- model.frame(y~x, data=dl0)

##Starting values and threshold values
lmmod &lt;- lm(data=mf)
bet &lt;- lmmod$coef
bet &lt;- matrix(bet)
cl &lt;- sqrt(deviance(lmmod)/df.residual(lmmod))
cu &lt;- 2*cl

str(lt. &lt;- lt.fit(y~x,mf,point=0,direction="left",bet,cl,cu))
</code></pre>

<hr>
<h2 id='PM10'>
Air pollution data
</h2><span id='topic+PM10'></span>

<h3>Description</h3>

<p>The data are a subsample of 500 observations from a data set that originates in a study where air pollution at a road is related to traffic volume and meteorological variables, collected by the Norwegian Public Roads Administration. The response variable consists of hourly values of the logarithm of the concentration of PM10 (particles), measured at Alnabru in Oslo, Norway, between October 2001 and August 2003. (Source: Statlib)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(PM10)</code></pre>


<h3>Format</h3>

<p>A data frame with 500 observations on the following 8 variables.
</p>

<dl>
<dt><code>PM10</code></dt><dd><p>Hourly values of the logarithm of the concentration of PM10 (particles)</p>
</dd>
<dt><code>cars</code></dt><dd><p>The logarithm of the number of cars per hour</p>
</dd>
<dt><code>temp</code></dt><dd><p>Temperature 2 meters above ground (degree C)</p>
</dd>
<dt><code>wind.speed</code></dt><dd><p>Wind speed (meters/second)</p>
</dd>
<dt><code>temp.diff</code></dt><dd><p>The temperature difference between 25 and 2 meters above ground (degree C)</p>
</dd>
<dt><code>wind.dir</code></dt><dd><p>Wind direction (degrees between 0 and 360)</p>
</dd>
<dt><code>hour</code></dt><dd><p>Hour of day</p>
</dd>
<dt><code>day</code></dt><dd><p>Day number from October 1. 2001</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="http://lib.stat.cmu.edu/">http://lib.stat.cmu.edu/</a>, dataset PM10, submitted by Magne Aldrin on July 28, 2004
</p>


<h3>References</h3>

<p>Aldrin, M. (2006) Improved predictions penalizing both slope and curvature in additive models, <em>Computational Statistics &amp; Data Analysis</em>, <b>50</b>, pp 267&ndash;284
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(PM10)
</code></pre>

<hr>
<h2 id='PM10trunc'>
Air pollution data (Truncated)
</h2><span id='topic+PM10trunc'></span>

<h3>Description</h3>

<p>Dataset <code><a href="#topic+PM10">PM10</a></code>, truncated from the left at variable value PM10 = 2 (8 percent truncation).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(PM10trunc)</code></pre>


<h3>Format</h3>

<p>A data frame with 460 observations on the following 8 variables.
</p>

<dl>
<dt><code>PM10</code></dt><dd><p>Hourly values of the logarithm of the concentration of PM10 (particles). Left-truncated at point 2.</p>
</dd>
<dt><code>cars</code></dt><dd><p>The logarithm of the number of cars per hour</p>
</dd>
<dt><code>temp</code></dt><dd><p>Temperature 2 meters above ground (degree C)</p>
</dd>
<dt><code>wind.speed</code></dt><dd><p>Wind speed (meters/second)</p>
</dd>
<dt><code>temp.diff</code></dt><dd><p>The temperature difference between 25 and 2 meters above ground (degree C)</p>
</dd>
<dt><code>wind.dir</code></dt><dd><p>Wind direction (degrees between 0 and 360)</p>
</dd>
<dt><code>hour</code></dt><dd><p>Hour of day</p>
</dd>
<dt><code>day</code></dt><dd><p>Day number from October 1. 2001</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>data(PM10trunc)
</code></pre>

<hr>
<h2 id='qme'>
Estimation of truncated regression models using the Quadratic Mode Estimator (QME)
</h2><span id='topic+qme'></span><span id='topic+print+2Cqme-method'></span><span id='topic+summary+2Cqme-method'></span><span id='topic+print+2Csummary.qme-method'></span><span id='topic+coef+2Cqme-method'></span><span id='topic+vcov+2Cqme-method'></span><span id='topic+residuals+2Cqme-method'></span><span id='topic+fitted+2Cqme-method'></span>

<h3>Description</h3>

<p>Estimation of linear regression models with truncated response variables (fixed truncation point), using the Quadratic Mode Estimator (QME) (Lee 1993 and Laitila 2001)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>qme(formula, data, point = 0, direction = "left", cval = "ml", 
  const = 1, beta = "ml", covar = FALSE, na.action, ...)
## S4 method for signature 'qme'
print(x, digits = max(3, getOption("digits") - 3), ...)
## S4 method for signature 'qme'
summary(object, level=0.95, ...)
## S4 method for signature 'summary.qme'
print(x, digits = max(3, getOption("digits") - 3), ...)
## S4 method for signature 'qme'
coef(object,...)
## S4 method for signature 'qme'
vcov(object,...)
## S4 method for signature 'qme'
residuals(object,...)
## S4 method for signature 'qme'
fitted(object,...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="qme_+3A_x">x</code>, <code id="qme_+3A_object">object</code></td>
<td>

<p>an object of class <code>"qme"</code>
</p>
</td></tr>
<tr><td><code id="qme_+3A_formula">formula</code></td>
<td>

<p>a symbolic description of the model to be estimated
</p>
</td></tr>
<tr><td><code id="qme_+3A_data">data</code></td>
<td>

<p>an optional data frame
</p>
</td></tr>
<tr><td><code id="qme_+3A_point">point</code></td>
<td>

<p>the value of truncation (the default is 0)
</p>
</td></tr>
<tr><td><code id="qme_+3A_direction">direction</code></td>
<td>

<p>the direction of truncation, either <code>"left"</code> (the default) or <code>"right"</code>
</p>
</td></tr>
<tr><td><code id="qme_+3A_cval">cval</code></td>
<td>

<p>the threshold value to be used when trimming the conditional density of the errors. The default is <code>"ml"</code> meaning that the estimated residual standard deviation from a maximum likelihood model for truncated regression, fitted using <code><a href="truncreg.html#topic+truncreg">truncreg</a></code>, is used.  Method <code>"ols"</code> uses the residual standard deviation from fitting a linear model using <code><a href="stats.html#topic+lm">lm</a></code>. It is also possible to manually supply the threshold by setting <code>cval</code> to be equal to a number or numeric vector of length one.
</p>
</td></tr>
<tr><td><code id="qme_+3A_const">const</code></td>
<td>

<p>a number that can be used to alter the size of the threshold value. <code>const=0.5</code> would give a threshold value that is half the original size. The default value is 1.
</p>
</td></tr>
<tr><td><code id="qme_+3A_beta">beta</code></td>
<td>
<p>the method of determining the starting values of the regression coefficients (See Details for more information):
</p>

<ul>
<li><p> The default method is <code>"ml"</code>, meaning that the estimated regression coefficients from fitting a maximum likelihood model for truncated regression, assuming Gaussian errors, are used. The maximum likelihood model is fitted using <code><a href="truncreg.html#topic+truncreg">truncreg</a></code>. 
</p>
</li>
<li><p> Method <code>"ols"</code> means that the estimated regression coefficients from fitting a linear model with <code><a href="stats.html#topic+lm">lm</a></code> are used. 
</p>
</li>
<li><p> The third option is to manually provide starting values as either a vector, column matrix or row matrix. 
</p>
</li></ul>

</td></tr>
<tr><td><code id="qme_+3A_covar">covar</code></td>
<td>

<p>logical. Indicates whether or not the covariance matrix should be estimated. If <code>TRUE</code> the covariance matrix is estimated using bootstrap, as described in Karlsson (2004). The default number of replicates is 2000 but this can be adjusted (see argument <code>...</code>). However, since the bootstrap procedure is time-consuming the default is <code>covar=FALSE</code>.
</p>
</td></tr>
<tr><td><code id="qme_+3A_na.action">na.action</code></td>
<td>

<p>a function which indicates what should happen when the data contain <code>NA</code>s. 
</p>
</td></tr>
<tr><td><code id="qme_+3A_digits">digits</code></td>
<td>

<p>the number of digits to be printed     
</p>
</td></tr>
<tr><td><code id="qme_+3A_level">level</code></td>
<td>

<p>the desired level of confidence, for confidence intervals provided by <code>summary.qme</code>. A number between 0 and 1. The default value is <code>0.95</code>.
</p>
</td></tr>
<tr><td><code id="qme_+3A_...">...</code></td>
<td>

<p>additional arguments. For <code>qme</code> the number of bootstrap replicates can be adjusted by setting <code>R=</code>the desired number of replicates. Also the <code>control</code> argument of <code><a href="stats.html#topic+optim">optim</a></code> can be set by <code>control=list()</code> (for more information on this see Details).
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Finds the QME estimates of the regression coefficients by maximizing the objective function described in Lee (1993) wrt the vector of regression coefficients. The maximization is performed by <code><a href="stats.html#topic+optim">optim</a></code> using the &quot;Nelder&ndash;Mead&quot; method. The maximum number of iterations is set at 2000, but this can be adjusted by setting <code>control=list(maxit=...)</code> (for more information see the documentation for <code><a href="stats.html#topic+optim">optim</a></code>). <br /><br /> The starting values of the regression coefficients can have a great impact on the result of the maximization. For this reason it is recommended to use one of the methods for generating these rather than supplying the values manually, unless one is confident that one has a good idea of what the starting values should be. For more detailed information see Karlsson and Lindmark (2014).
</p>


<h3>Value</h3>

<p><code>qme</code> returns an object of class <code>"qme"</code>. <br /><br /> The function <code>summary</code> prints a summary of the results, including two types of confidence intervals (normal approximation and percentile method). The generic accessor functions
<code>coef</code>, <code>fitted</code>, <code>residuals</code> and <code>vcov</code> extract various useful features of the value returned by <code>qme</code><br /><br /> An object of class <code>"qme"</code>, a list with elements:
</p>
<table role = "presentation">
<tr><td><code>coefficients</code></td>
<td>
<p>the named vector of coefficients</p>
</td></tr>
<tr><td><code>startcoef</code></td>
<td>
<p>the starting values of the regression coefficients used by <code><a href="stats.html#topic+optim">optim</a></code></p>
</td></tr>
<tr><td><code>cval</code></td>
<td>
<p>information about the threshold value used. The method and constant value used and the resulting threshold value.</p>
</td></tr>
<tr><td><code>value</code></td>
<td>
<p>the value of the objective function corresponding to <code>coefficients</code></p>
</td></tr>
<tr><td><code>counts</code></td>
<td>
<p>number of iterations used by <code><a href="stats.html#topic+optim">optim</a></code>. See the documentation for <code><a href="stats.html#topic+optim">optim</a></code> for further details</p>
</td></tr>
<tr><td><code>convergence</code></td>
<td>
<p>from <code><a href="stats.html#topic+optim">optim</a></code>. An integer code. 0 indicates successful completion. Possible error codes are <br /> 1  indicating that the iteration limit maxit had been reached.<br /> 10  indicating degeneracy of the Nelder&ndash;Mead simplex.</p>
</td></tr>	
<tr><td><code>message</code></td>
<td>
<p>from <code><a href="stats.html#topic+optim">optim</a></code>. A character string giving any additional information returned by the optimizer, or <code>NULL</code>.</p>
</td></tr>
<tr><td><code>residuals</code></td>
<td>
<p>the residuals of the model</p>
</td></tr>
<tr><td><code>fitted.values</code></td>
<td>
<p>the fitted values</p>
</td></tr>
<tr><td><code>df.residual</code></td>
<td>
<p>the residual degrees of freedom</p>
</td></tr>
<tr><td><code>call</code></td>
<td>
<p>the matched call</p>
</td></tr>
<tr><td><code>covariance</code></td>
<td>
<p>if <code>covar</code><code>=</code><code>TRUE</code>, the estimated covariance matrix</p>
</td></tr>
<tr><td><code>R</code></td>
<td>
<p>if <code>covar</code><code>=</code><code>TRUE</code>, the number of bootstrap replicates</p>
</td></tr>
<tr><td><code>bootrepl</code></td>
<td>
<p>if <code>covar</code><code>=</code><code>TRUE</code>, the bootstrap replicates</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Anita Lindmark and Maria Karlsson
</p>


<h3>References</h3>

<p>Karlsson, M. (2004) Finite sample properties of the QME, <em>Communications in Statistics - Simulation and Computation</em>, <b>5</b>, pp 567&ndash;583<br /><br />
Karlsson, M., Lindmark, A. (2014) truncSP: An R Package for Estimation of Semi-Parametric Truncated Linear Regression Models, <em>Journal of Statistical Software</em>, <b>57(14)</b>, pp 1&ndash;19, <a href="http://www.jstatsoft.org/v57/i14/">http://www.jstatsoft.org/v57/i14/</a> <br /><br />
Laitila, T. (2001) Properties of the QME under asymmetrically distributed disturbances, <em>Statistics &amp; Probability Letters</em>, <b>52</b>, pp 347&ndash;352<br /><br />
Lee, M. (1993) Quadratic mode regression, <em>Journal of Econometrics</em>, <b>57</b>, pp 1-19<br /><br />
Lee, M. &amp; Kim, H. (1998) Semiparametric econometric estimators for a truncated regression model: a review with an extension, <em>Statistica Neerlandica</em>, <b>52(2)</b>, pp 200&ndash;225
</p>


<h3>See Also</h3>

<p><code><a href="#topic+qme.fit">qme.fit</a></code>, the function that does the actual fitting <br /><br />
<code><a href="#topic+lt">lt</a></code>, for estimation of models with truncated response variables using the LT estimator <br /><br />
<code><a href="#topic+stls">stls</a></code>, for estimation of models with truncated response variables using the STLS estimator <br /><br />
<code><a href="truncreg.html#topic+truncreg">truncreg</a></code> for estimating models with truncated response variables by maximum likelihood, assuming Gaussian errors
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##Simulate a data.frame (model with asymmetrically distributed errors)
n &lt;- 10000
x1 &lt;- runif(n,0,10)
x2 &lt;- runif(n,0,10)
x3 &lt;- runif(n,-5,5)
eps &lt;- rexp(n,0.2)- 5
y &lt;- 2-2*x1+x2+2*x3+eps
d &lt;- data.frame(y=y,x1=x1,x2=x2,x3=x3)
   
##Use a truncated subsample
dtrunc &lt;- subset(d, y&gt;0)

##Use qme to consistently estimate the slope parameters
qme(y~x1+x2+x3, dtrunc, point=0, direction="left", cval="ml", const=1, 
   beta="ml", covar=FALSE)
   
##Example using data "PM10trunc"
data(PM10trunc)

qmepm10 &lt;- qme(PM10~cars+temp+wind.speed+temp.diff+wind.dir+hour+day, 
   data=PM10trunc, point=2, control=list(maxit=4500))

summary(qmepm10)

</code></pre>

<hr>
<h2 id='qme-class'>Class <code>"qme"</code></h2><span id='topic+qme-class'></span>

<h3>Description</h3>

<p>Documentation on S4 class <code>"qme"</code>.
</p>


<h3>Objects from the Class</h3>

<p>Objects from the class are usually obtained by a call to the function <code><a href="#topic+qme">qme</a></code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>call</code>:</dt><dd><p>Object of class <code>"call"</code> the function call </p>
</dd>
<dt><code>coefficients</code>:</dt><dd><p>Object of class <code>"matrix"</code> the estimated coefficients from fitting a model for truncated regression using the Quadratic Mode Estimator (QME) </p>
</dd>
<dt><code>startcoef</code>:</dt><dd><p>Object of class <code>"matrix"</code> the starting coefficients used when fitting the model </p>
</dd>
<dt><code>cval</code>:</dt><dd><p>Object of class <code>"data.frame"</code> containing information about the threshold value used </p>
</dd>
<dt><code>value</code>:</dt><dd><p>Object of class <code>"numeric"</code> the value of the objective function corresponding to <code>coefficients</code> </p>
</dd>
<dt><code>counts</code>:</dt><dd><p>Object of class <code>"integer"</code> number of iterations until convergence</p>
</dd>
<dt><code>convergence</code>:</dt><dd><p>Object of class <code>"integer"</code> indicating whether convergence was achieved </p>
</dd>
<dt><code>message</code>:</dt><dd><p>Object of class <code>"character"</code> a character string giving any additional information returned by the optimizer </p>
</dd>
<dt><code>residuals</code>:</dt><dd><p>Object of class <code>"matrix"</code> the residuals of the model </p>
</dd>
<dt><code>fitted.values</code>:</dt><dd><p>Object of class <code>"matrix"</code> the fitted values </p>
</dd>
<dt><code>df.residual</code>:</dt><dd><p>Object of class <code>"integer"</code> the residual degrees of freedom </p>
</dd>
<dt><code>covariance</code>:</dt><dd><p>Object of class <code>"matrix"</code> the estimated covariance matrix </p>
</dd>
<dt><code>bootrepl</code>:</dt><dd><p>Object of class <code>"matrix"</code> bootstrap replicates used to estimate the covariance matrix </p>
</dd>
</dl>



<h3>Methods</h3>


<dl>
<dt>coef</dt><dd><p><code>signature(object = "qme")</code>: extracts the coefficients of the model fitted using <code><a href="#topic+qme">qme</a></code></p>
</dd>
<dt>fitted</dt><dd><p><code>signature(object = "qme")</code>: extracts the fitted values of the model fitted using <code><a href="#topic+qme">qme</a></code> </p>
</dd>
<dt>print</dt><dd><p><code>signature(x = "qme")</code>: print method </p>
</dd>
<dt>residuals</dt><dd><p><code>signature(object = "qme")</code>: extracts the residuals of the model fitted using <code><a href="#topic+qme">qme</a></code> </p>
</dd>
<dt>summary</dt><dd><p><code>signature(object = "qme")</code>: summary method </p>
</dd>
<dt>vcov</dt><dd><p><code>signature(object = "qme")</code>: extracts the covariance matrix of the model fitted using <code><a href="#topic+qme">qme</a></code> </p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Anita Lindmark and Maria Karlsson
</p>


<h3>See Also</h3>

<p>Function <code><a href="#topic+qme">qme</a></code> and class <code>"<a href="#topic+summary.qme-class">summary.qme</a>"</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>showClass("qme")
</code></pre>

<hr>
<h2 id='qme.fit'>
Function for fitting QME
</h2><span id='topic+qme.fit'></span>

<h3>Description</h3>

<p>Function to find QME estimates of the regression coefficients for regression models with truncated response variables. Uses <code><a href="stats.html#topic+optim">optim</a></code>. Intended to be called through <code><a href="#topic+qme">qme</a></code>, not on its own, since <code>qme</code> also transforms data into the correct form etc.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>qme.fit(formula, mf, point, direction, bet, cv, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="qme.fit_+3A_formula">formula</code></td>
<td>

<p>a symbolic description of the model to be estimated
</p>
</td></tr>
<tr><td><code id="qme.fit_+3A_mf">mf</code></td>
<td>

<p>the <code>model.frame</code> containing the variables to be used when fitting the model. <code><a href="#topic+qme">qme</a></code> transforms the model frame to the correct form before calling <code>qme.fit</code>. If <code>qme.fit</code> is called on its own the model frame needs to be transformed manually.
</p>
</td></tr>
<tr><td><code id="qme.fit_+3A_point">point</code></td>
<td>

<p>point of truncation
</p>
</td></tr>
<tr><td><code id="qme.fit_+3A_direction">direction</code></td>
<td>

<p>direction of truncation
</p>
</td></tr>
<tr><td><code id="qme.fit_+3A_bet">bet</code></td>
<td>

<p>starting values to be used by <code><a href="stats.html#topic+optim">optim</a></code>. Column matrix with p rows.
</p>
</td></tr>
<tr><td><code id="qme.fit_+3A_cv">cv</code></td>
<td>

<p>threshold value to be used, number or numeric vector of length 1. (See <code><a href="#topic+qme">qme</a></code>, argument <code>cval</code>, for more information).
</p>
</td></tr>
<tr><td><code id="qme.fit_+3A_...">...</code></td>
<td>

<p>additional arguments to be passed to <code><a href="stats.html#topic+optim">optim</a></code> (see the documentation for <code><a href="#topic+qme">qme</a></code> for further details).
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list with components:
</p>
<table role = "presentation">
<tr><td><code>startcoef</code></td>
<td>
<p>the starting values of the regression coefficients used by <code><a href="stats.html#topic+optim">optim</a></code></p>
</td></tr>
<tr><td><code>coefficients</code></td>
<td>
<p>the named vector of coefficients</p>
</td></tr>
<tr><td><code>counts</code></td>
<td>
<p>number of iterations used by <code><a href="stats.html#topic+optim">optim</a></code>. See the documentation for <code><a href="stats.html#topic+optim">optim</a></code> for further details</p>
</td></tr>
<tr><td><code>convergence</code></td>
<td>
<p>from <code><a href="stats.html#topic+optim">optim</a></code>. An integer code. 0 indicates successful completion. Possible error codes are <br /> 1  indicating that the iteration limit maxit had been reached.<br /> 10  indicating degeneracy of the Nelder&ndash;Mead simplex.</p>
</td></tr>
<tr><td><code>message</code></td>
<td>
<p>from <code><a href="stats.html#topic+optim">optim</a></code>. A character string giving any additional information returned by the optimizer, or <code>NULL</code>.</p>
</td></tr>
<tr><td><code>residuals</code></td>
<td>
<p>the residuals of the model</p>
</td></tr>
<tr><td><code>df.residual</code></td>
<td>
<p>the residual degrees of freedom</p>
</td></tr>
<tr><td><code>fitted.values</code></td>
<td>
<p>the fitted values</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Anita Lindmark and Maria Karlsson
</p>


<h3>See Also</h3>

<p><code><a href="#topic+qme">qme</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>require(utils)
##Model frame
n &lt;- 10000
x &lt;- rnorm(n,0,2)
y &lt;- 2+x+4*rnorm(n)
d &lt;- data.frame(y=y, x=x)
dl0 &lt;- subset(d, y&gt;0)
mf &lt;- model.frame(y~x, data=dl0)

##Starting values and threshold value
lmmod &lt;- lm(data=mf)
bet &lt;- lmmod$coef
bet &lt;- matrix(bet)
cv &lt;- sqrt(deviance(lmmod)/df.residual(lmmod))

str(qme. &lt;- qme.fit(y~x,mf,point=0,direction="left",bet,cv))

</code></pre>

<hr>
<h2 id='stls'>
Estimation of truncated regression models using the Symmetrically Trimmed Least Squares (STLS) estimator
</h2><span id='topic+stls'></span><span id='topic+print+2Cstls-method'></span><span id='topic+summary+2Cstls-method'></span><span id='topic+print+2Csummary.stls-method'></span><span id='topic+coef+2Cstls-method'></span><span id='topic+vcov+2Cstls-method'></span><span id='topic+residuals+2Cstls-method'></span><span id='topic+fitted+2Cstls-method'></span>

<h3>Description</h3>

<p>Function for estimation of linear regression models with truncated response variables (fixed truncation point), using the STLS estimator (Powell 1986)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stls(formula, data, point = 0, direction = "left", beta = "ml", 
    covar = FALSE, na.action, ...)
## S4 method for signature 'stls'
print(x, digits = max(3, getOption("digits") - 3), ...)
## S4 method for signature 'stls'
summary(object, level=0.95, ...)
## S4 method for signature 'summary.stls'
print(x, digits= max(3, getOption("digits") - 3), ...)
## S4 method for signature 'stls'
coef(object,...)
## S4 method for signature 'stls'
vcov(object,...)
## S4 method for signature 'stls'
residuals(object,...)
## S4 method for signature 'stls'
fitted(object,...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="stls_+3A_x">x</code>, <code id="stls_+3A_object">object</code></td>
<td>

<p>an object of class <code>"stls"</code>
</p>
</td></tr>
<tr><td><code id="stls_+3A_formula">formula</code></td>
<td>

<p>a symbolic description of the model to be estimated
</p>
</td></tr>
<tr><td><code id="stls_+3A_data">data</code></td>
<td>

<p>an optional data frame
</p>
</td></tr>
<tr><td><code id="stls_+3A_point">point</code></td>
<td>

<p>the value of truncation (the default is 0)
</p>
</td></tr>
<tr><td><code id="stls_+3A_direction">direction</code></td>
<td>

<p>the direction of truncation, either <code>"left"</code> (the default) or <code>"right"</code>
</p>
</td></tr>
<tr><td><code id="stls_+3A_beta">beta</code></td>
<td>
<p>the method of determining the starting values of the regression coefficients (See Details for more information):
</p>

<ul>
<li><p> The default method is <code>"ml"</code>, meaning that the estimated regression coefficients from fitting a maximum likelihood model for truncated regression, assuming Gaussian errors, are used. The maximum likelihood model is fitted using <code><a href="truncreg.html#topic+truncreg">truncreg</a></code>. 
</p>
</li>
<li><p> Method <code>"ols"</code> means that the estimated regression coefficients from fitting a linear model with <code><a href="stats.html#topic+lm">lm</a></code>. 
</p>
</li>
<li><p> The third option is to manually provide starting values as either a vector, column matrix or row matrix. 
</p>
</li></ul>

</td></tr>
<tr><td><code id="stls_+3A_covar">covar</code></td>
<td>

<p>logical. Indicates whether or not the covariance matrix should be estimated. If <code>TRUE</code> the covariance matrix is estimated using bootstrap. The default number of replicates is 2000 but this can be adjusted (see argument <code>...</code>). However, since the bootstrap procedure is time-consuming the default is <code>covar=FALSE</code>.
</p>
</td></tr>
<tr><td><code id="stls_+3A_na.action">na.action</code></td>
<td>

<p>a function which indicates what should happen when the data contain <code>NA</code>s.
</p>
</td></tr>
<tr><td><code id="stls_+3A_digits">digits</code></td>
<td>

<p>the number of digits to be printed     
</p>
</td></tr>
<tr><td><code id="stls_+3A_level">level</code></td>
<td>

<p>the desired level of confidence, for confidence intervals provided by <code>summary.stls</code>. A number between 0 and 1. The default value is <code>0.95</code>.
</p>
</td></tr>
<tr><td><code id="stls_+3A_...">...</code></td>
<td>

<p>additional arguments. For <code>stls</code> the number of bootstrap replicates can be adjusted by setting <code>R=</code>the desired number of replicates. Also the <code>control</code> argument of <code><a href="stats.html#topic+optim">optim</a></code> can be set by <code>control=list()</code> (for more information, see Details).
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Uses <code><a href="stats.html#topic+optim">optim</a></code> (&quot;Nelder&ndash;Mead&quot; method) to minimize the objective function described in Powell (1986) wrt the vector of regression coefficients in order to find the STLS estimates (see Karlsson and Lindmark 2014 for more detailed information and background). The maximum number of iterations is set at 2000, but this can be adjusted by setting <code>control=list(maxit=...)</code> (for more information see the documentation for <code><a href="stats.html#topic+optim">optim</a></code>). <br /><br /> As the starting values of the regression coefficients can have a great impact on the result of the minimization it is recommended to use one of the methods for generating these rather than supplying the values manually (unless one is confident that one has a good idea of what the starting values should be). 
</p>


<h3>Value</h3>

<p><code>stls</code> returns an object of class <code>"stls"</code>. <br /><br /> The function <code>summary</code> prints a summary of the results, including two types of confidence intervals (normal approximation and percentile method). The generic accessor functions
<code>coef</code>, <code>fitted</code>, <code>residuals</code> and <code>vcov</code> extract various useful features of the value returned by <code>stls</code><br /><br /> An object of class <code>"stls"</code>, a list with elements:
</p>
<table role = "presentation">
<tr><td><code>coefficients</code></td>
<td>
<p>the named vector of coefficients</p>
</td></tr>
<tr><td><code>startcoef</code></td>
<td>
<p>the starting values of the regression coefficients used by <code><a href="stats.html#topic+optim">optim</a></code></p>
</td></tr>
<tr><td><code>value</code></td>
<td>
<p>the value of the objective function corresponding to <code>coefficients</code></p>
</td></tr>
<tr><td><code>counts</code></td>
<td>
<p>number of iterations used by <code><a href="stats.html#topic+optim">optim</a></code>. See the documentation for <code><a href="stats.html#topic+optim">optim</a></code> for further details</p>
</td></tr>
<tr><td><code>convergence</code></td>
<td>
<p>from <code><a href="stats.html#topic+optim">optim</a></code>. An integer code. 0 indicates successful completion. Possible error codes are <br /> 1  indicating that the iteration limit maxit had been reached.<br /> 10  indicating degeneracy of the Nelder&ndash;Mead simplex.</p>
</td></tr>  
<tr><td><code>message</code></td>
<td>
<p>from <code><a href="stats.html#topic+optim">optim</a></code>. A character string giving any additional information returned by the optimizer, or <code>NULL</code>.</p>
</td></tr>
<tr><td><code>residuals</code></td>
<td>
<p>the residuals of the model</p>
</td></tr>
<tr><td><code>fitted.values</code></td>
<td>
<p>the fitted values</p>
</td></tr>
<tr><td><code>df.residual</code></td>
<td>
<p>the residual degrees of freedom</p>
</td></tr>
<tr><td><code>call</code></td>
<td>
<p>the matched call</p>
</td></tr>
<tr><td><code>covariance</code></td>
<td>
<p>if <code>covar</code><code>=</code><code>TRUE</code>, the estimated covariance matrix</p>
</td></tr>
<tr><td><code>R</code></td>
<td>
<p>if <code>covar</code><code>=</code><code>TRUE</code>, the number of bootstrap replicates</p>
</td></tr>
<tr><td><code>bootrepl</code></td>
<td>
<p>if <code>covar</code><code>=</code><code>TRUE</code>, the bootstrap replicates</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Anita Lindmark and Maria Karlsson
</p>


<h3>References</h3>

<p>Karlsson, M., Lindmark, A. (2014) truncSP: An R Package for Estimation of Semi-Parametric Truncated Linear Regression Models, <em>Journal of Statistical Software</em>, <b>57(14)</b>, pp 1&ndash;19, <a href="http://www.jstatsoft.org/v57/i14/">http://www.jstatsoft.org/v57/i14/</a> <br /><br />
Powell, J. (1986) Symmetrically Trimmed Least Squares Estimation for Tobit Models, <em>Econometrika</em>, <b>54(6)</b>, pp 1435&ndash;1460
</p>


<h3>See Also</h3>

<p><code><a href="#topic+stls.fit">stls.fit</a></code>, the function that does the actual fitting <br /><br />
<code><a href="#topic+qme">qme</a></code>, for estimation of models with truncated response variables using the QME estimator <br /><br />
<code><a href="#topic+lt">lt</a></code>, for estimation of models with truncated response variables using the LT estimator <br /><br />
<code><a href="truncreg.html#topic+truncreg">truncreg</a></code> for estimating models with truncated response variables by maximum likelihood, assuming Gaussian errors
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##Simulate a data.frame
n &lt;- 10000
x1 &lt;- runif(n,0,10)
x2 &lt;- runif(n,0,10)
x3 &lt;- runif(n,-5,5)
y &lt;- 1-2*x1+x2+2*x3+rnorm(n,0,2)
d &lt;- data.frame(y=y,x1=x1,x2=x2,x3=x3)

##Use a truncated subsample
dtrunc &lt;- subset(d, y&gt;0)
  
##Use stls to estimate the model
stls(y~x1+x2+x3, dtrunc, point=0, direction="left", beta="ml", covar=FALSE)


##Example using data "PM10trunc"
data(PM10trunc)

stlspm10 &lt;- 
stls(PM10~cars+temp+wind.speed+temp.diff+wind.dir+hour+day, data=PM10trunc, point=2)

summary(stlspm10)

</code></pre>

<hr>
<h2 id='stls-class'>Class &quot;stls&quot; </h2><span id='topic+stls-class'></span>

<h3>Description</h3>

<p>   Documentation on S4 class <code>"stls"</code>.</p>


<h3>Objects from the Class</h3>

<p>Objects from the class are usually obtained by a call to the function <code><a href="#topic+stls">stls</a></code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>call</code>:</dt><dd><p>Object of class <code>"call"</code> the function call </p>
</dd>
<dt><code>coefficients</code>:</dt><dd><p>Object of class <code>"matrix"</code> the estimated coefficients from fitting a model for truncated regression using the Quadratic Mode Estimator (QME) </p>
</dd>
<dt><code>startcoef</code>:</dt><dd><p>Object of class <code>"matrix"</code> the starting coefficients used when fitting the model </p>
</dd>
<dt><code>value</code>:</dt><dd><p>Object of class <code>"numeric"</code> the value of the objective function corresponding to <code>coefficients</code> </p>
</dd>
<dt><code>counts</code>:</dt><dd><p>Object of class <code>"integer"</code> number of iterations until convergence</p>
</dd>
<dt><code>convergence</code>:</dt><dd><p>Object of class <code>"integer"</code> indicating whether convergence was achieved </p>
</dd>
<dt><code>message</code>:</dt><dd><p>Object of class <code>"character"</code> a character string giving any additional information returned by the optimizer </p>
</dd>
<dt><code>residuals</code>:</dt><dd><p>Object of class <code>"matrix"</code> the residuals of the model </p>
</dd>
<dt><code>fitted.values</code>:</dt><dd><p>Object of class <code>"matrix"</code> the fitted values </p>
</dd>
<dt><code>df.residual</code>:</dt><dd><p>Object of class <code>"integer"</code> the residual degrees of freedom </p>
</dd>
<dt><code>covariance</code>:</dt><dd><p>Object of class <code>"matrix"</code> the estimated covariance matrix </p>
</dd>
<dt><code>bootrepl</code>:</dt><dd><p>Object of class <code>"matrix"</code> bootstrap replicates used to estimate the covariance matrix </p>
</dd>
</dl>



<h3>Methods</h3>


<dl>
<dt>coef</dt><dd><p><code>signature(object = "stls")</code>: extracts the coefficients of the model fitted using <code><a href="#topic+stls">stls</a></code></p>
</dd>
<dt>fitted</dt><dd><p><code>signature(object = "stls")</code>: extracts the fitted values of the model fitted using <code><a href="#topic+stls">stls</a></code> </p>
</dd>
<dt>print</dt><dd><p><code>signature(x = "stls")</code>: print method </p>
</dd>
<dt>residuals</dt><dd><p><code>signature(object = "stls")</code>: extracts the residuals of the model fitted using <code><a href="#topic+stls">stls</a></code> </p>
</dd>
<dt>summary</dt><dd><p><code>signature(object = "stls")</code>: summary method </p>
</dd>
<dt>vcov</dt><dd><p><code>signature(object = "stls")</code>: extracts the covariance matrix of the model fitted using <code><a href="#topic+stls">stls</a></code> </p>
</dd>
</dl>



<h3>Author(s)</h3>

<p> Anita Lindmark and Maria Karlsson </p>


<h3>See Also</h3>

<p>Function <code><a href="#topic+stls">stls</a></code> and class <code>"<a href="#topic+summary.stls-class">summary.stls</a>"</code>	
</p>


<h3>Examples</h3>

<pre><code class='language-R'>showClass("stls")
</code></pre>

<hr>
<h2 id='stls.fit'>
Function for fitting STLS
</h2><span id='topic+stls.fit'></span>

<h3>Description</h3>

<p>Function that utilizes <code><a href="stats.html#topic+optim">optim</a></code> to find STLS estimates of the regression coefficients for regression models with truncated response variables. Intended to be called through <code><a href="#topic+stls">stls</a></code>, not on its own, since <code>stls</code> also transforms data into the correct form etc.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stls.fit(formula,mf, point, direction, bet, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="stls.fit_+3A_formula">formula</code></td>
<td>

<p>a symbolic description of the model to be estimated
</p>
</td></tr>
<tr><td><code id="stls.fit_+3A_mf">mf</code></td>
<td>

<p>the <code>model.frame</code> containing the variables to be used when fitting the model. <code><a href="#topic+stls">stls</a></code> transforms the model frame to the correct form before calling <code>stls.fit</code>. If <code>stls.fit</code> is called on its own the model frame needs to be transformed manually.
</p>
</td></tr>
<tr><td><code id="stls.fit_+3A_point">point</code></td>
<td>

<p>point of truncation
</p>
</td></tr>
<tr><td><code id="stls.fit_+3A_direction">direction</code></td>
<td>

<p>direction of truncation
</p>
</td></tr>
<tr><td><code id="stls.fit_+3A_bet">bet</code></td>
<td>

<p>starting values to be used by <code><a href="stats.html#topic+optim">optim</a></code>. Column matrix with p rows.
</p>
</td></tr>
<tr><td><code id="stls.fit_+3A_...">...</code></td>
<td>

<p>additional arguments to be passed to <code><a href="stats.html#topic+optim">optim</a></code> (see the documentation for <code><a href="#topic+stls">stls</a></code> for further details).
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list with components:
</p>
<table role = "presentation">
<tr><td><code>startcoef</code></td>
<td>
<p>the starting values of the regression coefficients used by <code><a href="stats.html#topic+optim">optim</a></code></p>
</td></tr>
<tr><td><code>coefficients</code></td>
<td>
<p>the named vector of coefficients</p>
</td></tr>
<tr><td><code>counts</code></td>
<td>
<p>number of iterations used by <code><a href="stats.html#topic+optim">optim</a></code>. See the documentation for <code><a href="stats.html#topic+optim">optim</a></code> for further details</p>
</td></tr>
<tr><td><code>convergence</code></td>
<td>
<p>from <code><a href="stats.html#topic+optim">optim</a></code>. An integer code. 0 indicates successful completion. Possible error codes are <br /> 1  indicating that the iteration limit maxit had been reached.<br /> 10  indicating degeneracy of the Nelder&ndash;Mead simplex.</p>
</td></tr>
<tr><td><code>message</code></td>
<td>
<p>from <code><a href="stats.html#topic+optim">optim</a></code>. A character string giving any additional information returned by the optimizer, or <code>NULL</code>.</p>
</td></tr>
<tr><td><code>residuals</code></td>
<td>
<p>the residuals of the model</p>
</td></tr>
<tr><td><code>df.residual</code></td>
<td>
<p>the residual degrees of freedom</p>
</td></tr>
<tr><td><code>fitted.values</code></td>
<td>
<p>the fitted values</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Anita Lindmark and Maria Karlsson
</p>


<h3>See Also</h3>

<p><code><a href="#topic+stls">stls</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>require(utils)
##Model frame
n &lt;- 10000
x &lt;- rnorm(n,0,2)
y &lt;- 2+x+4*rnorm(n)
d &lt;- data.frame(y=y, x=x)
dl0 &lt;- subset(d, y&gt;0)
mf &lt;- model.frame(y~x, data=dl0)


##Starting values
lmmod &lt;- lm(data=mf)
bet &lt;- lmmod$coef
bet &lt;- matrix(bet)

str(stls. &lt;- stls.fit(y~x,mf,point=0,direction="left",bet))
</code></pre>

<hr>
<h2 id='summary.lt-class'>Class <code>"summary.lt"</code></h2><span id='topic+summary.lt-class'></span>

<h3>Description</h3>

<p>Documentation on S4 class <code>"summary.lt"</code>
</p>


<h3>Objects from the Class</h3>

<p>Objects from the class are usually obtained by a calling <code>summary</code> on an object of class <code>"<a href="#topic+lt-class">lt</a>"</code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>level</code>:</dt><dd><p>Object of class <code>"numeric"</code> the level of confidence for confidence intervals </p>
</dd>
<dt><code>confint</code>:</dt><dd><p>Object of class <code>"matrix"</code> confidence intervals for regression coefficients </p>
</dd>
<dt><code>bootconfint</code>:</dt><dd><p>Object of class <code>"matrix"</code> bootstrap confidence intervals for regression coefficients </p>
</dd>
<dt><code>call</code>:</dt><dd><p>Object of class <code>"call"</code> the function call </p>
</dd>
<dt><code>coefficients</code>:</dt><dd><p>Object of class <code>"matrix"</code> the estimated coefficients from fitting a model for truncated regression using the Quadratic Mode Estimator (QME) </p>
</dd>
<dt><code>startcoef</code>:</dt><dd><p>Object of class <code>"matrix"</code> the starting coefficients used when fitting the model </p>
</dd>
<dt><code>cvalues</code>:</dt><dd><p>Object of class <code>"data.frame"</code> containing information about the threshold values used </p>
</dd>
<dt><code>value</code>:</dt><dd><p>Object of class <code>"numeric"</code> the value of the objective function corresponding to <code>coefficients</code> </p>
</dd>
<dt><code>counts</code>:</dt><dd><p>Object of class <code>"integer"</code> number of iterations until convergence</p>
</dd>
<dt><code>convergence</code>:</dt><dd><p>Object of class <code>"integer"</code> indicating whether convergence was achieved </p>
</dd>
<dt><code>message</code>:</dt><dd><p>Object of class <code>"character"</code> a character string giving any additional information returned by the optimizer </p>
</dd>
<dt><code>residuals</code>:</dt><dd><p>Object of class <code>"matrix"</code> the residuals of the model </p>
</dd>
<dt><code>fitted.values</code>:</dt><dd><p>Object of class <code>"matrix"</code> the fitted values </p>
</dd>
<dt><code>df.residual</code>:</dt><dd><p>Object of class <code>"integer"</code> the residual degrees of freedom </p>
</dd>
<dt><code>covariance</code>:</dt><dd><p>Object of class <code>"matrix"</code> the estimated covariance matrix </p>
</dd>
<dt><code>bootrepl</code>:</dt><dd><p>Object of class <code>"matrix"</code> bootstrap replicates used to estimate the covariance matrix </p>
</dd>
</dl>



<h3>Extends</h3>

<p>Class <code>"<a href="#topic+lt-class">lt</a>"</code>, directly.
</p>


<h3>Methods</h3>


<dl>
<dt>print</dt><dd><p><code>signature(x = "summary.lt")</code>: print method </p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Anita Lindmark and Maria Karlsson
</p>


<h3>See Also</h3>

<p>Function <code><a href="#topic+lt">lt</a></code> and class <code>"<a href="#topic+lt-class">lt</a>"</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>showClass("summary.lt")
</code></pre>

<hr>
<h2 id='summary.qme-class'>Class <code>"summary.qme"</code></h2><span id='topic+summary.qme-class'></span>

<h3>Description</h3>

<p>Documentation on S4 class <code>"summary.qme"</code>
</p>


<h3>Objects from the Class</h3>

<p>Objects from the class are usually obtained by a calling <code>summary</code> on an object of class <code>"<a href="#topic+qme-class">qme</a>"</code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>level</code>:</dt><dd><p>Object of class <code>"numeric"</code> the level of confidence for confidence intervals </p>
</dd>
<dt><code>confint</code>:</dt><dd><p>Object of class <code>"matrix"</code> confidence intervals for regression coefficients </p>
</dd>
<dt><code>bootconfint</code>:</dt><dd><p>Object of class <code>"matrix"</code> bootstrap confidence intervals for regression coefficients </p>
</dd>
<dt><code>call</code>:</dt><dd><p>Object of class <code>"call"</code> the function call </p>
</dd>
<dt><code>coefficients</code>:</dt><dd><p>Object of class <code>"matrix"</code> the estimated coefficients from fitting a model for truncated regression using the Quadratic Mode Estimator (QME) </p>
</dd>
<dt><code>startcoef</code>:</dt><dd><p>Object of class <code>"matrix"</code> the starting coefficients used when fitting the model </p>
</dd>
<dt><code>cval</code>:</dt><dd><p>Object of class <code>"data.frame"</code> containing information on the threshold value used </p>
</dd>
<dt><code>value</code>:</dt><dd><p>Object of class <code>"numeric"</code> the value of the objective function corresponding to <code>coefficients</code> </p>
</dd>
<dt><code>counts</code>:</dt><dd><p>Object of class <code>"integer"</code> number of iterations until convergence</p>
</dd>
<dt><code>convergence</code>:</dt><dd><p>Object of class <code>"integer"</code> indicating whether convergence was achieved </p>
</dd>
<dt><code>message</code>:</dt><dd><p>Object of class <code>"character"</code> a character string giving any additional information returned by the optimizer </p>
</dd>
<dt><code>residuals</code>:</dt><dd><p>Object of class <code>"matrix"</code> the residuals of the model </p>
</dd>
<dt><code>fitted.values</code>:</dt><dd><p>Object of class <code>"matrix"</code> the fitted values </p>
</dd>
<dt><code>df.residual</code>:</dt><dd><p>Object of class <code>"integer"</code> the residual degrees of freedom </p>
</dd>
<dt><code>covariance</code>:</dt><dd><p>Object of class <code>"matrix"</code> the estimated covariance matrix </p>
</dd>
<dt><code>bootrepl</code>:</dt><dd><p>Object of class <code>"matrix"</code> bootstrap replicates used to estimate the covariance matrix </p>
</dd>
</dl>



<h3>Extends</h3>

<p>Class <code>"<a href="#topic+qme-class">qme</a>"</code>, directly.
</p>


<h3>Methods</h3>


<dl>
<dt>print</dt><dd><p><code>signature(x = "summary.qme")</code>: print method </p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Anita Lindmark and Maria Karlsson
</p>


<h3>See Also</h3>

<p>Function <code><a href="#topic+qme">qme</a></code> and class <code>"<a href="#topic+qme-class">qme</a>"</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>showClass("summary.qme")
</code></pre>

<hr>
<h2 id='summary.stls-class'>Class &quot;summary.stls&quot;</h2><span id='topic+summary.stls-class'></span>

<h3>Description</h3>

<p>Documentation on S4 class <code>"summary.stls"</code>
</p>


<h3>Objects from the Class</h3>

<p>Objects from the class are usually obtained by a calling <code>summary</code> on an object of class <code>"<a href="#topic+stls-class">stls</a>"</code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>level</code>:</dt><dd><p>Object of class <code>"numeric"</code> the level of confidence for confidence intervals </p>
</dd>
<dt><code>confint</code>:</dt><dd><p>Object of class <code>"matrix"</code> confidence intervals for regression coefficients </p>
</dd>
<dt><code>bootconfint</code>:</dt><dd><p>Object of class <code>"matrix"</code> bootstrap confidence intervals for regression coefficients </p>
</dd>
<dt><code>call</code>:</dt><dd><p>Object of class <code>"call"</code> the function call </p>
</dd>
<dt><code>coefficients</code>:</dt><dd><p>Object of class <code>"matrix"</code> the estimated coefficients from fitting a model for truncated regression using the Quadratic Mode Estimator (QME) </p>
</dd>
<dt><code>startcoef</code>:</dt><dd><p>Object of class <code>"matrix"</code> the starting coefficients used when fitting the model </p>
</dd>
<dt><code>value</code>:</dt><dd><p>Object of class <code>"numeric"</code> the value of the objective function corresponding to <code>coefficients</code> </p>
</dd>
<dt><code>counts</code>:</dt><dd><p>Object of class <code>"integer"</code> number of iterations until convergence</p>
</dd>
<dt><code>convergence</code>:</dt><dd><p>Object of class <code>"integer"</code> indicating whether convergence was achieved </p>
</dd>
<dt><code>message</code>:</dt><dd><p>Object of class <code>"character"</code> a character string giving any additional information returned by the optimizer </p>
</dd>
<dt><code>residuals</code>:</dt><dd><p>Object of class <code>"matrix"</code> the residuals of the model </p>
</dd>
<dt><code>fitted.values</code>:</dt><dd><p>Object of class <code>"matrix"</code> the fitted values </p>
</dd>
<dt><code>df.residual</code>:</dt><dd><p>Object of class <code>"integer"</code> the residual degrees of freedom </p>
</dd>
<dt><code>covariance</code>:</dt><dd><p>Object of class <code>"matrix"</code> the estimated covariance matrix </p>
</dd>
<dt><code>bootrepl</code>:</dt><dd><p>Object of class <code>"matrix"</code> bootstrap replicates used to estimate the covariance matrix </p>
</dd>
</dl>



<h3>Extends</h3>

<p>Class <code>"<a href="#topic+stls-class">stls</a>"</code>, directly.
</p>


<h3>Methods</h3>


<dl>
<dt>print</dt><dd><p><code>signature(x = "summary.stls")</code>: print method </p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Anita Lindmark and Maria Karlsson
</p>


<h3>See Also</h3>

<p>Function <code><a href="#topic+stls">stls</a></code> and class <code>"<a href="#topic+stls-class">stls</a>"</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>showClass("summary.stls")
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

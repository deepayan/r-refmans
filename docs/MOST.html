<!DOCTYPE html><html><head><title>Help for package MOST</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {MOST}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#FactorialPowerPlan'><p>sample size, power and effect size calculations for a factorial or fractional</p>
factorial experiment</a></li>
<li><a href='#RandomAssignmentGenerator'><p>Random Assignment Generator for a Factorial Experiment with Many Conditions</p></a></li>
<li><a href='#RelativeCosts1'><p>The relative cost of reduced factorial designs</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Multiphase Optimization Strategy</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.2</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.15.0)</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Copyright:</td>
<td>2022 by The Pennsylvania State University</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides functions similar to the 'SAS' macros previously provided
              to accompany Collins, Dziak, and Li (2009) &lt;<a href="https://doi.org/10.1037%2Fa0015826">doi:10.1037/a0015826</a>&gt;
              and Dziak, Nahum-Shani, and Collins (2012) &lt;<a href="https://doi.org/10.1037%2Fa0026972">doi:10.1037/a0026972</a>&gt;, papers
              which outline practical benefits and challenges of factorial
              and fractional factorial experiments for scientists interested
              in developing biological and/or behavioral interventions, especially
              in the context of the multiphase optimization strategy
              (see Collins, Kugler &amp; Gwadz 2016) &lt;<a href="https://doi.org/10.1007%2Fs10461-015-1145-4">doi:10.1007/s10461-015-1145-4</a>&gt;.  The package
              currently contains three functions. First, RelativeCosts1() draws a graph
              of the relative cost of complete and reduced factorial designs versus
              other alternatives. Second, RandomAssignmentGenerator() returns a dataframe
              which contains a list of random numbers that can be used to conveniently
              assign participants to conditions in an experiment with
              many conditions. Third, FactorialPowerPlan() estimates the power, detectable effect
              size, or required sample size of a factorial or fractional factorial
              experiment, for main effects or interactions, given several possible choices
              of effect size metric, and allowing pretests and clustering.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.0</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-06-22 22:09:39 UTC; John</td>
</tr>
<tr>
<td>Author:</td>
<td>Linda Collins [aut],
  Liying Huang [aut],
  John Dziak [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>John Dziak &lt;dziakj1@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-06-23 22:20:08 UTC</td>
</tr>
</table>
<hr>
<h2 id='FactorialPowerPlan'>sample size, power and effect size calculations for a factorial or fractional
factorial experiment</h2><span id='topic+FactorialPowerPlan'></span>

<h3>Description</h3>

<p>There are three ways to use this function:
</p>

<ol>
<li><p> Estimate power available from a given sample size and a given effect size.
</p>
</li>
<li><p> Estimate sample size needed for a given power and a given effect size.
</p>
</li>
<li><p> Estimate effect size detectable from a given power at a given sample size.
</p>
</li></ol>

<p>That is, there are three main pieces of information: power, sample size, and effect size.
The user provides two of them, and this function calculates the third.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>FactorialPowerPlan(
  alpha = 0.05,
  assignment = "unclustered",
  change_score_icc = NULL,
  cluster_size = NULL,
  cluster_size_sd = NULL,
  d_main = NULL,
  effect_size_ratio = NULL,
  icc = NULL,
  model_order = 1,
  nclusters = NULL,
  nfactors = 1,
  ntotal = NULL,
  power = NULL,
  pre_post_corr = NULL,
  pretest = "none",
  raw_coef = NULL,
  raw_main = NULL,
  sigma_y = NULL,
  std_coef = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="FactorialPowerPlan_+3A_alpha">alpha</code></td>
<td>
<p>Two sided Type I error level for the test to be performed(default=0.05).</p>
</td></tr>
<tr><td><code id="FactorialPowerPlan_+3A_assignment">assignment</code></td>
<td>
<p>One of three options: (default=unclustered)
</p>

<ol>
<li> <p>&ldquo;independent&rdquo; or equivalently &ldquo;unclustered&rdquo;
</p>
</li>
<li> <p>&ldquo;within&rdquo; or equivalently &ldquo;within_clusters&rdquo;
</p>
</li>
<li> <p>&ldquo;between&rdquo; or equivalently &ldquo;between_clusters&rdquo;
</p>
</li></ol>

<p>Clusters in this context are preexisting units within which responses may
be dependent (e.g., clinics or schools).  A within-cluster experiment involves
randomizing individual members, while a between-cluster experiment involves
randomizing clusters as whole units (see Dziak, Nahum-Shani, and Collins, 2012)
&lt;DOI:10.1037/a0026972&gt;</p>
</td></tr>
<tr><td><code id="FactorialPowerPlan_+3A_change_score_icc">change_score_icc</code></td>
<td>
<p>The intraclass correlation of the change scores (posttest
minus pretest). Relevant only if assignment is between clusters and there is a pretest.</p>
</td></tr>
<tr><td><code id="FactorialPowerPlan_+3A_cluster_size">cluster_size</code></td>
<td>
<p>The mean number of members in each cluster. Relevant only
if assignment is between clusters or within clusters.</p>
</td></tr>
<tr><td><code id="FactorialPowerPlan_+3A_cluster_size_sd">cluster_size_sd</code></td>
<td>
<p>Relevant only if assignment is between clusters. The standard deviation
of the number of members in each cluster (the default is 0
which means that the clusters are expected to be of equal size).</p>
</td></tr>
<tr><td><code id="FactorialPowerPlan_+3A_d_main">d_main</code></td>
<td>
<p>Effect size measure: standardized mean difference raw_main/sigma_y.</p>
</td></tr>
<tr><td><code id="FactorialPowerPlan_+3A_effect_size_ratio">effect_size_ratio</code></td>
<td>
<p>Effect size measure: signal to noise ratio raw_coef^2/sigma_y^2.</p>
</td></tr>
<tr><td><code id="FactorialPowerPlan_+3A_icc">icc</code></td>
<td>
<p>Relevant only if assignment is between clusters or within clusters. The intraclass
correlation of the variable of interest in the absence of treatment.</p>
</td></tr>
<tr><td><code id="FactorialPowerPlan_+3A_model_order">model_order</code></td>
<td>
<p>The highest order term to be included in the regression model in the planned analysis
(1=main effects, 2=two-way interactions, 3=three-way interactions, etc.); must be &gt;= 1 and
&lt;= nfactors (default=1).</p>
</td></tr>
<tr><td><code id="FactorialPowerPlan_+3A_nclusters">nclusters</code></td>
<td>
<p>The total number of clusters available (for between clusters or within clusters assignment).</p>
</td></tr>
<tr><td><code id="FactorialPowerPlan_+3A_nfactors">nfactors</code></td>
<td>
<p>The number of factors (independent variables) in the planned experiment(default=1).</p>
</td></tr>
<tr><td><code id="FactorialPowerPlan_+3A_ntotal">ntotal</code></td>
<td>
<p>The total sample size available (for unclustered assignment. For clustered assignment, use
&ldquo;cluster_size&rdquo; and &ldquo;nclusters.&rdquo;</p>
</td></tr>
<tr><td><code id="FactorialPowerPlan_+3A_power">power</code></td>
<td>
<p>If specified: The desired power of the test. If returned in the output list: The expected power of the test.</p>
</td></tr>
<tr><td><code id="FactorialPowerPlan_+3A_pre_post_corr">pre_post_corr</code></td>
<td>
<p>Relevant only if there is a pretest. The correlation between the pretest and the posttest.</p>
</td></tr>
<tr><td><code id="FactorialPowerPlan_+3A_pretest">pretest</code></td>
<td>
<p>One of three options:
</p>

<ol>
<li> <p>&ldquo;no&rdquo; or &ldquo;none&rdquo; for no pretest.
</p>
</li>
<li> <p>&ldquo;covariate&rdquo; for pretest to be entered as a covariate in the model.
</p>
</li>
<li> <p>&ldquo;repeated&rdquo; for pretest to be considered as a repeated measure.
</p>
</li></ol>

<p>The option &ldquo;yes&rdquo; is also allowed and is interpreted as &ldquo;repeated.&rdquo;
The option &ldquo;covariate&rdquo; is not allowed if assignment is between clusters.  This
is because predicting power for covariate-adjusted cluster-level randomization is
somewhat complicated, although it can be approximated in practice by using the
formula for the repeated-measures cluster-level randomization (see simulations in Dziak,
Nahum-Shani, and Collins, 2012).</p>
</td></tr>
<tr><td><code id="FactorialPowerPlan_+3A_raw_coef">raw_coef</code></td>
<td>
<p>Effect size measure: unstandardized effect-coded regression coefficient.</p>
</td></tr>
<tr><td><code id="FactorialPowerPlan_+3A_raw_main">raw_main</code></td>
<td>
<p>Effect size measure: unstandardized mean difference.</p>
</td></tr>
<tr><td><code id="FactorialPowerPlan_+3A_sigma_y">sigma_y</code></td>
<td>
<p>The assumed standard deviation of the response variable after treatment, within each
treatment condition (i.e., adjusting for treatment but not adjusting for post-test).
This statement must be used if the effect size argument used is either &ldquo;raw_main&rdquo; or
&ldquo;raw_coef&rdquo;.</p>
</td></tr>
<tr><td><code id="FactorialPowerPlan_+3A_std_coef">std_coef</code></td>
<td>
<p>Effect size measure: standardized effect-coded regression coefficient raw_coef/sigma_y.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with power, sample size and effect size.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>FactorialPowerPlan(assignment="independent",
                   model_order=2,
                   nfactors=5,
                   ntotal=300,
                   raw_main=3,
                   sigma_y=10)

FactorialPowerPlan(assignment="independent",
                   model_order=2,
                   nfactors=5,
                   ntotal=300,
                   pre_post_corr=.6,
                   pretest="covariate",
                   raw_main=3,
                   sigma_y=10)

</code></pre>

<hr>
<h2 id='RandomAssignmentGenerator'>Random Assignment Generator for a Factorial Experiment with Many Conditions</h2><span id='topic+RandomAssignmentGenerator'></span>

<h3>Description</h3>

<p>This function provides a list of random numbers that can be used to assign
participants to conditions (cells) in an experiment with many conditions, such as a factorial
experiment.  The randomization is restricted as follows:  if the number of participants
available is a multiple of the number of conditions, then cell sizes will be
balanced; otherwise, they will be as near balanced as possible.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>RandomAssignmentGenerator(N, C)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="RandomAssignmentGenerator_+3A_n">N</code></td>
<td>
<p>The total number of participants to be randomized.</p>
</td></tr>
<tr><td><code id="RandomAssignmentGenerator_+3A_c">C</code></td>
<td>
<p>The total number of conditions for the experiment you are planning.  Note that f
or a complete factorial experiment having k factors, there will be 2^k conditions.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe with 1 variable ranList with N observations, each observation of ranList
provides a random number for each participant. This will be a number from 1 to C.
For example, if the 4th number in the list is 7, the 4th subject is randomly assigned
to experiment condition 7. Random numbers will be generated so that the experiment is
approximately balanced.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>result &lt;- RandomAssignmentGenerator(35,17)
print(result)
</code></pre>

<hr>
<h2 id='RelativeCosts1'>The relative cost of reduced factorial designs</h2><span id='topic+RelativeCosts1'></span>

<h3>Description</h3>

<p>Draw a graph of the relative cost of complete factorial,
fractional factorial, and unbalanced reduced factorial designs,
as presented by Collins, Dziak and Li
(2009; https://www.ncbi.nlm.nih.gov/pubmed/19719358).  For
purposes of illustration, a normally distributed response variable,
dichotomous factors, and negligible interactions are assumed in this function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>RelativeCosts1(
  number_of_factors,
  desired_fract_resolution = 4,
  min_target_d_per_factor = 0.2,
  condition_costlier_than_subject = 1,
  max_graph_ratio = 5
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="RelativeCosts1_+3A_number_of_factors">number_of_factors</code></td>
<td>
<p>The number of factors to be tested.</p>
</td></tr>
<tr><td><code id="RelativeCosts1_+3A_desired_fract_resolution">desired_fract_resolution</code></td>
<td>
<p>The desired resolution of the fractional factorial experiment to be compared.
The default value is set to be 4.</p>
</td></tr>
<tr><td><code id="RelativeCosts1_+3A_min_target_d_per_factor">min_target_d_per_factor</code></td>
<td>
<p>The minimum Cohen's d (standardized difference, i.e., response difference
between levels on a given factor, divided by response standard deviation)
that is desired to be detected with 80
The default value is set to be 0.2.</p>
</td></tr>
<tr><td><code id="RelativeCosts1_+3A_condition_costlier_than_subject">condition_costlier_than_subject</code></td>
<td>
<p>The default value is set to be 1.</p>
</td></tr>
<tr><td><code id="RelativeCosts1_+3A_max_graph_ratio">max_graph_ratio</code></td>
<td>
<p>The default value is set to be 5.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>RelativeCosts1(number_of_factors = 9,
              desired_fract_resolution = 4,
              min_target_d_per_factor = .2,
              condition_costlier_than_subject=1,
              max_graph_ratio = 4)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

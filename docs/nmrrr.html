<!DOCTYPE html><html lang="en"><head><title>Help for package nmrrr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {nmrrr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#bins_CadeMenun2015'><p>NMR grouping bins from Cade-Menun (2015).</p></a></li>
<li><a href='#bins_Clemente2012'><p>NMR grouping bins from Clemente et al. (2012).</p></a></li>
<li><a href='#bins_Hertkorn2013'><p>NMR grouping bins from Hertkorn et al. (2013).</p></a></li>
<li><a href='#bins_Lynch2019'><p>NMR grouping bins from Lynch et al. (2019).</p></a></li>
<li><a href='#bins_Mitchell2018'><p>NMR grouping bins from Mitchell et al. (2018).</p></a></li>
<li><a href='#bins_ss_Baldock2004'><p>NMR grouping bins from Baldock et al. (2004).</p></a></li>
<li><a href='#bins_ss_Clemente2012'><p>NMR grouping bins from Clemente et al. (2012) - ss.</p></a></li>
<li><a href='#bins_ss_Preston2009'><p>NMR grouping bins from Preston et al. (2009).</p></a></li>
<li><a href='#nmr_assign_bins'><p>Assign compound classes using the chosen binset</p></a></li>
<li><a href='#nmr_import_peaks'><p>Import and process picked peaks data</p></a></li>
<li><a href='#nmr_import_spectra'><p>Import and process NMR spectral data</p></a></li>
<li><a href='#nmr_plot_spectra'><p>Plot NMR spectra</p></a></li>
<li><a href='#nmr_relabund'><p>Compute relative abundance for each sample</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Binning and Visualizing NMR Spectra in Environmental Samples</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.0</td>
</tr>
<tr>
<td>Description:</td>
<td>A reproducible workflow for binning and visualizing NMR (nuclear magnetic resonance) spectra from environmental samples. The 'nmrrr' package is intended for post-processing of NMR data, including importing, merging and, cleaning data from multiple files, visualizing NMR spectra, performing binning/integrations for compound classes, and relative abundance calculations. 
    This package can be easily inserted into existing analysis workflows by users to help with analyzing and interpreting NMR data. </td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/kaizadp/nmrrr">https://github.com/kaizadp/nmrrr</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/kaizadp/nmrrr/issues">https://github.com/kaizadp/nmrrr/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Copyright:</td>
<td>Battelle Memorial Institute</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Imports:</td>
<td>DescTools, ggplot2, tidyr, utils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, knitr, rmarkdown, testthat (&ge; 3.0.0), tibble</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.50)</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-05-09 17:27:00 UTC; pate212</td>
</tr>
<tr>
<td>Author:</td>
<td>Kaizad Patel <a href="https://orcid.org/0000-0001-6437-7809"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Allison Myers-Pigg
    <a href="https://orcid.org/0000-0002-6905-6841"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Ben Bond-Lamberty <a href="https://orcid.org/0000-0001-9525-4633"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb],
  Morgan Barnes <a href="https://orcid.org/0000-0001-8722-6552"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Kaizad Patel &lt;kaizad.patel@pnnl.gov&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-05-10 16:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='bins_CadeMenun2015'>NMR grouping bins from Cade-Menun (2015).</h2><span id='topic+bins_CadeMenun2015'></span>

<h3>Description</h3>

<p>NMR grouping bins from  Cade-Menun (2015), for 31P, using D2O as a solvent.
(1) polyphosphate (-20 to -4);
(2) diester (-1.5 to 2.0);
(3) monoester (3.0 to 5.5);
(4) orthophosphate (5.5 to 9.0);
(5) phosphate (9.0 to 40.0)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bins_CadeMenun2015
</code></pre>


<h3>Format</h3>

<p>A data frame with 5 rows and 5 variables:
</p>

<dl>
<dt>number</dt><dd><p>Bin number</p>
</dd>
<dt>group</dt><dd><p>Name of bin group</p>
</dd>
<dt>start</dt><dd><p>ppm shift range, lower limit</p>
</dd>
<dt>stop</dt><dd><p>ppm shift range, upper limit</p>
</dd>
<dt>description</dt><dd><p>Description of the bin group</p>
</dd>
</dl>



<h3>Note</h3>

<p>The NMR spectrum can be split into several bins, based on
chemical shift (ppm). Binsets are specific to nuclei and solvents and
by definition are open on the left and closed on the right;
for example, a bin of (0,1) includes 1 but <em>not</em> 0.
</p>


<h3>Source</h3>

<p>B. Cade-Menun. &quot;Improved peak identification in 31P-NMR spectra of environmental samples
with a standardized method and peak library&quot;. Geoderma.
<a href="https://doi.org/10.1016/j.geoderma.2014.12.016">doi:10.1016/j.geoderma.2014.12.016</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bins_Clemente2012">bins_Clemente2012</a></code> <code><a href="#topic+bins_Lynch2019">bins_Lynch2019</a></code>
<code><a href="#topic+bins_Mitchell2018">bins_Mitchell2018</a></code>
</p>

<hr>
<h2 id='bins_Clemente2012'>NMR grouping bins from Clemente et al. (2012).</h2><span id='topic+bins_Clemente2012'></span>

<h3>Description</h3>

<p>NMR grouping bins from Clemente et al. (2012), using DMSO-D6 as solvent.
(1) aliphatic polymethylene and methyl groups (0.6–1.3 ppm, “aliphatic1”);
(2) aliphatic methyl and methylene near O and N (1.3–2.9 ppm, “aliphatic2”);
(3) O-alkyl, mainly from carbohydrates and lignin (2.9–4.1 ppm);
(4) alpha-proton of peptides (4.1–4.8 ppm);
(5) aromatic and phenolic (6.2–7.8 ppm); and
(6) amide, from proteins (7.8–8.4 ppm).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bins_Clemente2012
</code></pre>


<h3>Format</h3>

<p>A data frame with 6 rows and 5 variables:
</p>

<dl>
<dt>number</dt><dd><p>Bin number</p>
</dd>
<dt>group</dt><dd><p>Name of bin group</p>
</dd>
<dt>start</dt><dd><p>ppm shift range, lower limit</p>
</dd>
<dt>stop</dt><dd><p>ppm shift range, upper limit</p>
</dd>
<dt>description</dt><dd><p>Description of the bin group</p>
</dd>
</dl>



<h3>Note</h3>

<p>The NMR spectrum can be split into several bins, based on
chemical shift (ppm). Binsets are specific to nuclei and solvents and
by definition are open on the left and closed on the right;
for example, a bin of (0,1) includes 1 but <em>not</em> 0.
</p>


<h3>Source</h3>

<p>JS Clemente et al. 2012. “Comparison of Nuclear Magnetic Resonance
Methods for the Analysis of Organic Matter Composition from Soil Density and
Particle Fractions.” Environmental Chemistry
<a href="https://doi.org/10.1071/EN11096">doi:10.1071/EN11096</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bins_Lynch2019">bins_Lynch2019</a></code>
<code><a href="#topic+bins_Mitchell2018">bins_Mitchell2018</a></code> <code><a href="#topic+bins_Hertkorn2013">bins_Hertkorn2013</a></code>
</p>

<hr>
<h2 id='bins_Hertkorn2013'>NMR grouping bins from Hertkorn et al. (2013).</h2><span id='topic+bins_Hertkorn2013'></span>

<h3>Description</h3>

<p>NMR grouping bins from  Hertkorn et al. (2013), using MeOD as solvent.
(1) aliphatics, HCCC (0.0-1.9);
(2) acetate analogs and CRAM (carboxyl-rich alicyclic materials), HCX (1.9-3.1);
(3) carbohydrate-like and methoxy, HCO (3.1-4.9);
(4) olefinic HC=C (5.3-7.0);
(5) aromatic (7.0-10.0).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bins_Hertkorn2013
</code></pre>


<h3>Format</h3>

<p>A data frame with 5 rows and 5 variables:
</p>

<dl>
<dt>number</dt><dd><p>Bin number</p>
</dd>
<dt>group</dt><dd><p>Name of bin group</p>
</dd>
<dt>start</dt><dd><p>ppm shift range, lower limit</p>
</dd>
<dt>stop</dt><dd><p>ppm shift range, upper limit</p>
</dd>
<dt>description</dt><dd><p>Description of the bin group</p>
</dd>
</dl>



<h3>Note</h3>

<p>The NMR spectrum can be split into several bins, based on
chemical shift (ppm). Binsets are specific to nuclei and solvents and
by definition are open on the left and closed on the right;
for example, a bin of (0,1) includes 1 but <em>not</em> 0.
</p>


<h3>Source</h3>

<p>N. Hertkorn et al. 2013. &quot;High-field NMR spectroscopy and FTICR mass
spectrometry: powerful discovery tools for the molecular level
characterization of marine dissolved organic matter&quot; Biogeosciences
<a href="https://doi.org/10.5194/bg-10-1583-2013">doi:10.5194/bg-10-1583-2013</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bins_Clemente2012">bins_Clemente2012</a></code> <code><a href="#topic+bins_Lynch2019">bins_Lynch2019</a></code>
<code><a href="#topic+bins_Mitchell2018">bins_Mitchell2018</a></code>
</p>

<hr>
<h2 id='bins_Lynch2019'>NMR grouping bins from Lynch et al. (2019).</h2><span id='topic+bins_Lynch2019'></span>

<h3>Description</h3>

<p>NMR grouping bins from Lynch et al. (2019), using D2O as solvent.
(1) methyl, methylene, and methane bearing protons (0.6–1.6 ppm) ;
(2) unsaturated functional groups (1.6–3.2 ppm),
including ketone, benzylic, and alicyclic-bearing protons;
(3) unsaturated, heteroatomic compounds,
including O-bearing carbohydrates, ethers, and alcohols (3.2–4.5 ppm);
(4) conjugated, double bond functionalities,
including aromatic, amide, and phenolic structures (6.5–8.5 ppm).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bins_Lynch2019
</code></pre>


<h3>Format</h3>

<p>A data frame with 4 rows and 5 variables:
</p>

<dl>
<dt>number</dt><dd><p>Bin number</p>
</dd>
<dt>group</dt><dd><p>Name of bin group</p>
</dd>
<dt>start</dt><dd><p>ppm shift range, lower limit</p>
</dd>
<dt>stop</dt><dd><p>ppm shift range, upper limit</p>
</dd>
<dt>description</dt><dd><p>Description of the bin group</p>
</dd>
</dl>



<h3>Note</h3>

<p>The NMR spectrum can be split into several bins, based on
chemical shift (ppm). Binsets are specific to nuclei and solvents and
by definition are open on the left and closed on the right;
for example, a bin of (0,1) includes 1 but <em>not</em> 0.
</p>


<h3>Source</h3>

<p>LM Lynch et al. 2019. “Dissolved Organic Matter Chemistry and
Transport along an Arctic Tundra Hillslope.” Global Biogeochemical Cycles
<a href="https://doi.org/10.1029/2018GB006030">doi:10.1029/2018GB006030</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bins_Clemente2012">bins_Clemente2012</a></code>
<code><a href="#topic+bins_Mitchell2018">bins_Mitchell2018</a></code> <code><a href="#topic+bins_Hertkorn2013">bins_Hertkorn2013</a></code>
</p>

<hr>
<h2 id='bins_Mitchell2018'>NMR grouping bins from Mitchell et al. (2018).</h2><span id='topic+bins_Mitchell2018'></span>

<h3>Description</h3>

<p>NMR grouping bins from Mitchell et al. (2018), using DMSO-D6 as solvent.
(1) aliphatic polymethylene and methyl groups (0.6–1.3 ppm);
(2) N- and O-substituted aliphatic (1.3–2.9 ppm);
(3) O-alkyl (2.9–4.1 ppm);
(4) alpha-proton of peptides (4.1–4.8 ppm);
(5) anomeric proton of carbohydrates (4.8–5.2 ppm);
(6) aromatic and phenolic (6.2–7.8 ppm);
(7) amide (7.8–8.4 ppm).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bins_Mitchell2018
</code></pre>


<h3>Format</h3>

<p>A data frame with 7 rows and 5 variables:
</p>

<dl>
<dt>number</dt><dd><p>Bin number</p>
</dd>
<dt>group</dt><dd><p>Name of bin group</p>
</dd>
<dt>start</dt><dd><p>ppm shift range, lower limit</p>
</dd>
<dt>stop</dt><dd><p>ppm shift range, upper limit</p>
</dd>
<dt>description</dt><dd><p>Description of the bin group</p>
</dd>
</dl>



<h3>Note</h3>

<p>The NMR spectrum can be split into several bins, based on
chemical shift (ppm). Binsets are specific to nuclei and solvents and
by definition are open on the left and closed on the right;
for example, a bin of (0,1) includes 1 but <em>not</em> 0.
</p>


<h3>Source</h3>

<p>P Mitchell et al. 2018. “Nuclear Magnetic Resonance Analysis of
Changes in Dissolved Organic Matter Composition with Successive Layering
on Clay Mineral Surfaces.” Soil Systems
<a href="https://doi.org/10.3390/soils2010008">doi:10.3390/soils2010008</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bins_Clemente2012">bins_Clemente2012</a></code> <code><a href="#topic+bins_Lynch2019">bins_Lynch2019</a></code>
<code><a href="#topic+bins_Hertkorn2013">bins_Hertkorn2013</a></code>
</p>

<hr>
<h2 id='bins_ss_Baldock2004'>NMR grouping bins from Baldock et al. (2004).</h2><span id='topic+bins_ss_Baldock2004'></span>

<h3>Description</h3>

<p>NMR grouping bins from  Baldock et al. (2004), for solid-state NMR.
(1) alkyl C (0-45);
(2) methoxyl C and N-alkyl C (45-60);
(3) O-alkyl C (60-95);
(4) di-O-alkyl C (95-110);
(5) aromatic C (110-145);
(6) phenolic C (145-165);
(7) amide and carboxyl C (165-215)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bins_ss_Baldock2004
</code></pre>


<h3>Format</h3>

<p>A data frame with 5 rows and 5 variables:
</p>

<dl>
<dt>number</dt><dd><p>Bin number</p>
</dd>
<dt>group</dt><dd><p>Name of bin group</p>
</dd>
<dt>start</dt><dd><p>ppm shift range, lower limit</p>
</dd>
<dt>stop</dt><dd><p>ppm shift range, upper limit</p>
</dd>
<dt>description</dt><dd><p>Description of the bin group</p>
</dd>
</dl>



<h3>Note</h3>

<p>The NMR spectrum can be split into several bins, based on
chemical shift (ppm). Binsets are specific to nuclei and solvents and
by definition are open on the left and closed on the right;
for example, a bin of (0,1) includes 1 but <em>not</em> 0.
</p>


<h3>Source</h3>

<p>J. Baldock et al. &quot;Cycling and composition of organic matter in terrestrial and marine ecosystems&quot;. Marine Chemistry.
<a href="https://doi.org/10.1016/j.marchem.2004.06.016">doi:10.1016/j.marchem.2004.06.016</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bins_Clemente2012">bins_Clemente2012</a></code> <code><a href="#topic+bins_Lynch2019">bins_Lynch2019</a></code>
<code><a href="#topic+bins_Mitchell2018">bins_Mitchell2018</a></code>
</p>

<hr>
<h2 id='bins_ss_Clemente2012'>NMR grouping bins from Clemente et al. (2012) - ss.</h2><span id='topic+bins_ss_Clemente2012'></span>

<h3>Description</h3>

<p>NMR grouping bins from  Clemente et al. (2012), for solid-state NMR.
(1) alkyl C (0-50);
(2) O-alkyl C (60-93);
(3) anomeric C (95-110);
(4) aromatic C (110-160);
(5) carboxyl-carbonyl C (160-200)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bins_ss_Clemente2012
</code></pre>


<h3>Format</h3>

<p>A data frame with 5 rows and 5 variables:
</p>

<dl>
<dt>number</dt><dd><p>Bin number</p>
</dd>
<dt>group</dt><dd><p>Name of bin group</p>
</dd>
<dt>start</dt><dd><p>ppm shift range, lower limit</p>
</dd>
<dt>stop</dt><dd><p>ppm shift range, upper limit</p>
</dd>
<dt>description</dt><dd><p>Description of the bin group</p>
</dd>
</dl>



<h3>Note</h3>

<p>The NMR spectrum can be split into several bins, based on
chemical shift (ppm). Binsets are specific to nuclei and solvents and
by definition are open on the left and closed on the right;
for example, a bin of (0,1) includes 1 but <em>not</em> 0.
</p>


<h3>Source</h3>

<p>JS Clemente et al. 2012. “Comparison of Nuclear Magnetic Resonance
Methods for the Analysis of Organic Matter Composition from Soil Density and
Particle Fractions.” Environmental Chemistry
<a href="https://doi.org/10.1071/EN11096">doi:10.1071/EN11096</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bins_Clemente2012">bins_Clemente2012</a></code> <code><a href="#topic+bins_ss_Preston2009">bins_ss_Preston2009</a></code>
<code><a href="#topic+bins_Mitchell2018">bins_Mitchell2018</a></code>
</p>

<hr>
<h2 id='bins_ss_Preston2009'>NMR grouping bins from Preston et al. (2009).</h2><span id='topic+bins_ss_Preston2009'></span>

<h3>Description</h3>

<p>NMR grouping bins from  Preston et al. (2009), for solid-state NMR.
(1) alkyl C (0-50);
(2) methoxyl C (50-60);
(3) O-alkyl C (60-93);
(4) di-O-alkyl C (93-112);
(5) aromatic C (112-140);
(6) phenolic C (140-165);
(7) carboxyl C (165-190)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bins_ss_Preston2009
</code></pre>


<h3>Format</h3>

<p>A data frame with 5 rows and 5 variables:
</p>

<dl>
<dt>number</dt><dd><p>Bin number</p>
</dd>
<dt>group</dt><dd><p>Name of bin group</p>
</dd>
<dt>start</dt><dd><p>ppm shift range, lower limit</p>
</dd>
<dt>stop</dt><dd><p>ppm shift range, upper limit</p>
</dd>
<dt>description</dt><dd><p>Description of the bin group</p>
</dd>
</dl>



<h3>Note</h3>

<p>The NMR spectrum can be split into several bins, based on
chemical shift (ppm). Binsets are specific to nuclei and solvents and
by definition are open on the left and closed on the right;
for example, a bin of (0,1) includes 1 but <em>not</em> 0.
</p>


<h3>Source</h3>

<p>C. Preston et al. 2009. &quot;Chemical Changes During
6 Years of Decomposition of 11 Litters in Some Canadian Forest Sites.
Part 1. Elemental Composition, Tannins, Phenolics, and Proximate Fractions&quot;. Ecosystems.
<a href="https://doi.org/10.1007/s10021-009-9266-0">doi:10.1007/s10021-009-9266-0</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bins_Clemente2012">bins_Clemente2012</a></code> <code><a href="#topic+bins_Lynch2019">bins_Lynch2019</a></code>
<code><a href="#topic+bins_Mitchell2018">bins_Mitchell2018</a></code>
</p>

<hr>
<h2 id='nmr_assign_bins'>Assign compound classes using the chosen binset</h2><span id='topic+nmr_assign_bins'></span>

<h3>Description</h3>

<p>Assign group (bin name) to each row of the data based on
the <code>ppm</code> column.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nmr_assign_bins(dat, binset)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="nmr_assign_bins_+3A_dat">dat</code></td>
<td>
<p>Input dataframe. This could be spectral data, or peak picked data.
Must include a 'ppm' column for compound class assignment</p>
</td></tr>
<tr><td><code id="nmr_assign_bins_+3A_binset">binset</code></td>
<td>
<p>A binset; e.g. <code><a href="#topic+bins_Clemente2012">bins_Clemente2012</a></code>,
<code><a href="#topic+bins_Hertkorn2013">bins_Hertkorn2013</a></code>, etc., or a similarly-structured data frame</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The input data with a new <code>group</code> column whose entries
are drawn from the binset. Entries will be <code>NA</code> if a <code>ppm</code>
value does not fall into any group.
</p>


<h3>Author(s)</h3>

<p>Kaizad Patel
</p>


<h3>Examples</h3>

<pre><code class='language-R'>sdir &lt;- system.file("extdata", "kfp_hysteresis", "spectra_mnova", package = "nmrrr")
spec &lt;- nmr_import_spectra(path = sdir, method = "mnova")
nmr_assign_bins(spec, bins_Clemente2012)
</code></pre>

<hr>
<h2 id='nmr_import_peaks'>Import and process picked peaks data</h2><span id='topic+nmr_import_peaks'></span>

<h3>Description</h3>

<p>Process data of peaks picked with NMR software.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nmr_import_peaks(path, method, pattern = "*.csv$", quiet = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="nmr_import_peaks_+3A_path">path</code></td>
<td>
<p>Directory where the peaks data are saved</p>
</td></tr>
<tr><td><code id="nmr_import_peaks_+3A_method">method</code></td>
<td>
<p>Format of input data, depending on how the data were exported.
&quot;multiple columns&quot;: data are in split-column format, obtained by
pasting &quot;peaks table&quot; in MNova. &quot;single column&quot;: data are in
single-column format, exported from MNova as &quot;peaks script&quot;.</p>
</td></tr>
<tr><td><code id="nmr_import_peaks_+3A_pattern">pattern</code></td>
<td>
<p>Filename pattern to search for (by default &quot;*.csv$&quot;)</p>
</td></tr>
<tr><td><code id="nmr_import_peaks_+3A_quiet">quiet</code></td>
<td>
<p>Print diagnostic messages? Logical</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe with columns describing
sample ID, ppm, intensity, area, group name.
</p>


<h3>Author(s)</h3>

<p>Kaizad Patel
</p>


<h3>Examples</h3>

<pre><code class='language-R'>sdir &lt;- system.file("extdata", "kfp_hysteresis", "peaks_mnova_multiple", package = "nmrrr")
nmr_import_peaks(path = sdir, method = "multiple columns")
</code></pre>

<hr>
<h2 id='nmr_import_spectra'>Import and process NMR spectral data</h2><span id='topic+nmr_import_spectra'></span>

<h3>Description</h3>

<p>Imports multiple spectra files and then combines and cleans the data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nmr_import_spectra(path, method, pattern = "*.csv$", quiet = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="nmr_import_spectra_+3A_path">path</code></td>
<td>
<p>Directory where the spectra files are saved</p>
</td></tr>
<tr><td><code id="nmr_import_spectra_+3A_method">method</code></td>
<td>
<p>Software used for initial processing of NMR spectra (before using this package). Available options include &quot;mnova&quot; and &quot;topspin&quot;.</p>
</td></tr>
<tr><td><code id="nmr_import_spectra_+3A_pattern">pattern</code></td>
<td>
<p>Filename pattern to search for (by default &quot;*.csv$&quot;)</p>
</td></tr>
<tr><td><code id="nmr_import_spectra_+3A_quiet">quiet</code></td>
<td>
<p>Print diagnostic messages? Logical</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>link{data.frame}</code> with data from all files found,
concatenated and sorted.
</p>


<h3>Author(s)</h3>

<p>Kaizad Patel
</p>


<h3>Examples</h3>

<pre><code class='language-R'>sdir &lt;- system.file("extdata", "kfp_hysteresis", "spectra_mnova", package = "nmrrr")
nmr_import_spectra(path = sdir, method = "mnova")
</code></pre>

<hr>
<h2 id='nmr_plot_spectra'>Plot NMR spectra</h2><span id='topic+nmr_plot_spectra'></span>

<h3>Description</h3>

<p>Plot NMR spectra, with line-brackets denoting binned regions.
Uses spectra data processed in MestreNova or TopSpin.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nmr_plot_spectra(
  dat,
  binset,
  label_position = 100,
  mapping = aes(x = ppm, y = intensity),
  stagger = 10
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="nmr_plot_spectra_+3A_dat">dat</code></td>
<td>
<p>Processed spectral data, output from (a) <code><a href="#topic+nmr_import_spectra">nmr_import_spectra</a></code>
and <code><a href="#topic+nmr_assign_bins">nmr_assign_bins</a></code>; or (b) <code><a href="#topic+nmr_import_peaks">nmr_import_peaks</a></code></p>
</td></tr>
<tr><td><code id="nmr_plot_spectra_+3A_binset">binset</code></td>
<td>
<p>A binset; e.g. <code><a href="#topic+bins_Clemente2012">bins_Clemente2012</a></code>,
<code><a href="#topic+bins_Hertkorn2013">bins_Hertkorn2013</a></code>, etc., or a similarly-structured data frame</p>
</td></tr>
<tr><td><code id="nmr_plot_spectra_+3A_label_position">label_position</code></td>
<td>
<p>y-axis position for bin labels</p>
</td></tr>
<tr><td><code id="nmr_plot_spectra_+3A_mapping">mapping</code></td>
<td>
<p>An aesthetic mapping generated by <code><a href="ggplot2.html#topic+aes">aes</a></code>:
<code>aes(x = ..., y = ...)</code></p>
</td></tr>
<tr><td><code id="nmr_plot_spectra_+3A_stagger">stagger</code></td>
<td>
<p>How much to stagger the labels, numeric;
same units as <code>label_position</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="ggplot2.html#topic+ggplot">ggplot</a></code> object.
</p>


<h3>Author(s)</h3>

<p>Kaizad Patel
</p>


<h3>Examples</h3>

<pre><code class='language-R'>sdir &lt;- system.file("extdata", "kfp_hysteresis", "spectra_mnova", package = "nmrrr")
spec &lt;- nmr_import_spectra(path = sdir, method = "mnova")
library(ggplot2)
p_aes &lt;- aes(x = ppm, y = intensity)
p &lt;- nmr_plot_spectra(spec, bins_Clemente2012, 5, p_aes, stagger = 0.5)
p + ylim(0, 6)

</code></pre>

<hr>
<h2 id='nmr_relabund'>Compute relative abundance for each sample</h2><span id='topic+nmr_relabund'></span>

<h3>Description</h3>

<p>Compute relative abundance of compound classes for each sample.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nmr_relabund(dat, method)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="nmr_relabund_+3A_dat">dat</code></td>
<td>
<p>Processed spectral data, output from (a) <code><a href="#topic+nmr_import_spectra">nmr_import_spectra</a></code>
and <code><a href="#topic+nmr_assign_bins">nmr_assign_bins</a></code>; or (b) <code><a href="#topic+nmr_import_peaks">nmr_import_peaks</a></code></p>
</td></tr>
<tr><td><code id="nmr_relabund_+3A_method">method</code></td>
<td>
<p>The method for calculating relative abundance.
Options include (a) &quot;AUC&quot;, integrating the spectral region within each bin;
(b) &quot;peaks&quot;, adding areas of peaks if a peak-picked file is provided.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="base.html#topic+data.frame">data.frame</a></code> with columns describing relative contributions of
compound classes. Compound classes are determined by selecting the desired
binset.
</p>


<h3>Author(s)</h3>

<p>Kaizad Patel
</p>


<h3>Examples</h3>

<pre><code class='language-R'>sdir &lt;- system.file("extdata", "kfp_hysteresis", "peaks_mnova_multiple", package = "nmrrr")
peaks &lt;- nmr_import_peaks(path = sdir, method = "multiple columns")
peaks &lt;- nmr_assign_bins(peaks, bins_Clemente2012)
nmr_relabund(peaks, "peaks")
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

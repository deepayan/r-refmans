<!DOCTYPE html><html><head><title>Help for package rirods</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {rirods}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#as.data.frame.irods_df'><p>Coerce to a Data Frame</p></a></li>
<li><a href='#create_irods'><p>Generate IRODS Configuration File</p></a></li>
<li><a href='#iadmin'><p>The Administration Interface to iRODS</p></a></li>
<li><a href='#iauth'><p>Authentication Service for an iRODS Zone</p></a></li>
<li><a href='#icd'><p>Get or Set Current Working Directory in iRODS</p></a></li>
<li><a href='#iget'><p>Retrieve File or Object from iRODS</p></a></li>
<li><a href='#ils'><p>List iRODS Data Objects and Collections</p></a></li>
<li><a href='#imeta'><p>Add or Remove Metadata</p></a></li>
<li><a href='#imkdir'><p>Create a New Collection in iRODS</p></a></li>
<li><a href='#iput'><p>Save Files and Objects in iRODS</p></a></li>
<li><a href='#iquery'><p>Query Data Objects and Collections in iRODS</p></a></li>
<li><a href='#irm'><p>Remove Data Objects or Collections in iRODS</p></a></li>
<li><a href='#is_connected_irods'><p>Predicate for iRODS Connectivity</p></a></li>
<li><a href='#is_irods_demo_running'><p>Predicate for iRODS Demonstration Service State</p></a></li>
<li><a href='#print.irods_df'><p>Print Method for iRODS Data Frame Class.</p></a></li>
<li><a href='#use_irods_demo'><p>Run Docker iRODS Demonstration Service</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>R Client for 'iRODS'</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.0</td>
</tr>
<tr>
<td>Description:</td>
<td>The open sourced data management software 'Integrated
    Rule-Oriented Data System' ('iRODS') offers solutions for the whole
    data life cycle (<a href="https://irods.org/">https://irods.org/</a>). The loosely constructed and
    highly configurable architecture of 'iRODS' frees the user from strict
    formatting constraints and single-vendor solutions. This package
    provides an interface to the 'iRODS' HTTP API, allowing you to manage
    your data and metadata in 'iRODS' with R. Storage of annotated files
    and R objects in 'iRODS' ensures findability, accessibility,
    interoperability, and reusability of data.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/irods/irods_client_library_rirods">https://github.com/irods/irods_client_library_rirods</a>,
<a href="https://rirods.irods4r.org">https://rirods.irods4r.org</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/irods/irods_client_library_rirods/issues">https://github.com/irods/irods_client_library_rirods/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.1)</td>
</tr>
<tr>
<td>Imports:</td>
<td>curl, httr2 (&ge; 0.2.2), jsonlite, rappdirs, stats, testthat
(&ge; 3.0.0), utils, withr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>httptest2, kableExtra, knitr, purrr, readr, rmarkdown,
spelling</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>iRODS C++ HTTP API 0.2.0
(&lt;https://github.com/irods/irods_client_http_api&gt;)</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-03-15 18:13:49 UTC; nicola</td>
</tr>
<tr>
<td>Author:</td>
<td>Martin Schobben <a href="https://orcid.org/0000-0001-8560-0037"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre, cph],
  Mariana Montes [aut],
  Terrell Russell [ctb],
  Christine Staiger [ctb],
  Ton Smeele [ctb],
  Alan King [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Martin Schobben &lt;schobbenmartin@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-03-15 18:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='as.data.frame.irods_df'>Coerce to a Data Frame</h2><span id='topic+as.data.frame.irods_df'></span>

<h3>Description</h3>

<p>Coerce iRODS Zone information class to <code><a href="base.html#topic+data.frame">data.frame()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'irods_df'
as.data.frame(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.data.frame.irods_df_+3A_x">x</code></td>
<td>
<p><code>irods_df</code> class object.</p>
</td></tr>
<tr><td><code id="as.data.frame.irods_df_+3A_...">...</code></td>
<td>
<p>Currently not implemented</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a <code>data.frame</code>. Note, that the
columns of metadata consists of a list of data frames, and status_information
and permission_information consist of data frames.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
is_irods_demo_running()

# connect project to server
create_irods(&quot;http://localhost:9001/irods-http-api/0.2.0&quot;)

# authenticate
iauth("rods", "rods")

# some data
foo &lt;- data.frame(x = c(1, 8, 9), y = c("x", "y", "z"))

# store data in iRODS
isaveRDS(foo, "foo.rds")

# add some metadata
imeta(
  "foo.rds",
  operations =
    data.frame(operation = "add", attribute = "foo", value = "bar",
      units = "baz")
)

# iRODS Zone with metadata
irods_zone &lt;- ils(metadata = TRUE)

# check class
class(irods_zone)

# coerce into `data.frame` and extract metadata of "foo.rds"
irods_zone &lt;- as.data.frame(irods_zone)
irods_zone[basename(irods_zone$logical_path) == "foo.rds", "metadata"]

# delete object
irm("foo.rds", force = TRUE)


</code></pre>

<hr>
<h2 id='create_irods'>Generate IRODS Configuration File</h2><span id='topic+create_irods'></span>

<h3>Description</h3>

<p>This will create an iRODS configuration file containing information about the
iRODS server. Once the file has been created, future sessions
connect again with the same iRODS server without further intervention.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_irods(host, zone_path = character(1), overwrite = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="create_irods_+3A_host">host</code></td>
<td>
<p>URL of host.</p>
</td></tr>
<tr><td><code id="create_irods_+3A_zone_path">zone_path</code></td>
<td>
<p>Deprecated</p>
</td></tr>
<tr><td><code id="create_irods_+3A_overwrite">overwrite</code></td>
<td>
<p>Overwrite existing iRODS configuration file. Defaults to
<code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The configuration file is located in the user-specific configuration
directory. This destination is set with R_USER_CONFIG_DIR if set. Otherwise,
it follows platform conventions (see also <code><a href="rappdirs.html#topic+user_data_dir">rappdirs::user_config_dir()</a></code>).
</p>


<h3>Value</h3>

<p>Invisibly, the path to the iRODS configuration file.
</p>

<hr>
<h2 id='iadmin'>The Administration Interface to iRODS</h2><span id='topic+iadmin'></span>

<h3>Description</h3>

<p>Note that this function can only be used with admin rights.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>iadmin(
  name,
  password = character(1),
  action = c("create_user", "set_password", "remove_user"),
  role = c("rodsuser", "groupadmin", "rodsadmin"),
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="iadmin_+3A_name">name</code></td>
<td>
<p>Name of user to be added.</p>
</td></tr>
<tr><td><code id="iadmin_+3A_password">password</code></td>
<td>
<p>Password to be added.</p>
</td></tr>
<tr><td><code id="iadmin_+3A_action">action</code></td>
<td>
<p>The action: <code>"create_user"</code>, <code>"remove_user"</code>, or <code>"set_password"</code>.</p>
</td></tr>
<tr><td><code id="iadmin_+3A_role">role</code></td>
<td>
<p>Role of user: <code>"rodsuser"</code>, <code>"groupadmin"</code>, and <code>"groupadmin"</code>.</p>
</td></tr>
<tr><td><code id="iadmin_+3A_verbose">verbose</code></td>
<td>
<p>Show information about the http request and response.
Defaults to <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Invisible http status.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
is_irods_demo_running()

# demonstration server (requires Bash, Docker and Docker-compose)
# use_irods_demo()

# connect project to server
create_irods(&quot;http://localhost:9001/irods-http-api/0.2.0&quot;)

# authentication
iauth("rods", "rods")

# add user
iadmin("Alice", action = "create_user", role = "rodsuser")

# add user password
iadmin("Alice", "pass", action = "set_password",  role = "rodsuser")

# delete user
iadmin("Alice", action = "remove_user", role = "rodsuser")


</code></pre>

<hr>
<h2 id='iauth'>Authentication Service for an iRODS Zone</h2><span id='topic+iauth'></span>

<h3>Description</h3>

<p>Provides an authentication service for an iRODS zone. Using the function
without arguments results in a prompt asking for the user name and password
thereby preventing hard-coding of sensitive information in scripts.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>iauth(user, password = NULL, role = "rodsuser")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="iauth_+3A_user">user</code></td>
<td>
<p>iRODS user name (prompts user for user name if not supplied).</p>
</td></tr>
<tr><td><code id="iauth_+3A_password">password</code></td>
<td>
<p>iRODS password (prompts user for password if not supplied).</p>
</td></tr>
<tr><td><code id="iauth_+3A_role">role</code></td>
<td>
<p>iRODS role of user (defaults to <code>"rodsuser"</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Invisibly <code>NULL</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
is_irods_demo_running()

# demonstration server (requires Bash, Docker and Docker-compose)
# use_irods_demo()

# connect project to server
create_irods(&quot;http://localhost:9001/irods-http-api/0.2.0&quot;)

# authenticate
iauth("rods", "rods")


</code></pre>

<hr>
<h2 id='icd'>Get or Set Current Working Directory in iRODS</h2><span id='topic+icd'></span><span id='topic+ipwd'></span>

<h3>Description</h3>

<p><code>ipwd()</code> and <code>icd()</code> are the iRODS equivalents of <code><a href="base.html#topic+getwd">getwd()</a></code> and <code><a href="base.html#topic+setwd">setwd()</a></code>
respectively. For example, whereas <code>getwd()</code> returns the current working directory
in the local system, <code>ipwd()</code> returns the current working directory in iRODS.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>icd(dir)

ipwd()
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="icd_+3A_dir">dir</code></td>
<td>
<p>Collection to set as working directory.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Invisibly the current directory before the change (same convention as
<code>setwd()</code>).
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+setwd">setwd()</a></code> and <code><a href="base.html#topic+getwd">getwd()</a></code> for R equivalents,
<code><a href="#topic+ils">ils()</a></code> for listing collections and objects in iRODS.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
is_irods_demo_running()

# connect project to server
create_irods(&quot;http://localhost:9001/irods-http-api/0.2.0&quot;)

# authenticate
iauth("rods", "rods", "rodsadmin")

# default dir
icd(".")
ipwd()

# relative paths work as well
icd("/tempZone/home")
ipwd()

# go back on level lower
icd("..")
ipwd()

# absolute paths work as well
icd("/tempZone/home/rods")
ipwd()

# back home
icd("/tempZone/home")


</code></pre>

<hr>
<h2 id='iget'>Retrieve File or Object from iRODS</h2><span id='topic+iget'></span><span id='topic+ireadRDS'></span>

<h3>Description</h3>

<p>Transfer a file from iRODS to the local storage with <code><a href="#topic+iget">iget()</a></code> or
read an R object from an RDS file in iRODS with <code><a href="#topic+ireadRDS">ireadRDS()</a></code>
(see <code><a href="base.html#topic+readRDS">readRDS()</a></code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>iget(
  logical_path,
  local_path,
  offset = 0,
  count = 0,
  verbose = FALSE,
  overwrite = FALSE,
  ticket = NULL
)

ireadRDS(logical_path, offset = 0, count = 0, verbose = FALSE, ticket = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="iget_+3A_logical_path">logical_path</code></td>
<td>
<p>Source path in iRODS.</p>
</td></tr>
<tr><td><code id="iget_+3A_local_path">local_path</code></td>
<td>
<p>Destination path in local storage. By default,
the basename of the logical path; the file will be stored in the current
directory (see <code>getwd()</code>).</p>
</td></tr>
<tr><td><code id="iget_+3A_offset">offset</code></td>
<td>
<p>Offset in bytes into the data object. Deprecated.</p>
</td></tr>
<tr><td><code id="iget_+3A_count">count</code></td>
<td>
<p>Maximum number of bytes to write. Deprecated.</p>
</td></tr>
<tr><td><code id="iget_+3A_verbose">verbose</code></td>
<td>
<p>Whether information should be printed about the HTTP request and response.</p>
</td></tr>
<tr><td><code id="iget_+3A_overwrite">overwrite</code></td>
<td>
<p>Whether the local file should be overwritten if it exists.
Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="iget_+3A_ticket">ticket</code></td>
<td>
<p>A valid iRODS ticket string. Defaults to <code>NULL</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The R object in case of <code>ireadRDS()</code>, invisibly <code>NULL</code> in case of
<code>iget()</code>.
</p>
<p>The R object in case of <code>ireadRDS()</code>, invisibly <code>NULL</code> in case of <code>iget()</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+iput">iput()</a></code> for sending files,
<code><a href="#topic+isaveRDS">isaveRDS()</a></code> for sending R objects to iRODS,
<code><a href="base.html#topic+saveRDS">saveRDS()</a></code> for an R equivalent.
</p>
<p>Transfer a file from iRODS to the local storage with <code>iget()</code> or
read an R object from an RDS file in iRODS with <code>ireadRDS()</code> (see <code>readRDS()</code>).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
is_irods_demo_running()

# connect project to server
create_irods(&quot;http://localhost:9001/irods-http-api/0.2.0&quot;)

# authenticate
iauth("rods", "rods")

# save the iris dataset as csv and send the file to iRODS
write.csv(iris, "iris.csv")
iput("iris.csv", "iris.csv")

# bring the file back with a different name
iget("iris.csv", "newer_iris.csv")
file.exists("newer_iris.csv") # check that it has been transferred

# send an R object to iRODS in RDS format
isaveRDS(iris, "irids_in_rds.rds")

# read it back
iris_again &lt;- ireadRDS("irids_in_rds.rds")
iris_again

# delete objects in iRODS
irm("irids_in_rds.rds", force = TRUE)
irm("iris.csv", force = TRUE)



</code></pre>

<hr>
<h2 id='ils'>List iRODS Data Objects and Collections</h2><span id='topic+ils'></span>

<h3>Description</h3>

<p>List the contents of a collection, optionally with stat, metadata, and/or
access control information for each element in the collection.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ils(
  logical_path = ".",
  stat = FALSE,
  permissions = FALSE,
  metadata = FALSE,
  offset = numeric(1),
  limit = find_irods_file("max_number_of_rows_per_catalog_query"),
  recurse = FALSE,
  ticket = NULL,
  message = TRUE,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ils_+3A_logical_path">logical_path</code></td>
<td>
<p>Path to the collection whose contents are to be listed.
By default this is the current working collection (see <code><a href="#topic+ipwd">ipwd()</a></code>).</p>
</td></tr>
<tr><td><code id="ils_+3A_stat">stat</code></td>
<td>
<p>Whether stat information should be included. Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="ils_+3A_permissions">permissions</code></td>
<td>
<p>Whether access control information should be included.
Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="ils_+3A_metadata">metadata</code></td>
<td>
<p>Whether metadata information should be included. Defaults to
<code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="ils_+3A_offset">offset</code></td>
<td>
<p>Number of records to skip for pagination. Deprecated.</p>
</td></tr>
<tr><td><code id="ils_+3A_limit">limit</code></td>
<td>
<p>Number of records to show per page.</p>
</td></tr>
<tr><td><code id="ils_+3A_recurse">recurse</code></td>
<td>
<p>Recursively list. Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="ils_+3A_ticket">ticket</code></td>
<td>
<p>A valid iRODS ticket string. Defaults to <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="ils_+3A_message">message</code></td>
<td>
<p>Show message when empty collection. Default to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="ils_+3A_verbose">verbose</code></td>
<td>
<p>Whether information should be printed about the HTTP request
and response. Defaults to <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Dataframe with logical paths and, if requested, additional
information.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ipwd">ipwd()</a></code> for finding the working collection,
<code><a href="#topic+ipwd">ipwd()</a></code> for setting the working collection, and
<code><a href="base.html#topic+list.files">list.files()</a></code> for an R equivalent.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
is_irods_demo_running()

# connect project to server
create_irods(&quot;http://localhost:9001/irods-http-api/0.2.0&quot;)

# authenticate
iauth("rods", "rods")

# list home directory
ils()

# make collection
imkdir("some_collection")

# list a different directory
ils("/tempZone/home/rods/some_collection")

# show metadata
ils(metadata = TRUE)

# delete `some_collection`
irm("some_collection", force = TRUE, recursive = TRUE)


</code></pre>

<hr>
<h2 id='imeta'>Add or Remove Metadata</h2><span id='topic+imeta'></span>

<h3>Description</h3>

<p>In iRODS, metadata is stored as attribute-value-units triples (AVUs), consisting
of an attribute name, an attribute value and an optional unit.
This function allows to chain several operations ('add' or 'remove') linked to
specific AVUs. Read more about metadata by looking at the iCommands
equivalent <code>imeta</code> in the <a href="https://docs.irods.org/master/icommands/metadata/">iRODS Docs</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>imeta(
  logical_path,
  entity_type = c("data_object", "collection", "user"),
  operations = list(),
  admin = FALSE,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="imeta_+3A_logical_path">logical_path</code></td>
<td>
<p>Path to the data object or collection (or name of the user).</p>
</td></tr>
<tr><td><code id="imeta_+3A_entity_type">entity_type</code></td>
<td>
<p>Type of item to add metadata to or remove it from.
Options are 'data_object', 'collection' and 'user'.  Deprecated.</p>
</td></tr>
<tr><td><code id="imeta_+3A_operations">operations</code></td>
<td>
<p>List of named lists or <a href="base.html#topic+data.frame">data.frame</a> representing operations.
The valid components of each of these lists or vectors are:
</p>

<ul>
<li> <p><code>operation</code>, with values 'add' or 'remove', depending on whether the AVU
should be added to or removed from the metadata of the item (required).
</p>
</li>
<li> <p><code>attribute</code>, with the name of the AVU (required).
</p>
</li>
<li> <p><code>value</code>, with the value of the AVU (required).
</p>
</li>
<li> <p><code>units</code>, with the unit of the AVU (optional).
</p>
</li></ul>
</td></tr>
<tr><td><code id="imeta_+3A_admin">admin</code></td>
<td>
<p>Whether to grant admin rights. Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="imeta_+3A_verbose">verbose</code></td>
<td>
<p>Whether information should be printed about the HTTP request
and response. Defaults to <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Invisibly, the HTTP response.
</p>


<h3>References</h3>

<p>https://docs.irods.org/master/icommands/metadata/
</p>


<h3>See Also</h3>

<p><code><a href="#topic+iquery">iquery()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
is_irods_demo_running()

# demonstration server (requires Bash, Docker and Docker-compose)
# use_irods_demo()

# connect project to server
create_irods(&quot;http://localhost:9001/irods-http-api/0.2.0&quot;)

# authentication
iauth("rods", "rods")

# some data
foo &lt;- data.frame(x = c(1, 8, 9), y = c("x", "y", "z"))

# store
isaveRDS(foo, "foo.rds")

# check if file is stored
ils()

# add some metadata
imeta(
  "foo.rds",
   operations =
    list(
     list(operation = "add", attribute = "foo", value = "bar", units = "baz")
   )
)

# `operations` can contain multiple tags supplied as a `data.frame`
imeta(
  "foo.rds",
  operations = data.frame(
    operation = c("add", "add"),
    attribute = c("foo2", "foo3"),
    value = c("bar2", "bar3"),
    units = c("baz2", "baz3")
   )
 )

# or again as a list of lists
imeta(
  "foo.rds",
  operations = list(
    list(operation = "add", attribute = "foo4", value = "bar4", units = "baz4"),
    list(operation = "add", attribute = "foo5", value = "bar5", units = "baz5")
  )
)

# list of lists are useful as AVUs don't have to contain units
imeta(
  "foo.rds",
  operations = list(
    list(operation = "add", attribute = "foo6", value = "bar6"),
    list(operation = "add", attribute = "foo7", value = "bar7", units = "baz7")
  )
)

# check if file is stored with associated metadata
ils(metadata = TRUE)

# delete object
irm("foo.rds", force = TRUE)


</code></pre>

<hr>
<h2 id='imkdir'>Create a New Collection in iRODS</h2><span id='topic+imkdir'></span>

<h3>Description</h3>

<p>This is the equivalent to <code><a href="base.html#topic+dir.create">dir.create()</a></code>, but creating a collection in iRODS
instead of a local directory.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>imkdir(
  logical_path,
  create_parent_collections = FALSE,
  overwrite = FALSE,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="imkdir_+3A_logical_path">logical_path</code></td>
<td>
<p>Path to the collection to create, relative to the current
working directory (see <code><a href="#topic+ipwd">ipwd()</a></code>).</p>
</td></tr>
<tr><td><code id="imkdir_+3A_create_parent_collections">create_parent_collections</code></td>
<td>
<p>Whether parent collections should be created
when necessary. Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="imkdir_+3A_overwrite">overwrite</code></td>
<td>
<p>Whether the existing collection should be overwritten
if it exists. Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="imkdir_+3A_verbose">verbose</code></td>
<td>
<p>Whether information about the HTTP request and response
should be printed. Defaults to <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Invisibly the HTTP request.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+irm">irm()</a></code> for removing collections,
<code><a href="base.html#topic+dir.create">dir.create()</a></code> for an R equivalent.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
is_irods_demo_running()

# connect project to server
create_irods(&quot;http://localhost:9001/irods-http-api/0.2.0&quot;)

# authentication
iauth("rods", "rods")

# list all object and collection in the current collection of iRODS
ils()

# create a new collection
imkdir("new_collection")

# check if it is there
ils()

# and move to the new directory
icd("new_collection")

# remove collection
icd("..")
irm("new_collection", force = TRUE, recursive = TRUE)


</code></pre>

<hr>
<h2 id='iput'>Save Files and Objects in iRODS</h2><span id='topic+iput'></span><span id='topic+isaveRDS'></span>

<h3>Description</h3>

<p>Store an object or file into iRODS. <code><a href="#topic+iput">iput()</a></code> should be used to transfer
a file from the local storage to iRODS; <code><a href="#topic+isaveRDS">isaveRDS()</a></code> saves an R object from
the current environment in iRODS in RDS format (see <code><a href="base.html#topic+saveRDS">saveRDS()</a></code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>iput(
  local_path,
  logical_path,
  offset = 0,
  count = 0,
  truncate = TRUE,
  verbose = FALSE,
  overwrite = FALSE,
  ticket = NULL
)

isaveRDS(
  x,
  logical_path,
  offset = 0,
  count = 0,
  truncate = TRUE,
  verbose = FALSE,
  overwrite = FALSE,
  ticket = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="iput_+3A_local_path">local_path</code></td>
<td>
<p>Local path of file to be sent to iRODS.</p>
</td></tr>
<tr><td><code id="iput_+3A_logical_path">logical_path</code></td>
<td>
<p>Destination path in iRODS.</p>
</td></tr>
<tr><td><code id="iput_+3A_offset">offset</code></td>
<td>
<p>Offset in bytes into the data object. Deprecated.</p>
</td></tr>
<tr><td><code id="iput_+3A_count">count</code></td>
<td>
<p>Maximum number of bytes to write. Deprecated.</p>
</td></tr>
<tr><td><code id="iput_+3A_truncate">truncate</code></td>
<td>
<p>Whether to truncate the object when opening it. Deprecated.</p>
</td></tr>
<tr><td><code id="iput_+3A_verbose">verbose</code></td>
<td>
<p>Whether to print information about the HTTP request and
response. Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="iput_+3A_overwrite">overwrite</code></td>
<td>
<p>Whether the file in iRODS should be overwritten if it
exists. Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="iput_+3A_ticket">ticket</code></td>
<td>
<p>A valid iRODS ticket string. Defaults to <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="iput_+3A_x">x</code></td>
<td>
<p>R object to save in iRODS.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>(Invisibly) the HTTP response.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+iget">iget()</a></code> for obtaining files,
<code><a href="#topic+ireadRDS">ireadRDS()</a></code> for obtaining R objects from iRODS,
<code><a href="base.html#topic+readRDS">readRDS()</a></code> for an R equivalent.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
is_irods_demo_running()

# connect project to server
create_irods(&quot;http://localhost:9001/irods-http-api/0.2.0&quot;)

# authenticate
iauth("rods", "rods")

# save the iris dataset as csv and send the file to iRODS
write.csv(iris, "iris.csv")
iput("iris.csv", "iris.csv")

# save with a different name
iput("iris.csv", "iris_in_irods.csv")
ils()

# send an R object to iRODS in RDS format
isaveRDS(iris, "iris_in_rds.rds")

# delete objects in iRODS
irm("iris_in_irods.csv", force = TRUE)
irm("iris_in_rds.rds", force = TRUE)
irm("iris.csv", force = TRUE)



</code></pre>

<hr>
<h2 id='iquery'>Query Data Objects and Collections in iRODS</h2><span id='topic+iquery'></span>

<h3>Description</h3>

<p>Use SQL-like expressions to query data objects and collections based on
different properties. Read more about queries by looking at the iCommands
equivalent <code>iquest</code> in the <a href="https://docs.irods.org/master/icommands/user/#iquest">iRODS Docs</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>iquery(
  query,
  limit = 100,
  offset = 0,
  type = c("general", "specific"),
  case_sensitive = TRUE,
  distinct = TRUE,
  parser = c("genquery1", "genquery2"),
  sql_only = FALSE,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="iquery_+3A_query">query</code></td>
<td>
<p>GeneralQuery for searching the iCAT database.</p>
</td></tr>
<tr><td><code id="iquery_+3A_limit">limit</code></td>
<td>
<p>Maximum number of rows to return.</p>
</td></tr>
<tr><td><code id="iquery_+3A_offset">offset</code></td>
<td>
<p>Number of rows to skip for paging. Deprecated.</p>
</td></tr>
<tr><td><code id="iquery_+3A_type">type</code></td>
<td>
<p>Type of query: 'general' (the default) or 'specific'.</p>
</td></tr>
<tr><td><code id="iquery_+3A_case_sensitive">case_sensitive</code></td>
<td>
<p>Whether the string matching in the query is case
sensitive. Defaults to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="iquery_+3A_distinct">distinct</code></td>
<td>
<p>Whether only distinct rows should be listed. Defaults to
<code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="iquery_+3A_parser">parser</code></td>
<td>
<p>Which parser to use: genquery1 or genquery2. Defaults to
genquery1.</p>
</td></tr>
<tr><td><code id="iquery_+3A_sql_only">sql_only</code></td>
<td>
<p>Whether to dry-run query and return SQL syntax query as
return. Defaults to <code>FALSE</code>. Needs <a href="https://github.com/irods/irods_api_plugin_genquery2/?#api-plugin">Genquery2</a>.</p>
</td></tr>
<tr><td><code id="iquery_+3A_verbose">verbose</code></td>
<td>
<p>Whether information should be printed about the HTTP request
and response.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe with one row per result and one column per requested
attribute, with &quot;size&quot; and &quot;time&quot; columns parsed to the right type.
</p>
<p>Invisibly, the HTTP response.
</p>


<h3>References</h3>

<p>https://docs.irods.org/master/icommands/user/#iquest
</p>
<p>Use SQL-like expressions to query data objects and collections based on
different properties.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+imeta">imeta()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
is_irods_demo_running()

# connect project to server
create_irods(&quot;http://localhost:9001/irods-http-api/0.2.0&quot;)

# authentication
iauth("rods", "rods")

# some data
foo &lt;- data.frame(x = c(1, 8, 9), y = c("x", "y", "z"))

# store
isaveRDS(foo, "foo.rds")

# add metadata
imeta(
  "foo.rds",
  operations =
    list(
      list(operation = "add", attribute = "bar", value = "baz")
  )
)

# search for objects by metadata
iquery("SELECT COLL_NAME, DATA_NAME WHERE META_DATA_ATTR_NAME LIKE 'bar%'")

# delete object
irm("foo.rds", force = TRUE)


</code></pre>

<hr>
<h2 id='irm'>Remove Data Objects or Collections in iRODS</h2><span id='topic+irm'></span>

<h3>Description</h3>

<p>This is the equivalent of <code><a href="base.html#topic+file.remove">file.remove()</a></code>, but applied to an item inside
iRODS.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>irm(
  logical_path,
  force = TRUE,
  recursive = FALSE,
  catalog_only = FALSE,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="irm_+3A_logical_path">logical_path</code></td>
<td>
<p>Path to the data object or collection to remove.</p>
</td></tr>
<tr><td><code id="irm_+3A_force">force</code></td>
<td>
<p>Whether the data object or collection should be deleted
permanently. If <code>FALSE</code>, it is sent to the trash collection. Defaults to
<code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="irm_+3A_recursive">recursive</code></td>
<td>
<p>If a collection is provided, whether its contents should
also be removed. If a collection is not empty and <code>recursive</code> is <code>FALSE</code>
, it cannot be deleted. Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="irm_+3A_catalog_only">catalog_only</code></td>
<td>
<p>Whether to remove only the catalog entry. Defaults to
<code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="irm_+3A_verbose">verbose</code></td>
<td>
<p>Whether information should be printed about the HTTP request
and response. Defaults to <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Invisibly the HTTP call.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+imkdir">imkdir()</a></code> for creating collections,
<code><a href="base.html#topic+file.remove">file.remove()</a></code> for an R equivalent.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
is_irods_demo_running()

# connect project to server
create_irods(&quot;http://localhost:9001/irods-http-api/0.2.0&quot;)

# authenticate
iauth("rods", "rods")

# some data
foo &lt;- data.frame(x = c(1, 8, 9), y = c("x", "y", "z"))

# store
isaveRDS(foo, "foo.rds")

# check if file is stored
ils()

# delete object
irm("foo.rds", force = TRUE)

# check if file is deleted
ils()


</code></pre>

<hr>
<h2 id='is_connected_irods'>Predicate for iRODS Connectivity</h2><span id='topic+is_connected_irods'></span>

<h3>Description</h3>

<p>A predicate to check whether you are currently connected to an iRODS server.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_connected_irods(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_connected_irods_+3A_...">...</code></td>
<td>
<p>Currently not implemented.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Boolean whether or not a connection to iRODS exists.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>is_connected_irods()
</code></pre>

<hr>
<h2 id='is_irods_demo_running'>Predicate for iRODS Demonstration Service State</h2><span id='topic+is_irods_demo_running'></span>

<h3>Description</h3>

<p>A predicate to check whether you are running iRODS docker demo containers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_irods_demo_running(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_irods_demo_running_+3A_...">...</code></td>
<td>
<p>Currently not implemented.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Boolean whether or not connected to iRODS
</p>


<h3>Examples</h3>

<pre><code class='language-R'>is_irods_demo_running()
</code></pre>

<hr>
<h2 id='print.irods_df'>Print Method for iRODS Data Frame Class.</h2><span id='topic+print.irods_df'></span>

<h3>Description</h3>

<p>Print Method for iRODS Data Frame Class.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'irods_df'
print(
  x,
  ...,
  digits = NULL,
  quote = FALSE,
  right = TRUE,
  row.names = FALSE,
  max = NULL,
  message = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.irods_df_+3A_x">x</code></td>
<td>
<p>An object of class <code>irods_df</code>.</p>
</td></tr>
<tr><td><code id="print.irods_df_+3A_...">...</code></td>
<td>
<p>optional arguments to <code>print</code> methods.</p>
</td></tr>
<tr><td><code id="print.irods_df_+3A_digits">digits</code></td>
<td>
<p>the minimum number of significant digits to be used: see
<code><a href="base.html#topic+print.default">print.default</a></code>.</p>
</td></tr>
<tr><td><code id="print.irods_df_+3A_quote">quote</code></td>
<td>
<p>logical, indicating whether or not entries should be
printed with surrounding quotes.</p>
</td></tr>
<tr><td><code id="print.irods_df_+3A_right">right</code></td>
<td>
<p>logical, indicating whether or not strings should be
right-aligned.  The default is right-alignment.</p>
</td></tr>
<tr><td><code id="print.irods_df_+3A_row.names">row.names</code></td>
<td>
<p>logical (or character vector), indicating whether (or
what) row names should be printed.</p>
</td></tr>
<tr><td><code id="print.irods_df_+3A_max">max</code></td>
<td>
<p>numeric or <code>NULL</code>, specifying the maximal number of
entries to be printed.  By default, when <code>NULL</code>,
<code><a href="base.html#topic+getOption">getOption</a>("max.print")</code> used.</p>
</td></tr>
<tr><td><code id="print.irods_df_+3A_message">message</code></td>
<td>
<p>Show message when empty collection. Default to <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Invisibly return the class <code>irods_df</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+print.data.frame">print.data.frame()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
is_irods_demo_running()

# connect project to server
create_irods(&quot;http://localhost:9001/irods-http-api/0.2.0&quot;)

# authenticate
iauth("rods", "rods")

# some data
foo &lt;- data.frame(x = c(1, 8, 9), y = c("x", "y", "z"))

# store data in iRODS
isaveRDS(foo, "foo.rds")

# add some metadata
imeta(
  "foo.rds",
  operations =
   data.frame(operation = "add", attribute = "foo", value = "bar",
     units = "baz")
)

# iRODS Zone with metadata
irods_zone &lt;- ils(metadata = TRUE)

# print (default no row.names)
print(irods_zone)

# with row.names
print(irods_zone, row.names = TRUE)

# delete object
irm("foo.rds", force = TRUE)


</code></pre>

<hr>
<h2 id='use_irods_demo'>Run Docker iRODS Demonstration Service</h2><span id='topic+use_irods_demo'></span><span id='topic+stop_irods_demo'></span>

<h3>Description</h3>

<p>Run an iRODS demonstration server with <code>use_irods_demo()</code> as a Docker
container instance. The function <code>stop_irods_demo()</code> stops the containers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>use_irods_demo(
  user = character(),
  pass = character(),
  recreate = FALSE,
  verbose = TRUE
)

stop_irods_demo(verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="use_irods_demo_+3A_user">user</code></td>
<td>
<p>Character vector for user name (defaults to &quot;rods&quot; admin)</p>
</td></tr>
<tr><td><code id="use_irods_demo_+3A_pass">pass</code></td>
<td>
<p>Character vector for password (defaults to &quot;rods&quot; admin password)</p>
</td></tr>
<tr><td><code id="use_irods_demo_+3A_recreate">recreate</code></td>
<td>
<p>Boolean to indicate whether to recreate (reboot) the iRODS
demo server (defaults to <code>FALSE</code>). Recreating will destroy all content on
the current instance.</p>
</td></tr>
<tr><td><code id="use_irods_demo_+3A_verbose">verbose</code></td>
<td>
<p>Verbosity (defaults to <code>TRUE</code>).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>These functions are untested on Windows and macOS and require:
</p>

<ul>
<li> <p><code>bash</code>
</p>
</li>
<li> <p><code>docker</code>
</p>
</li></ul>



<h3>Value</h3>

<p>Invisible
</p>


<h3>References</h3>

<p>https://github.com/irods/irods_demo
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
if (interactive()) {

  # launch docker irods_demo containers (and possibly download images) with
  # default credentials
  use_irods_demo()

  # same but then with "alice" as user and "PASSword" as password
  use_irods_demo("alice", "PASSword")

  # stop containers
  stop_irods_demo()
}

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

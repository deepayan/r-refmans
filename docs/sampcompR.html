<!DOCTYPE html><html lang="en"><head><title>Help for package sampcompR</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {sampcompR}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#biv_bias_per_variable'><p>Returns a table based on the information of a <code>biv_compare_object</code> that</p>
indicates the Average Absolute Bias (AARB) in Pearson's r or the Average Absolute
Relative Bias (AARB) in Pearson's r for every data frame It can be outputted as HTML or
LaTex Table, for example with the help of the stargazer
function.</a></li>
<li><a href='#biv_compare'><p>Compare Multiple Data Frames on a Bivariate Level</p></a></li>
<li><a href='#biv_compare_table'><p>Returns a table based on the information of a <code>biv_compare_object</code> which</p>
can be outputted as HTML or LaTex Table, for example with the help of the
stargazer function.</a></li>
<li><a href='#biv_per_variable'><p>Returns a table based on the information of a <code>biv_compare_object</code> that</p>
indicates the proportion of biased variables. It can be outputted as HTML or
LaTex Table, for example with the help of the stargazer
function.</a></li>
<li><a href='#card'><p>card</p></a></li>
<li><a href='#dataequalizer'><p>Equalize dataframes</p></a></li>
<li><a href='#descriptive_table'><p>Get a Descriptive Table for Every Data Frame</p></a></li>
<li><a href='#heatmap_biv_compare'><p>Plot Difference or Relative Difference in Pearson's r for Multiple Data Frames</p></a></li>
<li><a href='#missing_table'><p>Returns a Table indicating the number and proportion of NA values for a selected</p>
set of variables.</a></li>
<li><a href='#multi_compare'><p>Compares data frames using different regression methods.</p></a></li>
<li><a href='#multi_compare_merge'><p>Combine multi_compare_objects</p></a></li>
<li><a href='#multi_compare_table'><p>Create an Output-Table of a multi_compare_object</p></a></li>
<li><a href='#multi_per_variable'><p>Returns a table based on the information of a <code>multi_compare_object</code> that</p>
indicates the proportion of biased variables. It can be outputted as HTML or
LaTex Table, for example with the help of the stargazer
function.</a></li>
<li><a href='#plot_biv_compare'><p>Plot Comparison of Multiple Data Frames on a Bivariate Level</p></a></li>
<li><a href='#plot_multi_compare'><p>Plot Multiple multi_compare_objects</p></a></li>
<li><a href='#plot_uni_compare'><p>plot univar data</p></a></li>
<li><a href='#R_indicator'><p>Calculate the R-Indicator</p></a></li>
<li><a href='#sampcompR'><p>sampcompR: A package for the comparison of samples</p></a></li>
<li><a href='#uni_compare'><p>Compare data frames and Plot Differences</p></a></li>
<li><a href='#uni_compare_table'><p>Create an Output-Table of a uni_compare_object</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Comparing and Visualizing Differences Between Surveys</td>
</tr>
<tr>
<td>Version:</td>
<td>0.3.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Easily analyze and visualize differences between samples (e.g., benchmark comparisons, nonresponse comparisons in surveys) on three levels. The comparisons can be univariate, bivariate or multivariate. On univariate level the variables of interest of a survey and a comparison survey (i.e. benchmark) are compared, by calculating one of several difference measures (e.g., relative difference in mean), and an average difference between the surveys. On bivariate level a function can calculate significant differences in correlations for the surveys. And on multivariate levels a function can calculate significant differences in model coefficients between the surveys of comparison. All of those differences can be easily plotted and outputted as a table. For more  detailed information on the methods and example use see Rohr, B., Silber, H., &amp; Felderer, B. (2024). Comparing the Accuracy of Univariate, Bivariate, and Multivariate Estimates across Probability and Nonprobability Surveys with Population Benchmarks. Sociological Methodology &lt;<a href="https://doi.org/10.1177%2F00811750241280963">doi:10.1177/00811750241280963</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.1.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>boot, data.table, dplyr, forcats, furrr, future, ggplot2,
Hmisc, lmtest, magrittr, psych, purrr, readr, reshape2,
sandwich, stats, survey, svrep, tibble, tidyr, rlang</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0), jtools, utils, parallel, stargazer</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://bjoernrohr.github.io/sampcompR/">https://bjoernrohr.github.io/sampcompR/</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-03-02 16:56:21 UTC; rohrbn</td>
</tr>
<tr>
<td>Author:</td>
<td>Bjoern Rohr [aut, cre, cph],
  Barbara Felderer [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Bjoern Rohr &lt;bjoern.rohr@gesis.org&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-03-02 17:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='biv_bias_per_variable'>Returns a table based on the information of a <code>biv_compare_object</code> that
indicates the Average Absolute Bias (AARB) in Pearson's r or the Average Absolute
Relative Bias (AARB) in Pearson's r for every data frame It can be outputted as HTML or
LaTex Table, for example with the help of the <a href="stargazer.html#topic+stargazer">stargazer</a>
function.</h2><span id='topic+biv_bias_per_variable'></span>

<h3>Description</h3>

<p>Returns a table based on the information of a <code>biv_compare_object</code> that
indicates the Average Absolute Bias (AARB) in Pearson's r or the Average Absolute
Relative Bias (AARB) in Pearson's r for every data frame It can be outputted as HTML or
LaTex Table, for example with the help of the <a href="stargazer.html#topic+stargazer">stargazer</a>
function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>biv_bias_per_variable(
  biv_compare_object,
  type = "rel_diff",
  final_col = "difference",
  ndigits = 3,
  varlabels = NULL,
  label_df = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="biv_bias_per_variable_+3A_biv_compare_object">biv_compare_object</code></td>
<td>
<p>A object returned by the
<code><a href="#topic+biv_compare">biv_compare</a></code> function.</p>
</td></tr>
<tr><td><code id="biv_bias_per_variable_+3A_type">type</code></td>
<td>
<p>A character string, which is <code>"AAB"</code> if the Average Absolute
Bias per variable should be displayed in the table, or &quot;AARB&quot; if the Average Absolute
Relative Bias per Variable should be displayed in the table.</p>
</td></tr>
<tr><td><code id="biv_bias_per_variable_+3A_final_col">final_col</code></td>
<td>
<p>A character string, indicating if the last column of the table
should display an average bias per variable of over all data frames (<code>"average"</code>),
or the difference between the first and the average bias of the first and the last
data frame (<code>"difference"</code>).</p>
</td></tr>
<tr><td><code id="biv_bias_per_variable_+3A_ndigits">ndigits</code></td>
<td>
<p>Number of digits that is shown in the table.</p>
</td></tr>
<tr><td><code id="biv_bias_per_variable_+3A_varlabels">varlabels</code></td>
<td>
<p>A character vector containing labels for the variables.</p>
</td></tr>
<tr><td><code id="biv_bias_per_variable_+3A_label_df">label_df</code></td>
<td>
<p>A character vector containing labels for the data frames.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A matrix, that shows the Average Absolute Bias (AAB) or the Average
Absolute Relative Bias (AARB) for every individual variable.
This is given separately for every comparison data frame, as well as averaged
over comparisons, or as the difference between the first and the last comparison.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data("card")

north &lt;- card[card$south==0,]
white &lt;- card[card$black==0,]

## use the function to plot the data 
bivar_data&lt;-sampcompR::biv_compare(dfs = c("north","white"),
                                   benchmarks = c("card","card"),
                                   variables= c("age","educ","fatheduc","motheduc","wage","IQ"),
                                   data=TRUE)

table1&lt;-sampcompR::biv_bias_per_variable(bivar_data,type="rel_diff",
                                         final_col="average",ndigits=2)
noquote(table1)

table2&lt;-sampcompR::biv_bias_per_variable(bivar_data,type = "diff",
                                         final_col="difference",ndigits=2)
noquote(table2)

</code></pre>

<hr>
<h2 id='biv_compare'>Compare Multiple Data Frames on a Bivariate Level</h2><span id='topic+biv_compare'></span>

<h3>Description</h3>

<p>Compare multiple data frames on a bivariate level and plot them together.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>biv_compare(
  dfs,
  benchmarks,
  variables = NULL,
  corrtype = "r",
  data = TRUE,
  id = NULL,
  weight = NULL,
  strata = NULL,
  id_bench = NULL,
  weight_bench = NULL,
  strata_bench = NULL,
  p_value = NULL,
  p_adjust = NULL,
  varlabels = NULL,
  plot_title = NULL,
  plots_label = NULL,
  diff_perc = TRUE,
  diff_perc_size = 4.5,
  perc_diff_transparance = 0,
  note = FALSE,
  order = NULL,
  breaks = NULL,
  colors = NULL,
  mar = c(0, 0, 0, 0),
  grid = "white",
  gradient = FALSE,
  sum_weights = NULL,
  missings_x = TRUE,
  remove_nas = "pairwise",
  ncol_facet = 3,
  nboots = 0,
  boot_all = FALSE,
  parallel = FALSE,
  adjustment_weighting = "raking",
  adjustment_vars = NULL,
  raking_targets = NULL,
  post_targets = NULL,
  percentile_ci = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="biv_compare_+3A_dfs">dfs</code></td>
<td>
<p>A character vector containing the names of data frames to compare
against the <code>benchmarks</code>.</p>
</td></tr>
<tr><td><code id="biv_compare_+3A_benchmarks">benchmarks</code></td>
<td>
<p>A character vector containing the names of benchmarks to
compare the <code>dfs</code> against, or the names of a list. If it is a list, it
has to be of the form, as the output of <a href="Hmisc.html#topic+rcorr">rcorr</a>, with a
Pearson's r matrix in the first position, a n-matrix (matrix of n for every
correlation) in the second position and a p-matrix in the third position.
The vector must either be the same length as <code>dfs</code>, or length 1. If it
has length one every survey will be compared against the same benchmark.</p>
</td></tr>
<tr><td><code id="biv_compare_+3A_variables">variables</code></td>
<td>
<p>A character vector that containes the names of the variables for
the comparison. If it is <code>NULL</code>, all variables that are named similarly
in both the <code>dfs</code> and the benchmarks will be compared. Variables missing
in one of the <code>dfs</code> or the <code>benchmarks</code> will be neglected for this
comparison.</p>
</td></tr>
<tr><td><code id="biv_compare_+3A_corrtype">corrtype</code></td>
<td>
<p>A character string, indicating the type of the bivariate correlation.
It can either be &quot;r&quot; for Pearson's r or &quot;rho&quot; for Spearman's &quot;rho&quot;. At the moment,
rho is only applicable to unweighted data.</p>
</td></tr>
<tr><td><code id="biv_compare_+3A_data">data</code></td>
<td>
<p>If <code>TRUE</code>, a biv_compare object is returned, containing the results
of the comparison.</p>
</td></tr>
<tr><td><code id="biv_compare_+3A_strata">strata</code>, <code id="biv_compare_+3A_strata_bench">strata_bench</code></td>
<td>
<p>A character vector that determines strata variables
that are used to weigh the <code>dfs</code> or <code>benchmarks</code> with the help of
the <code>survey</code> package. It has to be part of the respective data frame.
If fewer characters strings are provided, than in <code>dfs</code>, the first input
is used to weigh every df or benchmark, where no input is provided.</p>
</td></tr>
<tr><td><code id="biv_compare_+3A_id_bench">id_bench</code>, <code id="biv_compare_+3A_id">id</code></td>
<td>
<p>A character vector determining id variables used to weigh
the <code>dfs</code> or <code>benchmarks</code> with the help of the <code>survey</code> package. They have
to be part of the respective data frame. If less characters strings are provided,
than in <code>dfs</code>, the first input is used to weigh every <code>df</code> or
<code>benchmark</code>, where no input is provided.</p>
</td></tr>
<tr><td><code id="biv_compare_+3A_weight_bench">weight_bench</code>, <code id="biv_compare_+3A_weight">weight</code></td>
<td>
<p>A character vector that determines variables to weigh
the <code>dfs</code> of <code>benchmarks</code>. They have to be part of the respective
data frame. If fewer characters strings are provided, than in <code>dfs</code>,
the first input is used to weigh every df or benchmark, where no input is
provided. If a weight variable is provided also an id variable is needed.
For weighting, the <code>survey</code> package is used.</p>
</td></tr>
<tr><td><code id="biv_compare_+3A_p_value">p_value</code></td>
<td>
<p>A number between zero and one to determine the maximum significance niveau.</p>
</td></tr>
<tr><td><code id="biv_compare_+3A_p_adjust">p_adjust</code></td>
<td>
<p>Can be either <code>TRUE</code> or a character string indicating an
adjustment method. If <code>p_adjust = TRUE</code> the p_values will be adjusted with the
Bonferroni adjustment method, by default, to account for the problem of
multiple comparisons. All adjustment methods available in
<code><a href="stats.html#topic+p.adjust">p.adjust</a></code> can be used here, with the same character strings.</p>
</td></tr>
<tr><td><code id="biv_compare_+3A_varlabels">varlabels</code></td>
<td>
<p>A character string or vector of character strings containing
the new names of variables that is used in the plot.</p>
</td></tr>
<tr><td><code id="biv_compare_+3A_plot_title">plot_title</code></td>
<td>
<p>A character string containing the title of the plot.</p>
</td></tr>
<tr><td><code id="biv_compare_+3A_plots_label">plots_label</code></td>
<td>
<p>A character string or vector of character strings
containing the new names of the data frames that are used in the plot.</p>
</td></tr>
<tr><td><code id="biv_compare_+3A_diff_perc">diff_perc</code></td>
<td>
<p>If <code>TRUE</code> a percental difference between surveys and benchmarks is
displayed in the plot.</p>
</td></tr>
<tr><td><code id="biv_compare_+3A_diff_perc_size">diff_perc_size</code></td>
<td>
<p>A number to determine the size of the displayed percental
difference between surveys in the plot.</p>
</td></tr>
<tr><td><code id="biv_compare_+3A_perc_diff_transparance">perc_diff_transparance</code></td>
<td>
<p>A number to determine the transparency of the displayed
percental difference between surveys in the plot.</p>
</td></tr>
<tr><td><code id="biv_compare_+3A_note">note</code></td>
<td>
<p>If <code>note = TRUE</code>, a note will be displayed to describe the plot.</p>
</td></tr>
<tr><td><code id="biv_compare_+3A_order">order</code></td>
<td>
<p>A character vector to determine in which order the variables should be
displayed in the plot.</p>
</td></tr>
<tr><td><code id="biv_compare_+3A_breaks">breaks</code></td>
<td>
<p>A vector to label the color scheme in the legend.</p>
</td></tr>
<tr><td><code id="biv_compare_+3A_colors">colors</code></td>
<td>
<p>A vector to determine the colors in the plot.</p>
</td></tr>
<tr><td><code id="biv_compare_+3A_mar">mar</code></td>
<td>
<p>A vector that determines the margins of the plot.</p>
</td></tr>
<tr><td><code id="biv_compare_+3A_grid">grid</code></td>
<td>
<p>A color string, that determines the color of the lines between
the tiles of the heatmap.</p>
</td></tr>
<tr><td><code id="biv_compare_+3A_gradient">gradient</code></td>
<td>
<p>If <code>gradient = TRUE</code>, colors in the heatmap will be more
or less transparent, depending on the difference in Pearson's r of the data
frames of comparison.</p>
</td></tr>
<tr><td><code id="biv_compare_+3A_sum_weights">sum_weights</code></td>
<td>
<p>A vector containing information for every variable to
weigh them in the displayed percental-difference calculation. It can be used
if some variables are over- or underrepresented in the analysis.</p>
</td></tr>
<tr><td><code id="biv_compare_+3A_missings_x">missings_x</code></td>
<td>
<p>If <code>TRUE</code>, missing pairs in the plot will be marked with an X.</p>
</td></tr>
<tr><td><code id="biv_compare_+3A_remove_nas">remove_nas</code></td>
<td>
<p>A character string, that indicates how missing values should be
removed, can either be <code>"all"</code>, to remove all cases that contain NA in any
of the variables, or <code>"pairwise"</code>, to remove NAs separately for every variable
pair when calculating Pearson's r.</p>
</td></tr>
<tr><td><code id="biv_compare_+3A_ncol_facet">ncol_facet</code></td>
<td>
<p>The number of columns used in faced_wrap() for the plots.</p>
</td></tr>
<tr><td><code id="biv_compare_+3A_nboots">nboots</code></td>
<td>
<p>A numeric value indicating the number of bootstrap replications.
If <code>nboots = 0</code> no bootstrapping will be performed. Else <code>nboots</code>
must be &gt;2. Note, that bootstrapping can be very computationally heavy and can
therefore take a while.</p>
</td></tr>
<tr><td><code id="biv_compare_+3A_boot_all">boot_all</code></td>
<td>
<p>If TURE, both, dfs and benchmarks will be bootstrapped. Otherwise
the benchmark estimate is assumed to be constant.</p>
</td></tr>
<tr><td><code id="biv_compare_+3A_parallel">parallel</code></td>
<td>
<p>Can be either <code>FALSE</code> or a number of cores that should
be used in the function. If it is <code>FALSE</code>, only one core will be used and
otherwise the given number of cores will be used.</p>
</td></tr>
<tr><td><code id="biv_compare_+3A_adjustment_weighting">adjustment_weighting</code></td>
<td>
<p>A character vector indicating if adjustment
weighting should be used. It can either be <code>"raking"</code> or <code>"post_start"</code>.</p>
</td></tr>
<tr><td><code id="biv_compare_+3A_adjustment_vars">adjustment_vars</code></td>
<td>
<p>Variables used to adjust the survey when using raking
or post-stratification.</p>
</td></tr>
<tr><td><code id="biv_compare_+3A_raking_targets">raking_targets</code></td>
<td>
<p>A list of raking targets that can be given to the rake
function of <code><a href="survey.html#topic+rake">rake</a></code>, to rake the <code>dfs</code>.</p>
</td></tr>
<tr><td><code id="biv_compare_+3A_post_targets">post_targets</code></td>
<td>
<p>A list of post_stratification targets that can be given to
the <code><a href="survey.html#topic+postStratify">postStratify</a></code> function, to post-stratify the <code>dfs</code>.</p>
</td></tr>
<tr><td><code id="biv_compare_+3A_percentile_ci">percentile_ci</code></td>
<td>
<p>If TURE, cofidence intervals will be calculated using the percentile method.
If False, they will be calculated using the normal method.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The plot shows a heatmap of a correlation matrix, where the colors are determined by
the similarity of the Pearson's r values in both sets of respondents. Leaving
default breaks and colors,
</p>

<ul>
<li> <p><code>Same</code> (green) indicates, that the Pearson's r correlation is not significant &gt; 0 in
the related data frame or benchmark or the Pearson's r correlations are not significantly
different, between data frame and benchmark.
</p>
</li>
<li> <p><code>Small Diff</code> (yellow) indicates that the Pearson's r
correlation is significant &gt; 0 in the related data frame or benchmark and the Pearson's r
correlations are significantly different, between data frame and benchmark.
</p>
</li>
<li> <p><code>Large Diff</code> (red) indicates, that the same conditions of yellow are fulfilled, and
the correlations are either in opposite directions,or one is double the size of the other.
</p>
</li></ul>



<h3>Value</h3>

<p>A object generated with the help of <code><a href="ggplot2.html#topic+ggplot2-package">ggplot2::ggplot2()</a></code> visualizes
the differences between the data frames and benchmarks. If <code>data = TRUE</code>
instead of the plot a list will be returned containing information of the
analyses. This <code>biv_compare</code> object can be used in
<code>plot_biv_compare</code> to build a plot, or in <code>biv_compare_table</code>,
to get a table.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Get Data for comparison

data("card")

north &lt;- card[card$south==0,]
white &lt;- card[card$black==0,]

## use the function to plot the data 
bivar_comp&lt;-sampcompR::biv_compare(dfs = c("north","white"),
                                   benchmarks = c("card","card"),
                                   variables= c("age","educ","fatheduc","motheduc","wage","IQ"),
                                   data=FALSE)
bivar_comp


</code></pre>

<hr>
<h2 id='biv_compare_table'>Returns a table based on the information of a <code>biv_compare_object</code> which
can be outputted as HTML or LaTex Table, for example with the help of the
<a href="stargazer.html#topic+stargazer">stargazer</a> function.</h2><span id='topic+biv_compare_table'></span>

<h3>Description</h3>

<p>Returns a table based on the information of a <code>biv_compare_object</code> which
can be outputted as HTML or LaTex Table, for example with the help of the
<a href="stargazer.html#topic+stargazer">stargazer</a> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>biv_compare_table(
  biv_compare_object,
  type = "diff",
  comparison_number = 1,
  ndigits = 2
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="biv_compare_table_+3A_biv_compare_object">biv_compare_object</code></td>
<td>
<p>A object returned by the
<code><a href="#topic+biv_compare">biv_compare</a></code> function.</p>
</td></tr>
<tr><td><code id="biv_compare_table_+3A_type">type</code></td>
<td>
<p>A character string, to choose what matrix should be printed.
</p>

<ul>
<li><p> If &quot;dfs&quot;, a correlation matrix of all variables of comparison in the chosen
dataframe will be returned.
</p>
</li>
<li><p> If &quot;benchmarks&quot;, a correlation matrix of all variables of comparison in
the chosen benchmark will be returned.
</p>
</li>
<li><p> if &quot;diff&quot;, a matrix indicating the difference between the chosen
dataframe and benchmark will be returned.
</p>
</li></ul>
</td></tr>
<tr><td><code id="biv_compare_table_+3A_comparison_number">comparison_number</code></td>
<td>
<p>A number indicating the data of which data frame,
benchmark or comparison should be displayed.
The maximum length is equal to the length of the <code>dfs vector</code> that is
used to generate the <code>biv_compare_object</code>.</p>
</td></tr>
<tr><td><code id="biv_compare_table_+3A_ndigits">ndigits</code></td>
<td>
<p>Number of digits shown in the table.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A correlation matrix, or difference matrix based on information of a <code>biv_compare_object</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Get Data for comparison

data("card")

north &lt;- card[card$south==0,]
white &lt;- card[card$black==0,]

## use the function to plot the data 
bivar_data&lt;-sampcompR::biv_compare(dfs = c("north","white"),
                                   benchmarks = c("card","card"),
                                   variables= c("age","educ","fatheduc","motheduc","wage","IQ"),
                                   data=TRUE)
                        
table&lt;-sampcompR::biv_compare_table(bivar_data, type="diff", comparison_number=1)
noquote(table)


</code></pre>

<hr>
<h2 id='biv_per_variable'>Returns a table based on the information of a <code>biv_compare_object</code> that
indicates the proportion of biased variables. It can be outputted as HTML or
LaTex Table, for example with the help of the <a href="stargazer.html#topic+stargazer">stargazer</a>
function.</h2><span id='topic+biv_per_variable'></span>

<h3>Description</h3>

<p>Returns a table based on the information of a <code>biv_compare_object</code> that
indicates the proportion of biased variables. It can be outputted as HTML or
LaTex Table, for example with the help of the <a href="stargazer.html#topic+stargazer">stargazer</a>
function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>biv_per_variable(
  biv_compare_object,
  ndigits = 1,
  varlabels = NULL,
  label_df = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="biv_per_variable_+3A_biv_compare_object">biv_compare_object</code></td>
<td>
<p>A object returned by the
<code><a href="#topic+biv_compare">biv_compare</a></code> function.</p>
</td></tr>
<tr><td><code id="biv_per_variable_+3A_ndigits">ndigits</code></td>
<td>
<p>Number of digits that is shown in the table.</p>
</td></tr>
<tr><td><code id="biv_per_variable_+3A_varlabels">varlabels</code></td>
<td>
<p>A character vector containing labels for the variables.</p>
</td></tr>
<tr><td><code id="biv_per_variable_+3A_label_df">label_df</code></td>
<td>
<p>A character vector containing labels for the data frames.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A matrix, that indicates the proportion of bias for every individual
variable. This is given separately for every comparison, as well as averaged
over comparisons.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data("card")

north &lt;- card[card$south==0,]
white &lt;- card[card$black==0,]

## use the function to plot the data 
bivar_data&lt;-sampcompR::biv_compare(dfs = c("north","white"),
                                   benchmarks = c("card","card"),
                                   variables= c("age","educ","fatheduc","motheduc","wage","IQ"),
                                   data=TRUE)

table&lt;-sampcompR::biv_per_variable(bivar_data)
noquote(table)

</code></pre>

<hr>
<h2 id='card'>card</h2><span id='topic+card'></span>

<h3>Description</h3>

<p>This data, which originates from D. Card (1995) was released in the Wooldridge R-Package. Sadly the wooldridge package (Shea 2023) was archived on CRAN on the 3rd of December 2024.
As we use it, e.g., in our examples to show how our package works, we also added it to our package, so we can further use it. Further we cite the original description of the wooldrigde package.
Wooldridge Source: D. Card (1995), Using Geographic Variation in College Proximity to Estimate the Return to Schooling, in Aspects of Labour Market Behavior: Essays in Honour of John Vanderkamp. Ed. L.N. Christophides, E.K. Grant, and R. Swidinsky, 201-222. Toronto: University of Toronto Press. Professor Card kindly provided these data. Data loads lazily.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data('card')
</code></pre>


<h3>Format</h3>

<p>A data.frame with 3010 observations on 34 variables:
</p>

<ul>
<li> <p><strong>id:</strong> person identifier
</p>
</li>
<li> <p><strong>nearc2:</strong> =1 if near 2 yr college, 1966
</p>
</li>
<li> <p><strong>nearc4:</strong> =1 if near 4 yr college, 1966
</p>
</li>
<li> <p><strong>educ:</strong> years of schooling, 1976
</p>
</li>
<li> <p><strong>age:</strong> in years
</p>
</li>
<li> <p><strong>fatheduc:</strong> father's schooling
</p>
</li>
<li> <p><strong>motheduc:</strong> mother's schooling
</p>
</li>
<li> <p><strong>weight:</strong> NLS sampling weight, 1976
</p>
</li>
<li> <p><strong>momdad14:</strong> =1 if live with mom, dad at 14
</p>
</li>
<li> <p><strong>sinmom14:</strong> =1 if with single mom at 14
</p>
</li>
<li> <p><strong>step14:</strong> =1 if with step parent at 14
</p>
</li>
<li> <p><strong>reg661:</strong> =1 for region 1, 1966
</p>
</li>
<li> <p><strong>reg662:</strong> =1 for region 2, 1966
</p>
</li>
<li> <p><strong>reg663:</strong> =1 for region 3, 1966
</p>
</li>
<li> <p><strong>reg664:</strong> =1 for region 4, 1966
</p>
</li>
<li> <p><strong>reg665:</strong> =1 for region 5, 1966
</p>
</li>
<li> <p><strong>reg666:</strong> =1 for region 6, 1966
</p>
</li>
<li> <p><strong>reg667:</strong> =1 for region 7, 1966
</p>
</li>
<li> <p><strong>reg668:</strong> =1 for region 8, 1966
</p>
</li>
<li> <p><strong>reg669:</strong> =1 for region 9, 1966
</p>
</li>
<li> <p><strong>south66:</strong> =1 if in south in 1966
</p>
</li>
<li> <p><strong>black:</strong> =1 if black
</p>
</li>
<li> <p><strong>smsa:</strong> =1 in in SMSA, 1976
</p>
</li>
<li> <p><strong>south:</strong> =1 if in south, 1976
</p>
</li>
<li> <p><strong>smsa66:</strong> =1 if in SMSA, 1966
</p>
</li>
<li> <p><strong>wage:</strong> hourly wage in cents, 1976
</p>
</li>
<li> <p><strong>enroll:</strong> =1 if enrolled in school, 1976
</p>
</li>
<li> <p><strong>KWW:</strong> knowledge world of work score
</p>
</li>
<li> <p><strong>IQ:</strong> IQ score
</p>
</li>
<li> <p><strong>married:</strong> =1 if married, 1976
</p>
</li>
<li> <p><strong>libcrd14:</strong> =1 if lib. card in home at 14
</p>
</li>
<li> <p><strong>exper:</strong> age - educ - 6
</p>
</li>
<li> <p><strong>lwage:</strong> log(wage)
</p>
</li>
<li> <p><strong>expersq:</strong> exper^2
</p>
</li></ul>



<h3>Notes</h3>

<p>Computer Exercise C15.3 is important for analyzing these data. There, it is shown that the instrumental variable, <code>nearc4</code>, is actually correlated with <code>IQ</code>, at least for the subset of men for which an IQ score is reported. However, the correlation between <code style="white-space: pre;">&#8288;nearc4`` and &#8288;</code>IQ<code style="white-space: pre;">&#8288;, once the other explanatory variables are netted out, is arguably zero. At least, it is not statistically different from zero. In other words, &#8288;</code>nearc4&lsquo; fails the exogeneity requirement in a simple regression model but it passes, at least using the crude test described above, if controls are added to the wage equation. For a more advanced course, a nice extension of Card&rsquo;s analysis is to allow the return to education to differ by race. A relatively simple extension is to include black education (blackeduc) as an additional explanatory variable; its natural instrument is blacknearc4.
</p>
<p>Used in Text: pages 526-527, 547
</p>


<h3>Source</h3>

<p><a href="https://www.cengage.com/cgi-wadsworth/course_products_wp.pl?fid=M20b&amp;product_isbn_issn=9781111531041">https://www.cengage.com/cgi-wadsworth/course_products_wp.pl?fid=M20b&amp;product_isbn_issn=9781111531041</a>
</p>


<h3>References</h3>

<p>Shea J (2023). <em>wooldridge: 115 Data Sets from &quot;Introductory Econometrics: A Modern Approach, 7e&quot; by Jeffrey M. Wooldridge</em>. R package version 1.4-3, <a href="https://CRAN.R-project.org/package=wooldridge">https://CRAN.R-project.org/package=wooldridge</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'> data("card")
str(card)
</code></pre>

<hr>
<h2 id='dataequalizer'>Equalize dataframes</h2><span id='topic+dataequalizer'></span>

<h3>Description</h3>

<p><code>dataequalizer</code> compares two data frames and looks if both data frames contain columns
with the same Name. A copy of source_df is returned, containing only columns named identical
in target_df and source_df data frames. The function is mainly used in the other functions of the package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dataequalizer(target_df, source_df, variables = NULL, silence = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dataequalizer_+3A_target_df">target_df</code></td>
<td>
<p>A data frame</p>
</td></tr>
<tr><td><code id="dataequalizer_+3A_source_df">source_df</code></td>
<td>
<p>A data frame containing some column-names named equally in target_df</p>
</td></tr>
<tr><td><code id="dataequalizer_+3A_variables">variables</code></td>
<td>
<p>A vector to indicate variable names that should be in the copy of the source_df
if they are also in the target_df.</p>
</td></tr>
<tr><td><code id="dataequalizer_+3A_silence">silence</code></td>
<td>
<p>A logic value. If FALSE, warnings will be returned indicating, what variables where removed,
from the survey.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a copy of source_df containing only variables with names contained
also in the target_df data frame.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Get Data to equalize 
data("card")

##reduce data frame
card2&lt;-card[c("id","age","educ","fatheduc","motheduc","IQ","wage")]

card_equalized&lt;-sampcompR::dataequalizer(card2,card,variables=c("age","educ","IQ","wage"))
card_equalized[1:20,]

</code></pre>

<hr>
<h2 id='descriptive_table'>Get a Descriptive Table for Every Data Frame</h2><span id='topic+descriptive_table'></span>

<h3>Description</h3>

<p>Get a Descriptive Table for every Data Frame, to easy document your Data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>descriptive_table(
  dfs,
  variables,
  varlabels = NULL,
  weight = NULL,
  strata = NULL,
  id = NULL,
  value = "mean",
  digits = 3
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="descriptive_table_+3A_dfs">dfs</code></td>
<td>
<p>A character vector, containing the names of the data frames.</p>
</td></tr>
<tr><td><code id="descriptive_table_+3A_variables">variables</code></td>
<td>
<p>A character vector containing the variables in the data frame
that should be described.</p>
</td></tr>
<tr><td><code id="descriptive_table_+3A_varlabels">varlabels</code></td>
<td>
<p>A character vector containing the Labels for every variable in variables.</p>
</td></tr>
<tr><td><code id="descriptive_table_+3A_weight">weight</code></td>
<td>
<p>A character vector, containing either the name of a weight in the
respective data frame, or NA, if no weighting should be performed for this data frame.</p>
</td></tr>
<tr><td><code id="descriptive_table_+3A_strata">strata</code></td>
<td>
<p>A character vector, containing either the name of a strata in the
respective data frame, or NA, if no strata  should be used when weighting this
data frame.</p>
</td></tr>
<tr><td><code id="descriptive_table_+3A_id">id</code></td>
<td>
<p>A character vector, containing either the name of a id in the
respective data frame, or NA, if every row is unique for this data frame.</p>
</td></tr>
<tr><td><code id="descriptive_table_+3A_value">value</code></td>
<td>
<p>A character vector indicating what descriptive value should be displayed
for the data frame. It can either be &quot;mean&quot;, &quot;percent&quot;, &quot;total&quot;, or &quot;total_percent&quot;.</p>
</td></tr>
<tr><td><code id="descriptive_table_+3A_digits">digits</code></td>
<td>
<p>A numeric value indicating the number of digits that the Descriptive table
should be rounded to.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a matrix of Descriptive information. Output depends on value.
</p>

<hr>
<h2 id='heatmap_biv_compare'>Plot Difference or Relative Difference in Pearson's r for Multiple Data Frames</h2><span id='topic+heatmap_biv_compare'></span>

<h3>Description</h3>

<p>Plot a object generated by <a href="#topic+biv_compare">biv_compare</a> function as a heatmap.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>heatmap_biv_compare(
  biv_data_object,
  value = "AAB",
  summet_transparance = 0,
  summetric = TRUE,
  summet_size = 4.5,
  ndigits_summet = 3,
  upper_limit = NULL,
  lower_limit = NULL,
  corr_size = 3,
  ndigits_number = 2,
  varlabels = NULL,
  plots_label = NULL,
  grid = "white",
  colors = c("#8ECCEE", "#1F45F9"),
  number_color = "white",
  ncol_facet = 3,
  legend_title = NULL,
  interest_breaks = NULL,
  interest_labels = NULL,
  plot_title = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="heatmap_biv_compare_+3A_biv_data_object">biv_data_object</code></td>
<td>
<p>A object generated by the <a href="#topic+biv_compare">biv_compare</a> function.</p>
</td></tr>
<tr><td><code id="heatmap_biv_compare_+3A_value">value</code></td>
<td>
<p>A character string which is either <code>"AAB"</code> or  <code>"AARB"</code>.
AAB means that the Absolute Difference in Pearson's r estimates between dfs
and the benchmarks should be displayed in the tiles by number and color. AARB
means that the Absolute Relative Difference should be displayed instead.</p>
</td></tr>
<tr><td><code id="heatmap_biv_compare_+3A_summet_transparance">summet_transparance</code></td>
<td>
<p>A number to determine the transparency of the
displayed <code>summetric</code>.</p>
</td></tr>
<tr><td><code id="heatmap_biv_compare_+3A_summetric">summetric</code></td>
<td>
<p>If <code>TRUE</code> Average Absolute Difference (AAB) and the
Average Absolute Relative Difference (AARB) of Pearson's r values between the
<code>dfs</code> and the <code>benchmarks</code> is displayed in the plot.</p>
</td></tr>
<tr><td><code id="heatmap_biv_compare_+3A_summet_size">summet_size</code></td>
<td>
<p>A number to determine the size of the displayed
<code>summetric</code> in the plot.</p>
</td></tr>
<tr><td><code id="heatmap_biv_compare_+3A_ndigits_summet">ndigits_summet</code></td>
<td>
<p>The maximum number of digits for numbers displayed in the summertic of the plot.</p>
</td></tr>
<tr><td><code id="heatmap_biv_compare_+3A_upper_limit">upper_limit</code>, <code id="heatmap_biv_compare_+3A_lower_limit">lower_limit</code></td>
<td>
<p>A numeric value, indicating the highest or lowest
value that should be displayed in the tiles by number and color. This does
not affect the <code>summetric</code>. However, it can be used to keep differences
between values visible in the heatmap, even in the presence of strong ouliers.</p>
</td></tr>
<tr><td><code id="heatmap_biv_compare_+3A_corr_size">corr_size</code></td>
<td>
<p>The font size of correlation numbers displayed in the tiles of the heatmap.</p>
</td></tr>
<tr><td><code id="heatmap_biv_compare_+3A_ndigits_number">ndigits_number</code></td>
<td>
<p>The maximum digits of numbers displyed in the tiles of the
heatmap.</p>
</td></tr>
<tr><td><code id="heatmap_biv_compare_+3A_varlabels">varlabels</code></td>
<td>
<p>A character string or vector of character strings containing
the new labels of variables that are used in the plot.</p>
</td></tr>
<tr><td><code id="heatmap_biv_compare_+3A_plots_label">plots_label</code></td>
<td>
<p>A character string or vector of character strings
containing the new labels of the data frames that are used in the plot.</p>
</td></tr>
<tr><td><code id="heatmap_biv_compare_+3A_grid">grid</code></td>
<td>
<p>A character string, that determines the color of the lines
between the tiles of the heatmap.</p>
</td></tr>
<tr><td><code id="heatmap_biv_compare_+3A_colors">colors</code></td>
<td>
<p>A vector of two colors used in the heatmap.</p>
</td></tr>
<tr><td><code id="heatmap_biv_compare_+3A_number_color">number_color</code></td>
<td>
<p>A character string indicating the color of the numbers,
displayed in the tiles.</p>
</td></tr>
<tr><td><code id="heatmap_biv_compare_+3A_ncol_facet">ncol_facet</code></td>
<td>
<p>Number of columns used in faced_wrap() for the plots.</p>
</td></tr>
<tr><td><code id="heatmap_biv_compare_+3A_legend_title">legend_title</code></td>
<td>
<p>A character string indicating the title of the legend of the plot.</p>
</td></tr>
<tr><td><code id="heatmap_biv_compare_+3A_interest_breaks">interest_breaks</code></td>
<td>
<p>A numeric vector indicating the breaks for the color scheme
displayed in the legend of the heatmap.</p>
</td></tr>
<tr><td><code id="heatmap_biv_compare_+3A_interest_labels">interest_labels</code></td>
<td>
<p>A character vector indicating the labels for the breaks
displayed in the legend of the heatmap.</p>
</td></tr>
<tr><td><code id="heatmap_biv_compare_+3A_plot_title">plot_title</code></td>
<td>
<p>A character string containing the title of the plot.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The plot shows a heatmap of a correlation matrix, where the colors are determined by
the Absolue Difference or the Absolute Relative Difference in Pearson's r estimates
between the data frames and the benchmarks.
</p>


<h3>Value</h3>

<p>A object generated with the help of <code><a href="ggplot2.html#topic+ggplot2-package">ggplot2::ggplot2()</a></code>, used to visualize
a heatmap of the bivariate differences between the data frames and benchmarks.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Get Data for comparison

data("card")

north &lt;- card[card$south==0,]
white &lt;- card[card$black==0,]

## use the function to plot the data 
bivar_data&lt;-sampcompR::biv_compare(dfs = c("north","white"),
                                   benchmarks = c("card","card"),
                                   variables= c("age","educ","fatheduc","motheduc","wage","IQ"),
                                   data=TRUE)

Absolute_Bias_Plot&lt;-sampcompR::heatmap_biv_compare(bivar_data,value = "AAB")
Absolute_Bias_Plot

Absolute_Relative_Bias_Plot&lt;-sampcompR::heatmap_biv_compare(bivar_data,value = "AARB")
Absolute_Relative_Bias_Plot


</code></pre>

<hr>
<h2 id='missing_table'>Returns a Table indicating the number and proportion of NA values for a selected
set of variables.</h2><span id='topic+missing_table'></span>

<h3>Description</h3>

<p>Returns a Table indicating the number and proportion of NA values for a selected
set of variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>missing_table(dfs, variables, df_names = NULL, varlabels = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="missing_table_+3A_dfs">dfs</code></td>
<td>
<p>A character vector with names of data frames for which the
missings per variable should be displayed.</p>
</td></tr>
<tr><td><code id="missing_table_+3A_variables">variables</code></td>
<td>
<p>A character vector of variable names for which the missings
should be displyed.</p>
</td></tr>
<tr><td><code id="missing_table_+3A_df_names">df_names</code></td>
<td>
<p>Either Null or a character vector of names, to relabel the
data frames in the table with.</p>
</td></tr>
<tr><td><code id="missing_table_+3A_varlabels">varlabels</code></td>
<td>
<p>Either Null, or a character vector of variable names, to
relabel the variables in the table with.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a Table indicating the number and proportion of NA values for
a selected set of variables. This can be used to get an overview of the data,
detect errors after data rangeling, or find items in a survey, with especially,
high item nonresponse.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Get Data for comparison

data("card")

north &lt;- card[card$south==0,]
white &lt;- card[card$black==0,]

variables&lt;- c("age","educ","fatheduc","motheduc","wage","IQ")
varlabels&lt;-c("Age","Education","Father's Education",
             "Mother's Education","Wage","IQ")

missing_tab&lt;-sampcompR::missing_table(dfs = c("north","white"),
                                      variables=variables,
                                      df_names = c("North","White"),
                                      varlabels=varlabels)

missing_tab



</code></pre>

<hr>
<h2 id='multi_compare'>Compares data frames using different regression methods.</h2><span id='topic+multi_compare'></span>

<h3>Description</h3>

<p><code>multi_compare</code> compares data frames using regression models based on
differing methods. All <code><a href="stats.html#topic+glm">glm</a></code> Models can be compared.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>multi_compare(
  df,
  benchmark,
  independent = NULL,
  dependent = NULL,
  formula_list = NULL,
  family = "ols",
  rm_na = "pairwise",
  out_output_list = TRUE,
  out_df = FALSE,
  out_models = FALSE,
  print_p = FALSE,
  print_se = FALSE,
  weight = NULL,
  id = NULL,
  strata = NULL,
  nest = FALSE,
  weight_bench = NULL,
  id_bench = NULL,
  strata_bench = NULL,
  nest_bench = FALSE,
  robust_se = FALSE,
  p_adjust = NULL,
  names_df_benchmark = NULL,
  silence_summary = FALSE,
  nboots = 0,
  boot_all = FALSE,
  parallel = FALSE,
  adjustment_vars = NULL,
  raking_targets = NULL,
  post_targets = NULL,
  percentile_ci = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="multi_compare_+3A_df">df</code>, <code id="multi_compare_+3A_benchmark">benchmark</code></td>
<td>
<p>A data frame containing the set of respondents or
benchmark set of respondents to compare, or a character string containing the
name of the set of respondents or benchmark set of respondents. All independent
and dependent variables must be inside both data frames.</p>
</td></tr>
<tr><td><code id="multi_compare_+3A_independent">independent</code></td>
<td>
<p>A list of strings containing the independent variables (x)
for comparison. Every independent variable will be used in every model to
estimate the dependent variable (y). When a <code>formula_list</code> is provided,
<code>independent</code> will be ignored.</p>
</td></tr>
<tr><td><code id="multi_compare_+3A_dependent">dependent</code></td>
<td>
<p>A list of strings containing the dependent variables (y) for
comparison. One model will be computed for every dependent variable (y)
provided. When a <code>formula_list</code> is provided, <code>dependent</code> will be
ignored.</p>
</td></tr>
<tr><td><code id="multi_compare_+3A_formula_list">formula_list</code></td>
<td>
<p>A list of formulas to use in the regression models. If
given, <code>dependent</code> and <code>independent</code> parameters will be ignored.</p>
</td></tr>
<tr><td><code id="multi_compare_+3A_family">family</code></td>
<td>
<p>A family input, that can be given to <code><a href="stats.html#topic+glm">glm</a></code> or
<code><a href="survey.html#topic+svyglm">svyglm</a></code>. Additionally, if &quot;ols&quot; is given,
<code>gaussian(link = "identity")</code>, and if &quot;logit&quot; is given,
<code>binomial(link = "logit")</code> is used.</p>
</td></tr>
<tr><td><code id="multi_compare_+3A_rm_na">rm_na</code></td>
<td>
<p>A character to determine how to handle missing values.  For this two
options are  supported. If <code>rm_na = "pairwise"</code> NAs will be removed
separately for every model. Only cases containing NA on one of the variables used
in the respective model will be removed (all independent variables but only
the respective dependent variable). If <code>rm_na = "listwise"</code> all cases containing NA
on one of the dependent or independent variables are removed.</p>
</td></tr>
<tr><td><code id="multi_compare_+3A_out_output_list">out_output_list</code></td>
<td>
<p>A logical value. If <code>out_output_list = TRUE</code>, a
list will be returned, containing the separate interaction models calculated
with the <code><a href="stats.html#topic+glm">glm</a></code> function or <code><a href="survey.html#topic+svyglm">svyglm</a></code>
in case of weighting, as well as a summary object for every model.
Standard errors and p-values of these models are always calculated without
robustness methods.</p>
</td></tr>
<tr><td><code id="multi_compare_+3A_out_df">out_df</code></td>
<td>
<p>If <code>TRUE</code>, the used data frames will also be part of the output list.</p>
</td></tr>
<tr><td><code id="multi_compare_+3A_out_models">out_models</code></td>
<td>
<p>If True, GLM model objects will be part of the returned object.</p>
</td></tr>
<tr><td><code id="multi_compare_+3A_print_p">print_p</code></td>
<td>
<p>If <code>TRUE</code>, in addition to the difference in Average Discrete Change (ADC),
p-values will be printed.</p>
</td></tr>
<tr><td><code id="multi_compare_+3A_print_se">print_se</code></td>
<td>
<p>If <code>TRUE</code>, additionally standard errors will be printed.</p>
</td></tr>
<tr><td><code id="multi_compare_+3A_weight">weight</code>, <code id="multi_compare_+3A_weight_bench">weight_bench</code></td>
<td>
<p>A character vector containing the name of the weight
variable in the respective data frame. If provided the data frame will be weighted
using the <code><a href="survey.html#topic+svydesign">svydesign</a></code> function. Also <code>id</code> must be provided.</p>
</td></tr>
<tr><td><code id="multi_compare_+3A_id">id</code>, <code id="multi_compare_+3A_id_bench">id_bench</code></td>
<td>
<p>A character vector containing the name of the id variable in the respectiv
data frame. Only needed for weighting.</p>
</td></tr>
<tr><td><code id="multi_compare_+3A_strata">strata</code>, <code id="multi_compare_+3A_strata_bench">strata_bench</code></td>
<td>
<p>A character vector containing the name of the strata variable
in the respective data frame. It is used in the <code><a href="survey.html#topic+svydesign">svydesign</a></code>
function for weighting.</p>
</td></tr>
<tr><td><code id="multi_compare_+3A_nest">nest</code>, <code id="multi_compare_+3A_nest_bench">nest_bench</code></td>
<td>
<p>A logical vector that is used in the <code><a href="survey.html#topic+svydesign">svydesign</a></code>
function for the respective data frame.</p>
</td></tr>
<tr><td><code id="multi_compare_+3A_robust_se">robust_se</code></td>
<td>
<p>A logical value If <code>TRUE</code> instead of normal standard errors,
heteroscedasticity-consistent standard errors will be used in the analysis to
calculate them the <code><a href="sandwich.html#topic+vcovHC">vcovHC</a></code> and <code><a href="lmtest.html#topic+coeftest">coeftest</a></code>
packages are used.</p>
</td></tr>
<tr><td><code id="multi_compare_+3A_p_adjust">p_adjust</code></td>
<td>
<p>A logical input or character string indicating an adjustment
method usable in the <code>method</code> parameter of <code><a href="stats.html#topic+p.adjust">p.adjust</a></code>.
If set to TRUE the Bonferroni adjusted p-values are used in inference.</p>
</td></tr>
<tr><td><code id="multi_compare_+3A_names_df_benchmark">names_df_benchmark</code></td>
<td>
<p>A vector containing first the name of <code>df</code> and benchmark.</p>
</td></tr>
<tr><td><code id="multi_compare_+3A_silence_summary">silence_summary</code></td>
<td>
<p>A logical value, to indicate if the
printed summary should not be printed instead.</p>
</td></tr>
<tr><td><code id="multi_compare_+3A_nboots">nboots</code></td>
<td>
<p>A numeric value indicating the number of bootstrap replications.
If nboots = 0 no bootstrapping will be performed. Else <code>nboots</code> must
be &gt;2. Note, that bootstrapping can be very computationaly heavy and can
therefore take a while.</p>
</td></tr>
<tr><td><code id="multi_compare_+3A_boot_all">boot_all</code></td>
<td>
<p>If TURE, both, dfs and benchmarks will be bootstrapped. Otherwise
the benchmark estimate is assumed to be constant.</p>
</td></tr>
<tr><td><code id="multi_compare_+3A_parallel">parallel</code></td>
<td>
<p>If <code>TRUE</code>, all detected cores will be used in bootstrapping.</p>
</td></tr>
<tr><td><code id="multi_compare_+3A_adjustment_vars">adjustment_vars</code></td>
<td>
<p>Variables used to adjust the survey when using raking
or post-stratification.</p>
</td></tr>
<tr><td><code id="multi_compare_+3A_raking_targets">raking_targets</code></td>
<td>
<p>A List of raking targets that can be given to the rake
function of <code><a href="survey.html#topic+rake">rake</a></code>, to rake the <code>df</code>.</p>
</td></tr>
<tr><td><code id="multi_compare_+3A_post_targets">post_targets</code></td>
<td>
<p>A List of post_stratification targets that can be given to the rake
function of <code><a href="survey.html#topic+postStratify">postStratify</a></code>, to post_stratificatify the <code>df</code>.</p>
</td></tr>
<tr><td><code id="multi_compare_+3A_percentile_ci">percentile_ci</code></td>
<td>
<p>If TURE, cofidence intervals will be calculated using the percentile method.
If False, they will be calculated using the normal method.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A table is printed showing the difference between the set of respondents
for each model, as well as an indicator, if they differ significantly from each
other. It is generated using the chosen <code>method</code>.
If<code>out_output_list</code> = TRUE, also a list with additional information will
be returned that can be used in some additional packages of this function to
reprint the summary or to visualize the results.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
#Example 1
## Make a comparison specifiying dependent and independent variables.

## Get Data for comparison

data("card")

north &lt;- card[card$south==0,]


## use the function to plot the data 
multi_data1&lt;-sampcompR::multi_compare(df = north, 
                                     bench = card,
                                     independent = c("age","fatheduc","motheduc","IQ"),
                                     dependent = c("educ","wage"),
                                     family="ols") 
                        
plot_multi_compare("multi_data1")

#Example 2
## Make a comparison with a formula_list
data("card")

north &lt;- card[card$south==0,]

form_list&lt;-list(formula(educ~age+fatheduc+motheduc+IQ),
                formula(wage~age+fatheduc+motheduc+IQ))


multi_data2 &lt;- sampcompR::multi_compare(df = north, 
                                        bench = card,
                                        formula_list = form_list,
                                        family="ols")


plot_multi_compare("multi_data2")

</code></pre>

<hr>
<h2 id='multi_compare_merge'>Combine multi_compare_objects</h2><span id='topic+multi_compare_merge'></span>

<h3>Description</h3>

<p><code>multi_compare_merge</code> combines two <code>multi_compare_objects</code> to plot them together.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>multi_compare_merge(multi_reg_object1, multi_reg_object2, p_adjust = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="multi_compare_merge_+3A_multi_reg_object1">multi_reg_object1</code>, <code id="multi_compare_merge_+3A_multi_reg_object2">multi_reg_object2</code></td>
<td>
<p>Multireg objects that should be combined.</p>
</td></tr>
<tr><td><code id="multi_compare_merge_+3A_p_adjust">p_adjust</code></td>
<td>
<p>A logical input or character string indicating an adjustment
method that isusable in the <code>method</code> parameter of
<code><a href="stats.html#topic+p.adjust">p.adjust</a></code>. If set to TRUE the Bonferroni adjusted
p-values are used in inference.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A combined <code>multi_reg_object</code> that can be used in plot functions to
create a visualization.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Get Data for comparison
data("card")

north &lt;- card[card$south==0,]
white &lt;- card[card$black==0,]

## use the function to plot the data
multi_data1 &lt;- sampcompR::multi_compare(df = north, 
                                        bench = card,
                                        independent = c("age","fatheduc","motheduc","IQ"),
                                        dependent = c("educ"),
                                        family = "ols") 
                                     
multi_data2 &lt;- sampcompR::multi_compare(df = white, 
                                        bench = card,
                                        independent = c("age","fatheduc","motheduc","IQ"),
                                        dependent = c("wage"),
                                        family = "ols") 
 ### merge two objects ###                                       
 merged_object&lt;-multi_compare_merge(multi_data1,multi_data2)
 
 ### Plot the merged object ###
 plot_multi_compare("merged_object")                                       

</code></pre>

<hr>
<h2 id='multi_compare_table'>Create an Output-Table of a multi_compare_object</h2><span id='topic+multi_compare_table'></span>

<h3>Description</h3>

<p>Returns a table based on the information of a <code>multi_compare_object</code>
which can be outputted as HTML or LaTex Table, for example with the help of
the <a href="stargazer.html#topic+stargazer">stargazer</a> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>multi_compare_table(
  multi_compare_objects,
  type = "diff",
  names = NULL,
  ndigits = 3,
  envir = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="multi_compare_table_+3A_multi_compare_objects">multi_compare_objects</code></td>
<td>
<p>One or more object that were returned by
<code><a href="#topic+multi_compare">multi_compare</a></code>.</p>
</td></tr>
<tr><td><code id="multi_compare_table_+3A_type">type</code></td>
<td>
<p>A character string, to determine the type of regression table.
</p>

<ul>
<li><p> If &quot;dfs&quot; a regression table based on the data frame(s) is returned.
</p>
</li>
<li><p> If &quot;benchmarks&quot; a regression table based on the benchmark(s) is returned.
</p>
</li>
<li><p> If &quot;diff&quot; a table indicating the difference between the df(s) and the
benchmark(s) is returned.
</p>
</li></ul>
</td></tr>
<tr><td><code id="multi_compare_table_+3A_names">names</code></td>
<td>
<p>A character vector to rename the data frames of comparison.</p>
</td></tr>
<tr><td><code id="multi_compare_table_+3A_ndigits">ndigits</code></td>
<td>
<p>The Number of digits that is shown in the table.</p>
</td></tr>
<tr><td><code id="multi_compare_table_+3A_envir">envir</code></td>
<td>
<p>The environment, where the <code>multi_core_objects</code> can be
found.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A table containing information on the multivariate comparison based on
the <code><a href="#topic+multi_compare">multi_compare</a></code> function.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Get Data for comparison

data("card")

north &lt;- card[card$south==0,]
white &lt;- card[card$black==0,]

## use the function to plot the data
multi_data1 &lt;- sampcompR::multi_compare(df = north, 
                                         bench = card,
                                         independent = c("age","fatheduc","motheduc","IQ"),
                                         dependent = c("educ","wage"),
                                         family = "ols") 
                                     
multi_data2 &lt;- sampcompR::multi_compare(df = white, 
                                         bench = card,
                                         independent = c("age","fatheduc","motheduc","IQ"),
                                         dependent = c("educ","wage"),
                                         family = "ols") 
                                     
table&lt;-multi_compare_table(c("multi_data1","multi_data2"),type="diff")

noquote(table)

</code></pre>

<hr>
<h2 id='multi_per_variable'>Returns a table based on the information of a <code>multi_compare_object</code> that
indicates the proportion of biased variables. It can be outputted as HTML or
LaTex Table, for example with the help of the <a href="stargazer.html#topic+stargazer">stargazer</a>
function.</h2><span id='topic+multi_per_variable'></span>

<h3>Description</h3>

<p>Returns a table based on the information of a <code>multi_compare_object</code> that
indicates the proportion of biased variables. It can be outputted as HTML or
LaTex Table, for example with the help of the <a href="stargazer.html#topic+stargazer">stargazer</a>
function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>multi_per_variable(
  multi_compare_objects,
  type = "coefs",
  label_df = NULL,
  lables_coefs = NULL,
  lables_models = NULL,
  ndigits = 1
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="multi_per_variable_+3A_multi_compare_objects">multi_compare_objects</code></td>
<td>
<p>A object returned by the
<code><a href="#topic+multi_compare">multi_compare</a></code> function. Object can either be
inserted as single object or as a character string containing the names of
multiple objects.</p>
</td></tr>
<tr><td><code id="multi_per_variable_+3A_type">type</code></td>
<td>
<p>The <code>type</code> of table, can either be <code>"coefs"</code>,
<code>"models"</code>, or <code>"complete"</code>. When coefs is chosen, the average bias
of the coefficients is outputted, when models is chosen, the average bias
for the models is outputted, and when complete is chosen, both are outputted.</p>
</td></tr>
<tr><td><code id="multi_per_variable_+3A_label_df">label_df</code></td>
<td>
<p>A character vector containing labels for the data frames.</p>
</td></tr>
<tr><td><code id="multi_per_variable_+3A_lables_coefs">lables_coefs</code></td>
<td>
<p>A character vector containing labels for the
coefficients.</p>
</td></tr>
<tr><td><code id="multi_per_variable_+3A_lables_models">lables_models</code></td>
<td>
<p>A character vector containing labels for the
models.</p>
</td></tr>
<tr><td><code id="multi_per_variable_+3A_ndigits">ndigits</code></td>
<td>
<p>Number of digits that is shown in the table.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A matrix, that indicates the proportion of bias for every individual
coefficient or model for multivariate comparisons. This is given separately
for every comparison, as well as averaged over comparisons.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data("card")

north &lt;- card[card$south==0,]
white &lt;- card[card$black==0,]

## use the function to plot the data
multi_data1 &lt;- sampcompR::multi_compare(df = north, 
                                        bench = card,
                                        independent = c("age","fatheduc","motheduc","IQ"),
                                        dependent = c("educ","wage"),
                                        family = "ols") 

multi_data2 &lt;- sampcompR::multi_compare(df = white, 
                                        bench = card,
                                        independent = c("age","fatheduc","motheduc","IQ"),
                                        dependent = c("educ","wage"),
                                        family = "ols") 

table&lt;-sampcompR::multi_per_variable(multi_compare_objects = c("multi_data1","multi_data2"))
noquote(table)

</code></pre>

<hr>
<h2 id='plot_biv_compare'>Plot Comparison of Multiple Data Frames on a Bivariate Level</h2><span id='topic+plot_biv_compare'></span>

<h3>Description</h3>

<p>Plot a object generated by <a href="#topic+biv_compare">biv_compare</a> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_biv_compare(
  biv_data_object,
  plot_title = NULL,
  plots_label = NULL,
  p_value = NULL,
  varlabels = NULL,
  mar = c(0, 0, 0, 0),
  note = FALSE,
  grid = "white",
  diff_perc = TRUE,
  diff_perc_size = 4.5,
  perc_diff_transparance = 0,
  gradient = FALSE,
  sum_weights = NULL,
  missings_x = TRUE,
  order = NULL,
  breaks = NULL,
  colors = NULL,
  ncol_facet = 3
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot_biv_compare_+3A_biv_data_object">biv_data_object</code></td>
<td>
<p>A object generated by the <a href="#topic+biv_compare">biv_compare</a> function.</p>
</td></tr>
<tr><td><code id="plot_biv_compare_+3A_plot_title">plot_title</code></td>
<td>
<p>A character string containing the title of the plot.</p>
</td></tr>
<tr><td><code id="plot_biv_compare_+3A_plots_label">plots_label</code></td>
<td>
<p>A character string or vector of character strings
containing the new labels of the data frames that are used in the plot.</p>
</td></tr>
<tr><td><code id="plot_biv_compare_+3A_p_value">p_value</code></td>
<td>
<p>A number between 0 and one to determine the maximum
significance niveau.</p>
</td></tr>
<tr><td><code id="plot_biv_compare_+3A_varlabels">varlabels</code></td>
<td>
<p>A character string or vector of character strings containing
the new labels of variables that are used in the plot.</p>
</td></tr>
<tr><td><code id="plot_biv_compare_+3A_mar">mar</code></td>
<td>
<p>A vector that determines the margins of the plot.</p>
</td></tr>
<tr><td><code id="plot_biv_compare_+3A_note">note</code></td>
<td>
<p>If <code>note = TRUE</code>, a note will be displayed to describe the plot.</p>
</td></tr>
<tr><td><code id="plot_biv_compare_+3A_grid">grid</code></td>
<td>
<p>A character string, that determines the color of the lines
between the tiles of the heatmap.</p>
</td></tr>
<tr><td><code id="plot_biv_compare_+3A_diff_perc">diff_perc</code></td>
<td>
<p>If <code>TRUE</code> a percental measure of difference between
<code>dfs</code> and <code>benchmarks</code> is displayed in the plot.</p>
</td></tr>
<tr><td><code id="plot_biv_compare_+3A_diff_perc_size">diff_perc_size</code></td>
<td>
<p>A number to determine the size of the displayed percental
difference between surveys in the plot.</p>
</td></tr>
<tr><td><code id="plot_biv_compare_+3A_perc_diff_transparance">perc_diff_transparance</code></td>
<td>
<p>A number to determine the transparency of the
displayed percental-difference between surveys in the plot.</p>
</td></tr>
<tr><td><code id="plot_biv_compare_+3A_gradient">gradient</code></td>
<td>
<p>If gradient = TRUE, colors in the heatmap will be more or
less transparent, depending on the difference in Pearson's r of the data
frames of comparison.</p>
</td></tr>
<tr><td><code id="plot_biv_compare_+3A_sum_weights">sum_weights</code></td>
<td>
<p>A vector containing information for every variable to weigh them in
the displayed percental difference calculation. It can be used if some variables are
over- or underrepresented in the analysis.</p>
</td></tr>
<tr><td><code id="plot_biv_compare_+3A_missings_x">missings_x</code></td>
<td>
<p>If TRUE, missing pairs in the plot will be marked with an X.</p>
</td></tr>
<tr><td><code id="plot_biv_compare_+3A_order">order</code></td>
<td>
<p>A character vector to determine in which order the variables should be
displayed in the plot.</p>
</td></tr>
<tr><td><code id="plot_biv_compare_+3A_breaks">breaks</code></td>
<td>
<p>A vector to label the color scheme in the legend.</p>
</td></tr>
<tr><td><code id="plot_biv_compare_+3A_colors">colors</code></td>
<td>
<p>A vector to determine the colors in the plot.</p>
</td></tr>
<tr><td><code id="plot_biv_compare_+3A_ncol_facet">ncol_facet</code></td>
<td>
<p>Number of columns used in faced_wrap() for the plots.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The plot shows a heatmap of a correlation matrix, where the colors are determined by
the similarity of the Pearson's r value in both sets of respondents. Leaving
default breaks and colors,
</p>

<ul>
<li> <p><code>Same</code> (green) indicates, that the Pearson's r correlation is not significant &gt; 0 in
the related data frame or benchmark or the Pearson's r correlations are not significant
different, between data frame and benchmark.
</p>
</li>
<li> <p><code>Small Diff</code> (yellow) indicates that the Pearson's r
correlation is significant &gt; 0 in the related data frame or benchmark and the Pearson's r
correlations are significant different, between data frame and benchmark.
</p>
</li>
<li> <p><code>Large Diff</code> (red) indicates, that the same coditions of yellow are fulfilled, and
the correlations are either in opposite directions,or one is double the size of the other.
</p>
</li></ul>



<h3>Value</h3>

<p>A object generated with the help of <code><a href="ggplot2.html#topic+ggplot2-package">ggplot2::ggplot2()</a></code>, used to visualize
the differences between the data frames and benchmarks.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Get Data for comparison

data("card")

north &lt;- card[card$south==0,]
white &lt;- card[card$black==0,]

## use the function to plot the data 
bivar_data&lt;-sampcompR::biv_compare(dfs = c("north","white"),
                                   benchmarks = c("card","card"),
                                   variables= c("age","educ","fatheduc","motheduc","wage","IQ"),
                                   data=TRUE)
                        
sampcompR::plot_biv_compare(bivar_data)

</code></pre>

<hr>
<h2 id='plot_multi_compare'>Plot Multiple multi_compare_objects</h2><span id='topic+plot_multi_compare'></span>

<h3>Description</h3>

<p><code>plot_multi_compare</code> plots multipe <code>multi_compare_objects</code> together.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_multi_compare(
  multi_compare_objects,
  plots_label = NULL,
  plot_title = NULL,
  p_value = 0.05,
  breaks = NULL,
  plot_data = FALSE,
  colors = NULL,
  variant = "one",
  p_adjust = NULL,
  note = FALSE,
  grid = "white",
  diff_perc = TRUE,
  diff_perc_size = 4.5,
  ncol_facet = 3,
  perc_diff_transparance = 0,
  diff_perc_position = "top_right",
  gradient = FALSE,
  sum_weights_indep = NULL,
  sum_weights_dep = NULL,
  label_x = NULL,
  label_y = NULL,
  missings_x = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot_multi_compare_+3A_multi_compare_objects">multi_compare_objects</code></td>
<td>
<p>A character vector containing the names of one or more <code>multi_compare_objects</code>.
Every object will be displayed separately in <code>facet_wrap</code> of <code>ggplot</code>.</p>
</td></tr>
<tr><td><code id="plot_multi_compare_+3A_plots_label">plots_label</code></td>
<td>
<p>A character vector of the same lengths as <code>multi_compare_objects</code>, to name the different objects
in facet_wrap of ggplot.</p>
</td></tr>
<tr><td><code id="plot_multi_compare_+3A_plot_title">plot_title</code></td>
<td>
<p>A string containing the title of the visualization.</p>
</td></tr>
<tr><td><code id="plot_multi_compare_+3A_p_value">p_value</code></td>
<td>
<p>A number between zero and one, that is used as p-value in significance analyses.</p>
</td></tr>
<tr><td><code id="plot_multi_compare_+3A_breaks">breaks</code></td>
<td>
<p>A vector, containing several of strings, to rename the categories in the legend.
Its possible length depends on the <code>variant</code>.</p>
</td></tr>
<tr><td><code id="plot_multi_compare_+3A_plot_data">plot_data</code></td>
<td>
<p>A logical value. If <code>TRUE</code>, instead of a plot a data
frame will be returned, that is used for the plot.</p>
</td></tr>
<tr><td><code id="plot_multi_compare_+3A_colors">colors</code></td>
<td>
<p>A vector of colors, usable in ggplot, for every break. It's possible length depends on the <code>variant</code>.</p>
</td></tr>
<tr><td><code id="plot_multi_compare_+3A_variant">variant</code></td>
<td>
<p>Variant can be either &quot;one&quot;, &quot;two&quot;, &quot;three&quot;,&quot;four&quot;,&quot;five&quot;, or &quot;six&quot;.
</p>

<dl>
<dt><code>variant = "one"</code></dt><dd><p>The plot will show whether the coefficients in the
regression models are significantly different from each other (Diff). When
they are, it will also show if they differ in strength (one is twice the
size of the other) or direction as well (Large Diff).</p>
</dd>
<dt><code>variant = "two"</code></dt><dd><p>The plot will show whether coefficients in the
regression models differ significantly from each other (Large Diff). If not
it will show whether they still differ in direction (Diff in Direction) or
whether one is significant while the other is not (Diff in Significance).</p>
</dd>
<dt><code>variant = "three"</code></dt><dd><p>The plot will show whether coefficients in the
regression models differ from each other in various aspects. Whether one is
significant, while the other is not (Diff in Significance), whether they
differ in direction (Diff in Direction) or whether one is double the size
of the other (Diff in Strength). When variables meet the criteria for
multiple categories they will classified in the latest fitting category.</p>
</dd>
<dt><code>variant = "four"</code></dt><dd><p>The plot will show if the coefficient in the df
is significant, while the coefficient is not significant in the benchmark
or the other way around  (Diff in Significance).</p>
</dd>
<dt><code>variant = "five"</code></dt><dd><p>The plot will show if the coefficient in the df
is positive, while the coefficient in the benchmark is negative or the other
way around  (Diff in Direction).</p>
</dd>
<dt><code>variant = "six"</code></dt><dd><p>The plot will show if the coefficient in the
df is double the size of the coefficient in the benchmark or the other way
around  (Diff in Strength).</p>
</dd>
</dl>
</td></tr>
<tr><td><code id="plot_multi_compare_+3A_p_adjust">p_adjust</code></td>
<td>
<p>If <code>TRUE</code> results based on adjusted p-values will be used. Adjustment methods depend on
the method used to generate the <code>multi_compare_objects</code>.</p>
</td></tr>
<tr><td><code id="plot_multi_compare_+3A_note">note</code></td>
<td>
<p>A logical value. If <code>TRUE</code>, a note will be displayed under the plot describing the <code>variant</code>.</p>
</td></tr>
<tr><td><code id="plot_multi_compare_+3A_grid">grid</code></td>
<td>
<p>A string, that can either be &quot;none&quot; or a color, for the edges of every tile. If &quot;none&quot;, no grid will be displayed.</p>
</td></tr>
<tr><td><code id="plot_multi_compare_+3A_diff_perc">diff_perc</code></td>
<td>
<p>A logical value. If <code>TRUE</code>, the percent of the differing categories, decided by the variant, will be displayed
in the corner of the plot.</p>
</td></tr>
<tr><td><code id="plot_multi_compare_+3A_diff_perc_size">diff_perc_size</code></td>
<td>
<p>A number to decide the size of the text in <code>diff_perc</code>.</p>
</td></tr>
<tr><td><code id="plot_multi_compare_+3A_ncol_facet">ncol_facet</code></td>
<td>
<p>A number of columns used in faced_wrap() for the plots.</p>
</td></tr>
<tr><td><code id="plot_multi_compare_+3A_perc_diff_transparance">perc_diff_transparance</code></td>
<td>
<p>A number between zero and one, to decide the background transparency of <code>diff_perc</code>.</p>
</td></tr>
<tr><td><code id="plot_multi_compare_+3A_diff_perc_position">diff_perc_position</code></td>
<td>
<p>A character string, to choose the position of <code>diff_perc</code> Can either be &quot;top_right&quot;(default),
&quot;bottom_right&quot;, &quot;bottom_left&quot;, or &quot;top_left&quot;.</p>
</td></tr>
<tr><td><code id="plot_multi_compare_+3A_gradient">gradient</code></td>
<td>
<p>A logical Value. If <code>TRUE</code>, the transparency
of the tiles depends on the coefficient.</p>
</td></tr>
<tr><td><code id="plot_multi_compare_+3A_sum_weights_indep">sum_weights_indep</code>, <code id="plot_multi_compare_+3A_sum_weights_dep">sum_weights_dep</code></td>
<td>
<p>A vector of weights for every
dependent or independent variable. Must be <code>NULL</code>,
or the same length as the dependent variables or independent variables.</p>
</td></tr>
<tr><td><code id="plot_multi_compare_+3A_label_x">label_x</code>, <code id="plot_multi_compare_+3A_label_y">label_y</code></td>
<td>
<p>A character string or vector of character strings containing a label for
the x-axis and y-axis.</p>
</td></tr>
<tr><td><code id="plot_multi_compare_+3A_missings_x">missings_x</code></td>
<td>
<p>If <code>TRUE</code>, missing pairs in the plot will be marked with an X.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a a heat matrix-like plot created with ggplot, to visualize
the multivariate differences. If multiple objects are used, they will be
displayed separately with ggplot's facet_wrap function. On the y-axis, the
independent variables are displayed, while on the x-axis the independent
variables are displayed. Depending on the variant, the displayed tile colors
must be interpreted differently. FALSEor more information on interpretation look
at <code>variant</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Get Data for comparison

data("card")

north &lt;- card[card$south==0,]
white &lt;- card[card$black==0,]

## use the function to plot the data
multi_data1 &lt;- sampcompR::multi_compare(df = north, 
                                        bench = card,
                                        independent = c("age","fatheduc","motheduc","IQ"),
                                        dependent = c("educ","wage"),
                                        family = "ols") 
                                     
multi_data2 &lt;- sampcompR::multi_compare(df = white, 
                                        bench = card,
                                        independent = c("age","fatheduc","motheduc","IQ"),
                                        dependent = c("educ","wage"),
                                        family = "ols") 
                                     
plot_multi_compare(c("multi_data1","multi_data2"))


</code></pre>

<hr>
<h2 id='plot_uni_compare'>plot univar data</h2><span id='topic+plot_uni_compare'></span>

<h3>Description</h3>

<p><code>plot_uni_compare</code> This uses ggplot2 to generate a plot based on an object
generated by the <code><a href="#topic+uni_compare">uni_compare</a></code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_uni_compare(
  uni_compare_objects,
  name_dfs = NULL,
  name_benchmarks = NULL,
  summetric = NULL,
  colors = NULL,
  shapes = NULL,
  legendlabels = NULL,
  legendtitle = NULL,
  label_x = NULL,
  label_y = NULL,
  summet_size = NULL,
  plot_title = NULL,
  conf_adjustment = FALSE,
  varlabels = NULL,
  ndigits = 3
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot_uni_compare_+3A_uni_compare_objects">uni_compare_objects</code></td>
<td>
<p>A object generated by the <code><a href="#topic+uni_compare">uni_compare</a></code>
function.</p>
</td></tr>
<tr><td><code id="plot_uni_compare_+3A_name_dfs">name_dfs</code>, <code id="plot_uni_compare_+3A_name_benchmarks">name_benchmarks</code></td>
<td>
<p>A character string or vector of character
strings containing the new names of the data frames and the benchmarks, that
are used in the plot.</p>
</td></tr>
<tr><td><code id="plot_uni_compare_+3A_summetric">summetric</code></td>
<td>
<p>If <code>"avg1"</code>,<code>"avg2"</code>, <code>"mse1"</code>,<code>"mse2"</code>,
<code>"rmse1"</code>,<code>"rmse2"</code>, or <code>"R"</code> the respective measure is
calculated for the biases of each survey. The values <code>"avg1"</code>,
<code>"mse1"</code> and <code>"rmse1"</code> lead to similar results as in <code>"avg2"</code>,
<code>"mse2"</code> and <code>"rmse2"</code>, with slightly different visualization in
the plot. If <code>summetric = "none"</code>, no <code>summetric</code> will be displayed in the
plot, and if <code>summetric = NULL</code> the <code>summetric</code> specified in the
uni_compare_object is used.</p>
</td></tr>
<tr><td><code id="plot_uni_compare_+3A_colors">colors</code></td>
<td>
<p>A vector of colors that is used in the plot for the
different comparisons.</p>
</td></tr>
<tr><td><code id="plot_uni_compare_+3A_shapes">shapes</code></td>
<td>
<p>A vector of shapes applicable in <code><a href="ggplot2.html#topic+ggplot2-package">ggplot2::ggplot2()</a></code> that is
used in the plot for the different comparisons.</p>
</td></tr>
<tr><td><code id="plot_uni_compare_+3A_legendlabels">legendlabels</code></td>
<td>
<p>A character string or vector of strings containing a
label for the legend.</p>
</td></tr>
<tr><td><code id="plot_uni_compare_+3A_legendtitle">legendtitle</code></td>
<td>
<p>A character string containing the title of the legend.</p>
</td></tr>
<tr><td><code id="plot_uni_compare_+3A_label_x">label_x</code>, <code id="plot_uni_compare_+3A_label_y">label_y</code></td>
<td>
<p>A character string or vector of character strings
containing a label for the x-axis and y-axis.</p>
</td></tr>
<tr><td><code id="plot_uni_compare_+3A_summet_size">summet_size</code></td>
<td>
<p>A number to determine the size of the displayed
<code>summetric</code> in the plot.</p>
</td></tr>
<tr><td><code id="plot_uni_compare_+3A_plot_title">plot_title</code></td>
<td>
<p>A character string containing the title of the plot.</p>
</td></tr>
<tr><td><code id="plot_uni_compare_+3A_conf_adjustment">conf_adjustment</code></td>
<td>
<p>If <code>conf_adjustment = TRUE</code> the confidence level
of the confidence interval will be
adjusted with a Bonferroni adjustment, to account for the problem of multiple
comparisons.</p>
</td></tr>
<tr><td><code id="plot_uni_compare_+3A_varlabels">varlabels</code></td>
<td>
<p>A character string or vector of character strings
containing the new names of the variables, also used in plot.</p>
</td></tr>
<tr><td><code id="plot_uni_compare_+3A_ndigits">ndigits</code></td>
<td>
<p>The number of digits to round the numbers in the plot.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Plot of a <code><a href="#topic+uni_compare">uni_compare</a></code> object using
<code><a href="ggplot2.html#topic+ggplot2-package">ggplot2::ggplot2()</a></code> which shows the difference between two or more data
frames.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Get Data for comparison

data("card")

south &lt;- card[card$south==1,]
north &lt;- card[card$south==0,]
black &lt;- card[card$black==1,]
white &lt;- card[card$black==0,]

## use the function to plot the data 
univar_data&lt;-sampcompR::uni_compare(dfs = c("north","white"),
                                    benchmarks = c("south","black"),
                                    variables= c("age","educ","fatheduc","motheduc","wage","IQ"),
                                    funct = "abs_rel_mean",
                                    nboots=0,
                                    summetric="rmse2",
                                    data=TRUE)

sampcompR::plot_uni_compare(univar_data)

</code></pre>

<hr>
<h2 id='R_indicator'>Calculate the R-Indicator</h2><span id='topic+R_indicator'></span>

<h3>Description</h3>

<p>Calculates the R-Indicator of the (weighted) data frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>R_indicator(
  dfs,
  response_identificators,
  variables,
  id = NULL,
  weight = NULL,
  strata = NULL,
  get_r2 = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="R_indicator_+3A_dfs">dfs</code></td>
<td>
<p>A character vector containing the names of data frames
to calculate the R indicator.</p>
</td></tr>
<tr><td><code id="R_indicator_+3A_response_identificators">response_identificators</code></td>
<td>
<p>A character vector, naming response identificators
for every df. Response identificators should indicate if respondents are part
of the set of respondents <code>(respondents = 1)</code> or not part of the set of
respondents.
<code>(non-respondents = 0)</code>. If only one character is provided, the same
variable is used in every df.</p>
</td></tr>
<tr><td><code id="R_indicator_+3A_variables">variables</code></td>
<td>
<p>A character vector with the names of variables that should be
used in the model to calculate the R indicator.</p>
</td></tr>
<tr><td><code id="R_indicator_+3A_id">id</code></td>
<td>
<p>A character vector that determines id variables that are used to
weight the dfs with the help of the survey package. They have to be part of
the respective data frame. If only one character is provided, the same
variable is used to weight every df.</p>
</td></tr>
<tr><td><code id="R_indicator_+3A_weight">weight</code></td>
<td>
<p>A character vector that determines variables to weight the dfs.
They have to be part of the respective data frame. If only one character is
provided, the same variable used to weight every df. If a weight variable is
provided also an id variable is needed. For weighting, the survey package is
used.</p>
</td></tr>
<tr><td><code id="R_indicator_+3A_strata">strata</code></td>
<td>
<p>A character vector that determines strata variables that are
used to weight the dfs with the help of the survey package. They have to
be part of the respective data frame. If only one character is provided,
the same variable is used to weight every df.</p>
</td></tr>
<tr><td><code id="R_indicator_+3A_get_r2">get_r2</code></td>
<td>
<p>If true, Pseudo R-squared of the propensity model will be
returned, based on the method of McFadden.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing the R-indicator, and its standard error for every data frame.
</p>


<h3>Note</h3>

<p>The calculated R-indicator is based on Shlomo et al., (2012).
</p>


<h3>References</h3>


<ul>
<li><p> Shlomo, N., Skinner, C., &amp; Schouten, B. (2012). Estimation of an
indicator of the representativeness of survey response. Journal of Statistical
Planning and Inference, 142(1), 201–211. https://doi.org/10.1016/j.jspi.2011.07.008
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>

data("card")

# For the purpose of this example, we assume that only respondents living in 
# the south or only white respondents have participated in the survey.

sampcompR::R_indicator(dfs=c("card","card"),
                       response_identificators = c("south","black"),
                       variables = c("age","educ","fatheduc","motheduc","wage","IQ"),
                       weight = c("weight","weight"))

</code></pre>

<hr>
<h2 id='sampcompR'>sampcompR: A package for the comparison of samples</h2><span id='topic+sampcompR'></span>

<h3>Description</h3>

<p>Easily analyze and visualize differences between samples (e.g., benchmark
comparisons, nonresponse comparisons in surveys) on three levels. The
comparisons can be univariate, bivariate or multivariate. On univariate
level the variables of interest of a survey and a comparison survey
(i.e. benchmark) are compared, by calculating one of several difference
measures (e.g., relative difference in mean), and an average difference
between the surveys. On bivariate level a function can calculate significant
differences in correlations for the surveys. And on multivariate levels a
function can calculate significant differences in model coefficients between
the surveys of comparison. All of those differences can be easily plotted
and outputted as a table. Visualization is based on
<code><a href="ggplot2.html#topic+ggplot">ggplot</a></code> and can be edited as other plots of
ggplot afterwards. For more  detailed information on the methods and
example use see: Rohr, B., Silber, H., &amp; Felderer, B. (2024). „Comparing the
Accuracy of Univariate, Bivariate, and Multivariate Estimates across
Probability and Non-Probability Surveys with Population Benchmarks“
https://doi.org/10.31235/osf.io/n6ehf.
</p>


<h3>sampcompR functions</h3>


<dl>
<dt><a href="#topic+uni_compare">uni_compare</a></dt><dd><p>Compare Datasets Univariate and Plot Differences</p>
</dd>
<dt><a href="#topic+plot_uni_compare">plot_uni_compare</a></dt><dd><p>Plot uni_compare objects</p>
</dd>
<dt><a href="#topic+uni_compare_table">uni_compare_table</a></dt><dd><p>Get a table output of a uni_compare object</p>
</dd>
<dt><a href="#topic+R_indicator">R_indicator</a></dt><dd><p>Calculate the R_indicator for several surveys</p>
</dd>
<dt><a href="#topic+biv_compare">biv_compare</a></dt><dd><p>Compare Datasets Bivariate and Plot Differences</p>
</dd>
<dt><a href="#topic+plot_biv_compare">plot_biv_compare</a></dt><dd><p>Plot biv_compare objects</p>
</dd>
<dt><a href="#topic+biv_compare_table">biv_compare_table</a></dt><dd><p>Get a table output of a biv_compare object</p>
</dd>
<dt><a href="#topic+multi_compare">multi_compare</a></dt><dd><p>Compare two Datasets on a Multivariate Level (Any GLM Model)</p>
</dd>
<dt><a href="#topic+plot_multi_compare">plot_multi_compare</a></dt><dd><p>Plot multi_compare objects</p>
</dd>
<dt><a href="#topic+multi_compare_table">multi_compare_table</a></dt><dd><p>Get a table output of multi_compare objects</p>
</dd>
<dt><a href="#topic+multi_compare_merge">multi_compare_merge</a></dt><dd><p>Combine two multi_compare objects, to plot them together</p>
</dd>
<dt><a href="#topic+descriptive_table">descriptive_table</a></dt><dd><p>Get a Descriptive Table for Every Data Frame</p>
</dd>
<dt><a href="#topic+dataequalizer">dataequalizer</a></dt><dd><p>Equalize dataframes</p>
</dd>
</dl>



<h3>uni_compare function</h3>

<p><a href="#topic+uni_compare">uni_compare</a> Returns data or a plot showing the difference of two or more
data frames The differences are calculated on the base of
differing metrics, chosen in the funct argument.
Results can be visualized using <code><a href="#topic+plot_uni_compare">plot_uni_compare</a></code>.
</p>


<h3>biv_compare function</h3>

<p><a href="#topic+biv_compare">biv_compare</a> Returns data or heatmap of difference between two or
more data frames, by comparing their correlation matrices. The comparison is
based on Pearson's r, calculated using the <code><a href="Hmisc.html#topic+rcorr">rcorr</a></code> function.
Results can be visualized using <code><a href="#topic+plot_biv_compare">plot_biv_compare</a></code>.
</p>


<h3>multi_compare function</h3>

<p><a href="#topic+multi_compare">multi_compare</a> Returns data of difference between two data frames
on a multivariate level. Similar (multivariate) regression models are
compared between the surveys. Only GLM models are possible. Results can be
visualized using <code><a href="#topic+plot_multi_compare">plot_multi_compare</a></code>.
</p>


<h3>dataequalizer function</h3>

<p><a href="#topic+dataequalizer">dataequalizer</a> compares two data frames and looks if data frames contain columns
with the same name. A copy of y is returned, containing only columns named identical
in x and y data frames. The function is mainly used in the other functions of the package.
</p>
<p>_PACKAGE
</p>

<hr>
<h2 id='uni_compare'>Compare data frames and Plot Differences</h2><span id='topic+uni_compare'></span>

<h3>Description</h3>

<p>Returns data or a plot showing the difference of two or more
data frames The differences are calculated on the base of
differing metrics, chosen in the funct argument. All used data frames must
contain at least one column named equal in all data frames, that has equal
values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>uni_compare(
  dfs,
  benchmarks,
  variables = NULL,
  nboots = 2000,
  n_bench = NULL,
  boot_all = FALSE,
  funct = "rel_mean",
  data = TRUE,
  type = "comparison",
  legendlabels = NULL,
  legendtitle = NULL,
  colors = NULL,
  shapes = NULL,
  summetric = "rmse2",
  label_x = NULL,
  label_y = NULL,
  plot_title = NULL,
  varlabels = NULL,
  name_dfs = NULL,
  name_benchmarks = NULL,
  summet_size = 4,
  silence = TRUE,
  conf_level = 0.95,
  conf_adjustment = NULL,
  percentile_ci = TRUE,
  weight = NULL,
  id = NULL,
  strata = NULL,
  weight_bench = NULL,
  id_bench = NULL,
  strata_bench = NULL,
  adjustment_weighting = "raking",
  adjustment_vars = NULL,
  raking_targets = NULL,
  post_targets = NULL,
  ndigits = 3,
  parallel = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="uni_compare_+3A_dfs">dfs</code></td>
<td>
<p>A character vector containing the names of data frames to compare against the benchmarks.</p>
</td></tr>
<tr><td><code id="uni_compare_+3A_benchmarks">benchmarks</code></td>
<td>
<p>A character vector containing the names of benchmarks to compare the data frames against.
The vector must either be the same length as <code>dfs</code>, or length 1. If it has length 1 every
df will be compared against the same benchmark. Benchmarks can either be the name of data frames,
the name of a list of tables, or a named vector of means. The tables in the list need to be named as the respective variables
in the data frame of comparison. When they are a named vector of means, the means need to be named as the respective variables
in the dfs.</p>
</td></tr>
<tr><td><code id="uni_compare_+3A_variables">variables</code></td>
<td>
<p>A character vector containing the names of the variables for the comparison. If NULL,
all variables named similarly in both the <code>dfs</code> and the benchmarks will be compared. Variables missing
in one of the data frames or the benchmarks will be neglected for this comparison.</p>
</td></tr>
<tr><td><code id="uni_compare_+3A_nboots">nboots</code></td>
<td>
<p>The number of bootstraps used to calculate standard errors. Must either be &gt;2 or 0.
If &gt;2 bootstrapping is used to calculate standard errors with <code>nboots</code> iterations. If 0, SE
is calculated analytically. We do not recommend using <code>nboots</code> =0 because this method is not
yet suitable for every <code>funct</code> used and every method. Depending on the size of the data and the
number of bootstraps, <code>uni_compare</code> can take a while.</p>
</td></tr>
<tr><td><code id="uni_compare_+3A_n_bench">n_bench</code></td>
<td>
<p>A list of vectors containing the number of cases for every variable in the benchmark.
This is only needed, if the benchmark is given as a vector. The list should be as long as the number of dataframes</p>
</td></tr>
<tr><td><code id="uni_compare_+3A_boot_all">boot_all</code></td>
<td>
<p>If TURE, both, dfs and benchmarks will be bootstrapped. Otherwise
the benchmark estimate is assumed to be constant.</p>
</td></tr>
<tr><td><code id="uni_compare_+3A_funct">funct</code></td>
<td>
<p>A character string, indicating the function to calculate the
difference between the data frames.
</p>
<p>Predefined functions are:
</p>

<ul>
<li> <p><code>"d_mean"</code>, <code>"ad_mean"</code> A function to calculate the (absolute) difference in mean of
the variables in <code>dfs</code> and benchmarks with the same name. Only applicable for
metric variables.
</p>
</li>
<li> <p><code>"d_prop"</code>, <code>"ad_prop"</code> A function to calculate the (absolute) difference in proportions of
the variables in <code>dfs</code> and benchmarks with the same name. Only applicable for dummy
variables.
</p>
</li>
<li> <p><code>"rel_mean"</code>, <code>"abs_rel_mean"</code> A function to calculate the (absolute)
relative difference in mean of the variables in <code>dfs</code> and benchmarks with the same name.
#' For more information on the formula for difference and analytic variance, see Felderer
et al. (2019). Only applicable for metric variables.
</p>
</li>
<li> <p><code>"rel_prop"</code>, <code>"abs_rel_prop"</code> A function to calculate the (absolute)
relative difference in proportions of the variables in <code>dfs</code> and benchmarks with
the same name. It is calculated similar to the relative difference in mean
(see Felderer et al., 2019), however the default label for the plot is different.
Only applicable for dummy variables.
</p>
</li></ul>
</td></tr>
<tr><td><code id="uni_compare_+3A_data">data</code></td>
<td>
<p>If TRUE, a uni_compare_object is returned, containing results of the comparison.</p>
</td></tr>
<tr><td><code id="uni_compare_+3A_type">type</code></td>
<td>
<p>Define the type of comparison. Can either be <code>"comparison"</code> or <code>"nonresponse"</code>.</p>
</td></tr>
<tr><td><code id="uni_compare_+3A_legendlabels">legendlabels</code></td>
<td>
<p>A character string or vector of strings containing a label for the
legend.</p>
</td></tr>
<tr><td><code id="uni_compare_+3A_legendtitle">legendtitle</code></td>
<td>
<p>A character string containing the title of the legend.</p>
</td></tr>
<tr><td><code id="uni_compare_+3A_colors">colors</code></td>
<td>
<p>A vector of colors, that is used in the plot for the
different comparisons.</p>
</td></tr>
<tr><td><code id="uni_compare_+3A_shapes">shapes</code></td>
<td>
<p>A vector of shapes applicable in <code><a href="ggplot2.html#topic+ggplot2-package">ggplot2::ggplot2()</a></code>, that is
used in the plot for the different comparisons.</p>
</td></tr>
<tr><td><code id="uni_compare_+3A_summetric">summetric</code></td>
<td>
<p>If <code>"avg1"</code>, <code>"mse1"</code>, <code>"rmse1"</code>, or <code>"R"</code>
the respective measure is calculated for the biases of each survey. The values
<code>"mse1"</code> and <code>"rmse1"</code> lead to similar results as in <code>"mse2"</code> and <code>"rmse2"</code>,
with slightly different visualization in the plot. If <code>summetric = NULL</code>, no summetric
will be displayed in the Plot. When <code>"R"</code> is chosen, also <code>response_identificator</code>
is needed.</p>
</td></tr>
<tr><td><code id="uni_compare_+3A_label_x">label_x</code>, <code id="uni_compare_+3A_label_y">label_y</code></td>
<td>
<p>A character string or vector of character strings containing a label for
the x-axis and y-axis.</p>
</td></tr>
<tr><td><code id="uni_compare_+3A_plot_title">plot_title</code></td>
<td>
<p>A character string containing the title of the plot.</p>
</td></tr>
<tr><td><code id="uni_compare_+3A_varlabels">varlabels</code></td>
<td>
<p>A character string or vector of character strings containing the new names of
variables, also used in plot.</p>
</td></tr>
<tr><td><code id="uni_compare_+3A_name_dfs">name_dfs</code>, <code id="uni_compare_+3A_name_benchmarks">name_benchmarks</code></td>
<td>
<p>A character string or vector of character strings containing the
new names of the <code>dfs</code> and <code>benchmarks</code>, that is also used in plot.</p>
</td></tr>
<tr><td><code id="uni_compare_+3A_summet_size">summet_size</code></td>
<td>
<p>A number to determine the size of the displayed <code>summetric</code> in the plot.</p>
</td></tr>
<tr><td><code id="uni_compare_+3A_silence">silence</code></td>
<td>
<p>If <code>silence = FALSE</code> a warning will be displayed, if variables a
re excluded from either the data frame or benchmark, for not existing in both.</p>
</td></tr>
<tr><td><code id="uni_compare_+3A_conf_level">conf_level</code></td>
<td>
<p>A numeric value between zero and one to determine the confidence level of the confidence
interval.</p>
</td></tr>
<tr><td><code id="uni_compare_+3A_conf_adjustment">conf_adjustment</code></td>
<td>
<p>If <code>conf_adjustment = TRUE</code> the confidence level of the confidence interval will be
adjusted with a Bonferroni adjustment, to account for the problem of multiple comparisons.</p>
</td></tr>
<tr><td><code id="uni_compare_+3A_percentile_ci">percentile_ci</code></td>
<td>
<p>If TURE, cofidence intervals will be calculated using the percentile method.
If False, they will be calculated using the normal method.</p>
</td></tr>
<tr><td><code id="uni_compare_+3A_weight">weight</code>, <code id="uni_compare_+3A_weight_bench">weight_bench</code></td>
<td>
<p>A character vector determining variables to weight the <code>dfs</code> or
<code>benchmarks</code>. They have to be part of the respective data frame. If only one character is provided,
the same variable is used to weigh every <code>df</code> or <code>benchmark</code>. If a
weight variable is provided also an <code>id</code> variable is needed.For
weighting, the <code>survey</code> package is used.</p>
</td></tr>
<tr><td><code id="uni_compare_+3A_id">id</code>, <code id="uni_compare_+3A_id_bench">id_bench</code></td>
<td>
<p>A character vector determining <code>id</code> variables used
to weigh the <code>dfs</code> or <code>benchmarks</code> with the help of the
<code>survey</code> package. They have to be part of the respective data frame. If
only one character is provided, the same variable is used to weigh every
<code>df</code> or <code>benchmark</code>.</p>
</td></tr>
<tr><td><code id="uni_compare_+3A_strata">strata</code>, <code id="uni_compare_+3A_strata_bench">strata_bench</code></td>
<td>
<p>A character vector determining strata variables
used to weigh the <code>dfs</code> or <code>benchmarks</code> with the help of the
<code>survey</code> package.They have to be part of the respective data frame.
If only one character is provided, the same variable is used to weight every
<code>df</code> or <code>benchmark</code>.</p>
</td></tr>
<tr><td><code id="uni_compare_+3A_adjustment_weighting">adjustment_weighting</code></td>
<td>
<p>A character vector indicating if adjustment
weighting should be used. It can either be <code>"raking"</code> or <code>"post_start"</code>.</p>
</td></tr>
<tr><td><code id="uni_compare_+3A_adjustment_vars">adjustment_vars</code></td>
<td>
<p>Variables used to adjust the survey when using raking
or post stratification.</p>
</td></tr>
<tr><td><code id="uni_compare_+3A_raking_targets">raking_targets</code></td>
<td>
<p>A list of raking targets that can be given to the rake
function of <code><a href="survey.html#topic+rake">rake</a></code>, to rake the <code>dfs</code>.</p>
</td></tr>
<tr><td><code id="uni_compare_+3A_post_targets">post_targets</code></td>
<td>
<p>A list of post-stratification targets that can be given to the
<code><a href="survey.html#topic+postStratify">postStratify</a></code> function, to post-stratify the <code>dfs</code>.</p>
</td></tr>
<tr><td><code id="uni_compare_+3A_ndigits">ndigits</code></td>
<td>
<p>The number of digits to round the numbers in the plot.</p>
</td></tr>
<tr><td><code id="uni_compare_+3A_parallel">parallel</code></td>
<td>
<p>Can be either <code>FALSE</code> or a number of cores that should
be used in the function. If it is <code>FALSE</code>, only one core will be used and
otherwise the given number of cores will be used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A plot based on <code><a href="ggplot2.html#topic+ggplot2-package">ggplot2::ggplot2()</a></code> (or data frame if data==TRUE)
which shows the difference between two or more data frames on predetermined variables,
named identical in both data frames.
</p>


<h3>References</h3>

<p>Felderer, B., Kirchner, A., &amp; Kreuter, FALSE. (2019). The Effect of Survey Mode on Data
Quality: Disentangling Nonresponse and Measurement Error Bias. Journal of Official
Statistics, 35(1), 93–115. https://doi.org/10.2478/jos-2019-0005
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Get Data for comparison

data("card")

north&lt;-card[card$south==0,]
white&lt;-card[card$black==0,]

## use the function to plot the data 
univar_comp&lt;-sampcompR::uni_compare(dfs = c("north","white"),
                                    benchmarks = c("card","card"),
                                    variables= c("age","educ","fatheduc","motheduc","wage","IQ"),
                                    funct = "abs_rel_mean",
                                    nboots=200,
                                    summetric="rmse2",
                                    data=FALSE)

 univar_comp
 
</code></pre>

<hr>
<h2 id='uni_compare_table'>Create an Output-Table of a uni_compare_object</h2><span id='topic+uni_compare_table'></span>

<h3>Description</h3>

<p>Returns a table based on the information of an <code>uni_compare_object</code>
which can be outputted as HTML or LaTex Table, for example with the help of
the <a href="stargazer.html#topic+stargazer">stargazer</a> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>uni_compare_table(
  uni_compare_object,
  conf_adjustment = FALSE,
  df_names = NULL,
  varlabels = NULL,
  ci_line = TRUE,
  ndigits = 3
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="uni_compare_table_+3A_uni_compare_object">uni_compare_object</code></td>
<td>
<p>A object returned by
<code><a href="#topic+uni_compare">uni_compare</a></code>.</p>
</td></tr>
<tr><td><code id="uni_compare_table_+3A_conf_adjustment">conf_adjustment</code></td>
<td>
<p>A logical parameter determining if adjusted
confidence intervals should be returned.</p>
</td></tr>
<tr><td><code id="uni_compare_table_+3A_df_names">df_names</code></td>
<td>
<p>A character vector to relabel the data frames of comparison.</p>
</td></tr>
<tr><td><code id="uni_compare_table_+3A_varlabels">varlabels</code></td>
<td>
<p>A character vector to relabel the variables in the table.</p>
</td></tr>
<tr><td><code id="uni_compare_table_+3A_ci_line">ci_line</code></td>
<td>
<p>If <code>TRUE</code>, confidence intervals will be displayed in a
separate line, otherwise, they are shown in the same line instead.</p>
</td></tr>
<tr><td><code id="uni_compare_table_+3A_ndigits">ndigits</code></td>
<td>
<p>The number of digits to round the numbers in table.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A table containing information on the univariate comparison based on
the <code><a href="#topic+uni_compare">uni_compare</a></code> function.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Get Data for comparison

data("card")

north &lt;- card[card$south==0,]
white &lt;- card[card$black==0,]

## use the function to plot the data 
univar_data&lt;-sampcompR::uni_compare(dfs = c("north","white"),
                                    benchmarks = c("card","card"),
                                    variables= c("age","educ","fatheduc","motheduc","wage","IQ"),
                                    funct = "abs_rel_mean",
                                    nboots=0,
                                    summetric="rmse2",
                                    data=TRUE)

table&lt;-sampcompR::uni_compare_table(univar_data)
noquote(table)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

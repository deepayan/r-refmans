<!DOCTYPE html><html><head><title>Help for package CsChange</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {CsChange}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#CsChange'><p>Testing for Change in C-Statistic</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Testing for Change in C-Statistic</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.7</td>
</tr>
<tr>
<td>Author:</td>
<td>Zhicheng Du, Yuantao Hao</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Zhicheng Du&lt;dgdzc@hotmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Calculate the confidence interval and p value for change in C-statistic. The adjusted C-statistic is calculated by using formula as "Somers' Dxy rank correlation"/2+0.5. The confidence interval was calculated by using the bootstrap method. The p value was calculated by using the Z testing method. Please refer to the article of Peter Ganz et al. (2016) &lt;<a href="https://doi.org/10.1001%2Fjama.2016.5951">doi:10.1001/jama.2016.5951</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Imports:</td>
<td>rms, survival, boot, stats, Hmisc</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-04-10 09:03:14 UTC; dgdzc</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-04-11 09:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='CsChange'>Testing for Change in C-Statistic</h2><span id='topic+CsChange'></span>

<h3>Description</h3>

<p>Calculate the confidence interval and p value for change in C-statistic. The adjusted C-statistic is calculated by using formula as &quot;Somers' Dxy rank correlation&quot;/2+0.5. The confidence interval was calculated by using the bootstrap method. The p value was calculated by using the Z testing method. Please refer to the article of Peter Ganz et al. (2016) &lt;doi:10.1001/jama.2016.5951&gt;.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CsChange(fit1,fit2,form1,form2,data,nb,signif,seed)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CsChange_+3A_fit1">fit1</code></td>
<td>
<p>an object from 'cph', 'coxph' or 'lrm' model</p>
</td></tr>
<tr><td><code id="CsChange_+3A_fit2">fit2</code></td>
<td>
<p>another object from 'cph', 'coxph' or 'lrm' model</p>
</td></tr>
<tr><td><code id="CsChange_+3A_form1">form1</code></td>
<td>
<p>unnecessary, the formula used in fit1, i.e., 'y~x1'</p>
</td></tr>
<tr><td><code id="CsChange_+3A_form2">form2</code></td>
<td>
<p>unnecessary, the formula used in fit2, i.e., 'y~x1+x2'</p>
</td></tr>
<tr><td><code id="CsChange_+3A_data">data</code></td>
<td>
<p>a data frame used in the fit1 or fit2</p>
</td></tr>
<tr><td><code id="CsChange_+3A_nb">nb</code></td>
<td>
<p>the number of bootstrap replicate, with a default of 200</p>
</td></tr>
<tr><td><code id="CsChange_+3A_signif">signif</code></td>
<td>
<p>the significant level of confidence interval, with a default of 0.05 and a two-sided test</p>
</td></tr>
<tr><td><code id="CsChange_+3A_seed">seed</code></td>
<td>
<p>an integer used to set for random seed, with a default of 123</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>change</code></td>
<td>
<p>in list 1, the change of C-statistic from fit1 to fit2</p>
</td></tr>
<tr><td><code>low</code>, <code>up</code></td>
<td>
<p>in list 1, the confidence interval of change</p>
</td></tr>
<tr><td><code>p</code></td>
<td>
<p>in list 1, the p value of testing for change</p>
</td></tr>
<tr><td><code>c</code></td>
<td>
<p>in list 2, the C-statistic of fit1 and fit2</p>
</td></tr>
<tr><td><code>low</code>, <code>up</code></td>
<td>
<p>in list 2, the confidence interval of change</p>
</td></tr>
</table>


<h3>Note</h3>

<p>Please feel free to contact us, if you have any advice and find any bug!
</p>
<p>Update description:
</p>
<p>Version 0.1.1: Fix the error of &quot;variables not found&quot; for the 'coxph' model.
</p>
<p>Version 0.1.2: Fix the error of data with missing value.
</p>
<p>Version 0.1.3: a) Add the c statistic of fit1 and fit2 to the output. b) Fix the error of model with multiple variables. c) Fix the error of independent variable with functions, i.e., rcc(), ploy().
</p>
<p>Version 0.1.4: a) Fix the error with the arguments of 'time=' and 'event=' in the coxph model. b) 'lrm' model was supported. c) Different dependent variables could be set.
</p>
<p>Version 0.1.5: a) Apply 'boot.ci' function to compute the confidence interFix the error with the arguments of 'time=' and 'event=' in the coxph model. b) 'lrm' model was supported. c) Different dependent variables could be set.
</p>
<p>Version 0.1.6: Fix minor bugs.
</p>
<p>Version 0.1.7: Fix the error from the update that 'survival' is no longer attached by rms.
</p>
<p>more functions will be included in 'CsChange' package!
</p>


<h3>Author(s)</h3>

<p>Zhicheng Du&lt;dgdzc@hotmail.com&gt;, Yuantao Hao&lt;haoyt@mail.sysu.edu.cn&gt;
</p>


<h3>References</h3>

<p>Peter Ganz, Bettina Heidecker, Kristian Hveem, Christian Jonasson, Shintaro Kato, Mark R. Segal, David G. Sterling, Stephen A. Williams. Development and Validation of a Protein-Based Risk Score for Cardiovascular Outcomes Among Patients With Stable Coronary Heart Disease. JAMA. 2016; 315(23):2532-2541. doi:10.1001/jama.2016.5951
</p>


<h3>Examples</h3>

<pre><code class='language-R'>require("rms")
require("survival")
set.seed(123)
n=50
age=50+12*rnorm(n)
sex=factor(sample(c('Male','Female'), n,rep=TRUE, prob=c(.6, .4)))
cens=15*runif(n)
h=.02*exp(.04*(age-50)+.8*(sex=='Female'))
dt=-log(runif(n))/h
e=ifelse(dt &lt;= cens,1,0)
dt=pmin(dt, cens)
units(dt)="Year"
data=data.frame(dt=dt,e=e,dt1=dt,dt2=dt,e1=e,e2=e,age,sex)
dd=datadist(age, sex)
options(datadist='dd')

#for 'cph' model
fit1=cph(Surv(dt,e)~age,data)
fit2=cph(Surv(dt,e)~age+sex,data)
CsChange(fit1,fit2,data=data,nb=20)

#for 'coxph' model
fit1=coxph(Surv(dt,e)~age,data)
fit2=coxph(Surv(dt,e)~age+sex,data)
CsChange(fit1,fit2,data=data,nb=20)

#for 'coxph' model
#fit1=coxph(Surv(dt1,e1)~age,data)
#fit2=coxph(Surv(dt2,e2)~age+sex,data)
#CsChange(fit1,fit2,data=data,nb=20)

#for 'coxph' model
#fit1=coxph(Surv(dt,e)~age+sex,data)
#fit2=coxph(Surv(dt,e)~rcs(age)+sex,data)
#CsChange(fit1,fit2,data=data,nb=20)#ignore the warnings messages
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package nlmixr2lib</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {nlmixr2lib}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#addDirToModelDb'><p>Add a directory to the modeldb</p></a></li>
<li><a href='#addEta'><p>Add random effects to a model</p></a></li>
<li><a href='#addResErr'><p>Add residual error to a model</p></a></li>
<li><a href='#modeldb'><p>Model library for nlmixr2</p></a></li>
<li><a href='#modellib'><p>Get the model from the model library</p></a></li>
<li><a href='#readModelDb'><p>Read a model from the nlmixr2 model database</p></a></li>
<li><a href='#searchReplace'><p>Search within a model to replace part of the model</p></a></li>
<li><a href='#updateOncologyXenograftSimeoni2004'><p>Update an oncology xenograft model based on Simeoni 2004</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.0</td>
</tr>
<tr>
<td>Title:</td>
<td>A Model Library for 'nlmixr2'</td>
</tr>
<tr>
<td>Description:</td>
<td>A model library for 'nlmixr2'.  The models include
  (and plan to include) pharmacokinetic, pharmacodynamic, and
  disease models used in pharmacometrics.  Where applicable,
  references for each model are included in the meta-data for
  each individual model.  The package also includes model
  composition and modification functions to make model updates
  easier.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>checkmate, cli, methods, nlmixr2est, rxode2 (&ge; 2.0.12)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/nlmixr2/nlmixr2lib">https://github.com/nlmixr2/nlmixr2lib</a>,
<a href="https://nlmixr2.github.io/nlmixr2lib/">https://nlmixr2.github.io/nlmixr2lib/</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, knitr, rmarkdown, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-03-29 15:27:50 UTC; wdenn</td>
</tr>
<tr>
<td>Author:</td>
<td>Richard Hooijmaijers [aut],
  Matthew Fidler <a href="https://orcid.org/0000-0001-8538-6691"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Bill Denney <a href="https://orcid.org/0000-0002-5759-428X"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Bill Denney &lt;wdenney@humanpredictions.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-03-29 16:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='addDirToModelDb'>Add a directory to the modeldb</h2><span id='topic+addDirToModelDb'></span><span id='topic+addFileToModelDb'></span>

<h3>Description</h3>

<p>Add a directory to the modeldb
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addDirToModelDb(dir, modeldb = data.frame())

addFileToModelDb(dir, file, modeldb)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addDirToModelDb_+3A_dir">dir</code></td>
<td>
<p>Directory name containing model files</p>
</td></tr>
<tr><td><code id="addDirToModelDb_+3A_modeldb">modeldb</code></td>
<td>
<p>The starting modeldb data.frame</p>
</td></tr>
<tr><td><code id="addDirToModelDb_+3A_file">file</code></td>
<td>
<p>The file name (without the directory name)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The updated modeldb data.frame
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>addFileToModelDb()</code>: Add a file to the modeldb
</p>
</li></ul>

<hr>
<h2 id='addEta'>Add random effects to a model</h2><span id='topic+addEta'></span>

<h3>Description</h3>

<p>Add random effects to a model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addEta(model, eta)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addEta_+3A_model">model</code></td>
<td>
<p>The model as a function</p>
</td></tr>
<tr><td><code id="addEta_+3A_eta">eta</code></td>
<td>
<p>vector with the parameters to add random effects (sometimes
referred to as inter-individual variability, IIV) on</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The model with eta added to the requested parameters
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(rxode2)
readModelDb("PK_1cmt") %&gt;% addEta("ka")
</code></pre>

<hr>
<h2 id='addResErr'>Add residual error to a model</h2><span id='topic+addResErr'></span>

<h3>Description</h3>

<p>Add residual error to a model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addResErr(model, reserr)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addResErr_+3A_model">model</code></td>
<td>
<p>The model as a function</p>
</td></tr>
<tr><td><code id="addResErr_+3A_reserr">reserr</code></td>
<td>
<p>The type or types of residual error (currently <code>"addSd"</code>,
<code>"propSd"</code>, and <code>"lnormSd"</code> are accepted)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For <code>reserr</code>, the parameter will be named with the dependent
variable from the model as a prefix.  For example, if the dependent
variable in the model is <code>cp</code>, the parameter name for <code>propSd</code>
will become <code>cppropSd</code>.
</p>


<h3>Value</h3>

<p>The model with residual error modified
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(rxode2)
readModelDb("PK_1cmt") %&gt;% addResErr("addSd")
readModelDb("PK_1cmt") %&gt;% addResErr("lnormSd")
readModelDb("PK_1cmt") %&gt;% addResErr(c("addSd", "propSd"))
</code></pre>

<hr>
<h2 id='modeldb'>Model library for nlmixr2</h2><span id='topic+modeldb'></span>

<h3>Description</h3>

<p>This is a data frame of the available models in nlmixr2lib, it is generated
with the package.  Custom modeldb may be used.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>modeldb
</code></pre>


<h3>Format</h3>

<p>A data frame with 13 rows and 5 columns
</p>

<dl>
<dt>name</dt><dd><p>Model name that can be used to extract the model from the model library</p>
</dd>
<dt>description</dt><dd><p>Model description in free from text; in model itself</p>
</dd>
<dt>parameters</dt><dd><p>A comma separated string listing either the parameter in the model defined by population/individual effects or a population effect parameter</p>
</dd>
<dt>DV</dt><dd><p>The definition of the dependent variable(s)</p>
</dd>
<dt>filename</dt><dd><p>Filename of the model.  By default these are installed in the model library and read on demand</p>
</dd>
</dl>


<hr>
<h2 id='modellib'>Get the model from the model library</h2><span id='topic+modellib'></span>

<h3>Description</h3>

<p>This function gets a model from the available model library
</p>


<h3>Usage</h3>

<pre><code class='language-R'>modellib(name = NULL, eta = NULL, reserr = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="modellib_+3A_name">name</code></td>
<td>
<p>character with the name of the model to load (if <code>NULL</code>,
lists all available base models)</p>
</td></tr>
<tr><td><code id="modellib_+3A_eta">eta</code></td>
<td>
<p>vector with the parameters to add random effects (sometimes
referred to as inter-individual variability, IIV) on</p>
</td></tr>
<tr><td><code id="modellib_+3A_reserr">reserr</code></td>
<td>
<p>The type or types of residual error (currently <code>"addSd"</code>,
<code>"propSd"</code>, and <code>"lnormSd"</code> are accepted)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is a very first draft just to look at the proof of concept
</p>


<h3>Value</h3>

<p>The function returns a function the model code (or <code>NULL</code> if the
<code>model = NULL</code>)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>modellib(name="PK_1cmt")
modellib(name="PK_1cmt", eta = c("ka", "vc"), reserr = "addSd")
modellib(name="PK_1cmt", reserr = "addSd")
</code></pre>

<hr>
<h2 id='readModelDb'>Read a model from the nlmixr2 model database</h2><span id='topic+readModelDb'></span>

<h3>Description</h3>

<p>Read a model from the nlmixr2 model database
</p>


<h3>Usage</h3>

<pre><code class='language-R'>readModelDb(name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="readModelDb_+3A_name">name</code></td>
<td>
<p>The name of the model (must be one of <code>modeldb$name</code>)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The model as a function
</p>


<h3>Examples</h3>

<pre><code class='language-R'>readModelDb("PK_1cmt")
</code></pre>

<hr>
<h2 id='searchReplace'>Search within a model to replace part of the model</h2><span id='topic+searchReplace'></span><span id='topic+searchReplaceHelper'></span>

<h3>Description</h3>

<p>Search within a model to replace part of the model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>searchReplace(object, find, replace)

searchReplaceHelper(object, find, replace)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="searchReplace_+3A_object">object</code></td>
<td>
<p>function specifying the nlmixr2 model</p>
</td></tr>
<tr><td><code id="searchReplace_+3A_find">find</code>, <code id="searchReplace_+3A_replace">replace</code></td>
<td>
<p>Character scalars of parts of the model to replace</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>object</code> with <code>find</code> replaced with <code>replace</code>
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>searchReplaceHelper()</code>: A helper function for searchReplace (not intended
for users to use directly)
</p>
</li></ul>

<hr>
<h2 id='updateOncologyXenograftSimeoni2004'>Update an oncology xenograft model based on Simeoni 2004</h2><span id='topic+updateOncologyXenograftSimeoni2004'></span>

<h3>Description</h3>

<p>Update an oncology xenograft model based on Simeoni 2004
</p>


<h3>Usage</h3>

<pre><code class='language-R'>updateOncologyXenograftSimeoni2004(
  object,
  ncmt,
  damagedCmtName = "damagedCells",
  drugEffectName = "drugEffectCyclingCells",
  undamagedCmtName = "cyclingCells",
  tumorVolName = "tumorVol",
  transitRateName = "damageTransit"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="updateOncologyXenograftSimeoni2004_+3A_object">object</code></td>
<td>
<p>Fitted object or function specifying the model.</p>
</td></tr>
<tr><td><code id="updateOncologyXenograftSimeoni2004_+3A_ncmt">ncmt</code></td>
<td>
<p>The desired number of damaged cell compartments</p>
</td></tr>
<tr><td><code id="updateOncologyXenograftSimeoni2004_+3A_damagedcmtname">damagedCmtName</code>, <code id="updateOncologyXenograftSimeoni2004_+3A_undamagedcmtname">undamagedCmtName</code>, <code id="updateOncologyXenograftSimeoni2004_+3A_tumorvolname">tumorVolName</code></td>
<td>
<p>character string names
for the compartments for damaged cells, undamaged cells, and the calculated
tumor volume (the sum of undamaged and damaged cells)</p>
</td></tr>
<tr><td><code id="updateOncologyXenograftSimeoni2004_+3A_drugeffectname">drugEffectName</code>, <code id="updateOncologyXenograftSimeoni2004_+3A_transitratename">transitRateName</code></td>
<td>
<p>character string names of the drug effect and transit rate (as used in the model block)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An updated model with the new number of compartments
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(rxode2)
readModelDb("oncology_xenograft_simeoni_2004") %&gt;%
  updateOncologyXenograftSimeoni2004(ncmt = 5)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package darksky</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {darksky}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#darksky'><p>Tools to Work with the Dark Sky API</p></a></li>
<li><a href='#darksky_api_key'><p>Get or set DARKSKY_API_KEY value</p></a></li>
<li><a href='#get_current_forecast'><p>Retrieve the current forecast (for the next week)</p></a></li>
<li><a href='#get_forecast_for'><p>Retrieve weather data for a specific place/time</p></a></li>
<li><a href='#plot.darksky'><p>Plot method for darksky objects</p></a></li>
<li><a href='#print.darksky'><p>Slightly more human-readable output for darksky objects</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Tools to Work with the 'Dark Sky' 'API'</td>
</tr>
<tr>
<td>Version:</td>
<td>1.3.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2017-09-20</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Bob Rudis &lt;bob@rud.is&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides programmatic access to the 'Dark Sky' 'API' 
    <a href="https://darksky.net/dev/docs">https://darksky.net/dev/docs</a>, which provides current or historical global 
    weather conditions.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/hrbrmstr/darksky">https://github.com/hrbrmstr/darksky</a></td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, covr</td>
</tr>
<tr>
<td>Imports:</td>
<td>stats, httr, grid, gridExtra, gtable, ggplot2, plyr, utils</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.2.0)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/hrbrmstr/darksky/issues">https://github.com/hrbrmstr/darksky/issues</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.0.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2017-09-20 11:45:23 UTC; bob</td>
</tr>
<tr>
<td>Author:</td>
<td>Bob Rudis [aut, cre],
  Lasse Vilhelmsen [ctb],
  David Severski [ctb]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2017-09-20 11:49:20 UTC</td>
</tr>
</table>
<hr>
<h2 id='darksky'>Tools to Work with the Dark Sky API</h2><span id='topic+darksky'></span><span id='topic+darksky-package'></span>

<h3>Description</h3>

<p>Programmatic access to the Dark Sky API &lt;https://darksky.net/dev/docs&gt;,
which provides current or historical global weather conditions.
</p>


<h3>Author(s)</h3>

<p>Bob Rudis (bob@rud.is)
</p>

<hr>
<h2 id='darksky_api_key'>Get or set DARKSKY_API_KEY value</h2><span id='topic+darksky_api_key'></span>

<h3>Description</h3>

<p>The API wrapper functions in this package all rely on a Dark Sky API
key residing in the environment variable <code>DARKSKY_API_KEY</code>. The
easiest way to accomplish this is to set it in the '<code>.Renviron</code>' file in your
home directory.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>darksky_api_key(force = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="darksky_api_key_+3A_force">force</code></td>
<td>
<p>force setting a new Dark Sky API key for the current environment?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>atomic character vector containing the Dark Sky API key
</p>

<hr>
<h2 id='get_current_forecast'>Retrieve the current forecast (for the next week)</h2><span id='topic+get_current_forecast'></span>

<h3>Description</h3>

<p>The Dark Sky API lets you query for most locations on the globe, and returns:
</p>
 <ol>
<li><p>current conditions </p>
</li>
<li><p>minute-by-minute forecasts out to 1 hour
(where available) </p>
</li>
<li><p>hour-by-hour forecasts out to 48 hours </p>
</li>
<li><p>day-by-day
forecasts out to 7 days </p>
</li></ol>



<h3>Usage</h3>

<pre><code class='language-R'>get_current_forecast(latitude, longitude, units = "us", language = "en",
  exclude = NULL, extend = NULL, add_json = FALSE, add_headers = FALSE,
  ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_current_forecast_+3A_latitude">latitude</code></td>
<td>
<p>forecast latitude (character, decimal format)</p>
</td></tr>
<tr><td><code id="get_current_forecast_+3A_longitude">longitude</code></td>
<td>
<p>forecast longitude (character, decimal format)</p>
</td></tr>
<tr><td><code id="get_current_forecast_+3A_units">units</code></td>
<td>
<p>return the API response in units other than the default Imperial unit</p>
</td></tr>
<tr><td><code id="get_current_forecast_+3A_language">language</code></td>
<td>
<p>return text summaries in the desired language</p>
</td></tr>
<tr><td><code id="get_current_forecast_+3A_exclude">exclude</code></td>
<td>
<p>exclude some number of data blocks from the API response. This is useful
for reducing latency and saving cache space. This should be a comma-separated string
(without spaces) including one or more of the following: (<code>currently</code>,
<code>minutely</code>, <code>hourly</code>, <code>daily</code>, <code>alerts</code>, <code>flags</code>). Crafting
a request with all of the above blocks excluded is exceedingly silly and not
recommended. Setting this parameter to <code>NULL</code> (the default) does not exclude any
parameters from the results.</p>
</td></tr>
<tr><td><code id="get_current_forecast_+3A_extend">extend</code></td>
<td>
<p>setting this parameter to <code>hourly</code> the API will return hourly data
for the next seven days, rather than the next two.</p>
</td></tr>
<tr><td><code id="get_current_forecast_+3A_add_json">add_json</code></td>
<td>
<p>add the raw JSON response to the object?</p>
</td></tr>
<tr><td><code id="get_current_forecast_+3A_add_headers">add_headers</code></td>
<td>
<p>add the return headers to the object?</p>
</td></tr>
<tr><td><code id="get_current_forecast_+3A_...">...</code></td>
<td>
<p>pass through parameters to <code>httr::GET</code> (e.g. to configure ssl options
or proxies)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If you wish to have results in something besides Imperial units, set <code>units</code> to
one of (<code>si</code>, <code>ca</code>, <code>uk</code>). Setting <code>units</code> to <code>auto</code> will have
the API select the relevant units automatically, based on geographic location. This
value is set to <code>us</code> (Imperial) units by default.
</p>
<p>If you wish to have text summaries presented in a different language, set
<code>language</code> to one of (<code>ar</code>, <code>bs</code>, <code>de</code>, <code>es</code>, <code>fr</code>,
<code>it</code>, <code>nl</code>, <code>pl</code>, <code>pt</code>, <code>ru</code>, <code>sv</code>, <code>tet</code>,
<code>tr</code>, <code>x-pig-latin</code>, <code>zh</code>). This value is set to <code>en</code> (English) by
default.
</p>
<p>See the Options section of the official
<a href="https://darksky.net/dev/docs">Dark Sky API documentation</a> for more
information.
</p>


<h3>Value</h3>

<p>an <code>darksky</code> object that contains the original JSON response object
(optionally), a list of  named 'tbl_df' 'data.frame' objects corresponding to what
was returned by the API and (optionally) relevant response headers (<code>cache-control</code>,
<code>expires</code>, <code>x-forecast-api-calls</code>, <code>x-response-time</code>).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
tmp &lt;- get_current_forecast(37.8267, -122.423)

## End(Not run)
</code></pre>

<hr>
<h2 id='get_forecast_for'>Retrieve weather data for a specific place/time</h2><span id='topic+get_forecast_for'></span>

<h3>Description</h3>

<p>Query for a specific time, past or future (for many places, 60 years in the past to 10
years in the future).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_forecast_for(latitude, longitude, timestamp, units = "us",
  language = "en", exclude = NULL, add_json = FALSE,
  add_headers = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_forecast_for_+3A_latitude">latitude</code></td>
<td>
<p>forecast latitude (character, decimal format)</p>
</td></tr>
<tr><td><code id="get_forecast_for_+3A_longitude">longitude</code></td>
<td>
<p>forecast longitude (character, decimal format)</p>
</td></tr>
<tr><td><code id="get_forecast_for_+3A_timestamp">timestamp</code></td>
<td>
<p>should either be a UNIX time (that is, seconds since midnight GMT on 1
Jan 1970) or a string formatted as follows: <code>[YYYY]-[MM]-[DD]T[HH]:[MM]:[SS]</code>
(with an optional time zone formatted as <code>Z</code> for GMT time or
<code>[+|-][HH][MM]</code> for an offset in hours or minutes). For the latter format, if no
timezone is present, local time (at the provided latitude and longitude) is assumed.
(This string format is a subset of ISO 8601 time. An as example,
<code>2013-05-06T12:00:00-0400</code>.) If an R <code>Date</code> or <code>POSIXct</code> object is passed in
it will be converted into the proper format.</p>
</td></tr>
<tr><td><code id="get_forecast_for_+3A_units">units</code></td>
<td>
<p>return the API response in units other than the default Imperial unit</p>
</td></tr>
<tr><td><code id="get_forecast_for_+3A_language">language</code></td>
<td>
<p>return text summaries in the desired language</p>
</td></tr>
<tr><td><code id="get_forecast_for_+3A_exclude">exclude</code></td>
<td>
<p>exclude some number of data blocks from the API response. This is useful
for reducing latency and saving cache space. This should be a comma-separated string
(without spaces) including one or more of the following: (<code>currently</code>,
<code>minutely</code>, <code>hourly</code>, <code>daily</code>, <code>alerts</code>, <code>flags</code>). Crafting
a request with all of the above blocks excluded is exceedingly silly and not
recommended. Setting this parameter to <code>NULL</code> (the default) does not exclude any
parameters from the results.</p>
</td></tr>
<tr><td><code id="get_forecast_for_+3A_add_json">add_json</code></td>
<td>
<p>add the raw JSON response to the object?</p>
</td></tr>
<tr><td><code id="get_forecast_for_+3A_add_headers">add_headers</code></td>
<td>
<p>add the return headers to the object?</p>
</td></tr>
<tr><td><code id="get_forecast_for_+3A_...">...</code></td>
<td>
<p>pass through parameters to <code>httr::GET</code> (e.g. to configure ssl options
or proxies)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If you wish to have results in something besides Imperial units, set <code>units</code> to
one of (<code>si</code>, <code>ca</code>, <code>uk</code>). Setting <code>units</code> to <code>auto</code> will have
the API select the relevant units automatically, based on geographic location. This
value is set to <code>us</code> (Imperial) units by default.
</p>
<p>If you wish to have text summaries presented in a different language, set
<code>language</code> to one of (<code>ar</code>, <code>bs</code>, <code>de</code>, <code>es</code>, <code>fr</code>,
<code>it</code>, <code>nl</code>, <code>pl</code>, <code>pt</code>, <code>ru</code>, <code>sv</code>, <code>tet</code>,
<code>tr</code>, <code>x-pig-latin</code>, <code>zh</code>). This value is set to <code>en</code> (English) by
default.
</p>
<p>See the Options section of the official
<a href="https://darksky.net/dev/docs">Dark Sky API documentation</a> for more
information.
</p>


<h3>Value</h3>

<p>an <code>darksky</code> object that contains the original JSON response object (optionally), a
list of  named <code>tbl_df</code> <code>data.frame</code> objects corresponding to what was returned by
the API and (optionally) relevant response headers (<code>cache-control</code>, <code>expires</code>,
<code>x-forecast-api-calls</code>, <code>x-response-time</code>).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
tmp &lt;- get_forecast_for(37.8267,-122.423, "2013-05-06T12:00:00-0400")

## End(Not run)
</code></pre>

<hr>
<h2 id='plot.darksky'>Plot method for darksky objects</h2><span id='topic+plot.darksky'></span>

<h3>Description</h3>

<p>Uses ggplot2 &amp; grid.arrange to produce graphs for darksky objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'darksky'
plot(x, ..., readings = c("hourly", "minutely", "daily"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot.darksky_+3A_x">x</code></td>
<td>
<p>a darksky x</p>
</td></tr>
<tr><td><code id="plot.darksky_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
<tr><td><code id="plot.darksky_+3A_readings">readings</code></td>
<td>
<p>specify which readings to plot. will plot all available by default</p>
</td></tr>
</table>


<h3>Value</h3>

<p>frame grob
</p>


<h3>Note</h3>

<p>only forecast/readings components of <code>x</code> that have more than one observation
will be plotted
</p>

<hr>
<h2 id='print.darksky'>Slightly more human-readable output for darksky objects</h2><span id='topic+print.darksky'></span>

<h3>Description</h3>

<p>Slightly more human-readable output for darksky objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'darksky'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.darksky_+3A_x">x</code></td>
<td>
<p>a darksky object</p>
</td></tr>
<tr><td><code id="print.darksky_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
</table>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

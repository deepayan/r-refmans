<!DOCTYPE html><html><head><title>Help for package mimi</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {mimi}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#acs2016'><p>Excerpt of the 2016 Public Use American Census Survey (Alabama only)</p></a></li>
<li><a href='#covmat'><p>construct covariate matrix (predictor matrix) in the right</p>
format for input to the mimi or cv.mimi functions from tables of attributes
about the rows or columns of data frames.</a></li>
<li><a href='#cv.mimi'><p>selection of the regularization</p>
parameters (lambda1 and lambda2) of the mimi function by cross-validation</a></li>
<li><a href='#mimi'><p>main function: low-rank models to analyze and impute mixed and incomplete data frames</p>
with numeric, binary and discrete variables, and missing values</a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Main Effects and Interactions in Mixed and Incomplete Data</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.0</td>
</tr>
<tr>
<td>Author:</td>
<td>Geneviève Robin</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Genevieve Robin &lt;genevieve.robin@polytechnique.edu&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Generalized low-rank models for mixed and incomplete data frames. The main function may be used for dimensionality reduction of imputation of numeric, binary and count data (simultaneously). Main effects such as column means, group effects, or effects of row-column side information (e.g. user/item attributes in recommendation system) may also be modelled in addition to the low-rank model. Geneviève Robin, Olga Klopp, Julie Josse, Éric Moulines, Robert Tibshirani (2018) &lt;<a href="https://arxiv.org/abs/1806.09734">arXiv:1806.09734</a>&gt;.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>glmnet, softImpute, stats, FactoMineR, parallel, doParallel,
foreach, data.table, rARPACK</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.1.0</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2019-03-06 23:03:30 UTC; genevieverobin</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2019-03-07 06:20:04 UTC</td>
</tr>
</table>
<hr>
<h2 id='acs2016'>Excerpt of the 2016 Public Use American Census Survey (Alabama only)</h2><span id='topic+acs2016'></span>

<h3>Description</h3>

<p>A dataset containing answers of 24614 Alabama households to 20 questions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>acs2016
</code></pre>


<h3>Format</h3>

<p>survey A data frame with 24614 rows and 20 columns:
</p>

<dl>
<dt>NP</dt><dd><p>Number of persons in household</p>
</dd>
<dt>ACCESS</dt><dd><p>Access to the internet. 1 yes 0 no.</p>
</dd>
<dt>AGS</dt><dd><p>Sales of agriculture products ($, yearly)</p>
</dd>
<dt>BATH</dt><dd><p>Bathtub or shower. 0 yes 1 no.</p>
</dd>
<dt>BDSP</dt><dd><p>Number of bedrooms in household.</p>
</dd>
<dt>BROADBND</dt><dd><p>Cellular data plan for a smartphone or other mobile device</p>
</dd></dl>
<p>1 yes 2 no
</p>
<dl>
<dt>COMPOTHX</dt><dd><p>Other computer equipment. 1 yes 2 no</p>
</dd>
<dt>CONP</dt><dd><p>Condo fee ($, monthly)</p>
</dd>
<dt>ELEP</dt><dd><p>Electricity ($, monthly)</p>
</dd>
<dt>FS</dt><dd><p>Food Stamps. 0 no 1 yes</p>
</dd>
<dt>FULP</dt><dd><p>Fuel cost ($, yearly)</p>
</dd>
<dt>GASP</dt><dd><p>Gas ($, monthly)</p>
</dd>
<dt>MHP</dt><dd><p>Mobile home costs</p>
</dd></dl>
<p>$, yearly
</p>
<dl>
<dt>REFR</dt><dd><p>Refrigerator, 1 yes, 2 no.</p>
</dd>
<dt>RMSP</dt><dd><p>Number of rooms in household</p>
</dd>
<dt>RWAT</dt><dd><p>Hot and cold running water. 1 yes 2 no</p>
</dd>
<dt>SATELLITE</dt><dd><p>Satellite internet service. 1 yes 2 no.</p>
</dd>
<dt>WATP</dt><dd><p>Water ($, yearly)</p>
</dd>
<dt>FFINCP</dt><dd><p>Family income allocation flag (past 12 months) 0 No 1 yes.</p>
</dd>
</dl>


<h3>Source</h3>

<p><a href="https://factfinder.census.gov/faces/nav/jsf/pages/searchresults.xhtml?refresh=t">https://factfinder.census.gov/faces/nav/jsf/pages/searchresults.xhtml?refresh=t</a>
</p>

<hr>
<h2 id='covmat'>construct covariate matrix (predictor matrix) in the right
format for input to the mimi or cv.mimi functions from tables of attributes
about the rows or columns of data frames.</h2><span id='topic+covmat'></span>

<h3>Description</h3>

<p>construct covariate matrix (predictor matrix) in the right
format for input to the mimi or cv.mimi functions from tables of attributes
about the rows or columns of data frames.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>covmat(n, p, R = NULL, C = NULL, E = NULL, center = T)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="covmat_+3A_n">n</code></td>
<td>
<p>number of rows</p>
</td></tr>
<tr><td><code id="covmat_+3A_p">p</code></td>
<td>
<p>number ofcolumns</p>
</td></tr>
<tr><td><code id="covmat_+3A_r">R</code></td>
<td>
<p>nxK1 matrix of row covariates</p>
</td></tr>
<tr><td><code id="covmat_+3A_c">C</code></td>
<td>
<p>nxK2 matrix of column covariates</p>
</td></tr>
<tr><td><code id="covmat_+3A_e">E</code></td>
<td>
<p>(n+p)xK3 matrix of row-column covariates</p>
</td></tr>
<tr><td><code id="covmat_+3A_center">center</code></td>
<td>
<p>boolean indicating whether the returned covariate matrix should be centered (for identifiability)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the joint product of R and C column-binded with E, a (np)x(K1+K2+K3) matrix in order row1col1,row2col1,...,rowncol1, row1col2, row2col2,...,rowncolp
</p>


<h3>Examples</h3>

<pre><code class='language-R'>R &lt;- matrix(rnorm(10), 5)
C &lt;- matrix(rnorm(9), 3)
covs &lt;- covmat(5,3,R,C)
</code></pre>

<hr>
<h2 id='cv.mimi'>selection of the regularization
parameters (lambda1 and lambda2) of the mimi function by cross-validation</h2><span id='topic+cv.mimi'></span>

<h3>Description</h3>

<p>selection of the regularization
parameters (lambda1 and lambda2) of the mimi function by cross-validation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cv.mimi(y, model = c("low-rank", "covariates"), var.type, x = NULL,
  groups = NULL, N = 5, algo = c("mcgd", "bcgd"), thresh = 1e-05,
  maxit = 100, max.rank = NULL, trace.it = F, parallel = F,
  len = 15)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cv.mimi_+3A_y">y</code></td>
<td>
<p>[matrix, data.frame] incomplete and mixed data frame (nxp)</p>
</td></tr>
<tr><td><code id="cv.mimi_+3A_model">model</code></td>
<td>
<p>either one of &quot;groups&quot;, &quot;covariates&quot; or &quot;low-rank&quot;, indicating which model should be fitted</p>
</td></tr>
<tr><td><code id="cv.mimi_+3A_var.type">var.type</code></td>
<td>
<p>vector of length p indicating types of y columns (gaussian, binomial, poisson)</p>
</td></tr>
<tr><td><code id="cv.mimi_+3A_x">x</code></td>
<td>
<p>[matrix, data.frame] covariate matrix (npxq)</p>
</td></tr>
<tr><td><code id="cv.mimi_+3A_groups">groups</code></td>
<td>
<p>factor of length n indicating groups (optional)</p>
</td></tr>
<tr><td><code id="cv.mimi_+3A_n">N</code></td>
<td>
<p>[integer] number of cross-validation folds</p>
</td></tr>
<tr><td><code id="cv.mimi_+3A_algo">algo</code></td>
<td>
<p>type of algorithm to use, either one of &quot;bcgd&quot; (small dimensions, gaussian and binomial variables) or &quot;mcgd&quot; (large dimensions, poisson variables)</p>
</td></tr>
<tr><td><code id="cv.mimi_+3A_thresh">thresh</code></td>
<td>
<p>[positive number] convergence threshold, default is 1e-5</p>
</td></tr>
<tr><td><code id="cv.mimi_+3A_maxit">maxit</code></td>
<td>
<p>[integer] maximum number of iterations, default is 100</p>
</td></tr>
<tr><td><code id="cv.mimi_+3A_max.rank">max.rank</code></td>
<td>
<p>[integer] maximum rank of interaction matrix, default is 2</p>
</td></tr>
<tr><td><code id="cv.mimi_+3A_trace.it">trace.it</code></td>
<td>
<p>[boolean] whether information about convergence should be printed</p>
</td></tr>
<tr><td><code id="cv.mimi_+3A_parallel">parallel</code></td>
<td>
<p>[boolean] whether the N-fold cross-validation should be parallelized, default value is TRUE</p>
</td></tr>
<tr><td><code id="cv.mimi_+3A_len">len</code></td>
<td>
<p>[integer] the size of the grid</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with the following elements
</p>
<table>
<tr><td><code>lambda1</code></td>
<td>
<p>regularization parameter estimated by cross-validation for nuclear norm penalty (interaction matrix)</p>
</td></tr>
<tr><td><code>lambda2</code></td>
<td>
<p>regularization parameter estimated by cross-validation for l1 norm penalty (main effects)</p>
</td></tr>
<tr><td><code>errors</code></td>
<td>
<p>a table containing the prediction errors for all pairs of parameters</p>
</td></tr>
</table>

<hr>
<h2 id='mimi'>main function: low-rank models to analyze and impute mixed and incomplete data frames
with numeric, binary and discrete variables, and missing values</h2><span id='topic+mimi'></span>

<h3>Description</h3>

<p>main function: low-rank models to analyze and impute mixed and incomplete data frames
with numeric, binary and discrete variables, and missing values
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mimi(y, model = c("low-rank", "multilevel", "covariates"), x = NULL,
  groups = NULL, var.type = c("gaussian", "binomial", "poisson"),
  lambda1, lambda2, algo = c("mcgd", "bcgd"), maxit = 100,
  alpha0 = NULL, theta0 = NULL, thresh = 1e-05, trace.it = F,
  max.rank = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mimi_+3A_y">y</code></td>
<td>
<p>nxp matrix of observations</p>
</td></tr>
<tr><td><code id="mimi_+3A_model">model</code></td>
<td>
<p>either one of &quot;groups&quot;, &quot;covariates&quot; or &quot;low-rank&quot;, indicating which model should be fitted</p>
</td></tr>
<tr><td><code id="mimi_+3A_x">x</code></td>
<td>
<p>(np)xN matrix of covariates (optional)</p>
</td></tr>
<tr><td><code id="mimi_+3A_groups">groups</code></td>
<td>
<p>factor of length n indicating groups (optional)</p>
</td></tr>
<tr><td><code id="mimi_+3A_var.type">var.type</code></td>
<td>
<p>vector of length p indicating the data types of the columns of y (gaussian, binomial or poisson)</p>
</td></tr>
<tr><td><code id="mimi_+3A_lambda1">lambda1</code></td>
<td>
<p>positive number regularization parameter for nuclear norm penalty</p>
</td></tr>
<tr><td><code id="mimi_+3A_lambda2">lambda2</code></td>
<td>
<p>positive number regularization parameter for l1 norm penalty</p>
</td></tr>
<tr><td><code id="mimi_+3A_algo">algo</code></td>
<td>
<p>type of algorithm to use, either one of &quot;bcgd&quot; (small dimensions, gaussian and binomial variables) or &quot;mcgd&quot; (large dimensions, poisson variables)</p>
</td></tr>
<tr><td><code id="mimi_+3A_maxit">maxit</code></td>
<td>
<p>integer maximum number of iterations</p>
</td></tr>
<tr><td><code id="mimi_+3A_alpha0">alpha0</code></td>
<td>
<p>vector of length N: initial value of regression parameter (optional)</p>
</td></tr>
<tr><td><code id="mimi_+3A_theta0">theta0</code></td>
<td>
<p>matrix of size nxp: initial value of interactions (optional)</p>
</td></tr>
<tr><td><code id="mimi_+3A_thresh">thresh</code></td>
<td>
<p>positive number, convergence criterion</p>
</td></tr>
<tr><td><code id="mimi_+3A_trace.it">trace.it</code></td>
<td>
<p>boolean indicating whether convergence information should be printed</p>
</td></tr>
<tr><td><code id="mimi_+3A_max.rank">max.rank</code></td>
<td>
<p>integer, maximum rank of interaction matrix theta</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with the following elements
</p>
<table>
<tr><td><code>alpha</code></td>
<td>
<p>vector of main effects</p>
</td></tr>
<tr><td><code>theta</code></td>
<td>
<p>interaction matrix</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>n = 6; p = 2
y1 &lt;- matrix(rnorm(mean = 0, n * p), nrow = n)
y2 &lt;- matrix(rnorm(mean = 0, n * p), nrow = n)
y3 &lt;- matrix(rnorm(mean = 2, n * p), nrow = n)
y &lt;- cbind(matrix(rnorm(mean = c(y1), n * p), nrow = n),
           matrix(rbinom(n * p, prob = c(exp(y2)/(1+exp(y2))), size = 1), nrow = n),
           matrix(rpois(n * p, lambda = c(exp(y3))), nrow = n))
var.type &lt;- c(rep("gaussian", p), rep("binomial", p), rep("poisson", p))
idx_NA &lt;- sample(1:(3 * n * p), size = round(0.01 * 3 * n * p))
y[idx_NA] &lt;- NA
res &lt;- mimi(y, model = "low-rank", var.type = var.type, lambda1 = 1, maxit=5)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

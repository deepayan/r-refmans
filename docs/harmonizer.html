<!DOCTYPE html><html lang="en"><head><title>Help for package harmonizer</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {harmonizer}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#cn8_to_bec'><p>Concordance list between CN8 and BEC</p></a></li>
<li><a href='#get_data_directory'><p>Data path for custom data</p></a></li>
<li><a href='#harmonize_cn8'><p>Harmonization of CN8 product codes</p></a></li>
<li><a href='#harmonize_pc8'><p>Harmonization of PC8 product codes</p></a></li>
<li><a href='#history_matrix_cn8'><p>History matrix of CN8 product codes</p></a></li>
<li><a href='#history_matrix_pc8'><p>History matrix of PC8 product codes</p></a></li>
<li><a href='#pc8_to_bec'><p>concordance list between PC8 and BEC</p></a></li>
<li><a href='#utilize_cn8'><p>A possible utilization of harmonized CN8 products codes</p></a></li>
<li><a href='#utilize_pc8'><p>A possible utilization of harmonized PC8 products codes</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-01-25</td>
</tr>
<tr>
<td>Title:</td>
<td>Harmonizing CN8 and PC8 Product Codes</td>
</tr>
<tr>
<td>Version:</td>
<td>0.3.2</td>
</tr>
<tr>
<td>Author:</td>
<td>Christoph Baumgartner
    <a href="https://orcid.org/0000-0002-2681-071X"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [cre, aut],
  Stjepan Srhoj <a href="https://orcid.org/0000-0002-7105-8088"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Janette Walde <a href="https://orcid.org/0000-0002-1241-5292"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Christoph Baumgartner &lt;Christoph.Baumgartner@uibk.ac.at&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Several functions are provided to harmonize CN8 (Combined Nomenclature 
	8 digits) and PC8 (Production Communautaire 8 digits) product codes over 
	time and the classification systems HS6 and BEC. Harmonization of CN8 
	codes are possible by default from 1995 to 2022 and of PC8 from 2001 to 
	2021, respectively. </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>stats, utils, methods</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Suggests:</td>
<td>rmarkdown, knitr</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-01-25 15:40:24 UTC; Baumg</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-01-25 15:50:05 UTC</td>
</tr>
</table>
<hr>
<h2 id='cn8_to_bec'>Concordance list between CN8 and BEC</h2><span id='topic+cn8_to_bec'></span>

<h3>Description</h3>

<p>Provides a dataframe which contains all CN8 product codes and related BEC codes in a given time period.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cn8_to_bec(b, e, historymatrix = NULL, progress = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cn8_to_bec_+3A_b">b</code></td>
<td>
<p>first year of interest</p>
</td></tr>
<tr><td><code id="cn8_to_bec_+3A_e">e</code></td>
<td>
<p>last year of interest</p>
</td></tr>
<tr><td><code id="cn8_to_bec_+3A_historymatrix">historymatrix</code></td>
<td>
<p>History matrix of CN8 product codes. Provided by history_matrix_cn8().</p>
</td></tr>
<tr><td><code id="cn8_to_bec_+3A_progress">progress</code></td>
<td>
<p>logical, determines whether progress is printed in console or not.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame that contains all CN8 product codes and related BEC and HS6 codes in a given time period. The following table offers an overview of all provided variables.
</p>

<table>
<tr>
 <td style="text-align: left;">
Variable </td><td style="text-align: left;">	Explanation </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>CN8</code>	</td><td style="text-align: left;"> character; a specific CN8 code </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>HS6</code> </td><td style="text-align: left;"> character;	provides the HS6 classification of the CN8plus code </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>BEC</code>	</td><td style="text-align: left;"> character; provides the BEC classification on a high aggregation level (1 digit) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>BEC_agr</code> </td><td style="text-align: left;"> character;	provides the BEC classification on a lower aggregation level (up to 3 digits)

</td>
</tr>

</table>



<h3>Examples</h3>

<pre><code class='language-R'>
cn8_bec &lt;- cn8_to_bec(b = 2008, e = 2010)

</code></pre>

<hr>
<h2 id='get_data_directory'>Data path for custom data</h2><span id='topic+get_data_directory'></span>

<h3>Description</h3>

<p>Provides the directory where custom data must be stored and the used data (e.g., concordance lists, list of codes) can be edited.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_data_directory(path = TRUE, open_explorer = FALSE,
                   show_data = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_data_directory_+3A_path">path</code></td>
<td>
<p>logical, determines whether the path is printed in the console</p>
</td></tr>
<tr><td><code id="get_data_directory_+3A_open_explorer">open_explorer</code></td>
<td>
<p>logical, determines whether an explorer is opened in addition. Only executable if the directory path does not contain any blanks.</p>
</td></tr>
<tr><td><code id="get_data_directory_+3A_show_data">show_data</code></td>
<td>
<p>character string, which must take one of the following values: &quot;CN8&quot;, &quot;HS6&quot;, &quot;PC8&quot; or &quot;HS6toBEC&quot;. All available data in in the given directory is printed in the console. Only executable if the directory path does not contain any blanks.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns the path (character), of the directory where custom data must be stored and the used data (e.g., concordance lists, list of codes) can be edited.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
get_data_directory()

get_data_directory(path = FALSE, show_data = "CN8")
</code></pre>

<hr>
<h2 id='harmonize_cn8'>Harmonization of CN8 product codes</h2><span id='topic+harmonize_cn8'></span>

<h3>Description</h3>

<p>Provides a dataframe which contains all CN8 product codes and their history in the demanded time period, as well as harmonized CN8plus code, harmonized HS6plus code and BEC classification.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>harmonize_cn8(b, e, historymatrix, harmonize.to = "e",
              HS6breaks = c(1992, 1996, 2002, 2007, 2012, 2017),
              progress = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="harmonize_cn8_+3A_b">b</code></td>
<td>
<p>first year of interest</p>
</td></tr>
<tr><td><code id="harmonize_cn8_+3A_e">e</code></td>
<td>
<p>last year of interest</p>
</td></tr>
<tr><td><code id="harmonize_cn8_+3A_historymatrix">historymatrix</code></td>
<td>
<p>History matrix of CN8 product codes. Provided by history_matrix_cn8(). By default <em>NULL</em>; the function computes the needed harmonized data.</p>
</td></tr>
<tr><td><code id="harmonize_cn8_+3A_harmonize.to">harmonize.to</code></td>
<td>
<p>Defines which year for harmonization is used. It may take the following values:
</p>

<ul>
<li><p>&quot;e&quot;, harmonizes product codes towards year e
</p>
</li>
<li><p>&quot;b&quot;, harmonizes product codes towards year b
</p>
</li></ul>

</td></tr>
<tr><td><code id="harmonize_cn8_+3A_hs6breaks">HS6breaks</code></td>
<td>
<p>Vector of years, where HS6 codes were changed. Do not edit, unless additional break is needed.</p>
</td></tr>
<tr><td><code id="harmonize_cn8_+3A_progress">progress</code></td>
<td>
<p>logical, determines whether progress is printed in console or not.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame that contains all CN8 product codes and their history, harmonized CN8plus codes, harmonized HS6plus codes, and BEC classification. The 'plus-codes' are the main outcome of the function. They provide harmonized information of the product codes, i.e. comparable codes. Every harmonization refers to the last year of interest. The following table offers an overview of all provided variables.
</p>

<table>
<tr>
 <td style="text-align: left;">
Variable </td><td style="text-align: left;">	Explanation </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>CN8_xxxx</code>	</td><td style="text-align: left;"> character; a specific CN8 code in a given year </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>CN8plus</code>	</td><td style="text-align: left;"> character; the harmonization code for CN8, which refers to the last/first year of the time period </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>HS6plus</code>	</td><td style="text-align: left;"> character; the harmonization code of HS6, which refers to the last/first year of the time period </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>BEC</code>	</td><td style="text-align: left;"> character; provides the BEC classification at a high aggregation level (1 digit) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>BEC_agr</code> </td><td style="text-align: left;">	character; provides the BEC classification at a lower aggregation level (up to 3 digits) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>SNA</code> </td><td style="text-align: left;">	character; provides information if the code is classified as consumption, capital or intermediate good in SNA </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>flag</code>	</td><td style="text-align: left;"> numeric; integer from 0 to 3; 1 indicates that this code remained the same in notation over the whole time period but was split or merged in addition; 2 indicates that this code is either new or was dropped during the period of interest; 3 indicates the code had at least one simple change, but is not associated with a family </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>flagyear</code> </td><td style="text-align: left;"> numeric;	indicates the first year in which the flag was set
</td>
</tr>

</table>



<h3>Examples</h3>

<pre><code class='language-R'>
myharmonization &lt;- harmonize_cn8(b = 2008, e = 2010)

mydata &lt;- history_matrix_cn8(b = 2016, e = 2018)
myharmonization &lt;- harmonize_cn8(b = 2016, e = 2018,
                                 historymatrix = mydata)

</code></pre>

<hr>
<h2 id='harmonize_pc8'>Harmonization of PC8 product codes</h2><span id='topic+harmonize_pc8'></span>

<h3>Description</h3>

<p>Provides a dataframe which contains all PC8 product codes and their history in the demanded time period, as well as harmonized PC8plus code, harmonized HS6plus code and BEC classification.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>harmonize_pc8(b, e, historymatrix = NULL, harmonize.to = "e",
              HS6breaks = c(1992, 1996, 2002, 2007, 2012, 2017),
              progress = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="harmonize_pc8_+3A_b">b</code></td>
<td>
<p>first year of interest</p>
</td></tr>
<tr><td><code id="harmonize_pc8_+3A_e">e</code></td>
<td>
<p>last year of interest</p>
</td></tr>
<tr><td><code id="harmonize_pc8_+3A_historymatrix">historymatrix</code></td>
<td>
<p>History matrix of PC8 product codes. Provided by history_matrix_pc8(). By default <em>NULL</em>; the function computes the needed harmonized data.</p>
</td></tr>
<tr><td><code id="harmonize_pc8_+3A_harmonize.to">harmonize.to</code></td>
<td>
<p>Defines which year for harmonization is used. It may take the following values:
</p>

<ul>
<li><p>&quot;e&quot;, harmonizes product codes towards year e
</p>
</li>
<li><p>&quot;b&quot;, harmonizes product codes towards year b
</p>
</li></ul>

</td></tr>
<tr><td><code id="harmonize_pc8_+3A_hs6breaks">HS6breaks</code></td>
<td>
<p>Vector of years, where HS6 codes where changed.</p>
</td></tr>
<tr><td><code id="harmonize_pc8_+3A_progress">progress</code></td>
<td>
<p>logical, determines whether progress is printed in console or not.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame that contains all PC8 product codes and their history, harmonized PC8plus codes, harmonized HS6plus codes, and BEC classification. The 'plus-codes' are the main outcome of the function. They provide harmonized information of the product codes, i.e. comparable codes. Every harmonization refers to the last year of interest. The following table offers an overview of all provided variables.
</p>

<table>
<tr>
 <td style="text-align: left;">
Variable </td><td style="text-align: left;">	Explanation </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>PC8_xxxx</code>	</td><td style="text-align: left;"> character; a specific PC8 code in a given year </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>PC8plus</code>	</td><td style="text-align: left;"> character; the harmonization code for PC8, which refers to the last/first year of the time period </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>HS6plus</code>	</td><td style="text-align: left;"> character; the harmonization code of HS6, which refers to the last/first year of the time period </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>BEC</code>	</td><td style="text-align: left;"> character; provides the BEC classification at a high aggregation level (1 digit) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>BEC_agr</code> </td><td style="text-align: left;">	character; provides the BEC classification at a lower aggregation level (up to 3 digits) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>SNA</code> </td><td style="text-align: left;">	character; provides information if the code is classified as consumption, capital or intermediate good in BEC </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>flag</code>	</td><td style="text-align: left;"> numeric; integer from 0 to 3; 1 indicates that this code remained the same in notation over the whole time period but was split or merged in addition; 2 indicates that this code is either new or was dropped during the period of interest; 3 indicates the code had at least one simple change, but is not associated with a family </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>flagyear</code> </td><td style="text-align: left;"> numeric;	indicates the first year in which the flag was set
</td>
</tr>

</table>



<h3>Examples</h3>

<pre><code class='language-R'>
myharmonization &lt;- harmonize_pc8(b = 2009, e = 2011)

mydata &lt;- history_matrix_pc8(b = 2015, e = 2017)
myharmonization &lt;- harmonize_pc8(b = 2015, e = 2017,
                                 historymatrix = mydata)

</code></pre>

<hr>
<h2 id='history_matrix_cn8'>History matrix of CN8 product codes</h2><span id='topic+history_matrix_cn8'></span>

<h3>Description</h3>

<p>Provides a dataframe which contains all CN8 product codes and their history in a given time period.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>history_matrix_cn8(b, e, c1 = 1988, c2 = 2022,
                   progress = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="history_matrix_cn8_+3A_b">b</code></td>
<td>
<p>first year of interest</p>
</td></tr>
<tr><td><code id="history_matrix_cn8_+3A_e">e</code></td>
<td>
<p>last year of interest</p>
</td></tr>
<tr><td><code id="history_matrix_cn8_+3A_c1">c1</code></td>
<td>
<p>first year of the concordance list</p>
</td></tr>
<tr><td><code id="history_matrix_cn8_+3A_c2">c2</code></td>
<td>
<p>last year of the concordance list</p>
</td></tr>
<tr><td><code id="history_matrix_cn8_+3A_progress">progress</code></td>
<td>
<p>logical, determines whether progress is printed in console or not.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame that contains all CN8 product codes and their history over time for the demanded time period. This dataset is the basis for the main function <code>harmonize_cn8()</code> and can be obtained therewith as well. The following table offers an overview of all provided variables.
</p>

<table>
<tr>
 <td style="text-align: left;">
Variable	</td><td style="text-align: left;"> Explanation </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>CN8_xxxx</code>	</td><td style="text-align: left;"> character; a specific CN8 code in a given year </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>flag</code> </td><td style="text-align: left;"> numeric; integer from 0 to 3; 1 indicates that this code remained the same in notation over the whole time period but was split or merged in addition; 2 indicates that this code is either new or was dropped during the period of interest </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>flagyear</code>	</td><td style="text-align: left;"> numeric; indicates the first year in which the flag was set
</td>
</tr>

</table>



<h3>Examples</h3>

<pre><code class='language-R'>
history &lt;- history_matrix_cn8(b = 2008, e = 2010)

</code></pre>

<hr>
<h2 id='history_matrix_pc8'>History matrix of PC8 product codes</h2><span id='topic+history_matrix_pc8'></span>

<h3>Description</h3>

<p>Provides a dataframe which contains all PC8 product codes and their history in a given time period.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>history_matrix_pc8(b, e, progress = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="history_matrix_pc8_+3A_b">b</code></td>
<td>
<p>first year of interest</p>
</td></tr>
<tr><td><code id="history_matrix_pc8_+3A_e">e</code></td>
<td>
<p>last year of interest</p>
</td></tr>
<tr><td><code id="history_matrix_pc8_+3A_progress">progress</code></td>
<td>
<p>logical, determines whether progress is printed in console or not.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame that contains all PC8 product codes and their history over time for the demanded time period. This dataset is the basis for the main function <code>harmonize_pc8()</code> and can be obtained therewith as well. The following table offers an overview of all provided variables.
</p>

<table>
<tr>
 <td style="text-align: left;">
Variable	</td><td style="text-align: left;"> Explanation </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>PC8_xxxx</code>	</td><td style="text-align: left;"> character; a specific PC8 code in a given year </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>flag</code> </td><td style="text-align: left;">	numeric; integer from 0 to 3; 1 indicates that this code remained the same in notation over the whole time period but was split or merged in addition; 2 indicates that this code is either new or was dropped during the period of interest </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>flagyear</code>	</td><td style="text-align: left;"> numeric; indicates the first year in which the flag was set
</td>
</tr>

</table>



<h3>Examples</h3>

<pre><code class='language-R'>
history &lt;-  history_matrix_pc8(b = 2008, e = 2010)

</code></pre>

<hr>
<h2 id='pc8_to_bec'>concordance list between PC8 and BEC</h2><span id='topic+pc8_to_bec'></span>

<h3>Description</h3>

<p>Provides a dataframe which contains all PC8 product codes and related BEC codes in the demanded time period.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pc8_to_bec(b, e, historymatrix = NULL, progress = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pc8_to_bec_+3A_b">b</code></td>
<td>
<p>first year of interest</p>
</td></tr>
<tr><td><code id="pc8_to_bec_+3A_e">e</code></td>
<td>
<p>last year of interest</p>
</td></tr>
<tr><td><code id="pc8_to_bec_+3A_historymatrix">historymatrix</code></td>
<td>
<p>History matrix of PC8 product codes. Provided by history_matrix_pc8().</p>
</td></tr>
<tr><td><code id="pc8_to_bec_+3A_progress">progress</code></td>
<td>
<p>logical, determines whether progress is printed in console or not.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame that contains all PC8 product codes and related BEC and HS6 codes in a given time period. The following table offers an overview of all provided variables.
</p>

<table>
<tr>
 <td style="text-align: left;">
Variable </td><td style="text-align: left;">	Explanation </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>PC8</code>	</td><td style="text-align: left;"> character; a specific PC8 code </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>HS6</code> </td><td style="text-align: left;"> character;	provides the HS6 classification of the PC8plus code </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>BEC</code>	</td><td style="text-align: left;"> character; provides the BEC classification on a high aggregation level (1 digit) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>BEC_agr</code> </td><td style="text-align: left;"> character;	provides the BEC classification on a lower aggregation level (up to 3 digits)

</td>
</tr>

</table>



<h3>Examples</h3>

<pre><code class='language-R'>
pc8_bec &lt;- pc8_to_bec(b = 2008, e = 2010)

</code></pre>

<hr>
<h2 id='utilize_cn8'>A possible utilization of harmonized CN8 products codes</h2><span id='topic+utilize_cn8'></span>

<h3>Description</h3>

<p>Provide an application of the data frames obtained by the main function, <code>harmonize_cn8</code>. To use these additional functions, data on firm-level is required, which is data that is not provided by the package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>utilize_cn8(b, e, firm_data, harmonized_data = NULL,
            progress = TRUE, output = "merged.firm.data",
            value = FALSE, base = "CN8")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="utilize_cn8_+3A_b">b</code></td>
<td>
<p>first year of interest</p>
</td></tr>
<tr><td><code id="utilize_cn8_+3A_e">e</code></td>
<td>
<p>last year of interest</p>
</td></tr>
<tr><td><code id="utilize_cn8_+3A_firm_data">firm_data</code></td>
<td>
<p>Data on firm level which must provide the following columns: &quot;firmID&quot;, &quot;year&quot; and &quot;CN8&quot;.</p>
</td></tr>
<tr><td><code id="utilize_cn8_+3A_harmonized_data">harmonized_data</code></td>
<td>
<p>Harmonized data of CN8 product codes. Provided by harmonize_cn8(). By default <em>NULL</em>; the function computes the needed harmonized data.</p>
</td></tr>
<tr><td><code id="utilize_cn8_+3A_progress">progress</code></td>
<td>
<p>logical, determines whether progress is printed in console or not.</p>
</td></tr>
<tr><td><code id="utilize_cn8_+3A_output">output</code></td>
<td>
<p>Defines which dataframe is returned. It may take the following values:
</p>

<ul>
<li><p>&quot;product.changes&quot;, returns all changed CN8 product codes per firm per year (see description of (a) below)
</p>
</li>
<li><p>&quot;merged.firm.data&quot;, returns entered firm data, extended by harmonized data (see description of (b) below)
</p>
</li>
<li><p>&quot;all&quot;, returns both dataframes as a list
</p>
</li></ul>

</td></tr>
<tr><td><code id="utilize_cn8_+3A_value">value</code></td>
<td>
<p>logical, determines whether value is calculated for same/new/dropped products. Only possible if data contains a column: &quot;value&quot;. Value may contain different quantities (e.g. sales [Euro] or weight [kg]).</p>
</td></tr>
<tr><td><code id="utilize_cn8_+3A_base">base</code></td>
<td>
<p>Defines which plus-codes are used as a base for calculating added/dropped/same products and their corresponding values. It may take the following values:
</p>

<ul>
<li><p>&quot;CN8&quot;, uses CN8plus codes for computation.
</p>
</li>
<li><p>&quot;HS6&quot;, uses HS6plus codes for computation.
</p>
</li></ul>

</td></tr>
</table>


<h3>Value</h3>

<p>Provides two possible data frames: </p>

<dl>
<dt>(a)</dt><dd><p> One dataframe that contains all changed CN8 product codes per firm per year. In more detail, this means how many products remained the same, were added or dropped - the value of the same/added/dropped products - how many products were produced by a certain firm in a given year, and how many products were produced in the year after. As a base of this computation CN8plus codes or HS6plus codes can be used.</p>
</dd>
<dt>(b)</dt><dd><p> One dataframe that is based on the entered firm data. The entered firm data is extended by harmonized data (that is &quot;CN8plus&quot;, &quot;flag&quot;, &quot;flagyear&quot;, &quot;HS6plus&quot;, &quot;BEC&quot;, &quot;BEC_agr&quot;, &quot;SNA_basic_class&quot;).</p>
</dd>
</dl>

<p>Table that summarizes the output, described by the notation (a) above:
</p>

<table>
<tr>
 <td style="text-align: left;">
Variable </td><td style="text-align: left;">	Explanation </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>firmID</code>	</td><td style="text-align: left;">	character; specific code that describes a firm over the years (this code does not change over time) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>period_UL</code>	</td><td style="text-align: left;"> character;	lower limit of the time period </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>period</code>	</td><td style="text-align: left;"> character;	time period in which the product was produced </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>gap</code>	</td><td style="text-align: left;"> numeric;	indicating if the time period is greater than one (i.e. upper limit - lower limit &gt; 1) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>same_products</code>	</td><td style="text-align: left;"> numeric;	number of products that were produced in both years (i.e. remained in the product portfolio of this firm) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>value_same_products</code> </td><td style="text-align: left;"> numeric;	value of products that were produced in both years (i.e. remained in the product portfolio of this firm); the value is calculated in the upper limit of the time period </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>new_products</code>	</td><td style="text-align: left;"> numeric;	number of added products in the upper limit of the time period (i.e. added to the product portfolio of this firm) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>value_new_products</code>	</td><td style="text-align: left;"> numeric;	value of added products in the upper limit of the time period (i.e. added to the product portfolio of this firm) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>dropped_products</code>	</td><td style="text-align: left;"> numeric;	number of dropped products in the upper limit of the time period (i.e. removed of the product portfolio of this firm) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>value_dropped_products</code>	</td><td style="text-align: left;"> numeric;	value of dropped products in the upper limit of the time period (i.e. removed of the product portfolio of this firm); the value is calculated in the lower limit of the time period </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>nbr_of_products_period_LL</code>	</td><td style="text-align: left;"> numeric;	number of all products produced in the lower limit of the time period (i.e. entire product portfolio of this firm) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>nbr_of_products_period_UL</code>	</td><td style="text-align: left;"> numeric;	number of all products produced in the upper limit of the time period (i.e. entire product portfolio of this firm)
</td>
</tr>

</table>

<p>Table that summarizes the output, described by the notation (b) above:
</p>

<table>
<tr>
 <td style="text-align: left;">
Variable	</td><td style="text-align: left;">	Explanation </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>firmID</code>	</td><td style="text-align: left;"> character;	specific code that describes a firm over the years (this code does not change over time, provided by user) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>year</code>	</td><td style="text-align: left;"> numeric;	year in which the firm produced a product (provided by user) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>CN8</code>	</td><td style="text-align: left;"> character;	CN8 code of firm product (provided by user) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>(value)</code>	</td><td style="text-align: left;"> numeric; value of the corresponding product code (may be provided by user) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>...</code>	</td><td style="text-align: left;"> character;	additional columns from original firm data (provided by user) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>CN8plus</code>	</td><td style="text-align: left;"> character;	final harmonization, which refers to the last year of the time period </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>flag</code>	</td><td style="text-align: left;"> numeric;	integer from 0 to 3; 1 indicates that this code remained the same in notation over the whole time period but was split or merged in addition; 2 indicates that this code is either new or was dropped during the period of interest; 3 indicates the code had at least one simple change, but is not associated with a family </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>flagyear</code> </td><td style="text-align: left;"> numeric;	indicates the first year in which the flag was set </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>HS6</code>	</td><td style="text-align: left;"> character;	provides the HS6 classification of the CN8plus code </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>HS6plus</code>	</td><td style="text-align: left;"> character;	also adjusts for the change lists of HS6 </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>BEC</code>	</td><td style="text-align: left;"> character;	provides the BEC classification on a high aggregated level (1 digit) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>BEC_agr</code>	</td><td style="text-align: left;"> character;	provides the BEC classification on a less aggregated level (up to 3 digits) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>SNA</code>	</td><td style="text-align: left;"> character;	provides information if the code is classified as consumption, capital or intermediate good in BEC
</td>
</tr>

</table>



<h3>Examples</h3>

<pre><code class='language-R'>
sampledata &lt;- read.table(paste0(system.file("extdata", package = "harmonizer"),
                         "/sampledata/cn8sample.txt"), sep = ";",
                         header = TRUE, colClasses = "character")

newdata &lt;- utilize_cn8(b = 2008, e = 2010, firm_data = sampledata)

newdata &lt;- utilize_cn8(b = 2008, e = 2010, firm_data = sampledata,
                       output = "all")
changes &lt;- newdata[[1]]
merged_data &lt;- newdata[[2]]

</code></pre>

<hr>
<h2 id='utilize_pc8'>A possible utilization of harmonized PC8 products codes</h2><span id='topic+utilize_pc8'></span>

<h3>Description</h3>

<p>Provide an application of the data frames obtained by the main function, <code>harmonize_pc8</code>. To use these additional functions, data on firm-level is required, which is data that is not provided by the package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>utilize_pc8(b, e, firm_data, harmonized_data = NULL,
            progress = TRUE, output = "merged.firm.data",
            value = FALSE, base = "PC8")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="utilize_pc8_+3A_b">b</code></td>
<td>
<p>first year of interest</p>
</td></tr>
<tr><td><code id="utilize_pc8_+3A_e">e</code></td>
<td>
<p>last year of interest</p>
</td></tr>
<tr><td><code id="utilize_pc8_+3A_firm_data">firm_data</code></td>
<td>
<p>Data on firm level which must provide the following columns: &quot;firmID&quot;, &quot;year&quot; and &quot;PC8&quot;.</p>
</td></tr>
<tr><td><code id="utilize_pc8_+3A_harmonized_data">harmonized_data</code></td>
<td>
<p>Harmonized data of PC8 product codes. Provided by harmonize_pc8(). By default <em>NULL</em>; the function computes the needed harmonized data.</p>
</td></tr>
<tr><td><code id="utilize_pc8_+3A_progress">progress</code></td>
<td>
<p>logical, determines whether progress is printed in console or not.</p>
</td></tr>
<tr><td><code id="utilize_pc8_+3A_output">output</code></td>
<td>
<p>Defines which dataframe is returned. It may take the following values:
</p>

<ul>
<li><p>&quot;product.changes&quot;, returns all changed PC8 product codes per firm per year (see description of (a) below)
</p>
</li>
<li><p>&quot;merged.firm.data&quot;, returns entered firm data, extended by harmonized data (see description of (b) below)
</p>
</li>
<li><p>&quot;all&quot;, returns both dataframes as a list
</p>
</li></ul>

</td></tr>
<tr><td><code id="utilize_pc8_+3A_value">value</code></td>
<td>
<p>logical, determines whether value is calculated for same/new/dropped products. Only possible if data contains a column: &quot;value&quot;. Value may contain different quantities (e.g. sales [Euro] or weight [kg]).</p>
</td></tr>
<tr><td><code id="utilize_pc8_+3A_base">base</code></td>
<td>
<p>Defines which plus-codes are used as a base for calculating added/dropped/same products and their corresponding values. It may take the following values:
</p>

<ul>
<li><p>&quot;PC8&quot;, uses CN8plus codes for computation.
</p>
</li>
<li><p>&quot;HS6&quot;, uses HS6plus codes for computation.
</p>
</li></ul>

</td></tr>
</table>


<h3>Value</h3>

<p>Provides two possible data frames: </p>

<dl>
<dt>(a)</dt><dd><p> One dataframe that contains all changed PC8 product codes per firm per year. In more detail, this means how many products remained the same, were added or dropped - the value of the same/added/dropped products - how many products were produced by a certain firm in a given year, and how many products were produced in the year after. As a base of this computation PC8plus codes or HS6plus codes can be used.</p>
</dd>
<dt>(b)</dt><dd><p> One dataframe that is based on the entered firm data. The entered firm data is extended by harmonized data (that is &quot;PC8plus&quot;, &quot;flag&quot;, &quot;flagyear&quot;, &quot;HS6plus&quot;, &quot;BEC&quot;, &quot;BEC_agr&quot;, &quot;SNA_basic_class&quot;).</p>
</dd>
</dl>

<p>Table that summarizes the output, described by the notation (a) above:
</p>

<table>
<tr>
 <td style="text-align: left;">
Variable </td><td style="text-align: left;">	Explanation </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>firmID</code>	</td><td style="text-align: left;"> character;	specific code that describes a firm over the years (this code does not change over time) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>period_UL</code>	</td><td style="text-align: left;"> character;	lower limit of the time period </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>period</code>	</td><td style="text-align: left;"> character;	time period in which the product was produced </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>gap</code>	</td><td style="text-align: left;"> numeric;	indicating if the time period is greater than one (i.e. upper limit - lower limit &gt; 1) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>same_products</code> </td><td style="text-align: left;"> numeric;	number of products that were produced in both years (i.e. remained in the product portfolio of this firm) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>value_same_products</code> </td><td style="text-align: left;"> numeric;	value of products that were produced in both years (i.e. remained in the product portfolio of this firm); the value is calculated in the upper limit of the time period </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>new_products</code>	</td><td style="text-align: left;"> numeric;	number of added products in the upper limit of the time period (i.e. added to the product portfolio of this firm) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>value_new_products</code>	</td><td style="text-align: left;"> numeric;	value of added products in the upper limit of the time period (i.e. added to the product portfolio of this firm) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>dropped_products</code>	</td><td style="text-align: left;"> numeric;	number of dropped products in the upper limit of the time period (i.e. removed of the product portfolio of this firm) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>value_dropped_products</code>	</td><td style="text-align: left;"> numeric;	value of dropped products in the upper limit of the time period (i.e. removed of the product portfolio of this firm); the value is calculated in the lower limit of the time period </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>nbr_of_products_period_LL</code>	</td><td style="text-align: left;"> numeric;	number of all products produced in the lower limit of the time period (i.e. entire product portfolio of this firm) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>nbr_of_products_period_UL</code>	</td><td style="text-align: left;"> numeric;	number of all products produced in the upper limit of the time period (i.e. entire product portfolio of this firm)
</td>
</tr>

</table>

<p>Table that summarizes the output, described by the notation (b) above:
</p>

<table>
<tr>
 <td style="text-align: left;">
Variable	</td><td style="text-align: left;">	Explanation </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>firmID</code>	</td><td style="text-align: left;"> character;	specific code that describes a firm over the years (this code does not change over time, provided by user) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>year</code>	</td><td style="text-align: left;"> numeric;	year in which the firm produced a product (provided by user) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>PC8</code>	</td><td style="text-align: left;"> character;	PC8 code of firm product (provided by user) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>(value)</code>	</td><td style="text-align: left;"> numeric; value of the corresponding product code (may be provided by user) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>...</code>	</td><td style="text-align: left;"> character;	additional columns from original firm data (provided by user) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>PC8plus</code>	</td><td style="text-align: left;"> character;	final harmonization, which refers to the last year of the time period </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>flag</code>	</td><td style="text-align: left;"> numeric;	integer from 0 to 3; 1 indicates that this code remained the same in notation over the whole time period but was split or merged in addition; 2 indicates that this code is either new or was dropped during the period of interest; 3 indicates the code had at least one simple change, but is not associated with a family </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>flagyear</code> </td><td style="text-align: left;"> numeric;	indicates the first year in which the flag was set </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>HS6</code>	</td><td style="text-align: left;"> character;	provides the HS6 classification of the PC8plus code </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>HS6plus</code>	</td><td style="text-align: left;"> character;	also adjusts for the change lists of HS6 </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>BEC</code>	</td><td style="text-align: left;"> character;	provides the BEC classification on a high aggregated level (1 digit) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>BEC_agr</code>	</td><td style="text-align: left;"> character;	provides the BEC classification on a less aggregated level (up to 3 digits) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>SNA</code>	</td><td style="text-align: left;"> character;	provides information if the code is classified as consumption, capital or intermediate good in BEC
</td>
</tr>

</table>



<h3>Examples</h3>

<pre><code class='language-R'>
sampledata &lt;- read.table(paste0(system.file("extdata", package = "harmonizer"),
                         "/sampledata/pc8sample.txt"), sep = ";",
                         header = TRUE , colClasses = "character")

newdata &lt;- utilize_pc8(b = 2011, e = 2013, firm_data = sampledata)

newdata &lt;- utilize_pc8(b = 2011, e = 2013, firm_data = sampledata,
                       output = "all")
changes &lt;- newdata[[1]]
merged_data &lt;- newdata[[2]]

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

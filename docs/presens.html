<!DOCTYPE html><html lang="en"><head><title>Help for package presens</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {presens}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#presens'><p>Interface for PreSens Fiber Optic Data</p></a></li>
<li><a href='#import_o2'><p>Import data from PreSens O2 transmitter</p></a></li>
<li><a href='#last_o2'><p>Extract latest O2 values</p></a></li>
<li><a href='#o2_unit_conv'><p>Convert units of dissolved oxygen</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Interface for PreSens Fiber Optic Data</td>
</tr>
<tr>
<td>Version:</td>
<td>2.1.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2016-07-29</td>
</tr>
<tr>
<td>Author:</td>
<td>Matthew A. Birk</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Matthew A. Birk &lt;matthewabirk@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Makes output files from select PreSens Fiber Optic Oxygen
    Transmitters easier to work with in R. See <a href="http://www.presens.de">http://www.presens.de</a> for more
    information about PreSens (Precision Sensing GmbH). Note: this package is
    neither created nor maintained by PreSens.</td>
</tr>
<tr>
<td>Imports:</td>
<td>marelac (&ge; 2.1.4), measurements, stats, utils</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>5.0.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2016-07-29 14:04:18 UTC; matthewbirk</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2016-07-29 18:27:12</td>
</tr>
</table>
<hr>
<h2 id='presens'>Interface for PreSens Fiber Optic Data</h2><span id='topic+presens'></span><span id='topic+presens-package'></span>

<h3>Description</h3>

<p>Makes output files from select PreSens Fiber Optic Oxygen Transmitters easier to work with in R. See <a href="http://www.presens.de">www.presens.de</a> for more information about PreSens (Precision Sensing GmbH). Note: this package is neither created nor maintained by PreSens.
</p>


<h3>Author(s)</h3>

<p>Matthew A. Birk, <a href="mailto:matthewabirk@gmail.com">matthewabirk@gmail.com</a>
</p>

<hr>
<h2 id='import_o2'>Import data from PreSens O2 transmitter</h2><span id='topic+import_o2'></span>

<h3>Description</h3>

<p>Imports the standard txt file output from most PreSens fiber optic O2 transmitters and converts the data into a data frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>import_o2(file, o2_unit = "percent_a.s.", date = "%d/%m/%y",
  salinity = 35)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="import_o2_+3A_file">file</code></td>
<td>
<p>a character string. The filepath for the file to be read.</p>
</td></tr>
<tr><td><code id="import_o2_+3A_o2_unit">o2_unit</code></td>
<td>
<p>a character string. The unit of O2 measurement to be output in the data.frame. Options are:</p>

<dl>
<dt>percent_a.s. (percent air saturation)</dt><dd></dd>
<dt>percent_o2</dt><dd></dd>
<dt>hPa</dt><dd></dd>
<dt>kPa</dt><dd></dd>
<dt>torr</dt><dd></dd>
<dt>mmHg</dt><dd></dd>
<dt>inHg</dt><dd></dd>
<dt>mg_per_l</dt><dd></dd>
<dt>umol_per_l</dt><dd></dd>
<dt>ml_per_l</dt><dd></dd>
</dl>
</td></tr>
<tr><td><code id="import_o2_+3A_date">date</code></td>
<td>
<p>a character string. The date format to be passed to <code><a href="base.html#topic+strptime">strptime</a></code>.</p>
</td></tr>
<tr><td><code id="import_o2_+3A_salinity">salinity</code></td>
<td>
<p>salinity of water sample (psu). Default is 35 psu.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The following PreSens fiber optic O2 transmitters are supported:
</p>

<dl>
<dt>Fibox 3</dt><dd></dd>
<dt>Fibox 3 trace</dt><dd></dd>
<dt>Fibox 3 LCD trace</dt><dd></dd>
<dt>Microx TX3</dt><dd></dd>
<dt>Microx TX3 trace</dt><dd></dd>
<dt>OXY-4 mini</dt><dd></dd>
<dt>OXY-4 micro</dt><dd></dd>
<dt>OXY-4 trace</dt><dd></dd>
<dt>OXY-10 mini</dt><dd></dd>
<dt>OXY-10 micro</dt><dd></dd>
<dt>OXY-10 trace</dt><dd></dd>
</dl>

<p>It is very important to note that the PreSens fiber optics O2 transmitters that are supported with this function DO NOT account for salinity (i.e. they assume salinity = 0 ppt). If the water sample measured was not fresh water, the oxygen concentrations (e.g. mg per liter or umol per liter) are incorrect in the PreSens txt file. This function corrects these O2 concentrations based on the salinity value defined by the <code>salinity</code> argument. Absolute partial pressures (i.e. hPa and torr) will also be slightly different due to the slight influence of salinity on water's vapor pressure. This difference is typically ~0.05% of the recorded value.
</p>


<h3>Value</h3>

<p>A data frame with seven columns is returned.
</p>

<dl>
<dt>TIME</dt><dd><p>Date and time, POSIXct format.</p>
</dd>
<dt>DURATION</dt><dd><p>Duration of measurement trial (minutes).</p>
</dd>
<dt>oxygen</dt><dd><p>Oxygen measurement in desired unit. Column name changes based on <code>o2_unit</code> argument.</p>
</dd>
<dt>PHASE</dt><dd><p>Phase recorded. Phase is inversely related to O2.</p>
</dd>
<dt>AMPLITUDE</dt><dd><p>Amplitude recorded. Amplitude is an indicator of the quality of the signal. A low amplitude warning is produced by the transmitter below 2500.</p>
</dd>
<dt>TEMPERATURE</dt><dd><p>Temperature recorded or defined at beginning of measurement trial.</p>
</dd>
<dt>ERROR_CODE</dt><dd><p>Error code from transmitter. See PreSens user manual for translation of error code.</p>
</dd>
</dl>



<h3>Note</h3>

<p>Conversions are estimates based on the <code><a href="marelac.html#topic+marelac">marelac</a></code> package and therefore differ slightly from the conversions provided by PreSens.
</p>


<h3>Author(s)</h3>

<p>Matthew A. Birk, <a href="mailto:matthewabirk@gmail.com">matthewabirk@gmail.com</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+last_o2">last_o2</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
file &lt;- system.file('extdata', 'all_o2_units.txt', package = 'presens')
import_o2(file, o2_unit = 'umol_per_l', salinity = 25)

## End(Not run)

</code></pre>

<hr>
<h2 id='last_o2'>Extract latest O2 values</h2><span id='topic+last_o2'></span>

<h3>Description</h3>

<p>Extracts the last O2 values from a PreSens text file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>last_o2(file, n_last = 10)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="last_o2_+3A_file">file</code></td>
<td>
<p>a character string. The filepath for the file to be read.</p>
</td></tr>
<tr><td><code id="last_o2_+3A_n_last">n_last</code></td>
<td>
<p>integer. The number of O2 values to extract and return. Default is 10.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of numeric O2 values with a length of <code>n_last</code>.
</p>


<h3>Author(s)</h3>

<p>Matthew A. Birk, <a href="mailto:matthewabirk@gmail.com">matthewabirk@gmail.com</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+import_o2">import_o2</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
file &lt;- system.file('extdata', 'all_o2_units.txt', package = 'presens')
last_o2(file)
last_o2(file, n_last = 5)

## End(Not run)

</code></pre>

<hr>
<h2 id='o2_unit_conv'>Convert units of dissolved oxygen</h2><span id='topic+o2_unit_conv'></span>

<h3>Description</h3>

<p>Given a measurement of dissolved O2, a list of commonly used units of oxygen partial pressures and concentrations are returned.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>o2_unit_conv(o2 = 100, from = "percent_a.s.", to = "all", salinity = 35,
  temp = 25, air_pres = 1.013253)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="o2_unit_conv_+3A_o2">o2</code></td>
<td>
<p>a numeric vector of the O2 value(s). Default is 100.</p>
</td></tr>
<tr><td><code id="o2_unit_conv_+3A_from">from</code></td>
<td>
<p>a string describing the unit used to measure <code>o2</code>. Default is &quot;percent_a.s.&quot; Options are:</p>

<dl>
<dt>percent_a.s. (percent air saturation)</dt><dd></dd>
<dt>percent_o2</dt><dd></dd>
<dt>hPa</dt><dd></dd>
<dt>kPa</dt><dd></dd>
<dt>torr</dt><dd></dd>
<dt>mmHg</dt><dd></dd>
<dt>inHg</dt><dd></dd>
<dt>mg_per_l</dt><dd></dd>
<dt>umol_per_l</dt><dd></dd>
<dt>ml_per_l</dt><dd></dd>
</dl>
</td></tr>
<tr><td><code id="o2_unit_conv_+3A_to">to</code></td>
<td>
<p>a single string either describing the unit to which the conversion should be conducted (options are the same as in <code>from</code>), or the string &quot;all&quot; to return all units.</p>
</td></tr>
<tr><td><code id="o2_unit_conv_+3A_salinity">salinity</code></td>
<td>
<p>salinity of water sample (psu). Default is 35 psu.</p>
</td></tr>
<tr><td><code id="o2_unit_conv_+3A_temp">temp</code></td>
<td>
<p>temperature of water sample (°C). Default is 25 °C.</p>
</td></tr>
<tr><td><code id="o2_unit_conv_+3A_air_pres">air_pres</code></td>
<td>
<p>pressure of air overlying water sample (bar). Default is 1.013253 bar.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Conversions are based on relationships and values from the package <code><a href="marelac.html#topic+marelac">marelac</a></code>.
</p>


<h3>Author(s)</h3>

<p>Matthew A. Birk, <a href="mailto:matthewabirk@gmail.com">matthewabirk@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>o2_unit_conv(o2 = 50)
o2_unit_conv(o2 = 1:50, from = "umol_per_l", to = "ml_per_l", salinity = 0, temp = 10,
	air_pres = 1.2)
o2_unit_conv()[c('mmHg','kPa')]

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

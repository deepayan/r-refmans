<!DOCTYPE html><html><head><title>Help for package bittermelon</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {bittermelon}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#bittermelon'><p>bittermelon: Bitmap Tools</p></a></li>
<li><a href='#+5B.bm_matrix'><p>Extract or replace parts of a bitmap/pixmap matrix</p></a></li>
<li><a href='#as_bm_bitmap'><p>Cast to a bitmap matrix object</p></a></li>
<li><a href='#as_bm_font'><p>Coerce to bitmap font objects</p></a></li>
<li><a href='#as_bm_list'><p>Coerce to bitmap list objects</p></a></li>
<li><a href='#as_bm_pixmap'><p>Cast to a pixmap matrix object</p></a></li>
<li><a href='#as.array.bm_bitmap'><p>Cast bitmap/pixmap objects to an array</p></a></li>
<li><a href='#as.matrix.bm_matrix'><p>Cast bitmap/pixmap objects to a (normal) matrix</p></a></li>
<li><a href='#bm_bitmap'><p>Bittermelon bitmap matrix object</p></a></li>
<li><a href='#bm_call'><p>Execute a function call on bitmap objects</p></a></li>
<li><a href='#bm_clamp'><p>Clamp bitmap values</p></a></li>
<li><a href='#bm_compose'><p>Compose graphemes in a bitmap list by applying combining marks</p></a></li>
<li><a href='#bm_compress'><p>Compress bitmaps by a factor of two</p></a></li>
<li><a href='#bm_distort'><p>Resize bitmaps via distortion.</p></a></li>
<li><a href='#bm_edit'><p>Edit a bitmap via text editor</p></a></li>
<li><a href='#bm_expand'><p>Expand bitmaps by repeating each row and/or column</p></a></li>
<li><a href='#bm_extend'><p>Extend bitmaps on the sides with extra pixels</p></a></li>
<li><a href='#bm_flip'><p>Flip (reflect) bitmaps</p></a></li>
<li><a href='#bm_font'><p>Bitmap font object</p></a></li>
<li><a href='#bm_gray'><p>Gray a bitmap</p></a></li>
<li><a href='#bm_heights'><p>Widths or heights of bitmaps</p></a></li>
<li><a href='#bm_invert'><p>Invert (negate) a bitmap</p></a></li>
<li><a href='#bm_lapply'><p>Modify bitmap lists</p></a></li>
<li><a href='#bm_list'><p>Bitmap list object</p></a></li>
<li><a href='#bm_mask'><p>Modify bitmaps via masking with a 'mask' bitmap</p></a></li>
<li><a href='#bm_options'><p>Get bittermelon options</p></a></li>
<li><a href='#bm_outline'><p>Compute &quot;outline&quot; bitmap of a bitmap</p></a></li>
<li><a href='#bm_overlay'><p>Merge bitmaps by overlaying one over another</p></a></li>
<li><a href='#bm_pad'><p>Adjust bitmap padding lengths</p></a></li>
<li><a href='#bm_padding_lengths'><p>Compute bitmap padding lengths</p></a></li>
<li><a href='#bm_pixmap'><p>Bittermelon pixmap matrix object</p></a></li>
<li><a href='#bm_print'><p>Print bitmap objects</p></a></li>
<li><a href='#bm_replace'><p>Replace a color in a bitmap with another color</p></a></li>
<li><a href='#bm_resize'><p>Resize bitmaps by trimming and/or extending</p></a></li>
<li><a href='#bm_rotate'><p>Rotate bitmaps 0, 90, 180, or 270 degrees</p></a></li>
<li><a href='#bm_shadow'><p>Bitmap shadow, bold, and glow effects</p></a></li>
<li><a href='#bm_shift'><p>Shift elements within bitmaps</p></a></li>
<li><a href='#bm_trim'><p>Trim bitmaps</p></a></li>
<li><a href='#c.bm_bitmap'><p>Combine bitmap objects</p></a></li>
<li><a href='#cbind.bm_bitmap'><p>Combine bitmap/pixmap objects by rows or columns</p></a></li>
<li><a href='#col2hex'><p>Colors to standardized hex strings</p></a></li>
<li><a href='#col2int'><p>Color to (native) integer conversions</p></a></li>
<li><a href='#farming_crops_16x16'><p>Sprites for twenty farming crops</p></a></li>
<li><a href='#hex2ucp'><p>Get Unicode code points</p></a></li>
<li><a href='#is_bm_bitmap'><p>Test if the object is a bitmap object</p></a></li>
<li><a href='#is_bm_font'><p>Test if the object is a bitmap font object</p></a></li>
<li><a href='#is_bm_list'><p>Test if the object is a bitmap glyph list object</p></a></li>
<li><a href='#is_bm_pixmap'><p>Test if the object is a pixmap object</p></a></li>
<li><a href='#Ops.bm_bitmap'><p>S3 Ops group generic methods for bitmap objects</p></a></li>
<li><a href='#plot.bm_matrix'><p>Plot bitmap/pixmap objects</p></a></li>
<li><a href='#print.bm_bitmap'><p>Print bitmap objects</p></a></li>
<li><a href='#print.bm_pixmap'><p>Print pixmap objects</p></a></li>
<li><a href='#read_hex'><p>Read and write hex bitmap font files</p></a></li>
<li><a href='#read_monobit'><p>Read and write bitmap font files using monobit</p></a></li>
<li><a href='#read_yaff'><p>Read and write yaff bitmap font files</p></a></li>
<li><a href='#Summary.bm_list'><p>max, min, and range for bitmap objects</p></a></li>
<li><a href='#ucp2label'><p>Other Unicode utilities</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Bitmap Tools</td>
</tr>
<tr>
<td>Version:</td>
<td>2.0.2</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides functions for creating, modifying, and displaying bitmaps including printing them in the terminal.   There is a special emphasis on monochrome bitmap fonts and their glyphs as well as colored pixel art/sprites.  Provides native read/write support for the 'hex' and 'yaff' bitmap font formats and if 'monobit' <a href="https://github.com/robhagemans/monobit">https://github.com/robhagemans/monobit</a> is installed can also read/write several additional bitmap font formats.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://trevorldavis.com/R/bittermelon/">https://trevorldavis.com/R/bittermelon/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/trevorld/bittermelon/issues">https://github.com/trevorld/bittermelon/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Imports:</td>
<td>cli, grDevices, grid, png, Unicode, utils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>farver, gridpattern, hexfont, knitr, magick, mazing, ragg,
rmarkdown, testthat, vdiffr, withr</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr, rmarkdown</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>'monobit' for reading/writing additional bitmap
font formats.</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-06-25 05:51:02 UTC; trevorld</td>
</tr>
<tr>
<td>Author:</td>
<td>Trevor L. Davis <a href="https://orcid.org/0000-0001-6341-4639"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Frederic Cambus [tyg] (Developer of included 'Spleen' font),
  Markus Kuhn [tyg] (Maintainer of included 'Fixed' font),
  josehzz [art] (Artist of included 'Farming Crops 16x16' sprites)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Trevor L. Davis &lt;trevor.l.davis@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-06-25 14:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='bittermelon'>bittermelon: Bitmap Tools</h2><span id='topic+bittermelon-package'></span><span id='topic+bittermelon'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>Provides functions for creating, modifying, and displaying bitmaps including printing them in the terminal. There is a special emphasis on monochrome bitmap fonts and their glyphs as well as colored pixel art/sprites. Provides native read/write support for the 'hex' and 'yaff' bitmap font formats and if 'monobit' <a href="https://github.com/robhagemans/monobit">https://github.com/robhagemans/monobit</a> is installed can also read/write several additional bitmap font formats.
</p>


<h3>Package options</h3>

<p>The following <code>bittermelon</code> option may be set globally via <code><a href="base.html#topic+options">base::options()</a></code>:
</p>

<dl>
<dt>bittermelon.bg</dt><dd><p>Set new default <code>bg</code> argument value for
<code><a href="#topic+format.bm_bitmap">format.bm_bitmap()</a></code>, <code><a href="#topic+format.bm_pixmap">format.bm_pixmap()</a></code>, <code><a href="#topic+print.bm_bitmap">print.bm_bitmap()</a></code>,
and <code><a href="#topic+print.bm_pixmap">print.bm_pixmap()</a></code>.</p>
</dd>
<dt>bittermelon.col</dt><dd><p>Set new default <code>col</code> argument value for
<code><a href="#topic+as.raster.bm_bitmap">as.raster.bm_bitmap()</a></code> and <code><a href="#topic+plot.bm_bitmap">plot.bm_bitmap()</a></code>.</p>
</dd>
<dt>bittermelon.compress</dt><dd><p>Set new default <code>compress</code> argument value for
<code><a href="#topic+format.bm_bitmap">format.bm_bitmap()</a></code>, <code><a href="#topic+format.bm_pixmap">format.bm_pixmap()</a></code>, <code><a href="#topic+print.bm_bitmap">print.bm_bitmap()</a></code>,
and <code><a href="#topic+print.bm_pixmap">print.bm_pixmap()</a></code>.</p>
</dd>
<dt>bittermelon.downscale</dt><dd><p>Set new default <code>downscale</code> argument value for
<code><a href="#topic+format.bm_bitmap">format.bm_bitmap()</a></code>, <code><a href="#topic+format.bm_pixmap">format.bm_pixmap()</a></code>, <code><a href="#topic+print.bm_bitmap">print.bm_bitmap()</a></code>,
and <code><a href="#topic+print.bm_pixmap">print.bm_pixmap()</a></code>.</p>
</dd>
<dt>bittermelon.fg</dt><dd><p>Set new default <code>fg</code> argument value for
<code><a href="#topic+format.bm_bitmap">format.bm_bitmap()</a></code> and <code><a href="#topic+print.bm_bitmap">print.bm_bitmap()</a></code>.</p>
</dd>
<dt>bittermelon.monobit_path</dt><dd><p>Set new default <code>monobit_path</code> argument value
for <code><a href="#topic+read_monobit">read_monobit()</a></code> and <code><a href="#topic+write_monobit">write_monobit()</a></code>.</p>
</dd>
<dt>bittermelon.px</dt><dd><p>Set new default <code>px</code> argument value for
<code><a href="#topic+format.bm_bitmap">format.bm_bitmap()</a></code> and <code><a href="#topic+print.bm_bitmap">print.bm_bitmap()</a></code>.
If unset both functions default to <code><a href="#topic+px_auto">px_auto()</a></code>.</p>
</dd>
</dl>

<p>The following <code>cli</code> options may also be of interest:
</p>

<dl>
<dt>cli.num_colors</dt><dd><p>See <code><a href="cli.html#topic+num_ansi_colors">cli::num_ansi_colors()</a></code>.
If set to <code>1L</code> then the <code>cli</code> package won't add any ANSI sequences.</p>
</dd>
<dt>cli.unicode</dt><dd><p>Whether UTF-8 character support should be assumed.
Used by <code><a href="#topic+px_auto">px_auto()</a></code> which is the default of the <code>bittermelon.px</code> option.</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Trevor L. Davis <a href="mailto:trevor.l.davis@gmail.com">trevor.l.davis@gmail.com</a> (<a href="https://orcid.org/0000-0001-6341-4639">ORCID</a>)
</p>
<p>Other contributors:
</p>

<ul>
<li><p> Frederic Cambus (Developer of included 'Spleen' font) [typographer]
</p>
</li>
<li><p> Markus Kuhn (Maintainer of included 'Fixed' font) [typographer]
</p>
</li>
<li><p> josehzz (Artist of included 'Farming Crops 16x16' sprites) [artist]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://trevorldavis.com/R/bittermelon/">https://trevorldavis.com/R/bittermelon/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/trevorld/bittermelon/issues">https://github.com/trevorld/bittermelon/issues</a>
</p>
</li></ul>


<hr>
<h2 id='+5B.bm_matrix'>Extract or replace parts of a bitmap/pixmap matrix</h2><span id='topic++5B.bm_matrix'></span><span id='topic++5B.bm_bitmap'></span><span id='topic++5B.bm_pixmap'></span><span id='topic++5B+3C-.bm_bitmap'></span><span id='topic++5B+3C-.bm_pixmap'></span>

<h3>Description</h3>

<p><code style="white-space: pre;">&#8288;[.bm_matrix()&#8288;</code> is defined so that it returns a <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code> or <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code> object
(if the value is a matrix).
<code style="white-space: pre;">&#8288;[&lt;-.bm_bitmap()&#8288;</code> casts any replacement values as integers while
<code style="white-space: pre;">&#8288;[&lt;-.bm_pixmap()&#8288;</code> casts any replacement values as standardized color strings.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'bm_matrix'
x[i, j, ..., drop = TRUE]

## S3 replacement method for class 'bm_bitmap'
x[i, j, ...] &lt;- value

## S3 replacement method for class 'bm_pixmap'
x[i, j, ...] &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B5B.bm_matrix_+3A_x">x</code></td>
<td>
<p><code><a href="#topic+bm_bitmap">bm_bitmap()</a></code> object</p>
</td></tr>
<tr><td><code id="+2B5B.bm_matrix_+3A_i">i</code>, <code id="+2B5B.bm_matrix_+3A_j">j</code></td>
<td>
<p>indices specifying elements to extract or replace.
See [base::<code style="white-space: pre;">&#8288;[()&#8288;</code>] for more information.</p>
</td></tr>
<tr><td><code id="+2B5B.bm_matrix_+3A_...">...</code></td>
<td>
<p>Passed to [base::<code style="white-space: pre;">&#8288;[()&#8288;</code>].</p>
</td></tr>
<tr><td><code id="+2B5B.bm_matrix_+3A_drop">drop</code></td>
<td>
<p>If <code>TRUE</code> the result is coerced to a integer vector.</p>
</td></tr>
<tr><td><code id="+2B5B.bm_matrix_+3A_value">value</code></td>
<td>
<p>Replacement value</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code style="white-space: pre;">&#8288;[.bm_matrix()&#8288;</code> returns a <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code> or <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code> object if the
value is a matrix and/or <code>drop</code> is <code>FALSE</code>
otherwise it returns a vector of integers or color strings.
</p>


<h3>Examples</h3>

<pre><code class='language-R'> font_file &lt;- system.file("fonts/spleen/spleen-8x16.hex.gz", package = "bittermelon")
 font &lt;- read_hex(font_file)
 capital_r &lt;- font[[str2ucp("R")]]
 print(capital_r[4:14,2:8])
 capital_r[11:13,3:5] &lt;- 2L
 print(capital_r)
</code></pre>

<hr>
<h2 id='as_bm_bitmap'>Cast to a bitmap matrix object</h2><span id='topic+as_bm_bitmap'></span><span id='topic+as_bm_bitmap.array'></span><span id='topic+as_bm_bitmap.default'></span><span id='topic+as_bm_bitmap.bm_bitmap'></span><span id='topic+as_bm_bitmap.bm_pixmap'></span><span id='topic+as_bm_bitmap.character'></span><span id='topic+as_bm_bitmap.glyph_bitmap'></span><span id='topic+as_bm_bitmap.grob'></span><span id='topic+as_bm_bitmap.magick-image'></span><span id='topic+as_bm_bitmap.matrix'></span><span id='topic+as_bm_bitmap.maze'></span><span id='topic+as_bm_bitmap.nativeRaster'></span><span id='topic+as_bm_bitmap.pattern_square'></span><span id='topic+as_bm_bitmap.pattern_weave'></span><span id='topic+as_bm_bitmap.pixeltrix'></span><span id='topic+as_bm_bitmap.pixmapGrey'></span><span id='topic+as_bm_bitmap.pixmapIndexed'></span><span id='topic+as_bm_bitmap.pixmapRGB'></span><span id='topic+as_bm_bitmap.raster'></span>

<h3>Description</h3>

<p><code>as_bm_bitmap()</code> turns an existing object into a <code>bm_bitmap()</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_bm_bitmap(x, ...)

## S3 method for class 'array'
as_bm_bitmap(
  x,
  ...,
  mode = c("alpha", "darkness", "brightness"),
  threshold = 0.5
)

## Default S3 method:
as_bm_bitmap(x, ...)

## S3 method for class 'bm_bitmap'
as_bm_bitmap(x, ...)

## S3 method for class 'bm_pixmap'
as_bm_bitmap(
  x,
  ...,
  mode = c("alpha", "darkness", "brightness"),
  threshold = 0.5
)

## S3 method for class 'character'
as_bm_bitmap(
  x,
  ...,
  direction = "left-to-right, top-to-bottom",
  font = bm_font(),
  hjust = "left",
  vjust = "top",
  compose = TRUE,
  pua_combining = character(0)
)

## S3 method for class 'glyph_bitmap'
as_bm_bitmap(x, ..., threshold = 0.5)

## S3 method for class 'grob'
as_bm_bitmap(
  x,
  ...,
  width = 8L,
  height = 16L,
  png_device = NULL,
  threshold = 0.25
)

## S3 method for class ''magick-image''
as_bm_bitmap(
  x,
  ...,
  mode = c("alpha", "darkness", "brightness"),
  threshold = 0.5
)

## S3 method for class 'matrix'
as_bm_bitmap(x, ...)

## S3 method for class 'maze'
as_bm_bitmap(
  x,
  ...,
  walls = FALSE,
  start = NULL,
  end = NULL,
  solve = !is.null(start) &amp;&amp; !is.null(end)
)

## S3 method for class 'nativeRaster'
as_bm_bitmap(
  x,
  ...,
  mode = c("alpha", "darkness", "brightness"),
  threshold = 0.5
)

## S3 method for class 'pattern_square'
as_bm_bitmap(x, ...)

## S3 method for class 'pattern_weave'
as_bm_bitmap(x, ...)

## S3 method for class 'pattern_square'
as_bm_bitmap(x, ...)

## S3 method for class 'pixeltrix'
as_bm_bitmap(x, ...)

## S3 method for class 'pixmapGrey'
as_bm_bitmap(x, ..., mode = c("darkness", "brightness"), threshold = 0.5)

## S3 method for class 'pixmapIndexed'
as_bm_bitmap(x, ...)

## S3 method for class 'pixmapRGB'
as_bm_bitmap(x, ..., mode = c("darkness", "brightness"), threshold = 0.5)

## S3 method for class 'raster'
as_bm_bitmap(
  x,
  ...,
  mode = c("alpha", "darkness", "brightness"),
  threshold = 0.5
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_bm_bitmap_+3A_x">x</code></td>
<td>
<p>An object that can reasonably be coerced to a <code>bm_bitmap()</code> object.</p>
</td></tr>
<tr><td><code id="as_bm_bitmap_+3A_...">...</code></td>
<td>
<p>Further arguments passed to or from other methods.</p>
</td></tr>
<tr><td><code id="as_bm_bitmap_+3A_mode">mode</code></td>
<td>
<p>Method to determine the integer values of the <code>bm_bitmap()</code> object:
</p>

<dl>
<dt>alpha</dt><dd><p>Higher alpha values get a <code>1L</code>.</p>
</dd>
<dt>darkness</dt><dd><p>Higher darkness values get a <code>1L</code>.  <code>darkness = (1 - luma) * alpha</code>.</p>
</dd>
<dt>brightness</dt><dd><p>Higher brightness values get a <code>1L</code>.  <code>brightness = luma * alpha</code>.</p>
</dd>
</dl>
</td></tr>
<tr><td><code id="as_bm_bitmap_+3A_threshold">threshold</code></td>
<td>
<p>If the alpha/darkness/brightness value
weakly exceeds this threshold
(on an interval from zero to one)
then the pixel is determined to be &ldquo;black&rdquo;.</p>
</td></tr>
<tr><td><code id="as_bm_bitmap_+3A_direction">direction</code></td>
<td>
<p>For purely horizontal binding either &quot;left-to-right&quot; (default) or its aliases &quot;ltr&quot; and &quot;lr&quot;
OR &quot;right-to-left&quot; or its aliases &quot;rtl&quot; and &quot;rl&quot;.
For purley vertical binding either &quot;top-to-bottom&quot; (default) or its aliases &quot;ttb&quot; and &quot;tb&quot;
OR &quot;bottom-to-top&quot; or its aliases &quot;btt&quot; and &quot;bt&quot;.
For character vectors of length greater than one: for first horizontal binding within
values in the vector
and then vertical binding across values in the vector &quot;left-to-right, top-to-bottom&quot; (default)
or its aliases &quot;lrtb&quot; and &quot;lr-tb&quot;; &quot;left-to-right, bottom-to-top&quot; or its aliases &quot;lrbt&quot; and &quot;lr-bt&quot;;
&quot;right-to-left, top-to-bottom&quot; or its aliases &quot;rltb&quot; and &quot;rl-tb&quot;; or
&quot;right-to-left, bottom-to-top&quot; or its aliases &quot;rlbt&quot; and &quot;rl-bt&quot;.
For first vertical binding within values in the vector and then horizontal binding across values
&quot;top-to-bottom, left-to-right&quot; or its aliases &quot;tblr&quot; and &quot;tb-lr&quot;;
&quot;top-to-bottom, right-to-left&quot; or its aliases &quot;tbrl&quot; and &quot;tb-rl&quot;;
&quot;bottom-to-top, left-to-right&quot; or its aliases &quot;btlr&quot; and &quot;bt-lr&quot;; or
&quot;bottom-to-top, right-to-left&quot; or its aliases &quot;btrl&quot; and &quot;bt-rl&quot;.
The <code>direction</code> argument is not case-sensitive.</p>
</td></tr>
<tr><td><code id="as_bm_bitmap_+3A_font">font</code></td>
<td>
<p>A <code><a href="#topic+bm_font">bm_font()</a></code> object that contains all the characters within <code>x</code>.</p>
</td></tr>
<tr><td><code id="as_bm_bitmap_+3A_hjust">hjust</code></td>
<td>
<p>Used by <code><a href="#topic+bm_extend">bm_extend()</a></code> if bitmap widths are different.</p>
</td></tr>
<tr><td><code id="as_bm_bitmap_+3A_vjust">vjust</code></td>
<td>
<p>Used by <code><a href="#topic+bm_extend">bm_extend()</a></code> if bitmap heights are different.</p>
</td></tr>
<tr><td><code id="as_bm_bitmap_+3A_compose">compose</code></td>
<td>
<p>Compose graphemes using <code><a href="#topic+bm_compose">bm_compose()</a></code>.</p>
</td></tr>
<tr><td><code id="as_bm_bitmap_+3A_pua_combining">pua_combining</code></td>
<td>
<p>Passed to <code><a href="#topic+bm_compose">bm_compose()</a></code>.</p>
</td></tr>
<tr><td><code id="as_bm_bitmap_+3A_width">width</code></td>
<td>
<p>Desired width of bitmap</p>
</td></tr>
<tr><td><code id="as_bm_bitmap_+3A_height">height</code></td>
<td>
<p>Desired height of bitmap</p>
</td></tr>
<tr><td><code id="as_bm_bitmap_+3A_png_device">png_device</code></td>
<td>
<p>A function taking arguments <code>filename</code>, <code>width</code>, and <code>height</code>
that starts a graphics device that saves a png image
with a transparent background.  By default will use <code><a href="ragg.html#topic+agg_png">ragg::agg_png()</a></code>
if available else the &ldquo;cairo&rdquo; version of <code><a href="grDevices.html#topic+png">grDevices::png()</a></code>
if available else just <code><a href="grDevices.html#topic+png">grDevices::png()</a></code>.</p>
</td></tr>
<tr><td><code id="as_bm_bitmap_+3A_walls">walls</code></td>
<td>
<p>If <code>TRUE</code> the values of 1L denote the walls and the values of 0L denote the paths.</p>
</td></tr>
<tr><td><code id="as_bm_bitmap_+3A_start">start</code>, <code id="as_bm_bitmap_+3A_end">end</code></td>
<td>
<p>If not <code>NULL</code> mark the <code>start</code> and <code>end</code> as value 2L.
See <code><a href="mazing.html#topic+find_maze_refpoint">mazing::find_maze_refpoint()</a></code>.</p>
</td></tr>
<tr><td><code id="as_bm_bitmap_+3A_solve">solve</code></td>
<td>
<p>If <code>TRUE</code> then mark the solution path from <code>start</code> to <code>end</code> as value 3L.
See <code><a href="mazing.html#topic+solve_maze">mazing::solve_maze()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>bm_bitmap()</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bm_bitmap">bm_bitmap()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>space_matrix &lt;- matrix(0L, nrow = 16L, ncol = 16L)
space_glyph &lt;- as_bm_bitmap(space_matrix)
is_bm_bitmap(space_glyph)

font_file &lt;- system.file("fonts/fixed/4x6.yaff.gz", package = "bittermelon")
font &lt;- read_yaff(font_file)
bm &lt;- as_bm_bitmap("RSTATS", font = font)
print(bm)

bm &lt;- as_bm_bitmap("RSTATS", direction = "top-to-bottom", font = font)
print(bm)

if (require("grid") &amp;&amp; capabilities("png")) {
  circle &lt;- as_bm_bitmap(circleGrob(r = 0.25), width = 16L, height = 16L)
  print(circle)
}

if (require("grid") &amp;&amp; capabilities("png")) {
  inverted_exclamation &lt;- as_bm_bitmap(textGrob("!", rot = 180),
                                       width = 8L, height = 16L)
  print(inverted_exclamation)
}

if (requireNamespace("mazing", quietly = TRUE)) {
  m &lt;- mazing::maze(16, 32)
  bm &lt;- as_bm_bitmap(m, walls = TRUE)
  print(bm, compress = "vertical")
}

if (requireNamespace("gridpattern", quietly = TRUE)) {
  w &lt;- gridpattern::pattern_weave("twill_herringbone", nrow=14L, ncol = 40L)
  bm &lt;- as_bm_bitmap(w)
  print(bm, compress = "vertical")
}
</code></pre>

<hr>
<h2 id='as_bm_font'>Coerce to bitmap font objects</h2><span id='topic+as_bm_font'></span><span id='topic+as_bm_font.default'></span><span id='topic+as_bm_font.list'></span>

<h3>Description</h3>

<p><code>as_bm_font()</code> turns an existing object into a <code>bm_font()</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_bm_font(x, ..., comments = NULL, properties = NULL)

## Default S3 method:
as_bm_font(x, ..., comments = NULL, properties = NULL)

## S3 method for class 'list'
as_bm_font(x, ..., comments = NULL, properties = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_bm_font_+3A_x">x</code></td>
<td>
<p>An object that can reasonably be coerced to a <code>bm_font()</code> object.</p>
</td></tr>
<tr><td><code id="as_bm_font_+3A_...">...</code></td>
<td>
<p>Further arguments passed to or from other methods.</p>
</td></tr>
<tr><td><code id="as_bm_font_+3A_comments">comments</code></td>
<td>
<p>An optional character vector of (global) font comments.</p>
</td></tr>
<tr><td><code id="as_bm_font_+3A_properties">properties</code></td>
<td>
<p>An optional named list of font metadata.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>bm_font()</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bm_font">bm_font()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  plus_sign &lt;- matrix(0L, nrow = 9L, ncol = 9L)
  plus_sign[5L, 3:7] &lt;- 1L
  plus_sign[3:7, 5L] &lt;- 1L
  plus_sign_glyph &lt;- bm_bitmap(plus_sign)

  space_glyph &lt;- bm_bitmap(matrix(0L, nrow = 9L, ncol = 9L))

  l &lt;- list()
  l[[str2ucp("+")]] &lt;- plus_sign_glyph
  l[[str2ucp(" ")]] &lt;- space_glyph
  font &lt;- as_bm_font(l)
  is_bm_font(font)

</code></pre>

<hr>
<h2 id='as_bm_list'>Coerce to bitmap list objects</h2><span id='topic+as_bm_list'></span><span id='topic+as_bm_list.default'></span><span id='topic+as_bm_list.bm_list'></span><span id='topic+as_bm_list.list'></span><span id='topic+as_bm_list.character'></span>

<h3>Description</h3>

<p><code>as_bm_list()</code> turns an existing object into a <code><a href="#topic+bm_list">bm_list()</a></code> object.
In particular <code>as_bm_list.character()</code> turns a string into a bitmap list.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_bm_list(x, ...)

## Default S3 method:
as_bm_list(x, ...)

## S3 method for class 'bm_list'
as_bm_list(x, ...)

## S3 method for class 'list'
as_bm_list(x, ..., FUN = identity)

## S3 method for class 'character'
as_bm_list(x, ..., font = bm_font())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_bm_list_+3A_x">x</code></td>
<td>
<p>An object that can reasonably be coerced to a <code><a href="#topic+bm_list">bm_list()</a></code> object.</p>
</td></tr>
<tr><td><code id="as_bm_list_+3A_...">...</code></td>
<td>
<p>Further arguments passed to or from other methods.</p>
</td></tr>
<tr><td><code id="as_bm_list_+3A_fun">FUN</code></td>
<td>
<p>Function to apply to every element of a list such
as <code><a href="#topic+as_bm_bitmap">as_bm_bitmap()</a></code> or <code><a href="#topic+as_bm_pixmap">as_bm_pixmap()</a></code>.</p>
</td></tr>
<tr><td><code id="as_bm_list_+3A_font">font</code></td>
<td>
<p>A <code><a href="#topic+bm_font">bm_font()</a></code> object that contains all the characters within <code>x</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="#topic+bm_list">bm_list()</a></code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bm_list">bm_list()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  # as_bm_list.character()
  font_file &lt;- system.file("fonts/spleen/spleen-8x16.hex.gz", package = "bittermelon")
  font &lt;- read_hex(font_file)
  bml &lt;- as_bm_list("RSTATS", font = font)
  bml &lt;- bm_extend(bml, sides = 1L, value = 0L)
  bml &lt;- bm_extend(bml, sides = c(2L, 1L), value = 2L)
  bm &lt;- do.call(cbind, bml)
  print(bm, px = c(" ", "#", "X"))
</code></pre>

<hr>
<h2 id='as_bm_pixmap'>Cast to a pixmap matrix object</h2><span id='topic+as_bm_pixmap'></span><span id='topic+as_bm_pixmap.default'></span><span id='topic+as_bm_pixmap.array'></span><span id='topic+as_bm_pixmap.bm_bitmap'></span><span id='topic+as_bm_pixmap.bm_pixmap'></span><span id='topic+as_bm_pixmap.glyph_bitmap'></span><span id='topic+as_bm_pixmap.grob'></span><span id='topic+as_bm_pixmap.magick-image'></span><span id='topic+as_bm_pixmap.matrix'></span><span id='topic+as_bm_pixmap.maze'></span><span id='topic+as_bm_pixmap.pattern_square'></span><span id='topic+as_bm_pixmap.pattern_weave'></span><span id='topic+as_bm_pixmap.pixmapGrey'></span><span id='topic+as_bm_pixmap.pixmapIndexed'></span><span id='topic+as_bm_pixmap.pixmapRGB'></span><span id='topic+as_bm_pixmap.nativeRaster'></span><span id='topic+as_bm_pixmap.pixeltrix'></span><span id='topic+as_bm_pixmap.raster'></span>

<h3>Description</h3>

<p><code>as_bm_pixmap()</code> casts an object to a <code style="white-space: pre;">&#8288;[bm_pixmap()]&#8288;</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_bm_pixmap(x, ...)

## Default S3 method:
as_bm_pixmap(x, ...)

## S3 method for class 'array'
as_bm_pixmap(x, ...)

## S3 method for class 'bm_bitmap'
as_bm_pixmap(x, ..., col = getOption("bittermelon.col", col_bitmap))

## S3 method for class 'bm_pixmap'
as_bm_pixmap(x, ...)

## S3 method for class 'glyph_bitmap'
as_bm_pixmap(x, ..., col = getOption("bittermelon.col", col_bitmap))

## S3 method for class 'grob'
as_bm_pixmap(x, ..., width = 16L, height = 16L, png_device = NULL)

## S3 method for class ''magick-image''
as_bm_pixmap(x, ...)

## S3 method for class 'matrix'
as_bm_pixmap(x, ...)

## S3 method for class 'maze'
as_bm_pixmap(
  x,
  ...,
  walls = FALSE,
  start = NULL,
  end = NULL,
  solve = !is.null(start) &amp;&amp; !is.null(end),
  col = getOption("bittermelon.col", col_bitmap)
)

## S3 method for class 'pattern_square'
as_bm_pixmap(x, ..., col = getOption("bittermelon.col", col_bitmap))

## S3 method for class 'pattern_weave'
as_bm_pixmap(x, ..., col = getOption("bittermelon.col", col_bitmap))

## S3 method for class 'pixmapGrey'
as_bm_pixmap(x, ...)

## S3 method for class 'pixmapIndexed'
as_bm_pixmap(x, ...)

## S3 method for class 'pixmapRGB'
as_bm_pixmap(x, ...)

## S3 method for class 'nativeRaster'
as_bm_pixmap(x, ...)

## S3 method for class 'pixeltrix'
as_bm_pixmap(x, ...)

## S3 method for class 'raster'
as_bm_pixmap(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_bm_pixmap_+3A_x">x</code></td>
<td>
<p>an Object</p>
</td></tr>
<tr><td><code id="as_bm_pixmap_+3A_...">...</code></td>
<td>
<p>Potentially passed to other methods e.g. <code>as_bm_pixmap.default()</code> passes <code>...</code> to <code><a href="grDevices.html#topic+as.raster">as.raster()</a></code>.</p>
</td></tr>
<tr><td><code id="as_bm_pixmap_+3A_col">col</code></td>
<td>
<p>Character vector of R color specifications.</p>
</td></tr>
<tr><td><code id="as_bm_pixmap_+3A_width">width</code></td>
<td>
<p>Desired width of bitmap</p>
</td></tr>
<tr><td><code id="as_bm_pixmap_+3A_height">height</code></td>
<td>
<p>Desired height of bitmap</p>
</td></tr>
<tr><td><code id="as_bm_pixmap_+3A_png_device">png_device</code></td>
<td>
<p>A function taking arguments <code>filename</code>, <code>width</code>, and <code>height</code>
that starts a graphics device that saves a png image
with a transparent background.  By default will use <code><a href="ragg.html#topic+agg_png">ragg::agg_png()</a></code>
if available else the &ldquo;cairo&rdquo; version of <code><a href="grDevices.html#topic+png">grDevices::png()</a></code>
if available else just <code><a href="grDevices.html#topic+png">grDevices::png()</a></code>.</p>
</td></tr>
<tr><td><code id="as_bm_pixmap_+3A_walls">walls</code></td>
<td>
<p>If <code>TRUE</code> the values of 1L denote the walls and the values of 0L denote the paths.</p>
</td></tr>
<tr><td><code id="as_bm_pixmap_+3A_start">start</code>, <code id="as_bm_pixmap_+3A_end">end</code></td>
<td>
<p>If not <code>NULL</code> mark the <code>start</code> and <code>end</code> as value 2L.
See <code><a href="mazing.html#topic+find_maze_refpoint">mazing::find_maze_refpoint()</a></code>.</p>
</td></tr>
<tr><td><code id="as_bm_pixmap_+3A_solve">solve</code></td>
<td>
<p>If <code>TRUE</code> then mark the solution path from <code>start</code> to <code>end</code> as value 3L.
See <code><a href="mazing.html#topic+solve_maze">mazing::solve_maze()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bm_pixmap">bm_pixmap()</a></code>, <code><a href="#topic+is_bm_pixmap">is_bm_pixmap()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>crops &lt;- farming_crops_16x16()
corn &lt;- crops$corn$portrait
is_bm_pixmap(corn)
all.equal(corn, as_bm_pixmap(as.array(corn)))
all.equal(corn, as_bm_pixmap(as.raster(corn)))
if (requireNamespace("farver", quietly = TRUE)) {
  all.equal(corn, as_bm_pixmap(as.raster(corn, native = TRUE)))
}
if (requireNamespace("magick", quietly = TRUE)) {
  all.equal(corn, as_bm_pixmap(magick::image_read(corn)))
}

if (requireNamespace("mazing", quietly = TRUE) &amp;&amp;
    cli::is_utf8_output() &amp;&amp;
    cli::num_ansi_colors() &gt;= 8L) {
  pal &lt;- grDevices::palette.colors()
  pm &lt;- as_bm_pixmap(mazing::maze(24L, 32L),
                     start = "top", end = "bottom",
                     col = c(pal[6], "white", pal[7], pal[5]))
  pm &lt;- bm_pad(pm, sides = 1L)
  print(pm, compress = "v", bg = "white")
}
if (requireNamespace("gridpattern", quietly = TRUE) &amp;&amp;
    cli::is_utf8_output() &amp;&amp;
    cli::num_ansi_colors() &gt;= 256L) {
  s &lt;- gridpattern::pattern_square(subtype = 8L, nrow = 8L, ncol = 50L)
  pm &lt;- as_bm_pixmap(s, col = grDevices::rainbow(8L))
  print(pm, compress = "vertical")
}
</code></pre>

<hr>
<h2 id='as.array.bm_bitmap'>Cast bitmap/pixmap objects to an array</h2><span id='topic+as.array.bm_bitmap'></span><span id='topic+as.array.bm_pixmap'></span>

<h3>Description</h3>

<p><code>as.array.bm_bitmap()</code> / <code>as.array.bm_pixmap()</code> casts <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code> / <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code> objects to an array of numeric values representing the RGBA channels.
These arrays can be used in functions such as <code><a href="png.html#topic+writePNG">png::writePNG()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'bm_bitmap'
as.array(
  x,
  ...,
  first_row_is_top = TRUE,
  col = getOption("bittermelon.col", col_bitmap)
)

## S3 method for class 'bm_pixmap'
as.array(x, ..., first_row_is_top = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.array.bm_bitmap_+3A_x">x</code></td>
<td>
<p>Either a <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code> or <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code> object.</p>
</td></tr>
<tr><td><code id="as.array.bm_bitmap_+3A_...">...</code></td>
<td>
<p>Currently ignored.</p>
</td></tr>
<tr><td><code id="as.array.bm_bitmap_+3A_first_row_is_top">first_row_is_top</code></td>
<td>
<p>If <code>TRUE</code> the first row of the matrix will represent the top of the bitmap
(like <code><a href="grDevices.html#topic+as.raster">grDevices::as.raster()</a></code> objects).
If <code>FALSE</code> the first row of the matrix will represent the bottom of the bitmap
(like <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code> and <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code> objects).</p>
</td></tr>
<tr><td><code id="as.array.bm_bitmap_+3A_col">col</code></td>
<td>
<p>Character vector of R color specifications.
First color is used for values equal to 0, second color for values equal to 1, etc.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>corn &lt;- farming_crops_16x16()$corn$portrait
a &lt;- as.array(corn)
f &lt;- tempfile(fileext = ".png")
png::writePNG(a, f)
</code></pre>

<hr>
<h2 id='as.matrix.bm_matrix'>Cast bitmap/pixmap objects to a (normal) matrix</h2><span id='topic+as.matrix.bm_matrix'></span><span id='topic+as.matrix.bm_bitmap'></span><span id='topic+as.matrix.bm_pixmap'></span>

<h3>Description</h3>

<p><code>as.matrix.bm_matrix()</code> casts <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code> objects to a (normal) integer matrix
and <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code> objects to a (normal) character matrix (of color strings).
Note unless <code>first_row_is_top = TRUE</code> the bottom left pixel will still be
represented by the pixel in the first row and first column
(i.e. these methods simply remove the class names).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'bm_matrix'
as.matrix(x, first_row_is_top = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.matrix.bm_matrix_+3A_x">x</code></td>
<td>
<p>Either a <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code> or <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code> object.</p>
</td></tr>
<tr><td><code id="as.matrix.bm_matrix_+3A_first_row_is_top">first_row_is_top</code></td>
<td>
<p>If <code>TRUE</code> the first row of the matrix will represent the top of the bitmap
(like <code><a href="grDevices.html#topic+as.raster">grDevices::as.raster()</a></code> objects).
If <code>FALSE</code> the first row of the matrix will represent the bottom of the bitmap
(like <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code> and <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code> objects).</p>
</td></tr>
<tr><td><code id="as.matrix.bm_matrix_+3A_...">...</code></td>
<td>
<p>Currently ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Either an integer matrix if <code>x</code> is a <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code> object
or a character matrix if <code>x</code> is a <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'> space_matrix &lt;- matrix(0L, ncol = 8L, nrow = 8L)
 space_glyph &lt;- bm_bitmap(space_matrix)
 print(space_glyph, px = ".")
 print(as.matrix(space_glyph))
</code></pre>

<hr>
<h2 id='bm_bitmap'>Bittermelon bitmap matrix object</h2><span id='topic+bm_bitmap'></span>

<h3>Description</h3>

<p><code>bm_bitmap()</code> creates an S3 matrix subclass representing a bitmap.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bm_bitmap(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bm_bitmap_+3A_x">x</code></td>
<td>
<p>Object to be converted to <code>bm_bitmap()</code>.
If not already an integer matrix it will be cast to one
by <code><a href="#topic+as_bm_bitmap">as_bm_bitmap()</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>


<ul>
<li><p> Intended to represent binary bitmaps especially (but not limited to) bitmap font glyphs.
</p>
</li>
<li><p> Bitmaps are represented as integer matrices with special class methods.
</p>
</li>
<li><p> The bottom left pixel is represented by the first row and first column.
</p>
</li>
<li><p> The bottom right pixel is represented by the first row and last column.
</p>
</li>
<li><p> The top left pixel is represented by the last row and first column.
</p>
</li>
<li><p> The top right pixel is represented by the last row and last column.
</p>
</li>
<li><p> Non-binary bitmaps are supported (the integer can be any non-negative integer)
but we are unlikely to ever support exporting color bitmap fonts.
</p>
</li>
<li><p> Non-binary bitmaps can be cast to binary bitmaps via <code><a href="#topic+bm_clamp">bm_clamp()</a></code>.
</p>
</li>
<li><p> See <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code> for an alternative S3 object backed by a color string matrix.
</p>
</li></ul>



<h3>Value</h3>

<p>An integer matrix with &ldquo;bm_bitmap&rdquo; and &ldquo;bm_matrix&rdquo; subclasses.
</p>


<h3>Supported S3 methods</h3>


<ul>
<li> <p><code><a href="#topic++5B.bm_bitmap">[.bm_bitmap</a></code> and <code><a href="#topic++5B+3C-.bm_bitmap">[&lt;-.bm_bitmap</a></code>
</p>
</li>
<li> <p><code><a href="#topic+as.matrix.bm_bitmap">as.matrix.bm_bitmap()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+as.raster.bm_bitmap">as.raster.bm_bitmap()</a></code> and <code><a href="#topic+plot.bm_bitmap">plot.bm_bitmap()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+cbind.bm_bitmap">cbind.bm_bitmap()</a></code> and <code><a href="#topic+rbind.bm_bitmap">rbind.bm_bitmap()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+format.bm_bitmap">format.bm_bitmap()</a></code> and <code><a href="#topic+print.bm_bitmap">print.bm_bitmap()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+Ops.bm_bitmap">Ops.bm_bitmap()</a></code> for all the S3 &ldquo;Ops&rdquo; Group generic functions
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+as_bm_bitmap">as_bm_bitmap()</a></code>, <code><a href="#topic+is_bm_bitmap">is_bm_bitmap()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'> space &lt;- bm_bitmap(matrix(0, nrow = 16, ncol = 16))
 print(space)
</code></pre>

<hr>
<h2 id='bm_call'>Execute a function call on bitmap objects</h2><span id='topic+bm_call'></span>

<h3>Description</h3>

<p><code>bm_call()</code> excutes a function call on bitmap objects.
Since its first argument is the bitmap object it is more
convenient to use with pipes then directly using <code><a href="base.html#topic+do.call">base::do.call()</a></code>
plus it is easier to specify additional arguments.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bm_call(x, .f, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bm_call_+3A_x">x</code></td>
<td>
<p>Either a <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code>, <code><a href="#topic+bm_font">bm_font()</a></code>, <code><a href="#topic+bm_list">bm_list()</a></code>, <a href="magick.html#topic+editing">&quot;magick-image&quot;</a>, &quot;nativeRaster&quot;, <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code>, or <a href="grDevices.html#topic+as.raster">&quot;raster&quot;</a>  object.</p>
</td></tr>
<tr><td><code id="bm_call_+3A_.f">.f</code></td>
<td>
<p>A function to execute.</p>
</td></tr>
<tr><td><code id="bm_call_+3A_...">...</code></td>
<td>
<p>Additional arguments to <code>.f</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The return value of <code>.f</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  font_file &lt;- system.file("fonts/spleen/spleen-8x16.hex.gz", package = "bittermelon")
  font &lt;- read_hex(font_file)
  bml &lt;- as_bm_list("RSTATS", font = font)
  bml &lt;- bm_flip(bml, "both")
  bm &lt;- bm_call(bml, cbind, direction = "RTL")
  print(bm)
</code></pre>

<hr>
<h2 id='bm_clamp'>Clamp bitmap values</h2><span id='topic+bm_clamp'></span><span id='topic+bm_clamp.bm_bitmap'></span><span id='topic+bm_clamp.bm_list'></span><span id='topic+bm_clamp.bm_pixmap'></span><span id='topic+bm_clamp.magick-image'></span><span id='topic+bm_clamp.nativeRaster'></span><span id='topic+bm_clamp.raster'></span>

<h3>Description</h3>

<p><code>bm_clamp()</code> &ldquo;clamps&rdquo; <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code> integers that lie outside an interval.
The default coerces a multiple-integer-valued bitmap
into a binary bitmap (as expected by most bitmap font formats).
For pixmap objects non-background pixels are all coerced to a single value.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bm_clamp(x, ...)

## S3 method for class 'bm_bitmap'
bm_clamp(x, lower = 0L, upper = 1L, value = upper, ...)

## S3 method for class 'bm_list'
bm_clamp(x, ...)

## S3 method for class 'bm_pixmap'
bm_clamp(x, value = col2hex("black"), bg = col2hex("transparent"), ...)

## S3 method for class ''magick-image''
bm_clamp(x, value = "black", bg = "transparent", ...)

## S3 method for class 'nativeRaster'
bm_clamp(x, value = col2int("black"), bg = col2int("transparent"), ...)

## S3 method for class 'raster'
bm_clamp(x, value = "black", bg = "transparent", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bm_clamp_+3A_x">x</code></td>
<td>
<p>Either a <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code>, <code><a href="#topic+bm_font">bm_font()</a></code>, <code><a href="#topic+bm_list">bm_list()</a></code>, <a href="magick.html#topic+editing">&quot;magick-image&quot;</a>, &quot;nativeRaster&quot;, <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code>, or <a href="grDevices.html#topic+as.raster">&quot;raster&quot;</a>  object.</p>
</td></tr>
<tr><td><code id="bm_clamp_+3A_...">...</code></td>
<td>
<p>Additional arguments to be passed to or from methods.</p>
</td></tr>
<tr><td><code id="bm_clamp_+3A_lower">lower</code></td>
<td>
<p>Integer value.  Any value below <code>lower</code> will be clamped.</p>
</td></tr>
<tr><td><code id="bm_clamp_+3A_upper">upper</code></td>
<td>
<p>Integer value.  Any value above <code>upper</code> will be clamped.</p>
</td></tr>
<tr><td><code id="bm_clamp_+3A_value">value</code></td>
<td>
<p>Integer vector of length one or two of replacement value(s).
If <code>value</code> is length one
any values above <code>upper</code> are replaced by <code>value</code>
while those below <code>lower</code> are replaced by <code>lower</code>.
If <code>value</code> is length two any values above <code>upper</code>
are replaced by <code>value[2]</code> and any values below <code>lower</code>
are replaced by <code>value[1]</code>.
For pixmap objects indicate requested non-background color.</p>
</td></tr>
<tr><td><code id="bm_clamp_+3A_bg">bg</code></td>
<td>
<p>Bitmap background value.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Depending on <code>x</code> either a <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code>, <code><a href="#topic+bm_font">bm_font()</a></code>, <code><a href="#topic+bm_list">bm_list()</a></code>, <a href="magick.html#topic+editing">magick-image</a>, &quot;nativeRaster&quot;, <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code>, or <a href="grDevices.html#topic+as.raster">raster</a>  object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>plus_sign &lt;- matrix(0L, nrow = 9L, ncol = 9L)
plus_sign[5L, 3:7] &lt;- 2L
plus_sign[3:7, 5L] &lt;- 2L
plus_sign_glyph &lt;- bm_bitmap(plus_sign)
print(plus_sign_glyph)

plus_sign_clamped &lt;- bm_clamp(plus_sign_glyph)
print(plus_sign_clamped)

tulip &lt;- farming_crops_16x16()$tulip$portrait
if (cli::is_utf8_output() &amp;&amp; cli::num_ansi_colors() &gt;= 8L) {
  print(bm_clamp(tulip, "magenta"), compress = "v")
}
</code></pre>

<hr>
<h2 id='bm_compose'>Compose graphemes in a bitmap list by applying combining marks</h2><span id='topic+bm_compose'></span>

<h3>Description</h3>

<p><code>bm_compose()</code> simplifies <code>bm_list()</code> object
by applying combining marks to preceding glpyhs (composing new graphemes).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bm_compose(bml, pua_combining = character(0), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bm_compose_+3A_bml">bml</code></td>
<td>
<p>A <code>bm_list()</code> object.
All combining marks need appropriate Unicode code point names
to be recognized by <code><a href="#topic+is_combining_character">is_combining_character()</a></code>.</p>
</td></tr>
<tr><td><code id="bm_compose_+3A_pua_combining">pua_combining</code></td>
<td>
<p>Additional Unicode code points to be considered
as a &ldquo;combining&rdquo; character such as characters
defined in the Private Use Area (PUA) of a font.</p>
</td></tr>
<tr><td><code id="bm_compose_+3A_...">...</code></td>
<td>
<p>Passed to <code><a href="#topic+bm_overlay">bm_overlay()</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>bm_compose()</code> identifies combining marks by their name using <code><a href="#topic+is_combining_character">is_combining_character()</a></code>.
It then combines such marks with their immediately preceding glyph using <code><a href="#topic+bm_overlay">bm_overlay()</a></code>.
</p>


<h3>Value</h3>

<p>A <code>bm_list()</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  font_file &lt;- system.file("fonts/spleen/spleen-8x16.hex.gz", package = "bittermelon")
  font &lt;- read_hex(font_file)
  grave &lt;- font[[str2ucp("`")]]
  a &lt;- font[[str2ucp("a")]]
  bml &lt;- bm_list(`U+0061` = a, `U+0300` = grave)
  print(bml)
  print(bm_compose(bml))
</code></pre>

<hr>
<h2 id='bm_compress'>Compress bitmaps by a factor of two</h2><span id='topic+bm_compress'></span><span id='topic+bm_compress.bm_bitmap'></span><span id='topic+bm_compress.bm_pixmap'></span><span id='topic+bm_compress.magick-image'></span><span id='topic+bm_compress.nativeRaster'></span><span id='topic+bm_compress.raster'></span><span id='topic+bm_compress.bm_list'></span>

<h3>Description</h3>

<p>Compresses <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code> objects by a factor of two by re-mapping to a &ldquo;block elements&rdquo; scheme.
For pixmap objects like <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code> we simply shrink the pixmap by a factor of two using <code><a href="#topic+bm_distort">bm_distort()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bm_compress(x, direction = "vertical", ...)

## S3 method for class 'bm_bitmap'
bm_compress(x, direction = "vertical", ...)

## S3 method for class 'bm_pixmap'
bm_compress(x, direction = "vertical", ..., filter = "Point")

## S3 method for class ''magick-image''
bm_compress(x, direction = "vertical", ..., filter = "Point")

## S3 method for class 'nativeRaster'
bm_compress(x, direction = "vertical", ..., filter = "Point")

## S3 method for class 'raster'
bm_compress(x, direction = "vertical", ..., filter = "Point")

## S3 method for class 'bm_list'
bm_compress(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bm_compress_+3A_x">x</code></td>
<td>
<p>Either a <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code>, <code><a href="#topic+bm_font">bm_font()</a></code>, <code><a href="#topic+bm_list">bm_list()</a></code>, <a href="magick.html#topic+editing">&quot;magick-image&quot;</a>, &quot;nativeRaster&quot;, <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code>, or <a href="grDevices.html#topic+as.raster">&quot;raster&quot;</a>  object.</p>
</td></tr>
<tr><td><code id="bm_compress_+3A_direction">direction</code></td>
<td>
<p>Either &quot;vertical&quot; or &quot;v&quot;, &quot;horizontal&quot; or &quot;h&quot;,
OR &quot;both&quot; or &quot;b&quot;.</p>
</td></tr>
<tr><td><code id="bm_compress_+3A_...">...</code></td>
<td>
<p>Additional arguments to be passed to or from methods.</p>
</td></tr>
<tr><td><code id="bm_compress_+3A_filter">filter</code></td>
<td>
<p>Passed to <code><a href="magick.html#topic+transform">magick::image_resize()</a></code>.
Use <code><a href="magick.html#topic+options">magick::filter_types()</a></code> for list of supported filters.
The default &quot;Point&quot; filter will maintain your sprite's color palette.
<code>NULL</code> will give you the <code>magick</code>'s default filter which may work better
if you are not trying to maintain a sprite color palette.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Depending on <code>direction</code> we shrink the bitmaps height and/or width by
a factor of two and re-encode pairs/quartets of pixels to a &ldquo;block elements&rdquo; scheme.
If necessary we pad the right/bottom of the bitmap(s) by
a pixel. For each pair/quartet we determine the most-common non-zero element
and map them to a length twenty set of integers representing the &ldquo;block
elements&rdquo; scheme.  For integers greater than zero we map it to higher twenty
character sets i.e. <code>1</code>'s get mapped to 0:19, <code>2</code>'s get mapped to 20:39, <code>3</code>'s
get mapped to 40:59, etc.  Using the default <code>px_unicode</code> will give you the exact
matching &ldquo;Block Elements&rdquo; glyphs while <code>px_ascii</code> gives the closest ASCII approximation.
Hence <code>print.bm_bitmap()</code> should produce reasonable results for compressed bitmaps if
either of them are used as the <code>px</code> argument.
</p>


<h3>Value</h3>

<p>Depending on <code>x</code> either a <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code>, <code><a href="#topic+bm_font">bm_font()</a></code>, <code><a href="#topic+bm_list">bm_list()</a></code>, <a href="magick.html#topic+editing">magick-image</a>, &quot;nativeRaster&quot;, <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code>, or <a href="grDevices.html#topic+as.raster">raster</a>  object.
</p>


<h3>See Also</h3>

<p>See <a href="https://en.wikipedia.org/wiki/Block_Elements">https://en.wikipedia.org/wiki/Block_Elements</a> for more info on the Unicode Block Elements block.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>font_file &lt;- system.file("fonts/spleen/spleen-8x16.hex.gz", package = "bittermelon")
font &lt;- read_hex(font_file)
r &lt;- font[[str2ucp("R")]]
print(r)
print(bm_compress(r, "vertical"))
print(bm_compress(r, "horizontal"))
print(bm_compress(r, "both"))

img &lt;- png::readPNG(system.file("img", "Rlogo.png", package="png"))
logo &lt;- as_bm_pixmap(img)
if (cli::is_utf8_output() &amp;&amp; 
    cli::num_ansi_colors() &gt; 256L &amp;&amp;
    requireNamespace("magick", quietly = TRUE)) {
  logo_c &lt;- bm_compress(pm, "both", filter = NULL)
  print(logo_c, compress = "v")
}
</code></pre>

<hr>
<h2 id='bm_distort'>Resize bitmaps via distortion.</h2><span id='topic+bm_distort'></span><span id='topic+bm_downscale'></span><span id='topic+bm_distort.bm_bitmap'></span><span id='topic+bm_distort.bm_list'></span><span id='topic+bm_distort.bm_pixmap'></span><span id='topic+bm_distort.magick-image'></span><span id='topic+bm_distort.nativeRaster'></span><span id='topic+bm_distort.raster'></span>

<h3>Description</h3>

<p><code>bm_distort()</code> resize bitmaps to arbitrary width and height value via <code><a href="magick.html#topic+transform">magick::image_resize()</a></code>.
<code>bm_downscale()</code> is a wrapper to <code>bm_distort()</code> that downscales an image if (and only if) it is
wider than a target width.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bm_distort(x, width = NULL, height = NULL, ...)

bm_downscale(x, width = getOption("width"), ...)

## S3 method for class 'bm_bitmap'
bm_distort(
  x,
  width = NULL,
  height = NULL,
  ...,
  filter = "Point",
  threshold = 0.5
)

## S3 method for class 'bm_list'
bm_distort(x, ...)

## S3 method for class 'bm_pixmap'
bm_distort(x, width = NULL, height = NULL, ..., filter = "Point")

## S3 method for class ''magick-image''
bm_distort(x, width = NULL, height = NULL, ..., filter = "Point")

## S3 method for class 'nativeRaster'
bm_distort(x, width = NULL, height = NULL, ..., filter = "Point")

## S3 method for class 'raster'
bm_distort(x, width = NULL, height = NULL, ..., filter = "Point")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bm_distort_+3A_x">x</code></td>
<td>
<p>Either a <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code>, <code><a href="#topic+bm_font">bm_font()</a></code>, <code><a href="#topic+bm_list">bm_list()</a></code>, <a href="magick.html#topic+editing">&quot;magick-image&quot;</a>, &quot;nativeRaster&quot;, <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code>, or <a href="grDevices.html#topic+as.raster">&quot;raster&quot;</a>  object.</p>
</td></tr>
<tr><td><code id="bm_distort_+3A_width">width</code></td>
<td>
<p>Desired width of bitmap</p>
</td></tr>
<tr><td><code id="bm_distort_+3A_height">height</code></td>
<td>
<p>Desired height of bitmap</p>
</td></tr>
<tr><td><code id="bm_distort_+3A_...">...</code></td>
<td>
<p>Additional arguments to be passed to or from methods.</p>
</td></tr>
<tr><td><code id="bm_distort_+3A_filter">filter</code></td>
<td>
<p>Passed to <code><a href="magick.html#topic+transform">magick::image_resize()</a></code>.
Use <code><a href="magick.html#topic+options">magick::filter_types()</a></code> for list of supported filters.
The default &quot;Point&quot; filter will maintain your sprite's color palette.
<code>NULL</code> will give you the <code>magick</code>'s default filter which may work better
if you are not trying to maintain a sprite color palette.</p>
</td></tr>
<tr><td><code id="bm_distort_+3A_threshold">threshold</code></td>
<td>
<p>When the alpha channel
weakly exceeds this threshold
(on an interval from zero to one)
then the pixel is determined to be &ldquo;black&rdquo;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Depending on <code>x</code> either a <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code>, <code><a href="#topic+bm_font">bm_font()</a></code>, <code><a href="#topic+bm_list">bm_list()</a></code>, <a href="magick.html#topic+editing">magick-image</a>, &quot;nativeRaster&quot;, <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code>, or <a href="grDevices.html#topic+as.raster">raster</a>  object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bm_expand">bm_expand()</a></code> for expanding width/height by integer multiples.
<code><a href="#topic+bm_resize">bm_resize()</a></code> for resizing an image via trimming/extending an image.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>font_file &lt;- system.file("fonts/spleen/spleen-8x16.hex.gz", package = "bittermelon")
font &lt;- read_hex(font_file)
capital_r &lt;- font[[str2ucp("R")]]
dim(capital_r) # 8 x 16
if (requireNamespace("magick", quietly = TRUE)) {
  capital_r_9x21 &lt;- bm_distort(capital_r, width = 9L, height = 21L)
  print(capital_r_9x21)
}
crops &lt;- farming_crops_16x16()
corn &lt;- crops$corn$portrait
dim(corn) # 16 x 16
if (cli::is_utf8_output() &amp;&amp; 
    cli::num_ansi_colors() &gt;= 256L &amp;&amp;
    requireNamespace("magick", quietly = TRUE)) {
  corn_24x24 &lt;- bm_distort(corn, width = 24L)
  print(corn_24x24, compress = "v")
}
</code></pre>

<hr>
<h2 id='bm_edit'>Edit a bitmap via text editor</h2><span id='topic+bm_edit'></span>

<h3>Description</h3>

<p>Edit a binary bitmap in a text editor.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bm_edit(bitmap, editor = getOption("editor"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bm_edit_+3A_bitmap">bitmap</code></td>
<td>
<p><code><a href="#topic+bm_bitmap">bm_bitmap()</a></code> object.
It will be coerced into a binary bitmap via <code><a href="#topic+bm_clamp">bm_clamp()</a></code>.</p>
</td></tr>
<tr><td><code id="bm_edit_+3A_editor">editor</code></td>
<td>
<p>Text editor.  See <code><a href="utils.html#topic+file.edit">utils::file.edit()</a></code> for more information.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Represent zeroes with a <code>.</code> and ones with a <code>@</code>
(as in the <code>yaff</code> font format).  You may
also add/delete rows/columns but the bitmap must
be rectangular.
</p>


<h3>Value</h3>

<p>A <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  font_file &lt;- system.file("fonts/spleen/spleen-8x16.hex.gz", package = "bittermelon")
  font &lt;- read_hex(font_file)
  r &lt;- font[[str2ucp("R")]]

  # requires users to manually close file in text editor
  ## Not run: 
    edited_r &lt;- bm_edit(r)
    print(edited_r)
  
## End(Not run)
</code></pre>

<hr>
<h2 id='bm_expand'>Expand bitmaps by repeating each row and/or column</h2><span id='topic+bm_expand'></span><span id='topic+bm_expand.bm_bitmap'></span><span id='topic+bm_expand.bm_list'></span><span id='topic+bm_expand.bm_pixmap'></span><span id='topic+bm_expand.magick-image'></span><span id='topic+bm_expand.nativeRaster'></span><span id='topic+bm_expand.raster'></span>

<h3>Description</h3>

<p><code>bm_expand()</code> expands bitmap(s) by repeating each row and/or column
an indicated number of times.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bm_expand(x, width = 1L, height = width)

## S3 method for class 'bm_bitmap'
bm_expand(x, width = 1L, height = width)

## S3 method for class 'bm_list'
bm_expand(x, ...)

## S3 method for class 'bm_pixmap'
bm_expand(x, width = 1L, height = width)

## S3 method for class ''magick-image''
bm_expand(x, width = 1L, height = width)

## S3 method for class 'nativeRaster'
bm_expand(x, width = 1L, height = width)

## S3 method for class 'raster'
bm_expand(x, width = 1L, height = width)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bm_expand_+3A_x">x</code></td>
<td>
<p>Either a <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code>, <code><a href="#topic+bm_font">bm_font()</a></code>, <code><a href="#topic+bm_list">bm_list()</a></code>, <a href="magick.html#topic+editing">&quot;magick-image&quot;</a>, &quot;nativeRaster&quot;, <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code>, or <a href="grDevices.html#topic+as.raster">&quot;raster&quot;</a>  object.</p>
</td></tr>
<tr><td><code id="bm_expand_+3A_width">width</code></td>
<td>
<p>An integer of how many times to repeat each column.</p>
</td></tr>
<tr><td><code id="bm_expand_+3A_height">height</code></td>
<td>
<p>An integer of how many times to repeat each row.</p>
</td></tr>
<tr><td><code id="bm_expand_+3A_...">...</code></td>
<td>
<p>Additional arguments to be passed to or from methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Depending on <code>x</code> either a <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code>, <code><a href="#topic+bm_font">bm_font()</a></code>, <code><a href="#topic+bm_list">bm_list()</a></code>, <a href="magick.html#topic+editing">magick-image</a>, &quot;nativeRaster&quot;, <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code>, or <a href="grDevices.html#topic+as.raster">raster</a>  object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bm_extend">bm_extend()</a></code> (and <code><a href="#topic+bm_resize">bm_resize()</a></code> which makes larger bitmaps
by adding pixels to their sides.
</p>


<h3>Examples</h3>

<pre><code class='language-R'> font_file &lt;- system.file("fonts/spleen/spleen-8x16.hex.gz", package = "bittermelon")
 font &lt;- read_hex(font_file)
 capital_r &lt;- font[[str2ucp("R")]]
 print(capital_r)
 print(bm_expand(capital_r, 2L),
       px = px_ascii)
 print(bm_expand(capital_r, width = 1L, height = 2L),
       px = px_ascii)
 print(bm_expand(capital_r, width = 2L, height = 1L),
       px = px_ascii)
crops &lt;- farming_crops_16x16()
corn &lt;- crops$corn$portrait
corn_2x &lt;- bm_expand(corn, 2L)
if (cli::is_utf8_output() &amp;&amp; cli::num_ansi_colors() &gt;= 256L) {
  print(corn_2x, compress = "v")
}
</code></pre>

<hr>
<h2 id='bm_extend'>Extend bitmaps on the sides with extra pixels</h2><span id='topic+bm_extend'></span><span id='topic+bm_extend.bm_bitmap'></span><span id='topic+bm_extend.bm_pixmap'></span><span id='topic+bm_extend.bm_list'></span><span id='topic+bm_extend.magick-image'></span><span id='topic+bm_extend.nativeRaster'></span><span id='topic+bm_extend.raster'></span>

<h3>Description</h3>

<p><code>bm_extend()</code> extends <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code> objects with extra pixels.
The directions and the integer value of the extra pixels are settable
(defaulting to <code>0L</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bm_extend(
  x,
  value,
  sides = NULL,
  top = NULL,
  right = NULL,
  bottom = NULL,
  left = NULL,
  width = NULL,
  height = NULL,
  hjust = "center-left",
  vjust = "center-top"
)

## S3 method for class 'bm_bitmap'
bm_extend(
  x,
  value = 0L,
  sides = NULL,
  top = NULL,
  right = NULL,
  bottom = NULL,
  left = NULL,
  width = NULL,
  height = NULL,
  hjust = "center-left",
  vjust = "center-top"
)

## S3 method for class 'bm_pixmap'
bm_extend(
  x,
  value = col2hex("transparent"),
  sides = NULL,
  top = NULL,
  right = NULL,
  bottom = NULL,
  left = NULL,
  width = NULL,
  height = NULL,
  hjust = "center-left",
  vjust = "center-top"
)

## S3 method for class 'bm_list'
bm_extend(x, ...)

## S3 method for class ''magick-image''
bm_extend(
  x,
  value = "transparent",
  sides = NULL,
  top = NULL,
  right = NULL,
  bottom = NULL,
  left = NULL,
  width = NULL,
  height = NULL,
  hjust = "center-left",
  vjust = "center-top"
)

## S3 method for class 'nativeRaster'
bm_extend(
  x,
  value = col2int("transparent"),
  sides = NULL,
  top = NULL,
  right = NULL,
  bottom = NULL,
  left = NULL,
  width = NULL,
  height = NULL,
  hjust = "center-left",
  vjust = "center-top"
)

## S3 method for class 'raster'
bm_extend(
  x,
  value = "transparent",
  sides = NULL,
  top = NULL,
  right = NULL,
  bottom = NULL,
  left = NULL,
  width = NULL,
  height = NULL,
  hjust = "center-left",
  vjust = "center-top"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bm_extend_+3A_x">x</code></td>
<td>
<p>Either a <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code>, <code><a href="#topic+bm_font">bm_font()</a></code>, <code><a href="#topic+bm_list">bm_list()</a></code>, <a href="magick.html#topic+editing">&quot;magick-image&quot;</a>, &quot;nativeRaster&quot;, <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code>, or <a href="grDevices.html#topic+as.raster">&quot;raster&quot;</a>  object.</p>
</td></tr>
<tr><td><code id="bm_extend_+3A_value">value</code></td>
<td>
<p>Value for the new pixels.</p>
</td></tr>
<tr><td><code id="bm_extend_+3A_sides">sides</code></td>
<td>
<p>If not <code>NULL</code> then an integer vector indicating how
many pixels to pad on all four sides.
If the integer vector is of length one it indicates the number of pixels for all four sides.
If of length two gives first the number for the vertical sides and then the horizontal sides.
If of length three gives the number of pixels for top, the horizontal sides, and then bottom sides.
If of length four gives the number of pixels for top, right, bottom, and then left sides.
This is the same scheme as used by the CSS padding and margin properties.</p>
</td></tr>
<tr><td><code id="bm_extend_+3A_top">top</code></td>
<td>
<p>How many pixels to pad the top.</p>
</td></tr>
<tr><td><code id="bm_extend_+3A_right">right</code></td>
<td>
<p>How many pixels to pad the right.</p>
</td></tr>
<tr><td><code id="bm_extend_+3A_bottom">bottom</code></td>
<td>
<p>How many pixels to pad the bottom.</p>
</td></tr>
<tr><td><code id="bm_extend_+3A_left">left</code></td>
<td>
<p>How many pixels to pad the left.</p>
</td></tr>
<tr><td><code id="bm_extend_+3A_width">width</code></td>
<td>
<p>How many pixels wide should the new bitmap be.
Use with the <code>hjust</code> argument or just one of either the <code>left</code> or <code>right</code> arguments.</p>
</td></tr>
<tr><td><code id="bm_extend_+3A_height">height</code></td>
<td>
<p>How many pixels tall should the new bitmap be.
Use with the <code>vjust</code> argument or just one of either the <code>top</code> or <code>bottom</code> arguments.</p>
</td></tr>
<tr><td><code id="bm_extend_+3A_hjust">hjust</code></td>
<td>
<p>One of &quot;left&quot;, &quot;center-left&quot;, &quot;center-right&quot;, &quot;right&quot;.
&quot;center-left&quot; and &quot;center-right&quot; will attempt to
place in &quot;center&quot; if possible but if not possible will bias
it one pixel left or right respectively.
&quot;centre&quot;, &quot;center&quot;, and &quot;centre-left&quot; are aliases for &quot;center-left&quot;.
&quot;centre-right&quot; is an alias for &quot;center-right&quot;.</p>
</td></tr>
<tr><td><code id="bm_extend_+3A_vjust">vjust</code></td>
<td>
<p>One of &quot;bottom&quot;, &quot;center-bottom&quot;, &quot;center-top&quot;, &quot;top&quot;.
&quot;center-bottom&quot; and &quot;center-top&quot; will attempt to
place in &quot;center&quot; if possible but if not possible will bias
it one pixel down or up respectively.
&quot;centre&quot;, &quot;center&quot;, and &quot;centre-top&quot; are aliases for &quot;center-top&quot;.
&quot;centre-bottom&quot; is an alias for &quot;center-bottom&quot;.</p>
</td></tr>
<tr><td><code id="bm_extend_+3A_...">...</code></td>
<td>
<p>Additional arguments to be passed to or from methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Depending on <code>x</code> either a <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code>, <code><a href="#topic+bm_font">bm_font()</a></code>, <code><a href="#topic+bm_list">bm_list()</a></code>, <a href="magick.html#topic+editing">magick-image</a>, &quot;nativeRaster&quot;, <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code>, or <a href="grDevices.html#topic+as.raster">raster</a>  object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bm_expand">bm_expand()</a></code>, <code><a href="#topic+bm_pad">bm_pad()</a></code>, <code><a href="#topic+bm_resize">bm_resize()</a></code>, and <code><a href="#topic+bm_trim">bm_trim()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>font_file &lt;- system.file("fonts/spleen/spleen-8x16.hex.gz", package = "bittermelon")
font &lt;- read_hex(font_file)
# add a border to an "R"
capital_r &lt;- font[[str2ucp("R")]]
capital_r &lt;- bm_extend(capital_r, value = 2L, sides = 1L)
capital_r &lt;- bm_extend(capital_r, value = 3L, sides = 1L)
print(capital_r)

crops &lt;- farming_crops_16x16()
corn &lt;- crops$corn$portrait
corn_framed &lt;- bm_extend(corn, value = "brown", sides = 1L)
if (cli::is_utf8_output() &amp;&amp; cli::num_ansi_colors() &gt;= 256L) {
  print(corn_framed, compress = "v")
}
</code></pre>

<hr>
<h2 id='bm_flip'>Flip (reflect) bitmaps</h2><span id='topic+bm_flip'></span><span id='topic+bm_flip.bm_bitmap'></span><span id='topic+bm_flip.bm_list'></span><span id='topic+bm_flip.bm_pixmap'></span><span id='topic+bm_flip.magick-image'></span><span id='topic+bm_flip.nativeRaster'></span><span id='topic+bm_flip.raster'></span>

<h3>Description</h3>

<p><code>bm_flip()</code> flips (reflects) bitmaps horizontally, vertically, or both.
It can flip the entire bitmap or just the glyph in place.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bm_flip(x, direction = "vertical", in_place = FALSE, value)

## S3 method for class 'bm_bitmap'
bm_flip(x, direction = "vertical", in_place = FALSE, value = 0L)

## S3 method for class 'bm_list'
bm_flip(x, ...)

## S3 method for class 'bm_pixmap'
bm_flip(
  x,
  direction = "vertical",
  in_place = FALSE,
  value = col2hex("transparent")
)

## S3 method for class ''magick-image''
bm_flip(x, direction = "vertical", in_place = FALSE, value = "transparent")

## S3 method for class 'nativeRaster'
bm_flip(
  x,
  direction = "vertical",
  in_place = FALSE,
  value = col2int("transparent")
)

## S3 method for class 'raster'
bm_flip(x, direction = "vertical", in_place = FALSE, value = "transparent")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bm_flip_+3A_x">x</code></td>
<td>
<p>Either a <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code>, <code><a href="#topic+bm_font">bm_font()</a></code>, <code><a href="#topic+bm_list">bm_list()</a></code>, <a href="magick.html#topic+editing">&quot;magick-image&quot;</a>, &quot;nativeRaster&quot;, <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code>, or <a href="grDevices.html#topic+as.raster">&quot;raster&quot;</a>  object.</p>
</td></tr>
<tr><td><code id="bm_flip_+3A_direction">direction</code></td>
<td>
<p>Either &quot;vertical&quot; or &quot;v&quot;, &quot;horizontal&quot; or &quot;h&quot;,
OR &quot;both&quot; or &quot;b&quot;.</p>
</td></tr>
<tr><td><code id="bm_flip_+3A_in_place">in_place</code></td>
<td>
<p>If <code>TRUE</code> flip the glyphs in place (without changing any background padding).</p>
</td></tr>
<tr><td><code id="bm_flip_+3A_value">value</code></td>
<td>
<p>Background padding value (to use if <code>in_place</code> is <code>TRUE</code>)</p>
</td></tr>
<tr><td><code id="bm_flip_+3A_...">...</code></td>
<td>
<p>Additional arguments to be passed to or from methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Depending on <code>x</code> either a <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code>, <code><a href="#topic+bm_font">bm_font()</a></code>, <code><a href="#topic+bm_list">bm_list()</a></code>, <a href="magick.html#topic+editing">magick-image</a>, &quot;nativeRaster&quot;, <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code>, or <a href="grDevices.html#topic+as.raster">raster</a>  object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>font_file &lt;- system.file("fonts/spleen/spleen-8x16.hex.gz", package = "bittermelon")
font &lt;- read_hex(font_file)

# Print upside down
bml &lt;- as_bm_list("RSTATS", font = font)
bml &lt;- bm_flip(bml, "both")
bm &lt;- bm_call(bml, cbind, direction = "RTL")
print(bm)

# Can also modify glyphs "in place"
exclamation &lt;- font[[str2ucp("!")]]
exclamation_flipped &lt;- bm_flip(exclamation, in_place = TRUE)
print(exclamation_flipped)

crops &lt;- farming_crops_16x16()
corn &lt;- crops$corn$portrait
corn_fh &lt;- bm_flip(corn, "h")
if (cli::is_utf8_output() &amp;&amp; cli::num_ansi_colors() &gt;= 256L) {
  print(corn_fh, compress = "v")
}
</code></pre>

<hr>
<h2 id='bm_font'>Bitmap font object</h2><span id='topic+bm_font'></span>

<h3>Description</h3>

<p><code>bm_font()</code> creates a bitmap font object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bm_font(x = bm_list(), comments = NULL, properties = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bm_font_+3A_x">x</code></td>
<td>
<p>Named list of <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code> objects.
Names must be coercible by <code><a href="Unicode.html#topic+u_char_basics">Unicode::as.u_char()</a></code>.</p>
</td></tr>
<tr><td><code id="bm_font_+3A_comments">comments</code></td>
<td>
<p>An optional character vector of (global) font comments.</p>
</td></tr>
<tr><td><code id="bm_font_+3A_properties">properties</code></td>
<td>
<p>An optional named list of font metadata.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>bm_font()</code> is a named list.
The names are of the form &ldquo;U+HHHH&rdquo; or &ldquo;U+HHHHH&rdquo;.
where the <code>H</code> are appropriate hexadecimal Unicode code points.
It is a subclass of <code><a href="#topic+bm_list">bm_list()</a></code>.
</p>


<h3>Value</h3>

<p>A named list with a &ldquo;bm_font&rdquo; subclass.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+is_bm_font">is_bm_font()</a></code>, <code><a href="#topic+as_bm_font">as_bm_font()</a></code>, <code><a href="#topic+hex2ucp">hex2ucp()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'> font_file &lt;- system.file("fonts/spleen/spleen-8x16.hex.gz", package = "bittermelon")
 font &lt;- read_hex(font_file)
 is_bm_font(font)

 # number of characters in font
 length(font)

 # print out "R"
 R_glyph &lt;- font[[str2ucp("R")]]
 print(R_glyph)
</code></pre>

<hr>
<h2 id='bm_gray'>Gray a bitmap</h2><span id='topic+bm_gray'></span><span id='topic+bm_grey'></span><span id='topic+bm_gray.bm_bitmap'></span><span id='topic+bm_gray.bm_list'></span><span id='topic+bm_gray.bm_pixmap'></span><span id='topic+bm_gray.magick-image'></span><span id='topic+bm_gray.nativeRaster'></span><span id='topic+bm_gray.raster'></span>

<h3>Description</h3>

<p><code>bm_gray()</code> grays a bitmap. <code>bm_grey()</code> is offered as an alias.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bm_gray(x)

bm_grey(x)

## S3 method for class 'bm_bitmap'
bm_gray(x)

## S3 method for class 'bm_list'
bm_gray(x)

## S3 method for class 'bm_pixmap'
bm_gray(x)

## S3 method for class ''magick-image''
bm_gray(x)

## S3 method for class 'nativeRaster'
bm_gray(x)

## S3 method for class 'raster'
bm_gray(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bm_gray_+3A_x">x</code></td>
<td>
<p>Either a <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code>, <code><a href="#topic+bm_font">bm_font()</a></code>, <code><a href="#topic+bm_list">bm_list()</a></code>, <a href="magick.html#topic+editing">&quot;magick-image&quot;</a>, &quot;nativeRaster&quot;, <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code>, or <a href="grDevices.html#topic+as.raster">&quot;raster&quot;</a>  object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Depending on <code>x</code> either a <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code>, <code><a href="#topic+bm_font">bm_font()</a></code>, <code><a href="#topic+bm_list">bm_list()</a></code>, <a href="magick.html#topic+editing">magick-image</a>, &quot;nativeRaster&quot;, <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code>, or <a href="grDevices.html#topic+as.raster">raster</a>  object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>corn &lt;- farming_crops_16x16()$corn$portrait
corn_gray &lt;- bm_gray(corn)
if (cli::is_utf8_output() &amp;&amp; cli::num_ansi_colors() &gt;= 256L) {
  print(corn_gray, compress = "v")
}
</code></pre>

<hr>
<h2 id='bm_heights'>Widths or heights of bitmaps</h2><span id='topic+bm_heights'></span><span id='topic+bm_heights.bm_matrix'></span><span id='topic+bm_heights.bm_list'></span><span id='topic+bm_heights.magick-image'></span><span id='topic+bm_heights.nativeRaster'></span><span id='topic+bm_heights.raster'></span><span id='topic+bm_widths'></span><span id='topic+bm_widths.bm_matrix'></span><span id='topic+bm_widths.bm_list'></span><span id='topic+bm_widths.magick-image'></span><span id='topic+bm_widths.nativeRaster'></span><span id='topic+bm_widths.raster'></span>

<h3>Description</h3>

<p><code>bm_widths()</code> returns the widths of the bitmaps while
<code>bm_heights()</code> returns the heights of the bitmaps.
<code>bm_widths()</code> and <code>bm_heights()</code> are S3 generic functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bm_heights(x, ...)

## S3 method for class 'bm_matrix'
bm_heights(x, ...)

## S3 method for class 'bm_list'
bm_heights(x, unique = TRUE, ...)

## S3 method for class ''magick-image''
bm_heights(x, ...)

## S3 method for class 'nativeRaster'
bm_heights(x, ...)

## S3 method for class 'raster'
bm_heights(x, ...)

bm_widths(x, ...)

## S3 method for class 'bm_matrix'
bm_widths(x, ...)

## S3 method for class 'bm_list'
bm_widths(x, unique = TRUE, ...)

## S3 method for class ''magick-image''
bm_widths(x, ...)

## S3 method for class 'nativeRaster'
bm_widths(x, ...)

## S3 method for class 'raster'
bm_widths(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bm_heights_+3A_x">x</code></td>
<td>
<p>Either a <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code>, <code><a href="#topic+bm_font">bm_font()</a></code>, <code><a href="#topic+bm_list">bm_list()</a></code>, <a href="magick.html#topic+editing">&quot;magick-image&quot;</a>, &quot;nativeRaster&quot;, <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code>, or <a href="grDevices.html#topic+as.raster">&quot;raster&quot;</a>  object.</p>
</td></tr>
<tr><td><code id="bm_heights_+3A_...">...</code></td>
<td>
<p>Ignored.</p>
</td></tr>
<tr><td><code id="bm_heights_+3A_unique">unique</code></td>
<td>
<p>Apply <code><a href="base.html#topic+unique">base::unique()</a></code> to the returned integer vector.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A integer vector of the relevant length of each
of the bitmap objects in <code>x</code>.
If <code>unique</code> is <code>TRUE</code> then any duplicates will have been removed.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>font_file &lt;- system.file("fonts/spleen/spleen-8x16.hex.gz", package = "bittermelon")
font &lt;- read_hex(font_file)
bm_widths(font) # every glyph in the font is 8 pixels wide
bm_heights(font) # every glyph in the font is 16 pixels high
corn &lt;- farming_crops_16x16()$corn$portrait
bm_widths(corn)
bm_heights(corn)
</code></pre>

<hr>
<h2 id='bm_invert'>Invert (negate) a bitmap</h2><span id='topic+bm_invert'></span><span id='topic+bm_invert.bm_bitmap'></span><span id='topic+bm_invert.bm_list'></span><span id='topic+bm_invert.bm_pixmap'></span><span id='topic+bm_invert.magick-image'></span><span id='topic+bm_invert.nativeRaster'></span><span id='topic+bm_invert.raster'></span>

<h3>Description</h3>

<p><code>bm_invert()</code> inverts (negates) a bitmap.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bm_invert(x)

## S3 method for class 'bm_bitmap'
bm_invert(x)

## S3 method for class 'bm_list'
bm_invert(x)

## S3 method for class 'bm_pixmap'
bm_invert(x)

## S3 method for class ''magick-image''
bm_invert(x)

## S3 method for class 'nativeRaster'
bm_invert(x)

## S3 method for class 'raster'
bm_invert(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bm_invert_+3A_x">x</code></td>
<td>
<p>Either a <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code>, <code><a href="#topic+bm_font">bm_font()</a></code>, <code><a href="#topic+bm_list">bm_list()</a></code>, <a href="magick.html#topic+editing">&quot;magick-image&quot;</a>, &quot;nativeRaster&quot;, <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code>, or <a href="grDevices.html#topic+as.raster">&quot;raster&quot;</a>  object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Depending on <code>x</code> either a <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code>, <code><a href="#topic+bm_font">bm_font()</a></code>, <code><a href="#topic+bm_list">bm_list()</a></code>, <a href="magick.html#topic+editing">magick-image</a>, &quot;nativeRaster&quot;, <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code>, or <a href="grDevices.html#topic+as.raster">raster</a>  object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>font_file &lt;- system.file("fonts/spleen/spleen-8x16.hex.gz", package = "bittermelon")
font &lt;- read_hex(font_file)
capital_r &lt;- as_bm_bitmap("R", font = font)
capital_r_inverted &lt;- bm_invert(capital_r)
print(capital_r_inverted)

corn &lt;- farming_crops_16x16()$corn$portrait
corn_inverted &lt;- bm_invert(corn)
if (cli::is_utf8_output() &amp;&amp; cli::num_ansi_colors() &gt;= 256L) {
  print(corn_inverted, compress = "v", bg = "black")
}
</code></pre>

<hr>
<h2 id='bm_lapply'>Modify bitmap lists</h2><span id='topic+bm_lapply'></span>

<h3>Description</h3>

<p><code>bm_lapply()</code> applies a function over a bitmap glyph list
and returns a modified bitmap glyph list.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bm_lapply(X, FUN, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bm_lapply_+3A_x">X</code></td>
<td>
<p>A bitmap glyph list object such as <code><a href="#topic+bm_list">bm_list()</a></code> or <code><a href="#topic+bm_font">bm_font()</a></code>.</p>
</td></tr>
<tr><td><code id="bm_lapply_+3A_fun">FUN</code></td>
<td>
<p>A function that takes a <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code> object as its first argument
and returns a <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code> object.</p>
</td></tr>
<tr><td><code id="bm_lapply_+3A_...">...</code></td>
<td>
<p>Additional arguments to pass to <code>FUN</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>bm_lapply()</code> is a wrapper around <code>base::lapply()</code> that
preserves the classes and metadata of the original bitmap glyph list.
</p>


<h3>Value</h3>

<p>A modified bitmap glyph list.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+lapply">base::lapply()</a></code>, <code><a href="#topic+bm_list">bm_list()</a></code>, <code><a href="#topic+bm_font">bm_font()</a></code>, <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code>
</p>

<hr>
<h2 id='bm_list'>Bitmap list object</h2><span id='topic+bm_list'></span>

<h3>Description</h3>

<p><code>bm_list()</code> creates a bitmap list object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bm_list(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bm_list_+3A_...">...</code></td>
<td>
<p><code><a href="#topic+bm_bitmap">bm_bitmap()</a></code> objects, possibly named.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>bm_list()</code> is a list of <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code> objects with class &ldquo;bm_list&rdquo;.
It is superclass of <code><a href="#topic+bm_font">bm_font()</a></code>.
</p>


<h3>Value</h3>

<p>A named list with a &ldquo;bm_list&rdquo; subclass.
</p>


<h3>Supported S3 methods</h3>


<ul>
<li> <p><code>as.list.bm_list()</code>
</p>
</li>
<li><p> Slicing with <code style="white-space: pre;">&#8288;[]&#8288;</code> returns <code>bm_list()</code> objects.
</p>
</li>
<li><p> The <code>min()</code>, <code>max()</code>, and <code>range()</code> functions from the &ldquo;Summary&rdquo;
group of generic methods.
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+is_bm_list">is_bm_list()</a></code>, <code><a href="#topic+as_bm_list">as_bm_list()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'> font_file &lt;- system.file("fonts/spleen/spleen-8x16.hex.gz", package = "bittermelon")
 font &lt;- read_hex(font_file)

 gl &lt;- font[c("U+0023", "U+0052", "U+0053", "U+0054", "U+0041", "U+0054", "U+0053")] # #RSTATS
 gl &lt;- as_bm_list(gl)
 is_bm_list(gl)

</code></pre>

<hr>
<h2 id='bm_mask'>Modify bitmaps via masking with a 'mask' bitmap</h2><span id='topic+bm_mask'></span><span id='topic+bm_mask.bm_bitmap'></span><span id='topic+bm_mask.bm_pixmap'></span><span id='topic+bm_mask.magick-image'></span><span id='topic+bm_mask.nativeRaster'></span><span id='topic+bm_mask.raster'></span><span id='topic+bm_mask.bm_list'></span>

<h3>Description</h3>

<p><code>bm_mask()</code> modifies bitmaps by using a binary bitmap &ldquo;mask&rdquo;
to set certain elements to a background value.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bm_mask(
  x,
  mask = NULL,
  base = NULL,
  mode = c("luminance", "alpha"),
  hjust = "center-left",
  vjust = "center-top"
)

## S3 method for class 'bm_bitmap'
bm_mask(
  x,
  mask = NULL,
  base = NULL,
  mode = c("luminance", "alpha"),
  hjust = "center-left",
  vjust = "center-top"
)

## S3 method for class 'bm_pixmap'
bm_mask(
  x,
  mask = NULL,
  base = NULL,
  mode = c("luminance", "alpha"),
  hjust = "center-left",
  vjust = "center-top"
)

## S3 method for class ''magick-image''
bm_mask(
  x,
  mask = NULL,
  base = NULL,
  mode = c("luminance", "alpha"),
  hjust = "center-left",
  vjust = "center-top"
)

## S3 method for class 'nativeRaster'
bm_mask(
  x,
  mask = NULL,
  base = NULL,
  mode = c("luminance", "alpha"),
  hjust = "center-left",
  vjust = "center-top"
)

## S3 method for class 'raster'
bm_mask(
  x,
  mask = NULL,
  base = NULL,
  mode = c("luminance", "alpha"),
  hjust = "center-left",
  vjust = "center-top"
)

## S3 method for class 'bm_list'
bm_mask(
  x,
  mask = NULL,
  base = NULL,
  mode = c("luminance", "alpha"),
  hjust = "center-left",
  vjust = "center-top"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bm_mask_+3A_x">x</code></td>
<td>
<p>Either a <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code>, <code><a href="#topic+bm_font">bm_font()</a></code>, <code><a href="#topic+bm_list">bm_list()</a></code>, <a href="magick.html#topic+editing">&quot;magick-image&quot;</a>, &quot;nativeRaster&quot;, <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code>, or <a href="grDevices.html#topic+as.raster">&quot;raster&quot;</a>  object.</p>
</td></tr>
<tr><td><code id="bm_mask_+3A_mask">mask</code></td>
<td>
<p>An object to use as a binary bitmap &ldquo;mask&rdquo;.
Only one of <code>mask</code> or <code>base</code> may be set.
Will be coerced to a <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code> object by <code><a href="#topic+as_bm_bitmap">as_bm_bitmap()</a></code>.</p>
</td></tr>
<tr><td><code id="bm_mask_+3A_base">base</code></td>
<td>
<p>A bitmap/pixmap object which will be &ldquo;masked&rdquo; by <code>mask</code>.
Only one of <code>mask</code> or <code>base</code> may be set.</p>
</td></tr>
<tr><td><code id="bm_mask_+3A_mode">mode</code></td>
<td>
<p>Either &quot;luminance&quot; (default) or &quot;alpha&quot;.</p>
</td></tr>
<tr><td><code id="bm_mask_+3A_hjust">hjust</code></td>
<td>
<p>One of &quot;left&quot;, &quot;center-left&quot;, &quot;center-right&quot;, &quot;right&quot;.
&quot;center-left&quot; and &quot;center-right&quot; will attempt to
place in &quot;center&quot; if possible but if not possible will bias
it one pixel left or right respectively.
&quot;centre&quot;, &quot;center&quot;, and &quot;centre-left&quot; are aliases for &quot;center-left&quot;.
&quot;centre-right&quot; is an alias for &quot;center-right&quot;.</p>
</td></tr>
<tr><td><code id="bm_mask_+3A_vjust">vjust</code></td>
<td>
<p>One of &quot;bottom&quot;, &quot;center-bottom&quot;, &quot;center-top&quot;, &quot;top&quot;.
&quot;center-bottom&quot; and &quot;center-top&quot; will attempt to
place in &quot;center&quot; if possible but if not possible will bias
it one pixel down or up respectively.
&quot;centre&quot;, &quot;center&quot;, and &quot;centre-top&quot; are aliases for &quot;center-top&quot;.
&quot;centre-bottom&quot; is an alias for &quot;center-bottom&quot;.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If necessary bitmaps will be extended by <code>bm_extend()</code> such that
they are the same size.
If necessary the <code>mask</code> will be coerced into a &ldquo;binary&rdquo; mask
by <code>bm_clamp(as_bm_bitmap(mask))</code>.
If <code>mode</code> is &quot;luminance&quot; then where the <code>mask</code> is <code>1L</code>
the corresponding pixel in <code>base</code> will be coerced to the background value.
If <code>mode</code> is &quot;alpha&quot; then where the <code>mask</code> is <code>0L</code>
the corresponding pixel in <code>base</code> will be coerced to the background value.
</p>


<h3>Value</h3>

<p>A bitmap/pixmap object that is the same type as <code>x</code> (if <code>base</code> is <code>NULL</code>) or <code>base</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (require("grid", quietly = TRUE) &amp;&amp; capabilities("png")) {
  font_file &lt;- system.file("fonts/spleen/spleen-8x16.hex.gz", package = "bittermelon")
  font &lt;- read_hex(font_file)
  one &lt;- font[[str2ucp("1")]]
  circle_large &lt;- as_bm_bitmap(circleGrob(r = 0.50), width = 16L, height = 16L)
  circle_small &lt;- as_bm_bitmap(circleGrob(r = 0.40), width = 16L, height = 16L)
  circle_outline &lt;- bm_mask(circle_large, circle_small)
  print(circle_outline)
}
if (capabilities("png")) {
  # U+2776 "Dingbat Negative Circled Digit One"
  circle_minus_one &lt;- bm_mask(circle_large, one)
  print(circle_minus_one)
}
# Can also do "alpha" mask
square_full &lt;- bm_bitmap(matrix(1L, nrow = 16L, ncol = 16L))
square_minus_lower_left &lt;- square_full
square_minus_lower_left[1:8, 1:8] &lt;- 0L
print(square_minus_lower_left)
if (capabilities("png")) {
  circle_minus_lower_left &lt;- bm_mask(circle_large, square_minus_lower_left, mode = "alpha")
  print(circle_minus_lower_left)
}

if (capabilities("png")) {
  m &lt;- matrix(grDevices::rainbow(8L), byrow = TRUE, ncol = 8L, nrow = 8L)
  rainbow &lt;- bm_expand(as_bm_pixmap(m), 2L)
  circle_rainbow &lt;- bm_mask(rainbow, circle_large, mode = "alpha")
}
if (cli::is_utf8_output() &amp;&amp; 
    cli::num_ansi_colors() &gt;= 256L &amp;&amp;
    capabilities("png")) {
  print(circle_rainbow, compress = "v")
}
</code></pre>

<hr>
<h2 id='bm_options'>Get bittermelon options</h2><span id='topic+bm_options'></span>

<h3>Description</h3>

<p><code>bm_options()</code> returns the <code>bittermelon</code> packages global options.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bm_options(..., default = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bm_options_+3A_...">...</code></td>
<td>
<p><code>bittermelon</code> package options using <code>name = value</code>.
The return list will use any of these instead of the current/default values.</p>
</td></tr>
<tr><td><code id="bm_options_+3A_default">default</code></td>
<td>
<p>If <code>TRUE</code> return the default values instead of current values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of option values.
Note this function <strong>does not</strong> set option values itself but
this list can be passed to <code><a href="base.html#topic+options">options()</a></code>, <code><a href="withr.html#topic+with_options">withr::local_options()</a></code>, or <code><a href="withr.html#topic+with_options">withr::with_options()</a></code>.
</p>


<h3>See Also</h3>

<p><a href="#topic+bittermelon">bittermelon</a> for a high-level description of relevant global options.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  bm_options()

  bm_options(default = TRUE)

  bm_options(bittermelon.compress = "vertical")
</code></pre>

<hr>
<h2 id='bm_outline'>Compute &quot;outline&quot; bitmap of a bitmap</h2><span id='topic+bm_outline'></span><span id='topic+bm_outline.bm_bitmap'></span><span id='topic+bm_outline.bm_list'></span><span id='topic+bm_outline.bm_pixmap'></span><span id='topic+bm_outline.magick-image'></span><span id='topic+bm_outline.nativeRaster'></span><span id='topic+bm_outline.raster'></span>

<h3>Description</h3>

<p><code>bm_outline()</code> returns a bitmap that is just the &ldquo;outline&rdquo;
of another bitmap.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bm_outline(x, value, bg)

## S3 method for class 'bm_bitmap'
bm_outline(x, value = 1L, bg = 0L)

## S3 method for class 'bm_list'
bm_outline(x, ...)

## S3 method for class 'bm_pixmap'
bm_outline(x, value = col2hex("black"), bg = col2hex("transparent"))

## S3 method for class ''magick-image''
bm_outline(x, value = "black", bg = "transparent")

## S3 method for class 'nativeRaster'
bm_outline(x, value = col2int("black"), bg = col2int("transparent"))

## S3 method for class 'raster'
bm_outline(x, value = "black", bg = "transparent")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bm_outline_+3A_x">x</code></td>
<td>
<p>Either a <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code>, <code><a href="#topic+bm_font">bm_font()</a></code>, <code><a href="#topic+bm_list">bm_list()</a></code>, <a href="magick.html#topic+editing">&quot;magick-image&quot;</a>, &quot;nativeRaster&quot;, <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code>, or <a href="grDevices.html#topic+as.raster">&quot;raster&quot;</a>  object.</p>
</td></tr>
<tr><td><code id="bm_outline_+3A_value">value</code></td>
<td>
<p>Bitmap &ldquo;color&rdquo; value for the outline.</p>
</td></tr>
<tr><td><code id="bm_outline_+3A_bg">bg</code></td>
<td>
<p>Bitmap &ldquo;background&rdquo; value.</p>
</td></tr>
<tr><td><code id="bm_outline_+3A_...">...</code></td>
<td>
<p>Additional arguments to be passed to or from methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Depending on <code>x</code> either a <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code>, <code><a href="#topic+bm_font">bm_font()</a></code>, <code><a href="#topic+bm_list">bm_list()</a></code>, <a href="magick.html#topic+editing">magick-image</a>, &quot;nativeRaster&quot;, <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code>, or <a href="grDevices.html#topic+as.raster">raster</a>  object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>square &lt;- bm_bitmap(matrix(1L, nrow = 16L, ncol = 16L))
square_outline &lt;- bm_outline(square)
print(square_outline)

if (require(grid) &amp;&amp; capabilities("png")) {
  circle &lt;- as_bm_bitmap(circleGrob(), width=16, height=16)
  circle_outline &lt;- bm_outline(circle)
  print(circle_outline)
}

corn &lt;- farming_crops_16x16()$corn$portrait
corn_outline &lt;- bm_outline(corn, "magenta")
if (cli::is_utf8_output() &amp;&amp; cli::num_ansi_colors() &gt;= 256L) {
  print(corn_outline, bg = "white")
}
</code></pre>

<hr>
<h2 id='bm_overlay'>Merge bitmaps by overlaying one over another</h2><span id='topic+bm_overlay'></span><span id='topic+bm_overlay.bm_bitmap'></span><span id='topic+bm_overlay.bm_list'></span><span id='topic+bm_overlay.bm_pixmap'></span><span id='topic+bm_overlay.magick-image'></span><span id='topic+bm_overlay.nativeRaster'></span><span id='topic+bm_overlay.raster'></span>

<h3>Description</h3>

<p><code>bm_overlay()</code> merges bitmaps by overlaying a bitmap over another.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bm_overlay(
  x,
  over = NULL,
  under = NULL,
  hjust = "center-left",
  vjust = "center-top",
  ...
)

## S3 method for class 'bm_bitmap'
bm_overlay(
  x,
  over = NULL,
  under = NULL,
  hjust = "center-left",
  vjust = "center-top",
  bg = 0L,
  ...
)

## S3 method for class 'bm_list'
bm_overlay(x, ...)

## S3 method for class 'bm_pixmap'
bm_overlay(
  x,
  over = NULL,
  under = NULL,
  hjust = "center-left",
  vjust = "center-top",
  bg = col2hex("transparent"),
  ...
)

## S3 method for class ''magick-image''
bm_overlay(
  x,
  over = NULL,
  under = NULL,
  hjust = "center-left",
  vjust = "center-top",
  bg = "transparent",
  ...
)

## S3 method for class 'nativeRaster'
bm_overlay(
  x,
  over = NULL,
  under = NULL,
  hjust = "center-left",
  vjust = "center-top",
  bg = col2int("transparent"),
  ...
)

## S3 method for class 'raster'
bm_overlay(
  x,
  over = NULL,
  under = NULL,
  hjust = "center-left",
  vjust = "center-top",
  bg = "transparent",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bm_overlay_+3A_x">x</code></td>
<td>
<p>Either a <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code>, <code><a href="#topic+bm_font">bm_font()</a></code>, <code><a href="#topic+bm_list">bm_list()</a></code>, <a href="magick.html#topic+editing">&quot;magick-image&quot;</a>, &quot;nativeRaster&quot;, <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code>, or <a href="grDevices.html#topic+as.raster">&quot;raster&quot;</a>  object.</p>
</td></tr>
<tr><td><code id="bm_overlay_+3A_over">over</code></td>
<td>
<p>A bitmap/pixmap object to overlay
over the <code>x</code> bitmap(s).
Only one of <code>over</code> or <code>under</code> may be set.</p>
</td></tr>
<tr><td><code id="bm_overlay_+3A_under">under</code></td>
<td>
<p>A bitmap/pixmap object which will be overlaid
by the <code>x</code> bitmap(s).
Only one of <code>over</code> or <code>under</code> may be set.</p>
</td></tr>
<tr><td><code id="bm_overlay_+3A_hjust">hjust</code></td>
<td>
<p>One of &quot;left&quot;, &quot;center-left&quot;, &quot;center-right&quot;, &quot;right&quot;.
&quot;center-left&quot; and &quot;center-right&quot; will attempt to
place in &quot;center&quot; if possible but if not possible will bias
it one pixel left or right respectively.
&quot;centre&quot;, &quot;center&quot;, and &quot;centre-left&quot; are aliases for &quot;center-left&quot;.
&quot;centre-right&quot; is an alias for &quot;center-right&quot;.</p>
</td></tr>
<tr><td><code id="bm_overlay_+3A_vjust">vjust</code></td>
<td>
<p>One of &quot;bottom&quot;, &quot;center-bottom&quot;, &quot;center-top&quot;, &quot;top&quot;.
&quot;center-bottom&quot; and &quot;center-top&quot; will attempt to
place in &quot;center&quot; if possible but if not possible will bias
it one pixel down or up respectively.
&quot;centre&quot;, &quot;center&quot;, and &quot;centre-top&quot; are aliases for &quot;center-top&quot;.
&quot;centre-bottom&quot; is an alias for &quot;center-bottom&quot;.</p>
</td></tr>
<tr><td><code id="bm_overlay_+3A_...">...</code></td>
<td>
<p>Additional arguments to be passed to or from methods.</p>
</td></tr>
<tr><td><code id="bm_overlay_+3A_bg">bg</code></td>
<td>
<p>Bitmap background value.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If necessary bitmaps will be extended by <code>bm_extend()</code> such that
they are the same size.  Then the non-zero pixels of the &ldquo;over&rdquo;
bitmap will be inserted into the &ldquo;under&rdquo; bitmap.
</p>


<h3>Value</h3>

<p>Depending on <code>x</code> either a <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code>, <code><a href="#topic+bm_font">bm_font()</a></code>, <code><a href="#topic+bm_list">bm_list()</a></code>, <a href="magick.html#topic+editing">magick-image</a>, &quot;nativeRaster&quot;, <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code>, or <a href="grDevices.html#topic+as.raster">raster</a>  object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>font_file &lt;- system.file("fonts/spleen/spleen-8x16.hex.gz", package = "bittermelon")
font &lt;- read_hex(font_file)
grave &lt;- font[[str2ucp("`")]]
a &lt;- font[[str2ucp("a")]]
a_grave &lt;- bm_overlay(a, over = grave)
print(a_grave)

# Can also instead specify the under glyph as a named argument
a_grave2 &lt;- bm_overlay(grave, under = a)
print(a_grave2)

crops &lt;- farming_crops_16x16()
corn &lt;- bm_shift(crops$corn$portrait, right = 2L, top = 2L)
grapes &lt;- bm_shift(crops$grapes$portrait, bottom = 1L)
grapes_and_corn &lt;- bm_overlay(corn, grapes)
if (cli::is_utf8_output() &amp;&amp; cli::num_ansi_colors() &gt;= 256L) {
  print(grapes_and_corn, compress = "v")
}
</code></pre>

<hr>
<h2 id='bm_pad'>Adjust bitmap padding lengths</h2><span id='topic+bm_pad'></span><span id='topic+bm_pad.bm_bitmap'></span><span id='topic+bm_pad.bm_list'></span><span id='topic+bm_pad.bm_pixmap'></span><span id='topic+bm_pad.magick-image'></span><span id='topic+bm_pad.nativeRaster'></span><span id='topic+bm_pad.raster'></span>

<h3>Description</h3>

<p><code>bm_pad()</code> adjusts bitmap padding lengths.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bm_pad(
  x,
  value,
  type = c("exact", "extend", "trim"),
  sides = NULL,
  top = NULL,
  right = NULL,
  bottom = NULL,
  left = NULL
)

## S3 method for class 'bm_bitmap'
bm_pad(
  x,
  value = 0L,
  type = c("exact", "extend", "trim"),
  sides = NULL,
  top = NULL,
  right = NULL,
  bottom = NULL,
  left = NULL
)

## S3 method for class 'bm_list'
bm_pad(x, ...)

## S3 method for class 'bm_pixmap'
bm_pad(
  x,
  value = col2hex("transparent"),
  type = c("exact", "extend", "trim"),
  sides = NULL,
  top = NULL,
  right = NULL,
  bottom = NULL,
  left = NULL
)

## S3 method for class ''magick-image''
bm_pad(
  x,
  value = "transparent",
  type = c("exact", "extend", "trim"),
  sides = NULL,
  top = NULL,
  right = NULL,
  bottom = NULL,
  left = NULL
)

## S3 method for class 'nativeRaster'
bm_pad(
  x,
  value = col2int("transparent"),
  type = c("exact", "extend", "trim"),
  sides = NULL,
  top = NULL,
  right = NULL,
  bottom = NULL,
  left = NULL
)

## S3 method for class 'raster'
bm_pad(
  x,
  value = "transparent",
  type = c("exact", "extend", "trim"),
  sides = NULL,
  top = NULL,
  right = NULL,
  bottom = NULL,
  left = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bm_pad_+3A_x">x</code></td>
<td>
<p>Either a <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code>, <code><a href="#topic+bm_font">bm_font()</a></code>, <code><a href="#topic+bm_list">bm_list()</a></code>, <a href="magick.html#topic+editing">&quot;magick-image&quot;</a>, &quot;nativeRaster&quot;, <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code>, or <a href="grDevices.html#topic+as.raster">&quot;raster&quot;</a>  object.</p>
</td></tr>
<tr><td><code id="bm_pad_+3A_value">value</code></td>
<td>
<p>Value for the new pixels.</p>
</td></tr>
<tr><td><code id="bm_pad_+3A_type">type</code></td>
<td>
<p>Either &quot;exact&quot;, '&quot;extend&quot;, or &quot;trim&quot;.
&quot;exact&quot; makes sure the padding is exactly the indicated amount,
&quot;extend&quot; does not trim any padding if existing padding is more than the indicated amount,
and &quot;trim&quot; does not extend any padding if existing padding is less than the indicated amount.</p>
</td></tr>
<tr><td><code id="bm_pad_+3A_sides">sides</code></td>
<td>
<p>If not <code>NULL</code> then an integer vector indicating the desired
number of pixels of padding on all four sides.
If the integer vector is of length one it indicates the number of pixels for all four sides.
If of length two gives first the number for the vertical sides and then the horizontal sides.
If of length three gives the number of pixels for top, the horizontal sides, and then bottom sides.
If of length four gives the number of pixels for top, right, bottom, and then left sides.
This is the same scheme as used by the CSS padding and margin properties.</p>
</td></tr>
<tr><td><code id="bm_pad_+3A_top">top</code></td>
<td>
<p>Desired number of pixels of padding on the top.</p>
</td></tr>
<tr><td><code id="bm_pad_+3A_right">right</code></td>
<td>
<p>Desired number of pixels of padding on the right.</p>
</td></tr>
<tr><td><code id="bm_pad_+3A_bottom">bottom</code></td>
<td>
<p>Desired number of pixels of padding on the bottom.</p>
</td></tr>
<tr><td><code id="bm_pad_+3A_left">left</code></td>
<td>
<p>Desired number of pixels of padding on the left.</p>
</td></tr>
<tr><td><code id="bm_pad_+3A_...">...</code></td>
<td>
<p>Additional arguments to be passed to or from methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Depending on <code>x</code> either a <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code>, <code><a href="#topic+bm_font">bm_font()</a></code>, <code><a href="#topic+bm_list">bm_list()</a></code>, <a href="magick.html#topic+editing">magick-image</a>, &quot;nativeRaster&quot;, <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code>, or <a href="grDevices.html#topic+as.raster">raster</a>  object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bm_extend">bm_extend()</a></code>, <code><a href="#topic+bm_resize">bm_resize()</a></code>, and <code><a href="#topic+bm_trim">bm_trim()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>font_file &lt;- system.file("fonts/spleen/spleen-8x16.hex.gz", package = "bittermelon")
font &lt;- read_hex(font_file)
capital_r &lt;- font[[str2ucp("R")]]
print(capital_r)
capital_r_padded &lt;- bm_pad(capital_r, sides = 2L)
print(capital_r_padded)
crops &lt;- farming_crops_16x16()
corn &lt;- crops$corn$portrait
corn_pad4 &lt;- bm_pad(corn, sides = 4L)
if (cli::is_utf8_output() &amp;&amp; cli::num_ansi_colors() &gt;= 256L) {
  print(corn_pad4, compress = "v", bg = "cyan")
}
</code></pre>

<hr>
<h2 id='bm_padding_lengths'>Compute bitmap padding lengths</h2><span id='topic+bm_padding_lengths'></span><span id='topic+bm_padding_lengths.bm_bitmap'></span><span id='topic+bm_padding_lengths.bm_list'></span><span id='topic+bm_padding_lengths.bm_pixmap'></span><span id='topic+bm_padding_lengths.magick-image'></span><span id='topic+bm_padding_lengths.nativeRaster'></span><span id='topic+bm_padding_lengths.raster'></span>

<h3>Description</h3>

<p><code>bm_padding_lengths()</code> computes the padding lengths of a
target value for the top, right, bottom, and left sides of the bitmap.
If the entire bitmap is of the target value then the left/right and top/bottom
will simply split the width/height in half.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bm_padding_lengths(x, value)

## S3 method for class 'bm_bitmap'
bm_padding_lengths(x, value = 0L)

## S3 method for class 'bm_list'
bm_padding_lengths(x, ...)

## S3 method for class 'bm_pixmap'
bm_padding_lengths(x, value = col2hex("transparent"))

## S3 method for class ''magick-image''
bm_padding_lengths(x, value = "transparent")

## S3 method for class 'nativeRaster'
bm_padding_lengths(x, value = col2int("transparent"))

## S3 method for class 'raster'
bm_padding_lengths(x, value = "transparent")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bm_padding_lengths_+3A_x">x</code></td>
<td>
<p>Either a <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code>, <code><a href="#topic+bm_font">bm_font()</a></code>, <code><a href="#topic+bm_list">bm_list()</a></code>, <a href="magick.html#topic+editing">&quot;magick-image&quot;</a>, &quot;nativeRaster&quot;, <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code>, or <a href="grDevices.html#topic+as.raster">&quot;raster&quot;</a>  object.</p>
</td></tr>
<tr><td><code id="bm_padding_lengths_+3A_value">value</code></td>
<td>
<p>The value of the &ldquo;padding&rdquo; element to compute lengths for.</p>
</td></tr>
<tr><td><code id="bm_padding_lengths_+3A_...">...</code></td>
<td>
<p>Additional arguments to be passed to or from methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>x</code> is a <code>bm_bitmap()</code> object then a integer vector of length four
representing the padding lengths for the top, right, bottom, and left sides respectively.
If <code>x</code> is a <code>bm_list()</code> or <code>bm_font()</code> then a list of integer vectors of length four.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>font_file &lt;- system.file("fonts/spleen/spleen-8x16.hex.gz", package = "bittermelon")
font &lt;- read_hex(font_file)
# add a border to an "R"
capital_r &lt;- font[[str2ucp("R")]]
print(capital_r)
print(bm_padding_lengths(capital_r))
corn &lt;- farming_crops_16x16()$corn$portrait
if (cli::is_utf8_output() &amp;&amp; cli::num_ansi_colors() &gt;= 256L) {
  print(corn, bg = "cyan", compress = "v")
}
print(bm_padding_lengths(corn))
</code></pre>

<hr>
<h2 id='bm_pixmap'>Bittermelon pixmap matrix object</h2><span id='topic+bm_pixmap'></span>

<h3>Description</h3>

<p><code>bm_pixmap()</code> creates an S3 matrix subclass representing a pixmap.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bm_pixmap(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bm_pixmap_+3A_x">x</code></td>
<td>
<p>Object to be converted to <code>bm_pixmap()</code>.
If not already a color string matrix it will be cast to one by <code><a href="#topic+as_bm_pixmap">as_bm_pixmap()</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>


<ul>
<li><p> Intended to represent raster graphic pixmaps especially (but not limited to) pixel art/sprites.
</p>
</li>
<li><p> Pixmaps are represented as color string matrices with special class methods.
</p>
</li>
<li><p> The bottom left pixel is represented by the first row and first column.
</p>
</li>
<li><p> The bottom right pixel is represented by the first row and last column.
</p>
</li>
<li><p> The top left pixel is represented by the last row and first column.
</p>
</li>
<li><p> The top right pixel is represented by the last row and last column.
</p>
</li>
<li><p> Colors are converted to the <code>"#RRGGBBAA"</code> color string format.
</p>
</li>
<li><p> Fully transparent values like <code>"transparent"</code>, <code>NA</code>, <code>"#00000000"</code> are
all standardized to <code>"#FFFFFF00"</code>.
</p>
</li>
<li><p> See <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code> for an alternative S3 object backed by a integer matrix.
</p>
</li></ul>



<h3>Value</h3>

<p>A character matrix of color strings with a &ldquo;bm_pixmap&rdquo; subclass.
</p>


<h3>Supported S3 methods</h3>


<ul>
<li> <p><code><a href="#topic++5B.bm_bitmap">[.bm_bitmap</a></code> and <code><a href="#topic++5B+3C-.bm_bitmap">[&lt;-.bm_bitmap</a></code>
</p>
</li>
<li> <p><code><a href="#topic+as.matrix.bm_pixmap">as.matrix.bm_pixmap()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+as.raster.bm_bitmap">as.raster.bm_bitmap()</a></code> and <code><a href="#topic+plot.bm_bitmap">plot.bm_bitmap()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+format.bm_pixmap">format.bm_pixmap()</a></code> and <code><a href="#topic+print.bm_pixmap">print.bm_pixmap()</a></code>
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+as_bm_pixmap">as_bm_pixmap()</a></code>, <code><a href="#topic+is_bm_pixmap">is_bm_pixmap()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Bottom left pixel is **first** row and first column
pm &lt;- bm_pixmap(matrix(c("red", "blue", "green", "black"),
                nrow = 2L, byrow = TRUE))
plot(pm)
</code></pre>

<hr>
<h2 id='bm_print'>Print bitmap objects</h2><span id='topic+bm_print'></span><span id='topic+bm_format'></span>

<h3>Description</h3>

<p><code>bm_print()</code> prints a representation of the bitmap object to the terminal while
<code>bm_format()</code> returns just the character vector without printing it.
They are wrappers around <code><a href="#topic+as_bm_bitmap">as_bm_bitmap()</a></code> / <code><a href="#topic+as_bm_pixmap">as_bm_pixmap()</a></code> and
<code><a href="#topic+format.bm_bitmap">format.bm_bitmap()</a></code> / <code><a href="#topic+format.bm_pixmap">format.bm_pixmap()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bm_print(x, ...)

bm_format(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bm_print_+3A_x">x</code></td>
<td>
<p>A bitmap object that can be cast by <code><a href="#topic+as_bm_pixmap">as_bm_pixmap()</a></code> to a <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code> object.</p>
</td></tr>
<tr><td><code id="bm_print_+3A_...">...</code></td>
<td>
<p>Passed to <code><a href="#topic+format.bm_pixmap">format.bm_pixmap()</a></code> or <code><a href="#topic+format.bm_bitmap">format.bm_bitmap()</a></code> depending on the class of <code>x</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of the string representation (<code>bm_print()</code> returns this invisibly).
As a side effect <code>bm_print()</code> prints out the string representation to the terminal.
</p>


<h3>Fonts and terminal settings</h3>

<p>Printing bitmaps/pixmaps may or may not look great
in your terminal depending on a variety of factors:
</p>

<ul>
<li><p> The terminal should support the Unicode - UTF-8 encoding.
We use <code><a href="cli.html#topic+is_utf8_output">cli::is_utf8_output()</a></code> to guess Unicode support
which in turn looks at <code>getOption("cli.unicode")</code> and <code><a href="base.html#topic+l10n_info">l10n_info()</a></code>.
</p>
</li>
<li><p> The terminal should support ANSI sequences and if it does
it should support many colors.
</p>

<ul>
<li><p> We use <code><a href="cli.html#topic+num_ansi_colors">cli::num_ansi_colors()</a></code> to detect number of colors supported.
<code>num_ansi_colors()</code> detection algorithm is complicated but it first looks at
<code>getOption("cli.num_colors")</code>.
</p>
</li></ul>


<ul>
<li><p> If <code>cli::num_ansi_colors()</code> equals 16777216 then your terminal
supports 24-bit ANSI colors.
</p>
</li></ul>


<ul>
<li><p> If using the Windows Command Prompt window you may need to enable
ANSI sequences support by doing <code style="white-space: pre;">&#8288;REG ADD HKCU\CONSOLE /f /v VirtualTerminalLevel /t REG_DWORD /d 1&#8288;</code>
from the command-line or running <code>regedit</code> (Registry Editor) and go to
<code style="white-space: pre;">&#8288;Computer\HKEY_CURRENT_USER\Console&#8288;</code> and set <code>VirtualTerminalLevel</code> to <code>1</code>.
</p>
</li></ul>

</li>
<li><p> The font used by the terminal should be a monoscale font that supports the
<a href="https://en.wikipedia.org/wiki/Block_Elements">Block Elements</a> Unicode block.
</p>
</li>
<li><p> The terminal text settings should have a cell spacing around 1.00 times width and 1.00 times height.
For terminals configured by CSS styles this means a <code>line-height</code> of around <code>1.0</code>.
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="base.html#topic+.S3method">.S3method()</a></code> to register this as the print method for a non-bittermelon bitmap class.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>font_file &lt;- system.file("fonts/spleen/spleen-8x16.hex.gz", package = "bittermelon")
font &lt;- read_hex(font_file)
capital_r &lt;- as_bm_bitmap("R", font = font)
bm_print(capital_r)

corn_r &lt;- as.raster(farming_crops_16x16()$corn$portrait)
if (cli::is_utf8_output() &amp;&amp; cli::num_ansi_colors() &gt;= 256L) {
  bm_print(corn_r, compress = "v") 
}

if (requireNamespace("magick", quietly = TRUE) &amp;&amp;
    cli::is_utf8_output() &amp;&amp; 
    cli::num_ansi_colors() &gt; 256L) {
  rose_mi &lt;- magick::image_read("rose:")
  bm_print(rose_mi, compress = "v") 
}

## Not run: # Change other bitmap classes' `print()` to use `bm_print()` instead
  options(bittermelon.compress = "vertical",
          bittermelon.downscale = requireNamespace("magick", quietly = TRUE))
  for (cl in c("glyph_bitmap", "magick-image", "nativeRaster", "pixeltrix",
               "pixmapGrey", "pixmapIndexed", "pixmapRGB", "raster")) {
    .S3method("print", cl, bittermelon::bm_print)
  }

## End(Not run)
</code></pre>

<hr>
<h2 id='bm_replace'>Replace a color in a bitmap with another color</h2><span id='topic+bm_replace'></span><span id='topic+bm_replace.bm_bitmap'></span><span id='topic+bm_replace.bm_list'></span><span id='topic+bm_replace.bm_pixmap'></span><span id='topic+bm_replace.magick-image'></span><span id='topic+bm_replace.nativeRaster'></span><span id='topic+bm_replace.raster'></span>

<h3>Description</h3>

<p><code>bm_replace()</code> replaces a bitmap color with another color.
In particular default arguments will try to replace the background color.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bm_replace(x, value, old)

## S3 method for class 'bm_bitmap'
bm_replace(x, value = 0L, old = x[1L, 1L])

## S3 method for class 'bm_list'
bm_replace(x, ...)

## S3 method for class 'bm_pixmap'
bm_replace(x, value = col2hex("transparent"), old = x[1L, 1L])

## S3 method for class ''magick-image''
bm_replace(x, value = "transparent", old = as.raster(x)[1L, 1L])

## S3 method for class 'nativeRaster'
bm_replace(x, value = col2int("transparent"), old = x[1L, 1L])

## S3 method for class 'raster'
bm_replace(x, value = "transparent", old = x[1L, 1L])
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bm_replace_+3A_x">x</code></td>
<td>
<p>Either a <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code>, <code><a href="#topic+bm_font">bm_font()</a></code>, <code><a href="#topic+bm_list">bm_list()</a></code>, <a href="magick.html#topic+editing">&quot;magick-image&quot;</a>, &quot;nativeRaster&quot;, <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code>, or <a href="grDevices.html#topic+as.raster">&quot;raster&quot;</a>  object.</p>
</td></tr>
<tr><td><code id="bm_replace_+3A_value">value</code></td>
<td>
<p>New bitmap &ldquo;color&rdquo; value.</p>
</td></tr>
<tr><td><code id="bm_replace_+3A_old">old</code></td>
<td>
<p>Old bitmap &ldquo;color&rdquo; value to replace.</p>
</td></tr>
<tr><td><code id="bm_replace_+3A_...">...</code></td>
<td>
<p>Additional arguments to be passed to or from methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Depending on <code>x</code> either a <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code>, <code><a href="#topic+bm_font">bm_font()</a></code>, <code><a href="#topic+bm_list">bm_list()</a></code>, <a href="magick.html#topic+editing">magick-image</a>, &quot;nativeRaster&quot;, <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code>, or <a href="grDevices.html#topic+as.raster">raster</a>  object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>corn &lt;- farming_crops_16x16()$corn$portrait
if (cli::is_utf8_output() &amp;&amp; cli::num_ansi_colors() &gt;= 256L) {
  print(bm_replace(corn, "cyan"), compress = "v")
}
font_file &lt;- system.file("fonts/spleen/spleen-8x16.hex.gz", package = "bittermelon")
font &lt;- read_hex(font_file)
capital_r &lt;- font[[str2ucp("R")]]
print(bm_replace(capital_r, 2L))
</code></pre>

<hr>
<h2 id='bm_resize'>Resize bitmaps by trimming and/or extending</h2><span id='topic+bm_resize'></span><span id='topic+bm_resize.bm_bitmap'></span><span id='topic+bm_resize.bm_list'></span><span id='topic+bm_resize.bm_pixmap'></span><span id='topic+bm_resize.magick-image'></span><span id='topic+bm_resize.nativeRaster'></span><span id='topic+bm_resize.raster'></span>

<h3>Description</h3>

<p>Trim and/or extend bitmaps to a desired height and/or width.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bm_resize(
  x,
  value,
  width = NULL,
  height = NULL,
  hjust = "center-left",
  vjust = "center-top"
)

## S3 method for class 'bm_bitmap'
bm_resize(
  x,
  value = 0L,
  width = NULL,
  height = NULL,
  hjust = "center-left",
  vjust = "center-top"
)

## S3 method for class 'bm_list'
bm_resize(x, ...)

## S3 method for class 'bm_pixmap'
bm_resize(
  x,
  value = col2hex("transparent"),
  width = NULL,
  height = NULL,
  hjust = "center-left",
  vjust = "center-top"
)

## S3 method for class ''magick-image''
bm_resize(
  x,
  value = "transparent",
  width = NULL,
  height = NULL,
  hjust = "center-left",
  vjust = "center-top"
)

## S3 method for class 'nativeRaster'
bm_resize(
  x,
  value = col2int("transparent"),
  width = NULL,
  height = NULL,
  hjust = "center-left",
  vjust = "center-top"
)

## S3 method for class 'raster'
bm_resize(
  x,
  value = "transparent",
  width = NULL,
  height = NULL,
  hjust = "center-left",
  vjust = "center-top"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bm_resize_+3A_x">x</code></td>
<td>
<p>Either a <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code>, <code><a href="#topic+bm_font">bm_font()</a></code>, <code><a href="#topic+bm_list">bm_list()</a></code>, <a href="magick.html#topic+editing">&quot;magick-image&quot;</a>, &quot;nativeRaster&quot;, <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code>, or <a href="grDevices.html#topic+as.raster">&quot;raster&quot;</a>  object.</p>
</td></tr>
<tr><td><code id="bm_resize_+3A_value">value</code></td>
<td>
<p>Value for the new pixels.</p>
</td></tr>
<tr><td><code id="bm_resize_+3A_width">width</code></td>
<td>
<p>How many pixels wide should the new bitmap be.
Use with the <code>hjust</code> argument or just one of either the <code>left</code> or <code>right</code> arguments.</p>
</td></tr>
<tr><td><code id="bm_resize_+3A_height">height</code></td>
<td>
<p>How many pixels tall should the new bitmap be.
Use with the <code>vjust</code> argument or just one of either the <code>top</code> or <code>bottom</code> arguments.</p>
</td></tr>
<tr><td><code id="bm_resize_+3A_hjust">hjust</code></td>
<td>
<p>One of &quot;left&quot;, &quot;center-left&quot;, &quot;center-right&quot;, &quot;right&quot;.
&quot;center-left&quot; and &quot;center-right&quot; will attempt to
place in &quot;center&quot; if possible but if not possible will bias
it one pixel left or right respectively.
&quot;centre&quot;, &quot;center&quot;, and &quot;centre-left&quot; are aliases for &quot;center-left&quot;.
&quot;centre-right&quot; is an alias for &quot;center-right&quot;.</p>
</td></tr>
<tr><td><code id="bm_resize_+3A_vjust">vjust</code></td>
<td>
<p>One of &quot;bottom&quot;, &quot;center-bottom&quot;, &quot;center-top&quot;, &quot;top&quot;.
&quot;center-bottom&quot; and &quot;center-top&quot; will attempt to
place in &quot;center&quot; if possible but if not possible will bias
it one pixel down or up respectively.
&quot;centre&quot;, &quot;center&quot;, and &quot;centre-top&quot; are aliases for &quot;center-top&quot;.
&quot;centre-bottom&quot; is an alias for &quot;center-bottom&quot;.</p>
</td></tr>
<tr><td><code id="bm_resize_+3A_...">...</code></td>
<td>
<p>Additional arguments to be passed to or from methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is a convenience wrapper around <code><a href="#topic+bm_trim">bm_trim()</a></code> and <code><a href="#topic+bm_extend">bm_extend()</a></code>.
</p>


<h3>Value</h3>

<p>Depending on <code>x</code> either a <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code>, <code><a href="#topic+bm_font">bm_font()</a></code>, <code><a href="#topic+bm_list">bm_list()</a></code>, <a href="magick.html#topic+editing">magick-image</a>, &quot;nativeRaster&quot;, <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code>, or <a href="grDevices.html#topic+as.raster">raster</a>  object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bm_extend">bm_extend()</a></code>, <code><a href="#topic+bm_pad">bm_pad()</a></code>, and <code><a href="#topic+bm_trim">bm_trim()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>font_file &lt;- system.file("fonts/spleen/spleen-8x16.hex.gz", package = "bittermelon")
font &lt;- read_hex(font_file)
# add a border to an "R"
capital_r &lt;- font[[str2ucp("R")]]
print(capital_r)
capital_r &lt;- bm_resize(capital_r, width = 12L, height = 12L, vjust = "top")
print(capital_r)
corn &lt;- farming_crops_16x16()$corn$portrait
corn_rs &lt;- bm_resize(corn, width = 20L, height = 20L, vjust = "top")
if (cli::is_utf8_output() &amp;&amp; cli::num_ansi_colors() &gt;= 256L) {
  print(corn_rs, bg = "cyan", compress = "v")
}
</code></pre>

<hr>
<h2 id='bm_rotate'>Rotate bitmaps 0, 90, 180, or 270 degrees</h2><span id='topic+bm_rotate'></span><span id='topic+bm_rotate.bm_matrix'></span><span id='topic+bm_rotate.nativeRaster'></span><span id='topic+bm_rotate.magick-image'></span><span id='topic+bm_rotate.raster'></span><span id='topic+bm_rotate.bm_list'></span>

<h3>Description</h3>

<p><code>bm_rotate()</code> losslessly rotates bitmaps by 0, 90, 180, or 270 degrees.
If <code>90</code> or <code>270</code> degrees are indicated the width and height of the bitmap will be flipped.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bm_rotate(x, angle = 0L, clockwise = TRUE)

## S3 method for class 'bm_matrix'
bm_rotate(x, angle = 0L, clockwise = TRUE)

## S3 method for class 'nativeRaster'
bm_rotate(x, angle = 0L, clockwise = TRUE)

## S3 method for class ''magick-image''
bm_rotate(x, angle = 0L, clockwise = TRUE)

## S3 method for class 'raster'
bm_rotate(x, angle = 0L, clockwise = TRUE)

## S3 method for class 'bm_list'
bm_rotate(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bm_rotate_+3A_x">x</code></td>
<td>
<p>Either a <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code>, <code><a href="#topic+bm_font">bm_font()</a></code>, <code><a href="#topic+bm_list">bm_list()</a></code>, <a href="magick.html#topic+editing">&quot;magick-image&quot;</a>, &quot;nativeRaster&quot;, <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code>, or <a href="grDevices.html#topic+as.raster">&quot;raster&quot;</a>  object.</p>
</td></tr>
<tr><td><code id="bm_rotate_+3A_angle">angle</code></td>
<td>
<p>Angle to rotate bitmap by.</p>
</td></tr>
<tr><td><code id="bm_rotate_+3A_clockwise">clockwise</code></td>
<td>
<p>If <code>TRUE</code> rotate bitmaps clockwise.
Note Unicode's convention is to rotate glyphs clockwise
i.e. the top of the &quot;BLACK CHESS PAWN ROTATED NINETY DEGREES&quot; glyph points right.</p>
</td></tr>
<tr><td><code id="bm_rotate_+3A_...">...</code></td>
<td>
<p>Additional arguments to be passed to or from methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Depending on <code>x</code> either a <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code>, <code><a href="#topic+bm_font">bm_font()</a></code>, <code><a href="#topic+bm_list">bm_list()</a></code>, <a href="magick.html#topic+editing">magick-image</a>, &quot;nativeRaster&quot;, <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code>, or <a href="grDevices.html#topic+as.raster">raster</a>  object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bm_distort">bm_distort()</a></code> can do other (distorted) rotations by careful
use of its <code>vp</code> <code><a href="grid.html#topic+viewport">grid::viewport()</a></code> argument.
<code><a href="#topic+bm_flip">bm_flip()</a></code> with <code>direction</code> &quot;both&quot; and <code>in_place</code> <code>TRUE</code> can
rotate glyphs 180 degrees in place.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># as_bm_list.character()
font_file &lt;- system.file("fonts/spleen/spleen-8x16.hex.gz", package = "bittermelon")
font &lt;- read_hex(font_file)
capital_r &lt;- font[[str2ucp("R")]]
print(bm_rotate(capital_r, 90))
print(bm_rotate(capital_r, 180))
print(bm_rotate(capital_r, 270))
print(bm_rotate(capital_r, 90, clockwise = FALSE))

corn &lt;- farming_crops_16x16()$corn$portrait
corn_180 &lt;- bm_rotate(corn, 180)
if (cli::is_utf8_output() &amp;&amp; cli::num_ansi_colors() &gt;= 256L) {
  print(corn_180, compress = "v")
}
</code></pre>

<hr>
<h2 id='bm_shadow'>Bitmap shadow, bold, and glow effects</h2><span id='topic+bm_shadow'></span><span id='topic+bm_shadow.bm_bitmap'></span><span id='topic+bm_shadow.bm_list'></span><span id='topic+bm_shadow.bm_pixmap'></span><span id='topic+bm_shadow.magick-image'></span><span id='topic+bm_shadow.nativeRaster'></span><span id='topic+bm_shadow.raster'></span><span id='topic+bm_bold'></span><span id='topic+bm_bold.bm_bitmap'></span><span id='topic+bm_bold.bm_list'></span><span id='topic+bm_bold.bm_pixmap'></span><span id='topic+bm_bold.magick-image'></span><span id='topic+bm_bold.nativeRaster'></span><span id='topic+bm_bold.raster'></span><span id='topic+bm_glow'></span><span id='topic+bm_glow.bm_bitmap'></span><span id='topic+bm_glow.bm_list'></span><span id='topic+bm_glow.bm_pixmap'></span><span id='topic+bm_glow.magick-image'></span><span id='topic+bm_glow.nativeRaster'></span><span id='topic+bm_glow.raster'></span>

<h3>Description</h3>

<p><code>bm_shadow()</code> adds a basic &quot;shadow&quot; effect to the bitmap(s).
<code>bm_bold()</code> is a variant with different defaults to create a basic &quot;bold&quot; effect.
<code>bm_glow()</code> adds a basic &quot;glow&quot; effect to the bitmap(s).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bm_shadow(
  x,
  value,
  top = NULL,
  right = NULL,
  bottom = NULL,
  left = NULL,
  extend = TRUE,
  bg
)

## S3 method for class 'bm_bitmap'
bm_shadow(
  x,
  value = 2L,
  top = NULL,
  right = NULL,
  bottom = NULL,
  left = NULL,
  extend = TRUE,
  bg = 0L
)

## S3 method for class 'bm_list'
bm_shadow(x, ...)

## S3 method for class 'bm_pixmap'
bm_shadow(
  x,
  value = col2hex("black"),
  top = NULL,
  right = NULL,
  bottom = NULL,
  left = NULL,
  extend = TRUE,
  bg = col2hex("transparent")
)

## S3 method for class ''magick-image''
bm_shadow(
  x,
  value = "black",
  top = NULL,
  right = NULL,
  bottom = NULL,
  left = NULL,
  extend = TRUE,
  bg = "transparent"
)

## S3 method for class 'nativeRaster'
bm_shadow(
  x,
  value = col2int("black"),
  top = NULL,
  right = NULL,
  bottom = NULL,
  left = NULL,
  extend = TRUE,
  bg = "transparent"
)

## S3 method for class 'raster'
bm_shadow(
  x,
  value = "black",
  top = NULL,
  right = NULL,
  bottom = NULL,
  left = NULL,
  extend = TRUE,
  bg = "transparent"
)

bm_bold(
  x,
  value = 1L,
  top = NULL,
  right = NULL,
  bottom = NULL,
  left = NULL,
  extend = TRUE
)

## S3 method for class 'bm_bitmap'
bm_bold(
  x,
  value = 1L,
  top = NULL,
  right = NULL,
  bottom = NULL,
  left = NULL,
  extend = TRUE
)

## S3 method for class 'bm_list'
bm_bold(x, ...)

## S3 method for class 'bm_pixmap'
bm_bold(
  x,
  value = col2hex("black"),
  top = NULL,
  right = NULL,
  bottom = NULL,
  left = NULL,
  extend = TRUE
)

## S3 method for class ''magick-image''
bm_bold(
  x,
  value = "black",
  top = NULL,
  right = NULL,
  bottom = NULL,
  left = NULL,
  extend = TRUE
)

## S3 method for class 'nativeRaster'
bm_bold(
  x,
  value = col2int("black"),
  top = NULL,
  right = NULL,
  bottom = NULL,
  left = NULL,
  extend = TRUE
)

## S3 method for class 'raster'
bm_bold(
  x,
  value = "black",
  top = NULL,
  right = NULL,
  bottom = NULL,
  left = NULL,
  extend = TRUE
)

bm_glow(x, value, extend = TRUE, corner = FALSE, bg)

## S3 method for class 'bm_bitmap'
bm_glow(x, value = 2L, extend = TRUE, corner = FALSE, bg = 0L)

## S3 method for class 'bm_list'
bm_glow(x, ...)

## S3 method for class 'bm_pixmap'
bm_glow(
  x,
  value = col2hex("black"),
  extend = TRUE,
  corner = FALSE,
  bg = col2hex("transparent")
)

## S3 method for class ''magick-image''
bm_glow(x, value = "black", extend = TRUE, corner = FALSE, bg = "transparent")

## S3 method for class 'nativeRaster'
bm_glow(x, value = "black", extend = TRUE, corner = FALSE, bg = "transparent")

## S3 method for class 'raster'
bm_glow(x, value = "black", extend = TRUE, corner = FALSE, bg = "transparent")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bm_shadow_+3A_x">x</code></td>
<td>
<p>Either a <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code>, <code><a href="#topic+bm_font">bm_font()</a></code>, <code><a href="#topic+bm_list">bm_list()</a></code>, <a href="magick.html#topic+editing">&quot;magick-image&quot;</a>, &quot;nativeRaster&quot;, <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code>, or <a href="grDevices.html#topic+as.raster">&quot;raster&quot;</a>  object.</p>
</td></tr>
<tr><td><code id="bm_shadow_+3A_value">value</code></td>
<td>
<p>The integer value for the shadow, bold, or glow effect.</p>
</td></tr>
<tr><td><code id="bm_shadow_+3A_top">top</code></td>
<td>
<p>How many pixels above should the shadow go.</p>
</td></tr>
<tr><td><code id="bm_shadow_+3A_right">right</code></td>
<td>
<p>How many pixels right should the shadow go.
if <code>top</code>, <code>right</code>, <code>bottom</code>, and <code>left</code> are all <code>NULL</code> then defaults to <code>1L</code>.</p>
</td></tr>
<tr><td><code id="bm_shadow_+3A_bottom">bottom</code></td>
<td>
<p>How many pixels below should the shadow go.
if <code>top</code>, <code>right</code>, <code>bottom</code>, and <code>left</code> are all <code>NULL</code>
then defaults to <code>1L</code> for <code>bm_shadow()</code> and <code>0L</code> for <code>bm_embolden()</code>.</p>
</td></tr>
<tr><td><code id="bm_shadow_+3A_left">left</code></td>
<td>
<p>How many pixels left should the shadow go.</p>
</td></tr>
<tr><td><code id="bm_shadow_+3A_extend">extend</code></td>
<td>
<p>Make the bitmap larger to give the new glyph more &quot;room&quot;.</p>
</td></tr>
<tr><td><code id="bm_shadow_+3A_bg">bg</code></td>
<td>
<p>Bitmap background value.</p>
</td></tr>
<tr><td><code id="bm_shadow_+3A_...">...</code></td>
<td>
<p>Additional arguments to be passed to or from methods.</p>
</td></tr>
<tr><td><code id="bm_shadow_+3A_corner">corner</code></td>
<td>
<p>Fill in the corners.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Depending on <code>x</code> either a <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code>, <code><a href="#topic+bm_font">bm_font()</a></code>, <code><a href="#topic+bm_list">bm_list()</a></code>, <a href="magick.html#topic+editing">magick-image</a>, &quot;nativeRaster&quot;, <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code>, or <a href="grDevices.html#topic+as.raster">raster</a>  object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bm_extend">bm_extend()</a></code> and <code><a href="#topic+bm_shift">bm_shift()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>font_file &lt;- system.file("fonts/spleen/spleen-8x16.hex.gz", package = "bittermelon")
font &lt;- read_hex(font_file)
capital_r &lt;- font[[str2ucp("R")]]
print(capital_r)
print(bm_shadow(capital_r))
print(bm_bold(capital_r))
print(bm_glow(capital_r))
print(bm_glow(capital_r, corner = TRUE))

corn &lt;- farming_crops_16x16()$corn$portrait
corn_shadow &lt;- bm_shadow(corn, "red")
if (cli::is_utf8_output() &amp;&amp; cli::num_ansi_colors() &gt;= 256L) {
  print(corn_shadow, compress = "v")
}

corn_glow &lt;- bm_glow(corn, "cyan", corner = TRUE)
if (cli::is_utf8_output() &amp;&amp; cli::num_ansi_colors() &gt;= 256L) {
  print(corn_glow, compress = "v")
}
</code></pre>

<hr>
<h2 id='bm_shift'>Shift elements within bitmaps</h2><span id='topic+bm_shift'></span><span id='topic+bm_shift.bm_bitmap'></span><span id='topic+bm_shift.bm_list'></span><span id='topic+bm_shift.bm_pixmap'></span><span id='topic+bm_shift.magick-image'></span><span id='topic+bm_shift.nativeRaster'></span><span id='topic+bm_shift.raster'></span>

<h3>Description</h3>

<p>Shifts non-padding elements within bitmaps by trimming on a specified side and padding on the other
while preserving the width and height of the original bitmap.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bm_shift(x, value, top = NULL, right = NULL, bottom = NULL, left = NULL)

## S3 method for class 'bm_bitmap'
bm_shift(x, value = 0L, top = NULL, right = NULL, bottom = NULL, left = NULL)

## S3 method for class 'bm_list'
bm_shift(x, ...)

## S3 method for class 'bm_pixmap'
bm_shift(
  x,
  value = col2hex("transparent"),
  top = NULL,
  right = NULL,
  bottom = NULL,
  left = NULL
)

## S3 method for class ''magick-image''
bm_shift(
  x,
  value = "transparent",
  top = NULL,
  right = NULL,
  bottom = NULL,
  left = NULL
)

## S3 method for class 'nativeRaster'
bm_shift(
  x,
  value = col2int("transparent"),
  top = NULL,
  right = NULL,
  bottom = NULL,
  left = NULL
)

## S3 method for class 'raster'
bm_shift(
  x,
  value = "transparent",
  top = NULL,
  right = NULL,
  bottom = NULL,
  left = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bm_shift_+3A_x">x</code></td>
<td>
<p>Either a <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code>, <code><a href="#topic+bm_font">bm_font()</a></code>, <code><a href="#topic+bm_list">bm_list()</a></code>, <a href="magick.html#topic+editing">&quot;magick-image&quot;</a>, &quot;nativeRaster&quot;, <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code>, or <a href="grDevices.html#topic+as.raster">&quot;raster&quot;</a>  object.</p>
</td></tr>
<tr><td><code id="bm_shift_+3A_value">value</code></td>
<td>
<p>Value for the new pixels.</p>
</td></tr>
<tr><td><code id="bm_shift_+3A_top">top</code></td>
<td>
<p>Number of pixels to shift towards the top side.</p>
</td></tr>
<tr><td><code id="bm_shift_+3A_right">right</code></td>
<td>
<p>Number of pixels to shift towards the right side.</p>
</td></tr>
<tr><td><code id="bm_shift_+3A_bottom">bottom</code></td>
<td>
<p>Number of pixels to shift towards the bottom side.</p>
</td></tr>
<tr><td><code id="bm_shift_+3A_left">left</code></td>
<td>
<p>Number of pixels to shift towards the left side.</p>
</td></tr>
<tr><td><code id="bm_shift_+3A_...">...</code></td>
<td>
<p>Additional arguments to be passed to or from methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is a convenience wrapper around <code><a href="#topic+bm_trim">bm_trim()</a></code> and <code><a href="#topic+bm_extend">bm_extend()</a></code>.
</p>


<h3>Value</h3>

<p>Depending on <code>x</code> either a <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code>, <code><a href="#topic+bm_font">bm_font()</a></code>, <code><a href="#topic+bm_list">bm_list()</a></code>, <a href="magick.html#topic+editing">magick-image</a>, &quot;nativeRaster&quot;, <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code>, or <a href="grDevices.html#topic+as.raster">raster</a>  object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bm_trim">bm_trim()</a></code> and <code><a href="#topic+bm_extend">bm_extend()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>font_file &lt;- system.file("fonts/spleen/spleen-8x16.hex.gz", package = "bittermelon")
font &lt;- read_hex(font_file)
capital_r &lt;- font[[str2ucp("R")]]
print(capital_r)
capital_r &lt;- bm_shift(capital_r, bottom = 2L, right = 1L)
print(capital_r)
corn &lt;- farming_crops_16x16()$corn$portrait
print(bm_padding_lengths(corn))
corn_shifted &lt;- bm_shift(corn, left = 1L, top = 2L)
if (cli::is_utf8_output() &amp;&amp; cli::num_ansi_colors() &gt;= 256L) {
  print(corn_shifted, bg = "cyan", compress = "v")
}
</code></pre>

<hr>
<h2 id='bm_trim'>Trim bitmaps</h2><span id='topic+bm_trim'></span><span id='topic+bm_trim.bm_matrix'></span><span id='topic+bm_trim.bm_list'></span><span id='topic+bm_trim.magick-image'></span><span id='topic+bm_trim.nativeRaster'></span><span id='topic+bm_trim.raster'></span>

<h3>Description</h3>

<p><code>bm_trim()</code> trims bitmap objects reducing the number of pixels.
The directions and amount of removed pixels are settable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bm_trim(
  x,
  sides = NULL,
  top = NULL,
  right = NULL,
  bottom = NULL,
  left = NULL,
  width = NULL,
  height = NULL,
  hjust = "center-left",
  vjust = "center-top"
)

## S3 method for class 'bm_matrix'
bm_trim(
  x,
  sides = NULL,
  top = NULL,
  right = NULL,
  bottom = NULL,
  left = NULL,
  width = NULL,
  height = NULL,
  hjust = "center-left",
  vjust = "center-top"
)

## S3 method for class 'bm_list'
bm_trim(x, ...)

## S3 method for class ''magick-image''
bm_trim(
  x,
  sides = NULL,
  top = NULL,
  right = NULL,
  bottom = NULL,
  left = NULL,
  width = NULL,
  height = NULL,
  hjust = "center-left",
  vjust = "center-top"
)

## S3 method for class 'nativeRaster'
bm_trim(
  x,
  sides = NULL,
  top = NULL,
  right = NULL,
  bottom = NULL,
  left = NULL,
  width = NULL,
  height = NULL,
  hjust = "center-left",
  vjust = "center-top"
)

## S3 method for class 'raster'
bm_trim(
  x,
  sides = NULL,
  top = NULL,
  right = NULL,
  bottom = NULL,
  left = NULL,
  width = NULL,
  height = NULL,
  hjust = "center-left",
  vjust = "center-top"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bm_trim_+3A_x">x</code></td>
<td>
<p>Either a <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code>, <code><a href="#topic+bm_font">bm_font()</a></code>, <code><a href="#topic+bm_list">bm_list()</a></code>, <a href="magick.html#topic+editing">&quot;magick-image&quot;</a>, &quot;nativeRaster&quot;, <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code>, or <a href="grDevices.html#topic+as.raster">&quot;raster&quot;</a>  object.</p>
</td></tr>
<tr><td><code id="bm_trim_+3A_sides">sides</code></td>
<td>
<p>If not <code>NULL</code> then an integer vector indicating how
many pixels to trim on all four sides.
If the integer vector is of length one it indicates the number of pixels for all four sides.
If of length two gives first the number for the vertical sides and then the horizontal sides.
If of length three gives the number of pixels for top, the horizontal sides, and then bottom sides.
If of length four gives the number of pixels for top, right, bottom, and then left sides.
This is the same scheme as used by the CSS padding and margin properties.</p>
</td></tr>
<tr><td><code id="bm_trim_+3A_top">top</code></td>
<td>
<p>How many pixels to trim the top.</p>
</td></tr>
<tr><td><code id="bm_trim_+3A_right">right</code></td>
<td>
<p>How many pixels to trim the right.</p>
</td></tr>
<tr><td><code id="bm_trim_+3A_bottom">bottom</code></td>
<td>
<p>How many pixels to trim the bottom.</p>
</td></tr>
<tr><td><code id="bm_trim_+3A_left">left</code></td>
<td>
<p>How many pixels to trim the left.</p>
</td></tr>
<tr><td><code id="bm_trim_+3A_width">width</code></td>
<td>
<p>How many pixels wide should the new bitmap be.
Use with the <code>hjust</code> argument or just one of either the <code>left</code> or <code>right</code> arguments.</p>
</td></tr>
<tr><td><code id="bm_trim_+3A_height">height</code></td>
<td>
<p>How many pixels tall should the new bitmap be.
Use with the <code>vjust</code> argument or just one of either the <code>top</code> or <code>bottom</code> arguments.</p>
</td></tr>
<tr><td><code id="bm_trim_+3A_hjust">hjust</code></td>
<td>
<p>One of &quot;left&quot;, &quot;center-left&quot;, &quot;center-right&quot;, &quot;right&quot;.
&quot;center-left&quot; and &quot;center-right&quot; will attempt to
place in &quot;center&quot; if possible but if not possible will bias
it one pixel left or right respectively.
&quot;centre&quot;, &quot;center&quot;, and &quot;centre-left&quot; are aliases for &quot;center-left&quot;.
&quot;centre-right&quot; is an alias for &quot;center-right&quot;.
Note if &quot;left&quot; we will trim on the right (and vice-versa).</p>
</td></tr>
<tr><td><code id="bm_trim_+3A_vjust">vjust</code></td>
<td>
<p>One of &quot;bottom&quot;, &quot;center-bottom&quot;, &quot;center-top&quot;, &quot;top&quot;.
&quot;center-bottom&quot; and &quot;center-top&quot; will attempt to
place in &quot;center&quot; if possible but if not possible will bias
it one pixel down or up respectively.
&quot;centre&quot;, &quot;center&quot;, and &quot;centre-top&quot; are aliases for &quot;center-top&quot;.
&quot;centre-bottom&quot; is an alias for &quot;center-bottom&quot;.
Note if &quot;top&quot; we will trim on the bottom (and vice-versa).</p>
</td></tr>
<tr><td><code id="bm_trim_+3A_...">...</code></td>
<td>
<p>Additional arguments to be passed to or from methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Depending on <code>x</code> either a <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code>, <code><a href="#topic+bm_font">bm_font()</a></code>, <code><a href="#topic+bm_list">bm_list()</a></code>, <a href="magick.html#topic+editing">magick-image</a>, &quot;nativeRaster&quot;, <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code>, or <a href="grDevices.html#topic+as.raster">raster</a>  object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bm_extend">bm_extend()</a></code>, <code><a href="#topic+bm_pad">bm_pad()</a></code>, and <code><a href="#topic+bm_resize">bm_resize()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>font_file &lt;- system.file("fonts/spleen/spleen-8x16.hex.gz", package = "bittermelon")
font &lt;- read_hex(font_file)
capital_r &lt;- font[[str2ucp("R")]]
print(capital_r)
capital_r_trimmed &lt;- bm_trim(capital_r, c(1, 1, 3, 0))
print(capital_r_trimmed)
corn &lt;- farming_crops_16x16()$corn$portrait
print(bm_padding_lengths(corn))
corn_trimmed &lt;- bm_trim(corn, top = 1L, right = 1L, bottom = 1L)
if (cli::is_utf8_output() &amp;&amp; cli::num_ansi_colors() &gt;= 256L) {
  print(corn_trimmed, bg = "cyan", compress = "v")
}
</code></pre>

<hr>
<h2 id='c.bm_bitmap'>Combine bitmap objects</h2><span id='topic+c.bm_bitmap'></span><span id='topic+c.bm_font'></span><span id='topic+c.bm_list'></span><span id='topic+c.bm_pixmap'></span>

<h3>Description</h3>

<p><code>c()</code> combines bitmap objects into <code><a href="#topic+bm_list">bm_list()</a></code> or <code><a href="#topic+bm_font">bm_font()</a></code> objects.
In particular when using it to combine fonts the later fonts
&quot;update&quot; the glyphs in the earlier fonts.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'bm_bitmap'
c(...)

## S3 method for class 'bm_font'
c(...)

## S3 method for class 'bm_list'
c(...)

## S3 method for class 'bm_pixmap'
c(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="c.bm_bitmap_+3A_...">...</code></td>
<td>
<p><code><a href="#topic+bm_bitmap">bm_bitmap()</a></code>, <code><a href="#topic+bm_list">bm_list()</a></code>, and/or <code><a href="#topic+bm_font">bm_font()</a></code> objects to combine.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The various bitmap objects are &quot;reduced&quot; in the following ways:
</p>

<table>
<tr>
 <td style="text-align: left;">
First </td><td style="text-align: left;"> Second </td><td style="text-align: left;"> Result</td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+bm_bitmap">bm_bitmap()</a></code> </td><td style="text-align: left;"> <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code> </td><td style="text-align: left;"> <code><a href="#topic+bm_list">bm_list()</a></code></td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+bm_bitmap">bm_bitmap()</a></code> </td><td style="text-align: left;"> <code><a href="#topic+bm_font">bm_font()</a></code> </td><td style="text-align: left;"> <code><a href="#topic+bm_font">bm_font()</a></code></td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+bm_bitmap">bm_bitmap()</a></code> </td><td style="text-align: left;"> <code><a href="#topic+bm_list">bm_list()</a></code> </td><td style="text-align: left;"> <code><a href="#topic+bm_list">bm_list()</a></code></td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+bm_bitmap">bm_bitmap()</a></code> </td><td style="text-align: left;"> <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code> </td><td style="text-align: left;"> <code><a href="#topic+bm_list">bm_list()</a></code></td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+bm_pixmap">bm_pixmap()</a></code> </td><td style="text-align: left;"> <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code> </td><td style="text-align: left;"> <code><a href="#topic+bm_list">bm_list()</a></code></td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+bm_pixmap">bm_pixmap()</a></code> </td><td style="text-align: left;"> <code><a href="#topic+bm_font">bm_font()</a></code> </td><td style="text-align: left;"> <code>ERROR</code></td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+bm_pixmap">bm_pixmap()</a></code> </td><td style="text-align: left;"> <code><a href="#topic+bm_list">bm_list()</a></code> </td><td style="text-align: left;"> <code><a href="#topic+bm_list">bm_list()</a></code></td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+bm_pixmap">bm_pixmap()</a></code> </td><td style="text-align: left;"> <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code> </td><td style="text-align: left;"> <code><a href="#topic+bm_list">bm_list()</a></code></td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+bm_font">bm_font()</a></code> </td><td style="text-align: left;"> <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code> </td><td style="text-align: left;"> <code><a href="#topic+bm_font">bm_font()</a></code></td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+bm_font">bm_font()</a></code> </td><td style="text-align: left;"> <code><a href="#topic+bm_font">bm_font()</a></code> </td><td style="text-align: left;"> <code><a href="#topic+bm_font">bm_font()</a></code></td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+bm_font">bm_font()</a></code> </td><td style="text-align: left;"> <code><a href="#topic+bm_list">bm_list()</a></code> </td><td style="text-align: left;"> <code><a href="#topic+bm_font">bm_font()</a></code></td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+bm_font">bm_font()</a></code> </td><td style="text-align: left;"> <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code> </td><td style="text-align: left;"> <code>ERROR</code></td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+bm_list">bm_list()</a></code> </td><td style="text-align: left;"> <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code> </td><td style="text-align: left;"> <code><a href="#topic+bm_list">bm_list()</a></code></td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+bm_list">bm_list()</a></code> </td><td style="text-align: left;"> <code><a href="#topic+bm_font">bm_font()</a></code> </td><td style="text-align: left;"> <code><a href="#topic+bm_font">bm_font()</a></code></td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+bm_list">bm_list()</a></code> </td><td style="text-align: left;"> <code><a href="#topic+bm_list">bm_list()</a></code> </td><td style="text-align: left;"> <code><a href="#topic+bm_list">bm_list()</a></code></td>
</tr>
<tr>
 <td style="text-align: left;">
<code><a href="#topic+bm_list">bm_list()</a></code> </td><td style="text-align: left;"> <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code> </td><td style="text-align: left;"> <code><a href="#topic+bm_list">bm_list()</a></code></td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>When combining with a <code>bm_font()</code> object if any <code>bm_bitmap()</code> objects
share the same name we only keep the last one.
Although names are preserved other attributes such as font
comments and properties are not guaranteed to be preserved.
</p>


<h3>Value</h3>

<p>Either a <code><a href="#topic+bm_list">bm_list()</a></code> or <code><a href="#topic+bm_font">bm_font()</a></code> object.
See Details for more info.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>font_file &lt;- system.file("fonts/spleen/spleen-8x16.hex.gz", package = "bittermelon")
font &lt;- read_hex(font_file)
capital_r &lt;- font[[str2ucp("R")]]
stats &lt;- as_bm_list("STATS", font = font)
is_bm_list(c(capital_r, capital_r))
rstats &lt;- c(capital_r, stats)
print(bm_call(rstats, cbind))
</code></pre>

<hr>
<h2 id='cbind.bm_bitmap'>Combine bitmap/pixmap objects by rows or columns</h2><span id='topic+cbind.bm_bitmap'></span><span id='topic+rbind.bm_bitmap'></span><span id='topic+cbind.bm_pixmap'></span><span id='topic+rbind.bm_pixmap'></span>

<h3>Description</h3>

<p><code>cbind.bm_bitmap()</code> / <code>cbind.bm_pixmap()</code> and
<code>rbind.bm_bitmap()</code> / <code>rbind.bm_pixmap()</code>
combine by columns or rows respectively.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'bm_bitmap'
cbind(..., direction = "left-to-right", vjust = "center-top")

## S3 method for class 'bm_bitmap'
rbind(..., direction = "top-to-bottom", hjust = "center-left")

## S3 method for class 'bm_pixmap'
cbind(..., direction = "left-to-right", vjust = "center-top")

## S3 method for class 'bm_pixmap'
rbind(..., direction = "top-to-bottom", hjust = "center-left")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cbind.bm_bitmap_+3A_...">...</code></td>
<td>
<p><code><a href="#topic+bm_bitmap">bm_bitmap()</a></code> or <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code> objects.</p>
</td></tr>
<tr><td><code id="cbind.bm_bitmap_+3A_direction">direction</code></td>
<td>
<p>For <code>cbind()</code> either &quot;left-to-right&quot; (default) or its aliases &quot;ltr&quot; and &quot;lr&quot;
OR &quot;right-to-left&quot; or its aliases &quot;rtl&quot; and &quot;rl&quot;.
For <code>rbind()</code> either &quot;top-to-bottom&quot; (default) or its aliases &quot;ttb&quot; and &quot;tb&quot;
OR &quot;bottom-to-top&quot; or its aliases &quot;btt&quot; and &quot;bt&quot;.
The <code>direction</code> argument is not case-sensitive.</p>
</td></tr>
<tr><td><code id="cbind.bm_bitmap_+3A_vjust">vjust</code></td>
<td>
<p>Used by <code><a href="#topic+bm_extend">bm_extend()</a></code> if bitmap heights are different.</p>
</td></tr>
<tr><td><code id="cbind.bm_bitmap_+3A_hjust">hjust</code></td>
<td>
<p>Used by <code><a href="#topic+bm_extend">bm_extend()</a></code> if bitmap widths are different.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code> or <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  font_file &lt;- system.file("fonts/spleen/spleen-8x16.hex.gz", package = "bittermelon")
  font &lt;- read_hex(font_file)
  capital_b &lt;- font[[str2ucp("B")]]
  capital_m &lt;- font[[str2ucp("M")]]
  cbm &lt;- cbind(capital_b, capital_m)
  print(cbm)
  cbm_rl &lt;- cbind(capital_b, capital_m, direction = "right-to-left")
  print(cbm_rl)
  rbm &lt;- rbind(capital_b, capital_m)
  print(rbm)
  rbm_bt &lt;- rbind(capital_b, capital_m, direction = "bottom-to-top")
  print(rbm_bt)
</code></pre>

<hr>
<h2 id='col2hex'>Colors to standardized hex strings</h2><span id='topic+col2hex'></span>

<h3>Description</h3>

<p><code>col2hex()</code> standardizes R color strings
into a unique RGBA hex string.
All fully transparent colors get standardized
to <code>"#FFFFFF00"</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>col2hex(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="col2hex_+3A_x">x</code></td>
<td>
<p>Color value as supported by <code><a href="grDevices.html#topic+col2rgb">grDevices::col2rgb()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A standardized RGBA hex string (as returned by <code><a href="grDevices.html#topic+rgb">grDevices::rgb()</a></code>).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>col2hex("red")
col2hex("green")
col2hex("blue")
col2hex("transparent")
col2hex(NA_character_)
col2hex("#00000000")
</code></pre>

<hr>
<h2 id='col2int'>Color to (native) integer conversions</h2><span id='topic+col2int'></span><span id='topic+int2col'></span>

<h3>Description</h3>

<p><code>col2int()</code> converts color strings to (native) color integers.
<code>int2col()</code> converts (native) color integers to color strings.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>col2int(x)

int2col(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="col2int_+3A_x">x</code></td>
<td>
<p>Color value to convert.</p>
</td></tr>
</table>


<h3>Details</h3>


<ul>
<li><p> Colors are also standardized by <code><a href="#topic+col2hex">col2hex()</a></code>.
</p>
</li>
<li><p> Requires the <a href="farver.html#topic+farver-package">farver</a> package.
</p>
</li></ul>



<h3>Value</h3>

<p><code>col2int()</code> returns an integer.  <code>int2col()</code> returns a (hex) color string.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("farver", quietly = TRUE)) {
  int2col(col2int("red"))
}
</code></pre>

<hr>
<h2 id='farming_crops_16x16'>Sprites for twenty farming crops</h2><span id='topic+farming_crops_16x16'></span>

<h3>Description</h3>

<p><code>farming_crops_16x16()</code> returns a named list of <code><a href="#topic+bm_list">bm_list()</a></code> lists
of twenty farming crops in five stages of growth plus a portrait as <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code> objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>farming_crops_16x16()
</code></pre>


<h3>Details</h3>


<ul>
<li><p> Each sprite is sixteen by sixteen pixels large.
</p>
</li>
<li> <p><a href="https://opengameart.org/content/farming-crops-16x16">Farming Crops 16x16</a> was made and dedicated to the public domain by <a href="https://opengameart.org/users/josehzz">josehzz</a>.
</p>
</li></ul>



<h3>Value</h3>

<p>A named list of <code><a href="#topic+bm_list">bm_list()</a></code> lists of six <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code> objects (one through five stages of growth plus a portrait for each crop).  The named list has the following twenty crop names:
</p>

<ul>
<li><p> &quot;avocado&quot;
</p>
</li>
<li><p> &quot;cassava&quot;
</p>
</li>
<li><p> &quot;coffee&quot;
</p>
</li>
<li><p> &quot;corn&quot;
</p>
</li>
<li><p> &quot;cucumber&quot;
</p>
</li>
<li><p> &quot;eggplant&quot;
</p>
</li>
<li><p> &quot;grapes&quot;
</p>
</li>
<li><p> &quot;lemon&quot;
</p>
</li>
<li><p> &quot;melon&quot;
</p>
</li>
<li><p> &quot;orange&quot;
</p>
</li>
<li><p> &quot;pineapple&quot;
</p>
</li>
<li><p> &quot;potato&quot;
</p>
</li>
<li><p> &quot;rice&quot;
</p>
</li>
<li><p> &quot;rose&quot;
</p>
</li>
<li><p> &quot;strawberry&quot;
</p>
</li>
<li><p> &quot;sunflower&quot;
</p>
</li>
<li><p> &quot;tomato&quot;
</p>
</li>
<li><p> &quot;tulip&quot;
</p>
</li>
<li><p> &quot;turnip&quot;
</p>
</li>
<li><p> &quot;wheat&quot;
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>crops &lt;- farming_crops_16x16()
names(crops)
if (cli::is_utf8_output() &amp;&amp; cli::num_ansi_colors() &gt;= 256L) {
  print(crops$corn$portrait, compress = "v")
}

if (cli::is_utf8_output() &amp;&amp; cli::num_ansi_colors() &gt;= 256L) {
  print(crops$orange$stage5, compress = "v")
}
</code></pre>

<hr>
<h2 id='hex2ucp'>Get Unicode code points</h2><span id='topic+hex2ucp'></span><span id='topic+int2ucp'></span><span id='topic+str2ucp'></span><span id='topic+name2ucp'></span><span id='topic+is_ucp'></span><span id='topic+block2ucp'></span><span id='topic+range2ucp'></span>

<h3>Description</h3>

<p><code>hex2ucp()</code>, <code>int2ucp()</code>, <code>name2ucp()</code>, and <code>str2ucp()</code> return
Unicode code points as character vectors. <code>is_ucp()</code> returns
<code>TRUE</code> if a valid Unicode code point.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hex2ucp(x)

int2ucp(x)

str2ucp(x)

name2ucp(x, type = c("exact", "grep"), ...)

is_ucp(x)

block2ucp(x, omit_unnamed = TRUE)

range2ucp(x, omit_unnamed = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hex2ucp_+3A_x">x</code></td>
<td>
<p>R objects coercible to the respective Unicode character data types.
See <code><a href="Unicode.html#topic+u_char_basics">Unicode::as.u_char()</a></code> for <code>hex2ucp()</code> and <code>int2ucp()</code>,
<code><a href="base.html#topic+utf8Conversion">base::utf8ToInt()</a></code> for <code>str2ucp()</code>,
<code><a href="Unicode.html#topic+u_char_names">Unicode::u_char_from_name()</a></code> for <code>name2ucp()</code>,
<code><a href="Unicode.html#topic+u_char_basics">Unicode::as.u_char_range()</a></code> for <code>range2ucp()</code>,
and <code><a href="Unicode.html#topic+u_blocks">Unicode::u_blocks()</a></code> for <code>block2ucp()</code>.</p>
</td></tr>
<tr><td><code id="hex2ucp_+3A_type">type</code></td>
<td>
<p>one of <code>"exact"</code> or <code>"grep"</code>, or an abbreviation
thereof.
</p>
</td></tr>
<tr><td><code id="hex2ucp_+3A_...">...</code></td>
<td>
<p>arguments to be passed to <code><a href="base.html#topic+grepl">grepl</a></code> when using
this for pattern matching.
</p>
</td></tr>
<tr><td><code id="hex2ucp_+3A_omit_unnamed">omit_unnamed</code></td>
<td>
<p>Omit control codes or unassigned code points</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>hex2ucp(x)</code> is a wrapper for <code>as.character(Unicode::as.u_char(toupper(x)))</code>.
<code>int2ucp</code> is a wrapper for <code>as.character(Unicode::as.u_char(as.integer(x)))</code>.
<code>str2ucp(x)</code> is a wrapper for <code>as.character(Unicode::as.u_char(utf8ToInt(x)))</code>.
<code>name2ucp(x)</code> is a wrapper for <code>as.character(Unicode::u_char_from_name(x))</code>.
However missing values are coerced to <code>NA_character_</code> instead of <code>"&lt;NA&gt;"</code>.
Note the names of <code>bm_font()</code> objects must be character vectors as returned
by these functions and not <code>Unicode::u_char</code> objects.
</p>


<h3>Value</h3>

<p>A character vector of Unicode code points.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ucp2label">ucp2label()</a></code> and <code><a href="#topic+is_combining_character">is_combining_character()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  # These are all different ways to get the same 'R' code point
  hex2ucp("52")
  hex2ucp(as.hexmode("52"))
  hex2ucp("0052")
  hex2ucp("U+0052")
  hex2ucp("0x0052")
  int2ucp(82) # 82 == as.hexmode("52")
  int2ucp("82") # 82 == as.hexmode("52")
  int2ucp(utf8ToInt("R"))
  ucp2label("U+0052")
  name2ucp("LATIN CAPITAL LETTER R")
  str2ucp("R")

  block2ucp("Basic Latin")
  block2ucp("Basic Latin", omit_unnamed = FALSE)
  range2ucp("U+0020..U+0030")

</code></pre>

<hr>
<h2 id='is_bm_bitmap'>Test if the object is a bitmap object</h2><span id='topic+is_bm_bitmap'></span>

<h3>Description</h3>

<p><code>is_bm_bitmap()</code> returns <code>TRUE</code> for <code>bm_bitmap</code> objects (or subclasses)
and <code>FALSE</code> for all other objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_bm_bitmap(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_bm_bitmap_+3A_x">x</code></td>
<td>
<p>An object</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code> or <code>FALSE</code>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bm_bitmap">bm_bitmap()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>space_matrix &lt;- matrix(0L, nrow = 16L, ncol = 16L)
is_bm_bitmap(space_matrix)
space_glyph &lt;- bm_bitmap(space_matrix)
is_bm_bitmap(space_glyph)
</code></pre>

<hr>
<h2 id='is_bm_font'>Test if the object is a bitmap font object</h2><span id='topic+is_bm_font'></span>

<h3>Description</h3>

<p><code>is_bm_font()</code> returns <code>TRUE</code> for <code>bm_font</code> objects (or subclasses)
and <code>FALSE</code> for all other objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_bm_font(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_bm_font_+3A_x">x</code></td>
<td>
<p>An object</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code> or <code>FALSE</code>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bm_font">bm_font()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'> font_file &lt;- system.file("fonts/spleen/spleen-8x16.hex.gz", package = "bittermelon")
 font &lt;- read_hex(font_file)
 is_bm_font(font)
</code></pre>

<hr>
<h2 id='is_bm_list'>Test if the object is a bitmap glyph list object</h2><span id='topic+is_bm_list'></span>

<h3>Description</h3>

<p><code>is_bm_list()</code> returns <code>TRUE</code> for <code><a href="#topic+bm_list">bm_list()</a></code> objects (or subclasses)
and <code>FALSE</code> for all other objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_bm_list(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_bm_list_+3A_x">x</code></td>
<td>
<p>An object</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code> or <code>FALSE</code>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bm_list">bm_list()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'> font_file &lt;- system.file("fonts/spleen/spleen-8x16.hex.gz", package = "bittermelon")
 font &lt;- read_hex(font_file)
 is_bm_font(font)
</code></pre>

<hr>
<h2 id='is_bm_pixmap'>Test if the object is a pixmap object</h2><span id='topic+is_bm_pixmap'></span>

<h3>Description</h3>

<p><code>is_bm_pixmap()</code> returns <code>TRUE</code> for <code>bm_pixmap</code> objects (or subclasses)
and <code>FALSE</code> for all other objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_bm_pixmap(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_bm_pixmap_+3A_x">x</code></td>
<td>
<p>An object</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code> or <code>FALSE</code>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bm_pixmap">bm_pixmap()</a></code>, <code><a href="#topic+as_bm_pixmap">as_bm_pixmap()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>pm &lt;- bm_pixmap(matrix(c("red", "blue", "green", "black"),
                nrow = 2L, byrow = TRUE))
is_bm_pixmap(pm)
</code></pre>

<hr>
<h2 id='Ops.bm_bitmap'>S3 Ops group generic methods for bitmap objects</h2><span id='topic+Ops.bm_bitmap'></span><span id='topic+Ops.bm_pixmap'></span><span id='topic+Ops.bm_list'></span>

<h3>Description</h3>

<p>The S3 Ops group generic methods for <code>bm_bitmap()</code> objects
are simply the result of the generic integer matrix method
cast back to a <code>bm_bitmap()</code> object (which is an integer matrix).
The S3 Ops group generic methods for <code>bm_list()</code>
and <code>bm_font()</code> objects simply returns another object
with that operator applied to every bitmap in the original object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'bm_bitmap'
Ops(e1, e2)

## S3 method for class 'bm_pixmap'
Ops(e1, e2)

## S3 method for class 'bm_list'
Ops(e1, e2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Ops.bm_bitmap_+3A_e1">e1</code>, <code id="Ops.bm_bitmap_+3A_e2">e2</code></td>
<td>
<p>objects.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The various <code>Ops.bm_bitmap</code> and <code>Ops.bm_pixmap</code> methods return a <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code> object.
The various <code>Ops.bm_list</code> methods return a <code><a href="#topic+bm_list">bm_list()</a></code> object.
</p>


<h3>See Also</h3>

<p><a href="base.html#topic+groupGeneric">base::Ops</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>font_file &lt;- system.file("fonts/spleen/spleen-8x16.hex.gz", package = "bittermelon")
font &lt;- read_hex(font_file)

# Examples applied to individual bitmaps
capital_r &lt;- font[[str2ucp("R")]]
print(!capital_r)
capital_b &lt;- font[[str2ucp("B")]]
print(capital_r &amp; capital_b)
print(capital_r | capital_b)
print(capital_r + 1L)
print(capital_r + 1L &gt; 1L)

# Examples applied to `bm_list()` objects
bml &lt;- font[c("U+0023", "U+0052", "U+0053", "U+0054", "U+0041", "U+0054", "U+0053")] # #RSTATS
bml &lt;- as_bm_list(bml)
bm &lt;- do.call(cbind, bml)
print(bm)

bml &lt;- !bml
bm &lt;- do.call(cbind, bml)
print(bm)

bml &lt;- 2 * (bml + 1L)
bm &lt;- do.call(cbind, bml)
print(bm)

crops &lt;- farming_crops_16x16()
corn &lt;- crops$corn$portrait
print(corn == col2hex("transparent"))
</code></pre>

<hr>
<h2 id='plot.bm_matrix'>Plot bitmap/pixmap objects</h2><span id='topic+plot.bm_matrix'></span><span id='topic+plot.bm_bitmap'></span><span id='topic+plot.bm_pixmap'></span><span id='topic+as.raster.bm_bitmap'></span><span id='topic+as.raster.bm_pixmap'></span><span id='topic+col_bitmap'></span>

<h3>Description</h3>

<p><code>plot.bm_bitmap()</code> plots a <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code> object to the graphics device
while <code>plot.bm_pixmap()</code> plots a <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code> object to the graphics device.
They are wrappers around <code><a href="grid.html#topic+grid.raster">grid::grid.raster()</a></code> and <code>as.raster.bm_bitmap()</code>
or <code>as.raster.bm_pixmap()</code>.
which converts a bitmap glyph object to a raster object.
<code>col_bitmap</code> is a builtin color string vectors intended for use with the <code>col</code>
argument for casting <code><a href="#topic+bm_bitmap">bm_bitmap()</a></code> objects to pixmap objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'bm_bitmap'
plot(
  x,
  ...,
  col = getOption("bittermelon.col", col_bitmap),
  interpolate = FALSE
)

## S3 method for class 'bm_pixmap'
plot(x, ..., interpolate = FALSE)

## S3 method for class 'bm_bitmap'
as.raster(
  x,
  native = FALSE,
  ...,
  col = getOption("bittermelon.col", col_bitmap)
)

## S3 method for class 'bm_pixmap'
as.raster(x, native = FALSE, ...)

col_bitmap
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.bm_matrix_+3A_x">x</code></td>
<td>
<p>A <code>bm_bitmap()</code> object</p>
</td></tr>
<tr><td><code id="plot.bm_matrix_+3A_...">...</code></td>
<td>
<p>Passed to <code><a href="grid.html#topic+grid.raster">grid::grid.raster()</a></code>.</p>
</td></tr>
<tr><td><code id="plot.bm_matrix_+3A_col">col</code></td>
<td>
<p>Character vector of R color specifications.
First color is used for values equal to 0, second color for values equal to 1, etc.</p>
</td></tr>
<tr><td><code id="plot.bm_matrix_+3A_interpolate">interpolate</code></td>
<td>
<p>Passed to <code><a href="grid.html#topic+grid.raster">grid::grid.raster()</a></code>.</p>
</td></tr>
<tr><td><code id="plot.bm_matrix_+3A_native">native</code></td>
<td>
<p>If <code>TRUE</code> return a &quot;nativeRaster&quot; object instead of a &quot;raster&quot; object.
This will require that the suggested package <code><a href="farver.html#topic+farver-package">farver</a></code> is installed.</p>
</td></tr>
</table>


<h3>Format</h3>

<p>An object of class <code>character</code> of length 4.
</p>


<h3>Value</h3>

<p><code>plot.bm_bitmap()</code> and <code>plot.bm_pixmap()</code> return a <code><a href="grid.html#topic+grid.raster">grid::rasterGrob()</a></code> object silently.
As a side effect will draw to graphics device.
<code>as.raster.bm_bitmap()</code> and <code>as.raster.bm_pixmap()</code> return &quot;raster&quot; objects (see <code><a href="grDevices.html#topic+as.raster">grDevices::as.raster()</a></code>).
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bm_bitmap">bm_bitmap()</a></code>, <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>font_file &lt;- system.file("fonts/spleen/spleen-8x16.hex.gz", package = "bittermelon")
font &lt;- read_hex(font_file)
capital_r &lt;- bm_extend(font[[str2ucp("R")]], left = 1L)
capital_r &lt;- bm_extend(capital_r, sides = 1L, value = 2L)  # add a border effect

plot(capital_r)

plot(capital_r, col = c("yellow", "blue", "red"))

crops &lt;- farming_crops_16x16()
grapes &lt;- crops$grapes$portrait
plot(grapes)
</code></pre>

<hr>
<h2 id='print.bm_bitmap'>Print bitmap objects</h2><span id='topic+print.bm_bitmap'></span><span id='topic+format.bm_bitmap'></span><span id='topic+px_unicode'></span><span id='topic+px_ascii'></span><span id='topic+px_auto'></span>

<h3>Description</h3>

<p><code>print.bm_bitmap()</code> prints a representation of bitmap objects to the terminal.
It is a wrapper around <code>format.bm_bitmap()</code> which converts bitmap objects
to a character vector.
<code>px_unicode</code> and <code>px_ascii</code> are builtin character vectors intended for use with the <code>px</code>
argument (the former contains Unicode &ldquo;Block Elements&rdquo; while the latter is purely ASCII).
<code>px_auto()</code> chooses which character vector to use based on whether <code><a href="cli.html#topic+is_utf8_output">cli::is_utf8_output()</a></code> is <code>TRUE</code> or not.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'bm_bitmap'
print(
  x,
  ...,
  px = getOption("bittermelon.px", px_auto()),
  fg = getOption("bittermelon.fg", FALSE),
  bg = getOption("bittermelon.bg", FALSE),
  compress = getOption("bittermelon.compress", "none"),
  downscale = getOption("bittermelon.downscale", FALSE)
)

## S3 method for class 'bm_bitmap'
format(
  x,
  ...,
  px = getOption("bittermelon.px", px_auto()),
  fg = getOption("bittermelon.fg", FALSE),
  bg = getOption("bittermelon.bg", FALSE),
  compress = getOption("bittermelon.compress", "none"),
  downscale = getOption("bittermelon.downscale", FALSE)
)

px_unicode

px_ascii

px_auto(unicode = px_unicode, ascii = px_ascii)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.bm_bitmap_+3A_x">x</code></td>
<td>
<p>A <code>bm_bitmap()</code> object</p>
</td></tr>
<tr><td><code id="print.bm_bitmap_+3A_...">...</code></td>
<td>
<p>Further arguments passed to or from other methods.</p>
</td></tr>
<tr><td><code id="print.bm_bitmap_+3A_px">px</code></td>
<td>
<p>Character vector of the pixel to use for each integer value i.e.
The first character for integer <code>0L</code>,
the second character for integer <code>1L</code>, and so on.
Will be recycled.</p>
</td></tr>
<tr><td><code id="print.bm_bitmap_+3A_fg">fg</code></td>
<td>
<p>R color strings of foreground colors to use and/or cli ANSI style functions of class <code>cli_ansi_style</code>.
<code>FALSE</code> (default) for no foreground colors.
Will be recycled and passed to <code><a href="cli.html#topic+make_ansi_style">cli::make_ansi_style()</a></code>.</p>
</td></tr>
<tr><td><code id="print.bm_bitmap_+3A_bg">bg</code></td>
<td>
<p>R color strings of background colors to use and/or cli ANSI style functions of class <code>cli_ansi_style</code>.
<code>FALSE</code> (default) for no background colors.
Will be recycled and passed to <code><a href="cli.html#topic+make_ansi_style">cli::make_ansi_style()</a></code> with <code>bg = TRUE</code>.</p>
</td></tr>
<tr><td><code id="print.bm_bitmap_+3A_compress">compress</code></td>
<td>
<p>If &quot;none&quot; (default) or &quot;n&quot; don't compress first with <code><a href="#topic+bm_compress">bm_compress()</a></code>.
Otherwise compress first with <code><a href="#topic+bm_compress">bm_compress()</a></code> passing
the value of <code>compress</code> as its <code>direction</code> argument
(i.e. either &quot;vertical&quot; or &quot;v&quot;, &quot;horizontal&quot; or &quot;h&quot;,
OR &quot;both&quot; or &quot;b&quot;).</p>
</td></tr>
<tr><td><code id="print.bm_bitmap_+3A_downscale">downscale</code></td>
<td>
<p>If <code>TRUE</code> and the printed bitmap will be wider than <code>getOption("width")</code>
then shrink the image to fit <code>getOption("width")</code> using <code><a href="#topic+bm_downscale">bm_downscale()</a></code>.</p>
</td></tr>
<tr><td><code id="print.bm_bitmap_+3A_unicode">unicode</code></td>
<td>
<p>Character vector to use if <code><a href="cli.html#topic+is_utf8_output">cli::is_utf8_output()</a></code> is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="print.bm_bitmap_+3A_ascii">ascii</code></td>
<td>
<p>Character vector to use if <code><a href="cli.html#topic+is_utf8_output">cli::is_utf8_output()</a></code> is <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Format</h3>

<p>An object of class <code>character</code> of length 20.
</p>
<p>An object of class <code>character</code> of length 20.
</p>


<h3>Value</h3>

<p>A character vector of the string representation (<code>print.bm_bitmap()</code> does this invisibly).
As a side effect <code>print.bm_bitmap()</code> prints out the string representation to the terminal.
</p>


<h3>Fonts and terminal settings</h3>

<p>Printing bitmaps/pixmaps may or may not look great
in your terminal depending on a variety of factors:
</p>

<ul>
<li><p> The terminal should support the Unicode - UTF-8 encoding.
We use <code><a href="cli.html#topic+is_utf8_output">cli::is_utf8_output()</a></code> to guess Unicode support
which in turn looks at <code>getOption("cli.unicode")</code> and <code><a href="base.html#topic+l10n_info">l10n_info()</a></code>.
</p>
</li>
<li><p> The terminal should support ANSI sequences and if it does
it should support many colors.
</p>

<ul>
<li><p> We use <code><a href="cli.html#topic+num_ansi_colors">cli::num_ansi_colors()</a></code> to detect number of colors supported.
<code>num_ansi_colors()</code> detection algorithm is complicated but it first looks at
<code>getOption("cli.num_colors")</code>.
</p>
</li></ul>


<ul>
<li><p> If <code>cli::num_ansi_colors()</code> equals 16777216 then your terminal
supports 24-bit ANSI colors.
</p>
</li></ul>


<ul>
<li><p> If using the Windows Command Prompt window you may need to enable
ANSI sequences support by doing <code style="white-space: pre;">&#8288;REG ADD HKCU\CONSOLE /f /v VirtualTerminalLevel /t REG_DWORD /d 1&#8288;</code>
from the command-line or running <code>regedit</code> (Registry Editor) and go to
<code style="white-space: pre;">&#8288;Computer\HKEY_CURRENT_USER\Console&#8288;</code> and set <code>VirtualTerminalLevel</code> to <code>1</code>.
</p>
</li></ul>

</li>
<li><p> The font used by the terminal should be a monoscale font that supports the
<a href="https://en.wikipedia.org/wiki/Block_Elements">Block Elements</a> Unicode block.
</p>
</li>
<li><p> The terminal text settings should have a cell spacing around 1.00 times width and 1.00 times height.
For terminals configured by CSS styles this means a <code>line-height</code> of around <code>1.0</code>.
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+bm_bitmap">bm_bitmap()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>font_file &lt;- system.file("fonts/spleen/spleen-8x16.hex.gz", package = "bittermelon")
font &lt;- read_hex(font_file)
bm_R &lt;- font[[str2ucp("R")]]
print(bm_R)

if (cli::is_utf8_output())
  print(bm_R, px = px_unicode, compress = "vertical")

bm_8 &lt;- font[[str2ucp("8")]]
bm_8_with_border &lt;- bm_extend(bm_extend(bm_8, left = 1L),
                              sides = 1L, value = 2L)
print(bm_8_with_border, px = c(".", "@", "X"))

if (cli::num_ansi_colors() &gt;= 16L) {
  print(bm_8_with_border, px = " ",
        bg = c(cli::bg_br_white, cli::bg_blue, cli::bg_red))
}
</code></pre>

<hr>
<h2 id='print.bm_pixmap'>Print pixmap objects</h2><span id='topic+print.bm_pixmap'></span><span id='topic+format.bm_pixmap'></span>

<h3>Description</h3>

<p><code>print.bm_pixmap()</code> prints bittermelon pixmap objects to the terminal
It is a wrapper around <code>format.bm_pixmap()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'bm_pixmap'
print(
  x,
  ...,
  bg = getOption("bittermelon.bg", FALSE),
  compress = getOption("bittermelon.compress", "none"),
  downscale = getOption("bittermelon.downscale", FALSE)
)

## S3 method for class 'bm_pixmap'
format(
  x,
  ...,
  bg = getOption("bittermelon.bg", FALSE),
  compress = getOption("bittermelon.compress", "none"),
  downscale = getOption("bittermelon.downscale", FALSE)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.bm_pixmap_+3A_x">x</code></td>
<td>
<p>A <code><a href="#topic+bm_pixmap">bm_pixmap()</a></code> object</p>
</td></tr>
<tr><td><code id="print.bm_pixmap_+3A_...">...</code></td>
<td>
<p>Currently ignored.</p>
</td></tr>
<tr><td><code id="print.bm_pixmap_+3A_bg">bg</code></td>
<td>
<p>R color string of background color to use and/or
cli ANSI style function of class <code>cli_ansi_style</code>.
<code>FALSE</code> (default) for no background color
(i.e. use default terminal background).</p>
</td></tr>
<tr><td><code id="print.bm_pixmap_+3A_compress">compress</code></td>
<td>
<p>How to print the image:
* &quot;none&quot; (default) or &quot;n&quot; use one character per pixel.
* &quot;vertical&quot; or &quot;v&quot; use one character per two vertical pixels
(makes pixels look closest to square in typical terminal).
* &quot;horizontal&quot; or &quot;h&quot; use one character per two horizontal pixels.
* &quot;both&quot; or &quot;b&quot; use one character per four pixels
(this will be a lossy conversion whenever there are more than two colors per four pixels).</p>
</td></tr>
<tr><td><code id="print.bm_pixmap_+3A_downscale">downscale</code></td>
<td>
<p>If <code>TRUE</code> and the printed pixmap will be wider than <code>getOption("width")</code>
then shrink the image to fit <code>getOption("width")</code> using <code><a href="#topic+bm_downscale">bm_downscale()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of the string representation (<code>print.bm_pixmap()</code> does this invisibly).
As a side effect <code>print.bm_pixmap()</code> prints out the string representation to the terminal.
</p>


<h3>Fonts and terminal settings</h3>

<p>Printing bitmaps/pixmaps may or may not look great
in your terminal depending on a variety of factors:
</p>

<ul>
<li><p> The terminal should support the Unicode - UTF-8 encoding.
We use <code><a href="cli.html#topic+is_utf8_output">cli::is_utf8_output()</a></code> to guess Unicode support
which in turn looks at <code>getOption("cli.unicode")</code> and <code><a href="base.html#topic+l10n_info">l10n_info()</a></code>.
</p>
</li>
<li><p> The terminal should support ANSI sequences and if it does
it should support many colors.
</p>

<ul>
<li><p> We use <code><a href="cli.html#topic+num_ansi_colors">cli::num_ansi_colors()</a></code> to detect number of colors supported.
<code>num_ansi_colors()</code> detection algorithm is complicated but it first looks at
<code>getOption("cli.num_colors")</code>.
</p>
</li></ul>


<ul>
<li><p> If <code>cli::num_ansi_colors()</code> equals 16777216 then your terminal
supports 24-bit ANSI colors.
</p>
</li></ul>


<ul>
<li><p> If using the Windows Command Prompt window you may need to enable
ANSI sequences support by doing <code style="white-space: pre;">&#8288;REG ADD HKCU\CONSOLE /f /v VirtualTerminalLevel /t REG_DWORD /d 1&#8288;</code>
from the command-line or running <code>regedit</code> (Registry Editor) and go to
<code style="white-space: pre;">&#8288;Computer\HKEY_CURRENT_USER\Console&#8288;</code> and set <code>VirtualTerminalLevel</code> to <code>1</code>.
</p>
</li></ul>

</li>
<li><p> The font used by the terminal should be a monoscale font that supports the
<a href="https://en.wikipedia.org/wiki/Block_Elements">Block Elements</a> Unicode block.
</p>
</li>
<li><p> The terminal text settings should have a cell spacing around 1.00 times width and 1.00 times height.
For terminals configured by CSS styles this means a <code>line-height</code> of around <code>1.0</code>.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>crops &lt;- farming_crops_16x16()
corn &lt;- crops$corn$portrait
if (cli::is_utf8_output() &amp;&amp; cli::num_ansi_colors() &gt;= 256L) {
  print(corn)
}

if (cli::is_utf8_output() &amp;&amp; cli::num_ansi_colors() &gt;= 256L) {
  print(corn, compress = "v", bg = cli::bg_br_white)
}

if (cli::is_utf8_output() &amp;&amp; 
    cli::num_ansi_colors() &gt; 256L &amp;&amp;
    getOption("width") &gt;= 100L) {
  img &lt;- png::readPNG(system.file("img", "Rlogo.png", package="png"))
  pm &lt;- as_bm_pixmap(img)
  print(pm, compress = "v")
}
</code></pre>

<hr>
<h2 id='read_hex'>Read and write hex bitmap font files</h2><span id='topic+read_hex'></span><span id='topic+write_hex'></span>

<h3>Description</h3>

<p><code>read_hex()</code> reads in hex format bitmap font files
as a <code><a href="#topic+bm_font">bm_font()</a></code> object while <code>write_hex()</code> writes a <code><a href="#topic+bm_font">bm_font()</a></code> object
as a hex format bitmap font file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_hex(con, ucp = NULL)

write_hex(font, con = stdout())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read_hex_+3A_con">con</code></td>
<td>
<p>A connection object or a character string of a filename.
See <code><a href="base.html#topic+readLines">base::readLines()</a></code> or <code><a href="base.html#topic+writeLines">base::writeLines()</a></code> for more info.
If it is a connection it will be explicitly closed.</p>
</td></tr>
<tr><td><code id="read_hex_+3A_ucp">ucp</code></td>
<td>
<p>Character vector of Unicode Code Points: glyphs not in this vector won't be read in.
If <code>NULL</code> (default) read every glyph in the font.</p>
</td></tr>
<tr><td><code id="read_hex_+3A_font">font</code></td>
<td>
<p>A <code><a href="#topic+bm_font">bm_font()</a></code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>read_hex()</code> returns a <code><a href="#topic+bm_font">bm_font()</a></code> object.
<code>write_hex()</code> returns invisibly a character vector of the contents
of the hex font file it wrote to <code>con</code> as a side effect.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bm_font">bm_font()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'> font_file &lt;- system.file("fonts/spleen/spleen-8x16.hex.gz", package = "bittermelon")
 font &lt;- read_hex(font_file)
 capital_r &lt;- font[[str2ucp("R")]]
 print(capital_r)

 filename &lt;- tempfile(fileext = ".hex.gz")
 write_hex(font, gzfile(filename))

 font &lt;- read_hex(font_file, ucp = block2ucp("Basic Latin"))
 capital_r &lt;- font[[str2ucp("R")]]
 print(capital_r)
</code></pre>

<hr>
<h2 id='read_monobit'>Read and write bitmap font files using monobit</h2><span id='topic+read_monobit'></span><span id='topic+write_monobit'></span>

<h3>Description</h3>

<p><code>read_monobit()</code> reads in bitmap font file as a <code><a href="#topic+bm_font">bm_font()</a></code> object while <code>write_monobit()</code>
writes a <code><a href="#topic+bm_font">bm_font()</a></code> object as a bitmap font file.
It uses the file extension to determine the appropriate bitmap font format to use.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_monobit(
  file,
  quietly = FALSE,
  monobit_path = getOption("bittermelon.monobit_path", "monobit-convert")
)

write_monobit(
  font,
  file,
  quietly = FALSE,
  monobit_path = getOption("bittermelon.monobit_path", "monobit-convert")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read_monobit_+3A_file">file</code></td>
<td>
<p>A character string of a filename.</p>
</td></tr>
<tr><td><code id="read_monobit_+3A_quietly">quietly</code></td>
<td>
<p>If <code>TRUE</code> suppress any standard output/error from <code>monobit-convert</code>.</p>
</td></tr>
<tr><td><code id="read_monobit_+3A_monobit_path">monobit_path</code></td>
<td>
<p>Path/name of <code>monobit-convert</code> to use.  Passed to <code><a href="base.html#topic+Sys.which">base::Sys.which()</a></code>.</p>
</td></tr>
<tr><td><code id="read_monobit_+3A_font">font</code></td>
<td>
<p>A <code><a href="#topic+bm_font">bm_font()</a></code> object.</p>
</td></tr>
</table>


<h3>Details</h3>


<ul>
<li> <p><code>read_monobit()</code> and <code>write_monobit()</code> require that the <code>monobit-convert</code> command is available on the system.
</p>
</li>
<li> <p><code>read_monobit()</code> and <code>write_monobit()</code> uses <code>monobit-convert</code> to convert to/from
the yaff font format which this package can natively read/write from/to.
</p>
</li>
<li><p> One may install <code>monobit-convert</code> using <code style="white-space: pre;">&#8288;pip3 install monobit&#8288;</code>.
</p>
</li>
<li><p> For more information about <code>monobit</code> see <a href="https://github.com/robhagemans/monobit">https://github.com/robhagemans/monobit</a>.
</p>
</li></ul>



<h3>Value</h3>

<p><code>read_monobit()</code> returns a <code><a href="#topic+bm_font">bm_font()</a></code> object.  <code>write_monobit()</code> returns <code>NULL</code> invisibly and
as a side effect writes <code>file</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bm_font">bm_font()</a></code> for more information about bitmap font objects.
<code><a href="#topic+read_hex">read_hex()</a></code>, <code><a href="#topic+write_hex">write_hex()</a></code>, <code><a href="#topic+read_yaff">read_yaff()</a></code>, <code><a href="#topic+write_yaff">write_yaff()</a></code> for pure R bitmap font readers and writers.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># May take more than 5 seconds on CRAN servers
if (Sys.which("monobit-convert") != "") {
  try({
    font_file &lt;- system.file("fonts/spleen/spleen-8x16.hex.gz", package = "bittermelon")
    font &lt;- read_monobit(font_file)
    capital_r &lt;- font[[str2ucp("R")]]
    print(capital_r)

    filename &lt;- tempfile(fileext = ".yaff")
    write_monobit(font, filename)
  })
}

</code></pre>

<hr>
<h2 id='read_yaff'>Read and write yaff bitmap font files</h2><span id='topic+read_yaff'></span><span id='topic+write_yaff'></span>

<h3>Description</h3>

<p><code>read_yaff()</code> reads in yaff format bitmap font files
as a <code><a href="#topic+bm_font">bm_font()</a></code> object while <code>write_yaff()</code> writes a <code><a href="#topic+bm_font">bm_font()</a></code> object
as a yaff format bitmap font file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_yaff(con)

write_yaff(font, con = stdout())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read_yaff_+3A_con">con</code></td>
<td>
<p>A connection object or a character string of a filename.
See <code><a href="base.html#topic+readLines">base::readLines()</a></code> or <code><a href="base.html#topic+writeLines">base::writeLines()</a></code> for more info.
If it is a connection it will be explicitly closed.</p>
</td></tr>
<tr><td><code id="read_yaff_+3A_font">font</code></td>
<td>
<p>A <code><a href="#topic+bm_font">bm_font()</a></code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>read_yaff()</code> returns a <code><a href="#topic+bm_font">bm_font()</a></code> object.
<code>write_yaff()</code> returns invisibly a character vector of the contents
of the yaff font file it wrote to <code>con</code> as a side effect.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bm_font">bm_font()</a></code> for information about bitmap font objects.
For more information about yaff font format see <a href="https://github.com/robhagemans/monobit#the-yaff-format">https://github.com/robhagemans/monobit#the-yaff-format</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'> # May take more than 5 seconds on CRAN servers
 font_file &lt;- system.file("fonts/fixed/4x6.yaff.gz", package = "bittermelon")
 font &lt;- read_yaff(font_file)
 capital_r &lt;- font[[str2ucp("R")]]
 print(capital_r)

 filename &lt;- tempfile(fileext = ".yaff")
 write_yaff(font, filename)
 
</code></pre>

<hr>
<h2 id='Summary.bm_list'>max, min, and range for bitmap objects</h2><span id='topic+Summary.bm_list'></span>

<h3>Description</h3>

<p><code>max()</code>, <code>min()</code>, and <code>range()</code> will provide the  maximum and minimum
integer values found in the <code>bm_bitmap()</code>, <code>bm_list()</code>, or <code>bm_list()</code> objects.
The other four S3 <a href="base.html#topic+groupGeneric">base::Summary</a> methods - <code>all()</code>, <code>any()</code>, <code>sum</code>, and <code>prod</code> -
are only supported for <code>bm_bitmap()</code> objects
(which are subclasses of integer matrices).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'bm_list'
Summary(..., na.rm = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Summary.bm_list_+3A_...">...</code></td>
<td>
<p>Passed to relevant functions.</p>
</td></tr>
<tr><td><code id="Summary.bm_list_+3A_na.rm">na.rm</code></td>
<td>
<p>Passed to <code>min()</code> and <code>max()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An integer vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  font_file &lt;- system.file("fonts/spleen/spleen-8x16.hex.gz", package = "bittermelon")
  font &lt;- read_hex(font_file)
  min(font)
  max(font)
  range(font)
</code></pre>

<hr>
<h2 id='ucp2label'>Other Unicode utilities</h2><span id='topic+ucp2label'></span><span id='topic+ucp_sort'></span><span id='topic+is_combining_character'></span>

<h3>Description</h3>

<p><code>ucp2label()</code> returns Unicode code point &ldquo;labels&rdquo; as a character vector.
<code>ucp_sort()</code> sorts Unicode code points.
<code>is_combining_character()</code> returns <code>TRUE</code> if the character is a &ldquo;combining&rdquo; character.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ucp2label(x)

ucp_sort(x, decreasing = FALSE)

is_combining_character(x, pua_combining = character(0))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ucp2label_+3A_x">x</code></td>
<td>
<p>A character vector of Unicode code points.</p>
</td></tr>
<tr><td><code id="ucp2label_+3A_decreasing">decreasing</code></td>
<td>
<p>If <code>TRUE</code> do a decreasing sort.</p>
</td></tr>
<tr><td><code id="ucp2label_+3A_pua_combining">pua_combining</code></td>
<td>
<p>Additional Unicode code points to be considered
as a &ldquo;combining&rdquo; character such as characters
defined in the Private Use Area (PUA) of a font.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>ucp2label()</code> returns a character vector of Unicode labels.
<code>ucp_sort()</code> returns a character vector of Unicode code points.
<code>is_combining_character()</code> returns a logical vector.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+block2ucp">block2ucp()</a></code>, <code><a href="#topic+hex2ucp">hex2ucp()</a></code>, <code><a href="#topic+int2ucp">int2ucp()</a></code>, <code><a href="#topic+name2ucp">name2ucp()</a></code>, <code><a href="#topic+range2ucp">range2ucp()</a></code>, and <code><a href="#topic+str2ucp">str2ucp()</a></code>
all return Unicode code points.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  # Get the Unicode Code Point "label" for "R"
  ucp2label(str2ucp("R"))

  is_combining_character(str2ucp("a"))
  is_combining_character("U+0300") # COMBINING GRAVE ACCENT
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package swimplot</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {swimplot}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#ClinicalTrial.AE'><p>Clinical Trial: Adverse events</p></a></li>
<li><a href='#ClinicalTrial.Arm'><p>Clinical Trial: Treatment</p></a></li>
<li><a href='#ClinicalTrial.Response'><p>Clinical Trial: Response</p></a></li>
<li><a href='#ClinicalTrial.Stage'><p>Clinical Trial: Stage</p></a></li>
<li><a href='#line_df_to_point_df'><p>Formats a dataframe of line to add points</p></a></li>
<li><a href='#swimmer_arrows'><p>Adding arrows to a swimmers plot</p></a></li>
<li><a href='#swimmer_lines'><p>Adding lines to a swimmers plot</p></a></li>
<li><a href='#swimmer_plot'><p>Creating the base of a swimmers plot</p></a></li>
<li><a href='#swimmer_points'><p>Adding points to a swimmers plot</p></a></li>
<li><a href='#swimmer_points_from_lines'><p>Adding points to a swimmers plot which match up with lines</p></a></li>
<li><a href='#swimmer_text'><p>Adding text to a swimmers plot</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Tools for Creating Swimmers Plots using 'ggplot2'</td>
</tr>
<tr>
<td>Description:</td>
<td>Used for creating swimmers plots with functions to customize the bars, add points, add lines, add text, and add arrows.</td>
</tr>
<tr>
<td>Version:</td>
<td>1.2.0</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Author:</td>
<td>Jessica Weiss &lt;jessica.weiss@uhnresearch.ca&gt;, Wei Xu&lt;Wei.Xu@uhnresearch.ca&gt;</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jessica Weiss &lt;jessica.weiss@uhnresearch.ca&gt;</td>
</tr>
<tr>
<td>Imports:</td>
<td>tidyr, dplyr, ggplot2,</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, testthat</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-03-28 20:15:42 UTC; jweiss</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-03-31 00:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='ClinicalTrial.AE'>Clinical Trial: Adverse events</h2><span id='topic+ClinicalTrial.AE'></span>

<h3>Description</h3>

<p>A dataset containing the adverse event information from a simulated clinical trial
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ClinicalTrial.AE
</code></pre>


<h3>Format</h3>

<p>A data frame with 11 rows and 6 variables:
</p>

<dl>
<dt>id</dt><dd><p>Patient id</p>
</dd>
<dt>time</dt><dd><p>Time of an adverse event (AE)</p>
</dd>
<dt>event</dt><dd><p>Type of adverse event (AE)</p>
</dd>
<dt>Sex</dt><dd><p>Patient Sex</p>
</dd>
<dt>Age</dt><dd><p>Age of patient at trial entry date</p>
</dd>
<dt>Related</dt><dd><p>Likelihood the treatment is related to the adverse event</p>
</dd>
</dl>


<hr>
<h2 id='ClinicalTrial.Arm'>Clinical Trial: Treatment</h2><span id='topic+ClinicalTrial.Arm'></span>

<h3>Description</h3>

<p>A dataset containing the treatment arm information from a simulated clinical trial
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ClinicalTrial.Arm
</code></pre>


<h3>Format</h3>

<p>A data frame with 53 rows and 6 variables:
</p>

<dl>
<dt>id</dt><dd><p>Patient id</p>
</dd>
<dt>Arm</dt><dd><p>Treatment Arm</p>
</dd>
<dt>End_trt</dt><dd><p>Time since enrollment to the end of treatment, in months</p>
</dd>
<dt>Continued_treatment</dt><dd><p>Continued treatment past end of follow up</p>
</dd>
<dt>Sex</dt><dd><p>Patient Sex</p>
</dd>
<dt>Age</dt><dd><p>Age of patient at trial entry date</p>
</dd>
</dl>


<hr>
<h2 id='ClinicalTrial.Response'>Clinical Trial: Response</h2><span id='topic+ClinicalTrial.Response'></span>

<h3>Description</h3>

<p>A dataset containing the response information from a simulated clinical trial
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ClinicalTrial.Response
</code></pre>


<h3>Format</h3>

<p>A data frame with 36 rows and 7 variables:
</p>

<dl>
<dt>id</dt><dd><p>Patient id</p>
</dd>
<dt>Response_start</dt><dd><p>Time of starting response, in months since enrollment</p>
</dd>
<dt>Response_end</dt><dd><p>Time of ending response, in months since enrollment</p>
</dd>
<dt>Response</dt><dd><p>Type of response, CR = Complete response, and PR = Partial response</p>
</dd>
<dt>Continued_response</dt><dd><p>Continued response past end of follow up</p>
</dd>
<dt>Sex</dt><dd><p>Patient Sex</p>
</dd>
<dt>Age</dt><dd><p>Age of patient at trial entry date</p>
</dd>
</dl>


<hr>
<h2 id='ClinicalTrial.Stage'>Clinical Trial: Stage</h2><span id='topic+ClinicalTrial.Stage'></span>

<h3>Description</h3>

<p>A dataset containing the Stage information from a simulated clinical trial
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ClinicalTrial.Stage
</code></pre>


<h3>Format</h3>

<p>A data frame with 36 rows and 2 variables:
</p>

<dl>
<dt>id</dt><dd><p>Patient id</p>
</dd>
<dt>Stage</dt><dd><p>Patients clinical stage at enrollment of the study (either Early Stage or Late Stage)</p>
</dd>
</dl>


<hr>
<h2 id='line_df_to_point_df'>Formats a dataframe of line to add points</h2><span id='topic+line_df_to_point_df'></span>

<h3>Description</h3>

<p>This function formats a dataframe; used with <code><a href="#topic+swimmer_lines">swimmer_lines</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>line_df_to_point_df(df_lines, start = "start", end = "end", cont = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="line_df_to_point_df_+3A_df_lines">df_lines</code></td>
<td>
<p>a dataframe</p>
</td></tr>
<tr><td><code id="line_df_to_point_df_+3A_start">start</code></td>
<td>
<p>start column name</p>
</td></tr>
<tr><td><code id="line_df_to_point_df_+3A_end">end</code></td>
<td>
<p>end column name</p>
</td></tr>
<tr><td><code id="line_df_to_point_df_+3A_cont">cont</code></td>
<td>
<p>continue column name</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a dataframe in a format for adding points to a swimmers plot
</p>

<hr>
<h2 id='swimmer_arrows'>Adding arrows to a swimmers plot</h2><span id='topic+swimmer_arrows'></span>

<h3>Description</h3>

<p>This function allows you to add arrows to a swimmers plot created with
<code><a href="#topic+swimmer_plot">swimmer_plot</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>swimmer_arrows(
  df_arrows,
  id = "id",
  arrow_start = "end",
  cont = NULL,
  adj.y = 0,
  name_col = NULL,
  arrow_positions = c(0.1, 1),
  angle = 30,
  length = 0.1,
  type = "closed",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="swimmer_arrows_+3A_df_arrows">df_arrows</code></td>
<td>
<p>a data frame</p>
</td></tr>
<tr><td><code id="swimmer_arrows_+3A_id">id</code></td>
<td>
<p>column name for id, default is 'id'</p>
</td></tr>
<tr><td><code id="swimmer_arrows_+3A_arrow_start">arrow_start</code></td>
<td>
<p>column name with the arrow locations default is &quot;end&quot;</p>
</td></tr>
<tr><td><code id="swimmer_arrows_+3A_cont">cont</code></td>
<td>
<p>a column name including an indicator of which ids have an arrow (NA is no arrow); when  NULL will use
all use all of df_arrows</p>
</td></tr>
<tr><td><code id="swimmer_arrows_+3A_adj.y">adj.y</code></td>
<td>
<p>amount to adjust the line within the box vertically (default is 0, line is in the centre of each bar)</p>
</td></tr>
<tr><td><code id="swimmer_arrows_+3A_name_col">name_col</code></td>
<td>
<p>a column name to map the arrow colour</p>
</td></tr>
<tr><td><code id="swimmer_arrows_+3A_arrow_positions">arrow_positions</code></td>
<td>
<p>a vector of the distance from the arrow start to end,
default is c(0.1,1)</p>
</td></tr>
<tr><td><code id="swimmer_arrows_+3A_angle">angle</code></td>
<td>
<p>the angle of the arrow head in degrees (smaller numbers produce
narrower, pointier arrows). Essentially describes the width of the arrow
head. Default is 30</p>
</td></tr>
<tr><td><code id="swimmer_arrows_+3A_length">length</code></td>
<td>
<p>a unit specifying the length of the arrow head (from tip to
base in inches (default is 0.1)'</p>
</td></tr>
<tr><td><code id="swimmer_arrows_+3A_type">type</code></td>
<td>
<p>one of &quot;open&quot; or &quot;closed&quot; indicating whether the arrow head
should be a closed triangle. Default is 'closed'</p>
</td></tr>
<tr><td><code id="swimmer_arrows_+3A_...">...</code></td>
<td>
<p>additional geom_segment() arguments</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a swimmer plot with arrows
</p>


<h3>See Also</h3>

<p><code><a href="#topic+swimmer_plot">swimmer_plot</a></code> <code><a href="#topic+swimmer_points">swimmer_points</a></code> <code><a href="#topic+swimmer_lines">swimmer_lines</a></code>  <code><a href="#topic+swimmer_lines">swimmer_lines</a></code>  <code><a href="#topic+swimmer_points_from_lines">swimmer_points_from_lines</a></code>  <code><a href="#topic+swimmer_text">swimmer_text</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
#Mapping the arrows to the bars




swim_plot &lt;-
swimmer_plot(df=ClinicalTrial.Arm,id='id',end='End_trt',name_fill='Arm',col="black",id_order
= 'Arm')



swim_plot_with_arrows &lt;- swim_plot+
swimmer_arrows(df_arrows=ClinicalTrial.Arm,id='id',arrow_start='End_trt',
cont = 'Continued_treatment',name_col='Arm',show.legend = FALSE,type =
"open",cex=1.25)



 swim_plot_with_arrows+
ggplot2::scale_color_manual(name="Treatment",values=c("#e41a1c", "#377eb8","#4daf4a"),drop=FALSE)+
ggplot2::scale_fill_manual(name="Treatment",values=c("#e41a1c", "#377eb8","#4daf4a"))+
ggplot2::ylab('Time (Days)')






#Mapping the arrows to lines

#Start with a base swimmer plot with lines and points


swim_plot &lt;-
swimmer_plot(df=ClinicalTrial.Arm,id='id',end='End_trt',name_fill='Arm',col="black",id_order
= 'Arm')+ swimmer_lines(df_lines=ClinicalTrial.Response,id='id',start =
'Response_start',end='Response_end',name_col='Response',size=3)+
swimmer_points_from_lines(df_lines=ClinicalTrial.Response,id='id',start =
'Response_start',end = 'Response_end',cont =
'Continued_response',name_col='Response',size=4)


# Then add arrows to the plot

  swim_plot_with_arrows &lt;- swim_plot+
swimmer_arrows(df_arrows=ClinicalTrial.Response,id='id',arrow_start='Response_end',
cont = 'Continued_response',name_col='Response',show.legend = FALSE,type =
"open",cex=1.25)


# Add ggplot layers to improve the plot's aesthetic

swim_plot_with_arrows+
ggplot2::scale_color_manual(name="Response",values=c("grey20","grey80"))+
ggplot2::scale_fill_manual(name="Treatment",values=c("#e41a1c", "#377eb8","#4daf4a"))+
ggplot2::ylab('Time (Days)')+
ggplot2::guides(fill = ggplot2::guide_legend(override.aes = list(shape =
NA)))+
ggplot2::scale_shape_manual(name='',values=c(17,15),breaks =
c('Response_start','Response_end'),labels=c('Response Start','Response End'))


</code></pre>

<hr>
<h2 id='swimmer_lines'>Adding lines to a swimmers plot</h2><span id='topic+swimmer_lines'></span>

<h3>Description</h3>

<p>This function allows you to add lines to a swimmers plot created with <code><a href="#topic+swimmer_plot">swimmer_plot</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>swimmer_lines(
  df_lines,
  id = "id",
  start = "start",
  end = "end",
  adj.y = 0,
  name_linetype = NULL,
  name_col = NULL,
  name_size = NULL,
  name_alpha = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="swimmer_lines_+3A_df_lines">df_lines</code></td>
<td>
<p>a data frame</p>
</td></tr>
<tr><td><code id="swimmer_lines_+3A_id">id</code></td>
<td>
<p>column name for id, default is 'id'</p>
</td></tr>
<tr><td><code id="swimmer_lines_+3A_start">start</code></td>
<td>
<p>column name with the line start locations</p>
</td></tr>
<tr><td><code id="swimmer_lines_+3A_end">end</code></td>
<td>
<p>column name with the line end locations</p>
</td></tr>
<tr><td><code id="swimmer_lines_+3A_adj.y">adj.y</code></td>
<td>
<p>amount to adjust the line within the box vertically (default is 0, line is in the centre of each bar)</p>
</td></tr>
<tr><td><code id="swimmer_lines_+3A_name_linetype">name_linetype</code></td>
<td>
<p>a column name to map the line type</p>
</td></tr>
<tr><td><code id="swimmer_lines_+3A_name_col">name_col</code></td>
<td>
<p>a column name to map the line colour</p>
</td></tr>
<tr><td><code id="swimmer_lines_+3A_name_size">name_size</code></td>
<td>
<p>a column name to map the line size</p>
</td></tr>
<tr><td><code id="swimmer_lines_+3A_name_alpha">name_alpha</code></td>
<td>
<p>a column name to map the line transparency</p>
</td></tr>
<tr><td><code id="swimmer_lines_+3A_...">...</code></td>
<td>
<p>additional geom_segment() arguments</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a swimmer plot with lines
</p>


<h3>See Also</h3>

<p><code><a href="#topic+swimmer_plot">swimmer_plot</a></code> <code><a href="#topic+swimmer_points">swimmer_points</a></code> <code><a href="#topic+swimmer_lines">swimmer_lines</a></code>  <code><a href="#topic+swimmer_points_from_lines">swimmer_points_from_lines</a></code> <code><a href="#topic+swimmer_arrows">swimmer_arrows</a></code> <code><a href="#topic+swimmer_text">swimmer_text</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

#Start with a base swimmer plot
swim_plot &lt;-
swimmer_plot(df=ClinicalTrial.Arm,id='id',end='End_trt',name_fill='Arm',col="black",id_order='Arm')


# Then add lines to the plot

swim_plot_with_lines &lt;- swim_plot +
swimmer_lines(df_lines=ClinicalTrial.Response,id='id',start =
'Response_start',end='Response_end',name_col='Response',size=3)


# Add ggplot layers to improve the plot's aesthetic

swim_plot_with_lines +
ggplot2::scale_color_manual(name="Response",values=c("grey20","grey80"))+
ggplot2::scale_fill_manual(name="Treatment",values=c("#e41a1c", "#377eb8","#4daf4a"))+
ggplot2::ylab('Time (Days)')

</code></pre>

<hr>
<h2 id='swimmer_plot'>Creating the base of a swimmers plot</h2><span id='topic+swimmer_plot'></span>

<h3>Description</h3>

<p>This function allows you to create swimmers plots with bars, includes options to
have the bars change colours and create stratified plots
</p>


<h3>Usage</h3>

<pre><code class='language-R'>swimmer_plot(
  df,
  id = "id",
  end = "end",
  start = "start",
  name_fill = NULL,
  name_col = NULL,
  name_alpha = NULL,
  increasing = TRUE,
  id_order = NULL,
  stratify = FALSE,
  base_size = 11,
  identifiers = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="swimmer_plot_+3A_df">df</code></td>
<td>
<p>a data frame</p>
</td></tr>
<tr><td><code id="swimmer_plot_+3A_id">id</code></td>
<td>
<p>column name for id, default is 'id'</p>
</td></tr>
<tr><td><code id="swimmer_plot_+3A_end">end</code></td>
<td>
<p>column name with the bar lengths (or bar end positions if bars change colour), default is 'end'</p>
</td></tr>
<tr><td><code id="swimmer_plot_+3A_start">start</code></td>
<td>
<p>column name with the bar start positions (only required when there are gaps between sections of bars, or bars which do not start at zero), default is 'start'</p>
</td></tr>
<tr><td><code id="swimmer_plot_+3A_name_fill">name_fill</code></td>
<td>
<p>a column name to map the bar fill</p>
</td></tr>
<tr><td><code id="swimmer_plot_+3A_name_col">name_col</code></td>
<td>
<p>a column name to map the bar colour</p>
</td></tr>
<tr><td><code id="swimmer_plot_+3A_name_alpha">name_alpha</code></td>
<td>
<p>a column name to map the bar transparency</p>
</td></tr>
<tr><td><code id="swimmer_plot_+3A_increasing">increasing</code></td>
<td>
<p>Binary to specify bars in increasing order (Default is TRUE)</p>
</td></tr>
<tr><td><code id="swimmer_plot_+3A_id_order">id_order</code></td>
<td>
<p>order of the bars by id, can input a column name to sort by, or the ids in order.</p>
</td></tr>
<tr><td><code id="swimmer_plot_+3A_stratify">stratify</code></td>
<td>
<p>a list of column names to stratify by</p>
</td></tr>
<tr><td><code id="swimmer_plot_+3A_base_size">base_size</code></td>
<td>
<p>the base size for the plot, default is 11</p>
</td></tr>
<tr><td><code id="swimmer_plot_+3A_identifiers">identifiers</code></td>
<td>
<p>Binary to specify patient identifiers are included in the y axis (default is TRUE)</p>
</td></tr>
<tr><td><code id="swimmer_plot_+3A_...">...</code></td>
<td>
<p>additional geom_col() arguments</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a swimmer plot with bars
</p>


<h3>See Also</h3>

<p><code><a href="#topic+swimmer_points">swimmer_points</a></code> <code><a href="#topic+swimmer_lines">swimmer_lines</a></code>  <code><a href="#topic+swimmer_lines">swimmer_lines</a></code>  <code><a href="#topic+swimmer_points_from_lines">swimmer_points_from_lines</a></code> <code><a href="#topic+swimmer_arrows">swimmer_arrows</a></code> <code><a href="#topic+swimmer_text">swimmer_text</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>



swim_plot &lt;-
swimmer_plot(df=ClinicalTrial.Arm,id='id',end='End_trt',name_fill='Arm',col="black",id_order='Arm')

# Add ggplot layers to improve the plot's aesthetic

swim_plot +
ggplot2::scale_fill_manual(name="Treatment",values=c("#e41a1c", "#377eb8","#4daf4a"))+
ggplot2::ylab('Time (Days)')



#Example with Stratification

swim_plot_stratify &lt;- swimmer_plot(df=ClinicalTrial.Arm,id='id',end='End_trt',name_fill='Arm',
col="black",alpha=0.75,width=.8,base_size = 18,stratify= c('Age','Sex'))

swim_plot_stratify +
ggplot2::scale_fill_manual(name="Treatment",values=c("#e41a1c", "#377eb8","#4daf4a"))+
ggplot2::ylab('Time (Days)')

#Example when there are gaps between the bars and bars do not start at zero

#Both a start and end time need to be specified when there are gaps between sections of bars

Gap_data &lt;- data.frame(patient_ID=c('ID:3','ID:1','ID:1','ID:1','ID:2',
                                   'ID:2','ID:2','ID:3','ID:3','ID:2'),
                      start=c(10,1,2,7,2,10,14,5,0,22),
                      end=c(20,2,4,10,7,14,22,7,3,26),
                      treatment=c("A","B","C","A","A","C","A","B","C",NA))

swimmer_plot(df=Gap_data,id='patient_ID',name_fill="treatment",col=1,identifiers=FALSE,
id_order = c('ID:1','ID:2','ID:3')) +
ggplot2::theme_bw()+ggplot2::scale_fill_manual(name="Treatment",
values=c("A"="#e41a1c", "B"="#377eb8","C"="#4daf4a",na.value=NA),breaks=c("A","B","C"))+
 ggplot2::scale_y_continuous(breaks=c(0:26))

</code></pre>

<hr>
<h2 id='swimmer_points'>Adding points to a swimmers plot</h2><span id='topic+swimmer_points'></span>

<h3>Description</h3>

<p>This function allows you to add points to a swimmers plot created with <code><a href="#topic+swimmer_plot">swimmer_plot</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>swimmer_points(
  df_points,
  id = "id",
  time = "time",
  adj.y = 0,
  name_shape = NULL,
  name_col = NULL,
  name_size = NULL,
  name_fill = NULL,
  name_stroke = NULL,
  name_alpha = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="swimmer_points_+3A_df_points">df_points</code></td>
<td>
<p>a data frame</p>
</td></tr>
<tr><td><code id="swimmer_points_+3A_id">id</code></td>
<td>
<p>column name for id, default is 'id'</p>
</td></tr>
<tr><td><code id="swimmer_points_+3A_time">time</code></td>
<td>
<p>column name with the point locations</p>
</td></tr>
<tr><td><code id="swimmer_points_+3A_adj.y">adj.y</code></td>
<td>
<p>amount to adjust the point within the box vertically (default is 0, point is in the centre of each bar)</p>
</td></tr>
<tr><td><code id="swimmer_points_+3A_name_shape">name_shape</code></td>
<td>
<p>a column name to map the point shape</p>
</td></tr>
<tr><td><code id="swimmer_points_+3A_name_col">name_col</code></td>
<td>
<p>a column name to map the point colour</p>
</td></tr>
<tr><td><code id="swimmer_points_+3A_name_size">name_size</code></td>
<td>
<p>a column name to map the point size</p>
</td></tr>
<tr><td><code id="swimmer_points_+3A_name_fill">name_fill</code></td>
<td>
<p>a column name to map the point fill</p>
</td></tr>
<tr><td><code id="swimmer_points_+3A_name_stroke">name_stroke</code></td>
<td>
<p>a column name to map the point stroke</p>
</td></tr>
<tr><td><code id="swimmer_points_+3A_name_alpha">name_alpha</code></td>
<td>
<p>a column name to map the point transparency</p>
</td></tr>
<tr><td><code id="swimmer_points_+3A_...">...</code></td>
<td>
<p>additional geom_point() arguments</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a swimmer plot with points
</p>


<h3>See Also</h3>

<p><code><a href="#topic+swimmer_plot">swimmer_plot</a></code> <code><a href="#topic+swimmer_lines">swimmer_lines</a></code>  <code><a href="#topic+swimmer_lines">swimmer_lines</a></code>  <code><a href="#topic+swimmer_points_from_lines">swimmer_points_from_lines</a></code> <code><a href="#topic+swimmer_arrows">swimmer_arrows</a></code> <code><a href="#topic+swimmer_text">swimmer_text</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>


#Start with a base swimmer plot

swim_plot &lt;-
 swimmer_plot(df=ClinicalTrial.Arm,id='id',end='End_trt',name_fill='Arm',col="black",id_order='Arm')


# Then add points to the plot

swim_plot_with_points &lt;- swim_plot + swimmer_points(df_points=
ClinicalTrial.AE,id='id',time='time',name_shape =
'event',size=3,fill='white',col='black')



# Add ggplot layers to improve the plot's aesthetic

swim_plot_with_points + ggplot2::scale_shape_manual(name="Adverse
event",values=c(21,24,17),breaks=c('AE','SAE','Death'))+
ggplot2::scale_fill_manual(name="Treatment",values=c("#e41a1c", "#377eb8","#4daf4a"))+
ggplot2::ylab('Time (Days)')



##Another example with the colour and shape mapped to different columns

#Start with a base swimmer plot

swim_plot &lt;-
 swimmer_plot(df=ClinicalTrial.Arm,id='id',end='End_trt',name_fill='Arm',col="black",id_order='Arm')


swim_plot +
 swimmer_points(df_points=ClinicalTrial.AE,id='id',time='time',name_shape =
                 'event',fill='white',name_col = 'Related',size=5)+
 ggplot2::scale_shape_manual(name="Adverse event",values=c(16,17,18),breaks=c('AE','SAE','Death'))+
 ggplot2::scale_fill_manual(name="Treatment",values=c("#e41a1c", "#377eb8","#4daf4a"))+
 ggplot2::ylab('Time (Days)') +
 ggplot2::scale_color_manual(name="Likelihood related to treatment",values=c(1,'grey52','grey90'))




</code></pre>

<hr>
<h2 id='swimmer_points_from_lines'>Adding points to a swimmers plot which match up with lines</h2><span id='topic+swimmer_points_from_lines'></span>

<h3>Description</h3>

<p>This function will create points at the beginning and end of line to match with  <code><a href="#topic+swimmer_lines">swimmer_lines</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>swimmer_points_from_lines(
  df_lines,
  id = "id",
  start = "start",
  end = "end",
  cont = NULL,
  adj.y = 0,
  name_shape = "type",
  name_col = NULL,
  name_size = NULL,
  name_fill = NULL,
  name_stroke = NULL,
  name_alpha = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="swimmer_points_from_lines_+3A_df_lines">df_lines</code></td>
<td>
<p>a data frame</p>
</td></tr>
<tr><td><code id="swimmer_points_from_lines_+3A_id">id</code></td>
<td>
<p>column name for id, default is 'id'</p>
</td></tr>
<tr><td><code id="swimmer_points_from_lines_+3A_start">start</code></td>
<td>
<p>column name where the line starts, default is 'start'</p>
</td></tr>
<tr><td><code id="swimmer_points_from_lines_+3A_end">end</code></td>
<td>
<p>column name where the line ends, default is 'end'</p>
</td></tr>
<tr><td><code id="swimmer_points_from_lines_+3A_cont">cont</code></td>
<td>
<p>a column name of which lines continue (NA is does not continue) these will not have a point at the end of the line</p>
</td></tr>
<tr><td><code id="swimmer_points_from_lines_+3A_adj.y">adj.y</code></td>
<td>
<p>amount to adjust the point within the box vertically (default is 0, point is in the centre of each bar)</p>
</td></tr>
<tr><td><code id="swimmer_points_from_lines_+3A_name_shape">name_shape</code></td>
<td>
<p>a column name to map the point shape</p>
</td></tr>
<tr><td><code id="swimmer_points_from_lines_+3A_name_col">name_col</code></td>
<td>
<p>a column name to map the point colour</p>
</td></tr>
<tr><td><code id="swimmer_points_from_lines_+3A_name_size">name_size</code></td>
<td>
<p>a column name to map the point size</p>
</td></tr>
<tr><td><code id="swimmer_points_from_lines_+3A_name_fill">name_fill</code></td>
<td>
<p>a column name to map the point fill</p>
</td></tr>
<tr><td><code id="swimmer_points_from_lines_+3A_name_stroke">name_stroke</code></td>
<td>
<p>a column name to map the point stroke</p>
</td></tr>
<tr><td><code id="swimmer_points_from_lines_+3A_name_alpha">name_alpha</code></td>
<td>
<p>a column name to map the point transparency</p>
</td></tr>
<tr><td><code id="swimmer_points_from_lines_+3A_...">...</code></td>
<td>
<p>additional geom_point() arguments</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a swimmer plot with points matching the lines
</p>


<h3>See Also</h3>

<p><code><a href="#topic+swimmer_plot">swimmer_plot</a></code> <code><a href="#topic+swimmer_points">swimmer_points</a></code> <code><a href="#topic+swimmer_lines">swimmer_lines</a></code>  <code><a href="#topic+swimmer_lines">swimmer_lines</a></code>  <code><a href="#topic+swimmer_arrows">swimmer_arrows</a></code> <code><a href="#topic+swimmer_text">swimmer_text</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

#Start with a base swimmer plot


swim_plot &lt;-swimmer_plot(df=ClinicalTrial.Arm,id='id',end='End_trt',name_fill='Arm',col="black"
,id_order= 'Arm')


# Then add lines to the plot

swim_plot_with_lines &lt;- swim_plot +
swimmer_lines(df_lines=ClinicalTrial.Response,id='id',start =
'Response_start',end='Response_end',name_col='Response',size=3)

# Add points to the start and end of the lines

swim_plot_with_lines_and_points &lt;- swim_plot_with_lines+
swimmer_points_from_lines(df_lines=ClinicalTrial.Response,id='id',start =
'Response_start',end = 'Response_end', cont =
'Continued_response',name_col='Response',size=4)

# Add ggplot layers to improve the plot's aesthetic

swim_plot_with_lines_and_points +
ggplot2::scale_color_manual(name="Response",values=c("grey20","grey80"))+
ggplot2::scale_fill_manual(name="Treatment",values=c("#e41a1c", "#377eb8","#4daf4a"))+
ggplot2::ylab('Time (Days)')+
ggplot2::guides(fill = ggplot2::guide_legend(override.aes = list(shape =
NA)))+
ggplot2::scale_shape_manual(name='',values=c(17,15),breaks =
c('Response_start','Response_end'),labels=c('Response Start','Response End'))
</code></pre>

<hr>
<h2 id='swimmer_text'>Adding text to a swimmers plot</h2><span id='topic+swimmer_text'></span>

<h3>Description</h3>

<p>This function allows you to add text to a swimmers plot created with <code><a href="#topic+swimmer_plot">swimmer_plot</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>swimmer_text(
  df_text,
  id = "id",
  start = "start",
  label = "label",
  name_col = NULL,
  name_size = NULL,
  name_alpha = NULL,
  name_fontface = NULL,
  adj.y = 0,
  adj.x = 0,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="swimmer_text_+3A_df_text">df_text</code></td>
<td>
<p>a data frame</p>
</td></tr>
<tr><td><code id="swimmer_text_+3A_id">id</code></td>
<td>
<p>column name for id, default is 'id'</p>
</td></tr>
<tr><td><code id="swimmer_text_+3A_start">start</code></td>
<td>
<p>column name with the text start locations (if there is no start column will default 0 for all text)</p>
</td></tr>
<tr><td><code id="swimmer_text_+3A_label">label</code></td>
<td>
<p>a column with the text to be added to the plot</p>
</td></tr>
<tr><td><code id="swimmer_text_+3A_name_col">name_col</code></td>
<td>
<p>a column name to map the text colour</p>
</td></tr>
<tr><td><code id="swimmer_text_+3A_name_size">name_size</code></td>
<td>
<p>a column name to map the text size</p>
</td></tr>
<tr><td><code id="swimmer_text_+3A_name_alpha">name_alpha</code></td>
<td>
<p>a column name to map the text transparency</p>
</td></tr>
<tr><td><code id="swimmer_text_+3A_name_fontface">name_fontface</code></td>
<td>
<p>a column name to map the text fontface (&quot;plain&quot;, &quot;bold&quot;, &quot;italic&quot;, &quot;bold.italic&quot; can all be used)</p>
</td></tr>
<tr><td><code id="swimmer_text_+3A_adj.y">adj.y</code></td>
<td>
<p>amount to adjust the text within the box vertically (default is 0, text is in the centre of each bar)</p>
</td></tr>
<tr><td><code id="swimmer_text_+3A_adj.x">adj.x</code></td>
<td>
<p>amount to adjust the text within the box horizontally (default is 0, text starts at the origin)</p>
</td></tr>
<tr><td><code id="swimmer_text_+3A_...">...</code></td>
<td>
<p>additional geom_text() arguments</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a swimmer plot with text on the bars
</p>


<h3>See Also</h3>

<p><code><a href="#topic+swimmer_plot">swimmer_plot</a></code> <code><a href="#topic+swimmer_points">swimmer_points</a></code> <code><a href="#topic+swimmer_lines">swimmer_lines</a></code>  <code><a href="#topic+swimmer_points_from_lines">swimmer_points_from_lines</a></code> <code><a href="#topic+swimmer_arrows">swimmer_arrows</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Start with a base swimmer plot

swim_plot &lt;-
 swimmer_plot(df=ClinicalTrial.Arm,id='id',end='End_trt',
 name_fill='Arm',col="black",id_order='Arm',alpha=0.6)


# Then add text to the plot



swim_plot_with_text &lt;- swim_plot +   swimmer_text(df_text =
ClinicalTrial.Stage,label = 'Stage',size=3,
fontface=ifelse(ClinicalTrial.Stage$Stage=="Early Stage","bold","plain"))


# Add ggplot layers to improve the plot's aesthetic

swim_plot_with_text +
ggplot2::scale_fill_manual(name="Treatment",values=c("#e41a1c", "#377eb8","#4daf4a"))+
ggplot2::ylab('Time (Days)')

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

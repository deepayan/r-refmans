<!DOCTYPE html><html><head><title>Help for package ThresholdROCsurvival</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ThresholdROCsurvival}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#diagnostic_assessment_binary'>
<p>Diagnostic ability assessment for binary diagnostic tests</p></a></li>
<li><a href='#diagnostic_assessment_continuous'>
<p>Diagnostic ability assessment for continuous diagnostic tests</p></a></li>
<li><a href='#NSCLC'>
<p>Non-small cell lung cancer (NSCLC) data</p></a></li>
<li><a href='#ThresholdROCsurvival-package'>
<p>Diagnostic Ability Assessment with Right-Censored Data at a Fixed Time t</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Diagnostic Ability Assessment with Right-Censored Data at a
Fixed Time t</td>
</tr>
<tr>
<td>Version:</td>
<td>1.2.1</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-03-21</td>
</tr>
<tr>
<td>Description:</td>
<td>We focus on the diagnostic ability assessment of medical tests when the outcome of interest is the status (alive or dead) of the subjects at a certain time-point t. This binary status is determined by right-censored times to event and it is unknown for those subjects censored before t. Here we provide three methods (unknown status exclusion, imputation of censored times and using time-dependent ROC curves) to evaluate the diagnostic ability of binary and continuous tests in this context. Two references for the methods used here are Skaltsa et al. (2010) &lt;<a href="https://doi.org/10.1002%2Fbimj.200900294">doi:10.1002/bimj.200900294</a>&gt; and Heagerty et al. (2000) &lt;<a href="https://doi.org/10.1111%2Fj.0006-341x.2000.00337.x">doi:10.1111/j.0006-341x.2000.00337.x</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.0.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>boot, InformativeCensoring, pROC, psych, survival,
ThresholdROC</td>
</tr>
<tr>
<td>LazyData:</td>
<td>TRUE</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-03-21 09:34:21 UTC; spjau</td>
</tr>
<tr>
<td>Author:</td>
<td>Sara Perez-Jaume [aut, cre],
  Josep L Carrasco [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Sara Perez-Jaume &lt;spjaume@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-03-21 09:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='diagnostic_assessment_binary'>
Diagnostic ability assessment for binary diagnostic tests
</h2><span id='topic+diagnostic_assessment_binary'></span>

<h3>Description</h3>

<p>This function estimates sensitivity and specificity at a fixed time-point t for binary diagnostic tests with survival data by using two methods: 1) unknown status exclusion (USE), which excludes subjects with unknown status at t; and 2) imputation of censored times (ICT), a method based on multiple imputation. The status of the subjects at a certain time-point of interest t (the event occurred before or at t or not) is defined by the time-to-event variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>diagnostic_assessment_binary(binary.var, time, status, predict.time,
                             method=c("USE", "ICT"), index=c("all", "sens", "spec"),
                             m=10, ci=TRUE, alpha=0.05, range=3)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="diagnostic_assessment_binary_+3A_binary.var">binary.var</code></td>
<td>

<p>binary variable to be used as predictor of the status. It should be a factor which two levels: - (negative, which indicates absence of the event) and + (positive, which indicates presence of the event)
</p>
</td></tr>
<tr><td><code id="diagnostic_assessment_binary_+3A_time">time</code></td>
<td>

<p>survival time
</p>
</td></tr>
<tr><td><code id="diagnostic_assessment_binary_+3A_status">status</code></td>
<td>

<p>censoring status codified as 0=censored, 1=event
</p>
</td></tr>
<tr><td><code id="diagnostic_assessment_binary_+3A_predict.time">predict.time</code></td>
<td>

<p>time-point of interest to define the subjects' status as event present or absent
</p>
</td></tr>
<tr><td><code id="diagnostic_assessment_binary_+3A_method">method</code></td>
<td>

<p>method to be used in the estimation process. The user can choose between <code>USE</code> (unknown status exclusion) or <code>ICT</code> (imputation of censored times). Default, <code>USE</code>  
</p>
</td></tr>
<tr><td><code id="diagnostic_assessment_binary_+3A_index">index</code></td>
<td>

<p>indices to be estimated. The user can choose one or more of the following: <code>sens</code> and <code>spec</code>. The option <code>all</code> (default) estimates all two indices
</p>
</td></tr>
<tr><td><code id="diagnostic_assessment_binary_+3A_m">m</code></td>
<td>

<p>the number of data sets to impute. Default, 10
</p>
</td></tr>
<tr><td><code id="diagnostic_assessment_binary_+3A_ci">ci</code></td>
<td>

<p>Should a confidence interval be calculated? Default, <code>TRUE</code>
</p>
</td></tr>
<tr><td><code id="diagnostic_assessment_binary_+3A_alpha">alpha</code></td>
<td>

<p>significance level for the confidence interval. Default, 0.05
</p>
</td></tr>
<tr><td><code id="diagnostic_assessment_binary_+3A_range">range</code></td>
<td>

<p>this value, which is passed to <code>boxplot</code> function from <code>graphics</code> package, determines the data points that are considered to be extreme in the estimates and standard errors from the multiple imputation process. We consider extreme observations those that exceed <code>range</code> times the interquartile range. If extreme observations are found in the estimates or standard errors from the multiple imputation process, Winsorized estimators (Wilcox, 2012) are used for the point estimate and the between and within variances. Default, 3
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When <code>method</code> is <code>USE</code>: First, the algorithm determines the status of the subjects at time <code>predict.time</code>. Those censored subjects whose status could be not be determined are excluded from the analysis. Then, diagnostic ability is assessed with standard methods in the binary setting.
</p>
<p>When <code>method</code> is <code>ICT</code>: First, the algorithm determines the status of the subjects at time <code>predict.time</code>. For those subjects whose status could not be determined because their censored time is lower than t, we impute survival times using the method of Hsu et al (2006), that is implemented in the package <code>InformativeCensoring</code> (Ruau et al, 2020). The status of the subjects is then determined by these imputed times and is used to estimate the indices in <code>index</code>. Confidence intervals are calculated using the standard error proposed by Rubin (1987).
</p>


<h3>Value</h3>

<p>An object of class <code>diagnostic_assessment</code>, which is a list with the following components:
</p>
<table>
<tr><td><code>sens</code></td>
<td>
<p>Sensitivity estimate and its corresponding confidence interval (if <code>ci=TRUE</code>), only if sensitivity has been included in <code>index</code></p>
</td></tr>
<tr><td><code>spec</code></td>
<td>
<p>Specificity estimate and its corresponding confidence interval (if <code>ci=TRUE</code>), only if specificity has been included in <code>index</code></p>
</td></tr>
<tr><td><code>method</code></td>
<td>
<p><code>method</code> used in the estimation</p>
</td></tr>
<tr><td><code>alpha</code></td>
<td>
<p>significance level provided by the user</p>
</td></tr>
<tr><td><code>data</code></td>
<td>
<p>A data.frame containing the following columns previously provided by the user: <code>cont.var</code>, <code>time</code> and <code>status</code>, and a new column <code>statusNA</code>, which contains the status of the subjects at time <code>predict.time</code> (0=no event, 1=event, <code>NA</code>=unknown)</p>
</td></tr>
</table>


<h3>References</h3>

<p>Heagerty PJ, Lumley T, Pepe MS. Time-Dependent ROC Curves for Censored Survival Data and a Diagnostic Marker. Biometrics 2000; 56(2): 337-344. doi: 10.1111/j.0006-341X.2000.00337.x
</p>
<p>Heagerty PJ, Saha-Chaudhuri P (2013). survivalROC: Time-dependent ROC curve estimation from censored survival data. R package version 1.0.3. <a href="https://CRAN.R-project.org/package=survivalROC">https://CRAN.R-project.org/package=survivalROC</a>
</p>
<p>Hsu CH, Taylor JMG, Murray S, Commenges D. Survival analysis using auxiliary variables via non-parametric multiple imputation. Statistics in Medicine 2006; 25(20): 3503-3517. doi: https://doi.org/10.1002/sim.2452
</p>
<p>Ruau D, Burkoff N, Bartlett J, Jackson D, Jones E, Law M and Metcalfe P (2020). InformativeCensoring: Multiple Imputation for Informative Censoring. R package version 0.3.5. <a href="https://CRAN.R-project.org/package=InformativeCensoring">https://CRAN.R-project.org/package=InformativeCensoring</a>
</p>
<p>Rubin DB. Multiple Imputation for Nonresponse in Surveys. Wiley Series in Probability and Statistics. John Wiley &amp; Sons (1987)
</p>
<p>Wilcox, R. Introduction to Robust Estimation and Hypothesis Testing. 3rd Edition. Elsevier, Amsterdam (2012)
</p>
<p>Zhou XH, Obuchowski NA and McClish DK. Statistical methods in diagnostic medicine. John Wiley and sons (2002)
</p>


<h3>See Also</h3>

<p><code><a href="#topic+diagnostic_assessment_continuous">diagnostic_assessment_continuous</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(NSCLC)
NSCLC$COL_cat &lt;- factor(ifelse(NSCLC$COL&gt;=10, "+", "-"))
set.seed(2020)
with(NSCLC, diagnostic_assessment_binary(COL_cat, OS, ST,
     1095, method="ICT", m=10, ci=TRUE))
</code></pre>

<hr>
<h2 id='diagnostic_assessment_continuous'>
Diagnostic ability assessment for continuous diagnostic tests
</h2><span id='topic+diagnostic_assessment_continuous'></span>

<h3>Description</h3>

<p>This function estimates the AUC, optimal threshold, sensitivity and specificity at a fixed time-point t for continuous diagnostic tests with survival data by using three methods: 1) unknown status exclusion (USE), which excludes subjects with missing status at t; 2) imputation of censored times (ICT), a method based on multiple imputation; and 3) survivalROC, which uses a method based on time-dependent ROC curves. The status of the subjects at a certain time-point of interest t (the event occurred before or at t or not) is defined by the time-to-event variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>diagnostic_assessment_continuous(cont.var, time, status, predict.time,
                                 method=c("USE", "ICT", "survivalROC"),
                                 index=c("all", "AUC", "threshold", "sens", "spec"),
                                 costs=NULL, R=NULL,
                                 method.thres=c("normal", "empirical"),
                                 var.equal=FALSE, lambda=0.05, m=10,
                                 ci=TRUE, plot=FALSE, alpha=0.05,
                                 B=1000, range=3, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="diagnostic_assessment_continuous_+3A_cont.var">cont.var</code></td>
<td>

<p>continuous variable or biomarker to be used as predictor of the status
</p>
</td></tr>
<tr><td><code id="diagnostic_assessment_continuous_+3A_time">time</code></td>
<td>

<p>survival time
</p>
</td></tr>
<tr><td><code id="diagnostic_assessment_continuous_+3A_status">status</code></td>
<td>

<p>censoring status codified as 0=censored, 1=event
</p>
</td></tr>
<tr><td><code id="diagnostic_assessment_continuous_+3A_predict.time">predict.time</code></td>
<td>

<p>time-point of interest to define the subjects' status as event present or absent
</p>
</td></tr>
<tr><td><code id="diagnostic_assessment_continuous_+3A_method">method</code></td>
<td>

<p>method to be used in the estimation process. The user can choose between <code>USE</code> (unknown status exclusion), <code>ICT</code> (imputation of censored times) or <code>survivalROC</code> (time-dependent ROC curves). Default, <code>ME</code>  
</p>
</td></tr>
<tr><td><code id="diagnostic_assessment_continuous_+3A_index">index</code></td>
<td>

<p>indices to be estimated. The user can choose one or more of the following: <code>AUC</code>, <code>threshold</code>, <code>sens</code> (sensitivity achieved by the optimal threshold), <code>spec</code> (specificity achieved by the optimal threshold). The option <code>all</code> (default) estimates all four indices
</p>
</td></tr>
<tr><td><code id="diagnostic_assessment_continuous_+3A_costs">costs</code></td>
<td>

<p>cost matrix. Costs should be entered as a 2x2 matrix, where the first row corresponds to the true positive and true negative costs and the second row to the false positive and false negative costs. Default cost values (<code>costs=NULL</code>, when also <code>R=NULL</code>) are a combination of costs that yields R=1, which is equivalent to the Youden index method (for details about this concept, see <b>Details</b> and <b>References</b>)
</p>
</td></tr>
<tr><td><code id="diagnostic_assessment_continuous_+3A_r">R</code></td>
<td>

<p>if the cost matrix <code>costs</code> is not set (that is, <code>costs=NULL</code>), R desired (the algorithm will choose a suitable combination of costs that leads to <code>R</code>). Default, <code>NULL</code> (which leads to R=1 using the default <code>costs</code>). For details about this concept, see <b>Details</b> and <b>References</b>
</p>
</td></tr>
<tr><td><code id="diagnostic_assessment_continuous_+3A_method.thres">method.thres</code></td>
<td>

<p>method used in the estimation: <code>"normal"</code> (default) or <code>"empirical"</code>. The user can specify just the initial letters. See <b>Details</b> for more information about the methods available
</p>
</td></tr>
<tr><td><code id="diagnostic_assessment_continuous_+3A_var.equal">var.equal</code></td>
<td>

<p>when <code>method="normal"</code>, assume equal variances? Default, <code>FALSE</code>. When <code>method="empirical"</code>, <code>var.equal</code> is ignored
</p>
</td></tr>
<tr><td><code id="diagnostic_assessment_continuous_+3A_lambda">lambda</code></td>
<td>

<p>smoothing parameter for the NNE algorithm used in <code>survivalROC()</code> function. Default, 0.05
</p>
</td></tr>
<tr><td><code id="diagnostic_assessment_continuous_+3A_m">m</code></td>
<td>

<p>the number of data sets to impute. Default, 10
</p>
</td></tr>
<tr><td><code id="diagnostic_assessment_continuous_+3A_ci">ci</code></td>
<td>

<p>Should a confidence interval be calculated? Default, <code>TRUE</code>
</p>
</td></tr>
<tr><td><code id="diagnostic_assessment_continuous_+3A_plot">plot</code></td>
<td>

<p>Should some graphs about the estimation be plotted? Default, <code>FALSE</code>
</p>
</td></tr>
<tr><td><code id="diagnostic_assessment_continuous_+3A_alpha">alpha</code></td>
<td>

<p>significance level for the confidence interval. Default, 0.05
</p>
</td></tr>
<tr><td><code id="diagnostic_assessment_continuous_+3A_b">B</code></td>
<td>

<p>number of bootstrap resamples for the confidence interval. Only used when <code>method</code> is <code>survivalROC</code>. Otherwise, this argument is ignored. Default, 1000
</p>
</td></tr>
<tr><td><code id="diagnostic_assessment_continuous_+3A_range">range</code></td>
<td>

<p>this value, which is passed to <code>boxplot</code> function from <code>graphics</code> package, determines the data points that are considered to be extreme in the estimates and standard errors from the multiple imputation process. We consider extreme observations those that exceed <code>range</code> times the interquartile range. If extreme observations are found in the estimates or standard errors from the multiple imputation process, Winsorized estimators (Wilcox, 2012) are used for the point estimate and the between and within variances. Default, 3
</p>
</td></tr>
<tr><td><code id="diagnostic_assessment_continuous_+3A_...">...</code></td>
<td>

<p>extra arguments to be passed to <code>plot()</code>  
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When <code>method</code> is <code>USE</code>: First, the algorithm determines the status of the subjects at time <code>predict.time</code>. Those censored subjects whose status could be not be determined are excluded from the analysis. Then, diagnostic ability is assessed with standard methods in the binary setting.
</p>
<p>When <code>method</code> is <code>ICT</code>: First, the algorithm determines the status of the subjects at time <code>predict.time</code>. For those subjects whose status could not be determined because their censored time is lower than t, we impute survival times using the method of Hsu et al (2006), that is implemented in the package <code>InformativeCensoring</code> (Ruau et al, 2020). The status of the subjects is then determined by these imputed times and is used to estimate the indices in <code>index</code>. Confidence intervals are calculated using the standard error proposed by Rubin (1987).
</p>
<p>When <code>method</code> is <code>survivalROC</code>: Diagnostic ability is assessed by constructing the ROC curve at time t through time-dependent ROC curves (Heagerty et al, 2000). Confidence intervals are obtained using normal and percentile bootstrap. In normal bootstrap, the bootstrap is used to obtain an estimate of the standard error of the threshold estimate, and then the standard normal distribution is used for the confidence interval calculation. In percentile bootstrap, <code>B</code> bootstrap resamples are generated and the threshold is estimated in all of them. Then, the confidence interval is calculated as the empirical 1-<code>alpha</code>/2 and 1+<code>alpha</code>/2 percentiles of the <code>B</code> bootstrap estimates.
</p>
<p>For parameter <code>method.thres</code>, the method used in the estimation of the optimal threshold, the user can choose between <code>"normal"</code> (assumes binormality) or <code>"empirical"</code> (leaves out any distributional assumption). When <code>method="normal"</code>, the user can specify if the algorithm should assume equal or different variances using the parameter <code>var.equal</code>. For further details see the <code>thres2</code> function in the <code>ThresholdROC</code> package.
</p>
<p>R, mentioned in parameters <code>costs</code> and <code>R</code>, is the product of the non-disease odds and the cost ratio:
</p>
<p style="text-align: center;"><code class="reqn">R=((1-p)/p)((C_{TN}-C_{FP})/(C_{TP}-C_{FN})),</code>
</p>

<p>where <em>p</em> is the disease prevalence (estimated using Kaplan-Meier) and <em>C_i</em> are the classification costs.
</p>


<h3>Value</h3>

<p>An object of class <code>diagnostic_assessment</code>, which is a list with the following components:
</p>
<table>
<tr><td><code>AUC</code></td>
<td>
<p>AUC estimate and its corresponding confidence interval (if <code>ci=TRUE</code>), only if AUC has been included in <code>index</code></p>
</td></tr>
<tr><td><code>threshold</code></td>
<td>
<p>threshold estimate and its corresponding confidence interval (if <code>ci=TRUE</code>), only if threshold has been included in <code>index</code></p>
</td></tr>
<tr><td><code>sens</code></td>
<td>
<p>Sensitivity estimate (achieved by the optimal threshold) and its corresponding confidence interval (if <code>ci=TRUE</code>), only if sensitivity has been included in <code>index</code></p>
</td></tr>
<tr><td><code>spec</code></td>
<td>
<p>Specificity estimate (achieved by the optimal threshold) and its corresponding confidence interval (if <code>ci=TRUE</code>), only if specificity has been included in <code>index</code></p>
</td></tr>
<tr><td><code>method</code></td>
<td>
<p><code>method</code> used in the estimation</p>
</td></tr>
<tr><td><code>alpha</code></td>
<td>
<p>significance level provided by the user</p>
</td></tr>
<tr><td><code>data</code></td>
<td>
<p>A data.frame containing the following columns previously provided by the user: <code>cont.var</code>, <code>time</code> and <code>status</code>, and a new column <code>statusNA</code>, which contains the status of the subjects at time <code>predict.time</code> (0=no event, 1=event, <code>NA</code>=unknown)</p>
</td></tr>
</table>


<h3>References</h3>

<p>Heagerty PJ, Lumley T, Pepe MS. Time-Dependent ROC Curves for Censored Survival Data and a Diagnostic Marker. Biometrics 2000; 56(2): 337-344. doi: 10.1111/j.0006-341X.2000.00337.x
</p>
<p>Heagerty PJ, Saha-Chaudhuri P (2022). survivalROC: Time-dependent ROC curve estimation from censored survival data. R package version 1.0.3.1. <a href="https://CRAN.R-project.org/package=survivalROC">https://CRAN.R-project.org/package=survivalROC</a>
</p>
<p>Hsu CH, Taylor JMG, Murray S, Commenges D. Survival analysis using auxiliary variables via non-parametric multiple imputation. Statistics in Medicine 2006; 25(20): 3503-3517. doi: https://doi.org/10.1002/sim.2452
</p>
<p>Kottas M, Kuss O, Zapf A. A modified Wald interval for the area under the ROC curve (AUC) in diagnostic case-control studies. BMC Medical Research Methodology 2014; 14(26). doi:10.1186/1471-2288-14-26
</p>
<p>Perez-Jaume S, Skaltsa K, Pallares N, Carrasco JL. ThresholdROC: Optimum Threshold Estimation Tools for Continuous Diagnostic Tests in R. Journal of Statistical Software 2017; 82(4): 1-21. doi: 10.18637/jss.v082.i04
</p>
<p>Ruau D, Burkoff N, Bartlett J, Jackson D, Jones E, Law M and Metcalfe P (2020). InformativeCensoring: Multiple Imputation for Informative Censoring. R package version 0.3.5. <a href="https://CRAN.R-project.org/package=InformativeCensoring">https://CRAN.R-project.org/package=InformativeCensoring</a>
</p>
<p>Robin X, Turck N, Hainard A, Tiberti N, Lisacek F, Sanchez JC, Muller M. pROC: an open-source package for R and S+ to analyze and compare ROC curves. BMC Bioinformatics 2011; 12. doi:10.1186/1471-2105-12-77
</p>
<p>Rubin DB. Multiple Imputation for Nonresponse in Surveys. Wiley Series in Probability and Statistics. John Wiley &amp; Sons (1987)
</p>
<p>Skaltsa K, Jover L, Carrasco JL. Estimation of the diagnostic threshold accounting for decision costs and sampling uncertainty. Biometrical Journal 2010; 52(5): 676-697. doi: 10.1002/bimj.200900294
</p>
<p>Wilcox, R. Introduction to Robust Estimation and Hypothesis Testing. 3rd Edition. Elsevier, Amsterdam (2012)
</p>


<h3>See Also</h3>

<p><code><a href="#topic+diagnostic_assessment_binary">diagnostic_assessment_binary</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ThresholdROCsurvival)
data(NSCLC)
# unknown status exclusion (Youden index maximization, R=1)
with(NSCLC, diagnostic_assessment_continuous(log(COL), OS,
                                             ST, 1095, method="USE", method.thres="normal",
                                             var.equal=FALSE, ci=TRUE))

# multiple imputation (Youden index maximization, R=1)
set.seed(2020)
with(NSCLC, diagnostic_assessment_continuous(log(COL), OS,
                                             ST, 1095, method="ICT", method.thres="normal",
                                             var.equal=FALSE, m=50, ci=TRUE))


# unknown status exclusion (R=1.1)
with(NSCLC, diagnostic_assessment_continuous(log(COL), OS,
                                             ST, 1095, method="USE", method.thres="normal",
                                             var.equal=FALSE, ci=TRUE, R=1.1))

# multiple imputation (R=1.1)
set.seed(2020)
with(NSCLC, diagnostic_assessment_continuous(log(COL), OS,
                                             ST, 1095, method="ICT", method.thres="normal",
                                             var.equal=FALSE, m=50, ci=TRUE, R=1.1))


# time-dependent ROC curves (Youden index maximization, R=1)
set.seed(2020)
with(NSCLC, diagnostic_assessment_continuous(log(COL), OS,
                                             ST, 1095, method="survivalROC",
                                             ci=TRUE, R=1, B=500))

</code></pre>

<hr>
<h2 id='NSCLC'>
Non-small cell lung cancer (NSCLC) data
</h2><span id='topic+NSCLC'></span>

<h3>Description</h3>

<p>Non-small cell lung cancer (NSCLC) is the most common lung cancer and comprises several subtypes of lung cancers. These data come from a study by Alcaraz <em>et al.</em>, 2019, in which the authors investigated the prognostic value of some activation markers in NSCLC.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("NSCLC")</code></pre>


<h3>Format</h3>

<p>A data frame with 203 observations on the following 4 variables.
</p>

<dl>
<dt><code>ID</code></dt><dd><p>subject's identifier</p>
</dd>
<dt><code>OS</code></dt><dd><p>overall survival, that is, the time from surgery until death or last follow-up, in days</p>
</dd>
<dt><code>ST</code></dt><dd><p>censoring status (0=censored, 1=dead)</p>
</dd>
<dt><code>COL</code></dt><dd><p>percentage of collagen quantified using an imaging technique from tumour samples</p>
</dd>
</dl>



<h3>Source</h3>

<p>Alcaraz J, Carrasco JL, Millares L, et al. Stromal markers of activated tumor associated fibroblasts predict poor survival and are associated with necrosis in non-small cell lung cancer. Lung Cancer 2019; 135: 151 - 160. doi: 10.1016/j.lungcan.2019.07.020
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(NSCLC)
summary(NSCLC)
</code></pre>

<hr>
<h2 id='ThresholdROCsurvival-package'>
Diagnostic Ability Assessment with Right-Censored Data at a Fixed Time t
</h2><span id='topic+ThresholdROCsurvival-package'></span>

<h3>Description</h3>

<p>We focus on the diagnostic ability assessment of medical tests when the outcome of interest is the status (alive or dead) of the subjects at a certain time-point t. This binary status is determined by right-censored times to event and it is unknown for those subjects censored before t. Here we provide three methods (unknown status exclusion, imputation of censored times and using time-dependent ROC curves) to evaluate the diagnostic ability of binary and continuous tests in this context. Two references for the methods used here are Skaltsa et al. (2010) &lt;doi:10.1002/bimj.200900294&gt; and Heagerty et al. (2000) &lt;doi:10.1111/j.0006-341x.2000.00337.x&gt;.
</p>


<h3>Details</h3>

<p>The functions in this package are <code>diagnostic_assessment_binary()</code> (for binary medical tests) and <code>diagnostic_assessment_continuous()</code> (for continuous medical tests).
</p>


<h3>Author(s)</h3>

<p>Sara Perez-Jaume and Josep L Carrasco
</p>
<p>Maintainer: Sara Perez-Jaume
</p>


<h3>References</h3>

<p>Heagerty PJ, Lumley T, Pepe MS. Time-Dependent ROC Curves for Censored Survival Data and a Diagnostic Marker. Biometrics 2000; 56(2): 337-344. doi: 10.1111/j.0006-341X.2000.00337.x
</p>
<p>Hsu CH, Taylor JMG, Murray S, Commenges D. Survival analysis using auxiliary variables via non-parametric multiple imputation. Statistics in Medicine 2006; 25(20): 3503-3517. doi: https://doi.org/10.1002/sim.2452
</p>
<p>Perez-Jaume S, Skaltsa K, Pallares N, Carrasco JL. ThresholdROC: Optimum Threshold Estimation Tools for Continuous Diagnostic Tests in R. Journal of Statistical Software 2017; 82(4): 1-21. doi: 10.18637/jss.v082.i04
</p>
<p>Skaltsa K, Jover L, Carrasco JL. Estimation of the diagnostic threshold accounting for decision costs and sampling uncertainty. Biometrical Journal 2010; 52(5): 676-697. doi: 10.1002/bimj.200900294
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package SubgrpID</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {SubgrpID}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#balanced.folds'><p>balanced.folds</p></a></li>
<li><a href='#batting.pred'><p>batting.pred</p></a></li>
<li><a href='#batting.prog'><p>batting.prog</p></a></li>
<li><a href='#binary.stats'><p>binary.stats</p></a></li>
<li><a href='#cv.folds'><p>cv.folds</p></a></li>
<li><a href='#cv.pval'><p>cv.pval</p></a></li>
<li><a href='#cv.seqlr.batting'><p>cv.seqlr.batting</p></a></li>
<li><a href='#data.gen'><p>data.gen</p></a></li>
<li><a href='#evaluate.cv.results'><p>evaluate.cv.results</p></a></li>
<li><a href='#evaluate.results'><p>evaluate.results</p></a></li>
<li><a href='#filter'><p>filter</p></a></li>
<li><a href='#filter.glmnet'><p>filter.glmnet</p></a></li>
<li><a href='#filter.unicart'><p>filter.unicart</p></a></li>
<li><a href='#filter.univariate'><p>filter.univariate</p></a></li>
<li><a href='#find.pred.stats'><p>find.pred.stats</p></a></li>
<li><a href='#find.prog.stats'><p>find.prog.stats</p></a></li>
<li><a href='#get.var.counts.seq'><p>get.var.counts.seq</p></a></li>
<li><a href='#interaction.plot'><p>interaction.plot</p></a></li>
<li><a href='#kfold.cv'><p>kfold.cv</p></a></li>
<li><a href='#make.arg.list'><p>make.arg.list</p></a></li>
<li><a href='#permute.rows'><p>permute.rows</p></a></li>
<li><a href='#permute.vector'><p>permute.vector</p></a></li>
<li><a href='#pred.seqlr'><p>pred.seqlr</p></a></li>
<li><a href='#pred.seqlr.cv'><p>pred.seqlr.cv</p></a></li>
<li><a href='#query.data'><p>query.data</p></a></li>
<li><a href='#resample'><p>resample</p></a></li>
<li><a href='#seqlr.batting'><p>seqlr.batting</p></a></li>
<li><a href='#seqlr.batting.wrapper'><p>seqlr.batting.wrapper</p></a></li>
<li><a href='#seqlr.find.cutoff.pred'><p>seqlr.find.cutoff.pred</p></a></li>
<li><a href='#seqlr.find.cutoff.prog'><p>seqlr.find.cutoff.prog</p></a></li>
<li><a href='#seqlr.score.pred'><p>seqlr.score.pred</p></a></li>
<li><a href='#seqlr.score.prog'><p>seqlr.score.prog</p></a></li>
<li><a href='#SubgrpID'><p>SubgrpID</p></a></li>
<li><a href='#summarize.cv.stats'><p>summarize.cv.stats</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Patient Subgroup Identification for Clinical Drug Development</td>
</tr>
<tr>
<td>Version:</td>
<td>0.12</td>
</tr>
<tr>
<td>Description:</td>
<td>Implementation of Sequential BATTing (bootstrapping and aggregating of thresholds from trees) for developing threshold-based multivariate (prognostic/predictive) biomarker signatures. Variable selection is automatically built-in. Final signatures are returned with interaction plots for predictive signatures. Cross-validation performance evaluation and testing dataset results are also output. Detail algorithms are described in Huang et al (2017) &lt;<a href="https://doi.org/10.1002%2Fsim.7236">doi:10.1002/sim.7236</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Imports:</td>
<td>glmnet, MASS, rpart, survival, Matrix, ggplot2</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-02-02 15:31:31 UTC; huangxx13</td>
</tr>
<tr>
<td>Author:</td>
<td>Xin Huang [aut, cre, cph],
  Yan Sun [aut],
  Saptarshi Chatterjee [aut],
  Paul Trow [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Xin Huang &lt;xin.huang@abbvie.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-02-03 12:20:10 UTC</td>
</tr>
</table>
<hr>
<h2 id='balanced.folds'>balanced.folds</h2><span id='topic+balanced.folds'></span>

<h3>Description</h3>

<p>Create balanced folds for cross-validation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>balanced.folds(y, nfolds = min(min(table(y)), 10))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="balanced.folds_+3A_y">y</code></td>
<td>
<p>the response vector</p>
</td></tr>
<tr><td><code id="balanced.folds_+3A_nfolds">nfolds</code></td>
<td>
<p>number of folds</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Create balanced folds for cross-validation.
</p>


<h3>Value</h3>

<p>This function returns balanced folds
</p>

<hr>
<h2 id='batting.pred'>batting.pred</h2><span id='topic+batting.pred'></span>

<h3>Description</h3>

<p>Main predictive BATTing function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>batting.pred(
  dataset,
  ids,
  yvar,
  censorvar,
  trtvar,
  type,
  class.wt,
  xvar,
  n.boot,
  des.res,
  min.sigp.prcnt
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="batting.pred_+3A_dataset">dataset</code></td>
<td>
<p>input dataset in data frame</p>
</td></tr>
<tr><td><code id="batting.pred_+3A_ids">ids</code></td>
<td>
<p>training indices</p>
</td></tr>
<tr><td><code id="batting.pred_+3A_yvar">yvar</code></td>
<td>
<p>response variable name</p>
</td></tr>
<tr><td><code id="batting.pred_+3A_censorvar">censorvar</code></td>
<td>
<p>censoring variable name 1:event; 0: censor.</p>
</td></tr>
<tr><td><code id="batting.pred_+3A_trtvar">trtvar</code></td>
<td>
<p>treatment variable name</p>
</td></tr>
<tr><td><code id="batting.pred_+3A_type">type</code></td>
<td>
<p>&quot;c&quot; continuous; &quot;s&quot; survival; &quot;b&quot; binary</p>
</td></tr>
<tr><td><code id="batting.pred_+3A_class.wt">class.wt</code></td>
<td>
<p>vector of length 2 used to weight the accuracy score , useful when there is class imbalance in binary data defaults to c(1,1)</p>
</td></tr>
<tr><td><code id="batting.pred_+3A_xvar">xvar</code></td>
<td>
<p>name of predictor for which cutpoint needs to be obtained</p>
</td></tr>
<tr><td><code id="batting.pred_+3A_n.boot">n.boot</code></td>
<td>
<p>number of bootstraps for BATTing step.</p>
</td></tr>
<tr><td><code id="batting.pred_+3A_des.res">des.res</code></td>
<td>
<p>the desired response. &quot;larger&quot;: prefer larger response. &quot;smaller&quot;: prefer smaller response.</p>
</td></tr>
<tr><td><code id="batting.pred_+3A_min.sigp.prcnt">min.sigp.prcnt</code></td>
<td>
<p>desired proportion of signature positive group size for a given cutoff.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Main predictive BATTing function
</p>


<h3>Value</h3>

<p>a signature rule consisting of variable name, direction, optimal cutpoint and the corresponding p-value.
</p>

<hr>
<h2 id='batting.prog'>batting.prog</h2><span id='topic+batting.prog'></span>

<h3>Description</h3>

<p>Main prognostic BATTing function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>batting.prog(
  dataset,
  ids,
  yvar,
  censorvar,
  type,
  class.wt,
  xvar,
  n.boot,
  des.res,
  min.sigp.prcnt
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="batting.prog_+3A_dataset">dataset</code></td>
<td>
<p>input dataset in data frame</p>
</td></tr>
<tr><td><code id="batting.prog_+3A_ids">ids</code></td>
<td>
<p>training indices</p>
</td></tr>
<tr><td><code id="batting.prog_+3A_yvar">yvar</code></td>
<td>
<p>response variable name</p>
</td></tr>
<tr><td><code id="batting.prog_+3A_censorvar">censorvar</code></td>
<td>
<p>censoring variable name 1:event; 0: censor.</p>
</td></tr>
<tr><td><code id="batting.prog_+3A_type">type</code></td>
<td>
<p>&quot;c&quot; continuous; &quot;s&quot; survival; &quot;b&quot; binary</p>
</td></tr>
<tr><td><code id="batting.prog_+3A_class.wt">class.wt</code></td>
<td>
<p>vector of length 2 used to weight the accuracy score , useful when there is class imbalance in binary data defaults to c(1,1)</p>
</td></tr>
<tr><td><code id="batting.prog_+3A_xvar">xvar</code></td>
<td>
<p>name of predictor for which cutpoint needs to be obtained</p>
</td></tr>
<tr><td><code id="batting.prog_+3A_n.boot">n.boot</code></td>
<td>
<p>number of bootstraps for BATTing step.</p>
</td></tr>
<tr><td><code id="batting.prog_+3A_des.res">des.res</code></td>
<td>
<p>the desired response. &quot;larger&quot;: prefer larger response. &quot;smaller&quot;: prefer smaller response.</p>
</td></tr>
<tr><td><code id="batting.prog_+3A_min.sigp.prcnt">min.sigp.prcnt</code></td>
<td>
<p>desired proportion of signature positive group size for a given cutoff.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Main prognostic BATTing function
</p>


<h3>Value</h3>

<p>a signature rule consisting of variable name, direction, optimal cutpoint and the corresponding p-value.
</p>

<hr>
<h2 id='binary.stats'>binary.stats</h2><span id='topic+binary.stats'></span>

<h3>Description</h3>

<p>A function for binary statistics
</p>


<h3>Usage</h3>

<pre><code class='language-R'>binary.stats(pred.class, y.vec)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="binary.stats_+3A_pred.class">pred.class</code></td>
<td>
<p>predicted output for each subject</p>
</td></tr>
<tr><td><code id="binary.stats_+3A_y.vec">y.vec</code></td>
<td>
<p>response vector</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A function for binary statistics
</p>


<h3>Value</h3>

<p>a data frame with sensitivity, specificity, NPV, PPV and accuracy
</p>

<hr>
<h2 id='cv.folds'>cv.folds</h2><span id='topic+cv.folds'></span>

<h3>Description</h3>

<p>Cross-validation folds.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cv.folds(n, folds = 10)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cv.folds_+3A_n">n</code></td>
<td>
<p>number of observations.</p>
</td></tr>
<tr><td><code id="cv.folds_+3A_folds">folds</code></td>
<td>
<p>number of folds.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Cross-validation folds.
</p>


<h3>Value</h3>

<p>a list containing the observation numbers for each fold.
</p>

<hr>
<h2 id='cv.pval'>cv.pval</h2><span id='topic+cv.pval'></span>

<h3>Description</h3>

<p>p-value calculation for each iteration of cross validation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cv.pval(yvar, censorvar = NULL, trtvar = NULL, data, type = "s")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cv.pval_+3A_yvar">yvar</code></td>
<td>
<p>response variable name.</p>
</td></tr>
<tr><td><code id="cv.pval_+3A_censorvar">censorvar</code></td>
<td>
<p>censor-variable name.</p>
</td></tr>
<tr><td><code id="cv.pval_+3A_trtvar">trtvar</code></td>
<td>
<p>treatment variable name. For prognostic case trtvar=NULL.</p>
</td></tr>
<tr><td><code id="cv.pval_+3A_data">data</code></td>
<td>
<p>dataset containing response and predicted output.</p>
</td></tr>
<tr><td><code id="cv.pval_+3A_type">type</code></td>
<td>
<p>data type - &quot;c&quot; - continuous , &quot;b&quot; - binary, &quot;s&quot; - time to event  - default = &quot;c&quot;.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>p-value calculation for each iteration of cross validation.
</p>


<h3>Value</h3>

<p>p-value based on response and prediction vector for each iteration.
</p>

<hr>
<h2 id='cv.seqlr.batting'>cv.seqlr.batting</h2><span id='topic+cv.seqlr.batting'></span>

<h3>Description</h3>

<p>Cross Validation for Sequential BATTing
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cv.seqlr.batting(
  y,
  x,
  censor.vec = NULL,
  trt.vec = NULL,
  trtref = NULL,
  type = "c",
  n.boot = 50,
  des.res = "larger",
  class.wt = c(1, 1),
  min.sigp.prcnt = 0.2,
  pre.filter = NULL,
  filter.method = NULL,
  k.fold = 5,
  cv.iter = 50,
  max.iter = 500
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cv.seqlr.batting_+3A_y">y</code></td>
<td>
<p>data frame containing the response</p>
</td></tr>
<tr><td><code id="cv.seqlr.batting_+3A_x">x</code></td>
<td>
<p>data frame containing the predictors</p>
</td></tr>
<tr><td><code id="cv.seqlr.batting_+3A_censor.vec">censor.vec</code></td>
<td>
<p>vector giving the censor status (only for TTE data , censor=0,event=1) : default = NULL</p>
</td></tr>
<tr><td><code id="cv.seqlr.batting_+3A_trt.vec">trt.vec</code></td>
<td>
<p>vector containing values of treatment variable ( for predictive signature). Set trt.vec to NULL for prognostic signature.</p>
</td></tr>
<tr><td><code id="cv.seqlr.batting_+3A_trtref">trtref</code></td>
<td>
<p>code for treatment arm.</p>
</td></tr>
<tr><td><code id="cv.seqlr.batting_+3A_type">type</code></td>
<td>
<p>data type. &quot;c&quot; - continuous , &quot;b&quot; - binary, &quot;s&quot; - time to event : default = &quot;c&quot;.</p>
</td></tr>
<tr><td><code id="cv.seqlr.batting_+3A_n.boot">n.boot</code></td>
<td>
<p>number of bootstraps in BATTing step.</p>
</td></tr>
<tr><td><code id="cv.seqlr.batting_+3A_des.res">des.res</code></td>
<td>
<p>the desired response. &quot;larger&quot;: prefer larger response. &quot;smaller&quot;: prefer smaller response</p>
</td></tr>
<tr><td><code id="cv.seqlr.batting_+3A_class.wt">class.wt</code></td>
<td>
<p>vector of length 2 used to weight the accuracy score , useful when there is class imbalance in binary data defaults to c(1,1)</p>
</td></tr>
<tr><td><code id="cv.seqlr.batting_+3A_min.sigp.prcnt">min.sigp.prcnt</code></td>
<td>
<p>desired proportion of signature positive group size for a given cutoff.</p>
</td></tr>
<tr><td><code id="cv.seqlr.batting_+3A_pre.filter">pre.filter</code></td>
<td>
<p>NULL, no prefiltering conducted;&quot;opt&quot;, optimized number of predictors selected; An integer: min(opt, integer) of predictors selected.</p>
</td></tr>
<tr><td><code id="cv.seqlr.batting_+3A_filter.method">filter.method</code></td>
<td>
<p>NULL, no prefiltering, &quot;univariate&quot;, univaraite filtering; &quot;glmnet&quot;, glmnet filtering, &quot;unicart&quot;: univariate rpart filtering for prognostic case.</p>
</td></tr>
<tr><td><code id="cv.seqlr.batting_+3A_k.fold">k.fold</code></td>
<td>
<p>number of folds for CV.</p>
</td></tr>
<tr><td><code id="cv.seqlr.batting_+3A_cv.iter">cv.iter</code></td>
<td>
<p>algorithm terminates after cv.iter successful iterations of cross-validation.</p>
</td></tr>
<tr><td><code id="cv.seqlr.batting_+3A_max.iter">max.iter</code></td>
<td>
<p>total number of iterations allowed (including unsuccessful ones).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Cross Validation for Sequential BATTing
</p>


<h3>Value</h3>

<p>a list containing with following entries: 
</p>

<dl>
<dt>stats.summary</dt><dd><p>Summary of performance statistics.</p>
</dd>
<dt>pred.classes</dt><dd><p>Data frame containing the predictive clases (TRUE/FALSE) for each iteration.</p>
</dd>
<dt>folds</dt><dd><p>Data frame containing the fold indices (index of the fold for each row) for each iteration.</p>
</dd>
<dt>sig.list</dt><dd><p>List of length cv.iter * k.fold containing the signature generated at each of the  k folds, for all iterations.</p>
</dd>
<dt>error.log</dt><dd><p>List of any error messages that are returned at an iteration.</p>
</dd>
<dt>interplot</dt><dd><p>Treatment*subgroup interaction plot for predictive case</p>
</dd>
</dl>


<hr>
<h2 id='data.gen'>data.gen</h2><span id='topic+data.gen'></span>

<h3>Description</h3>

<p>Function for simulated data generation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data.gen(
  n,
  k,
  prevalence = sqrt(0.5),
  prog.eff = 1,
  sig2,
  y.sig2,
  rho,
  rhos.bt.real,
  a.constent
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="data.gen_+3A_n">n</code></td>
<td>
<p>Total sample size</p>
</td></tr>
<tr><td><code id="data.gen_+3A_k">k</code></td>
<td>
<p>Number of markers</p>
</td></tr>
<tr><td><code id="data.gen_+3A_prevalence">prevalence</code></td>
<td>
<p>prevalence of predictive biomarkers with values above the cutoff</p>
</td></tr>
<tr><td><code id="data.gen_+3A_prog.eff">prog.eff</code></td>
<td>
<p>effect size <code class="reqn">beta</code> for prognostic biomarker</p>
</td></tr>
<tr><td><code id="data.gen_+3A_sig2">sig2</code></td>
<td>
<p>standard deviation of each marker</p>
</td></tr>
<tr><td><code id="data.gen_+3A_y.sig2">y.sig2</code></td>
<td>
<p>Standard Deviation of the error term in the linear component</p>
</td></tr>
<tr><td><code id="data.gen_+3A_rho">rho</code></td>
<td>
<p>rho*sig2 is the entries for covariance matrix between pairs of different k markers</p>
</td></tr>
<tr><td><code id="data.gen_+3A_rhos.bt.real">rhos.bt.real</code></td>
<td>
<p>correlation between each prognostic and predictive markers</p>
</td></tr>
<tr><td><code id="data.gen_+3A_a.constent">a.constent</code></td>
<td>
<p>a constant is set such that there is no overall treatment effect</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function for simulated data generation
</p>


<h3>Value</h3>

<p>A list of simulated clinical trial data with heterogeneous prognostic and predictive biomarkers
</p>


<h3>Examples</h3>

<pre><code class='language-R'>n &lt;- 500
k &lt;- 10
prevalence &lt;- sqrt(0.5)
rho&lt;-0.2
sig2 &lt;- 2
rhos.bt.real &lt;- c(0, rep(0.1, (k-3)))*sig2
y.sig2 &lt;- 1
prog.eff &lt;- 0.5
effect.size &lt;- 1
a.constent &lt;- effect.size/(2*(1-prevalence))
ObsData &lt;- data.gen(n=n, k=k, prevalence=prevalence, prog.eff=prog.eff,
                    sig2=sig2, y.sig2=y.sig2, rho=rho,
                    rhos.bt.real=rhos.bt.real, a.constent=a.constent)
</code></pre>

<hr>
<h2 id='evaluate.cv.results'>evaluate.cv.results</h2><span id='topic+evaluate.cv.results'></span>

<h3>Description</h3>

<p>Take the raw output of kfold.cv and calculate performance statistics for each iteration of the cross-validation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>evaluate.cv.results(cv.data, y, censor.vec, trt.vec, type)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="evaluate.cv.results_+3A_cv.data">cv.data</code></td>
<td>
<p>output of prediction function from kfold.cv</p>
</td></tr>
<tr><td><code id="evaluate.cv.results_+3A_y">y</code></td>
<td>
<p>data frame of the response variable from CV data.</p>
</td></tr>
<tr><td><code id="evaluate.cv.results_+3A_censor.vec">censor.vec</code></td>
<td>
<p>data frame indicating censoring for survival data. For binary or continuous data, set censor.vec &lt;- NULL.</p>
</td></tr>
<tr><td><code id="evaluate.cv.results_+3A_trt.vec">trt.vec</code></td>
<td>
<p>data frame indicating whether or not the patient was treated. For the pronostic case, set trt.vec &lt;- NULL.</p>
</td></tr>
<tr><td><code id="evaluate.cv.results_+3A_type">type</code></td>
<td>
<p>data type - &quot;c&quot; - continuous , &quot;b&quot; - binary, &quot;s&quot; - time to event  - default = &quot;c&quot;</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Cross-validation Performance Evaluation
</p>


<h3>Value</h3>

<p>a list containing raw statistics and fold information
</p>

<hr>
<h2 id='evaluate.results'>evaluate.results</h2><span id='topic+evaluate.results'></span>

<h3>Description</h3>

<p>Get statistics for a single set of predictions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>evaluate.results(
  y,
  predict.data,
  censor.vec = NULL,
  trt.vec = NULL,
  trtref = NULL,
  type
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="evaluate.results_+3A_y">y</code></td>
<td>
<p>data frame of the response variable.</p>
</td></tr>
<tr><td><code id="evaluate.results_+3A_predict.data">predict.data</code></td>
<td>
<p>output of prediction function from kfold.cv.</p>
</td></tr>
<tr><td><code id="evaluate.results_+3A_censor.vec">censor.vec</code></td>
<td>
<p>data frame indicating censoring for survival data. For binary or continuous data, set censor.vec &lt;- NULL.</p>
</td></tr>
<tr><td><code id="evaluate.results_+3A_trt.vec">trt.vec</code></td>
<td>
<p>data frame indicating whether or not the patient was treated. For the pronostic case, set trt.vec &lt;- NULL.</p>
</td></tr>
<tr><td><code id="evaluate.results_+3A_trtref">trtref</code></td>
<td>
<p>treatment reference.</p>
</td></tr>
<tr><td><code id="evaluate.results_+3A_type">type</code></td>
<td>
<p>data type - &quot;c&quot; - continuous , &quot;b&quot; - binary, &quot;s&quot; - time to event  - default = &quot;c&quot;.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Get statistics for a single set of predictions.
</p>


<h3>Value</h3>

<p>a list containing p-value and group statistics.
</p>

<hr>
<h2 id='filter'>filter</h2><span id='topic+filter'></span>

<h3>Description</h3>

<p>Filter function for Prognostic and preditive biomarker signature development for Exploratory Subgroup Identification in Randomized Clinical Trials
</p>


<h3>Usage</h3>

<pre><code class='language-R'>filter(
  data,
  type = "c",
  yvar,
  xvars,
  censorvar = NULL,
  trtvar = NULL,
  trtref = 1,
  n.boot = 50,
  cv.iter = 20,
  pre.filter = length(xvars),
  filter.method = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="filter_+3A_data">data</code></td>
<td>
<p>input data frame</p>
</td></tr>
<tr><td><code id="filter_+3A_type">type</code></td>
<td>
<p>type of response variable: &quot;c&quot; continuous; &quot;s&quot; survival; &quot;b&quot; binary</p>
</td></tr>
<tr><td><code id="filter_+3A_yvar">yvar</code></td>
<td>
<p>variable (column) name for response variable</p>
</td></tr>
<tr><td><code id="filter_+3A_xvars">xvars</code></td>
<td>
<p>vector of variable names for predictors (covariates)</p>
</td></tr>
<tr><td><code id="filter_+3A_censorvar">censorvar</code></td>
<td>
<p>variable name for censoring (1: event; 0: censor), default = NULL</p>
</td></tr>
<tr><td><code id="filter_+3A_trtvar">trtvar</code></td>
<td>
<p>variable name for treatment variable, default = NULL (prognostic signature)</p>
</td></tr>
<tr><td><code id="filter_+3A_trtref">trtref</code></td>
<td>
<p>coding (in the column of trtvar) for treatment arm, default = 1 (no use for prognostic signature)</p>
</td></tr>
<tr><td><code id="filter_+3A_n.boot">n.boot</code></td>
<td>
<p>number of bootstrap for the BATTing procedure</p>
</td></tr>
<tr><td><code id="filter_+3A_cv.iter">cv.iter</code></td>
<td>
<p>Algotithm terminates after cv.iter successful iterations of cross-validation, or after max.iter total iterations, whichever occurs first</p>
</td></tr>
<tr><td><code id="filter_+3A_pre.filter">pre.filter</code></td>
<td>
<p>NULL (default), no prefiltering conducted;&quot;opt&quot;, optimized number of predictors selected; An integer: min(opt, integer) of predictors selected</p>
</td></tr>
<tr><td><code id="filter_+3A_filter.method">filter.method</code></td>
<td>
<p>NULL (default), no prefiltering; &quot;univariate&quot;, univaraite filtering; &quot;glmnet&quot;, glmnet filtering</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Filter function for predictive/prognostic biomarker candidates for signature development
</p>
<p>The function contains two algorithms for filtering high-dimentional multivariate (prognostic/predictive) biomarker candidates via univariate fitering (used p-values of group difference for prognostic case, p-values of interaction term for predictive case); LASSO/Elastic Net method. (Tian L. et al 2012)
</p>


<h3>Value</h3>

<table role = "presentation">
<tr><td><code>var</code></td>
<td>
<p>a vector of filter results of variable names</p>
</td></tr>
</table>


<h3>References</h3>

<p>Tian L, Alizadeh A, Gentles A, Tibshirani R (2012) A Simple Method for Detecting Interactions between a Treatment and a Large Number of Covariates. J Am Stat Assoc. 2014 Oct; 109(508): 1517-1532.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># no run
</code></pre>

<hr>
<h2 id='filter.glmnet'>filter.glmnet</h2><span id='topic+filter.glmnet'></span>

<h3>Description</h3>

<p>Flitering using MC glmnet
</p>


<h3>Usage</h3>

<pre><code class='language-R'>filter.glmnet(
  data,
  type,
  yvar,
  xvars,
  censorvar,
  trtvar,
  trtref,
  n.boot = 50,
  cv.iter = 20,
  pre.filter = length(xvars)
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="filter.glmnet_+3A_data">data</code></td>
<td>
<p>input data frame</p>
</td></tr>
<tr><td><code id="filter.glmnet_+3A_type">type</code></td>
<td>
<p>&quot;c&quot; continuous; &quot;s&quot; survival; &quot;b&quot; binary</p>
</td></tr>
<tr><td><code id="filter.glmnet_+3A_yvar">yvar</code></td>
<td>
<p>response variable name</p>
</td></tr>
<tr><td><code id="filter.glmnet_+3A_xvars">xvars</code></td>
<td>
<p>covariates variable name</p>
</td></tr>
<tr><td><code id="filter.glmnet_+3A_censorvar">censorvar</code></td>
<td>
<p>censoring variable name 1:event; 0: censor.</p>
</td></tr>
<tr><td><code id="filter.glmnet_+3A_trtvar">trtvar</code></td>
<td>
<p>treatment variable name</p>
</td></tr>
<tr><td><code id="filter.glmnet_+3A_trtref">trtref</code></td>
<td>
<p>code for treatment arm</p>
</td></tr>
<tr><td><code id="filter.glmnet_+3A_n.boot">n.boot</code></td>
<td>
<p>number of bootstrap for filtering</p>
</td></tr>
<tr><td><code id="filter.glmnet_+3A_cv.iter">cv.iter</code></td>
<td>
<p>number of iterations required for MC glmnet filtering</p>
</td></tr>
<tr><td><code id="filter.glmnet_+3A_pre.filter">pre.filter</code></td>
<td>
<p>NULL, no prefiltering conducted;&quot;opt&quot;, optimized number of predictors selected; An integer: min(opt, integer) of predictors selected</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Flitering using MC glmnet
</p>


<h3>Value</h3>

<p>variables selected after glmnet filtering
</p>

<hr>
<h2 id='filter.unicart'>filter.unicart</h2><span id='topic+filter.unicart'></span>

<h3>Description</h3>

<p>rpart filtering
</p>


<h3>Usage</h3>

<pre><code class='language-R'>filter.unicart(
  data,
  type,
  yvar,
  xvars,
  censorvar,
  trtvar,
  trtref = 1,
  pre.filter = length(xvars)
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="filter.unicart_+3A_data">data</code></td>
<td>
<p>input data frame</p>
</td></tr>
<tr><td><code id="filter.unicart_+3A_type">type</code></td>
<td>
<p>&quot;c&quot; continuous; &quot;s&quot; survival; &quot;b&quot; binary</p>
</td></tr>
<tr><td><code id="filter.unicart_+3A_yvar">yvar</code></td>
<td>
<p>response variable name</p>
</td></tr>
<tr><td><code id="filter.unicart_+3A_xvars">xvars</code></td>
<td>
<p>covariates variable name</p>
</td></tr>
<tr><td><code id="filter.unicart_+3A_censorvar">censorvar</code></td>
<td>
<p>censoring variable name 1:event; 0: censor.</p>
</td></tr>
<tr><td><code id="filter.unicart_+3A_trtvar">trtvar</code></td>
<td>
<p>treatment variable name</p>
</td></tr>
<tr><td><code id="filter.unicart_+3A_trtref">trtref</code></td>
<td>
<p>code for treatment arm</p>
</td></tr>
<tr><td><code id="filter.unicart_+3A_pre.filter">pre.filter</code></td>
<td>
<p>NULL, no prefiltering conducted;&quot;opt&quot;, optimized number of predictors selected; An integer: min(opt, integer) of predictors selected</p>
</td></tr>
</table>


<h3>Details</h3>

<p>rpart filtering (only for prognostic case)
</p>


<h3>Value</h3>

<p>selected covariates after rpart filtering
</p>

<hr>
<h2 id='filter.univariate'>filter.univariate</h2><span id='topic+filter.univariate'></span>

<h3>Description</h3>

<p>Univariate Filtering
</p>


<h3>Usage</h3>

<pre><code class='language-R'>filter.univariate(
  data,
  type,
  yvar,
  xvars,
  censorvar,
  trtvar,
  trtref = 1,
  pre.filter = length(xvars)
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="filter.univariate_+3A_data">data</code></td>
<td>
<p>input data frame</p>
</td></tr>
<tr><td><code id="filter.univariate_+3A_type">type</code></td>
<td>
<p>&quot;c&quot; continuous; &quot;s&quot; survival; &quot;b&quot; binary</p>
</td></tr>
<tr><td><code id="filter.univariate_+3A_yvar">yvar</code></td>
<td>
<p>response variable name</p>
</td></tr>
<tr><td><code id="filter.univariate_+3A_xvars">xvars</code></td>
<td>
<p>covariates variable name</p>
</td></tr>
<tr><td><code id="filter.univariate_+3A_censorvar">censorvar</code></td>
<td>
<p>censoring variable name 1:event; 0: censor.</p>
</td></tr>
<tr><td><code id="filter.univariate_+3A_trtvar">trtvar</code></td>
<td>
<p>treatment variable name</p>
</td></tr>
<tr><td><code id="filter.univariate_+3A_trtref">trtref</code></td>
<td>
<p>code for treatment arm</p>
</td></tr>
<tr><td><code id="filter.univariate_+3A_pre.filter">pre.filter</code></td>
<td>
<p>NULL, no prefiltering conducted;&quot;opt&quot;, optimized number of predictors selected; An integer: min(opt, integer) of predictors selected</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Univariate Filtering
</p>


<h3>Value</h3>

<p>covariate names after univariate filtering.
</p>

<hr>
<h2 id='find.pred.stats'>find.pred.stats</h2><span id='topic+find.pred.stats'></span>

<h3>Description</h3>

<p>Find predictive stats from response and prediction vector
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find.pred.stats(data, yvar, trtvar, type, censorvar)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="find.pred.stats_+3A_data">data</code></td>
<td>
<p>data frame with response and prediction vector</p>
</td></tr>
<tr><td><code id="find.pred.stats_+3A_yvar">yvar</code></td>
<td>
<p>response variable name</p>
</td></tr>
<tr><td><code id="find.pred.stats_+3A_trtvar">trtvar</code></td>
<td>
<p>treatment variable name</p>
</td></tr>
<tr><td><code id="find.pred.stats_+3A_type">type</code></td>
<td>
<p>data type - &quot;c&quot; - continuous , &quot;b&quot; - binary, &quot;s&quot; - time to event  - default = &quot;c&quot;.</p>
</td></tr>
<tr><td><code id="find.pred.stats_+3A_censorvar">censorvar</code></td>
<td>
<p>censoring variable name</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Find predictive stats from response and prediction vector
</p>


<h3>Value</h3>

<p>a data frame of predictive statistics
</p>

<hr>
<h2 id='find.prog.stats'>find.prog.stats</h2><span id='topic+find.prog.stats'></span>

<h3>Description</h3>

<p>Find prognostic stats from response and prediction vector
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find.prog.stats(data, yvar, type, censorvar)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="find.prog.stats_+3A_data">data</code></td>
<td>
<p>data frame with response and prediction vector</p>
</td></tr>
<tr><td><code id="find.prog.stats_+3A_yvar">yvar</code></td>
<td>
<p>response variable name</p>
</td></tr>
<tr><td><code id="find.prog.stats_+3A_type">type</code></td>
<td>
<p>data type - &quot;c&quot; - continuous , &quot;b&quot; - binary, &quot;s&quot; - time to event  - default = &quot;c&quot;.</p>
</td></tr>
<tr><td><code id="find.prog.stats_+3A_censorvar">censorvar</code></td>
<td>
<p>censoring variable name</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Find prognostic stats from response and prediction vector
</p>


<h3>Value</h3>

<p>a data frame of predictive statistics
</p>

<hr>
<h2 id='get.var.counts.seq'>get.var.counts.seq</h2><span id='topic+get.var.counts.seq'></span>

<h3>Description</h3>

<p>Get signature variables from output of seqlr.batting.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get.var.counts.seq(sig.list, xvars)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get.var.counts.seq_+3A_sig.list">sig.list</code></td>
<td>
<p>signature list returned by seqlr.batting.</p>
</td></tr>
<tr><td><code id="get.var.counts.seq_+3A_xvars">xvars</code></td>
<td>
<p>predictor variable names</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the variables included in signature rules returned by seqlr.batting
</p>

<hr>
<h2 id='interaction.plot'>interaction.plot</h2><span id='topic+interaction.plot'></span>

<h3>Description</h3>

<p>A function for interaction plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>interaction.plot(
  data.eval,
  type,
  main = "Interaction Plot",
  trt.lab = c("Trt.", "Ctrl.")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="interaction.plot_+3A_data.eval">data.eval</code></td>
<td>
<p>output of evaluate.results or summarize.cv.stats</p>
</td></tr>
<tr><td><code id="interaction.plot_+3A_type">type</code></td>
<td>
<p>data type - &quot;c&quot; - continuous , &quot;b&quot; - binary, &quot;s&quot; - time to event  - default = &quot;c&quot;.</p>
</td></tr>
<tr><td><code id="interaction.plot_+3A_main">main</code></td>
<td>
<p>title of the plot</p>
</td></tr>
<tr><td><code id="interaction.plot_+3A_trt.lab">trt.lab</code></td>
<td>
<p>treatment label</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A function for interaction plot
</p>


<h3>Value</h3>

<p>A ggplot object.
</p>

<hr>
<h2 id='kfold.cv'>kfold.cv</h2><span id='topic+kfold.cv'></span>

<h3>Description</h3>

<p>Perform k-fold cross-validation of a model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>kfold.cv(
  data,
  model.Rfunc,
  model.Rfunc.args,
  predict.Rfunc,
  predict.Rfunc.args,
  k.fold = 5,
  cv.iter = 50,
  strata,
  max.iter = 500
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="kfold.cv_+3A_data">data</code></td>
<td>
<p>the CV data</p>
</td></tr>
<tr><td><code id="kfold.cv_+3A_model.rfunc">model.Rfunc</code></td>
<td>
<p>Name of the model function.</p>
</td></tr>
<tr><td><code id="kfold.cv_+3A_model.rfunc.args">model.Rfunc.args</code></td>
<td>
<p>List of input arguments to model.Rfunc.</p>
</td></tr>
<tr><td><code id="kfold.cv_+3A_predict.rfunc">predict.Rfunc</code></td>
<td>
<p>Name of the prediction function, which takes the prediction rule returned by model.Rfunc along with any input data (not necessarily the input data to kfold.cv) and returns a TRUE-FALSE predictionvector specifying the positive and negative classes for the data.</p>
</td></tr>
<tr><td><code id="kfold.cv_+3A_predict.rfunc.args">predict.Rfunc.args</code></td>
<td>
<p>List containing input arguments to predict.Rfunc, except for data and predict.rule.</p>
</td></tr>
<tr><td><code id="kfold.cv_+3A_k.fold">k.fold</code></td>
<td>
<p>Number of folds of the cross-validation.</p>
</td></tr>
<tr><td><code id="kfold.cv_+3A_cv.iter">cv.iter</code></td>
<td>
<p>Number of iterations of the cross-validation. If model.Rfunc returns an error at any of the k.fold calls, the current iteration is aborted. Iterations are repeated until cv.iter successful iterations have occurred.</p>
</td></tr>
<tr><td><code id="kfold.cv_+3A_strata">strata</code></td>
<td>
<p>Stratification vector of length the number of rows of data, usually corresponding to the vector of events.</p>
</td></tr>
<tr><td><code id="kfold.cv_+3A_max.iter">max.iter</code></td>
<td>
<p>Function stops after max.iter iterations even if cv.iter successful iterations have not occurred.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Perform k-fold cross-validation of a model.
</p>


<h3>Value</h3>

<p>List of length 2 with the following fields:
</p>
<p>cv.data - List of length cv.iter. Entry i contains the output of predict.Rfunc at the ith iteration.
</p>
<p>sig.list - list of length cv.iter * k.fold, whose entries are the prediction.rules (signatures) returned by model.Rfunc at each k.fold iteration.
</p>

<hr>
<h2 id='make.arg.list'>make.arg.list</h2><span id='topic+make.arg.list'></span>

<h3>Description</h3>

<p>Create a list of variables corresponding to the arguments of the function func.name and assigns values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make.arg.list(func.name)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="make.arg.list_+3A_func.name">func.name</code></td>
<td>
<p>function name</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Create a list of variables corresponding to the arguments of the function func.name and assigns values.
</p>


<h3>Value</h3>

<p>list of variables corresponding to the arguments of the function
</p>

<hr>
<h2 id='permute.rows'>permute.rows</h2><span id='topic+permute.rows'></span>

<h3>Description</h3>

<p>Randomly permute the rows of a matrix.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>permute.rows(A)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="permute.rows_+3A_a">A</code></td>
<td>
<p>a matrix for which its rows have to be permuted.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Randomly permute the rows of a matrix.
</p>


<h3>Value</h3>

<p>the matrix with permuted rows.
</p>

<hr>
<h2 id='permute.vector'>permute.vector</h2><span id='topic+permute.vector'></span>

<h3>Description</h3>

<p>Randomly permute the entries of a vector.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>permute.vector(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="permute.vector_+3A_x">x</code></td>
<td>
<p>the vector for which its entries have to be permuted</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Randomly permute the entries of a vector.
</p>


<h3>Value</h3>

<p>the permuted vector
</p>

<hr>
<h2 id='pred.seqlr'>pred.seqlr</h2><span id='topic+pred.seqlr'></span>

<h3>Description</h3>

<p>Assign positive and negative groups based on predict.rule, the output of seqlr.batting.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pred.seqlr(x, predict.rule)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pred.seqlr_+3A_x">x</code></td>
<td>
<p>input predictors matrix</p>
</td></tr>
<tr><td><code id="pred.seqlr_+3A_predict.rule">predict.rule</code></td>
<td>
<p>Prediction rule returned by seqlr.batting.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Prediction function for Sequential BATTing
</p>


<h3>Value</h3>

<p>a logical vector indicating the prediction for each row of data.
</p>

<hr>
<h2 id='pred.seqlr.cv'>pred.seqlr.cv</h2><span id='topic+pred.seqlr.cv'></span>

<h3>Description</h3>

<p>Assign positive and negative groups for cross-validation data given prediction rule in predict.rule.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pred.seqlr.cv(data, predict.rule, args)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pred.seqlr.cv_+3A_data">data</code></td>
<td>
<p>input data frame</p>
</td></tr>
<tr><td><code id="pred.seqlr.cv_+3A_predict.rule">predict.rule</code></td>
<td>
<p>Prediction rule returned by seqlr.batting.</p>
</td></tr>
<tr><td><code id="pred.seqlr.cv_+3A_args">args</code></td>
<td>
<p>Prediction rule arguments</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Prediction function for CV Sequential BATTing
</p>


<h3>Value</h3>

<p>a logical vector indicating the prediction for each row of data.
</p>

<hr>
<h2 id='query.data'>query.data</h2><span id='topic+query.data'></span>

<h3>Description</h3>

<p>internal function used in seqlr.batting
</p>


<h3>Usage</h3>

<pre><code class='language-R'>query.data(data, rule)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="query.data_+3A_data">data</code></td>
<td>
<p>the given dataset</p>
</td></tr>
<tr><td><code id="query.data_+3A_rule">rule</code></td>
<td>
<p>rule is a vector of the form [x-variable, direction, cutoff, p-value]</p>
</td></tr>
</table>


<h3>Details</h3>

<p>internal function used in seqlr.batting
</p>


<h3>Value</h3>

<p>a logical variable indicating whether rules are satisfied or not.
</p>

<hr>
<h2 id='resample'>resample</h2><span id='topic+resample'></span>

<h3>Description</h3>

<p>Creates a permutation of given size.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>resample(x, size, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="resample_+3A_x">x</code></td>
<td>
<p>the x vector.</p>
</td></tr>
<tr><td><code id="resample_+3A_size">size</code></td>
<td>
<p>resampling size.</p>
</td></tr>
<tr><td><code id="resample_+3A_...">...</code></td>
<td>
<p>optional argument.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Creates a permutation of given size.
</p>


<h3>Value</h3>

<p>A resample of x is returned.
</p>

<hr>
<h2 id='seqlr.batting'>seqlr.batting</h2><span id='topic+seqlr.batting'></span>

<h3>Description</h3>

<p>Perform sequential BATTing method.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>seqlr.batting(
  y,
  x,
  censor.vec = NULL,
  trt.vec = NULL,
  trtref = NULL,
  type = "c",
  n.boot = 50,
  des.res = "larger",
  class.wt = c(1, 1),
  min.sigp.prcnt = 0.2,
  pre.filter = NULL,
  filter.method = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="seqlr.batting_+3A_y">y</code></td>
<td>
<p>data frame containing the response.</p>
</td></tr>
<tr><td><code id="seqlr.batting_+3A_x">x</code></td>
<td>
<p>data frame containing the predictors.</p>
</td></tr>
<tr><td><code id="seqlr.batting_+3A_censor.vec">censor.vec</code></td>
<td>
<p>vector containing the censor status (only for TTE data , censor=0,event=1)  - default = NULL.</p>
</td></tr>
<tr><td><code id="seqlr.batting_+3A_trt.vec">trt.vec</code></td>
<td>
<p>vector containing values of treatment variable ( for predictive signature). Set trt.vec to NULL for prognostic signature.</p>
</td></tr>
<tr><td><code id="seqlr.batting_+3A_trtref">trtref</code></td>
<td>
<p>code for treatment arm.</p>
</td></tr>
<tr><td><code id="seqlr.batting_+3A_type">type</code></td>
<td>
<p>data type. &quot;c&quot; - continuous , &quot;b&quot; - binary, &quot;s&quot; - time to event : default = &quot;c&quot;.</p>
</td></tr>
<tr><td><code id="seqlr.batting_+3A_n.boot">n.boot</code></td>
<td>
<p>number of bootstraps in BATTing step.</p>
</td></tr>
<tr><td><code id="seqlr.batting_+3A_des.res">des.res</code></td>
<td>
<p>the desired response. &quot;larger&quot;: prefer larger response. &quot;smaller&quot;: prefer smaller response</p>
</td></tr>
<tr><td><code id="seqlr.batting_+3A_class.wt">class.wt</code></td>
<td>
<p>vector of length 2 used to weight the accuracy score , useful when there is class imbalance in binary data defaults to c(1,1)</p>
</td></tr>
<tr><td><code id="seqlr.batting_+3A_min.sigp.prcnt">min.sigp.prcnt</code></td>
<td>
<p>desired proportion of signature positive group size for a given cutoff.</p>
</td></tr>
<tr><td><code id="seqlr.batting_+3A_pre.filter">pre.filter</code></td>
<td>
<p>NULL, no prefiltering conducted;&quot;opt&quot;, optimized number of predictors selected; An integer: min(opt, integer) of predictors selected</p>
</td></tr>
<tr><td><code id="seqlr.batting_+3A_filter.method">filter.method</code></td>
<td>
<p>NULL, no prefiltering, &quot;univariate&quot;, univaraite filtering; &quot;glmnet&quot;, glmnet filtering, &quot;unicart&quot;: univariate rpart filtering for prognostic case.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Perform sequential BATTing method.
</p>


<h3>Value</h3>

<p>it returns a list of signature rules consisting of variable names, directions, thresholds and the loglikelihood at each step the  signatures are applied.
</p>

<hr>
<h2 id='seqlr.batting.wrapper'>seqlr.batting.wrapper</h2><span id='topic+seqlr.batting.wrapper'></span>

<h3>Description</h3>

<p>Wrapper function for seqlr.batting, to be passed to kfold.cv.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>seqlr.batting.wrapper(data, args)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="seqlr.batting.wrapper_+3A_data">data</code></td>
<td>
<p>data frame equal to cbind(y, x, trt, censor), where y and x are inputs to seqlr.batting.</p>
</td></tr>
<tr><td><code id="seqlr.batting.wrapper_+3A_args">args</code></td>
<td>
<p>list containing all other input arguments to seq.batting except for x and y. Also contains xvars=names(x) and yvar=names(y).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Wrapper function for seqlr.batting, to be passed to kfold.cv.
</p>


<h3>Value</h3>

<p>prediction rule returned by seqlr.batting.
</p>

<hr>
<h2 id='seqlr.find.cutoff.pred'>seqlr.find.cutoff.pred</h2><span id='topic+seqlr.find.cutoff.pred'></span>

<h3>Description</h3>

<p>Find cutoff for predictive case.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>seqlr.find.cutoff.pred(
  data,
  yvar,
  censorvar,
  xvar,
  trtvar,
  type,
  class.wt,
  dir,
  nsubj,
  min.sigp.prcnt
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="seqlr.find.cutoff.pred_+3A_data">data</code></td>
<td>
<p>input data frame.</p>
</td></tr>
<tr><td><code id="seqlr.find.cutoff.pred_+3A_yvar">yvar</code></td>
<td>
<p>response variable name.</p>
</td></tr>
<tr><td><code id="seqlr.find.cutoff.pred_+3A_censorvar">censorvar</code></td>
<td>
<p>censoring variable name.</p>
</td></tr>
<tr><td><code id="seqlr.find.cutoff.pred_+3A_xvar">xvar</code></td>
<td>
<p>name of predictor for which cutpoint needs to be obtained.</p>
</td></tr>
<tr><td><code id="seqlr.find.cutoff.pred_+3A_trtvar">trtvar</code></td>
<td>
<p>treatment variable name.</p>
</td></tr>
<tr><td><code id="seqlr.find.cutoff.pred_+3A_type">type</code></td>
<td>
<p>&quot;c&quot; continuous; &quot;s&quot; survival; &quot;b&quot; binary.</p>
</td></tr>
<tr><td><code id="seqlr.find.cutoff.pred_+3A_class.wt">class.wt</code></td>
<td>
<p>vector of length 2 used to weight the accuracy score , useful when there is class imbalance in binary data defaults to c(1,1).</p>
</td></tr>
<tr><td><code id="seqlr.find.cutoff.pred_+3A_dir">dir</code></td>
<td>
<p>direction of cut.</p>
</td></tr>
<tr><td><code id="seqlr.find.cutoff.pred_+3A_nsubj">nsubj</code></td>
<td>
<p>number of subjects.</p>
</td></tr>
<tr><td><code id="seqlr.find.cutoff.pred_+3A_min.sigp.prcnt">min.sigp.prcnt</code></td>
<td>
<p>desired proportion of signature positive group size for a given cutoff.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Find cutoff for predictive case.
</p>


<h3>Value</h3>

<p>the optimal score (p-value of subgroup*treatment interaction) for a predictor variable.
</p>

<hr>
<h2 id='seqlr.find.cutoff.prog'>seqlr.find.cutoff.prog</h2><span id='topic+seqlr.find.cutoff.prog'></span>

<h3>Description</h3>

<p>Find cutoff for prognostic case.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>seqlr.find.cutoff.prog(
  data,
  yvar,
  censorvar,
  xvar,
  type,
  class.wt,
  dir,
  nsubj,
  min.sigp.prcnt
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="seqlr.find.cutoff.prog_+3A_data">data</code></td>
<td>
<p>input data frame.</p>
</td></tr>
<tr><td><code id="seqlr.find.cutoff.prog_+3A_yvar">yvar</code></td>
<td>
<p>response variable name.</p>
</td></tr>
<tr><td><code id="seqlr.find.cutoff.prog_+3A_censorvar">censorvar</code></td>
<td>
<p>censoring variable name.</p>
</td></tr>
<tr><td><code id="seqlr.find.cutoff.prog_+3A_xvar">xvar</code></td>
<td>
<p>name of predictor for which cutpoint needs to be obtained.</p>
</td></tr>
<tr><td><code id="seqlr.find.cutoff.prog_+3A_type">type</code></td>
<td>
<p>&quot;c&quot; continuous; &quot;s&quot; survival; &quot;b&quot; binary.</p>
</td></tr>
<tr><td><code id="seqlr.find.cutoff.prog_+3A_class.wt">class.wt</code></td>
<td>
<p>vector of length 2 used to weight the accuracy score , useful when there is class imbalance in binary data defaults to c(1,1).</p>
</td></tr>
<tr><td><code id="seqlr.find.cutoff.prog_+3A_dir">dir</code></td>
<td>
<p>direction of cut.</p>
</td></tr>
<tr><td><code id="seqlr.find.cutoff.prog_+3A_nsubj">nsubj</code></td>
<td>
<p>number of subjects.</p>
</td></tr>
<tr><td><code id="seqlr.find.cutoff.prog_+3A_min.sigp.prcnt">min.sigp.prcnt</code></td>
<td>
<p>desired proportion of signature positive group size for a given cutoff.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Find cutoff for prognostic case.
</p>


<h3>Value</h3>

<p>the optimal score (p-value of main effect) for a predictor variable.
</p>

<hr>
<h2 id='seqlr.score.pred'>seqlr.score.pred</h2><span id='topic+seqlr.score.pred'></span>

<h3>Description</h3>

<p>Compute score of cutoff for predictive case
</p>


<h3>Usage</h3>

<pre><code class='language-R'>seqlr.score.pred(
  data,
  yvar,
  censorvar,
  xvar,
  trtvar,
  cutoff,
  type,
  class.wt,
  dir,
  nsubj,
  min.sigp.prcnt
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="seqlr.score.pred_+3A_data">data</code></td>
<td>
<p>input data frame.</p>
</td></tr>
<tr><td><code id="seqlr.score.pred_+3A_yvar">yvar</code></td>
<td>
<p>response variable name.</p>
</td></tr>
<tr><td><code id="seqlr.score.pred_+3A_censorvar">censorvar</code></td>
<td>
<p>censoring variable name.</p>
</td></tr>
<tr><td><code id="seqlr.score.pred_+3A_xvar">xvar</code></td>
<td>
<p>name of predictor for which cutpoint needs to be obtained.</p>
</td></tr>
<tr><td><code id="seqlr.score.pred_+3A_trtvar">trtvar</code></td>
<td>
<p>treatment variable name.</p>
</td></tr>
<tr><td><code id="seqlr.score.pred_+3A_cutoff">cutoff</code></td>
<td>
<p>a specific cutpoint for which the score needs to be computed.</p>
</td></tr>
<tr><td><code id="seqlr.score.pred_+3A_type">type</code></td>
<td>
<p>&quot;c&quot; continuous; &quot;s&quot; survival; &quot;b&quot; binary.</p>
</td></tr>
<tr><td><code id="seqlr.score.pred_+3A_class.wt">class.wt</code></td>
<td>
<p>vector of length 2 used to weight the accuracy score , useful when there is class imbalance in binary data defaults to c(1,1).</p>
</td></tr>
<tr><td><code id="seqlr.score.pred_+3A_dir">dir</code></td>
<td>
<p>direction of cut.</p>
</td></tr>
<tr><td><code id="seqlr.score.pred_+3A_nsubj">nsubj</code></td>
<td>
<p>number of subjects.</p>
</td></tr>
<tr><td><code id="seqlr.score.pred_+3A_min.sigp.prcnt">min.sigp.prcnt</code></td>
<td>
<p>desired proportion of signature positive group size for a given cutoff.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Compute score of cutoff for predictive case
</p>


<h3>Value</h3>

<p>score (p-value of treatment*subgroup interaction) for the given cutoff.
</p>

<hr>
<h2 id='seqlr.score.prog'>seqlr.score.prog</h2><span id='topic+seqlr.score.prog'></span>

<h3>Description</h3>

<p>Compute score of cutoff for prognostic case
</p>


<h3>Usage</h3>

<pre><code class='language-R'>seqlr.score.prog(
  data,
  yvar,
  censorvar,
  xvar,
  cutoff,
  type,
  class.wt,
  dir,
  nsubj,
  min.sigp.prcnt
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="seqlr.score.prog_+3A_data">data</code></td>
<td>
<p>input data frame.</p>
</td></tr>
<tr><td><code id="seqlr.score.prog_+3A_yvar">yvar</code></td>
<td>
<p>response variable name.</p>
</td></tr>
<tr><td><code id="seqlr.score.prog_+3A_censorvar">censorvar</code></td>
<td>
<p>censoring variable name.</p>
</td></tr>
<tr><td><code id="seqlr.score.prog_+3A_xvar">xvar</code></td>
<td>
<p>name of predictor for which cutpoint needs to be obtained.</p>
</td></tr>
<tr><td><code id="seqlr.score.prog_+3A_cutoff">cutoff</code></td>
<td>
<p>a specific cutpoint for which the score needs to be computed.</p>
</td></tr>
<tr><td><code id="seqlr.score.prog_+3A_type">type</code></td>
<td>
<p>&quot;c&quot; continuous; &quot;s&quot; survival; &quot;b&quot; binary.</p>
</td></tr>
<tr><td><code id="seqlr.score.prog_+3A_class.wt">class.wt</code></td>
<td>
<p>vector of length 2 used to weight the accuracy score , useful when there is class imbalance in binary data defaults to c(1,1).</p>
</td></tr>
<tr><td><code id="seqlr.score.prog_+3A_dir">dir</code></td>
<td>
<p>direction of cut.</p>
</td></tr>
<tr><td><code id="seqlr.score.prog_+3A_nsubj">nsubj</code></td>
<td>
<p>number of subjects.</p>
</td></tr>
<tr><td><code id="seqlr.score.prog_+3A_min.sigp.prcnt">min.sigp.prcnt</code></td>
<td>
<p>desired proportion of signature positive group size for a given cutoff.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Compute score of cutoff for prognostic case
</p>


<h3>Value</h3>

<p>score (p-value of main effect) for the given cutoff.
</p>

<hr>
<h2 id='SubgrpID'>SubgrpID</h2><span id='topic+SubgrpID'></span>

<h3>Description</h3>

<p>Exploratory Subgroup Identification main function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SubgrpID(
  data.train,
  data.test = NULL,
  yvar,
  censorvar = NULL,
  trtvar = NULL,
  trtref = NULL,
  xvars,
  type = "c",
  n.boot = 25,
  des.res = "larger",
  min.sigp.prcnt = 0.2,
  pre.filter = NULL,
  filter.method = NULL,
  k.fold = 5,
  cv.iter = 20,
  max.iter = 500,
  mc.iter = 20,
  method = c("Seq.BT"),
  do.cv = FALSE,
  out.file = NULL,
  file.path = "",
  plots = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="SubgrpID_+3A_data.train">data.train</code></td>
<td>
<p>data frame for training dataset</p>
</td></tr>
<tr><td><code id="SubgrpID_+3A_data.test">data.test</code></td>
<td>
<p>data frame for testing dataset, default = NULL</p>
</td></tr>
<tr><td><code id="SubgrpID_+3A_yvar">yvar</code></td>
<td>
<p>variable (column) name for response variable</p>
</td></tr>
<tr><td><code id="SubgrpID_+3A_censorvar">censorvar</code></td>
<td>
<p>variable name for censoring (1: event; 0: censor), default = NULL</p>
</td></tr>
<tr><td><code id="SubgrpID_+3A_trtvar">trtvar</code></td>
<td>
<p>variable name for treatment variable, default = NULL (prognostic signature)</p>
</td></tr>
<tr><td><code id="SubgrpID_+3A_trtref">trtref</code></td>
<td>
<p>coding (in the column of trtvar) for treatment arm</p>
</td></tr>
<tr><td><code id="SubgrpID_+3A_xvars">xvars</code></td>
<td>
<p>vector of variable names for predictors (covariates)</p>
</td></tr>
<tr><td><code id="SubgrpID_+3A_type">type</code></td>
<td>
<p>type of response variable: &quot;c&quot; continuous; &quot;s&quot; survival; &quot;b&quot; binary</p>
</td></tr>
<tr><td><code id="SubgrpID_+3A_n.boot">n.boot</code></td>
<td>
<p>number of bootstrap for batting procedure, or the variable selection procedure for PRIM; for PRIM, when n.boot=0, bootstrapping for variable selection is not conducted</p>
</td></tr>
<tr><td><code id="SubgrpID_+3A_des.res">des.res</code></td>
<td>
<p>the desired response. &quot;larger&quot;: prefer larger response. &quot;smaller&quot;: prefer smaller response</p>
</td></tr>
<tr><td><code id="SubgrpID_+3A_min.sigp.prcnt">min.sigp.prcnt</code></td>
<td>
<p>desired proportion of signature positive group size for a given cutoff</p>
</td></tr>
<tr><td><code id="SubgrpID_+3A_pre.filter">pre.filter</code></td>
<td>
<p>NULL (default), no prefiltering conducted;&quot;opt&quot;, optimized number of predictors selected; An integer: min(opt, integer) of predictors selected</p>
</td></tr>
<tr><td><code id="SubgrpID_+3A_filter.method">filter.method</code></td>
<td>
<p>NULL (default), no prefiltering; &quot;univariate&quot;, univaraite filtering; &quot;glmnet&quot;, glmnet filtering; &quot;unicart&quot;, univariate rpart filtering for prognostic case</p>
</td></tr>
<tr><td><code id="SubgrpID_+3A_k.fold">k.fold</code></td>
<td>
<p>cross-validation folds</p>
</td></tr>
<tr><td><code id="SubgrpID_+3A_cv.iter">cv.iter</code></td>
<td>
<p>Algotithm terminates after cv.iter successful iterations of cross-validation, or after max.iter total iterations, whichever occurs first</p>
</td></tr>
<tr><td><code id="SubgrpID_+3A_max.iter">max.iter</code></td>
<td>
<p>total iterations, whichever occurs first</p>
</td></tr>
<tr><td><code id="SubgrpID_+3A_mc.iter">mc.iter</code></td>
<td>
<p>number of iterations for the Monte Carlo procedure to get a stable &quot;best number of predictors&quot;</p>
</td></tr>
<tr><td><code id="SubgrpID_+3A_method">method</code></td>
<td>
<p>current version only supports sequential-BATTing (&quot;Seq.BT&quot;) for subgroup identification</p>
</td></tr>
<tr><td><code id="SubgrpID_+3A_do.cv">do.cv</code></td>
<td>
<p>whether to perform cross validation for performance evaluation. TRUE or FALSE (Default)</p>
</td></tr>
<tr><td><code id="SubgrpID_+3A_out.file">out.file</code></td>
<td>
<p>Name of output result files excluding method name. If NULL no output file would be saved</p>
</td></tr>
<tr><td><code id="SubgrpID_+3A_file.path">file.path</code></td>
<td>
<p>default: current working directory. When specifying a dir, use &quot;/&quot; at the end. e.g. &quot;TEMP/&quot;</p>
</td></tr>
<tr><td><code id="SubgrpID_+3A_plots">plots</code></td>
<td>
<p>default: FALSE. whether to save plots</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function for SubgrpID
</p>


<h3>Value</h3>

<p>A list with SubgrpID output
</p>

<dl>
<dt>res</dt><dd><p>list of all results from the algorithm</p>
</dd>
<dt>train.stat</dt><dd><p>list of subgroup statistics on training dataset</p>
</dd>
<dt>test.stat</dt><dd><p>list of subgroup statistics on testing dataset</p>
</dd>
<dt>cv.res</dt><dd><p>list of all results from cross-validation on training dataset</p>
</dd>
<dt>train.plot</dt><dd><p>interaction plot for training dataset</p>
</dd>
<dt>test.plot</dt><dd><p>interaction plot for testing dataset</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'># no run
n &lt;- 40
k &lt;- 5
prevalence &lt;- sqrt(0.5)
rho&lt;-0.2
sig2 &lt;- 2
rhos.bt.real &lt;- c(0, rep(0.1, (k-3)))*sig2
y.sig2 &lt;- 1
yvar="y.binary"
xvars=paste("x", c(1:k), sep="")
trtvar="treatment"
prog.eff &lt;- 0.5
effect.size &lt;- 1
a.constent &lt;- effect.size/(2*(1-prevalence))
set.seed(888)
ObsData &lt;- data.gen(n=n, k=k, prevalence=prevalence, prog.eff=prog.eff,
                    sig2=sig2, y.sig2=y.sig2, rho=rho,
                    rhos.bt.real=rhos.bt.real, a.constent=a.constent)
TestData &lt;- data.gen(n=n, k=k, prevalence=prevalence, prog.eff=prog.eff,
                     sig2=sig2, y.sig2=y.sig2, rho=rho,
                     rhos.bt.real=rhos.bt.real, a.constent=a.constent)
subgrp &lt;- SubgrpID(data.train=ObsData$data,
                   data.test=TestData$data,
                   yvar=yvar,
                   trtvar=trtvar,
                   trtref="1",
                   xvars=xvars,
                   type="b",
                   n.boot=5, # suggest n.boot &gt; 25, depends on sample size
                   des.res = "larger",
 #                 do.cv = TRUE,
 #                 cv.iter = 2, # uncomment to run CV
                   method="Seq.BT")
subgrp$res
subgrp$train.stat
subgrp$test.stat
subgrp$train.plot
subgrp$test.plot
#subgrp$cv.res$stats.summary #CV estimates of all results
</code></pre>

<hr>
<h2 id='summarize.cv.stats'>summarize.cv.stats</h2><span id='topic+summarize.cv.stats'></span>

<h3>Description</h3>

<p>Calculate summary statistics from raw statistics returned by evaluate.cv.results.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>summarize.cv.stats(raw.stats, trtvar, type)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="summarize.cv.stats_+3A_raw.stats">raw.stats</code></td>
<td>
<p>raw statistics from evaluate.cv.results</p>
</td></tr>
<tr><td><code id="summarize.cv.stats_+3A_trtvar">trtvar</code></td>
<td>
<p>treatment variable name</p>
</td></tr>
<tr><td><code id="summarize.cv.stats_+3A_type">type</code></td>
<td>
<p>data type - &quot;c&quot; - continuous , &quot;b&quot; - binary, &quot;s&quot; - time to event  - default = &quot;c&quot;</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Calculate summary statistics from raw statistics returned by evaluate.cv.results.
</p>


<h3>Value</h3>

<p>a list containing p-values, summary statistics and group statistics.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

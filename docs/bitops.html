<!DOCTYPE html><html><head><title>Help for package bitops</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {bitops}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#bitAnd'><p>Bitwise And, Or and Xor Operations</p></a></li>
<li><a href='#bitFlip'><p>Binary Flip (Not) Operator</p></a></li>
<li><a href='#bitShiftL'><p>Bitwise Shift Operator (to the Left or Right)</p></a></li>
<li><a href='#cksum'><p>Compute Check Sum</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Version:</td>
<td>1.0-7</td>
</tr>
<tr>
<td>Date:</td>
<td>2021-04-13</td>
</tr>
<tr>
<td>Author:</td>
<td>S original by Steve Dutky &lt;sdutky@terpalum.umd.edu&gt; initial R
        port and extensions by Martin Maechler; revised and modified
        by Steve Dutky</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Martin Maechler &lt;maechler@stat.math.ethz.ch&gt;</td>
</tr>
<tr>
<td>Title:</td>
<td>Bitwise Operations</td>
</tr>
<tr>
<td>Description:</td>
<td>Functions for bitwise operations on integer vectors.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/mmaechler/R-bitops">https://github.com/mmaechler/R-bitops</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/mmaechler/R-bitops/issues">https://github.com/mmaechler/R-bitops/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-04-13 20:50:22 UTC; maechler</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-04-24 11:40:08 UTC</td>
</tr>
</table>
<hr>
<h2 id='bitAnd'>Bitwise And, Or and Xor Operations</h2><span id='topic+bitAnd'></span><span id='topic+bitOr'></span><span id='topic+bitXor'></span><span id='topic++25+26+25'></span><span id='topic++25+7C+25'></span><span id='topic++25+5E+25'></span>

<h3>Description</h3>

<p>Bitwise operations, &lsquo;and&rsquo; (<code><a href="base.html#topic++26">&amp;</a></code>),
&lsquo;or&rsquo; (<code><a href="base.html#topic++7C">|</a></code>), and &lsquo;Xor&rsquo; (<code><a href="base.html#topic+xor">xor</a></code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bitAnd(a, b)
a %&amp;% b
bitOr (a, b)
a %|% b
bitXor(a, b)
a %^% b
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bitAnd_+3A_a">a</code>, <code id="bitAnd_+3A_b">b</code></td>
<td>
<p>numeric vectors of compatible length, each treated as 32 bit &ldquo;strings&rdquo;.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The bitwise operations are applied to the arguments cast as 32 bit
(unsigned long) integers.  NA is returned wherever the magnitude of the
arguments is not less than <code class="reqn">2^31</code>, or, where either of the arguments is
not finite.
</p>
<p>For bitwise &lsquo;not&rsquo; (<code><a href="base.html#topic++21">!</a></code> in <span class="rlang"><b>R</b></span>), use <code><a href="#topic+bitFlip">bitFlip</a>()</code>.
</p>


<h3>Value</h3>

<p>non-negative integer valued numeric vector of maximum length of <code>a</code> or <code>b</code>.
</p>


<h3>Author(s)</h3>

<p>Steve Dutky; idea for operators: Dan L Robertson</p>


<h3>See Also</h3>

<p><code><a href="#topic+bitFlip">bitFlip</a></code>, <code><a href="#topic+bitShiftL">bitShiftL</a></code>; further,
<code><a href="#topic+cksum">cksum</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>bitAnd(15,7) == 7 ;  identical(15 %&amp;% 7, bitAnd(15, 7))
bitOr(15,7) == 15 ;  identical(15 %|% 7, bitOr (15, 7))
bitXor(15,7) == 8 ;  identical(15 %^% 7, bitXor(15,7))
bitOr(-1,0) == 4294967295 ; identical(-1 %|% 0, bitOr(-1,0))
</code></pre>

<hr>
<h2 id='bitFlip'>Binary Flip (Not) Operator</h2><span id='topic+bitFlip'></span>

<h3>Description</h3>

<p>The binary flip (&lsquo;not&rsquo;, <span class="rlang"><b>R</b></span>'s <code><a href="base.html#topic++21">!</a></code>) operator, <code>bitFlip(a, w)</code>, &ldquo;flips every
bit&rdquo; of <code>a</code> up to the <code>w</code>-th bit.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bitFlip(a, bitWidth = 32)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bitFlip_+3A_a">a</code></td>
<td>
<p>numeric vector.</p>
</td></tr>
<tr><td><code id="bitFlip_+3A_bitwidth">bitWidth</code></td>
<td>
<p>scalar integer between 0 and 32.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>(&ldquo;binary&rdquo;) numeric vector of the same length as <code>a</code> masked with
(2^<code>bitWidth</code>)-1.  <code><a href="base.html#topic+NA">NA</a></code> is returned for any value of
<code>a</code> that is not finite or whose magnitude is greater or equal to
<code class="reqn">2^{32}</code>.
</p>


<h3>Note</h3>

<p><code>bitFlip(a, w)</code> is an &ldquo;involution&rdquo;, i.e. it is its own
inverse &ndash; <em>when</em> <code>a</code> is in <code class="reqn">\{0, 1, .., 2^{32}-1\}</code>.
Notably, negative values <code>a</code> are equivalent to their values in the
above range, see also <code>bitUnique()</code> in the &lsquo;Examples&rsquo;.
</p>


<h3>Author(s)</h3>

<p>Steve Dutky</p>


<h3>See Also</h3>

<p><code><a href="#topic+bitShiftL">bitShiftL</a></code>, <code><a href="#topic+bitXor">bitXor</a></code>, etc.</p>


<h3>Examples</h3>

<pre><code class='language-R'>bitFlip(0:5)
##
bitUnique &lt;- function(x) bitFlip(bitFlip(x)) # "identity" when x in  0:(2^32-1)
bitUnique(  0:16 ) # identical (well, double precision)
bitUnique(-(1:16)) # 4294967295 ...
stopifnot(
  identical(bitUnique(-(1:16)), 2^32 -(1:16)),
  bitFlip(-1) == 0,
  bitFlip(0 ) == 2^32 - 1,
  bitFlip(0, bitWidth=8) == 255
)
</code></pre>

<hr>
<h2 id='bitShiftL'>Bitwise Shift Operator (to the Left or Right)</h2><span id='topic+bitShiftL'></span><span id='topic+bitShiftR'></span><span id='topic++25+3C+3C+25'></span><span id='topic++25+3E+3E+25'></span>

<h3>Description</h3>

<p>These functions shift integers bitwise to the left or to the right,
returning <em>unsigned int</em>egers, i.e., values in
<code class="reqn">{0, 1, \ldots, 2^{32}-1}</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bitShiftL(a, b)
a %&lt;&lt;% b
bitShiftR(a, b)
a %&gt;&gt;% b
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bitShiftL_+3A_a">a</code></td>
<td>
<p>numeric vector (integer valued), to be shifted.</p>
</td></tr>
<tr><td><code id="bitShiftL_+3A_b">b</code></td>
<td>
<p>integer (valued) vector.  Internally, only <code>b %% 32</code>
is used, e.g, <code>b = 32</code> is equivalent to <code>b = 0</code>, i.e.,
<em>no</em> shift.  This corresponds to <em>cyclic</em> rotation (to the
left or right).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>non-negative integer valued numeric vector of maximum length of
<code>a</code> or <code>b</code> containing
the value of <code>a</code> shifted to the left or right by <code>b</code> bits.
NA is returned wherever the value of <code>a</code> or <code>b</code> is not finite,
or, wherever the magnitude of <code>a</code> is greater than or equal to
<code class="reqn">2^{32}</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bitFlip">bitFlip</a></code>, <code><a href="#topic+bitXor">bitXor</a></code>, etc.</p>


<h3>Examples</h3>

<pre><code class='language-R'> bitShiftL(0:4, 1) # 0 2 4 6 8
 bitShiftL(0:3, 2) # 0 4 8 12

 stopifnot(exprs = {
     identical(bitShiftL(0:4, 1), 0:4 %&lt;&lt;% 1)
     identical(bitShiftR(0:3, 2), 0:3 %&gt;&gt;% 2)
})

 bitShiftR(0:7, 1) # 0 0  1 1  2 2  3 3 &lt;==&gt; N %/% 2
 bitShiftR(0:7, 2) # 0 0 0 0  1 1 1 1   &lt;==&gt; N %/% 4
 ## all outputs are "unsigned integer" :
 stopifnot( bitShiftL(-1, 0) == 2^32 - 1   ,
            bitShiftL(-7, 0) == 4294967289 ,
            bitShiftL(-7, 0) == bitShiftR(-7, 0))

 bitShiftR(-1,1) == 2147483647
 bitShiftL(2147483647,1) == 4294967294 # &lt;==&gt; * 2
 bitShiftL( -1,       1) == 4294967294

 bitShiftL(47, 32) # is 47

## 5 Christmas trees  ( bitShiftL *rotates* to the left)
t(outer(1:5, 0:40, bitShiftL))

N &lt;- as.numeric( rpois(1000, 100) )
stopifnot(identical(bitShiftL(N,0),   N),
          identical(bitShiftL(N,1), 2*N),
          identical(bitShiftL(N,2), 4*N),
          ## right shift:
          identical(bitShiftR(N,2), N %/% 4),
          identical(bitShiftR(N,4), N %/% 16))
</code></pre>

<hr>
<h2 id='cksum'>Compute Check Sum</h2><span id='topic+cksum'></span>

<h3>Description</h3>

<p>Return a cyclic redundancy checksum for each element in the argument.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cksum(a)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cksum_+3A_a">a</code></td>
<td>
<p>coerced to character vector</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code><a href="base.html#topic+NA">NA</a></code>'s appearing in the argument are returned as <code>NA</code>'s.
</p>
<p>The default calculation is identical to that given in pseudo-code in the
ACM article (in the References).
</p>


<h3>Value</h3>

<p>numeric vector of the same length as <code>a</code>.
</p>


<h3>Author(s)</h3>

<p>Steve Dutky <a href="mailto:sdutky@terpalum.umd.edu">sdutky@terpalum.umd.edu</a>
</p>


<h3>References</h3>

<p>Fashioned from <code>cksum(1)</code> UNIX command line utility, i.e.,
<code>man cksum</code>.
</p>
<p>Dilip V. Sarwate (1988)
Computation of Cyclic Redundancy Checks Via Table Lookup,
<em>Communications of the ACM</em> <b>31</b>, 8, 1008&ndash;1013.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bitShiftL">bitShiftL</a></code>, <code><a href="#topic+bitAnd">bitAnd</a></code>, etc.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>   b &lt;- "I would rather have a bottle in front of me than frontal lobotomy\n"
 stopifnot(cksum(b) == 1342168430)
 (bv &lt;- strsplit(b, " ")[[1]])
 cksum(bv) # now a vector of length 13
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

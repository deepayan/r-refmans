<!DOCTYPE html><html><head><title>Help for package condvis2</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {condvis2}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#clusPath'><p>Constructs  tours of data space based on centers of clusters</p></a></li>
<li><a href='#conditionPlot'><p>Plots a conditionPlot.</p></a></li>
<li><a href='#condvis'><p>Creates Condvis Shiny app</p></a></li>
<li><a href='#CVpredict'><p>A predict generic function for condvis</p></a></li>
<li><a href='#fitPath'><p>Constructs tours of data space based on fits.</p></a></li>
<li><a href='#medoid'><p>Finds medoid of data</p></a></li>
<li><a href='#pathInterpolate'><p>Interpolation</p></a></li>
<li><a href='#plotTourDiagnostics'><p>Plots diagnostics for the tour supplied</p></a></li>
<li><a href='#sectionPlot'><p>Plots the main condvis display</p></a></li>
<li><a href='#similarityweight'><p>Calculate the similarity weight for a set of observations</p></a></li>
<li><a href='#tours'><p>Constructs a various tours of data space</p></a></li>
<li><a href='#weightcolor'><p>Fade colours according to a weight vector</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Interactive Conditional Visualization for Supervised and
Unsupervised Models in Shiny</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.2</td>
</tr>
<tr>
<td>Description:</td>
<td>Constructs a shiny app function with interactive displays for conditional visualization of models, 
     data and density functions. An extended version of package 'condvis'. 
    Catherine B. Hurley, Mark O'Connell,Katarina Domijan (2021) &lt;<a href="https://doi.org/10.1080%2F10618600.2021.1983439">doi:10.1080/10618600.2021.1983439</a>&gt;. </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2.0)]</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Imports:</td>
<td>shiny, RColorBrewer, ggplot2,scales, cluster,
DendSer,methods,plyr, colorspace, gower</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, hdrcde, scagnostics, keras, kernlab,
mclust, MASS, ks, mgcv, randomForest, parsnip, mlr, C50,
bartMachine, BART, caret, e1071, gbm, glmnet, glmnetUtils,
mlr3, nnet, rpart, tree, testthat</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/cbhurley/condvis2/issues">https://github.com/cbhurley/condvis2/issues</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://cbhurley.github.io/condvis2/">https://cbhurley.github.io/condvis2/</a>,
<a href="https://github.com/cbhurley/condvis2">https://github.com/cbhurley/condvis2</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-09-14 13:08:20 UTC; catherine</td>
</tr>
<tr>
<td>Author:</td>
<td>Catherine Hurley [aut, cre],
  Mark OConnell [aut],
  Katarina Domijan [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Catherine Hurley &lt;catherine.hurley@mu.ie&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-09-14 13:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='clusPath'>Constructs  tours of data space based on centers of clusters</h2><span id='topic+clusPath'></span><span id='topic+kmeansPath'></span><span id='topic+pamPath'></span><span id='topic+claraPath'></span><span id='topic+medoidPath'></span><span id='topic+centroidPath'></span>

<h3>Description</h3>

<p>Constructs  tours of data space based on centers of clusters
</p>


<h3>Usage</h3>

<pre><code class='language-R'>kmeansPath(data, length = 10, reorder = TRUE, conditionvars = NULL, ...)

pamPath(
  data,
  length = 10,
  reorder = TRUE,
  conditionvars = NULL,
  maxn = 4000,
  ...
)

claraPath(data, length = 10, reorder = TRUE, conditionvars = NULL, ...)

medoidPath(data, cl, reorder = FALSE)

centroidPath(data, cl, reorder = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="clusPath_+3A_data">data</code></td>
<td>
<p>A dataframe</p>
</td></tr>
<tr><td><code id="clusPath_+3A_length">length</code></td>
<td>
<p>Path length, defaults to 10</p>
</td></tr>
<tr><td><code id="clusPath_+3A_reorder">reorder</code></td>
<td>
<p>If TRUE  uses DendSer to reorder the path <code><a href="DendSer.html#topic+dser">dser</a></code></p>
</td></tr>
<tr><td><code id="clusPath_+3A_conditionvars">conditionvars</code></td>
<td>
<p>A vector of variable names. The returned tour is for this subset of variables.</p>
</td></tr>
<tr><td><code id="clusPath_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
<tr><td><code id="clusPath_+3A_maxn">maxn</code></td>
<td>
<p>(pamPath only) For datasets with more than maxn rows, use maxn randomly selected rows.</p>
</td></tr>
<tr><td><code id="clusPath_+3A_cl">cl</code></td>
<td>
<p>A vector specifying cluster membership for rows of data.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe with the path
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>kmeansPath()</code>: Constructs a tour of data space following  length k-means centroids
</p>
</li>
<li> <p><code>pamPath()</code>: Constructs a tour of data space following  length <code><a href="cluster.html#topic+pam">pam</a></code> medoids
</p>
</li>
<li> <p><code>claraPath()</code>: Constructs a tour of data space following  length <code><a href="cluster.html#topic+clara">clara</a></code> medoids
</p>
</li>
<li> <p><code>medoidPath()</code>: Returns a path visiting cluster medoids
</p>
</li>
<li> <p><code>centroidPath()</code>: Returns a path visiting cluster centroids
</p>
</li></ul>


<h3>Examples</h3>

<pre><code class='language-R'>kmeansPath(mtcars,length=4)
pamPath(mtcars,length=4)
claraPath(mtcars,length=4)
medoidPath(mtcars,cl=rep(1:3, length.out=nrow(mtcars)))
</code></pre>

<hr>
<h2 id='conditionPlot'>Plots a conditionPlot.</h2><span id='topic+conditionPlot'></span>

<h3>Description</h3>

<p>Plots a conditionPlot, showing one, two or many predictors. The predictor setting in <code>varVal</code> is drawn in magenta.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>conditionPlot(
  CVdata,
  var,
  varVal,
  pointColor = "steelblue",
  sim = NULL,
  resetpar = TRUE,
  plotrows = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="conditionPlot_+3A_cvdata">CVdata</code></td>
<td>
<p>the dataset used for the fit</p>
</td></tr>
<tr><td><code id="conditionPlot_+3A_var">var</code></td>
<td>
<p>one more condition vars. Draws a parallel coordinate plot for more than two.</p>
</td></tr>
<tr><td><code id="conditionPlot_+3A_varval">varVal</code></td>
<td>
<p>the current setting of the conditionvars, shown in magenta.</p>
</td></tr>
<tr><td><code id="conditionPlot_+3A_pointcolor">pointColor</code></td>
<td>
<p>a color, vector of colors,or the name of variable to be used for coloring</p>
</td></tr>
<tr><td><code id="conditionPlot_+3A_sim">sim</code></td>
<td>
<p>If non-NULL should be a vector of similarity weights.</p>
</td></tr>
<tr><td><code id="conditionPlot_+3A_resetpar">resetpar</code></td>
<td>
<p>For use withing shiny app.</p>
</td></tr>
<tr><td><code id="conditionPlot_+3A_plotrows">plotrows</code></td>
<td>
<p>If non-NULL should be a vector of case indices</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>conditionPlot(mtcars, c("wt","hp"), c("wt"=3, "hp"=200), pointColor="am")

conditionPlot(mtcars, c("wt","hp"), mtcars[1,], pointColor="am")

#Calculate similarity using wt, hp observations from first case
sim &lt;- similarityweight(mtcars[1, c("wt","hp")], mtcars[, c("wt","hp")], threshold=1)

# Marks points with black border with positive sim values. These are points within 1 (threshold) sd
#of pink cross.
conditionPlot(mtcars, c("wt","hp"), mtcars[1,], pointColor="am", sim=sim)

sim &lt;- similarityweight(mtcars[1, ], mtcars, threshold=2)
conditionPlot(mtcars, names(mtcars), mtcars[1,], sim=sim)

</code></pre>

<hr>
<h2 id='condvis'>Creates Condvis Shiny app</h2><span id='topic+condvis'></span>

<h3>Description</h3>

<p>Creates Condvis Shiny app
</p>


<h3>Usage</h3>

<pre><code class='language-R'>condvis(
  data,
  model = NULL,
  response = NULL,
  sectionvars = NULL,
  conditionvars = NULL,
  predsInit = NULL,
  pointColor = c("steelblue", "grey0"),
  cPlotPCP = FALSE,
  cPlotn = 1000,
  orderConditionVars = "default",
  threshold = 1,
  thresholdmax = NULL,
  linecols = NULL,
  showsim = NULL,
  theta3d = 45,
  phi3d = 20,
  dataplot = "pcp",
  tours = NULL,
  predictArgs = NULL,
  xlim = NULL,
  ylim = NULL,
  zlim = NULL,
  density = FALSE,
  showdata = density == FALSE,
  displayHeight = 950
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="condvis_+3A_data">data</code></td>
<td>
<p>the dataset used for the fit. Should not have NAs for response, sectionvars or conditionvars.</p>
</td></tr>
<tr><td><code id="condvis_+3A_model">model</code></td>
<td>
<p>A fitted model or list of models. May be NULL.</p>
</td></tr>
<tr><td><code id="condvis_+3A_response">response</code></td>
<td>
<p>name of response variable. If null, tries to extract from model.</p>
</td></tr>
<tr><td><code id="condvis_+3A_sectionvars">sectionvars</code></td>
<td>
<p>names of sectionvars. If null, extracts from data.</p>
</td></tr>
<tr><td><code id="condvis_+3A_conditionvars">conditionvars</code></td>
<td>
<p>names of condition vars. If null, extracts from data.</p>
</td></tr>
<tr><td><code id="condvis_+3A_predsinit">predsInit</code></td>
<td>
<p>Optionally provide starting value for some predictors. Defaults to medoid.</p>
</td></tr>
<tr><td><code id="condvis_+3A_pointcolor">pointColor</code></td>
<td>
<p>a color, or the name of variable to be used for coloring. If the named variable is numeric, it is first converted to a factor with 3 levels.</p>
</td></tr>
<tr><td><code id="condvis_+3A_cplotpcp">cPlotPCP</code></td>
<td>
<p>if TRUE, conditionplots are drawn as a single PCP (for more than two conditionvars)</p>
</td></tr>
<tr><td><code id="condvis_+3A_cplotn">cPlotn</code></td>
<td>
<p>Defaults to 1000. Shows a sample of this number of points in conditionplots. Non-numeric values are ignored.</p>
</td></tr>
<tr><td><code id="condvis_+3A_orderconditionvars">orderConditionVars</code></td>
<td>
<p>If supplied, a function to order the Condition Vars</p>
</td></tr>
<tr><td><code id="condvis_+3A_threshold">threshold</code></td>
<td>
<p>used for similarity weights, defaults to 1.</p>
</td></tr>
<tr><td><code id="condvis_+3A_thresholdmax">thresholdmax</code></td>
<td>
<p>maximum value allowed of threshold.</p>
</td></tr>
<tr><td><code id="condvis_+3A_linecols">linecols</code></td>
<td>
<p>vector of colors to be used for fits</p>
</td></tr>
<tr><td><code id="condvis_+3A_showsim">showsim</code></td>
<td>
<p>if TRUE, shows sim in conditionplots with points/lines. Defaults to TRUE with 150 or fewer cases.</p>
</td></tr>
<tr><td><code id="condvis_+3A_theta3d">theta3d</code>, <code id="condvis_+3A_phi3d">phi3d</code></td>
<td>
<p>Angles defining the viewing direction for 3d surface. <code>theta3d</code>
gives the azimuthal direction and <code>phi3d</code> the colatitude. See
<code><a href="graphics.html#topic+persp">persp</a></code>.</p>
</td></tr>
<tr><td><code id="condvis_+3A_dataplot">dataplot</code></td>
<td>
<p>&quot;pcp&quot; or &quot;pairs&quot;. Used when there is no response, or more than two sectionvars.</p>
</td></tr>
<tr><td><code id="condvis_+3A_tours">tours</code></td>
<td>
<p>A list of pre-calculated tours</p>
</td></tr>
<tr><td><code id="condvis_+3A_predictargs">predictArgs</code></td>
<td>
<p>a list with one entry per fit, giving arguments for CVpredict</p>
</td></tr>
<tr><td><code id="condvis_+3A_xlim">xlim</code></td>
<td>
<p>passed on to sectionplot</p>
</td></tr>
<tr><td><code id="condvis_+3A_ylim">ylim</code></td>
<td>
<p>passed on to sectionplot</p>
</td></tr>
<tr><td><code id="condvis_+3A_zlim">zlim</code></td>
<td>
<p>passed on to sectionplot</p>
</td></tr>
<tr><td><code id="condvis_+3A_density">density</code></td>
<td>
<p>default FALSE. Use TRUE if model is a density function.</p>
</td></tr>
<tr><td><code id="condvis_+3A_showdata">showdata</code></td>
<td>
<p>defaults to <code>density==TRUE</code>. If FALSE, data on section not shown.</p>
</td></tr>
<tr><td><code id="condvis_+3A_displayheight">displayHeight</code></td>
<td>
<p>supply a value for the display height</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>fit &lt;- lm(mpg ~ wt+hp+am, data=mtcars)
if(interactive()){
condvis(mtcars,fit, response="mpg",sectionvars="wt", conditionvars=c("am", "hp"), pointColor ="red")
}
</code></pre>

<hr>
<h2 id='CVpredict'>A predict generic function for condvis</h2><span id='topic+CVpredict'></span><span id='topic+CVpredict.default'></span><span id='topic+CVpredict.lm'></span><span id='topic+CVpredict.glm'></span><span id='topic+CVpredict.lda'></span><span id='topic+CVpredict.qda'></span><span id='topic+CVpredict.nnet'></span><span id='topic+CVpredict.randomForest'></span><span id='topic+CVpredict.ranger'></span><span id='topic+CVpredict.rpart'></span><span id='topic+CVpredict.tree'></span><span id='topic+CVpredict.C5.0'></span><span id='topic+CVpredict.svm'></span><span id='topic+CVpredict.gbm'></span><span id='topic+CVpredict.loess'></span><span id='topic+CVpredict.ksvm'></span><span id='topic+CVpredict.glmnet'></span><span id='topic+CVpredict.cv.glmnet'></span><span id='topic+CVpredict.glmnet.formula'></span><span id='topic+CVpredict.cv.glmnet.formula'></span><span id='topic+CVpredict.keras.engine.training.Model'></span><span id='topic+CVpredict.kde'></span><span id='topic+CVpredict.densityMclust'></span><span id='topic+CVpredict.MclustDA'></span><span id='topic+CVpredict.MclustDR'></span><span id='topic+CVpredict.Mclust'></span><span id='topic+CVpredict.train'></span><span id='topic+CVpredict.bartMachine'></span><span id='topic+CVpredict.wbart'></span><span id='topic+CVpredict.lbart'></span><span id='topic+CVpredict.pbart'></span><span id='topic+CVpredict.bart'></span><span id='topic+CVpredict.model_fit'></span><span id='topic+CVpredict.WrappedModel'></span><span id='topic+CVpredict.Learner'></span>

<h3>Description</h3>

<p>A predict generic function for condvis
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CVpredict(
  fit,
  newdata,
  ...,
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  ptrans = NULL,
  pinterval = NULL,
  pinterval_level = 0.95
)

## Default S3 method:
CVpredict(
  fit,
  newdata,
  ...,
  ptype = "pred",
  pthreshold = NULL,
  pinterval = NULL,
  pinterval_level = 0.95,
  ylevels = NULL,
  ptrans = NULL
)

## S3 method for class 'lm'
CVpredict(
  fit,
  newdata,
  ...,
  ptype = "pred",
  pthreshold = NULL,
  pinterval = NULL,
  pinterval_level = 0.95,
  ylevels = NULL,
  ptrans = NULL
)

## S3 method for class 'glm'
CVpredict(
  fit,
  ...,
  type = "response",
  ptype = "pred",
  pthreshold = NULL,
  pinterval = NULL,
  pinterval_level = 0.95,
  ylevels = NULL,
  ptrans = NULL
)

## S3 method for class 'lda'
CVpredict(
  fit,
  ...,
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  ptrans = NULL
)

## S3 method for class 'qda'
CVpredict(
  fit,
  ...,
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  ptrans = NULL
)

## S3 method for class 'nnet'
CVpredict(
  fit,
  ...,
  type = NULL,
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  ptrans = NULL
)

## S3 method for class 'randomForest'
CVpredict(
  fit,
  ...,
  type = NULL,
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  ptrans = NULL
)

## S3 method for class 'ranger'
CVpredict(
  fit,
  ...,
  type = NULL,
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  ptrans = NULL
)

## S3 method for class 'rpart'
CVpredict(
  fit,
  ...,
  type = NULL,
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  ptrans = NULL
)

## S3 method for class 'tree'
CVpredict(
  fit,
  ...,
  type = NULL,
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  ptrans = NULL
)

## S3 method for class 'C5.0'
CVpredict(
  fit,
  ...,
  type = NULL,
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  ptrans = NULL
)

## S3 method for class 'svm'
CVpredict(
  fit,
  ...,
  type = NULL,
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  ptrans = NULL
)

## S3 method for class 'gbm'
CVpredict(
  fit,
  ...,
  type = NULL,
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  n.trees = fit$n.trees,
  ptrans = NULL
)

## S3 method for class 'loess'
CVpredict(fit, newdata = NULL, ...)

## S3 method for class 'ksvm'
CVpredict(
  fit,
  newdata,
  ...,
  type = NULL,
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  ptrans = NULL
)

## S3 method for class 'glmnet'
CVpredict(
  fit,
  newdata,
  ...,
  type = "response",
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  ptrans = NULL,
  s = NULL,
  makex = NULL
)

## S3 method for class 'cv.glmnet'
CVpredict(
  fit,
  newdata,
  ...,
  type = "response",
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  ptrans = NULL,
  makex = NULL
)

## S3 method for class 'glmnet.formula'
CVpredict(
  fit,
  newdata,
  ...,
  type = "response",
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  ptrans = NULL,
  s = NULL
)

## S3 method for class 'cv.glmnet.formula'
CVpredict(
  fit,
  newdata,
  ...,
  type = "response",
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  ptrans = NULL
)

## S3 method for class 'keras.engine.training.Model'
CVpredict(
  fit,
  newdata,
  ...,
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  ptrans = NULL,
  batch_size = 32,
  response = NULL,
  predictors = NULL
)

## S3 method for class 'kde'
CVpredict(fit, newdata = fit$x, ..., scale = TRUE)

## S3 method for class 'densityMclust'
CVpredict(
  fit,
  newdata = NULL,
  ...,
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  ptrans = NULL,
  scale = TRUE
)

## S3 method for class 'MclustDA'
CVpredict(
  fit,
  newdata,
  ...,
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  ptrans = NULL
)

## S3 method for class 'MclustDR'
CVpredict(
  fit,
  newdata,
  ...,
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  ptrans = NULL
)

## S3 method for class 'Mclust'
CVpredict(
  fit,
  newdata,
  ...,
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  ptrans = NULL
)

## S3 method for class 'train'
CVpredict(
  fit,
  newdata,
  ...,
  type = "response",
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  ptrans = NULL
)

## S3 method for class 'bartMachine'
CVpredict(
  fit,
  newdata,
  ...,
  type = NULL,
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  ptrans = NULL
)

## S3 method for class 'wbart'
CVpredict(
  fit,
  newdata,
  ...,
  type = NULL,
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  ptrans = NULL
)

## S3 method for class 'lbart'
CVpredict(
  fit,
  newdata,
  ...,
  type = NULL,
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  ptrans = NULL
)

## S3 method for class 'pbart'
CVpredict(
  fit,
  newdata,
  ...,
  type = NULL,
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  ptrans = NULL
)

## S3 method for class 'bart'
CVpredict(
  fit,
  newdata,
  ...,
  type = NULL,
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  ptrans = NULL
)

## S3 method for class 'model_fit'
CVpredict(
  fit,
  ...,
  type = NULL,
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  ptrans = NULL,
  pinterval = NULL,
  pinterval_level = 0.95
)

## S3 method for class 'WrappedModel'
CVpredict(
  fit,
  newdata,
  ...,
  type = NULL,
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  ptrans = NULL,
  pinterval = NULL,
  pinterval_level = 0.95
)

## S3 method for class 'Learner'
CVpredict(
  fit,
  newdata,
  ...,
  type = NULL,
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  ptrans = NULL,
  pinterval = NULL,
  pinterval_level = 0.95
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CVpredict_+3A_fit">fit</code></td>
<td>
<p>A fitted model</p>
</td></tr>
<tr><td><code id="CVpredict_+3A_newdata">newdata</code></td>
<td>
<p>Where to calculate predictions.</p>
</td></tr>
<tr><td><code id="CVpredict_+3A_...">...</code></td>
<td>
<p>extra arguments to predict</p>
</td></tr>
<tr><td><code id="CVpredict_+3A_ptype">ptype</code></td>
<td>
<p>One of &quot;pred&quot;,&quot;prob&quot; or &quot;probmatrix&quot;</p>
</td></tr>
<tr><td><code id="CVpredict_+3A_pthreshold">pthreshold</code></td>
<td>
<p>Used for calculating classes from probs, in the two class case</p>
</td></tr>
<tr><td><code id="CVpredict_+3A_ylevels">ylevels</code></td>
<td>
<p>The levels of the response, when it is a factor</p>
</td></tr>
<tr><td><code id="CVpredict_+3A_ptrans">ptrans</code></td>
<td>
<p>A function to apply to the result</p>
</td></tr>
<tr><td><code id="CVpredict_+3A_pinterval">pinterval</code></td>
<td>
<p>NULL, &quot;confidence&quot; or &quot;prediction&quot;. Only for lm, parsnip, mlr(regression, confidence only)</p>
</td></tr>
<tr><td><code id="CVpredict_+3A_pinterval_level">pinterval_level</code></td>
<td>
<p>Defaults to 0.95</p>
</td></tr>
<tr><td><code id="CVpredict_+3A_type">type</code></td>
<td>
<p>For some predict methods</p>
</td></tr>
<tr><td><code id="CVpredict_+3A_n.trees">n.trees</code></td>
<td>
<p>Used by CVpredict.gbm, passed to predict</p>
</td></tr>
<tr><td><code id="CVpredict_+3A_s">s</code></td>
<td>
<p>Used by CVpredict.glmnet and CVpredict.cv.glmnet, passed to predict</p>
</td></tr>
<tr><td><code id="CVpredict_+3A_makex">makex</code></td>
<td>
<p>Used by CVpredict.glmnet and CVpredict.cv.glmnet. A function to construct xmatrix for predict.</p>
</td></tr>
<tr><td><code id="CVpredict_+3A_batch_size">batch_size</code></td>
<td>
<p>Used by CVpredict.keras.engine.training.Model, passed to predict</p>
</td></tr>
<tr><td><code id="CVpredict_+3A_response">response</code></td>
<td>
<p>Used by CVpredict.keras.engine.training.Model. Name of response (optional)</p>
</td></tr>
<tr><td><code id="CVpredict_+3A_predictors">predictors</code></td>
<td>
<p>Used by CVpredict.keras.engine.training.Model. Name of predictors</p>
</td></tr>
<tr><td><code id="CVpredict_+3A_scale">scale</code></td>
<td>
<p>Used by CVpredict for densities. If TRUE (default) rescales the conditional density to integrate to 1.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is a wrapper for predict used by condvis.
When the model response is numeric, the result is a vector of predictions.
When the model response is a factor the result depends on the value of ptype.
If ptype=&quot;pred&quot;, the result is a factor.
If also threshold is numeric, it is used to threshold a numeric prediction to construct the factor
when the factor has two levels.
For ptype=&quot;prob&quot;, the result is a vector of probabilities for the last factor level.
For ptype=&quot;probmatrix&quot;, the result is a matrix  of probabilities for each factor level.
</p>


<h3>Value</h3>

<p>a vector of predictions, or a matrix when type is &quot;probmatrix&quot;
</p>


<h3>Methods (by class)</h3>


<ul>
<li> <p><code>CVpredict(default)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(lm)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(glm)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(lda)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(qda)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(nnet)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(randomForest)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(ranger)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(rpart)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(tree)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(C5.0)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(svm)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(gbm)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(loess)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(ksvm)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(glmnet)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(cv.glmnet)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(glmnet.formula)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(cv.glmnet.formula)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(keras.engine.training.Model)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(kde)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(densityMclust)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(MclustDA)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(MclustDR)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(Mclust)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(train)</code>: CVpredict method for caret
</p>
</li>
<li> <p><code>CVpredict(bartMachine)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(wbart)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(lbart)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(pbart)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(bart)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(model_fit)</code>: CVpredict method for parsnip
</p>
</li>
<li> <p><code>CVpredict(WrappedModel)</code>: CVpredict method for mlr
</p>
</li>
<li> <p><code>CVpredict(Learner)</code>: CVpredict method for mlr3
</p>
</li></ul>


<h3>Examples</h3>

<pre><code class='language-R'>#Fit a model. 
f &lt;- lm(Fertility~ ., data=swiss)
CVpredict(f)

#Fit a model with a factor response
swiss1 &lt;- swiss
swiss1$Fertility &lt;-  cut(swiss$Fertility, c(0,80,100))
levels(swiss1$Fertility)&lt;- c("lo", "hi")
f &lt;- glm(Fertility~ ., data=swiss1, family="binomial")
CVpredict(f) # by default gives a factor
CVpredict(f, ptype="prob") # gives prob of level hi
CVpredict(f, ptype="probmatrix") # gives prob of both levels
</code></pre>

<hr>
<h2 id='fitPath'>Constructs tours of data space based on fits.</h2><span id='topic+fitPath'></span><span id='topic+lofPath'></span><span id='topic+diffitsPath'></span><span id='topic+hiresponsePath'></span><span id='topic+loresponsePath'></span>

<h3>Description</h3>

<p>Constructs tours of data space based on fits.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lofPath(
  data,
  fits,
  length = 10,
  reorder = TRUE,
  conditionvars = NULL,
  predictArgs = NULL,
  response = NULL,
  ...
)

diffitsPath(
  data,
  fits,
  length = 10,
  reorder = TRUE,
  conditionvars = NULL,
  predictArgs = NULL,
  ...
)

hiresponsePath(
  data,
  response = NULL,
  length = 10,
  reorder = TRUE,
  conditionvars = NULL,
  ...
)

loresponsePath(
  data,
  response = NULL,
  length = 10,
  reorder = TRUE,
  conditionvars = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fitPath_+3A_data">data</code></td>
<td>
<p>A dataframe</p>
</td></tr>
<tr><td><code id="fitPath_+3A_fits">fits</code></td>
<td>
<p>A model fit or list of fits</p>
</td></tr>
<tr><td><code id="fitPath_+3A_length">length</code></td>
<td>
<p>Path length, defaults to 10</p>
</td></tr>
<tr><td><code id="fitPath_+3A_reorder">reorder</code></td>
<td>
<p>If TRUE (default) uses DendSer to reorder the path <code><a href="DendSer.html#topic+dser">dser</a></code></p>
</td></tr>
<tr><td><code id="fitPath_+3A_conditionvars">conditionvars</code></td>
<td>
<p>A vector of variable names. The returned tour is for this subset of variables.</p>
</td></tr>
<tr><td><code id="fitPath_+3A_predictargs">predictArgs</code></td>
<td>
<p>Extra inputs to CVpredict</p>
</td></tr>
<tr><td><code id="fitPath_+3A_response">response</code></td>
<td>
<p>The name of the response variable</p>
</td></tr>
<tr><td><code id="fitPath_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe with the path
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>lofPath()</code>: Constructs a tour of data space showing biggest absolute residuals from fits.
</p>
</li>
<li> <p><code>diffitsPath()</code>: Constructs a tour of data space showing biggest differences in fits.
</p>
</li>
<li> <p><code>hiresponsePath()</code>: Constructs a tour of data space showing high  (numeric) response values
</p>
</li>
<li> <p><code>loresponsePath()</code>: Constructs a tour of data space showing low  (numeric) response values
</p>
</li></ul>


<h3>Examples</h3>

<pre><code class='language-R'>fit1 &lt;- lm(mpg ~ wt+hp+am, data=mtcars)
fit2 &lt;- lm(mpg ~ wt, data=mtcars)
lofPath(mtcars,fit1, response="mpg")
diffitsPath(mtcars,list(fit1,fit2))
</code></pre>

<hr>
<h2 id='medoid'>Finds medoid of data</h2><span id='topic+medoid'></span>

<h3>Description</h3>

<p>Finds medoid of data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>medoid(data, maxn = 4000)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="medoid_+3A_data">data</code></td>
<td>
<p>A dataframe</p>
</td></tr>
<tr><td><code id="medoid_+3A_maxn">maxn</code></td>
<td>
<p>For datasets with more than maxn rows, use maxn randomly selected rows.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe with one row, which is the medoid of the data, based on (standardised) daisy dist
</p>


<h3>Examples</h3>

<pre><code class='language-R'>medoid(mtcars)

</code></pre>

<hr>
<h2 id='pathInterpolate'>Interpolation</h2><span id='topic+pathInterpolate'></span><span id='topic+pathInterpolate.default'></span><span id='topic+pathInterpolate.factor'></span><span id='topic+pathInterpolate.data.frame'></span>

<h3>Description</h3>

<p>Interpolation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pathInterpolate(x, ninterp = 4)

## Default S3 method:
pathInterpolate(x, ninterp = 4L)

## S3 method for class 'factor'
pathInterpolate(x, ninterp = 4L)

## S3 method for class 'data.frame'
pathInterpolate(x, ninterp = 4L)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pathInterpolate_+3A_x">x</code></td>
<td>
<p>a numeric or factor vector or dataframe</p>
</td></tr>
<tr><td><code id="pathInterpolate_+3A_ninterp">ninterp</code></td>
<td>
<p>number of interpolated steps</p>
</td></tr>
</table>


<h3>Value</h3>

<p>interpolated version of x
</p>


<h3>Methods (by class)</h3>


<ul>
<li> <p><code>pathInterpolate(default)</code>: Default interpolate method
</p>
</li>
<li> <p><code>pathInterpolate(factor)</code>: pathInterpolate method for factor
</p>
</li>
<li> <p><code>pathInterpolate(data.frame)</code>: pathInterpolate method for data.frame
</p>
</li></ul>

<hr>
<h2 id='plotTourDiagnostics'>Plots diagnostics for the tour supplied</h2><span id='topic+plotTourDiagnostics'></span>

<h3>Description</h3>

<p>Plots diagnostics for the tour supplied
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotTourDiagnostics(
  path,
  data,
  pathlen = nrow(path),
  threshold = 1,
  which = 1:3,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plotTourDiagnostics_+3A_path">path</code></td>
<td>
<p>the tour</p>
</td></tr>
<tr><td><code id="plotTourDiagnostics_+3A_data">data</code></td>
<td>
<p>the dataset</p>
</td></tr>
<tr><td><code id="plotTourDiagnostics_+3A_pathlen">pathlen</code></td>
<td>
<p>the pathlength</p>
</td></tr>
<tr><td><code id="plotTourDiagnostics_+3A_threshold">threshold</code></td>
<td>
<p>used for similarityweight</p>
</td></tr>
<tr><td><code id="plotTourDiagnostics_+3A_which">which</code></td>
<td>
<p>subset of 1:3</p>
</td></tr>
<tr><td><code id="plotTourDiagnostics_+3A_...">...</code></td>
<td>
<p>other args for similarityweight</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The first plot shows approximately how much data are visible on each section,  the second shows what proportion of data are <em>visited</em> by the tour, and the third a density estimate of max similarity values.
</p>


<h3>Value</h3>

<p>Table of max sims attained.
</p>

<hr>
<h2 id='sectionPlot'>Plots the main condvis display</h2><span id='topic+sectionPlot'></span>

<h3>Description</h3>

<p>The section plot relates a fit or fits to one or two predictors (<code>sectionvar</code>), 
for fixed values of other predictors in  <code>conditionvals</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sectionPlot(
  CVdata,
  CVfit = NULL,
  response = NULL,
  preds,
  sectionvar,
  conditionvals,
  pointColor = "steelblue",
  sim = NULL,
  threshold = 1,
  linecols = NULL,
  dataplot = "pcp",
  gridsize = 50,
  probs = FALSE,
  view3d = FALSE,
  theta3d = 45,
  phi3d = 20,
  xlim = NULL,
  ylim = NULL,
  zlim = NULL,
  pointSize = 1.5,
  predictArgs = NULL,
  resetpar = TRUE,
  density = FALSE,
  showdata = density == FALSE,
  returnInfo = FALSE,
  pointColorFromResponse = FALSE,
  pcolInfo = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sectionPlot_+3A_cvdata">CVdata</code></td>
<td>
<p>the dataset used for the fit</p>
</td></tr>
<tr><td><code id="sectionPlot_+3A_cvfit">CVfit</code></td>
<td>
<p>a fit or list of fits</p>
</td></tr>
<tr><td><code id="sectionPlot_+3A_response">response</code></td>
<td>
<p>name of response variable</p>
</td></tr>
<tr><td><code id="sectionPlot_+3A_preds">preds</code></td>
<td>
<p>names of predictors</p>
</td></tr>
<tr><td><code id="sectionPlot_+3A_sectionvar">sectionvar</code></td>
<td>
<p>section variable, or variables.</p>
</td></tr>
<tr><td><code id="sectionPlot_+3A_conditionvals">conditionvals</code></td>
<td>
<p>conditioning values. A vector/list or dataframe with one row</p>
</td></tr>
<tr><td><code id="sectionPlot_+3A_pointcolor">pointColor</code></td>
<td>
<p>a color, vector of colors,or the name of variable to be used for coloring</p>
</td></tr>
<tr><td><code id="sectionPlot_+3A_sim">sim</code></td>
<td>
<p>vector of similarity weights</p>
</td></tr>
<tr><td><code id="sectionPlot_+3A_threshold">threshold</code></td>
<td>
<p>used for similarity weights, defaults to 1.</p>
</td></tr>
<tr><td><code id="sectionPlot_+3A_linecols">linecols</code></td>
<td>
<p>vector of line colours</p>
</td></tr>
<tr><td><code id="sectionPlot_+3A_dataplot">dataplot</code></td>
<td>
<p>&quot;pcp&quot; or &quot;pairs&quot;. Used when there is no response, or more than two sectionvars.</p>
</td></tr>
<tr><td><code id="sectionPlot_+3A_gridsize">gridsize</code></td>
<td>
<p>used to construct grid of fitted values.</p>
</td></tr>
<tr><td><code id="sectionPlot_+3A_probs">probs</code></td>
<td>
<p>Logical; if <code>TRUE</code>, shows predicted class probabilities instead of just predicted classes. Only available with two numeric sectionvars and the model's predict method provides this.</p>
</td></tr>
<tr><td><code id="sectionPlot_+3A_view3d">view3d</code></td>
<td>
<p>Logical; if <code>TRUE</code> plots a three-dimensional regression surface if possible.</p>
</td></tr>
<tr><td><code id="sectionPlot_+3A_theta3d">theta3d</code>, <code id="sectionPlot_+3A_phi3d">phi3d</code></td>
<td>
<p>Angles defining the viewing direction. <code>theta3d</code> gives the azimuthal direction and <code>phi3d</code> the colatitude. See<code><a href="graphics.html#topic+persp">persp</a></code>.</p>
</td></tr>
<tr><td><code id="sectionPlot_+3A_xlim">xlim</code></td>
<td>
<p>passed on to plot</p>
</td></tr>
<tr><td><code id="sectionPlot_+3A_ylim">ylim</code></td>
<td>
<p>passed on to plot</p>
</td></tr>
<tr><td><code id="sectionPlot_+3A_zlim">zlim</code></td>
<td>
<p>passed on to plot</p>
</td></tr>
<tr><td><code id="sectionPlot_+3A_pointsize">pointSize</code></td>
<td>
<p>used for points</p>
</td></tr>
<tr><td><code id="sectionPlot_+3A_predictargs">predictArgs</code></td>
<td>
<p>a list with one entry per fit, giving arguments for predict</p>
</td></tr>
<tr><td><code id="sectionPlot_+3A_resetpar">resetpar</code></td>
<td>
<p>When TRUE (the default) resets pars after drawing.</p>
</td></tr>
<tr><td><code id="sectionPlot_+3A_density">density</code></td>
<td>
<p>default FALSE. Use TRUE if model is a density function.</p>
</td></tr>
<tr><td><code id="sectionPlot_+3A_showdata">showdata</code></td>
<td>
<p>If FALSE, data on section not shown.</p>
</td></tr>
<tr><td><code id="sectionPlot_+3A_returninfo">returnInfo</code></td>
<td>
<p>If TRUE, returns coordinates for some plots</p>
</td></tr>
<tr><td><code id="sectionPlot_+3A_pointcolorfromresponse">pointColorFromResponse</code></td>
<td>
<p>ignore&ndash;For interactive use only</p>
</td></tr>
<tr><td><code id="sectionPlot_+3A_pcolinfo">pcolInfo</code></td>
<td>
<p>ignore&ndash;For interactive use only</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The type of plot depends on the fit and the section variables. Observations with non zero values of the similarity weights 
<code>sim</code> are shown. If no fit is provided, the data are shown as a parallel coordinate plot or pairs
plot, depending on <code>dataplot</code>.
The fit could also be a density estimate.
</p>


<h3>Value</h3>

<p>plotted coordinates, for some plots
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Fit a model. 
f &lt;- lm(Fertility~ ., data=swiss)
svar &lt;- "Education"
preds &lt;- variable.names(f)[-1]
sectionPlot(swiss,f, "Fertility",preds,svar, swiss[12,])
sectionPlot(swiss,f, "Fertility",preds,svar, apply(swiss,2,median))
sectionPlot(swiss,f, "Fertility",preds,preds[1:2], apply(swiss,2,median))
sectionPlot(swiss,f, "Fertility",preds,preds[1:2], apply(swiss,2,median), view3d=TRUE)

# PCP of swiss data, showing only cases whose percent catholic and infant.mortality are
# similar to those of the first case
sectionPlot(swiss,preds=names(swiss),
           sectionvar= names(swiss)[1:4],conditionvals=swiss[1,] )     
# Use dataplot="pairs" to switch to a pairs plot

# A density estimate example
 ## Not run: 
 library(ks)
fde &lt;-kde(iris[,1:3])
sectionPlot(iris,list(kde=fde), response=NULL,
           preds=names(iris)[1:3],
           sectionvar=names(iris)[1],
           conditionvals=iris[1,],density=TRUE)
 
## End(Not run)
</code></pre>

<hr>
<h2 id='similarityweight'>Calculate the similarity weight for a set of observations</h2><span id='topic+similarityweight'></span>

<h3>Description</h3>

<p>Calculate the similarity weight for a set of observations, based
on their distance from some arbitrary points in data space. Observations which
are very similar to the point under consideration are given weight 1, while
observations which are dissimilar to the point are given weight zero.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>similarityweight(
  x,
  data,
  threshold = 1,
  distance = "euclidean",
  lambda = NULL,
  scale = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="similarityweight_+3A_x">x</code></td>
<td>
<p>A dataframe describing arbitrary points in the space of the data
(i.e., with same <code>colnames</code> as <code>data</code>).</p>
</td></tr>
<tr><td><code id="similarityweight_+3A_data">data</code></td>
<td>
<p>A dataframe representing observed data.</p>
</td></tr>
<tr><td><code id="similarityweight_+3A_threshold">threshold</code></td>
<td>
<p>Threshold distance outside which observations will
be assigned similarity weight zero. This is numeric and should be &gt; 0.
Defaults to 1.</p>
</td></tr>
<tr><td><code id="similarityweight_+3A_distance">distance</code></td>
<td>
<p>The type of distance measure to be used, currently just three
types of Minkowski distance: <code>"euclidean"</code> (default),
<code>"maxnorm"</code>, <code>"manhattan"</code> and also <code>"gower"</code></p>
</td></tr>
<tr><td><code id="similarityweight_+3A_lambda">lambda</code></td>
<td>
<p>A constant to multiply by the number of categorical
mismatches, before adding to the Minkowski distance, to give a general
dissimilarity measure. If left <code>NULL</code>, behaves as though <code>lambda</code>
is set larger than <code>threshold</code>, meaning that one factor mismatch
guarantees zero weight.</p>
</td></tr>
<tr><td><code id="similarityweight_+3A_scale">scale</code></td>
<td>
<p>defaults to TRUE, in which case numeric variables are scaled to unit sd.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Similarity weight is assigned to observations based on their
distance from a given point. The distance is calculated as Minkowski
distance between the numeric elements for the observations whose
categorical elements match, or else the Gower distance.
</p>


<h3>Value</h3>

<p>A numeric vector or matrix, with values from 0 to 1. The similarity
weights for the observations in <code>data</code> arranged in rows for each row
in <code>x</code>.
</p>


<h3>References</h3>

<p>O'Connell M, Hurley CB and Domijan K (2017). &ldquo;Conditional
Visualization for Statistical Models: An Introduction to the
<strong>condvis</strong> Package in R.&rdquo;<em>Journal of Statistical Software</em>,
<strong>81</strong>(5), pp. 1-20. &lt;URL:http://dx.doi.org/10.18637/jss.v081.i05&gt;.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Say we want to find observations similar to the first observation.
## The first observation is identical to itself, so it gets weight 1. The
## second observation is similar, so it gets some weight. The rest are more
## different, and so get zero weight.

data(mtcars)
similarityweight(x = mtcars[1, ], data = mtcars)

## By increasing the threshold, we can find observations which are more
## approximately similar to the first row. Note that the second observation
## now has weight 1, so we lose some ability to discern how similar
## observations are by increasing the threshold.

similarityweight(x = mtcars[1, ], data = mtcars, threshold = 5)

## Can provide a number of points to 'x'. Here we see that the Mazda RX4 Wag
## is more similar to the Merc 280 than the Mazda RX4 is.

similarityweight(mtcars[1:2, ], mtcars, threshold = 3)
</code></pre>

<hr>
<h2 id='tours'>Constructs a various tours of data space</h2><span id='topic+tours'></span><span id='topic+randomPath'></span><span id='topic+seqPath'></span><span id='topic+alongPath'></span>

<h3>Description</h3>

<p>Constructs a various tours of data space
</p>


<h3>Usage</h3>

<pre><code class='language-R'>randomPath(data, length = 10, reorder = TRUE, conditionvars = NULL, ...)

seqPath(data, length = 10, reorder = FALSE, conditionvars = NULL, ...)

alongPath(data, var, length = 10, current = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tours_+3A_data">data</code></td>
<td>
<p>A dataframe</p>
</td></tr>
<tr><td><code id="tours_+3A_length">length</code></td>
<td>
<p>Path length, defaults to 10</p>
</td></tr>
<tr><td><code id="tours_+3A_reorder">reorder</code></td>
<td>
<p>If TRUE (default) uses DendSer to reorder the path <code><a href="DendSer.html#topic+dser">dser</a></code></p>
</td></tr>
<tr><td><code id="tours_+3A_conditionvars">conditionvars</code></td>
<td>
<p>A vector of variable names. The returned tour is for this subset of variables.</p>
</td></tr>
<tr><td><code id="tours_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
<tr><td><code id="tours_+3A_var">var</code></td>
<td>
<p>A variable name for alongPath</p>
</td></tr>
<tr><td><code id="tours_+3A_current">current</code></td>
<td>
<p>Default value of variables for alongPath</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe with the path
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>randomPath()</code>: Constructs a tour of data space following random observations
</p>
</li>
<li> <p><code>seqPath()</code>: Constructs a tour of data space following first length observations
</p>
</li>
<li> <p><code>alongPath()</code>: Constructs a tour of data space  of length equi-spaced values in the range of var.
If var is a factor, its levels are used.
</p>
</li></ul>


<h3>Examples</h3>

<pre><code class='language-R'>randomPath(mtcars,length=5)
seqPath(mtcars,length=5)
alongPath(mtcars,var="mpg", length=5, current=mtcars[1,])
</code></pre>

<hr>
<h2 id='weightcolor'>Fade colours according to a weight vector</h2><span id='topic+weightcolor'></span>

<h3>Description</h3>

<p>The colours whose weights are less than 1 are diluted. Colours whose weight is zero are returned as white, 
other weights are grouped in <code>nlevels</code> groups and colours diluted proportionally.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>weightcolor(col, weights, nlevels = 5)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="weightcolor_+3A_col">col</code></td>
<td>
<p>A vector of colour</p>
</td></tr>
<tr><td><code id="weightcolor_+3A_weights">weights</code></td>
<td>
<p>A vector of weights, values between 0 and 1</p>
</td></tr>
<tr><td><code id="weightcolor_+3A_nlevels">nlevels</code></td>
<td>
<p>The number of groups</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of colours
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

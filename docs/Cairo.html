<!DOCTYPE html><html><head><title>Help for package Cairo</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {Cairo}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#Cairo'>
<p>Create a new Cairo-based graphics device</p></a></li>
<li><a href='#Cairo.capabilities'>
<p>Reports which output types are supported by this Cairo build</p></a></li>
<li><a href='#Cairo.capture'>
<p>Capture contents of an image backend or a display list snapshot.</p></a></li>
<li><a href='#Cairo.onSave'>
<p>Cairo callbacks</p></a></li>
<li><a href='#Cairo.serial'>
<p>Check for changes in the graphics state of Cairo devices.</p></a></li>
<li><a href='#CairoFonMatch'>
<p>Find installed fonts with a fontconfig pattern</p></a></li>
<li><a href='#CairoFonts'>
<p>Set the fonts used for all Cairo graphics devices.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Version:</td>
<td>1.6-2</td>
</tr>
<tr>
<td>Title:</td>
<td>R Graphics Device using Cairo Graphics Library for Creating
High-Quality Bitmap (PNG, JPEG, TIFF), Vector (PDF, SVG,
PostScript) and Display (X11 and Win32) Output</td>
</tr>
<tr>
<td>Author:</td>
<td>Simon Urbanek &lt;Simon.Urbanek@r-project.org&gt;, Jeffrey Horner &lt;jeff.horner@vanderbilt.edu&gt;</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Simon Urbanek &lt;Simon.Urbanek@r-project.org&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.4.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>grDevices, graphics</td>
</tr>
<tr>
<td>Suggests:</td>
<td>png</td>
</tr>
<tr>
<td>Enhances:</td>
<td>FastRWeb</td>
</tr>
<tr>
<td>Description:</td>
<td>R graphics device using cairographics library that can be used to create high-quality vector (PDF, PostScript and SVG) and bitmap output (PNG,JPEG,TIFF), and high-quality rendering in displays (X11 and Win32). Since it uses the same back-end for all output, copying across formats is WYSIWYG. Files are created without the dependence on X11 or other external programs. This device supports alpha channel (semi-transparent drawing) and resulting images can contain transparent and semi-transparent regions. It is ideal for use in server environments (file output) and as a replacement for other devices that don't have Cairo's capabilities such as alpha support or anti-aliasing. Backends are modular such that any subset of backends is supported.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>cairo (&gt;= 1.2 http://www.cairographics.org/)</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="http://www.rforge.net/Cairo/">http://www.rforge.net/Cairo/</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-11-27 20:50:44 UTC; rforge</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-11-28 08:44:24 UTC</td>
</tr>
</table>
<hr>
<h2 id='Cairo'>
Create a new Cairo-based graphics device
</h2><span id='topic+Cairo'></span><span id='topic+CairoX11'></span><span id='topic+CairoPNG'></span><span id='topic+CairoPDF'></span><span id='topic+CairoSVG'></span><span id='topic+CairoPS'></span><span id='topic+CairoWin'></span><span id='topic+CairoJPEG'></span><span id='topic+CairoTIFF'></span>

<h3>Description</h3>

<p><code>Cairo</code> initializes a new graphics device that uses the cairo
graphics library for rendering. The current implementation produces
high-quality PNG, JPEG, TIFF bitmap files, high resolution PDF files
with embedded fonts, SVG graphics and PostScript files. It also
provides X11 and Windows interactive graphics devices. Unlike other
devices it supports all graphics features including alpha blending,
anti-aliasing etc.
</p>
<p><code>CairoX11</code>, <code>CairoPNG</code>, <code>CairoPDF</code>, <code>CairoPS</code> and
<code>CairoSVG</code> are convenience wrappers of <code>Cairo</code> that take the
same arguments as the corresponding device it replaces such as
<code>X11</code>, <code>png</code>, <code>pdf</code>, etc. Use of the <code>Cairo</code>
function is encouraged as it is more flexible than the wrappers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Cairo(width = 640, height = 480, file="", type="png", pointsize=12, 
      bg = "transparent", canvas = "white", units = "px", dpi = "auto",
      ...)

CairoX11(display=Sys.getenv("DISPLAY"), width = 7, height = 7,
         pointsize = 12, gamma = getOption("gamma"), bg = "transparent",
         canvas = "white", xpos = NA, ypos = NA, ...)
CairoPNG(filename = "Rplot%03d.png", width = 480, height = 480,
         pointsize = 12, bg = "white",  res = NA, ...)
CairoJPEG(filename = "Rplot%03d.jpeg", width = 480, height = 480,
         pointsize = 12, quality = 75, bg = "white", res = NA, ...)
CairoTIFF(filename = "Rplot%03d.tiff", width = 480, height = 480,
         pointsize = 12, bg = "white", res = NA, ...)
CairoPDF(file = ifelse(onefile, "Rplots.pdf","Rplot%03d.pdf"),
         width = 6, height = 6, onefile = TRUE, family = "Helvetica",
         title = "R Graphics Output", fonts = NULL, paper = "special",
         encoding, bg, fg, pointsize, pagecentre, ...)
CairoSVG(file = ifelse(onefile, "Rplots.svg", "Rplot%03d.svg"),
         width = 6, height = 6, onefile = TRUE, bg = "transparent",
         pointsize = 12, ...)
CairoWin(width = 7, height = 7, pointsize = 12,
         record = getOption("graphics.record"),
         rescale = c("R", "fit", "fixed"), xpinch, ypinch, bg =
         "transparent", canvas = "white", gamma = getOption("gamma"),
         xpos = NA, ypos = NA, buffered = getOption("windowsBuffered"),
         restoreConsole = FALSE, ...)
CairoPS(file = ifelse(onefile, "Rplots.ps", "Rplot%03d.ps"),
        onefile = TRUE, family, title = "R Graphics Output", fonts = NULL,
        encoding, bg, fg, width, height, horizontal, pointsize, paper,
        pagecentre, print.it, command, colormodel)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Cairo_+3A_width">width</code></td>
<td>
<p>width of the plot area (also see <code>units</code>).</p>
</td></tr>
<tr><td><code id="Cairo_+3A_height">height</code></td>
<td>
<p>height of the plot area (also see <code>units</code>).</p>
</td></tr>
<tr><td><code id="Cairo_+3A_file">file</code></td>
<td>
<p>name of the file to be created or connection to write
to. Only PDF, PS and PNG types support connections. For X11
type <code>file</code> specifies the display name. If <code>NULL</code> or
<code>""</code> a reasonable default will be chosen which is
<code>"plot.type"</code> for file-oriented types and value of the
<code>DISPLAY</code> environment variable for X11. For image types
the file name can contain printf-style formatting expecting
one integer parameter which is the page number, such as
<code>"Rplot%03d.png"</code>. The page numbers start at one.
The filename is expanded using <code><a href="base.html#topic+path.expand">path.expand</a></code>.
</p>
</td></tr>
<tr><td><code id="Cairo_+3A_type">type</code></td>
<td>
<p>output type. This version of Cario supports &quot;png&quot;, &quot;jpeg&quot;
and &quot;tiff&quot; bitmaps (png/tiff with transparent background), &quot;pdf&quot;
PDF-file with embedded fonts, &quot;svg&quot; SVG-file, &quot;ps&quot; PostScript-file,
&quot;x11&quot; X11 interactive window and &quot;win&quot; Windows graphics.
A special type &quot;raster&quot; creates an image back-end that produces no
actual output file but can be used in conjunction with any of
<code>dev.capture()</code>, <code>grid.cap()</code> or <code>Cairo:::.image()</code>
to create in-memory images.
Depending on the support of various backends in cairo graphics some
of the options may not be available for your system. See
<code><a href="#topic+Cairo.capabilities">Cairo.capabilities</a></code> function.</p>
</td></tr>
<tr><td><code id="Cairo_+3A_pointsize">pointsize</code></td>
<td>
<p>initial text size (in points).</p>
</td></tr>
<tr><td><code id="Cairo_+3A_canvas">canvas</code></td>
<td>
<p>canvas color (must be opaque). The canvas is only used
by devices that display graphics on a screen and the canvas is only
visible only if bg is transparent.</p>
</td></tr>
<tr><td><code id="Cairo_+3A_bg">bg</code></td>
<td>
<p>plot background color (can include alpha-component or be
transparent alltogether).</p>
</td></tr>
<tr><td><code id="Cairo_+3A_units">units</code></td>
<td>
<p>units for of the <code>width</code> and <code>height</code>
specifications. It can be any of <code>"px"</code> (pixels),
<code>"in"</code> (inches), <code>"pt"</code> (points), <code>"cm"</code>
(centimeters) or <code>"mm"</code> (millimeters).</p>
</td></tr>
<tr><td><code id="Cairo_+3A_dpi">dpi</code></td>
<td>
<p>DPI used for the conversion of units to pixels. If set to
<code>"auto"</code> the DPI resolution will be determined by the
back-end.</p>
</td></tr>
<tr><td><code id="Cairo_+3A_...">...</code></td>
<td>
<p>additional backend specific parameters (e.g. <code>quality</code>
setting for JPEG (0..100), <code>compression</code> for TIFF
(0,1=none, 5=LZW (default), 7=JPEG, 8=Adobe Deflate),
<code>locator</code> for a custom locator function in image back-ends)
</p>
<p>The PDF back-end supports following additional arguments:
<code>author</code>, <code>subject</code>, <code>creator</code>, <code>keywords</code>,
<code>create.date</code> and <code>modify.date</code>. If specified, all of
the above must be single strings. The dates must be in
PDF-defined format, you can use something like
<code>paste0("D:",gsub("[- :]","",.POSIXct(Sys.time(),"GMT"))),"Z")</code> 
to convert from <code>POSIXct</code> to PDF format. In addition, the
<code>version</code> argument (as documented in <code><a href="grDevices.html#topic+pdf">pdf</a></code>)
can be either a string or a scalar real number. However,
the cairographics library only supports values 1.4 and 1.5.
</p>
<p>All parameters
listed below are defined by the other devices are are used by
the wrappers to make it easier replace other devices by
<code>Cairo</code>. They are described in detail in the documentation
corresponding to the device that is being replaced.</p>
</td></tr>
<tr><td><code id="Cairo_+3A_display">display</code></td>
<td>
<p>X11 display, see <code><a href="grDevices.html#topic+X11">X11</a></code></p>
</td></tr>
<tr><td><code id="Cairo_+3A_gamma">gamma</code></td>
<td>
<p>gamma correction</p>
</td></tr>
<tr><td><code id="Cairo_+3A_xpos">xpos</code></td>
<td>
<p>see <code><a href="grDevices.html#topic+X11">X11</a></code></p>
</td></tr>
<tr><td><code id="Cairo_+3A_ypos">ypos</code></td>
<td>
<p>see <code><a href="grDevices.html#topic+X11">X11</a></code></p>
</td></tr>
<tr><td><code id="Cairo_+3A_filename">filename</code></td>
<td>
<p>same as <code>file</code> in <code>Cairo</code></p>
</td></tr>
<tr><td><code id="Cairo_+3A_res">res</code></td>
<td>
<p>resolution in ppi, see <code><a href="grDevices.html#topic+png">png</a></code>, will
override <code>dpi</code> in <code>Cairo</code> if set to anything other
than <code>NA</code> or <code>NULL</code>. Note that cairographics does not
support tagging PNG output files with DPI so the raster image will
be produced with the dpi setting, but readers may render it at
some default dpi setting.</p>
</td></tr>
<tr><td><code id="Cairo_+3A_quality">quality</code></td>
<td>
<p>quality of the jpeg, see <code><a href="grDevices.html#topic+jpeg">jpeg</a></code></p>
</td></tr>
<tr><td><code id="Cairo_+3A_onefile">onefile</code></td>
<td>
<p>logical: if true (the default) allow multiple
figures in one file (see <code><a href="grDevices.html#topic+pdf">pdf</a></code>). false is currently
not supported by vector devices</p>
</td></tr>
<tr><td><code id="Cairo_+3A_family">family</code></td>
<td>
<p>font family, see <code><a href="grDevices.html#topic+pdf">pdf</a></code></p>
</td></tr>
<tr><td><code id="Cairo_+3A_title">title</code></td>
<td>
<p>see <code><a href="grDevices.html#topic+pdf">pdf</a></code></p>
</td></tr>
<tr><td><code id="Cairo_+3A_fonts">fonts</code></td>
<td>
<p>see <code><a href="grDevices.html#topic+pdf">pdf</a></code>, ignored, <code>Cairo</code>
automatically detects and embeds fonts</p>
</td></tr>
<tr><td><code id="Cairo_+3A_paper">paper</code></td>
<td>
<p>see <code><a href="grDevices.html#topic+pdf">pdf</a></code> (ignored, <code>Cairo</code> uses device dimensions)</p>
</td></tr>
<tr><td><code id="Cairo_+3A_encoding">encoding</code></td>
<td>
<p>see <code><a href="grDevices.html#topic+pdf">pdf</a></code> (ignored, <code>Cairo</code> uses
native enconding except for symbols)</p>
</td></tr>
<tr><td><code id="Cairo_+3A_fg">fg</code></td>
<td>
<p>see <code><a href="grDevices.html#topic+pdf">pdf</a></code> (ignored)</p>
</td></tr>
<tr><td><code id="Cairo_+3A_pagecentre">pagecentre</code></td>
<td>
<p>see <code><a href="grDevices.html#topic+pdf">pdf</a></code> (ignored, <code>Cairo</code>
uses device dimensions and thus it is irrelevant)</p>
</td></tr>
<tr><td><code id="Cairo_+3A_record">record</code></td>
<td>
<p>Windows-specific, ignored on unix</p>
</td></tr>
<tr><td><code id="Cairo_+3A_rescale">rescale</code></td>
<td>
<p>Windows-specific, ignored on unix</p>
</td></tr>
<tr><td><code id="Cairo_+3A_xpinch">xpinch</code></td>
<td>
<p>Windows-specific, ignored on unix</p>
</td></tr>
<tr><td><code id="Cairo_+3A_ypinch">ypinch</code></td>
<td>
<p>Windows-specific, ignored on unix</p>
</td></tr>
<tr><td><code id="Cairo_+3A_buffered">buffered</code></td>
<td>
<p>Windows-specific, ignored on unix</p>
</td></tr>
<tr><td><code id="Cairo_+3A_restoreconsole">restoreConsole</code></td>
<td>
<p>Windows-specific, ignored on unix</p>
</td></tr>
<tr><td><code id="Cairo_+3A_horizontal">horizontal</code></td>
<td>
<p>see <code><a href="grDevices.html#topic+postscript">postscript</a></code> (ignored)</p>
</td></tr>
<tr><td><code id="Cairo_+3A_print.it">print.it</code></td>
<td>
<p>see <code><a href="grDevices.html#topic+postscript">postscript</a></code> (ignored)</p>
</td></tr>
<tr><td><code id="Cairo_+3A_command">command</code></td>
<td>
<p>see <code><a href="grDevices.html#topic+postscript">postscript</a></code> (ignored)</p>
</td></tr>
<tr><td><code id="Cairo_+3A_colormodel">colormodel</code></td>
<td>
<p>see <code><a href="grDevices.html#topic+postscript">postscript</a></code> (ignored,
<code>Cairo</code> always uses <code>RGB</code> or <code>ARGB</code>)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The (invisible) return value is NULL if the device couldn't be created
or a <code>Cairo</code> object if successful. The vaule of the object is the
device number.
</p>


<h3>Known issues</h3>


<ul>
<li><p> The X11 backend is quite slow. The reason is the cairographics
implementation of the backend, so we can't do much about
it. It should be possible to drop cairographics' Xlib
backend entirely and use image backend copied into an X11
window instead. We may try that in future releases.
</p>
</li>
<li><p> TrueType (and OpenType) fonts are supported when this package is compiled
against a cairo graphics library configured with FreeType and
Fontconfig support. Therefore make sure have a cairo graphics
library with all bells and whistles to get a good result.
</p>
</li>
<li><p> R math symbols are supported, but require a TrueType &quot;Symbol&quot; font accessible
to Cairo under that name.
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+CairoFonts">CairoFonts</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># very simple KDE
Cairo(600, 600, file="plot.png", type="png", bg="white")
plot(rnorm(4000),rnorm(4000),col="#ff000018",pch=19,cex=2) # semi-transparent red
dev.off() # creates a file "plot.png" with the above plot

# you can use any Cairo backend and get the same result
# vector, bitmap or on-screen
CairoPDF("plot.pdf", 6, 6, bg="transparent")
data(iris)
attach(iris)
plot(Petal.Length, rep(-0.03,length(Species)), xlim=c(1,7),
     ylim=c(0,1.7), xlab="Petal.Length", ylab="Density",
     pch=21, cex=1.5, col="#00000001", main = "Iris (yet again)",
     bg=c("#ff000020","#00ff0020","#0000ff20")[unclass(Species)])
for (i in 1:3)
  polygon(density(Petal.Length[unclass(Species)==i],bw=0.2),
    col=c("#ff000040","#00ff0040","#0000ff40")[i])
dev.off()

## remove the example files if not in an interactive session
if (!interactive()) unlink(c("plot.png","plot.pdf"))
</code></pre>

<hr>
<h2 id='Cairo.capabilities'>
Reports which output types are supported by this Cairo build
</h2><span id='topic+Cairo.capabilities'></span>

<h3>Description</h3>

<p><code>Cairo.capabilities</code> returns a logical vector describing the
capabilities of this particular Cairo build.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Cairo.capabilities()
</code></pre>


<h3>Details</h3>

<p>The <code>Cairo</code> package provides multiple back-ends, such as images
(PNG, JPEG, TIFF), vector graphics (PDF, PostScript, SVG) or displays
(X11, Windows). However, not all systems support all back-ends. The
<code>Cairo.capabilities</code> function returns a logical vector showing
which capabilities are supported in this particular Cairo build.
</p>
<p>Note that the capabilities depend both on the libraries available in
the system as well as the compiled-in modules in cairo graphics.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+Cairo">Cairo</a></code>
</p>

<hr>
<h2 id='Cairo.capture'>
Capture contents of an image backend or a display list snapshot.
</h2><span id='topic+Cairo.capture'></span><span id='topic+Cairo.snapshot'></span>

<h3>Description</h3>

<p><code>Cairo.capture</code> is essentially the same as
<code>dev.capture(native=TRUE)</code> with the exception that it works where
<code>dev.capture</code> doesn't such as <code>onSave</code> callbacks.
</p>
<p><code>Cairo.snapshot</code> is very similar to <code>recordPlot</code> except it
also allows to retrieve the last snapshot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Cairo.capture(device = dev.cur())
Cairo.snapshot(device = dev.cur(), last=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Cairo.capture_+3A_device">device</code></td>
<td>
<p>device number or an object of the class <code>Cairo</code> (as
obtained from the <code><a href="#topic+Cairo">Cairo</a></code> function).</p>
</td></tr>
<tr><td><code id="Cairo.capture_+3A_last">last</code></td>
<td>
<p>logical, if <code>FALSE</code> then a new snapshot is created
(exactly the same as <code>recordPlot()</code>), if <code>TRUE</code> then the last
known snapshot is retrieved, if <code>NA</code> then a snapshot is created
first, but if the display list is empty last snapshot is retrieved
instead.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>Cairo.capture</code>: object of the class <code>nativeRaster</code>.
</p>
<p><code>Cairo.snapshot</code>: object of the class <code>recordedplot</code>.
</p>


<h3>Author(s)</h3>

<p>Simon Urbanek
</p>

<hr>
<h2 id='Cairo.onSave'>
Cairo callbacks
</h2><span id='topic+Cairo.onSave'></span>

<h3>Description</h3>

<p><code>Cairo.onSave</code> set the <code>onSave</code> callback which allows R code
to be run when Cairo finalizes a page (either due to a new page being
created or by the device being closed). The callback expects
<code>function(device, page)</code> where <code>device</code> will be the device
number and <code>page</code> is the currently finished page number (starting
at 1).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Cairo.onSave(device = dev.cur(), onSave)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Cairo.onSave_+3A_device">device</code></td>
<td>
<p>device number or <code>Cairo</code> object (as returned by the
<code><a href="#topic+Cairo">Cairo</a></code> function)</p>
</td></tr>
<tr><td><code id="Cairo.onSave_+3A_onsave">onSave</code></td>
<td>
<p>function that will replace the current callback or
<code>NULL</code> to remove the current callback</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The old callback being replaced or <code>NULL</code> if there was none.
</p>


<h3>Note</h3>

<p>The function <code>onSave</code> will be evaluated in the global environment
and no error checking is done, so you must make sure to catch errors,
otherwise the behavior is undefined (and may included crashing R or
other bad things).
</p>


<h3>Author(s)</h3>

<p>Simon Urbanek
</p>


<h3>See Also</h3>

<p><code><a href="#topic+Cairo">Cairo</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (require(png, quietly=TRUE)) {
  dev &lt;- Cairo(800, 600, type='raster')
  Cairo.onSave(dev, function(dev, page)
    .GlobalEnv$png &lt;- writePNG(Cairo.capture(dev))
  )
  plot(1:10, col=2)
  dev.off()
  str(png)
}
</code></pre>

<hr>
<h2 id='Cairo.serial'>
Check for changes in the graphics state of Cairo devices.
</h2><span id='topic+Cairo.serial'></span>

<h3>Description</h3>

<p><code>Cairo.serial</code> returns an integer that is increased with every
plotting operation on the device. This allows user code to determine
whether any new content has been added to the device since it was last
checked.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Cairo.serial(device = dev.cur())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Cairo.serial_+3A_device">device</code></td>
<td>
<p>device number or an object of the class <code>Cairo</code> (as
obtained from the <code><a href="#topic+Cairo">Cairo</a></code> function).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Integer value.
</p>


<h3>Note</h3>

<p>The integer value overflows to 0 at 2^31. Typically only equality
should be checked and for such it is extremely unlikely that the state
has changed yet the serial value is the same due to overflow.
</p>


<h3>Author(s)</h3>

<p>Simon Urbanek
</p>

<hr>
<h2 id='CairoFonMatch'>
Find installed fonts with a fontconfig pattern
</h2><span id='topic+CairoFontMatch'></span>

<h3>Description</h3>

<p><code>CairoFontMatch</code> searches for fonts based on a fontconfig pattern.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CairoFontMatch(fontpattern="Helvetica",sort=FALSE,verbose=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CairoFonMatch_+3A_fontpattern">fontpattern</code></td>
<td>
<p>character; a fontconfig pattern.</p>
</td></tr>
<tr><td><code id="CairoFonMatch_+3A_sort">sort</code></td>
<td>
<p>logical; if 'FALSE', display only the best matching font for the pattern. If 'TRUE', display a sorted list of best matching fonts.</p>
</td></tr>
<tr><td><code id="CairoFonMatch_+3A_verbose">verbose</code></td>
<td>
<p>logical; if 'FALSE', display the family, style, and file property for the pattern. if 'TRUE', display the canonical font pattern for each match.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function displays a list of one or more fonts matching the supplied
fontconfig pattern. sort='FALSE' displays the font that Cairo will use
for the supplied pattern, while sort='TRUE' displays a sorted list of
best matching fonts. The simplest fontconfig pattern matching all installed fonts
is &quot;:&quot;. Here's what CairoFontMatch(&quot;:&quot;) displays on this system:
</p>
<pre>
1. family: "Bitstream Vera Sans", style: "Roman", file: "/usr/share/fonts/truetype/ttf-bitstream-vera/Vera.ttf"
</pre>
<p>verbose='FALSE' displays the font properties 'family', 'style', and 'file', while
verbose='TRUE' will display the canonical font pattern, displaying all properties known
for the font (output of CairoFontMatch(&quot;:&quot;,verbose=TRUE)):
</p>
<pre>
1. family: "Bitstream Vera Sans", style: "Roman", file: "/usr/share/fonts/truetype/ttf-bitstream-vera/Vera.ttf"
   "Bitstream Vera Sans-12:familylang=en:style=Roman:stylelang=en:slant=0:weight=80:width=100:pixelsize=12.5:foundry=bitstream:hintstyle=3:hinting=True:verticallayout=False:autohint=False:globaladvance=True:index=0:outline=True:scalable=True:dpi=75:rgba=1:scale=1:fontversion=131072:fontformat=TrueType:embeddedbitmap=True:decorative=False"
</pre>
<p>A simple approach to selecting a font starts with calling CairoFontMatch(&quot;:&quot;,sort=TRUE) to
list all available fonts. Next, the user will choose a font from the list and call
CairoFontMatch(&quot;FamilyName:style=PreferredStyle&quot;,sort=TRUE) substituting &quot;FamilyName&quot;
and &quot;PreferredStyle&quot; with the desired values. If only one font is found, then the user
has found the fontconfig pattern that will select the desired font. Otherwise, the user
will call CairoFontMatch with verbose=TRUE to determine other properties to add to
the pattern to attain the desired font, for instance the fontformat.
</p>
<p>The following excerpt is from the fontconfig user's manual (http://fontconfig.org/) and
better describes the fontconfig pattern definition:
</p>
<p>&quot;Fontconfig provides a textual representation for patterns that
the library can both accept and generate. The representation is
in three parts, first a list of family names, second a list of
point sizes and finally a list of additional properties:
</p>
<p>&lt;families&gt;-&lt;point sizes&gt;:&lt;name1&gt;=&lt;values1&gt;:&lt;name2&gt;=&lt;values2&gt;...
</p>
<p>Values in a list are separated with commas. The name needn't
include either families or point sizes; they can be elided. In
addition, there are symbolic constants that simultaneously
indicate both a name and a value. Here are some examples:
</p>
<pre>
Font Pattern                    Meaning
----------------------------------------------------------
Times-12                        12 point Times Roman
Times-12:bold                   12 point Times Bold
Courier:italic                  Courier Italic in the default size
Monospace:matrix=1 .1 0 1       The users preferred monospace font
                                with artificial obliquing
</pre>
<p>The '\', '-', ':' and ',' characters in family names
must be preceeded by a '\' character to avoid having them
misinterpreted. Similarly, values containing '\', '=', '_', ':'
and ',' must also have them preceeded by a '\' character. The
'\' characters are stripped out of the family name and values
as the font name is read.&quot;
</p>


<h3>Known issues</h3>


<ul>
<li><p> This function is only available when the Cairo graphics library is configured
with FreeType and FontConfig support.
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+CairoFonts">CairoFonts</a></code>,
<code><a href="#topic+Cairo">Cairo</a></code>
</p>

<hr>
<h2 id='CairoFonts'>
Set the fonts used for all Cairo graphics devices.
</h2><span id='topic+CairoFonts'></span>

<h3>Description</h3>

<p><code>CairoFonts</code> initializes the fonts used for Cairo graphics devices.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CairoFonts(
	regular="Helvetica:style=Regular",
	bold="Helvetica:style=Bold",
	italic="Helvetica:style=Italic",
	bolditalic="Helvetica:style=Bold Italic,BoldItalic",
	symbol="Symbol", usePUA=TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CairoFonts_+3A_regular">regular</code></td>
<td>
<p>character; fontconfig pattern for the 'plain text' font.</p>
</td></tr>
<tr><td><code id="CairoFonts_+3A_bold">bold</code></td>
<td>
<p>character; fontconfig pattern for the 'bold face' font.</p>
</td></tr>
<tr><td><code id="CairoFonts_+3A_italic">italic</code></td>
<td>
<p>character; fontconfig pattern for the 'italic' font.</p>
</td></tr>
<tr><td><code id="CairoFonts_+3A_bolditalic">bolditalic</code></td>
<td>
<p>character; fontconfig pattern for the 'bold italic' font.</p>
</td></tr>
<tr><td><code id="CairoFonts_+3A_symbol">symbol</code></td>
<td>
<p>character; fontconfig pattern for the 'symbol' font.</p>
</td></tr>
<tr><td><code id="CairoFonts_+3A_usepua">usePUA</code></td>
<td>
<p>logical; if <code>FALSE</code> then symbols are using regular
Unicode code points (supported by regular fonts), otherwise Private
Unicode Area (PUA) of symbols is used (typically better propulated
by specialized symbol fonts). R 4.0.0 or higher is required for
<code>usePUA=FALSE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function sets the fonts for Cairo graphics devices globally; previously opened
Cairo graphics devices will also use these fonts. The argument names correspond to 
the five values of the graphical parameter 'font', i.e. regular is 1, bold is 2, italic 
is 3, etc.
</p>
<p>For an explanation of fontconfig patterns, see <code><a href="#topic+CairoFontMatch">CairoFontMatch</a></code>.
</p>


<h3>Known issues</h3>


<ul>
<li><p> This function is only available when the cairo graphics library is configured
with FreeType and Fontcofig support.
</p>
</li>
<li><p> R math symbols are supported, but require a &quot;Symbol&quot; font with
the Adobe Symbol Encoding unless <code>usePUA=FALSE</code> is used
(available in R 4.0.0 or higher only).
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+CairoFontMatch">CairoFontMatch</a></code>,
<code><a href="#topic+Cairo">Cairo</a></code>,
<code><a href="graphics.html#topic+par">par</a></code>,
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
#
# The following fontconfig patterns define the free truetype fonts 
# available in the debian package 'ttf-freefont'.
# 
# Freesans is very similar to Helvetica
CairoFonts(
	regular="FreeSans:style=Medium",
	bold="FreeSans:style=Bold",
	italic="FreeSans:style=Oblique",
	bolditalic="FreeSans:style=BoldOblique"
)

## End(Not run)</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package rucrdtw</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {rucrdtw}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#rucrdtw-package'><p>rucrdtw: Fast time series subsequence search in R</p></a></li>
<li><a href='#summary.ucrdtw'><p>Summarize subsequence search</p></a></li>
<li><a href='#summary.ucred'><p>Summarize subsequence search</p></a></li>
<li><a href='#synthetic_control'><p>Synthetic Control Chart Time Series Data Set</p></a></li>
<li><a href='#ucrdtw_ff'><p>UCR DTW Algorithm file-file method</p></a></li>
<li><a href='#ucrdtw_fv'><p>UCR DTW Algorithm file-vector method</p></a></li>
<li><a href='#ucrdtw_mv'><p>UCR DTW Algorithm matrix-vector method</p></a></li>
<li><a href='#ucrdtw_vv'><p>UCR DTW Algorithm vector-vector method</p></a></li>
<li><a href='#ucred_ff'><p>UCR ED Algorithm file-file method</p></a></li>
<li><a href='#ucred_fv'><p>UCR ED Algorithm file-vector method</p></a></li>
<li><a href='#ucred_mv'><p>UCR ED Algorithm matrix-vector method</p></a></li>
<li><a href='#ucred_vv'><p>UCR ED Algorithm vector-vector method</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>R Bindings for the UCR Suite</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.6</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-12-11</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/pboesu/rucrdtw/issues">https://github.com/pboesu/rucrdtw/issues</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/pboesu/rucrdtw">https://github.com/pboesu/rucrdtw</a></td>
</tr>
<tr>
<td>Description:</td>
<td>R bindings for functions from the UCR Suite by Rakthanmanon et al. (2012) &lt;<a href="https://doi.org/10.1145%2F2339530.2339576">doi:10.1145/2339530.2339576</a>&gt;, which enables ultrafast subsequence
      search for a best match under Dynamic Time Warping and Euclidean Distance.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.apache.org/LICENSE-1.1">Apache License version 1.1</a> | <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License version 2.0</a> [expanded from: Apache License]</td>
</tr>
<tr>
<td>LazyData:</td>
<td>TRUE</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.6)</td>
</tr>
<tr>
<td>Imports:</td>
<td>Rcpp</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, knitr, rmarkdown, dtw, rbenchmark</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-12-11 15:45:00 UTC; philipp.boerschsupan</td>
</tr>
<tr>
<td>Author:</td>
<td>Philipp Boersch-Supan
    <a href="https://orcid.org/0000-0001-6723-6833"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, cre],
  Thanawin Rakthanmanon [aut],
  Bilson Campana [aut],
  Abdullah Mueen [aut],
  Gustavo Batista [aut],
  Eamonn Keogh [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Philipp Boersch-Supan &lt;pboesu@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-12-11 16:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='rucrdtw-package'>rucrdtw: Fast time series subsequence search in R</h2><span id='topic+rucrdtw'></span><span id='topic+rucrdtw-package'></span>

<h3>Description</h3>

<p>Dynamic Time Warping (DTW) methods provide algorithms to optimally map a given time series onto all or part of another time series. The remaining cumulative distance between the series after the alignment is a useful distance metric in time series data mining applications for tasks such as classification, clustering, and anomaly detection. A broad suite of DTW algorithms is implemented in R in the <strong>dtw</strong> package (Giorgino 2009).
</p>
<p>Calculating a DTW alignment is computationally relatively expensive, and as a consequence DTW is often a bottleneck in time series data mining applications. The UCR Suite (Rakthanmanon et al. 2012) provides a highly optimized algorithm for best-match subsequence searches that avoids unnecessary distance computations and thereby enables fast DTW and Euclidean Distance queries even in data sets containing trillions of observations.
</p>
<p>The <strong>rucrdtw</strong> package provides R bindings for the UCR Suite. In addition to queries and data stored in text files, rucrdtw also implements methods for queries and/or data that are held in memory as R objects, as well as a method to do fast similarity searches against reference libraries of time series. The following table gives a quick overview over the different methods provided by <code>rucrdtw</code>:
</p>

<table>
<tr>
 <td style="text-align: left;">
  <strong>DTW method</strong> </td><td style="text-align: left;"> <strong>ED method</strong> </td><td style="text-align: left;"> <strong>data format</strong> </td><td style="text-align: left;"> <strong>query format</strong> </td><td style="text-align: left;"> <strong>Use case</strong></td>
</tr>
<tr>
 <td style="text-align: left;">
  <code><a href="#topic+ucrdtw_ff">ucrdtw_ff</a></code> </td><td style="text-align: left;"> <code><a href="#topic+ucred_ff">ucred_ff</a></code> </td><td style="text-align: left;"> text file </td><td style="text-align: left;"> text file </td><td style="text-align: left;"> data sets that are too large to keep in memory </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code><a href="#topic+ucrdtw_fv">ucrdtw_fv</a></code> </td><td style="text-align: left;"> <code><a href="#topic+ucred_fv">ucred_fv</a></code> </td><td style="text-align: left;"> text file </td><td style="text-align: left;">  numeric vector </td><td style="text-align: left;"> data sets that are too large to keep in memory</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code><a href="#topic+ucrdtw_vv">ucrdtw_vv</a></code> </td><td style="text-align: left;"> <code><a href="#topic+ucred_vv">ucred_vv</a></code> </td><td style="text-align: left;"> numeric vector </td><td style="text-align: left;"> numeric vector </td><td style="text-align: left;"> data sets that fit into memory</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code><a href="#topic+ucrdtw_mv">ucrdtw_mv</a></code> </td><td style="text-align: left;"> <code><a href="#topic+ucred_mv">ucred_mv</a></code> </td><td style="text-align: left;"> numeric matrix </td><td style="text-align: left;"> numeric vector </td><td style="text-align: left;"> compare query to a set of reference sequences of equal length
</td>
</tr>

</table>

<p>Examples of the functionality in this package are provided in the rucrdtw vignette:
</p>
<p><code>vignette("using_rucrdtw", package = "rucrdtw")</code>
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Philipp Boersch-Supan <a href="mailto:pboesu@gmail.com">pboesu@gmail.com</a> (<a href="https://orcid.org/0000-0001-6723-6833">ORCID</a>)
</p>
<p>Authors:
</p>

<ul>
<li><p> Thanawin Rakthanmanon
</p>
</li>
<li><p> Bilson Campana
</p>
</li>
<li><p> Abdullah Mueen
</p>
</li>
<li><p> Gustavo Batista
</p>
</li>
<li><p> Eamonn Keogh
</p>
</li></ul>



<h3>References</h3>

<p>Rakthanmanon, Thanawin, Bilson Campana, Abdullah Mueen, Gustavo Batista, Brandon Westover, Qiang Zhu, Jesin Zakaria, and Eamonn Keogh. 2012. Searching and Mining Trillions of Time Series Subsequences Under Dynamic Time Warping. In Proceedings of the 18th ACM SIGKDD International Conference on Knowledge Discovery and Data Mining, 262-70. ACM. doi:<a href="https://doi.org/10.1145/2339530.2339576">doi:10.1145/2339530.2339576</a>.
</p>
<p>Giorgino, Toni (2009). Computing and Visualizing Dynamic Time Warping Alignments in R: The dtw Package. Journal of Statistical Software, 31(7), 1-24, <a href="https://doi.org/10.18637/jss.v031.i07">doi:10.18637/jss.v031.i07</a>.
</p>
<p>UCR Suite Website: <a href="http://www.cs.ucr.edu/~eamonn/UCRsuite.html">http://www.cs.ucr.edu/~eamonn/UCRsuite.html</a>
</p>


<h3>See Also</h3>

<p><a href="dtw.html#topic+dtw-package">dtw-package</a>
</p>

<hr>
<h2 id='summary.ucrdtw'>Summarize subsequence search</h2><span id='topic+summary.ucrdtw'></span>

<h3>Description</h3>

<p>Summary method for class ucrdtw
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ucrdtw'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.ucrdtw_+3A_object">object</code></td>
<td>
<p>an object of class ucrdtw</p>
</td></tr>
<tr><td><code id="summary.ucrdtw_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from methods</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An unlisted version of the object is returned.
</p>

<hr>
<h2 id='summary.ucred'>Summarize subsequence search</h2><span id='topic+summary.ucred'></span>

<h3>Description</h3>

<p>Summary method for class ucred
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ucred'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.ucred_+3A_object">object</code></td>
<td>
<p>an object of class ucred</p>
</td></tr>
<tr><td><code id="summary.ucred_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from methods</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An unlisted version of the object is returned.
</p>

<hr>
<h2 id='synthetic_control'>Synthetic Control Chart Time Series Data Set</h2><span id='topic+synthetic_control'></span>

<h3>Description</h3>

<p>This dataset contains 600 examples of control charts synthetically generated by the process in Alcock and Manolopoulos (1999) and obtained from the UCI Machine Learning Repository <a href="http://archive.ics.uci.edu/ml/datasets/Synthetic+Control+Chart+Time+Series">http://archive.ics.uci.edu/ml/datasets/Synthetic+Control+Chart+Time+Series</a>.
</p>


<h3>Format</h3>

<p>A matrix with 600 rows (series) and 60 columns (timepoints)
</p>


<h3>Details</h3>

<p>There are six different classes of control charts:
</p>

<ol>
<li><p> Normal (Rows 1-100)
</p>
</li>
<li><p> Cyclic (Rows 101-200)
</p>
</li>
<li><p> Increasing trend (Rows 201-300)
</p>
</li>
<li><p> Decreasing trend (Rows 301-400)
</p>
</li>
<li><p> Upward shift (Rows 401-500)
</p>
</li>
<li><p> Downward shift (Rows 501-600)
</p>
</li></ol>



<h3>References</h3>

<p>Alcock R.J. and Manolopoulos Y. Time-Series Similarity Queries Employing a Feature-Based Approach. 7th Hellenic Conference on Informatics. August 27-29. Ioannina, Greece 1999.
</p>

<hr>
<h2 id='ucrdtw_ff'>UCR DTW Algorithm file-file method</h2><span id='topic+ucrdtw_ff'></span>

<h3>Description</h3>

<p>Sliding-window similarity search using DTW distance. This implementation is very close to the UCR Suite command line utility, in that it takes files as inputs for both query and data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ucrdtw_ff(data, query, qlength, dtwwindow)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ucrdtw_ff_+3A_data">data</code></td>
<td>
<p>character; path to data file</p>
</td></tr>
<tr><td><code id="ucrdtw_ff_+3A_query">query</code></td>
<td>
<p>character; path to query file</p>
</td></tr>
<tr><td><code id="ucrdtw_ff_+3A_qlength">qlength</code></td>
<td>
<p>integer; length of the query (number of data points), usually this should be equivalent to length(query), but it can be shorter.</p>
</td></tr>
<tr><td><code id="ucrdtw_ff_+3A_dtwwindow">dtwwindow</code></td>
<td>
<p>double; Size of the warping window size (as a proportion of query length). The DTW calculation in 'rucrdtw' uses a symmetric Sakoe-Chiba band. See Giorgino (2009) for a general coverage of warping window constraints.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a ucrdtw object. A list with the following elements
</p>

<ul>
<li> <p><strong>location:</strong> The starting location of the nearest neighbor of the given query, of size <code>length(query)</code>, in the data. Note that location starts from 1.
</p>
</li>
<li> <p><strong>distance:</strong> The DTW distance between the nearest neighbor and the query.
</p>
</li>
<li> <p><strong>prunedKim:</strong> Percentage of subsequences that were pruned based on the LB-Kim criterion.
</p>
</li>
<li> <p><strong>prunedKeogh:</strong> Percentage of subsequences that were pruned based on the LB-Keogh-EQ criterion.
</p>
</li>
<li> <p><strong>prunedKeogh2:</strong> Percentage of subsequences that were pruned based on the LB-Keogh-EC criterion.
</p>
</li>
<li> <p><strong>dtwCalc:</strong> Percentage of subsequences for which the full DTW distance was calculated.
</p>
</li></ul>

<p>For an explanation of the pruning criteria see Rakthanmanon et al. (2012).
</p>


<h3>References</h3>

<p>Rakthanmanon, Thanawin, Bilson Campana, Abdullah Mueen, Gustavo Batista, Brandon Westover, Qiang Zhu, Jesin Zakaria, and Eamonn Keogh. 2012. Searching and Mining Trillions of Time Series Subsequences Under Dynamic Time Warping. In Proceedings of the 18th ACM SIGKDD International Conference on Knowledge Discovery and Data Mining, 262-70. ACM. doi:<a href="https://doi.org/10.1145/2339530.2339576">doi:10.1145/2339530.2339576</a>.
</p>
<p>Giorgino, Toni (2009). Computing and Visualizing Dynamic Time Warping Alignments in R: The dtw Package. Journal of Statistical Software, 31(7), 1-24, doi:<a href="https://doi.org/10.18637/jss.v031.i07">doi:10.18637/jss.v031.i07</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#locate example data file
dataf &lt;- system.file("extdata/col_sc.txt", package="rucrdtw")
#locate example query file
queryf &lt;- system.file("extdata/mid_sc.txt", package="rucrdtw")
#determine length of query file
qlength &lt;- length(scan(queryf))
#run query
ucrdtw_ff(dataf, queryf, qlength, 0.05)
</code></pre>

<hr>
<h2 id='ucrdtw_fv'>UCR DTW Algorithm file-vector method</h2><span id='topic+ucrdtw_fv'></span>

<h3>Description</h3>

<p>Sliding-window similarity search using DTW distance. This implementation of the UCR Suite command line utility, takes a data file as input and an R numeric vector for the query
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ucrdtw_fv(data, query, dtwwindow)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ucrdtw_fv_+3A_data">data</code></td>
<td>
<p>character; path to data file</p>
</td></tr>
<tr><td><code id="ucrdtw_fv_+3A_query">query</code></td>
<td>
<p>numeric vector containing the query. The query length is set to the length of this object.</p>
</td></tr>
<tr><td><code id="ucrdtw_fv_+3A_dtwwindow">dtwwindow</code></td>
<td>
<p>double; Size of the warping window size (as a proportion of query length). The DTW calculation in 'rucrdtw' uses a symmetric Sakoe-Chiba band. See Giorgino (2009) for a general coverage of warping window constraints.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a ucrdtw object. A list with the following elements
</p>

<ul>
<li> <p><strong>location:</strong> The starting location of the nearest neighbor of the given query, of size <code>length(query)</code>, in the data. Note that location starts from 1.
</p>
</li>
<li> <p><strong>distance:</strong> The DTW distance between the nearest neighbor and the query.
</p>
</li>
<li> <p><strong>prunedKim:</strong> Percentage of subsequences that were pruned based on the LB-Kim criterion.
</p>
</li>
<li> <p><strong>prunedKeogh:</strong> Percentage of subsequences that were pruned based on the LB-Keogh-EQ criterion.
</p>
</li>
<li> <p><strong>prunedKeogh2:</strong> Percentage of subsequences that were pruned based on the LB-Keogh-EC criterion.
</p>
</li>
<li> <p><strong>dtwCalc:</strong> Percentage of subsequences for which the full DTW distance was calculated.
</p>
</li></ul>

<p>For an explanation of the pruning criteria see Rakthanmanon et al. (2012).
</p>


<h3>References</h3>

<p>Rakthanmanon, Thanawin, Bilson Campana, Abdullah Mueen, Gustavo Batista, Brandon Westover, Qiang Zhu, Jesin Zakaria, and Eamonn Keogh. 2012. Searching and Mining Trillions of Time Series Subsequences Under Dynamic Time Warping. In Proceedings of the 18th ACM SIGKDD International Conference on Knowledge Discovery and Data Mining, 262-70. ACM. doi:<a href="https://doi.org/10.1145/2339530.2339576">doi:10.1145/2339530.2339576</a>.
</p>
<p>Giorgino, Toni (2009). Computing and Visualizing Dynamic Time Warping Alignments in R: The dtw Package. Journal of Statistical Software, 31(7), 1-24, doi:<a href="https://doi.org/10.18637/jss.v031.i07">doi:10.18637/jss.v031.i07</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#locate example data file
dataf &lt;- system.file("extdata/col_sc.txt", package="rucrdtw")
#load example data set
data("synthetic_control")
#extract first row as query
query &lt;- synthetic_control[1,]
#run query
ucrdtw_fv(dataf, query, 0.05)
</code></pre>

<hr>
<h2 id='ucrdtw_mv'>UCR DTW Algorithm matrix-vector method</h2><span id='topic+ucrdtw_mv'></span>

<h3>Description</h3>

<p>This implementation of the UCR Suite command line utility, takes an R numeric matrix as data input and an R numeric vector for the query.
The default behaviour differs from the other methods, in that it does not perform a sliding window search for a match.
Instead it is designed to find a best match for a query in a reference set of time-series of the same length as the query.
This is useful, for example, when comparing a time-series of undetermined class to a labelled reference set of classified time-series.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ucrdtw_mv(data, query, dtwwindow, epoch = 1e+05, skip = TRUE, byrow = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ucrdtw_mv_+3A_data">data</code></td>
<td>
<p>numeric matrix containing data</p>
</td></tr>
<tr><td><code id="ucrdtw_mv_+3A_query">query</code></td>
<td>
<p>numeric vector containing the query. This determines the query length.</p>
</td></tr>
<tr><td><code id="ucrdtw_mv_+3A_dtwwindow">dtwwindow</code></td>
<td>
<p>double; Size of the warping window size (as a proportion of query length). The DTW calculation in 'rucrdtw' uses a symmetric Sakoe-Chiba band. See Giorgino (2009) for a general coverage of warping window constraints.</p>
</td></tr>
<tr><td><code id="ucrdtw_mv_+3A_epoch">epoch</code></td>
<td>
<p>int defaults to 1e5, should be <code class="reqn">\le</code> 1e6. This is the size of the data chunk that is processed at once. All cumulative values in the algorithm will be restarted after <code>epoch</code> iterations to reduce floating point errors in these values.</p>
</td></tr>
<tr><td><code id="ucrdtw_mv_+3A_skip">skip</code></td>
<td>
<p>boolean; defaults to TRUE. If TRUE bound calculations and if necessary, distance calculations, are only performed on non-overlapping segments of the data (i.e. multiples of <code>length(query)</code>). This is useful if <code>data</code> is a set of multiple reference time series, each of length <code>length(query)</code>. The location returned when skipping is the index of the subsequence.</p>
</td></tr>
<tr><td><code id="ucrdtw_mv_+3A_byrow">byrow</code></td>
<td>
<p>logical; If TRUE rows in <code>data</code> represent time-series, columns time-points</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a ucrdtw object. A list containing the following elements
</p>

<ul>
<li> <p><strong>location:</strong> The row or column number of the nearest neighbor of the given query in the data set.
</p>
</li>
<li> <p><strong>distance:</strong> The DTW distance between the nearest neighbor and the query.
</p>
</li>
<li> <p><strong>prunedKim:</strong> Percentage of subsequences that were pruned based on the LB-Kim criterion.
</p>
</li>
<li> <p><strong>prunedKeogh:</strong> Percentage of subsequences that were pruned based on the LB-Keogh-EQ criterion.
</p>
</li>
<li> <p><strong>prunedKeogh2:</strong> Percentage of subsequences that were pruned based on the LB-Keogh-EC criterion.
</p>
</li>
<li> <p><strong>dtwCalc:</strong> Percentage of subsequences for which the full DTW distance was calculated.
</p>
</li></ul>



<h3>References</h3>

<p>Giorgino, Toni (2009). Computing and Visualizing Dynamic Time Warping Alignments in R: The dtw Package. Journal of Statistical Software, 31(7), 1-24, doi:<a href="https://doi.org/10.18637/jss.v031.i07">doi:10.18637/jss.v031.i07</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#load example data
data("synthetic_control")
query &lt;- synthetic_control[5,]
#run query
ucrdtw_mv(synthetic_control, query, 0.05, byrow = TRUE)
</code></pre>

<hr>
<h2 id='ucrdtw_vv'>UCR DTW Algorithm vector-vector method</h2><span id='topic+ucrdtw_vv'></span>

<h3>Description</h3>

<p>Sliding-window similarity search using DTW distance. This implementation of the UCR Suite command line utility, takes an R numeric vector as data input and an R numeric vector for the query
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ucrdtw_vv(data, query, dtwwindow, epoch = 100000L, skip = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ucrdtw_vv_+3A_data">data</code></td>
<td>
<p>numeric vector containing data</p>
</td></tr>
<tr><td><code id="ucrdtw_vv_+3A_query">query</code></td>
<td>
<p>numeric vector containing the query. The length of this vector determines the query length.</p>
</td></tr>
<tr><td><code id="ucrdtw_vv_+3A_dtwwindow">dtwwindow</code></td>
<td>
<p>double; Size of the warping window size (as a proportion of query length). The DTW calculation in 'rucrdtw' uses a symmetric Sakoe-Chiba band. See Giorgino (2009) for a general coverage of warping window constraints.</p>
</td></tr>
<tr><td><code id="ucrdtw_vv_+3A_epoch">epoch</code></td>
<td>
<p>int defaults to 1e5, should be <code class="reqn">\le</code> 1e6. This is the size of the data chunk that is processed at once. All cumulative values in the algorithm will be restarted after <code>epoch</code> iterations to reduce floating point errors in these values.</p>
</td></tr>
<tr><td><code id="ucrdtw_vv_+3A_skip">skip</code></td>
<td>
<p>bool defaults to FALSE. If TRUE bound calculations and if necessary, distance calculations, are only performed on non-overlapping segments of the data (i.e. multiples of <code>qlength</code>). This is useful if <code>data</code> is a set of multiple reference time series, each of length <code>qlength</code>. The location returned when skipping is the index of the subsequence.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a ucrdtw object. A list with the following elements
</p>

<ul>
<li> <p><strong>location:</strong> The starting location of the nearest neighbor of the given query, of size <code>length(query)</code>, in the data. Note that location starts from 1.
</p>
</li>
<li> <p><strong>distance:</strong> The DTW distance between the nearest neighbor and the query.
</p>
</li>
<li> <p><strong>prunedKim:</strong> Percentage of subsequences that were pruned based on the LB-Kim criterion.
</p>
</li>
<li> <p><strong>prunedKeogh:</strong> Percentage of subsequences that were pruned based on the LB-Keogh-EQ criterion.
</p>
</li>
<li> <p><strong>prunedKeogh2:</strong> Percentage of subsequences that were pruned based on the LB-Keogh-EC criterion.
</p>
</li>
<li> <p><strong>dtwCalc:</strong> Percentage of subsequences for which the full DTW distance was calculated.
</p>
</li></ul>

<p>For an explanation of the pruning criteria see Rakthanmanon et al. (2012).
</p>


<h3>References</h3>

<p>Rakthanmanon, Thanawin, Bilson Campana, Abdullah Mueen, Gustavo Batista, Brandon Westover, Qiang Zhu, Jesin Zakaria, and Eamonn Keogh. 2012. Searching and Mining Trillions of Time Series Subsequences Under Dynamic Time Warping. In Proceedings of the 18th ACM SIGKDD International Conference on Knowledge Discovery and Data Mining, 262-70. ACM. doi:<a href="https://doi.org/10.1145/2339530.2339576">doi:10.1145/2339530.2339576</a>.
</p>
<p>Giorgino, Toni (2009). Computing and Visualizing Dynamic Time Warping Alignments in R: The dtw Package. Journal of Statistical Software, 31(7), 1-24, doi:<a href="https://doi.org/10.18637/jss.v031.i07">doi:10.18637/jss.v031.i07</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#read example data into vector
datav &lt;- scan(system.file("extdata/col_sc.txt", package="rucrdtw"))
#read example query into vector
query &lt;- scan(system.file("extdata/first_sc.txt", package="rucrdtw"))
#execute query
ucrdtw_vv(datav, query, 0.05)
</code></pre>

<hr>
<h2 id='ucred_ff'>UCR ED Algorithm file-file method</h2><span id='topic+ucred_ff'></span>

<h3>Description</h3>

<p>Sliding-window similarity search using euclidean distance. This implementation is very close to the UCR Suite command line utility, in that it takes files as inputs for both query and data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ucred_ff(data, query, qlength)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ucred_ff_+3A_data">data</code></td>
<td>
<p>character; path to data file</p>
</td></tr>
<tr><td><code id="ucred_ff_+3A_query">query</code></td>
<td>
<p>character; path to query file</p>
</td></tr>
<tr><td><code id="ucred_ff_+3A_qlength">qlength</code></td>
<td>
<p>integer; length of query (n data points). Usually the length of the data contained in <code>query</code>, but it can be shorter.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a ucred object. A list with the following elements
</p>

<ul>
<li> <p><strong>location:</strong> The starting location of the nearest neighbor of the given query, of size <code>qlength</code>, in the data. Note that location starts from 1.
</p>
</li>
<li> <p><strong>distance:</strong> The euclidean distance between the nearest neighbor and the query.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>#locate example data file
dataf &lt;- system.file("extdata/col_sc.txt", package="rucrdtw")
#locate example query file
queryf &lt;- system.file("extdata/mid_sc.txt", package="rucrdtw")
#determine length of query file
qlength &lt;- length(scan(queryf))
#run query
ucred_ff(dataf, queryf, qlength)
</code></pre>

<hr>
<h2 id='ucred_fv'>UCR ED Algorithm file-vector method</h2><span id='topic+ucred_fv'></span>

<h3>Description</h3>

<p>Sliding-window similarity search using Euclidean Distance. This implementation of the UCR Suite command line utility, takes a data file as input and an R numeric vector for the query.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ucred_fv(data, query)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ucred_fv_+3A_data">data</code></td>
<td>
<p>character; path to data file</p>
</td></tr>
<tr><td><code id="ucred_fv_+3A_query">query</code></td>
<td>
<p>numeric vector containing query</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a ucred object. A list with the following elements
</p>

<ul>
<li> <p><strong>location:</strong> The starting location of the nearest neighbor of the given query, of size <code>length(query)</code>, in the data. Note that location starts from 1.
</p>
</li>
<li> <p><strong>distance:</strong> The Euclidean Distance between the nearest neighbor and the query.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>#locate example data file
dataf &lt;- system.file("extdata/col_sc.txt", package="rucrdtw")
#read example query file into vector
query &lt;- scan(system.file("extdata/mid_sc.txt", package="rucrdtw"))
#run query
ucred_fv(dataf, query)
</code></pre>

<hr>
<h2 id='ucred_mv'>UCR ED Algorithm matrix-vector method</h2><span id='topic+ucred_mv'></span>

<h3>Description</h3>

<p>This implementation of the UCR Suite command line utility, takes an R numeric matrix as data input and an R numeric vector for the query.
The default behaviour differs from the other methods, in that it does not perform a sliding window search for a match.
Instead it is designed to find a best match for a query in a reference set of time-series of the same length as the query.
This is useful, for example, when comparing a time-series of undetermined class to a labelled reference set of classified time-series.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ucred_mv(data, query, skip = TRUE, byrow = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ucred_mv_+3A_data">data</code></td>
<td>
<p>numeric matrix containing data</p>
</td></tr>
<tr><td><code id="ucred_mv_+3A_query">query</code></td>
<td>
<p>numeric vector containing the query. This determines the query length.</p>
</td></tr>
<tr><td><code id="ucred_mv_+3A_skip">skip</code></td>
<td>
<p>boolean; defaults to TRUE. If TRUE bound calculations and if necessary, distance calculations, are only performed on non-overlapping segments of the data (i.e. multiples of <code>length(query)</code>). This is useful if <code>data</code> is a set of multiple reference time series, each of length <code>length(query)</code>. The location returned when skipping is the index of the subsequence.</p>
</td></tr>
<tr><td><code id="ucred_mv_+3A_byrow">byrow</code></td>
<td>
<p>logical; If TRUE rows in <code>data</code> represent time-series, columns time-points</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a ucred object. A list with the following elements
</p>

<ul>
<li> <p><strong>location:</strong> The starting location of the nearest neighbor of the given query, of size <code>qlength</code>, in the data. Note that location starts from 1.
</p>
</li>
<li> <p><strong>distance:</strong> The euclidean distance between the nearest neighbor and the query.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>#load example data matrix
data("synthetic_control")
#use on arbitrary row as query
query &lt;- synthetic_control[5,]
#run query
ucred_mv(synthetic_control, query, byrow=TRUE)
</code></pre>

<hr>
<h2 id='ucred_vv'>UCR ED Algorithm vector-vector method</h2><span id='topic+ucred_vv'></span>

<h3>Description</h3>

<p>Sliding-window similarity search using Euclidean Distance. This implementation of the UCR Suite Euclidean Distance command line utility takes an R numeric vector as data input and an R numeric vector for the query.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ucred_vv(data, query, skip = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ucred_vv_+3A_data">data</code></td>
<td>
<p>numeric vector containing data</p>
</td></tr>
<tr><td><code id="ucred_vv_+3A_query">query</code></td>
<td>
<p>numeric vector containing query</p>
</td></tr>
<tr><td><code id="ucred_vv_+3A_skip">skip</code></td>
<td>
<p>bool defaults to TRUE. If TRUE bound calculations and if necessary, distance calculations, are only performed on non-overlapping segments of the data (i.e. multiples of <code>length(query)</code>). This is useful if <code>data</code> is a set of multiple reference time series, each of length <code>length(query)</code>. The location returned when skipping is the index of the subsequence.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a ucred object. A list with the following elements
</p>

<ul>
<li> <p><strong>location:</strong> The starting location of the nearest neighbor of the given query, of size <code>length(query)</code>, in the data. Note that location starts from 1.
</p>
</li>
<li> <p><strong>distance:</strong> The Euclidean Distance between the nearest neighbor and the query.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>#read example file into vector
dataf &lt;- scan(system.file("extdata/col_sc.txt", package="rucrdtw"))
#read example query file into vector
query &lt;- scan(system.file("extdata/mid_sc.txt", package="rucrdtw"))
#run query
ucred_vv(dataf, query)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package lifecycle</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {lifecycle}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#lifecycle-package'><p>lifecycle: Manage the Life Cycle of your Package Functions</p></a></li>
<li><a href='#badge'><p>Embed a lifecycle badge in documentation</p></a></li>
<li><a href='#deprecate_soft'><p>Deprecate functions and arguments</p></a></li>
<li><a href='#deprecated'><p>Mark an argument as deprecated</p></a></li>
<li><a href='#expect_deprecated'><p>Does expression produce lifecycle warnings or errors?</p></a></li>
<li><a href='#last_lifecycle_warnings'><p>Display last deprecation warnings</p></a></li>
<li><a href='#pkg_lifecycle_statuses'><p>Lint usages of functions that have a non-stable life cycle.</p></a></li>
<li><a href='#signal_experimental'><p>Deprecated funtions for signalling experimental and lifecycle stages</p></a></li>
<li><a href='#signal_stage'><p>Signal other experimental or superseded features</p></a></li>
<li><a href='#verbosity'><p>Control the verbosity of deprecation signals</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Manage the Life Cycle of your Package Functions</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.4</td>
</tr>
<tr>
<td>Description:</td>
<td>Manage the life cycle of your exported functions with shared
    conventions, documentation badges, and user-friendly deprecation
    warnings.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://lifecycle.r-lib.org/">https://lifecycle.r-lib.org/</a>, <a href="https://github.com/r-lib/lifecycle">https://github.com/r-lib/lifecycle</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/r-lib/lifecycle/issues">https://github.com/r-lib/lifecycle/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.6)</td>
</tr>
<tr>
<td>Imports:</td>
<td>cli (&ge; 3.4.0), glue, rlang (&ge; 1.1.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, crayon, knitr, lintr, rmarkdown, testthat (&ge; 3.0.1),
tibble, tidyverse, tools, vctrs, withr</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/Needs/website:</td>
<td>tidyverse/tidytemplate, usethis</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-11-06 16:07:36 UTC; lionel</td>
</tr>
<tr>
<td>Author:</td>
<td>Lionel Henry [aut, cre],
  Hadley Wickham <a href="https://orcid.org/0000-0003-4757-117X"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Posit Software, PBC [cph, fnd]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Lionel Henry &lt;lionel@posit.co&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-11-07 10:10:10 UTC</td>
</tr>
</table>
<hr>
<h2 id='lifecycle-package'>lifecycle: Manage the Life Cycle of your Package Functions</h2><span id='topic+lifecycle'></span><span id='topic+lifecycle-package'></span>

<h3>Description</h3>

<p>Manage the life cycle of your exported functions with shared conventions, documentation badges, and user-friendly deprecation warnings.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Lionel Henry <a href="mailto:lionel@rstudio.com">lionel@rstudio.com</a>
</p>
<p>Authors:
</p>

<ul>
<li><p> Hadley Wickham <a href="mailto:hadley@rstudio.com">hadley@rstudio.com</a> (<a href="https://orcid.org/0000-0003-4757-117X">ORCID</a>)
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> RStudio [copyright holder, funder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://lifecycle.r-lib.org/">https://lifecycle.r-lib.org/</a>
</p>
</li>
<li> <p><a href="https://github.com/r-lib/lifecycle">https://github.com/r-lib/lifecycle</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/r-lib/lifecycle/issues">https://github.com/r-lib/lifecycle/issues</a>
</p>
</li></ul>


<hr>
<h2 id='badge'>Embed a lifecycle badge in documentation</h2><span id='topic+badge'></span>

<h3>Description</h3>

<p>To include lifecycle badges in your documentation:
</p>

<ol>
<li><p> Call <code>usethis::use_lifecycle()</code> to copy the badge images into the
<code style="white-space: pre;">&#8288;man/&#8288;</code> folder of your package.
</p>
</li>
<li><p> Call <code>lifecycle::badge()</code> inside R backticks to insert a
lifecycle badge:
</p>
<div class="sourceCode"><pre>#' `r lifecycle::badge("experimental")`
#' `r lifecycle::badge("deprecated")`
#' `r lifecycle::badge("superseded")`
</pre></div>
<p>If the deprecated feature is a function, a good place for this
badge is at the top of the topic description. If it is an argument,
you can put the badge in the argument description.
</p>
</li></ol>

<p>The badge is displayed as an image in the HTML version of the
documentation and as text otherwise.
</p>
<p><code>lifecycle::badge()</code> is run by roxygen at build time so you don't need
to add lifecycle to <code style="white-space: pre;">&#8288;Imports:&#8288;</code> just to use the badges. However, it's still
good practice to add to <code style="white-space: pre;">&#8288;Suggests:&#8288;</code> so that it will be available to
package developers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>badge(stage)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="badge_+3A_stage">stage</code></td>
<td>
<p>A lifecycle stage as a string. Must be one of
<code>"experimental"</code>, <code>"stable"</code>, <code>"superseded"</code>, or <code>"deprecated"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An <code>Rd</code> expression describing the lifecycle stage.
</p>


<h3>Badges</h3>


<ul>
<li> <p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a> <code>lifecycle::badge("experimental")</code>
</p>
</li>
<li> <p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt='[Stable]' /></a> <code>lifecycle::badge("stable")</code>
</p>
</li>
<li> <p><a href="https://lifecycle.r-lib.org/articles/stages.html#superseded"><img src="../help/figures/lifecycle-superseded.svg" alt='[Superseded]' /></a> <code>lifecycle::badge("superseded")</code>
</p>
</li>
<li> <p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a> <code>lifecycle::badge("deprecated")</code>
</p>
</li></ul>

<p>The meaning of these stages is described in
<code>vignette("stages")</code>.
</p>

<hr>
<h2 id='deprecate_soft'>Deprecate functions and arguments</h2><span id='topic+deprecate_soft'></span><span id='topic+deprecate_warn'></span><span id='topic+deprecate_stop'></span>

<h3>Description</h3>

<p>These functions provide three levels of verbosity for deprecated
functions. Learn how to use them in <code>vignette("communicate")</code>.
</p>

<ul>
<li> <p><code>deprecate_soft()</code> warns only if the deprecated function is called
directly, i.e. a user is calling a function they wrote in the global
environment or a developer is calling it in their package. It does not
warn when called indirectly, i.e. the deprecation comes from code that
you don't control.
</p>
</li>
<li> <p><code>deprecate_warn()</code> warns unconditionally.
</p>
</li>
<li> <p><code>deprecate_stop()</code> fails unconditionally.
</p>
</li></ul>

<p>Warnings are only issued once every 8 hours to avoid overwhelming
the user. Control with <code><a href="#topic+verbosity">options(lifecycle_verbosity)</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>deprecate_soft(
  when,
  what,
  with = NULL,
  details = NULL,
  id = NULL,
  env = caller_env(),
  user_env = caller_env(2)
)

deprecate_warn(
  when,
  what,
  with = NULL,
  details = NULL,
  id = NULL,
  always = FALSE,
  env = caller_env(),
  user_env = caller_env(2)
)

deprecate_stop(when, what, with = NULL, details = NULL, env = caller_env())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="deprecate_soft_+3A_when">when</code></td>
<td>
<p>A string giving the version when the behaviour was deprecated.</p>
</td></tr>
<tr><td><code id="deprecate_soft_+3A_what">what</code></td>
<td>
<p>A string describing what is deprecated:
</p>

<ul>
<li><p> Deprecate a whole function with <code>"foo()"</code>.
</p>
</li>
<li><p> Deprecate an argument with <code>"foo(arg)"</code>.
</p>
</li>
<li><p> Partially deprecate an argument with
<code>"foo(arg = 'must be a scalar integer')"</code>.
</p>
</li>
<li><p> Deprecate anything else with a custom message by wrapping it in <code>I()</code>.
</p>
</li></ul>

<p>You can optionally supply the namespace: <code>"ns::foo()"</code>, but this is
usually not needed as it will be inferred from the caller environment.</p>
</td></tr>
<tr><td><code id="deprecate_soft_+3A_with">with</code></td>
<td>
<p>An optional string giving a recommended replacement for the
deprecated behaviour. This takes the same form as <code>what</code>.</p>
</td></tr>
<tr><td><code id="deprecate_soft_+3A_details">details</code></td>
<td>
<p>In most cases the deprecation message can be
automatically generated from <code>with</code>. When it can't, use <code>details</code>
to provide a hand-written message.
</p>
<p><code>details</code> can either be a single string or a character vector,
which will be converted to a <a href="cli.html#topic+cli_bullets">bulleted list</a>.
By default, info bullets are used. Provide a named vectors to
override.</p>
</td></tr>
<tr><td><code id="deprecate_soft_+3A_id">id</code></td>
<td>
<p>The id of the deprecation. A warning is issued only once
for each <code>id</code>. Defaults to the generated message, but you should
give a unique ID when the message in <code>details</code> is built
programmatically and depends on inputs, or when you'd like to
deprecate multiple functions but warn only once for all of them.</p>
</td></tr>
<tr><td><code id="deprecate_soft_+3A_env">env</code>, <code id="deprecate_soft_+3A_user_env">user_env</code></td>
<td>
<p>Pair of environments that define where <code style="white-space: pre;">&#8288;deprecate_*()&#8288;</code>
was called (used to determine the package name) and where the function
called the deprecating function was called (used to determine if
<code>deprecate_soft()</code> should message).
</p>
<p>These are only needed if you're calling <code style="white-space: pre;">&#8288;deprecate_*()&#8288;</code> from an internal
helper, in which case you should forward <code>env = caller_env()</code> and
<code>user_env = caller_env(2)</code>.</p>
</td></tr>
<tr><td><code id="deprecate_soft_+3A_always">always</code></td>
<td>
<p>If <code>FALSE</code>, the default, will warn every 8 hours.  If
<code>TRUE</code>, will always warn in direct usages. Indirect usages keep
warning every 8 hours to avoid disrupting users who can't fix the
issue. Only use <code>always = TRUE</code> after at least one release with
the default.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>NULL</code>, invisibly.
</p>


<h3>Conditions</h3>


<ul>
<li><p> Deprecation warnings have class <code>lifecycle_warning_deprecated</code>.
</p>
</li>
<li><p> Deprecation errors have class <code>lifecycle_error_deprecated</code>.
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+lifecycle">lifecycle()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># A deprecated function `foo`:
deprecate_warn("1.0.0", "foo()")

# A deprecated argument `arg`:
deprecate_warn("1.0.0", "foo(arg)")

# A partially deprecated argument `arg`:
deprecate_warn("1.0.0", "foo(arg = 'must be a scalar integer')")

# A deprecated function with a function replacement:
deprecate_warn("1.0.0", "foo()", "bar()")

# A deprecated function with a function replacement from a
# different package:
deprecate_warn("1.0.0", "foo()", "otherpackage::bar()")

# A deprecated function with custom message:
deprecate_warn(
  when = "1.0.0",
  what = "foo()",
  details = "Please use `otherpackage::bar(foo = TRUE)` instead"
)

# A deprecated function with custom bulleted list:
deprecate_warn(
  when = "1.0.0",
  what = "foo()",
  details = c(
    x = "This is dangerous",
    i = "Did you mean `safe_foo()` instead?"
  )
)
</code></pre>

<hr>
<h2 id='deprecated'>Mark an argument as deprecated</h2><span id='topic+deprecated'></span><span id='topic+is_present'></span>

<h3>Description</h3>

<p>Signal deprecated argument by using self-documenting sentinel
<code>deprecated()</code> as default argument. Test whether the caller has
supplied the argument with <code>is_present()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>deprecated()

is_present(arg)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="deprecated_+3A_arg">arg</code></td>
<td>
<p>A <code>deprecated()</code> function argument.</p>
</td></tr>
</table>


<h3>Magical defaults</h3>

<p>We recommend importing <code>lifecycle::deprecated()</code> in your namespace
and use it without the namespace qualifier.
</p>
<p>In general, we advise against such magical defaults, i.e. defaults
that cannot be evaluated by the user. In the case of
<code>deprecated()</code>, the trade-off is worth it because the meaning of
this default is obvious and there is no reason for the user to call
<code>deprecated()</code> themselves.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>foobar_adder &lt;- function(foo, bar, baz = deprecated()) {
  # Check if user has supplied `baz` instead of `bar`
  if (lifecycle::is_present(baz)) {

    # Signal the deprecation to the user
    deprecate_warn("1.0.0", "foo::bar_adder(baz = )", "foo::bar_adder(bar = )")

    # Deal with the deprecated argument for compatibility
    bar &lt;- baz
  }

  foo + bar
}

foobar_adder(1, 2)
foobar_adder(1, baz = 2)
</code></pre>

<hr>
<h2 id='expect_deprecated'>Does expression produce lifecycle warnings or errors?</h2><span id='topic+expect_deprecated'></span><span id='topic+expect_defunct'></span>

<h3>Description</h3>

<p>These functions are equivalent to <code><a href="testthat.html#topic+expect_error">testthat::expect_warning()</a></code> and
<code><a href="testthat.html#topic+expect_error">testthat::expect_error()</a></code> but check specifically for lifecycle
warnings or errors.
</p>
<p>To test whether a deprecated feature still works without causing a
deprecation warning, set the <code>lifecycle_verbosity</code> option to
<code>"quiet"</code>.
</p>
<div class="sourceCode"><pre>test_that("feature still works", {
  withr::local_options(lifecycle_verbosity = "quiet")
  expect_true(my_deprecated_function())
})
</pre></div>


<h3>Usage</h3>

<pre><code class='language-R'>expect_deprecated(expr, regexp = NULL, ...)

expect_defunct(expr)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="expect_deprecated_+3A_expr">expr</code></td>
<td>
<p>Expression that should produce a lifecycle warning or
error.</p>
</td></tr>
<tr><td><code id="expect_deprecated_+3A_regexp">regexp</code></td>
<td>
<p>Optional regular expression matched against the
expected warning message.</p>
</td></tr>
<tr><td><code id="expect_deprecated_+3A_...">...</code></td>
<td>

<p>Arguments passed on to <code><a href="testthat.html#topic+expect_match">expect_match</a></code>
</p>

<dl>
<dt><code>fixed</code></dt><dd><p>If <code>TRUE</code>, treats <code>regexp</code> as a string to be matched exactly
(not a regular expressions). Overrides <code>perl</code>.</p>
</dd>
<dt><code>perl</code></dt><dd><p>logical.  Should Perl-compatible regexps be used?</p>
</dd>
</dl>
</td></tr>
</table>


<h3>Details</h3>

<p><code>expect_deprecated()</code> sets the <a href="#topic+verbosity">lifecycle_verbosity</a>
option to <code>"warning"</code> to enforce deprecation warnings which are
otherwise only shown once every 8 hours.
</p>

<hr>
<h2 id='last_lifecycle_warnings'>Display last deprecation warnings</h2><span id='topic+last_lifecycle_warnings'></span>

<h3>Description</h3>

<p><code>last_lifecycle_warnings()</code> returns a list of all warnings that
occurred during the last top-level R command, along with a
backtrace.
</p>
<p>Use <code>print(last_lifecycle_warnings(), simplify = level)</code> to control
the verbosity of the backtrace. The <code>simplify</code> argument supports
one of <code>"branch"</code> (the default), <code>"collapse"</code>, and <code>"none"</code> (in
increasing order of verbosity).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>last_lifecycle_warnings()
</code></pre>


<h3>Examples</h3>

<pre><code class='language-R'># These examples are not run because `last_lifecycle_warnings()` does not
# work well within knitr and pkgdown
## Not run: 

f &lt;- function() invisible(g())
g &lt;- function() list(h(), i())
h &lt;- function() deprecate_warn("1.0.0", "this()")
i &lt;- function() deprecate_warn("1.0.0", "that()")
f()

# Print all the warnings that occurred during the last command:
last_lifecycle_warnings()


# By default, the backtraces are printed in their simplified form.
# Use `simplify` to control the verbosity:
print(last_lifecycle_warnings(), simplify = "none")

## End(Not run)
</code></pre>

<hr>
<h2 id='pkg_lifecycle_statuses'>Lint usages of functions that have a non-stable life cycle.</h2><span id='topic+pkg_lifecycle_statuses'></span><span id='topic+lint_lifecycle'></span><span id='topic+lint_tidyverse_lifecycle'></span>

<h3>Description</h3>


<ul>
<li> <p><code>lint_lifecycle</code> dynamically queries the package documentation for packages
in <code>packages</code> for lifecycle annotations and then searches the directory in
<code>path</code> for usages of those functions.
</p>
</li>
<li> <p><code>lint_tidyverse_lifecycle</code> is a convenience function to call <code>lint_lifecycle</code>
for all the packages in the tidyverse.
</p>
</li>
<li> <p><code>pkg_lifecycle_statuses</code> returns a data frame of functions with lifecycle
annotations for an installed package.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>pkg_lifecycle_statuses(
  package,
  which = c("superseded", "deprecated", "questioning", "defunct", "experimental",
    "soft-deprecated", "retired")
)

lint_lifecycle(
  packages,
  path = ".",
  pattern = "[.][Rr](md)?",
  which = c("superseded", "deprecated", "questioning", "defunct", "experimental",
    "soft-deprecated", "retired")
)

lint_tidyverse_lifecycle(
  path = ".",
  pattern = "[.][Rr](md)?",
  which = c("superseded", "deprecated", "questioning", "defunct", "experimental",
    "soft-deprecated", "retired")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pkg_lifecycle_statuses_+3A_package">package</code></td>
<td>
<p>The name of an installed package.</p>
</td></tr>
<tr><td><code id="pkg_lifecycle_statuses_+3A_which">which</code></td>
<td>
<p>The lifecycle statuses to retrieve.
Include <code>NA</code> if you want to include functions without a specified lifecycle
status in the results.</p>
</td></tr>
<tr><td><code id="pkg_lifecycle_statuses_+3A_packages">packages</code></td>
<td>
<p>One or more installed packages to query for lifecycle statuses.</p>
</td></tr>
<tr><td><code id="pkg_lifecycle_statuses_+3A_path">path</code></td>
<td>
<p>The directory path to the files you want to search.</p>
</td></tr>
<tr><td><code id="pkg_lifecycle_statuses_+3A_pattern">pattern</code></td>
<td>
<p>Any files matching this pattern will be searched. The default
searches any files ending in <code>.R</code> or <code>.Rmd</code>.</p>
</td></tr>
</table>

<hr>
<h2 id='signal_experimental'>Deprecated funtions for signalling experimental and lifecycle stages</h2><span id='topic+signal_experimental'></span><span id='topic+signal_superseded'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a>
Please use <code><a href="#topic+signal_stage">signal_stage()</a></code> instead
</p>


<h3>Usage</h3>

<pre><code class='language-R'>signal_experimental(when, what, env = caller_env())

signal_superseded(when, what, env = caller_env())
</code></pre>

<hr>
<h2 id='signal_stage'>Signal other experimental or superseded features</h2><span id='topic+signal_stage'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
</p>
<p><code>signal_stage()</code> allows you to signal life cycle stages other than
deprecation (for which you should use <code><a href="#topic+deprecate_warn">deprecate_warn()</a></code> and friends).
There is no behaviour associated with this signal, but in the future
we will provide tools to log and report on usage of experimental and
superseded functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>signal_stage(stage, what, with = NULL, env = caller_env())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="signal_stage_+3A_stage">stage</code></td>
<td>
<p>Life cycle stage, either &quot;experimental&quot; or &quot;superseded&quot;.</p>
</td></tr>
<tr><td><code id="signal_stage_+3A_what">what</code></td>
<td>
<p>String describing what feature the stage applies too, using
the same syntax as <code><a href="#topic+deprecate_warn">deprecate_warn()</a></code>.</p>
</td></tr>
<tr><td><code id="signal_stage_+3A_with">with</code></td>
<td>
<p>An optional string giving a recommended replacement for
a superseded function.</p>
</td></tr>
<tr><td><code id="signal_stage_+3A_env">env</code></td>
<td>
<p>Environment used to determine where <code>signal_stage()</code>
was called, used to determine the package name).</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>foofy &lt;- function(x, y, z) {
  signal_stage("experimental", "foofy()")
  x + y / z
}
foofy(1, 2, 3)
</code></pre>

<hr>
<h2 id='verbosity'>Control the verbosity of deprecation signals</h2><span id='topic+verbosity'></span>

<h3>Description</h3>

<p>There are 3 levels of verbosity for deprecated functions: silence,
warning, and error. Since the lifecycle package avoids disruptive
warnings, the default level of verbosity depends on the lifecycle
stage of the deprecated function, on the context of the caller
(global environment or testthat unit tests cause more warnings),
and whether the warning was already issued (see the help for
<a href="#topic+deprecate_soft">deprecation functions</a>).
</p>
<p>You can control the level of verbosity with the global option
<code>lifecycle_verbosity</code>. It can be set to:
</p>

<ul>
<li> <p><code>"quiet"</code> to suppress all deprecation messages.
</p>
</li>
<li> <p><code>"default"</code> or <code>NULL</code> to warn once every 8 hours.
</p>
</li>
<li> <p><code>"warning"</code> to warn every time.
</p>
</li>
<li> <p><code>"error"</code> to error instead of warning.
</p>
</li></ul>

<p>Note that functions calling <code><a href="#topic+deprecate_stop">deprecate_stop()</a></code> invariably throw
errors.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (rlang::is_installed("testthat")) {
  library(testthat)

  mytool &lt;- function() {
    deprecate_soft("1.0.0", "mytool()")
    10 * 10
  }

  # Forcing the verbosity level is useful for unit testing. You can
  # force errors to test that the function is indeed deprecated:
  test_that("mytool is deprecated", {
    rlang::local_options(lifecycle_verbosity = "error")
    expect_error(mytool(), class = "defunctError")
  })

  # Or you can enforce silence to safely test that the function
  # still works:
  test_that("mytool still works", {
    rlang::local_options(lifecycle_verbosity = "quiet")
    expect_equal(mytool(), 100)
  })
}
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

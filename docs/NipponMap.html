<!DOCTYPE html><html lang="en"><head><title>Help for package NipponMap</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {NipponMap}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#NipponMap-package'>
<p>Japanese Map Data and Functions</p></a></li>
<li><a href='#JapanPrefCartogram'><p>A simple circle cartogram of Japan</p></a></li>
<li><a href='#JapanPrefMap'><p>A simple choropleth map of Japan</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Version:</td>
<td>0.2</td>
</tr>
<tr>
<td>Date:</td>
<td>2018-05-16</td>
</tr>
<tr>
<td>Title:</td>
<td>Japanese Map Data and Functions</td>
</tr>
<tr>
<td>Author:</td>
<td>Susumu Tanimura [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Susumu Tanimura &lt;aruminat@gmail.com&gt;</td>
</tr>
<tr>
<td>Imports:</td>
<td>sf, tibble</td>
</tr>
<tr>
<td>Suggests:</td>
<td>RColorBrewer, foreign</td>
</tr>
<tr>
<td>Enhances:</td>
<td>kokudosuuchi, estatapi, jpndistrict, jpmesh</td>
</tr>
<tr>
<td>Description:</td>
<td>Digital map data of Japan for choropleth mapping, including a circle cartogram.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2018-05-16 12:20:41 UTC; umusus</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2018-05-16 12:30:20 UTC</td>
</tr>
</table>
<hr>
<h2 id='NipponMap-package'>
Japanese Map Data and Functions
</h2><span id='topic+NipponMap-package'></span><span id='topic+NipponMap'></span>

<h3>Description</h3>

<p>Digital map data of Japan for choropleth mapping, including a circle cartogram.
</p>


<h3>Details</h3>

<p>The DESCRIPTION file:
</p>

<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> NipponMap</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 0.2</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2018-05-16</td>
</tr>
<tr>
 <td style="text-align: left;">
Title: </td><td style="text-align: left;"> Japanese Map Data and Functions</td>
</tr>
<tr>
 <td style="text-align: left;">
Authors@R: </td><td style="text-align: left;"> c(person("Susumu", "Tanimura", role = c("aut", "cre"),
            email = "aruminat@gmail.com"))</td>
</tr>
<tr>
 <td style="text-align: left;">
Author: </td><td style="text-align: left;"> Susumu Tanimura [aut, cre]</td>
</tr>
<tr>
 <td style="text-align: left;">
Maintainer: </td><td style="text-align: left;"> Susumu Tanimura &lt;aruminat@gmail.com&gt;</td>
</tr>
<tr>
 <td style="text-align: left;">
Imports: </td><td style="text-align: left;"> sf, tibble</td>
</tr>
<tr>
 <td style="text-align: left;">
Suggests: </td><td style="text-align: left;"> RColorBrewer, foreign</td>
</tr>
<tr>
 <td style="text-align: left;">
Enhances: </td><td style="text-align: left;"> kokudosuuchi, estatapi, jpndistrict, jpmesh</td>
</tr>
<tr>
 <td style="text-align: left;">
Description: </td><td style="text-align: left;"> Digital map data of Japan for choropleth mapping, including a circle cartogram.</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL (&gt;= 2)</td>
</tr>
<tr>
 <td style="text-align: left;">
NeedsCompilation: </td><td style="text-align: left;"> no</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>Index of help topics:
</p>
<pre>
JapanPrefCartogram      A simple circle cartogram of Japan
JapanPrefMap            A simple choropleth map of Japan
NipponMap-package       Japanese Map Data and Functions
</pre>
<p>The package provides digital map data and functions of Japan for very
simple choropleth mapping in prefecture level. The cartographic function
in <span class="pkg">Nippon</span> package was moved to <span class="pkg">NipponMap</span> package. If a user
needs more complex digital map data or in municipal level, such data is
available in other package (e.g., <span class="pkg">jpndistrict</span> and
<span class="pkg">divagis</span>). </p>


<h3>Author(s)</h3>

<p>Susumu Tanimura [aut, cre]
</p>
<p>Maintainer: Susumu Tanimura &lt;aruminat@gmail.com&gt;
</p>

<hr>
<h2 id='JapanPrefCartogram'>A simple circle cartogram of Japan</h2><span id='topic+JapanPrefCartogram'></span>

<h3>Description</h3>

<p>Draw a circle cartogram of Japan in the prefecture level
</p>


<h3>Usage</h3>

<pre><code class='language-R'>JapanPrefCartogram(col = NULL, axes = FALSE, xlab = "", ylab = "", xlim = NULL,
                               ylim = NULL, main = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="JapanPrefCartogram_+3A_col">col</code></td>
<td>
<p>A character vector. RGB or named colors in order of JISCODE to fill a
polygon of 47 prefectures.</p>
</td></tr>
<tr><td><code id="JapanPrefCartogram_+3A_axes">axes</code></td>
<td>
<p>logical. If TRUE, axes are drawn. The default value is
FALSE.</p>
</td></tr>
<tr><td><code id="JapanPrefCartogram_+3A_xlab">xlab</code></td>
<td>
<p>A title for the x axis. The default value is NULL.</p>
</td></tr>
<tr><td><code id="JapanPrefCartogram_+3A_ylab">ylab</code></td>
<td>
<p>A title for the y axis. The default value is NULL.</p>
</td></tr>
<tr><td><code id="JapanPrefCartogram_+3A_xlim">xlim</code></td>
<td>
<p>The x-range to be displayed. The default value is NULL.</p>
</td></tr>
<tr><td><code id="JapanPrefCartogram_+3A_ylim">ylim</code></td>
<td>
<p>The y-range to be displayed. The default value is NULL.</p>
</td></tr>
<tr><td><code id="JapanPrefCartogram_+3A_main">main</code></td>
<td>
<p>An overall title for the plot</p>
</td></tr>
<tr><td><code id="JapanPrefCartogram_+3A_...">...</code></td>
<td>
<p>any other options passed to control circles.</p>
</td></tr>
</table>


<h3>Details</h3>

<p> The function <code>JapanPrefCartogram</code> draws a simple circle
cartogram of Japan in prefecture level. The size of circles represents
population in 2015 in each prefecture. Currently, the size is
fixed. Users can control only colors and some other graphic
parameters. The order of colors must match to the JIS-code order of
prefectures in Japan.
</p>
<p>Population set was obtained from 2015 Population Census of Japan.
</p>


<h3>Value</h3>

<p>A data.frame. The coordinates of a label point in each prefecture.
</p>


<h3>Note</h3>

<p> The author would like to express the deepest appreciation to
Prof. Luc Anselin, the developer of GeoDa, the output of which was
used for calculation of the coordinates of this cartogram. </p>


<h3>Author(s)</h3>

<p>Susumu Tanimura <a href="mailto:aruminat@gmail.com">aruminat@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>JapanPrefCartogram()

op &lt;- palette(rainbow(47, end = 0.9))
xy &lt;- JapanPrefCartogram(col = 1:47, fg = gray(.8))
lb &lt;- character(47)
lb[13] &lt;- "Tokyo"
text(xy, lb)
palette(op)
</code></pre>

<hr>
<h2 id='JapanPrefMap'>A simple choropleth map of Japan</h2><span id='topic+JapanPrefMap'></span>

<h3>Description</h3>

<p>Draw a very simple choropleth map of Japan with prefecture boundaries
</p>


<h3>Usage</h3>

<pre><code class='language-R'>JapanPrefMap(col = NULL, inset = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="JapanPrefMap_+3A_col">col</code></td>
<td>

<p>A character vector. RGB or named colors in order of JISCODE to fill a
polygon of 47 prefectures.
</p>
</td></tr>
<tr><td><code id="JapanPrefMap_+3A_inset">inset</code></td>
<td>
<p>logical. if TRUE, Okinawa Prefecture is shown in a inset
map. The default value is TRUE.</p>
</td></tr>
<tr><td><code id="JapanPrefMap_+3A_...">...</code></td>
<td>
<p>any other options passed to plot method of Simple features class.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function <code>JapanPrefMap</code> draws a simple choropleth map of
Japan in prefecture level with or without inset of Okinawa
Prefecture. This feature is most frequently desired by Japanese R users
but has been difficult to draw with R functions, for example,
<code>map('japan')</code> in <span class="pkg">mapdata</span> package.  What is important is that
this function receives a color vector in order of JIS code of
prefectures. Since most official statistics by prefecture is in order of
the JIS code, users simply create a color sequence for a choropleth map
without any rearranging the order. Users are now freed from a trouble in
applying <code>order</code> or <code>merge</code> functions to their data set.
</p>
<p>Population set was retrieved from 2010 Population Census of Japan.
</p>


<h3>Value</h3>

<p>A matrix. The coordinates of a label point in each prefecture.
</p>


<h3>Note</h3>

<p>For the sake of simple visualization, prefecture boundaries are lacking
accuracy; assisted by Quantum GIS (<a href="http://www.qgis.org/">http://www.qgis.org/</a>), the
author drew by hand the boundaries omitting minor islands. Therefore,
users should not use the map for calculating area or measuring a distance.
</p>


<h3>Author(s)</h3>

<p>Susumu Tanimura <a href="mailto:aruminat@gmail.com">aruminat@gmail.com</a>
</p>


<h3>See Also</h3>


<p><code><a href="cshapes.html#topic+cshp">cshp</a></code> in <span class="pkg">cshapes</span> package,
<code><a href="mapdata.html#topic+japan">japan</a></code> in <span class="pkg">mapdata</span> package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>JapanPrefMap()

if (requireNamespace("RColorBrewer", quietly = TRUE)) {
  cols &lt;- rev(RColorBrewer::brewer.pal(8,"Set2"))
}else{
  cols &lt;- sample(colours(), 47)
}
JapanPrefMap(col = cols, border = gray(.8), axes = TRUE)

if (requireNamespace("foreign", quietly = TRUE)) {
dat &lt;- foreign::read.dbf(system.file("shapes/jpn.dbf", package="NipponMap"))
op &lt;- par(bg = "skyblue")
p &lt;- JapanPrefMap(col = "ivory")
col &lt;- c("olivedrab4", "olivedrab1")
pop &lt;- dat$population / 1e+7
symbols(p, circles = sqrt(pop / (2 * pi)), inches = FALSE,
    fg = col[1], bg = col[2], add = TRUE)
idx &lt;- c(1e+6, 5e+6, 1e+7)
pos &lt;- legend("bottomright", legend = format(idx, scientific = 10, big.mark = ","),
    title = "Population (2010)", bg = "white", x.intersp = 2, y.intersp = 1.5)
symbols(pos$text$x - 1, pos$text$y, circles = sqrt(idx / 1e+7 / (2 * pi)),
    inches = FALSE, fg = col[1], bg = col[2], add = TRUE)
par(op)
}
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

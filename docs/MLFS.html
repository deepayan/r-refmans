<!DOCTYPE html><html><head><title>Help for package MLFS</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {MLFS}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#add_stand_variables'><p>add_stand_variables</p></a></li>
<li><a href='#add_stand_variables_halfPeriod'><p>add_stand_variables_halfPeriod</p></a></li>
<li><a href='#BAI_prediction'><p>BAI_prediction</p></a></li>
<li><a href='#BAI_prediction_halfPeriod'><p>BAI_prediction_halfPeriod</p></a></li>
<li><a href='#calculate_BAL'><p>calculate_BAL</p></a></li>
<li><a href='#calculate_BAL_halfPeriod'><p>calculate_BAL_halfPeriod</p></a></li>
<li><a href='#crownHeight_prediction'><p>crownHeight_prediction</p></a></li>
<li><a href='#crownHeight_prediction_halfPeriod'><p>crownHeight_prediction_halfPeriod</p></a></li>
<li><a href='#data_BAI'><p>An example of joined national forest inventory data, site descriptors, and</p>
climate data that is used as a fitting data frame for BAI sub model</a></li>
<li><a href='#data_climate'><p>An example of climate data</p></a></li>
<li><a href='#data_final_cut_weights'><p>An example of data_final_cut_weights</p></a></li>
<li><a href='#data_ingrowth'><p>An example of data_ingrowth suitable for the MLFS</p></a></li>
<li><a href='#data_mortality'><p>An example of joined national forest inventory data, site descriptors, and</p>
climate data that is used as a fitting data frame for mortality sub model</a></li>
<li><a href='#data_NFI'><p>An example of national forest inventory data</p></a></li>
<li><a href='#data_site'><p>An example of site descriptors</p></a></li>
<li><a href='#data_tariffs'><p>An example of table with one-parametric volume functions (adapted uniform French tariffs)</p></a></li>
<li><a href='#data_thinning_weights'><p>An example of data_thinning_weights</p></a></li>
<li><a href='#data_tree_heights'><p>An example of data with individual tree and crown heights that can be used as</p>
a fitting data frame for predicting tree and crown heights in MLFS</a></li>
<li><a href='#data_v1'><p>An example of joined national forest inventory and site data that is used</p>
within the MLFS</a></li>
<li><a href='#data_v2'><p>An example of joined national forest inventory and site data that is used</p>
within the MLFS</a></li>
<li><a href='#data_v3'><p>An example of joined national forest inventory and site data that is used</p>
within the MLFS</a></li>
<li><a href='#data_v4'><p>An example of joined national forest inventory and site data that is used</p>
within the MLFS</a></li>
<li><a href='#data_v5'><p>An example of joined national forest inventory and site data that is used</p>
within the MLFS</a></li>
<li><a href='#data_v6'><p>An example of joined national forest inventory and site data that is used</p>
within the MLFS</a></li>
<li><a href='#df_volume_parameters'><p>An example table with parameters and equations for n-parametric volume functions</p></a></li>
<li><a href='#form_factors'><p>An example table with form factors used to calculate tree volume</p></a></li>
<li><a href='#height_prediction'><p>height_prediction</p></a></li>
<li><a href='#height_prediction_halfPeriod'><p>height_prediction_halfPeriod</p></a></li>
<li><a href='#ingrowth_parameter_list'><p>An example data of ingrowth_parameter_list</p></a></li>
<li><a href='#ingrowth_table'><p>An example data of ingrowth_table</p></a></li>
<li><a href='#max_size_data'><p>An example of data with maximum allowed BA that is used in the mortality</p>
sub model</a></li>
<li><a href='#measurement_thresholds'><p>An example of measurement_thresholds table</p></a></li>
<li><a href='#MLFS'><p>MLFS</p></a></li>
<li><a href='#predict_ingrowth'><p>predict_ingrowth</p></a></li>
<li><a href='#predict_mortality'><p>predict_mortality</p></a></li>
<li><a href='#simulate_harvesting'><p>A sub model to simulate harvesting within the MLFS</p></a></li>
<li><a href='#transform_data'><p>transform_data</p></a></li>
<li><a href='#volume_form_factors'><p>volume_form_factors</p></a></li>
<li><a href='#volume_form_factors_halfPeriod'><p>volume_form_factors_halfPeriod</p></a></li>
<li><a href='#volume_functions'><p>volume_functions</p></a></li>
<li><a href='#volume_functions_halfPeriod'><p>volume_functions_halfPeriod</p></a></li>
<li><a href='#volume_merchantable'><p>volume_merchantable</p></a></li>
<li><a href='#volume_merchantable_halfPeriod'><p>volume_merchantable_halfPeriod</p></a></li>
<li><a href='#volume_tariffs'><p>volume_tariffs</p></a></li>
<li><a href='#volume_tariffs_halfPeriod'><p>volume_tariffs_halfPeriod</p></a></li>
<li><a href='#volume_whole_tree'><p>volume_whole_tree</p></a></li>
<li><a href='#volume_whole_tree_halfPeriod'><p>volume_whole_tree_halfPeriod</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Machine Learning Forest Simulator</td>
</tr>
<tr>
<td>Version:</td>
<td>0.4.2</td>
</tr>
<tr>
<td>Author:</td>
<td>Jernej Jevsenak</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jernej Jevsenak &lt;jernej.jevsenak@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Climate-sensitive forest simulator based on the principles of 
  machine learning. It stimulates all key processes in the forest: radial growth, 
  height growth, mortality, crown recession, regeneration and harvesting. The 
  method for predicting tree heights was described by Skudnik and Jevšenak
  (2022) &lt;<a href="https://doi.org/10.1016%2Fj.foreco.2022.120017">doi:10.1016/j.foreco.2022.120017</a>&gt;, while the method for predicting
  basal area increments (BAI) was described by Jevšenak and Skudnik (2021) 
  &lt;<a href="https://doi.org/10.1016%2Fj.foreco.2020.118601">doi:10.1016/j.foreco.2020.118601</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>brnn(&ge; 0.6), ranger(&ge; 0.13.1), reshape2 (&ge; 1.4.4), pscl (&ge;
1.5.5), naivebayes(&ge; 0.9.7), magrittr(&ge; 1.5), dplyr(&ge;
0.7.0),tidyr (&ge; 1.1.3), tidyselect(&ge; 1.0.0)</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Depends:</td>
<td>R(&ge; 3.4)</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-04-18 06:52:34 UTC; JernejJ</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-04-20 08:22:37 UTC</td>
</tr>
</table>
<hr>
<h2 id='add_stand_variables'>add_stand_variables</h2><span id='topic+add_stand_variables'></span>

<h3>Description</h3>

<p>This function adds two variables to existing data frame of individual tree
measurements: 1) stand basal area and 2) the number of trees per hectare
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_stand_variables(df)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_stand_variables_+3A_df">df</code></td>
<td>
<p>a data frame with individual tree measurements that include basal
area and the upscale factors. All trees should also be described with plotID
and year variables</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data frame with added stand variables: total stand basal area and
the number of trees per hectare
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(data_v1)
data_v1 &lt;- add_stand_variables(df = data_v1)

</code></pre>

<hr>
<h2 id='add_stand_variables_halfPeriod'>add_stand_variables_halfPeriod</h2><span id='topic+add_stand_variables_halfPeriod'></span>

<h3>Description</h3>

<p>Function for the calculation of stand variables: stand basal area and the
number of trees
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_stand_variables_halfPeriod(df)
</code></pre>


<h3>Value</h3>

<p>a data frame with added stand variables: total stand basal area and
the number of trees per hectare in the middle of a simulation step
</p>

<hr>
<h2 id='BAI_prediction'>BAI_prediction</h2><span id='topic+BAI_prediction'></span>

<h3>Description</h3>

<p>The Basal Area Increment BAI sub model that is run within the MLFS
</p>


<h3>Usage</h3>

<pre><code class='language-R'>BAI_prediction(
  df_fit,
  df_predict,
  species_n_threshold = 100,
  site_vars,
  include_climate,
  eval_model_BAI = TRUE,
  rf_mtry = NULL,
  k = 10,
  blocked_cv = TRUE,
  measurement_thresholds = NULL,
  area_correction = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="BAI_prediction_+3A_df_fit">df_fit</code></td>
<td>
<p>a data frame with Basal Area Increments (BAI) and all
independent variables as specified with the formula</p>
</td></tr>
<tr><td><code id="BAI_prediction_+3A_df_predict">df_predict</code></td>
<td>
<p>data frame which will be used for BAI predictions</p>
</td></tr>
<tr><td><code id="BAI_prediction_+3A_species_n_threshold">species_n_threshold</code></td>
<td>
<p>a positive integer defining the minimum number of
observations required to treat a species as an independent group</p>
</td></tr>
<tr><td><code id="BAI_prediction_+3A_site_vars">site_vars</code></td>
<td>
<p>a character vector of variable names which are used as site
descriptors</p>
</td></tr>
<tr><td><code id="BAI_prediction_+3A_include_climate">include_climate</code></td>
<td>
<p>logical, should climate variables be included as
predictors</p>
</td></tr>
<tr><td><code id="BAI_prediction_+3A_eval_model_bai">eval_model_BAI</code></td>
<td>
<p>logical, should the the BAI model be evaluated and
returned as the output</p>
</td></tr>
<tr><td><code id="BAI_prediction_+3A_rf_mtry">rf_mtry</code></td>
<td>
<p>a number of variables randomly sampled as candidates at
each split of a random forest model for predicting basal area increments
(BAI). If NULL, default settings are applied.</p>
</td></tr>
<tr><td><code id="BAI_prediction_+3A_k">k</code></td>
<td>
<p>the number of folds to be used in the k fold cross-validation</p>
</td></tr>
<tr><td><code id="BAI_prediction_+3A_blocked_cv">blocked_cv</code></td>
<td>
<p>logical, should the blocked cross-validation be used in the
evaluation phase?</p>
</td></tr>
<tr><td><code id="BAI_prediction_+3A_measurement_thresholds">measurement_thresholds</code></td>
<td>
<p>data frame with two variables: 1) DBH_threshold
and 2) weight. This information is used to assign the correct weights in BAI
and increment sub-model; and to upscale plot-level data to hectares.</p>
</td></tr>
<tr><td><code id="BAI_prediction_+3A_area_correction">area_correction</code></td>
<td>
<p>an optional data frame with three variables: 1) plotID
and 2) DBH_threshold and 3) the correction factor to be multiplied by weight
for this particular category</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list with four elements:
</p>

<ol>
<li><p> $predicted_BAI - a data frame with calculated basal area increments (BAI)
</p>
</li>
<li><p> $eval_BAI - a data frame with predicted and observed basal area increments (BAI), or a character string indicating that BAI model was not evaluated
</p>
</li>
<li><p> $rf_model_species - the output model for BAI (species level)
</p>
</li>
<li><p> $rf_model_speciesGroups - the output model for BAI (species group level)
</p>
</li></ol>

<p># add BA to measurement thresholds
measurement_thresholds$BA_threshold &lt;- ((measurement_thresholds$DBH_threshold/2)^2 * pi)/10000
</p>
<p>BAI_outputs &lt;- BAI_prediction(df_fit = data_BAI,
df_predict = data_v6,
site_vars = c(&quot;slope&quot;, &quot;elevation&quot;, &quot;northness&quot;, &quot;siteIndex&quot;),
rf_mtry = 3,
species_n_threshold = 100,
include_climate = TRUE,
eval_model_BAI = FALSE,
k = 10, blocked_cv = TRUE,
measurement_thresholds = measurement_thresholds)
</p>
<p># get the ranger objects
BAI_outputs_model_species &lt;- BAI_outputs$rf_model_species
BAI_outputs_model_groups &lt;- BAI_outputs$rf_model_speciesGroups
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(MLFS)
data(data_BAI)
data(data_v6)
data(measurement_thresholds)

</code></pre>

<hr>
<h2 id='BAI_prediction_halfPeriod'>BAI_prediction_halfPeriod</h2><span id='topic+BAI_prediction_halfPeriod'></span>

<h3>Description</h3>

<p>BAI model for the MLFS to estimate BAI for half period
</p>


<h3>Usage</h3>

<pre><code class='language-R'>BAI_prediction_halfPeriod(
  df_fit,
  df_predict,
  species_n_threshold = 100,
  site_vars,
  include_climate,
  rf_mtry = NULL,
  measurement_thresholds = NULL,
  area_correction = NULL
)
</code></pre>


<h3>Value</h3>

<p>a data frame with calculated basal area increments in the middle of a simulation step
</p>

<hr>
<h2 id='calculate_BAL'>calculate_BAL</h2><span id='topic+calculate_BAL'></span>

<h3>Description</h3>

<p>This function calculates the competition index BAL (Basal Area in Large trees)
and adds it to the table of individual tree measurements that include basal
area and the upscale factors. All trees should also be described with plotID
and year variables
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calculate_BAL(df)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calculate_BAL_+3A_df">df</code></td>
<td>
<p>a data frame with individual tree measurements that include basal
area and the upscale factors. All trees should also be described with plotID
and year variables</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data frame with calculated basal area in large trees (BAL)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(data_v1)
data_v1 &lt;- calculate_BAL(df = data_v1)

</code></pre>

<hr>
<h2 id='calculate_BAL_halfPeriod'>calculate_BAL_halfPeriod</h2><span id='topic+calculate_BAL_halfPeriod'></span>

<h3>Description</h3>

<p>Function for the calculation of competition index BAL (Basal area in larger
trees)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calculate_BAL_halfPeriod(df)
</code></pre>


<h3>Value</h3>

<p>a data frame with calculated basal area in large trees (BAL) in the
middle of a simulation step
</p>

<hr>
<h2 id='crownHeight_prediction'>crownHeight_prediction</h2><span id='topic+crownHeight_prediction'></span>

<h3>Description</h3>

<p>Model for predicting crown height
</p>


<h3>Usage</h3>

<pre><code class='language-R'>crownHeight_prediction(
  df_fit,
  df_predict,
  site_vars = site_vars,
  species_n_threshold = 100,
  k = 10,
  eval_model_crownHeight = TRUE,
  crownHeight_model = "lm",
  BRNN_neurons = 3,
  blocked_cv = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="crownHeight_prediction_+3A_df_fit">df_fit</code></td>
<td>
<p>data frame with tree heights and basal areas for individual
trees</p>
</td></tr>
<tr><td><code id="crownHeight_prediction_+3A_df_predict">df_predict</code></td>
<td>
<p>data frame which will be used for predictions</p>
</td></tr>
<tr><td><code id="crownHeight_prediction_+3A_site_vars">site_vars</code></td>
<td>
<p>optional, character vector with names of site variables</p>
</td></tr>
<tr><td><code id="crownHeight_prediction_+3A_species_n_threshold">species_n_threshold</code></td>
<td>
<p>a positive integer defining the minimum number of
observations required to treat a species as an independent group</p>
</td></tr>
<tr><td><code id="crownHeight_prediction_+3A_k">k</code></td>
<td>
<p>the number of folds to be used in the k fold cross-validation</p>
</td></tr>
<tr><td><code id="crownHeight_prediction_+3A_eval_model_crownheight">eval_model_crownHeight</code></td>
<td>
<p>logical, should the crown height model be
evaluated and returned as the output</p>
</td></tr>
<tr><td><code id="crownHeight_prediction_+3A_crownheight_model">crownHeight_model</code></td>
<td>
<p>character string defining the model to be used for
crown heights. Available are ANN with Bayesian regularization (brnn) or
linear regression (lm)</p>
</td></tr>
<tr><td><code id="crownHeight_prediction_+3A_brnn_neurons">BRNN_neurons</code></td>
<td>
<p>positive integer defining the number of neurons to be
used in the brnn method.</p>
</td></tr>
<tr><td><code id="crownHeight_prediction_+3A_blocked_cv">blocked_cv</code></td>
<td>
<p>logical, should the blocked cross-validation be used in the
evaluation phase?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list with four elements:
</p>

<ol>
<li><p> $predicted_crownHeight - a data frame with imputed crown heights
</p>
</li>
<li><p> $eval_crownHeight - a data frame with predicted and observed crown heights, or a character string indicating that crown height model was not evaluated
</p>
</li>
<li><p> $model_species - the output model for crown heights (species level)
</p>
</li>
<li><p> $model_speciesGroups - the output model for crown heights (species group level)
</p>
</li></ol>



<h3>Examples</h3>

<pre><code class='language-R'>library(MLFS)
data(data_tree_heights)
data(data_v3)

# A) Example with linear model
Crown_h_predictions &lt;- crownHeight_prediction(df_fit = data_tree_heights,
    df_predict = data_v3,
    crownHeight_model = "lm",
    site_vars = c(),
    species_n_threshold = 100,
    k = 10, blocked_cv = TRUE,
    eval_model_crownHeight = TRUE)

predicted_df &lt;- Crown_h_predictions$predicted_crownHeight # df with imputed heights
evaluation_df &lt;- Crown_h_predictions$eval_crownHeight # df with evaluation results

# B) Example with non-linear BRNN model
Crown_h_predictions &lt;- crownHeight_prediction(df_fit = data_tree_heights,
    df_predict = data_v3,
    crownHeight_model = "brnn",
    BRNN_neurons = 3,
    site_vars = c(),
    species_n_threshold = 100,
    k = 10, blocked_cv = TRUE,
    eval_model_crownHeight = TRUE)

</code></pre>

<hr>
<h2 id='crownHeight_prediction_halfPeriod'>crownHeight_prediction_halfPeriod</h2><span id='topic+crownHeight_prediction_halfPeriod'></span>

<h3>Description</h3>

<p>Models to predict crown height (half period)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>crownHeight_prediction_halfPeriod(
  df_fit,
  df_predict,
  site_vars = site_vars,
  species_n_threshold = 100,
  crownHeight_model = "lm",
  BRNN_neurons = 3
)
</code></pre>


<h3>Value</h3>

<p>a data frame with imputed crown heights in the middle of a simulation step
</p>

<hr>
<h2 id='data_BAI'>An example of joined national forest inventory data, site descriptors, and
climate data that is used as a fitting data frame for BAI sub model</h2><span id='topic+data_BAI'></span>

<h3>Description</h3>

<p>This is simulated data that reassemble the national forest inventory data.
We use it to show how to run examples for BAI sub model. To make examples
running more quickly, we keep only one tree species: PINI.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_BAI
</code></pre>


<h3>Format</h3>

<p>A data frame with 135 rows and 25 variables:
</p>

<dl>
<dt>plotID</dt><dd><p>a unique identifier for plot</p>
</dd>
<dt>treeID</dt><dd><p>a unique identifier for tree</p>
</dd>
<dt>year</dt><dd><p>year in which plot was visited</p>
</dd>
<dt>speciesGroup</dt><dd><p>identifier for species group</p>
</dd>
<dt>code</dt><dd><p>status of a tree: 0 (normal), 1(harvested), 2(dead), 3 (ingrowth)</p>
</dd>
<dt>species</dt><dd><p>species name</p>
</dd>
<dt>height</dt><dd><p>tree height in meters</p>
</dd>
<dt>crownHeight</dt><dd><p>crown height in meters</p>
</dd>
<dt>protected</dt><dd><p>logical, 1 if protected, otherwise 0</p>
</dd>
<dt>slope</dt><dd><p>slope on a plot</p>
</dd>
<dt>elevation</dt><dd><p>plot elevation</p>
</dd>
<dt>northness</dt><dd><p>plot northness, 1 is north, 0 is south</p>
</dd>
<dt>siteIndex</dt><dd><p>a proxy for site index, higher value represents more productive sites</p>
</dd>
<dt>BA</dt><dd><p>basal area of individual trees in m2</p>
</dd>
<dt>weight</dt><dd><p>upscale weight to calculate hectare values</p>
</dd>
<dt>stand_BA</dt><dd><p>Total stand basal area</p>
</dd>
<dt>stand_n</dt><dd><p>The number of trees in a stand</p>
</dd>
<dt>BAL</dt><dd><p>Basal Area in Large trees</p>
</dd>
<dt>p_BA</dt><dd><p>basal area of individual trees in m2 from previous simulation step</p>
</dd>
<dt>p_height</dt><dd><p>tree height in meters from previous simulation step</p>
</dd>
<dt>p_crownHeight</dt><dd><p>crown height in meters from previous simulation step</p>
</dd>
<dt>p_weight</dt><dd><p>upscale weight to calculate hectare values from previous simulation step</p>
</dd>
<dt>BAI</dt><dd><p>basal area increment</p>
</dd>
<dt>p_sum</dt><dd><p>monthly precipitation sum</p>
</dd>
<dt>t_avg</dt><dd><p>monthly mean temperature</p>
</dd>
</dl>


<hr>
<h2 id='data_climate'>An example of climate data</h2><span id='topic+data_climate'></span>

<h3>Description</h3>

<p>This is simulated monthly climate data, and consists of precipitation sum and mean temperature
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_climate
</code></pre>


<h3>Format</h3>

<p>A data frame with 16695 rows and 5 variables:
</p>

<dl>
<dt>plotID</dt><dd><p>a unique identifier for plot</p>
</dd>
<dt>year</dt><dd><p>year</p>
</dd>
<dt>month</dt><dd><p>month</p>
</dd>
<dt>t_avg</dt><dd><p>monthly mean temperature</p>
</dd>
<dt>p_sum</dt><dd><p>monthly precipitation sum</p>
</dd>
</dl>


<hr>
<h2 id='data_final_cut_weights'>An example of data_final_cut_weights</h2><span id='topic+data_final_cut_weights'></span>

<h3>Description</h3>

<p>Each species should have one weight that is multiplied with the probability of being harvested when final_cut is applied
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_final_cut_weights
</code></pre>


<h3>Format</h3>

<p>A data frame with 36 rows and 6 variables:
</p>

<dl>
<dt>species</dt><dd><p>species name as used in data_NFI</p>
</dd>
<dt>step_1</dt><dd><p>final cut weight applied in step 1</p>
</dd>
<dt>step_2</dt><dd><p>final cut weight applied in step 2</p>
</dd>
<dt>step_3</dt><dd><p>final cut weight applied in step 3</p>
</dd>
<dt>step_4</dt><dd><p>final cut weight applied in step 4</p>
</dd>
<dt>step_5</dt><dd><p>final cut weight applied in step 5 and all subsequent steps</p>
</dd>
</dl>


<hr>
<h2 id='data_ingrowth'>An example of data_ingrowth suitable for the MLFS</h2><span id='topic+data_ingrowth'></span>

<h3>Description</h3>

<p>An example of plot-level data with plotID, stand variables and site
descriptors, and the two target variables describing the number of ingrowth
trees for inner (ingrowth_3) and outer (ingrowth_15) circles
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_ingrowth
</code></pre>


<h3>Format</h3>

<p>A data frame with 365 rows and 11 variables:
</p>

<dl>
<dt>plotID</dt><dd><p>a unique identifier for plot</p>
</dd>
<dt>year</dt><dd><p>year in which plot was visited</p>
</dd>
<dt>stand_BA</dt><dd><p>Total stand basal area</p>
</dd>
<dt>stand_n</dt><dd><p>The number of trees in a stand</p>
</dd>
<dt>BAL</dt><dd><p>Basal Area in Large trees</p>
</dd>
<dt>slope</dt><dd><p>slope on a plot</p>
</dd>
<dt>elevation</dt><dd><p>plot elevation</p>
</dd>
<dt>siteIndex</dt><dd><p>a proxy for site index, higher value represents more productive sites</p>
</dd>
<dt>northness</dt><dd><p>plot northness, 1 is north, 0 is south</p>
</dd>
<dt>ingrowth_3</dt><dd><p>the number of new trees in inner circle</p>
</dd>
<dt>ingrowth_15</dt><dd><p>the number of new trees in outer circle</p>
</dd>
</dl>


<hr>
<h2 id='data_mortality'>An example of joined national forest inventory data, site descriptors, and
climate data that is used as a fitting data frame for mortality sub model</h2><span id='topic+data_mortality'></span>

<h3>Description</h3>

<p>This is simulated data that reassemble the national forest inventory data.
We use it to show how to run examples for mortality sub model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_mortality
</code></pre>


<h3>Format</h3>

<p>A data frame with 6394 rows and 25 variables:
</p>

<dl>
<dt>plotID</dt><dd><p>a unique identifier for plot</p>
</dd>
<dt>treeID</dt><dd><p>a unique identifier for tree</p>
</dd>
<dt>year</dt><dd><p>year in which plot was visited</p>
</dd>
<dt>speciesGroup</dt><dd><p>identifier for species group</p>
</dd>
<dt>code</dt><dd><p>status of a tree: 0 (normal), 1(harvested), 2(dead), 3 (ingrowth)</p>
</dd>
<dt>species</dt><dd><p>species name</p>
</dd>
<dt>height</dt><dd><p>tree height in meters</p>
</dd>
<dt>crownHeight</dt><dd><p>crown height in meters</p>
</dd>
<dt>protected</dt><dd><p>logical, 1 if protected, otherwise 0</p>
</dd>
<dt>slope</dt><dd><p>slope on a plot</p>
</dd>
<dt>elevation</dt><dd><p>plot elevation</p>
</dd>
<dt>northness</dt><dd><p>plot northness, 1 is north, 0 is south</p>
</dd>
<dt>siteIndex</dt><dd><p>a proxy for site index, higher value represents more productive sites</p>
</dd>
<dt>BA</dt><dd><p>basal area of individual trees in m2</p>
</dd>
<dt>weight</dt><dd><p>upscale weight to calculate hectare values</p>
</dd>
<dt>stand_BA</dt><dd><p>Total stand basal area</p>
</dd>
<dt>stand_n</dt><dd><p>The number of trees in a stand</p>
</dd>
<dt>BAL</dt><dd><p>Basal Area in Large trees</p>
</dd>
<dt>p_BA</dt><dd><p>basal area of individual trees in m2 from previous simulation step</p>
</dd>
<dt>p_height</dt><dd><p>tree height in meters from previous simulation step</p>
</dd>
<dt>p_crownHeight</dt><dd><p>crown height in meters from previous simulation step</p>
</dd>
<dt>p_weight</dt><dd><p>upscale weight to calculate hectare values from previous simulation step</p>
</dd>
<dt>BAI</dt><dd><p>basal area increment</p>
</dd>
<dt>p_sum</dt><dd><p>monthly precipitation sum</p>
</dd>
<dt>t_avg</dt><dd><p>monthly mean temperature</p>
</dd>
</dl>


<hr>
<h2 id='data_NFI'>An example of national forest inventory data</h2><span id='topic+data_NFI'></span>

<h3>Description</h3>

<p>This is simulated data that reassemble the national forest inventory
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_NFI
</code></pre>


<h3>Format</h3>

<p>A data frame with 11984 rows and 10 variables:
</p>

<dl>
<dt>plotID</dt><dd><p>a unique identifier for plot</p>
</dd>
<dt>treeID</dt><dd><p>a unique identifier for tree</p>
</dd>
<dt>year</dt><dd><p>year in which plot was visited</p>
</dd>
<dt>speciesGroup</dt><dd><p>identifier for species group</p>
</dd>
<dt>code</dt><dd><p>status of a tree: 0 (normal), 1(harvested), 2(dead), 3 (ingrowth)</p>
</dd>
<dt>DBH</dt><dd><p>diameter at breast height in cm</p>
</dd>
<dt>species</dt><dd><p>species name</p>
</dd>
<dt>height</dt><dd><p>tree height in meters</p>
</dd>
<dt>crownHeight</dt><dd><p>crown height in meters</p>
</dd>
<dt>protected</dt><dd><p>logical, 1 if protected, otherwise 0</p>
</dd>
</dl>


<hr>
<h2 id='data_site'>An example of site descriptors</h2><span id='topic+data_site'></span>

<h3>Description</h3>

<p>This is simulated data describing site descriptors
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_site
</code></pre>


<h3>Format</h3>

<p>A data frame with 371 rows and 5 variables:
</p>

<dl>
<dt>plotID</dt><dd><p>a unique identifier for plot</p>
</dd>
<dt>slope</dt><dd><p>slope on a plot</p>
</dd>
<dt>elevation</dt><dd><p>plot elevation</p>
</dd>
<dt>northness</dt><dd><p>plot northness, 1 is north, 0 is south</p>
</dd>
<dt>siteIndex</dt><dd><p>a proxy for site index, higher value represents more productive sites</p>
</dd>
</dl>


<hr>
<h2 id='data_tariffs'>An example of table with one-parametric volume functions (adapted uniform French tariffs)</h2><span id='topic+data_tariffs'></span>

<h3>Description</h3>

<p>The adapted uniform French tariffs are typically used in Slovenia to determine tree volume based on tree DBH
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_tariffs
</code></pre>


<h3>Format</h3>

<p>A data frame with 1196 rows and 4 variables:
</p>

<dl>
<dt>tarifa_class</dt><dd><p>tariff class for a particular species on this plot</p>
</dd>
<dt>plotID</dt><dd><p>plot identifier</p>
</dd>
<dt>species</dt><dd><p>species name as used in data_NFI</p>
</dd>
<dt>v45</dt><dd><p>volume of tree with DBH 45 cm</p>
</dd>
</dl>


<hr>
<h2 id='data_thinning_weights'>An example of data_thinning_weights</h2><span id='topic+data_thinning_weights'></span>

<h3>Description</h3>

<p>Each species should have one weight that is multiplied with the probability of being harvested when thinning is applied
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_thinning_weights
</code></pre>


<h3>Format</h3>

<p>A data frame with 36 rows and 6 variables:
</p>

<dl>
<dt>species</dt><dd><p>species name as used in data_NFI</p>
</dd>
<dt>step_1</dt><dd><p>thinning weight applied in step 1</p>
</dd>
<dt>step_2</dt><dd><p>thinning weight applied in step 2</p>
</dd>
<dt>step_3</dt><dd><p>thinning weight applied in step 3</p>
</dd>
<dt>step_4</dt><dd><p>thinning weight applied in step 4</p>
</dd>
<dt>step_5</dt><dd><p>thinning weight applied in step 5 and all subsequent steps</p>
</dd>
</dl>


<hr>
<h2 id='data_tree_heights'>An example of data with individual tree and crown heights that can be used as
a fitting data frame for predicting tree and crown heights in MLFS</h2><span id='topic+data_tree_heights'></span>

<h3>Description</h3>

<p>This is simulated data that reassemble the national forest inventory  data.
We use it to show how to run examples for some specific functions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_tree_heights
</code></pre>


<h3>Format</h3>

<p>A data frame with 2741 rows and 8 variables:
</p>

<dl>
<dt>plotID</dt><dd><p>a unique identifier for plot</p>
</dd>
<dt>treeID</dt><dd><p>a unique identifier for tree</p>
</dd>
<dt>year</dt><dd><p>year in which plot was visited</p>
</dd>
<dt>speciesGroup</dt><dd><p>identifier for species group</p>
</dd>
<dt>species</dt><dd><p>species name</p>
</dd>
<dt>height</dt><dd><p>tree height in meters</p>
</dd>
<dt>crownHeight</dt><dd><p>crown height in meters</p>
</dd>
<dt>BA</dt><dd><p>basal area of individual trees in m2</p>
</dd>
</dl>


<hr>
<h2 id='data_v1'>An example of joined national forest inventory and site data that is used
within the MLFS</h2><span id='topic+data_v1'></span>

<h3>Description</h3>

<p>This is simulated data that reassemble the national forest inventory and
simulated data. We use it to show how to run examples for some specific functions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_v1
</code></pre>


<h3>Format</h3>

<p>A data frame with 11984 rows and 15 variables:
</p>

<dl>
<dt>plotID</dt><dd><p>a unique identifier for plot</p>
</dd>
<dt>treeID</dt><dd><p>a unique identifier for tree</p>
</dd>
<dt>year</dt><dd><p>year in which plot was visited</p>
</dd>
<dt>speciesGroup</dt><dd><p>identifier for species group</p>
</dd>
<dt>code</dt><dd><p>status of a tree: 0 (normal), 1(harvested), 2(dead), 3 (ingrowth)</p>
</dd>
<dt>species</dt><dd><p>species name</p>
</dd>
<dt>height</dt><dd><p>tree height in meters</p>
</dd>
<dt>crownHeight</dt><dd><p>crown height in meters</p>
</dd>
<dt>protected</dt><dd><p>logical, 1 if protected, otherwise 0</p>
</dd>
<dt>slope</dt><dd><p>slope on a plot</p>
</dd>
<dt>elevation</dt><dd><p>plot elevation</p>
</dd>
<dt>northness</dt><dd><p>plot northness, 1 is north, 0 is south</p>
</dd>
<dt>siteIndex</dt><dd><p>a proxy for site index, higher value represents more productive sites</p>
</dd>
<dt>BA</dt><dd><p>basal area of individual trees in m2</p>
</dd>
<dt>weight</dt><dd><p>upscale weight to calculate hectare values</p>
</dd>
</dl>


<hr>
<h2 id='data_v2'>An example of joined national forest inventory and site data that is used
within the MLFS</h2><span id='topic+data_v2'></span>

<h3>Description</h3>

<p>This is simulated data that reassemble the national forest inventory data.
We use it to show how to run examples for tree and crown height predictions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_v2
</code></pre>


<h3>Format</h3>

<p>A data frame with 6948 rows and 14 variables:
</p>

<dl>
<dt>plotID</dt><dd><p>a unique identifier for plot</p>
</dd>
<dt>treeID</dt><dd><p>a unique identifier for tree</p>
</dd>
<dt>year</dt><dd><p>year in which plot was visited</p>
</dd>
<dt>speciesGroup</dt><dd><p>identifier for species group</p>
</dd>
<dt>code</dt><dd><p>status of a tree: 0 (normal), 1(harvested), 2(dead), 3 (ingrowth)</p>
</dd>
<dt>species</dt><dd><p>species name</p>
</dd>
<dt>height</dt><dd><p>tree height in meters</p>
</dd>
<dt>crownHeight</dt><dd><p>crown height in meters</p>
</dd>
<dt>BA</dt><dd><p>basal area of individual trees in m2</p>
</dd>
<dt>weight</dt><dd><p>upscale weight to calculate hectare values</p>
</dd>
<dt>p_BA</dt><dd><p>basal area of individual trees in m2 from previous simulation step</p>
</dd>
<dt>p_weight</dt><dd><p>upscale weight to calculate hectare values from previous simulation step</p>
</dd>
<dt>p_height</dt><dd><p>tree height in meters from previous simulation step</p>
</dd>
<dt>p_crownHeight</dt><dd><p>crown height in meters from previous simulation step</p>
</dd>
</dl>


<hr>
<h2 id='data_v3'>An example of joined national forest inventory and site data that is used
within the MLFS</h2><span id='topic+data_v3'></span>

<h3>Description</h3>

<p>This is simulated data that reassemble the national forest inventory data.
We use it to show how to run examples for tree and crown height predictions.
The difference between data_v2 and data_v3 is that in data_v3, tree heights
are already predicted
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_v3
</code></pre>


<h3>Format</h3>

<p>A data frame with 6948 rows and 14 variables:
</p>

<dl>
<dt>plotID</dt><dd><p>a unique identifier for plot</p>
</dd>
<dt>treeID</dt><dd><p>a unique identifier for tree</p>
</dd>
<dt>year</dt><dd><p>year in which plot was visited</p>
</dd>
<dt>speciesGroup</dt><dd><p>identifier for species group</p>
</dd>
<dt>code</dt><dd><p>status of a tree: 0 (normal), 1(harvested), 2(dead), 3 (ingrowth)</p>
</dd>
<dt>species</dt><dd><p>species name</p>
</dd>
<dt>height</dt><dd><p>tree height in meters</p>
</dd>
<dt>crownHeight</dt><dd><p>crown height in meters</p>
</dd>
<dt>BA</dt><dd><p>basal area of individual trees in m2</p>
</dd>
<dt>weight</dt><dd><p>upscale weight to calculate hectare values</p>
</dd>
<dt>p_BA</dt><dd><p>basal area of individual trees in m2 from previous simulation step</p>
</dd>
<dt>p_height</dt><dd><p>tree height in meters from previous simulation step</p>
</dd>
<dt>p_crownHeight</dt><dd><p>crown height in meters from previous simulation step</p>
</dd>
<dt>p_weight</dt><dd><p>upscale weight to calculate hectare values from previous simulation step</p>
</dd>
<dt>volume</dt><dd><p>tree volume in m3</p>
</dd>
<dt>p_volume</dt><dd><p>tree volume in m3 from previous simulation step</p>
</dd>
</dl>


<hr>
<h2 id='data_v4'>An example of joined national forest inventory and site data that is used
within the MLFS</h2><span id='topic+data_v4'></span>

<h3>Description</h3>

<p>This is simulated data that reassemble the national forest inventory data.
We use it to show how to run examples for predicting tree mortality.
Mortality occurs in the middle of a simulation step, so all variables have
the preposition 'mid'
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_v4
</code></pre>


<h3>Format</h3>

<p>A data frame with 6855 rows and 41 variables:
</p>

<dl>
<dt>year</dt><dd><p>year in which plot was visited</p>
</dd>
<dt>plotID</dt><dd><p>a unique identifier for plot</p>
</dd>
<dt>treeID</dt><dd><p>a unique identifier for tree</p>
</dd>
<dt>speciesGroup</dt><dd><p>identifier for species group</p>
</dd>
<dt>code</dt><dd><p>status of a tree: 0 (normal), 1(harvested), 2(dead), 3 (ingrowth)</p>
</dd>
<dt>species</dt><dd><p>species name</p>
</dd>
<dt>slope</dt><dd><p>slope on a plot</p>
</dd>
<dt>elevation</dt><dd><p>plot elevation</p>
</dd>
<dt>northness</dt><dd><p>plot northness, 1 is north, 0 is south</p>
</dd>
<dt>siteIndex</dt><dd><p>a proxy for site index, higher value represents more productive sites</p>
</dd>
<dt>p_sum</dt><dd><p>monthly precipitation sum</p>
</dd>
<dt>t_avg</dt><dd><p>monthly mean temperature</p>
</dd>
<dt>BA_mid</dt><dd><p>basal area of individual trees in m2 in the middle of a simulation step</p>
</dd>
<dt>BAI_mid</dt><dd><p>basal area increment in the middle of a simulation step</p>
</dd>
<dt>weight_mid</dt><dd><p>upscale weight to calculate hectare values in the middle of a simulation step</p>
</dd>
<dt>height_mid</dt><dd><p>tree height in meters in the middle of a simulation step</p>
</dd>
<dt>crownHeight_mid</dt><dd><p>crown height in meters in the middle of a simulation step</p>
</dd>
<dt>volume_mid</dt><dd><p>tree volume in m3 in the middle of a simulation step</p>
</dd>
<dt>BAL_mid</dt><dd><p>Basal Area in Large trees the middle of a simulation step</p>
</dd>
<dt>stand_BA_mid</dt><dd><p>Total stand basal area the middle of a simulation step</p>
</dd>
<dt>stand_n_mid</dt><dd><p>The number of trees in a stand the middle of a simulation step</p>
</dd>
</dl>


<hr>
<h2 id='data_v5'>An example of joined national forest inventory and site data that is used
within the MLFS</h2><span id='topic+data_v5'></span>

<h3>Description</h3>

<p>This is simulated data that reassemble the national forest inventory data.
We use it to show how to run examples for simulating harvesting.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_v5
</code></pre>


<h3>Format</h3>

<p>A data frame with 5949 rows and 10 variables:
</p>

<dl>
<dt>species</dt><dd><p>species name</p>
</dd>
<dt>year</dt><dd><p>year in which plot was visited</p>
</dd>
<dt>plotID</dt><dd><p>a unique identifier for plot</p>
</dd>
<dt>treeID</dt><dd><p>a unique identifier for tree</p>
</dd>
<dt>speciesGroup</dt><dd><p>identifier for species group</p>
</dd>
<dt>code</dt><dd><p>status of a tree: 0 (normal), 1(harvested), 2(dead), 3 (ingrowth)</p>
</dd>
<dt>volume_mid</dt><dd><p>tree volume in m3 in the middle of a simulation step</p>
</dd>
<dt>weight_mid</dt><dd><p>upscale weight to calculate hectare values in the middle of a simulation step</p>
</dd>
<dt>BA_mid</dt><dd><p>basal area of individual trees in m2 in the middle of a simulation step</p>
</dd>
<dt>protected</dt><dd><p>logical, 1 if protected, otherwise 0</p>
</dd>
</dl>


<hr>
<h2 id='data_v6'>An example of joined national forest inventory and site data that is used
within the MLFS</h2><span id='topic+data_v6'></span>

<h3>Description</h3>

<p>This is simulated data that reassemble the national forest inventory data.
We use it to show how to run examples for simulating Basal Area Increments
(BAI) and the ingrowth of new trees. To make examples running more quickly,
we keep only one tree species: PINI
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_v6
</code></pre>


<h3>Format</h3>

<p>A data frame with 186 rows and 27 variables:
</p>

<dl>
<dt>species</dt><dd><p>species name</p>
</dd>
<dt>year</dt><dd><p>year in which plot was visited</p>
</dd>
<dt>plotID</dt><dd><p>a unique identifier for plot</p>
</dd>
<dt>treeID</dt><dd><p>a unique identifier for tree</p>
</dd>
<dt>speciesGroup</dt><dd><p>identifier for species group</p>
</dd>
<dt>code</dt><dd><p>status of a tree: 0 (normal), 1(harvested), 2(dead), 3 (ingrowth)</p>
</dd>
<dt>height</dt><dd><p>tree height in meters</p>
</dd>
<dt>crownHeight</dt><dd><p>crown height in meters</p>
</dd>
<dt>protected</dt><dd><p>logical, 1 if protected, otherwise 0</p>
</dd>
<dt>slope</dt><dd><p>slope on a plot</p>
</dd>
<dt>elevation</dt><dd><p>plot elevation</p>
</dd>
<dt>northness</dt><dd><p>plot northness, 1 is north, 0 is south</p>
</dd>
<dt>siteIndex</dt><dd><p>a proxy for site index, higher value represents more productive sites</p>
</dd>
<dt>BA</dt><dd><p>basal area of individual trees in m2</p>
</dd>
<dt>weight</dt><dd><p>upscale weight to calculate hectare values</p>
</dd>
<dt>stand_BA</dt><dd><p>Total stand basal area</p>
</dd>
<dt>stand_n</dt><dd><p>The number of trees in a stand</p>
</dd>
<dt>BAL</dt><dd><p>Basal Area in Large trees</p>
</dd>
<dt>p_BA</dt><dd><p>basal area of individual trees in m2 from previous simulation step</p>
</dd>
<dt>p_height</dt><dd><p>tree height in meters from previous simulation step</p>
</dd>
<dt>p_crownHeight</dt><dd><p>crown height in meters from previous simulation step</p>
</dd>
<dt>p_weight</dt><dd><p>upscale weight to calculate hectare values from previous simulation step</p>
</dd>
<dt>BAI</dt><dd><p>basal area increment</p>
</dd>
<dt>p_sum</dt><dd><p>monthly precipitation sum</p>
</dd>
<dt>t_avg</dt><dd><p>monthly mean temperature</p>
</dd>
<dt>volume</dt><dd><p>tree volume in m3</p>
</dd>
<dt>p_volume</dt><dd><p>tree volume in m3 from previous simulation step</p>
</dd>
</dl>


<hr>
<h2 id='df_volume_parameters'>An example table with parameters and equations for n-parametric volume functions</h2><span id='topic+df_volume_parameters'></span>

<h3>Description</h3>

<p>Volume functions can be specified for each species and plot separately, also limited to specific DBH interval. The factor variables (vol_factor,
h_factor and DBH_factor) are used to control the input and output units.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>df_volume_parameters
</code></pre>


<h3>Format</h3>

<p>A data frame with 6 rows and 14 variables:
</p>

<dl>
<dt>species</dt><dd><p>species name as used in data_NFI. The category REST is used for all species without specific equation</p>
</dd>
<dt>equation</dt><dd><p>equation for selected volume function</p>
</dd>
<dt>vol_factor</dt><dd><p>will be multiplied with the volume</p>
</dd>
<dt>h_factor</dt><dd><p>will be multiplied with tree height</p>
</dd>
<dt>d_factor</dt><dd><p>will be divided with tree DBH</p>
</dd>
<dt>DBH_min</dt><dd><p>lower interval threshold for considered trees</p>
</dd>
<dt>DBH_max</dt><dd><p>upper interval threshold for considered trees</p>
</dd>
<dt>a</dt><dd><p>parameter a for volume equation</p>
</dd>
<dt>b</dt><dd><p>parameter b for volume equation</p>
</dd>
<dt>c</dt><dd><p>parameter c for volume equation</p>
</dd>
<dt>d</dt><dd><p>parameter d for volume equation</p>
</dd>
<dt>e</dt><dd><p>parameter e for volume equation</p>
</dd>
<dt>f</dt><dd><p>parameter f for volume equation</p>
</dd>
<dt>g</dt><dd><p>parameter g for volume equation</p>
</dd>
</dl>


<hr>
<h2 id='form_factors'>An example table with form factors used to calculate tree volume</h2><span id='topic+form_factors'></span>

<h3>Description</h3>

<p>Form factors can be specified per species, plot or per species and plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>form_factors
</code></pre>


<h3>Format</h3>

<p>A data frame with 1199 rows and 3 variables:
</p>

<dl>
<dt>plotID</dt><dd><p>a unique identifier for plot</p>
</dd>
<dt>species</dt><dd><p>species name as used in data_NFI</p>
</dd>
<dt>form</dt><dd><p>for factor used to calculate tree volume</p>
</dd>
</dl>


<hr>
<h2 id='height_prediction'>height_prediction</h2><span id='topic+height_prediction'></span>

<h3>Description</h3>

<p>Height model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>height_prediction(
  df_fit,
  df_predict,
  species_n_threshold = 100,
  height_model = "naslund",
  BRNN_neurons = 3,
  height_pred_level = 0,
  eval_model_height = TRUE,
  blocked_cv = TRUE,
  k = 10
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="height_prediction_+3A_df_fit">df_fit</code></td>
<td>
<p>data frame with tree heights and basal areas for individual trees</p>
</td></tr>
<tr><td><code id="height_prediction_+3A_df_predict">df_predict</code></td>
<td>
<p>data frame which will be used for predictions</p>
</td></tr>
<tr><td><code id="height_prediction_+3A_species_n_threshold">species_n_threshold</code></td>
<td>
<p>a positive integer defining the minimum number of
observations required to treat a species as an independent group</p>
</td></tr>
<tr><td><code id="height_prediction_+3A_height_model">height_model</code></td>
<td>
<p>character string defining the model to be used for height
prediction. If 'brnn', then ANN method with Bayesian Regularization is applied.
In addition, all 2- and 3- parametric H-D models from lmfor R package are
available.</p>
</td></tr>
<tr><td><code id="height_prediction_+3A_brnn_neurons">BRNN_neurons</code></td>
<td>
<p>positive integer defining the number of neurons to be
used in the brnn method.</p>
</td></tr>
<tr><td><code id="height_prediction_+3A_height_pred_level">height_pred_level</code></td>
<td>
<p>integer with value 0 or 1 defining the level of
prediction for height-diameter (H-D) models. The value 1 defines a plot-level
prediction, while the value 0 defines regional-level predictions. Default is
0. If using 1, make sure to have representative plot-level data for each
species.</p>
</td></tr>
<tr><td><code id="height_prediction_+3A_eval_model_height">eval_model_height</code></td>
<td>
<p>logical, should the height model be evaluated and
returned as the output</p>
</td></tr>
<tr><td><code id="height_prediction_+3A_blocked_cv">blocked_cv</code></td>
<td>
<p>logical, should the blocked cross-validation be used in the
evaluation phase?</p>
</td></tr>
<tr><td><code id="height_prediction_+3A_k">k</code></td>
<td>
<p>the number of folds to be used in the k fold cross-validation</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list with four elements:
</p>

<ol>
<li><p> $data_height_predictions - a data frame with imputed tree heights
</p>
</li>
<li><p> $data_height_eval - a data frame with predicted and observed tree heights, or a character string indicating that tree heights were not evaluated
</p>
</li>
<li><p> $model_species - the output model for tree heights (species level)
</p>
</li>
<li><p> $model_speciesGroups - the output model for tree heights (species group level)
</p>
</li></ol>



<h3>Examples</h3>

<pre><code class='language-R'>library(MLFS)
data(data_tree_heights)
data(data_v2)

# A) Example with the BRNN method
h_predictions &lt;- height_prediction(df_fit = data_tree_heights,
                                   df_predict = data_v2,
                                   species_n_threshold = 100,
                                   height_pred_level = 0,
                                   height_model = "brnn",
                                   BRNN_neurons = 3,
                                   eval_model_height = FALSE,
                                   blocked_cv = TRUE, k = 10
                                   )

predicted_df &lt;- h_predictions$data_height_predictions # df with imputed heights
evaluation_df &lt;- h_predictions$data_height_eval # df with evaluation results

</code></pre>

<hr>
<h2 id='height_prediction_halfPeriod'>height_prediction_halfPeriod</h2><span id='topic+height_prediction_halfPeriod'></span>

<h3>Description</h3>

<p>Height model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>height_prediction_halfPeriod(
  df_fit,
  df_predict,
  species_n_threshold = 100,
  height_model = "naslund",
  BRNN_neurons = 3,
  height_pred_level = 0
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="height_prediction_halfPeriod_+3A_df_fit">df_fit</code></td>
<td>
<p>data frame with data being used for model fit</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data frame with imputed tree heights in the middle of a simulation step
</p>

<hr>
<h2 id='ingrowth_parameter_list'>An example data of ingrowth_parameter_list</h2><span id='topic+ingrowth_parameter_list'></span>

<h3>Description</h3>

<p>This is a list with two ingrowth levels: 3 (inner circle) and 15 (outer
circle). In each list there are deciles of DBH distributions that are used to
simulate DBH for new trees, separately for each ingrowth category
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ingrowth_parameter_list
</code></pre>


<h3>Format</h3>

<p>A list with 2 elements:
</p>

<dl>
<dt>3</dt><dd><p>deciles of DBH distribution for ingrowth category 3</p>
</dd>
<dt>15</dt><dd><p>deciles of DBH distribution for ingrowth category 15</p>
</dd>
</dl>


<hr>
<h2 id='ingrowth_table'>An example data of ingrowth_table</h2><span id='topic+ingrowth_table'></span>

<h3>Description</h3>

<p>Ingrowth table is used within the ingrowth sub model to correctly simulate
different ingrowth levels and associated upscale weights
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ingrowth_table
</code></pre>


<h3>Format</h3>

<p>A data frame with 2 rows and 4 variables:
</p>

<dl>
<dt>code</dt><dd><p>ingrowth codes</p>
</dd>
<dt>DBH_threshold</dt><dd><p>a DBH threshold for particular ingrowth category</p>
</dd>
<dt>DBH_max</dt><dd><p>maximum DBH for a particular ingrowth category</p>
</dd>
<dt>weight</dt><dd><p>the upscale weight for particular measurement category</p>
</dd>
</dl>


<hr>
<h2 id='max_size_data'>An example of data with maximum allowed BA that is used in the mortality
sub model</h2><span id='topic+max_size_data'></span>

<h3>Description</h3>

<p>This is simulated max_size_data and used for examples in mortality sub model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>max_size_data
</code></pre>


<h3>Format</h3>

<p>A data frame with 36 rows and 2 variables:
</p>

<dl>
<dt>species</dt><dd><p>species name</p>
</dd>
<dt>BA_max</dt><dd><p>The maximum allowed basal area (BA) for each individual species</p>
</dd>
</dl>


<hr>
<h2 id='measurement_thresholds'>An example of measurement_thresholds table</h2><span id='topic+measurement_thresholds'></span>

<h3>Description</h3>

<p>An example of measurement_thresholds table resulting from concentric plots as used in Slovenian NFI
</p>


<h3>Usage</h3>

<pre><code class='language-R'>measurement_thresholds
</code></pre>


<h3>Format</h3>

<p>A data frame with 2 rows and 2 variables:
</p>

<dl>
<dt>DBH_threshold</dt><dd><p>a DBH threshold for particular measurement category</p>
</dd>
<dt>weight</dt><dd><p>the upscale weight for particular measurement category</p>
</dd>
</dl>


<hr>
<h2 id='MLFS'>MLFS</h2><span id='topic+MLFS'></span>

<h3>Description</h3>

<p>Machine Learning Forest Simulator
</p>


<h3>Usage</h3>

<pre><code class='language-R'>MLFS(
  data_NFI,
  data_site,
  data_tariffs = NULL,
  data_climate = NULL,
  df_volumeF_parameters = NULL,
  thinning_weights_species = NULL,
  final_cut_weights_species = NULL,
  thinning_weights_plot = NULL,
  final_cut_weights_plot = NULL,
  form_factors = NULL,
  form_factors_level = "species_plot",
  uniform_form_factor = 0.42,
  sim_steps,
  volume_calculation = "volume_functions",
  merchantable_whole_tree = "merchantable",
  sim_harvesting = TRUE,
  sim_mortality = TRUE,
  sim_ingrowth = TRUE,
  sim_crownHeight = TRUE,
  harvesting_sum = NULL,
  forest_area_ha = NULL,
  harvest_sum_level = NULL,
  plot_upscale_type = NULL,
  plot_upscale_factor = NULL,
  mortality_share = NA,
  mortality_share_type = "volume",
  mortality_model = "glm",
  ingrowth_model = "ZIF_poiss",
  BAI_rf_mtry = NULL,
  ingrowth_rf_mtry = NULL,
  mortality_rf_mtry = NULL,
  nb_laplace = 0,
  harvesting_type = "final_cut",
  share_thinning = 0.8,
  final_cut_weight = 10,
  thinning_small_weight = 1,
  species_n_threshold = 100,
  height_model = "brnn",
  crownHeight_model = "brnn",
  BRNN_neurons_crownHeight = 1,
  BRNN_neurons_height = 3,
  height_pred_level = 0,
  include_climate = FALSE,
  select_months_climate = c(1, 12),
  set_eval_mortality = TRUE,
  set_eval_crownHeight = TRUE,
  set_eval_height = TRUE,
  set_eval_ingrowth = TRUE,
  set_eval_BAI = TRUE,
  k = 10,
  blocked_cv = TRUE,
  max_size = NULL,
  max_size_increase_factor = 1,
  ingrowth_codes = c(3),
  ingrowth_max_DBH_percentile = 0.9,
  measurement_thresholds = NULL,
  area_correction = NULL,
  export_csv = FALSE,
  sim_export_mode = TRUE,
  include_mortality_BAI = TRUE,
  intermediate_print = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="MLFS_+3A_data_nfi">data_NFI</code></td>
<td>
<p>data frame with individual tree variables</p>
</td></tr>
<tr><td><code id="MLFS_+3A_data_site">data_site</code></td>
<td>
<p>data frame with site descriptors. This data is related to
data_NFI based on the 'plotID' column</p>
</td></tr>
<tr><td><code id="MLFS_+3A_data_tariffs">data_tariffs</code></td>
<td>
<p>optional, but mandatory if volume is calculated using the
one-parametric tariff functions. Data frame with plotID, species and V45. See
details.</p>
</td></tr>
<tr><td><code id="MLFS_+3A_data_climate">data_climate</code></td>
<td>
<p>data frame with climate data, covering the initial
calibration period and all the years which will be included in the simulation</p>
</td></tr>
<tr><td><code id="MLFS_+3A_df_volumef_parameters">df_volumeF_parameters</code></td>
<td>
<p>optional, data frame with species-specific
volume function parameters</p>
</td></tr>
<tr><td><code id="MLFS_+3A_thinning_weights_species">thinning_weights_species</code></td>
<td>
<p>data frame with thinning weights for each
species. The first column represents species code, each next column consists
of species-specific thinning weights applied in each simulation step</p>
</td></tr>
<tr><td><code id="MLFS_+3A_final_cut_weights_species">final_cut_weights_species</code></td>
<td>
<p>data frame with final cut weights for each
species. The first column represents species code, each next column consists
of species-specific final cut weights applied in each simulation step</p>
</td></tr>
<tr><td><code id="MLFS_+3A_thinning_weights_plot">thinning_weights_plot</code></td>
<td>
<p>data frame with harvesting weights related to
plot IDs, used for thinning</p>
</td></tr>
<tr><td><code id="MLFS_+3A_final_cut_weights_plot">final_cut_weights_plot</code></td>
<td>
<p>data frame with harvesting weights related
to plot IDs, used for final cut</p>
</td></tr>
<tr><td><code id="MLFS_+3A_form_factors">form_factors</code></td>
<td>
<p>optional, data frame with species-specific form factors</p>
</td></tr>
<tr><td><code id="MLFS_+3A_form_factors_level">form_factors_level</code></td>
<td>
<p>character, the level of specified form factors. It
can be 'species', 'plot' or 'species_plot'</p>
</td></tr>
<tr><td><code id="MLFS_+3A_uniform_form_factor">uniform_form_factor</code></td>
<td>
<p>numeric, uniform form factor to be used for all
species and plots. Only if form_factors are not provided</p>
</td></tr>
<tr><td><code id="MLFS_+3A_sim_steps">sim_steps</code></td>
<td>
<p>The number of simulation steps</p>
</td></tr>
<tr><td><code id="MLFS_+3A_volume_calculation">volume_calculation</code></td>
<td>
<p>character string defining the method for volume
calculation: 'tariffs', 'volume_functions', 'form_factors' or
'slo_2p_volume_functions'</p>
</td></tr>
<tr><td><code id="MLFS_+3A_merchantable_whole_tree">merchantable_whole_tree</code></td>
<td>
<p>character, 'merchantable' or 'whole_tree'. It
indicates which type of volume functions will be used. This parameter is used
only for volume calculation using the 'slo_2p_volume_functions'.</p>
</td></tr>
<tr><td><code id="MLFS_+3A_sim_harvesting">sim_harvesting</code></td>
<td>
<p>logical, should harvesting be simulated?</p>
</td></tr>
<tr><td><code id="MLFS_+3A_sim_mortality">sim_mortality</code></td>
<td>
<p>logical, should mortality be simulated?</p>
</td></tr>
<tr><td><code id="MLFS_+3A_sim_ingrowth">sim_ingrowth</code></td>
<td>
<p>logical, should ingrowth be simulated?</p>
</td></tr>
<tr><td><code id="MLFS_+3A_sim_crownheight">sim_crownHeight</code></td>
<td>
<p>logical, should crown heights be simulated? If TRUE,
a crownHeight column is expected in data_NFI</p>
</td></tr>
<tr><td><code id="MLFS_+3A_harvesting_sum">harvesting_sum</code></td>
<td>
<p>a value, or a vector of values defining the harvesting
sums through the simulation stage. If a single value, then it is used in all
simulation steps. If a vector of values, the first value is used in the first
step, the second in the second step, etc.</p>
</td></tr>
<tr><td><code id="MLFS_+3A_forest_area_ha">forest_area_ha</code></td>
<td>
<p>the total area of all forest which are subject of the
simulation</p>
</td></tr>
<tr><td><code id="MLFS_+3A_harvest_sum_level">harvest_sum_level</code></td>
<td>
<p>integer with value 0 or 1 defining the level of
specified harvesting sum: 0 for plot level and 1 for regional level</p>
</td></tr>
<tr><td><code id="MLFS_+3A_plot_upscale_type">plot_upscale_type</code></td>
<td>
<p>character defining the upscale method of plot level
values. It can be 'area' or 'upscale factor'. If 'area', provide the forest
area represented by all plots in hectares (forest_area_ha argument). If
'factor', provide the fixed factor to upscale the area of all plots. Please
note: forest_area_ha/plot_upscale_factor = number of unique plots. This
argument is important when harvesting sum is defined on regional level.</p>
</td></tr>
<tr><td><code id="MLFS_+3A_plot_upscale_factor">plot_upscale_factor</code></td>
<td>
<p>numeric value to be used to upscale area of each
plot</p>
</td></tr>
<tr><td><code id="MLFS_+3A_mortality_share">mortality_share</code></td>
<td>
<p>a value, or a vector of values defining the proportion
of the volume which is to be the subject of mortality. If a single value,
then it is used in all simulation steps. If a vector of values, the first
value is used in the first step, the second in the second step, and so on.</p>
</td></tr>
<tr><td><code id="MLFS_+3A_mortality_share_type">mortality_share_type</code></td>
<td>
<p>character, it can be 'volume' or 'n_trees'. If
'volume' then the mortality share relates to total standing volume, if
'n_trees' then mortality share relates to the total number of standing trees</p>
</td></tr>
<tr><td><code id="MLFS_+3A_mortality_model">mortality_model</code></td>
<td>
<p>model to be used for mortality prediction: 'glm' for
generalized linear models; 'rf' for random forest algorithm; 'naiveBayes' for
Naive Bayes algorithm</p>
</td></tr>
<tr><td><code id="MLFS_+3A_ingrowth_model">ingrowth_model</code></td>
<td>
<p>model to be used for ingrowth predictions. 'glm' for
generalized linear models (Poisson regression), 'ZIF_poiss' for zero inflated
Poisson regression and 'rf' for random forest</p>
</td></tr>
<tr><td><code id="MLFS_+3A_bai_rf_mtry">BAI_rf_mtry</code></td>
<td>
<p>a number of variables randomly sampled as candidates at
each split of a random forest model for predicting basal area increments
(BAI). If NULL, default settings are applied.</p>
</td></tr>
<tr><td><code id="MLFS_+3A_ingrowth_rf_mtry">ingrowth_rf_mtry</code></td>
<td>
<p>a number of variables randomly sampled as candidates
at each split of a random forest model for predicting ingrowth. If NULL,
default settings are applied</p>
</td></tr>
<tr><td><code id="MLFS_+3A_mortality_rf_mtry">mortality_rf_mtry</code></td>
<td>
<p>a number of variables randomly sampled as candidates
at each split of a random forest model for predicting mortality. If NULL,
default settings are applied</p>
</td></tr>
<tr><td><code id="MLFS_+3A_nb_laplace">nb_laplace</code></td>
<td>
<p>value used for Laplace smoothing (additive smoothing) in
naive Bayes algorithm. Defaults to 0 (no Laplace smoothing)</p>
</td></tr>
<tr><td><code id="MLFS_+3A_harvesting_type">harvesting_type</code></td>
<td>
<p>character, it could be 'random', 'final_cut',
'thinning' or 'combined'. The latter combines 'final_cut' and 'thinning'
options, where the share of each is specified with the argument
'share_thinning'</p>
</td></tr>
<tr><td><code id="MLFS_+3A_share_thinning">share_thinning</code></td>
<td>
<p>numeric, a number or a vector of numbers between 0 and
1 that specifies the share of thinning in comparison to final_cut. Only used
if harvesting_type is 'combined'</p>
</td></tr>
<tr><td><code id="MLFS_+3A_final_cut_weight">final_cut_weight</code></td>
<td>
<p>numeric value affecting the probability distribution
of harvested trees. Greater value increases the share of harvested trees
having larger DBH. Default is 10.</p>
</td></tr>
<tr><td><code id="MLFS_+3A_thinning_small_weight">thinning_small_weight</code></td>
<td>
<p>numeric value affecting the probability
distribution of harvested trees. Greater value increases the share of
harvested trees having smaller DBH. Default is 1.</p>
</td></tr>
<tr><td><code id="MLFS_+3A_species_n_threshold">species_n_threshold</code></td>
<td>
<p>a positive integer defining the minimum number of
observations required to treat a species as an independent group</p>
</td></tr>
<tr><td><code id="MLFS_+3A_height_model">height_model</code></td>
<td>
<p>character string defining the model to be used for height
prediction. If brnn, then ANN method with Bayesian Regularization is applied.</p>
</td></tr>
<tr><td><code id="MLFS_+3A_crownheight_model">crownHeight_model</code></td>
<td>
<p>character string defining the model to be used for
crown heights. Available are ANN with Bayesian regularization (brnn) or
linear regression (lm)</p>
</td></tr>
<tr><td><code id="MLFS_+3A_brnn_neurons_crownheight">BRNN_neurons_crownHeight</code></td>
<td>
<p>a positive integer defining the number of
neurons to be used in the brnn method for predicting crown heights</p>
</td></tr>
<tr><td><code id="MLFS_+3A_brnn_neurons_height">BRNN_neurons_height</code></td>
<td>
<p>a positive integer defining the number of neurons
to be used in the brnn method for predicting tree heights</p>
</td></tr>
<tr><td><code id="MLFS_+3A_height_pred_level">height_pred_level</code></td>
<td>
<p>integer with value 0 or 1 defining the level of
prediction for height-diameter (H-D) models. The value 1 defines a plot-level
prediction, while the value 0 defines regional-level predictions. Default is
0. If using 1, make sure to have representative plot-level data for each
species.</p>
</td></tr>
<tr><td><code id="MLFS_+3A_include_climate">include_climate</code></td>
<td>
<p>logical, should climate variables be included as
predictors</p>
</td></tr>
<tr><td><code id="MLFS_+3A_select_months_climate">select_months_climate</code></td>
<td>
<p>vector of subset months to be considered.
Default is c(1,12), which uses all months.</p>
</td></tr>
<tr><td><code id="MLFS_+3A_set_eval_mortality">set_eval_mortality</code></td>
<td>
<p>logical, should the mortality model be evaluated
and returned as the output</p>
</td></tr>
<tr><td><code id="MLFS_+3A_set_eval_crownheight">set_eval_crownHeight</code></td>
<td>
<p>logical, should the crownHeight model be
evaluated and returned as the output</p>
</td></tr>
<tr><td><code id="MLFS_+3A_set_eval_height">set_eval_height</code></td>
<td>
<p>logical, should the height model be evaluated and
returned as the output</p>
</td></tr>
<tr><td><code id="MLFS_+3A_set_eval_ingrowth">set_eval_ingrowth</code></td>
<td>
<p>logical, should the the ingrowth model be evaluated
and returned as the output</p>
</td></tr>
<tr><td><code id="MLFS_+3A_set_eval_bai">set_eval_BAI</code></td>
<td>
<p>logical, should the the BAI model be evaluated and
returned as the output</p>
</td></tr>
<tr><td><code id="MLFS_+3A_k">k</code></td>
<td>
<p>the number of folds to be used in the k fold cross-validation</p>
</td></tr>
<tr><td><code id="MLFS_+3A_blocked_cv">blocked_cv</code></td>
<td>
<p>logical, should the blocked cross-validation be used in the
evaluation phase?</p>
</td></tr>
<tr><td><code id="MLFS_+3A_max_size">max_size</code></td>
<td>
<p>a data frame with the maximum values of DBH for each species.
If a tree exceeds this value, it dies. If not provided, the maximum is
estimated from the input data. Two columns must be present, i.e. 'species'
and 'DBH_max'</p>
</td></tr>
<tr><td><code id="MLFS_+3A_max_size_increase_factor">max_size_increase_factor</code></td>
<td>
<p>numeric value, which will be used to increase
the max DBH for each species, when the maximum is estimated from the input
data. If the argument 'max_size' is provided, the 'max_size_increase_factor'
is ignored. Default is 1. To increase maximum for 10 percent, use 1.1.</p>
</td></tr>
<tr><td><code id="MLFS_+3A_ingrowth_codes">ingrowth_codes</code></td>
<td>
<p>numeric value or a vector of codes which refer to
ingrowth trees</p>
</td></tr>
<tr><td><code id="MLFS_+3A_ingrowth_max_dbh_percentile">ingrowth_max_DBH_percentile</code></td>
<td>
<p>which percentile should be used to
estimate the maximum simulated value of ingrowth trees?</p>
</td></tr>
<tr><td><code id="MLFS_+3A_measurement_thresholds">measurement_thresholds</code></td>
<td>
<p>data frame with two variables: 1) DBH_threshold
and 2) weight. This information is used to assign the correct weights in BAI
and increment sub-model; and to upscale plot-level data to hectares.</p>
</td></tr>
<tr><td><code id="MLFS_+3A_area_correction">area_correction</code></td>
<td>
<p>optional data frame with three variables: 1) plotID
and 2) DBH_threshold and 3) the correction factor to be multiplied by weight
for this particular category.</p>
</td></tr>
<tr><td><code id="MLFS_+3A_export_csv">export_csv</code></td>
<td>
<p>logical, if TRUE, at each simulation step, the results are
saved in the current working directory as csv file</p>
</td></tr>
<tr><td><code id="MLFS_+3A_sim_export_mode">sim_export_mode</code></td>
<td>
<p>logical, if FALSE, the results of the individual
simulation steps are not merged into the final export table. Therefore,
output element 1 ($sim_results) will be empty. This was introduced to allow
simulations when using larger data sets and long term simulations that might
exceed the available RAM. In such cases, we recommend setting the argument
export_csv = TRUE, which will export each simulation step to the current
working directory.</p>
</td></tr>
<tr><td><code id="MLFS_+3A_include_mortality_bai">include_mortality_BAI</code></td>
<td>
<p>logical, should basal area increments (BAI) be
used as independent variable for predicting individual tree morality?</p>
</td></tr>
<tr><td><code id="MLFS_+3A_intermediate_print">intermediate_print</code></td>
<td>
<p>logical, if TRUE intermediate steps will be printed
while MLFS is running</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list of class mlfs with at least 15 elements:
</p>

<ol>
<li><p> $sim_results - a data frame with the simulation results
</p>
</li>
<li><p> $height_eval - a data frame with predicted and observed tree heights, or a character string indicating that tree heights were not evaluated
</p>
</li>
<li><p> $crownHeight_eval - a data frame with predicted and observed crown heights, or character string indicating that crown heights were not evaluated
</p>
</li>
<li><p> $mortality_eval - a data frame with predicted and observed probabilities of dying for all individual trees, or character string indicating that mortality sub-model was not evaluated
</p>
</li>
<li><p> $ingrowth_eval - a data frame with predicted and observed number of new ingrowth trees, separately for each ingrowth level, or character string indicating that ingrowth model was not evaluated
</p>
</li>
<li><p> $BAI_eval - a data frame with predicted and observed basal area increments (BAI), or character string indicating that BAI model was not evaluated
</p>
</li>
<li><p> $height_model_species - the output model for tree heights (species level)
</p>
</li>
<li><p> $height_model_speciesGroups - the output model for tree heights (species group level)
</p>
</li>
<li><p> $crownHeight_model_species - the output model for crown heights (species level)
</p>
</li>
<li><p> $crownHeight_model_speciesGroups - the output model for crown heights (species group level)
</p>
</li>
<li><p> $mortality_model - the output model for mortality
</p>
</li>
<li><p> $BAI_model_species - the output model for basal area increments (species level)
</p>
</li>
<li><p> $BAI_model_speciesGroups - the output model for basal area increments (species group level)
</p>
</li>
<li><p> $max_size - a data frame with maximum allowed diameter at breast height (DBH) for each species
</p>
</li>
<li><p> $ingrowth_model_3 - the output model for ingrowth (level 1) – the output name depends on ingrowth codes
</p>
</li>
<li><p> $ingrowth_model_15 - the output model for ingrowth (level 2) – optional and the output name depends on ingrowth codes
</p>
</li></ol>



<h3>Examples</h3>

<pre><code class='language-R'>
library(MLFS)

# open example data
data(data_NFI)
data(data_site)
data(data_climate)
data(df_volume_parameters)
data(measurement_thresholds)

test_simulation &lt;- MLFS(data_NFI = data_NFI,
 data_site = data_site,
 data_climate = data_climate,
 df_volumeF_parameters = df_volume_parameters,
 form_factors = volume_functions,
 sim_steps = 2,
 sim_harvesting = TRUE,
 harvesting_sum = 100000,
 harvest_sum_level = 1,
 plot_upscale_type = "factor",
 plot_upscale_factor = 1600,
 measurement_thresholds = measurement_thresholds,
 ingrowth_codes = c(3,15),
 volume_calculation = "volume_functions",
 select_months_climate = seq(6,8),
 intermediate_print = FALSE
 )

</code></pre>

<hr>
<h2 id='predict_ingrowth'>predict_ingrowth</h2><span id='topic+predict_ingrowth'></span>

<h3>Description</h3>

<p>ingrowth model for predicting new trees within the MLFS
</p>


<h3>Usage</h3>

<pre><code class='language-R'>predict_ingrowth(
  df_fit,
  df_predict,
  site_vars = site_vars,
  include_climate = include_climate,
  eval_model_ingrowth = TRUE,
  k = 10,
  blocked_cv = TRUE,
  ingrowth_model = "glm",
  rf_mtry = NULL,
  ingrowth_table = NULL,
  DBH_distribution_parameters = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="predict_ingrowth_+3A_df_fit">df_fit</code></td>
<td>
<p>a plot-level data with plotID, stand variables and site
descriptors, and the two target variables describing the number of ingrowth
trees for inner (ingrowth_3) and outer (ingrowth_15) circles</p>
</td></tr>
<tr><td><code id="predict_ingrowth_+3A_df_predict">df_predict</code></td>
<td>
<p>data frame which will be used for ingrowth predictions</p>
</td></tr>
<tr><td><code id="predict_ingrowth_+3A_site_vars">site_vars</code></td>
<td>
<p>a character vector of variable names which are used as site
descriptors</p>
</td></tr>
<tr><td><code id="predict_ingrowth_+3A_include_climate">include_climate</code></td>
<td>
<p>logical, should climate variables be included as
predictors</p>
</td></tr>
<tr><td><code id="predict_ingrowth_+3A_eval_model_ingrowth">eval_model_ingrowth</code></td>
<td>
<p>logical, should the the ingrowth model be
evaluated and returned as the output</p>
</td></tr>
<tr><td><code id="predict_ingrowth_+3A_k">k</code></td>
<td>
<p>the number of folds to be used in the k fold cross-validation</p>
</td></tr>
<tr><td><code id="predict_ingrowth_+3A_blocked_cv">blocked_cv</code></td>
<td>
<p>logical, should the blocked cross-validation be used in the
evaluation phase?</p>
</td></tr>
<tr><td><code id="predict_ingrowth_+3A_ingrowth_model">ingrowth_model</code></td>
<td>
<p>model to be used for ingrowth predictions. 'glm' for
generalized linear models (Poisson regression), 'ZIF_poiss' for zero inflated
Poisson regression and 'rf' for random forest</p>
</td></tr>
<tr><td><code id="predict_ingrowth_+3A_rf_mtry">rf_mtry</code></td>
<td>
<p>a number of variables randomly sampled as candidates at
each split of a random forest model for predicting ingrowth. If NULL, default
settings are applied.</p>
</td></tr>
<tr><td><code id="predict_ingrowth_+3A_ingrowth_table">ingrowth_table</code></td>
<td>
<p>a data frame with 4 variables: (ingrowth) code,
DBH_threshold, DBH_max and weight. Ingrowth table is used within the ingrowth
sub model to correctly simulate different ingrowth levels and associated
upscale weights</p>
</td></tr>
<tr><td><code id="predict_ingrowth_+3A_dbh_distribution_parameters">DBH_distribution_parameters</code></td>
<td>
<p>A list with deciles of DBH distributions
that are used to simulate DBH for new trees, separately for each ingrowth
category</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list with four elements:
</p>

<ol>
<li><p> $predicted_ingrowth - a data frame with newly added trees based on the ingrowth predictions
</p>
</li>
<li><p> $eval_ingrowth - a data frame with predicted and observed number of new trees, separately for each ingrowth level, or character string indicating that ingrowth model was not evaluated
</p>
</li>
<li><p> $mod_ing_3 - the output model for predicting the ingrowth of trees with code 3
</p>
</li>
<li><p> $mod_ing_15 - the output model for predicting the ingrowth of trees with code 15 (the output name depends on the code used for this particular ingrowth level)
</p>
</li></ol>



<h3>Examples</h3>

<pre><code class='language-R'>
library(MLFS)

data(data_v6)
data(data_ingrowth)
data(ingrowth_table)
data(ingrowth_parameter_list)

ingrowth_outputs &lt;- predict_ingrowth(
   df_fit = data_ingrowth,
   df_predict = data_v6,
   site_vars = c("slope", "elevation", "northness", "siteIndex"),
   include_climate = TRUE,
   eval_model_ingrowth = FALSE,
   rf_mtry = 3,
   k = 10, blocked_cv = TRUE,
   ingrowth_model = 'rf',
   ingrowth_table = ingrowth_table,
   DBH_distribution_parameters = ingrowth_parameter_list)

</code></pre>

<hr>
<h2 id='predict_mortality'>predict_mortality</h2><span id='topic+predict_mortality'></span>

<h3>Description</h3>

<p>This sub model first fits a binary model to derive the effects of individual
tree, site and climate variables on mortality; and afterwards predict the
probability of dying for each tree from df_predict
</p>


<h3>Usage</h3>

<pre><code class='language-R'>predict_mortality(
  df_fit,
  df_predict,
  df_climate,
  mortality_share = NA,
  mortality_share_type = "volume",
  include_climate,
  site_vars,
  select_months_climate = c(6, 8),
  mortality_model = "rf",
  nb_laplace = 0,
  sim_crownHeight = FALSE,
  k = 10,
  eval_model_mortality = TRUE,
  blocked_cv = TRUE,
  sim_mortality = TRUE,
  sim_step_years = 5,
  rf_mtry = NULL,
  df_max_size = NULL,
  ingrowth_codes = 3,
  include_mortality_BAI = TRUE,
  intermediate_print = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="predict_mortality_+3A_df_fit">df_fit</code></td>
<td>
<p>a data frame with individual tree data and site descriptors
where code is used to specify a status of each tree</p>
</td></tr>
<tr><td><code id="predict_mortality_+3A_df_predict">df_predict</code></td>
<td>
<p>data frame which will be used for mortality predictions</p>
</td></tr>
<tr><td><code id="predict_mortality_+3A_df_climate">df_climate</code></td>
<td>
<p>data frame with monthly climate data</p>
</td></tr>
<tr><td><code id="predict_mortality_+3A_mortality_share">mortality_share</code></td>
<td>
<p>a value defining the proportion of the volume which is
to be the subject of mortality</p>
</td></tr>
<tr><td><code id="predict_mortality_+3A_mortality_share_type">mortality_share_type</code></td>
<td>
<p>character, it can be 'volume' or 'n_trees'. If
'volume' then the mortality share relates to total standing volume, if
'n_trees' then mortality share relates to the total number of standing trees</p>
</td></tr>
<tr><td><code id="predict_mortality_+3A_include_climate">include_climate</code></td>
<td>
<p>logical, should climate variables be included as
predictors</p>
</td></tr>
<tr><td><code id="predict_mortality_+3A_site_vars">site_vars</code></td>
<td>
<p>a character vector of variable names which are used as site
descriptors</p>
</td></tr>
<tr><td><code id="predict_mortality_+3A_select_months_climate">select_months_climate</code></td>
<td>
<p>vector of subset months to be considered.
Default is c(1,12), which uses all months.</p>
</td></tr>
<tr><td><code id="predict_mortality_+3A_mortality_model">mortality_model</code></td>
<td>
<p>logical, should the mortality model be evaluated
and returned as the output</p>
</td></tr>
<tr><td><code id="predict_mortality_+3A_nb_laplace">nb_laplace</code></td>
<td>
<p>value used for Laplace smoothing (additive smoothing) in
naive Bayes algorithm. Defaults to 0 (no Laplace smoothing).</p>
</td></tr>
<tr><td><code id="predict_mortality_+3A_sim_crownheight">sim_crownHeight</code></td>
<td>
<p>logical, should crown heights be considered as a
predictor variable? If TRUE, a crownHeight column is expected in data_NFI</p>
</td></tr>
<tr><td><code id="predict_mortality_+3A_k">k</code></td>
<td>
<p>the number of folds to be used in the k fold cross-validation</p>
</td></tr>
<tr><td><code id="predict_mortality_+3A_eval_model_mortality">eval_model_mortality</code></td>
<td>
<p>logical, should the mortality model be evaluated
and returned as the output</p>
</td></tr>
<tr><td><code id="predict_mortality_+3A_blocked_cv">blocked_cv</code></td>
<td>
<p>logical, should the blocked cross-validation be used in the
evaluation phase?</p>
</td></tr>
<tr><td><code id="predict_mortality_+3A_sim_mortality">sim_mortality</code></td>
<td>
<p>logical, should mortality be simulated?</p>
</td></tr>
<tr><td><code id="predict_mortality_+3A_sim_step_years">sim_step_years</code></td>
<td>
<p>the simulation step in years</p>
</td></tr>
<tr><td><code id="predict_mortality_+3A_rf_mtry">rf_mtry</code></td>
<td>
<p>number of variables randomly sampled as candidates at each
split of a random forest model. If NULL, default settings are applied.</p>
</td></tr>
<tr><td><code id="predict_mortality_+3A_df_max_size">df_max_size</code></td>
<td>
<p>a data frame with the maximum BA values for each species.
If a tree exceeds this value, it dies.</p>
</td></tr>
<tr><td><code id="predict_mortality_+3A_ingrowth_codes">ingrowth_codes</code></td>
<td>
<p>numeric value or a vector of codes which refer to
ingrowth trees</p>
</td></tr>
<tr><td><code id="predict_mortality_+3A_include_mortality_bai">include_mortality_BAI</code></td>
<td>
<p>logical, should basal area increments (BAI) be
used as independent variable for predicting individual tree morality?</p>
</td></tr>
<tr><td><code id="predict_mortality_+3A_intermediate_print">intermediate_print</code></td>
<td>
<p>logical, if TRUE intermediate steps will be printed
while the mortality sub model is running</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list with three elements:
</p>

<ol>
<li><p> $predicted_mortality - a data frame with updated tree status (code) based on the predicted mortality
</p>
</li>
<li><p> $eval_mortality - a data frame with predicted and observed probabilities of dying for all individual trees, or character string indicating that mortality sub-model was not evaluated
</p>
</li>
<li><p> $model_output - the output model for mortality
</p>
</li></ol>



<h3>Examples</h3>

<pre><code class='language-R'>data("data_v4")
data("data_mortality")
data("max_size_data")

mortality_outputs &lt;- predict_mortality(
 df_fit = data_mortality,
 df_predict = data_v4,
 mortality_share_type = 'volume',
 df_climate = data_climate,
 site_vars = c("slope", "elevation", "northness", "siteIndex"),
 sim_mortality = TRUE,
 mortality_model = 'naiveBayes',
 nb_laplace = 0,
 sim_crownHeight = TRUE,
 mortality_share = 0.02,
 include_climate = TRUE,
 select_months_climate = c(6,7,8),
 eval_model_mortality = TRUE,
 k = 10, blocked_cv = TRUE,
 sim_step_years = 6,
 df_max_size = max_size_data,
 ingrowth_codes = c(3,15),
 include_mortality_BAI = TRUE)

 df_predicted &lt;- mortality_outputs$predicted_mortality
 df_evaluation &lt;- mortality_outputs$eval_mortality

 # confusion matrix
 table(df_evaluation$mortality, round(df_evaluation$mortality_pred, 0))

</code></pre>

<hr>
<h2 id='simulate_harvesting'>A sub model to simulate harvesting within the MLFS</h2><span id='topic+simulate_harvesting'></span>

<h3>Description</h3>

<p>Harvesting is based on probability sampling, which depends on the selected
parameters and the seize of a tree. Bigger trees have higher probability of
being harvested when final cut is applied, while smaller trees have higher
probability of being sampled in the case of thinning.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simulate_harvesting(
  df,
  harvesting_sum,
  df_thinning_weights_species = NULL,
  df_final_cut_weights_species = NULL,
  df_thinning_weights_plot = NULL,
  df_final_cut_weights_plot = NULL,
  harvesting_type = "random",
  share_thinning = 0.8,
  final_cut_weight = 1e+07,
  thinning_small_weight = 1e+05,
  harvest_sum_level = 1,
  plot_upscale_type,
  plot_upscale_factor,
  forest_area_ha
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simulate_harvesting_+3A_df">df</code></td>
<td>
<p>a data frame with individual tree data, which include basal areas
in the middle of a simulation step, species name and code</p>
</td></tr>
<tr><td><code id="simulate_harvesting_+3A_harvesting_sum">harvesting_sum</code></td>
<td>
<p>a value, or a vector of values defining the harvesting
sums through the simulation stage. If a single value, then it is used in all
simulation steps. If a vector of values, the first value is used in the first
step, the second in the second step, etc.</p>
</td></tr>
<tr><td><code id="simulate_harvesting_+3A_df_thinning_weights_species">df_thinning_weights_species</code></td>
<td>
<p>data frame with thinning weights for each
species. The first column represents species code, each next column consists
of species-specific thinning weights</p>
</td></tr>
<tr><td><code id="simulate_harvesting_+3A_df_final_cut_weights_species">df_final_cut_weights_species</code></td>
<td>
<p>data frame with final cut weights for each
species. The first column represents species code, each next column consists
of species-specific final cut weights</p>
</td></tr>
<tr><td><code id="simulate_harvesting_+3A_df_thinning_weights_plot">df_thinning_weights_plot</code></td>
<td>
<p>data frame with harvesting weights related
to plot IDs, used for thinning</p>
</td></tr>
<tr><td><code id="simulate_harvesting_+3A_df_final_cut_weights_plot">df_final_cut_weights_plot</code></td>
<td>
<p>data frame with harvesting weights related
to plot IDs, used for final cut</p>
</td></tr>
<tr><td><code id="simulate_harvesting_+3A_harvesting_type">harvesting_type</code></td>
<td>
<p>character, it could be 'random', 'final_cut',
'thinning' or 'combined'. The latter combines 'final_cut' and 'thinning'
options, where the share of each is specified with the argument
'share_thinning'</p>
</td></tr>
<tr><td><code id="simulate_harvesting_+3A_share_thinning">share_thinning</code></td>
<td>
<p>numeric, a number between 0 and 1 that specifies the
share of thinning in comparison to final_cut. Only used if harvesting_type
is 'combined'</p>
</td></tr>
<tr><td><code id="simulate_harvesting_+3A_final_cut_weight">final_cut_weight</code></td>
<td>
<p>numeric value affecting the probability distribution
of harvested trees. Greater value increases the share of harvested trees
having larger DBH. Default is 10.</p>
</td></tr>
<tr><td><code id="simulate_harvesting_+3A_thinning_small_weight">thinning_small_weight</code></td>
<td>
<p>numeric value affecting the probability
distribution of harvested trees. Greater value increases the share of
harvested trees having smaller DBH. Default is 1.</p>
</td></tr>
<tr><td><code id="simulate_harvesting_+3A_harvest_sum_level">harvest_sum_level</code></td>
<td>
<p>integer with value 0 or 1 defining the level of
specified harvesting sum: 0 for plot level and 1 for regional level</p>
</td></tr>
<tr><td><code id="simulate_harvesting_+3A_plot_upscale_type">plot_upscale_type</code></td>
<td>
<p>character defining the upscale method of plot level
values. It can be 'area' or 'upscale factor'. If 'area', provide the forest
area represented by all plots in hectares (forest_area_ha argument). If
'factor', provide the fixed factor to upscale the area of all plots. Please
note: forest_area_ha/plot_upscale_factor = number of unique plots. This
argument is important when harvesting sum is defined on regional level.</p>
</td></tr>
<tr><td><code id="simulate_harvesting_+3A_plot_upscale_factor">plot_upscale_factor</code></td>
<td>
<p>numeric value to be used to upscale area of each
plot</p>
</td></tr>
<tr><td><code id="simulate_harvesting_+3A_forest_area_ha">forest_area_ha</code></td>
<td>
<p>the total area of all forest which are subject of the
simulation</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data frame with updated status (code) of all individual trees based
on the simulation of harvesting
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(MLFS)
data(data_v5)

data_v5 &lt;- simulate_harvesting(df = data_v5,
            harvesting_sum = 5500000,
            harvesting_type = "combined",
            share_thinning = 0.50,
            harvest_sum_level = 1,
            plot_upscale_type = "factor",
            plot_upscale_factor = 1600,
            final_cut_weight = 5,
            thinning_small_weight = 1)

</code></pre>

<hr>
<h2 id='transform_data'>transform_data</h2><span id='topic+transform_data'></span>

<h3>Description</h3>

<p>Initial data transformation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>transform_data(df, include_climate, df_climate, select_months_climate)
</code></pre>


<h3>Value</h3>

<p>a data frame with transformed data, which is used in the next steps
of the MLFS
</p>

<hr>
<h2 id='volume_form_factors'>volume_form_factors</h2><span id='topic+volume_form_factors'></span>

<h3>Description</h3>

<p>The calculation of individual tree volume using form factors, which can be
defined per species, per plot, or per species and per plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>volume_form_factors(
  df,
  form_factors = NULL,
  form_factors_level = "species",
  uniform_form_factor = 0.42
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="volume_form_factors_+3A_df">df</code></td>
<td>
<p>data frame with tree heights and basal areas for individual trees</p>
</td></tr>
<tr><td><code id="volume_form_factors_+3A_form_factors">form_factors</code></td>
<td>
<p>data frame with for factors for species, plot or both</p>
</td></tr>
<tr><td><code id="volume_form_factors_+3A_form_factors_level">form_factors_level</code></td>
<td>
<p>character, the level of specified form factors. It
can be 'species', 'plot' or 'species_plot'</p>
</td></tr>
<tr><td><code id="volume_form_factors_+3A_uniform_form_factor">uniform_form_factor</code></td>
<td>
<p>a uniform form factor to be applied to all trees.
If specified, it overwrites the argument 'form_factors'</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data frame with calculated volume for all trees
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(MLFS)
data(data_v3)
data(form_factors)

data_v3 &lt;- volume_form_factors(df = data_v3, form_factors = form_factors,
  form_factors_level = "species_plot")

summary(data_v3)

</code></pre>

<hr>
<h2 id='volume_form_factors_halfPeriod'>volume_form_factors_halfPeriod</h2><span id='topic+volume_form_factors_halfPeriod'></span>

<h3>Description</h3>

<p>The calculation of individual tree volume using form factors, which can be
defined per species, per plot, or per species and per plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>volume_form_factors_halfPeriod(
  df,
  form_factors = NULL,
  form_factors_level = "species",
  uniform_form_factor = 0.42
)
</code></pre>


<h3>Value</h3>

<p>a data frame with calculated volume for all trees in the middle of
a simulation step
</p>

<hr>
<h2 id='volume_functions'>volume_functions</h2><span id='topic+volume_functions'></span>

<h3>Description</h3>

<p>The calculation of individual tree volume using the n-parameter volume
functions for the MLFS
</p>


<h3>Usage</h3>

<pre><code class='language-R'>volume_functions(df, df_volumeF_parameters = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="volume_functions_+3A_df">df</code></td>
<td>
<p>data frame with tree heights and basal areas for individual trees</p>
</td></tr>
<tr><td><code id="volume_functions_+3A_df_volumef_parameters">df_volumeF_parameters</code></td>
<td>
<p>data frame with equations and parameters for
n-parametric volume functions</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data frame with calculated volume for all trees
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(MLFS)
data(data_v3)
data(df_volume_parameters)

data_v3 &lt;- volume_functions(df = data_v3,
  df_volumeF_parameters = df_volume_parameters)

</code></pre>

<hr>
<h2 id='volume_functions_halfPeriod'>volume_functions_halfPeriod</h2><span id='topic+volume_functions_halfPeriod'></span>

<h3>Description</h3>

<p>n-parameter volume functions for the MLFS (half period)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>volume_functions_halfPeriod(df, df_volumeF_parameters = NULL)
</code></pre>


<h3>Value</h3>

<p>a data frame with calculated volume for all trees in the middle of
a simulation step
</p>

<hr>
<h2 id='volume_merchantable'>volume_merchantable</h2><span id='topic+volume_merchantable'></span>

<h3>Description</h3>

<p>two-parameter volume functions for the MLFS
</p>


<h3>Usage</h3>

<pre><code class='language-R'>volume_merchantable(df)
</code></pre>

<hr>
<h2 id='volume_merchantable_halfPeriod'>volume_merchantable_halfPeriod</h2><span id='topic+volume_merchantable_halfPeriod'></span>

<h3>Description</h3>

<p>two-parameter volume functions for the MLFS
</p>


<h3>Usage</h3>

<pre><code class='language-R'>volume_merchantable_halfPeriod(df)
</code></pre>


<h3>Value</h3>

<p>a data frame with calculated volume for all trees in the middle of
a simulation step
</p>

<hr>
<h2 id='volume_tariffs'>volume_tariffs</h2><span id='topic+volume_tariffs'></span>

<h3>Description</h3>

<p>One-parameter volume functions (tariffs) for the MLFS.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>volume_tariffs(df, data_tariffs)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="volume_tariffs_+3A_df">df</code></td>
<td>
<p>data frame with tree heights and basal areas for individual trees</p>
</td></tr>
<tr><td><code id="volume_tariffs_+3A_data_tariffs">data_tariffs</code></td>
<td>
<p>data frame with plot- and species-specific parameters for
the calculations of tree volume</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data frame with calculated volume for all trees
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(data_v3)
data(data_tariffs)
data_v3 &lt;- volume_tariffs(df = data_v3, data_tariffs = data_tariffs)
</code></pre>

<hr>
<h2 id='volume_tariffs_halfPeriod'>volume_tariffs_halfPeriod</h2><span id='topic+volume_tariffs_halfPeriod'></span>

<h3>Description</h3>

<p>One-parameter volume functions (tariffs) for the MLFS (half period)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>volume_tariffs_halfPeriod(df, data_tariffs)
</code></pre>


<h3>Value</h3>

<p>a data frame with calculated volume for all trees in the middle of
a simulation step
</p>

<hr>
<h2 id='volume_whole_tree'>volume_whole_tree</h2><span id='topic+volume_whole_tree'></span>

<h3>Description</h3>

<p>two-parameter volume functions for the MLFS
</p>


<h3>Usage</h3>

<pre><code class='language-R'>volume_whole_tree(df)
</code></pre>


<h3>Value</h3>

<p>a data frame with calculated volume for all trees
</p>

<hr>
<h2 id='volume_whole_tree_halfPeriod'>volume_whole_tree_halfPeriod</h2><span id='topic+volume_whole_tree_halfPeriod'></span>

<h3>Description</h3>

<p>two-parameter volume functions for the MLFS
</p>


<h3>Usage</h3>

<pre><code class='language-R'>volume_whole_tree_halfPeriod(df)
</code></pre>


<h3>Value</h3>

<p>a data frame with calculated volume for all trees in the middle of
a simulation step
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

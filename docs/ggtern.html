<!DOCTYPE html><html><head><title>Help for package ggtern</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ggtern}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#ggtern_package'><p>Ternary Diagrams in R</p></a></li>
<li><a href='#.getFunctions'><p>OLD FUNCTIONS</p>
new_panel','train_layout','train_position','train_ranges','map_position','map_layout','reset_scales','facet_render',
xlabel','ylabel'
expand_default', ## REMOVED</a></li>
<li><a href='#aes'><p>Modified Aesthetic Mappings</p></a></li>
<li><a href='#annotate'><p>Create an annotation layer (ggtern version).</p></a></li>
<li><a href='#annotation_raster_tern'><p>Annotation: High-performance rectangular tiling (ggtern version)</p></a></li>
<li><a href='#approved_layers'><p>Approved Geoms, Stats and Positions</p></a></li>
<li><a href='#arrangeGrob'><p>Arrange multiple grobs on a page (ggtern version)</p></a></li>
<li><a href='#breaks_tern'><p>Generate Axis Breaks</p></a></li>
<li><a href='#coord_tern'><p>Ternary Coordinate System</p></a></li>
<li><a href='#data_Feldspar'><p>Elkin and Groves Feldspar Data</p></a></li>
<li><a href='#data_Fragments'><p>Grantham and Valbel Rock Fragment Data</p></a></li>
<li><a href='#data_SkyeLava'><p>Aichisons Skye Lavas</p></a></li>
<li><a href='#data_USDA'><p>USDA Textural Classification Data</p></a></li>
<li><a href='#data_WhiteCells'><p>Aichisons White Cells</p></a></li>
<li><a href='#draw_key_tern'><p>Key drawing functions</p></a></li>
<li><a href='#geom_confidence_tern'><p>Confidence Interval</p></a></li>
<li><a href='#geom_crosshair_tern'><p>Ternary Crosshairs</p></a></li>
<li><a href='#geom_density_tern'><p>Density Estimate (ggtern version)</p></a></li>
<li><a href='#geom_errorbarX'><p>Ternary Error Bars</p></a></li>
<li><a href='#geom_hex_tern'><p>Hexbin (ggtern version).</p></a></li>
<li><a href='#geom_interpolate_tern'><p>Ternary Interpolation</p></a></li>
<li><a href='#geom_label_viewport'><p>Draw Label at Relative Position on Viewport</p></a></li>
<li><a href='#geom_mask'><p>Apply Manual Clipping Mask</p></a></li>
<li><a href='#geom_mean_ellipse'><p>Mean Ellipse</p></a></li>
<li><a href='#geom_point_swap'><p>Points (Colour and Fill Swapped), as for a scatterplot</p></a></li>
<li><a href='#geom_polygon_closed'><p>Closed Polygons</p></a></li>
<li><a href='#geom_smooth_tern'><p>Add a Smoothed Conditional Mean.</p></a></li>
<li><a href='#geom_text_viewport'><p>Draw Text at Relative Position on Viewport</p></a></li>
<li><a href='#geom_tri_tern'><p>Tribin (ggtern version).</p></a></li>
<li><a href='#geom_Xisoprop'><p>Fixed Value Isoproportion Lines</p></a></li>
<li><a href='#geom_Xline'><p>Fixed Value Lines</p></a></li>
<li><a href='#ggplot'><p>Create a new ggplot plot.</p></a></li>
<li><a href='#ggplot_build'><p>Build ggplot for rendering (ggtern version).</p></a></li>
<li><a href='#ggplot_gtable'><p>Build a plot with all the usual bits and pieces.</p></a></li>
<li><a href='#ggsave'><p>Save a ggplot (or other grid object) with sensible defaults (ggtern version)</p></a></li>
<li><a href='#ggtern'><p>ggtern Constructor</p></a></li>
<li><a href='#ggtern_labels'><p>Change Axis labels and legend titles</p></a></li>
<li><a href='#ggtern_labels_arrow_suffix'><p>Atomic, Weight or Custom Percentage Suffix</p></a></li>
<li><a href='#ggtern_themes'><p>ggtern themes</p></a></li>
<li><a href='#kde2d.weighted'><p>Two-Dimentional Kernel Density Estimation (Weighted)</p></a></li>
<li><a href='#label_formatter'><p><code>label_formatter</code> is a function that formats / parses labels for use in the grid.</p></a></li>
<li><a href='#labels_tern'><p>Generate Axis Labels</p></a></li>
<li><a href='#mahalanobis_distance'><p>Mahalanobis Distance</p></a></li>
<li><a href='#position_jitter_tern'><p>Jitter Ternary Points</p></a></li>
<li><a href='#position_nudge_tern'><p>Nudge Ternary Points.</p></a></li>
<li><a href='#predictdf2d'><p>Prediction data frame</p></a></li>
<li><a href='#rgb2hex'><p>Convert RGB to HEX Color</p></a></li>
<li><a href='#scale_X_continuous'><p>Ternary Position Scales</p></a></li>
<li><a href='#strip_unapproved'><p>Strip Unapproved Layers</p></a></li>
<li><a href='#tern_limits'><p>Restrict Ternary Limits</p></a></li>
<li><a href='#ternary_transformation'><p>Ternary / Cartesian Transformation</p></a></li>
<li><a href='#theme'><p>Modify components of a theme</p></a></li>
<li><a href='#theme_arrowlength'><p>Change the Length of the Ternary Arrows</p></a></li>
<li><a href='#theme_bordersontop'><p>Render Borders on Top</p></a></li>
<li><a href='#theme_clockwise'><p>Direction of Ternary Rotation</p></a></li>
<li><a href='#theme_complete'><p>List of Available Themes</p></a></li>
<li><a href='#theme_convenience_functions'><p>Theme Convenience Functions</p></a></li>
<li><a href='#theme_elements'><p>New Theme Elements</p></a></li>
<li><a href='#theme_gridsontop'><p>Render Grids on Top</p></a></li>
<li><a href='#theme_latex'><p>Parse Labels w Latex Markup</p></a></li>
<li><a href='#theme_legend_position'><p>Position Legend in Convenient Locations</p></a></li>
<li><a href='#theme_mesh'><p>Create Grid Mesh</p></a></li>
<li><a href='#theme_noarrows'><p>Show or Hide the Ternary Arrows</p></a></li>
<li><a href='#theme_nomask'><p>Show or Hide the Clipping Mask</p></a></li>
<li><a href='#theme_novar_tern'><p>Blank one variable's annotations in ternary plot</p></a></li>
<li><a href='#theme_rotate'><p>Rotate Ternary Diagram</p></a></li>
<li><a href='#theme_showgrid'><p>Show or Hide Grid</p></a></li>
<li><a href='#theme_showlabels'><p>Show or Hide Axis Ticklabels</p></a></li>
<li><a href='#theme_showprimary'><p>Show or Hide the Primary/Secondary Ticks</p></a></li>
<li><a href='#theme_showtitles'><p>Show or Hide the Axis (Apex) Titles</p></a></li>
<li><a href='#theme_ticklength'><p>Modify the Ticklengths</p></a></li>
<li><a href='#theme_ticksoutside'><p>Place Ticks Inside or Outside</p></a></li>
<li><a href='#theme_zoom_X'><p>Zoom on Plot Region</p></a></li>
<li><a href='#transform_position_tern'><p>Convenience function to transform all position variables in a ternary plot</p></a></li>
<li><a href='#zzz-depreciated'><p>Depreciated Functions</p></a></li>
<li><a href='#zzz-internal'><p>Internal Functions</p></a></li>
<li><a href='#zzz-overloaded'><p>Overloaded ggplot2 functions</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Version:</td>
<td>3.5.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-3-24</td>
</tr>
<tr>
<td>Title:</td>
<td>An Extension to 'ggplot2', for the Creation of Ternary Diagrams</td>
</tr>
<tr>
<td>Description:</td>
<td>Extends the functionality of 'ggplot2', providing the capability
    to plot ternary diagrams for (subset of) the 'ggplot2' geometries. Additionally,
    'ggtern' has implemented several NEW geometries which are unavailable to the
    standard 'ggplot2' release. For further examples and documentation, please
    proceed to the 'ggtern' website.</td>
</tr>
<tr>
<td>Author:</td>
<td>Nicholas Hamilton [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Nicholas Hamilton &lt;nick@ggtern.com&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.0), ggplot2 (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>compositions (&ge; 2.0-2), grid, gridExtra (&ge; 2.3), gtable (&ge;
0.1.2), latex2exp (&ge; 0.5), MASS, plyr (&ge; 1.8.3), scales (&ge;
1.3.0), stats, proto (&ge; 1.0), utils, lattice, hexbin (&ge;
1.28.2), methods, rlang (&ge; 1.1.0)</td>
</tr>
<tr>
<td>Enhances:</td>
<td>sp</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="http://www.ggtern.com">http://www.ggtern.com</a></td>
</tr>
<tr>
<td>Collate:</td>
<td>'ggtern-package.R' 'aes.R' 'coord-tern.R' 'calc-tern-tlr2xy.R'
'calc-mahalanobis-distance.R' 'calc-kde2d-weighted.R'
'doc-data.R' 'doc-theme-convenience.R' 'depreciated.R'
'labels-new.R' 'labels-percent.R' 'legend-draw-tern.R'
'ggtern-constructor.R' 'gg-internal.R'
'modifications-gridExtra.R' 'onLoad.R' 'plot.R' 'plot-build.R'
'plot-construction.R' 'position-.R' 'position-nudge-tern.R'
'position-jitter-tern.R' 'save.R' 'scales-tern.R'
'strip-unapproved.R' 'tern-limits.R' 'theme.R'
'theme-arrowlength.R' 'theme-clockwise.R' 'theme-defaults.R'
'theme-elements.R' 'theme-gridsontop.R' 'theme-bordersontop.R'
'theme-legend-position.R' 'theme-latex.R' 'theme-mesh.R'
'theme-noarrows.R' 'theme-nomask.R' 'theme-novar-tern.R'
'theme-rotate.R' 'theme-showgrid.R' 'theme-showlabels.R'
'theme-ticks.R' 'theme-showtitles.R' 'theme-ticksoutside.R'
'theme-zoom.R' 'utilities.R' 'utilities-help.R'
'geom-density-tern.R' 'stat-density-tern.R' 'geom-mask.R'
'geom-Xline.R' 'geom-Xisoprop.R' 'geom-confidence-tern.R'
'stat-confidence-tern.R' 'geom-errorbarX.R'
'geom-smooth-tern.R' 'stat-smooth-tern.R' 'geom-mean-ellipse.R'
'stat-mean-ellipse.R' 'geom-interpolate-tern.R'
'stat-interpolate-tern.R' 'stat-interpolate-methods.R'
'geom-crosshair-tern.R' 'geom-point-swap.R' 'geom-hex-tern.R'
'stat-hex-tern.R' 'annotation-tern.R'
'annotation-raster-tern.R' 'geom-text-viewport.R'
'geom-label-viewport.R' 'geom-polygon-closed.R'
'geom-tri-tern.R' 'stat-tri-tern.R'</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-03-24 19:53:34 UTC; nick</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-03-24 21:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='ggtern_package'>Ternary Diagrams in R</h2><span id='topic+ggtern_package'></span><span id='topic+ggtern-package'></span>

<h3>Description</h3>

<p>Ternary diagrams are used frequently in a number of disciplines to graph compositional features for mixtures of three different elements or compounds. 
It is possible to represent a coordinate system having three (3) degrees of freedom, in 2D space, since the third dimention is linear and depends only 
on the other two. 
</p>
<p>The <code>ggtern</code> package is based on (extends) the very popular <code><a href="#topic+ggplot">ggplot2</a></code> package, which is an implementation of Wilkinsons 
&quot;The Grammar of Graphics&quot;, and, makes provision for a highly methodical construction process for the development 
of meaningful (graphical) data representations. Of course, the above book by Wilkinson outlines the <em>theory</em>, 
whilst Hadley Wickhams <code><a href="#topic+ggplot">ggplot2</a></code> implementation is where much of the magic happens, 
and, an ideal base-platform for the <code>ggtern</code> package.
</p>
<p>In this document, some of the main features are highlighted, however, current examples (and corresponding outputs) 
can be viewed at http://ggtern.com
</p>


<h3><code>ggtern</code> Constructor</h3>

<p>Plots in <code>ggtern</code> are instigated via the default constructor: <code>ggtern(...)</code>, 
for additional information, click <a href="#topic+ggtern">HERE</a>:
</p>


<h3><code>ggtern</code> Ternary Coordinate System</h3>

<p>The foundation of this package, is the ternary coordinate system, which can be produced with the <code>coord_tern(...)</code> command and added to an existing 
ggplot object. The <code>ggtern(...)</code> constructor adds the <code>coord_tern(...)</code> coordinate system by default. 
For further information on the <code>coord_tern(...)</code> coordinate system, click <a href="#topic+coord_tern">HERE</a>.
</p>


<h3><code>ggtern</code> Valid Geometries</h3>

<p>ggplot2, using the <code><a href="graphics.html#topic+grid">grid</a></code> and <code><a href="proto.html#topic+proto">proto</a></code> architectures, makes provision for a many number of geometries to be added 
progressively in <em>'layers'</em> to a given base plot. Due to the nature of the ternary coordinate system, some of the 
geometries which are available in ggplot2, are <strong>not relevant</strong> (or won't function) with ternary plots and as such, a limited number of 
'approved' geometries can be used. Click <a href="#topic+approved_layers">HERE</a> for the full list of approved geometries.
</p>
<p>Notably, <code>ggtern</code> includes novel geometries not available to <code>ggplot2</code> which include:
</p>

<ol>
<li> <p><code><a href="#topic+geom_confidence">Confidence Intervals via the Mahalnobis Distance</a></code>
</p>
</li>
<li> <p><code><a href="#topic+geom_errorbarT">Ternary Errorbars</a></code>
</p>
</li>
<li> <p><code><a href="#topic+geom_Tline">Ternary Constant-Lines</a></code>
</p>
</li></ol>



<h3><code>ggtern</code> Handling Non-Approved Geometries</h3>

<p>If a geometric layer is added that is <strong>NOT</strong> contained in the approved <a href="#topic+approved_layers">list</a>, <strong>IT WILL BE STRIPPED / IGNORED</strong> from the ternary diagram 
when rendering takes place (notifying the user to such effect). The reason for this is that subtle 'patches' have been applied, which are mainly to do with 
the transformation procedures when incorporating a 'third' dimention. <strong>NB:</strong> In the future, others may be made available once patched.
</p>


<h3><code>ggtern</code> New Theme Elements and Heirarchies</h3>

<p><code>ggtern</code> implements many new theme elements and heirarchies which can be tailored on a case-by-case basis. 
The full list of new elements can is provided <a href="#topic+theme_elements">HERE</a>.
</p>


<h3><code>ggtern</code> Theme Element Convenience Functions</h3>

<p><code>ggtern</code> has made available a number of convenience functions, for rapid tweaking of common theme elements, for a comprehensive list, 
see <a href="#topic+theme_convenience">HERE</a>.
</p>


<h3><code>ggtern</code> Modification to Required Aesthetics</h3>

<p>Each geometry has a pre-determined set of <strong>required</strong> aesthetics. These have been modifid such that where <code>x</code> and <code>y</code> were previously 
required, now an additional <code>z</code> aesthetic is required (<code>geom_segment</code> now requires <code>z</code> and <code>zend</code>). 
This is made possible without affecting the standard ggplot2 behaviour because <code>ggtern</code> distinuishes between <code><a href="#topic+ggplot">ggplot2</a></code> and 
<code>ggtern</code> objects, distinguished by the presence of the <code>coord_tern(...)</code> coordinate system.
</p>


<h3><code>ggtern</code> Provided Datasets</h3>

<p><code>ggtern</code> ships with a number of datasets, including:
</p>

<ol>
<li> <p><code><a href="#topic+data_Feldspar">Elkin and Groves Feldspar Data</a></code>
</p>
</li>
<li> <p><code><a href="#topic+data_USDA">USDA Textural Classification Data</a></code>
</p>
</li>
<li> <p><code><a href="#topic+data_Fragments">Grantham and Valbel Rock Fragment Data</a></code>
</p>
</li></ol>



<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>


<h3>References</h3>

<p>To cite this package, please use the following:
</p>
<p>Hamilton NE and Ferry M (2018). &quot;ggtern: Ternary Diagrams Using ggplot2.&quot; 
Journal of Statistical Software, Code Snippets, 87(3), pp. 1-17. 
doi: 10.18637/jss.v087.c03 (URL:http://doi.org/10.18637/jss.v087.c03)
</p>
<p>A bibtex entry can be obtained by executing the following command:
<code>citation('ggtern')</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##-----------------------------------------------
## Basic Usage
##-----------------------------------------------
df = data.frame(x = runif(50),
                y = runif(50),
                z = runif(50),
                Value = runif(50,1,10),
                Group = as.factor(round(runif(50,1,2))))
ggtern(data=df,aes(x,y,z,color=Group)) + 
  theme_rgbw() + 
  geom_point() + geom_path() + 
  labs(x="X",y="Y",z="Z",title="Title")

</code></pre>

<hr>
<h2 id='.getFunctions'>OLD FUNCTIONS  
new_panel','train_layout','train_position','train_ranges','map_position','map_layout','reset_scales','facet_render',
xlabel','ylabel'
expand_default', ## REMOVED</h2><span id='topic+.getFunctions'></span>

<h3>Description</h3>

<p>OLD FUNCTIONS  
new_panel','train_layout','train_position','train_ranges','map_position','map_layout','reset_scales','facet_render',
xlabel','ylabel'
expand_default', ## REMOVED
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.getFunctions()
</code></pre>

<hr>
<h2 id='aes'>Modified Aesthetic Mappings</h2><span id='topic+aes'></span>

<h3>Description</h3>

<p>Modified Aesthetic Mappings
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aes(x, y, z, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="aes_+3A_x">x</code></td>
<td>
<p>x value</p>
</td></tr>
<tr><td><code id="aes_+3A_y">y</code></td>
<td>
<p>y value</p>
</td></tr>
<tr><td><code id="aes_+3A_z">z</code></td>
<td>
<p>z value</p>
</td></tr>
<tr><td><code id="aes_+3A_...">...</code></td>
<td>
<p>other arguments as per <code><a href="ggplot2.html#topic+aes">aes</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>An extension to the base aes functin from ggplot2, this is modified to handle a default z mapping 
for application in ternary phase diagrams. Does not alter the standard behaviour.
</p>


<h3>See Also</h3>

<p>Parent <code><a href="ggplot2.html#topic+aes">aes</a></code> function.
</p>

<hr>
<h2 id='annotate'>Create an annotation layer (ggtern version).</h2><span id='topic+annotate'></span>

<h3>Description</h3>

<p>This function adds geoms to a plot. Unlike typical a geom function,
the properties of the geoms are not mapped from variables of a data frame,
but are instead passed in as vectors. This is useful for adding small annotations
(such as text labels) or if you have your data in vectors, and for some
reason don't want to put them in a data frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>annotate(
  geom,
  x = NULL,
  y = NULL,
  z = NULL,
  xmin = NULL,
  xmax = NULL,
  ymin = NULL,
  ymax = NULL,
  zmin = NULL,
  zmax = NULL,
  xend = NULL,
  yend = NULL,
  zend = NULL,
  ...,
  na.rm = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="annotate_+3A_geom">geom</code></td>
<td>
<p>name of geom to use for annotation</p>
</td></tr>
<tr><td><code id="annotate_+3A_x">x</code>, <code id="annotate_+3A_y">y</code>, <code id="annotate_+3A_z">z</code>, <code id="annotate_+3A_xmin">xmin</code>, <code id="annotate_+3A_ymin">ymin</code>, <code id="annotate_+3A_zmin">zmin</code>, <code id="annotate_+3A_xmax">xmax</code>, <code id="annotate_+3A_ymax">ymax</code>, <code id="annotate_+3A_zmax">zmax</code>, <code id="annotate_+3A_xend">xend</code>, <code id="annotate_+3A_yend">yend</code>, <code id="annotate_+3A_zend">zend</code></td>
<td>
<p>positioning aesthetics -
you must specify at least one of these.</p>
</td></tr>
<tr><td><code id="annotate_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer()</a></code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>colour = "red"</code> or <code>size = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
<tr><td><code id="annotate_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note that all position aesthetics are scaled (i.e. they will expand the
limits of the plot so they are visible), but all other aesthetics are
set. This means that layers created with this function will never
affect the legend.
</p>


<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+annotate">annotate</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ggtern() + 
annotate(geom  = 'text',
              x     = c(0.5,1/3,0.0),
              y     = c(0.5,1/3,0.0),
              z     = c(0.0,1/3,1.0),
              angle = c(0,30,60),
              vjust = c(1.5,0.5,-0.5),
              label = paste("Point",c("A","B","C")),
              color = c("green","red",'blue')) +
  theme_dark() + 
  theme_nomask()
</code></pre>

<hr>
<h2 id='annotation_raster_tern'>Annotation: High-performance rectangular tiling (ggtern version)</h2><span id='topic+annotation_raster_tern'></span><span id='topic+GeomRasterAnnTern'></span>

<h3>Description</h3>

<p>This is a special version of <code><a href="ggplot2.html#topic+geom_raster">geom_raster</a></code> optimised for static
annotations that are the same in every panel. These annotations will not
affect scales (i.e. the x and y axes will not grow to cover the range
of the raster, and the raster must already have its own colours).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>annotation_raster_tern(
  raster,
  xmin = 0,
  xmax = 1,
  ymin = 0,
  ymax = 1,
  interpolate = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="annotation_raster_tern_+3A_raster">raster</code></td>
<td>
<p>raster object to display</p>
</td></tr>
<tr><td><code id="annotation_raster_tern_+3A_xmin">xmin</code>, <code id="annotation_raster_tern_+3A_xmax">xmax</code></td>
<td>
<p>x location (in npc coordinates) giving horizontal
location of raster</p>
</td></tr>
<tr><td><code id="annotation_raster_tern_+3A_ymin">ymin</code>, <code id="annotation_raster_tern_+3A_ymax">ymax</code></td>
<td>
<p>y location (in npc coordinates) giving vertical
location of raster</p>
</td></tr>
<tr><td><code id="annotation_raster_tern_+3A_interpolate">interpolate</code></td>
<td>
<p>If <code>TRUE</code> interpolate linearly, if <code>FALSE</code>
(the default) don't interpolate.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Most useful for adding bitmap images.
</p>


<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(Feldspar)
data(FeldsparRaster)
ggtern(Feldspar,aes(Ab,An,Or)) + 
theme_rgbw() + 
annotation_raster_tern(FeldsparRaster,xmin=0,xmax=1,ymin=0,ymax=1) +
geom_mask() + 
geom_point(size=5,aes(shape=Feldspar,fill=Feldspar),color='black') +
scale_shape_manual(values=c(21,24)) +
labs(title="Demonstration of Raster Annotation")
</code></pre>

<hr>
<h2 id='approved_layers'>Approved Geoms, Stats and Positions</h2><span id='topic+approved_layers'></span><span id='topic+approved_stat'></span><span id='topic+approved_geom'></span><span id='topic+approved_position'></span>

<h3>Description</h3>

<p><code>ggtern</code> is a specialist extension to <code><a href="#topic+ggplot">ggplot2</a></code> for rendering ternary diagrams, as such, many stats and 
geoms which come packaged with <code><a href="#topic+ggplot">ggplot2</a></code> are either not relevant or will not work, as such, 
<code>ggtern</code> regulates during the plot construction process, which geoms and stats are able to be applied 
when using the <code><a href="#topic+coord_tern">coord_tern</a></code> coordinate system. Attempting to apply non-approved geometries or stats 
(ie geometries / stats not in the below list), will result in the respective layers being stripped from the final plot.
</p>


<h3>Approved Geometries</h3>

<p>The following geoms have been approved so far, including a combination of existing geoms and newly created geoms for the ggtern package
APPROVED geoms in <code>ggtern</code>are as follows:
</p>
<ul>
<li><p><code><a href="ggplot2.html#topic+geom_point">geom_point</a></code></p>
</li>
<li><p><code><a href="ggplot2.html#topic+geom_path">geom_path</a></code></p>
</li>
<li><p><code><a href="ggplot2.html#topic+geom_line">geom_line</a></code></p>
</li>
<li><p><code><a href="ggplot2.html#topic+geom_label">geom_label</a></code></p>
</li>
<li><p><code><a href="ggplot2.html#topic+geom_text">geom_text</a></code></p>
</li>
<li><p><code><a href="ggplot2.html#topic+geom_jitter">geom_jitter</a></code></p>
</li>
<li><p><code><a href="#topic+geom_Tline">geom_Tline</a></code></p>
</li>
<li><p><code><a href="#topic+geom_Rline">geom_Rline</a></code></p>
</li>
<li><p><code><a href="#topic+geom_Lline">geom_Lline</a></code></p>
</li>
<li><p><code><a href="ggplot2.html#topic+geom_polygon">geom_polygon</a></code></p>
</li>
<li><p><code><a href="ggplot2.html#topic+geom_segment">geom_segment</a></code></p>
</li>
<li><p><code><a href="ggplot2.html#topic+geom_count">geom_count</a></code></p>
</li>
<li><p><code><a href="#topic+geom_errorbarT">geom_errorbarT</a></code></p>
</li>
<li><p><code><a href="#topic+geom_errorbarL">geom_errorbarL</a></code></p>
</li>
<li><p><code><a href="#topic+geom_errorbarR">geom_errorbarR</a></code></p>
</li>
<li><p><code><a href="#topic+geom_density_tern">geom_density_tern</a></code></p>
</li>
<li><p><code><a href="#topic+geom_confidence">geom_confidence</a></code></p>
</li>
<li><p><code><a href="ggplot2.html#topic+geom_curve">geom_curve</a></code></p>
</li>
<li><p><code><a href="#topic+geom_mask">geom_mask</a></code></p>
</li>
<li><p><code><a href="#topic+geom_smooth_tern">geom_smooth_tern</a></code></p>
</li>
<li><p><code><a href="ggplot2.html#topic+geom_blank">geom_blank</a></code></p>
</li>
<li><p><code><a href="ggplot2.html#topic+geom_jitter">geom_jitter</a></code></p>
</li>
<li><p><code><a href="#topic+geom_Tisoprop">geom_Tisoprop</a></code></p>
</li>
<li><p><code><a href="#topic+geom_Lisoprop">geom_Lisoprop</a></code></p>
</li>
<li><p><code><a href="#topic+geom_Risoprop">geom_Risoprop</a></code></p>
</li>
<li><p><code><a href="#topic+geom_interpolate_tern">geom_interpolate_tern</a></code></p>
</li>
<li><p><code><a href="#topic+geom_crosshair_tern">geom_crosshair_tern</a></code></p>
</li>
<li><p><code><a href="#topic+geom_Tmark">geom_Tmark</a></code></p>
</li>
<li><p><code><a href="#topic+geom_Lmark">geom_Lmark</a></code></p>
</li>
<li><p><code><a href="#topic+geom_Rmark">geom_Rmark</a></code></p>
</li>
<li><p><code><a href="#topic+geom_point_swap">geom_point_swap</a></code></p>
</li>
<li><p><code><a href="ggplot2.html#topic+geom_rect">geom_rect</a></code></p>
</li>
<li><p><code><a href="#topic+geom_polygon_closed">geom_polygon_closed</a></code></p>
</li>
<li><p><code><a href="#topic+geom_hex_tern">geom_hex_tern</a></code></p>
</li>
<li><p><code><a href="#topic+geom_tri_tern">geom_tri_tern</a></code></p>
</li>
<li><p><code><a href="#topic+geom_mean_ellipse">geom_mean_ellipse</a></code></p>
</li>
<li><p><code><a href="#topic+geom_text_viewport">geom_text_viewport</a></code></p>
</li>
<li><p><code><a href="#topic+geom_label_viewport">geom_label_viewport</a></code></p>
</li></ul>



<h3>Approved Stats</h3>

<p>The following stats have been approved so far, including a combination of existing stats and newly created stats for the ggtern package
APPROVED stats in <code>ggtern</code>are as follows:
</p>
<ul>
<li><p><code><a href="ggplot2.html#topic+stat_identity">stat_identity</a></code></p>
</li>
<li><p><code><a href="#topic+stat_confidence">stat_confidence</a></code></p>
</li>
<li><p><code><a href="#topic+stat_density_tern">stat_density_tern</a></code></p>
</li>
<li><p><code><a href="#topic+stat_smooth_tern">stat_smooth_tern</a></code></p>
</li>
<li><p><code><a href="ggplot2.html#topic+stat_sum">stat_sum</a></code></p>
</li>
<li><p><code><a href="ggplot2.html#topic+stat_unique">stat_unique</a></code></p>
</li>
<li><p><code><a href="#topic+stat_interpolate_tern">stat_interpolate_tern</a></code></p>
</li>
<li><p><code><a href="#topic+stat_mean_ellipse">stat_mean_ellipse</a></code></p>
</li>
<li><p><code><a href="#topic+stat_hex_tern">stat_hex_tern</a></code></p>
</li>
<li><p><code><a href="#topic+stat_tri_tern">stat_tri_tern</a></code></p>
</li></ul>



<h3>Approved Positions</h3>

<p>The following positions have been approved so far, including a combination of existing positions and newly created positions for the ggtern package
APPROVED positions in <code>ggtern</code>are as follows:
</p>
<ul>
<li><p><code><a href="ggplot2.html#topic+position_identity">position_identity</a></code></p>
</li>
<li><p><code><a href="#topic+position_nudge_tern">position_nudge_tern</a></code></p>
</li>
<li><p><code><a href="#topic+position_jitter_tern">position_jitter_tern</a></code></p>
</li></ul>

<p>The balance of the available stats, geometries or positions within ggplot2 are either invalid or remain work in 
progress with regards to the <code>ggtern</code> package.
</p>


<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>

<hr>
<h2 id='arrangeGrob'>Arrange multiple grobs on a page (ggtern version)</h2><span id='topic+arrangeGrob'></span><span id='topic+grid.arrange'></span>

<h3>Description</h3>

<p>A very slight modification to the original function, removing the explicit direction to use the ggplotGrob function
from the ggplot2 namespace
</p>


<h3>Usage</h3>

<pre><code class='language-R'>arrangeGrob(
  ...,
  grobs = list(...),
  layout_matrix,
  vp = NULL,
  name = "arrange",
  as.table = TRUE,
  respect = FALSE,
  clip = "off",
  nrow = NULL,
  ncol = NULL,
  widths = NULL,
  heights = NULL,
  top = NULL,
  bottom = NULL,
  left = NULL,
  right = NULL,
  padding = unit(0.5, "line")
)

grid.arrange(..., newpage = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="arrangeGrob_+3A_...">...</code></td>
<td>
<p>grobs, gtables, ggplot or trellis objects</p>
</td></tr>
<tr><td><code id="arrangeGrob_+3A_grobs">grobs</code></td>
<td>
<p>list of grobs</p>
</td></tr>
<tr><td><code id="arrangeGrob_+3A_layout_matrix">layout_matrix</code></td>
<td>
<p>optional layout</p>
</td></tr>
<tr><td><code id="arrangeGrob_+3A_vp">vp</code></td>
<td>
<p>viewport</p>
</td></tr>
<tr><td><code id="arrangeGrob_+3A_name">name</code></td>
<td>
<p>argument of gtable</p>
</td></tr>
<tr><td><code id="arrangeGrob_+3A_as.table">as.table</code></td>
<td>
<p>logical: bottom-left to top-right (TRUE) or top-left to bottom-right (FALSE)</p>
</td></tr>
<tr><td><code id="arrangeGrob_+3A_respect">respect</code></td>
<td>
<p>argument of gtable</p>
</td></tr>
<tr><td><code id="arrangeGrob_+3A_clip">clip</code></td>
<td>
<p>argument of gtable</p>
</td></tr>
<tr><td><code id="arrangeGrob_+3A_nrow">nrow</code></td>
<td>
<p>argument of gtable</p>
</td></tr>
<tr><td><code id="arrangeGrob_+3A_ncol">ncol</code></td>
<td>
<p>argument of gtable</p>
</td></tr>
<tr><td><code id="arrangeGrob_+3A_widths">widths</code></td>
<td>
<p>argument of gtable</p>
</td></tr>
<tr><td><code id="arrangeGrob_+3A_heights">heights</code></td>
<td>
<p>argument of gtable</p>
</td></tr>
<tr><td><code id="arrangeGrob_+3A_top">top</code></td>
<td>
<p>optional string, or grob</p>
</td></tr>
<tr><td><code id="arrangeGrob_+3A_bottom">bottom</code></td>
<td>
<p>optional string, or grob</p>
</td></tr>
<tr><td><code id="arrangeGrob_+3A_left">left</code></td>
<td>
<p>optional string, or grob</p>
</td></tr>
<tr><td><code id="arrangeGrob_+3A_right">right</code></td>
<td>
<p>optional string, or grob</p>
</td></tr>
<tr><td><code id="arrangeGrob_+3A_padding">padding</code></td>
<td>
<p>unit of length one, margin around annotations</p>
</td></tr>
<tr><td><code id="arrangeGrob_+3A_newpage">newpage</code></td>
<td>
<p>open a new page</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>

<hr>
<h2 id='breaks_tern'>Generate Axis Breaks</h2><span id='topic+breaks_tern'></span><span id='topic+getBreaks'></span>

<h3>Description</h3>

<p>Calculates the Breaks for Major or Minor Gridlines based on the input limits.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>breaks_tern(limits = c(0, 1), isMajor = TRUE, n = 5)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="breaks_tern_+3A_limits">limits</code></td>
<td>
<p>the scale limits</p>
</td></tr>
<tr><td><code id="breaks_tern_+3A_ismajor">isMajor</code></td>
<td>
<p>major or minor grids</p>
</td></tr>
<tr><td><code id="breaks_tern_+3A_n">n</code></td>
<td>
<p>number of breaks</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'> breaks_tern()
 breaks_tern(limits = c(0,.5),FALSE,10)
</code></pre>

<hr>
<h2 id='coord_tern'>Ternary Coordinate System</h2><span id='topic+coord_tern'></span><span id='topic+CoordTern'></span>

<h3>Description</h3>

<p><code>coord_tern</code> is a function which creates a transformation mechanism between the ternary system, and, the cartesian system.
It inherits from the fixed coordinate system, employing fixed ratio between x and y axes once transformed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>coord_tern(Tlim = NULL, Llim = NULL, Rlim = NULL, expand = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="coord_tern_+3A_tlim">Tlim</code></td>
<td>
<p>the range of T in the ternary space</p>
</td></tr>
<tr><td><code id="coord_tern_+3A_llim">Llim</code></td>
<td>
<p>the range of L in the ternary space</p>
</td></tr>
<tr><td><code id="coord_tern_+3A_rlim">Rlim</code></td>
<td>
<p>the range of R in the ternary space</p>
</td></tr>
<tr><td><code id="coord_tern_+3A_expand">expand</code></td>
<td>
<p>If <code>TRUE</code>, the default, adds a small expansion factor to
the limits to ensure that data and axes don't overlap. If <code>FALSE</code>,
limits are taken exactly from the data or <code>xlim</code>/<code>ylim</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>coord_tern</code> returns a CoordTern ggproto
</p>


<h3>Aesthetics (Required in Each Layer)</h3>

<p><code>coord_tern</code>understands the following aesthetics (required aesthetics are in bold):
</p>
<ul>
<li><p><strong>x</strong></p>
</li>
<li><p><strong>y</strong></p>
</li>
<li><p><strong>z</strong></p>
</li></ul>

<p>Abovementioned limitations include the types of geometries which can be used (ie approved geometries), 
or modifications to required aesthetic mappings. One such essential patch is, for approved geometries previously 
requiring <code>x</code> and <code>y</code> coordinates, now require an additional <code>z</code> coordinate, and, 
<code><a href="ggplot2.html#topic+geom_segment">geom_segment</a></code> goes one step further in that it requires both an additional 
<code>z</code> and <code>zend</code> coordinate mappings. 
</p>
<p>In essence, the required aesthetics are the product between what
is required of each 'layer' and what is required of the 'coordinate system'.
</p>


<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>

<hr>
<h2 id='data_Feldspar'>Elkin and Groves Feldspar Data</h2><span id='topic+data_Feldspar'></span><span id='topic+Feldspar'></span><span id='topic+FeldsparRaster'></span>

<h3>Description</h3>

<p>Data relating to Elkins and Groves Feldspar Data, the following datasets include 
the experimental data and sample raster data from one of the images in the 
referenced paper.
<code>Feldspar</code> - Experimental Data
<code>FeldsparRaster</code> - Raster Data for Fig. 6.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>#Experimental Data
data(Feldspar)

#Raster data
data(FeldsparRaster)
</code></pre>


<h3>Format</h3>

<p><code>Feldsdpar</code> - One (1) row per Feldspar composition, <code>FeldsdparRaster</code> - Raster Matrix
</p>


<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>


<h3>References</h3>

<p>Elkins, L. T. &amp; Grove, T. L. 
Ternary Feldspar Experiments and Thermodynamic Models 
American Mineralogist, Mineral Soc America, 1990, 75, 544-559
</p>


<h3>See Also</h3>

<p><a href="utils.html#topic+data">Data</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Summarize the Feldspar Data
data(Feldspar)
summary(Feldspar)

#Plot Felspar Data
ggtern(data=Feldspar,aes(x=An,y=Ab,z=Or)) + 
    geom_point()

# Plot Feldspar data and Underlying Raster Image
data(FeldsparRaster)
ggtern(Feldspar,aes(Ab,An,Or)) + 
    theme_rgbw() + 
    annotation_raster_tern(FeldsparRaster,xmin=0,xmax=1,ymin=0,ymax=1) +
    geom_point(size=5,aes(shape=Feldspar,fill=Feldspar),color='black') +
    scale_shape_manual(values=c(21,24)) +
    labs(title = "Demonstration of Raster Annotation")
    
</code></pre>

<hr>
<h2 id='data_Fragments'>Grantham and Valbel Rock Fragment Data</h2><span id='topic+data_Fragments'></span><span id='topic+Fragments'></span>

<h3>Description</h3>

<p><strong>ABSTRACT:</strong> Chemical weathering influences the detrital composition of sand-size sediment derived from source 
areas subject to different amounts of precipitation in the Coweeta Basin, North Carolina. Of the grain types 
studied, rock fragments are most sensitive to chemical degradation; therefore, their abundance is the best 
indicator of cumulative weathering effects. Destruction of sand-size rock fragments by chemical weathering 
is a function of both the intensity and duration of chemical weathering experienced by grains in regoliths 
of the source area. In the Coweeta Basin, the intensity of chemical weathering is directly related to the 
climate via effective precipitation in individual subbasins, whereas the duration of chemical weathering is 
inversely related to the relief ratio of the watershe . Therefore, soils in watersheds with low-relief 
ratios and high discharge per unit area experience the most extensive chemical weathering, and sediments 
derived from these watersheds contain the lowest percentage of rock fragments. The effects of climate alone 
cannot explain the systematic variation of rock fragment abundance in sediments from the Coweeta Basin. 
The compositional imprint left on these sediments by chemical weathering is a function of both climate and 
topographic slope in the sediment source area.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(Fragments)
</code></pre>


<h3>Format</h3>

<p>1row per point, Each point contains data on the following:
</p>
 
<ol>
<li> <p><strong>Watershed</strong>: By id: 2, 10, 34, 41, 13, 27, 32 or 37, 
</p>
</li>
<li> <p><strong>Position</strong>: By name: Tallulah or Coweeta, 
</p>
</li>
<li> <p><strong>CCWI</strong>: The Cumulative Chemical Weathering Index: numeric
</p>
</li>
<li> <p><strong>Precipitation</strong>: Average Annual Precipitation, numeric 
</p>
</li>
<li> <p><strong>Discharge</strong>: Annual Average Discharge, numeric 
</p>
</li>
<li> <p><strong>Relief</strong>: Relief Ratio, numeric
</p>
</li>
<li> <p><strong>GrainSize</strong>: Coarse Medium or Fine, 
</p>
</li>
<li> <p><strong>Sample</strong>: Field Sampling, A, B or C 
</p>
</li>
<li> <p><strong>Points</strong>: The number of points measured for each sample
</p>
</li>
<li> <p><strong>Qm</strong>: Multicrystalline Quarts Amount, percentage
</p>
</li>
<li> <p><strong>Qp</strong>: Polycrystalline Quarts Amount, percentage
</p>
</li>
<li> <p><strong>Rf</strong>: Rock Fragments Amount, percentage
</p>
</li>
<li> <p><strong>M</strong>: Mica Amount, percentage
</p>
</li></ol>



<h3>Author(s)</h3>

<p>Jeremy Hummon Grantham and Michael Anthony Velbel
</p>


<h3>References</h3>

<p>Grantham, Jeremy Hummon, and Michael Anthony Velbel. 
&quot;The influence of climate and topography on rock-fragment abundance in modern fluvial sands of the southern 
Blue Ridge Mountains, North Carolina.&quot; Journal of Sedimentary Research 58.2 (1988).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(Fragments)
ggtern(Fragments,aes(Qm+Qp,Rf,M,colour=Sample)) +
  geom_density_tern(h=2,aes(fill=..level..),
  expand=0.75,alpha=0.5,bins=5) + 
  geom_point(aes(shape=Position,size=Relief)) + 
  theme_bw(base_size=8) + 
  theme_showarrows() + 
  custom_percent('%') + 
  labs(title = "Grantham and Valbel Rock Fragment Data",
       x = "Q_{m+p}", xarrow = "Quartz (Multi + Poly)",
       y = "R_f",     yarrow = "Rock Fragments",
       z = "M",       zarrow = "Mica") + 
  theme_latex() + 
  facet_wrap(~Sample,nrow=2)
</code></pre>

<hr>
<h2 id='data_SkyeLava'>Aichisons Skye Lavas</h2><span id='topic+data_SkyeLava'></span><span id='topic+SkyeLava'></span>

<h3>Description</h3>

<p>AFM compositions of 23 aphyric Skye lavas.
</p>


<h3>Format</h3>

<p>1 row per point, 23 points in total, Each point contains data on the following:
</p>
 
<ol>
<li> <p><strong>No</strong>: ID, S1 to S23
</p>
</li>
<li> <p><strong>A</strong>: Percent Na2O+K2O , 
</p>
</li>
<li> <p><strong>F</strong>: Percent Fe2O3
</p>
</li>
<li> <p><strong>F</strong>: Percent MgO
</p>
</li></ol>



<h3>Author(s)</h3>

<p>J. Aitchison
</p>


<h3>References</h3>

<p>Aitchison, J. 
The statistical analysis of compositional data 
Chapman and Hall London, 1986, pp360
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Emulate &amp; Enhance plot produced in Fig. 3, pg 7 of:
# Martin-Fernandez, J.; Chacon-Duran, J. &amp; Mateu-Figueras, G.
# Updating on the kernel density estimation for compositional data 
# Proceedings of 17th Conference IASC-ERSS, Compstat, Roma,(Italy), 2006, 713-720

data(SkyeLava)
breaks  = c(.01,.05,.10,.25,.5,.75,.9,.95,.99)
ggtern(SkyeLava,aes(F,A,M)) + 
theme_bw() + 
theme_showarrows() + 
theme_latex() + 
theme(tern.panel.grid.minor = element_blank(),
      tern.panel.grid.major = element_line(linetype='dotted',color='darkgray'),
      tern.axis.text        = element_text(size=8)) + 
      geom_density_tern() + 
      geom_point() +
      limit_tern(breaks = breaks,
                 labels = sprintf("%.2f",breaks)) +
labs(title    = "Aphyric Skye Lavas",
     subtitle = "AFM Compositions of 23 samples",
     Tarrow = "A = Na_2O + K_2O",
     Larrow = "F = Fe_20_3",
     Rarrow = "M = MgO")
</code></pre>

<hr>
<h2 id='data_USDA'>USDA Textural Classification Data</h2><span id='topic+data_USDA'></span><span id='topic+USDA'></span>

<h3>Description</h3>

<p>This dataset was issued by the United States Department of Agriculture (USDA) 
in the form of a ternary diagram, this original ternary diagram has been converted to numerical data 
and included here.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(USDA)
</code></pre>


<h3>Format</h3>

<p>1row per point, many points per classification representing the extremes of the area.
</p>


<h3>Author(s)</h3>

<p>United States Department of Agriculture (USDA)
</p>
<p>Nicholas Hamilton
</p>


<h3>Source</h3>

<p>Soil Mechanics Level 1, Module 3, USDA Textural Classification Study Guide
</p>


<h3>See Also</h3>

<p><a href="utils.html#topic+data">ggtern datasets</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Load the Libraries
library(ggtern)
library(plyr)

#Load the Data.
data(USDA)

#Put tile labels at the midpoint of each tile.
USDA.LAB &lt;- ddply(USDA,"Label",function(df){
  apply(df[,1:3],2,mean)
})

#Tweak
USDA.LAB$Angle = sapply(as.character(USDA.LAB$Label),function(x){
    switch(x,"Loamy Sand"=-35,0)
})

#Construct the plot.
ggtern(data=USDA,aes(Sand,Clay,Silt,color=Label,fill=Label)) +
  geom_polygon(alpha=0.75,size=0.5,color="black") +
  geom_mask() +  
  geom_text(data=USDA.LAB,aes(label=Label,angle=Angle),color="black",size=3.5) +
  theme_rgbw() + 
  theme_showsecondary() +
  theme_showarrows() +
  weight_percent() + 
  guides(fill='none') + 
  theme_legend_position("topleft") + 
  labs(title = "USDA Textural Classification Chart",
       fill  = "Textural Class",
       color = "Textural Class")
</code></pre>

<hr>
<h2 id='data_WhiteCells'>Aichisons White Cells</h2><span id='topic+data_WhiteCells'></span><span id='topic+WhiteCells'></span>

<h3>Description</h3>

<p>White-cell compositions of 30 blood cells by two different methods
</p>


<h3>Format</h3>

<p>1 row per point, 60 points in total, 2 experiments x 30 points each, Each point contains data on the following:
</p>
 
<ol>
<li> <p><strong>No</strong>: ID, S1 to S30
</p>
</li>
<li> <p><strong>Experiment</strong>: MicroscopicInspection or ImageAnalysis
</p>
</li>
<li> <p><strong>G</strong>: Fraction Granulocytes
</p>
</li>
<li> <p><strong>L</strong>: Fraction Lymphocytes
</p>
</li>
<li> <p><strong>M</strong>: Fraction Monocytes
</p>
</li></ol>



<h3>Author(s)</h3>

<p>J. Aitchison
</p>


<h3>References</h3>

<p>Aitchison, J. 
The statistical analysis of compositional data 
Chapman and Hall London, 1986, pp366
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(WhiteCells)
   ggtern(WhiteCells,aes(G,L,M)) + 
   geom_density_tern(aes(color=Experiment)) +
   geom_point(aes(shape=Experiment)) +
   facet_wrap(~Experiment,nrow=2)
</code></pre>

<hr>
<h2 id='draw_key_tern'>Key drawing functions</h2><span id='topic+draw_key_tern'></span><span id='topic+draw_key_crosshair_tern'></span><span id='topic+draw_key_Tmark'></span><span id='topic+draw_key_Lmark'></span><span id='topic+draw_key_Rmark'></span><span id='topic+draw_key_Tline'></span><span id='topic+draw_key_Lline'></span><span id='topic+draw_key_Rline'></span><span id='topic+draw_key_Tiso'></span><span id='topic+draw_key_Liso'></span><span id='topic+draw_key_Riso'></span><span id='topic+draw_key_point_swap'></span>

<h3>Description</h3>

<p>Each Geom has an associated function that draws the key when the geom needs
to be displayed in a legend. These are the options built into ggplot2.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>draw_key_crosshair_tern(data, params, size)

draw_key_Tmark(data, params, size)

draw_key_Lmark(data, params, size)

draw_key_Rmark(data, params, size)

draw_key_Tline(data, params, size)

draw_key_Lline(data, params, size)

draw_key_Rline(data, params, size)

draw_key_Tiso(data, params, size)

draw_key_Liso(data, params, size)

draw_key_Riso(data, params, size)

draw_key_point_swap(data, params, size)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="draw_key_tern_+3A_data">data</code></td>
<td>
<p>A single row data frame containing the scaled aesthetics to
display in this key</p>
</td></tr>
<tr><td><code id="draw_key_tern_+3A_params">params</code></td>
<td>
<p>A list of additional parameters supplied to the geom.</p>
</td></tr>
<tr><td><code id="draw_key_tern_+3A_size">size</code></td>
<td>
<p>Width and height of key in mm.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A grid grob.
</p>


<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>

<hr>
<h2 id='geom_confidence_tern'>Confidence Interval</h2><span id='topic+geom_confidence_tern'></span><span id='topic+geom_confidence'></span><span id='topic+GeomConfidenceTern'></span><span id='topic+stat_confidence_tern'></span><span id='topic+stat_confidence'></span><span id='topic+StatConfidenceTern'></span><span id='topic+GeomMeanEllipse'></span>

<h3>Description</h3>

<p>Calculates the confidence intervals, via the Mahalnobis Distance and use of the <code><a href="compositions.html#topic+ilr">Log-Ratio</a></code> Transformation
</p>
<p>Statistic
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_confidence_tern(
  mapping = NULL,
  data = NULL,
  stat = "ConfidenceTern",
  position = "identity",
  ...,
  lineend = "butt",
  linejoin = "round",
  linemitre = 1,
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE
)

stat_confidence_tern(
  mapping = NULL,
  data = NULL,
  geom = "ConfidenceTern",
  position = "identity",
  ...,
  contour = TRUE,
  n = 100,
  h = NULL,
  na.rm = FALSE,
  breaks = c(0.5, 0.9, 0.95),
  show.legend = NA,
  inherit.aes = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geom_confidence_tern_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="geom_confidence_tern_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_confidence_tern_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="geom_confidence_tern_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer()</a></code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>colour = "red"</code> or <code>size = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
<tr><td><code id="geom_confidence_tern_+3A_lineend">lineend</code></td>
<td>
<p>Line end style (round, butt, square).</p>
</td></tr>
<tr><td><code id="geom_confidence_tern_+3A_linejoin">linejoin</code></td>
<td>
<p>Line join style (round, mitre, bevel).</p>
</td></tr>
<tr><td><code id="geom_confidence_tern_+3A_linemitre">linemitre</code></td>
<td>
<p>Line mitre limit (number greater than 1).</p>
</td></tr>
<tr><td><code id="geom_confidence_tern_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_confidence_tern_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="geom_confidence_tern_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_confidence_tern_+3A_geom">geom</code>, <code id="geom_confidence_tern_+3A_stat">stat</code></td>
<td>
<p>Use to override the default connection between
<code>geom_smooth()</code> and <code>stat_smooth()</code>.</p>
</td></tr>
<tr><td><code id="geom_confidence_tern_+3A_contour">contour</code></td>
<td>
<p>If <code>TRUE</code>, contour the results of the 2d density estimation</p>
</td></tr>
<tr><td><code id="geom_confidence_tern_+3A_n">n</code></td>
<td>
<p>number of grid points in each direction</p>
</td></tr>
<tr><td><code id="geom_confidence_tern_+3A_h">h</code></td>
<td>
<p>Bandwidth (vector of length two). If <code>NULL</code>, estimated using <code><a href="MASS.html#topic+bandwidth.nrd">bandwidth.nrd</a></code>.</p>
</td></tr>
<tr><td><code id="geom_confidence_tern_+3A_breaks">breaks</code></td>
<td>
<p>the confidence intervals, default to 50, 90 and 95 percent.</p>
</td></tr>
</table>


<h3>Aesthetics</h3>

<p><code>geom_ConfidenceTern</code>understands the following aesthetics (required aesthetics are in bold):
</p>
<ul>
<li><p><strong>x</strong></p>
</li>
<li><p><strong>y</strong></p>
</li>
<li><p>alpha
</p>
</li>
<li><p>colour
</p>
</li>
<li><p>linetype
</p>
</li>
<li><p>size
</p>
</li></ul>



<h3>Computed variables</h3>

<p>Same as <code><a href="ggplot2.html#topic+stat_contour">stat_contour</a></code>
</p>


<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  data(Feldspar)
  ggtern(data=Feldspar,aes(An,Ab,Or)) + 
    geom_point() + 
    geom_confidence_tern()
</code></pre>

<hr>
<h2 id='geom_crosshair_tern'>Ternary Crosshairs</h2><span id='topic+geom_crosshair_tern'></span><span id='topic+GeomCrosshairTern'></span><span id='topic+geom_Tmark'></span><span id='topic+GeomTmark'></span><span id='topic+geom_Lmark'></span><span id='topic+GeomLmark'></span><span id='topic+geom_Rmark'></span><span id='topic+GeomRmark'></span>

<h3>Description</h3>

<p>A new geometry, <code>geom_crosshair_tern</code> is one that that marks on the respective axes, 
the values of each data point. We also include additional geometries <code>geom_Tmark</code>, 
<code>geom_Rmark</code> and <code>geom_Lmark</code> &ndash; to render only the respective axis component 
of the abovementioned crosshair.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_crosshair_tern(
  mapping = NULL,
  data = NULL,
  stat = "identity",
  position = "identity",
  ...,
  arrow = NULL,
  lineend = "butt",
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE
)

geom_Tmark(
  mapping = NULL,
  data = NULL,
  stat = "identity",
  position = "identity",
  arrow = NULL,
  lineend = "butt",
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE,
  ...
)

geom_Lmark(
  mapping = NULL,
  data = NULL,
  stat = "identity",
  position = "identity",
  arrow = NULL,
  lineend = "butt",
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE,
  ...
)

geom_Rmark(
  mapping = NULL,
  data = NULL,
  stat = "identity",
  position = "identity",
  arrow = NULL,
  lineend = "butt",
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geom_crosshair_tern_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="geom_crosshair_tern_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_crosshair_tern_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this
layer, either as a <code>ggproto</code> <code>Geom</code> subclass or as a string naming the
stat stripped of the <code>stat_</code> prefix (e.g. <code>"count"</code> rather than
<code>"stat_count"</code>)</p>
</td></tr>
<tr><td><code id="geom_crosshair_tern_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="geom_crosshair_tern_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer()</a></code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>colour = "red"</code> or <code>size = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
<tr><td><code id="geom_crosshair_tern_+3A_arrow">arrow</code></td>
<td>
<p>specification for arrow heads, as created by <code><a href="grid.html#topic+arrow">grid::arrow()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_crosshair_tern_+3A_lineend">lineend</code></td>
<td>
<p>Line end style (round, butt, square).</p>
</td></tr>
<tr><td><code id="geom_crosshair_tern_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_crosshair_tern_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="geom_crosshair_tern_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
</table>


<h3>Aesthetics</h3>

<p><code>geom_crosshair_tern</code>understands the following aesthetics (required aesthetics are in bold):
</p>
<ul>
<li><p><strong>x</strong></p>
</li>
<li><p><strong>y</strong></p>
</li>
<li><p><strong>z</strong></p>
</li>
<li><p>alpha
</p>
</li>
<li><p>colour
</p>
</li>
<li><p>linetype
</p>
</li>
<li><p>size
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(1)
df = data.frame(x=runif(10),y=runif(10),z=runif(10))
base = ggtern(df,aes(x,y,z)) + geom_point()
base + geom_crosshair_tern()
base + geom_Tmark()
base + geom_Rmark()
base + geom_Lmark()
</code></pre>

<hr>
<h2 id='geom_density_tern'>Density Estimate (ggtern version)</h2><span id='topic+geom_density_tern'></span><span id='topic+GeomDensityTern'></span><span id='topic+stat_density_tern'></span><span id='topic+StatDensityTern'></span>

<h3>Description</h3>

<p>Perform a 2D kernel density estimatation using kde2d and display the results with contours. This can be 
useful for dealing with overplotting. Additional weight aesthetic (see aesthetic section below) permits better weighting if desired
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_density_tern(
  mapping = NULL,
  data = NULL,
  stat = "DensityTern",
  position = "identity",
  ...,
  lineend = "butt",
  linejoin = "round",
  linemitre = 1,
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE
)

stat_density_tern(
  mapping = NULL,
  data = NULL,
  geom = "density_tern",
  position = "identity",
  ...,
  contour = TRUE,
  n = 100,
  h = NULL,
  bdl = 0,
  bdl.val = NA,
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE,
  weight = 1,
  base = "ilr",
  expand = c(0.5, 0.5)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geom_density_tern_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="geom_density_tern_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_density_tern_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this
layer, either as a <code>ggproto</code> <code>Geom</code> subclass or as a string naming the
stat stripped of the <code>stat_</code> prefix (e.g. <code>"count"</code> rather than
<code>"stat_count"</code>)</p>
</td></tr>
<tr><td><code id="geom_density_tern_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="geom_density_tern_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer()</a></code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>colour = "red"</code> or <code>size = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
<tr><td><code id="geom_density_tern_+3A_lineend">lineend</code></td>
<td>
<p>Line end style (round, butt, square).</p>
</td></tr>
<tr><td><code id="geom_density_tern_+3A_linejoin">linejoin</code></td>
<td>
<p>Line join style (round, mitre, bevel).</p>
</td></tr>
<tr><td><code id="geom_density_tern_+3A_linemitre">linemitre</code></td>
<td>
<p>Line mitre limit (number greater than 1).</p>
</td></tr>
<tr><td><code id="geom_density_tern_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_density_tern_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="geom_density_tern_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_density_tern_+3A_geom">geom</code></td>
<td>
<p>Use to override the default connection between geom_density_tern() and stat_density_tern()</p>
</td></tr>
<tr><td><code id="geom_density_tern_+3A_contour">contour</code></td>
<td>
<p>If <code>TRUE</code>, contour the results of the 2d density
estimation.</p>
</td></tr>
<tr><td><code id="geom_density_tern_+3A_n">n</code></td>
<td>
<p>Number of grid points in each direction.</p>
</td></tr>
<tr><td><code id="geom_density_tern_+3A_h">h</code></td>
<td>
<p>Bandwidth (vector of length two) as a multiple of the best estimate, estimated using <code><a href="MASS.html#topic+bandwidth.nrd">bandwidth.nrd</a></code>.</p>
</td></tr>
<tr><td><code id="geom_density_tern_+3A_bdl">bdl</code></td>
<td>
<p>the threshold for detection limit. This is applied against the output of <code><a href="compositions.html#topic+acomp">acomp</a></code> function, 
so it is expected as a fraction in the range [0,1]</p>
</td></tr>
<tr><td><code id="geom_density_tern_+3A_bdl.val">bdl.val</code></td>
<td>
<p>compositions which have components that are below the detection limit, will have these components replaced by this val. 
If it is NA then these items will be discarded. If the value is something other than 'NA', then all values less than <code>bdl</code> will
be replaced and therefore included in the final density estimate.</p>
</td></tr>
<tr><td><code id="geom_density_tern_+3A_weight">weight</code></td>
<td>
<p>weighting for weighted kde2d esimate, default's to 1, which is non-weighted and equivalent to the usual kde2d calculation</p>
</td></tr>
<tr><td><code id="geom_density_tern_+3A_base">base</code></td>
<td>
<p>the base transformation of the data, options include 'identity' (ie direct on the cartesian space), or 'ilr'
which means to use the isometric log ratio transformation.</p>
</td></tr>
<tr><td><code id="geom_density_tern_+3A_expand">expand</code></td>
<td>
<p>Calculate on a mesh which extends beyond the grid of the plot region by this amount
If <code>NULL</code>, estimated using <code><a href="MASS.html#topic+bandwidth.nrd">bandwidth.nrd</a></code>.</p>
</td></tr>
</table>


<h3>Aesthetics</h3>

<p><code>geom_density_tern</code>understands the following aesthetics (required aesthetics are in bold):
</p>
<ul>
<li><p><strong>x</strong></p>
</li>
<li><p><strong>y</strong></p>
</li>
<li><p>alpha
</p>
</li>
<li><p>colour
</p>
</li>
<li><p>linetype
</p>
</li>
<li><p>size
</p>
</li>
<li><p>weight
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Plot Density Estimate, on isometric log ratio transformation of original data
data('Feldspar')
ggtern(Feldspar,aes(Ab,An,Or)) + 
 geom_density_tern(aes(color=..level..),bins=5) +
 geom_point()

#Plot Density Estimate w/ Polygon Geometry
data('Feldspar')
ggtern(data=Feldspar,aes(Ab,An,Or)) + 
    stat_density_tern(
        geom='polygon',
        aes(fill=..level..),
        bins=5,
        color='grey') +
    geom_point()
        
</code></pre>

<hr>
<h2 id='geom_errorbarX'>Ternary Error Bars</h2><span id='topic+geom_errorbarX'></span><span id='topic+geom_errorbarT'></span><span id='topic+geom_errorbarL'></span><span id='topic+geom_errorbarR'></span><span id='topic+GeomErrorbart'></span><span id='topic+GeomErrorbarl'></span><span id='topic+GeomErrorbarr'></span>

<h3>Description</h3>

<p><code>geom_errorbarT</code>, <code>geom_errorbarL</code> and <code>geom_errorbarR</code> are geometries to render error bars
for the top, left and right apex species respectively, analogous to <code><a href="ggplot2.html#topic+geom_errorbar">geom_errorbar</a></code> and/or 
<code><a href="ggplot2.html#topic+geom_errorbarh">geom_errorbarh</a></code> as provided in the base ggplot2 package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_errorbarT(
  mapping = NULL,
  data = NULL,
  stat = "identity",
  position = "identity",
  ...,
  arrow = NULL,
  lineend = "butt",
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE
)

geom_errorbarL(
  mapping = NULL,
  data = NULL,
  stat = "identity",
  position = "identity",
  arrow = NULL,
  lineend = "butt",
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE,
  ...
)

geom_errorbarR(
  mapping = NULL,
  data = NULL,
  stat = "identity",
  position = "identity",
  arrow = NULL,
  lineend = "butt",
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geom_errorbarX_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="geom_errorbarX_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_errorbarX_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this
layer, either as a <code>ggproto</code> <code>Geom</code> subclass or as a string naming the
stat stripped of the <code>stat_</code> prefix (e.g. <code>"count"</code> rather than
<code>"stat_count"</code>)</p>
</td></tr>
<tr><td><code id="geom_errorbarX_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="geom_errorbarX_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer()</a></code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>colour = "red"</code> or <code>size = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
<tr><td><code id="geom_errorbarX_+3A_arrow">arrow</code></td>
<td>
<p>specification for arrow heads, as created by <code><a href="grid.html#topic+arrow">grid::arrow()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_errorbarX_+3A_lineend">lineend</code></td>
<td>
<p>Line end style (round, butt, square).</p>
</td></tr>
<tr><td><code id="geom_errorbarX_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_errorbarX_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="geom_errorbarX_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
</table>


<h3>Aesthetics (geom_errorbarT)</h3>

<p><code>geom_errorbart</code>understands the following aesthetics (required aesthetics are in bold):
</p>
<ul>
<li><p><strong>Tmax</strong></p>
</li>
<li><p><strong>Tmin</strong></p>
</li>
<li><p><strong>x</strong></p>
</li>
<li><p><strong>y</strong></p>
</li>
<li><p><strong>z</strong></p>
</li>
<li><p>alpha
</p>
</li>
<li><p>colour
</p>
</li>
<li><p>linetype
</p>
</li>
<li><p>linewidth
</p>
</li></ul>



<h3>Aesthetics (geom_errorbarL)</h3>

<p><code>geom_errorbarl</code>understands the following aesthetics (required aesthetics are in bold):
</p>
<ul>
<li><p><strong>Lmax</strong></p>
</li>
<li><p><strong>Lmin</strong></p>
</li>
<li><p><strong>x</strong></p>
</li>
<li><p><strong>y</strong></p>
</li>
<li><p><strong>z</strong></p>
</li>
<li><p>alpha
</p>
</li>
<li><p>colour
</p>
</li>
<li><p>linetype
</p>
</li>
<li><p>linewidth
</p>
</li></ul>



<h3>Aesthetics (geom_errorbarR)</h3>

<p><code>geom_errorbarr</code>understands the following aesthetics (required aesthetics are in bold):
</p>
<ul>
<li><p><strong>Rmax</strong></p>
</li>
<li><p><strong>Rmin</strong></p>
</li>
<li><p><strong>x</strong></p>
</li>
<li><p><strong>y</strong></p>
</li>
<li><p><strong>z</strong></p>
</li>
<li><p>alpha
</p>
</li>
<li><p>colour
</p>
</li>
<li><p>linetype
</p>
</li>
<li><p>linewidth
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Example with Dummy Data.
tmp &lt;- data.frame(x=1/3,
y=1/3,
z=1/3,
Min=1/3-1/6,
Max=1/3+1/6)
ggtern(data=tmp,aes(x,y,z)) + 
  geom_point() + 
  geom_errorbarT(aes(Tmin=Min,Tmax=Max),colour='red')+
  geom_errorbarL(aes(Lmin=Min,Lmax=Max),colour='green')+
  geom_errorbarR(aes(Rmin=Min,Rmax=Max),colour='blue') 
</code></pre>

<hr>
<h2 id='geom_hex_tern'>Hexbin (ggtern version).</h2><span id='topic+geom_hex_tern'></span><span id='topic+GeomHexTern'></span><span id='topic+stat_hex_tern'></span><span id='topic+StatHexTern'></span><span id='topic+GeomTriTern'></span>

<h3>Description</h3>

<p>Divides the plane into regular hexagons, counts the number of cases in
each hexagon, and then (by default) maps the number of cases to the hexagon
fill.  Hexagon bins avoid the visual artefacts sometimes generated by
the very regular alignment of [geom_bin2d()].
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_hex_tern(
  mapping = NULL,
  data = NULL,
  stat = "hex_tern",
  position = "identity",
  ...,
  fun = sum,
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE
)

stat_hex_tern(
  mapping = NULL,
  data = NULL,
  geom = "hex_tern",
  position = "identity",
  ...,
  bins = 30,
  fun = sum,
  binwidth = NULL,
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geom_hex_tern_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="geom_hex_tern_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_hex_tern_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="geom_hex_tern_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer()</a></code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>colour = "red"</code> or <code>size = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
<tr><td><code id="geom_hex_tern_+3A_fun">fun</code></td>
<td>
<p>the scalar function to use for the statistic</p>
</td></tr>
<tr><td><code id="geom_hex_tern_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_hex_tern_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="geom_hex_tern_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_hex_tern_+3A_geom">geom</code>, <code id="geom_hex_tern_+3A_stat">stat</code></td>
<td>
<p>Override the default connection between 'geom_hex_tern' and 'stat_hex_tern'</p>
</td></tr>
<tr><td><code id="geom_hex_tern_+3A_bins">bins</code></td>
<td>
<p>numeric vector giving number of bins in both vertical and
horizontal directions. Set to 30 by default.</p>
</td></tr>
<tr><td><code id="geom_hex_tern_+3A_binwidth">binwidth</code></td>
<td>
<p>Numeric vector giving bin width in both vertical and
horizontal directions. Overrides <code>bins</code> if both set.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This geometry is loosely based on the base ggplot2 geom_hex, with a few subtle
(but advantageous differences). The user can control the border thickness of the
hexagonal polygons using the size aesthetic. The user can also control the
particular statistic to use, by defining the <code>fun</code> argument (sum by default), which by default
is applied over a value of 1 per point, however, this can also be mapped to a data variable
via the 'value' mapping.
</p>


<h3>Aesthetics</h3>

<p>@section Aesthetics:
<code>geom_hex()</code>understands the following aesthetics (required aesthetics are in bold):
</p>
<ul>
<li><p><strong><code><a href="ggplot2.html#topic+aes_position">x</a></code></strong></p>
</li>
<li><p><strong><code><a href="ggplot2.html#topic+aes_position">y</a></code></strong></p>
</li>
<li><p><code><a href="ggplot2.html#topic+aes_colour_fill_alpha">alpha</a></code></p>
</li>
<li><p><code><a href="ggplot2.html#topic+aes_colour_fill_alpha">colour</a></code></p>
</li>
<li><p><code><a href="ggplot2.html#topic+aes_colour_fill_alpha">fill</a></code></p>
</li>
<li><p><code><a href="ggplot2.html#topic+aes_group_order">group</a></code></p>
</li>
<li><p><code><a href="ggplot2.html#topic+aes_linetype_size_shape">linetype</a></code></p>
</li>
<li><p><code><a href="ggplot2.html#topic+aes_linetype_size_shape">linewidth</a></code></p>
</li></ul>
<p>Learn more about setting these aesthetics in <code>vignette("ggplot2-specs")</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(1)
n  = 1000
df = data.frame(x  = runif(n),
                y  = runif(n),
                z  = runif(n),
                wt = runif(n))
                
#Equivalent of Hexbin
ggtern(df,aes(x,y,z)) + 
    geom_hex_tern(binwidth=0.1)
    
#Calculate Mean of variable wt
ggtern(df,aes(x,y,z)) + 
     geom_hex_tern(binwidth=0.05,
                   aes(value=wt),
                   fun=mean)

#Custom functions, for ex. discrete output...
myfun = function(x) sample(LETTERS,1)
ggtern(df,aes(x,y,z)) + 
     geom_hex_tern(binwidth=0.05,
                   fun=myfun)

</code></pre>

<hr>
<h2 id='geom_interpolate_tern'>Ternary Interpolation</h2><span id='topic+geom_interpolate_tern'></span><span id='topic+GeomInterpolateTern'></span><span id='topic+stat_interpolate_tern'></span><span id='topic+StatInterpolateTern'></span>

<h3>Description</h3>

<p>This is the heavily requested geometry for interpolating between ternary values, results being
rendered using contours on a ternary mesh.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_interpolate_tern(
  mapping = NULL,
  data = NULL,
  stat = "InterpolateTern",
  position = "identity",
  ...,
  method = "auto",
  formula = value ~ poly(x, y, degree = 1),
  lineend = "butt",
  linejoin = "round",
  linemitre = 1,
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE
)

stat_interpolate_tern(
  mapping = NULL,
  data = NULL,
  geom = "interpolate_tern",
  position = "identity",
  ...,
  method = "auto",
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE,
  n = 80,
  formula = value ~ poly(x, y, degree = 1),
  base = "ilr"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geom_interpolate_tern_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="geom_interpolate_tern_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_interpolate_tern_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="geom_interpolate_tern_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer()</a></code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>colour = "red"</code> or <code>size = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
<tr><td><code id="geom_interpolate_tern_+3A_method">method</code></td>
<td>
<p>Smoothing method (function) to use, accepts either
<code>NULL</code> or a character vector, e.g. <code>"lm"</code>, <code>"glm"</code>, <code>"gam"</code>, <code>"loess"</code>
or a function, e.g. <code>MASS::rlm</code> or <code>mgcv::gam</code>, <code>stats::lm</code>, or <code>stats::loess</code>.
<code>"auto"</code> is also accepted for backwards compatibility.  It is equivalent to
<code>NULL</code>.
</p>
<p>For <code>method = NULL</code> the smoothing method is chosen based on the
size of the largest group (across all panels). <code><a href="stats.html#topic+loess">stats::loess()</a></code> is
used for less than 1,000 observations; otherwise <code><a href="mgcv.html#topic+gam">mgcv::gam()</a></code> is
used with <code>formula = y ~ s(x, bs = "cs")</code> with <code>method = "REML"</code>. Somewhat anecdotally,
<code>loess</code> gives a better appearance, but is <code class="reqn">O(N^{2})</code> in memory,
so does not work for larger datasets.
</p>
<p>If you have fewer than 1,000 observations but want to use the same <code>gam()</code>
model that <code>method = NULL</code> would use, then set
<code style="white-space: pre;">&#8288;method = "gam", formula = y ~ s(x, bs = "cs")&#8288;</code>.</p>
</td></tr>
<tr><td><code id="geom_interpolate_tern_+3A_formula">formula</code></td>
<td>
<p>Formula to use in smoothing function, eg. <code>y ~ x</code>,
<code>y ~ poly(x, 2)</code>, <code>y ~ log(x)</code>. <code>NULL</code> by default, in which case
<code>method = NULL</code> implies <code>formula = y ~ x</code> when there are fewer than 1,000
observations and <code>formula = y ~ s(x, bs = "cs")</code> otherwise.</p>
</td></tr>
<tr><td><code id="geom_interpolate_tern_+3A_lineend">lineend</code></td>
<td>
<p>Line end style (round, butt, square).</p>
</td></tr>
<tr><td><code id="geom_interpolate_tern_+3A_linejoin">linejoin</code></td>
<td>
<p>Line join style (round, mitre, bevel).</p>
</td></tr>
<tr><td><code id="geom_interpolate_tern_+3A_linemitre">linemitre</code></td>
<td>
<p>Line mitre limit (number greater than 1).</p>
</td></tr>
<tr><td><code id="geom_interpolate_tern_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_interpolate_tern_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="geom_interpolate_tern_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_interpolate_tern_+3A_geom">geom</code>, <code id="geom_interpolate_tern_+3A_stat">stat</code></td>
<td>
<p>Use to override the default connection between
<code>geom_smooth()</code> and <code>stat_smooth()</code>.</p>
</td></tr>
<tr><td><code id="geom_interpolate_tern_+3A_n">n</code></td>
<td>
<p>number of grid points in each direction</p>
</td></tr>
<tr><td><code id="geom_interpolate_tern_+3A_base">base</code></td>
<td>
<p>the base transformation of the data, options include 'identity' (ie direct on the cartesian space), or 'ilr'
which means to use the isometric log ratio transformation.</p>
</td></tr>
</table>


<h3>Aesthetics</h3>

<p><code>geom_InterpolateTern</code>understands the following aesthetics (required aesthetics are in bold):
</p>
<ul>
<li><p><strong>x</strong></p>
</li>
<li><p><strong>y</strong></p>
</li>
<li><p>alpha
</p>
</li>
<li><p>colour
</p>
</li>
<li><p>linetype
</p>
</li>
<li><p>size
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(Feldspar)
ggtern(Feldspar,aes(Ab,An,Or,value=T.C)) + 
stat_interpolate_tern(geom="polygon",
                     formula=value~x+y,
                     method=lm,n=100,
                     breaks=seq(0,1000,by=100),
                     aes(fill=..level..),expand=1) +
                     geom_point()
</code></pre>

<hr>
<h2 id='geom_label_viewport'>Draw Label at Relative Position on Viewport</h2><span id='topic+geom_label_viewport'></span><span id='topic+GeomLabelViewport'></span>

<h3>Description</h3>

<p>Since it is sometimes counter intuitive for working with ternary or other non-cartesian coordinates in the 
event that the the user wishes to place a label-geometry based on visual inspection, this geometry 
positions such text item at a fraction from x=[0,1] and y=[0,1] of the viewport in x and y cartesian 
coordinates.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_label_viewport(
  mapping = NULL,
  data = NULL,
  stat = "identity",
  position = "identity",
  ...,
  hjust = "inward",
  vjust = "inward",
  parse = FALSE,
  label.padding = unit(0.25, "lines"),
  label.r = unit(0.15, "lines"),
  label.size = 0.25,
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geom_label_viewport_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="geom_label_viewport_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_label_viewport_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this
layer, either as a <code>ggproto</code> <code>Geom</code> subclass or as a string naming the
stat stripped of the <code>stat_</code> prefix (e.g. <code>"count"</code> rather than
<code>"stat_count"</code>)</p>
</td></tr>
<tr><td><code id="geom_label_viewport_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="geom_label_viewport_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer()</a></code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>colour = "red"</code> or <code>size = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
<tr><td><code id="geom_label_viewport_+3A_hjust">hjust</code></td>
<td>
<p>horizontal justification</p>
</td></tr>
<tr><td><code id="geom_label_viewport_+3A_vjust">vjust</code></td>
<td>
<p>vertical justification</p>
</td></tr>
<tr><td><code id="geom_label_viewport_+3A_parse">parse</code></td>
<td>
<p>If <code>TRUE</code>, the labels will be parsed into expressions and
displayed as described in <code>?plotmath</code>.</p>
</td></tr>
<tr><td><code id="geom_label_viewport_+3A_label.padding">label.padding</code></td>
<td>
<p>Amount of padding around label. Defaults to 0.25 lines.</p>
</td></tr>
<tr><td><code id="geom_label_viewport_+3A_label.r">label.r</code></td>
<td>
<p>Radius of rounded corners. Defaults to 0.15 lines.</p>
</td></tr>
<tr><td><code id="geom_label_viewport_+3A_label.size">label.size</code></td>
<td>
<p>Size of label border, in mm.</p>
</td></tr>
<tr><td><code id="geom_label_viewport_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_label_viewport_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="geom_label_viewport_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
</table>


<h3>Aesthetics</h3>

<p><code>geom_Label</code>understands the following aesthetics (required aesthetics are in bold):
</p>
<ul>
<li><p><strong>label</strong></p>
</li>
<li><p><strong>x</strong></p>
</li>
<li><p><strong>y</strong></p>
</li>
<li><p>alpha
</p>
</li>
<li><p>angle
</p>
</li>
<li><p>colour
</p>
</li>
<li><p>family
</p>
</li>
<li><p>fill
</p>
</li>
<li><p>fontface
</p>
</li>
<li><p>hjust
</p>
</li>
<li><p>lineheight
</p>
</li>
<li><p>size
</p>
</li>
<li><p>vjust
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+geom_label">geom_label</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)
data(Feldspar)
base = ggtern(data=Feldspar,aes(Ab,An,Or)) + 
  geom_mask() + 
  geom_point() + 
  geom_label_viewport(x=0.5,y=0.5,label="Middle",color='red') + 
  geom_label_viewport(x=1.0,y=1.0,label="Top Right",color='blue') + 
  geom_label_viewport(x=0.0,y=0.0,label="Bottom Left",color='green') +
  geom_label_viewport(x=0.0,y=1.0,label="Top Left",color='orange') + 
  geom_label_viewport(x=1.0,y=0.0,label="Bottom Right",color='magenta')
base

base + 
  geom_label_viewport(x=0.9,y=0.5,label="Clipping Turned Off",color='purple',hjust=0,clip='on') 

base + 
  geom_label_viewport(x=0.9,y=0.5,label="Clipping Turned Off",color='purple',hjust=0,clip='off') 

</code></pre>

<hr>
<h2 id='geom_mask'>Apply Manual Clipping Mask</h2><span id='topic+geom_mask'></span><span id='topic+GeomMask'></span>

<h3>Description</h3>

<p>This function creates a manual clipping mask, which in turn suppresses the standard clipping mask that would otherwise
be rendered in the foregound rendering procedure, giving the user control over the exact placement with respect to 
other layers. For example, the user may wish to have the clipping mask placed after 
the <code>geom_point(...)</code> layer, but before the <code>geom_label(...)</code> layer, this situation has been
demonstrated in the example below. In the event that the user wishes to suppress the mask altogether, then a convenience
function has been provided, <code>theme_nomask()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_mask()
</code></pre>


<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(Feldspar)
x = ggtern(Feldspar,aes(Ab,An,Or,label=Experiment)) + geom_point()

#Default Behaviour
x + geom_label()

#Insert manual mask before the labels, to prevent them being truncated
x + geom_point(size=6) + geom_mask() + geom_label()
</code></pre>

<hr>
<h2 id='geom_mean_ellipse'>Mean Ellipse</h2><span id='topic+geom_mean_ellipse'></span><span id='topic+stat_mean_ellipse'></span><span id='topic+StatMeanEllipse'></span>

<h3>Description</h3>

<p>Produce ellipses from a mean and a variance of ternary compositional data, based off the function 
included in the <code><a href="compositions.html#topic+compositions">compositions</a></code> package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_mean_ellipse(
  mapping = NULL,
  data = NULL,
  stat = "MeanEllipse",
  position = "identity",
  ...,
  lineend = "butt",
  linejoin = "round",
  linemitre = 1,
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE
)

stat_mean_ellipse(
  mapping = NULL,
  data = NULL,
  geom = "MeanEllipse",
  position = "identity",
  ...,
  steps = 72,
  r = 1,
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geom_mean_ellipse_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="geom_mean_ellipse_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_mean_ellipse_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="geom_mean_ellipse_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer()</a></code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>colour = "red"</code> or <code>size = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
<tr><td><code id="geom_mean_ellipse_+3A_lineend">lineend</code></td>
<td>
<p>Line end style (round, butt, square).</p>
</td></tr>
<tr><td><code id="geom_mean_ellipse_+3A_linejoin">linejoin</code></td>
<td>
<p>Line join style (round, mitre, bevel).</p>
</td></tr>
<tr><td><code id="geom_mean_ellipse_+3A_linemitre">linemitre</code></td>
<td>
<p>Line mitre limit (number greater than 1).</p>
</td></tr>
<tr><td><code id="geom_mean_ellipse_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_mean_ellipse_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="geom_mean_ellipse_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_mean_ellipse_+3A_geom">geom</code>, <code id="geom_mean_ellipse_+3A_stat">stat</code></td>
<td>
<p>Use to override the default connection between
<code>geom_smooth()</code> and <code>stat_smooth()</code>.</p>
</td></tr>
<tr><td><code id="geom_mean_ellipse_+3A_steps">steps</code></td>
<td>
<p>the number of discretisation points to draw the ellipses</p>
</td></tr>
<tr><td><code id="geom_mean_ellipse_+3A_r">r</code></td>
<td>
<p>a scaling of the half-diameters</p>
</td></tr>
</table>


<h3>Aesthetics</h3>

<p><code>geom_MeanEllipse</code>understands the following aesthetics (required aesthetics are in bold):
</p>
<ul>
<li><p><strong>x</strong></p>
</li>
<li><p><strong>y</strong></p>
</li>
<li><p>alpha
</p>
</li>
<li><p>colour
</p>
</li>
<li><p>linetype
</p>
</li>
<li><p>size
</p>
</li></ul>



<h3>Computed variables</h3>

<p>Same as <code><a href="ggplot2.html#topic+stat_contour">stat_contour</a></code>
</p>


<h3>Author(s)</h3>

<p>Nicholas Hamilton &amp; Ashton Drew
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  data(Feldspar)
  ggtern(data=Feldspar,aes(An,Ab,Or)) + 
    geom_point() + 
    geom_mean_ellipse()
data(Feldspar)
ggtern(data=Feldspar,aes(Ab,An,Or)) +
  theme_bw() + 
  stat_mean_ellipse(geom='polygon',steps=500,fill='red',color='black') +
  geom_point()
</code></pre>

<hr>
<h2 id='geom_point_swap'>Points (Colour and Fill Swapped), as for a scatterplot</h2><span id='topic+geom_point_swap'></span><span id='topic+GeomPointSwap'></span>

<h3>Description</h3>

<p>The <code>geom_point_swap</code> geometry is used to create scatterplots, however, this version swaps the colour and the 
fill mappings. Useful if the fill mapping is already occupied (say with existing polygon geometry), this
geometry will allow points of shape 21-25 to use colour mapping for the center colour, and fill mapping for the
border.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_point_swap(
  mapping = NULL,
  data = NULL,
  stat = "identity",
  position = "identity",
  ...,
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geom_point_swap_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="geom_point_swap_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_point_swap_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this
layer, either as a <code>ggproto</code> <code>Geom</code> subclass or as a string naming the
stat stripped of the <code>stat_</code> prefix (e.g. <code>"count"</code> rather than
<code>"stat_count"</code>)</p>
</td></tr>
<tr><td><code id="geom_point_swap_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="geom_point_swap_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer()</a></code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>colour = "red"</code> or <code>size = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
<tr><td><code id="geom_point_swap_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_point_swap_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="geom_point_swap_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(Feldspar)
ggtern(Feldspar,aes(Ab,An,Or)) + 
stat_confidence_tern(geom='polygon',aes(fill=..level..),color='white') + 
geom_mask() + 
geom_point_swap(aes(colour=T.C,shape=Feldspar),fill='black',size=5) +
scale_shape_manual(values=c(21,24)) +
scale_color_gradient(low='green',high='red') +
labs(title="Feldspar",color="Temperature",fill='Confidence')
</code></pre>

<hr>
<h2 id='geom_polygon_closed'>Closed Polygons</h2><span id='topic+geom_polygon_closed'></span><span id='topic+GeomPolygonClosed'></span>

<h3>Description</h3>

<p>A little like geom_area, in the sense that polygons are either upper or lower closed based 
on the starting and finishing points index.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_polygon_closed(
  mapping = NULL,
  data = NULL,
  stat = "identity",
  position = "identity",
  ...,
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE,
  closure = "none"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geom_polygon_closed_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="geom_polygon_closed_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_polygon_closed_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this
layer, either as a <code>ggproto</code> <code>Geom</code> subclass or as a string naming the
stat stripped of the <code>stat_</code> prefix (e.g. <code>"count"</code> rather than
<code>"stat_count"</code>)</p>
</td></tr>
<tr><td><code id="geom_polygon_closed_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="geom_polygon_closed_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer()</a></code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>colour = "red"</code> or <code>size = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
<tr><td><code id="geom_polygon_closed_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_polygon_closed_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="geom_polygon_closed_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_polygon_closed_+3A_closure">closure</code></td>
<td>
<p>one of 'none','upper' or 'lower'</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>

<hr>
<h2 id='geom_smooth_tern'>Add a Smoothed Conditional Mean.</h2><span id='topic+geom_smooth_tern'></span><span id='topic+GeomSmoothTern'></span><span id='topic+stat_smooth_tern'></span><span id='topic+StatSmoothTern'></span>

<h3>Description</h3>

<p>Aids the eye in seeing patterns in the presence of overplotting.
<code>geom_smooth_tern</code> and <code>stat_smooth_tern</code> are effectively aliases: they
both use the same arguments. Use <code>geom_smooth_tern</code> unless you want to
display the results with a non-standard geom.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_smooth_tern(
  mapping = NULL,
  data = NULL,
  position = "identity",
  ...,
  method = "auto",
  formula = y ~ x,
  se = TRUE,
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE,
  expand = c(0.5, 0.5)
)

stat_smooth_tern(
  mapping = NULL,
  data = NULL,
  position = "identity",
  ...,
  method = "auto",
  formula = y ~ x,
  se = TRUE,
  n = 80,
  span = 0.75,
  fullrange = FALSE,
  level = 0.95,
  method.args = list(),
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE,
  expand = c(0.5, 0.5)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geom_smooth_tern_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="geom_smooth_tern_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_smooth_tern_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="geom_smooth_tern_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer()</a></code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>colour = "red"</code> or <code>size = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
<tr><td><code id="geom_smooth_tern_+3A_method">method</code></td>
<td>
<p>Smoothing method (function) to use, accepts either
<code>NULL</code> or a character vector, e.g. <code>"lm"</code>, <code>"glm"</code>, <code>"gam"</code>, <code>"loess"</code>
or a function, e.g. <code>MASS::rlm</code> or <code>mgcv::gam</code>, <code>stats::lm</code>, or <code>stats::loess</code>.
<code>"auto"</code> is also accepted for backwards compatibility.  It is equivalent to
<code>NULL</code>.
</p>
<p>For <code>method = NULL</code> the smoothing method is chosen based on the
size of the largest group (across all panels). <code><a href="stats.html#topic+loess">stats::loess()</a></code> is
used for less than 1,000 observations; otherwise <code><a href="mgcv.html#topic+gam">mgcv::gam()</a></code> is
used with <code>formula = y ~ s(x, bs = "cs")</code> with <code>method = "REML"</code>. Somewhat anecdotally,
<code>loess</code> gives a better appearance, but is <code class="reqn">O(N^{2})</code> in memory,
so does not work for larger datasets.
</p>
<p>If you have fewer than 1,000 observations but want to use the same <code>gam()</code>
model that <code>method = NULL</code> would use, then set
<code style="white-space: pre;">&#8288;method = "gam", formula = y ~ s(x, bs = "cs")&#8288;</code>.</p>
</td></tr>
<tr><td><code id="geom_smooth_tern_+3A_formula">formula</code></td>
<td>
<p>Formula to use in smoothing function, eg. <code>y ~ x</code>,
<code>y ~ poly(x, 2)</code>, <code>y ~ log(x)</code>. <code>NULL</code> by default, in which case
<code>method = NULL</code> implies <code>formula = y ~ x</code> when there are fewer than 1,000
observations and <code>formula = y ~ s(x, bs = "cs")</code> otherwise.</p>
</td></tr>
<tr><td><code id="geom_smooth_tern_+3A_se">se</code></td>
<td>
<p>Display confidence interval around smooth? (<code>TRUE</code> by default, see
<code>level</code> to control.)</p>
</td></tr>
<tr><td><code id="geom_smooth_tern_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_smooth_tern_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="geom_smooth_tern_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_smooth_tern_+3A_expand">expand</code></td>
<td>
<p>expand the range of values by this much (vector of length 2) when fullrange is set to TRUE</p>
</td></tr>
<tr><td><code id="geom_smooth_tern_+3A_n">n</code></td>
<td>
<p>Number of points at which to evaluate smoother.</p>
</td></tr>
<tr><td><code id="geom_smooth_tern_+3A_span">span</code></td>
<td>
<p>Controls the amount of smoothing for the default loess smoother.
Smaller numbers produce wigglier lines, larger numbers produce smoother
lines. Only used with loess, i.e. when <code>method = "loess"</code>,
or when <code>method = NULL</code> (the default) and there are fewer than 1,000
observations.</p>
</td></tr>
<tr><td><code id="geom_smooth_tern_+3A_fullrange">fullrange</code></td>
<td>
<p>If <code>TRUE</code>, the smoothing line gets expanded to the range of the plot,
potentially beyond the data. This does not extend the line into any additional padding
created by <code>expansion</code>.</p>
</td></tr>
<tr><td><code id="geom_smooth_tern_+3A_level">level</code></td>
<td>
<p>Level of confidence interval to use (0.95 by default).</p>
</td></tr>
<tr><td><code id="geom_smooth_tern_+3A_method.args">method.args</code></td>
<td>
<p>List of additional arguments passed on to the modelling
function defined by <code>method</code>.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(Feldspar)
ggtern(data=Feldspar,aes(Ab,An,Or,group=Feldspar)) +  
  geom_smooth_tern(method=lm,fullrange=TRUE,colour='red') + 
  geom_point() +
  labs(title="Example Smoothing")
</code></pre>

<hr>
<h2 id='geom_text_viewport'>Draw Text at Relative Position on Viewport</h2><span id='topic+geom_text_viewport'></span><span id='topic+GeomTextViewport'></span>

<h3>Description</h3>

<p>Since it is sometimes counter intuitive for working with ternary or other non-cartesian coordinates in the 
event that the the user wishes to place a text-geometry based on visual inspection, this geometry 
positions such text item at a fraction from x=[0,1] and y=[0,1] of the viewport in x and y cartesian 
coordinates.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_text_viewport(
  mapping = NULL,
  data = NULL,
  stat = "identity",
  position = "identity",
  ...,
  hjust = "inward",
  vjust = "inward",
  parse = FALSE,
  check_overlap = FALSE,
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geom_text_viewport_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="geom_text_viewport_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_text_viewport_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this
layer, either as a <code>ggproto</code> <code>Geom</code> subclass or as a string naming the
stat stripped of the <code>stat_</code> prefix (e.g. <code>"count"</code> rather than
<code>"stat_count"</code>)</p>
</td></tr>
<tr><td><code id="geom_text_viewport_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="geom_text_viewport_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer()</a></code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>colour = "red"</code> or <code>size = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
<tr><td><code id="geom_text_viewport_+3A_hjust">hjust</code></td>
<td>
<p>horizontal justification</p>
</td></tr>
<tr><td><code id="geom_text_viewport_+3A_vjust">vjust</code></td>
<td>
<p>vertical justification</p>
</td></tr>
<tr><td><code id="geom_text_viewport_+3A_parse">parse</code></td>
<td>
<p>If <code>TRUE</code>, the labels will be parsed into expressions and
displayed as described in <code>?plotmath</code>.</p>
</td></tr>
<tr><td><code id="geom_text_viewport_+3A_check_overlap">check_overlap</code></td>
<td>
<p>If <code>TRUE</code>, text that overlaps previous text in the
same layer will not be plotted. <code>check_overlap</code> happens at draw time and in
the order of the data. Therefore data should be arranged by the label
column before calling <code>geom_text()</code>. Note that this argument is not
supported by <code>geom_label()</code>.</p>
</td></tr>
<tr><td><code id="geom_text_viewport_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_text_viewport_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="geom_text_viewport_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
</table>


<h3>Aesthetics</h3>

<p><code>geom_Text</code>understands the following aesthetics (required aesthetics are in bold):
</p>
<ul>
<li><p><strong>label</strong></p>
</li>
<li><p><strong>x</strong></p>
</li>
<li><p><strong>y</strong></p>
</li>
<li><p>alpha
</p>
</li>
<li><p>angle
</p>
</li>
<li><p>colour
</p>
</li>
<li><p>family
</p>
</li>
<li><p>fontface
</p>
</li>
<li><p>hjust
</p>
</li>
<li><p>lineheight
</p>
</li>
<li><p>size
</p>
</li>
<li><p>vjust
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+geom_text">geom_text</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)
data(Feldspar)
base = ggtern(data=Feldspar,aes(Ab,An,Or)) + 
  geom_mask() + 
  geom_point() + 
  geom_text_viewport(x=0.5,y=0.5,label="Middle",color='red') + 
  geom_text_viewport(x=1.0,y=1.0,label="Top Right",color='blue') + 
  geom_text_viewport(x=0.0,y=0.0,label="Bottom Left",color='green') +
  geom_text_viewport(x=0.0,y=1.0,label="Top Left",color='orange') + 
  geom_text_viewport(x=1.0,y=0.0,label="Bottom Right",color='magenta')
base

base + 
  geom_text_viewport(x=0.9,y=0.5,label="Clipping Turned Off",color='purple',hjust=0,clip='on') 

base + 
  geom_text_viewport(x=0.9,y=0.5,label="Clipping Turned Off",color='purple',hjust=0,clip='off') 

</code></pre>

<hr>
<h2 id='geom_tri_tern'>Tribin (ggtern version).</h2><span id='topic+geom_tri_tern'></span><span id='topic+stat_tri_tern'></span><span id='topic+StatTriTern'></span>

<h3>Description</h3>

<p>Divides the plane into regular triangles, counts the number of cases in
each triangles, and then (by default) maps the number of cases to the triangle
fill.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_tri_tern(
  mapping = NULL,
  data = NULL,
  stat = "tri_tern",
  position = "identity",
  ...,
  fun = sum,
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE
)

stat_tri_tern(
  mapping = NULL,
  data = NULL,
  geom = "tri_tern",
  position = "identity",
  ...,
  bins = 30,
  fun = sum,
  centroid = FALSE,
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geom_tri_tern_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="geom_tri_tern_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_tri_tern_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="geom_tri_tern_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer()</a></code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>colour = "red"</code> or <code>size = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
<tr><td><code id="geom_tri_tern_+3A_fun">fun</code></td>
<td>
<p>the scalar function to use for the statistic</p>
</td></tr>
<tr><td><code id="geom_tri_tern_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_tri_tern_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="geom_tri_tern_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_tri_tern_+3A_geom">geom</code>, <code id="geom_tri_tern_+3A_stat">stat</code></td>
<td>
<p>Override the default connection between 'geom_hex_tern' and 'stat_hex_tern'</p>
</td></tr>
<tr><td><code id="geom_tri_tern_+3A_bins">bins</code></td>
<td>
<p>numeric vector giving number of bins in both vertical and
horizontal directions. Set to 30 by default.</p>
</td></tr>
<tr><td><code id="geom_tri_tern_+3A_centroid">centroid</code></td>
<td>
<p>logical to return the centroid of the polygon, rather than the complete polygon</p>
</td></tr>
</table>


<h3>Aesthetics</h3>

<p>@section Aesthetics:
<code>geom_hex()</code>understands the following aesthetics (required aesthetics are in bold):
</p>
<ul>
<li><p><strong><code><a href="ggplot2.html#topic+aes_position">x</a></code></strong></p>
</li>
<li><p><strong><code><a href="ggplot2.html#topic+aes_position">y</a></code></strong></p>
</li>
<li><p><code><a href="ggplot2.html#topic+aes_colour_fill_alpha">alpha</a></code></p>
</li>
<li><p><code><a href="ggplot2.html#topic+aes_colour_fill_alpha">colour</a></code></p>
</li>
<li><p><code><a href="ggplot2.html#topic+aes_colour_fill_alpha">fill</a></code></p>
</li>
<li><p><code><a href="ggplot2.html#topic+aes_group_order">group</a></code></p>
</li>
<li><p><code><a href="ggplot2.html#topic+aes_linetype_size_shape">linetype</a></code></p>
</li>
<li><p><code><a href="ggplot2.html#topic+aes_linetype_size_shape">linewidth</a></code></p>
</li></ul>
<p>Learn more about setting these aesthetics in <code>vignette("ggplot2-specs")</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(1)
n  = 1000
df = data.frame(x  = runif(n),
                y  = runif(n),
                z  = runif(n),
                wt = runif(n))
#Equivalent of Hexbin
ggtern(df,aes(x,y,z)) + 
   geom_tri_tern(bins=10,aes(fill=..count..)) + 
   geom_point(size=0.25)

#Custom Function, Mean
ggtern(df,aes(x,y,z)) + 
   geom_tri_tern(bins=5,aes(fill=..stat..,value=wt),fun=mean) + 
   geom_point(size=0.25)
</code></pre>

<hr>
<h2 id='geom_Xisoprop'>Fixed Value Isoproportion Lines</h2><span id='topic+geom_Xisoprop'></span><span id='topic+geom_Tisoprop'></span><span id='topic+GeomTisoprop'></span><span id='topic+geom_Lisoprop'></span><span id='topic+GeomLisoprop'></span><span id='topic+geom_Risoprop'></span><span id='topic+GeomRisoprop'></span>

<h3>Description</h3>

<p>Create fixed isoproportion lines for each of the ternary axes, <code>geom_Xisoprop(...), (X = T, L, R)</code> will draw an isoproportion
line projecting from the T, L and R apex respectively.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_Tisoprop(
  mapping = NULL,
  data = NULL,
  ...,
  value,
  na.rm = FALSE,
  show.legend = NA
)

geom_Lisoprop(
  mapping = NULL,
  data = NULL,
  ...,
  value,
  na.rm = FALSE,
  show.legend = NA
)

geom_Risoprop(
  mapping = NULL,
  data = NULL,
  ...,
  value,
  na.rm = FALSE,
  show.legend = NA
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geom_Xisoprop_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="geom_Xisoprop_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_Xisoprop_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer()</a></code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>colour = "red"</code> or <code>size = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
<tr><td><code id="geom_Xisoprop_+3A_value">value</code></td>
<td>
<p>the isoproportion ratio to draw</p>
</td></tr>
<tr><td><code id="geom_Xisoprop_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_Xisoprop_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
</table>


<h3>Aesthetics</h3>

<p><code>geom_Tisoprop</code>understands the following aesthetics (required aesthetics are in bold):
</p>
<ul>
<li><p><strong>value</strong></p>
</li>
<li><p>alpha
</p>
</li>
<li><p>arrow
</p>
</li>
<li><p>colour
</p>
</li>
<li><p>linetype
</p>
</li>
<li><p>size
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(Feldspar)
ggtern(data=Feldspar,aes(Ab,An,Or)) +
geom_Tisoprop(value=0.5) +
geom_Lisoprop(value=0.5) +
geom_Risoprop(value=0.5) +
geom_point()
</code></pre>

<hr>
<h2 id='geom_Xline'>Fixed Value Lines</h2><span id='topic+geom_Xline'></span><span id='topic+geom_Tline'></span><span id='topic+geom_Lline'></span><span id='topic+geom_Rline'></span><span id='topic+Tline'></span><span id='topic+tline'></span><span id='topic+Lline'></span><span id='topic+lline'></span><span id='topic+Rline'></span><span id='topic+rline'></span><span id='topic+GeomTline'></span><span id='topic+GeomLline'></span><span id='topic+GeomRline'></span>

<h3>Description</h3>

<p>Plot fixed value lines, for the top, left and right axis, analagous to the <code><a href="ggplot2.html#topic+geom_hline">geom_hline</a></code>
and <code><a href="ggplot2.html#topic+geom_vline">geom_vline</a></code> geometries in <code><a href="#topic+ggplot">ggplot2</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_Tline(
  mapping = NULL,
  data = NULL,
  ...,
  Tintercept,
  na.rm = FALSE,
  show.legend = NA
)

Tline(
  mapping = NULL,
  data = NULL,
  ...,
  Tintercept,
  na.rm = FALSE,
  show.legend = NA
)

tline(
  mapping = NULL,
  data = NULL,
  ...,
  Tintercept,
  na.rm = FALSE,
  show.legend = NA
)

geom_Lline(
  mapping = NULL,
  data = NULL,
  ...,
  Lintercept,
  na.rm = FALSE,
  show.legend = NA
)

Lline(
  mapping = NULL,
  data = NULL,
  ...,
  Lintercept,
  na.rm = FALSE,
  show.legend = NA
)

lline(
  mapping = NULL,
  data = NULL,
  ...,
  Lintercept,
  na.rm = FALSE,
  show.legend = NA
)

geom_Rline(
  mapping = NULL,
  data = NULL,
  ...,
  Rintercept,
  na.rm = FALSE,
  show.legend = NA
)

Rline(
  mapping = NULL,
  data = NULL,
  ...,
  Rintercept,
  na.rm = FALSE,
  show.legend = NA
)

rline(
  mapping = NULL,
  data = NULL,
  ...,
  Rintercept,
  na.rm = FALSE,
  show.legend = NA
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geom_Xline_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_Xline_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_Xline_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer()</a></code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>colour = "red"</code> or <code>size = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
<tr><td><code id="geom_Xline_+3A_tintercept">Tintercept</code>, <code id="geom_Xline_+3A_lintercept">Lintercept</code>, <code id="geom_Xline_+3A_rintercept">Rintercept</code></td>
<td>
<p>the intercepts for the T, L and R axis respectively</p>
</td></tr>
<tr><td><code id="geom_Xline_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_Xline_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ggtern() + 
geom_Tline(Tintercept=.5,arrow=arrow(), colour='red') + 
geom_Lline(Lintercept=.2, colour='green') + 
geom_Rline(Rintercept=.1, colour='blue')
</code></pre>

<hr>
<h2 id='ggplot'>Create a new ggplot plot.</h2><span id='topic+ggplot'></span><span id='topic+ggplot.default'></span><span id='topic+print.ggplot'></span><span id='topic+plot.ggplot'></span>

<h3>Description</h3>

<p><code>ggplot()</code> initializes a ggplot object. It can be used to
declare the input data frame for a graphic and to specify the
set of plot aesthetics intended to be common throughout all
subsequent layers unless specifically overridden.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ggplot(data = NULL, mapping = aes(), ..., environment = parent.frame())

## S3 method for class 'ggplot'
print(x, newpage = is.null(vp), vp = NULL, ...)

## S3 method for class 'ggplot'
plot(x, newpage = is.null(vp), vp = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ggplot_+3A_data">data</code></td>
<td>
<p>Default dataset to use for plot. If not already a data.frame,
will be converted to one by <code><a href="ggplot2.html#topic+fortify">fortify()</a></code>. If not specified,
must be supplied in each layer added to the plot.</p>
</td></tr>
<tr><td><code id="ggplot_+3A_mapping">mapping</code></td>
<td>
<p>Default list of aesthetic mappings to use for plot.
If not specified, must be supplied in each layer added to the plot.</p>
</td></tr>
<tr><td><code id="ggplot_+3A_...">...</code></td>
<td>
<p>other arguments not used by this method</p>
</td></tr>
<tr><td><code id="ggplot_+3A_environment">environment</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a> Used prior to tidy
evaluation.</p>
</td></tr>
<tr><td><code id="ggplot_+3A_x">x</code></td>
<td>
<p>plot to display</p>
</td></tr>
<tr><td><code id="ggplot_+3A_newpage">newpage</code></td>
<td>
<p>draw new (empty) page first?</p>
</td></tr>
<tr><td><code id="ggplot_+3A_vp">vp</code></td>
<td>
<p>viewport to draw plot in</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>ggplot()</code> is typically used to construct a plot
incrementally, using the + operator to add layers to the
existing ggplot object. This is advantageous in that the
code is explicit about which layers are added and the order
in which they are added. For complex graphics with multiple
layers, initialization with <code>ggplot</code> is recommended.
</p>
<p>There are three common ways to invoke <code>ggplot</code>:
</p>

<ul>
<li> <p><code>ggplot(df, aes(x, y, &lt;other aesthetics&gt;))</code>
</p>
</li>
<li> <p><code>ggplot(df)</code>
</p>
</li>
<li> <p><code>ggplot()</code>
</p>
</li></ul>

<p>The first method is recommended if all layers use the same
data and the same set of aesthetics, although this method
can also be used to add a layer using data from another
data frame. See the first example below. The second
method specifies the default data frame to use for the plot,
but no aesthetics are defined up front. This is useful when
one data frame is used predominantly as layers are added, 
but the aesthetics may vary from one layer to another. The
third method initializes a skeleton <code>ggplot</code> object which
is fleshed out as layers are added. This method is useful when
multiple data frames are used to produce different layers, as
is often the case in complex graphics.
</p>


<h3>Value</h3>

<p>Invisibly returns the result of <code><a href="#topic+ggplot_build">ggplot_build</a></code>, which
is a list with components that contain the plot itself, the data,
information about the scales, panels etc.
</p>


<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>

<hr>
<h2 id='ggplot_build'>Build ggplot for rendering (ggtern version).</h2><span id='topic+ggplot_build'></span><span id='topic+layer_data'></span>

<h3>Description</h3>

<p><code>ggplot_build</code> takes the plot object, and performs all steps necessary
to produce an object that can be rendered.  This function outputs two pieces:
a list of data frames (one for each layer), and a panel object, which
contain all information about axis limits, breaks etc.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>layer_data(plot, i = 1L)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ggplot_build_+3A_plot">plot</code></td>
<td>
<p>ggplot object</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>layer_data</code>, <code>layer_grob</code>, and <code>layer_scales</code> are helper
functions that returns the data, grob, or scales associated with a given
layer. These are useful for tests.
</p>


<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>


<h3>See Also</h3>

<p><code><a href="#topic+print.ggplot">print.ggplot</a></code> and <code><a href="ggplot2.html#topic+benchplot">benchplot</a></code> for
functions that contain the complete set of steps for generating
a ggplot2 plot.
</p>

<hr>
<h2 id='ggplot_gtable'>Build a plot with all the usual bits and pieces.</h2><span id='topic+ggplot_gtable'></span><span id='topic+ggplotGrob'></span>

<h3>Description</h3>

<p>This function builds all grobs necessary for displaying the plot, and
stores them in a special data structure called a <code><a href="gtable.html#topic+gtable">gtable</a></code>.
This object is amenable to programmatic manipulation, should you want
to (e.g.) make the legend box 2 cm wide, or combine multiple plots into
a single display, preserving aspect ratios across the plots.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ggplot_gtable(data)

ggplotGrob(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ggplot_gtable_+3A_data">data</code></td>
<td>
<p>plot data generated by <code><a href="#topic+ggplot_build">ggplot_build</a></code></p>
</td></tr>
<tr><td><code id="ggplot_gtable_+3A_x">x</code></td>
<td>
<p>ggplot2 object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code><a href="gtable.html#topic+gtable">gtable</a></code> object
</p>


<h3>See Also</h3>

<p><code><a href="#topic+print.ggplot">print.ggplot</a></code> and <code>link{benchplot}</code> for
for functions that contain the complete set of steps for generating
a ggplot2 plot.
</p>

<hr>
<h2 id='ggsave'>Save a ggplot (or other grid object) with sensible defaults (ggtern version)</h2><span id='topic+ggsave'></span><span id='topic+grid.draw.ggplot'></span>

<h3>Description</h3>

<p><code>ggsave()</code> is a convenient function for saving a plot. It defaults to
saving the last plot that you displayed, using the size of the current
graphics device. It also guesses the type of graphics device from the
extension.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ggsave(
  filename,
  plot = last_plot(),
  device = NULL,
  path = NULL,
  scale = 1,
  width = NA,
  height = NA,
  units = c("in", "cm", "mm"),
  dpi = 300,
  limitsize = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ggsave_+3A_filename">filename</code></td>
<td>
<p>File name to create on disk.</p>
</td></tr>
<tr><td><code id="ggsave_+3A_plot">plot</code></td>
<td>
<p>Plot to save, defaults to last plot displayed.</p>
</td></tr>
<tr><td><code id="ggsave_+3A_device">device</code></td>
<td>
<p>Device to use (function or any of the recognized extensions,
e.g. <code>"pdf"</code>). By default, extracted from filename extension.
<code>ggsave</code> currently recognises eps/ps, tex (pictex), pdf, jpeg, tiff,
png, bmp, svg and wmf (windows only).</p>
</td></tr>
<tr><td><code id="ggsave_+3A_path">path</code></td>
<td>
<p>Path to save plot to (combined with filename).</p>
</td></tr>
<tr><td><code id="ggsave_+3A_scale">scale</code></td>
<td>
<p>Multiplicative scaling factor.</p>
</td></tr>
<tr><td><code id="ggsave_+3A_width">width</code>, <code id="ggsave_+3A_height">height</code></td>
<td>
<p>Plot dimensions, defaults to size of current graphics
device.</p>
</td></tr>
<tr><td><code id="ggsave_+3A_units">units</code></td>
<td>
<p>Units for width and height when specified explicitly (in, cm,
or mm)</p>
</td></tr>
<tr><td><code id="ggsave_+3A_dpi">dpi</code></td>
<td>
<p>Resolution used for raster outputs.</p>
</td></tr>
<tr><td><code id="ggsave_+3A_limitsize">limitsize</code></td>
<td>
<p>When <code>TRUE</code> (the default), <code>ggsave</code> will not
save images larger than 50x50 inches, to prevent the common error of
specifying dimensions in pixels.</p>
</td></tr>
<tr><td><code id="ggsave_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to graphics device</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
data(Feldspar)
base = ggtern(Feldspar,aes(Ab,An,Or)) + geom_point()
ggsave("./output.pdf",base,width=10,height=10)

## End(Not run)
</code></pre>

<hr>
<h2 id='ggtern'>ggtern Constructor</h2><span id='topic+ggtern'></span><span id='topic+constructor'></span>

<h3>Description</h3>

<p>Plots in <code>ggtern</code> are instigated via the default constructor: <code>ggtern(...)</code>, which is essentially a convenience wrapper for the following: 
<code>ggplot{...} + coord_tern()</code>, indeed, if one wishes to use <code>ggplot{...} + coord_tern()</code> then this is quite satisfactory.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ggtern(data = NULL, mapping = aes(), ..., environment = parent.frame())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ggtern_+3A_data">data</code></td>
<td>
<p>Default dataset to use for plot. If not already a data.frame,
will be converted to one by <code><a href="ggplot2.html#topic+fortify">fortify()</a></code>. If not specified,
must be supplied in each layer added to the plot.</p>
</td></tr>
<tr><td><code id="ggtern_+3A_mapping">mapping</code></td>
<td>
<p>Default list of aesthetic mappings to use for plot.
If not specified, must be supplied in each layer added to the plot.</p>
</td></tr>
<tr><td><code id="ggtern_+3A_...">...</code></td>
<td>
<p>additional arguments passed through to <code><a href="#topic+ggplot">ggplot</a></code></p>
</td></tr>
<tr><td><code id="ggtern_+3A_environment">environment</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a> Used prior to tidy
evaluation.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>ggtern(...)</code> returns an object of class <code>ggplot</code>.
</p>


<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>


<h3>See Also</h3>

<p>For an introduction to the <code>ggtern</code> package, (including many examples), click <a href="#topic+ggtern-package">HERE</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ggtern(data=data.frame(x=1,y=1,z=1),aes(x,y,z)) + geom_point()
</code></pre>

<hr>
<h2 id='ggtern_labels'>Change Axis labels and legend titles</h2><span id='topic+ggtern_labels'></span><span id='topic+llab'></span><span id='topic+tlab'></span><span id='topic+rlab'></span><span id='topic+wlab'></span><span id='topic+tarrowlab'></span><span id='topic+larrowlab'></span><span id='topic+rarrowlab'></span><span id='topic+ggtern-labels'></span><span id='topic+Tlab'></span><span id='topic+Llab'></span><span id='topic+Rlab'></span><span id='topic+Wlab'></span><span id='topic+zlab'></span><span id='topic+Tarrowlab'></span><span id='topic+Larrowlab'></span><span id='topic+Rarrowlab'></span>

<h3>Description</h3>

<p>New label modification functions, equivalent to the original functions in ggplot2 (<code><a href="ggplot2.html#topic+xlab">xlab</a></code> and <code><a href="ggplot2.html#topic+ylab">ylab</a></code>) 
however for the new axes used in the <code>ggtern</code> package
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Tlab(label, labelarrow = label)

Llab(label, labelarrow = label)

Rlab(label, labelarrow = label)

Wlab(label)

zlab(label)

Tarrowlab(label)

Larrowlab(label)

Rarrowlab(label)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ggtern_labels_+3A_label">label</code></td>
<td>
<p>the desired label</p>
</td></tr>
<tr><td><code id="ggtern_labels_+3A_labelarrow">labelarrow</code></td>
<td>
<p>the desired label, if different to label, for the markers along the procession arrows</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>Tlab</code> and <code><a href="ggplot2.html#topic+xlab">xlab</a></code> are equivalent (when <code>T='x'</code> in the <code><a href="#topic+coord_tern">coord_tern</a></code> definition), 
as is <code>Llab</code> and <code><a href="ggplot2.html#topic+ylab">ylab</a></code> (when <code>L='y'</code>) , and <code>Rlab</code> and <code>zlab</code> (when <code>R='z'</code>), for other
assignments when <code>coord_tern</code> is defined, the equivalence is not the case, however, if <code>T='XXX'</code>, 
then <code>Tlab</code> will be the same as <code>XXXlab</code> (where <code>XXX</code> can be substituted for <code>'x', 'y' or 'z'</code>, and likewise for
<code>Llab</code> and <code>Rlab</code>). 
</p>
<p><code>zlab</code> is new to <code>ggtern</code>, but is intended to be an analogous to <code>xlab</code> and <code>ylab</code> 
as per the definitions in <code>ggplot2</code>.
</p>


<h3>Arrow Label</h3>

<p><code>Tarrowlab, Larrowlab</code> and <code>Rarrowlab</code> permits setting a different label to the apex labels.
</p>


<h3>Arrow Label Suffix</h3>

<p><code>Wlab</code> changes the ternary arrow suffix (ie atomic percent, weight percent etc) when the ternary arrows are enabled 
(see <code><a href="#topic+theme_showarrows">theme_showarrows</a></code> and <code><a href="#topic+weight_percent">weight_percent</a></code>)
</p>


<h3>Precedence</h3>

<p><code>AAAlab</code> takes precedence over <code>BBBlab</code> (where <code>AAA</code> represents <code>T, L or R</code> and <code>BBB</code> 
represents <code>x, y or z</code>)
</p>


<h3>Use of Expressions</h3>

<p>Expressions can be used in the labels, in the event that the user wishes to render formula, 
subscripts or superscripts, see the last example below.
</p>


<h3>Creation of Aliasses</h3>

<p>Aliasses exist for <code>Tlab</code>, <code>Llab</code>, <code>Rlab</code> and <code>Wlab</code>, which are <code>tlab</code>, <code>llab</code>, <code>rlab</code> and <code>wlab</code>. 
These aliasses produce an identical result, and are there for convenience (as opposed to having an error thrown) 
in the event that the user forgets to use an upper-case letter.
</p>
<p>Arguments for these functions can be provided as a <code><a href="base.html#topic+character">character</a></code> or <code><a href="base.html#topic+expression">expression</a></code>, 
although other values can be inputed (such as, for example, scalar <code><a href="base.html#topic+numeric">numeric</a></code> or <code><a href="base.html#topic+logical">logical</a></code>).
ggtern also imports the <code><a href="latex2exp.html#topic+latex2exp">latex2exp</a></code> package, and these formats can be parsed too.
</p>


<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>


<h3>See Also</h3>

<p>ggplot2 <code><a href="ggplot2.html#topic+labs">labs</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(Feldspar)
plot &lt;- ggtern(data=Feldspar,aes(Ab,An,Or)) +  geom_point() + 
        xlab("ABC") + ylab("DEF") + zlab("GHI")

#Alternatives, and Arrow Label
plot + Tlab("TOP") + Llab("LHS") + Rlab("RHS") + 
  Tarrowlab("Top Arrow Label") + Larrowlab("Left Arrow Label") + Rarrowlab("Right Arrow Label") +
  theme_showarrows() + Wlab("WEIGHT")

#Demonstrate the use of the latex2exp integration, and seperate arrow labels.  
ggtern(data=Feldspar,aes(x=Ab,y=An,z=Or)) + 
labs( x       = "NaAlSi_3O_8",
      xarrow  = "Albite, NaAlSi_3O_8",
      y       = "(Na,K)AlSi_3O_8",
      yarrow  = "Anorthite (Na,K)AlSi_3O_8",
      z       = "KAlSi_3O_8",
      zarrow  = "Orthoclase KAlSi_3O_8") + 
theme_latex(TRUE) + 
geom_point() + 
theme_showarrows() + 
theme_clockwise() + 
weight_percent()
</code></pre>

<hr>
<h2 id='ggtern_labels_arrow_suffix'>Atomic, Weight or Custom Percentage Suffix</h2><span id='topic+ggtern_labels_arrow_suffix'></span><span id='topic+percent_weight'></span><span id='topic+weight_percent'></span><span id='topic+percent_atomic'></span><span id='topic+atomic_percent'></span><span id='topic+percent_custom'></span><span id='topic+custom_percent'></span>

<h3>Description</h3>

<p>By default there are no suffixes behind the arrow label marker (the arrow up next to the ternary axes), 
and these functions appends to the set of arrow labels, a value to indicate the nature of the scale.
</p>
<p><code>percent_weight</code> adds 'Wt. %' to the arrow marker label as a suffix
</p>
<p><code>weight_percent</code> is an alias for <code>percent_weight()</code>
</p>
<p><code>percent_atomic</code> adds 'At. %' to the arrow marker label as a suffix
</p>
<p><code>atomic_percent</code> is an alias for <code>percent_atomic()</code>
</p>
<p><code>percent_custom</code> adds a custom suffix to the arrow label marker.
</p>
<p><code>custom_percent</code> is an alias for <code>percent_custom()</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>percent_weight()

weight_percent()

percent_atomic()

atomic_percent()

percent_custom(x)

custom_percent(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ggtern_labels_arrow_suffix_+3A_x">x</code></td>
<td>
<p>the custom suffix</p>
</td></tr>
</table>


<h3>Details</h3>

<p>These are convenience wrappers to <code>labs(W="XYZ")</code>.
</p>


<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>


<h3>See Also</h3>

<p>Convenience functions for <code><a href="#topic+Tlab">T, L, R, W labels</a></code>
</p>

<hr>
<h2 id='ggtern_themes'>ggtern themes</h2><span id='topic+ggtern_themes'></span><span id='topic+theme_ggtern'></span><span id='topic+theme_gray'></span><span id='topic+theme_bw'></span><span id='topic+theme_linedraw'></span><span id='topic+theme_light'></span><span id='topic+theme_minimal'></span><span id='topic+theme_classic'></span><span id='topic+theme_dark'></span><span id='topic+theme_void'></span><span id='topic+theme_darker'></span><span id='topic+theme_custom'></span><span id='topic+theme_rgbw'></span><span id='topic+theme_rgbg'></span><span id='topic+theme_matrix'></span><span id='topic+theme_tropical'></span><span id='topic+theme_bluedark'></span><span id='topic+theme_bluelight'></span><span id='topic+theme_bvbw'></span><span id='topic+theme_bvbg'></span>

<h3>Description</h3>

<p>Themes set the general aspect of the plot such as the colour of the
background, gridlines, the size and colour of fonts.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>theme_ggtern(base_size = 11, base_family = "")

theme_gray(base_size = 11, base_family = "")

theme_bw(base_size = 12, base_family = "")

theme_linedraw(base_size = 12, base_family = "")

theme_light(base_size = 12, base_family = "")

theme_minimal(base_size = 12, base_family = "")

theme_classic(base_size = 12, base_family = "")

theme_dark(base_size = 12, base_family = "")

theme_void(base_size = 12, base_family = "")

theme_darker(base_size = 12, base_family = "")

theme_custom(
  base_size = 12,
  base_family = "",
  tern.plot.background = NULL,
  tern.panel.background = NULL,
  col.T = "black",
  col.L = "black",
  col.R = "black",
  col.grid.minor = "white"
)

theme_rgbw(base_size = 12, base_family = "")

theme_rgbg(base_size = 12, base_family = "")

theme_matrix(base_size = 12, base_family = "")

theme_tropical(base_size = 12, base_family = "")

theme_bluedark(base_size = 12, base_family = "")

theme_bluelight(base_size = 12, base_family = "")

theme_bvbw(base_size = 12, base_family = "")

theme_bvbg(base_size = 12, base_family = "")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ggtern_themes_+3A_base_size">base_size</code></td>
<td>
<p>base font size</p>
</td></tr>
<tr><td><code id="ggtern_themes_+3A_base_family">base_family</code></td>
<td>
<p>base font family</p>
</td></tr>
<tr><td><code id="ggtern_themes_+3A_tern.plot.background">tern.plot.background</code></td>
<td>
<p>colour of background colour to plot area</p>
</td></tr>
<tr><td><code id="ggtern_themes_+3A_tern.panel.background">tern.panel.background</code></td>
<td>
<p>colour of panel background of plot area</p>
</td></tr>
<tr><td><code id="ggtern_themes_+3A_col.t">col.T</code></td>
<td>
<p>colour of top axis, ticks labels and major gridlines</p>
</td></tr>
<tr><td><code id="ggtern_themes_+3A_col.l">col.L</code></td>
<td>
<p>colour of left axis, ticks, labels and major gridlines</p>
</td></tr>
<tr><td><code id="ggtern_themes_+3A_col.r">col.R</code></td>
<td>
<p>colour of right axis, ticks, labels and major gridlines</p>
</td></tr>
<tr><td><code id="ggtern_themes_+3A_col.grid.minor">col.grid.minor</code></td>
<td>
<p>the colour of the minor grid
<code>theme_custom</code> is a convenience function to allow the user to control the basic theme colours very easily.</p>
</td></tr>
</table>


<h3>Details</h3>


<dl>
<dt><code>theme_gray</code></dt><dd>
<p>The signature ggplot2 theme with a grey background and white gridlines,
designed to put the data forward yet make comparisons easy.
</p>
</dd>
<dt><code>theme_bw</code></dt><dd>
<p>The classic dark-on-light ggplot2 theme. May work better for presentations
displayed with a projector.
</p>
</dd>
<dt><code>theme_linedraw</code></dt><dd>
<p>A theme with only black lines of various widths on white backgrounds,
reminiscent of a line drawings. Serves a purpose similar to <code>theme_bw</code>.
Note that this theme has some very thin lines (&lt;&lt; 1 pt) which some journals
may refuse.</p>
</dd>
<dt><code>theme_light</code></dt><dd>
<p>A theme similar to <code>theme_linedraw</code> but with light grey lines and axes,
to direct more attention towards the data.
</p>
</dd>
<dt><code>theme_dark</code></dt><dd>
<p>The dark cousin of <code>theme_light</code>, with similar line sizes but a dark background. 
Useful to make thin coloured lines pop out.
</p>
</dd>
<dt><code>theme_darker</code></dt><dd>
<p>A darker cousing to <code>theme_dark</code>, with a dark panel background.
</p>
</dd>
<dt><code>theme_minimal</code></dt><dd>
<p>A minimalistic theme with no background annotations.
</p>
</dd>
<dt><code>theme_classic</code></dt><dd>
<p>A classic-looking theme, with x and y axis lines and no gridlines.
</p>
</dd>
<dt><code>theme_rgbw</code></dt><dd>
<p>A theme with white background, red, green and blue axes and gridlines
</p>
</dd>
<dt><code>theme_rgbg</code></dt><dd>
<p>A theme with grey background, red, green and blue axes and gridlines
</p>
</dd>
<dt><code>theme_void</code></dt><dd> 
<p>A completely empty theme.
</p>
</dd>
<dt><code>theme_custom</code></dt><dd>
<p>Theme with custom basic colours
</p>
</dd>
<dt><code>theme_matrix</code></dt><dd>
<p>Theme with very dark background and bright green features
</p>
</dd>
<dt><code>theme_tropical</code></dt><dd>
<p>Theme with tropical colours
</p>
</dd>
<dt><code>theme_bluelight</code></dt><dd>
<p>A blue theme with light background and dark features
</p>
</dd>
<dt><code>theme_bluedark</code></dt><dd>
<p>A blue theme with dark background and light features
</p>
</dd>
<dt><code>theme_bvbw</code></dt><dd>
<p>A black/vermillion/blue theme with white background, for colorblind sensitive readers, see references.
</p>
</dd>
<dt><code>theme_bvbg</code></dt><dd>
<p>A black/vermillion/blue theme with grey background, for colorblind sensitive readers, see references.
</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>


<h3>References</h3>

<p>Okabe, Masataka, and Kei Ito. &quot;How to make figures and presentations that are friendly to color blind people.&quot; 
University of Tokyo (2002). http://jfly.iam.u-tokyo.ac.jp/color/
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
#Create a list of the theme suffixes
themesOrg = c('gray','bw','linedraw','light',
              'dark','minimal','classic','void')
themesNew = c('custom','darker','rgbw','rgbg','tropical',
              'matrix','bluelight','bluedark','bvbw','bvbg')

#Iterate over all the suffixes, creating a list of plots
plotThemes = function(themes){
   grobs = lapply(themes,function(x){
     thmName = sprintf("theme_%s",x)
     thm = do.call(thmName,args=list(base_size=9))
     df  = data.frame(label=thmName)
     ggtern(df) + facet_wrap(~label) + thm
   })
   grobs
}

#Arrange the Original Themes
grid.arrange(grobs=plotThemes(themesOrg),top = "Collection of Themes (Original)")

#Arrange the New Themes
grid.arrange(grobs=plotThemes(themesNew),top = "Collection of Themes (New Themes)")


</code></pre>

<hr>
<h2 id='kde2d.weighted'>Two-Dimentional Kernel Density Estimation (Weighted)</h2><span id='topic+kde2d.weighted'></span><span id='topic+kde'></span><span id='topic+kde2dweighted'></span>

<h3>Description</h3>

<p>Based of an algorithm found online at <code>https://stat.ethz.ch/pipermail/r-help/2006-June/107405.html</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>kde2d.weighted(x, y, h, n = 25, lims = c(range(x), range(y)), w)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="kde2d.weighted_+3A_x">x</code></td>
<td>

<p>x coordinate of data
</p>
</td></tr>
<tr><td><code id="kde2d.weighted_+3A_y">y</code></td>
<td>

<p>y coordinate of data
</p>
</td></tr>
<tr><td><code id="kde2d.weighted_+3A_h">h</code></td>
<td>

<p>vector of bandwidths for x and y directions.  Defaults to
normal reference bandwidth (see <code><a href="MASS.html#topic+bandwidth.nrd">bandwidth.nrd</a></code>). A scalar
value will be taken to apply to both directions.
</p>
</td></tr>
<tr><td><code id="kde2d.weighted_+3A_n">n</code></td>
<td>

<p>Number of grid points in each direction.  Can be scalar or a length-2
integer vector.
</p>
</td></tr>
<tr><td><code id="kde2d.weighted_+3A_lims">lims</code></td>
<td>

<p>The limits of the rectangle covered by the grid as <code>c(xl, xu, yl, yu)</code>.
</p>
</td></tr>
<tr><td><code id="kde2d.weighted_+3A_w">w</code></td>
<td>
<p>numeric value or vector of same length as x (and y), for weighting, if not provided, 
a unified weighting of '1' will which will result in the regular density calculation.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>


<h3>See Also</h3>

<p><code><a href="MASS.html#topic+kde2d">kde2d</a></code>
</p>

<hr>
<h2 id='label_formatter'><code>label_formatter</code> is a function that formats / parses labels for use in the grid.</h2><span id='topic+label_formatter'></span>

<h3>Description</h3>

<p><code>label_formatter</code> is a function that formats / parses labels for use in the grid.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>label_formatter(label, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="label_formatter_+3A_label">label</code></td>
<td>
<p>character label</p>
</td></tr>
<tr><td><code id="label_formatter_+3A_...">...</code></td>
<td>
<p>additional arguments</p>
</td></tr>
</table>

<hr>
<h2 id='labels_tern'>Generate Axis Labels</h2><span id='topic+labels_tern'></span><span id='topic+getLabels'></span>

<h3>Description</h3>

<p>Calculates the Labels for Major or Minor Gridlines based on the input limits.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>labels_tern(
  limits = c(0, 1),
  breaks = breaks_tern(limits),
  format = "%g",
  factor = 100
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="labels_tern_+3A_limits">limits</code></td>
<td>
<p>the scale limits</p>
</td></tr>
<tr><td><code id="labels_tern_+3A_breaks">breaks</code></td>
<td>
<p>numeric denoting the breaks to produce corresponding labels</p>
</td></tr>
<tr><td><code id="labels_tern_+3A_format">format</code></td>
<td>
<p>the formatting string to be passed through to the <code><a href="base.html#topic+sprintf">sprintf</a></code> function</p>
</td></tr>
<tr><td><code id="labels_tern_+3A_factor">factor</code></td>
<td>
<p>the multiplicative factor</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>


<h3>Examples</h3>

<pre><code class='language-R'>labels_tern()
labels_tern(limits = c(0,.5))
</code></pre>

<hr>
<h2 id='mahalanobis_distance'>Mahalanobis Distance</h2><span id='topic+mahalanobis_distance'></span>

<h3>Description</h3>

<p>Modified version of the code provided in the <code><a href="chemometrics.html#topic+drawMahal">drawMahal</a></code> package
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mahalanobis_distance(
  x,
  x.mean,
  x.cov,
  whichlines = c(0.975, 0.9, 0.75),
  m = 360
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mahalanobis_distance_+3A_x">x</code></td>
<td>
<p>data</p>
</td></tr>
<tr><td><code id="mahalanobis_distance_+3A_x.mean">x.mean</code></td>
<td>
<p>mean value</p>
</td></tr>
<tr><td><code id="mahalanobis_distance_+3A_x.cov">x.cov</code></td>
<td>
<p>coveriance value</p>
</td></tr>
<tr><td><code id="mahalanobis_distance_+3A_whichlines">whichlines</code></td>
<td>
<p>the confidence values</p>
</td></tr>
<tr><td><code id="mahalanobis_distance_+3A_m">m</code></td>
<td>
<p>the number of values to return for each line</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list containing mdX and mdY values.
</p>


<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>

<hr>
<h2 id='position_jitter_tern'>Jitter Ternary Points</h2><span id='topic+position_jitter_tern'></span><span id='topic+PositionJitterTern'></span>

<h3>Description</h3>

<p>Jitter ternary points to avoid overplotting.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>position_jitter_tern(x = NULL, y = NULL, z = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="position_jitter_tern_+3A_x">x</code>, <code id="position_jitter_tern_+3A_y">y</code>, <code id="position_jitter_tern_+3A_z">z</code></td>
<td>
<p>amount of positional jitter</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>


<h3>See Also</h3>

<p>Other position adjustments: 
<code><a href="#topic+position_nudge_tern">position_nudge_tern</a>()</code>
</p>

<hr>
<h2 id='position_nudge_tern'>Nudge Ternary Points.</h2><span id='topic+position_nudge_tern'></span><span id='topic+PositionNudgeTern'></span>

<h3>Description</h3>

<p>This is useful if you want to nudge labels a little ways from their points, input data will normalised to sum to unity before applying the particular
nudge, so the nudge variables should be as a fraction ie (0,1)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>position_nudge_tern(x = 0, y = 0, z = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="position_nudge_tern_+3A_x">x</code>, <code id="position_nudge_tern_+3A_y">y</code>, <code id="position_nudge_tern_+3A_z">z</code></td>
<td>
<p>Amount of compositions to nudge</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>


<h3>See Also</h3>

<p>Other position adjustments: 
<code><a href="#topic+position_jitter_tern">position_jitter_tern</a>()</code>
</p>

<hr>
<h2 id='predictdf2d'>Prediction data frame</h2><span id='topic+predictdf2d'></span>

<h3>Description</h3>

<p>Get predictions with standard errors into data frame
</p>


<h3>Usage</h3>

<pre><code class='language-R'>predictdf2d(model, xseq, yseq)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="predictdf2d_+3A_model">model</code></td>
<td>
<p>the model to predict</p>
</td></tr>
<tr><td><code id="predictdf2d_+3A_xseq">xseq</code>, <code id="predictdf2d_+3A_yseq">yseq</code></td>
<td>
<p>the x and y values</p>
</td></tr>
</table>

<hr>
<h2 id='rgb2hex'>Convert RGB to HEX Color</h2><span id='topic+rgb2hex'></span>

<h3>Description</h3>

<p>Function to convert rgb color to hex color
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rgb2hex(r = 0, g = 0, b = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rgb2hex_+3A_r">r</code>, <code id="rgb2hex_+3A_g">g</code>, <code id="rgb2hex_+3A_b">b</code></td>
<td>
<p>colors, numeric scalar between 0 and 255</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Black
rgb2hex(0,0,0)

#White
rgb2hex(255,255,255)

#Red
rgb2hex(255,0,0)

#Green
rgb2hex(0,255,0) 

#Blue
rgb2hex(0,0,255)

#Vectorised sequence of blue
rgb2hex(0,0,seq(0,255,by=5))
</code></pre>

<hr>
<h2 id='scale_X_continuous'>Ternary Position Scales</h2><span id='topic+scale_X_continuous'></span><span id='topic+scale_T_continuous'></span><span id='topic+scale_L_continuous'></span><span id='topic+scale_R_continuous'></span>

<h3>Description</h3>

<p>Define the ternary continuous position scales (T, L &amp; R).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scale_T_continuous(
  name = waiver(),
  limits = NULL,
  breaks = waiver(),
  minor_breaks = waiver(),
  labels = waiver(),
  ...
)

scale_L_continuous(
  name = waiver(),
  limits = NULL,
  breaks = waiver(),
  minor_breaks = waiver(),
  labels = waiver(),
  ...
)

scale_R_continuous(
  name = waiver(),
  limits = NULL,
  breaks = waiver(),
  minor_breaks = waiver(),
  labels = waiver(),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="scale_X_continuous_+3A_name">name</code></td>
<td>
<p>The name of the scale. Used as the axis or legend title. If
<code>waiver()</code>, the default, the name of the scale is taken from the first
mapping used for that aesthetic. If <code>NULL</code>, the legend title will be
omitted.</p>
</td></tr>
<tr><td><code id="scale_X_continuous_+3A_limits">limits</code></td>
<td>
<p>One of:
</p>

<ul>
<li> <p><code>NULL</code> to use the default scale range
</p>
</li>
<li><p> A numeric vector of length two providing limits of the scale.
Use <code>NA</code> to refer to the existing minimum or maximum
</p>
</li>
<li><p> A function that accepts the existing (automatic) limits and returns
new limits. Also accepts rlang <a href="rlang.html#topic+as_function">lambda</a> function
notation.
Note that setting limits on positional scales will <strong>remove</strong> data outside of the limits.
If the purpose is to zoom, use the limit argument in the coordinate system
(see <code><a href="ggplot2.html#topic+coord_cartesian">coord_cartesian()</a></code>).
</p>
</li></ul>
</td></tr>
<tr><td><code id="scale_X_continuous_+3A_breaks">breaks</code></td>
<td>
<p>One of:
</p>

<ul>
<li> <p><code>NULL</code> for no breaks
</p>
</li>
<li> <p><code>waiver()</code> for the default breaks computed by the
<a href="scales.html#topic+new_transform">transformation object</a>
</p>
</li>
<li><p> A numeric vector of positions
</p>
</li>
<li><p> A function that takes the limits as input and returns breaks
as output (e.g., a function returned by <code><a href="scales.html#topic+breaks_extended">scales::extended_breaks()</a></code>).
Also accepts rlang <a href="rlang.html#topic+as_function">lambda</a> function notation.
</p>
</li></ul>
</td></tr>
<tr><td><code id="scale_X_continuous_+3A_minor_breaks">minor_breaks</code></td>
<td>
<p>One of:
</p>

<ul>
<li> <p><code>NULL</code> for no minor breaks
</p>
</li>
<li> <p><code>waiver()</code> for the default breaks (one minor break between
each major break)
</p>
</li>
<li><p> A numeric vector of positions
</p>
</li>
<li><p> A function that given the limits returns a vector of minor breaks. Also
accepts rlang <a href="rlang.html#topic+as_function">lambda</a> function notation. When
the function has two arguments, it will be given the limits and major
breaks.
</p>
</li></ul>
</td></tr>
<tr><td><code id="scale_X_continuous_+3A_labels">labels</code></td>
<td>
<p>One of:
</p>

<ul>
<li> <p><code>NULL</code> for no labels
</p>
</li>
<li> <p><code>waiver()</code> for the default labels computed by the
transformation object
</p>
</li>
<li><p> A character vector giving labels (must be same length as <code>breaks</code>)
</p>
</li>
<li><p> An expression vector (must be the same length as breaks). See ?plotmath for details.
</p>
</li>
<li><p> A function that takes the breaks as input and returns labels
as output. Also accepts rlang <a href="rlang.html#topic+as_function">lambda</a> function
notation.
</p>
</li></ul>
</td></tr>
<tr><td><code id="scale_X_continuous_+3A_...">...</code></td>
<td>
<p>not used</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>

<hr>
<h2 id='strip_unapproved'>Strip Unapproved Layers</h2><span id='topic+strip_unapproved'></span>

<h3>Description</h3>

<p><code>strip_unapproved</code> is an internal function which essentially 'deletes' layers 
from the current ternary plot in the event that such layers are not one of the 
approved layers. For a layer to be approved, it must use an approved geometry, and also an approved stat. 
Refer to <a href="#topic+approved_layers">approved_layers</a> for the current list of approved geometries and stats
</p>


<h3>Usage</h3>

<pre><code class='language-R'>strip_unapproved(layers)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="strip_unapproved_+3A_layers">layers</code></td>
<td>
<p>list of the layers to strip unnaproved layers from.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>strip_unapproved</code> returns a list of approved layers (may be empty if none are approved).
</p>

<hr>
<h2 id='tern_limits'>Restrict Ternary Limits</h2><span id='topic+tern_limits'></span><span id='topic+tern_limit'></span><span id='topic+limit_tern'></span><span id='topic+limits_tern'></span>

<h3>Description</h3>

<p><code>tern_limits</code> (or its aliasses) appends new <code>T</code>, <code>L</code> and <code>R</code> ternary continuous scales, 
where the maximum scale value is specified, and, where the minimums for each are solved.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tern_limit(T = 1, L = 1, R = 1, ...)

limit_tern(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tern_limits_+3A_t">T</code>, <code id="tern_limits_+3A_l">L</code>, <code id="tern_limits_+3A_r">R</code></td>
<td>
<p>numeric value (scalar) of the maximum <code>T,L,R</code> species limit for each scale respectively</p>
</td></tr>
<tr><td><code id="tern_limits_+3A_...">...</code></td>
<td>
<p>other arguments to pass to ALL of <code>scale_X_continuous</code> (<code>X = T, L, R</code>)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The contra value (ie minimum value) for the <code>T</code>, <code>L</code> and <code>R</code> species is solved using
linear equations, therefore, if the solution is degenerate, or, the solution results in a zero range in either
of the proposed scales, then a warning message will be reported and an empty list returned. Note that 
<code>limits_tern(...), limit_tern(...)</code> and <code>tern_limit(...)</code> are all aliasses for 
the main function, <code>tern_limits(...)</code> and can be used interchangeably.
</p>


<h3>Value</h3>

<p>Either an empty list (when no solution can be found), or a list containing one of each 
of <code>scale_X_continuous</code> (<code>X = T, L, R</code>)
</p>


<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>


<h3>See Also</h3>

<p><code><a href="#topic+scale_T_continuous">scale_T_continuous</a></code>, <code><a href="#topic+scale_L_continuous">scale_L_continuous</a></code> and <code><a href="#topic+scale_R_continuous">scale_R_continuous</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Display a non-zoomed and zoomed plot side by side
data(Feldspar)
df.lims = data.frame(Ab = c(1,.25,.25), 
                     An = c(0,.75,.00), 
                     Or = c(0,.00,.75))
#Build the non-zoomed plot
A = ggtern(Feldspar,aes(Ab,An,Or)) +
 stat_density_tern(geom='polygon',aes(fill=..level..,alpha=..level..)) + 
 geom_point() + 
 geom_mask() + 
 geom_polygon(data=df.lims,color='red',alpha=0,size=0.5) +
 guides(color='none',fill='none',alpha='none') + 
 labs(title = "Non-Zoomed")

#Build the zoomed plot
B = A + 
  tern_limits(T=max(df.lims$An), L=max(df.lims$Ab), R=max(df.lims$Or)) +
  labs(title = "Zoomed")

#Arrange the above plots side by side for illustration
grid.arrange(A,B,ncol=2,top="Demonstration of Limiting Region")
</code></pre>

<hr>
<h2 id='ternary_transformation'>Ternary / Cartesian Transformation</h2><span id='topic+ternary_transformation'></span><span id='topic+tlr2xy'></span><span id='topic+xy2tlr'></span>

<h3>Description</h3>

<p>Functions to transform data from the ternary to cartesian spaces and vice-versa.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tlr2xy(data, coord, ..., inverse = FALSE, scale = TRUE, drop = FALSE)

xy2tlr(data, coord, ..., inverse = FALSE, scale = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ternary_transformation_+3A_data">data</code></td>
<td>
<p><code>data.frame</code> containing columns as required by the coordinate system. 
Data will be scaled so that the rows sum to unity, in the event that the user has provided 
data that does not.</p>
</td></tr>
<tr><td><code id="ternary_transformation_+3A_coord">coord</code></td>
<td>
<p>Coordinate system object, inheriting the <code><a href="#topic+CoordTern">CoordTern</a></code> class, error will
be thrown if a different coordinate system is sent to this method</p>
</td></tr>
<tr><td><code id="ternary_transformation_+3A_...">...</code></td>
<td>
<p>not used</p>
</td></tr>
<tr><td><code id="ternary_transformation_+3A_inverse">inverse</code></td>
<td>
<p>logical if we are doing a forward (FALSE) or reverse (TRUE) transformation</p>
</td></tr>
<tr><td><code id="ternary_transformation_+3A_scale">scale</code></td>
<td>
<p>logical as to whether the transformed coordinates are scaled (or reverse scaled in the case of inverse 
transformation) according to the training routine defined in the coordinate system.</p>
</td></tr>
<tr><td><code id="ternary_transformation_+3A_drop">drop</code></td>
<td>
<p>drop all non columns which are not involved in the transformation</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>tlr2xy</code> transforms from the ternary to cartesian spaces, an inverse transformation 
transforms between cartesian to ternary spaces
</p>
<p><code>xy2tlr</code> transforms from the cartesian to ternary spaces, an inverse transformation 
transforms between ternary to cartesian spaces, it is the reciprocal to <code><a href="#topic+tlr2xy">tlr2xy</a></code>, therefore
an inverse transformation in <code><a href="#topic+xy2tlr">xy2tlr</a></code> function is the same as the forward 
transformation in <code><a href="#topic+tlr2xy">tlr2xy</a></code>
</p>


<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(Feldspar)
dfm = plyr::rename(Feldspar,c("Ab"="x","An"="y","Or"="z"))
crd = coord_tern()
fwd = tlr2xy(dfm,crd)
rev = tlr2xy(fwd,crd,inverse = TRUE)
</code></pre>

<hr>
<h2 id='theme'>Modify components of a theme</h2><span id='topic+theme'></span>

<h3>Description</h3>

<p>Custom theme elements for ggtern
</p>


<h3>Arguments</h3>

<table>
<tr><td><code id="theme_+3A_tern.axis.arrow">tern.axis.arrow</code></td>
<td>
<p>Base Arrow Line ('element_line'; inherits from 'axis.line')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.axis.arrow.t">tern.axis.arrow.T</code></td>
<td>
<p>Arrow Line for TOP Axis ('element_line'; inherits from 'tern.axis.arrow')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.axis.arrow.l">tern.axis.arrow.L</code></td>
<td>
<p>Arrow Line for LHS Axis ('element_line'; inherits from 'tern.axis.arrow')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.axis.arrow.r">tern.axis.arrow.R</code></td>
<td>
<p>Arrow Line for RHS Axis ('element_line'; inherits from 'tern.axis.arrow')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.axis.arrow.text">tern.axis.arrow.text</code></td>
<td>
<p>Base Arrow Label ('element_text'; inherits from 'tern.axis.text')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.axis.arrow.text.t">tern.axis.arrow.text.T</code></td>
<td>
<p>Arrow Label on TOP Axis ('element_text'; inherits from 'tern.axis.arrow.text')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.axis.arrow.text.l">tern.axis.arrow.text.L</code></td>
<td>
<p>Arrow Label on LHS Axis ('element_text'; inherits from 'tern.axis.arrow.text')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.axis.arrow.text.r">tern.axis.arrow.text.R</code></td>
<td>
<p>Arrow Label on RHS Axis ('element_text'; inherits from 'tern.axis.arrow.text')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.axis.arrow.start">tern.axis.arrow.start</code></td>
<td>
<p>Proportion of Axis when Arrow Starts ('numeric')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.axis.arrow.finish">tern.axis.arrow.finish</code></td>
<td>
<p>Proportion of Axis when Arrow Finishes ('numeric')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.axis.arrow.sep">tern.axis.arrow.sep</code></td>
<td>
<p>Arrows Seperation from Axis ('numeric')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.axis.arrow.show">tern.axis.arrow.show</code></td>
<td>
<p>Arrows Show or Hide ('logical')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.axis.clockwise">tern.axis.clockwise</code></td>
<td>
<p>Clockwise or Anticlockwise Precession ('logical')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.axis.vshift">tern.axis.vshift</code></td>
<td>
<p>Amount to nudge the plot vertically ('numeric')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.axis.hshift">tern.axis.hshift</code></td>
<td>
<p>Amount to nudge the plot horizontally ('numeric')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.axis.line.ontop">tern.axis.line.ontop</code></td>
<td>
<p>Bring Axis Borders on Top of Everything (Depreciated) ('logical')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.axis.line">tern.axis.line</code></td>
<td>
<p>Base Line ('element_line'; inherits from 'axis.line')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.axis.line.t">tern.axis.line.T</code></td>
<td>
<p>Line for TOP Axis ('element_line'; inherits from 'tern.axis.line')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.axis.line.l">tern.axis.line.L</code></td>
<td>
<p>Line for LHS Axis ('element_line'; inherits from 'tern.axis.line')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.axis.line.r">tern.axis.line.R</code></td>
<td>
<p>Line for RHS Axis ('element_line'; inherits from 'tern.axis.line')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.axis.text">tern.axis.text</code></td>
<td>
<p>Base Text ('element_text'; inherits from 'axis.text')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.axis.text.t">tern.axis.text.T</code></td>
<td>
<p>Text for TOP Axis ('element_text'; inherits from 'tern.axis.text')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.axis.text.l">tern.axis.text.L</code></td>
<td>
<p>Text for LHS Axis ('element_text'; inherits from 'tern.axis.text')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.axis.text.r">tern.axis.text.R</code></td>
<td>
<p>Text for RHS Axis ('element_text'; inherits from 'tern.axis.text')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.axis.text.show">tern.axis.text.show</code></td>
<td>
<p>Axis Labels Show or Hide ('logical')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.axis.ticks">tern.axis.ticks</code></td>
<td>
<p>Base Ticks ('element_line'; inherits from 'axis.ticks')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.axis.ticks.length.major">tern.axis.ticks.length.major</code></td>
<td>
<p>Ticks Major Ticklength ('unit')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.axis.ticks.length.minor">tern.axis.ticks.length.minor</code></td>
<td>
<p>Ticks Minor Ticklength ('unit')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.axis.ticks.major">tern.axis.ticks.major</code></td>
<td>
<p>Base Major Ticks ('element_line'; inherits from 'tern.axis.ticks')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.axis.ticks.major.t">tern.axis.ticks.major.T</code></td>
<td>
<p>Base Major Ticks for TOP Axis ('element_line'; inherits from 'tern.axis.ticks.major')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.axis.ticks.major.l">tern.axis.ticks.major.L</code></td>
<td>
<p>Base Major Ticks for LHS Axis ('element_line'; inherits from 'tern.axis.ticks.major')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.axis.ticks.major.r">tern.axis.ticks.major.R</code></td>
<td>
<p>Base Major Ticks for RHS Axis ('element_line'; inherits from 'tern.axis.ticks.major')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.axis.ticks.minor">tern.axis.ticks.minor</code></td>
<td>
<p>Base Minor Ticks ('element_line'; inherits from 'tern.axis.ticks')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.axis.ticks.minor.t">tern.axis.ticks.minor.T</code></td>
<td>
<p>Base Minor Ticks for TOP Axis ('element_line'; inherits from 'tern.axis.ticks.minor')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.axis.ticks.minor.l">tern.axis.ticks.minor.L</code></td>
<td>
<p>Base Minor Ticks for LHS Axis ('element_line'; inherits from 'tern.axis.ticks.minor')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.axis.ticks.minor.r">tern.axis.ticks.minor.R</code></td>
<td>
<p>Base Minor Ticks for RHS Axis ('element_line'; inherits from 'tern.axis.ticks.minor')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.axis.ticks.outside">tern.axis.ticks.outside</code></td>
<td>
<p>Ticks Outside or Inside ('logical')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.axis.ticks.primary.show">tern.axis.ticks.primary.show</code></td>
<td>
<p>Ticks Show Primary ('logical')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.axis.ticks.secondary.show">tern.axis.ticks.secondary.show</code></td>
<td>
<p>Ticks Show Secondary ('logical')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.axis.title">tern.axis.title</code></td>
<td>
<p>Base Apex Title ('element_text'; inherits from 'axis.title')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.axis.title.t">tern.axis.title.T</code></td>
<td>
<p>Apex Title for TOP Axis ('element_text'; inherits from 'tern.axis.title')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.axis.title.l">tern.axis.title.L</code></td>
<td>
<p>Apex Title for LHS Axis ('element_text'; inherits from 'tern.axis.title')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.axis.title.r">tern.axis.title.R</code></td>
<td>
<p>Apex Title for RHS Axis ('element_text'; inherits from 'tern.axis.title')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.axis.title.show">tern.axis.title.show</code></td>
<td>
<p>Apex Titles Show or Hide ('logical')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.panel.expand">tern.panel.expand</code></td>
<td>
<p>The amount to expand the ternary plotting panel, in ratio to npc units ('numeric')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.panel.grid.major">tern.panel.grid.major</code></td>
<td>
<p>Base Major Gridline ('element_line'; inherits from 'panel.grid.major')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.panel.grid.major.t">tern.panel.grid.major.T</code></td>
<td>
<p>Major Gridline for TOP Axis ('element_line'; inherits from 'tern.panel.grid.major')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.panel.grid.major.l">tern.panel.grid.major.L</code></td>
<td>
<p>Major Gridline for LHS Axis ('element_line'; inherits from 'tern.panel.grid.major')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.panel.grid.major.r">tern.panel.grid.major.R</code></td>
<td>
<p>Major Gridline for RHS Axis ('element_line'; inherits from 'tern.panel.grid.major')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.panel.grid.major.show">tern.panel.grid.major.show</code></td>
<td>
<p>Show or Hide Major Gridline ('logical')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.panel.grid.minor">tern.panel.grid.minor</code></td>
<td>
<p>Base Minor Gridline ('element_line'; inherits from 'panel.grid.minor')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.panel.grid.minor.t">tern.panel.grid.minor.T</code></td>
<td>
<p>Minor Gridline for TOP Axis ('element_line'; inherits from 'tern.panel.grid.minor')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.panel.grid.minor.l">tern.panel.grid.minor.L</code></td>
<td>
<p>Minor Gridline for LHS Axis ('element_line'; inherits from 'tern.panel.grid.minor')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.panel.grid.minor.r">tern.panel.grid.minor.R</code></td>
<td>
<p>Minor Gridline for RHS Axis ('element_line'; inherits from 'tern.panel.grid.minor')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.panel.grid.minor.show">tern.panel.grid.minor.show</code></td>
<td>
<p>Show or Hide Minor Gridline ('logical')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.panel.grid.ontop">tern.panel.grid.ontop</code></td>
<td>
<p>Bring grids, axis and axis labels on top of everything else ('logical')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.panel.mask.show">tern.panel.mask.show</code></td>
<td>
<p>Show or Hide the Clipping Mask ('logical')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.panel.rotate">tern.panel.rotate</code></td>
<td>
<p>The amount to rotate the ternary diagram in degrees ('numeric')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.plot.background">tern.plot.background</code></td>
<td>
<p>Background of Ternary Clipping Area** ('element_rect'; inherits from 'plot.background')</p>
</td></tr>
<tr><td><code id="theme_+3A_tern.plot.latex">tern.plot.latex</code></td>
<td>
<p>Whether to parse characters as latex commands ('logical')</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Modify components of a theme (ggtern version)
</p>
<p>Use 'theme()' to modify individual components of a theme, allowing
you to control the appearance of all non-data components of the plot.
'theme()' only affects a single plot: see [theme_update()] if
you want modify the active theme, to affect all subsequent plots.
</p>


<h3>Theme inheritance</h3>

<p>Theme elements inherit properties from other theme elements.
For example, 'axis.title.x' inherits from 'axis.title',
which in turn inherits from 'text'. All text elements inherit
directly or indirectly from 'text'; all lines inherit from
'line', and all rectangular objects inherit from 'rect'.
This means that you can modify the appearance of multiple elements by
setting a single high-level component.
</p>


<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+theme">theme</a></code>
</p>

<hr>
<h2 id='theme_arrowlength'>Change the Length of the Ternary Arrows</h2><span id='topic+theme_arrowlength'></span><span id='topic+theme_arrowcustomlength'></span><span id='topic+theme_arrowsmall'></span><span id='topic+theme_arrowshort'></span><span id='topic+theme_arrownormal'></span><span id='topic+theme_arrowdefault'></span><span id='topic+theme_arrowlarge'></span><span id='topic+theme_arrowlong'></span>

<h3>Description</h3>

<p>A set of convenience functions to rapidly change the length of the ternary arrows, the convenience functions include presets 
(short, normal, long), or makes provision for the user to specify custom fractional starting and ending values relative to the
size of the ternary axis. In the event that the user elects to specify the values via the <code>theme_arrowcustomlength</code> (or its aliasses), 
then the user can specify a single scalar value which apply to all three (3) arrows, or, alternatively, can provide a numeric vector
of length three (3), one for each arrow respectively.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>theme_arrowcustomlength(
  start = getOption("tern.arrow.start"),
  finish = getOption("tern.arrow.finish")
)

theme_arrowlength(
  start = getOption("tern.arrow.start"),
  finish = getOption("tern.arrow.finish")
)

theme_arrowsmall()

theme_arrowshort()

theme_arrownormal()

theme_arrowdefault()

theme_arrowlarge()

theme_arrowlong()
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="theme_arrowlength_+3A_start">start</code></td>
<td>
<p>a numeric scalar, or numeric vector of length three (3), representing the fractional [0,1] position along 
the axis where the arrow/s should START.</p>
</td></tr>
<tr><td><code id="theme_arrowlength_+3A_finish">finish</code></td>
<td>
<p>a numeric scalar, or numeric vector of length three (3), representing the fractional [0,1] position along 
the axis where the arrow/s should FINISH.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If the ternary arrows are switched OFF 
(via the <code><a href="#topic+theme_hidearrows">theme_hidearrows</a></code> command, or the <code>theme(tern.axis.arrow.show=FALSE)</code> theme element), then under such circumstance,
these convenience functions will turn ON the ternary arrows, essentially running <code><a href="#topic+theme_showarrows">theme_showarrows</a></code> or <code>theme(tern.axis.arrow.show=TRUE)</code>
</p>
<p>If for some reason, the <code>start</code> and <code>finish</code> arguments are identical, then the ternary arrows will be switched OFF, tantamount to
running the <code><a href="#topic+theme_hidearrows">theme_hidearrows</a></code> convenience function.
</p>


<h3>Custom Length</h3>

<p><code>theme_arrowcustomlength</code> or <code>theme_arrowlength</code> (alias) sets the ternary arrow lengths to values as specified by the user, 
occupying a length between the values as specified by the  <code>start</code> and <code>finish</code> arguments (fractions) relative to the 
length of the ternary axis.
</p>


<h3>Short Arrow Length</h3>

<p><code>theme_arrowsmall</code> or <code>theme_arrowshort</code>(alias) reduces the ternary arrows to short arrows, occupying a length between 
<strong>0.4</strong> and <strong>0.6</strong> of the length of the ternary axis
</p>


<h3>Normal/Default Arrow Length</h3>

<p><code>theme_arrownormal</code> or <code>theme_arrowdefault</code>(alias) reduces the ternary arrows to normally sized arrows, occupying a length between 
<code>getOption("tern.arrow.start")</code> and <code>getOption("tern.arrow.finish")</code> global option values, whatever they may be.
</p>


<h3>Long Arrow Length</h3>

<p><code>theme_arrowlarge</code> or <code>theme_arrowlong</code>(alias) increases the ternary arrows to long arrows occupying a length between 
<strong>0.2</strong> and <strong>0.8</strong> of the length of the ternary axis
</p>


<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>


<h3>See Also</h3>

<p><code>theme_arrowbaseline</code> and <code>theme(tern.axis.arrow.sep=X)</code> for methods to adjust the separation distance of the ternary arrows 
from the ternary axes.
</p>


<h3>Examples</h3>

<pre><code class='language-R'> #Create base plot
 plot &lt;- ggtern(data=data.frame(x=1,y=1,z=1),aes(x,y,z)) + geom_point()

 #Pre-Specified Values
 plot + theme_arrowsmall()
 
 ## Alternatives, Uncomment lines below
 plot + theme_arrownormal()
 plot + theme_arrowlarge()
 plot + theme_arrowcustomlength(.1,.8)
 plot + theme_arrowlength(start=c(.1,.25,.4),finish=c(.9,.75,.6))
</code></pre>

<hr>
<h2 id='theme_bordersontop'>Render Borders on Top</h2><span id='topic+theme_bordersontop'></span><span id='topic+theme_bordersonbottom'></span>

<h3>Description</h3>

<p>Convenience functions to render the axis border lines on top (or bottom) of the other layers. 
By default the borders are rendered in the background (bottom)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>theme_bordersontop()

theme_bordersonbottom()
</code></pre>


<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>

<hr>
<h2 id='theme_clockwise'>Direction of Ternary Rotation</h2><span id='topic+theme_clockwise'></span><span id='topic+theme_anticlockwise'></span><span id='topic+theme_counterclockwise'></span><span id='topic+tern_clockwise'></span><span id='topic+tern_anticlockwise'></span><span id='topic+tern_counterclockwise'></span>

<h3>Description</h3>

<p><code>theme_clockwise, theme_anticlockwise</code> (or their aliasses) are function that instructs the axes 
precession to be clockwise or anticlockwise respectively.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>theme_clockwise()

theme_anticlockwise()

theme_counterclockwise()
</code></pre>


<h3>Details</h3>

<p>If the <code>tern.axis.arrow.show</code> value is <code>FALSE</code>, these functions will set it to <code>TRUE</code>.
</p>


<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>

<hr>
<h2 id='theme_complete'>List of Available Themes</h2><span id='topic+theme_complete'></span>

<h3>Description</h3>

<p><code>ggtern</code> ships with a number of complete themes, summarized as follows. 
These themes combine the base themes available to <code>ggplot2</code> and a number of NEW themes, which
are unique to <code>ggtern</code>.
</p>

<dl>
<dt> Black and White Theme:</dt><dd> 
<p><code><a href="#topic+theme_bw">theme_bw(...)</a></code>
</p>
</dd>
<dt>Minimal Theme:</dt><dd>
<p><code><a href="#topic+theme_minimal">theme_minimal(...)</a></code>
</p>
</dd>
<dt>Classic Theme:</dt><dd>
<p><code><a href="#topic+theme_classic">theme_classic(...)</a></code>
</p>
</dd>
<dt>Gray and White Theme:</dt><dd>
<p><code><a href="#topic+theme_gray">theme_gray(...)</a></code>
</p>
</dd>
<dt>Red, Green, Blue and White Theme:</dt><dd>
<p><code><a href="#topic+theme_rgbw">theme_rgbw(...)</a></code>
</p>
</dd>
<dt>Red, Green, Blue and Gray Theme:</dt><dd>
<p><code><a href="#topic+theme_rgbg">theme_rgbg(...)</a></code>
</p>
</dd>
<dt>Dark Theme:</dt><dd>
<p><code><a href="#topic+theme_dark">theme_dark(...)</a></code>
</p>
</dd>
<dt>Darker Theme:</dt><dd>
<p><code><a href="#topic+theme_darker">theme_darker(...)</a></code>
</p>
</dd>
<dt>Light Theme:</dt><dd>
<p><code><a href="#topic+theme_light">theme_light(...)</a></code>
</p>
</dd>
<dt>Theme with Only Black Lines:</dt><dd>
<p><code><a href="#topic+theme_linedraw">theme_linedraw(...)</a></code>
</p>
</dd>
<dt>Matrix Theme:</dt><dd>
<p><code><a href="#topic+theme_matrix">theme_matrix(...)</a></code>
</p>
</dd>
<dt>Tropical Theme:</dt><dd>
<p><code><a href="#topic+theme_tropical">theme_tropical(...)</a></code>
</p>
</dd>
<dt>BlueLight Theme:</dt><dd>
<p><code><a href="#topic+theme_bluelight">theme_bluelight(...)</a></code>
</p>
</dd>
<dt>BlueDark Theme:</dt><dd>
<p><code><a href="#topic+theme_bluedark">theme_bluedark(...)</a></code>
</p>
</dd>
<dt>Black Vermillion Blue Theme (White Background):</dt><dd>
<p><code><a href="#topic+theme_bvbw">theme_bvbw(...)</a></code>
</p>
</dd>
<dt>Black Vermillion Blue Theme (Grey Background):</dt><dd>
<p><code><a href="#topic+theme_bvbg">theme_bvbg(...)</a></code>
</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ggtern_themes">ggtern_themes</a></code>
</p>

<hr>
<h2 id='theme_convenience_functions'>Theme Convenience Functions</h2><span id='topic+theme_convenience_functions'></span><span id='topic+convenience_functions'></span><span id='topic+theme_convenience'></span>

<h3>Description</h3>

<p><code>ggtern</code> has made available a number of convenience functions for rapid tweaking of the various theme elements, 
for a full list of the available theme elements which can be manually modified, see <a href="#topic+theme_elements">HERE</a>.
</p>


<h3>Convenience Functions</h3>

<p>Some of the Convenience functions that ship with <code>ggtern</code>, to assist in the rapid modification of
key theme elements:
</p>

<ul>
<li> <p><code><a href="#topic+theme_showtitles">Show/Hide Axis Titles</a></code>
</p>
</li>
<li> <p><code><a href="#topic+theme_showarrows">Show/Hide Arrows</a></code> 
</p>
</li>
<li> <p><code><a href="#topic+theme_showgrid">Show/Hide Grids</a></code>
</p>
</li>
<li> <p><code><a href="#topic+theme_showlabels">Show/Hide Axis Ticklabels</a></code>
</p>
</li>
<li> <p><code><a href="#topic+theme_showprimary">Show/Hide Primary/Secondary Ticks</a></code>
</p>
</li>
<li> <p><code><a href="#topic+theme_ticksinside">Ticks Inside or Outside of the Main Plot Area</a></code>
</p>
</li>
<li> <p><code><a href="#topic+theme_arrowcustomlength">Set Length of arrows</a></code> 
</p>
</li>
<li> <p><code><a href="#topic+theme_clockwise">Clockwise/Anticlockwise Axis Precession</a></code> 
</p>
</li>
<li> <p><code><a href="#topic+theme_rotate">Rotate the plot by X degrees or radians</a></code>
</p>
</li>
<li> <p><code><a href="#topic+theme_mesh">Create a mesh of 'n' Major/Minor gridlines</a></code>
</p>
</li>
<li> <p><code><a href="#topic+theme_latex">Enable/Disable parsing of labels according to latex markup</a></code>
</p>
</li>
<li> <p><code><a href="#topic+theme_showmask">Turn off the clipping mask</a></code>
</p>
</li>
<li> <p><code><a href="#topic+custom_percent">Atomic or Weight Percent Arrow Label Suffix.</a></code>
</p>
</li></ul>



<h3>Manual Modification</h3>

<p>For manual modification on a per-element basis:
</p>

<ul>
<li> <p><code><a href="#topic+theme_elements">Ternary Theme Elements</a></code> 
</p>
</li></ul>



<h3>Default Themes</h3>

<p>Default (complete) themes which ship with <code>ggtern</code>:
</p>

<ul>
<li> <p><code><a href="#topic+theme_complete">Complete Themes</a></code> 
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>
#Load data and create the base plot.
plot &lt;- ggtern() + theme_bw() + 
 theme(tern.axis.ticks.length.major=unit(3.0,'mm'),
       tern.axis.ticks.length.minor=unit(1.5,'mm'))
plot

#Show Arrows
last_plot() + theme_showarrows()

#Major/Minor Grids?
last_plot() + theme_nogrid_minor()
last_plot() + theme_nogrid_major()
last_plot() + theme_showgrid()

#Clockwise/Anticlockwise Precession
last_plot() + theme_clockwise()

#Ticks Inside or Outside
last_plot() + theme_ticksinside()

#Show/Hide BOTH Primary and Secondary Ticks
last_plot() + theme_showticks()
last_plot() + theme_hideticks()

#Show/Hide EITHER Primary OR Secondary Ticks.
last_plot() + theme_showprimary() + theme_hidesecondary()
last_plot() + theme_hideprimary() + theme_showsecondary()

#Atomic / Weight Percent
last_plot() + theme_showarrows() + atomic_percent() #+weight_percent()
last_plot() + theme_showarrows() + custom_percent("Atomic Percent")

#Rotation
last_plot() + theme_rotate(60)
</code></pre>

<hr>
<h2 id='theme_elements'>New Theme Elements</h2><span id='topic+theme_elements'></span>

<h3>Description</h3>

<p><code>ggtern</code> creates many new theme elements and inheritances, the following is an outline:
</p>


<h3>Details</h3>

<p>Theme elements can inherit properties from other theme elements.
For example, <code>axis.title.x</code> inherits from <code>axis.title</code>, 
which in turn inherits from <code>text</code>. All text elements inherit
directly or indirectly from <code>text</code>; all lines inherit from
<code>line</code>, and all rectangular objects inherit from <code>rect</code>.
</p>
<p>Modifying the newly created items requires the same procedures as introduced in the ggplot2 <code><a href="ggplot2.html#topic+theme">theme</a></code> documentation.
Some convenience functions have been also newly created, proceed to <code><a href="#topic+theme_convenience_functions">theme_convenience_functions</a></code> for additional information.
</p>


<h3>New/Additional Inheritance Structures</h3>

<p>**  <strong>NB:</strong> <code>tern.panel.background</code>, whilst the ternary area is 'triangular' per-se, <code><a href="ggplot2.html#topic+element_rect">element_rect</a></code> has been used, 
as it actually holds NO information regarding the geometry (width, height), only fill, color, 
size and linetype border (ie the style of how it will be rendered).
</p>


<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>

<hr>
<h2 id='theme_gridsontop'>Render Grids on Top</h2><span id='topic+theme_gridsontop'></span><span id='topic+theme_gridsonbottom'></span>

<h3>Description</h3>

<p>Convenience function to render the major and minor grids on top (or bottom) of the other layers.
By default the grids are rendered in the background (bottom)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>theme_gridsontop()

theme_gridsonbottom()
</code></pre>


<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>

<hr>
<h2 id='theme_latex'>Parse Labels w Latex Markup</h2><span id='topic+theme_latex'></span><span id='topic+theme_showlatex'></span><span id='topic+theme_nolatex'></span><span id='topic+theme_hidelatex'></span>

<h3>Description</h3>

<p>A series of convenience functions that either enable or disable the use of the <code><a href="latex2exp.html#topic+latex2exp">latex2exp</a></code> package 
for parsing the various text elements using the <code><a href="latex2exp.html#topic+TeX">TeX</a></code> method. In many cases, by turning the latex parsing
on, this prevents confusing use of expressions to obtain greeks, superscripts, subscripts etc... Note that when 
latex parsing is enabled, this can override specific formatting directives from the element tree, see the third 
and fourth example below.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>theme_latex(value = TRUE)

theme_showlatex()

theme_nolatex()

theme_hidelatex()
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="theme_latex_+3A_value">value</code></td>
<td>
<p>logical as to whether to enable latex parsing or not</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>


<h3>See Also</h3>

<p><code><a href="latex2exp.html#topic+TeX">TeX</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
#Demonstrate  without latex parsing
ggtern() + 
 theme_latex(FALSE) + 
 labs(title = '\\textit{Plot Title}')

#Same as before, but turn on the latex parsing
last_plot() + 
 theme_latex(TRUE)

#Demonstrate latex overriding the bold face
ggtern() + 
 labs(title = '\\textit{Plot Title}') + 
 theme_latex(TRUE) + 
 theme('plot.title' = element_text(face='bold'))

#Turn off latex parsing, bold title revealed
last_plot() + 
 theme_latex(FALSE)
 
</code></pre>

<hr>
<h2 id='theme_legend_position'>Position Legend in Convenient Locations</h2><span id='topic+theme_legend_position'></span>

<h3>Description</h3>

<p>A convenience function to position the legend at various internal positions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>theme_legend_position(x = "topleft")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="theme_legend_position_+3A_x">x</code></td>
<td>
<p>the position, valid values are topleft, middleleft, bottomleft, topright, middleright and bottomright, or the shortened versions 
respecitvely, tl, ml, bl, tr, mr, br</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>

<hr>
<h2 id='theme_mesh'>Create Grid Mesh</h2><span id='topic+theme_mesh'></span>

<h3>Description</h3>

<p>Convenience function for creation of a grid mesh of an ideal number of 'n' major breaks. Note that 
the value of 'n' is the target number of breaks, and due to the use of the <code><a href="base.html#topic+pretty">pretty</a></code> function
within <code><a href="#topic+breaks_tern">breaks_tern</a></code> convenience function, may not be strictly adhered or reflected.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>theme_mesh(n = 5, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="theme_mesh_+3A_n">n</code></td>
<td>
<p>the 'target' number of major breaks</p>
</td></tr>
<tr><td><code id="theme_mesh_+3A_...">...</code></td>
<td>
<p>additional arguments to be passed through to <code><a href="#topic+tern_limits">tern_limits</a></code></p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Default example of a target n=10 mesh
ggtern() + 
 theme_mesh(10)

#Default example, of a target n=5 mesh, with limiting region
ggtern() + 
 theme_mesh(5,T=.5,L=.5,R=.5)
</code></pre>

<hr>
<h2 id='theme_noarrows'>Show or Hide the Ternary Arrows</h2><span id='topic+theme_noarrows'></span><span id='topic+theme_hidearrows'></span><span id='topic+theme_showarrows'></span>

<h3>Description</h3>

<p><code>theme_noarrows</code> is a function that appends to the current theme a flag to switch OFF the ternary arrows
</p>


<h3>Usage</h3>

<pre><code class='language-R'>theme_noarrows()

theme_hidearrows()

theme_showarrows()
</code></pre>


<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>

<hr>
<h2 id='theme_nomask'>Show or Hide the Clipping Mask</h2><span id='topic+theme_nomask'></span><span id='topic+theme_hidemask'></span><span id='topic+theme_showmask'></span>

<h3>Description</h3>

<p>Convenience Function to Show or Hide the Clipping Mask, <code>theme_showmask</code> is a function that 
appends to the current theme a flag to switch ON the clipping mask, whilst, <code>theme_nomask</code> (or <code>theme_hidemask</code>) is a function 
that appends to the current theme a flag to switch OFF the clipping mask
</p>


<h3>Usage</h3>

<pre><code class='language-R'>theme_nomask()

theme_hidemask()

theme_showmask()
</code></pre>


<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>

<hr>
<h2 id='theme_novar_tern'>Blank one variable's annotations in ternary plot</h2><span id='topic+theme_novar_tern'></span>

<h3>Description</h3>

<p>This function blanks the grid and axis elements for one variable in a ternary plot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>theme_novar_tern(species, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="theme_novar_tern_+3A_species">species</code></td>
<td>
<p>A character giving the species. Choices are &quot;T&quot;, &quot;L&quot; and &quot;R&quot;, but is not case sensitive</p>
</td></tr>
<tr><td><code id="theme_novar_tern_+3A_...">...</code></td>
<td>
<p>Further arguments, including additional selections otherwise used in species</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function takes a user-specified character corresponding to one of the three
ternary variables, and constructs a <code>theme</code> function which adds blank elements
for that variable's grid elements and axis elements chosen from the <span class="pkg">ggtern</span>
package.  This new function is then executed which &quot;adds&quot; this theme to the open
ternary plot.
</p>
<p>The logic of the species selection is pretty transparent so it may be possible to
customize this function to add further affected elements as desired.  However the
computing on the language which drives this function has not been thoroughly
tested.  Neither has this function been tested with non-ternary plots available in
the <span class="pkg">ggplot2</span> framework.
</p>


<h3>Value</h3>

<p>This function is called for the side effect of adding a theme which actually blanks
the grid and axis elements for the chosen ternary species.
</p>


<h3>Author(s)</h3>

<p>Nicholas Hamilton, John Szumiloski
</p>


<h3>Examples</h3>

<pre><code class='language-R'>base = ggtern() + theme_rgbg()
base + theme_novar_tern("L")
base + theme_novar_tern(c("T","L"))
base + theme_novar_tern('L',R)

</code></pre>

<hr>
<h2 id='theme_rotate'>Rotate Ternary Diagram</h2><span id='topic+theme_rotate'></span>

<h3>Description</h3>

<p>Convenience function to rotate the diagram by an angle in degrees or radians.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>theme_rotate(degrees = 60, radians = degrees * pi/180)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="theme_rotate_+3A_degrees">degrees</code>, <code id="theme_rotate_+3A_radians">radians</code></td>
<td>
<p>specify the angle to rotate the plot by in either degrees or radians. 
If both <code>degrees</code> and <code>radians</code> are specified, then precedence is given to 
the <code>radians</code> argument. If no value is specified, the plot will rotate by 60 degrees</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x = ggtern(data.frame(x=1,y=1,z=1),aes(x,y,z))
for(a in seq(0,60,by=15))
print(x + theme_rotate(a))
</code></pre>

<hr>
<h2 id='theme_showgrid'>Show or Hide Grid</h2><span id='topic+theme_showgrid'></span><span id='topic+theme_nogrid_minor'></span><span id='topic+theme_tern_nogrid_minor'></span><span id='topic+theme_hidegrid_minor'></span><span id='topic+theme_showgrid_minor'></span><span id='topic+theme_nogrid_major'></span><span id='topic+theme_tern_nogrid_major'></span><span id='topic+theme_nogrid'></span><span id='topic+theme_tern_nogrid'></span><span id='topic+theme_hidegrid'></span><span id='topic+theme_showgrid_major'></span><span id='topic+theme_hidegrid_major'></span>

<h3>Description</h3>

<p>A set of convenience functions to enable or disable the use of major or minor (or both) gridlines.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>theme_showgrid()

theme_hidegrid()

theme_nogrid()

theme_tern_nogrid()

theme_showgrid_major()

theme_hidegrid_major()

theme_nogrid_major()

theme_tern_nogrid_major()

theme_showgrid_minor()

theme_hidegrid_minor()
</code></pre>


<h3>Details</h3>

<p>These flags operate at the 'rendering' level, and, supercede the presence of theme elements, therefore, 
</p>
<p><code>theme_hidegrid(...)</code> or its aliases will PREVENT rendering of grid elements, 
irrespective of whether those grid elements are valid (renderable). From the counter perspective, 
</p>
<p><code>theme_showgrid(...)</code> or its aliases will ALLOW rendering of grid elements, subject to those grid 
elements being valid (renderable, ie say <code><a href="ggplot2.html#topic+element_line">element_line</a></code> as opposed to <code><a href="ggplot2.html#topic+element_blank">element_blank</a></code>). 
</p>
<p><code>theme_hidegrid</code> or <code>theme_nogrid</code> (alias) is a function which <strong>disables</strong> both MAJOR and MINOR gridlines.
</p>
<p><code>theme_showgrid_major</code> is a function which <strong>enables</strong> MAJOR gridlines.
</p>
<p><code>theme_hidegrid_major</code> or <code>theme_nogrid_major</code> (alias) is a function which <strong>disables</strong> MAJOR gridlines.
</p>
<p><code>theme_showgrid_major</code> is a function which <strong>enables</strong> MINOR gridlines.
</p>
<p><code>theme_hidegrid_minor</code> or <code>theme_nogrid_minor</code> (alias) is a function which <strong>disables</strong> MINOR gridlines.
</p>
<p><code>theme_showgrid</code> is a function which <strong>enables</strong> both MAJOR and MINOR gridlines.
</p>


<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  #Load data
  data(Feldspar)
  plot &lt;- ggtern(data=Feldspar,aes(Ab,An,Or)) + 
          geom_point()   + #Layer 
          theme_bw()       #For clarity
  plot
  plot = plot + theme_hidegrid(); plot
  plot + theme_showgrid()
</code></pre>

<hr>
<h2 id='theme_showlabels'>Show or Hide Axis Ticklabels</h2><span id='topic+theme_showlabels'></span><span id='topic+theme_hidelabels'></span><span id='topic+theme_nolabels'></span>

<h3>Description</h3>

<p>Convenience functions to enable or disable the axis ticklabels
</p>


<h3>Usage</h3>

<pre><code class='language-R'>theme_showlabels()

theme_hidelabels()

theme_nolabels()
</code></pre>


<h3>Details</h3>

<p><code>theme_showlabels</code> is a function that apends to the current theme a flag to switch ON the axis ticklabels, whilst 
<code>theme_hidelabels</code> or <code>theme_nolabels</code> (Alias) are functions that apends to the current theme a flag 
to switch OFF the axis ticklabels
</p>


<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>

<hr>
<h2 id='theme_showprimary'>Show or Hide the Primary/Secondary Ticks</h2><span id='topic+theme_showprimary'></span><span id='topic+theme_noprimary'></span><span id='topic+theme_hideprimary'></span><span id='topic+theme_nosecondary'></span><span id='topic+theme_hidesecondary'></span><span id='topic+theme_showsecondary'></span><span id='topic+theme_showticks'></span><span id='topic+theme_hideticks'></span><span id='topic+theme_noticks'></span>

<h3>Description</h3>

<p>Convenience functions to enable or disable the axis primary or secondary ticks.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>theme_noprimary()

theme_hideprimary()

theme_showprimary()

theme_nosecondary()

theme_hidesecondary()

theme_showsecondary()

theme_showticks()

theme_hideticks()

theme_noticks()
</code></pre>


<h3>Details</h3>

<p>In <code>ggtern</code>, the primary ticks are deemed as being the ticks along the binary axis increasing to the apex species, primary ticks can consist of 
both major and minor ticks (major ticks have labels, and are generally longer and bolder). Therefore, there are three (3) sets of major primary ticks, and,
three (3) sets of minor primary ticks. 
</p>
<p>These convenience functions introduce the concept of secondary ticks, which, are the same items however on the 
'opposing' binary axis. 
</p>
<p>For example, considering the TOP apex species, in a plot with 'clockwise' axis precession, the primary ticks would run along the 
LHS, whilst, the secondary ticks, woudl run along the RHS. By default, the primary ticks are switched ON, whilst the secondary ticks are switched OFF and are
controlled by the <code>tern.axis.ticks.primary.show</code> and <code>tern.axis.ticks.secondary.show</code> theme elements respectively.
</p>
<p><code>theme_showsecondary</code> is a function that apends to the current theme a flag to switch ON the secondary ticks
<code>theme_showticks(), themehideticks(), theme_noticks()</code> are functions that switch ON or OFF BOTH the primary or secondary ticks.
<code>theme_nosecondary</code> or <code>theme_hidesecondary</code> (Alias) are functions that apends to the current theme a flag to switch OFF the secondary ticks
<code>theme_showprimary</code> is a function that apends to the current theme a flag to switch ON the primary ticks
<code>theme_noprimary</code> or <code>theme_hideprimary</code> (Alias) are functions that apends to the current theme a flag to switch OFF the primary ticks
</p>


<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(Feldspar)
plot &lt;- ggtern(data=Feldspar,aes(Ab,An,Or)) + geom_point() + 
  theme_showsecondary()
</code></pre>

<hr>
<h2 id='theme_showtitles'>Show or Hide the Axis (Apex) Titles</h2><span id='topic+theme_showtitles'></span><span id='topic+theme_hidetitles'></span><span id='topic+theme_notitles'></span>

<h3>Description</h3>

<p>Convenience functions to SHOW or HIDE the apex labels.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>theme_showtitles()

theme_hidetitles()

theme_notitles()
</code></pre>


<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>


<h3>Examples</h3>

<pre><code class='language-R'> #Load data
 data(Feldspar)
 ggtern(data=Feldspar,aes(An,Ab,Or)) + geom_point() + theme_bw() + theme_hidetitles()
</code></pre>

<hr>
<h2 id='theme_ticklength'>Modify the Ticklengths</h2><span id='topic+theme_ticklength'></span><span id='topic+theme_ticklength_major'></span><span id='topic+theme_ticklength_minor'></span>

<h3>Description</h3>

<p>Convenience Function for changing the major and/or minor ticklengths.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>theme_ticklength(major = NULL, minor = NULL)

theme_ticklength_major(major)

theme_ticklength_minor(minor)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="theme_ticklength_+3A_major">major</code>, <code id="theme_ticklength_+3A_minor">minor</code></td>
<td>
<p>lenth of major and minor ticklengths respectively. 
Must be a unit object, or will be ignored.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ggtern() +
  theme_ticklength(major = unit(5.0,'mm'),
                   minor = unit(2.5,'mm'))
</code></pre>

<hr>
<h2 id='theme_ticksoutside'>Place Ticks Inside or Outside</h2><span id='topic+theme_ticksoutside'></span><span id='topic+theme_ticksinside'></span>

<h3>Description</h3>

<p><code>theme_ticksoutside</code> is a function that ensures the ticks are placed OUTSIDE of the plot area, whereas, 
<code>theme_ticksinside</code> is a function that ensures the ticks are placed INSIDE of the plot area 
(opposite to <code>theme_ticksoutside</code>)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>theme_ticksoutside()

theme_ticksinside()
</code></pre>


<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>

<hr>
<h2 id='theme_zoom_X'>Zoom on Plot Region</h2><span id='topic+theme_zoom_X'></span><span id='topic+theme_zoom'></span><span id='topic+theme_zoom_T'></span><span id='topic+theme_zoom_L'></span><span id='topic+theme_zoom_R'></span><span id='topic+theme_zoom_center'></span><span id='topic+theme_zoom_M'></span>

<h3>Description</h3>

<p>A series of convenience functions for the zooming in on the middle or apex regions to various degrees.
In these convenience functions, a single value of <code>x</code> is expected, which defines the values of the apex
limits other than the point of reference, for example, <code>theme_zoom_T</code> will fix the <code>T</code> limit 
at <code>1</code>, and will adjust the balancing limits according to the argument x. Equivalent are also possible for
the <code>L</code> and <code>R</code> apexes, via the <code>theme_zoom_L</code> and <code>theme_zoom_R</code> functions respectively. 
Finally, the <code>theme_zoom_center</code> function will adjust all three apex limits, serving, as the name suggests, 
to act as a centred zoom. The examples below are fairly self explanatory.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>theme_zoom_T(x = 1, ...)

theme_zoom_L(x = 1, ...)

theme_zoom_R(x = 1, ...)

theme_zoom_center(x = 1, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="theme_zoom_X_+3A_x">x</code></td>
<td>
<p>numeric scalar</p>
</td></tr>
<tr><td><code id="theme_zoom_X_+3A_...">...</code></td>
<td>
<p>additional arguments to be passed through to <code><a href="#topic+limit_tern">limit_tern</a></code></p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Default Plot
data(Feldspar)
base = ggtern(Feldspar,aes(Ab,An,Or)) +
       theme_bw(8) +
       geom_density_tern() + 
       geom_point() + 
       labs(title="Original")

#Zoom on Left Region
A = base + theme_zoom_L(0.5) + labs(title="theme_zoom_L")

#Zoom on Right Region
B = base + theme_zoom_R(0.5) + labs(title="theme_zoom_R")

#Zoom on Top Region
C = base + theme_zoom_T(0.5) + labs(title="theme_zoom_T")

#Zoom on Center Region
D = base + theme_zoom_center(0.5) + labs(title="theme_zoom_center")

#Put all together for comparisons sake
grid.arrange(arrangeGrob(base), 
             arrangeGrob(A,B,nrow=1), 
             arrangeGrob(C,D,nrow=1), 
             ncol=1, heights=c(2,1,1),
             top = "Comparison of Zooming Functions")

</code></pre>

<hr>
<h2 id='transform_position_tern'>Convenience function to transform all position variables in a ternary plot</h2><span id='topic+transform_position_tern'></span>

<h3>Description</h3>

<p>Convenience function to transform all position variables in a ternary plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>transform_position_tern(
  df,
  trans_x = NULL,
  trans_y = NULL,
  trans_z = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="transform_position_tern_+3A_trans_x">trans_x</code>, <code id="transform_position_tern_+3A_trans_y">trans_y</code>, <code id="transform_position_tern_+3A_trans_z">trans_z</code></td>
<td>
<p>Transformation functions for x, y and z aesthetics.
(will transform x, xmin, xmax, xend etc)</p>
</td></tr>
<tr><td><code id="transform_position_tern_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code>trans_x</code> and <code>trans_y</code>.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>

<hr>
<h2 id='zzz-depreciated'>Depreciated Functions</h2><span id='topic+zzz-depreciated'></span><span id='topic+tern_stop'></span><span id='topic+clipPolygons'></span><span id='topic+polyclip'></span><span id='topic+theme_arrowbaseline'></span><span id='topic+element_ternary'></span><span id='topic+ggtern.multi'></span><span id='topic+multi'></span><span id='topic+multiplot'></span><span id='topic+point.in.sequence'></span>

<h3>Description</h3>

<p>The following is a list of functions which were once used in previous versions of ggtern, however,
have now been depreciated
</p>
<p><strong>DEPRECIATED:</strong> <code>tern_stop(...)</code> Internal Function, checks if the most recent coordinate system is ternary, and, if not, 
stops the current procedure, with a common message format
</p>
<p><strong>DEPRECIATED:</strong> <code>clipPolygons(...)</code> Using the using the PolyClip Package, This clips input polygons for 
use in the density and contour geometries.
</p>
<p><strong>DEPRECIATED:</strong> <code>theme_arrowbaseline(...)</code> The ternary arrows can have an offset unit value (see <code>tern.axis.arrow.sep</code>), 
however, it is convenient to set this relative to either the axis, ticks or axis ticklabels (since the latter
two can be hidden / removed.). This function permits this to be set
</p>
<p><strong>DEPRECIATED:</strong> <code>element_ternary(...)</code> Replaced by individual theme elements:
</p>

<ol>
<li> <p><code>tern.axis.arrow.show</code>
</p>
</li>
<li> <p><code>tern.axis.padding</code>
</p>
</li>
<li> <p><code>tern.axis.arrow.sep</code>
</p>
</li>
<li> <p><code>tern.axis.arrow.start</code>
</p>
</li>
<li> <p><code>tern.axis.arrow.finish</code>
</p>
</li>
<li> <p><code>tern.axis.vshift</code>
</p>
</li>
<li> <p><code>tern.axis.hshift</code>
</p>
</li>
<li> <p><code>tern.axis.ticks.length.major</code>
</p>
</li>
<li> <p><code>tern.axis.ticks.length.minor</code>
</p>
</li></ol>

<p><strong>DEPRECIATED:</strong> <code>ggtern.multi</code> is a function which permits the arrangement of muliple <code>ggtern</code> or <code>ggplot2</code> objects,
plots can be provided to the elipsis argument, or, as a list and at the simplest case, the number of columns can be
specified. For more advanced usage, consider the layout argument.
</p>
<p><strong>DEPRECIATED:</strong> The <code>point.in.sequence</code> function takes numeric input vectors <code>x</code> and <code>y</code> or a 
<code><a href="base.html#topic+data.frame">data.frame</a></code> object, and orders the values in such way that they are correctly sequenced by the angle subtended between each point,
and, the centroid of the total set. If the data is provided in the format of a <code>data.frame</code>, then it must 
containing columns named <code>x</code> and <code>y</code>, else an error will be thrown.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tern_stop(src = "target")

clipPolygons(
  df,
  coord,
  plyon = c("level", "piece", "group"),
  op = "intersection"
)

theme_arrowbaseline(label = "labels")

element_ternary(
  showarrows,
  padding,
  arrowsep,
  arrowstart,
  arrowfinish,
  vshift,
  hshift,
  ticklength.major,
  ticklength.minor
)

ggtern.multi(..., plotlist = NULL, cols = 1, layout = NULL)

point.in.sequence(x, y, ..., df = data.frame(x = x, y = y), close = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="zzz-depreciated_+3A_src">src</code></td>
<td>
<p>character name of current procedure</p>
</td></tr>
<tr><td><code id="zzz-depreciated_+3A_df">df</code></td>
<td>
<p>a data frame</p>
</td></tr>
<tr><td><code id="zzz-depreciated_+3A_coord">coord</code></td>
<td>
<p>a ternary coordinate system</p>
</td></tr>
<tr><td><code id="zzz-depreciated_+3A_plyon">plyon</code></td>
<td>
<p>items in the data frame to pass to ddply argument</p>
</td></tr>
<tr><td><code id="zzz-depreciated_+3A_op">op</code></td>
<td>
<p>operation method to clip, intersection, union, minus or xor</p>
</td></tr>
<tr><td><code id="zzz-depreciated_+3A_label">label</code></td>
<td>
<p>a character ('axis','ticks' or 'labels') or numeric (rounded to 0, 1 or 2) value to determine the relative location (labels is default)
if a character is provided, and it is not one of the above, an error will be thrown.</p>
</td></tr>
<tr><td><code id="zzz-depreciated_+3A_showarrows">showarrows</code></td>
<td>
<p>logical whether to show the axis directional arrows DEPRECIATED</p>
</td></tr>
<tr><td><code id="zzz-depreciated_+3A_padding">padding</code></td>
<td>
<p>the padding around the plot area to make provision for axis labels, ticks and arrows, relative to the cartesian plane. DEPRECIATED</p>
</td></tr>
<tr><td><code id="zzz-depreciated_+3A_arrowsep">arrowsep</code></td>
<td>
<p>the distance between ternary axis and ternary arrows DEPRECIATED</p>
</td></tr>
<tr><td><code id="zzz-depreciated_+3A_arrowstart">arrowstart</code></td>
<td>
<p>the proportion along the ternary axis to start the directional arrow DEPRECIATED</p>
</td></tr>
<tr><td><code id="zzz-depreciated_+3A_arrowfinish">arrowfinish</code></td>
<td>
<p>the proportion along the ternary axis to stop the directional arrow DEPRECIATED</p>
</td></tr>
<tr><td><code id="zzz-depreciated_+3A_vshift">vshift</code></td>
<td>
<p>shift the plot area vertically DEPRECIATED</p>
</td></tr>
<tr><td><code id="zzz-depreciated_+3A_hshift">hshift</code></td>
<td>
<p>shift the plot area horizontally DEPRECIATED</p>
</td></tr>
<tr><td><code id="zzz-depreciated_+3A_ticklength.major">ticklength.major</code></td>
<td>
<p>the length of the major ternary ticks as an euclidean distance 
relative to the x and y limits of the cartesian plot area. DEPRECIATED</p>
</td></tr>
<tr><td><code id="zzz-depreciated_+3A_ticklength.minor">ticklength.minor</code></td>
<td>
<p>the length of the minor ternary ticks as an euclidean distance 
relative to the x and y limits of the cartesian plot area. DEPRECIATED</p>
</td></tr>
<tr><td><code id="zzz-depreciated_+3A_...">...</code></td>
<td>
<p>additional arguments, multiple plot objects</p>
</td></tr>
<tr><td><code id="zzz-depreciated_+3A_plotlist">plotlist</code></td>
<td>
<p>alternative to the ... argument, provide a list of ggplot or grob objects, objects which do not inherit 
the ggplot or grob classes will be stripped.</p>
</td></tr>
<tr><td><code id="zzz-depreciated_+3A_cols">cols</code></td>
<td>
<p>number of columns if the layout parameter is not provided.</p>
</td></tr>
<tr><td><code id="zzz-depreciated_+3A_layout">layout</code></td>
<td>
<p>override number of cols, and provide a matrix specifying the layout</p>
</td></tr>
<tr><td><code id="zzz-depreciated_+3A_x">x</code></td>
<td>
<p>vector of numeric <code>x</code> values</p>
</td></tr>
<tr><td><code id="zzz-depreciated_+3A_y">y</code></td>
<td>
<p>vector of numeric <code>y</code> values</p>
</td></tr>
<tr><td><code id="zzz-depreciated_+3A_close">close</code></td>
<td>
<p>logical value (default <code>FALSE</code>), as to whether the set should be closed by adding (duplicating) 
the first row (after ordering) to the end of the set.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Used to define the layout of some of the ggtern plot features which are unique to the ternary diagrams , and hence, this package.
</p>
<p>By default, 1 column is specified, which means that the plots will be stacked on top of each other in a single column,
however, if say 4 plots are provided to the ellipsis or <code>plotlist</code>, with <code>cols</code> equal to 2, 
then this will produce a 2 x 2 arrangement.
</p>
<p>In regards to the <code>layout</code> argument (which overrides the <code>cols</code> argument), if it is something like matrix(c(1,2,3,3), nrow=2, byrow=TRUE),
then plot number 1 will go in the upper left, 2 will go in the upper right, and 3 will go all the way across the 
bottom - see the last example below.
</p>
<p>The arguments <code>x</code> and <code>y</code> represent cartesian coordinates. This is useful if a path is sought that 
passes through each point in the ordered set, however, no two lines in the total path cross over each other. 
Uses the <code><a href="base.html#topic+atan2">atan2</a></code> function to determine the angle (theta) between each point (x,y) and the centroid 
of the data, it then orders based on increasing values of theta.
</p>


<h3>Value</h3>

<p><code>data.frame</code> object containing the re-ordered input set.
</p>


<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>


<h3>Source</h3>

<p>http://www.cookbook-r.com/Graphs/Multiple_graphs_on_one_page_(ggplot2)/
</p>

<hr>
<h2 id='zzz-internal'>Internal Functions</h2><span id='topic+zzz-internal'></span><span id='topic+ifthenelse'></span><span id='topic+is.numericor'></span><span id='topic+find_global_tern'></span><span id='topic+tern_dep'></span><span id='topic+arrow_label_formatter'></span><span id='topic+arrow_label_formatter.default'></span><span id='topic+arrow_label_formatter.call'></span><span id='topic+arrow_label_formatter.expression'></span><span id='topic+arrow_label_formatter.character'></span><span id='topic+joinCharacterSeries'></span><span id='topic+identityInv'></span><span id='topic+getFormulaVars'></span><span id='topic+scales_add_missing_tern'></span><span id='topic+layers_add_or_remove_mask'></span>

<h3>Description</h3>

<p>INTERNAL FUNCTIONS: <code>ggtern</code> makes use of several non-exported internal functions, list are as follows:
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ifthenelse(x, a, b)

is.numericor(A, B)

find_global_tern(name, env = environment(), mode = "any")

tern_dep(version, msg)

arrow_label_formatter(label, suffix = NULL, sep = "/", ...)

## Default S3 method:
arrow_label_formatter(label, suffix = NULL, sep = "/", ...)

## S3 method for class 'call'
arrow_label_formatter(label, suffix = NULL, sep = "/", ...)

## S3 method for class 'expression'
arrow_label_formatter(label, suffix = NULL, sep = "/", ...)

## S3 method for class 'character'
arrow_label_formatter(label, suffix = NULL, sep = "/", latex = FALSE, ...)

joinCharacterSeries(x, lastWord = "and")

identityInv(z)

getFormulaVars(x, dependent = TRUE)

scales_add_missing_tern(plot)

layers_add_or_remove_mask(plot)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="zzz-internal_+3A_x">x</code></td>
<td>
<p>formula object</p>
</td></tr>
<tr><td><code id="zzz-internal_+3A_a">a</code></td>
<td>
<p>value to return if <code>x</code> is TRUE</p>
</td></tr>
<tr><td><code id="zzz-internal_+3A_b">b</code></td>
<td>
<p>value to return if <code>x</code> is FALSE</p>
</td></tr>
<tr><td><code id="zzz-internal_+3A_a">A</code></td>
<td>
<p>value to return if numeric</p>
</td></tr>
<tr><td><code id="zzz-internal_+3A_b">B</code></td>
<td>
<p>numeric value to return if <code>A</code> is NOT numeric</p>
</td></tr>
<tr><td><code id="zzz-internal_+3A_name">name</code></td>
<td>
<p>character name of object to search for</p>
</td></tr>
<tr><td><code id="zzz-internal_+3A_env">env</code></td>
<td>
<p>environment to search within as first priority</p>
</td></tr>
<tr><td><code id="zzz-internal_+3A_mode">mode</code></td>
<td>
<p>the mode to search within</p>
</td></tr>
<tr><td><code id="zzz-internal_+3A_version">version</code></td>
<td>
<p>The last version of ggplot2 where this function was good
(in other words, the last version where it was not deprecated).</p>
</td></tr>
<tr><td><code id="zzz-internal_+3A_msg">msg</code></td>
<td>
<p>The message to print.</p>
</td></tr>
<tr><td><code id="zzz-internal_+3A_label">label</code></td>
<td>
<p>character label</p>
</td></tr>
<tr><td><code id="zzz-internal_+3A_suffix">suffix</code></td>
<td>
<p>chacater suffix behind each label</p>
</td></tr>
<tr><td><code id="zzz-internal_+3A_sep">sep</code></td>
<td>
<p>the seperator between label and suffix</p>
</td></tr>
<tr><td><code id="zzz-internal_+3A_...">...</code></td>
<td>
<p>additional arguments</p>
</td></tr>
<tr><td><code id="zzz-internal_+3A_latex">latex</code></td>
<td>
<p>logical as to whether latex formats should be parsed</p>
</td></tr>
<tr><td><code id="zzz-internal_+3A_dependent">dependent</code></td>
<td>
<p>whether to return the dependent variables (TRUE) or the indpenedent variables (FALSE)</p>
</td></tr>
<tr><td><code id="zzz-internal_+3A_plot">plot</code></td>
<td>
<p>ggplot object</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Nicholas Hamilton
</p>

<hr>
<h2 id='zzz-overloaded'>Overloaded ggplot2 functions</h2><span id='topic+zzz-overloaded'></span>

<h3>Description</h3>

<p>INTERNAL FUNCTIONS (Overloaded from ggplot2): The source of the following functions originate 
from ggplot2, however, minor patches were required in order for them to function under the ggtern framework. 
Patches were mainly to do with handling the new theme elements and heirarchies.
</p>


<h3>Format</h3>

<p>functions and objects
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

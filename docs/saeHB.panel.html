<!DOCTYPE html><html><head><title>Help for package saeHB.panel</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {saeHB.panel}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#dataAr1'><p>Sample Data for Small Area Estimation using Hierarchical Bayesian Method for Rao Yu Model</p></a></li>
<li><a href='#dataAr1Ns'><p>Sample Data for Small Area Estimation using Hierarchical Bayesian Method for Rao Yu Model with Non Sampled Area</p></a></li>
<li><a href='#dataPanel'><p>Sample Data for Small Area Estimation using Hierarchical Bayesian Method for Rao Yu Model when <code>rho = 0</code></p></a></li>
<li><a href='#dataPanelNs'><p>Sample Data for Small Area Estimation using Hierarchical Bayesian Method for Rao Yu Model when <code>rho = 0</code> with Non Sampled Area</p></a></li>
<li><a href='#Panel'><p>Small Area Estimation using Hierarchical Bayesian under Rao-Yu Model with <code>rho=0</code></p></a></li>
<li><a href='#RaoYuAr1'><p>Small Area Estimation using Hierarchical Bayesian under Rao-Yu Model</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Small Area Estimation using Hierarchical Bayesian Method for Rao
Yu Model</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.1</td>
</tr>
<tr>
<td>Author:</td>
<td>Velia Tri Marliana [aut, cre], Azka Ubaidillah [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Velia Tri Marliana &lt;221810642@stis.ac.id&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>We designed this package to provide several functions for area level of small area estimation using hierarchical Bayesian (HB) method. This package provides model using panel data for variable interest.This package also provides a dataset produced by a data generation. The 'rjags' package is employed to obtain parameter estimates. Model-based estimators involves the HB estimators which include the mean and the variation of mean. For the reference, see Rao and Molina (2015).</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/Veliatrimarliana/saeHB.panel">https://github.com/Veliatrimarliana/saeHB.panel</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/Veliatrimarliana/saeHB.panel/issues">https://github.com/Veliatrimarliana/saeHB.panel/issues</a></td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Imports:</td>
<td>stringr, coda, rjags, stats, grDevices, graphics</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>JAGS (http://mcmc-jags.sourceforge.net)</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-05-10 00:25:38 UTC; velia</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-05-10 12:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='dataAr1'>Sample Data for Small Area Estimation using Hierarchical Bayesian Method for Rao Yu Model</h2><span id='topic+dataAr1'></span>

<h3>Description</h3>

<p>Dataset to simulate Small Area Estimation using Hierarchical Bayesian Method for Rao Yu Model
This data is generated by these following steps:
</p>

<ol>
<li><p> Generate random effect area <code>v</code>, random effect for area i at time point j <code>u</code>, epsilon <code class="reqn">\epsilon</code>, variance of ydi <code>vardir</code>, sampling error <code>e</code>, auxiliary <code>xdi1</code> and <code>xdi2</code>
</p>

<ul>
<li><p> Set coefficient <code class="reqn">\beta_{0}=\beta_{1}=\beta_{2}=2</code> and <code class="reqn">\rho = -0,5</code>
</p>
</li>
<li><p> Generate random effect area <code>v_{i}~N(0,1)</code>
</p>
</li>
<li><p> Generate auxiliary variable <code>xdi1_{ij}~U(1,2)</code>
</p>
</li>
<li><p> Generate auxiliary variable <code>xdi2_{ij}~U(1,3)</code>
</p>
</li>
<li><p> Generate epsilon <code class="reqn">\epsilon_{ij}</code><code>~N(0,1)</code>
</p>
</li>
<li><p> Calculate variance of ydi with <code>vardir_{ij}~IG(10,6)</code>
</p>
</li>
<li><p> Generate sampling error <code>e_{ij}~N(0,vardir_{ij})</code>
</p>
</li>
<li><p> Calculate random effect for area i at time point j <code class="reqn">u_{ij}=\rho*u_{ij-1}+\epsilon_{ij}</code>
</p>
</li>
<li><p> Calculate <code class="reqn">\mu_{ij}=\beta_{0}+\beta_{1}xdi1_{ij}+\beta_{2}xdi2_{ij}+v_{i}+u_{ij}+e_{ij}</code>
</p>
</li>
<li><p> Set <code>area=50</code> and <code>period=10</code>
</p>
</li></ul>

</li>
<li><p> Auxiliary variables <code>xdi1,xdi2</code>, direct estimation <code>y</code>, <code>area</code>, <code>period</code>, and <code>vardir</code> are combined in a dataframe called <code>dataAr1</code>
</p>
</li></ol>



<h3>Usage</h3>

<pre><code class='language-R'>dataAr1
</code></pre>


<h3>Format</h3>

<p>A data frame with 100 rows and 6 variables::
</p>

<dl>
<dt>ydi</dt><dd><p>Direct Estimation of y</p>
</dd>
<dt>area</dt><dd><p>Area (domain) of the data</p>
</dd>
<dt>period</dt><dd><p>Period (subdomain) of the data</p>
</dd>
<dt>vardir</dt><dd><p>Sampling Variance of y</p>
</dd>
<dt>xdi1</dt><dd><p>Auxiliary variable of xdi1</p>
</dd>
<dt>xdi2</dt><dd><p>Auxiliary variable of xdi2</p>
</dd>
</dl>


<hr>
<h2 id='dataAr1Ns'>Sample Data for Small Area Estimation using Hierarchical Bayesian Method for Rao Yu Model with Non Sampled Area</h2><span id='topic+dataAr1Ns'></span>

<h3>Description</h3>


<ol>
<li><p> A dataset to simulate Small Area Estimation using Hierarchical Bayesian method for Rao-Yu Model with Non-sampled Area
</p>
</li>
<li><p> This data contains NA values that indicates no sampled in at least one area.
</p>
</li></ol>



<h3>Usage</h3>

<pre><code class='language-R'>dataAr1Ns
</code></pre>


<h3>Format</h3>

<p>A data frame with 100 row and 6 column:
</p>

<dl>
<dt>ydi</dt><dd><p>Direct Estimation of y</p>
</dd>
<dt>area</dt><dd><p>Area (domain) of the data</p>
</dd>
<dt>period</dt><dd><p>Period (subdomain) of the data</p>
</dd>
<dt>vardir</dt><dd><p>Sampling Variance of y</p>
</dd>
<dt>xdi1</dt><dd><p>Auxiliary variable of xdi1</p>
</dd>
<dt>xdi2</dt><dd><p>Auxiliary variable of xdi2</p>
</dd>
</dl>


<hr>
<h2 id='dataPanel'>Sample Data for Small Area Estimation using Hierarchical Bayesian Method for Rao Yu Model when <code>rho = 0</code></h2><span id='topic+dataPanel'></span>

<h3>Description</h3>

<p>Dataset to simulate Small Area Estimation using Hierarchical Bayesian Method for Rao-Yu Model with rho = 0
This data is generated by these following steps:
</p>

<ol>
<li><p> Generate random effect area <code>v</code>, random effect for area i at time point j <code>u</code>, epsilon <code class="reqn">\epsilon</code>, variance of ydi <code>vardir</code>, sampling error <code>e</code>, auxiliary <code>xdi1</code> and <code>xdi2</code>
</p>

<ul>
<li><p> Set coefficient <code class="reqn">\beta_{0}=\beta_{1}=\beta_{2}=2</code> and <code class="reqn">\rho = -0,5</code>
</p>
</li>
<li><p> Generate random effect area <code>v_{i}~N(0,1)</code>
</p>
</li>
<li><p> Generate auxiliary variable <code>xdi1_{ij}~U(1,2)</code>
</p>
</li>
<li><p> Generate auxiliary variable <code>xdi2_{ij}~U(1,3)</code>
</p>
</li>
<li><p> Generate epsilon <code class="reqn">\epsilon_{ij}</code><code>~N(0,1)</code>
</p>
</li>
<li><p> Calculate variance of ydi with <code>vardir_{ij}~IG(10,6)</code>
</p>
</li>
<li><p> Generate sampling error <code>e_{ij}~N(0,vardir_{ij})</code>
</p>
</li>
<li><p> Calculate <code class="reqn">\mu_{ij}=\beta_{0}+\beta_{1}xdi1_{ij}+\beta_{2}xdi2_{ij}+v_{i}+\epsilon_{ij}+e_{ij}</code>
</p>
</li>
<li><p> Set <code>area=50</code> and <code>period=10</code>
</p>
</li></ul>

</li>
<li><p> Auxiliary variables <code>xdi1,xdi2</code>, direct estimation <code>y</code>, <code>area</code>, <code>period</code>, and <code>vardir</code> are combined in a dataframe called <code>dataPanel</code>
</p>
</li></ol>



<h3>Usage</h3>

<pre><code class='language-R'>dataPanel
</code></pre>


<h3>Format</h3>

<p>A data frame with 100 rows and 6 variables::
</p>

<dl>
<dt>ydi</dt><dd><p>Direct Estimation of y</p>
</dd>
<dt>area</dt><dd><p>Area (domain) of the data</p>
</dd>
<dt>period</dt><dd><p>Period (subdomain) of the data</p>
</dd>
<dt>vardir</dt><dd><p>Sampling Variance of y</p>
</dd>
<dt>xdi1</dt><dd><p>Auxiliary variable of xdi1</p>
</dd>
<dt>xdi2</dt><dd><p>Auxiliary variable of xdi2</p>
</dd>
</dl>


<hr>
<h2 id='dataPanelNs'>Sample Data for Small Area Estimation using Hierarchical Bayesian Method for Rao Yu Model when <code>rho = 0</code> with Non Sampled Area</h2><span id='topic+dataPanelNs'></span>

<h3>Description</h3>


<ol>
<li><p> A dataset to simulate Small Area Estimation using Hierarchical Bayesian method for Rao-Yu Model with Non-sampled area
</p>
</li>
<li><p> This data contains NA values that indicates no sampled in at least one area.
</p>
</li></ol>



<h3>Usage</h3>

<pre><code class='language-R'>dataPanelNs
</code></pre>


<h3>Format</h3>

<p>A data frame with 100 row and 6 column:
</p>

<dl>
<dt>ydi</dt><dd><p>Direct Estimation of y</p>
</dd>
<dt>area</dt><dd><p>Area (domain) of the data</p>
</dd>
<dt>period</dt><dd><p>Period (subdomain) of the data</p>
</dd>
<dt>vardir</dt><dd><p>Sampling Variance of y</p>
</dd>
<dt>xdi1</dt><dd><p>Auxiliary variable of xdi1</p>
</dd>
<dt>xdi2</dt><dd><p>Auxiliary variable of xdi2</p>
</dd>
</dl>


<hr>
<h2 id='Panel'>Small Area Estimation using Hierarchical Bayesian under Rao-Yu Model with <code>rho=0</code></h2><span id='topic+Panel'></span>

<h3>Description</h3>

<p>This function is implemented to variable of interest <code>ydi</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Panel(
  formula,
  area,
  period,
  vardir,
  iter.update = 3,
  iter.mcmc = 2000,
  thin = 2,
  burn.in = 1000,
  tau.e = 1,
  tau.v = 1,
  data
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Panel_+3A_formula">formula</code></td>
<td>
<p>Formula that describe the fitted model</p>
</td></tr>
<tr><td><code id="Panel_+3A_area">area</code></td>
<td>
<p>Number of areas (domain) of the data</p>
</td></tr>
<tr><td><code id="Panel_+3A_period">period</code></td>
<td>
<p>Number of periods (subdomains) for each area of the data</p>
</td></tr>
<tr><td><code id="Panel_+3A_vardir">vardir</code></td>
<td>
<p>Sampling variances of direct estimations</p>
</td></tr>
<tr><td><code id="Panel_+3A_iter.update">iter.update</code></td>
<td>
<p>Number of updates with default <code>3</code></p>
</td></tr>
<tr><td><code id="Panel_+3A_iter.mcmc">iter.mcmc</code></td>
<td>
<p>Number of total iterations per chain with default <code>2000</code></p>
</td></tr>
<tr><td><code id="Panel_+3A_thin">thin</code></td>
<td>
<p>Thinning rate, must be a positive integer with default <code>1</code></p>
</td></tr>
<tr><td><code id="Panel_+3A_burn.in">burn.in</code></td>
<td>
<p>Number of iterations to discard at the beginning with default <code>1000</code></p>
</td></tr>
<tr><td><code id="Panel_+3A_tau.e">tau.e</code></td>
<td>
<p>Variance of area-by-time effect of variable interest with default <code>1</code></p>
</td></tr>
<tr><td><code id="Panel_+3A_tau.v">tau.v</code></td>
<td>
<p>Variance of random area effect of variable interest with default <code>1</code></p>
</td></tr>
<tr><td><code id="Panel_+3A_data">data</code></td>
<td>
<p>The data frame</p>
</td></tr>
</table>


<h3>Value</h3>

<p>This function returns a list of the following objects:
</p>
<table>
<tr><td><code>Est</code></td>
<td>
<p>A vector with the values of Small Area mean Estimates using Hierarchical bayesian method</p>
</td></tr>
<tr><td><code>refVar</code></td>
<td>
<p>Estimated random effect variances</p>
</td></tr>
<tr><td><code>coef</code></td>
<td>
<p>A dataframe with the estimated model coefficient</p>
</td></tr>
<tr><td><code>plot</code></td>
<td>
<p>Trace, Density, Autocorrelation Function Plot of MCMC samples</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>##For data without any non-sampled area
data(dataPanel)     # Load dataset
formula = ydi ~ xdi1 + xdi2
area = max(dataPanel[, "area"])
period = max(dataPanel[,"period"])
vardir = dataPanel[,"vardir"]

result &lt;- Panel(formula, area, period, vardir, data = dataPanel)

result$Est
result$refVar
result$coef
result$plot


## For data with non-sampled area use dataPanelNs

</code></pre>

<hr>
<h2 id='RaoYuAr1'>Small Area Estimation using Hierarchical Bayesian under Rao-Yu Model</h2><span id='topic+RaoYuAr1'></span>

<h3>Description</h3>

<p>This function is implemented to variable of interest <code>ydi</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>RaoYuAr1(
  formula,
  area,
  period,
  vardir,
  iter.update = 3,
  iter.mcmc = 2000,
  thin = 2,
  burn.in = 1000,
  tau.e = 1,
  tau.v = 1,
  data
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="RaoYuAr1_+3A_formula">formula</code></td>
<td>
<p>Formula that describe the fitted model</p>
</td></tr>
<tr><td><code id="RaoYuAr1_+3A_area">area</code></td>
<td>
<p>Number of areas (domain) of the data</p>
</td></tr>
<tr><td><code id="RaoYuAr1_+3A_period">period</code></td>
<td>
<p>Number of periods (subdomains) for each area of the data</p>
</td></tr>
<tr><td><code id="RaoYuAr1_+3A_vardir">vardir</code></td>
<td>
<p>Sampling variances of direct estimations</p>
</td></tr>
<tr><td><code id="RaoYuAr1_+3A_iter.update">iter.update</code></td>
<td>
<p>Number of updates with default <code>3</code></p>
</td></tr>
<tr><td><code id="RaoYuAr1_+3A_iter.mcmc">iter.mcmc</code></td>
<td>
<p>Number of total iterations per chain with default <code>2000</code></p>
</td></tr>
<tr><td><code id="RaoYuAr1_+3A_thin">thin</code></td>
<td>
<p>Thinning rate, must be a positive integer with default <code>1</code></p>
</td></tr>
<tr><td><code id="RaoYuAr1_+3A_burn.in">burn.in</code></td>
<td>
<p>Number of iterations to discard at the beginning with default <code>1000</code></p>
</td></tr>
<tr><td><code id="RaoYuAr1_+3A_tau.e">tau.e</code></td>
<td>
<p>Variance of area-by-time effect of variable interest with default <code>1</code></p>
</td></tr>
<tr><td><code id="RaoYuAr1_+3A_tau.v">tau.v</code></td>
<td>
<p>Variance of random area effect of variable interest with default <code>1</code></p>
</td></tr>
<tr><td><code id="RaoYuAr1_+3A_data">data</code></td>
<td>
<p>The data frame</p>
</td></tr>
</table>


<h3>Value</h3>

<p>This function returns a list of the following objects:
</p>
<table>
<tr><td><code>Est</code></td>
<td>
<p>A vector with the values of Small Area mean Estimates using Hierarchical bayesian method</p>
</td></tr>
<tr><td><code>refVar</code></td>
<td>
<p>Estimated random effect variances</p>
</td></tr>
<tr><td><code>coefficient</code></td>
<td>
<p>A dataframe with the estimated model coefficient</p>
</td></tr>
<tr><td><code>alpha</code></td>
<td>
<p>Parameter dispersion of Generalized Poisson distribution</p>
</td></tr>
<tr><td><code>plot</code></td>
<td>
<p>Trace, Density, Autocorrelation Function Plot of MCMC samples</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>##For data without any non-sampled area
data(dataAr1)     # Load dataset
formula = ydi ~ xdi1 + xdi2
area = max(dataAr1[, "area"])
period = max(dataAr1[,"period"])
vardir = dataAr1[,"vardir"]

result &lt;- RaoYuAr1(formula, area, period, vardir, data = dataAr1)
result$Est
result$refVar
result$coefficient
result$plot
## For data with non-sampled area use dataAr1Ns
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

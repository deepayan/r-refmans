<!DOCTYPE html><html lang="en"><head><title>Help for package ATQ</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ATQ}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#alarm_metrics'><p>Create an Alarm Metrics Object</p></a></li>
<li><a href='#alarm_plot_data'><p>Create Alarm Plot Data Object</p></a></li>
<li><a href='#best_model'><p>Create Best Model</p></a></li>
<li><a href='#catchment_sim'><p>Simulating catchment areas</p></a></li>
<li><a href='#compile_epi'><p>Compile Epidemic Data</p></a></li>
<li><a href='#create_alarm_metrics_summary'><p>Create Alarm Metrics Summary</p></a></li>
<li><a href='#elementary_pop'><p>Create Elementary Schools population size</p></a></li>
<li><a href='#eval_metrics'><p>Evaluate Alarm Metrics for Epidemic Models</p></a></li>
<li><a href='#plot_single_epidemic'><p>Plot a single epidemic simulation</p></a></li>
<li><a href='#plot.alarm_metrics'><p>Plot Heatmap of Alarm Metrics</p></a></li>
<li><a href='#plot.alarm_plot_data'><p>Plot Epidemic Data with Alarm Metrics</p></a></li>
<li><a href='#plot.ssir_epidemic'><p>Plot method for a single SSIR epidemic simulation</p></a></li>
<li><a href='#plot.ssir_epidemic_multi'><p>Plot method for multiple SSIR epidemic simulations</p></a></li>
<li><a href='#simulate_households'><p>Simulate total households and individuals data</p></a></li>
<li><a href='#ssir'><p>Stochastic SIR simulation</p></a></li>
<li><a href='#subpop_children'><p>Simulate households with children</p></a></li>
<li><a href='#subpop_noChildren'><p>Simulate households without children</p></a></li>
<li><a href='#summary.alarm_metrics_summary'><p>Summary of Alarm Metrics</p></a></li>
<li><a href='#summary.ssir_epidemic'><p>S3 Summary method for epidemic Simulation</p></a></li>
<li><a href='#summary.ssir_epidemic_multi'><p>S3 Summary method for multiple epidemic simulations</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Alert Time Quality - Evaluating Timely Epidemic Metrics</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.3</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-07-28</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides tools for evaluating timely epidemic detection models within school absenteeism-based surveillance systems. Introduces the concept of alert time quality as an evaluation metric. Includes functions to simulate populations, epidemics, and alert metrics associated with epidemic spread using population census data. The methods are based on research published in Vanderkruk et al. (2023) &lt;<a href="https://doi.org/10.1186%2Fs12889-023-15747-z">doi:10.1186/s12889-023-15747-z</a>&gt; and Ward et al. (2019) &lt;<a href="https://doi.org/10.1186%2Fs12889-019-7521-7">doi:10.1186/s12889-019-7521-7</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/vjoshy/ATQ_Surveillance_Package">https://github.com/vjoshy/ATQ_Surveillance_Package</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, cli, fansi, farver, utf8, devtools,
testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr, purrr, zoo, ggplot2, gridExtra, rlang, scales</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/vjoshy/ATQ_Surveillance_Package/issues">https://github.com/vjoshy/ATQ_Surveillance_Package/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-08-18 20:31:11 UTC; Vinay</td>
</tr>
<tr>
<td>Author:</td>
<td>Vinay Joshy [aut, cre, cph],
  Zeny Feng [aut, cph, ths],
  Lorna Deeth [aut, cph, ths],
  Justin Slater [aut, cph, ths],
  Kayla Vanderkruk [aut, com, ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Vinay Joshy &lt;joshy@uoguelph.ca&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-08-18 20:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='alarm_metrics'>Create an Alarm Metrics Object</h2><span id='topic+alarm_metrics'></span>

<h3>Description</h3>

<p>This function creates an object of class &quot;alarm_metrics&quot; from a list of metric matrices.
It's used to organize and structure the results from various epidemic alarm metrics calculations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>alarm_metrics(metrics_list)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="alarm_metrics_+3A_metrics_list">metrics_list</code></td>
<td>
<p>A list containing matrices for different alarm metrics
(FAR, ADD, AATQ, FATQ, WAATQ, WFATQ).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class &quot;alarm_metrics&quot; which is a list with the input metrics.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Generate sample alarm metrics data
set.seed(123)
generate_metric_matrix &lt;- function() {
  matrix(runif(15 * 11), nrow = 15, ncol = 11,
         dimnames = list(paste("Lag", 1:15),
                         paste("Threshold", seq(0.1, 0.6, by = 0.05))))
}

sample_metrics &lt;- list(
  FAR = generate_metric_matrix(),
  ADD = generate_metric_matrix(),
  AATQ = generate_metric_matrix(),
  FATQ = generate_metric_matrix(),
  WAATQ = generate_metric_matrix(),
  WFATQ = generate_metric_matrix()
)

# Create an alarm_metrics object
alarm_metrics_obj &lt;- alarm_metrics(sample_metrics)

# Check the class of the resulting object
class(alarm_metrics_obj)

# Access a specific metric
head(alarm_metrics_obj$AATQ)

# Use with other functions (assuming they're defined in your package)
# plot(alarm_metrics_obj, metric = "FAR")
</code></pre>

<hr>
<h2 id='alarm_plot_data'>Create Alarm Plot Data Object</h2><span id='topic+alarm_plot_data'></span>

<h3>Description</h3>

<p>This function creates an object of class &quot;alarm_plot_data&quot; from epidemic data and best models.
It ensures that the input data is in the correct format for plotting.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>alarm_plot_data(epidemic_data, best_models)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="alarm_plot_data_+3A_epidemic_data">epidemic_data</code></td>
<td>
<p>A data frame or list of data frames containing epidemic data.</p>
</td></tr>
<tr><td><code id="alarm_plot_data_+3A_best_models">best_models</code></td>
<td>
<p>A list of data frames containing the best models for each metric.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class &quot;alarm_plot_data&quot; containing the epidemic data and best models.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Generate sample epidemic data
set.seed(123)
epidemic_data &lt;- data.frame(
  Date = rep(1:300, 3),
  ScYr = rep(1:3, each = 300),
  pct_absent = runif(900, 0, 0.1),
  lab_conf = rpois(900, lambda = 5),
  ref_date = rep(c(rep(0, 299), 1), 3),
  Case = rbinom(900, 1, 0.1),
  window = rep(c(rep(0, 280), rep(1, 20)), 3)
)

# Generate sample best models data
generate_best_model &lt;- function() {
  data.frame(
    Date = sample(1:300, 50),
    ScYr = sample(1:3, 50, replace = TRUE),
    Alarm = sample(0:1, 50, replace = TRUE),
    lag = sample(1:15, 50, replace = TRUE),
    thres = runif(50, 0, 1)
  )
}

best_models &lt;- list(
  AATQ = generate_best_model(),
  FATQ = generate_best_model(),
  FAR = generate_best_model(),
  ADD = generate_best_model(),
  WFATQ = generate_best_model(),
  WAATQ = generate_best_model()
)

# Create alarm_plot_data object
plot_data &lt;- alarm_plot_data(epidemic_data, best_models)

# Check the structure of the resulting object
str(plot_data)


</code></pre>

<hr>
<h2 id='best_model'>Create Best Model</h2><span id='topic+best_model'></span>

<h3>Description</h3>

<p>This function sets the class of the given model data to &quot;best_model&quot;.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>best_model(model_data)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="best_model_+3A_model_data">model_data</code></td>
<td>
<p>A data frame containing the model data.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class &quot;best_model&quot; containing the model data.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Generate sample model data
sample_model_data &lt;- data.frame(
  ScYr = rep(1:3, each = 100),
  Date = rep(1:100, 3),
  Alarm = sample(c(0, 1), 300, replace = TRUE, prob = c(0.9, 0.1)),
  lag = sample(1:15, 300, replace = TRUE),
  thres = runif(300, 0.1, 0.6)
)

# Create best model
best_model_data &lt;- best_model(sample_model_data)

# Print the class of the best model
class(best_model_data)
</code></pre>

<hr>
<h2 id='catchment_sim'>Simulating catchment areas</h2><span id='topic+catchment_sim'></span>

<h3>Description</h3>

<p>Function to simulate specified catchments of square area (a x a).
The number of schools in each catchment area is simulated via a specified distribution function,
with gamma distribution as the default.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>catchment_sim(n, area, dist_func = stats::rgamma, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="catchment_sim_+3A_n">n</code></td>
<td>
<p>number of catchments to be simulated</p>
</td></tr>
<tr><td><code id="catchment_sim_+3A_area">area</code></td>
<td>
<p>square dimension for catchment (if area = 20, then each catchment
dimensions will be 20 x 20)</p>
</td></tr>
<tr><td><code id="catchment_sim_+3A_dist_func">dist_func</code></td>
<td>
<p>distribution function to simulate number of schools, default is stats::rgamma</p>
</td></tr>
<tr><td><code id="catchment_sim_+3A_...">...</code></td>
<td>
<p>additional arguments passed to the distribution function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with n rows and the following columns:
</p>
<table role = "presentation">
<tr><td><code>catchID</code></td>
<td>
<p>Unique identifier for each catchment area</p>
</td></tr>
<tr><td><code>num.schools</code></td>
<td>
<p>Number of schools in the catchment area</p>
</td></tr>
<tr><td><code>xStart</code></td>
<td>
<p>Starting x-coordinate of the catchment area</p>
</td></tr>
<tr><td><code>xEnd</code></td>
<td>
<p>Ending x-coordinate of the catchment area</p>
</td></tr>
<tr><td><code>yStart</code></td>
<td>
<p>Starting y-coordinate of the catchment area</p>
</td></tr>
<tr><td><code>yEnd</code></td>
<td>
<p>Ending y-coordinate of the catchment area</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># Using default gamma distribution
catch_df1 &lt;- catchment_sim(16, 20, shape = 4.1, rate = 2.7)

# Using normal distribution
catch_df2 &lt;- catchment_sim(16, 20, dist_func = stats::rnorm, mean = 5, sd = 1)

# Using Poisson distribution
catch_df3 &lt;- catchment_sim(16, 20, dist_func = stats::rpois, lambda = 3)
</code></pre>

<hr>
<h2 id='compile_epi'>Compile Epidemic Data</h2><span id='topic+compile_epi'></span>

<h3>Description</h3>

<p>Compiles and processes epidemic data, simulating  school absenteeism
using epidemic and individual data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compile_epi(epidemic, individual_data, lags = 16, inf_period = 4, T = 300)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="compile_epi_+3A_epidemic">epidemic</code></td>
<td>
<p>A list of simulated epidemic data
(output from simepi() or similar function).</p>
</td></tr>
<tr><td><code id="compile_epi_+3A_individual_data">individual_data</code></td>
<td>
<p>A data frame of simulated individuals data
(output from simulate_households() or similar function).</p>
</td></tr>
<tr><td><code id="compile_epi_+3A_lags">lags</code></td>
<td>
<p>Maximum number of lags for absenteeism, default = 16
(note that lag of zero is included).</p>
</td></tr>
<tr><td><code id="compile_epi_+3A_inf_period">inf_period</code></td>
<td>
<p>Infection period of epidemic, default = 4.</p>
</td></tr>
<tr><td><code id="compile_epi_+3A_t">T</code></td>
<td>
<p>Time period, default = 300 days.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame containing compiled epidemic data, including:
</p>
<table role = "presentation">
<tr><td><code>Date</code></td>
<td>
<p>Day of the epidemic</p>
</td></tr>
<tr><td><code>ScYr</code></td>
<td>
<p>School year</p>
</td></tr>
<tr><td><code>pct_absent</code></td>
<td>
<p>Percentage of students absent</p>
</td></tr>
<tr><td><code>absent</code></td>
<td>
<p>Number of students absent</p>
</td></tr>
<tr><td><code>absent_sick</code></td>
<td>
<p>Number of students absent due to illness</p>
</td></tr>
<tr><td><code>new_inf</code></td>
<td>
<p>Number of new infections</p>
</td></tr>
<tr><td><code>reported_cases</code></td>
<td>
<p>Number of reported cases</p>
</td></tr>
<tr><td><code>Case</code></td>
<td>
<p>Indicator for lab confirmed flu case that day</p>
</td></tr>
<tr><td><code>sinterm</code>, <code>costerm</code></td>
<td>
<p>Seasonal terms</p>
</td></tr>
<tr><td><code>window</code></td>
<td>
<p>Indicator for &quot;True Alarm&quot; window</p>
</td></tr>
<tr><td><code>ref_date</code></td>
<td>
<p>Indicator for reference date</p>
</td></tr>
<tr><td><code>lag0</code>, <code>lag1</code>, <code>...</code>, <code>lag15</code></td>
<td>
<p>Lagged absenteeism values</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># Assuming you have previously simulated epidemic and individual data:
epidemic &lt;- ssir(1000, alpha = 0.4)
individual_data &lt;- data.frame(elem_child_ind = sample(0:1, 1000, replace = TRUE),
                              schoolID = sample(1:10, 1000, replace = TRUE))

compiled_data &lt;- compile_epi(epidemic, individual_data)
</code></pre>

<hr>
<h2 id='create_alarm_metrics_summary'>Create Alarm Metrics Summary</h2><span id='topic+create_alarm_metrics_summary'></span>

<h3>Description</h3>

<p>This function creates a summary of alarm metrics, including statistics for each metric,
best model parameters, reference dates, and best prediction dates for each epidemic year.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_alarm_metrics_summary(metrics, best_models, epidemic_data)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="create_alarm_metrics_summary_+3A_metrics">metrics</code></td>
<td>
<p>An object of class &quot;alarm_metrics&quot; containing matrices for different metrics.</p>
</td></tr>
<tr><td><code id="create_alarm_metrics_summary_+3A_best_models">best_models</code></td>
<td>
<p>A list of data frames, each containing the best model for a specific metric.</p>
</td></tr>
<tr><td><code id="create_alarm_metrics_summary_+3A_epidemic_data">epidemic_data</code></td>
<td>
<p>A data frame containing the epidemic data, including ScYr, Date, and ref_date columns.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class &quot;alarm_metrics_summary&quot; containing summary statistics, best values,
reference dates, and best prediction dates for each metric and epidemic year.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Generate sample data
set.seed(123)

# Generate sample metrics
generate_metric_matrix &lt;- function() {
  matrix(runif(15 * 11), nrow = 15, ncol = 11,
         dimnames = list(paste("Lag", 1:15),
                         paste("Threshold", seq(0.1, 0.6, by = 0.05))))
}

sample_metrics &lt;- list(
  FAR = generate_metric_matrix(),
  ADD = generate_metric_matrix(),
  AATQ = generate_metric_matrix(),
  FATQ = generate_metric_matrix(),
  WAATQ = generate_metric_matrix(),
  WFATQ = generate_metric_matrix()
)

metrics &lt;- structure(sample_metrics, class = c("alarm_metrics", "list"))

# Generate sample best models
generate_best_model &lt;- function() {
  data.frame(
    ScYr = rep(1:3, each = 100),
    Date = rep(1:100, 3),
    Alarm = sample(c(0, 1), 300, replace = TRUE, prob = c(0.9, 0.1)),
    lag = sample(1:15, 300, replace = TRUE),
    thres = runif(300, 0.1, 0.6)
  )
}

best_models &lt;- list(
  best.FAR = generate_best_model(),
  best.ADD = generate_best_model(),
  best.AATQ = generate_best_model(),
  best.FATQ = generate_best_model(),
  best.WAATQ = generate_best_model(),
  best.WFATQ = generate_best_model()
)

# Generate sample epidemic data
epidemic_data &lt;- data.frame(
  ScYr = rep(1:3, each = 365),
  Date = rep(1:365, 3),
  ref_date = c(rep(0, 364), 1)
)

# Create alarm metrics summary
summary &lt;- create_alarm_metrics_summary(metrics, best_models, epidemic_data)

# Print summary
print(summary)

</code></pre>

<hr>
<h2 id='elementary_pop'>Create Elementary Schools population size</h2><span id='topic+elementary_pop'></span>

<h3>Description</h3>

<p>Function to simulate elementary school size and assigns it to catchments.
The school population is simulated using a specified distribution function,
with gamma distribution as the default.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>elementary_pop(df, dist_func = stats::rgamma, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="elementary_pop_+3A_df">df</code></td>
<td>
<p>output data frame from catchment_sim function</p>
</td></tr>
<tr><td><code id="elementary_pop_+3A_dist_func">dist_func</code></td>
<td>
<p>distribution function to simulate school population, default is stats::rgamma</p>
</td></tr>
<tr><td><code id="elementary_pop_+3A_...">...</code></td>
<td>
<p>additional arguments passed to the distribution function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with the following columns:
</p>
<table role = "presentation">
<tr><td><code>catchID</code></td>
<td>
<p>Identifier for the catchment area</p>
</td></tr>
<tr><td><code>schoolID</code></td>
<td>
<p>Unique identifier for each school</p>
</td></tr>
<tr><td><code>schoolPop</code></td>
<td>
<p>Simulated population of the school</p>
</td></tr>
<tr><td><code>xStart</code></td>
<td>
<p>Starting x-coordinate of the catchment area</p>
</td></tr>
<tr><td><code>xEnd</code></td>
<td>
<p>Ending x-coordinate of the catchment area</p>
</td></tr>
<tr><td><code>yStart</code></td>
<td>
<p>Starting y-coordinate of the catchment area</p>
</td></tr>
<tr><td><code>yEnd</code></td>
<td>
<p>Ending y-coordinate of the catchment area</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># Simulate catchment areas
catch_df &lt;- catchment_sim(16, 20, shape = 3.5, rate = 2.8)

# Simulate elementary schools using default gamma distribution
elementary_df1 &lt;- elementary_pop(catch_df, shape = 5.1, rate = 0.015)

# Simulate elementary schools using normal distribution
elementary_df2 &lt;- elementary_pop(catch_df, dist_func = stats::rnorm,
                                 mean = 300, sd = 50)

# Simulate elementary schools using Poisson distribution
elementary_df3 &lt;- elementary_pop(catch_df, dist_func = stats::rpois,
                                 lambda = 250)
</code></pre>

<hr>
<h2 id='eval_metrics'>Evaluate Alarm Metrics for Epidemic Models</h2><span id='topic+eval_metrics'></span>

<h3>Description</h3>

<p>This function calculates various performance metrics for epidemic alarm systems
across different lags and thresholds. It evaluates False Alarm Rate (FAR),
Added Days Delayed (ADD), Average Alarm Time Quality (AATQ), First Alarm Time
Quality (FATQ), and their weighted versions (WAATQ, WFATQ).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>eval_metrics(data, maxlag = 15, thres = seq(0.1, 0.6, by = 0.05), topt = 14)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="eval_metrics_+3A_data">data</code></td>
<td>
<p>A data frame containing the epidemic data with lagged variables,
typically output from the compile_epi function.</p>
</td></tr>
<tr><td><code id="eval_metrics_+3A_maxlag">maxlag</code></td>
<td>
<p>The maximum number of lags to consider (default: 15).</p>
</td></tr>
<tr><td><code id="eval_metrics_+3A_thres">thres</code></td>
<td>
<p>A vector of threshold values to evaluate (default: seq(0.1, 0.6, by = 0.05)).</p>
</td></tr>
<tr><td><code id="eval_metrics_+3A_topt">topt</code></td>
<td>
<p>Optimal alarm day (default = 14).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing three elements:
</p>
<table role = "presentation">
<tr><td><code>metrics</code></td>
<td>
<p>An object of class &quot;alarm_metrics&quot; with the following components:
</p>

<ul>
<li><p> FAR: Matrix of False Alarm Rates for each lag and threshold
</p>
</li>
<li><p> ADD: Matrix of Added Days Delayed for each lag and threshold
</p>
</li>
<li><p> AATQ: Matrix of Average Alarm Time Quality for each lag and threshold
</p>
</li>
<li><p> FATQ: Matrix of First Alarm Time Quality for each lag and threshold
</p>
</li>
<li><p> WAATQ: Matrix of Weighted Average Alarm Time Quality for each lag and threshold
</p>
</li>
<li><p> WFATQ: Matrix of Weighted First Alarm Time Quality for each lag and threshold
</p>
</li>
<li><p> best.AATQ: Best model according to AATQ
</p>
</li>
<li><p> best.FATQ: Best model according to FATQ
</p>
</li>
<li><p> best.FAR: Best model according to FAR
</p>
</li>
<li><p> best.ADD: Best model according to ADD
</p>
</li>
<li><p> best.WFATQ: Best model according to WFATQ
</p>
</li>
<li><p> best.WAATQ: Best model according to WAATQ
</p>
</li></ul>

</td></tr>
<tr><td><code>plot_data</code></td>
<td>
<p>An object of class &quot;alarm_plot_data&quot; for generating plots</p>
</td></tr>
<tr><td><code>summary</code></td>
<td>
<p>An object of class &quot;alarm_metrics_summary&quot; containing summary statistics</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+ssir">ssir</a></code>, <code><a href="#topic+compile_epi">compile_epi</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Generate simulated epidemic data
n_rows &lt;- 7421
n_houses &lt;- 1000

epidemic_new &lt;- ssir(n_rows, T = 300, alpha = 0.298, inf_init = 32, rep = 3)

individual_data &lt;- data.frame(
  houseID = rep(1:n_houses, each = ceiling(n_rows / n_houses))[1:n_rows],
  catchID = sample(1:10, n_rows, replace = TRUE),
  schoolID = sample(1:10, n_rows, replace = TRUE),
  num_people = round(rnorm(n_rows, mean = 4, sd = 1)),
  num_elem_child = round(rnorm(n_rows, mean = 1, sd = 1)),
  xStart = 0,
  xEnd = 5,
  yStart = 0,
  yEnd = 5,
  loc.x = rnorm(n_rows, mean = 2.5, sd = 1),
  loc.y = rnorm(n_rows, mean = 2.5, sd = 1),
  individualID = 1:n_rows,
  elem_child_ind = sample(0:1, n_rows, replace = TRUE)
)

compiled_data &lt;- compile_epi(epidemic_new, individual_data)

# Evaluate alarm metrics
alarm_metrics &lt;- eval_metrics(compiled_data,
                              thres = seq(0.1, 0.3, by = 0.05))

# Access the results
summary(alarm_metrics$summary)
</code></pre>

<hr>
<h2 id='plot_single_epidemic'>Plot a single epidemic simulation</h2><span id='topic+plot_single_epidemic'></span>

<h3>Description</h3>

<p>This function creates two plots for a single epidemic simulation: one for new infections and
one for reported cases.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_single_epidemic(epidemic, epidemic_num)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot_single_epidemic_+3A_epidemic">epidemic</code></td>
<td>
<p>A list containing the results of a single epidemic simulation, typically an
element from an &quot;ssir_epidemic_multi&quot; object.</p>
</td></tr>
<tr><td><code id="plot_single_epidemic_+3A_epidemic_num">epidemic_num</code></td>
<td>
<p>An integer indicating the epidemic number, used in the plot titles.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A grid arrangement of two ggplot objects: new infections and reported cases.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Assuming you have run a simulation:
result &lt;- ssir(N = 10000, T = 300, alpha = 0.3, inf_period = 4, inf_init = 32,
report = 0.02, lag = 7)
plot_single_epidemic(result, 1)

# For multiple simulations:
multi_result &lt;- ssir(N = 10000, T = 300, alpha = 0.3, inf_period = 4, inf_init = 32,
report = 0.02, lag = 7, rep = 5)
plot_single_epidemic(multi_result[[1]], 1)

</code></pre>

<hr>
<h2 id='plot.alarm_metrics'>Plot Heatmap of Alarm Metrics</h2><span id='topic+plot.alarm_metrics'></span>

<h3>Description</h3>

<p>This function creates a heatmap visualization of the specified alarm metric
across different lags and thresholds.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'alarm_metrics'
plot(x, metric = "AATQ", col = heat.colors(12), ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot.alarm_metrics_+3A_x">x</code></td>
<td>
<p>An object of class &quot;alarm_metrics&quot; containing matrices of metric values.</p>
</td></tr>
<tr><td><code id="plot.alarm_metrics_+3A_metric">metric</code></td>
<td>
<p>A character string specifying which metric to plot.
Default is &quot;AATQ&quot;. Options include &quot;FAR&quot;, &quot;ADD&quot;, &quot;AATQ&quot;, &quot;FATQ&quot;, &quot;WAATQ&quot;, &quot;WFATQ&quot;.</p>
</td></tr>
<tr><td><code id="plot.alarm_metrics_+3A_col">col</code></td>
<td>
<p>Set heat map color profile, default is heat.colors(15)</p>
</td></tr>
<tr><td><code id="plot.alarm_metrics_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to the image function.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A heatmap plot of the specified metric.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Generate sample alarm metrics data
set.seed(123)
generate_metric_matrix &lt;- function() {
  matrix(runif(15 * 11), nrow = 15, ncol = 11,
         dimnames = list(paste("Lag", 1:15),
                         paste("Threshold", seq(0.1, 0.6, by = 0.05))))
}

sample_metrics &lt;- list(
  FAR = generate_metric_matrix(),
  ADD = generate_metric_matrix(),
  AATQ = generate_metric_matrix(),
  FATQ = generate_metric_matrix(),
  WAATQ = generate_metric_matrix(),
  WFATQ = generate_metric_matrix(),
 lags = 1:15,
 thresholds = seq(0.1, 0.6, by = 0.05)
)

# Create an alarm_metrics object
alarm_metrics_obj &lt;- structure(sample_metrics, class = c("alarm_metrics", "list"))

# Plot the heatmap for AATQ (default)
plot(alarm_metrics_obj)

# Plot the heatmap for FAR
plot(alarm_metrics_obj, metric = "FAR")

# Customize the plot
plot(alarm_metrics_obj, metric = "FATQ", col = heat.colors(12))

</code></pre>

<hr>
<h2 id='plot.alarm_plot_data'>Plot Epidemic Data with Alarm Metrics</h2><span id='topic+plot.alarm_plot_data'></span>

<h3>Description</h3>

<p>This function creates a series of plots, one for each epidemic year,
showing the absenteeism percentage, laboratory confirmed cases,
reference dates, and alarm points for different models.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'alarm_plot_data'
plot(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot.alarm_plot_data_+3A_x">x</code></td>
<td>
<p>An object of class &quot;alarm_plot_data&quot; containing epidemic data and best models.</p>
</td></tr>
<tr><td><code id="plot.alarm_plot_data_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to the plotting function (currently unused).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of ggplot objects, one for each epidemic year.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Generate sample data
# Generate simulated epidemic data
n_rows &lt;- 7421
n_houses &lt;- 1000

epidemic_new &lt;- ssir(n_rows, T = 300, alpha =0.298, inf_init = 32, rep = 3)

 individual_data &lt;- data.frame(
houseID = rep(1:n_houses, each = ceiling(n_rows / n_houses))[1:n_rows],
catchID = sample(1:10, n_rows, replace = TRUE),
schoolID = sample(1:10, n_rows, replace = TRUE),
num_people = round(rnorm(n_rows, mean = 4, sd = 1)),  # Normal distribution for num_people
num_elem_child = round(rnorm(n_rows, mean = 1, sd = 1)),  # Normal distribution for num_elem_child
xStart = 0,
xEnd = 5,
yStart = 0,
yEnd = 5,
loc.x = rnorm(n_rows, mean = 2.5, sd = 1),  # Normal distribution for loc.x
loc.y = rnorm(n_rows, mean = 2.5, sd = 1),  # Normal distribution for loc.y
individualID = 1:n_rows,
elem_child_ind = sample(0:1, n_rows, replace = TRUE)
)

compiled_data &lt;- compile_epi(epidemic_new, individual_data)

# Evaluate alarm metrics
results &lt;- eval_metrics(compiled_data, thres = seq(0.1,0.6,by = 0.05))

# Generate plots
plots &lt;- plot(results$plot_data)

# Display the first plot
if(interactive()) print(plots[[1]])

</code></pre>

<hr>
<h2 id='plot.ssir_epidemic'>Plot method for a single SSIR epidemic simulation</h2><span id='topic+plot.ssir_epidemic'></span>

<h3>Description</h3>

<p>This function creates plots for a single SSIR (Stochastic Susceptible-Infectious-Removed)
epidemic simulation.
It generates two plots: one for new infections and one for reported cases.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ssir_epidemic'
plot(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot.ssir_epidemic_+3A_x">x</code></td>
<td>
<p>An object of class &quot;ssir_epidemic&quot;, typically the result of calling ssir() with
rep = NULL or 1.</p>
</td></tr>
<tr><td><code id="plot.ssir_epidemic_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to the underlying plotting function (currently unused).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A grid arrangement of two ggplot objects: new infections and reported cases.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+plot_single_epidemic">plot_single_epidemic</a></code> for the underlying plotting function
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Run a single simulation
result &lt;- ssir(N = 10000, T = 300, alpha = 0.3, inf_period = 4, inf_init = 32,
report = 0.02, lag = 7)

# Plot the results
plot(result)
</code></pre>

<hr>
<h2 id='plot.ssir_epidemic_multi'>Plot method for multiple SSIR epidemic simulations</h2><span id='topic+plot.ssir_epidemic_multi'></span>

<h3>Description</h3>

<p>This function creates plots for multiple SSIR (Stochastic Susceptible-Infectious-Removed) epidemic simulations.
It generates two plots (new infections and reported cases) for each simulation in the multi-simulation object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ssir_epidemic_multi'
plot(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot.ssir_epidemic_multi_+3A_x">x</code></td>
<td>
<p>An object of class &quot;ssir_epidemic_multi&quot;, typically the result of calling ssir() with rep &gt; 1.</p>
</td></tr>
<tr><td><code id="plot.ssir_epidemic_multi_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to the underlying plotting function (currently unused).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of grid arrangements, each containing two ggplot objects (new infections and reported cases) for each epidemic simulation.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+plot_single_epidemic">plot_single_epidemic</a></code> for the underlying plotting function
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Run multiple simulations
multi_result &lt;- ssir(N = 10000, T = 300, alpha = 0.3, inf_period = 4,
                     inf_init = 32, report = 0.02, lag = 7, rep = 5)

# Plot the results
plots &lt;- plot(multi_result)

# Display the first simulation's plots
plots[[1]]
</code></pre>

<hr>
<h2 id='simulate_households'>Simulate total households and individuals data</h2><span id='topic+simulate_households'></span>

<h3>Description</h3>

<p>Creates two simulated populations, households and individuals
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simulate_households(children_df, noChildren_df)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="simulate_households_+3A_children_df">children_df</code></td>
<td>
<p>data frame output from house_children() function</p>
</td></tr>
<tr><td><code id="simulate_households_+3A_nochildren_df">noChildren_df</code></td>
<td>
<p>data frame output from house_noChildren() function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list of two data frames; simulated individuals data
and simulated households data
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Simulate catchment areas
catch_df &lt;- catchment_sim(4, 5, shape = 2.5, rate = 1.8)

# Simulate elementary schools using default gamma distribution
elementary_df &lt;- elementary_pop(catch_df, shape = 4.1, rate = 0.019)

# Simulate households with children
house_children &lt;- subpop_children(elementary_df, n = 2,
                                  prop_parent_couple = 0.7,
                                  prop_children_couple = c(0.3, 0.5, 0.2),
                                  prop_children_lone = c(0.4, 0.4, 0.2),
                                  prop_elem_age = 0.2)

# Simulate households without children using pre-specified proportions
house_nochildren &lt;- subpop_noChildren(house_children, elementary_df,
                                   prop_house_size = c(0.2, 0.3, 0.25, 0.15, 0.1),
                                   prop_house_Children = 0.3)

# simulate households and individuals data
simulation &lt;- simulate_households(house_children, house_nochildren)

</code></pre>

<hr>
<h2 id='ssir'>Stochastic SIR simulation</h2><span id='topic+ssir'></span>

<h3>Description</h3>

<p>This function runs a stochastic Susceptible-Infectious-Removed (SIR) epidemic simulation.
It can run a single simulation or multiple replications.
Also simulates laboratory confirmed cases
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ssir(
  N,
  T = 300,
  alpha,
  avg_start = 45,
  min_start = 20,
  inf_period = 4,
  inf_init = 32,
  report = 0.02,
  lag = 7,
  rep = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ssir_+3A_n">N</code></td>
<td>
<p>Numeric. The total population size.</p>
</td></tr>
<tr><td><code id="ssir_+3A_t">T</code></td>
<td>
<p>Numeric. The duration of the simulation in time steps. Default is 300.</p>
</td></tr>
<tr><td><code id="ssir_+3A_alpha">alpha</code></td>
<td>
<p>Numeric. The transmission rate. Must be a number between 0 and 1.</p>
</td></tr>
<tr><td><code id="ssir_+3A_avg_start">avg_start</code></td>
<td>
<p>Numeric. The average start day of the epidemic. Default is 45.</p>
</td></tr>
<tr><td><code id="ssir_+3A_min_start">min_start</code></td>
<td>
<p>Numeric. The minimum start day of the epidemic. Default is 20.</p>
</td></tr>
<tr><td><code id="ssir_+3A_inf_period">inf_period</code></td>
<td>
<p>Numeric. The duration of the infectious period in time steps. Default is 4.</p>
</td></tr>
<tr><td><code id="ssir_+3A_inf_init">inf_init</code></td>
<td>
<p>Numeric. The initial number of infected individuals. Default is 32.</p>
</td></tr>
<tr><td><code id="ssir_+3A_report">report</code></td>
<td>
<p>Numeric. The proportion of cases that are reported. Default is 0.02.</p>
</td></tr>
<tr><td><code id="ssir_+3A_lag">lag</code></td>
<td>
<p>Numeric. The average delay in reporting cases. Default is 7.</p>
</td></tr>
<tr><td><code id="ssir_+3A_rep">rep</code></td>
<td>
<p>Numeric or NULL. The number of simulation replications to run.
If NULL or 1, a single simulation is run.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If rep is NULL or 1, returns an object of class &quot;ssir_epidemic&quot; containing:
</p>
<table role = "presentation">
<tr><td><code>new_inf</code></td>
<td>
<p>Vector of new infections at each time step</p>
</td></tr>
<tr><td><code>reported_cases</code></td>
<td>
<p>Vector of reported cases at each time step</p>
</td></tr>
<tr><td><code>S</code></td>
<td>
<p>Vector of susceptible individuals at each time step</p>
</td></tr>
<tr><td><code>I</code></td>
<td>
<p>Vector of infectious individuals at each time step</p>
</td></tr>
<tr><td><code>R</code></td>
<td>
<p>Vector of removed individuals at each time step</p>
</td></tr>
<tr><td><code>parameters</code></td>
<td>
<p>List of input parameters</p>
</td></tr>
</table>
<p>If rep &gt; 1, returns an object of class &quot;ssir_epidemic_multi&quot; containing
multiple simulation results.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Run a single simulation
result &lt;- ssir(N = 10000, T = 300, alpha = 0.3, inf_period = 4,
inf_init = 32, report = 0.02, lag = 7)

# Run multiple simulations
multi_result &lt;- ssir(N = 10000, T = 300, alpha = 0.3, inf_period = 4, inf_init = 32,
report = 0.02, lag = 7, rep = 100)

</code></pre>

<hr>
<h2 id='subpop_children'>Simulate households with children</h2><span id='topic+subpop_children'></span>

<h3>Description</h3>

<p>Simulation of households with children using specified random distributions.
Number of observations is multiplied by a default value of five.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>subpop_children(
  df,
  n = 5,
  prop_parent_couple = NULL,
  prop_children_couple = NULL,
  prop_children_lone = NULL,
  prop_elem_age = NULL,
  parent_dist = stats::runif,
  child_dist = stats::runif,
  age_dist = stats::runif,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="subpop_children_+3A_df">df</code></td>
<td>
<p>simulated output data frame from elementary_pop function</p>
</td></tr>
<tr><td><code id="subpop_children_+3A_n">n</code></td>
<td>
<p>population multiplier, default value = 5</p>
</td></tr>
<tr><td><code id="subpop_children_+3A_prop_parent_couple">prop_parent_couple</code></td>
<td>
<p>proportion of parents as a couple (optional)</p>
</td></tr>
<tr><td><code id="subpop_children_+3A_prop_children_couple">prop_children_couple</code></td>
<td>
<p>vector of proportions for coupled parents with 1, 2, 3+ children (optional)</p>
</td></tr>
<tr><td><code id="subpop_children_+3A_prop_children_lone">prop_children_lone</code></td>
<td>
<p>vector of proportions for single parents with 1, 2, 3+ children (optional)</p>
</td></tr>
<tr><td><code id="subpop_children_+3A_prop_elem_age">prop_elem_age</code></td>
<td>
<p>proportion of children that are of elementary school age (optional)</p>
</td></tr>
<tr><td><code id="subpop_children_+3A_parent_dist">parent_dist</code></td>
<td>
<p>distribution function for parent type, default is stats::runif</p>
</td></tr>
<tr><td><code id="subpop_children_+3A_child_dist">child_dist</code></td>
<td>
<p>distribution function for number of children, default is stats::runif</p>
</td></tr>
<tr><td><code id="subpop_children_+3A_age_dist">age_dist</code></td>
<td>
<p>distribution function for child age, default is stats::runif</p>
</td></tr>
<tr><td><code id="subpop_children_+3A_...">...</code></td>
<td>
<p>additional arguments passed to the distribution functions</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function can be used interactively or with pre-specified parameters.
If proportions are not provided, the user will be prompted to enter them.
Custom distribution functions can be specified for parent type, number of children, and child age.
The total number of simulations (n * sum of school populations) is automatically passed as the first argument to each distribution function.
</p>


<h3>Value</h3>

<p>A data frame representing the simulated population of households with children, including:
</p>
<table role = "presentation">
<tr><td><code>schoolID</code></td>
<td>
<p>Assigned school ID for the household</p>
</td></tr>
<tr><td><code>houseID</code></td>
<td>
<p>Unique identifier for each household</p>
</td></tr>
<tr><td><code>num_parent</code></td>
<td>
<p>Number of parents in the household (1 or 2)</p>
</td></tr>
<tr><td><code>num_child</code></td>
<td>
<p>Total number of children in the household</p>
</td></tr>
<tr><td><code>num_elem_child</code></td>
<td>
<p>Number of elementary school-aged children in the household</p>
</td></tr>
<tr><td><code>catchID</code></td>
<td>
<p>Assigned catchment ID for the household</p>
</td></tr>
<tr><td><code>schoolPop</code></td>
<td>
<p>Total population of elementary school assigned for the household</p>
</td></tr>
<tr><td><code>xStart</code></td>
<td>
<p>Starting X-coordindate for assigned catchment</p>
</td></tr>
<tr><td><code>xEnd</code></td>
<td>
<p>End X-coordindate for assigned catchment</p>
</td></tr>
<tr><td><code>yStart</code></td>
<td>
<p>Starting Y-coordindate for assigned catchment</p>
</td></tr>
<tr><td><code>yEnd</code></td>
<td>
<p>End Y-coordindate for assigned catchment</p>
</td></tr>
<tr><td><code>schoolID</code></td>
<td>
<p>Assigned school ID for the household</p>
</td></tr>
<tr><td><code>num_people</code></td>
<td>
<p>Total number of people in the household</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># Simulate catchment area
catch_df &lt;- catchment_sim(4, 5, shape = 2.5, rate = 1.3)

# Simulate elementary schools using default gamma distribution
elementary_df &lt;- elementary_pop(catch_df, shape = 3.3, rate = 0.015)

# Simulate households with children
house_children &lt;- subpop_children(elementary_df, n = 2,
                                  prop_parent_couple = 0.7,
                                  prop_children_couple = c(0.3, 0.5, 0.2),
                                  prop_children_lone = c(0.4, 0.4, 0.2),
                                  prop_elem_age = 0.6)

# Using custom distributions
house_children2 &lt;- subpop_children(elementary_df, n = 3,
                                  prop_parent_couple = 0.7,
                                  prop_children_couple = c(0.3, 0.5, 0.2),
                                  prop_children_lone = c(0.4, 0.4, 0.2),
                                  prop_elem_age = 0.6,
                                  parent_dist = stats::rnorm, mean = 0.5, sd = 0.1,
                                  child_dist = stats::rbeta, shape1 = 2, shape2 = 2,
                                  age_dist = stats::runif)

</code></pre>

<hr>
<h2 id='subpop_noChildren'>Simulate households without children</h2><span id='topic+subpop_noChildren'></span>

<h3>Description</h3>

<p>Simulation of households without children using data frames from elementary_pop() and subpop_children() functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>subpop_noChildren(
  df,
  df2,
  prop_house_size = NULL,
  prop_house_Children = NULL,
  house_size = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="subpop_noChildren_+3A_df">df</code></td>
<td>
<p>simulated output data frame from subpop_children function</p>
</td></tr>
<tr><td><code id="subpop_noChildren_+3A_df2">df2</code></td>
<td>
<p>simulated output data frame from elementary_pop function</p>
</td></tr>
<tr><td><code id="subpop_noChildren_+3A_prop_house_size">prop_house_size</code></td>
<td>
<p>vector of proportions for households with 1, 2, 3, 4, 5+ members (optional)</p>
</td></tr>
<tr><td><code id="subpop_noChildren_+3A_prop_house_children">prop_house_Children</code></td>
<td>
<p>proportion of households with children (optional)</p>
</td></tr>
<tr><td><code id="subpop_noChildren_+3A_house_size">house_size</code></td>
<td>
<p>vector of random numbers for household size simulation (optional)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function can be used interactively or with pre-specified parameters.
If proportions are not provided, the user will be prompted to enter them.
The function calculates the number of households without children for each catchment area
based on the proportion of households with children.
</p>


<h3>Value</h3>

<p>A data frame representing the simulated population of households without children, including:
</p>
<table role = "presentation">
<tr><td><code>catchID</code></td>
<td>
<p>Catchment area ID</p>
</td></tr>
<tr><td><code>houseID</code></td>
<td>
<p>Unique identifier for each household</p>
</td></tr>
<tr><td><code>num_people</code></td>
<td>
<p>Number of people in the household</p>
</td></tr>
<tr><td><code>schoolPop</code></td>
<td>
<p>Total population of elementary school assigned for the household</p>
</td></tr>
<tr><td><code>xStart</code></td>
<td>
<p>Starting X-coordindate for assigned catchment</p>
</td></tr>
<tr><td><code>xEnd</code></td>
<td>
<p>End X-coordindate for assigned catchment</p>
</td></tr>
<tr><td><code>yStart</code></td>
<td>
<p>Starting Y-coordindate for assigned catchment</p>
</td></tr>
<tr><td><code>yEnd</code></td>
<td>
<p>End Y-coordindate for assigned catchment</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># Simulate catchment areas
catch_df &lt;- catchment_sim(4, 5, shape = 2.5, rate = 1.8)

# Simulate elementary schools using default gamma distribution
elementary_df &lt;- elementary_pop(catch_df, shape = 3.1, rate = 0.015)

# Simulate households with children
house_children &lt;- subpop_children(elementary_df, n = 3,
                                  prop_parent_couple = 0.7,
                                  prop_children_couple = c(0.3, 0.5, 0.2),
                                  prop_children_lone = c(0.4, 0.4, 0.2),
                                  prop_elem_age = 0.6)

# Simulate households without children using pre-specified proportions
house_noChild &lt;- subpop_noChildren(house_children, elementary_df,
                                   prop_house_size = c(0.2, 0.3, 0.25, 0.15, 0.1),
                                   prop_house_Children = 0.3)

</code></pre>

<hr>
<h2 id='summary.alarm_metrics_summary'>Summary of Alarm Metrics</h2><span id='topic+summary.alarm_metrics_summary'></span>

<h3>Description</h3>

<p>This function provides a summary of the alarm metrics, including mean and variance for each metric,
the best lag and threshold values, and lists of reference dates and best prediction dates.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'alarm_metrics_summary'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="summary.alarm_metrics_summary_+3A_object">object</code></td>
<td>
<p>A list of class <code>alarm_metrics_summary</code> containing the alarm metrics summary data.</p>
</td></tr>
<tr><td><code id="summary.alarm_metrics_summary_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to the function (currently unused).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A printed summary of the alarm metrics.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(123)

# Generate sample metrics
generate_metric_matrix &lt;- function() {
  matrix(runif(15 * 11), nrow = 15, ncol = 11,
         dimnames = list(paste("Lag", 1:15),
                         paste("Threshold", seq(0.1, 0.6, by = 0.05))))
}

sample_metrics &lt;- list(
  FAR = generate_metric_matrix(),
  ADD = generate_metric_matrix(),
  AATQ = generate_metric_matrix(),
  FATQ = generate_metric_matrix(),
  WAATQ = generate_metric_matrix(),
  WFATQ = generate_metric_matrix()
)

metrics &lt;- structure(sample_metrics, class = c("alarm_metrics", "list"))

# Generate sample best models
generate_best_model &lt;- function() {
  data.frame(
    ScYr = rep(1:3, each = 100),
    Date = rep(1:100, 3),
    Alarm = sample(c(0, 1), 300, replace = TRUE, prob = c(0.9, 0.1)),
    lag = sample(1:15, 300, replace = TRUE),
    thres = runif(300, 0.1, 0.6)
  )
}

best_models &lt;- list(
  best.FAR = generate_best_model(),
  best.ADD = generate_best_model(),
  best.AATQ = generate_best_model(),
  best.FATQ = generate_best_model(),
  best.WAATQ = generate_best_model(),
  best.WFATQ = generate_best_model()
)

# Generate sample epidemic data
epidemic_data &lt;- data.frame(
  ScYr = rep(1:3, each = 365),
  Date = rep(1:365, 3),
  ref_date = c(rep(0, 364), 1)
)

# Create alarm metrics summary
data &lt;- create_alarm_metrics_summary(metrics, best_models, epidemic_data)

# Print summary
summary(data)

</code></pre>

<hr>
<h2 id='summary.ssir_epidemic'>S3 Summary method for epidemic Simulation</h2><span id='topic+summary.ssir_epidemic'></span>

<h3>Description</h3>

<p>This function provides a summary of SSIR epidemic simulation.
It calculates and displays the  statistics.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ssir_epidemic'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="summary.ssir_epidemic_+3A_object">object</code></td>
<td>
<p>An object of class &quot;ssir_epidemic&quot;, typically the result of
calling ssir() with rep = 1 or NULL.</p>
</td></tr>
<tr><td><code id="summary.ssir_epidemic_+3A_...">...</code></td>
<td>
<p>Additional arguments affecting the summary produced.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Run multiple simulations
result &lt;- ssir(N = 10000, T = 300, alpha = 0.3, inf_period = 4,
                     inf_init = 32, report = 0.02, lag = 7)

# Display summary
summary(result)

</code></pre>

<hr>
<h2 id='summary.ssir_epidemic_multi'>S3 Summary method for multiple epidemic simulations</h2><span id='topic+summary.ssir_epidemic_multi'></span>

<h3>Description</h3>

<p>This function provides a summary of multiple SSIR epidemic simulations.
It calculates and displays average statistics across all simulations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ssir_epidemic_multi'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="summary.ssir_epidemic_multi_+3A_object">object</code></td>
<td>
<p>An object of class &quot;ssir_epidemic_multi&quot;, typically the result of
calling ssir() with rep &gt; 1.</p>
</td></tr>
<tr><td><code id="summary.ssir_epidemic_multi_+3A_...">...</code></td>
<td>
<p>Additional arguments affecting the summary produced.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Run multiple simulations
multi_result &lt;- ssir(N = 10000, T = 300, alpha = 0.3, inf_period = 4,
                     inf_init = 32, report = 0.02, lag = 7, rep = 100)

# Display summary
summary(multi_result)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

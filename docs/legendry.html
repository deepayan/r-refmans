<!DOCTYPE html><html lang="en"><head><title>Help for package legendry</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {legendry}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#legendry-package'><p>legendry: Extended Legends and Axes for 'ggplot2'</p></a></li>
<li><a href='#bracket_options'><p>Bracket options</p></a></li>
<li><a href='#cap_options'><p>Cap options</p></a></li>
<li><a href='#common_parameters'><p>common parameters in <span class="pkg">legendry</span></p></a></li>
<li><a href='#Compose'><p><code>ggproto</code> objects in <span class="pkg">legendry</span></p></a></li>
<li><a href='#compose_crux'><p>Compose guides in a cross</p></a></li>
<li><a href='#compose_ontop'><p>Compose guides on top of one another</p></a></li>
<li><a href='#compose_sandwich'><p>Compose guides as a sandwich</p></a></li>
<li><a href='#compose_stack'><p>Compose guides as stack</p></a></li>
<li><a href='#gizmo_barcap'><p>Guide gizmo: capped colour bar</p></a></li>
<li><a href='#gizmo_density'><p>Guide gizmo: kernel density estimate</p></a></li>
<li><a href='#gizmo_grob'><p>Guide gizmo: custom grob</p></a></li>
<li><a href='#gizmo_histogram'><p>Guide gizmo: histogram</p></a></li>
<li><a href='#gizmo_stepcap'><p>Guide gizmo: capped colour steps</p></a></li>
<li><a href='#guide_axis_base'><p>Custom axis guide</p></a></li>
<li><a href='#guide_axis_dendro'><p>Dendrogram guide</p></a></li>
<li><a href='#guide_axis_nested'><p>Nested axis guide</p></a></li>
<li><a href='#guide_circles'><p>Circle size guide</p></a></li>
<li><a href='#guide_colbar'><p>Custom colour bar guide</p></a></li>
<li><a href='#guide_colring'><p>Colour rings and arcs</p></a></li>
<li><a href='#guide_colsteps'><p>Custom colour steps guide</p></a></li>
<li><a href='#guide_legend_base'><p>Custom legend guide</p></a></li>
<li><a href='#guide_legend_cross'><p>Cross legend guide</p></a></li>
<li><a href='#guide_legend_group'><p>Grouped legend</p></a></li>
<li><a href='#guide-composition'><p>Guide composition</p></a></li>
<li><a href='#guide-gizmos'><p>Guide gizmos</p></a></li>
<li><a href='#guide-primitives'><p>Guide primitives</p></a></li>
<li><a href='#key_group'><p>Group keys</p></a></li>
<li><a href='#key_range'><p>Range keys</p></a></li>
<li><a href='#key_segments'><p>Segment keys</p></a></li>
<li><a href='#key_specialty'><p>Speciality keys</p></a></li>
<li><a href='#key_standard'><p>Standard keys</p></a></li>
<li><a href='#primitive_box'><p>Guide primitives: boxes</p></a></li>
<li><a href='#primitive_bracket'><p>Guide primitive: brackets</p></a></li>
<li><a href='#primitive_fence'><p>Guide primitive: fence</p></a></li>
<li><a href='#primitive_labels'><p>Guide primitive: labels</p></a></li>
<li><a href='#primitive_line'><p>Guide primitive: line</p></a></li>
<li><a href='#primitive_segments'><p>Guide primitives: segments</p></a></li>
<li><a href='#primitive_spacer'><p>Guide primitive: spacer</p></a></li>
<li><a href='#primitive_ticks'><p>Guide primitive: line</p></a></li>
<li><a href='#primitive_title'><p>Guide primitive: title</p></a></li>
<li><a href='#scale_x_dendro'><p>Dendrogram scales</p></a></li>
<li><a href='#theme_guide'><p>Theme wrapper for guides</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Extended Legends and Axes for 'ggplot2'</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.1</td>
</tr>
<tr>
<td>Description:</td>
<td>A 'ggplot2' extension that focusses on expanding the
    plotter's arsenal of guides. Guides in 'ggplot2' include axes and
    legends. 'legendry' offers new axes and annotation options, as well as
    new legends and colour displays.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://teunbrand.github.io/legendry/">https://teunbrand.github.io/legendry/</a>,
<a href="https://github.com/teunbrand/legendry">https://github.com/teunbrand/legendry</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/teunbrand/legendry/issues">https://github.com/teunbrand/legendry/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>ggplot2 (&ge; 3.5.0), R (&ge; 4.1.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>cli, grid (&ge; 4.1.0), gtable, lifecycle, rlang (&ge; 1.1.0),
scales (&ge; 1.1.1), vctrs (&ge; 0.6.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, ragg, rmarkdown, svglite, systemfonts, testthat (&ge;
3.0.0), vdiffr, withr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-03-04 21:13:26 UTC; Teun</td>
</tr>
<tr>
<td>Author:</td>
<td>Teun van den Brand
    <a href="https://orcid.org/0000-0002-9335-7468"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, cre,
    cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Teun van den Brand &lt;tahvdbrand@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-03-04 22:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='legendry-package'>legendry: Extended Legends and Axes for 'ggplot2'</h2><span id='topic+legendry'></span><span id='topic+legendry-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>A 'ggplot2' extension that focusses on expanding the plotter's arsenal of guides. Guides in 'ggplot2' include axes and legends. 'legendry' offers new axes and annotation options, as well as new legends and colour displays.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Teun van den Brand <a href="mailto:tahvdbrand@gmail.com">tahvdbrand@gmail.com</a> (<a href="https://orcid.org/0000-0002-9335-7468">ORCID</a>) [copyright holder]
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://teunbrand.github.io/legendry/">https://teunbrand.github.io/legendry/</a>
</p>
</li>
<li> <p><a href="https://github.com/teunbrand/legendry">https://github.com/teunbrand/legendry</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/teunbrand/legendry/issues">https://github.com/teunbrand/legendry/issues</a>
</p>
</li></ul>


<hr>
<h2 id='bracket_options'>Bracket options</h2><span id='topic+bracket_options'></span><span id='topic+bracket_line'></span><span id='topic+bracket_square'></span><span id='topic+bracket_chevron'></span><span id='topic+bracket_round'></span><span id='topic+bracket_sigmoid'></span><span id='topic+bracket_atan'></span><span id='topic+bracket_curvy'></span>

<h3>Description</h3>

<p>These functions construct various sorts of brackets. They construct a matrix
that can be supplied as the <code>bracket</code> argument in <code><a href="#topic+primitive_bracket">primitive_bracket()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bracket_line()

bracket_square()

bracket_chevron()

bracket_round(angle = 180, n = 100)

bracket_sigmoid(curvature = 10, n = 100)

bracket_atan(curvature = 5, n = 100)

bracket_curvy(angle = 225, n = 100)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="bracket_options_+3A_angle">angle</code></td>
<td>
<p>A <code>numeric(1)</code>: the angle in degrees for which a circle piece
is drawn. For <code>bracket_curvy()</code>, an angle between 180 and 270.</p>
</td></tr>
<tr><td><code id="bracket_options_+3A_n">n</code></td>
<td>
<p>An <code>integer(1)</code> number of points to use for the bracket.</p>
</td></tr>
<tr><td><code id="bracket_options_+3A_curvature">curvature</code></td>
<td>
<p>A <code>numeric(1)</code> that controls the curliness of the bracket.
More precisely, it is used to construct the sequence
<code>seq(-curvature, curvature, length.out = n)</code> over which the logistic or
arctangent functions is evaluated.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When designing custom bracket shapes, the expectation is both columns are
are a number between 0 and 1. The first column follows the direction of the
guide whereas the second column is orthogonal to that direction.
</p>


<h3>Value</h3>

<p>A <code style="white-space: pre;">&#8288;&lt;matrix[n, 2]&gt;&#8288;</code> with coordinates for points on the brackets.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>bracket_line()</code>: A simple line as bracket. Has <code>n = 2</code> points.
</p>
</li>
<li> <p><code>bracket_square()</code>: A square bracket. Has <code>n = 4</code> points.
</p>
</li>
<li> <p><code>bracket_chevron()</code>: A chevron (V-shape) that makes a bracket. Has
<code>n = 3</code> points.
</p>
</li>
<li> <p><code>bracket_round()</code>: One circular arc that makes a bracket.
</p>
</li>
<li> <p><code>bracket_sigmoid()</code>: Two sigmoid curves stacked on top of one another
to form a bracket.
</p>
</li>
<li> <p><code>bracket_atan()</code>: Two arctangent curves stacked on top of one
another to form a bracket.
</p>
</li>
<li> <p><code>bracket_curvy()</code>: Four circular arcs that make a bracket.
</p>
</li></ul>


<h3>Examples</h3>

<pre><code class='language-R'>plot(bracket_sigmoid(), type = 'l')
</code></pre>

<hr>
<h2 id='cap_options'>Cap options</h2><span id='topic+cap_options'></span><span id='topic+cap_triangle'></span><span id='topic+cap_round'></span><span id='topic+cap_arch'></span><span id='topic+cap_ogee'></span><span id='topic+cap_none'></span>

<h3>Description</h3>

<p>These functions construct various sorts of caps. They construct a matrix
that can be supplied as the <code>shape</code> argument in <code><a href="#topic+gizmo_barcap">gizmo_barcap()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cap_triangle()

cap_round(n = 100)

cap_arch(n = 100)

cap_ogee(n = 100)

cap_none()
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cap_options_+3A_n">n</code></td>
<td>
<p>An <code style="white-space: pre;">&#8288;&lt;integer[n]&gt;&#8288;</code> number of points to use for the cap.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When designing custom cap shapes, the expectation is that the first point
starts at the <code style="white-space: pre;">&#8288;(0, 0)&#8288;</code> coordinate and the last point ends at the <code style="white-space: pre;">&#8288;(0, 1)&#8288;</code>
coordinate. The first column follows the orthogonal direction of the bar
whereas the second column follows the direction of the bar.
</p>


<h3>Value</h3>

<p>A <code style="white-space: pre;">&#8288;&lt;matrix[n, 2]&gt;&#8288;</code> with coordinates for points on the brackets.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>cap_triangle()</code>: An equilateral triangle with <code>n = 3</code> points.
</p>
</li>
<li> <p><code>cap_round()</code>: A semicircle.
</p>
</li>
<li> <p><code>cap_arch()</code>: Two circular arcs forming an equilateral Gothic arch.
</p>
</li>
<li> <p><code>cap_ogee()</code>: Four circular arcs forming an 'ogee' arch.
</p>
</li>
<li> <p><code>cap_none()</code>: No cap.
</p>
</li></ul>


<h3>Examples</h3>

<pre><code class='language-R'>plot(cap_arch(), type = 'l')
</code></pre>

<hr>
<h2 id='common_parameters'>common parameters in <span class="pkg">legendry</span></h2><span id='topic+common_parameters'></span>

<h3>Description</h3>

<p>This is a collection of common parameters so they needn't be re-documented
each time.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="common_parameters_+3A_title">title</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> or <code style="white-space: pre;">&#8288;&lt;expression[1]&gt;&#8288;</code> indicating the title of
the guide. If <code>NULL</code>, the title is not shown. The default,
<code><a href="ggplot2.html#topic+waiver">waiver()</a></code>, takes the name of the scale object or
the name specified in <code><a href="ggplot2.html#topic+labs">labs()</a></code> as the title.</p>
</td></tr>
<tr><td><code id="common_parameters_+3A_theme">theme</code></td>
<td>
<p>A <code><a href="ggplot2.html#topic+theme">&lt;theme&gt;</a></code> object to style the guide individually or
differently from the plot's theme settings. The <code>theme</code> argument in the
guide overrides and is combined with the plot's theme.</p>
</td></tr>
<tr><td><code id="common_parameters_+3A_position">position</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> giving the location of the guide. Can be one of <code>"top"</code>,
<code>"bottom"</code>, <code>"left"</code> or <code>"right"</code>.</p>
</td></tr>
<tr><td><code id="common_parameters_+3A_order">order</code></td>
<td>
<p>A positive <code style="white-space: pre;">&#8288;&lt;integer[1]&gt;&#8288;</code> that specifies the order of this guide among
multiple guides. This controls in which order guides are merged if there
are multiple guides for the same position. If <code>0</code> (default), the order is
determined by a hashing indicative settings of a guide.</p>
</td></tr>
<tr><td><code id="common_parameters_+3A_available_aes">available_aes</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character&gt;&#8288;</code> vector listing the aesthetics for which this guide can
be build.</p>
</td></tr>
<tr><td><code id="common_parameters_+3A_direction">direction</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> indicating the direction of the guide. Can be on of
<code>"horizontal"</code> or <code>"vertical"</code>.</p>
</td></tr>
<tr><td><code id="common_parameters_+3A_angle">angle</code></td>
<td>
<p>A specification for the text angle. Compared to setting the <code>angle</code> argument
in <code><a href="ggplot2.html#topic+element">element_text()</a></code>, this argument uses some
heuristics to automatically pick the <code>hjust</code> and <code>vjust</code> that you
probably want. Can be one of the following:
</p>

<ul>
<li> <p><code>NULL</code> to take angles and justification settings directly from the theme.
</p>
</li>
<li> <p><code><a href="ggplot2.html#topic+waiver">waiver()</a></code> to allow reasonable defaults in special
cases.
</p>
</li>
<li><p> A <code style="white-space: pre;">&#8288;&lt;numeric[1]&gt;&#8288;</code> between -360 and 360 for the text angle in degrees.
</p>
</li></ul>
</td></tr>
<tr><td><code id="common_parameters_+3A_override.aes">override.aes</code></td>
<td>
<p>A named <code style="white-space: pre;">&#8288;&lt;list&gt;&#8288;</code> specifying aesthetic parameters of the
key glyphs. See details and examples in
<code><a href="ggplot2.html#topic+guide_legend">guide_legend()</a></code>.</p>
</td></tr>
</table>

<hr>
<h2 id='Compose'><code>ggproto</code> objects in <span class="pkg">legendry</span></h2><span id='topic+Compose'></span><span id='topic+ComposeCrux'></span><span id='topic+ComposeOntop'></span><span id='topic+ComposeSandwich'></span><span id='topic+ComposeStack'></span><span id='topic+GizmoBarcap'></span><span id='topic+GizmoDensity'></span><span id='topic+GizmoGrob'></span><span id='topic+GizmoHistogram'></span><span id='topic+GizmoStepcap'></span><span id='topic+GuideCircles'></span><span id='topic+GuideColring'></span><span id='topic+GuideLegendBase'></span><span id='topic+GuideLegendGroup'></span><span id='topic+legendry_extensions'></span><span id='topic+PrimitiveBox'></span><span id='topic+PrimitiveBracket'></span><span id='topic+PrimitiveFence'></span><span id='topic+PrimitiveLabels'></span><span id='topic+PrimitiveLine'></span><span id='topic+PrimitiveSpacer'></span><span id='topic+PrimitiveTicks'></span><span id='topic+PrimitiveTitle'></span>

<h3>Description</h3>

<p>The <span class="pkg">legendry</span> package relies on an extension system of
<span class="pkg">ggplot2</span> through <code><a href="ggplot2.html#topic+ggproto">ggproto</a></code> class objects, which
allow cross-package inheritance of objects such as geoms, stats, facets,
scales and coordinate systems. For the purpose of making plots, users are
invited to wholly ignore these objects, since interacting with these
objects is preferred through various constructor functions. The
<span class="pkg">legendry</span> package introduces a new <code style="white-space: pre;">&#8288;&lt;Guide&gt;&#8288;</code> ggproto class to support
variations on axes, legends and colourbars.
</p>


<h3>See Also</h3>

<p>The documentation over at <code><a href="ggplot2.html#topic+ggproto">ggproto</a></code>.
</p>

<hr>
<h2 id='compose_crux'>Compose guides in a cross</h2><span id='topic+compose_crux'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
</p>
<p>This guide composition has a central guide optionally surrounded by other
guides on all four sides.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compose_crux(
  key = NULL,
  centre = "none",
  left = "none",
  right = "none",
  top = "none",
  bottom = "none",
  args = list(),
  complete = FALSE,
  theme = NULL,
  theme_defaults = list(),
  reverse = FALSE,
  order = 0,
  title = waiver(),
  position = waiver(),
  available_aes = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="compose_crux_+3A_key">key</code></td>
<td>
<p>A <a href="#topic+key_standard">standard key</a> specification. The key is shared
among all guides that have <code>NULL</code> keys themselves. See more information
in the linked topic.</p>
</td></tr>
<tr><td><code id="compose_crux_+3A_centre">centre</code>, <code id="compose_crux_+3A_left">left</code>, <code id="compose_crux_+3A_right">right</code>, <code id="compose_crux_+3A_top">top</code>, <code id="compose_crux_+3A_bottom">bottom</code></td>
<td>
<p>Guides to use in
<a href="#topic+guide-composition">composition</a> per position. Each guide can be
specified as one of the following:
</p>

<ul>
<li><p> A <code style="white-space: pre;">&#8288;&lt;Guide&gt;&#8288;</code> class object.
</p>
</li>
<li><p> A <code style="white-space: pre;">&#8288;&lt;function&gt;&#8288;</code> that returns a <code style="white-space: pre;">&#8288;&lt;Guide&gt;&#8288;</code> class object.
</p>
</li>
<li><p> A <code style="white-space: pre;">&#8288;&lt;character&gt;&#8288;</code> naming such a function, without the <code>guide_</code> or
<code>primitive_</code> prefix.
</p>
</li></ul>
</td></tr>
<tr><td><code id="compose_crux_+3A_args">args</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;list&gt;&#8288;</code> of arguments to pass to guides that are given either
as a function or as a string.</p>
</td></tr>
<tr><td><code id="compose_crux_+3A_complete">complete</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;logical[1]&gt;&#8288;</code> whether to treat the composition as a
complete guide. If <code>TRUE</code>, a title and margin are added to the result.
If <code>FALSE</code> (default), no titles and margins are added.</p>
</td></tr>
<tr><td><code id="compose_crux_+3A_theme">theme</code></td>
<td>
<p>A <code><a href="ggplot2.html#topic+theme">&lt;theme&gt;</a></code> object to style the guide
individually of differently from the plot's theme settings. The <code>theme</code>
arguments in the guide overrides, and is combined with, the plot's theme.</p>
</td></tr>
<tr><td><code id="compose_crux_+3A_theme_defaults">theme_defaults</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;list&gt;&#8288;</code> of theme elements to override undeclared
theme arguments.</p>
</td></tr>
<tr><td><code id="compose_crux_+3A_reverse">reverse</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;logical[1]&gt;&#8288;</code> whether to reverse continuous guides.
If <code>TRUE</code>, guides like colour bars are flipped. If <code>FALSE</code> (default),
the original order is maintained.</p>
</td></tr>
<tr><td><code id="compose_crux_+3A_order">order</code></td>
<td>
<p>A positive <code style="white-space: pre;">&#8288;&lt;integer[1]&gt;&#8288;</code> that specifies the order of this guide among
multiple guides. This controls in which order guides are merged if there
are multiple guides for the same position. If <code>0</code> (default), the order is
determined by a hashing indicative settings of a guide.</p>
</td></tr>
<tr><td><code id="compose_crux_+3A_title">title</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> or <code style="white-space: pre;">&#8288;&lt;expression[1]&gt;&#8288;</code> indicating the title of
the guide. If <code>NULL</code>, the title is not shown. The default,
<code><a href="ggplot2.html#topic+waiver">waiver()</a></code>, takes the name of the scale object or
the name specified in <code><a href="ggplot2.html#topic+labs">labs()</a></code> as the title.</p>
</td></tr>
<tr><td><code id="compose_crux_+3A_position">position</code></td>
<td>
<p>Where this guide should be drawn: one of <code>"top"</code>, <code>"bottom"</code>,
<code>"left"</code>, or <code>"right"</code>.</p>
</td></tr>
<tr><td><code id="compose_crux_+3A_available_aes">available_aes</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character&gt;&#8288;</code> vector listing the aesthetics for which this guide can
be build.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code style="white-space: pre;">&#8288;&lt;ComposeCrux&gt;&#8288;</code> guide object.
</p>


<h3>See Also</h3>

<p>Other composition: 
<code><a href="#topic+compose_ontop">compose_ontop</a>()</code>,
<code><a href="#topic+compose_sandwich">compose_sandwich</a>()</code>,
<code><a href="#topic+compose_stack">compose_stack</a>()</code>,
<code><a href="#topic+guide-composition">guide-composition</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Roughly recreating a colour bar with extra text on top and bottom
crux &lt;- compose_crux(
  centre = gizmo_barcap(), left = "axis_base",
  right = "axis_base",
  top = primitive_title("A lot"),
  bottom = primitive_title("A little")
)

ggplot(mpg, aes(displ, hwy)) +
  geom_point(aes(colour = cty)) +
  guides(colour = crux)
</code></pre>

<hr>
<h2 id='compose_ontop'>Compose guides on top of one another</h2><span id='topic+compose_ontop'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
</p>
<p>This guide can place place other guides on top of one another.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compose_ontop(
  ...,
  args = list(),
  key = NULL,
  title = waiver(),
  angle = waiver(),
  theme = NULL,
  order = 0,
  position = waiver(),
  available_aes = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="compose_ontop_+3A_...">...</code></td>
<td>
<p>Guides to stack in <a href="#topic+guide-composition">composition</a>. Each guide
can be specified as one of the following:
</p>

<ul>
<li><p> A <code style="white-space: pre;">&#8288;&lt;Guide&gt;&#8288;</code> class object.
</p>
</li>
<li><p> A <code style="white-space: pre;">&#8288;&lt;function&gt;&#8288;</code> that returns a <code style="white-space: pre;">&#8288;&lt;Guide&gt;&#8288;</code> class object.
</p>
</li>
<li><p> A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> naming such a function, without the <code>guide_</code> or
<code>primitive_</code> prefix.
</p>
</li></ul>
</td></tr>
<tr><td><code id="compose_ontop_+3A_args">args</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;list&gt;&#8288;</code> of arguments to pass to guides that are given either
as a function or as a string.</p>
</td></tr>
<tr><td><code id="compose_ontop_+3A_key">key</code></td>
<td>
<p>A <a href="#topic+key_standard">standard key</a> specification. The key is shared
among all guides that have <code>NULL</code> keys themselves. See more information
in the linked topic.</p>
</td></tr>
<tr><td><code id="compose_ontop_+3A_title">title</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> or <code style="white-space: pre;">&#8288;&lt;expression[1]&gt;&#8288;</code> indicating the title of
the guide. If <code>NULL</code>, the title is not shown. The default,
<code><a href="ggplot2.html#topic+waiver">waiver()</a></code>, takes the name of the scale object or
the name specified in <code><a href="ggplot2.html#topic+labs">labs()</a></code> as the title.</p>
</td></tr>
<tr><td><code id="compose_ontop_+3A_angle">angle</code></td>
<td>
<p>A specification for the text angle. Compared to setting the <code>angle</code> argument
in <code><a href="ggplot2.html#topic+element">element_text()</a></code>, this argument uses some
heuristics to automatically pick the <code>hjust</code> and <code>vjust</code> that you
probably want. Can be one of the following:
</p>

<ul>
<li> <p><code>NULL</code> to take angles and justification settings directly from the theme.
</p>
</li>
<li> <p><code><a href="ggplot2.html#topic+waiver">waiver()</a></code> to allow reasonable defaults in special
cases.
</p>
</li>
<li><p> A <code style="white-space: pre;">&#8288;&lt;numeric[1]&gt;&#8288;</code> between -360 and 360 for the text angle in degrees.
</p>
</li></ul>
</td></tr>
<tr><td><code id="compose_ontop_+3A_theme">theme</code></td>
<td>
<p>A <code><a href="ggplot2.html#topic+theme">&lt;theme&gt;</a></code> object to style the guide individually or
differently from the plot's theme settings. The <code>theme</code> argument in the
guide overrides and is combined with the plot's theme.</p>
</td></tr>
<tr><td><code id="compose_ontop_+3A_order">order</code></td>
<td>
<p>A positive <code style="white-space: pre;">&#8288;&lt;integer[1]&gt;&#8288;</code> that specifies the order of this guide among
multiple guides. This controls in which order guides are merged if there
are multiple guides for the same position. If <code>0</code> (default), the order is
determined by a hashing indicative settings of a guide.</p>
</td></tr>
<tr><td><code id="compose_ontop_+3A_position">position</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> giving the location of the guide. Can be one of <code>"top"</code>,
<code>"bottom"</code>, <code>"left"</code> or <code>"right"</code>.</p>
</td></tr>
<tr><td><code id="compose_ontop_+3A_available_aes">available_aes</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character&gt;&#8288;</code> giving aesthetics that must match the
the guides.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code style="white-space: pre;">&#8288;&lt;ComposeOntop&gt;&#8288;</code> composite guide object.
</p>


<h3>See Also</h3>

<p>Other composition: 
<code><a href="#topic+compose_crux">compose_crux</a>()</code>,
<code><a href="#topic+compose_sandwich">compose_sandwich</a>()</code>,
<code><a href="#topic+compose_stack">compose_stack</a>()</code>,
<code><a href="#topic+guide-composition">guide-composition</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Using the ontop composition to get two types of ticks with different
# lengths
ggplot(mpg, aes(displ, hwy)) +
  geom_point() +
  guides(x = compose_ontop(
    guide_axis_base(
      key_manual(c(2, 4, 6)),
      theme = theme(
        axis.ticks = element_line(colour = "limegreen"),
        axis.ticks.length = unit(11, "pt")
      )
    ),
    guide_axis_base(
      key_manual(c(3, 5, 7)),
      theme = theme(
        axis.ticks = element_line(colour = "tomato"),
        axis.ticks.length = unit(5.5, "pt")
      )
    )
  ))
</code></pre>

<hr>
<h2 id='compose_sandwich'>Compose guides as a sandwich</h2><span id='topic+compose_sandwich'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
</p>
<p>This guide composition has a middle guide flanked by two parallel guides.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compose_sandwich(
  key = key_auto(),
  middle = gizmo_barcap(),
  text = "none",
  opposite = "none",
  args = list(),
  complete = TRUE,
  theme = NULL,
  theme_defaults = list(),
  reverse = FALSE,
  order = 0,
  title = waiver(),
  position = waiver(),
  available_aes = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="compose_sandwich_+3A_key">key</code></td>
<td>
<p>A <a href="#topic+key_standard">standard key</a> specification. The key is shared
among all guides that have <code>NULL</code> keys themselves. See more information
in the linked topic.</p>
</td></tr>
<tr><td><code id="compose_sandwich_+3A_middle">middle</code></td>
<td>
<p>Guide to use as the middle guide. Each guide can be specified
as one of the following:
</p>

<ul>
<li><p> A <code style="white-space: pre;">&#8288;&lt;Guide&gt;&#8288;</code> class object.
</p>
</li>
<li><p> A <code style="white-space: pre;">&#8288;&lt;function&gt;&#8288;</code> that returns a <code style="white-space: pre;">&#8288;&lt;Guide&gt;&#8288;</code> class object.
</p>
</li>
<li><p> A <code style="white-space: pre;">&#8288;&lt;character&gt;&#8288;</code> naming such a function, without the <code>guide_</code> or
<code>primitive_</code> prefix.
</p>
</li></ul>
</td></tr>
<tr><td><code id="compose_sandwich_+3A_text">text</code>, <code id="compose_sandwich_+3A_opposite">opposite</code></td>
<td>
<p>Guides to use at the <code>legend.text.position</code> location
and on the opposite side of the <code>middle</code> guide respectively. Guide
specification is the same as in the <code>middle</code> argument.</p>
</td></tr>
<tr><td><code id="compose_sandwich_+3A_args">args</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;list&gt;&#8288;</code> of arguments to pass to guides that are given either
as a function or as a string.</p>
</td></tr>
<tr><td><code id="compose_sandwich_+3A_complete">complete</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;logical[1]&gt;&#8288;</code> whether to treat the composition as a
complete guide. If <code>TRUE</code>, a title and margin are added to the result.
If <code>FALSE</code> (default), no titles and margins are added.</p>
</td></tr>
<tr><td><code id="compose_sandwich_+3A_theme">theme</code></td>
<td>
<p>A <code><a href="ggplot2.html#topic+theme">&lt;theme&gt;</a></code> object to style the guide
individually of differently from the plot's theme settings. The <code>theme</code>
arguments in the guide overrides, and is combined with, the plot's theme.</p>
</td></tr>
<tr><td><code id="compose_sandwich_+3A_theme_defaults">theme_defaults</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;list&gt;&#8288;</code> of theme elements to override undeclared
theme arguments.</p>
</td></tr>
<tr><td><code id="compose_sandwich_+3A_reverse">reverse</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;logical[1]&gt;&#8288;</code> whether to reverse continuous guides.
If <code>TRUE</code>, guides like colour bars are flipped. If <code>FALSE</code> (default),
the original order is maintained.</p>
</td></tr>
<tr><td><code id="compose_sandwich_+3A_order">order</code></td>
<td>
<p>A positive <code style="white-space: pre;">&#8288;&lt;integer[1]&gt;&#8288;</code> that specifies the order of this guide among
multiple guides. This controls in which order guides are merged if there
are multiple guides for the same position. If <code>0</code> (default), the order is
determined by a hashing indicative settings of a guide.</p>
</td></tr>
<tr><td><code id="compose_sandwich_+3A_title">title</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> or <code style="white-space: pre;">&#8288;&lt;expression[1]&gt;&#8288;</code> indicating the title of
the guide. If <code>NULL</code>, the title is not shown. The default,
<code><a href="ggplot2.html#topic+waiver">waiver()</a></code>, takes the name of the scale object or
the name specified in <code><a href="ggplot2.html#topic+labs">labs()</a></code> as the title.</p>
</td></tr>
<tr><td><code id="compose_sandwich_+3A_position">position</code></td>
<td>
<p>Where this guide should be drawn: one of <code>"top"</code>, <code>"bottom"</code>,
<code>"left"</code>, or <code>"right"</code>.</p>
</td></tr>
<tr><td><code id="compose_sandwich_+3A_available_aes">available_aes</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character&gt;&#8288;</code> vector listing the aesthetics for which this guide can
be build.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The sandwich composition is effectively the same as a
<a href="#topic+compose_crux">crux composition</a> lacking two opposing arms.
</p>


<h3>Value</h3>

<p>A <code style="white-space: pre;">&#8288;&lt;ComposeSandwich&gt;&#8288;</code> guide object.
</p>


<h3>See Also</h3>

<p>Other composition: 
<code><a href="#topic+compose_crux">compose_crux</a>()</code>,
<code><a href="#topic+compose_ontop">compose_ontop</a>()</code>,
<code><a href="#topic+compose_stack">compose_stack</a>()</code>,
<code><a href="#topic+guide-composition">guide-composition</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># A standard plot with a sandwich guide
ggplot(mpg, aes(displ, hwy)) +
  geom_point(aes(colour = cty)) +
  guides(colour = compose_sandwich(
    middle = "colourbar",
    text = "axis_base",
    opposite = primitive_bracket(key = key_range_manual(
      start = c(10, 20), end = c(25, 30), name = c("A", "B")
    ))
  ))
</code></pre>

<hr>
<h2 id='compose_stack'>Compose guides as stack</h2><span id='topic+compose_stack'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
</p>
<p>This guide can stack other guides.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compose_stack(
  ...,
  args = list(),
  key = NULL,
  title = waiver(),
  side.titles = waiver(),
  angle = waiver(),
  theme = NULL,
  order = 0,
  drop = NULL,
  position = waiver(),
  available_aes = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="compose_stack_+3A_...">...</code></td>
<td>
<p>Guides to stack in <a href="#topic+guide-composition">composition</a>. Each guide
can be specified as one of the following:
</p>

<ul>
<li><p> A <code style="white-space: pre;">&#8288;&lt;Guide&gt;&#8288;</code> class object.
</p>
</li>
<li><p> A <code style="white-space: pre;">&#8288;&lt;function&gt;&#8288;</code> that returns a <code style="white-space: pre;">&#8288;&lt;Guide&gt;&#8288;</code> class object.
</p>
</li>
<li><p> A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> naming such a function, without the <code>guide_</code> or
<code>primitive_</code> prefix.
</p>
</li></ul>
</td></tr>
<tr><td><code id="compose_stack_+3A_args">args</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;list&gt;&#8288;</code> of arguments to pass to guides that are given either
as a function or as a string.</p>
</td></tr>
<tr><td><code id="compose_stack_+3A_key">key</code></td>
<td>
<p>A <a href="#topic+key_standard">standard key</a> specification. The key is shared
among all guides that have <code>NULL</code> keys themselves. See more information
in the linked topic.</p>
</td></tr>
<tr><td><code id="compose_stack_+3A_title">title</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> or <code style="white-space: pre;">&#8288;&lt;expression[1]&gt;&#8288;</code> indicating the title of
the guide. If <code>NULL</code>, the title is not shown. The default,
<code><a href="ggplot2.html#topic+waiver">waiver()</a></code>, takes the name of the scale object or
the name specified in <code><a href="ggplot2.html#topic+labs">labs()</a></code> as the title.</p>
</td></tr>
<tr><td><code id="compose_stack_+3A_side.titles">side.titles</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character&gt;&#8288;</code> giving labels for titles displayed on the
side of the stack. Set to <code>NULL</code> to display no side titles. If <code>waiver()</code>,
an attempt is made to extract the titles from the guides and use these
as side titles.</p>
</td></tr>
<tr><td><code id="compose_stack_+3A_angle">angle</code></td>
<td>
<p>A specification for the text angle. Compared to setting the <code>angle</code> argument
in <code><a href="ggplot2.html#topic+element">element_text()</a></code>, this argument uses some
heuristics to automatically pick the <code>hjust</code> and <code>vjust</code> that you
probably want. Can be one of the following:
</p>

<ul>
<li> <p><code>NULL</code> to take angles and justification settings directly from the theme.
</p>
</li>
<li> <p><code><a href="ggplot2.html#topic+waiver">waiver()</a></code> to allow reasonable defaults in special
cases.
</p>
</li>
<li><p> A <code style="white-space: pre;">&#8288;&lt;numeric[1]&gt;&#8288;</code> between -360 and 360 for the text angle in degrees.
</p>
</li></ul>
</td></tr>
<tr><td><code id="compose_stack_+3A_theme">theme</code></td>
<td>
<p>A <code><a href="ggplot2.html#topic+theme">&lt;theme&gt;</a></code> object to style the guide individually or
differently from the plot's theme settings. The <code>theme</code> argument in the
guide overrides and is combined with the plot's theme.</p>
</td></tr>
<tr><td><code id="compose_stack_+3A_order">order</code></td>
<td>
<p>A positive <code style="white-space: pre;">&#8288;&lt;integer[1]&gt;&#8288;</code> that specifies the order of this guide among
multiple guides. This controls in which order guides are merged if there
are multiple guides for the same position. If <code>0</code> (default), the order is
determined by a hashing indicative settings of a guide.</p>
</td></tr>
<tr><td><code id="compose_stack_+3A_drop">drop</code></td>
<td>
<p>An <code style="white-space: pre;">&#8288;&lt;integer&gt;&#8288;</code> giving the indices of guides that should be
dropped when a facet requests no labels to be drawn at axes in between
panels. The default, <code>NULL</code>, will drop every guide except the first.</p>
</td></tr>
<tr><td><code id="compose_stack_+3A_position">position</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> giving the location of the guide. Can be one of <code>"top"</code>,
<code>"bottom"</code>, <code>"left"</code> or <code>"right"</code>.</p>
</td></tr>
<tr><td><code id="compose_stack_+3A_available_aes">available_aes</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character&gt;&#8288;</code> giving aesthetics that must match the
the guides.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code style="white-space: pre;">&#8288;&lt;ComposeStack&gt;&#8288;</code> guide object.
</p>


<h3>See Also</h3>

<p>Other composition: 
<code><a href="#topic+compose_crux">compose_crux</a>()</code>,
<code><a href="#topic+compose_ontop">compose_ontop</a>()</code>,
<code><a href="#topic+compose_sandwich">compose_sandwich</a>()</code>,
<code><a href="#topic+guide-composition">guide-composition</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ggplot() +
  geom_function(fun = dnorm, xlim = c(-3, 3)) +
  guides(x = compose_stack(
    "axis", "axis",
    side.titles = c("first", "second")
  )) +
  # Add margin to make room for side titles
  theme(plot.margin = margin(5.5, 5.5, 5.5, 11))
</code></pre>

<hr>
<h2 id='gizmo_barcap'>Guide gizmo: capped colour bar</h2><span id='topic+gizmo_barcap'></span>

<h3>Description</h3>

<p>This guide displays a colour bar with optional caps at either ends of
the bar.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gizmo_barcap(
  key = "sequence",
  shape = "triangle",
  size = NULL,
  show = NA,
  alpha = NA,
  oob = "keep",
  theme = NULL,
  position = waiver(),
  direction = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="gizmo_barcap_+3A_key">key</code></td>
<td>
<p>A <a href="#topic+key_sequence">sequence key</a> specification. Defaults to
<code><a href="#topic+key_sequence">key_sequence(n = 15)</a></code>. Changing the argument to
<code>key_sequence()</code> is fine, but changing the key type is not advised.</p>
</td></tr>
<tr><td><code id="gizmo_barcap_+3A_shape">shape</code></td>
<td>
<p>A <a href="#topic+cap_options">cap</a> specification by providing one of the
following:
</p>

<ul>
<li><p> A cap <code style="white-space: pre;">&#8288;&lt;function&gt;&#8288;</code>, such as <code>cap_triangle()</code>.
</p>
</li>
<li><p> A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> naming a cap function without the '<code>cap_</code>'-prefix,
e.g. <code>"round"</code>.
</p>
</li>
<li><p> A two column <code style="white-space: pre;">&#8288;&lt;matrix[n, 2]&gt;&#8288;</code> giving coordinates for a cap, like those
created by cap functions such as <code>cap_arch()</code>.
</p>
</li></ul>
</td></tr>
<tr><td><code id="gizmo_barcap_+3A_size">size</code></td>
<td>
<p>A <code><a href="grid.html#topic+unit">&lt;unit&gt;</a></code> setting the size of the cap. When
<code>NULL</code> (default), cap size will be proportional to the <code>shape</code> coordinates
and the <code>legend.key.size</code> theme setting.</p>
</td></tr>
<tr><td><code id="gizmo_barcap_+3A_show">show</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;logical&gt;&#8288;</code> to control how caps are displayed at the ends
of the bar. When <code>TRUE</code>, caps are always displayed. When <code>FALSE</code>, caps
are never displayed. When <code>NA</code> (default), caps are displayed when the
data range exceed the limits. When given as <code style="white-space: pre;">&#8288;&lt;logical[2]&gt;&#8288;</code>, <code>show[1]</code>
controls the display at the lower end and <code>show[2]</code> at the upper end.</p>
</td></tr>
<tr><td><code id="gizmo_barcap_+3A_alpha">alpha</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;numeric[1]&gt;&#8288;</code> between 0 and 1 setting the colour transparency
of the bar. Use <code>NA</code> to preserve the alpha encoded in the colour itself.</p>
</td></tr>
<tr><td><code id="gizmo_barcap_+3A_oob">oob</code></td>
<td>
<p>An out-of-bounds handling function that affects the cap colour.
Can be one of the following:
</p>

<ul>
<li><p> A <code style="white-space: pre;">&#8288;&lt;function&gt;&#8288;</code> like <code><a href="scales.html#topic+oob">oob_squish</a></code>.
</p>
</li>
<li><p> A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> naming such a function without the '<code>oob</code>'-prefix,
such as <code>"keep"</code>.
</p>
</li></ul>
</td></tr>
<tr><td><code id="gizmo_barcap_+3A_theme">theme</code></td>
<td>
<p>A <code><a href="ggplot2.html#topic+theme">&lt;theme&gt;</a></code> object to style the guide individually or
differently from the plot's theme settings. The <code>theme</code> argument in the
guide overrides and is combined with the plot's theme.</p>
</td></tr>
<tr><td><code id="gizmo_barcap_+3A_position">position</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> giving the location of the guide. Can be one of <code>"top"</code>,
<code>"bottom"</code>, <code>"left"</code> or <code>"right"</code>.</p>
</td></tr>
<tr><td><code id="gizmo_barcap_+3A_direction">direction</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> indicating the direction of the guide. Can be on of
<code>"horizontal"</code> or <code>"vertical"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code style="white-space: pre;">&#8288;&lt;GizmoBarcap&gt;&#8288;</code> object.
</p>


<h3>See Also</h3>

<p>Other gizmos: 
<code><a href="#topic+gizmo_density">gizmo_density</a>()</code>,
<code><a href="#topic+gizmo_grob">gizmo_grob</a>()</code>,
<code><a href="#topic+gizmo_histogram">gizmo_histogram</a>()</code>,
<code><a href="#topic+gizmo_stepcap">gizmo_stepcap</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># A standard plot
p &lt;- ggplot(mpg, aes(displ, hwy, colour = cty)) +
  geom_point()

# Just a bar
p + scale_colour_viridis_c(guide = gizmo_barcap())

# Caps show up when there is data outside the limits
p + scale_colour_viridis_c(
  limits = c(10, 30),
  guide  = gizmo_barcap()
)

# The scale's out-of-bounds handler determines cap colour
p + scale_colour_viridis_c(
  limits = c(10, 30), oob = scales::oob_squish,
  guide = gizmo_barcap()
)

# Customising display of the guide
p +
  scale_colour_viridis_c(
    oob = scales::oob_squish,
    guide = gizmo_barcap(
      shape = "arch", show = c(FALSE, TRUE),
      size = unit(2, "cm"),
      theme = theme(legend.key.height = unit(4, "cm"))
    )
  ) +
  theme(
    legend.frame = element_rect(colour = "black"),
    legend.key.width = unit(0.5, "cm")
  )
</code></pre>

<hr>
<h2 id='gizmo_density'>Guide gizmo: kernel density estimate</h2><span id='topic+gizmo_density'></span>

<h3>Description</h3>

<p>This guide displays a kernel density estimate (KDE) of the aesthetic. If the
aesthetic is <code>colour</code> or <code>fill</code>, the shape will reflect this.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gizmo_density(
  key = waiver(),
  density = NULL,
  density.args = list(),
  density.fun = stats::density,
  just = 0.5,
  oob = "keep",
  alpha = NA,
  theme = NULL,
  position = waiver(),
  direction = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="gizmo_density_+3A_key">key</code></td>
<td>
<p>A <a href="#topic+key_sequence">sequence key</a> or <a href="#topic+key_bins">binned key</a>
specification. Internally defaults to a sequence key when the scale is
continuous and a binned key when the scale is binned.</p>
</td></tr>
<tr><td><code id="gizmo_density_+3A_density">density</code></td>
<td>
<p>One of the following:
</p>

<ul>
<li> <p><code>NULL</code> for using kernel density estimation on the data values (default).
</p>
</li>
<li><p> a <code style="white-space: pre;">&#8288;&lt;numeric&gt;&#8288;</code> vector to feed to the <code>density.fun</code> function.
</p>
</li>
<li><p> A named <code style="white-space: pre;">&#8288;&lt;list&gt;&#8288;</code> with <code>x</code> and <code>y</code> numeric elements of equal length, such
as one returned by using the <code><a href="stats.html#topic+density">density()</a></code> function.
Please note that <code style="white-space: pre;">&#8288;&lt;list&gt;&#8288;</code> input is expected in scale-transformed space,
not original data space.
</p>
</li></ul>
</td></tr>
<tr><td><code id="gizmo_density_+3A_density.args">density.args</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;list&gt;&#8288;</code> with additional arguments to the
<code>density.fun</code> argument. Only applies when <code>density</code> is not provided as a
<code style="white-space: pre;">&#8288;&lt;list&gt;&#8288;</code>. already.</p>
</td></tr>
<tr><td><code id="gizmo_density_+3A_density.fun">density.fun</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;function&gt;&#8288;</code> to use for kernel density estimation when
the <code>density</code> argument is not provided as a list already.</p>
</td></tr>
<tr><td><code id="gizmo_density_+3A_just">just</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;numeric[1]&gt;&#8288;</code> between 0 and 1. Use 0 for bottom- or
left-aligned densities, use 1 for top- or right-aligned densities and 0.5
for violin shapes.</p>
</td></tr>
<tr><td><code id="gizmo_density_+3A_oob">oob</code></td>
<td>
<p>An out-of-bounds handling function that affects the cap colour.
Can be one of the following:
</p>

<ul>
<li><p> A <code style="white-space: pre;">&#8288;&lt;function&gt;&#8288;</code> like <code><a href="scales.html#topic+oob">oob_squish</a></code>.
</p>
</li>
<li><p> A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> naming such a function without the '<code>oob</code>'-prefix,
such as <code>"keep"</code>.
</p>
</li></ul>
</td></tr>
<tr><td><code id="gizmo_density_+3A_alpha">alpha</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;numeric[1]&gt;&#8288;</code> between 0 and 1 setting the colour transparency
of the bar. Use <code>NA</code> to preserve the alpha encoded in the colour itself.</p>
</td></tr>
<tr><td><code id="gizmo_density_+3A_theme">theme</code></td>
<td>
<p>A <code><a href="ggplot2.html#topic+theme">&lt;theme&gt;</a></code> object to style the guide individually or
differently from the plot's theme settings. The <code>theme</code> argument in the
guide overrides and is combined with the plot's theme.</p>
</td></tr>
<tr><td><code id="gizmo_density_+3A_position">position</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> giving the location of the guide. Can be one of <code>"top"</code>,
<code>"bottom"</code>, <code>"left"</code> or <code>"right"</code>.</p>
</td></tr>
<tr><td><code id="gizmo_density_+3A_direction">direction</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> indicating the direction of the guide. Can be on of
<code>"horizontal"</code> or <code>"vertical"</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Non-finite values such as <code>NA</code> and <code>NaN</code> are ignored while infinite values
such as <code>-Inf</code> and <code>Inf</code> are <a href="scales.html#topic+oob">squished</a> to the limits.
</p>


<h3>Value</h3>

<p>A <code style="white-space: pre;">&#8288;&lt;GizmoDensity&gt;&#8288;</code> object.
</p>


<h3>See Also</h3>

<p>Other gizmos: 
<code><a href="#topic+gizmo_barcap">gizmo_barcap</a>()</code>,
<code><a href="#topic+gizmo_grob">gizmo_grob</a>()</code>,
<code><a href="#topic+gizmo_histogram">gizmo_histogram</a>()</code>,
<code><a href="#topic+gizmo_stepcap">gizmo_stepcap</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># A standard plot
p &lt;- ggplot(mpg, aes(displ, hwy, colour = cty)) +
  geom_point() +
  scale_colour_viridis_c()

# Density from plot data
p + guides(colour = gizmo_density())

# Using bins instead of gradient
p + guides(colour = gizmo_density("bins"))

# Providing custom values to compute density of
p + guides(colour = gizmo_density(density = runif(1000, min = 5, max = 35)))

# Providing a precomputed density
p + guides(colour = gizmo_density(density = density(mpg$cty, adjust = 0.5)))

# Alternatively, parameters may be passed through density.args
p + guides(colour = gizmo_density(density.args = list(adjust = 0.5)))
</code></pre>

<hr>
<h2 id='gizmo_grob'>Guide gizmo: custom grob</h2><span id='topic+gizmo_grob'></span>

<h3>Description</h3>

<p>This guide displays a user-provided grob.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gizmo_grob(
  grob,
  width = grobWidth(grob),
  height = grobHeight(grob),
  hjust = 0.5,
  vjust = 0.5,
  position = waiver()
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="gizmo_grob_+3A_grob">grob</code></td>
<td>
<p>A <code><a href="grid.html#topic+grid.grob">&lt;grob&gt;</a></code> to display.</p>
</td></tr>
<tr><td><code id="gizmo_grob_+3A_width">width</code>, <code id="gizmo_grob_+3A_height">height</code></td>
<td>
<p>A [<code style="white-space: pre;">&#8288;&lt;unit[1]&gt;&#8288;</code>][grid::unit] setting the allocated
width and height of the the grob respectively.</p>
</td></tr>
<tr><td><code id="gizmo_grob_+3A_hjust">hjust</code>, <code id="gizmo_grob_+3A_vjust">vjust</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;numeric[1]&gt;&#8288;</code> between 0 and 1 setting the horizontal
and vertical justification of the grob when used as a guide for the <code>x</code>
and <code>y</code> aesthetics.</p>
</td></tr>
<tr><td><code id="gizmo_grob_+3A_position">position</code></td>
<td>
<p>Where this guide should be drawn: one of <code>"top"</code>, <code>"bottom"</code>,
<code>"left"</code>, or <code>"right"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code style="white-space: pre;">&#8288;&lt;GizmoGrob&gt;&#8288;</code> object.
</p>


<h3>See Also</h3>

<p>Other gizmos: 
<code><a href="#topic+gizmo_barcap">gizmo_barcap</a>()</code>,
<code><a href="#topic+gizmo_density">gizmo_density</a>()</code>,
<code><a href="#topic+gizmo_histogram">gizmo_histogram</a>()</code>,
<code><a href="#topic+gizmo_stepcap">gizmo_stepcap</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>circle &lt;- grid::circleGrob()

# A standard plot with grob gizmos
ggplot(mpg, aes(displ, hwy, colour = cty)) +
  geom_point() +
  guides(
    x.sec = gizmo_grob(
      circle, hjust = 0.75,
      width = unit(2, "cm"), height = unit(2, "cm")
    ),
    colour = gizmo_grob(
      circle, width = unit(1, "cm"), height = unit(1, "cm")
    )
  )
</code></pre>

<hr>
<h2 id='gizmo_histogram'>Guide gizmo: histogram</h2><span id='topic+gizmo_histogram'></span>

<h3>Description</h3>

<p>This guide displays a histogram of the aesthetic. If the aesthetic is
<code>colour</code> or <code>fill</code>, the shape will reflect this.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gizmo_histogram(
  key = waiver(),
  hist = NULL,
  hist.args = list(),
  hist.fun = graphics::hist,
  just = 1,
  oob = oob_keep,
  metric = "counts",
  alpha = NA,
  theme = NULL,
  position = waiver(),
  direction = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="gizmo_histogram_+3A_key">key</code></td>
<td>
<p>A <a href="#topic+key_sequence">sequence key</a> or <a href="#topic+key_bins">binned key</a>
specification. Internally defaults to a sequence key when the scale is
continuous and a binned key when the scale is binned.</p>
</td></tr>
<tr><td><code id="gizmo_histogram_+3A_hist">hist</code></td>
<td>
<p>One of the following:
</p>

<ul>
<li> <p><code>NULL</code> for computing histograms on the data values (default).
</p>
</li>
<li><p> an atomic <code style="white-space: pre;">&#8288;&lt;vector&gt;&#8288;</code> to feed to the <code>hist.fun</code> function.
</p>
</li>
<li><p> A named <code style="white-space: pre;">&#8288;&lt;list&gt;&#8288;</code> with <code>breaks</code> and <code>counts</code> numeric items, where the
<code>breaks</code> item is exactly one element longer than the <code>counts</code> item. A
typical way to construct such list is using the <code><a href="graphics.html#topic+hist">hist()</a></code>
function. Please note that <code style="white-space: pre;">&#8288;&lt;list&gt;&#8288;</code> input is expected in scale-transformed
space, not original data space.
</p>
</li></ul>
</td></tr>
<tr><td><code id="gizmo_histogram_+3A_hist.args">hist.args</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;list&gt;&#8288;</code> with additional arguments to the <code>hist.fun</code>
argument. Only applies when <code>hist</code> is not provided as a <code style="white-space: pre;">&#8288;&lt;list&gt;&#8288;</code> already.
Please note that these arguments are only used for binning and counting:
graphical arguments are ignored.</p>
</td></tr>
<tr><td><code id="gizmo_histogram_+3A_hist.fun">hist.fun</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;function&gt;&#8288;</code> to use for computing histograms when the
<code>hist</code> argument is not provided as a list already.</p>
</td></tr>
<tr><td><code id="gizmo_histogram_+3A_just">just</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;numeric[1]&gt;&#8288;</code> between 0 and 1. Use 0 for bottom- or
left-aligned histograms, use 1 for top- or right-aligned histograms and 0.5
for centred histograms.</p>
</td></tr>
<tr><td><code id="gizmo_histogram_+3A_oob">oob</code></td>
<td>
<p>An out-of-bounds handling function that affects the cap colour.
Can be one of the following:
</p>

<ul>
<li><p> A <code style="white-space: pre;">&#8288;&lt;function&gt;&#8288;</code> like <code><a href="scales.html#topic+oob">oob_squish</a></code>.
</p>
</li>
<li><p> A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> naming such a function without the '<code>oob</code>'-prefix,
such as <code>"keep"</code>.
</p>
</li></ul>
</td></tr>
<tr><td><code id="gizmo_histogram_+3A_metric">metric</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> either <code>"counts"</code> or <code>"density"</code> stating
which field of the <code style="white-space: pre;">&#8288;&lt;histogram&gt;&#8288;</code> class to display. The <code>"density"</code> metric
might be more appropriate to display when the histogram breaks have
non-constant intervals.</p>
</td></tr>
<tr><td><code id="gizmo_histogram_+3A_alpha">alpha</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;numeric[1]&gt;&#8288;</code> between 0 and 1 setting the colour transparency
of the bar. Use <code>NA</code> to preserve the alpha encoded in the colour itself.</p>
</td></tr>
<tr><td><code id="gizmo_histogram_+3A_theme">theme</code></td>
<td>
<p>A <code><a href="ggplot2.html#topic+theme">&lt;theme&gt;</a></code> object to style the guide individually or
differently from the plot's theme settings. The <code>theme</code> argument in the
guide overrides and is combined with the plot's theme.</p>
</td></tr>
<tr><td><code id="gizmo_histogram_+3A_position">position</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> giving the location of the guide. Can be one of <code>"top"</code>,
<code>"bottom"</code>, <code>"left"</code> or <code>"right"</code>.</p>
</td></tr>
<tr><td><code id="gizmo_histogram_+3A_direction">direction</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> indicating the direction of the guide. Can be on of
<code>"horizontal"</code> or <code>"vertical"</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Non-finite values such as <code>NA</code> and <code>NaN</code> are ignored while infinite values
such as <code>-Inf</code> and <code>Inf</code> are <a href="scales.html#topic+oob">squished</a> to the limits.
</p>


<h3>Value</h3>

<p>A <code style="white-space: pre;">&#8288;&lt;GizmoHistogram&gt;&#8288;</code> object.
</p>


<h3>See Also</h3>

<p>Other gizmos: 
<code><a href="#topic+gizmo_barcap">gizmo_barcap</a>()</code>,
<code><a href="#topic+gizmo_density">gizmo_density</a>()</code>,
<code><a href="#topic+gizmo_grob">gizmo_grob</a>()</code>,
<code><a href="#topic+gizmo_stepcap">gizmo_stepcap</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># A standard plot
p &lt;- ggplot(mpg, aes(displ, hwy, colour = cty)) +
  geom_point() +
  scale_colour_viridis_c()

# Histogram from plot data
p + guides(colour = gizmo_histogram())

# Using bins instead of gradient
p + guides(colour = gizmo_histogram("bins"))

# Providing custom values to compute histogram
p + guides(colour = gizmo_histogram(hist = runif(1000, min = 5, max = 35)))

# Providing precomputed histogram
p + guides(colour = gizmo_histogram(hist = hist(mpg$cty, breaks = 10)))

# Alternatively, parameters may be passed through hist.args
p + guides(colour = gizmo_histogram(hist.arg = list(breaks = 10)))
</code></pre>

<hr>
<h2 id='gizmo_stepcap'>Guide gizmo: capped colour steps</h2><span id='topic+gizmo_stepcap'></span>

<h3>Description</h3>

<p>This guide displays a binned variant of the colour bar with optional caps at
either ends of the bar.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gizmo_stepcap(
  key = "bins",
  shape = "triangle",
  size = NULL,
  show = NA,
  alpha = NA,
  oob = "keep",
  theme = NULL,
  position = waiver(),
  direction = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="gizmo_stepcap_+3A_key">key</code></td>
<td>
<p>A <a href="#topic+key_bins">bins key</a> specificiation. Defaults to
<code>key_bins(even.steps = FALSE, show.limits = NULL)</code>. Changing the
arguments to <code>key_bins()</code> is fine, but changing the key type is not
advised.</p>
</td></tr>
<tr><td><code id="gizmo_stepcap_+3A_shape">shape</code></td>
<td>
<p>A <a href="#topic+cap_options">cap</a> specification by providing one of the
following:
</p>

<ul>
<li><p> A cap <code style="white-space: pre;">&#8288;&lt;function&gt;&#8288;</code>, such as <code>cap_triangle()</code>.
</p>
</li>
<li><p> A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> naming a cap function without the '<code>cap_</code>'-prefix,
e.g. <code>"round"</code>.
</p>
</li>
<li><p> A two column <code style="white-space: pre;">&#8288;&lt;matrix[n, 2]&gt;&#8288;</code> giving coordinates for a cap, like those
created by cap functions such as <code>cap_arch()</code>.
</p>
</li></ul>
</td></tr>
<tr><td><code id="gizmo_stepcap_+3A_size">size</code></td>
<td>
<p>A <code><a href="grid.html#topic+unit">&lt;unit&gt;</a></code> setting the size of the cap. When
<code>NULL</code> (default), cap size will be proportional to the <code>shape</code> coordinates
and the <code>legend.key.size</code> theme setting.</p>
</td></tr>
<tr><td><code id="gizmo_stepcap_+3A_show">show</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;logical&gt;&#8288;</code> to control how caps are displayed at the ends
of the bar. When <code>TRUE</code>, caps are always displayed. When <code>FALSE</code>, caps
are never displayed. When <code>NA</code> (default), caps are displayed when the
data range exceed the limits. When given as <code style="white-space: pre;">&#8288;&lt;logical[2]&gt;&#8288;</code>, <code>show[1]</code>
controls the display at the lower end and <code>show[2]</code> at the upper end.</p>
</td></tr>
<tr><td><code id="gizmo_stepcap_+3A_alpha">alpha</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;numeric[1]&gt;&#8288;</code> between 0 and 1 setting the colour transparency
of the bar. Use <code>NA</code> to preserve the alpha encoded in the colour itself.</p>
</td></tr>
<tr><td><code id="gizmo_stepcap_+3A_oob">oob</code></td>
<td>
<p>An out-of-bounds handling function that affects the cap colour.
Can be one of the following:
</p>

<ul>
<li><p> A <code style="white-space: pre;">&#8288;&lt;function&gt;&#8288;</code> like <code><a href="scales.html#topic+oob">oob_squish</a></code>.
</p>
</li>
<li><p> A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> naming such a function without the '<code>oob</code>'-prefix,
such as <code>"keep"</code>.
</p>
</li></ul>
</td></tr>
<tr><td><code id="gizmo_stepcap_+3A_theme">theme</code></td>
<td>
<p>A <code><a href="ggplot2.html#topic+theme">&lt;theme&gt;</a></code> object to style the guide individually or
differently from the plot's theme settings. The <code>theme</code> argument in the
guide overrides and is combined with the plot's theme.</p>
</td></tr>
<tr><td><code id="gizmo_stepcap_+3A_position">position</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> giving the location of the guide. Can be one of <code>"top"</code>,
<code>"bottom"</code>, <code>"left"</code> or <code>"right"</code>.</p>
</td></tr>
<tr><td><code id="gizmo_stepcap_+3A_direction">direction</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> indicating the direction of the guide. Can be on of
<code>"horizontal"</code> or <code>"vertical"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>GizmoStepcap</code> object.
</p>


<h3>See Also</h3>

<p>Other gizmos: 
<code><a href="#topic+gizmo_barcap">gizmo_barcap</a>()</code>,
<code><a href="#topic+gizmo_density">gizmo_density</a>()</code>,
<code><a href="#topic+gizmo_grob">gizmo_grob</a>()</code>,
<code><a href="#topic+gizmo_histogram">gizmo_histogram</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># A standard plot
p &lt;- ggplot(mpg, aes(displ, hwy, colour = cty)) +
  geom_point()

# Just some recangles
p + scale_colour_viridis_c(guide = gizmo_stepcap())

# Caps show up when there is data outside the limits
p + scale_colour_viridis_c(
  limits = c(10, 30),
  guide = gizmo_stepcap()
)

# The scale's out-of-bounds handler determines cap colour
p + scale_colour_viridis_c(
  limits = c(10, 30), oob = scales::oob_squish,
  guide = gizmo_stepcap()
)

# Customising the display of the guide
p +
  scale_colour_viridis_c(
    oob = scales::oob_squish,
    guide = gizmo_stepcap(
      shape = "round", show = c(FALSE, TRUE),
      size = unit(1, "cm"),
      theme = theme(legend.key.height = unit(4, "cm"))
    )
  ) +
  theme(
    legend.frame = element_rect(colour = "black"),
    legend.key.width = unit(0.5, "cm")
  )
</code></pre>

<hr>
<h2 id='guide_axis_base'>Custom axis guide</h2><span id='topic+guide_axis_base'></span>

<h3>Description</h3>

<p>This axis guide is a visual representation of position scales and can
represent the <code>x</code>, <code>y</code>, <code>theta</code> and <code>r</code> aesthetics. It differs from
<code><a href="ggplot2.html#topic+guide_axis">guide_axis()</a></code> in that it can accept custom keys
and is can act as an axis for <code><a href="ggplot2.html#topic+coord_polar">coord_radial()</a></code> like
<code><a href="ggplot2.html#topic+guide_axis_theta">guide_axis_theta()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>guide_axis_base(
  key = NULL,
  title = waiver(),
  theme = NULL,
  n.dodge = 1,
  check.overlap = FALSE,
  angle = waiver(),
  cap = "none",
  bidi = FALSE,
  order = 0,
  position = waiver()
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="guide_axis_base_+3A_key">key</code></td>
<td>
<p>A <a href="#topic+key_standard">standard key</a> specification. Defaults to
<code><a href="#topic+key_auto">key_auto()</a></code>. See more information in the linked topic and the 'Details'
section.</p>
</td></tr>
<tr><td><code id="guide_axis_base_+3A_title">title</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> or <code style="white-space: pre;">&#8288;&lt;expression[1]&gt;&#8288;</code> indicating the title of
the guide. If <code>NULL</code>, the title is not shown. The default,
<code><a href="ggplot2.html#topic+waiver">waiver()</a></code>, takes the name of the scale object or
the name specified in <code><a href="ggplot2.html#topic+labs">labs()</a></code> as the title.</p>
</td></tr>
<tr><td><code id="guide_axis_base_+3A_theme">theme</code></td>
<td>
<p>A <code><a href="ggplot2.html#topic+theme">&lt;theme&gt;</a></code> object to style the guide individually or
differently from the plot's theme settings. The <code>theme</code> argument in the
guide overrides and is combined with the plot's theme.</p>
</td></tr>
<tr><td><code id="guide_axis_base_+3A_n.dodge">n.dodge</code></td>
<td>
<p>An positive <code style="white-space: pre;">&#8288;&lt;integer[1]&gt;&#8288;</code> setting the number of layers text
labels can occupy to avoid overlapping labels.</p>
</td></tr>
<tr><td><code id="guide_axis_base_+3A_check.overlap">check.overlap</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;logical[1]&gt;&#8288;</code> indicating whether to check for and
omit overlapping text. If <code>TRUE</code>, first, last and middle labels are
recursively prioritised in that order. If <code>FALSE</code>, all labels are drawn.</p>
</td></tr>
<tr><td><code id="guide_axis_base_+3A_angle">angle</code></td>
<td>
<p>A specification for the text angle. Compared to setting the <code>angle</code> argument
in <code><a href="ggplot2.html#topic+element">element_text()</a></code>, this argument uses some
heuristics to automatically pick the <code>hjust</code> and <code>vjust</code> that you
probably want. Can be one of the following:
</p>

<ul>
<li> <p><code>NULL</code> to take angles and justification settings directly from the theme.
</p>
</li>
<li> <p><code><a href="ggplot2.html#topic+waiver">waiver()</a></code> to allow reasonable defaults in special
cases.
</p>
</li>
<li><p> A <code style="white-space: pre;">&#8288;&lt;numeric[1]&gt;&#8288;</code> between -360 and 360 for the text angle in degrees.
</p>
</li></ul>
</td></tr>
<tr><td><code id="guide_axis_base_+3A_cap">cap</code></td>
<td>
<p>A method to cap the axes. One of the following:
</p>

<ul>
<li><p> A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> with one of the following:
</p>

<ul>
<li> <p><code>"none"</code> to perform no capping.
</p>
</li>
<li> <p><code>"both"</code> to cap the line at both ends at the most extreme breaks.
</p>
</li>
<li> <p><code>"upper"</code> to cap the line at the upper extreme break.
</p>
</li>
<li> <p><code>"lower"</code> to cap the line at the lower extreme break.
</p>
</li></ul>

</li>
<li><p> A <code style="white-space: pre;">&#8288;&lt;logical&gt;[1]&#8288;</code>, where <code>TRUE</code> is equivalent to <code>"both"</code> and <code>FALSE</code>
is equivalent to <code>"none"</code> in the options above.
</p>
</li>
<li><p> A sorted <code style="white-space: pre;">&#8288;&lt;numeric&gt;[2n]&#8288;</code> with an even number of members. The lines
will be drawn between every odd-even pair.
</p>
</li>
<li><p> A <code style="white-space: pre;">&#8288;&lt;function&gt;&#8288;</code> that takes the scale's breaks as the first argument, the
scale's limits as the second argument and returns a <code style="white-space: pre;">&#8288;&lt;numeric&gt;[2n]&#8288;</code> as
described above.
</p>
</li></ul>
</td></tr>
<tr><td><code id="guide_axis_base_+3A_bidi">bidi</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;logical[1]&gt;&#8288;</code>: whether ticks should be drawn bidirectionally
(<code>TRUE</code>) or in a single direction (<code>FALSE</code>, default).</p>
</td></tr>
<tr><td><code id="guide_axis_base_+3A_order">order</code></td>
<td>
<p>A positive <code style="white-space: pre;">&#8288;&lt;integer[1]&gt;&#8288;</code> that specifies the order of this guide among
multiple guides. This controls in which order guides are merged if there
are multiple guides for the same position. If <code>0</code> (default), the order is
determined by a hashing indicative settings of a guide.</p>
</td></tr>
<tr><td><code id="guide_axis_base_+3A_position">position</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> giving the location of the guide. Can be one of <code>"top"</code>,
<code>"bottom"</code>, <code>"left"</code> or <code>"right"</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Under the hood, this guide is a <a href="#topic+compose_stack">stack composition</a> of a
<a href="#topic+primitive_line">line</a>, <a href="#topic+primitive_ticks">ticks</a> and
<a href="#topic+primitive_labels">labels</a> primitives.
</p>
<p>To set minor ticks, use <code>key = "minor"</code>, or use the <code>type</code> argument in
<code>key_manual()</code> or <code>key_map()</code>.
</p>
<p>To use this as a logarithmic axis, set <code>key = "log"</code>.
</p>


<h3>Value</h3>

<p>A <code style="white-space: pre;">&#8288;&lt;Guide&gt;&#8288;</code> object.
</p>


<h3>See Also</h3>

<p>Other standalone guides: 
<code><a href="#topic+guide_axis_dendro">guide_axis_dendro</a>()</code>,
<code><a href="#topic+guide_axis_nested">guide_axis_nested</a>()</code>,
<code><a href="#topic+guide_circles">guide_circles</a>()</code>,
<code><a href="#topic+guide_colbar">guide_colbar</a>()</code>,
<code><a href="#topic+guide_colring">guide_colring</a>()</code>,
<code><a href="#topic+guide_colsteps">guide_colsteps</a>()</code>,
<code><a href="#topic+guide_legend_base">guide_legend_base</a>()</code>,
<code><a href="#topic+guide_legend_cross">guide_legend_cross</a>()</code>,
<code><a href="#topic+guide_legend_group">guide_legend_group</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># A standard plot with custom keys
p &lt;- ggplot(mpg, aes(displ, hwy)) +
  geom_point() +
  scale_x_continuous(
    guide = guide_axis_base(key = key_minor())
  ) +
  scale_y_continuous(
    guide = guide_axis_base(key = key_manual(c(20, 25, 30, 40)))
  )
p

# Is translated to theta axis without fuss
p + coord_radial()

# To use as logarithmic axis:
ggplot(msleep, aes(bodywt, brainwt)) +
  geom_point(na.rm = TRUE) +
  scale_x_continuous(
    transform = "log10",
    guide = guide_axis_base("log")
  )
</code></pre>

<hr>
<h2 id='guide_axis_dendro'>Dendrogram guide</h2><span id='topic+guide_axis_dendro'></span>

<h3>Description</h3>

<p>This axis is a speciality axis for discrete data that has been
hierarchically clustered. Please be aware that the guide cannot affect the
scale limits, which should be set appropriately. This guide will give
misleading results when this step is skipped!
</p>


<h3>Usage</h3>

<pre><code class='language-R'>guide_axis_dendro(
  key = "dendro",
  title = waiver(),
  theme = NULL,
  labels = TRUE,
  space = rel(10),
  vanish = TRUE,
  n.dodge = 1,
  angle = waiver(),
  check.overlap = FALSE,
  ticks = "none",
  axis_line = "none",
  order = 0,
  position = waiver()
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="guide_axis_dendro_+3A_key">key</code></td>
<td>
<p>A <a href="#topic+key_segments">segment key</a> specification. See more information
in the linked topic. Alternatively, an object of class
<code><a href="stats.html#topic+hclust">&lt;hclust&gt;</a></code> that automatically invokes <code>key_dendro()</code>.</p>
</td></tr>
<tr><td><code id="guide_axis_dendro_+3A_title">title</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> or <code style="white-space: pre;">&#8288;&lt;expression[1]&gt;&#8288;</code> indicating the title of
the guide. If <code>NULL</code>, the title is not shown. The default,
<code><a href="ggplot2.html#topic+waiver">waiver()</a></code>, takes the name of the scale object or
the name specified in <code><a href="ggplot2.html#topic+labs">labs()</a></code> as the title.</p>
</td></tr>
<tr><td><code id="guide_axis_dendro_+3A_theme">theme</code></td>
<td>
<p>A <code><a href="ggplot2.html#topic+theme">&lt;theme&gt;</a></code> object to style the guide individually or
differently from the plot's theme settings. The <code>theme</code> argument in the
guide overrides and is combined with the plot's theme.</p>
</td></tr>
<tr><td><code id="guide_axis_dendro_+3A_labels">labels</code>, <code id="guide_axis_dendro_+3A_ticks">ticks</code>, <code id="guide_axis_dendro_+3A_axis_line">axis_line</code></td>
<td>
<p>Guides to use as labels, ticks or axis lines. Can be specified as one of
the following:
</p>

<ul>
<li><p> A <code style="white-space: pre;">&#8288;&lt;logical[1]&gt;&#8288;</code> which when <code>FALSE</code> will set the guide to <code>guide_none()</code>
and if <code>TRUE</code>, will set guide to appropriate primitive.
</p>
</li>
<li><p> A <code style="white-space: pre;">&#8288;&lt;Guide&gt;&#8288;</code> class object.
</p>
</li>
<li><p> A <code style="white-space: pre;">&#8288;&lt;function&gt;&#8288;</code> that returns a <code style="white-space: pre;">&#8288;&lt;Guide&gt;&#8288;</code> class object.
</p>
</li>
<li><p> A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> naming such a function, without the <code>guide_</code> or
<code>primitive_</code> prefix.
</p>
</li></ul>
</td></tr>
<tr><td><code id="guide_axis_dendro_+3A_space">space</code></td>
<td>
<p>Either a <code><a href="grid.html#topic+unit">&lt;unit&gt;</a></code> or <code><a href="ggplot2.html#topic+element">&lt;rel&gt;</a></code>
object of length 1 determining the space allocated in the orthogonal
direction. When the <code>space</code> argument is of class <code style="white-space: pre;">&#8288;&lt;rel&gt;&#8288;</code> (default) the
base size is taken from the tick length theme setting.</p>
</td></tr>
<tr><td><code id="guide_axis_dendro_+3A_vanish">vanish</code></td>
<td>
<p>Only relevant when the guide is used in the secondary theta
position: a <code style="white-space: pre;">&#8288;&lt;logical[1]&gt;&#8288;</code> on whether the continue to draw the segments
until they meed in the center (<code>TRUE</code>) or strictly observe the <code>space</code>
setting (<code>FALSE</code>).</p>
</td></tr>
<tr><td><code id="guide_axis_dendro_+3A_n.dodge">n.dodge</code></td>
<td>
<p>An positive <code style="white-space: pre;">&#8288;&lt;integer[1]&gt;&#8288;</code> setting the number of layers text
labels can occupy to avoid overlapping labels.</p>
</td></tr>
<tr><td><code id="guide_axis_dendro_+3A_angle">angle</code></td>
<td>
<p>A specification for the text angle. Compared to setting the <code>angle</code> argument
in <code><a href="ggplot2.html#topic+element">element_text()</a></code>, this argument uses some
heuristics to automatically pick the <code>hjust</code> and <code>vjust</code> that you
probably want. Can be one of the following:
</p>

<ul>
<li> <p><code>NULL</code> to take angles and justification settings directly from the theme.
</p>
</li>
<li> <p><code><a href="ggplot2.html#topic+waiver">waiver()</a></code> to allow reasonable defaults in special
cases.
</p>
</li>
<li><p> A <code style="white-space: pre;">&#8288;&lt;numeric[1]&gt;&#8288;</code> between -360 and 360 for the text angle in degrees.
</p>
</li></ul>
</td></tr>
<tr><td><code id="guide_axis_dendro_+3A_check.overlap">check.overlap</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;logical[1]&gt;&#8288;</code> indicating whether to check for and
omit overlapping text. If <code>TRUE</code>, first, last and middle labels are
recursively prioritised in that order. If <code>FALSE</code>, all labels are drawn.</p>
</td></tr>
<tr><td><code id="guide_axis_dendro_+3A_order">order</code></td>
<td>
<p>A positive <code style="white-space: pre;">&#8288;&lt;integer[1]&gt;&#8288;</code> that specifies the order of this guide among
multiple guides. This controls in which order guides are merged if there
are multiple guides for the same position. If <code>0</code> (default), the order is
determined by a hashing indicative settings of a guide.</p>
</td></tr>
<tr><td><code id="guide_axis_dendro_+3A_position">position</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> giving the location of the guide. Can be one of <code>"top"</code>,
<code>"bottom"</code>, <code>"left"</code> or <code>"right"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code style="white-space: pre;">&#8288;&lt;Guide&gt;&#8288;</code> object.
</p>


<h3>See Also</h3>

<p>Other standalone guides: 
<code><a href="#topic+guide_axis_base">guide_axis_base</a>()</code>,
<code><a href="#topic+guide_axis_nested">guide_axis_nested</a>()</code>,
<code><a href="#topic+guide_circles">guide_circles</a>()</code>,
<code><a href="#topic+guide_colbar">guide_colbar</a>()</code>,
<code><a href="#topic+guide_colring">guide_colring</a>()</code>,
<code><a href="#topic+guide_colsteps">guide_colsteps</a>()</code>,
<code><a href="#topic+guide_legend_base">guide_legend_base</a>()</code>,
<code><a href="#topic+guide_legend_cross">guide_legend_cross</a>()</code>,
<code><a href="#topic+guide_legend_group">guide_legend_group</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Hierarchically cluster data
clust &lt;- hclust(dist(scale(mtcars)), "ave")

# Using the guide along with appropriate limits
p &lt;- ggplot(mtcars, aes(disp, rownames(mtcars))) +
  geom_col() +
  scale_y_discrete(limits = clust$labels[clust$order])

# Standard usage
p + guides(y = guide_axis_dendro(clust))

# Adding ticks and axis line
p + guides(y = guide_axis_dendro(clust, ticks = "ticks", axis_line = "line")) +
  theme(axis.line = element_line())

# Controlling space allocated to dendrogram
p + guides(y = guide_axis_dendro(clust, space = unit(4, "cm"))) +
  theme(axis.ticks.y.left = element_line("red"))

# If want just the dendrogram, use `labels = FALSE`
p + guides(y = guide_axis_dendro(clust, labels = FALSE), y.sec = "axis")
</code></pre>

<hr>
<h2 id='guide_axis_nested'>Nested axis guide</h2><span id='topic+guide_axis_nested'></span>

<h3>Description</h3>

<p>This axis guide gives extra range annotations to position scales. It can
be used to infer nesting structure from labels or annotate ranges.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>guide_axis_nested(
  key = "range_auto",
  regular_key = "auto",
  type = "bracket",
  title = waiver(),
  theme = NULL,
  angle = waiver(),
  cap = "none",
  bidi = FALSE,
  oob = "squish",
  drop_zero = TRUE,
  pad_discrete = NULL,
  levels_text = NULL,
  ...,
  order = 0,
  position = waiver()
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="guide_axis_nested_+3A_key">key</code></td>
<td>
<p>One of the following:
</p>

<ul>
<li><p> A <a href="#topic+key_range">range key</a> specification. If not <code>key = "range_auto"</code>,
additional labels will be inserted to represent point values.
</p>
</li>
<li><p> A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> passed to the <code><a href="#topic+key_range_auto">key_range_auto(sep)</a></code>
argument. An exception is made when the string is a valid key
specification.
</p>
</li></ul>
</td></tr>
<tr><td><code id="guide_axis_nested_+3A_regular_key">regular_key</code></td>
<td>
<p>A <a href="#topic+key_standard">standard key</a> specification for the
appearance of regular tick marks.</p>
</td></tr>
<tr><td><code id="guide_axis_nested_+3A_type">type</code></td>
<td>
<p>Appearance of ranges, either <code>"box"</code> to put text in boxes or
<code>"bracket"</code> (default) to text brackets.</p>
</td></tr>
<tr><td><code id="guide_axis_nested_+3A_title">title</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> or <code style="white-space: pre;">&#8288;&lt;expression[1]&gt;&#8288;</code> indicating the title of
the guide. If <code>NULL</code>, the title is not shown. The default,
<code><a href="ggplot2.html#topic+waiver">waiver()</a></code>, takes the name of the scale object or
the name specified in <code><a href="ggplot2.html#topic+labs">labs()</a></code> as the title.</p>
</td></tr>
<tr><td><code id="guide_axis_nested_+3A_theme">theme</code></td>
<td>
<p>A <code><a href="ggplot2.html#topic+theme">&lt;theme&gt;</a></code> object to style the guide individually or
differently from the plot's theme settings. The <code>theme</code> argument in the
guide overrides and is combined with the plot's theme.</p>
</td></tr>
<tr><td><code id="guide_axis_nested_+3A_angle">angle</code></td>
<td>
<p>A specification for the text angle. Compared to setting the <code>angle</code> argument
in <code><a href="ggplot2.html#topic+element">element_text()</a></code>, this argument uses some
heuristics to automatically pick the <code>hjust</code> and <code>vjust</code> that you
probably want. Can be one of the following:
</p>

<ul>
<li> <p><code>NULL</code> to take angles and justification settings directly from the theme.
</p>
</li>
<li> <p><code><a href="ggplot2.html#topic+waiver">waiver()</a></code> to allow reasonable defaults in special
cases.
</p>
</li>
<li><p> A <code style="white-space: pre;">&#8288;&lt;numeric[1]&gt;&#8288;</code> between -360 and 360 for the text angle in degrees.
</p>
</li></ul>
</td></tr>
<tr><td><code id="guide_axis_nested_+3A_cap">cap</code></td>
<td>
<p>A method to cap the axes. One of the following:
</p>

<ul>
<li><p> A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> with one of the following:
</p>

<ul>
<li> <p><code>"none"</code> to perform no capping.
</p>
</li>
<li> <p><code>"both"</code> to cap the line at both ends at the most extreme breaks.
</p>
</li>
<li> <p><code>"upper"</code> to cap the line at the upper extreme break.
</p>
</li>
<li> <p><code>"lower"</code> to cap the line at the lower extreme break.
</p>
</li></ul>

</li>
<li><p> A <code style="white-space: pre;">&#8288;&lt;logical&gt;[1]&#8288;</code>, where <code>TRUE</code> is equivalent to <code>"both"</code> and <code>FALSE</code>
is equivalent to <code>"none"</code> in the options above.
</p>
</li>
<li><p> A sorted <code style="white-space: pre;">&#8288;&lt;numeric&gt;[2n]&#8288;</code> with an even number of members. The lines
will be drawn between every odd-even pair.
</p>
</li>
<li><p> A <code style="white-space: pre;">&#8288;&lt;function&gt;&#8288;</code> that takes the scale's breaks as the first argument, the
scale's limits as the second argument and returns a <code style="white-space: pre;">&#8288;&lt;numeric&gt;[2n]&#8288;</code> as
described above.
</p>
</li></ul>
</td></tr>
<tr><td><code id="guide_axis_nested_+3A_bidi">bidi</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;logical[1]&gt;&#8288;</code>: whether ticks should be drawn bidirectionally
(<code>TRUE</code>) or in a single direction (<code>FALSE</code>, default).</p>
</td></tr>
<tr><td><code id="guide_axis_nested_+3A_oob">oob</code></td>
<td>
<p>A method for dealing with out-of-bounds (oob) ranges. Can be one
of <code>"squish"</code>, <code>"censor"</code> or <code>"none"</code>.</p>
</td></tr>
<tr><td><code id="guide_axis_nested_+3A_drop_zero">drop_zero</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;logical[1]&gt;&#8288;</code> whether to drop near-zero width ranges
(<code>TRUE</code>, default) or preserve them (<code>FALSE</code>).</p>
</td></tr>
<tr><td><code id="guide_axis_nested_+3A_pad_discrete">pad_discrete</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;numeric[1]&gt;&#8288;</code> giving the amount ranges should be
extended when given as a discrete variable. This is applied after
the <code>drop_zero</code> setting.</p>
</td></tr>
<tr><td><code id="guide_axis_nested_+3A_levels_text">levels_text</code></td>
<td>
<p>A list of <code style="white-space: pre;">&#8288;&lt;element_text&gt;&#8288;</code> objects to customise how
text appears at every level.</p>
</td></tr>
<tr><td><code id="guide_axis_nested_+3A_...">...</code></td>
<td>
<p>Arguments passed on to <code><a href="#topic+primitive_bracket">primitive_bracket()</a></code>,
<code><a href="#topic+primitive_box">primitive_box()</a></code> or <code><a href="#topic+primitive_fence">primitive_fence()</a></code>.</p>
</td></tr>
<tr><td><code id="guide_axis_nested_+3A_order">order</code></td>
<td>
<p>A positive <code style="white-space: pre;">&#8288;&lt;integer[1]&gt;&#8288;</code> that specifies the order of this guide among
multiple guides. This controls in which order guides are merged if there
are multiple guides for the same position. If <code>0</code> (default), the order is
determined by a hashing indicative settings of a guide.</p>
</td></tr>
<tr><td><code id="guide_axis_nested_+3A_position">position</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> giving the location of the guide. Can be one of <code>"top"</code>,
<code>"bottom"</code>, <code>"left"</code> or <code>"right"</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Under the hood, this guide is a <a href="#topic+compose_stack">stack composition</a> of a
<a href="#topic+primitive_line">line</a>, <a href="#topic+primitive_ticks">ticks</a>, optionally
<a href="#topic+primitive_labels">labels</a> and either <a href="#topic+primitive_bracket">bracket</a>,
<a href="#topic+primitive_box">box</a> or <a href="#topic+primitive_fence">fence</a> primitives.
</p>
<p>By default, the <code><a href="#topic+key_range">key = &quot;range_auto&quot;</a></code> will incorporate the 0th
level labels inferred from the scale's labels. These labels will look like
regular labels.
</p>
<p>To offer other keys the opportunity to display ranges alongside
regular-looking labels, the <code>regular_key</code> argument can be used to setup a
separate key for display in between the ticks and ranges.
</p>


<h3>Value</h3>

<p>A <code style="white-space: pre;">&#8288;&lt;Guide&gt;&#8288;</code> object.
</p>


<h3>See Also</h3>

<p>Other standalone guides: 
<code><a href="#topic+guide_axis_base">guide_axis_base</a>()</code>,
<code><a href="#topic+guide_axis_dendro">guide_axis_dendro</a>()</code>,
<code><a href="#topic+guide_circles">guide_circles</a>()</code>,
<code><a href="#topic+guide_colbar">guide_colbar</a>()</code>,
<code><a href="#topic+guide_colring">guide_colring</a>()</code>,
<code><a href="#topic+guide_colsteps">guide_colsteps</a>()</code>,
<code><a href="#topic+guide_legend_base">guide_legend_base</a>()</code>,
<code><a href="#topic+guide_legend_cross">guide_legend_cross</a>()</code>,
<code><a href="#topic+guide_legend_group">guide_legend_group</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># A plot with nested categories on the x-axis
p &lt;- ggplot(mpg, aes(interaction(drv, cyl), hwy)) +
  geom_boxplot()

p + guides(x = "axis_nested")

# Apply styling to brackets
p + guides(x = "axis_nested") +
  theme_guide(bracket = element_line("red", linewidth = 1))

# Don't drop nesting indicators that have 0-width
p + guides(x = guide_axis_nested(drop_zero = FALSE))

# Change additional padding for discrete categories
p + guides(x = guide_axis_nested(pad_discrete = 0))

# Change bracket type
p + guides(x = guide_axis_nested(bracket = "curvy"))

# Use boxes instead of brackets + styling of boxes
p + guides(x = guide_axis_nested(type = "box")) +
  theme_guide(box = element_rect("limegreen", "forestgreen"))

# Using fences instead of brackets + styling of fences
p + guides(x = guide_axis_nested(type = "fence", rail = "inner")) +
  theme_guide(
    fence.post = element_line("tomato"),
    fence.rail = element_line("dodgerblue")
  )

# Use as annotation of a typical axis
# `regular_key` controls display of typical axis
ggplot(mpg, aes(displ, hwy)) +
  geom_point() +
  guides(x = guide_axis_nested(
    key = key_range_manual(start = 2:3, end = 5:6, name = c("First", "Second")),
    regular_key = key_manual(c(2, 2.5, 3, 5, 7))
  ))
</code></pre>

<hr>
<h2 id='guide_circles'>Circle size guide</h2><span id='topic+guide_circles'></span>

<h3>Description</h3>

<p>This guide displays the sizes of points as a series of circles. It is
typically paired with <code><a href="ggplot2.html#topic+geom_point">geom_point()</a></code> with
<code><a href="ggplot2.html#topic+draw_key">draw_key_point()</a></code> glyphs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>guide_circles(
  key = NULL,
  title = waiver(),
  theme = NULL,
  hjust = 0.5,
  vjust = 0,
  text_position = NULL,
  clip_text = FALSE,
  override.aes = list(shape = 1),
  position = waiver(),
  direction = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="guide_circles_+3A_key">key</code></td>
<td>
<p>A <a href="#topic+key_standard">standard key</a> specification. Defaults to
<code><a href="#topic+key_auto">key_auto()</a></code>. See more information in the linked topic.</p>
</td></tr>
<tr><td><code id="guide_circles_+3A_title">title</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> or <code style="white-space: pre;">&#8288;&lt;expression[1]&gt;&#8288;</code> indicating the title of
the guide. If <code>NULL</code>, the title is not shown. The default,
<code><a href="ggplot2.html#topic+waiver">waiver()</a></code>, takes the name of the scale object or
the name specified in <code><a href="ggplot2.html#topic+labs">labs()</a></code> as the title.</p>
</td></tr>
<tr><td><code id="guide_circles_+3A_theme">theme</code></td>
<td>
<p>A <code><a href="ggplot2.html#topic+theme">&lt;theme&gt;</a></code> object to style the guide individually or
differently from the plot's theme settings. The <code>theme</code> argument in the
guide overrides and is combined with the plot's theme.</p>
</td></tr>
<tr><td><code id="guide_circles_+3A_hjust">hjust</code>, <code id="guide_circles_+3A_vjust">vjust</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;numeric[1]&gt;&#8288;</code> between 0 and 1 giving the horizontal
and vertical justification, respectively, of the central shapes. It is
recommended <code>hjust = 0.5</code> when text is placed on the left or right and
<code>vjust = 0.5</code> is recommended when text is placed on top or in the bottom.</p>
</td></tr>
<tr><td><code id="guide_circles_+3A_text_position">text_position</code></td>
<td>
<p>A string, one of <code>"ontop"</code>, <code>"top"</code>, <code>"right"</code>,
<code>"bottom"</code>, or <code>"left"</code> do describe the placement of labels. The
default (<code>NULL</code>), will take the <code>legend.text.position</code> theme setting.</p>
</td></tr>
<tr><td><code id="guide_circles_+3A_clip_text">clip_text</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;logical[1]&gt;&#8288;</code> whether to give text in the <code>"ontop"</code>
position a small rectangle of background colour.</p>
</td></tr>
<tr><td><code id="guide_circles_+3A_override.aes">override.aes</code></td>
<td>
<p>A named <code style="white-space: pre;">&#8288;&lt;list&gt;&#8288;</code> specifying aesthetic parameters of the
key glyphs. See details and examples in
<code><a href="ggplot2.html#topic+guide_legend">guide_legend()</a></code>.</p>
</td></tr>
<tr><td><code id="guide_circles_+3A_position">position</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> giving the location of the guide. Can be one of <code>"top"</code>,
<code>"bottom"</code>, <code>"left"</code> or <code>"right"</code>.</p>
</td></tr>
<tr><td><code id="guide_circles_+3A_direction">direction</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> indicating the direction of the guide. Can be on of
<code>"horizontal"</code> or <code>"vertical"</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Please note that the default size scales scale to area, not radius, so
equidistant breaks will appear at irregularly spaced positions due to
labelling the diameter of a circle.
</p>
<p>This graph was designed with standard round <a href="ggplot2.html#topic+scale_shape">shapes</a>
in mind, i.e. shapes 1, 16, 19 and 21. For that reason, <code>shape = 1</code> is the
default <code>override.aes</code> argument. Other shapes will probably be drawn but the
quality of their alignment and label placement may be unsatisfactory.
</p>


<h3>Value</h3>

<p>A <code style="white-space: pre;">&#8288;&lt;GuideCircles&gt;&#8288;</code> object.
</p>


<h3>See Also</h3>

<p>Other standalone guides: 
<code><a href="#topic+guide_axis_base">guide_axis_base</a>()</code>,
<code><a href="#topic+guide_axis_dendro">guide_axis_dendro</a>()</code>,
<code><a href="#topic+guide_axis_nested">guide_axis_nested</a>()</code>,
<code><a href="#topic+guide_colbar">guide_colbar</a>()</code>,
<code><a href="#topic+guide_colring">guide_colring</a>()</code>,
<code><a href="#topic+guide_colsteps">guide_colsteps</a>()</code>,
<code><a href="#topic+guide_legend_base">guide_legend_base</a>()</code>,
<code><a href="#topic+guide_legend_cross">guide_legend_cross</a>()</code>,
<code><a href="#topic+guide_legend_group">guide_legend_group</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># A standard plot
p &lt;- ggplot(mtcars, aes(disp, mpg)) +
  geom_point(aes(size = hp), alpha = 0.3)

# By default, the sizes aren't large enough to make this guide clear
p + scale_size_area(guide = "circles")

# Update with a more approrpriate scale
p &lt;- p +
  scale_size_area(
    max_size = 30,
    limits = c(0, NA),
    breaks = c(0, 25, 100, 250)
  )
p + guides(size = "circles")

# Horizontal orientation
p + guides(size = guide_circles(
  vjust = 0.5, hjust = 0, text_position = "bottom"
))

# Alternative text placement
p + guides(size = guide_circles(
  text_position = "ontop",
  clip_text = TRUE
))

# More styling options
p + guides(size = guide_circles(override.aes = aes(colour = "red")))+
  theme(
    # Key background
    legend.key = element_rect(colour = "black", fill = 'white'),
    # Padding around central shapes
    legendry.legend.key.margin = margin(1, 1, 1, 1, "cm"),
    legend.ticks = element_line(colour = "blue"),
    legend.text.position = "left"
  )
</code></pre>

<hr>
<h2 id='guide_colbar'>Custom colour bar guide</h2><span id='topic+guide_colbar'></span>

<h3>Description</h3>

<p>Similar to <code><a href="ggplot2.html#topic+guide_colourbar">guide_colourbar()</a></code>, this guide
displays continuous <code>colour</code> or <code>fill</code> aesthetics. It has additional options
to display caps at the end of the bar, depending on out-of-bounds values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>guide_colbar(
  title = waiver(),
  key = "auto",
  first_guide = "axis_base",
  second_guide = first_guide,
  shape = "triangle",
  size = NULL,
  show = NA,
  nbin = 15,
  alpha = NA,
  reverse = FALSE,
  oob = scales::oob_keep,
  theme = NULL,
  vanilla = TRUE,
  position = waiver(),
  available_aes = c("colour", "fill")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="guide_colbar_+3A_title">title</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> or <code style="white-space: pre;">&#8288;&lt;expression[1]&gt;&#8288;</code> indicating the title of
the guide. If <code>NULL</code>, the title is not shown. The default,
<code><a href="ggplot2.html#topic+waiver">waiver()</a></code>, takes the name of the scale object or
the name specified in <code><a href="ggplot2.html#topic+labs">labs()</a></code> as the title.</p>
</td></tr>
<tr><td><code id="guide_colbar_+3A_key">key</code></td>
<td>
<p>A <a href="#topic+key_sequence">sequence key</a> specification. Defaults to
<code><a href="#topic+key_sequence">key_sequence(n = 15)</a></code>. Changing the argument to
<code>key_sequence()</code> is fine, but changing the key type is not advised.</p>
</td></tr>
<tr><td><code id="guide_colbar_+3A_first_guide">first_guide</code>, <code id="guide_colbar_+3A_second_guide">second_guide</code></td>
<td>
<p>Guides to flank the colour bar. Each guide
can be specified using one of the following:
</p>

<ul>
<li><p> A <code style="white-space: pre;">&#8288;&lt;Guide&gt;&#8288;</code> class object.
</p>
</li>
<li><p> A <code style="white-space: pre;">&#8288;&lt;function&gt;&#8288;</code> that returns a <code style="white-space: pre;">&#8288;&lt;Guide&gt;&#8288;</code> class object.
</p>
</li>
<li><p> A <code style="white-space: pre;">&#8288;&lt;character&gt;&#8288;</code> naming such a function, without the <code>guide_</code> or
<code>primitive_</code> prefix.
</p>
</li></ul>

<p>The <code>first_guide</code> will be placed at the location specified by the
<code>legend.text.position</code> theme setting. The <code>second_guide</code> will be placed
opposite that position. When <code>second_guide</code> has a label suppression
mechanism, no labels will be drawn for that guide.</p>
</td></tr>
<tr><td><code id="guide_colbar_+3A_shape">shape</code></td>
<td>
<p>A <a href="#topic+cap_options">cap</a> specification by providing one of the
following:
</p>

<ul>
<li><p> A cap <code style="white-space: pre;">&#8288;&lt;function&gt;&#8288;</code>, such as <code>cap_triangle()</code>.
</p>
</li>
<li><p> A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> naming a cap function without the '<code>cap_</code>'-prefix,
e.g. <code>"round"</code>.
</p>
</li>
<li><p> A two column <code style="white-space: pre;">&#8288;&lt;matrix[n, 2]&gt;&#8288;</code> giving coordinates for a cap, like those
created by cap functions such as <code>cap_arch()</code>.
</p>
</li></ul>
</td></tr>
<tr><td><code id="guide_colbar_+3A_size">size</code></td>
<td>
<p>A <code><a href="grid.html#topic+unit">&lt;unit&gt;</a></code> setting the size of the cap. When
<code>NULL</code> (default), cap size will be proportional to the <code>shape</code> coordinates
and the <code>legend.key.size</code> theme setting.</p>
</td></tr>
<tr><td><code id="guide_colbar_+3A_show">show</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;logical&gt;&#8288;</code> to control how caps are displayed at the ends
of the bar. When <code>TRUE</code>, caps are always displayed. When <code>FALSE</code>, caps
are never displayed. When <code>NA</code> (default), caps are displayed when the
data range exceed the limits. When given as <code style="white-space: pre;">&#8288;&lt;logical[2]&gt;&#8288;</code>, <code>show[1]</code>
controls the display at the lower end and <code>show[2]</code> at the upper end.</p>
</td></tr>
<tr><td><code id="guide_colbar_+3A_nbin">nbin</code></td>
<td>
<p>A positive <code style="white-space: pre;">&#8288;&lt;integer[1]&gt;&#8288;</code> determining how many colours to use
for the colour gradient.</p>
</td></tr>
<tr><td><code id="guide_colbar_+3A_alpha">alpha</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;numeric[1]&gt;&#8288;</code> between 0 and 1 setting the colour transparency
of the bar. Use <code>NA</code> to preserve the alpha encoded in the colour itself.</p>
</td></tr>
<tr><td><code id="guide_colbar_+3A_reverse">reverse</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;logical[1]&gt;&#8288;</code> whether to reverse continuous guides.
If <code>TRUE</code>, guides like colour bars are flipped. If <code>FALSE</code> (default),
the original order is maintained.</p>
</td></tr>
<tr><td><code id="guide_colbar_+3A_oob">oob</code></td>
<td>
<p>An out-of-bounds handling function that affects the cap colour.
Can be one of the following:
</p>

<ul>
<li><p> A <code style="white-space: pre;">&#8288;&lt;function&gt;&#8288;</code> like <code><a href="scales.html#topic+oob">oob_squish</a></code>.
</p>
</li>
<li><p> A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> naming such a function without the '<code>oob</code>'-prefix,
such as <code>"keep"</code>.
</p>
</li></ul>
</td></tr>
<tr><td><code id="guide_colbar_+3A_theme">theme</code></td>
<td>
<p>A <code><a href="ggplot2.html#topic+theme">&lt;theme&gt;</a></code> object to style the guide individually or
differently from the plot's theme settings. The <code>theme</code> argument in the
guide overrides and is combined with the plot's theme.</p>
</td></tr>
<tr><td><code id="guide_colbar_+3A_vanilla">vanilla</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;logical[1]&gt;&#8288;</code> whether to have the default style match
the vanilla <code>guide_colourbar()</code> (<code>TRUE</code>) or take the theme
verbatim (<code>FALSE</code>).</p>
</td></tr>
<tr><td><code id="guide_colbar_+3A_position">position</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> giving the location of the guide. Can be one of <code>"top"</code>,
<code>"bottom"</code>, <code>"left"</code> or <code>"right"</code>.</p>
</td></tr>
<tr><td><code id="guide_colbar_+3A_available_aes">available_aes</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character&gt;&#8288;</code> vector listing the aesthetics for which this guide can
be build.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>As colours are always rendered as gradients, it is important to use a
graphics device that can render these. This can be checked by using
<code><a href="ggplot2.html#topic+check_device">check_device(&quot;gradients&quot;)</a></code>.
</p>


<h3>Value</h3>

<p>A <code style="white-space: pre;">&#8288;&lt;Guide&gt;&#8288;</code> object
</p>


<h3>See Also</h3>

<p>Other standalone guides: 
<code><a href="#topic+guide_axis_base">guide_axis_base</a>()</code>,
<code><a href="#topic+guide_axis_dendro">guide_axis_dendro</a>()</code>,
<code><a href="#topic+guide_axis_nested">guide_axis_nested</a>()</code>,
<code><a href="#topic+guide_circles">guide_circles</a>()</code>,
<code><a href="#topic+guide_colring">guide_colring</a>()</code>,
<code><a href="#topic+guide_colsteps">guide_colsteps</a>()</code>,
<code><a href="#topic+guide_legend_base">guide_legend_base</a>()</code>,
<code><a href="#topic+guide_legend_cross">guide_legend_cross</a>()</code>,
<code><a href="#topic+guide_legend_group">guide_legend_group</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># A standard plot
p &lt;- ggplot(mpg, aes(displ, hwy)) +
  geom_point(aes(colour = cty))

# The colourbar shows caps when values are out-of-bounds (oob)
p + scale_colour_viridis_c(
  limits = c(10, NA),
  guide = "colbar"
)

# It also shows how oob values are handled
p + scale_colour_viridis_c(
  limits = c(10, NA), oob = scales::oob_squish,
  guide = "colbar"
)

# Adjusting the type of cap
p + scale_colour_viridis_c(
  limits = c(10, 30), oob = scales::oob_squish,
  guide = guide_colbar(shape = "round")
)

# One-sided ticks
p + scale_colour_viridis_c(
  guide = guide_colbar(second_guide = "none")
)

# Colour bar with minor breaks
p + scale_colour_viridis_c(
  minor_breaks = scales::breaks_width(1),
  guide = guide_colbar(key = "minor")
)

# Using log ticks on a colourbar
ggplot(msleep, aes(sleep_total, sleep_rem)) +
  geom_point(aes(colour = bodywt), na.rm = TRUE) +
  scale_colour_viridis_c(
    transform = "log10",
    guide = guide_colbar(key = "log")
  )
</code></pre>

<hr>
<h2 id='guide_colring'>Colour rings and arcs</h2><span id='topic+guide_colring'></span>

<h3>Description</h3>

<p>Similar to <code><a href="ggplot2.html#topic+guide_colourbar">guide_colourbar()</a></code>, this guide
displays continuous <code>colour</code> or <code>fill</code> aesthetics. Instead of a bar, the
gradient in shown in a ring or arc, which can be convenient for cyclical
palettes such as some provided in the <span class="pkg">scico</span> package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>guide_colring(
  title = waiver(),
  key = "auto",
  start = 0,
  end = NULL,
  outer_guide = "axis_base",
  inner_guide = "axis_base",
  nbin = 300,
  reverse = FALSE,
  show_labels = "outer",
  theme = NULL,
  vanilla = TRUE,
  position = waiver(),
  available_aes = c("colour", "fill"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="guide_colring_+3A_title">title</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> or <code style="white-space: pre;">&#8288;&lt;expression[1]&gt;&#8288;</code> indicating the title of
the guide. If <code>NULL</code>, the title is not shown. The default,
<code><a href="ggplot2.html#topic+waiver">waiver()</a></code>, takes the name of the scale object or
the name specified in <code><a href="ggplot2.html#topic+labs">labs()</a></code> as the title.</p>
</td></tr>
<tr><td><code id="guide_colring_+3A_key">key</code></td>
<td>
<p>A <a href="#topic+key_standard">standard key</a> specification. Defaults to
<code><a href="#topic+key_auto">key_auto()</a></code>.</p>
</td></tr>
<tr><td><code id="guide_colring_+3A_start">start</code>, <code id="guide_colring_+3A_end">end</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;numeric[1]&gt;&#8288;</code> in radians specifying the offset of the
starting and end points from 12 o'clock. The <code>NULL</code> default for <code>end</code>,
internally defaults to <code>start + 2 * pi</code>.</p>
</td></tr>
<tr><td><code id="guide_colring_+3A_outer_guide">outer_guide</code>, <code id="guide_colring_+3A_inner_guide">inner_guide</code></td>
<td>
<p>Guides to display on the outside and inside
of the colour ring. Each guide can be specified using one of the following:
</p>

<ul>
<li><p> A <code style="white-space: pre;">&#8288;&lt;Guide&gt;&#8288;</code> class object.
</p>
</li>
<li><p> A <code style="white-space: pre;">&#8288;&lt;function&gt;&#8288;</code> that returns a <code style="white-space: pre;">&#8288;&lt;Guide&gt;&#8288;</code> class object.
</p>
</li>
<li><p> A <code style="white-space: pre;">&#8288;&lt;character&gt;&#8288;</code> naming such function, without the <code>guide_</code> or
<code>primitive_</code> prefix.
</p>
</li></ul>
</td></tr>
<tr><td><code id="guide_colring_+3A_nbin">nbin</code></td>
<td>
<p>A positive <code style="white-space: pre;">&#8288;&lt;integer[1]&gt;&#8288;</code> determining how many colours to display.</p>
</td></tr>
<tr><td><code id="guide_colring_+3A_reverse">reverse</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;logical[1]&gt;&#8288;</code> whether to reverse continuous guides.
If <code>TRUE</code>, guides like colour bars are flipped. If <code>FALSE</code> (default),
the original order is maintained.</p>
</td></tr>
<tr><td><code id="guide_colring_+3A_show_labels">show_labels</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> indicating for which guide labels
should be shown. Can be one of <code>"outer"</code> (default), <code>"inner"</code>, <code>"both"</code> or
<code>"none"</code>. Note that labels can only be omitted if the related guide
has a label suppression mechanism.</p>
</td></tr>
<tr><td><code id="guide_colring_+3A_theme">theme</code></td>
<td>
<p>A <code><a href="ggplot2.html#topic+theme">&lt;theme&gt;</a></code> object to style the guide individually or
differently from the plot's theme settings. The <code>theme</code> argument in the
guide overrides and is combined with the plot's theme.</p>
</td></tr>
<tr><td><code id="guide_colring_+3A_vanilla">vanilla</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;logical[1]&gt;&#8288;</code> whether to have the default style match
the vanilla <code>guide_colourbar()</code> (<code>TRUE</code>) or take the theme
verbatim (<code>FALSE</code>).</p>
</td></tr>
<tr><td><code id="guide_colring_+3A_position">position</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> giving the location of the guide. Can be one of <code>"top"</code>,
<code>"bottom"</code>, <code>"left"</code> or <code>"right"</code>.</p>
</td></tr>
<tr><td><code id="guide_colring_+3A_available_aes">available_aes</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character&gt;&#8288;</code> vector listing the aesthetics for which this guide can
be build.</p>
</td></tr>
<tr><td><code id="guide_colring_+3A_...">...</code></td>
<td>
<p>Arguments forwarded to the <code>outer_guide</code> and <code>inner_guide</code> if
provided as functions or strings.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code style="white-space: pre;">&#8288;&lt;Guide&gt;&#8288;</code> object.
</p>


<h3>See Also</h3>

<p>Other standalone guides: 
<code><a href="#topic+guide_axis_base">guide_axis_base</a>()</code>,
<code><a href="#topic+guide_axis_dendro">guide_axis_dendro</a>()</code>,
<code><a href="#topic+guide_axis_nested">guide_axis_nested</a>()</code>,
<code><a href="#topic+guide_circles">guide_circles</a>()</code>,
<code><a href="#topic+guide_colbar">guide_colbar</a>()</code>,
<code><a href="#topic+guide_colsteps">guide_colsteps</a>()</code>,
<code><a href="#topic+guide_legend_base">guide_legend_base</a>()</code>,
<code><a href="#topic+guide_legend_cross">guide_legend_cross</a>()</code>,
<code><a href="#topic+guide_legend_group">guide_legend_group</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Rings works best with a cyclical palette
my_pal &lt;- c("black", "tomato", "white", "dodgerblue", "black")

p &lt;- ggplot(mpg, aes(displ, hwy, colour = cty)) +
  geom_point() +
  scale_colour_gradientn(colours = my_pal)

# Standard colour ring
p + guides(colour = "colring")

# As an arc
p + guides(colour = guide_colring(
  start = 1.25 * pi, end = 2.75 * pi
))

# Removing the inner tick marks
p + guides(colour = guide_colring(inner_guide = "none"))

# Include labels on the inner axis
p + guides(colour = guide_colring(show_labels = "both"))

# Passing an argument to inner/outer guides
p + guides(colour = guide_colring(angle = 0))
</code></pre>

<hr>
<h2 id='guide_colsteps'>Custom colour steps guide</h2><span id='topic+guide_colsteps'></span>

<h3>Description</h3>

<p>Similar to <code><a href="ggplot2.html#topic+guide_coloursteps">guide_coloursteps()</a></code>, this guide
displays continuous <code>colour</code> or <code>fill</code> aesthetics. It has additional options
to display caps at the end of the bar, depending on out-of-bounds values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>guide_colsteps(
  title = waiver(),
  key = "bins",
  first_guide = "axis_base",
  second_guide = "axis_base",
  shape = "triangle",
  size = NULL,
  show = NA,
  alpha = NA,
  reverse = FALSE,
  oob = scales::oob_keep,
  theme = NULL,
  position = waiver(),
  vanilla = TRUE,
  available_aes = c("colour", "fill")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="guide_colsteps_+3A_title">title</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> or <code style="white-space: pre;">&#8288;&lt;expression[1]&gt;&#8288;</code> indicating the title of
the guide. If <code>NULL</code>, the title is not shown. The default,
<code><a href="ggplot2.html#topic+waiver">waiver()</a></code>, takes the name of the scale object or
the name specified in <code><a href="ggplot2.html#topic+labs">labs()</a></code> as the title.</p>
</td></tr>
<tr><td><code id="guide_colsteps_+3A_key">key</code></td>
<td>
<p>A <a href="#topic+key_bins">bins key</a> specificiation. Defaults to
<code>key_bins(even.steps = FALSE, show.limits = NULL)</code>. Changing the
arguments to <code>key_bins()</code> is fine, but changing the key type is not
advised.</p>
</td></tr>
<tr><td><code id="guide_colsteps_+3A_first_guide">first_guide</code>, <code id="guide_colsteps_+3A_second_guide">second_guide</code></td>
<td>
<p>Guides to flank the colour steps. Each guide
can be specified using one of the following:
</p>

<ul>
<li><p> A <code style="white-space: pre;">&#8288;&lt;Guide&gt;&#8288;</code> class object.
</p>
</li>
<li><p> A <code style="white-space: pre;">&#8288;&lt;function&gt;&#8288;</code> that returns a <code style="white-space: pre;">&#8288;&lt;Guide&gt;&#8288;</code> class object.
</p>
</li>
<li><p> A <code style="white-space: pre;">&#8288;&lt;character&gt;&#8288;</code> naming such a function, without the <code>guide_</code> or
<code>primitive_</code> prefix.
</p>
</li></ul>

<p>The <code>first_guide</code> will be placed at the location specified by the
<code>legend.text.position</code> theme setting. The <code>second_guide</code> will be placed
opposite that position. When <code>second_guide</code> has a label suppression
mechanism, no labels will be drawn for that guide.</p>
</td></tr>
<tr><td><code id="guide_colsteps_+3A_shape">shape</code></td>
<td>
<p>A <a href="#topic+cap_options">cap</a> specification by providing one of the
following:
</p>

<ul>
<li><p> A cap <code style="white-space: pre;">&#8288;&lt;function&gt;&#8288;</code>, such as <code>cap_triangle()</code>.
</p>
</li>
<li><p> A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> naming a cap function without the '<code>cap_</code>'-prefix,
e.g. <code>"round"</code>.
</p>
</li>
<li><p> A two column <code style="white-space: pre;">&#8288;&lt;matrix[n, 2]&gt;&#8288;</code> giving coordinates for a cap, like those
created by cap functions such as <code>cap_arch()</code>.
</p>
</li></ul>
</td></tr>
<tr><td><code id="guide_colsteps_+3A_size">size</code></td>
<td>
<p>A <code><a href="grid.html#topic+unit">&lt;unit&gt;</a></code> setting the size of the cap. When
<code>NULL</code> (default), cap size will be proportional to the <code>shape</code> coordinates
and the <code>legend.key.size</code> theme setting.</p>
</td></tr>
<tr><td><code id="guide_colsteps_+3A_show">show</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;logical&gt;&#8288;</code> to control how caps are displayed at the ends
of the bar. When <code>TRUE</code>, caps are always displayed. When <code>FALSE</code>, caps
are never displayed. When <code>NA</code> (default), caps are displayed when the
data range exceed the limits. When given as <code style="white-space: pre;">&#8288;&lt;logical[2]&gt;&#8288;</code>, <code>show[1]</code>
controls the display at the lower end and <code>show[2]</code> at the upper end.</p>
</td></tr>
<tr><td><code id="guide_colsteps_+3A_alpha">alpha</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;numeric[1]&gt;&#8288;</code> between 0 and 1 setting the colour transparency
of the bar. Use <code>NA</code> to preserve the alpha encoded in the colour itself.</p>
</td></tr>
<tr><td><code id="guide_colsteps_+3A_reverse">reverse</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;logical[1]&gt;&#8288;</code> whether to reverse continuous guides.
If <code>TRUE</code>, guides like colour bars are flipped. If <code>FALSE</code> (default),
the original order is maintained.</p>
</td></tr>
<tr><td><code id="guide_colsteps_+3A_oob">oob</code></td>
<td>
<p>An out-of-bounds handling function that affects the cap colour.
Can be one of the following:
</p>

<ul>
<li><p> A <code style="white-space: pre;">&#8288;&lt;function&gt;&#8288;</code> like <code><a href="scales.html#topic+oob">oob_squish</a></code>.
</p>
</li>
<li><p> A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> naming such a function without the '<code>oob</code>'-prefix,
such as <code>"keep"</code>.
</p>
</li></ul>
</td></tr>
<tr><td><code id="guide_colsteps_+3A_theme">theme</code></td>
<td>
<p>A <code><a href="ggplot2.html#topic+theme">&lt;theme&gt;</a></code> object to style the guide individually or
differently from the plot's theme settings. The <code>theme</code> argument in the
guide overrides and is combined with the plot's theme.</p>
</td></tr>
<tr><td><code id="guide_colsteps_+3A_position">position</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> giving the location of the guide. Can be one of <code>"top"</code>,
<code>"bottom"</code>, <code>"left"</code> or <code>"right"</code>.</p>
</td></tr>
<tr><td><code id="guide_colsteps_+3A_vanilla">vanilla</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;logical[1]&gt;&#8288;</code> whether to have the default style match
the vanilla <code>guide_colourbar()</code> (<code>TRUE</code>) or take the theme
verbatim (<code>FALSE</code>).</p>
</td></tr>
<tr><td><code id="guide_colsteps_+3A_available_aes">available_aes</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character&gt;&#8288;</code> vector listing the aesthetics for which this guide can
be build.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>As steps are rendered as clipped rectangles, it is important to use a
graphics device that can render clipped paths. This can be checked by using
<code><a href="ggplot2.html#topic+check_device">check_device(&quot;clippingPaths&quot;)</a></code>.
</p>


<h3>Value</h3>

<p>A <code style="white-space: pre;">&#8288;&lt;Guide&gt;&#8288;</code> object
</p>


<h3>See Also</h3>

<p>Other standalone guides: 
<code><a href="#topic+guide_axis_base">guide_axis_base</a>()</code>,
<code><a href="#topic+guide_axis_dendro">guide_axis_dendro</a>()</code>,
<code><a href="#topic+guide_axis_nested">guide_axis_nested</a>()</code>,
<code><a href="#topic+guide_circles">guide_circles</a>()</code>,
<code><a href="#topic+guide_colbar">guide_colbar</a>()</code>,
<code><a href="#topic+guide_colring">guide_colring</a>()</code>,
<code><a href="#topic+guide_legend_base">guide_legend_base</a>()</code>,
<code><a href="#topic+guide_legend_cross">guide_legend_cross</a>()</code>,
<code><a href="#topic+guide_legend_group">guide_legend_group</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>p &lt;- ggplot(mpg, aes(displ, hwy)) +
  geom_point(aes(colour = cty))

# The colour steps show caps when values are out-of-bounds
p + scale_colour_viridis_b(
  limits = c(10, NA),
  guide = "colsteps"
)

# It also shows how oob values are handled
p + scale_colour_viridis_b(
  limits = c(10, 30), oob = scales::oob_censor,
  guide = "colsteps"
)

# Adjusting the type of cap
p + scale_colour_viridis_b(
  limits = c(10, 30),
  guide = guide_colsteps(shape = "round")
)

# The default is to use the breaks as-is
p + scale_colour_viridis_b(
  limits = c(10, 30), breaks = c(10, 20, 25),
  guide = "colsteps"
)

# But the display can be set to use evenly spaced steps
p + scale_colour_viridis_b(
  limits = c(10, 30), breaks = c(10, 20, 25),
  guide = guide_colsteps(key = key_bins(even.steps = TRUE))
)

# Using tick marks by swapping side guides
p + scale_colour_viridis_b(
  guide = guide_colsteps(
    first_guide  = "axis_base",
    second_guide = "axis_base"
  )
)
</code></pre>

<hr>
<h2 id='guide_legend_base'>Custom legend guide</h2><span id='topic+guide_legend_base'></span>

<h3>Description</h3>

<p>This legend closely mirrors <code>ggplot2::guide_legend()</code>, but has two
adjustments. First, <code>guide_legend_base()</code> supports a <code>design</code> argument
for a more flexible layout. Secondly, the <code>legend.spacing.y</code> theme element
is observed verbatim instead of overruled.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>guide_legend_base(
  key = NULL,
  title = waiver(),
  theme = NULL,
  design = NULL,
  nrow = NULL,
  ncol = NULL,
  reverse = FALSE,
  override.aes = list(),
  position = NULL,
  direction = NULL,
  order = 0
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="guide_legend_base_+3A_key">key</code></td>
<td>
<p>A <a href="#topic+key_standard">standard key</a> specification. Defaults to
<code><a href="#topic+key_auto">key_auto()</a></code>. See more information in the linked topic.</p>
</td></tr>
<tr><td><code id="guide_legend_base_+3A_title">title</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> or <code style="white-space: pre;">&#8288;&lt;expression[1]&gt;&#8288;</code> indicating the title of
the guide. If <code>NULL</code>, the title is not shown. The default,
<code><a href="ggplot2.html#topic+waiver">waiver()</a></code>, takes the name of the scale object or
the name specified in <code><a href="ggplot2.html#topic+labs">labs()</a></code> as the title.</p>
</td></tr>
<tr><td><code id="guide_legend_base_+3A_theme">theme</code></td>
<td>
<p>A <code><a href="ggplot2.html#topic+theme">&lt;theme&gt;</a></code> object to style the guide individually or
differently from the plot's theme settings. The <code>theme</code> argument in the
guide overrides and is combined with the plot's theme.</p>
</td></tr>
<tr><td><code id="guide_legend_base_+3A_design">design</code></td>
<td>
<p>Specification of the legend layout. One of the following:
</p>

<ul>
<li> <p><code>NULL</code> (default) to use the layout algorithm of
<code><a href="ggplot2.html#topic+guide_legend">guide_legend()</a></code>.
</p>
</li>
<li><p> A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> string representing a cell layout wherein <code style="white-space: pre;">&#8288;#&#8288;</code> defines
an empty cell. See examples.
</p>
</li>
<li><p> A <code style="white-space: pre;">&#8288;&lt;matrix[n, m]&gt;&#8288;</code> representing a cell layout wherein <code>NA</code> defines an
empty cell. See examples. Non-string atomic vectors will be treated with
<code>as.matrix()</code>.
</p>
</li></ul>
</td></tr>
<tr><td><code id="guide_legend_base_+3A_nrow">nrow</code>, <code id="guide_legend_base_+3A_ncol">ncol</code></td>
<td>
<p>A positive <code style="white-space: pre;">&#8288;&lt;integer[1]&gt;&#8288;</code> setting the desired dimensions of
the legend layout. When <code>NULL</code> (default), the dimensions will be derived
from the <code>design</code> argument or fit to match the number of keys.</p>
</td></tr>
<tr><td><code id="guide_legend_base_+3A_reverse">reverse</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;logical[1]&gt;&#8288;</code> whether the order of keys should be inverted.</p>
</td></tr>
<tr><td><code id="guide_legend_base_+3A_override.aes">override.aes</code></td>
<td>
<p>A named <code style="white-space: pre;">&#8288;&lt;list&gt;&#8288;</code> specifying aesthetic parameters of the
key glyphs. See details and examples in
<code><a href="ggplot2.html#topic+guide_legend">guide_legend()</a></code>.</p>
</td></tr>
<tr><td><code id="guide_legend_base_+3A_position">position</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> giving the location of the guide. Can be one of <code>"top"</code>,
<code>"bottom"</code>, <code>"left"</code> or <code>"right"</code>.</p>
</td></tr>
<tr><td><code id="guide_legend_base_+3A_direction">direction</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> indicating the direction of the guide. Can be on of
<code>"horizontal"</code> or <code>"vertical"</code>.</p>
</td></tr>
<tr><td><code id="guide_legend_base_+3A_order">order</code></td>
<td>
<p>A positive <code style="white-space: pre;">&#8288;&lt;integer[1]&gt;&#8288;</code> that specifies the order of this guide among
multiple guides. This controls in which order guides are merged if there
are multiple guides for the same position. If <code>0</code> (default), the order is
determined by a hashing indicative settings of a guide.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code style="white-space: pre;">&#8288;&lt;GuideLegend&gt;&#8288;</code> object.
</p>


<h3>See Also</h3>

<p>Other standalone guides: 
<code><a href="#topic+guide_axis_base">guide_axis_base</a>()</code>,
<code><a href="#topic+guide_axis_dendro">guide_axis_dendro</a>()</code>,
<code><a href="#topic+guide_axis_nested">guide_axis_nested</a>()</code>,
<code><a href="#topic+guide_circles">guide_circles</a>()</code>,
<code><a href="#topic+guide_colbar">guide_colbar</a>()</code>,
<code><a href="#topic+guide_colring">guide_colring</a>()</code>,
<code><a href="#topic+guide_colsteps">guide_colsteps</a>()</code>,
<code><a href="#topic+guide_legend_cross">guide_legend_cross</a>()</code>,
<code><a href="#topic+guide_legend_group">guide_legend_group</a>()</code>
</p>
<p>Other legend guides: 
<code><a href="#topic+guide_legend_cross">guide_legend_cross</a>()</code>,
<code><a href="#topic+guide_legend_group">guide_legend_group</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># A dummy plot
p &lt;- ggplot(data.frame(x = 1:3, type = c("tic", "tac", "toe"))) +
  aes(x, x, shape = type) +
  geom_point(na.rm = TRUE) +
  scale_shape_manual(values = c(1, 4, NA))

# A design string, each character giving a cell value.
# Newlines separate rows, white space is ignored.
design &lt;- "
  123
  213
  321
"

# Alternatively, the same can be specified using a matrix directly
# design &lt;- matrix(c(1, 2, 3, 2, 1, 3, 3, 2, 1), 3, 3, byrow = TRUE)

p + guides(shape = guide_legend_base(design = design))

# Empty cells can be created using `#`
design &lt;- "
  #2#
  1#3
"

# Alternatively:
# design &lt;- matrix(c(NA, 1, 2, NA, NA, 3), nrow = 2)

p + guides(shape = guide_legend_base(design = design))
</code></pre>

<hr>
<h2 id='guide_legend_cross'>Cross legend guide</h2><span id='topic+guide_legend_cross'></span>

<h3>Description</h3>

<p>This is a legend type similar to <code><a href="ggplot2.html#topic+guide_legend">guide_legend()</a></code>
that displays crosses, or: interactions, between two variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>guide_legend_cross(
  key = NULL,
  title = waiver(),
  swap = FALSE,
  col_text = element_text(angle = 90, vjust = 0.5),
  override.aes = list(),
  reverse = FALSE,
  theme = NULL,
  position = NULL,
  direction = NULL,
  order = 0
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="guide_legend_cross_+3A_key">key</code></td>
<td>
<p>One of the following key specifications:
</p>

<ul>
<li><p> A <a href="#topic+key_group_split">group split</a> specification when using the legend to
display a compound variable like <code>paste(var1, var2)</code>.
</p>
</li>
<li><p> A <a href="#topic+key_standard">standard key</a> specification, like <code><a href="#topic+key_auto">key_auto()</a></code>, when
crossing two separate variables across two scales.
</p>
</li></ul>
</td></tr>
<tr><td><code id="guide_legend_cross_+3A_title">title</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> or <code style="white-space: pre;">&#8288;&lt;expression[1]&gt;&#8288;</code> indicating the title of
the guide. If <code>NULL</code>, the title is not shown. The default,
<code><a href="ggplot2.html#topic+waiver">waiver()</a></code>, takes the name of the scale object or
the name specified in <code><a href="ggplot2.html#topic+labs">labs()</a></code> as the title.</p>
</td></tr>
<tr><td><code id="guide_legend_cross_+3A_swap">swap</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;logical[1]&gt;&#8288;</code> which when <code>TRUE</code> exchanges the column and row
variables in the displayed legend.</p>
</td></tr>
<tr><td><code id="guide_legend_cross_+3A_col_text">col_text</code></td>
<td>
<p>An <code style="white-space: pre;">&#8288;&lt;element_text&gt;&#8288;</code> object giving adjustments to text for
the column labels. Can be <code>NULL</code> to display column labels in equal fashion
to the row labels.</p>
</td></tr>
<tr><td><code id="guide_legend_cross_+3A_override.aes">override.aes</code></td>
<td>
<p>A named <code style="white-space: pre;">&#8288;&lt;list&gt;&#8288;</code> specifying aesthetic parameters of the
key glyphs. See details and examples in
<code><a href="ggplot2.html#topic+guide_legend">guide_legend()</a></code>.</p>
</td></tr>
<tr><td><code id="guide_legend_cross_+3A_reverse">reverse</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;logical[2]&gt;&#8288;</code> whether the order of the keys should be
inverted, where the first value controls the row order and second value
the column order. Input as <code style="white-space: pre;">&#8288;&lt;logical[1]&gt;&#8288;</code> will be recycled.</p>
</td></tr>
<tr><td><code id="guide_legend_cross_+3A_theme">theme</code></td>
<td>
<p>A <code><a href="ggplot2.html#topic+theme">&lt;theme&gt;</a></code> object to style the guide individually or
differently from the plot's theme settings. The <code>theme</code> argument in the
guide overrides and is combined with the plot's theme.</p>
</td></tr>
<tr><td><code id="guide_legend_cross_+3A_position">position</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> giving the location of the guide. Can be one of <code>"top"</code>,
<code>"bottom"</code>, <code>"left"</code> or <code>"right"</code>.</p>
</td></tr>
<tr><td><code id="guide_legend_cross_+3A_direction">direction</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> indicating the direction of the guide. Can be on of
<code>"horizontal"</code> or <code>"vertical"</code>.</p>
</td></tr>
<tr><td><code id="guide_legend_cross_+3A_order">order</code></td>
<td>
<p>A positive <code style="white-space: pre;">&#8288;&lt;integer[1]&gt;&#8288;</code> that specifies the order of this guide among
multiple guides. This controls in which order guides are merged if there
are multiple guides for the same position. If <code>0</code> (default), the order is
determined by a hashing indicative settings of a guide.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code style="white-space: pre;">&#8288;&lt;GuideLegend&gt;&#8288;</code> object.
</p>


<h3>See Also</h3>

<p>Other standalone guides: 
<code><a href="#topic+guide_axis_base">guide_axis_base</a>()</code>,
<code><a href="#topic+guide_axis_dendro">guide_axis_dendro</a>()</code>,
<code><a href="#topic+guide_axis_nested">guide_axis_nested</a>()</code>,
<code><a href="#topic+guide_circles">guide_circles</a>()</code>,
<code><a href="#topic+guide_colbar">guide_colbar</a>()</code>,
<code><a href="#topic+guide_colring">guide_colring</a>()</code>,
<code><a href="#topic+guide_colsteps">guide_colsteps</a>()</code>,
<code><a href="#topic+guide_legend_base">guide_legend_base</a>()</code>,
<code><a href="#topic+guide_legend_group">guide_legend_group</a>()</code>
</p>
<p>Other legend guides: 
<code><a href="#topic+guide_legend_base">guide_legend_base</a>()</code>,
<code><a href="#topic+guide_legend_group">guide_legend_group</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Standard use for single aesthetic. The default is to split labels to
# disentangle aesthetics that are already crossed (by e.g. `paste()`)
ggplot(mpg, aes(displ, hwy)) +
  geom_point(aes(colour = paste(year, drv))) +
  guides(colour = "legend_cross")

# If legends should be merged between identical aesthetics, both need the
# same legend type.
ggplot(mpg, aes(displ, hwy)) +
  geom_point(aes(colour = paste(year, drv), shape = paste(year, drv))) +
  guides(colour = "legend_cross", shape = "legend_cross")

# Crossing two aesthetics requires a shared title and `key = "auto"`. The
# easy way to achieve this is to predefine a shared guide.
my_guide &lt;- guide_legend_cross(key = "auto", title = "My title")

ggplot(mpg, aes(displ, hwy)) +
  geom_point(aes(colour = drv, shape = factor(year))) +
  guides(colour = my_guide, shape  = my_guide)

# You can cross more than 2 aesthetics but not more than 2 unique aesthetics.
ggplot(mpg, aes(displ, hwy)) +
  geom_point(aes(colour = drv, shape = factor(year), size = factor(drv))) +
  scale_size_ordinal() +
  guides(colour = my_guide, shape = my_guide, size = my_guide)

# You can merge an aesthetic that is already crossed with an aesthetic that
# contributes to only one side of the cross.
ggplot(mpg, aes(displ, hwy)) +
  geom_point(aes(colour = paste(year, drv), shape  = drv)) +
  guides(
    colour = guide_legend_cross(title = "My Title"),
    shape  = guide_legend_cross(title = "My Title", key = "auto")
  )
</code></pre>

<hr>
<h2 id='guide_legend_group'>Grouped legend</h2><span id='topic+guide_legend_group'></span>

<h3>Description</h3>

<p>This legend resembles <code>ggplot2::guide_legend()</code>, but has the ability to
keep groups in blocks with their own titles.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>guide_legend_group(
  key = "group_split",
  title = waiver(),
  override.aes = list(),
  nrow = NULL,
  ncol = NULL,
  theme = NULL,
  position = NULL,
  direction = NULL,
  order = 0
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="guide_legend_group_+3A_key">key</code></td>
<td>
<p>A <a href="#topic+key_group">group key</a> specification. Defaults to
<code>key_group_split()</code> to split labels to find groups.</p>
</td></tr>
<tr><td><code id="guide_legend_group_+3A_title">title</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> or <code style="white-space: pre;">&#8288;&lt;expression[1]&gt;&#8288;</code> indicating the title of
the guide. If <code>NULL</code>, the title is not shown. The default,
<code><a href="ggplot2.html#topic+waiver">waiver()</a></code>, takes the name of the scale object or
the name specified in <code><a href="ggplot2.html#topic+labs">labs()</a></code> as the title.</p>
</td></tr>
<tr><td><code id="guide_legend_group_+3A_override.aes">override.aes</code></td>
<td>
<p>A named <code style="white-space: pre;">&#8288;&lt;list&gt;&#8288;</code> specifying aesthetic parameters of the
key glyphs. See details and examples in
<code><a href="ggplot2.html#topic+guide_legend">guide_legend()</a></code>.</p>
</td></tr>
<tr><td><code id="guide_legend_group_+3A_nrow">nrow</code>, <code id="guide_legend_group_+3A_ncol">ncol</code></td>
<td>
<p>A positive <code style="white-space: pre;">&#8288;&lt;integer[1]&gt;&#8288;</code> setting the desired dimensions of
the legend layout. Either <code>nrow</code> or <code>ncol</code> can be set, but not both,</p>
</td></tr>
<tr><td><code id="guide_legend_group_+3A_theme">theme</code></td>
<td>
<p>A <code><a href="ggplot2.html#topic+theme">&lt;theme&gt;</a></code> object to style the guide individually or
differently from the plot's theme settings. The <code>theme</code> argument in the
guide overrides and is combined with the plot's theme.</p>
</td></tr>
<tr><td><code id="guide_legend_group_+3A_position">position</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> giving the location of the guide. Can be one of <code>"top"</code>,
<code>"bottom"</code>, <code>"left"</code> or <code>"right"</code>.</p>
</td></tr>
<tr><td><code id="guide_legend_group_+3A_direction">direction</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> indicating the direction of the guide. Can be on of
<code>"horizontal"</code> or <code>"vertical"</code>.</p>
</td></tr>
<tr><td><code id="guide_legend_group_+3A_order">order</code></td>
<td>
<p>A positive <code style="white-space: pre;">&#8288;&lt;integer[1]&gt;&#8288;</code> that specifies the order of this guide among
multiple guides. This controls in which order guides are merged if there
are multiple guides for the same position. If <code>0</code> (default), the order is
determined by a hashing indicative settings of a guide.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code style="white-space: pre;">&#8288;&lt;GuideLegend&gt;&#8288;</code> object.
</p>


<h3>See Also</h3>

<p>Other standalone guides: 
<code><a href="#topic+guide_axis_base">guide_axis_base</a>()</code>,
<code><a href="#topic+guide_axis_dendro">guide_axis_dendro</a>()</code>,
<code><a href="#topic+guide_axis_nested">guide_axis_nested</a>()</code>,
<code><a href="#topic+guide_circles">guide_circles</a>()</code>,
<code><a href="#topic+guide_colbar">guide_colbar</a>()</code>,
<code><a href="#topic+guide_colring">guide_colring</a>()</code>,
<code><a href="#topic+guide_colsteps">guide_colsteps</a>()</code>,
<code><a href="#topic+guide_legend_base">guide_legend_base</a>()</code>,
<code><a href="#topic+guide_legend_cross">guide_legend_cross</a>()</code>
</p>
<p>Other legend guides: 
<code><a href="#topic+guide_legend_base">guide_legend_base</a>()</code>,
<code><a href="#topic+guide_legend_cross">guide_legend_cross</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Standard plot for selection of `msleep`
df &lt;- msleep[c(9, 28, 11, 5, 34, 54, 64, 24, 53), ]

p &lt;- ggplot(df) +
  aes(bodywt, awake, colour = paste(order, name)) +
  geom_point()

# By default, groups are inferred from the name
p + guides(colour = "legend_group")

# You can also use a look-up table for groups
# The lookup table can be more expansive than just the data:
# We're using the full 'msleep' data here instead of the subset
lut &lt;- key_group_lut(msleep$name, msleep$order)

p + aes(colour = name) +
  guides(colour = guide_legend_group(key = lut))

# `nrow` and `ncol` apply within groups
p + guides(colour = guide_legend_group(nrow = 1))

# Groups are arranged according to `direction`
p + guides(colour = guide_legend_group(ncol = 1, direction = "horizontal")) +
  theme(legend.title.position = "top")

# Customising the group titles
p + guides(colour = "legend_group") +
  theme(
    legendry.legend.subtitle.position = "left",
    legendry.legend.subtitle = element_text(
      hjust = 1, vjust = 1, size = rel(0.9),
      margin = margin(t = 5.5, r = 5.5)
    )
  )

# Changing the spacing between groups
p + guides(colour = "legend_group") +
  theme(legendry.group.spacing = unit(0, "cm"))
</code></pre>

<hr>
<h2 id='guide-composition'>Guide composition</h2><span id='topic+guide-composition'></span><span id='topic+new_compose'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
</p>
<p>Guide composition is a meta-guide orchestrating an ensemble of other guides.
On their own, a 'composing' guide is not very useful as a visual reflection
of a scale.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_compose(
  guides,
  args = list(),
  ...,
  available_aes = c("any", "x", "y", "r", "theta"),
  call = caller_env(),
  super = Compose
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="guide-composition_+3A_guides">guides</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;list&gt;&#8288;</code> of guides wherein each element is one of the
following:
</p>

<ul>
<li><p> A <code style="white-space: pre;">&#8288;&lt;Guide&gt;&#8288;</code> class object.
</p>
</li>
<li><p> A <code style="white-space: pre;">&#8288;&lt;function&gt;&#8288;</code> that returns a <code style="white-space: pre;">&#8288;&lt;Guide&gt;&#8288;</code> class object.
</p>
</li>
<li><p> A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> naming such a function, without the <code>guide_</code> or
<code>primitive_</code> prefix.
</p>
</li></ul>
</td></tr>
<tr><td><code id="guide-composition_+3A_args">args</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;list&gt;&#8288;</code> of arguments to pass to guides that are given either
as a function or as a string.</p>
</td></tr>
<tr><td><code id="guide-composition_+3A_...">...</code></td>
<td>
<p>Additional parameters to pass on to
<code><a href="ggplot2.html#topic+new_guide">new_guide()</a></code>.</p>
</td></tr>
<tr><td><code id="guide-composition_+3A_available_aes">available_aes</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character&gt;&#8288;</code> giving aesthetics that must match the
the guides.</p>
</td></tr>
<tr><td><code id="guide-composition_+3A_call">call</code></td>
<td>
<p>A <a href="rlang.html#topic+topic-error-call">call</a> to display in messages.</p>
</td></tr>
<tr><td><code id="guide-composition_+3A_super">super</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;Compose&gt;&#8288;</code> class object giving a meta-guide for composition.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code style="white-space: pre;">&#8288;&lt;Compose&gt;&#8288;</code> (sub-)class guide that composes other guides.
</p>


<h3>See Also</h3>

<p>Other composition: 
<code><a href="#topic+compose_crux">compose_crux</a>()</code>,
<code><a href="#topic+compose_ontop">compose_ontop</a>()</code>,
<code><a href="#topic+compose_sandwich">compose_sandwich</a>()</code>,
<code><a href="#topic+compose_stack">compose_stack</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># The `new_compose()` function is not intended to be used directly
my_composition &lt;- new_compose(list("axis", "axis"), super = ComposeStack)

# Is the same as
my_composition &lt;- compose_stack("axis", "axis")
</code></pre>

<hr>
<h2 id='guide-gizmos'>Guide gizmos</h2><span id='topic+guide-gizmos'></span>

<h3>Description</h3>

<p>Guide gizmos are a speciality guide components that are very specific to
one or a few aesthetics to display.
</p>
<p>Typically they can be <a href="#topic+guide-composition">composed</a> with other guides or
guide <a href="#topic+guide-primitives">primitives</a> to form a complete guide.
</p>

<hr>
<h2 id='guide-primitives'>Guide primitives</h2><span id='topic+guide-primitives'></span>

<h3>Description</h3>

<p>Guide primitives are the building blocks of more complex guides. On their
own, they are not very useful as a visual reflection of a scale.
</p>
<p>Their purpose is to be combined with one another to form a more complex,
complete guides that <em>do</em> reflect a scale in some way.
</p>


<h3>Details</h3>

<p>The guide primitives are simple, but flexible in that they are not tailored
for one particular aesthetic. That way they can be reused and combined
at will.
</p>

<hr>
<h2 id='key_group'>Group keys</h2><span id='topic+key_group'></span><span id='topic+key_group_split'></span><span id='topic+key_group_lut'></span>

<h3>Description</h3>

<p>These functions are helper functions for working with grouped data as keys in
guides. They all share the goal of creating a guide key, but have different
methods.
</p>

<ul>
<li> <p><code>key_group_split()</code> is a function factory whose functions make an attempt
to infer groups from the scale's labels.
</p>
</li>
<li> <p><code>key_group_lut()</code> is a function factory whose functions use a look up table
to sort out group membership.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>key_group_split(sep = "[^[:alnum:]]+", reverse = FALSE)

key_group_lut(members, group, ungrouped = "Other")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="key_group_+3A_sep">sep</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> giving a <a href="base.html#topic+regex">regular expression</a> to
use for splitting labels provided by the scale using the
<code><a href="base.html#topic+strsplit">strsplit()</a></code> function. By defaults, labels are splitted
on any non-alphanumeric character.</p>
</td></tr>
<tr><td><code id="key_group_+3A_reverse">reverse</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;logical[1]&gt;&#8288;</code> which if <code>FALSE</code> (default) treats the first
part of the split string as groups and later parts as members. If <code>TRUE</code>,
treats the last part as groups.</p>
</td></tr>
<tr><td><code id="key_group_+3A_members">members</code></td>
<td>
<p>A vector including the scale's <code>breaks</code> values.</p>
</td></tr>
<tr><td><code id="key_group_+3A_group">group</code></td>
<td>
<p>A vector parallel to <code>members</code> giving  the group of each member.</p>
</td></tr>
<tr><td><code id="key_group_+3A_ungrouped">ungrouped</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> giving a group label to assign to the
scale's <code>breaks</code> that match no values in the <code>members</code> argument.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A function to use as the <code>key</code> argument in a guide.
</p>


<h3>See Also</h3>

<p>Other keys: 
<code><a href="#topic+key_range">key_range</a></code>,
<code><a href="#topic+key_segments">key_segments</a></code>,
<code><a href="#topic+key_specialty">key_specialty</a></code>,
<code><a href="#topic+key_standard">key_standard</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Example scale
values &lt;- c("group A:value 1", "group A:value 2", "group B:value 1")
template &lt;- scale_colour_hue(limits = values)

# Treat the 'group X' part as groups
key &lt;- key_group_split(sep = ":")
key(template)

# Treat the 'value X' part as groups
key &lt;- key_group_split(sep = ":", reverse = TRUE)
key(template)

# Example scale
template &lt;- scale_colour_hue(limits = msleep$name[c(1, 7, 9, 23, 24)])

# A lookup table can have more entries than needed
key &lt;- key_group_lut(msleep$name, msleep$order)
key(template)

# Or less entries than needed
key &lt;- key_group_lut(
  msleep$name[23:24], msleep$order[23:24],
  ungrouped = "Other animals"
)
key(template)
</code></pre>

<hr>
<h2 id='key_range'>Range keys</h2><span id='topic+key_range'></span><span id='topic+key_range_auto'></span><span id='topic+key_range_manual'></span><span id='topic+key_range_map'></span>

<h3>Description</h3>

<p>These functions are helper functions for working with ranged data as keys
in guides. They all share the goal creating of a guide key, but have
different methods:
</p>

<ul>
<li> <p><code>key_range_auto()</code> is a function factory whose functions make an attempt
to infer ranges from the scale's labels.
</p>
</li>
<li> <p><code>key_range_manual()</code> uses user-provided vectors to set ranges.
</p>
</li>
<li> <p><code>key_range_map()</code> makes mappings from a <code style="white-space: pre;">&#8288;&lt;data.frame&gt;&#8288;</code> to set ranges.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>key_range_auto(sep = "[^[:alnum:]]+", reverse = FALSE, ...)

key_range_manual(start, end, name = NULL, level = NULL, ...)

key_range_map(data, ..., .call = caller_env())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="key_range_+3A_sep">sep</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> giving a <a href="base.html#topic+regex">regular expression</a> to
use for splitting labels provided by the scale using
<code><a href="base.html#topic+strsplit">strsplit()</a></code>. Defaults to splitting on any
non-alphanumeric character.</p>
</td></tr>
<tr><td><code id="key_range_+3A_reverse">reverse</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;logical[1]&gt;&#8288;</code> which if <code>FALSE</code> (default) treats the first
labels as the inner labels and the last labels as the outer labels.
If <code>TRUE</code>, thee first labels are treated as the outer labels and the last
labels are treated as the inner labels.</p>
</td></tr>
<tr><td><code id="key_range_+3A_...">...</code></td>
<td>
<p><code><a href="rlang.html#topic+topic-data-mask">&lt;data-masking&gt;</a></code> A set of mappings
similar to those provided to <code><a href="ggplot2.html#topic+aes">aes()</a></code>, which will be
evaluated in the <code>data</code> argument.
For <code>key_range_map()</code>, these <em>must</em> contain <code>start</code> and <code>end</code> mappings.
Can contain additional parameters for text styling, namely <code>colour</code>,
<code>family</code>, <code>face</code>, <code>size</code>, <code>hjust</code>, <code>vjust</code>, <code>angle</code> and <code>lineheight</code>.</p>
</td></tr>
<tr><td><code id="key_range_+3A_start">start</code>, <code id="key_range_+3A_end">end</code></td>
<td>
<p>A vector that can be interpreted by the scale, giving the
start and end positions of each range respectively.</p>
</td></tr>
<tr><td><code id="key_range_+3A_name">name</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character&gt;&#8288;</code> or list of expressions</p>
</td></tr>
<tr><td><code id="key_range_+3A_level">level</code></td>
<td>
<p>An <code style="white-space: pre;">&#8288;&lt;integer&gt;&#8288;</code> giving the depth of each range to avoid overlaps
between different ranges. When <code>level</code> is smaller than 1, no brackets are
drawn.</p>
</td></tr>
<tr><td><code id="key_range_+3A_data">data</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;data.frame&gt;&#8288;</code> or similar object coerced by
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> to a <code style="white-space: pre;">&#8288;&lt;data.frame&gt;&#8288;</code>, in which the <code>mapping</code>
argument is evaluated.</p>
</td></tr>
<tr><td><code id="key_range_+3A_.call">.call</code></td>
<td>
<p>A <a href="rlang.html#topic+topic-error-call">call</a> to display in messages.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>level</code> variable is optional and when missing, the guides use an
algorithm similar to <code>IRanges::disjointBins()</code> to avoid overlaps.
</p>
<p>The <code>key_range_auto()</code> does <em>not</em> work with expression labels.
</p>


<h3>Value</h3>

<p>For <code>key_range_auto()</code> a function. For <code>key_range_manual()</code> and
<code>key_range_map()</code> a <code style="white-space: pre;">&#8288;&lt;data.frame&gt;&#8288;</code> with the <code style="white-space: pre;">&#8288;&lt;key_range&gt;&#8288;</code> class.
</p>


<h3>See Also</h3>

<p>Other keys: 
<code><a href="#topic+key_group">key_group</a></code>,
<code><a href="#topic+key_segments">key_segments</a></code>,
<code><a href="#topic+key_specialty">key_specialty</a></code>,
<code><a href="#topic+key_standard">key_standard</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Example scale
template &lt;- scale_x_discrete(limits = c("A 1", "B 1", "C&amp;1", "D&amp;2", "E&amp;2"))

# By default, splits on all non-alphanumeric characters
auto &lt;- key_range_auto()
auto(template)

# Only split on a specific character
auto &lt;- key_range_auto(sep = "&amp;")
auto(template)

# Treating the letters as outer labels and numbers as inner labels
auto &lt;- key_range_auto(reverse = TRUE)
auto(template)

# Providing custom values
key_range_manual(
  start = c(1, 5,  10),
  end   = c(4, 15, 11),
  level = c(0, 2, 1),
  name  = c("A", "B", "C")
)

# Values from a &lt;data.frame&gt;
key_range_map(presidential, start = start, end = end, name = name)
</code></pre>

<hr>
<h2 id='key_segments'>Segment keys</h2><span id='topic+key_segments'></span><span id='topic+key_segment_manual'></span><span id='topic+key_segment_map'></span><span id='topic+key_dendro'></span>

<h3>Description</h3>

<p>These functions are helper functions for working with segment data as keys
in guides. They all share the goal of creating a guide key, but have
different methods:
</p>

<ul>
<li> <p><code>key_segment_manual()</code> directly uses user-provided vectors to set segments.
</p>
</li>
<li> <p><code>key_segment_map()</code> makes mappings from a <code style="white-space: pre;">&#8288;&lt;data.frame&gt;&#8288;</code> to set segments.
</p>
</li>
<li> <p><code>key_dendro()</code> is a specialty case for coercing dendrogram data to segments.
Be aware that setting the key alone cannot affect the scale limits, and
will give misleading results when used incorrectly!
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>key_segment_manual(value, oppo, value_end = value, oppo_end = oppo, ...)

key_segment_map(data, ..., .call = caller_env())

key_dendro(dendro = NULL, type = "rectangle")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="key_segments_+3A_value">value</code>, <code id="key_segments_+3A_value_end">value_end</code></td>
<td>
<p>A vector that is interpreted to be along the scale
that the guide codifies.</p>
</td></tr>
<tr><td><code id="key_segments_+3A_oppo">oppo</code>, <code id="key_segments_+3A_oppo_end">oppo_end</code></td>
<td>
<p>A vector that is interpreted to be orthogonal to the
<code>value</code> and <code>value_end</code> variables.</p>
</td></tr>
<tr><td><code id="key_segments_+3A_...">...</code></td>
<td>
<p><code><a href="rlang.html#topic+topic-data-mask">&lt;data-masking&gt;</a></code> A set of mappings
similar to those provided to <code><a href="ggplot2.html#topic+aes">aes()</a></code>, which will be
evaluated in the <code>data</code> argument.
For <code>key_segments_map()</code>, these <em>must</em> contain <code>value</code> and <code>oppo</code> mappings.</p>
</td></tr>
<tr><td><code id="key_segments_+3A_data">data</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;data.frame&gt;&#8288;</code> or similar object coerced by
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> to a <code style="white-space: pre;">&#8288;&lt;data.frame&gt;&#8288;</code>, in which the <code>mapping</code>
argument is evaluated.</p>
</td></tr>
<tr><td><code id="key_segments_+3A_.call">.call</code></td>
<td>
<p>A <a href="rlang.html#topic+topic-error-call">call</a> to display in messages.</p>
</td></tr>
<tr><td><code id="key_segments_+3A_dendro">dendro</code></td>
<td>
<p>A data structure that can be coerced to a dendrogram through
the <code><a href="stats.html#topic+dendrogram">as.dendrogram()</a></code> function. When <code>NULL</code>
(default) an attempt is made to search for such data in the scale.</p>
</td></tr>
<tr><td><code id="key_segments_+3A_type">type</code></td>
<td>
<p>A string, either <code>"rectangle"</code> or <code>"triangle"</code>, indicating the
shape of edges between nodes of the dendrogram.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>For <code>key_segments_manual()</code> and <code>key_segments_map()</code>, a <code style="white-space: pre;">&#8288;&lt;data.frame&gt;&#8288;</code> with
the <code style="white-space: pre;">&#8288;&lt;key_range&gt;&#8288;</code> class.
</p>


<h3>See Also</h3>

<p>Other keys: 
<code><a href="#topic+key_group">key_group</a></code>,
<code><a href="#topic+key_range">key_range</a></code>,
<code><a href="#topic+key_specialty">key_specialty</a></code>,
<code><a href="#topic+key_standard">key_standard</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Giving vectors directly
key_segment_manual(
  value = 0:1, value_end = 2:3,
  oppo  = 1:0, oppo_end  = 3:2
)

# Taking columns of a data frame
data &lt;- data.frame(x = 0:1, y = 1:0, xend = 2:3, yend = 3:2)
key_segment_map(data, value = x, oppo = y, value_end = xend, oppo_end = yend)

# Using dendrogram data
clust &lt;- hclust(dist(USArrests), "ave")
key_dendro(clust)(scale_x_discrete())
</code></pre>

<hr>
<h2 id='key_specialty'>Speciality keys</h2><span id='topic+key_specialty'></span><span id='topic+key_sequence'></span><span id='topic+key_bins'></span>

<h3>Description</h3>

<p>These functions are helper functions for working with keys in guides. The
functions described here are not widely applicable and may only apply
to a small subset of guides. As such, it is fine to adjust the arguments
of a speciality key, but swapping types is ill-advised.
</p>

<ul>
<li> <p><code>key_sequence()</code> is a function factory whose functions create a regularly
spaced sequence between the limits of a scale. It is used in colour bar
guides.
</p>
</li>
<li> <p><code>key_bins()</code> is a function factory whose function create a binned key
given the breaks in the scale. It is used in colour steps guides.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>key_sequence(n = 15)

key_bins(even.steps = FALSE, show.limits = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="key_specialty_+3A_n">n</code></td>
<td>
<p>A positive <code style="white-space: pre;">&#8288;&lt;integer[1]&gt;&#8288;</code> giving the number of colours to use for a
gradient.</p>
</td></tr>
<tr><td><code id="key_specialty_+3A_even.steps">even.steps</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;logical[1]&gt;&#8288;</code> indicating whether the size of bins
should be displayed as equal (<code>TRUE</code>) or proportional to their length in
data space (<code>FALSE</code>).</p>
</td></tr>
<tr><td><code id="key_specialty_+3A_show.limits">show.limits</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;logical[1]&gt;&#8288;</code> stating whether the limits of the scale
should be shown with labels and ticks (<code>TRUE</code>) or remain hidden (<code>FALSE</code>).
Note that breaks coinciding with limits are shown regardless of this
setting. The default, <code>NULL</code>, consults the scale's <code>show.limits</code> setting
or defaults to <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>For <code>key_sequence()</code> a function.
</p>


<h3>See Also</h3>

<p>Other keys: 
<code><a href="#topic+key_group">key_group</a></code>,
<code><a href="#topic+key_range">key_range</a></code>,
<code><a href="#topic+key_segments">key_segments</a></code>,
<code><a href="#topic+key_standard">key_standard</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># An example scale
template &lt;- scale_fill_viridis_c(limits = c(0, 10), breaks = c(2, 4, 6, 8))

# Retrieving colourbar and colourstep keys
key_sequence()(template)
key_bins()(template)
</code></pre>

<hr>
<h2 id='key_standard'>Standard keys</h2><span id='topic+key_standard'></span><span id='topic+key_auto'></span><span id='topic+key_manual'></span><span id='topic+key_map'></span><span id='topic+key_minor'></span><span id='topic+key_log'></span><span id='topic+key_none'></span>

<h3>Description</h3>

<p>These functions are helper functions for working with tick marks as keys
in guides. They all share the goal of creating a guide key, but have
different outcomes:
</p>

<ul>
<li> <p><code>key_auto()</code> is a function factory whose functions extract a typical
key from major breaks in a scale.
</p>
</li>
<li> <p><code>key_manual()</code> uses user-provided vectors to make a key.
</p>
</li>
<li> <p><code>key_map()</code> makes mappings from a <code style="white-space: pre;">&#8288;&lt;data.frame&gt;&#8288;</code> to make a key.
</p>
</li>
<li> <p><code>key_minor()</code> is a function factory whose functions also extract minor
break positions for minor tick marks.
</p>
</li>
<li> <p><code>key_log()</code> is a function factory whose functions place ticks at intervals
in log10 space.
</p>
</li>
<li> <p><code>key_none()</code> makes an empty key with no entries.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>key_auto(...)

key_manual(
  aesthetic,
  value = aesthetic,
  label = as.character(value),
  type = NULL,
  ...
)

key_map(data, ..., .call = caller_env())

key_minor(...)

key_log(
  prescale_base = NULL,
  negative_small = 0.1,
  expanded = TRUE,
  labeller = NULL,
  ...
)

key_none()
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="key_standard_+3A_...">...</code></td>
<td>
<p><code><a href="rlang.html#topic+topic-data-mask">&lt;data-masking&gt;</a></code> A set of mappings
similar to those provided to <code><a href="ggplot2.html#topic+aes">aes()</a></code>, which will be
evaluated in the <code>data</code> argument. These must contain <code>aesthetic</code> mapping.</p>
</td></tr>
<tr><td><code id="key_standard_+3A_aesthetic">aesthetic</code>, <code id="key_standard_+3A_value">value</code></td>
<td>
<p>A vector of values for the guide to represent
equivalent to the <code>breaks</code> argument in scales. The <code>aesthetic</code> will be
mapped, whereas <code>value</code> will not. For most intents and purposes,
<code>aesthetic</code> and <code>value</code> should be identical.</p>
</td></tr>
<tr><td><code id="key_standard_+3A_label">label</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character&gt;&#8288;</code> or list of expressions to use as labels.</p>
</td></tr>
<tr><td><code id="key_standard_+3A_type">type</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character&gt;&#8288;</code> vector representing the one of the break types:
<code>"major"</code>, <code>"minor"</code> or <code>"mini"</code>. If <code>NULL</code> (default), all breaks are
treated as major breaks.</p>
</td></tr>
<tr><td><code id="key_standard_+3A_data">data</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;data.frame&gt;&#8288;</code> or similar object coerced by
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> to a <code style="white-space: pre;">&#8288;&lt;data.frame&gt;&#8288;</code>, in which the <code>mapping</code>
argument is evaluated.</p>
</td></tr>
<tr><td><code id="key_standard_+3A_.call">.call</code></td>
<td>
<p>A <a href="rlang.html#topic+topic-error-call">call</a> to display in messages.</p>
</td></tr>
<tr><td><code id="key_standard_+3A_prescale_base">prescale_base</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;numeric[1]&gt;&#8288;</code> giving the base of logarithm to
transform data manually. The default, <code>NULL</code>, will use the scale
transformation to calculate positions. It is only advisable to set the
<code>prescale_base</code> argument when the data have already been log-transformed.
When using a log-transform in the scale or in
<code><a href="ggplot2.html#topic+coord_trans">coord_trans()</a></code>, the default <code>NULL</code> is recommended.</p>
</td></tr>
<tr><td><code id="key_standard_+3A_negative_small">negative_small</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;numeric[1]&gt;&#8288;</code> setting the smallest absolute value
that is marked with a tick in case the scale limits include 0 or negative
numbers.</p>
</td></tr>
<tr><td><code id="key_standard_+3A_expanded">expanded</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;logical[1]&gt;&#8288;</code> determining whether the ticks should cover
the entire range after scale expansion (<code>TRUE</code>, default), or be restricted
to the scale limits (<code>FALSE</code>).</p>
</td></tr>
<tr><td><code id="key_standard_+3A_labeller">labeller</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;function&gt;&#8288;</code> that receives major breaks and returns
formatted labels. For <code>key_log()</code>, <code>NULL</code> will default to
<code><a href="scales.html#topic+label_log">scales::label_log()</a></code> for strictly positive numbers and a custom labeller
when negative numbers are included.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>For <code>key_auto()</code>, <code>key_minor()</code> and <code>key_log()</code> a function. For
<code>key_manual()</code> and <code>key_map()</code> a <code style="white-space: pre;">&#8288;&lt;data.frame&gt;&#8288;</code> with the <code style="white-space: pre;">&#8288;&lt;key_standard&gt;&#8288;</code>
class.
</p>


<h3>See Also</h3>

<p>Other keys: 
<code><a href="#topic+key_group">key_group</a></code>,
<code><a href="#topic+key_range">key_range</a></code>,
<code><a href="#topic+key_segments">key_segments</a></code>,
<code><a href="#topic+key_specialty">key_specialty</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># An example scale
template &lt;- scale_x_continuous(limits = c(0, 10))

# The auto, minor and log keys operate on scales
key_auto()(template)
key_minor()(template)

# So does the log key
template &lt;- scale_x_continuous(transform = "log10", limits = c(0.1, 10))
key_log()(template)

# Providing custom values
key_manual(
  aesthetic = 1:5,
  label = c("one", "two", "three", "four", "five")
)

# Values from a `&lt;data.frame&gt;`
key_map(ToothGrowth, aesthetic = unique(supp))

# Empty key
key_none()
</code></pre>

<hr>
<h2 id='primitive_box'>Guide primitives: boxes</h2><span id='topic+primitive_box'></span>

<h3>Description</h3>

<p>This function constructs a boxes <a href="#topic+guide-primitives">guide primitive</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>primitive_box(
  key = "range_auto",
  angle = waiver(),
  oob = "squish",
  drop_zero = TRUE,
  pad_discrete = 0.4,
  min_size = NULL,
  levels_box = NULL,
  levels_text = NULL,
  theme = NULL,
  position = waiver()
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="primitive_box_+3A_key">key</code></td>
<td>
<p>A <a href="#topic+key_range">range key</a> specification. See more information
in the linked topic.</p>
</td></tr>
<tr><td><code id="primitive_box_+3A_angle">angle</code></td>
<td>
<p>A specification for the text angle. Compared to setting the <code>angle</code> argument
in <code><a href="ggplot2.html#topic+element">element_text()</a></code>, this argument uses some
heuristics to automatically pick the <code>hjust</code> and <code>vjust</code> that you
probably want. Can be one of the following:
</p>

<ul>
<li> <p><code>NULL</code> to take angles and justification settings directly from the theme.
</p>
</li>
<li> <p><code><a href="ggplot2.html#topic+waiver">waiver()</a></code> to allow reasonable defaults in special
cases.
</p>
</li>
<li><p> A <code style="white-space: pre;">&#8288;&lt;numeric[1]&gt;&#8288;</code> between -360 and 360 for the text angle in degrees.
</p>
</li></ul>
</td></tr>
<tr><td><code id="primitive_box_+3A_oob">oob</code></td>
<td>
<p>A method for dealing with out-of-bounds (oob) ranges. Can be one
of <code>"squish"</code>, <code>"censor"</code> or <code>"none"</code>.</p>
</td></tr>
<tr><td><code id="primitive_box_+3A_drop_zero">drop_zero</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;logical[1]&gt;&#8288;</code> whether to drop near-zero width ranges
(<code>TRUE</code>, default) or preserve them (<code>FALSE</code>).</p>
</td></tr>
<tr><td><code id="primitive_box_+3A_pad_discrete">pad_discrete</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;numeric[1]&gt;&#8288;</code> giving the amount ranges should be
extended when given as a discrete variable. This is applied after
the <code>drop_zero</code> setting.</p>
</td></tr>
<tr><td><code id="primitive_box_+3A_min_size">min_size</code></td>
<td>
<p>A [<code style="white-space: pre;">&#8288;&lt;grid::unit[1]&gt;&#8288;</code>][grid::unit] setting the minimal size
of a box.</p>
</td></tr>
<tr><td><code id="primitive_box_+3A_levels_box">levels_box</code></td>
<td>
<p>A list of <code style="white-space: pre;">&#8288;&lt;element_rect&gt;&#8288;</code> objects to customise how
boxes appear at every level.</p>
</td></tr>
<tr><td><code id="primitive_box_+3A_levels_text">levels_text</code></td>
<td>
<p>A list of <code style="white-space: pre;">&#8288;&lt;element_text&gt;&#8288;</code> objects to customise how
text appears at every level.</p>
</td></tr>
<tr><td><code id="primitive_box_+3A_theme">theme</code></td>
<td>
<p>A <code><a href="ggplot2.html#topic+theme">&lt;theme&gt;</a></code> object to style the guide individually or
differently from the plot's theme settings. The <code>theme</code> argument in the
guide overrides and is combined with the plot's theme.</p>
</td></tr>
<tr><td><code id="primitive_box_+3A_position">position</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> giving the location of the guide. Can be one of <code>"top"</code>,
<code>"bottom"</code>, <code>"left"</code> or <code>"right"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code style="white-space: pre;">&#8288;&lt;PrimitiveBox&gt;&#8288;</code> primitive guide that can be used inside other
guides.
</p>


<h3>Styling options</h3>

<p>Below are the <a href="ggplot2.html#topic+theme">theme</a> options that determine the styling of
this guide, which may differ depending on whether the guide is used in
an axis or in a legend context.
</p>
<p>Common to both types is the following:
</p>

<ul>
<li> <p><code>legendry.box</code> an <code><a href="ggplot2.html#topic+element">&lt;element_rect&gt;</a></code> for the boxes
to draw.
</p>
</li></ul>



<h4>As an axis guide</h4>


<ul>
<li> <p><code style="white-space: pre;">&#8288;axis.text.{x/y}.{position}&#8288;</code> an <code><a href="ggplot2.html#topic+element">&lt;element_text&gt;</a></code>
for the text inside the boxes.
</p>
</li></ul>




<h4>As a legend guide</h4>


<ul>
<li> <p><code>legend.text</code> an <code><a href="ggplot2.html#topic+element">&lt;element_text&gt;</a></code> for the text
inside the boxes.
</p>
</li></ul>




<h3>See Also</h3>

<p>Other primitives: 
<code><a href="#topic+primitive_bracket">primitive_bracket</a>()</code>,
<code><a href="#topic+primitive_fence">primitive_fence</a>()</code>,
<code><a href="#topic+primitive_labels">primitive_labels</a>()</code>,
<code><a href="#topic+primitive_line">primitive_line</a>()</code>,
<code><a href="#topic+primitive_segments">primitive_segments</a>()</code>,
<code><a href="#topic+primitive_spacer">primitive_spacer</a>()</code>,
<code><a href="#topic+primitive_ticks">primitive_ticks</a>()</code>,
<code><a href="#topic+primitive_title">primitive_title</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># A standard plot
p &lt;- ggplot(mpg, aes(interaction(drv, year), displ)) +
 geom_point()

key &lt;- key_range_manual(c(2, 4), c(5, 6), c("A", "B"))

# Adding as secondary guides
p + guides(
  x.sec = primitive_box(),
  y.sec = primitive_box(key = key)
)
</code></pre>

<hr>
<h2 id='primitive_bracket'>Guide primitive: brackets</h2><span id='topic+primitive_bracket'></span>

<h3>Description</h3>

<p>This function constructs a brackets <a href="#topic+guide-primitives">guide primitive</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>primitive_bracket(
  key = "range_auto",
  bracket = "line",
  angle = waiver(),
  oob = "squish",
  drop_zero = TRUE,
  pad_discrete = 0.4,
  levels_brackets = NULL,
  levels_text = NULL,
  theme = NULL,
  position = waiver()
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="primitive_bracket_+3A_key">key</code></td>
<td>
<p>A <a href="#topic+key_range">range key</a> specification. See more information
in the linked topic.</p>
</td></tr>
<tr><td><code id="primitive_bracket_+3A_bracket">bracket</code></td>
<td>
<p>A <a href="#topic+bracket_options">bracket</a> by providing one of the
following:
</p>

<ul>
<li><p> A bracket <code style="white-space: pre;">&#8288;&lt;function&gt;&#8288;</code>, such as <code>bracket_square</code>.
</p>
</li>
<li><p> A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> naming a bracket function without the
'<code>bracket_</code>'-prefix, e.g. <code>"square"</code>.
</p>
</li>
<li><p> A two-column <code style="white-space: pre;">&#8288;&lt;matrix[n, 2]&gt;&#8288;</code> giving line coordinates for a bracket,
like those created by bracket functions, such as <code>bracket_round()</code>.
</p>
</li></ul>
</td></tr>
<tr><td><code id="primitive_bracket_+3A_angle">angle</code></td>
<td>
<p>A specification for the text angle. Compared to setting the <code>angle</code> argument
in <code><a href="ggplot2.html#topic+element">element_text()</a></code>, this argument uses some
heuristics to automatically pick the <code>hjust</code> and <code>vjust</code> that you
probably want. Can be one of the following:
</p>

<ul>
<li> <p><code>NULL</code> to take angles and justification settings directly from the theme.
</p>
</li>
<li> <p><code><a href="ggplot2.html#topic+waiver">waiver()</a></code> to allow reasonable defaults in special
cases.
</p>
</li>
<li><p> A <code style="white-space: pre;">&#8288;&lt;numeric[1]&gt;&#8288;</code> between -360 and 360 for the text angle in degrees.
</p>
</li></ul>
</td></tr>
<tr><td><code id="primitive_bracket_+3A_oob">oob</code></td>
<td>
<p>A method for dealing with out-of-bounds (oob) ranges. Can be one
of <code>"squish"</code>, <code>"censor"</code> or <code>"none"</code>.</p>
</td></tr>
<tr><td><code id="primitive_bracket_+3A_drop_zero">drop_zero</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;logical[1]&gt;&#8288;</code> whether to drop near-zero width ranges
(<code>TRUE</code>, default) or preserve them (<code>FALSE</code>).</p>
</td></tr>
<tr><td><code id="primitive_bracket_+3A_pad_discrete">pad_discrete</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;numeric[1]&gt;&#8288;</code> giving the amount ranges should be
extended when given as a discrete variable. This is applied after
the <code>drop_zero</code> setting.</p>
</td></tr>
<tr><td><code id="primitive_bracket_+3A_levels_brackets">levels_brackets</code></td>
<td>
<p>A list of <code style="white-space: pre;">&#8288;&lt;element_line&gt;&#8288;</code> objects to customise how
brackets appear at every level.</p>
</td></tr>
<tr><td><code id="primitive_bracket_+3A_levels_text">levels_text</code></td>
<td>
<p>A list of <code style="white-space: pre;">&#8288;&lt;element_text&gt;&#8288;</code> objects to customise how
text appears at every level.</p>
</td></tr>
<tr><td><code id="primitive_bracket_+3A_theme">theme</code></td>
<td>
<p>A <code><a href="ggplot2.html#topic+theme">&lt;theme&gt;</a></code> object to style the guide individually or
differently from the plot's theme settings. The <code>theme</code> argument in the
guide overrides and is combined with the plot's theme.</p>
</td></tr>
<tr><td><code id="primitive_bracket_+3A_position">position</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> giving the location of the guide. Can be one of <code>"top"</code>,
<code>"bottom"</code>, <code>"left"</code> or <code>"right"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code style="white-space: pre;">&#8288;&lt;PrimitiveBracket&gt;&#8288;</code> primitive guide that can be used inside other
guides.
</p>


<h3>Styling options</h3>

<p>Below are the <a href="ggplot2.html#topic+theme">theme</a> options that determine the styling of
this guide, which may differ depending on whether the guide is used in an
axis or a legend context.
</p>
<p>Common to both types is the following:
</p>

<ul>
<li> <p><code>legendry.bracket</code> an <code><a href="ggplot2.html#topic+element">&lt;element_line&gt;</a></code> for the
line used to draw the brackets.
</p>
</li>
<li> <p><code>legendry.backet.size</code> a <code><a href="grid.html#topic+unit">&lt;unit&gt;</a></code> setting the space afforded
to a bracket.
</p>
</li></ul>



<h4>As an axis guide</h4>


<ul>
<li> <p><code style="white-space: pre;">&#8288;axis.text.{x/y}.{position}&#8288;</code> an <code><a href="ggplot2.html#topic+element">&lt;element_text&gt;</a></code>
for the text displayed over the brackets.
</p>
</li></ul>




<h4>As a legend guide</h4>


<ul>
<li> <p><code>legend.text</code> an <code><a href="ggplot2.html#topic+element">&lt;element_text&gt;</a></code> for the text
displayed over the brackets.
</p>
</li></ul>




<h3>See Also</h3>

<p>Other primitives: 
<code><a href="#topic+primitive_box">primitive_box</a>()</code>,
<code><a href="#topic+primitive_fence">primitive_fence</a>()</code>,
<code><a href="#topic+primitive_labels">primitive_labels</a>()</code>,
<code><a href="#topic+primitive_line">primitive_line</a>()</code>,
<code><a href="#topic+primitive_segments">primitive_segments</a>()</code>,
<code><a href="#topic+primitive_spacer">primitive_spacer</a>()</code>,
<code><a href="#topic+primitive_ticks">primitive_ticks</a>()</code>,
<code><a href="#topic+primitive_title">primitive_title</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># A standard plot
p &lt;- ggplot(mpg, aes(interaction(drv, year), displ)) +
 geom_point()

key &lt;- key_range_manual(c(2, 4), c(5, 6), c("A", "B"))

# Adding as secondary guides
p + guides(
  x.sec = primitive_bracket(),
  y.sec = primitive_bracket(key = key)
)
</code></pre>

<hr>
<h2 id='primitive_fence'>Guide primitive: fence</h2><span id='topic+primitive_fence'></span>

<h3>Description</h3>

<p>This function constructs a fence <a href="#topic+guide-primitives">guide primitive</a>. The
customisation options are easier to understand if we view fence 'post' as the
vertical pieces of a real world fence, and the 'rail' as the horizontal
pieces.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>primitive_fence(
  key = "range_auto",
  rail = "none",
  angle = waiver(),
  oob = "squish",
  drop_zero = TRUE,
  pad_discrete = 0.5,
  levels_text = NULL,
  levels_post = NULL,
  levels_rail = NULL,
  theme = NULL,
  position = waiver()
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="primitive_fence_+3A_key">key</code></td>
<td>
<p>A <a href="#topic+key_range">range key</a> specification. See more information
in the linked topic.</p>
</td></tr>
<tr><td><code id="primitive_fence_+3A_rail">rail</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> giving an option for how to display fence
railing. Can be either <code>"none"</code> (default) to display no railings, <code>"inner"</code>
to draw one rail closer to the plot panel, <code>"outer"</code> to display one rail
farther from the plot panel, or <code>"both"</code> to sandwich the labels between
rails.</p>
</td></tr>
<tr><td><code id="primitive_fence_+3A_angle">angle</code></td>
<td>
<p>A specification for the text angle. Compared to setting the <code>angle</code> argument
in <code><a href="ggplot2.html#topic+element">element_text()</a></code>, this argument uses some
heuristics to automatically pick the <code>hjust</code> and <code>vjust</code> that you
probably want. Can be one of the following:
</p>

<ul>
<li> <p><code>NULL</code> to take angles and justification settings directly from the theme.
</p>
</li>
<li> <p><code><a href="ggplot2.html#topic+waiver">waiver()</a></code> to allow reasonable defaults in special
cases.
</p>
</li>
<li><p> A <code style="white-space: pre;">&#8288;&lt;numeric[1]&gt;&#8288;</code> between -360 and 360 for the text angle in degrees.
</p>
</li></ul>
</td></tr>
<tr><td><code id="primitive_fence_+3A_oob">oob</code></td>
<td>
<p>A method for dealing with out-of-bounds (oob) ranges. Can be one
of <code>"squish"</code>, <code>"censor"</code> or <code>"none"</code>.</p>
</td></tr>
<tr><td><code id="primitive_fence_+3A_drop_zero">drop_zero</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;logical[1]&gt;&#8288;</code> whether to drop near-zero width ranges
(<code>TRUE</code>, default) or preserve them (<code>FALSE</code>).</p>
</td></tr>
<tr><td><code id="primitive_fence_+3A_pad_discrete">pad_discrete</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;numeric[1]&gt;&#8288;</code> giving the amount ranges should be
extended when given as a discrete variable. This is applied after
the <code>drop_zero</code> setting.</p>
</td></tr>
<tr><td><code id="primitive_fence_+3A_levels_text">levels_text</code></td>
<td>
<p>A list of <code style="white-space: pre;">&#8288;&lt;element_text&gt;&#8288;</code> objects to customise how
text appears at every level.</p>
</td></tr>
<tr><td><code id="primitive_fence_+3A_levels_post">levels_post</code>, <code id="primitive_fence_+3A_levels_rail">levels_rail</code></td>
<td>
<p>A list of <code style="white-space: pre;">&#8288;&lt;element_line&gt;&#8288;</code> objects to
customise how fence posts and rails are displayed at every level.</p>
</td></tr>
<tr><td><code id="primitive_fence_+3A_theme">theme</code></td>
<td>
<p>A <code><a href="ggplot2.html#topic+theme">&lt;theme&gt;</a></code> object to style the guide individually or
differently from the plot's theme settings. The <code>theme</code> argument in the
guide overrides and is combined with the plot's theme.</p>
</td></tr>
<tr><td><code id="primitive_fence_+3A_position">position</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> giving the location of the guide. Can be one of <code>"top"</code>,
<code>"bottom"</code>, <code>"left"</code> or <code>"right"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code style="white-space: pre;">&#8288;&lt;PrimitiveFence&gt;&#8288;</code> primitive guie that can be used inside other
guides.
</p>


<h3>Styling options</h3>

<p>Below are the <a href="ggplot2.html#topic+theme">theme</a> options that determine the styling of
this guide, which may differ depending on whether the guide is used in an
axis or legend context.
</p>
<p>Common to both types is the following:
</p>

<ul>
<li> <p><code>legendry.fence.post</code> an <code><a href="ggplot2.html#topic+element">&lt;element_line&gt;</a></code> for the
line used to draw the pieces orthogonal to the direction of the scale.
</p>
</li>
<li> <p><code>legendry.fence.rail</code> an <code><a href="ggplot2.html#topic+element">&lt;element_line&gt;</a></code> for the
line used to draw the pieces parallel to the direction of the scale.
</p>
</li></ul>



<h4>As an axis guide</h4>


<ul>
<li> <p><code style="white-space: pre;">&#8288;axis.text.{x/y}.{position}&#8288;</code> an <code><a href="ggplot2.html#topic+element">&lt;element_text&gt;</a></code>
for the text displayed.
</p>
</li></ul>




<h4>As a legend guide</h4>


<ul>
<li> <p><code>legend.text</code> an <code><a href="ggplot2.html#topic+element">&lt;element_text&gt;</a></code> for the text
displayed.
</p>
</li></ul>




<h3>See Also</h3>

<p>Other primitives: 
<code><a href="#topic+primitive_box">primitive_box</a>()</code>,
<code><a href="#topic+primitive_bracket">primitive_bracket</a>()</code>,
<code><a href="#topic+primitive_labels">primitive_labels</a>()</code>,
<code><a href="#topic+primitive_line">primitive_line</a>()</code>,
<code><a href="#topic+primitive_segments">primitive_segments</a>()</code>,
<code><a href="#topic+primitive_spacer">primitive_spacer</a>()</code>,
<code><a href="#topic+primitive_ticks">primitive_ticks</a>()</code>,
<code><a href="#topic+primitive_title">primitive_title</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># A standard plot
p &lt;- ggplot(mpg, aes(interaction(drv, year), displ)) +
  geom_point()

key &lt;- key_range_manual(c(2, 4), c(5, 6), c("A", "B"))

# Adding as secondary guides
p + guides(
  x.sec = primitive_fence(rail = "inner"),
  y.sec = primitive_fence(key = key, rail = "outer")
)
</code></pre>

<hr>
<h2 id='primitive_labels'>Guide primitive: labels</h2><span id='topic+primitive_labels'></span>

<h3>Description</h3>

<p>This function constructs a labels <a href="#topic+guide-primitives">guide primitive</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>primitive_labels(
  key = NULL,
  angle = waiver(),
  n.dodge = 1,
  check.overlap = FALSE,
  theme = NULL,
  position = waiver()
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="primitive_labels_+3A_key">key</code></td>
<td>
<p>A <a href="#topic+key_standard">standard key</a> specification. See more information
in the linked topic.</p>
</td></tr>
<tr><td><code id="primitive_labels_+3A_angle">angle</code></td>
<td>
<p>A specification for the text angle. Compared to setting the <code>angle</code> argument
in <code><a href="ggplot2.html#topic+element">element_text()</a></code>, this argument uses some
heuristics to automatically pick the <code>hjust</code> and <code>vjust</code> that you
probably want. Can be one of the following:
</p>

<ul>
<li> <p><code>NULL</code> to take angles and justification settings directly from the theme.
</p>
</li>
<li> <p><code><a href="ggplot2.html#topic+waiver">waiver()</a></code> to allow reasonable defaults in special
cases.
</p>
</li>
<li><p> A <code style="white-space: pre;">&#8288;&lt;numeric[1]&gt;&#8288;</code> between -360 and 360 for the text angle in degrees.
</p>
</li></ul>
</td></tr>
<tr><td><code id="primitive_labels_+3A_n.dodge">n.dodge</code></td>
<td>
<p>An positive <code style="white-space: pre;">&#8288;&lt;integer[1]&gt;&#8288;</code> setting the number of layers text
labels can occupy to avoid overlapping labels.</p>
</td></tr>
<tr><td><code id="primitive_labels_+3A_check.overlap">check.overlap</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;logical[1]&gt;&#8288;</code> indicating whether to check for and
omit overlapping text. If <code>TRUE</code>, first, last and middle labels are
recursively prioritised in that order. If <code>FALSE</code>, all labels are drawn.</p>
</td></tr>
<tr><td><code id="primitive_labels_+3A_theme">theme</code></td>
<td>
<p>A <code><a href="ggplot2.html#topic+theme">&lt;theme&gt;</a></code> object to style the guide individually or
differently from the plot's theme settings. The <code>theme</code> argument in the
guide overrides and is combined with the plot's theme.</p>
</td></tr>
<tr><td><code id="primitive_labels_+3A_position">position</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> giving the location of the guide. Can be one of <code>"top"</code>,
<code>"bottom"</code>, <code>"left"</code> or <code>"right"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code style="white-space: pre;">&#8288;&lt;PrimitiveLabels&gt;&#8288;</code> primitive guide that can be used inside other
guides.
</p>


<h3>Styling options</h3>

<p>Below are the <a href="ggplot2.html#topic+theme">theme</a> options that determine the styling of
this guide, which may differ depending on whether the guide is used in
an axis or in a legend context.
</p>


<h4>As an axis guide</h4>


<ul>
<li> <p><code style="white-space: pre;">&#8288;axis.text.{x/y}.{position}&#8288;</code> an <code><a href="ggplot2.html#topic+element">&lt;element_text&gt;</a></code>
for the display of the labels.
</p>
</li></ul>




<h4>As a legend guide.</h4>


<ul>
<li> <p><code>legend.text</code> an <code><a href="ggplot2.html#topic+element">&lt;element_text&gt;</a></code> for the display
of the labels.
</p>
</li></ul>




<h3>See Also</h3>

<p>Other primitives: 
<code><a href="#topic+primitive_box">primitive_box</a>()</code>,
<code><a href="#topic+primitive_bracket">primitive_bracket</a>()</code>,
<code><a href="#topic+primitive_fence">primitive_fence</a>()</code>,
<code><a href="#topic+primitive_line">primitive_line</a>()</code>,
<code><a href="#topic+primitive_segments">primitive_segments</a>()</code>,
<code><a href="#topic+primitive_spacer">primitive_spacer</a>()</code>,
<code><a href="#topic+primitive_ticks">primitive_ticks</a>()</code>,
<code><a href="#topic+primitive_title">primitive_title</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># A standard plot
p &lt;- ggplot(mpg, aes(displ, hwy)) +
 geom_point()

# Adding as secondary guides
p + guides(
  x.sec = primitive_labels(),
  y.sec = primitive_labels(n.dodge = 2)
)
</code></pre>

<hr>
<h2 id='primitive_line'>Guide primitive: line</h2><span id='topic+primitive_line'></span>

<h3>Description</h3>

<p>This function constructs a line <a href="#topic+guide-primitives">guide primitive</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>primitive_line(key = NULL, cap = "none", theme = NULL, position = waiver())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="primitive_line_+3A_key">key</code></td>
<td>
<p>A <a href="#topic+key_standard">standard key</a> specification. See more information
in the linked topic.</p>
</td></tr>
<tr><td><code id="primitive_line_+3A_cap">cap</code></td>
<td>
<p>A method to cap the axes. One of the following:
</p>

<ul>
<li><p> A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> with one of the following:
</p>

<ul>
<li> <p><code>"none"</code> to perform no capping.
</p>
</li>
<li> <p><code>"both"</code> to cap the line at both ends at the most extreme breaks.
</p>
</li>
<li> <p><code>"upper"</code> to cap the line at the upper extreme break.
</p>
</li>
<li> <p><code>"lower"</code> to cap the line at the lower extreme break.
</p>
</li></ul>

</li>
<li><p> A <code style="white-space: pre;">&#8288;&lt;logical&gt;[1]&#8288;</code>, where <code>TRUE</code> is equivalent to <code>"both"</code> and <code>FALSE</code>
is equivalent to <code>"none"</code> in the options above.
</p>
</li>
<li><p> A sorted <code style="white-space: pre;">&#8288;&lt;numeric&gt;[2n]&#8288;</code> with an even number of members. The lines
will be drawn between every odd-even pair.
</p>
</li>
<li><p> A <code style="white-space: pre;">&#8288;&lt;function&gt;&#8288;</code> that takes the scale's breaks as the first argument, the
scale's limits as the second argument and returns a <code style="white-space: pre;">&#8288;&lt;numeric&gt;[2n]&#8288;</code> as
described above.
</p>
</li></ul>
</td></tr>
<tr><td><code id="primitive_line_+3A_theme">theme</code></td>
<td>
<p>A <code><a href="ggplot2.html#topic+theme">&lt;theme&gt;</a></code> object to style the guide individually or
differently from the plot's theme settings. The <code>theme</code> argument in the
guide overrides and is combined with the plot's theme.</p>
</td></tr>
<tr><td><code id="primitive_line_+3A_position">position</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> giving the location of the guide. Can be one of <code>"top"</code>,
<code>"bottom"</code>, <code>"left"</code> or <code>"right"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>PrimitiveLine</code> primitive guide that can be used inside other
guides.
</p>


<h3>Styling options</h3>

<p>Below are the <a href="ggplot2.html#topic+theme">theme</a> options that determine the styling of
this guide, which may differ depending on whether the guide is used in
an axis or in a legend context.
</p>


<h4>As an axis guide</h4>


<ul>
<li> <p><code style="white-space: pre;">&#8288;axis.line.{x/y}.{position}&#8288;</code> an <code><a href="ggplot2.html#topic+element">&lt;element_line&gt;</a></code>
for the line style.
</p>
</li></ul>




<h4>As a legend guide</h4>


<ul>
<li> <p><code>legend.axis.line</code> an <code><a href="ggplot2.html#topic+element">&lt;element_line&gt;</a></code> for the
line style.
</p>
</li></ul>




<h3>See Also</h3>

<p>Other primitives: 
<code><a href="#topic+primitive_box">primitive_box</a>()</code>,
<code><a href="#topic+primitive_bracket">primitive_bracket</a>()</code>,
<code><a href="#topic+primitive_fence">primitive_fence</a>()</code>,
<code><a href="#topic+primitive_labels">primitive_labels</a>()</code>,
<code><a href="#topic+primitive_segments">primitive_segments</a>()</code>,
<code><a href="#topic+primitive_spacer">primitive_spacer</a>()</code>,
<code><a href="#topic+primitive_ticks">primitive_ticks</a>()</code>,
<code><a href="#topic+primitive_title">primitive_title</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># A standard plot
p &lt;- ggplot(mpg, aes(displ, hwy)) +
  geom_point() +
  theme(axis.line = element_line())

# Adding as secondary guides
p + guides(
  x.sec = primitive_line(),
  y.sec = primitive_line(cap = "both")
)
</code></pre>

<hr>
<h2 id='primitive_segments'>Guide primitives: segments</h2><span id='topic+primitive_segments'></span>

<h3>Description</h3>

<p>This function constructs a <a href="#topic+guide-primitives">guide primitive</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>primitive_segments(
  key = NULL,
  space = rel(10),
  vanish = FALSE,
  theme = NULL,
  position = waiver()
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="primitive_segments_+3A_key">key</code></td>
<td>
<p>A <a href="#topic+key_segments">segment key</a> specification. See more information
in the linked topic. Alternatively, an object of class
<code><a href="stats.html#topic+hclust">&lt;hclust&gt;</a></code> that automatically invokes <code>key_dendro()</code>.</p>
</td></tr>
<tr><td><code id="primitive_segments_+3A_space">space</code></td>
<td>
<p>Either a <code><a href="grid.html#topic+unit">&lt;unit&gt;</a></code> or <code><a href="ggplot2.html#topic+element">&lt;rel&gt;</a></code>
object of length 1 determining the space allocated in the orthogonal
direction. When the <code>space</code> argument is of class <code style="white-space: pre;">&#8288;&lt;rel&gt;&#8288;</code> (default) the
base size is taken from the tick length theme setting.</p>
</td></tr>
<tr><td><code id="primitive_segments_+3A_vanish">vanish</code></td>
<td>
<p>Only relevant when the guide is used in the secondary theta
position: a <code style="white-space: pre;">&#8288;&lt;logical[1]&gt;&#8288;</code> on whether the continue to draw the segments
until they meed in the center (<code>TRUE</code>) or strictly observe the <code>space</code>
setting (<code>FALSE</code>).</p>
</td></tr>
<tr><td><code id="primitive_segments_+3A_theme">theme</code></td>
<td>
<p>A <code><a href="ggplot2.html#topic+theme">&lt;theme&gt;</a></code> object to style the guide individually or
differently from the plot's theme settings. The <code>theme</code> argument in the
guide overrides and is combined with the plot's theme.</p>
</td></tr>
<tr><td><code id="primitive_segments_+3A_position">position</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> giving the location of the guide. Can be one of <code>"top"</code>,
<code>"bottom"</code>, <code>"left"</code> or <code>"right"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code style="white-space: pre;">&#8288;&lt;PrimitiveSegments&gt;&#8288;</code> primitive guide that can be used inside other
guides.
</p>


<h3>Styling options</h3>

<p>Below are the <a href="ggplot2.html#topic+theme">theme</a> options that determine the style of
this guide, which may differ depending on whether the guide is used in an
axis or in a legend context.
</p>


<h4>As an axis guide</h4>


<ul>
<li> <p><code style="white-space: pre;">&#8288;axis.ticks.{x/y}.{position}&#8288;</code> an <code><a href="ggplot2.html#topic+element">&lt;element_line&gt;</a></code>
for display of the segments.
</p>
</li>
<li> <p><code style="white-space: pre;">&#8288;axis.ticks.length.{x/y}.{position}&#8288;</code> a <code><a href="grid.html#topic+unit">&lt;unit&gt;</a></code> for the
base size of the segments in the orthogonal direction.
</p>
</li></ul>




<h4>As a legend guide</h4>


<ul>
<li> <p><code>legend.ticks</code> an <code><a href="ggplot2.html#topic+element">&lt;element_line&gt;</a></code> for display
of the segments.
</p>
</li>
<li> <p><code>legend.ticks.length</code> a <code><a href="grid.html#topic+unit">&lt;unit&gt;</a></code> for the
base size of the segments in the orthogonal direction.
</p>
</li></ul>




<h3>See Also</h3>

<p>Other primitives: 
<code><a href="#topic+primitive_box">primitive_box</a>()</code>,
<code><a href="#topic+primitive_bracket">primitive_bracket</a>()</code>,
<code><a href="#topic+primitive_fence">primitive_fence</a>()</code>,
<code><a href="#topic+primitive_labels">primitive_labels</a>()</code>,
<code><a href="#topic+primitive_line">primitive_line</a>()</code>,
<code><a href="#topic+primitive_spacer">primitive_spacer</a>()</code>,
<code><a href="#topic+primitive_ticks">primitive_ticks</a>()</code>,
<code><a href="#topic+primitive_title">primitive_title</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Building a key
key &lt;- key_segment_manual(
  value     = c(1.6, 1.6, 3.4, 5.2),
  value_end = c(7.0, 7.0, 3.4, 5.2),
  oppo      = c(1.0, 2.0, 0.0, 0.0),
  oppo_end  = c(1.0, 2.0, 3.0, 3.0)
)

# Using the primitive in a plot
ggplot(mpg, aes(displ, hwy)) +
  geom_point() +
  scale_x_continuous(
    guide = primitive_segments(key = key)
  )
</code></pre>

<hr>
<h2 id='primitive_spacer'>Guide primitive: spacer</h2><span id='topic+primitive_spacer'></span>

<h3>Description</h3>

<p>This function constructs a spacer <a href="#topic+guide-primitives">guide primitive</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>primitive_spacer(
  space = NULL,
  title = waiver(),
  theme = NULL,
  position = waiver()
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="primitive_spacer_+3A_space">space</code></td>
<td>
<p>A [<code style="white-space: pre;">&#8288;&lt;unit[1]&gt;&#8288;</code>][grid::unit()]</p>
</td></tr>
<tr><td><code id="primitive_spacer_+3A_title">title</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> or <code style="white-space: pre;">&#8288;&lt;expression[1]&gt;&#8288;</code> indicating the title of
the guide. If <code>NULL</code>, the title is not shown. The default,
<code><a href="ggplot2.html#topic+waiver">waiver()</a></code>, takes the name of the scale object or
the name specified in <code><a href="ggplot2.html#topic+labs">labs()</a></code> as the title.</p>
</td></tr>
<tr><td><code id="primitive_spacer_+3A_theme">theme</code></td>
<td>
<p>A <code><a href="ggplot2.html#topic+theme">&lt;theme&gt;</a></code> object to style the guide individually or
differently from the plot's theme settings. The <code>theme</code> argument in the
guide overrides and is combined with the plot's theme.</p>
</td></tr>
<tr><td><code id="primitive_spacer_+3A_position">position</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> giving the location of the guide. Can be one of <code>"top"</code>,
<code>"bottom"</code>, <code>"left"</code> or <code>"right"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code style="white-space: pre;">&#8288;&lt;PrimitiveSpacer&gt;&#8288;</code> primitive guide that can be used inside
other guides.
</p>


<h3>Styling options</h3>

<p>#' Below are the <a href="ggplot2.html#topic+theme">theme</a> options that determine the styling of
this guide. This guide does not have option dependent on its role as axis or
legend.
</p>

<ul>
<li> <p><code>legendry.guide.spacing</code> A <code><a href="grid.html#topic+unit">&lt;unit&gt;</a></code> setting the amount of
spacing when the <code>space</code> argument is <code>NULL</code>.
</p>
</li></ul>



<h3>See Also</h3>

<p>Other primitives: 
<code><a href="#topic+primitive_box">primitive_box</a>()</code>,
<code><a href="#topic+primitive_bracket">primitive_bracket</a>()</code>,
<code><a href="#topic+primitive_fence">primitive_fence</a>()</code>,
<code><a href="#topic+primitive_labels">primitive_labels</a>()</code>,
<code><a href="#topic+primitive_line">primitive_line</a>()</code>,
<code><a href="#topic+primitive_segments">primitive_segments</a>()</code>,
<code><a href="#topic+primitive_ticks">primitive_ticks</a>()</code>,
<code><a href="#topic+primitive_title">primitive_title</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ggplot(mpg, aes(displ, hwy)) +
  geom_point() +
  guides(
    x = guide_axis_stack("axis", primitive_spacer(unit(1, "cm")), "axis")
  )
</code></pre>

<hr>
<h2 id='primitive_ticks'>Guide primitive: line</h2><span id='topic+primitive_ticks'></span>

<h3>Description</h3>

<p>This function constructs a ticks <a href="#topic+guide-primitives">guide primitive</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>primitive_ticks(key = NULL, bidi = FALSE, theme = NULL, position = waiver())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="primitive_ticks_+3A_key">key</code></td>
<td>
<p>A <a href="#topic+key_standard">standard key</a> specification. See more information
in the linked topic.</p>
</td></tr>
<tr><td><code id="primitive_ticks_+3A_bidi">bidi</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;logical[1]&gt;&#8288;</code>: whether ticks should be drawn bidirectionally
(<code>TRUE</code>) or in a single direction (<code>FALSE</code>, default).</p>
</td></tr>
<tr><td><code id="primitive_ticks_+3A_theme">theme</code></td>
<td>
<p>A <code><a href="ggplot2.html#topic+theme">&lt;theme&gt;</a></code> object to style the guide individually or
differently from the plot's theme settings. The <code>theme</code> argument in the
guide overrides and is combined with the plot's theme.</p>
</td></tr>
<tr><td><code id="primitive_ticks_+3A_position">position</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> giving the location of the guide. Can be one of <code>"top"</code>,
<code>"bottom"</code>, <code>"left"</code> or <code>"right"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>PrimitiveTicks</code> primitive guide that can be used inside other
guides.
</p>


<h3>Styling options</h3>

<p>Below are the <a href="ggplot2.html#topic+theme">theme</a> options that determine the styling of
this guide, which may differ depending on whether the guide is used in
an axis or in a legend context.
</p>
<p>Common to both types is the following:
</p>


<h4>As an axis guide</h4>


<ul>
<li> <p><code style="white-space: pre;">&#8288;axis.ticks.{x/y}.{position}&#8288;</code> an <code><a href="ggplot2.html#topic+element">&lt;element_line&gt;</a></code>
for major tick lines.
</p>
</li>
<li> <p><code style="white-space: pre;">&#8288;axis.minor.ticks.{x/y}.{position}&#8288;</code> an
<code><a href="ggplot2.html#topic+element">&lt;element_line&gt;</a></code> for minor tick lines.
</p>
</li>
<li> <p><code>legendry.axis.mini.ticks</code> an <code><a href="ggplot2.html#topic+element">&lt;element_line&gt;</a></code>
internally inheriting from the minor ticks for the smallest ticks in e.g.
log axes.
</p>
</li>
<li> <p><code style="white-space: pre;">&#8288;axis.ticks.length.{x/y}.{position}&#8288;</code> a <code><a href="grid.html#topic+unit">&lt;unit&gt;</a></code> for the major
ticks length.
</p>
</li>
<li> <p><code style="white-space: pre;">&#8288;axis.minor.ticks.length.{x/y}.{position}&#8288;</code> a <code><a href="grid.html#topic+unit">&lt;unit&gt;</a></code> for the
minor ticks length.
</p>
</li>
<li> <p><code>legendry.axis.mini.ticks.length</code> a <code><a href="grid.html#topic+unit">&lt;unit&gt;</a></code> internally
inheriting from the minor tick length for the smallest ticks in e.g.
log axes.
</p>
</li></ul>




<h4>As a legend guide</h4>


<ul>
<li> <p><code>legend.ticks</code> an <code><a href="ggplot2.html#topic+element">&lt;element_line&gt;</a></code> for major tick
lines.
</p>
</li>
<li> <p><code>legendry.legend.minor.ticks</code> an <code><a href="ggplot2.html#topic+element">&lt;element_line&gt;</a></code>
for minor tick lines.
</p>
</li>
<li> <p><code>legendry.legend.mini.ticks</code> an <code><a href="ggplot2.html#topic+element">&lt;element_line&gt;</a></code>
for the smallest ticks in e.g. log axes.
</p>
</li>
<li> <p><code>legend.ticks.length</code> a <code><a href="grid.html#topic+unit">&lt;unit&gt;</a></code> for the major ticks length.
</p>
</li>
<li> <p><code>legendry.legend.minor.ticks.length</code> a <code><a href="grid.html#topic+unit">&lt;unit&gt;</a></code> for the
minor ticks length.
</p>
</li>
<li> <p><code>legendry.legend.mini.ticks.length</code> a <code><a href="grid.html#topic+unit">&lt;unit&gt;</a></code> for the
smallest ticks in e.g. log axes.
</p>
</li></ul>




<h3>See Also</h3>

<p>Other primitives: 
<code><a href="#topic+primitive_box">primitive_box</a>()</code>,
<code><a href="#topic+primitive_bracket">primitive_bracket</a>()</code>,
<code><a href="#topic+primitive_fence">primitive_fence</a>()</code>,
<code><a href="#topic+primitive_labels">primitive_labels</a>()</code>,
<code><a href="#topic+primitive_line">primitive_line</a>()</code>,
<code><a href="#topic+primitive_segments">primitive_segments</a>()</code>,
<code><a href="#topic+primitive_spacer">primitive_spacer</a>()</code>,
<code><a href="#topic+primitive_title">primitive_title</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># A standard plot
p &lt;- ggplot(mpg, aes(displ, hwy)) +
  geom_point()

# Adding as secondary guides
p + guides(x.sec = primitive_ticks(), y.sec = primitive_ticks())
</code></pre>

<hr>
<h2 id='primitive_title'>Guide primitive: title</h2><span id='topic+primitive_title'></span>

<h3>Description</h3>

<p>This function constructs a title <a href="#topic+guide-primitives">guide primitive</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>primitive_title(
  title = waiver(),
  angle = waiver(),
  theme = NULL,
  position = waiver()
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="primitive_title_+3A_title">title</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> or <code style="white-space: pre;">&#8288;&lt;expression[1]&gt;&#8288;</code> indicating the title of
the guide. If <code>NULL</code>, the title is not shown. The default,
<code><a href="ggplot2.html#topic+waiver">waiver()</a></code>, takes the name of the scale object or
the name specified in <code><a href="ggplot2.html#topic+labs">labs()</a></code> as the title.</p>
</td></tr>
<tr><td><code id="primitive_title_+3A_angle">angle</code></td>
<td>
<p>A specification for the text angle. Compared to setting the <code>angle</code> argument
in <code><a href="ggplot2.html#topic+element">element_text()</a></code>, this argument uses some
heuristics to automatically pick the <code>hjust</code> and <code>vjust</code> that you
probably want. Can be one of the following:
</p>

<ul>
<li> <p><code>NULL</code> to take angles and justification settings directly from the theme.
</p>
</li>
<li> <p><code><a href="ggplot2.html#topic+waiver">waiver()</a></code> to allow reasonable defaults in special
cases.
</p>
</li>
<li><p> A <code style="white-space: pre;">&#8288;&lt;numeric[1]&gt;&#8288;</code> between -360 and 360 for the text angle in degrees.
</p>
</li></ul>
</td></tr>
<tr><td><code id="primitive_title_+3A_theme">theme</code></td>
<td>
<p>A <code><a href="ggplot2.html#topic+theme">&lt;theme&gt;</a></code> object to style the guide individually or
differently from the plot's theme settings. The <code>theme</code> argument in the
guide overrides and is combined with the plot's theme.</p>
</td></tr>
<tr><td><code id="primitive_title_+3A_position">position</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;character[1]&gt;&#8288;</code> giving the location of the guide. Can be one of <code>"top"</code>,
<code>"bottom"</code>, <code>"left"</code> or <code>"right"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code style="white-space: pre;">&#8288;&lt;PrimitiveTitle&gt;&#8288;</code> primitive guide that can be used inside other
guides.
</p>


<h3>Styling options</h3>

<p>Below are the <a href="ggplot2.html#topic+theme">theme</a> options that determine the styling of
this guide, which may differ depending on whether the guide is used in
an axis or in a legend context.
</p>


<h4>As an axis guide</h4>


<ul>
<li> <p><code style="white-space: pre;">&#8288;axis.title.{x/y}.{position}&#8288;</code> an <code><a href="ggplot2.html#topic+element">&lt;element_text&gt;</a></code>
for the title display.
</p>
</li></ul>




<h4>As a legend guide</h4>


<ul>
<li> <p><code>legend.title</code> an <code><a href="ggplot2.html#topic+element">&lt;element_text&gt;</a></code>
for the title display.
</p>
</li></ul>




<h3>See Also</h3>

<p>Other primitives: 
<code><a href="#topic+primitive_box">primitive_box</a>()</code>,
<code><a href="#topic+primitive_bracket">primitive_bracket</a>()</code>,
<code><a href="#topic+primitive_fence">primitive_fence</a>()</code>,
<code><a href="#topic+primitive_labels">primitive_labels</a>()</code>,
<code><a href="#topic+primitive_line">primitive_line</a>()</code>,
<code><a href="#topic+primitive_segments">primitive_segments</a>()</code>,
<code><a href="#topic+primitive_spacer">primitive_spacer</a>()</code>,
<code><a href="#topic+primitive_ticks">primitive_ticks</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># A standard plot
p &lt;- ggplot(mpg, aes(displ, hwy)) +
 geom_point()

# Adding as secondary guides
p + guides(
  x.sec = primitive_title("Horizontal Title"),
  y.sec = primitive_title(c("along vertical", "Multiple tiles"))
)
</code></pre>

<hr>
<h2 id='scale_x_dendro'>Dendrogram scales</h2><span id='topic+scale_x_dendro'></span><span id='topic+scale_y_dendro'></span>

<h3>Description</h3>

<p>These are speciality scales for use with hierarchically clustered data. The
scale automatically orders the limits according to the clustering result
and comes with a <a href="#topic+guide_axis_dendro">dendrogram axis</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scale_x_dendro(
  clust,
  ...,
  expand = waiver(),
  guide = "axis_dendro",
  position = "bottom"
)

scale_y_dendro(
  clust,
  ...,
  expand = waiver(),
  guide = "axis_dendro",
  position = "left"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="scale_x_dendro_+3A_clust">clust</code></td>
<td>
<p>A data structure that can be coerced to an
<code><a href="stats.html#topic+hclust">&lt;hclust&gt;</a></code> object through
<code><a href="stats.html#topic+as.hclust">as.hclust()</a></code>.</p>
</td></tr>
<tr><td><code id="scale_x_dendro_+3A_...">...</code></td>
<td>

<p>Arguments passed on to <code><a href="ggplot2.html#topic+discrete_scale">ggplot2::discrete_scale</a></code>
</p>

<dl>
<dt><code>aesthetics</code></dt><dd><p>The names of the aesthetics that this scale works with.</p>
</dd>
<dt><code>palette</code></dt><dd><p>A palette function that when called with a single integer
argument (the number of levels in the scale) returns the values that
they should take (e.g., <code><a href="scales.html#topic+pal_hue">scales::pal_hue()</a></code>).</p>
</dd>
<dt><code>name</code></dt><dd><p>The name of the scale. Used as the axis or legend title. If
<code>waiver()</code>, the default, the name of the scale is taken from the first
mapping used for that aesthetic. If <code>NULL</code>, the legend title will be
omitted.</p>
</dd>
<dt><code>breaks</code></dt><dd><p>One of:
</p>

<ul>
<li> <p><code>NULL</code> for no breaks
</p>
</li>
<li> <p><code>waiver()</code> for the default breaks (the scale limits)
</p>
</li>
<li><p> A character vector of breaks
</p>
</li>
<li><p> A function that takes the limits as input and returns breaks
as output. Also accepts rlang <a href="rlang.html#topic+as_function">lambda</a> function
notation.
</p>
</li></ul>
</dd>
<dt><code>labels</code></dt><dd><p>One of:
</p>

<ul>
<li> <p><code>NULL</code> for no labels
</p>
</li>
<li> <p><code>waiver()</code> for the default labels computed by the
transformation object
</p>
</li>
<li><p> A character vector giving labels (must be same length as <code>breaks</code>)
</p>
</li>
<li><p> An expression vector (must be the same length as breaks). See ?plotmath for details.
</p>
</li>
<li><p> A function that takes the breaks as input and returns labels
as output. Also accepts rlang <a href="rlang.html#topic+as_function">lambda</a> function
notation.
</p>
</li></ul>
</dd>
<dt><code>na.translate</code></dt><dd><p>Unlike continuous scales, discrete scales can easily show
missing values, and do so by default. If you want to remove missing values
from a discrete scale, specify <code>na.translate = FALSE</code>.</p>
</dd>
<dt><code>na.value</code></dt><dd><p>If <code>na.translate = TRUE</code>, what aesthetic value should the
missing values be displayed as? Does not apply to position scales
where <code>NA</code> is always placed at the far right.</p>
</dd>
<dt><code>drop</code></dt><dd><p>Should unused factor levels be omitted from the scale?
The default, <code>TRUE</code>, uses the levels that appear in the data;
<code>FALSE</code> includes the levels in the factor. Please note that to display
every level in a legend, the layer should use <code>show.legend = TRUE</code>.</p>
</dd>
<dt><code>call</code></dt><dd><p>The <code>call</code> used to construct the scale for reporting messages.</p>
</dd>
<dt><code>super</code></dt><dd><p>The super class to use for the constructed scale</p>
</dd>
</dl>
</td></tr>
<tr><td><code id="scale_x_dendro_+3A_expand">expand</code></td>
<td>
<p>For position scales, a vector of range expansion constants used to add some
padding around the data to ensure that they are placed some distance
away from the axes. Use the convenience function <code><a href="ggplot2.html#topic+expansion">expansion()</a></code>
to generate the values for the <code>expand</code> argument. The defaults are to
expand the scale by 5% on each side for continuous variables, and by
0.6 units on each side for discrete variables.</p>
</td></tr>
<tr><td><code id="scale_x_dendro_+3A_guide">guide</code></td>
<td>
<p>A function used to create a guide or its name. See
<code><a href="ggplot2.html#topic+guides">guides()</a></code> for more information.</p>
</td></tr>
<tr><td><code id="scale_x_dendro_+3A_position">position</code></td>
<td>
<p>For position scales, The position of the axis.
<code>left</code> or <code>right</code> for y axes, <code>top</code> or <code>bottom</code> for x axes.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The scale limits are determined by the order and labels in the <code>clust</code>
argument. While <code>limits</code> is not an argument in these scales, the <code>breaks</code>
argument can still be used to selectively omit some breaks and the <code>labels</code>
can be used for formatting purposes.
</p>


<h3>Value</h3>

<p>A <code style="white-space: pre;">&#8288;&lt;ScaleDiscretePosition&gt;&#8288;</code> object that can be added to a plot.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+guide_axis_dendro">guide_axis_dendro()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Hierarchically cluster data, separately for rows and columns
car_clust &lt;- hclust(dist(scale(mtcars)), "ave")
var_clust &lt;- hclust(dist(scale(t(mtcars))), "ave")

long_mtcars &lt;- data.frame(
  car = rownames(mtcars)[row(mtcars)],
  var = colnames(mtcars)[col(mtcars)],
  value = as.vector(scale(mtcars))
)

# A standard heatmap adorned with dendrograms
p &lt;- ggplot(long_mtcars, aes(var, car, fill = value)) +
  geom_tile() +
  scale_x_dendro(var_clust) +
  scale_y_dendro(car_clust)
p

# Styling the dendrograms
p +
  guides(
    y = guide_axis_dendro(key_dendro(type = "triangle")),
    x = guide_axis_dendro(space = rel(5))
  ) +
  theme(
    axis.text.y.left = element_text(margin = margin(r = 3, l = 3)),
    axis.ticks.y = element_line("red"),
    axis.ticks.x = element_line(linetype = "dotted")
  )

# In polar coordinates, plus some formatting
p +
  coord_radial(
    theta = "y", inner.radius = 0.5,
    start = 0.25 * pi, end = 1.75 * pi
  ) +
  guides(
    theta = primitive_labels(angle = 90),
    theta.sec = primitive_segments("dendro", vanish = TRUE),
    r = guide_axis_dendro(angle = 0)
  )
</code></pre>

<hr>
<h2 id='theme_guide'>Theme wrapper for guides</h2><span id='topic+theme_guide'></span>

<h3>Description</h3>

<p>This function has shorthand names for theme elements relating to guides. It
is intended to be used as the <code>guide_*(theme)</code> argument. Because of this
intent, and due to legends and axes having mutually exclusive theme elements,
this function sets the elements for both simultaneously.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>theme_guide(
  text = NULL,
  line = NULL,
  title = NULL,
  subtitle = NULL,
  text.position = NULL,
  title.position = NULL,
  subtitle.position = NULL,
  ticks = NULL,
  minor.ticks = NULL,
  mini.ticks = NULL,
  ticks.length = NULL,
  minor.ticks.length = NULL,
  mini.ticks.length = NULL,
  spacing = NULL,
  group.spacing = NULL,
  key = NULL,
  key.size = NULL,
  key.width = NULL,
  key.height = NULL,
  key.spacing = NULL,
  key.spacing.x = NULL,
  key.spacing.y = NULL,
  key.margin = NULL,
  frame = NULL,
  byrow = NULL,
  background = NULL,
  margin = NULL,
  bracket = NULL,
  bracket.size = NULL,
  box = NULL,
  fence = NULL,
  fence.post = NULL,
  fence.rail = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="theme_guide_+3A_text">text</code></td>
<td>
<p>An <code><a href="ggplot2.html#topic+element">&lt;element_text&gt;</a></code> setting both
<code>legend.text</code> and <code>axis.text</code> elements.</p>
</td></tr>
<tr><td><code id="theme_guide_+3A_line">line</code></td>
<td>
<p>An <code><a href="ggplot2.html#topic+element">&lt;element_line&gt;</a></code> setting both
<code>legend.axis.line</code> and <code>axis.line</code> elements.</p>
</td></tr>
<tr><td><code id="theme_guide_+3A_title">title</code></td>
<td>
<p>An <code><a href="ggplot2.html#topic+element">&lt;element_text&gt;</a></code> setting both
<code>legend.title</code> and <code>axis.title</code> elements.</p>
</td></tr>
<tr><td><code id="theme_guide_+3A_subtitle">subtitle</code></td>
<td>
<p>An <code><a href="ggplot2.html#topic+element">&lt;element_text&gt;</a></code> setting both
<code>legendry.legend.subtitle</code> and <code>legendry.axis.subtitle</code> elements.</p>
</td></tr>
<tr><td><code id="theme_guide_+3A_text.position">text.position</code>, <code id="theme_guide_+3A_title.position">title.position</code>, <code id="theme_guide_+3A_subtitle.position">subtitle.position</code></td>
<td>
<p>One of <code>"top"</code>,
<code>"right"</code>, <code>"bottom"</code> or <code>"right"</code> setting the following elements:
</p>

<ul>
<li> <p><code>text.position</code>: sets only <code>legend.text.position</code>.
</p>
</li>
<li> <p><code>title.position</code>: sets only <code>legend.title.position</code>.
</p>
</li>
<li> <p><code>subtitle.position</code> sets both <code>legendry.legend.subtitle.position</code> and
<code>legendry.axis.subtitle.position</code>
</p>
</li></ul>
</td></tr>
<tr><td><code id="theme_guide_+3A_ticks">ticks</code></td>
<td>
<p>An <code><a href="ggplot2.html#topic+element">&lt;element_line&gt;</a></code> setting both
<code>axis.ticks</code> and <code>legend.ticks</code> elements.</p>
</td></tr>
<tr><td><code id="theme_guide_+3A_minor.ticks">minor.ticks</code></td>
<td>
<p>An <code><a href="ggplot2.html#topic+element">&lt;element_line&gt;</a></code> setting
<code>legendry.legend.minor.ticks</code> and all 6 of the
<code style="white-space: pre;">&#8288;axis.ticks.minor.{r/theta/x.top/x.bottom/y.left/y.right}&#8288;</code> elements.</p>
</td></tr>
<tr><td><code id="theme_guide_+3A_mini.ticks">mini.ticks</code></td>
<td>
<p>An <code><a href="ggplot2.html#topic+element">&lt;element_line&gt;</a></code> setting both
<code>legendry.legend.mini.ticks</code> and <code>legendry.axis.mini.ticks</code> elements.</p>
</td></tr>
<tr><td><code id="theme_guide_+3A_ticks.length">ticks.length</code>, <code id="theme_guide_+3A_minor.ticks.length">minor.ticks.length</code>, <code id="theme_guide_+3A_mini.ticks.length">mini.ticks.length</code></td>
<td>
<p>A
[<code style="white-space: pre;">&#8288;&lt;unit[1]&gt;&#8288;</code>][grid::unit()] setting the following elements:
</p>

<ul>
<li> <p><code>ticks.length</code>: sets both <code>legend.ticks.length</code> and <code>axis.ticks.length</code>.
</p>
</li>
<li> <p><code>minor.ticks.length</code> sets both <code>axis.minor.ticks.length</code> and
<code>legendry.legend.minor.ticks.length</code>.
</p>
</li>
<li> <p><code>mini.ticks.length</code> sets both <code>legendry.axis.mini.ticks.length</code> and
<code>legendry.legend.mini.ticks.length</code>.
</p>
</li></ul>
</td></tr>
<tr><td><code id="theme_guide_+3A_spacing">spacing</code>, <code id="theme_guide_+3A_group.spacing">group.spacing</code></td>
<td>
<p>A [<code style="white-space: pre;">&#8288;&lt;unit[1]&gt;&#8288;</code>][grid::unit()] setting both the
<code>legendry.guide.spacing</code> and <code>legendry.group.spacing</code> theme elements.</p>
</td></tr>
<tr><td><code id="theme_guide_+3A_key">key</code></td>
<td>
<p>An <code><a href="ggplot2.html#topic+element">&lt;element_rect&gt;</a></code> setting the
<code>legend.key</code> element.</p>
</td></tr>
<tr><td><code id="theme_guide_+3A_key.size">key.size</code>, <code id="theme_guide_+3A_key.width">key.width</code>, <code id="theme_guide_+3A_key.height">key.height</code></td>
<td>
<p>A <code><a href="grid.html#topic+unit">&lt;unit&gt;</a></code> setting the
<code>legend.key.size</code>, <code>legend.key.width</code> and <code>legend.key.height</code> elements
respectively.</p>
</td></tr>
<tr><td><code id="theme_guide_+3A_key.spacing">key.spacing</code>, <code id="theme_guide_+3A_key.spacing.x">key.spacing.x</code>, <code id="theme_guide_+3A_key.spacing.y">key.spacing.y</code></td>
<td>
<p>A [<code style="white-space: pre;">&#8288;&lt;unit[1]&gt;&#8288;</code>][grid::unit()]
setting the <code>legend.key.spacing</code>, <code>legend.key.spacing.x</code> and
<code>legend.key.spacing.y</code> elements respectively.</p>
</td></tr>
<tr><td><code id="theme_guide_+3A_key.margin">key.margin</code></td>
<td>
<p>A <code><a href="ggplot2.html#topic+element">&lt;margin&gt;</a></code> setting the margin around
legend glyphs.</p>
</td></tr>
<tr><td><code id="theme_guide_+3A_frame">frame</code></td>
<td>
<p>An <code><a href="ggplot2.html#topic+element">&lt;element_rect&gt;</a></code> setting the
<code>legend.frame</code> element.</p>
</td></tr>
<tr><td><code id="theme_guide_+3A_byrow">byrow</code></td>
<td>
<p>A <code style="white-space: pre;">&#8288;&lt;logical[1]&gt;&#8288;</code> setting the <code>legend.byrow</code> element.</p>
</td></tr>
<tr><td><code id="theme_guide_+3A_background">background</code></td>
<td>
<p>An <code><a href="ggplot2.html#topic+element">&lt;element_rect&gt;</a></code> setting the
<code>legend.background</code> element.</p>
</td></tr>
<tr><td><code id="theme_guide_+3A_margin">margin</code></td>
<td>
<p>A <code><a href="ggplot2.html#topic+element">&lt;margin&gt;</a></code> setting the <code>legend.margin</code>
element.</p>
</td></tr>
<tr><td><code id="theme_guide_+3A_bracket">bracket</code></td>
<td>
<p>An <code><a href="ggplot2.html#topic+element">&lt;element_line&gt;</a></code> setting the
<code>legendry.bracket</code> element.</p>
</td></tr>
<tr><td><code id="theme_guide_+3A_bracket.size">bracket.size</code></td>
<td>
<p>A [<code style="white-space: pre;">&#8288;&lt;unit[1]&gt;&#8288;</code>][grid::unit()] setting the
<code>legendry.bracket.size</code> element.</p>
</td></tr>
<tr><td><code id="theme_guide_+3A_box">box</code></td>
<td>
<p>An <code><a href="ggplot2.html#topic+element">&lt;element_rect&gt;</a></code> setting the
<code>legendry.box</code> element.</p>
</td></tr>
<tr><td><code id="theme_guide_+3A_fence">fence</code>, <code id="theme_guide_+3A_fence.post">fence.post</code>, <code id="theme_guide_+3A_fence.rail">fence.rail</code></td>
<td>
<p>An
<code><a href="ggplot2.html#topic+element">&lt;element_line&gt;</a></code> setting the <code>legendry.fence</code>,
<code>legendry.fence.post</code> and <code>legendry.fence.rail</code> respectively.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code style="white-space: pre;">&#8288;&lt;theme&gt;&#8288;</code> object that can be provided to a guide.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>red_ticks &lt;- theme_guide(ticks = element_line(colour = "red", linewidth = 0.5))

# Both axis and colourbar gain red ticks
ggplot(mpg, aes(displ, hwy, colour = cty)) +
  geom_point() +
  guides(
    colour = guide_colourbar(theme = red_ticks),
    x = guide_axis(theme = red_ticks)
  )
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

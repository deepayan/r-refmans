<!DOCTYPE html><html lang="en"><head><title>Help for package HDoutliers</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {HDoutliers}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#dataTrans'>
<p>Data Transformation for Leland Wilkinson's <em>hdoutliers</em> Algorithm</p></a></li>
<li><a href='#dots'><p>One dimensional dots dataset &mdash; outlier detection example</p></a></li>
<li><a href='#ex2D'><p>Two dimensional dataset &mdash; outlier detection example</p></a></li>
<li><a href='#getHDmembers'>
<p>Partitioning Stage of the <em>hdoutliers</em> Algorithm</p></a></li>
<li><a href='#getHDoutliers'>
<p>Outlier Detection Stage of Wilkinson's <em>hdoutliers</em> Algorithm</p></a></li>
<li><a href='#HDoutliers'>
<p>Leland Wilkinson's <em>hdoutliers</em> Algorithm for Outlier Detection</p></a></li>
<li><a href='#plotHDoutliers'>
<p>Display Outlier Detection Results</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Version:</td>
<td>1.0.4</td>
</tr>
<tr>
<td>Date:</td>
<td>2022-02-10</td>
</tr>
<tr>
<td>Title:</td>
<td>Leland Wilkinson's Algorithm for Detecting Multidimensional
Outliers</td>
</tr>
<tr>
<td>Author:</td>
<td>Chris Fraley [aut, cre],
  Leland Wilkinson [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Chris Fraley  &lt;fraley@u.washington.edu&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.1.0), FNN, FactoMineR, mclust</td>
</tr>
<tr>
<td>Description:</td>
<td>An implementation of an algorithm for outlier detection that can handle a) data with a mixed categorical and continuous variables, b) many columns of data, c) many rows of data, d) outliers that mask other outliers, and e) both unidimensional and multidimensional datasets. Unlike ad hoc methods found in many machine learning papers, HDoutliers is based on a distributional model that uses probabilities to determine outliers.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-02-10 16:28:57 UTC; cfraley</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-02-11 12:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='dataTrans'>
Data Transformation for Leland Wilkinson's <em>hdoutliers</em> Algorithm
</h2><span id='topic+dataTrans'></span>

<h3>Description</h3>

<p>Transforms the data according to the specifications in Wilkinson's
<em>hdoutliers</em> algorithm.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dataTrans(data) 
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dataTrans_+3A_data">data</code></td>
<td>

<p>A vector, matrix, or data frame consisting of numeric and/or categorical
variables.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Replaces each categorical variables with a numeric variable corresponding
to its first component in multiple correspondence analysis, then maps the
data to the unit square. There is no porvision for handling missing data.
Functions <code>HDoutliers</code> and <code>getHDoutliers</code> apply this 
transformation to their input data.
</p>


<h3>Value</h3>

<p>The transformed data, according to Wilkinson's specifications for the
<em>hdoutliers</em> algorithm.
</p>


<h3>References</h3>

<p>Wilkinson, L. (2016). Visualizing Outliers.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+HDoutliers">HDoutliers</a></code>,
<code><a href="#topic+getHDoutliers">getHDoutliers</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'> require(FactoMineR)
 data(tea)
 head(tea)
 dataTrans(tea[,-1])
</code></pre>

<hr>
<h2 id='dots'>One dimensional dots dataset &mdash; outlier detection example</h2><span id='topic+dots'></span>

<h3>Description</h3>

<p>A matrix whose columns are the <code>Z</code> and <code>W</code> <code>dots</code> datasets from
Wilkinson (2016).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(dots)</code></pre>


<h3>References</h3>

<p>L. Wilkinson. 2016. Vizualizing Outliers. 
&lt;https://www.cs.uic.edu/~wilkinson/Publications/outliers.pdf&gt;.
</p>

<hr>
<h2 id='ex2D'>Two dimensional dataset &mdash; outlier detection example</h2><span id='topic+ex2D'></span>

<h3>Description</h3>

<p>A dataset with 510 rows and 2 columns comprised of 500 normally-distributed
samples and 10 uniformly distributed outliers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(ex2D)</code></pre>

<hr>
<h2 id='getHDmembers'>
Partitioning Stage of the <em>hdoutliers</em> Algorithm
</h2><span id='topic+getHDmembers'></span>

<h3>Description</h3>

<p>Implements the first stage of the <em>hdoutliers</em> Algorithm, in which the
data is partitioned according to <em>exemplars</em>
and their associated lists of <em>members</em>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getHDmembers(data, maxrows = 10000, radius = NULL) 
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getHDmembers_+3A_data">data</code></td>
<td>

<p>A vector, matrix, or data frame consisting of numeric and/or categorical
variables.
</p>
</td></tr>
<tr><td><code id="getHDmembers_+3A_maxrows">maxrows</code></td>
<td>

<p>If the number of observations is greater than <code>maxrows</code>,
<code>HDoutliers</code> reduces the number used in nearest-neighbor 
computations to a set of <em>exemplars</em>. The default value is 10000.
</p>
</td></tr>
<tr><td><code id="getHDmembers_+3A_radius">radius</code></td>
<td>

<p>Threshold for determining membership in the <em>exemplars</em>'s lists
(used only when the number of observations is greater than <code>maxrows</code>).
An observation is added to an <em>exemplars</em>' list if its distance
to that <em>exemplar</em> is less than <code>radius</code>.
The default value is <code class="reqn">.1/(log n)^(1/p)</code>, where <code class="reqn">n</code> is the 
number of observations and <code class="reqn">p</code> is the dimension of the data.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If the number of observations exceeds <code>maxrows</code>, the data is 
partitioned into lists corresponding to <em>exemplars</em> 
and their <em>members</em> within <code>radius</code> of each <em>exemplar</em>,
to reduce the number of nearest-neighbor computations required for
outlier detection. <br />
When there are fewer observations, the result is a list whose elements are 
the individual observations (each observation is an exemplar, with  no
other members). 
</p>


<h3>Value</h3>

<p>A list in which each component is a vector of observation indexes.
The first index in each list is the index of the <em>exemplar</em>
defining that list, and any remaining indexes are the
associated <em>members</em>, within <code>radius</code> of the <em>exemplar</em>.
</p>


<h3>References</h3>

<p>Wilkinson, L. (2016). Visualizing Outliers.
&lt;https://www.cs.uic.edu/~wilkinson/Publications/outliers.pdf&gt;.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+HDoutliers">HDoutliers</a></code>,
<code><a href="#topic+getHDoutliers">getHDoutliers</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(dots)
mem.W &lt;- getHDmembers(dots$W)
out.W &lt;- getHDoutliers(dots$W,mem.W)

data(ex2D)
mem.ex2D &lt;- getHDmembers(ex2D)
out.ex2D &lt;- getHDoutliers(ex2D,mem.ex2D)

## Not run: 
n &lt;- 100000 # number of observations
set.seed(3)
x &lt;- matrix(rnorm(2*n),n,2)
nout &lt;- 10 # number of outliers
x[sample(1:n,size=nout),] &lt;- 10*runif(2*nout,min=-1,max=1)

mem.x &lt;- getHDmembers(x)
out.x &lt;- getHDoutliers(x,mem.x)
## End(Not run)

</code></pre>

<hr>
<h2 id='getHDoutliers'>
Outlier Detection Stage of Wilkinson's <em>hdoutliers</em> Algorithm
</h2><span id='topic+getHDoutliers'></span>

<h3>Description</h3>

<p>Detects outliers based on a probability model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getHDoutliers(data, memberLists, alpha = 0.05, transform = TRUE) 
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getHDoutliers_+3A_data">data</code></td>
<td>

<p>A vector, matrix, or data frame consisting of numeric and/or categorical
variables.
</p>
</td></tr>
<tr><td><code id="getHDoutliers_+3A_memberlists">memberLists</code></td>
<td>

<p>A list following the structure of the output to <code>getHDmembers</code>,
in which each component is a vector of observation indexes.
The first index in each list is the index of the <em>exemplar</em>
representing that list, and any remaining indexes are the
associated <em>members</em>, considered &lsquo;close to&rsquo; the <em>exemplar</em>.
</p>
</td></tr>
<tr><td><code id="getHDoutliers_+3A_alpha">alpha</code></td>
<td>

<p>Threshold for determining the cutoff for outliers.
Observations are considered outliers
outliers if they fall in the <code class="reqn">(1- alpha)</code> tail of the distribution
of the nearest-neighbor distances between <em>exemplars</em>.
</p>
</td></tr>
<tr><td><code id="getHDoutliers_+3A_transform">transform</code></td>
<td>

<p>A logical variable indicating whether or not the data needs to be
transformed to conform to Wilkinson's specifications before outlier
detection. The default is to transform the data using function
<code>dataTrans</code>.
In Wilksinson's algorithm, <code>memberLists</code> would have been created 
with transformed data.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>An exponential distribution is fitted to the upper tail of the 
nearest-neighbor distances between <em>exemplars</em> (the observations
considered representatives of each component of <code>memberLists</code>). 
Observations are considered
outliers if they fall in the <code class="reqn">(1- alpha)</code> tail of the fitted CDF.
</p>


<h3>Value</h3>

<p>The indexes of the observations determined to be outliers.
</p>


<h3>References</h3>

<p>Wilkinson, L. (2016). Visualizing Outliers.
&lt;https://www.cs.uic.edu/~wilkinson/Publications/outliers.pdf&gt;.
</p>


<h3>Note</h3>

<p>A call to <code>getHDoutliers</code> in which <code>membersLists</code> result from
a call to <code>getHDmembers</code> is equivalent to calling <code>HDoutliers</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+HDoutliers">HDoutliers</a></code>,
<code><a href="#topic+getHDmembers">getHDmembers</a></code>,
<code><a href="#topic+dataTrans">dataTrans</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(dots)
mem.W &lt;- getHDmembers(dots$W)
out.W &lt;- getHDoutliers(dots$W,mem.W)
## Not run: 
plotHDoutliers( dots.W, out.W)
## End(Not run)

data(ex2D)
mem.ex2D &lt;- getHDmembers(ex2D)
out.ex2D &lt;- getHDoutliers( ex2D, mem.ex2D)
## Not run: 
plotHDoutliers( ex2D, out.ex2D)
## End(Not run)

## Not run: 
n &lt;- 100000 # number of observations
set.seed(3)
x &lt;- matrix(rnorm(2*n),n,2)
nout &lt;- 10 # number of outliers
x[sample(1:n,size=nout),] &lt;- 10*runif(2*nout,min=-1,max=1)

mem.x &lt;- getHDmembers(x)
out.x &lt;- getHDoutliers(x)
## End(Not run)

</code></pre>

<hr>
<h2 id='HDoutliers'>
Leland Wilkinson's <em>hdoutliers</em> Algorithm for Outlier Detection
</h2><span id='topic+HDoutliers'></span>

<h3>Description</h3>

<p>Detects outliers based on a probability model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>HDoutliers(data, maxrows=10000, radius=NULL, alpha=0.05, transform=TRUE) 
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="HDoutliers_+3A_data">data</code></td>
<td>

<p>A vector, matrix, or data frame consisting of numeric and/or categorical
variables.
</p>
</td></tr>
<tr><td><code id="HDoutliers_+3A_maxrows">maxrows</code></td>
<td>

<p>If the number of observations is greater than <code>maxrows</code>,
<code>HDoutliers</code> reduces the number used in nearest-neighbor 
computations to a set of <em>exemplars</em>. The default value is 10000.
</p>
</td></tr>
<tr><td><code id="HDoutliers_+3A_radius">radius</code></td>
<td>

<p>Threshold for determining membership in the <em>exemplars</em>'s lists
(used only when the number of observations is greater than <code class="reqn">maxrows</code>).
An observation is added to an <em>exemplars</em>' lists if its distance
to that <em>exemplar</em> is less than <code>radius</code>.
The default value is <code class="reqn">.1/(log n)^(1/p)</code>, where <code class="reqn">n</code> is the 
number of observations and <code class="reqn">p</code> is the dimension of the data.
</p>
</td></tr>
<tr><td><code id="HDoutliers_+3A_alpha">alpha</code></td>
<td>

<p>Threshold for determining the cutoff for outliers.
Observations are considered outliers
outliers if they fall in the <code class="reqn">(1- alpha)</code> tail of the distribution
of the nearest-neighbor distances between <em>exemplars</em>.
</p>
</td></tr>
<tr><td><code id="HDoutliers_+3A_transform">transform</code></td>
<td>

<p>A logical variable indicating whether or not the data needs to be
transformed to conform to Wilkinson's specifications before outlier
detection. The default is to transform the data using function
<code>dataTrans</code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Wilkinson replaces categorical variables with the leading component from
correspondence analysis, and maps the data to the unit square. This is
done as a preprocessing step if <code>transform = TRUE</code> (the default). <br />
If the number of observations exceeds <code>maxrows</code>, 
the data is first partitioned into lists associated with <em>exemplars</em> 
and their <em>members</em> within <code>radius</code> of each <em>exemplar</em>,
to reduce the number of nearest-neighbor computations required for
outlier detection.<br />
An exponential distribution is then fitted to the upper tail of the 
nearest-neighbor distances between <em>exemplars</em>. 
Observations are considered
outliers if they fall in the <code class="reqn">(1- alpha)</code> tail of the fitted CDF.
</p>


<h3>Value</h3>

<p>The indexes of the observations determined to be outliers.
</p>


<h3>References</h3>

<p>Wilkinson, L. (2016). Visualizing Outliers.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+getHDmembers">getHDmembers</a></code>,
<code><a href="#topic+getHDoutliers">getHDoutliers</a></code>,
<code><a href="#topic+dataTrans">dataTrans</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(dots)
out.W &lt;- HDoutliers(dots$W)
## Not run: 
plotHDoutliers(dots$W,out.W)
## End(Not run)

data(ex2D)
out.ex2D &lt;- HDoutliers(ex2D)
## Not run: 
plotHDoutliers(ex2D,out.ex2D)
## End(Not run)

## Not run: 
n &lt;- 100000 # number of observations
set.seed(3)
x &lt;- matrix(rnorm(2*n),n,2)
nout &lt;- 10 # number of outliers
x[sample(1:n,size=nout),] &lt;- 10*runif(2*nout,min=-1,max=1)

out.x &lt;- HDoutliers(x)
## End(Not run)
</code></pre>

<hr>
<h2 id='plotHDoutliers'>
Display Outlier Detection Results
</h2><span id='topic+plotHDoutliers'></span>

<h3>Description</h3>

<p>Plotting function showing observations determined to be outliers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotHDoutliers(data, indexes = NULL, transform = TRUE, ...) 
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plotHDoutliers_+3A_data">data</code></td>
<td>

<p>A vector, matrix, or data frame consisting of numeric and/or categorical
variables.
</p>
</td></tr>
<tr><td><code id="plotHDoutliers_+3A_indexes">indexes</code></td>
<td>

<p>The (row) indexes of the outliers in <code>data</code>.
</p>
</td></tr>
<tr><td><code id="plotHDoutliers_+3A_transform">transform</code></td>
<td>

<p>A logical variable indicating whether or not the data needs to be
transformed to conform to Wilkinson's specifications before outlier
detection. The default is to transform the data using function
<code>dataTrans</code>.
In Wilksinson's algorithm, <code>indexes</code> would have been derived
from transformed data.
</p>
</td></tr>
<tr><td><code id="plotHDoutliers_+3A_...">...</code></td>
<td>

<p>Additional plotting arguments.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Produces a plot of the data (transformed according to the Wilkinson's
specifications) showing the outliers. If the data has more than
two dimensions, it is plotted onto the principal components of the data that
remains after removing outliers.
</p>


<h3>Value</h3>

<p>The indexes of the observations determined to be outliers.
</p>


<h3>References</h3>

<p>Wilkinson, L. (2016). Visualizing Outliers.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+HDoutliers">HDoutliers</a></code>,
<code><a href="#topic+dataTrans">dataTrans</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(dots)
out.W &lt;- HDoutliers(dots$W)
## Not run: 
plotHDoutliers(dots$W,out.W)
## End(Not run)

data(ex2D)
out.ex2D &lt;- HDoutliers(ex2D)
## Not run: 
plotHDoutliers(ex2D,out.ex2D)
## End(Not run)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

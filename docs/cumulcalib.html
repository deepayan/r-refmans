<!DOCTYPE html><html lang="en-US"><head><title>Help for package cumulcalib</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {cumulcalib}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#cumulcalib-package'><p>cumulcalib: Cumulative Calibration Assessment for Prediction Models</p></a></li>
<li><a href='#cumulcalib'><p>Cumulative calibration assessment</p></a></li>
<li><a href='#pKolmogorov'><p>CDF of the Kolmogorov distribution</p></a></li>
<li><a href='#plot.cumulcalib'><p>Generates cumulative calibration plots</p></a></li>
<li><a href='#pMAD_BM'><p>CDF of the distribution of the maximum absolute deviation of Brownian motion in [0,1] interval</p></a></li>
<li><a href='#pMAD_BM_c'><p>CDF of the distribution of the maximum absolute deviation of Brownian motion in [0,1] interval, conditional on its terminal value</p></a></li>
<li><a href='#qKolmogorov'><p>Quantile function of the Kolmogorov distribution</p></a></li>
<li><a href='#qMAD_BM'><p>Quantile function of the distribution of the maximum absolute deviation of Brownian motion in [0,1] interval</p></a></li>
<li><a href='#qMAD_BM_c'><p>Quantile function of the distribution of the maximum absolute deviation of Brownian motion in [0,1] interval, conditional on its terminal value</p></a></li>
<li><a href='#summary.cumulcalib'><p>Summarizes a cumulcalib object</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Cumulative Calibration Assessment for Prediction Models</td>
</tr>
<tr>
<td>Version:</td>
<td>0.0.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Tools for visualization of, and inference on, the calibration of prediction models on the cumulative domain. This provides a method for evaluating calibration of risk prediction models without having to group the data or use tuning parameters (e.g., loess bandwidth). This package implements the methodology described in Sadatsafavi and Patkau (2024) &lt;<a href="https://doi.org/10.1002%2Fsim.10138">doi:10.1002/sim.10138</a>&gt;. The core of the package is cumulcalib(), which takes in vectors of binary responses and predicted risks. The plot() and summary() methods are implemented for the results returned by cumulcalib().</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/resplab/cumulcalib">https://github.com/resplab/cumulcalib</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>graphics, stats</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, predtools, rmarkdown, markdown, spelling, testthat (&ge;
3.0.0)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-06-13 12:51:31 UTC; msafavi</td>
</tr>
<tr>
<td>Author:</td>
<td>Mohsen Sadatsafavi
    <a href="https://orcid.org/0000-0002-0419-7862"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Mohsen Sadatsafavi &lt;mohsen.sadatsafavi@ubc.ca&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-06-13 18:10:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='cumulcalib-package'>cumulcalib: Cumulative Calibration Assessment for Prediction Models</h2><span id='topic+cumulcalib-package'></span>

<h3>Description</h3>

<p>Tools for visualization of, and inference on, the calibration of prediction models on the cumulative domain. This provides a method for evaluating calibration of risk prediction models without having to group the data or use tuning parameters (e.g., loess bandwidth). This package implements the methodology described in Sadatsafavi and Patkau (2024) <a href="https://doi.org/10.1002/sim.10138">doi:10.1002/sim.10138</a>. The core of the package is cumulcalib(), which takes in vectors of binary responses and predicted risks. The plot() and summary() methods are implemented for the results returned by cumulcalib().
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Mohsen Sadatsafavi <a href="mailto:mohsen.sadatsafavi@ubc.ca">mohsen.sadatsafavi@ubc.ca</a> (<a href="https://orcid.org/0000-0002-0419-7862">ORCID</a>)
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/resplab/cumulcalib">https://github.com/resplab/cumulcalib</a>
</p>
</li></ul>


<hr>
<h2 id='cumulcalib'>Cumulative calibration assessment</h2><span id='topic+cumulcalib'></span>

<h3>Description</h3>

<p>This is the core function for performing cumulative calibration assessment
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cumulcalib(y, p, method = c("BB", "BM"), ordered = FALSE, n_sim = 0)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cumulcalib_+3A_y">y</code></td>
<td>
<p>vector of binary responses</p>
</td></tr>
<tr><td><code id="cumulcalib_+3A_p">p</code></td>
<td>
<p>vector of predicted probabilities.</p>
</td></tr>
<tr><td><code id="cumulcalib_+3A_method">method</code></td>
<td>
<p>string with either BB (Brownian bridge test, default method), BM (Brownian motion test), BM2p (two-part BM test - experimental), BB1p (one-part BB test wit only the 'bridge' component). Multiple methods can be specified. The first one will be the 'main' method (e.g., when submitting the resulting object to plot()). Default is c(&quot;BB&quot;,&quot;BM&quot;)</p>
</td></tr>
<tr><td><code id="cumulcalib_+3A_ordered">ordered</code></td>
<td>
<p>if TRUE, y and p are already ordered based on ascending values of p. This is to speed up simulations.</p>
</td></tr>
<tr><td><code id="cumulcalib_+3A_n_sim">n_sim</code></td>
<td>
<p>if &gt;0, indicates a simulation-based test is requested for inference.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an objective of class cumulcalib that can be printed or plotted
</p>


<h3>Examples</h3>

<pre><code class='language-R'>pi &lt;- rbeta(1000,1,2)
Y &lt;- rbinom(length(pi),1,pi)
res &lt;- cumulcalib(Y, pi, method="BB")
summary(res)
plot(res)
</code></pre>

<hr>
<h2 id='pKolmogorov'>CDF of the Kolmogorov distribution</h2><span id='topic+pKolmogorov'></span>

<h3>Description</h3>

<p>CDF of the Kolmogorov distribution
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pKolmogorov(q, summands = ceiling(q * sqrt(72) + 3/2))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pKolmogorov_+3A_q">q</code></td>
<td>
<p>the quantity at which CDF will be evaluated. Currently accepts only a scalar</p>
</td></tr>
<tr><td><code id="pKolmogorov_+3A_summands">summands</code></td>
<td>
<p>maximum number of terms to be evaluated in the infinite series (default=ceiling(q*sqrt(72)+3/2))</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a scalar value
</p>

<hr>
<h2 id='plot.cumulcalib'>Generates cumulative calibration plots</h2><span id='topic+plot.cumulcalib'></span>

<h3>Description</h3>

<p>Generates cumulative calibration plots
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'cumulcalib'
plot(
  x,
  method = NULL,
  draw_stat = TRUE,
  stat_col = c("blue", "red"),
  draw_sig = TRUE,
  sig_level = c(0.95, 0.95),
  x2axis = TRUE,
  y2axis = TRUE,
  ...
)

## S3 method for class 'cumulcalib'
plot(
  x,
  method = NULL,
  draw_stat = TRUE,
  stat_col = c("blue", "red"),
  draw_sig = TRUE,
  sig_level = c(0.95, 0.95),
  x2axis = TRUE,
  y2axis = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot.cumulcalib_+3A_x">x</code></td>
<td>
<p>An object of class cumulcalib generated by cumulcalib()</p>
</td></tr>
<tr><td><code id="plot.cumulcalib_+3A_method">method</code></td>
<td>
<p>Which method to use. Options are BB (Brownian bridge test), BM (Brownian motion test), BB1p (1-part Brownian bridge test), and BM2p (2-part Brownian bridge test). If unspecified, returns the default method used in the cumulcalib() call</p>
</td></tr>
<tr><td><code id="plot.cumulcalib_+3A_draw_stat">draw_stat</code></td>
<td>
<p>Should the statistic (terminal value an/or maximum drift, depending on method) be drawn? Default is TRUE</p>
</td></tr>
<tr><td><code id="plot.cumulcalib_+3A_stat_col">stat_col</code></td>
<td>
<p>The color(s) to draw the stat. Default is c('blue','red'). For single-part tests (BM and BB1p) only the first element is used</p>
</td></tr>
<tr><td><code id="plot.cumulcalib_+3A_draw_sig">draw_sig</code></td>
<td>
<p>Whether significance lines should be drawn. Default is T. Colors will be the same as stat_col</p>
</td></tr>
<tr><td><code id="plot.cumulcalib_+3A_sig_level">sig_level</code></td>
<td>
<p>If to draw significance lines, at what level? Default is c(0.95,0.95). For single-part tests (BM and BB1p) only the first element is used</p>
</td></tr>
<tr><td><code id="plot.cumulcalib_+3A_x2axis">x2axis</code></td>
<td>
<p>If true, draws a second x-axis (on top) showing predicted risks</p>
</td></tr>
<tr><td><code id="plot.cumulcalib_+3A_y2axis">y2axis</code></td>
<td>
<p>If true, draws a second y-axis (on right) showing scaled partial sums</p>
</td></tr>
<tr><td><code id="plot.cumulcalib_+3A_...">...</code></td>
<td>
<p>Parameters to be passed to plot()</p>
</td></tr>
</table>


<h3>Value</h3>

<p>None
</p>
<p>None
</p>

<hr>
<h2 id='pMAD_BM'>CDF of the distribution of the maximum absolute deviation of Brownian motion in [0,1] interval</h2><span id='topic+pMAD_BM'></span>

<h3>Description</h3>

<p>CDF of the distribution of the maximum absolute deviation of Brownian motion in [0,1] interval
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pMAD_BM(q, summands = 100)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pMAD_BM_+3A_q">q</code></td>
<td>
<p>the quantity at which CDF will be evaluated. Currently accepts only a scalar</p>
</td></tr>
<tr><td><code id="pMAD_BM_+3A_summands">summands</code></td>
<td>
<p>maximum number of terms to be evaluated in the infinite series (default=100)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a scalar value
</p>

<hr>
<h2 id='pMAD_BM_c'>CDF of the distribution of the maximum absolute deviation of Brownian motion in [0,1] interval, conditional on its terminal value</h2><span id='topic+pMAD_BM_c'></span>

<h3>Description</h3>

<p>CDF of the distribution of the maximum absolute deviation of Brownian motion in [0,1] interval, conditional on its terminal value
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pMAD_BM_c(
  q,
  w1,
  method = 1,
  exp_tolerance = -30,
  summands = ceiling(q * sqrt(72) + 3/2)
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pMAD_BM_c_+3A_q">q</code></td>
<td>
<p>the quantity at which CDF will be evaluated. Currently accepts only a scalar</p>
</td></tr>
<tr><td><code id="pMAD_BM_c_+3A_w1">w1</code></td>
<td>
<p>the terminal value</p>
</td></tr>
<tr><td><code id="pMAD_BM_c_+3A_method">method</code></td>
<td>
<p>different infinite series to use (1,2,3)</p>
</td></tr>
<tr><td><code id="pMAD_BM_c_+3A_exp_tolerance">exp_tolerance</code></td>
<td>
<p>numerical tolerance as the stopping rule when evaluating the infinite sum (default -30 on the exponential scale)</p>
</td></tr>
<tr><td><code id="pMAD_BM_c_+3A_summands">summands</code></td>
<td>
<p>number of terms to evaluate (default is ceiling(q * sqrt(72) + 3/2))</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a scalar value
</p>

<hr>
<h2 id='qKolmogorov'>Quantile function of the Kolmogorov distribution</h2><span id='topic+qKolmogorov'></span>

<h3>Description</h3>

<p>Quantile function of the Kolmogorov distribution
</p>


<h3>Usage</h3>

<pre><code class='language-R'>qKolmogorov(p)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="qKolmogorov_+3A_p">p</code></td>
<td>
<p>the quantity at which the quantile function will be evaluated. Currently accepts only a scalar</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a scalar value
</p>

<hr>
<h2 id='qMAD_BM'>Quantile function of the distribution of the maximum absolute deviation of Brownian motion in [0,1] interval</h2><span id='topic+qMAD_BM'></span>

<h3>Description</h3>

<p>Quantile function of the distribution of the maximum absolute deviation of Brownian motion in [0,1] interval
</p>


<h3>Usage</h3>

<pre><code class='language-R'>qMAD_BM(p)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="qMAD_BM_+3A_p">p</code></td>
<td>
<p>the quantity at which the quantile function will be evaluated. Currently accepts only a scalar</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a scalar value
</p>

<hr>
<h2 id='qMAD_BM_c'>Quantile function of the distribution of the maximum absolute deviation of Brownian motion in [0,1] interval, conditional on its terminal value</h2><span id='topic+qMAD_BM_c'></span>

<h3>Description</h3>

<p>Quantile function of the distribution of the maximum absolute deviation of Brownian motion in [0,1] interval, conditional on its terminal value
</p>


<h3>Usage</h3>

<pre><code class='language-R'>qMAD_BM_c(p, w1)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="qMAD_BM_c_+3A_p">p</code></td>
<td>
<p>the quantity at which the quantile function will be evaluated. Currently accepts only a scalar</p>
</td></tr>
<tr><td><code id="qMAD_BM_c_+3A_w1">w1</code></td>
<td>
<p>the terminal value</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a scalar value
</p>

<hr>
<h2 id='summary.cumulcalib'>Summarizes a cumulcalib object</h2><span id='topic+summary.cumulcalib'></span>

<h3>Description</h3>

<p>Summarizes a cumulcalib object
</p>
<p>Summarizes a cumulcalib object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'cumulcalib'
summary(object, method = NULL, ...)

## S3 method for class 'cumulcalib'
summary(object, method = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="summary.cumulcalib_+3A_object">object</code></td>
<td>
<p>An object of class cumulcalib generated by cumulcalib()</p>
</td></tr>
<tr><td><code id="summary.cumulcalib_+3A_method">method</code></td>
<td>
<p>Which method to use. Options are BB (Brownian bridge test), BM (Brownian motion test), BB1p (1-part Brownian bridge test), and BM2p (2-part Brownian bridge test). If unspecified, returns the default method used in the cumulcalib() call</p>
</td></tr>
<tr><td><code id="summary.cumulcalib_+3A_...">...</code></td>
<td>
<p>Other parameters passed to summary()</p>
</td></tr>
</table>


<h3>Value</h3>

<p>None
</p>
<p>None
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

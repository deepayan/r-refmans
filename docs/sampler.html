<!DOCTYPE html><html lang="en"><head><title>Help for package sampler</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {sampler}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#albania'><p>Albania 2017 Election Results by Polling Station</p></a></li>
<li><a href='#cpro'><p>Calculate proportion and margin of error (unequal-sized cluster sample)</p></a></li>
<li><a href='#dedupe'><p>Removes duplicate observations within collected data</p></a></li>
<li><a href='#dupe'><p>Identifies duplicate values within collected data</p></a></li>
<li><a href='#opening'><p>Albania 2017 CDO Election Observation Data Findings on Opening Process</p></a></li>
<li><a href='#psampcalc'><p>Determines sample size by strata using sub-units</p></a></li>
<li><a href='#rmissing'><p>Identifies missing points between sample and collected data</p></a></li>
<li><a href='#rpro'><p>Calculate proportion and margin of error (simple random sample)</p></a></li>
<li><a href='#rsamp'><p>Draws simple random sample without replacement</p></a></li>
<li><a href='#rsampcalc'><p>Determines random sample size</p></a></li>
<li><a href='#smissing'><p>Identifies number of missing points by strata between sample and collected data</p></a></li>
<li><a href='#spro'><p>Calculate proportion and margin of error (stratified sample)</p></a></li>
<li><a href='#ssamp'><p>Draws stratifed sample without replacement using proportional allocation</p></a></li>
<li><a href='#ssampcalc'><p>Determines sample size by strata using proportional allocation</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Sample Design, Drawing &amp; Data Analysis Using Data Frames</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.4</td>
</tr>
<tr>
<td>Author:</td>
<td>Michael Baldassaro</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Michael Baldassaro &lt;mbaldassaro@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Determine sample sizes, draw samples, and conduct data analysis using data frames. It specifically enables you to determine simple random sample sizes, stratified sample sizes, and complex stratified sample sizes using a secondary variable such as population; draw simple random samples and stratified random samples from sampling data frames; determine which observations are missing from a random sample, missing by strata, duplicated within a dataset; and perform data analysis, including proportions, margins of error and upper and lower bounds for simple, stratified and cluster sample designs. </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/mbaldassaro/sampler">https://github.com/mbaldassaro/sampler</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/mbaldassaro/sampler/issues">https://github.com/mbaldassaro/sampler/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr, tidyr, reshape, purrr</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.0.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2019-09-15 15:28:31 UTC; mbaldassaro</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2019-09-15 15:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='albania'>Albania 2017 Election Results by Polling Station</h2><span id='topic+albania'></span>

<h3>Description</h3>

<p>Data set containing 2017 Albania election results by polling station published by the Central Election Commission and opened by the Coalition of Domestic Observers &amp; Democracy International.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>albania
</code></pre>


<h3>Format</h3>

<p>A data frame with 5362 rows and 45 variables
</p>

<dl>
<dt>qarku</dt><dd><p>district, 12 in total</p>
</dd>
<dt>Q_ID</dt><dd><p>geocode for district</p>
</dd>
<dt>bashkia</dt><dd><p>municipality, 61 in total</p>
</dd>
<dt>BAS_ID</dt><dd><p>geocode for municipality</p>
</dd>
<dt>zaz</dt><dd><p>election area zone, 90 in total</p>
</dd>
<dt>njesiaAdministrative</dt><dd><p>village, 373 in total</p>
</dd>
<dt>COM_ID</dt><dd><p>geocode for village</p>
</dd>
<dt>qvKod</dt><dd><p>polling station identifier</p>
</dd>
<dt>zgjedhes</dt><dd><p>number of total registered voters</p>
</dd>
<dt>meshkuj</dt><dd><p>number of male registered voters</p>
</dd>
<dt>femra</dt><dd><p>number of female registered voters</p>
</dd>
<dt>totalSeats</dt><dd><p>number of seats contested by district</p>
</dd>
<dt>vendndodhja</dt><dd><p>name of polling center containing polling stations</p>
</dd>
<dt>ambienti</dt><dd><p>type of polling center, 5 in total</p>
</dd>
<dt>totalVoters</dt><dd><p>number of total registered voters that cast ballots</p>
</dd>
<dt>femVoters</dt><dd><p>number of female registered voters that cast ballots</p>
</dd>
<dt>maleVoters</dt><dd><p>number of male registered voters that cast ballots</p>
</dd>
<dt>unusedBallots</dt><dd><p>number of ballots not used</p>
</dd>
<dt>damagedBallots</dt><dd><p>number of ballots damaged</p>
</dd>
<dt>ballotsCast</dt><dd><p>number of total ballots cast</p>
</dd>
<dt>invalidVotes</dt><dd><p>number of ballots cast that were invalidated</p>
</dd>
<dt>validVotes</dt><dd><p>number of valid ballots cast</p>
</dd>
<dt>lsi</dt><dd><p>number of ballots cast for LSI</p>
</dd>
<dt>ps</dt><dd><p>number of ballots cast for PS</p>
</dd>
<dt>pkd</dt><dd><p>number of ballots cast for PKD</p>
</dd>
<dt>sfida</dt><dd><p>number of ballots cast for SFIDA</p>
</dd>
<dt>pr</dt><dd><p>number of ballots cast for PR</p>
</dd>
<dt>pd</dt><dd><p>number of ballots cast for PD</p>
</dd>
<dt>pbdksh</dt><dd><p>number of ballots cast for PBDKSH</p>
</dd>
<dt>adk</dt><dd><p>number of ballots cast for ADK</p>
</dd>
<dt>psd</dt><dd><p>number of ballots cast for PSD</p>
</dd>
<dt>ad</dt><dd><p>number of ballots cast for AD</p>
</dd>
<dt>frd</dt><dd><p>number of ballots cast for FRD</p>
</dd>
<dt>pds</dt><dd><p>number of ballots cast for PDS</p>
</dd>
<dt>pdiu</dt><dd><p>number of ballots cast for PDIU</p>
</dd>
<dt>aak</dt><dd><p>number of ballots cast for AAK</p>
</dd>
<dt>mega</dt><dd><p>number of ballots cast for MEGA</p>
</dd>
<dt>pksh</dt><dd><p>number of ballots cast for PKSH</p>
</dd>
<dt>apd</dt><dd><p>number of ballots cast for APD</p>
</dd>
<dt>libra</dt><dd><p>number of ballots cast for LIBRA</p>
</dd>
<dt>psSeats</dt><dd><p>number of seats won by PS</p>
</dd>
<dt>pdSeats</dt><dd><p>number of seats won by PD</p>
</dd>
<dt>lsiSeats</dt><dd><p>number of seats won by LSI</p>
</dd>
<dt>pdiuSeats</dt><dd><p>number of seats won by PDIU</p>
</dd>
<dt>psdSeats</dt><dd><p>number of seats won by PSD</p>
</dd>
</dl>


<h3>Source</h3>

<p><a href="https://albaniaelectiondata.herokuapp.com/">https://albaniaelectiondata.herokuapp.com/</a>
</p>

<hr>
<h2 id='cpro'>Calculate proportion and margin of error (unequal-sized cluster sample)</h2><span id='topic+cpro'></span>

<h3>Description</h3>

<p>Calculate proportion and margin of error (unequal-sized cluster sample)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cpro(df, numerator, denominator, ci = 95, na = "", N = 0)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cpro_+3A_df">df</code></td>
<td>
<p>object containing data frame on which to perform analysis</p>
</td></tr>
<tr><td><code id="cpro_+3A_numerator">numerator</code></td>
<td>
<p>variable in data frame for which you want to calculate proportion and margin of error</p>
</td></tr>
<tr><td><code id="cpro_+3A_denominator">denominator</code></td>
<td>
<p>variable in data frame containing population sizes of unequal clusters</p>
</td></tr>
<tr><td><code id="cpro_+3A_ci">ci</code></td>
<td>
<p>(optional) confidence level for establishing a confidence interval using z-score (defaults to 95; restricted to 80, 85, 90, 95 or 99 as input)</p>
</td></tr>
<tr><td><code id="cpro_+3A_na">na</code></td>
<td>
<p>(optional) value that you want to filter and exclude (defaults to include everything)</p>
</td></tr>
<tr><td><code id="cpro_+3A_n">N</code></td>
<td>
<p>(optional) population universe (e.g. 10000, nrow(df)); if N value is passed as an argument, margin of error will be calculated using fpc</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns table of responses (n), proportions, margins of error, lower and upper bounds by factor for a given variable in a stratified sample
</p>


<h3>References</h3>

<p>[1] Survey Sampling, L. Kish, 1965, Equation 6.3.4
[2] Sampling Techniques, W.G. Cochran, 1977, Equation 3.34
</p>


<h3>Examples</h3>

<pre><code class='language-R'>alresults &lt;- ssamp(albania, 890, qarku)
cpro(df=alresults, numerator=totalVoters, denominator=zgjedhes, ci=95)
cpro(df=alresults, numerator=pd, denominator=validVotes, ci=95, N=5361)
</code></pre>

<hr>
<h2 id='dedupe'>Removes duplicate observations within collected data</h2><span id='topic+dedupe'></span>

<h3>Description</h3>

<p>Removes duplicate observations within collected data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dedupe(df, col_name)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dedupe_+3A_df">df</code></td>
<td>
<p>object containing data frame of collected data</p>
</td></tr>
<tr><td><code id="dedupe_+3A_col_name">col_name</code></td>
<td>
<p>variable within data frame by which to filter for duplicate values</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns table of all data based on unique values within collected data
</p>


<h3>Examples</h3>

<pre><code class='language-R'>aldupe &lt;- rsamp(df=albania, n=390, rep=TRUE)
dedupe(df=aldupe, col_name=qvKod)
</code></pre>

<hr>
<h2 id='dupe'>Identifies duplicate values within collected data</h2><span id='topic+dupe'></span>

<h3>Description</h3>

<p>Identifies duplicate values within collected data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dupe(df, col_name)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dupe_+3A_df">df</code></td>
<td>
<p>object containing data frame of collected data</p>
</td></tr>
<tr><td><code id="dupe_+3A_col_name">col_name</code></td>
<td>
<p>variable within data frame by which to filter for duplicate values</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns table of duplicate values within collected data
</p>


<h3>Examples</h3>

<pre><code class='language-R'>aldupe &lt;- rsamp(df=albania, n=390, rep=TRUE)
dupe(df=aldupe, col_name=qvKod)
</code></pre>

<hr>
<h2 id='opening'>Albania 2017 CDO Election Observation Data Findings on Opening Process</h2><span id='topic+opening'></span>

<h3>Description</h3>

<p>Data set containing 2017 Albania election observation findings on polling station opening process by the Coalition of Domestic Observers (CDO)
CDO conducted a statistically-based observation (SBO) exercise, deploying observers to a random sample of polling stations for the 25 June 2017 Albanian elections.
This is a subset of observation data collected by CDO observers that includes data that was used to perform statistical analysis.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>opening
</code></pre>


<h3>Format</h3>

<p>A data frame with 524 rows and 19 variables
</p>

<dl>
<dt>qarku</dt><dd><p>district, 12 in total</p>
</dd>
<dt>psID</dt><dd><p>polling station identifier</p>
</dd>
<dt>votersList</dt><dd><p>number of registered voters at the polling station</p>
</dd>
<dt>ballotPapers</dt><dd><p>number of ballot papers at the polling station</p>
</dd>
<dt>pubPriv</dt><dd><p>type of polling station, public or private</p>
</dd>
<dt>openTime</dt><dd><p>time when polling station opening, in 30 minute ranges</p>
</dd>
<dt>numKommish</dt><dd><p>number of commissioners present at polling station</p>
</dd>
<dt>secrecyOpen</dt><dd><p>yes-no if polling station enabled voters to cast ballots in secrecy, po or jo</p>
</dd>
<dt>movementOpen</dt><dd><p>yes-no if polling station provided sufficient space to vote, po or jo</p>
</dd>
<dt>removeMatInside</dt><dd><p>yes-no if campaign materials were removed from inside polling station, po or jo</p>
</dd>
<dt>removeMatOutside</dt><dd><p>yes-no if campaign materials were removed from outside polling station, po or jo</p>
</dd>
<dt>pvComplete</dt><dd><p>yes-no if commissioners completed the opening record checklist sheet, po or jo</p>
</dd>
<dt>boxChecked</dt><dd><p>yes-no if commissioners checked to ensure the ballot box was empty before opening, po or jo</p>
</dd>
<dt>boxSealed</dt><dd><p>yes-no if commissioners sealed the ballot box to prevent ballot tampering, po or jo</p>
</dd>
<dt>recordBox</dt><dd><p>yes-no if commissioners recorded the seal number on the ballot box, po or jo</p>
</dd>
<dt>centerMat</dt><dd><p>yes-no if there were all election materials were available at the polling station, po or jo</p>
</dd>
<dt>blindTools</dt><dd><p>yes-no if the polling station was equipped for blind voters, po or jo</p>
</dd>
<dt>disabledTools</dt><dd><p>yes-no-partially if the polling station was equipped for disabled voters, po or jo or pjeserisht</p>
</dd>
<dt>overallOpen</dt><dd><p>very good-good-problematic-very problematic an overall assessment of the opening process, shummir,mir,meprob,shumprob</p>
</dd>
</dl>


<h3>Source</h3>

<p><a href="https://ona.io/cdo/35080/216662">https://ona.io/cdo/35080/216662</a>
</p>

<hr>
<h2 id='psampcalc'>Determines sample size by strata using sub-units</h2><span id='topic+psampcalc'></span>

<h3>Description</h3>

<p>Determines sample size by strata using sub-units
</p>


<h3>Usage</h3>

<pre><code class='language-R'>psampcalc(df, n, strata, unit, over = 0)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="psampcalc_+3A_df">df</code></td>
<td>
<p>object containing full sampling data frame (e.g. data)</p>
</td></tr>
<tr><td><code id="psampcalc_+3A_n">n</code></td>
<td>
<p>sample size (integer) or object containing sample size</p>
</td></tr>
<tr><td><code id="psampcalc_+3A_strata">strata</code></td>
<td>
<p>variable in sampling data frame by which to stratify (e.g. region)</p>
</td></tr>
<tr><td><code id="psampcalc_+3A_unit">unit</code></td>
<td>
<p>variable in sampling data frame containing sub-units (e.g. population)</p>
</td></tr>
<tr><td><code id="psampcalc_+3A_over">over</code></td>
<td>
<p>(optional) desired oversampling proportion (defaults to 0; takes value between 0 and 1 as input)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns sample size per strata based on sub-units (rounded up to nearest integer)
</p>


<h3>References</h3>

<p>[1] Sampling Design &amp; Analysis, S. Lohr, 1999, 4.4
</p>

<hr>
<h2 id='rmissing'>Identifies missing points between sample and collected data</h2><span id='topic+rmissing'></span>

<h3>Description</h3>

<p>Identifies missing points between sample and collected data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rmissing(sampdf, colldf, col_name)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rmissing_+3A_sampdf">sampdf</code></td>
<td>
<p>object containing data frame of sample points</p>
</td></tr>
<tr><td><code id="rmissing_+3A_colldf">colldf</code></td>
<td>
<p>object containing data frame of collected data</p>
</td></tr>
<tr><td><code id="rmissing_+3A_col_name">col_name</code></td>
<td>
<p>common variable (i.e. key) in data frames by which to check for missing points</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns table of sample points missing from collected data
</p>


<h3>References</h3>

<p>Simplified wrapper around dplyr::anti_join()
</p>


<h3>Examples</h3>

<pre><code class='language-R'>alsample &lt;- rsamp(df=albania, 544)
alreceived &lt;- rsamp(df=alsample, 390)
rmissing(sampdf=alsample, colldf=alreceived, col_name=qvKod)
</code></pre>

<hr>
<h2 id='rpro'>Calculate proportion and margin of error (simple random sample)</h2><span id='topic+rpro'></span>

<h3>Description</h3>

<p>Calculate proportion and margin of error (simple random sample)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rpro(df, col_name, ci = 95, na = "", N = 0)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rpro_+3A_df">df</code></td>
<td>
<p>object containing data frame on which to perform analysis (e.g. data)</p>
</td></tr>
<tr><td><code id="rpro_+3A_col_name">col_name</code></td>
<td>
<p>variable in data frame for which you want to calculate proportion and margin of error</p>
</td></tr>
<tr><td><code id="rpro_+3A_ci">ci</code></td>
<td>
<p>(optional) confidence level for establishing a confidence interval using z-score (defaults to 95; restricted to 80, 85, 90, 95 or 99 as input)</p>
</td></tr>
<tr><td><code id="rpro_+3A_na">na</code></td>
<td>
<p>(optional) value that you want to filter and exclude (defaults to include everything)</p>
</td></tr>
<tr><td><code id="rpro_+3A_n">N</code></td>
<td>
<p>(optional) population universe (e.g. 10000, nrow(df)); if N value is passed as an argument, margin of error will be calculated using fpc</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns table of responses (n), proportions, margins of error, lower and upper bounds by factor for a given variable
</p>


<h3>References</h3>

<p>[1] Sampling Design &amp; Analysis, S. Lohr, 1999, Equation 2.15
</p>


<h3>Examples</h3>

<pre><code class='language-R'>rpro(df=opening, col_name=openTime, ci=95, na="n/a", N=5361)
</code></pre>

<hr>
<h2 id='rsamp'>Draws simple random sample without replacement</h2><span id='topic+rsamp'></span>

<h3>Description</h3>

<p>Draws simple random sample without replacement
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rsamp(df, n, over = 0, rep = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rsamp_+3A_df">df</code></td>
<td>
<p>object containing full sampling data frame (e.g. data)</p>
</td></tr>
<tr><td><code id="rsamp_+3A_n">n</code></td>
<td>
<p>sample size (integer) or object containing sample size</p>
</td></tr>
<tr><td><code id="rsamp_+3A_over">over</code></td>
<td>
<p>(optional) desired oversampling proportion (defaults to 0; takes value between 0 and 1 as input)</p>
</td></tr>
<tr><td><code id="rsamp_+3A_rep">rep</code></td>
<td>
<p>(optional)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns simple random sample without replacement
</p>


<h3>References</h3>

<p>Simplified wrapper around dplyr::sample_n()
</p>


<h3>Examples</h3>

<pre><code class='language-R'>rsamp(albania, n=360, over=0.1, rep=FALSE)

size &lt;- rsampcalc(nrow(albania), 3, 95, 0.5)
randomsample &lt;- rsamp(albania, size)
</code></pre>

<hr>
<h2 id='rsampcalc'>Determines random sample size</h2><span id='topic+rsampcalc'></span>

<h3>Description</h3>

<p>Determines random sample size
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rsampcalc(N, e, ci = 95, p = 0.5, over = 0)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rsampcalc_+3A_n">N</code></td>
<td>
<p>population universe (e.g. 10000, nrow(df))</p>
</td></tr>
<tr><td><code id="rsampcalc_+3A_e">e</code></td>
<td>
<p>tolerable margin of error (integer or float, e.g. 5, 2.5)</p>
</td></tr>
<tr><td><code id="rsampcalc_+3A_ci">ci</code></td>
<td>
<p>(optional) confidence level for establishing a confidence interval using z-score (defaults to 95; restricted to 80, 85, 90, 95 or 99 as input)</p>
</td></tr>
<tr><td><code id="rsampcalc_+3A_p">p</code></td>
<td>
<p>(optional) anticipated response distribution (defaults to 0.5; takes value between 0 and 1 as input)</p>
</td></tr>
<tr><td><code id="rsampcalc_+3A_over">over</code></td>
<td>
<p>(optional) desired oversampling proportion (defaults to 0; takes value between 0 and 1 as input)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns appropriate sample size (rounded up to nearest integer)
</p>


<h3>References</h3>

<p>[1] Sampling Design &amp; Analysis, S. Lohr, 1999, equation 2.17
</p>


<h3>Examples</h3>

<pre><code class='language-R'>rsampcalc(N=5361, e=3, ci=95, p=0.5, over=0.1)

rsampcalc(nrow(data), 3)
</code></pre>

<hr>
<h2 id='smissing'>Identifies number of missing points by strata between sample and collected data</h2><span id='topic+smissing'></span>

<h3>Description</h3>

<p>Identifies number of missing points by strata between sample and collected data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>smissing(sampdf, colldf, strata, col_name)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="smissing_+3A_sampdf">sampdf</code></td>
<td>
<p>object containing data frame of sample points</p>
</td></tr>
<tr><td><code id="smissing_+3A_colldf">colldf</code></td>
<td>
<p>object containing data frame of collected data</p>
</td></tr>
<tr><td><code id="smissing_+3A_strata">strata</code></td>
<td>
<p>variable in both data frames by which to stratify</p>
</td></tr>
<tr><td><code id="smissing_+3A_col_name">col_name</code></td>
<td>
<p>common variable (i.e. key) in data frames by which to check for missing points</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns table of number of sample points by strata missing from collected data
</p>


<h3>References</h3>

<p>Simplified wrapper around dplyr::anti_join()
</p>


<h3>Examples</h3>

<pre><code class='language-R'>alsample &lt;- rsamp(df=albania, 544)
alreceived &lt;- rsamp(df=alsample, 390)
smissing(sampdf=alsample, colldf=alreceived, strata=qarku, col_name=qvKod)
</code></pre>

<hr>
<h2 id='spro'>Calculate proportion and margin of error (stratified sample)</h2><span id='topic+spro'></span>

<h3>Description</h3>

<p>Calculate proportion and margin of error (stratified sample)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>spro(fulldf, sampdf, strata, col_name, ci = 95, na = "")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="spro_+3A_fulldf">fulldf</code></td>
<td>
<p>object containing original data frame used to draw sample</p>
</td></tr>
<tr><td><code id="spro_+3A_sampdf">sampdf</code></td>
<td>
<p>object containing data frame on which to perform analysis</p>
</td></tr>
<tr><td><code id="spro_+3A_strata">strata</code></td>
<td>
<p>variable in both data frames by which to stratify</p>
</td></tr>
<tr><td><code id="spro_+3A_col_name">col_name</code></td>
<td>
<p>variable in data frame for which you want to calculate proportion and margin of error</p>
</td></tr>
<tr><td><code id="spro_+3A_ci">ci</code></td>
<td>
<p>(optional) confidence level for establishing a confidence interval using z-score (defaults to 95; restricted to 80, 85, 90, 95 or 99 as input)</p>
</td></tr>
<tr><td><code id="spro_+3A_na">na</code></td>
<td>
<p>(optional) value that you want to filter and exclude (defaults to include everything)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns table of responses (n), proportions, margins of error, lower and upper bounds by factor for a given variable in a stratified sample
</p>


<h3>References</h3>

<p>[1] Sampling Design &amp; Analysis, S. Lohr, 1999, 4.6 &amp; 4.7
</p>


<h3>Examples</h3>

<pre><code class='language-R'>spro(fulldf=albania, sampdf=opening, strata=qarku, col_name=openTime, ci=95, na="n/a")
</code></pre>

<hr>
<h2 id='ssamp'>Draws stratifed sample without replacement using proportional allocation</h2><span id='topic+ssamp'></span>

<h3>Description</h3>

<p>Draws stratifed sample without replacement using proportional allocation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ssamp(df, n, strata, over = 1)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ssamp_+3A_df">df</code></td>
<td>
<p>object containing full sampling data frame (e.g. data)</p>
</td></tr>
<tr><td><code id="ssamp_+3A_n">n</code></td>
<td>
<p>sample size (integer) or object containing sample size</p>
</td></tr>
<tr><td><code id="ssamp_+3A_strata">strata</code></td>
<td>
<p>variable in sampling data frame by which to stratify (e.g. region)</p>
</td></tr>
<tr><td><code id="ssamp_+3A_over">over</code></td>
<td>
<p>(optional) desired oversampling proportion (defaults to 0; takes value between 0 and 1 as input)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns stratified sample without replacement
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ssamp(df=albania, n=360, strata=qarku, over=0.1)

size &lt;- rsampcalc(nrow(albania), 3, 95, 0.5)
stratifiedsample &lt;- ssamp(albania, size, qarku)
</code></pre>

<hr>
<h2 id='ssampcalc'>Determines sample size by strata using proportional allocation</h2><span id='topic+ssampcalc'></span>

<h3>Description</h3>

<p>Determines sample size by strata using proportional allocation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ssampcalc(df, n, strata, over = 0)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ssampcalc_+3A_df">df</code></td>
<td>
<p>object containing sampling data frame (e.g. data)</p>
</td></tr>
<tr><td><code id="ssampcalc_+3A_n">n</code></td>
<td>
<p>sample size (integer) or object containing sample size</p>
</td></tr>
<tr><td><code id="ssampcalc_+3A_strata">strata</code></td>
<td>
<p>variable in sampling data frame by which to stratify (e.g. region)</p>
</td></tr>
<tr><td><code id="ssampcalc_+3A_over">over</code></td>
<td>
<p>(optional) desired oversampling proportion (defaults to 0; takes value between 0 and 1 as input)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns proportional sample size per strata (rounded up to nearest integer)
</p>


<h3>References</h3>

<p>[1] Sampling Design &amp; Analysis, S. Lohr, 1999, 4.4
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ssampcalc(df=albania, n=544, strata=qarku, over=0.05)

size &lt;- rsampcalc(nrow(albania), 3, 95, 0.5)
ssampcalc(albania, size, qarku)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package RWgraph</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {RWgraph}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#clients_small_example'><p>Clients' information for a small example</p></a></li>
<li><a href='#info_client'><p>Random walk metrics for each client</p></a></li>
<li><a href='#mean_rw_client'><p>Metrics for multiple random walks</p></a></li>
<li><a href='#profiles'><p>Clients' information</p></a></li>
<li><a href='#rw_client'><p>Random walk simulation</p></a></li>
<li><a href='#transactions'><p>Transactions' information</p></a></li>
<li><a href='#transactions_small_example'><p>Transactions' information for a small example</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Random Walks on Graphs Representing a Transactional Network</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Random walk functions to extract new variables based on clients transactional behaviour. For more details, see Eddin et al. (2021) &lt;<a href="https://doi.org/10.48550/arXiv.2112.07508">doi:10.48550/arXiv.2112.07508</a>&gt; and Oliveira et al. (2021) &lt;<a href="https://doi.org/10.48550/arXiv.2102.05373">doi:10.48550/arXiv.2102.05373</a>&gt;. </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Imports:</td>
<td>igraph</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-09-21 09:50:18 UTC; mafal</td>
</tr>
<tr>
<td>Author:</td>
<td>Mafalda Sá Ferreira [aut, cre],
  Regina Bispo [ctb],
  FCT, I.P. [fnd] (under the scope of the projects UIDB/00297/2020 and
    UIDP/00297/2020 (NovaMath))</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Mafalda Sá Ferreira &lt;msm.ferreira@campus.fct.unl.pt&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-09-21 18:30:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='clients_small_example'>Clients' information for a small example</h2><span id='topic+clients_small_example'></span>

<h3>Description</h3>

<p>A dataset containing information about 20 clients of a certain bank.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(clients_small_example)
</code></pre>


<h3>Format</h3>

<p>A data frame with 20 rows and 9 variables
</p>


<h3>Details</h3>


<ul>
<li><p> age, numeric. Age of the client in years.
</p>
</li>
<li><p> antiquity_age, numeric. Age of the account in years.
</p>
</li>
<li><p> gender, boolean. Gender of the client.
</p>
</li>
<li><p> occupation, numeric. Occupation of the client.
</p>
</li>
<li><p> nationality, character. Country of birth of the client (labelled in ISO-CODE 2).
</p>
</li>
<li><p> residence, character. Country of residence of the client (labelled in ISO-CODE 2).
</p>
</li>
<li><p> pep_flag, boolean. Indicator whether the client is involved in political activities (1) or not (0).
</p>
</li>
<li><p> sar_flag, boolean. Indicator whether the client was involved in a reported transaction (1) or not (0).
</p>
</li>
<li><p> customer_id, character. ID of the client's account.
</p>
</li></ul>


<hr>
<h2 id='info_client'>Random walk metrics for each client</h2><span id='topic+info_client'></span>

<h3>Description</h3>

<p>Computes the metrics of the generated random walks for every client in the dataframe using the function 'mean_rw_client'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>info_client(g, data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="info_client_+3A_g">g</code></td>
<td>
<p>The input graph. Transactional graph containing the amount (in monetary unit) as the attribute of each edge. The vertices must be the clients IDs.</p>
</td></tr>
<tr><td><code id="info_client_+3A_data">data</code></td>
<td>
<p>Dataframe with information of the clients. It should include a column with the clients IDs named &quot;customer_id&quot; and the alert label named &quot;sar_flag&quot; that must be a boolean variable.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe with the clients IDs and the computed metrics (minimum, mean and maximum for both the number of steps and total transactioned amount) for the random walks starting in each client.
</p>


<h3>References</h3>

<p>Eddin, A. N., Bono, J., Aparício, D., Polido, D., Ascensao, J. T., Bizarro, P., and Ribeiro, P. (2021). Anti-money laundering alert optimization using machine learning with graphs. arXiv preprint arXiv:2112.07508.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>g &lt;- igraph::graph_from_data_frame(d = transactions_small_example[, 1:3], directed = TRUE)
info_client(g, data = clients_small_example)

</code></pre>

<hr>
<h2 id='mean_rw_client'>Metrics for multiple random walks</h2><span id='topic+mean_rw_client'></span>

<h3>Description</h3>

<p>Computes metrics for 50 generated random walks using the function 'rw_client'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mean_rw_client(v, g, data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mean_rw_client_+3A_v">v</code></td>
<td>
<p>The initial vertex of the input graph.</p>
</td></tr>
<tr><td><code id="mean_rw_client_+3A_g">g</code></td>
<td>
<p>The input graph. It should be a transactional graph with the amount as the attribute of each edge. The vertices must be the clients IDs.</p>
</td></tr>
<tr><td><code id="mean_rw_client_+3A_data">data</code></td>
<td>
<p>Dataframe with information of the clients. It should include a column with the clients IDs named &quot;customer_id&quot; and the alert label named &quot;sar_flag&quot; that must be a boolean variable.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector with the minimum, mean and maximum for both the number of steps and total transactioned amount in the random walks calculated.
</p>


<h3>References</h3>

<p>Eddin, A. N., Bono, J., Aparício, D., Polido, D., Ascensao, J. T., Bizarro, P., and Ribeiro, P. (2021). Anti-money laundering alert optimization using machine learning with graphs. arXiv preprint arXiv:2112.07508.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>g &lt;- igraph::graph_from_data_frame(d = transactions_small_example[, 1:3], directed = TRUE)
v &lt;- transactions_small_example[1, 1]
mean_rw_client(v, g, data = clients_small_example)

</code></pre>

<hr>
<h2 id='profiles'>Clients' information</h2><span id='topic+profiles'></span>

<h3>Description</h3>

<p>A dataset containing information about 3973 clients of a certain bank.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(profiles)
</code></pre>


<h3>Format</h3>

<p>A data frame with 3973 rows and 9 variables
</p>


<h3>Details</h3>


<ul>
<li><p> age, numeric. Age of the client in years.
</p>
</li>
<li><p> antiquity_age, numeric. Age of the account in years.
</p>
</li>
<li><p> gender, boolean. Gender of the client.
</p>
</li>
<li><p> occupation, numeric. Occupation of the client.
</p>
</li>
<li><p> nationality, character. Country of birth of the client (labelled in ISO-CODE 2).
</p>
</li>
<li><p> residence, character. Country of residence of the client (labelled in ISO-CODE 2).
</p>
</li>
<li><p> pep_flag, boolean. Indicator whether the client is involved in political activities (1) or not (0).
</p>
</li>
<li><p> sar_flag, boolean. Indicator whether the client was involved in a reported transaction (1) or not (0).
</p>
</li>
<li><p> customer_id, character. ID of the client's account.
</p>
</li></ul>


<hr>
<h2 id='rw_client'>Random walk simulation</h2><span id='topic+rw_client'></span>

<h3>Description</h3>

<p>Computes a random walk path for a given client.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rw_client(v, g, data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rw_client_+3A_v">v</code></td>
<td>
<p>The initial vertex of the input graph.</p>
</td></tr>
<tr><td><code id="rw_client_+3A_g">g</code></td>
<td>
<p>The input graph. It should be a transactional graph with the amount as the attribute of each edge. The vertices must be the clients IDs.</p>
</td></tr>
<tr><td><code id="rw_client_+3A_data">data</code></td>
<td>
<p>Dataframe with information of the clients. It should include a column with the clients IDs named &quot;customer_id&quot; and the alert label named &quot;sar_flag&quot; that must be a boolean variable.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector with the number of steps taken in the random walk and the total transactioned amount in it.
</p>


<h3>References</h3>

<p>Eddin, A. N., Bono, J., Aparício, D., Polido, D., Ascensao, J. T., Bizarro, P., and Ribeiro, P. (2021). Anti-money laundering alert optimization using machine learning with graphs. arXiv preprint arXiv:2112.07508.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>g &lt;- igraph::graph_from_data_frame(d = transactions_small_example[, 1:3], directed = TRUE)
v &lt;- transactions_small_example[1, 1]
rw_client(v, g, data = clients_small_example)
</code></pre>

<hr>
<h2 id='transactions'>Transactions' information</h2><span id='topic+transactions'></span>

<h3>Description</h3>

<p>A dataset containing information about 15379 transactions of a certain bank.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(transactions)
</code></pre>


<h3>Format</h3>

<p>A data frame with 15379 rows and 5 variables
</p>


<h3>Details</h3>


<ul>
<li><p> nameOrig, character. ID of the client that initiated the transaction.
</p>
</li>
<li><p> nameDest, character. ID of the client that received the transaction.
</p>
</li>
<li><p> amount, numeric. Amount of money involved in the transaction in euros (€).
</p>
</li>
<li><p> isFraud, boolean. Indicator whether the transaction was reported (1) or not (0).
</p>
</li>
<li><p> transactionDate, character. Date of the transaction.
</p>
</li></ul>


<hr>
<h2 id='transactions_small_example'>Transactions' information for a small example</h2><span id='topic+transactions_small_example'></span>

<h3>Description</h3>

<p>A dataset containing information about 10 transactions of a certain bank.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(transactions_small_example)
</code></pre>


<h3>Format</h3>

<p>A data frame with 10 rows and 5 variables
</p>


<h3>Details</h3>


<ul>
<li><p> nameOrig, character. ID of the client that initiated the transaction.
</p>
</li>
<li><p> nameDest, character. ID of the client that received the transaction.
</p>
</li>
<li><p> amount, numeric. Amount of money involved in the transaction in euros (€).
</p>
</li>
<li><p> isFraud, boolean. Indicator whether the transaction was reported (1) or not (0).
</p>
</li>
<li><p> transactionDate, character. Date of the transaction.
</p>
</li></ul>


</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

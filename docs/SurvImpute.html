<!DOCTYPE html><html lang="en"><head><title>Help for package SurvImpute</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {SurvImpute}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#generate.compt'><p>Simulate competing risks endpoints data where censoring depends on missing covariates.</p></a></li>
<li><a href='#generate.surv'><p>Simulate survival endpoints data where censoring depends on missing covariates.</p></a></li>
<li><a href='#new.smcfcs.compt'><p>Multiple imputation method for missing covariates in competing risks endpoint.</p></a></li>
<li><a href='#new.smcfcs.surv'><p>Multiple imputation method for missing covariates in survival endpoint.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Multiple Imputation for Missing Covariates in Time-to-Event Data</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Qinghua Lian &lt;qlian@mcw.edu&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Generates multiple imputed datasets from a substantive model compatible fully conditional specification model for time-to-event data. Our method assumes that the censoring process also depends on the covariates with missing values. Details will be available in an upcoming publication.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>survival, VGAM, MASS</td>
</tr>
<tr>
<td>Suggests:</td>
<td>mitools</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-01-31 05:45:42 UTC; qinghua</td>
</tr>
<tr>
<td>Author:</td>
<td>Qinghua Lian [aut, cre, cph],
  Soyoung Kim [aut],
  Michael J. Martens [aut],
  Kwang Woo Ahn [aut]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-01-31 15:40:05 UTC</td>
</tr>
</table>
<hr>
<h2 id='generate.compt'>Simulate competing risks endpoints data where censoring depends on missing covariates.</h2><span id='topic+generate.compt'></span>

<h3>Description</h3>

<p>We are assuming three covariates, two continuous and one binary,
where we assume the first continous and the binary covariates have missing values, and the second continuous covariates is fully observed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>generate.compt(n, beta1, beta2, phi, gamma, seed)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="generate.compt_+3A_n">n</code></td>
<td>
<p>Sample Size.</p>
</td></tr>
<tr><td><code id="generate.compt_+3A_beta1">beta1</code></td>
<td>
<p>Regression Coefficients for the event of interest process (length of 3)</p>
</td></tr>
<tr><td><code id="generate.compt_+3A_beta2">beta2</code></td>
<td>
<p>Regression Coefficients for the event of competing risk process (length of 3).</p>
</td></tr>
<tr><td><code id="generate.compt_+3A_phi">phi</code></td>
<td>
<p>Regression Coefficients for the censoring process (length of 3).</p>
</td></tr>
<tr><td><code id="generate.compt_+3A_gamma">gamma</code></td>
<td>
<p>Regression Coefficients for the missingness (length of 3).</p>
</td></tr>
<tr><td><code id="generate.compt_+3A_seed">seed</code></td>
<td>
<p>A random seed for data generation.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with missing values.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Simulate a data set with approximately 45% censoring, 35% cause 1,
# and 20% causes 2, and half of the subjects with at least one missing covariates.
generate.compt(n = 100, beta1 = c(1,1,-1), beta2 = c(2, 2, -2),
phi= c(-1,-1,-0.5), gamma = c(1,1,1,-1), seed = 112358)
</code></pre>

<hr>
<h2 id='generate.surv'>Simulate survival endpoints data where censoring depends on missing covariates.</h2><span id='topic+generate.surv'></span>

<h3>Description</h3>

<p>We are assuming three covariates, two continuous and one binary,
where we assume the first continous and the binary covariates have missing values, and the second continuous covariates is fully observed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>generate.surv(n, beta, phi, gamma, seed)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="generate.surv_+3A_n">n</code></td>
<td>
<p>Sample Size.</p>
</td></tr>
<tr><td><code id="generate.surv_+3A_beta">beta</code></td>
<td>
<p>Regression Coefficients for the event process (length of 3).</p>
</td></tr>
<tr><td><code id="generate.surv_+3A_phi">phi</code></td>
<td>
<p>Regression Coefficients for the censoring process (length of 3).</p>
</td></tr>
<tr><td><code id="generate.surv_+3A_gamma">gamma</code></td>
<td>
<p>Regression Coefficients for the missingness (length of 3).</p>
</td></tr>
<tr><td><code id="generate.surv_+3A_seed">seed</code></td>
<td>
<p>A random seed for data generation.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with missing values. For the <code>delta</code> column, 0 = censored, and 1 = event.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Simulate a data set with approximately 50% censoring
# and 50% of the subjects with at least one missing covariates.
generate.surv(n = 100, beta = c(1,1,-1), phi= c(1,-1,-0.5), gamma = c(3,2,-1), seed = 112358)
</code></pre>

<hr>
<h2 id='new.smcfcs.compt'>Multiple imputation method for missing covariates in competing risks endpoint.</h2><span id='topic+new.smcfcs.compt'></span>

<h3>Description</h3>

<p>Generates multiple imputed datasets from a substantive model compatible fully conditional
specification model. This method incorporates the cause-specific hazards regression model into the imputation stage, and
assumes that the censoring process also depends on the covariates with missing values. Without loss of generality, we assumed
there is only one competing event. Our method is an extension of Bartlett et. al. (2015) and Bartlett and Taylor (2016).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new.smcfcs.compt(data, smformula, method, m = 10, rjlimit = 5000)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="new.smcfcs.compt_+3A_data">data</code></td>
<td>
<p>The input data with missing values. Note: all missing values should be coded as <code>"NA"</code>, all binary covariates should be
coded as 0/1, and all categorical covariates with more than two categories should have a class of <code>"factor"</code>.</p>
</td></tr>
<tr><td><code id="new.smcfcs.compt_+3A_smformula">smformula</code></td>
<td>
<p>The substantive model formula. For competing risks data, this should be a list of two Cox models for both the event of interest and the competing event (see example).</p>
</td></tr>
<tr><td><code id="new.smcfcs.compt_+3A_method">method</code></td>
<td>
<p>A vector of strings for each covariate specifying the the type of regression model to impute them. The length of this vector should match the number of columns in the
input dataset, and also match the position of each column (Including the outcomes).  If a covariate is fully observed, the value should be blank (&quot;&quot;). Other possible options are
<code>"norm"</code>(linear regression for continuous covariates), <code>"lm"</code>(logistic regression for binary covariates), and <code>"mlogit"</code>(multinomial logistic regression
for categorical covariates).</p>
</td></tr>
<tr><td><code id="new.smcfcs.compt_+3A_m">m</code></td>
<td>
<p>Number of complete datasets to generate, default is 10.</p>
</td></tr>
<tr><td><code id="new.smcfcs.compt_+3A_rjlimit">rjlimit</code></td>
<td>
<p>Maximum number of rejection sampling attempts, default is 5000. If there are
subjects who did not get a success sampled value for the missing after reaching the limit,
a warning message will be issued suggesting to increase the limit.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing the imputed datasets.
</p>


<h3>Author(s)</h3>

<p>Qinghua Lian <a href="mailto:qlian@mcw.edu">qlian@mcw.edu</a>
</p>


<h3>References</h3>

<p>Bartlett JW, Taylor JM. (2016) Missing covariates in competing risks analysis. <em>Biostatistics</em>. <strong>17(4)</strong>, 751-63.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Generate data with missing values
compt &lt;- generate.compt(n = 500, beta1 = c(1,1,-1), beta2 = c(2, 2, -2),
phi= c(-1,-1,-0.5), gamma = c(1,1,1,-1), seed = 112358)
# Impute
imputed &lt;- new.smcfcs.compt(data = compt,
smformula = c("Surv(time, delta==1)~X1 +X2+X3", "Surv(time, delta==2)~X1 +X2+X3"),
method = c("","", "norm","logreg",""),m = 10, rjlimit = 10000)
# Fit a Cox regression on each imputed dataset, then produce the final estimates using Rubin's rule.
require(mitools)
library(survival)
imputed.fit &lt;- with(imputationList(imputed), expr = coxph(Surv(time, delta==1) ~ X1+X2+X3))
summary(MIcombine(imputed.fit))
#' @author Qinghua Lian \email{qlian@mcw.edu}
</code></pre>

<hr>
<h2 id='new.smcfcs.surv'>Multiple imputation method for missing covariates in survival endpoint.</h2><span id='topic+new.smcfcs.surv'></span>

<h3>Description</h3>

<p>Generates multiple imputed datasets from a substantive model compatible fully conditional
specification model. This method incorporates the cause-specific hazards regression model into the imputation stage, and
assumes that the censoring process also depends on the covariates with missing values. Without loss of generality, we assumed
there is only one competing event. Our method is an extension of Bartlett et. al. (2015) and Bartlett and Taylor (2016).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new.smcfcs.surv(data, smformula, method, m = 10, rjlimit = 5000)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="new.smcfcs.surv_+3A_data">data</code></td>
<td>
<p>The input data with missing values. Note: all missing values should be coded as <code>"NA"</code>, all binary covariates should be
coded as 0/1, and all categorical covariates with more than two categories should have a class of <code>factor</code>.</p>
</td></tr>
<tr><td><code id="new.smcfcs.surv_+3A_smformula">smformula</code></td>
<td>
<p>The substantive model formula. For survival data, this should be a formula of <code>"Surv(time, delta) ~ Covariates list"</code> type.  (see example).</p>
</td></tr>
<tr><td><code id="new.smcfcs.surv_+3A_method">method</code></td>
<td>
<p>A vector of strings for each covariate specifying the the type of regression model to impute them. The length of this vector should match the number of columns in the input dataset, and also match the position of each column (Including the outcomes).
If a covariate is fully observed, the value should be blank (&quot;&quot;). Other possible options are <code>"norm"</code>(linear regression for continuous covariates), <code>"lm"</code>(logistic regression for binary covariates),
and <code>"mlogit"</code>(multinomial logistic regression for categorical covariates).</p>
</td></tr>
<tr><td><code id="new.smcfcs.surv_+3A_m">m</code></td>
<td>
<p>Number of complete datasets to generate, default is 10.</p>
</td></tr>
<tr><td><code id="new.smcfcs.surv_+3A_rjlimit">rjlimit</code></td>
<td>
<p>Maximum number of rejection sampling attempts, default is 5000. If there are
subjects who did not get a success sampled value for the missing after reaching the limit,
a warning message will be issued suggesting to increase the limit.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing the imputed datasets.
</p>


<h3>References</h3>

<p>Bartlett JW, Seaman SR, White IR, Carpenter JR. (2015). Multiple imputation of covariates by fully conditional specification: accommodating the substantive model. <em>Statistical Methods in Medical Research</em>. <strong>24(4)</strong>, 462-487.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Generate data with missing values
cox &lt;- generate.surv(n = 500, beta = c(1,1,-1), phi= c(1,-1,-0.5), gamma = c(3,2,-1), seed = 112358)
# Impute
imputed &lt;- new.smcfcs.surv(data = cox, smformula = "Surv(time, delta)~X1 +X2+X3",
method = c("","", "norm","logreg",""), m = 10, rjlimit = 10000)
# Fit a Cox regression on each imputed dataset, then produce the final estimates using Rubin's rule.
require(mitools)
library(survival)
imputed.fit &lt;- with(imputationList(imputed), expr = coxph(Surv(time, delta) ~ X1+X2+X3))
summary(MIcombine(imputed.fit))
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

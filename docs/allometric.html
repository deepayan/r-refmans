<!DOCTYPE html><html><head><title>Help for package allometric</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {allometric}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#allometric-package'><p>allometric: Structured Allometric Models for Trees</p></a></li>
<li><a href='#%&gt;%'><p>Pipe operator</p></a></li>
<li><a href='#%in%,character,Taxa-method'><p>Check if a character is in a Taxa</p></a></li>
<li><a href='#%in%,character,Taxon-method'><p>Check if a character is in a Taxon</p></a></li>
<li><a href='#%in%,Taxa,character-method'><p>Check if a Taxa contains a character</p></a></li>
<li><a href='#%in%,Taxa,Taxon-method'><p>Check if a Taxa is in Taxon</p></a></li>
<li><a href='#%in%,Taxon,character-method'><p>Check if a Taxon contains a character</p></a></li>
<li><a href='#%in%,Taxon,Taxa-method'><p>Check if a Taxon is in a Taxa</p></a></li>
<li><a href='#==,FixedEffectsModel,FixedEffectsModel-method'><p>Check equivalence of fixed effects models</p></a></li>
<li><a href='#==,MixedEffectsModel,MixedEffectsModel-method'><p>Check equivalence of mixed effects models</p></a></li>
<li><a href='#==,Taxon,Taxon-method'><p>Check equivalence of two <code>Taxon</code> objects</p></a></li>
<li><a href='#add_model'><p>Add a model to a publication</p></a></li>
<li><a href='#add_model,Publication,FixedEffectsModel-method'><p>Add a model to a publication</p></a></li>
<li><a href='#add_model,Publication,MixedEffectsModel-method'><p>Add a model to a publication</p></a></li>
<li><a href='#add_set'><p>Add a set of models to a publication</p></a></li>
<li><a href='#aggregate_pub_models'><p>Aggregates the set of models in a publication into a model_tbl</p></a></li>
<li><a href='#aggregate_taxa'><p>Aggregate family, genus, and species columns of 'tbl_df&ldquo; into taxa data</p>
structure</a></li>
<li><a href='#AllometricModel'><p>Base class for allometric models</p></a></li>
<li><a href='#brackett_acer'><p>Brackett Acer Volume Model</p></a></li>
<li><a href='#brackett_rubra'><p>An object of class <code>FixedEffectsModel</code></p></a></li>
<li><a href='#check_args_in_predict_fn'><p>Check if the arguments of the predict_fn are all in the predict_fn body.</p></a></li>
<li><a href='#check_citation_key'><p>Checks if a citation contains a key</p></a></li>
<li><a href='#check_country_in_iso'><p>Checks if a country code is defined in ISO_3166_1$Alpha_2</p></a></li>
<li><a href='#check_covariates_equal'><p>Check for equivalence of covariate slots in two models</p></a></li>
<li><a href='#check_covts_in_args'><p>Check if all covariates in covariates are used as arguments in</p>
predict_fn</a></li>
<li><a href='#check_descriptor_set'><p>Check validity of descriptors</p></a></li>
<li><a href='#check_descriptor_validity'><p>Checks that descriptors are valid</p></a></li>
<li><a href='#check_ids_equal'><p>Check for equivalence of ID slots in two models</p></a></li>
<li><a href='#check_list_equal'><p>Check for equivalence of two lists</p></a></li>
<li><a href='#check_models_installed'><p>Check if allometric models are currently installed</p></a></li>
<li><a href='#check_parameters_in_mixed_fns'><p>Check if all parameter_names are in predict_fn and predict_ranef</p></a></li>
<li><a href='#check_parameters_in_predict_fn'><p>Check if all parameter_names are in predict_fn</p></a></li>
<li><a href='#check_parametric_model'><p>Check validity of parametric model</p></a></li>
<li><a href='#check_predict_fn_equal'><p>Check for equivalence of two rediction functions</p></a></li>
<li><a href='#check_region_in_iso'><p>Checks if a region code is defined in the ISO_3166_2 table</p></a></li>
<li><a href='#check_res_def_equal'><p>Check for equivalence of the response definition</p></a></li>
<li><a href='#check_response_equal'><p>Check for equivalence of response slots in two models</p></a></li>
<li><a href='#check_taxa_unique'><p>Determines if a taxa is composed of unique taxon objects</p></a></li>
<li><a href='#check_taxon_hierarchy'><p>Determines if a taxon has a valid hierarchy</p></a></li>
<li><a href='#check_valid_search_str'><p>Check if the search string is valid</p></a></li>
<li><a href='#create_model_row'><p>Creates a dataframe row from model information</p></a></li>
<li><a href='#delete_models'><p>Delete the local models directory.</p></a></li>
<li><a href='#descriptors'><p>Get the descriptors of a model</p></a></li>
<li><a href='#descriptors_to_S4'><p>Convert the descriptors JSON data to a named list of descriptors</p></a></li>
<li><a href='#descriptors&lt;-'><p>Set the descriptors of a model.</p></a></li>
<li><a href='#download_models'><p>Download allometric models</p></a></li>
<li><a href='#fia_trees'><p>FIA Trees Data</p></a></li>
<li><a href='#FixedEffectsModel'><p>Create a fixed effects model</p></a></li>
<li><a href='#FixedEffectsSet'><p>Create a set of fixed effects models</p></a></li>
<li><a href='#get_component_defs'><p>Load the component definitions</p></a></li>
<li><a href='#get_measure_defs'><p>Load the measure definitions</p></a></li>
<li><a href='#get_model_hash'><p>Hashes a function string</p></a></li>
<li><a href='#get_model_type'><p>Gets the model type for a response name.</p></a></li>
<li><a href='#get_pub_file_specs'><p>Retrieve all publication file names in the publication subdirectories</p></a></li>
<li><a href='#get_variable_def'><p>Get the definition of a variable in the variable naming system.</p></a></li>
<li><a href='#install_models'><p>Install allometric models from the models repository</p></a></li>
<li><a href='#load_models'><p>Load a locally installed table of allometric models</p></a></li>
<li><a href='#load_parameter_frame'><p>Load a parameter frame from the models/parameters directory</p></a></li>
<li><a href='#map_publications'><p>Iteratively process publication files</p></a></li>
<li><a href='#merge.model_tbl'><p>Merge a <code>model_tbl</code> with another data frame.</p></a></li>
<li><a href='#MixedEffectsModel'><p>Create a mixed effects model</p></a></li>
<li><a href='#MixedEffectsSet'><p>Create a set of mixed effects models</p></a></li>
<li><a href='#model_call'><p>Get the function call for a model</p></a></li>
<li><a href='#model_call,FixedEffectsModel-method'><p>Get the function call for a model</p></a></li>
<li><a href='#model_call,MixedEffectsModel-method'><p>Get the function call for a model</p></a></li>
<li><a href='#model_call,ParametricModel-method'><p>Get the function call for a model</p></a></li>
<li><a href='#model_call,ParametricSet-method'><p>Get the function call for a model</p></a></li>
<li><a href='#ModelSet'><p>Base class for model sets</p></a></li>
<li><a href='#ParametricModel'><p>Base class for all parametric models.</p></a></li>
<li><a href='#ParametricSet'><p>Base class for all parametric sets.</p></a></li>
<li><a href='#predict'><p>Predict with an allometric model</p></a></li>
<li><a href='#predict_allo'><p>Predict allometric attributes using a column of allometric models</p></a></li>
<li><a href='#Publication'><p>Create a publication that contains allometric models</p></a></li>
<li><a href='#select_model'><p>Select an allometric model</p></a></li>
<li><a href='#select_model.model_tbl'><p>Select a model from <code>allometric_models</code></p></a></li>
<li><a href='#Taxa'><p>Group taxons together</p></a></li>
<li><a href='#Taxon'><p>Create a taxonomic hierarchy</p></a></li>
<li><a href='#toJSON'><p>Convert a model or publication to a JSON representation</p></a></li>
<li><a href='#toJSON,FixedEffectsModel-method'><p>Convert a fixed effects model to a JSON representation</p></a></li>
<li><a href='#unnest_models'><p>Unnest columns of a dataframe</p></a></li>
<li><a href='#unnest_models.model_tbl'><p>Unnest the columns of <code>model_tbl</code></p></a></li>
<li><a href='#unnest_taxa'><p>Unnest the taxa column of a <code>model_tbl</code></p></a></li>
<li><a href='#unnest_taxa.model_tbl'><p>Unnest the taxa column of a <code>model_tbl</code></p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Structured Allometric Models for Trees</td>
</tr>
<tr>
<td>Version:</td>
<td>2.1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Access allometric models used in forest resource analysis, such as
    volume equations, taper equations, biomass models, among many others. Users
    are able to efficiently find and select allometric models suitable for their
    project area and use them in analysis. Additionally, 'allometric' provides a
    structured framework for adding new models to an open-source models
    repository.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr, methods, rlang, stringr, tibble, units, RefManageR,
magrittr, purrr, ISOcodes, tidyr, progress, vctrs, openssl,
curl, jsonlite</td>
</tr>
<tr>
<td>Collate:</td>
<td>'all_generics.R' 'validity_checks.R' 'AllometricModel.R'
'ModelSet.R' 'ParametricSet.R' 'ParametricModel.R'
'FixedEffectsModel.R' 'FixedEffectsSet.R' 'MixedEffectsModel.R'
'MixedEffectsSet.R' 'Publication.R' 'Taxa.R' 'Taxon.R'
'allometric.R' 'boilerplate.R' 'data.R' 'eq.R' 'fromJSON.R'
'install.R' 'load.R' 'model_tbl.R' 'publication_processing.R'
'summary.R' 'toJSON.R' 'util.R' 'utils-pipe.R'
'variable_defs.R' 'zzz.R'</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0), knitr, rmarkdown</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/allometric/allometric/issues">https://github.com/allometric/allometric/issues</a></td>
</tr>
<tr>
<td>Contact:</td>
<td>bfrank70@gmail.com</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-11-07 16:50:29 UTC; bfran</td>
</tr>
<tr>
<td>Author:</td>
<td>Bryce Frank <a href="https://orcid.org/0000-0003-2980-6860"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre],
  Francisco Mauro <a href="https://orcid.org/0000-0002-7832-6268"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Elijah Allensworth [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Bryce Frank &lt;bfrank70@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-11-07 17:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='allometric-package'>allometric: Structured Allometric Models for Trees</h2><span id='topic+allometric'></span><span id='topic+allometric-package'></span>

<h3>Description</h3>

<p>To learn more about allometric, refer to the
<a href="https://allometric.org">documentation website</a>.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Bryce Frank <a href="mailto:bfrank70@gmail.com">bfrank70@gmail.com</a> (<a href="https://orcid.org/0000-0003-2980-6860">ORCID</a>)
</p>
<p>Authors:
</p>

<ul>
<li><p> Francisco Mauro <a href="mailto:francisco.mauro@uva.es">francisco.mauro@uva.es</a> (<a href="https://orcid.org/0000-0002-7832-6268">ORCID</a>)
</p>
</li>
<li><p> Elijah Allensworth <a href="mailto:elijah.allensworth@protonmail.com">elijah.allensworth@protonmail.com</a>
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li><p> Report bugs at <a href="https://github.com/allometric/allometric/issues">https://github.com/allometric/allometric/issues</a>
</p>
</li></ul>


<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>See <code>magrittr::<a href="magrittr.html#topic+pipe">%&gt;%</a></code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_lhs">lhs</code></td>
<td>
<p>A value or the magrittr placeholder.</p>
</td></tr>
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_rhs">rhs</code></td>
<td>
<p>A function call using the magrittr semantics.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The result of calling <code>rhs(lhs)</code>.
</p>

<hr>
<h2 id='+25in+25+2Ccharacter+2CTaxa-method'>Check if a character is in a Taxa</h2><span id='topic++25in+25+2Ccharacter+2CTaxa-method'></span>

<h3>Description</h3>

<p>Check if a character is in a Taxa
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'character,Taxa'
x %in% table
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B25in+2B25+2B2Ccharacter+2B2CTaxa-method_+3A_x">x</code></td>
<td>
<p>A character vector</p>
</td></tr>
<tr><td><code id="+2B25in+2B25+2B2Ccharacter+2B2CTaxa-method_+3A_table">table</code></td>
<td>
<p>A <code>Taxa</code> object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>TRUE or FALSE indicating if the character appears in the Taxa fields
</p>

<hr>
<h2 id='+25in+25+2Ccharacter+2CTaxon-method'>Check if a character is in a Taxon</h2><span id='topic++25in+25+2Ccharacter+2CTaxon-method'></span>

<h3>Description</h3>

<p>Check if a character is in a Taxon
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'character,Taxon'
x %in% table
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B25in+2B25+2B2Ccharacter+2B2CTaxon-method_+3A_x">x</code></td>
<td>
<p>A character vector</p>
</td></tr>
<tr><td><code id="+2B25in+2B25+2B2Ccharacter+2B2CTaxon-method_+3A_table">table</code></td>
<td>
<p>A <code>Taxon</code> object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>TRUE or FALSE indicating if the character appears in the Taxon fields
</p>

<hr>
<h2 id='+25in+25+2CTaxa+2Ccharacter-method'>Check if a Taxa contains a character</h2><span id='topic++25in+25+2CTaxa+2Ccharacter-method'></span>

<h3>Description</h3>

<p>Check if a Taxa contains a character
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'Taxa,character'
x %in% table
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B25in+2B25+2B2CTaxa+2B2Ccharacter-method_+3A_x">x</code></td>
<td>
<p>A <code>Taxa</code> object</p>
</td></tr>
<tr><td><code id="+2B25in+2B25+2B2CTaxa+2B2Ccharacter-method_+3A_table">table</code></td>
<td>
<p>A character vector</p>
</td></tr>
</table>


<h3>Value</h3>

<p>TRUE or FALSE indicating if any of the Taxa fields appear in the
character.
</p>

<hr>
<h2 id='+25in+25+2CTaxa+2CTaxon-method'>Check if a Taxa is in Taxon</h2><span id='topic++25in+25+2CTaxa+2CTaxon-method'></span>

<h3>Description</h3>

<p>Check if a Taxa is in Taxon
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'Taxa,Taxon'
x %in% table
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B25in+2B25+2B2CTaxa+2B2CTaxon-method_+3A_x">x</code></td>
<td>
<p>A <code>Taxa</code> object</p>
</td></tr>
<tr><td><code id="+2B25in+2B25+2B2CTaxa+2B2CTaxon-method_+3A_table">table</code></td>
<td>
<p>A <code>Taxon</code> object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical vector indicating which elements of <code>Taxa</code> are equal to
the <code>Taxon</code>
</p>

<hr>
<h2 id='+25in+25+2CTaxon+2Ccharacter-method'>Check if a Taxon contains a character</h2><span id='topic++25in+25+2CTaxon+2Ccharacter-method'></span>

<h3>Description</h3>

<p>Check if a Taxon contains a character
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'Taxon,character'
x %in% table
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B25in+2B25+2B2CTaxon+2B2Ccharacter-method_+3A_x">x</code></td>
<td>
<p>A <code>Taxon</code> object</p>
</td></tr>
<tr><td><code id="+2B25in+2B25+2B2CTaxon+2B2Ccharacter-method_+3A_table">table</code></td>
<td>
<p>A character vector</p>
</td></tr>
</table>


<h3>Value</h3>

<p>TRUE or FALSE indicating if any of the Taxa fields appear in the
character.
</p>

<hr>
<h2 id='+25in+25+2CTaxon+2CTaxa-method'>Check if a Taxon is in a Taxa</h2><span id='topic++25in+25+2CTaxon+2CTaxa-method'></span>

<h3>Description</h3>

<p>Check if a Taxon is in a Taxa
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'Taxon,Taxa'
x %in% table
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B25in+2B25+2B2CTaxon+2B2CTaxa-method_+3A_x">x</code></td>
<td>
<p>A <code>Taxon</code> object</p>
</td></tr>
<tr><td><code id="+2B25in+2B25+2B2CTaxon+2B2CTaxa-method_+3A_table">table</code></td>
<td>
<p>A <code>Taxa</code> object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>TRUE or FALSE indicating if the Taxon is in the Taxa
</p>

<hr>
<h2 id='+3D+3D+2CFixedEffectsModel+2CFixedEffectsModel-method'>Check equivalence of fixed effects models</h2><span id='topic++3D+3D+2CFixedEffectsModel+2CFixedEffectsModel-method'></span>

<h3>Description</h3>

<p>Fixed effects models are considered equal if all of the following are true:
</p>

<ul>
<li><p>The model IDs are equal (or not present)
</p>
</li>
<li><p>The response unit names and units are the same
</p>
</li>
<li><p>The covariate names and units are the same and are in the same order
</p>
</li>
<li><p>The specification names and values are the same
</p>
</li>
<li><p>The predict_fn is the same
</p>
</li>
<li><p>The response definitions are the same
</p>
</li>
<li><p>The covariate definitions are the same
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'FixedEffectsModel,FixedEffectsModel'
e1 == e2
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B3D+2B3D+2B2CFixedEffectsModel+2B2CFixedEffectsModel-method_+3A_e1">e1</code></td>
<td>
<p>A <code>FixedEffectsModel</code> object</p>
</td></tr>
<tr><td><code id="+2B3D+2B3D+2B2CFixedEffectsModel+2B2CFixedEffectsModel-method_+3A_e2">e2</code></td>
<td>
<p>A <code>FixedEffectsModel</code> object</p>
</td></tr>
</table>

<hr>
<h2 id='+3D+3D+2CMixedEffectsModel+2CMixedEffectsModel-method'>Check equivalence of mixed effects models</h2><span id='topic++3D+3D+2CMixedEffectsModel+2CMixedEffectsModel-method'></span>

<h3>Description</h3>

<p>Fixed effects models are considered equal if all of the following are true:
</p>

<ul>
<li><p>The model IDs are equal (or not present)
</p>
</li>
<li><p>The response unit names and units are the same
</p>
</li>
<li><p>The covariate names and units are the same and are in the same order
</p>
</li>
<li><p>The specification names and values are the same
</p>
</li>
<li><p>The predict_fn are the same
</p>
</li>
<li><p>The predict_ranef are the same
</p>
</li>
<li><p>The fixed_only slots are the same
</p>
</li>
<li><p>The response definitions are the same
</p>
</li>
<li><p>The covariate definitions are the same
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'MixedEffectsModel,MixedEffectsModel'
e1 == e2
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B3D+2B3D+2B2CMixedEffectsModel+2B2CMixedEffectsModel-method_+3A_e1">e1</code></td>
<td>
<p>A <code>MixedEffectsModel</code> object</p>
</td></tr>
<tr><td><code id="+2B3D+2B3D+2B2CMixedEffectsModel+2B2CMixedEffectsModel-method_+3A_e2">e2</code></td>
<td>
<p>A <code>MixedEffectsModel</code> object</p>
</td></tr>
</table>

<hr>
<h2 id='+3D+3D+2CTaxon+2CTaxon-method'>Check equivalence of two <code>Taxon</code> objects</h2><span id='topic++3D+3D+2CTaxon+2CTaxon-method'></span>

<h3>Description</h3>

<p>Two Taxons are equal if all values are the same (including NA values)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'Taxon,Taxon'
e1 == e2
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B3D+2B3D+2B2CTaxon+2B2CTaxon-method_+3A_e1">e1</code></td>
<td>
<p>A <code>Taxon</code> object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>TRUE or FALSE
</p>

<hr>
<h2 id='add_model'>Add a model to a publication</h2><span id='topic+add_model'></span>

<h3>Description</h3>

<p>This function adds objects of class <code>FixedEffectsModel</code> or
<code>MixedEffectsModel</code> to a publication. Models added in this way are added as
a set containing only one model. This operation is not done in-place.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_model(publication, model)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_model_+3A_publication">publication</code></td>
<td>
<p>The publication for which a set will be added</p>
</td></tr>
<tr><td><code id="add_model_+3A_model">model</code></td>
<td>
<p>The model to add to the publication</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A publication with the added model
</p>

<hr>
<h2 id='add_model+2CPublication+2CFixedEffectsModel-method'>Add a model to a publication</h2><span id='topic+add_model+2CPublication+2CFixedEffectsModel-method'></span>

<h3>Description</h3>

<p>This function adds objects of class <code>FixedEffectsModel</code> or
<code>MixedEffectsModel</code> to a publication. Models added in this way are added as
a set containing only one model. This operation is not done in-place.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'Publication,FixedEffectsModel'
add_model(publication, model)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_model+2B2CPublication+2B2CFixedEffectsModel-method_+3A_publication">publication</code></td>
<td>
<p>The publication for which a set will be added</p>
</td></tr>
<tr><td><code id="add_model+2B2CPublication+2B2CFixedEffectsModel-method_+3A_model">model</code></td>
<td>
<p>The model to add to the publication</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A publication with the added model
</p>

<hr>
<h2 id='add_model+2CPublication+2CMixedEffectsModel-method'>Add a model to a publication</h2><span id='topic+add_model+2CPublication+2CMixedEffectsModel-method'></span>

<h3>Description</h3>

<p>This function adds objects of class <code>FixedEffectsModel</code> or
<code>MixedEffectsModel</code> to a publication. Models added in this way are added as
a set containing only one model. This operation is not done in-place.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'Publication,MixedEffectsModel'
add_model(publication, model)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_model+2B2CPublication+2B2CMixedEffectsModel-method_+3A_publication">publication</code></td>
<td>
<p>The publication for which a set will be added</p>
</td></tr>
<tr><td><code id="add_model+2B2CPublication+2B2CMixedEffectsModel-method_+3A_model">model</code></td>
<td>
<p>The model to add to the publication</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A publication with the added model
</p>

<hr>
<h2 id='add_set'>Add a set of models to a publication</h2><span id='topic+add_set'></span><span id='topic+add_set+2CPublication-method'></span>

<h3>Description</h3>

<p>This function adds objects of class <code>FixedEffectsSet</code> or <code>MixedEffectsSet</code> to
a publication. This operation is not done in-place.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_set(publication, model_set)

## S4 method for signature 'Publication'
add_set(publication, model_set)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_set_+3A_publication">publication</code></td>
<td>
<p>The publication for which a set will be added</p>
</td></tr>
<tr><td><code id="add_set_+3A_model_set">model_set</code></td>
<td>
<p>The set of models to add to the publication</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A publication with the added set
</p>

<hr>
<h2 id='aggregate_pub_models'>Aggregates the set of models in a publication into a model_tbl</h2><span id='topic+aggregate_pub_models'></span>

<h3>Description</h3>

<p>Aggregates the set of models in a publication into a model_tbl
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aggregate_pub_models(pub)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="aggregate_pub_models_+3A_pub">pub</code></td>
<td>
<p>The publication object</p>
</td></tr>
</table>

<hr>
<h2 id='aggregate_taxa'>Aggregate family, genus, and species columns of 'tbl_df&ldquo; into taxa data
structure</h2><span id='topic+aggregate_taxa'></span>

<h3>Description</h3>

<p>This function facilitates aggregating family, genus, and species columns
into the taxa data structure, which is a nested list composed of multiple
&quot;taxons&quot;. A taxon is a list containing family, genus, and species fields.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aggregate_taxa(table, remove_taxa_cols = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="aggregate_taxa_+3A_table">table</code></td>
<td>
<p>The table for which the taxa will be aggregated</p>
</td></tr>
<tr><td><code id="aggregate_taxa_+3A_remove_taxa_cols">remove_taxa_cols</code></td>
<td>
<p>Whether or not to remove the family, genus, and
species columns after aggregation</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with family, genus, and species columns added
</p>

<hr>
<h2 id='AllometricModel'>Base class for allometric models</h2><span id='topic+AllometricModel'></span>

<h3>Description</h3>

<p>This class is primarily used as a parent class for other model
implementations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>AllometricModel(
  response,
  covariates,
  predict_fn,
  descriptors = list(),
  response_definition = NA_character_,
  covariate_definitions = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="AllometricModel_+3A_response">response</code></td>
<td>
<p>A named list containing one element, with a name representing the response
variable and a value representing the units of the response variable
using the <code>units::as_units</code> function.</p>
</td></tr>
<tr><td><code id="AllometricModel_+3A_covariates">covariates</code></td>
<td>
<p>A named list containing the covariate specifications, with names
representing the covariate name and the values representing the units of
the coavariate using the <code>units::as_units</code> function</p>
</td></tr>
<tr><td><code id="AllometricModel_+3A_predict_fn">predict_fn</code></td>
<td>
<p>A function that takes the covariate names as arguments and returns a
prediction of the response variable. This function should be vectorized.</p>
</td></tr>
<tr><td><code id="AllometricModel_+3A_descriptors">descriptors</code></td>
<td>
<p>An optional named list of descriptors that describe the context of the
allometric model</p>
</td></tr>
<tr><td><code id="AllometricModel_+3A_response_definition">response_definition</code></td>
<td>
<p>A string containing an optional custom response definition, which is used
instead of the description given by the variable naming system.</p>
</td></tr>
<tr><td><code id="AllometricModel_+3A_covariate_definitions">covariate_definitions</code></td>
<td>
<p>An optional named list of custom covariate definitions that will supersede
the definitions given by the variable naming system. The names of the list
must match the covariate names given in <code>covariates</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An instance of an AllometricModel
</p>

<hr>
<h2 id='brackett_acer'>Brackett Acer Volume Model</h2><span id='topic+brackett_acer'></span>

<h3>Description</h3>

<p>An example allometric model that predicts volume for the genus <em>Acer</em>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>brackett_acer
</code></pre>


<h3>Format</h3>

<p>An object of class <code>FixedEffectsModel</code> of length 1.
</p>

<hr>
<h2 id='brackett_rubra'>An object of class <code>FixedEffectsModel</code></h2><span id='topic+brackett_rubra'></span>

<h3>Description</h3>

<p>Brackett Rubra Volume Model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>brackett_rubra
</code></pre>


<h3>Format</h3>

<p>An object of class <code>FixedEffectsModel</code> of length 1.
</p>


<h3>Details</h3>

<p>An example allometric model that predicts volume for <em>Alnus rubra</em>.
</p>

<hr>
<h2 id='check_args_in_predict_fn'>Check if the arguments of the predict_fn are all in the predict_fn body.</h2><span id='topic+check_args_in_predict_fn'></span>

<h3>Description</h3>

<p>Check if the arguments of the predict_fn are all in the predict_fn body.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_args_in_predict_fn(object)
</code></pre>

<hr>
<h2 id='check_citation_key'>Checks if a citation contains a key</h2><span id='topic+check_citation_key'></span>

<h3>Description</h3>

<p>Checks if a citation contains a key
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_citation_key(citation)
</code></pre>

<hr>
<h2 id='check_country_in_iso'>Checks if a country code is defined in ISO_3166_1$Alpha_2</h2><span id='topic+check_country_in_iso'></span>

<h3>Description</h3>

<p>Checks if a country code is defined in ISO_3166_1$Alpha_2
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_country_in_iso(country_codes)
</code></pre>

<hr>
<h2 id='check_covariates_equal'>Check for equivalence of covariate slots in two models</h2><span id='topic+check_covariates_equal'></span>

<h3>Description</h3>

<p>The covariate slots are considered equal if they contain the same number of
covariates, the names match, the units match, and the covariates are in the
same order.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_covariates_equal(mod1, mod2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_covariates_equal_+3A_mod1">mod1</code></td>
<td>
<p>A model object</p>
</td></tr>
<tr><td><code id="check_covariates_equal_+3A_mod2">mod2</code></td>
<td>
<p>A model object</p>
</td></tr>
</table>

<hr>
<h2 id='check_covts_in_args'>Check if all covariates in covariates are used as arguments in
predict_fn</h2><span id='topic+check_covts_in_args'></span>

<h3>Description</h3>

<p>Check if all covariates in covariates are used as arguments in
predict_fn
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_covts_in_args(object)
</code></pre>

<hr>
<h2 id='check_descriptor_set'>Check validity of descriptors</h2><span id='topic+check_descriptor_set'></span>

<h3>Description</h3>

<p>There must not be any duplicate names across the three sets
(pub, set, model). If there is, stop execution with error that names the
duplicated descriptors
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_descriptor_set(descriptor_set)
</code></pre>

<hr>
<h2 id='check_descriptor_validity'>Checks that descriptors are valid</h2><span id='topic+check_descriptor_validity'></span>

<h3>Description</h3>

<p>Checks that descriptors are valid
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_descriptor_validity(descriptors)
</code></pre>

<hr>
<h2 id='check_ids_equal'>Check for equivalence of ID slots in two models</h2><span id='topic+check_ids_equal'></span>

<h3>Description</h3>

<p>Two models are considered to have equal IDs if (1) they both do not have ID
slots, which can occur especially in testing, or (2) both models have ID
slots and the value of the slots are equal. They are not equal otherwise.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_ids_equal(mod1, mod2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_ids_equal_+3A_mod1">mod1</code></td>
<td>
<p>A model object</p>
</td></tr>
<tr><td><code id="check_ids_equal_+3A_mod2">mod2</code></td>
<td>
<p>A model object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>TRUE if equal, FALSE if not
</p>

<hr>
<h2 id='check_list_equal'>Check for equivalence of two lists</h2><span id='topic+check_list_equal'></span>

<h3>Description</h3>

<p>Two lists are considered equal if all values are the same and all names are
the same. Order is not considered.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_list_equal(list1, list2)
</code></pre>

<hr>
<h2 id='check_models_installed'>Check if allometric models are currently installed</h2><span id='topic+check_models_installed'></span>

<h3>Description</h3>

<p>Check if allometric models are currently installed
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_models_installed(verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_models_installed_+3A_verbose">verbose</code></td>
<td>
<p>Print verbose messages if TRUE</p>
</td></tr>
</table>

<hr>
<h2 id='check_parameters_in_mixed_fns'>Check if all parameter_names are in predict_fn and predict_ranef</h2><span id='topic+check_parameters_in_mixed_fns'></span>

<h3>Description</h3>

<p>Check if all parameter_names are in predict_fn and predict_ranef
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_parameters_in_mixed_fns(object)
</code></pre>

<hr>
<h2 id='check_parameters_in_predict_fn'>Check if all parameter_names are in predict_fn</h2><span id='topic+check_parameters_in_predict_fn'></span>

<h3>Description</h3>

<p>Check if all parameter_names are in predict_fn
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_parameters_in_predict_fn(object)
</code></pre>

<hr>
<h2 id='check_parametric_model'>Check validity of parametric model</h2><span id='topic+check_parametric_model'></span>

<h3>Description</h3>

<p>Check validity of parametric model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_parametric_model(object)
</code></pre>

<hr>
<h2 id='check_predict_fn_equal'>Check for equivalence of two rediction functions</h2><span id='topic+check_predict_fn_equal'></span>

<h3>Description</h3>

<p>The prediction functions are considered equal if the arguments and body are
identical using <code>all.equal()</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_predict_fn_equal(predict_fn_1, predict_fn_2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_predict_fn_equal_+3A_predict_fn_1">predict_fn_1</code></td>
<td>
<p>A prediction function to compare to</p>
</td></tr>
</table>

<hr>
<h2 id='check_region_in_iso'>Checks if a region code is defined in the ISO_3166_2 table</h2><span id='topic+check_region_in_iso'></span>

<h3>Description</h3>

<p>Checks if a region code is defined in the ISO_3166_2 table
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_region_in_iso(region_codes)
</code></pre>

<hr>
<h2 id='check_res_def_equal'>Check for equivalence of the response definition</h2><span id='topic+check_res_def_equal'></span>

<h3>Description</h3>

<p>The response definitions are strings or NA. If both are NA, they are
considered equal, otherwise the strings are checked for equivalence.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_res_def_equal(mod1, mod2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_res_def_equal_+3A_mod1">mod1</code></td>
<td>
<p>A model object</p>
</td></tr>
<tr><td><code id="check_res_def_equal_+3A_mod2">mod2</code></td>
<td>
<p>A model object</p>
</td></tr>
</table>

<hr>
<h2 id='check_response_equal'>Check for equivalence of response slots in two models</h2><span id='topic+check_response_equal'></span>

<h3>Description</h3>

<p>The response slots are considered equal if the names match and the units
match. Units are first parsed to strings and then checked for equivalence
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_response_equal(mod1, mod2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_response_equal_+3A_mod1">mod1</code></td>
<td>
<p>A model object</p>
</td></tr>
<tr><td><code id="check_response_equal_+3A_mod2">mod2</code></td>
<td>
<p>A model object</p>
</td></tr>
</table>

<hr>
<h2 id='check_taxa_unique'>Determines if a taxa is composed of unique taxon objects</h2><span id='topic+check_taxa_unique'></span>

<h3>Description</h3>

<p>Determines if a taxa is composed of unique taxon objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_taxa_unique(object)
</code></pre>

<hr>
<h2 id='check_taxon_hierarchy'>Determines if a taxon has a valid hierarchy</h2><span id='topic+check_taxon_hierarchy'></span>

<h3>Description</h3>

<p>Determines if a taxon has a valid hierarchy
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_taxon_hierarchy(object)
</code></pre>

<hr>
<h2 id='check_valid_search_str'>Check if the search string is valid</h2><span id='topic+check_valid_search_str'></span>

<h3>Description</h3>

<p>Search strings can have prefixes and suffixes, but these must only be one
character.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_valid_search_str(num_underscores)
</code></pre>

<hr>
<h2 id='create_model_row'>Creates a dataframe row from model information</h2><span id='topic+create_model_row'></span>

<h3>Description</h3>

<p>Creates a dataframe row from model information
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_model_row(model, pub, model_id)
</code></pre>

<hr>
<h2 id='delete_models'>Delete the local models directory.</h2><span id='topic+delete_models'></span>

<h3>Description</h3>

<p>Delete the local models directory.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>delete_models(verbose)
</code></pre>

<hr>
<h2 id='descriptors'>Get the descriptors of a model</h2><span id='topic+descriptors'></span>

<h3>Description</h3>

<p>The model descriptors describe the context of an allometric model as it is
situated within a publication, and contain information like family, genus,
species, geographic region, etc. This function returns this information for
a given model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>descriptors(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="descriptors_+3A_object">object</code></td>
<td>
<p>The allometric model or model set object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble:tbl_df of descriptors
</p>

<hr>
<h2 id='descriptors_to_S4'>Convert the descriptors JSON data to a named list of descriptors</h2><span id='topic+descriptors_to_S4'></span>

<h3>Description</h3>

<p>Convert the descriptors JSON data to a named list of descriptors
</p>


<h3>Usage</h3>

<pre><code class='language-R'>descriptors_to_S4(descriptors_data)
</code></pre>

<hr>
<h2 id='descriptors+26lt+3B-'>Set the descriptors of a model.</h2><span id='topic+descriptors+3C-'></span>

<h3>Description</h3>

<p>Set the descriptors of a model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>descriptors(object) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="descriptors+2B26lt+2B3B-_+3A_object">object</code></td>
<td>
<p>The allometric model or model set object</p>
</td></tr>
<tr><td><code id="descriptors+2B26lt+2B3B-_+3A_value">value</code></td>
<td>
<p>A tibble::tbl_df of descriptors</p>
</td></tr>
</table>

<hr>
<h2 id='download_models'>Download allometric models</h2><span id='topic+download_models'></span>

<h3>Description</h3>

<p>This function downloads allometric models from GitHub into the local package
directory. Any existing models are removed before downloading.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>download_models(verbose)
</code></pre>

<hr>
<h2 id='fia_trees'>FIA Trees Data</h2><span id='topic+fia_trees'></span>

<h3>Description</h3>

<p>A subset of data from FIA plots located in Oregon.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fia_trees
</code></pre>


<h3>Format</h3>



<h4><code>fia_trees</code></h4>

<p>A data frame with 298 rows and 5 columns.
</p>

<dl>
<dt>PLOT</dt><dd><p>A plot ID</p>
</dd>
<dt>SPCD</dt><dd><p>The FIA species code for the tree</p>
</dd>
<dt>DIA</dt><dd><p>The diameter of the tree in inches</p>
</dd>
<dt>HT</dt><dd><p>The height of the tree in feet</p>
</dd>
<dt>TPA_UNADJ</dt><dd><p>The unadjusted trees per acre of the tree</p>
</dd>
</dl>




<h3>Source</h3>

<p>https://experience.arcgis.com/experience/3641cea45d614ab88791aef54f3a1849/
</p>

<hr>
<h2 id='FixedEffectsModel'>Create a fixed effects model</h2><span id='topic+FixedEffectsModel'></span>

<h3>Description</h3>

<p><code>FixedEffectsModel</code> represents an allometric model that only uses fixed
effects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>FixedEffectsModel(
  response,
  covariates,
  predict_fn,
  parameters,
  descriptors = list(),
  response_definition = NA_character_,
  covariate_definitions = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="FixedEffectsModel_+3A_response">response</code></td>
<td>
<p>A named list containing one element, with a name representing the response
variable and a value representing the units of the response variable
using the <code>units::as_units</code> function.</p>
</td></tr>
<tr><td><code id="FixedEffectsModel_+3A_covariates">covariates</code></td>
<td>
<p>A named list containing the covariate specifications, with names
representing the covariate name and the values representing the units of
the coavariate using the <code>units::as_units</code> function</p>
</td></tr>
<tr><td><code id="FixedEffectsModel_+3A_predict_fn">predict_fn</code></td>
<td>
<p>A function that takes the covariate names as arguments and returns a
prediction of the response variable. This function should be vectorized.</p>
</td></tr>
<tr><td><code id="FixedEffectsModel_+3A_parameters">parameters</code></td>
<td>
<p>A named list of parameters and their values</p>
</td></tr>
<tr><td><code id="FixedEffectsModel_+3A_descriptors">descriptors</code></td>
<td>
<p>An optional named list of descriptors that describe the context of the
allometric model</p>
</td></tr>
<tr><td><code id="FixedEffectsModel_+3A_response_definition">response_definition</code></td>
<td>
<p>A string containing an optional custom response definition, which is used
instead of the description given by the variable naming system.</p>
</td></tr>
<tr><td><code id="FixedEffectsModel_+3A_covariate_definitions">covariate_definitions</code></td>
<td>
<p>An optional named list of custom covariate definitions that will supersede
the definitions given by the variable naming system. The names of the list
must match the covariate names given in <code>covariates</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>FixedEffectsModel</code>
</p>


<h3>Slots</h3>


<dl>
<dt><code>response_unit</code></dt><dd><p>A one-element list with the name indicating the response
variable and the value as the response variable units obtained using
<code>units::as_units()</code></p>
</dd>
<dt><code>covariate_units</code></dt><dd><p>A list containing the covariate names as names and
values as the values of the covariate units obtained using
<code>units::as_units()</code></p>
</dd>
<dt><code>predict_fn</code></dt><dd><p>The prediction function, which takes covariates as arguments
and returns model predictions</p>
</dd>
<dt><code>descriptors</code></dt><dd><p>A <code>tibble::tbl_df</code> containing the model descriptors</p>
</dd>
<dt><code>set_descriptors</code></dt><dd><p>A <code>tibble::tbl_df</code> containing the set descriptors</p>
</dd>
<dt><code>pub_descriptors</code></dt><dd><p>A <code>tibble::tbl_df</code> containing the publication
descriptors</p>
</dd>
<dt><code>citation</code></dt><dd><p>A <code>RefManageR::BibEntry</code> object containing the reference
publication</p>
</dd>
<dt><code>covariate_definitions</code></dt><dd><p>User-provided covariate definitions</p>
</dd>
<dt><code>model_type</code></dt><dd><p>The model type, which is parsed from the <code>response_unit</code>
name</p>
</dd>
<dt><code>parameters</code></dt><dd><p>A named list of parameters and their values</p>
</dd>
<dt><code>predict_fn_populated</code></dt><dd><p>The prediction function populated with the
parameter values</p>
</dd>
<dt><code>specification</code></dt><dd><p>A tibble::tbl_df of the model specification, which are
the parameters and the descriptors together</p>
</dd>
</dl>


<h3>Examples</h3>

<pre><code class='language-R'>FixedEffectsModel(
  response = list(
    hst = units::as_units("m")
  ),
  covariates = list(
    dsob = units::as_units("cm")
  ),
  parameters = list(
    beta_0 = 51.9954,
    beta_1 = -0.0208,
    beta_2 = 1.0182
  ),
  predict_fn = function(dsob) {
    1.37 + beta_0 * (1 - exp(beta_1 * dsob)^beta_2)
  }
)
</code></pre>

<hr>
<h2 id='FixedEffectsSet'>Create a set of fixed effects models</h2><span id='topic+FixedEffectsSet'></span>

<h3>Description</h3>

<p>A <code>FixedEffectsSet</code> represents a group of fixed-effects models that all have
the same functional structure. Fitting a large family of models (e.g., for
many different species) using the same functional structure is a common
pattern in allometric studies, and <code>FixedEffectsSet</code> facilitates the
installation of these groups of models by allowing the user to specify the
parameter estimates and descriptions in a dataframe.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>FixedEffectsSet(
  response,
  covariates,
  parameter_names,
  predict_fn,
  model_specifications,
  descriptors = list(),
  response_definition = NA_character_,
  covariate_definitions = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="FixedEffectsSet_+3A_response">response</code></td>
<td>
<p>A named list containing one element, with a name representing the response
variable and a value representing the units of the response variable
using the <code>units::as_units</code> function.</p>
</td></tr>
<tr><td><code id="FixedEffectsSet_+3A_covariates">covariates</code></td>
<td>
<p>A named list containing the covariate specifications, with names
representing the covariate name and the values representing the units of
the coavariate using the <code>units::as_units</code> function</p>
</td></tr>
<tr><td><code id="FixedEffectsSet_+3A_parameter_names">parameter_names</code></td>
<td>
<p>A character vector naming the columns in <code>model_specifications</code> that
represent the parameters</p>
</td></tr>
<tr><td><code id="FixedEffectsSet_+3A_predict_fn">predict_fn</code></td>
<td>
<p>A function that takes the covariate names as arguments and returns a
prediction of the response variable. This function should be vectorized.</p>
</td></tr>
<tr><td><code id="FixedEffectsSet_+3A_model_specifications">model_specifications</code></td>
<td>
<p>A dataframe such that each row of the dataframe provides model-level
descriptors and parameter estimates for that model. Models must be
uniquely identifiable using the descriptors. This is usually established
using the <code>load_parameter_frame()</code> function.</p>
</td></tr>
<tr><td><code id="FixedEffectsSet_+3A_descriptors">descriptors</code></td>
<td>
<p>An optional named list of descriptors that describe the context of the
allometric model</p>
</td></tr>
<tr><td><code id="FixedEffectsSet_+3A_response_definition">response_definition</code></td>
<td>
<p>A string containing an optional custom response definition, which is used
instead of the description given by the variable naming system.</p>
</td></tr>
<tr><td><code id="FixedEffectsSet_+3A_covariate_definitions">covariate_definitions</code></td>
<td>
<p>An optional named list of custom covariate definitions that will supersede
the definitions given by the variable naming system. The names of the list
must match the covariate names given in <code>covariates</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A set of fixed effects models
</p>


<h3>Slots</h3>


<dl>
<dt><code>response_unit</code></dt><dd><p>A one-element list with the name indicating the response
variable and the value as the response variable units obtained using
<code>units::as_units()</code></p>
</dd>
<dt><code>covariate_units</code></dt><dd><p>A list containing the covariate names as names and
values as the values of the covariate units obtained using
<code>units::as_units()</code></p>
</dd>
<dt><code>predict_fn</code></dt><dd><p>The prediction function, which takes covariates as arguments
and returns model predictions</p>
</dd>
<dt><code>descriptors</code></dt><dd><p>A <code>tibble::tbl_df</code> containing the model descriptors</p>
</dd>
<dt><code>set_descriptors</code></dt><dd><p>A <code>tibble::tbl_df</code> containing the set descriptors</p>
</dd>
<dt><code>pub_descriptors</code></dt><dd><p>A <code>tibble::tbl_df</code> containing the publication
descriptors</p>
</dd>
<dt><code>citation</code></dt><dd><p>A <code>RefManageR::BibEntry</code> object containing the reference
publication</p>
</dd>
<dt><code>covariate_definitions</code></dt><dd><p>User-provided covariate definitions</p>
</dd>
<dt><code>model_type</code></dt><dd><p>The model type, which is parsed from the <code>response_unit</code>
name</p>
</dd>
<dt><code>parameter_names</code></dt><dd><p>A character vector indicating the parameter names</p>
</dd>
<dt><code>model_specifications</code></dt><dd><p>A <code>tibble::tbl_df</code> of model specifications, where
each row reprents one model identified with descriptors and containing the
parameter estimates.</p>
</dd>
</dl>


<h3>Examples</h3>

<pre><code class='language-R'>fixef_set &lt;- FixedEffectsSet(
  response = list(
    vsia = units::as_units("ft^3")
  ),
  covariates = list(
    dsob = units::as_units("in")
  ),
  predict_fn = function(dsob) {
    a * dsob^2
  },
  parameter_names = "a",
  model_specifications = tibble::tibble(mod = c(1,2), a = c(1, 2))
)
</code></pre>

<hr>
<h2 id='get_component_defs'>Load the component definitions</h2><span id='topic+get_component_defs'></span>

<h3>Description</h3>

<p>Loads the component definitions from a locally stored csv file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_component_defs()
</code></pre>


<h3>Value</h3>

<p>A tibble::tbl_df containing the component definitions
</p>


<h3>Examples</h3>

<pre><code class='language-R'>get_component_defs()
</code></pre>

<hr>
<h2 id='get_measure_defs'>Load the measure definitions</h2><span id='topic+get_measure_defs'></span>

<h3>Description</h3>

<p>Loads the measure definitions from a locally stored csv file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_measure_defs()
</code></pre>


<h3>Value</h3>

<p>A tibble::tbl_df containing the measure definitions
</p>


<h3>Examples</h3>

<pre><code class='language-R'>get_measure_defs()
</code></pre>

<hr>
<h2 id='get_model_hash'>Hashes a function string</h2><span id='topic+get_model_hash'></span>

<h3>Description</h3>

<p>We need some sort of stable data structure that will serve as a unique ID
for a model, but will also change in the event that the model changes. This
way, models can be &quot;versioned&quot; across time, which may be useful for debugging
purposes down the line. This function trims whitespace and lowercases
the predict_fn_populated pasted with the descriptors, which serves as a
reasonable proxy for the model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_model_hash(predict_fn_populated, descriptors)
</code></pre>

<hr>
<h2 id='get_model_type'>Gets the model type for a response name.</h2><span id='topic+get_model_type'></span>

<h3>Description</h3>

<p>From the variable naming system, return the model type. Model types are
custom names that are easier to understand than the usual component-measure
pairing. For example, site index models would be called &quot;stem height models&quot;
hecause the component is the stem and the measure is the height. However,
site index models need a special name. Model types are these names. If a
model type is not defined, the component-measure pairing is used instead.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_model_type(response_name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_model_type_+3A_response_name">response_name</code></td>
<td>
<p>The response_name from the variable naming system.</p>
</td></tr>
</table>

<hr>
<h2 id='get_pub_file_specs'>Retrieve all publication file names in the publication subdirectories</h2><span id='topic+get_pub_file_specs'></span>

<h3>Description</h3>

<p>The publication subdirectories divide the publications into groups sorted
by last name. This function returns a list containing the publication paths
and the publication names.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_pub_file_specs(pub_path)
</code></pre>

<hr>
<h2 id='get_variable_def'>Get the definition of a variable in the variable naming system.</h2><span id='topic+get_variable_def'></span>

<h3>Description</h3>

<p>When possible, variables are given standard names using the variable naming
system. The definitions for a variable can be found using this function.
The <code>search_str</code> argument works using partial matching of the beginning of
each variable name. For example input <code>"d"</code> will return all diameter
definitions but input <code>"dsob"</code> will only return the definition for diameter
outside bark at breast height.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_variable_def(search_str, return_exact_only = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_variable_def_+3A_search_str">search_str</code></td>
<td>
<p>The string to search with.</p>
</td></tr>
<tr><td><code id="get_variable_def_+3A_return_exact_only">return_exact_only</code></td>
<td>
<p>Some variables are completely defined but will
return &quot;addditional&quot; matches. For example, &quot;hst&quot; refers to the total height
of a tree, but &quot;hstix&quot; refers to a site index. If this argument is false, all
strings starting with &quot;hst&quot; will be returned. If true, then only &quot;hst&quot; will
be returned.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame containing the matched variable definitions.
</p>

<hr>
<h2 id='install_models'>Install allometric models from the models repository</h2><span id='topic+install_models'></span>

<h3>Description</h3>

<p>Allometric models are stored in a remote repository located on GitHub located
<a href="https://github.com/allometric/models">here</a>. The user must install
these models themselves using this function. This function clones the models
repository within the allometric package directory and constructs a local
dataframe containing the models. This dataframe is stored in the global
environment variable <code>allometric_models</code> upon completion of the function.
Refer to <code>allometric::allometric_models</code> for further information.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>install_models(redownload = FALSE, ignore_cache = FALSE, verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="install_models_+3A_redownload">redownload</code></td>
<td>
<p>If <code>TRUE</code>, models are re-downloaded from the remote
repository.</p>
</td></tr>
<tr><td><code id="install_models_+3A_ignore_cache">ignore_cache</code></td>
<td>
<p>If <code>TRUE</code>, models are re-installed regardless of their
installation timestamp. Otherwise, only newly modified model files are reran.
This is primarily for development purposes.</p>
</td></tr>
<tr><td><code id="install_models_+3A_verbose">verbose</code></td>
<td>
<p>If <code>TRUE</code>, print verbose messages as models are installed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, installs models into the package directory.
</p>

<hr>
<h2 id='load_models'>Load a locally installed table of allometric models</h2><span id='topic+load_models'></span>

<h3>Description</h3>

<p>This function loads all locally installed allometric models if they are
downloaded and installed, if not run the <code>install_models</code> function. The
result is of class <code>model_tbl</code>, which behaves very much like a
<code>tibble::tbl_df</code> or a <code>data.frame</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>load_models()
</code></pre>


<h3>Details</h3>

<p>Printing the <code>head</code> of <code>allometric_models</code>, we can see the structure of the
data
</p>
<div class="sourceCode r"><pre>allometric_models &lt;- load_models()
head(allometric_models)
#&gt; # A tibble: 6 x 10
#&gt;   id       model_type  country   region    taxa   pub_id        model      family_name covt_name pub_year
#&gt;   &lt;chr&gt;    &lt;chr&gt;       &lt;list&gt;    &lt;list&gt;    &lt;list&gt; &lt;chr&gt;         &lt;list&gt;     &lt;list&gt;      &lt;list&gt;       &lt;dbl&gt;
#&gt; 1 cc2078aa site index  &lt;chr [1]&gt; &lt;chr [2]&gt; &lt;Taxa&gt; barrett_1978  &lt;FxdEffcM&gt; &lt;chr [1]&gt;   &lt;chr [2]&gt;     1978
#&gt; 2 f50865ee stem volume &lt;chr [1]&gt; &lt;chr [1]&gt; &lt;Taxa&gt; bell_1981     &lt;FxdEffcM&gt; &lt;chr [3]&gt;   &lt;chr [2]&gt;     1981
#&gt; 3 4d35d681 taper       &lt;chr [2]&gt; &lt;chr [3]&gt; &lt;Taxa&gt; bluhm_2007    &lt;FxdEffcM&gt; &lt;chr [3]&gt;   &lt;chr [4]&gt;     2007
#&gt; 4 8d35a7b6 stem volume &lt;chr [1]&gt; &lt;chr [1]&gt; &lt;Taxa&gt; brackett_1977 &lt;FxdEffcM&gt; &lt;chr [1]&gt;   &lt;chr [2]&gt;     1977
#&gt; 5 8682a321 stem volume &lt;chr [1]&gt; &lt;chr [1]&gt; &lt;Taxa&gt; brackett_1977 &lt;FxdEffcM&gt; &lt;chr [1]&gt;   &lt;chr [2]&gt;     1977
#&gt; 6 7cfc15b2 stem volume &lt;chr [1]&gt; &lt;chr [1]&gt; &lt;Taxa&gt; brackett_1977 &lt;FxdEffcM&gt; &lt;chr [1]&gt;   &lt;chr [2]&gt;     1977
</pre></div>
<p>The columns are:
</p>

<ul>
<li> <p><code>id</code> - A unique ID for the model.
</p>
</li>
<li> <p><code>model_type</code> - The type of model (e.g., stem volume, site index, etc.)
</p>
</li>
<li> <p><code>country</code> - The country or countries from which the model data is from.
</p>
</li>
<li> <p><code>region</code> - The region or regions (e.g., state, province, etc.) from which
the model data is from.
</p>
</li>
<li> <p><code>taxa</code> - The taxonomic specification of the trees that are modeled.
</p>
</li>
<li> <p><code>model</code> - The model object itself.
</p>
</li>
<li> <p><code>pub_id</code> - A unique ID representing the publication.
</p>
</li>
<li> <p><code>family_name</code> - The names of the contributing authors.
</p>
</li>
<li> <p><code>covt_name</code> - The names of the covariates used in the model.
</p>
</li>
<li> <p><code>pub_year</code> - The publication year.
</p>
</li></ul>

<p>Models can be searched by their attributes. Note that some of the columns
are <code>list</code> columns, which contain lists as their elements. Filtering on
data in these columns requires the use of <code>purrr::map_lgl</code> which is used to
determine truthiness of expressions for each element in a <code>list</code> column.
While this may seem complicated, we believe the nested data structures are
more descriptive and concise for storing the models, and users will quickly
find that searching models in this way can be very powerful.
</p>


<h3>Value</h3>

<p>A model_tbl containing the locally installed models.
</p>


<h3>Finding Contributing Authors</h3>

<p>Using <code>purr::map_lgl</code> to filter the <code>family_name</code> column, we are able to
find publications that contain specific authors of interst. For example, we
may want models only authored by <code>"Hann"</code>. This is elementary to do in
<code>allometric</code>:
</p>
<div class="sourceCode r"><pre>hann_models &lt;- dplyr::filter(
 allometric_models,
 purrr::map_lgl(family_name, ~ 'Hann' %in% .)
)

head(hann_models)
#&gt; # A tibble: 6 x 10
#&gt;   id       model_type  country   region    taxa   pub_id    model      family_name covt_name pub_year
#&gt;   &lt;chr&gt;    &lt;chr&gt;       &lt;list&gt;    &lt;list&gt;    &lt;list&gt; &lt;chr&gt;     &lt;list&gt;     &lt;list&gt;      &lt;list&gt;       &lt;dbl&gt;
#&gt; 1 8970949f stem volume &lt;chr [1]&gt; &lt;chr [2]&gt; &lt;Taxa&gt; hann_1978 &lt;FxdEffcM&gt; &lt;chr [2]&gt;   &lt;chr [2]&gt;     1978
#&gt; 2 0d53539a stem volume &lt;chr [1]&gt; &lt;chr [2]&gt; &lt;Taxa&gt; hann_1978 &lt;FxdEffcM&gt; &lt;chr [2]&gt;   &lt;chr [2]&gt;     1978
#&gt; 3 0d109f2c stem volume &lt;chr [1]&gt; &lt;chr [2]&gt; &lt;Taxa&gt; hann_1978 &lt;FxdEffcM&gt; &lt;chr [2]&gt;   &lt;chr [2]&gt;     1978
#&gt; 4 86dcc7ff stem volume &lt;chr [1]&gt; &lt;chr [2]&gt; &lt;Taxa&gt; hann_1978 &lt;FxdEffcM&gt; &lt;chr [2]&gt;   &lt;chr [2]&gt;     1978
#&gt; 5 037a7989 stem volume &lt;chr [1]&gt; &lt;chr [2]&gt; &lt;Taxa&gt; hann_1978 &lt;FxdEffcM&gt; &lt;chr [2]&gt;   &lt;chr [2]&gt;     1978
#&gt; 6 02614f74 stem volume &lt;chr [1]&gt; &lt;chr [2]&gt; &lt;Taxa&gt; hann_1978 &lt;FxdEffcM&gt; &lt;chr [2]&gt;   &lt;chr [2]&gt;     1978
nrow(hann_models)
#&gt; [1] 87
</pre></div>
<p>Picking apart the above code block, we see that we are using the standard
<code>dplyr::filter</code> function on the <code>allometric_models</code> dataframe. The second
argument is a call using <code>purrr:map_lgl</code>, which will map over each list
(contained as elements in the <code>family_names</code> column). The second argument to
this function, <code>~ 'Hann' %in% .</code> is itself a function that checks if <code>'Hann'</code>
is in the current list. Imagine we are marching down each row of
<code>allometric_models</code>, <code>.</code> represents the element of <code>family_names</code> we are
considering, which is itself a list of author names.
</p>


<h3>Finding First Authors</h3>

<p>Maybe we are only interested in models where <code>'Hann'</code> is the first author.
Using a simple modification we can easily do this.
</p>
<div class="sourceCode r"><pre>hann_first_author_models &lt;- dplyr::filter(
  allometric_models,
  purrr::map_lgl(family_name, ~ 'Hann' == .[[1]])
)

head(hann_first_author_models)
#&gt; # A tibble: 6 x 10
#&gt;   id       model_type  country   region    taxa   pub_id    model      family_name covt_name pub_year
#&gt;   &lt;chr&gt;    &lt;chr&gt;       &lt;list&gt;    &lt;list&gt;    &lt;list&gt; &lt;chr&gt;     &lt;list&gt;     &lt;list&gt;      &lt;list&gt;       &lt;dbl&gt;
#&gt; 1 8970949f stem volume &lt;chr [1]&gt; &lt;chr [2]&gt; &lt;Taxa&gt; hann_1978 &lt;FxdEffcM&gt; &lt;chr [2]&gt;   &lt;chr [2]&gt;     1978
#&gt; 2 0d53539a stem volume &lt;chr [1]&gt; &lt;chr [2]&gt; &lt;Taxa&gt; hann_1978 &lt;FxdEffcM&gt; &lt;chr [2]&gt;   &lt;chr [2]&gt;     1978
#&gt; 3 0d109f2c stem volume &lt;chr [1]&gt; &lt;chr [2]&gt; &lt;Taxa&gt; hann_1978 &lt;FxdEffcM&gt; &lt;chr [2]&gt;   &lt;chr [2]&gt;     1978
#&gt; 4 86dcc7ff stem volume &lt;chr [1]&gt; &lt;chr [2]&gt; &lt;Taxa&gt; hann_1978 &lt;FxdEffcM&gt; &lt;chr [2]&gt;   &lt;chr [2]&gt;     1978
#&gt; 5 037a7989 stem volume &lt;chr [1]&gt; &lt;chr [2]&gt; &lt;Taxa&gt; hann_1978 &lt;FxdEffcM&gt; &lt;chr [2]&gt;   &lt;chr [2]&gt;     1978
#&gt; 6 02614f74 stem volume &lt;chr [1]&gt; &lt;chr [2]&gt; &lt;Taxa&gt; hann_1978 &lt;FxdEffcM&gt; &lt;chr [2]&gt;   &lt;chr [2]&gt;     1978
nrow(hann_first_author_models)
#&gt; [1] 50
</pre></div>
<p>We can see that <code>'Hann'</code> is the first author for
50 models in this package.
</p>


<h3>Finding Models for a Given Species</h3>

<p>One of the most common things people need is a model for a particular
species. For this, we must interact with the <code>taxa</code> column. For example,
to find models for the Pinus genus we can use
</p>
<div class="sourceCode r"><pre>pinus_models &lt;- dplyr::filter(
 allometric_models,
 purrr::map_lgl(taxa, ~ "Pinus" %in% .)
)

head(pinus_models)
#&gt; # A tibble: 6 x 10
#&gt;   id       model_type  country   region    taxa   pub_id         model      family_name covt_name pub_year
#&gt;   &lt;chr&gt;    &lt;chr&gt;       &lt;list&gt;    &lt;list&gt;    &lt;list&gt; &lt;chr&gt;          &lt;list&gt;     &lt;list&gt;      &lt;list&gt;       &lt;dbl&gt;
#&gt; 1 cc2078aa site index  &lt;chr [1]&gt; &lt;chr [2]&gt; &lt;Taxa&gt; barrett_1978   &lt;FxdEffcM&gt; &lt;chr [1]&gt;   &lt;chr [2]&gt;     1978
#&gt; 2 3ab229f7 stem volume &lt;chr [1]&gt; &lt;chr [1]&gt; &lt;Taxa&gt; brackett_1977  &lt;FxdEffcM&gt; &lt;chr [1]&gt;   &lt;chr [2]&gt;     1977
#&gt; 3 4a13ca7e stem volume &lt;chr [1]&gt; &lt;chr [1]&gt; &lt;Taxa&gt; brackett_1977  &lt;FxdEffcM&gt; &lt;chr [1]&gt;   &lt;chr [2]&gt;     1977
#&gt; 4 21d11091 stem volume &lt;chr [1]&gt; &lt;chr [1]&gt; &lt;Taxa&gt; brackett_1977  &lt;FxdEffcM&gt; &lt;chr [1]&gt;   &lt;chr [2]&gt;     1977
#&gt; 5 b1d070b5 stem volume &lt;chr [1]&gt; &lt;chr [1]&gt; &lt;Taxa&gt; chojnacky_1985 &lt;FxdEffcM&gt; &lt;chr [1]&gt;   &lt;chr [3]&gt;     1985
#&gt; 6 a5611fec stem volume &lt;chr [1]&gt; &lt;chr [1]&gt; &lt;Taxa&gt; chojnacky_1985 &lt;FxdEffcM&gt; &lt;chr [1]&gt;   &lt;chr [3]&gt;     1985
nrow(pinus_models)
#&gt; [1] 285
</pre></div>
<p>Users can also search with a specific taxon, which allows a full
specification from family to species. For example, if we want models that
apply to Ponderosa pine, first declare the necessary taxon, then use it to
filter as before
</p>
<div class="sourceCode r"><pre>ponderosa_taxon &lt;- Taxon(
 family = "Pinaceae", genus = "Pinus", species = "ponderosa"
)

ponderosa_models &lt;- dplyr::filter(
 allometric_models,
 purrr::map_lgl(taxa, ~ ponderosa_taxon %in% .)
)

nrow(ponderosa_models)
#&gt; [1] 57
</pre></div>


<h3>Finding a Model with Specific Data Requirements</h3>

<p>We can even check for models that contain certain types of data requirements.
For example, the following block finds diameter-height models, specifically
models that use diameter outside bark at breast height as the <em>only</em>
covariate. The utility here is obvious, since many inventories are vastly
limited by their available tree measurements.
</p>
<div class="sourceCode r"><pre>dia_ht_models &lt;- dplyr::filter(
    allometric_models,
    model_type == 'stem height',
    purrr::map_lgl(covt_name, ~ length(.)==1 &amp; .[[1]] == 'dsob'),
)

nrow(dia_ht_models)
#&gt; [1] 241
</pre></div>
<p>Breaking this down, we have the first condition <code>model_type=='stem_height'</code>
selecting only models concerned with stem heights as a response variable. The
second line maps over each element of the <code>covt_name</code> column, which is a
character vector. The <code>.</code> represents a given character vector for that row.
First, we ensure that the vector is only one element in size using
<code>length(.)==1</code>, then we ensure that the first (and only) element of this
vector is equal to <code>'dsob'</code>, (diameter outside bark at breast height). In
this case, 241 are available in the package.
</p>


<h3>Finding a Model for a Region</h3>

<p>By now the user should be sensing a pattern. We can apply the exact same
logic as the <em>Finding Contributing Authors</em> section to find all models
developed using data from <code>US-OR</code>
</p>
<div class="sourceCode r"><pre>us_or_models &lt;- dplyr::filter(
    allometric_models,
    purrr::map_lgl(region, ~ "US-OR" %in% .),
)

nrow(us_or_models)
#&gt; [1] 498
</pre></div>
<p>We can see that 498 allometric models are defined for the
state of Oregon, US.
</p>

<hr>
<h2 id='load_parameter_frame'>Load a parameter frame from the models/parameters directory</h2><span id='topic+load_parameter_frame'></span>

<h3>Description</h3>

<p>This is a convenience that allows a user to easily load parameter files from
the models/parameters directory. It is typically used when constructing
the <code>model_specifications</code> argument for <code>ModelSet</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>load_parameter_frame(name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="load_parameter_frame_+3A_name">name</code></td>
<td>
<p>The name of the file, excluding the extension</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble::tbl_df of the parameter data.
</p>

<hr>
<h2 id='map_publications'>Iteratively process publication files</h2><span id='topic+map_publications'></span>

<h3>Description</h3>

<p>This function allows a user to flexibly extract information as it loops over
the publication files. Two main internal use-cases exist for this. First,
it is used to install models as is done in <code>insall_models()</code> and, second,
it is used to populate the remote MongoDB. Most users will not be interested
in this function, but it is exposed for usage in the <code>allodata</code> package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>map_publications(verbose, func, pub_path = NULL, params_path = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="map_publications_+3A_verbose">verbose</code></td>
<td>
<p>Whether or not to print verbose messages to console</p>
</td></tr>
<tr><td><code id="map_publications_+3A_func">func</code></td>
<td>
<p>The publication processing function. It should take a Publication
object as its only argument.</p>
</td></tr>
<tr><td><code id="map_publications_+3A_pub_path">pub_path</code></td>
<td>
<p>An optional path to a publication directory, by
default the internally stored set of publications is used.</p>
</td></tr>
<tr><td><code id="map_publications_+3A_params_path">params_path</code></td>
<td>
<p>An optional path to a parameters directory, by
default the internally stored set of parameter files is used.</p>
</td></tr>
</table>

<hr>
<h2 id='merge.model_tbl'>Merge a <code>model_tbl</code> with another data frame.</h2><span id='topic+merge.model_tbl'></span>

<h3>Description</h3>

<p>This merge function ensures that, when <code>model_tbl</code> is used in a merge that
the resultant dataframe is still a <code>model_tbl</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'model_tbl'
merge(x, y, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="merge.model_tbl_+3A_x">x</code></td>
<td>
<p>A data frame or <code>model_tbl</code></p>
</td></tr>
<tr><td><code id="merge.model_tbl_+3A_y">y</code></td>
<td>
<p>A data frame or <code>model_tbl</code></p>
</td></tr>
<tr><td><code id="merge.model_tbl_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code>merge</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>model_tbl</code> merged with the inputs
</p>

<hr>
<h2 id='MixedEffectsModel'>Create a mixed effects model</h2><span id='topic+MixedEffectsModel'></span>

<h3>Description</h3>

<p><code>MixedEffectsModel</code> represents an allometric model that uses fixed and
random effects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>MixedEffectsModel(
  response,
  covariates,
  predict_ranef,
  predict_fn,
  parameters,
  fixed_only = FALSE,
  descriptors = list(),
  response_definition = NA_character_,
  covariate_definitions = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="MixedEffectsModel_+3A_response">response</code></td>
<td>
<p>A named list containing one element, with a name representing the response
variable and a value representing the units of the response variable
using the <code>units::as_units</code> function.</p>
</td></tr>
<tr><td><code id="MixedEffectsModel_+3A_covariates">covariates</code></td>
<td>
<p>A named list containing the covariate specifications, with names
representing the covariate name and the values representing the units of
the coavariate using the <code>units::as_units</code> function</p>
</td></tr>
<tr><td><code id="MixedEffectsModel_+3A_predict_ranef">predict_ranef</code></td>
<td>
<p>A function that predicts the random effects, takes any named covariates in
<code>covariates</code> as arguments</p>
</td></tr>
<tr><td><code id="MixedEffectsModel_+3A_predict_fn">predict_fn</code></td>
<td>
<p>A function that takes the covariate names as arguments and returns a
prediction of the response variable. This function should be vectorized.</p>
</td></tr>
<tr><td><code id="MixedEffectsModel_+3A_parameters">parameters</code></td>
<td>
<p>A named list of parameters and their values</p>
</td></tr>
<tr><td><code id="MixedEffectsModel_+3A_fixed_only">fixed_only</code></td>
<td>
<p>A boolean value indicating if the model produces predictions using only
fixed effects. This is useful when publications do not provide sufficient
information to predict the random effects.</p>
</td></tr>
<tr><td><code id="MixedEffectsModel_+3A_descriptors">descriptors</code></td>
<td>
<p>An optional named list of descriptors that describe the context of the
allometric model</p>
</td></tr>
<tr><td><code id="MixedEffectsModel_+3A_response_definition">response_definition</code></td>
<td>
<p>A string containing an optional custom response definition, which is used
instead of the description given by the variable naming system.</p>
</td></tr>
<tr><td><code id="MixedEffectsModel_+3A_covariate_definitions">covariate_definitions</code></td>
<td>
<p>An optional named list of custom covariate definitions that will supersede
the definitions given by the variable naming system. The names of the list
must match the covariate names given in <code>covariates</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An instance of MixedEffectsModel
</p>


<h3>Slots</h3>


<dl>
<dt><code>parameters</code></dt><dd><p>A named list of parameters and their values</p>
</dd>
<dt><code>predict_fn_populated</code></dt><dd><p>The prediction function populated with the
parameter values</p>
</dd>
<dt><code>specification</code></dt><dd><p>A tibble::tbl_df of the model specification, which are
the parameters and the descriptors together</p>
</dd>
<dt><code>predict_ranef</code></dt><dd><p>The function that predicts the random effects</p>
</dd>
<dt><code>predict_ranef_populated</code></dt><dd><p>The function that predicts the random effects
populated with the fixed effect parameter estimates</p>
</dd>
<dt><code>fixed_only</code></dt><dd><p>A boolean value indicating if the model produces predictions
using only fixed effects</p>
</dd>
</dl>


<h3>Examples</h3>

<pre><code class='language-R'>MixedEffectsModel(
  response = list(
    hst = units::as_units("m")
  ),
  covariates = list(
    dsob = units::as_units("cm")
  ),
  parameters = list(
    beta_0 = 40.4218,
    beta_1 = -0.0276,
    beta_2 = 0.936
  ),
  predict_ranef = function() {
    list(b_0_i = 0, b_2_i = 0)
  },
  predict_fn = function(dsob) {
    1.37 + (beta_0 + b_0_i) * (1 - exp(beta_1 * dsob)^(beta_2 + b_2_i))
  },
  fixed_only = TRUE
)
</code></pre>

<hr>
<h2 id='MixedEffectsSet'>Create a set of mixed effects models</h2><span id='topic+MixedEffectsSet'></span>

<h3>Description</h3>

<p>A <code>MixedEffectsSet</code> represents a group of mixed-effects models that all have
the same functional structure. Fitting a large family of models (e.g., for
many different species) using the same functional structure is a common
pattern in allometric studies, and <code>MixedEffectsSet</code> facilitates the
installation of these groups of models by allowing the user to specify the
parameter estimates and descriptions in a dataframe or spreadsheet.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>MixedEffectsSet(
  response,
  covariates,
  parameter_names,
  predict_fn,
  model_specifications,
  predict_ranef,
  fixed_only = FALSE,
  descriptors = list(),
  response_definition = NA_character_,
  covariate_definitions = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="MixedEffectsSet_+3A_response">response</code></td>
<td>
<p>A named list containing one element, with a name representing the response
variable and a value representing the units of the response variable
using the <code>units::as_units</code> function.</p>
</td></tr>
<tr><td><code id="MixedEffectsSet_+3A_covariates">covariates</code></td>
<td>
<p>A named list containing the covariate specifications, with names
representing the covariate name and the values representing the units of
the coavariate using the <code>units::as_units</code> function</p>
</td></tr>
<tr><td><code id="MixedEffectsSet_+3A_parameter_names">parameter_names</code></td>
<td>
<p>A character vector naming the columns in <code>model_specifications</code> that
represent the parameters</p>
</td></tr>
<tr><td><code id="MixedEffectsSet_+3A_predict_fn">predict_fn</code></td>
<td>
<p>A function that takes the covariate names as arguments and returns a
prediction of the response variable. This function should be vectorized.</p>
</td></tr>
<tr><td><code id="MixedEffectsSet_+3A_model_specifications">model_specifications</code></td>
<td>
<p>A dataframe such that each row of the dataframe provides model-level
descriptors and parameter estimates for that model. Models must be
uniquely identifiable using the descriptors. This is usually established
using the <code>load_parameter_frame()</code> function.</p>
</td></tr>
<tr><td><code id="MixedEffectsSet_+3A_predict_ranef">predict_ranef</code></td>
<td>
<p>A function that predicts the random effects, takes any named covariates in
<code>covariates</code> as arguments</p>
</td></tr>
<tr><td><code id="MixedEffectsSet_+3A_fixed_only">fixed_only</code></td>
<td>
<p>A boolean value indicating if the model produces predictions using only
fixed effects. This is useful when publications do not provide sufficient
information to predict the random effects.</p>
</td></tr>
<tr><td><code id="MixedEffectsSet_+3A_descriptors">descriptors</code></td>
<td>
<p>An optional named list of descriptors that describe the context of the
allometric model</p>
</td></tr>
<tr><td><code id="MixedEffectsSet_+3A_response_definition">response_definition</code></td>
<td>
<p>A string containing an optional custom response definition, which is used
instead of the description given by the variable naming system.</p>
</td></tr>
<tr><td><code id="MixedEffectsSet_+3A_covariate_definitions">covariate_definitions</code></td>
<td>
<p>An optional named list of custom covariate definitions that will supersede
the definitions given by the variable naming system. The names of the list
must match the covariate names given in <code>covariates</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Because mixed-effects models already accommodate a grouping structure,
<code>MixedEffectsSet</code> tends to be a much rarer occurrence than <code>FixedEffectsSet</code>
and <code>MixedEffectsModel</code>.
</p>


<h3>Value</h3>

<p>An instance of MixedEffectsSet
</p>


<h3>Slots</h3>


<dl>
<dt><code>parameters</code></dt><dd><p>A named list of parameters and their values</p>
</dd>
<dt><code>predict_fn_populated</code></dt><dd><p>The prediction function populated with the
parameter values</p>
</dd>
<dt><code>specification</code></dt><dd><p>A tibble::tbl_df of the model specification, which are
the parameters and the descriptors together</p>
</dd>
<dt><code>predict_ranef</code></dt><dd><p>The function that predicts the random effects</p>
</dd>
<dt><code>predict_ranef_populated</code></dt><dd><p>The function that predicts the random effects
populated with the fixed effect parameter estimates</p>
</dd>
<dt><code>fixed_only</code></dt><dd><p>A boolean value indicating if the model produces predictions
using only fixed effects</p>
</dd>
<dt><code>model_specifications</code></dt><dd><p>A <code>tibble::tbl_df</code> of model specifications, where
each row reprents one model identified with descriptors and containing the
parameter estimates.</p>
</dd>
</dl>


<h3>Examples</h3>

<pre><code class='language-R'>mixed_effects_set &lt;- MixedEffectsSet(
  response = list(
    vsia = units::as_units("ft^3")
  ),
  covariates = list(
    dsob = units::as_units("in")
  ),
  parameter_names = "a",
  predict_ranef = function(dsob, hst) {
    list(a_i = 1)
  },
  predict_fn = function(dsob) {
    (a + a_i) * dsob^2
  },
  model_specifications = tibble::tibble(a = c(1, 2))
)
</code></pre>

<hr>
<h2 id='model_call'>Get the function call for a model</h2><span id='topic+model_call'></span>

<h3>Description</h3>

<p>The function call is the allometric model expressed as a function of its
covariates. Accessing the function call is important when determining the
order of the covariates given to the prediction function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>model_call(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="model_call_+3A_object">object</code></td>
<td>
<p>The allometric model or set for which a function call will be
retrieved</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string of the function call
</p>


<h3>Examples</h3>

<pre><code class='language-R'>model_call(brackett_rubra)
</code></pre>

<hr>
<h2 id='model_call+2CFixedEffectsModel-method'>Get the function call for a model</h2><span id='topic+model_call+2CFixedEffectsModel-method'></span>

<h3>Description</h3>

<p>The function call is the allometric model expressed as a function of its
covariates. Accessing the function call is important when determining the
order of the covariates given to the prediction function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'FixedEffectsModel'
model_call(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="model_call+2B2CFixedEffectsModel-method_+3A_object">object</code></td>
<td>
<p>The allometric model or set for which a function call will be
retrieved</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string of the function call
</p>


<h3>Examples</h3>

<pre><code class='language-R'>model_call(brackett_rubra)
</code></pre>

<hr>
<h2 id='model_call+2CMixedEffectsModel-method'>Get the function call for a model</h2><span id='topic+model_call+2CMixedEffectsModel-method'></span>

<h3>Description</h3>

<p>The function call is the allometric model expressed as a function of its
covariates. Accessing the function call is important when determining the
order of the covariates given to the prediction function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'MixedEffectsModel'
model_call(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="model_call+2B2CMixedEffectsModel-method_+3A_object">object</code></td>
<td>
<p>The allometric model or set for which a function call will be
retrieved</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string of the function call
</p>


<h3>Examples</h3>

<pre><code class='language-R'>model_call(brackett_rubra)
</code></pre>

<hr>
<h2 id='model_call+2CParametricModel-method'>Get the function call for a model</h2><span id='topic+model_call+2CParametricModel-method'></span>

<h3>Description</h3>

<p>The function call is the allometric model expressed as a function of its
covariates. Accessing the function call is important when determining the
order of the covariates given to the prediction function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'ParametricModel'
model_call(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="model_call+2B2CParametricModel-method_+3A_object">object</code></td>
<td>
<p>The allometric model or set for which a function call will be
retrieved</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string of the function call
</p>


<h3>Examples</h3>

<pre><code class='language-R'>model_call(brackett_rubra)
</code></pre>

<hr>
<h2 id='model_call+2CParametricSet-method'>Get the function call for a model</h2><span id='topic+model_call+2CParametricSet-method'></span>

<h3>Description</h3>

<p>The function call is the allometric model expressed as a function of its
covariates. Accessing the function call is important when determining the
order of the covariates given to the prediction function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'ParametricSet'
model_call(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="model_call+2B2CParametricSet-method_+3A_object">object</code></td>
<td>
<p>The allometric model or set for which a function call will be
retrieved</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string of the function call
</p>


<h3>Examples</h3>

<pre><code class='language-R'>model_call(brackett_rubra)
</code></pre>

<hr>
<h2 id='ModelSet'>Base class for model sets</h2><span id='topic+ModelSet'></span>

<h3>Description</h3>

<p>This class is primarily used as a parent class for other model set
implementations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ModelSet(
  response,
  covariates,
  predict_fn,
  descriptors = list(),
  response_definition = NA_character_,
  covariate_definitions = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ModelSet_+3A_response">response</code></td>
<td>
<p>A named list containing one element, with a name representing the response
variable and a value representing the units of the response variable
using the <code>units::as_units</code> function.</p>
</td></tr>
<tr><td><code id="ModelSet_+3A_covariates">covariates</code></td>
<td>
<p>A named list containing the covariate specifications, with names
representing the covariate name and the values representing the units of
the coavariate using the <code>units::as_units</code> function</p>
</td></tr>
<tr><td><code id="ModelSet_+3A_predict_fn">predict_fn</code></td>
<td>
<p>A function that takes the covariate names as arguments and returns a
prediction of the response variable. This function should be vectorized.</p>
</td></tr>
<tr><td><code id="ModelSet_+3A_descriptors">descriptors</code></td>
<td>
<p>An optional named list of descriptors that describe the context of the
allometric model</p>
</td></tr>
<tr><td><code id="ModelSet_+3A_response_definition">response_definition</code></td>
<td>
<p>A string containing an optional custom response definition, which is used
instead of the description given by the variable naming system.</p>
</td></tr>
<tr><td><code id="ModelSet_+3A_covariate_definitions">covariate_definitions</code></td>
<td>
<p>An optional named list of custom covariate definitions that will supersede
the definitions given by the variable naming system. The names of the list
must match the covariate names given in <code>covariates</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An instance of a ModelSet
</p>

<hr>
<h2 id='ParametricModel'>Base class for all parametric models.</h2><span id='topic+ParametricModel'></span>

<h3>Description</h3>

<p>This is a base class used for <code>FixedEffectsModel</code> and <code>MixedEffectsModel</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ParametricModel(
  response,
  covariates,
  predict_fn,
  parameters,
  descriptors = list(),
  response_definition = NA_character_,
  covariate_definitions = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ParametricModel_+3A_response">response</code></td>
<td>
<p>A named list containing one element, with a name representing the response
variable and a value representing the units of the response variable
using the <code>units::as_units</code> function.</p>
</td></tr>
<tr><td><code id="ParametricModel_+3A_covariates">covariates</code></td>
<td>
<p>A named list containing the covariate specifications, with names
representing the covariate name and the values representing the units of
the coavariate using the <code>units::as_units</code> function</p>
</td></tr>
<tr><td><code id="ParametricModel_+3A_predict_fn">predict_fn</code></td>
<td>
<p>A function that takes the covariate names as arguments and returns a
prediction of the response variable. This function should be vectorized.</p>
</td></tr>
<tr><td><code id="ParametricModel_+3A_descriptors">descriptors</code></td>
<td>
<p>An optional named list of descriptors that describe the context of the
allometric model</p>
</td></tr>
<tr><td><code id="ParametricModel_+3A_response_definition">response_definition</code></td>
<td>
<p>A string containing an optional custom response definition, which is used
instead of the description given by the variable naming system.</p>
</td></tr>
<tr><td><code id="ParametricModel_+3A_covariate_definitions">covariate_definitions</code></td>
<td>
<p>An optional named list of custom covariate definitions that will supersede
the definitions given by the variable naming system. The names of the list
must match the covariate names given in <code>covariates</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class ParametricModel
</p>

<hr>
<h2 id='ParametricSet'>Base class for all parametric sets.</h2><span id='topic+ParametricSet'></span>

<h3>Description</h3>

<p>This is a base class used for <code>FixedEffectsSet</code> and <code>MixedEffectsSet</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ParametricSet(
  response,
  covariates,
  predict_fn,
  model_specifications,
  parameter_names,
  descriptors = list(),
  response_definition = NA_character_,
  covariate_definitions = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ParametricSet_+3A_response">response</code></td>
<td>
<p>A named list containing one element, with a name representing the response
variable and a value representing the units of the response variable
using the <code>units::as_units</code> function.</p>
</td></tr>
<tr><td><code id="ParametricSet_+3A_covariates">covariates</code></td>
<td>
<p>A named list containing the covariate specifications, with names
representing the covariate name and the values representing the units of
the coavariate using the <code>units::as_units</code> function</p>
</td></tr>
<tr><td><code id="ParametricSet_+3A_predict_fn">predict_fn</code></td>
<td>
<p>A function that takes the covariate names as arguments and returns a
prediction of the response variable. This function should be vectorized.</p>
</td></tr>
<tr><td><code id="ParametricSet_+3A_descriptors">descriptors</code></td>
<td>
<p>An optional named list of descriptors that describe the context of the
allometric model</p>
</td></tr>
<tr><td><code id="ParametricSet_+3A_response_definition">response_definition</code></td>
<td>
<p>A string containing an optional custom response definition, which is used
instead of the description given by the variable naming system.</p>
</td></tr>
<tr><td><code id="ParametricSet_+3A_covariate_definitions">covariate_definitions</code></td>
<td>
<p>An optional named list of custom covariate definitions that will supersede
the definitions given by the variable naming system. The names of the list
must match the covariate names given in <code>covariates</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class ParametricSet
</p>

<hr>
<h2 id='predict'>Predict with an allometric model</h2><span id='topic+predict'></span><span id='topic+predict+2CFixedEffectsModel-method'></span><span id='topic+predict+2CMixedEffectsModel-method'></span>

<h3>Description</h3>

<p>Predict with an allometric model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>predict(model, ...)

## S4 method for signature 'FixedEffectsModel'
predict(model, ..., output_units = NULL)

## S4 method for signature 'MixedEffectsModel'
predict(model, ..., newdata = NULL, output_units = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="predict_+3A_model">model</code></td>
<td>
<p>The allometric model used for prediction</p>
</td></tr>
<tr><td><code id="predict_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to the <code>predict_fn</code> of the input model</p>
</td></tr>
<tr><td><code id="predict_+3A_output_units">output_units</code></td>
<td>
<p>Optionally specify the output units of the model as a
string, e.g., &quot;ft^3&quot;. The provided string must be compatible with the
<code>units::set_units()</code> function.</p>
</td></tr>
<tr><td><code id="predict_+3A_newdata">newdata</code></td>
<td>
<p>A dataframe containing columns that match the names of the arguments given
to <code>predict_ranef</code>. The values of this data represents information from a
new group of observations for which predictions are desired (e.g., a new
stand or plot).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of allometric model predictions
</p>


<h3>Examples</h3>

<pre><code class='language-R'>predict(brackett_rubra, 10, 50)
predict(brackett_rubra, 10, 50, output_units = "m^3")
</code></pre>

<hr>
<h2 id='predict_allo'>Predict allometric attributes using a column of allometric models</h2><span id='topic+predict_allo'></span>

<h3>Description</h3>

<p>A frequent pattern in forest inventory anaylsis is the need to produce
predictions of models with the same functional form, but using different
models. <code>predict_allo</code> enables this by allowing the user to pass a
list-column of models as an argument, along with the associated covariates.
This pattern plays well with <code>dplyr</code> functions such as <code>dplyr::mutate()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>predict_allo(model_list, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="predict_allo_+3A_model_list">model_list</code></td>
<td>
<p>A list-column of models</p>
</td></tr>
<tr><td><code id="predict_allo_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to each model's <code>predict_fn</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of predictions
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tree_data &lt;- tibble::tibble(
 dbh = c(10, 20), ht = c(50, 75), model = c(list(brackett_rubra), list(brackett_acer))
)

tree_data %&gt;%
  dplyr::mutate(vol = predict_allo(model, dbh, ht))
</code></pre>

<hr>
<h2 id='Publication'>Create a publication that contains allometric models</h2><span id='topic+Publication'></span>

<h3>Description</h3>

<p><code>Publication</code> represents a technical or scientific document that contains
allometric models. Initially, publications do not contain models, and models
are added using the <code>add_model</code> or <code>add_set</code> methods.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Publication(citation, descriptors = list())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Publication_+3A_citation">citation</code></td>
<td>
<p>The citation of the paper declared using the <code>RefManageR::BibEntry</code> class</p>
</td></tr>
<tr><td><code id="Publication_+3A_descriptors">descriptors</code></td>
<td>
<p>A named list of descriptors that are defined for all models contained in
the publication.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An instance of class Publication
</p>


<h3>Slots</h3>


<dl>
<dt><code>citation</code></dt><dd><p>A <code>RefManageR::BibEntry</code> of the reference publication</p>
</dd>
<dt><code>response_sets</code></dt><dd><p>A list containing the model sets indexed by the response
variable names</p>
</dd>
<dt><code>descriptors</code></dt><dd><p>A named list containing descriptors that are defined for
all models in the publication.</p>
</dd>
</dl>


<h3>Examples</h3>

<pre><code class='language-R'>pub &lt;- Publication(
  citation = RefManageR::BibEntry(
    key = "test_2000",
    bibtype = "article",
    author = "test",
    title = "test",
    journal = "test",
    year = 2000,
    volume = 0
  ),
  descriptors = list(
    region = "US-WA"
  )
)
</code></pre>

<hr>
<h2 id='select_model'>Select an allometric model</h2><span id='topic+select_model'></span>

<h3>Description</h3>

<p>This is a generic function used to select allometric models out of larger
collections, like <code>model_tbl</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>select_model(model_tbl, id)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="select_model_+3A_model_tbl">model_tbl</code></td>
<td>
<p>A <code>model_tbl</code> object</p>
</td></tr>
<tr><td><code id="select_model_+3A_id">id</code></td>
<td>
<p>The model id or index</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An allometric model object
</p>

<hr>
<h2 id='select_model.model_tbl'>Select a model from <code>allometric_models</code></h2><span id='topic+select_model.model_tbl'></span>

<h3>Description</h3>

<p>This function is used to select a single model from a <code>model_tbl</code>
dataframe using its id.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'model_tbl'
select_model(model_tbl, id)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="select_model.model_tbl_+3A_model_tbl">model_tbl</code></td>
<td>
<p>A <code>model_tbl</code> object</p>
</td></tr>
<tr><td><code id="select_model.model_tbl_+3A_id">id</code></td>
<td>
<p>The model id or index</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An allometric model object
</p>

<hr>
<h2 id='Taxa'>Group taxons together</h2><span id='topic+Taxa'></span>

<h3>Description</h3>

<p><code>Taxa</code> represents a set of taxons. See <code>Taxon()</code>. These are typically used
to specify species and other taxonomic groups that belong to a model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Taxa(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Taxa_+3A_...">...</code></td>
<td>
<p>A set of <code>Taxon</code> objects.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An instance of class <code>Taxa</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>Taxa(
   Taxon(
      family = "Pinaceae",
      genus = "Pinus",
      species = "ponderosa"
   ),
   Taxon(
     family = "Betulaceae"
   )
)
</code></pre>

<hr>
<h2 id='Taxon'>Create a taxonomic hierarchy</h2><span id='topic+Taxon'></span>

<h3>Description</h3>

<p><code>Taxon</code> represents a taxonomic hierarchy (from family through species). This
class represents a number of validity checks to ensure the taxon is correctly
structured. A taxon must have at least a family specified, and neither genus
nor species can be specified without the &quot;shallower&quot; layers of the hierarchy
specified first. Group <code>Taxon</code>s together with <code>Taxa()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Taxon(family = NA_character_, genus = NA_character_, species = NA_character_)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Taxon_+3A_family">family</code></td>
<td>
<p>The taxonomic family</p>
</td></tr>
<tr><td><code id="Taxon_+3A_genus">genus</code></td>
<td>
<p>The taxonomic genus</p>
</td></tr>
<tr><td><code id="Taxon_+3A_species">species</code></td>
<td>
<p>The taxonomic species</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An instance of class <code>Taxon</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>Taxon(
  family = "Pinaceae",
  genus = "Pinus",
  species = "ponderosa"
)

Taxon(
  family = "Betulaceae"
)
</code></pre>

<hr>
<h2 id='toJSON'>Convert a model or publication to a JSON representation</h2><span id='topic+toJSON'></span>

<h3>Description</h3>

<p>This function converts an allometric model or publication into a JSON
representation. Primarily, this is used internally to populate a remotely
hosted MongoDatabase.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>toJSON(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="toJSON_+3A_object">object</code></td>
<td>
<p>An allometric model or publication</p>
</td></tr>
<tr><td><code id="toJSON_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to jsonlite::toJSON</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string containing the JSON representation of the object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>toJSON(brackett_rubra)
</code></pre>

<hr>
<h2 id='toJSON+2CFixedEffectsModel-method'>Convert a fixed effects model to a JSON representation</h2><span id='topic+toJSON+2CFixedEffectsModel-method'></span>

<h3>Description</h3>

<p>This function converts a fixed effects model into a JSON representation.
Primarily, this is used internally to populate a remotely hosted
MongoDatabase.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'FixedEffectsModel'
toJSON(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="toJSON+2B2CFixedEffectsModel-method_+3A_object">object</code></td>
<td>
<p>A fixed effects model</p>
</td></tr>
<tr><td><code id="toJSON+2B2CFixedEffectsModel-method_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to jsonlite::toJSON</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string containing the JSON representation of the object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>toJSON(brackett_rubra, pretty = TRUE)
</code></pre>

<hr>
<h2 id='unnest_models'>Unnest columns of a dataframe</h2><span id='topic+unnest_models'></span>

<h3>Description</h3>

<p>Unnest columns of a dataframe
</p>


<h3>Usage</h3>

<pre><code class='language-R'>unnest_models(data, cols)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="unnest_models_+3A_data">data</code></td>
<td>
<p>A dataframe</p>
</td></tr>
<tr><td><code id="unnest_models_+3A_cols">cols</code></td>
<td>
<p>A character vector indicating the columns to unnest</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The unnested <code>model_tbl</code>
</p>

<hr>
<h2 id='unnest_models.model_tbl'>Unnest the columns of <code>model_tbl</code></h2><span id='topic+unnest_models.model_tbl'></span>

<h3>Description</h3>

<p>A <code>model_tbl</code> often contains nested information within the cells of the
table. This function allows a user to unnest the columns of interest.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'model_tbl'
unnest_models(data, cols)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="unnest_models.model_tbl_+3A_data">data</code></td>
<td>
<p>A <code>model_tbl</code></p>
</td></tr>
<tr><td><code id="unnest_models.model_tbl_+3A_cols">cols</code></td>
<td>
<p>A character vector of columns to unnest</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The unnested <code>model_tbl</code>
</p>

<hr>
<h2 id='unnest_taxa'>Unnest the taxa column of a <code>model_tbl</code></h2><span id='topic+unnest_taxa'></span>

<h3>Description</h3>

<p>In some cases it is convenient to expand the taxonomic specifications for
each model contained in the <code>taxa</code> column. This function achieves this,
and adds <code>family</code>, <code>genus</code>, and <code>species</code> character columns. Models with
more than one taxon are replicated as new rows.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>unnest_taxa(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="unnest_taxa_+3A_data">data</code></td>
<td>
<p>A <code>model_tbl</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>model_tbl</code> with family, genus and species columns attached
</p>

<hr>
<h2 id='unnest_taxa.model_tbl'>Unnest the taxa column of a <code>model_tbl</code></h2><span id='topic+unnest_taxa.model_tbl'></span>

<h3>Description</h3>

<p>In some cases it is convenient to expand the taxonomic specifications for
each model contained in the <code>taxa</code> column. This function achieves this,
and adds <code>family</code>, <code>genus</code>, and <code>species</code> character columns. Models with
more than one taxon are replicated as new rows.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'model_tbl'
unnest_taxa(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="unnest_taxa.model_tbl_+3A_data">data</code></td>
<td>
<p>A <code>model_tbl</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>model_tbl</code> with family, genus and species columns attached
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package biblioverlap</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {biblioverlap}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#+25+26gt+3B+25'><p>Pipe operator</p></a></li>
<li><a href='#biblioverApp'><p>Shiny App for the biblioverlap package</p></a></li>
<li><a href='#biblioverlap'><p>Document-level matching of bibliographic datasets</p></a></li>
<li><a href='#plot_matching_summary'><p>Plotting biblioverlap's matching summary</p></a></li>
<li><a href='#plot_upset'><p>Plotting UpSet plot from biblioverlap results</p></a></li>
<li><a href='#plot_venn'><p>Plotting Venn Diagram from biblioverlap results</p></a></li>
<li><a href='#ufrj_bio_0122'><p>UFRJ-affiliated documents from biological sciences disciplines (January 2022)</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Document-Level Matching Between Bibliographic Datasets</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.2</td>
</tr>
<tr>
<td>Description:</td>
<td>Identifies and visualizes document overlap in any number of bibliographic datasets.
    This package implements the identification of overlapping documents through the exact match of a unique 
    identifier (e.g. Digital Object Identifier - DOI) and, for records where the identifier is absent, through a score calculated 
    from a set of fields commonly found in bibliographic datasets (Title, Source, Authors and Publication Year).
    Additionally, it provides functions to visualize the results of the document matching through a Venn diagram 
    and/or UpSet plot, as well as a summary of the matching procedure. </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr, ggplot2, ggVennDiagram, magrittr, Matrix, parallel,
rlang, shiny, stringdist, UpSetR, uuid</td>
</tr>
<tr>
<td>Suggests:</td>
<td>DT, testthat</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.1)</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/gavieira/biblioverlap">https://github.com/gavieira/biblioverlap</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/gavieira/biblioverlap/issues">https://github.com/gavieira/biblioverlap/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-11-07 19:21:10 UTC; gabriel</td>
</tr>
<tr>
<td>Author:</td>
<td>Gabriel Vieira <a href="https://orcid.org/0000-0002-5529-7628"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre, cph],
  Jacqueline Leta <a href="https://orcid.org/0000-0002-3271-7749"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Gabriel Vieira &lt;gabriel.vieira@bioqmed.ufrj.br&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-11-07 19:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>See <code>magrittr::<a href="magrittr.html#topic+pipe">%&gt;%</a></code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_lhs">lhs</code></td>
<td>
<p>A value or the magrittr placeholder.</p>
</td></tr>
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_rhs">rhs</code></td>
<td>
<p>A function call using the magrittr semantics.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The result of calling <code>rhs(lhs)</code>.
</p>

<hr>
<h2 id='biblioverApp'>Shiny App for the biblioverlap package</h2><span id='topic+biblioverApp'></span>

<h3>Description</h3>

<p>Shiny App for the biblioverlap package
</p>


<h3>Usage</h3>

<pre><code class='language-R'>biblioverApp(port = NULL, max_upload_size = 1000, launch.browser = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="biblioverApp_+3A_port">port</code></td>
<td>

<ul>
<li><p> port of the application
</p>
</li></ul>
</td></tr>
<tr><td><code id="biblioverApp_+3A_max_upload_size">max_upload_size</code></td>
<td>

<ul>
<li><p> max upload size of documents (in MB) - Default 100
</p>
</li></ul>
</td></tr>
<tr><td><code id="biblioverApp_+3A_launch.browser">launch.browser</code></td>
<td>

<ul>
<li><p> launch on browser - Default = TRUE
</p>
</li></ul>
</td></tr>
</table>


<h3>Value</h3>

<p>opens a instance of the biblioverlap UI
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Running the ShinyApp
biblioverApp()

</code></pre>

<hr>
<h2 id='biblioverlap'>Document-level matching of bibliographic datasets</h2><span id='topic+biblioverlap'></span>

<h3>Description</h3>

<p>This function identifies document overlap between bibliographic datasets and records it through the use of Universally Unique Identifiers (UUID).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>biblioverlap(
  db_list,
  matching_fields = default_matching_fields,
  n_threads = 1,
  ti_penalty = 0.1,
  ti_max = 0.6,
  so_penalty = 0.1,
  so_max = 0.3,
  au_penalty = 0.1,
  au_max = 0.3,
  py_max = 0.3,
  score_cutoff = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="biblioverlap_+3A_db_list">db_list</code></td>
<td>

<ul>
<li><p> list of dataframes containing the sets of bibliographic data
</p>
</li></ul>
</td></tr>
<tr><td><code id="biblioverlap_+3A_matching_fields">matching_fields</code></td>
<td>

<ul>
<li><p> Five column names used in the matching. Should be universal across all datasets and provided as a named list with the following names: <strong>DI</strong> (unique identifier), <strong>TI</strong> (document title), <strong>PY</strong> (publication year), <strong>SO</strong> (publication source) and <strong>AU</strong> (Authors). Default values come from <a href="https://support.lens.org/knowledge-base/scholar-field-definition/">The Lens scholar field definition</a>.
</p>
</li></ul>
</td></tr>
<tr><td><code id="biblioverlap_+3A_n_threads">n_threads</code></td>
<td>

<ul>
<li><p> number of (logical) cores used in the matching procedures. Default: 1
</p>
</li></ul>
</td></tr>
<tr><td><code id="biblioverlap_+3A_ti_penalty">ti_penalty</code></td>
<td>

<ul>
<li><p> penalty applied for each increment in Title's Levenshtein distance. Default: 0.1
</p>
</li></ul>
</td></tr>
<tr><td><code id="biblioverlap_+3A_ti_max">ti_max</code></td>
<td>

<ul>
<li><p> max score value for Title. Default: 0.6
</p>
</li></ul>
</td></tr>
<tr><td><code id="biblioverlap_+3A_so_penalty">so_penalty</code></td>
<td>

<ul>
<li><p> penalty applied for each increment in Source's Levenshtein distance. Default: 0.1
</p>
</li></ul>
</td></tr>
<tr><td><code id="biblioverlap_+3A_so_max">so_max</code></td>
<td>

<ul>
<li><p> max score value for Source. Default: 0.3
</p>
</li></ul>
</td></tr>
<tr><td><code id="biblioverlap_+3A_au_penalty">au_penalty</code></td>
<td>

<ul>
<li><p> penalty applied for each increment in Author's Levenshtein distance. Default: 0.1
</p>
</li></ul>
</td></tr>
<tr><td><code id="biblioverlap_+3A_au_max">au_max</code></td>
<td>

<ul>
<li><p> max  score value for Author. Default: 0.3
</p>
</li></ul>
</td></tr>
<tr><td><code id="biblioverlap_+3A_py_max">py_max</code></td>
<td>

<ul>
<li><p> max score value for Publication Year. Default: 0.3
</p>
</li></ul>
</td></tr>
<tr><td><code id="biblioverlap_+3A_score_cutoff">score_cutoff</code></td>
<td>

<ul>
<li><p> minimum final score for a valid match between two documents. Default: 1
</p>
</li></ul>
</td></tr>
</table>


<h3>Details</h3>

<p>In this procedure, any duplicates in the same dataset are removed. Then, Universally Unique Identifiers (UUID) are attributed to each record. If a match is found between two documents in a pairwise comparison, the UUID of the record from the first dataset is copied to the record on the second.
</p>
<p>All preprocessing and modifications to the dataset are performed in a copy of the original data, which is used internally by the program. After all pairwise comparisons are completed, the UUID data is added as a new column in the original data.
</p>
<p>Thus, the <code>db_list</code> returned by this function contains the same fields provided by the user plus the UUID column with the overlap information. This allows for further analysis using other fields (e.g. 'number of citations' or 'document type').
</p>


<h3>Value</h3>

<p>a list object containing:
</p>
<p>(i) <code>db_list</code>: a modified version of db_list where matching documents share the same UUID
</p>
<p>(ii) <code>summary</code>: a summary of the results of the matching procedure
</p>


<h3>Note</h3>

<p>In its internal data, the program will attempt to split the AU (Author) field to extract only the first author, for which it will calculate the Levenshtein distance.
</p>
<p>It assumes that the AU field is &quot;;&quot; (semicolon) separated. Thus, in order to correctly perform the matching procedure to when another separator is being applied to this field, the user can either: (i) change the separator to semicolon; or (ii) create a new column containing only the first author.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Example list of input dataframes
lapply(ufrj_bio_0122, head, n=1)

#List of columns for matching (identical to biblioverlap()'s defaults)
matching_cols &lt;- list(DI = 'DOI',
                      TI = 'Title',
                      PY = 'Publication Year',
                      AU = 'Author/s',
                      SO = 'Source Title')

#Running document-level matching procedure (first two dataframes)
biblioverlap_results &lt;- biblioverlap(ufrj_bio_0122[1:2], matching_fields = matching_cols)

#Taking a look at the matched db_list
lapply(biblioverlap_results$db_list, head, n=1)

#Taking a look at the matching results summary
biblioverlap_results$summary

</code></pre>

<hr>
<h2 id='plot_matching_summary'>Plotting biblioverlap's matching summary</h2><span id='topic+plot_matching_summary'></span>

<h3>Description</h3>

<p>Plotting biblioverlap's matching summary
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_matching_summary(matching_summary_df, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_matching_summary_+3A_matching_summary_df">matching_summary_df</code></td>
<td>

<ul>
<li><p> summary of matching process generated by <code><a href="#topic+biblioverlap">biblioverlap()</a></code>
</p>
</li></ul>
</td></tr>
<tr><td><code id="plot_matching_summary_+3A_...">...</code></td>
<td>

<ul>
<li><p> additional arguments passed down to <code><a href="ggplot2.html#topic+geom_text">ggplot2::geom_text()</a></code>
</p>
</li></ul>
</td></tr>
</table>


<h3>Value</h3>

<p>a barplot summary of the matching results
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Running document-level matching procedure
biblioverlap_results &lt;- biblioverlap(ufrj_bio_0122[1:2])

#Checking biblioverlap results (summary table)
biblioverlap_results$summary

#Plotting the matching summary
plot_matching_summary(biblioverlap_results$summary)

</code></pre>

<hr>
<h2 id='plot_upset'>Plotting UpSet plot from biblioverlap results</h2><span id='topic+plot_upset'></span>

<h3>Description</h3>

<p>Plotting UpSet plot from biblioverlap results
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_upset(db_list, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_upset_+3A_db_list">db_list</code></td>
<td>

<ul>
<li><p> list of matched dataframes (with UUID column added by biblioverlap)
</p>
</li></ul>
</td></tr>
<tr><td><code id="plot_upset_+3A_...">...</code></td>
<td>

<ul>
<li><p> arguments to be passed down to <code><a href="UpSetR.html#topic+upset">UpSetR::upset()</a></code>
</p>
</li></ul>
</td></tr>
</table>


<h3>Value</h3>

<p>a UpSet plot representation of document overlap between the input datasets
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Running document-level matching procedure
biblioverlap_results &lt;- biblioverlap(ufrj_bio_0122[1:2])

#Checking biblioverlap results (db_list)
lapply(biblioverlap_results$db_list, head, n=1)

#Plotting the UpSet plot
plot_upset(biblioverlap_results$db_list)

</code></pre>

<hr>
<h2 id='plot_venn'>Plotting Venn Diagram from biblioverlap results</h2><span id='topic+plot_venn'></span>

<h3>Description</h3>

<p>Plotting Venn Diagram from biblioverlap results
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_venn(db_list, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_venn_+3A_db_list">db_list</code></td>
<td>

<ul>
<li><p> list of matched dataframes (with UUID column added by biblioverlap)
</p>
</li></ul>
</td></tr>
<tr><td><code id="plot_venn_+3A_...">...</code></td>
<td>

<ul>
<li><p> Additional arguments that can be passed down to <code><a href="ggVennDiagram.html#topic+ggVennDiagram">ggVennDiagram::ggVennDiagram()</a></code>
</p>
</li></ul>
</td></tr>
</table>


<h3>Value</h3>

<p>a Venn Diagram representation of document overlap between the input datasets
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Running document-level matching procedure
biblioverlap_results &lt;- biblioverlap(ufrj_bio_0122[1:2])

#Checking biblioverlap results (db_list)
lapply(biblioverlap_results$db_list, head, n=1)

#Plotting the Venn diagram
plot_venn(biblioverlap_results$db_list)

</code></pre>

<hr>
<h2 id='ufrj_bio_0122'>UFRJ-affiliated documents from biological sciences disciplines (January 2022)</h2><span id='topic+ufrj_bio_0122'></span>

<h3>Description</h3>

<p>Data obtained from <a href="https://www.lens.org/lens/search/scholar/list?q=">The Lens Scholarly Search</a> in September 6, 2023.
</p>
<p>The original data contained all documents from four major biological sciences fields published in the year 2022 by at least one author affiliated to the Universidade Federal do Rio de Janeiro (UFRJ). The data was then subsampled to documents published exclusively in January 2022 to reduce package size.
</p>
<p>The biological disciplines featured in this dataset are <a href="https://www.lens.org/lens/search/scholar/list?collectionId=212653">Biochemistry</a>, <a href="https://www.lens.org/lens/search/scholar/list?collectionId=212658">Genetics</a>, <a href="https://www.lens.org/lens/search/scholar/list?collectionId=212657">Microbiology</a> and <a href="https://www.lens.org/lens/search/scholar/list?collectionId=212655">Zoology</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ufrj_bio_0122
</code></pre>


<h3>Format</h3>



<h4><code>ufrj_bio_0122</code></h4>

<p>A named list with 4 elements. Each element is a dataframe that contains the following fields:
</p>

<dl>
<dt>Lens ID</dt><dd><p>Unique identifier given to each record in The Lens database</p>
</dd>
<dt>DOI</dt><dd><p>Digital Object Identifier</p>
</dd>
<dt>Title</dt><dd><p>Document title</p>
</dd>
<dt>Publication Year</dt><dd><p>Document publication year</p>
</dd>
<dt>Source Title</dt><dd><p>Source (e.g. journal) where the document has been published</p>
</dd>
<dt>Author/s</dt><dd><p>Document authors</p>
</dd>
<dt>Publication Type</dt><dd><p>Type of the document (e.g. 'journal article', 'book chapter', etc...)</p>
</dd>
<dt>Citing Works Count</dt><dd><p>Total number of citations received by document at the time of data recovery</p>
</dd>
<dt>Open Access Colour</dt><dd><p>Type of open access (e.g. gold, bronze, green, etc...)</p>
</dd>
</dl>




<h3>Source</h3>

<p><a href="https://www.lens.org">https://www.lens.org</a>
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package MonoInc</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {MonoInc}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#data.r'>
<p>Data range</p></a></li>
<li><a href='#decData.r'>
<p>Data range(decreasing)</p></a></li>
<li><a href='#mono.flag'>
<p>Flag</p></a></li>
<li><a href='#mono.range'>
<p>Proportion in Range</p></a></li>
<li><a href='#MonoInc'>
<p>Monotonic Increasing</p></a></li>
<li><a href='#MonoInc-package'>
<p>Cleans and imputes on monotonic data.</p>
</p></a></li>
<li><a href='#monotonic'>
<p>Monotonic Check</p></a></li>
<li><a href='#simDEC_data'>
<p>Simulated Decreasing Data</p></a></li>
<li><a href='#simulated_data'>
<p>Simulated Data</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Monotonic Increasing</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1</td>
</tr>
<tr>
<td>Date:</td>
<td>2016-05-19</td>
</tr>
<tr>
<td>Author:</td>
<td>Melyssa Minto, Michele Josey, and ClarLynda Williams-DeVane</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Michele Josey &lt;mjosey@nccu.edu&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Various imputation methods are utilized in this package, where one can flag and impute non-monotonic data that is outside of a prespecified range.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Depends:</td>
<td>compare, doParallel, foreach, iterators, parallel</td>
</tr>
<tr>
<td>Imports:</td>
<td>sitar</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2016-05-20 16:57:57 UTC; michelejosey</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2016-05-20 22:36:53</td>
</tr>
</table>
<hr>
<h2 id='data.r'>
Data range
</h2><span id='topic+data.r'></span>

<h3>Description</h3>

<p>CDC growth chart of heights of female children aged 0 to 120 months.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("data.r")</code></pre>


<h3>Format</h3>

<p>A data frame with 121 observations on the following 3 variables.
</p>

<dl>
<dt><code>Age</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>Per_5</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>Per_95</code></dt><dd><p>a numeric vector</p>
</dd>
</dl>



<h3>Details</h3>

<p>Range data needed for the simulated data.
</p>


<h3>Source</h3>

<p>http://www.cdc.gov/growthcharts/clinical_charts.htm
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(data.r)
## plot Range boundary lines
tol &lt;- 3
plot(data.r$Age, data.r$Per_5, type="l", lty=2, col=2)
lines(data.r$Age, data.r$Per_95, type="l", lty=2, col=2)
lines(data.r$Age, data.r$Per_5 - tol, type="l", lty=2, col=4)
lines(data.r$Age, data.r$Per_95 + tol, type="l", lty=2, col=4)
</code></pre>

<hr>
<h2 id='decData.r'>
Data range(decreasing)
</h2><span id='topic+decData.r'></span>

<h3>Description</h3>

<p>Chart of measurements of  children aged 0 to 120 months
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("decData.r")</code></pre>


<h3>Format</h3>

<p>A data frame with 121 observations on the following 3 variables.
</p>

<dl>
<dt><code>Age</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>L.bound</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>U.bound</code></dt><dd><p>a numeric vector</p>
</dd>
</dl>



<h3>Details</h3>

<p>Range data needed for the simulated decreasing data.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(decData.r)

## plot Range boundary lines
tol &lt;- 3
plot(decData.r[,1], decData.r[,2], type="l", lty=2, col=2)
lines(decData.r[,1], decData.r[,3], type="l", lty=2, col=2)
lines(decData.r[,1], decData.r[,2] - tol, type="l", lty=2, col=4)
lines(decData.r[,1], decData.r[,3] + tol, type="l", lty=2, col=4)
</code></pre>

<hr>
<h2 id='mono.flag'>
Flag
</h2><span id='topic+mono.flag'></span>

<h3>Description</h3>

<p>This function flags data that is outside the prespecified range and that is not monotonic. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mono.flag(data, id.col, x.col, y.col, min, max, data.r = NULL, tol = 0, direction)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mono.flag_+3A_data">data</code></td>
<td>

<p>a data.frame or matrix of measurement data
</p>
</td></tr>
<tr><td><code id="mono.flag_+3A_id.col">id.col</code></td>
<td>

<p>column where the id's are stored
</p>
</td></tr>
<tr><td><code id="mono.flag_+3A_x.col">x.col</code></td>
<td>

<p>column where x values, or time variable is stored
</p>
</td></tr>
<tr><td><code id="mono.flag_+3A_y.col">y.col</code></td>
<td>

<p>column where y values, or measurements are stored
</p>
</td></tr>
<tr><td><code id="mono.flag_+3A_min">min</code></td>
<td>

<p>lowest acceptable value for measurement; does not have to be a number in ycol
</p>
</td></tr>
<tr><td><code id="mono.flag_+3A_max">max</code></td>
<td>

<p>highest acceptable value for measurement; does not have to be a number in ycol
</p>
</td></tr>
<tr><td><code id="mono.flag_+3A_data.r">data.r</code></td>
<td>

<p>prespecified range for y values; must have three columns: 1 - must match values in xcol, 2 - lower range values, 3 - upper range values
</p>
</td></tr>
<tr><td><code id="mono.flag_+3A_tol">tol</code></td>
<td>

<p>tolerance; how much outside of the range (data.r) is acceptable; same units as data in ycol 
</p>
</td></tr>
<tr><td><code id="mono.flag_+3A_direction">direction</code></td>
<td>

<p>the direction of the function a choice between increasing 'inc', and decreasing 'dec'
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The data range (data.r) does not need to have the same number of rows as data; it only needs to include the exact time increments as xcol. 
</p>


<h3>Value</h3>

<p>Returns the data matrix with two additional columns. &quot;Decreasing&quot; is a logical vector that is TRUE if the observation decreases, or causes the ID to be non-monotonic.  &quot;Outside.Range&quot; is a logical vector that returns TRUE if the observation is outside of the data.r +/- tol range. Any duplicate rows are removed.
</p>


<h3>Author(s)</h3>

<p>Michele Josey  <a href="mailto:mjosey@nccu.edu">mjosey@nccu.edu</a> 
Melyssa Minto  <a href="mailto:mminto@nccu.edu">mminto@nccu.edu</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(simulated_data)
simulated_data &lt;- simulated_data[1:1000,]
data(data.r)
## run mono.flag function 
test &lt;- mono.flag(simulated_data, 1, 2, 3, 30, 175, data.r=data.r, direction='inc')
head(test)

</code></pre>

<hr>
<h2 id='mono.range'>
Proportion in Range
</h2><span id='topic+mono.range'></span>

<h3>Description</h3>

<p>This function reports the proportion of entries that fall inside of the prespecified range.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mono.range(data, data.r, tol, xr.col, x.col, y.col)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mono.range_+3A_data">data</code></td>
<td>

<p>a data.frame or matrix of measurement data
</p>
</td></tr>
<tr><td><code id="mono.range_+3A_data.r">data.r</code></td>
<td>

<p>range for y values; must have three columns: 1 - must match values in x.col, 2 - lower range values, 3 - upper range values
</p>
</td></tr>
<tr><td><code id="mono.range_+3A_tol">tol</code></td>
<td>

<p>tolerance; how much outside of the range (data.r) is acceptable; same units as data in y.col
</p>
</td></tr>
<tr><td><code id="mono.range_+3A_xr.col">xr.col</code></td>
<td>

<p>column where x values, or time variable is stored in data.r
</p>
</td></tr>
<tr><td><code id="mono.range_+3A_x.col">x.col</code></td>
<td>

<p>column where x values, or time variable is stored in data
</p>
</td></tr>
<tr><td><code id="mono.range_+3A_y.col">y.col</code></td>
<td>

<p>column where y values, or measurements are stored in data
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns the proportion of y values that fall inside the prespecified range 
</p>


<h3>Author(s)</h3>

<p>Michele Josey  <a href="mailto:mjosey@nccu.edu">mjosey@nccu.edu</a> 
Melyssa Minto  <a href="mailto:mminto@nccu.edu">mminto@nccu.edu</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(simulated_data)
data(data.r)

mono.range(simulated_data, data.r, tol=4, xr.col=1 ,x.col=2, y.col=3)
</code></pre>

<hr>
<h2 id='MonoInc'>
Monotonic Increasing
</h2><span id='topic+MonoInc'></span>

<h3>Description</h3>

<p>Combines many of the functions in the MonoInc package. Given a data range, weights, and imputation methods of choice, MonoInc will impute flagged values using either one or a combination of two imputation methods. It can also perform all single imputation methods for comparison.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>MonoInc(data, id.col, x.col, y.col, data.r = NULL, tol = 0, direction = "inc", w1 = 0.5, 
  min, max, impType1 = "nn", impType2 = "reg", sum = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="MonoInc_+3A_data">data</code></td>
<td>

<p>a data.frame or matrix of measurement data
</p>
</td></tr>
<tr><td><code id="MonoInc_+3A_id.col">id.col</code></td>
<td>

<p>column where the id's are stored
</p>
</td></tr>
<tr><td><code id="MonoInc_+3A_x.col">x.col</code></td>
<td>

<p>column where x values, or time variable is stored
</p>
</td></tr>
<tr><td><code id="MonoInc_+3A_y.col">y.col</code></td>
<td>

<p>column where y values, or measurements are stored
</p>
</td></tr>
<tr><td><code id="MonoInc_+3A_data.r">data.r</code></td>
<td>

<p>range for y values; must have three columns: 1 - must match values in xcol, 2 - lower range values, 3 - upper range values
</p>
</td></tr>
<tr><td><code id="MonoInc_+3A_tol">tol</code></td>
<td>

<p>tolerance; how much outside of the range (data.r) is acceptable; same units as data in ycol 
</p>
</td></tr>
<tr><td><code id="MonoInc_+3A_direction">direction</code></td>
<td>

<p>the direction of the function a choice between increasing 'inc', and decreasing 'dec'
</p>
</td></tr>
<tr><td><code id="MonoInc_+3A_w1">w1</code></td>
<td>

<p>weight of imputation type 1 (impType1); default is 0.50
</p>
</td></tr>
<tr><td><code id="MonoInc_+3A_min">min</code></td>
<td>

<p>lowest acceptable value for measurement; does not have to be a number in ycol
</p>
</td></tr>
<tr><td><code id="MonoInc_+3A_max">max</code></td>
<td>

<p>highest acceptable value for measurement; does not have to be a number in ycol
</p>
</td></tr>
<tr><td><code id="MonoInc_+3A_imptype1">impType1</code></td>
<td>

<p>imputation method 1, a choice between Nearest Neighbor &quot;nn&quot;, Regression &quot;reg&quot;, Fractional Regression &quot;fr&quot;, Last Observation Carried Forward &quot;locf&quot;, or Last &amp; Next &quot;ln&quot;;  default is &quot;nn&quot;
</p>
</td></tr>
<tr><td><code id="MonoInc_+3A_imptype2">impType2</code></td>
<td>

<p>imputation method 2;  default is &quot;reg&quot;
</p>
</td></tr>
<tr><td><code id="MonoInc_+3A_sum">sum</code></td>
<td>

<p>if true the function will return a matrix of all imputation methods in the package
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If two imputation methods are chosen, MonoInc will take a weighted average of the output of the imputed values. User must chose one or two imputation methods or sum=TRUE for a comparison. If there are not enough values available to impute missing or erroneous values, MonoInc will return an NA. Advice: Do NOT overwrite original data using this function! Use parallel processing if available on your device.
</p>


<h3>Value</h3>

<p>Returns the data matrix with additional columns for the selected imputation method.  If sum=TRUE, it will return a column for each single imputation method.  The Y column will have NAs, indicating that this observation was flagged and imputed, for summary only. Duplicate rows are removed. 
</p>


<h3>Author(s)</h3>

<p>Michele Josey  <a href="mailto:mjosey@nccu.edu">mjosey@nccu.edu</a> 
Melyssa Minto  <a href="mailto:mminto@nccu.edu">mminto@nccu.edu</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(simulated_data)
simulated_data &lt;- simulated_data[1:1000,]
data(data.r)
library(sitar)

## Run MonoInc
sum &lt;- MonoInc(simulated_data, 1,2,3, data.r,5,direction='inc', w1=0.3, min=30, max=175, 
    impType1=NULL, impType2=NULL, sum=TRUE)
head(sum)
test &lt;- MonoInc(simulated_data, 1,2,3, data.r,5,direction='inc', w1=0.3, min=30, max=175, 
    impType1="nn", impType2="fr")
head(test)

## plot longitudinal height for each id
mplot(x=X, y=Nn.Fr, data=test)
tol &lt;- 5
lines(data.r[,1], data.r[,2]-tol, col=2, lty=2)
lines(data.r[,1], data.r[,3]+tol, col=2, lty=2)
</code></pre>

<hr>
<h2 id='MonoInc-package'>
Cleans and imputes on monotonic data.
</h2><span id='topic+MonoInc-package'></span>

<h3>Description</h3>

<p>The MonoInc package in R seeks to clean data so that erroneous values are less effective statistically.  Given a prespecified range, MonoInc will determine if an observation is “unusual”, and then replace the value at the user's will.  MonoInc will impute on participant data individually, so that the number of time points need not be the same. MonoInc will also remove duplicate rows.
</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> MonoInc</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 1.1</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2016-05-19</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL-3</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Author(s)</h3>

<p>Melyssa Minto, Michele Josey
</p>
<p>Maintainer: Michele Josey <a href="mailto:mjosey@nccu.edu">mjosey@nccu.edu</a> 
</p>

<hr>
<h2 id='monotonic'>
Monotonic Check 
</h2><span id='topic+monotonic'></span>

<h3>Description</h3>

<p>This function can check the monoticity of a single vector, matrix, or data.frame that has multiple IDs within the matrix or data.frame. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>monotonic(data, id.col=NULL, y.col=NULL, direction)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="monotonic_+3A_data">data</code></td>
<td>

<p>a data.frame or matrix or vector of measurement data
</p>
</td></tr>
<tr><td><code id="monotonic_+3A_id.col">id.col</code></td>
<td>

<p>column where the id's are stored; default is NULL
</p>
</td></tr>
<tr><td><code id="monotonic_+3A_y.col">y.col</code></td>
<td>

<p>column where y values, or measurements are stored; default is NULL
</p>
</td></tr>
<tr><td><code id="monotonic_+3A_direction">direction</code></td>
<td>

<p>the direction of the function a choice between increasing 'inc', and decreasing 'dec'
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If the user enters a vector, the function returns TRUE or FALSE as to where that particular vector is monotonic increasing or not, it returns NA if the vector has missing values. If the user enters a matrix or data frame, the function returns a matrix with 2 columns. The first column as the id.  The second column as a 0 for FALSE and 1 for TRUE as to where the data in that particular id is monotonic increasing or not, or NA if the y column has missing values in that particular id.
</p>


<h3>Author(s)</h3>

<p>Michele Josey  <a href="mailto:mjosey@nccu.edu">mjosey@nccu.edu</a> 
Melyssa Minto  <a href="mailto:mminto@nccu.edu">mminto@nccu.edu</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(simulated_data)
## Run monotonic
test &lt;- monotonic(simulated_data, 1,3, direction='inc')

## look at the number of ids that are non-monotonic
table(as.logical(test[,2]))

##to ignore NA values
x&lt;-c(1,2,3,5,NA,7,8)
monotonic(na.omit(x), direction='inc')

</code></pre>

<hr>
<h2 id='simDEC_data'>
Simulated Decreasing Data
</h2><span id='topic+simDEC_data'></span>

<h3>Description</h3>

<p>This data was simulated to be monotonically decreasing. There are 500 individuals, with a random number of data points. Each individual has a two-level random effect (intercept and slope), a common intercept, and a random error term. The ages range from 0 to 10 years, which is given in months.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("simDEC_data")</code></pre>


<h3>Format</h3>

<p>A data frame with 5505 observations on the following 3 variables.
</p>

<dl>
<dt><code>id</code></dt><dd><p>a numeric vector of the identification number of each individual</p>
</dd>
<dt><code>age</code></dt><dd><p>a numeric vector of the age in months</p>
</dd>
<dt><code>y</code></dt><dd><p>a numeric vector of measurements</p>
</dd>
</dl>



<h3>References</h3>

<p>http://blog.stata.com/2014/07/18/how-to-simulate-multilevellongitudinal-data/
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(simDEC_data)
library(sitar)

mplot(x=age, y=y, id=id, data=simDEC_data, col=id, main="Individual Measurement Curves")	

</code></pre>

<hr>
<h2 id='simulated_data'>
Simulated Data
</h2><span id='topic+simulated_data'></span>

<h3>Description</h3>

<p>This data was simulated to imitate height growth of female children in electronic medical records. There are 500 individuals, with a random number of data points. Based on the CDC growth curve, each individual has a two-level random effect (intercept and slope), a common intercept, and a random error term. The ages range from 0 to 10 years, which is given in months.</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("simulated_data")</code></pre>


<h3>Format</h3>

<p>A data frame with 5673 observations on the following 3 variables.
</p>

<dl>
<dt><code>nestid</code></dt><dd><p>a numeric vector of the identification number of each individual</p>
</dd>
<dt><code>age</code></dt><dd><p>a numeric vector of the age in months</p>
</dd>
<dt><code>height</code></dt><dd><p>a numeric vector of the height in centimeters</p>
</dd>
</dl>



<h3>References</h3>

<p>http://blog.stata.com/2014/07/18/how-to-simulate-multilevellongitudinal-data/
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(simulated_data)
library(sitar)

## plot each individual growth curve
mplot(x=age, y=height, id=nestid, data=simulated_data, col=nestid, main="Growth Curves")	

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

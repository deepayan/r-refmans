<!DOCTYPE html><html lang="en"><head><title>Help for package ukgasapi</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ukgasapi}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#bmrsIndoItsdo'><p>BMRS Initial Demand Outturn API Service</p></a></li>
<li><a href='#dataItemExplorer'><p>Data Item Explorer API</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>API for UK Energy Market Information</td>
</tr>
<tr>
<td>Version:</td>
<td>0.21</td>
</tr>
<tr>
<td>Author:</td>
<td>Timothy Wong [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Timothy Wong &lt;timothy.wong@hotmail.co.uk&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Allows users to access live UK energy market information via various APIs.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.0.0)</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/timothywong731/ukgasapi/issues">https://github.com/timothywong731/ukgasapi/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>httr,XML</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Suggests:</td>
<td>ggplot2, knitr, rmarkdown</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-10-26 23:52:32 UTC; Timothy Wong</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-11-06 16:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='bmrsIndoItsdo'>BMRS Initial Demand Outturn API Service</h2><span id='topic+bmrsIndoItsdo'></span>

<h3>Description</h3>

<p>This function connects to the Elexon's BMRS API to retrieve Initial Demand Outturn (INDO) and Initial Transmission System Demand Out-Turn (ITSDO) data. Internet connection must be available.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bmrsIndoItsdo(
  fromdate,
  todate,
  apikey,
  batchsize = 60,
  apiurl = "https://api.bmreports.com/BMRS/INDOITSDO/v1"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="bmrsIndoItsdo_+3A_fromdate">fromdate</code></td>
<td>
<p>A character object specifying the start date. Date is inclusive.</p>
</td></tr>
<tr><td><code id="bmrsIndoItsdo_+3A_todate">todate</code></td>
<td>
<p>A character object specifying the end date. Date is inclusive.</p>
</td></tr>
<tr><td><code id="bmrsIndoItsdo_+3A_apikey">apikey</code></td>
<td>
<p>A character object specifying the API key. This is also known as scripting key on Elexon's website.</p>
</td></tr>
<tr><td><code id="bmrsIndoItsdo_+3A_batchsize">batchsize</code></td>
<td>
<p>An interger value indicating the batch size of each API call. (Number of days included in one call)</p>
</td></tr>
<tr><td><code id="bmrsIndoItsdo_+3A_apiurl">apiurl</code></td>
<td>
<p>A character object which points to the BMRS INDO/ITSDO API. Under most circumstances users do not have to change this. Default to 'https://api.bmreports.com/BMRS/INDOITSDO/v1'</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function submits a request to the API. The response is in CSV format which function will parse internally and returns a R dataframe object. The data returned by this API is identical to the data displayed on BMRS dashboard <a href="https://www.bmreports.com/bmrs/?q=demand/initialdemandoutturn">https://www.bmreports.com/bmrs/?q=demand/initialdemandoutturn</a>.
</p>


<h3>Value</h3>

<p>A dataframe object containing API response data.
</p>


<h3>Author(s)</h3>

<p>Timothy Wong, <a href="mailto:timothy.wong@hotmail.co.uk">timothy.wong@hotmail.co.uk</a>
</p>


<h3>References</h3>


<ul>
<li><p> BMRS API and Data Push User Guide<br />
<a href="https://www.elexon.co.uk/documents/training-guidance/bsc-guidance-notes/bmrs-api-and-data-push-user-guide-2/">https://www.elexon.co.uk/documents/training-guidance/bsc-guidance-notes/bmrs-api-and-data-push-user-guide-2/</a>
</p>
</li>
<li><p> Scripting Guide<br />
<a href="https://www.elexonportal.co.uk/scripting">https://www.elexonportal.co.uk/scripting</a>
</p>
</li>
<li><p> Initial Demand Outturn (INDO)<br />
<a href="https://www.bmreports.com/bmrs/?q=help/glossary#INDO">https://www.bmreports.com/bmrs/?q=help/glossary#INDO</a>
</p>
</li>
<li><p> Initial Transmission System Demand Out-Turn (ITSDO)<br />
<a href="https://www.bmreports.com/bmrs/?q=help/glossary#ITSDO">https://www.bmreports.com/bmrs/?q=help/glossary#ITSDO</a>
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Invoke the API (requires internet connection at this step)
response &lt;- bmrsIndoItsdo(fromdate = "2020-01-01",
                          todate =  "2020-01-10",
                          apikey = "your api key goes here")

# Visualise the results on a chart
library(ggplot2)
ggplot(response, aes(x=publishtime, y=value,colour=recordtype)) +
  geom_line()

## End(Not run)
</code></pre>

<hr>
<h2 id='dataItemExplorer'>Data Item Explorer API</h2><span id='topic+dataItemExplorer'></span>

<h3>Description</h3>

<p>This function connects to the UK National Grid's API for Data Item Explorer, which is a major data source for gas-related information. Internet connection must be available.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dataItemExplorer(
  dataitems,
  fromdate,
  todate,
  datetype = "gasday",
  latestflag = "Y",
  applicableforflag = "Y",
  batchsize = -1,
  apiurl = paste0("https://marketinformation.natgrid.co.uk/",
    "MIPIws-public/public/publicwebservice.asmx")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dataItemExplorer_+3A_dataitems">dataitems</code></td>
<td>
<p>A vector of characters containing data items to enquire via API.</p>
</td></tr>
<tr><td><code id="dataItemExplorer_+3A_fromdate">fromdate</code></td>
<td>
<p>A character object specifying the start date. Date is inclusive.</p>
</td></tr>
<tr><td><code id="dataItemExplorer_+3A_todate">todate</code></td>
<td>
<p>A character object specifying the end date. Date is inclusive.</p>
</td></tr>
<tr><td><code id="dataItemExplorer_+3A_datetype">datetype</code></td>
<td>
<p>A character object specifying the data type. Defaults to <code>gasday</code></p>
</td></tr>
<tr><td><code id="dataItemExplorer_+3A_latestflag">latestflag</code></td>
<td>
<p>A character object with length of one to specify whether to extract the latest data. This can either be <code>Y</code> or <code>N</code>. Defaults to <code>Y</code>.</p>
</td></tr>
<tr><td><code id="dataItemExplorer_+3A_applicableforflag">applicableforflag</code></td>
<td>
<p>A character object with length of one to specify whether dates specified are 'applicable for' or 'applicable on'. This can either be <code>Y</code> or <code>N</code> where <code>Y</code> indicates 'applicable for'. Defaults to <code>Y</code>.</p>
</td></tr>
<tr><td><code id="dataItemExplorer_+3A_batchsize">batchsize</code></td>
<td>
<p>An interger value indicating the batch size of each API call. To invoke a single API call, use zero or negative values.</p>
</td></tr>
<tr><td><code id="dataItemExplorer_+3A_apiurl">apiurl</code></td>
<td>
<p>A character object which points to National Grid's SOAP API. Under most circumstances users do not have to change this. Default to 'http://marketinformation.natgrid.co.uk/MIPIws-public/public/publicwebservice.asmx'</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function submits a request to the API using XML over SOAP protocol. The response is in XML format which function will parse internally and returns a R dataframe object.
</p>


<h3>Value</h3>

<p>A dataframe object containing API response data.
</p>


<h3>Author(s)</h3>

<p>Timothy Wong, <a href="mailto:timothy.wong@hotmail.co.uk">timothy.wong@hotmail.co.uk</a>
</p>


<h3>References</h3>


<ul>
<li><p> Graphical User Interface for Data Item Explorer<br />
<a href="https://mip-prd-web.azurewebsites.net/DataItemExplorer">https://mip-prd-web.azurewebsites.net/DataItemExplorer</a>
</p>
</li>
<li><p> API specification<br />
<a href="https://marketinformation.natgrid.co.uk/MIPIws-public/public/publicwebservice.asmx?op=GetPublicationDataWM">https://marketinformation.natgrid.co.uk/MIPIws-public/public/publicwebservice.asmx?op=GetPublicationDataWM</a>
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Specify the data item(s) to enquire from API
dataitems &lt;- c("Storage Injection, Actual",
               "Storage Withdrawal, Actual")

# Invoke the API (requires internet connection at this step)
response &lt;- dataItemExplorer(dataitems,
                             fromdate = "2020-01-01",
                             todate="2020-01-31")

# Visualise the results on a chart
library(ggplot2)
ggplot(response,aes(x=ApplicableFor,y=Value,colour=PublicationObjectName)) +
 geom_line()

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

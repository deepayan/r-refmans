<!DOCTYPE html><html lang="en-US"><head><title>Help for package disastr.api</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {disastr.api}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#disastr.api'><p>Wrapper for the UN OCHA ReliefWeb Disaster Events API</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Wrapper for the UN OCHA ReliefWeb Disaster Events API</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.6</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-04-23</td>
</tr>
<tr>
<td>Author:</td>
<td>Christoph Dworschak
    <a href="https://orcid.org/0000-0003-0196-9545"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Christoph Dworschak &lt;dworschak@posteo.de&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Access and manage the application programming interface (API) of the United Nations Office for the Coordination of Humanitarian Affairs' (OCHA) ReliefWeb disaster events at <a href="https://reliefweb.int/disasters">https://reliefweb.int/disasters</a>. The package requires a minimal number of dependencies. It offers functionality to retrieve a user-defined sample of disaster events from ReliefWeb, providing an easy alternative to scraping the ReliefWeb website. It enables a seamless integration of regular data updates into the research work flow.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Imports:</td>
<td>httr, jsonlite</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-04-23 15:13:18 UTC; root</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-04-25 15:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='disastr.api'>Wrapper for the UN OCHA ReliefWeb Disaster Events API</h2><span id='topic+disastr.api'></span>

<h3>Description</h3>

<p>The function <code>disastr.api()</code> gives access to the OCHA ReliefWeb API to retrieve a
user-defined sample of <a href="https://reliefweb.int/disasters">disaster events</a>,
enabling a seamless integration of regular data updates into
the research work flow.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>disastr.api(
  limit = NULL,
  date.start = NULL,
  date.end = NULL,
  disaster = NULL,
  country = NULL,
  status = NULL,
  exact.match = FALSE,
  ascending = FALSE,
  other.query = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="disastr.api_+3A_limit">limit</code></td>
<td>
<p>numeric. Provide the number of events you wish to retrieve. When set to NULL (default), 100 events are returned.
The ReliefWeb API does not support the retrieval of more than 1000 events at once. If you wish to retrieve more than
1000 disaster events, you need to distribute this over multiple calls (e.g., using a loop).
Note however that the ReliefWeb API has a call quota of 1000 data requests a day.</p>
</td></tr>
<tr><td><code id="disastr.api_+3A_date.start">date.start</code></td>
<td>
<p>character string. Enter the earliest date from which events should be retrieved. The date
string must be formatted as &quot;yyyy-mm-dd&quot;. When set to NULL (default), the sample starts with the earliest possible event.</p>
</td></tr>
<tr><td><code id="disastr.api_+3A_date.end">date.end</code></td>
<td>
<p>character string. Enter the latest date up to which (and including) events should be retrieved. The date
string must be formatted as &quot;yyyy-mm-dd&quot;. When set to NULL (default), data are retrieved up to the latest event.</p>
</td></tr>
<tr><td><code id="disastr.api_+3A_disaster">disaster</code></td>
<td>
<p>character vector. To return only specific disaster events, this argument takes a character vector of disaster
names. Examples of typical names are &quot;earthquake&quot;, &quot;flood&quot;, &quot;land slide&quot;, &quot;wild fire&quot;. See <a href="https://reliefweb.int/disasters">https://reliefweb.int/disasters</a> for
more disaster names that can be queried. Names are matched with loose OR operators, so that querying &quot;land slide&quot; also returns
events for &quot;mud slide&quot;. To do exact matching, set the global <em>exact.match</em> argument to TRUE. In this case, only one disaster type
and one country at a time can be queried.</p>
</td></tr>
<tr><td><code id="disastr.api_+3A_country">country</code></td>
<td>
<p>character vector. To return only specific countries, this argument takes a character vector of country
names. Names are matched with loose OR operators, so that querying &quot;South Sudan&quot; also returns events for the countries
&quot;South Africa&quot; and &quot;Sudan&quot;. To do exact matching, set the global <em>exact.match</em> argument to TRUE. In this case, only one country
and one disaster type at a time can be queried.</p>
</td></tr>
<tr><td><code id="disastr.api_+3A_status">status</code></td>
<td>
<p>character vector. To only return events with a specific status, this argument takes a character vector of status
terms. Possible terms are &quot;alert&quot;, &quot;current&quot;, and &quot;past&quot;.</p>
</td></tr>
<tr><td><code id="disastr.api_+3A_exact.match">exact.match</code></td>
<td>
<p>logical. This is a rudimentary AND/OR switch. If set to FALSE (default), all terms and words in country, disaster, and status
arguments will be matched with OR operators (possibly yielding many false positive queries). If set to TRUE, all terms are matched exactly,
and only one term per argument at a time can be queried. Use <em>other.query</em> for more complex AND/OR operations.</p>
</td></tr>
<tr><td><code id="disastr.api_+3A_ascending">ascending</code></td>
<td>
<p>logical. If set to FALSE (default), events will be returned in decreasing order starting from the most
recent. If set to TRUE, events will be returned in ascending order starting from the oldest record.</p>
</td></tr>
<tr><td><code id="disastr.api_+3A_other.query">other.query</code></td>
<td>
<p>character vector. Allows users to add their own ReliefWeb API queries to the
GET call. See the <a href="https://apidoc.reliefweb.int/">ReliefWeb documentation</a> for query details. Vector elements are
assumed to be individual queries, and are automatically separated by an &amp; sign.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function <code>disastr.api()</code> is an R wrapper for
the United Nations Office for the Coordination of Humanitarian Affairs' <a href="https://reliefweb.int/disasters">OCHA ReliefWeb disaster events</a> API.
Internally it uses <code>httr</code> to access the API, and <code>jsonlite</code> to manage the JSON content that the call returns. The JSON data
are converted into the base class <code>data.frame</code>. Variables are of class <code>character</code> by default.
Variables which only contain numbers as recognized by the regular
expression <code style="white-space: pre;">&#8288;^[0-9]+$&#8288;</code> are coerced into <code>numeric</code> before the <code>data.frame</code> object is returned. <br /> <br />
</p>


<h3>Value</h3>

<p>A data frame containing OCHA ReliefWeb disaster events.
</p>


<h3>Author(s)</h3>

<p>Christoph Dworschak <br /> Website: <a href="https://www.chrisdworschak.com/">https://www.chrisdworschak.com/</a>
</p>


<h3>References</h3>

<p>United Nations Office for the Coordination of Humanitarian Affairs. <em>ReliefWeb Disasters</em>. <a href="https://reliefweb.int/disasters">https://reliefweb.int/disasters</a> <br />
</p>


<h3>Examples</h3>

<pre><code class='language-R'>my.data.frame1 &lt;- disastr.api()
head(my.data.frame1)

my.data.frame2 &lt;- disastr.api(limit = 20,
date.start = "2020-01-31",
date.end = "2020-04-15")
head(my.data.frame2)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package pkgmaker</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {pkgmaker}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#.packageMetaRegistry'><p>Creates or Retrieves a Package Meta Registry</p></a></li>
<li><a href='#.silenceF'><p>Silencing Functions</p></a></li>
<li><a href='#add_lib'><p>Adding Package Libraries</p></a></li>
<li><a href='#addnames'><p>Generating Names</p></a></li>
<li><a href='#addToLogger'><p>Enhancing RUnit Logger</p></a></li>
<li><a href='#alphacol'><p>Colour utilities</p></a></li>
<li><a href='#askUser'><p>User Queries</p></a></li>
<li><a href='#bibtex'><p>Bibtex Utilities</p></a></li>
<li><a href='#cgetAnywhere'><p>Get Anywhere</p></a></li>
<li><a href='#charmap'><p>Substituting Strings Against a Mapping Table</p></a></li>
<li><a href='#checkPlot'><p>Plot in Unit Tests</p></a></li>
<li><a href='#checkWarning'><p>Extra Check Functions for RUnit</p></a></li>
<li><a href='#cite_pkg'><p><code>bibcite</code> provides an inline package citation functionnality.</p>
Technically it adds a given Bibtex key to a cache that is used at the end of the
document processing to generate a .bib file with all citation keys.</a></li>
<li><a href='#citecmd'><p>Citing Package References</p></a></li>
<li><a href='#compile_src'><p>Compile Source Files from a Development Package</p></a></li>
<li><a href='#CRAN'><p>Main CRAN Mirror URL</p></a></li>
<li><a href='#digest_function'><p>Compute Function Digest Hash</p></a></li>
<li><a href='#exitCheck'><p>Exit Error Checks</p></a></li>
<li><a href='#expand_list'><p>Expanding Lists</p></a></li>
<li><a href='#ExposeAttribute'><p>Exposing Object Attributes</p></a></li>
<li><a href='#extractLocalFun'><p>Extracting Local Function Definition</p></a></li>
<li><a href='#factor2character'><p>Converting Factors to Character Vectors</p></a></li>
<li><a href='#file_extension'><p>Extract File Extension</p></a></li>
<li><a href='#find_devpackage'><p>Find Path to Development Package Root Directory</p></a></li>
<li><a href='#fix_registry'><p>Fix Registry Access Functions</p></a></li>
<li><a href='#getLoadingNamespace'><p>Namespace Development Functions</p></a></li>
<li><a href='#gfile'><p>Open a File Graphic Device</p></a></li>
<li><a href='#graphics-utils'><p>Utility Functions for Graphics</p></a></li>
<li><a href='#hasArg2'><p>Checking for Missing Arguments</p></a></li>
<li><a href='#hasEnvar'><p>Check Environment Variables</p></a></li>
<li><a href='#inSweave'><p>Identifying Sweave Run</p></a></li>
<li><a href='#irequire'><p>Require a Package with User Interaction</p></a></li>
<li><a href='#is_package_path'><p>Test for Package Root Directory</p></a></li>
<li><a href='#is_something'><p>Testing Object Type</p></a></li>
<li><a href='#isCRANcheck'><p>Package Check Utils</p></a></li>
<li><a href='#iterCount'><p>Simple Text Iteration Counter</p></a></li>
<li><a href='#knit_ex'><p>Knitr Extensions</p></a></li>
<li><a href='#latex_preamble'><p>LaTeX Utilities for Vignettes</p></a></li>
<li><a href='#list.data'><p>List Package Data Objects</p></a></li>
<li><a href='#list.libs'><p>Library Files Utilities</p></a></li>
<li><a href='#load_all_file'><p>Generate a Loading Script for Development Packages</p></a></li>
<li><a href='#load_project'><p>Load Development Package</p></a></li>
<li><a href='#lverbose'><p>Logging Feature</p></a></li>
<li><a href='#make_vignette_auxfiles'><p>Generate RMarkdown Vignette Axiliary Files</p></a></li>
<li><a href='#makeFakeVignette'><p>Generate a Fake Vignette</p></a></li>
<li><a href='#makeUnitVignette'><p>Make Vignette for Unit Tests</p></a></li>
<li><a href='#messagef'><p>General Log Formating</p></a></li>
<li><a href='#mkoptions'><p>Quick Option-like Feature</p></a></li>
<li><a href='#new2'><p>Alternative S4 Constructor</p></a></li>
<li><a href='#oneoffVariable'><p>One-off Global Variables</p></a></li>
<li><a href='#onLoad'><p>Default Load/Unload Functions</p></a></li>
<li><a href='#option_symlink'><p><code>option_symlink</code> creates a symbolic link to option <code>x</code>.</p></a></li>
<li><a href='#orderVersion'><p>Ordering Version Numbers</p></a></li>
<li><a href='#packageData'><p>Loading Package Data</p></a></li>
<li><a href='#packageEnv'><p>Package Development Utilities</p></a></li>
<li><a href='#packageReference'><p>Package References</p></a></li>
<li><a href='#packageRegistry'><p>Package Registry</p></a></li>
<li><a href='#packageTestEnv'><p>Returns the package internal environment where unit tests are stored.</p></a></li>
<li><a href='#parsePackageCitation'><p>Formatting Package Citations in Sweave/knitr Documents</p></a></li>
<li><a href='#pkgmaker-deprecated'><p>Deprecated Functions in pkgmaker</p></a></li>
<li><a href='#postponeAction'><p>Postponing Actions</p></a></li>
<li><a href='#quickinstall'><p>Quick Installation of a Source Package</p></a></li>
<li><a href='#R.exec'><p>Executing R Commands</p></a></li>
<li><a href='#RdSection2latex'><p>Format Rd Sections into LatTeX</p></a></li>
<li><a href='#read.yaml_section'><p>Reads YAML Options Embbeded into a File</p></a></li>
<li><a href='#regfetch'><p>Finds an entry in a registry.</p></a></li>
<li><a href='#render_notes'><p>Renders rmarkdown Documents Using User Default Options</p></a></li>
<li><a href='#reorder_columns'><p>Reordering Columns</p></a></li>
<li><a href='#require.quiet'><p>Loading Packages</p></a></li>
<li><a href='#requireRUnit'><p>Load RUnit Compatible Package</p></a></li>
<li><a href='#rnw'><p>Utilities for Vignettes</p></a></li>
<li><a href='#runVignette'><p>Compile a Vignette Object</p></a></li>
<li><a href='#Rversion'><p>Complete R version</p></a></li>
<li><a href='#setBiocMirror'><p>Setting Mirrors and Repositories</p></a></li>
<li><a href='#setClassRegistry'><p>Automatic S4 Class for Registry Entries</p></a></li>
<li><a href='#setPackageExtraHandler'><p>Install/Run Extra Things After Standard Package Installation</p></a></li>
<li><a href='#setupPackageOptions'><p>Package Specific Options</p></a></li>
<li><a href='#simpleRegistry'><p>Simple Package Registry</p></a></li>
<li><a href='#source_files'><p>Source Multiple Files</p></a></li>
<li><a href='#str_diff'><p>Finding Differences Between Strings</p></a></li>
<li><a href='#str_out'><p>Formatting Utilities</p></a></li>
<li><a href='#sVariable'><p>Global Static Variable</p></a></li>
<li><a href='#sys_call_stack'><p>System Call Stack Utilities</p></a></li>
<li><a href='#Sys.getenv_value'><p>System Environment Variables</p></a></li>
<li><a href='#testRversion'><p>Testing R Version</p></a></li>
<li><a href='#unit.test'><p>Embedded Unit Tests</p></a></li>
<li><a href='#unlist_'><p>Flatten a List Conserving Names</p></a></li>
<li><a href='#unlist_with_sep'><p>Flattens All List Levels Using Separated Names</p></a></li>
<li><a href='#userData'><p>User Data Directory</p>
</p>
<p><code>userData</code> returns the path to a local directory/file where package-related user data can be stored.</p>
Note that a base directory is <strong>always</strong> created if necessary (see details).</a></li>
<li><a href='#userIs'><p>Checking R User</p></a></li>
<li><a href='#using_something'><p>Execute code in temporarily altered environment.</p></a></li>
<li><a href='#utest'><p>Running Unit Tests</p></a></li>
<li><a href='#utestFramework'><p>Inferring Unit Test Framework</p></a></li>
<li><a href='#utestPath'><p>Unit Tests Result Directory</p></a></li>
<li><a href='#winbuild'><p>Build a Windows Binary Package</p></a></li>
<li><a href='#write.bib'><p>Defunct Functions in pkgmaker</p></a></li>
<li><a href='#write.pkgbib'><p>Generate a Bibtex File from Package Citations</p></a></li>
<li><a href='#writeUnitVignette'><p>Writes Unit Tests Vignette</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Development Utilities for R Packages</td>
</tr>
<tr>
<td>Version:</td>
<td>0.32.10</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-05-03</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides some low-level utilities to use for package
    development. It currently provides managers for multiple package specific
    options and registries, vignette, unit test and bibtex related utilities.
    It serves as a base package for packages like 'NMF', 'RcppOctave', 'doRNG', and
    as an incubator package for other general purposes utilities, that will
    eventually be packaged separately.
    It is still under heavy development and changes in the interface(s) are
    more than likely to happen.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://renozao.github.io/pkgmaker/">https://renozao.github.io/pkgmaker/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/renozao/pkgmaker/issues">https://github.com/renozao/pkgmaker/issues</a></td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.0.0), methods, stats, registry</td>
</tr>
<tr>
<td>Imports:</td>
<td>tools, grDevices, utils, graphics, codetools, digest, stringr,
xtable, withr, assertthat</td>
</tr>
<tr>
<td>Suggests:</td>
<td>devtools (&ge; 0.8), roxygen2, RUnit, testthat, knitr,
rmarkdown, markdown (&ge; 1.3), yaml, Biobase, datasets,
rbibutils (&ge; 1.3)</td>
</tr>
<tr>
<td>Collate:</td>
<td>'bibtex.R' 'colors.R' 'data.R' 'namespace.R' 'utils.R'
'devutils.R' 'files.R' 'graphics.R' 'options.R' 'logging.R'
'unitTests.R' 'is.R' 'knitr.R' 'registry.R' 'package-extra.R'
'package.R' 'packages.R' 'project.R' 'rd.R' 'user.R'
'vignette.R' 'with.r'</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-05-03 08:01:53 UTC; renaud</td>
</tr>
<tr>
<td>Author:</td>
<td>Renaud Gaujoux [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Renaud Gaujoux &lt;renozao@protonmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-05-03 11:30:08 UTC</td>
</tr>
</table>
<hr>
<h2 id='.packageMetaRegistry'>Creates or Retrieves a Package Meta Registry</h2><span id='topic+.packageMetaRegistry'></span>

<h3>Description</h3>

<p>This function is used in <code><a href="#topic+setPackageRegistry">setPackageRegistry</a></code> and
<code><a href="#topic+packageRegistry">packageRegistry</a></code> to create or query meta registries.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.packageMetaRegistry(package, quiet = FALSE, create = FALSE)
</code></pre>

<hr>
<h2 id='.silenceF'>Silencing Functions</h2><span id='topic+.silenceF'></span>

<h3>Description</h3>

<p>Generates a wrapper function that silences the output, messages, and/or warnings of a given function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.silenceF(f, level = 7L)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".silenceF_+3A_f">f</code></td>
<td>
<p>function to silence</p>
</td></tr>
<tr><td><code id=".silenceF_+3A_level">level</code></td>
<td>
<p>a single numeric (integer) that indicates the silencing level, which encodes the set of
output to be silenced.
</p>
<p>It is interpreted like unix permission bit system, where each bit of the binary expression of the silencing
level corresponds to a given type of output:
</p>

<ul>
<li><p> 0: nothing silenced;
</p>
</li>
<li><p> 1: <em>stdout</em>;
</p>
</li>
<li><p> 2: <em>stderr</em> messages;
</p>
</li>
<li><p> 4: <em>stderr</em> warnings.
</p>
</li></ul>

<p>For example, level <code>3 = 2 + 1</code> means silencing <em>stdout</em> and <em>stderr</em>, while
<code>5 = 3 + 2</code> means silencing <em>stderr</em> messages and warnings, but not outputs to <em>stdout</em>.
The default value is <code>7 = 4 + 2 + 1</code>, which silences all output.
</p>
<p>Negative values are supported and mean <em>&quot;silence everything except the corresponding type&quot;</em>,
e.g., <code>level = -1</code> silences all except <em>stdout</em> (computed as the binary complementary of 7, i.e. <code>7 - 1 = 5 = 3 + 2</code>).
See examples.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a function
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
f &lt;- function(){
	cat("stdout message\n")
 message("stderr message")
	warning("stderr warning", immediate. = TRUE)
}

# example of generated wrapper
g &lt;- .silenceF(f)
g

# use of silencing level
for(l in 7:-7){ message("\nLevel: ", l); .silenceF(f, l)() }

# inline functions
ifun &lt;- .silenceF(function(){ f(); invisible(1) })
ifun()
ifun &lt;- .silenceF(function(){ f(); 1 })
ifun()
ifun &lt;- .silenceF(function(){ f(); 1 }, 2L)
ifun()

</code></pre>

<hr>
<h2 id='add_lib'>Adding Package Libraries</h2><span id='topic+add_lib'></span>

<h3>Description</h3>

<p>Prepend/append paths to the library path list, using <code><a href="base.html#topic+.libPaths">.libPaths</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_lib(..., append = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_lib_+3A_...">...</code></td>
<td>
<p>paths to add to .libPath</p>
</td></tr>
<tr><td><code id="add_lib_+3A_append">append</code></td>
<td>
<p>logical that indicates that the paths should be appended
rather than prepended.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is meant to be more convenient than <code>.libPaths</code>, which requires
more writing if one wants to:
</p>

<ul>
<li><p> sequentially add libraries;
</p>
</li>
<li><p> append and not prepend new path(s);
</p>
</li>
<li><p> keep the standard user library in the search path.
</p>
</li></ul>



<h3>Value</h3>

<p>Returns the new set of library paths.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ol &lt;- .libPaths()
# called sequentially, .libPaths only add the last library
show( .libPaths('.') )
show( .libPaths(tempdir()) )
# restore
.libPaths(ol)

# .libPaths does not keep the standard user library
show( .libPaths() ) 
show( .libPaths('.') )
# restore
.libPaths(ol)

# with add_lib
show( add_lib('.') )
show( add_lib(tempdir()) )
show( add_lib('..', append=TRUE) )

# restore 
.libPaths(ol)

</code></pre>

<hr>
<h2 id='addnames'>Generating Names</h2><span id='topic+addnames'></span><span id='topic+addnames.default'></span><span id='topic+addnames.vector'></span><span id='topic+addnames.array'></span><span id='topic+addnames.matrix'></span>

<h3>Description</h3>

<p>Generates names or dimnames for objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addnames(x, ...)

## Default S3 method:
addnames(x, ...)

## S3 method for class 'vector'
addnames(x, prefix = "x", sep = "", ...)

## S3 method for class 'array'
addnames(x, prefix = letters[1:length(dim(x))], sep = "", ...)

## S3 method for class 'matrix'
addnames(x, prefix = c("row", "col"), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addnames_+3A_x">x</code></td>
<td>
<p>object whose names are generated.</p>
</td></tr>
<tr><td><code id="addnames_+3A_...">...</code></td>
<td>
<p>extra arguments to allow extension and passed to the next method.</p>
</td></tr>
<tr><td><code id="addnames_+3A_prefix">prefix</code></td>
<td>
<p>prefix string to use. A vector can be used to specify a prefix
for each dimension of <code>x</code>.
Names are build as <code>&lt;prefix&gt;&lt;sep&gt;&lt;index&gt;</code>.</p>
</td></tr>
<tr><td><code id="addnames_+3A_sep">sep</code></td>
<td>
<p>separator used between the prefix and the numeric index.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the input object updated with names.
</p>

<hr>
<h2 id='addToLogger'>Enhancing RUnit Logger</h2><span id='topic+addToLogger'></span>

<h3>Description</h3>

<p>Adds a function or a local variable to RUnit global logger.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addToLogger(name, value, logger = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addToLogger_+3A_name">name</code></td>
<td>
<p>name of the function or variable to add</p>
</td></tr>
<tr><td><code id="addToLogger_+3A_value">value</code></td>
<td>
<p>object to append to the logger.
If <code>value</code> is a function it is added to the list and is accessible via
<code>.testLogger$name</code>.
If <code>value</code> is a variable it is added to the local environment and is
therefore accessible in all logging functions.</p>
</td></tr>
<tr><td><code id="addToLogger_+3A_logger">logger</code></td>
<td>
<p>an optional RUnit logger object.
If missing or <code>NULL</code>, the object <code>.testLogger</code> is searched in
<code>.GlobalEnv</code> &ndash; and an error is thrown if it does not exist.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the modified logger object. Note that the global object is also
modified if <code>logger</code> is <code>NULL</code>.
</p>

<hr>
<h2 id='alphacol'>Colour utilities</h2><span id='topic+alphacol'></span>

<h3>Description</h3>

<p><code>alphacol</code> adds an alpha value to a colour specification and convert to
a hexadecimal colour string.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>alphacol(col, alpha = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="alphacol_+3A_col">col</code></td>
<td>
<p>vector of any of the three kinds of <span class="rlang"><b>R</b></span> color specifications,
i.e., either a color name (as listed by <code><a href="grDevices.html#topic+colors">colors</a>()</code>), a
hexadecimal string of the form <code>"#rrggbb"</code> or
<code>"#rrggbbaa"</code> (see <code><a href="grDevices.html#topic+rgb">rgb</a></code>), or a positive integer
<code>i</code> meaning <code><a href="grDevices.html#topic+palette">palette</a>()[i]</code>.</p>
</td></tr>
<tr><td><code id="alphacol_+3A_alpha">alpha</code></td>
<td>
<p>logical value indicating whether the alpha channel (opacity)
values should be returned.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a character vector of color specifications.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Alphas
alphacol('red') # do nothing
alphacol('red', 10)
alphacol('#aabbcc', 5)
alphacol(4, 5)

</code></pre>

<hr>
<h2 id='askUser'>User Queries</h2><span id='topic+askUser'></span>

<h3>Description</h3>

<p>This function is an improved version of <code>userQuery</code> from Bioconductor <span class="pkg">Biobase</span>
package, which asks the user about some task that needs her intervention to proceed,
e.g., ask if one should perform a computation, install a package, etc..
</p>


<h3>Usage</h3>

<pre><code class='language-R'>askUser(
  msg,
  allowed = c("y", "n"),
  idefault = "n",
  default = "n",
  case.sensitive = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="askUser_+3A_msg">msg</code></td>
<td>
<p>The output message</p>
</td></tr>
<tr><td><code id="askUser_+3A_allowed">allowed</code></td>
<td>
<p>Allowed input from the user</p>
</td></tr>
<tr><td><code id="askUser_+3A_idefault">idefault</code></td>
<td>
<p>default response in interactive mode.
This answer will be in upper case in the question and will be the one returned if the
user simply hits return.</p>
</td></tr>
<tr><td><code id="askUser_+3A_default">default</code></td>
<td>
<p>default response in non-interactive mode.
</p>
<p>If <code>NA</code>, then the user is forced to provide an answer, even in non-interactive mode
(e.g., when run through <code>Rscript</code>).</p>
</td></tr>
<tr><td><code id="askUser_+3A_case.sensitive">case.sensitive</code></td>
<td>
<p>Is the response case sensitive? Defaults to
<code>FALSE</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>the character string typed/agreed by the user or directly the default answer in
non-interactive mode.
</p>

<hr>
<h2 id='bibtex'>Bibtex Utilities</h2><span id='topic+bibtex'></span><span id='topic+packageReferenceFile'></span><span id='topic+package_bibliography'></span>

<h3>Description</h3>

<p>Utility functions to work with BiBTeX files.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>packageReferenceFile(PACKAGE = NULL, check = FALSE)

package_bibliography(PACKAGE = NULL, action = c("path", "copy", "load"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bibtex_+3A_package">PACKAGE</code></td>
<td>
<p>package name. If <code>NULL</code>, then the name of the calling package is used.</p>
</td></tr>
<tr><td><code id="bibtex_+3A_check">check</code></td>
<td>
<p>logical that indicates if the result should be an empty string if the
bibliography file (or package) does not exist.</p>
</td></tr>
<tr><td><code id="bibtex_+3A_action">action</code></td>
<td>
<p>single character string that specifies the action to be performed:
</p>

<ul>
<li><p> 'path': return the path to the bibliography file. It returns an empty character
string if the file does not exist.
</p>
</li>
<li><p> 'copy': copy the bibliography file to the current directory, overwriting any existing
<code>REFERENCES.bib</code> file.
</p>
</li>
<li><p> 'load': load the bibliography file and return a list of <a href="utils.html#topic+bibentry">utils::bibentry</a>
objects. It returns <code>NULL</code> if the file does not exist.
</p>
</li></ul>
</td></tr>
</table>


<h3>Value</h3>


<ul>
<li> <p><code>packageReferenceFile</code>: returns the path to the REFERENCES file as a character string.
</p>
</li></ul>


<ul>
<li> <p><code>package_bibliography</code>: returns the bibiliography as a bibtex list object,
as returned by <a href="rbibutils.html#topic+readBib">rbibutils::readBib</a>.
</p>
</li></ul>



<h3>Functions</h3>


<ul>
<li> <p><code>packageReferenceFile()</code>: returns the path to a package REFERENCES.bib file.
</p>
</li>
<li> <p><code>package_bibliography()</code>: returns the bibliography associated with a package.
This can
</p>
</li></ul>


<h3>Examples</h3>

<pre><code class='language-R'>
packageReferenceFile('pkgmaker')
packageReferenceFile('pkgmaker', check = TRUE)

</code></pre>

<hr>
<h2 id='cgetAnywhere'>Get Anywhere</h2><span id='topic+cgetAnywhere'></span>

<h3>Description</h3>

<p>Similar to <code><a href="utils.html#topic+getAnywhere">getAnywhere</a></code>, but looks for the value of its argument.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cgetAnywhere(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cgetAnywhere_+3A_x">x</code></td>
<td>
<p>a single character string</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The value of <a href="utils.html#topic+getAnywhere">getAnywhere</a>.
</p>

<hr>
<h2 id='charmap'>Substituting Strings Against a Mapping Table</h2><span id='topic+charmap'></span>

<h3>Description</h3>

<p>Match the elements of a character vectors against a mapping table,
that can specify multiple exact or partial matches.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>charmap(x, maps, nomatch = NULL, partial = FALSE, rev = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="charmap_+3A_x">x</code></td>
<td>
<p>character vector to match</p>
</td></tr>
<tr><td><code id="charmap_+3A_maps">maps</code></td>
<td>
<p>mapping tables.
May be a character vector, a list of character vectors or a function.</p>
</td></tr>
<tr><td><code id="charmap_+3A_nomatch">nomatch</code></td>
<td>
<p>character string to be used for non-matched elements of <code>x</code>.
If <code>NULL</code>, these elements are left unchanged.</p>
</td></tr>
<tr><td><code id="charmap_+3A_partial">partial</code></td>
<td>
<p>logical that indicates if partial matches are allowed,
in which case mappings are used as regular expressions.</p>
</td></tr>
<tr><td><code id="charmap_+3A_rev">rev</code></td>
<td>
<p>logical that indicates if the mapping should be interpreted in the
reverse way.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector.
</p>

<hr>
<h2 id='checkPlot'>Plot in Unit Tests</h2><span id='topic+checkPlot'></span>

<h3>Description</h3>

<p>Saves a plot in a PNG file that will be included in unit test HTML reports.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>checkPlot(expr, msg = NULL, width = 1000, height = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="checkPlot_+3A_expr">expr</code></td>
<td>
<p>expression that generate th eplot</p>
</td></tr>
<tr><td><code id="checkPlot_+3A_msg">msg</code></td>
<td>
<p>plot msg explaining the plot . It will be used as the caption</p>
</td></tr>
<tr><td><code id="checkPlot_+3A_width">width</code></td>
<td>
<p>plot width</p>
</td></tr>
<tr><td><code id="checkPlot_+3A_height">height</code></td>
<td>
<p>plot height (not used)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>TRUE is the check is successful.
</p>

<hr>
<h2 id='checkWarning'>Extra Check Functions for RUnit</h2><span id='topic+checkWarning'></span>

<h3>Description</h3>

<p><code>checkWarning</code> checks if a warning is generated by an expression, and
optionally follows an expected regular expression pattern.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>checkWarning(expr, expected = TRUE, msg = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="checkWarning_+3A_expr">expr</code></td>
<td>
<p>an R expression</p>
</td></tr>
<tr><td><code id="checkWarning_+3A_expected">expected</code></td>
<td>
<p>expected value as regular expression pattern.
If a logical, then it specifies if a warning is expected or not.
</p>
<p>For backward compatibility, a <code>NULL</code> value is equivalent to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="checkWarning_+3A_msg">msg</code></td>
<td>
<p>informative message to add to the error in case of failure</p>
</td></tr>
</table>


<h3>Value</h3>


<ul>
<li> <p><code>checkWarning</code> returns TRUE is the check is successful.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>
# check warnings
checkWarning({ warning('ah ah'); 3})
checkWarning({ warning('ah oh ah'); 3}, 'oh')
try( checkWarning(3) )
try( checkWarning({ warning('ah ah'); 3}, 'warn you') )

</code></pre>

<hr>
<h2 id='cite_pkg'><code>bibcite</code> provides an inline package citation functionnality.
Technically it adds a given Bibtex key to a cache that is used at the end of the
document processing to generate a .bib file with all citation keys.</h2><span id='topic+cite_pkg'></span>

<h3>Description</h3>

<p><code>bibcite</code> provides an inline package citation functionnality.
Technically it adds a given Bibtex key to a cache that is used at the end of the
document processing to generate a .bib file with all citation keys.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cite_pkg(key, cache = NA, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cite_pkg_+3A_key">key</code></td>
<td>
<p>citation Bibtex key(s) as a character vector</p>
</td></tr>
<tr><td><code id="cite_pkg_+3A_cache">cache</code></td>
<td>
<p>specifies what to do with the previsouly chached keys.
If <code>TRUE</code>, then <code>key</code> is added to the cache.
If <code>NULL</code>, then all previously cached keys are deleted, before .
If a character string, then it specifies the path to a Bibtex file that is loaded
to initialise the cache.</p>
</td></tr>
<tr><td><code id="cite_pkg_+3A_...">...</code></td>
<td>
<p>extra arguments passed to <a href="rbibutils.html#topic+readBib">rbibutils::readBib</a>.</p>
</td></tr>
</table>

<hr>
<h2 id='citecmd'>Citing Package References</h2><span id='topic+citecmd'></span>

<h3>Description</h3>

<p>Create a citation command from package specific BibTex entries, suitable to
be used in Rd files or Latex documents.
The entries are looked in a file named REFERNCES.bib in the package's root
directory (i.e. inst/ in development mode).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>citecmd(key, ..., REFERENCES = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="citecmd_+3A_key">key</code></td>
<td>
<p>character vector of BibTex keys</p>
</td></tr>
<tr><td><code id="citecmd_+3A_...">...</code></td>
<td>
<p>extra arguments passed to <code>format.bibentry</code>.</p>
</td></tr>
<tr><td><code id="citecmd_+3A_references">REFERENCES</code></td>
<td>
<p>package or bibentry specification</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a character string containing the text formated BibTex entries
</p>

<hr>
<h2 id='compile_src'>Compile Source Files from a Development Package</h2><span id='topic+compile_src'></span>

<h3>Description</h3>

<p>Compile Source Files from a Development Package
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compile_src(pkg = NULL, load = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="compile_src_+3A_pkg">pkg</code></td>
<td>
<p>the name of the package to compile</p>
</td></tr>
<tr><td><code id="compile_src_+3A_load">load</code></td>
<td>
<p>a logical indicating whether the compiled library should be loaded
after the compilation (default) or not.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns nothing. Used for its side effect of compiling source files.
</p>

<hr>
<h2 id='CRAN'>Main CRAN Mirror URL</h2><span id='topic+CRAN'></span>

<h3>Description</h3>

<p><code>CRAN</code> simply contains the url of CRAN main mirror
(<a href="https://cran.r-project.org">https://cran.r-project.org</a>), and aims at simplifying its use, e.g., in
calls to <code><a href="utils.html#topic+install.packages">install.packages</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CRAN
</code></pre>


<h3>Format</h3>

<p>An object of class <code>character</code> of length 1.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
install.packages('pkgmaker', repos=CRAN)

</code></pre>

<hr>
<h2 id='digest_function'>Compute Function Digest Hash</h2><span id='topic+digest_function'></span>

<h3>Description</h3>

<p>Computes a digest hash of the body and signature of a function.
Note that the hash is not affected by attributes or the
function's environment.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>digest_function(fun, n = Inf)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="digest_function_+3A_fun">fun</code></td>
<td>
<p>a function</p>
</td></tr>
<tr><td><code id="digest_function_+3A_n">n</code></td>
<td>
<p>a single numeric that indicates the length of the hash.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The hash itself is computed using <a href="digest.html#topic+digest">digest::digest</a>.
</p>


<h3>Value</h3>

<p>a character string
</p>

<hr>
<h2 id='exitCheck'>Exit Error Checks</h2><span id='topic+exitCheck'></span>

<h3>Description</h3>

<p><code>exitCheck</code> provides a mechanism to distinguish the exit status
in <code><a href="base.html#topic+on.exit">on.exit</a></code> expressions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>exitCheck()
</code></pre>


<h3>Details</h3>

<p>It generates a function that is used wihtin a function's body to
&quot;flag&quot; normal exits and in its <code><a href="base.html#topic+on.exit">on.exit</a></code> expression
to check the exit status of a function.
Note that it will correctly detect errors only if all normal exit
are wrapped into a call to it.
</p>


<h3>Value</h3>

<p>Either <code>x</code> or the success status when called without arguments.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# define some function
f &lt;- function(err){

 # initialise an error checker
	success &lt;- exitCheck()

 # do something on exit that depends on the error status
	on.exit({
		if(success()) cat("Exit with no error: do nothing\n") 
		else cat("Exit with error: cleaning up the mess ...\n") 
	})
	
 # throw an error here
	if( err ) stop('There is an error')
 
	success(1+1)
}

# without error
f(FALSE)
# with error
try( f(TRUE) )

</code></pre>

<hr>
<h2 id='expand_list'>Expanding Lists</h2><span id='topic+expand_list'></span><span id='topic+expand_dots'></span>

<h3>Description</h3>

<p><code>expand_list</code> expands a named list with a given set of default items,
if these are not already in the list, partially matching their names.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>expand_list(x, ..., .exact = TRUE, .names = !.exact)

expand_dots(..., .exclude = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="expand_list_+3A_x">x</code></td>
<td>
<p>input list</p>
</td></tr>
<tr><td><code id="expand_list_+3A_...">...</code></td>
<td>
<p>extra named arguments defining the default items.
A list of default values can also be passed as a a single unnamed argument.</p>
</td></tr>
<tr><td><code id="expand_list_+3A_.exact">.exact</code></td>
<td>
<p>logical that indicates if the names in <code>x</code> should be
partially matched against the defaults.</p>
</td></tr>
<tr><td><code id="expand_list_+3A_.names">.names</code></td>
<td>
<p>logical that only used when <code>.exact=FALSE</code> and indicates
that the names of items in <code>x</code> that partially match some defaults should
be expanded in the returned list.</p>
</td></tr>
<tr><td><code id="expand_list_+3A_.exclude">.exclude</code></td>
<td>
<p>optional character vector of argument names to exclude
from expansion.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>expand_dots()</code>: expands the <code>...</code> arguments of the function
in which it is called with default values, using <code>expand_list</code>.
It can <strong>only</strong> be called from inside a function.
</p>
</li></ul>


<h3>Examples</h3>

<pre><code class='language-R'>
expand_list(list(a=1, b=2), c=3)
expand_list(list(a=1, b=2, c=4), c=3)
# with a list
expand_list(list(a=1, b=2), list(c=3, d=10))
# no partial match
expand_list(list(a=1, b=2, c=5), cd=3)
# partial match with names expanded
expand_list(list(a=1, b=2, c=5), cd=3, .exact=FALSE)
# partial match without expanding names
expand_list(list(a=1, b=2, c=5), cd=3, .exact=FALSE, .names=FALSE)

# works also inside a function to expand a call with default arguments
f &lt;- function(...){
	cl  &lt;- match.call()
	expand_list(cl, list(a=3, b=4), .exact=FALSE)
}
f()
f(c=1)
f(a=2)
f(c=1, a=2)

# expanding dot arguments

f &lt;- function(...){ 
	expand_dots(list(a=2, bcd='a', xxx=20), .exclude='xxx') 
}

# add default value for all arguments 
f()
# add default value for `bcd` only
f(a=10)
# expand names
f(a=10, b=4)

</code></pre>

<hr>
<h2 id='ExposeAttribute'>Exposing Object Attributes</h2><span id='topic+ExposeAttribute'></span><span id='topic+attr_mode'></span><span id='topic+attr_mode+3C-'></span>

<h3>Description</h3>

<p>The function <code>ExposeAttribute</code> creates an S3 object that
exposes all attributes of any R object, by making them accessible via
methods <code><a href="base.html#topic++24">$</a></code> and/or <code><a href="base.html#topic++24+3C-">$&lt;-</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ExposeAttribute(object, ..., .MODE = "rw", .VALUE = FALSE)

attr_mode(x)

attr_mode(x) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ExposeAttribute_+3A_object">object</code></td>
<td>
<p>any R object whose attributes need to be exposed</p>
</td></tr>
<tr><td><code id="ExposeAttribute_+3A_...">...</code></td>
<td>
<p>attributes, and optionally their respective values or
access permissions.
See argument <code>value</code> of <code>attr_mode</code> for details on the
way of specifying these.</p>
</td></tr>
<tr><td><code id="ExposeAttribute_+3A_.mode">.MODE</code></td>
<td>
<p>access mode:
</p>

<dl>
<dt>&ldquo;r&rdquo;:</dt><dd><p> (read-only) only method <code>$</code> is defined</p>
</dd>
<dt>&ldquo;w&rdquo;:</dt><dd><p> (write-only) only method <code>$&lt;-</code> is defined</p>
</dd>
<dt>&ldquo;rw&rdquo;:</dt><dd><p> (read-write) both methods <code>$</code> and <code>$&lt;-</code>
are defined</p>
</dd>
</dl>
</td></tr>
<tr><td><code id="ExposeAttribute_+3A_.value">.VALUE</code></td>
<td>
<p>logical that indicates if the values of named arguments
in <code>...</code> should be considered as attribute assignments,
i.e. that the result object has these attributes set with the specified values.
In this case all these attributes will have the access permission
as defined by argument <code>.MODE</code>.</p>
</td></tr>
<tr><td><code id="ExposeAttribute_+3A_x">x</code></td>
<td>
<p>an <code>ExposeAttribute</code> object</p>
</td></tr>
<tr><td><code id="ExposeAttribute_+3A_value">value</code></td>
<td>
<p>replacement value for mode.
It can be <code>NULL</code> to remove the ExposeAttribute wrapper,
a single character string to define a permission for all atributes
(e.g., <code>'rw'</code> or <code>'r'</code>), or a list specifying access permission
for specific attributes or classes of attributes defined by regular expressions.
For example, <code>list(a='r', b='w', `blabla.*`='rw')</code> set attribute <code>'a'</code>
as read-only, attribute <code>'b'</code> as write-only, all attributes that start with
<code>'blabla'</code> in read-write access.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>ExposeAttribute</code> returns an S3 object of class <code>ExposeAttribute</code>.
</p>

<hr>
<h2 id='extractLocalFun'>Extracting Local Function Definition</h2><span id='topic+extractLocalFun'></span><span id='topic+allFormals'></span>

<h3>Description</h3>

<p><code>extractLocalFun</code> Extracts local function from wrapper functions of the following type, typically
used in S4 methods:
&lsquo;<span class="samp">&#8288;
function(a, b, ...){
	.local &lt;- function(a, b, c, d, ...){}
.local(a, b, ...)
}
&#8288;</span>&rsquo;
</p>
<p>Works for methods that are created (setMethod) as a wrapper function to an
internal function named .local.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractLocalFun(f)

allFormals(f)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extractLocalFun_+3A_f">f</code></td>
<td>
<p>definition of the wrapper function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a function
</p>
<p>a paired list like the one returned by <code><a href="base.html#topic+formals">formals</a></code>.
</p>

<hr>
<h2 id='factor2character'>Converting Factors to Character Vectors</h2><span id='topic+factor2character'></span>

<h3>Description</h3>

<p>Converts all <code>factor</code> variables to character vectors in a <code>data.frame</code>
or phenotypic data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>factor2character(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="factor2character_+3A_x">x</code></td>
<td>
<p><code>data.frame</code> or <code>ExpressionSet</code> object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an object of the same class as <code>x</code>.
</p>

<hr>
<h2 id='file_extension'>Extract File Extension</h2><span id='topic+file_extension'></span>

<h3>Description</h3>

<p>Extract File Extension
</p>


<h3>Usage</h3>

<pre><code class='language-R'>file_extension(x, ext = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="file_extension_+3A_x">x</code></td>
<td>
<p>path as a character vector.</p>
</td></tr>
<tr><td><code id="file_extension_+3A_ext">ext</code></td>
<td>
<p>extension to append instead of the original extension.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a character vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
file_extension('alpha.txt')
file_extension(paste('aa.tt', 1:5, sep=''))
# change extension
file_extension(paste('aa.tt', 1:5, sep=''), 'pdf')
file_extension(paste('aatt', 1:5, sep=''), 'pdf')

</code></pre>

<hr>
<h2 id='find_devpackage'>Find Path to Development Package Root Directory</h2><span id='topic+find_devpackage'></span>

<h3>Description</h3>

<p>Development packages are looked-up according to rules
defined in a file <code>.Rpackages</code> in the user's home directory.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find_devpackage(x, error = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="find_devpackage_+3A_x">x</code></td>
<td>
<p>name of the development package to lookup.</p>
</td></tr>
<tr><td><code id="find_devpackage_+3A_error">error</code></td>
<td>
<p>logical that indicates if an error is thrown when the project root directory
could not be found.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character string containing the path to the package.
</p>


<h3>Specification of package path</h3>

<p>Package paths are specified in a list with:
</p>

<ul>
<li><p> unnamed elements: character strings give path to directories to lookup for sub-directories that match
exactly the package's name;
</p>
</li>
<li><p> named element containing character strings: these are paths that are looked up only for packages that
match the element name. If the element name contains any of the characters <code style="white-space: pre;">&#8288;*?()$^\\][&#8288;</code>, then it is matched using
regular expression.
</p>
</li></ul>


<hr>
<h2 id='fix_registry'>Fix Registry Access Functions</h2><span id='topic+fix_registry'></span>

<h3>Description</h3>

<p>Fixes some of the member functions for registry objects, as defined in the
<span class="pkg">registry</span> package.
The main fixed issue is due to the fact that key filtering does not return
the correct entry, when an entry key is a prefix of another entry key,
even when passed the exact key.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fix_registry(regobj)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fix_registry_+3A_regobj">regobj</code></td>
<td>
<p>registry object</p>
</td></tr>
</table>

<hr>
<h2 id='getLoadingNamespace'>Namespace Development Functions</h2><span id='topic+getLoadingNamespace'></span><span id='topic+isLoadingNamespace'></span><span id='topic+isNamespaceLoaded2'></span><span id='topic+isDevNamespace'></span><span id='topic+addNamespaceExport'></span><span id='topic+ns_get'></span>

<h3>Description</h3>

<p><code>getLoadingNamespace</code> returns information about the loading namespace.
It is a wrapper to <code><a href="base.html#topic+loadingNamespaceInfo">loadingNamespaceInfo</a></code>, that does not throw
an error.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getLoadingNamespace(env = FALSE, info = FALSE, nodev = FALSE)

isLoadingNamespace(ns, nodev = FALSE)

isNamespaceLoaded2(ns)

isDevNamespace(ns)

addNamespaceExport(x)

ns_get(x, ns = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getLoadingNamespace_+3A_env">env</code></td>
<td>
<p>logical that indicates that the namespace's environment (i.e. the
namespace itself) should be returned.</p>
</td></tr>
<tr><td><code id="getLoadingNamespace_+3A_info">info</code></td>
<td>
<p>logical that indicates that the complete information list should
be returned</p>
</td></tr>
<tr><td><code id="getLoadingNamespace_+3A_nodev">nodev</code></td>
<td>
<p>logical that indicates if loading devtools namespace should
be discarded.</p>
</td></tr>
<tr><td><code id="getLoadingNamespace_+3A_ns">ns</code></td>
<td>
<p>the name of a namespace or a namespace whose loading state is tested.
If missing <code>isLoadingNamespace</code> test if any namespace is being loaded.</p>
</td></tr>
<tr><td><code id="getLoadingNamespace_+3A_x">x</code></td>
<td>
<p>character vector containing the names of R objects to export in the
loading namespace.</p>
</td></tr>
<tr><td><code id="getLoadingNamespace_+3A_...">...</code></td>
<td>
<p>extra arguments passed to <a href="base.html#topic+get0">get0</a>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the name of the loading namespace if <code>env</code> and <code>info</code> are
<code>FALSE</code>, an environment if <code>env=TRUE</code>, a list with elements
<code>pkgname</code> and <code>libname</code> if <code>info=TRUE</code>.
</p>

<ul>
<li> <p><code>isLoadingNamespace</code> returns a logical flag.
</p>
</li></ul>


<ul>
<li> <p><code>isNamespaceLoaded2</code> returns a logical flag.
</p>
</li></ul>


<ul>
<li> <p><code>isDevNamespace</code> returns a logical flag.
</p>
</li></ul>


<ul>
<li> <p><code>ns_get</code> returns the requested object or <code>NULL</code> if not found.
</p>
</li></ul>



<h3>Functions</h3>


<ul>
<li> <p><code>isLoadingNamespace()</code>: Tests if a namespace is being loaded.
</p>
</li>
<li> <p><code>isNamespaceLoaded2()</code>: tests if a given namespace is loaded, without loading it,
contrary to <code><a href="base.html#topic+isNamespace">isNamespace</a></code>.
It is similar to <code><a href="base.html#topic+isNamespaceLoaded">isNamespaceLoaded</a></code> &ndash; which it uses &ndash; but also accepts
environments.
</p>
</li>
<li> <p><code>isDevNamespace()</code>: tests the &ndash; current &ndash; namespace is a devtools namespace.
</p>
</li>
<li> <p><code>addNamespaceExport()</code>: Dynamically adds exported objects into the loading namespace.
</p>
</li>
<li> <p><code>ns_get()</code>: gets an object from a given namespace.
</p>
</li></ul>

<hr>
<h2 id='gfile'>Open a File Graphic Device</h2><span id='topic+gfile'></span>

<h3>Description</h3>

<p>Opens a graphic device depending on the file extension.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gfile(filename, width, height, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gfile_+3A_filename">filename</code></td>
<td>
<p>path to the image file to create.</p>
</td></tr>
<tr><td><code id="gfile_+3A_width">width</code></td>
<td>
<p>output width</p>
</td></tr>
<tr><td><code id="gfile_+3A_height">height</code></td>
<td>
<p>output height</p>
</td></tr>
<tr><td><code id="gfile_+3A_...">...</code></td>
<td>
<p>other arguments passed to the relevant device function
such as <code><a href="grDevices.html#topic+png">png</a></code> or <code><a href="grDevices.html#topic+pdf">pdf</a></code>.
</p>
<p>importFrom grDevices bmp jpeg pdf png svg tiff</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The value of the called device function.
</p>

<hr>
<h2 id='graphics-utils'>Utility Functions for Graphics</h2><span id='topic+graphics-utils'></span><span id='topic+mfrow'></span>

<h3>Description</h3>

<p>Utility Functions for Graphics
</p>
<p><code>mfrow</code> returns a 2-long numeric vector suitable to use in <code><a href="graphics.html#topic+par">par</a>(mfrow=x)</code>,
that will arrange <code>n</code> panels in a single plot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mfrow(n)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="graphics-utils_+3A_n">n</code></td>
<td>
<p>number of plots to be arranged.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a 2-long numeric vector that can be passed to <code style="white-space: pre;">&#8288;par(mfrow = &lt;value&gt;)&#8288;</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'> 
mfrow(1)
mfrow(2)
mfrow(3)
mfrow(4)
mfrow(10)
</code></pre>

<hr>
<h2 id='hasArg2'>Checking for Missing Arguments</h2><span id='topic+hasArg2'></span>

<h3>Description</h3>

<p>This function is identical to <code><a href="methods.html#topic+hasArg">hasArg</a></code>, except that
it accepts the argument name as a character string.
This avoids to have a check NOTE about invisible binding variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hasArg2(name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hasArg2_+3A_name">name</code></td>
<td>
<p>the name of an argument as a character string.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical flag.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
f &lt;- function(...){ hasArg2('abc') }
f(a=1)
f(abc=1)
f(b=1)

</code></pre>

<hr>
<h2 id='hasEnvar'>Check Environment Variables</h2><span id='topic+hasEnvar'></span>

<h3>Description</h3>

<p>Tells if some environment variable(s) are defined.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hasEnvar(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hasEnvar_+3A_x">x</code></td>
<td>
<p>environment variable name, as a character vector.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical flag.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
hasEnvar('_R_CHECK_TIMINGS_')
hasEnvar('ABCD')

</code></pre>

<hr>
<h2 id='inSweave'>Identifying Sweave Run</h2><span id='topic+inSweave'></span>

<h3>Description</h3>

<p>Tells if the current code is being executed within a Sweave document.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>inSweave()
</code></pre>


<h3>Value</h3>

<p><code>TRUE</code> or <code>FALSE</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Not in a Sweave document 
inSweave()

# Within a Sweave document

</code></pre>

<hr>
<h2 id='irequire'>Require a Package with User Interaction</h2><span id='topic+irequire'></span>

<h3>Description</h3>

<p>Like base <code><a href="base.html#topic+require">require</a></code>, <code>irequire</code> tries to find and load a package,
but in an interactive way, i.e. offering the user to install it if not found.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>irequire(
  package,
  lib = NULL,
  ...,
  load = TRUE,
  msg = NULL,
  quiet = TRUE,
  prependLF = FALSE,
  ptype = c("CRAN-like", "BioC", "BioCsoft", "BioCann"),
  autoinstall = !interactive()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="irequire_+3A_package">package</code></td>
<td>
<p>name of the package</p>
</td></tr>
<tr><td><code id="irequire_+3A_lib">lib</code></td>
<td>
<p>path to the directory (library) where the package is to be
looked for and installed if agreed by the user.</p>
</td></tr>
<tr><td><code id="irequire_+3A_...">...</code></td>
<td>
<p>extra arguments passed to <code><a href="utils.html#topic+install.packages">install.packages</a></code>.</p>
</td></tr>
<tr><td><code id="irequire_+3A_load">load</code></td>
<td>
<p>a logical that indicates if the package should be loaded,
possibly after installation.</p>
</td></tr>
<tr><td><code id="irequire_+3A_msg">msg</code></td>
<td>
<p>message to display in case the package is not found when first
trying to load/find it.
This message is appended to the string <code>"Package '&lt;packagename&gt;' is required"</code>.</p>
</td></tr>
<tr><td><code id="irequire_+3A_quiet">quiet</code></td>
<td>
<p>logical that indicates if loading a package should be done quietly
with <code><a href="#topic+require.quiet">require.quiet</a></code> or normally with <code><a href="base.html#topic+require">require</a></code>.</p>
</td></tr>
<tr><td><code id="irequire_+3A_prependlf">prependLF</code></td>
<td>
<p>logical that indicates if the message should start at a new line.</p>
</td></tr>
<tr><td><code id="irequire_+3A_ptype">ptype</code></td>
<td>
<p>type of package: from CRAN-like repositories, Bioconductor, Bioconductor software, Bioconductor annotation.
Bioconductor packages are installed using <code>biocLite</code> from the
<span class="pkg">BiocInstaller</span> package or fetched on line at <a href="http://bioconductor.org/biocLite.R">http://bioconductor.org/biocLite.R</a>.</p>
</td></tr>
<tr><td><code id="irequire_+3A_autoinstall">autoinstall</code></td>
<td>
<p>logical that indicates if missing packages should just be installed
without asking with the user, which is the default in non-interactive sessions.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code> if the package was successfully loaded/found (installed),
<code>FALSE</code> otherwise.
</p>


<h3>See Also</h3>

<p>Other require: 
<code><a href="#topic+require.quiet">require.quiet</a>()</code>
</p>

<hr>
<h2 id='is_package_path'>Test for Package Root Directory</h2><span id='topic+is_package_path'></span>

<h3>Description</h3>

<p>Tells if a directory is a package directory, i.e. that it contains
a <code>DESCRIPTION</code> file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_package_path(x, error = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_package_path_+3A_x">x</code></td>
<td>
<p>path to the directory to test</p>
</td></tr>
<tr><td><code id="is_package_path_+3A_error">error</code></td>
<td>
<p>logical that indicates if an error should be raised
if the directory is not a package directory.</p>
</td></tr>
</table>

<hr>
<h2 id='is_something'>Testing Object Type</h2><span id='topic+is_something'></span><span id='topic+is_NA'></span><span id='topic+isFALSE'></span><span id='topic+isNumber'></span><span id='topic+isReal'></span><span id='topic+isInteger'></span><span id='topic+isString'></span><span id='topic+is.dir'></span><span id='topic+is.file'></span><span id='topic+hasNames'></span>

<h3>Description</h3>

<p>Testing Object Type
</p>
<p><code>is_NA</code> tests if a variable is exactly NA (logical, character, numeric or integer)
</p>
<p><code>isFALSE</code> Tests if a variable is exactly FALSE.
</p>
<p><code>isNumber</code> tests if a variable is a single number
</p>
<p><code>isReal</code> tests if a variable is a single real number
</p>
<p><code>isInteger</code> tests if an object is a single integer
</p>
<p><code>isString</code> tests if an object is a character string.
</p>
<p><code>is.dir</code> tests if a filename is a directory.
</p>
<p><code>is.file</code> tests if a filename is a file.
</p>
<p><code>hasNames</code> tests if an object has names.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_NA(x)

isFALSE(x)

isNumber(x)

isReal(x)

isInteger(x)

isString(x, y, ignore.case = FALSE)

is.dir(x)

is.file(x)

hasNames(x, all = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_something_+3A_x">x</code></td>
<td>
<p>an R object</p>
</td></tr>
<tr><td><code id="is_something_+3A_y">y</code></td>
<td>
<p>character string to compare with.</p>
</td></tr>
<tr><td><code id="is_something_+3A_ignore.case">ignore.case</code></td>
<td>
<p>logical that indicates if the comparison
should be case sensistive.</p>
</td></tr>
<tr><td><code id="is_something_+3A_all">all</code></td>
<td>
<p>logical that indicates if the object needs all names non empty</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code> or <code>FALSE</code>
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+isTRUE">isTRUE</a></code>
</p>

<hr>
<h2 id='isCRANcheck'>Package Check Utils</h2><span id='topic+isCRANcheck'></span><span id='topic+isCRAN_timing'></span><span id='topic+isCHECK'></span>

<h3>Description</h3>

<p><code>isCRANcheck</code> <strong>tries</strong> to identify if one is running CRAN-like checks.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>isCRANcheck(...)

isCRAN_timing()

isCHECK()
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="isCRANcheck_+3A_...">...</code></td>
<td>
<p>each argument specifies a set of tests to do using an AND operator.
The final result tests if any of the test set is true.
Possible values are:
</p>

<dl>
<dt><code>'timing'</code></dt><dd><p>Check if the environment variable <code>_R_CHECK_TIMINGS_</code> is set,
as with the flag <code>'--timing'</code> was set.</p>
</dd>
<dt><code>'cran'</code></dt><dd><p>Check if the environment variable <code>_R_CHECK_CRAN_INCOMING_</code> is set,
as with the flag <code>'--as-cran'</code> was set.</p>
</dd>
</dl>
</td></tr>
</table>


<h3>Details</h3>

<p>Currently <code>isCRANcheck</code> returns <code>TRUE</code> if the check is run with
either environment variable <code>_R_CHECK_TIMINGS_</code> (as set by flag <code>'--timings'</code>)
or <code>_R_CHECK_CRAN_INCOMINGS_</code> (as set by flag <code>'--as-cran'</code>).
</p>
<p><strong>Warning:</strong> the checks performed on CRAN check machines are on purpose not always
run with such flags, so that users cannot effectively &quot;trick&quot; the checks.
As a result, there is no guarantee this function effectively identifies such checks.
If really needed for honest reasons, CRAN recommends users rely on custom dedicated environment
variables to enable specific tests or examples.
</p>


<h3>Value</h3>

<p>A logical flag.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>isCRAN_timing()</code>: tells if one is running CRAN check with flag <code>'--timing'</code>.
</p>
</li>
<li> <p><code>isCHECK()</code>: tries harder to test if running under <code>R CMD check</code>.
It will definitely identifies check runs for:
</p>

<ul>
<li><p> unit tests that use the unified unit test framework defined by <span class="pkg">pkgmaker</span> (see <code><a href="#topic+utest">utest</a></code>);
</p>
</li>
<li><p> examples that are run with option <code>R_CHECK_RUNNING_EXAMPLES_ = TRUE</code>,
which is automatically set for man pages generated with a fork of <span class="pkg">roxygen2</span> (see <em>References</em>).
</p>
</li></ul>

<p>Currently, <code>isCHECK</code> checks both CRAN expected flags, the value of environment variable
<code>_R_CHECK_RUNNING_UTESTS_</code>, and the value of option <code>R_CHECK_RUNNING_EXAMPLES_</code>.
It will return <code>TRUE</code> if any of these environment variables is set to
anything not equivalent to <code>FALSE</code>, or if the option is <code>TRUE</code>.
For example, the function <code><a href="#topic+utest">utest</a></code> sets it to the name of the package
being checked (<code>_R_CHECK_RUNNING_UTESTS_=&lt;pkgname&gt;</code>),
but unit tests run as part of unit tests vignettes are run with
<code>_R_CHECK_RUNNING_UTESTS_=FALSE</code>, so that all tests are run and reported when
generating them.
</p>
</li></ul>


<h3>References</h3>

<p>Adapted from the function <code>CRAN</code>
in the <span class="pkg">fda</span> package.
</p>
<p><a href="https://github.com/renozao/roxygen">https://github.com/renozao/roxygen</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
isCHECK()

</code></pre>

<hr>
<h2 id='iterCount'>Simple Text Iteration Counter</h2><span id='topic+iterCount'></span>

<h3>Description</h3>

<p>Simple Text Iteration Counter
</p>


<h3>Usage</h3>

<pre><code class='language-R'>iterCount(n = 100, i0 = 0L, title = "Iterations", extra = NULL, verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="iterCount_+3A_n">n</code></td>
<td>
<p>number of total steps</p>
</td></tr>
<tr><td><code id="iterCount_+3A_i0">i0</code></td>
<td>
<p>starting step</p>
</td></tr>
<tr><td><code id="iterCount_+3A_title">title</code></td>
<td>
<p>character string to use as title</p>
</td></tr>
<tr><td><code id="iterCount_+3A_extra">extra</code></td>
<td>
<p>character vector providing extra text to add at each step</p>
</td></tr>
<tr><td><code id="iterCount_+3A_verbose">verbose</code></td>
<td>
<p>logical that toggles the counter</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A function that can be used to increment progress.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
progress &lt;- iterCount(LETTERS)
res &lt;- sapply(LETTERS, function(x){
 Sys.sleep(.1)
	progress()
})
# terminate counter
i_end &lt;- progress(NULL)
i_end 

</code></pre>

<hr>
<h2 id='knit_ex'>Knitr Extensions</h2><span id='topic+knit_ex'></span><span id='topic+hook_try'></span><span id='topic+hook_backspace'></span><span id='topic+hook_toggle'></span>

<h3>Description</h3>

<p><code>knit_ex</code> is a utility function for running small knitr examples,
e.g., to illustrate functionalities or issues.
</p>
<p><code>hook_backspace</code> is a chunk hook that enables the use of backspace
characters in the output (e.g., as used in progress bars), and still
obtain a final output as in the console.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>knit_ex(x, ..., quiet = TRUE, open = FALSE)

hook_try(before, options, envir)

hook_backspace()

hook_toggle()
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="knit_ex_+3A_x">x</code></td>
<td>
<p>text to knit as a character vector</p>
</td></tr>
<tr><td><code id="knit_ex_+3A_...">...</code></td>
<td>
<p>arguments passed to <code><a href="knitr.html#topic+knit2html">knit2html</a></code> or <code><a href="knitr.html#topic+knit">knit</a></code></p>
</td></tr>
<tr><td><code id="knit_ex_+3A_quiet">quiet</code></td>
<td>
<p>logical that indicates if knitting should be quiet (no progress bars etc..).</p>
</td></tr>
<tr><td><code id="knit_ex_+3A_open">open</code></td>
<td>
<p>logical, only used when <code>x</code> is in .Rmd format, that indicates
if the generated document result should be open in a browse, instead of
being printed on screen.
Not that a browser will not open in non-interactive sessions, and the result will
be returned invisibly.</p>
</td></tr>
<tr><td><code id="knit_ex_+3A_before">before</code></td>
<td>
<p>logical that indicates when the hook is being called:
before or after the chunk is processed.</p>
</td></tr>
<tr><td><code id="knit_ex_+3A_options">options</code></td>
<td>
<p>list of current knitr chunk options</p>
</td></tr>
<tr><td><code id="knit_ex_+3A_envir">envir</code></td>
<td>
<p>environment where the chunk is evaluated</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>knit_ex</code> returns the generated code, although invisibly when <code>open=TRUE</code>.
</p>

<ul>
<li> <p><code>hook_try</code> returns a function.
</p>
</li></ul>


<ul>
<li> <p><code>hook_backspace</code> returns a function.
</p>
</li></ul>


<ul>
<li> <p><code>hook_toggle</code>: returns a hook function.
</p>
</li></ul>



<h3>Functions</h3>


<ul>
<li> <p><code>hook_try()</code>: is a knitr hook to enable showing error
messages thrown by <code><a href="base.html#topic+try">try</a></code>.
The function is not meant to be called directly, but only registered
using <a href="knitr.html#topic+knit_hooks">knitr::knit_hooks</a> (see details on this dedicated man page).
</p>
<p>This simply defines a function <code>try</code> in <code>envir</code> that prints
the error message if any, and is called instead of base <code><a href="base.html#topic+try">try</a></code>.
</p>
</li>
<li> <p><code>hook_toggle()</code>: a chunk hook that adds clickable elements to toggle <em>indvidual</em>
code chunks in HTML documents generated from .Rmd files.
</p>
</li></ul>


<h3>Examples</h3>

<pre><code class='language-R'>
library(knitr)
knit_ex("1 + 1")


library(knitr)

# standard error message is caught
knit_ex("stop('ah ah')")

# with try the error is output on stderr but not caughted by knitr
knit_ex("try( stop('ah ah') )")


# no message caught
knit_ex("
^^^{r, include = FALSE}
knit_hooks$set(try = pkgmaker::hook_try)
^^^

^^^{r, try=TRUE}
try( stop('ah ah') )
^^^")




# Correctly formatting backspaces in chunk outputs
tmp &lt;- tempfile(fileext = '.Rmd')
cat(file = tmp, "
^^^{r, include = FALSE}
library(knitr)
knit_hooks$set(backspace = pkgmaker::hook_backspace())
^^^
Default knitr does not handle backspace and adds a special character:
^^^{r}
cat('abc\bd')
^^^

Using the hook backspace solves the issue:
^^^{r, backspace=TRUE}
cat('abc\bd')
^^^
")

# knit
out &lt;- knitr::knit2html(tmp, template = FALSE)



# look at output
## Not run: 
  browseURL(out)
  edit( file = out)

## End(Not run)

    
# cleanup
out_files &lt;- list.files(dirname(out), full.names = TRUE,
                         pattern = paste0("^", tools::file_path_sans_ext(out))) 
unlink(c(tmp, out_files))






knit_ex("

Declare chunk hook:
^^^{r, setup}
library(knitr)
knit_hooks$set(toggle = hook_toggle())
^^^

The R code of this chunk can be toggled on/off, and starts visible:
^^^{r, toggle=TRUE}
print(1:10)
^^^
The R code of this chunk can be toggled on/off, and starts hidden:
^^^{r, toggle=FALSE}
print(1:10)
^^^

This is a plain chunk that cannot be toggled on/off:
^^^{r}
print(1:10)
^^^

Now all chunks can be toggled and start visible:
^^^{r, toggle_all}
opts_chunk$set(toggle = TRUE)
^^^

^^^{r}
sample(5)
^^^

To disable the toggle link, one can pass anything except TRUE/FALSE:
^^^{r, toggle = NA}
sample(5)
^^^

", open = FALSE)



</code></pre>

<hr>
<h2 id='latex_preamble'>LaTeX Utilities for Vignettes</h2><span id='topic+latex_preamble'></span><span id='topic+latex_bibliography'></span>

<h3>Description</h3>

<p><code>latex_preamble</code> outputs/returns LaTeX command definitions to
be put in the preamble of vignettes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>latex_preamble(
  PACKAGE,
  R = TRUE,
  CRAN = TRUE,
  Bioconductor = TRUE,
  GEO = TRUE,
  ArrayExpress = TRUE,
  biblatex = FALSE,
  only = FALSE,
  file = ""
)

latex_bibliography(PACKAGE, file = "")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="latex_preamble_+3A_package">PACKAGE</code></td>
<td>
<p>package name</p>
</td></tr>
<tr><td><code id="latex_preamble_+3A_r">R</code></td>
<td>
<p>logical that indicate if general R commands should be added
(e.g. package names, inline R code format commands)</p>
</td></tr>
<tr><td><code id="latex_preamble_+3A_cran">CRAN</code></td>
<td>
<p>logical that indicate if general CRAN commands should be added
(e.g. CRAN package citations)</p>
</td></tr>
<tr><td><code id="latex_preamble_+3A_bioconductor">Bioconductor</code></td>
<td>
<p>logical that indicate if general Bioconductor commands
should be added (e.g. Bioc package citations)</p>
</td></tr>
<tr><td><code id="latex_preamble_+3A_geo">GEO</code></td>
<td>
<p>logical that indicate if general GEOmnibus commands should be added
(e.g. urls to GEO datasets)</p>
</td></tr>
<tr><td><code id="latex_preamble_+3A_arrayexpress">ArrayExpress</code></td>
<td>
<p>logical that indicate if general ArrayExpress commands
should be added (e.g. urls to ArrayExpress datasets)</p>
</td></tr>
<tr><td><code id="latex_preamble_+3A_biblatex">biblatex</code></td>
<td>
<p>logical that indicates if a <code>\bibliography</code> command
should be added to include references from the package's REFERENCES.bib file.</p>
</td></tr>
<tr><td><code id="latex_preamble_+3A_only">only</code></td>
<td>
<p>a logical that indicates if the only the commands whose
dedicated argument is not missing should be considered.</p>
</td></tr>
<tr><td><code id="latex_preamble_+3A_file">file</code></td>
<td>
<p>connection where to print. If <code>NULL</code> the result is returned
silently.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Argument <code>PACKAGE</code> is not required for <code>latex_preamble</code>, but must
be correctly specified to ensure <code>biblatex=TRUE</code> generates the correct
bibliography command.
</p>


<h3>Value</h3>

<p>A character string or nothing and output the command to stdout.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>latex_bibliography()</code>: <code>latex_bibliography</code> prints or return a LaTeX command that includes a
package bibliography file if it exists.
</p>
</li></ul>


<h3>Examples</h3>

<pre><code class='language-R'>
latex_preamble()
latex_preamble(R=TRUE, only=TRUE)
latex_preamble(R=FALSE, CRAN=FALSE, GEO=FALSE)
latex_preamble(GEO=TRUE, only=TRUE)

</code></pre>

<hr>
<h2 id='list.data'>List Package Data Objects</h2><span id='topic+list.data'></span>

<h3>Description</h3>

<p>Lists data objects that are shipped within package(s).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>list.data(package = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="list.data_+3A_package">package</code></td>
<td>
<p>a single character string that specifies the name of a particular
package where to look for data objects.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>data.frame</code> object with columns:
</p>

<ul>
<li> <p><code>package</code>: name of the package that holds the data object.
</p>
</li>
<li> <p><code>data</code>: name of the key to use in <a href="utils.html#topic+data">utils::data</a> or <a href="#topic+ldata">ldata</a> to load the data object.
</p>
</li>
<li> <p><code>object</code>: name of the (sub-)object that is contained in the data object.
</p>
</li></ul>



<h3>See Also</h3>

<p><a href="utils.html#topic+data">utils::data</a>, <a href="#topic+ldata">ldata</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# list all data objects
head(list.data())

# list all data objects in package 'datasets'
subset(list.data("datasets"), data %in% "beavers")

</code></pre>

<hr>
<h2 id='list.libs'>Library Files Utilities</h2><span id='topic+list.libs'></span><span id='topic+libname'></span>

<h3>Description</h3>

<p>Lists binary library files in a directory
</p>


<h3>Usage</h3>

<pre><code class='language-R'>list.libs(dir, ..., all.platforms = FALSE)

libname(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="list.libs_+3A_dir">dir</code></td>
<td>
<p>directory</p>
</td></tr>
<tr><td><code id="list.libs_+3A_...">...</code></td>
<td>
<p>extra arguments passed to <code><a href="base.html#topic+list.files">list.files</a></code>.</p>
</td></tr>
<tr><td><code id="list.libs_+3A_all.platforms">all.platforms</code></td>
<td>
<p>a logical that indicates whether to list library files for
the current platform only (default) or all platforms (Unix, Windows, Mac).</p>
</td></tr>
<tr><td><code id="list.libs_+3A_x">x</code></td>
<td>
<p>a filename</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a character vector
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>libname()</code>: extracts library names from a path, removing the
directory part of the path, as well as the platform
specific library extension.
</p>
</li></ul>


<h3>Examples</h3>

<pre><code class='language-R'>
libname('mylib.so')
libname('/some/path/somewhere/mylib.dll') 

</code></pre>

<hr>
<h2 id='load_all_file'>Generate a Loading Script for Development Packages</h2><span id='topic+load_all_file'></span>

<h3>Description</h3>

<p>Writes a script file that contains code that loads a given development package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>load_all_file(path = path.package(package), package, dest = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="load_all_file_+3A_path">path</code></td>
<td>
<p>a character string that contains the path to the development package.</p>
</td></tr>
<tr><td><code id="load_all_file_+3A_package">package</code></td>
<td>
<p>the name of the package for which the loading script must be generated.
It must be a package that has already been loaded with <a href="devtools.html#topic+load_all">devtools::load_all</a> in the current
session, so that its path can be retrieved.</p>
</td></tr>
<tr><td><code id="load_all_file_+3A_dest">dest</code></td>
<td>
<p>the path to script file to create (as a character string).
If not provided, then the script is written in a temporary .R file with prefix
<code>"load_all_&lt;pkgname&gt;_"</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is useful when we want to load a development package in <code>batchtools</code> registries:
</p>
<div class="sourceCode"><pre>library(devtools)
library(batchtools)

load_all("path/to/pkgA")
makeRegistry(..., source = load_all_file("pkgA"))
</pre></div>


<h3>Value</h3>

<p>a character string that contains the path to the script file.
</p>

<hr>
<h2 id='load_project'>Load Development Package</h2><span id='topic+load_project'></span><span id='topic+library_project'></span>

<h3>Description</h3>

<p>Load Development Package
</p>


<h3>Usage</h3>

<pre><code class='language-R'>load_project(
  pkg,
  reset = FALSE,
  ...,
  utests = TRUE,
  verbose = FALSE,
  addlib = TRUE,
  character.only = FALSE,
  try.library = FALSE
)

library_project(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="load_project_+3A_pkg">pkg</code></td>
<td>
<p>name of the package/project to load.</p>
</td></tr>
<tr><td><code id="load_project_+3A_reset">reset</code></td>
<td>
<p>logical that indicates if the package should be reloaded (passed to <code><a href="devtools.html#topic+load_all">load_all</a></code>.</p>
</td></tr>
<tr><td><code id="load_project_+3A_...">...</code></td>
<td>
<p>other arguments passed to <code><a href="devtools.html#topic+load_all">load_all</a></code>.</p>
</td></tr>
<tr><td><code id="load_project_+3A_utests">utests</code></td>
<td>
<p>logical that indicates if an environment containing the unit test functions should be created.
If <code>TRUE</code> this environment is accessible at <code>pkgname::UnitTests$test.filename.r$function.name</code>.</p>
</td></tr>
<tr><td><code id="load_project_+3A_verbose">verbose</code></td>
<td>
<p>logical that indicates if log messages should be printed.</p>
</td></tr>
<tr><td><code id="load_project_+3A_addlib">addlib</code></td>
<td>
<p>logical that indicates if the <code>lib/</code> sub-directory, if it exists, should be prepended
to the library path.
This enables to control the version of the loaded dependencies.</p>
</td></tr>
<tr><td><code id="load_project_+3A_character.only">character.only</code></td>
<td>
<p>logical that indicates if argument <var>pkg</var> should be evaluated or taken litteral.</p>
</td></tr>
<tr><td><code id="load_project_+3A_try.library">try.library</code></td>
<td>
<p>logicatl that indicates if projects that could not be found should be looked up in
the installed packages.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Invisibly the <code>package</code> object of the loaded package.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>library_project()</code>: shortcut for <code>load_project(..., try.library = TRUE)</code>, to load project
code from installed library if not found as a development project.
All its arguments are passed to <code>load_project</code>.
</p>
</li></ul>

<hr>
<h2 id='lverbose'>Logging Feature</h2><span id='topic+lverbose'></span><span id='topic+lsilent'></span><span id='topic+is.verbose'></span><span id='topic+lmessage'></span><span id='topic+vmessage'></span><span id='topic+log_append'></span>

<h3>Description</h3>

<p><code>lverbose</code> returns/sets the current verbosity level.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lverbose(val, global = FALSE)

lsilent()

is.verbose()

lmessage(level, ..., appendLF = TRUE, sep = "", force = FALSE)

vmessage(...)

log_append(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lverbose_+3A_val">val</code></td>
<td>
<p>logical/numeric value that sets the verbosity level.</p>
</td></tr>
<tr><td><code id="lverbose_+3A_global">global</code></td>
<td>
<p>logical that indicates if the verbose level of
all log handlers should be set to <var>val</var>.</p>
</td></tr>
<tr><td><code id="lverbose_+3A_level">level</code></td>
<td>
<p>verbosity level threshold (numeric value) above which the
message should be printed out.
This threshold is compared with the current verbosity level as returned by
<code>lverbose</code>.</p>
</td></tr>
<tr><td><code id="lverbose_+3A_...">...</code></td>
<td>
<p>parts of a character message that are concatenated and passed to
the current logger's write function.</p>
</td></tr>
<tr><td><code id="lverbose_+3A_appendlf">appendLF</code></td>
<td>
<p>logical indicating if an endline character should be appended
at the end of the message.</p>
</td></tr>
<tr><td><code id="lverbose_+3A_sep">sep</code></td>
<td>
<p>separation character, used when concatenating all arguments in <code>...</code>.</p>
</td></tr>
<tr><td><code id="lverbose_+3A_force">force</code></td>
<td>
<p>logical that indicates if one should output messages or return a non
null logger, even if the verbose mode is not high enough.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the old verbose level
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>lsilent()</code>: tells if all verbose messages are silenced.
</p>
</li>
<li> <p><code>is.verbose()</code>: tells if verbosity is on, i.e. at level greater than 0.
</p>
</li>
<li> <p><code>lmessage()</code>: prints out a message (on sdtout) if the verbosity level is greater than a
given value.
</p>
</li>
<li> <p><code>vmessage()</code>: prints out a log message (at level 1) using the current logger,
typically on stdout.
It is a shortcut for <code>lmessage(1L, ...)</code>.
</p>
</li>
<li> <p><code>log_append()</code>: directly appends some message to the current log line.
</p>
</li></ul>

<hr>
<h2 id='make_vignette_auxfiles'>Generate RMarkdown Vignette Axiliary Files</h2><span id='topic+make_vignette_auxfiles'></span>

<h3>Description</h3>

<p>Generate RMarkdown Vignette Axiliary Files
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_vignette_auxfiles(
  PACKAGE,
  input = NULL,
  bibfile = "library.bib",
  Rpkg.prefix = "Rpackage_",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="make_vignette_auxfiles_+3A_package">PACKAGE</code></td>
<td>
<p>package name</p>
</td></tr>
<tr><td><code id="make_vignette_auxfiles_+3A_input">input</code></td>
<td>
<p>vignette source file.
If <code>NULL</code> then the current file is obtained via a call to <a href="knitr.html#topic+current_input">knitr::current_input</a>.</p>
</td></tr>
<tr><td><code id="make_vignette_auxfiles_+3A_bibfile">bibfile</code></td>
<td>
<p>output file for R package citations.</p>
</td></tr>
<tr><td><code id="make_vignette_auxfiles_+3A_rpkg.prefix">Rpkg.prefix</code></td>
<td>
<p>prefix to use when generating the bibtex entries of cited R packages.
If <code>Rpkg.prefix = 'Rpackage_'</code>, then Rmardown citations should be <code style="white-space: pre;">&#8288;@Rpackage_mypkg&#8288;</code>.</p>
</td></tr>
<tr><td><code id="make_vignette_auxfiles_+3A_...">...</code></td>
<td>
<p>other arguments passed to <a href="#topic+latex_preamble">latex_preamble</a></p>
</td></tr>
</table>


<h3>Details</h3>

<p>To use this feature add the following in your YAML header:
</p>
<div class="sourceCode"><pre>header-includes:
  - \input{"`r pkgmaker::make_vignette_auxfiles('pkgmaker')`"}
bibliography: library.bib
</pre></div>


<h3>Value</h3>

<p>Path to the preamble file.
</p>

<hr>
<h2 id='makeFakeVignette'>Generate a Fake Vignette</h2><span id='topic+makeFakeVignette'></span>

<h3>Description</h3>

<p>Generate a Fake Vignette
</p>


<h3>Usage</h3>

<pre><code class='language-R'>makeFakeVignette(src, out, PACKAGE = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="makeFakeVignette_+3A_src">src</code></td>
<td>
<p>original Sweave file</p>
</td></tr>
<tr><td><code id="makeFakeVignette_+3A_out">out</code></td>
<td>
<p>output file</p>
</td></tr>
<tr><td><code id="makeFakeVignette_+3A_package">PACKAGE</code></td>
<td>
<p>package name where to look the source vignette</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called to create a vignette file.
</p>

<hr>
<h2 id='makeUnitVignette'>Make Vignette for Unit Tests</h2><span id='topic+makeUnitVignette'></span>

<h3>Description</h3>

<p>Builds a vignette for unit tests in a package using the <code><a href="#topic+utest">utest</a></code>
and a template vignette file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>makeUnitVignette(
  pkg,
  file = paste(pkg, "-unitTests.pdf", sep = ""),
  ...,
  check = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="makeUnitVignette_+3A_pkg">pkg</code></td>
<td>
<p>Package name</p>
</td></tr>
<tr><td><code id="makeUnitVignette_+3A_file">file</code></td>
<td>
<p>Output file (.Rnw, .tex, or .pdf)</p>
</td></tr>
<tr><td><code id="makeUnitVignette_+3A_...">...</code></td>
<td>
<p>extra arguments passed to <code><a href="#topic+utest">utest</a></code>.</p>
</td></tr>
<tr><td><code id="makeUnitVignette_+3A_check">check</code></td>
<td>
<p>logical that indactes the cal was made from R CMD check, in which case the vignette
is updated only if results of unit tests can be found in the unit test output directory,
where they would have been generated by <code><a href="#topic+utest">utest</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Result of running unit test suite
</p>

<hr>
<h2 id='messagef'>General Log Formating</h2><span id='topic+messagef'></span><span id='topic+wnote'></span>

<h3>Description</h3>

<p>Generate a formatted diagnostic message.
This function is a shortcut for <code>message(sprintf(...))</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>messagef(fmt, ..., domain = NULL, appendLF = TRUE)

wnote(..., immediate. = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="messagef_+3A_fmt">fmt</code></td>
<td>
<p>a character vector of format strings, each of up to 8192 bytes.</p>
</td></tr>
<tr><td><code id="messagef_+3A_...">...</code></td>
<td>
<p>values to be passed into <code>fmt</code>.  Only logical,
integer, real and character vectors are supported, but some coercion
will be done: see the &lsquo;Details&rsquo; section. Up to 100.</p>
</td></tr>
<tr><td><code id="messagef_+3A_domain">domain</code></td>
<td>
<p>see <code><a href="base.html#topic+gettext">gettext</a></code>.  If <code>NA</code>, messages will
not be translated, see also the note in <code><a href="base.html#topic+stop">stop</a></code>.</p>
</td></tr>
<tr><td><code id="messagef_+3A_appendlf">appendLF</code></td>
<td>
<p>logical: should messages given as a character string
have a newline appended?</p>
</td></tr>
<tr><td><code id="messagef_+3A_immediate.">immediate.</code></td>
<td>
<p>logical, indicating if the call should be output
immediately, even if <code><a href="base.html#topic+getOption">getOption</a>("warn") &lt;= 0</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns nothing. Used for their side effects of printing messages/warnings.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>wnote()</code>: throws a simple note as an immediate warning.
It is a shorcut for <code>warning(..., immediate. = TRUE, call. = FALSE)</code>.
</p>
</li></ul>


<h3>See Also</h3>

<p><code><a href="base.html#topic+sprintf">sprintf</a></code>, <code><a href="base.html#topic+message">message</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
messagef("Hello %s number %i", 'world', 4)

</code></pre>

<hr>
<h2 id='mkoptions'>Quick Option-like Feature</h2><span id='topic+mkoptions'></span><span id='topic+.options'></span>

<h3>Description</h3>

<p><code>mkoptions</code> is a function that returns a function that
behaves like <code><a href="base.html#topic+options">options</a></code>, with an attached
internal/local list of key-value pairs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mkoptions(...)

.options(..., .DATA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mkoptions_+3A_...">...</code></td>
<td>
<p>list of keys or key-value pairs.
For <code>mkoptions</code> these define inital/default key-value pairs.</p>
</td></tr>
<tr><td><code id="mkoptions_+3A_.data">.DATA</code></td>
<td>
<p>a list or an environment with an element <code>.options</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>mkoptions</code> returns a function.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>.options()</code>: is a low-level function that mimics the behaviour
of the base function <code><a href="base.html#topic+options">options</a></code>, given a set
of key-value pairs.
It is the workhorse function used in <code>mkoptions</code> and package-specific
option sets (see <code><a href="#topic+setupPackageOptions">setupPackageOptions</a></code>)
</p>
</li></ul>


<h3>See Also</h3>

<p><code><a href="#topic+setupPackageOptions">setupPackageOptions</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>f &lt;- mkoptions(a=3, b=list(1,2,3))
str(f())
f('a')
f('b')
str(old &lt;- f(a = 10))
str(f())
f(old)
str(f())

</code></pre>

<hr>
<h2 id='new2'>Alternative S4 Constructor</h2><span id='topic+new2'></span>

<h3>Description</h3>

<p>An alternative version of <code><a href="methods.html#topic+new">new</a></code> to create objects based on a list
of values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new2(class, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="new2_+3A_class">class</code></td>
<td>
<p>Class name to instanciate</p>
</td></tr>
<tr><td><code id="new2_+3A_...">...</code></td>
<td>
<p>extra arguments from which slot values are extracted by exact
matching of names.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An S4 object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
setClass('A', contain='character', representation(x='numeric', y='character'))

# identical behaviour with standard calls
identical(new('A'), new2('A'))
identical(new('A', x=1), new2('A', x=1))

# but if passing that are names not slots 
identical(new('A'), new2('A', b=1))
identical(new('A', x=1), new2('A', x=1, b=3))
identical(new('A', x=1), new2('A', x=1, b=3))

# standard `new` would coerce first unnamed argument into parent of 'A' (i.e. 'character') 
new('A', list(x=1))
new('A', list(x=1, y='other'))
# `new2` rather use it to initialise the slots it can find in the list 
identical(new('A', x=1), new2('A', list(x=1)))
identical(new('A', x=1, y='other'), new2('A', list(x=1, y='other')))


</code></pre>

<hr>
<h2 id='oneoffVariable'>One-off Global Variables</h2><span id='topic+oneoffVariable'></span>

<h3>Description</h3>

<p>Defines a function that allow to get/assign a global variable whose value is
ensured to be reset after each access.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>oneoffVariable(default = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="oneoffVariable_+3A_default">default</code></td>
<td>
<p>default value to which the global variable is reset after each
access. Default is <code>NULL</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a function with one argument (<code>value</code>) that provides get/set access
to a global variable.
If called with a value, it assigns this value to the global variable.
If called with no argument, it returns the current value of the global variable and
reset it to its default value &ndash; as defined at its creation.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
x &lt;- oneoffVariable(0)
# returns default value
x()
# assign a value
x(3)
# get the value
x()
# second call returns default value again 
x()
 
</code></pre>

<hr>
<h2 id='onLoad'>Default Load/Unload Functions</h2><span id='topic+onLoad'></span><span id='topic+onUnload'></span>

<h3>Description</h3>

<p>Default Load/Unload Functions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>onLoad(libname = NULL, pkgname, chname = packageName())

onUnload(libpath)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="onLoad_+3A_libname">libname</code></td>
<td>
<p>a character string giving the library directory where
the package defining the namespace was found.</p>
</td></tr>
<tr><td><code id="onLoad_+3A_pkgname">pkgname</code></td>
<td>
<p>a character string giving the name of the package.</p>
</td></tr>
<tr><td><code id="onLoad_+3A_chname">chname</code></td>
<td>
<p>a character string naming a DLL (also known as a dynamic
shared object or library) to load.</p>
</td></tr>
<tr><td><code id="onLoad_+3A_libpath">libpath</code></td>
<td>
<p>a character string giving the complete path to the package.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns nothing, used only for their side-effects.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# in a package namespace:
.onLoad &lt;- function(libname=NULL, pkgname){

	pkgmaker::onLoad(libname, pkgname)

}

# in a package namespace:
.onUnload &lt;- function(libpath){

	pkgmaker::onUnload(libpath)

}
</code></pre>

<hr>
<h2 id='option_symlink'><code>option_symlink</code> creates a symbolic link to option <code>x</code>.</h2><span id='topic+option_symlink'></span><span id='topic+is_option_symlink'></span><span id='topic+option_symlink_target'></span><span id='topic+as.package_options'></span><span id='topic++5B+5B.package_options'></span><span id='topic+packageOptions'></span><span id='topic+listPackageOptions'></span>

<h3>Description</h3>

<p><code>option_symlink</code> creates a symbolic link to option <code>x</code>.
</p>
<p><code>is_option_symlink</code> tests if <code>x</code> is a symbolic link option.
</p>
<p><code>option_symlink_target</code> returns the end target option of a symbolic link
option <code>x</code>.
</p>
<p><code>as.package_options</code> creates an object such as the
ones used to stores package specific options.
</p>
<p>The method <code>[[</code> is equivalent to <code>options()</code> or <code>getOption(...)</code>:
e.g. <code>obj[[]]</code> returns the list of options defined in <code>obj</code>, and
<code>obj[['abc']]</code> returns the value of option <code>'abc'</code>.
</p>
<p><code>packageOptions</code> provides access to package specific options from a
given package that were defined with <code>setupPackageOptions</code>, and behaves as the base function <code><a href="base.html#topic+options">options</a></code>.
</p>
<p><code>listPackageOptions</code> returns the names of all option
currently defined with <code>setupPackageOptions</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>option_symlink(x)

is_option_symlink(x, opts)

option_symlink_target(x, opts)

as.package_options(..., defaults = NULL)

## S3 method for class 'package_options'
x[[...]]

packageOptions(..., PACKAGE = packageName())

listPackageOptions()
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="option_symlink_+3A_x">x</code></td>
<td>
<p>a character string, a list or an object of class
<code>package_options</code>.</p>
</td></tr>
<tr><td><code id="option_symlink_+3A_opts">opts</code></td>
<td>
<p>a list of options</p>
</td></tr>
<tr><td><code id="option_symlink_+3A_...">...</code></td>
<td>

<p>Arguments passed on to <code><a href="base.html#topic+options">base::options</a></code>
</p>

<dl>
<dt></dt><dd></dd>
</dl>
</td></tr>
<tr><td><code id="option_symlink_+3A_defaults">defaults</code></td>
<td>
<p><code>NULL</code> or a list of default options
with their values.</p>
</td></tr>
<tr><td><code id="option_symlink_+3A_package">PACKAGE</code></td>
<td>
<p>a package name</p>
</td></tr>
</table>


<h3>Value</h3>


<ul>
<li> <p><code>packageOptions</code> returns a list of package-specific options.
</p>
</li></ul>


<ul>
<li> <p><code>listPackageOptions</code> returns a character vector (possibly empty).
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>listPackageOptions()

</code></pre>

<hr>
<h2 id='orderVersion'>Ordering Version Numbers</h2><span id='topic+orderVersion'></span><span id='topic+sortVersion'></span>

<h3>Description</h3>

<p>Orders a vector of version numbers, in natural order.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>orderVersion(x, ..., decreasing = FALSE)

sortVersion(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="orderVersion_+3A_x">x</code></td>
<td>
<p>a character vector of version numbers</p>
</td></tr>
<tr><td><code id="orderVersion_+3A_...">...</code></td>
<td>
<p>extra parameters passed to <code>orderVersion</code> and <code><a href="base.html#topic+order">order</a></code></p>
</td></tr>
<tr><td><code id="orderVersion_+3A_decreasing">decreasing</code></td>
<td>
<p>a logical that indicates if the ordering should be decreasing</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
v &lt;- c('1.0', '1.03', '1.2')
order(v)
orderVersion(v)


sort(v)
sortVersion(v)
</code></pre>

<hr>
<h2 id='packageData'>Loading Package Data</h2><span id='topic+packageData'></span><span id='topic+ldata'></span>

<h3>Description</h3>

<p>Loads package data using <code><a href="utils.html#topic+data">data</a></code>, but allows the user to avoid
NOTEs for a &lsquo;non visible binding variable&rsquo; to be thrown when checking a package.
This is possible because this function returns the loaded data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>packageData(
  list,
  envir = .GlobalEnv,
  ...,
  options = NULL,
  stringsAsFactors = getOption("stringsAsFactors")
)

ldata(list, ..., package = NULL, error = TRUE, simplify = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="packageData_+3A_list">list</code></td>
<td>
<p>character vector containing the names of the data to load.</p>
</td></tr>
<tr><td><code id="packageData_+3A_envir">envir</code></td>
<td>
<p>the <a href="base.html#topic+environment">environment</a> where the data should be loaded.</p>
</td></tr>
<tr><td><code id="packageData_+3A_...">...</code></td>
<td>
<p>other arguments eventually passed to <code><a href="utils.html#topic+data">data</a></code>.</p>
</td></tr>
<tr><td><code id="packageData_+3A_options">options</code></td>
<td>
<p>list of R options to set before calling <code><a href="utils.html#topic+data">data</a></code>.
This may be useful the data is shipped as an R script.</p>
</td></tr>
<tr><td><code id="packageData_+3A_stringsasfactors">stringsAsFactors</code></td>
<td>
<p>logical that indicates if character columns of tabular data should be
converted into factors.</p>
</td></tr>
<tr><td><code id="packageData_+3A_package">package</code></td>
<td>

<p>a character vector giving the package(s) to look
in for data sets, or <code>NULL</code>.
</p>
<p>By default, all packages in the search path are used, then
the &lsquo;<span class="file">data</span>&rsquo; subdirectory (if present) of the current working
directory.
</p>
</td></tr>
<tr><td><code id="packageData_+3A_error">error</code></td>
<td>
<p>a logical that indicates whether an error should be thrown if
the requested data cannot be found.</p>
</td></tr>
<tr><td><code id="packageData_+3A_simplify">simplify</code></td>
<td>
<p>logical that indicates if queries of one object only (i.e. argument <code>list</code>
is of length one) should return the data object itself.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the loaded data.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>ldata()</code>: loads a package data in the parent frame.
It is a shortcut for <code>packageData(list, ..., envir=parent.frame())</code>.
</p>
</li></ul>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run:  
mydata &lt;- packageData('mydata')

## End(Not run)


# in a package source =&gt; won't issue a NOTE
myfunction &lt;- function(){
	mydata &lt;- ldata('mydata') 
}

</code></pre>

<hr>
<h2 id='packageEnv'>Package Development Utilities</h2><span id='topic+packageEnv'></span><span id='topic+topns_name'></span><span id='topic+topns'></span><span id='topic+packageName'></span><span id='topic+str_ns'></span><span id='topic+packagePath'></span><span id='topic+isPackageInstalled'></span><span id='topic+as_package'></span>

<h3>Description</h3>

<p><code>packageEnv</code> is a slight modification from <code><a href="base.html#topic+topenv">topenv</a></code>, which
returns the top environment, which in the case of development
packages is the environment into which the source files are loaded by
<code><a href="devtools.html#topic+load_all">load_all</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>packageEnv(pkg, skip = FALSE, verbose = FALSE)

topns_name(n = 1L, strict = TRUE, unique = TRUE)

topns(strict = TRUE)

packageName(envir = packageEnv(), .Global = FALSE, rm.prefix = TRUE)

str_ns(envir = packageEnv())

packagePath(..., package = NULL, lib.loc = NULL, check = TRUE)

isPackageInstalled(..., lib.loc = NULL)

as_package(x, ..., quiet = FALSE, extract = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="packageEnv_+3A_pkg">pkg</code></td>
<td>
<p>package name. If missing the environment of the runtime caller
package is returned.</p>
</td></tr>
<tr><td><code id="packageEnv_+3A_skip">skip</code></td>
<td>
<p>a logical that indicates if the calling namespace should be
skipped.</p>
</td></tr>
<tr><td><code id="packageEnv_+3A_verbose">verbose</code></td>
<td>
<p>logical that toggles verbosity</p>
</td></tr>
<tr><td><code id="packageEnv_+3A_n">n</code></td>
<td>
<p>number of namespaces to return</p>
</td></tr>
<tr><td><code id="packageEnv_+3A_strict">strict</code></td>
<td>
<p>a logicical that indicates if the global environment should
be considered as a valid namespace.</p>
</td></tr>
<tr><td><code id="packageEnv_+3A_unique">unique</code></td>
<td>
<p>logical that indicates if the result should be reduced
to contain only one occurence of each namespace.</p>
</td></tr>
<tr><td><code id="packageEnv_+3A_envir">envir</code></td>
<td>
<p>environment where to start looking for a package name.
The default is to use the <strong>runtime</strong> calling package environment.</p>
</td></tr>
<tr><td><code id="packageEnv_+3A_.global">.Global</code></td>
<td>
<p>a logical that indicates if calls from the global
environment should throw an error (<code>FALSE</code>: default) or the string
<code>'R_GlobalEnv'</code>.</p>
</td></tr>
<tr><td><code id="packageEnv_+3A_rm.prefix">rm.prefix</code></td>
<td>
<p>logical that indicates if an eventual prefix 'package:'
should be removed from the returned string.</p>
</td></tr>
<tr><td><code id="packageEnv_+3A_...">...</code></td>
<td>
<p>arguments passed to <code><a href="base.html#topic+file.path">file.path</a></code>.</p>
</td></tr>
<tr><td><code id="packageEnv_+3A_package">package</code></td>
<td>
<p>optional name of an installed package</p>
</td></tr>
<tr><td><code id="packageEnv_+3A_lib.loc">lib.loc</code></td>
<td>
<p>path to a library of R packages where to search the package</p>
</td></tr>
<tr><td><code id="packageEnv_+3A_check">check</code></td>
<td>
<p>logical that indicates if an error should be thrown if the path to the
package root directory cannot be found.
If this is the case and <code>check = FALSE</code>, then the function returns <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="packageEnv_+3A_x">x</code></td>
<td>
<p>package specified by its installation/development path or its name
as <code>'package:*'</code>.</p>
</td></tr>
<tr><td><code id="packageEnv_+3A_quiet">quiet</code></td>
<td>
<p>a logical that indicate if an error should be thrown if a
package is not found. It is also passed to <code><a href="base.html#topic+find.package">find.package</a></code>.</p>
</td></tr>
<tr><td><code id="packageEnv_+3A_extract">extract</code></td>
<td>
<p>logical that indicates if DESCRIPTION of package
source files should be extracted.
In this case there will be no valid path.</p>
</td></tr>
</table>


<h3>Value</h3>


<ul>
<li> <p><code>packageEnv</code> returns an environment
</p>
</li></ul>


<ul>
<li> <p><code>topns_name</code> returns the name of the namespace a character string.
</p>
</li></ul>


<ul>
<li> <p><code>topns</code> returns an environment.
</p>
</li></ul>


<ul>
<li> <p><code>packageName</code> returns a character string
</p>
</li></ul>


<ul>
<li> <p><code>packagePath</code> returns a character string.
</p>
</li></ul>


<ul>
<li> <p><code>as_package</code> returns a <code>package</code> object like <a href="devtools.html#topic+as.package">devtools::as.package</a>.
</p>
</li></ul>



<h3>Functions</h3>


<ul>
<li> <p><code>topns_name()</code>: returns the name of the runtime sequence of top namespace(s),
i.e. the name of the top calling package(s), from top to bottom.
</p>
<p>The top namespace is is not necessarily the namespace where <code>topns_name</code>
is effectively called.
This is useful for packages that define functions that need to access the
calling namespace, even from calls nested into calls to another function from
the same package &ndash; in which case <code>topenv</code> would not give the desired
environment.
</p>
</li>
<li> <p><code>topns()</code>: returns the runtime top namespace, i.e. the namespace of
the top calling package, possibly skipping the namespace where <code>topns</code>
is effectively called.
This is useful for packages that define functions that need to access the
calling namespace, even from calls nested into calls to another function from
the same package &ndash; in which case <code>topenv</code> would not give the desired
environment.
</p>
</li>
<li> <p><code>packageName()</code>: returns the current package's name.
It was made internal from version 0.16, since the package <span class="pkg">utils</span>
exported its own <code><a href="utils.html#topic+packageName">packageName</a></code> function in R-3.0.0.
</p>
</li>
<li> <p><code>str_ns()</code>: formats a package environment/namespace for log/info messages.
</p>
</li>
<li> <p><code>packagePath()</code>: returns the current package's root directory, which is
its installation/loading directory in the case of an installed package, or
its source directory served by devtools.
</p>
</li>
<li> <p><code>isPackageInstalled()</code>: checks if a package is installed.
</p>

<ul>
<li> <p><code>isPackageInstalled</code> returns a logical flag.
</p>
</li></ul>

</li>
<li> <p><code>as_package()</code>: an enhanced version of <code><a href="devtools.html#topic+as.package">as.package</a></code>,
that is not exported not to mask the original function.
It could eventually be incorporated into <code>devtools</code> itself.
Extra arguments in <code>...</code> are passed to <code><a href="base.html#topic+find.package">find.package</a></code>.
</p>
</li></ul>

<hr>
<h2 id='packageReference'>Package References</h2><span id='topic+packageReference'></span>

<h3>Description</h3>

<p>Create a citation string from package specific BibTex entries, suitable to
be used in Rd files.
The entries are looked in a file named REFERNCES.bib in the package's root
directory (i.e. inst/ in development mode).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>packageReference(key, short = FALSE, PACKAGE = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="packageReference_+3A_key">key</code></td>
<td>
<p>character vector of BibTex keys</p>
</td></tr>
<tr><td><code id="packageReference_+3A_short">short</code></td>
<td>
<p>logical that indicates if the reference should be shorten as
First Author et al. if it has more than one author.</p>
</td></tr>
<tr><td><code id="packageReference_+3A_package">PACKAGE</code></td>
<td>
<p>package in which the BiBTeX entry is defined.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a character string containing the text formated BibTex entries
</p>

<hr>
<h2 id='packageRegistry'>Package Registry</h2><span id='topic+packageRegistry'></span><span id='topic+packageRegistries'></span><span id='topic+hasPackageRegistry'></span><span id='topic+setPackageRegistry'></span><span id='topic+setPackageRegistryEntry'></span>

<h3>Description</h3>

<p><code>packageRegistry</code> provides ways to create query package specific
registries.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>packageRegistry(
  regname = NULL,
  quiet = FALSE,
  entry = FALSE,
  update = !entry,
  package = topenv(parent.frame())
)

packageRegistries(regname = NULL, package = NULL, primary = FALSE)

hasPackageRegistry(regname = NULL, package)

setPackageRegistry(
  regname,
  regobj,
  description = "",
  entrydesc = NA,
  ...,
  package = topenv(parent.frame()),
  overwrite = FALSE
)

setPackageRegistryEntry(
  regname,
  key,
  ...,
  overwrite = FALSE,
  verbose = FALSE,
  where = topenv(parent.frame()),
  msg = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="packageRegistry_+3A_regname">regname</code></td>
<td>
<p>Name of a sub-registry, used as its identifier.</p>
</td></tr>
<tr><td><code id="packageRegistry_+3A_quiet">quiet</code></td>
<td>
<p>a logical that indicates that one should return the (meta-)registry if it exists,
or <code>NULL</code> otherwise, without throwing any error.</p>
</td></tr>
<tr><td><code id="packageRegistry_+3A_entry">entry</code></td>
<td>
<p>logical that indicates if the corresponding meta registry entry should
be directly returned, without any other processing.</p>
</td></tr>
<tr><td><code id="packageRegistry_+3A_update">update</code></td>
<td>
<p>logical that indicates if the package registry should be updated, by adding/removing
entries from other loaded/unloaded packages.</p>
</td></tr>
<tr><td><code id="packageRegistry_+3A_package">package</code></td>
<td>
<p>package where to store or look for the registry.</p>
</td></tr>
<tr><td><code id="packageRegistry_+3A_primary">primary</code></td>
<td>
<p>logical that indicates if only primary registries
should be listed.</p>
</td></tr>
<tr><td><code id="packageRegistry_+3A_regobj">regobj</code></td>
<td>
<p>a <code><a href="registry.html#topic+regobj">registry</a></code> object or a single character
string that indicates the class of the objects that are stored in the
sub-registry.
See details for the list of the sub-registry's fields in this latter case.</p>
</td></tr>
<tr><td><code id="packageRegistry_+3A_description">description</code></td>
<td>
<p>short description line about the registry.
It is recommended to provide such description as it makes clearer the purpose of the
registry.
This description is shown when the registry object is printed/formated/listed.</p>
</td></tr>
<tr><td><code id="packageRegistry_+3A_entrydesc">entrydesc</code></td>
<td>
<p>human readable description that is used in log messages
when registering/removing entries.</p>
</td></tr>
<tr><td><code id="packageRegistry_+3A_...">...</code></td>
<td>
<p>named values used to set extra information about the new registry, that
are stored in the corresponding fields of the meta-registry.
Currently not used, as no extra field other than <code>'description'</code> is defined.</p>
</td></tr>
<tr><td><code id="packageRegistry_+3A_overwrite">overwrite</code></td>
<td>
<p>a logical that indicate if an existing registry with the same
should be overwritten if it exists.</p>
</td></tr>
<tr><td><code id="packageRegistry_+3A_key">key</code></td>
<td>
<p>entry identifier.</p>
</td></tr>
<tr><td><code id="packageRegistry_+3A_verbose">verbose</code></td>
<td>
<p>a logical that indicates if verbosity should be toggle on.</p>
</td></tr>
<tr><td><code id="packageRegistry_+3A_where">where</code></td>
<td>
<p>package name or namespace that owns the registry.</p>
</td></tr>
<tr><td><code id="packageRegistry_+3A_msg">msg</code></td>
<td>
<p>addon message to print at the end of the output log line,
when <code>verbose=TRUE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Package registries are organised in a meta-registry (a registry of registries) within a package's namespace.
Each registry can be used to store sets of built-in or user-defined objects
in an organised way, e.g. algorithms or datasets.
</p>
<p>A package meta-registry is a <code><a href="registry.html#topic+regobj">registry</a></code> object,
whose entries are <code><a href="registry.html#topic+regobj">registry</a></code> objects themselves.
A sub-registry entry is defined by the following fields:
</p>

<dl>
<dt>key</dt><dd><p>The sub-registry's accession key/identifier (a character string).</p>
</dd>
<dt>regobj</dt><dd><p>The sub-registry itself (a <code>registry</code> object)</p>
</dd>
<dt>description</dt><dd><p>Human readable description of the purpose of the registry (a character string)</p>
</dd>
<dt>description</dt><dd><p>Short human readable description of the type of entries (a character string)</p>
</dd>
<dt>package</dt><dd><p>owner package, which is forced to be the package in which the meta registry
is defined.</p>
</dd>
<dt>parent</dt><dd><p>The name of the package that holds the parent registry, which we
call the primary package.
This field is non empty for cross-package registries, i.e. registries that
derive from primary package's own registry.
Their entries are defined when (lazy-)loading the dependent package's namespace.</p>
</dd>
</dl>

<p>Note that this function cannot be called from the global environment, but from
a package namespace, e.g., when a package is lazy-loaded on installation or loaded
via the function <code><a href="devtools.html#topic+load_all">load_all</a></code> from the <span class="pkg">devtools</span> package.
</p>


<h3>Value</h3>

<p>a <code><a href="registry.html#topic+regobj">registry</a></code> object or <code>NULL</code> (see argument
<code>quiet</code>).
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>packageRegistries()</code>: lists registries from loaded packages.
</p>
</li>
<li> <p><code>hasPackageRegistry()</code>: tells if a given package has a meta-registry or
a given registry.
</p>
</li>
<li> <p><code>setPackageRegistry()</code>: creates a package-specific registry within a package.
</p>
<p>Each package sub-registry has its own set of fields.
Sub-registries defined by passing a character string in argument <code>regobj</code> of
<code>setPackageRegistry</code> have the following fields: <code>'key'</code> and <code>'object'</code>
</p>
</li>
<li> <p><code>setPackageRegistryEntry()</code>: adds an entry in a package registry.
</p>
</li></ul>

<hr>
<h2 id='packageTestEnv'>Returns the package internal environment where unit tests are stored.</h2><span id='topic+packageTestEnv'></span>

<h3>Description</h3>

<p>Returns the package internal environment where unit tests are stored.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>packageTestEnv(pkg)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="packageTestEnv_+3A_pkg">pkg</code></td>
<td>
<p>package name.
If missing the caller's package is assumed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An environment.
</p>

<hr>
<h2 id='parsePackageCitation'>Formatting Package Citations in Sweave/knitr Documents</h2><span id='topic+parsePackageCitation'></span>

<h3>Description</h3>

<p>Formatting Package Citations in Sweave/knitr Documents
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parsePackageCitation(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="parsePackageCitation_+3A_x">x</code></td>
<td>
<p>output document, as a single string.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vecotr of citation references.
</p>

<hr>
<h2 id='pkgmaker-deprecated'>Deprecated Functions in pkgmaker</h2><span id='topic+pkgmaker-deprecated'></span><span id='topic+requirePackage'></span>

<h3>Description</h3>

<p>These functions have been deprecated and will be defunct in the next release.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>requirePackage(pkg, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pkgmaker-deprecated_+3A_pkg">pkg</code></td>
<td>
<p>package name to load.</p>
</td></tr>
<tr><td><code id="pkgmaker-deprecated_+3A_...">...</code></td>
<td>
<p>extra arguments</p>
</td></tr>
</table>


<h3>Value</h3>


<ul>
<li> <p><code>requirePackage</code>: returned no value, called to load a package.
</p>
</li></ul>


<hr>
<h2 id='postponeAction'>Postponing Actions</h2><span id='topic+postponeAction'></span><span id='topic+runPostponedAction'></span>

<h3>Description</h3>

<p>This function implement a mechanism to postpone actions, which can be executed
at a later stage.
This is useful when developing packages, where actions that need to be run in the
<code>link{.onLoad}</code> function but can be defined close to their context.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>postponeAction(
  expr,
  key = digest(tempfile()),
  group = NULL,
  envir = topns(strict = FALSE),
  verbose = getOption("actions.verbose", getOption("verbose"))
)

runPostponedAction(
  group = NULL,
  verbose = getOption("actions.verbose", getOption("verbose"))
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="postponeAction_+3A_expr">expr</code></td>
<td>
<p>expression that define the action to postpone.
Currently only functions are supported.</p>
</td></tr>
<tr><td><code id="postponeAction_+3A_key">key</code></td>
<td>
<p>identifier for this specific action.
It should be unique across the postponed actions from the same group.</p>
</td></tr>
<tr><td><code id="postponeAction_+3A_group">group</code></td>
<td>
<p>optional parent action group.
This enables to define meaningful sets of actions that can be run all at once.</p>
</td></tr>
<tr><td><code id="postponeAction_+3A_envir">envir</code></td>
<td>
<p>environment in which the action should be executed.
Currently not used.</p>
</td></tr>
<tr><td><code id="postponeAction_+3A_verbose">verbose</code></td>
<td>
<p>logical that toggles verbose messages.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>postponeAction</code> returns the names of the postponed actions.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>opt &lt;- options(actions.verbose=2)

# define actions
postponeAction(function(){print(10)}, "print")
postponeAction(function(){print(1:10)}, "more")
postponeAction()
# execute actions
runPostponedAction()
runPostponedAction()

# restore options
options(opt)

</code></pre>

<hr>
<h2 id='quickinstall'>Quick Installation of a Source Package</h2><span id='topic+quickinstall'></span>

<h3>Description</h3>

<p>Builds and install a minimal version of a package from its
source directory.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>quickinstall(
  path,
  destdir = NULL,
  vignettes = FALSE,
  force = TRUE,
  ...,
  lib.loc = if (!is.null(destdir)) TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="quickinstall_+3A_path">path</code></td>
<td>
<p>path to the package source directory</p>
</td></tr>
<tr><td><code id="quickinstall_+3A_destdir">destdir</code></td>
<td>
<p>installation directory.
If <code>NULL</code>, the package is installed in the default installation library.
If <code>NA</code>, the package is installed in a temporary directory, whose path is returned
as a value.</p>
</td></tr>
<tr><td><code id="quickinstall_+3A_vignettes">vignettes</code></td>
<td>
<p>logical that indicates if the vignettes should be
rebuilt and installed.</p>
</td></tr>
<tr><td><code id="quickinstall_+3A_force">force</code></td>
<td>
<p>logical that indicates if the package should be installed even if a previous
installation exists in the installation library.</p>
</td></tr>
<tr><td><code id="quickinstall_+3A_...">...</code></td>
<td>
<p>extra arguments passed to <code><a href="#topic+R.CMD">R.CMD</a></code></p>
</td></tr>
<tr><td><code id="quickinstall_+3A_lib.loc">lib.loc</code></td>
<td>
<p>library specification.
If <code>TRUE</code> then the installation directory <code>destdir</code> is added to the default
library paths.
This can be usefull if dependencies are installed in this directory.
If <code>NULL</code>, then the default library path is left unchanged.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>quickinstall</code> returns the path of the library where the package was installed.
</p>

<hr>
<h2 id='R.exec'>Executing R Commands</h2><span id='topic+R.exec'></span><span id='topic+R.CMD'></span><span id='topic+R.SHLIB'></span>

<h3>Description</h3>

<p>Functions to execute R commands.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>R.exec(..., lib.loc = NULL)

R.CMD(cmd, ...)

R.SHLIB(libname, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="R.exec_+3A_...">...</code></td>
<td>
<p>extra arguments that are concatenated and appended to
the command.</p>
</td></tr>
<tr><td><code id="R.exec_+3A_lib.loc">lib.loc</code></td>
<td>
<p>logical that indicates if the current library locations
should be used.
If a character vector, then it is used as the library path specification.</p>
</td></tr>
<tr><td><code id="R.exec_+3A_cmd">cmd</code></td>
<td>
<p>command to run, e.g. &lsquo;check&rsquo; or &lsquo;INSTALL&rsquo;.</p>
</td></tr>
<tr><td><code id="R.exec_+3A_libname">libname</code></td>
<td>
<p>name of the output compiled library</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns the value of executing the R command via <a href="base.html#topic+system">system</a>.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>R.exec()</code>: executes a single R command via <code><a href="base.html#topic+system2">system2</a></code>.
</p>
</li>
<li> <p><code>R.CMD()</code>: executes R CMD commands.
</p>
</li>
<li> <p><code>R.SHLIB()</code>: executes R CMD SHLIB commands.
</p>
</li></ul>

<hr>
<h2 id='RdSection2latex'>Format Rd Sections into LatTeX</h2><span id='topic+RdSection2latex'></span>

<h3>Description</h3>

<p>This function extract sections from Rd files and convert them into
LaTeX code.
This can be useful to include Rd text into vignettes, hence keeping them
up to date.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>RdSection2latex(topic, package, i = 1L, notitle = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="RdSection2latex_+3A_topic">topic</code></td>
<td>
<p>Rd topic</p>
</td></tr>
<tr><td><code id="RdSection2latex_+3A_package">package</code></td>
<td>
<p>package in which to search the topic</p>
</td></tr>
<tr><td><code id="RdSection2latex_+3A_i">i</code></td>
<td>
<p>index of the section to format</p>
</td></tr>
<tr><td><code id="RdSection2latex_+3A_notitle">notitle</code></td>
<td>
<p>logical that indicates if the section's title should be removed</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Nothing, just prints the LaTeX code on console.
</p>


<h3>Example section</h3>

<p>This is a nice section, with a bullet list:
</p>

<ul>
<li><p> tata
</p>
</li>
<li><p> toto
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>RdSection2latex('RdSection2latex', package = 'pkgmaker')

</code></pre>

<hr>
<h2 id='read.yaml_section'>Reads YAML Options Embbeded into a File</h2><span id='topic+read.yaml_section'></span>

<h3>Description</h3>

<p>Reads YAML Options Embbeded into a File
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read.yaml_section(section, file = "~/.Rprofile", text = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read.yaml_section_+3A_section">section</code></td>
<td>
<p>section name to lookup in the file.
In the file this defined by paired tags <code>"#&lt;section_name&gt;", "#&lt;/section_name&gt;"</code>,
or a single tag <code>"#&lt;section_name@file_path&gt;"</code> that redirect to a YAML file.</p>
</td></tr>
<tr><td><code id="read.yaml_section_+3A_file">file</code></td>
<td>
<p>path to the file to parse. Default is to parse the user's <em>.Rprofile</em>.</p>
</td></tr>
<tr><td><code id="read.yaml_section_+3A_text">text</code></td>
<td>
<p>text to parse.
If provided, then argument <code>file</code> is not used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a list representation of the YAML header
</p>

<hr>
<h2 id='regfetch'>Finds an entry in a registry.</h2><span id='topic+regfetch'></span><span id='topic+pkgreg_fetch'></span><span id='topic+pkgreg_remove'></span>

<h3>Description</h3>

<p>This function provides extra control on how entries are queried
from a <code><a href="registry.html#topic+regobj">registry</a></code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>regfetch(
  regobj,
  ...,
  all = FALSE,
  error = TRUE,
  exact = FALSE,
  KEYS = NULL,
  verbose = FALSE,
  entry = FALSE,
  msg = NULL
)

pkgreg_fetch(regname, ..., msg = NULL, where = topenv(parent.frame()))

pkgreg_remove(
  regname,
  ...,
  msg = NULL,
  where = topenv(parent.frame()),
  quiet = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="regfetch_+3A_regobj">regobj</code></td>
<td>
<p>a registry object</p>
</td></tr>
<tr><td><code id="regfetch_+3A_...">...</code></td>
<td>
<p>key value(s) to look up.
If multiple indexes are used, then the primary key should come first.</p>
</td></tr>
<tr><td><code id="regfetch_+3A_all">all</code></td>
<td>
<p>logical to indicate if hidden keys (starting with a '.') should be
returned and output in message.</p>
</td></tr>
<tr><td><code id="regfetch_+3A_error">error</code></td>
<td>
<p>a logical that indicates if an error should be thrown if the key has no match
or multiple matches</p>
</td></tr>
<tr><td><code id="regfetch_+3A_exact">exact</code></td>
<td>
<p>a logical that indicates if matching should be exact or partial.
Note that if exact matches exist then they are returned, independently of the
value of <code>exact</code>.</p>
</td></tr>
<tr><td><code id="regfetch_+3A_keys">KEYS</code></td>
<td>
<p>alternative way of passing the key value(s).
If not missing, then arguments in <code>...</code> are discarded.</p>
</td></tr>
<tr><td><code id="regfetch_+3A_verbose">verbose</code></td>
<td>
<p>a logical that indicates if verbosity should be toggle on</p>
</td></tr>
<tr><td><code id="regfetch_+3A_entry">entry</code></td>
<td>
<p>a logical that indicates if the</p>
</td></tr>
<tr><td><code id="regfetch_+3A_msg">msg</code></td>
<td>
<p>a header to use in case of error.</p>
</td></tr>
<tr><td><code id="regfetch_+3A_regname">regname</code></td>
<td>
<p>Name of a sub-registry, used as its identifier.</p>
</td></tr>
<tr><td><code id="regfetch_+3A_where">where</code></td>
<td>
<p>package name or namespace that owns the registry.</p>
</td></tr>
<tr><td><code id="regfetch_+3A_quiet">quiet</code></td>
<td>
<p>a logical that indicates if the operation should be performed quietly,
without throwing errors or warnings.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>regfetch</code> returns a registry entry.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>pkgreg_fetch()</code>: fetches entries in a package registry, as set up by
<code><a href="#topic+setPackageRegistry">setPackageRegistry</a></code>.
</p>
<p>It loads the requested package registry and uses <code>regfetch</code>
to retrieve data from it.
</p>
</li>
<li> <p><code>pkgreg_remove()</code>: removes an entry from a package registry.
</p>
</li></ul>

<hr>
<h2 id='render_notes'>Renders rmarkdown Documents Using User Default Options</h2><span id='topic+render_notes'></span>

<h3>Description</h3>

<p>Renders rmarkdown Documents Using User Default Options
</p>


<h3>Usage</h3>

<pre><code class='language-R'>render_notes(
  input,
  output_format = NULL,
  output_options = NULL,
  ...,
  .config = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="render_notes_+3A_input">input</code></td>
<td>
<p>The input file to be rendered. This can be an R script (.R),
an R Markdown document (.Rmd), or a plain markdown document.</p>
</td></tr>
<tr><td><code id="render_notes_+3A_output_format">output_format</code></td>
<td>
<p>The R Markdown output format to convert to. The option
<code>"all"</code> will render all formats defined within the file. The option can
be the name of a format (e.g. <code>"html_document"</code>) and that will render
the document to that single format. One can also use a vector of format
names to render to multiple formats. Alternatively, you can pass an output
format object (e.g. <code>html_document()</code>). If using <code>NULL</code> then the
output format is the first one defined in the YAML frontmatter in the input
file (this defaults to HTML if no format is specified there).
If you pass an output format object to <code>output_format</code>, the options
specified in the YAML header or <code>_output.yml</code> will be ignored and you
must explicitly set all the options you want when you construct the object.
If you pass a string, the output format will use the output parameters in
the YAML header or <code>_output.yml</code>.</p>
</td></tr>
<tr><td><code id="render_notes_+3A_output_options">output_options</code></td>
<td>
<p>List of output options that can override the options
specified in metadata (e.g. could be used to force <code>self_contained</code> or
<code>mathjax = "local"</code>). Note that this is only valid when the output
format is read from metadata (i.e. not a custom format object passed to
<code>output_format</code>).</p>
</td></tr>
<tr><td><code id="render_notes_+3A_...">...</code></td>
<td>
<p>other arguments passed to <code><a href="rmarkdown.html#topic+render">render</a></code></p>
</td></tr>
<tr><td><code id="render_notes_+3A_.config">.config</code></td>
<td>
<p>location of the default options (a YAML file).
Default behaviour is to look for file <code>'.rmarkdown.yaml'</code> in the user's
home directory, or, if missing, for a yaml section <code>rmarkdown::render</code>
in the user's R profile.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the path to the rendered file, like <a href="rmarkdown.html#topic+render">rmarkdown::render</a>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+read.yaml_section">read.yaml_section</a></code>
</p>

<hr>
<h2 id='reorder_columns'>Reordering Columns</h2><span id='topic+reorder_columns'></span>

<h3>Description</h3>

<p>Reorders columns according to a prefered target order
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reorder_columns(x, target, decreasing = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="reorder_columns_+3A_x">x</code></td>
<td>
<p>an object with columns, such as a <code>matrix</code> or a <code>data.frame</code>,
or from a class that support subsetting via <code>x[, i, drop = FALSE]</code> and has a method <code>colnames</code>.</p>
</td></tr>
<tr><td><code id="reorder_columns_+3A_target">target</code></td>
<td>
<p>a character or named numeric vector that specifies the column prefered order.
If a numeric vector, then its names are assumed to correspond to columns,
and its values determine the target order &ndash; according to argument <code>decreasing</code>.</p>
</td></tr>
<tr><td><code id="reorder_columns_+3A_decreasing">decreasing</code></td>
<td>
<p>logical that indicates in which direction a numeric target vector should
be ordered.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Column names will be reordered so that their order match the one in <code>target</code>.
Any column that does not appear in <code>target</code> will be put after those that are
listed in <code>target</code>.
</p>


<h3>Value</h3>

<p>an object of the same type and dimension
</p>

<hr>
<h2 id='require.quiet'>Loading Packages</h2><span id='topic+require.quiet'></span><span id='topic+qrequire'></span><span id='topic+qlibrary'></span><span id='topic+mrequire'></span>

<h3>Description</h3>

<p><code>require.quiet</code> silently requires a package, and <code>qrequire</code> is an alias to <code>require.quiet</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>require.quiet(...)

qrequire(...)

qlibrary(...)

mrequire(msg, package, lib.loc = NULL, quietly = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="require.quiet_+3A_...">...</code></td>
<td>
<p>extra arguments passed to <code><a href="base.html#topic+library">library</a></code> or <code><a href="base.html#topic+require">require</a></code>.</p>
</td></tr>
<tr><td><code id="require.quiet_+3A_msg">msg</code></td>
<td>
<p>error message to use, to which is appended the string
<code>' requires package &lt;pkg&gt;'</code> to build the error message.</p>
</td></tr>
<tr><td><code id="require.quiet_+3A_package">package</code></td>
<td>
<p>name of the package to load.</p>
</td></tr>
<tr><td><code id="require.quiet_+3A_lib.loc">lib.loc</code></td>
<td>
<p>a character vector describing the location of <span class="rlang"><b>R</b></span>
library trees to search through, or <code>NULL</code>.  The default value
of <code>NULL</code> corresponds to all libraries currently known to
<code><a href="base.html#topic+.libPaths">.libPaths</a>()</code>.
Non-existent library trees are silently ignored.</p>
</td></tr>
<tr><td><code id="require.quiet_+3A_quietly">quietly</code></td>
<td>
<p>a logical.  If <code>TRUE</code>, no message confirming
package attaching is printed, and most often, no errors/warnings are
printed if package attaching fails.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called to load packages.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>qlibrary()</code>: silently loads a package.
</p>
</li>
<li> <p><code>mrequire()</code>: tries loading a package with base <code><a href="base.html#topic+require">require</a></code>
and stops with a &ndash; custom &ndash; error message if it fails to do so.
</p>
</li></ul>


<h3>See Also</h3>

<p>Other require: 
<code><a href="#topic+irequire">irequire</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
mrequire('Running this example', 'stringr')
try( mrequire('Doing impossible things', 'notapackage') )

</code></pre>

<hr>
<h2 id='requireRUnit'>Load RUnit Compatible Package</h2><span id='topic+requireRUnit'></span>

<h3>Description</h3>

<p>Loads the package responsible for the implementation of the RUnit framework,
choosing amongst &lsquo;RUnitX&rsquo;, &lsquo;svUnit&rsquo; and &lsquo;RUnit&rsquo;.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>requireRUnit(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="requireRUnit_+3A_...">...</code></td>
<td>
<p>arguments not used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>nothing
</p>

<hr>
<h2 id='rnw'>Utilities for Vignettes</h2><span id='topic+rnw'></span><span id='topic+isManualVignette'></span><span id='topic+as.rnw'></span><span id='topic+rnwCompiler'></span><span id='topic+rnwWrapper'></span><span id='topic+rnwDriver'></span><span id='topic+rnwIncludes'></span><span id='topic+rnwChildren'></span><span id='topic+vignetteMakefile'></span><span id='topic+compactVignettes'></span>

<h3>Description</h3>

<p><code>rnw</code> provides a unified interface to run vignettes that detects
the type of vignette (Sweave or knitr), and which Sweave driver
to use (either automatically or from an embedded command <code>\VignetteDriver</code>
command).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rnw(x, file = NULL, ..., raw = FALSE)

isManualVignette()

as.rnw(x, ..., load = TRUE)

rnwCompiler(x, verbose = TRUE)

rnwWrapper(x, verbose = TRUE)

rnwDriver(x)

rnwIncludes(x)

rnwChildren(x)

vignetteMakefile(
  package = NULL,
  skip = NULL,
  print = TRUE,
  template = NULL,
  temp = FALSE,
  checkMode = isCHECK() || vignetteCheckMode(),
  user = NULL,
  tests = TRUE
)

compactVignettes(paths, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rnw_+3A_x">x</code></td>
<td>
<p>vignette source file specification as a path or a <code>rnw</code> object.</p>
</td></tr>
<tr><td><code id="rnw_+3A_file">file</code></td>
<td>
<p>output file</p>
</td></tr>
<tr><td><code id="rnw_+3A_...">...</code></td>
<td>
<p>extra arguments passed to <code>as.rnw</code> that can be used to force
certain building parameters.</p>
</td></tr>
<tr><td><code id="rnw_+3A_raw">raw</code></td>
<td>
<p>a logical that indicates if the raw result for the compilation
should be returned, instead of the result file path.</p>
</td></tr>
<tr><td><code id="rnw_+3A_load">load</code></td>
<td>
<p>logical to indicate if all the object's properties should loaded,
which is done by parsing the file and look up for specific tags.</p>
</td></tr>
<tr><td><code id="rnw_+3A_verbose">verbose</code></td>
<td>
<p>logical that toggles verbosity</p>
</td></tr>
<tr><td><code id="rnw_+3A_package">package</code></td>
<td>
<p>package name.
If <code>NULL</code>, a DESRIPTION file is looked for one directory up: this
meant to work when building a vignette directly from a package's
<code>'vignettes'</code> sub-directory.</p>
</td></tr>
<tr><td><code id="rnw_+3A_skip">skip</code></td>
<td>
<p>Vignette files to skip (basename).</p>
</td></tr>
<tr><td><code id="rnw_+3A_print">print</code></td>
<td>
<p>logical that specifies if the path should be printed or
only returned.</p>
</td></tr>
<tr><td><code id="rnw_+3A_template">template</code></td>
<td>
<p>template Makefile to use.
The default is to use the file &ldquo;vignette.mk&rdquo; shipped with the package
<span class="pkg">pkgmaker</span> and can be found in its install root directory.</p>
</td></tr>
<tr><td><code id="rnw_+3A_temp">temp</code></td>
<td>
<p>logical that indicates if the generated makefile should using a
temporary filename (<code>TRUE</code>), or simply named &ldquo;vignette.mk&rdquo;</p>
</td></tr>
<tr><td><code id="rnw_+3A_checkmode">checkMode</code></td>
<td>
<p>logical that indicates if the vignettes should be generated as in a
CRAN check (<code>TRUE</code>) or in development mode, in which case <code>pdflatex</code>, <code>bibtex</code>,
and, optionally, <code>qpdf</code> are required.</p>
</td></tr>
<tr><td><code id="rnw_+3A_user">user</code></td>
<td>
<p>character vector containing usernames that enforce <code>checkMode=TRUE</code>,
if the function is called from within their session.</p>
</td></tr>
<tr><td><code id="rnw_+3A_tests">tests</code></td>
<td>
<p>logical that enables the compilation of a vignette that gathers all unit
test results.
Note that this means that all unit tests are run before generating the vignette.
However, unit tests are not (re)-run at this stage when the vignettes are built
when checking the package with <code>R CMD check</code>.</p>
</td></tr>
<tr><td><code id="rnw_+3A_paths">paths</code></td>
<td>
<p>A character vector of paths to PDF files, or a length-one
character vector naming a directory, when all &lsquo;<span class="file">.pdf</span>&rsquo; files in
that directory will be used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>rnw</code> returns the result of compiling the vignette with <a href="#topic+runVignette">runVignette</a>.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>isManualVignette()</code>: tells if a vignette is being run through the function <code>runVignette</code>
of <span class="pkg">pkgmker</span>, allowing disabling behaviours not allowed in package vignettes that are
checked vi <code>R CMD check</code>.
</p>
</li>
<li> <p><code>as.rnw()</code>: creates a S3 <code>rnw</code> object that contains information
about a vignette, e.g., source filename, driver, fixed included files, etc..
</p>
</li>
<li> <p><code>rnwCompiler()</code>: tries to detect the vignette compiler to use on a vignette
source file, e.g., <code><a href="utils.html#topic+Sweave">Sweave</a></code> or <a href="knitr.html#topic+knitr-package">knitr</a>.
</p>
</li>
<li> <p><code>rnwWrapper()</code>: tries to detect the type of vignette and if it is meant
to be wrapped into another main file.
</p>
</li>
<li> <p><code>rnwDriver()</code>: tries to detect Sweave driver to use on a vignette source
file, e.g., <code>SweaveCache</code>, <code>highlight</code>, etc..
</p>
</li>
<li> <p><code>rnwIncludes()</code>: detects fixed includes, e.g., image or pdf files, that are
required to build the final document.
</p>
</li>
<li> <p><code>rnwChildren()</code>: detects included vignette documents and return them as a
list of vignette objects.
</p>
</li>
<li> <p><code>vignetteMakefile()</code>: returns the path to a generic makefile used to make
vignettes.
</p>
</li>
<li> <p><code>compactVignettes()</code>: compacts vignette PDFs using either <code>gs_quality='none'</code> or <code>'ebook'</code>,
depending on which compacts best (as per CRAN check criteria).
</p>
</li></ul>

<hr>
<h2 id='runVignette'>Compile a Vignette Object</h2><span id='topic+runVignette'></span>

<h3>Description</h3>

<p>Compile a Vignette Object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>runVignette(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="runVignette_+3A_x">x</code></td>
<td>
<p>an object that represents a vignette</p>
</td></tr>
<tr><td><code id="runVignette_+3A_...">...</code></td>
<td>
<p>other arguments passed down to the relevant method.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns the value returned by the vignette compiler.
</p>

<hr>
<h2 id='Rversion'>Complete R version</h2><span id='topic+Rversion'></span>

<h3>Description</h3>

<p>Returns the complete R version, e.g. 2.15.0
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Rversion()
</code></pre>


<h3>Value</h3>

<p>A character string.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>Rversion()

</code></pre>

<hr>
<h2 id='setBiocMirror'>Setting Mirrors and Repositories</h2><span id='topic+setBiocMirror'></span><span id='topic+getBiocMirror'></span><span id='topic+getBiocRepos'></span><span id='topic+setCRANMirror'></span>

<h3>Description</h3>

<p><code>setBiocMirror</code> sets all Bioconductor repositories (software, data,
annotation, etc.).
so that they are directly available to <code><a href="utils.html#topic+install.packages">install.packages</a></code>.
It differs from <code><a href="utils.html#topic+chooseBioCmirror">chooseBioCmirror</a></code> in that it effectively enables
the repositories.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setBiocMirror(
  url = "http://www.bioconductor.org",
  version = NULL,
  unique = TRUE
)

getBiocMirror()

getBiocRepos(url = "http://www.bioconductor.org", version = NULL)

setCRANMirror(url = CRAN, unique = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="setBiocMirror_+3A_url">url</code></td>
<td>
<p>or Bioconductor mirror url</p>
</td></tr>
<tr><td><code id="setBiocMirror_+3A_version">version</code></td>
<td>
<p>version number</p>
</td></tr>
<tr><td><code id="setBiocMirror_+3A_unique">unique</code></td>
<td>
<p>logical that indicate if duplicated urls or names should be
removed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>setBiocMirror</code> returns the old set of Bioc repositories.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>getBiocMirror()</code>: is a shortcut for <code>getOption('BioC_mirror')</code>, which
returns the current Bioconductor mirror as used by <code>biocLite</code>.
</p>
</li>
<li> <p><code>getBiocRepos()</code>: returns urls to all Bioconductor repositories on a
given mirror.
</p>
</li>
<li> <p><code>setCRANMirror()</code>: sets the preferred CRAN mirror.
</p>
</li></ul>

<hr>
<h2 id='setClassRegistry'>Automatic S4 Class for Registry Entries</h2><span id='topic+setClassRegistry'></span>

<h3>Description</h3>

<p>Automatic S4 Class for Registry Entries
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setClassRegistry(registry, Class, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="setClassRegistry_+3A_registry">registry</code></td>
<td>
<p>a registry object</p>
</td></tr>
<tr><td><code id="setClassRegistry_+3A_class">Class</code></td>
<td>
<p>name of the class to generate</p>
</td></tr>
<tr><td><code id="setClassRegistry_+3A_...">...</code></td>
<td>
<p>extra arguments passed to <code><a href="methods.html#topic+setClass">setClass</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called to declare a registry class.
</p>

<hr>
<h2 id='setPackageExtraHandler'>Install/Run Extra Things After Standard Package Installation</h2><span id='topic+setPackageExtraHandler'></span><span id='topic+packageExtraHandler'></span><span id='topic+setPackageExtra'></span><span id='topic+packageExtra'></span><span id='topic+packageExtraRunner'></span><span id='topic+install.extras'></span><span id='topic+install.extrapackages'></span>

<h3>Description</h3>

<p>These functions define a framework to register actions for which default sets of arguments
can be defined when (lazy-)loading a package, and run later on, e.g., after the package
is installed using dedicated commands.
</p>
<p><code>setPackageExtraHandler</code> defines main action handler functions, for which
actions are defined as a set of arguments and registered using <code>setPackageExtra</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setPackageExtraHandler(handler, fun, ...)

packageExtraHandler(handler = NULL, ...)

setPackageExtra(handler, extra, ...)

packageExtra(handler = NULL, extra = NULL, package = NULL, .wrap = FALSE)

packageExtraRunner(handler)

install.extras(
  package,
  extra = NULL,
  handler = NULL,
  ...,
  .verbose = getOption("verbose")
)

install.extrapackages(
  package,
  extra = NULL,
  handler = NULL,
  ...,
  .verbose = getOption("verbose")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="setPackageExtraHandler_+3A_handler">handler</code></td>
<td>
<p>name of a handler, e.g, <code>'install'</code>.
It must be unique across all handlers registered by any other packages.</p>
</td></tr>
<tr><td><code id="setPackageExtraHandler_+3A_fun">fun</code></td>
<td>
<p>handler function that will be called with the arguments registered
with <code>packageExtra(name, ...)</code></p>
</td></tr>
<tr><td><code id="setPackageExtraHandler_+3A_...">...</code></td>
<td>
<p>extra arguments passed to internal function calls.
In <code>packageExtraHandler</code>, these are passed to <code><a href="#topic+pkgreg_fetch">pkgreg_fetch</a></code>.
</p>
<p>In <code>setPackageExtra</code>, these define default arguments for the handler function.
These are overwritten by arguments in the call to runner function if any.</p>
</td></tr>
<tr><td><code id="setPackageExtraHandler_+3A_extra">extra</code></td>
<td>
<p>name of the extra action.</p>
</td></tr>
<tr><td><code id="setPackageExtraHandler_+3A_package">package</code></td>
<td>
<p>package name where to store/look for the internal registries.
End users should not need to use this argument.</p>
</td></tr>
<tr><td><code id="setPackageExtraHandler_+3A_.wrap">.wrap</code></td>
<td>
<p>logical that indicates if a function that runs the extra action should
be returned or only the default arguments</p>
</td></tr>
<tr><td><code id="setPackageExtraHandler_+3A_.verbose">.verbose</code></td>
<td>
<p>logical that indicates if verbose messages about the extra actions being
run should be displayed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the runner function associated with the newly registered handler,
as built by <code>packageExtraRunner</code>.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>packageExtraHandler()</code>: retrieves a given handler from the registry.
</p>
</li>
<li> <p><code>setPackageExtra()</code>: registers extra actions for a given handler.
</p>
<p>For example, calling <code>setPackageExtra('install', pkgs='non_CRAN_pkg', repos='http://non-standard-repo')</code>
in a source file of package 'myPkg' registers the call
<code>install.packages('non_CRAN_pkg', repos='http://non-standard-repo', ...)</code>
in a registry internal to the package.
All calls to <code>setPackageExtra('install', ...)</code> can then be run by the user, as
a post installation step via <code>install.extrapackages('myPkg', ..)</code>.
</p>
</li>
<li> <p><code>packageExtra()</code>: retrieve a given extra action, either as its registry entry,
or as a function that would perform the given action.
</p>
</li>
<li> <p><code>packageExtraRunner()</code>: defines a function to run all or some of the actions registered
for a given handler in a given package.
For example, the function <code>install.extrapackages</code> is the runner defined for the extra handler <code>'install'</code>
via <code>packageExtraRunner('install')</code>.
</p>
</li>
<li> <p><code>install.extras()</code>: runs all extra actions registered for a given package.
</p>
</li>
<li> <p><code>install.extrapackages()</code>: install sets of packages that can enhance a
package, but may not be available from CRAN.
</p>
<p>It is defined as the extra handler for
the extra action handler <code>'install.packages'</code>.
All arguments in <code>...</code> are passed to <code><a href="utils.html#topic+install.packages">install.packages</a></code>.
By default, packages that are already installed are not re-installed.
An extra argument <code>force</code> allows to force their installation.
The packages are loaded if their installation is successful.
</p>
</li></ul>

<hr>
<h2 id='setupPackageOptions'>Package Specific Options</h2><span id='topic+setupPackageOptions'></span>

<h3>Description</h3>

<p>The following functions to access/set the options from the set are assigned
in <code>envir</code>:
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setupPackageOptions(
  ...,
  NAME = NULL,
  ENVIR = topenv(parent.frame()),
  RESET = isLoadingNamespace()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="setupPackageOptions_+3A_...">...</code></td>
<td>
<p>a single named list or named arguments that provide the default
options and their values.</p>
</td></tr>
<tr><td><code id="setupPackageOptions_+3A_name">NAME</code></td>
<td>
<p>name of the set of options.
This is used as a prefix for the name of the associated global
option: <code style="white-space: pre;">&#8288;package:&lt;name&gt;&#8288;</code>.</p>
</td></tr>
<tr><td><code id="setupPackageOptions_+3A_envir">ENVIR</code></td>
<td>
<p>environment where the option wrapper functions will be defined.
No function is defined if <code>ENVIR=NULL</code></p>
</td></tr>
<tr><td><code id="setupPackageOptions_+3A_reset">RESET</code></td>
<td>
<p>a logical that indicates whether the option set should overwrite
one that already exists if necessary.
The default is <code>FALSE</code> (i.e. no reset), except when loading a namespace,
either from an installed package or a development package &ndash; with devtools.
If <code>FALSE</code>, an error is thrown if trying to setup options with the same name.</p>
</td></tr>
</table>


<h3>Details</h3>


<ul>
<li> <p><code style="white-space: pre;">&#8288;&lt;subset&gt;Options&#8288;</code>
</p>
</li>
<li> <p><code style="white-space: pre;">&#8288;&lt;subset&gt;GetOption&#8288;</code>
</p>
</li></ul>



<h3>Value</h3>

<p>Returns an object of class <code>package_options</code>.
</p>

<hr>
<h2 id='simpleRegistry'>Simple Package Registry</h2><span id='topic+simpleRegistry'></span>

<h3>Description</h3>

<p>Simple Package Registry
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simpleRegistry(name, envir = topenv(parent.frame()), verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simpleRegistry_+3A_name">name</code></td>
<td>
<p>name of the registry object, with which it will
be assigned in <code>envir</code>.</p>
</td></tr>
<tr><td><code id="simpleRegistry_+3A_envir">envir</code></td>
<td>
<p>environment where to store the registry object.
Defaults to the caller's top environment.</p>
</td></tr>
<tr><td><code id="simpleRegistry_+3A_verbose">verbose</code></td>
<td>
<p>logical that toggle a verbose message when
the object is first created.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a simple registry object that is similar to an R5 object.
</p>

<hr>
<h2 id='source_files'>Source Multiple Files</h2><span id='topic+source_files'></span>

<h3>Description</h3>

<p>Vectorised version of <code>source</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>source_files(x, pattern = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="source_files_+3A_x">x</code></td>
<td>
<p>character vector containing filenames</p>
</td></tr>
<tr><td><code id="source_files_+3A_pattern">pattern</code></td>
<td>
<p>an optional <a href="base.html#topic+regular+20expression">regular expression</a>.  Only file names
which match the regular expression will be returned.</p>
</td></tr>
<tr><td><code id="source_files_+3A_...">...</code></td>
<td>
<p>extra arguments passed to <code><a href="base.html#topic+source">source</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the return value of running <a href="base.html#topic+source">source</a> on each individual file.
</p>

<hr>
<h2 id='str_diff'>Finding Differences Between Strings</h2><span id='topic+str_diff'></span>

<h3>Description</h3>

<p>Computes which characters differ between two strings.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>str_diff(x, y)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="str_diff_+3A_x">x</code></td>
<td>
<p>a single string</p>
</td></tr>
<tr><td><code id="str_diff_+3A_y">y</code></td>
<td>
<p>a single string</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an integer vector containing the index of all mis-matched characters
in the first string.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# strings to compare
x &lt;- "once upon a time"
y &lt;- "once upon a time there was"
z &lt;- "once upon two times"

# diff: x - y
d &lt;- str_diff(x, y)
d
str(d)

# other comparisons 
str_diff(y, x)
str_diff(x, x)
str_diff(x, z)
str_diff(y, z)

</code></pre>

<hr>
<h2 id='str_out'>Formatting Utilities</h2><span id='topic+str_out'></span><span id='topic+str_desc'></span><span id='topic+str_fun'></span><span id='topic+str_class'></span><span id='topic+str_pkg'></span><span id='topic+str_md5sum'></span><span id='topic+str_hash'></span><span id='topic+str_dim'></span><span id='topic+str_bs'></span>

<h3>Description</h3>

<p><code>str_out</code> formats character vectors for use in show methods or
error/warning messages.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>str_out(
  x,
  max = 3L,
  quote = is.character(x),
  use.names = FALSE,
  sep = ", ",
  total = FALSE
)

str_desc(object, exdent = 0L)

str_fun(object)

str_class(x, max = Inf, ...)

str_pkg(pkg, lib.loc = NULL)

str_md5sum(x)

str_hash(x, algo = "md5")

str_dim(x, dims = dim(x))

str_bs(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="str_out_+3A_x">x</code></td>
<td>
<p>character vector</p>
</td></tr>
<tr><td><code id="str_out_+3A_max">max</code></td>
<td>
<p>maximum number of values to appear in the list. If <code>x</code> has
more elements than <code>max</code>, a <code>"..."</code> suffix is appended.</p>
</td></tr>
<tr><td><code id="str_out_+3A_quote">quote</code></td>
<td>
<p>a logical indicating whether the values should be quoted with
single quotes (defaults) or not.</p>
</td></tr>
<tr><td><code id="str_out_+3A_use.names">use.names</code></td>
<td>
<p>a logical indicating whether names should be added to the
list as <code>NAME=VAL, ...</code> or not (default).</p>
</td></tr>
<tr><td><code id="str_out_+3A_sep">sep</code></td>
<td>
<p>separator character</p>
</td></tr>
<tr><td><code id="str_out_+3A_total">total</code></td>
<td>
<p>logical that indicates if the total number of elements should be
appended to the formatted string as <code>"'a', ..., 'z' (&lt;N&gt; total)"</code>.</p>
</td></tr>
<tr><td><code id="str_out_+3A_object">object</code></td>
<td>
<p>an R object</p>
</td></tr>
<tr><td><code id="str_out_+3A_exdent">exdent</code></td>
<td>
<p>extra indentation passed to str_wrap, and used if the output
should spread over more than one lines.</p>
</td></tr>
<tr><td><code id="str_out_+3A_...">...</code></td>
<td>
<p>other arguments passed to <a href="#topic+str_out">str_out</a>.</p>
</td></tr>
<tr><td><code id="str_out_+3A_pkg">pkg</code></td>
<td>
<p>package name</p>
</td></tr>
<tr><td><code id="str_out_+3A_lib.loc">lib.loc</code></td>
<td>
<p>path to a library of R packages</p>
</td></tr>
<tr><td><code id="str_out_+3A_algo">algo</code></td>
<td>
<p>The algorithms to be used; currently available choices are
<code>md5</code>, which is also the default, <code>sha1</code>, <code>crc32</code>,
<code>sha256</code>, <code>sha512</code>, <code>xxhash32</code>, <code>xxhash64</code>,
<code>murmur32</code>, <code>spookyhash</code> and <code>blake3</code>.</p>
</td></tr>
<tr><td><code id="str_out_+3A_dims">dims</code></td>
<td>
<p>a numeric vector of dimensions.
Default is to use the input object dimensions (via function <code>dims()</code>)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a single character string
</p>

<ul>
<li> <p><code>str_bs</code> returns a character string.
</p>
</li></ul>



<h3>Functions</h3>


<ul>
<li> <p><code>str_desc()</code>: builds formatted string from a list of complex values.
</p>
</li>
<li> <p><code>str_fun()</code>: extracts and formats a function signature.
It typically formats the output <code>capture.output(args(object))</code>.
</p>
</li>
<li> <p><code>str_class()</code>: outputs the class(es) of an object using <code>str_out</code>.
</p>
</li>
<li> <p><code>str_pkg()</code>: formats a package name and version
</p>
</li>
<li> <p><code>str_md5sum()</code>: computes md5sum on character vector using <code><a href="tools.html#topic+md5sum">md5sum</a></code>.
</p>
</li>
<li> <p><code>str_hash()</code>: computes hash of a character vector using <code><a href="digest.html#topic+digest">digest</a></code>.
</p>
</li>
<li> <p><code>str_dim()</code>: builds a string that describes the dimension of an object, in the form
<code style="white-space: pre;">&#8288;n x m&#8288;</code> for 2D-objects, <code style="white-space: pre;">&#8288;n x m x p&#8288;</code> for 3D-objects, and so on.
</p>
</li>
<li> <p><code>str_bs()</code>: substitutes backspace characters (<code style="white-space: pre;">&#8288;\\b&#8288;</code>) to produce
a character string as it would be displayed in the console.
</p>
</li></ul>


<h3>Author(s)</h3>

<p>Renaud Gaujoux
</p>
<p><code>str_bs</code> was adapted from a proposal from Yihui Xie.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
x &lt;- letters[1:10]
str_out(x)
str_out(x, 8)
str_out(x, Inf)
str_out(x, quote=FALSE)
str_out(x, total = TRUE)

str_fun(install.packages)
str_class(matrix())

# Backspace substitution
str_bs("abc")
str_bs("abc\b")
str_bs("abc\b\b")
str_bs("abc\bd")
str_bs("abc\b\bde\b")

# more complex example
x &lt;- "\bab\nc\bd\n\babc\b\bd"
cat(x, "\n")
y &lt;- str_bs(x)
y
cat(y, "\n")

</code></pre>

<hr>
<h2 id='sVariable'>Global Static Variable</h2><span id='topic+sVariable'></span>

<h3>Description</h3>

<p><code>sVariable</code> defines a function that acts as a global
static variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sVariable(default = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sVariable_+3A_default">default</code></td>
<td>
<p>default value for the static variable.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A function that can be used to set/get the static variable.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# define variable
x &lt;- sVariable(1)
# get value (default)
x()
# set new value: return old value
old &lt;- x(3)
old
# get new value
x()

</code></pre>

<hr>
<h2 id='sys_call_stack'>System Call Stack Utilities</h2><span id='topic+sys_call_stack'></span><span id='topic+sys.function_digest'></span><span id='topic+sys.function_nframe'></span><span id='topic+sys.function_frame'></span><span id='topic+sys.source_file'></span>

<h3>Description</h3>

<p>System Call Stack Utilities
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sys.function_digest(n = NULL)

sys.function_nframe(fun)

sys.function_frame(fun)

sys.source_file()
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sys_call_stack_+3A_n">n</code></td>
<td>
<p>a single frame</p>
</td></tr>
<tr><td><code id="sys_call_stack_+3A_fun">fun</code></td>
<td>
<p>the function object to find in the call stack.</p>
</td></tr>
</table>


<h3>Value</h3>


<ul>
<li> <p><code>sys.function_digest</code> returns a character vector of length <code>n</code>.
</p>
</li></ul>


<ul>
<li> <p><code>sys.function_nframe</code> returns a integer vector.
</p>
</li></ul>


<ul>
<li> <p><code>sys.function_frame</code> returns an environment.
</p>
</li></ul>



<h3>Functions</h3>


<ul>
<li> <p><code>sys.function_digest()</code>: computes digest hash for each function in the call stack.
</p>
</li>
<li> <p><code>sys.function_nframe()</code>: returns the index of the frame that calls a given function.
</p>
</li>
<li> <p><code>sys.function_frame()</code>: returns the frame that calls a given function.
</p>
</li>
<li> <p><code>sys.source_file()</code>: returns path to the script that is being sourced either
by <a href="base.html#topic+source">base::source</a> or <a href="base.html#topic+sys.source">base::sys.source</a>.
</p>
</li></ul>

<hr>
<h2 id='Sys.getenv_value'>System Environment Variables</h2><span id='topic+Sys.getenv_value'></span>

<h3>Description</h3>

<p>System Environment Variables
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Sys.getenv_value(name, raw = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Sys.getenv_value_+3A_name">name</code></td>
<td>
<p>variable name as a character string.</p>
</td></tr>
<tr><td><code id="Sys.getenv_value_+3A_raw">raw</code></td>
<td>
<p>logical that indicates if one should return the raw value or
the convertion of any false value to <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the value of the environment variable as a character string or
<code>NA</code> is the variable is not defined <strong>at all</strong>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# undefined returns FALSE
Sys.getenv_value('TOTO')
# raw undefined returns NA
Sys.getenv_value('TOTO', raw = TRUE)

Sys.setenv(TOTO='bla')
Sys.getenv_value('TOTO')

# anything false-like returns FALSE
Sys.setenv(TOTO='false'); Sys.getenv_value('TOTO')
Sys.setenv(TOTO='0'); Sys.getenv_value('TOTO')

# cleanup
Sys.unsetenv('TOTO')

</code></pre>

<hr>
<h2 id='testRversion'>Testing R Version</h2><span id='topic+testRversion'></span>

<h3>Description</h3>

<p>Compares current R version with a given target version, which may be useful
for implementing version dependent code.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>testRversion(x, test = 1L)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="testRversion_+3A_x">x</code></td>
<td>
<p>target version to compare with.</p>
</td></tr>
<tr><td><code id="testRversion_+3A_test">test</code></td>
<td>
<p>numeric value that indicates the comparison to be carried out.
The comparison is based on the result from
<code>utils::compareVersion(R.version, x)</code>:
</p>

<ul>
<li><p> 1: is R.version &gt; <code>x</code>?
</p>
</li>
<li><p> 0: is R.version = <code>x</code>?
</p>
</li>
<li><p> -1: is R.version &lt; <code>x</code>?
</p>
</li></ul>
</td></tr>
</table>


<h3>Value</h3>

<p>a logical
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
testRversion("2.14")
testRversion("2.15")
testRversion("10")
testRversion("10", test = -1)
testRversion("&lt; 10")
testRversion(Rversion())
testRversion(paste0('=', Rversion()))

</code></pre>

<hr>
<h2 id='unit.test'>Embedded Unit Tests</h2><span id='topic+unit.test'></span>

<h3>Description</h3>

<p>The function <code>unit.test</code> provides a way to write unit tests embedded within
package source files.
These tests are stored and organised in the package namespace, and can be run using
the unified interface provided by the function <code>link{utest}</code>.
Both Runit and testthat tests are supported &ndash; and automatically detected.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>unit.test(x, expr, framework = NULL, envir = parent.frame())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="unit.test_+3A_x">x</code></td>
<td>
<p>single character string used as test identifier/label</p>
</td></tr>
<tr><td><code id="unit.test_+3A_expr">expr</code></td>
<td>
<p>expression containing the actual test commands.
It is not evaluated, but only stored in the package namespace.</p>
</td></tr>
<tr><td><code id="unit.test_+3A_framework">framework</code></td>
<td>
<p>Unit test framework</p>
</td></tr>
<tr><td><code id="unit.test_+3A_envir">envir</code></td>
<td>
<p>the definition environment of object <code>x</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a test function with no arguments that wrapping around <code>expr</code>
</p>

<hr>
<h2 id='unlist_'>Flatten a List Conserving Names</h2><span id='topic+unlist_'></span>

<h3>Description</h3>

<p><code>unlist_</code> is a replacement for <a href="base.html#topic+unlist">base::unlist</a> that does not mangle the names.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>unlist_(x, recursive = TRUE, use.names = TRUE, what.names = "inherited")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="unlist__+3A_x">x</code>, <code id="unlist__+3A_recursive">recursive</code>, <code id="unlist__+3A_use.names">use.names</code></td>
<td>
<p>See <code>?unlist</code>.</p>
</td></tr>
<tr><td><code id="unlist__+3A_what.names">what.names</code></td>
<td>
<p><code>"inherited"</code> or <code>"full"</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Use this function if you don't like the mangled names returned by the standard <code>unlist</code> function from the base package.
Using <code>unlist</code> with annotation data is dangerous and it is highly recommended to use <code>unlist_</code> instead.
</p>


<h3>Value</h3>

<p>A vector.
</p>


<h3>Author(s)</h3>

<p>Herve Pages
</p>


<h3>Source</h3>

<p>Bioconductor AnnotationDbi::unlist2
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- list(A=c(b=-4, 2, b=7), B=3:-1, c(a=1, a=-2), C=list(c(2:-1, d=55), e=99))
unlist(x)
unlist_(x)

# annotation maps (as in AnnotationDbi objects
egids2pbids &lt;- list('10' = 'a', '100' = c('b', 'c'), '1000' = c('d', 'e'))
egids2pbids

unlist(egids2pbids)   # 1001, 1002, 10001 and 10002 are not real
                      # Entrez ids but are the result of unlist()
                      # mangling the names!
unlist_(egids2pbids)  # much cleaner! yes the names are not unique
                      # but at least they are correct...

</code></pre>

<hr>
<h2 id='unlist_with_sep'>Flattens All List Levels Using Separated Names</h2><span id='topic+unlist_with_sep'></span>

<h3>Description</h3>

<p>Flattens All List Levels Using Separated Names
</p>


<h3>Usage</h3>

<pre><code class='language-R'>unlist_with_sep(x, sep = "/", use.names = TRUE, depth = Inf)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="unlist_with_sep_+3A_x">x</code></td>
<td>
<p>a list object, usually containing other lists &ndash; of lists.</p>
</td></tr>
<tr><td><code id="unlist_with_sep_+3A_sep">sep</code></td>
<td>
<p>character string used to separate each component of the final element names.</p>
</td></tr>
<tr><td><code id="unlist_with_sep_+3A_use.names">use.names</code></td>
<td>
<p>logical that indicates if the original names of each the sucessive
nested list elements should be used to build the final names of the result list.</p>
</td></tr>
<tr><td><code id="unlist_with_sep_+3A_depth">depth</code></td>
<td>
<p>maximum number of levels to unlist.
Root level is <code>1L</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a vector of the same type as the inner vector elements of the input list.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
x &lt;- list(X = list(a = 1
                   , b = list(b.1 = 2
                              , b.2 = list(b.2.1 = 4, b.2.2 = data.frame())
                              , b.3 = 3)
                   , c = matrix()))
unlist_with_sep(x)
unlist_with_sep(x, '###')

</code></pre>

<hr>
<h2 id='userData'>User Data Directory
<code>userData</code> returns the path to a local directory/file where package-related user data can be stored.
Note that a base directory is <strong>always</strong> created if necessary (see details).</h2><span id='topic+userData'></span>

<h3>Description</h3>

<p>The package-specific user data base directory is the sub-directory <em>R-data/</em>,
located in the user's home or within a diredctory defined by global option 'userData.path'.
</p>
<p>If in interactive mode, and the base directory does not exist yet,
the user is asked if it should be created in his home directory.
Otherwise, or if the user does not allow the creation in his home, this directory is created
in the current R session's temporary directory.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>userData(..., create = NULL, package = topenv(parent.frame()))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="userData_+3A_...">...</code></td>
<td>
<p>path parts passed to <code><a href="base.html#topic+file.path">file.path</a></code> to be appended to
the main path.</p>
</td></tr>
<tr><td><code id="userData_+3A_create">create</code></td>
<td>
<p>logical that indicates if the <strong>base</strong> directory should be
created if it does not exists.
</p>
<p>Note that directories &ndash; and files &ndash; under the base directory are not automatically
created. The user should therefore care of it in the caller function if necessary.
</p>
<p>If <code>create=TRUE</code>, then the base directory is forced to be created in the user's home directory.
If <code>create=FALSE</code>, then the base directory is never created.
</p>
<p>See also section <em>Details</em>.</p>
</td></tr>
<tr><td><code id="userData_+3A_package">package</code></td>
<td>
<p>name of the package associated with the user data path.
It is used to prefix the path, within the user R data directory.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Path to the user data directory.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+tempdir">tempdir</a></code>
</p>

<hr>
<h2 id='userIs'>Checking R User</h2><span id='topic+userIs'></span>

<h3>Description</h3>

<p>Tests if the current R user is amongst a given set of users.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>userIs(user)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="userIs_+3A_user">user</code></td>
<td>
<p>the usernames to check for, as a character vector.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical flag
</p>

<hr>
<h2 id='using_something'>Execute code in temporarily altered environment.</h2><span id='topic+using_something'></span><span id='topic+using_envvar'></span><span id='topic+using_env'></span><span id='topic+using_locale'></span><span id='topic+using_collate'></span><span id='topic+using_dir'></span><span id='topic+using_libpaths'></span><span id='topic+using_lib'></span><span id='topic+using_options'></span><span id='topic+using_par'></span><span id='topic+using_path'></span>

<h3>Description</h3>

<p>These functions were extracted from the <span class="pkg">devtools</span> package
to make them available without a dependency to <span class="pkg">devtools</span>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>using_envvar(new, code, action = "replace")

using_env(new, code)

using_locale(new, code)

using_collate(new, code)

using_dir(new, code)

using_libpaths(new, code)

using_lib(new, code)

using_options(new, code)

using_par(new, code)

using_path(new, code, add = TRUE, prepend = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="using_something_+3A_new">new</code></td>
<td>
<p>values for setting</p>
</td></tr>
<tr><td><code id="using_something_+3A_code">code</code></td>
<td>
<p>code to execute in that environment</p>
</td></tr>
<tr><td><code id="using_something_+3A_action">action</code></td>
<td>
<p>(for <code>using_envvar</code> only): should new values
<code>"replace"</code>, <code>"suffix"</code>, <code>"prefix"</code> existing environmental
variables with the same name.</p>
</td></tr>
<tr><td><code id="using_something_+3A_add">add</code></td>
<td>
<p>Combine with existing values? Currently for
<code><a href="#topic+using_path">using_path</a></code> only. If <code>FALSE</code> all existing
paths are overwritten, which you don't usually want.</p>
</td></tr>
<tr><td><code id="using_something_+3A_prepend">prepend</code></td>
<td>
<p>logical that indicates if the new paths should
be added in front of the current ones.</p>
</td></tr>
</table>


<h3>Details</h3>


<ul>
<li> <p><code>using_dir</code>: working directory
</p>
</li>
<li> <p><code>using_collate</code>: collation order
</p>
</li>
<li> <p><code>using_envvar</code>: environmental variables
</p>
</li>
<li> <p><code>using_libpaths</code>: library paths, replacing current libpaths
</p>
</li>
<li> <p><code>using_lib</code>: library paths, prepending to current libpaths
</p>
</li>
<li> <p><code>using_locale</code>: any locale setting
</p>
</li>
<li> <p><code>using_options</code>: options
</p>
</li>
<li> <p><code>using_path</code>: PATH environment variable
</p>
</li>
<li> <p><code>using_par</code>: graphics parameters
</p>
</li></ul>



<h3>Value</h3>

<p>Nothing, used for side effect.
</p>


<h3>Deprecation</h3>

<p><code>using_env</code> will be deprecated in devtools 1.2 and removed in
devtools 1.3
</p>


<h3>Author(s)</h3>

<p>Hadley Wickham
</p>


<h3>Examples</h3>

<pre><code class='language-R'>getwd()
using_dir(tempdir(), getwd())
getwd()

Sys.getenv("HADLEY")
using_envvar(c("HADLEY" = 2), Sys.getenv("HADLEY"))
Sys.getenv("HADLEY")

using_envvar(c("A" = 1),
  using_envvar(c("A" = 2), action = "suffix", Sys.getenv("A"))
)
</code></pre>

<hr>
<h2 id='utest'>Running Unit Tests</h2><span id='topic+utest'></span><span id='topic+utest+2Cfunction-method'></span><span id='topic+utest+2Ccharacter-method'></span><span id='topic+utest+2CRUnitTestSuite-method'></span>

<h3>Description</h3>

<p>Run unit tests in a variety of settings.
This is still <strong>very</strong> experimental.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>utest(x, ...)

## S4 method for signature ''function''
utest(x, run = TRUE)

## S4 method for signature 'character'
utest(
  x,
  filter = "^runit.+\\.[rR]$",
  fun = "^test\\.",
  ...,
  testdir = "tests",
  framework = c("RUnit", "testthat"),
  quiet = Sys.getenv("RCMDCHECK") != "FALSE",
  lib.loc = NULL
)

## S4 method for signature 'RUnitTestSuite'
utest(x, ..., quiet = FALSE, outdir = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="utest_+3A_x">x</code></td>
<td>
<p>object to which a unit test is attached</p>
</td></tr>
<tr><td><code id="utest_+3A_...">...</code></td>
<td>
<p>extra arguments to allow extensions and are passed to
the unit framework running funcitons.</p>
</td></tr>
<tr><td><code id="utest_+3A_run">run</code></td>
<td>
<p>a logical that indicates if the unit test should be run</p>
</td></tr>
<tr><td><code id="utest_+3A_filter">filter</code></td>
<td>
<p>pattern to match files that contain the definition of
the unit tests functions to run.</p>
</td></tr>
<tr><td><code id="utest_+3A_fun">fun</code></td>
<td>
<p>patter to match the test functions to run.</p>
</td></tr>
<tr><td><code id="utest_+3A_testdir">testdir</code></td>
<td>
<p>directory where to look for the test files</p>
</td></tr>
<tr><td><code id="utest_+3A_framework">framework</code></td>
<td>
<p>unit test framework</p>
</td></tr>
<tr><td><code id="utest_+3A_quiet">quiet</code></td>
<td>
<p>a logical that indicates if the tests should be run silently</p>
</td></tr>
<tr><td><code id="utest_+3A_lib.loc">lib.loc</code></td>
<td>
<p>path to a library where installed packages are searched for.
Used is of the form <code>x='package:*'</code>.</p>
</td></tr>
<tr><td><code id="utest_+3A_outdir">outdir</code></td>
<td>
<p>output directory</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns the result object returned by the unit-test suite executer.
</p>


<h3>Methods (by class)</h3>


<ul>
<li> <p><code>utest(`function`)</code>: Run the unit test assoicated to a function.
</p>
</li>
<li> <p><code>utest(character)</code>: Run a package test suite
</p>
</li>
<li> <p><code>utest(RUnitTestSuite)</code>: Runs a RUnit test suite
</p>
</li></ul>

<hr>
<h2 id='utestFramework'>Inferring Unit Test Framework</h2><span id='topic+utestFramework'></span>

<h3>Description</h3>

<p>Inferring Unit Test Framework
</p>


<h3>Usage</h3>

<pre><code class='language-R'>utestFramework(x, eval = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="utestFramework_+3A_x">x</code></td>
<td>
<p>an filename, a function or the body of a function</p>
</td></tr>
<tr><td><code id="utestFramework_+3A_eval">eval</code></td>
<td>
<p>a logical that indicates if the value of <code>x</code> should be used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the name of the framework as a character string or NULL if
it could not be detected.
</p>

<hr>
<h2 id='utestPath'>Unit Tests Result Directory</h2><span id='topic+utestPath'></span>

<h3>Description</h3>

<p>Returns the path to the directory where the results of unit tests are stored.
This path is used by <code><a href="#topic+utest">utest</a></code> to save unit test results, which are
read by <code><a href="#topic+makeUnitVignette">makeUnitVignette</a></code> to update the unit test vignette when
runnning R CMD check.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>utestPath(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="utestPath_+3A_...">...</code></td>
<td>
<p>extra arguments passed to <code><a href="#topic+packagePath">packagePath</a></code>, e.g., <code>package</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The path tot the unit-test results.
</p>

<hr>
<h2 id='winbuild'>Build a Windows Binary Package</h2><span id='topic+winbuild'></span>

<h3>Description</h3>

<p>Build a Windows Binary Package
</p>


<h3>Usage</h3>

<pre><code class='language-R'>winbuild(path, outdir = ".", verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="winbuild_+3A_path">path</code></td>
<td>
<p>path to a source or already installed package</p>
</td></tr>
<tr><td><code id="winbuild_+3A_outdir">outdir</code></td>
<td>
<p>output directory</p>
</td></tr>
<tr><td><code id="winbuild_+3A_verbose">verbose</code></td>
<td>
<p>logical or numeric that indicates the verbosity level</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Invisibly returns the full path to the generated zip file.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# from source directory
winbuild('path/to/package/source/dir/')
# from tar ball
winbuild('PKG_1.0.tar.gz')


## End(Not run)
</code></pre>

<hr>
<h2 id='write.bib'>Defunct Functions in pkgmaker</h2><span id='topic+write.bib'></span><span id='topic+pkgmaker-defunct'></span>

<h3>Description</h3>

<p>These functions have been defunct or superseded by other
functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>write.bib(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="write.bib_+3A_...">...</code></td>
<td>
<p>extra arguments</p>
</td></tr>
</table>


<h3>Value</h3>


<ul>
<li> <p><code>write.bib</code>: returns no value, called to write a bib file.
</p>
</li></ul>


<hr>
<h2 id='write.pkgbib'>Generate a Bibtex File from Package Citations</h2><span id='topic+write.pkgbib'></span>

<h3>Description</h3>

<p>Generates a Bibtex file from a list of packages or all the installed packages.
It is useful for adding relevant citations in Sweave documents.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>write.pkgbib(
  entry = NULL,
  file = "Rpackages.bib",
  prefix = "",
  append = FALSE,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="write.pkgbib_+3A_entry">entry</code></td>
<td>
<p>a <code><a href="utils.html#topic+bibentry">bibentry</a></code> object or a character vector of package
names. If <code>NULL</code>, then the list of all installed packages is used.</p>
</td></tr>
<tr><td><code id="write.pkgbib_+3A_file">file</code></td>
<td>
<p>output Bibtex file. It can be specified as a filename (as a single
character string), NULL for <code>stdout</code>, or a <code>link{connection}</code> object.
If <code>file</code> is a character string, an extension '.bib' is appended if not
already present.</p>
</td></tr>
<tr><td><code id="write.pkgbib_+3A_prefix">prefix</code></td>
<td>
<p>character string to prepend to the generated packages' Bibtex key.</p>
</td></tr>
<tr><td><code id="write.pkgbib_+3A_append">append</code></td>
<td>
<p>a logical that indicates that the Bibtex entries should be added
to the file. If <code>FALSE</code> (default), the file is overwritten.</p>
</td></tr>
<tr><td><code id="write.pkgbib_+3A_verbose">verbose</code></td>
<td>
<p>a logical to toggle verbosity. If <code>file=NULL</code>, verbosity
is forced off.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Multiple citations are handled by adding a numeric suffix to the Bibtex key
(other than the first/main citation) as <code>"&lt;pkgname&gt;%i"</code> (e.g. pkg, pkg2, pkg3).
</p>


<h3>Value</h3>

<p>the list of Bibtex objects &ndash; invisibly.
</p>


<h3>Note</h3>

<p>The Old version of this function write.bib has now been integrated
by Romain Francois in the bibtex package.
</p>


<h3>Author(s)</h3>

<p>Renaud Gaujoux, based on the function <code>Rpackages.bib</code>
from Achim Zeileis (see <em>References</em>).
</p>


<h3>References</h3>

<p><em>Creating bibtex file of all installed packages?</em>
Achim Zeileis. R-help mailing list.
<a href="https://stat.ethz.ch/pipermail/r-help/2009-December/415181.html">https://stat.ethz.ch/pipermail/r-help/2009-December/415181.html</a>
</p>


<h3>See Also</h3>

<p><code>link{connection}</code>, <code>link{bibentry}</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
write.pkgbib(c('rbibutils', 'utils', 'tools'), file='references')
bibs &lt;- rbibutils::readBib('references.bib', "UTF-8")
write.pkgbib(bibs, 'references2.bib')
bibs2 &lt;- rbibutils::readBib('references.bib', "UTF-8")
identical(bibs, bibs2)


# write to stdout()
write.pkgbib(c('rbibutils', 'utils', 'tools'), file=NULL)

# clean up 
unlink(c('references.bib', 'references2.bib'))

</code></pre>

<hr>
<h2 id='writeUnitVignette'>Writes Unit Tests Vignette</h2><span id='topic+writeUnitVignette'></span>

<h3>Description</h3>

<p>Writes a vignette that contains the results from running unit test suites.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>writeUnitVignette(pkg, file, results = NULL, check = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="writeUnitVignette_+3A_pkg">pkg</code></td>
<td>
<p>Package name</p>
</td></tr>
<tr><td><code id="writeUnitVignette_+3A_file">file</code></td>
<td>
<p>Output Sweave (.Rnw) file</p>
</td></tr>
<tr><td><code id="writeUnitVignette_+3A_results">results</code></td>
<td>
<p>result file or output character vector</p>
</td></tr>
<tr><td><code id="writeUnitVignette_+3A_check">check</code></td>
<td>
<p>logical that indactes the cal was made from R CMD check,
in which case the vignette is updated only if results of unit tests can
be found in the unit test output directory, where they would have been
generated by <code><a href="#topic+utest">utest</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Path to the vignette file.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

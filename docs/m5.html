<!DOCTYPE html><html lang="en"><head><title>Help for package m5</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {m5}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#m5-package'><p>m5: 'M5 Forecasting' Challenges Data</p></a></li>
<li><a href='#m5_demand_type'><p>Classify time series of the particular items</p></a></li>
<li><a href='#m5_download'><p>Download and unzip the raw data to the specified directory</p></a></li>
<li><a href='#m5_get_raw'><p>Load raw CSV files using <code>data.table::fread()</code> function</p></a></li>
<li><a href='#m5_prepare'><p>Prepare the ready-to-use M5 data in one data.frame</p></a></li>
<li><a href='#tiny_m5'><p>A subset from M5 Walmart Challenge Dataset in one data frame</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>'M5 Forecasting' Challenges Data</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Contains functions, which facilitate downloading, loading and preparing data from 'M5 Forecasting' challenges (by 'University of Nicosia', hosted on 'Kaggle'). 
  The data itself is set of time series of different product sales in 'Walmart'.
  The package also includes a ready-to-use built-in M5 subset named 'tiny_m5'.
  For detailed information about the challenges, see:
  Makridakis, S. &amp; Spiliotis, E. &amp; Assimakopoulos, V. (2020). &lt;<a href="https://doi.org/10.1016%2Fj.ijforecast.2021.10.009">doi:10.1016/j.ijforecast.2021.10.009</a>&gt;.</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/krzjoa/m5/issues">https://github.com/krzjoa/m5/issues</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/krzjoa/m5">https://github.com/krzjoa/m5</a>, <a href="https://krzjoa.github.io/m5/">https://krzjoa.github.io/m5/</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>ggplot2, knitr, testthat (&ge; 3.0.0), rmarkdown, zeallot</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Imports:</td>
<td>data.table, stringi, lubridate</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-09-09 18:28:59 UTC; krzysztof</td>
</tr>
<tr>
<td>Author:</td>
<td>Krzysztof Joachimiak
    <a href="https://orcid.org/0000-0003-4780-7947"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Krzysztof Joachimiak &lt;joachimiak.krzysztof@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-09-12 08:32:55 UTC</td>
</tr>
</table>
<hr>
<h2 id='m5-package'>m5: 'M5 Forecasting' Challenges Data</h2><span id='topic+m5-package'></span><span id='topic+m5'></span>

<h3>Description</h3>

<p>Contains functions, which facilitate downloading, loading and preparing data
from 'M5 Forecasting' challenges (by 'University of Nicosia', hosted on 'Kaggle').
The data itself is set of time series of different product sales in 'Walmart'.
The package also includes a ready-to-use built-in M5 subset named <code>tiny_m5</code>.
For detailed information about the challenges, see:
Makridakis, Spyros &amp; Spiliotis, Evangelos &amp; Assimakopoulos, Vassilis. (2020).
The M5 Accuracy competition: Results, findings and conclusions. <a href="doi:10.1016/j.ijforecast.2021.10.009">doi:10.1016/j.ijforecast.2021.10.009</a>
</p>


<h3>Author(s)</h3>

<p>Krzysztof Joachimiak
</p>

<hr>
<h2 id='m5_demand_type'>Classify time series of the particular items</h2><span id='topic+m5_demand_type'></span>

<h3>Description</h3>

<p>Each time series in the dataset can be assigned one of the following classes:
</p>


<h3>Usage</h3>

<pre><code class='language-R'>m5_demand_type(data)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="m5_demand_type_+3A_data">data</code></td>
<td>
<p>The result of the <code>m5_prepare</code> function; <code>tiny_m5</code> can be passed as well.</p>
</td></tr>
</table>


<h3>Details</h3>


<ul>
<li><p> Smooth (ADI &lt; 1.32 and CV² &lt; 0.49).
</p>
</li>
<li><p> Intermittent  (ADI &gt;= 1.32 and CV² &lt; 0.49)
</p>
</li>
<li><p> Erratic (ADI &lt; 1.32 and CV² &gt;= 0.49)
</p>
</li>
<li><p> Lumpy (ADI &gt;= 1.32 and CV² &gt;= 0.49)
</p>
</li></ul>



<h3>Value</h3>

<p>A <code>data.table</code> containing item ids (<code>item_id</code> and <code>store_id</code>),
ADI and CV2 scores (<code>adi</code> and <code>cv2</code> respectively) as well as the final
class chosen based on the aforementioned scores (<code>demand_type</code>).
</p>


<h3>References</h3>

<p><a href="https://www.sciencedirect.com/science/article/abs/pii/S0169207004000792?via%3Dihub">Syntetos A. A. and Boylan J. E., 2005, The accuracy of intermittent demand estimates. International Journal of Forecasting 21: 303–314</a>
<a href="https://deep-and-shallow.com/2020/10/07/forecast-error-measures-intermittent-demand/">Forecast Error Measures: Intermittent Demand</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>head(m5_demand_type(tiny_m5))

</code></pre>

<hr>
<h2 id='m5_download'>Download and unzip the raw data to the specified directory</h2><span id='topic+m5_download'></span>

<h3>Description</h3>

<p>Download and unzip the raw data to the specified directory
</p>


<h3>Usage</h3>

<pre><code class='language-R'>m5_download(path, unzip = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="m5_download_+3A_path">path</code></td>
<td>
<p>A directory name to save the zip file</p>
</td></tr>
<tr><td><code id="m5_download_+3A_unzip">unzip</code></td>
<td>
<p>Automatically uznip the file when the downloading is finished.
Default: TRUE. The <code>exdir</code> argument in the <code>unzip</code> function is the directory
name the file was downloaded into.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns nothing; the result of the function call is the <code>m5.zip</code> file
downloading and extraction.
</p>


<h3>Note</h3>

<p>If you struggle with timeout problems, please increase the timeout value
using <code style="white-space: pre;">&#8288;options(timeout=&lt;new_timeout_value&gt;)&#8288;</code>
</p>


<h3>References</h3>


<ul>
<li> <p><a href="https://www.kaggle.com/c/m5-forecasting-accuracy">M5 Forecasting - Accuracy</a>
</p>
</li>
<li> <p><a href="https://www.kaggle.com/c/m5-forecasting-uncertainty">M5 Forecasting - Uncertainty</a>
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>
m5_download('data')


</code></pre>

<hr>
<h2 id='m5_get_raw'>Load raw CSV files using <code><a href="data.table.html#topic+fread">data.table::fread()</a></code> function</h2><span id='topic+m5_get_raw'></span><span id='topic+m5_get_raw_evaluation'></span><span id='topic+m5_get_raw_validation'></span>

<h3>Description</h3>

<p>Load raw CSV files using <code><a href="data.table.html#topic+fread">data.table::fread()</a></code> function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>m5_get_raw_evaluation(path)

m5_get_raw_validation(path)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="m5_get_raw_+3A_path">path</code></td>
<td>
<p>The directory with the unzipped M5 data files</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The function returns a list of five data.tables:
</p>

<ul>
<li><p> sales_train (evaluation/validation)
</p>
</li>
<li><p> sales_test (evaluation/validation)
</p>
</li>
<li><p> sell_prices
</p>
</li>
<li><p> calendar
</p>
</li>
<li><p> weights (evaluation/validation)
</p>
</li></ul>



<h3>References</h3>

<p><a href="https://github.com/Nixtla/m5-forecasts">m5-forecasts repo by Nixtla</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(m5)
library(zeallot)

m5_download('data')
c(sales_train,
  sales_test,
  sell_prices,
  calendar,
  ) %&lt;-% m5_get_raw_evaluation('data')

## End(Not run)
</code></pre>

<hr>
<h2 id='m5_prepare'>Prepare the ready-to-use M5 data in one data.frame</h2><span id='topic+m5_prepare'></span>

<h3>Description</h3>

<p>It's a memory-efficient function, which uses <code>data.table</code> under the hood.
However, it still not recommended to use this function on PCs with &lt; 16GB RAM.
In such case, consider to use a custom solution
based on <code style="white-space: pre;">&#8288;[arrow](https://arrow.apache.org/docs/r/)&#8288;</code> or <code style="white-space: pre;">&#8288;[disk.frame](https://diskframe.com/index.html)&#8288;</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>m5_prepare(sales_train, sales_test, calendar, sell_prices)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="m5_prepare_+3A_sales_train">sales_train</code></td>
<td>
<p>A data.frame with M5 train data</p>
</td></tr>
<tr><td><code id="m5_prepare_+3A_sales_test">sales_test</code></td>
<td>
<p>A data.frame with M5 test data</p>
</td></tr>
<tr><td><code id="m5_prepare_+3A_calendar">calendar</code></td>
<td>
<p>A data.frame with M5 calendar</p>
</td></tr>
<tr><td><code id="m5_prepare_+3A_sell_prices">sell_prices</code></td>
<td>
<p>A data.frame with M5 sell_prices</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>data.table</code> composed from input objects, which  contains the following columns:
</p>

<ul>
<li> <p><em>item_id</em>
</p>
</li>
<li> <p><em>dept_id</em>
</p>
</li>
<li> <p><em>cat_id</em>
</p>
</li>
<li> <p><em>store_id</em>
</p>
</li>
<li> <p><em>state_id</em>
</p>
</li>
<li> <p><em>d</em> - day ordinal number
</p>
</li>
<li> <p><em>value</em> - number of sold items
</p>
</li>
<li> <p><em>wm_yr_wk</em> - week identifier
</p>
</li>
<li> <p><em>weekday</em> - weekday name (character)
</p>
</li>
<li> <p><em>wday</em> - weekday as an integer
</p>
</li>
<li> <p><em>month</em>
</p>
</li>
<li> <p><em>year</em>
</p>
</li>
<li> <p><em>event_name_1</em> - special event name, like holidays etc.
</p>
</li>
<li> <p><em>event_type_1</em> - special event type
</p>
</li>
<li> <p><em>event_name_2</em> - as above
</p>
</li>
<li> <p><em>event_type_2</em> - as above
</p>
</li>
<li> <p><em>snap</em> - promotion flag
</p>
</li>
<li> <p><em>sell_price</em>
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>library(m5)
library(zeallot)


m5_download('data')
c(sales_train,
  sales_test,
  sell_prices,
  calendar,
  weights) %&lt;-% m5_get_raw_evaluation('data')

m5_data  &lt;-
   m5_prepare(sales_train, sales_test, calendar, sell_prices)


</code></pre>

<hr>
<h2 id='tiny_m5'>A subset from M5 Walmart Challenge Dataset in one data frame</h2><span id='topic+tiny_m5'></span>

<h3>Description</h3>

<p>A piece of data cut from the training dataset used in the M5 challenges on Kaggle.
M5 is a challenge from a series organized by Spyros Makridakis.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tiny_m5
</code></pre>


<h3>Format</h3>


<dl>
<dt>item_id</dt><dd><p>The id of the product</p>
</dd>
<dt>dept_id</dt><dd><p>The id of the department the product belongs to</p>
</dd>
<dt>cat_id</dt><dd><p>The id of the category the product belongs to</p>
</dd>
<dt>store_id</dt><dd><p>The id of the store where the product is sold</p>
</dd>
<dt>state_id</dt><dd><p>The State where the store is located</p>
</dd>
<dt>value</dt><dd><p>The number of sold units</p>
</dd>
<dt>date</dt><dd><p>The date in a “y-m-d” format</p>
</dd>
<dt>wm_yr_wk</dt><dd><p>The id of the week the date belongs to</p>
</dd>
<dt>weekday</dt><dd><p>The type of the day (Saturday, Sunday, …, Friday)</p>
</dd>
<dt>wday</dt><dd><p>The id of the weekday, starting from Saturday</p>
</dd>
<dt>month</dt><dd><p> The month of the date</p>
</dd>
<dt>year</dt><dd><p>The year of the date</p>
</dd>
<dt>event_name_1</dt><dd><p>If the date includes an event, the name of this event</p>
</dd>
<dt>event_type_1</dt><dd><p>If the date includes an event, the type of this event</p>
</dd>
<dt>event_name_2</dt><dd><p>If the date includes a second event, the name of this event</p>
</dd>
<dt>event_type_2</dt><dd><p>If the date includes a second event, the type of this event</p>
</dd>
<dt>snap</dt><dd><p>A binary variable (0 or 1) indicating whether the stores of CA, TX or WI allow SNAP1 purchases on the examined date. 1 indicates that SNAP purchases are allowed</p>
</dd>
<dt>sell_price</dt><dd><p>The price of the product for the given week/store.
The price is provided per week (average across seven days). If not available, this means that the product was not sold during the examined week.
Note that although prices are constant at weekly basis, they may change through time (both training and test set)</p>
</dd>
</dl>



<h3>See Also</h3>

<p><a href="https://www.kaggle.com/c/m5-forecasting-accuracy">M5 Forecasting - Accuracy</a>
</p>
<p><a href="https://www.kaggle.com/c/m5-forecasting-uncertainty">M5 Forecasting - Uncertainty</a>
</p>
<p><a href="https://www.sciencedirect.com/science/article/pii/S0169207021001187">The M5 competition: Background, organization, and implementation</a>
</p>
<p><a href="https://business-science.github.io/timetk/reference/index.html#section-time-series-datasets">Other Walmart datasets in timetk</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(m5)
# Head of tiny_m5
head(tiny_m5)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

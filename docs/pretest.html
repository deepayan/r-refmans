<!DOCTYPE html><html lang="en"><head><title>Help for package pretest</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {pretest}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#dm_cw'><p>Diebold-Mariano Test and Clark &amp; West  Test</p></a></li>
<li><a href='#lr_var'><p>Heteroskedastic Long run variance</p></a></li>
<li><a href='#Nested_Stats_S0'><p>Predictive Accuracy Testing for Nested Environment S^0</p></a></li>
<li><a href='#Nested_Stats_Sbar'><p>Predictive Accuracy Testing for Nested Environment SBar</p></a></li>
<li><a href='#recursive_hstep_fast'><p>Forecasting h-steps ahead using Recursive Least Squares Fast</p></a></li>
<li><a href='#recursive_hstep_slow'><p>Forecasting h-steps ahead using Recursive Least Squares Slow</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>A Novel Approach to Predictive Accuracy Testing in Nested
Environments</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2</td>
</tr>
<tr>
<td>Description:</td>
<td>This repository contains the codes for using the predictive accuracy comparison tests developed in Pitarakis, J. (2023) &lt;<a href="https://doi.org/10.1017%2FS0266466623000154">doi:10.1017/S0266466623000154</a>&gt;. </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-10-18 15:37:11 UTC; rp1e23</td>
</tr>
<tr>
<td>Author:</td>
<td>Rong Peng [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Rong Peng &lt;r.peng@soton.ac.uk&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-10-19 07:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='dm_cw'>Diebold-Mariano Test and Clark &amp; West  Test</h2><span id='topic+dm_cw'></span>

<h3>Description</h3>

<p>It calculates the original DM statistics and the CW adjusted version of DM statistics, including the versions based on a Newey-West type estimator of the long run variance.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dm_cw(Ehat1, Ehat2)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dm_cw_+3A_ehat1">Ehat1</code></td>
<td>
<p>Residual series from Model 1 (the smaller model). One dimension and numeric.</p>
</td></tr>
<tr><td><code id="dm_cw_+3A_ehat2">Ehat2</code></td>
<td>
<p>Residual series from Model 2 (the larger/nested model). One dimension and numeric.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of  statistics and corresponding P values will be produced.
</p>


<h3>References</h3>

<p>Clark, T. E., &amp; West, K. D. (2007). Approximately normal tests for equal predictive accuracy in nested models. Journal of econometrics, 138(1), 291-311.
</p>
<p>Diebold, F. X., &amp; Mariano, R. S. (1995). Com paring predictive accu racy. Journal of Business and Economic Statistics, 13(3), 253-263.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>e1&lt;- rnorm(15);
e2&lt;- rnorm(15);
temp1 &lt;- dm_cw(e1,e2)

</code></pre>

<hr>
<h2 id='lr_var'>Heteroskedastic Long run variance</h2><span id='topic+lr_var'></span>

<h3>Description</h3>

<p>Long-run covariance estimation using Newey-West (Bartlett) weights
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lr_var(u, nlag = NULL, demean = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="lr_var_+3A_u">u</code></td>
<td>
<p>P by K vector of residual series, for which we recommend to use the recursive residuals from larger model.</p>
</td></tr>
<tr><td><code id="lr_var_+3A_nlag">nlag</code></td>
<td>
<p>Non-negative integer containing the lag length to use. If empty or not included,
nleg = min(floor(1.2*T^(1/3)),T) will be used.</p>
</td></tr>
<tr><td><code id="lr_var_+3A_demean">demean</code></td>
<td>
<p>Logical true of false (0 or 1) indicating whether the mean should be subtracted when computing.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Copyright: Kevin Sheppard
Kevin.sheppard\@economics.ox.ac.uk
Revision: 3    Date: 5/1/2007
</p>


<h3>Value</h3>

<p>K by K vector of Long run variance using Newey-West (Bartlett) weights.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x&lt;- rnorm(15);
#Newey-West covariance with automatic BW selection
lrcov = lr_var(x)
#Newey-West covariance with 10 lags
lrcov = lr_var(x, 10)
#Newey-West covariance with 10 lags and no demeaning
lrcov = lr_var(x, 10, 0)
</code></pre>

<hr>
<h2 id='Nested_Stats_S0'>Predictive Accuracy Testing for Nested Environment S^0</h2><span id='topic+Nested_Stats_S0'></span>

<h3>Description</h3>

<p>It calculates the S^0 statistics for nested models with null hypothesis being the two models having equal predictive power following Pitarakis (2023).
There are in total four versions of S^0, based on the assumptions of variance (homo or hete) and residuals (original or adjusted).
All S^0 statistics will be standarised to a standard N(0,1) normal distribution, and corresponding P values would be provided.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Nested_Stats_S0(Ehat1, Ehat2, lam10, lam20)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="Nested_Stats_S0_+3A_ehat1">Ehat1</code></td>
<td>
<p>Residual series from Model 1 (the smaller model). One dimension and numeric.</p>
</td></tr>
<tr><td><code id="Nested_Stats_S0_+3A_ehat2">Ehat2</code></td>
<td>
<p>Residual series from Model 2 (the larger/nested model). One dimension and numeric.</p>
</td></tr>
<tr><td><code id="Nested_Stats_S0_+3A_lam10">lam10</code></td>
<td>
<p>Fraction of the sample used for Model 1, which should be within 0 and 1.</p>
</td></tr>
<tr><td><code id="Nested_Stats_S0_+3A_lam20">lam20</code></td>
<td>
<p>Fraction of the sample used for Model 2, which should be within 0 and 1. Note that lam10 cannot equal to lam20 (c.f. Pitarakis, 2023).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of S^0 statistics and corresponding P values will be produced. &quot;adj&quot; means a Clark and West's (2007) reformulation of sample MSE has been applied
, and &quot;NW&quot; means robust Newey-West type estimator (c.f. Deng and Perron, 2008) for heteroskedastic errors has been used.
</p>


<h3>Author(s)</h3>

<p>Rong Peng, <a href="mailto:r.peng@soton.ac.uk">r.peng@soton.ac.uk</a>
</p>


<h3>References</h3>

<p>Pitarakis, J. Y. (2023). A novel approach to predictive accuracy testing in nested environments. Econometric Theory, 1-44.
</p>
<p>Deng, A., &amp; Perron, P. (2008). The limit distribution of the CUSUM of squares test under general mixing conditions. Econometric Theory, 24(3), 809-822.
</p>
<p>Clark, T. E., &amp; West, K. D. (2007). Approximately normal tests for equal predictive accuracy in nested models. Journal of econometrics, 138(1), 291-311.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+Nested_Stats_Sbar">Nested_Stats_Sbar</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>e1&lt;- rnorm(15);
e2&lt;- rnorm(15);
temp1 &lt;- Nested_Stats_S0(e1,e2,lam10=0.5,lam20=0.8)
temp1$S_lam10_lam20_adj_NW     #S^0_T(lam10, lam^20) with CW adjustment and NW correction
temp1$pv_S_lam10_lam20_adj_NW  #P value of it
</code></pre>

<hr>
<h2 id='Nested_Stats_Sbar'>Predictive Accuracy Testing for Nested Environment SBar</h2><span id='topic+Nested_Stats_Sbar'></span>

<h3>Description</h3>

<p>It calculates the SBar statistics for nested models with null hypothesis being the two models having equal predictive power following Pitarakis (2023).
There are in total four versions of SBar, based on the assumptions of variance (homo or hete) and residuals (original or adjusted).
All SBar statistics will be standarised to a standard N(0,1) normal distribution, and corresponding P values would be provided.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Nested_Stats_Sbar(Ehat1, Ehat2, lam20, tau0)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="Nested_Stats_Sbar_+3A_ehat1">Ehat1</code></td>
<td>
<p>Residual series from Model 1 (the smaller model). One dimension and numeric.</p>
</td></tr>
<tr><td><code id="Nested_Stats_Sbar_+3A_ehat2">Ehat2</code></td>
<td>
<p>Residual series from Model 2 (the larger/nested model). One dimension and numeric.</p>
</td></tr>
<tr><td><code id="Nested_Stats_Sbar_+3A_lam20">lam20</code></td>
<td>
<p>Fraction of the sample used for Model 2, which should be within 0 and 1.</p>
</td></tr>
<tr><td><code id="Nested_Stats_Sbar_+3A_tau0">tau0</code></td>
<td>
<p>Fraction to determine the user-chosen range of lam10 over which the average is taken.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of SBar statistics and corresponding P values will be produced. &quot;adj&quot; means a Clark and West's (2007) reformulation of sample MSE has been applied
, and &quot;NW&quot; means robust Newey-West type estimator (c.f. Deng and Perron, 2008) for heteroskedastic errors has been used.
</p>


<h3>Author(s)</h3>

<p>Rong Peng, <a href="mailto:r.peng@soton.ac.uk">r.peng@soton.ac.uk</a>
</p>


<h3>References</h3>

<p>Pitarakis, J. Y. (2023). A novel approach to predictive accuracy testing in nested environments. Econometric Theory, 1-44.
</p>
<p>Deng, A., &amp; Perron, P. (2008). The limit distribution of the CUSUM of squares test under general mixing conditions. Econometric Theory, 24(3), 809-822.
</p>
<p>Clark, T. E., &amp; West, K. D. (2007). Approximately normal tests for equal predictive accuracy in nested models. Journal of econometrics, 138(1), 291-311.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+Nested_Stats_S0">Nested_Stats_S0</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>e1&lt;- rnorm(15);
e2&lt;- rnorm(15);
temp1 &lt;- Nested_Stats_S0(e1,e2,lam10=0.5,lam20=0.8)
temp1$S_lam10_lam20_adj_NW     #\S^0_T(lam10, lam^20) with CW adjustment and NW correction
temp1$pv_S_lam10_lam20_adj_NW  #P value of it
</code></pre>

<hr>
<h2 id='recursive_hstep_fast'>Forecasting h-steps ahead using Recursive Least Squares Fast</h2><span id='topic+recursive_hstep_fast'></span>

<h3>Description</h3>

<p>Consider the following LS-fitted Model with intercept:
y_(t+h) = beta_0 + x_t * beta + u_(t+h)
which is used to generate out-of-sample forecasts of y, h-steps ahead (h=1,2,3,. . . ).
It calculates the recursive residuals starting from the first (n * pi0) data points, where n is the total number of data points.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>recursive_hstep_fast(y, x, pi0, h)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="recursive_hstep_fast_+3A_y">y</code></td>
<td>
<p>n x 1 Outcome series, which should be numeric and one dimensional.</p>
</td></tr>
<tr><td><code id="recursive_hstep_fast_+3A_x">x</code></td>
<td>
<p>n x p Predictor matrix (intercept would be added automatically).</p>
</td></tr>
<tr><td><code id="recursive_hstep_fast_+3A_pi0">pi0</code></td>
<td>
<p>Fraction of the sample, which should be within 0 and 1.</p>
</td></tr>
<tr><td><code id="recursive_hstep_fast_+3A_h">h</code></td>
<td>
<p>Number of steps ahead to predict, which should be a positive integer.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>recursive_hstep_fast is the fast version that avoids the recursive calculation of inverse of the matrix using Sherman-Morrison formula.
recursive_hstep_slow is the slow version that calculates the standard OLS recursively.
</p>


<h3>Value</h3>

<p>Series of residuals estimated
</p>


<h3>Author(s)</h3>

<p>Rong Peng, <a href="mailto:r.peng@soton.ac.uk">r.peng@soton.ac.uk</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x&lt;- rnorm(15);
y&lt;- x+rnorm(15);
temp1 &lt;- recursive_hstep_fast(y,x,pi0=0.5,h=1);
</code></pre>

<hr>
<h2 id='recursive_hstep_slow'>Forecasting h-steps ahead using Recursive Least Squares Slow</h2><span id='topic+recursive_hstep_slow'></span>

<h3>Description</h3>

<p>Consider the following LS-fitted Model with intercept:
y_(t+h) = beta_0 + x_t * beta + u_(t+h)
which is used to generate out-of-sample forecasts of y, h-steps ahead (h=1,2,3,. . . ).
It calculates the recursive residuals starting from the first (n * pi0) data points, where n is the total number of data points.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>recursive_hstep_slow(y, x, pi0, h)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="recursive_hstep_slow_+3A_y">y</code></td>
<td>
<p>n x 1 Outcome series, which should be numeric and one dimensional.</p>
</td></tr>
<tr><td><code id="recursive_hstep_slow_+3A_x">x</code></td>
<td>
<p>n x p Predictor matrix (intercept would be added automatically).</p>
</td></tr>
<tr><td><code id="recursive_hstep_slow_+3A_pi0">pi0</code></td>
<td>
<p>Fraction of the sample, which should be within 0 and 1.</p>
</td></tr>
<tr><td><code id="recursive_hstep_slow_+3A_h">h</code></td>
<td>
<p>Number of steps ahead to predict, which should be a positive integer.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>recursive_hstep_fast is the fast version that avoids the recursive calculation of inverse of the matrix using Sherman-Morrison formula.
recursive_hstep_slow is the slow version that calculates the standard OLS recursively.
</p>


<h3>Value</h3>

<p>Series of residuals estimated
</p>


<h3>Author(s)</h3>

<p>Rong Peng, <a href="mailto:r.peng@soton.ac.uk">r.peng@soton.ac.uk</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x&lt;- rnorm(15);
y&lt;- x+rnorm(15);
temp2 &lt;- recursive_hstep_slow(y,x,pi0=0.5,h=1);
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

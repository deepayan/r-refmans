<!DOCTYPE html><html lang="en"><head><title>Help for package dmutate</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {dmutate}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#as_idata'><p>Create individual data frame from a covset object</p></a></li>
<li><a href='#build_covform'><p>Build a object or formula to use with covset.</p></a></li>
<li><a href='#covset'><p>Covobj and covset objects.</p></a></li>
<li><a href='#dmutate'><p>mutate a data frame, adding random variables.</p></a></li>
<li><a href='#mutate_random'><p>Add random variates to a data frame.</p></a></li>
<li><a href='#rbinomial'><p>Simulate from binomial distribution.</p></a></li>
<li><a href='#rmvnorm'><p>Simulate from multivariate normal distribution.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Mutate Data Frames with Random Variates</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.3</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr (&ge; 0.7.4), MASS</td>
</tr>
<tr>
<td>Depends:</td>
<td>methods</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Kyle T Baron &lt;kylebtwin@imap.cc&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Work within the 'dplyr' workflow to add random variates to your data frame. 
  Variates can be added at any level of an existing column.  Also, bounds can be specified 
  for simulated variates. </td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/kylebaron/dmutate">https://github.com/kylebaron/dmutate</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/kylebaron/dmutate/issues">https://github.com/kylebaron/dmutate/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-04-22 16:26:41 UTC; kyleb</td>
</tr>
<tr>
<td>Author:</td>
<td>Kyle T Baron [aut, cre, cph]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-04-22 22:20:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='as_idata'>Create individual data frame from a covset object</h2><span id='topic+as_idata'></span>

<h3>Description</h3>

<p>Create individual data frame from a covset object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_idata(.covset, .n)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="as_idata_+3A_.covset">.covset</code></td>
<td>
<p>a covset object</p>
</td></tr>
<tr><td><code id="as_idata_+3A_.n">.n</code></td>
<td>
<p>number of IDs to simulate</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>cov1 &lt;- covset(Y ~ rbinomial(0.2), Z ~ rnorm(2,2))

as_idata(cov1, 10)

</code></pre>

<hr>
<h2 id='build_covform'>Build a object or formula to use with covset.</h2><span id='topic+build_covform'></span><span id='topic+build_covobj'></span>

<h3>Description</h3>

<p><code>build_covform</code> formulates then parses a formula that
can be used in a covset. <code>build_covobj</code> just assembles
the object directly.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>build_covform(
  var,
  dist,
  args,
  lower = NULL,
  upper = NULL,
  by = NULL,
  envir = parent.frame()
)

build_covobj(
  var,
  dist,
  args,
  upper = NULL,
  lower = NULL,
  by = NULL,
  envir = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="build_covform_+3A_var">var</code></td>
<td>
<p>variable name, character</p>
</td></tr>
<tr><td><code id="build_covform_+3A_dist">dist</code></td>
<td>
<p>distribution function name</p>
</td></tr>
<tr><td><code id="build_covform_+3A_args">args</code></td>
<td>
<p>character vector of arguments for <code>dist</code></p>
</td></tr>
<tr><td><code id="build_covform_+3A_lower">lower</code></td>
<td>
<p>lower limits for var</p>
</td></tr>
<tr><td><code id="build_covform_+3A_upper">upper</code></td>
<td>
<p>upper limits for var</p>
</td></tr>
<tr><td><code id="build_covform_+3A_by">by</code></td>
<td>
<p>grouping variable</p>
</td></tr>
<tr><td><code id="build_covform_+3A_envir">envir</code></td>
<td>
<p>environment for resolving symbols in expressions</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When length of <code>var</code> is greater than one,
both <code>lower</code> and <code>upper</code> must be named vectors when specifiation is
made.  However, it is acceptable to specify nothing or to use unnamed limits
when the lenght of var is 1.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
build_covform("WT", "rnorm", c("mu = 80", "sd = 40"), lower = 40, upper = 140)
build_covform("WT", "rnorm", "80,40", lower = 40, upper = 140)

build_covobj("WT", "rnorm", "80,40", lower = 40, upper = 140)

</code></pre>

<hr>
<h2 id='covset'>Covobj and covset objects.</h2><span id='topic+covset'></span><span id='topic+new_covobj'></span><span id='topic+print.covobj'></span><span id='topic+as.list+2Ccovobj-method'></span><span id='topic+as.list+2Ccovset-method'></span><span id='topic+print.covset'></span><span id='topic+rvset'></span><span id='topic+as.covset'></span>

<h3>Description</h3>

<p>Covobj and covset objects.
</p>
<p>Create a set of covariates.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_covobj(x, envir = parent.frame(), ...)

## S3 method for class 'covobj'
print(x, ...)

## S4 method for signature 'covobj'
as.list(x, ...)

## S4 method for signature 'covset'
as.list(x, ...)

## S3 method for class 'covset'
print(x, ...)

covset(..., envir = parent.frame())

rvset(...)

as.covset(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="covset_+3A_x">x</code></td>
<td>
<p>a formula; may be quoted</p>
</td></tr>
<tr><td><code id="covset_+3A_envir">envir</code></td>
<td>
<p>for formulae</p>
</td></tr>
<tr><td><code id="covset_+3A_...">...</code></td>
<td>
<p>formulae to use for the covset</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>rvset</code> is an alias for <code>covset</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
obj &lt;- new_covobj(Y[0,80] ~ rnorm(20,50))

obj

as.list(obj)

a &lt;- Y ~ runif(0,1)
b &lt;- Z ~ rbeta(1,1)

set &lt;- covset(a,b)

set

as.list(set)

</code></pre>

<hr>
<h2 id='dmutate'>mutate a data frame, adding random variables.</h2><span id='topic+dmutate'></span>

<h3>Description</h3>

<p>mutate a data frame, adding random variables.
</p>
<p>Apply formulae to a data frame
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dmutate(data, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dmutate_+3A_data">data</code></td>
<td>
<p>a data frame</p>
</td></tr>
<tr><td><code id="dmutate_+3A_...">...</code></td>
<td>
<p>formulae and other arguments for <code><a href="#topic+mutate_random">mutate_random</a></code></p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>
idata &lt;- dplyr::data_frame(ID = 1:10)

dmutate(idata, y ~ rbinomial(0.5), wt ~ rnorm(mu,sd),
        envir = list(mu = 50, sd = 20))

</code></pre>

<hr>
<h2 id='mutate_random'>Add random variates to a data frame.</h2><span id='topic+mutate_random'></span><span id='topic+mutate_random+2Cdata.frame+2Cformula-method'></span><span id='topic+mutate_random+2Cdata.frame+2Ccharacter-method'></span><span id='topic+mutate_random+2Cdata.frame+2Clist-method'></span><span id='topic+mutate_random+2Cdata.frame+2Ccovset-method'></span><span id='topic+mutate_random+2Cdata.frame+2Ccovobj-method'></span>

<h3>Description</h3>

<p>Add random variates to a data frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mutate_random(data, input, ...)

## S4 method for signature 'data.frame,formula'
mutate_random(data, input, ...)

## S4 method for signature 'data.frame,character'
mutate_random(data, input, envir = parent.frame(), ...)

## S4 method for signature 'data.frame,list'
mutate_random(data, input, ...)

## S4 method for signature 'data.frame,covset'
mutate_random(data, input, ...)

## S4 method for signature 'data.frame,covobj'
mutate_random(data, input, envir = parent.frame(), ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mutate_random_+3A_data">data</code></td>
<td>
<p>the data.frame to mutate</p>
</td></tr>
<tr><td><code id="mutate_random_+3A_input">input</code></td>
<td>
<p>an unquoted R formula; see details</p>
</td></tr>
<tr><td><code id="mutate_random_+3A_...">...</code></td>
<td>
<p>additional inputs</p>
</td></tr>
<tr><td><code id="mutate_random_+3A_envir">envir</code></td>
<td>
<p>environment for object lookup</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>
data &lt;- data.frame(ID=1:10, GROUP = sample(c(1,2,3),10,replace=TRUE))

mutate_random(data, AGE[40,90] ~ rnorm(55,50))
mutate_random(data, RE ~ rbeta(1,1) | GROUP)

e &lt;- list(lower=40,upper=140,mu=100,sd=100)

egfr &lt;- covset(EGFR[lower,upper] ~ rnorm(mu,sd))

mutate_random(data,egfr,envir=e)

</code></pre>

<hr>
<h2 id='rbinomial'>Simulate from binomial distribution.</h2><span id='topic+rbinomial'></span><span id='topic+rbern'></span>

<h3>Description</h3>

<p>Wrapper for <code><a href="stats.html#topic+rbinom">rbinom</a></code>  with trial size of 1.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rbinomial(n, p, ...)

rbern(n, p, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rbinomial_+3A_n">n</code></td>
<td>
<p>number of variates</p>
</td></tr>
<tr><td><code id="rbinomial_+3A_p">p</code></td>
<td>
<p>probability of success</p>
</td></tr>
<tr><td><code id="rbinomial_+3A_...">...</code></td>
<td>
<p>passed along as appropriate</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>size</code> of each trial is always 1.
</p>

<hr>
<h2 id='rmvnorm'>Simulate from multivariate normal distribution.</h2><span id='topic+rmvnorm'></span><span id='topic+rlmvnorm'></span><span id='topic+rmassnorm'></span><span id='topic+rlmassnorm'></span>

<h3>Description</h3>

<p>Simulate from multivariate normal distribution.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rmvnorm(n, mu, Sigma)

rlmvnorm(n, ...)

rmassnorm(n, ...)

rlmassnorm(n, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rmvnorm_+3A_n">n</code></td>
<td>
<p>number of variates</p>
</td></tr>
<tr><td><code id="rmvnorm_+3A_mu">mu</code></td>
<td>
<p>vector of means</p>
</td></tr>
<tr><td><code id="rmvnorm_+3A_sigma">Sigma</code></td>
<td>
<p>variance-covariance matrix with number of columns equal to
length of <code>mu</code></p>
</td></tr>
<tr><td><code id="rmvnorm_+3A_...">...</code></td>
<td>
<p>arguments passed to <code>rmvnorm</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>rlmvnorm</code> is a multivariate log normal.
</p>
<p><code>rmassnorm</code> and <code>rlmassnorm</code> simulate the
multivariate normal using the <code>MASS</code> package.
</p>


<h3>Value</h3>

<p>Returns a matrix of variates with number of rows
equal to <code>n</code> and mumber of columns equal to length of <code>mu</code>.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

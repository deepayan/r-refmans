<!DOCTYPE html><html><head><title>Help for package bioSNR</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {bioSNR}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#absorptionAir'><p>absorptionAir</p></a></li>
<li><a href='#absorptionWater'><p>absorptionWater</p></a></li>
<li><a href='#opDB'><p>opDB</p></a></li>
<li><a href='#rmax'><p>Maximum Detection Range</p></a></li>
<li><a href='#snell'><p>Snell's Law</p></a></li>
<li><a href='#soundSpeed'><p>Sound Speed</p></a></li>
<li><a href='#specLvlGraph'><p>Spectrum Level Graph and Marine Noise Level</p></a></li>
<li><a href='#wof'><p>wavelength and frequency</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Bioacoustic Basic Operations with Decibels and the Passive Sonar
Equation</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>A beginners toolbox to help those in ecology who want to deepen their understanding or utilize Bioacoustics in their work. The package has a number of utilizations from calculating frequency from waveform, performing operations in dB, and determining acoustic range of recorders. The majority of this package is based on key concepts learned from the K. Lisa Yang Center for Conservation Bioacoustics at Cornell University and their associated course: Introduction to Bioacoustics course. More information can be found within the walk through vignettes at <a href="https://github.com/MattyD797/bioSNR/tree/main/vignettes">https://github.com/MattyD797/bioSNR/tree/main/vignettes</a>.</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr, ggplot2, pracma, scales, stats</td>
</tr>
<tr>
<td>Suggests:</td>
<td>rmarkdown, knitr</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Matthew Duggan &lt;mtd72@cornell.edu&gt;</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-05-25 20:07:45 UTC; mattyd797</td>
</tr>
<tr>
<td>Author:</td>
<td>Matthew Duggan <a href="https://orcid.org/0000-0002-0921-7818"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Marissa Garcia <a href="https://orcid.org/0009-0009-6228-4794"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-05-26 08:20:05 UTC</td>
</tr>
</table>
<hr>
<h2 id='absorptionAir'>absorptionAir</h2><span id='topic+absorptionAir'></span>

<h3>Description</h3>

<p>This function is the standard method of calculating the absorption of sound in air (ISO 9613-1).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>absorptionAir(f, p, t, h, pr = 101.325, tr = 293.15, to = 273.16)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="absorptionAir_+3A_f">f</code></td>
<td>
<p>The frequency of the sound source in Hz</p>
</td></tr>
<tr><td><code id="absorptionAir_+3A_p">p</code></td>
<td>
<p>The ambient atmospheric pressure in kPa</p>
</td></tr>
<tr><td><code id="absorptionAir_+3A_t">t</code></td>
<td>
<p>The ambient atmospheric temperature in C</p>
</td></tr>
<tr><td><code id="absorptionAir_+3A_h">h</code></td>
<td>
<p>The relative humidity as a percent</p>
</td></tr>
<tr><td><code id="absorptionAir_+3A_pr">pr</code></td>
<td>
<p>The standard pressure at mean sea level</p>
</td></tr>
<tr><td><code id="absorptionAir_+3A_tr">tr</code></td>
<td>
<p>The standard temperature in Celcius (293.15 in kelvin)</p>
</td></tr>
<tr><td><code id="absorptionAir_+3A_to">to</code></td>
<td>
<p>The triple-point isotherm temperature</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The sound attenuation rate in dB/m
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#How much are Malayan tapir calls (15 kHz) absorbed in a tropical region
#(30 deg C) assuming a humidity of 80% and standard pressure (101.325)?
absorptionAir(15000, 101.325, 30, 80)
</code></pre>

<hr>
<h2 id='absorptionWater'>absorptionWater</h2><span id='topic+absorptionWater'></span>

<h3>Description</h3>

<p>This function is a simplified method of calculating the absorption of sound
in water proposed in Ainslie and McColm, 1998 and based on Francois and Garrison, 1982.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>absorptionWater(f, pH = 8, t = 0, s = 35, z)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="absorptionWater_+3A_f">f</code></td>
<td>
<p>The frequency of the sound source in kHz.</p>
</td></tr>
<tr><td><code id="absorptionWater_+3A_ph">pH</code></td>
<td>
<p>The average acidity or pH of the water. Default is 8.</p>
</td></tr>
<tr><td><code id="absorptionWater_+3A_t">t</code></td>
<td>
<p>The average temperature of the water in Celsius. Default is 0.</p>
</td></tr>
<tr><td><code id="absorptionWater_+3A_s">s</code></td>
<td>
<p>The average salinity of the water in parts per thousand (ppt). Default is 35 ppt.</p>
</td></tr>
<tr><td><code id="absorptionWater_+3A_z">z</code></td>
<td>
<p>The depth in km.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The sound attenuation rate in dB/km
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#How much are blue whale calls (30 kHz) absorbed in a tropical region
#(30 deg C) assuming a salinity of 35 ppt, pH of 8, and a depth of 5 km?
absorptionWater(30, 8, 30, 35, 5)
</code></pre>

<hr>
<h2 id='opDB'>opDB</h2><span id='topic+opDB'></span>

<h3>Description</h3>

<p>This function either adds, subtracts or averages dB values specified in function. This is for dB values in re to power, intensity or pressure.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>opDB(dbs, PL, op = "add")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="opDB_+3A_dbs">dbs</code></td>
<td>
<p>A vector of dB values of all the same reference.</p>
</td></tr>
<tr><td><code id="opDB_+3A_pl">PL</code></td>
<td>
<p>Should be 10 if dB measurements were for intensity or power and 20 if dB measurements were for pressure.</p>
</td></tr>
<tr><td><code id="opDB_+3A_op">op</code></td>
<td>
<p>Default = 'add'. Can be 'add', 'sub', or 'avg' to add, subtract, or average, respectively.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A sinlge dB value
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Given a set of intensity values, add them.
opDB(c(100, 101, 127, 96), 10)
</code></pre>

<hr>
<h2 id='rmax'>Maximum Detection Range</h2><span id='topic+rmax'></span>

<h3>Description</h3>

<p>This function finds the maximum detection range of a given call.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rmax(sl, nl, dt, d, a = 0, xaxis = 25)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rmax_+3A_sl">sl</code></td>
<td>
<p>Source level of the signal of interest, as measured in dBs.</p>
</td></tr>
<tr><td><code id="rmax_+3A_nl">nl</code></td>
<td>
<p>Noise Level or background ambient noise in the recorderâ€™s local environment.</p>
</td></tr>
<tr><td><code id="rmax_+3A_dt">dt</code></td>
<td>
<p>Detection Threshold or the additional dBs the signal of interest must achieve above ambient noise conditions in order to be detected by the receiver.</p>
</td></tr>
<tr><td><code id="rmax_+3A_d">d</code></td>
<td>
<p>Depth</p>
</td></tr>
<tr><td><code id="rmax_+3A_a">a</code></td>
<td>
<p>The absorption coefficeant given to you by the absorptionAir or absorptionWater formula.</p>
</td></tr>
<tr><td><code id="rmax_+3A_xaxis">xaxis</code></td>
<td>
<p>Exaggerated max distance. This gives the largest distance to evaluate in order to find the intercept of your detection threshold and propogation of the source level.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The maximum detection range in meters
</p>


<h3>Examples</h3>

<pre><code class='language-R'># SL= 195, NL = 82.9897, DT = 10, TR = 2500
 rmax(sl=195,nl=82.9897,dt=10,d=2500*2, xaxis=10000000)
</code></pre>

<hr>
<h2 id='snell'>Snell's Law</h2><span id='topic+snell'></span>

<h3>Description</h3>

<p>This function is a reformated version of Snell's law that finds reflection or refraction angle given the two mediums longitudinal
wave velocities.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>snell(ang, v1, v2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="snell_+3A_ang">ang</code></td>
<td>
<p>The known angle of relfection or refraction</p>
</td></tr>
<tr><td><code id="snell_+3A_v1">v1</code></td>
<td>
<p>The longitudinal wave velocity of medium where angle (refraction or reflection) is known given in m/s.</p>
</td></tr>
<tr><td><code id="snell_+3A_v2">v2</code></td>
<td>
<p>The longitudinal wave velocity of medium where angle (refraction or reflection) is unknown given in m/s.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The opposing angle of reflection or refraction, respectfully
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Calculate the reflection angle given the angle of a black-tailed godwit sound
#source is 64 degrees, the speed is 1564 m/s in the first medium and 1494 m/s
#in the second medium.
snell(64,1564,1494)
</code></pre>

<hr>
<h2 id='soundSpeed'>Sound Speed</h2><span id='topic+soundSpeed'></span>

<h3>Description</h3>

<p>This function finds the average speed of sound in water or air (c) in m/s
given information on temperature, salinity, and depth.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>soundSpeed(t, med = "air", s = NULL, z = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="soundSpeed_+3A_t">t</code></td>
<td>
<p>The temperature in Â°C</p>
</td></tr>
<tr><td><code id="soundSpeed_+3A_med">med</code></td>
<td>
<p>The medium sound is traveling through</p>
</td></tr>
<tr><td><code id="soundSpeed_+3A_s">s</code></td>
<td>
<p>The salinity in parts per thousand (ppt)</p>
</td></tr>
<tr><td><code id="soundSpeed_+3A_z">z</code></td>
<td>
<p>The depth in m</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The speed of sound in m/s
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Speed of sound in 30Â°C water with a salinity of 2000 ppt and a depth of
# 2010 m
soundSpeed(30, "water", 2000, 2010)

</code></pre>

<hr>
<h2 id='specLvlGraph'>Spectrum Level Graph and Marine Noise Level</h2><span id='topic+specLvlGraph'></span>

<h3>Description</h3>

<p>This function calculates the ambient noise level (NL; dB re. 1 microPa) in a deep-water marine environement.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>specLvlGraph(freqBand, shipT = -1, seaState = -1, wSpeed = 0, boolR = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="specLvlGraph_+3A_freqband">freqBand</code></td>
<td>
<p>The frequency band of interest</p>
</td></tr>
<tr><td><code id="specLvlGraph_+3A_shipt">shipT</code></td>
<td>
<p>The intensity ship traffic in the area
* 1 - 2 low ship traffic
* 3-4-5 standard ship traffic
* 6 - 7 heavy ship traffic
* 8 - 9 intense ship traffic</p>
</td></tr>
<tr><td><code id="specLvlGraph_+3A_seastate">seaState</code></td>
<td>
<p>The sea state as specified by the National Weather Service</p>
</td></tr>
<tr><td><code id="specLvlGraph_+3A_wspeed">wSpeed</code></td>
<td>
<p>The wind speed in miles per hour (mph)</p>
</td></tr>
<tr><td><code id="specLvlGraph_+3A_boolr">boolR</code></td>
<td>
<p>Boolean of whether you want the value printed out in a string. Should be true for HW problems.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The noise level (NL) in dB re. 1 microPa
</p>


<h3>Author(s)</h3>

<p>Matthew Duggan, K. Lisa Yang Center for Conservation Bioacoustics, Cornell University.
</p>


<h3>References</h3>

<p>Wenz, G. M. (1962). Acoustic ambient noise in the ocean: Spectra and sources. The Journal of the Acoustical Society of America, 34(12), 1936-1956.
</p>
<p>Urick, R. J. (1975). Principles of underwater sound v.2.
</p>
<p>Zimmer, W. M. (2011). Passive acoustic monitoring of cetaceans. Cambridge University Press.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>specLvlGraph(c(28,33), ship=4,seaState = 1, wSpeed = 10, boolR = TRUE)

</code></pre>

<hr>
<h2 id='wof'>wavelength and frequency</h2><span id='topic+wof'></span>

<h3>Description</h3>

<p>This function finds the length of a sound wave, known as the wavelength (m), or
frequency of a sound (Hz), given the identity of the input. The speed of sound is the default in
air (340 m/s). You may calculate your own value for c relative to the conditions present
in your ecosystem of study via soundSpeed().
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wof(b, c = 340)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="wof_+3A_b">b</code></td>
<td>
<p>The known wavelength (m) or frequency (Hz).</p>
</td></tr>
<tr><td><code id="wof_+3A_c">c</code></td>
<td>
<p>The speed of sound in m/s. As a general rule of thumb, however, c is equal to 1500 m/s in saltwater and 350 m/s in air. Note that the distinction between freshwater and saltwater is important. Sound speed is faster in saltwater than freshwater.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The unknown wavelength (m) or frequency (Hz) given the identity of input a.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Given a frequency of 80 Hz in air, what is the wavelength?
wof(80000)
# Given a wavelength of 0.004 m in salt water, what is the frequency?
wof(0.004, c=1500)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

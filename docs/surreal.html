<!DOCTYPE html><html lang="en"><head><title>Help for package surreal</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {surreal}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#surreal-package'><p>surreal: Create Datasets with Hidden Images in Residual Plots</p></a></li>
<li><a href='#border_augmentation'><p>Transform Data by Adding a Border</p></a></li>
<li><a href='#jackolantern_surreal_data'><p>Jack-o'-Lantern Surreal Data</p></a></li>
<li><a href='#r_logo_image_data'><p>R Logo Pixel Data</p></a></li>
<li><a href='#surreal'><p>Find X Matrix and Y Vector for Residual Surrealism</p></a></li>
<li><a href='#surreal_text'><p>Apply the surreal method to a text string</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Create Datasets with Hidden Images in Residual Plots</td>
</tr>
<tr>
<td>Version:</td>
<td>0.0.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Implements the "Residual (Sur)Realism" algorithm described by
    Stefanski (2007) &lt;<a href="https://doi.org/10.1198%2F000313007X190079">doi:10.1198/000313007X190079</a>&gt; to generate datasets 
    that reveal hidden images or messages in their residual plots. It offers
    both predefined datasets and tools to embed custom text or images
    into residual structures. Allowing users to create intriguing visual
    demonstrations for teaching model diagnostics.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.3.0)</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/coatless-rpkg/surreal">https://github.com/coatless-rpkg/surreal</a>,
<a href="https://r-pkg.thecoatlessprofessor.com/surreal/">https://r-pkg.thecoatlessprofessor.com/surreal/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/coatless-rpkg/surreal/issues">https://github.com/coatless-rpkg/surreal/issues</a></td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Imports:</td>
<td>png</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-09-10 04:29:43 UTC; ronin</td>
</tr>
<tr>
<td>Author:</td>
<td>James Joseph Balamuta
    <a href="https://orcid.org/0000-0003-2826-8458"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, cre,
    cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>James Joseph Balamuta &lt;james.balamuta@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-09-12 17:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='surreal-package'>surreal: Create Datasets with Hidden Images in Residual Plots</h2><span id='topic+surreal-package'></span>

<h3>Description</h3>

<p>Implements the &quot;Residual (Sur)Realism&quot; algorithm described by Stefanski (2007) <a href="https://doi.org/10.1198/000313007X190079">doi:10.1198/000313007X190079</a> to generate datasets that reveal hidden images or messages in their residual plots. It offers both predefined datasets and tools to embed custom text or images into residual structures. Allowing users to create intriguing visual demonstrations for teaching model diagnostics.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: James Joseph Balamuta <a href="mailto:james.balamuta@gmail.com">james.balamuta@gmail.com</a> (<a href="https://orcid.org/0000-0003-2826-8458">ORCID</a>) [copyright holder]
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/coatless-rpkg/surreal">https://github.com/coatless-rpkg/surreal</a>
</p>
</li>
<li> <p><a href="https://r-pkg.thecoatlessprofessor.com/surreal/">https://r-pkg.thecoatlessprofessor.com/surreal/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/coatless-rpkg/surreal/issues">https://github.com/coatless-rpkg/surreal/issues</a>
</p>
</li></ul>


<hr>
<h2 id='border_augmentation'>Transform Data by Adding a Border</h2><span id='topic+border_augmentation'></span>

<h3>Description</h3>

<p>This function transforms the input data by adding points around the original data
to create a frame. It uses an optimization process to find the best alpha parameter
for point distribution, which helps in making the fitted values and residuals orthogonal.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>border_augmentation(x, y, n_add_points = 40, verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="border_augmentation_+3A_x">x</code></td>
<td>
<p>Numeric vector of x coordinates.</p>
</td></tr>
<tr><td><code id="border_augmentation_+3A_y">y</code></td>
<td>
<p>Numeric vector of y coordinates.</p>
</td></tr>
<tr><td><code id="border_augmentation_+3A_n_add_points">n_add_points</code></td>
<td>
<p>Integer. Number of points to add on each side of the frame. Default is <code>40</code>.</p>
</td></tr>
<tr><td><code id="border_augmentation_+3A_verbose">verbose</code></td>
<td>
<p>Logical. If <code>TRUE</code>, prints optimization progress. Default is <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A matrix with two columns representing the transformed <code>x</code> and <code>y</code> coordinates.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Simulate data
x &lt;- rnorm(100)
y &lt;- rnorm(100)

# Append border to data
transformed_data &lt;- border_augmentation(x, y)

# Modify par settings for plotting side-by-side
oldpar &lt;- par(mfrow = c(1, 2))

plot(x, y, pch = 16, main = "Original data")
plot(transformed_data[, 1], transformed_data[, 2], pch = 16, main = "Transformed data")

# Restore original par settings
par(oldpar)
</code></pre>

<hr>
<h2 id='jackolantern_surreal_data'>Jack-o'-Lantern Surreal Data</h2><span id='topic+jackolantern_surreal_data'></span>

<h3>Description</h3>

<p>Data set containing a hidden image of a Jack-o'-Lantern lurking
in the residual plot of a full model being fit.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>jackolantern_surreal_data
</code></pre>


<h3>Format</h3>

<p>A data frame with 5,395 observations and 7 variables.
</p>

<ul>
<li> <p><code>y</code>: Response variable
</p>
</li>
<li> <p><code>x1</code>: Predictor variable 1
</p>
</li>
<li> <p><code>x2</code>: Predictor variable 2
</p>
</li>
<li> <p><code>x3</code>: Predictor variable 3
</p>
</li>
<li> <p><code>x4</code>: Predictor variable 4
</p>
</li>
<li> <p><code>x5</code>: Predictor variable 5
</p>
</li>
<li> <p><code>x6</code>: Predictor variable 6
</p>
</li></ul>



<h3>References</h3>

<p>Stefansk, L.A. (2013). Hidden Images in the Helen Barton Lecture Series. Retrieved from
<a href="https://www4.stat.ncsu.edu/~stefansk/NSF_Supported/Hidden_Images/UNCG_Helen_Barton_Lecture_Nov_2013/pumpkin_1_data_yx1x6.txt">https://www4.stat.ncsu.edu/~stefansk/NSF_Supported/Hidden_Images/UNCG_Helen_Barton_Lecture_Nov_2013/pumpkin_1_data_yx1x6.txt</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Load the Jack-o'-Lantern data
data &lt;- jackolantern_surreal_data

# Fit a linear model to the surreal Jack-o'-Lantern data
model &lt;- lm(y ~ ., data = data)

# Plot the residuals to reveal the hidden image
plot(model$fitted, model$resid, type = "n", main = "Residual plot from transformed data")
points(model$fitted, model$resid, pch = 16)
</code></pre>

<hr>
<h2 id='r_logo_image_data'>R Logo Pixel Data</h2><span id='topic+r_logo_image_data'></span>

<h3>Description</h3>

<p>2D data set with the shape of the R Logo in x and y coordinate pairings.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>r_logo_image_data
</code></pre>


<h3>Format</h3>

<p>A data frame with 2000 observations and 2 variables describing the
x and y coordinates of the R logo.
</p>


<h3>References</h3>

<p>Staudenmayer, J. (2007). Hidden Images in R. Retrieved from
<a href="https://www4.stat.ncsu.edu/~stefansk/NSF_Supported/Hidden_Images/000_R_Programs/John_Staudenmayer/logo.txt">https://www4.stat.ncsu.edu/~stefansk/NSF_Supported/Hidden_Images/000_R_Programs/John_Staudenmayer/logo.txt</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Load the R logo data
data("r_logo_image_data", package = "surreal")

# Plot the R logo
plot(r_logo_image_data$x, r_logo_image_data$y, pch = 16, main = "R Logo", xlab = '', ylab = '')
</code></pre>

<hr>
<h2 id='surreal'>Find X Matrix and Y Vector for Residual Surrealism</h2><span id='topic+surreal'></span>

<h3>Description</h3>

<p>This function implements the Residual (Sur)Realism algorithm as described by
Leonard A. Stefanski (2007). It finds a matrix X and vector y such that the
fitted values and residuals of lm(y ~ X) are similar to the inputs y_hat and R_0.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>surreal(
  data,
  y_hat = data[, 1],
  R_0 = data[, 2],
  R_squared = 0.3,
  p = 5,
  n_add_points = 40,
  max_iter = 100,
  tolerance = 0.01,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="surreal_+3A_data">data</code></td>
<td>
<p>A data frame or matrix with two columns representing the <code>y_hat</code> and <code>R_0</code> values.</p>
</td></tr>
<tr><td><code id="surreal_+3A_y_hat">y_hat</code></td>
<td>
<p>Numeric vector of desired fitted values (only used if <code>data</code> is not provided).</p>
</td></tr>
<tr><td><code id="surreal_+3A_r_0">R_0</code></td>
<td>
<p>Numeric vector of desired residuals (only used if <code>data</code> is not provided).</p>
</td></tr>
<tr><td><code id="surreal_+3A_r_squared">R_squared</code></td>
<td>
<p>Desired R-squared value. Default is 0.3.</p>
</td></tr>
<tr><td><code id="surreal_+3A_p">p</code></td>
<td>
<p>Integer. Desired number of columns for matrix X. Default is 5.</p>
</td></tr>
<tr><td><code id="surreal_+3A_n_add_points">n_add_points</code></td>
<td>
<p>Integer. Number of points to add in border transformation. Default is 40.</p>
</td></tr>
<tr><td><code id="surreal_+3A_max_iter">max_iter</code></td>
<td>
<p>Integer. Maximum number of iterations for convergence. Default is 100.</p>
</td></tr>
<tr><td><code id="surreal_+3A_tolerance">tolerance</code></td>
<td>
<p>Numeric. Criteria for detecting convergence and stopping optimization early. Default is 0.01.</p>
</td></tr>
<tr><td><code id="surreal_+3A_verbose">verbose</code></td>
<td>
<p>Logical. If TRUE, prints progress information. Default is FALSE.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To disable the border augmentation, set <code>n_add_points = 0</code>.
</p>


<h3>Value</h3>

<p>A data frame containing the generated X matrix and y vector.
</p>


<h3>References</h3>

<p>Stefanski, L. A. (2007). Residual (Sur)Realism. The American Statistician, 61(2), 163-177.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Generate a 2D data set
data &lt;- cbind(y_hat = rnorm(100), R_0 = rnorm(100))

# Display original data
plot(data, pch = 16, main = "Original data")

# Apply the surreal method
result &lt;- surreal(data)

# View the expanded data after transformation
pairs(y ~ ., data = result, main = "Data after transformation")

# Fit a linear model to the transformed data
model &lt;- lm(y ~ ., data = result)

# Plot the residuals
plot(model$fitted, model$resid, type = "n", main = "Residual plot from transformed data")
points(model$fitted, model$resid, pch = 16)

</code></pre>

<hr>
<h2 id='surreal_text'>Apply the surreal method to a text string</h2><span id='topic+surreal_text'></span>

<h3>Description</h3>

<p>This function applies the surreal method to a text string. It first creates a
temporary plot with the text, processes the image, and then applies the surreal
method to the data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>surreal_text(
  text = "hello world",
  cex = 4,
  R_squared = 0.3,
  p = 5,
  n_add_points = 40,
  max_iter = 100,
  tolerance = 0.01,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="surreal_text_+3A_text">text</code></td>
<td>
<p>A character string to apply the surreal method to</p>
</td></tr>
<tr><td><code id="surreal_text_+3A_cex">cex</code></td>
<td>
<p>A numeric value for the size of the text</p>
</td></tr>
<tr><td><code id="surreal_text_+3A_r_squared">R_squared</code></td>
<td>
<p>Desired R-squared value. Default is 0.3.</p>
</td></tr>
<tr><td><code id="surreal_text_+3A_p">p</code></td>
<td>
<p>Integer. Desired number of columns for matrix X. Default is 5.</p>
</td></tr>
<tr><td><code id="surreal_text_+3A_n_add_points">n_add_points</code></td>
<td>
<p>Integer. Number of points to add in border transformation. Default is 40.</p>
</td></tr>
<tr><td><code id="surreal_text_+3A_max_iter">max_iter</code></td>
<td>
<p>Integer. Maximum number of iterations for convergence. Default is 100.</p>
</td></tr>
<tr><td><code id="surreal_text_+3A_tolerance">tolerance</code></td>
<td>
<p>Numeric. Criteria for detecting convergence and stopping optimization early. Default is 0.01.</p>
</td></tr>
<tr><td><code id="surreal_text_+3A_verbose">verbose</code></td>
<td>
<p>Logical. If TRUE, prints progress information. Default is FALSE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame containing the results of the surreal method application.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+surreal">surreal()</a></code> for details on the surreal method parameters.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create a surreal plot of the text "R is fun" appearing on one line
r_is_fun_result &lt;- surreal_text("R is fun", verbose = TRUE)

# Create a surreal plot of the text "Statistics Rocks" by using an escape
# character to create a second line between "Statistics" and "Rocks"
stat_rocks_result &lt;- surreal_text("Statistics\nRocks", verbose = TRUE)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

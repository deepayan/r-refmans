<!DOCTYPE html><html lang="en-GB"><head><title>Help for package starschemar</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {starschemar}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#starschemar'><p>Obtaining Star Schemas from Flat Tables</p></a></li>
<li><a href='#character_dimension'><p>Transform a dimension numeric attributes to character</p></a></li>
<li><a href='#character_dimensions'><p>Transform dimension numeric attributes to character</p></a></li>
<li><a href='#conform_all_dimensions'><p>Conform all dimensions of a constellation</p></a></li>
<li><a href='#conform_dimensions'><p>Conform dimensions of given name</p></a></li>
<li><a href='#constellation'><p><code>constellation</code> S3 class</p></a></li>
<li><a href='#constellation_as_multistar'><p>Export a constellation as a <code>multistar</code></p></a></li>
<li><a href='#constellation_as_tibble_list'><p>Export a constellation as a <code>tibble</code> list</p></a></li>
<li><a href='#ct_mrs'><p>Constellation for Mortality Reporting System</p></a></li>
<li><a href='#ct_mrs_test'><p>Constellation for Mortality Reporting System Test</p></a></li>
<li><a href='#define_dimension'><p>Define dimensions in a <code>dimensional_model</code> object</p></a></li>
<li><a href='#define_fact'><p>Define facts in a <code>dimensional_model</code> object</p></a></li>
<li><a href='#define_selected_dimensions'><p>Define selected dimensions</p></a></li>
<li><a href='#define_selected_facts'><p>Define selected facts</p></a></li>
<li><a href='#delete_records'><p>Delete records</p></a></li>
<li><a href='#delete_unused_foreign_keys'><p>Delete unused foreign keys</p></a></li>
<li><a href='#dereference_dimension'><p>Dereference a dimension</p></a></li>
<li><a href='#dimensional_model'><p><code>dimensional_model</code> S3 class</p></a></li>
<li><a href='#dimensional_query'><p><code>dimensional_query</code> S3 class</p></a></li>
<li><a href='#dm_mrs_age'><p>Star Definition for Mortality Reporting System by Age</p></a></li>
<li><a href='#dm_mrs_cause'><p>Star Definition for Mortality Reporting System by Cause</p></a></li>
<li><a href='#enrich_dimension_export'><p>Export selected attributes of a dimension</p></a></li>
<li><a href='#enrich_dimension_import'><p>Import <code>tibble</code> to enrich a dimension</p></a></li>
<li><a href='#enrich_dimension_import_test'><p>Import <code>tibble</code> to test to enrich a dimension</p></a></li>
<li><a href='#filter_dimension'><p>Filter dimension</p></a></li>
<li><a href='#filter_fact_rows'><p>Filter fact rows</p></a></li>
<li><a href='#filter_selected_instances'><p>Filter selected instances</p></a></li>
<li><a href='#find_values'><p>Find values in a dimension</p></a></li>
<li><a href='#ft_datagov_uk'><p>Modelling the long-term health impacts of air pollution in London</p></a></li>
<li><a href='#ft_london_boroughs'><p>London Boroughs</p></a></li>
<li><a href='#ft_usa_city_county'><p>USA City and County</p></a></li>
<li><a href='#ft_usa_states'><p>USA States</p></a></li>
<li><a href='#get_all_dimensions'><p>Get all dimensions</p></a></li>
<li><a href='#get_attribute_names'><p>Get attribute names</p></a></li>
<li><a href='#get_conformed_dimension'><p>Get conformed dimension</p></a></li>
<li><a href='#get_conformed_dimension_names'><p>Get conformed dimension names</p></a></li>
<li><a href='#get_conformed_dimension_names_st'><p>Get conformed dimension names</p></a></li>
<li><a href='#get_dimension'><p>Get dimension</p></a></li>
<li><a href='#get_dimension_attribute_names'><p>Get dimension attribute names</p></a></li>
<li><a href='#get_dimension_name'><p>Get the dimension name</p></a></li>
<li><a href='#get_dimension_names'><p>Get dimension names</p></a></li>
<li><a href='#get_dimension_type'><p>Get the dimension type</p></a></li>
<li><a href='#get_fact_name'><p>Get fact name</p></a></li>
<li><a href='#get_measure_names'><p>Get measure names</p></a></li>
<li><a href='#get_name_of_role_playing_dimensions'><p>Get the name of the role playing dimensions</p></a></li>
<li><a href='#get_name_of_uniquely_implemented_dimensions'><p>Get name of uniquely implemented dimensions</p></a></li>
<li><a href='#get_role_dimension_names'><p>Get role dimension names associated to a role-playing dimension</p></a></li>
<li><a href='#get_role_playing_dimension_name'><p>Get the associated role-playing dimension name</p></a></li>
<li><a href='#get_star_schema'><p>Get star schema</p></a></li>
<li><a href='#get_star_schema_names'><p>Get star schema names</p></a></li>
<li><a href='#group_facts'><p>Group facts</p></a></li>
<li><a href='#group_records'><p>Group records</p></a></li>
<li><a href='#group_table'><p>Group the records in the table</p></a></li>
<li><a href='#homogenize'><p>Homogenize a dimension</p></a></li>
<li><a href='#incremental_refresh_constellation'><p>Incrementally refresh a constellation with a star schema</p></a></li>
<li><a href='#incremental_refresh_dimension'><p>Incrementally refresh a dimension with another</p></a></li>
<li><a href='#incremental_refresh_fact'><p>Incrementally refresh a fact table with another</p></a></li>
<li><a href='#incremental_refresh_star_schema'><p>Incrementally refresh a star schema with another</p></a></li>
<li><a href='#is_conformed_dimension'><p>Is it conformed dimension?</p></a></li>
<li><a href='#is_dimension_in_updates'><p>Is dimension in set of updates?</p></a></li>
<li><a href='#is_role_dimension'><p>Is it role dimension?</p></a></li>
<li><a href='#is_role_playing_dimension'><p>Is it role-playing dimension?</p></a></li>
<li><a href='#match_records'><p>Make a dimension record equal to another</p></a></li>
<li><a href='#modify_conformed_dimension_records'><p>Apply dimension record update operations to conformed dimensions</p></a></li>
<li><a href='#modify_dimension_records'><p>Apply dimension record update operations</p></a></li>
<li><a href='#mrs'><p>Mortality Reporting System</p></a></li>
<li><a href='#mrs_age'><p>Mortality Reporting System by Age</p></a></li>
<li><a href='#mrs_age_test'><p>Mortality Reporting System by Age Test</p></a></li>
<li><a href='#mrs_age_w_test'><p>Mortality Reporting System by Age for Week Test</p></a></li>
<li><a href='#mrs_age_w10'><p>Mortality Reporting System by Age for Week 10</p></a></li>
<li><a href='#mrs_age_w11'><p>Mortality Reporting System by Age for Week 11</p></a></li>
<li><a href='#mrs_cause'><p>Mortality Reporting System by Cause</p></a></li>
<li><a href='#mrs_cause_test'><p>Mortality Reporting System by Cause Test</p></a></li>
<li><a href='#mrs_cause_w_test'><p>Mortality Reporting System by Cause for Week Test</p></a></li>
<li><a href='#mrs_cause_w10'><p>Mortality Reporting System by Cause for Week 10</p></a></li>
<li><a href='#mrs_cause_w11'><p>Mortality Reporting System by Cause for Week 11</p></a></li>
<li><a href='#ms_mrs'><p>Multistar for Mortality Reporting System</p></a></li>
<li><a href='#ms_mrs_test'><p>Multistar for Mortality Reporting System Test</p></a></li>
<li><a href='#multistar_as_flat_table'><p>Export a <code>multistar</code> as a flat table</p></a></li>
<li><a href='#new_constellation'><p><code>constellation</code> S3 class</p></a></li>
<li><a href='#new_dimension_table'><p><code>dimension_table</code> S3 class</p></a></li>
<li><a href='#new_dimensional_model'><p>dimensional_model S3 class</p></a></li>
<li><a href='#new_dimensional_query'><p><code>dimensional_query</code> S3 class</p></a></li>
<li><a href='#new_fact_table'><p><code>fact_table</code> S3 class</p></a></li>
<li><a href='#new_multistar'><p><code>multistar</code> S3 class</p></a></li>
<li><a href='#new_record_update'><p>record_update S3 class</p></a></li>
<li><a href='#new_record_update_set'><p>record_update_set S3 class</p></a></li>
<li><a href='#new_star_schema'><p>star_schema S3 class</p></a></li>
<li><a href='#prepare_join'><p>Transform a <code>tibble</code> to join</p></a></li>
<li><a href='#purge_dimensions_constellation'><p>Purge dimensions in a constellation</p></a></li>
<li><a href='#purge_dimensions_star_schema'><p>Purge dimensions</p></a></li>
<li><a href='#record_update_set'><p><code>record_update_set</code> S3 class</p></a></li>
<li><a href='#reference_dimension'><p>Reference a dimension</p></a></li>
<li><a href='#remove_duplicate_dimension_rows'><p>Remove duplicate dimension rows</p></a></li>
<li><a href='#rename_dimension'><p>Rename dimension</p></a></li>
<li><a href='#rename_dimension_attributes'><p>Rename dimension attributes</p></a></li>
<li><a href='#rename_fact'><p>Rename fact</p></a></li>
<li><a href='#rename_measures'><p>Rename measures</p></a></li>
<li><a href='#replace_dimension'><p>Replace a star schema dimension</p></a></li>
<li><a href='#replace_dimension_in_facts'><p>Replace in facts a star schema dimension</p></a></li>
<li><a href='#replace_general_dimension_in_facts'><p>Replace in facts a star schema general dimension</p></a></li>
<li><a href='#replace_records'><p>Replace records</p></a></li>
<li><a href='#replace_role_dimension_in_facts'><p>Replace in facts a star schema role dimension</p></a></li>
<li><a href='#role_dimension'><p>Transform a dimension into a role dimension</p></a></li>
<li><a href='#role_playing_dimension'><p>Define a role playing dimension in a <code>star_schema</code> object</p></a></li>
<li><a href='#run_query'><p>Run query</p></a></li>
<li><a href='#select_dimension'><p>Select dimension</p></a></li>
<li><a href='#select_fact'><p>Select fact</p></a></li>
<li><a href='#selection_bit_map'><p>Generate a record selection bitmap</p></a></li>
<li><a href='#set_dimension_name'><p>Set the dimension name</p></a></li>
<li><a href='#set_dimension_type'><p>Set the dimension type</p></a></li>
<li><a href='#set_dimension_type_conformed'><p>Set the type of a conformed dimension</p></a></li>
<li><a href='#set_dimension_type_role_playing'><p>Set the type of a role-playing dimension</p></a></li>
<li><a href='#set_fact_name'><p>Set fact name</p></a></li>
<li><a href='#set_role_playing_dimension_name'><p>Set the associated role-playing dimension name</p></a></li>
<li><a href='#snake_case'><p>Transform names according to the snake case style</p></a></li>
<li><a href='#snake_case_dimension'><p>Transform names according to the snake case style in a dimension</p></a></li>
<li><a href='#snake_case_fact'><p>Transform names according to the snake case style in a fact table</p></a></li>
<li><a href='#st_mrs_age'><p>Star Schema for Mortality Reporting System by Age</p></a></li>
<li><a href='#st_mrs_age_test'><p>Star Schema for Mortality Reporting System by Age Test</p></a></li>
<li><a href='#st_mrs_age_w_test'><p>Star Schema for Mortality Reporting System by Age for Week Test</p></a></li>
<li><a href='#st_mrs_age_w10'><p>Star Schema for Mortality Reporting System by Age for Week 10</p></a></li>
<li><a href='#st_mrs_age_w11'><p>Star Schema for Mortality Reporting System by Age for Week 11</p></a></li>
<li><a href='#st_mrs_cause'><p>Star Schema for Mortality Reporting System by Cause</p></a></li>
<li><a href='#st_mrs_cause_test'><p>Star Schema for Mortality Reporting System by Cause Test</p></a></li>
<li><a href='#st_mrs_cause_w_test'><p>Star Schema for Mortality Reporting System by Cause for Week Test</p></a></li>
<li><a href='#st_mrs_cause_w10'><p>Star Schema for Mortality Reporting System by Cause for Week 10</p></a></li>
<li><a href='#st_mrs_cause_w11'><p>Star Schema for Mortality Reporting System by Cause for Week 11</p></a></li>
<li><a href='#star_schema'><p><code>star_schema</code> S3 class</p></a></li>
<li><a href='#star_schema_as_flat_table'><p>Export a star schema as a flat table</p></a></li>
<li><a href='#star_schema_as_mst'><p>Star schema as <code>multistar</code> export (common)</p></a></li>
<li><a href='#star_schema_as_multistar'><p>Export a star schema as a <code>multistar</code></p></a></li>
<li><a href='#star_schema_as_tibble_list'><p>Export a star schema as a <code>tibble</code> list</p></a></li>
<li><a href='#star_schema_as_tl'><p>Export a star schema as a <code>tibble</code> list (common)</p></a></li>
<li><a href='#typed_value'><p>Transform a value according to its type</p></a></li>
<li><a href='#unify_facts_by_grain'><p>Unify facts by grain</p></a></li>
<li><a href='#union_of_dimensions'><p>Perform union of dimensions</p></a></li>
<li><a href='#update_dimension'><p>Apply dimension record update operations to a dimension</p></a></li>
<li><a href='#update_dimensions'><p>Apply update operations to dimensions</p></a></li>
<li><a href='#update_facts_with_dimensions'><p>Update facts with a list of modified dimensions</p></a></li>
<li><a href='#update_facts_with_general_dimension'><p>Update facts with a general dimension</p></a></li>
<li><a href='#update_facts_with_role_dimension'><p>Update facts with a role dimension</p></a></li>
<li><a href='#update_record'><p>Update a dimension record with a set of values</p></a></li>
<li><a href='#update_selection'><p>Update dimension records with a set of values</p></a></li>
<li><a href='#update_selection_general'><p>Update dimension records with a set of values in given columns</p></a></li>
<li><a href='#updates_st_mrs_age'><p>Updates for the Star Schema for Mortality Reporting System by Age</p></a></li>
<li><a href='#updates_st_mrs_age_test'><p>Updates for the Star Schema for Mortality Reporting System by Age Test</p></a></li>
<li><a href='#validate_names'><p>Validate names</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Obtaining Stars from Flat Tables</td>
</tr>
<tr>
<td>Version:</td>
<td>1.2.5</td>
</tr>
<tr>
<td>Description:</td>
<td>Data in multidimensional systems is obtained from operational
    systems and is transformed to adapt it to the new structure.
    Frequently, the operations to be performed aim to transform a flat
    table into a star schema. Transformations can be carried out using
    professional extract, transform and load tools or tools intended for
    data transformation for end users. With the tools mentioned, this
    transformation can be carried out, but it requires a lot of work. The
    main objective of this package is to define transformations that allow
    obtaining stars from flat tables easily. In addition, it includes
    basic data cleaning, dimension enrichment, incremental data refresh
    and query operations, adapted to this context.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://josesamos.github.io/starschemar/">https://josesamos.github.io/starschemar/</a>,
<a href="https://github.com/josesamos/starschemar">https://github.com/josesamos/starschemar</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/josesamos/starschemar/issues">https://github.com/josesamos/starschemar/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr, generics, methods, purrr, rlang, snakecase, stats,
tibble, tidyr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, pander, rmarkdown, testthat</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-GB</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-05-02 05:44:57 UTC; joses</td>
</tr>
<tr>
<td>Author:</td>
<td>Jose Samos <a href="https://orcid.org/0000-0002-4457-3439"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre],
  Universidad de Granada [cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jose Samos &lt;jsamos@ugr.es&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-05-02 06:10:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='starschemar'>Obtaining Star Schemas from Flat Tables</h2><span id='topic+starschemar'></span><span id='topic+starschemar-package'></span><span id='topic+_PACKAGE'></span>

<h3>Description</h3>

<p>Transformations that allow obtaining star schemas from flat tables.
</p>


<h3>Details</h3>

<p>From flat tables star schemas can be defined that can form constellations
(<em>star schema and constellation definition functions</em>). Dimensions contain
data without duplicates, operations to do data cleaning can be applied on
them (<em>data cleaning functions</em>). Dimensions can be enriched by adding
additional columns, sometimes using functions, others explicitly defined by
the user (<em>dimension enrichment functions</em>). When new data is obtained, it is
necessary to refresh the existing data with them by means of incremental
refresh operations or delete data that is no longer necessary (<em>incremental
refresh functions</em>). Finally, the results obtained can be exported to be
consulted with other tools (<em>results export functions</em>) or through the
defined query functions (<em>query functions</em>).
</p>


<h3>Star schema and constellation definition</h3>

<p>Starting from a flat
table, a dimensional model is defined specifying the attributes that make
up each of the dimensions and the measurements in the facts. The result is
a <code>dimensional_model</code> object. It is carried out through the following
<em>dimensional model definition functions</em>:
</p>

<ul>
<li> <p><code><a href="#topic+dimensional_model">dimensional_model()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+define_dimension">define_dimension()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+define_fact">define_fact()</a></code>
</p>
</li></ul>

<p>A star schema is defined from a flat table and a dimensional model
definition. Once defined, a star schema can be transformed by defining role
playing dimensions, changing the writing style of element names or the type
of dimension attributes. These operations are carried out through the
following <em>star schema definition and transformation functions</em>:
</p>

<ul>
<li> <p><code><a href="#topic+star_schema">star_schema()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+role_playing_dimension">role_playing_dimension()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+snake_case">snake_case()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+character_dimensions">character_dimensions()</a></code>
</p>
</li></ul>

<p>Once a star schema is defined, we can rename its elements. It is necessary to
be able to rename attributes of dimensions and measures of facts because the
definition operations only allowed us to select columns of a flat table. For
completeness also dimensions and facts can be renamed. To carry out these
operations, the following <em>star schema rename functions</em> are available:
</p>

<ul>
<li> <p><code><a href="#topic+rename_dimension">rename_dimension()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+get_dimension_attribute_names">get_dimension_attribute_names()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+rename_dimension_attributes">rename_dimension_attributes()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+rename_fact">rename_fact()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+get_measure_names">get_measure_names()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+rename_measures">rename_measures()</a></code>
</p>
</li></ul>

<p>Based on various star schemas, a constellation can be defined in which star
schemas share common dimensions. Dimensions with the same name must be
shared. It is defined by the following <em>constellation definition function</em>:
</p>

<ul>
<li> <p><code><a href="#topic+constellation">constellation()</a></code>
</p>
</li></ul>



<h3>Data cleaning</h3>

<p>Once the star schemas and constellations are defined,
data cleaning operations can be carried out on dimensions. There are three
groups of functions: one to obtain dimensions of star schemas and
constellations; another to define data cleaning operations over dimensions;
and one more to apply operations to star schemas or constellations.
</p>
<p><em>Obtaining dimensions</em>:
</p>

<ul>
<li> <p><code><a href="#topic+get_dimension_names">get_dimension_names()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+get_dimension">get_dimension()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+get_conformed_dimension_names">get_conformed_dimension_names()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+get_conformed_dimension">get_conformed_dimension()</a></code>
</p>
</li></ul>

<p><em>Update definition functions</em>:
</p>

<ul>
<li> <p><code><a href="#topic+record_update_set">record_update_set()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+match_records">match_records()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+update_record">update_record()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+update_selection">update_selection()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+update_selection_general">update_selection_general()</a></code>
</p>
</li></ul>

<p><em>Modification application functions</em>:
</p>

<ul>
<li> <p><code><a href="#topic+modify_dimension_records">modify_dimension_records()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+modify_conformed_dimension_records">modify_conformed_dimension_records()</a></code>
</p>
</li></ul>



<h3>Dimension enrichment</h3>

<p>To enrich a dimension with new attributes
related to others already included in it, first, we export the attributes
on which the new ones depend, then we define the new attributes, and import
the table with all the attributes to be added to the dimension.
</p>

<ul>
<li> <p><code><a href="#topic+enrich_dimension_export">enrich_dimension_export()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+enrich_dimension_import">enrich_dimension_import()</a></code>
</p>
</li></ul>



<h3>Incremental refresh</h3>

<p>When new data is obtained, an incremental
refresh of the data can be carried out, both of the dimensions and of the
facts. Incremental refresh can be applied to both star schema and
constellation, using the following functions:
</p>

<ul>
<li> <p><code><a href="#topic+incremental_refresh_star_schema">incremental_refresh_star_schema()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+incremental_refresh_constellation">incremental_refresh_constellation()</a></code>
</p>
</li></ul>

<p>Sometimes the data refresh consists of eliminating data that is no longer
necessary, generally because it corresponds to a period that has stopped
being analysed but it can also be for other reasons. This data can be
selected using the following function:
</p>

<ul>
<li> <p><code><a href="#topic+filter_fact_rows">filter_fact_rows()</a></code>
</p>
</li></ul>

<p>Once the fact data is removed (using the other incremental refresh
functions), we can remove the data for the dimensions that are no longer
needed using the following functions:
</p>

<ul>
<li> <p><code><a href="#topic+purge_dimensions_star_schema">purge_dimensions_star_schema()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+purge_dimensions_constellation">purge_dimensions_constellation()</a></code>
</p>
</li></ul>



<h3>Results export</h3>

<p>Once the data has been properly structured and
transformed, it can be exported to be consulted with other tools or with R.
Various export formats have been defined, both for star schemas and for
constellations, using the following functions:
</p>

<ul>
<li> <p><code><a href="#topic+star_schema_as_flat_table">star_schema_as_flat_table()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+star_schema_as_multistar">star_schema_as_multistar()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+star_schema_as_tibble_list">star_schema_as_tibble_list()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+constellation_as_multistar">constellation_as_multistar()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+constellation_as_tibble_list">constellation_as_tibble_list()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+multistar_as_flat_table">multistar_as_flat_table()</a></code>
</p>
</li></ul>



<h3>Query functions</h3>

<p>There are many multidimensional query tools
available. The exported data, once stored in files, can be used directly
from them. Using the following functions, you can also perform basic
queries from R on data in the <code>multistar</code> format:
</p>

<ul>
<li> <p><code><a href="#topic+dimensional_query">dimensional_query()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+select_fact">select_fact()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+select_dimension">select_dimension()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+filter_dimension">filter_dimension()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+run_query">run_query()</a></code>
</p>
</li></ul>


<hr>
<h2 id='character_dimension'>Transform a dimension numeric attributes to character</h2><span id='topic+character_dimension'></span><span id='topic+character_dimension.dimension_table'></span>

<h3>Description</h3>

<p>Transforms numeric type attributes of a dimension into character type.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>character_dimension(
  dimension,
  length_integers = TRUE,
  NA_replacement_value = NULL
)

## S3 method for class 'dimension_table'
character_dimension(
  dimension,
  length_integers = TRUE,
  NA_replacement_value = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="character_dimension_+3A_dimension">dimension</code></td>
<td>
<p>A <code>dimension_table</code> object.</p>
</td></tr>
<tr><td><code id="character_dimension_+3A_length_integers">length_integers</code></td>
<td>
<p>A <code>list</code> of pairs name = length, for each attribute name its length.</p>
</td></tr>
<tr><td><code id="character_dimension_+3A_na_replacement_value">NA_replacement_value</code></td>
<td>
<p>A string, value to replace NA values.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It allows indicating the amplitude for some fields, filling with zeros on the
left: This is useful to make the alphabetical order of the result correspond
to the numerical order. It also allows indicating the literal to be used in
case the numerical value is not defined. For dates, for not defined values,
the value &quot;9999-12-31&quot; is assigned.
</p>


<h3>Value</h3>

<p>A <code>dimension_table</code> object.
</p>

<hr>
<h2 id='character_dimensions'>Transform dimension numeric attributes to character</h2><span id='topic+character_dimensions'></span><span id='topic+character_dimensions.star_schema'></span>

<h3>Description</h3>

<p>Transforms numeric type attributes of dimensions into character type. In a
<code>star_schema</code> numerical data are measurements that are situated in the facts.
Numerical data in dimensions are usually codes, day, week, month or year
numbers. There are tools that consider any numerical data to be a
measurement, for this reason it is appropriate to transform the numerical
data of dimensions into character data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>character_dimensions(st, length_integers = list(), NA_replacement_value = NULL)

## S3 method for class 'star_schema'
character_dimensions(st, length_integers = list(), NA_replacement_value = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="character_dimensions_+3A_st">st</code></td>
<td>
<p>A <code>star_schema</code> object.</p>
</td></tr>
<tr><td><code id="character_dimensions_+3A_length_integers">length_integers</code></td>
<td>
<p>A <code>list</code> of pairs name = length, for each attribute name its length.</p>
</td></tr>
<tr><td><code id="character_dimensions_+3A_na_replacement_value">NA_replacement_value</code></td>
<td>
<p>A string, value to replace NA values.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It allows indicating the amplitude for some fields, filling with zeros on the
left. This is useful to make the alphabetical order of the result correspond
to the numerical order.
</p>
<p>It also allows indicating the literal to be used in case the numerical value
is not defined.
</p>
<p>If a role playing dimension has been defined, the transformation is performed
on it.
</p>


<h3>Value</h3>

<p>A <code>star_schema</code> object.
</p>


<h3>See Also</h3>

<p>Other star schema and constellation definition functions: 
<code><a href="#topic+constellation">constellation</a>()</code>,
<code><a href="#topic+role_playing_dimension">role_playing_dimension</a>()</code>,
<code><a href="#topic+snake_case">snake_case</a>()</code>,
<code><a href="#topic+star_schema">star_schema</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
st &lt;- star_schema(mrs_age_test, dm_mrs_age) |&gt;
  role_playing_dimension(
    dim_names = c("when", "when_available"),
    name = "When Common",
    attributes = c("date", "week", "year")
  ) |&gt;
  character_dimensions(length_integers = list(week = 2),
                       NA_replacement_value = "Unknown")

</code></pre>

<hr>
<h2 id='conform_all_dimensions'>Conform all dimensions of a constellation</h2><span id='topic+conform_all_dimensions'></span>

<h3>Description</h3>

<p>Conform all dimensions with the same name in the star schemas of a
constellation. If two dimensions have the same name in a constellation, they
must be conformed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>conform_all_dimensions(ct)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="conform_all_dimensions_+3A_ct">ct</code></td>
<td>
<p>A <code>constellation</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>constellation</code> object.
</p>

<hr>
<h2 id='conform_dimensions'>Conform dimensions of given name</h2><span id='topic+conform_dimensions'></span>

<h3>Description</h3>

<p>If two dimensions have the same name in a constellation, they must be
conformed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>conform_dimensions(ct, name = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="conform_dimensions_+3A_ct">ct</code></td>
<td>
<p>A <code>constellation</code> object.</p>
</td></tr>
<tr><td><code id="conform_dimensions_+3A_name">name</code></td>
<td>
<p>A string, name of the dimension.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>constellation</code> object.
</p>

<hr>
<h2 id='constellation'><code>constellation</code> S3 class</h2><span id='topic+constellation'></span>

<h3>Description</h3>

<p>Creates a <code>constellation</code> object from a list of <code>star_schema</code> objects. All
dimensions with the same name in the star schemas have to be conformable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>constellation(lst, name = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="constellation_+3A_lst">lst</code></td>
<td>
<p>A list of <code>star_schema</code> objects.</p>
</td></tr>
<tr><td><code id="constellation_+3A_name">name</code></td>
<td>
<p>A string.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>constellation</code> object.
</p>


<h3>See Also</h3>

<p>Other star schema and constellation definition functions: 
<code><a href="#topic+character_dimensions">character_dimensions</a>()</code>,
<code><a href="#topic+role_playing_dimension">role_playing_dimension</a>()</code>,
<code><a href="#topic+snake_case">snake_case</a>()</code>,
<code><a href="#topic+star_schema">star_schema</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ct &lt;- constellation(list(st_mrs_age, st_mrs_cause), name = "mrs")

</code></pre>

<hr>
<h2 id='constellation_as_multistar'>Export a constellation as a <code>multistar</code></h2><span id='topic+constellation_as_multistar'></span><span id='topic+constellation_as_multistar.constellation'></span>

<h3>Description</h3>

<p>Once we have refined the format or content of facts and dimensions, we can
obtain a <code>multistar</code>. A <code>multistar</code> only distinguishes between general and
conformed dimensions, each dimension has its own data. It can contain
multiple fact tables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>constellation_as_multistar(ct)

## S3 method for class 'constellation'
constellation_as_multistar(ct)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="constellation_as_multistar_+3A_ct">ct</code></td>
<td>
<p>A <code>constellation</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>multistar</code> object.
</p>


<h3>See Also</h3>

<p>Other results export functions: 
<code><a href="#topic+constellation_as_tibble_list">constellation_as_tibble_list</a>()</code>,
<code><a href="#topic+multistar_as_flat_table">multistar_as_flat_table</a>()</code>,
<code><a href="#topic+star_schema_as_flat_table">star_schema_as_flat_table</a>()</code>,
<code><a href="#topic+star_schema_as_multistar">star_schema_as_multistar</a>()</code>,
<code><a href="#topic+star_schema_as_tibble_list">star_schema_as_tibble_list</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ms &lt;- ct_mrs |&gt;
  constellation_as_multistar()

</code></pre>

<hr>
<h2 id='constellation_as_tibble_list'>Export a constellation as a <code>tibble</code> list</h2><span id='topic+constellation_as_tibble_list'></span><span id='topic+constellation_as_tibble_list.constellation'></span>

<h3>Description</h3>

<p>Once we have refined the format or content of facts and dimensions, we can
obtain a <code>tibble</code> list with them. Role playing dimensions can be optionally
included.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>constellation_as_tibble_list(ct, include_role_playing = FALSE)

## S3 method for class 'constellation'
constellation_as_tibble_list(ct, include_role_playing = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="constellation_as_tibble_list_+3A_ct">ct</code></td>
<td>
<p>A <code>constellation</code> object.</p>
</td></tr>
<tr><td><code id="constellation_as_tibble_list_+3A_include_role_playing">include_role_playing</code></td>
<td>
<p>A boolean.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of <code>tibble</code> objects.
</p>


<h3>See Also</h3>

<p>Other results export functions: 
<code><a href="#topic+constellation_as_multistar">constellation_as_multistar</a>()</code>,
<code><a href="#topic+multistar_as_flat_table">multistar_as_flat_table</a>()</code>,
<code><a href="#topic+star_schema_as_flat_table">star_schema_as_flat_table</a>()</code>,
<code><a href="#topic+star_schema_as_multistar">star_schema_as_multistar</a>()</code>,
<code><a href="#topic+star_schema_as_tibble_list">star_schema_as_tibble_list</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
tl &lt;- ct_mrs |&gt;
  constellation_as_tibble_list()

tl &lt;- ct_mrs |&gt;
  constellation_as_tibble_list(include_role_playing = TRUE)

</code></pre>

<hr>
<h2 id='ct_mrs'>Constellation for Mortality Reporting System</h2><span id='topic+ct_mrs'></span>

<h3>Description</h3>

<p>Constellation for the Mortality Reporting System considering age and cause
classification.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ct_mrs
</code></pre>


<h3>Format</h3>

<p>A <code>constellation</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Defined by:

ct_mrs &lt;- constellation(list(st_mrs_age, st_mrs_cause), name = "mrs")

</code></pre>

<hr>
<h2 id='ct_mrs_test'>Constellation for Mortality Reporting System Test</h2><span id='topic+ct_mrs_test'></span>

<h3>Description</h3>

<p>Constellation for the Mortality Reporting System considering age and cause
classification data test.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ct_mrs_test
</code></pre>


<h3>Format</h3>

<p>A <code>constellation</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Defined by:

ct_mrs_test &lt;-
  constellation(list(st_mrs_age_test, st_mrs_cause_test), name = "mrs_test")

</code></pre>

<hr>
<h2 id='define_dimension'>Define dimensions in a <code>dimensional_model</code> object</h2><span id='topic+define_dimension'></span><span id='topic+define_dimension.dimensional_model'></span>

<h3>Description</h3>

<p>To define a dimension in a <code>dimensional_model</code> object, we have to define its
name and the set of attributes that make it up.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>define_dimension(st, name = NULL, attributes = NULL)

## S3 method for class 'dimensional_model'
define_dimension(st, name = NULL, attributes = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="define_dimension_+3A_st">st</code></td>
<td>
<p>A <code>dimensional_model</code> object.</p>
</td></tr>
<tr><td><code id="define_dimension_+3A_name">name</code></td>
<td>
<p>A string, name of the dimension.</p>
</td></tr>
<tr><td><code id="define_dimension_+3A_attributes">attributes</code></td>
<td>
<p>A vector of attribute names.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To get a star schema (a <code>star_schema</code> object) we need a flat table
(implemented through a <code>tibble</code>) and a <code>dimensional_model</code> object. The
definition of dimensions in the <code>dimensional_model</code> object is made from the
flat table column names. Using the <code>dput</code> function we can list the column
names of the flat table so that we do not have to type their names.
</p>


<h3>Value</h3>

<p>A <code>dimensional_model</code> object.
</p>


<h3>See Also</h3>

<p>Other star definition functions: 
<code><a href="#topic+define_fact">define_fact</a>()</code>,
<code><a href="#topic+dimensional_model">dimensional_model</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# dput(colnames(mrs_age))
#
# c(
#   "Reception Year",
#   "Reception Week",
#   "Reception Date",
#   "Data Availability Year",
#   "Data Availability Week",
#   "Data Availability Date",
#   "Year",
#   "WEEK",
#   "Week Ending Date",
#   "REGION",
#   "State",
#   "City",
#   "Age Range",
#   "Deaths"
# )

dm &lt;- dimensional_model() |&gt;
  define_dimension(name = "When",
                   attributes = c("Week Ending Date",
                                  "WEEK",
                                  "Year")) |&gt;
  define_dimension(name = "When Available",
                   attributes = c("Data Availability Date",
                                  "Data Availability Week",
                                  "Data Availability Year")) |&gt;
  define_dimension(name = "Where",
                   attributes = c("REGION",
                                  "State",
                                  "City")) |&gt;
  define_dimension(name = "Who",
                   attributes = c("Age Range"))

</code></pre>

<hr>
<h2 id='define_fact'>Define facts in a <code>dimensional_model</code> object</h2><span id='topic+define_fact'></span><span id='topic+define_fact.dimensional_model'></span>

<h3>Description</h3>

<p>To define facts in a <code>dimensional_model</code> object, the essential data is a name
and a set of measurements that can be empty (does not have explicit
measurements). Associated with each measurement, an aggregation function is
required, which by default is SUM.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>define_fact(
  st,
  name = NULL,
  measures = NULL,
  agg_functions = NULL,
  nrow_agg = "nrow_agg"
)

## S3 method for class 'dimensional_model'
define_fact(
  st,
  name = NULL,
  measures = NULL,
  agg_functions = NULL,
  nrow_agg = "nrow_agg"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="define_fact_+3A_st">st</code></td>
<td>
<p>A <code>dimensional_model</code> object.</p>
</td></tr>
<tr><td><code id="define_fact_+3A_name">name</code></td>
<td>
<p>A string, name of the fact.</p>
</td></tr>
<tr><td><code id="define_fact_+3A_measures">measures</code></td>
<td>
<p>A vector of measure names.</p>
</td></tr>
<tr><td><code id="define_fact_+3A_agg_functions">agg_functions</code></td>
<td>
<p>A vector of aggregation function names. If none is
indicated, the default is SUM. Additionally they can be MAX or MIN.</p>
</td></tr>
<tr><td><code id="define_fact_+3A_nrow_agg">nrow_agg</code></td>
<td>
<p>A string, measurement name for the number of rows aggregated.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To get a star schema (a <code>star_schema</code> object) we need a flat table
(implemented through a <code>tibble</code>) and a <code>dimensional_model</code> object. The
definition of facts in the <code>dimensional_model</code> object is made from the flat
table column names. Using the <code>dput</code> function we can list the column names of
the flat table so that we do not have to type their names.
</p>
<p>Associated with each measurement there is an aggregation function that can be
SUM, MAX or MIN. Mean is not considered among the possible aggregation
functions: The reason is that calculating the mean by considering subsets of
data does not necessarily yield the mean of the total data.
</p>
<p>An additional measurement corresponding to the number of aggregated rows is
always added which, together with SUM, allows us to obtain the mean if
needed.
</p>


<h3>Value</h3>

<p>A <code>dimensional_model</code> object.
</p>


<h3>See Also</h3>

<p>Other star definition functions: 
<code><a href="#topic+define_dimension">define_dimension</a>()</code>,
<code><a href="#topic+dimensional_model">dimensional_model</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# dput(colnames(mrs_age))
#
# c(
#   "Reception Year",
#   "Reception Week",
#   "Reception Date",
#   "Data Availability Year",
#   "Data Availability Week",
#   "Data Availability Date",
#   "Year",
#   "WEEK",
#   "Week Ending Date",
#   "REGION",
#   "State",
#   "City",
#   "Age Range",
#   "Deaths"
# )

dm &lt;- dimensional_model() |&gt;
  define_fact(
    name = "mrs_age",
    measures = c("Deaths"),
    agg_functions = c("SUM"),
    nrow_agg = "nrow_agg"
  )

dm &lt;- dimensional_model() |&gt;
  define_fact(
    name = "mrs_age",
    measures = c("Deaths")
  )

dm &lt;- dimensional_model() |&gt;
  define_fact(name = "Factless fact")

</code></pre>

<hr>
<h2 id='define_selected_dimensions'>Define selected dimensions</h2><span id='topic+define_selected_dimensions'></span>

<h3>Description</h3>

<p>Include the selected dimensions and only the selected attributes in them.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>define_selected_dimensions(dq)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="define_selected_dimensions_+3A_dq">dq</code></td>
<td>
<p>A <code>dimensional_query</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>dimensional_query</code> object.
</p>

<hr>
<h2 id='define_selected_facts'>Define selected facts</h2><span id='topic+define_selected_facts'></span>

<h3>Description</h3>

<p>Measure names are stored as the names of the columns with the aggregation
functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>define_selected_facts(dq)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="define_selected_facts_+3A_dq">dq</code></td>
<td>
<p>A <code>dimensional_query</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>dimensional_query</code> object.
</p>

<hr>
<h2 id='delete_records'>Delete records</h2><span id='topic+delete_records'></span>

<h3>Description</h3>

<p>Delete records with the same primary key.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>delete_records(ft, ft_new, fk)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="delete_records_+3A_ft">ft</code></td>
<td>
<p>A <code>fact_table</code> object.</p>
</td></tr>
<tr><td><code id="delete_records_+3A_ft_new">ft_new</code></td>
<td>
<p>A <code>fact_table</code> object.</p>
</td></tr>
<tr><td><code id="delete_records_+3A_fk">fk</code></td>
<td>
<p>A vector of foreign key names.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>fact_table</code> object.
</p>

<hr>
<h2 id='delete_unused_foreign_keys'>Delete unused foreign keys</h2><span id='topic+delete_unused_foreign_keys'></span>

<h3>Description</h3>

<p>In facts, remove foreign keys from dimensions not included in the result.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>delete_unused_foreign_keys(dq)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="delete_unused_foreign_keys_+3A_dq">dq</code></td>
<td>
<p>A <code>dimensional_query</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>dimensional_query</code> object.
</p>

<hr>
<h2 id='dereference_dimension'>Dereference a dimension</h2><span id='topic+dereference_dimension'></span>

<h3>Description</h3>

<p>Given a dimension, transform the fact table so that the primary key of the
dimension (which is a foreign key in the fact table) is replaced by the other
attributes of the dimension.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dereference_dimension(ft, dimension, conversion = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dereference_dimension_+3A_ft">ft</code></td>
<td>
<p>A <code>fact_table</code> object.</p>
</td></tr>
<tr><td><code id="dereference_dimension_+3A_dimension">dimension</code></td>
<td>
<p>A <code>dimension_table</code> object.</p>
</td></tr>
<tr><td><code id="dereference_dimension_+3A_conversion">conversion</code></td>
<td>
<p>A boolean, indicates whether the attributes need to be
transformed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>fact_table</code> object.
</p>

<hr>
<h2 id='dimensional_model'><code>dimensional_model</code> S3 class</h2><span id='topic+dimensional_model'></span>

<h3>Description</h3>

<p>An empty <code>dimensional_model</code> object is created in which definition of facts
and dimensions can be added.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dimensional_model()
</code></pre>


<h3>Details</h3>

<p>To get a star schema (a <code>star_schema</code> object) we need a flat table
(implemented through a <code>tibble</code>) and a <code>dimensional_model</code> object. The
definition of facts and dimensions in the <code>dimensional_model</code> object is made
from the flat table columns. Each attribute can only appear once in the
definition.
</p>


<h3>Value</h3>

<p>A <code>dimensional_model</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+star_schema">star_schema</a></code>
</p>
<p>Other star definition functions: 
<code><a href="#topic+define_dimension">define_dimension</a>()</code>,
<code><a href="#topic+define_fact">define_fact</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
dm &lt;- dimensional_model()

</code></pre>

<hr>
<h2 id='dimensional_query'><code>dimensional_query</code> S3 class</h2><span id='topic+dimensional_query'></span>

<h3>Description</h3>

<p>An empty <code>dimensional_query</code> object is created where you can select fact
measures, dimension attributes and filter dimension rows.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dimensional_query(ms = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dimensional_query_+3A_ms">ms</code></td>
<td>
<p>A <code>multistar</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>dimensional_query</code> object.
</p>


<h3>See Also</h3>

<p>Other query functions: 
<code><a href="#topic+filter_dimension">filter_dimension</a>()</code>,
<code><a href="#topic+run_query">run_query</a>()</code>,
<code><a href="#topic+select_dimension">select_dimension</a>()</code>,
<code><a href="#topic+select_fact">select_fact</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# ms_mrs &lt;- ct_mrs |&gt;
#  constellation_as_multistar()

# dq &lt;- dimensional_query(ms_mrs)

</code></pre>

<hr>
<h2 id='dm_mrs_age'>Star Definition for Mortality Reporting System by Age</h2><span id='topic+dm_mrs_age'></span>

<h3>Description</h3>

<p>Definition of facts and dimensions for the Mortality Reporting System
considering the age classification.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dm_mrs_age
</code></pre>


<h3>Format</h3>

<p>A <code>dimensional_model</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Defined by:

dm_mrs_age &lt;- dimensional_model() |&gt;
  define_fact(
    name = "mrs_age",
    measures = c(
      "Deaths"
    ),
    agg_functions = c(
      "SUM"
    ),
    nrow_agg = "nrow_agg"
  ) |&gt;
  define_dimension(
    name = "when",
    attributes = c(
      "Week Ending Date",
      "WEEK",
      "Year"
    )
  ) |&gt;
  define_dimension(
    name = "when_available",
    attributes = c(
      "Data Availability Date",
      "Data Availability Week",
      "Data Availability Year"
    )
  ) |&gt;
  define_dimension(
    name = "where",
    attributes = c(
      "REGION",
      "State",
      "City"
    )
  ) |&gt;
  define_dimension(
    name = "who",
    attributes = c(
      "Age Range"
    )
  )

</code></pre>

<hr>
<h2 id='dm_mrs_cause'>Star Definition for Mortality Reporting System by Cause</h2><span id='topic+dm_mrs_cause'></span>

<h3>Description</h3>

<p>Definition of facts and dimensions for the Mortality Reporting System
considering the cause classification.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dm_mrs_cause
</code></pre>


<h3>Format</h3>

<p>A <code>dimensional_model</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Defined by:

dm_mrs_cause &lt;- dimensional_model() |&gt;
  define_fact(
    name = "mrs_cause",
    measures = c(
      "Pneumonia and Influenza Deaths",
      "Other Deaths"
    ),
  ) |&gt;
  define_dimension(
    name = "when",
    attributes = c(
      "Week Ending Date",
      "WEEK",
      "Year"
    )
  ) |&gt;
  define_dimension(
    name = "when_received",
    attributes = c(
      "Reception Date",
      "Reception Week",
      "Reception Year"
    )
  ) |&gt;
  define_dimension(
    name = "when_available",
    attributes = c(
      "Data Availability Date",
      "Data Availability Week",
      "Data Availability Year"
    )
  ) |&gt;
  define_dimension(
    name = "where",
    attributes = c(
      "REGION",
      "State",
      "City"
    )
  )

</code></pre>

<hr>
<h2 id='enrich_dimension_export'>Export selected attributes of a dimension</h2><span id='topic+enrich_dimension_export'></span><span id='topic+enrich_dimension_export.star_schema'></span>

<h3>Description</h3>

<p>Export the selected attributes of a dimension, without repeated combinations,
to enrich the dimension.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>enrich_dimension_export(st, name = NULL, attributes = NULL)

## S3 method for class 'star_schema'
enrich_dimension_export(st, name = NULL, attributes = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="enrich_dimension_export_+3A_st">st</code></td>
<td>
<p>A <code>star_schema</code> object.</p>
</td></tr>
<tr><td><code id="enrich_dimension_export_+3A_name">name</code></td>
<td>
<p>A string, name of the dimension.</p>
</td></tr>
<tr><td><code id="enrich_dimension_export_+3A_attributes">attributes</code></td>
<td>
<p>A vector of attribute names.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If it is a role dimension they cannot be exported, you have to work with the
associated role playing dimension.
</p>


<h3>Value</h3>

<p>A <code>tibble</code> object.
</p>


<h3>See Also</h3>

<p>Other dimension enrichment functions: 
<code><a href="#topic+enrich_dimension_import">enrich_dimension_import</a>()</code>,
<code><a href="#topic+enrich_dimension_import_test">enrich_dimension_import_test</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
tb &lt;-
  enrich_dimension_export(st_mrs_age,
                          name = "when_common",
                          attributes = c("week", "year"))

</code></pre>

<hr>
<h2 id='enrich_dimension_import'>Import <code>tibble</code> to enrich a dimension</h2><span id='topic+enrich_dimension_import'></span><span id='topic+enrich_dimension_import.star_schema'></span>

<h3>Description</h3>

<p>For a dimension of a star schema a <code>tibble</code> is attached. This contains
dimension attributes and new attributes. If values associated with all rows
in the dimension are included in the <code>tibble</code>, the dimension is enriched with
the new attributes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>enrich_dimension_import(st, name = NULL, tb)

## S3 method for class 'star_schema'
enrich_dimension_import(st, name = NULL, tb)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="enrich_dimension_import_+3A_st">st</code></td>
<td>
<p>A <code>star_schema</code> object.</p>
</td></tr>
<tr><td><code id="enrich_dimension_import_+3A_name">name</code></td>
<td>
<p>A string, name of the dimension.</p>
</td></tr>
<tr><td><code id="enrich_dimension_import_+3A_tb">tb</code></td>
<td>
<p>A <code>tibble</code> object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Role dimensions cannot be directly enriched. If a role playing dimension is
enriched, the new attributes are also added to the associated role
dimensions.
</p>


<h3>Value</h3>

<p>A <code>star_schema</code> object.
</p>


<h3>See Also</h3>

<p>Other dimension enrichment functions: 
<code><a href="#topic+enrich_dimension_export">enrich_dimension_export</a>()</code>,
<code><a href="#topic+enrich_dimension_import_test">enrich_dimension_import_test</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
tb &lt;-
  enrich_dimension_export(st_mrs_age,
                          name = "when_common",
                          attributes = c("week", "year"))

# Add new columns with meaningful data (these are not), possibly exporting
# data to a file, populating it and importing it.
tb &lt;- tibble::add_column(tb, x = "x", y = "y", z = "z")

st &lt;- enrich_dimension_import(st_mrs_age, name = "when_common", tb)

</code></pre>

<hr>
<h2 id='enrich_dimension_import_test'>Import <code>tibble</code> to test to enrich a dimension</h2><span id='topic+enrich_dimension_import_test'></span><span id='topic+enrich_dimension_import_test.star_schema'></span>

<h3>Description</h3>

<p>For a dimension of a star schema a <code>tibble</code> is attached. This contains
dimension attributes and new attributes. If values associated with all rows
in the dimension are included in the <code>tibble</code>, the dimension is enriched with
the new attributes. This function checks that there are values for all
instances. Returns the dimension instances that do not match the imported
data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>enrich_dimension_import_test(st, name = NULL, tb)

## S3 method for class 'star_schema'
enrich_dimension_import_test(st, name = NULL, tb)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="enrich_dimension_import_test_+3A_st">st</code></td>
<td>
<p>A <code>star_schema</code> object.</p>
</td></tr>
<tr><td><code id="enrich_dimension_import_test_+3A_name">name</code></td>
<td>
<p>A string, name of the dimension.</p>
</td></tr>
<tr><td><code id="enrich_dimension_import_test_+3A_tb">tb</code></td>
<td>
<p>A <code>tibble</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>dimension</code> object.
</p>


<h3>See Also</h3>

<p>Other dimension enrichment functions: 
<code><a href="#topic+enrich_dimension_export">enrich_dimension_export</a>()</code>,
<code><a href="#topic+enrich_dimension_import">enrich_dimension_import</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
tb &lt;-
  enrich_dimension_export(st_mrs_age,
                          name = "when_common",
                          attributes = c("week", "year"))

# Add new columns with meaningful data (these are not), possibly exporting
# data to a file, populating it and importing it.
tb &lt;- tibble::add_column(tb, x = "x", y = "y", z = "z")[-1, ]

tb2 &lt;- enrich_dimension_import_test(st_mrs_age, name = "when_common", tb)

</code></pre>

<hr>
<h2 id='filter_dimension'>Filter dimension</h2><span id='topic+filter_dimension'></span><span id='topic+filter_dimension.dimensional_query'></span>

<h3>Description</h3>

<p>Allows you to define selection conditions for dimension rows.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>filter_dimension(dq, name = NULL, ...)

## S3 method for class 'dimensional_query'
filter_dimension(dq, name = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="filter_dimension_+3A_dq">dq</code></td>
<td>
<p>A <code>dimensional_query</code> object.</p>
</td></tr>
<tr><td><code id="filter_dimension_+3A_name">name</code></td>
<td>
<p>A string, name of the dimension.</p>
</td></tr>
<tr><td><code id="filter_dimension_+3A_...">...</code></td>
<td>
<p>Conditions, defined in exactly the same way as in <code>dplyr::filter</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Conditions can be defined on any attribute of the dimension (not only on
attributes selected in the query for the dimension). The selection is made
based on the function <code>dplyr::filter</code>. Conditions are defined in exactly the
same way as in that function.
</p>


<h3>Value</h3>

<p>A <code>dimensional_query</code> object.
</p>


<h3>See Also</h3>

<p>Other query functions: 
<code><a href="#topic+dimensional_query">dimensional_query</a>()</code>,
<code><a href="#topic+run_query">run_query</a>()</code>,
<code><a href="#topic+select_dimension">select_dimension</a>()</code>,
<code><a href="#topic+select_fact">select_fact</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
dq &lt;- dimensional_query(ms_mrs) |&gt;
  filter_dimension(name = "when", when_happened_week &lt;= "03") |&gt;
  filter_dimension(name = "where", city == "Boston")

</code></pre>

<hr>
<h2 id='filter_fact_rows'>Filter fact rows</h2><span id='topic+filter_fact_rows'></span><span id='topic+filter_fact_rows.star_schema'></span>

<h3>Description</h3>

<p>Filter fact rows based on dimension conditions in a star schema. Dimensions
remain unchanged.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>filter_fact_rows(st, name = NULL, ...)

## S3 method for class 'star_schema'
filter_fact_rows(st, name = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="filter_fact_rows_+3A_st">st</code></td>
<td>
<p>A <code>star_schema</code> object.</p>
</td></tr>
<tr><td><code id="filter_fact_rows_+3A_name">name</code></td>
<td>
<p>A string, name of the dimension.</p>
</td></tr>
<tr><td><code id="filter_fact_rows_+3A_...">...</code></td>
<td>
<p>Conditions, defined in exactly the same way as in <code>dplyr::filter</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Filtered rows can be deleted using the <code>incremental_refresh_star_schema</code>
function.
</p>


<h3>Value</h3>

<p>A <code>star_schema</code> object.
</p>


<h3>See Also</h3>

<p>Other incremental refresh functions: 
<code><a href="#topic+get_star_schema">get_star_schema</a>()</code>,
<code><a href="#topic+get_star_schema_names">get_star_schema_names</a>()</code>,
<code><a href="#topic+incremental_refresh_constellation">incremental_refresh_constellation</a>()</code>,
<code><a href="#topic+incremental_refresh_star_schema">incremental_refresh_star_schema</a>()</code>,
<code><a href="#topic+purge_dimensions_constellation">purge_dimensions_constellation</a>()</code>,
<code><a href="#topic+purge_dimensions_star_schema">purge_dimensions_star_schema</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
st &lt;- st_mrs_age |&gt;
  filter_fact_rows(name = "when", week &lt;= "03") |&gt;
  filter_fact_rows(name = "where", city == "Bridgeport")

st2 &lt;- st_mrs_age |&gt;
  incremental_refresh_star_schema(st, existing = "delete")

</code></pre>

<hr>
<h2 id='filter_selected_instances'>Filter selected instances</h2><span id='topic+filter_selected_instances'></span>

<h3>Description</h3>

<p>For some dimensions the instances to include have been defined, we have the
value of the primary key. They are filtered for both facts and dimensions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>filter_selected_instances(dq)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="filter_selected_instances_+3A_dq">dq</code></td>
<td>
<p>A <code>dimensional_query</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>dimensional_query</code> object.
</p>

<hr>
<h2 id='find_values'>Find values in a dimension</h2><span id='topic+find_values'></span>

<h3>Description</h3>

<p>Find a vector of named values in a dimension.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find_values(dimension, values)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="find_values_+3A_dimension">dimension</code></td>
<td>
<p>A <code>dimension_table</code> object.</p>
</td></tr>
<tr><td><code id="find_values_+3A_values">values</code></td>
<td>
<p>A vector of named values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of boolean.
</p>

<hr>
<h2 id='ft_datagov_uk'>Modelling the long-term health impacts of air pollution in London</h2><span id='topic+ft_datagov_uk'></span>

<h3>Description</h3>

<p>Estimation of the long-term health impacts of exposure to air pollution in
London from 2016 to 2050.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ft_datagov_uk
</code></pre>


<h3>Format</h3>

<p>A <code>tibble</code>.
</p>


<h3>Details</h3>

<p>The original dataset contains 68 files, corresponding to 34 London areas and
2 pollutants: pollutant and zone are indicated in the name of each file. Each
file has several sheets with different variables. It has been transformed
into a flat table considering a single variable and defining the area and the
pollutant as columns.
</p>


<h3>Source</h3>

<p><a href="https://data.world/datagov-uk/fd864906-8456-46a8-9a01-0dcb2dbd87b9">https://data.world/datagov-uk/fd864906-8456-46a8-9a01-0dcb2dbd87b9</a>
</p>

<hr>
<h2 id='ft_london_boroughs'>London Boroughs</h2><span id='topic+ft_london_boroughs'></span>

<h3>Description</h3>

<p>Classification of London's boroughs into zones and sub-regions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ft_london_boroughs
</code></pre>


<h3>Format</h3>

<p>A <code>tibble</code>.
</p>


<h3>Source</h3>

<p><a href="https://en.wikipedia.org/wiki/List_of_sub-regions_used_in_the_London_Plan">https://en.wikipedia.org/wiki/List_of_sub-regions_used_in_the_London_Plan</a>
</p>

<hr>
<h2 id='ft_usa_city_county'>USA City and County</h2><span id='topic+ft_usa_city_county'></span>

<h3>Description</h3>

<p>City, state and county for US cities. It only includes those that appear in
the Mortality Reporting System.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ft_usa_city_county
</code></pre>


<h3>Format</h3>

<p>A <code>tibble</code>.
</p>


<h3>Source</h3>

<p><a href="https://www.census.gov/geographies/mapping-files/time-series/geo/carto-boundary-file.html">https://www.census.gov/geographies/mapping-files/time-series/geo/carto-boundary-file.html</a>
</p>

<hr>
<h2 id='ft_usa_states'>USA States</h2><span id='topic+ft_usa_states'></span>

<h3>Description</h3>

<p>Name and abbreviation of US states.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ft_usa_states
</code></pre>


<h3>Format</h3>

<p>A <code>tibble</code>.
</p>


<h3>Source</h3>

<p><a href="https://www.census.gov/geographies/mapping-files/time-series/geo/carto-boundary-file.html">https://www.census.gov/geographies/mapping-files/time-series/geo/carto-boundary-file.html</a>
</p>

<hr>
<h2 id='get_all_dimensions'>Get all dimensions</h2><span id='topic+get_all_dimensions'></span>

<h3>Description</h3>

<p>Get all the dimensions of a star schema.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_all_dimensions(st)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_all_dimensions_+3A_st">st</code></td>
<td>
<p>A <code>star_schema</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of <code>dimension_table</code> objects.
</p>

<hr>
<h2 id='get_attribute_names'>Get attribute names</h2><span id='topic+get_attribute_names'></span>

<h3>Description</h3>

<p>Get the names of the attributes used so far in the definition.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_attribute_names(dm)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_attribute_names_+3A_dm">dm</code></td>
<td>
<p>A <code>dimensional_model</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of attribute names.
</p>

<hr>
<h2 id='get_conformed_dimension'>Get conformed dimension</h2><span id='topic+get_conformed_dimension'></span><span id='topic+get_conformed_dimension.constellation'></span>

<h3>Description</h3>

<p>Get a conformed dimension of a constellation given its name.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_conformed_dimension(ct, name)

## S3 method for class 'constellation'
get_conformed_dimension(ct, name)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_conformed_dimension_+3A_ct">ct</code></td>
<td>
<p>A <code>constellation</code> object.</p>
</td></tr>
<tr><td><code id="get_conformed_dimension_+3A_name">name</code></td>
<td>
<p>A string, name of the dimension.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>dimension_table</code> object.
</p>


<h3>See Also</h3>

<p>Other data cleaning functions: 
<code><a href="#topic+get_conformed_dimension_names">get_conformed_dimension_names</a>()</code>,
<code><a href="#topic+get_dimension">get_dimension</a>()</code>,
<code><a href="#topic+get_dimension_names">get_dimension_names</a>()</code>,
<code><a href="#topic+match_records">match_records</a>()</code>,
<code><a href="#topic+modify_conformed_dimension_records">modify_conformed_dimension_records</a>()</code>,
<code><a href="#topic+modify_dimension_records">modify_dimension_records</a>()</code>,
<code><a href="#topic+record_update_set">record_update_set</a>()</code>,
<code><a href="#topic+update_record">update_record</a>()</code>,
<code><a href="#topic+update_selection">update_selection</a>()</code>,
<code><a href="#topic+update_selection_general">update_selection_general</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
d &lt;- ct_mrs |&gt;
  get_conformed_dimension("when")

</code></pre>

<hr>
<h2 id='get_conformed_dimension_names'>Get conformed dimension names</h2><span id='topic+get_conformed_dimension_names'></span><span id='topic+get_conformed_dimension_names.constellation'></span>

<h3>Description</h3>

<p>Get the names of the conformed dimensions of a constellation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_conformed_dimension_names(ct)

## S3 method for class 'constellation'
get_conformed_dimension_names(ct)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_conformed_dimension_names_+3A_ct">ct</code></td>
<td>
<p>A <code>constellation</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of dimension names.
</p>


<h3>See Also</h3>

<p>Other data cleaning functions: 
<code><a href="#topic+get_conformed_dimension">get_conformed_dimension</a>()</code>,
<code><a href="#topic+get_dimension">get_dimension</a>()</code>,
<code><a href="#topic+get_dimension_names">get_dimension_names</a>()</code>,
<code><a href="#topic+match_records">match_records</a>()</code>,
<code><a href="#topic+modify_conformed_dimension_records">modify_conformed_dimension_records</a>()</code>,
<code><a href="#topic+modify_dimension_records">modify_dimension_records</a>()</code>,
<code><a href="#topic+record_update_set">record_update_set</a>()</code>,
<code><a href="#topic+update_record">update_record</a>()</code>,
<code><a href="#topic+update_selection">update_selection</a>()</code>,
<code><a href="#topic+update_selection_general">update_selection_general</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
d &lt;- ct_mrs |&gt;
  get_conformed_dimension_names()

</code></pre>

<hr>
<h2 id='get_conformed_dimension_names_st'>Get conformed dimension names</h2><span id='topic+get_conformed_dimension_names_st'></span><span id='topic+get_conformed_dimension_names_st.star_schema'></span>

<h3>Description</h3>

<p>Get the names of the star schema conformed dimensions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_conformed_dimension_names_st(st)

## S3 method for class 'star_schema'
get_conformed_dimension_names_st(st)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_conformed_dimension_names_st_+3A_st">st</code></td>
<td>
<p>A <code>star_schema</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of dimension names.
</p>

<hr>
<h2 id='get_dimension'>Get dimension</h2><span id='topic+get_dimension'></span><span id='topic+get_dimension.star_schema'></span>

<h3>Description</h3>

<p>Get a dimension of a star schema given its name.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_dimension(st, name)

## S3 method for class 'star_schema'
get_dimension(st, name)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_dimension_+3A_st">st</code></td>
<td>
<p>A <code>star_schema</code> object.</p>
</td></tr>
<tr><td><code id="get_dimension_+3A_name">name</code></td>
<td>
<p>A string, name of the dimension.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Role dimensions can be obtained but not role playing dimensions. Role
dimensions get their instances of role playing dimensions.
</p>


<h3>Value</h3>

<p>A <code>dimension_table</code> object.
</p>


<h3>See Also</h3>

<p>Other data cleaning functions: 
<code><a href="#topic+get_conformed_dimension">get_conformed_dimension</a>()</code>,
<code><a href="#topic+get_conformed_dimension_names">get_conformed_dimension_names</a>()</code>,
<code><a href="#topic+get_dimension_names">get_dimension_names</a>()</code>,
<code><a href="#topic+match_records">match_records</a>()</code>,
<code><a href="#topic+modify_conformed_dimension_records">modify_conformed_dimension_records</a>()</code>,
<code><a href="#topic+modify_dimension_records">modify_dimension_records</a>()</code>,
<code><a href="#topic+record_update_set">record_update_set</a>()</code>,
<code><a href="#topic+update_record">update_record</a>()</code>,
<code><a href="#topic+update_selection">update_selection</a>()</code>,
<code><a href="#topic+update_selection_general">update_selection_general</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
d &lt;- st_mrs_age |&gt;
  get_dimension("when")

</code></pre>

<hr>
<h2 id='get_dimension_attribute_names'>Get dimension attribute names</h2><span id='topic+get_dimension_attribute_names'></span><span id='topic+get_dimension_attribute_names.star_schema'></span>

<h3>Description</h3>

<p>Get the name of attributes in a dimension.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_dimension_attribute_names(st, name)

## S3 method for class 'star_schema'
get_dimension_attribute_names(st, name)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_dimension_attribute_names_+3A_st">st</code></td>
<td>
<p>A <code>star_schema</code> object.</p>
</td></tr>
<tr><td><code id="get_dimension_attribute_names_+3A_name">name</code></td>
<td>
<p>A string, name of the dimension.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of attribute names.
</p>


<h3>See Also</h3>

<p>Other rename functions: 
<code><a href="#topic+get_measure_names">get_measure_names</a>()</code>,
<code><a href="#topic+rename_dimension">rename_dimension</a>()</code>,
<code><a href="#topic+rename_dimension_attributes">rename_dimension_attributes</a>()</code>,
<code><a href="#topic+rename_fact">rename_fact</a>()</code>,
<code><a href="#topic+rename_measures">rename_measures</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
attribute_names &lt;-
  st_mrs_age |&gt; get_dimension_attribute_names("when")

</code></pre>

<hr>
<h2 id='get_dimension_name'>Get the dimension name</h2><span id='topic+get_dimension_name'></span><span id='topic+get_dimension_name.dimension_table'></span>

<h3>Description</h3>

<p>Returns the name of the dimension.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_dimension_name(dimension)

## S3 method for class 'dimension_table'
get_dimension_name(dimension)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_dimension_name_+3A_dimension">dimension</code></td>
<td>
<p>A <code>dimension_table</code> object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Attributes can be accessed directly but this function has been defined
because it is used from other classes and is thus done in a more controlled
way.
</p>


<h3>Value</h3>

<p>A string, name of the dimension.
</p>

<hr>
<h2 id='get_dimension_names'>Get dimension names</h2><span id='topic+get_dimension_names'></span><span id='topic+get_dimension_names.star_schema'></span>

<h3>Description</h3>

<p>Get the names of the dimensions of a star schema.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_dimension_names(st)

## S3 method for class 'star_schema'
get_dimension_names(st)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_dimension_names_+3A_st">st</code></td>
<td>
<p>A <code>star_schema</code> object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Role playing dimensions are not considered.
</p>


<h3>Value</h3>

<p>A vector of dimension names.
</p>


<h3>See Also</h3>

<p>Other data cleaning functions: 
<code><a href="#topic+get_conformed_dimension">get_conformed_dimension</a>()</code>,
<code><a href="#topic+get_conformed_dimension_names">get_conformed_dimension_names</a>()</code>,
<code><a href="#topic+get_dimension">get_dimension</a>()</code>,
<code><a href="#topic+match_records">match_records</a>()</code>,
<code><a href="#topic+modify_conformed_dimension_records">modify_conformed_dimension_records</a>()</code>,
<code><a href="#topic+modify_dimension_records">modify_dimension_records</a>()</code>,
<code><a href="#topic+record_update_set">record_update_set</a>()</code>,
<code><a href="#topic+update_record">update_record</a>()</code>,
<code><a href="#topic+update_selection">update_selection</a>()</code>,
<code><a href="#topic+update_selection_general">update_selection_general</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
dn &lt;- st_mrs_age |&gt;
  get_dimension_names()

</code></pre>

<hr>
<h2 id='get_dimension_type'>Get the dimension type</h2><span id='topic+get_dimension_type'></span><span id='topic+get_dimension_type.dimension_table'></span>

<h3>Description</h3>

<p>Returns the type of the dimension.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_dimension_type(dimension)

## S3 method for class 'dimension_table'
get_dimension_type(dimension)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_dimension_type_+3A_dimension">dimension</code></td>
<td>
<p>A <code>dimension_table</code> object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Attributes can be accessed directly but this function has been defined
because it is used from other classes and is thus done in a more controlled
way.
</p>


<h3>Value</h3>

<p>A string, type of the dimension.
</p>

<hr>
<h2 id='get_fact_name'>Get fact name</h2><span id='topic+get_fact_name'></span><span id='topic+get_fact_name.star_schema'></span>

<h3>Description</h3>

<p>Get the name of the fact table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_fact_name(st)

## S3 method for class 'star_schema'
get_fact_name(st)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_fact_name_+3A_st">st</code></td>
<td>
<p>A <code>star_schema</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string, name of the fact table.
</p>

<hr>
<h2 id='get_measure_names'>Get measure names</h2><span id='topic+get_measure_names'></span><span id='topic+get_measure_names.star_schema'></span>

<h3>Description</h3>

<p>Get the name of measures in facts.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_measure_names(st)

## S3 method for class 'star_schema'
get_measure_names(st)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_measure_names_+3A_st">st</code></td>
<td>
<p>A <code>star_schema</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of measure names.
</p>


<h3>See Also</h3>

<p>Other rename functions: 
<code><a href="#topic+get_dimension_attribute_names">get_dimension_attribute_names</a>()</code>,
<code><a href="#topic+rename_dimension">rename_dimension</a>()</code>,
<code><a href="#topic+rename_dimension_attributes">rename_dimension_attributes</a>()</code>,
<code><a href="#topic+rename_fact">rename_fact</a>()</code>,
<code><a href="#topic+rename_measures">rename_measures</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
measure_names &lt;-
  st_mrs_age |&gt; get_measure_names()

</code></pre>

<hr>
<h2 id='get_name_of_role_playing_dimensions'>Get the name of the role playing dimensions</h2><span id='topic+get_name_of_role_playing_dimensions'></span>

<h3>Description</h3>

<p>Get the name of the role playing dimensions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_name_of_role_playing_dimensions(st)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_name_of_role_playing_dimensions_+3A_st">st</code></td>
<td>
<p>A <code>star_schema</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of dimension names.
</p>

<hr>
<h2 id='get_name_of_uniquely_implemented_dimensions'>Get name of uniquely implemented dimensions</h2><span id='topic+get_name_of_uniquely_implemented_dimensions'></span>

<h3>Description</h3>

<p>Get a list of dimension names that are uniquely implemented.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_name_of_uniquely_implemented_dimensions(st)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_name_of_uniquely_implemented_dimensions_+3A_st">st</code></td>
<td>
<p>A <code>star_schema</code> object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For role dimensions that share role playing dimension, only one is
considered. Role playing dimensions are not considered.
</p>


<h3>Value</h3>

<p>A vector of dimension names.
</p>

<hr>
<h2 id='get_role_dimension_names'>Get role dimension names associated to a role-playing dimension</h2><span id='topic+get_role_dimension_names'></span>

<h3>Description</h3>

<p>Each role dimension has the name of the role-playing dimension associated.
This function allows us to obtain role dimension names for a role-playing
dimension.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_role_dimension_names(st, name)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_role_dimension_names_+3A_st">st</code></td>
<td>
<p>A <code>star_schema</code> object.</p>
</td></tr>
<tr><td><code id="get_role_dimension_names_+3A_name">name</code></td>
<td>
<p>A string, dimension name.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of dimension names.
</p>

<hr>
<h2 id='get_role_playing_dimension_name'>Get the associated role-playing dimension name</h2><span id='topic+get_role_playing_dimension_name'></span><span id='topic+get_role_playing_dimension_name.dimension_table'></span>

<h3>Description</h3>

<p>Each role dimension has the name of the role-playing dimension associated.
This function allows us to obtain its name.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_role_playing_dimension_name(dimension)

## S3 method for class 'dimension_table'
get_role_playing_dimension_name(dimension)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_role_playing_dimension_name_+3A_dimension">dimension</code></td>
<td>
<p>A <code>dimension_table</code> object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Attributes can be accessed directly but this function has been defined
because it is used from other classes and is thus done in a more controlled
way.
</p>


<h3>Value</h3>

<p>A string, name of the dimension.
</p>

<hr>
<h2 id='get_star_schema'>Get star schema</h2><span id='topic+get_star_schema'></span><span id='topic+get_star_schema.constellation'></span>

<h3>Description</h3>

<p>Get a star schema of a constellation given its name.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_star_schema(ct, name)

## S3 method for class 'constellation'
get_star_schema(ct, name)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_star_schema_+3A_ct">ct</code></td>
<td>
<p>A <code>constellation</code> object.</p>
</td></tr>
<tr><td><code id="get_star_schema_+3A_name">name</code></td>
<td>
<p>A string, name of the star schema.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>dimension_table</code> object.
</p>


<h3>See Also</h3>

<p>Other incremental refresh functions: 
<code><a href="#topic+filter_fact_rows">filter_fact_rows</a>()</code>,
<code><a href="#topic+get_star_schema_names">get_star_schema_names</a>()</code>,
<code><a href="#topic+incremental_refresh_constellation">incremental_refresh_constellation</a>()</code>,
<code><a href="#topic+incremental_refresh_star_schema">incremental_refresh_star_schema</a>()</code>,
<code><a href="#topic+purge_dimensions_constellation">purge_dimensions_constellation</a>()</code>,
<code><a href="#topic+purge_dimensions_star_schema">purge_dimensions_star_schema</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
d &lt;- ct_mrs |&gt;
  get_star_schema("mrs_age")

</code></pre>

<hr>
<h2 id='get_star_schema_names'>Get star schema names</h2><span id='topic+get_star_schema_names'></span><span id='topic+get_star_schema_names.constellation'></span>

<h3>Description</h3>

<p>Get the names of the star schemas in a constellation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_star_schema_names(ct)

## S3 method for class 'constellation'
get_star_schema_names(ct)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_star_schema_names_+3A_ct">ct</code></td>
<td>
<p>A <code>constellation</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of star schema names.
</p>


<h3>See Also</h3>

<p>Other incremental refresh functions: 
<code><a href="#topic+filter_fact_rows">filter_fact_rows</a>()</code>,
<code><a href="#topic+get_star_schema">get_star_schema</a>()</code>,
<code><a href="#topic+incremental_refresh_constellation">incremental_refresh_constellation</a>()</code>,
<code><a href="#topic+incremental_refresh_star_schema">incremental_refresh_star_schema</a>()</code>,
<code><a href="#topic+purge_dimensions_constellation">purge_dimensions_constellation</a>()</code>,
<code><a href="#topic+purge_dimensions_star_schema">purge_dimensions_star_schema</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
d &lt;- ct_mrs |&gt;
  get_star_schema_names()

</code></pre>

<hr>
<h2 id='group_facts'>Group facts</h2><span id='topic+group_facts'></span>

<h3>Description</h3>

<p>Once the external keys have been possibly replaced, group the rows of facts.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>group_facts(dq)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="group_facts_+3A_dq">dq</code></td>
<td>
<p>A <code>dimensional_query</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>dimensional_query</code> object.
</p>

<hr>
<h2 id='group_records'>Group records</h2><span id='topic+group_records'></span>

<h3>Description</h3>

<p>Group records with the same primary key.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>group_records(ft, ft_new, fk)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="group_records_+3A_ft">ft</code></td>
<td>
<p>A <code>fact_table</code> object.</p>
</td></tr>
<tr><td><code id="group_records_+3A_ft_new">ft_new</code></td>
<td>
<p>A <code>fact_table</code> object.</p>
</td></tr>
<tr><td><code id="group_records_+3A_fk">fk</code></td>
<td>
<p>A vector of foreign key names.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>fact_table</code> object.
</p>

<hr>
<h2 id='group_table'>Group the records in the table</h2><span id='topic+group_table'></span>

<h3>Description</h3>

<p>Group the records in the table using the aggregation functions for the
measurements.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>group_table(ft)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="group_table_+3A_ft">ft</code></td>
<td>
<p>A <code>fact_table</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>fact_table</code> object.
</p>

<hr>
<h2 id='homogenize'>Homogenize a dimension</h2><span id='topic+homogenize'></span><span id='topic+homogenize.dimension_table'></span>

<h3>Description</h3>

<p>To merge dimensions, they must first be homogenized: the generated primary
key must be removed and, if necessary, its attributes (columns) must be
renamed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>homogenize(dimension, attributes = NULL)

## S3 method for class 'dimension_table'
homogenize(dimension, attributes = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="homogenize_+3A_dimension">dimension</code></td>
<td>
<p>A <code>dimension_table</code> object.</p>
</td></tr>
<tr><td><code id="homogenize_+3A_attributes">attributes</code></td>
<td>
<p>A vector of attribute names of the dimension.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>dimension_table</code> object.
</p>

<hr>
<h2 id='incremental_refresh_constellation'>Incrementally refresh a constellation with a star schema</h2><span id='topic+incremental_refresh_constellation'></span><span id='topic+incremental_refresh_constellation.constellation'></span>

<h3>Description</h3>

<p>Incrementally refresh a star schema in a constellation with the content of a
new star schema that is integrated into the first.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>incremental_refresh_constellation(ct, st, existing = "ignore")

## S3 method for class 'constellation'
incremental_refresh_constellation(ct, st, existing = "ignore")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="incremental_refresh_constellation_+3A_ct">ct</code></td>
<td>
<p>A <code>constellation</code> object.</p>
</td></tr>
<tr><td><code id="incremental_refresh_constellation_+3A_st">st</code></td>
<td>
<p>A <code>star_schema</code> object.</p>
</td></tr>
<tr><td><code id="incremental_refresh_constellation_+3A_existing">existing</code></td>
<td>
<p>A string, operation to be performed with records in the fact
table whose keys match.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Once the dimensions are integrated, if there are records in the fact table
whose keys match the new ones, new ones can be ignored, they can be replaced
by new ones, all of them can be grouped using the aggregation functions, or
they can be deleted. Therefore, the possible values of the <code>existing</code>
parameter are: &quot;ignore&quot;, &quot;replace&quot;, &quot;group&quot; or &quot;delete&quot;.
</p>


<h3>Value</h3>

<p>A <code>constellation</code> object.
</p>


<h3>See Also</h3>

<p>Other incremental refresh functions: 
<code><a href="#topic+filter_fact_rows">filter_fact_rows</a>()</code>,
<code><a href="#topic+get_star_schema">get_star_schema</a>()</code>,
<code><a href="#topic+get_star_schema_names">get_star_schema_names</a>()</code>,
<code><a href="#topic+incremental_refresh_star_schema">incremental_refresh_star_schema</a>()</code>,
<code><a href="#topic+purge_dimensions_constellation">purge_dimensions_constellation</a>()</code>,
<code><a href="#topic+purge_dimensions_star_schema">purge_dimensions_star_schema</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ct &lt;- ct_mrs |&gt;
  incremental_refresh_constellation(st_mrs_age_w10, existing = "replace")

ct &lt;- ct_mrs |&gt;
  incremental_refresh_constellation(st_mrs_cause_w10, existing = "group")

</code></pre>

<hr>
<h2 id='incremental_refresh_dimension'>Incrementally refresh a dimension with another</h2><span id='topic+incremental_refresh_dimension'></span><span id='topic+incremental_refresh_dimension.dimension_table'></span>

<h3>Description</h3>

<p>Incrementally refresh a dimension with the content of a new one that is
integrated into the first.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>incremental_refresh_dimension(dimension, dimension_new)

## S3 method for class 'dimension_table'
incremental_refresh_dimension(dimension, dimension_new)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="incremental_refresh_dimension_+3A_dimension">dimension</code></td>
<td>
<p>A <code>dimension_table</code> object.</p>
</td></tr>
<tr><td><code id="incremental_refresh_dimension_+3A_dimension_new">dimension_new</code></td>
<td>
<p>A <code>dimension_table</code> object, possibly with new data.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>dimension_table</code> object.
</p>

<hr>
<h2 id='incremental_refresh_fact'>Incrementally refresh a fact table with another</h2><span id='topic+incremental_refresh_fact'></span><span id='topic+incremental_refresh_fact.fact_table'></span>

<h3>Description</h3>

<p>Incrementally refresh a fact table with the content of a new one that is
integrated into the first.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>incremental_refresh_fact(ft, ft_new, existing)

## S3 method for class 'fact_table'
incremental_refresh_fact(ft, ft_new, existing)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="incremental_refresh_fact_+3A_ft">ft</code></td>
<td>
<p>A <code>fact_table</code> object.</p>
</td></tr>
<tr><td><code id="incremental_refresh_fact_+3A_ft_new">ft_new</code></td>
<td>
<p>A <code>fact_table</code> object, possibly with new data.</p>
</td></tr>
<tr><td><code id="incremental_refresh_fact_+3A_existing">existing</code></td>
<td>
<p>A string, operation to be performed with records whose keys
match.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If there are records whose keys match the new ones, we can ignore, replace or
group them.
</p>


<h3>Value</h3>

<p>A <code>fact_table</code> object.
</p>

<hr>
<h2 id='incremental_refresh_star_schema'>Incrementally refresh a star schema with another</h2><span id='topic+incremental_refresh_star_schema'></span><span id='topic+incremental_refresh_star_schema.star_schema'></span>

<h3>Description</h3>

<p>Incrementally refresh a star schema with the content of a new one that is
integrated into the first.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>incremental_refresh_star_schema(st, st_new, existing = "ignore")

## S3 method for class 'star_schema'
incremental_refresh_star_schema(st, st_new, existing = "ignore")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="incremental_refresh_star_schema_+3A_st">st</code></td>
<td>
<p>A <code>star_schema</code> object.</p>
</td></tr>
<tr><td><code id="incremental_refresh_star_schema_+3A_st_new">st_new</code></td>
<td>
<p>A <code>star_schema</code> object.</p>
</td></tr>
<tr><td><code id="incremental_refresh_star_schema_+3A_existing">existing</code></td>
<td>
<p>A string, operation to be performed with records in the fact
table whose keys match.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Once the dimensions are integrated, if there are records in the fact table
whose keys match the new ones, new ones can be ignored, they can be replaced
by new ones, all of them can be grouped using the aggregation functions, or
they can be deleted. Therefore, the possible values of the <code>existing</code>
parameter are: &quot;ignore&quot;, &quot;replace&quot;, &quot;group&quot; or &quot;delete&quot;.
</p>


<h3>Value</h3>

<p>A <code>star_schema</code> object.
</p>


<h3>See Also</h3>

<p>Other incremental refresh functions: 
<code><a href="#topic+filter_fact_rows">filter_fact_rows</a>()</code>,
<code><a href="#topic+get_star_schema">get_star_schema</a>()</code>,
<code><a href="#topic+get_star_schema_names">get_star_schema_names</a>()</code>,
<code><a href="#topic+incremental_refresh_constellation">incremental_refresh_constellation</a>()</code>,
<code><a href="#topic+purge_dimensions_constellation">purge_dimensions_constellation</a>()</code>,
<code><a href="#topic+purge_dimensions_star_schema">purge_dimensions_star_schema</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
st &lt;- st_mrs_age |&gt;
  incremental_refresh_star_schema(st_mrs_age_w10, existing = "replace")

st &lt;- st_mrs_cause |&gt;
  incremental_refresh_star_schema(st_mrs_cause_w10, existing = "group")

</code></pre>

<hr>
<h2 id='is_conformed_dimension'>Is it conformed dimension?</h2><span id='topic+is_conformed_dimension'></span><span id='topic+is_conformed_dimension.dimension_table'></span>

<h3>Description</h3>

<p>Indicates by means of a boolean if the dimension is a conformed dimension.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_conformed_dimension(dimension)

## S3 method for class 'dimension_table'
is_conformed_dimension(dimension)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="is_conformed_dimension_+3A_dimension">dimension</code></td>
<td>
<p>A <code>dimension_table</code> object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Attributes can be accessed directly but this function has been defined
because it is used from other classes and is thus done in a more controlled
way.
</p>


<h3>Value</h3>

<p>A boolean.
</p>

<hr>
<h2 id='is_dimension_in_updates'>Is dimension in set of updates?</h2><span id='topic+is_dimension_in_updates'></span><span id='topic+is_dimension_in_updates.record_update_set'></span>

<h3>Description</h3>

<p>Given a set of dimension record update operations and the name of a
dimension, it checks if there is any update operation to perform on the
dimension.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_dimension_in_updates(updates, name)

## S3 method for class 'record_update_set'
is_dimension_in_updates(updates, name)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="is_dimension_in_updates_+3A_updates">updates</code></td>
<td>
<p>A <code>record_update_set</code> object, list of dimension record update
operations.</p>
</td></tr>
<tr><td><code id="is_dimension_in_updates_+3A_name">name</code></td>
<td>
<p>A string, name of the dimension.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A boolean, indicating if the dimension appears in the list of update
operations.
</p>

<hr>
<h2 id='is_role_dimension'>Is it role dimension?</h2><span id='topic+is_role_dimension'></span><span id='topic+is_role_dimension.dimension_table'></span>

<h3>Description</h3>

<p>Indicates by means of a boolean if the dimension is a role dimension.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_role_dimension(dimension)

## S3 method for class 'dimension_table'
is_role_dimension(dimension)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="is_role_dimension_+3A_dimension">dimension</code></td>
<td>
<p>A <code>dimension_table</code> object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Attributes can be accessed directly but this function has been defined
because it is used from other classes and is thus done in a more controlled
way.
</p>


<h3>Value</h3>

<p>A boolean.
</p>

<hr>
<h2 id='is_role_playing_dimension'>Is it role-playing dimension?</h2><span id='topic+is_role_playing_dimension'></span><span id='topic+is_role_playing_dimension.dimension_table'></span>

<h3>Description</h3>

<p>Indicates by means of a boolean if the dimension is a role-playing dimension.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_role_playing_dimension(dimension)

## S3 method for class 'dimension_table'
is_role_playing_dimension(dimension)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="is_role_playing_dimension_+3A_dimension">dimension</code></td>
<td>
<p>A <code>dimension_table</code> object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Attributes can be accessed directly but this function has been defined
because it is used from other classes and is thus done in a more controlled
way.
</p>


<h3>Value</h3>

<p>A boolean.
</p>

<hr>
<h2 id='match_records'>Make a dimension record equal to another</h2><span id='topic+match_records'></span><span id='topic+match_records.record_update_set'></span>

<h3>Description</h3>

<p>For a dimension, given the primary key of two records, it adds an update to
the set of updates that modifies the combination of values of the rest of
attributes of the first record so that they become the same as those of the
second.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>match_records(updates, dimension, old, new)

## S3 method for class 'record_update_set'
match_records(updates, dimension, old, new)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="match_records_+3A_updates">updates</code></td>
<td>
<p>A <code>record_update_set</code> object.</p>
</td></tr>
<tr><td><code id="match_records_+3A_dimension">dimension</code></td>
<td>
<p>A <code>dimension_table</code> object, dimension to update.</p>
</td></tr>
<tr><td><code id="match_records_+3A_old">old</code></td>
<td>
<p>A number, primary key of the record to update.</p>
</td></tr>
<tr><td><code id="match_records_+3A_new">new</code></td>
<td>
<p>A number, primary key of the record from which the values are
taken.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Primary keys are only used to get the combination of values easily. The
update is defined exclusively from the rest of values.
</p>
<p>It is especially useful when it is detected that two records should be only
one: Two have been generated due to some data error.
</p>


<h3>Value</h3>

<p>A <code>record_update_set</code> object.
</p>


<h3>See Also</h3>

<p>Other data cleaning functions: 
<code><a href="#topic+get_conformed_dimension">get_conformed_dimension</a>()</code>,
<code><a href="#topic+get_conformed_dimension_names">get_conformed_dimension_names</a>()</code>,
<code><a href="#topic+get_dimension">get_dimension</a>()</code>,
<code><a href="#topic+get_dimension_names">get_dimension_names</a>()</code>,
<code><a href="#topic+modify_conformed_dimension_records">modify_conformed_dimension_records</a>()</code>,
<code><a href="#topic+modify_dimension_records">modify_dimension_records</a>()</code>,
<code><a href="#topic+record_update_set">record_update_set</a>()</code>,
<code><a href="#topic+update_record">update_record</a>()</code>,
<code><a href="#topic+update_selection">update_selection</a>()</code>,
<code><a href="#topic+update_selection_general">update_selection_general</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
dim_names &lt;- st_mrs_age |&gt;
    get_dimension_names()

where &lt;- st_mrs_age |&gt;
  get_dimension("where")

# head(where, 2)

updates &lt;- record_update_set() |&gt;
  match_records(dimension = where,
                old = 1,
                new = 2)

</code></pre>

<hr>
<h2 id='modify_conformed_dimension_records'>Apply dimension record update operations to conformed dimensions</h2><span id='topic+modify_conformed_dimension_records'></span><span id='topic+modify_conformed_dimension_records.constellation'></span>

<h3>Description</h3>

<p>Given a list of dimension record update operations, they are applied on the conformed
dimensions of the <code>constellation</code> object. Update operations must be defined
with the set of functions available for that purpose.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>modify_conformed_dimension_records(ct, updates = record_update_set())

## S3 method for class 'constellation'
modify_conformed_dimension_records(ct, updates = record_update_set())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="modify_conformed_dimension_records_+3A_ct">ct</code></td>
<td>
<p>A <code>constellation</code> object.</p>
</td></tr>
<tr><td><code id="modify_conformed_dimension_records_+3A_updates">updates</code></td>
<td>
<p>A <code>record_update_set</code> object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When dimensions are defined, records can be detected that must be modified as
part of the data cleaning process: frequently to unify two or more records
due to data errors or missing data. This is not immediate because facts must
be adapted to the new set of dimension instances.
</p>
<p>This operation allows us to unify records and automatically propagate
modifications to facts in star schemas.
</p>


<h3>Value</h3>

<p>A <code>constellation</code> object.
</p>


<h3>See Also</h3>

<p>Other data cleaning functions: 
<code><a href="#topic+get_conformed_dimension">get_conformed_dimension</a>()</code>,
<code><a href="#topic+get_conformed_dimension_names">get_conformed_dimension_names</a>()</code>,
<code><a href="#topic+get_dimension">get_dimension</a>()</code>,
<code><a href="#topic+get_dimension_names">get_dimension_names</a>()</code>,
<code><a href="#topic+match_records">match_records</a>()</code>,
<code><a href="#topic+modify_dimension_records">modify_dimension_records</a>()</code>,
<code><a href="#topic+record_update_set">record_update_set</a>()</code>,
<code><a href="#topic+update_record">update_record</a>()</code>,
<code><a href="#topic+update_selection">update_selection</a>()</code>,
<code><a href="#topic+update_selection_general">update_selection_general</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ct &lt;- ct_mrs |&gt;
  modify_conformed_dimension_records(updates_st_mrs_age)

</code></pre>

<hr>
<h2 id='modify_dimension_records'>Apply dimension record update operations</h2><span id='topic+modify_dimension_records'></span><span id='topic+modify_dimension_records.star_schema'></span>

<h3>Description</h3>

<p>Given a list of dimension record update operations, they are applied on the
dimensions of the <code>star_schema</code> object. Update operations must be defined
with the set of functions available for that purpose.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>modify_dimension_records(st, updates = record_update_set())

## S3 method for class 'star_schema'
modify_dimension_records(st, updates = record_update_set())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="modify_dimension_records_+3A_st">st</code></td>
<td>
<p>A <code>star_schema</code> object.</p>
</td></tr>
<tr><td><code id="modify_dimension_records_+3A_updates">updates</code></td>
<td>
<p>A <code>record_update_set</code> object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When dimensions are defined, records can be detected that must be modified as
part of the data cleaning process: frequently to unify two or more records
due to data errors or missing data. This is not immediate because facts must
be adapted to the new set of dimension instances.
</p>
<p>This operation allows us to unify records and automatically propagate
modifications to facts.
</p>
<p>The list of update operations can be applied repeatedly to new data received
to be incorporated into the <code>star_schema</code> object.
</p>


<h3>Value</h3>

<p>A <code>star_schema</code> object.
</p>


<h3>See Also</h3>

<p>Other data cleaning functions: 
<code><a href="#topic+get_conformed_dimension">get_conformed_dimension</a>()</code>,
<code><a href="#topic+get_conformed_dimension_names">get_conformed_dimension_names</a>()</code>,
<code><a href="#topic+get_dimension">get_dimension</a>()</code>,
<code><a href="#topic+get_dimension_names">get_dimension_names</a>()</code>,
<code><a href="#topic+match_records">match_records</a>()</code>,
<code><a href="#topic+modify_conformed_dimension_records">modify_conformed_dimension_records</a>()</code>,
<code><a href="#topic+record_update_set">record_update_set</a>()</code>,
<code><a href="#topic+update_record">update_record</a>()</code>,
<code><a href="#topic+update_selection">update_selection</a>()</code>,
<code><a href="#topic+update_selection_general">update_selection_general</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
st &lt;- st_mrs_age |&gt;
  modify_dimension_records(updates_st_mrs_age)

</code></pre>

<hr>
<h2 id='mrs'>Mortality Reporting System</h2><span id='topic+mrs'></span>

<h3>Description</h3>

<p>Selection of data from the 122 Cities Mortality Reporting System, for the
first 11 weeks of 1962.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mrs
</code></pre>


<h3>Format</h3>

<p>A <code>tibble</code>.
</p>


<h3>Details</h3>

<p>The original dataset begins in 1962. For each week, in 122 US cities,
mortality figures by age group and cause, considered separately, are included
(i.e., the combination of age group and cause is not included). In the cause,
only a distinction is made between pneumonia or influenza and others.
</p>


<h3>Source</h3>

<p><a href="https://catalog.data.gov/dataset/deaths-in-122-u-s-cities-1962-2016-122-cities-mortality-reporting-system">https://catalog.data.gov/dataset/deaths-in-122-u-s-cities-1962-2016-122-cities-mortality-reporting-system</a>
</p>

<hr>
<h2 id='mrs_age'>Mortality Reporting System by Age</h2><span id='topic+mrs_age'></span>

<h3>Description</h3>

<p>Selection of data from the 122 Cities Mortality Reporting System by age
group, for the first 9 weeks of 1962.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mrs_age
</code></pre>


<h3>Format</h3>

<p>A <code>tibble</code>.
</p>


<h3>Details</h3>

<p>The original dataset begins in 1962. For each week, in 122 US cities,
mortality figures by age group and cause, considered separately, are included
(i.e., the combination of age group and cause is not included). In the cause,
only a distinction is made between pneumonia or influenza and others.
</p>
<p>Two additional dates have been generated, which were not present in the
original dataset.
</p>


<h3>Source</h3>

<p><a href="https://catalog.data.gov/dataset/deaths-in-122-u-s-cities-1962-2016-122-cities-mortality-reporting-system">https://catalog.data.gov/dataset/deaths-in-122-u-s-cities-1962-2016-122-cities-mortality-reporting-system</a>
</p>

<hr>
<h2 id='mrs_age_test'>Mortality Reporting System by Age Test</h2><span id='topic+mrs_age_test'></span>

<h3>Description</h3>

<p>Selection of data from the 2 Cities Mortality Reporting System by age
group, for the first 3 weeks of 1962.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mrs_age_test
</code></pre>


<h3>Format</h3>

<p>A <code>tibble</code>.
</p>


<h3>Details</h3>

<p>The original dataset begins in 1962. For each week, in 122 US cities,
mortality figures by age group and cause, considered separately, are included
(i.e., the combination of age group and cause is not included). In the cause,
only a distinction is made between pneumonia or influenza and others.
</p>
<p>Two additional dates have been generated, which were not present in the
original dataset.
</p>


<h3>Source</h3>

<p><a href="https://catalog.data.gov/dataset/deaths-in-122-u-s-cities-1962-2016-122-cities-mortality-reporting-system">https://catalog.data.gov/dataset/deaths-in-122-u-s-cities-1962-2016-122-cities-mortality-reporting-system</a>
</p>

<hr>
<h2 id='mrs_age_w_test'>Mortality Reporting System by Age for Week Test</h2><span id='topic+mrs_age_w_test'></span>

<h3>Description</h3>

<p>Selection of data from the 3 Cities Mortality Reporting System by age
group, for week 4 of 1962. It also includes some isolated data from previous
weeks that is supposed to be corrections for data errors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mrs_age_w_test
</code></pre>


<h3>Format</h3>

<p>A <code>tibble</code>.
</p>


<h3>Details</h3>

<p>The original dataset begins in 1962. For each week, in 122 US cities,
mortality figures by age group and cause, considered separately, are included
(i.e., the combination of age group and cause is not included). In the cause,
only a distinction is made between pneumonia or influenza and others.
</p>
<p>Two additional dates have been generated, which were not present in the
original dataset.
</p>


<h3>Source</h3>

<p><a href="https://catalog.data.gov/dataset/deaths-in-122-u-s-cities-1962-2016-122-cities-mortality-reporting-system">https://catalog.data.gov/dataset/deaths-in-122-u-s-cities-1962-2016-122-cities-mortality-reporting-system</a>
</p>

<hr>
<h2 id='mrs_age_w10'>Mortality Reporting System by Age for Week 10</h2><span id='topic+mrs_age_w10'></span>

<h3>Description</h3>

<p>Selection of data from the 122 Cities Mortality Reporting System by age
group, for week 10 of 1962. It also includes some isolated data from previous
weeks that is supposed to be corrections for data errors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mrs_age_w10
</code></pre>


<h3>Format</h3>

<p>A <code>tibble</code>.
</p>


<h3>Details</h3>

<p>The original dataset begins in 1962. For each week, in 122 US cities,
mortality figures by age group and cause, considered separately, are included
(i.e., the combination of age group and cause is not included). In the cause,
only a distinction is made between pneumonia or influenza and others.
</p>
<p>Two additional dates have been generated, which were not present in the
original dataset.
</p>


<h3>Source</h3>

<p><a href="https://catalog.data.gov/dataset/deaths-in-122-u-s-cities-1962-2016-122-cities-mortality-reporting-system">https://catalog.data.gov/dataset/deaths-in-122-u-s-cities-1962-2016-122-cities-mortality-reporting-system</a>
</p>

<hr>
<h2 id='mrs_age_w11'>Mortality Reporting System by Age for Week 11</h2><span id='topic+mrs_age_w11'></span>

<h3>Description</h3>

<p>Selection of data from the 122 Cities Mortality Reporting System by age
group, for week 11 of 1962. It also includes some isolated data from previous
weeks that is supposed to be corrections for data errors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mrs_age_w11
</code></pre>


<h3>Format</h3>

<p>A <code>tibble</code>.
</p>


<h3>Details</h3>

<p>The original dataset begins in 1962. For each week, in 122 US cities,
mortality figures by age group and cause, considered separately, are included
(i.e., the combination of age group and cause is not included). In the cause,
only a distinction is made between pneumonia or influenza and others.
</p>
<p>Two additional dates have been generated, which were not present in the
original dataset.
</p>


<h3>Source</h3>

<p><a href="https://catalog.data.gov/dataset/deaths-in-122-u-s-cities-1962-2016-122-cities-mortality-reporting-system">https://catalog.data.gov/dataset/deaths-in-122-u-s-cities-1962-2016-122-cities-mortality-reporting-system</a>
</p>

<hr>
<h2 id='mrs_cause'>Mortality Reporting System by Cause</h2><span id='topic+mrs_cause'></span>

<h3>Description</h3>

<p>Selection of data from the 122 Cities Mortality Reporting System by cause,
for the first 9 weeks of 1962.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mrs_cause
</code></pre>


<h3>Format</h3>

<p>A <code>tibble</code>.
</p>


<h3>Details</h3>

<p>The original dataset begins in 1962. For each week, in 122 US cities,
mortality figures by age group and cause, considered separately, are included
(i.e., the combination of age group and cause is not included). In the cause,
only a distinction is made between pneumonia or influenza and others.
</p>
<p>Two additional dates have been generated, which were not present in the
original dataset.
</p>


<h3>Source</h3>

<p><a href="https://catalog.data.gov/dataset/deaths-in-122-u-s-cities-1962-2016-122-cities-mortality-reporting-system">https://catalog.data.gov/dataset/deaths-in-122-u-s-cities-1962-2016-122-cities-mortality-reporting-system</a>
</p>

<hr>
<h2 id='mrs_cause_test'>Mortality Reporting System by Cause Test</h2><span id='topic+mrs_cause_test'></span>

<h3>Description</h3>

<p>Selection of data from the 2 Cities Mortality Reporting System by cause,
for the first 3 weeks of 1962.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mrs_cause_test
</code></pre>


<h3>Format</h3>

<p>A <code>tibble</code>.
</p>


<h3>Details</h3>

<p>The original dataset begins in 1962. For each week, in 122 US cities,
mortality figures by age group and cause, considered separately, are included
(i.e., the combination of age group and cause is not included). In the cause,
only a distinction is made between pneumonia or influenza and others.
</p>
<p>Two additional dates have been generated, which were not present in the
original dataset.
</p>


<h3>Source</h3>

<p><a href="https://catalog.data.gov/dataset/deaths-in-122-u-s-cities-1962-2016-122-cities-mortality-reporting-system">https://catalog.data.gov/dataset/deaths-in-122-u-s-cities-1962-2016-122-cities-mortality-reporting-system</a>
</p>

<hr>
<h2 id='mrs_cause_w_test'>Mortality Reporting System by Cause for Week Test</h2><span id='topic+mrs_cause_w_test'></span>

<h3>Description</h3>

<p>Selection of data from the 3 Cities Mortality Reporting System by cause,
for week 4 of 1962. It also includes some isolated data from previous weeks
that is supposed to be additional data not considered before.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mrs_cause_w_test
</code></pre>


<h3>Format</h3>

<p>A <code>tibble</code>.
</p>


<h3>Details</h3>

<p>The original dataset begins in 1962. For each week, in 122 US cities,
mortality figures by age group and cause, considered separately, are included
(i.e., the combination of age group and cause is not included). In the cause,
only a distinction is made between pneumonia or influenza and others.
</p>
<p>Two additional dates have been generated, which were not present in the
original dataset.
</p>


<h3>Source</h3>

<p><a href="https://catalog.data.gov/dataset/deaths-in-122-u-s-cities-1962-2016-122-cities-mortality-reporting-system">https://catalog.data.gov/dataset/deaths-in-122-u-s-cities-1962-2016-122-cities-mortality-reporting-system</a>
</p>

<hr>
<h2 id='mrs_cause_w10'>Mortality Reporting System by Cause for Week 10</h2><span id='topic+mrs_cause_w10'></span>

<h3>Description</h3>

<p>Selection of data from the 122 Cities Mortality Reporting System by cause,
for week 10 of 1962. It also includes some isolated data from previous weeks
that is supposed to be additional data not considered before.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mrs_cause_w10
</code></pre>


<h3>Format</h3>

<p>A <code>tibble</code>.
</p>


<h3>Details</h3>

<p>The original dataset begins in 1962. For each week, in 122 US cities,
mortality figures by age group and cause, considered separately, are included
(i.e., the combination of age group and cause is not included). In the cause,
only a distinction is made between pneumonia or influenza and others.
</p>
<p>Two additional dates have been generated, which were not present in the
original dataset.
</p>


<h3>Source</h3>

<p><a href="https://catalog.data.gov/dataset/deaths-in-122-u-s-cities-1962-2016-122-cities-mortality-reporting-system">https://catalog.data.gov/dataset/deaths-in-122-u-s-cities-1962-2016-122-cities-mortality-reporting-system</a>
</p>

<hr>
<h2 id='mrs_cause_w11'>Mortality Reporting System by Cause for Week 11</h2><span id='topic+mrs_cause_w11'></span>

<h3>Description</h3>

<p>Selection of data from the 122 Cities Mortality Reporting System by cause,
for week 11 of 1962. It also includes some isolated data from previous weeks
that is supposed to be additional data not considered before.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mrs_cause_w11
</code></pre>


<h3>Format</h3>

<p>A <code>tibble</code>.
</p>


<h3>Details</h3>

<p>The original dataset begins in 1962. For each week, in 122 US cities,
mortality figures by age group and cause, considered separately, are included
(i.e., the combination of age group and cause is not included). In the cause,
only a distinction is made between pneumonia or influenza and others.
</p>
<p>Two additional dates have been generated, which were not present in the
original dataset.
</p>


<h3>Source</h3>

<p><a href="https://catalog.data.gov/dataset/deaths-in-122-u-s-cities-1962-2016-122-cities-mortality-reporting-system">https://catalog.data.gov/dataset/deaths-in-122-u-s-cities-1962-2016-122-cities-mortality-reporting-system</a>
</p>

<hr>
<h2 id='ms_mrs'>Multistar for Mortality Reporting System</h2><span id='topic+ms_mrs'></span>

<h3>Description</h3>

<p>Multistar for the Mortality Reporting System considering age and cause
classification. It is the result obtained in the vignette.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ms_mrs
</code></pre>


<h3>Format</h3>

<p>A <code>multistar</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Defined by:

ms_mrs &lt;- ct_mrs |&gt;
  constellation_as_multistar()

</code></pre>

<hr>
<h2 id='ms_mrs_test'>Multistar for Mortality Reporting System Test</h2><span id='topic+ms_mrs_test'></span>

<h3>Description</h3>

<p>Multistar for the Mortality Reporting System considering age and cause
classification data test.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ms_mrs_test
</code></pre>


<h3>Format</h3>

<p>A <code>multistar</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Defined by:

ms_mrs_test &lt;- ct_mrs_test |&gt;
  constellation_as_multistar()

</code></pre>

<hr>
<h2 id='multistar_as_flat_table'>Export a <code>multistar</code> as a flat table</h2><span id='topic+multistar_as_flat_table'></span><span id='topic+multistar_as_flat_table.multistar'></span>

<h3>Description</h3>

<p>We can obtain a flat table, implemented using a <code>tibble</code>, from a <code>multistar</code>
(which can be the result of a query). If it only has one fact table, it is
not necessary to provide its name.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>multistar_as_flat_table(ms, fact = NULL)

## S3 method for class 'multistar'
multistar_as_flat_table(ms, fact = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="multistar_as_flat_table_+3A_ms">ms</code></td>
<td>
<p>A <code>multistar</code> object.</p>
</td></tr>
<tr><td><code id="multistar_as_flat_table_+3A_fact">fact</code></td>
<td>
<p>A string, name of the fact.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>tibble</code>.
</p>


<h3>See Also</h3>

<p>Other results export functions: 
<code><a href="#topic+constellation_as_multistar">constellation_as_multistar</a>()</code>,
<code><a href="#topic+constellation_as_tibble_list">constellation_as_tibble_list</a>()</code>,
<code><a href="#topic+star_schema_as_flat_table">star_schema_as_flat_table</a>()</code>,
<code><a href="#topic+star_schema_as_multistar">star_schema_as_multistar</a>()</code>,
<code><a href="#topic+star_schema_as_tibble_list">star_schema_as_tibble_list</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ft &lt;- ms_mrs |&gt;
  multistar_as_flat_table(fact = "mrs_age")

ms &lt;- dimensional_query(ms_mrs) |&gt;
  select_dimension(name = "where",
                   attributes = c("city", "state")) |&gt;
  select_dimension(name = "when",
                   attributes = c("when_happened_year")) |&gt;
  select_fact(name = "mrs_age",
              measures = c("n_deaths")) |&gt;
  select_fact(
    name = "mrs_cause",
    measures = c("pneumonia_and_influenza_deaths", "other_deaths")
  ) |&gt;
  filter_dimension(name = "when", when_happened_week &lt;= "03") |&gt;
  filter_dimension(name = "where", city == "Boston") |&gt;
  run_query()

ft &lt;- ms |&gt;
  multistar_as_flat_table()

</code></pre>

<hr>
<h2 id='new_constellation'><code>constellation</code> S3 class</h2><span id='topic+new_constellation'></span>

<h3>Description</h3>

<p>Internal low-level constructor that creates new objects with the correct
structure.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_constellation(lst = list(), name = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="new_constellation_+3A_lst">lst</code></td>
<td>
<p>A list of <code>star_schema</code> objects.</p>
</td></tr>
<tr><td><code id="new_constellation_+3A_name">name</code></td>
<td>
<p>A string.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>constellation</code> object.
</p>

<hr>
<h2 id='new_dimension_table'><code>dimension_table</code> S3 class</h2><span id='topic+new_dimension_table'></span>

<h3>Description</h3>

<p>Internal low-level constructor that creates new objects with the correct
structure.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_dimension_table(ft = tibble::tibble(), name = NULL, type = "general")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="new_dimension_table_+3A_ft">ft</code></td>
<td>
<p>A <code>tibble</code>, contains a dimension.</p>
</td></tr>
<tr><td><code id="new_dimension_table_+3A_name">name</code></td>
<td>
<p>A string, name of the dimension.</p>
</td></tr>
<tr><td><code id="new_dimension_table_+3A_type">type</code></td>
<td>
<p>A string, type of the dimension.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Types considered: (general), (role, role_playing), (conformed).
</p>


<h3>Value</h3>

<p>A <code>dimension_table</code> object.
</p>

<hr>
<h2 id='new_dimensional_model'>dimensional_model S3 class</h2><span id='topic+new_dimensional_model'></span>

<h3>Description</h3>

<p>Internal low-level constructor that creates new objects with the correct
structure.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_dimensional_model()
</code></pre>


<h3>Value</h3>

<p>A <code>dimensional_model</code> object.
</p>

<hr>
<h2 id='new_dimensional_query'><code>dimensional_query</code> S3 class</h2><span id='topic+new_dimensional_query'></span>

<h3>Description</h3>

<p>Internal low-level constructor that creates new objects with the correct
structure.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_dimensional_query(ms = NULL)
</code></pre>


<h3>Value</h3>

<p>A <code>dimensional_query</code> object.
</p>

<hr>
<h2 id='new_fact_table'><code>fact_table</code> S3 class</h2><span id='topic+new_fact_table'></span>

<h3>Description</h3>

<p>Internal low-level constructor that creates new objects with the correct
structure.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_fact_table(
  ft = tibble::tibble(),
  name = NULL,
  measures = NULL,
  agg_functions = NULL,
  nrow_agg = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="new_fact_table_+3A_ft">ft</code></td>
<td>
<p>A <code>tibble</code>, contains the fact table.</p>
</td></tr>
<tr><td><code id="new_fact_table_+3A_name">name</code></td>
<td>
<p>A string, name of the fact.</p>
</td></tr>
<tr><td><code id="new_fact_table_+3A_measures">measures</code></td>
<td>
<p>A vector of measurement names.</p>
</td></tr>
<tr><td><code id="new_fact_table_+3A_agg_functions">agg_functions</code></td>
<td>
<p>A vector of aggregation function names.</p>
</td></tr>
<tr><td><code id="new_fact_table_+3A_nrow_agg">nrow_agg</code></td>
<td>
<p>A string, measurement name for the number of rows aggregated.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>fact_table</code> object.
</p>

<hr>
<h2 id='new_multistar'><code>multistar</code> S3 class</h2><span id='topic+new_multistar'></span>

<h3>Description</h3>

<p>Internal low-level constructor that creates new objects with the correct
structure.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_multistar(fl = list(), dl = list())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="new_multistar_+3A_fl">fl</code></td>
<td>
<p>A <code>fact_table</code> list.</p>
</td></tr>
<tr><td><code id="new_multistar_+3A_dl">dl</code></td>
<td>
<p>A <code>dimension_table</code> list.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It only distinguishes between general and conformed dimensions, each
dimension has its own data. It can contain multiple fact tables.
</p>


<h3>Value</h3>

<p>A <code>multistar</code> object.
</p>

<hr>
<h2 id='new_record_update'>record_update S3 class</h2><span id='topic+new_record_update'></span>

<h3>Description</h3>

<p>Internal low-level constructor that creates new objects with the correct
structure.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_record_update(dimension, old, new)
</code></pre>


<h3>Details</h3>

<p>For a dimension, it relates old record field values to the new values to
replace them.
</p>


<h3>Value</h3>

<p>A <code>record_update</code> object.
</p>

<hr>
<h2 id='new_record_update_set'>record_update_set S3 class</h2><span id='topic+new_record_update_set'></span>

<h3>Description</h3>

<p>Internal low-level constructor that creates new objects with the correct
structure.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_record_update_set()
</code></pre>


<h3>Value</h3>

<p>A <code>record_update_set</code> object.
</p>

<hr>
<h2 id='new_star_schema'>star_schema S3 class</h2><span id='topic+new_star_schema'></span>

<h3>Description</h3>

<p>Internal low-level constructor that creates new objects with the correct
structure.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_star_schema(ft = tibble::tibble(), sd = dimensional_model())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="new_star_schema_+3A_ft">ft</code></td>
<td>
<p>A <code>tibble</code>, implements a flat table.</p>
</td></tr>
<tr><td><code id="new_star_schema_+3A_sd">sd</code></td>
<td>
<p>A <code>dimensional_model</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>star_schema</code> object.
</p>

<hr>
<h2 id='prepare_join'>Transform a <code>tibble</code> to join</h2><span id='topic+prepare_join'></span>

<h3>Description</h3>

<p>Transform all fields in a <code>tibble</code> to character type and replace the <code>NA</code>
with a specific value.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prepare_join(tb)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="prepare_join_+3A_tb">tb</code></td>
<td>
<p>A <code>tibble</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>tibble</code>.
</p>

<hr>
<h2 id='purge_dimensions_constellation'>Purge dimensions in a constellation</h2><span id='topic+purge_dimensions_constellation'></span><span id='topic+purge_dimensions_constellation.constellation'></span>

<h3>Description</h3>

<p>Delete instances of dimensions not related to facts in a constellation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>purge_dimensions_constellation(ct)

## S3 method for class 'constellation'
purge_dimensions_constellation(ct)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="purge_dimensions_constellation_+3A_ct">ct</code></td>
<td>
<p>A <code>constellation</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>constellation</code> object.
</p>


<h3>See Also</h3>

<p>Other incremental refresh functions: 
<code><a href="#topic+filter_fact_rows">filter_fact_rows</a>()</code>,
<code><a href="#topic+get_star_schema">get_star_schema</a>()</code>,
<code><a href="#topic+get_star_schema_names">get_star_schema_names</a>()</code>,
<code><a href="#topic+incremental_refresh_constellation">incremental_refresh_constellation</a>()</code>,
<code><a href="#topic+incremental_refresh_star_schema">incremental_refresh_star_schema</a>()</code>,
<code><a href="#topic+purge_dimensions_star_schema">purge_dimensions_star_schema</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ct &lt;- ct_mrs |&gt;
  purge_dimensions_constellation()

</code></pre>

<hr>
<h2 id='purge_dimensions_star_schema'>Purge dimensions</h2><span id='topic+purge_dimensions_star_schema'></span><span id='topic+purge_dimensions_star_schema.star_schema'></span>

<h3>Description</h3>

<p>Delete instances of dimensions not related to facts in a star schema.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>purge_dimensions_star_schema(st)

## S3 method for class 'star_schema'
purge_dimensions_star_schema(st)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="purge_dimensions_star_schema_+3A_st">st</code></td>
<td>
<p>A <code>star_schema</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>star_schema</code> object.
</p>


<h3>See Also</h3>

<p>Other incremental refresh functions: 
<code><a href="#topic+filter_fact_rows">filter_fact_rows</a>()</code>,
<code><a href="#topic+get_star_schema">get_star_schema</a>()</code>,
<code><a href="#topic+get_star_schema_names">get_star_schema_names</a>()</code>,
<code><a href="#topic+incremental_refresh_constellation">incremental_refresh_constellation</a>()</code>,
<code><a href="#topic+incremental_refresh_star_schema">incremental_refresh_star_schema</a>()</code>,
<code><a href="#topic+purge_dimensions_constellation">purge_dimensions_constellation</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
st &lt;- st_mrs_age |&gt;
  purge_dimensions_star_schema()

</code></pre>

<hr>
<h2 id='record_update_set'><code>record_update_set</code> S3 class</h2><span id='topic+record_update_set'></span>

<h3>Description</h3>

<p>A <code>record_update_set</code> object is created. Stores updates on dimension records.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>record_update_set()
</code></pre>


<h3>Details</h3>

<p>Each update is made up of a dimension name, an old value set, and a new value
set.
</p>
<p>When the update is applied, all the dimension records that have the
combination of old values are modified with the new values provided.
</p>


<h3>Value</h3>

<p>A <code>record_update_set</code> object.
</p>


<h3>See Also</h3>

<p>Other data cleaning functions: 
<code><a href="#topic+get_conformed_dimension">get_conformed_dimension</a>()</code>,
<code><a href="#topic+get_conformed_dimension_names">get_conformed_dimension_names</a>()</code>,
<code><a href="#topic+get_dimension">get_dimension</a>()</code>,
<code><a href="#topic+get_dimension_names">get_dimension_names</a>()</code>,
<code><a href="#topic+match_records">match_records</a>()</code>,
<code><a href="#topic+modify_conformed_dimension_records">modify_conformed_dimension_records</a>()</code>,
<code><a href="#topic+modify_dimension_records">modify_dimension_records</a>()</code>,
<code><a href="#topic+update_record">update_record</a>()</code>,
<code><a href="#topic+update_selection">update_selection</a>()</code>,
<code><a href="#topic+update_selection_general">update_selection_general</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
updates &lt;- record_update_set()

</code></pre>

<hr>
<h2 id='reference_dimension'>Reference a dimension</h2><span id='topic+reference_dimension'></span>

<h3>Description</h3>

<p>Given a dimension, transform the fact table so that the attributes of the
dimension indicated as a parameter, which are in the fact table, are replaced
by the other attributes of the dimension.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reference_dimension(ft, dimension, attributes, conversion = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="reference_dimension_+3A_ft">ft</code></td>
<td>
<p>A <code>fact_table</code> object.</p>
</td></tr>
<tr><td><code id="reference_dimension_+3A_dimension">dimension</code></td>
<td>
<p>A <code>dimension_table</code> object.</p>
</td></tr>
<tr><td><code id="reference_dimension_+3A_attributes">attributes</code></td>
<td>
<p>A vector of attribute names, attributes used to reference the dimension.</p>
</td></tr>
<tr><td><code id="reference_dimension_+3A_conversion">conversion</code></td>
<td>
<p>A boolean, indicates whether the attributes need to be
transformed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It is used to replace a set of attributes in the fact table with the
generated key of the dimension.
</p>
<p>If necessary, it is also used for the inverse operation: replace the
generated key with the rest of attributes (dereference a dimension).
</p>


<h3>Value</h3>

<p>A <code>fact_table</code> object.
</p>

<hr>
<h2 id='remove_duplicate_dimension_rows'>Remove duplicate dimension rows</h2><span id='topic+remove_duplicate_dimension_rows'></span>

<h3>Description</h3>

<p>After selecting only a few columns of the dimensions, there may be rows with
duplicate values. We eliminate duplicates and adapt facts to the new
dimensions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>remove_duplicate_dimension_rows(dq)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="remove_duplicate_dimension_rows_+3A_dq">dq</code></td>
<td>
<p>A <code>dimensional_query</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>dimensional_query</code> object.
</p>

<hr>
<h2 id='rename_dimension'>Rename dimension</h2><span id='topic+rename_dimension'></span><span id='topic+rename_dimension.star_schema'></span>

<h3>Description</h3>

<p>Set new name for a dimension.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rename_dimension(st, name, new_name)

## S3 method for class 'star_schema'
rename_dimension(st, name, new_name)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rename_dimension_+3A_st">st</code></td>
<td>
<p>A <code>star_schema</code> object.</p>
</td></tr>
<tr><td><code id="rename_dimension_+3A_name">name</code></td>
<td>
<p>A string, name of the dimension.</p>
</td></tr>
<tr><td><code id="rename_dimension_+3A_new_name">new_name</code></td>
<td>
<p>A string, new name of the dimension.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>star_schema</code> object.
</p>


<h3>See Also</h3>

<p>Other rename functions: 
<code><a href="#topic+get_dimension_attribute_names">get_dimension_attribute_names</a>()</code>,
<code><a href="#topic+get_measure_names">get_measure_names</a>()</code>,
<code><a href="#topic+rename_dimension_attributes">rename_dimension_attributes</a>()</code>,
<code><a href="#topic+rename_fact">rename_fact</a>()</code>,
<code><a href="#topic+rename_measures">rename_measures</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
st &lt;- st_mrs_age |&gt;
  rename_dimension(name = "when", new_name = "when_happened")

</code></pre>

<hr>
<h2 id='rename_dimension_attributes'>Rename dimension attributes</h2><span id='topic+rename_dimension_attributes'></span><span id='topic+rename_dimension_attributes.star_schema'></span>

<h3>Description</h3>

<p>Set new names of some attributes in a dimension.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rename_dimension_attributes(st, name, attributes, new_names)

## S3 method for class 'star_schema'
rename_dimension_attributes(st, name, attributes, new_names)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rename_dimension_attributes_+3A_st">st</code></td>
<td>
<p>A <code>star_schema</code> object.</p>
</td></tr>
<tr><td><code id="rename_dimension_attributes_+3A_name">name</code></td>
<td>
<p>A string, name of the dimension.</p>
</td></tr>
<tr><td><code id="rename_dimension_attributes_+3A_attributes">attributes</code></td>
<td>
<p>A vector of attribute names.</p>
</td></tr>
<tr><td><code id="rename_dimension_attributes_+3A_new_names">new_names</code></td>
<td>
<p>A vector of new attribute names.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>star_schema</code> object.
</p>


<h3>See Also</h3>

<p>Other rename functions: 
<code><a href="#topic+get_dimension_attribute_names">get_dimension_attribute_names</a>()</code>,
<code><a href="#topic+get_measure_names">get_measure_names</a>()</code>,
<code><a href="#topic+rename_dimension">rename_dimension</a>()</code>,
<code><a href="#topic+rename_fact">rename_fact</a>()</code>,
<code><a href="#topic+rename_measures">rename_measures</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
st &lt;-
  st_mrs_age |&gt; rename_dimension_attributes(
    name = "when",
    attributes = c("week", "year"),
    new_names = c("w", "y")
  )

</code></pre>

<hr>
<h2 id='rename_fact'>Rename fact</h2><span id='topic+rename_fact'></span><span id='topic+rename_fact.star_schema'></span>

<h3>Description</h3>

<p>Set new name for facts.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rename_fact(st, name)

## S3 method for class 'star_schema'
rename_fact(st, name)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rename_fact_+3A_st">st</code></td>
<td>
<p>A <code>star_schema</code> object.</p>
</td></tr>
<tr><td><code id="rename_fact_+3A_name">name</code></td>
<td>
<p>A string, new name of the fact.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>star_schema</code> object.
</p>


<h3>See Also</h3>

<p>Other rename functions: 
<code><a href="#topic+get_dimension_attribute_names">get_dimension_attribute_names</a>()</code>,
<code><a href="#topic+get_measure_names">get_measure_names</a>()</code>,
<code><a href="#topic+rename_dimension">rename_dimension</a>()</code>,
<code><a href="#topic+rename_dimension_attributes">rename_dimension_attributes</a>()</code>,
<code><a href="#topic+rename_measures">rename_measures</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
st &lt;- st_mrs_age |&gt; rename_fact("age")

</code></pre>

<hr>
<h2 id='rename_measures'>Rename measures</h2><span id='topic+rename_measures'></span><span id='topic+rename_measures.star_schema'></span>

<h3>Description</h3>

<p>Set new names of some measures in facts.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rename_measures(st, measures, new_names)

## S3 method for class 'star_schema'
rename_measures(st, measures, new_names)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rename_measures_+3A_st">st</code></td>
<td>
<p>A <code>star_schema</code> object.</p>
</td></tr>
<tr><td><code id="rename_measures_+3A_measures">measures</code></td>
<td>
<p>A vector of measure names.</p>
</td></tr>
<tr><td><code id="rename_measures_+3A_new_names">new_names</code></td>
<td>
<p>A vector of new measure names.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>star_schema</code> object.
</p>


<h3>See Also</h3>

<p>Other rename functions: 
<code><a href="#topic+get_dimension_attribute_names">get_dimension_attribute_names</a>()</code>,
<code><a href="#topic+get_measure_names">get_measure_names</a>()</code>,
<code><a href="#topic+rename_dimension">rename_dimension</a>()</code>,
<code><a href="#topic+rename_dimension_attributes">rename_dimension_attributes</a>()</code>,
<code><a href="#topic+rename_fact">rename_fact</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
st &lt;-
  st_mrs_age |&gt; rename_measures(measures = c("deaths"),
                                 new_names = c("n_deaths"))

</code></pre>

<hr>
<h2 id='replace_dimension'>Replace a star schema dimension</h2><span id='topic+replace_dimension'></span><span id='topic+replace_dimension.star_schema'></span>

<h3>Description</h3>

<p>Replace dimension with another that contains all the instances of the first
and, possibly, some more, in a star schema.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>replace_dimension(st, name, dimension)

## S3 method for class 'star_schema'
replace_dimension(st, name, dimension)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="replace_dimension_+3A_st">st</code></td>
<td>
<p>A <code>star_schema</code> object.</p>
</td></tr>
<tr><td><code id="replace_dimension_+3A_name">name</code></td>
<td>
<p>A string, name of the dimension.</p>
</td></tr>
<tr><td><code id="replace_dimension_+3A_dimension">dimension</code></td>
<td>
<p>A <code>dimension_table</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>star_schema</code> object.
</p>

<hr>
<h2 id='replace_dimension_in_facts'>Replace in facts a star schema dimension</h2><span id='topic+replace_dimension_in_facts'></span><span id='topic+replace_dimension_in_facts.star_schema'></span>

<h3>Description</h3>

<p>This operation can be due to integrating several dimensions in a
constellation or an incremental update of a dimension (indicated with the
boolean parameter). The new dimension replaces in facts the original
dimension, whose name is indicated.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>replace_dimension_in_facts(st, name, dimension, set_type_conformed = FALSE)

## S3 method for class 'star_schema'
replace_dimension_in_facts(st, name, dimension, set_type_conformed = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="replace_dimension_in_facts_+3A_st">st</code></td>
<td>
<p>A <code>star_schema</code> object.</p>
</td></tr>
<tr><td><code id="replace_dimension_in_facts_+3A_name">name</code></td>
<td>
<p>A string, name of the dimension.</p>
</td></tr>
<tr><td><code id="replace_dimension_in_facts_+3A_dimension">dimension</code></td>
<td>
<p>A <code>dimension_table</code> object.</p>
</td></tr>
<tr><td><code id="replace_dimension_in_facts_+3A_set_type_conformed">set_type_conformed</code></td>
<td>
<p>A boolean.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>star_schema</code> object.
</p>

<hr>
<h2 id='replace_general_dimension_in_facts'>Replace in facts a star schema general dimension</h2><span id='topic+replace_general_dimension_in_facts'></span>

<h3>Description</h3>

<p>Replace in facts a star schema general dimension
</p>


<h3>Usage</h3>

<pre><code class='language-R'>replace_general_dimension_in_facts(st, name, dimension)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="replace_general_dimension_in_facts_+3A_st">st</code></td>
<td>
<p>A <code>star_schema</code> object.</p>
</td></tr>
<tr><td><code id="replace_general_dimension_in_facts_+3A_name">name</code></td>
<td>
<p>A string, name of the dimension.</p>
</td></tr>
<tr><td><code id="replace_general_dimension_in_facts_+3A_dimension">dimension</code></td>
<td>
<p>A <code>dimension_table</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>star_schema</code> object.
</p>

<hr>
<h2 id='replace_records'>Replace records</h2><span id='topic+replace_records'></span>

<h3>Description</h3>

<p>Replace records with the same primary key.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>replace_records(ft, ft_new, fk)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="replace_records_+3A_ft">ft</code></td>
<td>
<p>A <code>fact_table</code> object.</p>
</td></tr>
<tr><td><code id="replace_records_+3A_ft_new">ft_new</code></td>
<td>
<p>A <code>fact_table</code> object.</p>
</td></tr>
<tr><td><code id="replace_records_+3A_fk">fk</code></td>
<td>
<p>A vector of foreign key names.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>fact_table</code> object.
</p>

<hr>
<h2 id='replace_role_dimension_in_facts'>Replace in facts a star schema role dimension</h2><span id='topic+replace_role_dimension_in_facts'></span>

<h3>Description</h3>

<p>Replace in facts a star schema role dimension
</p>


<h3>Usage</h3>

<pre><code class='language-R'>replace_role_dimension_in_facts(st, name, dimension, dimension_names)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="replace_role_dimension_in_facts_+3A_st">st</code></td>
<td>
<p>A <code>star_schema</code> object.</p>
</td></tr>
<tr><td><code id="replace_role_dimension_in_facts_+3A_name">name</code></td>
<td>
<p>A string, name of the dimension.</p>
</td></tr>
<tr><td><code id="replace_role_dimension_in_facts_+3A_dimension">dimension</code></td>
<td>
<p>A <code>dimension_table</code> object.</p>
</td></tr>
<tr><td><code id="replace_role_dimension_in_facts_+3A_dimension_names">dimension_names</code></td>
<td>
<p>A vector of dimension names.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>star_schema</code> object.
</p>

<hr>
<h2 id='role_dimension'>Transform a dimension into a role dimension</h2><span id='topic+role_dimension'></span><span id='topic+role_dimension.dimension_table'></span>

<h3>Description</h3>

<p>Once the role-playing dimension has been generated, the dimensions from which
it has been defined are transformed into role dimensions. Records are removed
as they are obtained from the role-playing dimension.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>role_dimension(dimension, role_playing_name)

## S3 method for class 'dimension_table'
role_dimension(dimension, role_playing_name)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="role_dimension_+3A_dimension">dimension</code></td>
<td>
<p>A <code>dimension_table</code> object.</p>
</td></tr>
<tr><td><code id="role_dimension_+3A_role_playing_name">role_playing_name</code></td>
<td>
<p>A string, name of role-playing dimension.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>dimension_table</code> object.
</p>

<hr>
<h2 id='role_playing_dimension'>Define a role playing dimension in a <code>star_schema</code> object</h2><span id='topic+role_playing_dimension'></span><span id='topic+role_playing_dimension.star_schema'></span>

<h3>Description</h3>

<p>Given a list of <code>star_schema</code> dimension names, all with the same structure, a
role playing dimension with the indicated name and attributes is generated.
The original dimensions become role dimensions defined from the new role
playing dimension.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>role_playing_dimension(st, dim_names, name = NULL, attributes = NULL)

## S3 method for class 'star_schema'
role_playing_dimension(st, dim_names, name = NULL, attributes = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="role_playing_dimension_+3A_st">st</code></td>
<td>
<p>A <code>star_schema</code> object.</p>
</td></tr>
<tr><td><code id="role_playing_dimension_+3A_dim_names">dim_names</code></td>
<td>
<p>A vector of dimension names.</p>
</td></tr>
<tr><td><code id="role_playing_dimension_+3A_name">name</code></td>
<td>
<p>A string, name of the role playing dimension.</p>
</td></tr>
<tr><td><code id="role_playing_dimension_+3A_attributes">attributes</code></td>
<td>
<p>A vector of attribute names of the role playing dimension.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>After definition, all role dimensions have the same virtual instances (those
of the role playing dimension). The foreign keys in facts are adapted to this
new situation.
</p>


<h3>Value</h3>

<p>A <code>star_schema</code> object.
</p>


<h3>See Also</h3>

<p>Other star schema and constellation definition functions: 
<code><a href="#topic+character_dimensions">character_dimensions</a>()</code>,
<code><a href="#topic+constellation">constellation</a>()</code>,
<code><a href="#topic+snake_case">snake_case</a>()</code>,
<code><a href="#topic+star_schema">star_schema</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
st &lt;- star_schema(mrs_age, dm_mrs_age) |&gt;
  role_playing_dimension(
    dim_names = c("when", "when_available"),
    name = "When Common",
    attributes = c("Date", "Week", "Year")
  )

st &lt;- star_schema(mrs_cause, dm_mrs_cause) |&gt;
  role_playing_dimension(
    dim_names = c("when", "when_received", "when_available"),
    name = "when_common",
    attributes = c("date", "week", "year")
  )

</code></pre>

<hr>
<h2 id='run_query'>Run query</h2><span id='topic+run_query'></span><span id='topic+run_query.dimensional_query'></span>

<h3>Description</h3>

<p>Once we have selected the facts, dimensions and defined the conditions on the
instances, we can execute the query to obtain the result.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>run_query(dq, unify_by_grain = TRUE)

## S3 method for class 'dimensional_query'
run_query(dq, unify_by_grain = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="run_query_+3A_dq">dq</code></td>
<td>
<p>A <code>dimensional_query</code> object.</p>
</td></tr>
<tr><td><code id="run_query_+3A_unify_by_grain">unify_by_grain</code></td>
<td>
<p>A boolean, unify facts with the same grain.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>As an option, we can indicate if we do not want to unify the facts in the
case of having the same grain.
</p>


<h3>Value</h3>

<p>A <code>dimensional_query</code> object.
</p>


<h3>See Also</h3>

<p>Other query functions: 
<code><a href="#topic+dimensional_query">dimensional_query</a>()</code>,
<code><a href="#topic+filter_dimension">filter_dimension</a>()</code>,
<code><a href="#topic+select_dimension">select_dimension</a>()</code>,
<code><a href="#topic+select_fact">select_fact</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ms &lt;- dimensional_query(ms_mrs) |&gt;
  select_dimension(name = "where",
                   attributes = c("city", "state")) |&gt;
  select_dimension(name = "when",
                   attributes = c("when_happened_year")) |&gt;
  select_fact(
    name = "mrs_age",
    measures = c("n_deaths"),
    agg_functions = c("MAX")
  ) |&gt;
  select_fact(
    name = "mrs_cause",
    measures = c("pneumonia_and_influenza_deaths", "other_deaths")
  ) |&gt;
  filter_dimension(name = "when", when_happened_week &lt;= "03") |&gt;
  filter_dimension(name = "where", city == "Boston") |&gt;
  run_query()

</code></pre>

<hr>
<h2 id='select_dimension'>Select dimension</h2><span id='topic+select_dimension'></span><span id='topic+select_dimension.dimensional_query'></span>

<h3>Description</h3>

<p>To add a dimension in a <code>dimensional_query</code> object, we have to define its
name and a subset of the dimension attributes. If only the name of the
dimension is indicated, it is considered that all its attributes should be
added.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>select_dimension(dq, name = NULL, attributes = NULL)

## S3 method for class 'dimensional_query'
select_dimension(dq, name = NULL, attributes = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="select_dimension_+3A_dq">dq</code></td>
<td>
<p>A <code>dimensional_query</code> object.</p>
</td></tr>
<tr><td><code id="select_dimension_+3A_name">name</code></td>
<td>
<p>A string, name of the dimension.</p>
</td></tr>
<tr><td><code id="select_dimension_+3A_attributes">attributes</code></td>
<td>
<p>A vector of attribute names.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>dimensional_query</code> object.
</p>


<h3>See Also</h3>

<p>Other query functions: 
<code><a href="#topic+dimensional_query">dimensional_query</a>()</code>,
<code><a href="#topic+filter_dimension">filter_dimension</a>()</code>,
<code><a href="#topic+run_query">run_query</a>()</code>,
<code><a href="#topic+select_fact">select_fact</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
dq &lt;- dimensional_query(ms_mrs) |&gt;
  select_dimension(name = "where",
                  attributes = c("city", "state")) |&gt;
  select_dimension(name = "when")

</code></pre>

<hr>
<h2 id='select_fact'>Select fact</h2><span id='topic+select_fact'></span><span id='topic+select_fact.dimensional_query'></span>

<h3>Description</h3>

<p>To define the fact to be consulted, its name is indicated, optionally, a
vector of names of selected measures and another of aggregation functions are
also indicated.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>select_fact(dq, name = NULL, measures = NULL, agg_functions = NULL)

## S3 method for class 'dimensional_query'
select_fact(dq, name = NULL, measures = NULL, agg_functions = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="select_fact_+3A_dq">dq</code></td>
<td>
<p>A <code>dimensional_query</code> object.</p>
</td></tr>
<tr><td><code id="select_fact_+3A_name">name</code></td>
<td>
<p>A string, name of the fact.</p>
</td></tr>
<tr><td><code id="select_fact_+3A_measures">measures</code></td>
<td>
<p>A vector of measure names.</p>
</td></tr>
<tr><td><code id="select_fact_+3A_agg_functions">agg_functions</code></td>
<td>
<p>A vector of aggregation function names. If none is
indicated, those defined in the fact table are considered.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If the name of any measure is not indicated, only the one corresponding to
the number of aggregated rows is included, which is always included.
</p>
<p>If no aggregation function is included, those defined for the measures are
considered.
</p>


<h3>Value</h3>

<p>A <code>dimensional_query</code> object.
</p>


<h3>See Also</h3>

<p>Other query functions: 
<code><a href="#topic+dimensional_query">dimensional_query</a>()</code>,
<code><a href="#topic+filter_dimension">filter_dimension</a>()</code>,
<code><a href="#topic+run_query">run_query</a>()</code>,
<code><a href="#topic+select_dimension">select_dimension</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
dq &lt;- dimensional_query(ms_mrs) |&gt;
  select_fact(
    name = "mrs_age",
    measures = c("n_deaths"),
    agg_functions = c("MAX")
  )

dq &lt;- dimensional_query(ms_mrs) |&gt;
  select_fact(name = "mrs_age",
             measures = c("n_deaths"))

dq &lt;- dimensional_query(ms_mrs) |&gt;
  select_fact(name = "mrs_age")

</code></pre>

<hr>
<h2 id='selection_bit_map'>Generate a record selection bitmap</h2><span id='topic+selection_bit_map'></span>

<h3>Description</h3>

<p>Obtain a vector of boolean to select the records in the table that have the
combination of values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>selection_bit_map(table, values, names)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="selection_bit_map_+3A_table">table</code></td>
<td>
<p>A <code>tibble</code>, table to select.</p>
</td></tr>
<tr><td><code id="selection_bit_map_+3A_values">values</code></td>
<td>
<p>A <code>tibble</code>, set of values to search.</p>
</td></tr>
<tr><td><code id="selection_bit_map_+3A_names">names</code></td>
<td>
<p>A vector of column names to consider.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of boolean.
</p>

<hr>
<h2 id='set_dimension_name'>Set the dimension name</h2><span id='topic+set_dimension_name'></span><span id='topic+set_dimension_name.dimension_table'></span>

<h3>Description</h3>

<p>It allows us to define the name of the dimension.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_dimension_name(dimension, name)

## S3 method for class 'dimension_table'
set_dimension_name(dimension, name)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="set_dimension_name_+3A_dimension">dimension</code></td>
<td>
<p>A <code>dimension_table</code> object.</p>
</td></tr>
<tr><td><code id="set_dimension_name_+3A_name">name</code></td>
<td>
<p>A string, name of the dimension.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Attributes can be accessed directly but this function has been defined
because it is used from other classes and is thus done in a more controlled
way.
</p>


<h3>Value</h3>

<p>A <code>dimension_table</code> object.
</p>

<hr>
<h2 id='set_dimension_type'>Set the dimension type</h2><span id='topic+set_dimension_type'></span><span id='topic+set_dimension_type.dimension_table'></span>

<h3>Description</h3>

<p>It allows us to define the type of the dimension.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_dimension_type(dimension, type)

## S3 method for class 'dimension_table'
set_dimension_type(dimension, type)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="set_dimension_type_+3A_dimension">dimension</code></td>
<td>
<p>A <code>dimension_table</code> object.</p>
</td></tr>
<tr><td><code id="set_dimension_type_+3A_type">type</code></td>
<td>
<p>A string, type of the dimension.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Attributes can be accessed directly but this function has been defined
because it is used from other classes and is thus done in a more controlled
way.
</p>


<h3>Value</h3>

<p>A <code>dimension_table</code> object.
</p>

<hr>
<h2 id='set_dimension_type_conformed'>Set the type of a conformed dimension</h2><span id='topic+set_dimension_type_conformed'></span><span id='topic+set_dimension_type_conformed.dimension_table'></span>

<h3>Description</h3>

<p>It allows us to define the type of a conformed dimension.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_dimension_type_conformed(dimension)

## S3 method for class 'dimension_table'
set_dimension_type_conformed(dimension)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="set_dimension_type_conformed_+3A_dimension">dimension</code></td>
<td>
<p>A <code>dimension_table</code> object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Attributes can be accessed directly but this function has been defined
because it is used from other classes and is thus done in a more controlled
way.
</p>


<h3>Value</h3>

<p>A <code>dimension_table</code> object.
</p>

<hr>
<h2 id='set_dimension_type_role_playing'>Set the type of a role-playing dimension</h2><span id='topic+set_dimension_type_role_playing'></span><span id='topic+set_dimension_type_role_playing.dimension_table'></span>

<h3>Description</h3>

<p>It allows us to define the type of a role-playing dimension.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_dimension_type_role_playing(dimension)

## S3 method for class 'dimension_table'
set_dimension_type_role_playing(dimension)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="set_dimension_type_role_playing_+3A_dimension">dimension</code></td>
<td>
<p>A <code>dimension_table</code> object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Attributes can be accessed directly but this function has been defined
because it is used from other classes and is thus done in a more controlled
way.
</p>


<h3>Value</h3>

<p>A <code>dimension_table</code> object.
</p>

<hr>
<h2 id='set_fact_name'>Set fact name</h2><span id='topic+set_fact_name'></span><span id='topic+set_fact_name.fact_table'></span>

<h3>Description</h3>

<p>It allows us to define the name of facts.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_fact_name(ft, name)

## S3 method for class 'fact_table'
set_fact_name(ft, name)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="set_fact_name_+3A_ft">ft</code></td>
<td>
<p>A <code>fact_table</code> object.</p>
</td></tr>
<tr><td><code id="set_fact_name_+3A_name">name</code></td>
<td>
<p>A string, name of fact.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Attributes can be accessed directly but this function has been defined
because it is used from other classes and is thus done in a more controlled
way.
</p>


<h3>Value</h3>

<p>A <code>fact_table</code> object.
</p>

<hr>
<h2 id='set_role_playing_dimension_name'>Set the associated role-playing dimension name</h2><span id='topic+set_role_playing_dimension_name'></span><span id='topic+set_role_playing_dimension_name.dimension_table'></span>

<h3>Description</h3>

<p>Each role dimension has the name of the role-playing dimension associated.
This function allows us to set its name.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_role_playing_dimension_name(dimension, name)

## S3 method for class 'dimension_table'
set_role_playing_dimension_name(dimension, name)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="set_role_playing_dimension_name_+3A_dimension">dimension</code></td>
<td>
<p>A <code>dimension_table</code> object.</p>
</td></tr>
<tr><td><code id="set_role_playing_dimension_name_+3A_name">name</code></td>
<td>
<p>A string, name of role-playing dimension.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Attributes can be accessed directly but this function has been defined
because it is used from other classes and is thus done in a more controlled
way.
</p>


<h3>Value</h3>

<p>A <code>dimension_table</code> object.
</p>

<hr>
<h2 id='snake_case'>Transform names according to the snake case style</h2><span id='topic+snake_case'></span><span id='topic+snake_case.star_schema'></span>

<h3>Description</h3>

<p>Transform fact, dimension, measurement, and attribute names according to the
snake case style.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>snake_case(st)

## S3 method for class 'star_schema'
snake_case(st)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="snake_case_+3A_st">st</code></td>
<td>
<p>A <code>star_schema</code> object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This style is suitable if we are going to work with databases.
</p>


<h3>Value</h3>

<p>A <code>star_schema</code> object.
</p>


<h3>See Also</h3>

<p>Other star schema and constellation definition functions: 
<code><a href="#topic+character_dimensions">character_dimensions</a>()</code>,
<code><a href="#topic+constellation">constellation</a>()</code>,
<code><a href="#topic+role_playing_dimension">role_playing_dimension</a>()</code>,
<code><a href="#topic+star_schema">star_schema</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
st &lt;- star_schema(mrs_age, dm_mrs_age) |&gt;
  snake_case()

st &lt;- star_schema(mrs_age, dm_mrs_age) |&gt;
  role_playing_dimension(
    dim_names = c("when", "when_available"),
    name = "When Common",
    attributes = c("Date", "Week", "Year")
  ) |&gt;
  snake_case()

</code></pre>

<hr>
<h2 id='snake_case_dimension'>Transform names according to the snake case style in a dimension</h2><span id='topic+snake_case_dimension'></span><span id='topic+snake_case_dimension.dimension_table'></span>

<h3>Description</h3>

<p>Transform column, attribute and dimension names according to the snake case
style.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>snake_case_dimension(dimension)

## S3 method for class 'dimension_table'
snake_case_dimension(dimension)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="snake_case_dimension_+3A_dimension">dimension</code></td>
<td>
<p>A <code>dimension_table</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>dimension_table</code> object.
</p>

<hr>
<h2 id='snake_case_fact'>Transform names according to the snake case style in a fact table</h2><span id='topic+snake_case_fact'></span><span id='topic+snake_case_fact.fact_table'></span>

<h3>Description</h3>

<p>Transform foreign keys, measures and fact table names according to the snake
case style.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>snake_case_fact(ft)

## S3 method for class 'fact_table'
snake_case_fact(ft)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="snake_case_fact_+3A_ft">ft</code></td>
<td>
<p>A <code>fact_table</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>fact_table</code> object.
</p>

<hr>
<h2 id='st_mrs_age'>Star Schema for Mortality Reporting System by Age</h2><span id='topic+st_mrs_age'></span>

<h3>Description</h3>

<p>Star Schema for the Mortality Reporting System considering the age
classification.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>st_mrs_age
</code></pre>


<h3>Format</h3>

<p>A <code>star_schema</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Defined by:

st_mrs_age &lt;- star_schema(mrs_age, dm_mrs_age) |&gt;
  role_playing_dimension(
    dim_names = c("when", "when_available"),
    name = "When Common",
    attributes = c("date", "week", "year")
  ) |&gt;
  snake_case() |&gt;
  character_dimensions(NA_replacement_value = "Unknown",
                       length_integers = list(week = 2))

</code></pre>

<hr>
<h2 id='st_mrs_age_test'>Star Schema for Mortality Reporting System by Age Test</h2><span id='topic+st_mrs_age_test'></span>

<h3>Description</h3>

<p>Star Schema for the Mortality Reporting System considering the age
classification data test.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>st_mrs_age_test
</code></pre>


<h3>Format</h3>

<p>A <code>star_schema</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Defined by:

st_mrs_age_test &lt;- star_schema(mrs_age_test, dm_mrs_age) |&gt;
  role_playing_dimension(
    dim_names = c("when", "when_available"),
    name = "When Common",
    attributes = c("date", "week", "year")
  ) |&gt;
  snake_case() |&gt;
  character_dimensions(NA_replacement_value = "Unknown",
                       length_integers = list(week = 2))

</code></pre>

<hr>
<h2 id='st_mrs_age_w_test'>Star Schema for Mortality Reporting System by Age for Week Test</h2><span id='topic+st_mrs_age_w_test'></span>

<h3>Description</h3>

<p>Star Schema for the Mortality Reporting System considering the age
classification data test, for week 4 of 1962. It also includes some isolated
data from previous weeks that is supposed to be corrections for data errors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>st_mrs_age_w_test
</code></pre>


<h3>Format</h3>

<p>A <code>star_schema</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Defined by:

st_mrs_age_w_test &lt;- star_schema(mrs_age_w_test, dm_mrs_age) |&gt;
  role_playing_dimension(
    dim_names = c("when", "when_available"),
    name = "When Common",
    attributes = c("date", "week", "year")
  ) |&gt;
  snake_case() |&gt;
  character_dimensions(NA_replacement_value = "Unknown",
                       length_integers = list(week = 2))

</code></pre>

<hr>
<h2 id='st_mrs_age_w10'>Star Schema for Mortality Reporting System by Age for Week 10</h2><span id='topic+st_mrs_age_w10'></span>

<h3>Description</h3>

<p>Star Schema for the Mortality Reporting System considering the age
classification data, for week 10 of 1962. It also includes some isolated data
from previous weeks that is supposed to be corrections for data errors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>st_mrs_age_w10
</code></pre>


<h3>Format</h3>

<p>A <code>star_schema</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Defined by:

st_mrs_age_w10 &lt;- star_schema(mrs_age_w10, dm_mrs_age) |&gt;
  role_playing_dimension(
    dim_names = c("when", "when_available"),
    name = "When Common",
    attributes = c("date", "week", "year")
  ) |&gt;
  snake_case() |&gt;
  character_dimensions(NA_replacement_value = "Unknown",
                       length_integers = list(week = 2))

</code></pre>

<hr>
<h2 id='st_mrs_age_w11'>Star Schema for Mortality Reporting System by Age for Week 11</h2><span id='topic+st_mrs_age_w11'></span>

<h3>Description</h3>

<p>Star Schema for the Mortality Reporting System considering the age
classification data, for week 11 of 1962. It also includes some isolated data
from previous weeks that is supposed to be corrections for data errors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>st_mrs_age_w11
</code></pre>


<h3>Format</h3>

<p>A <code>star_schema</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Defined by:

st_mrs_age_w11 &lt;- star_schema(mrs_age_w11, dm_mrs_age) |&gt;
  role_playing_dimension(
    dim_names = c("when", "when_available"),
    name = "When Common",
    attributes = c("date", "week", "year")
  ) |&gt;
  snake_case() |&gt;
  character_dimensions(NA_replacement_value = "Unknown",
                       length_integers = list(week = 2))

</code></pre>

<hr>
<h2 id='st_mrs_cause'>Star Schema for Mortality Reporting System by Cause</h2><span id='topic+st_mrs_cause'></span>

<h3>Description</h3>

<p>Star Schema for the Mortality Reporting System considering the cause
classification.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>st_mrs_cause
</code></pre>


<h3>Format</h3>

<p>A <code>star_schema</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Defined by:

st_mrs_cause &lt;- star_schema(mrs_cause, dm_mrs_cause) |&gt;
  snake_case() |&gt;
  character_dimensions(
    NA_replacement_value = "Unknown",
    length_integers = list(
      week = 2,
      data_availability_week = 2,
      reception_week = 2
    )
  ) |&gt;
  role_playing_dimension(
    dim_names = c("when", "when_received", "when_available"),
    name = "when_common",
    attributes = c("date", "week", "year")
  )

</code></pre>

<hr>
<h2 id='st_mrs_cause_test'>Star Schema for Mortality Reporting System by Cause Test</h2><span id='topic+st_mrs_cause_test'></span>

<h3>Description</h3>

<p>Star Schema for the Mortality Reporting System considering the cause
classification data test.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>st_mrs_cause_test
</code></pre>


<h3>Format</h3>

<p>A <code>star_schema</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Defined by:

st_mrs_cause_test &lt;- star_schema(mrs_cause_test, dm_mrs_cause) |&gt;
  snake_case() |&gt;
  character_dimensions(
    NA_replacement_value = "Unknown",
    length_integers = list(
      week = 2,
      data_availability_week = 2,
      reception_week = 2
    )
  ) |&gt;
  role_playing_dimension(
    dim_names = c("when", "when_received", "when_available"),
    name = "when_common",
    attributes = c("date", "week", "year")
  )

</code></pre>

<hr>
<h2 id='st_mrs_cause_w_test'>Star Schema for Mortality Reporting System by Cause for Week Test</h2><span id='topic+st_mrs_cause_w_test'></span>

<h3>Description</h3>

<p>Star Schema for the Mortality Reporting System considering the cause
classification data test, for week 4 of 1962. It also includes some isolated
data from previous weeks that is supposed to be additional data not
considered before.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>st_mrs_cause_w_test
</code></pre>


<h3>Format</h3>

<p>A <code>star_schema</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Defined by:

st_mrs_cause_w_test &lt;- star_schema(mrs_cause_w_test, dm_mrs_cause) |&gt;
  snake_case() |&gt;
  character_dimensions(
    NA_replacement_value = "Unknown",
    length_integers = list(
      week = 2,
      data_availability_week = 2,
      reception_week = 2
    )
  ) |&gt;
  role_playing_dimension(
    dim_names = c("when", "when_received", "when_available"),
    name = "when_common",
    attributes = c("date", "week", "year")
  )

</code></pre>

<hr>
<h2 id='st_mrs_cause_w10'>Star Schema for Mortality Reporting System by Cause for Week 10</h2><span id='topic+st_mrs_cause_w10'></span>

<h3>Description</h3>

<p>Star Schema for the Mortality Reporting System considering the cause
classification data, for week 10 of 1962. It also includes some isolated data
from previous weeks that is supposed to be additional data not considered
before.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>st_mrs_cause_w10
</code></pre>


<h3>Format</h3>

<p>A <code>star_schema</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Defined by:

st_mrs_cause_w10 &lt;- star_schema(mrs_cause_w10, dm_mrs_cause) |&gt;
  snake_case() |&gt;
  character_dimensions(
    NA_replacement_value = "Unknown",
    length_integers = list(
      week = 2,
      data_availability_week = 2,
      reception_week = 2
    )
  ) |&gt;
  role_playing_dimension(
    dim_names = c("when", "when_received", "when_available"),
    name = "when_common",
    attributes = c("date", "week", "year")
  )

</code></pre>

<hr>
<h2 id='st_mrs_cause_w11'>Star Schema for Mortality Reporting System by Cause for Week 11</h2><span id='topic+st_mrs_cause_w11'></span>

<h3>Description</h3>

<p>Star Schema for the Mortality Reporting System considering the cause
classification data, for week 11 of 1962. It also includes some isolated data
from previous weeks that is supposed to be additional data not considered
before.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>st_mrs_cause_w11
</code></pre>


<h3>Format</h3>

<p>A <code>star_schema</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Defined by:

st_mrs_cause_w11 &lt;- star_schema(mrs_cause_w11, dm_mrs_cause) |&gt;
  snake_case() |&gt;
  character_dimensions(
    NA_replacement_value = "Unknown",
    length_integers = list(
      week = 2,
      data_availability_week = 2,
      reception_week = 2
    )
  ) |&gt;
  role_playing_dimension(
    dim_names = c("when", "when_received", "when_available"),
    name = "when_common",
    attributes = c("date", "week", "year")
  )

</code></pre>

<hr>
<h2 id='star_schema'><code>star_schema</code> S3 class</h2><span id='topic+star_schema'></span>

<h3>Description</h3>

<p>Creates a <code>star_schema</code> object from a flat table (implemented by a <code>tibble</code>)
and a <code>dimensional_model</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>star_schema(ft, sd)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="star_schema_+3A_ft">ft</code></td>
<td>
<p>A <code>tibble</code>, implements a flat table.</p>
</td></tr>
<tr><td><code id="star_schema_+3A_sd">sd</code></td>
<td>
<p>A <code>dimensional_model</code> object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Transforms the flat table data according to the facts and dimension
definitions of the <code>dimensional_model</code> object. Each dimension is generated with
a surrogate key which is a foreign key in facts.
</p>
<p>Facts only contain measurements and foreign keys.
</p>


<h3>Value</h3>

<p>A <code>star_schema</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+dimensional_model">dimensional_model</a></code>
</p>
<p>Other star schema and constellation definition functions: 
<code><a href="#topic+character_dimensions">character_dimensions</a>()</code>,
<code><a href="#topic+constellation">constellation</a>()</code>,
<code><a href="#topic+role_playing_dimension">role_playing_dimension</a>()</code>,
<code><a href="#topic+snake_case">snake_case</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
st &lt;- star_schema(mrs_age, dm_mrs_age)

</code></pre>

<hr>
<h2 id='star_schema_as_flat_table'>Export a star schema as a flat table</h2><span id='topic+star_schema_as_flat_table'></span><span id='topic+star_schema_as_flat_table.star_schema'></span>

<h3>Description</h3>

<p>Once we have refined the format or content of facts and dimensions, we can
again obtain a flat table, implemented using a <code>tibble</code>, from a star schema.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>star_schema_as_flat_table(st)

## S3 method for class 'star_schema'
star_schema_as_flat_table(st)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="star_schema_as_flat_table_+3A_st">st</code></td>
<td>
<p>A <code>star_schema</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>tibble</code>.
</p>


<h3>See Also</h3>

<p>Other results export functions: 
<code><a href="#topic+constellation_as_multistar">constellation_as_multistar</a>()</code>,
<code><a href="#topic+constellation_as_tibble_list">constellation_as_tibble_list</a>()</code>,
<code><a href="#topic+multistar_as_flat_table">multistar_as_flat_table</a>()</code>,
<code><a href="#topic+star_schema_as_multistar">star_schema_as_multistar</a>()</code>,
<code><a href="#topic+star_schema_as_tibble_list">star_schema_as_tibble_list</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ft &lt;- st_mrs_age |&gt;
  star_schema_as_flat_table()

</code></pre>

<hr>
<h2 id='star_schema_as_mst'>Star schema as <code>multistar</code> export (common)</h2><span id='topic+star_schema_as_mst'></span><span id='topic+star_schema_as_mst.star_schema'></span>

<h3>Description</h3>

<p>Star schema as <code>multistar</code> export (common)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>star_schema_as_mst(st, fl = NULL, dl = NULL, commondim = NULL)

## S3 method for class 'star_schema'
star_schema_as_mst(st, fl = NULL, dl = NULL, commondim = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="star_schema_as_mst_+3A_st">st</code></td>
<td>
<p>A <code>star_schema</code> object.</p>
</td></tr>
<tr><td><code id="star_schema_as_mst_+3A_fl">fl</code></td>
<td>
<p>A list of <code>fact_table</code> objects.</p>
</td></tr>
<tr><td><code id="star_schema_as_mst_+3A_dl">dl</code></td>
<td>
<p>A list of <code>dimension_table</code> objects.</p>
</td></tr>
<tr><td><code id="star_schema_as_mst_+3A_commondim">commondim</code></td>
<td>
<p>A list of dimension names already included.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>multistar</code> object.
</p>

<hr>
<h2 id='star_schema_as_multistar'>Export a star schema as a <code>multistar</code></h2><span id='topic+star_schema_as_multistar'></span><span id='topic+star_schema_as_multistar.star_schema'></span>

<h3>Description</h3>

<p>Once we have refined the format or content of facts and dimensions, we can
obtain a <code>multistar</code>. A <code>multistar</code> only distinguishes between general and
conformed dimensions, each dimension has its own data. It can contain
multiple fact tables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>star_schema_as_multistar(st)

## S3 method for class 'star_schema'
star_schema_as_multistar(st)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="star_schema_as_multistar_+3A_st">st</code></td>
<td>
<p>A <code>star_schema</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>multistar</code> object.
</p>


<h3>See Also</h3>

<p>Other results export functions: 
<code><a href="#topic+constellation_as_multistar">constellation_as_multistar</a>()</code>,
<code><a href="#topic+constellation_as_tibble_list">constellation_as_tibble_list</a>()</code>,
<code><a href="#topic+multistar_as_flat_table">multistar_as_flat_table</a>()</code>,
<code><a href="#topic+star_schema_as_flat_table">star_schema_as_flat_table</a>()</code>,
<code><a href="#topic+star_schema_as_tibble_list">star_schema_as_tibble_list</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ms &lt;- st_mrs_age |&gt;
  star_schema_as_multistar()

</code></pre>

<hr>
<h2 id='star_schema_as_tibble_list'>Export a star schema as a <code>tibble</code> list</h2><span id='topic+star_schema_as_tibble_list'></span><span id='topic+star_schema_as_tibble_list.star_schema'></span>

<h3>Description</h3>

<p>Once we have refined the format or content of facts and dimensions, we can
obtain a <code>tibble</code> list with them. Role playing dimensions can be optionally
included.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>star_schema_as_tibble_list(st, include_role_playing = FALSE)

## S3 method for class 'star_schema'
star_schema_as_tibble_list(st, include_role_playing = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="star_schema_as_tibble_list_+3A_st">st</code></td>
<td>
<p>A <code>star_schema</code> object.</p>
</td></tr>
<tr><td><code id="star_schema_as_tibble_list_+3A_include_role_playing">include_role_playing</code></td>
<td>
<p>A boolean.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of <code>tibble</code> objects.
</p>


<h3>See Also</h3>

<p>Other results export functions: 
<code><a href="#topic+constellation_as_multistar">constellation_as_multistar</a>()</code>,
<code><a href="#topic+constellation_as_tibble_list">constellation_as_tibble_list</a>()</code>,
<code><a href="#topic+multistar_as_flat_table">multistar_as_flat_table</a>()</code>,
<code><a href="#topic+star_schema_as_flat_table">star_schema_as_flat_table</a>()</code>,
<code><a href="#topic+star_schema_as_multistar">star_schema_as_multistar</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
tl &lt;- st_mrs_age |&gt;
  star_schema_as_tibble_list()

tl &lt;- st_mrs_age |&gt;
  star_schema_as_tibble_list(include_role_playing = TRUE)

</code></pre>

<hr>
<h2 id='star_schema_as_tl'>Export a star schema as a <code>tibble</code> list (common)</h2><span id='topic+star_schema_as_tl'></span><span id='topic+star_schema_as_tl.star_schema'></span>

<h3>Description</h3>

<p>Export a star schema as a <code>tibble</code> list (common)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>star_schema_as_tl(st, tl_prev = NULL, commondim = NULL, include_role_playing)

## S3 method for class 'star_schema'
star_schema_as_tl(st, tl_prev = NULL, commondim = NULL, include_role_playing)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="star_schema_as_tl_+3A_st">st</code></td>
<td>
<p>A <code>star_schema</code> object.</p>
</td></tr>
<tr><td><code id="star_schema_as_tl_+3A_tl_prev">tl_prev</code></td>
<td>
<p>A list of <code>tibble</code> objects.</p>
</td></tr>
<tr><td><code id="star_schema_as_tl_+3A_commondim">commondim</code></td>
<td>
<p>A list of dimension names already included.</p>
</td></tr>
<tr><td><code id="star_schema_as_tl_+3A_include_role_playing">include_role_playing</code></td>
<td>
<p>A boolean.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>tibble</code> list.
</p>

<hr>
<h2 id='typed_value'>Transform a value according to its type</h2><span id='topic+typed_value'></span>

<h3>Description</h3>

<p>Transform a string value according to its given type.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>typed_value(value, type)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="typed_value_+3A_value">value</code></td>
<td>
<p>A string.</p>
</td></tr>
<tr><td><code id="typed_value_+3A_type">type</code></td>
<td>
<p>A string</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A typed value.
</p>

<hr>
<h2 id='unify_facts_by_grain'>Unify facts by grain</h2><span id='topic+unify_facts_by_grain'></span>

<h3>Description</h3>

<p>Unify facts by grain
</p>


<h3>Usage</h3>

<pre><code class='language-R'>unify_facts_by_grain(dq)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="unify_facts_by_grain_+3A_dq">dq</code></td>
<td>
<p>A <code>dimensional_query</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>dimensional_query</code> object.
</p>

<hr>
<h2 id='union_of_dimensions'>Perform union of dimensions</h2><span id='topic+union_of_dimensions'></span>

<h3>Description</h3>

<p>Generates a new dimension from the instances of the dimensions in a list, as
the union of the dimensions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>union_of_dimensions(dimensions, name = NULL, type = "role_playing")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="union_of_dimensions_+3A_dimensions">dimensions</code></td>
<td>
<p>List of <code>dimension_table</code> objects.</p>
</td></tr>
<tr><td><code id="union_of_dimensions_+3A_name">name</code></td>
<td>
<p>A string, name of the dimension.</p>
</td></tr>
<tr><td><code id="union_of_dimensions_+3A_type">type</code></td>
<td>
<p>A string, type of the dimension.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>dimension_table</code> object.
</p>

<hr>
<h2 id='update_dimension'>Apply dimension record update operations to a dimension</h2><span id='topic+update_dimension'></span><span id='topic+update_dimension.dimension_table'></span>

<h3>Description</h3>

<p>Given a list of dimension record update operations, they are applied on the
<code>dimension_table</code> object. Update operations must be defined with the set of
functions available for that purpose.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>update_dimension(dimension, updates)

## S3 method for class 'dimension_table'
update_dimension(dimension, updates)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="update_dimension_+3A_dimension">dimension</code></td>
<td>
<p>A <code>dimension_table</code> object.</p>
</td></tr>
<tr><td><code id="update_dimension_+3A_updates">updates</code></td>
<td>
<p>A <code>record_update_set</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>dimension_table</code> object.
</p>

<hr>
<h2 id='update_dimensions'>Apply update operations to dimensions</h2><span id='topic+update_dimensions'></span>

<h3>Description</h3>

<p>Apply dimension record update operations to the dimensions in the list.
Returns the list of modified dimensions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>update_dimensions(dimensions, updates)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="update_dimensions_+3A_dimensions">dimensions</code></td>
<td>
<p>List of <code>dimension_table</code> objects to update.</p>
</td></tr>
<tr><td><code id="update_dimensions_+3A_updates">updates</code></td>
<td>
<p>A <code>record_update_set</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List of updated <code>dimension_table</code> objects.
</p>

<hr>
<h2 id='update_facts_with_dimensions'>Update facts with a list of modified dimensions</h2><span id='topic+update_facts_with_dimensions'></span><span id='topic+update_facts_with_dimensions.star_schema'></span>

<h3>Description</h3>

<p>Update the fact table with the modified dimensions. New dimensions are
generated from the modified ones.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>update_facts_with_dimensions(st, dimensions)

## S3 method for class 'star_schema'
update_facts_with_dimensions(st, dimensions)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="update_facts_with_dimensions_+3A_st">st</code></td>
<td>
<p>A <code>star_schema</code> object.</p>
</td></tr>
<tr><td><code id="update_facts_with_dimensions_+3A_dimensions">dimensions</code></td>
<td>
<p>A list of <code>dimension_table</code> objects.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>star_schema</code> object.
</p>

<hr>
<h2 id='update_facts_with_general_dimension'>Update facts with a general dimension</h2><span id='topic+update_facts_with_general_dimension'></span>

<h3>Description</h3>

<p>Update facts with a general dimension
</p>


<h3>Usage</h3>

<pre><code class='language-R'>update_facts_with_general_dimension(st, name, old_dimension, dimension)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="update_facts_with_general_dimension_+3A_st">st</code></td>
<td>
<p>A <code>star_schema</code> object.</p>
</td></tr>
<tr><td><code id="update_facts_with_general_dimension_+3A_name">name</code></td>
<td>
<p>A string, name of the dimension.</p>
</td></tr>
<tr><td><code id="update_facts_with_general_dimension_+3A_old_dimension">old_dimension</code></td>
<td>
<p>A <code>dimension_table</code> object.</p>
</td></tr>
<tr><td><code id="update_facts_with_general_dimension_+3A_dimension">dimension</code></td>
<td>
<p>A <code>dimension_table</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>star_schema</code> object.
</p>

<hr>
<h2 id='update_facts_with_role_dimension'>Update facts with a role dimension</h2><span id='topic+update_facts_with_role_dimension'></span>

<h3>Description</h3>

<p>Update facts with a role dimension
</p>


<h3>Usage</h3>

<pre><code class='language-R'>update_facts_with_role_dimension(
  st,
  name,
  old_dimension,
  dimension,
  dimension_names
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="update_facts_with_role_dimension_+3A_st">st</code></td>
<td>
<p>A <code>star_schema</code> object.</p>
</td></tr>
<tr><td><code id="update_facts_with_role_dimension_+3A_name">name</code></td>
<td>
<p>A string, name of the dimension.</p>
</td></tr>
<tr><td><code id="update_facts_with_role_dimension_+3A_old_dimension">old_dimension</code></td>
<td>
<p>A <code>dimension_table</code> object.</p>
</td></tr>
<tr><td><code id="update_facts_with_role_dimension_+3A_dimension">dimension</code></td>
<td>
<p>A <code>dimension_table</code> object.</p>
</td></tr>
<tr><td><code id="update_facts_with_role_dimension_+3A_dimension_names">dimension_names</code></td>
<td>
<p>A vector of dimension names.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>star_schema</code> object.
</p>

<hr>
<h2 id='update_record'>Update a dimension record with a set of values</h2><span id='topic+update_record'></span><span id='topic+update_record.record_update_set'></span>

<h3>Description</h3>

<p>For a dimension, given the primary key of one record, it adds an update to
the set of updates that modifies the combination of values of the rest of
attributes of the selected record so that they become those given.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>update_record(updates = NULL, dimension, old, values = vector())

## S3 method for class 'record_update_set'
update_record(updates = NULL, dimension, old, values = vector())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="update_record_+3A_updates">updates</code></td>
<td>
<p>A <code>record_update_set</code> object.</p>
</td></tr>
<tr><td><code id="update_record_+3A_dimension">dimension</code></td>
<td>
<p>A <code>dimension_table</code> object, dimension to update.</p>
</td></tr>
<tr><td><code id="update_record_+3A_old">old</code></td>
<td>
<p>A number, primary key of the record to modify.</p>
</td></tr>
<tr><td><code id="update_record_+3A_values">values</code></td>
<td>
<p>A vector of character values.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Primary key is only used to get the combination of values easily. The
update is defined exclusively from the rest of values.
</p>


<h3>Value</h3>

<p>A <code>record_update_set</code> object.
</p>


<h3>See Also</h3>

<p>Other data cleaning functions: 
<code><a href="#topic+get_conformed_dimension">get_conformed_dimension</a>()</code>,
<code><a href="#topic+get_conformed_dimension_names">get_conformed_dimension_names</a>()</code>,
<code><a href="#topic+get_dimension">get_dimension</a>()</code>,
<code><a href="#topic+get_dimension_names">get_dimension_names</a>()</code>,
<code><a href="#topic+match_records">match_records</a>()</code>,
<code><a href="#topic+modify_conformed_dimension_records">modify_conformed_dimension_records</a>()</code>,
<code><a href="#topic+modify_dimension_records">modify_dimension_records</a>()</code>,
<code><a href="#topic+record_update_set">record_update_set</a>()</code>,
<code><a href="#topic+update_selection">update_selection</a>()</code>,
<code><a href="#topic+update_selection_general">update_selection_general</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
dim_names &lt;- st_mrs_age |&gt;
    get_dimension_names()

where &lt;- st_mrs_age |&gt;
  get_dimension("where")

# head(where, 2)

updates &lt;- record_update_set() |&gt;
  update_record(
    dimension = where,
    old = 1,
    values = c("1", "CT", "Bridgeport")
  )

</code></pre>

<hr>
<h2 id='update_selection'>Update dimension records with a set of values</h2><span id='topic+update_selection'></span><span id='topic+update_selection.record_update_set'></span>

<h3>Description</h3>

<p>For a dimension, given a vector of column names, a vector of old values and a
vector of new values, it adds an update to the set of updates that modifies
all the records that have the combination of old values in the columns with
the new values in those same columns.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>update_selection(
  updates = NULL,
  dimension,
  columns = vector(),
  old_values = vector(),
  new_values = vector()
)

## S3 method for class 'record_update_set'
update_selection(
  updates = NULL,
  dimension,
  columns = vector(),
  old_values = vector(),
  new_values = vector()
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="update_selection_+3A_updates">updates</code></td>
<td>
<p>A <code>record_update_set</code> object.</p>
</td></tr>
<tr><td><code id="update_selection_+3A_dimension">dimension</code></td>
<td>
<p>A <code>dimension_table</code> object, dimension to update.</p>
</td></tr>
<tr><td><code id="update_selection_+3A_columns">columns</code></td>
<td>
<p>A vector of column names.</p>
</td></tr>
<tr><td><code id="update_selection_+3A_old_values">old_values</code></td>
<td>
<p>A vector of character values.</p>
</td></tr>
<tr><td><code id="update_selection_+3A_new_values">new_values</code></td>
<td>
<p>A vector of character values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>record_update_set</code> object.
</p>


<h3>See Also</h3>

<p>Other data cleaning functions: 
<code><a href="#topic+get_conformed_dimension">get_conformed_dimension</a>()</code>,
<code><a href="#topic+get_conformed_dimension_names">get_conformed_dimension_names</a>()</code>,
<code><a href="#topic+get_dimension">get_dimension</a>()</code>,
<code><a href="#topic+get_dimension_names">get_dimension_names</a>()</code>,
<code><a href="#topic+match_records">match_records</a>()</code>,
<code><a href="#topic+modify_conformed_dimension_records">modify_conformed_dimension_records</a>()</code>,
<code><a href="#topic+modify_dimension_records">modify_dimension_records</a>()</code>,
<code><a href="#topic+record_update_set">record_update_set</a>()</code>,
<code><a href="#topic+update_record">update_record</a>()</code>,
<code><a href="#topic+update_selection_general">update_selection_general</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
dim_names &lt;- st_mrs_age |&gt;
    get_dimension_names()

where &lt;- st_mrs_age |&gt;
  get_dimension("where")

# head(where, 2)

updates &lt;- record_update_set() |&gt;
  update_selection(
    dimension = where,
    columns = c("city"),
    old_values = c("Bridgepor"),
    new_values = c("Bridgeport")
  )

</code></pre>

<hr>
<h2 id='update_selection_general'>Update dimension records with a set of values in given columns</h2><span id='topic+update_selection_general'></span><span id='topic+update_selection_general.record_update_set'></span>

<h3>Description</h3>

<p>For a dimension, given a vector of column names, a vector of old values for
those columns, another vector column names, and a vector of new values for
those columns, it adds an update to the set of updates that modifies all the
records that have the combination of old values in the first column vector
with the new values in the second column vector.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>update_selection_general(
  updates = NULL,
  dimension,
  columns_old = vector(),
  old_values = vector(),
  columns_new = vector(),
  new_values = vector()
)

## S3 method for class 'record_update_set'
update_selection_general(
  updates = NULL,
  dimension,
  columns_old = vector(),
  old_values = vector(),
  columns_new = vector(),
  new_values = vector()
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="update_selection_general_+3A_updates">updates</code></td>
<td>
<p>A <code>record_update_set</code> object.</p>
</td></tr>
<tr><td><code id="update_selection_general_+3A_dimension">dimension</code></td>
<td>
<p>A <code>dimension_table</code> object, dimension to update.</p>
</td></tr>
<tr><td><code id="update_selection_general_+3A_columns_old">columns_old</code></td>
<td>
<p>A vector of column names.</p>
</td></tr>
<tr><td><code id="update_selection_general_+3A_old_values">old_values</code></td>
<td>
<p>A vector of character values.</p>
</td></tr>
<tr><td><code id="update_selection_general_+3A_columns_new">columns_new</code></td>
<td>
<p>A vector of column names.</p>
</td></tr>
<tr><td><code id="update_selection_general_+3A_new_values">new_values</code></td>
<td>
<p>A vector of character values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>record_update_set</code> object.
</p>


<h3>See Also</h3>

<p>Other data cleaning functions: 
<code><a href="#topic+get_conformed_dimension">get_conformed_dimension</a>()</code>,
<code><a href="#topic+get_conformed_dimension_names">get_conformed_dimension_names</a>()</code>,
<code><a href="#topic+get_dimension">get_dimension</a>()</code>,
<code><a href="#topic+get_dimension_names">get_dimension_names</a>()</code>,
<code><a href="#topic+match_records">match_records</a>()</code>,
<code><a href="#topic+modify_conformed_dimension_records">modify_conformed_dimension_records</a>()</code>,
<code><a href="#topic+modify_dimension_records">modify_dimension_records</a>()</code>,
<code><a href="#topic+record_update_set">record_update_set</a>()</code>,
<code><a href="#topic+update_record">update_record</a>()</code>,
<code><a href="#topic+update_selection">update_selection</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
dim_names &lt;- st_mrs_age |&gt;
    get_dimension_names()

where &lt;- st_mrs_age |&gt;
  get_dimension("where")

# head(where, 2)

updates &lt;- record_update_set() |&gt;
  update_selection_general(
    dimension = where,
    columns_old = c("state", "city"),
    old_values = c("CT", "Bridgepor"),
    columns_new = c("city"),
    new_values = c("Bridgeport")
  )

</code></pre>

<hr>
<h2 id='updates_st_mrs_age'>Updates for the Star Schema for Mortality Reporting System by Age</h2><span id='topic+updates_st_mrs_age'></span>

<h3>Description</h3>

<p>Example of updates on some dimensions of the star schema for Mortality Reporting
System by age.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>updates_st_mrs_age
</code></pre>


<h3>Format</h3>

<p>A <code>record_update_set</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Defined by:

(dim_names &lt;- st_mrs_age |&gt;
    get_dimension_names())

where &lt;- st_mrs_age |&gt;
  get_dimension("where")

when &lt;- st_mrs_age |&gt;
  get_dimension("when")

who &lt;- st_mrs_age |&gt;
  get_dimension("who")

updates_st_mrs_age &lt;- record_update_set() |&gt;
  update_selection_general(
    dimension = where,
    columns_old = c("state", "city"),
    old_values = c("CT", "Bridgepor"),
    columns_new = c("city"),
    new_values = c("Bridgeport")
  ) |&gt;
  match_records(dimension = when,
                old = 37,
                new = 36) |&gt;
  update_record(
    dimension = when,
    old = 73,
    values = c("1962-02-17", "07", "1962")
  ) |&gt;
  update_selection(
    dimension = who,
    columns = c("age_range"),
    old_values = c("&lt;1 year"),
    new_values = c("1: &lt;1 year")
  ) |&gt;
  update_selection(
    dimension = who,
    columns = c("age_range"),
    old_values = c("1-24 years"),
    new_values = c("2: 1-24 years")
  ) |&gt;
  update_selection(
    dimension = who,
    columns = c("age_range"),
    old_values = c("25-44 years"),
    new_values = c("3: 25-44 years")
  ) |&gt;
  update_selection(
    dimension = who,
    columns = c("age_range"),
    old_values = c("45-64 years"),
    new_values = c("4: 45-64 years")
  ) |&gt;
  update_selection(
    dimension = who,
    columns = c("age_range"),
    old_values = c("65+ years"),
    new_values = c("5: 65+ years")
  )

</code></pre>

<hr>
<h2 id='updates_st_mrs_age_test'>Updates for the Star Schema for Mortality Reporting System by Age Test</h2><span id='topic+updates_st_mrs_age_test'></span>

<h3>Description</h3>

<p>Example of updates on some dimensions of the star schema for Mortality Reporting
System by age test.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>updates_st_mrs_age_test
</code></pre>


<h3>Format</h3>

<p>A <code>record_update_set</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Defined by:

(dim_names &lt;- st_mrs_age_test |&gt;
    get_dimension_names())

where &lt;- st_mrs_age_test |&gt;
  get_dimension("where")

when &lt;- st_mrs_age_test |&gt;
  get_dimension("when")

who &lt;- st_mrs_age_test |&gt;
  get_dimension("who")

updates_st_mrs_age_test &lt;- record_update_set() |&gt;
  update_selection_general(
    dimension = where,
    columns_old = c("state", "city"),
    old_values = c("CT", "Bridgepor"),
    columns_new = c("city"),
    new_values = c("Bridgeport")
  ) |&gt;
  match_records(dimension = when,
                old = 4,
                new = 3) |&gt;
  update_record(
    dimension = when,
    old = 9,
    values = c("1962-01-20", "03", "1962")
  ) |&gt;
  update_selection(
    dimension = who,
    columns = c("age_range"),
    old_values = c("&lt;1 year"),
    new_values = c("1: &lt;1 year")
  ) |&gt;
  update_selection(
    dimension = who,
    columns = c("age_range"),
    old_values = c("1-24 years"),
    new_values = c("2: 1-24 years")
  ) |&gt;
  update_selection(
    dimension = who,
    columns = c("age_range"),
    old_values = c("25-44 years"),
    new_values = c("3: 25-44 years")
  ) |&gt;
  update_selection(
    dimension = who,
    columns = c("age_range"),
    old_values = c("45-64 years"),
    new_values = c("4: 45-64 years")
  ) |&gt;
  update_selection(
    dimension = who,
    columns = c("age_range"),
    old_values = c("65+ years"),
    new_values = c("5: 65+ years")
  )

</code></pre>

<hr>
<h2 id='validate_names'>Validate names</h2><span id='topic+validate_names'></span>

<h3>Description</h3>

<p>Validate names
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate_names(defined_names, names, concept = "name", repeated = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="validate_names_+3A_defined_names">defined_names</code></td>
<td>
<p>A vector of strings, defined attribute names.</p>
</td></tr>
<tr><td><code id="validate_names_+3A_names">names</code></td>
<td>
<p>A vector of strings, new attribute names.</p>
</td></tr>
<tr><td><code id="validate_names_+3A_concept">concept</code></td>
<td>
<p>A string, treated concept.</p>
</td></tr>
<tr><td><code id="validate_names_+3A_repeated">repeated</code></td>
<td>
<p>A boolean, repeated names allowed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of strings, names.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

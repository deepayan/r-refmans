<!DOCTYPE html><html lang="en"><head><title>Help for package LearnVizLMM</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {LearnVizLMM}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#extract_equation'><p>Model equation in 'LaTeX' format</p></a></li>
<li><a href='#extract_structure'><p>Image of the data structure</p></a></li>
<li><a href='#extract_variables'><p>Roles of variables</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Learning and Communicating Linear Mixed Models Without Data</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Summarizes characteristics of linear mixed effects models without 
    data or a fitted model by converting code for fitting lmer() from 'lme4' 
    and lme() from 'nlme' into tables, equations, and visuals. Outputs can be 
    used to learn how to fit linear mixed effects models in 'R' and to 
    communicate about these models in presentations, manuscripts, and analysis 
    plans. </td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/kzavez/LearnVizLMM">https://github.com/kzavez/LearnVizLMM</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/kzavez/LearnVizLMM/issues">https://github.com/kzavez/LearnVizLMM/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>Imports:</td>
<td>cli, DiagrammeR, DiagrammeRsvg, dplyr, rsvg, stringr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>kableExtra, knitr, rmarkdown, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-09-23 20:04:30 UTC; kathe</td>
</tr>
<tr>
<td>Author:</td>
<td>Katherine Zavez [aut, cre],
  Ofer Harel [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Katherine Zavez &lt;Katherine.Zavez@uconn.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-09-25 08:30:08 UTC</td>
</tr>
</table>
<hr>
<h2 id='extract_equation'>Model equation in 'LaTeX' format</h2><span id='topic+extract_equation'></span>

<h3>Description</h3>

<p><code>extract_equation()</code> takes the <code><a href="nlme.html#topic+lme">nlme::lme()</a></code> or <code><a href="lme4.html#topic+lmer">lme4::lmer()</a></code> code for
fitting a linear mixed effect model and returns the corresponding model
equation written in 'LaTeX' notation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extract_equation(
  model,
  cat_vars = NULL,
  cat_vars_nlevels = NULL,
  output_type = "latex"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="extract_equation_+3A_model">model</code></td>
<td>
<p>Code for fitting a <code><a href="nlme.html#topic+lme">nlme::lme()</a></code> or <code><a href="lme4.html#topic+lmer">lme4::lmer()</a></code> model given
as a string.</p>
</td></tr>
<tr><td><code id="extract_equation_+3A_cat_vars">cat_vars</code></td>
<td>
<p>Optional character vector of the names of categorical
predictor variables included in the <code>model</code>. Default is <code>NULL</code>, which assumes
that all predictor variables are numeric.</p>
</td></tr>
<tr><td><code id="extract_equation_+3A_cat_vars_nlevels">cat_vars_nlevels</code></td>
<td>
<p>Optional numeric vector of the number of levels (i.e.
categories) for each variable in <code>cat_vars</code>. Must be a vector of same length
as <code>cat_vars</code>. Values must be whole numbers greater than <code>1</code> and less than
<code>10</code>. Only applies if <code>cat_vars</code> is not <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="extract_equation_+3A_output_type">output_type</code></td>
<td>
<p>Output type can be <code>"latex"</code> (default), <code>"string"</code>, or
<code>"none"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>None (invisible NULL) (<code>output_type = "latex"</code>), a string
(<code>output_type = "string"</code>), or no output (<code>output_type = "none"</code>).
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Different ways to write the same lme model
extract_equation(model = "lme(score ~ age, random=~age|subject)")
extract_equation(model = "lme(score ~ age, random=list(subject=~age))")

# Correlated vs. Uncorrelated
extract_equation(model = "lmer(score ~ age + (age|subject))")
extract_equation(model = "lmer(score ~ age + (age||subject))")

# Add a categorical predictor and interaction
extract_equation(model = "lmer(score ~ age*treat + (age|subject))",
                 cat_vars = "treat",
                 cat_vars_nlevels = 3)
</code></pre>

<hr>
<h2 id='extract_structure'>Image of the data structure</h2><span id='topic+extract_structure'></span>

<h3>Description</h3>

<p><code>extract_structure</code> generates an image of the multilevel data structure. It
does this in two steps. First, characteristics of the group(s) or grouping
factor(s) are identified via the <code>model</code> input or the <code>n_gf</code>,
<code>gf_description</code>, and <code>gf_names</code> inputs. Second, this information is used to
run <code><a href="DiagrammeR.html#topic+grViz">DiagrammeR::grViz()</a></code>, which returns an image.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extract_structure(
  model = NULL,
  n_gf = NULL,
  gf_description = NULL,
  gf_names = NULL,
  gf_nlevels = NULL,
  gf3_index = "i",
  label_levels = "yes",
  export_type = "print"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="extract_structure_+3A_model">model</code></td>
<td>
<p>Code for fitting a <code><a href="nlme.html#topic+lme">nlme::lme()</a></code> or <code><a href="lme4.html#topic+lmer">lme4::lmer()</a></code> model given
as a string.</p>
</td></tr>
<tr><td><code id="extract_structure_+3A_n_gf">n_gf</code></td>
<td>
<p>Number of groups or grouping factors: <code>1</code>, <code>2</code>, or <code>3</code>. Only
applies if <code>model</code> is <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="extract_structure_+3A_gf_description">gf_description</code></td>
<td>
<p>Description of the structure of the groups or grouping
factors: <code>"nested"</code>, <code>"crossed"</code>, <code>"crossed with nested"</code>, or
<code>"crossed within nested"</code>. Only applies if <code>n_gf</code> is greater than <code>1</code> and
<code>model</code> is <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="extract_structure_+3A_gf_names">gf_names</code></td>
<td>
<p>Character vector of the names of group(s) or grouping
factor(s). For nested, order names by level from highest to lowest. Must be
a vector of length equal to <code>n_gf</code>. Only applies if <code>model</code> is <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="extract_structure_+3A_gf_nlevels">gf_nlevels</code></td>
<td>
<p>Optional numeric or character vector of the number of
levels for each group or grouping factor in the <code>model</code> or <code>gf_names</code>.</p>
</td></tr>
<tr><td><code id="extract_structure_+3A_gf3_index">gf3_index</code></td>
<td>
<p>String for the index of the highest-level group or grouping
factor. Only applies if <code>n_gf</code> is <code>3</code>. Default is <code>"i"</code>.</p>
</td></tr>
<tr><td><code id="extract_structure_+3A_label_levels">label_levels</code></td>
<td>
<p>Indicates whether levels of the data structure should be
labeled on the left-hand side of the figure (default) or not
(<code>label_levels</code> = <code>"no"</code>).</p>
</td></tr>
<tr><td><code id="extract_structure_+3A_export_type">export_type</code></td>
<td>
<p>Export type can be <code>"print"</code> (default), <code>"png"</code> to save
as a PNG file, or <code>"text"</code> to get the input used to run
<code><a href="DiagrammeR.html#topic+grViz">DiagrammeR::grViz()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A PNG (<code>export_type = "png"</code>), character
(<code>export_type = "text"</code>), or object of class htmlwidget that will print
in the R console, within R Markdown documents, and within Shiny output
bindings (<code>export_type = "print"</code>).
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Using the model input
extract_structure(model = "lme(Score ~ type, random=list(School=pdDiag(~1+type),Class=~1))")
extract_structure(model = "lme(Weight ~ Time, random=~Time|Subject, data)",
                  gf_nlevels = 47)
extract_structure(model = "lmer(Strength ~ 1 + (1|Machine) + (1|Worker))",
                  gf_nlevels = c("23", "J"))

# Using the n_gf, gf_description, and gf_names inputs
extract_structure(n_gf = 1,
                  gf_names = "Subject")
extract_structure(n_gf = 3,
                  gf_description = "nested",
                  gf_names = c("District", "School", "Class"),
                  gf_nlevels = c(8, 15, 5),
                  label_levels = "no")
</code></pre>

<hr>
<h2 id='extract_variables'>Roles of variables</h2><span id='topic+extract_variables'></span>

<h3>Description</h3>

<p><code>extract_variables()</code> returns a data frame of information of the variables in
a <code><a href="nlme.html#topic+lme">nlme::lme()</a></code> or <code><a href="lme4.html#topic+lmer">lme4::lmer()</a></code> model. The columns of the data frame
include: <code>Effect</code> (whether the effect is random or fixed), <code>Group</code> (group or
grouping factor associated with random effects), <code>Term</code> (notation used to
include the variable in the model), <code>Description</code> (description of the <code>Term</code>),
and <code>Parameter</code> (parameter estimated when the model is fit).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extract_variables(model, cat_vars = NULL, cat_vars_nlevels = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="extract_variables_+3A_model">model</code></td>
<td>
<p>Code for fitting a <code><a href="nlme.html#topic+lme">nlme::lme()</a></code> or <code><a href="lme4.html#topic+lmer">lme4::lmer()</a></code> model given
as a string.</p>
</td></tr>
<tr><td><code id="extract_variables_+3A_cat_vars">cat_vars</code></td>
<td>
<p>Optional character vector of the names of categorical
predictor variables included in the <code>model</code>. Default is <code>NULL</code>, which assumes
that all predictor variables are numeric.</p>
</td></tr>
<tr><td><code id="extract_variables_+3A_cat_vars_nlevels">cat_vars_nlevels</code></td>
<td>
<p>Optional numeric vector of the number of levels (i.e.
categories) for each variable in <code>cat_vars</code>. Must be a vector of same length
as <code>cat_vars</code>. Values must be whole numbers greater than <code>1</code> and less than
<code>10</code>. Only applies if <code>cat_vars</code> is not <code>NULL</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># lme()
extract_variables(model = "lme(Score~type,random=list(School=pdDiag(~1+type),Class=~1))",
                  cat_vars = "type",
                  cat_vars_nlevels = 2)
extract_variables(model = "lme(weight~1+Time+I(Time^2),random=~Time+I(Time^2)|ID)")

# lmer()
extract_variables(model = "lmer(Strength ~ 1 + (1|Machine) + (1|Worker))")
extract_variables(model = "lmer(score ~ age*treat + (age|subject))",
                  cat_vars = "treat",
                  cat_vars_nlevels = 3)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

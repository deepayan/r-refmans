<!DOCTYPE html><html lang="en"><head><title>Help for package drat</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {drat}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#drat-package'>
<p>Easy-to-use package repository creation and access</p></a></li>
<li><a href='#addRepo'><p>Add a (drat) repository to the current session</p></a></li>
<li><a href='#archivePackages'><p>Move older copies of packages to an archive</p></a></li>
<li><a href='#getPackageInfo'><p>Get information from a binary package</p></a></li>
<li><a href='#identifyPackageType'><p>Identifies the package type from a filename</p></a></li>
<li><a href='#initRepo'><p>Intialize a git repo for drat</p></a></li>
<li><a href='#insertPackage'><p>Insert a package source or binary file into a drat repository</p></a></li>
<li><a href='#pruneRepo'><p>Prune repository from older copies of packages</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>'Drat' R Archive Template</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.5</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-10-21</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.6.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>utils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>git2r, simplermarkdown</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>simplermarkdown</td>
</tr>
<tr>
<td>Description:</td>
<td>Creation and use of R Repositories via helper functions 
 to insert packages into a repository, and to add repository information 
 to the current R session. Two primary types of repositories are support:
 gh-pages at GitHub, as well as local repositories on either the same machine
 or a local network. Drat is a recursive acronym: Drat R Archive Template. </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/eddelbuettel/drat">https://github.com/eddelbuettel/drat</a>,
<a href="https://dirk.eddelbuettel.com/code/drat.html">https://dirk.eddelbuettel.com/code/drat.html</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/eddelbuettel/drat/issues">https://github.com/eddelbuettel/drat/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.0.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-10-21 19:49:13 UTC; edd</td>
</tr>
<tr>
<td>Author:</td>
<td>Dirk Eddelbuettel <a href="https://orcid.org/0000-0001-6419-907X"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Felix Ernst <a href="https://orcid.org/0000-0001-5064-0928"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [ctb],
  Neal Fultz [ctb],
  Colin Gillespie <a href="https://orcid.org/0000-0003-1787-0275"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb],
  Christoph Stepper [ctb],
  Thomas Leeper <a href="https://orcid.org/0000-0003-4097-6326"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb],
  Mark van der Loo <a href="https://orcid.org/0000-0002-9807-4686"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb],
  Jan Gorecki [ctb],
  Joey Reid [ctb],
  Arne Johannes Holmin [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Dirk Eddelbuettel &lt;edd@debian.org&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-10-21 20:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='drat-package'>
Easy-to-use package repository creation and access
</h2><span id='topic+drat-package'></span><span id='topic+drat'></span>

<h3>Description</h3>

<p>The drat package permits user to create and use ad-hoc package
repositories. It takes advantage of GitHub accounts and
&lsquo;gh-pages&rsquo; branches which automatically become web-accessible
and can be used to provide a repository.  Alternatively, custom
repository paths and addresses can be used.
</p>


<h3>Details</h3>

<p>Given a user account on GitHub, say, &lsquo;eddelbuettel&rsquo;, and a repository
&lsquo;drat&rsquo;, we can infer an top-level repostory URL as such as
<a href="https://eddelbuettel.github.io/drat/">https://eddelbuettel.github.io/drat/</a> by supplying only the username (as
the rest is inferred by defaults).  This allows us to create easily
useable, identifiable and shareable per-user repositories&mdash;without
the user having to create and administer a webserver anywhere.
</p>
<p>Two higher level functions then allow both insertion of (source or
binary) packages, as well as addition of a given drat repository to an
R session so that package in the repository can be accesses.
</p>


<h3>Author(s)</h3>

<p>Dirk Eddelbuettel
</p>
<p>Maintainer: Dirk Eddelbuettel &lt;edd@debian.org&gt;
</p>


<h3>References</h3>

<p>The R Installation and Administration manual has more and details about
repository creation
</p>


<h3>See Also</h3>

<p><code><a href="utils.html#topic+update.packages">update.packages</a></code>,
<code><a href="utils.html#topic+available.packages">available.packages</a></code>,
<code><a href="utils.html#topic+install.packages">install.packages</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  ## Not run: 
  drat::addRepo("eddelbuettel")   # adds the repo of GitHub user 'eddelbuettel'

## End(Not run)
</code></pre>

<hr>
<h2 id='addRepo'>Add a (drat) repository to the current session</h2><span id='topic+addRepo'></span><span id='topic+drat+3A+3A+3Aadd'></span><span id='topic+add'></span>

<h3>Description</h3>

<p>R can use multiple archives: CRAN, BioConductor and Omegahat have
been supported for years.  It is equally easy to add local
archives from the same machine, or local network, or university /
company network as well as other publically available
repositories.  This function aids in the process, and defaults to
adding a &lsquo;drat&rsquo; archive at GitHub under the given account.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addRepo(account, alturl)

add(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="addRepo_+3A_account">account</code></td>
<td>
<p>Character vector with one or more GitHub account for
which a &lsquo;drat&rsquo; archive is to be added.</p>
</td></tr>
<tr><td><code id="addRepo_+3A_alturl">alturl</code></td>
<td>
<p>Alternative repo specification with a complete url
string. If &lsquo;alturl&rsquo; is provided, a single &lsquo;account&rsquo;
must be provided as well.  For file-based access, the URL format
has to follow the <code>file:/some/path/</code> format starting with
&lsquo;file&rsquo; followed by a single colon.</p>
</td></tr>
<tr><td><code id="addRepo_+3A_...">...</code></td>
<td>
<p>For the aliases variant, a catch-all collection of
parameters.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function retrieves the current set of repositories (see
<code>getOption("repos")</code> for the current values) and adds
(or overwrites) the entry for the given &lsquo;account&rsquo;. For
non-GitHub repositories an alternative URL can be specified as
&lsquo;alturl&rsquo; (and assigned to &lsquo;account&rsquo; as well).
</p>
<p>An aliased function <code>add</code> is also available, but not exported
via <code>NAMESPACE</code> to not clobber a possibly unrelated function;
use it via <code>drat:::add()</code>.
</p>


<h3>Value</h3>

<p>The altered set of repositories
</p>


<h3>Author(s)</h3>

<p>Dirk Eddelbuettel
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  addRepo("drat")                            # adds GitHub repo via default URL
  addRepo(c("eddelbuettel", "ghrr"))         # ditto but adds two repos at once

  addRepo("LocalRepo", "file:/nas/R/repo")   # adds local file-based repo,
                                             # assumes you can read /nas/R/repo

## End(Not run)
</code></pre>

<hr>
<h2 id='archivePackages'>Move older copies of packages to an archive</h2><span id='topic+archivePackages'></span><span id='topic+archivePackagesForAllRversions'></span>

<h3>Description</h3>

<p>The function moves older versions of packages into a CRAN-style
archive folder.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>archivePackages(repopath = getOption("dratRepo", "~/git/drat"),
  type = c("source", "binary", "mac.binary", "mac.binary.big-sur-x86_64",
  "mac.binary.big-sur-arm64", "mac.binary.el-capitan", "mac.binary.mavericks",
  "win.binary", "both"), pkg, version = getRversion())

archivePackagesForAllRversions(repopath = getOption("dratRepo", "~/git/drat"),
  type = c("source", "binary", "mac.binary", "mac.binary.big-sur-x86_64",
  "mac.binary.big-sur-arm64", "mac.binary.el-capitan", "mac.binary.mavericks",
  "win.binary", "both"), pkg)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="archivePackages_+3A_repopath">repopath</code></td>
<td>
<p>Character variable with the path to the repo;
defaults to the value of the &ldquo;dratRepo&rdquo; option with
&ldquo;&quot;~/git/drat&quot;&rdquo; as fallback</p>
</td></tr>
<tr><td><code id="archivePackages_+3A_type">type</code></td>
<td>
<p>Character variable for the type of repository, so far
&ldquo;source&rdquo;, &ldquo;binary&rdquo;, &ldquo;win.binary&rdquo;, &ldquo;mac.binary&rdquo;,
&ldquo;mac.binary.big-sur-x86_64&rdquo;,
&ldquo;mac.binary.big-sur-arm64&rdquo;,
&ldquo;mac.binary.mavericks&rdquo;, &ldquo;mac.binary.el-capitan&rdquo; or
&ldquo;both&rdquo;</p>
</td></tr>
<tr><td><code id="archivePackages_+3A_pkg">pkg</code></td>
<td>
<p>Optional character variable specifying a package name(s), whose
older versions should be archived. If missing (the default), archiving is
performed on all packages.</p>
</td></tr>
<tr><td><code id="archivePackages_+3A_version">version</code></td>
<td>
<p>R version information in the format <code>X.Y</code> or
<code>X.Y.Z</code>. Only used, if archiving binary packages.
(default: <code>version = getRversion()</code>). If <code>version = NA</code>, all
available R versions will be used. If <code>version = NULL</code>, this defaults
to <code>getRversion()</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is still undergoing development and polish and may
change in subsequent versions.
</p>


<h3>Author(s)</h3>

<p>Thomas J. Leeper
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  archivePackages()   # archive all older package versions
  archivePackages(pkg = "drat")  # archive older copies of just one package

## End(Not run)
</code></pre>

<hr>
<h2 id='getPackageInfo'>Get information from a binary package</h2><span id='topic+getPackageInfo'></span>

<h3>Description</h3>

<p>This function returns the compile-time information added
to the <code>DESCRIPTION</code> file in the package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getPackageInfo(file, OSflavour = character())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getPackageInfo_+3A_file">file</code></td>
<td>
<p>the fully qualified path of the package</p>
</td></tr>
<tr><td><code id="getPackageInfo_+3A_osflavour">OSflavour</code></td>
<td>
<p>an optional string naming the OSflavour, which is otherwise read as 
the second element of the 'Built' field of the <code>file</code>. For packages that do not 
need compilation on macOS for R &gt;= 4.3 the 'Built' field is empty in the DESCRIPTION 
in a binary file (tgz), in which case it can be useful to set the <code>OSflavour</code> 
e.g. by the value of R.Version()$platform, so that <code><a href="#topic+insertPackages">insertPackages</a></code> inserts 
the binary into the appropriate sub folder (under bin/maxosx).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named vector with several components
</p>


<h3>Note</h3>

<p>This is an internal function, use <code>:::</code> to access it from outside
the internal package code.
</p>


<h3>Author(s)</h3>

<p>Dirk Eddelbuettel
</p>

<hr>
<h2 id='identifyPackageType'>Identifies the package type from a filename</h2><span id='topic+identifyPackageType'></span>

<h3>Description</h3>

<p>This function identifies the package type from a filename.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>identifyPackageType(file, pkginfo = getPackageInfo(file))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="identifyPackageType_+3A_file">file</code></td>
<td>
<p>An R package in source or binary format,</p>
</td></tr>
<tr><td><code id="identifyPackageType_+3A_pkginfo">pkginfo</code></td>
<td>
<p>information on the R package referenced by <code>file</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>The returned string is suitable for <code>write_PACKAGES()</code>.
</p>


<h3>Value</h3>

<p>string Type of the supplied package.
</p>


<h3>Note</h3>

<p>This is an internal function, use <code>:::</code> to access it from outside
the internal package code.
</p>


<h3>Author(s)</h3>

<p>Jan Schulz and Dirk Eddelbuettel
</p>

<hr>
<h2 id='initRepo'>Intialize a git repo for drat</h2><span id='topic+initRepo'></span>

<h3>Description</h3>

<p>This helper function creates a new repository, creates and checks
out the default GitHub Pages location (either the &lsquo;gh-pages&rsquo;
branch or directory &lsquo;docs&rsquo;) and fills it with the required
new paths.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>initRepo(name = "drat", basepath = getOption("dratDirectory", "~/git"),
  location = getOption("dratBranch", "gh-pages"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="initRepo_+3A_name">name</code></td>
<td>
<p>A character variable with the name the new repository,
the default is &ldquo;drat&rdquo;.</p>
</td></tr>
<tr><td><code id="initRepo_+3A_basepath">basepath</code></td>
<td>
<p>A character variable with path to the directory in
which the new repository is to be created. The default value is
&ldquo;~/git&rdquo; and can be overriden via option &lsquo;dratDirectory&rsquo;.</p>
</td></tr>
<tr><td><code id="initRepo_+3A_location">location</code></td>
<td>
<p>A character variable with the GitHub Pages location:
either &ldquo;gh-pages&rdquo; indicating a branch of that name, or
&ldquo;docs/&rdquo; directory in the main branch. The default value can
be overridden via the &ldquo;dratBranch&rdquo; option.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Currently only &lsquo;src/contrib&rsquo; for source repositories is
supported by this function. The <code>insertPackage()</code> function knows
to deal with binaries for different architectures.
</p>
<p>The function also installs a top-level <code>index.html</code> file to ensure
external tests against the repository (as for example done by CRAN if you
list the repository as an &lsquo;Additional_repositories&rsquo; in a package)
do not return a &lsquo;404&rsquo; error.
</p>


<h3>Value</h3>

<p>The function is invoked for its side-effects and only
returns <code>NULL</code> invisibly.
</p>


<h3>Author(s)</h3>

<p>Dirk Eddelbuettel
</p>

<hr>
<h2 id='insertPackage'>Insert a package source or binary file into a drat repository</h2><span id='topic+insertPackage'></span><span id='topic+drat+3A+3A+3Ainsert'></span><span id='topic+insertPackages'></span><span id='topic+insert'></span>

<h3>Description</h3>

<p>R can use multiple archives: CRAN, BioConductor and Omegahat have
been supported for years.  It is equally easy to add local
archives from the same machine, or local network, or university /
company network as well as other publically available
repositories.  This function aids in the process, and defaults to
inserting a given source archive into a given repository.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>insertPackage(file, repodir = getOption("dratRepo", "~/git/drat"),
  commit = FALSE, pullfirst = FALSE, action = c("none", "archive",
  "prune"), location = getOption("dratBranch", "gh-pages"),
  OSflavour = character(), ...)

insertPackages(file, ...)

insert(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="insertPackage_+3A_file">file</code></td>
<td>
<p>One or more R package(s) in source or binary format</p>
</td></tr>
<tr><td><code id="insertPackage_+3A_repodir">repodir</code></td>
<td>
<p>A local directory corresponding to the repository
top-level directory.</p>
</td></tr>
<tr><td><code id="insertPackage_+3A_commit">commit</code></td>
<td>
<p>Either boolean toggle to select automatic git operations
&lsquo;add&rsquo;, &lsquo;commit&rsquo;, and &lsquo;push&rsquo; or, alternatively,
a character variable can be used to specify a commit message; this also
implies the &lsquo;TRUE&rsquo; values in other contexts.</p>
</td></tr>
<tr><td><code id="insertPackage_+3A_pullfirst">pullfirst</code></td>
<td>
<p>Boolean toggle to call <code>git pull</code> before inserting the package.</p>
</td></tr>
<tr><td><code id="insertPackage_+3A_action">action</code></td>
<td>
<p>A character string containing one of: &ldquo;none&rdquo;
(the default; add the new package into the repo, effectively masking
previous versions), &ldquo;archive&rdquo; (place any previous versions into
a package-specific archive folder, creating such an archive if it does
not already exist), or &ldquo;prune&rdquo; (calling <code><a href="#topic+pruneRepo">pruneRepo</a></code>).</p>
</td></tr>
<tr><td><code id="insertPackage_+3A_location">location</code></td>
<td>
<p>A character variable with the GitHub Pages location:
either &ldquo;gh-pages&rdquo; indicating a branch of that name, or
&ldquo;docs/&rdquo; directory in the main branch. The default value can
be overridden via the &ldquo;dratBranch&rdquo; option.</p>
</td></tr>
<tr><td><code id="insertPackage_+3A_osflavour">OSflavour</code></td>
<td>
<p>an optional string naming the OSflavour, which is otherwise read as 
the second element of the 'Built' field of the <code>file</code>. For packages that do not 
need compilation on macOS for R &gt;= 4.3 the 'Built' field is empty in the DESCRIPTION 
in a binary file (tgz), in which case it can be useful to set the <code>OSflavour</code> 
e.g. by the value of R.Version()$platform, so that <code><a href="#topic+insertPackages">insertPackages</a></code> inserts 
the binary into the appropriate sub folder (under bin/maxosx).</p>
</td></tr>
<tr><td><code id="insertPackage_+3A_...">...</code></td>
<td>
<p>For <code>insert</code> the aliases variant, a catch-all collection of
parameters. For <code>insertPackage</code> arguments passed to 
<code>write_PACKAGES</code> currently include <code>latestOnly</code>, for which the 
default value is set here to <code>FALSE</code>. See <code><a href="tools.html#topic+write_PACKAGES">write_PACKAGES</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function inserts the given (source or binary) package file
into the given (local) package repository and updates the
index. By setting the <code>commit</code> option to <code>TRUE</code>, one can
then push to a remote git code repository. If the
<code><a href="git2r.html#topic+git2r">git2r</a></code> package is installed, it is used for
the interaction with the git repository; otherwise the <code>git</code>
shell command is used.
</p>
<p>An aliased function <code>insert</code> is also available, but not
exported via <code>NAMESPACE</code> to not clobber a possibly unrelated
function; use it via <code>drat:::insert()</code>.
</p>
<p>The function also checks for a top-level <code>index.html</code> file to ensure
external tests against the repository (as for example done by CRAN if you
list the repository as an &lsquo;Additional_repositories&rsquo; in a package)
do not return a &lsquo;404&rsquo; error. If missing, a simple one-line example is
shown.
</p>


<h3>Value</h3>

<p>NULL is returned.
</p>


<h3>Options</h3>

<p>Set using <code><a href="base.html#topic+options">options</a></code>
</p>

<dl>
<dt><code>dratRepo</code></dt><dd><p>Path to git repo. Defaults to <code>~/git/drat</code></p>
</dd>
<dt><code>dratBranch</code></dt><dd><p>The git branch to store packages on. Defaults to <code>gh-pages</code></p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Dirk Eddelbuettel
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  insertPackage("foo_0.2.3.tar.gz")   # inserts into (default) repo
  insertPackage("foo_0.2.3.tar.gz", "/nas/R/")  # ... into local dir

## End(Not run)
## Not run: 
  insertPackage("foo_0.2.3.tar.gz", action = "prune")   # prunes any older copies
  insertPackage("foo_0.2.3.tar.gz", action = "archive")   # archives any older copies

## End(Not run)
</code></pre>

<hr>
<h2 id='pruneRepo'>Prune repository from older copies of packages</h2><span id='topic+pruneRepo'></span><span id='topic+getRepoInfo'></span><span id='topic+pruneRepoForAllRversions'></span><span id='topic+updateRepo'></span>

<h3>Description</h3>

<p>The function determines which packages in a repositories can be
removed as they are being &lsquo;shadowed&rsquo; by a newer version of
the same packages.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getRepoInfo(repopath = getOption("dratRepo", "~/git/drat"),
  type = c("source", "binary", "mac.binary", "mac.binary.big-sur-x86_64",
  "mac.binary.big-sur-arm64", "mac.binary.el-capitan", "mac.binary.mavericks",
  "win.binary", "both"), pkg, version = getRversion(),
  location = getOption("dratBranch", "gh-pages"))

pruneRepo(repopath = getOption("dratRepo", "~/git/drat"), type = c("source",
  "binary", "mac.binary", "mac.binary.big-sur-x86_64",
  "mac.binary.big-sur-arm64", "mac.binary.el-capitan", "mac.binary.mavericks",
  "win.binary", "both"), pkg, version = getRversion(), remove = FALSE,
  location = getOption("dratBranch", "gh-pages"))

pruneRepoForAllRversions(repopath = getOption("dratRepo", "~/git/drat"),
  type = c("source", "mac.binary", "mac.binary.big-sur-x86_64",
  "mac.binary.big-sur-arm64", "mac.binary.el-capitan", "mac.binary.mavericks",
  "win.binary", "both"), pkg, remove = FALSE)

updateRepo(repopath = getOption("dratRepo", "~/git/drat"),
  type = c("source", "mac.binary", "mac.binary.big-sur-x86_64",
  "mac.binary.big-sur-arm64", "mac.binary.el-capitan", "mac.binary.mavericks",
  "win.binary", "both"), version = NA, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pruneRepo_+3A_repopath">repopath</code></td>
<td>
<p>Character variable with the path to the repo;
defaults to the value of the &ldquo;dratRepo&rdquo; option with
&ldquo;&quot;~/git/drat&quot;&rdquo; as fallback</p>
</td></tr>
<tr><td><code id="pruneRepo_+3A_type">type</code></td>
<td>
<p>Character variable for the type of repository, so far
&ldquo;source&rdquo;, &ldquo;binary&rdquo;, &ldquo;win.binary&rdquo;, &ldquo;mac.binary&rdquo;,
&ldquo;mac.binary.mavericks&rdquo;, &ldquo;mac.binary.el-capitan&rdquo;,
&ldquo;mac.binary.big-sur-x86_64&rdquo;,
&ldquo;mac.binary.big-sur-arm64&rdquo;, or &ldquo;both&rdquo;</p>
</td></tr>
<tr><td><code id="pruneRepo_+3A_pkg">pkg</code></td>
<td>
<p>Optional character variable specifying a package name,
whose older versions should be pruned. If missing (the
default), pruning is performed on all packages.</p>
</td></tr>
<tr><td><code id="pruneRepo_+3A_version">version</code></td>
<td>
<p>R version information in the format <code>X.Y</code> or
<code>X.Y.Z</code>. Only used, if pruning binary packages.
(default: <code>version = getRversion()</code>). If <code>version = NA</code>, all
available R versions will be used. If <code>version = NULL</code>, this defaults
to <code>getRversion()</code>.</p>
</td></tr>
<tr><td><code id="pruneRepo_+3A_location">location</code></td>
<td>
<p>An optional character variable with the GitHub Pages location:
either &ldquo;gh-pages&rdquo; indicating a branch of that name, or
&ldquo;docs/&rdquo; directory in the main branch. The default value can
be overridden via the &ldquo;dratBranch&rdquo; option.</p>
</td></tr>
<tr><td><code id="pruneRepo_+3A_remove">remove</code></td>
<td>
<p>Character or logical variable indicating whether
files should be removed. Nothing happens if &lsquo;FALSE&rsquo;. If
different from (logical) &lsquo;FALSE&rsquo; and equal to character
&ldquo;git&rdquo; files are removed via <code>git rm</code> else via a
straight file deletion.</p>
</td></tr>
<tr><td><code id="pruneRepo_+3A_...">...</code></td>
<td>
<p>For <code>updateRepo</code> a catch-all collection of parameters.
Arguments passed to <code>update_PACKAGES</code> currently include
<code>latestOnly</code>, for which the default value is set here to <code>FALSE</code>.
See <code><a href="tools.html#topic+update_PACKAGES">update_PACKAGES</a></code>. Please note that this has an effect
for <code>update_PACKAGES</code> only, if new packages are found, e.g. manually
added.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Given a package name, R will always find the newest version of
that package. Older versions are therefore effectively shadowed
and can be removed without functionally changing a repository.
</p>
<p>However, if a current package file is removed without <code>pruneRepo</code>, the
PACKAGES, PACKAGES.gz and PACKAGES.rds file might be not up to date. To
ensure the correct information is available in these indices, run
<code>updateRepo</code>.
</p>
<p>These functions are still undergoing development and polish and may
change in subsequent versions.
</p>


<h3>Value</h3>

<p>A data frame describing the repository is returned
containing columns with columns &ldquo;file&rdquo;,
&ldquo;package&rdquo; (just the name), &ldquo;version&rdquo; and a
logical variable &ldquo;newest&rdquo; indicating if the package can
be removed.
</p>


<h3>Author(s)</h3>

<p>Dirk Eddelbuettel
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

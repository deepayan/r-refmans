<!DOCTYPE html><html lang="en"><head><title>Help for package CANSIM2R</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {CANSIM2R}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#getCANSIM'><p>getCANSIM</p></a></li>
<li><a href='#mergeCANSIM'><p>mergeCANSIM</p></a></li>
<li><a href='#searchLabels'><p>searchLabels</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Directly Extracts Complete CANSIM Data Tables</td>
</tr>
<tr>
<td>Version:</td>
<td>1.14.1</td>
</tr>
<tr>
<td>Date:</td>
<td>2018-08-01</td>
</tr>
<tr>
<td>Author:</td>
<td>Marco Lugo &lt;marco.lugo.rodriguez@umontreal.ca&gt;</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Marco Lugo &lt;marco.lugo.rodriguez@umontreal.ca&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.2.2)</td>
</tr>
<tr>
<td>Imports:</td>
<td>reshape2, Hmisc, utils, downloader</td>
</tr>
<tr>
<td>Description:</td>
<td>Extract CANSIM (Statistics Canada) tables and transform them into readily usable data in panel (wide) format. It can also extract more than one table at a time and produce the resulting merge by time period and geographical region.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2018-08-01 15:32:03 UTC; ml</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2018-08-01 16:20:08 UTC</td>
</tr>
</table>
<hr>
<h2 id='getCANSIM'>getCANSIM</h2><span id='topic+getCANSIM'></span>

<h3>Description</h3>

<p>Extracts a complete CANSIM (Statistics Canada) data table
and converts it into a readily usable panel (wide) format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getCANSIM(cansimTableNumber='', showLabels = TRUE, raw = FALSE, lang = 'eng')
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getCANSIM_+3A_cansimtablenumber">cansimTableNumber</code></td>
<td>
<p>- the table number we wish to retrieve from CANSIM.</p>
</td></tr>
<tr><td><code id="getCANSIM_+3A_showlabels">showLabels</code></td>
<td>
<p>- show the Statistics Canada labels after finishing extracting and converting the table, TRUE by default.</p>
</td></tr>
<tr><td><code id="getCANSIM_+3A_raw">raw</code></td>
<td>
<p>- download the CANSIM table as-is, skipping all processing, FALSE by default.</p>
</td></tr>
<tr><td><code id="getCANSIM_+3A_lang">lang</code></td>
<td>
<p>- language for data labels ('eng' for English or 'fra' for French), 'eng' by default.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Geographic variables are renamed i, time variables are renamed t,
and all the other variables are renamed with a generic V1, V2, ..., Vn.
The generic variables keep the full Statistics Canada description by using a label.
</p>


<h3>Value</h3>

<p>data frame containing CANSIM table.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>getCANSIM("12-10-0005")
getCANSIM("12-10-0005", lang = 'fra')
</code></pre>

<hr>
<h2 id='mergeCANSIM'>mergeCANSIM</h2><span id='topic+mergeCANSIM'></span>

<h3>Description</h3>

<p>Extracts more than one CANSIM table and produces a merged table (by ID and period).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mergeCANSIM(cansimTableVector, keepUnmatched = FALSE, showLabels = TRUE, lang = 'eng')
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mergeCANSIM_+3A_cansimtablevector">cansimTableVector</code></td>
<td>
<p>- vector containing all the CANSIM tables to extract and merge.</p>
</td></tr>
<tr><td><code id="mergeCANSIM_+3A_keepunmatched">keepUnmatched</code></td>
<td>
<p>- if true, keeps all values, even if no match was found. FALSE by default.</p>
</td></tr>
<tr><td><code id="mergeCANSIM_+3A_showlabels">showLabels</code></td>
<td>
<p>- show the Statistics Canada labels after finishing extracting and converting the table, TRUE by default.</p>
</td></tr>
<tr><td><code id="mergeCANSIM_+3A_lang">lang</code></td>
<td>
<p>- language for data labels ('eng' for English or 'fra' for French), 'eng' by default.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data frame containing CANSIM tables.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mergeCANSIM( c(23100067, 23100238) )
</code></pre>

<hr>
<h2 id='searchLabels'>searchLabels</h2><span id='topic+searchLabels'></span>

<h3>Description</h3>

<p>Helper function to search through the Hmisc labels in order to obtain the variable name mapping to their respective labels.
It can be particularly useful for bigger datasets for which manual exploration and visualization can be prohibitive.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>  searchLabels(df, pattern)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="searchLabels_+3A_df">df</code></td>
<td>
<p>- data.frame obtained using the getCANSIM function.</p>
</td></tr>
<tr><td><code id="searchLabels_+3A_pattern">pattern</code></td>
<td>
<p>- the string to search for in the variable labels.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Search is case insensitive.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  df &lt;- getCANSIM("12-10-0005")
  searchLabels(df, "imports")
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package SWMPrExtension</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {SWMPrExtension}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#annual_range'><p>Annual Range Timeseries</p></a></li>
<li><a href='#assign_season'><p>Assign seasons to SWMP sampling data</p></a></li>
<li><a href='#base_map'><p>Create background map</p></a></li>
<li><a href='#cbm_spatial'><p>Spatial Data from Chesapeake Bay - Maryland</p></a></li>
<li><a href='#counties_4269'><p>US County Map</p></a></li>
<li><a href='#create_sk_flextable_list'><p>Create a List of Flextable Objects</p></a></li>
<li><a href='#create_sk_national_ft_reserves'><p>Create a Flextable Object of Reserve Names</p></a></li>
<li><a href='#create_sk_national_ft_results'><p>Create a Flextable Object of Seasonal Kendall Results</p></a></li>
<li><a href='#elk_spatial'><p>Spatial Data from Elkhorn Slough</p></a></li>
<li><a href='#elknmnut'><p>Nutrient Data from Elkhorn Slough - North Marsh Station</p></a></li>
<li><a href='#elksmwq'><p>Water Quality Data from Elkhorn Slough - South Marsh Station</p></a></li>
<li><a href='#ft_col_names'><p>Convert Parameter Abbreviations</p></a></li>
<li><a href='#generate_results_table'><p>Filter Reformatted Seasonal Kendall Results</p></a></li>
<li><a href='#generate_station_table'><p>Filter Reformatted Seasonal Kendall Results</p></a></li>
<li><a href='#geographic_unique_stations'><p>Return a vector of geographically unique NERR Stations</p></a></li>
<li><a href='#get_reserve'><p>Identify NERRS reserve from metadata</p></a></li>
<li><a href='#get_shp_name'><p>Identify shapefile for NERRS reserve</p></a></li>
<li><a href='#get_site_code'><p>Return NERRS reserve site code based on data in the data file</p></a></li>
<li><a href='#get_site_coordinates'><p>Identify NERRS sampling locations from metadata</p></a></li>
<li><a href='#get_sites'><p>Identify NERRS reserve stations from metadata</p></a></li>
<li><a href='#historical_daily_range'><p>Historical Daily Range Timeseries</p></a></li>
<li><a href='#historical_range'><p>Historical Monthly/Seasonal Range Timeseries</p></a></li>
<li><a href='#import_local_nut'><p>Import local CDMO data</p></a></li>
<li><a href='#lm_p_labs'><p>P-Value labels for Plotting</p></a></li>
<li><a href='#load_shp_file'><p>Load and format shapefile for reserve level map</p></a></li>
<li><a href='#national_sk_map'><p>Reserve National Map with Seasonal Kendall Results</p></a></li>
<li><a href='#raw_boxplot'><p>Boxplots of raw data by user-defined season for a target year</p></a></li>
<li><a href='#remove_inf_and_nan'><p>Replace Inf/-Inf/NaN values</p></a></li>
<li><a href='#res_custom_map'><p>Local Reserve Map for Custom Stations</p></a></li>
<li><a href='#res_custom_sk_map'><p>Local Reserve Map With Seasonal Kendall Results for Custom Stations</p></a></li>
<li><a href='#res_local_map'><p>Local Reserve Map</p></a></li>
<li><a href='#res_national_map'><p>Reserve National Map</p></a></li>
<li><a href='#res_sk_map'><p>Local Reserve Map With Seasonal Kendall Results</p></a></li>
<li><a href='#reserve_locs'><p>NERRS Sampling Location Data Frame</p></a></li>
<li><a href='#sampling_stations'><p>Detailed NERRS site data</p></a></li>
<li><a href='#sampling_stations_backup'><p>A Backup of Detailed NERRS site data</p></a></li>
<li><a href='#seasonal_barplot'><p>Cumulative Bar Plot</p></a></li>
<li><a href='#seasonal_boxplot'><p>Seasonal boxplots</p></a></li>
<li><a href='#seasonal_dot'><p>Seasonal Dot Plot</p></a></li>
<li><a href='#set_date_break_labs'><p>Set reasonable date breaks labels</p></a></li>
<li><a href='#set_date_breaks'><p>Set reasonable date breaks</p></a></li>
<li><a href='#set_date_breaks_minor'><p>Select reasonable minor breaks for <code>scale_x_datetime</code></p></a></li>
<li><a href='#sk_seasonal'><p>Seasonal Kendall Analysis for Seasonal Data</p></a></li>
<li><a href='#sk_tidy'><p>Tidy Seasonal Kendall Results</p></a></li>
<li><a href='#std_param_check'><p>Standard Parameter Check</p></a></li>
<li><a href='#summarise_handoff_files'><p>Summarise Hand-off Files from Reserve Level Reports</p></a></li>
<li><a href='#threshold_criteria_plot'><p>Water Quality Threshold Plot For Parameters With Criteria</p></a></li>
<li><a href='#threshold_identification'><p>Tabulate Threshold Exceedances</p></a></li>
<li><a href='#threshold_percentile_plot'><p>Threshold Percentile Plot</p></a></li>
<li><a href='#threshold_summary'><p>Summary Plots for Threshold Identification</p></a></li>
<li><a href='#title_labeler'><p>Generate Plot Title Based on NERR Site ID</p></a></li>
<li><a href='#update_sampling_stations'><p>Update reserve sampling stations</p></a></li>
<li><a href='#us_4269'><p>US State Map</p></a></li>
<li><a href='#y_count_labeler'><p>Generate y-axis Label Based on SWMP Parameter Abbreviation</p></a></li>
<li><a href='#y_labeler'><p>Generate y-axis Label Based on SWMP Parameter Abbreviation</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Functions for Analyzing and Plotting Estuary Monitoring Data</td>
</tr>
<tr>
<td>Version:</td>
<td>2.2.5.1</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Matt Dornback &lt;matt.dornback@noaa.gov&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Tools for performing routine analysis and plotting tasks with environmental
    data from the System Wide Monitoring Program of the National Estuarine
    Research Reserve System <a href="https://cdmo.baruch.sc.edu/">https://cdmo.baruch.sc.edu/</a>. This package builds
    on the functionality of the 'SWMPr' package <a href="https://cran.r-project.org/package=SWMPr">https://cran.r-project.org/package=SWMPr</a>,
    which is used to retrieve and organize the data. The combined set of tools
    address common challenges associated with continuous time series data
    for environmental decision making, and are intended for use in annual reporting activities.
    References:
    Beck, Marcus W. (2016) &lt;ISSN 2073-4859&gt;<a href="https://journal.r-project.org/archive/2016-1/beck.pdf">https://journal.r-project.org/archive/2016-1/beck.pdf</a>
    Rudis, Bob (2014) <a href="https://rud.is/b/2014/11/16/moving-the-earth-well-alaska-hawaii-with-r/">https://rud.is/b/2014/11/16/moving-the-earth-well-alaska-hawaii-with-r/</a>.
    United States Environmental Protection Agency (2015) <a href="https://cfpub.epa.gov/si/si_public_record_Report.cfm?Lab=OWOW&amp;amp;dirEntryId=327030">https://cfpub.epa.gov/si/si_public_record_Report.cfm?Lab=OWOW&amp;dirEntryId=327030</a>.</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/NOAA-OCM/SWMPrExtension/issues">https://github.com/NOAA-OCM/SWMPrExtension/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://creativecommons.org/publicdomain/zero/1.0/legalcode">CC0</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.0), SWMPr</td>
</tr>
<tr>
<td>Imports:</td>
<td>EnvStats, RColorBrewer, broom, dplyr, flextable, ggimage,
ggplot2, ggthemes, grDevices, lubridate, magrittr, methods,
officer, purrr, rlang, scales, sf, stats, tidyselect, tidyr,
utils, curl</td>
</tr>
<tr>
<td>Suggests:</td>
<td>ggmap (&ge; 4.0.0), testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-01-11 21:55:51 UTC; matt.dornback</td>
</tr>
<tr>
<td>Author:</td>
<td>Julie Padilla [aut, ctb],
  Marcus Beck [ctb],
  Kimberly Cressman [ctb],
  Dave Eslinger [aut, ctb],
  Kirk Waters [ctb],
  Bob Rudis [ctb],
  Davis Vaughan [ctb],
  Matt Dornback [aut, cre]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-01-11 23:40:13 UTC</td>
</tr>
</table>
<hr>
<h2 id='annual_range'>Annual Range Timeseries</h2><span id='topic+annual_range'></span><span id='topic+annual_range.swmpr'></span>

<h3>Description</h3>

<p>Assess variability within each season for a single year
</p>


<h3>Usage</h3>

<pre><code class='language-R'>annual_range(swmpr_in, ...)

## S3 method for class 'swmpr'
annual_range(
  swmpr_in,
  param = NULL,
  target_yr = NULL,
  criteria = NULL,
  free_y = FALSE,
  log_trans = FALSE,
  converted = FALSE,
  criteria_lab = "WQ Threshold",
  plot_title = FALSE,
  plot = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="annual_range_+3A_swmpr_in">swmpr_in</code></td>
<td>
<p>input swmpr object</p>
</td></tr>
<tr><td><code id="annual_range_+3A_...">...</code></td>
<td>
<p>additional arguments passed to other methods. See <code><a href="#topic+assign_season">assign_season</a></code></p>
</td></tr>
<tr><td><code id="annual_range_+3A_param">param</code></td>
<td>
<p>chr string of variable to plot</p>
</td></tr>
<tr><td><code id="annual_range_+3A_target_yr">target_yr</code></td>
<td>
<p>numeric, the target year that should be compared against the historic range. If target year is not specified then the dot will not be plotted.</p>
</td></tr>
<tr><td><code id="annual_range_+3A_criteria">criteria</code></td>
<td>
<p>numeric, a numeric criteria that will be plotted as a horizontal line</p>
</td></tr>
<tr><td><code id="annual_range_+3A_free_y">free_y</code></td>
<td>
<p>logical, should the y-axis be free? Defaults to <code>FALSE</code>. If <code>FALSE</code>, defaults to zero, unless negative values are present. If <code>TRUE</code>, y-axis limits are selected by <code>ggplot</code></p>
</td></tr>
<tr><td><code id="annual_range_+3A_log_trans">log_trans</code></td>
<td>
<p>logical, should y-axis be log? Defaults to <code>FALSE</code></p>
</td></tr>
<tr><td><code id="annual_range_+3A_converted">converted</code></td>
<td>
<p>logical, were the units converted from the original units used by CDMO? Defaults to <code>FALSE</code>. See <code>y_labeler</code> for details.</p>
</td></tr>
<tr><td><code id="annual_range_+3A_criteria_lab">criteria_lab</code></td>
<td>
<p>chr, label for the threshold criteria defined in <code>criteria</code>. Defaults to &quot;WQ Threshold&quot;</p>
</td></tr>
<tr><td><code id="annual_range_+3A_plot_title">plot_title</code></td>
<td>
<p>logical, should the station name be included as the plot title? Defaults to <code>FALSE</code></p>
</td></tr>
<tr><td><code id="annual_range_+3A_plot">plot</code></td>
<td>
<p>logical, should a plot be returned? Defaults to <code>TRUE</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function summarizes average daily values, average daily minimums/maximums, and absolute minimums/maximums across user-defined seasons for a target year (<code>target_yr</code>).
</p>
<p>The user also has the option to add a threshold hold line using the <code>criteria</code> argument. Typically, this value is a water quality threshold, which is why <code>criteria_lab</code> defaults to <code>'WQ Threshold'</code>. However, the user has the option to specify any other type of threshold they wish. when doing so, the value for <code>criteria_lab</code> should be changed accordingly.
</p>


<h3>Value</h3>

<p>Returns a <code><a href="ggplot2.html#topic+ggplot">ggplot</a></code> object
</p>


<h3>Author(s)</h3>

<p>Julie Padilla
</p>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+ggplot">ggplot</a></code>, <code><a href="#topic+assign_season">assign_season</a></code>, <code><a href="#topic+y_labeler">y_labeler</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>


## get data, prep
data(elksmwq)
dat &lt;- elksmwq

dat &lt;- qaqc(elksmwq, qaqc_keep = c('0', '3', '5'))
do_plt &lt;- annual_range(dat, param = 'do_mgl', target_yr = 2012)
do_plt &lt;- annual_range(dat, param = 'do_mgl', target_yr = 2012, criteria = 2)

</code></pre>

<hr>
<h2 id='assign_season'>Assign seasons to SWMP sampling data</h2><span id='topic+assign_season'></span>

<h3>Description</h3>

<p>Assign seasons to SWMPr sampling data on a monthly basis or user-defined seasonal basis
</p>


<h3>Usage</h3>

<pre><code class='language-R'>assign_season(
  data,
  season_grps = NULL,
  season_names = NULL,
  season_start = NULL,
  abb = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="assign_season_+3A_data">data</code></td>
<td>
<p>a vector of POSIXct dates</p>
</td></tr>
<tr><td><code id="assign_season_+3A_season_grps">season_grps</code></td>
<td>
<p>A list of seasons. Months (1-12) are assigned to different groups based on user preference. Defaults to 12 months, starting with January. Must assign a minimum of two seasons</p>
</td></tr>
<tr><td><code id="assign_season_+3A_season_names">season_names</code></td>
<td>
<p>A string vector of season names. The number of season names must match the length of the <code>season</code> list. A minimum of two seasons must be assigned (e.g., 'Wet', 'Dry'). Defaults to 12 months, starting with January. The number of season names must match the number of seasons</p>
</td></tr>
<tr><td><code id="assign_season_+3A_season_start">season_start</code></td>
<td>
<p>defaults to 12 months, starting with January</p>
</td></tr>
<tr><td><code id="assign_season_+3A_abb">abb</code></td>
<td>
<p>logical, should abbreviations for month names be used? Defaults to <code>TRUE</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>A helper function used by multiple data analyses to assign seasons to sampling data and to order the seasons. To assist with plotting, the seasons are assigned as factors. Seasons are assigned by first grouping the months into a <code>list</code> of <code>season_grps</code> and then specifying one name for each grouping using <code>season_names</code>. If <code>season_grps</code> is specified then <code>season_names</code> must also be defined. If neither argument is specified than the season assignments will default to monthly values. Using the <code>season_start</code> argument, the user can designate which season should be the first <code>factor</code> level. This assignment affects plot order for most functions. If <code>season_start</code> is not specified, then it will default to the first season in the list (January for monthly seasons and the first season in <code>season_names</code> for user-defined seasons).
</p>


<h3>Value</h3>

<p>Returns a vector of ordered season factors.
</p>


<h3>Author(s)</h3>

<p>Julie Padilla
</p>


<h3>Examples</h3>

<pre><code class='language-R'>


data(elksmwq)
dat &lt;- elksmwq

seas &lt;- assign_season(dat$datetimestamp, abb = FALSE)
levels(seas)

seas &lt;- assign_season(dat$datetimestamp, abb = TRUE)
levels(seas)

seas &lt;- assign_season(dat$datetimestamp, season_start = 'Mar')
levels(seas)

seas &lt;- assign_season(dat$datetimestamp, abb = FALSE, season_start = 'March')
levels(seas)

seas &lt;- assign_season(dat$datetimestamp,
season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12)),
season_names = c('Winter', 'Spring', 'Summer', 'Fall'), season_start = 'Spring')
levels(seas)

seas &lt;- assign_season(dat$datetimestamp, season_grps = list(c(10:12, 1:3), c(4:9)),
season_names = c('Wet', 'Dry'))
levels(seas)


</code></pre>

<hr>
<h2 id='base_map'>Create background map</h2><span id='topic+base_map'></span>

<h3>Description</h3>

<p>Create a background map from a bounding box using Stamen Map tiles or a crude
vector-based map.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>base_map(
  bbox,
  bg_crs = 4326,
  vector_only = FALSE,
  maptype = "stamen_toner_lite",
  zoom = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="base_map_+3A_bbox">bbox</code></td>
<td>
<p>Bounding box vector.</p>
</td></tr>
<tr><td><code id="base_map_+3A_bg_crs">bg_crs</code></td>
<td>
<p>EPSG code or <code>st_crs</code> object for the returned map.</p>
</td></tr>
<tr><td><code id="base_map_+3A_vector_only">vector_only</code></td>
<td>
<p>Logical, draw only a simple vector-based map.</p>
</td></tr>
<tr><td><code id="base_map_+3A_maptype">maptype</code></td>
<td>
<p>Background map type from Stadia Maps (formerly Stamen)
(<a href="https://docs.stadiamaps.com/">https://docs.stadiamaps.com/</a>); one of c(&quot;stamen_terrain&quot;,
&quot;stamen_toner&quot;, &quot;stamen_toner_lite&quot;, &quot;stamen_watercolor&quot;, &quot;alidade_smooth&quot;,
&quot;alidade_smooth_dark&quot;, &quot;outdoors&quot;, &quot;stamen_terrain_background&quot;,
&quot;stamen_toner_background&quot;, &quot;stamen_terrain_labels&quot;, &quot;stamen_terrain_lines&quot;,
&quot;stamen_toner_labels&quot;, &quot;stamen_toner_lines&quot;).</p>
</td></tr>
<tr><td><code id="base_map_+3A_zoom">zoom</code></td>
<td>
<p>Zoom level for the base map created when <code>bg_map</code> is not
specified.  An integer value, 5 - 15, with higher numbers providing  more
detail.  If not provided, a zoom level is autoscaled based on <code>bbox</code>
parameters.</p>
</td></tr>
<tr><td><code id="base_map_+3A_...">...</code></td>
<td>
<p>Additional arguments to be passed to <code>ggmap::get_stadiamap</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>A helper, or stand-alone, function to create background map based on
based on raster map tiles retrieved with <code>ggmap::get_stadiamap</code>.  If
<code>ggmap</code> is unavailable, the function creates a basic map using
county-level polygon files.  This map is fairly crude and should be
considered a placeholder.
</p>


<h3>Value</h3>

<p>Returns a <code>ggplot2</code> object.
</p>


<h3>Author(s)</h3>

<p>Dave Eslinger
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#Simple, low-zoom  map for testing
bound_box &lt;- c(-77.393, 38.277, -75.553, 39.741)
(x &lt;- base_map(bound_box, zoom = 7, maptype = 'stamen_toner_lite'))



# Default zoom map with terrain maptype.
y &lt;- base_map(bound_box, maptype = 'stamen_terrain')

</code></pre>

<hr>
<h2 id='cbm_spatial'>Spatial Data from Chesapeake Bay - Maryland</h2><span id='topic+cbm_spatial'></span>

<h3>Description</h3>

<p>Shapefile for Chesapeake Bay - Maryland reserve boundary
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(cbm_spatial)
</code></pre>


<h3>Format</h3>

<p>A <code><a href="sf.html#topic+sf">sf</a></code> object
</p>


<h3>Source</h3>

<p><a href="https://cdmo.baruch.sc.edu/get/gis.cfm">CDMO</a>
</p>


<h3>References</h3>

<p>NOAA National Estuarine Research Reserve System (NERRS). System-wide Monitoring Program. Data accessed from the NOAA NERRS Centralized Data Management Office website: https://www.nerrsdata.org/; accessed 08 October 2016
</p>

<hr>
<h2 id='counties_4269'>US County Map</h2><span id='topic+counties_4269'></span>

<h3>Description</h3>

<p>US County boundaries from the US Census Bureau's MAF/TIGER geographic database in EPSG:4269, with all data except state FIPS codes and land area removed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data('counties_4269')
</code></pre>


<h3>Format</h3>

<p>A <code>sf]{DataFrame}</code> object
</p>


<h3>Source</h3>

<p><a href="https://www.census.gov/geographies/mapping-files.html">US Census Bureau</a>
</p>


<h3>References</h3>

<p>United States Census Bureau. Data accessed from the US Census Bureau website: https://www2.census.gov/geo/tiger/GENZ2018/shp/cb_2018_us_county_20m.zip; accessed 13 March 2020
</p>

<hr>
<h2 id='create_sk_flextable_list'>Create a List of Flextable Objects</h2><span id='topic+create_sk_flextable_list'></span>

<h3>Description</h3>

<p>Create a list of flextable objects to display Seasonal Kendall results in the NERRS reserve level template
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_sk_flextable_list(
  sk_result,
  stations,
  param,
  trend_col = c("#247BA0", "#A3DFFF", "#D9D9D9", "white"),
  font_col_default = "#444E65",
  font_sz_stn = 6,
  font_sz_result = 12,
  font_sz_head = 6,
  ht_head = 0.28,
  ht_body = 0.202,
  is_swmp = TRUE,
  stn_name = NULL,
  stn_abbrev = NULL,
  par_name = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="create_sk_flextable_list_+3A_sk_result">sk_result</code></td>
<td>
<p>a <code>data.frame</code> of reformatted results from <code><a href="#topic+sk_seasonal">sk_seasonal</a></code></p>
</td></tr>
<tr><td><code id="create_sk_flextable_list_+3A_stations">stations</code></td>
<td>
<p>chr, vector of stations to be displayed</p>
</td></tr>
<tr><td><code id="create_sk_flextable_list_+3A_param">param</code></td>
<td>
<p>chr, vector of parameters to be displayed</p>
</td></tr>
<tr><td><code id="create_sk_flextable_list_+3A_trend_col">trend_col</code></td>
<td>
<p>chr, a four element vector that specifies colors for increasing, decreasing, no change, and insufficient data trends</p>
</td></tr>
<tr><td><code id="create_sk_flextable_list_+3A_font_col_default">font_col_default</code></td>
<td>
<p>chr, default color to be used for trend table</p>
</td></tr>
<tr><td><code id="create_sk_flextable_list_+3A_font_sz_stn">font_sz_stn</code></td>
<td>
<p>int, specify the font size of displayed station names</p>
</td></tr>
<tr><td><code id="create_sk_flextable_list_+3A_font_sz_result">font_sz_result</code></td>
<td>
<p>int, specify the font size of the displayed results</p>
</td></tr>
<tr><td><code id="create_sk_flextable_list_+3A_font_sz_head">font_sz_head</code></td>
<td>
<p>int, specify the font size of the table header row</p>
</td></tr>
<tr><td><code id="create_sk_flextable_list_+3A_ht_head">ht_head</code></td>
<td>
<p>num, specify the cell height of the table body rows. Units for this parameter are in inches.</p>
</td></tr>
<tr><td><code id="create_sk_flextable_list_+3A_ht_body">ht_body</code></td>
<td>
<p>num, specify the cell height of the table header row. Units for this parameter are in inches.</p>
</td></tr>
<tr><td><code id="create_sk_flextable_list_+3A_is_swmp">is_swmp</code></td>
<td>
<p>logical, are the station names and parameter names consistent with SWMP station and parameter names? If either of these conditions is false then this parameter should be set to <code>FALSE</code> and then the user should define <code>stn_name</code>, <code>stn_abbrev</code>, and <code>par_name</code>. default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="create_sk_flextable_list_+3A_stn_name">stn_name</code></td>
<td>
<p>chr, a list of full station names that the user would like to add to the trend table (e.g., &quot;Cat Point&quot;)</p>
</td></tr>
<tr><td><code id="create_sk_flextable_list_+3A_stn_abbrev">stn_abbrev</code></td>
<td>
<p>chr, a list of station abbreviations that the user would like to add to the trend table (e.g., &quot;CP&quot; as an abbreviation for Cat Point).</p>
</td></tr>
<tr><td><code id="create_sk_flextable_list_+3A_par_name">par_name</code></td>
<td>
<p>chr, a list of parameter names to be used if the names to not match standard CDMO parameters.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is intended for internal use with the NERRS reserve level reporting scripts. Using the results from the reserve level trend analysis, <code>create_sk_flextable_list</code> creates a list of two <code>flextable</code> objects to be displayed in the NERRS reserve level template. The first <code>flextable</code> in the list contains the two-letter station IDs for each station and the full location name of each station. The second table lists the seasonal kendall results and the names of the parameters of interest.
</p>


<h3>Value</h3>

<p>Returns a list of <code><a href="flextable.html#topic+flextable">flextable</a></code> objects
</p>


<h3>Author(s)</h3>

<p>Julie Padilla
</p>

<hr>
<h2 id='create_sk_national_ft_reserves'>Create a Flextable Object of Reserve Names</h2><span id='topic+create_sk_national_ft_reserves'></span>

<h3>Description</h3>

<p>Create a <code><a href="flextable.html#topic+flextable">flextable</a></code> of reserve names for use with the NERRS national level template.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_sk_national_ft_reserves(
  sk_result,
  font_sz_stn = 8,
  font_sz_head = 8,
  ht_head = 0.75,
  ht_body = 0.2
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="create_sk_national_ft_reserves_+3A_sk_result">sk_result</code></td>
<td>
<p>a <code>data.frame</code> of reformatted results from <code><a href="#topic+sk_seasonal">sk_seasonal</a></code></p>
</td></tr>
<tr><td><code id="create_sk_national_ft_reserves_+3A_font_sz_stn">font_sz_stn</code></td>
<td>
<p>int, specify the font size of displayed station names</p>
</td></tr>
<tr><td><code id="create_sk_national_ft_reserves_+3A_font_sz_head">font_sz_head</code></td>
<td>
<p>int, specify the font size of the table header row</p>
</td></tr>
<tr><td><code id="create_sk_national_ft_reserves_+3A_ht_head">ht_head</code></td>
<td>
<p>num, specify the cell height of the table body rows. Units for this parameter are in inches.</p>
</td></tr>
<tr><td><code id="create_sk_national_ft_reserves_+3A_ht_body">ht_body</code></td>
<td>
<p>num, specify the cell height of the table header row. Units for this parameter are in inches.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is intended for internal use with the NERRS national level reporting scripts. Using results from the reserve level trend analyses, <code>create_sk_national_ft_reserves</code> creates a <code>flextable</code> object of reserve names for display in the NERRS national level template.
</p>


<h3>Value</h3>

<p>Returns a <code><a href="flextable.html#topic+flextable">flextable</a></code> object
</p>


<h3>Author(s)</h3>

<p>Julie Padilla
</p>

<hr>
<h2 id='create_sk_national_ft_results'>Create a Flextable Object of Seasonal Kendall Results</h2><span id='topic+create_sk_national_ft_results'></span>

<h3>Description</h3>

<p>Create a flextable object to display Seasonal Kendall results for each reserve in the NERRS national level template
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_sk_national_ft_results(
  sk_result,
  param,
  font_sz_result = 12,
  font_sz_head = 8,
  ht_head = 0.375,
  ht_body = 0.2
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="create_sk_national_ft_results_+3A_sk_result">sk_result</code></td>
<td>
<p>a <code>data.frame</code> of reformatted results generated by national Level template scripts from reserve level handoff files</p>
</td></tr>
<tr><td><code id="create_sk_national_ft_results_+3A_param">param</code></td>
<td>
<p>chr, the name of the parameter that corresponds to the seasonal kendall results in <code>sk_result</code></p>
</td></tr>
<tr><td><code id="create_sk_national_ft_results_+3A_font_sz_result">font_sz_result</code></td>
<td>
<p>int, specify the font size of the displayed results</p>
</td></tr>
<tr><td><code id="create_sk_national_ft_results_+3A_font_sz_head">font_sz_head</code></td>
<td>
<p>int, specify the font size of the table header row</p>
</td></tr>
<tr><td><code id="create_sk_national_ft_results_+3A_ht_head">ht_head</code></td>
<td>
<p>num, specify the cell height of the table body rows. Units for this parameter are in inches.</p>
</td></tr>
<tr><td><code id="create_sk_national_ft_results_+3A_ht_body">ht_body</code></td>
<td>
<p>num, specify the cell height of the table header row. Units for this parameter are in inches.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is intended for internal use with the NERRS national level reporting scripts. Using results from the reserve level trend analyses, <code>create_sk_national_ft_results</code> creates  a <code>flextable</code> object of seasonal kendall results to be displayed in the NERRS national level template.
</p>


<h3>Value</h3>

<p>Returns a <code><a href="flextable.html#topic+flextable">flextable</a></code> object
</p>


<h3>Author(s)</h3>

<p>Julie Padilla
</p>

<hr>
<h2 id='elk_spatial'>Spatial Data from Elkhorn Slough</h2><span id='topic+elk_spatial'></span>

<h3>Description</h3>

<p>Shapefile for Elkhorn Slough reserve boundary
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(elk_spatial)
</code></pre>


<h3>Format</h3>

<p>A <code><a href="sf.html#topic+sf">sf</a></code> object
</p>


<h3>Source</h3>

<p><a href="https://cdmo.baruch.sc.edu/get/gis.cfm">CDMO</a>
</p>


<h3>References</h3>

<p>NOAA National Estuarine Research Reserve System (NERRS). System-wide Monitoring Program. Data accessed from the NOAA NERRS Centralized Data Management Office website: https://www.nerrsdata.org/; accessed 08 October 2016
</p>

<hr>
<h2 id='elknmnut'>Nutrient Data from Elkhorn Slough - North Marsh Station</h2><span id='topic+elknmnut'></span>

<h3>Description</h3>

<p>Monthly nutrient data from Elkhorn Slough North Marsh station
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(elknmnut)
</code></pre>


<h3>Format</h3>

<p>A <code><a href="base.html#topic+data.frame">data.frame</a></code> object
</p>


<h3>Source</h3>

<p><a href="https://cdmo.baruch.sc.edu/">CDMO</a>
</p>


<h3>References</h3>

<p>NOAA National Estuarine Research Reserve System (NERRS). System-wide Monitoring Program. Data accessed from the NOAA NERRS Centralized Data Management Office website: https://www.nerrsdata.org/; accessed 08 October 2016
</p>

<hr>
<h2 id='elksmwq'>Water Quality Data from Elkhorn Slough - South Marsh Station</h2><span id='topic+elksmwq'></span>

<h3>Description</h3>

<p>Water Quality data from Elkhorn Slough South Marsh station
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(elksmwq)
</code></pre>


<h3>Format</h3>

<p>A <code><a href="base.html#topic+data.frame">data.frame</a></code> object
</p>


<h3>Source</h3>

<p><a href="https://cdmo.baruch.sc.edu/">CDMO</a>
</p>


<h3>References</h3>

<p>NOAA National Estuarine Research Reserve System (NERRS). System-wide Monitoring Program. Data accessed from the NOAA NERRS Centralized Data Management Office website: https://www.nerrsdata.org/; accessed 08 October 2016
</p>

<hr>
<h2 id='ft_col_names'>Convert Parameter Abbreviations</h2><span id='topic+ft_col_names'></span>

<h3>Description</h3>

<p>Convert <code>SWMPr</code> parameter abbreviations into formats appropriate for use with NERRS reserve level template <code><a href="flextable.html#topic+flextable">flextable</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ft_col_names(param)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ft_col_names_+3A_param">param</code></td>
<td>
<p>chr, vector of parameter abbreviations</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A helper function used internally by <code><a href="#topic+create_sk_flextable_list">create_sk_flextable_list</a></code> to label <code><a href="flextable.html#topic+flextable">flextable</a></code> columns in the trend table for the reserve level report.
</p>


<h3>Value</h3>

<p>Returns a <code>data.frame</code> of user-specified results to be displayed
</p>


<h3>Author(s)</h3>

<p>Julie Padilla
</p>

<hr>
<h2 id='generate_results_table'>Filter Reformatted Seasonal Kendall Results</h2><span id='topic+generate_results_table'></span>

<h3>Description</h3>

<p>Filters a <code>dataframe</code> of user-specified results for display in the NERRS reserve level report
</p>


<h3>Usage</h3>

<pre><code class='language-R'>generate_results_table(sk_result, stations, param)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="generate_results_table_+3A_sk_result">sk_result</code></td>
<td>
<p>a <code>data.frame</code> of reformatted seasonal kendall results from <code><a href="#topic+sk_seasonal">sk_seasonal</a></code>.</p>
</td></tr>
<tr><td><code id="generate_results_table_+3A_stations">stations</code></td>
<td>
<p>chr, vector of station names included in <code>sk_result</code> that will be displayed in the NERRS reserve level report</p>
</td></tr>
<tr><td><code id="generate_results_table_+3A_param">param</code></td>
<td>
<p>chr, vector of parameters included in <code>sk_result</code> that will be displayed in the NERRS reserve level report</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A helper function used internally by <code><a href="#topic+create_sk_flextable_list">create_sk_flextable_list</a></code> to create a <code>data.frame</code> of user specified parameters to be displayed in the reserve level report.
</p>


<h3>Value</h3>

<p>Returns a <code>data.frame</code> of user-specified results to be displayed
</p>


<h3>Author(s)</h3>

<p>Julie Padilla
</p>

<hr>
<h2 id='generate_station_table'>Filter Reformatted Seasonal Kendall Results</h2><span id='topic+generate_station_table'></span>

<h3>Description</h3>

<p>Filters a <code>dataframe</code> of user-specified results for display in the NERRS reserve level report
</p>


<h3>Usage</h3>

<pre><code class='language-R'>generate_station_table(sk_result, stations)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="generate_station_table_+3A_sk_result">sk_result</code></td>
<td>
<p>a <code>data.frame</code> of reformatted seasonal kendall results from <code><a href="#topic+sk_seasonal">sk_seasonal</a></code>.</p>
</td></tr>
<tr><td><code id="generate_station_table_+3A_stations">stations</code></td>
<td>
<p>chr, vector of stations listed in <code>sk_result</code> that should be displayed in the NERRS reserve level report</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Used internally by <code><a href="#topic+create_sk_flextable_list">create_sk_flextable_list</a></code> to create a <code>data.frame</code> of user specified parameters to be displayed
</p>


<h3>Value</h3>

<p>Returns a <code>data.frame</code> of user-specified results to be displayed
</p>


<h3>Author(s)</h3>

<p>Julie Padilla
</p>

<hr>
<h2 id='geographic_unique_stations'>Return a vector of geographically unique NERR Stations</h2><span id='topic+geographic_unique_stations'></span>

<h3>Description</h3>

<p>Creates an alphabetically sorted, vector of geographically unique stations for mapping
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geographic_unique_stations(nerr_site_id)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geographic_unique_stations_+3A_nerr_site_id">nerr_site_id</code></td>
<td>
<p>chr vector of valid NERR stations</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is intended for internal use with the NERRS reserve level reporting scripts and is used along with <code><a href="#topic+res_local_map">res_local_map</a></code>. It takes a vector of NERR site ids and only returns geographically unique locations.
</p>


<h3>Value</h3>

<p>returns a vector of NERR stations
</p>


<h3>Author(s)</h3>

<p>Julie Padilla
</p>


<h3>Examples</h3>

<pre><code class='language-R'>stns &lt;- c('apacpnut', 'apacpwq', 'apadbnut', 'apadbwq', 'apaebmet',
'apaebnut', 'apaebwq', 'apaesnut', 'apaeswq')

geographic_unique_stations(stns)

</code></pre>

<hr>
<h2 id='get_reserve'>Identify NERRS reserve from metadata</h2><span id='topic+get_reserve'></span>

<h3>Description</h3>

<p>Identify the NERRS reserve from metadata in the data file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_reserve(data.file)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_reserve_+3A_data.file">data.file</code></td>
<td>
<p>location of data</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is intended for internal use with the NERRS reserve level reporting scripts. It determines the name of the full name of the NERRS reserve associated with the data in the user-specified data folder.
</p>


<h3>Value</h3>

<p>Returns a character string of the full reserve name
</p>


<h3>Author(s)</h3>

<p>Julie Padilla
</p>

<hr>
<h2 id='get_shp_name'>Identify shapefile for NERRS reserve</h2><span id='topic+get_shp_name'></span>

<h3>Description</h3>

<p>Identify the shapefile name associated with the reserve in the data file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_shp_name(gis.file.loc)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_shp_name_+3A_gis.file.loc">gis.file.loc</code></td>
<td>
<p>path to gis file location</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is intended for internal use with the NERRS reserve level reporting scripts. It identifies the name of the shapefile associated with the NERRS reserve.
</p>


<h3>Value</h3>

<p>Returns a character string of the shapefile for the reserve boundary
</p>


<h3>Author(s)</h3>

<p>Julie Padilla
</p>

<hr>
<h2 id='get_site_code'>Return NERRS reserve site code based on data in the data file</h2><span id='topic+get_site_code'></span>

<h3>Description</h3>

<p>Identify the 3-letter NERRS reserve code from metadata in the data file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_site_code(data.file)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_site_code_+3A_data.file">data.file</code></td>
<td>
<p>data source location</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is intended for internal use with the NERRS reserve level reporting scripts. It returns the 3-letter reserve code associated with the data in the user-specified data folder.
</p>


<h3>Value</h3>

<p>Returns 3-letter, reserve site code as chr
</p>


<h3>Author(s)</h3>

<p>Julie Padilla
</p>

<hr>
<h2 id='get_site_coordinates'>Identify NERRS sampling locations from metadata</h2><span id='topic+get_site_coordinates'></span>

<h3>Description</h3>

<p>Identify the latitude/longitude for sampling stations based on the metadata in the data file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_site_coordinates(data.file, active = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_site_coordinates_+3A_data.file">data.file</code></td>
<td>
<p>location of data</p>
</td></tr>
<tr><td><code id="get_site_coordinates_+3A_active">active</code></td>
<td>
<p>logical. Only return active stations?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is intended for internal use with the NERRS reserve level reporting scripts. It returns the names, station codes, and coordinates associated with the data in the user-specified data folder.
</p>


<h3>Value</h3>

<p>Returns a dataframe of station ids, station names, lat/long
</p>


<h3>Author(s)</h3>

<p>Julie Padilla
</p>

<hr>
<h2 id='get_sites'>Identify NERRS reserve stations from metadata</h2><span id='topic+get_sites'></span>

<h3>Description</h3>

<p>Identify the NERRS reserve sampling stations based on the metadata in the data file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_sites(
  data.file,
  type = c("wq", "nut", "met"),
  active = TRUE,
  primary = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_sites_+3A_data.file">data.file</code></td>
<td>
<p>location of data</p>
</td></tr>
<tr><td><code id="get_sites_+3A_type">type</code></td>
<td>
<p>chr string of data station type (<code>'wq'</code>, <code>'nut'</code>, or <code>'met'</code>)</p>
</td></tr>
<tr><td><code id="get_sites_+3A_active">active</code></td>
<td>
<p>logical. Should inactive stations be excluded? Defaults to <code>TRUE</code></p>
</td></tr>
<tr><td><code id="get_sites_+3A_primary">primary</code></td>
<td>
<p>logical. Should non-primary stations be excludes? Defaults to <code>TRUE</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is intended for internal use with the NERRS reserve level reporting scripts. It returns the sampling stations associated with the data in the user-specified data folder.
</p>


<h3>Value</h3>

<p>Returns a character vector of reserve stations
</p>


<h3>Author(s)</h3>

<p>Julie Padilla
</p>

<hr>
<h2 id='historical_daily_range'>Historical Daily Range Timeseries</h2><span id='topic+historical_daily_range'></span><span id='topic+historical_daily_range.swmpr'></span>

<h3>Description</h3>

<p>Compare daily averages for a target year to historical highs and lows
</p>


<h3>Usage</h3>

<pre><code class='language-R'>historical_daily_range(swmpr_in, ...)

## S3 method for class 'swmpr'
historical_daily_range(
  swmpr_in,
  param = NULL,
  hist_rng = NULL,
  target_yr = NULL,
  criteria = NULL,
  free_y = FALSE,
  log_trans = FALSE,
  converted = FALSE,
  criteria_lab = "WQ Threshold",
  plot_title = FALSE,
  plot = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="historical_daily_range_+3A_swmpr_in">swmpr_in</code></td>
<td>
<p>input swmpr object</p>
</td></tr>
<tr><td><code id="historical_daily_range_+3A_...">...</code></td>
<td>
<p>not used</p>
</td></tr>
<tr><td><code id="historical_daily_range_+3A_param">param</code></td>
<td>
<p>chr string of variable to plot</p>
</td></tr>
<tr><td><code id="historical_daily_range_+3A_hist_rng">hist_rng</code></td>
<td>
<p>numeric vector, if historic range is not specified then the min/max values of the data set will be used.</p>
</td></tr>
<tr><td><code id="historical_daily_range_+3A_target_yr">target_yr</code></td>
<td>
<p>numeric, the target year that should be compared against the historic range. If target year is not specified then dot will not be plotted</p>
</td></tr>
<tr><td><code id="historical_daily_range_+3A_criteria">criteria</code></td>
<td>
<p>numeric, a numeric criteria that will be plotted as a horizontal line</p>
</td></tr>
<tr><td><code id="historical_daily_range_+3A_free_y">free_y</code></td>
<td>
<p>logical, should the y-axis be free? Defaults to <code>FALSE</code>. If <code>FALSE</code>, defaults to zero, unless negative values are present. If <code>TRUE</code>, y-axis limits are selected by <code>ggplot</code></p>
</td></tr>
<tr><td><code id="historical_daily_range_+3A_log_trans">log_trans</code></td>
<td>
<p>logical, should y-axis be log? Defaults to <code>FALSE</code></p>
</td></tr>
<tr><td><code id="historical_daily_range_+3A_converted">converted</code></td>
<td>
<p>logical, were the units converted from the original units used by CDMO? Defaults to <code>FALSE</code>. See <code>y_labeler</code> for details.</p>
</td></tr>
<tr><td><code id="historical_daily_range_+3A_criteria_lab">criteria_lab</code></td>
<td>
<p>chr, label for the threshold criteria defined in <code>criteria</code>. Defaults to &quot;WQ Threshold&quot;</p>
</td></tr>
<tr><td><code id="historical_daily_range_+3A_plot_title">plot_title</code></td>
<td>
<p>logical, should the station name be included as the plot title? Defaults to <code>FALSE</code></p>
</td></tr>
<tr><td><code id="historical_daily_range_+3A_plot">plot</code></td>
<td>
<p>logical, should a plot be returned? Defaults to <code>TRUE</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function compares the average daily minimums/maximums and absolute daily minimums/maximums from a historical range to the average daily value from a target year. If <code>hist_rng</code> is not specified then the minimum and maximum years within the data set will be used. If <code>target_yr</code> is not specified then only the results for the <code>hist_rng</code> will be returned.
</p>
<p>The user also has the option to add a threshold line using the <code>criteria</code> argument. Typically, this value is a water quality threshold, which is why <code>criteria_lab</code> defaults to <code>'WQ Threshold'</code>. However, the user has the option to specify any other type of threshold they wish. when doing so, the value for <code>criteria_lab</code> should be changed accordingly.
</p>


<h3>Value</h3>

<p>Returns a <code><a href="ggplot2.html#topic+ggplot">ggplot</a></code> object
</p>


<h3>Author(s)</h3>

<p>Julie Padilla, Kimberly Cressman
</p>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+ggplot">ggplot</a></code>, <code><a href="#topic+y_labeler">y_labeler</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>


data(apacpwq)
dat &lt;- apacpwq

dat &lt;- qaqc(apacpwq, qaqc_keep = c('0', '3', '5'))
# with criteria
y &lt;- historical_daily_range(dat, param = 'do_mgl', target_yr = 2013, criteria = 2)

# w/o criteria
z &lt;- historical_daily_range(dat, param = 'do_mgl', target_yr = 2013)

# add a y label
zz &lt;- z + labs(x = NULL, y = "Dissolved Oxygen (mg/L)")

</code></pre>

<hr>
<h2 id='historical_range'>Historical Monthly/Seasonal Range Timeseries</h2><span id='topic+historical_range'></span><span id='topic+historical_range.swmpr'></span>

<h3>Description</h3>

<p>Compare seasonal averages/minimums/maximums for a target year to historical seasonal averages/minimums/maximums
</p>


<h3>Usage</h3>

<pre><code class='language-R'>historical_range(swmpr_in, ...)

## S3 method for class 'swmpr'
historical_range(
  swmpr_in,
  param = NULL,
  hist_rng = NULL,
  target_yr = NULL,
  criteria = NULL,
  free_y = FALSE,
  log_trans = FALSE,
  converted = FALSE,
  criteria_lab = "WQ Threshold",
  plot_title = FALSE,
  plot = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="historical_range_+3A_swmpr_in">swmpr_in</code></td>
<td>
<p>input swmpr object</p>
</td></tr>
<tr><td><code id="historical_range_+3A_...">...</code></td>
<td>
<p>additional arguments passed to other methods. See <code><a href="#topic+assign_season">assign_season</a></code></p>
</td></tr>
<tr><td><code id="historical_range_+3A_param">param</code></td>
<td>
<p>chr string of variable to plot</p>
</td></tr>
<tr><td><code id="historical_range_+3A_hist_rng">hist_rng</code></td>
<td>
<p>numeric vector, if historic range is not specified then the min/max values of the data set will be used.</p>
</td></tr>
<tr><td><code id="historical_range_+3A_target_yr">target_yr</code></td>
<td>
<p>numeric, the target year that should be compared against the historic range. If target year is not specified then dot will not be plotted</p>
</td></tr>
<tr><td><code id="historical_range_+3A_criteria">criteria</code></td>
<td>
<p>numeric, a numeric criteria that will be plotted as a horizontal line</p>
</td></tr>
<tr><td><code id="historical_range_+3A_free_y">free_y</code></td>
<td>
<p>logical, should the y-axis be free? Defaults to <code>FALSE</code>. If <code>FALSE</code>, defaults to zero, unless negative values are present. If <code>TRUE</code>, y-axis limits are selected by <code>ggplot</code></p>
</td></tr>
<tr><td><code id="historical_range_+3A_log_trans">log_trans</code></td>
<td>
<p>logical, should y-axis be log? Defaults to <code>FALSE</code></p>
</td></tr>
<tr><td><code id="historical_range_+3A_converted">converted</code></td>
<td>
<p>logical, were the units converted from the original units used by CDMO? Defaults to <code>FALSE</code>. See <code>y_labeler</code> for details.</p>
</td></tr>
<tr><td><code id="historical_range_+3A_criteria_lab">criteria_lab</code></td>
<td>
<p>chr, label for the threshold criteria defined in <code>criteria</code>. Defaults to &quot;WQ Threshold&quot;</p>
</td></tr>
<tr><td><code id="historical_range_+3A_plot_title">plot_title</code></td>
<td>
<p>logical, should the station name be included as the plot title? Defaults to <code>FALSE</code></p>
</td></tr>
<tr><td><code id="historical_range_+3A_plot">plot</code></td>
<td>
<p>logical, should a plot be returned? Defaults to <code>TRUE</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function summarizes average daily values and average daily minimums/maximums across user-defined seasons for a target year (<code>target_yr</code>) and for a historical range (<code>hist_rng</code>). If <code>hist_rng</code> is not specified then the minimum and maximum years within the data set will be used. If <code>target_yr</code> is not specified then only the results for the <code>hist_rng</code> will be returned.
</p>
<p>The user also has the option to add a threshold hold line using the <code>criteria</code> argument. Typically, this value is a water quality threshold, which is why <code>criteria_lab</code> defaults to <code>'WQ Threshold'</code>. However, the user has the option to specify any other type of threshold they wish. when doing so, the value for <code>criteria_lab</code> should be changed accordingly.
</p>


<h3>Value</h3>

<p>Returns a <code><a href="ggplot2.html#topic+ggplot">ggplot</a></code> object
</p>


<h3>Author(s)</h3>

<p>Julie Padilla, Kimberly Cressman
</p>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+ggplot">ggplot</a></code>, <code><a href="#topic+assign_season">assign_season</a></code>, <code><a href="#topic+y_labeler">y_labeler</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>


data(elksmwq)

dat &lt;- qaqc(elksmwq, qaqc_keep = c('0', '3', '5'))
# with criteria
y &lt;- historical_range(dat, param = 'do_mgl', target_yr = 2013, criteria = 2)

# w/o criteria
z &lt;- historical_range(dat, param = 'do_mgl', target_yr = 2013)

# add a y label
zz &lt;- z + labs(x = NULL, y = "Dissolved Oxygen (mg/L)")

</code></pre>

<hr>
<h2 id='import_local_nut'>Import local CDMO data</h2><span id='topic+import_local_nut'></span>

<h3>Description</h3>

<p>Import local data that were obtained from the CDMO through the zip downloads feature
</p>


<h3>Usage</h3>

<pre><code class='language-R'>import_local_nut(path, station_code, collMethd = c(1, 2), trace = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="import_local_nut_+3A_path">path</code></td>
<td>
<p>chr string of full path to .csv files with raw data, can be a zipped or unzipped directory where the former must include the .zip extension</p>
</td></tr>
<tr><td><code id="import_local_nut_+3A_station_code">station_code</code></td>
<td>
<p>chr string of station to import, typically 7 or 8 characters including wq, nut, or met extensions, may include full name with year, excluding file extension</p>
</td></tr>
<tr><td><code id="import_local_nut_+3A_collmethd">collMethd</code></td>
<td>
<p>chr string of nutrient data to subset. 1 indicates monthly, 2 indicates diel. Default is both diel and monthly data.</p>
</td></tr>
<tr><td><code id="import_local_nut_+3A_trace">trace</code></td>
<td>
<p>logical indicating if progress is sent to console, default <code>FALSE</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function is designed to import local data that were downloaded from the CDMO outside of R. This approach works best for larger data requests, specifically those from the zip downloads feature in the advanced query section of the CDMO. The function may also work using data from the data export system, but this feature has not been extensively tested. The downloaded data will be in a compressed folder that includes multiple .csv files by year for a given data type (e.g., apacpwq2002.csv, apacpwq2003.csv, apacpnut2002.csv, etc.). The import_local function can be used to import files directly from the compressed folder or after the folder is decompressed.  In the former case, the requested files are extracted to a temporary directory and then deleted after they are loaded into the current session.  An example dataset is available online to illustrate the format of the data provided through the zip downloads feature.  See the link below to access these data.  All example datasets included with the package were derived from these raw data.
</p>
<p>Occasionally, duplicate time stamps are present in the raw data.  The function handles duplicate entries differently depending on the data type (water quality,  weather, or nutrients).  For water quality and nutrient data, duplicate time stamps are simply removed.  Note that nutrient data often contain replicate samples with similar but not duplicated time stamps within a few minutes of each other.  Replicates with unique time stamps are not removed but can be further processed using <code>rem_reps</code>.  Weather data prior to 2007 may contain duplicate time stamps at frequencies for 60 (hourly) and 144 (daily) averages, in addition to 15 minute frequencies.  Duplicate values that correspond to the smallest value in the frequency column (15 minutes) are retained.
</p>
<p>This function differs from <code><a href="SWMPr.html#topic+import_local">import_local</a></code> in that it allows for special handling of nutrient data. Using this function, the user can separate diel sampling data from low-tide sampling data using the <code>collMthd</code> argument.
</p>
<p>Zip download request through CDMO: <a href="https://cdmo.baruch.sc.edu/aqs/zips.cfm">https://cdmo.baruch.sc.edu/aqs/zips.cfm</a>
</p>
<p>Example dataset: <a href="https://s3.amazonaws.com/swmpexdata/zip_ex.zip">https://s3.amazonaws.com/swmpexdata/zip_ex.zip</a>
</p>


<h3>Value</h3>

<p>Returns a swmpr object with all parameters and QAQC columns for the station.  The full date range in the raw data are also imported.
</p>


<h3>Author(s)</h3>

<p>Marcus Beck, Julie Padilla (additional of <code>collMthd</code> argument)
maintainer: Julie Padilla
</p>


<h3>See Also</h3>

<p><code>all_params</code>, <code>all_params_dtrng</code>, <code>rem_reps</code>, <code>single_param</code>
</p>

<hr>
<h2 id='lm_p_labs'>P-Value labels for Plotting</h2><span id='topic+lm_p_labs'></span>

<h3>Description</h3>

<p>Generate a dataframe of p-value labels based on p-values from linear regression
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lm_p_labs(dat_in)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lm_p_labs_+3A_dat_in">dat_in</code></td>
<td>
<p><code>data.frame</code> with year, season, min, mean, max columns</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A helper function that returns a <code>data.frame</code> of p-value labels for use with the <code><a href="#topic+seasonal_dot">seasonal_dot</a></code>. P-values are taken from linear regression <code>lm</code>.
</p>


<h3>Value</h3>

<p>Returns <code>data.frame</code> for use with <code><a href="#topic+seasonal_dot">seasonal_dot</a></code>
</p>


<h3>Author(s)</h3>

<p>Julie Padilla, Dave Eslinger
</p>


<h3>See Also</h3>

<p><code><a href="stats.html#topic+lm">lm</a></code>
</p>

<hr>
<h2 id='load_shp_file'>Load and format shapefile for reserve level map</h2><span id='topic+load_shp_file'></span>

<h3>Description</h3>

<p>Load and format shapefile for use with res_local_map. If polygons are dissolved, the only attribute returned will be a count of the number of grouped polygons, otherwise, all attributes are retained.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>load_shp_file(path, dissolve_boundaries = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="load_shp_file_+3A_path">path</code></td>
<td>
<p>path to shapefile and name</p>
</td></tr>
<tr><td><code id="load_shp_file_+3A_dissolve_boundaries">dissolve_boundaries</code></td>
<td>
<p>logical, should reserve boundaries be dissolved? Defaults to <code>TRUE</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is intended for internal use with the NERRS reserve level reporting scripts. It loads a NERRS boundary shp file and dissolves unnecessary reserve boundaries. The resulting <code>sf</code> object is then used with <code><a href="#topic+res_sk_map">res_sk_map</a></code> and <code><a href="#topic+res_local_map">res_local_map</a></code>
</p>


<h3>Value</h3>

<p>Returns a <code><a href="sf.html#topic+sf">sf</a></code> object
</p>


<h3>Author(s)</h3>

<p>Julie Padilla, Dave Eslinger
</p>

<hr>
<h2 id='national_sk_map'>Reserve National Map with Seasonal Kendall Results</h2><span id='topic+national_sk_map'></span>

<h3>Description</h3>

<p>Create a base map for NERRS reserves in ggplot with seasonal kendall results
</p>


<h3>Usage</h3>

<pre><code class='language-R'>national_sk_map(
  incl = c("contig", "AK", "HI", "PR"),
  highlight_states = NULL,
  sk_reserves = NULL,
  sk_results = NULL,
  sk_fill_colors = c("#444E65", "#A3DFFF", "#247BA0", "#0a0a0a"),
  agg_county = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="national_sk_map_+3A_incl">incl</code></td>
<td>
<p>chr vector to include AK, HI , and PR (case sensitive)</p>
</td></tr>
<tr><td><code id="national_sk_map_+3A_highlight_states">highlight_states</code></td>
<td>
<p>chr vector of state FIPS codes</p>
</td></tr>
<tr><td><code id="national_sk_map_+3A_sk_reserves">sk_reserves</code></td>
<td>
<p>chr vector of 3 letter reserve codes that have seasonal kendall results</p>
</td></tr>
<tr><td><code id="national_sk_map_+3A_sk_results">sk_results</code></td>
<td>
<p>chr vector of seasonal kendall results. Results can be 'inc', 'dec', 'insig', or 'insuff' which stand for 'increasing trend', 'decreasing trend', 'statistically insignificant trend', or 'insufficient data to detect trend'</p>
</td></tr>
<tr><td><code id="national_sk_map_+3A_sk_fill_colors">sk_fill_colors</code></td>
<td>
<p>chr vector of colors used to fill seasonal kendall result markers</p>
</td></tr>
<tr><td><code id="national_sk_map_+3A_agg_county">agg_county</code></td>
<td>
<p>logical, should counties be aggregated to the state-level? Defaults to <code>TRUE</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>Create a base map of the US with options for including AK, HI, and PR. The user can choose which states and NERRS reserves to highlight. An early 'sp'-based version of this function by Julie Padilla was developed, in part, from a blog post by Bob Rudis. The current <code>sf</code>-based version, by Dave Eslinger, uses an approach from the r-spatial tutorial by Mel Moreno and Mathieu Basille.
</p>
<p>To ensure the proper plotting of results, the order of the results vector for <code>sk_results</code> should match the order of the reserves vector for <code>sk_reserves</code>.
</p>


<h3>Value</h3>

<p>Returns a <code><a href="ggplot2.html#topic+ggplot">ggplot</a></code> object
</p>


<h3>Author(s)</h3>

<p>Julie Padilla, Dave Eslinger
Maintainer: Dave Eslinger
</p>


<h3>References</h3>

<p>Rudis, Bob. 2014. &quot;Moving The Earth (well, Alaska &amp; Hawaii) With R&quot;. rud.is (blog). November 16, 2014. https://rud.is/b/2014/11/16/moving-the-earth-well-alaska-hawaii-with-r/
Moreno, Mel, and Basille, Mathieu Basille. 2018. &quot;Drawing beautiful maps programmatically with R, sf and ggplot2 — Part 3: Layouts&quot; r-spatial (blog). October 25, 2018. https://www.r-spatial.org/r/2018/10/25/ggplot2-sf-3.html
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##National map highlighting west coast and non-CONUS states and NERRS.
nerr_states_west &lt;- c('02', '06', '41', '53', '72', '15')

nerrs_codes &lt;- c('pdb', 'sos', 'sfb', 'elk', 'tjr', 'kac', 'job', 'hee')

nerrs_sk_results &lt;- c('inc', 'inc', 'dec', 'insig', 'insuff', 'dec', 'inc', 'dec')

national_sk_map(highlight_states = nerr_states_west,
                sk_reserve = nerrs_codes, sk_results = nerrs_sk_results)

</code></pre>

<hr>
<h2 id='raw_boxplot'>Boxplots of raw data by user-defined season for a target year</h2><span id='topic+raw_boxplot'></span><span id='topic+raw_boxplot.swmpr'></span>

<h3>Description</h3>

<p>Boxplots of raw data by user-defined season for a target year
</p>


<h3>Usage</h3>

<pre><code class='language-R'>raw_boxplot(swmpr_in, ...)

## S3 method for class 'swmpr'
raw_boxplot(
  swmpr_in,
  param = NULL,
  target_yr = NULL,
  criteria = NULL,
  free_y = FALSE,
  log_trans = FALSE,
  converted = FALSE,
  plot_title = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="raw_boxplot_+3A_swmpr_in">swmpr_in</code></td>
<td>
<p>input swmpr object</p>
</td></tr>
<tr><td><code id="raw_boxplot_+3A_...">...</code></td>
<td>
<p>additional arguments passed to other methods. See <code><a href="#topic+assign_season">assign_season</a></code> and <code><a href="#topic+y_labeler">y_labeler</a></code>.</p>
</td></tr>
<tr><td><code id="raw_boxplot_+3A_param">param</code></td>
<td>
<p>chr string of variable to plot</p>
</td></tr>
<tr><td><code id="raw_boxplot_+3A_target_yr">target_yr</code></td>
<td>
<p>numeric, if target year is not specified then all data in the data frame will be used.</p>
</td></tr>
<tr><td><code id="raw_boxplot_+3A_criteria">criteria</code></td>
<td>
<p>numeric, a numeric criteria that will be plotted as a horizontal line</p>
</td></tr>
<tr><td><code id="raw_boxplot_+3A_free_y">free_y</code></td>
<td>
<p>logical, should the y-axis be free? Defaults to <code>FALSE</code>. If <code>FALSE</code>, defaults to zero, unless negative values are present. If <code>TRUE</code>, y-axis limits are selected by <code>ggplot</code></p>
</td></tr>
<tr><td><code id="raw_boxplot_+3A_log_trans">log_trans</code></td>
<td>
<p>logical, should y-axis be log? Defaults to <code>FALSE</code></p>
</td></tr>
<tr><td><code id="raw_boxplot_+3A_converted">converted</code></td>
<td>
<p>logical, were the units converted from the original units used by CDMO? Defaults to <code>FALSE</code>. See <code>y_labeler</code> for details.</p>
</td></tr>
<tr><td><code id="raw_boxplot_+3A_plot_title">plot_title</code></td>
<td>
<p>logical, should the station name be included as the plot title? Defaults to <code>FALSE</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function produces boxplots of raw, unaggregated data by user-specified season for year of interest
</p>


<h3>Value</h3>

<p>A <code><a href="ggplot2.html#topic+ggplot">ggplot</a></code> object
</p>


<h3>Author(s)</h3>

<p>Julie Padilla
</p>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+ggplot">ggplot</a></code>, <code><a href="#topic+assign_season">assign_season</a></code>, <code><a href="#topic+y_labeler">y_labeler</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>


## get data, prep
data(elksmwq)
dat &lt;- elksmwq

dat &lt;- qaqc(elksmwq, qaqc_keep = c('0', '3', '5'))
raw_boxplot(dat, param = 'do_mgl')



</code></pre>

<hr>
<h2 id='remove_inf_and_nan'>Replace Inf/-Inf/NaN values</h2><span id='topic+remove_inf_and_nan'></span>

<h3>Description</h3>

<p>Replace <code>Inf</code>, <code>-Inf</code>, and <code>NaN</code> in a matrix with <code>NA</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>remove_inf_and_nan(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="remove_inf_and_nan_+3A_x">x</code></td>
<td>
<p>input matrix</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function replaces <code>Inf</code>, <code>-Inf</code>, and <code>NaN</code> in a matrix with <code>NA</code>. It is used internally by several functions.
</p>


<h3>Value</h3>

<p>Returns a <code>matrix</code> object
</p>


<h3>Author(s)</h3>

<p>Julie Padilla
</p>

<hr>
<h2 id='res_custom_map'>Local Reserve Map for Custom Stations</h2><span id='topic+res_custom_map'></span>

<h3>Description</h3>

<p>Create a stylized reserve-level map of custom station locations for use with the reserve level reporting template
</p>


<h3>Usage</h3>

<pre><code class='language-R'>res_custom_map(
  stations,
  x_loc,
  y_loc,
  bbox,
  shp,
  station_labs = TRUE,
  station_col = NULL,
  lab_loc = NULL,
  bg_map = NULL,
  zoom = NULL,
  maptype = "stamen_toner_lite"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="res_custom_map_+3A_stations">stations</code></td>
<td>
<p>chr string of the reserve stations to include in the map</p>
</td></tr>
<tr><td><code id="res_custom_map_+3A_x_loc">x_loc</code></td>
<td>
<p>num vector of x coordinates for <code>stations</code></p>
</td></tr>
<tr><td><code id="res_custom_map_+3A_y_loc">y_loc</code></td>
<td>
<p>num vector of y coordinates for <code>stations</code></p>
</td></tr>
<tr><td><code id="res_custom_map_+3A_bbox">bbox</code></td>
<td>
<p>a bounding box associated with the reserve. Must be in the format
of c(X1, Y1, X2, Y2)</p>
</td></tr>
<tr><td><code id="res_custom_map_+3A_shp">shp</code></td>
<td>
<p>sf data frame (preferred) or SpatialPolygons object</p>
</td></tr>
<tr><td><code id="res_custom_map_+3A_station_labs">station_labs</code></td>
<td>
<p>logical, should stations be labeled? Defaults to
<code>TRUE</code></p>
</td></tr>
<tr><td><code id="res_custom_map_+3A_station_col">station_col</code></td>
<td>
<p>chr vector of colors used to color station points.
Defaults to 'black'.</p>
</td></tr>
<tr><td><code id="res_custom_map_+3A_lab_loc">lab_loc</code></td>
<td>
<p>chr vector of 'R' and 'L', one letter for each station. if no
<code>lab_loc</code> is specified then labels will default to the left.</p>
</td></tr>
<tr><td><code id="res_custom_map_+3A_bg_map">bg_map</code></td>
<td>
<p>a georeferenced <code>ggmap</code> or <code>ggplot</code> object used as a
background map, generally provided by a call to <code>base_map</code>. If
<code>bg_map</code> is specified, <code>maptype</code> and <code>zoom</code> are ignored.</p>
</td></tr>
<tr><td><code id="res_custom_map_+3A_zoom">zoom</code></td>
<td>
<p>Zoom level for the base map created when <code>bg_map</code> is not
specified.  An integer value, 5 - 15, with higher numbers providing  more
detail.  If not provided, a zoom level is autoscaled based on <code>bbox</code>
parameters.</p>
</td></tr>
<tr><td><code id="res_custom_map_+3A_maptype">maptype</code></td>
<td>
<p>Background map type from Stadia Maps (formerly Stamen)
(<a href="https://docs.stadiamaps.com/">https://docs.stadiamaps.com/</a>); one of c(&quot;stamen_terrain&quot;,
&quot;stamen_toner&quot;, &quot;stamen_toner_lite&quot;, &quot;stamen_watercolor&quot;, &quot;alidade_smooth&quot;,
&quot;alidade_smooth_dark&quot;, &quot;outdoors&quot;, &quot;stamen_terrain_background&quot;,
&quot;stamen_toner_background&quot;, &quot;stamen_terrain_labels&quot;, &quot;stamen_terrain_lines&quot;,
&quot;stamen_toner_labels&quot;, &quot;stamen_toner_lines&quot;).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Creates a stylized, reserve-level base map. The user can specify the
reserve and stations to plot. The user can also specify a bounding box. For
multi-component reserves, the user should specify a bounding box that
highlights the component of interest.
</p>
<p>This function does not automatically detect conflicts between station
labels. The <code>lab_loc</code> argument allows the user to specify &quot;R&quot; or &quot;L&quot;
for each station to prevent labels from conflicting with each other.
</p>
<p>This function is intended to be used with <code>mapview::mapshot</code> to
generate a png for the reserve-level report.
</p>


<h3>Value</h3>

<p>returns a <code>ggplot</code> object
</p>


<h3>Author(s)</h3>

<p>Julie Padilla, Dave Eslinger
</p>


<h3>Examples</h3>

<pre><code class='language-R'>### set plotting parameters
stns &lt;- c('Stn 1', 'Stn 2')
x_coords &lt;- c(-121.735281, -121.750369)
y_coords &lt;- c(36.850377, 36.806667)
shp_fl &lt;- elk_spatial
bounding_elk &lt;- c(-121.8005, 36.7779, -121.6966, 36.8799)
lab_dir &lt;- c('L', 'R')

### Low zoom and default maptype plot (for CRAN testing, not recommended)
#    Lower zoom number gives coarser text and fewer features
(x_low &lt;- res_custom_map(stations = stns, x_loc = x_coords, y_loc = y_coords,
                    bbox = bounding_elk, lab_loc = lab_dir, shp = shp_fl,
                    zoom = 10))


x_def &lt;- res_custom_map(stations = stns, x_loc = x_coords, y_loc = y_coords,
                    bbox = bounding_elk, lab_loc = lab_dir, shp = shp_fl)

res_custom_map(stations = stns, x_loc = x_coords, y_loc = y_coords,
               bbox = bounding_elk, lab_loc = lab_dir,
               shp = shp_fl, station_col = c('red', 'green'))


</code></pre>

<hr>
<h2 id='res_custom_sk_map'>Local Reserve Map With Seasonal Kendall Results for Custom Stations</h2><span id='topic+res_custom_sk_map'></span>

<h3>Description</h3>

<p>Create a stylized reserve-level map of seasonal kendall results from custom
station locations for use with the reserve level reporting template
</p>


<h3>Usage</h3>

<pre><code class='language-R'>res_custom_sk_map(
  stations,
  x_loc,
  y_loc,
  sk_result = NULL,
  bbox,
  shp,
  station_labs = TRUE,
  lab_loc = NULL,
  bg_map = NULL,
  zoom = NULL,
  maptype = "stamen_toner_lite"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="res_custom_sk_map_+3A_stations">stations</code></td>
<td>
<p>chr string of the reserve stations to include in the map</p>
</td></tr>
<tr><td><code id="res_custom_sk_map_+3A_x_loc">x_loc</code></td>
<td>
<p>num vector of x coordinates for <code>stations</code>. East longitudes
must be negative.</p>
</td></tr>
<tr><td><code id="res_custom_sk_map_+3A_y_loc">y_loc</code></td>
<td>
<p>num vector of y coordinates for <code>stations</code></p>
</td></tr>
<tr><td><code id="res_custom_sk_map_+3A_sk_result">sk_result</code></td>
<td>
<p>vector of values denoting direction and significance of
seasonal kendall results. Result should be c('inc', 'dec', 'insig') for
sig. negative, no sig. results, and sig. positive result</p>
</td></tr>
<tr><td><code id="res_custom_sk_map_+3A_bbox">bbox</code></td>
<td>
<p>a bounding box associated with the reserve. Must be in the format
of c(X1, Y1, X2, Y2)</p>
</td></tr>
<tr><td><code id="res_custom_sk_map_+3A_shp">shp</code></td>
<td>
<p>sf data frame (preferred) or SpatialPolygons object</p>
</td></tr>
<tr><td><code id="res_custom_sk_map_+3A_station_labs">station_labs</code></td>
<td>
<p>logical, should stations be labeled? Defaults to
<code>TRUE</code></p>
</td></tr>
<tr><td><code id="res_custom_sk_map_+3A_lab_loc">lab_loc</code></td>
<td>
<p>chr vector of 'R' and 'L', one letter for each station. if no
<code>lab_loc</code> is specified then labels will default to the left.</p>
</td></tr>
<tr><td><code id="res_custom_sk_map_+3A_bg_map">bg_map</code></td>
<td>
<p>a georeferenced <code>ggmap</code> or <code>ggplot</code> object used as a
background map, generally provided by a call to <code>base_map</code>. If
<code>bg_map</code> is specified, <code>maptype</code> and <code>zoom</code> are ignored.</p>
</td></tr>
<tr><td><code id="res_custom_sk_map_+3A_zoom">zoom</code></td>
<td>
<p>Zoom level for the base map created when <code>bg_map</code> is not
specified.  An integer value, 5 - 15, with higher numbers providing  more
detail.  If not provided, a zoom level is autoscaled based on <code>bbox</code>
parameters.</p>
</td></tr>
<tr><td><code id="res_custom_sk_map_+3A_maptype">maptype</code></td>
<td>
<p>Background map type from Stadia Maps (formerly Stamen)
(<a href="https://docs.stadiamaps.com/">https://docs.stadiamaps.com/</a>); one of c(&quot;stamen_terrain&quot;,
&quot;stamen_toner&quot;, &quot;stamen_toner_lite&quot;, &quot;stamen_watercolor&quot;, &quot;alidade_smooth&quot;,
&quot;alidade_smooth_dark&quot;, &quot;outdoors&quot;, &quot;stamen_terrain_background&quot;,
&quot;stamen_toner_background&quot;, &quot;stamen_terrain_labels&quot;, &quot;stamen_terrain_lines&quot;,
&quot;stamen_toner_labels&quot;, &quot;stamen_toner_lines&quot;).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Creates a stylized, reserve-level base map for displaying seasonal
kendall results from <code><a href="#topic+sk_seasonal">sk_seasonal</a></code>. The user can specify the
reserve and stations to plot. The user can also specify a bounding box. For
multi-component reserves, the user should specify a bounding box that
highlights the component of interest.
</p>
<p>To display seasonal trends, the user must specify <code>c('inc', 'dec',
  'insig', 'insuff')</code> for each station listed in the <code>stations</code>
argument.
</p>


<h3>Value</h3>

<p>returns a <code>ggplot</code> object
</p>


<h3>Author(s)</h3>

<p>Julie Padilla, Dave Eslinger
</p>


<h3>Examples</h3>

<pre><code class='language-R'>### set plotting parameters
stns &lt;- c('Stn 1', 'Stn 2')
x_coords &lt;- c(-121.735281, -121.750369)
y_coords &lt;- c(36.850377, 36.806667)
shp_fl &lt;- elk_spatial
bounding_elk &lt;- c(-121.8005, 36.7779, -121.6966, 36.8799)
lab_dir &lt;- c('R', 'L')
trnds &lt;- c('inc', 'dec')

### Low zoom and default maptype plot (for CRAN testing, not recommended)
#    Lower zoom number gives coarser text and fewer features
(x_low &lt;- res_custom_sk_map(stations = stns, x_loc = x_coords,
                  sk_result = trnds, y_loc = y_coords,
                  bbox = bounding_elk, lab_loc = lab_dir,
                  shp = shp_fl, zoom = 10))

### Default zoom and maptype plot
x_def &lt;- res_custom_sk_map(stations = stns, x_loc = x_coords,
                  sk_result = trnds, y_loc = y_coords,
                  bbox = bounding_elk, lab_loc = lab_dir,
                  shp = shp_fl)

### Higher zoom number gives more details, but may not be visible
x_14 &lt;- res_custom_sk_map(stations = stns, x_loc = x_coords,
                  sk_result = trnds, y_loc = y_coords,
                  bbox = bounding_elk, lab_loc = lab_dir,
                  shp = shp_fl, zoom = 14)


### Different maptypes may be used.  All may not be available.
#   Note that zoom and maptype interact, so some experimentation may be
#   required.
x_terrain &lt;- res_custom_sk_map(stations = stns, x_loc = x_coords,
                  sk_result = trnds, y_loc = y_coords,
                  bbox = bounding_elk, lab_loc = lab_dir,
                  shp = shp_fl, maptype = 'stamen_terrain')

</code></pre>

<hr>
<h2 id='res_local_map'>Local Reserve Map</h2><span id='topic+res_local_map'></span>

<h3>Description</h3>

<p>Create a stylized reserve-level map for use with the reserve level reporting
template
</p>


<h3>Usage</h3>

<pre><code class='language-R'>res_local_map(
  nerr_site_id,
  stations,
  bbox,
  shp,
  station_labs = TRUE,
  lab_loc = NULL,
  bg_map = NULL,
  zoom = NULL,
  maptype = "stamen_toner_lite"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="res_local_map_+3A_nerr_site_id">nerr_site_id</code></td>
<td>
<p>chr string of the reserve to make, first three characters
used by NERRS</p>
</td></tr>
<tr><td><code id="res_local_map_+3A_stations">stations</code></td>
<td>
<p>chr string of the reserve stations to include in the map</p>
</td></tr>
<tr><td><code id="res_local_map_+3A_bbox">bbox</code></td>
<td>
<p>a bounding box associated with the reserve. Must be in the format
of c(X1, Y1, X2, Y2)</p>
</td></tr>
<tr><td><code id="res_local_map_+3A_shp">shp</code></td>
<td>
<p>sf data frame (preferred) or SpatialPolygons object</p>
</td></tr>
<tr><td><code id="res_local_map_+3A_station_labs">station_labs</code></td>
<td>
<p>logical, should stations be labeled? Defaults to
<code>TRUE</code></p>
</td></tr>
<tr><td><code id="res_local_map_+3A_lab_loc">lab_loc</code></td>
<td>
<p>chr vector of 'R' and 'L', one letter for each station. if no
<code>lab_loc</code> is specified then labels will default to the left.</p>
</td></tr>
<tr><td><code id="res_local_map_+3A_bg_map">bg_map</code></td>
<td>
<p>a georeferenced <code>ggmap</code> or <code>ggplot</code> object used as a
background map, generally provided by a call to <code>base_map</code>. If
<code>bg_map</code> is specified, <code>maptype</code> and <code>zoom</code> are ignored.</p>
</td></tr>
<tr><td><code id="res_local_map_+3A_zoom">zoom</code></td>
<td>
<p>Zoom level for the base map created when <code>bg_map</code> is not
specified.  An integer value, 5 - 15, with higher numbers providing  more
detail.  If not provided, a zoom level is autoscaled based on <code>bbox</code>
parameters.</p>
</td></tr>
<tr><td><code id="res_local_map_+3A_maptype">maptype</code></td>
<td>
<p>Background map type from Stadia Maps (formerly Stamen)
(<a href="https://docs.stadiamaps.com/">https://docs.stadiamaps.com/</a>); one of c(&quot;stamen_terrain&quot;,
&quot;stamen_toner&quot;, &quot;stamen_toner_lite&quot;, &quot;stamen_watercolor&quot;, &quot;alidade_smooth&quot;,
&quot;alidade_smooth_dark&quot;, &quot;outdoors&quot;, &quot;stamen_terrain_background&quot;,
&quot;stamen_toner_background&quot;, &quot;stamen_terrain_labels&quot;, &quot;stamen_terrain_lines&quot;,
&quot;stamen_toner_labels&quot;, &quot;stamen_toner_lines&quot;).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Creates a stylized, reserve-level base map. The user can specify the
reserve and stations to plot. The user can also specify a bounding box. For
multi-component reserves, the user should specify a bounding box that
highlights the component of interest.
</p>
<p>This function does not automatically detect conflicts between station
labels. The <code>lab_loc</code> argument allows the user to specify &quot;R&quot; or &quot;L&quot;
for each station to prevent labels from conflicting with each other.
</p>
<p>This function is intended to be used with <code>mapview::mapshot</code> to
generate a png for the reserve-level report.
</p>


<h3>Value</h3>

<p>returns a <code>ggplot</code> object
</p>


<h3>Author(s)</h3>

<p>Julie Padilla, Dave Eslinger
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## a compact reserve
### set plotting parameters
stations &lt;-
sampling_stations[(sampling_stations$NERR.Site.ID == 'elk'
          &amp; sampling_stations$Status == 'Active'
          &amp; sampling_stations$isSWMP == "P"), ]$Station.Code
          to_match &lt;- c('wq', 'met')
stns &lt;- stations[grep(paste(to_match, collapse = '|'), stations)]
shp_fl &lt;- elk_spatial
bounding_elk &lt;- c(-121.8005, 36.7779, -121.6966, 36.8799)
lab_dir &lt;- c('L', 'R', 'L', 'L', 'L')
labs &lt;- c('ap', 'cw', 'nm', 'sm', 'vm')

### Low zoom and default maptype plot (for CRAN testing, not recommended)
#    Lower zoom number gives coarser text and fewer features
(x_low &lt;- res_local_map('elk', stations = stns, bbox = bounding_elk,
                   lab_loc = lab_dir, shp = shp_fl,
                   zoom = 10))


### Default zoom and maptype
x_def  &lt;- res_local_map('elk', stations = stns, bbox = bounding_elk,
                   lab_loc = lab_dir, shp = shp_fl,
                   zoom = 10)

### A multicomponent reserve (show two different bounding boxes)
#    set plotting parameters
stations &lt;- sampling_stations[(sampling_stations$NERR.Site.ID == 'cbm'
            &amp; sampling_stations$Status == 'Active'
            &amp; sampling_stations$isSWMP == "P"), ]$Station.Code
            to_match &lt;- c('wq', 'met')
stns &lt;- stations[grep(paste(to_match, collapse = '|'), stations)]
shp_fl &lt;- cbm_spatial
bounding_cbm_1 &lt;- c(-77.393, 38.277, -75.553, 39.741)
bounding_cbm_2 &lt;- c(-76.8,  38.7, -76.62,  38.85)
lab_dir &lt;- c('L', 'R', 'L', 'L', 'L')
labs &lt;- c('ap', 'cw', 'nm', 'sm', 'vm')

### plot
y &lt;- res_local_map('cbm', stations = stns, bbox = bounding_cbm_1,
                   lab_loc = lab_dir, shp = shp_fl)

z &lt;- res_local_map('cbm', stations = stns, bbox = bounding_cbm_2,
                   lab_loc = lab_dir, shp = shp_fl)



</code></pre>

<hr>
<h2 id='res_national_map'>Reserve National Map</h2><span id='topic+res_national_map'></span>

<h3>Description</h3>

<p>Create a base map for NERRS reserves in ggplot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>res_national_map(
  incl = c("contig", "AK", "HI", "PR"),
  highlight_states = NULL,
  highlight_reserves = NULL,
  agg_county = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="res_national_map_+3A_incl">incl</code></td>
<td>
<p>chr vector to include AK, HI , and PR (case sensitive)</p>
</td></tr>
<tr><td><code id="res_national_map_+3A_highlight_states">highlight_states</code></td>
<td>
<p>chr vector of state FIPS codes</p>
</td></tr>
<tr><td><code id="res_national_map_+3A_highlight_reserves">highlight_reserves</code></td>
<td>
<p>chr vector of 3 letter reserve codes</p>
</td></tr>
<tr><td><code id="res_national_map_+3A_agg_county">agg_county</code></td>
<td>
<p>logical, should counties be aggregated to the state-level? Defaults to <code>TRUE</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>Create a base map of the US with options for including AK, HI, and PR. The user can choose which states and NERRS reserves to highlight. An early 'sp'-based version of this function by Julie Padilla was developed, in part, from a blog post by Bob Rudis. The current <code>sf</code>-based version, by Dave Eslinger, uses an approach from  the r-spatial tutorial by Mel Moreno and Mathieu Basille.
</p>


<h3>Value</h3>

<p>Returns a <code><a href="ggplot2.html#topic+ggplot">ggplot</a></code> object
</p>


<h3>Author(s)</h3>

<p>Julie Padilla, Dave Eslinger
Maintainer: Dave Eslinger
</p>


<h3>References</h3>

<p>Rudis, Bob. 2014. &quot;Moving The Earth (well, Alaska &amp; Hawaii) With R&quot;. rud.is (blog). November 16, 2014. https://rud.is/b/2014/11/16/moving-the-earth-well-alaska-hawaii-with-r/
Moreno, Mel, and Basille, Mathieu Basille. 2018. &quot;Drawing beautiful maps programmatically with R, sf and ggplot2 — Part 3: Layouts&quot; r-spatial (blog). October 25, 2018. https://www.r-spatial.org/r/2018/10/25/ggplot2-sf-3.html
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##National map highlighting states with NERRS
nerr_states &lt;- c('01', '02', '06', '10', '12', '13', '15'
, '23', '24', '25', '27', '28', '33', '34', '36', '37', '39'
, '41', '44', '45', '48', '51', '53', '55', '72')

res_national_map(highlight_states = nerr_states)


#' ##Just the national map
res_national_map()

##National map highlighting west coast states and NERRS (including AK)
nerr_states_west &lt;- c('02', '06', '41', '53')

nerrs_codes &lt;- c('pdb', 'sos', 'sfb', 'elk', 'tjr', 'kac')

res_national_map(highlight_states = nerr_states_west, highlight_reserve = nerrs_codes)

</code></pre>

<hr>
<h2 id='res_sk_map'>Local Reserve Map With Seasonal Kendall Results</h2><span id='topic+res_sk_map'></span>

<h3>Description</h3>

<p>Create a stylized reserve-level map of seasonal kendall results for use with the reserve level reporting template
</p>


<h3>Usage</h3>

<pre><code class='language-R'>res_sk_map(
  nerr_site_id,
  stations,
  sk_result = NULL,
  bbox,
  shp,
  station_labs = TRUE,
  lab_loc = NULL,
  bg_map = NULL,
  zoom = NULL,
  maptype = "stamen_toner_lite"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="res_sk_map_+3A_nerr_site_id">nerr_site_id</code></td>
<td>
<p>chr string of the reserve to make, first three characters used by NERRS</p>
</td></tr>
<tr><td><code id="res_sk_map_+3A_stations">stations</code></td>
<td>
<p>chr string of the reserve stations to include in the map</p>
</td></tr>
<tr><td><code id="res_sk_map_+3A_sk_result">sk_result</code></td>
<td>
<p>vector of values denoting direction and significance of seasonal kendall results. Result should be <code>c('inc', 'dec', 'insig', 'insuff')</code> for significant positive, significant negative, no significant results, and insufficient data to calculate result.</p>
</td></tr>
<tr><td><code id="res_sk_map_+3A_bbox">bbox</code></td>
<td>
<p>a bounding box associated with the reserve. Should be in the format of c(xmin, ymin, xmax, ymax).</p>
</td></tr>
<tr><td><code id="res_sk_map_+3A_shp">shp</code></td>
<td>
<p>sf data frame (preferred) or SpatialPolygons object</p>
</td></tr>
<tr><td><code id="res_sk_map_+3A_station_labs">station_labs</code></td>
<td>
<p>logical, should stations be labeled? Defaults to <code>TRUE</code></p>
</td></tr>
<tr><td><code id="res_sk_map_+3A_lab_loc">lab_loc</code></td>
<td>
<p>chr vector of 'R' and 'L', one letter for each station. if no <code>lab_loc</code> is specified then labels will default to the left.</p>
</td></tr>
<tr><td><code id="res_sk_map_+3A_bg_map">bg_map</code></td>
<td>
<p>a georeferenced <code>ggmap</code> or <code>ggplot</code> object used as a background map, generally provided by a call to <code>base_map</code>. If <code>bg_map</code> is specified, <code>maptype</code> and <code>zoom</code> are ignored.</p>
</td></tr>
<tr><td><code id="res_sk_map_+3A_zoom">zoom</code></td>
<td>
<p>Zoom level for the base map created when <code>bg_map</code> is not specified.  An integer value, 5 - 15, with higher numbers providing  more detail.  If not provided, a zoom level is autoscaled based on <code>bbox</code> parameters.</p>
</td></tr>
<tr><td><code id="res_sk_map_+3A_maptype">maptype</code></td>
<td>
<p>Background map type from Stadia Maps (formerly Stamen)
(<a href="https://docs.stadiamaps.com/">https://docs.stadiamaps.com/</a>); one of c(&quot;stamen_terrain&quot;,
&quot;stamen_toner&quot;, &quot;stamen_toner_lite&quot;, &quot;stamen_watercolor&quot;, &quot;alidade_smooth&quot;,
&quot;alidade_smooth_dark&quot;, &quot;outdoors&quot;, &quot;stamen_terrain_background&quot;,
&quot;stamen_toner_background&quot;, &quot;stamen_terrain_labels&quot;, &quot;stamen_terrain_lines&quot;,
&quot;stamen_toner_labels&quot;, &quot;stamen_toner_lines&quot;).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Creates a stylized, reserve-level base map for displaying seasonal kendall results from <code>sk_seasonal</code>. The user can specify the reserve and stations to plot. The user can also specify a bounding box. For multi-component reserves, the user should specify a bounding box that highlights the component of interest.
</p>
<p>To display seasonal trends, the user must specify <code>c('inc', 'dec', 'insig', 'insuff')</code> for each station listed in the <code>stations</code> argument.
</p>


<h3>Value</h3>

<p>returns a <code>ggplot</code> object.
</p>


<h3>Author(s)</h3>

<p>Julie Padilla, Dave Eslinger
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## A compact reserve

### set plotting parameters
stations &lt;- sampling_stations[(sampling_stations$NERR.Site.ID == 'elk'
     &amp; sampling_stations$Status == 'Active'
     &amp; sampling_stations$isSWMP == "P"), ]$Station.Code
     to_match &lt;- c('wq')
stns &lt;- stations[grep(paste(to_match, collapse = '|'), stations)]
shp_fl &lt;- elk_spatial
bounding_elk &lt;- c(-121.8005, 36.7779, -121.6966, 36.8799)
trnds &lt;- c('inc', 'dec', 'insuff', 'insig')

### Low zoom and default maptype plot (for CRAN testing, not recommended)
#    Lower zoom number gives coarser text and fewer features
(x_low &lt;- res_sk_map('elk', stations = stns, sk_result = trnds,
                 bbox = bounding_elk, shp = shp_fl,
                 zoom = 10))



### Default zoom and maptype
x_def &lt;- res_sk_map('elk', stations = stns, sk_result = trnds,
                 bbox = bounding_elk, shp = shp_fl)

### Higher zoom number gives more details, but those may not be visible
x_14 &lt;- res_sk_map('elk', stations = stns, sk_result = trnds,
                 bbox = bounding_elk, shp = shp_fl,
                 zoom = 14)

### Different maptypes may be used.
x_terrain &lt;- res_sk_map('elk', stations = stns, sk_result = trnds,
                 bbox = bounding_elk, shp = shp_fl,
                 maptype = 'stamen_terrain')
### A multicomponent reserve (showing two different bounding boxes)

#  set plotting parameters
stations &lt;- sampling_stations[(sampling_stations$NERR.Site.ID == 'cbm'
         &amp; sampling_stations$Status == 'Active'
         &amp; sampling_stations$isSWMP == "P"), ]$Station.Code
         to_match &lt;- c('wq')
stns &lt;- stations[grep(paste(to_match, collapse = '|'), stations)]
shp_fl &lt;- cbm_spatial
bounding_cbm_1 &lt;- c(-77.393, 38.277, -75.553, 39.741)
bounding_cbm_2 &lt;- c(-76.8,  38.7, -76.62,  38.85)
trnds &lt;- c('inc', 'insuff', 'dec', 'insig')

#   plot
y &lt;- res_sk_map('cbm', stations = stns, sk_result = trnds,
                 bbox = bounding_cbm_1, shp = shp_fl)

z &lt;- res_sk_map('cbm', stations = stns, sk_result = trnds,
                 bbox = bounding_cbm_2, shp = shp_fl)

</code></pre>

<hr>
<h2 id='reserve_locs'>NERRS Sampling Location Data Frame</h2><span id='topic+reserve_locs'></span>

<h3>Description</h3>

<p>Create a data.frame of selected NERRS locations for plotting with <code>res_national_map</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reserve_locs(incl = c("contig", "AK", "HI", "PR"), subset_reserve = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="reserve_locs_+3A_incl">incl</code></td>
<td>
<p>Str vector to include AK, HI, and PR</p>
</td></tr>
<tr><td><code id="reserve_locs_+3A_subset_reserve">subset_reserve</code></td>
<td>
<p>chr string of 3 letter reserve IDs to include as data points. To include He'eia use the reserve code 'HEA'.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A helper function used to generate a <code>data.frame</code> of selected reserve locations for use with <code><a href="#topic+res_national_map">res_national_map</a></code>.
</p>


<h3>Value</h3>

<p>Returns a <code>data.frame</code> for internal use with <code>res_national_map</code>
</p>


<h3>Author(s)</h3>

<p>Julie Padilla, Dave Eslinger
</p>

<hr>
<h2 id='sampling_stations'>Detailed NERRS site data</h2><span id='topic+sampling_stations'></span>

<h3>Description</h3>

<p>Metadata on NERRS stations provided by the Central Data Management Office (CDMO) when data is downloaded
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(sampling_stations)
</code></pre>


<h3>Format</h3>

<p>A <code><a href="base.html#topic+data.frame">data.frame</a></code> object
</p>


<h3>Source</h3>

<p><a href="https://cdmo.baruch.sc.edu/">CDMO</a>
</p>


<h3>References</h3>

<p>NOAA National Estuarine Research Reserve System (NERRS). System-wide Monitoring Program. Data accessed from the NOAA NERRS Centralized Data Management Office website: https://www.nerrsdata.org/; accessed 08 October 2016
</p>

<hr>
<h2 id='sampling_stations_backup'>A Backup of Detailed NERRS site data</h2><span id='topic+sampling_stations_backup'></span>

<h3>Description</h3>

<p>A backup of the current metadata on NERRS stations provided by the Central Data Management Office (CDMO) created when new data is loaded
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(sampling_stations_backup)
</code></pre>


<h3>Format</h3>

<p>A <code><a href="base.html#topic+data.frame">data.frame</a></code> object
</p>


<h3>Source</h3>

<p><a href="https://cdmo.baruch.sc.edu/">CDMO</a>
</p>


<h3>References</h3>

<p>NOAA National Estuarine Research Reserve System (NERRS). System-wide Monitoring Program. Data accessed from the NOAA NERRS Centralized Data Management Office website: https://www.nerrsdata.org/; accessed 08 October 2016
</p>

<hr>
<h2 id='seasonal_barplot'>Cumulative Bar Plot</h2><span id='topic+seasonal_barplot'></span><span id='topic+seasonal_barplot.swmpr'></span>

<h3>Description</h3>

<p>Cumulative bar plot over a historic range
</p>


<h3>Usage</h3>

<pre><code class='language-R'>seasonal_barplot(swmpr_in, ...)

## S3 method for class 'swmpr'
seasonal_barplot(
  swmpr_in,
  param = NULL,
  hist_rng = NULL,
  log_trans = FALSE,
  converted = FALSE,
  hist_avg = TRUE,
  bar_position = "stack",
  season_facet = FALSE,
  plot_title = FALSE,
  plot = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="seasonal_barplot_+3A_swmpr_in">swmpr_in</code></td>
<td>
<p>input swmpr object</p>
</td></tr>
<tr><td><code id="seasonal_barplot_+3A_...">...</code></td>
<td>
<p>additional arguments passed to other methods. See <code><a href="#topic+assign_season">assign_season</a></code></p>
</td></tr>
<tr><td><code id="seasonal_barplot_+3A_param">param</code></td>
<td>
<p>chr string of variable to plot</p>
</td></tr>
<tr><td><code id="seasonal_barplot_+3A_hist_rng">hist_rng</code></td>
<td>
<p>numeric vector, if historic range is not specified then the min/max values of the data set will be used.</p>
</td></tr>
<tr><td><code id="seasonal_barplot_+3A_log_trans">log_trans</code></td>
<td>
<p>logical, should y-axis be log? Defaults to <code>FALSE</code></p>
</td></tr>
<tr><td><code id="seasonal_barplot_+3A_converted">converted</code></td>
<td>
<p>logical, were the units converted from the original units used by CDMO? Defaults to <code>FALSE</code>. See <code>y_labeler</code> for details.</p>
</td></tr>
<tr><td><code id="seasonal_barplot_+3A_hist_avg">hist_avg</code></td>
<td>
<p>logical, should a historical average be included? Defaults to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="seasonal_barplot_+3A_bar_position">bar_position</code></td>
<td>
<p>chr string, options available are <code>stack</code> or <code>dodge</code>. Defaults to <code>stack</code></p>
</td></tr>
<tr><td><code id="seasonal_barplot_+3A_season_facet">season_facet</code></td>
<td>
<p>logical, should plot be faceted by season? Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="seasonal_barplot_+3A_plot_title">plot_title</code></td>
<td>
<p>logical, should the station name be included as the plot title? Defaults to <code>FALSE</code></p>
</td></tr>
<tr><td><code id="seasonal_barplot_+3A_plot">plot</code></td>
<td>
<p>logical, should a plot be returned? Defaults to <code>TRUE</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function uses barplots to summarize parameters that are best viewed on a cumulative basis (e.g., precipitation). Data are aggregated on a seasonal and annual basis.
</p>
<p>There are two ways to make interannual comparisons: on an aggregate basis and on a seasonal basis. If the argument <code>season_facet = FALSE</code> then parameter totals from each season will be added together to compose one, multi-color bar.If <code>season_facet = TRUE</code> then parameter totals from each season separated into multiple plots for easier intra-season comparison across years.
</p>


<h3>Value</h3>

<p>A <code><a href="ggplot2.html#topic+ggplot">ggplot</a></code> object
</p>


<h3>Author(s)</h3>

<p>Julie Padilla
</p>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+ggplot">ggplot</a></code>, <code><a href="#topic+assign_season">assign_season</a></code>, <code><a href="#topic+y_labeler">y_labeler</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(apaebmet)
dat &lt;- qaqc(apaebmet, qaqc_keep = c('0', '3', '5'))

x &lt;- seasonal_barplot(dat, param = 'totprcp'
                      , season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
                      , season_names = c('Winter', 'Spring', 'Summer', 'Fall')
                      , hist_avg = TRUE
                      , converted = FALSE)


# return a table instead of a figure
y &lt;- seasonal_barplot(dat, param = 'totprcp'
                      , season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
                      , season_names = c('Winter', 'Spring', 'Summer', 'Fall')
                      , converted = FALSE
                      , plot = FALSE)

## divide plot into seasonal facets
z &lt;- seasonal_barplot(dat, param = 'totprcp'
                      , season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
                      , season_names = c('Winter', 'Spring', 'Summer', 'Fall')
                      , season_facet = TRUE
                      , hist_avg = TRUE
                      , converted = FALSE)

## convert from mm to in
dat$totprcp &lt;- dat$totprcp / 25.4

x1 &lt;- seasonal_barplot(dat, param = 'totprcp'
                      , season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
                      , season_names = c('Winter', 'Spring', 'Summer', 'Fall')
                      , hist_avg = TRUE
                      , converted = TRUE)

</code></pre>

<hr>
<h2 id='seasonal_boxplot'>Seasonal boxplots</h2><span id='topic+seasonal_boxplot'></span><span id='topic+seasonal_boxplot.swmpr'></span>

<h3>Description</h3>

<p>Annual time series for year of interest on top of long-term percentiles
</p>


<h3>Usage</h3>

<pre><code class='language-R'>seasonal_boxplot(swmpr_in, ...)

## S3 method for class 'swmpr'
seasonal_boxplot(
  swmpr_in,
  param = NULL,
  hist_rng = NULL,
  target_yr = NULL,
  criteria = NULL,
  free_y = FALSE,
  log_trans = FALSE,
  converted = FALSE,
  criteria_lab = "WQ Threshold",
  stat_lab = "Average",
  plot_title = FALSE,
  plot = TRUE,
  FUN = function(x) mean(x, na.rm = TRUE),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="seasonal_boxplot_+3A_swmpr_in">swmpr_in</code></td>
<td>
<p>input swmpr object</p>
</td></tr>
<tr><td><code id="seasonal_boxplot_+3A_...">...</code></td>
<td>
<p>additional arguments passed to other methods. See <code><a href="#topic+assign_season">assign_season</a></code></p>
</td></tr>
<tr><td><code id="seasonal_boxplot_+3A_param">param</code></td>
<td>
<p>chr string of variable to plot</p>
</td></tr>
<tr><td><code id="seasonal_boxplot_+3A_hist_rng">hist_rng</code></td>
<td>
<p>numeric vector, if historic range is not specified then the min/max values of the data set will be used.</p>
</td></tr>
<tr><td><code id="seasonal_boxplot_+3A_target_yr">target_yr</code></td>
<td>
<p>numeric, the target year that should be compared against the historic range. If target year is not specified then dot will not be plotted</p>
</td></tr>
<tr><td><code id="seasonal_boxplot_+3A_criteria">criteria</code></td>
<td>
<p>numeric, a numeric criteria that will be plotted as a horizontal line</p>
</td></tr>
<tr><td><code id="seasonal_boxplot_+3A_free_y">free_y</code></td>
<td>
<p>logical, should the y-axis be free? Defaults to <code>FALSE</code>. If <code>FALSE</code>, defaults to zero, unless negative values are present. If <code>TRUE</code>, y-axis limits are selected by <code>ggplot</code></p>
</td></tr>
<tr><td><code id="seasonal_boxplot_+3A_log_trans">log_trans</code></td>
<td>
<p>logical, should y-axis be log? Defaults to <code>FALSE</code></p>
</td></tr>
<tr><td><code id="seasonal_boxplot_+3A_converted">converted</code></td>
<td>
<p>logical, were the units converted from the original units used by CDMO? Defaults to <code>FALSE</code>. See <code>y_labeler</code> for details.</p>
</td></tr>
<tr><td><code id="seasonal_boxplot_+3A_criteria_lab">criteria_lab</code></td>
<td>
<p>chr, label for the threshold criteria defined in <code>criteria</code>. Defaults to &quot;WQ Threshold&quot;</p>
</td></tr>
<tr><td><code id="seasonal_boxplot_+3A_stat_lab">stat_lab</code></td>
<td>
<p>chr, label for the summary statistic defined in <code>FUN</code>. Defaults to &quot;Average&quot;</p>
</td></tr>
<tr><td><code id="seasonal_boxplot_+3A_plot_title">plot_title</code></td>
<td>
<p>logical, should the station name be included as the plot title? Defaults to <code>FALSE</code></p>
</td></tr>
<tr><td><code id="seasonal_boxplot_+3A_plot">plot</code></td>
<td>
<p>logical, should a plot be returned? Defaults to <code>TRUE</code></p>
</td></tr>
<tr><td><code id="seasonal_boxplot_+3A_fun">FUN</code></td>
<td>
<p>function used to aggregate daily SWMP data</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function uses boxplots to summarize statistics calculated on a daily basis across user-defined seasons for all years within the historic range (<code>hist_rng</code>). If <code>hist_rng</code> is not specified then the minimum and maximum years within the data set will be used. The summary statistics used to generate the boxplots are <code>ggplot2</code> defaults: the center of the box is a median, and the lower/upper limits of the box are the 25-th and 75-th percentiles. The whiskers extend to the furthest data point within 1.5 * inter-quartile range (IQR). The dots beyond the whiskers are data points that are greater than 1.5 * IQR. If the user selects a <code>target_yr</code>, then a median summary statistic value will be plotted as a point against the boxplots.
</p>
<p>Using the <code>FUN</code> argument, the user can specify the daily summary statistic to use. Commonly used statistics are <code>min(x, na.rm = TRUE)</code>, <code>mean(x, na.rm = TRUE)</code>, and <code>max(x, na.rm = TRUE)</code>. After specifying <code>FUN</code>, the user should also specify <code>stat_lab</code>, which is used to construct appropriate legend labels.
</p>
<p>The user also has the option to add a threshold hold line using the <code>criteria</code> argument. Typically, this value is a water quality threshold, which is why <code>criteria_lab</code> defaults to <code>'WQ Threshold'</code>. However, the user has the option to specify any other type of threshold they wish. when doing so, the value for <code>criteria_lab</code> should be changed accordingly.
</p>


<h3>Value</h3>

<p>Returns a <code><a href="ggplot2.html#topic+ggplot">ggplot</a></code> object or a <code>data.frame</code> if <code>plot = FALSE</code>
</p>


<h3>Author(s)</h3>

<p>Julie Padilla
</p>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+ggplot">ggplot</a></code>, <code><a href="#topic+assign_season">assign_season</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>


dat &lt;- elksmwq
dat &lt;- qaqc(dat, qaqc_keep = c('0', '3', '5'))

x &lt;-
  seasonal_boxplot(dat, param = 'do_mgl')

y &lt;-
    seasonal_boxplot(dat, param = 'do_mgl', target_yr = 2015,
    season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12)),
    season_names = c('Winter', 'Spring', 'Summer', 'Fall'),
    season_start = 'Spring')

z_min &lt;-
   seasonal_boxplot(dat, param = 'do_mgl',
   stat_lab = 'Minimum', FUN = function(x) min(x, na.rm = TRUE))

z_max &lt;-
   seasonal_boxplot(dat, param = 'do_mgl',
   stat_lab = 'Maximum', FUN = function(x) max(x, na.rm = TRUE))

</code></pre>

<hr>
<h2 id='seasonal_dot'>Seasonal Dot Plot</h2><span id='topic+seasonal_dot'></span><span id='topic+seasonal_dot.swmpr'></span>

<h3>Description</h3>

<p>Plot average/min/max seasonal values faceted by season
</p>


<h3>Usage</h3>

<pre><code class='language-R'>seasonal_dot(swmpr_in, ...)

## S3 method for class 'swmpr'
seasonal_dot(
  swmpr_in,
  param = NULL,
  lm_trend = FALSE,
  lm_lab = FALSE,
  free_y = FALSE,
  log_trans = FALSE,
  converted = FALSE,
  plot_title = FALSE,
  plot = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="seasonal_dot_+3A_swmpr_in">swmpr_in</code></td>
<td>
<p>input swmpr object</p>
</td></tr>
<tr><td><code id="seasonal_dot_+3A_...">...</code></td>
<td>
<p>additional arguments passed to other methods. See <code><a href="#topic+assign_season">assign_season</a></code></p>
</td></tr>
<tr><td><code id="seasonal_dot_+3A_param">param</code></td>
<td>
<p>chr string of variable to plot</p>
</td></tr>
<tr><td><code id="seasonal_dot_+3A_lm_trend">lm_trend</code></td>
<td>
<p>logical, add linear trend line?</p>
</td></tr>
<tr><td><code id="seasonal_dot_+3A_lm_lab">lm_lab</code></td>
<td>
<p>logical, add significance label? Statistically significant results will appear in bold.</p>
</td></tr>
<tr><td><code id="seasonal_dot_+3A_free_y">free_y</code></td>
<td>
<p>logical, should the y-axis be free? Defaults to <code>FALSE</code>. If <code>FALSE</code>, defaults to zero, unless negative values are present. If <code>TRUE</code>, y-axis limits are selected by <code>ggplot</code></p>
</td></tr>
<tr><td><code id="seasonal_dot_+3A_log_trans">log_trans</code></td>
<td>
<p>logical, should y-axis be log? Defaults to <code>FALSE</code></p>
</td></tr>
<tr><td><code id="seasonal_dot_+3A_converted">converted</code></td>
<td>
<p>logical, were the units converted from the original units used by CDMO? Defaults to <code>FALSE</code>. See <code>y_labeler</code> for details.</p>
</td></tr>
<tr><td><code id="seasonal_dot_+3A_plot_title">plot_title</code></td>
<td>
<p>logical, should the station name be included as the plot title? Defaults to <code>FALSE</code></p>
</td></tr>
<tr><td><code id="seasonal_dot_+3A_plot">plot</code></td>
<td>
<p>logical, should a plot be returned? Defaults to <code>TRUE</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function summarizes minimum, mean, and maximum values calculated on a seasonal basis to allow for easier intra-season comparisons over time.
</p>
<p><code>lm_trend = TRUE</code> adds a linear regression to the plot, and <code>lm_lab = TRUE</code> will add p-values from the linear regression to the plot. If the p-values are significant (p &lt; 0.05) then the text will appear in bold. <code>lm_lab</code> text is color coded to match with the corresponding dots.
</p>


<h3>Value</h3>

<p>Returns a <code><a href="ggplot2.html#topic+ggplot">ggplot</a></code> object
</p>


<h3>Author(s)</h3>

<p>Julie Padilla, Dave Eslinger
</p>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+ggplot">ggplot</a></code>, <code><a href="#topic+assign_season">assign_season</a></code>, <code><a href="#topic+y_labeler">y_labeler</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dat_wq &lt;- elksmwq
#dat_wq &lt;- subset(dat_wq, subset = c('2010-01-01 0:00', '2017-01-01 0:00'))
dat_wq &lt;- qaqc(dat_wq, qaqc_keep = c(0, 3, 5))

x &lt;-
  seasonal_dot(dat_wq, param = 'do_mgl'
               , lm_trend = TRUE
               , lm_lab = TRUE
               , plot_title = TRUE)


y &lt;-
  seasonal_dot(dat_wq, param = 'do_mgl'
               , lm_trend = FALSE
               , lm_lab = FALSE
               , plot_title = TRUE)

z &lt;-
  seasonal_dot(dat_wq, param = 'do_mgl'
               , lm_trend = TRUE
               , lm_lab = FALSE
               , plot_title = TRUE)


dat_nut &lt;- elknmnut
dat_nut &lt;- subset(dat_nut, subset = c('2007-01-01 0:00', '2017-01-01 0:00'))
dat_nut &lt;- qaqc(dat_nut, qaqc_keep = c(0, 3, 5))

x1 &lt;-
  seasonal_dot(dat_nut
               , param = 'chla_n'
               , season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12))
               , season_names = c('Winter', 'Spring', 'Summer', 'Fall')
               , season_start = 'Spring'
               , lm_trend = FALSE
               , lm_lab = FALSE
               , plot_title = TRUE)

y1 &lt;-
  seasonal_dot(dat_nut, param = 'chla_n'
               , lm_trend = TRUE
               , lm_lab = FALSE
               , plot_title = TRUE)

z1 &lt;-
  seasonal_dot(dat_nut, param = 'chla_n'
               , lm_trend = TRUE
               , lm_lab = TRUE
               , plot_title = TRUE)

</code></pre>

<hr>
<h2 id='set_date_break_labs'>Set reasonable date breaks labels</h2><span id='topic+set_date_break_labs'></span>

<h3>Description</h3>

<p>Select reasonable labels for breaks used in <code><a href="ggplot2.html#topic+scale_x_datetime">scale_x_datetime</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_date_break_labs(rng)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="set_date_break_labs_+3A_rng">rng</code></td>
<td>
<p>date range years</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A helper function for easier date label setting
</p>


<h3>Value</h3>

<p>Returns a chr string for <code>date_labels</code>
</p>


<h3>Author(s)</h3>

<p>Julie Padilla
</p>


<h3>See Also</h3>

<p><code><a href="#topic+set_date_breaks">set_date_breaks</a></code>, <code><a href="ggplot2.html#topic+scale_x_datetime">scale_x_datetime</a></code>
</p>

<hr>
<h2 id='set_date_breaks'>Set reasonable date breaks</h2><span id='topic+set_date_breaks'></span>

<h3>Description</h3>

<p>Select reasonable breaks for <code><a href="ggplot2.html#topic+scale_x_datetime">scale_x_datetime</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_date_breaks(rng)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="set_date_breaks_+3A_rng">rng</code></td>
<td>
<p>date range years</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A helper function for easier date label setting
</p>


<h3>Value</h3>

<p>Returns a chr string for <code>date_breaks</code>
</p>


<h3>Author(s)</h3>

<p>Julie Padilla
</p>


<h3>See Also</h3>

<p><code><a href="#topic+set_date_break_labs">set_date_break_labs</a></code>, <code><a href="ggplot2.html#topic+scale_x_datetime">scale_x_datetime</a></code>
</p>

<hr>
<h2 id='set_date_breaks_minor'>Select reasonable minor breaks for <code><a href="ggplot2.html#topic+scale_x_datetime">scale_x_datetime</a></code></h2><span id='topic+set_date_breaks_minor'></span>

<h3>Description</h3>

<p>Select reasonable minor breaks for <code><a href="ggplot2.html#topic+scale_x_datetime">scale_x_datetime</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_date_breaks_minor(rng)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="set_date_breaks_minor_+3A_rng">rng</code></td>
<td>
<p>date range years</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A helper function for easier date label setting
</p>


<h3>Value</h3>

<p>Returns a chr string for <code>date_breaks</code>
</p>


<h3>Author(s)</h3>

<p>Dave Eslinger, Julie Padilla
</p>


<h3>See Also</h3>

<p><code><a href="#topic+set_date_break_labs">set_date_break_labs</a></code>, <code><a href="ggplot2.html#topic+scale_x_datetime">scale_x_datetime</a></code>
</p>

<hr>
<h2 id='sk_seasonal'>Seasonal Kendall Analysis for Seasonal Data</h2><span id='topic+sk_seasonal'></span><span id='topic+sk_seasonal.swmpr'></span>

<h3>Description</h3>

<p>Non-parametric test for monotonic seasonal trends
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sk_seasonal(swmpr_in, ...)

## S3 method for class 'swmpr'
sk_seasonal(
  swmpr_in,
  param = NULL,
  alpha = 0.05,
  data_min = 5,
  envStats_summary = FALSE,
  stat_lab = "Average",
  FUN = function(x) mean(x, na.rm = TRUE),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sk_seasonal_+3A_swmpr_in">swmpr_in</code></td>
<td>
<p>input swmpr object</p>
</td></tr>
<tr><td><code id="sk_seasonal_+3A_...">...</code></td>
<td>
<p>additional arguments passed to other methods. See <code><a href="#topic+assign_season">assign_season</a></code></p>
</td></tr>
<tr><td><code id="sk_seasonal_+3A_param">param</code></td>
<td>
<p>chr string of variable to plot</p>
</td></tr>
<tr><td><code id="sk_seasonal_+3A_alpha">alpha</code></td>
<td>
<p>num, alpha value to use to significance test. Defaults to 0.05.</p>
</td></tr>
<tr><td><code id="sk_seasonal_+3A_data_min">data_min</code></td>
<td>
<p>num, the minimum number of observations required to perform the analysis. Defaults to 5</p>
</td></tr>
<tr><td><code id="sk_seasonal_+3A_envstats_summary">envStats_summary</code></td>
<td>
<p>logical, should the standard <code>EnvStats::kendallSeasonalTrendTest</code> be returned? Defaults to <code>FALSE</code>. See Details for more information.</p>
</td></tr>
<tr><td><code id="sk_seasonal_+3A_stat_lab">stat_lab</code></td>
<td>
<p>chr, label for the summary statistic defined in <code>FUN</code>. Defaults to &quot;Average&quot;.</p>
</td></tr>
<tr><td><code id="sk_seasonal_+3A_fun">FUN</code></td>
<td>
<p>function used to aggregate seasonal SWMP data.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function performs a seasonal kendall test on seasonally aggregated values using <code><a href="EnvStats.html#topic+kendallSeasonalTrendTest">kendallSeasonalTrendTest</a></code>.
</p>
<p>Data are aggregated on a user-specified seasonal basis using the <code>FUN</code> argument. For example, using default settings, <code>sk_seasonal</code> would perform a seasonal kendall test on average monthly values. However, if the user set <code>FUN = min(x, na.rm = TRUE)</code> then a seasonal kendall would be performed on monthly minimum values.
</p>
<p>If <code>EnvStats_summary = TRUE</code> then the detailed output summary from <code><a href="EnvStats.html#topic+kendallSeasonalTrendTest">kendallSeasonalTrendTest</a></code> will be returned. If <code>EnvStats_summary = FALSE</code> then an abbreviated summary will be returned in a <code>data.frame</code>. The abbreviated summary contains the station name, the type of statistic used to summarize the data on a seasonal basis (specified by <code>stat_lab</code>), and the following results from <code><a href="EnvStats.html#topic+kendallSeasonalTrendTest">kendallSeasonalTrendTest</a></code>: tau, slope, p-value for the chi-square test, and the p-value for the trend test.
</p>


<h3>Value</h3>

<p>Returns a <code>data.frame</code> object or a summary from <code>EnvStats::kendallSeasonalTrendTest</code>
</p>


<h3>Author(s)</h3>

<p>Julie Padilla
</p>


<h3>See Also</h3>

<p><code><a href="#topic+assign_season">assign_season</a></code>, <code><a href="#topic+y_labeler">y_labeler</a></code>, <code><a href="EnvStats.html#topic+kendallSeasonalTrendTest">kendallSeasonalTrendTest</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dat_wq &lt;- elksmwq
dat_wq &lt;- qaqc(dat_wq, qaqc_keep = c(0, 3, 5))

x &lt;- sk_seasonal(dat_wq, param = 'temp')

</code></pre>

<hr>
<h2 id='sk_tidy'>Tidy Seasonal Kendall Results</h2><span id='topic+sk_tidy'></span>

<h3>Description</h3>

<p>Tidy results from <code><a href="EnvStats.html#topic+kendallSeasonalTrendTest">kendallSeasonalTrendTest</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sk_tidy(data, station, param, stat, alpha = 0.05)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sk_tidy_+3A_data">data</code></td>
<td>
<p>a <code>htest</code> object produced by <code><a href="EnvStats.html#topic+kendallSeasonalTrendTest">kendallSeasonalTrendTest</a></code></p>
</td></tr>
<tr><td><code id="sk_tidy_+3A_station">station</code></td>
<td>
<p>chr string sampling station</p>
</td></tr>
<tr><td><code id="sk_tidy_+3A_param">param</code></td>
<td>
<p>chr string of variable to plot</p>
</td></tr>
<tr><td><code id="sk_tidy_+3A_stat">stat</code></td>
<td>
<p>chr, label to be used for statistic used to group data</p>
</td></tr>
<tr><td><code id="sk_tidy_+3A_alpha">alpha</code></td>
<td>
<p>num, significance level. Defaults to 0.05</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A helper function used by <code><a href="#topic+sk_seasonal">sk_seasonal</a></code> to return a table of tidied values.
</p>


<h3>Value</h3>

<p>Returns a <code>data.frame</code> of results from <code><a href="EnvStats.html#topic+kendallSeasonalTrendTest">kendallSeasonalTrendTest</a></code>
</p>


<h3>Author(s)</h3>

<p>Julie Padilla
</p>

<hr>
<h2 id='std_param_check'>Standard Parameter Check</h2><span id='topic+std_param_check'></span>

<h3>Description</h3>

<p>Determine if a parameter is one of the standard SWMP parameters
</p>


<h3>Usage</h3>

<pre><code class='language-R'>std_param_check(param)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="std_param_check_+3A_param">param</code></td>
<td>
<p>chr string of variable abbreviation</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A helper function used internally by several plotting functions to determine if parameter has a standard y-axis label. To accommodate the needs of the reserve-level annual report, this function also recognizes dissolved organic phosphorus (DIP) and dissolved inorganic nitrogen (DIN) as standard parameters.
</p>


<h3>Value</h3>

<p>Returns <code>TRUE</code> or <code>FALSE</code>
</p>


<h3>Author(s)</h3>

<p>Julie Padilla
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
std_param_check('do_mgl')


std_param_check('nitrogen')


</code></pre>

<hr>
<h2 id='summarise_handoff_files'>Summarise Hand-off Files from Reserve Level Reports</h2><span id='topic+summarise_handoff_files'></span>

<h3>Description</h3>

<p>Summarise the seasonal kendall results from reserve level report hand-off files
</p>


<h3>Usage</h3>

<pre><code class='language-R'>summarise_handoff_files(path, param, res_region = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summarise_handoff_files_+3A_path">path</code></td>
<td>
<p>chr string of full path to .csv handoff files</p>
</td></tr>
<tr><td><code id="summarise_handoff_files_+3A_param">param</code></td>
<td>
<p>chr string of variable to summarise</p>
</td></tr>
<tr><td><code id="summarise_handoff_files_+3A_res_region">res_region</code></td>
<td>
<p>a <code>data.frame</code> of look-up values that match 3-letter NERR site ids with regions</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is intended for use with the NERRS national level reporting scripts. It returns a <code>data.frame</code> that summarises the result of the reserve level seasonal kendall trend analyses found in the hand-off files generated by the reserve level reporting scripts. The summary groups reserves into regional classifications based on user-specified regions given in <code>res_region</code>.
</p>


<h3>Value</h3>

<p>Returns a <code>data.frame</code>
</p>


<h3>Author(s)</h3>

<p>Julie Padilla
</p>

<hr>
<h2 id='threshold_criteria_plot'>Water Quality Threshold Plot For Parameters With Criteria</h2><span id='topic+threshold_criteria_plot'></span><span id='topic+threshold_criteria_plot.swmpr'></span>

<h3>Description</h3>

<p>Observed data compared against user-defined water quality thresholds
</p>


<h3>Usage</h3>

<pre><code class='language-R'>threshold_criteria_plot(swmpr_in, ...)

## S3 method for class 'swmpr'
threshold_criteria_plot(
  swmpr_in,
  param = NULL,
  rng = NULL,
  thresholds = NULL,
  threshold_labs = c("Good", "Fair", "Poor"),
  threshold_cols = c("#ABD9E9", "#FFFFCC", "#FEC596"),
  crit_threshold = NULL,
  log_trans = FALSE,
  monthly_smooth = FALSE,
  plot_title = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="threshold_criteria_plot_+3A_swmpr_in">swmpr_in</code></td>
<td>
<p>input swmpr object</p>
</td></tr>
<tr><td><code id="threshold_criteria_plot_+3A_...">...</code></td>
<td>
<p>additional arguments passed to other methods. See <code><a href="#topic+y_labeler">y_labeler</a></code>.</p>
</td></tr>
<tr><td><code id="threshold_criteria_plot_+3A_param">param</code></td>
<td>
<p>chr string of the variable to plot</p>
</td></tr>
<tr><td><code id="threshold_criteria_plot_+3A_rng">rng</code></td>
<td>
<p>num, years to include in the plot. This variable can either be one year (e.g., <code>rng = 2012</code>), or two years (e.g. <code>rng = c(2012, 2016)</code>) , If range is not specified then the entire data set will be used.</p>
</td></tr>
<tr><td><code id="threshold_criteria_plot_+3A_thresholds">thresholds</code></td>
<td>
<p>numeric vector, numeric criteria that will be plotted in the background</p>
</td></tr>
<tr><td><code id="threshold_criteria_plot_+3A_threshold_labs">threshold_labs</code></td>
<td>
<p>chr vector of labels for categories created by <code>thresholds</code>.</p>
</td></tr>
<tr><td><code id="threshold_criteria_plot_+3A_threshold_cols">threshold_cols</code></td>
<td>
<p>chr vector of color values for categories created by <code>thresholds</code>.</p>
</td></tr>
<tr><td><code id="threshold_criteria_plot_+3A_crit_threshold">crit_threshold</code></td>
<td>
<p>num, value at which the critical threshold line should be plotted. Typically the same value used to establish the 'Poor' threshold.</p>
</td></tr>
<tr><td><code id="threshold_criteria_plot_+3A_log_trans">log_trans</code></td>
<td>
<p>logical, should y-axis be log? Defaults to <code>FALSE</code></p>
</td></tr>
<tr><td><code id="threshold_criteria_plot_+3A_monthly_smooth">monthly_smooth</code></td>
<td>
<p>logical, calculate a monthly average? Defaults to <code>FALSE</code></p>
</td></tr>
<tr><td><code id="threshold_criteria_plot_+3A_plot_title">plot_title</code></td>
<td>
<p>logical, should the station name be included as the plot title? Defaults to <code>FALSE</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function visualizes exceedances of numeric criteria which are specified using <code>thresholds</code>. Suggested numeric criteria for several parameters (dissolved oxygen, dissolved inorganic phosphorus, dissolved inorganic nitrogen, and chlorophyll-a) can be found in the USEPA National Coastal Condition Report (2012).
</p>
<p>If the parameter of interest does not have numeric criteria, then <code>threshold_percentile_plot</code> is recommended.
</p>


<h3>Value</h3>

<p>Returns a <code><a href="ggplot2.html#topic+ggplot">ggplot</a></code> object
</p>


<h3>Author(s)</h3>

<p>Julie Padilla
</p>


<h3>References</h3>

<p>United States Environmental Protection Agency (USEPA). 2012. &quot;National Coastal Condition Report IV.&quot;
https://www.epa.gov/national-aquatic-resource-surveys/national-coastal-condition-report-iv-2012
</p>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+ggplot">ggplot</a></code>,<code><a href="#topic+y_labeler">y_labeler</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(apacpwq)
dat_wq &lt;- apacpwq

dat_wq &lt;- qaqc(dat_wq, qaqc_keep = c(0, 3, 5))

## Due to the volume of instantaneous data, these plots are a bit slow
x &lt;-
  threshold_criteria_plot(dat_wq, param = 'do_mgl'
                 , rng = 2012
                 , thresholds = c(2, 5)
                 , threshold_labs = c('Poor', 'Fair', 'Good')
                 , monthly_smooth = TRUE
                 , threshold_cols = c('#FEC596', '#FFFFCC', '#ABD9E9'))


y &lt;-
  threshold_criteria_plot(dat_wq, param = 'do_mgl'
                 , thresholds = c(2, 5)
                 , threshold_labs = c('Poor', 'Fair', 'Good')
                 , threshold_cols = c('#FEC596', '#FFFFCC', '#ABD9E9'))

z &lt;-
  threshold_criteria_plot(dat_wq, param = 'do_mgl'
                 , rng = 2012
                 , thresholds = c(2, 5)
                 , threshold_labs = c('Poor', 'Fair', 'Good')
                 , threshold_cols = c('#FEC596', '#FFFFCC', '#ABD9E9')
                 , monthly_smooth = TRUE)

## A few examples with only two thresholds
x1 &lt;-
  threshold_criteria_plot(dat_wq, param = 'do_mgl'
                 , rng = 2012
                 , thresholds = c(2, 2)

                  # A dummy blank ('') value must be added as a threshold label
                 , threshold_labs = c('Poor', '', 'Good')
                 , threshold_cols = c('#FEC596', '#FFFFCC', '#ABD9E9')
                 , monthly_smooth = TRUE)

y1 &lt;-
  threshold_criteria_plot(dat_wq, param = 'do_mgl'
                 , rng = 2012
                 , thresholds = c(5, 5)

                 # A dummy blank ('') value must be added as a threshold label
                 , threshold_labs = c('Poor', '', 'Good')
                 , threshold_cols = c('#FEC596', '#FEC596', '#ABD9E9')
                 , monthly_smooth = TRUE)

z1 &lt;-
  threshold_criteria_plot(dat_wq, param = 'do_mgl'
                 , rng = 2012
                 , thresholds = c(2, 5)
                 , threshold_labs = c('Poor', 'Good', 'Poor')
                 , threshold_cols = c('#FEC596', '#ABD9E9', '#FEC596')
                 , monthly_smooth = TRUE)


data(apacpnut)
dat_nut &lt;- apacpnut

dat_nut &lt;- qaqc(dat_nut, qaqc_keep = c(0, 3, 5))
dat_nut &lt;- rem_reps(dat_nut)

x2 &lt;-
  threshold_criteria_plot(dat_nut, param = 'chla_n'
                 , thresholds = c(2, 5)
                 , threshold_labs = c('Good', 'Fair', 'Poor'))


y2 &lt;-
  threshold_criteria_plot(dat_nut, param = 'chla_n'
                 , rng = 2012
                 , thresholds = c(2, 5)
                 , threshold_labs = c('Good', 'Fair', 'Poor'))

## Nutrient plots are not capable of accidentally displaying any kind of smooth
z2 &lt;-
  threshold_criteria_plot(dat_nut, param = 'chla_n'
                 , rng = 2012
                 , thresholds = c(2, 5)
                 , threshold_labs = c('Good', 'Fair', 'Poor')
                 , monthly_smooth = TRUE)

</code></pre>

<hr>
<h2 id='threshold_identification'>Tabulate Threshold Exceedances</h2><span id='topic+threshold_identification'></span><span id='topic+threshold_identification.swmpr'></span>

<h3>Description</h3>

<p>Tabulate user-specified threshold exceedances
</p>


<h3>Usage</h3>

<pre><code class='language-R'>threshold_identification(swmpr_in, ...)

## S3 method for class 'swmpr'
threshold_identification(
  swmpr_in,
  param,
  parameter_threshold,
  threshold_type,
  time_threshold = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="threshold_identification_+3A_swmpr_in">swmpr_in</code></td>
<td>
<p>input swmpr object</p>
</td></tr>
<tr><td><code id="threshold_identification_+3A_...">...</code></td>
<td>
<p>arguments passed to other methods</p>
</td></tr>
<tr><td><code id="threshold_identification_+3A_param">param</code></td>
<td>
<p>vector of parameters to evaluate</p>
</td></tr>
<tr><td><code id="threshold_identification_+3A_parameter_threshold">parameter_threshold</code></td>
<td>
<p>vector of numerical thresholds to evaluate parameters against</p>
</td></tr>
<tr><td><code id="threshold_identification_+3A_threshold_type">threshold_type</code></td>
<td>
<p>vector of logical operators ('&lt;', '&gt;', '&lt;=', '&gt;=', '==', '!=')</p>
</td></tr>
<tr><td><code id="threshold_identification_+3A_time_threshold">time_threshold</code></td>
<td>
<p>The amount of time an event must last to be counted (in hours)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function creates tabular summary of events when a user-specified threshold is exceeded.
</p>
<p>Before using this function, the user must apply <code><a href="SWMPr.html#topic+setstep">setstep</a></code> to normalize the <code>datetimestamp</code> time step.
</p>
<p>For MET and WQ data, the user must specify <code>time_threshold</code>. This argument is the minimum duration that an event must last in order to be counted. For example, if <code>time_threshold = 2</code>, <code>param = "do_mgl"</code>, <code>parameter_threshold = 2</code>, and <code>threshold_type = "&lt;"</code> then dissolved oxygen must be lower than 2 mg/L for more than two hours or the event will not be summarized in the final table. For NUT parameters, all exceedances are included in the tabular summary.
</p>
<p>Recommended thresholds for chlorophyll-a, dissolved inorganic nitrogen, dissolved inorganic phosphorus, and dissolved oxygen can be found in the National Coastal Condition Assessment 2010 (USEPA 2016)
</p>


<h3>Value</h3>

<p>Returns a data frame of threshold exceedances by parameter
</p>


<h3>Author(s)</h3>

<p>Julie Padilla
</p>


<h3>References</h3>

<p>United States Environmental Protection Agency (USEPA). 2015. &quot;National Coastal Condition Assessment 2010&quot;. EPA 841-R-15-006.
https://cfpub.epa.gov/si/si_public_record_Report.cfm?Lab=OWOW&amp;dirEntryId=327030
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("apacpwq")
wq &lt;- apacpwq

dat_wq &lt;- qaqc(wq, qaqc_keep = c(0, 3, 5))
dat_wq &lt;- setstep(dat_wq)

wq_pars&lt;- threshold_identification(dat_wq, param = c('do_mgl', 'ph', 'temp')
                          , parameter_threshold = c(2, 5, 30)
                          , threshold_type = c('&lt;', '&lt;', '&gt;'), time_threshold = 2)


wq_par&lt;- threshold_identification(dat_wq, param = c('do_mgl')
                          , parameter_threshold = c(2)
                          , threshold_type = c('&lt;'), time_threshold = 2)


## time_threshold and setstep are not necessary for monthly parameters
data("apacpnut")
nut &lt;- apacpnut

dat_nut &lt;- qaqc(nut, qaqc_keep = c(0, 3, 5))

nut_pars &lt;- threshold_identification(dat_nut, param = c('chla_n', 'po4f')
                          , parameter_threshold = c(10, 0.01)
                          , threshold_type = c('&gt;', '&gt;'))

nut_par &lt;- threshold_identification(dat_nut, param = c('chla_n')
                          , parameter_threshold = c(10)
                          , threshold_type = c('&gt;'))

nut_err &lt;- threshold_identification(dat_nut, param = c('chla_n')
                          , parameter_threshold = c(30)
                          , threshold_type = c('&gt;'))


</code></pre>

<hr>
<h2 id='threshold_percentile_plot'>Threshold Percentile Plot</h2><span id='topic+threshold_percentile_plot'></span><span id='topic+threshold_percentile_plot.swmpr'></span>

<h3>Description</h3>

<p>Observed data compared against user-defined percentiles
</p>


<h3>Usage</h3>

<pre><code class='language-R'>threshold_percentile_plot(swmpr_in, ...)

## S3 method for class 'swmpr'
threshold_percentile_plot(
  swmpr_in,
  param = NULL,
  hist_rng = NULL,
  target_yr = NULL,
  percentiles = c(0.05, 0.95),
  free_y = FALSE,
  by_month = FALSE,
  log_trans = FALSE,
  converted = FALSE,
  plot_title = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="threshold_percentile_plot_+3A_swmpr_in">swmpr_in</code></td>
<td>
<p>input swmpr object</p>
</td></tr>
<tr><td><code id="threshold_percentile_plot_+3A_...">...</code></td>
<td>
<p>additional arguments passed to other methods (not used for this function).</p>
</td></tr>
<tr><td><code id="threshold_percentile_plot_+3A_param">param</code></td>
<td>
<p>chr, variable to plot</p>
</td></tr>
<tr><td><code id="threshold_percentile_plot_+3A_hist_rng">hist_rng</code></td>
<td>
<p>num, years to include in the plot. This variable can either be one year (e.g., <code>hist_rng = 2012</code>), or two years (e.g. <code>hist_rng = c(2012, 2016)</code>) , If range is not specified then the entire data set will be used.</p>
</td></tr>
<tr><td><code id="threshold_percentile_plot_+3A_target_yr">target_yr</code></td>
<td>
<p>num, year of interest for plotting. If not specified, the entire data set will be plotted.</p>
</td></tr>
<tr><td><code id="threshold_percentile_plot_+3A_percentiles">percentiles</code></td>
<td>
<p>num, percentiles to calculate (maximum: 2). Defaults to 5th and 95th percentiles.</p>
</td></tr>
<tr><td><code id="threshold_percentile_plot_+3A_free_y">free_y</code></td>
<td>
<p>logical, should the y-axis be free? Defaults to <code>FALSE</code>. If <code>FALSE</code>, defaults to zero, unless negative values are present. If <code>TRUE</code>, y-axis limits are selected by <code>ggplot</code></p>
</td></tr>
<tr><td><code id="threshold_percentile_plot_+3A_by_month">by_month</code></td>
<td>
<p>logical. should percentiles be calculated on a monthly basis? Defaults to <code>FALSE</code></p>
</td></tr>
<tr><td><code id="threshold_percentile_plot_+3A_log_trans">log_trans</code></td>
<td>
<p>logical, should y-axis be log? Defaults to <code>FALSE</code></p>
</td></tr>
<tr><td><code id="threshold_percentile_plot_+3A_converted">converted</code></td>
<td>
<p>logical, were the units converted from the original units used by CDMO? Defaults to <code>FALSE</code>. See <code>y_labeler</code> for details.</p>
</td></tr>
<tr><td><code id="threshold_percentile_plot_+3A_plot_title">plot_title</code></td>
<td>
<p>logical, should the station name be included as the plot title? Defaults to <code>FALSE</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function provides an alternative to <code><a href="#topic+threshold_criteria_plot">threshold_criteria_plot</a></code>. For parameters that may not have numeric threshold criteria, a percentile threshold can be used instead. For a one-tailed analysis, the 90-th percentile is recommended. For a two-tailed analysis, the 5-th and 95-th percentiles are recommended.
</p>
<p>Using <code>by_month</code>, the user can specify whether the percentiles should be calculated on a monthly basis or by using the entire data set.
</p>
<p>Recommended thresholds for chlorophyll-a, dissolved inorganic nitrogen, dissolved inorganic phosphorus, and dissolved oxygen can be found in the National Coastal Condition Assessment 2010 (USEPA 2016)
</p>


<h3>Value</h3>

<p>Returns a <code><a href="ggplot2.html#topic+ggplot">ggplot</a></code> object
</p>


<h3>Author(s)</h3>

<p>Julie Padilla
</p>


<h3>References</h3>

<p>United States Environmental Protection Agency (USEPA). 2015. &quot;National Coastal Condition Assessment 2010&quot;. EPA 841-R-15-006.
https://cfpub.epa.gov/si/si_public_record_Report.cfm?Lab=OWOW&amp;dirEntryId=327030
</p>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+ggplot">ggplot</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dat_wq &lt;- qaqc(elksmwq, qaqc_keep = c(0, 3, 5))
dat_wq &lt;- subset(dat_wq, subset = '2007-01-01 0:00', operator = '&gt;=')

x &lt;-
  threshold_percentile_plot(dat_wq, param = 'do_mgl'
                           , hist_rng = c(2013, 2014), by_month = FALSE)


y &lt;-
  threshold_percentile_plot(dat_wq, param = 'do_mgl', percentiles = c(0.95)
                           , hist_rng = c(2013, 2014), target_yr = 2014
                           , by_month = FALSE)

x2 &lt;-
  threshold_percentile_plot(dat_wq, param = 'do_mgl'
                           , hist_rng = c(2013, 2014), by_month = TRUE)

y2 &lt;-
  threshold_percentile_plot(dat_wq, param = 'do_mgl'
                           , hist_rng = c(2013, 2014), by_month = TRUE
                           , target_yr = 2014)


dat_nut &lt;- qaqc(elknmnut, qaqc_keep = c(0, 3, 5))
dat_nut &lt;- subset(dat_nut, subset = '2007-01-01 0:00', operator = '&gt;=')
dat_nut &lt;- rem_reps(dat_nut)

x3 &lt;-
  threshold_percentile_plot(dat_nut, param = 'chla_n'
                           , hist_rng = c(2007, 2014), by_month = FALSE)

y3 &lt;-
  threshold_percentile_plot(dat_nut, param = 'chla_n'
                           , hist_rng = c(2007, 2014), by_month = FALSE
                           , target_yr = 2016)


</code></pre>

<hr>
<h2 id='threshold_summary'>Summary Plots for Threshold Identification</h2><span id='topic+threshold_summary'></span><span id='topic+threshold_summary.swmpr'></span>

<h3>Description</h3>

<p>Summary plots for threshold identification analysis
</p>


<h3>Usage</h3>

<pre><code class='language-R'>threshold_summary(swmpr_in, ...)

## S3 method for class 'swmpr'
threshold_summary(
  swmpr_in,
  param = NULL,
  summary_type = c("month", "season", "year"),
  parameter_threshold = NULL,
  threshold_type = NULL,
  time_threshold = NULL,
  converted = FALSE,
  pal = "Set3",
  plot_title = FALSE,
  plot = TRUE,
  label_y_axis = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="threshold_summary_+3A_swmpr_in">swmpr_in</code></td>
<td>
<p>input swmpr object</p>
</td></tr>
<tr><td><code id="threshold_summary_+3A_...">...</code></td>
<td>
<p>additional arguments passed to other methods. See <code><a href="#topic+assign_season">assign_season</a></code> for more details.</p>
</td></tr>
<tr><td><code id="threshold_summary_+3A_param">param</code></td>
<td>
<p>chr string of variable to plot (one only)</p>
</td></tr>
<tr><td><code id="threshold_summary_+3A_summary_type">summary_type</code></td>
<td>
<p>Choose from <code>month</code>, <code>season</code>, or <code>year</code> aggregation</p>
</td></tr>
<tr><td><code id="threshold_summary_+3A_parameter_threshold">parameter_threshold</code></td>
<td>
<p>vector of numerical thresholds to evaluate parameters against</p>
</td></tr>
<tr><td><code id="threshold_summary_+3A_threshold_type">threshold_type</code></td>
<td>
<p>vector of logical operators ('&lt;', '&gt;', '&lt;=', '&gt;=', '==', '!=')</p>
</td></tr>
<tr><td><code id="threshold_summary_+3A_time_threshold">time_threshold</code></td>
<td>
<p>The amount of time an event must last to be counted (in hours)</p>
</td></tr>
<tr><td><code id="threshold_summary_+3A_converted">converted</code></td>
<td>
<p>logical, were the units converted from the original units used by CDMO? Defaults to <code>FALSE</code>. See <code>y_labeler</code> for details.</p>
</td></tr>
<tr><td><code id="threshold_summary_+3A_pal">pal</code></td>
<td>
<p>Select a palette for boxplot fill colors. See <code><a href="ggplot2.html#topic+scale_fill_brewer">scale_fill_brewer</a></code> for more details.</p>
</td></tr>
<tr><td><code id="threshold_summary_+3A_plot_title">plot_title</code></td>
<td>
<p>logical, should the station name be included as the plot title? Defaults to <code>FALSE</code></p>
</td></tr>
<tr><td><code id="threshold_summary_+3A_plot">plot</code></td>
<td>
<p>logical, should a plot be returned? Defaults to <code>TRUE</code></p>
</td></tr>
<tr><td><code id="threshold_summary_+3A_label_y_axis">label_y_axis</code></td>
<td>
<p>logical, include label for y-axis?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function provides a graphical or tabular summary of the results from <code>threshold_identification</code>. The user can summarize results on a monthly, seasonal, or annual basis by specifying <code>summary_type = c('month', 'season', 'year')</code>. If <code>summary_type = 'season'</code>, then the user should also define <code>season</code>, <code>season_names</code>, and <code>season_start</code>, as required by <code><a href="#topic+assign_season">assign_season</a></code>. The user can specify <code>'month'</code> for nutrient parameters, but this is not recommended and will produce a warning.
</p>
<p>Recommended thresholds for chlorophyll-a, dissolved inorganic nitrogen, dissolved inorganic phosphorus, and dissolved oxygen can be found in the National Coastal Condition Assessment 2010 (USEPA 2016)
</p>


<h3>Value</h3>

<p>Returns a <code><a href="ggplot2.html#topic+ggplot">ggplot</a></code> object (if <code>plot</code> = <code>TRUE</code>) or a dataframe (if <code>plot</code> = <code>FALSE</code>)
</p>


<h3>Author(s)</h3>

<p>Julie Padilla
</p>


<h3>References</h3>

<p>United States Environmental Protection Agency (USEPA). 2015. &quot;National Coastal Condition Assessment 2010&quot;. EPA 841-R-15-006.
https://cfpub.epa.gov/si/si_public_record_Report.cfm?Lab=OWOW&amp;dirEntryId=327030
</p>


<h3>See Also</h3>

<p><code><a href="#topic+assign_season">assign_season</a></code>, <code><a href="ggplot2.html#topic+ggplot">ggplot</a></code>, <code><a href="#topic+threshold_identification">threshold_identification</a></code>, <code><a href="ggplot2.html#topic+scale_fill_brewer">scale_fill_brewer</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Water quality examples
data(apacpwq)
dat_wq &lt;- qaqc(apacpwq, qaqc_keep = c(0, 3, 5))
dat_wq &lt;- SWMPr::setstep(dat_wq)

x &lt;-
  threshold_summary(dat_wq, param = 'do_mgl', parameter_threshold = 2
  , threshold_type = '&lt;', time_threshold = 2, summary_type = 'month'
  , plot_title = TRUE)


y &lt;-
  threshold_summary(dat_wq, param = 'do_mgl', parameter_threshold = 2,
  threshold_type = '&lt;', time_threshold = 2, summary_type = 'season',
  season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12)),
  season_names = c('Winter', 'Spring', 'Summer', 'Fall'),
  season_start = 'Winter',
  plot_title = TRUE)

## Nutrient examples
dat_nut &lt;- qaqc(apacpnut, qaqc_keep = c(0, 3, 5))

x &lt;-
  threshold_summary(dat_nut, param = 'chla_n',
  parameter_threshold = 10,
  threshold_type = '&gt;', summary_type = 'month',
  plot_title = TRUE)

y &lt;-
  threshold_summary(dat_nut, param = 'chla_n', parameter_threshold = 10,
  threshold_type = '&gt;', summary_type = 'season',
  season_grps = list(c(1,2,3), c(4,5,6), c(7,8,9), c(10, 11, 12)),
  season_names = c('Winter', 'Spring', 'Summer', 'Fall'),
  season_start = 'Winter', plot_title = TRUE)

 z &lt;-
   threshold_summary(dat_nut, param = 'chla_n', parameter_threshold = 10,
   threshold_type = '&gt;', summary_type = 'year',
   plot_title = TRUE, plot = TRUE)

</code></pre>

<hr>
<h2 id='title_labeler'>Generate Plot Title Based on NERR Site ID</h2><span id='topic+title_labeler'></span>

<h3>Description</h3>

<p>Generate a plot title based on SWMP station abbreviation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>title_labeler(nerr_site_id)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="title_labeler_+3A_nerr_site_id">nerr_site_id</code></td>
<td>
<p>chr string of NERR site id</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A helper function used internally by several plotting functions to generate plot titles.
</p>


<h3>Value</h3>

<p>Returns character vector
</p>


<h3>Author(s)</h3>

<p>Julie Padilla
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ttl &lt;- title_labeler('elkapwq')

</code></pre>

<hr>
<h2 id='update_sampling_stations'>Update reserve sampling stations</h2><span id='topic+update_sampling_stations'></span>

<h3>Description</h3>

<p>Script to modify the internal sampling_sites.rda file for adding new reserves or for making changes to existing sampling station locations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>update_sampling_stations(file_path, file_name = "sampling_stations.csv")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="update_sampling_stations_+3A_file_path">file_path</code></td>
<td>
<p>path to directory with new file</p>
</td></tr>
<tr><td><code id="update_sampling_stations_+3A_file_name">file_name</code></td>
<td>
<p>name of new csv file</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is a standalone function used to replace the internal SWMPrExtension sampling sites data table used by the get_sites.R function. It reads a csv-formatted file of all NERRS SWMP stations that the user has downloaded from the CDMO SWMP station website: <a href="https://cdmo.baruch.sc.edu/data/swmp-stations/">https://cdmo.baruch.sc.edu/data/swmp-stations/</a>.
</p>
<p>This downloaded csv-formatted file and its location are the only input arguments to <code>update_sampling_station()</code>. The current station information is loaded from <code>data/sampling_stations.rda</code>, a copy of which is written out as <code>data/sampling_stations_backup.rda</code>, and the new data file is read, formatted appropriately, and written out as <code>data/sampling_stations.rda</code>.
</p>
<p>Note: This function need only be run when new reserves are added, stations are moved, etc.
</p>


<h3>Value</h3>

<p>Returns TRUE on a successful run, FALSE on a failure.
</p>


<h3>Author(s)</h3>

<p>Dave Eslinger
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Provide a bad file name to get error message
x &lt;- update_sampling_stations("data","bad_file_name.csv")
print(x)


</code></pre>

<hr>
<h2 id='us_4269'>US State Map</h2><span id='topic+us_4269'></span>

<h3>Description</h3>

<p>US state boundaries from the US Census Bureau's MAF/TIGER geographic database in EPSG:4269, with all data except state FIPS codes and land area removed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data('us_4269')
</code></pre>


<h3>Format</h3>

<p>A <code>sf]{DataFrame}</code> object
</p>


<h3>Source</h3>

<p><a href="https://www.census.gov/geographies/mapping-files.html">US Census Bureau</a>
</p>


<h3>References</h3>

<p>United States Census Bureau. Data accessed from the US Census Bureau website: https://www2.census.gov/geo/tiger/GENZ2018/shp/cb_2018_us_county_20m.zip; accessed 13 March 2020
</p>

<hr>
<h2 id='y_count_labeler'>Generate y-axis Label Based on SWMP Parameter Abbreviation</h2><span id='topic+y_count_labeler'></span>

<h3>Description</h3>

<p>Generate a y-axis label based on SWMP parameter abbreviation and threshold criteria
</p>


<h3>Usage</h3>

<pre><code class='language-R'>y_count_labeler(
  param,
  parameter_threshold,
  threshold_type,
  time_threshold = NULL,
  converted = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="y_count_labeler_+3A_param">param</code></td>
<td>
<p>chr string of variable abbreviation</p>
</td></tr>
<tr><td><code id="y_count_labeler_+3A_parameter_threshold">parameter_threshold</code></td>
<td>
<p>vector of numerical thresholds to evaluate parameters against</p>
</td></tr>
<tr><td><code id="y_count_labeler_+3A_threshold_type">threshold_type</code></td>
<td>
<p>vector of logical operators ('&lt;', '&gt;', '&lt;=', '&gt;=', '==', '!=')</p>
</td></tr>
<tr><td><code id="y_count_labeler_+3A_time_threshold">time_threshold</code></td>
<td>
<p>The amount of time an event must last to be counted (in hours)</p>
</td></tr>
<tr><td><code id="y_count_labeler_+3A_converted">converted</code></td>
<td>
<p>logical, should the parameter label units be converted from metric to english? Defaults to <code>FALSE</code>. Currently available for <code>temp</code>, <code>depth</code>, <code>cdepth</code>, <code>level</code>, <code>clevel</code>, <code>atemp</code>, <code>wspd</code>, <code>maxwspd</code>, and <code>totprcp</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>A helper function used internally by several plotting functions to generate y-axis labels. This function does not convert sample results from metric to english. It only adjusts the units in the y-axis label.
</p>


<h3>Value</h3>

<p>Returns character vector or an unevaluated expression
</p>


<h3>Author(s)</h3>

<p>Julie Padilla
</p>


<h3>Examples</h3>

<pre><code class='language-R'>y_lab &lt;- y_count_labeler(param = 'do_mgl', parameter_threshold = 2
, threshold_type = '&lt;', time_threshold = 2, converted = FALSE)

</code></pre>

<hr>
<h2 id='y_labeler'>Generate y-axis Label Based on SWMP Parameter Abbreviation</h2><span id='topic+y_labeler'></span>

<h3>Description</h3>

<p>Generate a y-axis label based on SWMP parameter abbreviation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>y_labeler(param, converted = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="y_labeler_+3A_param">param</code></td>
<td>
<p>chr string of variable abbreviation</p>
</td></tr>
<tr><td><code id="y_labeler_+3A_converted">converted</code></td>
<td>
<p>logical, should the parameter label units be converted from metric to english? Defaults to <code>FALSE</code>. Currently available for <code>temp</code>, <code>depth</code>, <code>cdepth</code>, <code>level</code>, <code>clevel</code>, <code>atemp</code>, <code>wspd</code>, <code>maxwspd</code>, and <code>totprcp</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>A helper function used internally by several plotting functions to generate y-axis labels. This function does not convert sample results from metric to english. It only adjusts the units in the y-axis label.
</p>


<h3>Value</h3>

<p>Returns character vector or an unevaluated expression
</p>


<h3>Author(s)</h3>

<p>Julie Padilla
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
y_lab &lt;- y_labeler('do_mgl')


</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

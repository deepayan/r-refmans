<!DOCTYPE html><html><head><title>Help for package bbw</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {bbw}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#bbw'><p>Blocked Weighted Bootstrap</p></a></li>
<li><a href='#bootBW'><p>Blocked Weighted Bootstrap</p></a></li>
<li><a href='#bootClassic'><p>Simple proportion statistics function for bootstrap estimation</p></a></li>
<li><a href='#bootPROBIT'><p>PROBIT statistics function for bootstrap estimation</p></a></li>
<li><a href='#indicatorsCH1'><p>Child Morbidity, Health Service Coverage, Anthropometry</p></a></li>
<li><a href='#indicatorsCH2'><p>Infant and Child Feeding Index</p></a></li>
<li><a href='#indicatorsHH'><p>Mother Indicators Dataset</p></a></li>
<li><a href='#recode'><p>Recode</p></a></li>
<li><a href='#villageData'><p>Cluster Population Weights Dataset</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Blocked Weighted Bootstrap</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.0</td>
</tr>
<tr>
<td>Description:</td>
<td>The blocked weighted bootstrap (BBW) is an estimation technique 
    for use with data from two-stage cluster sampled surveys in which either 
    prior weighting (e.g. population-proportional sampling or PPS as used in 
    Standardized Monitoring and Assessment of Relief and Transitions or SMART 
    surveys) or posterior weighting (e.g. as used in rapid assessment method or
    RAM and simple spatial sampling method or S3M surveys) is implemented. See 
    Cameron et al (2008) &lt;<a href="https://doi.org/10.1162%2Frest.90.3.414">doi:10.1162/rest.90.3.414</a>&gt; for application of 
    bootstrap to cluster samples. See Aaron et al (2016) 
    &lt;<a href="https://doi.org/10.1371%2Fjournal.pone.0163176">doi:10.1371/journal.pone.0163176</a>&gt; and Aaron et al (2016) 
    &lt;<a href="https://doi.org/10.1371%2Fjournal.pone.0162462">doi:10.1371/journal.pone.0162462</a>&gt; for application of the blocked weighted 
    bootstrap to estimate indicators from two-stage cluster sampled surveys.</td>
</tr>
<tr>
<td>Imports:</td>
<td>car, withr</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.0.1)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, testthat, spelling, covr</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-GB</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/rapidsurveys/bbw">https://github.com/rapidsurveys/bbw</a>, <a href="https://rapidsurveys.io/bbw/">https://rapidsurveys.io/bbw/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/rapidsurveys/bbw/issues">https://github.com/rapidsurveys/bbw/issues</a></td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-05-30 01:42:59 UTC; ernestguevarra</td>
</tr>
<tr>
<td>Author:</td>
<td>Mark Myatt [aut],
  Ernest Guevarra <a href="https://orcid.org/0000-0002-4887-4415"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Ernest Guevarra &lt;ernestgmd@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-05-30 02:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='bbw'>Blocked Weighted Bootstrap</h2><span id='topic+bbw'></span><span id='topic+bbw-package'></span>

<h3>Description</h3>

<p>The <code>blocked weighted bootstrap (BBW)</code> is an estimation technique for
use with data from two-stage cluster sampled surveys in which either prior
weighting (e.g. <code>population proportional sampling</code> or <code>PPS</code> as
used in <code>Standardized Monitoring and Assessment of Relief and
Transitions</code> or <code>SMART</code> surveys) or posterior weighting (e.g. as used in
<code>Rapid Assessment Method</code> or <code>RAM</code> and <code>Simple Spatial
Sampling Method</code> or <code>S3M</code> surveys).
</p>


<h3>Details</h3>

<p>The bootstrap technique is described in this
<a href="https://en.wikipedia.org/wiki/Bootstrapping_(statistics)">article</a>.
The <code>BBW</code> used in <code>RAM</code> and <code>S3M</code> is a modification to the
<code>percentile bootstrap</code> to include <code>blocking</code> and <code>weighting</code> to
account for a complex sample design.
</p>
<p>With <code>RAM</code> and <code>S3M</code> surveys, the sample is complex in the sense
that it is an unweighted cluster sample. Data analysis procedures need to
account for the sample design. A <code>blocked weighted bootstrap (BBW)</code>
can be used:
</p>

<dl>
<dt><code>Blocked</code></dt><dd><p>The block corresponds to the primary sampling unit
(<code class="reqn">PSU = cluster</code>). <code>PSUs</code> are resampled with replacement.
Observations within the resampled <code>PSUs</code> are also sampled with
replacement.</p>
</dd>
<dt><code>Weighted</code></dt><dd><p><code>RAM</code> and <code>S3M</code> samples do not use
<code>population proportional sampling (PPS)</code> to weight the sample prior to
data collection (e.g. as is done with <code>SMART</code> surveys). This means that
a posterior weighting procedure is required. <code>bbw</code> uses a
<code>"roulette wheel"</code> algorithm to weight (i.e. by population) the
selection probability of <code>PSUs</code> in bootstrap replicates.</p>
</dd>
</dl>

<p>In the case of prior weighting by <code>PPS</code> all clusters are given the
same weight. With posterior weighting (as in <code>RAM</code> or <code>S3M</code>)
the weight is the population of each <code>PSU</code>. This procedure is very
similar to the <a href="https://en.wikipedia.org/wiki/Fitness_proportionate_selection">fitness proportionate selection</a>
technique used in evolutionary computing.
</p>
<p>A total of <code class="reqn">m</code> <code>PSUs</code> are sampled with replacement for each
bootstrap replicate (where <code class="reqn">m</code> is the number of <code>PSUs</code> in the survey
sample).
</p>
<p>The required statistic is applied to each replicate. The reported estimate
consists of the <code>0.025th (95% LCL)</code>, <code>0.5th (point estimate)</code>, and
<code>0.975th (95% UCL)</code> quantiles of the distribution of the statistic across
all survey replicates.
</p>
<p>Early versions of the <code>bbw</code> did not resample observations within
<code>PSUs</code> following:
</p>
<p><cite>Cameron AC, Gelbach JB, Miller DL, Bootstrap-based improvements for
inference with clustered errors, Review of Economics and Statistics,
2008:90;414â€“427 <a href="https://doi.org/10.1162/rest.90.3.414">doi:10.1162/rest.90.3.414</a></cite>
</p>
<p>and used a large number (e.g. <code class="reqn">3999</code>) survey replicates. Current versions of
the <code>bbw</code> resample observations within <code>PSUs</code> and use a smaller
number of survey replicates (e.g. <code class="reqn">n = 400</code>). This is a more computationally
efficient approach
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Ernest Guevarra <a href="mailto:ernestgmd@gmail.com">ernestgmd@gmail.com</a> (<a href="https://orcid.org/0000-0002-4887-4415">ORCID</a>)
</p>
<p>Authors:
</p>

<ul>
<li><p> Mark Myatt <a href="mailto:mark@brixtonhealth.com">mark@brixtonhealth.com</a>
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/rapidsurveys/bbw">https://github.com/rapidsurveys/bbw</a>
</p>
</li>
<li> <p><a href="https://rapidsurveys.io/bbw/">https://rapidsurveys.io/bbw/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/rapidsurveys/bbw/issues">https://github.com/rapidsurveys/bbw/issues</a>
</p>
</li></ul>


<hr>
<h2 id='bootBW'>Blocked Weighted Bootstrap</h2><span id='topic+bootBW'></span>

<h3>Description</h3>

<p>The <strong>blocked weighted bootstrap (BBW)</strong> is an estimation technique for
use with data from two-stage cluster sampled surveys in which either prior
weighting (e.g. <strong>population proportional sampling</strong> or <strong>PPS</strong> as
used in <strong>SMART</strong> surveys) or posterior weighting (e.g. as used in
<strong>RAM</strong> and <strong>S3M</strong> surveys).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bootBW(x, w, statistic, params, outputColumns, replicates = 400)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bootBW_+3A_x">x</code></td>
<td>
<p>A data frame with primary sampling unit (PSU) in column named <code>psu</code></p>
</td></tr>
<tr><td><code id="bootBW_+3A_w">w</code></td>
<td>
<p>A data frame with primary sampling unit (PSU) in column named <code>psu</code>
and survey weight (i.e. PSU population) in column named <code>pop</code></p>
</td></tr>
<tr><td><code id="bootBW_+3A_statistic">statistic</code></td>
<td>
<p>A function operating on data in <code>x</code> (see example)</p>
</td></tr>
<tr><td><code id="bootBW_+3A_params">params</code></td>
<td>
<p>Parameters (named columns in <code>x</code>) passed to the function
specified in <code>statistic</code></p>
</td></tr>
<tr><td><code id="bootBW_+3A_outputcolumns">outputColumns</code></td>
<td>
<p>Names of columns in output data frame</p>
</td></tr>
<tr><td><code id="bootBW_+3A_replicates">replicates</code></td>
<td>
<p>Number of bootstrap replicates</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with:
</p>

<ul>
<li><p> ncol = length(outputColumns)
</p>
</li>
<li><p> nrow = replicates
</p>
</li>
<li><p> names = outputColumns
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'># Example function - estimate a proportion for a binary (0/1) variable):

oneP &lt;- function(x, params) {
  v1 &lt;- params[1]
  v1Data &lt;- x[[v1]]
  oneP &lt;- mean(v1Data, na.rm = TRUE)
  return(oneP)
}

# Example call to bootBW function using RAM-OP test data:

bootP &lt;- bootBW(x = indicatorsHH,
                w = villageData,
                statistic = oneP,
                params = "anc1",
                outputColumns = "anc1",
                replicates = 9)

# Example estimate with 95% CI:

quantile(bootP, probs = c(0.500, 0.025, 0.975), na.rm = TRUE)

</code></pre>

<hr>
<h2 id='bootClassic'>Simple proportion statistics function for bootstrap estimation</h2><span id='topic+bootClassic'></span>

<h3>Description</h3>

<p>Simple proportion statistics function for bootstrap estimation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bootClassic(x, params)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bootClassic_+3A_x">x</code></td>
<td>
<p>A data frame with <strong>primary sampling unit (PSU)</strong> in column named
<code>psu</code> and with data column/s containing the binary variable/s (0/1) of
interest with column names corresponding to <code>params</code> values</p>
</td></tr>
<tr><td><code id="bootClassic_+3A_params">params</code></td>
<td>
<p>A vector of column names corresponding to the binary variables
of interest contained in <code>x</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric vector of the mean of each binary variable of interest with
length equal to <code>length(params)</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Example call to bootClassic function

meanResults &lt;- bootClassic(x = indicatorsHH,
                           params = "anc1")

</code></pre>

<hr>
<h2 id='bootPROBIT'>PROBIT statistics function for bootstrap estimation</h2><span id='topic+bootPROBIT'></span>

<h3>Description</h3>

<p>PROBIT statistics function for bootstrap estimation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bootPROBIT(x, params, threshold = THRESHOLD)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bootPROBIT_+3A_x">x</code></td>
<td>
<p>A data frame with <strong>primary sampling unit (PSU)</strong> in column named
<code>psu</code> and with data column/s containing the continuous variable/s of
interest with column names corresponding to <code>params</code> values</p>
</td></tr>
<tr><td><code id="bootPROBIT_+3A_params">params</code></td>
<td>
<p>A vector of column names corresponding to the continuous
variables of interest contained in <code>x</code></p>
</td></tr>
<tr><td><code id="bootPROBIT_+3A_threshold">threshold</code></td>
<td>
<p>cut-off value for continuous variable to differentiate
case and non-case</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric vector of the PROBIT estimate of each continuous variable
of interest with length equal to <code>length(params)</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Example call to bootBW function:

bootPROBIT(x = indicatorsCH1,
           params = "muac1",
           threshold = 115)

</code></pre>

<hr>
<h2 id='indicatorsCH1'>Child Morbidity, Health Service Coverage, Anthropometry</h2><span id='topic+indicatorsCH1'></span>

<h3>Description</h3>

<p>Child indicators on morbidity, health service coverage and anthropometry
calculated from survey data collected in survey conducted in 4 districts
from 3 regions in Somalia.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>indicatorsCH1
</code></pre>


<h3>Format</h3>

<p>A data frame with 14 columns and 3090 rows.</p>

<table>
<tr>
 <td style="text-align: left;">
   <strong>Variable</strong> </td><td style="text-align: left;"> <strong>Description</strong> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>psu</code> </td><td style="text-align: left;"> The PSU identifier. This must use the same coding system used to identify the PSUs that is used in the indicators dataset </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>mID</code> </td><td style="text-align: left;"> The mother identifier </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>cID</code> </td><td style="text-align: left;"> The child identifier </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>ch1</code> </td><td style="text-align: left;"> Diarrhoea in the past 2 weeks (0/1) </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>ch2</code> </td><td style="text-align: left;"> Fever in the past 2 weeks (0/1) </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>ch3</code> </td><td style="text-align: left;"> Cough in the past 2 weeks (0/1) </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>ch4</code> </td><td style="text-align: left;"> Immunisation card (0/1) </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>ch5</code> </td><td style="text-align: left;"> BCG immunisation (0/1) </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>ch6</code> </td><td style="text-align: left;"> Vitamin A coverage in the past month (0/1) </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>ch7</code> </td><td style="text-align: left;"> Anti-helminth coverage in the past month (0/1) </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>sex</code> </td><td style="text-align: left;"> Sex of child </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>muac1</code> </td><td style="text-align: left;"> Mid-upper arm circumference in mm </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>muac2</code> </td><td style="text-align: left;"> Mid-upper arm circumference in mm </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>oedema</code> </td><td style="text-align: left;"> Oedema (0/1) </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Source</h3>

<p>Mother and child health and nutrition survey in 3 regions of Somalia
</p>


<h3>Examples</h3>

<pre><code class='language-R'>indicatorsCH1

</code></pre>

<hr>
<h2 id='indicatorsCH2'>Infant and Child Feeding Index</h2><span id='topic+indicatorsCH2'></span>

<h3>Description</h3>

<p>Infant and young child feeding indicators using the infant and child feeding
index (ICFI) by Arimond and Ruel. Calculated from survey data collected in
survey conducted in 4 districts from 3 regions in Somalia.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>indicatorsCH2
</code></pre>


<h3>Format</h3>

<p>A data frame with 13 columns and 2083 rows.</p>

<table>
<tr>
 <td style="text-align: left;">
   <strong>Variable</strong> </td><td style="text-align: left;"> <strong>Description</strong> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>psu</code> </td><td style="text-align: left;"> The PSU identifier. This must use the same coding system used to identify the PSUs that is used in the indicators dataset </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>mID</code> </td><td style="text-align: left;"> The mother identifier </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>cID</code> </td><td style="text-align: left;"> The child identifier </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>ebf</code> </td><td style="text-align: left;"> Exclusive breastfeeding (0/1) </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>cbf</code> </td><td style="text-align: left;"> Continued breastfeeding (0/1) </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>ddd</code> </td><td style="text-align: left;"> Dietary diversity (0/1) </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>mfd</code> </td><td style="text-align: left;"> Meal frequency (0/1) </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>icfi</code> </td><td style="text-align: left;"> Infant and child feeding index (from 0 to 6) </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>iycf</code> </td><td style="text-align: left;"> Good IYCF </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>icfiProp</code> </td><td style="text-align: left;"> Good ICFI </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>age</code> </td><td style="text-align: left;"> Child's age </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>bf</code> </td><td style="text-align: left;"> Child is breastfeeding (0/1) </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>bfStop</code> </td><td style="text-align: left;"> Age in months child stopped breastfeeding </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Source</h3>

<p>Mother and child health and nutrition survey in 3 regions of Somalia
</p>


<h3>Examples</h3>

<pre><code class='language-R'>indicatorsCH2

</code></pre>

<hr>
<h2 id='indicatorsHH'>Mother Indicators Dataset</h2><span id='topic+indicatorsHH'></span>

<h3>Description</h3>

<p>Mother indicators for health and nutrition calculated from survey data
collected in survey conducted in 4 districts from 3 regions in Somalia.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>indicatorsHH
</code></pre>


<h3>Format</h3>

<p>A data frame with 24 columns and 2136 rows:</p>

<table>
<tr>
 <td style="text-align: left;">
   <strong>Variable</strong> </td><td style="text-align: left;"> <strong>Description</strong> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>psu</code> </td><td style="text-align: left;"> The PSU identifier. This must use the same coding system used to identify the PSUs that is used in the indicators dataset </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>mID</code> </td><td style="text-align: left;"> The mother identifier </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>mMUAC</code> </td><td style="text-align: left;"> Mothers with mid-upper arm circumference &lt; 230 mm (0/1) </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>anc1</code> </td><td style="text-align: left;"> At least 1 antenatal care visit with a trained health professional (0/1) </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>anc2</code> </td><td style="text-align: left;"> At least 4 antenatal care visits with any service provider (0/1) </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>anc3</code> </td><td style="text-align: left;"> FeFol coverage (0/1) </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>anc4</code> </td><td style="text-align: left;"> Vitamin A coverage (0/1) </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>wash1</code> </td><td style="text-align: left;"> Improved sources of drinking water (0/1) </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>wash2</code> </td><td style="text-align: left;"> Improved sources of other water (0/1) </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>wash3</code> </td><td style="text-align: left;"> Probable safe drinking water (0/1) </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>wash4</code> </td><td style="text-align: left;"> Number of litres of water collected in a day </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>wash5</code> </td><td style="text-align: left;"> Improved toilet facilities (0/1) </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>wash6</code> </td><td style="text-align: left;"> Human waste disposal practices / behaviour (0/1) </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>wash7a</code> </td><td style="text-align: left;"> Handwashing score (from 0 to 5) </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>wash7b</code> </td><td style="text-align: left;"> Handwashing score of 5 (0/1) </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>hhs1</code> </td><td style="text-align: left;"> Household hunger score (from 0 to 6) </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>hhs2</code> </td><td style="text-align: left;"> Little or no hunger (0/1) </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>hhs3</code> </td><td style="text-align: left;"> Moderate hunger (0/1) </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>hhs4</code> </td><td style="text-align: left;"> Severe hunger (0/1) </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>mfg</code> </td><td style="text-align: left;"> Mother's dietary diversity score </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>pVitA</code> </td><td style="text-align: left;"> Plant-based vitamin A-rich foods (0/1) </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>aVitA</code> </td><td style="text-align: left;"> Animal-based vitamin A-rich foods (0/1) </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>xVitA</code> </td><td style="text-align: left;"> Any vitamin A-rich foods (0/1) </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>iron</code> </td><td style="text-align: left;"> Iron-rich foods (0/1) </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Source</h3>

<p>Mother and child health and nutrition survey in 3 regions of Somalia
</p>


<h3>Examples</h3>

<pre><code class='language-R'>indicatorsHH

</code></pre>

<hr>
<h2 id='recode'>Recode</h2><span id='topic+recode'></span>

<h3>Description</h3>

<p>Utility function that recodes variables based on user recode specifications.
Handles both numeric or factor variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>recode(var, recodes, afr, anr = TRUE, levels)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="recode_+3A_var">var</code></td>
<td>
<p>Variable to recode</p>
</td></tr>
<tr><td><code id="recode_+3A_recodes">recodes</code></td>
<td>
<p>Character string of recode specifications:
</p>

<ul>
<li><p> Recode specifications in a character string separated by
semicolons of the form <code>input=output</code> as in:
<code>"1=1;2=1;3:6=2;else=NA"</code></p>
<pre>\item If an input value satisfies more than one specification, then the
first (reading from left to right) is applied

\item If no specification is satisfied, then the input value is carried
over to the result unchanged

\item \code{NA} is allowed on both input and output

\item The following recode specifications are supported:

    \tabular{lll}{
      \strong{Specification} \tab \strong{Example}          \tab \strong{Notes}                                                 \cr
      Single values          \tab \code{9=NA}               \tab                                                                \cr
      Set of values          \tab \code{c(1,2,5)=1}         \tab The left-hand-side is any R function call that returns a vector\cr
                             \tab \code{seq(1,9,2)='odd'}   \tab                                                                \cr
                             \tab \code{1:10=1}             \tab                                                                \cr
      Range of values        \tab \code{7:9=3}              \tab Special values \code{lo} and \code{hi} may be used             \cr
                             \tab \code{lo:115=1}           \tab                                                                \cr
      Other values           \tab \code{else=NA}            \tab
    }

\item Character values are quoted as in :

     \code{recodes = "c(1,2,5)='sanitary' else='unsanitary'"}

\item The output may be the (scalar) result of a function call as in:

     \code{recodes = "999=median(var, na.rm = TRUE)"}

\item Users are advised to carefully check the results of \code{recode()} calls
with any outputs that are the results of a function call.

\item The output may be the (scalar) value of a variable as in:

     \code{recodes = "999=scalarVariable"}

\item If all of the output values are numeric, and if \code{'afr'} is \code{FALSE},
then a numeric result is returned; if \code{var} is a factor then
(by default) so is the result.
</pre>
</li></ul>
</td></tr>
<tr><td><code id="recode_+3A_afr">afr</code></td>
<td>
<p>Return a factor. Default is TRUE if <code>var</code> is a factor and is
FALSE otherwise</p>
</td></tr>
<tr><td><code id="recode_+3A_anr">anr</code></td>
<td>
<p>Coerce result to numeric (default is TRUE)</p>
</td></tr>
<tr><td><code id="recode_+3A_levels">levels</code></td>
<td>
<p>Order of the levels in the returned factor; the default is to use
the sort order of the level names.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Recoded variable
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Recode values from 1 to 9 to varios specifications
var &lt;- sample(x = 1:9, size = 100, replace = TRUE)

# Recode single values
recode(var = var, recodes = "9=NA")

# Recode set of values
recode(var = var, recodes = "c(1,2,5)=1")

# Recode range of values
recode(var = var, recodes = "1:3=1;4:6=2;7:9=3")

# Recode other values
recode(var = var, recodes = "c(1,2,5)=1;else=NA")

</code></pre>

<hr>
<h2 id='villageData'>Cluster Population Weights Dataset</h2><span id='topic+villageData'></span>

<h3>Description</h3>

<p>Dataset containing cluster population weights for use in performing
posterior weighting with the blocked weighted bootstrap approach. This
dataset is from a mother and child health and nutrition survey conducted in
4 districts from 3 regions in Somalia.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>villageData
</code></pre>


<h3>Format</h3>

<p>A data frame with 6 columns and 117 rows:</p>

<table>
<tr>
 <td style="text-align: left;">
   <strong>Variable</strong> </td><td style="text-align: left;"> <strong>Description</strong> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>region</code> </td><td style="text-align: left;"> Region in Somalia from which the cluster belongs to </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>district</code> </td><td style="text-align: left;"> District in Somalia from which the cluster belongs to </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>psu</code> </td><td style="text-align: left;"> The PSU identifier. This must use the same coding system used to identify the PSUs that is used in the indicators dataset </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>lon</code> </td><td style="text-align: left;"> Longitude coordinate of the cluster </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>lat</code> </td><td style="text-align: left;"> Latitude coordinate of the cluster </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>pop</code> </td><td style="text-align: left;"> Population size of the cluster </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Source</h3>

<p>Mother and child health and nutrition survey in 3 regions of Somalia
</p>


<h3>Examples</h3>

<pre><code class='language-R'>villageData

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

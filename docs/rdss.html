<!DOCTYPE html><html><head><title>Help for package rdss</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {rdss}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#add_parens'><p>Add parentheses around standard error estimates</p></a></li>
<li><a href='#best_predictor'><p>Best predictor function from causal_forest</p></a></li>
<li><a href='#bonilla_tillery'><p>Replication data for Bonilla and Tillery (2020), American Political Science Review (obtained from Dataverse 10.7910/DVN/IUZDQI)</p></a></li>
<li><a href='#causal_forest_handler'><p>Tidy helper function for causal_forest function</p></a></li>
<li><a href='#clingingsmith_etal'><p>Replication data for David Clingingsmith, Asim Ijaz Khwaja, Michael Kremer (2020): Estimating the Impact of The Hajj: Religion and Tolerance in Islam's Global Gathering. The Quarterly Journal of Economics, Volume 124, Issue 3, August 2009, Pages 1133-1170</p></a></li>
<li><a href='#conjoint_assignment'><p>Conjoint experiment assignment handler: conducts complete random assignment of all attribute levels</p></a></li>
<li><a href='#conjoint_inquiries'><p>Conjoint experiment inquiries handler</p></a></li>
<li><a href='#conjoint_measurement'><p>Conjoint experiment assignment handler: conducts complete random assignment of all attribute levels</p></a></li>
<li><a href='#dd_palette'><p>Access color palette used in the book &quot;Research Design: Declare, Diagnose, Redesign&quot; (Blair, Coppock, Humphreys)</p></a></li>
<li><a href='#did_multiplegt_tidy'><p>Tidy helper function for did_multiplegt</p></a></li>
<li><a href='#estimator_AS_tidy'><p>Tidy helper function for estimator_AS function</p></a></li>
<li><a href='#fairfax'><p>Shapefile of Fairfax County, Virginia, voting precincts</p></a></li>
<li><a href='#foos_etal'><p>Replication data for Foos, John, Muller, and Cunningham (2021), Journal of Politics (derived from from Dataverse 10.7910/DVN/NDPXND)</p></a></li>
<li><a href='#format_num'><p>Round and pad a number to a specific decimal place</p></a></li>
<li><a href='#get_exposure_AS'><p>Helper function to obtain the observed exposure for the Aronow and Samii estimator</p></a></li>
<li><a href='#get_rdss_file'><p>Download a replication file from the dataverse archive for Research Design in the Social Sciences: Declaration, Diagnosis, and Redesign</p></a></li>
<li><a href='#hex_add_alpha'><p>Add alpha transparency to a color defined in hexadecimal</p></a></li>
<li><a href='#la_voter_file'><p>Voter file sample for Los Angeles County</p></a></li>
<li><a href='#lag_by_group'><p>Generate lags in grouped data</p></a></li>
<li><a href='#lapop_brazil'><p>Data used in student exercises for RDSS based on LAPOP survey of Brazil in 2018</p></a></li>
<li><a href='#make_interval_entry'><p>Format confidence intervals for nice printing</p></a></li>
<li><a href='#make_se_entry'><p>Format estimates and standard errors for nice printing</p></a></li>
<li><a href='#post_stratification_helper'><p>Post stratification estimator helper</p></a></li>
<li><a href='#process_tracing_estimator'><p>Process tracing estimator</p></a></li>
<li><a href='#rdrobust_helper'><p>Helper function for using rdrobust as a model in <code>declare_estimator</code></p></a></li>
<li><a href='#rdss'><p>rdss package</p></a></li>
<li><a href='#reexports'><p>Objects exported from other packages</p></a></li>
<li><a href='#rma_helper'><p>Helper function for rma function in metafor package</p></a></li>
<li><a href='#rma_mu_tau'><p>Extract mu and tau parameters from rma model fit</p></a></li>
<li><a href='#theme_dd'><p>ggplot Theme used in the book &quot;Research Design: Declare, Diagnose, Redesign&quot; (Blair, Coppock, Humphreys)</p></a></li>
<li><a href='#tidy_stan'><p>Tidy results from a stanreg regresion and exponentiate the estimated coefficient</p></a></li>
<li><a href='#tidy.amce'><p>Tidy estimates from the amce estimator</p></a></li>
<li><a href='#tidy.rdrobust'><p>Tidy helper function for rdrobust function</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Companion Datasets and Functions for Research Design in the
Social Sciences</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.10</td>
</tr>
<tr>
<td>Description:</td>
<td>Helper functions to accompany the Blair, Coppock, and Humphreys (2022) "Research Design in the Social Sciences: Declaration, Diagnosis, and Redesign" <a href="https://book.declaredesign.org">https://book.declaredesign.org</a>. 'rdss' includes datasets, helper functions, and plotting components to enable use and replication of the book. </td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr, rlang (&ge; 1.0.0), generics, ggplot2, tibble, tidyr,
dataverse, readr, marginaleffects, broom, purrr, estimatr,
randomizr</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0), rdrobust, DIDmultiplegt, broom.mixed,
grf, CausalQueries, metafor, cjoint, lme4, rstanarm, spdep,
DeclareDesign, curl</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-03-30 03:51:46 UTC; blair</td>
</tr>
<tr>
<td>Author:</td>
<td>Graeme Blair <a href="https://orcid.org/0000-0001-9164-2102"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Alexander Coppock <a href="https://orcid.org/0000-0002-5733-2386"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Macartan Humphreys
    <a href="https://orcid.org/0000-0001-7029-2326"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Graeme Blair &lt;graeme.blair@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-03-30 05:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='add_parens'>Add parentheses around standard error estimates</h2><span id='topic+add_parens'></span>

<h3>Description</h3>

<p>Add parentheses around standard error estimates
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_parens(x, digits = 3)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_parens_+3A_x">x</code></td>
<td>
<p>Numeric vector</p>
</td></tr>
<tr><td><code id="add_parens_+3A_digits">digits</code></td>
<td>
<p>Number of digits to retain</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector with enclosing parentheses
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
std.error &lt;- c(0.12, 0.001, 1.2)
add_parens(std.error)

</code></pre>

<hr>
<h2 id='best_predictor'>Best predictor function from causal_forest</h2><span id='topic+best_predictor'></span>

<h3>Description</h3>

<p>Best predictor function from causal_forest
</p>


<h3>Usage</h3>

<pre><code class='language-R'>best_predictor(data, covariate_names, cuts = 20)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="best_predictor_+3A_data">data</code></td>
<td>
<p>A data.frame of covariates</p>
</td></tr>
<tr><td><code id="best_predictor_+3A_covariate_names">covariate_names</code></td>
<td>
<p>A character vector of covariates to assess</p>
</td></tr>
<tr><td><code id="best_predictor_+3A_cuts">cuts</code></td>
<td>
<p>Either a numeric vector of two or more unique cut points or a single number (greater than or equal to 2) giving the number of intervals into which each covariate is to be cut.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data.frame of the best predictors
</p>

<hr>
<h2 id='bonilla_tillery'>Replication data for Bonilla and Tillery (2020), American Political Science Review (obtained from Dataverse 10.7910/DVN/IUZDQI)</h2><span id='topic+bonilla_tillery'></span>

<h3>Description</h3>

<p>Replication data for Bonilla and Tillery (2020), American Political Science Review (obtained from Dataverse 10.7910/DVN/IUZDQI)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bonilla_tillery
</code></pre>


<h3>Format</h3>

<p>A data.frame
</p>

<hr>
<h2 id='causal_forest_handler'>Tidy helper function for causal_forest function</h2><span id='topic+causal_forest_handler'></span>

<h3>Description</h3>

<p>Runs estimates estimation function from interference package and returns tidy data frame output
</p>


<h3>Usage</h3>

<pre><code class='language-R'>causal_forest_handler(data, covariate_names, share_train = 0.5, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="causal_forest_handler_+3A_data">data</code></td>
<td>
<p>A data.frame</p>
</td></tr>
<tr><td><code id="causal_forest_handler_+3A_covariate_names">covariate_names</code></td>
<td>
<p>Names of covariates</p>
</td></tr>
<tr><td><code id="causal_forest_handler_+3A_share_train">share_train</code></td>
<td>
<p>Share of units to be used for training</p>
</td></tr>
<tr><td><code id="causal_forest_handler_+3A_...">...</code></td>
<td>
<p>Options to causal_forest</p>
</td></tr>
</table>


<h3>Details</h3>

<p>https://draft.declaredesign.org/complex-designs.html#discovery-using-causal-forests
</p>
<p>See ?causal_forest for further details
</p>


<h3>Value</h3>

<p>a data.frame of estimates
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(DeclareDesign)
library(ggplot2)

dat &lt;- fabricate(
   N = 1000,
   A = rnorm(N),
   B = rnorm(N),
   Z = complete_rs(N),
   Y = A*Z + rnorm(N))

# note: remove num.threads = 1 to use more processors
estimates &lt;- causal_forest_handler(data = dat, covariate_names = c("A", "B"), num.threads = 1)

ggplot(data = estimates, aes(A, pred)) + geom_point()

</code></pre>

<hr>
<h2 id='clingingsmith_etal'>Replication data for David Clingingsmith, Asim Ijaz Khwaja, Michael Kremer (2020): Estimating the Impact of The Hajj: Religion and Tolerance in Islam's Global Gathering. The Quarterly Journal of Economics, Volume 124, Issue 3, August 2009, Pages 1133-1170</h2><span id='topic+clingingsmith_etal'></span>

<h3>Description</h3>

<p>Replication data for David Clingingsmith, Asim Ijaz Khwaja, Michael Kremer (2020): Estimating the Impact of The Hajj: Religion and Tolerance in Islam's Global Gathering. The Quarterly Journal of Economics, Volume 124, Issue 3, August 2009, Pages 1133-1170
</p>


<h3>Usage</h3>

<pre><code class='language-R'>clingingsmith_etal
</code></pre>


<h3>Format</h3>

<p>A data.frame
</p>

<hr>
<h2 id='conjoint_assignment'>Conjoint experiment assignment handler: conducts complete random assignment of all attribute levels</h2><span id='topic+conjoint_assignment'></span>

<h3>Description</h3>

<p>See https://book.declaredesign.org/experimental-descriptive.html#conjoint-experiments
</p>


<h3>Usage</h3>

<pre><code class='language-R'>conjoint_assignment(data, levels_list)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="conjoint_assignment_+3A_data">data</code></td>
<td>
<p>A data.frame</p>
</td></tr>
<tr><td><code id="conjoint_assignment_+3A_levels_list">levels_list</code></td>
<td>
<p>List of conjoint levels to assign</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data.frame with random assignment added
</p>

<hr>
<h2 id='conjoint_inquiries'>Conjoint experiment inquiries handler</h2><span id='topic+conjoint_inquiries'></span>

<h3>Description</h3>

<p>See https://book.declaredesign.org/experimental-descriptive.html#conjoint-experiments
</p>


<h3>Usage</h3>

<pre><code class='language-R'>conjoint_inquiries(data, levels_list, utility_fn)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="conjoint_inquiries_+3A_data">data</code></td>
<td>
<p>A data.frame</p>
</td></tr>
<tr><td><code id="conjoint_inquiries_+3A_levels_list">levels_list</code></td>
<td>
<p>List of conjoint levels</p>
</td></tr>
<tr><td><code id="conjoint_inquiries_+3A_utility_fn">utility_fn</code></td>
<td>
<p>a function that takes data and returns an additional column called U, which represents the utility of the choice</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data.frame of estimand values
</p>

<hr>
<h2 id='conjoint_measurement'>Conjoint experiment assignment handler: conducts complete random assignment of all attribute levels</h2><span id='topic+conjoint_measurement'></span>

<h3>Description</h3>

<p>See https://book.declaredesign.org/experimental-descriptive.html#conjoint-experiments
</p>


<h3>Usage</h3>

<pre><code class='language-R'>conjoint_measurement(data, utility_fn)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="conjoint_measurement_+3A_data">data</code></td>
<td>
<p>A data.frame</p>
</td></tr>
<tr><td><code id="conjoint_measurement_+3A_utility_fn">utility_fn</code></td>
<td>
<p>a function that takes data and returns an additional column called U, which represents the utility of the choice</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data.frame
</p>

<hr>
<h2 id='dd_palette'>Access color palette used in the book &quot;Research Design: Declare, Diagnose, Redesign&quot; (Blair, Coppock, Humphreys)</h2><span id='topic+dd_palette'></span>

<h3>Description</h3>

<p>Based on Karthik Ram's wesanderson package (https://github.com/karthik/wesanderson)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dd_palette(name, n)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dd_palette_+3A_name">name</code></td>
<td>
<p>Color palette name (character)</p>
</td></tr>
<tr><td><code id="dd_palette_+3A_n">n</code></td>
<td>
<p>Number of colors</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Available color palettes:
</p>
<p>color_palette = c(&quot;#72B4F3&quot;, &quot;#F38672&quot;, &quot;#C6227F&quot;)
</p>
<p>grey_palette = c(&quot;#72B4F3&quot;, &quot;#F38672&quot;, &quot;#C6227F&quot;, gray(0.8))
</p>
<p>dd_dark_blue = &quot;#3564ED&quot;
</p>
<p>dd_light_blue = &quot;#72B4F3&quot;
</p>
<p>dd_orange = &quot;#F38672&quot;
</p>
<p>dd_purple = &quot;#7E43B6&quot;
</p>
<p>dd_gray = gray(0.2)
</p>
<p>dd_pink = &quot;#C6227F&quot;
</p>
<p>dd_light_gray = gray(0.8)
</p>
<p>dd_dark_blue_alpha = &quot;#3564EDA0&quot;
</p>
<p>dd_light_blue_alpha = &quot;#72B4F3A0&quot;
</p>


<h3>Value</h3>

<p>character vector of colors
</p>

<hr>
<h2 id='did_multiplegt_tidy'>Tidy helper function for did_multiplegt</h2><span id='topic+did_multiplegt_tidy'></span>

<h3>Description</h3>

<p>Runs did_multiplegt estimation function and returns tidy data frame output
</p>


<h3>Usage</h3>

<pre><code class='language-R'>did_multiplegt_tidy(data, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="did_multiplegt_tidy_+3A_data">data</code></td>
<td>
<p>a data.frame</p>
</td></tr>
<tr><td><code id="did_multiplegt_tidy_+3A_...">...</code></td>
<td>
<p>options passed to did_multiplegt</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See https://book.declaredesign.org/observational-causal.html#difference-in-differences
</p>


<h3>Value</h3>

<p>a data.frame of estimates
</p>

<hr>
<h2 id='estimator_AS_tidy'>Tidy helper function for estimator_AS function</h2><span id='topic+estimator_AS_tidy'></span>

<h3>Description</h3>

<p>Runs estimates estimation function from interference package and returns tidy data frame output
</p>


<h3>Usage</h3>

<pre><code class='language-R'>estimator_AS_tidy(data, permutatation_matrix, adj_matrix)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="estimator_AS_tidy_+3A_data">data</code></td>
<td>
<p>a data.frame</p>
</td></tr>
<tr><td><code id="estimator_AS_tidy_+3A_permutatation_matrix">permutatation_matrix</code></td>
<td>
<p>a permutation matrix of random assignments</p>
</td></tr>
<tr><td><code id="estimator_AS_tidy_+3A_adj_matrix">adj_matrix</code></td>
<td>
<p>an adjacency matrix</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The estimator_AS_tidy function requires the 'interference' package, which is not yet available on CRAN.
</p>
<p>To use this function:
</p>

<ol>
<li><p> install the developer version of interference via remotes::install_github('szonszein/interference') and
</p>
</li>
<li><p> install the developer version of rdss via remotes::install_github('DeclareDesign/rdss@remotes')
</p>
</li></ol>

<p>See https://book.declaredesign.org/experimental-causal.html#experiments-over-networks
</p>


<h3>Value</h3>

<p>a data.frame of estimates
</p>

<hr>
<h2 id='fairfax'>Shapefile of Fairfax County, Virginia, voting precincts</h2><span id='topic+fairfax'></span>

<h3>Description</h3>

<p>An sf object containing the boundaries of voting precincts for Fairfax County, Virginia as well as precinct ID, name, district, polling place name, address, city, zip code, area, length, and geometry (polygons)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fairfax
</code></pre>


<h3>Format</h3>

<p>An sf object with 236 rows and 10 variables:
</p>

<hr>
<h2 id='foos_etal'>Replication data for Foos, John, Muller, and Cunningham (2021), Journal of Politics (derived from from Dataverse 10.7910/DVN/NDPXND)</h2><span id='topic+foos_etal'></span>

<h3>Description</h3>

<p>Replication data for Foos, John, Muller, and Cunningham (2021), Journal of Politics (derived from from Dataverse 10.7910/DVN/NDPXND)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>foos_etal
</code></pre>


<h3>Format</h3>

<p>A data.frame
</p>

<hr>
<h2 id='format_num'>Round and pad a number to a specific decimal place</h2><span id='topic+format_num'></span>

<h3>Description</h3>

<p>Round and pad a number to a specific decimal place
</p>


<h3>Usage</h3>

<pre><code class='language-R'>format_num(x, digits = 3)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="format_num_+3A_x">x</code></td>
<td>
<p>Numeric vector</p>
</td></tr>
<tr><td><code id="format_num_+3A_digits">digits</code></td>
<td>
<p>Number of digits to retain</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a character vector of formatted numbers
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
std.error &lt;- c(0.12, 0.001, 1.2)
format_num(std.error)

</code></pre>

<hr>
<h2 id='get_exposure_AS'>Helper function to obtain the observed exposure for the Aronow and Samii estimator</h2><span id='topic+get_exposure_AS'></span>

<h3>Description</h3>

<p>See https://book.declaredesign.org/experimental-causal.html#experiments-over-networks
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_exposure_AS(obs_exposure)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_exposure_AS_+3A_obs_exposure">obs_exposure</code></td>
<td>
<p>A numeric vector</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data.frame of observed exposure to a treatment created using the interference package
</p>

<hr>
<h2 id='get_rdss_file'>Download a replication file from the dataverse archive for Research Design in the Social Sciences: Declaration, Diagnosis, and Redesign</h2><span id='topic+get_rdss_file'></span>

<h3>Description</h3>

<p>See https://dataverse.harvard.edu/dataset.xhtml?persistentId=doi:10.7910/DVN/HYVPO5 for further details and the code used to create these files.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_rdss_file(name, verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_rdss_file_+3A_name">name</code></td>
<td>
<p>quoted name of the file on the dataverse archive</p>
</td></tr>
<tr><td><code id="get_rdss_file_+3A_verbose">verbose</code></td>
<td>
<p>print declaration code if requesting a declaration</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The available names include:
</p>
<p>Design declaration objects:
</p>
<p>declaration_9.5 <br />
declaration_2.1 <br />
declaration_2.2 <br />
declaration_4.1 <br />
declaration_5.1 <br />
declaration_7.1 <br />
declaration_9.1 <br />
declaration_9.2 <br />
declaration_9.3 <br />
declaration_9.4 <br />
declaration_9.6 <br />
declaration_9.7 <br />
declaration_10.1 <br />
declaration_10.2 <br />
declaration_10.3 <br />
declaration_10.4 <br />
declaration_10a <br />
declaration_11.1 <br />
declaration_11.2 <br />
declaration_11.3 <br />
declaration_11.4 <br />
declaration_11.5 <br />
declaration_12.1a <br />
declaration_12.1b <br />
declaration_12.1c <br />
declaration_12.1d <br />
declaration_13.1 <br />
declaration_13.2 <br />
declaration_15.1 <br />
declaration_15.2 <br />
declaration_15.3a <br />
declaration_15.3b <br />
declaration_15.3c <br />
declaration_15.4 <br />
declaration_15.5 <br />
declaration_15.6 <br />
declaration_16.1a <br />
declaration_16.1b <br />
declaration_16.2 <br />
declaration_16.3 <br />
declaration_16.4 <br />
declaration_16.5 <br />
declaration_16.6 <br />
declaration_17.1 <br />
declaration_17.2 <br />
declaration_17.3 <br />
declaration_17.4 <br />
declaration_17.5 <br />
declaration_17.6_a <br />
declaration_17.6_b <br />
declaration_18.1 <br />
declaration_18.2 <br />
declaration_18.3 <br />
declaration_18.4 <br />
declaration_18.5 <br />
declaration_18.6 <br />
declaration_18.7 <br />
declaration_18.8 <br />
declaration_18.9a <br />
declaration_18.9b <br />
declaration_18.9c <br />
declaration_18.10 <br />
declaration_18.11 <br />
declaration_18.12 <br />
declaration_18.13 <br />
declaration_19.1 <br />
declaration_19.2 <br />
declaration_19.3 <br />
declaration_19.4 <br />
declaration_23.1a <br />
declaration_23.1b <br />
declaration_23.1c <br />
declaration_23.1d <br />
</p>
<p>Diagnosis objects:
</p>
<p>diagnosis_2.1 <br />
diagnosis_4.1 <br />
diagnosis_9.1 <br />
diagnosis_9.2 <br />
diagnosis_9.3 <br />
diagnosis_9.4 <br />
diagnosis_9.5 <br />
diagnosis_9.6 <br />
diagnosis_9.7 <br />
simulation_10.1 <br />
diagnosis_10.1 <br />
diagnosis_10.2 <br />
diagnosis_10.3 <br />
diagnosis_10.4 <br />
diagnosis_10.5 <br />
diagnosis_10a <br />
diagnosis_11.1 <br />
diagnosis_11.2 <br />
diagnosis_11.3 <br />
diagnosis_11.4 <br />
diagnosis_11.5 <br />
diagnosis_12.1 <br />
diagnosis_12.2 <br />
diagnosis_13.1 <br />
diagnosis_15.1 <br />
diagnosis_15.2 <br />
diagnosis_15.3 <br />
diagnosis_15.4 <br />
diagnosis_15.5 <br />
diagnosis_16.1 <br />
diagnosis_16.2 <br />
diagnosis_16.3 <br />
diagnosis_16.4 <br />
diagnosis_16.5 <br />
diagnosis_17.1 <br />
diagnosis_17.2 <br />
diagnosis_17.3 <br />
diagnosis_17.4 <br />
diagnosis_17.5 <br />
diagnosis_18.1 <br />
diagnosis_18.10_encouragment <br />
diagnosis_18.10_placebo <br />
diagnosis_18.11 <br />
diagnosis_18.12 <br />
diagnosis_18.13 <br />
diagnosis_18.2 <br />
diagnosis_18.3 <br />
diagnosis_18.4 <br />
diagnosis_18.5 <br />
diagnosis_18.6 <br />
diagnosis_18.7 <br />
diagnosis_18.8 <br />
diagnosis_18.9 <br />
diagnosis_19.1 <br />
diagnosis_19.2 <br />
diagnosis_19.3 <br />
diagnosis_19.4 <br />
diagnosis_19a <br />
diagnosis_21a <br />
diagnosis_21b <br />
diagnosis_23.1 <br />
diagnosis_23a <br />
</p>


<h3>Value</h3>

<p>an r object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

# Requires internet access
if(curl::has_internet()) {
  diagnosis_2.1 &lt;- get_rdss_file("diagnosis_2.1")
  diagnosis_2.1
}

</code></pre>

<hr>
<h2 id='hex_add_alpha'>Add alpha transparency to a color defined in hexadecimal</h2><span id='topic+hex_add_alpha'></span>

<h3>Description</h3>

<p>Add alpha transparency to a color defined in hexadecimal
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hex_add_alpha(col, alpha)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hex_add_alpha_+3A_col">col</code></td>
<td>
<p>Original color code in hex</p>
</td></tr>
<tr><td><code id="hex_add_alpha_+3A_alpha">alpha</code></td>
<td>
<p>Level of alpha transparency to add</p>
</td></tr>
</table>


<h3>Value</h3>

<p>color codes with alpha added
</p>

<hr>
<h2 id='la_voter_file'>Voter file sample for Los Angeles County</h2><span id='topic+la_voter_file'></span>

<h3>Description</h3>

<p>A dataset containing the party registration, age, census tract number, and voter turnout in 2012 for 1,000 randomly-sampled registered voters in Los Angeles County, California.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>la_voter_file
</code></pre>


<h3>Format</h3>

<p>A data frame with 1000 rows and 4 variables:
</p>

<dl>
<dt>party</dt><dd><p>political party registration</p>
</dd>
<dt>age</dt><dd><p>age of voter in years</p>
</dd>
<dt>census_tract</dt><dd><p>US Census tract number</p>
</dd>
<dt>voted_2012</dt><dd><p>voter turnout in 2012 election</p>
</dd>
</dl>



<h3>Source</h3>

<p>California Secretary of State.
</p>

<hr>
<h2 id='lag_by_group'>Generate lags in grouped data</h2><span id='topic+lag_by_group'></span>

<h3>Description</h3>

<p>See https://book.declaredesign.org/observational-causal.html#difference-in-differences
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lag_by_group(x, groups, n = 1, order_by, default = NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lag_by_group_+3A_x">x</code></td>
<td>
<p>Vector of values</p>
</td></tr>
<tr><td><code id="lag_by_group_+3A_groups">groups</code></td>
<td>
<p>Grouping variable</p>
</td></tr>
<tr><td><code id="lag_by_group_+3A_n">n</code></td>
<td>
<p>Positive integer of length 1, giving the number of positions to lead or lag by</p>
</td></tr>
<tr><td><code id="lag_by_group_+3A_order_by">order_by</code></td>
<td>
<p>Ordering variable withing group (e.g., time)</p>
</td></tr>
<tr><td><code id="lag_by_group_+3A_default">default</code></td>
<td>
<p>Value used for non-existent rows. Defaults to NA.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector of lagged values
</p>

<hr>
<h2 id='lapop_brazil'>Data used in student exercises for RDSS based on LAPOP survey of Brazil in 2018</h2><span id='topic+lapop_brazil'></span>

<h3>Description</h3>

<p>These data were resampled with replacement from LAPOP data (to 10,000 rows) for a subset of variables. These data cannot be used for scientific inferences, and are only useful for teaching purposes. ID numbers were scrambled so that individuals and municipalities cannot easily be identified.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lapop_brazil
</code></pre>


<h3>Format</h3>

<p>A data.frame
</p>


<h3>Details</h3>

<p>Download the original data from https://www.vanderbilt.edu/lapop/raw-data.php
</p>
<p>See https://www.vanderbilt.edu/lapop/core-surveys.php for survey questionnaire
</p>

<hr>
<h2 id='make_interval_entry'>Format confidence intervals for nice printing</h2><span id='topic+make_interval_entry'></span>

<h3>Description</h3>

<p>Format confidence intervals for nice printing
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_interval_entry(conf.low, conf.high, digits = 2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="make_interval_entry_+3A_conf.low">conf.low</code></td>
<td>
<p>a numeric vector of lower bounds</p>
</td></tr>
<tr><td><code id="make_interval_entry_+3A_conf.high">conf.high</code></td>
<td>
<p>a numeric vector of upper bounds</p>
</td></tr>
<tr><td><code id="make_interval_entry_+3A_digits">digits</code></td>
<td>
<p>number of digits to retain</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a character vector of intervals
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
conf.low &lt;- c(-0.1652, 0.00304, -6.352)
conf.high &lt;- c(0.3052, 0.00696, -1.648)

make_interval_entry(conf.low, conf.high)


</code></pre>

<hr>
<h2 id='make_se_entry'>Format estimates and standard errors for nice printing</h2><span id='topic+make_se_entry'></span>

<h3>Description</h3>

<p>Format estimates and standard errors for nice printing
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_se_entry(estimate, std.error, digits = 2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="make_se_entry_+3A_estimate">estimate</code></td>
<td>
<p>a numeric vector of parameter estimates</p>
</td></tr>
<tr><td><code id="make_se_entry_+3A_std.error">std.error</code></td>
<td>
<p>a numeric vector of standard error estimates</p>
</td></tr>
<tr><td><code id="make_se_entry_+3A_digits">digits</code></td>
<td>
<p>number of digits to retain</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a character vector of formatted estimates and standard errors
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
estimate &lt;- c(0.07, 0.005, -4)
std.error &lt;- c(0.12, 0.001, 1.2)

make_se_entry(estimate, std.error)

</code></pre>

<hr>
<h2 id='post_stratification_helper'>Post stratification estimator helper</h2><span id='topic+post_stratification_helper'></span>

<h3>Description</h3>

<p>Calculates predicted values from a multilevel regression and the post-stratified state-level estimates
</p>


<h3>Usage</h3>

<pre><code class='language-R'>post_stratification_helper(model_fit, data, group, weights)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="post_stratification_helper_+3A_model_fit">model_fit</code></td>
<td>
<p>a model fit object from, e.g., glmer or lm_robust</p>
</td></tr>
<tr><td><code id="post_stratification_helper_+3A_data">data</code></td>
<td>
<p>a data.frame</p>
</td></tr>
<tr><td><code id="post_stratification_helper_+3A_group">group</code></td>
<td>
<p>unquoted name of the group variable to construct estimates for</p>
</td></tr>
<tr><td><code id="post_stratification_helper_+3A_weights">weights</code></td>
<td>
<p>unquoted name of post-stratification weights variable</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Please see https://book.declaredesign.org/observational-descriptive.html#multi-level-regression-and-poststratification
</p>


<h3>Value</h3>

<p>data.frame of post-stratified group-level estimates
</p>

<hr>
<h2 id='process_tracing_estimator'>Process tracing estimator</h2><span id='topic+process_tracing_estimator'></span>

<h3>Description</h3>

<p>Draw conclusions from a model given a query, data, and process tracing strategies
</p>


<h3>Usage</h3>

<pre><code class='language-R'>process_tracing_estimator(causal_model, query, data, strategies)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="process_tracing_estimator_+3A_causal_model">causal_model</code></td>
<td>
<p>a model generated by <code>CausalQueries</code></p>
</td></tr>
<tr><td><code id="process_tracing_estimator_+3A_query">query</code></td>
<td>
<p>a causal query of interest</p>
</td></tr>
<tr><td><code id="process_tracing_estimator_+3A_data">data</code></td>
<td>
<p>a single row dataset with data on nodes in the model</p>
</td></tr>
<tr><td><code id="process_tracing_estimator_+3A_strategies">strategies</code></td>
<td>
<p>a vector describing sets of nodes to be examined e.g. c(&quot;X&quot;, &quot;X-Y&quot;)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See https://book.declaredesign.org/observational-causal.html#process-tracing
</p>


<h3>Value</h3>

<p>a data.frame of estimates
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Simple example showing ambiguity in attribution
process_tracing_estimator(
  causal_model = CausalQueries::make_model("X -&gt; Y"),
  query = "Y[X=1] &gt; Y[X=0]",
  data = data.frame(X=1, Y = 1),
  strategies = "X-Y")

# Example where M=1 acts as a hoop test
process_tracing_estimator(
  causal_model = CausalQueries::make_model("X -&gt; M -&gt; Y") |&gt;
   CausalQueries::set_restrictions("Y[M=1] &lt; Y[M=0]") |&gt;
   CausalQueries::set_restrictions("M[X=1] &lt; M[X=0]"),
  query = "Y[X=1] &gt; Y[X=0]",
  data = data.frame(X=1, Y = 1, M = 0),
  strategies = c("Y", "X-Y", "X-M-Y"))
</code></pre>

<hr>
<h2 id='rdrobust_helper'>Helper function for using rdrobust as a model in <code>declare_estimator</code></h2><span id='topic+rdrobust_helper'></span>

<h3>Description</h3>

<p>Helper function for using rdrobust as a model in <code>declare_estimator</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rdrobust_helper(data, y, x, subset = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rdrobust_helper_+3A_data">data</code></td>
<td>
<p>a data.frame</p>
</td></tr>
<tr><td><code id="rdrobust_helper_+3A_y">y</code></td>
<td>
<p>unquoted name of the outcome variable</p>
</td></tr>
<tr><td><code id="rdrobust_helper_+3A_x">x</code></td>
<td>
<p>unquoted name of the running variable</p>
</td></tr>
<tr><td><code id="rdrobust_helper_+3A_subset">subset</code></td>
<td>
<p>an optional vector specifying a subset of observations to be used in the fitting process</p>
</td></tr>
<tr><td><code id="rdrobust_helper_+3A_...">...</code></td>
<td>
<p>Other arguments to <code>rdrobust</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>rdrobust model fit object
</p>

<hr>
<h2 id='rdss'>rdss package</h2><span id='topic+rdss-package'></span><span id='topic+rdss'></span>

<h3>Description</h3>

<p>Companion datasets and functions for the book &quot;Research Design in the Social Sciences: Declaration, Diagnosis, and Redesign&quot; (book.declaredesign.org)
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Graeme Blair <a href="mailto:graeme.blair@gmail.com">graeme.blair@gmail.com</a> (<a href="https://orcid.org/0000-0001-9164-2102">ORCID</a>)
</p>
<p>Authors:
</p>

<ul>
<li><p> Alexander Coppock <a href="mailto:acoppock@gmail.com">acoppock@gmail.com</a> (<a href="https://orcid.org/0000-0002-5733-2386">ORCID</a>)
</p>
</li>
<li><p> Macartan Humphreys <a href="mailto:macartan@gmail.com">macartan@gmail.com</a> (<a href="https://orcid.org/0000-0001-7029-2326">ORCID</a>)
</p>
</li></ul>


<hr>
<h2 id='reexports'>Objects exported from other packages</h2><span id='topic+reexports'></span><span id='topic+tidy'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>generics</dt><dd><p><code><a href="generics.html#topic+tidy">tidy</a></code></p>
</dd>
</dl>

<hr>
<h2 id='rma_helper'>Helper function for rma function in metafor package</h2><span id='topic+rma_helper'></span>

<h3>Description</h3>

<p>See https://book.declaredesign.org/complex-designs.html#meta-analysis
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rma_helper(data, yi, sei, method = "REML", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rma_helper_+3A_data">data</code></td>
<td>
<p>a data.frame</p>
</td></tr>
<tr><td><code id="rma_helper_+3A_yi">yi</code></td>
<td>
<p>unquoted variable name of estimates used in meta-analysis</p>
</td></tr>
<tr><td><code id="rma_helper_+3A_sei">sei</code></td>
<td>
<p>unquoted variable name of standard errors used in meta-analysis</p>
</td></tr>
<tr><td><code id="rma_helper_+3A_method">method</code></td>
<td>
<p>character string to specify whether a fixed- or a random/mixed-effects model should be fitted. A fixed-effects model (with or without moderators) is fitted when using method = &quot;FE&quot;. Random/mixed-effects models are fitted by setting method equal to one of the following: &quot;DL&quot;, &quot;HE&quot;, &quot;SJ&quot;, &quot;ML&quot;, &quot;REML&quot;, &quot;EB&quot;, &quot;HS&quot;, &quot;HSk&quot;, or &quot;GENQ&quot;. Default is &quot;REML&quot;.</p>
</td></tr>
<tr><td><code id="rma_helper_+3A_...">...</code></td>
<td>
<p>Further options to be passed to rma</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See ?rma for further details
</p>


<h3>Value</h3>

<p>a data.frame of estimates
</p>

<hr>
<h2 id='rma_mu_tau'>Extract mu and tau parameters from rma model fit</h2><span id='topic+rma_mu_tau'></span>

<h3>Description</h3>

<p>See https://book.declaredesign.org/complex-designs.html#meta-analysis
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rma_mu_tau(fit)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rma_mu_tau_+3A_fit">fit</code></td>
<td>
<p>Fit object from the rma function in the metafor package</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data.frame of estimates
</p>

<hr>
<h2 id='theme_dd'>ggplot Theme used in the book &quot;Research Design: Declare, Diagnose, Redesign&quot; (Blair, Coppock, Humphreys)</h2><span id='topic+theme_dd'></span>

<h3>Description</h3>

<p>ggplot Theme used in the book &quot;Research Design: Declare, Diagnose, Redesign&quot; (Blair, Coppock, Humphreys)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>theme_dd()
</code></pre>


<h3>Value</h3>

<p>ggplot theme
</p>

<hr>
<h2 id='tidy_stan'>Tidy results from a stanreg regresion and exponentiate the estimated coefficient</h2><span id='topic+tidy_stan'></span>

<h3>Description</h3>

<p>Note no standard errors or other summary statistics are provided
</p>
<p>Note no standard errors or other summary statistics are provided
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tidy_stan(x, conf.int = FALSE, conf.level = 0.95, exponentiate = FALSE, ...)

tidy_stan(x, conf.int = FALSE, conf.level = 0.95, exponentiate = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tidy_stan_+3A_x">x</code></td>
<td>
<p>A stanreg fit from stan_glm</p>
</td></tr>
<tr><td><code id="tidy_stan_+3A_conf.int">conf.int</code></td>
<td>
<p>Logical indicating whether or not to include a confidence interval in the tidied output. Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="tidy_stan_+3A_conf.level">conf.level</code></td>
<td>
<p>The confidence level to use for the confidence interval if conf.int = TRUE. Must be strictly greater than 0 and less than 1. Defaults to 0.95, which corresponds to a 95 percent confidence interval.</p>
</td></tr>
<tr><td><code id="tidy_stan_+3A_exponentiate">exponentiate</code></td>
<td>
<p>Logical indicating whether or not to exponentiate the the coefficient estimates. Defaults to FALSE. Note that standard errors are not included when <code>exponentiate = TRUE</code>.</p>
</td></tr>
<tr><td><code id="tidy_stan_+3A_...">...</code></td>
<td>
<p>Other arguments to broom.mixed::tidy</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See https://book.declaredesign.org/choosing-an-answer-strategy.html#bayesian-formalizations
</p>
<p>See https://book.declaredesign.org/choosing-an-answer-strategy.html#bayesian-formalizations
</p>


<h3>Value</h3>

<p>data.frame of results
</p>
<p>data.frame of results
</p>

<hr>
<h2 id='tidy.amce'>Tidy estimates from the amce estimator</h2><span id='topic+tidy.amce'></span>

<h3>Description</h3>

<p>Runs amce estimation function and returns tidy data frame output
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'amce'
tidy(x, alpha = 0.05, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tidy.amce_+3A_x">x</code></td>
<td>
<p>an amce fit object from cjoint::amce</p>
</td></tr>
<tr><td><code id="tidy.amce_+3A_alpha">alpha</code></td>
<td>
<p>Confidence level</p>
</td></tr>
<tr><td><code id="tidy.amce_+3A_...">...</code></td>
<td>
<p>Extra arguments to pass to tidy</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See https://book.declaredesign.org/experimental-descriptive.html#conjoint-experiments
</p>


<h3>Value</h3>

<p>a data.frame of estimates
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

library(cjoint)

data(immigrationconjoint)
data(immigrationdesign)

# Run AMCE estimator using all attributes in the design
results &lt;- amce(Chosen_Immigrant ~  Gender + Education + `Language Skills` +
                  `Country of Origin` + Job + `Job Experience` + `Job Plans` +
                  `Reason for Application` + `Prior Entry`, data = immigrationconjoint,
                cluster = TRUE, respondent.id = "CaseID", design = immigrationdesign)

# Print summary
# tidy(results)


</code></pre>

<hr>
<h2 id='tidy.rdrobust'>Tidy helper function for rdrobust function</h2><span id='topic+tidy.rdrobust'></span>

<h3>Description</h3>

<p>Runs rdrobust estimation function and returns tidy data frame output
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'rdrobust'
tidy(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tidy.rdrobust_+3A_x">x</code></td>
<td>
<p>Model fit object from rdrobust</p>
</td></tr>
<tr><td><code id="tidy.rdrobust_+3A_...">...</code></td>
<td>
<p>Other arguments (not used)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See https://book.declaredesign.org/observational-causal.html#regression-discontinuity-designs
</p>


<h3>Value</h3>

<p>a data.frame of estimates
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

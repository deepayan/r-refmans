<!DOCTYPE html><html><head><title>Help for package sense</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {sense}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#sense'><p>sense</p></a></li>
<li><a href='#benchmark'><p>benchmark data set</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Automatic Stacked Ensemble for Regression Tasks</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1.0</td>
</tr>
<tr>
<td>Author:</td>
<td>Giancarlo Vercellino</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Giancarlo Vercellino &lt;giancarlo.vercellino@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Stacked ensemble for regression tasks based on 'mlr3' framework with a pipeline for preprocessing numeric and factor features and hyper-parameter tuning using grid or random search.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.1)</td>
</tr>
<tr>
<td>Imports:</td>
<td>mlr3 (&ge; 0.12.0), mlr3learners (&ge; 0.5.0), mlr3filters (&ge;
0.4.2), mlr3pipelines (&ge; 0.3.5-1), mlr3viz (&ge; 0.5.5), paradox
(&ge; 1.0.0), mlr3tuning (&ge; 0.8.0), bbotk (&ge; 0.3.2), tictoc (&ge;
1.0.1), forcats (&ge; 0.5.1), readr (&ge; 2.0.1), lubridate (&ge;
1.7.10), purrr (&ge; 0.3.4), Metrics (&ge; 0.1.4), data.table (&ge;
1.14.0), visNetwork (&ge; 2.0.9)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>xgboost (&ge; 1.4.1.1), rpart (&ge; 4.1-15), ranger (&ge; 0.13.1),
kknn (&ge; 1.3.1), glmnet (&ge; 4.1-2), e1071 (&ge; 1.7-8), mlr3misc
(&ge; 0.9.3), FSelectorRcpp (&ge; 0.3.8), care (&ge; 1.1.10), praznik
(&ge; 8.0.0), lme4 (&ge; 1.1-27.1), nloptr (&ge; 1.2.2.2)</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://mlr3.mlr-org.com/">https://mlr3.mlr-org.com/</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-06-19 03:51:07 UTC; gianc</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-06-19 10:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='sense'>sense</h2><span id='topic+sense'></span><span id='topic+sense-package'></span>

<h3>Description</h3>

<p>Stacked ensamble for regression tasks based on 'mlr3' framework.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sense(
  df,
  target_feat,
  benchmarking = "all",
  super = "avg",
  algos = c("glmnet", "ranger", "xgboost", "rpart", "kknn", "svm"),
  sampling_rate = 1,
  metric = "mae",
  collapse_char_to = 10,
  num_preproc = "scale",
  fct_preproc = "one-hot",
  impute_num = "sample",
  missing_fusion = FALSE,
  inner = "holdout",
  outer = "holdout",
  folds = 3,
  repeats = 3,
  ratio = 0.5,
  selected_filter = "information_gain",
  selected_n_feats = NULL,
  tuning = "random_search",
  budget = 30,
  resolution = 5,
  n_evals = 30,
  minute_time = 10,
  patience = 0.3,
  min_improve = 0.01,
  java_mem = 64,
  decimals = 2,
  seed = 42
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sense_+3A_df">df</code></td>
<td>
<p>A data frame with features and target.</p>
</td></tr>
<tr><td><code id="sense_+3A_target_feat">target_feat</code></td>
<td>
<p>String. Name of the numeric feature for the regression task.</p>
</td></tr>
<tr><td><code id="sense_+3A_benchmarking">benchmarking</code></td>
<td>
<p>Positive integer. Number of base learners to stack. Default: &quot;all&quot;.</p>
</td></tr>
<tr><td><code id="sense_+3A_super">super</code></td>
<td>
<p>String. Super learner of choice among the available learners. Default: &quot;avg&quot;.</p>
</td></tr>
<tr><td><code id="sense_+3A_algos">algos</code></td>
<td>
<p>String vector. Available learners are: &quot;glmnet&quot;, &quot;ranger&quot;, &quot;xgboost&quot;, &quot;rpart&quot;, &quot;kknn&quot;, &quot;svm&quot;.</p>
</td></tr>
<tr><td><code id="sense_+3A_sampling_rate">sampling_rate</code></td>
<td>
<p>Positive numeric. Sampling rate before applying the stacked ensemble. Default: 1.</p>
</td></tr>
<tr><td><code id="sense_+3A_metric">metric</code></td>
<td>
<p>String. Evaluation metric for outer and inner cross-validation. Default: &quot;mae&quot;.</p>
</td></tr>
<tr><td><code id="sense_+3A_collapse_char_to">collapse_char_to</code></td>
<td>
<p>Positive integer. Conversion of characters to  factors with predefined maximum number of levels. Default: 10.</p>
</td></tr>
<tr><td><code id="sense_+3A_num_preproc">num_preproc</code></td>
<td>
<p>String. Options for scalar pre-processing: &quot;scale&quot; or &quot;range&quot;. Default: &quot;scale&quot;.</p>
</td></tr>
<tr><td><code id="sense_+3A_fct_preproc">fct_preproc</code></td>
<td>
<p>String. Options for factor pre-processing: &quot;encodeimpact&quot;, &quot;encodelmer&quot;, &quot;one-hot&quot;, &quot;treatment&quot;, &quot;poly&quot;, &quot;sum&quot;, &quot;helmert&quot;. Default: &quot;one-hot&quot;.</p>
</td></tr>
<tr><td><code id="sense_+3A_impute_num">impute_num</code></td>
<td>
<p>String. Options for missing imputation in case of numeric: &quot;sample&quot; or &quot;hist&quot;. Default: &quot;sample&quot;. For factor the default mode is Out-Of-Range.</p>
</td></tr>
<tr><td><code id="sense_+3A_missing_fusion">missing_fusion</code></td>
<td>
<p>String. Adding missing indicator features. Default: &quot;FALSE&quot;.</p>
</td></tr>
<tr><td><code id="sense_+3A_inner">inner</code></td>
<td>
<p>String. Cross-validation inner cycle: &quot;holdout&quot;, &quot;cv&quot;, &quot;repeated_cv&quot;, &quot;subsampling&quot;. Default: &quot;holdout&quot;.</p>
</td></tr>
<tr><td><code id="sense_+3A_outer">outer</code></td>
<td>
<p>String. Cross-validation outer cycle: &quot;holdout&quot;, &quot;cv&quot;, &quot;repeated_cv&quot;, &quot;subsampling&quot;. Default: &quot;holdout&quot;.</p>
</td></tr>
<tr><td><code id="sense_+3A_folds">folds</code></td>
<td>
<p>Positive integer. Number of repetitions used in &quot;cv&quot; and &quot;repeated_cv&quot;. Default: 3.</p>
</td></tr>
<tr><td><code id="sense_+3A_repeats">repeats</code></td>
<td>
<p>Positive integer. Number of repetitions used in &quot;subsampling&quot; and &quot;repeated_cv&quot;. Default: 3.</p>
</td></tr>
<tr><td><code id="sense_+3A_ratio">ratio</code></td>
<td>
<p>Positive numeric. Percentage value for &quot;holdout&quot; and &quot;subsampling&quot;. Default: 0.5.</p>
</td></tr>
<tr><td><code id="sense_+3A_selected_filter">selected_filter</code></td>
<td>
<p>String. Filters available for regression tasks: &quot;carscore&quot;, &quot;cmim&quot;, &quot;correlation&quot;, &quot;find_correlation&quot;, &quot;information_gain&quot;, &quot;relief&quot;, &quot;variance&quot;. Default: &quot;information_gain&quot;.</p>
</td></tr>
<tr><td><code id="sense_+3A_selected_n_feats">selected_n_feats</code></td>
<td>
<p>Positive integer. Number of features to select through the chosen filter. Default: NULL.</p>
</td></tr>
<tr><td><code id="sense_+3A_tuning">tuning</code></td>
<td>
<p>String. Available options are &quot;random_search&quot; and &quot;grid_search&quot;. Default: &quot;random_search&quot;.</p>
</td></tr>
<tr><td><code id="sense_+3A_budget">budget</code></td>
<td>
<p>Positive integer. Maximum number of trials during random search. Default: 30.</p>
</td></tr>
<tr><td><code id="sense_+3A_resolution">resolution</code></td>
<td>
<p>Positive integer. Grid resolution for each hyper-parameter. Default: 5.</p>
</td></tr>
<tr><td><code id="sense_+3A_n_evals">n_evals</code></td>
<td>
<p>Positive integer. Number of evaluation for termination. Default: 30.</p>
</td></tr>
<tr><td><code id="sense_+3A_minute_time">minute_time</code></td>
<td>
<p>Positive integer. Maximum run time before termination. Default: 10.</p>
</td></tr>
<tr><td><code id="sense_+3A_patience">patience</code></td>
<td>
<p>Positive numeric. Percentage of stagnating evaluations before termination. Default: 0.3.</p>
</td></tr>
<tr><td><code id="sense_+3A_min_improve">min_improve</code></td>
<td>
<p>Positive numeric. Minimum error improvement required before termination. Default: 0.01.</p>
</td></tr>
<tr><td><code id="sense_+3A_java_mem">java_mem</code></td>
<td>
<p>Positive integer. Memory allocated to Java. Default: 64.</p>
</td></tr>
<tr><td><code id="sense_+3A_decimals">decimals</code></td>
<td>
<p>Positive integer. Decimal format of prediction. Default: 2.</p>
</td></tr>
<tr><td><code id="sense_+3A_seed">seed</code></td>
<td>
<p>Positive integer. Default: 42.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>This function returns a list including:
</p>

<ul>
<li><p> benchmark_error: comparison between the base learners
</p>
</li>
<li><p> resampled_model: mlr3 standard description of the analytic pipeline.
</p>
</li>
<li><p> plot: mlr3 standard graph of the analytic pipeline.
</p>
</li>
<li><p> selected_n_feats: selected features and score according to the filtering method used.
</p>
</li>
<li><p> model_error: error measure for outer cycle of cross-validation.
</p>
</li>
<li><p> testing_frame: data set used for calculating the test metrics.
</p>
</li>
<li><p> test_metrics: metrics reported are mse, rmse, mae, mape, mdae, rae, rse, rrse, smape.
</p>
</li>
<li><p> model_predict: prediction function to apply to new data on the same scheme.
</p>
</li>
<li><p> time_log: computation time.
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Giancarlo Vercellino <a href="mailto:giancarlo.vercellino@gmail.com">giancarlo.vercellino@gmail.com</a>
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://mlr3.mlr-org.com/">https://mlr3.mlr-org.com/</a>
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
sense(benchmark, "y", algos = c("glmnet", "rpart"))


## End(Not run)

</code></pre>

<hr>
<h2 id='benchmark'>benchmark data set</h2><span id='topic+benchmark'></span>

<h3>Description</h3>

<p>A data frame for regression task generated with mlbench friedman1.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>benchmark
</code></pre>


<h3>Format</h3>

<p>A data frame with 11 columns and 150 rows.
</p>


<h3>Source</h3>

<p>mlbench, friedman1
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package sitreeE</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {sitreeE}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#AM2016ClimateSensitiveSINorway'>
<p>Climate-sensitive site index models for Norway</p></a></li>
<li><a href='#biomass.birch.M1988'>
<p>Marklund's biomass equations</p></a></li>
<li><a href='#biomass.birch.S2014'>
<p>Implements biomass functions for birch for Norway from Smith et al (2014, 2016)</p></a></li>
<li><a href='#biomass.norway.sitree'>
<p>Calculates biomass for trees using the Norwegian biomass equations</p></a></li>
<li><a href='#biomass.sitree'>
<p>Biomass for live, dead, or removed trees using Norwegian biomass functions</p></a></li>
<li><a href='#height.of.X.tallest.trees'>
<p>Mean height of X tallest trees</p></a></li>
<li><a href='#lorey.height'>
<p>Lorey's height</p></a></li>
<li><a href='#PBAL'>
<p>Basal area of larger trees</p></a></li>
<li><a href='#PBAL.dbh.greater'>
<p>Basal area of larger trees which are at least X cm larger than the tree</p>
of interest</a></li>
<li><a href='#PlotDataToLong'>
<p>Convert Plot data to a data.frame/data.table format</p></a></li>
<li><a href='#top.height'>
<p>Top height of the n thickest trees</p></a></li>
<li><a href='#tree.age'>
<p>EStimation of individual tree age</p></a></li>
<li><a href='#volume.sitree'>
<p>Volume for sitree output for Norwegian conditions</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Version:</td>
<td>0.0-8</td>
</tr>
<tr>
<td>Date:</td>
<td>2021-11-22</td>
</tr>
<tr>
<td>Title:</td>
<td>Sitree Extensions</td>
</tr>
<tr>
<td>Author:</td>
<td>Clara Anton Fernandez [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Clara Anton Fernandez &lt;caf@nibio.no&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.1.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>data.table, sitree</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides extensions for package 'sitree' for allometric variables, growth, mortality, recruitment, management, tree removal and external modifiers functions.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-11-23 09:46:22 UTC; clara</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-11-23 19:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='AM2016ClimateSensitiveSINorway'>
Climate-sensitive site index models for Norway
</h2><span id='topic+AM2016ClimateSensitiveSINorway'></span>

<h3>Description</h3>

<p>Implementation of models for climate-sensitive site index models for
Norway as described in Antón-Fernández et al. (2016).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>AM2016ClimateSensitiveSINorway(soilquality, t.early.summer, waterbal, SI.spp)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="AM2016ClimateSensitiveSINorway_+3A_soilquality">soilquality</code></td>
<td>

<p>A factor with levels 1 to 5 indicating the soilquality category. 1
being the poorest soils and 5 the best soils
</p>
</td></tr>
<tr><td><code id="AM2016ClimateSensitiveSINorway_+3A_t.early.summer">t.early.summer</code></td>
<td>

<p>A vector with sum temperatures (in C) in spring and  early summer (april, june and july)
</p>
</td></tr>
<tr><td><code id="AM2016ClimateSensitiveSINorway_+3A_waterbal">waterbal</code></td>
<td>

<p>A vector with the montly moisture surplus in June (difference between
the 30-year mean precipitation in June and mean potential evapotranspiration in June.). 
</p>
</td></tr>
<tr><td><code id="AM2016ClimateSensitiveSINorway_+3A_si.spp">SI.spp</code></td>
<td>

<p>SI species, that is, the species for which SI should be calculated. 1 = spruce, 2 = pine, 3 = birch.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a vector with the estimated SI. 
</p>


<h3>Author(s)</h3>

<p>Clara Anton-Fernandez
</p>


<h3>References</h3>

<p>Anton-Fernandez, Clara, Blas Mola-Yudego, Lise Dalsgaard, and Rasmus
Astrup. 2016. “Climate-Sensitive Site Index Models for Norway.” Canadian
Journal of Forest Research 46 (6). doi: 10.1139/cjfr-2015-0155
</p>


<h3>Examples</h3>

<pre><code class='language-R'>AM2016ClimateSensitiveSINorway (soilquality = as.factor(c(1,2,3,4)),
                                t.early.summer = c(10,20,30,10),
                                waterbal = c(-40, 20,10,10),
                                SI.spp = c(1,2,2,3))
  
</code></pre>

<hr>
<h2 id='biomass.birch.M1988'>
Marklund's biomass equations
</h2><span id='topic+biomass.birch.M1988'></span><span id='topic+biomass.pine.M1988'></span><span id='topic+biomass.spruce.M1988'></span>

<h3>Description</h3>

<p>Implements Marklund's (1988) biomass equations for above-ground biomass and Petersson and Ståhl (2006) for below-ground biomass.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>biomass.spruce.M1988(dbh.cm, H.m)
biomass.pine.M1988(dbh.cm, H.m)
biomass.birch.M1988(dbh.cm, H.m)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="biomass.birch.M1988_+3A_dbh.cm">dbh.cm</code></td>
<td>

<p>A vector with the dbh (diameter at breast height) of the trees, in cm.
</p>
</td></tr>
<tr><td><code id="biomass.birch.M1988_+3A_h.m">H.m</code></td>
<td>

<p>A vector with the heights of the trees, in meters.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>It returns a data.frame with the following biomass components in kg: living.branches, dead.branches, stem.wood, stump.roots, bark, usoil, rot1, rot2, and foliage.
</p>


<h3>Author(s)</h3>

<p>Clara Anton Fernandez <a href="mailto:caf@nibio.no">caf@nibio.no</a>
</p>


<h3>References</h3>

<p>Marklund, L. G. 1988. “Biomassafunktioner för tall, gran och björk i Sverige [Biomass functions for pine, spruce and birch in Sweden].” Report 45. Umeå, Sweden: Swedish University of Agricultural Sciences. Department of Forest Survey.
Petersson, Hans, and Göran Ståhl. 2006. “Functions for Below-Ground Biomass of Pinus Sylvestris, Picea Abies, Betula Pendula and Betula Pubescens in Sweden.” Scandinavian Journal of Forest Research 21 (S7): 84–93. 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>biomass.spruce.M1988(dbh.cm = c(10, 20), H.m = c(8, 12))

</code></pre>

<hr>
<h2 id='biomass.birch.S2014'>
Implements biomass functions for birch for Norway from Smith et al (2014, 2016)
</h2><span id='topic+biomass.birch.S2014'></span>

<h3>Description</h3>

<p>Implements biomass functions for birch for Norway from Smith et al (2014, 2016). Total biomass aboveground does include stump calculated using biomass.birch.M1988. Total biomass belowground does not include stump.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>biomass.birch.S2014(dbh.cm, H.m)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="biomass.birch.S2014_+3A_dbh.cm">dbh.cm</code></td>
<td>

<p>dbh (diameter at breast height) in cm.
</p>
</td></tr>
<tr><td><code id="biomass.birch.S2014_+3A_h.m">H.m</code></td>
<td>

<p>Tree height in meters.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It uses stump.roots from biomass.birch.M1988 to calculate aboveground biomass (in kg) and belowground biomass (in kg). 
Aboveground biomass is calculated as Smith's aboveground biomass (2014) + stump.roots. 
Belowground biomass is calcualted as Smith's belowground biomass (2016) - stump.roots.
</p>


<h3>Value</h3>

<p>Returns a data.frame with the following biomass components: biomass.total.kg, biomass.aboveground.kg.S2014, biomass.belowground.kg.S2014, biomass.belowground.kg,  biomass.aboveground.kg, living.branches, dead.branches, stem.wood, stump.roots, bark, usoil, rot1, rot2, foliage)
</p>


<h3>Author(s)</h3>

<p>Clara Anton Fernandez (caf@nibio.no)
</p>


<h3>References</h3>

<p>Smith, Aaron, Aksel Granhus, and Rasmus Astrup. 2016. “Functions for Estimating Belowground and Whole Tree Biomass of Birch in Norway.” Scandinavian Journal of Forest Research 31 (6): 568–82. https://doi.org/10.1080/02827581.2016.1141232
Smith, Aaron, Aksel Granhus, Rasmus Astrup, Ole Martin Bollandsås, and Hans Petersson. 2014. “Functions for Estimating Aboveground Biomass of Birch in Norway.” Scandinavian Journal of Forest Research 29 (6): 565–78. http://dx.doi.org/10.1080/02827581.2014.951389
</p>


<h3>See Also</h3>

<p><code><a href="#topic+biomass.birch.M1988">biomass.birch.M1988</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>biomass.birch.S2014(dbh.cm = c(10, 20), H.m = c(12, 16))
</code></pre>

<hr>
<h2 id='biomass.norway.sitree'>
Calculates biomass for trees using the Norwegian biomass equations
</h2><span id='topic+biomass.norway.sitree'></span>

<h3>Description</h3>

<p>Calculates biomass for trees using the Norwegian biomass equations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>biomass.norway.sitree(dbh.mm, height.dm, tree.sp)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="biomass.norway.sitree_+3A_dbh.mm">dbh.mm</code></td>
<td>

<p>Diameter at breast height in mm.
</p>
</td></tr>
<tr><td><code id="biomass.norway.sitree_+3A_height.dm">height.dm</code></td>
<td>

<p>Tree height in dm.
</p>
</td></tr>
<tr><td><code id="biomass.norway.sitree_+3A_tree.sp">tree.sp</code></td>
<td>

<p>Tree species according to the Norwegian NFI. It will use
<code><a href="#topic+biomass.spruce.M1988">biomass.spruce.M1988</a></code> when tree.sp is 1, 2, 3, 21, or 29,
<code><a href="#topic+biomass.pine.M1988">biomass.pine.M1988</a></code> when tree.sp is 10, 11, or 20, and  <code><a href="#topic+biomass.birch.S2014">biomass.birch.S2014</a></code> otherwise.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a data.table containing the 12 columns resulting from applying
the biomass functions.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+biomass.birch.S2014">biomass.birch.S2014</a></code>, <code><a href="#topic+biomass.pine.M1988">biomass.pine.M1988</a></code>, <code><a href="#topic+biomass.spruce.M1988">biomass.spruce.M1988</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>bio.nor &lt;- biomass.norway.sitree (dbh.mm = c(50, 60, 100 ), height.dm = c(40, 60,
                                 80),
                       tree.sp = c(1, 10, 30))
				
</code></pre>

<hr>
<h2 id='biomass.sitree'>
Biomass for live, dead, or removed trees using Norwegian biomass functions
</h2><span id='topic+biomass.sitree'></span>

<h3>Description</h3>

<p>Calculates biomass for trees using the Norwegian biomass equations. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>biomass.sitree(tr, plot.data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="biomass.sitree_+3A_tr">tr</code></td>
<td>

<p>A trList or trListDead object.
</p>
</td></tr>
<tr><td><code id="biomass.sitree_+3A_plot.data">plot.data</code></td>
<td>

<p>A data.frame or list with plot information. It should have at least 
plot.id and tree2ha.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a data.table containing the 12 columns resulting from applying
the biomass functions.
</p>


<h3>Author(s)</h3>

<p>Clara Anton Fernandez <a href="mailto:caf@nibio.no">caf@nibio.no</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+biomass.birch.S2014">biomass.birch.S2014</a></code>, <code><a href="#topic+biomass.birch.M1988">biomass.birch.M1988</a></code>,
<code><a href="#topic+biomass.pine.M1988">biomass.pine.M1988</a></code>, <code><a href="#topic+biomass.spruce.M1988">biomass.spruce.M1988</a></code>, <code><a href="#topic+biomass.norway.sitree">biomass.norway.sitree</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(sitree)
 result.sitree &lt;- sitree (tree.df   = stand.west.tr,
                            stand.df  = stand.west.st,
                            functions = list(
                              fn.growth     = 'grow.dbhinc.hgtinc',
                              fn.mort       = 'mort.B2007',
                              fn.recr       = 'recr.BBG2008',
                              fn.management = NULL,
                              fn.tree.removal = NULL,
                              fn.modif      = NULL, 
                              fn.prep.common.vars = 'prep.common.vars.fun'
                            ),
                            n.periods = 20,
                            period.length = 5,
                            mng.options = NA,
                            print.comments = FALSE,
                            fn.dbh.inc = "dbhi.BN2009",
                            fn.hgt.inc =  "height.korf"
                          )

biom &lt;- biomass.sitree(tr = result.sitree$live, plot.data = result.sitree$plot.data)

</code></pre>

<hr>
<h2 id='height.of.X.tallest.trees'>
Mean height of X tallest trees
</h2><span id='topic+height.of.X.tallest.trees'></span>

<h3>Description</h3>

<p>It calculates the mean height of the X tallest trees by grouping
variable (e.g. the plot ID)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>height.of.X.tallest.trees(height, uplotID, num.trees)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="height.of.X.tallest.trees_+3A_height">height</code></td>
<td>

<p>A vector with heights
</p>
</td></tr>
<tr><td><code id="height.of.X.tallest.trees_+3A_uplotid">uplotID</code></td>
<td>

<p>A vector with the grouping variable, most often this would be the plot ID.
</p>
</td></tr>
<tr><td><code id="height.of.X.tallest.trees_+3A_num.trees">num.trees</code></td>
<td>

<p>Number of trees used to calculate the mean height. 
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>It returns a data.frame with two columns containing the uplotID and the
mean height of the X tallest trees.
</p>


<h3>Note</h3>

<p>This function can be used to calculate the average of the X largest
values of any variable grouped by a grouping variable. It is mostly a
wrapper for <code>aggregate</code>.
</p>


<h3>Author(s)</h3>

<p>Clara Antón Fernández (caf@nibio.no)
</p>


<h3>See Also</h3>

<p><code><a href="#topic+lorey.height">lorey.height</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(sitree)
height.of.X.tallest.trees(height = tr$height,
                               uplotID = tr$plot.id, 5)
                               
</code></pre>

<hr>
<h2 id='lorey.height'>
Lorey's height
</h2><span id='topic+lorey.height'></span>

<h3>Description</h3>

<p>Calculates Lorey's height (mean height weigted by basal area). If
group.id is not NULL, it will calculate Lorey's height for each group. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lorey.height(BA, height, group.id = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lorey.height_+3A_ba">BA</code></td>
<td>

<p>A vector with the basal areas of the trees
</p>
</td></tr>
<tr><td><code id="lorey.height_+3A_height">height</code></td>
<td>

<p>A vector with the height of the trees
</p>
</td></tr>
<tr><td><code id="lorey.height_+3A_group.id">group.id</code></td>
<td>

<p>An optional  vector with a grouping variable.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If a grouping variable is provided it returns a data frame with two
columns (group.id, and lorey.height). If a grouping variable is not
provided it will return the Lorey's height. 
</p>


<h3>Author(s)</h3>

<p>Clara Anton Fernandez (caf@nibio.no)
</p>


<h3>See Also</h3>

<p><code><a href="#topic+height.of.X.tallest.trees">height.of.X.tallest.trees</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(sitree)
BA &lt;- pi*(tr$dbh/2)^2
lorey.height(BA, tr$height)
lorey.height(BA, tr$height, tr$plot.id)
</code></pre>

<hr>
<h2 id='PBAL'>
Basal area of larger trees
</h2><span id='topic+PBAL'></span>

<h3>Description</h3>

<p>It calculates the basal area of larger trees for a plot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>PBAL(BA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="PBAL_+3A_ba">BA</code></td>
<td>

<p>A vector of tree's basal area.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>It returns a vector with the sum of the basal areas of larger
trees. Trees with similar BA are not considered larger.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>PBAL(c(1,2,3,4,4))
</code></pre>

<hr>
<h2 id='PBAL.dbh.greater'>
Basal area of larger trees which are at least X cm larger than the tree
of interest 
</h2><span id='topic+PBAL.dbh.greater'></span>

<h3>Description</h3>

<p>Calculates the basal area (in cm2 if dbh is in mm) of trees that are at
least X (in the same units as dbh) larger than the tree of interest for a list of trees.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>PBAL.dbh.greater(dbh.mm, dbh.mm.diff)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="PBAL.dbh.greater_+3A_dbh.mm">dbh.mm</code></td>
<td>

<p>a vector of dbh in mm
</p>
</td></tr>
<tr><td><code id="PBAL.dbh.greater_+3A_dbh.mm.diff">dbh.mm.diff</code></td>
<td>

<p>minimum dbh difference between the tree and the tree of interest to be considered
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It estimates the basal area (in cm2) of trees that are at least 
dbh.mm.diff mm larger than the tree of interest.
</p>


<h3>Value</h3>

<p>It returns a list with the basal area of larger trees.
</p>


<h3>Author(s)</h3>

<p>Cara Antón-Fernández (email: caf@nibio.no)
</p>


<h3>See Also</h3>

<p><code><a href="#topic+PBAL">PBAL</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(sitree)
PBAL.dbh.greater(c(100,89,51,74,4), 3)

aggregate(dbh ~ plot.id, data = tr, FUN = PBAL.dbh.greater, dbh.mm.diff = 2)

</code></pre>

<hr>
<h2 id='PlotDataToLong'>
Convert Plot data to a data.frame/data.table format
</h2><span id='topic+PlotDataToLong'></span>

<h3>Description</h3>

<p>It attemps to convert the plot level information to a data.frame/data.list format. For example, if management is an element of the plot list (pd) it will melt it to a long format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>PlotDataToLong(pd)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="PlotDataToLong_+3A_pd">pd</code></td>
<td>

<p>A list with plot information. It especifically looks for two elements 'stand.age.years' and 'management'.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>It returns a data.table with all vector from pd as columns, and dataframes melted.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(sitree)

result.sitree &lt;- sitree (tree.df   = tr,stand.df  = fl,
                         functions = list(fn.growth     ='grow.dbhinc.hgtinc',
                                          fn.mort       ='mort.B2007',
                                          fn.recr       ='recr.BBG2008',
                                          fn.management ='management.prob',
                                          fn.tree.removal ='mng.tree.removal',
                                          fn.modif      = NULL,
                                          fn.prep.common.vars ='prep.common.vars.fun'),
                         n.periods = 5,
                         period.length = 5,mng.options = NA,
                         print.comments = FALSE,
                         fn.dbh.inc = "dbhi.BN2009",
                         fn.hgt.inc =  "height.korf",
                         species.spruce = c(1, 2, 3),
                         species.pine = c(10, 11, 20, 21, 29),species.harw = c(30, 31),
                         fun.final.felling = "harv.prob",
                         fun.thinning      = "thin.prob",per.vol.harv = 0.83)

PlotDataToLong(result.sitree$plot.data)

</code></pre>

<hr>
<h2 id='top.height'>
Top height of the n thickest trees
</h2><span id='topic+top.height'></span>

<h3>Description</h3>

<p>Average height of the n thickest trees per ha
</p>


<h3>Usage</h3>

<pre><code class='language-R'>top.height(thickness, height, num.trees.per.ha, plot.id, plot.size.m2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="top.height_+3A_thickness">thickness</code></td>
<td>

<p>A vector with the thickness for every tree. Other variables can be used instead to thickness. This is only used to order the trees.
</p>
</td></tr>
<tr><td><code id="top.height_+3A_height">height</code></td>
<td>

<p>Height of the trees. 
</p>
</td></tr>
<tr><td><code id="top.height_+3A_num.trees.per.ha">num.trees.per.ha</code></td>
<td>

<p>Number of trees per ha that the top height should correspond to. E.g. 100 trees per ha.
</p>
</td></tr>
<tr><td><code id="top.height_+3A_plot.id">plot.id</code></td>
<td>

<p>Vector with the plot.id to which every tree corresponds to.
</p>
</td></tr>
<tr><td><code id="top.height_+3A_plot.size.m2">plot.size.m2</code></td>
<td>

<p>Plot size in square meters. It can be either a single number if all plots have the same size of a vector of equal length as thickness, height, and plot.id with the corresponding plot size for each tree. 
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>thickness, height, and plot.id should have the same length, that is, one value per tree. 
</p>


<h3>Value</h3>

<p>It returns a data.frame with two columns: top.heights in the same units as height, and plot.id.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>top.height(thickness = runif(100, 10,40), height = runif(100, 12, 45), 
    num.trees.per.ha = 100, plot.id = 1, plot.size.m2 = 250)
</code></pre>

<hr>
<h2 id='tree.age'>
EStimation of individual tree age
</h2><span id='topic+tree.age'></span>

<h3>Description</h3>

<p>Estimates individual tree age of trees within a plot based on basal
area, site index, species, and development class.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tree.age(stand.age.years, plot.id, tree.BA.m2, dbh.mm,
SI.spp, SI.m, spp, dev.class, apply.correction = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tree.age_+3A_stand.age.years">stand.age.years</code></td>
<td>

<p>The age of the stand in years.
</p>
</td></tr>
<tr><td><code id="tree.age_+3A_plot.id">plot.id</code></td>
<td>

<p>The unique ID of the stand
</p>
</td></tr>
<tr><td><code id="tree.age_+3A_tree.ba.m2">tree.BA.m2</code></td>
<td>

<p>A vector with the basal areas of each tree in m2.
</p>
</td></tr>
<tr><td><code id="tree.age_+3A_dbh.mm">dbh.mm</code></td>
<td>

<p>A vector with the DBH in mm of each tree.
</p>
</td></tr>
<tr><td><code id="tree.age_+3A_si.spp">SI.spp</code></td>
<td>

<p>Species for which SI has been calculated (1, 2, 3).
</p>
</td></tr>
<tr><td><code id="tree.age_+3A_si.m">SI.m</code></td>
<td>

<p>Site index (SI) in m.
</p>
</td></tr>
<tr><td><code id="tree.age_+3A_spp">spp</code></td>
<td>

<p>Species group classification.
</p>
</td></tr>
<tr><td><code id="tree.age_+3A_dev.class">dev.class</code></td>
<td>

<p>Development class.
</p>
</td></tr>
<tr><td><code id="tree.age_+3A_apply.correction">apply.correction</code></td>
<td>

<p>TRUE/FALSE. If a correction to age should be applied 
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector with the estimated ages of trees
</p>


<h3>Author(s)</h3>

<p>Clara Anton Fernandez <a href="mailto:caf@nibio.no">caf@nibio.no</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
tree.age(stand.age.years = 40,
        plot.id = c(1,1), tree.BA.m2 = c(0.05, 0.5),dbh.mm
        = c(50,150), SI.spp = 2, 
        SI.m = 11, spp = c(1,1), dev.class = 3, apply.correction = TRUE) 

</code></pre>

<hr>
<h2 id='volume.sitree'>
Volume for sitree output for Norwegian conditions
</h2><span id='topic+volume.sitree'></span>

<h3>Description</h3>

<p>It calculates volume following the Norwegian national forest inventory
equations for a trList or trListDead object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>volume.sitree(tr, plot.data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="volume.sitree_+3A_tr">tr</code></td>
<td>

<p>a trListDead or trList object
</p>
</td></tr>
<tr><td><code id="volume.sitree_+3A_plot.data">plot.data</code></td>
<td>

<p>a list or data.frame containing at least a 'kom' and 'tree2ha'
column/element. kom is the kommune (municipality) code, and tree2ha
should be the expansion factor to go from tree to per ha basis.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It uses the volume.norway function to estimate the volume for all trees
with dbh.mm greater than 0. It returns NA when dbh.mm is 0 or lower.
tree2ha is included to facilitate the calculation of per ha values.
</p>


<h3>Value</h3>

<p>It returns a data.table with columns for treeid, plot.id, dbh.mm,
height.dm, kom, tree2ha, tree.sp, vol.w.tr.m3 (volume with bark in m3
per tree), and vol.wo.tr.m3 (volume without bark in m3 per tree)
</p>


<h3>Author(s)</h3>

<p>Clara Antón-Fernández (email: caf@nibio.no)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(sitree)
res &lt;- sitree (tree.df   = tr,
               stand.df  = fl,
               functions = list(
                 fn.growth     = 'grow.dbhinc.hgtinc',
                 fn.mort       = 'mort.B2007',
                 fn.recr       = 'recr.BBG2008',
                 fn.management = 'management.prob',
                 fn.tree.removal = 'mng.tree.removal',
                 fn.modif      = NULL, 
                 fn.prep.common.vars = 'prep.common.vars.fun'
               ),
               n.periods = 5,
               period.length = 5,
               mng.options = NA,
               print.comments = FALSE,
               fn.dbh.inc = "dbhi.BN2009",
               fn.hgt.inc =  "height.korf", 
               species.spruce = c(1, 2, 3),
               species.pine = c(10, 11, 20, 21, 29),
               species.harw = c(30, 31),
               fun.final.felling = "harv.prob",
               fun.thinning      = "thin.prob",
                  per.vol.harv = 0.83
               )
volume.sitree(tr = res$live, plot.data = res$plot.data)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

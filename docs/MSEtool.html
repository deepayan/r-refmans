<!DOCTYPE html><html><head><title>Help for package MSEtool</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {MSEtool}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#Albacore'><p>Stock class objects</p></a></li>
<li><a href='#Albacore_TwoFleet'><p>MOM class objects</p></a></li>
<li><a href='#alphaconv'><p>Calculate parameters for beta distribution from mean and standard deviation in</p>
normal space</a></li>
<li><a href='#applyMMP'><p>Apply multi Management Procedures (class MMP) to a hierarchical list of Data class objects</p></a></li>
<li><a href='#applyMP'><p>Apply Management Procedures to an object of class Data</p></a></li>
<li><a href='#ASAP2OM'><p>Convert ASAP 3 assessments into an operating model</p></a></li>
<li><a href='#Assess2MOM'><p>Reads bootstrap estimates from a stock assessment model into a multi-fleet operating model.</p></a></li>
<li><a href='#Assess2OM'><p>Reads bootstrap estimates from a stock assessment model (including VPA) into an operating model. <code>Assess2OM</code></p>
is identical to <code>VPA2OM</code>.</a></li>
<li><a href='#Atlantic_mackerel'><p>Data class objects</p></a></li>
<li><a href='#avail'><p>What objects of this class are available</p></a></li>
<li><a href='#Awatea2OM'><p>Reads MCMC estimates from Awatea (Paul Starr) processed r file structure into an operating model</p></a></li>
<li><a href='#BlankSelPlot'><p>Internal function to create a blank plot for mapping selectivity at length</p></a></li>
<li><a href='#Blow_opt'><p>Blow internal parallel optimization function</p></a></li>
<li><a href='#boxplot.Data'><p>Boxplot of TAC recommendations</p></a></li>
<li><a href='#CalcAsymptoticDist'><p>Calculates the asymptotic distribution from an initial distribution vector (V) and a markov movement matrix (M) (rows sum to 1)</p></a></li>
<li><a href='#calcMean'><p>Calculate Mean Probability</p></a></li>
<li><a href='#CalcMPDynamics'><p>Calculate population dynamics from MP recommendation</p></a></li>
<li><a href='#calcProb'><p>Calculate Probability</p></a></li>
<li><a href='#calcRefYield'><p>Calculate Reference Yield</p></a></li>
<li><a href='#CalculateQ'><p>Optimize for catchability (q)</p></a></li>
<li><a href='#CALsimp'><p>Simplifies the CAL slot of data object</p></a></li>
<li><a href='#Can'><p>Identify management procedures (MPs) based on data availability</p></a></li>
<li><a href='#char.log-class'><p>Class union for isRel slot</p></a></li>
<li><a href='#CheckDuplicate'><p>Check for duplicated MPs names</p></a></li>
<li><a href='#CheckMPs'><p>Check that specified MPs are valid and will run on MSEtool::SimulatedData</p></a></li>
<li><a href='#checkMSE'><p>Utility functions for MSE objects</p></a></li>
<li><a href='#CheckOM'><p>Check OM object is complete</p></a></li>
<li><a href='#ChkYrs'><p>Check the years to summarize performance</p></a></li>
<li><a href='#Choose'><p>Manually map parameters for the historical period of operating model</p></a></li>
<li><a href='#CombineMMP'><p>Create a blank MP recommendations object (class Rec) of the right dimensions</p></a></li>
<li><a href='#Converge'><p>Check Convergence</p></a></li>
<li><a href='#Cos_thresh_tab'><p>Current default thresholds for COSEWIC satisficing</p></a></li>
<li><a href='#cparscheck'><p>Internal function for checking that the <code>OM@cpars</code> is formatted correctly</p></a></li>
<li><a href='#Cplot'><p>Plot the median biomass and yield relative to last historical year</p></a></li>
<li><a href='#CSRA'><p>Catch at size reduction analysis</p></a></li>
<li><a href='#CSRAfunc'><p>Optimization function for CSRA</p></a></li>
<li><a href='#cv'><p>Calculate CV from vector of values</p></a></li>
<li><a href='#Data_xl'><p>Read in Data object from Excel spreadsheet</p></a></li>
<li><a href='#Data-class'><p>Class <code>'Data'</code></p></a></li>
<li><a href='#Data2csv'><p>Converts a Data object into a .csv data file</p></a></li>
<li><a href='#DataDescription'><p>DataDescription</p></a></li>
<li><a href='#DataDir'><p>Directory of the data in the installed package on your computer</p></a></li>
<li><a href='#DataInit'><p>Initialize Data Input Files</p></a></li>
<li><a href='#DataSlots'><p>DataSlots</p></a></li>
<li><a href='#DecE_Dom'><p>Fleet class objects</p></a></li>
<li><a href='#DFO_bar'><p>Department of Fisheries and Oceans stock status bar plot</p></a></li>
<li><a href='#DFO_hist'><p>Department of Fisheries and Oceans historical plot</p></a></li>
<li><a href='#DFO_plot'><p>Department of Fisheries and Oceans trade-off plot</p></a></li>
<li><a href='#DFO_plot2'><p>Department of Fisheries and Oceans default plot 2</p></a></li>
<li><a href='#DFO_proj'><p>Department of Fisheries and Oceans projection plot</p></a></li>
<li><a href='#DFO_quant'><p>Department of Fisheries and Oceans biomass quantile plot</p></a></li>
<li><a href='#DFO_report'><p>Create a standard DFO MSE report</p></a></li>
<li><a href='#DFO_spider'><p>DFO performance spider plot (top three MPs)</p></a></li>
<li><a href='#DFO_tab'><p>Create a standard DFO performance table</p></a></li>
<li><a href='#DFO_tab_formatted'><p>A formatted version of the standard DFO performance plot, color coded by thresholds</p></a></li>
<li><a href='#DLMDataDir'><p>Directory of the installed package on your computer</p></a></li>
<li><a href='#dnormal'><p>Double-normal selectivity curve</p></a></li>
<li><a href='#Dom'><p>Determine dominate MPs</p></a></li>
<li><a href='#expandHerm'><p>Expand the Herm list in SexPars to a matrix of fractions at age</p></a></li>
<li><a href='#Fease'><p>MP feasibility diagnostic</p></a></li>
<li><a href='#Fleet-class'><p>Class <code>'Fleet'</code></p></a></li>
<li><a href='#FleetDescription'><p>FleetDescription</p></a></li>
<li><a href='#FMSYref'><p>Reference management procedures</p></a></li>
<li><a href='#GenerateRandomWalk'><p>Creates a time series per simulation that has a random normal walk with sigma</p></a></li>
<li><a href='#Generic_Obs'><p>Obs class objects</p></a></li>
<li><a href='#genSizeCompWrap'><p>Wrapper for C++ function to generate length composition</p></a></li>
<li><a href='#getAFC'><p>Calculate age at first capture from length at first capture and growth</p></a></li>
<li><a href='#getBlow'><p>Blow parallel optimization function</p></a></li>
<li><a href='#getclass'><p>get object class</p></a></li>
<li><a href='#getDataList'><p>Get part of an MP specific data-list</p></a></li>
<li><a href='#getEffhist'><p>Calculate historical fishing mortality</p></a></li>
<li><a href='#getfirstlev'><p>Extract the first dimension of a hierarchical list of recommendation objects</p></a></li>
<li><a href='#getmov2'><p>Optimization function to find a movement model that matches user specified</p>
movement characteristics modified for Rcpp.</a></li>
<li><a href='#getnIVs'><p>Count independent variables for a MICE relationship at position x in a Rel list</p></a></li>
<li><a href='#getq_multi_MICE'><p>Optimize for catchability (q) and fishing dist for a MICE model</p></a></li>
<li><a href='#getsel'><p>Calculate selectivity curve</p></a></li>
<li><a href='#hconv'><p>Stock recruit parameterization</p></a></li>
<li><a href='#Hist-class'><p>Class <code>'Hist'</code></p></a></li>
<li><a href='#hist2'><p>Wrapper for histogram function</p></a></li>
<li><a href='#HistDescription'><p>HistDescription</p></a></li>
<li><a href='#HistMICE'><p>Reconstruct historical dynamics</p></a></li>
<li><a href='#hrate'><p>Derives the rate of exchange from one sex to another based on asymptotic fraction</p></a></li>
<li><a href='#Imp-class'><p>Class <code>'Imp'</code></p></a></li>
<li><a href='#ImpDescription'><p>ImpDescription</p></a></li>
<li><a href='#initialize-methods'><p>~~ Methods for Function <code>initialize</code> ~~</p></a></li>
<li><a href='#Input'><p>Function to run a set of input control methods</p></a></li>
<li><a href='#iSCAM'><p>Reads iSCAM files into a hierarchical R list object</p></a></li>
<li><a href='#iSCAM2OM'><p>Reads MPD or MCMC estimates and data from iSCAM file structure into an operating model</p></a></li>
<li><a href='#iSCAMcomps'><p>Combines all iSCAM age composition data across fleets</p></a></li>
<li><a href='#iSCAMinds'><p>Combines indices into a single index using linear modelling (** Deprecated **)</p></a></li>
<li><a href='#join_plots'><p>Plot several plots with a shared legend</p></a></li>
<li><a href='#joinData'><p>Join Data objects present in a list</p></a></li>
<li><a href='#Kplot'><p>KOBE plot: a projection by projection plot of F/FMSY and B/BMSY</p></a></li>
<li><a href='#L2A'><p>Length to age conversion</p></a></li>
<li><a href='#label.class-class'><p>Label class union for performance metric objects</p></a></li>
<li><a href='#Lag_Data'><p>Lag the time-series slots in a <code>Data</code> object by a specified number of time-steps</p></a></li>
<li><a href='#ldim'><p>Dimensions of a hierarchical list object</p></a></li>
<li><a href='#LH2OM'><p>Predict missing life-history parameters</p></a></li>
<li><a href='#LHdatabase'><p>LHdatabase</p></a></li>
<li><a href='#LinInterp'><p>Linear interpolation of a y value at level xlev based on a vector x and y</p></a></li>
<li><a href='#makeMOM'><p>Utility for making multi-OMs</p></a></li>
<li><a href='#makemov'><p>Calculates movement matrices from user inputs for fraction in each area (fracs) and probability of staying in areas (prob)</p></a></li>
<li><a href='#makemov2'><p>Calculates movement matrices from user inputs for fraction in each area (fracs) the relative fraction moving to other areas, plus a mean probability of staying in any given area.</p></a></li>
<li><a href='#makeRel'><p>MICE relationships for multi-OM</p></a></li>
<li><a href='#makeTransparent'><p>Make colors transparent</p></a></li>
<li><a href='#ML2D'><p>Depletion and F estimation from mean length of catches</p></a></li>
<li><a href='#MMSE-class'><p>Class <code>'MMSE'</code></p></a></li>
<li><a href='#MOM-class'><p>Class <code>'MOM'</code></p></a></li>
<li><a href='#movestockCPP'><p>Apply the movement model to the stock for one time-step</p></a></li>
<li><a href='#movfit_Rcpp'><p>Rcpp version of the Optimization function that returns the squared difference between user</p>
specified and calculated movement parameters.</a></li>
<li><a href='#MPCalcsNAs'><p>Fill any NAs arising from MPCalcs (hermaphroditism mode)</p></a></li>
<li><a href='#MPtype'><p>Management Procedure Type</p></a></li>
<li><a href='#MPurl'><p>Get help topic URL</p></a></li>
<li><a href='#MSE-class'><p>Class <code>'MSE'</code></p></a></li>
<li><a href='#MSEDescription'><p>MSEDescription</p></a></li>
<li><a href='#MSEextra'><p>Load more data from MSEextra package</p></a></li>
<li><a href='#MSYCalcs'><p>Internal function to calculate MSY Reference Points</p></a></li>
<li><a href='#multiData'><p>Combine data among fleets</p></a></li>
<li><a href='#multiDataS'><p>Combine data among stocks</p></a></li>
<li><a href='#multidebug'><p>A basic comparison of runMSE output (MSE) and multiMSE (MMSE)</p></a></li>
<li><a href='#NAor0'><p>Is a value NA or zero.</p></a></li>
<li><a href='#NIL'><p>Item in list: get the list values from a list of lists</p></a></li>
<li><a href='#NOAA_plot'><p>National Oceanographic and Atmospheric Administration default plot 1</p></a></li>
<li><a href='#Obs-class'><p>Class <code>'Obs'</code></p></a></li>
<li><a href='#ObsDescription'><p>ObsDescription</p></a></li>
<li><a href='#OM-class'><p>Class <code>'OM'</code></p></a></li>
<li><a href='#OMDescription'><p>OMDescription</p></a></li>
<li><a href='#OMdoc'><p>Generate OM Documentation Report</p></a></li>
<li><a href='#OMexample'><p>Copy example OM XL and OM Documentation</p></a></li>
<li><a href='#OMinit'><p>Initialize Operating Model</p></a></li>
<li><a href='#OneRep'><p>Make stochastic variables certain for only one rep</p></a></li>
<li><a href='#optCPU'><p>Determine optimal number of cpus</p></a></li>
<li><a href='#optMSY_eq'><p>Internal wrapper function to calculate MSY reference points (now using MSYCalcs)</p></a></li>
<li><a href='#optQ'><p>Optimize q for a single simulation</p></a></li>
<li><a href='#optYield'><p>Optimize yield for a single simulation</p></a></li>
<li><a href='#Overages'><p>Imp class objects</p></a></li>
<li><a href='#PerformanceMetric'><p>Performance Metrics Methods</p></a></li>
<li><a href='#plot.Data'><p>Plot Data object</p></a></li>
<li><a href='#plot.MMSE'><p>Standard plot for an object of class MMSE (multi MSE)</p></a></li>
<li><a href='#plot.MOM'><p>Standard plot for an object of class MOM</p></a></li>
<li><a href='#plot.MSE'><p>Plot MSE object</p></a></li>
<li><a href='#plot.pars'><p>Plot Operating Model Object</p></a></li>
<li><a href='#plotFun'><p>Print out plotting functions</p></a></li>
<li><a href='#plotmulti'><p>A basic SSB plot for debugging runMSE output</p></a></li>
<li><a href='#plotOFL'><p>A generic OFL plot for NOAA use</p></a></li>
<li><a href='#plotquant'><p>A fairly tidy time-series quantile plot</p></a></li>
<li><a href='#plotRel'><p>Plot a relationship between stocks</p></a></li>
<li><a href='#PMLimit'><p>Create a table of Performance Limits and Performance Objectives</p></a></li>
<li><a href='#PMobj-class'><p>An object for storing data for analysis using data-limited methods</p></a></li>
<li><a href='#popdynCPP'><p>Population dynamics model in CPP</p></a></li>
<li><a href='#popdynMICE'><p>Population dynamics for a MICE model (multiyear)</p></a></li>
<li><a href='#popdynOneMICE'><p>Population dynamics for a MICE model (single year)</p></a></li>
<li><a href='#popdynOneTScpp'><p>Aging and Mortality for one time-step</p></a></li>
<li><a href='#Pplot'><p>A projection by projection plot of F/FMSY and B/BMSY</p></a></li>
<li><a href='#Pplot2'><p>A projection by projection plot of F/FMSY, B/BMSY, B/B0, and yield</p></a></li>
<li><a href='#prob.class-class'><p>Prob class union for performance metric objects</p></a></li>
<li><a href='#PWhisker'><p>Performance Whisker Plot</p></a></li>
<li><a href='#qestMICE'><p>Internal function for optimizing catchability (q) for a MICE model</p></a></li>
<li><a href='#Range'><p>Standardize values</p></a></li>
<li><a href='#RealFease'><p>MP feasibility diagnostic using real data</p></a></li>
<li><a href='#Rec-class'><p>Class <code>'Rec'</code></p></a></li>
<li><a href='#Replace'><p>Replace an existing Stock, Fleet, Obs, or Imp object</p></a></li>
<li><a href='#replic8'><p>Enlarge (replicate) a DLM data object to create an additional dimension for</p>
simulation / sensitivity testing</a></li>
<li><a href='#Report'><p>Generate a Data Report</p></a></li>
<li><a href='#ReqData'><p>ReqData</p></a></li>
<li><a href='#Required'><p>What management procedures need what data</p></a></li>
<li><a href='#ResFromRel'><p>Returns Results of a set of MICE relationships</p></a></li>
<li><a href='#runCOSEWIC'><p>COSEWIC MSE run using the correct MPs and projected time horizon</p></a></li>
<li><a href='#runInMP'><p>Runs input control MPs on a Data object.</p></a></li>
<li><a href='#runMP'><p>Run a Management Procedure</p></a></li>
<li><a href='#sample_steepness2'><p>Sample steepness given mean and cv</p></a></li>
<li><a href='#SampleCpars'><p>Sample custom pars</p></a></li>
<li><a href='#SampleFleetPars'><p>Sample Fleet Parameters</p></a></li>
<li><a href='#SampleImpPars'><p>Sample Implementation Error Parameters</p></a></li>
<li><a href='#SampleObsPars'><p>Sample Observation Parameters</p></a></li>
<li><a href='#SampleStockPars'><p>Sample Stock parameters</p></a></li>
<li><a href='#sdconv'><p>Get parameters of lognormal distribution from mean and standard deviation in normal</p>
space</a></li>
<li><a href='#Sense'><p>Sensitivity analysis</p></a></li>
<li><a href='#setup'><p>Setup parallel processing</p></a></li>
<li><a href='#show-MSEtool'><p>Show MSEtool S4 objects</p></a></li>
<li><a href='#show,PMobj-method'><p>Show the output of a PM</p></a></li>
<li><a href='#show,Rec-method'><p>Show the output of a single MP recommendation</p></a></li>
<li><a href='#SIL'><p>Slot in list: get the slot values from a list of objects</p></a></li>
<li><a href='#simCAA'><p>Simulate Catch-at-Age Data</p></a></li>
<li><a href='#simCAL'><p>Simulate Catch-at-Length Data</p></a></li>
<li><a href='#simmov'><p>Calculates movement matrices from user inputs</p></a></li>
<li><a href='#simmov2'><p>Calculates movement matrices from user specified distribution among other areas</p></a></li>
<li><a href='#Simulate'><p>Run a Management Strategy Evaluation</p></a></li>
<li><a href='#SimulatedData'><p>SimulatedData Data</p></a></li>
<li><a href='#SimulateMOM'><p>Run a multi-fleet multi-stock Management Strategy Evaluation</p></a></li>
<li><a href='#SketchFun'><p>Manually map the historical relative fishing effort trajectory.</p></a></li>
<li><a href='#SS2Data'><p>Reads data Stock Synthesis file structure into a Data object using package r4ss</p></a></li>
<li><a href='#SS2DataMOM'><p>Reads data Stock Synthesis file structure into a nested Data object analogous with multiMSE</p></a></li>
<li><a href='#SS2MOM'><p>Import Stock Synthesis to MOM (2-sex multi-fleet) or OM (single-sex, single-fleet)</p></a></li>
<li><a href='#SSBrefplot'><p>Plot Spawning stock biomass and reference points for both historical and projected period</p></a></li>
<li><a href='#Stock-class'><p>Class <code>'Stock'</code></p></a></li>
<li><a href='#StockDescription'><p>StockDescription</p></a></li>
<li><a href='#Sub'><p>Subset MSE object by management procedure (MP) or simulation.</p></a></li>
<li><a href='#SubCpars'><p>Subset the cpars slot in an operating model</p></a></li>
<li><a href='#SubOM'><p>Subset a Stock, Fleet, Obs, or Imp object from an OM object</p></a></li>
<li><a href='#summary,Data-method'><p>Summary of Data object</p></a></li>
<li><a href='#summary,MMSE-method'><p>Summary of MMSE object</p></a></li>
<li><a href='#summary,MSE-method'><p>Summary of MSE object</p></a></li>
<li><a href='#TAC'><p>Calculate TAC recommendations for more than one MP</p></a></li>
<li><a href='#TACfilter'><p>TAC Filter</p></a></li>
<li><a href='#Taxa_Table'><p>Taxa_Table</p></a></li>
<li><a href='#TEG'><p>Tom's expand grid</p></a></li>
<li><a href='#testOM'><p>OM class objects</p></a></li>
<li><a href='#Thresh_tab'><p>Current default thresholds for DFO satisficing</p></a></li>
<li><a href='#tinyErr'><p>Remove observation, implementation, and process error</p></a></li>
<li><a href='#TradePlot'><p>Generic Trade-Plot Function</p></a></li>
<li><a href='#trlnorm'><p>Lognormal distribution</p></a></li>
<li><a href='#Turing'><p>Turing Test</p></a></li>
<li><a href='#Uses'><p>Find the Management Procedures that use a particular data slot</p></a></li>
<li><a href='#validcpars'><p>Valid custom parameters (cpars)</p></a></li>
<li><a href='#VOI'><p>Calculate Value Of Information</p></a></li>
<li><a href='#VOI2'><p>Calculate Value Of Information 2</p></a></li>
<li><a href='#VOIplot'><p>Yet another Value of Information Plot</p></a></li>
<li><a href='#WHAM2OM'><p>Takes a fitted WHAM (Wood's Hole Assessment Model) and samples historical population and fishing dynamics from the MLE fit and variance-covariance matrix.</p></a></li>
<li><a href='#wormplot'><p>Biomass wormplot</p></a></li>
<li><a href='#writeCSV'><p>Internal function to write CSVs for objects</p></a></li>
<li><a href='#XL2Data'><p>Import a Data object from Excel file</p></a></li>
<li><a href='#XL2Fleet'><p>Import Fleet Object from Excel file</p></a></li>
<li><a href='#XL2OM'><p>Load OM from Excel file</p></a></li>
<li><a href='#XL2Stock'><p>Import Stock Object from Excel file</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Management Strategy Evaluation Toolkit</td>
</tr>
<tr>
<td>Version:</td>
<td>3.7.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Development, simulation testing, and implementation of management procedures for fisheries 
    (see Carruthers &amp; Hordyk (2018) &lt;<a href="https://doi.org/10.1111%2F2041-210X.13081">doi:10.1111/2041-210X.13081</a>&gt;).</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0), snowfall</td>
</tr>
<tr>
<td>Imports:</td>
<td>abind, dplyr, methods, grDevices, ggplot2, ggrepel, gridExtra,
parallel, Rcpp, stats, utils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>boot, broom, covr, crayon, remotes, DT, fmsb, kableExtra,
knitr, MASS, mvtnorm, openxlsx, pbapply, r4ss, readxl,
reshape2, rfishbase, rmarkdown, shiny, testthat, tidyr, TMB,
usethis</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp, RcppArmadillo</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/Blue-Matter/MSEtool/issues">https://github.com/Blue-Matter/MSEtool/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-02-06 21:50:29 UTC; User</td>
</tr>
<tr>
<td>Author:</td>
<td>Adrian Hordyk [aut, cre],
  Quang Huynh [aut],
  Tom Carruthers [aut],
  Chris Grandin [ctb] (iSCAM functions)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Adrian Hordyk &lt;adrian@bluematterscience.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-02-06 22:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='Albacore'>Stock class objects</h2><span id='topic+Albacore'></span><span id='topic+Blue_shark'></span><span id='topic+Bluefin_tuna'></span><span id='topic+Bluefin_tuna_WAtl'></span><span id='topic+Butterfish'></span><span id='topic+Herring'></span><span id='topic+Mackerel'></span><span id='topic+Porgy'></span><span id='topic+Rockfish'></span><span id='topic+Snapper'></span><span id='topic+Sole'></span><span id='topic+Toothfish'></span><span id='topic+Stock-class-objects'></span>

<h3>Description</h3>

<p>Example objects of class Stock
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Albacore

Blue_shark

Bluefin_tuna

Bluefin_tuna_WAtl

Butterfish

Herring

Mackerel

Porgy

Rockfish

Snapper

Sole

Toothfish
</code></pre>


<h3>Format</h3>

<p>An object of class <code>Stock</code> of length 1.
</p>
<p>An object of class <code>Stock</code> of length 1.
</p>
<p>An object of class <code>Stock</code> of length 1.
</p>
<p>An object of class <code>Stock</code> of length 1.
</p>
<p>An object of class <code>Stock</code> of length 1.
</p>
<p>An object of class <code>Stock</code> of length 1.
</p>
<p>An object of class <code>Stock</code> of length 1.
</p>
<p>An object of class <code>Stock</code> of length 1.
</p>
<p>An object of class <code>Stock</code> of length 1.
</p>
<p>An object of class <code>Stock</code> of length 1.
</p>
<p>An object of class <code>Stock</code> of length 1.
</p>
<p>An object of class <code>Stock</code> of length 1.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>avail("Stock")
</code></pre>

<hr>
<h2 id='Albacore_TwoFleet'>MOM class objects</h2><span id='topic+Albacore_TwoFleet'></span><span id='topic+MOM-class-objects'></span>

<h3>Description</h3>

<p>Example objects of class MOM
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Albacore_TwoFleet
</code></pre>


<h3>Format</h3>

<p>An object of class <code>MOM</code> of length 1.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>avail("MOM")
</code></pre>

<hr>
<h2 id='alphaconv'>Calculate parameters for beta distribution from mean and standard deviation in
normal space</h2><span id='topic+alphaconv'></span><span id='topic+betaconv'></span>

<h3>Description</h3>

<p>Calculate parameters for beta distribution from mean and standard deviation in
normal space
</p>


<h3>Usage</h3>

<pre><code class='language-R'>alphaconv(m, sd)

betaconv(m, sd)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="alphaconv_+3A_m">m</code></td>
<td>
<p>mean</p>
</td></tr>
<tr><td><code id="alphaconv_+3A_sd">sd</code></td>
<td>
<p>standard deviation</p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>alphaconv()</code>: Returns alpha of beta distribution
</p>
</li>
<li> <p><code>betaconv()</code>: Returns beta of beta distribution
</p>
</li></ul>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>

<hr>
<h2 id='applyMMP'>Apply multi Management Procedures (class MMP) to a hierarchical list of Data class objects</h2><span id='topic+applyMMP'></span>

<h3>Description</h3>

<p>Apply multi Management Procedures (class MMP) to a hierarchical list of Data class objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>applyMMP(
  DataList,
  MP = NA,
  reps = 1,
  nsims = NA,
  silent = FALSE,
  parallel = snowfall::sfIsRunning()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="applyMMP_+3A_datalist">DataList</code></td>
<td>
<p>A hierarchical list of <a href="#topic+Data-class">Data</a> objects (Fleets nested in Stocks)</p>
</td></tr>
<tr><td><code id="applyMMP_+3A_mp">MP</code></td>
<td>
<p>Name(s) of the MPs to run</p>
</td></tr>
<tr><td><code id="applyMMP_+3A_reps">reps</code></td>
<td>
<p>Number of samples</p>
</td></tr>
<tr><td><code id="applyMMP_+3A_nsims">nsims</code></td>
<td>
<p>Optional. Number of simulations.</p>
</td></tr>
<tr><td><code id="applyMMP_+3A_silent">silent</code></td>
<td>
<p>Logical. Should messages be suppressed?</p>
</td></tr>
<tr><td><code id="applyMMP_+3A_parallel">parallel</code></td>
<td>
<p>Logical. Whether to run MPs in parallel</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A hierarchical list of management recommendations (object class Rec), Fleets nested in Stocks
</p>

<hr>
<h2 id='applyMP'>Apply Management Procedures to an object of class Data</h2><span id='topic+applyMP'></span>

<h3>Description</h3>

<p>Apply Management Procedures to an object of class Data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>applyMP(
  Data,
  MPs = NA,
  reps = 100,
  nsims = NA,
  silent = FALSE,
  parallel = snowfall::sfIsRunning()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="applyMP_+3A_data">Data</code></td>
<td>
<p>An object of class Data</p>
</td></tr>
<tr><td><code id="applyMP_+3A_mps">MPs</code></td>
<td>
<p>Name(s) of the MPs to run</p>
</td></tr>
<tr><td><code id="applyMP_+3A_reps">reps</code></td>
<td>
<p>Number of samples</p>
</td></tr>
<tr><td><code id="applyMP_+3A_nsims">nsims</code></td>
<td>
<p>Optional. Number of simulations.</p>
</td></tr>
<tr><td><code id="applyMP_+3A_silent">silent</code></td>
<td>
<p>Logical. Should messages be suppressed?</p>
</td></tr>
<tr><td><code id="applyMP_+3A_parallel">parallel</code></td>
<td>
<p>Logical. Whether to run MPs in parallel. Can be a vector of length(MPs)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with the first element a list of management recommendations,
and the second the updated Data object
</p>

<hr>
<h2 id='ASAP2OM'>Convert ASAP 3 assessments into an operating model</h2><span id='topic+ASAP2OM'></span><span id='topic+ASAP2Data'></span>

<h3>Description</h3>

<p>Reads a fitted ASAP model and uses the MLE estimates with identical reconstruction among simulations. Future recruitment is
sampled from a lognormal distribution with autocorrelation. <code>ASAP2Data</code> imports a Data object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ASAP2OM(
  asap,
  nsim = 48,
  proyears = 50,
  mcmc = FALSE,
  Name = "ASAP Model",
  Source = "No source provided",
  nyr_par_mu = 3,
  Author = "No author provided",
  report = FALSE,
  silent = FALSE
)

ASAP2Data(asap, Name = "ASAP assessment")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ASAP2OM_+3A_asap">asap</code></td>
<td>
<p>A list returned by ASAP, e.g., <code>asap &lt;- dget("asap3.rdat")</code>.</p>
</td></tr>
<tr><td><code id="ASAP2OM_+3A_nsim">nsim</code></td>
<td>
<p>The number of simulations in the operating model</p>
</td></tr>
<tr><td><code id="ASAP2OM_+3A_proyears">proyears</code></td>
<td>
<p>The number of MSE projection years</p>
</td></tr>
<tr><td><code id="ASAP2OM_+3A_mcmc">mcmc</code></td>
<td>
<p>Logical, whether to use mcmc samples. Currently unsupported.</p>
</td></tr>
<tr><td><code id="ASAP2OM_+3A_name">Name</code></td>
<td>
<p>The name of the operating model</p>
</td></tr>
<tr><td><code id="ASAP2OM_+3A_source">Source</code></td>
<td>
<p>Reference to assessment documentation e.g. a url</p>
</td></tr>
<tr><td><code id="ASAP2OM_+3A_nyr_par_mu">nyr_par_mu</code></td>
<td>
<p>integer, the number of recent years to estimate vulnerability over for future projections</p>
</td></tr>
<tr><td><code id="ASAP2OM_+3A_author">Author</code></td>
<td>
<p>Who did the assessment</p>
</td></tr>
<tr><td><code id="ASAP2OM_+3A_report">report</code></td>
<td>
<p>Logical, should a comparison of biomass reconstruction be produced?</p>
</td></tr>
<tr><td><code id="ASAP2OM_+3A_silent">silent</code></td>
<td>
<p>Logical, should progress reporting be printed to the console?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Length at age is not used in ASAP so arbitrary placeholder values are used for length-based parameters. Update
these parameters to model length in the operating model.
</p>


<h3>Value</h3>

<p>An operating model <a href="#topic+OM-class">OM</a> class.
</p>


<h3>Author(s)</h3>

<p>Q. Huynh
</p>


<h3>See Also</h3>

<p><a href="#topic+Assess2OM">Assess2OM</a>
</p>

<hr>
<h2 id='Assess2MOM'>Reads bootstrap estimates from a stock assessment model into a multi-fleet operating model.</h2><span id='topic+Assess2MOM'></span>

<h3>Description</h3>

<p>A function that develops a multiple fleet operating model (<a href="#topic+MOM-class">MOM</a>) and either models a unisex or 2-sex
stock from arrays of abundance, fishing mortality, and biological parameters. The user still
needs to parameterize most of the observation and implementation portions of the operating model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Assess2MOM(
  Name = "MOM created by Assess2MOM",
  proyears = 50,
  interval = 2,
  CurrentYr = as.numeric(format(Sys.Date(), "%Y")),
  h = 0.999,
  Obs = MSEtool::Imprecise_Unbiased,
  Imp = MSEtool::Perfect_Imp,
  naa,
  faa,
  waa,
  Mataa,
  Maa,
  laa,
  fecaa,
  nyr_par_mu = 3,
  LowerTri = 1,
  recind = 0,
  plusgroup = TRUE,
  altinit = 0,
  fixq1 = TRUE,
  report = FALSE,
  silent = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Assess2MOM_+3A_name">Name</code></td>
<td>
<p>Character string. The name of the multi-OM.</p>
</td></tr>
<tr><td><code id="Assess2MOM_+3A_proyears">proyears</code></td>
<td>
<p>Positive integer. The number of projection years for MSE.</p>
</td></tr>
<tr><td><code id="Assess2MOM_+3A_interval">interval</code></td>
<td>
<p>Positive integer. The interval at which management procedures will update the management advice in <a href="#topic+multiMSE">multiMSE</a>, e.g., 1 = annual updates.</p>
</td></tr>
<tr><td><code id="Assess2MOM_+3A_currentyr">CurrentYr</code></td>
<td>
<p>Positive integer. The current year (e.g., final year of fitting to data)</p>
</td></tr>
<tr><td><code id="Assess2MOM_+3A_h">h</code></td>
<td>
<p>The steepness of the stock-recruitment curve. Either a single numeric or a length nsim vector.</p>
</td></tr>
<tr><td><code id="Assess2MOM_+3A_obs">Obs</code></td>
<td>
<p>Either a single observation model to be used for all sexes and populations (class <a href="#topic+Obs-class">Obs</a>), or a list where
<code>Obs[[f]]</code> is the <a href="#topic+Obs-class">Obs</a> object for fleet <code>f</code> (identical between sexes).</p>
</td></tr>
<tr><td><code id="Assess2MOM_+3A_imp">Imp</code></td>
<td>
<p>Either a single implementation model to be used for all sexes and populations (class <a href="#topic+Imp-class">Imp</a>), or a list where
<code>Imp[[f]]</code> is the <a href="#topic+Obs-class">Obs</a> object for fleet <code>f</code> (identical between sexes).</p>
</td></tr>
<tr><td><code id="Assess2MOM_+3A_naa">naa</code></td>
<td>
<p>Numbers-at-age by sex <code style="white-space: pre;">&#8288;[first age is age zero]&#8288;</code>. Four-dimensional numeric array <code style="white-space: pre;">&#8288;[sim, ages, year, p]&#8288;</code>. <code style="white-space: pre;">&#8288;[p]&#8288;</code> indexes the population, where
<code style="white-space: pre;">&#8288;[p = 1]&#8288;</code> for females and <code style="white-space: pre;">&#8288;[p = 2]&#8288;</code> for males.</p>
</td></tr>
<tr><td><code id="Assess2MOM_+3A_faa">faa</code></td>
<td>
<p>Fishing mortality rate-at-age by sex and fleet <code style="white-space: pre;">&#8288;[first age is age zero]&#8288;</code>. Five-dimensional numeric array <code style="white-space: pre;">&#8288;[sim, ages, year, p, f]&#8288;</code> where <code style="white-space: pre;">&#8288;[f]&#8288;</code> indexes fishery fleet.</p>
</td></tr>
<tr><td><code id="Assess2MOM_+3A_waa">waa</code></td>
<td>
<p>Weight-at-age <code style="white-space: pre;">&#8288;[first age is age zero]&#8288;</code>. Four-dimensional numeric array <code style="white-space: pre;">&#8288;[sim, ages, year, p]&#8288;</code>.</p>
</td></tr>
<tr><td><code id="Assess2MOM_+3A_mataa">Mataa</code></td>
<td>
<p>Maturity (spawning fraction)-at-age <code style="white-space: pre;">&#8288;[first age is age zero]&#8288;</code>. Four-dimensional numeric array  <code style="white-space: pre;">&#8288;[sim, ages, year, p]&#8288;</code>.</p>
</td></tr>
<tr><td><code id="Assess2MOM_+3A_maa">Maa</code></td>
<td>
<p>Natural mortality rate-at-age <code style="white-space: pre;">&#8288;[first age is age zero]&#8288;</code>. Four-dimensional numeric array <code style="white-space: pre;">&#8288;[sim, ages, year, p]&#8288;</code>.</p>
</td></tr>
<tr><td><code id="Assess2MOM_+3A_laa">laa</code></td>
<td>
<p>Length-at-age <code style="white-space: pre;">&#8288;[first age is age zero]&#8288;</code>. Four-dimensional numeric array <code style="white-space: pre;">&#8288;[sim, ages, year, p]&#8288;</code>.</p>
</td></tr>
<tr><td><code id="Assess2MOM_+3A_fecaa">fecaa</code></td>
<td>
<p>Fecundity at age <code style="white-space: pre;">&#8288;[first age is age zero]&#8288;</code>. If missing, default fecundity is the product of maturity and weight at age.</p>
</td></tr>
<tr><td><code id="Assess2MOM_+3A_nyr_par_mu">nyr_par_mu</code></td>
<td>
<p>Positive integer. The number of recent years that natural mortality, age vulnerability, weight, length and maturity parameters are averaged over for defining future projection conditions.</p>
</td></tr>
<tr><td><code id="Assess2MOM_+3A_lowertri">LowerTri</code></td>
<td>
<p>Integer. The number of recent years for which model estimates of recruitment are ignored (not reliably estimated by the assessment)</p>
</td></tr>
<tr><td><code id="Assess2MOM_+3A_recind">recind</code></td>
<td>
<p>Positive integer. The first age class that fish 'recruit to the fishery'. The default is 0 - ie the first position in the age dimension of naa is age zero</p>
</td></tr>
<tr><td><code id="Assess2MOM_+3A_plusgroup">plusgroup</code></td>
<td>
<p>Logical. Does the assessment assume that the oldest age class is a plusgroup?</p>
</td></tr>
<tr><td><code id="Assess2MOM_+3A_altinit">altinit</code></td>
<td>
<p>Integer. Various assumptions for how to set up the initial numbers. 0: standard, 1: no plus group, 2: temporary fix for MSEtool plus group initialization</p>
</td></tr>
<tr><td><code id="Assess2MOM_+3A_fixq1">fixq1</code></td>
<td>
<p>Logical. Should q be fixed (ie assume the F-at-age array faa is accurate?</p>
</td></tr>
<tr><td><code id="Assess2MOM_+3A_report">report</code></td>
<td>
<p>Logical, if TRUE, a diagnostic will be reported showing the matching of the OM reconstructed numbers at age vs the assessment.</p>
</td></tr>
<tr><td><code id="Assess2MOM_+3A_silent">silent</code></td>
<td>
<p>Whether to silence messages to the console.</p>
</td></tr>
<tr><td><code id="Assess2MOM_+3A_...">...</code></td>
<td>
<p>Additional arguments (for all, either a numeric or a length nsim vector):
</p>

<ul>
<li> <p><code>SRrel</code> Stock-recruit relationship. (<code>1</code> for Beverton-Holt (default), <code>2</code> for Ricker)
</p>
</li>
<li> <p><code>R0</code> unfished recruitment
</p>
</li>
<li> <p><code>phi0</code> unfished spawners per recruit associated with R0 and h. With time-varying parameters, openMSE uses the mean phi0
in the first <code>ageM</code> (age of 50 percent maturity) years for the stock-recruit relationship. <code>Assess2OM</code> will re-calculate R0 and h
in the operating model such that the stock-recruit <code>alpha</code> and <code>beta</code> parameters match values implied in the input.
</p>
</li>
<li> <p><code>Perr</code> recruitment standard deviation (lognormal distribution) for sampling future recruitment
</p>
</li>
<li> <p><code>AC</code> autocorrelation in future recruitment deviates.
</p>
</li></ul>
</td></tr>
</table>


<h3>Details</h3>

<p>Use a seed for the random number generator to sample future recruitment.
</p>


<h3>Value</h3>

<p>An object of class <a href="#topic+MOM-class">MOM</a>.
</p>


<h3>Author(s)</h3>

<p>Q. Huynh
</p>


<h3>See Also</h3>

<p><a href="#topic+SS2MOM">SS2MOM</a> <a href="#topic+multiMSE">multiMSE</a> <a href="#topic+Assess2OM">Assess2OM</a>
</p>

<hr>
<h2 id='Assess2OM'>Reads bootstrap estimates from a stock assessment model (including VPA) into an operating model. <code>Assess2OM</code>
is identical to <code>VPA2OM</code>.</h2><span id='topic+Assess2OM'></span><span id='topic+VPA2OM'></span>

<h3>Description</h3>

<p>A function that uses a set of bootstrap estimates of numbers-at-age, fishing mortality rate-at-age, M-at-age,
weight-at-age, length-at-age and Maturity-at-age to define a fully described MSEtool operating model. The user still
needs to parameterize most of the observation and implementation portions of the operating model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Assess2OM(
  Name = "A fishery made by VPA2OM",
  proyears = 50,
  interval = 2,
  CurrentYr = as.numeric(format(Sys.Date(), "%Y")),
  h = 0.999,
  Obs = MSEtool::Imprecise_Unbiased,
  Imp = MSEtool::Perfect_Imp,
  naa,
  faa,
  waa,
  Mataa,
  Maa,
  laa,
  nyr_par_mu = 3,
  LowerTri = 1,
  recind = 0,
  plusgroup = TRUE,
  altinit = 0,
  fixq1 = TRUE,
  report = FALSE,
  silent = FALSE,
  ...
)

VPA2OM(
  Name = "A fishery made by VPA2OM",
  proyears = 50,
  interval = 2,
  CurrentYr = as.numeric(format(Sys.Date(), "%Y")),
  h = 0.999,
  Obs = MSEtool::Imprecise_Unbiased,
  Imp = MSEtool::Perfect_Imp,
  naa,
  faa,
  waa,
  Mataa,
  Maa,
  laa,
  nyr_par_mu = 3,
  LowerTri = 1,
  recind = 0,
  plusgroup = TRUE,
  altinit = 0,
  fixq1 = TRUE,
  report = FALSE,
  silent = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Assess2OM_+3A_name">Name</code></td>
<td>
<p>Character string. The name of the operating model.</p>
</td></tr>
<tr><td><code id="Assess2OM_+3A_proyears">proyears</code></td>
<td>
<p>Positive integer. The number of projection years for MSE.</p>
</td></tr>
<tr><td><code id="Assess2OM_+3A_interval">interval</code></td>
<td>
<p>Positive integer. The interval at which management procedures will update the management advice in <a href="#topic+runMSE">runMSE</a>, e.g., 1 = annual updates.</p>
</td></tr>
<tr><td><code id="Assess2OM_+3A_currentyr">CurrentYr</code></td>
<td>
<p>Positive integer. The current year (final year of fitting to data)</p>
</td></tr>
<tr><td><code id="Assess2OM_+3A_h">h</code></td>
<td>
<p>The steepness of the stock-recruitment curve (greater than 0.2 and less than 1, assumed to be close to 1 to match VPA assumption).
Either a single numeric or a length nsim vector.</p>
</td></tr>
<tr><td><code id="Assess2OM_+3A_obs">Obs</code></td>
<td>
<p>The observation model (class Obs). This function only updates the catch and index observation error.</p>
</td></tr>
<tr><td><code id="Assess2OM_+3A_imp">Imp</code></td>
<td>
<p>The implementation model (class Imp). This function does not update implementation parameters.</p>
</td></tr>
<tr><td><code id="Assess2OM_+3A_naa">naa</code></td>
<td>
<p>Numeric array <code style="white-space: pre;">&#8288;[sim, ages, year]&#8288;</code>. Numbers-at-age <code style="white-space: pre;">&#8288;[first age is age zero]&#8288;</code>.</p>
</td></tr>
<tr><td><code id="Assess2OM_+3A_faa">faa</code></td>
<td>
<p>Numeric array <code style="white-space: pre;">&#8288;[sim, ages, year]&#8288;</code>. Fishing mortality rate-at-age <code style="white-space: pre;">&#8288;[first age is age zero]&#8288;</code>.</p>
</td></tr>
<tr><td><code id="Assess2OM_+3A_waa">waa</code></td>
<td>
<p>Numeric array <code style="white-space: pre;">&#8288;[sim, ages, year]&#8288;</code>. Weight-at-age <code style="white-space: pre;">&#8288;[first age is age zero]&#8288;</code>.</p>
</td></tr>
<tr><td><code id="Assess2OM_+3A_mataa">Mataa</code></td>
<td>
<p>Numeric array <code style="white-space: pre;">&#8288;[sim, ages, year]&#8288;</code>. Maturity (spawning fraction)-at-age <code style="white-space: pre;">&#8288;[first age is age zero]&#8288;</code>.</p>
</td></tr>
<tr><td><code id="Assess2OM_+3A_maa">Maa</code></td>
<td>
<p>Numeric array <code style="white-space: pre;">&#8288;[sim, ages, year]&#8288;</code>. Natural mortality rate-at-age <code style="white-space: pre;">&#8288;[first age is age zero]&#8288;</code>.</p>
</td></tr>
<tr><td><code id="Assess2OM_+3A_laa">laa</code></td>
<td>
<p>Numeric array <code style="white-space: pre;">&#8288;[sim, ages, year]&#8288;</code>. Length-at-age <code style="white-space: pre;">&#8288;[first age is age zero]&#8288;</code>.</p>
</td></tr>
<tr><td><code id="Assess2OM_+3A_nyr_par_mu">nyr_par_mu</code></td>
<td>
<p>Positive integer. The number of recent years that natural mortality, age vulnerability, weight, length and maturity parameters are averaged over for defining future projection conditions.</p>
</td></tr>
<tr><td><code id="Assess2OM_+3A_lowertri">LowerTri</code></td>
<td>
<p>Integer. The number of recent years for which model estimates of recruitment are ignored (not reliably estimated by the assessment)</p>
</td></tr>
<tr><td><code id="Assess2OM_+3A_recind">recind</code></td>
<td>
<p>Positive integer. The first age class that fish 'recruit to the fishery'. The default is 0 - ie the first position in the age dimension of naa is age zero</p>
</td></tr>
<tr><td><code id="Assess2OM_+3A_plusgroup">plusgroup</code></td>
<td>
<p>Logical. Does the assessment assume that the oldest age class is a plusgroup?</p>
</td></tr>
<tr><td><code id="Assess2OM_+3A_altinit">altinit</code></td>
<td>
<p>Integer. Various assumptions for how to set up the initial numbers. 0: standard, 1: no plus group, 2: temporary fix for MSEtool plus group initialization</p>
</td></tr>
<tr><td><code id="Assess2OM_+3A_fixq1">fixq1</code></td>
<td>
<p>Logical. Should q be fixed (ie assume the F-at-age array faa is accurate?</p>
</td></tr>
<tr><td><code id="Assess2OM_+3A_report">report</code></td>
<td>
<p>Logical, if TRUE, a diagnostic will be reported showing the matching of the OM reconstructed numbers at age vs the assessment.</p>
</td></tr>
<tr><td><code id="Assess2OM_+3A_silent">silent</code></td>
<td>
<p>Whether to silence messages to the console.</p>
</td></tr>
<tr><td><code id="Assess2OM_+3A_...">...</code></td>
<td>
<p>Additional arguments (for all, either a numeric or a length nsim vector):
</p>

<ul>
<li> <p><code>fecaa</code> Fecundity at age. Default fecundity is the product of maturity and weight at age.
</p>
</li>
<li> <p><code>SRrel</code> Stock-recruit relationship. (<code>1</code> for Beverton-Holt (default), <code>2</code> for Ricker)
</p>
</li>
<li> <p><code>R0</code> unfished recruitment
</p>
</li>
<li> <p><code>phi0</code> unfished spawners per recruit associated with R0 and h. With time-varying parameters, openMSE uses the mean phi0
in the first <code>ageM</code> (age of 50 percent maturity) years for the stock-recruit relationship. <code>Assess2OM</code> will re-calculate R0 and h
in the operating model such that the stock-recruit <code>alpha</code> and <code>beta</code> parameters match values implied in the input.
</p>
</li>
<li> <p><code>Perr</code> recruitment standard deviation (lognormal distribution) for sampling future recruitment
</p>
</li>
<li> <p><code>AC</code> autocorrelation in future recruitment deviates.
</p>
</li>
<li> <p><code>spawn_time_frac</code> The fraction of a year when spawning takes place (e.g., 0.5 is the midpoint of the year)
</p>
</li></ul>
</td></tr>
</table>


<h3>Details</h3>

<p>Use a seed for the random number generator to sample future recruitment.
</p>


<h3>Value</h3>

<p>An object of class <a href="#topic+OM-class">OM</a>.
</p>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>


<h3>See Also</h3>

<p><a href="#topic+SS2OM">SS2OM</a> <a href="#topic+iSCAM2OM">iSCAM2OM</a> <a href="#topic+WHAM2OM">WHAM2OM</a> <a href="#topic+ASAP2OM">ASAP2OM</a>
</p>

<hr>
<h2 id='Atlantic_mackerel'>Data class objects</h2><span id='topic+Atlantic_mackerel'></span><span id='topic+China_rockfish'></span><span id='topic+Cobia'></span><span id='topic+Example_datafile'></span><span id='topic+Gulf_blue_tilefish'></span><span id='topic+ourReefFish'></span><span id='topic+Red_snapper'></span><span id='topic+Simulation_1'></span><span id='topic+Data-class-objects'></span>

<h3>Description</h3>

<p>Example objects of class Data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Atlantic_mackerel

China_rockfish

Cobia

Example_datafile

Gulf_blue_tilefish

ourReefFish

Red_snapper

Simulation_1
</code></pre>


<h3>Format</h3>

<p>An object of class <code>Data</code> of length 1.
</p>
<p>An object of class <code>Data</code> of length 1.
</p>
<p>An object of class <code>Data</code> of length 1.
</p>
<p>An object of class <code>Data</code> of length 1.
</p>
<p>An object of class <code>Data</code> of length 1.
</p>
<p>An object of class <code>Data</code> of length 1.
</p>
<p>An object of class <code>Data</code> of length 1.
</p>
<p>An object of class <code>Data</code> of length 1.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>avail("Data")
</code></pre>

<hr>
<h2 id='avail'>What objects of this class are available</h2><span id='topic+avail'></span>

<h3>Description</h3>

<p>Generic class finder
</p>


<h3>Usage</h3>

<pre><code class='language-R'>avail(classy, package = NULL, msg = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="avail_+3A_classy">classy</code></td>
<td>
<p>A class of object (character string, e.g. 'Fleet')</p>
</td></tr>
<tr><td><code id="avail_+3A_package">package</code></td>
<td>
<p>Optional. Names(s) of the package to search for object of class <code>classy</code>. String
Default is all <code>openMSE</code> packages. Always searches the global environment as well.</p>
</td></tr>
<tr><td><code id="avail_+3A_msg">msg</code></td>
<td>
<p>Print messages?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Finds objects of the specified class in the global environment or the
openMSE packages.
</p>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>


<h3>See Also</h3>

<p><a href="#topic+Can">Can</a> <a href="#topic+Cant">Cant</a> <a href="#topic+avail">avail</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>avail("OM", msg=FALSE)
Stocks &lt;- avail("Stock")
Fleets &lt;- avail("Fleet")
MPs &lt;- avail("MP")
</code></pre>

<hr>
<h2 id='Awatea2OM'>Reads MCMC estimates from Awatea (Paul Starr) processed r file structure into an operating model</h2><span id='topic+Awatea2OM'></span>

<h3>Description</h3>

<p>A function that generates an operating model from the MCMC samples of an Awatea model.
Code optimized for the BC Pacific ocean perch assessment (Haigh et al. 2018).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Awatea2OM(
  AwateaDir,
  nsim = 48,
  proyears = 50,
  Name = "OM made by Awatea2OM",
  Source = "No source provided",
  Author = "No author provided",
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Awatea2OM_+3A_awateadir">AwateaDir</code></td>
<td>
<p>A folder with Awatea files</p>
</td></tr>
<tr><td><code id="Awatea2OM_+3A_nsim">nsim</code></td>
<td>
<p>The number of simulations</p>
</td></tr>
<tr><td><code id="Awatea2OM_+3A_proyears">proyears</code></td>
<td>
<p>The number of projection years for the MSE</p>
</td></tr>
<tr><td><code id="Awatea2OM_+3A_name">Name</code></td>
<td>
<p>The name of the operating model</p>
</td></tr>
<tr><td><code id="Awatea2OM_+3A_source">Source</code></td>
<td>
<p>Reference to assessment documentation e.g. a url</p>
</td></tr>
<tr><td><code id="Awatea2OM_+3A_author">Author</code></td>
<td>
<p>Who did the assessment</p>
</td></tr>
<tr><td><code id="Awatea2OM_+3A_verbose">verbose</code></td>
<td>
<p>Return detailed messages?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function averages biological parameters across sex and then sends arrays to <a href="#topic+VPA2OM">VPA2OM</a>, assumes
unfished status (B/B0 = 1) in the first year, and assumes a single fishing fleet.
</p>


<h3>Author(s)</h3>

<p>Q. Huynh and T. Carruthers
</p>


<h3>References</h3>

<p>Haigh, R., et al. 2018. Stock assessment for Pacific Ocean Perch (<em>Sebastes alutus</em>) in Queen Charlotte Sound, British Columbia in 2017.
Canadian Science Advisory Secretariat (CSAS) Research Document 2018/038. 232 pp.
<a href="https://www.dfo-mpo.gc.ca/csas-sccs/Publications/ResDocs-DocRech/2018/2018_038-eng.html">https://www.dfo-mpo.gc.ca/csas-sccs/Publications/ResDocs-DocRech/2018/2018_038-eng.html</a>
</p>

<hr>
<h2 id='BlankSelPlot'>Internal function to create a blank plot for mapping selectivity at length</h2><span id='topic+BlankSelPlot'></span>

<h3>Description</h3>

<p>Internal function to create a blank plot for mapping selectivity at length
</p>


<h3>Usage</h3>

<pre><code class='language-R'>BlankSelPlot(Stock = NULL, Yr = NULL, N = NULL, isRel)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="BlankSelPlot_+3A_stock">Stock</code></td>
<td>
<p>Stock object. If provided, average length-at-maturity
is included on plot for reference.</p>
</td></tr>
<tr><td><code id="BlankSelPlot_+3A_yr">Yr</code></td>
<td>
<p>Year number</p>
</td></tr>
<tr><td><code id="BlankSelPlot_+3A_n">N</code></td>
<td>
<p>Year index</p>
</td></tr>
<tr><td><code id="BlankSelPlot_+3A_isrel">isRel</code></td>
<td>
<p>Logical. Are selectivity parameters relative to length of maturity?</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>A. Hordyk
</p>

<hr>
<h2 id='Blow_opt'>Blow internal parallel optimization function</h2><span id='topic+Blow_opt'></span>

<h3>Description</h3>

<p>Find the current biomass at which it would take HZN mean generation times
to reach Bfrac x SSBMSY biomass level given zero catches
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Blow_opt(
  lnq,
  N,
  Asize_c,
  SSBMSYc,
  SSBpRc,
  MPA,
  SSB0c,
  nareas,
  retAc,
  MGThorizonc,
  Fc,
  Perrc,
  Mc,
  hc,
  Mac,
  Wac,
  Fecac,
  R0c,
  Vc,
  nyears,
  maxage,
  movc,
  Spat_targc,
  SRrelc,
  aRc,
  bRc,
  Bfrac,
  maxF,
  mode = 1,
  plusgroup = 0,
  SRRfun,
  SRRpars,
  spawn_time_frac = 0
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Blow_opt_+3A_lnq">lnq</code></td>
<td>
<p>number: estimate of log catchability</p>
</td></tr>
<tr><td><code id="Blow_opt_+3A_n">N</code></td>
<td>
<p>matrix maxage by nareas with initial numbers at age</p>
</td></tr>
<tr><td><code id="Blow_opt_+3A_asize_c">Asize_c</code></td>
<td>
<p>vector length nareas with size of each area</p>
</td></tr>
<tr><td><code id="Blow_opt_+3A_ssbmsyc">SSBMSYc</code></td>
<td>
<p>number: spawning biomass at MSY</p>
</td></tr>
<tr><td><code id="Blow_opt_+3A_ssbprc">SSBpRc</code></td>
<td>
<p>vector length nareas with SSBpR by area</p>
</td></tr>
<tr><td><code id="Blow_opt_+3A_mpa">MPA</code></td>
<td>
<p>matrix of spatial closures</p>
</td></tr>
<tr><td><code id="Blow_opt_+3A_ssb0c">SSB0c</code></td>
<td>
<p>SSB0</p>
</td></tr>
<tr><td><code id="Blow_opt_+3A_nareas">nareas</code></td>
<td>
<p>numeric: number of areas</p>
</td></tr>
<tr><td><code id="Blow_opt_+3A_retac">retAc</code></td>
<td>
<p>matrix maxage by nyears+proyears of retention by age and year</p>
</td></tr>
<tr><td><code id="Blow_opt_+3A_mgthorizonc">MGThorizonc</code></td>
<td>
<p>number: MGT x HZN</p>
</td></tr>
<tr><td><code id="Blow_opt_+3A_fc">Fc</code></td>
<td>
<p>vector nyears long of fishing mortality rate</p>
</td></tr>
<tr><td><code id="Blow_opt_+3A_perrc">Perrc</code></td>
<td>
<p>vector nyears+maxage-1 long of recruitment deviations</p>
</td></tr>
<tr><td><code id="Blow_opt_+3A_mc">Mc</code></td>
<td>
<p>matrix maxage by nyears+proyears of natural mortality rate</p>
</td></tr>
<tr><td><code id="Blow_opt_+3A_hc">hc</code></td>
<td>
<p>number: steepness values</p>
</td></tr>
<tr><td><code id="Blow_opt_+3A_mac">Mac</code></td>
<td>
<p>matrix nages by nyears+proyears of maturity at age</p>
</td></tr>
<tr><td><code id="Blow_opt_+3A_wac">Wac</code></td>
<td>
<p>vector nages long  of weight at age</p>
</td></tr>
<tr><td><code id="Blow_opt_+3A_fecac">Fecac</code></td>
<td>
<p>vector nages long  of mature weight at age</p>
</td></tr>
<tr><td><code id="Blow_opt_+3A_r0c">R0c</code></td>
<td>
<p>number: unfished recruitment</p>
</td></tr>
<tr><td><code id="Blow_opt_+3A_vc">Vc</code></td>
<td>
<p>matrix of vulnerability maxage x nyears</p>
</td></tr>
<tr><td><code id="Blow_opt_+3A_nyears">nyears</code></td>
<td>
<p>integer: number of historical years</p>
</td></tr>
<tr><td><code id="Blow_opt_+3A_maxage">maxage</code></td>
<td>
<p>integer: maximum age</p>
</td></tr>
<tr><td><code id="Blow_opt_+3A_movc">movc</code></td>
<td>
<p>matrix of movement 2 x 2</p>
</td></tr>
<tr><td><code id="Blow_opt_+3A_spat_targc">Spat_targc</code></td>
<td>
<p>number: spatial targeting parameters</p>
</td></tr>
<tr><td><code id="Blow_opt_+3A_srrelc">SRrelc</code></td>
<td>
<p>integer representing recruitment dynamics type 1: Bev Holt 2: Ricker</p>
</td></tr>
<tr><td><code id="Blow_opt_+3A_arc">aRc</code></td>
<td>
<p>number: recruitment parameter</p>
</td></tr>
<tr><td><code id="Blow_opt_+3A_brc">bRc</code></td>
<td>
<p>number: recruitment parameter</p>
</td></tr>
<tr><td><code id="Blow_opt_+3A_bfrac">Bfrac</code></td>
<td>
<p>fraction of SSBMSY that is the target</p>
</td></tr>
<tr><td><code id="Blow_opt_+3A_maxf">maxF</code></td>
<td>
<p>maximum apical fishing mortality</p>
</td></tr>
<tr><td><code id="Blow_opt_+3A_mode">mode</code></td>
<td>
<p>1: find Blow 2:report blow  3:plot results</p>
</td></tr>
<tr><td><code id="Blow_opt_+3A_plusgroup">plusgroup</code></td>
<td>
<p>Integer. Default = 0 = no plus-group. Use 1 to include a plus-group</p>
</td></tr>
<tr><td><code id="Blow_opt_+3A_spawn_time_frac">spawn_time_frac</code></td>
<td>
<p>Numeric. Fraction of the year when spawning occurs. Default = 0.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>T. Carruthers with modifications by A. Hordyk
</p>

<hr>
<h2 id='boxplot.Data'>Boxplot of TAC recommendations</h2><span id='topic+boxplot.Data'></span>

<h3>Description</h3>

<p>Boxplot of TAC recommendations
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'Data'
boxplot(x, upq = 0.9, lwq = 0.1, ylim = NULL, outline = FALSE, col = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="boxplot.Data_+3A_x">x</code></td>
<td>
<p>An object of class MSE</p>
</td></tr>
<tr><td><code id="boxplot.Data_+3A_upq">upq</code></td>
<td>
<p>Upper quantile of TACs for max ylim</p>
</td></tr>
<tr><td><code id="boxplot.Data_+3A_lwq">lwq</code></td>
<td>
<p>Lower quantile of TACs for min ylim</p>
</td></tr>
<tr><td><code id="boxplot.Data_+3A_ylim">ylim</code></td>
<td>
<p>Optional numeric vector of length 2 to specify limits of y-axis.</p>
</td></tr>
<tr><td><code id="boxplot.Data_+3A_outline">outline</code></td>
<td>
<p>Logical. Include outliers in plot?</p>
</td></tr>
<tr><td><code id="boxplot.Data_+3A_col">col</code></td>
<td>
<p>Optional colours to pass to <code>boxplot</code></p>
</td></tr>
<tr><td><code id="boxplot.Data_+3A_...">...</code></td>
<td>
<p>Optional additional arguments passed to <code>boxplot</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a data frame containing the information shown in the plot
</p>


<h3>Author(s)</h3>

<p>A. Hordyk
</p>

<hr>
<h2 id='CalcAsymptoticDist'>Calculates the asymptotic distribution from an initial distribution vector (V) and a markov movement matrix (M) (rows sum to 1)</h2><span id='topic+CalcAsymptoticDist'></span>

<h3>Description</h3>

<p>Calculates the asymptotic distribution from an initial distribution vector (V) and a markov movement matrix (M) (rows sum to 1).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CalcAsymptoticDist(M, V = NULL, nits = 50, plot = F)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CalcAsymptoticDist_+3A_m">M</code></td>
<td>
<p>A square markov movement matrix M of nareas rows and nareas columns (rows sum to 1)</p>
</td></tr>
<tr><td><code id="CalcAsymptoticDist_+3A_v">V</code></td>
<td>
<p>An optional vector nareas long of initial fractions by area (if unspecified the calculation will start from a uniform distribution)</p>
</td></tr>
<tr><td><code id="CalcAsymptoticDist_+3A_nits">nits</code></td>
<td>
<p>An integer number of iterations for multiplying V by M to get the asymptotic distribution (~50 is usually enough)</p>
</td></tr>
<tr><td><code id="CalcAsymptoticDist_+3A_plot">plot</code></td>
<td>
<p>Should the convergence to a stable distribution be plotted?</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>


<h3>See Also</h3>

<p><a href="#topic+simmov2">simmov2</a>
</p>

<hr>
<h2 id='calcMean'>Calculate Mean Probability</h2><span id='topic+calcMean'></span>

<h3>Description</h3>

<p>Calculate Mean Probability
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calcMean(Prob)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calcMean_+3A_prob">Prob</code></td>
<td>
<p>Prob slot from an object of class PMobj</p>
</td></tr>
</table>

<hr>
<h2 id='CalcMPDynamics'>Calculate population dynamics from MP recommendation</h2><span id='topic+CalcMPDynamics'></span>

<h3>Description</h3>

<p>An internal function to calculate the population dynamics for the next time
step based on the recent MP recommendation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CalcMPDynamics(
  MPRecs,
  y,
  nyears,
  proyears,
  nsim,
  Biomass_P,
  VBiomass_P,
  LastTAE,
  histTAE,
  LastSpatial,
  LastAllocat,
  LastTAC,
  TACused,
  maxF,
  LR5_P,
  LFR_P,
  Rmaxlen_P,
  retL_P,
  retA_P,
  retA_P_real,
  retA_P_real_2,
  L5_P,
  LFS_P,
  Vmaxlen_P,
  SLarray_P,
  V_P,
  V_P_real,
  V_P_real_2,
  Fdisc_P,
  DR_P,
  FM_P,
  FM_Pret,
  Z_P,
  CB_P,
  CB_Pret,
  Effort_pot,
  StockPars,
  FleetPars,
  ImpPars,
  checks = FALSE,
  control = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CalcMPDynamics_+3A_mprecs">MPRecs</code></td>
<td>
<p>A named list of MP recommendations. The names are the same as <code>slotNames('Rec')</code>, except
for <code>Misc</code>. Each element in the list is a matrix. With the exception of <code>Spatial</code>, all elements in list
have <code>nrow=1</code> and <code>ncol=nsim</code>. <code>Spatial</code> has <code>nrow=nareas</code>. Matrices can be empty matrix, populated with all NAs
(both mean no change in management with respect to this element (e.g. <code>Effort</code>)), or populated with a recommendation.
MPs must either return a recommendation or no recommendation for every simulation for a particular slot (i.e. cannot have some NA and some values).</p>
</td></tr>
<tr><td><code id="CalcMPDynamics_+3A_y">y</code></td>
<td>
<p>The projection year</p>
</td></tr>
<tr><td><code id="CalcMPDynamics_+3A_nyears">nyears</code></td>
<td>
<p>The number of historical years</p>
</td></tr>
<tr><td><code id="CalcMPDynamics_+3A_proyears">proyears</code></td>
<td>
<p>The number of projection years</p>
</td></tr>
<tr><td><code id="CalcMPDynamics_+3A_nsim">nsim</code></td>
<td>
<p>The number of simulations</p>
</td></tr>
<tr><td><code id="CalcMPDynamics_+3A_biomass_p">Biomass_P</code></td>
<td>
<p>An array with dimensions <code>nsim</code>, <code>maxage</code>, <code>proyears</code>, and <code>nareas</code> with total biomass in the projection years</p>
</td></tr>
<tr><td><code id="CalcMPDynamics_+3A_vbiomass_p">VBiomass_P</code></td>
<td>
<p>An array with dimensions <code>nsim</code>, <code>maxage</code>, <code>proyears</code>, and <code>nareas</code> with vulnerable biomass in the projection years</p>
</td></tr>
<tr><td><code id="CalcMPDynamics_+3A_lasttae">LastTAE</code></td>
<td>
<p>A vector of length <code>nsim</code> with the most recent TAE</p>
</td></tr>
<tr><td><code id="CalcMPDynamics_+3A_lastspatial">LastSpatial</code></td>
<td>
<p>A matrix of <code>nrow=nareas</code> and <code>ncol=nsim</code> with the most recent spatial management arrangements</p>
</td></tr>
<tr><td><code id="CalcMPDynamics_+3A_lastallocat">LastAllocat</code></td>
<td>
<p>A vector of length <code>nsim</code> with the most recent allocation</p>
</td></tr>
<tr><td><code id="CalcMPDynamics_+3A_lasttac">LastTAC</code></td>
<td>
<p>A vector of length <code>nsim</code> with the most recent TAC</p>
</td></tr>
<tr><td><code id="CalcMPDynamics_+3A_tacused">TACused</code></td>
<td>
<p>A vector of length <code>nsim</code> with the most recent TAC</p>
</td></tr>
<tr><td><code id="CalcMPDynamics_+3A_maxf">maxF</code></td>
<td>
<p>A numeric value with maximum allowed F. From <code>OM@maxF</code></p>
</td></tr>
<tr><td><code id="CalcMPDynamics_+3A_lr5_p">LR5_P</code></td>
<td>
<p>A matrix with <code>nyears+proyears</code> rows and <code>nsim</code> columns with the first length at 5 percent retention.</p>
</td></tr>
<tr><td><code id="CalcMPDynamics_+3A_lfr_p">LFR_P</code></td>
<td>
<p>A matrix with <code>nyears+proyears</code> rows and <code>nsim</code> columns with the first length at full retention.</p>
</td></tr>
<tr><td><code id="CalcMPDynamics_+3A_rmaxlen_p">Rmaxlen_P</code></td>
<td>
<p>A matrix with <code>nyears+proyears</code> rows and <code>nsim</code> columns with the retention at maximum length.</p>
</td></tr>
<tr><td><code id="CalcMPDynamics_+3A_retl_p">retL_P</code></td>
<td>
<p>An array with dimensions <code>nsim</code>, <code>nCALbins</code> and <code>nyears+proyears</code> with retention at length</p>
</td></tr>
<tr><td><code id="CalcMPDynamics_+3A_reta_p">retA_P</code></td>
<td>
<p>An array with dimensions <code>nsim</code>, <code>maxage</code> and <code>nyears+proyears</code> with retention at age</p>
</td></tr>
<tr><td><code id="CalcMPDynamics_+3A_reta_p_real">retA_P_real</code></td>
<td>
<p>An array with dimensions <code>nsim</code>, <code>maxage</code> and <code>nyears+proyears</code> with realized  retention at age. May not asymptote at one</p>
</td></tr>
<tr><td><code id="CalcMPDynamics_+3A_reta_p_real_2">retA_P_real_2</code></td>
<td>
<p>An array with dimensions <code>nsim</code>, <code>maxage</code> and <code>nyears+proyears</code> <code>retA_P_real</code> standardized to max 1</p>
</td></tr>
<tr><td><code id="CalcMPDynamics_+3A_l5_p">L5_P</code></td>
<td>
<p>A matrix with <code>nyears+proyears</code> rows and <code>nsim</code> columns with the first length at 5 percent selectivity</p>
</td></tr>
<tr><td><code id="CalcMPDynamics_+3A_lfs_p">LFS_P</code></td>
<td>
<p>A matrix with <code>nyears+proyears</code> rows and <code>nsim</code> columns with the first length at full selectivity</p>
</td></tr>
<tr><td><code id="CalcMPDynamics_+3A_vmaxlen_p">Vmaxlen_P</code></td>
<td>
<p>A matrix with <code>nyears+proyears</code> rows and <code>nsim</code> columns with the selectivity at maximum length.</p>
</td></tr>
<tr><td><code id="CalcMPDynamics_+3A_slarray_p">SLarray_P</code></td>
<td>
<p>An array with dimensions <code>nsim</code>, <code>nCALbins</code> and <code>nyears+proyears</code> with selectivity at length</p>
</td></tr>
<tr><td><code id="CalcMPDynamics_+3A_v_p">V_P</code></td>
<td>
<p>An array with dimensions <code>nsim</code>, <code>maxage</code> and <code>nyears+proyears</code> with selectivity at age</p>
</td></tr>
<tr><td><code id="CalcMPDynamics_+3A_v_p_real">V_P_real</code></td>
<td>
<p>An array with dimensions <code>nsim</code>, <code>maxage</code> and <code>nyears+proyears</code> with realized selectivity at age. May not asymptote at one</p>
</td></tr>
<tr><td><code id="CalcMPDynamics_+3A_v_p_real_2">V_P_real_2</code></td>
<td>
<p>An array with dimensions <code>nsim</code>, <code>maxage</code> and <code>nyears+proyears</code>. <code>V_P_real</code> standardized to max 1</p>
</td></tr>
<tr><td><code id="CalcMPDynamics_+3A_fdisc_p">Fdisc_P</code></td>
<td>
<p>vector of length <code>nsim</code> with discard mortality. From <code>OM@Fdisc</code> but can be updated by MP (<code>Rec@Fdisc</code>)</p>
</td></tr>
<tr><td><code id="CalcMPDynamics_+3A_dr_p">DR_P</code></td>
<td>
<p>A matrix with <code>nyears+proyears</code> rows and <code>nsim</code> columns with the fraction discarded.</p>
</td></tr>
<tr><td><code id="CalcMPDynamics_+3A_fm_p">FM_P</code></td>
<td>
<p>An array with dimensions <code>nsim</code>, <code>maxage</code>, <code>proyears</code>, and <code>nareas</code> with total fishing mortality</p>
</td></tr>
<tr><td><code id="CalcMPDynamics_+3A_fm_pret">FM_Pret</code></td>
<td>
<p>An array with dimensions <code>nsim</code>, <code>maxage</code>, <code>proyears</code>, and <code>nareas</code> with fishing mortality of the retained fish</p>
</td></tr>
<tr><td><code id="CalcMPDynamics_+3A_z_p">Z_P</code></td>
<td>
<p>An array with dimensions <code>nsim</code>, <code>maxage</code>, <code>proyears</code>, and <code>nareas</code> with total mortality</p>
</td></tr>
<tr><td><code id="CalcMPDynamics_+3A_cb_p">CB_P</code></td>
<td>
<p>An array with dimensions <code>nsim</code>, <code>maxage</code>, <code>proyears</code>, and <code>nareas</code> with total catch</p>
</td></tr>
<tr><td><code id="CalcMPDynamics_+3A_cb_pret">CB_Pret</code></td>
<td>
<p>An array with dimensions <code>nsim</code>, <code>maxage</code>, <code>proyears</code>, and <code>nareas</code> with retained catch</p>
</td></tr>
<tr><td><code id="CalcMPDynamics_+3A_effort_pot">Effort_pot</code></td>
<td>
<p>A numeric vector of potential effort</p>
</td></tr>
<tr><td><code id="CalcMPDynamics_+3A_stockpars">StockPars</code></td>
<td>
<p>A list of stock parameters</p>
</td></tr>
<tr><td><code id="CalcMPDynamics_+3A_fleetpars">FleetPars</code></td>
<td>
<p>A list of fleet parameters</p>
</td></tr>
<tr><td><code id="CalcMPDynamics_+3A_imppars">ImpPars</code></td>
<td>
<p>A list of implementation error parameters</p>
</td></tr>
<tr><td><code id="CalcMPDynamics_+3A_checks">checks</code></td>
<td>
<p>Logical. Run internal checks? Currently not used.</p>
</td></tr>
<tr><td><code id="CalcMPDynamics_+3A_control">control</code></td>
<td>
<p>List of control parameters used internally.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named list with updated population dynamics
</p>


<h3>Author(s)</h3>

<p>A. Hordyk
</p>

<hr>
<h2 id='calcProb'>Calculate Probability</h2><span id='topic+calcProb'></span>

<h3>Description</h3>

<p>Calculate Probability
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calcProb(PM, MSEobj)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calcProb_+3A_pm">PM</code></td>
<td>
<p>A PM method</p>
</td></tr>
</table>

<hr>
<h2 id='calcRefYield'>Calculate Reference Yield</h2><span id='topic+calcRefYield'></span>

<h3>Description</h3>

<p>Calculate Reference Yield
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calcRefYield(x, StockPars, FleetPars, pyears, Ncurr, nyears, proyears)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calcRefYield_+3A_x">x</code></td>
<td>
<p>Integer, the simulation number</p>
</td></tr>
<tr><td><code id="calcRefYield_+3A_stockpars">StockPars</code></td>
<td>
<p>List of Stock Parameters</p>
</td></tr>
<tr><td><code id="calcRefYield_+3A_fleetpars">FleetPars</code></td>
<td>
<p>List of Fleet Parameters</p>
</td></tr>
<tr><td><code id="calcRefYield_+3A_pyears">pyears</code></td>
<td>
<p>The number of years to project forward. Equal to 'nyears' for optimizing for q.</p>
</td></tr>
<tr><td><code id="calcRefYield_+3A_ncurr">Ncurr</code></td>
<td>
<p>Array with current numbers-at-age (dim=c(nsim, maxage+1, nareas))</p>
</td></tr>
<tr><td><code id="calcRefYield_+3A_nyears">nyears</code></td>
<td>
<p>Number of historical years</p>
</td></tr>
<tr><td><code id="calcRefYield_+3A_proyears">proyears</code></td>
<td>
<p>Number of projection years</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>A. Hordyk
</p>

<hr>
<h2 id='CalculateQ'>Optimize for catchability (q)</h2><span id='topic+CalculateQ'></span>

<h3>Description</h3>

<p>Function optimizes catchability (q, where F=qE) required to get to user-specified stock
depletion
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CalculateQ(x, StockPars, FleetPars, pyears, bounds = c(1e-05, 15), control)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CalculateQ_+3A_x">x</code></td>
<td>
<p>Integer, the simulation number</p>
</td></tr>
<tr><td><code id="CalculateQ_+3A_stockpars">StockPars</code></td>
<td>
<p>List of Stock Parameters</p>
</td></tr>
<tr><td><code id="CalculateQ_+3A_fleetpars">FleetPars</code></td>
<td>
<p>List of Fleet Parameters</p>
</td></tr>
<tr><td><code id="CalculateQ_+3A_pyears">pyears</code></td>
<td>
<p>The number of years to project forward. Equal to 'nyears' for optimizing for q.</p>
</td></tr>
<tr><td><code id="CalculateQ_+3A_bounds">bounds</code></td>
<td>
<p>A numeric vector of length 2 with bounds for the optimizer</p>
</td></tr>
<tr><td><code id="CalculateQ_+3A_control">control</code></td>
<td>
<p>List. Control parameters including <code>optVB=TRUE</code> to optimize
for vulnerable biomass instead of SSB?</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>A. Hordyk
</p>

<hr>
<h2 id='CALsimp'>Simplifies the CAL slot of data object</h2><span id='topic+CALsimp'></span>

<h3>Description</h3>

<p>A function that condenses the number of catch-at-length bins in a data object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CALsimp(Data, nbins = 10, simno = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CALsimp_+3A_data">Data</code></td>
<td>
<p>An object of class 'Data'.</p>
</td></tr>
<tr><td><code id="CALsimp_+3A_nbins">nbins</code></td>
<td>
<p>Integer. The target number of catch at length bins</p>
</td></tr>
<tr><td><code id="CALsimp_+3A_simno">simno</code></td>
<td>
<p>Integer. An optional argument to specify the simulation number if writing simulated data</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>

<hr>
<h2 id='Can'>Identify management procedures (MPs) based on data availability</h2><span id='topic+Can'></span><span id='topic+Cant'></span><span id='topic+DLMdiag'></span><span id='topic+Needed'></span>

<h3>Description</h3>

<p>Diagnostic tools that look up the slot requirements of each MP and
compares to the data available in the Data object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Can(Data, timelimit = 1, MPs = NA, dev = FALSE, silent = FALSE)

Cant(Data, timelimit = 1, silent = FALSE)

DLMdiag(
  Data,
  command = c("available", "not available", "needed"),
  reps = 5,
  timelimit = 1,
  funcs1 = NA,
  dev = FALSE,
  silent = FALSE
)

Needed(Data, timelimit = 1, silent = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Can_+3A_data">Data</code></td>
<td>
<p>A data-limited methods data object (class Data)</p>
</td></tr>
<tr><td><code id="Can_+3A_timelimit">timelimit</code></td>
<td>
<p>The maximum time (seconds) taken for an MP to undertake
5 reps (this filters out methods that are too slow)</p>
</td></tr>
<tr><td><code id="Can_+3A_mps">MPs</code></td>
<td>
<p>Optional list of MP names</p>
</td></tr>
<tr><td><code id="Can_+3A_dev">dev</code></td>
<td>
<p>Logical. Run in development mode?</p>
</td></tr>
<tr><td><code id="Can_+3A_silent">silent</code></td>
<td>
<p>Logical Display messages?</p>
</td></tr>
<tr><td><code id="Can_+3A_command">command</code></td>
<td>
<p>What to calculate? Character. Options = c(&quot;available&quot;, &quot;not available&quot;, &quot;needed&quot;)</p>
</td></tr>
<tr><td><code id="Can_+3A_reps">reps</code></td>
<td>
<p>The number of replicates for the MP</p>
</td></tr>
<tr><td><code id="Can_+3A_funcs1">funcs1</code></td>
<td>
<p>A character vector of the MP names (optional)</p>
</td></tr>
</table>


<h3>Functions</h3>


<ul>
<li> <p><code>Can()</code>: Identifies MPs that have the correct data, do not produce errors,
and run within the time limit.
</p>
</li>
<li> <p><code>Cant()</code>: Identifies MPs that don't have sufficient data, lead to errors, or don't run in
time along with a list of their data requirements.
</p>
</li>
<li> <p><code>DLMdiag()</code>: Internal function called by <code>Can</code> and <code>Cant</code>
</p>
</li>
<li> <p><code>Needed()</code>: Identifies what data are needed to run
the MPs that are currently not able to run given a Data
object
</p>
</li></ul>


<h3>See Also</h3>

<p><a href="#topic+avail">avail</a> <a href="#topic+Data-class">Data</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>CanMPs &lt;- Can(MSEtool::Cobia)
CantMPs &lt;- Cant(MSEtool::Cobia)
Needs &lt;- Needed(MSEtool::Cobia)
</code></pre>

<hr>
<h2 id='char.log-class'>Class union for isRel slot</h2><span id='topic+char.log-class'></span>

<h3>Description</h3>

<p>Used internally.
</p>

<hr>
<h2 id='CheckDuplicate'>Check for duplicated MPs names</h2><span id='topic+CheckDuplicate'></span>

<h3>Description</h3>

<p>Custom MPs cannot have the same names of MPs in MSEtool and related packages
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CheckDuplicate(MPs)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CheckDuplicate_+3A_mps">MPs</code></td>
<td>
<p>Character vector of MP names</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An error if duplicated MP names, otherwise nothing
</p>

<hr>
<h2 id='CheckMPs'>Check that specified MPs are valid and will run on MSEtool::SimulatedData</h2><span id='topic+CheckMPs'></span>

<h3>Description</h3>

<p>Check that specified MPs are valid and will run on MSEtool::SimulatedData
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CheckMPs(MPs = NA, silent = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CheckMPs_+3A_mps">MPs</code></td>
<td>
<p>Character vector of MP names</p>
</td></tr>
<tr><td><code id="CheckMPs_+3A_silent">silent</code></td>
<td>
<p>Logical. Report messages?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>MP names
</p>

<hr>
<h2 id='checkMSE'>Utility functions for MSE objects</h2><span id='topic+checkMSE'></span><span id='topic+addMPs'></span><span id='topic+joinMSE'></span><span id='topic+joinHist'></span><span id='topic+updateMSE'></span>

<h3>Description</h3>

<p>Utility functions for MSE objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>checkMSE(MSEobj)

addMPs(MSEobjs)

joinMSE(MSEobjs = NULL)

joinHist(Hist_List)

updateMSE(MSEobj, save.name = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="checkMSE_+3A_mseobj">MSEobj</code></td>
<td>
<p>A <code>MSE</code> object</p>
</td></tr>
<tr><td><code id="checkMSE_+3A_mseobjs">MSEobjs</code></td>
<td>
<p>A list of MSE objects</p>
</td></tr>
<tr><td><code id="checkMSE_+3A_hist_list">Hist_List</code></td>
<td>
<p>A list of objects of class <code>Hist</code></p>
</td></tr>
<tr><td><code id="checkMSE_+3A_save.name">save.name</code></td>
<td>
<p>Character string. Optional file name to save the updated MSE object to disk.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>MSE</code>
</p>
<p>A new object of class <code>Hist</code>
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>checkMSE()</code>: Check that an MSE object includes all slots in the latest version of DLMtool
</p>
</li>
<li> <p><code>addMPs()</code>: Adds additional MPs to an MSE object by combining
multiple MSE objects that have identical historical OM values but different
MPs.
</p>
</li>
<li> <p><code>joinMSE()</code>: Joins two or more MSE objects together. MSE objects must have identical
number of historical years, and projection years.
</p>
</li>
<li> <p><code>joinHist()</code>: Join objects of class <code>Hist</code>. Does not join slot <code>OM</code>
</p>
</li>
<li> <p><code>updateMSE()</code>: Updates an existing MSE object (class MSE) from a previous version of the
MSEtool to include slots new to the latest version. Also works with Stock,
Fleet, Obs, Imp, and Data objects. The new slots will be empty,
but avoids the 'slot doesn't exist' error that sometimes occurs.
Returns an object of class matching class(MSEobj)
</p>
</li></ul>


<h3>Author(s)</h3>

<p>A. Hordyk
</p>


<h3>See Also</h3>

<p><a href="#topic+joinData">joinData</a>
</p>

<hr>
<h2 id='CheckOM'>Check OM object is complete</h2><span id='topic+CheckOM'></span>

<h3>Description</h3>

<p>Check OM object is complete
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CheckOM(OM, msg = TRUE, stop_if_missing = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CheckOM_+3A_om">OM</code></td>
<td>
<p>An object of class <code>OM</code></p>
</td></tr>
<tr><td><code id="CheckOM_+3A_msg">msg</code></td>
<td>
<p>Logical. Display messages?</p>
</td></tr>
<tr><td><code id="CheckOM_+3A_stop_if_missing">stop_if_missing</code></td>
<td>
<p>Logical. Stop with error is values are missing and there is no default?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The OM object with default values (if needed)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>testOM &lt;- CheckOM(testOM)
</code></pre>

<hr>
<h2 id='ChkYrs'>Check the years to summarize performance</h2><span id='topic+ChkYrs'></span>

<h3>Description</h3>

<p>Check the years to summarize performance
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ChkYrs(Yrs, MSEobj)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ChkYrs_+3A_yrs">Yrs</code></td>
<td>
<p>Numeric vector of length 2 with year indices to summarize performance.
If NULL, the performance is summarized over all projection years.
<code>Yrs</code> can also be length one, in which case if it is positive it is the first <code>Yrs</code> and
if negative the last <code>Yrs</code> of the projection period.</p>
</td></tr>
<tr><td><code id="ChkYrs_+3A_mseobj">MSEobj</code></td>
<td>
<p>An object of class <code>MSE</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric vector of length 2 with year indices to summarize performance
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
MSE &lt;- runMSE()
ChkYrs(NULL, MSE) # returns c(1, MSE@proyears)
ChkYrs(c(2,5), MSE) # returns c(2,5)
ChkYrs(c(70,80), MSE) # returns c(MSE@proyears-10,MSE@proyears)
ChkYrs(5, MSE) # returns c(1,5)
ChkYrs(-5, MSE) # returns c(46,50)

## End(Not run)

</code></pre>

<hr>
<h2 id='Choose'>Manually map parameters for the historical period of operating model</h2><span id='topic+Choose'></span><span id='topic+ChooseEffort'></span><span id='topic+ChooseM'></span><span id='topic+ChooseSelect'></span>

<h3>Description</h3>

<p>Interactive plots to specify trends and variability in
fishing effort, fleet selectivity, and natural mortality for the
operating model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ChooseEffort(Fleet, Years = NULL)

ChooseM(OM, type = c("age", "length"), x = NULL, y = NULL)

ChooseSelect(Fleet, Stock, FstYr = NULL, SelYears = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Choose_+3A_fleet">Fleet</code></td>
<td>
<p>A fleet object.</p>
</td></tr>
<tr><td><code id="Choose_+3A_years">Years</code></td>
<td>
<p>An optional vector of years. Should be nyears long.</p>
</td></tr>
<tr><td><code id="Choose_+3A_om">OM</code></td>
<td>
<p>An object of class 'OM'</p>
</td></tr>
<tr><td><code id="Choose_+3A_type">type</code></td>
<td>
<p>A character string - is M to be mapped by 'age' or 'length'?</p>
</td></tr>
<tr><td><code id="Choose_+3A_x">x</code></td>
<td>
<p>Optional vector for x-axis</p>
</td></tr>
<tr><td><code id="Choose_+3A_y">y</code></td>
<td>
<p>Optional vector for y-axis</p>
</td></tr>
<tr><td><code id="Choose_+3A_stock">Stock</code></td>
<td>
<p>Optional Stock object. If provided, average length-at-maturity
is included on plot for reference.</p>
</td></tr>
<tr><td><code id="Choose_+3A_fstyr">FstYr</code></td>
<td>
<p>Optional value for first historical year. If empty, user must
specify the year in console.</p>
</td></tr>
<tr><td><code id="Choose_+3A_selyears">SelYears</code></td>
<td>
<p>Optional vector of values for each year where selectivity
pattern changed. If empty, user must specify the years in console (comma
separated).</p>
</td></tr>
</table>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;">
<code>ChooseEffort</code> </td><td style="text-align: left;"> Interactive plot which allows users to specify the
relative trajectory and variability in the historical fishing effort and
populates Fleet object. </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>ChooseM</code> </td><td style="text-align: left;"> Interactive plot which allows users to specify M by age
or size class </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>ChooseSelect</code> </td><td style="text-align: left;"> Input the first historical year, and all years where
selectivity pattern
changed (separated by comma).  Interactive plot which allows users to
specify a range for the length at 5\
selectivity at maximum length for each year.  Produces a simple plot which
shows the range in selectivity pattern for each break-point year.
Selectivity-at-length is fixed in between break-point years.  Note that this
function replaces 'nyears' in the Fleet object with the value defined here
(FstYr:current year). </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Value</h3>

<p><code>ChooseEffort</code> and <code>ChooseSelect</code> return a Fleet object while
<code>ChooseM</code> returns an OM object.
</p>


<h3>Author(s)</h3>

<p>A. Hordyk
</p>

<hr>
<h2 id='CombineMMP'>Create a blank MP recommendations object (class Rec) of the right dimensions</h2><span id='topic+CombineMMP'></span>

<h3>Description</h3>

<p>Create a blank MP recommendations object (class Rec) of the right dimensions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CombineMMP(temp, nareas)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CombineMMP_+3A_temp">temp</code></td>
<td>
<p>A list of nsim simulations.</p>
</td></tr>
<tr><td><code id="CombineMMP_+3A_nareas">nareas</code></td>
<td>
<p>The number of areas.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>

<hr>
<h2 id='Converge'>Check Convergence</h2><span id='topic+Converge'></span>

<h3>Description</h3>

<p>Have I undertaken enough simulations (nsim)? Has my MSE converged on stable
(reliable) performance metrics?
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Converge(
  MSEobj,
  PMs = c("Yield", "P10", "AAVY"),
  maxMP = 15,
  thresh = 0.5,
  ref.it = 20,
  inc.leg = FALSE,
  all.its = FALSE,
  nrow = NULL,
  ncol = NULL,
  silent = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Converge_+3A_mseobj">MSEobj</code></td>
<td>
<p>An MSE object of class <code>'MSE'</code></p>
</td></tr>
<tr><td><code id="Converge_+3A_pms">PMs</code></td>
<td>
<p>A character vector of names of the PM methods or a list of the PM methods</p>
</td></tr>
<tr><td><code id="Converge_+3A_maxmp">maxMP</code></td>
<td>
<p>Maximum number of MPs to include in a single plot</p>
</td></tr>
<tr><td><code id="Converge_+3A_thresh">thresh</code></td>
<td>
<p>The convergence threshold. Maximum root mean square deviation over the last <code>ref.it</code> iterations</p>
</td></tr>
<tr><td><code id="Converge_+3A_ref.it">ref.it</code></td>
<td>
<p>The number of iterations to calculate the convergence statistics. For example,
a value of 20 means convergence diagnostics are calculated over last 20 simulations</p>
</td></tr>
<tr><td><code id="Converge_+3A_inc.leg">inc.leg</code></td>
<td>
<p>Logical. Should the legend be displayed?</p>
</td></tr>
<tr><td><code id="Converge_+3A_all.its">all.its</code></td>
<td>
<p>Logical. Plot all iterations? Otherwise only (nsim-ref.it):nsim</p>
</td></tr>
<tr><td><code id="Converge_+3A_nrow">nrow</code></td>
<td>
<p>Numeric. Optional. Number of rows</p>
</td></tr>
<tr><td><code id="Converge_+3A_ncol">ncol</code></td>
<td>
<p>Numeric. Optional. Number of columns</p>
</td></tr>
<tr><td><code id="Converge_+3A_silent">silent</code></td>
<td>
<p>Hide the messages printed in console?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Performance metrics are plotted against the number of simulations. Convergence diagnostics
are calculated over the last <code>ref.it</code> (default = 20) iterations. The convergence diagnostics are:
</p>

<ol>
<li><p> Is the order of the MPs stable over the last <code>ref.it</code> iterations?
</p>
</li>
<li><p> Is the average difference in performance statistic over the last <code>ref.it</code> iterations &lt; <code>thresh</code>?
</p>
</li></ol>

<p>By default three commonly used performance metrics are used:
</p>

<ol>
<li><p> Average Yield Relative to Reference Yield
</p>
</li>
<li><p> Probability Spawning Biomass is above 0.1BMSY
</p>
</li>
<li><p> Probability Average Annual Variability in Yield is &lt; 20 per cent
</p>
</li></ol>

<p>Additional or alternative performance metrics objects can be supplied. Advanced users can develop their own performance metrics.
</p>


<h3>Value</h3>

<p>A table of convergence results for each MP
</p>


<h3>Author(s)</h3>

<p>A. Hordyk
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
MSE &lt;- runMSE()
Converge(MSE)

## End(Not run)

</code></pre>

<hr>
<h2 id='Cos_thresh_tab'>Current default thresholds for COSEWIC satisficing</h2><span id='topic+Cos_thresh_tab'></span>

<h3>Description</h3>

<p>Current default thresholds for COSEWIC satisficing
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Cos_thresh_tab(Ptab1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Cos_thresh_tab_+3A_ptab1">Ptab1</code></td>
<td>
<p>A COSEWIC performance table made by COSEWIC_tab()</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>

<hr>
<h2 id='cparscheck'>Internal function for checking that the <code>OM@cpars</code> is formatted correctly</h2><span id='topic+cparscheck'></span>

<h3>Description</h3>

<p>Internal function for checking that the <code>OM@cpars</code> is formatted correctly
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cparscheck(cpars)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cparscheck_+3A_cpars">cpars</code></td>
<td>
<p>a list of model parameters to be sampled (single parameters are
a vector <code>nsim</code> long, first dimension of matrices and arrays must be <code>nsim</code>)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>either an error and the length of the first dimension of the various
cpars list items or passes and returns the number of simulations in <code>cpars</code>
</p>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>

<hr>
<h2 id='Cplot'>Plot the median biomass and yield relative to last historical year</h2><span id='topic+Cplot'></span>

<h3>Description</h3>

<p>Compare median biomass and yield in first year and last 5 years of
projection
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Cplot(
  MSEobj,
  MPs = NA,
  lastYrs = 5,
  point.size = 2,
  lab.size = 4,
  axis.title.size = 12,
  axis.text.size = 10,
  legend.title.size = 12
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Cplot_+3A_mseobj">MSEobj</code></td>
<td>
<p>An object of class MSE</p>
</td></tr>
<tr><td><code id="Cplot_+3A_mps">MPs</code></td>
<td>
<p>Optional vector of MPs to plot</p>
</td></tr>
<tr><td><code id="Cplot_+3A_lastyrs">lastYrs</code></td>
<td>
<p>Numeric. Last number of years to summarize results.</p>
</td></tr>
<tr><td><code id="Cplot_+3A_point.size">point.size</code></td>
<td>
<p>Size of the points</p>
</td></tr>
<tr><td><code id="Cplot_+3A_lab.size">lab.size</code></td>
<td>
<p>Size of labels</p>
</td></tr>
<tr><td><code id="Cplot_+3A_axis.title.size">axis.title.size</code></td>
<td>
<p>Axis title size</p>
</td></tr>
<tr><td><code id="Cplot_+3A_axis.text.size">axis.text.size</code></td>
<td>
<p>Axis text size</p>
</td></tr>
<tr><td><code id="Cplot_+3A_legend.title.size">legend.title.size</code></td>
<td>
<p>Legend title size</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
MSE &lt;- runMSE()
Cplot(MSE)

## End(Not run)
</code></pre>

<hr>
<h2 id='CSRA'>Catch at size reduction analysis</h2><span id='topic+CSRA'></span>

<h3>Description</h3>

<p>What depletion level and corresponding equilibrium F arise from data
regarding mean length of current catches, natural mortality rate, steepness
of the stock recruitment curve, maximum length, maximum growth rate, age at
maturity, age based vulnerability, maturity at age, maximum age and number
of historical years of fishing.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CSRA(M, h, Linf, K, t0, AM, a, b, vuln, mat, ML, CAL, CAA, maxage, nyears)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CSRA_+3A_m">M</code></td>
<td>
<p>A vector of natural mortality rate estimates</p>
</td></tr>
<tr><td><code id="CSRA_+3A_h">h</code></td>
<td>
<p>A vector of sampled steepness (Beverton-Holt stock recruitment)</p>
</td></tr>
<tr><td><code id="CSRA_+3A_linf">Linf</code></td>
<td>
<p>A vector of maximum length (von Bertalanffy growth)</p>
</td></tr>
<tr><td><code id="CSRA_+3A_k">K</code></td>
<td>
<p>A vector of maximum growth rate (von Bertalanffy growth)</p>
</td></tr>
<tr><td><code id="CSRA_+3A_t0">t0</code></td>
<td>
<p>A vector of theoretical age at length zero (von Bertalanffy
growth)</p>
</td></tr>
<tr><td><code id="CSRA_+3A_am">AM</code></td>
<td>
<p>A vector of age at maturity</p>
</td></tr>
<tr><td><code id="CSRA_+3A_a">a</code></td>
<td>
<p>Length-weight conversion parameter a (W=aL^b)</p>
</td></tr>
<tr><td><code id="CSRA_+3A_b">b</code></td>
<td>
<p>Length-weight conversion parameter b (W=aL^b)</p>
</td></tr>
<tr><td><code id="CSRA_+3A_vuln">vuln</code></td>
<td>
<p>A matrix nsim x nage of the vulnerability at age (max 1) to
fishing.</p>
</td></tr>
<tr><td><code id="CSRA_+3A_mat">mat</code></td>
<td>
<p>A matrix nsim x nage of the maturity at age (max 1)</p>
</td></tr>
<tr><td><code id="CSRA_+3A_ml">ML</code></td>
<td>
<p>A vector of current mean length estimates</p>
</td></tr>
<tr><td><code id="CSRA_+3A_cal">CAL</code></td>
<td>
<p>A catch-at-length matrix nyears x (1 Linf unit) length bins</p>
</td></tr>
<tr><td><code id="CSRA_+3A_caa">CAA</code></td>
<td>
<p>A catch-at-age matrix nyears x maximum age</p>
</td></tr>
<tr><td><code id="CSRA_+3A_maxage">maxage</code></td>
<td>
<p>Maximum age</p>
</td></tr>
<tr><td><code id="CSRA_+3A_nyears">nyears</code></td>
<td>
<p>Number of historical years of fishing</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>

<hr>
<h2 id='CSRAfunc'>Optimization function for CSRA</h2><span id='topic+CSRAfunc'></span>

<h3>Description</h3>

<p>What depletion level and corresponding equilibrium F arise from data
regarding mean length of current catches, natural mortality rate, steepness
of the stock recruitment curve, maximum length, maximum growth rate, age at
maturity, age based vulnerability, maturity at age, maximum age and number
of historical years of fishing.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CSRAfunc(
  lnF,
  Mc,
  hc,
  maxage,
  nyears,
  AFSc,
  AFCc,
  Linfc,
  Kc,
  t0c,
  AMc,
  ac,
  bc,
  vulnc,
  matc,
  MLc,
  CAL,
  CAA,
  opt = T,
  meth = "ML"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CSRAfunc_+3A_lnf">lnF</code></td>
<td>
<p>A proposed value of current instantaneous fishing mortality rate</p>
</td></tr>
<tr><td><code id="CSRAfunc_+3A_mc">Mc</code></td>
<td>
<p>Natural mortality rate estimates</p>
</td></tr>
<tr><td><code id="CSRAfunc_+3A_hc">hc</code></td>
<td>
<p>Steepness (Beverton-Holt stock recruitment)</p>
</td></tr>
<tr><td><code id="CSRAfunc_+3A_maxage">maxage</code></td>
<td>
<p>Maximum age</p>
</td></tr>
<tr><td><code id="CSRAfunc_+3A_nyears">nyears</code></td>
<td>
<p>Number of historical years of fishing</p>
</td></tr>
<tr><td><code id="CSRAfunc_+3A_afsc">AFSc</code></td>
<td>
<p>Age at full selection</p>
</td></tr>
<tr><td><code id="CSRAfunc_+3A_afcc">AFCc</code></td>
<td>
<p>Age at first capture</p>
</td></tr>
<tr><td><code id="CSRAfunc_+3A_linfc">Linfc</code></td>
<td>
<p>Maximum length (von Bertalanffy growth)</p>
</td></tr>
<tr><td><code id="CSRAfunc_+3A_kc">Kc</code></td>
<td>
<p>Maximum growth rate (von Bertalanffy growth)</p>
</td></tr>
<tr><td><code id="CSRAfunc_+3A_t0c">t0c</code></td>
<td>
<p>Theoretical age at length zero (von Bertalanffy growth)</p>
</td></tr>
<tr><td><code id="CSRAfunc_+3A_amc">AMc</code></td>
<td>
<p>Age at maturity</p>
</td></tr>
<tr><td><code id="CSRAfunc_+3A_ac">ac</code></td>
<td>
<p>Length-weight conversion parameter a (W=aL^b)</p>
</td></tr>
<tr><td><code id="CSRAfunc_+3A_bc">bc</code></td>
<td>
<p>Length-weight conversion parameter b (W=aL^b)</p>
</td></tr>
<tr><td><code id="CSRAfunc_+3A_vulnc">vulnc</code></td>
<td>
<p>A vector (nage long) of the vulnerability at age (max 1) to
fishing.</p>
</td></tr>
<tr><td><code id="CSRAfunc_+3A_matc">matc</code></td>
<td>
<p>A vector (nage long) of the maturity at age (max 1)</p>
</td></tr>
<tr><td><code id="CSRAfunc_+3A_mlc">MLc</code></td>
<td>
<p>A current mean length estimates</p>
</td></tr>
<tr><td><code id="CSRAfunc_+3A_cal">CAL</code></td>
<td>
<p>A catch-at-length matrix nyears x (1 Linf unit) length bins</p>
</td></tr>
<tr><td><code id="CSRAfunc_+3A_caa">CAA</code></td>
<td>
<p>A catch-at-age matrix nyears x maximum age</p>
</td></tr>
<tr><td><code id="CSRAfunc_+3A_opt">opt</code></td>
<td>
<p>Should the measure of fit be returned?</p>
</td></tr>
<tr><td><code id="CSRAfunc_+3A_meth">meth</code></td>
<td>
<p>Are we fitting to mean length or catch composition?</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>

<hr>
<h2 id='cv'>Calculate CV from vector of values</h2><span id='topic+cv'></span>

<h3>Description</h3>

<p>Calculate CV from vector of values
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cv(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cv_+3A_x">x</code></td>
<td>
<p>vector of numeric values</p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric
</p>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>

<hr>
<h2 id='Data_xl'>Read in Data object from Excel spreadsheet</h2><span id='topic+Data_xl'></span>

<h3>Description</h3>

<p>A function to read in Data object from an Excel spreadsheet
with tabs named following specific convention.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Data_xl(fname, stkname, fpath = "", saveCSV = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Data_xl_+3A_fname">fname</code></td>
<td>
<p>Name of the Excel spreadsheet file. Must include file
extension.</p>
</td></tr>
<tr><td><code id="Data_xl_+3A_stkname">stkname</code></td>
<td>
<p>Name of the Stock.</p>
</td></tr>
<tr><td><code id="Data_xl_+3A_fpath">fpath</code></td>
<td>
<p>Full file path, if file is not in current working directory</p>
</td></tr>
<tr><td><code id="Data_xl_+3A_savecsv">saveCSV</code></td>
<td>
<p>Do you also want to the Data parameters to a CSV file?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The Excel spreadsheet must have tabs named with the following convention.
For example if <code>stkname</code> is 'myFish', the Data parameters are in a tab
named 'myFishData'.
</p>


<h3>Value</h3>

<p>A object of class Data
</p>


<h3>Author(s)</h3>

<p>A. Hordyk
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
OM &lt;- OM_xl(fname='OMTables.xlsx', stkname='myFish')

## End(Not run)

</code></pre>

<hr>
<h2 id='Data-class'>Class <code>'Data'</code></h2><span id='topic+Data-class'></span>

<h3>Description</h3>

<p>An object for storing fishery data for analysis
</p>


<h3>Slots</h3>


<dl>
<dt><code>Name</code></dt><dd><p>The name of the Data object. Single value. Character string</p>
</dd>
<dt><code>Common_Name</code></dt><dd><p>Common name of the species. Character string</p>
</dd>
<dt><code>Species</code></dt><dd><p>Scientific name of the species. Genus and species name. Character string</p>
</dd>
<dt><code>Region</code></dt><dd><p>Name of the general geographic region of the fishery. Character string</p>
</dd>
<dt><code>LHYear</code></dt><dd><p>The last historical year of the simulation (before projection). Single value. Positive integer</p>
</dd>
<dt><code>MPrec</code></dt><dd><p>The previous recommendation of a management procedure. Vector of length nsim. Positive real numbers</p>
</dd>
<dt><code>Units</code></dt><dd><p>Units of the catch/absolute abundance estimates. Single value. Character string</p>
</dd>
<dt><code>MPeff</code></dt><dd><p>The current level of effort. Vector of length nsim. Positive real numbers</p>
</dd>
<dt><code>nareas</code></dt><dd><p>Number of fishing areas. Vector of length nsim. Non-negative integer</p>
</dd>
<dt><code>MaxAge</code></dt><dd><p>Maximum age. Vector nsim long. Positive integer</p>
</dd>
<dt><code>Mort</code></dt><dd><p>Natural mortality rate. Vector nsim long. Positive real numbers</p>
</dd>
<dt><code>CV_Mort</code></dt><dd><p>Coefficient of variation in natural mortality rate. Vector nsim long. Positive real numbers</p>
</dd>
<dt><code>vbLinf</code></dt><dd><p>Maximum length. Vector nsim long. Positive real numbers</p>
</dd>
<dt><code>CV_vbLinf</code></dt><dd><p>Coefficient of variation in maximum length. Vector nsim long. Positive real numbers</p>
</dd>
<dt><code>vbK</code></dt><dd><p>The von Bertalanffy growth coefficient K. Vector nsim long. Positive real numbers</p>
</dd>
<dt><code>CV_vbK</code></dt><dd><p>Coefficient of variation in the von Bertalanffy K parameter. Vector nsim long. Positive real numbers</p>
</dd>
<dt><code>vbt0</code></dt><dd><p>Theoretical age at length zero. Vector nsim long. Non-positive real numbers</p>
</dd>
<dt><code>CV_vbt0</code></dt><dd><p>Coefficient of variation in age at length zero. Vector nsim long. Positive real numbers</p>
</dd>
<dt><code>wla</code></dt><dd><p>Weight-Length parameter alpha. Vector nsim long. Positive real numbers</p>
</dd>
<dt><code>CV_wla</code></dt><dd><p>Coefficient of variation in weight-length parameter a. Vector nsim long. Positive real numbers</p>
</dd>
<dt><code>wlb</code></dt><dd><p>Weight-Length parameter beta. Vector nsim long. Positive real numbers</p>
</dd>
<dt><code>CV_wlb</code></dt><dd><p>Coefficient of variation in weight-length parameter b. Vector nsim long. Positive real numbers</p>
</dd>
<dt><code>steep</code></dt><dd><p>Steepness of stock-recruitment relationship. Vector nsim long. Value in the range of one-fifth to 1</p>
</dd>
<dt><code>CV_steep</code></dt><dd><p>Coefficient of variation in steepness. Vector nsim long. Positive real numbers</p>
</dd>
<dt><code>sigmaR</code></dt><dd><p>Recruitment variability. Vector nsim long. Positive real numbers</p>
</dd>
<dt><code>CV_sigmaR</code></dt><dd><p>Coefficient of variation in recruitment variability. Vector nsim long. Positive real numbers</p>
</dd>
<dt><code>L50</code></dt><dd><p>Length at 50 percent maturity. Vector nsim long. Positive real numbers</p>
</dd>
<dt><code>CV_L50</code></dt><dd><p>Coefficient of variation in length at 50 per cent maturity. Vector nsim long. Positive real numbers</p>
</dd>
<dt><code>L95</code></dt><dd><p>Length at 95 percent maturity. Vector nsim long. Positive real numbers</p>
</dd>
<dt><code>LenCV</code></dt><dd><p>Coefficient of variation of length-at-age (assumed constant for all age classes). Vector nsim long. Positive real numbers</p>
</dd>
<dt><code>LFC</code></dt><dd><p>Length at first capture. Vector nsim long. Positive real numbers</p>
</dd>
<dt><code>CV_LFC</code></dt><dd><p>Coefficient of variation in length at first capture. Vector nsim long. Positive real numbers</p>
</dd>
<dt><code>LFS</code></dt><dd><p>Shortest length at full selection.  Vector nsim long. Positive real numbers</p>
</dd>
<dt><code>CV_LFS</code></dt><dd><p>Coefficient of variation in length at full selection. Vector nsim long. Positive real numbers</p>
</dd>
<dt><code>Vmaxlen</code></dt><dd><p>Vulnerability of individuals at asymptotic length. Vector nsim long. Real number between 0 and 1.</p>
</dd>
<dt><code>Year</code></dt><dd><p>Years that corresponding to catch and relative abundance data. Vector nyears long. Positive integer</p>
</dd>
<dt><code>Cat</code></dt><dd><p>Total annual catches. Matrix of nsim rows and nyears columns. Non-negative real numbers</p>
</dd>
<dt><code>CV_Cat</code></dt><dd><p>Coefficient of variation in annual catches. Matrix nsim rows and either 1 or nyear columns.
Positive real numbers. Note: built-in MPs use only the first value of <code>CV_Cat</code> for all years.</p>
</dd>
<dt><code>Effort</code></dt><dd><p>Annual fishing effort. Matrix of nsim rows and nyears columns. Non-negative real numbers</p>
</dd>
<dt><code>CV_Effort</code></dt><dd><p>Coefficient of variation in annual effort. Matrix nsim rows and either 1 or nyear columns.
Positive real numbers. Note: built-in MPs use only the first value of <code>CV_Effort</code> for all years.</p>
</dd>
<dt><code>Ind</code></dt><dd><p>Relative total abundance index. Matrix of nsim rows and nyears columns. Non-negative real numbers</p>
</dd>
<dt><code>CV_Ind</code></dt><dd><p>Coefficient of variation in the relative total abundance index. Matrix nsim rows and either 1 or nyear columns.
Positive real numbers. Note: built-in MPs use only the first value of <code>CV_Ind</code> for all years</p>
</dd>
<dt><code>SpInd</code></dt><dd><p>Relative spawning abundance index. Matrix of nsim rows and nyears columns. Non-negative real numbers</p>
</dd>
<dt><code>CV_SpInd</code></dt><dd><p>Coefficient of variation in the relative spawning abundance index. Matrix nsim rows and either 1 or nyear columns. Positive real numbers.</p>
</dd>
<dt><code>VInd</code></dt><dd><p>Relative vulnerable abundance index. Matrix of nsim rows and nyears columns. Non-negative real numbers</p>
</dd>
<dt><code>CV_VInd</code></dt><dd><p>Coefficient of variation in the relative vulnerable abundance index. Matrix nsim rows and either 1 or nyear columns.
Positive real numbers.</p>
</dd>
<dt><code>AddInd</code></dt><dd><p>Optional additional indices. Array of dimensions <code>nsim</code>, n additional indices, and <code>nyears</code> (length <code>Year</code>).</p>
</dd>
<dt><code>CV_AddInd</code></dt><dd><p>Coefficient of variation for additional indices. Array of same dimensions as <code>AddInd</code></p>
</dd>
<dt><code>AddIndV</code></dt><dd><p>Vulnerability-at-age schedules for the additional indices. Array with dimensions: <code>nsim</code>, n additional indices, <code>MaxAge+1</code>.</p>
</dd>
<dt><code>AddIunits</code></dt><dd><p>Units for the additional indices - biomass (1; default) or numbers (0). Numeric vector length n.ind.</p>
</dd>
<dt><code>AddIndType</code></dt><dd><p>Index calculated from total stock (1, default), spawning stock (2), or vulnerable stock (3). Numeric vector of length n.ind</p>
</dd>
<dt><code>Rec</code></dt><dd><p>Recent recruitment strength. Matrix of nsim rows and nyears columns. Non-negative real numbers</p>
</dd>
<dt><code>CV_Rec</code></dt><dd><p>Log-normal CV for recent recruitment strength.  Matrix nsim rows and either 1 or nyear columns.
Positive real numbers. Note: built-in MPs use only the first value of <code>CV_Rec</code> for all years.</p>
</dd>
<dt><code>ML</code></dt><dd><p>Mean length time series. Matrix of nsim rows and nyears columns. Non-negative real numbers</p>
</dd>
<dt><code>Lc</code></dt><dd><p>Modal length of catches. Matrix of nsim rows and nyears columns. Positive real numbers</p>
</dd>
<dt><code>Lbar</code></dt><dd><p>Mean length of catches over Lc. Matrix of nsim rows and nyears columns. Positive real numbers</p>
</dd>
<dt><code>Vuln_CAA</code></dt><dd><p>Optional vulnerability-at-age schedule for catch-at-age samples. Used to condition OM for closed-loop
simulation testing. Replaces the fleet selectivity schedule in the OM used to generate CAA samples. Matrix
with dimensions <code>nsim</code> x <code>MaxAge+1</code>.</p>
</dd>
<dt><code>CAA</code></dt><dd><p>Catch at Age data (numbers). Array of dimensions nsim x nyears x MaxAge+1. Non-negative integers</p>
</dd>
<dt><code>Vuln_CAL</code></dt><dd><p>Optional vulnerability-at-length schedule for catch-at-length samples. Used to condition OM for closed-loop
simulation testing. Replaces the fleet selectivity schedule in the OM used to generate CAL samples. Matrix
with dimensions <code>nsim</code> x <code>length(CAL_mids)</code>.</p>
</dd>
<dt><code>CAL_bins</code></dt><dd><p>The values delimiting the length bins for the catch-at-length data. Vector. Non-negative real numbers</p>
</dd>
<dt><code>CAL_mids</code></dt><dd><p>The values of the mid-points of the length bins. Optional, calculated from <code>CAL_bins</code> if not entered. Vector. Non-negative real numbers.</p>
</dd>
<dt><code>CAL</code></dt><dd><p>Catch-at-length data. An array with dimensions nsim x nyears x length(CAL_mids). Non-negative integers. By default the CAL data will be the retained lengths (i.e, not including discards). If <code>OM@control$CAL =="removals"</code> then the CAL data will include all removals (retained + discards).</p>
</dd>
<dt><code>Dep</code></dt><dd><p>Stock depletion SSB(current)/SSB(unfished). Vector nsim long. Fraction.</p>
</dd>
<dt><code>CV_Dep</code></dt><dd><p>Coefficient of variation in current stock depletion. Vector nsim long. Positive real numbers</p>
</dd>
<dt><code>Abun</code></dt><dd><p>An estimate of absolute current vulnerable abundance. Vector nsim long. Positive real numbers</p>
</dd>
<dt><code>CV_Abun</code></dt><dd><p>Coefficient of variation in estimate of absolute current stock size. Vector nsim long. Positive real numbers</p>
</dd>
<dt><code>SpAbun</code></dt><dd><p>An estimate of absolute current spawning stock abundance. Vector nsim long. Positive real numbers</p>
</dd>
<dt><code>CV_SpAbun</code></dt><dd><p>Coefficient of variation in estimate of absolute spawning current stock size. Vector nsim long. Positive real numbers</p>
</dd>
<dt><code>FMSY_M</code></dt><dd><p>An assumed ratio of FMSY to M. Vector nsim long. Positive real numbers</p>
</dd>
<dt><code>CV_FMSY_M</code></dt><dd><p>Coefficient of variation in the ratio in FMSY/M. Vector nsim long. Positive real numbers</p>
</dd>
<dt><code>BMSY_B0</code></dt><dd><p>The most productive stock size relative to unfished. Vector nsim long. Fraction</p>
</dd>
<dt><code>CV_BMSY_B0</code></dt><dd><p>Coefficient of variation in the position of the most productive stock size relative to unfished. Vector nsim long. Positive real numbers</p>
</dd>
<dt><code>Cref</code></dt><dd><p>Reference or target catch level (eg MSY). Vector of length nsim. Positive real numbers</p>
</dd>
<dt><code>CV_Cref</code></dt><dd><p>Log-normal CV for reference or target catch level. Vector of length nsim. Positive real numbers</p>
</dd>
<dt><code>Bref</code></dt><dd><p>Reference or target biomass level (eg BMSY). Vector of length nsim. Positive real numbers</p>
</dd>
<dt><code>CV_Bref</code></dt><dd><p>Log-normal CV for reference or target biomass level. Vector of length nsim. Positive real numbers</p>
</dd>
<dt><code>Iref</code></dt><dd><p>Reference or target relative abundance index level (eg BMSY / B0). Vector of length nsim. Positive real numbers</p>
</dd>
<dt><code>CV_Iref</code></dt><dd><p>Log-normalCV for reference or target relative abundance index level. Vector of length nsim. Positive real numbers</p>
</dd>
<dt><code>t</code></dt><dd><p>The number of years corresponding to AvC and Dt. Single value. Positive integer</p>
</dd>
<dt><code>AvC</code></dt><dd><p>Average catch over time t. Vector nsim long. Positive real numbers</p>
</dd>
<dt><code>CV_AvC</code></dt><dd><p>Coefficient of variation in average catches over time t. Vector nsim long. Positive real numbers</p>
</dd>
<dt><code>Dt</code></dt><dd><p>Depletion over time t SSB(now)/SSB(now-t+1). Vector nsim long. Fraction</p>
</dd>
<dt><code>CV_Dt</code></dt><dd><p>Coefficient of variation in depletion over time t. Vector nsim long. Positive real numbers</p>
</dd>
<dt><code>Ref</code></dt><dd><p>A reference management level (eg a catch limit). Single value. Positive real number</p>
</dd>
<dt><code>Ref_type</code></dt><dd><p>Type of reference management level (eg 2009 catch limit). Single value. Character string</p>
</dd>
<dt><code>Log</code></dt><dd><p>A record of events. Single value. Character string</p>
</dd>
<dt><code>params</code></dt><dd><p>A place to store estimated parameters. An object. R list</p>
</dd>
<dt><code>PosMPs</code></dt><dd><p>The methods that can be applied to these data. Vector. Character strings</p>
</dd>
<dt><code>TAC</code></dt><dd><p>The calculated catch limits (function TAC). An array with dimensions PosMPs x replicate TAC samples x nsim. Positive real numbers</p>
</dd>
<dt><code>Sense</code></dt><dd><p>The results of the sensitivity analysis (function Sense). An array with dimensions PosMPs x sensitivity increments. Positive real numbers</p>
</dd>
<dt><code>MPs</code></dt><dd><p>The methods that were applied to these data. Vector. Character strings</p>
</dd>
<dt><code>OM</code></dt><dd><p>A table of operating model conditions. R table object of nsim rows. Real numbers</p>
</dd>
<dt><code>Obs</code></dt><dd><p>A table of observation model conditions. R table object of nsim rows. Real numbers</p>
</dd>
<dt><code>Misc</code></dt><dd><p>Other information for MPs. An object. R list</p>
</dd>
</dl>


<h3>Objects from the Class</h3>

<p>Objects can be created by calls of the form
<code>new('Data', stock)</code>
</p>


<h3>Author(s)</h3>

<p>T. Carruthers and A. Hordyk
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
newdata&lt;-new('Data')

</code></pre>

<hr>
<h2 id='Data2csv'>Converts a Data object into a .csv data file</h2><span id='topic+Data2csv'></span>

<h3>Description</h3>

<p>A function that writes a correctly formatted .csv file from a MSEtool Data object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Data2csv(Data, file = NULL, simno = 1, overwrite = F, keepNAs = T)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Data2csv_+3A_data">Data</code></td>
<td>
<p>An object of class 'Data'.</p>
</td></tr>
<tr><td><code id="Data2csv_+3A_file">file</code></td>
<td>
<p>Character string. The name of the location and file you wish to create (e.g. &quot;C:/temp/mydata.csv&quot;)</p>
</td></tr>
<tr><td><code id="Data2csv_+3A_simno">simno</code></td>
<td>
<p>Integer. An optional argument to specify the simulation number if writing simulated data</p>
</td></tr>
<tr><td><code id="Data2csv_+3A_overwrite">overwrite</code></td>
<td>
<p>Boolean. Should existing data files be automatically overwritten.</p>
</td></tr>
<tr><td><code id="Data2csv_+3A_keepnas">keepNAs</code></td>
<td>
<p>Boolean. Should slots with NAs still be written to the data file.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>

<hr>
<h2 id='DataDescription'>DataDescription</h2><span id='topic+DataDescription'></span>

<h3>Description</h3>

<p>A data.frame with description of slots for class Data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DataDescription
</code></pre>


<h3>Format</h3>

<p>An object of class <code>data.frame</code> with 94 rows and 2 columns.
</p>

<hr>
<h2 id='DataDir'>Directory of the data in the installed package on your computer</h2><span id='topic+DataDir'></span>

<h3>Description</h3>

<p>A way of locating where the package was installed so you can find example
data files and code etc.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DataDir(stock = NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="DataDir_+3A_stock">stock</code></td>
<td>
<p>Character string representing the name of a .csv file e.g.
'Snapper', 'Rockfish'</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The file path to the object
</p>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
tilefish_location &lt;- DataDir("Gulf_blue_tilefish")
tilefish_Data &lt;- new("Data", tilefish_location)

## End(Not run)
</code></pre>

<hr>
<h2 id='DataInit'>Initialize Data Input Files</h2><span id='topic+DataInit'></span>

<h3>Description</h3>

<p>Creates template for the Data input file (Excel or CSV) and Data documentation file (Markdown)
in the working directory or the directory specified by the <code>dir</code> argument
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DataInit(name = "Data", ext = c("xlsx", "csv"), overwrite = FALSE, dir = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="DataInit_+3A_name">name</code></td>
<td>
<p>Name of the data input files. Default is 'Data'. Use 'Example'
to create populated example Data Input and Data Documentation files.</p>
</td></tr>
<tr><td><code id="DataInit_+3A_ext">ext</code></td>
<td>
<p>Optional file extension for input file. 'xlsx' (default) or 'csv'</p>
</td></tr>
<tr><td><code id="DataInit_+3A_overwrite">overwrite</code></td>
<td>
<p>Logical. Overwrite existing files?</p>
</td></tr>
<tr><td><code id="DataInit_+3A_dir">dir</code></td>
<td>
<p>Optional directory path to create the Data files. Default is 'getwd()&ldquo;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Nothing. Creates template data files in the working directory.
</p>


<h3>Author(s)</h3>

<p>A. Hordyk
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
DataInit("Example") # populated example
DataInit("myData") # empty template

## End(Not run)
</code></pre>

<hr>
<h2 id='DataSlots'>DataSlots</h2><span id='topic+DataSlots'></span>

<h3>Description</h3>

<p>Dataframe with details of slots in Dat object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DataSlots
</code></pre>


<h3>Format</h3>

<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 101 rows and 4 columns.
</p>

<hr>
<h2 id='DecE_Dom'>Fleet class objects</h2><span id='topic+DecE_Dom'></span><span id='topic+DecE_HDom'></span><span id='topic+DecE_NDom'></span><span id='topic+FlatE_Dom'></span><span id='topic+FlatE_HDom'></span><span id='topic+FlatE_NDom'></span><span id='topic+Generic_DecE'></span><span id='topic+Generic_FlatE'></span><span id='topic+Generic_Fleet'></span><span id='topic+Generic_IncE'></span><span id='topic+IncE_HDom'></span><span id='topic+IncE_NDom'></span><span id='topic+Low_Effort_Non_Target'></span><span id='topic+Target_All_Fish'></span><span id='topic+Targeting_Small_Fish'></span><span id='topic+Fleet-class-objects'></span>

<h3>Description</h3>

<p>Example objects of class Fleet
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DecE_Dom

DecE_HDom

DecE_NDom

FlatE_Dom

FlatE_HDom

FlatE_NDom

Generic_DecE

Generic_FlatE

Generic_Fleet

Generic_IncE

IncE_HDom

IncE_NDom

Low_Effort_Non_Target

Target_All_Fish

Targeting_Small_Fish
</code></pre>


<h3>Format</h3>

<p>An object of class <code>Fleet</code> of length 1.
</p>
<p>An object of class <code>Fleet</code> of length 1.
</p>
<p>An object of class <code>Fleet</code> of length 1.
</p>
<p>An object of class <code>Fleet</code> of length 1.
</p>
<p>An object of class <code>Fleet</code> of length 1.
</p>
<p>An object of class <code>Fleet</code> of length 1.
</p>
<p>An object of class <code>Fleet</code> of length 1.
</p>
<p>An object of class <code>Fleet</code> of length 1.
</p>
<p>An object of class <code>Fleet</code> of length 1.
</p>
<p>An object of class <code>Fleet</code> of length 1.
</p>
<p>An object of class <code>Fleet</code> of length 1.
</p>
<p>An object of class <code>Fleet</code> of length 1.
</p>
<p>An object of class <code>Fleet</code> of length 1.
</p>
<p>An object of class <code>Fleet</code> of length 1.
</p>
<p>An object of class <code>Fleet</code> of length 1.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>avail("Fleet")
</code></pre>

<hr>
<h2 id='DFO_bar'>Department of Fisheries and Oceans stock status bar plot</h2><span id='topic+DFO_bar'></span>

<h3>Description</h3>

<p>A plot of biomass relative to BMSY over projected years
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DFO_bar(MSEobj, yres = 10)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="DFO_bar_+3A_mseobj">MSEobj</code></td>
<td>
<p>An MSE object of class MSE produced by DLMtool function runMSE</p>
</td></tr>
<tr><td><code id="DFO_bar_+3A_yres">yres</code></td>
<td>
<p>Integer: the year interval over which to calculate B/BMSY in future years</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>

<hr>
<h2 id='DFO_hist'>Department of Fisheries and Oceans historical plot</h2><span id='topic+DFO_hist'></span>

<h3>Description</h3>

<p>A plot of current and historical stock status by simulation according to the
stock status zones and reference points of DFO.
http://www.dfo-mpo.gc.ca/reports-rapports/regs/sff-cpd/precaution-eng.htm
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DFO_hist(OM, panel = T, nsim = 48)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="DFO_hist_+3A_om">OM</code></td>
<td>
<p>An operating model object of class OM</p>
</td></tr>
<tr><td><code id="DFO_hist_+3A_panel">panel</code></td>
<td>
<p>should the plots be separate or in two panels?</p>
</td></tr>
<tr><td><code id="DFO_hist_+3A_nsim">nsim</code></td>
<td>
<p>how many simulations should be plotted (over-ridden
by OM@nsim where cpars is specified)</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>

<hr>
<h2 id='DFO_plot'>Department of Fisheries and Oceans trade-off plot</h2><span id='topic+DFO_plot'></span>

<h3>Description</h3>

<p>A plot of mean biomass relative to BMSY and fishing mortality rate relative to FMSY
over the final 5 years of the projection
http://www.dfo-mpo.gc.ca/reports-rapports/regs/sff-cpd/precaution-eng.htm
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DFO_plot(MSEobj, zero_origin = T)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="DFO_plot_+3A_mseobj">MSEobj</code></td>
<td>
<p>An MSE object of class MSE produced by MSEtool function runMSE</p>
</td></tr>
<tr><td><code id="DFO_plot_+3A_zero_origin">zero_origin</code></td>
<td>
<p>Logical: should plots have a zero-zero origin?</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>

<hr>
<h2 id='DFO_plot2'>Department of Fisheries and Oceans default plot 2</h2><span id='topic+DFO_plot2'></span>

<h3>Description</h3>

<p>A preliminary plot for returning trade-offs plots and performance table for
probability of obtaining half reference (FMSY) yield and probability of biomass
dropping below 50 per cent BMSY
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DFO_plot2(MSEobj, nam = NA, panel = T, Bcut = 50, Ycut = 50)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="DFO_plot2_+3A_mseobj">MSEobj</code></td>
<td>
<p>An object of class MSE</p>
</td></tr>
<tr><td><code id="DFO_plot2_+3A_nam">nam</code></td>
<td>
<p>Title of plot</p>
</td></tr>
<tr><td><code id="DFO_plot2_+3A_panel">panel</code></td>
<td>
<p>Should the plots be organized in many panels in a single figure</p>
</td></tr>
<tr><td><code id="DFO_plot2_+3A_bcut">Bcut</code></td>
<td>
<p>The cutoff biomass for satisficing (relative to BMSY)</p>
</td></tr>
<tr><td><code id="DFO_plot2_+3A_ycut">Ycut</code></td>
<td>
<p>the cutoff yield for satisficing (relative to reference yield)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A table of performance metrics.
</p>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>

<hr>
<h2 id='DFO_proj'>Department of Fisheries and Oceans projection plot</h2><span id='topic+DFO_proj'></span>

<h3>Description</h3>

<p>A projection plot of MP performance by simulation according to the
stock status zones and reference points of DFO.
http://www.dfo-mpo.gc.ca/reports-rapports/regs/sff-cpd/precaution-eng.htm
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DFO_proj(MSEobj, maxplot = 6)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="DFO_proj_+3A_mseobj">MSEobj</code></td>
<td>
<p>An operating model object of class MSE</p>
</td></tr>
<tr><td><code id="DFO_proj_+3A_maxplot">maxplot</code></td>
<td>
<p>The maximum number of MPs to be plotted per figure</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>

<hr>
<h2 id='DFO_quant'>Department of Fisheries and Oceans biomass quantile plot</h2><span id='topic+DFO_quant'></span>

<h3>Description</h3>

<p>A plot of biomass relative to BMSY quantiles over projected years
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DFO_quant(
  MSEobj,
  maxcol = 6,
  qcol = rgb(0.4, 0.8, 0.95),
  lcol = "dodgerblue4",
  curyr = 2018,
  quants = c(0.05, 0.25, 0.75, 0.95),
  addline = T,
  forreport = T
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="DFO_quant_+3A_mseobj">MSEobj</code></td>
<td>
<p>An MSE object of class MSE produced by DLMtool function runMSE</p>
</td></tr>
<tr><td><code id="DFO_quant_+3A_maxcol">maxcol</code></td>
<td>
<p>Integer how many columns for panel plots?</p>
</td></tr>
<tr><td><code id="DFO_quant_+3A_qcol">qcol</code></td>
<td>
<p>A color, the quantile coloration</p>
</td></tr>
<tr><td><code id="DFO_quant_+3A_lcol">lcol</code></td>
<td>
<p>A color, the mean B/BMSY line</p>
</td></tr>
<tr><td><code id="DFO_quant_+3A_curyr">curyr</code></td>
<td>
<p>The current calendar year</p>
</td></tr>
<tr><td><code id="DFO_quant_+3A_quants">quants</code></td>
<td>
<p>A vector 2 long for the quantiles e.g. 0.1 and 0.9 for the 10th and 90th quantiles</p>
</td></tr>
<tr><td><code id="DFO_quant_+3A_addline">addline</code></td>
<td>
<p>Should two individual example simulations be added to the plot?</p>
</td></tr>
<tr><td><code id="DFO_quant_+3A_forreport">forreport</code></td>
<td>
<p>Logical. Is it for a report? If true, one plot of six MPs in a row will be provided one after another.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>

<hr>
<h2 id='DFO_report'>Create a standard DFO MSE report</h2><span id='topic+DFO_report'></span>

<h3>Description</h3>

<p>Provides performance plots typical in the assessment of Canadian fish stocks.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DFO_report(
  MSEobj,
  output_file = NA,
  author = "Author not specified",
  title = NA,
  maxMPs = 15
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="DFO_report_+3A_mseobj">MSEobj</code></td>
<td>
<p>An object of class MSE</p>
</td></tr>
<tr><td><code id="DFO_report_+3A_output_file">output_file</code></td>
<td>
<p>The directory and filename you wish to use for the report e.g. &quot;C:/temp/myMSEreport.html&quot;</p>
</td></tr>
<tr><td><code id="DFO_report_+3A_author">author</code></td>
<td>
<p>The person who made this report</p>
</td></tr>
<tr><td><code id="DFO_report_+3A_title">title</code></td>
<td>
<p>The title of the report</p>
</td></tr>
<tr><td><code id="DFO_report_+3A_maxmps">maxMPs</code></td>
<td>
<p>Maximum number of MPs to plot</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>

<hr>
<h2 id='DFO_spider'>DFO performance spider plot (top three MPs)</h2><span id='topic+DFO_spider'></span>

<h3>Description</h3>

<p>DFO performance spider plot (top three MPs)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DFO_spider(MSEobj)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="DFO_spider_+3A_mseobj">MSEobj</code></td>
<td>
<p>An object of class MSE produced by MSEtool::runMSE()</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>

<hr>
<h2 id='DFO_tab'>Create a standard DFO performance table</h2><span id='topic+DFO_tab'></span>

<h3>Description</h3>

<p>P_Cr_S is the probability of being in the critical zone in the first 10 projected years
P_Ct_S is the probability of being in the cautious zone in the first 10 projected years
P_H_S is the probability of being in the healthy zone in the first 10 projected years
POF_S is the probability of overfishing in the first 10 projected years
STY is the mean yield relative to FMSY management over the first 10 projected years
P_Cr_L is the probability of being in the critical zone in the last 10 projected years
P_Ct_L is the probability of being in the cautious zone in the last 10 projected years
P_H_L is the probability of being in the healthy zone in the last 10 projected years
POF_L is the probability of overfishing in the last 10 projected years
LTY is the mean yield relative to FMSY management over the last 10 projected years
AAVY is the average annual variability in yield over the whole projection phrased as a CV percentage
P_Reb is the probability the stock has rebuilt to over BMSY in 2 mean generation times
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DFO_tab(MSEobj, maxMPs = 15, rnd = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="DFO_tab_+3A_mseobj">MSEobj</code></td>
<td>
<p>An object of class MSE</p>
</td></tr>
<tr><td><code id="DFO_tab_+3A_maxmps">maxMPs</code></td>
<td>
<p>Integer: the maximum number of top ranking MPs to include in the table (ranked by long term yield)</p>
</td></tr>
<tr><td><code id="DFO_tab_+3A_rnd">rnd</code></td>
<td>
<p>The number of significant figures for rounding.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>

<hr>
<h2 id='DFO_tab_formatted'>A formatted version of the standard DFO performance plot, color coded by thresholds</h2><span id='topic+DFO_tab_formatted'></span>

<h3>Description</h3>

<p>Crit_S is the probability of being in the critical zone in the first 10 projected years
Caut_S is the probability of being in the cautious zone in the first 10 projected years
Health_S is the probability of being in the healthy zone in the first 10 projected years
OvFish_S is the probability of overfishing in the first 10 projected years
Yield_S is the mean yield relative to FMSY management over the first 10 projected years
Crit is the probability of being in the critical zone in the last 10 projected years
Caut is the probability of being in the cautious zone in the last 10 projected years
Health is the probability of being in the healthy zone in the last 10 projected years
OvFish is the probability of overfishing in the last 10 projected years
Yield is the mean yield relative to FMSY management over the last 10 projected years
AAVY is the average annual variability in yield over the whole projection phrased as a CV percentage
Reb is the probability the stock has rebuilt to over BMSY in 2 mean generation times
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DFO_tab_formatted(
  Ptab1,
  thresh = c(30, 50, 40, 60, 50, 20, 40, 50, 60, 50, 30, 50),
  ret_thresh = F
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="DFO_tab_formatted_+3A_ptab1">Ptab1</code></td>
<td>
<p>A DFO performance table made by DFO_tab()</p>
</td></tr>
<tr><td><code id="DFO_tab_formatted_+3A_thresh">thresh</code></td>
<td>
<p>A vector of thresholds for each column Health, Yield and Reb are 'greater than threshold' conditions</p>
</td></tr>
<tr><td><code id="DFO_tab_formatted_+3A_ret_thresh">ret_thresh</code></td>
<td>
<p>Logical: if true just the threshold levels are returned</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>

<hr>
<h2 id='DLMDataDir'>Directory of the installed package on your computer</h2><span id='topic+DLMDataDir'></span>

<h3>Description</h3>

<p>Directory of the installed package on your computer
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DLMDataDir(stock = NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="DLMDataDir_+3A_stock">stock</code></td>
<td>
<p>Character string representing the name of a .csv file e.g.
'Snapper', 'Rockfish'</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The file path to the object
</p>

<hr>
<h2 id='dnormal'>Double-normal selectivity curve</h2><span id='topic+dnormal'></span>

<h3>Description</h3>

<p>Double-normal selectivity curve
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dnormal(lens, lfs, sl, sr)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dnormal_+3A_lens">lens</code></td>
<td>
<p>Vector of lengths</p>
</td></tr>
<tr><td><code id="dnormal_+3A_lfs">lfs</code></td>
<td>
<p>Length at full selection</p>
</td></tr>
<tr><td><code id="dnormal_+3A_sl">sl</code></td>
<td>
<p>Sigma of ascending limb</p>
</td></tr>
<tr><td><code id="dnormal_+3A_sr">sr</code></td>
<td>
<p>Sigma of descending limb</p>
</td></tr>
</table>

<hr>
<h2 id='Dom'>Determine dominate MPs</h2><span id='topic+Dom'></span>

<h3>Description</h3>

<p>MPs that perform worse than comparable MPs across all performance metrics are considered 'dominated' as
other options are always preferable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Dom(MSEobj, ..., PMlist = NULL, Refs = NULL, Yrs = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Dom_+3A_mseobj">MSEobj</code></td>
<td>
<p>An object of class <code>MSE</code></p>
</td></tr>
<tr><td><code id="Dom_+3A_...">...</code></td>
<td>
<p>Names of Performance Metrics (PMs), or other arguments to <code>TradePlot</code>.
First PM is recycled if number of PMs is not even</p>
</td></tr>
<tr><td><code id="Dom_+3A_pmlist">PMlist</code></td>
<td>
<p>Optional list of PM names. Overrides any supplied in ... above</p>
</td></tr>
<tr><td><code id="Dom_+3A_refs">Refs</code></td>
<td>
<p>An optional named list (matching the PM names) with numeric values to override the default <code>Ref</code> values.</p>
</td></tr>
<tr><td><code id="Dom_+3A_yrs">Yrs</code></td>
<td>
<p>An optional named list (matching the PM names) with numeric values to override the default <code>Yrs</code> values.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>Dom</code> function compares the probabilities calculated in the performance metric
(<code>PM</code>) functions and determines the MPs that have a lower probability across all PMs compared
to other MPs of the same management type (e.g., size limit, TAC, etc).
Consequently, it is important that all <code>PM</code> functions are constructed so that higher probabilities = better performance
(e.g, <code>PNOF</code> is the probability of NOT overfishing)
</p>


<h3>Value</h3>

<p>A named list of length 2 with a character vector of non-dominated MPs in <code>MPs</code> and
a data.frame of dominated MPs and the names of the relevant dominated MPs in <code>DomMPs</code>
</p>


<h3>Author(s)</h3>

<p>A. Hordyk
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
MSE &lt;- runMSE(MPs=NA) # run all MPs
Nondom &lt;- Dom(MSE, "P10", "LTY", "PNOF")
# Non-dominated MPs
Nondom$MPs

# Dominated MPs
Nondom$DomMPs


## End(Not run)

</code></pre>

<hr>
<h2 id='expandHerm'>Expand the Herm list in SexPars to a matrix of fractions at age</h2><span id='topic+expandHerm'></span>

<h3>Description</h3>

<p>Expand the Herm list in SexPars to a matrix of fractions at age
</p>


<h3>Usage</h3>

<pre><code class='language-R'>expandHerm(Herm, maxage, np, nsim)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="expandHerm_+3A_herm">Herm</code></td>
<td>
<p>A list of Hermaphroditic fractions at age (starting age class 1)</p>
</td></tr>
<tr><td><code id="expandHerm_+3A_maxage">maxage</code></td>
<td>
<p>The maximum age of stocks being simulated</p>
</td></tr>
<tr><td><code id="expandHerm_+3A_np">np</code></td>
<td>
<p>The total number of stocks being simulated</p>
</td></tr>
<tr><td><code id="expandHerm_+3A_nsim">nsim</code></td>
<td>
<p>The number of simulations</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>

<hr>
<h2 id='Fease'>MP feasibility diagnostic</h2><span id='topic+Fease'></span>

<h3>Description</h3>

<p>What MPs may be run (best case scenario) for various data-availability
scenarios and management constraints?
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Fease(
  Data = NULL,
  TAC = TRUE,
  TAE = TRUE,
  SL = TRUE,
  Spatial = TRUE,
  names.only = TRUE,
  msg = TRUE,
  include.ref = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Fease_+3A_data">Data</code></td>
<td>
<p>An object of class 'Data'. Optional. If Data object is included, the returned MPs are both feasible (in terms of management)
and possible (sufficient data to run MP)</p>
</td></tr>
<tr><td><code id="Fease_+3A_tac">TAC</code></td>
<td>
<p>Logical. Are catch limits feasible for this fishery?</p>
</td></tr>
<tr><td><code id="Fease_+3A_tae">TAE</code></td>
<td>
<p>Logical. Are effort controls feasible for this fishery?</p>
</td></tr>
<tr><td><code id="Fease_+3A_sl">SL</code></td>
<td>
<p>Logical. Are size-selectivity regulations (either gear changes or size-retention regulations) feasible for this fishery?</p>
</td></tr>
<tr><td><code id="Fease_+3A_spatial">Spatial</code></td>
<td>
<p>Logical. Are spatial closures feasible for this fishery?</p>
</td></tr>
<tr><td><code id="Fease_+3A_names.only">names.only</code></td>
<td>
<p>Logical. Should only the names of the feasible MPs be returned (default)? If FALSE, a data frame with MP name, and two columns
of logical values: Can (possible given data) and Fease (feasible given management constraints) is returned</p>
</td></tr>
<tr><td><code id="Fease_+3A_msg">msg</code></td>
<td>
<p>Logical. Should messages be printed to the console?</p>
</td></tr>
<tr><td><code id="Fease_+3A_include.ref">include.ref</code></td>
<td>
<p>Logical. Should reference MPs (e.g. FMSYref) be included as feasible methods? Default is FALSE</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Either a vector of MP names that are feasible for the fishery (default) or a 3 column data frame (<code>names.only=FALSE</code>).
</p>


<h3>Author(s)</h3>

<p>T. Carruthers &amp; A. Hordyk
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
Fease(TAC=FALSE)
Fease(SL=FALSE, Spatial=FALSE)
Fease(Atlantic_mackerel, TAE=FALSE, names.only=FALSE)

## End(Not run)
</code></pre>

<hr>
<h2 id='Fleet-class'>Class <code>'Fleet'</code></h2><span id='topic+Fleet-class'></span>

<h3>Description</h3>

<p>The component of the operating model that controls fishing dynamics
</p>


<h3>Slots</h3>


<dl>
<dt><code>Name</code></dt><dd><p>Identifying name for the fleet. Usually includes location and
gear type.</p>
</dd>
<dt><code>nyears</code></dt><dd><p>The number of years for the historical simulation. Single
value. For example, if the simulated population is assumed to be unfished in
1975 and this is the year you want to start your historical simulations, and
the most recent year for which there is data available is 2019, then nyears
equals 45.</p>
</dd>
<dt><code>CurrentYr</code></dt><dd><p>The last historical year simulated before projections begin.
Single value. Note that this should match the last historical year specified in
the <code>Data</code> object, which is usually the last historical year for which data is
available.</p>
</dd>
<dt><code>EffYears</code></dt><dd><p>Vector indicating the historical years where there is
information available to infer the relative fishing effort expended.This vector
is specified in terms of the position of the year in the vector rather than the
calendar year. For example, say our simulation starts with an unfished stock in
1975,and the current year (the last year for which there is data available) is
2019. Then there are 45 historical years simulated, and EffYears should include
numbers between 1 and 45. Note that there may not be information available for
every historical year, especially for data poor fisheries. In these situations,
the EffYears vector should include only the positions of the years for which
there is information, and the vector may be shorter than the total number of
simulated historical years (nyears).</p>
</dd>
<dt><code>EffLower</code></dt><dd><p>Lower bound on relative fishing effort corresponding to
EffYears. EffLower must be a vector that is the same length as EffYears
describing how fishing effort has changed over time. Information on relative
fishing effort can be entered in any units provided they are consistent across
the entire vector because the data provided will be scaled to 1 (divided by the
maximum number provided).</p>
</dd>
<dt><code>EffUpper</code></dt><dd><p>Upper bound on relative fishing effort corresponding to
EffYears. EffUpper must be a vector that is the same length as EffYears
describing how fishing effort has changed over time. Information on relative
fishing effort can be entered in any units provided they are consistent across
the entire vector because the data provided will be scaled to 1 (divided by the
maximum number provided).</p>
</dd>
<dt><code>Esd</code></dt><dd><p>Additional inter-annual variability in fishing mortality rate. For
each historical simulation a single value is drawn from a uniform distribution
specified by the upper and lower bounds provided. If this parameter has a
positive (non-zero) value, the yearly fishing mortality rate is drawn from a
log-normal distribution with a standard deviation (in log space) specified by
the value of <code>Esd</code> drawn for that simulation. This parameter applies only to
historical projections.</p>
</dd>
<dt><code>qinc</code></dt><dd><p>Mean temporal trend in catchability (also though of as the
efficiency of fishing gear) parameter, expressed as a percentage change in
catchability (q) per year. For each simulation a single value is drawn from a
uniform distribution specified by the upper and lower bounds provided. Positive
numbers indicate an increase and negative numbers indicate a decrease. q then
changes by this amount for in each year of the simulation This parameter
applies only to forward projections.</p>
</dd>
<dt><code>qcv</code></dt><dd><p>Inter-annual variability in catchability expressed as a
coefficient of variation. For each simulation a single value is drawn from a
uniform distribution specified by the upper and lower bounds provided. This
parameter applies only to forward projections.</p>
</dd>
<dt><code>L5</code></dt><dd><p>Shortest length at which 5% of the population is vulnerable to
selection by the gear used in this fleet. Values can either be specified as
lengths (in the same units used for the maturity and growth parameters in the
stock object) or as a percentage of the size of maturity (see the parameter
isRel for more information). For each simulation a single value is drawn from a
uniform distribution specified by the upper and lower bounds provided. This
value is the same in all years unless cpars is used to provide time-varying
selection.</p>
</dd>
<dt><code>LFS</code></dt><dd><p>Shortest length at which 100% of the population is vulnerable to
selection by the gear used by this fleet. Values can either be specified as
lengths (in the same units used for the maturity and growth parameters in the
stock object) or as a percentage of the size of maturity (see the parameter
isRel for more information). For each simulation a single value is drawn from a
uniform distribution specified by the upper and lower bounds provided. This
value is the same in all years unless cpars is used to provide time-varying
selection.</p>
</dd>
<dt><code>Vmaxlen</code></dt><dd><p>Proportion of fish selected by the gear at the asymptotic
length (<code>Stock@Linf</code>). Upper and Lower bounds between 0 and 1.  A value of
1 indicates that 100% of fish are selected at the asymptotic length, and the
selection curve is logistic. If <code>Vmaxlen</code> is less than 1 the selection curve is
dome shaped. For example, if <code>Vmaxlen</code> is 0.4, then only 40% of fish are
vulnerable to the fishing gear at the asymptotic length.</p>
</dd>
<dt><code>isRel</code></dt><dd><p>Specify whether selection and retention parameters use absolute
lengths or relative to the size of maturity. Single logical value (TRUE or
FALSE).</p>
</dd>
<dt><code>LR5</code></dt><dd><p>Shortest length at which 5% of the population is vulnerable to
retention by the fleet. Values can either be specified as lengths (in the same
units used for the maturity and growth parameters in the stock object) or as a
percentage of the size of maturity (see the parameter isRel for more
information). For each simulation a single value is drawn from a uniform
distribution specified by the upper and lower bounds provided. This value is
the same in all years unless cpars is used to provide time-varying selection.</p>
</dd>
<dt><code>LFR</code></dt><dd><p>Shortest length where 100% of the population is vulnerable to
retention by the fleet. Values can either be specified as lengths (in the same
units used for the maturity and growth parameters in the stock object) or as a
percentage of the size of maturity (see the parameter <code>isRel</code> for more
information). For each simulation a single value is drawn from a uniform
distribution specified by the upper and lower bounds provided. This value is
the same in all years unless cpars is used to provide time-varying selection.</p>
</dd>
<dt><code>Rmaxlen</code></dt><dd><p>Proportion of fish retained at the asymptotic length
(<code>Stock@Linf</code>). Upper and Lower bounds between 0 and 1.  A value of 1
indicates that 100% of fish are retained at the asymptotic length, and the
selection curve is logistic. If <code>Rmaxlen</code> is less than 1 the retention curve is
dome shaped. For example, if <code>Rmaxlen</code> is 0.4, then only 40% of fish at the
asymptotic length are retained.</p>
</dd>
<dt><code>DR</code></dt><dd><p>Discard rate, defined as the proportion of fully selected fish that
are discarded by the fleet. Upper and Lower bounds between 0 and 1, with a
value of 1 indicates that 100% of selected fish are discarded. For each
simulation a single value is drawn from a uniform distribution specified by the
upper and lower bounds provided.</p>
</dd>
<dt><code>Spat_targ</code></dt><dd><p>Distribution of fishing in relation to vulnerable biomass
(VB) across areas. The distribution of fishing effort is proportional to
VB^Spat_targ. Upper and lower bounds of a uniform distribution. For each
simulation a single value is drawn from a uniform distribution specified by the
upper and lower bounds provided. This parameter allows the user to model either
avoidance or spatial targeting behavior by the fleet. If the parameter value is
1, fishing effort is allocated across areas in proportion to the population
density of that area. Values below 1 simulate an avoidance behavior and values
above 1 simulate a targeting behavior.</p>
</dd>
<dt><code>MPA</code></dt><dd><p>Logical argument (TRUE or FALSE). Creates an MPA in Area 1 for all
years if true is selected. Defaults to FALSE.</p>
</dd>
<dt><code>Misc</code></dt><dd><p>Miscellaneous list for bio-economic parameters</p>
</dd>
</dl>


<h3>Creating Object</h3>

<p>Objects can be created by calls of the form <code>new('Fleet')</code>
</p>


<h3>Author(s)</h3>

<p>T. Carruthers and A. Hordyk
</p>


<h3>Examples</h3>

<pre><code class='language-R'>showClass('Fleet')

</code></pre>

<hr>
<h2 id='FleetDescription'>FleetDescription</h2><span id='topic+FleetDescription'></span>

<h3>Description</h3>

<p>A data.frame with description of slots for class Fleet
</p>


<h3>Usage</h3>

<pre><code class='language-R'>FleetDescription
</code></pre>


<h3>Format</h3>

<p>An object of class <code>data.frame</code> with 20 rows and 2 columns.
</p>

<hr>
<h2 id='FMSYref'>Reference management procedures</h2><span id='topic+FMSYref'></span><span id='topic+FMSYref50'></span><span id='topic+FMSYref75'></span><span id='topic+NFref'></span><span id='topic+curEref'></span>

<h3>Description</h3>

<p>Several reference MPs for your operating model to use in the management strategy
evaluation. FMSYref (and related) assume perfect information about FMSY (FMSY
is taken from the operating model stored at <code>Data@Misc$ReferencePoints$ByYear$FMSY</code>),
and set an effort limit (TAE) so that F=FMSY (or some fraction of FMSY) in
each year the MP is applied. NFref sets annual catch to zero and is used
for looking at variability in stock with no fishing.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>FMSYref(x, Data, reps = 100, plot = FALSE)

FMSYref50(x, Data, reps = 100, plot = FALSE)

FMSYref75(x, Data, reps = 100, plot = FALSE)

NFref(x, Data, reps = 100, plot = FALSE)

curEref(x, Data, reps = 100, plot = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="FMSYref_+3A_x">x</code></td>
<td>
<p>A position in the data object</p>
</td></tr>
<tr><td><code id="FMSYref_+3A_data">Data</code></td>
<td>
<p>A data object</p>
</td></tr>
<tr><td><code id="FMSYref_+3A_reps">reps</code></td>
<td>
<p>The number of stochastic samples of the MP recommendation(s)</p>
</td></tr>
<tr><td><code id="FMSYref_+3A_plot">plot</code></td>
<td>
<p>Logical. Show the plot?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note that you can out-perform <code>FMSYref</code> easily. The requirement for fixed
F is actually quite strict and is by no means the upper limit in terms of
yield. Don't panic if your method beats this one for yield, especially for
short-lived species of high temporal variability in productivity!
</p>


<h3>Value</h3>

<p>An object of class <code><a href="#topic+Rec-class">Rec</a></code> with the <code>TAC</code> slot populated with a numeric vector of length <code>reps</code>
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>FMSYref()</code>: A reference FMSY method that fishes at FMSY
</p>
</li>
<li> <p><code>FMSYref50()</code>: A reference FMSY method that fishes at 50% of FMSY
</p>
</li>
<li> <p><code>FMSYref75()</code>: A reference FMSY method that fishes at 75% of FMSY
</p>
</li>
<li> <p><code>NFref()</code>: A reference MP that sets annual catch to almost zero (1e-15)
</p>
</li>
<li> <p><code>curEref()</code>: A reference MP that keeps fishing effort at the level of the last
historical year
</p>
</li></ul>


<h3>Required Data</h3>

<p>See <a href="#topic+Data-class">Data</a> for information on the <code>Data</code> object <br />
</p>


<h3>Author(s)</h3>

<p>T. Carruthers, A. Hordyk
</p>


<h3>Examples</h3>

<pre><code class='language-R'>FMSYref(1, MSEtool::SimulatedData, plot=TRUE)
FMSYref50(1, MSEtool::SimulatedData, plot=TRUE)
FMSYref75(1, MSEtool::SimulatedData, plot=TRUE)
NFref(1, MSEtool::SimulatedData, plot=TRUE)
curEref(1, MSEtool::SimulatedData)
</code></pre>

<hr>
<h2 id='GenerateRandomWalk'>Creates a time series per simulation that has a random normal walk with sigma</h2><span id='topic+GenerateRandomWalk'></span>

<h3>Description</h3>

<p>Creates a time series per simulation that has a random normal walk with sigma
</p>


<h3>Usage</h3>

<pre><code class='language-R'>GenerateRandomWalk(targ, targsd, nyears, nsim, rands = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="GenerateRandomWalk_+3A_targ">targ</code></td>
<td>
<p>mean</p>
</td></tr>
<tr><td><code id="GenerateRandomWalk_+3A_targsd">targsd</code></td>
<td>
<p>standard deviation</p>
</td></tr>
<tr><td><code id="GenerateRandomWalk_+3A_nyears">nyears</code></td>
<td>
<p>number of years to simulate</p>
</td></tr>
<tr><td><code id="GenerateRandomWalk_+3A_nsim">nsim</code></td>
<td>
<p>number of simulations</p>
</td></tr>
</table>

<hr>
<h2 id='Generic_Obs'>Obs class objects</h2><span id='topic+Generic_Obs'></span><span id='topic+Imprecise_Biased'></span><span id='topic+Imprecise_Unbiased'></span><span id='topic+Perfect_Info'></span><span id='topic+Precise_Biased'></span><span id='topic+Precise_Unbiased'></span><span id='topic+Obs-class-objects'></span>

<h3>Description</h3>

<p>Example objects of class Obs
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Generic_Obs

Imprecise_Biased

Imprecise_Unbiased

Perfect_Info

Precise_Biased

Precise_Unbiased
</code></pre>


<h3>Format</h3>

<p>An object of class <code>Obs</code> of length 1.
</p>
<p>An object of class <code>Obs</code> of length 1.
</p>
<p>An object of class <code>Obs</code> of length 1.
</p>
<p>An object of class <code>Obs</code> of length 1.
</p>
<p>An object of class <code>Obs</code> of length 1.
</p>
<p>An object of class <code>Obs</code> of length 1.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>avail("Obs")
</code></pre>

<hr>
<h2 id='genSizeCompWrap'>Wrapper for C++ function to generate length composition</h2><span id='topic+genSizeCompWrap'></span><span id='topic+getfifth'></span>

<h3>Description</h3>

<p>And other internal related functions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>genSizeCompWrap(
  i,
  vn,
  CAL_binsmid,
  CAL_bins,
  retL,
  CAL_ESS,
  CAL_nsamp,
  Linfarray,
  Karray,
  t0array,
  LenCV,
  truncSD = 2
)

getfifth(lenvec, CAL_binsmid)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="genSizeCompWrap_+3A_i">i</code></td>
<td>
<p>Simulation number</p>
</td></tr>
<tr><td><code id="genSizeCompWrap_+3A_vn">vn</code></td>
<td>
<p>Array of vulnerable numbers</p>
</td></tr>
<tr><td><code id="genSizeCompWrap_+3A_cal_binsmid">CAL_binsmid</code></td>
<td>
<p>Mid-points of CAL bins</p>
</td></tr>
<tr><td><code id="genSizeCompWrap_+3A_cal_bins">CAL_bins</code></td>
<td>
<p>Boundary of length bins</p>
</td></tr>
<tr><td><code id="genSizeCompWrap_+3A_retl">retL</code></td>
<td>
<p>Array of retention-at-length</p>
</td></tr>
<tr><td><code id="genSizeCompWrap_+3A_cal_ess">CAL_ESS</code></td>
<td>
<p>CAL effective sample size</p>
</td></tr>
<tr><td><code id="genSizeCompWrap_+3A_cal_nsamp">CAL_nsamp</code></td>
<td>
<p>CAL sample size</p>
</td></tr>
<tr><td><code id="genSizeCompWrap_+3A_linfarray">Linfarray</code></td>
<td>
<p>Matrix of Linf</p>
</td></tr>
<tr><td><code id="genSizeCompWrap_+3A_karray">Karray</code></td>
<td>
<p>Matrix of K values</p>
</td></tr>
<tr><td><code id="genSizeCompWrap_+3A_t0array">t0array</code></td>
<td>
<p>Matrix of t0 values</p>
</td></tr>
<tr><td><code id="genSizeCompWrap_+3A_lencv">LenCV</code></td>
<td>
<p>Vector of LenCV</p>
</td></tr>
<tr><td><code id="genSizeCompWrap_+3A_truncsd">truncSD</code></td>
<td>
<p>Numeric. Number of standard deviations to truncate normal d
distribution</p>
</td></tr>
<tr><td><code id="genSizeCompWrap_+3A_lenvec">lenvec</code></td>
<td>
<p>Vector of lengths</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Generated length composition from <code>genSizeComp</code>
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>getfifth()</code>: Internal function to calculate fifth percentile of size composition
</p>
</li></ul>

<hr>
<h2 id='getAFC'>Calculate age at first capture from length at first capture and growth</h2><span id='topic+getAFC'></span>

<h3>Description</h3>

<p>As title.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getAFC(t0c, Linfc, Kc, LFC, maxage)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getAFC_+3A_t0c">t0c</code></td>
<td>
<p>A vector of theoretical age at length zero (von Bertalanffy
growth)</p>
</td></tr>
<tr><td><code id="getAFC_+3A_linfc">Linfc</code></td>
<td>
<p>A vector of maximum length (von Bertalanffy growth)</p>
</td></tr>
<tr><td><code id="getAFC_+3A_kc">Kc</code></td>
<td>
<p>A vector of maximum growth rate (von Bertalanffy growth)</p>
</td></tr>
<tr><td><code id="getAFC_+3A_lfc">LFC</code></td>
<td>
<p>A vector of length at first capture</p>
</td></tr>
<tr><td><code id="getAFC_+3A_maxage">maxage</code></td>
<td>
<p>Maximum age</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>

<hr>
<h2 id='getBlow'>Blow parallel optimization function</h2><span id='topic+getBlow'></span>

<h3>Description</h3>

<p>Find the current biomass at which it would take HZN mean generation times
to reach Bfrac x SSBMSY biomass level given zero catches
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getBlow(
  x,
  N,
  Asize,
  SSBMSY,
  SSBpR,
  MPA,
  SSB0,
  nareas,
  retA,
  MGThorizon,
  Find,
  Perr,
  M_ageArray,
  hs,
  Mat_age,
  Wt_age,
  Fec_age,
  R0a,
  V,
  nyears,
  maxage,
  mov,
  Spat_targ,
  SRrel,
  aR,
  bR,
  Bfrac = 0.5,
  maxF,
  ploty = F,
  plusgroup = 0,
  SRRfun,
  SRRpars,
  spawn_time_frac
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getBlow_+3A_x">x</code></td>
<td>
<p>position in a vector</p>
</td></tr>
<tr><td><code id="getBlow_+3A_n">N</code></td>
<td>
<p>array of numbers at age by sim and area (dims nsim, maxage, nyears, nareas)</p>
</td></tr>
<tr><td><code id="getBlow_+3A_asize">Asize</code></td>
<td>
<p>matrix of area size (nsim by nareas)</p>
</td></tr>
<tr><td><code id="getBlow_+3A_ssbmsy">SSBMSY</code></td>
<td>
<p>vector nsim long of spawning biomass at MSY</p>
</td></tr>
<tr><td><code id="getBlow_+3A_ssbpr">SSBpR</code></td>
<td>
<p>matrix nsim by nareas with SSB per recruit</p>
</td></tr>
<tr><td><code id="getBlow_+3A_mpa">MPA</code></td>
<td>
<p>matrix nyears + proyears by nareas of spatial closures</p>
</td></tr>
<tr><td><code id="getBlow_+3A_ssb0">SSB0</code></td>
<td>
<p>vector of SSB0 length nsim</p>
</td></tr>
<tr><td><code id="getBlow_+3A_nareas">nareas</code></td>
<td>
<p>numeric. number of areas</p>
</td></tr>
<tr><td><code id="getBlow_+3A_reta">retA</code></td>
<td>
<p>array of retention nsim x maxage x nyears</p>
</td></tr>
<tr><td><code id="getBlow_+3A_mgthorizon">MGThorizon</code></td>
<td>
<p>vector nsim long of MGT x HZN</p>
</td></tr>
<tr><td><code id="getBlow_+3A_find">Find</code></td>
<td>
<p>matrix of fishing mortality rate nsim x nyears</p>
</td></tr>
<tr><td><code id="getBlow_+3A_perr">Perr</code></td>
<td>
<p>matrix of recruitment deviations nsim x nyears + maxage -1</p>
</td></tr>
<tr><td><code id="getBlow_+3A_m_agearray">M_ageArray</code></td>
<td>
<p>array of natural mortality rate nsim x maxage x nyears + proyears</p>
</td></tr>
<tr><td><code id="getBlow_+3A_hs">hs</code></td>
<td>
<p>vector nsim long of steepness values</p>
</td></tr>
<tr><td><code id="getBlow_+3A_mat_age">Mat_age</code></td>
<td>
<p>array nsim x nages x nyears+proyears of maturity at age</p>
</td></tr>
<tr><td><code id="getBlow_+3A_wt_age">Wt_age</code></td>
<td>
<p>matrix nsim x nages of weight at age</p>
</td></tr>
<tr><td><code id="getBlow_+3A_r0a">R0a</code></td>
<td>
<p>matrix nsim by nareas of unfished recruitment</p>
</td></tr>
<tr><td><code id="getBlow_+3A_v">V</code></td>
<td>
<p>array of vulnerability nsim x maxage x nyears</p>
</td></tr>
<tr><td><code id="getBlow_+3A_nyears">nyears</code></td>
<td>
<p>integer: number of historical years</p>
</td></tr>
<tr><td><code id="getBlow_+3A_maxage">maxage</code></td>
<td>
<p>integer: maximum age</p>
</td></tr>
<tr><td><code id="getBlow_+3A_mov">mov</code></td>
<td>
<p>array of movement nsim x 2 x 2</p>
</td></tr>
<tr><td><code id="getBlow_+3A_spat_targ">Spat_targ</code></td>
<td>
<p>vector of spatial targeting parameters</p>
</td></tr>
<tr><td><code id="getBlow_+3A_srrel">SRrel</code></td>
<td>
<p>integer representing recruitment dynamics type 1: Bev Holt 2: Ricker</p>
</td></tr>
<tr><td><code id="getBlow_+3A_ar">aR</code></td>
<td>
<p>vector of recruitment parameters</p>
</td></tr>
<tr><td><code id="getBlow_+3A_br">bR</code></td>
<td>
<p>vector of recruitment parameters</p>
</td></tr>
<tr><td><code id="getBlow_+3A_bfrac">Bfrac</code></td>
<td>
<p>fraction of SSBMSY that is the target</p>
</td></tr>
<tr><td><code id="getBlow_+3A_maxf">maxF</code></td>
<td>
<p>maximum apical fishing mortality</p>
</td></tr>
<tr><td><code id="getBlow_+3A_ploty">ploty</code></td>
<td>
<p>logical: should a plot be produced</p>
</td></tr>
<tr><td><code id="getBlow_+3A_plusgroup">plusgroup</code></td>
<td>
<p>Integer. Default = 0 = no plus-group. Use 1 to include a plus-group</p>
</td></tr>
<tr><td><code id="getBlow_+3A_spawn_time_frac">spawn_time_frac</code></td>
<td>
<p>Numeric. Fraction of the year when spawning occurs. Default = 0.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>T. Carruthers with modifications by A. Hordyk
</p>

<hr>
<h2 id='getclass'>get object class</h2><span id='topic+getclass'></span>

<h3>Description</h3>

<p>Internal function for determining if object is of classy
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getclass(x, classy)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getclass_+3A_x">x</code></td>
<td>
<p>Character string object name</p>
</td></tr>
<tr><td><code id="getclass_+3A_classy">classy</code></td>
<td>
<p>A class of object (character string, e.g. 'Fleet')</p>
</td></tr>
</table>


<h3>Value</h3>

<p>TRUE or FALSE
</p>


<h3>Author(s)</h3>

<p>T. Carruthers with nasty hacks from A. Hordyk
</p>

<hr>
<h2 id='getDataList'>Get part of an MP specific data-list</h2><span id='topic+getDataList'></span>

<h3>Description</h3>

<p>Get part of an MP specific data-list
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getDataList(MSElist, mm)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getDataList_+3A_mselist">MSElist</code></td>
<td>
<p>A hierarchical list [Stock][Fleet][MP]</p>
</td></tr>
<tr><td><code id="getDataList_+3A_mm">mm</code></td>
<td>
<p>integer the MP number</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a sublist of MSElist for a specific MP
</p>

<hr>
<h2 id='getEffhist'>Calculate historical fishing mortality</h2><span id='topic+getEffhist'></span>

<h3>Description</h3>

<p>Calculate historical fishing mortality
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getEffhist(Esd, nyears, EffYears, EffLower, EffUpper)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getEffhist_+3A_esd">Esd</code></td>
<td>
<p>vector of standard deviation</p>
</td></tr>
<tr><td><code id="getEffhist_+3A_nyears">nyears</code></td>
<td>
<p>number of years</p>
</td></tr>
<tr><td><code id="getEffhist_+3A_effyears">EffYears</code></td>
<td>
<p>index of years</p>
</td></tr>
<tr><td><code id="getEffhist_+3A_efflower">EffLower</code></td>
<td>
<p>vector of lower bound</p>
</td></tr>
<tr><td><code id="getEffhist_+3A_effupper">EffUpper</code></td>
<td>
<p>vector of upper bound</p>
</td></tr>
</table>

<hr>
<h2 id='getfirstlev'>Extract the first dimension of a hierarchical list of recommendation objects</h2><span id='topic+getfirstlev'></span>

<h3>Description</h3>

<p>Extract the first dimension of a hierarchical list of recommendation objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getfirstlev(x, name, pp, ff)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getfirstlev_+3A_x">x</code></td>
<td>
<p>Simulation number</p>
</td></tr>
<tr><td><code id="getfirstlev_+3A_name">name</code></td>
<td>
<p>Character. The slot name to extract.</p>
</td></tr>
<tr><td><code id="getfirstlev_+3A_pp">pp</code></td>
<td>
<p>Integer. The stock number (second level list)</p>
</td></tr>
<tr><td><code id="getfirstlev_+3A_ff">ff</code></td>
<td>
<p>Integer. The fleet number (third level list)</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>

<hr>
<h2 id='getmov2'>Optimization function to find a movement model that matches user specified
movement characteristics modified for Rcpp.</h2><span id='topic+getmov2'></span>

<h3>Description</h3>

<p>The user specifies the probability of staying in the same area and spatial
heterogeneity (both in the unfished state).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getmov2(x, Prob_staying, Frac_area_1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getmov2_+3A_x">x</code></td>
<td>
<p>A position in vectors Prob_staying and Frac_area_1</p>
</td></tr>
<tr><td><code id="getmov2_+3A_prob_staying">Prob_staying</code></td>
<td>
<p>User specified probability that individuals in area 1
remain in that area (unfished conditions)</p>
</td></tr>
<tr><td><code id="getmov2_+3A_frac_area_1">Frac_area_1</code></td>
<td>
<p>User specified fraction of individuals found in area 1
(unfished conditions)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is paired with movfit to find the correct movement model.
</p>


<h3>Value</h3>

<p>A markov movement matrix
</p>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
Prob_staying&lt;-0.8 # probability  that individuals remain in area 1 between time-steps
Frac_area_1&lt;-0.35 # the fraction of the stock found in area 1 under equilibrium conditions
markovmat&lt;-getmov2(1,Prob_staying, Frac_area_1)
vec&lt;-c(0.5,0.5) # initial guess at equilibrium distribution (2 areas)
for(i in 1:300)vec&lt;-apply(vec*markovmat,2,sum) # numerical approximation to stable distribution
c(markovmat[1,1],vec[1]) # pretty close right?


</code></pre>

<hr>
<h2 id='getnIVs'>Count independent variables for a MICE relationship at position x in a Rel list</h2><span id='topic+getnIVs'></span>

<h3>Description</h3>

<p>Count independent variables for a MICE relationship at position x in a Rel list
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getnIVs(x, Rel)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getnIVs_+3A_x">x</code></td>
<td>
<p>Position of a MICE relationship in the list Rel (MOM@Rel)</p>
</td></tr>
<tr><td><code id="getnIVs_+3A_rel">Rel</code></td>
<td>
<p>The list of MICE relationships (MOM@Rel)</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>T.Carruthers
</p>

<hr>
<h2 id='getq_multi_MICE'>Optimize for catchability (q) and fishing dist for a MICE model</h2><span id='topic+getq_multi_MICE'></span>

<h3>Description</h3>

<p>Function optimizes catchability (q, where F=qE) required to get to user-specified stock
depletion across stocks and fleets if there are relationships among stocks
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getq_multi_MICE(
  x,
  StockPars,
  FleetPars,
  np,
  nf,
  nareas,
  maxage,
  nyears,
  N,
  VF,
  FretA,
  maxF = 0.9,
  MPA,
  CatchFrac,
  bounds = c(1e-05, 15),
  tol = 1e-06,
  Rel,
  SexPars,
  plusgroup,
  optVB = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getq_multi_MICE_+3A_x">x</code></td>
<td>
<p>Integer, the simulation number</p>
</td></tr>
<tr><td><code id="getq_multi_MICE_+3A_stockpars">StockPars</code></td>
<td>
<p>A list of sampled stock parameters, one list element per stock</p>
</td></tr>
<tr><td><code id="getq_multi_MICE_+3A_fleetpars">FleetPars</code></td>
<td>
<p>A hierarchical list of sampled fleet parameters,
first list level is stock, second is fleet</p>
</td></tr>
<tr><td><code id="getq_multi_MICE_+3A_np">np</code></td>
<td>
<p>The number of stocks</p>
</td></tr>
<tr><td><code id="getq_multi_MICE_+3A_nf">nf</code></td>
<td>
<p>The number of fleets</p>
</td></tr>
<tr><td><code id="getq_multi_MICE_+3A_nareas">nareas</code></td>
<td>
<p>The number of areas</p>
</td></tr>
<tr><td><code id="getq_multi_MICE_+3A_maxage">maxage</code></td>
<td>
<p>The maximum number of modeled ages</p>
</td></tr>
<tr><td><code id="getq_multi_MICE_+3A_nyears">nyears</code></td>
<td>
<p>The number of historical 'spool-up' years (from unfished to now)</p>
</td></tr>
<tr><td><code id="getq_multi_MICE_+3A_n">N</code></td>
<td>
<p>An array of stock numbers <code style="white-space: pre;">&#8288;[nsim,np,maxage,nyears,nareas]&#8288;</code> -
only the values from the first year are used</p>
</td></tr>
<tr><td><code id="getq_multi_MICE_+3A_vf">VF</code></td>
<td>
<p>An array of vulnerability <code style="white-space: pre;">&#8288;[nsim,np,nf,maxage,nyears+proyears]&#8288;</code></p>
</td></tr>
<tr><td><code id="getq_multi_MICE_+3A_freta">FretA</code></td>
<td>
<p>An array of retention <code style="white-space: pre;">&#8288;[nsim,np,nf,maxage,nyears+proyears]&#8288;</code></p>
</td></tr>
<tr><td><code id="getq_multi_MICE_+3A_maxf">maxF</code></td>
<td>
<p>A numeric value specifying the maximum fishing mortality for any
single age class</p>
</td></tr>
<tr><td><code id="getq_multi_MICE_+3A_mpa">MPA</code></td>
<td>
<p>An array of spatial closures by year <code style="white-space: pre;">&#8288;[np,nf,nyears+proyears,nareas]&#8288;</code></p>
</td></tr>
<tr><td><code id="getq_multi_MICE_+3A_catchfrac">CatchFrac</code></td>
<td>
<p>A list of stock-specific fleet fractions of current catch
list<code style="white-space: pre;">&#8288;[[stock]][nsim, nf]&#8288;</code></p>
</td></tr>
<tr><td><code id="getq_multi_MICE_+3A_bounds">bounds</code></td>
<td>
<p>Bounds for total q estimation</p>
</td></tr>
<tr><td><code id="getq_multi_MICE_+3A_tol">tol</code></td>
<td>
<p>A numeric value that is the fraction of machine tolerance
(once reduction in objective function steps below this, optimization ends)</p>
</td></tr>
<tr><td><code id="getq_multi_MICE_+3A_rel">Rel</code></td>
<td>
<p>A list of inter-stock relationships see slot Rel of MOM object class</p>
</td></tr>
<tr><td><code id="getq_multi_MICE_+3A_sexpars">SexPars</code></td>
<td>
<p>A list of sex-specific dynamics SSBfrom stock_age</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>T.Carruthers
</p>

<hr>
<h2 id='getsel'>Calculate selectivity curve</h2><span id='topic+getsel'></span>

<h3>Description</h3>

<p>Calculate selectivity curve
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getsel(x, lens, lfs, sls, srs)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getsel_+3A_x">x</code></td>
<td>
<p>Simulation number</p>
</td></tr>
<tr><td><code id="getsel_+3A_lens">lens</code></td>
<td>
<p>Matrix of lengths (nsim by nlengths)</p>
</td></tr>
<tr><td><code id="getsel_+3A_lfs">lfs</code></td>
<td>
<p>Vector of length at full selection (nsim long)</p>
</td></tr>
<tr><td><code id="getsel_+3A_sls">sls</code></td>
<td>
<p>Vector of sigmas of ascending limb (nsim long)</p>
</td></tr>
<tr><td><code id="getsel_+3A_srs">srs</code></td>
<td>
<p>Vector of sigmas of descending limb (nsim long)</p>
</td></tr>
</table>

<hr>
<h2 id='hconv'>Stock recruit parameterization</h2><span id='topic+hconv'></span><span id='topic+R0conv'></span><span id='topic+SRalphaconv'></span><span id='topic+SRbetaconv'></span>

<h3>Description</h3>

<p>Convert stock recruit parameters from steepness parameterization to alpha/beta (and vice versa)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hconv(alpha, phi0, SR = 1, type = 1)

R0conv(alpha, beta, phi0, SR = 1, type = 1)

SRalphaconv(h, phi0, SR = 1, type = 1)

SRbetaconv(h, R0, phi0, SR = 1, type = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hconv_+3A_alpha">alpha</code></td>
<td>
<p>Alpha parameter</p>
</td></tr>
<tr><td><code id="hconv_+3A_phi0">phi0</code></td>
<td>
<p>Unfished spawners per recruit</p>
</td></tr>
<tr><td><code id="hconv_+3A_sr">SR</code></td>
<td>
<p>Stock-recruit function: (1) Beverton-Holt, or (2) Ricker</p>
</td></tr>
<tr><td><code id="hconv_+3A_type">type</code></td>
<td>
<p>The parameterization of the Beverton-Holt function with respect to <code>alpha</code>
and <code>beta</code>. See details.</p>
</td></tr>
<tr><td><code id="hconv_+3A_beta">beta</code></td>
<td>
<p>Beta parameter</p>
</td></tr>
<tr><td><code id="hconv_+3A_h">h</code></td>
<td>
<p>Steepness parameter</p>
</td></tr>
<tr><td><code id="hconv_+3A_r0">R0</code></td>
<td>
<p>Unfished recruitment parameter</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The Type 1 Beverton-Holt equation is
</p>
<p style="text-align: center;"><code class="reqn">R = \alpha S/(1 + \beta S)</code>
</p>

<p>The Type 2 Beverton-Holt equation is
</p>
<p style="text-align: center;"><code class="reqn">R = S/(\alpha + \beta S)</code>
</p>

<p>The Ricker equation is
</p>
<p style="text-align: center;"><code class="reqn">R = \alpha S \exp(-\beta S)</code>
</p>



<h3>Value</h3>

<p>A numeric.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>hconv()</code>: Returns steepness (h) from <code>alpha</code> and <code>phi0</code>
</p>
</li>
<li> <p><code>R0conv()</code>: Returns unfished recruitment (R0) from <code>alpha</code>, <code>beta</code>, and <code>phi0</code>
</p>
</li>
<li> <p><code>SRalphaconv()</code>: Returns <code>alpha</code> from <code>h</code> and <code>phi0</code>
</p>
</li>
<li> <p><code>SRbetaconv()</code>: Returns <code>beta</code> from <code>h</code>, <code>R0</code>, and <code>phi0</code>
</p>
</li></ul>


<h3>Author(s)</h3>

<p>Q. Huynh
</p>

<hr>
<h2 id='Hist-class'>Class <code>'Hist'</code></h2><span id='topic+Hist-class'></span>

<h3>Description</h3>

<p>An object for storing information generated by the end of the historical simulations
</p>


<h3>Slots</h3>


<dl>
<dt><code>Data</code></dt><dd><p>The Data object at the end of the historical period</p>
</dd>
<dt><code>OMPars</code></dt><dd><p>A numeric data.frame with nsim rows with sampled Stock, Fleet,
Obs, and Imp parameters.</p>
</dd>
<dt><code>AtAge</code></dt><dd><p>A named list with arrays of dimensions: <code>c(nsim, maxage+1, nyears+proyears)</code> or
<code>c(nsim, maxage+1, nyears, nareas)</code>
</p>

<ul>
<li><p> Length: Length-at-age for each simulation, age, and year
</p>
</li>
<li><p> Weight: Weight-at-age for each simulation, age, and year
</p>
</li>
<li><p> Select: Selectivity-at-age for each simulation, age, and year
</p>
</li>
<li><p> Retention: Retention-at-age for each simulation, age, and year
</p>
</li>
<li><p> Maturity: Maturity-at-age for each simulation, age, and year
</p>
</li>
<li><p> N.Mortality: Natural mortality-at-age for each simulation, age, and year
</p>
</li>
<li><p> Z.Mortality: Total mortality-at-age for each simulation, age, year and area
</p>
</li>
<li><p> F.Mortality: Fishing mortality-at-age for each simulation, age, year and area
</p>
</li>
<li><p> Fret.Mortality: Fishing mortality-at-age for retained fish for each
simulation, age, year and area
</p>
</li>
<li><p> Number: Total numbers by simulation, age, year and area
</p>
</li>
<li><p> Biomass: Total biomass by simulation, age, year and area
</p>
</li>
<li><p> VBiomass: Vulnerable biomass by simulation, age, year and area
</p>
</li>
<li><p> SBiomass: Spawning biomass by simulation, age, year and area
</p>
</li>
<li><p> Removals: Removals (biomass) by simulation, age, year and area
</p>
</li>
<li><p> Landings: Landings (biomass) by simulation, age, year and area
</p>
</li>
<li><p> Discards: Discards (biomass) by simulation, age, year and area
</p>
</li></ul>
</dd>
<dt><code>TSdata</code></dt><dd><p>A named list with population and fleet dynamics:
</p>

<ul>
<li><p> Number: Total numbers; array dimensions <code>c(nsim, nyears, nareas)</code>
</p>
</li>
<li><p> Biomass: Total biomass; array dimensions <code>c(nsim, nyears, nareas)</code>
</p>
</li>
<li><p> VBiomass: Vulnerable biomass; array dimensions <code>c(nsim, nyears, nareas)</code>
</p>
</li>
<li><p> SBiomass: Spawning Biomass; array dimensions <code>c(nsim, nyears, nareas)</code>
</p>
</li>
<li><p> Removals: Removals (biomass); array dimensions <code>c(nsim, nyears, nareas)</code>
</p>
</li>
<li><p> Landings: Landings (biomass); array dimensions <code>c(nsim, nyears, nareas)</code>
</p>
</li>
<li><p> Discards: Discards (biomass); array dimensions <code>c(nsim, nyears, nareas)</code>
</p>
</li>
<li><p> Find: Historical fishing mortality (scale-free); matrix dimensions <code>c(nsim, nyears)</code>
</p>
</li>
<li><p> RecDev: Recruitment deviations (historical and projection); matrix dimensions <code>c(nsim, nyears+proyears+maxage)</code>
</p>
</li>
<li><p> SPR: Named list with Equilibrium and Dynamic SPR (both matrices iwth dimensions <code>c(nsim, nyears)</code>)
</p>
</li>
<li><p> Unfished_Equilibrium: A named list with unfished equilibrium numbers and biomass-at-age
</p>
</li></ul>
</dd>
<dt><code>Ref</code></dt><dd><p>A named list with biological reference points:
</p>

<ul>
<li><p> ByYear: A named list with asymptotic reference points (i.e., calculated annually without recruitment deviations) all matrices with dimensions <code>nsim</code> by <code>nyears+proyears</code>:
</p>

<ul>
<li><p> N0: Asymptotic unfished total number
</p>
</li>
<li><p> SN0: Asymptotic unfished spawning number
</p>
</li>
<li><p> B0: Asymptotic unfished total biomass
</p>
</li>
<li><p> SSB0: Asymptotic unfished spawning biomass
</p>
</li>
<li><p> VB0: Asymptotic unfished vulnerable biomass
</p>
</li>
<li><p> MSY: Asymptotic MSY
</p>
</li>
<li><p> FMSY: Fishing mortality corresponding with asymptotic MSY
</p>
</li>
<li><p> SSBMSY: Spawning stock biomass corresponding with asymptotic MSY
</p>
</li>
<li><p> BMSY: total biomass corresponding with asymptotic MSY
</p>
</li>
<li><p> VBMSY: Vulnerable biomass corresponding with asymptotic MSY
</p>
</li>
<li><p> F01: Fishing mortality where the change in yield per recruit is 10% of that at F = 0
</p>
</li>
<li><p> Fmax: Fishing mortality that maximizes yield per recruit
</p>
</li>
<li><p> F_SPR: Fishing mortality corresponding to spawning potential ratio of 20 - 60% in increments of 5%; array dimensions <code>c(nsim, 9, nyears+proyears)</code>
</p>
</li>
<li><p> Fcrash: Fishing mortality corresponding to the recruits-per-spawner at the origin of the stock-recruit relationship
</p>
</li>
<li><p> Fmed: Fishing mortality corresponding to the median recruits-per-spawner in the historical period
</p>
</li>
<li><p> SPRcrash: SPR corresponding to the recruits-per-spawner at the origin of the stock-recruit relationship
</p>
</li></ul>

</li>
<li><p> Dynamic_Unfished: A named list with dynamic unfished reference points for each simulation and year:
</p>

<ul>
<li><p> N0: Unfished total numbers
</p>
</li>
<li><p> B0: Unfished total biomass
</p>
</li>
<li><p> SN0: Unfished spawning numbers
</p>
</li>
<li><p> SSB0: Unfished spawning biomass
</p>
</li>
<li><p> VB0: Unfished vulnerable biomass
</p>
</li>
<li><p> Rec: Unfished recruitment
</p>
</li></ul>

</li>
<li><p> ReferencePoints: A data.frame with <code>nsim</code> rows with with biological reference points
calculated as an average over age-of-maturity <code>ageM</code> years around the
current year (i.e. <code>nyears</code>):
</p>

<ul>
<li><p> N0: Average unfished numbers
</p>
</li>
<li><p> B0: Average unfished biomass
</p>
</li>
<li><p> SSB0: Average unfished spawning biomass (used to calculate depletion)
</p>
</li>
<li><p> SSN0: Average unfished spawning numbers
</p>
</li>
<li><p> VB0: Average unfished vulnerable biomass (used to calculate depletion if <code>cpar$control$D='VB'</code>)
</p>
</li>
<li><p> MSY: Average maximum sustainable yield (equilibrium)
</p>
</li>
<li><p> FMSY: Average fishing mortality corresponding with MSY
</p>
</li>
<li><p> SSBMSY: Average spawning stock biomass corresponding with MSY
</p>
</li>
<li><p> BMSY: Average total biomass corresponding with MSY
</p>
</li>
<li><p> VBMSY: Average vulnerable biomass corresponding with MSY
</p>
</li>
<li><p> UMSY: Average exploitation rate corresponding with MSY
</p>
</li>
<li><p> FMSY_M: Average FMSY/M ratio
</p>
</li>
<li><p> SSBMSY_SSB0: Average ratio of SSBMSY to SSB0
</p>
</li>
<li><p> BMSY_B0: Average ratio of BMSY to B0
</p>
</li>
<li><p> VBMSY_VB0: Average ratio of VBMSY to VB0
</p>
</li>
<li><p> RefY: Maximum yield obtained in forward projections with a fixed F
</p>
</li></ul>

</li></ul>
</dd>
<dt><code>SampPars</code></dt><dd><p>A named list with all sampled Stock, Fleet, Obs, and Imp parameters</p>
</dd>
<dt><code>OM</code></dt><dd><p>The <code>OM</code> object (without cpars)</p>
</dd>
<dt><code>Misc</code></dt><dd><p>A list for additional information</p>
</dd>
</dl>


<h3>Author(s)</h3>

<p>A. Hordyk
</p>

<hr>
<h2 id='hist2'>Wrapper for histogram function</h2><span id='topic+hist2'></span>

<h3>Description</h3>

<p>Produces a blank plot if all values in x are equal
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hist2(x, col, axes = FALSE, main = "", breaks = 10, cex.main = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hist2_+3A_x">x</code></td>
<td>
<p>A vector of values</p>
</td></tr>
<tr><td><code id="hist2_+3A_col">col</code></td>
<td>
<p>Colour of the histogram</p>
</td></tr>
<tr><td><code id="hist2_+3A_axes">axes</code></td>
<td>
<p>Logical - should axes be included?</p>
</td></tr>
<tr><td><code id="hist2_+3A_main">main</code></td>
<td>
<p>Character - main title</p>
</td></tr>
<tr><td><code id="hist2_+3A_breaks">breaks</code></td>
<td>
<p>Number of breaks. See ?hist for more details</p>
</td></tr>
<tr><td><code id="hist2_+3A_cex.main">cex.main</code></td>
<td>
<p>Text size of the main title</p>
</td></tr>
</table>

<hr>
<h2 id='HistDescription'>HistDescription</h2><span id='topic+HistDescription'></span>

<h3>Description</h3>

<p>A data.frame with description of slots for class Hist
</p>


<h3>Usage</h3>

<pre><code class='language-R'>HistDescription
</code></pre>


<h3>Format</h3>

<p>An object of class <code>data.frame</code> with 76 rows and 2 columns.
</p>

<hr>
<h2 id='HistMICE'>Reconstruct historical dynamics</h2><span id='topic+HistMICE'></span>

<h3>Description</h3>

<p>Function that reconstructs historical stock trends from fitted qs and all other parameters including MICE components
</p>


<h3>Usage</h3>

<pre><code class='language-R'>HistMICE(
  x,
  StockPars,
  FleetPars,
  np,
  nf,
  nareas,
  maxage,
  nyears,
  N,
  VF,
  FretA,
  maxF = 0.9,
  MPA,
  Rel,
  SexPars,
  qs,
  qfrac,
  plusgroup
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="HistMICE_+3A_x">x</code></td>
<td>
<p>Integer, the simulation number</p>
</td></tr>
<tr><td><code id="HistMICE_+3A_stockpars">StockPars</code></td>
<td>
<p>A list of sampled stock parameters, one list element per stock</p>
</td></tr>
<tr><td><code id="HistMICE_+3A_fleetpars">FleetPars</code></td>
<td>
<p>A hierarchical list of sampled fleet parameters, first list level is stock, second is fleet</p>
</td></tr>
<tr><td><code id="HistMICE_+3A_np">np</code></td>
<td>
<p>The number of stocks</p>
</td></tr>
<tr><td><code id="HistMICE_+3A_nf">nf</code></td>
<td>
<p>The number of fleets</p>
</td></tr>
<tr><td><code id="HistMICE_+3A_nareas">nareas</code></td>
<td>
<p>The number of areas</p>
</td></tr>
<tr><td><code id="HistMICE_+3A_maxage">maxage</code></td>
<td>
<p>The maximum number of modeled ages</p>
</td></tr>
<tr><td><code id="HistMICE_+3A_nyears">nyears</code></td>
<td>
<p>The number of historical 'spool-up' years (from unfished to now)</p>
</td></tr>
<tr><td><code id="HistMICE_+3A_n">N</code></td>
<td>
<p>An array of stock numbers <code style="white-space: pre;">&#8288;[nsim,np,maxage,nyears,nareas]&#8288;</code> - only the values from the first year are used</p>
</td></tr>
<tr><td><code id="HistMICE_+3A_vf">VF</code></td>
<td>
<p>An array of vulnerability <code style="white-space: pre;">&#8288;[nsim,np,nf,maxage,nyears+proyears]&#8288;</code></p>
</td></tr>
<tr><td><code id="HistMICE_+3A_freta">FretA</code></td>
<td>
<p>An array of retention <code style="white-space: pre;">&#8288;[nsim,np,nf,maxage,nyears+proyears]&#8288;</code></p>
</td></tr>
<tr><td><code id="HistMICE_+3A_maxf">maxF</code></td>
<td>
<p>A numeric value specifying the maximum fishing mortality for any single age class</p>
</td></tr>
<tr><td><code id="HistMICE_+3A_mpa">MPA</code></td>
<td>
<p>An of spatial closures by year <code style="white-space: pre;">&#8288;[np,nf,nyears+proyears,nareas]&#8288;</code></p>
</td></tr>
<tr><td><code id="HistMICE_+3A_rel">Rel</code></td>
<td>
<p>A list of inter-stock relationships see slot Rel of MOM object class</p>
</td></tr>
<tr><td><code id="HistMICE_+3A_sexpars">SexPars</code></td>
<td>
<p>A list of sex-specific relationships (SSBfrom, stock_age)</p>
</td></tr>
<tr><td><code id="HistMICE_+3A_qs">qs</code></td>
<td>
<p>Vector of q values</p>
</td></tr>
<tr><td><code id="HistMICE_+3A_qfrac">qfrac</code></td>
<td>
<p>Array of qfrac</p>
</td></tr>
<tr><td><code id="HistMICE_+3A_plusgroup">plusgroup</code></td>
<td>
<p>Plusgroup - np-length vector</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>T.Carruthers
</p>

<hr>
<h2 id='hrate'>Derives the rate of exchange from one sex to another based on asymptotic fraction</h2><span id='topic+hrate'></span>

<h3>Description</h3>

<p>Derives the rate of exchange from one sex to another based on asymptotic fraction
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hrate(frac)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hrate_+3A_frac">frac</code></td>
<td>
<p>A vector of asymptotic sex fraction (must start with zero and end with 1)</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>T.Carruthers
</p>

<hr>
<h2 id='Imp-class'>Class <code>'Imp'</code></h2><span id='topic+Imp-class'></span>

<h3>Description</h3>

<p>An operating model component that specifies the degree of adherence to management recommendations (Implementation error)
</p>


<h3>Slots</h3>


<dl>
<dt><code>Name</code></dt><dd><p>The name of the Implementation error object. Single value. Character string.</p>
</dd>
<dt><code>Name</code></dt><dd><p>The name of the Implementation error object. Single value.
Character string.</p>
</dd>
<dt><code>TACFrac</code></dt><dd><p>Mean fraction of recommended TAC that is actually taken. For
each historical simulation a single value is drawn from a uniform distribution
specified by the upper and lower bounds provided. This value is the mean TAC
fraction obtained across all years of that simulation, and a yearly TAC frac is
drawn from a log-normal distribution with the simulation mean and a coefficient
of variation specified by the value of <code>TACSD</code> drawn for that simulation. If
the value drawn is greater than 1 the amount of catch taken is greater than
that recommended by the TAC, and if it is less than 1 the amount of catch taken
is less than that recommended by the TAC. Positive real numbers.</p>
</dd>
<dt><code>TACSD</code></dt><dd><p>Log-normal coefficient of variation in the fraction of
recommended TAC that is actually taken. For each historical simulation a single
value is drawn from a uniform distribution specified by the upper and lower
bounds provided. This value is used, along with the <code>TACFrac</code> drawn for that
simulation, to create a log-normal distribution that yearly values specifying
the actual amount of catch taken are drawn from. Positive real numbers.</p>
</dd>
<dt><code>TAEFrac</code></dt><dd><p>Mean fraction of recommended TAE that is actually taken. For
each historical simulation a single value is drawn from a uniform distribution
specified by the upper and lower bounds provided. This value is the mean TAE
fraction obtained across all years of that simulation, and a yearly TAE frac is
drawn from a log-normal distribution with the simulation mean and a coefficient
of variation specified by the value of <code>TAESD</code> drawn for that simulation. If
the value drawn is greater than 1 the amount of effort employed is greater than
that recommended by the TAE, and if it is less than 1 the amount of effort
employed is less than that recommended by the TAE. Positive real numbers.</p>
</dd>
<dt><code>TAESD</code></dt><dd><p>Log-normal coefficient of variation in the fraction of
recommended TAE that is actually taken. For each historical simulation a single
value is drawn from a uniform distribution specified by the upper and lower
bounds provided. This value is used, along with the <code>TAEFrac</code> drawn for that
simulation, to create a log-normal distribution that yearly values speciying
the actual amount of efort employed are drawn from. Positive real numbers.</p>
</dd>
<dt><code>SizeLimFrac</code></dt><dd><p>Mean fraction of recommended size limit that is actually
retained. For each historical simulation a single value is drawn from a uniform
distribution specified by the upper and lower bounds provided. This value is
the mean size limit fraction obtained across all years of that simulation, and
a yearly size limit fraction is drawn from a log-normal distribution with the
simulation mean and a coefficient of variation specified by the value of
<code>SizeLimSD</code> drawn for that simulation. If the value drawn is greater than 1 the
size of fish retained is greater than that recommended by the size limit, and
if it is less than 1 the amount of size of fish retained is less than that
recommended by the size limit. Positive real numbers.</p>
</dd>
<dt><code>SizeLimSD</code></dt><dd><p>Log-normal coefficient of variation in the fraction of
recommended size limit that is actually retained. For each historical
simulation a single value is drawn from a uniform distribution specified by the
upper and lower bounds provided. This value is used, along with the
<code>SizeLimFrac</code> drawn for that simulation, to create a log-normal distribution
that yearly values speciying the actual fraction of the size limit retained are
drawn from. Positive real numbers.</p>
</dd>
</dl>


<h3>Objects from the Class</h3>

<p>Objects can be created by calls of the form
<code>new('Imp')</code>#'
</p>


<h3>Author(s)</h3>

<p>T. Carruthers and A. Hordyk
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
showClass('Imp')

</code></pre>

<hr>
<h2 id='ImpDescription'>ImpDescription</h2><span id='topic+ImpDescription'></span>

<h3>Description</h3>

<p>A data.frame with description of slots for class Imp
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ImpDescription
</code></pre>


<h3>Format</h3>

<p>An object of class <code>data.frame</code> with 7 rows and 2 columns.
</p>

<hr>
<h2 id='initialize-methods'>~~ Methods for Function <code>initialize</code> ~~</h2><span id='topic+initialize-methods'></span><span id='topic+initialize+2CData-method'></span><span id='topic+initialize+2CFleet-method'></span><span id='topic+initialize+2CMSE-method'></span><span id='topic+initialize+2CObs-method'></span><span id='topic+initialize+2COM-method'></span><span id='topic+initialize+2CStock-method'></span><span id='topic+initialize'></span><span id='topic+initialize+2CFease-method'></span><span id='topic+initialize+2CDLM_general-method'></span>

<h3>Description</h3>

<p>~~ Methods for Function <code>initialize</code> ~~
</p>


<h3>Methods</h3>


<dl>
<dt>list('signature(.Object = \'DLM\')')</dt><dd><p> %% ~~describe this method
here~~ </p>
</dd>
<dt>list('signature(.Object = \'Fleet\')')</dt><dd><p> %% ~~describe this method
here~~ </p>
</dd>
<dt>list('signature(.Object = \'MSE\')')</dt><dd><p> %% ~~describe this method
here~~ </p>
</dd>
<dt>list('signature(.Object = \'Obs\')')</dt><dd><p> %% ~~describe this
method here~~ </p>
</dd>
<dt>list('signature(.Object = \'OM\')')</dt><dd><p> %% ~~describe this method here~~
</p>
</dd>
<dt>list('signature(.Object = \'Stock\')')</dt><dd><p> %% ~~describe this method
here~~ </p>
</dd>
<dt>list('signature(.Object = \'Fease\')')</dt><dd><p> %% ~~describe this method
here~~ </p>
</dd> <dt>list('signature(.Object = \'DLM_general\')')</dt><dd><p> %% ~~describe
this method here~~ </p>
</dd>
</dl>


<hr>
<h2 id='Input'>Function to run a set of input control methods</h2><span id='topic+Input'></span>

<h3>Description</h3>

<p>Runs a set of input control methods are returns the output in a single table
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Input(Data, MPs = NA, reps = 100, timelimit = 10, CheckMPs = TRUE, msg = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Input_+3A_data">Data</code></td>
<td>
<p>A Data object</p>
</td></tr>
<tr><td><code id="Input_+3A_mps">MPs</code></td>
<td>
<p>A list of input MPs, if NA all available input MPs are run</p>
</td></tr>
<tr><td><code id="Input_+3A_reps">reps</code></td>
<td>
<p>Number of repetitions (for those methods that use them)</p>
</td></tr>
<tr><td><code id="Input_+3A_timelimit">timelimit</code></td>
<td>
<p>Maximum timelimit to run MP (in seconds)</p>
</td></tr>
<tr><td><code id="Input_+3A_checkmps">CheckMPs</code></td>
<td>
<p>Logical, the Can function is run if this is TRUE</p>
</td></tr>
<tr><td><code id="Input_+3A_msg">msg</code></td>
<td>
<p>Logical. Should messages be printed?</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>A. Hordyk
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(MSEtool)
Input(MSEtool::Cobia)

## End(Not run)

</code></pre>

<hr>
<h2 id='iSCAM'>Reads iSCAM files into a hierarchical R list object</h2><span id='topic+iSCAM'></span><span id='topic+load.iscam.files'></span><span id='topic+fetch.file.names'></span><span id='topic+read.report.file'></span><span id='topic+read.data.file'></span><span id='topic+read.control.file'></span><span id='topic+read.projection.file'></span><span id='topic+read.par.file'></span><span id='topic+read.mcmc'></span>

<h3>Description</h3>

<p>Internal functions for reading iSCAM input and output files
into R
</p>


<h3>Usage</h3>

<pre><code class='language-R'>load.iscam.files(model.dir, burnin = 1000, thin = 1, verbose = FALSE)

fetch.file.names(path, filename)

read.report.file(fn)

read.data.file(file = NULL, verbose = FALSE)

read.control.file(
  file = NULL,
  num.gears = NULL,
  num.age.gears = NULL,
  verbose = FALSE
)

read.projection.file(file = NULL, verbose = FALSE)

read.par.file(file = NULL, verbose = FALSE)

read.mcmc(model.dir = NULL, verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="iSCAM_+3A_model.dir">model.dir</code></td>
<td>
<p>Folder name</p>
</td></tr>
<tr><td><code id="iSCAM_+3A_burnin">burnin</code></td>
<td>
<p>The initial mcmc samples to be discarded</p>
</td></tr>
<tr><td><code id="iSCAM_+3A_thin">thin</code></td>
<td>
<p>The degree of chain thinning 1 in every thin
iterations is kept</p>
</td></tr>
<tr><td><code id="iSCAM_+3A_verbose">verbose</code></td>
<td>
<p>should detailed results be printed to console</p>
</td></tr>
<tr><td><code id="iSCAM_+3A_path">path</code></td>
<td>
<p>File path</p>
</td></tr>
<tr><td><code id="iSCAM_+3A_filename">filename</code></td>
<td>
<p>The filename</p>
</td></tr>
<tr><td><code id="iSCAM_+3A_fn">fn</code></td>
<td>
<p>File location</p>
</td></tr>
<tr><td><code id="iSCAM_+3A_file">file</code></td>
<td>
<p>File location</p>
</td></tr>
<tr><td><code id="iSCAM_+3A_num.gears">num.gears</code></td>
<td>
<p>The number of gears</p>
</td></tr>
<tr><td><code id="iSCAM_+3A_num.age.gears">num.age.gears</code></td>
<td>
<p>The number age-gears</p>
</td></tr>
</table>


<h3>Functions</h3>


<ul>
<li> <p><code>load.iscam.files()</code>: Wrapper function to generate R list
</p>
</li>
<li> <p><code>fetch.file.names()</code>: A function for returning the three types of iSCAM input and output files
</p>
</li>
<li> <p><code>read.report.file()</code>: A function for returning the results of the .rep iscam file
</p>
</li>
<li> <p><code>read.data.file()</code>: A function for returning the results of the .dat iscam file
</p>
</li>
<li> <p><code>read.control.file()</code>: A function for returning the results of the iscam control file
</p>
</li>
<li> <p><code>read.projection.file()</code>: A function for returning the results of the iscam projection file
</p>
</li>
<li> <p><code>read.par.file()</code>: A function for returning the results of the iscam .par file
</p>
</li>
<li> <p><code>read.mcmc()</code>: A function for returning the results of the iscam mcmc files
</p>
</li></ul>


<h3>Author(s)</h3>

<p>Chris Grandin (DFO PBS)
</p>


<h3>See Also</h3>

<p><a href="#topic+iSCAM2OM">iSCAM2OM</a>
</p>

<hr>
<h2 id='iSCAM2OM'>Reads MPD or MCMC estimates and data from iSCAM file structure into an operating model</h2><span id='topic+iSCAM2OM'></span><span id='topic+iSCAM2Data'></span>

<h3>Description</h3>

<p>Functions for importing an iSCAM assessment. From a fitted model, <code>iSCAM2OM</code>
populates the various slots of an operating model and <code>iSCAM2Data</code> generates a Data object.
These functions rely on several functions written by Chris Grandin (DFO PBS).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>iSCAM2OM(
  iSCAMdir,
  nsim = 48,
  proyears = 50,
  mcmc = FALSE,
  Name = "iSCAM model",
  Source = "No source provided",
  length_timestep = 1,
  nyr_par_mu = 2,
  Author = "No author provided",
  report = FALSE,
  silent = FALSE
)

iSCAM2Data(
  iSCAMdir,
  Name = "iSCAM assessment",
  Source = "No source provided",
  length_timestep = 1,
  Author = "No author provided"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="iSCAM2OM_+3A_iscamdir">iSCAMdir</code></td>
<td>
<p>A folder with iSCAM input and output files in it. Alternatively, a list returned by
<a href="#topic+load.iscam.files">load.iscam.files</a>.</p>
</td></tr>
<tr><td><code id="iSCAM2OM_+3A_nsim">nsim</code></td>
<td>
<p>The number of simulations to take for parameters with
uncertainty (for OM@cpars custom parameters)</p>
</td></tr>
<tr><td><code id="iSCAM2OM_+3A_proyears">proyears</code></td>
<td>
<p>The number of MSE projection years</p>
</td></tr>
<tr><td><code id="iSCAM2OM_+3A_mcmc">mcmc</code></td>
<td>
<p>Logical, whether to use mcmc samples to create custom parameters cpars. Alternatively, a list
returned by <a href="#topic+read.mcmc">read.mcmc</a>. Set the seed for the function to sub-sample the mcmc samples.</p>
</td></tr>
<tr><td><code id="iSCAM2OM_+3A_name">Name</code></td>
<td>
<p>The name of the operating model</p>
</td></tr>
<tr><td><code id="iSCAM2OM_+3A_source">Source</code></td>
<td>
<p>Reference to assessment documentation e.g. a url</p>
</td></tr>
<tr><td><code id="iSCAM2OM_+3A_length_timestep">length_timestep</code></td>
<td>
<p>How long is a model time step in years
(e.g. a quarterly model is 0.25, a monthly model 1/12) (currently only uses annual time step)</p>
</td></tr>
<tr><td><code id="iSCAM2OM_+3A_nyr_par_mu">nyr_par_mu</code></td>
<td>
<p>integer, the number of recent years to estimate vulnerability over for future projections</p>
</td></tr>
<tr><td><code id="iSCAM2OM_+3A_author">Author</code></td>
<td>
<p>Who did the assessment</p>
</td></tr>
<tr><td><code id="iSCAM2OM_+3A_report">report</code></td>
<td>
<p>logical should a numbers at age reconstruction plot be produced?</p>
</td></tr>
<tr><td><code id="iSCAM2OM_+3A_silent">silent</code></td>
<td>
<p>logical should progress reporting be printed to the console?</p>
</td></tr>
</table>


<h3>Biological parameters</h3>

<p>The function calls <code>model &lt;- load.iscam.files(iSCAMdir)</code> and grabs the following matrices:
</p>

<ul>
<li> <p><code>model$mpd$d3_weight_mat</code> - fecundity (product of weight and maturity at age)
</p>
</li>
<li> <p><code>model$mpd$ma</code> - maturity at age
</p>
</li></ul>



<h3>MPD historical reconstruction</h3>

<p>The function calls <code>model &lt;- load.iscam.files(iSCAMdir)</code> and then grabs the following matrices:
</p>

<ul>
<li> <p><code>model$mpd$N</code> - abundance at age
</p>
</li>
<li> <p><code>model$mpd$F</code> - fishing mortality at age
</p>
</li>
<li> <p><code>model$mpd$M</code> - natural mortality at age
</p>
</li></ul>

<p>If a delay-difference model is recognized, then the following is used instead:
</p>

<ul>
<li> <p><code>model$mpd$F_dd</code> - fishing mortality at age
</p>
</li>
<li> <p><code>model$mpd$M_dd</code> - natural mortality at age
</p>
</li></ul>

<p>Abundance at age is reconstructed using <code>model$mpd$rt</code> (recruitment) and projected with <code>F_dd</code> and
<code>M_dd</code> to match <code>model$mpd$numbers</code>.
</p>


<h3>MCMC historical reconstruction</h3>

<p>If <code>mcmc = TRUE</code> the function calls <code>mcmc_model &lt;- read.mcmc(iSCAMdir)</code>, and grabs <code>nsim</code> sub-samples of the MCMC output
through the following arrays:
</p>

<ul>
<li> <p><code>mcmc_model$params</code> and <code>mcmc_model$ft</code> - fishing mortality at age from the fleet selectivity parameters and apical F's
</p>
</li>
<li> <p><code>mcmc_model$m</code> - year-specific natural mortality at age
</p>
</li>
<li> <p><code>mcmc_model$params$rinit</code> and <code>mcmc_model$rt</code> - recruitment and abundance
</p>
</li></ul>



<h3>Start age</h3>

<p>While the iSCAM start age can be greater than zero, abundance at age is back-calculated to age zero using the M
at the start age.
</p>
<p>These arrays are then passed to <code>VPA2OM</code> to generate the operating model.
</p>


<h3>Reference points</h3>

<p>iSCAM calculates the stock-recruit relationship and subsequently a single set of MSY and unfished reference
points using R0, steepness, and unfished spawners per recruit from the mean M, fecundity, and growth (mean with
respect to time).
</p>
<p>R0 and h are recalculated for the operating model by obtaining the stock-recruit alpha and beta from the
iSCAM parameters and the mean unfished spawners per recruit in the first <code>ageM</code> (age of 50% maturity) years.
R0 is also back calculated to age zero.
</p>


<h3>Author(s)</h3>

<p>T. Carruthers, Q. Huynh
</p>

<hr>
<h2 id='iSCAMcomps'>Combines all iSCAM age composition data across fleets</h2><span id='topic+iSCAMcomps'></span>

<h3>Description</h3>

<p>iSCAM assessments are often fitted to numerous fleets that have differing
age selectivities. iSCAMcomps is a simple way of providing the aggregate catch at age
data. It should be noted that this process is important and in a real application would
require due diligence (ie peer reviewed data workshop).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>iSCAMcomps(replist, Year)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="iSCAMcomps_+3A_replist">replist</code></td>
<td>
<p>S3 class object: the output from a read from an iSCAM data folder</p>
</td></tr>
<tr><td><code id="iSCAMcomps_+3A_year">Year</code></td>
<td>
<p>Integer vector: the years of the data object ie Data@Year</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>

<hr>
<h2 id='iSCAMinds'>Combines indices into a single index using linear modelling (** Deprecated **)</h2><span id='topic+iSCAMinds'></span>

<h3>Description</h3>

<p>iSCAM assessments often make use of multiple indices of abundance.
The data object and MPs currently only make use of a single index.
combiSCAMinds is a function that creates a single index from many using
linear modelling. It is a simple way of providing initial calculations of
management recommendations and it should be noted that this process
is important and in a real application would require due diligence (ie
peer reviewed data workshop).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>iSCAMinds(idata, Year, fleeteffect = T)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="iSCAMinds_+3A_idata">idata</code></td>
<td>
<p>List: the indices recorded in a read from an iSCAM data folder, e.g. replist$data$indices</p>
</td></tr>
<tr><td><code id="iSCAMinds_+3A_year">Year</code></td>
<td>
<p>Integer vector: the years of the data object ie Data@Year</p>
</td></tr>
<tr><td><code id="iSCAMinds_+3A_fleeteffect">fleeteffect</code></td>
<td>
<p>Logical: should a fleet effect be added to the linear model?</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>

<hr>
<h2 id='join_plots'>Plot several plots with a shared legend</h2><span id='topic+join_plots'></span>

<h3>Description</h3>

<p>Plot several plots with a shared legend
</p>


<h3>Usage</h3>

<pre><code class='language-R'>join_plots(
  plots,
  ncol = length(plots),
  nrow = 1,
  position = c("right", "bottom"),
  legend = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="join_plots_+3A_plots">plots</code></td>
<td>
<p>list of plot objects of class <code>gg</code> or <code>ggplot</code></p>
</td></tr>
<tr><td><code id="join_plots_+3A_ncol">ncol</code></td>
<td>
<p>Optional number of columns</p>
</td></tr>
<tr><td><code id="join_plots_+3A_nrow">nrow</code></td>
<td>
<p>Optional number of rows</p>
</td></tr>
<tr><td><code id="join_plots_+3A_position">position</code></td>
<td>
<p>position of the legend (&quot;bottom&quot; or &quot;right&quot;)</p>
</td></tr>
<tr><td><code id="join_plots_+3A_legend">legend</code></td>
<td>
<p>Logical. Use a legend?</p>
</td></tr>
</table>


<h3>Note</h3>

<p>modified from https://github.com/tidyverse/ggplot2/wiki/share-a-legend-between-two-ggplot2-graphs
</p>

<hr>
<h2 id='joinData'>Join Data objects present in a list</h2><span id='topic+joinData'></span>

<h3>Description</h3>

<p>A function that combined a list of data objects into a single data object (same dimensions but can have different numbers of simulations)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>joinData(DataList)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="joinData_+3A_datalist">DataList</code></td>
<td>
<p>A list of data objects of identical dimension (except for simulation)</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>


<h3>See Also</h3>

<p><a href="#topic+joinMSE">joinMSE</a> <a href="#topic+joinHist">joinHist</a>
</p>

<hr>
<h2 id='Kplot'>KOBE plot: a projection by projection plot of F/FMSY and B/BMSY</h2><span id='topic+Kplot'></span>

<h3>Description</h3>

<p>A standard KOBE plot by each method that also shows the percentage of
methods that ended up in each quadrant.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Kplot(
  MSEobj,
  maxsim = 60,
  MPs = NA,
  sims = NULL,
  maxMP = 9,
  nam = NA,
  cex.leg = 1.5
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Kplot_+3A_mseobj">MSEobj</code></td>
<td>
<p>An object of class MSE</p>
</td></tr>
<tr><td><code id="Kplot_+3A_maxsim">maxsim</code></td>
<td>
<p>Maximum number of simulations (lines) to plot on each panel.</p>
</td></tr>
<tr><td><code id="Kplot_+3A_mps">MPs</code></td>
<td>
<p>Optional subset MSE object by MP</p>
</td></tr>
<tr><td><code id="Kplot_+3A_sims">sims</code></td>
<td>
<p>Optional subset MSE object by simulation</p>
</td></tr>
<tr><td><code id="Kplot_+3A_maxmp">maxMP</code></td>
<td>
<p>Maximum number of MPs to include in plot</p>
</td></tr>
<tr><td><code id="Kplot_+3A_nam">nam</code></td>
<td>
<p>The name of the plot</p>
</td></tr>
<tr><td><code id="Kplot_+3A_cex.leg">cex.leg</code></td>
<td>
<p>Size of legend</p>
</td></tr>
</table>


<h3>Note</h3>

<p>Apologies for the nauseating shading.
</p>


<h3>Author(s)</h3>

<p>T. Carruthers with some additions from A. Hordyk
</p>

<hr>
<h2 id='L2A'>Length to age conversion</h2><span id='topic+L2A'></span>

<h3>Description</h3>

<p>Simple deterministic length to age conversion given inverse von Bertalanffy
growth.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>L2A(t0c, Linfc, Kc, Len, maxage, ploty = F)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="L2A_+3A_t0c">t0c</code></td>
<td>
<p>Theoretical age at length zero</p>
</td></tr>
<tr><td><code id="L2A_+3A_linfc">Linfc</code></td>
<td>
<p>Maximum length</p>
</td></tr>
<tr><td><code id="L2A_+3A_kc">Kc</code></td>
<td>
<p>Maximum growth rate</p>
</td></tr>
<tr><td><code id="L2A_+3A_len">Len</code></td>
<td>
<p>Length</p>
</td></tr>
<tr><td><code id="L2A_+3A_maxage">maxage</code></td>
<td>
<p>Maximum age</p>
</td></tr>
<tr><td><code id="L2A_+3A_ploty">ploty</code></td>
<td>
<p>Should a plot be included</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An age (vector of ages, matrix of ages) corresponding with Len
</p>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>

<hr>
<h2 id='label.class-class'>Label class union for performance metric objects</h2><span id='topic+label.class-class'></span>

<h3>Description</h3>

<p>Used internally. Nothing to see here!
</p>

<hr>
<h2 id='Lag_Data'>Lag the time-series slots in a <code>Data</code> object by a specified number of time-steps</h2><span id='topic+Lag_Data'></span>

<h3>Description</h3>

<p>Lag the time-series slots in a <code>Data</code> object by a specified number of time-steps
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Lag_Data(Data, Data_Lag = 0, msg = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Lag_Data_+3A_data">Data</code></td>
<td>
<p>An object of class <code>Data</code></p>
</td></tr>
<tr><td><code id="Lag_Data_+3A_data_lag">Data_Lag</code></td>
<td>
<p>Either a numeric vector of length 1 with a positive number
specifying the number of time-steps to lag all time-series data, or a named
list with numeric values (length 1). See details for more information.</p>
</td></tr>
<tr><td><code id="Lag_Data_+3A_msg">msg</code></td>
<td>
<p>Logical. Display the messages?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>By default, all simulated data in the forward projections are provided up to the
previous time-step. That is, in projection year <code>t</code>, the simulated data are up to
and including <code>t-1</code>.
This function will lag the time-series values by the specified value. For example,
<code>Data_Lag=5</code> will mean in projection time-step <code>t</code> the data will be up to and
including <code>t-6</code>.
</p>
<p><em>Note</em>: The <code>Data@Year</code> slot is <em>not</em> lagged by this function.
Many built-in MPs use the length of <code>Data@Year</code> to determine the number of
years of data for smoothing over recent years etc. This may not be appropriate
so check the MP is behaving as you expect if you use <code>Lag_Data</code>.
</p>


<h3>Value</h3>

<p>An object of class <code>Data</code> with time-series slots lagged.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Lag all time-series slots by 2 time-steps (usually years)
Data &lt;- Example_datafile
Lagged_1 &lt;- Lag_Data(Data, 2)
length(Data@Year)
length(Lagged_1@Year)
length(Data@Cat[1,])
length(Lagged_1@Cat[1,])
length(Data@Ind[1,])
length(Lagged_1@Ind[1,])

# Lag CAA by 5 and Ind by 3 time-steps
Lagged_2 &lt;- Lag_Data(Data, Data_Lag=list(CAA=5, Ind=3))
length(Lagged_2@Year)
length(Lagged_2@Cat[1,])
dim(Data@CAA[1,,])
dim(Lagged_2@CAA[1,,])

length(Data@Ind[1,])
length(Lagged_2@Ind[1,])
</code></pre>

<hr>
<h2 id='ldim'>Dimensions of a hierarchical list object</h2><span id='topic+ldim'></span>

<h3>Description</h3>

<p>Dimensions of a hierarchical list object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ldim(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ldim_+3A_x">x</code></td>
<td>
<p>A list</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>

<hr>
<h2 id='LH2OM'>Predict missing life-history parameters</h2><span id='topic+LH2OM'></span><span id='topic+predictLH'></span>

<h3>Description</h3>

<p>Predict missing life-history based on taxonomic information and
hierarchical model fitted to FishBase life-history parameters
</p>


<h3>Usage</h3>

<pre><code class='language-R'>LH2OM(
  OM,
  dist = c("unif", "norm"),
  filterMK = FALSE,
  plot = TRUE,
  Class = "predictive",
  Order = "predictive",
  Family = "predictive",
  msg = TRUE,
  db = MSEtool::LHdatabase
)

predictLH(
  inpars = list(),
  Genus = "predictive",
  Species = "predictive",
  nsamp = 100,
  db = MSEtool::LHdatabase,
  dist = c("unif", "norm"),
  filterMK = TRUE,
  plot = TRUE,
  Class = "predictive",
  Order = "predictive",
  Family = "predictive",
  msg = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="LH2OM_+3A_om">OM</code></td>
<td>
<p>An object of class 'OM'</p>
</td></tr>
<tr><td><code id="LH2OM_+3A_dist">dist</code></td>
<td>
<p>Character. Should parameters be sampled from a uniform (<code>unif</code>) or
normal (<code>norm</code>) distribution?</p>
</td></tr>
<tr><td><code id="LH2OM_+3A_filtermk">filterMK</code></td>
<td>
<p>Logical or numeric specifying percentiles. See Details.
e.g. <code>OM@M</code> and <code>OM@K</code>. Empty slots or slots with all values of 0 are considered unknown.</p>
</td></tr>
<tr><td><code id="LH2OM_+3A_plot">plot</code></td>
<td>
<p>Logical. Should the plot be produced?</p>
</td></tr>
<tr><td><code id="LH2OM_+3A_class">Class</code></td>
<td>
<p>Optional higher order taxonomic information</p>
</td></tr>
<tr><td><code id="LH2OM_+3A_order">Order</code></td>
<td>
<p>Optional higher order taxonomic information</p>
</td></tr>
<tr><td><code id="LH2OM_+3A_family">Family</code></td>
<td>
<p>Optional higher order taxonomic information</p>
</td></tr>
<tr><td><code id="LH2OM_+3A_msg">msg</code></td>
<td>
<p>Logical. Should messages be printed?</p>
</td></tr>
<tr><td><code id="LH2OM_+3A_db">db</code></td>
<td>
<p>Database from FishLife model with fitted model results</p>
</td></tr>
<tr><td><code id="LH2OM_+3A_inpars">inpars</code></td>
<td>
<p>A named list with lower and upper bounds of provided parameters: <em>Linf</em>, <em>L50</em>,
<em>K</em> and <em>M</em> (must be length 2). Unknown or missing parameters should not be included. For example, an empty list assumes
that all four life history parameters are unknown and need to be estimated. See Details below for more information.</p>
</td></tr>
<tr><td><code id="LH2OM_+3A_genus">Genus</code></td>
<td>
<p>Character string specifying the Genus name. Optional. Default is 'predictive'</p>
</td></tr>
<tr><td><code id="LH2OM_+3A_species">Species</code></td>
<td>
<p>Character string specifying the Species name. Optional. Default is 'predictive'. If full species name
(Genus + Species) is not found if FishLife database (based on FishBase) higher order taxonomy will be used (e.g., Family)
for the predictions.</p>
</td></tr>
<tr><td><code id="LH2OM_+3A_nsamp">nsamp</code></td>
<td>
<p>The number of samples to return</p>
</td></tr>
</table>


<h3>Details</h3>



<h4>filterMK</h4>

<p>If filterMK is logical: Should the predicted M and K parameters be filtered within the range specified in <code>inpars</code>or <code>OM</code>?
</p>
<p>Otherwise, filterMK must be numeric vector of length(2) specifying lower and upper percentiles that will be applied
to the predicted M or K values
</p>

<p>The model predicts missing life-history parameters based on provided parameters and taxonomic information.
If both <em>M</em> and <em>K</em> are provided in <code>inpars</code> or  <code>OM</code>, <em>K</em> values are predicted and predictions filtered
so that resulting <em>K</em> values are within bounds specified in <code>inpars$K</code> or <code>OM@K</code> (see <code>filterMK</code>).
</p>
<p>If both <em>Linf</em> and <em>L50</em> are provided in <code>inpars</code> or <code>OM</code>, <em>L50</em> values are predicted and values in <code>inpars$L50</code>
or <code>OM@L50</code> are ignored.
</p>


<h3>Value</h3>

<p>LH2OM: An OM with <code>OM@cpars</code> populated with <code>OM@nsim</code> samples of M, K, Linf and L50
</p>
<p>predictLH: A data.frame with <code>nsamp</code> rows with <code>Linf</code>, <code>L50</code>, <code>K</code>, and <code>M</code> values.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>LH2OM()</code>: Predict missing life-history and populate <code>OM@cpars</code>
</p>
</li>
<li> <p><code>predictLH()</code>: Predict missing life-history based on taxonomic information and
hierarchical model fitted to FishBase life-history parameters
</p>
</li></ul>


<h3>Author(s)</h3>

<p>A. Hordyk
</p>


<h3>Source</h3>

<p><a href="https://github.com/James-Thorson-NOAA/FishLife">https://github.com/James-Thorson-NOAA/FishLife</a>
</p>


<h3>References</h3>

<p>Thorson, J. T., S. B. Munch, J. M. Cope, and J. Gao. 2017.
Predicting life history parameters for all fishes worldwide. Ecological Applications. 27(8): 2262&ndash;2276
</p>

<hr>
<h2 id='LHdatabase'>LHdatabase</h2><span id='topic+LHdatabase'></span>

<h3>Description</h3>

<p>Database from the FishLife package with predicted life-history parameters for all species on FishBase
</p>


<h3>Usage</h3>

<pre><code class='language-R'>LHdatabase
</code></pre>


<h3>Format</h3>

<p>An object of class <code>list</code> of length 3.
</p>


<h3>Source</h3>

<p><a href="https://github.com/James-Thorson-NOAA/FishLife/">https://github.com/James-Thorson-NOAA/FishLife/</a>
</p>


<h3>References</h3>

<p>Thorson, J. T., S. B. Munch, J. M. Cope, and J. Gao. 2017.
Predicting life history parameters for all fishes worldwide. Ecological Applications. 27(8): 2262&ndash;2276
</p>

<hr>
<h2 id='LinInterp'>Linear interpolation of a y value at level xlev based on a vector x and y</h2><span id='topic+LinInterp'></span>

<h3>Description</h3>

<p>Linear interpolation of a y value at level xlev based on a vector x and y
</p>


<h3>Usage</h3>

<pre><code class='language-R'>LinInterp(x, y, xlev, ascending = FALSE, zeroint = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="LinInterp_+3A_x">x</code></td>
<td>
<p>A vector of x values</p>
</td></tr>
<tr><td><code id="LinInterp_+3A_y">y</code></td>
<td>
<p>A vector of y values (identical length to x)</p>
</td></tr>
<tr><td><code id="LinInterp_+3A_xlev">xlev</code></td>
<td>
<p>A the target level of x from which to guess y. Can be either a numeric or vector.</p>
</td></tr>
<tr><td><code id="LinInterp_+3A_ascending">ascending</code></td>
<td>
<p>Are the the x values supposed to be ordered before interpolation</p>
</td></tr>
<tr><td><code id="LinInterp_+3A_zeroint">zeroint</code></td>
<td>
<p>is there a zero-zero x-y intercept?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>As of version 3.2, this function uses <code>stats::approx</code>
</p>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>

<hr>
<h2 id='makeMOM'>Utility for making multi-OMs</h2><span id='topic+makeMOM'></span>

<h3>Description</h3>

<p>Converts an OM to a single stock, single fleet MOM.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>makeMOM(..., silent = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="makeMOM_+3A_...">...</code></td>
<td>
<p>An <a href="#topic+OM-class">OM</a>.</p>
</td></tr>
<tr><td><code id="makeMOM_+3A_silent">silent</code></td>
<td>
<p>Should messages be printed out to the console?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A class <a href="#topic+MOM-class">MOM</a> object.
</p>


<h3>Author(s)</h3>

<p>Q. Huynh
</p>


<h3>Examples</h3>

<pre><code class='language-R'>MOM &lt;- makeMOM(testOM)
</code></pre>

<hr>
<h2 id='makemov'>Calculates movement matrices from user inputs for fraction in each area (fracs) and probability of staying in areas (prob)</h2><span id='topic+makemov'></span>

<h3>Description</h3>

<p>A function for calculating a movement matrix from user specified unfished stock biomass fraction in each area.
Used by <a href="#topic+simmov">simmov</a> to generate movement matrices for an operating model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>makemov(fracs = c(0.1, 0.2, 0.3, 0.4), prob = c(0.5, 0.8, 0.9, 0.95))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="makemov_+3A_fracs">fracs</code></td>
<td>
<p>A vector nareas long of fractions of unfished stock biomass in each area</p>
</td></tr>
<tr><td><code id="makemov_+3A_prob">prob</code></td>
<td>
<p>A vector of the probability of individuals staying in each area or a single value for the mean probability of staying among all areas</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>


<h3>See Also</h3>

<p><a href="#topic+simmov">simmov</a>
</p>

<hr>
<h2 id='makemov2'>Calculates movement matrices from user inputs for fraction in each area (fracs) the relative fraction moving to other areas, plus a mean probability of staying in any given area.</h2><span id='topic+makemov2'></span>

<h3>Description</h3>

<p>A function for calculating a movement matrix from user specified distribution among areas (v) and relative movement to other areas (solves for positive diagonal - vector of prob staying).
Used by <a href="#topic+simmov2">simmov2</a> to generate movement matrices for an operating model. There must be a prior on the positive diagonal of the movement matrix or these will tend to 1
and hence perfectly satisfy the requirement V = MV.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>makemov2(
  dist = c(0.05, 0.6, 0.35),
  prob = 0.5,
  probE = 1,
  frac_other = matrix(c(NA, 2, 1, 2, NA, 1, 1, 2, NA), nrow = 3, byrow = T),
  plot = F
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="makemov2_+3A_dist">dist</code></td>
<td>
<p>A vector nareas long of fractions of unfished stock biomass in each area</p>
</td></tr>
<tr><td><code id="makemov2_+3A_prob">prob</code></td>
<td>
<p>A vector of the probability of individuals staying in each area or a single value for the mean probability of staying among all areas</p>
</td></tr>
<tr><td><code id="makemov2_+3A_probe">probE</code></td>
<td>
<p>The logit CV associated with prob (used as a penalty when optimizing for diagonal)</p>
</td></tr>
<tr><td><code id="makemov2_+3A_frac_other">frac_other</code></td>
<td>
<p>A matrix nareas x nareas that specifies the relative fraction moving from one area to the others. The positive diagonal is unspecified.</p>
</td></tr>
<tr><td><code id="makemov2_+3A_plot">plot</code></td>
<td>
<p>Should the convergence to a stable distribution be plotted?</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>


<h3>See Also</h3>

<p><a href="#topic+simmov2">simmov2</a>
</p>

<hr>
<h2 id='makeRel'>MICE relationships for multi-OM</h2><span id='topic+makeRel'></span><span id='topic+print.Rel'></span><span id='topic+predict.Rel'></span><span id='topic+simulate.Rel'></span>

<h3>Description</h3>

<p>Generate a MICE <code>Rel</code> object, with <code>predict</code> and <code>simulate</code> methods, for <a href="#topic+multiMSE">multiMSE</a>.
Currently implements intra-stock dynamics via density-dependent processes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>makeRel(type = "DDM", stock = 1, CV = 0, ...)

## S3 method for class 'Rel'
print(x, ...)

## S3 method for class 'Rel'
predict(object, newdata, ...)

## S3 method for class 'Rel'
simulate(object, nsim = 1, seed = 1, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="makeRel_+3A_type">type</code></td>
<td>
<p>String to indicate the type of stock interaction. <code>"DDM"</code> for
density-dependent natural mortality.</p>
</td></tr>
<tr><td><code id="makeRel_+3A_stock">stock</code></td>
<td>
<p>The index position of the stock in the MOM.</p>
</td></tr>
<tr><td><code id="makeRel_+3A_cv">CV</code></td>
<td>
<p>Coefficient of variation of the predicted value for <code>simulate</code>. Used to pass
values to the operating model.</p>
</td></tr>
<tr><td><code id="makeRel_+3A_...">...</code></td>
<td>
<p>Additional arguments depending on <code>type</code>. See details below.</p>
</td></tr>
<tr><td><code id="makeRel_+3A_x">x</code></td>
<td>
<p>For <code>print.Rel</code>, a <code>Rel</code> class object from <code>make_Rel</code>.</p>
</td></tr>
<tr><td><code id="makeRel_+3A_object">object</code></td>
<td>
<p>A <code>Rel</code> class object from <code>make_Rel</code>.</p>
</td></tr>
<tr><td><code id="makeRel_+3A_newdata">newdata</code></td>
<td>
<p>A data frame to provide values of predictor variables with which to calculate the
response variable.</p>
</td></tr>
<tr><td><code id="makeRel_+3A_nsim">nsim</code></td>
<td>
<p>The number of simulations.</p>
</td></tr>
<tr><td><code id="makeRel_+3A_seed">seed</code></td>
<td>
<p>Integer to specify the seed for the random number generator.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A class &quot;Rel&quot; object to pass to <code>MOM@Rel</code>.
</p>


<h3>Density-dependent M (&quot;DDM&quot;)</h3>

<p>Natural mortality (M) is a linear function of stock depletion in terms to total biomass (B) in year y
(Forrest et al. 2018):
</p>
<p style="text-align: center;"><code class="reqn">M_y = M_0 + (M_1 + M_0) (1 - B_y/B_0)</code>
</p>

<p>with a constraint that <code class="reqn">M_y = M_0</code> if <code class="reqn">B_y &gt; B_0</code>
</p>
<p>Provide the following arguments:
</p>

<ul>
<li> <p><code>M0</code>: Natural mortality as B approaches B0. Vector <code style="white-space: pre;">&#8288;[nsim]&#8288;</code>
</p>
</li>
<li> <p><code>M1</code>: Natural mortality as B approaches zero. Vector <code style="white-space: pre;">&#8288;[nsim]&#8288;</code>
</p>
</li>
<li><p> Optional <code>B0</code>: Unfished biomass. Calculated from stock-recruit <code>alpha</code> and <code>beta</code> and unfished
biomass per recruit at M = M0. Vector <code style="white-space: pre;">&#8288;[nsim]&#8288;</code>
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Q. Huynh
</p>


<h3>References</h3>

<p>Forrest, R., Holt, K., and Kronlund, A. 2018. Performance of alternative harvest control rules for two
Pacific groundfish stocks with uncertain natural mortality: Bias, robustness and trade-offs.
Fisheries Research 206: 259–286. <a href="https://doi.org/10.1016/j.fishres.2018.04.007">doi:10.1016/j.fishres.2018.04.007</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Depensatory natural mortality
Rel &lt;- makeRel(type = "DDM", M0 = 0.8, M1 = 0.2, CV = 0.1)

# Predict M when B/B0 = 0.1
pred &lt;- predict(Rel, newdata = data.frame(B_1 = 0.1, B0_1 = 1))

# Simulate values of M with CV = 0.1
Rel$fitted.values &lt;- pred
simulate(Rel, nsim = 10, seed = 1)

# Add Rel to MOM
MOM &lt;- makeMOM(testOM)
MOM@Rel &lt;- list(Rel)
</code></pre>

<hr>
<h2 id='makeTransparent'>Make colors transparent</h2><span id='topic+makeTransparent'></span>

<h3>Description</h3>

<p>Make colors transparent
</p>


<h3>Usage</h3>

<pre><code class='language-R'>makeTransparent(someColor, alpha = 100)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="makeTransparent_+3A_somecolor">someColor</code></td>
<td>
<p>Character string describing color</p>
</td></tr>
<tr><td><code id="makeTransparent_+3A_alpha">alpha</code></td>
<td>
<p>transparency</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>

<hr>
<h2 id='ML2D'>Depletion and F estimation from mean length of catches</h2><span id='topic+ML2D'></span>

<h3>Description</h3>

<p>A highly dubious means of getting very uncertain estimates of current stock
biomass and (equilibrium) fishing mortality rate from growth, natural
mortality rate, recruitment and fishing selectivity.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ML2D(OM, ML, nsim = 100, ploty = T, Dlim = c(0.05, 0.6))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ML2D_+3A_om">OM</code></td>
<td>
<p>An object of class 'OM'</p>
</td></tr>
<tr><td><code id="ML2D_+3A_ml">ML</code></td>
<td>
<p>A estimate of current mean length of catches</p>
</td></tr>
<tr><td><code id="ML2D_+3A_nsim">nsim</code></td>
<td>
<p>Number of simulations</p>
</td></tr>
<tr><td><code id="ML2D_+3A_ploty">ploty</code></td>
<td>
<p>Produce a plot of depletion and F</p>
</td></tr>
<tr><td><code id="ML2D_+3A_dlim">Dlim</code></td>
<td>
<p>Limits on the depletion that is returned as a fraction of
unfished biomass.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class 'OM' with 'D' slot populated
</p>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>

<hr>
<h2 id='MMSE-class'>Class <code>'MMSE'</code></h2><span id='topic+MMSE-class'></span>

<h3>Description</h3>

<p>A Multi Management Strategy Evaluation object that contains information about
simulation conditions and performance of MPs for a multi-stock, multi-fleet operating model.
</p>


<h3>Slots</h3>


<dl>
<dt><code>Name</code></dt><dd><p>Name of the MMSE object. Single value. Character string</p>
</dd>
<dt><code>nyears</code></dt><dd><p>The number of years for the historical simulation. Single value. Positive integer</p>
</dd>
<dt><code>proyears</code></dt><dd><p>The number of years for the projections - closed loop simulations. Single value. Positive integer</p>
</dd>
<dt><code>nMPs</code></dt><dd><p>Number of management procedures simulation tested. Single value. Positive integer.</p>
</dd>
<dt><code>MPs</code></dt><dd><p>The names of the MPs that were tested. Vector of length nMPs. Character strings.</p>
</dd>
<dt><code>MPcond</code></dt><dd><p>The MP condition. Character ('bystock': an MP per stock, 'byfleet' and MP per stock and fleet, 'MMP' an MP for all stocks and fleets)</p>
</dd>
<dt><code>MPrefs</code></dt><dd><p>The names of the MPs applied for each stock (row) and fleet (column). An array.</p>
</dd>
<dt><code>nsim</code></dt><dd><p>Number of simulations. Single value. Positive integer</p>
</dd>
<dt><code>nstocks</code></dt><dd><p>Number of stocks. Single value. Positive integer</p>
</dd>
<dt><code>nfleets</code></dt><dd><p>Number of fleets. Single value. Positive integer</p>
</dd>
<dt><code>Snames</code></dt><dd><p>Names of the stocks</p>
</dd>
<dt><code>Fnames</code></dt><dd><p>Names of the fleets (matrix nstocks x nfleets)</p>
</dd>
<dt><code>Stocks</code></dt><dd><p>The stock operating model objects. List of Stocks</p>
</dd>
<dt><code>Fleets</code></dt><dd><p>The fleet operating model objects. Hierarchical list, fleets nested in stocks.</p>
</dd>
<dt><code>Obss</code></dt><dd><p>The fleet specific observation error operating model objects. Hierarchical list, fleets nested in stocks.</p>
</dd>
<dt><code>Imps</code></dt><dd><p>The fleet specific implementation error operating model objects. Hierarchical list, fleets nested in stocks.</p>
</dd>
<dt><code>OM</code></dt><dd><p>A table of sampled parameters of the operating model. Data frame of nsim rows.</p>
</dd>
<dt><code>Obs</code></dt><dd><p>A table of sampled parameters of the observation model. Data frame of nsim rows.</p>
</dd>
<dt><code>SB_SBMSY</code></dt><dd><p>Simulated spawning biomass relative to SBMSY over the projection. An array with dimensions: nsim, nStocks, nMPs, proyears. Non-negative real numbers</p>
</dd>
<dt><code>F_FMSY</code></dt><dd><p>Simulated fishing mortality rate relative to FMSY over the projection. An array with dimensions: nsim, nStocks, nFleets, nMPs, proyears. Non-negative real numbers</p>
</dd>
<dt><code>N</code></dt><dd><p>Simulated stock numbers over the projection. An array with dimensions: nsim, nStocks, <code>maxage</code>+1, nMPs, proyears, nareas. Non-negative real numbers</p>
</dd>
<dt><code>B</code></dt><dd><p>Simulated stock biomass over the projection. An array with dimensions: nsim, nStocks, nMPs, proyears. Non-negative real numbers</p>
</dd>
<dt><code>SSB</code></dt><dd><p>Simulated spawning stock biomass over the projection. An array with dimensions: nsim, nStocks, nMPs, proyears. Non-negative real numbers</p>
</dd>
<dt><code>VB</code></dt><dd><p>Simulated vulnerable biomass over the projection. An array with dimensions: nsim, nStocks, nMPs, proyears. Non-negative real numbers</p>
</dd>
<dt><code>FM</code></dt><dd><p>Simulated fishing mortality rate over the projection. An array with dimensions: nsim, nStocks, nFleets, nMPs, proyears. Non-negative real numbers</p>
</dd>
<dt><code>SPR</code></dt><dd><p>A list of SPR values. Currently not used.</p>
</dd>
<dt><code>Catch</code></dt><dd><p>Simulated catches (landings) over the projection. An array with dimensions: nsim,  nStocks, nFleets, nMPs, proyears. Non-negative real numbers</p>
</dd>
<dt><code>Removals</code></dt><dd><p>Simulated removals (landings+discards) over the projection. An array with dimensions: nsim,  nStocks, nFleets, nMPs, proyears. Non-negative real numbers</p>
</dd>
<dt><code>Effort</code></dt><dd><p>Simulated relative fishing effort in the projection years. An array with dimensions: nsim, nStocks, nFleets, nMPs, proyears. Non-negative real numbers</p>
</dd>
<dt><code>TAC</code></dt><dd><p>Simulated Total Allowable Catch (prescribed) over the projection (this is NA for input controls). An array with dimensions: nsim, nStocks, nFleets, nMPs, proyears. Non-negative real numbers</p>
</dd>
<dt><code>TAE</code></dt><dd><p>Simulated Total Allowable Effort (prescribed) over the projection (this is NA for output controls). An array with dimensions: nsim, nStocks, nFleets, nMPs, proyears. Non-negative real numbers</p>
</dd>
<dt><code>BioEco</code></dt><dd><p>A named list of bio-economic output. Not currently used.</p>
</dd>
<dt><code>RefPoint</code></dt><dd><p>Named list of annual MSY reference points MSY, FMSY, and SBMSY.
Array with dimensions: nsim, nstocks, nMPs, nyears+proyears. Will be the same as <code>multiHist@Ref$ByYear</code> unless selectivity is changed by MP</p>
</dd>
<dt><code>multiHist</code></dt><dd><p>The object of class <code>multiHist</code> containing information from the spool-up period.</p>
</dd>
<dt><code>PPD</code></dt><dd><p>Posterior predictive data. List of <code>Data</code> objects at the end of
the projection period (length <code>nMPs</code>)</p>
</dd>
<dt><code>Misc</code></dt><dd><p>Miscellaneous output such as posterior predictive data</p>
</dd>
</dl>


<h3>Objects from the Class</h3>

<p>Objects can be created by calls of the form
<code>new('MMSE', Name, nyears, proyears, nMPs, MPs, nsim, OMtable, Obs,
B_BMSYa, F_FMSYa, Ba, FMa, Ca, OFLa, Effort, PAA, CAA, CAL, CALbins)</code>
</p>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>

<hr>
<h2 id='MOM-class'>Class <code>'MOM'</code></h2><span id='topic+MOM-class'></span>

<h3>Description</h3>

<p>An object containing all the parameters needed to control a multi-stock, multi-fleet MSE which can
be build from component Stock, Fleet, Obs, and Imp objects.
</p>


<h3>Details</h3>

<p>Almost all of these inputs are a vector of length 2 which describes the upper and lower
bounds of a uniform distribution from which to sample the parameter.
</p>


<h3>Slots</h3>


<dl>
<dt><code>Name</code></dt><dd><p>Name of the operating model</p>
</dd>
<dt><code>Agency</code></dt><dd><p>Name of the agency responsible for the management of the fishery. Character string</p>
</dd>
<dt><code>Region</code></dt><dd><p>Name of the general geographic region of the fishery. Character string</p>
</dd>
<dt><code>Sponsor</code></dt><dd><p>Name of the organization who sponsored the OM. Character string</p>
</dd>
<dt><code>Latitude</code></dt><dd><p>Latitude (decimal degrees). Negative values represent the South of the Equator. Numeric. Single value</p>
</dd>
<dt><code>Longitude</code></dt><dd><p>Longitude (decimal degrees). Negative values represent the West of the Prime Meridian. Numeric. Single value</p>
</dd>
<dt><code>nsim</code></dt><dd><p>The number of simulations</p>
</dd>
<dt><code>proyears</code></dt><dd><p>The number of projected years</p>
</dd>
<dt><code>interval</code></dt><dd><p>The assessment interval - how often would you like to update the management system?</p>
</dd>
<dt><code>pstar</code></dt><dd><p>The percentile of the sample of the management recommendation for each method</p>
</dd>
<dt><code>maxF</code></dt><dd><p>Maximum instantaneous fishing mortality rate that may be simulated for any given age class</p>
</dd>
<dt><code>reps</code></dt><dd><p>Number of samples of the management recommendation for each method. Note that when this is set to 1, the mean value of
the data inputs is used.</p>
</dd>
<dt><code>cpars</code></dt><dd><p>A hierarchical list nstock then nfleet long of custom parameters. Time series are a matrix nsim rows by nyears columns. Single parameters are a vector nsim long</p>
</dd>
<dt><code>seed</code></dt><dd><p>A random seed to ensure users can reproduce results exactly</p>
</dd>
<dt><code>Source</code></dt><dd><p>A reference to a website or article from which parameters were taken to define the operating model</p>
</dd>
<dt><code>Stocks</code></dt><dd><p>List of stock objects</p>
</dd>
<dt><code>Fleets</code></dt><dd><p>List of Fleet objects</p>
</dd>
<dt><code>Obs</code></dt><dd><p>Hierarchical List of Observation model objects Level 1 is stock, level 2 is fleet</p>
</dd>
<dt><code>Imps</code></dt><dd><p>Hierarchical List of Implementation model objects Level 1 is stock, level 2 is fleet</p>
</dd>
<dt><code>CatchFrac</code></dt><dd><p>A list nstock long, of matrices nsim x nfleet representing the fraction of current catches of the various fleets to each stock (each matrix is nsim by nfleet long and rows sum to 1 for each stock)</p>
</dd>
<dt><code>Allocation</code></dt><dd><p>A list nstock long, of matrices nsim x nfleet representing the fraction of future TACs of the various fleets to each stock (each matrix is nsim by nfleet long and rows sum to 1 for each stock).</p>
</dd>
<dt><code>Efactor</code></dt><dd><p>A list nstock long, of current effort factors by fleet (default is 1 - same as current effort)</p>
</dd>
<dt><code>Complexes</code></dt><dd><p>A list of stock complexes. Each position is a vector of stock numbers (as they appear in StockPars) for which data should be aggregated and TAC recommendations split among stocks according to vulnerable biomass</p>
</dd>
<dt><code>SexPars</code></dt><dd><p>A list of slots that control sex-specific dynamics, i.e., sex-specific spawning and hermaphroditism. More generally, controls spawning and moving abundance between stocks. See details.</p>
</dd>
<dt><code>Rel</code></dt><dd><p>A list of biological / ecological relationships among stocks
over-ridden if an MP of class 'MP_F&quot; is supplied that is a multi-fleet MP.</p>
</dd>
</dl>


<h3>Objects from the Class</h3>

<p>Objects can be created by calls of the form
<code>new('MOM', Stock_list, Fleet_list, Obs_list, Imp_list)</code>.
</p>


<h3>SexPars</h3>


<ul>
<li> <p><code>SSBfrom</code> A nstock x nstock matrix that specifies the proportion of the spawning output of the row p stock for the column p' stock. A diagonal matrix means each stock is
responsible for its own recruitment.
</p>
</li>
<li> <p><code>Herm</code> A list with each entry containing a matrix (nsim x maxage + 1) that specifies the proportion at age that moves from stock p to p' (sequential hermaphroditism).
The names of the list should be of the form &quot;H_p'_p&quot; where p and p' are integers that identify the stock.
</p>
</li>
<li> <p><code>share_par</code> Optional. Logical to indicate whether stock-recruit, depletion, and observation/implementation parameters are mirrored between stocks. By default, TRUE.
</p>
</li></ul>



<h3>Author(s)</h3>

<p>T. Carruthers and A. Hordyk
</p>


<h3>See Also</h3>

<p>Article on <code>MOM</code> and <code>multiMSE</code>: <a href="https://openmse.com/features-multimse/">https://openmse.com/features-multimse/</a>
</p>

<hr>
<h2 id='movestockCPP'>Apply the movement model to the stock for one time-step</h2><span id='topic+movestockCPP'></span>

<h3>Description</h3>

<p>Apply the movement model to the stock for one time-step
</p>


<h3>Usage</h3>

<pre><code class='language-R'>movestockCPP(nareas, maxage, mov, Number)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="movestockCPP_+3A_nareas">nareas</code></td>
<td>
<p>The number of spatial areas</p>
</td></tr>
<tr><td><code id="movestockCPP_+3A_maxage">maxage</code></td>
<td>
<p>The maximum age</p>
</td></tr>
<tr><td><code id="movestockCPP_+3A_mov">mov</code></td>
<td>
<p>Numeric matrix (nareas by nareas) with the movement matrix</p>
</td></tr>
<tr><td><code id="movestockCPP_+3A_number">Number</code></td>
<td>
<p>A numeric matrix (maxage+1, nareas) with current numbers-at-age in each area</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>A. Hordyk
</p>

<hr>
<h2 id='movfit_Rcpp'>Rcpp version of the Optimization function that returns the squared difference between user
specified and calculated movement parameters.</h2><span id='topic+movfit_Rcpp'></span>

<h3>Description</h3>

<p>The user specifies the probability of staying in the same area and spatial
heterogeneity (both in the unfished state). This function returns the
squared difference between these values and those produced by the three
logit movement model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>movfit_Rcpp(par, prb, frac)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="movfit_Rcpp_+3A_par">par</code></td>
<td>
<p>Three parameters in the logit space that control the four
probabilities of moving between 2 areas</p>
</td></tr>
<tr><td><code id="movfit_Rcpp_+3A_prb">prb</code></td>
<td>
<p>User specified probability that individuals in area 1 remain in
that area (unfished conditions)</p>
</td></tr>
<tr><td><code id="movfit_Rcpp_+3A_frac">frac</code></td>
<td>
<p>User specified fraction of individuals found in area 1 (unfished
conditions)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is paired with getmov to find the correct movement model.
</p>


<h3>Author(s)</h3>

<p>T. Carruthers with an amateur attempt at converting to Rcpp by A. Hordyk (but it works!)
</p>

<hr>
<h2 id='MPCalcsNAs'>Fill any NAs arising from MPCalcs (hermaphroditism mode)</h2><span id='topic+MPCalcsNAs'></span>

<h3>Description</h3>

<p>Fill any NAs arising from MPCalcs (hermaphroditism mode)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>MPCalcsNAs(MPCalcs)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="MPCalcsNAs_+3A_mpcalcs">MPCalcs</code></td>
<td>
<p>A list of arrays arising fromt the DLMtool function CalcMPDynamics()</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>

<hr>
<h2 id='MPtype'>Management Procedure Type</h2><span id='topic+MPtype'></span>

<h3>Description</h3>

<p>Management Procedure Type
</p>


<h3>Usage</h3>

<pre><code class='language-R'>MPtype(MPs = NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="MPtype_+3A_mps">MPs</code></td>
<td>
<p>A vector of MP names. If none are provided function is run on all available MPs</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame with MP names, management type (e.g &quot;Input&quot;, &quot;Output&quot;) and management recommendations returned by the MP
(e.g, TAC (total allowable catch), TAE (total allowable effort), SL (size-selectivity), and/or or Spatial)
</p>


<h3>See Also</h3>

<p><a href="#topic+Required">Required</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>MPtype(c("AvC", "curE", "matlenlim", "MRreal", "FMSYref"))

</code></pre>

<hr>
<h2 id='MPurl'>Get help topic URL</h2><span id='topic+MPurl'></span>

<h3>Description</h3>

<p>Get help topic URL
</p>


<h3>Usage</h3>

<pre><code class='language-R'>MPurl(topic, url = "https://dlmtool.openmse.com/reference/", nameonly = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="MPurl_+3A_topic">topic</code></td>
<td>
<p>Name of the functions</p>
</td></tr>
<tr><td><code id="MPurl_+3A_url">url</code></td>
<td>
<p>URL for the help documentation</p>
</td></tr>
<tr><td><code id="MPurl_+3A_nameonly">nameonly</code></td>
<td>
<p>Logical. Help file name only?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>file path to help file
</p>

<hr>
<h2 id='MSE-class'>Class <code>'MSE'</code></h2><span id='topic+MSE-class'></span>

<h3>Description</h3>

<p>A Management Strategy Evaluation object that contains information about
simulation conditions and performance of data-limited methods
</p>


<h3>Slots</h3>


<dl>
<dt><code>Name</code></dt><dd><p>Name of the MSE object. Single value. Character string</p>
</dd>
<dt><code>nyears</code></dt><dd><p>The number of years for the historical simulation. Single
value. Positive integer</p>
</dd>
<dt><code>proyears</code></dt><dd><p>The number of years for the projections - closed loop
simulations. Single value. Positive integer</p>
</dd>
<dt><code>nMPs</code></dt><dd><p>Number of management procedures simulation tested. Single value.
Positive integer.</p>
</dd>
<dt><code>MPs</code></dt><dd><p>The names of the MPs that were tested. Vector of length nMPs.
Character strings.</p>
</dd>
<dt><code>nsim</code></dt><dd><p>Number of simulations. Single value. Positive integer</p>
</dd>
<dt><code>OM</code></dt><dd><p>Operating model parameters (last historical year used for
time-varying parameters). Data.frame with <code>nsim</code> rows</p>
</dd>
<dt><code>Obs</code></dt><dd><p>Observation parameters (last historical year used for time-varying
parameters). Data.frame with <code>nsim</code> rows</p>
</dd>
<dt><code>SB_SBMSY</code></dt><dd><p>Simulated spawning biomass relative to spawning BMSY over the
projection. An array with dimensions: nsim, nMPs, proyears. Non-negative real
numbers</p>
</dd>
<dt><code>F_FMSY</code></dt><dd><p>Simulated fishing mortality rate relative to FMSY over the
projection. An array with dimensions: nsim, nMPs, proyears. Non-negative real
numbers</p>
</dd>
<dt><code>N</code></dt><dd><p>Simulated total numbers over the projection. An array with
dimensions: nsim, maxage+1, nMPs, proyears, nareas. Non-negative real numbers.</p>
</dd>
<dt><code>B</code></dt><dd><p>Simulated stock biomass over the projection. An array with
dimensions: nsim, nMPs, proyears. Non-negative real numbers</p>
</dd>
<dt><code>SSB</code></dt><dd><p>Simulated spawning stock biomass over the projection. An array
with dimensions: nsim, nMPs, proyears. Non-negative real numbers</p>
</dd>
<dt><code>VB</code></dt><dd><p>Simulated vulnerable biomass over the projection. An array with
dimensions: nsim, nMPs, proyears. Non-negative real numbers</p>
</dd>
<dt><code>FM</code></dt><dd><p>Simulated fishing mortality rate over the projection. An array with
dimensions: nsim, nMPs, proyears. Non-negative real numbers</p>
</dd>
<dt><code>SPR</code></dt><dd><p>Named list with equilibrium and dynamic SPR. Each element is an
array with dimensions: nsim, nMPs, proyears. Non-negative real numbers.</p>
</dd>
<dt><code>Catch</code></dt><dd><p>Simulated catches (landings) over the projection. An array with
dimensions: nsim, nMPs, proyears. Non-negative real numbers</p>
</dd>
<dt><code>Removals</code></dt><dd><p>Simulated removals (catch + discards) over the projection. An
array with dimensions: nsim, nMPs, proyears. Non-negative real numbers</p>
</dd>
<dt><code>Effort</code></dt><dd><p>Simulated relative fishing effort in the projection years. An
array with dimensions: nsim, nMPs, proyears. Non-negative real numbers</p>
</dd>
<dt><code>TAC</code></dt><dd><p>Simulated Total Allowable Catch prescribed by MPs. An array with
dimensions: nsim, nMPs, proyears. Non-negative real numbers</p>
</dd>
<dt><code>TAE</code></dt><dd><p>Simulated Total Allowable Effort prescribed by MPs. An array with
dimensions: nsim, nMPs, proyears. Non-negative real numbers</p>
</dd>
<dt><code>BioEco</code></dt><dd><p>Named list with bio-economic output Only used if bio-economic
parameters are included in OM</p>
</dd>
<dt><code>RefPoint</code></dt><dd><p>Named list of annual MSY reference points MSY, FMSY, and
SBMSY. Array with dimensions: nsim, nMPs, nyears+proyears. Will be the same as
<code>Hist@Ref$ByYear</code> unless selectivity is changed by MP</p>
</dd>
<dt><code>CB_hist</code></dt><dd><p>Simulated catches (landings) from the spool-up period. An
array with dimensions: nsim, nyears. Non-negative real numbers</p>
</dd>
<dt><code>FM_hist</code></dt><dd><p>Simulated fishing mortality rate from the spool-up period. An
array with dimensions: nsim, nyears Non-negative real numbers</p>
</dd>
<dt><code>SSB_hist</code></dt><dd><p>Simulated spawning stock biomass from the spool-up period. An
array with dimensions: nsim, nyears. Non-negative real numbers</p>
</dd>
<dt><code>Hist</code></dt><dd><p>Information from the historical spool-up period. Object of class
<code>Hist</code>. Only contains slots <code>AtAge</code> and <code>TSdata</code> unless <code>extended=TRUE</code> in <code>runMSE</code></p>
</dd>
<dt><code>PPD</code></dt><dd><p>Posterior predictive data. List of <code>Data</code> objects at the end of
the projection period (length <code>nMPs</code>)</p>
</dd>
<dt><code>Misc</code></dt><dd><p>Miscellaneous output</p>
</dd>
</dl>


<h3>Author(s)</h3>

<p>T. Carruthers and A. Hordyk
</p>

<hr>
<h2 id='MSEDescription'>MSEDescription</h2><span id='topic+MSEDescription'></span>

<h3>Description</h3>

<p>A data.frame with description of slots for class MSE
</p>


<h3>Usage</h3>

<pre><code class='language-R'>MSEDescription
</code></pre>


<h3>Format</h3>

<p>An object of class <code>data.frame</code> with 29 rows and 2 columns.
</p>

<hr>
<h2 id='MSEextra'>Load more data from MSEextra package</h2><span id='topic+MSEextra'></span>

<h3>Description</h3>

<p>Downloads the MSEextra package from GitHub
</p>


<h3>Usage</h3>

<pre><code class='language-R'>MSEextra(silent = FALSE, force = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="MSEextra_+3A_silent">silent</code></td>
<td>
<p>Logical. Should messages to printed?</p>
</td></tr>
<tr><td><code id="MSEextra_+3A_force">force</code></td>
<td>
<p>Logical. For install from github if package is up-to-date?</p>
</td></tr>
</table>

<hr>
<h2 id='MSYCalcs'>Internal function to calculate MSY Reference Points</h2><span id='topic+MSYCalcs'></span>

<h3>Description</h3>

<p>Internal function to calculate MSY Reference Points
</p>


<h3>Usage</h3>

<pre><code class='language-R'>MSYCalcs(
  logF,
  M_at_Age,
  Wt_at_Age,
  Mat_at_Age,
  Fec_at_Age,
  V_at_Age,
  maxage,
  relRfun,
  SRRpars,
  R0x = 1,
  SRrelx = 3L,
  hx = 1,
  SSBpR = 0,
  opt = 1L,
  plusgroup = 1L,
  spawn_time_frac = 0
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="MSYCalcs_+3A_logf">logF</code></td>
<td>
<p>log fishing mortality</p>
</td></tr>
<tr><td><code id="MSYCalcs_+3A_m_at_age">M_at_Age</code></td>
<td>
<p>Vector of M-at-age</p>
</td></tr>
<tr><td><code id="MSYCalcs_+3A_wt_at_age">Wt_at_Age</code></td>
<td>
<p>Vector of weight-at-age</p>
</td></tr>
<tr><td><code id="MSYCalcs_+3A_mat_at_age">Mat_at_Age</code></td>
<td>
<p>Vector of maturity-at-age</p>
</td></tr>
<tr><td><code id="MSYCalcs_+3A_fec_at_age">Fec_at_Age</code></td>
<td>
<p>Vector of mature weight-at-age</p>
</td></tr>
<tr><td><code id="MSYCalcs_+3A_v_at_age">V_at_Age</code></td>
<td>
<p>Vector of selectivity-at-age</p>
</td></tr>
<tr><td><code id="MSYCalcs_+3A_maxage">maxage</code></td>
<td>
<p>Maximum age</p>
</td></tr>
<tr><td><code id="MSYCalcs_+3A_relrfun">relRfun</code></td>
<td>
<p>Optional. A function used to calculate reference points if <code>SRrelc =3</code></p>
</td></tr>
<tr><td><code id="MSYCalcs_+3A_srrpars">SRRpars</code></td>
<td>
<p>Optional. A named list of arguments for <code>SRRfun</code></p>
</td></tr>
<tr><td><code id="MSYCalcs_+3A_r0x">R0x</code></td>
<td>
<p>R0 for this simulation. Set = 1 if SRrelx = 4 for per-recruit calculations</p>
</td></tr>
<tr><td><code id="MSYCalcs_+3A_srrelx">SRrelx</code></td>
<td>
<p>SRR type for this simulation. Use 4 for per-recruit calculations, i.e. constant recruitment.</p>
</td></tr>
<tr><td><code id="MSYCalcs_+3A_hx">hx</code></td>
<td>
<p>numeric. Steepness value for this simulation. Not used if SRrelx = 4.</p>
</td></tr>
<tr><td><code id="MSYCalcs_+3A_ssbpr">SSBpR</code></td>
<td>
<p>numeric. Unfished spawners per recruit for this simulation. Not used if SRrelx = 4.</p>
</td></tr>
<tr><td><code id="MSYCalcs_+3A_opt">opt</code></td>
<td>
<p>Option. 1 = return -Yield, 2= return all MSY calcs</p>
</td></tr>
<tr><td><code id="MSYCalcs_+3A_plusgroup">plusgroup</code></td>
<td>
<p>Integer. Default = 0 = no plus-group. Use 1 to include a plus-group</p>
</td></tr>
<tr><td><code id="MSYCalcs_+3A_spawn_time_frac">spawn_time_frac</code></td>
<td>
<p>Numeric. Fraction of the year when spawning occurs. Default = 0.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>See <code>opt</code>
</p>

<hr>
<h2 id='multiData'>Combine data among fleets</h2><span id='topic+multiData'></span>

<h3>Description</h3>

<p>Catches, CAA, CAL are summed. LFC and LFS are weighted averages. ML, Lc and Lbar are recalculated from summed CAL. All other observations are for fleet 1 (indicative)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>multiData(MSElist, StockPars, p, mm, nf)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="multiData_+3A_mselist">MSElist</code></td>
<td>
<p>A hierarchical list of data objects stock then fleet then MP</p>
</td></tr>
<tr><td><code id="multiData_+3A_stockpars">StockPars</code></td>
<td>
<p>A list of stock parameters</p>
</td></tr>
<tr><td><code id="multiData_+3A_p">p</code></td>
<td>
<p>Integer the Stock number</p>
</td></tr>
<tr><td><code id="multiData_+3A_mm">mm</code></td>
<td>
<p>Integer the MP number</p>
</td></tr>
<tr><td><code id="multiData_+3A_nf">nf</code></td>
<td>
<p>The number of fleets</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>

<hr>
<h2 id='multiDataS'>Combine data among stocks</h2><span id='topic+multiDataS'></span>

<h3>Description</h3>

<p>Catches, CAA, CAL are summed. Indices, LFC and LFS are weighted averages. ML, Lc and Lbar are recalculated from summed CAL.
All other observations are for fleet 1 and weighted average across stocks
</p>


<h3>Usage</h3>

<pre><code class='language-R'>multiDataS(MSElist, Real.Data.Map, np, mm, nf, realVB)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="multiDataS_+3A_mselist">MSElist</code></td>
<td>
<p>A hierarchical list of data objects stock then fleet then MP</p>
</td></tr>
<tr><td><code id="multiDataS_+3A_real.data.map">Real.Data.Map</code></td>
<td>
<p>Matrix describing which data are mapped across stocks</p>
</td></tr>
<tr><td><code id="multiDataS_+3A_np">np</code></td>
<td>
<p>The number of stocks</p>
</td></tr>
<tr><td><code id="multiDataS_+3A_mm">mm</code></td>
<td>
<p>Integer the MP number</p>
</td></tr>
<tr><td><code id="multiDataS_+3A_nf">nf</code></td>
<td>
<p>The number of fleets</p>
</td></tr>
<tr><td><code id="multiDataS_+3A_realvb">realVB</code></td>
<td>
<p>A matrix of real vulnerable biomass <code style="white-space: pre;">&#8288;[nsim,np, year]&#8288;</code></p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>

<hr>
<h2 id='multidebug'>A basic comparison of runMSE output (MSE) and multiMSE (MMSE)</h2><span id='topic+multidebug'></span>

<h3>Description</h3>

<p>A basic comparison of runMSE output (MSE) and multiMSE (MMSE)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>multidebug(MSEsingle, MSEmulti, p = 1, f = 1, MPno = 1, maxsims = 4)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="multidebug_+3A_msesingle">MSEsingle</code></td>
<td>
<p>An object of class MSE arising from a run of runMSE(OM, ...)</p>
</td></tr>
<tr><td><code id="multidebug_+3A_msemulti">MSEmulti</code></td>
<td>
<p>An object of class MMSE arising from a run of multiMSE(MOM, ...)</p>
</td></tr>
<tr><td><code id="multidebug_+3A_p">p</code></td>
<td>
<p>Integer. The stock number from the MSEmulti object (to be plotted)</p>
</td></tr>
<tr><td><code id="multidebug_+3A_f">f</code></td>
<td>
<p>Integer. The fleet number from the MSEmulti object (to be plotted)</p>
</td></tr>
<tr><td><code id="multidebug_+3A_mpno">MPno</code></td>
<td>
<p>Integer. The MP number from the MSEmulti and MSEsingle object (to be plotted)</p>
</td></tr>
<tr><td><code id="multidebug_+3A_maxsims">maxsims</code></td>
<td>
<p>Integer. The maximum number of simulations to plot.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>T.Carruthers
</p>

<hr>
<h2 id='NAor0'>Is a value NA or zero.</h2><span id='topic+NAor0'></span>

<h3>Description</h3>

<p>As title
</p>


<h3>Usage</h3>

<pre><code class='language-R'>NAor0(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="NAor0_+3A_x">x</code></td>
<td>
<p>A numeric value.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>TRUE or FALSE
</p>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>

<hr>
<h2 id='NIL'>Item in list: get the list values from a list of lists</h2><span id='topic+NIL'></span>

<h3>Description</h3>

<p>Create of vector of values that correspond with a slot in a list of objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>NIL(listy, namey, lev1 = T)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="NIL_+3A_listy">listy</code></td>
<td>
<p>A list of objects</p>
</td></tr>
<tr><td><code id="NIL_+3A_namey">namey</code></td>
<td>
<p>A character vector representing the list item's name</p>
</td></tr>
<tr><td><code id="NIL_+3A_lev1">lev1</code></td>
<td>
<p>Logical, should NIL default to the first level of the list?</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>

<hr>
<h2 id='NOAA_plot'>National Oceanographic and Atmospheric Administration default plot 1</h2><span id='topic+NOAA_plot'></span>

<h3>Description</h3>

<p>A preliminary plot for returning trade-offs plots and performance table for
total yield, variability in yield, probability of overfishing and likelihood
of biomass dropping below 50 per cent BMSY
</p>


<h3>Usage</h3>

<pre><code class='language-R'>NOAA_plot(MSEobj, nam = NA, type = NA, panel = T)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="NOAA_plot_+3A_mseobj">MSEobj</code></td>
<td>
<p>An object of class MSE</p>
</td></tr>
<tr><td><code id="NOAA_plot_+3A_nam">nam</code></td>
<td>
<p>Title of plot</p>
</td></tr>
<tr><td><code id="NOAA_plot_+3A_type">type</code></td>
<td>
<p>Plots full range of data if NA. Plots a subset that meet
thresholds if not NA.</p>
</td></tr>
<tr><td><code id="NOAA_plot_+3A_panel">panel</code></td>
<td>
<p>Should a two panel plot be made or should plots be made in
sequence.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A table of performance metrics.
</p>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>

<hr>
<h2 id='Obs-class'>Class <code>'Obs'</code></h2><span id='topic+Obs-class'></span>

<h3>Description</h3>

<p>An operating model component that controls the observation model
</p>


<h3>Slots</h3>


<dl>
<dt><code>Name</code></dt><dd><p>The name of the observation model object. Single value. Character string.</p>
</dd>
<dt><code>Name</code></dt><dd><p>The name of the Observation error object. Single value. Character
string.</p>
</dd>
<dt><code>Cobs</code></dt><dd><p>Observation error around the total catch. Observation error in
the total catch is expressed as a coefficient of variation (CV). Cobs requires
upper and lower bounds of a uniform distribution, and for each simulation a CV
is sampled from this distribution. Each CV is used to specify a log-normal
error distribution with a mean of 1 and a standard deviation equal to the
sampled CV. The yearly observation error values for the catch data are then
drawn from this distribution. For each time step the simulation model records
the true catch, but the observed catch is generated by applying this yearly
error term (plus any bias, if specified) to the true catch.</p>
</dd>
<dt><code>Cbiascv</code></dt><dd><p>Log-normally distributed coefficient of variation controlling
the sampling bias in observed catch for each simulation. Bias occurs when
catches are systematically skewed away from the true catch level (for example,
due to underreporting of catch or undetected illegal catches). Cbiascv is a
single value specifying the standard deviation of a log-normal distribution
with a mean of 1 and a standard deviation equal to the sampled CV. For each
simulation a bias value is drawn from this distribution, and that bias is
applied across all years.</p>
</dd>
<dt><code>CAA_nsamp</code></dt><dd><p>Number of catch-at-age observations collected per time step.
For each time step a single value is drawn from a uniform distribution
specified by the upper and lower bounds provided. Positive integers.</p>
</dd>
<dt><code>CAA_ESS</code></dt><dd><p>Effective sample size of catch-at-age observations collected
per time step. For each time step a single value is drawn from a uniform
distribution specified by the upper and lower bounds provided. CAA_ESS should
not exceed CAA_nsamp. If greater than 1, then this is the multinomial
distribution sample size. If less than 1, this is the coefficient of variation
for the logistic normal distribution (see help doucmentation for simCAA for
details).</p>
</dd>
<dt><code>CAL_nsamp</code></dt><dd><p>Number of catch-at-length observations collected per time
step. For each time step a single value is drawn from a uniform distribution
specified by the upper and lower bounds provided. Positive integers.</p>
</dd>
<dt><code>CAL_ESS</code></dt><dd><p>Effective sample size. For each time step a single value is
drawn from a uniform distribution specified by the upper and lower bounds
provided. CAL_ESS should not exceed CAL_nsamp. Positive integers.</p>
</dd>
<dt><code>Iobs</code></dt><dd><p>Observation error in the relative abundance index expressed as a
coefficient of variation (CV). Iobs requires upper and lower bounds of a
uniform distribution, and for each simulation a CV is sampled from this
distribution. Each CV is used to specify a log-normal error distribution with a
mean of 1 and a standard deviation equal to the sampled CV. The yearly
observation error values for the index of abundance data are then drawn from
this distribution. For each time step the simulation model records the true
change in abundance, but the observed index is generated by applying this
yearly error term (plus any bias, if specified) to the true relative change in
abundance. Positive real numbers.</p>
</dd>
<dt><code>Btobs</code></dt><dd><p>Observation error in the absolute abundance expressed as a
coefficient of variation (CV). Btobs requires upper and lower bounds of a
uniform distribution, and for each simulation a CV is sampled from this
distribution. Each CV is used to specify a log-normal error distribution with a
mean of 1 and a standard deviation equal to the sampled CV. The yearly
observation error values for the absolute abundance data are then drawn from
this distribution. For each time step the simulation model records the true
abundance, but the observed abundance is generated by applying this yearly
error term (plus any bias, if specified) to the true abundance. Positive real
numbers.</p>
</dd>
<dt><code>Btbiascv</code></dt><dd><p>Log-normally distributed coefficient (CV) controlling error
in observations of the current stock biomass. Bias occurs when the observed
index of abundance is is systematically higher or lower than the true relative
abundance. Btbiascv is a single value specifying the standard deviation of a
log-normal distribution with a mean of 1 and a standard deviation equal to the
sampled CV. For each simulation a bias value is drawn from this distribution,
and that bias is applied across all years. Positive real numbers.</p>
</dd>
<dt><code>beta</code></dt><dd><p>A parameter controlling hyperstability/hyperdepletion in the
measurement of abundance. For each simulation a single value is drawn from a
uniform distribution specified by the upper and lower bounds provided. Values
below 1 lead to hyperstability (the observed index decreases more slowly than
the true abundance) and values above 1 lead to hyperdepletion (the observed
index decreases more rapidly than true abundance).  Positive real numbers.</p>
</dd>
<dt><code>LenMbiascv</code></dt><dd><p>Log-normal coefficient of variation for sampling bias in
observed length at 50 percent maturity. LenMbiascv is a single value specifying
the standard deviation of a log-normal distribution with a mean of 1 and a
standard deviation equal to the sampled CV. For each simulation a bias value is
drawn from this distribution, and that bias is applied across all years.
Positive real numbers.</p>
</dd>
<dt><code>Mbiascv</code></dt><dd><p>Log-normal coefficient of variation for sampling bias in
observed natural mortality rate.
Mbiascv is a single value specifying the standard deviation of a log-normal
distribution with a mean of 1 and a standard deviation equal to the sampled CV.
For each simulation a bias value is drawn from this distribution, and that bias
is applied across all years. Positive real numbers.</p>
</dd>
<dt><code>Kbiascv</code></dt><dd><p>Log-normal coefficient of variation for sampling bias in
observed growth parameter K. Kbiascv is a single value specifying the standard
deviation of a log-normal distribution with a mean of 1 and a standard
deviation equal to the sampled CV. For each simulation a bias value is drawn
from this distribution, and that bias is applied across all years. Positive
real numbers.</p>
</dd>
<dt><code>t0biascv</code></dt><dd><p>Log-normal coefficient of variation for sampling bias in
observed t0. t0biascv is a single value specifying the standard deviation of a
log-normal distribution with a mean of 1 and a standard deviation equal to the
sampled CV. For each simulation a bias value is drawn from this distribution,
and that bias is applied across all years. Positive real numbers.</p>
</dd>
<dt><code>Linfbiascv</code></dt><dd><p>Log-normal coefficient of variation for sampling bias in
observed maximum length. Linfbiascv is a single value specifying the standard
deviation of a log-normal distribution with a mean of 1 and a standard
deviation equal to the sampled CV. For each simulation a bias value is drawn
from this distribution, and that bias is applied across all years. Positive
real numbers.</p>
</dd>
<dt><code>LFCbiascv</code></dt><dd><p>Log-normal coefficient of variation for sampling bias in
observed length at first capture. LFCbiascv is a single value specifying the
standard deviation of a log-normal distribution with a mean of 1 and a standard
deviation equal to the sampled CV. For each simulation a bias value is drawn
from this distribution, and that bias is applied across all years. Positive
real numbers.</p>
</dd>
<dt><code>LFSbiascv</code></dt><dd><p>Log-normal coefficient of variation for sampling bias in
length-at-full selection. LFSbiascv is a single value specifying the standard
deviation of a log-normal distribution with a mean of 1 and a standard
deviation equal to the sampled CV. For each simulation a bias value is drawn
from this distribution, and that bias is applied across all years. Positive
real numbers.</p>
</dd>
<dt><code>FMSY_Mbiascv</code></dt><dd><p>Log-normal coefficient of variation for sampling bias in
estimates of the ratio of the fishing mortality rate that gives the maximum
sustainable yield relative to the assumed instantaneous natural mortality rate.
FMSY/M. FMSY_Mbiascv is a single value specifying the standard deviation of a
log-normal distribution with a mean of 1 and a standard deviation equal to the
sampled CV. For each simulation a bias value is drawn from this distribution,
and that bias is applied across all years. Positive real numbers.</p>
</dd>
<dt><code>BMSY_B0biascv</code></dt><dd><p>Log-normal coefficient of variation for sampling bias in
estimates of the BMSY relative to unfished biomass (BMSY/B0). BMSY_B0biascv is
a single value specifying the standard deviation of a log-normal distribution
with a mean of 1 and a standard deviation equal to the sampled CV. For each
simulation a bias value is drawn from this distribution, and that bias is
applied across all years. Positive real numbers.</p>
</dd>
<dt><code>Irefbiascv</code></dt><dd><p>Log-normal coefficient of variation for sampling bias in
the observed relative index of abundance (Iref). Irefbiascv is a single value
specifying the standard deviation of a log-normal distribution with a mean of 1
and a standard deviation equal to the sampled CV. For each simulation a bias
value is drawn from this distribution, and that bias is applied across all
years. Positive real numbers.</p>
</dd>
<dt><code>Brefbiascv</code></dt><dd><p>Log-normal coefficient of variation for sampling bias in
the observed reference biomass (Bref). Brefbiascv is a single value specifying
the standard deviation of a log-normal distribution with a mean of 1 and a
standard deviation equal to the sampled CV. For each simulation a bias value is
drawn from this distribution, and that bias is applied across all years.
Positive real numbers.</p>
</dd>
<dt><code>Crefbiascv</code></dt><dd><p>Log-normal coefficient of variation for sampling bias in
the observed reference catch (Cref). Crefbiascv is a single value specifying
the standard deviation of a log-normal distribution with a mean of 1 and a
standard deviation equal to the sampled CV. For each simulation a bias value is
drawn from this distribution, and that bias is applied across all years.
Positive real numbers.</p>
</dd>
<dt><code>Dbiascv</code></dt><dd><p>Log-normal coefficient of variation for sampling bias in the
observed depletion level.  Dbiascv is a single value specifying the standard
deviation of a log-normal distribution with a mean of 1 and a standard
deviation equal to the sampled CV. For each simulation a bias value is drawn
from this distribution, and that bias is applied across all years. Positive
real numbers.</p>
</dd>
<dt><code>Dobs</code></dt><dd><p>Log-normal coefficient of variation controlling error in
observations of stock depletion among years. Observation error in the depletion
expressed as a coefficient of variation (CV). Dobs requires the upper and lower
bounds of a uniform distribution, and for each simulation a CV is sampled from
this distribution. Each CV is used to specify a log-normal error distribution
with a mean of 1 and a standard deviation equal to the sampled CV. The yearly
observation error values for the depletion data are then drawn from this
distribution. For each time step the simulation model records the true
depletion, but the observed depletion is generated by applying this yearly
error term (plus any bias, if specified) to the true depletion.</p>
</dd>
<dt><code>hbiascv</code></dt><dd><p>Log-normal coefficient of variation for sampling persistent
bias in steepness. hbiascv is a single value specifying the standard deviation
of a log-normal distribution with a mean of 1 and a standard deviation equal to
the sampled CV. For each simulation a bias value is drawn from this
distribution, and that bias is applied across all years. Positive real numbers.</p>
</dd>
<dt><code>Recbiascv</code></dt><dd><p>Log-normal coefficient of variation for sampling persistent
bias in recent recruitment strength. Recbiascv requires the upper and lower
bounds of a uniform distribution, and for each simulation a CV is sampled from
this distribution. Each CV is used to specify a log-normal error distribution
with a mean of 1 and a standard deviation equal to the sampled CV. The yearly
bias values for the depletion data are then drawn from this distribution.
Positive real numbers.</p>
</dd>
<dt><code>sigmaRbiascv</code></dt><dd><p>Log-normal coefficient of variation for sampling
persistent bias in recruitment variability. sigmaRbiascv is a single value
specifying the standard deviation of a log-normal distribution with a mean of 1
and a standard deviation equal to the sampled CV. For each simulation a bias
value is drawn from this distribution, and that bias is applied across all
years. Positive real numbers.</p>
</dd>
<dt><code>Eobs</code></dt><dd><p>Observation error around the total effort. Observation error in
the total effort is expressed as a coefficient of variation (CV). Eobs requires
upper and lower bounds of a uniform distribution, and for each simulation a CV
is sampled from this distribution. Each CV is used to specify a log-normal
error distribution with a mean of 1 and a standard deviation equal to the
sampled CV. The yearly observation error values for the effort data are then
drawn from this distribution. For each time step the simulation model records
the true effort, but the observed effort is generated by applying this yearly
error term (plus any bias, if specified) to the true effort.</p>
</dd>
<dt><code>Ebiascv</code></dt><dd><p>Log-normally distributed coefficient of variation controlling
the sampling bias in observed effort for each simulation. Bias occurs when
effort is systematically skewed away from the true effort level. Ebiascv is a
single value specifying the standard deviation of a log-normal distribution
with a mean of 1 and a standard deviation equal to the sampled CV. For each
simulation a bias value is drawn from this distribution, and that bias is
applied across all years.</p>
</dd>
</dl>


<h3>Objects from the Class</h3>

<p>Objects can be created by calls of the form
<code>new('Obs')</code>
</p>


<h3>Note</h3>

<p>Its questionable whether the hyperstability/hyperdepletion should be
categorised as an observation model characteristic as it is most often
driven by fleet dynamics (and therefore should be in the fleet object). Oh
well its here and you might want to make it hyperstable beta &lt; 1 or
hyperdeplete beta &gt; 1, only.
</p>


<h3>Author(s)</h3>

<p>T. Carruthers and A. Hordyk
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
showClass('Obs')

</code></pre>

<hr>
<h2 id='ObsDescription'>ObsDescription</h2><span id='topic+ObsDescription'></span>

<h3>Description</h3>

<p>A data.frame with description of slots for class Obs
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ObsDescription
</code></pre>


<h3>Format</h3>

<p>An object of class <code>data.frame</code> with 30 rows and 2 columns.
</p>

<hr>
<h2 id='OM-class'>Class <code>'OM'</code></h2><span id='topic+OM-class'></span>

<h3>Description</h3>

<p>An object containing all the parameters needed to control the MSE which can
be build from component Stock, Fleet, Obs, and Imp objects.
</p>


<h3>Details</h3>

<p>Almost all of these inputs are a vector of length 2 which describes the upper and lower
bounds of a uniform distribution from which to sample the parameter.
</p>


<h3>Slots</h3>


<dl>
<dt><code>Name</code></dt><dd><p>Name of the operating model</p>
</dd>
<dt><code>Agency</code></dt><dd><p>Name of the agency responsible for the management of the fishery. Character string</p>
</dd>
<dt><code>Region</code></dt><dd><p>Name of the general geographic region of the fishery. Character string</p>
</dd>
<dt><code>Sponsor</code></dt><dd><p>Name of the organization who sponsored the OM. Character string</p>
</dd>
<dt><code>Latitude</code></dt><dd><p>Latitude (decimal degrees). Negative values represent the South of the Equator. Numeric. Single value</p>
</dd>
<dt><code>Longitude</code></dt><dd><p>Longitude (decimal degrees). Negative values represent the West of the Prime Meridian. Numeric. Single value</p>
</dd>
<dt><code>nsim</code></dt><dd><p>The number of simulations</p>
</dd>
<dt><code>proyears</code></dt><dd><p>The number of projected years</p>
</dd>
<dt><code>interval</code></dt><dd><p>The assessment interval - how often would you like to update the management system?</p>
</dd>
<dt><code>pstar</code></dt><dd><p>The percentile of the sample of the management recommendation for each method</p>
</dd>
<dt><code>maxF</code></dt><dd><p>Maximum instantaneous fishing mortality rate that may be simulated for any given age class</p>
</dd>
<dt><code>reps</code></dt><dd><p>Number of samples of the management recommendation for each method. Note that when this is set to 1, the mean value of
the data inputs is used.</p>
</dd>
<dt><code>cpars</code></dt><dd><p>A list of custom parameters. Time series are a matrix nsim rows by nyears columns. Single parameters are a vector nsim long</p>
</dd>
<dt><code>seed</code></dt><dd><p>A random seed to ensure users can reproduce results exactly</p>
</dd>
<dt><code>Source</code></dt><dd><p>A reference to a website or article from which parameters were taken to define the operating model</p>
</dd>
</dl>


<h3>Objects from the Class</h3>

<p>Objects can be created by calls of the form
<code>new('OM', Stock, Fleet, Obs, Imp)</code>.
</p>


<h3>Author(s)</h3>

<p>T. Carruthers and A. Hordyk
</p>

<hr>
<h2 id='OMDescription'>OMDescription</h2><span id='topic+OMDescription'></span>

<h3>Description</h3>

<p>A data.frame with description of slots for class OM
</p>


<h3>Usage</h3>

<pre><code class='language-R'>OMDescription
</code></pre>


<h3>Format</h3>

<p>An object of class <code>data.frame</code> with 15 rows and 2 columns.
</p>

<hr>
<h2 id='OMdoc'>Generate OM Documentation Report</h2><span id='topic+OMdoc'></span>

<h3>Description</h3>

<p>Generate OM Documentation Report
</p>


<h3>Usage</h3>

<pre><code class='language-R'>OMdoc(
  OM = NULL,
  rmd.source = NULL,
  overwrite = FALSE,
  out.file = NULL,
  inc.plot = TRUE,
  render = TRUE,
  output = "html_document",
  openFile = TRUE,
  quiet = FALSE,
  dir = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="OMdoc_+3A_om">OM</code></td>
<td>
<p>An object of class 'OM' or the name of an OM xlsx file</p>
</td></tr>
<tr><td><code id="OMdoc_+3A_rmd.source">rmd.source</code></td>
<td>
<p>Optional. Name of the source.rmd file corresponding to the 'OM'. Default assumption
is that the file is 'OM@Name.Rmd'</p>
</td></tr>
<tr><td><code id="OMdoc_+3A_overwrite">overwrite</code></td>
<td>
<p>Logical. Should existing files be overwritten?</p>
</td></tr>
<tr><td><code id="OMdoc_+3A_out.file">out.file</code></td>
<td>
<p>Optional. Character. Name of the output file. Default is the same as the text file.</p>
</td></tr>
<tr><td><code id="OMdoc_+3A_inc.plot">inc.plot</code></td>
<td>
<p>Logical. Should the plots be included?</p>
</td></tr>
<tr><td><code id="OMdoc_+3A_render">render</code></td>
<td>
<p>Logical. Should the document be compiled? May be useful to turn off if
there are problems with compiling the Rmd file.</p>
</td></tr>
<tr><td><code id="OMdoc_+3A_output">output</code></td>
<td>
<p>Character. Output file type. Default is 'html_document'. 'pdf_document' is available
but may require additional software and have some formatting issues.</p>
</td></tr>
<tr><td><code id="OMdoc_+3A_openfile">openFile</code></td>
<td>
<p>Logical. Should the compiled file be opened in web browser?</p>
</td></tr>
<tr><td><code id="OMdoc_+3A_quiet">quiet</code></td>
<td>
<p>TRUE to suppress printing of the pandoc command line.</p>
</td></tr>
<tr><td><code id="OMdoc_+3A_dir">dir</code></td>
<td>
<p>Optional file path to read the xlsx and rmd files. Default is <code>getwd()</code></p>
</td></tr>
<tr><td><code id="OMdoc_+3A_...">...</code></td>
<td>
<p>Optional additional named arguments provided to <code>runMSE</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Creates a Rmarkdown file and compiles a HTML report file in the working directory.
</p>


<h3>Author(s)</h3>

<p>A. Hordyk
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
OMinit('myOM', Stock='Herring', Fleet='Generic_Fleet', Obs='Generic_Obs',
Imp='Perfect_Imp', overwrite=TRUE)
myOM &lt;- XL2OM('myOM.xlsx')
OMdoc(myOM)

## End(Not run)
</code></pre>

<hr>
<h2 id='OMexample'>Copy example OM XL and OM Documentation</h2><span id='topic+OMexample'></span>

<h3>Description</h3>

<p>Copy example OM XL and OM Documentation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>OMexample(dir = getwd())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="OMexample_+3A_dir">dir</code></td>
<td>
<p>the file path to copy the files to.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
OMexample()

## End(Not run)
</code></pre>

<hr>
<h2 id='OMinit'>Initialize Operating Model</h2><span id='topic+OMinit'></span>

<h3>Description</h3>

<p>Generates an Excel spreadsheet and a source.rmd file in the current working directory for
specifying and documenting a MSEtool Operating Model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>OMinit(
  name = NULL,
  ...,
  files = c("xlsx", "rmd"),
  dir = NULL,
  overwrite = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="OMinit_+3A_name">name</code></td>
<td>
<p>The name of the Excel and source.rmd file to be created in the working directory (character).
Use 'example' for a populated example OM XL and documentation file.</p>
</td></tr>
<tr><td><code id="OMinit_+3A_...">...</code></td>
<td>
<p>Optional MSEtool objects to use as templates: OM, Stock, Fleet, Obs, or Imp objects</p>
</td></tr>
<tr><td><code id="OMinit_+3A_files">files</code></td>
<td>
<p>What files should be created: 'xlsx', 'rmd', or c('xlsx', 'rmd') (default: both)
to use as templates for the Operating Model.</p>
</td></tr>
<tr><td><code id="OMinit_+3A_dir">dir</code></td>
<td>
<p>Optional file path to create the xlsx and rmd files. Default is <code>getwd()</code></p>
</td></tr>
<tr><td><code id="OMinit_+3A_overwrite">overwrite</code></td>
<td>
<p>Logical. Should files be overwritten if they already exist?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>name.xlsx and name.rmd files are created in the working directory.
</p>


<h3>Author(s)</h3>

<p>A. Hordyk
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Create an Excel OM template and rmd file called 'myOM.xlsx' and 'myOM.rmd':
OMinit('myOM')

# Create an Excel OM template and text file called 'myOM.rmd' and 'myOM.rmd', using
# another OM as a template:
OMinit('myOM', myOM)

# Create an Excel OM template and text file called 'myOM.rmd' and 'myOM.rmd', using
# the Stock object 'Herring' as a template:
OMinit('myOM', Herring)

# Create an Excel OM template and text file called 'myOM.rmd' and 'myOM.rmd', using
# the Stock object 'Herring', and Obs object 'Generic_obs' as templates:
OMinit('myOM', Herring, Generic_obs)

## End(Not run)

</code></pre>

<hr>
<h2 id='OneRep'>Make stochastic variables certain for only one rep</h2><span id='topic+OneRep'></span>

<h3>Description</h3>

<p>As title.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>OneRep(Data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="OneRep_+3A_data">Data</code></td>
<td>
<p>An object of class Data that has been run though TAC()</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>

<hr>
<h2 id='optCPU'>Determine optimal number of cpus</h2><span id='topic+optCPU'></span>

<h3>Description</h3>

<p>Determine optimal number of cpus
</p>


<h3>Usage</h3>

<pre><code class='language-R'>optCPU(nsim = 96, thresh = 5, plot = TRUE, msg = TRUE, maxn = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="optCPU_+3A_nsim">nsim</code></td>
<td>
<p>Numeric. Number of simulations.</p>
</td></tr>
<tr><td><code id="optCPU_+3A_thresh">thresh</code></td>
<td>
<p>Recommended n cpus is what percent of the fastest time?</p>
</td></tr>
<tr><td><code id="optCPU_+3A_plot">plot</code></td>
<td>
<p>Logical. Show the plot?</p>
</td></tr>
<tr><td><code id="optCPU_+3A_msg">msg</code></td>
<td>
<p>Logical. Should messages be printed to console?</p>
</td></tr>
<tr><td><code id="optCPU_+3A_maxn">maxn</code></td>
<td>
<p>Optional. Maximum number of cpus. Used for demo purposes</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>A. Hordyk
</p>


<h3>See Also</h3>

<p><a href="#topic+setup">setup</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
optCPU()

## End(Not run)
</code></pre>

<hr>
<h2 id='optMSY_eq'>Internal wrapper function to calculate MSY reference points (now using MSYCalcs)</h2><span id='topic+optMSY_eq'></span>

<h3>Description</h3>

<p>Internal wrapper function to calculate MSY reference points (now using MSYCalcs)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>optMSY_eq(x, yr.ind = 1, StockPars, V)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="optMSY_eq_+3A_x">x</code></td>
<td>
<p>Simulation number</p>
</td></tr>
<tr><td><code id="optMSY_eq_+3A_yr.ind">yr.ind</code></td>
<td>
<p>Year index used in calculations</p>
</td></tr>
<tr><td><code id="optMSY_eq_+3A_stockpars">StockPars</code></td>
<td>
<p>A list of stock parameters</p>
</td></tr>
<tr><td><code id="optMSY_eq_+3A_v">V</code></td>
<td>
<p>Array of selectivity-at-age</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Results from <code>MSYCalcs</code>
</p>

<hr>
<h2 id='optQ'>Optimize q for a single simulation</h2><span id='topic+optQ'></span>

<h3>Description</h3>

<p>Optimize q for a single simulation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>optQ(
  logQ,
  depc,
  SSB0c,
  nareas,
  maxage,
  Ncurr,
  pyears,
  M_age,
  Asize_c,
  MatAge,
  WtAge,
  FecAge,
  Vuln,
  Retc,
  Prec,
  movc,
  SRrelc,
  Effind,
  Spat_targc,
  hc,
  R0c,
  SSBpRc,
  aRc,
  bRc,
  maxF,
  MPA,
  plusgroup,
  VB0c,
  SBMSYc,
  SRRfun,
  SRRpars,
  control,
  spawn_time_frac = 0
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="optQ_+3A_logq">logQ</code></td>
<td>
<p>log q</p>
</td></tr>
<tr><td><code id="optQ_+3A_depc">depc</code></td>
<td>
<p>Depletion value</p>
</td></tr>
<tr><td><code id="optQ_+3A_ssb0c">SSB0c</code></td>
<td>
<p>Unfished spawning biomass</p>
</td></tr>
<tr><td><code id="optQ_+3A_nareas">nareas</code></td>
<td>
<p>Number of areas</p>
</td></tr>
<tr><td><code id="optQ_+3A_maxage">maxage</code></td>
<td>
<p>Maximum age</p>
</td></tr>
<tr><td><code id="optQ_+3A_ncurr">Ncurr</code></td>
<td>
<p>Current N-at-age</p>
</td></tr>
<tr><td><code id="optQ_+3A_pyears">pyears</code></td>
<td>
<p>Number of years to project population dynamics</p>
</td></tr>
<tr><td><code id="optQ_+3A_m_age">M_age</code></td>
<td>
<p>M-at-age</p>
</td></tr>
<tr><td><code id="optQ_+3A_asize_c">Asize_c</code></td>
<td>
<p>Numeric vector (length nareas) with size of each area</p>
</td></tr>
<tr><td><code id="optQ_+3A_matage">MatAge</code></td>
<td>
<p>Maturity-at-age</p>
</td></tr>
<tr><td><code id="optQ_+3A_wtage">WtAge</code></td>
<td>
<p>Weight-at-age</p>
</td></tr>
<tr><td><code id="optQ_+3A_fecage">FecAge</code></td>
<td>
<p>Mature weight-at-age (relative fecundity)</p>
</td></tr>
<tr><td><code id="optQ_+3A_vuln">Vuln</code></td>
<td>
<p>Vulnerability-at-age</p>
</td></tr>
<tr><td><code id="optQ_+3A_retc">Retc</code></td>
<td>
<p>Retention-at-age</p>
</td></tr>
<tr><td><code id="optQ_+3A_prec">Prec</code></td>
<td>
<p>Recruitment error by year</p>
</td></tr>
<tr><td><code id="optQ_+3A_movc">movc</code></td>
<td>
<p>movement matrix</p>
</td></tr>
<tr><td><code id="optQ_+3A_srrelc">SRrelc</code></td>
<td>
<p>SR parameter</p>
</td></tr>
<tr><td><code id="optQ_+3A_effind">Effind</code></td>
<td>
<p>Historical fishing effort</p>
</td></tr>
<tr><td><code id="optQ_+3A_spat_targc">Spat_targc</code></td>
<td>
<p>Spatial targeting</p>
</td></tr>
<tr><td><code id="optQ_+3A_hc">hc</code></td>
<td>
<p>Steepness</p>
</td></tr>
<tr><td><code id="optQ_+3A_r0c">R0c</code></td>
<td>
<p>Unfished recruitment by area</p>
</td></tr>
<tr><td><code id="optQ_+3A_ssbprc">SSBpRc</code></td>
<td>
<p>Unfished spawning biomass per recruit by area</p>
</td></tr>
<tr><td><code id="optQ_+3A_arc">aRc</code></td>
<td>
<p>Ricker aR</p>
</td></tr>
<tr><td><code id="optQ_+3A_brc">bRc</code></td>
<td>
<p>Ricker bR</p>
</td></tr>
<tr><td><code id="optQ_+3A_maxf">maxF</code></td>
<td>
<p>maximum F</p>
</td></tr>
<tr><td><code id="optQ_+3A_mpa">MPA</code></td>
<td>
<p>A matrix of spatial closures by year</p>
</td></tr>
<tr><td><code id="optQ_+3A_plusgroup">plusgroup</code></td>
<td>
<p>Integer. Default = 0 = no plus-group. Use 1 to include a plus-group</p>
</td></tr>
<tr><td><code id="optQ_+3A_vb0c">VB0c</code></td>
<td>
<p>Unfished vulnerable biomass</p>
</td></tr>
<tr><td><code id="optQ_+3A_sbmsyc">SBMSYc</code></td>
<td>
<p>Spawning biomass at MSY for simulation x</p>
</td></tr>
<tr><td><code id="optQ_+3A_control">control</code></td>
<td>
<p>List. Control parameters including <code>optVB=TRUE</code> to optimize
for vulnerable biomass instead of SSB?</p>
</td></tr>
<tr><td><code id="optQ_+3A_spawn_time_frac">spawn_time_frac</code></td>
<td>
<p>Fraction of the year when spawning occurs. Default = 0.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>A. Hordyk
</p>

<hr>
<h2 id='optYield'>Optimize yield for a single simulation</h2><span id='topic+optYield'></span>

<h3>Description</h3>

<p>Optimize yield for a single simulation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>optYield(
  logFa,
  Asize_c,
  nareas,
  maxage,
  Ncurr,
  pyears,
  M_age,
  MatAge,
  WtAge,
  FecAge,
  WtAgeC,
  Vuln,
  Retc,
  Prec,
  movc,
  SRrelc,
  Effind,
  Spat_targc,
  hc,
  R0c,
  SSBpRc,
  aRc,
  bRc,
  Qc,
  MPA,
  maxF,
  SSB0c,
  plusgroup = 0,
  SRRfun,
  SRRpars,
  spawn_time_frac = 0
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="optYield_+3A_logfa">logFa</code></td>
<td>
<p>log apical fishing mortality</p>
</td></tr>
<tr><td><code id="optYield_+3A_asize_c">Asize_c</code></td>
<td>
<p>A vector of length areas with relative size of areas</p>
</td></tr>
<tr><td><code id="optYield_+3A_nareas">nareas</code></td>
<td>
<p>Number of area</p>
</td></tr>
<tr><td><code id="optYield_+3A_maxage">maxage</code></td>
<td>
<p>Maximum age</p>
</td></tr>
<tr><td><code id="optYield_+3A_ncurr">Ncurr</code></td>
<td>
<p>Current N-at-age</p>
</td></tr>
<tr><td><code id="optYield_+3A_pyears">pyears</code></td>
<td>
<p>Number of projection years</p>
</td></tr>
<tr><td><code id="optYield_+3A_m_age">M_age</code></td>
<td>
<p>M-at-age</p>
</td></tr>
<tr><td><code id="optYield_+3A_matage">MatAge</code></td>
<td>
<p>Maturity-at-age</p>
</td></tr>
<tr><td><code id="optYield_+3A_wtage">WtAge</code></td>
<td>
<p>Weight-at-age (stock)</p>
</td></tr>
<tr><td><code id="optYield_+3A_fecage">FecAge</code></td>
<td>
<p>Mature-weight-at-age</p>
</td></tr>
<tr><td><code id="optYield_+3A_wtagec">WtAgeC</code></td>
<td>
<p>Weight-at-age (fishery)</p>
</td></tr>
<tr><td><code id="optYield_+3A_vuln">Vuln</code></td>
<td>
<p>Vulnerability-at-age</p>
</td></tr>
<tr><td><code id="optYield_+3A_retc">Retc</code></td>
<td>
<p>Retention-at-age</p>
</td></tr>
<tr><td><code id="optYield_+3A_prec">Prec</code></td>
<td>
<p>Recruitment error</p>
</td></tr>
<tr><td><code id="optYield_+3A_movc">movc</code></td>
<td>
<p>Movement matrix</p>
</td></tr>
<tr><td><code id="optYield_+3A_srrelc">SRrelc</code></td>
<td>
<p>SR Relationship</p>
</td></tr>
<tr><td><code id="optYield_+3A_effind">Effind</code></td>
<td>
<p>Historical effort</p>
</td></tr>
<tr><td><code id="optYield_+3A_spat_targc">Spat_targc</code></td>
<td>
<p>Spatial targeting</p>
</td></tr>
<tr><td><code id="optYield_+3A_hc">hc</code></td>
<td>
<p>Steepness</p>
</td></tr>
<tr><td><code id="optYield_+3A_r0c">R0c</code></td>
<td>
<p>Unfished recruitment by area</p>
</td></tr>
<tr><td><code id="optYield_+3A_ssbprc">SSBpRc</code></td>
<td>
<p>Unfished spawning stock per recruit by area</p>
</td></tr>
<tr><td><code id="optYield_+3A_arc">aRc</code></td>
<td>
<p>Ricker aR</p>
</td></tr>
<tr><td><code id="optYield_+3A_brc">bRc</code></td>
<td>
<p>Ricker bR</p>
</td></tr>
<tr><td><code id="optYield_+3A_qc">Qc</code></td>
<td>
<p>Catchability</p>
</td></tr>
<tr><td><code id="optYield_+3A_mpa">MPA</code></td>
<td>
<p>A matrix of spatial closures by year</p>
</td></tr>
<tr><td><code id="optYield_+3A_maxf">maxF</code></td>
<td>
<p>A numeric value specifying the maximum fishing mortality for any single age class</p>
</td></tr>
<tr><td><code id="optYield_+3A_ssb0c">SSB0c</code></td>
<td>
<p>SSB0</p>
</td></tr>
<tr><td><code id="optYield_+3A_plusgroup">plusgroup</code></td>
<td>
<p>Integer. Default = 0 = no plus-group. Use 1 to include a plus-group</p>
</td></tr>
<tr><td><code id="optYield_+3A_spawn_time_frac">spawn_time_frac</code></td>
<td>
<p>Numeric. Fraction of the year when spawning occurs. Default = 0.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>A. Hordyk
</p>

<hr>
<h2 id='Overages'>Imp class objects</h2><span id='topic+Overages'></span><span id='topic+Perfect_Imp'></span><span id='topic+Imp-class-objects'></span>

<h3>Description</h3>

<p>Example objects of class Imp
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Overages

Perfect_Imp
</code></pre>


<h3>Format</h3>

<p>An object of class <code>Imp</code> of length 1.
</p>
<p>An object of class <code>Imp</code> of length 1.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>avail("Imp")
</code></pre>

<hr>
<h2 id='PerformanceMetric'>Performance Metrics Methods</h2><span id='topic+PerformanceMetric'></span><span id='topic+P10'></span><span id='topic+P50'></span><span id='topic+P100'></span><span id='topic+PNOF'></span><span id='topic+LTY'></span><span id='topic+STY'></span><span id='topic+Yield'></span><span id='topic+AAVY'></span><span id='topic+AAVE'></span>

<h3>Description</h3>

<p>Performance metric (PMs) methods for your management strategy evaluation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>P10(MSEobj = NULL, Ref = 0.1, Yrs = NULL)

P50(MSEobj = NULL, Ref = 0.5, Yrs = NULL)

P100(MSEobj = NULL, Ref = 1, Yrs = NULL)

PNOF(MSEobj = NULL, Ref = 1, Yrs = NULL)

LTY(MSEobj = NULL, Ref = 0.5, Yrs = -10)

STY(MSEobj = NULL, Ref = 0.5, Yrs = 10)

Yield(MSEobj = NULL, Ref = 1, Yrs = NULL)

AAVY(MSEobj = NULL, Ref = 0.2, Yrs = NULL)

AAVE(MSEobj = NULL, Ref = 0.2, Yrs = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="PerformanceMetric_+3A_mseobj">MSEobj</code></td>
<td>
<p>An object of class MSE</p>
</td></tr>
<tr><td><code id="PerformanceMetric_+3A_ref">Ref</code></td>
<td>
<p>Reference point for calculating the performance metric. See details.</p>
</td></tr>
<tr><td><code id="PerformanceMetric_+3A_yrs">Yrs</code></td>
<td>
<p>Numeric vector of length 2 with year indices to summarize performance.
If NULL, the performance is summarized over all projection years.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Performance Metric definitions:
</p>

<table>
<tr>
 <td style="text-align: left;">
<code>P10</code> </td><td style="text-align: left;"> Probability B &gt; 0.1 BMSY </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>P50</code> </td><td style="text-align: left;"> Probability B &gt; 0.5 BMSY </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>P100</code> </td><td style="text-align: left;"> Probability B &gt; BMSY </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>PNOF</code> </td><td style="text-align: left;"> Probability F &lt; FMSY </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>LTY</code> </td><td style="text-align: left;"> Probability Long-Term Yield &gt; 0.5 Relative Yield </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>STY</code> </td><td style="text-align: left;"> Probability Short-Term Yield &gt; 0.5 Relative Yield </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>AAVY</code> </td><td style="text-align: left;"> Probability AAVY &lt; 0.2 (Average Annual Variability in Yield) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>AAVE</code> </td><td style="text-align: left;"> Probability AAVE &lt; 0.2 (Average Annual Variability in Effort) </td>
</tr>
<tr>
 <td style="text-align: left;">
<code>Yield</code> </td><td style="text-align: left;"> Average Yield (relative to Reference Yield) </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>Argument <code>Ref</code> provides the ratio relative to the reference point for calculating
the performance metric. For biomass-based PMs (<code>P10</code>, <code>P50</code>, <code>P100</code>), this is the fraction of
BMSY. For <code>PNOF</code>, the fraction of FMSY. For <code>Yield</code> (and <code>LTY</code>/<code>STY</code>), the fraction of the
Reference Yield. For <code>AAVY</code> is it the maximum acceptable variability in yield (i.e, default
for <code>AAVY</code> is <code>Ref=0.2</code>)
</p>
<p>The <code>Yrs</code> argument defines the number of years to calculate the performance statistic over.
A value of <code>NULL</code>, the default for <code>AAVY</code>, <code>AAVE</code>, <code>P10</code>, <code>P50</code>, <code>P100</code>, and <code>PNOF</code>, means that the
performance metric is calculated over all projection years. A numeric vector of length two is used
to specify the first and last year, e.g, if <code>Yrs=c(1,10)</code> the performance statistic is calculated
over the first 10 projection years. A numeric vector of length one with positive or negative value
respectively can be used to specify the first <em>x</em> or last <em>x</em> years, e.g, <code>Yrs=10</code> is first 10 years,
and <code>Yrs=-10</code> is the last 10 years. See <code><a href="#topic+ChkYrs">ChkYrs</a></code> for more details.
</p>
<p>By default Long-Term Yield (<code>LTY</code>) is the Yield in the last ten years of the projection period in the MSE,
and Short-Term Yield (<code>STY</code>) is that in the first 10 years of the projection period.
</p>


<h3>Value</h3>

<p>An object of class <code>PMobj</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
myMSE &lt;- runMSE()
P10(myMSE)
P50(myMSE)
P100(myMSE)
PNOF(myMSE)
LTY(myMSE)
STY(myMSE)
AAVY(myMSE)
AAVE(myMSE)
Yield(myMSE)

## End(Not run)
</code></pre>

<hr>
<h2 id='plot.Data'>Plot Data object</h2><span id='topic+plot.Data'></span>

<h3>Description</h3>

<p>Creates plots of the Data object in the R console. Wrapper for <code>summary(Data)</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'Data'
plot(
  x,
  wait = TRUE,
  i = 1,
  plots = "all",
  rmd = FALSE,
  head = "##",
  tplot = 25,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.Data_+3A_x">x</code></td>
<td>
<p>An object of class Data</p>
</td></tr>
<tr><td><code id="plot.Data_+3A_wait">wait</code></td>
<td>
<p>Logical. Wait for key press before next plot?</p>
</td></tr>
<tr><td><code id="plot.Data_+3A_i">i</code></td>
<td>
<p>iteration number for the Data object.</p>
</td></tr>
<tr><td><code id="plot.Data_+3A_plots">plots</code></td>
<td>
<p>Character. What plots to show? <code>all</code>, <code>TS</code>, <code>CAA</code>, <code>CAL</code>, <code>PD</code>
for all plots, time-series, catch-at-age, catch-at-length, and
probability distributions respectively</p>
</td></tr>
<tr><td><code id="plot.Data_+3A_rmd">rmd</code></td>
<td>
<p>Logical. Used in a rmd file?</p>
</td></tr>
<tr><td><code id="plot.Data_+3A_head">head</code></td>
<td>
<p>Character. Heading for rmd file. Default is '##' (second level heading)</p>
</td></tr>
<tr><td><code id="plot.Data_+3A_tplot">tplot</code></td>
<td>
<p>Integer. Number of plots per page. Default 25</p>
</td></tr>
<tr><td><code id="plot.Data_+3A_...">...</code></td>
<td>
<p>Not used</p>
</td></tr>
</table>

<hr>
<h2 id='plot.MMSE'>Standard plot for an object of class MMSE (multi MSE)</h2><span id='topic+plot.MMSE'></span>

<h3>Description</h3>

<p>Plot the projected biomass, fishing, mortality rate and yield for all stocks and MPs
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'MMSE'
plot(
  x = NULL,
  maxcol = 6,
  qcol = rgb(0.4, 0.8, 0.95),
  lcol = "dodgerblue4",
  quants = c(0.05, 0.25, 0.75, 0.95),
  curyr = 2018,
  addline = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.MMSE_+3A_x">x</code></td>
<td>
<p>Object of class <a href="#topic+MMSE-class">MMSE</a>. A Multi-OM object created by <code>multiMSE(MOM, ...)</code></p>
</td></tr>
<tr><td><code id="plot.MMSE_+3A_maxcol">maxcol</code></td>
<td>
<p>Integer. The maximum number of columns (MPs) to be plotted in each plot</p>
</td></tr>
<tr><td><code id="plot.MMSE_+3A_qcol">qcol</code></td>
<td>
<p>Character, color. The color of the inner percentile range</p>
</td></tr>
<tr><td><code id="plot.MMSE_+3A_lcol">lcol</code></td>
<td>
<p>Character, color. The color of the outer percentile range.</p>
</td></tr>
<tr><td><code id="plot.MMSE_+3A_quants">quants</code></td>
<td>
<p>Numeric vector. The percentiles that are plotted (LB2,LB1,UB1,UB2).
LB2 and UB2 are the outer percentiles, LB1 and UB1 are the inner percentiles.</p>
</td></tr>
<tr><td><code id="plot.MMSE_+3A_curyr">curyr</code></td>
<td>
<p>Integer. The current year from which projections start.</p>
</td></tr>
<tr><td><code id="plot.MMSE_+3A_addline">addline</code></td>
<td>
<p>Logical. Should two individual simulations be added to the percentile plots?</p>
</td></tr>
<tr><td><code id="plot.MMSE_+3A_...">...</code></td>
<td>
<p>Not used</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>T.Carruthers
</p>

<hr>
<h2 id='plot.MOM'>Standard plot for an object of class MOM</h2><span id='topic+plot.MOM'></span><span id='topic+plot+2CMOM+2Cmissing-method'></span>

<h3>Description</h3>

<p>Plot the stocks, fleets, catch fractions and relationships in multi operating model object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'MOM,missing'
plot(x, silent = TRUE, maxsims = 6)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.MOM_+3A_x">x</code></td>
<td>
<p>Object of class <a href="#topic+MOM-class">MOM</a>. A Multi-OM object created by <code>new('MOM', ...)</code></p>
</td></tr>
<tr><td><code id="plot.MOM_+3A_silent">silent</code></td>
<td>
<p>Logical. Do you wish to see print outs / warnings?</p>
</td></tr>
<tr><td><code id="plot.MOM_+3A_maxsims">maxsims</code></td>
<td>
<p>Integer. What are the maximum number of individual simulations you wish to plot?</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>T.Carruthers
</p>

<hr>
<h2 id='plot.MSE'>Plot MSE object</h2><span id='topic+plot.MSE'></span>

<h3>Description</h3>

<p>Plot MSE object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'MSE'
plot(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.MSE_+3A_x">x</code></td>
<td>
<p>object of class MSE</p>
</td></tr>
<tr><td><code id="plot.MSE_+3A_...">...</code></td>
<td>
<p>other parameters passed to plot (currently ignored)</p>
</td></tr>
</table>

<hr>
<h2 id='plot.pars'>Plot Operating Model Object</h2><span id='topic+plot.pars'></span><span id='topic+plot.Stock'></span><span id='topic+plot.Fleet'></span><span id='topic+plot.Obs'></span><span id='topic+plot.Imp'></span><span id='topic+plot.Hist'></span><span id='topic+plot.OM'></span>

<h3>Description</h3>

<p>Generate HTML reports with plots of operating model components (&quot;Stock&quot;,
&quot;Fleet&quot;, &quot;Obs&quot;, and &quot;Imp&quot;), the historical simulations (&quot;Hist&quot;), or the complete OM (&quot;OM&quot;).
</p>
<p>The individual component plots of objects of class <code>Stock</code> and <code>Fleet</code> can also be generated by
using the generic <code>plot.pars</code> function. See Examples below.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'pars'
plot(
  x,
  Object,
  Stock = NULL,
  nsamp = 3,
  nsim = 200,
  nyears = 50,
  proyears = 28,
  output_file = NULL,
  output_dir = getwd(),
  quiet = TRUE,
  tabs = TRUE,
  title = NULL,
  date = NULL,
  plotPars = NULL,
  html = FALSE,
  open = TRUE,
  dev = FALSE,
  ...
)

## S3 method for class 'Stock'
plot(
  x,
  nsamp = 3,
  nsim = 200,
  nyears = 50,
  proyears = 28,
  output_file = NULL,
  output_dir = getwd(),
  quiet = TRUE,
  tabs = TRUE,
  title = NULL,
  date = NULL,
  plotPars = NULL,
  open = TRUE,
  dev = FALSE,
  ...
)

## S3 method for class 'Fleet'
plot(
  x,
  Stock = NULL,
  nsamp = 3,
  nsim = 200,
  nyears = 50,
  proyears = 28,
  output_file = NULL,
  output_dir = getwd(),
  quiet = TRUE,
  tabs = TRUE,
  title = NULL,
  date = NULL,
  plotPars = NULL,
  open = TRUE,
  dev = FALSE,
  ...
)

## S3 method for class 'Obs'
plot(
  x,
  nsamp = 3,
  nsim = 200,
  nyears = 50,
  proyears = 28,
  output_file = NULL,
  output_dir = getwd(),
  quiet = TRUE,
  tabs = TRUE,
  title = NULL,
  date = NULL,
  plotPars = NULL,
  open = TRUE,
  dev = FALSE,
  ...
)

## S3 method for class 'Imp'
plot(
  x,
  nsamp = 3,
  nsim = 200,
  nyears = 50,
  proyears = 28,
  output_file = NULL,
  output_dir = getwd(),
  quiet = TRUE,
  tabs = TRUE,
  title = NULL,
  date = NULL,
  plotPars = NULL,
  open = TRUE,
  dev = FALSE,
  ...
)

## S3 method for class 'Hist'
plot(
  x,
  nsamp = 3,
  nsim = 200,
  nyears = 50,
  proyears = 28,
  output_file = NULL,
  output_dir = getwd(),
  quiet = TRUE,
  tabs = TRUE,
  title = NULL,
  date = NULL,
  plotPars = NULL,
  open = TRUE,
  dev = FALSE,
  ...
)

## S3 method for class 'OM'
plot(
  x,
  nsamp = 3,
  nsim = 200,
  nyears = 50,
  proyears = 28,
  output_file = NULL,
  output_dir = getwd(),
  quiet = TRUE,
  tabs = TRUE,
  title = NULL,
  date = NULL,
  plotPars = NULL,
  open = TRUE,
  dev = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.pars_+3A_x">x</code></td>
<td>
<p>An object of class <code>Stock</code>, <code>Fleet</code>, <code>Obs</code>, <code>Imp</code>, <code>Hist</code>, or <code>OM</code>, OR one
of the following character strings for <code>Object</code> of class <code>Stock</code>: &quot;M&quot;, &quot;Growth&quot;, &quot;Maturity&quot;, &quot;Recruitment&quot;, &quot;Spatial&quot;,
or &quot;Depletion&quot; and for <code>Object</code> of class <code>Fleet</code>: &quot;Effort&quot;, &quot;Catchability&quot;, &quot;MPA&quot;,
and &quot;Selectivity&quot;.</p>
</td></tr>
<tr><td><code id="plot.pars_+3A_object">Object</code></td>
<td>
<p>An object of class <code>Stock</code> or <code>Fleet</code></p>
</td></tr>
<tr><td><code id="plot.pars_+3A_stock">Stock</code></td>
<td>
<p>An object of class <code>Stock</code> required for <code>Fleet</code> parameters</p>
</td></tr>
<tr><td><code id="plot.pars_+3A_nsamp">nsamp</code></td>
<td>
<p>The number of random samples to show in the plot</p>
</td></tr>
<tr><td><code id="plot.pars_+3A_nsim">nsim</code></td>
<td>
<p>The number of simulations (only used for objects not of class <code>OM</code>)</p>
</td></tr>
<tr><td><code id="plot.pars_+3A_nyears">nyears</code></td>
<td>
<p>The number of historical years (only used for objects not of class <code>OM</code>)</p>
</td></tr>
<tr><td><code id="plot.pars_+3A_proyears">proyears</code></td>
<td>
<p>The number of projection years (only used for objects not of class <code>OM</code>)</p>
</td></tr>
<tr><td><code id="plot.pars_+3A_output_file">output_file</code></td>
<td>
<p>Name of the output html file (without file extension)</p>
</td></tr>
<tr><td><code id="plot.pars_+3A_output_dir">output_dir</code></td>
<td>
<p>Output directory. Defaults to <code>getwd()</code></p>
</td></tr>
<tr><td><code id="plot.pars_+3A_quiet">quiet</code></td>
<td>
<p>An option to suppress printing of the pandoc command line</p>
</td></tr>
<tr><td><code id="plot.pars_+3A_tabs">tabs</code></td>
<td>
<p>Include tabs in the HTML file?</p>
</td></tr>
<tr><td><code id="plot.pars_+3A_title">title</code></td>
<td>
<p>Optional title for the markdown report</p>
</td></tr>
<tr><td><code id="plot.pars_+3A_date">date</code></td>
<td>
<p>Optional date for the markdown report</p>
</td></tr>
<tr><td><code id="plot.pars_+3A_plotpars">plotPars</code></td>
<td>
<p>A named list with options for plots:
</p>

<ul>
<li><p> breaks - numeric. Number of breaks in histograms.
</p>
</li>
<li><p> col - character. Color of histograms.
</p>
</li>
<li><p> axes - logical. Include axes in histogram?
</p>
</li>
<li><p> cex.main - numeric. Size of main title in plots.
</p>
</li>
<li><p> lwd - numeric. Line width for time-series plots.
</p>
</li></ul>
</td></tr>
<tr><td><code id="plot.pars_+3A_html">html</code></td>
<td>
<p>Logical. Compile to a HTML report (TRUE) or print plots in R console (FALSE)</p>
</td></tr>
<tr><td><code id="plot.pars_+3A_open">open</code></td>
<td>
<p>Logical. Open the html file?</p>
</td></tr>
<tr><td><code id="plot.pars_+3A_dev">dev</code></td>
<td>
<p>Logical. For development use only.</p>
</td></tr>
<tr><td><code id="plot.pars_+3A_...">...</code></td>
<td>
<p>Not used</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Plot Stock Object:
Stock &lt;- MSEtool::Albacore
plot(Stock)

# Individual plots:
plot("M", Stock)
plot("Growth", Stock)
plot("Maturity", Stock)
plot("Recruitment", Stock)
plot("Spatial", Stock)
plot("Depletion", Stock)

# Plot Fleet Object
Fleet &lt;- MSEtool::Generic_DecE
plot(Fleet, Stock)

# Individual plots:
plot("Effort", Fleet, Stock)
plot("Catchability", Fleet, Stock)
plot("MPA", Fleet, Stock)
plot("Selectivity", Fleet, Stock)


# Plot Obs Object
Obs &lt;- MSEtool::Imprecise_Unbiased
plot(Obs)

# Plot Imp Object
Imp &lt;- MSEtool::Overages
plot(Imp)


# Plot Hist Object
OM &lt;- MSEtool::testOM
Hist &lt;- Simulate(OM)
plot(Hist)

# Plot OM Object
plot(OM)

## End(Not run)
</code></pre>

<hr>
<h2 id='plotFun'>Print out plotting functions</h2><span id='topic+plotFun'></span>

<h3>Description</h3>

<p>This function prints out the available plotting functions for objects of
class MSE or Data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotFun(class = c("MSE", "Data"), msg = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plotFun_+3A_class">class</code></td>
<td>
<p>Character string. Prints out the plotting functions for objects
of this class.</p>
</td></tr>
<tr><td><code id="plotFun_+3A_msg">msg</code></td>
<td>
<p>Logical. Should the functions be printed to screen?</p>
</td></tr>
</table>


<h3>Note</h3>

<p>Basically the function looks for any functions in the MSEtool that
have the word <code>plot</code> in them.  There is a chance that some plotting
functions are missed. Let us know if you find any and we will add them.
</p>


<h3>Author(s)</h3>

<p>A. Hordyk
</p>

<hr>
<h2 id='plotmulti'>A basic SSB plot for debugging runMSE output</h2><span id='topic+plotmulti'></span>

<h3>Description</h3>

<p>A basic SSB plot for debugging runMSE output
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotmulti(MSEmulti, maxsim = 8)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plotmulti_+3A_msemulti">MSEmulti</code></td>
<td>
<p>An object of class MMSE arising from a run of multiMSE(MOM, ...)</p>
</td></tr>
<tr><td><code id="plotmulti_+3A_maxsim">maxsim</code></td>
<td>
<p>Integer. The number of simulations to plot</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>T.Carruthers
</p>

<hr>
<h2 id='plotOFL'>A generic OFL plot for NOAA use</h2><span id='topic+plotOFL'></span>

<h3>Description</h3>

<p>As title.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotOFL(Data, xlims = NA, perc = 0.5)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plotOFL_+3A_data">Data</code></td>
<td>
<p>An object of class Data that has been run though TAC()</p>
</td></tr>
<tr><td><code id="plotOFL_+3A_xlims">xlims</code></td>
<td>
<p>x axis limits</p>
</td></tr>
<tr><td><code id="plotOFL_+3A_perc">perc</code></td>
<td>
<p>The percentile of the OFL distribution to be plotted</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A table of performance metrics.
</p>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>

<hr>
<h2 id='plotquant'>A fairly tidy time-series quantile plot</h2><span id='topic+plotquant'></span>

<h3>Description</h3>

<p>A fairly tidy time-series quantile plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotquant(
  x,
  p = c(0.05, 0.25, 0.75, 0.95),
  yrs,
  qcol,
  lcol,
  addline = T,
  ablines = NA
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plotquant_+3A_x">x</code></td>
<td>
<p>Matrix. A time series quantity <code style="white-space: pre;">&#8288;[simulation, year]&#8288;</code></p>
</td></tr>
<tr><td><code id="plotquant_+3A_p">p</code></td>
<td>
<p>Numeric vector. The percentiles that are plotted (LB2,LB1,UB1,UB2). LB2 and UB2 are the outer percentiles, LB1 and UB1 are the inner percentiles.</p>
</td></tr>
<tr><td><code id="plotquant_+3A_yrs">yrs</code></td>
<td>
<p>Numeric vector. The years corresponding to the indexing of x</p>
</td></tr>
<tr><td><code id="plotquant_+3A_qcol">qcol</code></td>
<td>
<p>Character, color. The color of the inner percentile range</p>
</td></tr>
<tr><td><code id="plotquant_+3A_lcol">lcol</code></td>
<td>
<p>Character, color. The color of the outer percentile range.</p>
</td></tr>
<tr><td><code id="plotquant_+3A_addline">addline</code></td>
<td>
<p>Logical. Should two individual simulations be added to the percentile plots?</p>
</td></tr>
<tr><td><code id="plotquant_+3A_ablines">ablines</code></td>
<td>
<p>Numeric vector. Horizontal lines to be added to the plot.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>T.Carruthers
</p>

<hr>
<h2 id='plotRel'>Plot a relationship between stocks</h2><span id='topic+plotRel'></span>

<h3>Description</h3>

<p>Plot a relationship between stocks
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotRel(Stocks, Rel, Relno, Snams, leg = F, extras = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plotRel_+3A_stocks">Stocks</code></td>
<td>
<p>A list of stock objects (MOM@Stocks)</p>
</td></tr>
<tr><td><code id="plotRel_+3A_rel">Rel</code></td>
<td>
<p>A list of inter-stock MICE relationships (MOM@Rel)</p>
</td></tr>
<tr><td><code id="plotRel_+3A_relno">Relno</code></td>
<td>
<p>Integer. The relationship you wish to plot</p>
</td></tr>
<tr><td><code id="plotRel_+3A_snams">Snams</code></td>
<td>
<p>A vector of stock names</p>
</td></tr>
<tr><td><code id="plotRel_+3A_leg">leg</code></td>
<td>
<p>Logical. Do you want to plot a legend?</p>
</td></tr>
<tr><td><code id="plotRel_+3A_extras">extras</code></td>
<td>
<p>Integer. The number of blank plots to create at the end.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>T.Carruthers
</p>

<hr>
<h2 id='PMLimit'>Create a table of Performance Limits and Performance Objectives</h2><span id='topic+PMLimit'></span><span id='topic+PMObj'></span>

<h3>Description</h3>

<p>Create a table of Performance Limits and Performance Objectives
</p>


<h3>Usage</h3>

<pre><code class='language-R'>PMLimit(
  MSE,
  ...,
  Prob = NULL,
  Labels = NULL,
  FeaseMPs = NULL,
  out.file = NULL,
  output_format = "html_document",
  openFile = TRUE,
  quiet = TRUE,
  dir = NULL,
  RMDfile = NULL,
  font_size = 14,
  auto_width = FALSE,
  enableSearch = TRUE,
  PMlist = NULL,
  build = TRUE
)

PMObj(
  MSE,
  ...,
  Labels = NULL,
  out.file = NULL,
  output_format = "html_document",
  openFile = TRUE,
  quiet = TRUE,
  dir = NULL,
  RMDfile = NULL,
  font_size = 14,
  use.colors = TRUE,
  cols = NULL,
  show.legend = TRUE,
  auto_width = FALSE,
  enableSearch = TRUE,
  PMlist = NULL,
  build = TRUE,
  cex.tex = 0.75,
  inc.title = TRUE,
  title = "Legend"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="PMLimit_+3A_mse">MSE</code></td>
<td>
<p>An object of class 'MSE'</p>
</td></tr>
<tr><td><code id="PMLimit_+3A_...">...</code></td>
<td>
<p>PM objects to be used as performance limits. Characters (i.e names of PM objects)</p>
</td></tr>
<tr><td><code id="PMLimit_+3A_prob">Prob</code></td>
<td>
<p>Minimum probability threshold</p>
</td></tr>
<tr><td><code id="PMLimit_+3A_labels">Labels</code></td>
<td>
<p>Optional named list specifying new labels for MPs. For example: <code>Labels = list(AvC="Average Catch", CC1="Constant Catch")</code></p>
</td></tr>
<tr><td><code id="PMLimit_+3A_feasemps">FeaseMPs</code></td>
<td>
<p>Optional. Character vector of MP names that are considered feasible. e.g. the output from <code>Fease()</code></p>
</td></tr>
<tr><td><code id="PMLimit_+3A_out.file">out.file</code></td>
<td>
<p>Name of the output file. If none provided, output file will be named 'PerfLimTable'</p>
</td></tr>
<tr><td><code id="PMLimit_+3A_output_format">output_format</code></td>
<td>
<p>Output file format. Currently only 'html_document' is supported</p>
</td></tr>
<tr><td><code id="PMLimit_+3A_openfile">openFile</code></td>
<td>
<p>Logical. Should the file be opened in browser?</p>
</td></tr>
<tr><td><code id="PMLimit_+3A_quiet">quiet</code></td>
<td>
<p>Logical. An option to suppress printing of the pandoc command line.</p>
</td></tr>
<tr><td><code id="PMLimit_+3A_dir">dir</code></td>
<td>
<p>Optional. Directory for output file. Default is working directory.</p>
</td></tr>
<tr><td><code id="PMLimit_+3A_rmdfile">RMDfile</code></td>
<td>
<p>Optional. RMD template file</p>
</td></tr>
<tr><td><code id="PMLimit_+3A_font_size">font_size</code></td>
<td>
<p>Numeric. Font size for text in the table</p>
</td></tr>
<tr><td><code id="PMLimit_+3A_auto_width">auto_width</code></td>
<td>
<p>Logical. Should table be width be automatic?</p>
</td></tr>
<tr><td><code id="PMLimit_+3A_enablesearch">enableSearch</code></td>
<td>
<p>Currently disabled. Logical. Should search be enabled in the html table?</p>
</td></tr>
<tr><td><code id="PMLimit_+3A_pmlist">PMlist</code></td>
<td>
<p>Optional. List of PM names.</p>
</td></tr>
<tr><td><code id="PMLimit_+3A_build">build</code></td>
<td>
<p>Logical. Build the html table?</p>
</td></tr>
<tr><td><code id="PMLimit_+3A_use.colors">use.colors</code></td>
<td>
<p>Logical. Color scale the probability text?</p>
</td></tr>
<tr><td><code id="PMLimit_+3A_cols">cols</code></td>
<td>
<p>Optional character vector of colors for probability text</p>
</td></tr>
<tr><td><code id="PMLimit_+3A_show.legend">show.legend</code></td>
<td>
<p>Logical. Show the legend??</p>
</td></tr>
<tr><td><code id="PMLimit_+3A_cex.tex">cex.tex</code></td>
<td>
<p>Size of legend text</p>
</td></tr>
<tr><td><code id="PMLimit_+3A_inc.title">inc.title</code></td>
<td>
<p>Logical. Include title for legend?</p>
</td></tr>
<tr><td><code id="PMLimit_+3A_title">title</code></td>
<td>
<p>Title for the legend</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>PMLimit</code> invisibly returns names of MPs that pass all performance limits
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>PMLimit()</code>: Create a table of Performance Limits
</p>
</li>
<li> <p><code>PMObj()</code>: Create a table of Performance Objectives.
</p>
</li></ul>


<h3>Author(s)</h3>

<p>A. Hordyk
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
MSE &lt;- runMSE()
PMLimit(MSE, "P50", "PNOF", Prob=0.9)
PMObj(MSE, "P100", "LTY")

## End(Not run)

</code></pre>

<hr>
<h2 id='PMobj-class'>An object for storing data for analysis using data-limited methods</h2><span id='topic+PMobj-class'></span>

<h3>Description</h3>

<p>Used internally
</p>


<h3>Slots</h3>


<dl>
<dt><code>Name</code></dt><dd><p>Name of the Performance Metric. Character</p>
</dd>
<dt><code>Caption</code></dt><dd><p>A caption to be used in plots. Character, call, or function.</p>
</dd>
<dt><code>Stat</code></dt><dd><p>Statistic of interest for the PM. Dimensions: nsim, nMP, yrs. Array</p>
</dd>
<dt><code>Ref</code></dt><dd><p>Reference value to calculate probability for statistic. Numeric.</p>
</dd>
<dt><code>Prob</code></dt><dd><p>Probability (mean over years) Dimensions: nsim by MP.  Matrix, numeric or data.frame</p>
</dd>
<dt><code>Mean</code></dt><dd><p>Mean probability (mean over years and simulations). Numeric. Length nMPs</p>
</dd>
<dt><code>MPs</code></dt><dd><p>Name of MPs. Single value. Character string</p>
</dd>
</dl>


<h3>Objects from the Class</h3>

<p>Objects can be created by calls of the form
<code>new('PMobj')</code>
</p>


<h3>Author(s)</h3>

<p>A. Hordyk
</p>

<hr>
<h2 id='popdynCPP'>Population dynamics model in CPP</h2><span id='topic+popdynCPP'></span>

<h3>Description</h3>

<p>Project population forward pyears given current numbers-at-age and total mortality, etc
for the future years
</p>


<h3>Usage</h3>

<pre><code class='language-R'>popdynCPP(
  nareas,
  maxage,
  Ncurr,
  pyears,
  M_age,
  Asize_c,
  MatAge,
  WtAge,
  FecAge,
  Vuln,
  Retc,
  Prec,
  movc,
  SRrelc,
  Effind,
  Spat_targc,
  hc,
  R0c,
  SSBpRc,
  aRc,
  bRc,
  Qc,
  Fapic,
  maxF,
  MPA,
  control,
  SSB0c,
  SRRfun,
  SRRpars,
  plusgroup = 0L,
  spawn_time_frac = 0
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="popdynCPP_+3A_nareas">nareas</code></td>
<td>
<p>The number of spatial areas</p>
</td></tr>
<tr><td><code id="popdynCPP_+3A_maxage">maxage</code></td>
<td>
<p>The maximum age</p>
</td></tr>
<tr><td><code id="popdynCPP_+3A_ncurr">Ncurr</code></td>
<td>
<p>A numeric matrix (maxage+1, nareas) with current numbers-at-age in each area</p>
</td></tr>
<tr><td><code id="popdynCPP_+3A_pyears">pyears</code></td>
<td>
<p>The number of years to project the population forward</p>
</td></tr>
<tr><td><code id="popdynCPP_+3A_m_age">M_age</code></td>
<td>
<p>Numeric matrix (maxage+1, pyears) with natural mortality by age and year</p>
</td></tr>
<tr><td><code id="popdynCPP_+3A_asize_c">Asize_c</code></td>
<td>
<p>Numeric vector (length nareas) with size of each area</p>
</td></tr>
<tr><td><code id="popdynCPP_+3A_matage">MatAge</code></td>
<td>
<p>Numeric vector with proportion mature by age</p>
</td></tr>
<tr><td><code id="popdynCPP_+3A_wtage">WtAge</code></td>
<td>
<p>Numeric matrix (maxage+1, pyears) with weight by age and year</p>
</td></tr>
<tr><td><code id="popdynCPP_+3A_fecage">FecAge</code></td>
<td>
<p>Numeric matrix (maxage+1, pyears) with mature female weight by age and year</p>
</td></tr>
<tr><td><code id="popdynCPP_+3A_vuln">Vuln</code></td>
<td>
<p>Numeric matrix (maxage+1, pyears) with vulnerability by age and year</p>
</td></tr>
<tr><td><code id="popdynCPP_+3A_retc">Retc</code></td>
<td>
<p>Numeric matrix (maxage+1, pyears) with retention by age and year</p>
</td></tr>
<tr><td><code id="popdynCPP_+3A_prec">Prec</code></td>
<td>
<p>Numeric vector (pyears) with recruitment error</p>
</td></tr>
<tr><td><code id="popdynCPP_+3A_movc">movc</code></td>
<td>
<p>Numeric array (nareas by nareas) with the movement matrix</p>
</td></tr>
<tr><td><code id="popdynCPP_+3A_srrelc">SRrelc</code></td>
<td>
<p>Integer indicating the stock-recruitment relationship to use (1 for Beverton-Holt, 2 for Ricker)</p>
</td></tr>
<tr><td><code id="popdynCPP_+3A_effind">Effind</code></td>
<td>
<p>Numeric vector (length pyears) with the fishing effort by year</p>
</td></tr>
<tr><td><code id="popdynCPP_+3A_spat_targc">Spat_targc</code></td>
<td>
<p>Integer. Spatial targeting</p>
</td></tr>
<tr><td><code id="popdynCPP_+3A_hc">hc</code></td>
<td>
<p>Numeric. Steepness of stock-recruit relationship</p>
</td></tr>
<tr><td><code id="popdynCPP_+3A_r0c">R0c</code></td>
<td>
<p>Numeric vector of length nareas with unfished recruitment by area</p>
</td></tr>
<tr><td><code id="popdynCPP_+3A_ssbprc">SSBpRc</code></td>
<td>
<p>Numeric vector of length nareas with unfished spawning per recruit by area</p>
</td></tr>
<tr><td><code id="popdynCPP_+3A_arc">aRc</code></td>
<td>
<p>Numeric. Ricker SRR a value by area</p>
</td></tr>
<tr><td><code id="popdynCPP_+3A_brc">bRc</code></td>
<td>
<p>Numeric. Ricker SRR b value by area</p>
</td></tr>
<tr><td><code id="popdynCPP_+3A_qc">Qc</code></td>
<td>
<p>Numeric. Catchability coefficient</p>
</td></tr>
<tr><td><code id="popdynCPP_+3A_fapic">Fapic</code></td>
<td>
<p>Numeric. Apical F value</p>
</td></tr>
<tr><td><code id="popdynCPP_+3A_maxf">maxF</code></td>
<td>
<p>A numeric value specifying the maximum fishing mortality for any single age class</p>
</td></tr>
<tr><td><code id="popdynCPP_+3A_mpa">MPA</code></td>
<td>
<p>Spatial closure by year and area</p>
</td></tr>
<tr><td><code id="popdynCPP_+3A_control">control</code></td>
<td>
<p>Integer. 1 to use q and effort to calculate F, 2 to use Fapic (apical F) and
vulnerability to calculate F.</p>
</td></tr>
<tr><td><code id="popdynCPP_+3A_srrfun">SRRfun</code></td>
<td>
<p>Optional. A stock-recruit function used if <code>SRrelc =3</code></p>
</td></tr>
<tr><td><code id="popdynCPP_+3A_srrpars">SRRpars</code></td>
<td>
<p>Optional. A named list of arguments for <code>SRRfun</code></p>
</td></tr>
<tr><td><code id="popdynCPP_+3A_plusgroup">plusgroup</code></td>
<td>
<p>Integer. Include a plus-group (1) or not (0)?</p>
</td></tr>
<tr><td><code id="popdynCPP_+3A_spawn_time_frac">spawn_time_frac</code></td>
<td>
<p>Numeric. Fraction of the year when spawning occurs. Default = 0.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>A. Hordyk
</p>

<hr>
<h2 id='popdynMICE'>Population dynamics for a MICE model (multiyear)</h2><span id='topic+popdynMICE'></span>

<h3>Description</h3>

<p>Calls popdynOneMICE iteratively to reconstruct a time series given MICE model inputs
</p>


<h3>Usage</h3>

<pre><code class='language-R'>popdynMICE(
  qsx,
  qfracx,
  np,
  nf,
  nyears,
  nareas,
  maxage,
  Nx,
  VFx,
  FretAx,
  Effind,
  movx,
  Spat_targ,
  M_ageArrayx,
  Mat_agex,
  Fec_agex,
  Asizex,
  WatAgex,
  Len_agex,
  Karrayx,
  Linfarrayx,
  t0arrayx,
  Marrayx,
  R0x,
  R0ax,
  SSBpRx,
  hsx,
  aRx,
  bRx,
  ax,
  bx,
  Perrx,
  SRrelx,
  Rel,
  SexPars,
  x,
  plusgroup,
  maxF,
  SSB0x,
  B0x,
  MPA,
  SRRfun,
  SRRpars,
  spawn_time_frac = rep(0, np)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="popdynMICE_+3A_qsx">qsx</code></td>
<td>
<p>Total catchability</p>
</td></tr>
<tr><td><code id="popdynMICE_+3A_qfracx">qfracx</code></td>
<td>
<p>Vector <code style="white-space: pre;">&#8288;[fleet]&#8288;</code>, the fraction of total qs by fleet</p>
</td></tr>
<tr><td><code id="popdynMICE_+3A_np">np</code></td>
<td>
<p>Integer, the number of stocks</p>
</td></tr>
<tr><td><code id="popdynMICE_+3A_nf">nf</code></td>
<td>
<p>Integer, number of fleets</p>
</td></tr>
<tr><td><code id="popdynMICE_+3A_nyears">nyears</code></td>
<td>
<p>Integer, number of historical years (unfished til today)</p>
</td></tr>
<tr><td><code id="popdynMICE_+3A_nareas">nareas</code></td>
<td>
<p>Integer, the number of spatial areas</p>
</td></tr>
<tr><td><code id="popdynMICE_+3A_maxage">maxage</code></td>
<td>
<p>Integer, maximum modeled age</p>
</td></tr>
<tr><td><code id="popdynMICE_+3A_nx">Nx</code></td>
<td>
<p>Array <code style="white-space: pre;">&#8288;[stock, age, year, area]&#8288;</code> of stock numbers</p>
</td></tr>
<tr><td><code id="popdynMICE_+3A_vfx">VFx</code></td>
<td>
<p>Array <code style="white-space: pre;">&#8288;[fleet, age, year, area]&#8288;</code> of the vulnerability curve</p>
</td></tr>
<tr><td><code id="popdynMICE_+3A_fretax">FretAx</code></td>
<td>
<p>Array <code style="white-space: pre;">&#8288;[fleet, age, year, area]&#8288;</code> of the retention curve</p>
</td></tr>
<tr><td><code id="popdynMICE_+3A_effind">Effind</code></td>
<td>
<p>Array <code style="white-space: pre;">&#8288;[fleet, year]&#8288;</code> of effort</p>
</td></tr>
<tr><td><code id="popdynMICE_+3A_movx">movx</code></td>
<td>
<p>Array <code style="white-space: pre;">&#8288;[stock,age,area,area]&#8288;</code> of movement transitions</p>
</td></tr>
<tr><td><code id="popdynMICE_+3A_spat_targ">Spat_targ</code></td>
<td>
<p>Matrix <code style="white-space: pre;">&#8288;[stock, fleet]&#8288;</code> of spatial targeting parameter
(0 evenly spatial distributed, 1 proportional to vulnerable biomass)</p>
</td></tr>
<tr><td><code id="popdynMICE_+3A_m_agearrayx">M_ageArrayx</code></td>
<td>
<p>Array <code style="white-space: pre;">&#8288;[stock, age,year]&#8288;</code> of Natural mortality rate at age</p>
</td></tr>
<tr><td><code id="popdynMICE_+3A_mat_agex">Mat_agex</code></td>
<td>
<p>Array <code style="white-space: pre;">&#8288;[stock, age, year]&#8288;</code> of maturity (spawning fraction) at age</p>
</td></tr>
<tr><td><code id="popdynMICE_+3A_fec_agex">Fec_agex</code></td>
<td>
<p>Array <code style="white-space: pre;">&#8288;[stock, age, year]&#8288;</code> of female spawning weight (fecundity) at age</p>
</td></tr>
<tr><td><code id="popdynMICE_+3A_asizex">Asizex</code></td>
<td>
<p>Array <code style="white-space: pre;">&#8288;[stock, area]&#8288;</code> Area size</p>
</td></tr>
<tr><td><code id="popdynMICE_+3A_watagex">WatAgex</code></td>
<td>
<p>Array of weight-at-age</p>
</td></tr>
<tr><td><code id="popdynMICE_+3A_len_agex">Len_agex</code></td>
<td>
<p>Array of length-at-age</p>
</td></tr>
<tr><td><code id="popdynMICE_+3A_karrayx">Karrayx</code></td>
<td>
<p>Array of von B growth parameter K</p>
</td></tr>
<tr><td><code id="popdynMICE_+3A_linfarrayx">Linfarrayx</code></td>
<td>
<p>Array of von B asymptotic length parameter Linf</p>
</td></tr>
<tr><td><code id="popdynMICE_+3A_t0arrayx">t0arrayx</code></td>
<td>
<p>Array ofvon B theoretical age at zero length (t0)</p>
</td></tr>
<tr><td><code id="popdynMICE_+3A_marrayx">Marrayx</code></td>
<td>
<p>Array of mature natural mortality rate</p>
</td></tr>
<tr><td><code id="popdynMICE_+3A_r0x">R0x</code></td>
<td>
<p>Vector <code style="white-space: pre;">&#8288;[stock]&#8288;</code> unfished recruitment</p>
</td></tr>
<tr><td><code id="popdynMICE_+3A_r0ax">R0ax</code></td>
<td>
<p>Matrix <code style="white-space: pre;">&#8288;[stock, area]&#8288;</code> unfished recruitment by area</p>
</td></tr>
<tr><td><code id="popdynMICE_+3A_ssbprx">SSBpRx</code></td>
<td>
<p>Matrix <code style="white-space: pre;">&#8288;[stock, area]&#8288;</code> spawning biomass per recruit by area</p>
</td></tr>
<tr><td><code id="popdynMICE_+3A_hsx">hsx</code></td>
<td>
<p>Vector <code style="white-space: pre;">&#8288;[stock]&#8288;</code> steepness of the stock recruitment curve</p>
</td></tr>
<tr><td><code id="popdynMICE_+3A_arx">aRx</code></td>
<td>
<p>Vector <code style="white-space: pre;">&#8288;[stock]&#8288;</code> stock recruitment parameter alpha (for Ricker curve)</p>
</td></tr>
<tr><td><code id="popdynMICE_+3A_brx">bRx</code></td>
<td>
<p>Vector <code style="white-space: pre;">&#8288;[stock]&#8288;</code> stock recruitment parameter beta (for Ricker curve)</p>
</td></tr>
<tr><td><code id="popdynMICE_+3A_ax">ax</code></td>
<td>
<p>Vector <code style="white-space: pre;">&#8288;[stock]&#8288;</code> weight-length parameter a W=aL^b</p>
</td></tr>
<tr><td><code id="popdynMICE_+3A_bx">bx</code></td>
<td>
<p>Vector <code style="white-space: pre;">&#8288;[stock]&#8288;</code> weight-length parameter b W=aL^b</p>
</td></tr>
<tr><td><code id="popdynMICE_+3A_perrx">Perrx</code></td>
<td>
<p>Matrix <code style="white-space: pre;">&#8288;[stock, year]&#8288;</code> process error - the lognormal factor for recruitment strength</p>
</td></tr>
<tr><td><code id="popdynMICE_+3A_srrelx">SRrelx</code></td>
<td>
<p>Integer vector <code style="white-space: pre;">&#8288;[stock]&#8288;</code> the form of the stock recruitment
relationship (1 = Beverton-Holt, 2= Ricker)</p>
</td></tr>
<tr><td><code id="popdynMICE_+3A_rel">Rel</code></td>
<td>
<p>A list of inter-stock relationships see slot Rel of MOM object class</p>
</td></tr>
<tr><td><code id="popdynMICE_+3A_sexpars">SexPars</code></td>
<td>
<p>A list of sex-specific relationships (SSBfrom, stock_age)</p>
</td></tr>
<tr><td><code id="popdynMICE_+3A_x">x</code></td>
<td>
<p>Integer the simulation number</p>
</td></tr>
<tr><td><code id="popdynMICE_+3A_plusgroup">plusgroup</code></td>
<td>
<p>Numeric vector. Use plus-group (1) or not (0)</p>
</td></tr>
<tr><td><code id="popdynMICE_+3A_maxf">maxF</code></td>
<td>
<p>maximum F</p>
</td></tr>
<tr><td><code id="popdynMICE_+3A_ssb0x">SSB0x</code></td>
<td>
<p>SSB0 for this simulation</p>
</td></tr>
<tr><td><code id="popdynMICE_+3A_b0x">B0x</code></td>
<td>
<p>B0 for this simulation</p>
</td></tr>
<tr><td><code id="popdynMICE_+3A_mpa">MPA</code></td>
<td>
<p>An array of spatial closures by year <code style="white-space: pre;">&#8288;[np,nf,nyears+proyears,nareas]&#8288;</code></p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>T.Carruthers
</p>

<hr>
<h2 id='popdynOneMICE'>Population dynamics for a MICE model (single year)</h2><span id='topic+popdynOneMICE'></span>

<h3>Description</h3>

<p>Completes a single iteration of recruitment, mortality, fishing and
movement given MICE model inputs
</p>


<h3>Usage</h3>

<pre><code class='language-R'>popdynOneMICE(
  np,
  nf,
  nareas,
  maxage,
  Ncur,
  Bcur,
  SSBcur,
  Vcur,
  FMretx,
  FMx,
  PerrYrp,
  hsx,
  aRx,
  bRx,
  movy,
  Spat_targ,
  SRrelx,
  M_agecur,
  Mat_agecur,
  Mat_agenext,
  Fec_agenext,
  Asizex,
  Kx,
  Linfx,
  t0x,
  Mx,
  R0x,
  R0ax,
  SSBpRx,
  ax,
  bx,
  Rel,
  SexPars,
  x,
  plusgroup,
  SSB0x,
  B0x,
  Len_agenext,
  Wt_agenext,
  SRRfun,
  SRRpars
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="popdynOneMICE_+3A_np">np</code></td>
<td>
<p>Integer, the number of stocks</p>
</td></tr>
<tr><td><code id="popdynOneMICE_+3A_nf">nf</code></td>
<td>
<p>Integer, number of fleets</p>
</td></tr>
<tr><td><code id="popdynOneMICE_+3A_nareas">nareas</code></td>
<td>
<p>Integer, number of areas</p>
</td></tr>
<tr><td><code id="popdynOneMICE_+3A_maxage">maxage</code></td>
<td>
<p>Integer, maximum modelled age</p>
</td></tr>
<tr><td><code id="popdynOneMICE_+3A_ncur">Ncur</code></td>
<td>
<p>Array <code style="white-space: pre;">&#8288;[stock, age, area]&#8288;</code> of stock numbers</p>
</td></tr>
<tr><td><code id="popdynOneMICE_+3A_bcur">Bcur</code></td>
<td>
<p>Array <code style="white-space: pre;">&#8288;[stock, age, area]&#8288;</code> of stock biomass</p>
</td></tr>
<tr><td><code id="popdynOneMICE_+3A_ssbcur">SSBcur</code></td>
<td>
<p>Array <code style="white-space: pre;">&#8288;[stock, age, area]&#8288;</code> of spawning biomass</p>
</td></tr>
<tr><td><code id="popdynOneMICE_+3A_vcur">Vcur</code></td>
<td>
<p>Array <code style="white-space: pre;">&#8288;[fleet, age, area]&#8288;</code> of the vulnerability curve</p>
</td></tr>
<tr><td><code id="popdynOneMICE_+3A_fmretx">FMretx</code></td>
<td>
<p>Array <code style="white-space: pre;">&#8288;[stock, fleet, age, area]&#8288;</code> of the retention curve</p>
</td></tr>
<tr><td><code id="popdynOneMICE_+3A_fmx">FMx</code></td>
<td>
<p>Array <code style="white-space: pre;">&#8288;[stock, fleet, age, area]&#8288;</code> fishing mortality rate</p>
</td></tr>
<tr><td><code id="popdynOneMICE_+3A_perryrp">PerrYrp</code></td>
<td>
<p>Vector <code style="white-space: pre;">&#8288;[stock]&#8288;</code> process error - the lognormal factor for
recruitment strength (for next year)</p>
</td></tr>
<tr><td><code id="popdynOneMICE_+3A_hsx">hsx</code></td>
<td>
<p>Vector <code style="white-space: pre;">&#8288;[stock]&#8288;</code> steepness of the stock recruitment curve</p>
</td></tr>
<tr><td><code id="popdynOneMICE_+3A_arx">aRx</code></td>
<td>
<p>Vector <code style="white-space: pre;">&#8288;[stock]&#8288;</code> stock recruitment parameter alpha (for Ricker curve)</p>
</td></tr>
<tr><td><code id="popdynOneMICE_+3A_brx">bRx</code></td>
<td>
<p>Vector <code style="white-space: pre;">&#8288;[stock]&#8288;</code> stock recruitment parameter beta (for Ricker curve)</p>
</td></tr>
<tr><td><code id="popdynOneMICE_+3A_movy">movy</code></td>
<td>
<p>Array <code style="white-space: pre;">&#8288;[stock,age,area,area]&#8288;</code> of movement transitions (for next year)</p>
</td></tr>
<tr><td><code id="popdynOneMICE_+3A_spat_targ">Spat_targ</code></td>
<td>
<p>Matrix <code style="white-space: pre;">&#8288;[stock, fleet]&#8288;</code> of spatial targeting parameter
(0 evenly spatial distributed, 1 proportional to vulnerable biomass)</p>
</td></tr>
<tr><td><code id="popdynOneMICE_+3A_srrelx">SRrelx</code></td>
<td>
<p>Integer vector <code style="white-space: pre;">&#8288;[stock]&#8288;</code> the form of the stock recruitment
relationship (1 = Beverton-Holt, 2= Ricker)</p>
</td></tr>
<tr><td><code id="popdynOneMICE_+3A_m_agecur">M_agecur</code></td>
<td>
<p>Matrix <code style="white-space: pre;">&#8288;[stock, age]&#8288;</code> of Natural mortality rate at age</p>
</td></tr>
<tr><td><code id="popdynOneMICE_+3A_mat_agecur">Mat_agecur</code></td>
<td>
<p>Matrix <code style="white-space: pre;">&#8288;[stock, age]&#8288;</code> of maturity (spawning fraction) at age (current year)</p>
</td></tr>
<tr><td><code id="popdynOneMICE_+3A_mat_agenext">Mat_agenext</code></td>
<td>
<p>Matrix <code style="white-space: pre;">&#8288;[stock, age]&#8288;</code> of maturity (spawning fraction) at age (next year)</p>
</td></tr>
<tr><td><code id="popdynOneMICE_+3A_fec_agenext">Fec_agenext</code></td>
<td>
<p>Matrix <code style="white-space: pre;">&#8288;[stock, age]&#8288;</code> of spawning weight (fecundity) at age (next year)</p>
</td></tr>
<tr><td><code id="popdynOneMICE_+3A_asizex">Asizex</code></td>
<td>
<p>Matrix <code style="white-space: pre;">&#8288;[stock, area]&#8288;</code> of relative area sizes</p>
</td></tr>
<tr><td><code id="popdynOneMICE_+3A_kx">Kx</code></td>
<td>
<p>Vector <code style="white-space: pre;">&#8288;[stock]&#8288;</code> of von B growth parameter K (next year)</p>
</td></tr>
<tr><td><code id="popdynOneMICE_+3A_linfx">Linfx</code></td>
<td>
<p>Vector <code style="white-space: pre;">&#8288;[stock]&#8288;</code> of von B asymptotic length parameter Linf (next year)</p>
</td></tr>
<tr><td><code id="popdynOneMICE_+3A_t0x">t0x</code></td>
<td>
<p>Vector <code style="white-space: pre;">&#8288;[stock]&#8288;</code> of von B theoretical age at zero length (t0) (next year)</p>
</td></tr>
<tr><td><code id="popdynOneMICE_+3A_mx">Mx</code></td>
<td>
<p>Vector <code style="white-space: pre;">&#8288;[stock]&#8288;</code> mature natural mortality rate (this year)</p>
</td></tr>
<tr><td><code id="popdynOneMICE_+3A_r0x">R0x</code></td>
<td>
<p>Vector <code style="white-space: pre;">&#8288;[stock]&#8288;</code> unfished recruitment</p>
</td></tr>
<tr><td><code id="popdynOneMICE_+3A_r0ax">R0ax</code></td>
<td>
<p>Matrix <code style="white-space: pre;">&#8288;[stock, area]&#8288;</code> unfished recruitment by area</p>
</td></tr>
<tr><td><code id="popdynOneMICE_+3A_ssbprx">SSBpRx</code></td>
<td>
<p>Matrix <code style="white-space: pre;">&#8288;[stock, area]&#8288;</code> spawning biomass per recruit by area</p>
</td></tr>
<tr><td><code id="popdynOneMICE_+3A_ax">ax</code></td>
<td>
<p>Vector <code style="white-space: pre;">&#8288;[stock]&#8288;</code> weight-length parameter a W=aL^b</p>
</td></tr>
<tr><td><code id="popdynOneMICE_+3A_bx">bx</code></td>
<td>
<p>Vector <code style="white-space: pre;">&#8288;[stock]&#8288;</code> weight-length parameter b W=aL^b</p>
</td></tr>
<tr><td><code id="popdynOneMICE_+3A_rel">Rel</code></td>
<td>
<p>A list of inter-stock relationships see slot Rel of MOM object class</p>
</td></tr>
<tr><td><code id="popdynOneMICE_+3A_sexpars">SexPars</code></td>
<td>
<p>A list of sex-specific relationships (SSBfrom, stock_age)</p>
</td></tr>
<tr><td><code id="popdynOneMICE_+3A_x">x</code></td>
<td>
<p>Integer. The simulation number</p>
</td></tr>
<tr><td><code id="popdynOneMICE_+3A_plusgroup">plusgroup</code></td>
<td>
<p>Numeric vector. Use plus-group (1) or not (0)</p>
</td></tr>
<tr><td><code id="popdynOneMICE_+3A_ssb0x">SSB0x</code></td>
<td>
<p>Unfished SSB0, Vector <code style="white-space: pre;">&#8288;[stock]&#8288;</code> length.</p>
</td></tr>
<tr><td><code id="popdynOneMICE_+3A_b0x">B0x</code></td>
<td>
<p>Unfished B0, Vector <code style="white-space: pre;">&#8288;[stock]&#8288;</code> length.</p>
</td></tr>
<tr><td><code id="popdynOneMICE_+3A_len_agenext">Len_agenext</code></td>
<td>
<p>Matrix <code style="white-space: pre;">&#8288;[stock, age]&#8288;</code> of next year's length-at-age</p>
</td></tr>
<tr><td><code id="popdynOneMICE_+3A_wt_agenext">Wt_agenext</code></td>
<td>
<p>Matrix <code style="white-space: pre;">&#8288;[stock, age]&#8288;</code> of next year's weight-at-age</p>
</td></tr>
<tr><td><code id="popdynOneMICE_+3A_srrfun">SRRfun</code></td>
<td>
<p>Optional. A stock-recruit function used if <code>SRrelc =3</code></p>
</td></tr>
<tr><td><code id="popdynOneMICE_+3A_srrpars">SRRpars</code></td>
<td>
<p>Optional. A named list of arguments for <code>SRRfun</code></p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>T.Carruthers
</p>

<hr>
<h2 id='popdynOneTScpp'>Aging and Mortality for one time-step</h2><span id='topic+popdynOneTScpp'></span>

<h3>Description</h3>

<p>Project population forward one time-step given current numbers-at-age and total mortality
</p>


<h3>Usage</h3>

<pre><code class='language-R'>popdynOneTScpp(nareas, maxage, Ncurr, Zcurr, plusgroup = 1L)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="popdynOneTScpp_+3A_nareas">nareas</code></td>
<td>
<p>The number of spatial areas</p>
</td></tr>
<tr><td><code id="popdynOneTScpp_+3A_maxage">maxage</code></td>
<td>
<p>The maximum age</p>
</td></tr>
<tr><td><code id="popdynOneTScpp_+3A_ncurr">Ncurr</code></td>
<td>
<p>A numeric matrix (maxage+1, nareas) with current numbers-at-age in each area</p>
</td></tr>
<tr><td><code id="popdynOneTScpp_+3A_zcurr">Zcurr</code></td>
<td>
<p>A numeric matrix (maxage+1, nareas) with total mortality-at-age in each area</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>A. Hordyk
</p>

<hr>
<h2 id='Pplot'>A projection by projection plot of F/FMSY and B/BMSY</h2><span id='topic+Pplot'></span>

<h3>Description</h3>

<p>A shorter version of the plot method for MSEs that just shows the projected
trends in stock status and over exploitation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Pplot(MSEobj, nam = NA, maxMP = 10, MPs = NA, maxsims = 20)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Pplot_+3A_mseobj">MSEobj</code></td>
<td>
<p>An object of class MSE</p>
</td></tr>
<tr><td><code id="Pplot_+3A_nam">nam</code></td>
<td>
<p>Title of plot</p>
</td></tr>
<tr><td><code id="Pplot_+3A_maxmp">maxMP</code></td>
<td>
<p>The maximum number of MPs to plot (defaults to the first 10)</p>
</td></tr>
<tr><td><code id="Pplot_+3A_mps">MPs</code></td>
<td>
<p>A character vector of MPs to plot</p>
</td></tr>
<tr><td><code id="Pplot_+3A_maxsims">maxsims</code></td>
<td>
<p>Integer, the maximum number of simulations to plot</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>

<hr>
<h2 id='Pplot2'>A projection by projection plot of F/FMSY, B/BMSY, B/B0, and yield</h2><span id='topic+Pplot2'></span>

<h3>Description</h3>

<p>A projection by projection plot of F/FMSY, B/BMSY, B/B0, and yield
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Pplot2(
  MSEobj,
  YVar = c("F_FMSY", "SSB_SSBMSY"),
  MPs = NA,
  sims = NULL,
  traj = c("all", "quant", "both"),
  quants = c(0.1, 0.9),
  incquant = TRUE,
  quantcol = "lightgray",
  RefYield = c("lto", "curr"),
  LastYr = TRUE,
  ref.lines = c(0.5, 1, 1.5),
  maxMP = 6,
  alpha = 60,
  cex.axis = 1,
  cex.lab = 1,
  YLab = NULL,
  incMP = TRUE,
  MPcex = 1,
  MPcol = "black",
  incLeg = TRUE,
  cex.leg = 1.5,
  legPos = "topleft",
  yline = NULL,
  xline = NULL,
  parOR = FALSE,
  xaxis = TRUE,
  yaxis = TRUE,
  oneIt = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Pplot2_+3A_mseobj">MSEobj</code></td>
<td>
<p>An object of class MSE</p>
</td></tr>
<tr><td><code id="Pplot2_+3A_yvar">YVar</code></td>
<td>
<p>What to plot on the y-axis? Options are: <code>c('SSB_SSB0',
'SSB_SSBMSY', 'F_FMSY', 'Yield')</code></p>
</td></tr>
<tr><td><code id="Pplot2_+3A_mps">MPs</code></td>
<td>
<p>Optional subset by MP</p>
</td></tr>
<tr><td><code id="Pplot2_+3A_sims">sims</code></td>
<td>
<p>Optional subset by simulation</p>
</td></tr>
<tr><td><code id="Pplot2_+3A_traj">traj</code></td>
<td>
<p>Plot all projections (<code>all</code>), only quantiles
(<code>quant</code>), or both projections and median (<code>both</code>)</p>
</td></tr>
<tr><td><code id="Pplot2_+3A_quants">quants</code></td>
<td>
<p>Numeric vector of length 2 specifying the quantiles (e.g.,
10th and 90th. Median is always included)</p>
</td></tr>
<tr><td><code id="Pplot2_+3A_incquant">incquant</code></td>
<td>
<p>Logical. Include the quantiles or only plot median?</p>
</td></tr>
<tr><td><code id="Pplot2_+3A_quantcol">quantcol</code></td>
<td>
<p>Colour of the quantile polygon</p>
</td></tr>
<tr><td><code id="Pplot2_+3A_refyield">RefYield</code></td>
<td>
<p>Should yield be relative to long-term optimum (<code>lto</code>)
or last historical year (<code>curr</code>)</p>
</td></tr>
<tr><td><code id="Pplot2_+3A_lastyr">LastYr</code></td>
<td>
<p>Logical. Include the last historical year in the yield
projections?</p>
</td></tr>
<tr><td><code id="Pplot2_+3A_ref.lines">ref.lines</code></td>
<td>
<p>Numeric vector of y-values for horizontal reference lines. Set to NULL to remove lines.</p>
</td></tr>
<tr><td><code id="Pplot2_+3A_maxmp">maxMP</code></td>
<td>
<p>Maximum number of MPs to plot</p>
</td></tr>
<tr><td><code id="Pplot2_+3A_alpha">alpha</code></td>
<td>
<p>Alpha for transparency of lines</p>
</td></tr>
<tr><td><code id="Pplot2_+3A_cex.axis">cex.axis</code></td>
<td>
<p>Size of axis text</p>
</td></tr>
<tr><td><code id="Pplot2_+3A_cex.lab">cex.lab</code></td>
<td>
<p>Size of axis label</p>
</td></tr>
<tr><td><code id="Pplot2_+3A_ylab">YLab</code></td>
<td>
<p>Optional label for y-axis</p>
</td></tr>
<tr><td><code id="Pplot2_+3A_incmp">incMP</code></td>
<td>
<p>Logical. Include name of MP?</p>
</td></tr>
<tr><td><code id="Pplot2_+3A_mpcex">MPcex</code></td>
<td>
<p>Size of MP label</p>
</td></tr>
<tr><td><code id="Pplot2_+3A_mpcol">MPcol</code></td>
<td>
<p>Optional character vector of colors for MP labels</p>
</td></tr>
<tr><td><code id="Pplot2_+3A_incleg">incLeg</code></td>
<td>
<p>Logical. Include a legend?</p>
</td></tr>
<tr><td><code id="Pplot2_+3A_cex.leg">cex.leg</code></td>
<td>
<p>Size of legend text</p>
</td></tr>
<tr><td><code id="Pplot2_+3A_legpos">legPos</code></td>
<td>
<p>Legend position</p>
</td></tr>
<tr><td><code id="Pplot2_+3A_yline">yline</code></td>
<td>
<p>Optional horizontal lines</p>
</td></tr>
<tr><td><code id="Pplot2_+3A_xline">xline</code></td>
<td>
<p>Optional vertical lines</p>
</td></tr>
<tr><td><code id="Pplot2_+3A_paror">parOR</code></td>
<td>
<p>Logical to over-ride the par parameters</p>
</td></tr>
<tr><td><code id="Pplot2_+3A_xaxis">xaxis</code></td>
<td>
<p>Logical. Should x-axis labels be displayed?</p>
</td></tr>
<tr><td><code id="Pplot2_+3A_yaxis">yaxis</code></td>
<td>
<p>Logical. Should y-axis labels be displayed?</p>
</td></tr>
<tr><td><code id="Pplot2_+3A_oneit">oneIt</code></td>
<td>
<p>Logical. Should one iteration be plotted on the quantile plot?</p>
</td></tr>
<tr><td><code id="Pplot2_+3A_...">...</code></td>
<td>
<p>Additional arguments to be passed to plotting functions</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>T. Carruthers &amp; A.Hordyk
</p>

<hr>
<h2 id='prob.class-class'>Prob class union for performance metric objects</h2><span id='topic+prob.class-class'></span>

<h3>Description</h3>

<p>Used internally. Nothing to see here!
</p>

<hr>
<h2 id='PWhisker'>Performance Whisker Plot</h2><span id='topic+PWhisker'></span>

<h3>Description</h3>

<p>A NAFO / ICCAT / SSB style MSE performance whisker plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>PWhisker(MSEobj)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="PWhisker_+3A_mseobj">MSEobj</code></td>
<td>
<p>An object of class MSE</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A box plot of performance
</p>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>

<hr>
<h2 id='qestMICE'>Internal function for optimizing catchability (q) for a MICE model</h2><span id='topic+qestMICE'></span>

<h3>Description</h3>

<p>Function returns objective function that fits both stock depletion and catch fraction among fleets
</p>


<h3>Usage</h3>

<pre><code class='language-R'>qestMICE(
  par,
  depc,
  CFc,
  mode = "opt",
  np,
  nf,
  nyears,
  nareas,
  maxage,
  Nx,
  VFx,
  FretAx,
  Effind,
  distx,
  movx,
  Spat_targ,
  M_ageArrayx,
  Mat_agex,
  Fec_agex,
  Asizex,
  WatAgex,
  Len_agex,
  Karrayx,
  Linfarrayx,
  t0arrayx,
  Marrayx,
  R0x,
  R0ax,
  SSBpRx,
  SSB0x,
  hsx,
  aRx,
  bRx,
  ax,
  bx,
  Perrx,
  SRrelx,
  Rel,
  SexPars,
  x,
  plusgroup,
  optVB,
  VB0x,
  B0x,
  WtCx,
  maxF,
  MPA,
  SRRfun,
  SRRpars,
  spawn_time_frac = rep(0, np)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="qestMICE_+3A_par">par</code></td>
<td>
<p>Integer, the simulation number</p>
</td></tr>
<tr><td><code id="qestMICE_+3A_depc">depc</code></td>
<td>
<p>Numeric vector, nstock long of specified stock depletion (SSB now / SSB0)</p>
</td></tr>
<tr><td><code id="qestMICE_+3A_cfc">CFc</code></td>
<td>
<p>Matrix <code style="white-space: pre;">&#8288;[nstock, nfleet]&#8288;</code>, a catch fraction among fleets (sums to 1 for each stock (row))</p>
</td></tr>
<tr><td><code id="qestMICE_+3A_mode">mode</code></td>
<td>
<p>Character if 'opt' qestMICE returns the objective function otherwise the fitted values in a list</p>
</td></tr>
<tr><td><code id="qestMICE_+3A_nf">nf</code></td>
<td>
<p>Integer, number of fleets</p>
</td></tr>
<tr><td><code id="qestMICE_+3A_nyears">nyears</code></td>
<td>
<p>Integer, number of historical years (unfished til today)</p>
</td></tr>
<tr><td><code id="qestMICE_+3A_nareas">nareas</code></td>
<td>
<p>Integer, number of areas (default is 2)</p>
</td></tr>
<tr><td><code id="qestMICE_+3A_maxage">maxage</code></td>
<td>
<p>Integer, maximum number of age classes for calculation</p>
</td></tr>
<tr><td><code id="qestMICE_+3A_nx">Nx</code></td>
<td>
<p>Array <code style="white-space: pre;">&#8288;[stock, age, year, area]&#8288;</code> of stock numbers</p>
</td></tr>
<tr><td><code id="qestMICE_+3A_vfx">VFx</code></td>
<td>
<p>Array <code style="white-space: pre;">&#8288;[fleet, age, year, area]&#8288;</code> of the vulnerability curve</p>
</td></tr>
<tr><td><code id="qestMICE_+3A_fretax">FretAx</code></td>
<td>
<p>Array <code style="white-space: pre;">&#8288;[fleet, age, year, area]&#8288;</code> of the retention curve</p>
</td></tr>
<tr><td><code id="qestMICE_+3A_effind">Effind</code></td>
<td>
<p>Array <code style="white-space: pre;">&#8288;[fleet, year]&#8288;</code> of effort</p>
</td></tr>
<tr><td><code id="qestMICE_+3A_movx">movx</code></td>
<td>
<p>Array <code style="white-space: pre;">&#8288;[stock,age,area,area]&#8288;</code> of movement transitions</p>
</td></tr>
<tr><td><code id="qestMICE_+3A_spat_targ">Spat_targ</code></td>
<td>
<p>Matrix <code style="white-space: pre;">&#8288;[stock, fleet]&#8288;</code> of spatial targeting parameter (0 evenly spatial distributed, 1 proportional to vulnerable biomass)</p>
</td></tr>
<tr><td><code id="qestMICE_+3A_m_agearrayx">M_ageArrayx</code></td>
<td>
<p>Array <code style="white-space: pre;">&#8288;[stock, age,year]&#8288;</code> of Natural mortality rate at age</p>
</td></tr>
<tr><td><code id="qestMICE_+3A_mat_agex">Mat_agex</code></td>
<td>
<p>Array <code style="white-space: pre;">&#8288;[stock, age, year]&#8288;</code> of maturity (spawning fraction) at age</p>
</td></tr>
<tr><td><code id="qestMICE_+3A_fec_agex">Fec_agex</code></td>
<td>
<p>Array <code style="white-space: pre;">&#8288;[stock, age, year]&#8288;</code> of mature spawning weight at age</p>
</td></tr>
<tr><td><code id="qestMICE_+3A_asizex">Asizex</code></td>
<td>
<p>Matrix <code style="white-space: pre;">&#8288;[stock, area]&#8288;</code> Area size</p>
</td></tr>
<tr><td><code id="qestMICE_+3A_karrayx">Karrayx</code></td>
<td>
<p>Array of von B growth parameter K</p>
</td></tr>
<tr><td><code id="qestMICE_+3A_linfarrayx">Linfarrayx</code></td>
<td>
<p>Array of von B asymptotic length parameter Linf</p>
</td></tr>
<tr><td><code id="qestMICE_+3A_t0arrayx">t0arrayx</code></td>
<td>
<p>Array ofvon B theoretical age at zero length (t0)</p>
</td></tr>
<tr><td><code id="qestMICE_+3A_marrayx">Marrayx</code></td>
<td>
<p>Array of mature natural mortality rate</p>
</td></tr>
<tr><td><code id="qestMICE_+3A_r0x">R0x</code></td>
<td>
<p>Vector <code style="white-space: pre;">&#8288;[stock]&#8288;</code> unfished recruitment</p>
</td></tr>
<tr><td><code id="qestMICE_+3A_r0ax">R0ax</code></td>
<td>
<p>Matrix <code style="white-space: pre;">&#8288;[stock, area]&#8288;</code> unfished recruitment by area</p>
</td></tr>
<tr><td><code id="qestMICE_+3A_ssbprx">SSBpRx</code></td>
<td>
<p>Matrix <code style="white-space: pre;">&#8288;[stock, area]&#8288;</code> spawning biomass per recruit by area</p>
</td></tr>
<tr><td><code id="qestMICE_+3A_ssb0x">SSB0x</code></td>
<td>
<p>Vector <code style="white-space: pre;">&#8288;[stock]&#8288;</code> Unfished spawning stock biomass</p>
</td></tr>
<tr><td><code id="qestMICE_+3A_hsx">hsx</code></td>
<td>
<p>Vector <code style="white-space: pre;">&#8288;[stock]&#8288;</code> steepness of the stock recruitment curve</p>
</td></tr>
<tr><td><code id="qestMICE_+3A_arx">aRx</code></td>
<td>
<p>Vector <code style="white-space: pre;">&#8288;[stock]&#8288;</code> stock recruitment parameter alpha (for Ricker curve)</p>
</td></tr>
<tr><td><code id="qestMICE_+3A_brx">bRx</code></td>
<td>
<p>Vector <code style="white-space: pre;">&#8288;[stock]&#8288;</code> stock recruitment parameter beta (for Ricker curve)</p>
</td></tr>
<tr><td><code id="qestMICE_+3A_ax">ax</code></td>
<td>
<p>Vector <code style="white-space: pre;">&#8288;[stock]&#8288;</code> weight-length parameter a W=aL^b</p>
</td></tr>
<tr><td><code id="qestMICE_+3A_bx">bx</code></td>
<td>
<p>Vector <code style="white-space: pre;">&#8288;[stock]&#8288;</code> weight-length parameter b W=aL^b</p>
</td></tr>
<tr><td><code id="qestMICE_+3A_perrx">Perrx</code></td>
<td>
<p>Matrix <code style="white-space: pre;">&#8288;[stock, year]&#8288;</code> process error - the lognormal factor for recruitment strength</p>
</td></tr>
<tr><td><code id="qestMICE_+3A_srrelx">SRrelx</code></td>
<td>
<p>Integer vector <code style="white-space: pre;">&#8288;[stock]&#8288;</code> the form of the stock recruitment relationship (1 = Beverton-Holt, 2= Ricker)</p>
</td></tr>
<tr><td><code id="qestMICE_+3A_rel">Rel</code></td>
<td>
<p>A list of inter-stock relationships see slot Rel of MOM object class</p>
</td></tr>
<tr><td><code id="qestMICE_+3A_sexpars">SexPars</code></td>
<td>
<p>A list of sex-specific dynamics (SSBfrom, stcck_age)</p>
</td></tr>
<tr><td><code id="qestMICE_+3A_x">x</code></td>
<td>
<p>Integer. The simulation number</p>
</td></tr>
<tr><td><code id="qestMICE_+3A_plusgroup">plusgroup</code></td>
<td>
<p>Integer vector <code style="white-space: pre;">&#8288;[stock]&#8288;</code> indicating if a plus group is used</p>
</td></tr>
<tr><td><code id="qestMICE_+3A_optvb">optVB</code></td>
<td>
<p>Logical, whether to optimize to vulnerable biomass (or spawning biomass otherwise)</p>
</td></tr>
<tr><td><code id="qestMICE_+3A_vb0x">VB0x</code></td>
<td>
<p>Vector <code style="white-space: pre;">&#8288;[stock]&#8288;</code> unfished vulnerable biomass</p>
</td></tr>
<tr><td><code id="qestMICE_+3A_b0x">B0x</code></td>
<td>
<p>Vector <code style="white-space: pre;">&#8288;[stock]&#8288;</code> unfished total biomass</p>
</td></tr>
<tr><td><code id="qestMICE_+3A_wtcx">WtCx</code></td>
<td>
<p>Array <code style="white-space: pre;">&#8288;[stock, fleet, n_age]&#8288;</code> of weight at age in catch in the last historical year</p>
</td></tr>
<tr><td><code id="qestMICE_+3A_maxf">maxF</code></td>
<td>
<p>A numeric value specifying the maximum fishing mortality for any
single age class</p>
</td></tr>
<tr><td><code id="qestMICE_+3A_mpa">MPA</code></td>
<td>
<p>An array of spatial closures by year <code style="white-space: pre;">&#8288;[np,nf,nyears+proyears,nareas]&#8288;</code></p>
</td></tr>
<tr><td><code id="qestMICE_+3A_srrfun">SRRfun</code></td>
<td>
<p>Optional. A stock-recruit function used if <code>SRrelc =3</code></p>
</td></tr>
<tr><td><code id="qestMICE_+3A_srrpars">SRRpars</code></td>
<td>
<p>Optional. A named list of arguments for <code>SRRfun</code></p>
</td></tr>
<tr><td><code id="qestMICE_+3A_spawn_time_frac">spawn_time_frac</code></td>
<td>
<p>Numeric. Fraction of the year when spawning occurs. Default = 0.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>T.Carruthers
</p>

<hr>
<h2 id='Range'>Standardize values</h2><span id='topic+Range'></span>

<h3>Description</h3>

<p>Function to standardize to value relative to minimum and maximum values
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Range(x, Max, Min)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Range_+3A_x">x</code></td>
<td>
<p>vector of values</p>
</td></tr>
<tr><td><code id="Range_+3A_max">Max</code></td>
<td>
<p>Maximum value</p>
</td></tr>
<tr><td><code id="Range_+3A_min">Min</code></td>
<td>
<p>Minimum value</p>
</td></tr>
</table>

<hr>
<h2 id='RealFease'>MP feasibility diagnostic using real data</h2><span id='topic+RealFease'></span>

<h3>Description</h3>

<p>What MPs do not return NAs from the real data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>RealFease(Data = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="RealFease_+3A_data">Data</code></td>
<td>
<p>An object of class 'Data'. Optional. If Data object is included, the returned MPs are both feasible (in terms of management)
and possible (sufficient data to run MP)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a vector of MP names that calculate without errors for the specific data.
</p>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>

<hr>
<h2 id='Rec-class'>Class <code>'Rec'</code></h2><span id='topic+Rec-class'></span>

<h3>Description</h3>

<p>An object for storing the MP recommendations
</p>


<h3>Slots</h3>


<dl>
<dt><code>TAC</code></dt><dd><p>A numeric value with the TAC recommendation</p>
</dd>
<dt><code>Effort</code></dt><dd><p>A numeric value with the effort recommendation as a fraction of current (nyear) fishing effort</p>
</dd>
<dt><code>Spatial</code></dt><dd><p>A boolean vector of length 'nareas' specifying if area is open (1) or closed (0) to fishing</p>
</dd>
<dt><code>Allocate</code></dt><dd><p>A boolean value describing if effort should be re-allocated from close to open areas</p>
</dd>
<dt><code>LR5</code></dt><dd><p>smallest length at 5 per cent retention - in absolute units - i.e same units as Linf and L50</p>
</dd>
<dt><code>LFR</code></dt><dd><p>smallest length at full retention  - in absolute units - i.e same units as Linf and L50</p>
</dd>
<dt><code>HS</code></dt><dd><p>upper harvest slot (no retention above this)  - in absolute units - i.e same units as Linf and L50</p>
</dd>
<dt><code>Rmaxlen</code></dt><dd><p>retention of the largest size class - fraction between 0 and 1</p>
</dd>
<dt><code>L5</code></dt><dd><p>smallest length at 5 per cent selection - in absolute units - i.e same units as Linf and L50</p>
</dd>
<dt><code>LFS</code></dt><dd><p>smallest length at full selection  - in absolute units - i.e same units as Linf and L50</p>
</dd>
<dt><code>Vmaxlen</code></dt><dd><p>selection of the largest size class - fraction between 0 and 1</p>
</dd>
<dt><code>Fdisc</code></dt><dd><p>fraction of discarded fish that die - fraction between 0 and 1</p>
</dd>
<dt><code>DR</code></dt><dd><p>Discard rate - the fraction of caught fish that are discarded</p>
</dd>
<dt><code>Misc</code></dt><dd><p>An empty list that can be used to store information and pass on to MPs in future</p>
</dd>
</dl>


<h3>Objects from the Class</h3>

<p>Objects can be created by calls of the form
<code>new('Rec')</code>
</p>


<h3>Author(s)</h3>

<p>A. Hordyk
</p>

<hr>
<h2 id='Replace'>Replace an existing Stock, Fleet, Obs, or Imp object</h2><span id='topic+Replace'></span>

<h3>Description</h3>

<p>A function that replaces a Stock, Fleet, Obs, or Imp object from an
OM with one from another object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Replace(
  OM,
  from,
  Sub = c("Stock", "Fleet", "Obs", "Imp"),
  Name = NULL,
  silent = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Replace_+3A_om">OM</code></td>
<td>
<p>An operating model object (class OM) which will be updated with a sub-model from another OM</p>
</td></tr>
<tr><td><code id="Replace_+3A_from">from</code></td>
<td>
<p>An object of class <code>OM</code>, <code>Stock</code>, <code>Fleet</code>, <code>Obs</code>, or <code>Imp</code> to be replace the values in <code>OM</code></p>
</td></tr>
<tr><td><code id="Replace_+3A_sub">Sub</code></td>
<td>
<p>A character string specifying what object type to replace (only used if <code>from</code> is class <code>OM</code>)
&quot;Stock&quot;, &quot;Fleet&quot;, &quot;Obs&quot;, or &quot;Imp&quot; (default is all four which is probably not what you want to do)</p>
</td></tr>
<tr><td><code id="Replace_+3A_name">Name</code></td>
<td>
<p>Character. Name for the new OM object (<code>OM@Name</code>)</p>
</td></tr>
<tr><td><code id="Replace_+3A_silent">silent</code></td>
<td>
<p>Should messages be printed?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class OM
</p>


<h3>Author(s)</h3>

<p>A. Hordyk
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Replace Stock
OM &lt;- MSEtool::testOM
OM2 &lt;- Replace(OM, Blue_shark)

# Replace Fleet
OM &lt;- MSEtool::testOM
OM2 &lt;- Replace(OM, Generic_DecE)

# Replace Fleet from another OM
# OM1 &lt;- new("OM", Albacore, Generic_DecE, Perfect_Info, Overages)
# OM2 &lt;- new("OM", Blue_shark, Generic_IncE, Generic_Obs, Perfect_Imp)
# OM1a &lt;- Replace(OM1, OM2, "Fleet")

</code></pre>

<hr>
<h2 id='replic8'>Enlarge (replicate) a DLM data object to create an additional dimension for
simulation / sensitivity testing</h2><span id='topic+replic8'></span>

<h3>Description</h3>

<p>Replicates position 1 data to multiple positions for sensitivity testing etc
</p>


<h3>Usage</h3>

<pre><code class='language-R'>replic8(Data, nrep)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="replic8_+3A_data">Data</code></td>
<td>
<p>A data-limited methods data object</p>
</td></tr>
<tr><td><code id="replic8_+3A_nrep">nrep</code></td>
<td>
<p>The number of positions to expand the DLM object to</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>

<hr>
<h2 id='Report'>Generate a Data Report</h2><span id='topic+Report'></span>

<h3>Description</h3>

<p>A HTML Data Report is generated and opened in a web browser
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Report(
  Data = NULL,
  md = NULL,
  name = "Data-Report",
  title = "Data Documentation",
  author = "Author Name",
  date = Sys.Date(),
  output_format = c("html_document", "pdf_document"),
  open = TRUE,
  quiet = TRUE,
  dir = NULL,
  overwrite = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Report_+3A_data">Data</code></td>
<td>
<p>Either an object of class <code>Data</code> or the file path to a valid
file to be imported with <code>XL2Data</code></p>
</td></tr>
<tr><td><code id="Report_+3A_md">md</code></td>
<td>
<p>Full file path to a valid text file documenting the Data</p>
</td></tr>
<tr><td><code id="Report_+3A_name">name</code></td>
<td>
<p>Optional. Name of the output file</p>
</td></tr>
<tr><td><code id="Report_+3A_title">title</code></td>
<td>
<p>Title for the Report. Title in the markdown file will override this value</p>
</td></tr>
<tr><td><code id="Report_+3A_author">author</code></td>
<td>
<p>Author of the Report. Author in the markdown file will override this value</p>
</td></tr>
<tr><td><code id="Report_+3A_date">date</code></td>
<td>
<p>Date of the Report. Date in the markdown file will override this value</p>
</td></tr>
<tr><td><code id="Report_+3A_output_format">output_format</code></td>
<td>
<p>Output file format: <code>html_document</code> or <code>pdf_document</code></p>
</td></tr>
<tr><td><code id="Report_+3A_open">open</code></td>
<td>
<p>Logical. Open the compiled report?</p>
</td></tr>
<tr><td><code id="Report_+3A_quiet">quiet</code></td>
<td>
<p>Logical.An option to suppress printing of the pandoc command line.</p>
</td></tr>
<tr><td><code id="Report_+3A_dir">dir</code></td>
<td>
<p>Optional. Directory to save the file. Defaults to <code>getwd()</code></p>
</td></tr>
<tr><td><code id="Report_+3A_overwrite">overwrite</code></td>
<td>
<p>Logical. Overwrite an existing file with the same name?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Nothing. A Data Report is generated and saved in <code>dir</code>
</p>


<h3>Author(s)</h3>

<p>A. Hordyk
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
DataInit('Example') # generate example Data Input and Documentation files
Report('Example', 'Example.md')

## End(Not run)
</code></pre>

<hr>
<h2 id='ReqData'>ReqData</h2><span id='topic+ReqData'></span>

<h3>Description</h3>

<p>Dataframe with required data slots for built-in MPs
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ReqData
</code></pre>


<h3>Format</h3>

<p>An object of class <code>data.frame</code> with 123 rows and 2 columns.
</p>

<hr>
<h2 id='Required'>What management procedures need what data</h2><span id='topic+Required'></span>

<h3>Description</h3>

<p>A function that finds all the MPs and searches the
function text for slots in the Data object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Required(funcs = NA, noCV = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Required_+3A_funcs">funcs</code></td>
<td>
<p>A character vector of management procedures</p>
</td></tr>
<tr><td><code id="Required_+3A_nocv">noCV</code></td>
<td>
<p>Logical. Should the CV slots be left out?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A matrix of MPs and their required data in terms of <code>slotnames('Data')</code>,
and broad Data classes for each MP
</p>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>


<h3>See Also</h3>

<p><a href="#topic+Can">Can</a> <a href="#topic+Cant">Cant</a> <a href="#topic+Needed">Needed</a> <a href="#topic+MPtype">MPtype</a> <a href="#topic+Data-class">Data</a>
</p>

<hr>
<h2 id='ResFromRel'>Returns Results of a set of MICE relationships</h2><span id='topic+ResFromRel'></span>

<h3>Description</h3>

<p>Predicts stock-specific parameters from another stocks biomass, spawning biomass or numbers
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ResFromRel(Rel, Bcur, SSBcur, Ncur, SSB0, B0, seed, x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ResFromRel_+3A_rel">Rel</code></td>
<td>
<p>A list of inter-stock relationships see slot Rel of MOM object class</p>
</td></tr>
<tr><td><code id="ResFromRel_+3A_bcur">Bcur</code></td>
<td>
<p>An array of current stock biomass <code style="white-space: pre;">&#8288;[stock, age, area]&#8288;</code></p>
</td></tr>
<tr><td><code id="ResFromRel_+3A_ssbcur">SSBcur</code></td>
<td>
<p>An array of current spawning stock biomass <code style="white-space: pre;">&#8288;[stock, age, area]&#8288;</code></p>
</td></tr>
<tr><td><code id="ResFromRel_+3A_ncur">Ncur</code></td>
<td>
<p>An array of current stock numbers <code style="white-space: pre;">&#8288;[stock, age, area]&#8288;</code></p>
</td></tr>
<tr><td><code id="ResFromRel_+3A_ssb0">SSB0</code></td>
<td>
<p>A vector of unfished spawning biomass <code style="white-space: pre;">&#8288;[stock]&#8288;</code></p>
</td></tr>
<tr><td><code id="ResFromRel_+3A_b0">B0</code></td>
<td>
<p>A vector of unfished biomass <code style="white-space: pre;">&#8288;[stock]&#8288;</code></p>
</td></tr>
<tr><td><code id="ResFromRel_+3A_seed">seed</code></td>
<td>
<p>Seed for sampling.</p>
</td></tr>
<tr><td><code id="ResFromRel_+3A_x">x</code></td>
<td>
<p>The simulation number.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>T.Carruthers
</p>

<hr>
<h2 id='runCOSEWIC'>COSEWIC MSE run using the correct MPs and projected time horizon</h2><span id='topic+runCOSEWIC'></span><span id='topic+COSEWIC_Pplot'></span><span id='topic+COSEWIC_Dplot'></span><span id='topic+COSEWIC_Blow'></span><span id='topic+COSEWIC_Hplot'></span><span id='topic+COSEWIC_report'></span><span id='topic+COSEWIC_tab'></span><span id='topic+COSEWIC_tab_formatted'></span>

<h3>Description</h3>

<p>Dedicated functions for MSE run and reporting for COSEWIC (Committee on the Status of
Endangered Wildlife in Canada). MSE projects for 6x maximum age using NFref, FMSYref and curE
management procedures.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>runCOSEWIC(OM, ...)

COSEWIC_Pplot(
  MSEobj,
  syear = 2017,
  qcol = "#FFCB62",
  quants = c(0.05, 0.25, 0.5, 0.75, 0.95)
)

COSEWIC_Dplot(
  MSEobj,
  syear = 2017,
  qcol = "#79F48D",
  quants = c(0.05, 0.25, 0.5, 0.75, 0.95),
  nGT = 3
)

COSEWIC_Blow(
  MSEobj,
  syear = 2017,
  qcol = rgb(0.4, 0.8, 0.95),
  quants = c(0.05, 0.25, 0.5, 0.75, 0.95),
  nGT = 3
)

COSEWIC_Hplot(
  MSEobj,
  syear = 2017,
  qcol = rgb(0.4, 0.8, 0.95),
  quants = c(0.05, 0.25, 0.5, 0.75, 0.95)
)

COSEWIC_report(
  MSEobj,
  output_file = NA,
  author = "Author not specified",
  title = NA
)

COSEWIC_tab(MSEobj, rnd = 0, GTs = c(3, 6), syear = 2017, nGT = 3)

COSEWIC_tab_formatted(
  Ptab1,
  thresh = c(20, 40, 40, 20, 40, 40, 40, 30, 5),
  ret_thresh = F
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="runCOSEWIC_+3A_om">OM</code></td>
<td>
<p>An operating model object of class OM</p>
</td></tr>
<tr><td><code id="runCOSEWIC_+3A_...">...</code></td>
<td>
<p>Other named arguments to pass to <code>runMSE</code></p>
</td></tr>
<tr><td><code id="runCOSEWIC_+3A_mseobj">MSEobj</code></td>
<td>
<p>An object of class MSE with <code>MPs = c("NFref", "FMSYref", "curE")</code></p>
</td></tr>
<tr><td><code id="runCOSEWIC_+3A_syear">syear</code></td>
<td>
<p>Current year, starting year for projections (e.g. 2017)</p>
</td></tr>
<tr><td><code id="runCOSEWIC_+3A_qcol">qcol</code></td>
<td>
<p>Color of shaded regions (bars, quantiles)</p>
</td></tr>
<tr><td><code id="runCOSEWIC_+3A_quants">quants</code></td>
<td>
<p>Quantiles of the shaded regions (vector 5 long e.g. 0.1, 0.2, 0.5, 0.8, 0.9)</p>
</td></tr>
<tr><td><code id="runCOSEWIC_+3A_ngt">nGT</code></td>
<td>
<p>Number of generation times. For <code>COSEWIC_tab</code>, for moving window of SSB chance (metrics A1 and A2). For
<code>COSEWIC_Blow</code> and <code>COSEWIC_Dplot</code>, used for projections (the number of projection years should be greater than <code>MaxAge * nGT</code>).</p>
</td></tr>
<tr><td><code id="runCOSEWIC_+3A_output_file">output_file</code></td>
<td>
<p>The directory and filename you wish to use for the report e.g. &quot;C:/temp/myMSEreport.html&quot;</p>
</td></tr>
<tr><td><code id="runCOSEWIC_+3A_author">author</code></td>
<td>
<p>The person who made this report</p>
</td></tr>
<tr><td><code id="runCOSEWIC_+3A_title">title</code></td>
<td>
<p>The title of the report</p>
</td></tr>
<tr><td><code id="runCOSEWIC_+3A_rnd">rnd</code></td>
<td>
<p>The number of significant figures for rounding.</p>
</td></tr>
<tr><td><code id="runCOSEWIC_+3A_gts">GTs</code></td>
<td>
<p>A vector of mean generation times to evaluate performance metrics over</p>
</td></tr>
<tr><td><code id="runCOSEWIC_+3A_ptab1">Ptab1</code></td>
<td>
<p>A COSEWIC performance table made by <code>COSEWIC_tab</code></p>
</td></tr>
<tr><td><code id="runCOSEWIC_+3A_thresh">thresh</code></td>
<td>
<p>A vector of thresholds for each column Health, Yield and Reb are 'greater than threshold' conditions</p>
</td></tr>
<tr><td><code id="runCOSEWIC_+3A_ret_thresh">ret_thresh</code></td>
<td>
<p>Logical: if true just the threshold levels are returned</p>
</td></tr>
</table>


<h3>Functions</h3>


<ul>
<li> <p><code>runCOSEWIC()</code>: Calls <code>runMSE</code> with number of projection years for 6x maximum age and
uses <code>NFref</code>, <code>FMSYref</code>, and <code>curE</code> MPs.
</p>
</li>
<li> <p><code>COSEWIC_Pplot()</code>: Projection plots of spawning stock biomass under three scenarios:
no catch, FMSY fishing and status quo fishing effort.
</p>
</li>
<li> <p><code>COSEWIC_Dplot()</code>: Depletion plots evaluate whether significant declines have
occurred over three generation times in both historical and projection years.
</p>
</li>
<li> <p><code>COSEWIC_Blow()</code>: Plots that evaluate the likelihood of declining below <code>Blow</code>,
by default, biomass that takes 3 generation times to reach half BMSY with zero fishing
</p>
</li>
<li> <p><code>COSEWIC_Hplot()</code>: Plots of historical spawning stock  relative to unfished and MSY levels.
</p>
</li>
<li> <p><code>COSEWIC_report()</code>: Create a standard DFO COSEWIC report (provides performance plots
to inform COSEWIC processes in Canadian fish stocks).
</p>
</li>
<li> <p><code>COSEWIC_tab()</code>: Creates a standard COSEWIC performance table:
</p>

<ul>
<li> <p><code>P_Cr</code> is the probability of being in the critical zone (less than 20% depletion)
</p>
</li>
<li> <p><code>P_Ct</code> is the probability of being in the cautious zone (between 20% and 40% depletion)
</p>
</li>
<li> <p><code>P_H</code> is the probability of being in the healthy zone (above 40% depletion)
</p>
</li>
<li> <p><code>P_Cr_MSY</code> is the probability of being in the critical zone (less than 40% BMSY)
</p>
</li>
<li> <p><code>P_Ct_MSY</code> is the probability of being in the cautious zone (between 40% and 80% BMSY)
</p>
</li>
<li> <p><code>P_H_MSY</code> is the probability of being in the healthy zone (above 80% BMSY)
</p>
</li>
<li> <p><code>Caut</code> is the probability of being in the cautious zone in the last 10 projected years
</p>
</li>
<li> <p><code>P_A1</code> is the probability of being designated threatened according to COSEWIC Indicator A1 (Spawning biomass less than 70% that three generation times previously)
</p>
</li>
<li> <p><code>P_A2</code> is the probability of being designated threatened according to COSEWIC Indicator A2 (Spawning biomass less than 50% that three generation times previously)
</p>
</li>
<li> <p><code>Blow</code> is the probability that the stock is below the biomass for which it takes 3 generation times to reach 50% BMSY with zero fishing
</p>
</li></ul>

</li>
<li> <p><code>COSEWIC_tab_formatted()</code>: A formatted version of the standard COSEWIC performance plot,
color coded by thresholds.
</p>
</li></ul>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>


<h3>References</h3>

<p><a href="https://cosewic.ca/index.php/en/">https://cosewic.ca/index.php/en/</a>
</p>

<hr>
<h2 id='runInMP'>Runs input control MPs on a Data object.</h2><span id='topic+runInMP'></span>

<h3>Description</h3>

<p>Function runs a MP (or MPs) of class 'Input' and returns a list: input
control recommendation(s) in element 1 and Data object in element 2.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>runInMP(Data, MPs = NA, reps = 100)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="runInMP_+3A_data">Data</code></td>
<td>
<p>A object of class Data</p>
</td></tr>
<tr><td><code id="runInMP_+3A_mps">MPs</code></td>
<td>
<p>A vector of MPs of class 'Input'</p>
</td></tr>
<tr><td><code id="runInMP_+3A_reps">reps</code></td>
<td>
<p>Number of stochastic repetitions - often not used in input
control MPs.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>A. Hordyk
</p>

<hr>
<h2 id='runMP'>Run a Management Procedure</h2><span id='topic+runMP'></span>

<h3>Description</h3>

<p>Run a Management Procedure
</p>


<h3>Usage</h3>

<pre><code class='language-R'>runMP(Data, MPs = NA, reps = 100, perc = 0.5, chkMPs = FALSE, silent = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="runMP_+3A_data">Data</code></td>
<td>
<p>A MSEtool Data object</p>
</td></tr>
<tr><td><code id="runMP_+3A_mps">MPs</code></td>
<td>
<p>The name of the MP to run (or a vector or names)</p>
</td></tr>
<tr><td><code id="runMP_+3A_reps">reps</code></td>
<td>
<p>Number of repetitions</p>
</td></tr>
<tr><td><code id="runMP_+3A_perc">perc</code></td>
<td>
<p>Percentile to summarize reps (default is median)</p>
</td></tr>
<tr><td><code id="runMP_+3A_chkmps">chkMPs</code></td>
<td>
<p>Logical. Should the MPs be checked before attempting to run them?</p>
</td></tr>
<tr><td><code id="runMP_+3A_silent">silent</code></td>
<td>
<p>Logical. Should messages by suppressed?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>invisibly returns the Data object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>Data_TAc &lt;- runMP(MSEtool::Cobia)
</code></pre>

<hr>
<h2 id='sample_steepness2'>Sample steepness given mean and cv</h2><span id='topic+sample_steepness2'></span><span id='topic+derive_beta_par'></span>

<h3>Description</h3>

<p>Sample steepness given mean and cv
</p>
<p>This function reduces the CV by 5 per cent until steepness values can be sampled without error
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sample_steepness2(n, mu, cv)

derive_beta_par(mu, sigma)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sample_steepness2_+3A_n">n</code></td>
<td>
<p>number of samples</p>
</td></tr>
<tr><td><code id="sample_steepness2_+3A_mu">mu</code></td>
<td>
<p>mean h</p>
</td></tr>
<tr><td><code id="sample_steepness2_+3A_cv">cv</code></td>
<td>
<p>cv of h</p>
</td></tr>
<tr><td><code id="sample_steepness2_+3A_sigma">sigma</code></td>
<td>
<p>sd of h</p>
</td></tr>
</table>


<h3>Functions</h3>


<ul>
<li> <p><code>sample_steepness2()</code>: sample steepness values
</p>
</li>
<li> <p><code>derive_beta_par()</code>: derive beta parameter
</p>
</li></ul>


<h3>Author(s)</h3>

<p>Q. Huynh
</p>

<hr>
<h2 id='SampleCpars'>Sample custom pars</h2><span id='topic+SampleCpars'></span>

<h3>Description</h3>

<p>Sample custom pars
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SampleCpars(cpars, nsim = 48, silent = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SampleCpars_+3A_cpars">cpars</code></td>
<td>
<p>A named list containing custom parameters for the OM</p>
</td></tr>
<tr><td><code id="SampleCpars_+3A_nsim">nsim</code></td>
<td>
<p>number of simulations</p>
</td></tr>
<tr><td><code id="SampleCpars_+3A_silent">silent</code></td>
<td>
<p>logical - print the names of the cpars? Turn off when using the function in a loop</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named list of sampled custom parameters
</p>

<hr>
<h2 id='SampleFleetPars'>Sample Fleet Parameters</h2><span id='topic+SampleFleetPars'></span>

<h3>Description</h3>

<p>Sample Fleet Parameters
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SampleFleetPars(
  Fleet,
  Stock = NULL,
  nsim = NULL,
  nyears = NULL,
  proyears = NULL,
  cpars = NULL,
  msg = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SampleFleetPars_+3A_fleet">Fleet</code></td>
<td>
<p>An object of class 'Fleet' or class 'OM'</p>
</td></tr>
<tr><td><code id="SampleFleetPars_+3A_stock">Stock</code></td>
<td>
<p>An object of class 'Stock' or a list of sampled Stock parameters.
Ignored if 'Fleet' is class 'OM'</p>
</td></tr>
<tr><td><code id="SampleFleetPars_+3A_nsim">nsim</code></td>
<td>
<p>Number of simulations. Ignored if 'Fleet' is class 'OM'</p>
</td></tr>
<tr><td><code id="SampleFleetPars_+3A_nyears">nyears</code></td>
<td>
<p>Number of historical years. Ignored if 'Fleet' is class 'OM'</p>
</td></tr>
<tr><td><code id="SampleFleetPars_+3A_proyears">proyears</code></td>
<td>
<p>Number of projection years. Ignored if 'Fleet' is class 'OM'</p>
</td></tr>
<tr><td><code id="SampleFleetPars_+3A_cpars">cpars</code></td>
<td>
<p>Optional named list of custom parameters. Ignored if 'Fleet' is class 'OM'</p>
</td></tr>
<tr><td><code id="SampleFleetPars_+3A_msg">msg</code></td>
<td>
<p>Logical. Print messages?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named list of sampled Fleet parameters
</p>

<hr>
<h2 id='SampleImpPars'>Sample Implementation Error Parameters</h2><span id='topic+SampleImpPars'></span>

<h3>Description</h3>

<p>Sample Implementation Error Parameters
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SampleImpPars(Imp, nsim = NULL, cpars = NULL, nyears = NULL, proyears = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SampleImpPars_+3A_imp">Imp</code></td>
<td>
<p>An object of class 'Imp' or class 'OM'</p>
</td></tr>
<tr><td><code id="SampleImpPars_+3A_nsim">nsim</code></td>
<td>
<p>Number of simulations. Ignored if 'Imp' is class 'OM'</p>
</td></tr>
<tr><td><code id="SampleImpPars_+3A_cpars">cpars</code></td>
<td>
<p>Optional named list of custom parameters. Ignored if 'OM' is class 'OM'</p>
</td></tr>
<tr><td><code id="SampleImpPars_+3A_nyears">nyears</code></td>
<td>
<p>Number of historical years.</p>
</td></tr>
<tr><td><code id="SampleImpPars_+3A_proyears">proyears</code></td>
<td>
<p>Number of projection years. Not essential.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named list of sampled Implementation Error parameters
</p>

<hr>
<h2 id='SampleObsPars'>Sample Observation Parameters</h2><span id='topic+SampleObsPars'></span>

<h3>Description</h3>

<p>Sample Observation Parameters
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SampleObsPars(
  Obs,
  nsim = NULL,
  cpars = NULL,
  Stock = NULL,
  nyears = NULL,
  proyears = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SampleObsPars_+3A_obs">Obs</code></td>
<td>
<p>An object of class 'Obs' or class 'OM'</p>
</td></tr>
<tr><td><code id="SampleObsPars_+3A_nsim">nsim</code></td>
<td>
<p>Number of simulations. Ignored if 'Obs' is class 'OM'</p>
</td></tr>
<tr><td><code id="SampleObsPars_+3A_cpars">cpars</code></td>
<td>
<p>Optional named list of custom parameters. Ignored if 'OM' is class 'OM'</p>
</td></tr>
<tr><td><code id="SampleObsPars_+3A_stock">Stock</code></td>
<td>
<p>An object of class 'Stock' or a list of sampled Stock parameters. Not essential.</p>
</td></tr>
<tr><td><code id="SampleObsPars_+3A_nyears">nyears</code></td>
<td>
<p>Number of historical years.</p>
</td></tr>
<tr><td><code id="SampleObsPars_+3A_proyears">proyears</code></td>
<td>
<p>Number of projection years. Not essential.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named list of sampled Observation parameters
</p>

<hr>
<h2 id='SampleStockPars'>Sample Stock parameters</h2><span id='topic+SampleStockPars'></span>

<h3>Description</h3>

<p>Sample Stock parameters
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SampleStockPars(
  Stock,
  nsim = 48,
  nyears = 80,
  proyears = 50,
  cpars = NULL,
  msg = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SampleStockPars_+3A_stock">Stock</code></td>
<td>
<p>An object of class 'Stock' or class 'OM'</p>
</td></tr>
<tr><td><code id="SampleStockPars_+3A_nsim">nsim</code></td>
<td>
<p>Number of simulations. Ignored if 'Stock' is class 'OM'</p>
</td></tr>
<tr><td><code id="SampleStockPars_+3A_nyears">nyears</code></td>
<td>
<p>Number of historical years. Ignored if 'Stock' is class 'OM'</p>
</td></tr>
<tr><td><code id="SampleStockPars_+3A_proyears">proyears</code></td>
<td>
<p>Number of projection years. Ignored if 'Stock' is class 'OM'</p>
</td></tr>
<tr><td><code id="SampleStockPars_+3A_cpars">cpars</code></td>
<td>
<p>Optional named list of custom parameters. Ignored if 'Stock' is class 'OM'</p>
</td></tr>
<tr><td><code id="SampleStockPars_+3A_msg">msg</code></td>
<td>
<p>logical. Warning message for M values?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named list of sampled Stock parameters
</p>

<hr>
<h2 id='sdconv'>Get parameters of lognormal distribution from mean and standard deviation in normal
space</h2><span id='topic+sdconv'></span><span id='topic+mconv'></span>

<h3>Description</h3>

<p>Get parameters of lognormal distribution from mean and standard deviation in normal
space
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sdconv(m, sd)

mconv(m, sd)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sdconv_+3A_m">m</code></td>
<td>
<p>mean in normal space</p>
</td></tr>
<tr><td><code id="sdconv_+3A_sd">sd</code></td>
<td>
<p>standard deviation in normal space</p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>sdconv()</code>: Returns sigma of lognormal distribution
</p>
</li>
<li> <p><code>mconv()</code>: Returns mu of lognormal distribution
</p>
</li></ul>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>

<hr>
<h2 id='Sense'>Sensitivity analysis</h2><span id='topic+Sense'></span>

<h3>Description</h3>

<p>A function that determines the inputs for a given data-limited method of
class Output and then analyses the sensitivity of TAC estimates to
marginal differences in each input. The range used for sensitivity is based
on the user-specified CV for that input (e.g. CV_Mort, Mort)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Sense(Data, MP, nsense = 6, reps = 100, perc = c(0.05, 0.5, 0.95), ploty = T)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Sense_+3A_data">Data</code></td>
<td>
<p>A data-limited methods data object</p>
</td></tr>
<tr><td><code id="Sense_+3A_mp">MP</code></td>
<td>
<p>A character string representing an MP applied in calculating the TAC recommendations in the DLM object</p>
</td></tr>
<tr><td><code id="Sense_+3A_nsense">nsense</code></td>
<td>
<p>The number of points over which to calculate the TAC (resolution)</p>
</td></tr>
<tr><td><code id="Sense_+3A_reps">reps</code></td>
<td>
<p>The number of samples of the quota taken for the calculation of the TAC</p>
</td></tr>
<tr><td><code id="Sense_+3A_perc">perc</code></td>
<td>
<p>The percentile of the sample TAC</p>
</td></tr>
<tr><td><code id="Sense_+3A_ploty">ploty</code></td>
<td>
<p>A logical switch, (T/F, should a plot be drawn?)</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
Data &lt;- Sense(MSEtool::Cobia, "AvC")

## End(Not run)
</code></pre>

<hr>
<h2 id='setup'>Setup parallel processing</h2><span id='topic+setup'></span>

<h3>Description</h3>

<p>Sets up parallel processing using the snowfall package
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setup(cpus = NULL, logical = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="setup_+3A_cpus">cpus</code></td>
<td>
<p>the number of CPUs to use for parallel processing. If left empty
all physical cores will be used, unless <code>logical=TRUE</code>, in which case both
physical and logical (virtual) cores will be used.</p>
</td></tr>
<tr><td><code id="setup_+3A_logical">logical</code></td>
<td>
<p>Use the logical cores as well? Using the virtual cores may
not lead to any significant decrease in run time.
You can test the optimal number of cores using <code>optCPU()</code></p>
</td></tr>
<tr><td><code id="setup_+3A_...">...</code></td>
<td>
<p>other arguments passed to 'snowfall::sfInit'</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
setup() # set-up the physical processors
setup(6) # set-up 6 processors
setup(logical=TRUE) # set-up physical and logical cores

## End(Not run)
</code></pre>

<hr>
<h2 id='show-MSEtool'>Show MSEtool S4 objects</h2><span id='topic+show-MSEtool'></span><span id='topic+show'></span><span id='topic+show+2CData-method'></span><span id='topic+show+2COM-method'></span><span id='topic+show+2CHist-method'></span><span id='topic+show+2CMSE-method'></span><span id='topic+show+2CMMSE-method'></span>

<h3>Description</h3>

<p>Briefly prints a couple of lines from <a href="utils.html#topic+str">str</a> to avoid swamping the console with
the contents of very large objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'Data'
show(object)

## S4 method for signature 'OM'
show(object)

## S4 method for signature 'Hist'
show(object)

## S4 method for signature 'MSE'
show(object)

## S4 method for signature 'MMSE'
show(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="show-MSEtool_+3A_object">object</code></td>
<td>
<p>S4 object from MSEtool</p>
</td></tr>
</table>

<hr>
<h2 id='show+2CPMobj-method'>Show the output of a PM</h2><span id='topic+show+2CPMobj-method'></span>

<h3>Description</h3>

<p>Show the output of a PM
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'PMobj'
show(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="show+2B2CPMobj-method_+3A_object">object</code></td>
<td>
<p>object of class MSE</p>
</td></tr>
</table>

<hr>
<h2 id='show+2CRec-method'>Show the output of a single MP recommendation</h2><span id='topic+show+2CRec-method'></span>

<h3>Description</h3>

<p>Show the output of a single MP recommendation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'Rec'
show(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="show+2B2CRec-method_+3A_object">object</code></td>
<td>
<p>object of class Rec</p>
</td></tr>
</table>

<hr>
<h2 id='SIL'>Slot in list: get the slot values from a list of objects</h2><span id='topic+SIL'></span>

<h3>Description</h3>

<p>Create of vector of values that correspond with a slot in a list of objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SIL(listy, sloty)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SIL_+3A_listy">listy</code></td>
<td>
<p>A list of objects</p>
</td></tr>
<tr><td><code id="SIL_+3A_sloty">sloty</code></td>
<td>
<p>A character vector representing the slot name</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>

<hr>
<h2 id='simCAA'>Simulate Catch-at-Age Data</h2><span id='topic+simCAA'></span>

<h3>Description</h3>

<p>CAA generated with either a multinomial or logistic normal observation model from retained catch-at-age
array
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simCAA(nsim, yrs, n_age, Cret, CAA_ESS, CAA_nsamp)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simCAA_+3A_nsim">nsim</code></td>
<td>
<p>Number of simulations</p>
</td></tr>
<tr><td><code id="simCAA_+3A_yrs">yrs</code></td>
<td>
<p>Number of years</p>
</td></tr>
<tr><td><code id="simCAA_+3A_n_age">n_age</code></td>
<td>
<p>Number of age classes</p>
</td></tr>
<tr><td><code id="simCAA_+3A_cret">Cret</code></td>
<td>
<p>Retained Catch at age in numbers - array(sim, years, maxage+1)</p>
</td></tr>
<tr><td><code id="simCAA_+3A_caa_ess">CAA_ESS</code></td>
<td>
<p>CAA effective sample size. If greater than 1, then this is the multinomial distribution sample size.
If less than 1, this is the coefficient of variation for the logistic normal distribution (see details).</p>
</td></tr>
<tr><td><code id="simCAA_+3A_caa_nsamp">CAA_nsamp</code></td>
<td>
<p>CAA sample size</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The logistic normal generates the catch-at-age sample by first sampling once from a multivariate normal distribution
with the mean vector equal to the logarithm of the proportions-at-age and the diagonal of the covariance matrix is the square of the
product of the CV and the log proportions (all off-diagonals are zero). The sampled vector is then converted to proportions
with the softmax function and expanded to numbers (CAA_nsamp). This method allows for simulating fractional values in the
catch-at-age matrix.
</p>


<h3>Value</h3>

<p>CAA array
</p>

<hr>
<h2 id='simCAL'>Simulate Catch-at-Length Data</h2><span id='topic+simCAL'></span>

<h3>Description</h3>

<p>Simulate CAL and calculate length-at-first capture (LFC),
mean length (ML), modal length (Lc), and mean length over modal length (Lbar)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simCAL(
  nsim,
  nyears,
  maxage,
  CAL_ESS,
  CAL_nsamp,
  nCALbins,
  CAL_binsmid,
  CAL_bins,
  vn,
  retL,
  Linfarray,
  Karray,
  t0array,
  LenCV
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simCAL_+3A_nsim">nsim</code></td>
<td>
<p>Number of simulations</p>
</td></tr>
<tr><td><code id="simCAL_+3A_nyears">nyears</code></td>
<td>
<p>Number of years</p>
</td></tr>
<tr><td><code id="simCAL_+3A_maxage">maxage</code></td>
<td>
<p>Maximum age</p>
</td></tr>
<tr><td><code id="simCAL_+3A_cal_ess">CAL_ESS</code></td>
<td>
<p>CAA effective sample size</p>
</td></tr>
<tr><td><code id="simCAL_+3A_cal_nsamp">CAL_nsamp</code></td>
<td>
<p>CAA sample size</p>
</td></tr>
<tr><td><code id="simCAL_+3A_ncalbins">nCALbins</code></td>
<td>
<p>number of CAL bins</p>
</td></tr>
<tr><td><code id="simCAL_+3A_cal_binsmid">CAL_binsmid</code></td>
<td>
<p>mid-points of CAL bins</p>
</td></tr>
<tr><td><code id="simCAL_+3A_cal_bins">CAL_bins</code></td>
<td>
<p>Boundary of CAL bins</p>
</td></tr>
<tr><td><code id="simCAL_+3A_vn">vn</code></td>
<td>
<p>Vulnerable numbers-at-age</p>
</td></tr>
<tr><td><code id="simCAL_+3A_retl">retL</code></td>
<td>
<p>Retention at length curve</p>
</td></tr>
<tr><td><code id="simCAL_+3A_linfarray">Linfarray</code></td>
<td>
<p>Array of Linf values by simulation and year</p>
</td></tr>
<tr><td><code id="simCAL_+3A_karray">Karray</code></td>
<td>
<p>Array of K values by simulation and year</p>
</td></tr>
<tr><td><code id="simCAL_+3A_t0array">t0array</code></td>
<td>
<p>Array of t0 values by simulation and year</p>
</td></tr>
<tr><td><code id="simCAL_+3A_lencv">LenCV</code></td>
<td>
<p>CV of length-at-age#'</p>
</td></tr>
</table>


<h3>Value</h3>

<p>named list with CAL array and LFC, ML, &amp; Lc vectors
</p>

<hr>
<h2 id='simmov'>Calculates movement matrices from user inputs</h2><span id='topic+simmov'></span><span id='topic+plot_mov'></span>

<h3>Description</h3>

<p>A wrapper function for <a href="#topic+makemov">makemov</a> used to generate movement matrices for the operating model.
Calculates a movement matrix from user-specified unfished stock biomass fraction in each area and probability of
staying in the area in each time step.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simmov(
  OM,
  dist = c(0.1, 0.2, 0.3, 0.4),
  prob = 0.5,
  distE = 0.1,
  probE = 0.1,
  prob2 = NA,
  figure = TRUE
)

plot_mov(mov, age = 1, type = c("matrix", "all"), year = 1, qval = 0.9)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simmov_+3A_om">OM</code></td>
<td>
<p>Operating model, an object of class <a href="#topic+OM-class">OM</a>.</p>
</td></tr>
<tr><td><code id="simmov_+3A_dist">dist</code></td>
<td>
<p>A vector of fractions of unfished stock in each area. The length of this vector will determine the
number of areas (<code>nareas</code>) in the OM.</p>
</td></tr>
<tr><td><code id="simmov_+3A_prob">prob</code></td>
<td>
<p>Mean probability of staying across all areas (single value) or a vector of the probability of
individuals staying in each area (same length as dist).</p>
</td></tr>
<tr><td><code id="simmov_+3A_diste">distE</code></td>
<td>
<p>Logit (normal) St.Dev error for sampling stock fractions from the fracs vector</p>
</td></tr>
<tr><td><code id="simmov_+3A_probe">probE</code></td>
<td>
<p>Logit (normal) St.Dev error for sampling desired probability of staying either by area
(prob is same length as dist) or the mean probability of staying (prob is a single number).</p>
</td></tr>
<tr><td><code id="simmov_+3A_prob2">prob2</code></td>
<td>
<p>Optional vector as long as prob and dist. Upper bounds on uniform sampling of
probability of staying, lower bound is prob.</p>
</td></tr>
<tr><td><code id="simmov_+3A_figure">figure</code></td>
<td>
<p>Logical to indicate if the movement matrix will be plotted (mean values and range
across <code>OM@nsim</code> simulations.)</p>
</td></tr>
<tr><td><code id="simmov_+3A_mov">mov</code></td>
<td>
<p>A four-dimensional array of dimension <code>c(nsim, maxage, nareas, nareas)</code> or a five-dimensional
array of dimension <code>c(nsim, maxage, nareas, nareas, nyears + proyears)</code> specifying movement
in the operating model.</p>
</td></tr>
<tr><td><code id="simmov_+3A_age">age</code></td>
<td>
<p>An age from 0 to maxage for the movement-at-age matrix figure when <code>type = "matrix"</code>.</p>
</td></tr>
<tr><td><code id="simmov_+3A_type">type</code></td>
<td>
<p>Whether to plot a movement matrix for a single age (<code>"matrix"</code>) or the
full movement versus age figure (<code>"all"</code>)</p>
</td></tr>
<tr><td><code id="simmov_+3A_year">year</code></td>
<td>
<p>If <code>mov</code> is a 5-dimensional array, the year (from 1 to nyears + proyears) for which
to plot movement.</p>
</td></tr>
<tr><td><code id="simmov_+3A_qval">qval</code></td>
<td>
<p>The quantile to plot or report the range of values among simulations.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The operating model <code>OM</code> with movement parameters in slot <code>cpars</code>.
The <code>mov</code> array is of dimension <code>nsim</code>, <code>maxage</code>, <code>nareas</code>, <code>nareas</code>.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>simmov()</code>: Estimation function for creating movement matrix.
</p>
</li>
<li> <p><code>plot_mov()</code>: Plotting function.
</p>
</li></ul>


<h3>Note</h3>

<p>Array <code>mov</code> is age-specific, but currently the movement generated by <code>simmov</code> is
independent of age.
</p>


<h3>Author(s)</h3>

<p>T. Carruthers and Q. Huynh
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
movOM_5areas &lt;- simmov(testOM, dist = c(0.01,0.1,0.2,0.3,0.39), prob = c(0.1,0.6,0.6,0.7,0.9))
movOM_5areas@cpars$mov[1, 1, , ] # sim 1, age 1, movement from areas in column i to areas in row j
plot_mov(movOM_5areas@cpars$mov)
plot_mov(movOM_5areas@cpars$mov, type = "all")


## End(Not run)
</code></pre>

<hr>
<h2 id='simmov2'>Calculates movement matrices from user specified distribution among other areas</h2><span id='topic+simmov2'></span>

<h3>Description</h3>

<p>A wrapper function for <a href="#topic+makemov2">makemov2</a> used to generate movement matrices for the operating model.
Calculates a movement matrix from user-specified relative movement to other areas and probability of
staying in the area in each time step.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simmov2(
  OM,
  dist = c(0.05, 0.6, 0.35),
  distE = 0.01,
  frac_other = matrix(c(NA, 2, 1, 3, NA, 1, 1, 4, NA), nrow = 3, byrow = T),
  frac_otherE = 0.01,
  prob = 0.8,
  probE = 1,
  figure = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simmov2_+3A_om">OM</code></td>
<td>
<p>Operating model, an object of class <a href="#topic+OM-class">OM</a>.</p>
</td></tr>
<tr><td><code id="simmov2_+3A_dist">dist</code></td>
<td>
<p>A vector of fractions of unfished stock in each area. The length of this vector will determine the
number of areas (<code>nareas</code>) in the OM.</p>
</td></tr>
<tr><td><code id="simmov2_+3A_diste">distE</code></td>
<td>
<p>Logit (normal) St.Dev error for sampling desired fraction in each area</p>
</td></tr>
<tr><td><code id="simmov2_+3A_frac_other">frac_other</code></td>
<td>
<p>A matrix (nareas rows from, nareas columns to) of relative fractions moving to other areas (the positive diagonal (staying) is unspecified).</p>
</td></tr>
<tr><td><code id="simmov2_+3A_frac_othere">frac_otherE</code></td>
<td>
<p>Logit (normal) St.Dev error for sampling desired fraction moving to other areas.</p>
</td></tr>
<tr><td><code id="simmov2_+3A_prob">prob</code></td>
<td>
<p>the mean probability of staying in the same area among all areas</p>
</td></tr>
<tr><td><code id="simmov2_+3A_probe">probE</code></td>
<td>
<p>Logit (normal) St.Dev error for sampling desired probability of staying in each area</p>
</td></tr>
<tr><td><code id="simmov2_+3A_figure">figure</code></td>
<td>
<p>Logical to indicate if the movement matrix will be plotted (mean values and range
across <code>OM@nsim</code> simulations.)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The operating model <code>OM</code> with movement parameters in slot <code>cpars</code>.
The <code>mov</code> array is of dimension <code>nsim</code>, <code>maxage</code>, <code>nareas</code>, <code>nareas</code>.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>simmov2()</code>: Estimation function for creating movement matrix.
</p>
</li></ul>


<h3>Note</h3>

<p>Array <code>mov</code> is age-specific, but currently the movement generated by <code>simmov</code> is
independent of age.
</p>


<h3>Author(s)</h3>

<p>T. Carruthers and Q. Huynh
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
movOM_3areas &lt;- simmov2(testOM, frac_other = matrix(c(NA,2,1, 2,NA,1, 1,2,NA),
nrow=3, byrow=T), frac_otherE = 0.01, prob = 0.8, probE = 0.3)
# sim 1, age 1, movement from areas in column i to areas in row j
movOM_3areas@cpars$mov[1, 1, , ] 
plot_mov(movOM_3areas@cpars$mov)
plot_mov(movOM_3areas@cpars$mov, type = "all")


## End(Not run)
</code></pre>

<hr>
<h2 id='Simulate'>Run a Management Strategy Evaluation</h2><span id='topic+Simulate'></span><span id='topic+Project'></span><span id='topic+runMSE'></span>

<h3>Description</h3>

<p>Functions to run the Management Strategy Evaluation (closed-loop
simulation) for a specified operating model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Simulate(OM = MSEtool::testOM, parallel = FALSE, silent = FALSE)

Project(
  Hist = NULL,
  MPs = NA,
  parallel = FALSE,
  silent = FALSE,
  extended = FALSE,
  checkMPs = TRUE
)

runMSE(
  OM = MSEtool::testOM,
  MPs = NA,
  Hist = FALSE,
  silent = FALSE,
  parallel = FALSE,
  extended = FALSE,
  checkMPs = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Simulate_+3A_om">OM</code></td>
<td>
<p>An operating model object (class <code>OM</code> or class <code>Hist</code>)</p>
</td></tr>
<tr><td><code id="Simulate_+3A_parallel">parallel</code></td>
<td>
<p>Logical or a named list. Should MPs be run using parallel processing?
For <code>runMSE</code>, can also be <code>"sac"</code> to run the entire MSE in parallel
using the split-apply-combine technique. See Details for more information.</p>
</td></tr>
<tr><td><code id="Simulate_+3A_silent">silent</code></td>
<td>
<p>Should messages be printed out to the console?</p>
</td></tr>
<tr><td><code id="Simulate_+3A_hist">Hist</code></td>
<td>
<p>Should model stop after historical simulations? Returns an object of
class 'Hist' containing all historical data</p>
</td></tr>
<tr><td><code id="Simulate_+3A_mps">MPs</code></td>
<td>
<p>A vector of methods (character string) of class MP</p>
</td></tr>
<tr><td><code id="Simulate_+3A_extended">extended</code></td>
<td>
<p>Logical. Return extended projection results?
if TRUE, <code>MSE@Misc$extended</code> is a named list with extended data
(including historical and projection by area), and extended version of <code>MSE@Hist</code>
is returned.</p>
</td></tr>
<tr><td><code id="Simulate_+3A_checkmps">checkMPs</code></td>
<td>
<p>Logical. Check if the specified MPs exist and can be run on <code>SimulatedData</code>?</p>
</td></tr>
</table>


<h3>Details</h3>



<h4>Running MPs in parallel</h4>

<p>For most MPs, running in parallel can actually lead to an increase in computation time, due to the overhead in sending the
information over to the cores. Consequently, by default the MPs will not be run in parallel if <code>parallel=TRUE</code>
(although other internal code will be run in parallel mode).
</p>
<p>To run MPs in parallel, specify a named list with the name of the MP(s) assigned as TRUE. For example,<code style="white-space: pre;">&#8288;parallel=list(AvC=TRUE&#8288;</code>)
will run the <code>AvC</code> MP in parallel mode.
</p>



<h4>Split-apply-combine MSE in parallel</h4>

<p>Additional savings in computation time can be achieved by running the entire simulation in batches. Individual simulations of the operating model
are divided into separate cores using <a href="#topic+SubCpars">SubCpars</a>, <code>Simulate</code> and <code>Project</code> are applied independently for each core via <code>snowfall::sfClusterApplyLB</code>, and the
output (a list of MSE objects) is stitched back together into a single MSE object using <a href="#topic+joinMSE">joinMSE</a>.
</p>
<p>The ideal number of cores will be determined based on the number of simulations and available cores.
</p>
<p>There are several issues to look out for when using this split-apply-combine technique:
</p>

<ul>
<li><p> Numerical optimization for depletion may fail in individual cores when <code>OM@cpars$qs</code> is not specified.
</p>
</li>
<li><p> Length bins should be specified in the operating model in <code>OM@cpars$CAL_bins</code>. Otherwise, length bins can vary by core and
create problems when combining into a single object.
</p>
</li>
<li><p> Compared to non-parallel runs, sampled parameters in the operating model will vary despite the same value in <code>OM@seed</code>.
</p>
</li>
<li><p> If there is an error in individual cores or while combining the parallel output into a single Hist or MSE object, the list of output (from the cores) will be returned.
</p>
</li></ul>




<h3>Value</h3>

<p>Functions return objects of class <a href="#topic+Hist-class">Hist</a> or <a href="#topic+MSE-class">MSE</a>
</p>

<ul>
<li><p> Simulate - An object of class <a href="#topic+Hist-class">Hist</a>
</p>
</li>
<li><p> Project - An object of class <a href="#topic+MSE-class">MSE</a>
</p>
</li>
<li><p> runMSE - An object of class <a href="#topic+MSE-class">MSE</a> if <code>Hist = TRUE</code> otherwise a class <a href="#topic+Hist-class">Hist</a> object
</p>
</li></ul>



<h3>Functions</h3>


<ul>
<li> <p><code>Simulate()</code>: Run the Historical Simulations from an object of class <code>OM</code>
</p>
</li>
<li> <p><code>Project()</code>: Run the Forward Projections
</p>
</li>
<li> <p><code>runMSE()</code>: Run the Historical Simulations and Forward Projections
from an object of class 'OM
</p>
</li></ul>

<hr>
<h2 id='SimulatedData'>SimulatedData Data</h2><span id='topic+SimulatedData'></span>

<h3>Description</h3>

<p>An object of class Data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SimulatedData
</code></pre>


<h3>Format</h3>

<p>An object of class <code>Data</code> of length 1.
</p>

<hr>
<h2 id='SimulateMOM'>Run a multi-fleet multi-stock Management Strategy Evaluation</h2><span id='topic+SimulateMOM'></span><span id='topic+ProjectMOM'></span><span id='topic+multiMSE'></span>

<h3>Description</h3>

<p>Functions for running a multi-stock and/or multi-fleet Management
Strategy Evaluation (closed-loop simulation) for a specified operating model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SimulateMOM(MOM = MSEtool::Albacore_TwoFleet, parallel = TRUE, silent = FALSE)

ProjectMOM(
  multiHist = NULL,
  MPs = NA,
  parallel = FALSE,
  silent = FALSE,
  checkMPs = TRUE,
  dropHist = FALSE,
  extended = FALSE
)

multiMSE(
  MOM = MSEtool::Albacore_TwoFleet,
  MPs = list(list(c("AvC", "DCAC"), c("FMSYref", "curE"))),
  Hist = FALSE,
  silent = FALSE,
  parallel = TRUE,
  checkMPs = TRUE,
  dropHist = TRUE,
  extended = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SimulateMOM_+3A_mom">MOM</code></td>
<td>
<p>A multi-fleet multi-stock operating model (class 'MOM')</p>
</td></tr>
<tr><td><code id="SimulateMOM_+3A_parallel">parallel</code></td>
<td>
<p>Logical or a named list. Should MPs be run using parallel processing?  See Details for more information.</p>
</td></tr>
<tr><td><code id="SimulateMOM_+3A_silent">silent</code></td>
<td>
<p>Should messages be printed out to the console?</p>
</td></tr>
<tr><td><code id="SimulateMOM_+3A_multihist">multiHist</code></td>
<td>
<p>An Historical Simulation object (class <code>multiHist</code>)</p>
</td></tr>
<tr><td><code id="SimulateMOM_+3A_mps">MPs</code></td>
<td>
<p>A matrix of methods (nstock x nfleet) (character string) of class MP</p>
</td></tr>
<tr><td><code id="SimulateMOM_+3A_checkmps">checkMPs</code></td>
<td>
<p>Logical. Check if the specified MPs exist and can be run on <code>SimulatedData</code>?</p>
</td></tr>
<tr><td><code id="SimulateMOM_+3A_drophist">dropHist</code></td>
<td>
<p>Logical. Drop the (very large) <code>multiHist</code> object from the returned <code>MMSE</code> object?
The <code>multiHist</code> object can be (re-)created using <code>SimulateMOM</code> or kept in <code>MMSE@multiHist</code> if
<code>dropHist=FALSE</code></p>
</td></tr>
<tr><td><code id="SimulateMOM_+3A_extended">extended</code></td>
<td>
<p>Logical. Return extended projection results?
if TRUE, <code>MMSE@Misc$extended</code> is a named list with extended data
(including historical and projected abundance by area).</p>
</td></tr>
<tr><td><code id="SimulateMOM_+3A_hist">Hist</code></td>
<td>
<p>Should model stop after historical simulations? Returns a list
containing all historical data</p>
</td></tr>
</table>


<h3>Details</h3>



<h4>Running MPs in parallel</h4>

<p>For most MPs, running in parallel can actually lead to an increase in computation time, due to the overhead in sending the
information over to the cores. Consequently, by default the MPs will not be run in parallel if <code>parallel=TRUE</code>
(although other internal code will be run in parallel mode).
</p>
<p>To run MPs in parallel, specify a named list with the name of the MP(s) assigned as TRUE. For example,<code style="white-space: pre;">&#8288;parallel=list(AvC=TRUE&#8288;</code>)
will run the <code>AvC</code> MP in parallel mode.
</p>



<h3>Value</h3>

<p>Functions return objects of class <code>MMSE</code> and <code>multiHist</code>
#' </p>

<ul>
<li><p> SimulateMOM - An object of class <code>multiHist</code>
</p>
</li>
<li><p> ProjectMOM - An object of class <code>MMSE</code>
</p>
</li>
<li><p> multiMSE - An object of class <code>MMSE</code>
</p>
</li></ul>



<h3>Functions</h3>


<ul>
<li> <p><code>SimulateMOM()</code>: Simulate historical dynamics for multi-OM
</p>
</li>
<li> <p><code>ProjectMOM()</code>: Run Forward Projections for a <code>MOM</code> object
</p>
</li>
<li> <p><code>multiMSE()</code>: Run a multi-stock, multi-fleet MSE
</p>
</li></ul>


<h3>Author(s)</h3>

<p>T. Carruthers and A. Hordyk
</p>

<hr>
<h2 id='SketchFun'>Manually map the historical relative fishing effort trajectory.</h2><span id='topic+SketchFun'></span>

<h3>Description</h3>

<p>Internal function for interactive plot which allows users to specify the relative trajectory and
variability in the historical fishing effort.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SketchFun(nyears, Years=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SketchFun_+3A_nyears">nyears</code></td>
<td>
<p>Number of years</p>
</td></tr>
<tr><td><code id="SketchFun_+3A_years">Years</code></td>
<td>
<p>An optional vector of years. Should be nyears long.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>A. Hordyk
</p>

<hr>
<h2 id='SS2Data'>Reads data Stock Synthesis file structure into a Data object using package r4ss</h2><span id='topic+SS2Data'></span>

<h3>Description</h3>

<p>A function that uses the file location of a fitted SS3 model including input files to population
the various slots of an Data object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SS2Data(
  SSdir,
  Name = "Imported by SS2Data",
  Common_Name = "",
  Species = "",
  Region = "",
  min_age_M = 1,
  gender = 1,
  comp_fleet = "all",
  comp_season = "sum",
  comp_partition = "all",
  comp_gender = "all",
  index_season = "mean",
  silent = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SS2Data_+3A_ssdir">SSdir</code></td>
<td>
<p>A folder with Stock Synthesis input and output files in it</p>
</td></tr>
<tr><td><code id="SS2Data_+3A_name">Name</code></td>
<td>
<p>The name for the Data object</p>
</td></tr>
<tr><td><code id="SS2Data_+3A_common_name">Common_Name</code></td>
<td>
<p>Character string for the common name of the stock.</p>
</td></tr>
<tr><td><code id="SS2Data_+3A_species">Species</code></td>
<td>
<p>Scientific name of the species</p>
</td></tr>
<tr><td><code id="SS2Data_+3A_region">Region</code></td>
<td>
<p>Geographic region of the stock or fishery.</p>
</td></tr>
<tr><td><code id="SS2Data_+3A_min_age_m">min_age_M</code></td>
<td>
<p>Currently, the Data object supports a single value of M for all ages. The argument selects the
minimum age for calculating the mean of age-dependent M from the SS assessment.</p>
</td></tr>
<tr><td><code id="SS2Data_+3A_gender">gender</code></td>
<td>
<p>An integer index for the sex for importing biological parameters (1 = female, 2 = male).</p>
</td></tr>
<tr><td><code id="SS2Data_+3A_comp_fleet">comp_fleet</code></td>
<td>
<p>A vector of indices corresponding to fleets in the assessment over which to aggregate the composition
(catch-at-length and catch-at-age) data. By default, character string <code>"all"</code> will aggregate across all fleets.</p>
</td></tr>
<tr><td><code id="SS2Data_+3A_comp_season">comp_season</code></td>
<td>
<p>Integer, for seasonal models, the season for which the value of the index will be used. By default, <code>"mean"</code>
will take the average across seasons.</p>
</td></tr>
<tr><td><code id="SS2Data_+3A_comp_partition">comp_partition</code></td>
<td>
<p>Integer vector for selecting length/age observations that are retained (2), discarded (1), or both (0). By default, <code>"all"</code>
sums over all available partitions.</p>
</td></tr>
<tr><td><code id="SS2Data_+3A_comp_gender">comp_gender</code></td>
<td>
<p>Integer vector for selecting length/age observations that are female (1), male (2), or both (0), or both scaled to sum to one (3).
By default, <code>"all"</code> sums over all gender codes.</p>
</td></tr>
<tr><td><code id="SS2Data_+3A_index_season">index_season</code></td>
<td>
<p>Integer, for seasonal models, the season for which the value of the index will be used. By default, <code>"mean"</code>
will take the average across seasons.</p>
</td></tr>
<tr><td><code id="SS2Data_+3A_silent">silent</code></td>
<td>
<p>Logical. Suppress all messages?</p>
</td></tr>
<tr><td><code id="SS2Data_+3A_...">...</code></td>
<td>
<p>Arguments to pass to <a href="r4ss.html#topic+SS_output">SS_output</a></p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class Data.
</p>


<h3>Note</h3>

<p>Currently supports the version of r4ss on CRAN (v.1.24) and Github (v.1.34-40). Function may be incompatible with other versions of r4ss.
</p>


<h3>Author(s)</h3>

<p>T. Carruthers and Q. Huynh
</p>


<h3>See Also</h3>

<p><a href="#topic+SS2OM">SS2OM</a>
</p>

<hr>
<h2 id='SS2DataMOM'>Reads data Stock Synthesis file structure into a nested Data object analogous with multiMSE</h2><span id='topic+SS2DataMOM'></span>

<h3>Description</h3>

<p>A function that uses the file location of a fitted SS3 model including input files to population
the various slots of an Data object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SS2DataMOM(SSdir, age_M = NULL, comp_partition = 2, silent = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SS2DataMOM_+3A_ssdir">SSdir</code></td>
<td>
<p>A folder with Stock Synthesis input and output files in it. Alternatively,</p>
</td></tr>
<tr><td><code id="SS2DataMOM_+3A_age_m">age_M</code></td>
<td>
<p>A vector of ages to average across to calculate a single value of natural mortality.
Currently, the Data object supports a single value of M for all ages. By default, <code>NULL</code> averages over all ages.</p>
</td></tr>
<tr><td><code id="SS2DataMOM_+3A_comp_partition">comp_partition</code></td>
<td>
<p>Integer vector for selecting length/age observations that are retained (2), discarded (1), or both (0). By default, only retained
comps are used. If multiple codes are used, then comp matrix is the sum over all codes.</p>
</td></tr>
<tr><td><code id="SS2DataMOM_+3A_silent">silent</code></td>
<td>
<p>Logical. Suppress messages?</p>
</td></tr>
<tr><td><code id="SS2DataMOM_+3A_...">...</code></td>
<td>
<p>Arguments to pass to <a href="r4ss.html#topic+SS_output">SS_output</a></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A nested list of Data objects, with the first index by stock/sex and the second index by fleet.
</p>


<h3>Note</h3>

<p>Currently tested on r4ss version 1.38.1-41 and SS 3.30.14.
</p>
<p>Catches in <code>Data@Cat</code> are the predicted sex-specific catch calculated from the SS output.
</p>


<h3>Author(s)</h3>

<p>Q. Huynh
</p>


<h3>See Also</h3>

<p><a href="#topic+SS2MOM">SS2MOM</a>
</p>

<hr>
<h2 id='SS2MOM'>Import Stock Synthesis to MOM (2-sex multi-fleet) or OM (single-sex, single-fleet)</h2><span id='topic+SS2MOM'></span><span id='topic+SS2OM'></span><span id='topic+SSMOM2OM'></span><span id='topic+plot_SS2MOM'></span><span id='topic+plot_SS2OM'></span><span id='topic+MOM_agg_fleets'></span>

<h3>Description</h3>

<p>Functions that uses the file location or the r4ss output list of a fitted SS3 model including input files to populate the
various slots of an <a href="#topic+MOM-class">MOM</a> or <a href="#topic+OM-class">OM</a> object. <code>SS2MOM</code> and <code>SS2OM</code> mainly populates the Stock and Fleet components
components of the operating model. <code>SS2MOM</code> creates a 2-sex model and multiple fleets with discarding behavior.
<code>SS2OM</code> returns a single sex (either male, female, or averaged biological parameters) and single fleet (aggregate selectivity and mortality,
no explicit discarding modeled). For either, the user still needs to parameterize most of the observation and
implementation portions. <code>SSMOM2OM</code> is the internal function that simplifies the MOM object to an OM object.
<code>plot_SS2OM</code> generates a markdown report to compare the OM and SS output.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SS2MOM(
  SSdir,
  nsim = 48,
  proyears = 50,
  reps = 1,
  maxF = 3,
  seed = 1,
  interval = 1,
  pstar = 0.5,
  Obs = MSEtool::Generic_Obs,
  Imp = MSEtool::Perfect_Imp,
  silent = FALSE,
  Name = "MOM generated by SS2MOM",
  Source = "No Source provided",
  ...
)

plot_SS2MOM(
  x,
  SSdir,
  gender = 1:2,
  filename = "SS2MOM",
  dir = tempdir(),
  open_file = TRUE,
  silent = FALSE,
  ...
)

SS2OM(
  SSdir,
  nsim = 48,
  proyears = 50,
  reps = 1,
  maxF = 3,
  seed = 1,
  interval = 1,
  pstar = 0.5,
  Obs = MSEtool::Generic_Obs,
  Imp = MSEtool::Perfect_Imp,
  import_mov = TRUE,
  gender = 1:2,
  seasons_to_years = TRUE,
  model_discards = TRUE,
  silent = FALSE,
  Name = "OM generated by SS2OM function",
  Source = "No source provided",
  Author = "No author provided",
  report = FALSE,
  filename = "SS2OM",
  dir = tempdir(),
  open_file = TRUE,
  ...
)

SSMOM2OM(
  MOM,
  SSdir,
  gender = 1:2,
  import_mov = TRUE,
  seed = 1,
  silent = FALSE,
  model_discards = TRUE
)

plot_SS2OM(
  x,
  SSdir,
  gender = 1:2,
  filename = "SS2OM",
  dir = tempdir(),
  open_file = TRUE,
  silent = FALSE,
  ...
)

MOM_agg_fleets(MOM)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SS2MOM_+3A_ssdir">SSdir</code></td>
<td>
<p>A folder with Stock Synthesis input and output files in it.</p>
</td></tr>
<tr><td><code id="SS2MOM_+3A_nsim">nsim</code></td>
<td>
<p>The number of simulations to take for parameters with uncertainty (for OM@cpars custom parameters).</p>
</td></tr>
<tr><td><code id="SS2MOM_+3A_proyears">proyears</code></td>
<td>
<p>The number of projection years for MSE</p>
</td></tr>
<tr><td><code id="SS2MOM_+3A_reps">reps</code></td>
<td>
<p>The number of stochastic replicates within each simulation in the operating model.</p>
</td></tr>
<tr><td><code id="SS2MOM_+3A_maxf">maxF</code></td>
<td>
<p>The maximum allowable F in the operating model.</p>
</td></tr>
<tr><td><code id="SS2MOM_+3A_seed">seed</code></td>
<td>
<p>The random seed for the operating model.</p>
</td></tr>
<tr><td><code id="SS2MOM_+3A_interval">interval</code></td>
<td>
<p>The interval at which management procedures will update the management advice in <a href="#topic+multiMSE">multiMSE</a>, e.g., 1 = annual updates.</p>
</td></tr>
<tr><td><code id="SS2MOM_+3A_pstar">pstar</code></td>
<td>
<p>The percentile of the sample of the management recommendation for the MP/MMP.</p>
</td></tr>
<tr><td><code id="SS2MOM_+3A_obs">Obs</code></td>
<td>
<p>The observation model (class Obs). These functions do not update implementation parameters.</p>
</td></tr>
<tr><td><code id="SS2MOM_+3A_imp">Imp</code></td>
<td>
<p>The implementation model (class Imp). These functions do not update implementation parameters.</p>
</td></tr>
<tr><td><code id="SS2MOM_+3A_silent">silent</code></td>
<td>
<p>Whether to silence messages to the console.</p>
</td></tr>
<tr><td><code id="SS2MOM_+3A_name">Name</code></td>
<td>
<p>The name of the operating model</p>
</td></tr>
<tr><td><code id="SS2MOM_+3A_source">Source</code></td>
<td>
<p>Reference to assessment documentation e.g. a url</p>
</td></tr>
<tr><td><code id="SS2MOM_+3A_...">...</code></td>
<td>
<p>Arguments to pass to <a href="r4ss.html#topic+SS_output">SS_output</a>.</p>
</td></tr>
<tr><td><code id="SS2MOM_+3A_x">x</code></td>
<td>
<p>For <code>plot_SS2OM</code>, an object of either class <a href="#topic+OM-class">OM</a> or <a href="#topic+Hist-class">Hist</a>.
For <code>plot_SS2MOM</code>, an object of either class <a href="#topic+MOM-class">MOM</a> or <code>multiHist</code>.</p>
</td></tr>
<tr><td><code id="SS2MOM_+3A_gender">gender</code></td>
<td>
<p>An integer that indexes the sex for importing life history parameters (1 = usually female, 2 = usually male, 1:2 = mean across both sexes).
Only used for <code>SS2OM</code> only in a 2-sex model.</p>
</td></tr>
<tr><td><code id="SS2MOM_+3A_filename">filename</code></td>
<td>
<p>If <code>report = TRUE</code>, character string for the name of the markdown and HTML files.</p>
</td></tr>
<tr><td><code id="SS2MOM_+3A_dir">dir</code></td>
<td>
<p>If <code>report = TRUE</code>, the directory in which the markdown and HTML files will be saved.</p>
</td></tr>
<tr><td><code id="SS2MOM_+3A_open_file">open_file</code></td>
<td>
<p>If <code>report = TRUE</code>, whether the HTML document is opened after it is rendered.</p>
</td></tr>
<tr><td><code id="SS2MOM_+3A_import_mov">import_mov</code></td>
<td>
<p>Logical. Import movement matrix?</p>
</td></tr>
<tr><td><code id="SS2MOM_+3A_seasons_to_years">seasons_to_years</code></td>
<td>
<p>Logical, when season is the time step, whether to convert OM from a seasonal model to annual model.</p>
</td></tr>
<tr><td><code id="SS2MOM_+3A_model_discards">model_discards</code></td>
<td>
<p>Logical, how to simplify a multi-fleet SS model to an OM object. If TRUE, OM will still model discards using
the mean retention across fleets (weighted by fleet F). Otherwise, no discards are modeled and all fishing removals are calculated in the OM
from the SS F-at-age matrix.</p>
</td></tr>
<tr><td><code id="SS2MOM_+3A_author">Author</code></td>
<td>
<p>Who did the assessment</p>
</td></tr>
<tr><td><code id="SS2MOM_+3A_report">report</code></td>
<td>
<p>Logical, if TRUE, the function will run <a href="#topic+runMSE">runMSE</a> to generate the Hist object from the operating model
to compare against SS output. A markdown report will be generated.</p>
</td></tr>
<tr><td><code id="SS2MOM_+3A_mom">MOM</code></td>
<td>
<p>MOM object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>SS2MOM returns an object of class <a href="#topic+MOM-class">MOM</a>. SS2OM returns an object of class <a href="#topic+OM-class">OM</a>.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>MOM_agg_fleets()</code>: Aggregate all fleets in an MOM object.
</p>
</li></ul>


<h3>Note</h3>

<p>Currently tested on r4ss version 1.38.1-40.0 and SS 3.30.14.
</p>


<h3>Author(s)</h3>

<p>Q. Huynh
</p>


<h3>See Also</h3>

<p><a href="#topic+SS2Data">SS2Data</a> <a href="#topic+SS2DataMOM">SS2DataMOM</a>
</p>

<hr>
<h2 id='SSBrefplot'>Plot Spawning stock biomass and reference points for both historical and projected period</h2><span id='topic+SSBrefplot'></span>

<h3>Description</h3>

<p>Plot Spawning stock biomass and reference points for both historical and projected period
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SSBrefplot(MSE, simno = 1, ystart = 1, log = F, leg = T)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SSBrefplot_+3A_mse">MSE</code></td>
<td>
<p>An object of class 'MSE' produced by from runMSE()</p>
</td></tr>
<tr><td><code id="SSBrefplot_+3A_simno">simno</code></td>
<td>
<p>Positive integer, the simulation number you wish to plot</p>
</td></tr>
<tr><td><code id="SSBrefplot_+3A_ystart">ystart</code></td>
<td>
<p>Positive integer, the calendar year corresponding with the first historical year</p>
</td></tr>
<tr><td><code id="SSBrefplot_+3A_log">log</code></td>
<td>
<p>Boolean, whether log SSB and reference points should be plotted</p>
</td></tr>
<tr><td><code id="SSBrefplot_+3A_leg">leg</code></td>
<td>
<p>Boolean, should a legend be included in the plot?</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>

<hr>
<h2 id='Stock-class'>Class <code>'Stock'</code></h2><span id='topic+Stock-class'></span>

<h3>Description</h3>

<p>An operating model component that specifies the parameters of the population
dynamics model
</p>


<h3>Slots</h3>


<dl>
<dt><code>Name</code></dt><dd><p>An identifying name for the Stock object. Single value. Character
string.</p>
</dd>
<dt><code>Common_Name</code></dt><dd><p>Common name of the species. Character string.</p>
</dd>
<dt><code>Species</code></dt><dd><p>Scientific name of the species. Genus and species name.
Character string.</p>
</dd>
<dt><code>maxage</code></dt><dd><p>The maximum age of individuals that is simulated. There are
<code>maxage+1</code> (recruitment to age-0) age classes in the storage matrices.
<code>maxage</code> is the 'plus group' where all age-classes &gt; <code>maxage</code> are grouped,
unless option switched off with <code>OM@cpars$plusgroup=0</code>. Single value.
Positive integer.</p>
</dd>
<dt><code>R0</code></dt><dd><p>Initial number of unfished recruits to age-0. This number is used
to scale the size of the population to match catch or data, but does not affect
any of the population dynamics unless the OM has been conditioned with data. As
a result, for a data-limited fishery any number can be used for <code>R0</code>. In
data-rich stocks <code>R0</code> may be estimated as part of a stock assessment, but for
data limited stocks users can choose either an arbitrary number (say, 1000) or
choose a number that produces simulated catches in recent historical years that
are similar to real world catch data. Single value. Positive real number.</p>
</dd>
<dt><code>M</code></dt><dd><p>The instantaneous rate of natural mortality. For each simulation a
single value is drawn from a uniform distribution specified by the upper and
lower bounds provided. Uniform distribution lower and upper bounds.
Non-negative real numbers.</p>
</dd>
<dt><code>Msd</code></dt><dd><p>Inter-annual variation in <code>M</code> expressed as a coefficient of
variation of a log-normal distribution. For each simulation a single value is
drawn from a uniform distribution specified by the upper and lower bounds
provided. If this parameter is positive, yearly <code>M</code> is drawn from a log-normal
distribution with a mean specified by <code>log(M)</code> drawn for that simulation and a
standard deviation in log space specified by the value of <code>Msd</code> drawn for that
simulation.  Uniform distribution lower and upper bounds. Non-negative real
numbers</p>
</dd>
<dt><code>h</code></dt><dd><p>Steepness of the stock recruit relationship. Steepness governs the
proportion of unfished recruits produced when the stock is at 20% of the
unfished population size. For each simulation a single value is drawn from a
uniform distribution specified by the upper and lower bounds provided. This
value is the same in all years of a given simulation. Uniform distribution
lower and upper bounds. Values from 1/5 to 1.</p>
</dd>
<dt><code>SRrel</code></dt><dd><p>Type of stock-recruit relationship. Use 1 to select a Beverton
Holt relationship, 2 to select a Ricker relationship. Single value. Integer</p>
</dd>
<dt><code>Perr</code></dt><dd><p>Recruitment process error, which is defined as the standard
deviation of the recruitment deviations in log space. For each simulation a
single value is drawn from a uniform distribution specified by the upper and
lower bounds provided. Uniform distribution lower and upper bounds.
Non-negative real numbers.</p>
</dd>
<dt><code>AC</code></dt><dd><p>Autocorrelation in the recruitment deviations in log space. For
each simulation a single value is drawn from a uniform distribution specified
by the upper and lower bounds provided, and used to add lag-1 auto-correlation
to the log recruitment deviations. Uniform distribution lower and upper bounds.
Non-negative real numbers.</p>
</dd>
<dt><code>Linf</code></dt><dd><p>The von Bertalanffy growth parameter Linf, which specifies the
average maximum size that would reached by adult fish if they lived
indefinitely. For each simulation a single value is drawn from a uniform
distribution specified by the upper and lower bounds provided. This value is
the same in all years unless <code>Linfsd</code> is a positive number. Uniform
distribution lower and upper bounds. Positive real numbers.</p>
</dd>
<dt><code>Linfsd</code></dt><dd><p>Inter-annual variation in Linf. For each simulation a single
value is drawn from a uniform distribution specified by the upper and lower
bounds provided. If this parameter has a positive value, yearly Linf is drawn
from a log-normal distribution with a mean specified by the value of <code>Linf</code>
drawn for that simulation and a standard deviation (in log space) specified by
the value of <code>Linfsd</code> drawn for that simulation. Uniform distribution lower and
upper bounds. Non-negative real numbers.</p>
</dd>
<dt><code>K</code></dt><dd><p>The von Bertalanffy growth parameter k, which specifies the average
rate of growth. For each simulation a single value is drawn from a uniform
distribution specified by the upper and lower bounds provided. This value is
the same in all years unless <code>Ksd</code> is a positive number. Uniform distribution
lower and upper bounds. Positive real numbers.</p>
</dd>
<dt><code>Ksd</code></dt><dd><p>Inter-annual variation in K. For each simulation a single value is
drawn from a uniform distribution specified by the upper and lower bounds
provided. If this parameter has a positive value, yearly K is drawn from a
log-normal distribution with a mean specified by the value of <code>K</code> drawn for
that simulation and a standard deviation (in log space) specified by the value
of <code>Ksd</code> drawn for that simulation. Uniform distribution lower and upper
bounds. Non-negative real numbers.</p>
</dd>
<dt><code>t0</code></dt><dd><p>The von Bertalanffy growth parameter t0, which specifies the
theoretical age at a size 0. For each simulation a single value is drawn from a
uniform distribution specified by the upper and lower bounds provided. Uniform
distribution lower and upper bounds. Non-positive real numbers.</p>
</dd>
<dt><code>LenCV</code></dt><dd><p>The coefficient of variation (defined as the standard deviation
divided by mean) of the length-at-age.  For each simulation a single value is
drawn from a uniform distribution specified by the upper and lower bounds
provided to specify the distribution of observed length-at-age, and the CV of
this distribution is constant for all age classes (i.e, standard deviation
increases proportionally with the mean). Uniform distribution lower and upper
bounds. Positive real numbers.</p>
</dd>
<dt><code>L50</code></dt><dd><p>Length at 50% maturity. For each simulation a single value is
drawn from a uniform distribution specified by the upper and lower bounds
provided. The <code>L50</code> and <code>L50_95</code> parameters are converted to ages using the
growth parameters provided and used to construct a logistic curve to determine
the proportion of the population that is mature in each age class. Uniform
distribution lower and upper bounds. Positive real numbers.</p>
</dd>
<dt><code>L50_95</code></dt><dd><p>Difference in lengths between 50% and 95% maturity. For each
simulation a single value is drawn from a uniform distribution specified by the
upper and lower bounds provided. The value drawn is then added to the length at
50% maturity to determine the length at 95% maturity. This parameterization is
used <code>instead</code> of specifying the size at 95 percent maturity to avoid
situations where the value drawn for the size at 95% maturity is smaller than
that at 50% maturity. The <code>L50</code> and <code>L50_95</code> parameters are converted to ages
using the growth parameters provided and used to construct a logistic curve to
determine the proportion of the population that is mature in each age class.
Uniform distribution lower and upper bounds. Positive real numbers.</p>
</dd>
<dt><code>D</code></dt><dd><p>Estimated current level of stock depletion, which is defined as the
current spawning stock biomass divided by the unfished spawning stock biomass.
For each simulation a single value is drawn from a uniform distribution
specified by the upper and lower bounds provided. This parameter is used during
model initialization to select a series of yearly historical recruitment values
and fishing mortality rates that, based on the information provided, could have
resulted in the specified depletion level in the simulated last historical
year. Uniform distribution lower and upper bounds. Positive real numbers
(typically &lt; 1)</p>
</dd>
<dt><code>a</code></dt><dd><p>The alpha parameter in allometric length-weight relationship. Single
value. Weight parameters are used to determine catch-at-age and
population-at-age from the number of individuals in each age class and the
length of each individual, which is drawn from a normal distribution determined
by the <code>Linf</code>, <code>K</code>, <code>t0</code>, and <code>LenCV</code> parameters. As a result, they function as
a way to scale between numbers at age and biomass, and are not stochastic
parameters. Single value. Positive real number.</p>
</dd>
<dt><code>b</code></dt><dd><p>The beta parameter in allometric length-weight relationship. Single
value. Weight parameters are used to determine catch-at-age and
population-at-age from the number of individuals in each age class and the
length of each individual, which is drawn from a normal distribution determine
by the <code>Linf</code>, <code>K</code>, <code>t0</code>, and <code>LenCV</code> parameters. As a result, they function as
a way to scale between numbers at age and biomass, and are not stochastic
parameters. Single value. Positive real number.</p>
</dd>
<dt><code>Size_area_1</code></dt><dd><p>The size of area 1 relative to area 2. The fraction of the
unfished biomass in area 1. Please specify numbers between 0 and 1. For each
simulation a single value is drawn from a uniform distribution specified by the
upper and lower bounds provided. For example, if Size_area_1 is 0.2, then 20%
of the total area is allocated to area 1. Fishing can occur in both areas, or
can be turned off in one area to simulate the effects of a no take marine
reserve. Uniform distribution lower and upper bounds. Positive real numbers.</p>
</dd>
<dt><code>Frac_area_1</code></dt><dd><p>The fraction of the unfished biomass in area 1. Please
specify numbers between 0 and 1. For each simulation a single value is drawn
from a uniform distribution specified by the upper and lower bounds provided.
For example, if Frac_area_1 is 0.5, then 50% of the unfished biomass is
allocated to area 1, regardless of the size of area 1 (i.e, size and fraction
in each area determine the density of fish, which may impact fishing spatial
targeting). In each time step recruits are allocated to each area based on the
proportion specified in Frac_area_1. Uniform distribution lower and upper
bounds. Positive real numbers.</p>
</dd>
<dt><code>Prob_staying</code></dt><dd><p>The probability of individuals in area 1 remaining in
area 1 over the course of one year. Please specify numbers between 0 and 1. For
each simulation a single value is drawn from a uniform distribution specified
by the upper and lower bounds provided. For example, in an area with a
Prob_staying value of 0.95 each fish has a 95% probability of staying in that
area in each time step, and a 5% probability of moving to the other area.
Uniform distribution lower and upper bounds. Positive fraction.</p>
</dd>
<dt><code>Fdisc</code></dt><dd><p>The instantaneous discard mortality rate the stock experiences
when fished using the gear type specified in the corresponding fleet object and
discarded. For each simulation a single value is drawn from a uniform
distribution specified by the upper and lower bounds provided. Uniform
distribution lower and upper bounds. Non-negative real numbers.</p>
</dd>
<dt><code>Source</code></dt><dd><p>A reference to a website or article from which parameters were
taken to define the stock object. Single value. Character string.</p>
</dd>
</dl>


<h3>Objects from the Class</h3>

<p>Objects can be created by calls of the form
<code>new('Stock')</code>
</p>


<h3>Author(s)</h3>

<p>T. Carruthers and A. Hordyk
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
showClass('Stock')

</code></pre>

<hr>
<h2 id='StockDescription'>StockDescription</h2><span id='topic+StockDescription'></span>

<h3>Description</h3>

<p>A data.frame with description of slots for class Stock
</p>


<h3>Usage</h3>

<pre><code class='language-R'>StockDescription
</code></pre>


<h3>Format</h3>

<p>An object of class <code>data.frame</code> with 27 rows and 2 columns.
</p>

<hr>
<h2 id='Sub'>Subset MSE object by management procedure (MP) or simulation.</h2><span id='topic+Sub'></span>

<h3>Description</h3>

<p>Subset the MSE object by particular MPs (either MP number or name), or
particular simulations, or a subset of the projection years (e.g., 1: &lt;
projection years).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Sub(MSEobj, MPs = NULL, sims = NULL, years = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Sub_+3A_mseobj">MSEobj</code></td>
<td>
<p>A MSE object.</p>
</td></tr>
<tr><td><code id="Sub_+3A_mps">MPs</code></td>
<td>
<p>A vector MPs names or MP numbers to subset the MSE object.
Defaults to all MPs.</p>
</td></tr>
<tr><td><code id="Sub_+3A_sims">sims</code></td>
<td>
<p>A vector of simulation numbers to subset the MSE object. Can
also be a logical vector. Defaults to all simulations.</p>
</td></tr>
<tr><td><code id="Sub_+3A_years">years</code></td>
<td>
<p>A numeric vector of projection years. Should start at 1 and
increase by one to some value equal or less than the total number of
projection years.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>A. Hordyk
</p>


<h3>See Also</h3>

<p><a href="#topic+SubOM">SubOM</a> for OM components and <a href="#topic+SubCpars">SubCpars</a> for subsetting by simulation and projection years.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
MSE &lt;- runMSE()
MSE_1 &lt;- Sub(MSE, MPs=1:2)
MSE_1@MPs
MSE_2 &lt;- Sub(MSE, sims=1:10)
MSE_2@nsim

## End(Not run)
</code></pre>

<hr>
<h2 id='SubCpars'>Subset the cpars slot in an operating model</h2><span id='topic+SubCpars'></span><span id='topic+SubCpars+2COM-method'></span><span id='topic+SubCpars+2CMOM-method'></span>

<h3>Description</h3>

<p>Subset the custom parameters of an operating model by simulation and projection years
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SubCpars(x, ...)

## S4 method for signature 'OM'
SubCpars(x, sims = 1:x@nsim, proyears = x@proyears, silent = FALSE)

## S4 method for signature 'MOM'
SubCpars(x, sims = 1:x@nsim, proyears = x@proyears, silent = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SubCpars_+3A_x">x</code></td>
<td>
<p>An object of class <a href="#topic+OM-class">OM</a> or <a href="#topic+MOM-class">MOM</a></p>
</td></tr>
<tr><td><code id="SubCpars_+3A_...">...</code></td>
<td>
<p>Arguments for method.</p>
</td></tr>
<tr><td><code id="SubCpars_+3A_sims">sims</code></td>
<td>
<p>A logical vector of length <code>x@nsim</code> to either retain (TRUE) or remove (FALSE).
Alternatively, a numeric vector indicating which simulations (from 1 to nsim) to keep.</p>
</td></tr>
<tr><td><code id="SubCpars_+3A_proyears">proyears</code></td>
<td>
<p>If provided, a numeric to reduce the number of projection years (must be less than <code>x@proyears</code>).</p>
</td></tr>
<tr><td><code id="SubCpars_+3A_silent">silent</code></td>
<td>
<p>Logical to indicate if messages will be reported to console.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Useful function for running <a href="#topic+multiMSE">multiMSE</a> in batches if running into memory constraints.
</p>


<h3>Value</h3>

<p>An object of class <a href="#topic+OM-class">OM</a> or <a href="#topic+MOM-class">MOM</a> (same class as <code>x</code>).
</p>


<h3>Author(s)</h3>

<p>T. Carruthers, Q. Huynh
</p>


<h3>See Also</h3>

<p><a href="#topic+Sub">Sub</a> for MSE objects, <a href="#topic+SubOM">SubOM</a> for OM components.
</p>

<hr>
<h2 id='SubOM'>Subset a Stock, Fleet, Obs, or Imp object from an OM object</h2><span id='topic+SubOM'></span>

<h3>Description</h3>

<p>A function that strips out a Stock, Fleet, Obs, or Imp object from a
complete OM object. Mainly used for internal functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SubOM(OM, Sub = c("Stock", "Fleet", "Obs", "Imp"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SubOM_+3A_om">OM</code></td>
<td>
<p>An operating model object (class OM)</p>
</td></tr>
<tr><td><code id="SubOM_+3A_sub">Sub</code></td>
<td>
<p>A character string specifying what object type to strip out
&quot;Stock&quot;, &quot;Fleet&quot;, &quot;Obs&quot;, or &quot;Imp&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class Stock, Fleet, Obs, or Imp
</p>


<h3>Author(s)</h3>

<p>A. Hordyk
</p>


<h3>See Also</h3>

<p><a href="#topic+Sub">Sub</a> for subsetting MSE output and <a href="#topic+SubCpars">SubCpars</a> for subsetting by simulation and projection years.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>Stock &lt;- SubOM(testOM, "Stock")
class(Stock)
</code></pre>

<hr>
<h2 id='summary+2CData-method'>Summary of Data object</h2><span id='topic+summary+2CData-method'></span>

<h3>Description</h3>

<p>Summary of Data object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'Data'
summary(
  object,
  wait = TRUE,
  x = 1,
  plots = "all",
  rmd = FALSE,
  head = "##",
  tplot = 25
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary+2B2CData-method_+3A_object">object</code></td>
<td>
<p>An object of class Data</p>
</td></tr>
<tr><td><code id="summary+2B2CData-method_+3A_wait">wait</code></td>
<td>
<p>Logical. Wait for key press before next plot?</p>
</td></tr>
<tr><td><code id="summary+2B2CData-method_+3A_x">x</code></td>
<td>
<p>iteration number for the Data object.</p>
</td></tr>
<tr><td><code id="summary+2B2CData-method_+3A_plots">plots</code></td>
<td>
<p>Character. What plots to show? <code>all</code>, <code>TS</code>, <code>CAA</code>, <code>CAL</code>, <code>PD</code>
for all plots, time-series, catch-at-age, catch-at-length, and
probability distributions respectively</p>
</td></tr>
<tr><td><code id="summary+2B2CData-method_+3A_rmd">rmd</code></td>
<td>
<p>Logical. Used in a rmd file?</p>
</td></tr>
<tr><td><code id="summary+2B2CData-method_+3A_head">head</code></td>
<td>
<p>Character. Heading for rmd file. Default is '##' (second level heading)</p>
</td></tr>
<tr><td><code id="summary+2B2CData-method_+3A_tplot">tplot</code></td>
<td>
<p>Integer. Number of plots per page. Default 25</p>
</td></tr>
</table>

<hr>
<h2 id='summary+2CMMSE-method'>Summary of MMSE object</h2><span id='topic+summary+2CMMSE-method'></span>

<h3>Description</h3>

<p>Summary of MMSE object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'MMSE'
summary(object, ..., silent = FALSE, Refs = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary+2B2CMMSE-method_+3A_object">object</code></td>
<td>
<p>object of class <code>MMSE</code></p>
</td></tr>
<tr><td><code id="summary+2B2CMMSE-method_+3A_...">...</code></td>
<td>
<p>a list of names of PM methods</p>
</td></tr>
<tr><td><code id="summary+2B2CMMSE-method_+3A_silent">silent</code></td>
<td>
<p>Should summary be printed to console? Logical.</p>
</td></tr>
<tr><td><code id="summary+2B2CMMSE-method_+3A_refs">Refs</code></td>
<td>
<p>An optional named list (matching the PM names) with numeric values to override the default <code>Ref</code> values. See examples.</p>
</td></tr>
</table>

<hr>
<h2 id='summary+2CMSE-method'>Summary of MSE object</h2><span id='topic+summary+2CMSE-method'></span>

<h3>Description</h3>

<p>Summary of MSE object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'MSE'
summary(object, ..., silent = FALSE, Refs = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary+2B2CMSE-method_+3A_object">object</code></td>
<td>
<p>object of class MSE</p>
</td></tr>
<tr><td><code id="summary+2B2CMSE-method_+3A_...">...</code></td>
<td>
<p>a list of names of PM methods</p>
</td></tr>
<tr><td><code id="summary+2B2CMSE-method_+3A_silent">silent</code></td>
<td>
<p>Should summary be printed to console? Logical.</p>
</td></tr>
<tr><td><code id="summary+2B2CMSE-method_+3A_refs">Refs</code></td>
<td>
<p>An optional named list (matching the PM names) with numeric values to override the default <code>Ref</code> values. See examples.</p>
</td></tr>
</table>

<hr>
<h2 id='TAC'>Calculate TAC recommendations for more than one MP</h2><span id='topic+TAC'></span>

<h3>Description</h3>

<p>A function that returns the stochastic TAC recommendations from a vector of
output control MPs given a data object Data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>TAC(Data, MPs = NA, reps = 100, timelimit = 1, checkMP = TRUE, silent = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="TAC_+3A_data">Data</code></td>
<td>
<p>A data-limited methods data object</p>
</td></tr>
<tr><td><code id="TAC_+3A_mps">MPs</code></td>
<td>
<p>optional vector of MP names</p>
</td></tr>
<tr><td><code id="TAC_+3A_reps">reps</code></td>
<td>
<p>Number of repetitions</p>
</td></tr>
<tr><td><code id="TAC_+3A_timelimit">timelimit</code></td>
<td>
<p>The maximum time (seconds) taken to complete 10 reps</p>
</td></tr>
<tr><td><code id="TAC_+3A_checkmp">checkMP</code></td>
<td>
<p>Logical. Check if the MP can be run first?</p>
</td></tr>
<tr><td><code id="TAC_+3A_silent">silent</code></td>
<td>
<p>Logical. Suppress messages?</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(MSEtool)
Data &lt;- TAC(MSEtool::Cobia)
plot(Data)

## End(Not run)
</code></pre>

<hr>
<h2 id='TACfilter'>TAC Filter</h2><span id='topic+TACfilter'></span>

<h3>Description</h3>

<p>Filters vector of TAC recommendations by replacing negatives with NA and
and values beyond five standard deviations from the mean as NA
</p>


<h3>Usage</h3>

<pre><code class='language-R'>TACfilter(TAC)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="TACfilter_+3A_tac">TAC</code></td>
<td>
<p>A numeric vector of TAC recommendations</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>

<hr>
<h2 id='Taxa_Table'>Taxa_Table</h2><span id='topic+Taxa_Table'></span>

<h3>Description</h3>

<p>Database from rfishbase
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Taxa_Table
</code></pre>


<h3>Format</h3>

<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 34721 rows and 8 columns.
</p>


<h3>Source</h3>

<p><a href="https://doi.org/10.1111/j.1095-8649.2012.03464.x">doi:10.1111/j.1095-8649.2012.03464.x</a>
</p>


<h3>References</h3>

<p>Carl Boettiger and Duncan Temple Lang and Peter Wainwright
2012. Journal of Fish Biology
</p>

<hr>
<h2 id='TEG'>Tom's expand grid</h2><span id='topic+TEG'></span>

<h3>Description</h3>

<p>Create an indexing grid from just a vector of maximum dimension sizes
</p>


<h3>Usage</h3>

<pre><code class='language-R'>TEG(vec)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="TEG_+3A_vec">vec</code></td>
<td>
<p>A vector of maximum array sizes</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>

<hr>
<h2 id='testOM'>OM class objects</h2><span id='topic+testOM'></span><span id='topic+OM-class-objects'></span>

<h3>Description</h3>

<p>Example objects of class OM
</p>


<h3>Usage</h3>

<pre><code class='language-R'>testOM
</code></pre>


<h3>Format</h3>

<p>An object of class <code>OM</code> of length 1.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>avail("OM")
</code></pre>

<hr>
<h2 id='Thresh_tab'>Current default thresholds for DFO satisficing</h2><span id='topic+Thresh_tab'></span>

<h3>Description</h3>

<p>Crit_S is the probability of being in the critical zone in the first 10 projected years
Caut_S is the probability of being in the cautious zone in the first 10 projected years
Health_S is the probability of being in the healthy zone in the first 10 projected years
OvFish_S is the probability of overfishing in the first 10 projected years
Yield_S is the mean yield relative to FMSY management over the first 10 projected years
Crit is the probability of being in the critical zone in the last 10 projected years
Caut is the probability of being in the cautious zone in the last 10 projected years
Health is the probability of being in the healthy zone in the last 10 projected years
OvFish is the probability of overfishing in the last 10 projected years
Yield is the mean yield relative to FMSY management over the last 10 projected years
AAVY is the average annual variability in yield over the whole projection phrased as a CV percentage
Reb is the probability the stock has rebuilt to over BMSY in 2 mean generation times
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Thresh_tab(Ptab1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Thresh_tab_+3A_ptab1">Ptab1</code></td>
<td>
<p>A DFO performance table made by DFO_tab()</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>

<hr>
<h2 id='tinyErr'>Remove observation, implementation, and process error</h2><span id='topic+tinyErr'></span><span id='topic+tinyErr+2COM-method'></span>

<h3>Description</h3>

<p>Takes an existing OM object and converts it to one without any observation
error, implementation error, very little process error, and/or gradients in
life history parameters and catchability.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tinyErr(x, ...)

## S4 method for signature 'OM'
tinyErr(x, obs = TRUE, imp = TRUE, proc = TRUE, grad = TRUE, silent = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tinyErr_+3A_x">x</code></td>
<td>
<p>An object of class <code>OM</code></p>
</td></tr>
<tr><td><code id="tinyErr_+3A_...">...</code></td>
<td>
<p>Arguments to generic function</p>
</td></tr>
<tr><td><code id="tinyErr_+3A_obs">obs</code></td>
<td>
<p>Logical. Remove observation error? <code>Obs</code> is replaced with <code>Perfect_Info</code></p>
</td></tr>
<tr><td><code id="tinyErr_+3A_imp">imp</code></td>
<td>
<p>Logical. Remove implementation error? <code>Imp</code> is replaced with <code>Perfect_Imp</code></p>
</td></tr>
<tr><td><code id="tinyErr_+3A_proc">proc</code></td>
<td>
<p>Logical. Remove process error? All <code>sd</code> and <code>cv</code> slots in <code>Stock</code>
and <code>Fleet</code> object are set to 0.</p>
</td></tr>
<tr><td><code id="tinyErr_+3A_grad">grad</code></td>
<td>
<p>Logical. Remove gradients? All <code>grad</code> slots in <code>Stock</code> and
<code>qinc</code> in <code>Fleet</code> are set to 0.</p>
</td></tr>
<tr><td><code id="tinyErr_+3A_silent">silent</code></td>
<td>
<p>Logical. Display messages?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Useful for debugging and testing that MPs perform as expected under perfect conditions.
</p>


<h3>Value</h3>

<p>An updated object of class <code>OM</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>OM_noErr &lt;- tinyErr(MSEtool::testOM)
</code></pre>

<hr>
<h2 id='TradePlot'>Generic Trade-Plot Function</h2><span id='topic+TradePlot'></span><span id='topic+Tplot'></span><span id='topic+Tplot2'></span><span id='topic+Tplot3'></span><span id='topic+NOAA_plot2'></span>

<h3>Description</h3>

<p>Generic Trade-Plot Function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>TradePlot(
  MSEobj,
  ...,
  Lims = c(0.2, 0.2, 0.8, 0.8),
  Title = NULL,
  Labels = NULL,
  Satisficed = FALSE,
  Show = "both",
  point.size = 2,
  lab.size = 4,
  axis.title.size = 12,
  axis.text.size = 10,
  legend = TRUE,
  legend.title.size = 12,
  position = c("right", "bottom"),
  cols = NULL,
  fill = "gray80",
  alpha = 0.4,
  PMlist = NULL,
  Refs = NULL,
  Yrs = NULL
)

Tplot(MSEobj, Lims = c(0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5), ...)

Tplot2(MSEobj, Lims = c(0.2, 0.2, 0.8, 0.8), ...)

Tplot3(MSEobj, Lims = c(0.5, 0.5, 0.8, 0.5), ...)

NOAA_plot2(MSEobj)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="TradePlot_+3A_mseobj">MSEobj</code></td>
<td>
<p>An object of class <code>MSE</code></p>
</td></tr>
<tr><td><code id="TradePlot_+3A_...">...</code></td>
<td>
<p>Names of Performance Metrics (PMs), or other arguments to <code>TradePlot</code>. First PM is recycled if number of PMs is not even</p>
</td></tr>
<tr><td><code id="TradePlot_+3A_lims">Lims</code></td>
<td>
<p>A numeric vector of acceptable risk/minimum probability thresholds. Recycled if not equal to number of PMs.</p>
</td></tr>
<tr><td><code id="TradePlot_+3A_title">Title</code></td>
<td>
<p>Optional title for each plot. Character vector of <code>length(PMs)</code>/2. Recycled.</p>
</td></tr>
<tr><td><code id="TradePlot_+3A_labels">Labels</code></td>
<td>
<p>Optional named list specifying new labels for MPs. For example: <code>Labels = list(AvC="Average Catch", CC1="Constant Catch")</code></p>
</td></tr>
<tr><td><code id="TradePlot_+3A_satisficed">Satisficed</code></td>
<td>
<p>Logical. Show only the MPs that meet minimum acceptable thresholds (specified in <code>Lims</code>)</p>
</td></tr>
<tr><td><code id="TradePlot_+3A_show">Show</code></td>
<td>
<p>Character. Show the plots ('plots'), results table ('table'), 'both' (default), or invisibly return objects only ('none')</p>
</td></tr>
<tr><td><code id="TradePlot_+3A_point.size">point.size</code></td>
<td>
<p>Numeric. Size of the MP points</p>
</td></tr>
<tr><td><code id="TradePlot_+3A_lab.size">lab.size</code></td>
<td>
<p>Numeric. Size of MP label. Set to NULL to remove MP labels.</p>
</td></tr>
<tr><td><code id="TradePlot_+3A_axis.title.size">axis.title.size</code></td>
<td>
<p>Numeric. Size of axis titles</p>
</td></tr>
<tr><td><code id="TradePlot_+3A_axis.text.size">axis.text.size</code></td>
<td>
<p>Numeric. Size of axis text</p>
</td></tr>
<tr><td><code id="TradePlot_+3A_legend">legend</code></td>
<td>
<p>Logical. Include legend?</p>
</td></tr>
<tr><td><code id="TradePlot_+3A_legend.title.size">legend.title.size</code></td>
<td>
<p>Numeric. Size of legend title text</p>
</td></tr>
<tr><td><code id="TradePlot_+3A_position">position</code></td>
<td>
<p>Character. Position of legend - 'right' or 'bottom'</p>
</td></tr>
<tr><td><code id="TradePlot_+3A_cols">cols</code></td>
<td>
<p>Optional character vector of colors for the legend (MP Types) or if <code>cols</code> is a character vector of length <code>MSEobj@nMPs</code>,
then the MP labels are colored (no color legend).</p>
</td></tr>
<tr><td><code id="TradePlot_+3A_fill">fill</code></td>
<td>
<p>Character. Color of the fill</p>
</td></tr>
<tr><td><code id="TradePlot_+3A_alpha">alpha</code></td>
<td>
<p>Numeric. Transparency of fill</p>
</td></tr>
<tr><td><code id="TradePlot_+3A_pmlist">PMlist</code></td>
<td>
<p>Optional list of PM names. Overrides any supplied in ... above</p>
</td></tr>
<tr><td><code id="TradePlot_+3A_refs">Refs</code></td>
<td>
<p>An optional named list (matching the PM names) with numeric values to override the default <code>Ref</code> values. See examples.</p>
</td></tr>
<tr><td><code id="TradePlot_+3A_yrs">Yrs</code></td>
<td>
<p>An optional named list (matching the PM names) with numeric values to override the default <code>Yrs</code> values. See examples.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Invisibly returns a list with summary table of MP performance and
the ggplot objects for the plots
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>Tplot()</code>: A trade-off plot showing probabilities that:
</p>

<ul>
<li><p> not overfishing (PNOF) against long-term yield is &gt; 50\
</p>
</li>
<li><p> spawning biomass is below BMSY (P100) against LTY
</p>
</li>
<li><p> spawning biomass is below 0.5BMSY (P50) against LTY
</p>
</li>
<li><p> spawning biomass is below 0.1BMSY (P10) against LTY
</p>
</li></ul>

</li>
<li> <p><code>Tplot2()</code>: A trade-off plot showing probabilities that:
</p>

<ul>
<li><p> short-term yield is &gt; 50\
</p>
</li>
<li><p> spawning biomass is below 0.1BMSY (P10) against average annual variability in yield is &lt; 20\
</p>
</li></ul>

</li>
<li> <p><code>Tplot3()</code>: A trade-off plot showing probabilities that:
</p>

<ul>
<li><p> not overfishing (PNOF) against long-term yield is &gt; 50\
</p>
</li>
<li><p> spawning biomass is below 0.1BMSY (P10) against average annual variability in yield is &lt; 20\
</p>
</li></ul>

</li>
<li> <p><code>NOAA_plot2()</code>: A trade-off plot developed for NOAA showing probabilities that:
</p>

<ul>
<li><p> not overfishing (PNOF) against long-term yield is &gt; 50\
</p>
</li>
<li><p> spawning biomass is below 0.5BMSY (P50) against average annual variability in yield is &lt; 15\
</p>
</li></ul>

</li></ul>


<h3>Author(s)</h3>

<p>A. Hordyk
</p>

<hr>
<h2 id='trlnorm'>Lognormal distribution</h2><span id='topic+trlnorm'></span><span id='topic+tdlnorm'></span>

<h3>Description</h3>

<p>Variant of rlnorm which returns the mean when reps = 1.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>trlnorm(reps, mu, cv)

tdlnorm(x, mu, cv)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="trlnorm_+3A_reps">reps</code></td>
<td>
<p>number of random numbers</p>
</td></tr>
<tr><td><code id="trlnorm_+3A_mu">mu</code></td>
<td>
<p>mean</p>
</td></tr>
<tr><td><code id="trlnorm_+3A_cv">cv</code></td>
<td>
<p>coefficient of variation</p>
</td></tr>
<tr><td><code id="trlnorm_+3A_x">x</code></td>
<td>
<p>vector</p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>trlnorm()</code>: Generate log-normally distributed random numbers
</p>
</li>
<li> <p><code>tdlnorm()</code>: Calculate density of log-normally distributed random numbers
</p>
</li></ul>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>

<hr>
<h2 id='Turing'>Turing Test</h2><span id='topic+Turing'></span><span id='topic+TuringMOM'></span>

<h3>Description</h3>

<p>Plots the available data in the <code>Data</code> object together with 5 samples of
historical data from the Operating Model (OM) in a random order. The test is
used to determine if the data generated by the OM is similar to the fishery
data in the <code>Data</code> object. In a well specified OM the user should not be able
to visually identify which of the 6 plots is the real fishery data and which
are generated by the OM.'
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Turing(OM, Data, wait = TRUE)

TuringMOM(multiHist, Data, wait = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Turing_+3A_om">OM</code></td>
<td>
<p>An object of class <code>OM</code> or class <code>multiHist</code></p>
</td></tr>
<tr><td><code id="Turing_+3A_data">Data</code></td>
<td>
<p>An object of class <code>Data</code> or a nested list of <code>Data</code> objects for each stock and fleet</p>
</td></tr>
<tr><td><code id="Turing_+3A_wait">wait</code></td>
<td>
<p>Logical. Wait for key press before next plot?</p>
</td></tr>
<tr><td><code id="Turing_+3A_multihist">multiHist</code></td>
<td>
<p>An object of class <code>multiHist</code>. The output of <code>SimulateMOM</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>In its current form the Turing function does not interpolate missing data in the
Data object. Therefore if there are years with missing data, say in the catch
time-series, it will be obvious which are the real data and which have been
generated by the model. Future versions of the function may include methods to
impute missing data for plotting purposes.
</p>
<p>The question to ask when examining the plots produced by <code>Turing</code>: do the plots
of the 6 data samples look like they are all samples from the same underlying distribution?
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>TuringMOM()</code>: Turing function for multi-stock, multi-fleet MOMs
</p>
</li></ul>


<h3>Note</h3>

<p>The Turing function was suggested by Andre Punt in his review of one of our
recent projects. It is named after the Turing test, developed by Alan Turing in
1950, which is designed to see if a human can detect the difference between
human and machine generated information.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
Turing(MSEtool::testOM, MSEtool::SimulatedData, wait=FALSE)

## End(Not run)

</code></pre>

<hr>
<h2 id='Uses'>Find the Management Procedures that use a particular data slot</h2><span id='topic+Uses'></span>

<h3>Description</h3>

<p>Find the Management Procedures that use a particular data slot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Uses(slot, silent = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Uses_+3A_slot">slot</code></td>
<td>
<p>A slot from an object of class <code>Data</code>. Character string.</p>
</td></tr>
<tr><td><code id="Uses_+3A_silent">silent</code></td>
<td>
<p>Logical. Should messages be printed?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character string of MPs that use the slot.
</p>


<h3>Author(s)</h3>

<p>A. Hordyk
</p>


<h3>Examples</h3>

<pre><code class='language-R'>Uses("Mort")
</code></pre>

<hr>
<h2 id='validcpars'>Valid custom parameters (cpars)</h2><span id='topic+validcpars'></span>

<h3>Description</h3>

<p>Valid custom parameters (cpars)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validcpars(
  type = c("all", "Stock", "Fleet", "Obs", "Imp", "internal"),
  valid = TRUE,
  show = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="validcpars_+3A_type">type</code></td>
<td>
<p>What cpars to show? 'all', 'Stock', 'Fleet', 'Obs', 'Imp', or 'internal'</p>
</td></tr>
<tr><td><code id="validcpars_+3A_valid">valid</code></td>
<td>
<p>Logical. Show valid cpars?</p>
</td></tr>
<tr><td><code id="validcpars_+3A_show">show</code></td>
<td>
<p>Logical. Display the table in the Viewer?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a HTML datatable with variable name, description and type of valid cpars
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
validcpars() # all valid cpars

validcpars("Obs", FALSE) # invalid Obs cpars

## End(Not run)

</code></pre>

<hr>
<h2 id='VOI'>Calculate Value Of Information</h2><span id='topic+VOI'></span>

<h3>Description</h3>

<p>A function that relates operating model parameters and parameters of the
observation model to yield (by default). A user can also specific their own
utility values (Ut) which is arranged in a matrix of nsim rows and nMP
columns.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>VOI(
  MSEobj,
  ncomp = 6,
  nbins = 8,
  maxrow = 8,
  Ut = NA,
  Utnam = "Utility",
  plot = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="VOI_+3A_mseobj">MSEobj</code></td>
<td>
<p>An object of class MSE</p>
</td></tr>
<tr><td><code id="VOI_+3A_ncomp">ncomp</code></td>
<td>
<p>Maximum number of variables to examine per MP</p>
</td></tr>
<tr><td><code id="VOI_+3A_nbins">nbins</code></td>
<td>
<p>Number of percentile bins for sampled parameters of the
operating model or observation model, which is used for calculating
variability in utility across the sampled range of each parameter</p>
</td></tr>
<tr><td><code id="VOI_+3A_maxrow">maxrow</code></td>
<td>
<p>maximum number of MPs per plot</p>
</td></tr>
<tr><td><code id="VOI_+3A_ut">Ut</code></td>
<td>
<p>A matrix of user-specified utility values of nsim rows and nMPs
columns</p>
</td></tr>
<tr><td><code id="VOI_+3A_utnam">Utnam</code></td>
<td>
<p>The name of the utility measure for plotting</p>
</td></tr>
<tr><td><code id="VOI_+3A_plot">plot</code></td>
<td>
<p>Logical. Show the plot?</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>

<hr>
<h2 id='VOI2'>Calculate Value Of Information 2</h2><span id='topic+VOI2'></span>

<h3>Description</h3>

<p>A function that relates operating model parameters and parameters of the
observation model to relative yield (yield over last 5 years of projection
relative to a 'best F' scenario that maximizes yield).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>VOI2(MSEobj, ncomp = 6, nbins = 4, Ut = NA, Utnam = "yield", lay = F)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="VOI2_+3A_mseobj">MSEobj</code></td>
<td>
<p>An object of class MSE</p>
</td></tr>
<tr><td><code id="VOI2_+3A_ncomp">ncomp</code></td>
<td>
<p>Maximum number of observation variables to examine per MP</p>
</td></tr>
<tr><td><code id="VOI2_+3A_nbins">nbins</code></td>
<td>
<p>Number of bins for sampled observation variables used for
calculating variability in utility across the sampled range of each
parameter</p>
</td></tr>
<tr><td><code id="VOI2_+3A_ut">Ut</code></td>
<td>
<p>A matrix of user-specified utility values of nsim rows and nMPs
columns</p>
</td></tr>
<tr><td><code id="VOI2_+3A_utnam">Utnam</code></td>
<td>
<p>The name of the utility measure for plotting</p>
</td></tr>
<tr><td><code id="VOI2_+3A_lay">lay</code></td>
<td>
<p>Controls whether labels are in lay terms or not</p>
</td></tr>
</table>


<h3>Note</h3>

<p>VOI2 assumes that relative cost for each type of improvement in data
is linearly related to the number of samples (e.g. nCAAobs) or square
function of improved precision and bias e.g.: relative cost=
1/(newCV/oldCV)^2
</p>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>

<hr>
<h2 id='VOIplot'>Yet another Value of Information Plot</h2><span id='topic+VOIplot'></span>

<h3>Description</h3>

<p>A function that relates parameters of the observation model and the
operating model parameters to yield.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>VOIplot(
  MSEobj,
  MPs = NA,
  nvars = 5,
  nMP = 4,
  Par = c("Obs", "OM"),
  YVar = c("Y", "B"),
  doPlot = TRUE,
  incStat = FALSE,
  availMP = NULL,
  acceptMP = NULL,
  incNames = TRUE,
  labcex = 0.8,
  quants = c(0.05, 0.95)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="VOIplot_+3A_mseobj">MSEobj</code></td>
<td>
<p>An object of class MSE</p>
</td></tr>
<tr><td><code id="VOIplot_+3A_mps">MPs</code></td>
<td>
<p>The MPs to plot. If NA it will plot the first nMP from MSEobj</p>
</td></tr>
<tr><td><code id="VOIplot_+3A_nvars">nvars</code></td>
<td>
<p>The number of observation or operating model parameters to plot
(number of columns)</p>
</td></tr>
<tr><td><code id="VOIplot_+3A_nmp">nMP</code></td>
<td>
<p>The maximum number of MPs to plot (number of rows)</p>
</td></tr>
<tr><td><code id="VOIplot_+3A_par">Par</code></td>
<td>
<p>Plot Operating Model (OM) or Observation (Obs) parameters?</p>
</td></tr>
<tr><td><code id="VOIplot_+3A_yvar">YVar</code></td>
<td>
<p>Variable for Y-Axis: Yield (Y) or Biomass (B) (relative to BMSY)</p>
</td></tr>
<tr><td><code id="VOIplot_+3A_doplot">doPlot</code></td>
<td>
<p>Output the plot?</p>
</td></tr>
<tr><td><code id="VOIplot_+3A_incstat">incStat</code></td>
<td>
<p>Include a print out of statistic describing the curviness of
the line?</p>
</td></tr>
<tr><td><code id="VOIplot_+3A_availmp">availMP</code></td>
<td>
<p>Optional character string of MPs that are available. These
names are colored black</p>
</td></tr>
<tr><td><code id="VOIplot_+3A_acceptmp">acceptMP</code></td>
<td>
<p>Optional character string of MPs that are acceptable. These
names are colored green if they are also in availMP</p>
</td></tr>
<tr><td><code id="VOIplot_+3A_incnames">incNames</code></td>
<td>
<p>Include the names?</p>
</td></tr>
<tr><td><code id="VOIplot_+3A_labcex">labcex</code></td>
<td>
<p>Character size of the label</p>
</td></tr>
<tr><td><code id="VOIplot_+3A_quants">quants</code></td>
<td>
<p>Quantiles to calculate</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of all the information included in the plot
</p>


<h3>Author(s)</h3>

<p>A. Hordyk
</p>

<hr>
<h2 id='WHAM2OM'>Takes a fitted WHAM (Wood's Hole Assessment Model) and samples historical population and fishing dynamics from the MLE fit and variance-covariance matrix.</h2><span id='topic+WHAM2OM'></span>

<h3>Description</h3>

<p>Takes a fitted WHAM (Wood's Hole Assessment Model) and samples historical population and fishing dynamics from the MLE fit and variance-covariance matrix.
Maturity-at-age-year, Mortality-at-age-year and weight-at-age-year are identical among simulations and are a direct copy of the matrices in the WHAM fitting object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>WHAM2OM(
  obj,
  nsim = 3,
  proyears = 30,
  interval = 2,
  Name = NULL,
  WLa = 1,
  WLb = 3,
  WAAind = 1,
  Obs = MSEtool::Imprecise_Unbiased,
  Imp = MSEtool::Perfect_Imp,
  nyr_par_mu = 3,
  LowerTri = 2,
  plusgroup = T,
  altinit = 0,
  fixq1 = T,
  report = FALSE,
  silent = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="WHAM2OM_+3A_obj">obj</code></td>
<td>
<p>a list object created by <code>fit_wham()</code>.</p>
</td></tr>
<tr><td><code id="WHAM2OM_+3A_nsim">nsim</code></td>
<td>
<p>Positive integer. The number of simulations.</p>
</td></tr>
<tr><td><code id="WHAM2OM_+3A_proyears">proyears</code></td>
<td>
<p>Positive integer. The number of projection years for MSE.</p>
</td></tr>
<tr><td><code id="WHAM2OM_+3A_interval">interval</code></td>
<td>
<p>Positive integer. The interval at which management procedures will update the management advice in <a href="#topic+runMSE">runMSE</a>, e.g., 1 = annual updates.</p>
</td></tr>
<tr><td><code id="WHAM2OM_+3A_name">Name</code></td>
<td>
<p>Character string. The name of the operating model.</p>
</td></tr>
<tr><td><code id="WHAM2OM_+3A_wla">WLa</code></td>
<td>
<p>positive real number or array <code style="white-space: pre;">&#8288;[sim, ages, year]&#8288;</code>. The default weight-length parameter a (W=aL^b)</p>
</td></tr>
<tr><td><code id="WHAM2OM_+3A_wlb">WLb</code></td>
<td>
<p>positive real number or array <code style="white-space: pre;">&#8288;[sim, ages, year]&#8288;</code>. The default weight-length parameter b (W=aL^b)</p>
</td></tr>
<tr><td><code id="WHAM2OM_+3A_waaind">WAAind</code></td>
<td>
<p>positive integer. The index of the WHAM weight-at-age array input$data$waa to be assumed as the weight-at-age for the operating model</p>
</td></tr>
<tr><td><code id="WHAM2OM_+3A_obs">Obs</code></td>
<td>
<p>The observation model (class Obs). This function only updates the catch and index observation error.</p>
</td></tr>
<tr><td><code id="WHAM2OM_+3A_imp">Imp</code></td>
<td>
<p>The implementation model (class Imp). This function does not update implementation parameters.</p>
</td></tr>
<tr><td><code id="WHAM2OM_+3A_nyr_par_mu">nyr_par_mu</code></td>
<td>
<p>Positive integer. The number of recent years that natural mortality, age vulnerability, weight, length and maturity parameters are averaged over for defining future projection conditions.</p>
</td></tr>
<tr><td><code id="WHAM2OM_+3A_lowertri">LowerTri</code></td>
<td>
<p>Integer. The number of recent years for which model estimates of recruitment are ignored (not reliably estimated by the assessment)</p>
</td></tr>
<tr><td><code id="WHAM2OM_+3A_plusgroup">plusgroup</code></td>
<td>
<p>Logical. Does the assessment assume that the oldest age class is a plusgroup?</p>
</td></tr>
<tr><td><code id="WHAM2OM_+3A_altinit">altinit</code></td>
<td>
<p>Integer. Various assumptions for how to set up the initial numbers. 0: standard, 1: no plus group, 2: temporary fix for MSEtool plus group initialization</p>
</td></tr>
<tr><td><code id="WHAM2OM_+3A_fixq1">fixq1</code></td>
<td>
<p>Logical. Should q be fixed (ie assume the F-at-age array faa is accurate?</p>
</td></tr>
<tr><td><code id="WHAM2OM_+3A_report">report</code></td>
<td>
<p>Logical, if TRUE, a diagnostic will be reported showing the matching of the OM reconstructed numbers at age vs the assessment.</p>
</td></tr>
<tr><td><code id="WHAM2OM_+3A_silent">silent</code></td>
<td>
<p>Whether to silence messages to the console.</p>
</td></tr>
<tr><td><code id="WHAM2OM_+3A_...">...</code></td>
<td>
<p>Additional arguments, including R0 (unfished recruitment), phi0 (unfished spawners per recruit associated with R0 and h for calculating stock recruit parameters),</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Use a seed for the random number generator to sample future recruitment.
</p>


<h3>Value</h3>

<p>An object of class <a href="#topic+OM-class">OM</a>.
</p>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>


<h3>See Also</h3>

<p><a href="#topic+Assess2OM">Assess2OM</a>
</p>

<hr>
<h2 id='wormplot'>Biomass wormplot</h2><span id='topic+wormplot'></span>

<h3>Description</h3>

<p>A worm plot for plotting the likelihood of meeting biomass targets in future
years.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wormplot(MSEobj, Bref = 0.5, LB = 0.25, UB = 0.75)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="wormplot_+3A_mseobj">MSEobj</code></td>
<td>
<p>Object of class MSE, output of the runMSE function</p>
</td></tr>
<tr><td><code id="wormplot_+3A_bref">Bref</code></td>
<td>
<p>The reference fraction of BMSY (to evaluate the probability of
exceeding this level)</p>
</td></tr>
<tr><td><code id="wormplot_+3A_lb">LB</code></td>
<td>
<p>The lower bound probability that separates red (bad) and yellow
(O.K.) colored segments</p>
</td></tr>
<tr><td><code id="wormplot_+3A_ub">UB</code></td>
<td>
<p>The upper bound probability that separates yellow (O.K.) and green
(good) colored segments</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Returns a matrix of nMPs rows and proyears columns which is the fraction of
simulations for which biomass was above Bref.
</p>


<h3>Author(s)</h3>

<p>T. Carruthers
</p>

<hr>
<h2 id='writeCSV'>Internal function to write CSVs for objects</h2><span id='topic+writeCSV'></span>

<h3>Description</h3>

<p>Used internally in the DLMtool package to write CSV files from an existing
DLMtool object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>writeCSV(
  inobj,
  tmpfile = NULL,
  objtype = c("Stock", "Fleet", "Obs", "Imp", "Data", "OM")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="writeCSV_+3A_inobj">inobj</code></td>
<td>
<p>A object of class Stock, Fleet, Obs, Imp, Data, or OM</p>
</td></tr>
<tr><td><code id="writeCSV_+3A_tmpfile">tmpfile</code></td>
<td>
<p>The full file path and name for the saved CSV file</p>
</td></tr>
<tr><td><code id="writeCSV_+3A_objtype">objtype</code></td>
<td>
<p>The class corresonding to the <code>inobj</code></p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>A. Hordyk
</p>

<hr>
<h2 id='XL2Data'>Import a Data object from Excel file</h2><span id='topic+XL2Data'></span>

<h3>Description</h3>

<p>Import a Data object from Excel file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>XL2Data(name, dec = c(".", ","), sheet = 1, silent = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="XL2Data_+3A_name">name</code></td>
<td>
<p>Name of the data file, with or without file extension.
Include full file path if not in working directory</p>
</td></tr>
<tr><td><code id="XL2Data_+3A_dec">dec</code></td>
<td>
<p>the character used in the file for decimal points.</p>
</td></tr>
<tr><td><code id="XL2Data_+3A_sheet">sheet</code></td>
<td>
<p>Sheet number if importing Data from XL file</p>
</td></tr>
<tr><td><code id="XL2Data_+3A_silent">silent</code></td>
<td>
<p>Logical. Hide messages?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class 'Data'
</p>


<h3>Author(s)</h3>

<p>A. Hordyk
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
MyData &lt;- XL2Data("MyData.xlsx")

## End(Not run)
</code></pre>

<hr>
<h2 id='XL2Fleet'>Import Fleet Object from Excel file</h2><span id='topic+XL2Fleet'></span>

<h3>Description</h3>

<p>Imports a Fleet Object from a correctly formatted Excel file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>XL2Fleet(name = NULL, cpars = NULL, msg = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="XL2Fleet_+3A_name">name</code></td>
<td>
<p>Name of the OM Excel file. Provide full file path if not in current directory.</p>
</td></tr>
<tr><td><code id="XL2Fleet_+3A_cpars">cpars</code></td>
<td>
<p>An optional list of custom parameters (single parameters are a vector nsim
long, time series are a matrix nsim rows by nyears columns)</p>
</td></tr>
<tr><td><code id="XL2Fleet_+3A_msg">msg</code></td>
<td>
<p>Should messages be printed?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>An error message will alert if any slots are missing values, or if the Excel file is missing
the required tabs.
</p>


<h3>Value</h3>

<p>An object of class Fleet
</p>


<h3>Author(s)</h3>

<p>A. Hordyk
</p>

<hr>
<h2 id='XL2OM'>Load OM from Excel file</h2><span id='topic+XL2OM'></span>

<h3>Description</h3>

<p>Imports an OM from a correctly formatted Excel file. Create the Excel spreadsheet template
using <code>OMinit</code> and document each slot in the corresponding text file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>XL2OM(name = NULL, cpars = NULL, msg = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="XL2OM_+3A_name">name</code></td>
<td>
<p>Name of the OM Excel file. Provide full file path if not in current directory.</p>
</td></tr>
<tr><td><code id="XL2OM_+3A_cpars">cpars</code></td>
<td>
<p>An optional list of custom parameters (single parameters are a vector nsim
long, time series are a matrix nsim rows by nyears columns)</p>
</td></tr>
<tr><td><code id="XL2OM_+3A_msg">msg</code></td>
<td>
<p>Should messages be printed?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>An error message will alert if any slots are missing values, or if the Excel file is missing
the required tabs.
</p>


<h3>Value</h3>

<p>An object of class OM
</p>


<h3>Author(s)</h3>

<p>A. Hordyk
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
OMinit('myOM', templates=list(Stock='Herring', Fleet='Generic_Fleet', Obs='Generic_Obs',
Imp='Perfect_Imp'), overwrite=TRUE)
myOM &lt;- XL2OM('myOM.xlsx')


## End(Not run)
</code></pre>

<hr>
<h2 id='XL2Stock'>Import Stock Object from Excel file</h2><span id='topic+XL2Stock'></span>

<h3>Description</h3>

<p>Imports a Stock Object from a correctly formatted Excel file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>XL2Stock(name = NULL, cpars = NULL, msg = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="XL2Stock_+3A_name">name</code></td>
<td>
<p>Name of the OM Excel file. Provide full file path if not in current directory.</p>
</td></tr>
<tr><td><code id="XL2Stock_+3A_cpars">cpars</code></td>
<td>
<p>An optional list of custom parameters (single parameters are a vector nsim
long, time series are a matrix nsim rows by nyears columns)</p>
</td></tr>
<tr><td><code id="XL2Stock_+3A_msg">msg</code></td>
<td>
<p>Should messages be printed?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>An error message will alert if any slots are missing values, or if the Excel file is missing
the required tabs.
</p>


<h3>Value</h3>

<p>An object of class Stock
</p>


<h3>Author(s)</h3>

<p>A. Hordyk
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package Mcomp</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {Mcomp}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#Mcomp-package'><p>Data from the M-competitions</p></a></li>
<li><a href='#M1'><p>M-Competition data</p></a></li>
<li><a href='#M3'><p>M3-Competition data</p></a></li>
<li><a href='#M3Forecast'><p>M3-Competition forecasts of original competition participants</p></a></li>
<li><a href='#plot.Mdata'><p>Plotting M Competition data</p></a></li>
<li><a href='#subset.Mcomp'><p>Subset of time series from the M Competitions</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Version:</td>
<td>2.8</td>
</tr>
<tr>
<td>Title:</td>
<td>Data from the M-Competitions</td>
</tr>
<tr>
<td>Description:</td>
<td>
  The 1001 time series from the M-competition (Makridakis et al. 1982) &lt;<a href="https://doi.org/10.1002%2Ffor.3980010202">doi:10.1002/for.3980010202</a>&gt; and the 3003 time series from the IJF-M3 competition (Makridakis and Hibon, 2000) &lt;<a href="https://doi.org/10.1016%2FS0169-2070%2800%2900057-1">doi:10.1016/S0169-2070(00)00057-1</a>&gt;.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10), forecast (&ge; 8.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>ggplot2</td>
</tr>
<tr>
<td>LazyData:</td>
<td>yes</td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>ByteCompile:</td>
<td>TRUE</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="http://pkg.robjhyndman.com/Mcomp/">http://pkg.robjhyndman.com/Mcomp/</a>,
<a href="https://github.com/robjhyndman/Mcomp">https://github.com/robjhyndman/Mcomp</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/robjhyndman/Mcomp/issues">https://github.com/robjhyndman/Mcomp/issues</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.0.1.9000</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2018-06-19 04:45:36 UTC; hyndman</td>
</tr>
<tr>
<td>Author:</td>
<td>Rob Hyndman <a href="https://orcid.org/0000-0002-2140-5352"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre, cph],
  Muhammad Akram [ctb],
  Christoph Bergmeir
    <a href="https://orcid.org/0000-0002-3665-9021"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [ctb],
  Mitchell O'Hara-Wild [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Rob Hyndman &lt;Rob.Hyndman@monash.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2018-06-19 04:57:55 UTC</td>
</tr>
</table>
<hr>
<h2 id='Mcomp-package'>Data from the M-competitions</h2><span id='topic+Mcomp-package'></span><span id='topic+Mcomp'></span>

<h3>Description</h3>

<p>The 1001 time series from the M-competition (Makridakis et al. 1982), and
the 3003 time series and forecasts from the IJF-M3 competition (Makridakis
and Hibon, 2000).
</p>


<h3>Author(s)</h3>

<p>Rob J Hyndman. <a href="mailto:Rob.Hyndman@monash.edu">Rob.Hyndman@monash.edu</a>, with assistance from
Muhammad Akram and Christoph Bergmeir.
</p>


<h3>Source</h3>

<p><a href="http://forecasters.org/resources/time-series-data/m3-competition/">http://forecasters.org/resources/time-series-data/m3-competition/</a>.
</p>


<h3>References</h3>

<p>Makridakis, S., A. Andersen, R. Carbone, R. Fildes, M. Hibon, R.
Lewandowski, J. Newton, E. Parzen, and R. Winkler (1982) The accuracy of
extrapolation (time series) methods: results of a forecasting competition.
<em>Journal of Forecasting</em>, <b>1</b>, 111&ndash;153.
</p>
<p>Makridakis and Hibon (2000) The M3-competition: results, conclusions and
implications. <em>International Journal of Forecasting</em>, <b>16</b>,
451-476.
</p>

<hr>
<h2 id='M1'>M-Competition data</h2><span id='topic+M1'></span>

<h3>Description</h3>

<p>The time series from the M1 forecasting competition.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>M1
</code></pre>


<h3>Format</h3>

<p>M1 is a list of 1001 series of class <code>Mcomp</code>.
Each series within <code>M1</code> is of class <code>Mdata</code> with the following structure:
</p>

<dl>
<dt>sn</dt><dd><p>Name of the series</p>
</dd>
<dt>st</dt><dd><p>Series number and period. For example &quot;Y1&quot; denotes first yearly series,
&quot;Q20&quot; denotes 20th quarterly series and so on.</p>
</dd>
<dt>n</dt><dd><p>The number of observations in the time series</p>
</dd>
<dt>h</dt><dd><p>The number of required forecasts</p>
</dd>
<dt>period</dt><dd><p>Interval of the time series.
Possible values are &quot;YEARLY&quot;, &quot;QUARTERLY&quot;, &quot;MONTHLY&quot; &amp; &quot;OTHER&quot;.</p>
</dd>
<dt>type</dt><dd><p>The type of series.
Possible values are &quot;DEMOGR&quot;, &quot;INDUST&quot;, &quot;MACRO1&quot;, &quot;MACRO2&quot;,
&quot;MICRO1&quot;, &quot;MICRO2&quot; &amp; &quot;MICRO3&quot;.</p>
</dd>
<dt>description</dt><dd><p>A short description of the time series</p>
</dd>
<dt>x</dt><dd><p>A time series of length <code>n</code> (the historical data)</p>
</dd>
<dt>xx</dt><dd><p>A time series of length <code>h</code> (the future data)</p>
</dd>
</dl>


<h3>Author(s)</h3>

<p>Muhammad Akram and Rob Hyndman
</p>


<h3>Source</h3>

<p><a href="http://forecasters.org/resources/time-series-data/m-competition/">http://forecasters.org/resources/time-series-data/m-competition/</a>.
</p>


<h3>References</h3>

<p>Makridakis, S., A. Andersen, R. Carbone, R. Fildes, M. Hibon, R.
Lewandowski, J. Newton, E. Parzen, and R. Winkler (1982) The accuracy of
extrapolation (time series) methods: results of a forecasting competition.
<em>Journal of Forecasting</em>, <b>1</b>, 111&ndash;153.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+M3">M3</a></code>, <code><a href="#topic+subset.Mcomp">subset.Mcomp</a></code>, <code><a href="#topic+plot.Mdata">plot.Mdata</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
M1
plot(M1$YAF2)
subset(M1,"monthly")
</code></pre>

<hr>
<h2 id='M3'>M3-Competition data</h2><span id='topic+M3'></span>

<h3>Description</h3>

<p>The time series from the M3 forecasting competition.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>M3
</code></pre>


<h3>Format</h3>

<p>M3 is a list of 3003 series of class <code>Mcomp</code>. Each series within <code>M3</code> is
of class <code>Mdata</code> with the following structure:
</p>

<dl>
<dt>sn</dt><dd><p>Name of the series</p>
</dd>
<dt>st</dt><dd><p>Series number and period. For example &quot;Y1&quot; denotes first yearly series,
&quot;Q20&quot; denotes 20th quarterly series and so on.</p>
</dd>
<dt>n</dt><dd><p>The number of observations in the time series</p>
</dd>
<dt>h</dt><dd><p>The number of required forecasts</p>
</dd>
<dt>period</dt><dd><p>Interval of the time series.
Possible values are &quot;YEARLY&quot;, &quot;QUARTERLY&quot;, &quot;MONTHLY&quot; &amp; &quot;OTHER&quot;.</p>
</dd>
<dt>type</dt><dd><p>The type of series.
Possible values for M3 are &quot;DEMOGRAPHIC&quot;, &quot;FINANCE&quot;, &quot;INDUSTRY&quot;,
&quot;MACRO&quot;, &quot;MICRO&quot;, &quot;OTHER&quot;.</p>
</dd>
<dt>description</dt><dd><p>A short description of the time series</p>
</dd>
<dt>x</dt><dd><p>A time series of length <code>n</code> (the historical data)</p>
</dd>
<dt>xx</dt><dd><p>A time series of length <code>h</code> (the future data)</p>
</dd>
</dl>


<h3>Author(s)</h3>

<p>Muhammad Akram and Rob Hyndman
</p>


<h3>Source</h3>

<p><a href="http://forecasters.org/resources/time-series-data/m3-competition/">http://forecasters.org/resources/time-series-data/m3-competition/</a>.
</p>


<h3>References</h3>

<p>Makridakis and Hibon (2000) The M3-competition: results, conclusions and
implications. <em>International Journal of Forecasting</em>, <b>16</b>,
451-476.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+subset.Mcomp">subset.Mcomp</a></code>, <code><a href="#topic+plot.Mdata">plot.Mdata</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
M3
plot(M3[[32]])
subset(M3,"monthly")
</code></pre>

<hr>
<h2 id='M3Forecast'>M3-Competition forecasts of original competition participants</h2><span id='topic+M3Forecast'></span>

<h3>Description</h3>

<p>The forecasts from all the original participating methods in the M3
forecasting competition.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>M3Forecast
</code></pre>


<h3>Format</h3>

<p>M3Forecast is a list of data.frames. Each list element is the result
of one forecasting method. The data.frame then has the following structure:
Each row is the forecast of one series. Rows are named accordingly. In total
there are 18 columns, i.e., 18 forecasts. If fewer forecasts than 18 exist,
the row is filled up with NA values.</p>


<h3>Author(s)</h3>

<p>Christoph Bergmeir and Rob Hyndman
</p>


<h3>Source</h3>

<p><a href="http://forecasters.org/resources/time-series-data/m3-competition/">http://forecasters.org/resources/time-series-data/m3-competition/</a>.
</p>


<h3>References</h3>

<p>Makridakis and Hibon (2000) The M3-competition: results,
conclusions and implications. <em>International Journal of Forecasting</em>,
<b>16</b>, 451-476.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
M3Forecast[["NAIVE2"]][1,]

## Not run: 
# calculate errors using the accuracy function
# from the forecast package

errors &lt;- lapply(M3Forecast, function(f) {
      res &lt;- NULL
      for(x in 1:length(M3)) {
        curr_f &lt;- unlist(f[x,])
        if(any(!is.na(curr_f))) {
          curr_res &lt;- accuracy(curr_f, M3[[x]]$xx)
        } else {
          # if no results are available create NA results
          curr_res &lt;- accuracy(M3[[x]]$xx, M3[[x]]$xx)
          curr_res &lt;- rep(NA, length(curr_res))
        }
        res &lt;- rbind(res, curr_res)
      }
      rownames(res) &lt;- NULL
      res
    })

ind_yearly &lt;- which(unlist(lapply(M3, function(x) {x$period == "YEARLY"})))
ind_quarterly &lt;- which(unlist(lapply(M3, function(x) {x$period == "QUARTERLY"})))
ind_monthly &lt;- which(unlist(lapply(M3, function(x) {x$period == "MONTHLY"})))
ind_other &lt;- which(unlist(lapply(M3, function(x) {x$period == "OTHER"})))

yearly_errors &lt;- t(as.data.frame(lapply(errors, function(x) {colMeans(x[ind_yearly,])})))
quarterly_errors &lt;- t(as.data.frame(lapply(errors, function(x) {colMeans(x[ind_quarterly,])})))
monthly_errors &lt;- t(as.data.frame(lapply(errors, function(x) {colMeans(x[ind_monthly,])})))
other_errors &lt;- t(as.data.frame(lapply(errors, function(x) {colMeans(x[ind_other,])})))

yearly_errors
quarterly_errors
monthly_errors
other_errors

## End(Not run)
</code></pre>

<hr>
<h2 id='plot.Mdata'>Plotting M Competition data</h2><span id='topic+plot.Mdata'></span><span id='topic+autoplot.Mdata'></span><span id='topic+autoplot.Mdata'></span>

<h3>Description</h3>

<p>Functions to plot a time series from the M competition data sets, showing
both the training and test sections of the series.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'Mdata'
plot(x, xlim = c(tsp(x$x)[1], tsp(x$xx)[2]),
  ylim = range(x$x, x$xx), main = x$sn, xlab, ylab = "", ...)

## S3 method for class 'Mdata'
autoplot(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.Mdata_+3A_x">x</code>, <code id="plot.Mdata_+3A_object">object</code></td>
<td>
<p>A series of M-competition data</p>
</td></tr>
<tr><td><code id="plot.Mdata_+3A_xlim">xlim</code></td>
<td>
<p>Limits on x-axis</p>
</td></tr>
<tr><td><code id="plot.Mdata_+3A_ylim">ylim</code></td>
<td>
<p>Limits on y-axis</p>
</td></tr>
<tr><td><code id="plot.Mdata_+3A_main">main</code></td>
<td>
<p>Main title</p>
</td></tr>
<tr><td><code id="plot.Mdata_+3A_xlab">xlab</code></td>
<td>
<p>Label on x-axis</p>
</td></tr>
<tr><td><code id="plot.Mdata_+3A_ylab">ylab</code></td>
<td>
<p>Label on y-axis</p>
</td></tr>
<tr><td><code id="plot.Mdata_+3A_...">...</code></td>
<td>
<p>Other plotting arguments passed to <code>plot</code>. Ignored for
<code>autoplot</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>autoplot.Mdata</code> returns a ggplot2 object, while
<code>plot.Mdata</code> returns nothing. Both functions produce a time series plot
of the selected series.
</p>


<h3>Author(s)</h3>

<p>Rob Hyndman
</p>


<h3>See Also</h3>

<p><code><a href="#topic+M1">M1</a></code>, <code><a href="#topic+M3">M3</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(ggplot2)
plot(M1[[1]])
autoplot(M1$YAF3)
autoplot(M3[["N0647"]])
</code></pre>

<hr>
<h2 id='subset.Mcomp'>Subset of time series from the M Competitions</h2><span id='topic+subset.Mcomp'></span>

<h3>Description</h3>

<p><code>subset.Mcomp</code> returns a subset of the time series data from the M
Competitions. Subsets can be for specific periods, or specific types of data
or both.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'Mcomp'
subset(x, cond1, cond2, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="subset.Mcomp_+3A_x">x</code></td>
<td>
<p>M-competition data or a subset of M-competition data</p>
</td></tr>
<tr><td><code id="subset.Mcomp_+3A_cond1">cond1</code></td>
<td>
<p>Type or period of the data. Type is a character variable and
period could be character or numeric.</p>
</td></tr>
<tr><td><code id="subset.Mcomp_+3A_cond2">cond2</code></td>
<td>
<p>Optional second condition specifying type or period of the
data, depending on <code>cond1</code>.  If <code>cond1</code> denotes type then
<code>cond2</code> would denote period, but if <code>cond1</code> denotes period then
<code>cond2</code> would denote type.</p>
</td></tr>
<tr><td><code id="subset.Mcomp_+3A_...">...</code></td>
<td>
<p>Other arguments.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Possible values for <code>cond1</code> and <code>cond2</code> denoting period are 1, 4,
12, &quot;yearly&quot;, &quot;quarterly&quot;, &quot;monthly&quot; and &quot;other&quot;.
</p>
<p>If <code>cond1</code> or <code>cond2</code> equals 111, then the 111 series used in the
extended comparisons in the 1982 M-competition are selected.
</p>
<p>Possible values for <code>cond1</code> and <code>cond2</code> denoting type are &quot;macro&quot;,
&quot;micro&quot;, &quot;industry&quot;, &quot;finance&quot;, &quot;demographic&quot;, &quot;allother&quot;, &quot;macro1&quot;,
&quot;macro2&quot;, &quot;micro1&quot;, &quot;micro2&quot;, &quot;micro3&quot;. These correspond to the descriptions
used in the competitions. See the references for details.
</p>
<p>Partial matching used for both conditions.
</p>


<h3>Value</h3>

<p>An object of class <code>Mcomp</code> consisting of the selected series.
</p>


<h3>Author(s)</h3>

<p>Muhammad Akram and Rob Hyndman
</p>


<h3>References</h3>

<p>Makridakis, S., A. Andersen, R. Carbone, R. Fildes, M. Hibon, R.
Lewandowski, J. Newton, E. Parzen, and R. Winkler (1982) The accuracy of
extrapolation (time series) methods: results of a forecasting competition.
<em>Journal of Forecasting</em>, <b>1</b>, 111&ndash;153.
</p>
<p>Makridakis and Hibon (2000) The M3-competition: results, conclusions and
implications. <em>International Journal of Forecasting</em>, <b>16</b>,
451-476.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+M1">M1</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
M3.quarterly &lt;- subset(M3,4)
M1.yearly.industry &lt;- subset(M1,1,"industry")
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

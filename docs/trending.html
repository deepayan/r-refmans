<!DOCTYPE html><html lang="en"><head><title>Help for package trending</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {trending}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#accessors'><p>Accessors generics</p></a></li>
<li><a href='#fit'><p>Fit generic</p></a></li>
<li><a href='#fit.list'><p>Fit method list object</p></a></li>
<li><a href='#fit.trending_model'><p>Fit method for trending_model objects</p></a></li>
<li><a href='#predict.list'><p>Predict method for trending_model objects</p></a></li>
<li><a href='#predict.trending_fit'><p>Predict method for trending_fit object</p></a></li>
<li><a href='#predict.trending_fit_tbl'><p>Predict method for trending_fit_tbl object</p></a></li>
<li><a href='#predict.trending_model'><p>Predict method for trending_model objects</p></a></li>
<li><a href='#reexports'><p>Objects exported from other packages</p></a></li>
<li><a href='#trending_model'><p>Modeling interface</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Model Temporal Trends</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides a coherent interface to multiple modelling tools for
  fitting trends along with a standardised approach for generating confidence
  and prediction intervals.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/reconverse/trending">https://github.com/reconverse/trending</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/reconverse/trending/issues">https://github.com/reconverse/trending/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Imports:</td>
<td>ciTools, MASS, stats, tibble, vctrs, pillar</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, brms, BH, RcppEigen, rmarkdown, dplyr, outbreaks,
testthat (&ge; 3.0.0), ggplot2, patchwork, covr</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-04-03 13:52:51 UTC; thibaut</td>
</tr>
<tr>
<td>Author:</td>
<td>Tim Taylor <a href="https://orcid.org/0000-0002-8587-7113"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Dirk Schumacher [ctb],
  Thibaut Jombart [ctb, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Thibaut Jombart &lt;thibautjombart@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-04-03 19:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='accessors'>Accessors generics</h2><span id='topic+accessors'></span><span id='topic+get_result'></span><span id='topic+get_result.default'></span><span id='topic+get_result.trending_fit'></span><span id='topic+get_result.trending_predict'></span><span id='topic+get_result.trending_fit_tbl'></span><span id='topic+get_result.trending_predict_tbl'></span><span id='topic+get_warnings'></span><span id='topic+get_warnings.default'></span><span id='topic+get_warnings.trending_fit'></span><span id='topic+get_warnings.trending_predict'></span><span id='topic+get_warnings.trending_fit_tbl'></span><span id='topic+get_warnings.trending_predict_tbl'></span><span id='topic+get_errors'></span><span id='topic+get_errors.default'></span><span id='topic+get_errors.trending_fit'></span><span id='topic+get_errors.trending_predict'></span><span id='topic+get_errors.trending_fit_tbl'></span><span id='topic+get_errors.trending_predict_tbl'></span><span id='topic+get_fitted_model'></span><span id='topic+get_fitted_model.default'></span><span id='topic+get_fitted_model.trending_fit'></span><span id='topic+get_fitted_model.trending_fit_tbl'></span><span id='topic+get_fitted_data'></span><span id='topic+get_fitted_data.default'></span><span id='topic+get_fitted_data.trending_fit'></span><span id='topic+get_fitted_data.trending_fit_tbl'></span><span id='topic+get_formula'></span><span id='topic+get_formula.default'></span><span id='topic+get_formula.trending_model'></span><span id='topic+get_formula.tranding_model'></span><span id='topic+get_formula.trending_fit'></span><span id='topic+get_formula.tranding_fit'></span><span id='topic+get_formula.trending_fit_tbl'></span><span id='topic+get_response'></span><span id='topic+get_response.default'></span><span id='topic+get_response.trending_model'></span><span id='topic+get_response.trending_fit'></span><span id='topic+get_response.trending_fit_tbl'></span><span id='topic+get_response.trending_prediction'></span><span id='topic+get_response.trending_predict'></span><span id='topic+get_response.trending_predict_tbl'></span><span id='topic+get_predictors'></span><span id='topic+get_predictors.default'></span><span id='topic+get_predictors.trending_model'></span><span id='topic+get_predictors.trending_fit'></span><span id='topic+get_predictors.trending_fit_tbl'></span><span id='topic+get_predictors.trending_prediction'></span><span id='topic+get_predictors.trending_predict'></span><span id='topic+get_predictors.trending_predict_tbl'></span><span id='topic+get_estimate'></span><span id='topic+get_estimate.default'></span><span id='topic+get_estimate.trending_prediction'></span><span id='topic+get_estimate.trending_predict'></span><span id='topic+get_estimate.trending_predict_tbl'></span>

<h3>Description</h3>

<p>Generics for accessing model information.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_result(x, ...)

## Default S3 method:
get_result(x, ...)

## S3 method for class 'trending_fit'
get_result(x, ...)

## S3 method for class 'trending_predict'
get_result(x, ...)

## S3 method for class 'trending_fit_tbl'
get_result(x, ...)

## S3 method for class 'trending_predict_tbl'
get_result(x, ...)

get_warnings(x, ...)

## Default S3 method:
get_warnings(x, ...)

## S3 method for class 'trending_fit'
get_warnings(x, ...)

## S3 method for class 'trending_predict'
get_warnings(x, ...)

## S3 method for class 'trending_fit_tbl'
get_warnings(x, ...)

## S3 method for class 'trending_predict_tbl'
get_warnings(x, ...)

get_errors(x, ...)

## Default S3 method:
get_errors(x, ...)

## S3 method for class 'trending_fit'
get_errors(x, ...)

## S3 method for class 'trending_predict'
get_errors(x, ...)

## S3 method for class 'trending_fit_tbl'
get_errors(x, ...)

## S3 method for class 'trending_predict_tbl'
get_errors(x, ...)

get_fitted_model(x, ...)

## Default S3 method:
get_fitted_model(x, ...)

## S3 method for class 'trending_fit'
get_fitted_model(x, ...)

## S3 method for class 'trending_fit_tbl'
get_fitted_model(x, ...)

get_fitted_data(x, ...)

## Default S3 method:
get_fitted_data(x, ...)

## S3 method for class 'trending_fit'
get_fitted_data(x, ...)

## S3 method for class 'trending_fit_tbl'
get_fitted_data(x, ...)

get_formula(x, ...)

## Default S3 method:
get_formula(x, ...)

## S3 method for class 'trending_model'
get_formula(x, ...)

## S3 method for class 'trending_fit'
get_formula(x, ...)

## S3 method for class 'trending_fit_tbl'
get_formula(x, ...)

get_response(x, ...)

## Default S3 method:
get_response(x, ...)

## S3 method for class 'trending_model'
get_response(x, ...)

## S3 method for class 'trending_fit'
get_response(x, ...)

## S3 method for class 'trending_fit_tbl'
get_response(x, ...)

## S3 method for class 'trending_prediction'
get_response(x, ...)

## S3 method for class 'trending_predict'
get_response(x, ...)

## S3 method for class 'trending_predict_tbl'
get_response(x, ...)

get_predictors(x, ...)

## Default S3 method:
get_predictors(x, ...)

## S3 method for class 'trending_model'
get_predictors(x, ...)

## S3 method for class 'trending_fit'
get_predictors(x, ...)

## S3 method for class 'trending_fit_tbl'
get_predictors(x, ...)

## S3 method for class 'trending_prediction'
get_predictors(x, ...)

## S3 method for class 'trending_predict'
get_predictors(x, ...)

## S3 method for class 'trending_predict_tbl'
get_predictors(x, ...)

get_estimate(x, ...)

## Default S3 method:
get_estimate(x, ...)

## S3 method for class 'trending_prediction'
get_estimate(x, ...)

## S3 method for class 'trending_predict'
get_estimate(x, ...)

## S3 method for class 'trending_predict_tbl'
get_estimate(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="accessors_+3A_x">x</code></td>
<td>
<p>An <span class="rlang"><b>R</b></span> object.</p>
</td></tr>
<tr><td><code id="accessors_+3A_...">...</code></td>
<td>
<p>Not currently used by any methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Methods are provided for  <code>trending_model</code>, <code>trending_fit</code>,
<code>trending_fit_tbl</code>, <code>trending_predict</code>, and <code>trending_predict_tbl</code> objects.
</p>


<h3>Value</h3>


<ul>
<li> <p><code>get_result()</code>: the captured output.
</p>
</li>
<li> <p><code>get_warnings()</code>: the captured warnings.
</p>
</li>
<li> <p><code>get_errors()</code>: the captured warnings.
</p>
</li>
<li> <p><code>get_fitted_data</code>: The underlying data used to fit the model.
</p>
</li>
<li> <p><code>get_fitted_model()</code>: The underlying fitted model.
</p>
</li>
<li> <p><code>get_formula()</code>: the formula used to model temporal trends.
</p>
</li>
<li> <p><code>get_response()</code>: the response variable of the underlying model.
</p>
</li>
<li> <p><code>get_predictors()</code>: the predictor variable(s) of the underlying model.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>x = rnorm(100, mean = 0)
y = rpois(n = 100, lambda = exp(1.5 + 0.5*x))
dat &lt;- data.frame(x = x, y = y)
poisson_model &lt;- glm_model(y ~ x , family = "poisson")
fitted_poisson &lt;- fit(poisson_model, dat)

get_fitted_model(fitted_poisson)
get_formula(fitted_poisson)
get_response(fitted_poisson)
get_predictors(fitted_poisson)

</code></pre>

<hr>
<h2 id='fit'>Fit generic</h2><span id='topic+fit'></span><span id='topic+fit.default'></span>

<h3>Description</h3>

<p><code>fit()</code> is a generic to fit a specified model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fit(x, data, ...)

## Default S3 method:
fit(x, data, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fit_+3A_x">x</code></td>
<td>
<p>An <span class="rlang"><b>R</b></span> object</p>
</td></tr>
<tr><td><code id="fit_+3A_data">data</code></td>
<td>
<p>A data frame containing the data to fit.</p>
</td></tr>
<tr><td><code id="fit_+3A_...">...</code></td>
<td>
<p>Arguments passed to underlying methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The value returned depends on the class of the input argument.
</p>


<h3>Author(s)</h3>

<p>Tim Taylor
</p>


<h3>See Also</h3>

<p><code><a href="#topic+fit.trending_model">fit.trending_model()</a></code> and <code><a href="#topic+fit.list">fit.list()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x = rnorm(100, mean = 0)
y = rpois(n = 100, lambda = exp(1.5 + 0.5*x))
dat &lt;- data.frame(x = x, y = y)

poisson_model &lt;- glm_model(y ~ x , family = poisson)
negbin_model &lt;- glm_nb_model(y ~ x)

fit(poisson_model, dat)
fit(negbin_model, dat)
fit(list(poisson_model, negbin_model), dat)
fit(list(pm = poisson_model, nm = negbin_model), dat)

</code></pre>

<hr>
<h2 id='fit.list'>Fit method list object</h2><span id='topic+fit.list'></span>

<h3>Description</h3>

<p>Fits a list of trending_model objects to the given input data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'list'
fit(x, data, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fit.list_+3A_x">x</code></td>
<td>
<p>A list of trending_model objects</p>
</td></tr>
<tr><td><code id="fit.list_+3A_data">data</code></td>
<td>
<p>A data frame containing the data to fit.</p>
</td></tr>
<tr><td><code id="fit.list_+3A_...">...</code></td>
<td>
<p>Not currently used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>trending_fit_tbl</code> object which is a <code><a href="tibble.html#topic+tibble">tibble</a></code>
subclass with one row for each model and entries:
</p>

<ul>
<li><p> model_name (optional): If the input is a named list then the name is
extracted.
</p>
</li>
<li><p> result: the resulting fit from calling the underlying model
directly, i.e.
</p>

<ul>
<li> <p><code>lm_model</code>: a fitted model object of class <code><a href="stats.html#topic+lm">lm</a></code>
</p>
</li>
<li> <p><code>glm_model</code>: a fitted model object of class <code><a href="stats.html#topic+glm">glm</a></code>
</p>
</li>
<li> <p><code>glm_nb_model</code>: a fitted model object of class <code><a href="MASS.html#topic+glm.nb">negbin</a></code>
</p>
</li>
<li> <p><code>brm_model</code>: An object of class <code><a href="brms.html#topic+brm">brmsfit</a></code>
</p>
</li></ul>

<p><code>NULL</code> if fitting fails.
</p>
</li>
<li><p> warnings: any warnings generated during fitting
</p>
</li>
<li><p> errors: any errors generated during fitting
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Tim Taylor
</p>


<h3>See Also</h3>

<p><code><a href="#topic+fit.trending_model">fit.trending_model()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x = rnorm(100, mean = 0)
y = rpois(n = 100, lambda = exp(1.5 + 0.5*x))
dat &lt;- data.frame(x = x, y = y)
poisson_model &lt;- glm_model(y ~ x , family = poisson)
negbin_model &lt;- glm_nb_model(y ~ x)

fit(list(poisson_model, negbin_model), dat)
fit(list(pm = poisson_model, nm = negbin_model), dat)

</code></pre>

<hr>
<h2 id='fit.trending_model'>Fit method for trending_model objects</h2><span id='topic+fit.trending_model'></span>

<h3>Description</h3>

<p>Fits the specified model to the input data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'trending_model'
fit(x, data, as_tibble = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fit.trending_model_+3A_x">x</code></td>
<td>
<p>An <span class="rlang"><b>R</b></span> object</p>
</td></tr>
<tr><td><code id="fit.trending_model_+3A_data">data</code></td>
<td>
<p>A data frame containing the data to fit.</p>
</td></tr>
<tr><td><code id="fit.trending_model_+3A_as_tibble">as_tibble</code></td>
<td>
<p>Should the output be converted to a tibble subclass.</p>
</td></tr>
<tr><td><code id="fit.trending_model_+3A_...">...</code></td>
<td>
<p>Not currently used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>as_tibble = FALSE</code>, then a <code>trending_fit</code> object is returned.
This is a list subclass with entries:
</p>

<ul>
<li><p> result: the resulting fit from calling the underlying model
directly, i.e.
</p>

<ul>
<li> <p><code>lm_model</code>: a fitted model object of class <code><a href="stats.html#topic+lm">lm</a></code>
</p>
</li>
<li> <p><code>glm_model</code>: a fitted model object of class <code><a href="stats.html#topic+glm">glm</a></code>
</p>
</li>
<li> <p><code>glm_nb_model</code>: a fitted model object of class <code><a href="MASS.html#topic+glm.nb">negbin</a></code>
</p>
</li>
<li> <p><code>brm_model</code>: An object of class <code><a href="brms.html#topic+brm">brmsfit</a></code>
</p>
</li></ul>

<p><code>NULL</code> if fitting fails.
</p>
</li>
<li><p> warnings: any warnings generated during fitting
</p>
</li>
<li><p> errors: any errors generated during fitting
</p>
</li></ul>

<p>If <code>as_tibble = TRUE</code>, a <code>trending_fit_tbl</code> object which is a
<code><a href="tibble.html#topic+tibble">tibble</a></code> subclass with one row for each model and
columns 'result', 'warnings' and 'errors' with contents as above.
</p>


<h3>Author(s)</h3>

<p>Tim Taylor
</p>


<h3>See Also</h3>

<p><code><a href="#topic+fit.list">fit.list()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x = rnorm(100, mean = 0)
y = rpois(n = 100, lambda = exp(1.5 + 0.5*x))
dat &lt;- data.frame(x = x, y = y)

poisson_model &lt;- glm_model(y ~ x , family = poisson)
negbin_model &lt;- glm_nb_model(y ~ x)

fit(poisson_model, dat)
fit(negbin_model, dat)
fit(list(poisson_model, negbin_model), dat)
fit(list(pm = poisson_model, nm = negbin_model), dat)

</code></pre>

<hr>
<h2 id='predict.list'>Predict method for trending_model objects</h2><span id='topic+predict.list'></span>

<h3>Description</h3>

<p>Adds estimated values and associated confidence and/or prediction intervals
to data based on trending_model fit.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'list'
predict(
  object,
  data,
  name = "estimate",
  alpha = 0.05,
  add_ci = TRUE,
  ci_names = c("lower_ci", "upper_ci"),
  add_pi = TRUE,
  pi_names = c("lower_pi", "upper_pi"),
  simulate_pi = FALSE,
  sims = 2000,
  uncertain = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="predict.list_+3A_object">object</code></td>
<td>
<p>A list of <code><a href="#topic+trending_model">trending_model</a></code> objects.</p>
</td></tr>
<tr><td><code id="predict.list_+3A_data">data</code></td>
<td>
<p>A <code>data.frame</code> containing data to which the model is to be fit
and estimates derived.</p>
</td></tr>
<tr><td><code id="predict.list_+3A_name">name</code></td>
<td>
<p>Character vector of length one giving the name to use for the
calculated estimate.</p>
</td></tr>
<tr><td><code id="predict.list_+3A_alpha">alpha</code></td>
<td>
<p>The alpha threshold to be used for prediction intervals,
defaulting to 0.05, i.e. 95% prediction intervals are derived.</p>
</td></tr>
<tr><td><code id="predict.list_+3A_add_ci">add_ci</code></td>
<td>
<p>Should a confidence interval be added to the output.
Default TRUE.</p>
</td></tr>
<tr><td><code id="predict.list_+3A_ci_names">ci_names</code></td>
<td>
<p>Names to use for the resulting confidence intervals.</p>
</td></tr>
<tr><td><code id="predict.list_+3A_add_pi">add_pi</code></td>
<td>
<p>Should a prediction interval be added to the output.
Default TRUE.</p>
</td></tr>
<tr><td><code id="predict.list_+3A_pi_names">pi_names</code></td>
<td>
<p>Names to use for the resulting prediction intervals.</p>
</td></tr>
<tr><td><code id="predict.list_+3A_simulate_pi">simulate_pi</code></td>
<td>
<p>Should the prediction intervals for glm models be
simulated. If TRUE, default, <code>predict()</code> uses the <code><a href="ciTools.html#topic+add_pi">ciTools::add_pi()</a></code>
function to generate the intervals.</p>
</td></tr>
<tr><td><code id="predict.list_+3A_sims">sims</code></td>
<td>
<p>The number of simulations to run when simulating prediction
intervals for a glm model.</p>
</td></tr>
<tr><td><code id="predict.list_+3A_uncertain">uncertain</code></td>
<td>
<p>Only used for glm models and when <code>simulate_pi = FALSE</code>.
Default TRUE.  If FALSE uncertainty in the fitted parameters is ignored
when generating the parametric prediction intervals.</p>
</td></tr>
<tr><td><code id="predict.list_+3A_...">...</code></td>
<td>
<p>Not currently used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>trending_predict_tbl</code> object which is a
<code><a href="tibble.html#topic+tibble">tibble</a></code> subclass with one row per model and columns:
</p>

<ul>
<li><p> result: the input data frame with additional estimates and, optionally,
confidence and or prediction intervals. <code>NULL</code> if the associated
<code>predict</code> method fails.
</p>
</li>
<li><p> warnings: any warnings generated during prediction.
</p>
</li>
<li><p> errors: any errors generated during prediction.
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Tim Taylor
</p>


<h3>See Also</h3>

<p><code><a href="#topic+predict.trending_model">predict.trending_model()</a></code>, <code><a href="#topic+predict.trending_fit">predict.trending_fit()</a></code>,
<code><a href="#topic+predict.trending_fit_tbl">predict.trending_fit_tbl()</a></code>,
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x = rnorm(100, mean = 0)
y = rpois(n = 100, lambda = exp(1.5 + 0.5*x))
dat &lt;- data.frame(x = x, y = y)
poisson_model &lt;- glm_model(y ~ x , family = "poisson")
negbin_model &lt;- glm_nb_model(y ~ x)
predict(list(poisson_model, negbin_model), dat)
predict(list(pm = poisson_model, nm = negbin_model), dat)

</code></pre>

<hr>
<h2 id='predict.trending_fit'>Predict method for trending_fit object</h2><span id='topic+predict.trending_fit'></span>

<h3>Description</h3>

<p>Adds estimated values and associated confidence and/or prediction intervals
to trending_fit objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'trending_fit'
predict(
  object,
  new_data,
  name = "estimate",
  alpha = 0.05,
  add_ci = TRUE,
  ci_names = c("lower_ci", "upper_ci"),
  add_pi = TRUE,
  pi_names = c("lower_pi", "upper_pi"),
  simulate_pi = FALSE,
  sims = 2000,
  uncertain = TRUE,
  as_tibble = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="predict.trending_fit_+3A_object">object</code></td>
<td>
<p>A <code><a href="#topic+fit.trending_model">trending_fit</a></code> object.</p>
</td></tr>
<tr><td><code id="predict.trending_fit_+3A_new_data">new_data</code></td>
<td>
<p>A <code>data.frame</code> containing data for which estimates are to be
derived. If missing, the model frame from the fit data will be used.</p>
</td></tr>
<tr><td><code id="predict.trending_fit_+3A_name">name</code></td>
<td>
<p>Character vector of length one giving the name to use for the
calculated estimate.</p>
</td></tr>
<tr><td><code id="predict.trending_fit_+3A_alpha">alpha</code></td>
<td>
<p>The alpha threshold to be used for prediction intervals,
defaulting to 0.05, i.e. 95% prediction intervals are derived.</p>
</td></tr>
<tr><td><code id="predict.trending_fit_+3A_add_ci">add_ci</code></td>
<td>
<p>Should a confidence interval be added to the output.
Default TRUE.</p>
</td></tr>
<tr><td><code id="predict.trending_fit_+3A_ci_names">ci_names</code></td>
<td>
<p>Names to use for the resulting confidence intervals.</p>
</td></tr>
<tr><td><code id="predict.trending_fit_+3A_add_pi">add_pi</code></td>
<td>
<p>Should a prediction interval be added to the output.
Default TRUE.</p>
</td></tr>
<tr><td><code id="predict.trending_fit_+3A_pi_names">pi_names</code></td>
<td>
<p>Names to use for the resulting prediction intervals.</p>
</td></tr>
<tr><td><code id="predict.trending_fit_+3A_simulate_pi">simulate_pi</code></td>
<td>
<p>Should the prediction intervals for glm models be
simulated. If TRUE, default, <code>predict()</code> uses the <code><a href="ciTools.html#topic+add_pi">ciTools::add_pi()</a></code>
function to generate the intervals.</p>
</td></tr>
<tr><td><code id="predict.trending_fit_+3A_sims">sims</code></td>
<td>
<p>The number of simulations to run when simulating prediction
intervals for a glm model.</p>
</td></tr>
<tr><td><code id="predict.trending_fit_+3A_uncertain">uncertain</code></td>
<td>
<p>Only used for glm models and when <code>simulate_pi = FALSE</code>.
Default TRUE.  If FALSE uncertainty in the fitted parameters is ignored
when generating the parametric prediction intervals.</p>
</td></tr>
<tr><td><code id="predict.trending_fit_+3A_as_tibble">as_tibble</code></td>
<td>
<p>Should the output be converted to a tibble subclass.</p>
</td></tr>
<tr><td><code id="predict.trending_fit_+3A_...">...</code></td>
<td>
<p>Not currently used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>as_tibble = FALSE</code>, a <code>trending_predict</code> object, which is a list
subclass, with entries:
</p>

<ul>
<li><p> result: the input data frame with additional estimates and, optionally,
confidence and or prediction intervals. <code>NULL</code> if the associated
<code>predict</code> method fails.
</p>
</li>
<li><p> warnings: any warnings generated during prediction.
</p>
</li>
<li><p> errors: any errors generated during prediction.
</p>
</li></ul>

<p>If <code>as_tibble = TRUE</code>, a <code>trending_predict_tbl</code> object which is a
<code><a href="tibble.html#topic+tibble">tibble</a></code> subclass with one row per model and columns
'result', 'warnings' and 'errors' with contents as above.
</p>


<h3>Author(s)</h3>

<p>Tim Taylor
</p>


<h3>See Also</h3>

<p><code><a href="#topic+predict.trending_fit_tbl">predict.trending_fit_tbl()</a></code> and <code><a href="#topic+predict.trending_model">predict.trending_model()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x = rnorm(100, mean = 0)
y = rpois(n = 100, lambda = exp(1.5 + 0.5*x))
dat &lt;- data.frame(x = x, y = y)
poisson_model &lt;- glm_model(y ~ x , family = "poisson")
fitted_poisson &lt;- fit(poisson_model, dat)
predict(fitted_poisson)
predict(fitted_poisson, as_tibble = FALSE)

</code></pre>

<hr>
<h2 id='predict.trending_fit_tbl'>Predict method for trending_fit_tbl object</h2><span id='topic+predict.trending_fit_tbl'></span>

<h3>Description</h3>

<p>Adds estimated values and associated confidence and/or prediction intervals
to trending_fit_tbl objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'trending_fit_tbl'
predict(
  object,
  new_data,
  name = "estimate",
  alpha = 0.05,
  add_ci = TRUE,
  ci_names = c("lower_ci", "upper_ci"),
  add_pi = TRUE,
  pi_names = c("lower_pi", "upper_pi"),
  simulate_pi = FALSE,
  sims = 2000,
  uncertain = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="predict.trending_fit_tbl_+3A_object">object</code></td>
<td>
<p>A <code><a href="#topic+fit.list">trending_fit_tbl</a></code> object.</p>
</td></tr>
<tr><td><code id="predict.trending_fit_tbl_+3A_new_data">new_data</code></td>
<td>
<p>A <code>data.frame</code> containing data for which estimates are to be
derived. If missing, the model frame from the fit data will be used.</p>
</td></tr>
<tr><td><code id="predict.trending_fit_tbl_+3A_name">name</code></td>
<td>
<p>Character vector of length one giving the name to use for the
calculated estimate.</p>
</td></tr>
<tr><td><code id="predict.trending_fit_tbl_+3A_alpha">alpha</code></td>
<td>
<p>The alpha threshold to be used for prediction intervals,
defaulting to 0.05, i.e. 95% prediction intervals are derived.</p>
</td></tr>
<tr><td><code id="predict.trending_fit_tbl_+3A_add_ci">add_ci</code></td>
<td>
<p>Should a confidence interval be added to the output.
Default TRUE.</p>
</td></tr>
<tr><td><code id="predict.trending_fit_tbl_+3A_ci_names">ci_names</code></td>
<td>
<p>Names to use for the resulting confidence intervals.</p>
</td></tr>
<tr><td><code id="predict.trending_fit_tbl_+3A_add_pi">add_pi</code></td>
<td>
<p>Should a prediction interval be added to the output.
Default TRUE.</p>
</td></tr>
<tr><td><code id="predict.trending_fit_tbl_+3A_pi_names">pi_names</code></td>
<td>
<p>Names to use for the resulting prediction intervals.</p>
</td></tr>
<tr><td><code id="predict.trending_fit_tbl_+3A_simulate_pi">simulate_pi</code></td>
<td>
<p>Should the prediction intervals for glm models be
simulated. If TRUE, default, <code>predict()</code> uses the <code><a href="ciTools.html#topic+add_pi">ciTools::add_pi()</a></code>
function to generate the intervals.</p>
</td></tr>
<tr><td><code id="predict.trending_fit_tbl_+3A_sims">sims</code></td>
<td>
<p>The number of simulations to run when simulating prediction
intervals for a glm model.</p>
</td></tr>
<tr><td><code id="predict.trending_fit_tbl_+3A_uncertain">uncertain</code></td>
<td>
<p>Only used for glm models and when <code>simulate_pi = FALSE</code>.
Default TRUE.  If FALSE uncertainty in the fitted parameters is ignored
when generating the parametric prediction intervals.</p>
</td></tr>
<tr><td><code id="predict.trending_fit_tbl_+3A_...">...</code></td>
<td>
<p>Not currently used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>trending_predict_tbl</code> object which is a
<code><a href="tibble.html#topic+tibble">tibble</a></code> subclass with one row per model and columns
'result', 'warnings' and 'errors' with contents as above.:
</p>

<ul>
<li><p> result: the input data frame with additional estimates and, optionally,
confidence and or prediction intervals. <code>NULL</code> if the associated
<code>predict</code> method fails.
</p>
</li>
<li><p> warnings: any warnings generated during prediction.
</p>
</li>
<li><p> errors: any errors generated during prediction.
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Tim Taylor
</p>


<h3>See Also</h3>

<p><code><a href="#topic+predict.trending_fit">predict.trending_fit()</a></code>, <code><a href="#topic+predict.trending_fit_tbl">predict.trending_fit_tbl()</a></code> and
<code><a href="#topic+predict.trending_model">predict.trending_model()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x = rnorm(100, mean = 0)
y = rpois(n = 100, lambda = exp(1.5 + 0.5*x))
dat &lt;- data.frame(x = x, y = y)
poisson_model &lt;- glm_model(y ~ x , family = "poisson")
negbin_model &lt;- glm_nb_model(y ~ x)
fitted_tbl &lt;- fit(list(poisson_model, negbin_model), dat)

predict(fitted_tbl)

</code></pre>

<hr>
<h2 id='predict.trending_model'>Predict method for trending_model objects</h2><span id='topic+predict.trending_model'></span>

<h3>Description</h3>

<p>Adds estimated values and associated confidence and/or prediction intervals
to data based on trending_model fit.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'trending_model'
predict(
  object,
  data,
  name = "estimate",
  alpha = 0.05,
  add_ci = TRUE,
  ci_names = c("lower_ci", "upper_ci"),
  add_pi = TRUE,
  pi_names = c("lower_pi", "upper_pi"),
  simulate_pi = FALSE,
  sims = 2000,
  uncertain = TRUE,
  as_tibble = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="predict.trending_model_+3A_object">object</code></td>
<td>
<p>A <code><a href="#topic+trending_model">trending_model</a></code> object.</p>
</td></tr>
<tr><td><code id="predict.trending_model_+3A_data">data</code></td>
<td>
<p>A <code>data.frame</code> containing data to which the model is to be fit
and estimates derived.</p>
</td></tr>
<tr><td><code id="predict.trending_model_+3A_name">name</code></td>
<td>
<p>Character vector of length one giving the name to use for the
calculated estimate.</p>
</td></tr>
<tr><td><code id="predict.trending_model_+3A_alpha">alpha</code></td>
<td>
<p>The alpha threshold to be used for prediction intervals,
defaulting to 0.05, i.e. 95% prediction intervals are derived.</p>
</td></tr>
<tr><td><code id="predict.trending_model_+3A_add_ci">add_ci</code></td>
<td>
<p>Should a confidence interval be added to the output.
Default TRUE.</p>
</td></tr>
<tr><td><code id="predict.trending_model_+3A_ci_names">ci_names</code></td>
<td>
<p>Names to use for the resulting confidence intervals.</p>
</td></tr>
<tr><td><code id="predict.trending_model_+3A_add_pi">add_pi</code></td>
<td>
<p>Should a prediction interval be added to the output.
Default TRUE.</p>
</td></tr>
<tr><td><code id="predict.trending_model_+3A_pi_names">pi_names</code></td>
<td>
<p>Names to use for the resulting prediction intervals.</p>
</td></tr>
<tr><td><code id="predict.trending_model_+3A_simulate_pi">simulate_pi</code></td>
<td>
<p>Should the prediction intervals for glm models be
simulated. If TRUE, default, <code>predict()</code> uses the <code><a href="ciTools.html#topic+add_pi">ciTools::add_pi()</a></code>
function to generate the intervals.</p>
</td></tr>
<tr><td><code id="predict.trending_model_+3A_sims">sims</code></td>
<td>
<p>The number of simulations to run when simulating prediction
intervals for a glm model.</p>
</td></tr>
<tr><td><code id="predict.trending_model_+3A_uncertain">uncertain</code></td>
<td>
<p>Only used for glm models and when <code>simulate_pi = FALSE</code>.
Default TRUE.  If FALSE uncertainty in the fitted parameters is ignored
when generating the parametric prediction intervals.</p>
</td></tr>
<tr><td><code id="predict.trending_model_+3A_as_tibble">as_tibble</code></td>
<td>
<p>Should the output be converted to a tibble subclass.</p>
</td></tr>
<tr><td><code id="predict.trending_model_+3A_...">...</code></td>
<td>
<p>Not currently used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>as_tibble = FALSE</code>, a <code>trending_predict</code> object, which is a list
subclass, with entries:
</p>

<ul>
<li><p> result: the input data frame with additional estimates and, optionally,
confidence and or prediction intervals. <code>NULL</code> if the associated
<code>predict</code> method fails.
</p>
</li>
<li><p> warnings: any warnings generated during prediction.
</p>
</li>
<li><p> errors: any errors generated during prediction.
</p>
</li></ul>

<p>If <code>as_tibble = TRUE</code>, a <code>trending_predict_tbl</code> object which is a
<code><a href="tibble.html#topic+tibble">tibble</a></code> subclass with one row per model and columns
'result', 'warnings' and 'errors' with contents as above.
</p>


<h3>Author(s)</h3>

<p>Tim Taylor
</p>


<h3>See Also</h3>

<p><code><a href="#topic+predict.trending_fit">predict.trending_fit()</a></code> and <code><a href="#topic+predict.trending_fit_tbl">predict.trending_fit_tbl()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x = rnorm(100, mean = 0)
y = rpois(n = 100, lambda = exp(1.5 + 0.5*x))
dat &lt;- data.frame(x = x, y = y)
poisson_model &lt;- glm_model(y ~ x , family = "poisson")
predict(poisson_model, dat)
predict(poisson_model, dat, as_tibble = FALSE)

</code></pre>

<hr>
<h2 id='reexports'>Objects exported from other packages</h2><span id='topic+reexports'></span><span id='topic+glm.nb'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>MASS</dt><dd><p><code><a href="MASS.html#topic+glm.nb">glm.nb</a></code></p>
</dd>
</dl>

<hr>
<h2 id='trending_model'>Modeling interface</h2><span id='topic+trending_model'></span><span id='topic+trending_models'></span><span id='topic+lm_model'></span><span id='topic+glm_model'></span><span id='topic+glm_nb_model'></span><span id='topic+brm_model'></span>

<h3>Description</h3>

<p>These functions wrap various modelling tools to ensure a consistent input
for <em>trending</em> functions. They work by capturing the underlying model call
and decoupling it from the data specification. This makes it easy to use
the same underlying model specification and fitting procedure across
different data sets. See details for available model interfaces.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lm_model(formula, ...)

glm_model(formula, family = gaussian, ...)

glm_nb_model(formula, ...)

brm_model(formula, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="trending_model_+3A_formula">formula</code></td>
<td>
<p>The formula of the model, with the response variable on the
left of a tilde symbol, and predictors on the right hand-side; variable
names used in the formula will need to be matched by columns in the <code>data</code>
input to other functions.</p>
</td></tr>
<tr><td><code id="trending_model_+3A_...">...</code></td>
<td>
<p>Further arguments passed to the underlying models with the
exception of <code>data</code>.</p>
</td></tr>
<tr><td><code id="trending_model_+3A_family">family</code></td>
<td>
<p>Link function to be used for the glm model.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The following interfaces are available:
</p>

<ul>
<li> <p><code>lm_model</code>: interface for linear models implemented in
<code><a href="stats.html#topic+lm">stats::lm()</a></code>.
</p>
</li>
<li> <p><code>glm_model</code>: interface for generalised linear models (GLMs) implemented in
<code><a href="stats.html#topic+glm">stats::glm()</a></code>.
</p>
</li>
<li> <p><code>glm_nb_model</code>: interface for negative binomial generalied linear models
implemented in <code><a href="MASS.html#topic+glm.nb">MASS::glm.nb()</a></code>.
</p>
</li>
<li> <p><code>brm_model</code>: interface for Bayesian regression models implemented in
<code><a href="brms.html#topic+brm">brms::brm()</a></code>.
</p>
</li></ul>

<p>These interfaces will accept the same inputs as the underlying model
functions but do not require, nor will they accept, a <code>data</code> argument.
Fitting is handled instead by the <code><a href="#topic+fit">fit()</a></code> generic and associated methods.
</p>


<h3>Value</h3>

<p>A <code>trending_model</code> object.
</p>


<h3>Author(s)</h3>

<p>Tim Taylor
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x = rnorm(100, mean = 0)
y = rpois(n = 100, lambda = exp(1.5 + 0.5*x))

poisson_model &lt;- glm_model(y ~ x , family = "poisson")
negbin_model &lt;- glm_nb_model(y ~ x)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

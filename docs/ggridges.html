<!DOCTYPE html><html lang="en"><head><title>Help for package ggridges</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ggridges}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#ggridges-package'><p>Ridgeline plots with ggplot2</p></a></li>
<li><a href='#Aus_athletes'><p>Australian athletes</p></a></li>
<li><a href='#Catalan_elections'><p>Results from Catalan regional elections (1980-2015)</p></a></li>
<li><a href='#geom_density_line'><p>Smoothed density estimates drawn with a ridgeline rather than area</p></a></li>
<li><a href='#geom_density_ridges'><p>Create ridgeline plot</p></a></li>
<li><a href='#geom_ridgeline'><p>Plot a ridgeline (line with filled area underneath)</p></a></li>
<li><a href='#geom_ridgeline_gradient'><p>Plot ridgelines and ridgeline plots with fill gradients along the x axis</p></a></li>
<li><a href='#geom_vridgeline'><p>Plot a vertical ridgeline (ridgeline rotated 90 degrees)</p></a></li>
<li><a href='#lincoln_weather'><p>Weather in Lincoln, Nebraska in 2016.</p></a></li>
<li><a href='#position_points_jitter'><p>Randomly jitter the points in a ridgeline plot</p></a></li>
<li><a href='#position_points_sina'><p>Randomly distribute points in a ridgeline plot between baseline and ridgeline</p></a></li>
<li><a href='#position_raincloud'><p>Create a cloud of randomly jittered points below a ridgeline plot</p></a></li>
<li><a href='#reduce'><p>Reduce a list to a single value by iteratively applying a binary function</p></a></li>
<li><a href='#scale_cyclical'><p>Create a discrete scale that cycles between values</p></a></li>
<li><a href='#scale_point'><p>Scales for point aesthetics</p></a></li>
<li><a href='#scale_vline'><p>Scales for vline aesthetics</p></a></li>
<li><a href='#stat_binline'><p>Stat for histogram ridgeline plots</p></a></li>
<li><a href='#stat_density_ridges'><p>Stat for density ridgeline plots</p></a></li>
<li><a href='#theme_ridges'><p>A custom theme specifically for use with ridgeline plots</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Ridgeline Plots in 'ggplot2'</td>
</tr>
<tr>
<td>Version:</td>
<td>0.5.6</td>
</tr>
<tr>
<td>Description:</td>
<td>Ridgeline plots provide a convenient way of visualizing changes in distributions over time or space. This package enables the creation of such plots in 'ggplot2'.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://wilkelab.org/ggridges/">https://wilkelab.org/ggridges/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/wilkelab/ggridges/issues">https://github.com/wilkelab/ggridges/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.2)</td>
</tr>
<tr>
<td>Imports:</td>
<td>ggplot2 (&ge; 3.4.0), grid (&ge; 3.0.0), scales (&ge; 0.4.1), withr
(&ge; 2.1.1)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | file LICENSE</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, dplyr, patchwork, ggplot2movies, forcats, knitr,
rmarkdown, testthat, vdiffr</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Collate:</td>
<td>'data.R' 'ggridges.R' 'geoms.R' 'geomsv.R' 'geoms-gradient.R'
'geom-density-line.R' 'position.R' 'scale-cyclical.R'
'scale-point.R' 'scale-vline.R' 'stats.R' 'theme.R'
'utils_ggplot2.R' 'utils.R'</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-01-23 01:28:20 UTC; clauswilke</td>
</tr>
<tr>
<td>Author:</td>
<td>Claus O. Wilke <a href="https://orcid.org/0000-0002-7470-9261"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Claus O. Wilke &lt;wilke@austin.utexas.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-01-23 05:40:10 UTC</td>
</tr>
</table>
<hr>
<h2 id='ggridges-package'>Ridgeline plots with ggplot2</h2><span id='topic+ggridges'></span><span id='topic+ggridges-package'></span>

<h3>Description</h3>

<p>Please see the package vignettes for usage instructions. For a quick start,
check out the examples for <code><a href="#topic+geom_density_ridges">geom_density_ridges()</a></code>.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Claus O. Wilke <a href="mailto:wilke@austin.utexas.edu">wilke@austin.utexas.edu</a> (<a href="https://orcid.org/0000-0002-7470-9261">ORCID</a>)
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://wilkelab.org/ggridges/">https://wilkelab.org/ggridges/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/wilkelab/ggridges/issues">https://github.com/wilkelab/ggridges/issues</a>
</p>
</li></ul>


<hr>
<h2 id='Aus_athletes'>Australian athletes</h2><span id='topic+Aus_athletes'></span>

<h3>Description</h3>

<p>This dataset is equivalent to <code>ais</code> from the <code>DAAG</code> package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Aus_athletes
</code></pre>


<h3>Format</h3>

<p>An object of class <code>data.frame</code> with 202 rows and 13 columns.
</p>


<h3>References</h3>

<p>Telford, R.D. and Cunningham, R.B. 1991. Sex, sport and body-size dependency of hematology in
highly trained athletes. Medicine and Science in Sports and Exercise 23: 788-794.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># none yet
</code></pre>

<hr>
<h2 id='Catalan_elections'>Results from Catalan regional elections (1980-2015)</h2><span id='topic+Catalan_elections'></span>

<h3>Description</h3>

<p>Data from Catalan regional elections for 949 municipalities, from 11 elections spanning the years
1980-2015. The data was obtained and processed from Idescat.cat by Marc Belzunces (Twitter: @marcbeldata).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Catalan_elections
</code></pre>


<h3>Format</h3>

<p>A tibble with 20764 rows and 4 variables:
</p>

<dl>
<dt><code>Municipality</code></dt><dd></dd>
<dt><code>Year</code></dt><dd></dd>
<dt><code>Option</code></dt><dd><p>The voter option; either &quot;Indy&quot; or &quot;Unionist&quot;</p>
</dd>
<dt><code>Percent</code></dt><dd><p>The percentage of the voters choosing the given option</p>
</dd>
</dl>


<hr>
<h2 id='geom_density_line'>Smoothed density estimates drawn with a ridgeline rather than area</h2><span id='topic+geom_density_line'></span><span id='topic+GeomDensityLine'></span>

<h3>Description</h3>

<p>This function is a drop-in replacement for ggplot2's <code>geom_density()</code>. The only difference is that
the geom draws a ridgeline (line with filled area underneath) rather than a polygon.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_density_line(
  mapping = NULL,
  data = NULL,
  stat = "density",
  position = "identity",
  ...,
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="geom_density_line_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="geom_density_line_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_density_line_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this
layer, either as a <code>ggproto</code> <code>Geom</code> subclass or as a string naming the
stat stripped of the <code>stat_</code> prefix (e.g. <code>"count"</code> rather than
<code>"stat_count"</code>)</p>
</td></tr>
<tr><td><code id="geom_density_line_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="geom_density_line_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer()</a></code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>colour = "red"</code> or <code>size = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
<tr><td><code id="geom_density_line_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_density_line_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="geom_density_line_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>See <code>geom_density()</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)
ggplot(diamonds, aes(carat)) +
  geom_density_line()

ggplot(diamonds, aes(carat)) +
  geom_density_line(adjust = 1/5)
ggplot(diamonds, aes(carat)) +
  geom_density_line(adjust = 5)

ggplot(diamonds, aes(depth, colour = cut)) +
  geom_density_line(alpha = 0.5) +
  xlim(55, 70)
ggplot(diamonds, aes(depth, fill = cut, colour = cut)) +
  geom_density_line(alpha = 0.1) +
  xlim(55, 70)
</code></pre>

<hr>
<h2 id='geom_density_ridges'>Create ridgeline plot</h2><span id='topic+geom_density_ridges'></span><span id='topic+GeomDensityRidges'></span><span id='topic+geom_density_ridges2'></span><span id='topic+GeomDensityRidges2'></span>

<h3>Description</h3>

<p><code>geom_density_ridges</code> arranges multiple density plots in a staggered fashion, as in the cover of the famous Joy Division album Unknown Pleasures.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_density_ridges(
  mapping = NULL,
  data = NULL,
  stat = "density_ridges",
  position = "points_sina",
  panel_scaling = TRUE,
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE,
  ...
)

geom_density_ridges2(
  mapping = NULL,
  data = NULL,
  stat = "density_ridges",
  position = "points_sina",
  panel_scaling = TRUE,
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="geom_density_ridges_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code>aes()</code> or
<code>aes_()</code>. If specified and <code>inherit.aes = TRUE</code> (the
default), it is combined with the default mapping at the top level of the
plot. You must supply <code>mapping</code> if there is no plot mapping.</p>
</td></tr>
<tr><td><code id="geom_density_ridges_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code>ggplot()</code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame.</code>, and
will be used as the layer data.</p>
</td></tr>
<tr><td><code id="geom_density_ridges_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this
layer, as a string.</p>
</td></tr>
<tr><td><code id="geom_density_ridges_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string, or the result of
a call to a position adjustment function.</p>
</td></tr>
<tr><td><code id="geom_density_ridges_+3A_panel_scaling">panel_scaling</code></td>
<td>
<p>If <code>TRUE</code>, the default, relative scaling is calculated separately
for each panel. If <code>FALSE</code>, relative scaling is calculated globally.</p>
</td></tr>
<tr><td><code id="geom_density_ridges_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_density_ridges_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.</p>
</td></tr>
<tr><td><code id="geom_density_ridges_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them.</p>
</td></tr>
<tr><td><code id="geom_density_ridges_+3A_...">...</code></td>
<td>
<p>other arguments passed on to <code>layer()</code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>color = "red"</code> or <code>linewidth = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>By default, this geom calculates densities from the point data mapped onto the x axis. If density calculation is
not wanted, use <code>stat="identity"</code> or use <code><a href="#topic+geom_ridgeline">geom_ridgeline</a></code>. The difference between <code>geom_density_ridges</code> and <code><a href="#topic+geom_ridgeline">geom_ridgeline</a></code>
is that <code>geom_density_ridges</code> will provide automatic scaling of the ridgelines (controlled by the <code>scale</code> aesthetic), whereas
<a href="#topic+geom_ridgeline">geom_ridgeline</a> will plot the data as is. Note that when you set <code>stat="identity"</code>, the <code>height</code> aesthetic must
be provided.
</p>
<p>Note that the default <code><a href="#topic+stat_density_ridges">stat_density_ridges</a></code> makes joint density estimation across all datasets. This may not generate
the desired result when using faceted plots. As an alternative, you can set <code>stat = "density"</code> to use <code>stat_density</code>.
In this case, it is required to add the aesthetic mapping <code>height = after_stat(density)</code> (see examples).
</p>


<h3>Aesthetics</h3>

<p>Required aesthetics are in bold.
</p>

<ul>
<li> <p><strong><code>x</code></strong>
</p>
</li>
<li> <p><strong><code>y</code></strong>
</p>
</li>
<li> <p><code>group</code> Defines the grouping. Not needed if a categorical variable is mapped onto <code>y</code>, but needed otherwise. Will typically be the same
variable as is mapped to <code>y</code>.
</p>
</li>
<li> <p><code>height</code> The height of each ridgeline at the respective x value. Automatically calculated and
provided by <code><a href="#topic+stat_density_ridges">stat_density_ridges</a></code> if the default stat is not changed.
</p>
</li>
<li> <p><code>scale</code> A scaling factor to scale the height of the ridgelines relative to the spacing between them.
A value of 1 indicates that the maximum point of any ridgeline touches the baseline right above, assuming
even spacing between baselines.
</p>
</li>
<li> <p><code>rel_min_height</code> Lines with heights below this cutoff will be removed. The cutoff is measured relative to the
overall maximum, so <code>rel_min_height=0.01</code> would remove everything that is 1\
ridgelines. Default is 0, so nothing is removed.
alpha
</p>
</li>
<li> <p><code>colour</code>, <code>fill</code>, <code>group</code>, <code>alpha</code>, <code>linetype</code>, <code>linewidth</code>, as in <code><a href="#topic+geom_ridgeline">geom_ridgeline</a></code>.
</p>
</li>
<li> <p><code>point_shape</code>, <code>point_colour</code>, <code>point_size</code>, <code>point_fill</code>, <code>point_alpha</code>, <code>point_stroke</code>, as in <code><a href="#topic+geom_ridgeline">geom_ridgeline</a></code>.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)

# set the `rel_min_height` argument to remove tails
ggplot(iris, aes(x = Sepal.Length, y = Species)) +
  geom_density_ridges(rel_min_height = 0.005) +
  scale_y_discrete(expand = c(0.01, 0)) +
  scale_x_continuous(expand = c(0.01, 0)) +
  theme_ridges()

# set the `scale` to determine how much overlap there is among the plots
ggplot(diamonds, aes(x = price, y = cut)) +
  geom_density_ridges(scale = 4) +
  scale_y_discrete(expand = c(0.01, 0)) +
  scale_x_continuous(expand = c(0.01, 0)) +
  theme_ridges()

# the same figure with colors, and using the ggplot2 density stat
ggplot(diamonds, aes(x = price, y = cut, fill = cut, height = after_stat(density))) +
  geom_density_ridges(scale = 4, stat = "density") +
  scale_y_discrete(expand = c(0.01, 0)) +
  scale_x_continuous(expand = c(0.01, 0)) +
  scale_fill_brewer(palette = 4) +
  theme_ridges() + theme(legend.position = "none")

# use geom_density_ridges2() instead of geom_density_ridges() for solid polygons
ggplot(iris, aes(x = Sepal.Length, y = Species)) +
  geom_density_ridges2() +
  scale_y_discrete(expand = c(0.01, 0)) +
  scale_x_continuous(expand = c(0.01, 0)) +
  theme_ridges()
</code></pre>

<hr>
<h2 id='geom_ridgeline'>Plot a ridgeline (line with filled area underneath)</h2><span id='topic+geom_ridgeline'></span><span id='topic+GeomRidgeline'></span>

<h3>Description</h3>

<p>Plots the sum of the <code>y</code> and <code>height</code> aesthetics versus <code>x</code>, filling the area between <code>y</code> and <code>y + height</code> with a color.
Thus, the data mapped onto y and onto height must be in the same units.
If you want relative scaling of the heights, you can use <code><a href="#topic+geom_density_ridges">geom_density_ridges</a></code> with <code>stat = "identity"</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_ridgeline(
  mapping = NULL,
  data = NULL,
  stat = "identity",
  position = "identity",
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="geom_ridgeline_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code>aes()</code> or
<code>aes_()</code>. If specified and <code>inherit.aes = TRUE</code> (the
default), it is combined with the default mapping at the top level of the
plot. You must supply <code>mapping</code> if there is no plot mapping.</p>
</td></tr>
<tr><td><code id="geom_ridgeline_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code>ggplot()</code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame.</code>, and
will be used as the layer data.</p>
</td></tr>
<tr><td><code id="geom_ridgeline_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this
layer, as a string.</p>
</td></tr>
<tr><td><code id="geom_ridgeline_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string, or the result of
a call to a position adjustment function.</p>
</td></tr>
<tr><td><code id="geom_ridgeline_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_ridgeline_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.</p>
</td></tr>
<tr><td><code id="geom_ridgeline_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them.</p>
</td></tr>
<tr><td><code id="geom_ridgeline_+3A_...">...</code></td>
<td>
<p>other arguments passed on to <code>layer()</code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>color = "red"</code> or <code>linewidth = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In addition to drawing ridgelines, this geom can also draw points if they are provided as part of the dataset.
The stat <code><a href="#topic+stat_density_ridges">stat_density_ridges()</a></code> takes advantage of this option to generate ridgeline plots with overlaid
jittered points.
</p>


<h3>Aesthetics</h3>

<p>Required aesthetics are in bold.
</p>

<ul>
<li> <p><strong><code>x</code></strong>
</p>
</li>
<li> <p><strong><code>y</code></strong>
</p>
</li>
<li> <p><strong><code>height</code></strong> Height of the ridgeline, measured from the respective <code>y</code> value. Assumed to be positive, though this is not required.
</p>
</li>
<li> <p><code>group</code> Defines the grouping. Required when the dataset contains multiple distinct ridgelines. Will typically be the same
variable as is mapped to <code>y</code>.
</p>
</li>
<li> <p><code>scale</code> A scaling factor to scale the height of the ridgelines.
A value of 1 indicates that the heights are taken as is. This aesthetic can be used to convert
<code>height</code> units into <code>y</code> units.
</p>
</li>
<li> <p><code>min_height</code> A height cutoff on the drawn ridgelines. All values that fall below this cutoff will be removed.
The main purpose of this cutoff is to remove long tails right at the baseline level, but other uses are possible.
The cutoff is applied before any height
scaling is applied via the <code>scale</code> aesthetic. Default is 0, so negative values are removed.
</p>
</li>
<li> <p><code>colour</code> Color of the ridgeline
</p>
</li>
<li> <p><code>fill</code> Fill color of the area under the ridgeline
</p>
</li>
<li> <p><code>alpha</code> Transparency level of <code>fill</code>. Not applied to <code>color</code>. If you want transparent lines, you can set their
color as RGBA value, e.g. #FF0000A0 for partially transparent red.
</p>
</li>
<li> <p><code>group</code> Grouping, to draw multiple ridgelines from one dataset
</p>
</li>
<li> <p><code>linetype</code> Linetype of the ridgeline
</p>
</li>
<li> <p><code>linewidth</code> Line thickness
</p>
</li>
<li> <p><code>point_shape</code>, <code>point_colour</code>, <code>point_size</code>, <code>point_fill</code>, <code>point_alpha</code>, <code>point_stroke</code> Aesthetics applied
to points drawn in addition to ridgelines.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)

d &lt;- data.frame(x = rep(1:5, 3), y = c(rep(0, 5), rep(1, 5), rep(3, 5)),
                height = c(0, 1, 3, 4, 0, 1, 2, 3, 5, 4, 0, 5, 4, 4, 1))
ggplot(d, aes(x, y, height = height, group = y)) + geom_ridgeline(fill="lightblue")

</code></pre>

<hr>
<h2 id='geom_ridgeline_gradient'>Plot ridgelines and ridgeline plots with fill gradients along the x axis</h2><span id='topic+geom_ridgeline_gradient'></span><span id='topic+GeomRidgelineGradient'></span><span id='topic+geom_density_ridges_gradient'></span><span id='topic+GeomDensityRidgesGradient'></span>

<h3>Description</h3>

<p>The geoms <code>geom_ridgeline_gradient</code> and <code>geom_density_ridges_gradient</code> work just like <code><a href="#topic+geom_ridgeline">geom_ridgeline</a></code> and <code><a href="#topic+geom_density_ridges">geom_density_ridges</a></code> except
that the <code>fill</code> aesthetic can vary along the x axis. Because filling with color gradients is fraught with issues,
these geoms should be considered experimental. Don't use them unless you really need to. Note that due to limitations
in R's graphics system, transparency (<code>alpha</code>) has to be disabled for gradient fills.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_ridgeline_gradient(
  mapping = NULL,
  data = NULL,
  stat = "identity",
  position = "identity",
  na.rm = FALSE,
  gradient_lwd = 0.5,
  show.legend = NA,
  inherit.aes = TRUE,
  ...
)

geom_density_ridges_gradient(
  mapping = NULL,
  data = NULL,
  stat = "density_ridges",
  position = "points_sina",
  panel_scaling = TRUE,
  na.rm = TRUE,
  gradient_lwd = 0.5,
  show.legend = NA,
  inherit.aes = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="geom_ridgeline_gradient_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code>aes()</code> or
<code>aes_()</code>. If specified and <code>inherit.aes = TRUE</code> (the
default), it is combined with the default mapping at the top level of the
plot. You must supply <code>mapping</code> if there is no plot mapping.</p>
</td></tr>
<tr><td><code id="geom_ridgeline_gradient_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code>ggplot()</code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame.</code>, and
will be used as the layer data.</p>
</td></tr>
<tr><td><code id="geom_ridgeline_gradient_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this
layer, as a string.</p>
</td></tr>
<tr><td><code id="geom_ridgeline_gradient_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string, or the result of
a call to a position adjustment function.</p>
</td></tr>
<tr><td><code id="geom_ridgeline_gradient_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_ridgeline_gradient_+3A_gradient_lwd">gradient_lwd</code></td>
<td>
<p>A parameter to needed to remove rendering artifacts inside the
rendered gradients. Should ideally be 0, but often needs to be around 0.5 or higher.</p>
</td></tr>
<tr><td><code id="geom_ridgeline_gradient_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.</p>
</td></tr>
<tr><td><code id="geom_ridgeline_gradient_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them.</p>
</td></tr>
<tr><td><code id="geom_ridgeline_gradient_+3A_...">...</code></td>
<td>
<p>other arguments passed on to <code>layer()</code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>color = "red"</code> or <code>linewidth = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
<tr><td><code id="geom_ridgeline_gradient_+3A_panel_scaling">panel_scaling</code></td>
<td>
<p>Argument only to <code>geom_density_ridges_gradient</code>. If <code>TRUE</code>, the default, relative scaling is calculated separately
for each panel. If <code>FALSE</code>, relative scaling is calculated globally.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)

# Example for `geom_ridgeline_gradient()`
d &lt;- data.frame(
  x = rep(1:5, 3) + c(rep(0, 5), rep(0.3, 5), rep(0.6, 5)),
  y = c(rep(0, 5), rep(1, 5), rep(3, 5)),
  height = c(0, 1, 3, 4, 0, 1, 2, 3, 5, 4, 0, 5, 4, 4, 1)
)
ggplot(d, aes(x, y, height = height, group = y, fill = factor(x+y))) +
  geom_ridgeline_gradient() +
  scale_fill_viridis_d(direction = -1) +
  theme(legend.position = 'none')

# Example for `geom_density_ridges_gradient()`
ggplot(lincoln_weather, aes(x = `Mean Temperature [F]`, y = `Month`, fill = stat(x))) +
  geom_density_ridges_gradient(scale = 3, rel_min_height = 0.01) +
  scale_x_continuous(expand = c(0, 0)) +
  scale_y_discrete(expand = c(0, 0)) +
  scale_fill_viridis_c(name = "Temp. [F]", option = "C") +
  coord_cartesian(clip = "off") +
  labs(title = 'Temperatures in Lincoln NE in 2016') +
  theme_ridges(font_size = 13, grid = TRUE) +
  theme(axis.title.y = element_blank())
</code></pre>

<hr>
<h2 id='geom_vridgeline'>Plot a vertical ridgeline (ridgeline rotated 90 degrees)</h2><span id='topic+geom_vridgeline'></span><span id='topic+GeomVRidgeline'></span>

<h3>Description</h3>

<p>Plots the sum of the <code>x</code> and <code>width</code> aesthetics versus <code>y</code>, filling the area between <code>x</code> and <code>x + width</code> with a color.
Just like <code><a href="#topic+geom_ridgeline">geom_ridgeline()</a></code>, but with y and x replaced.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_vridgeline(
  mapping = NULL,
  data = NULL,
  stat = "identity",
  position = "identity",
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="geom_vridgeline_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code>aes()</code> or
<code>aes_()</code>. If specified and <code>inherit.aes = TRUE</code> (the
default), it is combined with the default mapping at the top level of the
plot. You must supply <code>mapping</code> if there is no plot mapping.</p>
</td></tr>
<tr><td><code id="geom_vridgeline_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code>ggplot()</code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame.</code>, and
will be used as the layer data.</p>
</td></tr>
<tr><td><code id="geom_vridgeline_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this
layer, as a string.</p>
</td></tr>
<tr><td><code id="geom_vridgeline_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string, or the result of
a call to a position adjustment function.</p>
</td></tr>
<tr><td><code id="geom_vridgeline_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_vridgeline_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.</p>
</td></tr>
<tr><td><code id="geom_vridgeline_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them.</p>
</td></tr>
<tr><td><code id="geom_vridgeline_+3A_...">...</code></td>
<td>
<p>other arguments passed on to <code>layer()</code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>color = "red"</code> or <code>linewidth = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
</table>


<h3>Aesthetics</h3>

<p>Required aesthetics are in bold.
</p>

<ul>
<li> <p><strong><code>x</code></strong>
</p>
</li>
<li> <p><strong><code>y</code></strong>
</p>
</li>
<li> <p><strong><code>width</code></strong> Width of the ridgeline, measured from the respective <code>x</code> value. Assumed to be positive, though this is not required.
</p>
</li>
<li> <p><code>group</code> Defines the grouping. Required when the dataset contains multiple distinct ridgelines. Will typically be the same
variable as is mapped to <code>x</code>.
</p>
</li>
<li> <p><code>scale</code> A scaling factor to scale the widths of the ridgelines.
A value of 1 indicates that the widths are taken as is. This aesthetic can be used to convert
<code>width</code> units into <code>x</code> units.
</p>
</li>
<li> <p><code>min_width</code> A width cutoff on the drawn ridgelines. All values that fall below this cutoff will be removed.
The main purpose of this cutoff is to remove long tails right at the baseline level, but other uses are possible.
The cutoff is applied before any width
scaling is applied via the <code>scale</code> aesthetic. Default is 0, so negative values are removed.
</p>
</li>
<li> <p><code>color</code> Color of the ridgeline
</p>
</li>
<li> <p><code>fill</code> Fill color of the area under the ridgeline
</p>
</li>
<li> <p><code>alpha</code> Transparency level of <code>fill</code>. Not applied to <code>color</code>. If you want transparent lines, you can set their
color as RGBA value, e.g. #FF0000A0 for partially transparent red.
</p>
</li>
<li> <p><code>group</code> Grouping, to draw multiple ridgelines from one dataset
</p>
</li>
<li> <p><code>linetype</code> Linetype of the ridgeline
</p>
</li>
<li> <p><code>linewidth</code> Line thickness
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)

d &lt;- data.frame(y = rep(1:5, 3), x = c(rep(0, 5), rep(1, 5), rep(3, 5)),
                width = c(0, 1, 3, 4, 0, 1, 2, 3, 5, 4, 0, 5, 4, 4, 1))
ggplot(d, aes(x, y, width = width, group = x)) + geom_vridgeline(fill="lightblue")

ggplot(iris, aes(x=Species, y=Sepal.Width, width = after_stat(density), fill=Species)) +
  geom_vridgeline(stat="ydensity", trim=FALSE, alpha = 0.85, scale = 2)

</code></pre>

<hr>
<h2 id='lincoln_weather'>Weather in Lincoln, Nebraska in 2016.</h2><span id='topic+lincoln_weather'></span>

<h3>Description</h3>

<p>A dataset containing weather information from Lincoln, Nebraska, from 2016.
Originally downloaded from Weather Underground by Austin Wehrwein, http://austinwehrwein.com/.
The variables are listed below. Most are self-explanatory. Max, mean, and min measurements are
calculated relative to the specific day of measurement.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lincoln_weather
</code></pre>


<h3>Format</h3>

<p>A tibble with 366 rows and 24 variables:
</p>

<dl>
<dt><code>CST</code></dt><dd><p>Day of the measurement</p>
</dd>
<dt><code style="white-space: pre;">&#8288;Max Temperature [F]&#8288;</code></dt><dd></dd>
<dt><code style="white-space: pre;">&#8288;Mean Temperature [F]&#8288;</code></dt><dd></dd>
<dt><code style="white-space: pre;">&#8288;Min Temperature [F]&#8288;</code></dt><dd></dd>
<dt><code style="white-space: pre;">&#8288;Max Dew Point [F]&#8288;</code></dt><dd></dd>
<dt><code style="white-space: pre;">&#8288;Mean Dew Point [F]&#8288;</code></dt><dd></dd>
<dt><code style="white-space: pre;">&#8288;Min Dewpoint [F]&#8288;</code></dt><dd></dd>
<dt><code style="white-space: pre;">&#8288;Max Humidity&#8288;</code></dt><dd></dd>
<dt><code style="white-space: pre;">&#8288;Mean Humidity&#8288;</code></dt><dd></dd>
<dt><code style="white-space: pre;">&#8288;Min Humidity&#8288;</code></dt><dd></dd>
<dt><code style="white-space: pre;">&#8288;Max Sea Level Pressure [In]&#8288;</code></dt><dd></dd>
<dt><code style="white-space: pre;">&#8288;Mean Sea Level Pressure [In]&#8288;</code></dt><dd></dd>
<dt><code style="white-space: pre;">&#8288;Min Sea Level Pressure [In]&#8288;</code></dt><dd></dd>
<dt><code style="white-space: pre;">&#8288;Max Visibility [Miles]&#8288;</code></dt><dd></dd>
<dt><code style="white-space: pre;">&#8288;Mean Visibility [Miles]&#8288;</code></dt><dd></dd>
<dt><code style="white-space: pre;">&#8288;Min Visibility [Miles]&#8288;</code></dt><dd></dd>
<dt><code style="white-space: pre;">&#8288;Max Wind Speed [MPH]&#8288;</code></dt><dd></dd>
<dt><code style="white-space: pre;">&#8288;Mean Wind Speed[MPH]&#8288;</code></dt><dd></dd>
<dt><code style="white-space: pre;">&#8288;Max Gust Speed [MPH]&#8288;</code></dt><dd></dd>
<dt><code>Precipitation [In]</code></dt><dd></dd>
<dt><code>CloudCover</code></dt><dd></dd>
<dt><code>Events</code></dt><dd><p>Specific weather events, such as rain, snow, or fog</p>
</dd>
<dt><code>WindDir [Degrees]</code></dt><dd></dd>
<dt><code>Month</code></dt><dd><p>The month in which the measurement was taken</p>
</dd>
</dl>


<hr>
<h2 id='position_points_jitter'>Randomly jitter the points in a ridgeline plot</h2><span id='topic+position_points_jitter'></span><span id='topic+PositionPointsJitter'></span>

<h3>Description</h3>

<p>This is a position adjustment specifically for <code><a href="#topic+geom_density_ridges">geom_density_ridges()</a></code> and related geoms. It
only jitters the points drawn by these geoms, if any. If no points are present, the plot
remains unchanged. The effect is similar to <code>position_jitter()</code>: points are randomly shifted up and down
and/or left and right.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>position_points_jitter(
  width = 0,
  height = 0.2,
  yoffset = 0,
  adjust_vlines = FALSE,
  seed = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="position_points_jitter_+3A_width">width</code></td>
<td>
<p>Width for horizontal jittering. By default set to 0.</p>
</td></tr>
<tr><td><code id="position_points_jitter_+3A_height">height</code></td>
<td>
<p>Height for vertical jittering, applied in both directions (up and down). By default 0.2.</p>
</td></tr>
<tr><td><code id="position_points_jitter_+3A_yoffset">yoffset</code></td>
<td>
<p>Vertical offset applied in addition to jittering.</p>
</td></tr>
<tr><td><code id="position_points_jitter_+3A_adjust_vlines">adjust_vlines</code></td>
<td>
<p>If <code>TRUE</code>, adjusts vertical lines (as are drawn for
quantile lines, for example) to align with the point cloud.</p>
</td></tr>
<tr><td><code id="position_points_jitter_+3A_seed">seed</code></td>
<td>
<p>Random seed. If set to NULL, the current random number generator is used.
If set to NA, a new random random seed is generated. If set to a number, this
number is used as seed for jittering only.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other position adjustments for ridgeline plots: <code><a href="#topic+position_points_sina">position_points_sina</a></code>, <code><a href="#topic+position_raincloud">position_raincloud</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)

# default jittered points
ggplot(iris, aes(x = Sepal.Length, y = Species)) +
  geom_density_ridges(jittered_points = TRUE, position = "points_jitter", alpha = 0.7)

# simulating a rug
ggplot(iris, aes(x = Sepal.Length, y = Species)) +
  geom_density_ridges(jittered_points = TRUE, point_shape = '|', alpha = 0.7, point_size = 2,
                      position = position_points_jitter(width = 0.02, height = 0))
</code></pre>

<hr>
<h2 id='position_points_sina'>Randomly distribute points in a ridgeline plot between baseline and ridgeline</h2><span id='topic+position_points_sina'></span><span id='topic+PositionPointsSina'></span>

<h3>Description</h3>

<p>This is a position adjustment specifically for <code><a href="#topic+geom_density_ridges">geom_density_ridges()</a></code> and related geoms. It
only jitters the points drawn by these geoms, if any. If no points are present, the plot
remains unchanged. The effect is similar to a sina plot: Points are randomly distributed to fill
the entire shaded area representing the data density.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>position_points_sina(rel_min = 0.02, rel_max = 0.98, seed = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="position_points_sina_+3A_rel_min">rel_min</code></td>
<td>
<p>The relative minimum value at which a point can be placed.</p>
</td></tr>
<tr><td><code id="position_points_sina_+3A_rel_max">rel_max</code></td>
<td>
<p>The relative maximum value at which a point can be placed.</p>
</td></tr>
<tr><td><code id="position_points_sina_+3A_seed">seed</code></td>
<td>
<p>See <code><a href="#topic+position_points_jitter">position_points_jitter</a></code>.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other position adjustments for ridgeline plots: <code><a href="#topic+position_points_jitter">position_points_jitter</a></code>, <code><a href="#topic+position_raincloud">position_raincloud</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)

ggplot(iris, aes(x = Sepal.Length, y = Species)) +
  geom_density_ridges(jittered_points = TRUE, position = "points_sina", alpha = 0.7)
</code></pre>

<hr>
<h2 id='position_raincloud'>Create a cloud of randomly jittered points below a ridgeline plot</h2><span id='topic+position_raincloud'></span><span id='topic+PositionRaincloud'></span>

<h3>Description</h3>

<p>This is a position adjustment specifically for <code><a href="#topic+geom_density_ridges">geom_density_ridges()</a></code> and related geoms. It
only jitters the points drawn by these geoms, if any. If no points are present, the plot
remains unchanged. The effect is similar to <code><a href="#topic+position_points_jitter">position_points_jitter()</a></code>, only that by default the
points lie all underneath the baseline of each individual ridgeline.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>position_raincloud(
  width = 0,
  height = 0.4,
  ygap = 0.05,
  adjust_vlines = FALSE,
  seed = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="position_raincloud_+3A_width">width</code></td>
<td>
<p>Width for horizontal jittering. By default set to 0.</p>
</td></tr>
<tr><td><code id="position_raincloud_+3A_height">height</code></td>
<td>
<p>Total height of point cloud. By default 0.4.</p>
</td></tr>
<tr><td><code id="position_raincloud_+3A_ygap">ygap</code></td>
<td>
<p>Vertical gap between ridgeline baseline and point cloud.</p>
</td></tr>
<tr><td><code id="position_raincloud_+3A_adjust_vlines">adjust_vlines</code></td>
<td>
<p>If <code>TRUE</code>, adjusts vertical lines (as are drawn for
quantile lines, for example) to align with the point cloud.</p>
</td></tr>
<tr><td><code id="position_raincloud_+3A_seed">seed</code></td>
<td>
<p>Random seed. See <code><a href="#topic+position_points_jitter">position_points_jitter</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The idea for this position adjustment comes from Micah Allen's work
on raincloud plots (Allen et al. 2021).
</p>


<h3>References</h3>

<p>Allen, M., Poggiali, D., Whitaker, K., Marshall, T. R.,
van Langen, J., Kievit, R. A. (2021) Raincloud plots:
a multi-platform tool for robust data visualization
[version 2; peer review: 2 approved]. Wellcome Open Res 4:63.
</p>


<h3>See Also</h3>

<p>Other position adjustments for ridgeline plots: <code><a href="#topic+position_points_jitter">position_points_jitter</a></code>, <code><a href="#topic+position_points_sina">position_points_sina</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)

ggplot(iris, aes(x = Sepal.Length, y = Species)) +
  geom_density_ridges(jittered_points = TRUE, position = "raincloud", alpha = 0.7)
</code></pre>

<hr>
<h2 id='reduce'>Reduce a list to a single value by iteratively applying a binary function</h2><span id='topic+reduce'></span>

<h3>Description</h3>

<p>Inspired by <code>reduce()</code> from the <code>purrr</code> package
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reduce(.x, .f, ..., .init)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="reduce_+3A_.x">.x</code></td>
<td>
<p>A list or atomic vector.</p>
</td></tr>
<tr><td><code id="reduce_+3A_.f">.f</code></td>
<td>
<p>A 2-argument function. The function will be
passed the accumulated value as the first argument and the &quot;next&quot; value
as the second argument.</p>
</td></tr>
<tr><td><code id="reduce_+3A_...">...</code></td>
<td>
<p>Additional arguments passed on to <code>.f</code>.</p>
</td></tr>
<tr><td><code id="reduce_+3A_.init">.init</code></td>
<td>
<p>If supplied, will be used as the first value to start
the accumulation, rather than using <code>x[[1]]</code>. This is useful if
you want to ensure that <code>reduce</code> returns a correct value when <code>.x</code>
is empty. If missing, and <code>x</code> is empty, will throw an error.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jonathon Love <a href="mailto:jon@thon.cc">jon@thon.cc</a>
</p>

<hr>
<h2 id='scale_cyclical'>Create a discrete scale that cycles between values</h2><span id='topic+scale_colour_cyclical'></span><span id='topic+scale_color_cyclical'></span><span id='topic+scale_fill_cyclical'></span><span id='topic+scale_alpha_cyclical'></span><span id='topic+scale_linetype_cyclical'></span><span id='topic+scale_size_cyclical'></span><span id='topic+cyclical_scale'></span><span id='topic+ScaleCyclical'></span>

<h3>Description</h3>

<p>The readability of ridgeline plots can often be improved by alternating between fill colors and
other aesthetics. The various cyclical scales make it easy to create plots with this feature,
simply map your grouping variable to the respective aesthetic (e.g., <code>fill</code>) and then use
<code>scale_fill_cyclical</code> to define the fill colors between you want to alternate. Note that the
cyclical scales do not draw legends by default, because the legends will usually be wrong
unless the labels are properly adjusted. To draw legends, set the <code>guide</code> argument to <code>"legend"</code>,
as shown in the examples.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scale_colour_cyclical(..., values)

scale_fill_cyclical(..., values)

scale_alpha_cyclical(..., values)

scale_linetype_cyclical(..., values)

scale_size_cyclical(..., values)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="scale_cyclical_+3A_...">...</code></td>
<td>
<p>Common discrete scale parameters: <code>name</code>, <code>breaks</code>, <code>labels</code>, <code>na.value</code>, <code>limits</code> and <code>guide</code>.
See <code>discrete_scale</code> for more details.</p>
</td></tr>
<tr><td><code id="scale_cyclical_+3A_values">values</code></td>
<td>
<p>The aesthetic values that the scale should cycle through, e.g. colors if it is
a scale for the color or fill aesthetic.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)

# By default, scale_cyclical sets `guide = "none"`, i.e., no legend
# is drawn
ggplot(diamonds, aes(x = price, y = cut, fill = cut)) +
  geom_density_ridges(scale = 4) +
  scale_fill_cyclical(values = c("#3030D0", "#9090F0"))

# However, legends can be turned on by setting `guide = "legend"`
ggplot(diamonds, aes(x = price, y = cut, fill = cut)) +
  geom_density_ridges(scale = 4) +
  scale_fill_cyclical(values = c("#3030D0", "#9090F0"),
                      guide = "legend", name = "Fill colors",
                      labels = c("dark blue", "light blue"))

# Cyclical scales are also available for the various other aesthetics
ggplot(diamonds, aes(x = price, y = cut, fill = cut,
                     color = cut, size = cut,
                     alpha = cut, linetype = cut)) +
  geom_density_ridges(scale = 4, fill = "blue") +
  scale_fill_cyclical(values = c("blue", "green")) +
  scale_color_cyclical(values = c("black", "white")) +
  scale_size_cyclical(values = c(2, 1)) +
  scale_alpha_cyclical(values = c(0.4, 0.8)) +
  scale_linetype_cyclical(values = c(1, 2))

</code></pre>

<hr>
<h2 id='scale_point'>Scales for point aesthetics</h2><span id='topic+scale_point_shape'></span><span id='topic+scale_point_size_continuous'></span><span id='topic+scale_point_colour_hue'></span><span id='topic+scale_point_color_hue'></span><span id='topic+scale_point_fill_hue'></span><span id='topic+scale_point_colour_gradient'></span><span id='topic+scale_point_color_gradient'></span><span id='topic+scale_point_fill_gradient'></span><span id='topic+scale_point_shape_discrete'></span><span id='topic+scale_point_color_discrete'></span><span id='topic+scale_point_colour_discrete'></span><span id='topic+scale_point_fill_discrete'></span><span id='topic+scale_point_color_continuous'></span><span id='topic+scale_point_colour_continuous'></span><span id='topic+scale_point_fill_continuous'></span>

<h3>Description</h3>

<p>These are various scales that can be applied to point aesthetics, such as
<code>point_color</code>, <code>point_fill</code>, <code>point_size</code>. The individual scales all have the
same usage as existing standard ggplot2 scales, only the name differs.
</p>


<h3>See Also</h3>

<p>See <code><a href="#topic+scale_vline_color_hue">scale_vline_color_hue()</a></code> for specific scales for vline aesthetics
and <code>scale_discrete_manual()</code> for a general discrete scale.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)

# default scales
ggplot(iris, aes(x=Sepal.Length, y=Species, fill = Species)) +
  geom_density_ridges(
    aes(
      point_color = Species, point_fill = Species,
      point_shape = Species
    ),
    alpha = .4, jittered_points = TRUE
  ) +
  theme_ridges()

# modified scales
ggplot(iris, aes(x=Sepal.Length, y=Species, fill = Species)) +
  geom_density_ridges(
    aes(
      point_color = Species, point_fill = Species,
      point_shape = Species
    ),
    alpha = .4, point_alpha = 1,
    jittered_points = TRUE
  ) +
  scale_fill_hue(l = 50) +
  scale_point_color_hue(l = 20) +
  scale_point_fill_hue(l = 70) +
  scale_discrete_manual("point_shape", values = c(21, 22, 23)) +
  theme_ridges()
</code></pre>

<hr>
<h2 id='scale_vline'>Scales for vline aesthetics</h2><span id='topic+scale_vline_linetype'></span><span id='topic+scale_vline_width_continuous'></span><span id='topic+scale_vline_colour_hue'></span><span id='topic+scale_vline_color_hue'></span><span id='topic+scale_vline_colour_gradient'></span><span id='topic+scale_vline_color_gradient'></span><span id='topic+scale_vline_linetype_discrete'></span><span id='topic+scale_vline_color_discrete'></span><span id='topic+scale_vline_colour_discrete'></span><span id='topic+scale_vline_color_continuous'></span><span id='topic+scale_vline_colour_continuous'></span>

<h3>Description</h3>

<p>These are various scales that can be applied to vline aesthetics, such as
<code>vline_color</code>, <code>vline_width</code>, <code>vline_linetype</code>. The individual scales all have the
same usage as existing standard ggplot2 scales, only the name differs.
</p>


<h3>See Also</h3>

<p>See <code><a href="#topic+scale_point_color_hue">scale_point_color_hue()</a></code> for specific scales for point aesthetics
and <code>scale_discrete_manual()</code> for a general discrete scale.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)

# default scales
ggplot(iris, aes(x=Sepal.Length, y=Species, fill = Species, color = Species)) +
  geom_density_ridges(
    aes(vline_color = Species, vline_linetype = Species),
    alpha = .4, quantile_lines = TRUE
  ) +
  theme_ridges()

# modified scales
ggplot(iris, aes(x=Sepal.Length, y=Species, fill = Species, color = Species)) +
  geom_density_ridges(
    aes(vline_color = Species),
    alpha = .4, quantile_lines = TRUE
  ) +
  scale_fill_hue(l = 50) +
  scale_vline_color_hue(l = 30) +
  theme_ridges()
</code></pre>

<hr>
<h2 id='stat_binline'>Stat for histogram ridgeline plots</h2><span id='topic+stat_binline'></span><span id='topic+StatBinline'></span>

<h3>Description</h3>

<p>Works like <code>stat_bin</code> except that the output is a ridgeline describing the histogram rather than
a set of counts.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stat_binline(
  mapping = NULL,
  data = NULL,
  geom = "density_ridges",
  position = "identity",
  ...,
  binwidth = NULL,
  bins = NULL,
  center = NULL,
  boundary = NULL,
  breaks = NULL,
  closed = c("right", "left"),
  pad = TRUE,
  draw_baseline = TRUE,
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="stat_binline_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="stat_binline_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="stat_binline_+3A_geom">geom</code></td>
<td>
<p>The geom to use for drawing.</p>
</td></tr>
<tr><td><code id="stat_binline_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="stat_binline_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer()</a></code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>colour = "red"</code> or <code>size = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
<tr><td><code id="stat_binline_+3A_binwidth">binwidth</code></td>
<td>
<p>The width of the bins. Can be specified as a numeric value
or as a function that calculates width from unscaled x. Here, &quot;unscaled x&quot;
refers to the original x values in the data, before application of any
scale transformation. When specifying a function along with a grouping
structure, the function will be called once per group.
The default is to use the number of bins in <code>bins</code>,
covering the range of the data. You should always override
this value, exploring multiple widths to find the best to illustrate the
stories in your data.
</p>
<p>The bin width of a date variable is the number of days in each time; the
bin width of a time variable is the number of seconds.</p>
</td></tr>
<tr><td><code id="stat_binline_+3A_bins">bins</code></td>
<td>
<p>Number of bins. Overridden by <code>binwidth</code>. Defaults to 30.</p>
</td></tr>
<tr><td><code id="stat_binline_+3A_center">center</code>, <code id="stat_binline_+3A_boundary">boundary</code></td>
<td>
<p>bin position specifiers. Only one, <code>center</code> or
<code>boundary</code>, may be specified for a single plot. <code>center</code> specifies the
center of one of the bins. <code>boundary</code> specifies the boundary between two
bins. Note that if either is above or below the range of the data, things
will be shifted by the appropriate integer multiple of <code>binwidth</code>.
For example, to center on integers use <code>binwidth = 1</code> and <code>center = 0</code>, even
if <code>0</code> is outside the range of the data. Alternatively, this same alignment
can be specified with <code>binwidth = 1</code> and <code>boundary = 0.5</code>, even if <code>0.5</code> is
outside the range of the data.</p>
</td></tr>
<tr><td><code id="stat_binline_+3A_breaks">breaks</code></td>
<td>
<p>Alternatively, you can supply a numeric vector giving
the bin boundaries. Overrides <code>binwidth</code>, <code>bins</code>, <code>center</code>,
and <code>boundary</code>.</p>
</td></tr>
<tr><td><code id="stat_binline_+3A_closed">closed</code></td>
<td>
<p>One of <code>"right"</code> or <code>"left"</code> indicating whether right
or left edges of bins are included in the bin.</p>
</td></tr>
<tr><td><code id="stat_binline_+3A_pad">pad</code></td>
<td>
<p>If <code>TRUE</code>, adds empty bins at either end of x. This ensures that the binline always goes
back down to 0. Defaults to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="stat_binline_+3A_draw_baseline">draw_baseline</code></td>
<td>
<p>If <code>FALSE</code>, removes lines along 0 counts. Defaults to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="stat_binline_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="stat_binline_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="stat_binline_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)

ggplot(iris, aes(x = Sepal.Length, y = Species, group = Species, fill = Species)) +
  geom_density_ridges(stat = "binline", bins = 20, scale = 2.2) +
  scale_y_discrete(expand = c(0, 0)) +
  scale_x_continuous(expand = c(0, 0)) +
  coord_cartesian(clip = "off") +
  theme_ridges()

ggplot(iris, aes(x = Sepal.Length, y = Species, group = Species, fill = Species)) +
  stat_binline(bins = 20, scale = 2.2, draw_baseline = FALSE) +
  scale_y_discrete(expand = c(0, 0)) +
  scale_x_continuous(expand = c(0, 0)) +
  scale_fill_grey() +
  coord_cartesian(clip = "off") +
  theme_ridges() +
  theme(legend.position = 'none')

library(ggplot2movies)
ggplot(movies[movies$year&gt;1989,], aes(x = length, y = year, fill = factor(year))) +
   stat_binline(scale = 1.9, bins = 40) +
   scale_x_continuous(limits = c(1, 180), expand = c(0, 0)) +
   scale_y_reverse(expand = c(0, 0)) +
   scale_fill_viridis_d(begin = 0.3, option = "B") +
   coord_cartesian(clip = "off") +
   labs(title = "Movie lengths 1990 - 2005") +
   theme_ridges() +
   theme(legend.position = "none")

count_data &lt;- data.frame(
  group = rep(letters[1:5], each = 10),
  mean = rep(1:5, each = 10)
)
count_data$group &lt;- factor(count_data$group, levels = letters[5:1])
count_data$count &lt;- rpois(nrow(count_data), count_data$mean)

ggplot(count_data, aes(x = count, y = group, group = group)) +
  geom_density_ridges2(
    stat = "binline",
    aes(fill = group),
    binwidth = 1,
    scale = 0.95
  ) +
  geom_text(
    stat = "bin",
    aes(y = group + 0.9*stat(count/max(count)),
    label = ifelse(stat(count) &gt; 0, stat(count), "")),
    vjust = 1.2, size = 3, color = "white", binwidth = 1
  ) +
  scale_x_continuous(breaks = c(0:12), limits = c(-.5, 13), expand = c(0, 0)) +
  scale_y_discrete(expand = c(0, 0)) +
  scale_fill_cyclical(values = c("#0000B0", "#7070D0")) +
  guides(y = "none") +
  coord_cartesian(clip = "off") +
  theme_ridges(grid = FALSE)
</code></pre>

<hr>
<h2 id='stat_density_ridges'>Stat for density ridgeline plots</h2><span id='topic+stat_density_ridges'></span><span id='topic+StatDensityRidges'></span>

<h3>Description</h3>

<p>This stat is the default stat used by <code><a href="#topic+geom_density_ridges">geom_density_ridges</a></code>. It is very similar to <code>stat_density</code>,
however there are a few differences. Most importantly, the density bandwidth is chosen across
the entire dataset.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stat_density_ridges(
  mapping = NULL,
  data = NULL,
  geom = "density_ridges",
  position = "identity",
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE,
  bandwidth = NULL,
  from = NULL,
  to = NULL,
  jittered_points = FALSE,
  quantile_lines = FALSE,
  calc_ecdf = FALSE,
  quantiles = 4,
  quantile_fun = quantile,
  n = 512,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="stat_density_ridges_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code>aes()</code> or
<code>aes_()</code>. If specified and <code>inherit.aes = TRUE</code> (the
default), it is combined with the default mapping at the top level of the
plot. You must supply <code>mapping</code> if there is no plot mapping.</p>
</td></tr>
<tr><td><code id="stat_density_ridges_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code>ggplot()</code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame.</code>, and
will be used as the layer data.</p>
</td></tr>
<tr><td><code id="stat_density_ridges_+3A_geom">geom</code></td>
<td>
<p>The geometric object to use to display the data.</p>
</td></tr>
<tr><td><code id="stat_density_ridges_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string, or the result of
a call to a position adjustment function.</p>
</td></tr>
<tr><td><code id="stat_density_ridges_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="stat_density_ridges_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.</p>
</td></tr>
<tr><td><code id="stat_density_ridges_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them.</p>
</td></tr>
<tr><td><code id="stat_density_ridges_+3A_bandwidth">bandwidth</code></td>
<td>
<p>Bandwidth used for density calculation. If not provided, is estimated from the data.</p>
</td></tr>
<tr><td><code id="stat_density_ridges_+3A_from">from</code>, <code id="stat_density_ridges_+3A_to">to</code></td>
<td>
<p>The left and right-most points of the grid at which the density is to be estimated,
as in <code><a href="stats.html#topic+density">density()</a></code>. If not provided, these are estimated from the data range and the bandwidth.</p>
</td></tr>
<tr><td><code id="stat_density_ridges_+3A_jittered_points">jittered_points</code></td>
<td>
<p>If <code>TRUE</code>, carries the original point data over to the processed data frame,
so that individual points can be drawn by the various ridgeline geoms. The specific position of these
points is controlled by various position objects, e.g. <code><a href="#topic+position_points_sina">position_points_sina()</a></code> or <code><a href="#topic+position_raincloud">position_raincloud()</a></code>.</p>
</td></tr>
<tr><td><code id="stat_density_ridges_+3A_quantile_lines">quantile_lines</code></td>
<td>
<p>If <code>TRUE</code>, enables the drawing of quantile lines. Overrides the <code>calc_ecdf</code> setting
and sets it to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="stat_density_ridges_+3A_calc_ecdf">calc_ecdf</code></td>
<td>
<p>If <code>TRUE</code>, <code>stat_density_ridges</code> calculates an empirical cumulative distribution function (ecdf)
and returns a variable <code>ecdf</code> and a variable <code>quantile</code>. Both can be mapped onto aesthetics via
<code>stat(ecdf)</code> and <code>stat(quantile)</code>, respectively.</p>
</td></tr>
<tr><td><code id="stat_density_ridges_+3A_quantiles">quantiles</code></td>
<td>
<p>Sets the number of quantiles the data should be broken into. Used if either <code>calc_ecdf = TRUE</code>
or <code>quantile_lines = TRUE</code>. If <code>quantiles</code> is an integer then the data will be cut into that many equal quantiles.
If it is a vector of probabilities then the data will cut by them.</p>
</td></tr>
<tr><td><code id="stat_density_ridges_+3A_quantile_fun">quantile_fun</code></td>
<td>
<p>Function that calculates quantiles. The function needs to accept two parameters,
a vector <code>x</code> holding the raw data values and a vector <code>probs</code> providing the probabilities that
define the quantiles. Default is <code>quantile</code>.</p>
</td></tr>
<tr><td><code id="stat_density_ridges_+3A_n">n</code></td>
<td>
<p>The number of equally spaced points at which the density is to be estimated. Should be a power of 2. Default
is 512.</p>
</td></tr>
<tr><td><code id="stat_density_ridges_+3A_...">...</code></td>
<td>
<p>other arguments passed on to <code>layer()</code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>color = "red"</code> or <code>linewidth = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)

# Examples of coloring by ecdf or quantiles
ggplot(iris, aes(x = Sepal.Length, y = Species, fill = factor(stat(quantile)))) +
  stat_density_ridges(
    geom = "density_ridges_gradient",
    calc_ecdf = TRUE,
    quantiles = 5
  ) +
  scale_fill_viridis_d(name = "Quintiles") +
  theme_ridges()

ggplot(iris,
  aes(
    x = Sepal.Length, y = Species, fill = 0.5 - abs(0.5-stat(ecdf))
  )) +
  stat_density_ridges(geom = "density_ridges_gradient", calc_ecdf = TRUE) +
  scale_fill_viridis_c(name = "Tail probability", direction = -1) +
  theme_ridges()

ggplot(iris,
  aes(
    x = Sepal.Length, y = Species, fill = factor(stat(quantile))
  )) +
  stat_density_ridges(
    geom = "density_ridges_gradient",
    calc_ecdf = TRUE, quantiles = c(0.025, 0.975)
  ) +
  scale_fill_manual(
    name = "Probability",
    values = c("#FF0000A0", "#A0A0A0A0", "#0000FFA0"),
    labels = c("(0, 0.025]", "(0.025, 0.975]", "(0.975, 1]")
  ) +
  theme_ridges()
</code></pre>

<hr>
<h2 id='theme_ridges'>A custom theme specifically for use with ridgeline plots</h2><span id='topic+theme_ridges'></span>

<h3>Description</h3>

<p>This theme has some special modifications that make ridgeline plots look better, such as properly aligned y axis labels.
It can draw plots with and without background grids (see examples).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>theme_ridges(
  font_size = 14,
  font_family = "",
  line_size = 0.5,
  grid = TRUE,
  center_axis_labels = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="theme_ridges_+3A_font_size">font_size</code></td>
<td>
<p>Overall font size. Default is 14.</p>
</td></tr>
<tr><td><code id="theme_ridges_+3A_font_family">font_family</code></td>
<td>
<p>Default font family.</p>
</td></tr>
<tr><td><code id="theme_ridges_+3A_line_size">line_size</code></td>
<td>
<p>Default line size.</p>
</td></tr>
<tr><td><code id="theme_ridges_+3A_grid">grid</code></td>
<td>
<p>If <code>TRUE</code> (default), a background grid is drawn. If <code>FALSE</code>, background is left empty.</p>
</td></tr>
<tr><td><code id="theme_ridges_+3A_center_axis_labels">center_axis_labels</code></td>
<td>
<p>If <code>TRUE</code>, axis labels are drawn centered. If <code>FALSE</code> (default), axis lables are
drawn right/top-aligned.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The theme.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)

# Example with background grid
ggplot(iris, aes(x = Sepal.Length, y = Species, group = Species)) +
  geom_density_ridges(rel_min_height = 0.005) +
  scale_y_discrete(expand = c(0.01, 0)) +
  scale_x_continuous(expand = c(0.01, 0)) +
  theme_ridges()

# Example without background grid
ggplot(iris, aes(x = Sepal.Length, y = Species, group = Species)) +
  geom_density_ridges() +
  scale_y_discrete(expand = c(0.01, 0)) +
  scale_x_continuous(expand = c(0.01, 0)) +
  theme_ridges(grid = FALSE)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package psborrow2</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {psborrow2}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#psborrow2-package'><p>psborrow2: Bayesian Dynamic Borrowing Analysis and Simulation</p></a></li>
<li><a href='#add_covariates'><p>Add Covariates for Model Adjustment</p></a></li>
<li><a href='#Analysis-class'><p><code>Analysis</code> Class</p></a></li>
<li><a href='#as_data_frame'><p>Coerce a <code>psborrow2</code> object to a data frame</p></a></li>
<li><a href='#baseline_covariates'><p>Specify Correlated Baseline Covariates</p></a></li>
<li><a href='#BaselineDataFrame-class'><p>Baseline Data Frame Object</p></a></li>
<li><a href='#BaselineDataList-class'><p>Baseline Data Frame List</p></a></li>
<li><a href='#BaselineObject-class'><p><code>BaselineObject</code> class for data simulation</p></a></li>
<li><a href='#bernoulli_prior'><p>Legacy function for the bernoulli prior</p></a></li>
<li><a href='#beta_prior'><p>Legacy function for the beta prior</p></a></li>
<li><a href='#bin_var'><p>Create binary covariate</p></a></li>
<li><a href='#binary_cutoff'><p>Binary Cut-Off Transformation</p></a></li>
<li><a href='#BinaryOutcome-class'><p><code>BinaryOutcome</code> class</p></a></li>
<li><a href='#borrowing_details'><p>Legacy function for specifying borrowing details</p></a></li>
<li><a href='#borrowing_full'><p>Full borrowing</p></a></li>
<li><a href='#borrowing_hierarchical_commensurate'><p>Hierarchical commensurate borrowing</p></a></li>
<li><a href='#borrowing_none'><p>No borrowing</p></a></li>
<li><a href='#Borrowing-class'><p><code>Borrowing</code> Class</p></a></li>
<li><a href='#BorrowingFull-class'><p><code>BorrowingFull</code> class</p></a></li>
<li><a href='#BorrowingHierarchicalCommensurate-class'><p><code>BorrowingHierarchicalCommensurate</code> class</p></a></li>
<li><a href='#BorrowingNone-class'><p><code>BorrowingNone</code> class</p></a></li>
<li><a href='#c'><p>Combine objects in <code>psborrow2</code></p></a></li>
<li><a href='#cauchy_prior'><p>Legacy function for the cauchy prior</p></a></li>
<li><a href='#check_cmdstanr'><p>Check Stan</p></a></li>
<li><a href='#check_data_matrix_has_columns'><p>Check Data Matrix for Required Columns</p></a></li>
<li><a href='#check_fixed_external_data'><p>Create a Fixed External Data Object</p></a></li>
<li><a href='#cont_var'><p>Create continuous covariate</p></a></li>
<li><a href='#ContinuousOutcome-class'><p><code>ContinuousOutcome</code> class</p></a></li>
<li><a href='#covariance_matrix'><p>Create Covariance Matrix</p></a></li>
<li><a href='#Covariates-class'><p><code>Covariate</code> Class</p></a></li>
<li><a href='#create_alpha_string'><p>Create alpha string</p></a></li>
<li><a href='#create_analysis_obj'><p>Compile MCMC sampler using STAN and create analysis object</p></a></li>
<li><a href='#create_baseline_object'><p>Create Baseline Data Simulation Object</p></a></li>
<li><a href='#create_data_matrix'><p>Create Data Matrix</p></a></li>
<li><a href='#create_data_simulation'><p>Data Simulation</p></a></li>
<li><a href='#create_event_dist'><p>Specify a Time to Event Distribution</p></a></li>
<li><a href='#create_simulation_obj'><p>Compile MCMC sampler using STAN and create simulation object</p></a></li>
<li><a href='#create_tau_string'><p>Create tau string</p></a></li>
<li><a href='#custom_enrollment'><p>Create a <code>DataSimEnrollment</code> Object</p></a></li>
<li><a href='#cut_off_funs'><p>Cut Off Functions</p></a></li>
<li><a href='#DataSimCutOff-class'><p>Cut Off Object</p></a></li>
<li><a href='#DataSimEnrollment-class'><p>Enrollment Object</p></a></li>
<li><a href='#DataSimEvent-class'><p>Event Time Distribution Object</p></a></li>
<li><a href='#DataSimFixedExternalData-class'><p>Fixed External Control Data Object</p></a></li>
<li><a href='#DataSimObject-class'><p>Data Simulation Object Class</p></a></li>
<li><a href='#enrollment_constant'><p>Constant Enrollment Rates</p></a></li>
<li><a href='#eval_constraints'><p>Evaluate constraints</p></a></li>
<li><a href='#example_matrix'><p>Example data matrix</p></a></li>
<li><a href='#example_surv'><p>Simulated Survival Data</p></a></li>
<li><a href='#exp_surv_dist'><p>Legacy function for the exponential survival distribution</p></a></li>
<li><a href='#exponential_prior'><p>Legacy function for the exponential prior</p></a></li>
<li><a href='#gamma_prior'><p>Legacy function for the gamma prior</p></a></li>
<li><a href='#generate'><p>Generate Data from Object</p></a></li>
<li><a href='#generate+2CBaselineObject-method'><p>Generate Data for a <code>BaselineObject</code></p></a></li>
<li><a href='#generate+2CDataSimObject-method'><p>Generate Data for a <code>DataSimObject</code></p></a></li>
<li><a href='#get_cmd_stan_models'><p>Get <code>CmdStanModel</code> objects for <code>MCMCSimulationResults</code></p></a></li>
<li><a href='#get_data'><p>Get Simulated Data from <code>SimDataList</code> object</p></a></li>
<li><a href='#get_quantiles'><p>Get Quantiles of Random Data</p></a></li>
<li><a href='#get_results'><p>Get results for <code>MCMCSimulationResults</code> objects</p></a></li>
<li><a href='#get_stan_code'><p>Get method for Stan model</p></a></li>
<li><a href='#get_vars'><p>Get Variables</p></a></li>
<li><a href='#half_cauchy_prior'><p>Legacy function for the half-cauchy prior</p></a></li>
<li><a href='#half_normal_prior'><p>Legacy function for the normal half prior</p></a></li>
<li><a href='#logistic_bin_outcome'><p>Legacy function for binary logistic regression</p></a></li>
<li><a href='#make_model_string_model'><p>Create Stan Code for Model</p></a></li>
<li><a href='#mcmc_sample'><p>Sample from Stan model</p></a></li>
<li><a href='#MCMCSimulationResult-class'><p><code>MCMCSimulationResult</code> Class</p></a></li>
<li><a href='#normal_prior'><p>Legacy function for the normal prior</p></a></li>
<li><a href='#outcome_bin_logistic'><p>Bernoulli distribution with logit parametrization</p></a></li>
<li><a href='#outcome_cont_normal'><p>Normal Outcome Distribution</p></a></li>
<li><a href='#outcome_surv_exponential'><p>Exponential survival distribution</p></a></li>
<li><a href='#outcome_surv_weibull_ph'><p>Weibull survival distribution (proportional hazards formulation)</p></a></li>
<li><a href='#Outcome-class'><p><code>Outcome</code> class</p></a></li>
<li><a href='#OutcomeBinaryLogistic-class'><p><code>OutcomeBinaryLogistic</code> class</p></a></li>
<li><a href='#OutcomeContinuousNormal-class'><p><code>OutcomeContinuousNormal</code> class</p></a></li>
<li><a href='#OutcomeSurvExponential-class'><p><code>OutcomeSurvExponential</code> Class</p></a></li>
<li><a href='#OutcomeSurvWeibullPH-class'><p><code>OutcomeSurvWeibullPH</code> Class</p></a></li>
<li><a href='#plot'><p>Plot Prior Objects</p></a></li>
<li><a href='#plot_pdf'><p>Plot Probability Density Function Values</p></a></li>
<li><a href='#plot_pmf'><p>Plot Probability Mass Function Values</p></a></li>
<li><a href='#poisson_prior'><p>Legacy function for the poisson prior</p></a></li>
<li><a href='#possible_data_sim_vars'><p>Get All Variable Names in Simulated Data Model Matrix</p></a></li>
<li><a href='#prior_bernoulli'><p>Prior bernoulli distribution</p></a></li>
<li><a href='#prior_beta'><p>Prior beta distribution</p></a></li>
<li><a href='#prior_cauchy'><p>Prior cauchy distribution</p></a></li>
<li><a href='#prior_exponential'><p>Prior exponential distribution</p></a></li>
<li><a href='#prior_gamma'><p>Prior gamma distribution</p></a></li>
<li><a href='#prior_half_cauchy'><p>Prior half-cauchy distribution</p></a></li>
<li><a href='#prior_half_normal'><p>Prior half-normal distribution</p></a></li>
<li><a href='#prior_normal'><p>Prior normal distribution</p></a></li>
<li><a href='#prior_poisson'><p>Prior poisson distribution</p></a></li>
<li><a href='#Prior-class'><p><code>Prior</code> Class</p></a></li>
<li><a href='#PriorBernoulli-class'><p><code>PriorBernoulli</code> Class</p></a></li>
<li><a href='#PriorBeta-class'><p><code>PriorBeta</code> Class</p></a></li>
<li><a href='#PriorCauchy-class'><p><code>PriorCauchy</code> Class</p></a></li>
<li><a href='#PriorExponential-class'><p><code>PriorExponential</code> Class</p></a></li>
<li><a href='#PriorGamma-class'><p><code>PriorGamma</code> Class</p></a></li>
<li><a href='#PriorHalfCauchy-class'><p><code>PriorHalfCauchy</code> Class</p></a></li>
<li><a href='#PriorHalfNormal-class'><p><code>PriorHalfNormal</code> Class</p></a></li>
<li><a href='#PriorNormal-class'><p><code>PriorNormal</code> Class</p></a></li>
<li><a href='#PriorPoisson-class'><p><code>PriorPoisson</code> Class</p></a></li>
<li><a href='#rename_draws_covariates'><p>Rename Covariates in <code>draws</code> Object</p></a></li>
<li><a href='#set_cut_off'><p>Set Clinical Cut Off Rule</p></a></li>
<li><a href='#set_dropout'><p>Set Drop Out Distribution</p></a></li>
<li><a href='#set_enrollment'><p>Set Enrollment Rates for Internal and External Trials</p></a></li>
<li><a href='#set_transformations'><p>Set transformations in <code>BaselineObject</code> objects</p></a></li>
<li><a href='#set_transformations+2CBaselineObject-method'><p>Set Transformations in Baseline Objects</p></a></li>
<li><a href='#show_guide'><p>Show guide for objects with guides</p></a></li>
<li><a href='#sim_borrowing_list'><p>Input borrowing details for a simulation study</p></a></li>
<li><a href='#sim_covariate_list'><p>Input covariate adjustment details for a simulation study</p></a></li>
<li><a href='#sim_covariates'><p>Specify covariates for simulation study</p></a></li>
<li><a href='#sim_covariates_summ'><p>Summarize the number of continuous and binary covariates</p>
in a <code>SimCovariates</code> object created by <code>sim_covariates()</code></a></li>
<li><a href='#sim_data_list'><p>Input generated data for a simulation study</p></a></li>
<li><a href='#sim_outcome_list'><p>Input outcome details for a simulation study</p></a></li>
<li><a href='#sim_samplesize'><p>Set simulation study parameters for sample size</p></a></li>
<li><a href='#sim_treatment_list'><p>Input treatment details for a simulation study</p></a></li>
<li><a href='#SimBorrowingList-class'><p><code>SimBorrowingList</code> Class</p></a></li>
<li><a href='#SimCovariateList-class'><p><code>SimCovariateList</code> Class</p></a></li>
<li><a href='#SimCovariates-class'><p><code>SimCovariates</code> Class</p></a></li>
<li><a href='#SimDataList-class'><p><code>SimDataList</code> Class</p></a></li>
<li><a href='#SimOutcomeList-class'><p><code>SimOutcomeList</code> Class</p></a></li>
<li><a href='#SimSampleSize-class'><p><code>SimSampleSize</code> Class</p></a></li>
<li><a href='#SimTreatmentList-class'><p><code>SimTreatmentList</code> Class</p></a></li>
<li><a href='#Simulation-class'><p><code>Simulation</code> Class</p></a></li>
<li><a href='#SimVar-class'><p><code>SimVar</code> Class</p></a></li>
<li><a href='#SimVarBin-class'><p><code>SimVarBin</code> class</p></a></li>
<li><a href='#SimVarCont-class'><p><code>SimVarCont</code> class</p></a></li>
<li><a href='#TimeToEvent-class'><p><code>TimeToEvent</code> class</p></a></li>
<li><a href='#treatment_details'><p>Specify Treatment Details</p></a></li>
<li><a href='#Treatment-class'><p><code>Treatment</code> Class</p></a></li>
<li><a href='#trim_cols'><p>Trim columns from Data Matrix Based on Borrowing object type</p></a></li>
<li><a href='#trim_rows'><p>Trim Rows from Data Matrix Based on Borrowing object type</p></a></li>
<li><a href='#uniform_prior'><p>Prior uniform distribution</p></a></li>
<li><a href='#UniformPrior-class'><p><code>UniformPrior</code> Class</p></a></li>
<li><a href='#variable_dictionary'><p>Create Variable Dictionary</p></a></li>
<li><a href='#weib_ph_surv_dist'><p>Legacy function for the Weibull proportional Hazards survival distribution</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Bayesian Dynamic Borrowing Analysis and Simulation</td>
</tr>
<tr>
<td>Version:</td>
<td>0.0.3.4</td>
</tr>
<tr>
<td>Description:</td>
<td>Bayesian dynamic borrowing is an approach to incorporating external
   data to supplement a randomized, controlled trial analysis in which
   external data are incorporated in a dynamic way (e.g., based on similarity
   of outcomes); see Viele 2013 &lt;<a href="https://doi.org/10.1002%2Fpst.1589">doi:10.1002/pst.1589</a>&gt; for an overview.
   This package implements the hierarchical commensurate prior approach to dynamic borrowing
   as described in Hobbes 2011 &lt;<a href="https://doi.org/10.1111%2Fj.1541-0420.2011.01564.x">doi:10.1111/j.1541-0420.2011.01564.x</a>&gt;.
   There are three main functionalities. First, 'psborrow2' provides a user-friendly 
   interface for applying dynamic borrowing on the study results handles the Markov Chain
   Monte Carlo sampling on behalf of the user. Second, 'psborrow2' provides a 
   simulation framework to compare different borrowing parameters (e.g. full borrowing, no
   borrowing, dynamic borrowing) and other trial and borrowing characteristics
   (e.g. sample size, covariates) in a unified way. Third, 'psborrow2' provides
   a set of functions to generate data for simulation studies, and also allows
   the user to specify their own data generation process. This package is designed to 
   use the sampling functions from 'cmdstanr' which can be installed from
   <a href="https://mc-stan.org/r-packages/">https://mc-stan.org/r-packages/</a>.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/Genentech/psborrow2">https://github.com/Genentech/psborrow2</a>,
<a href="https://genentech.github.io/psborrow2/index.html">https://genentech.github.io/psborrow2/index.html</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/Genentech/psborrow2/issues">https://github.com/Genentech/psborrow2/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License 2.0</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.1.0)</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Imports:</td>
<td>checkmate, glue, methods, graphics, posterior, generics,
Matrix, mvtnorm, future, simsurv</td>
</tr>
<tr>
<td>Suggests:</td>
<td>cmdstanr, survival, flexsurv, testthat (&ge; 3.0), usethis (&ge;
2.1.5), vdiffr, tibble, xml2, knitr, rmarkdown, bayesplot,
matrixcalc, WeightIt, MatchIt, BayesPPD, ggsurvfit, gbm,
ggplot2, cobalt, table1, gt, gtsummary</td>
</tr>
<tr>
<td>Additional_repositories:</td>
<td><a href="https://mc-stan.org/r-packages/">https://mc-stan.org/r-packages/</a></td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>cmdstan</td>
</tr>
<tr>
<td>Collate:</td>
<td>'generics.R' 'prior_class.R' 'covariate_class.R'
'add_covariates.R' 'prior_normal.R' 'treatment_class.R'
'borrowing_class.R' 'outcome_class.R' 'analysis_class.R'
'borrowing_details.R' 'borrowing_full.R'
'borrowing_hierarchical_commensurate.R' 'borrowing_none.R'
'check_data_matrix_has_columns.R' 'cmdstan.R'
'create_analysis_obj.R' 'create_data_matrix.R'
'treatment_details.R' 'sim_treatment_list.R' 'helpers.R'
'outcome_bin_logistic.R' 'prior_exponential.R'
'outcome_surv_weibull_ph.R' 'outcome_surv_exponential.R'
'sim_outcome_list.R' 'sim_borrowing_list.R'
'sim_covariate_list.R' 'sim_data_list.R' 'simulation_class.R'
'create_simulation_obj.R' 'data.R'
'make_analysis_object_list.R' 'make_model_string_data.R'
'make_model_string_functions.R' 'make_model_string_model.R'
'make_model_string_parameters.R'
'make_model_string_transf_params.R' 'mcmc_sample.R'
'mcmc_simulation_result.R' 'prior_half_cauchy.R'
'outcome_cont_normal.R' 'package.R'
'prepare_stan_data_inputs.R' 'prior_bernoulli.R' 'prior_beta.R'
'prior_cauchy.R' 'prior_gamma.R' 'prior_half_normal.R'
'prior_poisson.R' 'sim_covariates.R' 'sim_estimate_bias.R'
'sim_estimate_effect_variance.R' 'sim_estimate_mse.R'
'sim_is_null_effect_covered.R' 'sim_is_true_effect_covered.R'
'sim_samplesize.R' 'simulate_data_baseline.R' 'simulate_data.R'
'simvar_class.R' 'trim_data_matrix.R' 'uniform_prior.R' 'zzz.R'</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-04-30 20:52:27 UTC; secrestm</td>
</tr>
<tr>
<td>Author:</td>
<td>Matt Secrest <a href="https://orcid.org/0000-0002-0939-4902"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Isaac Gravestock [aut],
  Craig Gower-Page [ctb],
  Manoj Khanal [ctb],
  Mingyang Shan [ctb],
  Kexin Jin [ctb],
  Zhi Yang [ctb],
  Genentech, Inc. [cph, fnd]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Matt Secrest &lt;secrestm@gene.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-04-30 21:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='psborrow2-package'>psborrow2: Bayesian Dynamic Borrowing Analysis and Simulation</h2><span id='topic+psborrow2'></span><span id='topic+psborrow2-package'></span>

<h3>Description</h3>

<p>Bayesian dynamic borrowing is an approach to incorporating external data to supplement a randomized, controlled trial analysis in which external data are incorporated in a dynamic way (e.g., based on similarity of outcomes); see Viele 2013 <a href="https://doi.org/10.1002/pst.1589">doi:10.1002/pst.1589</a> for an overview. This package implements the hierarchical commensurate prior approach to dynamic borrowing as described in Hobbes 2011 <a href="https://doi.org/10.1111/j.1541-0420.2011.01564.x">doi:10.1111/j.1541-0420.2011.01564.x</a>. There are three main functionalities. First, 'psborrow2' provides a user-friendly interface for applying dynamic borrowing on the study results handles the Markov Chain Monte Carlo sampling on behalf of the user. Second, 'psborrow2' provides a simulation framework to compare different borrowing parameters (e.g. full borrowing, no borrowing, dynamic borrowing) and other trial and borrowing characteristics (e.g. sample size, covariates) in a unified way. Third, 'psborrow2' provides a set of functions to generate data for simulation studies, and also allows the user to specify their own data generation process. This package is designed to use the sampling functions from 'cmdstanr' which can be installed from <a href="https://mc-stan.org/r-packages/">https://mc-stan.org/r-packages/</a>.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Matt Secrest <a href="mailto:secrestm@gene.com">secrestm@gene.com</a> (<a href="https://orcid.org/0000-0002-0939-4902">ORCID</a>)
</p>
<p>Authors:
</p>

<ul>
<li><p> Isaac Gravestock <a href="mailto:isaac.gravestock@roche.com">isaac.gravestock@roche.com</a>
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> Craig Gower-Page <a href="mailto:craig.gower-page@roche.com">craig.gower-page@roche.com</a> [contributor]
</p>
</li>
<li><p> Manoj Khanal <a href="mailto:khanal_manoj@lilly.com">khanal_manoj@lilly.com</a> [contributor]
</p>
</li>
<li><p> Mingyang Shan <a href="mailto:mingyang.shan@lilly.com">mingyang.shan@lilly.com</a> [contributor]
</p>
</li>
<li><p> Kexin Jin <a href="mailto:kexin.jin@bms.com">kexin.jin@bms.com</a> [contributor]
</p>
</li>
<li><p> Zhi Yang <a href="mailto:zhi.yang@bms.com">zhi.yang@bms.com</a> [contributor]
</p>
</li>
<li><p> Genentech, Inc. [copyright holder, funder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/Genentech/psborrow2">https://github.com/Genentech/psborrow2</a>
</p>
</li>
<li> <p><a href="https://genentech.github.io/psborrow2/index.html">https://genentech.github.io/psborrow2/index.html</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/Genentech/psborrow2/issues">https://github.com/Genentech/psborrow2/issues</a>
</p>
</li></ul>


<hr>
<h2 id='add_covariates'>Add Covariates for Model Adjustment</h2><span id='topic+add_covariates'></span>

<h3>Description</h3>

<p>Specify column names for adjustment variables in model matrix and prior
distributions for the model parameters for these covariates (i.e., betas)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_covariates(covariates, priors)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_covariates_+3A_covariates">covariates</code></td>
<td>
<p>character. Names of columns in the data matrix containing
covariates to be adjusted for in the outcome model. Note: the
external and treatment flags should not go here.</p>
</td></tr>
<tr><td><code id="add_covariates_+3A_priors">priors</code></td>
<td>
<p>Either a single object of class <code>Prior</code> specifying the prior
distribution to apply to all covariates or a named list of
distributions of class <code>Prior</code>, one for each covariate</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Object of class <code><a href="#topic+Covariates-class">Covariates</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>add_covariates(
  covariates = c("a", "b"),
  priors = list(
    "a" = prior_normal(0, 1),
    "b" = prior_normal(0, 2)
  )
)
</code></pre>

<hr>
<h2 id='Analysis-class'><code>Analysis</code> Class</h2><span id='topic+Analysis-class'></span><span id='topic+.analysis_obj'></span>

<h3>Description</h3>

<p>A class for defining Analysis details. Objects of class
<code>Analysis</code> should not be created directly but by the constructor
<code>create_analysis_obj()</code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>data_matrix</code></dt><dd><p>matrix. The data matrix, including all covariates to be
adjusted for, all relevant outcome variables, and treatment arm and external
control arm flags.</p>
</dd>
<dt><code>covariates</code></dt><dd><p><code>Covariate</code>. Object of class <code>Covariate</code> as output by
the function <code>covariate_details()</code>.</p>
</dd>
<dt><code>outcome</code></dt><dd><p><code>Outcome</code>. Object of class <code>Outcome</code> as output by
<code>outcome_surv_exponential()</code>, <code>outcome_surv_weibull_ph()</code>, or <code>outcome_bin_logistic()</code>.</p>
</dd>
<dt><code>borrowing</code></dt><dd><p><code>Borrowing</code>. Object of class <code>Borrowing</code> as output by
<code>borrowing_full()</code>, <code>borrowing_none()</code>, or <code>borrowing_hierarchical_commensurate()</code>.</p>
</dd>
<dt><code>treatment</code></dt><dd><p><code>Treatment</code>. Object of class <code>Treatment</code> as output by
<code>treatment_details()</code>.</p>
</dd>
<dt><code>model_string</code></dt><dd><p>character. The string that contains the full
Stan model code to be compiled.</p>
</dd>
<dt><code>model</code></dt><dd><p><code>CmdStanModel</code>. The compiled Stan model as output by <code>cmdstanr::cmdstan_model()</code></p>
</dd>
<dt><code>ready_to_sample</code></dt><dd><p>logical. Is the object ready to sample?</p>
</dd>
</dl>

<hr>
<h2 id='as_data_frame'>Coerce a <code>psborrow2</code> object to a data frame</h2><span id='topic+as_data_frame'></span><span id='topic+as.data.frame.BaselineDataList'></span>

<h3>Description</h3>

<p>Creates <code>data.frame</code> objects from various classes in <code>psborrow2</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'BaselineDataList'
as.data.frame(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_data_frame_+3A_x">x</code></td>
<td>
<p>object of type: <a href="#topic+BaselineDataList-class">BaselineDataList</a></p>
</td></tr>
<tr><td><code id="as_data_frame_+3A_...">...</code></td>
<td>
<p>Optional arguments for passed to <a href="base.html#topic+data.frame">data.frame</a></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>data.frame</code>
</p>

<hr>
<h2 id='baseline_covariates'>Specify Correlated Baseline Covariates</h2><span id='topic+baseline_covariates'></span>

<h3>Description</h3>

<p>Set parameters to generate correlated multivariate normal data for internal and external patients.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>baseline_covariates(
  names,
  means_int,
  means_ext = means_int,
  covariance_int,
  covariance_ext = covariance_int
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="baseline_covariates_+3A_names">names</code></td>
<td>
<p>character vector of variable names.</p>
</td></tr>
<tr><td><code id="baseline_covariates_+3A_means_int">means_int</code></td>
<td>
<p>numeric vector of means for internal patients. Must have same length as <code>names</code></p>
</td></tr>
<tr><td><code id="baseline_covariates_+3A_means_ext">means_ext</code></td>
<td>
<p>numeric vector of means for external patients. Must have same length as <code>names</code></p>
</td></tr>
<tr><td><code id="baseline_covariates_+3A_covariance_int">covariance_int</code></td>
<td>
<p>variance-covariance matrix for generating multivariate normal for internal patients.
Must be square matrix with same number of rows and <code>length(names)</code></p>
</td></tr>
<tr><td><code id="baseline_covariates_+3A_covariance_ext">covariance_ext</code></td>
<td>
<p>variance-covariance matrix for generating multivariate normal data for external patients.
Must be square matrix with same number of rows and <code>length(names)</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p><a href="#topic+BaselineObject-class">BaselineObject</a> to build simulated dataset
</p>


<h3>Examples</h3>

<pre><code class='language-R'>corr_covs &lt;- baseline_covariates(
  names = c("b1", "b2"),
  means_int = c(5, 25),
  covariance_int = covariance_matrix(diag = c(1, 1), upper_tri = 0.4)
)
</code></pre>

<hr>
<h2 id='BaselineDataFrame-class'>Baseline Data Frame Object</h2><span id='topic+BaselineDataFrame-class'></span><span id='topic+.baseline_dataframe'></span>

<h3>Description</h3>

<p>Contains a generated baseline dataset for a single arm.
</p>


<h3>Value</h3>

<p>A <code>BaselineDataFrame</code>
</p>


<h3>Slots</h3>


<dl>
<dt><code>cov_names</code></dt><dd><p><code>character</code> contains the names of covariates generated from the multivariate normal distribution</p>
</dd>
<dt><code>means</code></dt><dd><p><code>numeric</code> contains the means of generating distribution for the covariates in <code>cov_names</code></p>
</dd>
<dt><code>variances</code></dt><dd><p><code>numeric</code> contains the marginal variances of generating distribution for the covariates in
<code>cov_names</code>.</p>
</dd>
</dl>

<hr>
<h2 id='BaselineDataList-class'>Baseline Data Frame List</h2><span id='topic+BaselineDataList-class'></span><span id='topic+.baseline_data_list'></span>

<h3>Description</h3>

<p>A named <code>list</code> of <code>BaselineDataFrame</code>s with generated data for <code>internal_treated</code>/<code>internal_control</code>/
<code>external_control</code> groups
</p>


<h3>Value</h3>

<p>A <code>BaselineDataList</code>
</p>


<h3>Slots</h3>


<dl>
<dt><code>baseline_object</code></dt><dd><p>Simulated covariates definitions as <code>BaselineObject</code>. See <code><a href="#topic+create_baseline_object">create_baseline_object()</a></code></p>
</dd>
</dl>

<hr>
<h2 id='BaselineObject-class'><code>BaselineObject</code> class for data simulation</h2><span id='topic+BaselineObject-class'></span><span id='topic+.baseline_object'></span>

<h3>Description</h3>

<p><code>BaselineObject</code> class for data simulation
</p>


<h3>Slots</h3>


<dl>
<dt><code>n_trt_int</code></dt><dd><p>integer. Number of internal treated patients</p>
</dd>
<dt><code>n_ctrl_int</code></dt><dd><p>integer. Number of internal control patients</p>
</dd>
<dt><code>n_ctrl_ext</code></dt><dd><p>integer. Number of external control patients</p>
</dd>
<dt><code>covariates</code></dt><dd><p>list. List of correlated covariates objects, see <code><a href="#topic+baseline_covariates">baseline_covariates()</a></code></p>
</dd>
<dt><code>transformations</code></dt><dd><p>list. List of named transformation functions.</p>
</dd>
</dl>

<hr>
<h2 id='bernoulli_prior'>Legacy function for the bernoulli prior</h2><span id='topic+bernoulli_prior'></span>

<h3>Description</h3>

<p>Please use <code>prior_bernoulli()</code> instead.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bernoulli_prior(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bernoulli_prior_+3A_...">...</code></td>
<td>
<p>Deprecated arguments to <code>bernoulli_prior()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>This function does not return a value. When called, it triggers an error
message indicating that <code>bernoulli_prior()</code> is deprecated and that
<code>prior_bernoulli()</code> should be used instead.
</p>

<hr>
<h2 id='beta_prior'>Legacy function for the beta prior</h2><span id='topic+beta_prior'></span>

<h3>Description</h3>

<p>Please use <code>prior_beta()</code> instead.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>beta_prior(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="beta_prior_+3A_...">...</code></td>
<td>
<p>Deprecated arguments to <code>beta_prior()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>This function does not return a value. When called, it triggers an error
message indicating that <code>beta_prior()</code> is deprecated and that
<code>prior_beta()</code> should be used instead.
</p>

<hr>
<h2 id='bin_var'>Create binary covariate</h2><span id='topic+bin_var'></span>

<h3>Description</h3>

<p>Create an object of class <code>SimVarBin</code> to hold proportions of binary
variables specified in a simulation study.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bin_var(
  prob_internal,
  prob_external,
  mu_internal_before_bin = 0,
  mu_external_before_bin = 0
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bin_var_+3A_prob_internal">prob_internal</code></td>
<td>
<p>numeric. Proportion for the internal arms.</p>
</td></tr>
<tr><td><code id="bin_var_+3A_prob_external">prob_external</code></td>
<td>
<p>numeric. Proportion for the external arm.</p>
</td></tr>
<tr><td><code id="bin_var_+3A_mu_internal_before_bin">mu_internal_before_bin</code></td>
<td>
<p>numeric. Mean value of the covariate before binarization
for the internal arms. The default is 0. See <code>details</code> for more information.</p>
</td></tr>
<tr><td><code id="bin_var_+3A_mu_external_before_bin">mu_external_before_bin</code></td>
<td>
<p>numeric. Mean value of the covariate before binarization
for the external arm. The default is 0. See <code>details</code> for more information.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function contains information necessary to create binary covariates
as part of a simulation study. The binary covariates are created
by binarizing multivariate normal distributions to achieve
the probabilities specified in <code>prob_internal</code> and <code>prob_external</code>. The
user may choose to change the default mean value of each variable
prior to binarization by specifying <code>mu_internal_before_bin</code> or
<code>mu_external_before_bin</code> to ensure the correct scales are used in the
covariance matrix, though the ultimate proportions will depend on
<code>prob_internal</code> and <code>prob_external</code>. The default values for
<code>mu_internal_before_bin</code> and <code>mu_external_before_bin</code> are <code>0</code>, and
it is not recommended to change these without good reason.
</p>


<h3>Value</h3>

<p>Object of class <code><a href="#topic+SimVarBin-class">SimVarBin</a></code>.
</p>


<h3>See Also</h3>

<p>Other simvar: 
<code><a href="#topic+cont_var">cont_var</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cv1 &lt;- bin_var(0.50, 0.80)
cv2 &lt;- bin_var(.95, .92)
</code></pre>

<hr>
<h2 id='binary_cutoff'>Binary Cut-Off Transformation</h2><span id='topic+binary_cutoff'></span>

<h3>Description</h3>

<p>Binary Cut-Off Transformation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>binary_cutoff(name, int_cutoff, ext_cutoff)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="binary_cutoff_+3A_name">name</code></td>
<td>
<p>variable to transform</p>
</td></tr>
<tr><td><code id="binary_cutoff_+3A_int_cutoff">int_cutoff</code></td>
<td>
<p>cut-off for internal patients, numeric between 0 and 1</p>
</td></tr>
<tr><td><code id="binary_cutoff_+3A_ext_cutoff">ext_cutoff</code></td>
<td>
<p>cut-off for external patients, numeric between 0 and 1</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Transformation function to be used in <code><a href="#topic+create_baseline_object">create_baseline_object()</a></code>.
Sets quantile values larger than cut-off value to <code>TRUE</code> otherwise <code>FALSE</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Creates a simple function, where `data` is a `BaselineDataFrame`:
function(data) {
  ext &lt;- data$ext == 0
  q &lt;- get_quantiles(data, name)
  ifelse(ext, q &gt; int_cutoff, q &gt; ext_cutoff)
}

</code></pre>

<hr>
<h2 id='BinaryOutcome-class'><code>BinaryOutcome</code> class</h2><span id='topic+BinaryOutcome-class'></span>

<h3>Description</h3>

<p><code>BinaryOutcome</code> class
</p>


<h3>Slots</h3>


<dl>
<dt><code>function_stan_code</code></dt><dd><p>character. Code to include in the Stan functions program block.</p>
</dd>
<dt><code>param_stan_code</code></dt><dd><p>character. Code to include in the Stan parameters program block.</p>
</dd>
<dt><code>likelihood_stan_code</code></dt><dd><p>character. Code defining the likelihood to include in the Stan model program block.</p>
</dd>
<dt><code>data_stan_code</code></dt><dd><p>character. Code to include in the Stan data program block.</p>
</dd>
<dt><code>n_param</code></dt><dd><p>integer. Number of ancillary parameters for the model to estimate.</p>
</dd>
<dt><code>param_priors</code></dt><dd><p>list. Named list of prior distributions on the ancillary parameters in the model.</p>
</dd>
<dt><code>binary_var</code></dt><dd><p>character. Variable used for outcome in <code>BinaryOutcome</code> objects.</p>
</dd>
<dt><code>baseline_prior</code></dt><dd><p><code>Prior</code>. Object of class <code>Prior</code>
specifying prior distribution for the baseline outcome.</p>
</dd>
<dt><code>name_beta_trt.</code></dt><dd><p>Named vector for beta_trt.</p>
</dd>
<dt><code>name_exp_trt.</code></dt><dd><p>Named vector for exponentiated beta_trt</p>
</dd>
<dt><code>alpha_type.</code></dt><dd><p>How to interpret alpha.</p>
</dd>
<dt><code>name_addnl_params.</code></dt><dd><p>Named vector for additional parameters.</p>
</dd>
</dl>


<h3>See Also</h3>

<p>Other outcome: 
<code><a href="#topic+ContinuousOutcome-class">ContinuousOutcome-class</a></code>,
<code><a href="#topic+Outcome-class">Outcome-class</a></code>,
<code><a href="#topic+OutcomeBinaryLogistic-class">OutcomeBinaryLogistic-class</a></code>,
<code><a href="#topic+OutcomeContinuousNormal-class">OutcomeContinuousNormal-class</a></code>,
<code><a href="#topic+OutcomeSurvExponential-class">OutcomeSurvExponential-class</a></code>,
<code><a href="#topic+OutcomeSurvWeibullPH-class">OutcomeSurvWeibullPH-class</a></code>,
<code><a href="#topic+TimeToEvent-class">TimeToEvent-class</a></code>
</p>

<hr>
<h2 id='borrowing_details'>Legacy function for specifying borrowing details</h2><span id='topic+borrowing_details'></span>

<h3>Description</h3>

<p>Please use one of <code>borrowing_hierarchical_commensurate()</code>, <code>borrowing_none()</code>, or <code>borrowing_full()</code> instead.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>borrowing_details(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="borrowing_details_+3A_...">...</code></td>
<td>
<p>Deprecated arguments to <code>borrowing_details</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>This function does not return a value. When called, it triggers an error
message indicating that <code>borrowing_details()</code> is deprecated and that
one of <code>borrowing_hierarchical_commensurate()</code>, <code>borrowing_none()</code>, or
<code>borrowing_full()</code> should be used instead.
</p>

<hr>
<h2 id='borrowing_full'>Full borrowing</h2><span id='topic+borrowing_full'></span>

<h3>Description</h3>

<p>Full borrowing
</p>


<h3>Usage</h3>

<pre><code class='language-R'>borrowing_full(ext_flag_col)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="borrowing_full_+3A_ext_flag_col">ext_flag_col</code></td>
<td>
<p>character. Name of the external flag column in the matrix.</p>
</td></tr>
</table>


<h3>Details</h3>



<h4>Method</h4>

<p>This method does not distinguish between internal and external arms, effectively
pooling patients.
</p>



<h4>External Control</h4>

<p>The <code>ext_flag_col</code> argument refers to the column in the data matrix that
contains the flag indicating a patient is from the external control cohort.
</p>



<h3>Value</h3>

<p>Object of class <code><a href="#topic+BorrowingFull-class">BorrowingFull</a></code>.
</p>


<h3>See Also</h3>

<p>Other borrowing: 
<code><a href="#topic+borrowing_none">borrowing_none</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>fb &lt;- borrowing_full("ext")
</code></pre>

<hr>
<h2 id='borrowing_hierarchical_commensurate'>Hierarchical commensurate borrowing</h2><span id='topic+borrowing_hierarchical_commensurate'></span>

<h3>Description</h3>

<p>Hierarchical commensurate borrowing
</p>


<h3>Usage</h3>

<pre><code class='language-R'>borrowing_hierarchical_commensurate(ext_flag_col, tau_prior)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="borrowing_hierarchical_commensurate_+3A_ext_flag_col">ext_flag_col</code></td>
<td>
<p>character. Name of the external flag column in the matrix.</p>
</td></tr>
<tr><td><code id="borrowing_hierarchical_commensurate_+3A_tau_prior">tau_prior</code></td>
<td>
<p>Prior. Prior for the commensurability parameter.</p>
</td></tr>
</table>


<h3>Details</h3>



<h4>Method</h4>

<p>In Bayesian dynamic borrowing using the hierarchical commensurate prior approach,
external control information is borrowed to the extent that the
outcomes (i.e., log hazard rates or log odds) are similar between
external and internal control populations. See Viele 2014
<a href="https://doi.org/10.1002/pst.1589">doi:10.1002/pst.1589</a> and Hobbs 2011
<a href="https://doi.org/10.1111/j.1541-0420.2011.01564.x">doi:10.1111/j.1541-0420.2011.01564.x</a> for details.
</p>



<h4>External Control</h4>

<p>The <code>ext_flag_col</code> argument refers to the column in the data matrix that
contains the flag indicating a patient is from the external control cohort.
</p>



<h4>Tau Prior</h4>

<p>The <code>tau_prior</code> argument specifies the hyperprior on the precision parameter
commonly referred to as the commensurability parameter.
See Viele 2014 <a href="https://doi.org/10.1002/pst.1589">doi:10.1002/pst.1589</a> for more
details.
This hyperprior determines (along with the comparability of the outcomes
between internal and external controls) how much borrowing of the external
control group will be performed.
Example hyperpriors include largely uninformative inverse gamma distributions
[e.g., <code>prior_gamma(alpha = .001, beta = .001)</code>] as well as more
informative distributions [e.g., <code style="white-space: pre;">&#8288;prior_gamma(alpha = 1, beta = .001&#8288;</code>)],
though any distribution <code class="reqn">x \in (0, \infty)</code> can be used. Distributions
with more density at higher values of <code class="reqn">x</code> (i.e., higher precision)
will lead to more borrowing.
</p>



<h3>Value</h3>

<p>Object of class <code><a href="#topic+BorrowingHierarchicalCommensurate-class">BorrowingHierarchicalCommensurate</a></code>.
</p>


<h3>References</h3>

<p>Viele, K., Berry, S., Neuenschwander, B., Amzal, B., Chen, F.,
Enas, N., Hobbs, B., Ibrahim, J.G., Kinnersley, N., Lindborg, S., Micallef,
S., Roychoudhury, S. and Thompson, L. (2014),
Use of historical control data for assessing treatment effects in clinical trials.
<strong>Pharmaceut. Statist., 13: 41&ndash;54</strong>. <a href="https://doi.org/10.1002/pst.1589">doi:10.1002/pst.1589</a>
</p>
<p>Hobbes, B.P., Carlin, B.P., Mandrekar, S.J. and Sargent, D.J. (2011),
Hierarchical commensurate and power prior models for adaptive incorporation of historical information in clinical trials.
<strong>Biometrics, 67: 1047&ndash;1056</strong>. <a href="https://doi.org/10.1111/j.1541-0420.2011.01564.x">doi:10.1111/j.1541-0420.2011.01564.x</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>db &lt;- borrowing_hierarchical_commensurate(
  ext_flag_col = "ext",
  tau_prior = prior_gamma(0.0001, 0.0001)
)
</code></pre>

<hr>
<h2 id='borrowing_none'>No borrowing</h2><span id='topic+borrowing_none'></span>

<h3>Description</h3>

<p>No borrowing
</p>


<h3>Usage</h3>

<pre><code class='language-R'>borrowing_none(ext_flag_col)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="borrowing_none_+3A_ext_flag_col">ext_flag_col</code></td>
<td>
<p>character. Name of the external flag column in the matrix.</p>
</td></tr>
</table>


<h3>Details</h3>



<h4>Method</h4>

<p>This method evaluates only the internal comparison,
ignoring historical controls. Note that this method will filter the
model matrix based on values in <code>ext_flag_col</code>.
</p>



<h4>External Control</h4>

<p>The <code>ext_flag_col</code> argument refers to the column in the data matrix that
contains the flag indicating a patient is from the external control cohort.
</p>



<h3>Value</h3>

<p>Object of class <code><a href="#topic+BorrowingNone-class">BorrowingNone</a></code>.
</p>


<h3>See Also</h3>

<p>Other borrowing: 
<code><a href="#topic+borrowing_full">borrowing_full</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>db &lt;- borrowing_none(
  ext_flag_col = "ext"
)
</code></pre>

<hr>
<h2 id='Borrowing-class'><code>Borrowing</code> Class</h2><span id='topic+Borrowing-class'></span>

<h3>Description</h3>

<p>A class for defining borrowing details. Objects of class
<code>Borrowing</code> should not be created directly but by the constructors
<code><a href="#topic+borrowing_hierarchical_commensurate">borrowing_hierarchical_commensurate()</a></code>, <code><a href="#topic+borrowing_none">borrowing_none()</a></code>, <code><a href="#topic+borrowing_full">borrowing_full()</a></code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>data_stan_code</code></dt><dd><p>string. Code to include in the Stan data program block.</p>
</dd>
<dt><code>method_name</code></dt><dd><p>string. The name of the method.</p>
</dd>
<dt><code>ext_flag_col</code></dt><dd><p>character. Name of the external flag column in the matrix.</p>
</dd>
</dl>


<h3>See Also</h3>

<p>Prior constructor functions: <code><a href="#topic+borrowing_full">borrowing_full()</a></code>, <code><a href="#topic+borrowing_hierarchical_commensurate">borrowing_hierarchical_commensurate()</a></code>, <code><a href="#topic+borrowing_none">borrowing_none()</a></code>
</p>
<p>Other borrowing classes: 
<code><a href="#topic+BorrowingFull-class">BorrowingFull-class</a></code>,
<code><a href="#topic+BorrowingHierarchicalCommensurate-class">BorrowingHierarchicalCommensurate-class</a></code>,
<code><a href="#topic+BorrowingNone-class">BorrowingNone-class</a></code>
</p>

<hr>
<h2 id='BorrowingFull-class'><code>BorrowingFull</code> class</h2><span id='topic+BorrowingFull-class'></span><span id='topic+.borrowing_full'></span>

<h3>Description</h3>

<p>A class for defining details for &quot;Full Borrowing&quot; methods.
Objects of class <code>BorrowingFull</code>
should not be created directly but by the constructor
<code><a href="#topic+borrowing_full">borrowing_full()</a></code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>data_stan_code</code></dt><dd><p>string. Code to include in the Stan data program block.</p>
</dd>
<dt><code>method_name</code></dt><dd><p>string. The name of the method.</p>
</dd>
<dt><code>ext_flag_col</code></dt><dd><p>character. Name of the external flag column in the matrix.</p>
</dd>
<dt><code>name_tau</code></dt><dd><p>named vector for hierarchical commensurability parameter hyperprior.</p>
</dd>
</dl>


<h3>See Also</h3>

<p>Other borrowing classes: 
<code><a href="#topic+Borrowing-class">Borrowing-class</a></code>,
<code><a href="#topic+BorrowingHierarchicalCommensurate-class">BorrowingHierarchicalCommensurate-class</a></code>,
<code><a href="#topic+BorrowingNone-class">BorrowingNone-class</a></code>
</p>

<hr>
<h2 id='BorrowingHierarchicalCommensurate-class'><code>BorrowingHierarchicalCommensurate</code> class</h2><span id='topic+BorrowingHierarchicalCommensurate-class'></span><span id='topic+.borrowing_hierarchical_commensurate'></span>

<h3>Description</h3>

<p>A class for defining details of dynamic borrowing
using the hierarchical Bayesian model with a commensurability
parameter. Objects of class <code>BorrowingHierarchicalCommensurate</code>
should not be created directly but by the constructor
<code><a href="#topic+borrowing_hierarchical_commensurate">borrowing_hierarchical_commensurate()</a></code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>data_stan_code</code></dt><dd><p>string. Code to include in the Stan data program block.</p>
</dd>
<dt><code>method_name</code></dt><dd><p>string. The name of the method.</p>
</dd>
<dt><code>ext_flag_col</code></dt><dd><p>character. Name of the external flag column in the matrix.</p>
</dd>
<dt><code>tau_prior</code></dt><dd><p>Prior. Prior for the commensurability parameter.</p>
</dd>
</dl>


<h3>See Also</h3>

<p>Other borrowing classes: 
<code><a href="#topic+Borrowing-class">Borrowing-class</a></code>,
<code><a href="#topic+BorrowingFull-class">BorrowingFull-class</a></code>,
<code><a href="#topic+BorrowingNone-class">BorrowingNone-class</a></code>
</p>

<hr>
<h2 id='BorrowingNone-class'><code>BorrowingNone</code> class</h2><span id='topic+BorrowingNone-class'></span><span id='topic+.borrowing_none'></span>

<h3>Description</h3>

<p>A class for defining details for &quot;No borrowing&quot; methods.
Objects of class <code>BorrowingNone</code>
should not be created directly but by the constructor
<code><a href="#topic+borrowing_none">borrowing_none()</a></code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>data_stan_code</code></dt><dd><p>string. Code to include in the Stan data program block.</p>
</dd>
<dt><code>method_name</code></dt><dd><p>string. The name of the method.</p>
</dd>
<dt><code>ext_flag_col</code></dt><dd><p>character. Name of the external flag column in the matrix.</p>
</dd>
</dl>


<h3>See Also</h3>

<p>Other borrowing classes: 
<code><a href="#topic+Borrowing-class">Borrowing-class</a></code>,
<code><a href="#topic+BorrowingFull-class">BorrowingFull-class</a></code>,
<code><a href="#topic+BorrowingHierarchicalCommensurate-class">BorrowingHierarchicalCommensurate-class</a></code>
</p>

<hr>
<h2 id='c'>Combine objects in <code>psborrow2</code></h2><span id='topic+c'></span><span id='topic+c+2CSimDataList-method'></span>

<h3>Description</h3>

<p>Creates <code>data.frame</code> objects from various classes in <code>psborrow2</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'SimDataList'
c(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="c_+3A_x">x</code></td>
<td>
<p>object of type: <a href="#topic+SimDataList-class">SimDataList</a></p>
</td></tr>
<tr><td><code id="c_+3A_...">...</code></td>
<td>
<p>additional objects to combine</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A combined object
</p>
<p>list of <code><a href="#topic+SimDataList-class">SimDataList</a></code> objects.
</p>

<hr>
<h2 id='cauchy_prior'>Legacy function for the cauchy prior</h2><span id='topic+cauchy_prior'></span>

<h3>Description</h3>

<p>Please use <code>prior_cauchy()</code> instead.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cauchy_prior(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cauchy_prior_+3A_...">...</code></td>
<td>
<p>Deprecated arguments to <code>cauchy_prior()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>This function does not return a value. When called, it triggers an error
message indicating that <code>cauchy_prior()</code> is deprecated and that
<code>prior_cauchy()</code> should be used instead.
</p>

<hr>
<h2 id='check_cmdstanr'>Check Stan</h2><span id='topic+check_cmdstanr'></span><span id='topic+check_cmdstan'></span>

<h3>Description</h3>

<p>Check whether <code>cmdstanr</code> is available and prints version and logistic example.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_cmdstanr(check_sampling = FALSE)

check_cmdstan()
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_cmdstanr_+3A_check_sampling">check_sampling</code></td>
<td>
<p>Compile and sample from the &quot;logistic&quot; example model.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>check_cmdstanr()</code> prints results from checks.
</p>
<p><code>check_cmdstan()</code> returns <code>TRUE</code> if <code>CmdStan</code> seems to be installed, otherwise <code>FALSE</code>
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>check_cmdstan()</code>: Check if the <code>CmdStan</code> command line tools are available.
</p>
</li></ul>


<h3>Examples</h3>

<pre><code class='language-R'>check_cmdstanr()
</code></pre>

<hr>
<h2 id='check_data_matrix_has_columns'>Check Data Matrix for Required Columns</h2><span id='topic+check_data_matrix_has_columns'></span>

<h3>Description</h3>

<p>Check that an <code>Analysis</code> object's <code>data_matrix</code> has all the required variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_data_matrix_has_columns(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_data_matrix_has_columns_+3A_object">object</code></td>
<td>
<p><code>Analysis</code>. Object to check.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>stop()</code> if some columns are missing.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>anls &lt;- create_analysis_obj(
  data_matrix = example_matrix,
  covariates = add_covariates(
    covariates = c("cov1", "cov2"),
    priors = prior_normal(0, 1000)
  ),
  outcome = outcome_surv_exponential(
    "time",
    "cnsr",
    baseline_prior = prior_normal(0, 1000)
  ),
  borrowing = borrowing_hierarchical_commensurate(
    "ext",
    prior_exponential(.001)
  ),
  treatment = treatment_details(
    "trt",
    prior_normal(0, 1000)
  )
)

check_data_matrix_has_columns(anls)

</code></pre>

<hr>
<h2 id='check_fixed_external_data'>Create a Fixed External Data Object</h2><span id='topic+check_fixed_external_data'></span>

<h3>Description</h3>

<p>Create a Fixed External Data Object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_fixed_external_data(data, req_cols)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_fixed_external_data_+3A_data">data</code></td>
<td>
<p>A <code>data.frame</code> containing external control data</p>
</td></tr>
<tr><td><code id="check_fixed_external_data_+3A_req_cols">req_cols</code></td>
<td>
<p>A <code>character</code> vector of required covariate columns</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>DataSimObject</code> with updated <code>enrollment_internal</code> and <code>enrollment_external</code> slots.
</p>

<hr>
<h2 id='cont_var'>Create continuous covariate</h2><span id='topic+cont_var'></span>

<h3>Description</h3>

<p>Create an object of class <code>SimVarCont</code> to hold mean values of
of continuous variables specified in a simulation study.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cont_var(mu_internal, mu_external)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cont_var_+3A_mu_internal">mu_internal</code></td>
<td>
<p>numeric. Mean covariate value for the internal arms.</p>
</td></tr>
<tr><td><code id="cont_var_+3A_mu_external">mu_external</code></td>
<td>
<p>numeric. Mean covariate value for the external arm.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Object of class <code><a href="#topic+SimVarCont-class">SimVarCont</a></code>.
</p>


<h3>See Also</h3>

<p>Other simvar: 
<code><a href="#topic+bin_var">bin_var</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cv1 &lt;- cont_var(0.5, 1)
cv2 &lt;- cont_var(10, 10)
</code></pre>

<hr>
<h2 id='ContinuousOutcome-class'><code>ContinuousOutcome</code> class</h2><span id='topic+ContinuousOutcome-class'></span>

<h3>Description</h3>

<p><code>ContinuousOutcome</code> class
</p>


<h3>Slots</h3>


<dl>
<dt><code>function_stan_code</code></dt><dd><p>character. Code to include in the Stan functions program block.</p>
</dd>
<dt><code>param_stan_code</code></dt><dd><p>character. Code to include in the Stan parameters program block.</p>
</dd>
<dt><code>likelihood_stan_code</code></dt><dd><p>character. Code defining the likelihood to include in the Stan model program block.</p>
</dd>
<dt><code>data_stan_code</code></dt><dd><p>character. Code to include in the Stan data program block.</p>
</dd>
<dt><code>n_param</code></dt><dd><p>integer. Number of ancillary parameters for the model to estimate.</p>
</dd>
<dt><code>param_priors</code></dt><dd><p>list. Named list of prior distributions on the ancillary parameters in the model.</p>
</dd>
<dt><code>continuous_var</code></dt><dd><p>character. Variable used for outcome in <code>ContinuousOutcome</code> objects.</p>
</dd>
<dt><code>baseline_prior</code></dt><dd><p><code>Prior</code>. Object of class <code>Prior</code>
specifying prior distribution for the baseline outcome.</p>
</dd>
<dt><code>name_beta_trt.</code></dt><dd><p>Named vector for beta_trt.</p>
</dd>
<dt><code>name_exp_trt.</code></dt><dd><p>Named vector for exponentiated beta_trt</p>
</dd>
<dt><code>alpha_type.</code></dt><dd><p>How to interpret alpha.</p>
</dd>
<dt><code>name_addnl_params.</code></dt><dd><p>Named vector for additional parameters.</p>
</dd>
</dl>


<h3>See Also</h3>

<p>Other outcome: 
<code><a href="#topic+BinaryOutcome-class">BinaryOutcome-class</a></code>,
<code><a href="#topic+Outcome-class">Outcome-class</a></code>,
<code><a href="#topic+OutcomeBinaryLogistic-class">OutcomeBinaryLogistic-class</a></code>,
<code><a href="#topic+OutcomeContinuousNormal-class">OutcomeContinuousNormal-class</a></code>,
<code><a href="#topic+OutcomeSurvExponential-class">OutcomeSurvExponential-class</a></code>,
<code><a href="#topic+OutcomeSurvWeibullPH-class">OutcomeSurvWeibullPH-class</a></code>,
<code><a href="#topic+TimeToEvent-class">TimeToEvent-class</a></code>
</p>

<hr>
<h2 id='covariance_matrix'>Create Covariance Matrix</h2><span id='topic+covariance_matrix'></span>

<h3>Description</h3>

<p>Create Covariance Matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>covariance_matrix(diag, upper_tri)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="covariance_matrix_+3A_diag">diag</code></td>
<td>
<p>Diagonal entries of the covariance matrix</p>
</td></tr>
<tr><td><code id="covariance_matrix_+3A_upper_tri">upper_tri</code></td>
<td>
<p>Upper triangle entries of the matrix, specified column wise.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A symmetric matrix with <code>diag</code> values on the main diagonal and
<code>upper_tri</code> values in the lower and upper triangles.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>m1 &lt;- covariance_matrix(c(1, 1, 1, 1), c(.8, .3, .8, 0, 0, 0))
m1
mvtnorm::rmvnorm(5, mean = c(0, 0, 0, 0), sigma = m1)

# No correlation
covariance_matrix(c(1, 2, 3))

</code></pre>

<hr>
<h2 id='Covariates-class'><code>Covariate</code> Class</h2><span id='topic+Covariates-class'></span><span id='topic+.covariate_class'></span>

<h3>Description</h3>

<p>A class for defining covariate details. Objects of class
<code>Covariate</code> should not be created directly but by the constructor
<code><a href="#topic+add_covariates">add_covariates()</a></code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>covariates</code></dt><dd><p>character. Names of columns in the data matrix containing
covariates to be adjusted for in the outcome model. Note: the
external and treatment flags should not go here.</p>
</dd>
<dt><code>priors.</code></dt><dd><p>Either a single object of class <code>Prior</code> specifying the prior
distribution to apply to all covariates or a named list of
distributions of class <code>Prior</code>, one for each covariate</p>
</dd>
<dt><code>name_betas.</code></dt><dd><p>Names for the beta parameters in the STAN model.</p>
</dd>
</dl>

<hr>
<h2 id='create_alpha_string'>Create alpha string</h2><span id='topic+create_alpha_string'></span><span id='topic+create_alpha_string+2CBorrowing-method'></span><span id='topic+create_alpha_string+2CBorrowingHierarchicalCommensurate-method'></span>

<h3>Description</h3>

<p>Create alpha string
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_alpha_string(borrowing_object, outcome_object)

## S4 method for signature 'Borrowing'
create_alpha_string(borrowing_object, outcome_object)

## S4 method for signature 'BorrowingHierarchicalCommensurate'
create_alpha_string(borrowing_object, outcome_object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="create_alpha_string_+3A_borrowing_object">borrowing_object</code></td>
<td>
<p>borrowing object</p>
</td></tr>
<tr><td><code id="create_alpha_string_+3A_outcome_object">outcome_object</code></td>
<td>
<p>outcome object</p>
</td></tr>
</table>

<hr>
<h2 id='create_analysis_obj'>Compile MCMC sampler using STAN and create analysis object</h2><span id='topic+create_analysis_obj'></span>

<h3>Description</h3>

<p>Compile MCMC sampler using STAN and create analysis object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_analysis_obj(
  data_matrix,
  outcome,
  borrowing,
  treatment,
  covariates = NULL,
  quiet = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="create_analysis_obj_+3A_data_matrix">data_matrix</code></td>
<td>
<p>matrix. The data matrix, including all covariates to be
adjusted for, all relevant outcome variables, and treatment arm and external
control arm flags.</p>
</td></tr>
<tr><td><code id="create_analysis_obj_+3A_outcome">outcome</code></td>
<td>
<p><code>Outcome</code>. Object of class <code><a href="#topic+Outcome-class">Outcome</a></code> as output by
<code><a href="#topic+outcome_surv_exponential">outcome_surv_exponential()</a></code>, <code><a href="#topic+outcome_surv_weibull_ph">outcome_surv_weibull_ph()</a></code>, or <code><a href="#topic+outcome_bin_logistic">outcome_bin_logistic()</a></code>.</p>
</td></tr>
<tr><td><code id="create_analysis_obj_+3A_borrowing">borrowing</code></td>
<td>
<p><code>Borrowing</code>. Object of class <code><a href="#topic+Borrowing-class">Borrowing</a></code> as output by
<code><a href="#topic+borrowing_full">borrowing_full()</a></code>, <code><a href="#topic+borrowing_none">borrowing_none()</a></code>, and <code><a href="#topic+borrowing_hierarchical_commensurate">borrowing_hierarchical_commensurate()</a></code>.</p>
</td></tr>
<tr><td><code id="create_analysis_obj_+3A_treatment">treatment</code></td>
<td>
<p><code>Treatment</code>. Object of class <code><a href="#topic+Treatment-class">Treatment</a></code> as output by
<code><a href="#topic+treatment_details">treatment_details()</a></code>.</p>
</td></tr>
<tr><td><code id="create_analysis_obj_+3A_covariates">covariates</code></td>
<td>
<p><code>Covariates</code>. Object of class <code><a href="#topic+Covariates-class">Covariates</a></code> as output by
the function <code><a href="#topic+add_covariates">add_covariates()</a></code>.</p>
</td></tr>
<tr><td><code id="create_analysis_obj_+3A_quiet">quiet</code></td>
<td>
<p>logical. Whether to suppress messages (<code>TRUE</code>) or not (<code>FALSE</code>,
the default)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Object of class <code><a href="#topic+Analysis-class">Analysis</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (check_cmdstan()) {
  anls &lt;- create_analysis_obj(
    data_matrix = example_matrix,
    outcome = outcome_surv_exponential(
      "time",
      "cnsr",
      baseline_prior = prior_normal(0, 1000)
    ),
    borrowing = borrowing_hierarchical_commensurate(
      "ext",
      prior_exponential(.001)
    ),
    treatment = treatment_details(
      "trt",
      prior_normal(0, 1000)
    ),
    covariates = add_covariates(
      covariates = c("cov1", "cov2"),
      priors = prior_normal(0, 1000)
    )
  )
}

</code></pre>

<hr>
<h2 id='create_baseline_object'>Create Baseline Data Simulation Object</h2><span id='topic+create_baseline_object'></span>

<h3>Description</h3>

<p>Create Baseline Data Simulation Object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_baseline_object(
  n_trt_int,
  n_ctrl_int,
  n_ctrl_ext,
  covariates,
  transformations
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="create_baseline_object_+3A_n_trt_int">n_trt_int</code></td>
<td>
<p>Number of internal treated patients</p>
</td></tr>
<tr><td><code id="create_baseline_object_+3A_n_ctrl_int">n_ctrl_int</code></td>
<td>
<p>Number of internal control patients</p>
</td></tr>
<tr><td><code id="create_baseline_object_+3A_n_ctrl_ext">n_ctrl_ext</code></td>
<td>
<p>Number of external control patients</p>
</td></tr>
<tr><td><code id="create_baseline_object_+3A_covariates">covariates</code></td>
<td>
<p>List of correlated covariates objects, see <code><a href="#topic+baseline_covariates">baseline_covariates()</a></code></p>
</td></tr>
<tr><td><code id="create_baseline_object_+3A_transformations">transformations</code></td>
<td>
<p>List of named transformation functions.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Transformation functions are evaluated in order and create or overwrite a column
in the data.frame with that name. The function should take a <code>data.frame</code> (specifically
a <code>BaselineDataFrame</code> object from <code>generate(BaselineObject)</code>) and return a vector with
length identical to the total number of patients.
The <code style="white-space: pre;">&#8288;@BaselineObject&#8288;</code> slot may be accessed directly or with <code><a href="#topic+get_quantiles">get_quantiles()</a></code> to
create transformations. See <code><a href="#topic+binary_cutoff">binary_cutoff()</a></code>
</p>


<h3>Value</h3>

<p>A <a href="#topic+BaselineObject-class">BaselineObject</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>bl_no_covs &lt;- create_baseline_object(
  n_trt_int = 100,
  n_ctrl_int = 50,
  n_ctrl_ext = 100
)


bl_biomarkers &lt;- create_baseline_object(
  n_trt_int = 100,
  n_ctrl_int = 50,
  n_ctrl_ext = 100,
  covariates = baseline_covariates(
    c("b1", "b2", "b3"),
    means_int = c(0, 0, 0),
    covariance_int = covariance_matrix(c(1, 1, 1), c(.8, .3, .8))
  ),
  transformations = list(
    exp_b1 = function(data) exp(data$b1),
    b2 = binary_cutoff("b2", int_cutoff = 0.7, ext_cutoff = 0.5)
  )
)

</code></pre>

<hr>
<h2 id='create_data_matrix'>Create Data Matrix</h2><span id='topic+create_data_matrix'></span>

<h3>Description</h3>

<p>Creates a matrix suitable for <code><a href="#topic+create_analysis_obj">create_analysis_obj()</a></code>. Creates dummy variables for factors and
allows transformations of covariates specified with a formula.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_data_matrix(
  data,
  outcome,
  trt_flag_col,
  ext_flag_col,
  covariates = NULL,
  weight_var = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="create_data_matrix_+3A_data">data</code></td>
<td>
<p>data.frame. Data containing all variables</p>
</td></tr>
<tr><td><code id="create_data_matrix_+3A_outcome">outcome</code></td>
<td>
<p>character. The outcome variable for binary outcomes or the time and censoring variables.</p>
</td></tr>
<tr><td><code id="create_data_matrix_+3A_trt_flag_col">trt_flag_col</code></td>
<td>
<p>character. The treatment indicator variable.</p>
</td></tr>
<tr><td><code id="create_data_matrix_+3A_ext_flag_col">ext_flag_col</code></td>
<td>
<p>character. The external cohort indicator.</p>
</td></tr>
<tr><td><code id="create_data_matrix_+3A_covariates">covariates</code></td>
<td>
<p>character or formula. The covariates for model adjustment.</p>
</td></tr>
<tr><td><code id="create_data_matrix_+3A_weight_var">weight_var</code></td>
<td>
<p>character. An optional weight variable.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Invisibly returns a <code>matrix</code> containing all variables to pass to <code><a href="#topic+create_analysis_obj">create_analysis_obj()</a></code>.
Prints names of covariates columns to use with <code><a href="#topic+add_covariates">add_covariates()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dat &lt;- survival::diabetic
dat$ext &lt;- dat$trt == 0 &amp; dat$id &gt; 1000
data_mat &lt;- create_data_matrix(
  dat,
  outcome = c("time", "status"),
  trt_flag_col = "trt",
  ext_flag_col = "ext",
  covariates = ~ age + laser + log(risk)
)
data_mat
</code></pre>

<hr>
<h2 id='create_data_simulation'>Data Simulation</h2><span id='topic+create_data_simulation'></span>

<h3>Description</h3>

<p>Data Simulation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_data_simulation(
  baseline,
  coefficients = numeric(),
  treatment_hr = 1,
  drift_hr = 1,
  event_dist,
  fixed_external_data
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="create_data_simulation_+3A_baseline">baseline</code></td>
<td>
<p><code>BaselineObject</code> from <code><a href="#topic+create_baseline_object">create_baseline_object()</a></code></p>
</td></tr>
<tr><td><code id="create_data_simulation_+3A_coefficients">coefficients</code></td>
<td>
<p>Named vector of coefficients for linear predictor. Must correspond to variables in baseline
object</p>
</td></tr>
<tr><td><code id="create_data_simulation_+3A_treatment_hr">treatment_hr</code></td>
<td>
<p>Default treatment hazard ratio for simulations. Alternative simulation settings can be specified
in <a href="#topic+generate">generate</a>.</p>
</td></tr>
<tr><td><code id="create_data_simulation_+3A_drift_hr">drift_hr</code></td>
<td>
<p>Default drift hazard ratio between internal and external arms. Alternative simulation settings can be
specified in <a href="#topic+generate">generate</a>.</p>
</td></tr>
<tr><td><code id="create_data_simulation_+3A_event_dist">event_dist</code></td>
<td>
<p>Specify time to event distribution with <code>SimDataEvent</code> object from <code><a href="#topic+create_event_dist">create_event_dist()</a></code></p>
</td></tr>
<tr><td><code id="create_data_simulation_+3A_fixed_external_data">fixed_external_data</code></td>
<td>
<p>A <code>data.frame</code> containing external control data. It must contain columns <code>eventtime</code>,
<code>status</code> and all of the variables named in <code>coefficients</code>. If present, <code>trt</code> must be 0 and <code>ext</code> must be 1 for all
rows.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>DataSimObject</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>baseline_obj &lt;- create_baseline_object(
  n_trt_int = 100,
  n_ctrl_int = 50,
  n_ctrl_ext = 10,
  covariates = baseline_covariates(
    names = c("age", "score"),
    means_int = c(55, 5),
    means_ext = c(60, 5),
    covariance_int = covariance_matrix(c(5, 1))
  )
)
sim_obj &lt;- create_data_simulation(
  baseline_obj,
  coefficients = c(age = 0.001, score = 1.5),
  event_dist = create_event_dist(dist = "exponential", lambdas = 1 / 36)
)
data_sim_list &lt;- generate(sim_obj, treatment_hr = c(0.5, 1), drift_hr = 0.5)
</code></pre>

<hr>
<h2 id='create_event_dist'>Specify a Time to Event Distribution</h2><span id='topic+create_event_dist'></span><span id='topic+null_event_dist'></span>

<h3>Description</h3>

<p>Uses <a href="simsurv.html#topic+simsurv">simsurv::simsurv</a> to generate time to event data. See <code>simsurv</code> help for more details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_event_dist(
  dist = NULL,
  lambdas = NULL,
  gammas = NULL,
  mixture = FALSE,
  pmix = 0.5,
  hazard = NULL,
  loghazard = NULL,
  cumhazard = NULL,
  logcumhazard = NULL,
  ...
)

null_event_dist()
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="create_event_dist_+3A_dist">dist</code></td>
<td>
<p>Specify the distribution <code>"exponential"</code></p>
</td></tr>
<tr><td><code id="create_event_dist_+3A_lambdas">lambdas</code></td>
<td>
<p>Scale parameter</p>
</td></tr>
<tr><td><code id="create_event_dist_+3A_gammas">gammas</code></td>
<td>
<p>Second parameter needed for Weibull or Gompertz distributions</p>
</td></tr>
<tr><td><code id="create_event_dist_+3A_mixture">mixture</code></td>
<td>
<p>Use mixture model?</p>
</td></tr>
<tr><td><code id="create_event_dist_+3A_pmix">pmix</code></td>
<td>
<p>Proportion of mixtures</p>
</td></tr>
<tr><td><code id="create_event_dist_+3A_hazard">hazard</code></td>
<td>
<p>A user defined hazard function</p>
</td></tr>
<tr><td><code id="create_event_dist_+3A_loghazard">loghazard</code></td>
<td>
<p>Alternatively, a user defined log hazard function</p>
</td></tr>
<tr><td><code id="create_event_dist_+3A_cumhazard">cumhazard</code></td>
<td>
<p>Alternatively, a user defined cumulative hazard function</p>
</td></tr>
<tr><td><code id="create_event_dist_+3A_logcumhazard">logcumhazard</code></td>
<td>
<p>Alternatively, a user defined log cumulative hazard function</p>
</td></tr>
<tr><td><code id="create_event_dist_+3A_...">...</code></td>
<td>
<p>Other <code>simsurv</code> parameters</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>SimDataEvent</code> object
</p>
<p><code>null_event_dist</code> returns an object with no parameters specified that does not simulate event times.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>weibull_surv &lt;- create_event_dist(dist = "weibull", lambdas = 1 / 200, gammas = 1)
exp_event_dist &lt;- create_event_dist(dist = "exponential", lambdas = 1 / 36)
null_event_dist()
</code></pre>

<hr>
<h2 id='create_simulation_obj'>Compile MCMC sampler using STAN and create simulation object</h2><span id='topic+create_simulation_obj'></span>

<h3>Description</h3>

<p>Compile MCMC sampler using STAN and create simulation object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_simulation_obj(
  data_matrix_list,
  covariate = NULL,
  outcome,
  borrowing,
  treatment,
  quiet = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="create_simulation_obj_+3A_data_matrix_list">data_matrix_list</code></td>
<td>
<p><code>SimDataList</code>. The list of lists of data matrices created
with <code>sim_data_list()</code>.</p>
</td></tr>
<tr><td><code id="create_simulation_obj_+3A_covariate">covariate</code></td>
<td>
<p><code>SimCovariateList</code> or <code>Covariate</code> or <code>NULL</code>. List of <code>Covariate</code> objects created
with <code>sim_covariate()</code>, a single <code>Covariate</code> object created by <code>add_covariates()</code>,
or <code>NULL</code> (no covariate adjustment).</p>
</td></tr>
<tr><td><code id="create_simulation_obj_+3A_outcome">outcome</code></td>
<td>
<p><code>SimOutcomeList</code> or <code>Outcome</code>. List of <code>Outcome</code> objects created with
<code>sim_outcome()</code>, or single <code>Outcome</code> object (e.g., created by <code>outcome_surv_exponential()</code>).</p>
</td></tr>
<tr><td><code id="create_simulation_obj_+3A_borrowing">borrowing</code></td>
<td>
<p><code>SimBorrowingList</code> or <code>Borrowing</code>. List of <code>Borrowing</code> objects created
with <code>sim_borrowing()</code>, or a single <code>Borrowing</code> object created by <code>borrowing_full()</code>,
<code>borrowing_none()</code>, or <code>borrowing_hierarchical_commensurate()</code>.</p>
</td></tr>
<tr><td><code id="create_simulation_obj_+3A_treatment">treatment</code></td>
<td>
<p><code>SimTreatmentList</code> or <code>Treatment</code>. List of <code>Treatment</code> objects created
with <code>sim_treatment()</code> or a single <code>Treatment</code> object created by <code>treatment_details()</code>.</p>
</td></tr>
<tr><td><code id="create_simulation_obj_+3A_quiet">quiet</code></td>
<td>
<p>logical. Whether to print messages (<code>quiet = FALSE</code>) or not
(<code>quiet = TRUE</code>, the default)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Object of class <code><a href="#topic+Simulation-class">Simulation</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>base_mat &lt;- matrix(
  c(
    rep(0, 200), rep(0, 200), rep(1, 200),
    rep(1, 200), rep(0, 200), rep(0, 200),
    rep(0, 600)
  ),
  ncol = 3,
  dimnames = list(NULL, c("ext", "trt", "driftOR"))
)

add_binary_endpoint &lt;- function(odds_ratio,
                                base_matrix = base_mat) {
  linear_predictor &lt;- base_matrix[, "trt"] * log(odds_ratio)
  prob &lt;- 1 / (1 + exp(-linear_predictor))

  bin_endpoint &lt;- rbinom(
    NROW(base_matrix),
    1,
    prob
  )

  cbind(base_matrix, matrix(bin_endpoint, ncol = 1, dimnames = list(NULL, "ep")))
}

data_list &lt;- list(
  list(add_binary_endpoint(1.5), add_binary_endpoint(1.5)),
  list(add_binary_endpoint(2.5), add_binary_endpoint(2.5))
)

guide &lt;- data.frame(
  trueOR = c(1.5, 2.5),
  driftOR = c(1.0, 1.0),
  index = 1:2
)

sdl &lt;- sim_data_list(
  data_list = data_list,
  guide = guide,
  effect = "trueOR",
  drift = "driftOR",
  index = "index"
)

if (check_cmdstan()) {
  sim_object &lt;- create_simulation_obj(
    data_matrix_list = sdl,
    outcome = outcome_bin_logistic("ep", prior_normal(0, 1000)),
    borrowing = sim_borrowing_list(list(
      full_borrowing = borrowing_full("ext"),
      bdb = borrowing_hierarchical_commensurate("ext", prior_exponential(0.0001))
    )),
    treatment = treatment_details("trt", prior_normal(0, 1000))
  )
}
</code></pre>

<hr>
<h2 id='create_tau_string'>Create tau string</h2><span id='topic+create_tau_string'></span><span id='topic+create_tau_string+2CBorrowing-method'></span><span id='topic+create_tau_string+2CBorrowingHierarchicalCommensurate-method'></span>

<h3>Description</h3>

<p>Create tau string
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_tau_string(borrowing_object)

## S4 method for signature 'Borrowing'
create_tau_string(borrowing_object)

## S4 method for signature 'BorrowingHierarchicalCommensurate'
create_tau_string(borrowing_object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="create_tau_string_+3A_borrowing_object">borrowing_object</code></td>
<td>
<p>borrowing object</p>
</td></tr>
</table>

<hr>
<h2 id='custom_enrollment'>Create a <code>DataSimEnrollment</code> Object</h2><span id='topic+custom_enrollment'></span>

<h3>Description</h3>

<p>Create a <code>DataSimEnrollment</code> Object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>custom_enrollment(fun, label)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="custom_enrollment_+3A_fun">fun</code></td>
<td>
<p>A function that takes one argument <code>n</code> the number of enrollment times to observe and returns a
vector of times.</p>
</td></tr>
<tr><td><code id="custom_enrollment_+3A_label">label</code></td>
<td>
<p>A user-friendly label</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <a href="#topic+DataSimEnrollment-class">DataSimEnrollment</a> object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>custom_enrollment(
  fun = function(n) rpois(n, lambda = 5),
  label = "Poisson enrollment distribution"
)
</code></pre>

<hr>
<h2 id='cut_off_funs'>Cut Off Functions</h2><span id='topic+cut_off_funs'></span><span id='topic+cut_off_none'></span><span id='topic+cut_off_after_first'></span><span id='topic+cut_off_after_last'></span><span id='topic+cut_off_after_events'></span>

<h3>Description</h3>

<p>Cut Off Functions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cut_off_none()

cut_off_after_first(time)

cut_off_after_last(time)

cut_off_after_events(n)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cut_off_funs_+3A_time">time</code></td>
<td>
<p>Time to cut off</p>
</td></tr>
<tr><td><code id="cut_off_funs_+3A_n">n</code></td>
<td>
<p>Number of events</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>DataSimCutOff</code> object containing a cut-off function
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>cut_off_none()</code>: No cut off is specified
</p>
</li>
<li> <p><code>cut_off_after_first()</code>: Cut off at <code>time</code> after first enrolled patient
</p>
</li>
<li> <p><code>cut_off_after_last()</code>: Cut off at <code>time</code> after last enrolled patient
</p>
</li>
<li> <p><code>cut_off_after_events()</code>: Cut off after the time of the n-th event
</p>
</li></ul>


<h3>Examples</h3>

<pre><code class='language-R'>cut_off_none()
cut_off_after_first(time = 36)
cut_off_after_last(time = 36)
cut_off_after_events(n = 20)
</code></pre>

<hr>
<h2 id='DataSimCutOff-class'>Cut Off Object</h2><span id='topic+DataSimCutOff-class'></span><span id='topic+.datasim_cut_off'></span>

<h3>Description</h3>

<p>Cut Off Object
</p>


<h3>Slots</h3>


<dl>
<dt><code>cut_off_fun</code></dt><dd><p>A function that takes a <code>data.frame</code> with columns of enrollment time, survival time and outcome.
The function returns a modified <code>data.frame</code> after applied the cut-off rule.</p>
</dd>
</dl>

<hr>
<h2 id='DataSimEnrollment-class'>Enrollment Object</h2><span id='topic+DataSimEnrollment-class'></span><span id='topic+.datasim_enrollment'></span>

<h3>Description</h3>

<p>Enrollment Object
</p>


<h3>Slots</h3>


<dl>
<dt><code>fun</code></dt><dd><p>A function that takes one argument <code>n</code> the number of enrollment times to observe and returns a
vector of times.</p>
</dd>
<dt><code>label</code></dt><dd><p>A user-friendly label</p>
</dd>
</dl>

<hr>
<h2 id='DataSimEvent-class'>Event Time Distribution Object</h2><span id='topic+DataSimEvent-class'></span><span id='topic+.datasim_event'></span>

<h3>Description</h3>

<p>Event Time Distribution Object
</p>


<h3>Slots</h3>


<dl>
<dt><code>params</code></dt><dd><p>Parameters used for simulating event times with <code><a href="simsurv.html#topic+simsurv">simsurv::simsurv()</a></code>.</p>
</dd>
<dt><code>label</code></dt><dd><p>Description of the distribution.</p>
</dd>
</dl>

<hr>
<h2 id='DataSimFixedExternalData-class'>Fixed External Control Data Object</h2><span id='topic+DataSimFixedExternalData-class'></span><span id='topic+.datasim_fixed_external_data'></span>

<h3>Description</h3>

<p>Fixed External Control Data Object
</p>


<h3>Value</h3>

<p>A <code>FixedExternalData</code>
</p>


<h3>Slots</h3>


<dl>
<dt><code>data</code></dt><dd><p><code>data.frame</code> containing external control data</p>
</dd>
<dt><code>n</code></dt><dd><p>Number of observations</p>
</dd>
</dl>

<hr>
<h2 id='DataSimObject-class'>Data Simulation Object Class</h2><span id='topic+DataSimObject-class'></span><span id='topic+.datasim_object'></span>

<h3>Description</h3>

<p>Data Simulation Object Class
</p>


<h3>Value</h3>

<p>A <code>DataSimObject</code>
</p>


<h3>Slots</h3>


<dl>
<dt><code>baseline</code></dt><dd><p><code>BaselineObject</code> from <a href="#topic+create_baseline_object">create_baseline_object</a></p>
</dd>
<dt><code>coefficients</code></dt><dd><p>Named <code>numeric</code> vector of <code>beta</code> coefficients for survival model. See <code>beta</code> at
<code>?simsurv::simsurv</code></p>
</dd>
<dt><code>treatment_hr</code></dt><dd><p><code>numeric</code> treatment effect as a hazard ration. <code>log(treatment_hr)</code> is included in <code>beta</code> with
<code>coefficients</code> and <code>log(drift_hr)</code>. This default is overridden by <a href="#topic+generate+2CDataSimObject-method">generate</a>
arguments</p>
</dd>
<dt><code>drift_hr</code></dt><dd><p><code>numeric</code> hazard ratio between internal and external arms. Included as <code>log(drift_hr)</code>.</p>
</dd>
<dt><code>fixed_external_data</code></dt><dd><p><code>data.frame</code> for external data. Currently unused.</p>
</dd>
<dt><code>event_dist</code></dt><dd><p><code>DataSimEvent</code> parameters for outcome distribution from <code><a href="#topic+create_event_dist">create_event_dist()</a></code></p>
</dd>
<dt><code>enrollment</code></dt><dd><p><code>DataSimEnrollment</code> object.</p>
</dd>
<dt><code>cut_off</code></dt><dd><p><code>DataSimCutOff</code></p>
</dd>
</dl>

<hr>
<h2 id='enrollment_constant'>Constant Enrollment Rates</h2><span id='topic+enrollment_constant'></span>

<h3>Description</h3>

<p>Constant Enrollment Rates
</p>


<h3>Usage</h3>

<pre><code class='language-R'>enrollment_constant(rate, for_time = rep(1, length(rate)))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="enrollment_constant_+3A_rate">rate</code></td>
<td>
<p>Number of patients to enroll per unit time</p>
</td></tr>
<tr><td><code id="enrollment_constant_+3A_for_time">for_time</code></td>
<td>
<p>Number of time periods for each rate. Must be equal length to <code>rate</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <a href="#topic+DataSimEnrollment-class">DataSimEnrollment</a> to be passed to <code><a href="#topic+create_data_simulation">create_data_simulation()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># 10 patients/month for 6 months, then 5/month for 6 months
enroll_obj &lt;- enrollment_constant(rate = c(10, 5), for_time = c(6, 6))
enroll_obj@fun(n = 80)
</code></pre>

<hr>
<h2 id='eval_constraints'>Evaluate constraints</h2><span id='topic+eval_constraints'></span><span id='topic+eval_constraints+2CPrior-method'></span>

<h3>Description</h3>

<p>Evaluate constraints when these are called
</p>


<h3>Usage</h3>

<pre><code class='language-R'>eval_constraints(object)

## S4 method for signature 'Prior'
eval_constraints(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="eval_constraints_+3A_object">object</code></td>
<td>
<p><code>Prior</code> object</p>
</td></tr>
</table>

<hr>
<h2 id='example_matrix'>Example data matrix</h2><span id='topic+example_matrix'></span>

<h3>Description</h3>

<p>A matrix containing data from a clinical trial with a treatment arm and a
control arm, as well as data from an external control. In this simulated
dataset, the true hazard ratio (HR) for the time-to-event endpoint
comparing the experimental treatment to the control treatment
is 0.70. The true odds ratio (OR) for the binary response endpoint
comparing the experimental treatment to the control treatment
is 1.20.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>example_matrix
</code></pre>


<h3>Format</h3>

<p>A data frame with 500 rows and 11 columns. The distributions of
patients is: 50 internal control patients, 100 internal experimental
patients, 350 external control patients.
</p>

<dl>
<dt>id</dt><dd><p>patient identifier</p>
</dd>
<dt>ext</dt><dd><p>0/1, flag for external controls</p>
</dd>
<dt>trt</dt><dd><p>0/1, flag for treatment arm</p>
</dd>
<dt>cov1</dt><dd><p>0/1, baseline covariate</p>
</dd>
<dt>cov2</dt><dd><p>0/1, baseline covariate</p>
</dd>
<dt>cov3</dt><dd><p>0/1, baseline covariate</p>
</dd>
<dt>cov4</dt><dd><p>0/1, baseline covariate</p>
</dd>
<dt>time</dt><dd><p>numeric &gt;0, survival time</p>
</dd>
<dt>status</dt><dd><p>0/1, indicator for event status
(1 = had event, 0 = did not have event)</p>
</dd>
<dt>cnsr</dt><dd><p>0/1, censoring indicator
(1 = was censored, 0 = was not censored)</p>
</dd></dl>
<p>. This value is 1 - status.
</p>
<dl>
<dt>resp</dt><dd><p>0/1, indicator for response outcome
(1 = had a response, 0 = did not have a response)</p>
</dd>
</dl>


<hr>
<h2 id='example_surv'>Simulated Survival Data</h2><span id='topic+example_surv'></span>

<h3>Description</h3>

<p>A data frame containing simulated data from a clinical trial
with a treatment arm (n=200) and a control arm (n=158), as well as data
from an external control (n=242).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>example_surv
</code></pre>


<h3>Format</h3>

<p>A data frame with 600 rows and 6 variables:
</p>

<dl>
<dt>trt</dt><dd><p>0/1, flag for treatment arm</p>
</dd>
<dt>ext</dt><dd><p>0/1, flag for external controls</p>
</dd>
<dt>eventtime</dt><dd><p>numeric &gt;0, survival time</p>
</dd>
<dt>status</dt><dd><p>0/1, event indicator</p>
</dd>
<dt>censor</dt><dd><p>0/1, censoring indicator</p>
</dd>
<dt>cov1</dt><dd><p>0/1, binary baseline covariate 1</p>
</dd>
<dt>cov2</dt><dd><p>integer in [0, 15], baseline covariate 2</p>
</dd>
<dt>cov3</dt><dd><p>continuous numeric, baseline covariate 3</p>
</dd>
</dl>


<hr>
<h2 id='exp_surv_dist'>Legacy function for the exponential survival distribution</h2><span id='topic+exp_surv_dist'></span>

<h3>Description</h3>

<p>Please use <code>outcome_surv_exponential()</code> instead.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>exp_surv_dist(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="exp_surv_dist_+3A_...">...</code></td>
<td>
<p>Deprecated arguments to <code>exp_surv_dist()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>This function does not return a value. When called, it triggers an error
message indicating that <code>exp_surv_dist()</code> is deprecated and that
<code>outcome_surv_exponential()</code> should be used instead.
</p>

<hr>
<h2 id='exponential_prior'>Legacy function for the exponential prior</h2><span id='topic+exponential_prior'></span>

<h3>Description</h3>

<p>Please use <code>prior_exponential()</code> instead.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>exponential_prior(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="exponential_prior_+3A_...">...</code></td>
<td>
<p>Deprecated arguments to <code>exponential_prior()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>This function does not return a value. When called, it triggers an error
message indicating that <code>exponential_prior()</code> is deprecated and that
<code>prior_exponential()</code> should be used instead.
</p>

<hr>
<h2 id='gamma_prior'>Legacy function for the gamma prior</h2><span id='topic+gamma_prior'></span>

<h3>Description</h3>

<p>Please use <code>prior_gamma()</code> instead.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gamma_prior(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gamma_prior_+3A_...">...</code></td>
<td>
<p>Deprecated arguments to <code>gamma_prior()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>This function does not return a value. When called, it triggers an error
message indicating that <code>gamma_prior()</code> is deprecated and that
<code>prior_gamma()</code> should be used instead.
</p>

<hr>
<h2 id='generate'>Generate Data from Object</h2><span id='topic+generate'></span>

<h3>Description</h3>

<p>Generate Data from Object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>generate(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="generate_+3A_x">x</code></td>
<td>
<p>object</p>
</td></tr>
<tr><td><code id="generate_+3A_...">...</code></td>
<td>
<p>Other arguments passed to methods</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Object of class <code><a href="#topic+SimDataList-class">SimDataList</a></code>.
</p>

<hr>
<h2 id='generate+2CBaselineObject-method'>Generate Data for a <code>BaselineObject</code></h2><span id='topic+generate+2CBaselineObject-method'></span>

<h3>Description</h3>

<p>Generate Data for a <code>BaselineObject</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'BaselineObject'
generate(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="generate+2B2CBaselineObject-method_+3A_x">x</code></td>
<td>
<p>a <code>BaselineObject</code> object created by <a href="#topic+create_baseline_object">create_baseline_object</a></p>
</td></tr>
<tr><td><code id="generate+2B2CBaselineObject-method_+3A_...">...</code></td>
<td>
<p>additional parameters are ignored</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <a href="#topic+BaselineDataFrame-class">BaselineDataFrame</a> object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>bl_biomarkers &lt;- create_baseline_object(
  n_trt_int = 100,
  n_ctrl_int = 50,
  n_ctrl_ext = 100,
  covariates = baseline_covariates(
    c("b1", "b2", "b3"),
    means_int = c(0, 0, 0),
    covariance_int = covariance_matrix(c(1, 1, 1), c(.8, .3, .8))
  ),
  transformations = list(
    exp_b1 = function(data) exp(data$b1),
    b2 = binary_cutoff("b2", int_cutoff = 0.7, ext_cutoff = 0.5)
  )
)
generate(bl_biomarkers)
</code></pre>

<hr>
<h2 id='generate+2CDataSimObject-method'>Generate Data for a <code>DataSimObject</code></h2><span id='topic+generate+2CDataSimObject-method'></span>

<h3>Description</h3>

<p>Generate Data for a <code>DataSimObject</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'DataSimObject'
generate(x, n = 1, treatment_hr = NULL, drift_hr = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="generate+2B2CDataSimObject-method_+3A_x">x</code></td>
<td>
<p>a <code>DataSimObject</code> object created by <a href="#topic+create_data_simulation">create_data_simulation</a></p>
</td></tr>
<tr><td><code id="generate+2B2CDataSimObject-method_+3A_n">n</code></td>
<td>
<p>number of data sets to simulate</p>
</td></tr>
<tr><td><code id="generate+2B2CDataSimObject-method_+3A_treatment_hr">treatment_hr</code></td>
<td>
<p>vector of numeric treatment effects</p>
</td></tr>
<tr><td><code id="generate+2B2CDataSimObject-method_+3A_drift_hr">drift_hr</code></td>
<td>
<p>vector of numeric drift effects</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <a href="#topic+SimDataList-class">SimDataList</a> object for use with <code><a href="#topic+create_simulation_obj">create_simulation_obj()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>baseline_obj &lt;- create_baseline_object(
  n_trt_int = 100,
  n_ctrl_int = 50,
  n_ctrl_ext = 10,
  covariates = baseline_covariates(
    names = c("age", "score"),
    means_int = c(55, 5),
    means_ext = c(60, 5),
    covariance_int = covariance_matrix(c(5, 1))
  )
)
sim_obj &lt;- create_data_simulation(
  baseline_obj,
  coefficients = c(age = 0.001, score = 1.5),
  event_dist = create_event_dist(dist = "exponential", lambdas = 1 / 36)
)
data_sim_list &lt;- generate(sim_obj, treatment_hr = c(0, 1), drift_hr = 0.5)
</code></pre>

<hr>
<h2 id='get_cmd_stan_models'>Get <code>CmdStanModel</code> objects for <code>MCMCSimulationResults</code></h2><span id='topic+get_cmd_stan_models'></span><span id='topic+get_cmd_stan_models+2CMCMCSimulationResult-method'></span>

<h3>Description</h3>

<p>Show the <code>CmdStanModel</code> objects from <code>MCMCSimulationResults</code> objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_cmd_stan_models(object)

## S4 method for signature 'MCMCSimulationResult'
get_cmd_stan_models(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_cmd_stan_models_+3A_object">object</code></td>
<td>
<p><code>MCMCSimulationResults</code> object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List of lists of <code>CmdStanModel</code> objects for each model.
</p>

<hr>
<h2 id='get_data'>Get Simulated Data from <code>SimDataList</code> object</h2><span id='topic+get_data'></span><span id='topic+get_data+2CSimDataList-method'></span>

<h3>Description</h3>

<p>Retrieves the simulated data from a <code>SimDataList</code> object by index.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_data(object, index = 1, dataset = 1)

## S4 method for signature 'SimDataList'
get_data(object, index = NULL, dataset = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_data_+3A_object">object</code></td>
<td>
<p><code>SimDataList</code> object</p>
</td></tr>
<tr><td><code id="get_data_+3A_index">index</code></td>
<td>
<p>the index of the scenario (see guide with print(<code>SimDataList</code>))</p>
</td></tr>
<tr><td><code id="get_data_+3A_dataset">dataset</code></td>
<td>
<p>the dataset out of <code>n_datasets_per_param</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Simulated data as a data frame if the index is specified, else as a list
</p>

<hr>
<h2 id='get_quantiles'>Get Quantiles of Random Data</h2><span id='topic+get_quantiles'></span>

<h3>Description</h3>

<p>Helper for use within transformation functions for <code><a href="#topic+create_baseline_object">create_baseline_object()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_quantiles(object, var)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_quantiles_+3A_object">object</code></td>
<td>
<p>a <code>BaselineDataFrame</code></p>
</td></tr>
<tr><td><code id="get_quantiles_+3A_var">var</code></td>
<td>
<p>character string name of the variable</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric vector containing quantiles based on the data
generating distribution.
</p>

<hr>
<h2 id='get_results'>Get results for <code>MCMCSimulationResults</code> objects</h2><span id='topic+get_results'></span><span id='topic+get_results+2CMCMCSimulationResult-method'></span>

<h3>Description</h3>

<p>Get the results <code>data.frame</code> from <code>MCMCSimulationResults</code> objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_results(object)

## S4 method for signature 'MCMCSimulationResult'
get_results(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_results_+3A_object">object</code></td>
<td>
<p><code>MCMCSimulationResults</code> object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame with simulation results.
</p>

<hr>
<h2 id='get_stan_code'>Get method for Stan model</h2><span id='topic+get_stan_code'></span><span id='topic+get_stan_code+2CAnalysis-method'></span>

<h3>Description</h3>

<p>Get method for Stan model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_stan_code(object)

## S4 method for signature 'Analysis'
get_stan_code(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_stan_code_+3A_object">object</code></td>
<td>
<p><code>Analysis</code> object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>String containing the Stan model
</p>

<hr>
<h2 id='get_vars'>Get Variables</h2><span id='topic+get_vars'></span><span id='topic+get_vars+2CCovariates-method'></span><span id='topic+get_vars+2CTreatment-method'></span><span id='topic+get_vars+2CBorrowing-method'></span><span id='topic+get_vars+2CTimeToEvent-method'></span><span id='topic+get_vars+2CBinaryOutcome-method'></span><span id='topic+get_vars+2CContinuousOutcome-method'></span><span id='topic+get_vars+2CAnalysis-method'></span><span id='topic+get_vars+2CNULL-method'></span><span id='topic+get_vars+2CSimTreatmentList-method'></span><span id='topic+get_vars+2CSimOutcomeList-method'></span><span id='topic+get_vars+2CSimBorrowingList-method'></span><span id='topic+get_vars+2CSimCovariateList-method'></span><span id='topic+get_vars+2CSimulation-method'></span><span id='topic+get_vars+2CBaselineObject-method'></span>

<h3>Description</h3>

<p>Gets the data variable names from an object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_vars(object)

## S4 method for signature 'Covariates'
get_vars(object)

## S4 method for signature 'Treatment'
get_vars(object)

## S4 method for signature 'Borrowing'
get_vars(object)

## S4 method for signature 'TimeToEvent'
get_vars(object)

## S4 method for signature 'BinaryOutcome'
get_vars(object)

## S4 method for signature 'ContinuousOutcome'
get_vars(object)

## S4 method for signature 'Analysis'
get_vars(object)

## S4 method for signature 'NULL'
get_vars(object)

## S4 method for signature 'SimTreatmentList'
get_vars(object)

## S4 method for signature 'SimOutcomeList'
get_vars(object)

## S4 method for signature 'SimBorrowingList'
get_vars(object)

## S4 method for signature 'SimCovariateList'
get_vars(object)

## S4 method for signature 'Simulation'
get_vars(object)

## S4 method for signature 'BaselineObject'
get_vars(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_vars_+3A_object">object</code></td>
<td>
<p>Object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>character</code> vector containing variable names
</p>


<h3>Examples</h3>

<pre><code class='language-R'>get_vars(treatment_details(
  trt_flag_col = "treat_fl",
  trt_prior = prior_normal(0, 1000)
))
</code></pre>

<hr>
<h2 id='half_cauchy_prior'>Legacy function for the half-cauchy prior</h2><span id='topic+half_cauchy_prior'></span>

<h3>Description</h3>

<p>Please use <code>prior_half_cauchy()</code> instead.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>half_cauchy_prior(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="half_cauchy_prior_+3A_...">...</code></td>
<td>
<p>Deprecated arguments to <code>half_cauchy_prior()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>This function does not return a value. When called, it triggers an error
message indicating that <code>half_cauchy_prior()</code> is deprecated and that
<code>prior_half_cauchy()</code> should be used instead.
</p>

<hr>
<h2 id='half_normal_prior'>Legacy function for the normal half prior</h2><span id='topic+half_normal_prior'></span>

<h3>Description</h3>

<p>Please use <code>prior_half_normal()</code> instead.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>half_normal_prior(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="half_normal_prior_+3A_...">...</code></td>
<td>
<p>Deprecated arguments to <code>half_normal_prior()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>This function does not return a value. When called, it triggers an error
message indicating that <code>half_normal_prior()</code> is deprecated and that
<code>prior_half_normal()</code> should be used instead.
</p>

<hr>
<h2 id='logistic_bin_outcome'>Legacy function for binary logistic regression</h2><span id='topic+logistic_bin_outcome'></span>

<h3>Description</h3>

<p>Please use <code>outcome_bin_logistic()</code> instead.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>logistic_bin_outcome(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="logistic_bin_outcome_+3A_...">...</code></td>
<td>
<p>Deprecated arguments to <code>logistic_bin_outcome</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>This function does not return a value. When called, it triggers an error
message indicating that <code>logistic_bin_outcome()</code> is deprecated and that
<code>outcome_bin_logistic()</code> should be used instead.
</p>

<hr>
<h2 id='make_model_string_model'>Create Stan Code for Model</h2><span id='topic+make_model_string_model'></span><span id='topic+make_model_string_model+2CANY+2CANY+2CAnalysis-method'></span><span id='topic+make_model_string_model+2CBorrowingFull+2CANY+2CAnalysis-method'></span><span id='topic+make_model_string_model+2CBorrowingNone+2CANY+2CAnalysis-method'></span><span id='topic+make_model_string_model+2CBorrowingHierarchicalCommensurate+2CANY+2CAnalysis-method'></span>

<h3>Description</h3>

<p>Create Stan Code for Model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_model_string_model(borrowing, outcome, analysis_obj)

## S4 method for signature 'ANY,ANY,Analysis'
make_model_string_model(borrowing, outcome, analysis_obj)

## S4 method for signature 'BorrowingFull,ANY,Analysis'
make_model_string_model(borrowing, outcome, analysis_obj)

## S4 method for signature 'BorrowingNone,ANY,Analysis'
make_model_string_model(borrowing, outcome, analysis_obj)

## S4 method for signature 'BorrowingHierarchicalCommensurate,ANY,Analysis'
make_model_string_model(borrowing, outcome, analysis_obj)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="make_model_string_model_+3A_borrowing">borrowing</code></td>
<td>
<p>borrowing object</p>
</td></tr>
<tr><td><code id="make_model_string_model_+3A_outcome">outcome</code></td>
<td>
<p>outcome object</p>
</td></tr>
<tr><td><code id="make_model_string_model_+3A_analysis_obj">analysis_obj</code></td>
<td>
<p>analysis object</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>glue</code> <code>character</code> containing the Stan code for the data block.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>anls_obj &lt;- create_analysis_obj(
    data_matrix = example_matrix,
    outcome = outcome_surv_exponential(
      "time",
      "cnsr",
      baseline_prior = prior_normal(0, 1000)
    ),
    borrowing = borrowing_hierarchical_commensurate(
      "ext",
      prior_exponential(.001)
    ),
    treatment = treatment_details(
      "trt",
      prior_normal(0, 1000)
    ),
    covariates = add_covariates(
      covariates = c("cov1", "cov2"),
      priors = prior_normal(0, 1000)
    )
  )
make_model_string_model(anls_obj@borrowing, anls_obj@outcome, anls_obj)
</code></pre>

<hr>
<h2 id='mcmc_sample'>Sample from Stan model</h2><span id='topic+mcmc_sample'></span><span id='topic+mcmc_sample+2CANY-method'></span><span id='topic+mcmc_sample+2CAnalysis-method'></span><span id='topic+mcmc_sample+2CSimulation-method'></span>

<h3>Description</h3>

<p>Method to sample from compiled Stan model and
return a <code>CmdStanMCMC</code> object with draws.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mcmc_sample(x, ...)

## S4 method for signature 'ANY'
mcmc_sample(x, ...)

## S4 method for signature 'Analysis'
mcmc_sample(
  x,
  iter_warmup = 1000L,
  iter_sampling = 10000L,
  chains = 4L,
  verbose = FALSE,
  ...
)

## S4 method for signature 'Simulation'
mcmc_sample(
  x,
  posterior_quantiles = c(0.025, 0.975),
  iter_warmup = 1000L,
  iter_sampling = 10000L,
  chains = 4L,
  verbose = FALSE,
  keep_cmd_stan_models = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mcmc_sample_+3A_x">x</code></td>
<td>
<p>object to sample, such as <code>Analysis</code> (created with <code><a href="#topic+create_analysis_obj">create_analysis_obj()</a></code>) or <code>Simulation</code>.</p>
</td></tr>
<tr><td><code id="mcmc_sample_+3A_...">...</code></td>
<td>
<p>additional arguments passed to the $sample() method of a
<code>cmdstanr</code> Stan model.
See https://mc-stan.org/cmdstanr/reference/model-method-sample.html</p>
</td></tr>
<tr><td><code id="mcmc_sample_+3A_iter_warmup">iter_warmup</code></td>
<td>
<p>integer. The number of warm up iterations to run per chain.
The default is 1000.</p>
</td></tr>
<tr><td><code id="mcmc_sample_+3A_iter_sampling">iter_sampling</code></td>
<td>
<p>integer. The number of post-warm up iterations to run per chain.
The default is 10000.</p>
</td></tr>
<tr><td><code id="mcmc_sample_+3A_chains">chains</code></td>
<td>
<p>integer. The number of Markov chains to run. The default is 4.</p>
</td></tr>
<tr><td><code id="mcmc_sample_+3A_verbose">verbose</code></td>
<td>
<p>logical. Whether to print sampler updates (<code>TRUE</code>) or not
(<code>FALSE</code>)</p>
</td></tr>
<tr><td><code id="mcmc_sample_+3A_posterior_quantiles">posterior_quantiles</code></td>
<td>
<p>numeric vector of length two.
The posterior quantiles used for summarizing simulation results. The
default is <code>c(0.025, 0.975)</code> See details.</p>
</td></tr>
<tr><td><code id="mcmc_sample_+3A_keep_cmd_stan_models">keep_cmd_stan_models</code></td>
<td>
<p>logical. Whether to keep the
<code>CmdStanModel</code> objects from the <code>mcmc_sampler</code> (<code>TRUE</code>,
discouraged in most scenarios) or not (<code>FALSE</code>). The default is <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>



<h4>Simulation objects</h4>

<p>This function takes draws from an MCMC sampler and summarizes
results.
</p>



<h3>Value</h3>

<p>An object of class <code>CmdStanMCMC</code>
</p>
<p>An object of class <code>MCMCSimulationResult</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Analysis objects
if (check_cmdstan()) {
  anls &lt;- create_analysis_obj(
    data_matrix = example_matrix,
    covariates = add_covariates(
      covariates = c("cov1", "cov2"),
      priors = prior_normal(0, 1000)
    ),
    outcome = outcome_surv_weibull_ph(
      "time",
      "cnsr",
      shape_prior = prior_normal(0, 1000),
      baseline_prior = prior_normal(0, 1000)
    ),
    borrowing = borrowing_hierarchical_commensurate(
      "ext",
      prior_exponential(.001)
    ),
    treatment = treatment_details("trt", prior_normal(0, 1000))
  )

  mcmc_results &lt;- mcmc_sample(anls, chains = 1, iter_warmup = 500L, iter_sampling = 1000L)
}

## Simulation objects
base_mat &lt;- matrix(
  c(
    rep(0, 200), rep(0, 200), rep(1, 200),
    rep(1, 200), rep(0, 200), rep(0, 200),
    rep(0, 600)
  ),
  ncol = 3,
  dimnames = list(NULL, c("ext", "trt", "driftOR"))
)

add_binary_endpoint &lt;- function(odds_ratio,
                                base_matrix = base_mat) {
  linear_predictor &lt;- base_matrix[, "trt"] * log(odds_ratio)
  prob &lt;- 1 / (1 + exp(-linear_predictor))

  bin_endpoint &lt;- rbinom(
    NROW(base_matrix),
    1,
    prob
  )

  cbind(base_matrix, matrix(bin_endpoint, ncol = 1, dimnames = list(NULL, "ep")))
}

data_list &lt;- list(
  list(add_binary_endpoint(1.5), add_binary_endpoint(1.5)),
  list(add_binary_endpoint(2.5), add_binary_endpoint(2.5))
)

guide &lt;- data.frame(
  trueOR = c(1.5, 2.5),
  driftOR = c(1.0, 1.0),
  index = 1:2
)

sdl &lt;- sim_data_list(
  data_list = data_list,
  guide = guide,
  effect = "trueOR",
  drift = "driftOR",
  index = "index"
)

if (check_cmdstan()) {
  sim_object &lt;- create_simulation_obj(
    data_matrix_list = sdl,
    outcome = outcome_bin_logistic("ep", prior_normal(0, 1000)),
    borrowing = sim_borrowing_list(list(
      full_borrowing = borrowing_full("ext"),
      bdb = borrowing_hierarchical_commensurate("ext", prior_exponential(0.0001))
    )),
    treatment = treatment_details("trt", prior_normal(0, 1000))
  )

  mcmc_sample(sim_object, chains = 1, iter_warmup = 500L, iter_sampling = 1000L)
}
## Not run: 
library(future)
# Use two separate R processes
plan("multisession", workers = 2)

# and two parallel threads in each.
mcmc_sample(sim_object, chains = 1, iter_warmup = 500L, iter_sampling = 1000L, parallel_chains = 2)

# Tidy up processes when finished
plan("sequential")

## End(Not run)
</code></pre>

<hr>
<h2 id='MCMCSimulationResult-class'><code>MCMCSimulationResult</code> Class</h2><span id='topic+MCMCSimulationResult-class'></span><span id='topic+.mcmc_simulation_result'></span>

<h3>Description</h3>

<p>A class for defining Simulation study results. Objects of class
<code>MCMCSimulationResult</code> should not be created directly but by
<code>mcmc_sample()</code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>results</code></dt><dd><p><code>data.frame</code>. The results of the simulation study summarized
in a <code>data.frame</code></p>
</dd>
<dt><code>cmd_stan_models</code></dt><dd><p>list. List of lists of <code>CmdStanmodels</code> corresponding to the
different parameters in <code>Simulation@guide</code> and different datasets in
<code>Simulation@data_matrix_list</code>.</p>
</dd>
</dl>

<hr>
<h2 id='normal_prior'>Legacy function for the normal prior</h2><span id='topic+normal_prior'></span>

<h3>Description</h3>

<p>Please use <code>prior_normal()</code> instead.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>normal_prior(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="normal_prior_+3A_...">...</code></td>
<td>
<p>Deprecated arguments to <code>normal_prior()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>This function does not return a value. When called, it triggers an error
message indicating that <code>normal_prior()</code> is deprecated and that
<code>prior_normal()</code> should be used instead.
</p>

<hr>
<h2 id='outcome_bin_logistic'>Bernoulli distribution with logit parametrization</h2><span id='topic+outcome_bin_logistic'></span>

<h3>Description</h3>

<p>Bernoulli distribution with logit parametrization
</p>


<h3>Usage</h3>

<pre><code class='language-R'>outcome_bin_logistic(binary_var, baseline_prior, weight_var = "")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="outcome_bin_logistic_+3A_binary_var">binary_var</code></td>
<td>
<p>character. Name of binary (1/0 or TRUE/FALSE) outcome variable in the
model matrix</p>
</td></tr>
<tr><td><code id="outcome_bin_logistic_+3A_baseline_prior">baseline_prior</code></td>
<td>
<p><code>Prior</code>. Object of class <code>Prior</code>
specifying prior distribution for the baseline outcome.
See <code>Details</code> for more information.</p>
</td></tr>
<tr><td><code id="outcome_bin_logistic_+3A_weight_var">weight_var</code></td>
<td>
<p>character. Optional name of variable in model matrix for weighting the log likelihood.</p>
</td></tr>
</table>


<h3>Details</h3>



<h4>Baseline Prior</h4>

<p>The <code>baseline_prior</code> argument specifies the prior distribution for the
baseline log odds. The interpretation of the <code>baseline_prior</code> differs
slightly between borrowing methods selected.
</p>

<ul>
<li> <p><em>Dynamic borrowing using <code>borrowing_hierarchical_commensurate()</code></em>: the <code>baseline_prior</code> for Bayesian Dynamic Borrowing refers
to the log odds of the external control arm.
</p>
</li>
<li> <p><em>Full borrowing</em> or <em>No borrowing</em> using <code>borrowing_full()</code> or <code>borrowing_none()</code>: the <code>baseline_prior</code> for
these borrowing methods refers to the log odds for the
internal control arm.
</p>
</li></ul>




<h3>Value</h3>

<p>Object of class <code><a href="#topic+OutcomeBinaryLogistic-class">OutcomeBinaryLogistic</a></code>.
</p>


<h3>See Also</h3>

<p>Other outcome models: 
<code><a href="#topic+outcome_cont_normal">outcome_cont_normal</a>()</code>,
<code><a href="#topic+outcome_surv_exponential">outcome_surv_exponential</a>()</code>,
<code><a href="#topic+outcome_surv_weibull_ph">outcome_surv_weibull_ph</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>lg &lt;- outcome_bin_logistic(
  binary_var = "response",
  baseline_prior = prior_normal(0, 1000)
)
</code></pre>

<hr>
<h2 id='outcome_cont_normal'>Normal Outcome Distribution</h2><span id='topic+outcome_cont_normal'></span>

<h3>Description</h3>

<p>Normal Outcome Distribution
</p>


<h3>Usage</h3>

<pre><code class='language-R'>outcome_cont_normal(
  continuous_var,
  baseline_prior,
  std_dev_prior,
  weight_var = ""
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="outcome_cont_normal_+3A_continuous_var">continuous_var</code></td>
<td>
<p>character. Name of continuous outcome variable in the
model matrix</p>
</td></tr>
<tr><td><code id="outcome_cont_normal_+3A_baseline_prior">baseline_prior</code></td>
<td>
<p><code>Prior</code>. Object of class <code>Prior</code>
specifying prior distribution for the baseline outcome.
See <code>Details</code> for more information.</p>
</td></tr>
<tr><td><code id="outcome_cont_normal_+3A_std_dev_prior">std_dev_prior</code></td>
<td>
<p><code>Prior</code>. Object of class <code>Prior</code>
specifying prior distribution for the standard deviation of the outcome distribution (i.e. &quot;sigma&quot;).</p>
</td></tr>
<tr><td><code id="outcome_cont_normal_+3A_weight_var">weight_var</code></td>
<td>
<p>character. Optional name of variable in model matrix for weighting the log likelihood.</p>
</td></tr>
</table>


<h3>Details</h3>



<h4>Baseline Prior</h4>

<p>The <code>baseline_prior</code> argument specifies the prior distribution for the
intercept of the linear model. The interpretation of the <code>baseline_prior</code> differs
slightly between borrowing methods selected.
</p>

<ul>
<li> <p><em>Dynamic borrowing using <code>borrowing_hierarchical_commensurate()</code></em>: the <code>baseline_prior</code> for Bayesian Dynamic Borrowing
refers to the intercept of the external control arm.
</p>
</li>
<li> <p><em>Full borrowing</em> or <em>No borrowing</em> using <code>borrowing_full()</code> or <code>borrowing_none()</code>: the <code>baseline_prior</code> for
these borrowing methods refers to the intercept for the
internal control arm.
</p>
</li></ul>




<h3>Value</h3>

<p>Object of class <code><a href="#topic+OutcomeContinuousNormal-class">OutcomeContinuousNormal</a></code>.
</p>


<h3>See Also</h3>

<p>Other outcome models: 
<code><a href="#topic+outcome_bin_logistic">outcome_bin_logistic</a>()</code>,
<code><a href="#topic+outcome_surv_exponential">outcome_surv_exponential</a>()</code>,
<code><a href="#topic+outcome_surv_weibull_ph">outcome_surv_weibull_ph</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>norm &lt;- outcome_cont_normal(
  continuous_var = "tumor_size",
  baseline_prior = prior_normal(0, 100),
  std_dev_prior = prior_half_cauchy(1, 5)
)
</code></pre>

<hr>
<h2 id='outcome_surv_exponential'>Exponential survival distribution</h2><span id='topic+outcome_surv_exponential'></span>

<h3>Description</h3>

<p>Exponential survival distribution
</p>


<h3>Usage</h3>

<pre><code class='language-R'>outcome_surv_exponential(time_var, cens_var, baseline_prior, weight_var = "")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="outcome_surv_exponential_+3A_time_var">time_var</code></td>
<td>
<p>character. Name of time variable column in model matrix</p>
</td></tr>
<tr><td><code id="outcome_surv_exponential_+3A_cens_var">cens_var</code></td>
<td>
<p>character. Name of the censorship variable flag in model matrix</p>
</td></tr>
<tr><td><code id="outcome_surv_exponential_+3A_baseline_prior">baseline_prior</code></td>
<td>
<p><code>Prior</code>. Object of class <code>Prior</code>
specifying prior distribution for the baseline outcome.
See <code>Details</code> for more information.</p>
</td></tr>
<tr><td><code id="outcome_surv_exponential_+3A_weight_var">weight_var</code></td>
<td>
<p>character. Optional name of variable in model matrix for weighting the log likelihood.</p>
</td></tr>
</table>


<h3>Details</h3>



<h4>Baseline Prior</h4>

<p>The <code>baseline_prior</code> argument specifies the prior distribution for the
baseline log hazard rate. The interpretation of the <code>baseline_prior</code> differs
slightly between borrowing methods selected.
</p>

<ul>
<li> <p><em>Dynamic borrowing using <code>borrowing_hierarchical_commensurate()</code></em>: the <code>baseline_prior</code> for Bayesian Dynamic Borrowing
refers to the log hazard rate of the external control arm.
</p>
</li>
<li> <p><em>Full borrowing</em> or <em>No borrowing</em> using <code>borrowing_full()</code> or <code>borrowing_none()</code>: the <code>baseline_prior</code> for
these borrowing methods refers to the log hazard rate for the
internal control arm.
</p>
</li></ul>




<h3>Value</h3>

<p>Object of class <code><a href="#topic+OutcomeSurvExponential-class">OutcomeSurvExponential</a></code>.
</p>


<h3>See Also</h3>

<p>Other outcome models: 
<code><a href="#topic+outcome_bin_logistic">outcome_bin_logistic</a>()</code>,
<code><a href="#topic+outcome_cont_normal">outcome_cont_normal</a>()</code>,
<code><a href="#topic+outcome_surv_weibull_ph">outcome_surv_weibull_ph</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>es &lt;- outcome_surv_exponential(
  time_var = "time",
  cens_var = "cens",
  baseline_prior = prior_normal(0, 1000)
)
</code></pre>

<hr>
<h2 id='outcome_surv_weibull_ph'>Weibull survival distribution (proportional hazards formulation)</h2><span id='topic+outcome_surv_weibull_ph'></span>

<h3>Description</h3>

<p>Weibull survival distribution (proportional hazards formulation)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>outcome_surv_weibull_ph(
  time_var,
  cens_var,
  shape_prior,
  baseline_prior,
  weight_var = ""
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="outcome_surv_weibull_ph_+3A_time_var">time_var</code></td>
<td>
<p>character. Name of time variable column in model matrix</p>
</td></tr>
<tr><td><code id="outcome_surv_weibull_ph_+3A_cens_var">cens_var</code></td>
<td>
<p>character. Name of the censorship variable flag in model matrix</p>
</td></tr>
<tr><td><code id="outcome_surv_weibull_ph_+3A_shape_prior">shape_prior</code></td>
<td>
<p><code>Prior</code> class object for the Weibull shape
parameter. Default is <code>prior_exponential(beta = 0.0001)</code>.</p>
</td></tr>
<tr><td><code id="outcome_surv_weibull_ph_+3A_baseline_prior">baseline_prior</code></td>
<td>
<p><code>Prior</code>. Object of class <code>Prior</code>
specifying prior distribution for the baseline outcome.
See <code>Details</code> for more information.</p>
</td></tr>
<tr><td><code id="outcome_surv_weibull_ph_+3A_weight_var">weight_var</code></td>
<td>
<p>character. Optional name of variable in model matrix for weighting the log likelihood.</p>
</td></tr>
</table>


<h3>Details</h3>



<h4>Baseline Prior</h4>

<p>The <code>baseline_prior</code> argument specifies the prior distribution for the
baseline log hazard rate. The interpretation of the <code>baseline_prior</code> differs
slightly between borrowing methods selected.
</p>

<ul>
<li> <p><em>Dynamic borrowing using <code>borrowing_hierarchical_commensurate()</code></em>: the <code>baseline_prior</code> for Bayesian Dynamic Borrowing
refers to the log hazard rate of the external control arm.
</p>
</li>
<li> <p><em>Full borrowing</em> or <em>No borrowing</em> using <code>borrowing_full()</code> or <code>borrowing_none()</code>: the <code>baseline_prior</code> for
these borrowing methods refers to the log hazard rate for the
internal control arm.
</p>
</li></ul>




<h3>Value</h3>

<p>Object of class <code><a href="#topic+OutcomeSurvWeibullPH-class">OutcomeSurvWeibullPH</a></code>.
</p>


<h3>See Also</h3>

<p>Other outcome models: 
<code><a href="#topic+outcome_bin_logistic">outcome_bin_logistic</a>()</code>,
<code><a href="#topic+outcome_cont_normal">outcome_cont_normal</a>()</code>,
<code><a href="#topic+outcome_surv_exponential">outcome_surv_exponential</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ws &lt;- outcome_surv_weibull_ph(
  time_var = "time",
  cens_var = "cens",
  shape_prior = prior_exponential(1),
  baseline_prior = prior_normal(0, 1000)
)
</code></pre>

<hr>
<h2 id='Outcome-class'><code>Outcome</code> class</h2><span id='topic+Outcome-class'></span>

<h3>Description</h3>

<p><code>Outcome</code> class
</p>


<h3>See Also</h3>

<p>Other outcome: 
<code><a href="#topic+BinaryOutcome-class">BinaryOutcome-class</a></code>,
<code><a href="#topic+ContinuousOutcome-class">ContinuousOutcome-class</a></code>,
<code><a href="#topic+OutcomeBinaryLogistic-class">OutcomeBinaryLogistic-class</a></code>,
<code><a href="#topic+OutcomeContinuousNormal-class">OutcomeContinuousNormal-class</a></code>,
<code><a href="#topic+OutcomeSurvExponential-class">OutcomeSurvExponential-class</a></code>,
<code><a href="#topic+OutcomeSurvWeibullPH-class">OutcomeSurvWeibullPH-class</a></code>,
<code><a href="#topic+TimeToEvent-class">TimeToEvent-class</a></code>
</p>

<hr>
<h2 id='OutcomeBinaryLogistic-class'><code>OutcomeBinaryLogistic</code> class</h2><span id='topic+OutcomeBinaryLogistic-class'></span><span id='topic+.outcome_bin_logistic'></span>

<h3>Description</h3>

<p>A class for defining a logistic regression with a binary outcome
to be translated to Stan code.
Objects of class <code>OutcomeBinaryLogistic</code> should not be created directly but by
the constructor <code><a href="#topic+outcome_bin_logistic">outcome_bin_logistic()</a></code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>function_stan_code</code></dt><dd><p>character. stan function code block containing text to interpolate into stan model.
Empty string for <code>OutcomeBinaryLogistic</code>.</p>
</dd>
<dt><code>param_stan_code</code></dt><dd><p>character. stan parameter code block containing text to interpolate into stan model.
Empty string for <code>OutcomeBinaryLogistic</code>.</p>
</dd>
<dt><code>likelihood_stan_code</code></dt><dd><p>character. stan model likelihood code block containing text
to interpolate into stan model.</p>
</dd>
<dt><code>n_param</code></dt><dd><p>integer. Number of ancillary parameters for the model to estimate (0).</p>
</dd>
<dt><code>param_priors</code></dt><dd><p>list. Named list of prior distributions on the ancillary parameters in the model.
Empty for <code>OutcomeBinaryLogistic</code>.</p>
</dd>
<dt><code>binary_var</code></dt><dd><p>character. Variable used for outcome in <code>OutcomeBinaryLogistic</code> objects.</p>
</dd>
<dt><code>baseline_prior</code></dt><dd><p><code>Prior</code>. Object of class <code>Prior</code>
specifying prior distribution for the baseline outcome.</p>
</dd>
<dt><code>name_beta_trt.</code></dt><dd><p>Named vector for beta_trt.</p>
</dd>
<dt><code>name_exp_trt.</code></dt><dd><p>Named vector for exponentiated beta_trt</p>
</dd>
<dt><code>alpha_type.</code></dt><dd><p>How to interpret alpha.</p>
</dd>
<dt><code>name_addnl_params.</code></dt><dd><p>Named vector for additional parameters.</p>
</dd>
</dl>


<h3>See Also</h3>

<p>Other outcome: 
<code><a href="#topic+BinaryOutcome-class">BinaryOutcome-class</a></code>,
<code><a href="#topic+ContinuousOutcome-class">ContinuousOutcome-class</a></code>,
<code><a href="#topic+Outcome-class">Outcome-class</a></code>,
<code><a href="#topic+OutcomeContinuousNormal-class">OutcomeContinuousNormal-class</a></code>,
<code><a href="#topic+OutcomeSurvExponential-class">OutcomeSurvExponential-class</a></code>,
<code><a href="#topic+OutcomeSurvWeibullPH-class">OutcomeSurvWeibullPH-class</a></code>,
<code><a href="#topic+TimeToEvent-class">TimeToEvent-class</a></code>
</p>

<hr>
<h2 id='OutcomeContinuousNormal-class'><code>OutcomeContinuousNormal</code> class</h2><span id='topic+OutcomeContinuousNormal-class'></span><span id='topic+.outcome_cont_normal'></span>

<h3>Description</h3>

<p>A class for defining a regression with a normal outcome
to be translated to Stan code.
Objects of class <code>OutcomeContinuousNormal</code> should not be created directly but by
the constructor <code><a href="#topic+outcome_cont_normal">outcome_cont_normal()</a></code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>function_stan_code</code></dt><dd><p>character. stan function code block containing text to interpolate into stan model.
Empty string for <code>OutcomeContinuousNormal</code>.</p>
</dd>
<dt><code>param_stan_code</code></dt><dd><p>character. stan parameter code block containing text to interpolate into stan model.
Empty string for <code>OutcomeContinuousNormal</code>.</p>
</dd>
<dt><code>likelihood_stan_code</code></dt><dd><p>character. stan model likelihood code block containing text
to interpolate into stan model.</p>
</dd>
<dt><code>n_param</code></dt><dd><p>integer. Number of ancillary parameters for the model to estimate (0).</p>
</dd>
<dt><code>param_priors</code></dt><dd><p>list. Named list of prior distributions on the ancillary parameters in the model.
Empty for <code>OutcomeContinuousNormal</code>.</p>
</dd>
<dt><code>continuous_var</code></dt><dd><p>character. Variable used for outcome in <code>OutcomeContinuousNormal</code> objects.</p>
</dd>
<dt><code>baseline_prior</code></dt><dd><p><code>Prior</code>. Object of class <code>Prior</code>
specifying prior distribution for the baseline outcome.</p>
</dd>
<dt><code>name_beta_trt.</code></dt><dd><p>Named vector for beta_trt.</p>
</dd>
<dt><code>name_exp_trt.</code></dt><dd><p>Named vector for exponentiated beta_trt</p>
</dd>
<dt><code>alpha_type.</code></dt><dd><p>How to interpret alpha.</p>
</dd>
<dt><code>name_addnl_params.</code></dt><dd><p>Named vector for additional parameters.</p>
</dd>
</dl>


<h3>See Also</h3>

<p>Other outcome: 
<code><a href="#topic+BinaryOutcome-class">BinaryOutcome-class</a></code>,
<code><a href="#topic+ContinuousOutcome-class">ContinuousOutcome-class</a></code>,
<code><a href="#topic+Outcome-class">Outcome-class</a></code>,
<code><a href="#topic+OutcomeBinaryLogistic-class">OutcomeBinaryLogistic-class</a></code>,
<code><a href="#topic+OutcomeSurvExponential-class">OutcomeSurvExponential-class</a></code>,
<code><a href="#topic+OutcomeSurvWeibullPH-class">OutcomeSurvWeibullPH-class</a></code>,
<code><a href="#topic+TimeToEvent-class">TimeToEvent-class</a></code>
</p>

<hr>
<h2 id='OutcomeSurvExponential-class'><code>OutcomeSurvExponential</code> Class</h2><span id='topic+OutcomeSurvExponential-class'></span><span id='topic+.outcome_surv_exponential'></span>

<h3>Description</h3>

<p>A class for defining a time-to-event survival analysis with an
exponential survival distribution.
Objects of class <code>OutcomeSurvExponential</code> should not be created directly
but by the constructor <code><a href="#topic+outcome_surv_exponential">outcome_surv_exponential()</a></code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>function_stan_code</code></dt><dd><p>character. stan function code block containing text to interpolate into stan model.
Empty string for <code>OutcomeSurvExponential</code>.</p>
</dd>
<dt><code>param_stan_code</code></dt><dd><p>character. stan parameter code block containing text to interpolate into stan model.
Empty string for <code>OutcomeSurvExponential</code>.</p>
</dd>
<dt><code>likelihood_stan_code</code></dt><dd><p>character. stan model likelihood code block containing text
to interpolate into stan model.</p>
</dd>
<dt><code>n_param</code></dt><dd><p>integer. Number of ancillary parameters for the model to estimate (0).</p>
</dd>
<dt><code>param_priors</code></dt><dd><p>list. Named list of prior distributions on the ancillary parameters in the model.
Empty for <code>OutcomeSurvExponential</code>.</p>
</dd>
<dt><code>time_var</code></dt><dd><p>character. Variable used for time in <code>TimeToEvent</code> objects.</p>
</dd>
<dt><code>cens_var</code></dt><dd><p>character. Variable used for censoring in <code>TimeToEvent</code> objects.</p>
</dd>
<dt><code>baseline_prior</code></dt><dd><p><code>Prior</code>. Object of class <code>Prior</code>
specifying prior distribution for the baseline outcome.</p>
</dd>
<dt><code>name_beta_trt.</code></dt><dd><p>Named vector for beta_trt.</p>
</dd>
<dt><code>name_exp_trt.</code></dt><dd><p>Named vector for exponentiated beta_trt</p>
</dd>
<dt><code>alpha_type.</code></dt><dd><p>How to interpret alpha.</p>
</dd>
<dt><code>name_addnl_params.</code></dt><dd><p>Named vector for additional parameters.</p>
</dd>
</dl>


<h3>See Also</h3>

<p>Other outcome: 
<code><a href="#topic+BinaryOutcome-class">BinaryOutcome-class</a></code>,
<code><a href="#topic+ContinuousOutcome-class">ContinuousOutcome-class</a></code>,
<code><a href="#topic+Outcome-class">Outcome-class</a></code>,
<code><a href="#topic+OutcomeBinaryLogistic-class">OutcomeBinaryLogistic-class</a></code>,
<code><a href="#topic+OutcomeContinuousNormal-class">OutcomeContinuousNormal-class</a></code>,
<code><a href="#topic+OutcomeSurvWeibullPH-class">OutcomeSurvWeibullPH-class</a></code>,
<code><a href="#topic+TimeToEvent-class">TimeToEvent-class</a></code>
</p>

<hr>
<h2 id='OutcomeSurvWeibullPH-class'><code>OutcomeSurvWeibullPH</code> Class</h2><span id='topic+OutcomeSurvWeibullPH-class'></span><span id='topic+.outcome_surv_weibull_ph'></span>

<h3>Description</h3>

<p>A class for defining a time-to-event survival analysis with a
Weibull proportional hazards survival distribution.
Objects of class <code>OutcomeSurvWeibullPH</code> should not be created directly
but by the constructor <code><a href="#topic+outcome_surv_weibull_ph">outcome_surv_weibull_ph()</a></code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>function_stan_code</code></dt><dd><p>character. Stan function code block containing text to interpolate into Stan model.</p>
</dd>
<dt><code>param_stan_code</code></dt><dd><p>character. Stan parameter code block containing text to interpolate into Stan model.</p>
</dd>
<dt><code>likelihood_stan_code</code></dt><dd><p>character. Stan model likelihood code block containing text
to interpolate into Stan model.</p>
</dd>
<dt><code>n_param</code></dt><dd><p>integer. Number of ancillary parameters for the model to estimate (1).</p>
</dd>
<dt><code>param_priors</code></dt><dd><p>list. Named list of prior distributions on the ancillary parameters in the model.</p>
</dd>
<dt><code>time_var</code></dt><dd><p>character. Variable used for time in <code>TimeToEvent</code> objects.</p>
</dd>
<dt><code>cens_var</code></dt><dd><p>character. Variable used for censoring in <code>TimeToEvent</code> objects.</p>
</dd>
<dt><code>baseline_prior</code></dt><dd><p><code>Prior</code>. Object of class <code>Prior</code>
specifying prior distribution for the baseline outcome.</p>
</dd>
<dt><code>name_beta_trt.</code></dt><dd><p>Named vector for beta_trt.</p>
</dd>
<dt><code>name_exp_trt.</code></dt><dd><p>Named vector for exponentiated beta_trt</p>
</dd>
<dt><code>alpha_type.</code></dt><dd><p>How to interpret alpha.</p>
</dd>
<dt><code>name_addnl_params.</code></dt><dd><p>Named vector for additional parameters.</p>
</dd>
</dl>


<h3>See Also</h3>

<p>Other outcome: 
<code><a href="#topic+BinaryOutcome-class">BinaryOutcome-class</a></code>,
<code><a href="#topic+ContinuousOutcome-class">ContinuousOutcome-class</a></code>,
<code><a href="#topic+Outcome-class">Outcome-class</a></code>,
<code><a href="#topic+OutcomeBinaryLogistic-class">OutcomeBinaryLogistic-class</a></code>,
<code><a href="#topic+OutcomeContinuousNormal-class">OutcomeContinuousNormal-class</a></code>,
<code><a href="#topic+OutcomeSurvExponential-class">OutcomeSurvExponential-class</a></code>,
<code><a href="#topic+TimeToEvent-class">TimeToEvent-class</a></code>
</p>

<hr>
<h2 id='plot'>Plot Prior Objects</h2><span id='topic+plot'></span><span id='topic+plot+2CPrior+2Cmissing-method'></span><span id='topic+plot+2CPriorNormal+2Cmissing-method'></span><span id='topic+plot+2CPriorExponential+2Cmissing-method'></span><span id='topic+plot+2CPriorHalfCauchy+2Cmissing-method'></span><span id='topic+plot+2CPriorBernoulli+2Cmissing-method'></span><span id='topic+plot+2CPriorBeta+2Cmissing-method'></span><span id='topic+plot+2CPriorCauchy+2Cmissing-method'></span><span id='topic+plot+2CPriorGamma+2Cmissing-method'></span><span id='topic+plot+2CPriorHalfNormal+2Cmissing-method'></span><span id='topic+plot+2CPriorPoisson+2Cmissing-method'></span><span id='topic+plot+2CUniformPrior+2Cmissing-method'></span>

<h3>Description</h3>

<p>Plot prior distributions as densities. Continuous distributions are plotted as curves and
discrete distributions as bar plots.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'Prior,missing'
plot(
  x,
  y,
  default_limits,
  dist_type = c("continuous", "discrete"),
  density_fun,
  add,
  ...
)

## S4 method for signature 'PriorNormal,missing'
plot(x, y, add = FALSE, ...)

## S4 method for signature 'PriorExponential,missing'
plot(x, y, add = FALSE, ...)

## S4 method for signature 'PriorHalfCauchy,missing'
plot(x, y, add = FALSE, ...)

## S4 method for signature 'PriorBernoulli,missing'
plot(x, y, add = FALSE, ...)

## S4 method for signature 'PriorBeta,missing'
plot(x, y, add = FALSE, ...)

## S4 method for signature 'PriorCauchy,missing'
plot(x, y, add = FALSE, ...)

## S4 method for signature 'PriorGamma,missing'
plot(x, y, add = FALSE, ...)

## S4 method for signature 'PriorHalfNormal,missing'
plot(x, y, add = FALSE, ...)

## S4 method for signature 'PriorPoisson,missing'
plot(x, y, add = FALSE, ...)

## S4 method for signature 'UniformPrior,missing'
plot(x, y, add = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_+3A_x">x</code></td>
<td>
<p>Object inheriting from <code>Prior</code></p>
</td></tr>
<tr><td><code id="plot_+3A_y">y</code></td>
<td>
<p>Not used.</p>
</td></tr>
<tr><td><code id="plot_+3A_default_limits">default_limits</code></td>
<td>
<p>Numeric range to plot distribution over.</p>
</td></tr>
<tr><td><code id="plot_+3A_dist_type">dist_type</code></td>
<td>
<p>Plot a continuous or discrete distribution.</p>
</td></tr>
<tr><td><code id="plot_+3A_density_fun">density_fun</code></td>
<td>
<p>Function which takes a vector of values and returns a vector of density values.</p>
</td></tr>
<tr><td><code id="plot_+3A_add">add</code></td>
<td>
<p>logical. Add density to existing plot.</p>
</td></tr>
<tr><td><code id="plot_+3A_...">...</code></td>
<td>
<p>Optional arguments for plotting.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Plot ranges are selected by default to show 99% of the density for unbounded distributions.
The limits can be changed by specifying <code>xlim = c(lower, upper)</code>.
</p>
<p>Colors, line types, and other typical <code><a href="graphics.html#topic+par">par()</a></code> parameters can be used.
</p>


<h3>Value</h3>

<p>No return value, this function generates a plot in the current graphics device.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>plot(prior_normal(1, 2))
plot(prior_exponential(0.1))
plot(prior_half_cauchy(0, 1), xlim = c(-20, 20))
plot(prior_half_cauchy(0, 2), xlim = c(-20, 20), col = 2, add = TRUE)
plot(prior_bernoulli(0.4), xlim = c(0, 15))
plot(prior_beta(2, 2))
plot(prior_cauchy(0, 1), xlim = c(-20, 20))
plot(prior_cauchy(0, 2), xlim = c(-20, 20), col = 2, add = TRUE)
plot(prior_gamma(0.1, 0.1))
plot(prior_half_normal(0, 1), xlim = c(-20, 20))
plot(prior_half_normal(0, 2), xlim = c(-20, 20), col = 2, add = TRUE)
plot(prior_poisson(5), xlim = c(0, 15))
plot(uniform_prior(1, 2), xlim = c(0, 3))
</code></pre>

<hr>
<h2 id='plot_pdf'>Plot Probability Density Function Values</h2><span id='topic+plot_pdf'></span>

<h3>Description</h3>

<p>Plot Probability Density Function Values
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_pdf(x, y, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_pdf_+3A_x">x</code></td>
<td>
<p>values</p>
</td></tr>
<tr><td><code id="plot_pdf_+3A_y">y</code></td>
<td>
<p>probability density values <code>y = f(x)</code></p>
</td></tr>
<tr><td><code id="plot_pdf_+3A_...">...</code></td>
<td>
<p>passed to <code><a href="#topic+plot">plot()</a></code>
</p>
<p>Plots the density values as a curve with the lower vertical limit set to 0.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, this function generates a plot in the current graphics device.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- seq(-2, 2, len = 100)
y &lt;- dnorm(x)
plot_pdf(x, y)
</code></pre>

<hr>
<h2 id='plot_pmf'>Plot Probability Mass Function Values</h2><span id='topic+plot_pmf'></span>

<h3>Description</h3>

<p>Plot Probability Mass Function Values
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_pmf(x, y, ..., col = "grey", add = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_pmf_+3A_x">x</code></td>
<td>
<p>values</p>
</td></tr>
<tr><td><code id="plot_pmf_+3A_y">y</code></td>
<td>
<p>probability mass values <code>y = f(x)</code></p>
</td></tr>
<tr><td><code id="plot_pmf_+3A_...">...</code></td>
<td>
<p>passed to <code><a href="#topic+plot">plot()</a></code> and <code><a href="graphics.html#topic+rect">rect()</a></code></p>
</td></tr>
<tr><td><code id="plot_pmf_+3A_col">col</code></td>
<td>
<p>Fill color of bars.</p>
</td></tr>
<tr><td><code id="plot_pmf_+3A_add">add</code></td>
<td>
<p>Add bars to existing plot.
</p>
<p>Plots the probability values as a barplot.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, this function generates a plot in the current graphics device.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- seq(0, 5)
y &lt;- dpois(x, lambda = 2)
plot_pmf(x, y)
</code></pre>

<hr>
<h2 id='poisson_prior'>Legacy function for the poisson prior</h2><span id='topic+poisson_prior'></span>

<h3>Description</h3>

<p>Please use <code>prior_poisson()</code> instead.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>poisson_prior(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="poisson_prior_+3A_...">...</code></td>
<td>
<p>Deprecated arguments to <code>poisson_prior()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>This function does not return a value. When called, it triggers an error
message indicating that <code>poisson_prior()</code> is deprecated and that
<code>prior_poisson()</code> should be used instead.
</p>

<hr>
<h2 id='possible_data_sim_vars'>Get All Variable Names in Simulated Data Model Matrix</h2><span id='topic+possible_data_sim_vars'></span>

<h3>Description</h3>

<p>Get All Variable Names in Simulated Data Model Matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>possible_data_sim_vars(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="possible_data_sim_vars_+3A_object">object</code></td>
<td>
<p><code>BaselineObject</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of variable names
</p>

<hr>
<h2 id='prior_bernoulli'>Prior bernoulli distribution</h2><span id='topic+prior_bernoulli'></span>

<h3>Description</h3>

<p>Prior bernoulli distribution
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prior_bernoulli(theta)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prior_bernoulli_+3A_theta">theta</code></td>
<td>
<p>numeric. Probability (in [0, 1]).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Stan reference <a href="https://mc-stan.org/docs/functions-reference/bernoulli-distribution.html">https://mc-stan.org/docs/functions-reference/bernoulli-distribution.html</a>
</p>


<h3>Value</h3>

<p>Object of class <code><a href="#topic+PriorBernoulli-class">PriorBernoulli</a></code>.
</p>


<h3>See Also</h3>

<p>Other priors: 
<code><a href="#topic+prior_beta">prior_beta</a>()</code>,
<code><a href="#topic+prior_cauchy">prior_cauchy</a>()</code>,
<code><a href="#topic+prior_exponential">prior_exponential</a>()</code>,
<code><a href="#topic+prior_gamma">prior_gamma</a>()</code>,
<code><a href="#topic+prior_half_cauchy">prior_half_cauchy</a>()</code>,
<code><a href="#topic+prior_half_normal">prior_half_normal</a>()</code>,
<code><a href="#topic+prior_normal">prior_normal</a>()</code>,
<code><a href="#topic+prior_poisson">prior_poisson</a>()</code>,
<code><a href="#topic+uniform_prior">uniform_prior</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>bp &lt;- prior_bernoulli(0.23)
</code></pre>

<hr>
<h2 id='prior_beta'>Prior beta distribution</h2><span id='topic+prior_beta'></span>

<h3>Description</h3>

<p>Prior beta distribution
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prior_beta(alpha, beta)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prior_beta_+3A_alpha">alpha</code></td>
<td>
<p>numeric. Shape (&gt;=0).</p>
</td></tr>
<tr><td><code id="prior_beta_+3A_beta">beta</code></td>
<td>
<p>numeric. Shape (&gt;=0).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Stan reference <a href="https://mc-stan.org/docs/functions-reference/beta-distribution.html">https://mc-stan.org/docs/functions-reference/beta-distribution.html</a>
</p>


<h3>Value</h3>

<p>Object of class <code><a href="#topic+PriorBeta-class">PriorBeta</a></code>
</p>


<h3>See Also</h3>

<p>Other priors: 
<code><a href="#topic+prior_bernoulli">prior_bernoulli</a>()</code>,
<code><a href="#topic+prior_cauchy">prior_cauchy</a>()</code>,
<code><a href="#topic+prior_exponential">prior_exponential</a>()</code>,
<code><a href="#topic+prior_gamma">prior_gamma</a>()</code>,
<code><a href="#topic+prior_half_cauchy">prior_half_cauchy</a>()</code>,
<code><a href="#topic+prior_half_normal">prior_half_normal</a>()</code>,
<code><a href="#topic+prior_normal">prior_normal</a>()</code>,
<code><a href="#topic+prior_poisson">prior_poisson</a>()</code>,
<code><a href="#topic+uniform_prior">uniform_prior</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>bp &lt;- prior_beta(9, 235)
</code></pre>

<hr>
<h2 id='prior_cauchy'>Prior cauchy distribution</h2><span id='topic+prior_cauchy'></span>

<h3>Description</h3>

<p>Prior cauchy distribution
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prior_cauchy(mu, sigma)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prior_cauchy_+3A_mu">mu</code></td>
<td>
<p>numeric. Location.</p>
</td></tr>
<tr><td><code id="prior_cauchy_+3A_sigma">sigma</code></td>
<td>
<p>numeric. Scale (&gt;0).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Stan reference <a href="https://mc-stan.org/docs/functions-reference/cauchy-distribution.html">https://mc-stan.org/docs/functions-reference/cauchy-distribution.html</a>
</p>


<h3>Value</h3>

<p>Object of class <code><a href="#topic+PriorCauchy-class">PriorCauchy</a></code>.
</p>


<h3>See Also</h3>

<p>Other priors: 
<code><a href="#topic+prior_bernoulli">prior_bernoulli</a>()</code>,
<code><a href="#topic+prior_beta">prior_beta</a>()</code>,
<code><a href="#topic+prior_exponential">prior_exponential</a>()</code>,
<code><a href="#topic+prior_gamma">prior_gamma</a>()</code>,
<code><a href="#topic+prior_half_cauchy">prior_half_cauchy</a>()</code>,
<code><a href="#topic+prior_half_normal">prior_half_normal</a>()</code>,
<code><a href="#topic+prior_normal">prior_normal</a>()</code>,
<code><a href="#topic+prior_poisson">prior_poisson</a>()</code>,
<code><a href="#topic+uniform_prior">uniform_prior</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cp &lt;- prior_cauchy(1, 1)
</code></pre>

<hr>
<h2 id='prior_exponential'>Prior exponential distribution</h2><span id='topic+prior_exponential'></span>

<h3>Description</h3>

<p>Prior exponential distribution
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prior_exponential(beta)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prior_exponential_+3A_beta">beta</code></td>
<td>
<p>numeric. Inverse scale (&gt;0).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Stan reference <a href="https://mc-stan.org/docs/functions-reference/exponential-distribution.html">https://mc-stan.org/docs/functions-reference/exponential-distribution.html</a>
</p>


<h3>Value</h3>

<p>Object of class <code><a href="#topic+PriorExponential-class">PriorExponential</a></code>.
</p>


<h3>See Also</h3>

<p>Other priors: 
<code><a href="#topic+prior_bernoulli">prior_bernoulli</a>()</code>,
<code><a href="#topic+prior_beta">prior_beta</a>()</code>,
<code><a href="#topic+prior_cauchy">prior_cauchy</a>()</code>,
<code><a href="#topic+prior_gamma">prior_gamma</a>()</code>,
<code><a href="#topic+prior_half_cauchy">prior_half_cauchy</a>()</code>,
<code><a href="#topic+prior_half_normal">prior_half_normal</a>()</code>,
<code><a href="#topic+prior_normal">prior_normal</a>()</code>,
<code><a href="#topic+prior_poisson">prior_poisson</a>()</code>,
<code><a href="#topic+uniform_prior">uniform_prior</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ep &lt;- prior_exponential(1)
</code></pre>

<hr>
<h2 id='prior_gamma'>Prior gamma distribution</h2><span id='topic+prior_gamma'></span>

<h3>Description</h3>

<p>Prior gamma distribution
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prior_gamma(alpha, beta)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prior_gamma_+3A_alpha">alpha</code></td>
<td>
<p>numeric. Shape (&gt;0).</p>
</td></tr>
<tr><td><code id="prior_gamma_+3A_beta">beta</code></td>
<td>
<p>numeric. Inverse scale (&gt;=0).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Stan reference <a href="https://mc-stan.org/docs/functions-reference/gamma-distribution.html">https://mc-stan.org/docs/functions-reference/gamma-distribution.html</a>
</p>


<h3>Value</h3>

<p>Object of class <code><a href="#topic+PriorGamma-class">PriorGamma</a></code>.
</p>


<h3>See Also</h3>

<p>Other priors: 
<code><a href="#topic+prior_bernoulli">prior_bernoulli</a>()</code>,
<code><a href="#topic+prior_beta">prior_beta</a>()</code>,
<code><a href="#topic+prior_cauchy">prior_cauchy</a>()</code>,
<code><a href="#topic+prior_exponential">prior_exponential</a>()</code>,
<code><a href="#topic+prior_half_cauchy">prior_half_cauchy</a>()</code>,
<code><a href="#topic+prior_half_normal">prior_half_normal</a>()</code>,
<code><a href="#topic+prior_normal">prior_normal</a>()</code>,
<code><a href="#topic+prior_poisson">prior_poisson</a>()</code>,
<code><a href="#topic+uniform_prior">uniform_prior</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>gp &lt;- prior_gamma(0.001, 0.001)
</code></pre>

<hr>
<h2 id='prior_half_cauchy'>Prior half-cauchy distribution</h2><span id='topic+prior_half_cauchy'></span>

<h3>Description</h3>

<p>Prior half-cauchy distribution
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prior_half_cauchy(mu, sigma)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prior_half_cauchy_+3A_mu">mu</code></td>
<td>
<p>numeric. Location.</p>
</td></tr>
<tr><td><code id="prior_half_cauchy_+3A_sigma">sigma</code></td>
<td>
<p>numeric. Scale (&gt;0).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Stan reference <a href="https://mc-stan.org/docs/functions-reference/cauchy-distribution.html">https://mc-stan.org/docs/functions-reference/cauchy-distribution.html</a>
</p>


<h3>Value</h3>

<p>Object of class <code><a href="#topic+PriorHalfCauchy-class">PriorHalfCauchy</a></code>.
</p>


<h3>See Also</h3>

<p>Other priors: 
<code><a href="#topic+prior_bernoulli">prior_bernoulli</a>()</code>,
<code><a href="#topic+prior_beta">prior_beta</a>()</code>,
<code><a href="#topic+prior_cauchy">prior_cauchy</a>()</code>,
<code><a href="#topic+prior_exponential">prior_exponential</a>()</code>,
<code><a href="#topic+prior_gamma">prior_gamma</a>()</code>,
<code><a href="#topic+prior_half_normal">prior_half_normal</a>()</code>,
<code><a href="#topic+prior_normal">prior_normal</a>()</code>,
<code><a href="#topic+prior_poisson">prior_poisson</a>()</code>,
<code><a href="#topic+uniform_prior">uniform_prior</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>hcp &lt;- prior_half_cauchy(1, 1)
</code></pre>

<hr>
<h2 id='prior_half_normal'>Prior half-normal distribution</h2><span id='topic+prior_half_normal'></span>

<h3>Description</h3>

<p>Prior half-normal distribution
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prior_half_normal(mu, sigma)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prior_half_normal_+3A_mu">mu</code></td>
<td>
<p>numeric. Location.</p>
</td></tr>
<tr><td><code id="prior_half_normal_+3A_sigma">sigma</code></td>
<td>
<p>numeric. Scale (&gt;0).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Stan reference <a href="https://mc-stan.org/docs/functions-reference/normal-distribution.html">https://mc-stan.org/docs/functions-reference/normal-distribution.html</a>
</p>


<h3>Value</h3>

<p>Object of class <code><a href="#topic+PriorHalfNormal-class">PriorHalfNormal</a></code>.
</p>


<h3>See Also</h3>

<p>Other priors: 
<code><a href="#topic+prior_bernoulli">prior_bernoulli</a>()</code>,
<code><a href="#topic+prior_beta">prior_beta</a>()</code>,
<code><a href="#topic+prior_cauchy">prior_cauchy</a>()</code>,
<code><a href="#topic+prior_exponential">prior_exponential</a>()</code>,
<code><a href="#topic+prior_gamma">prior_gamma</a>()</code>,
<code><a href="#topic+prior_half_cauchy">prior_half_cauchy</a>()</code>,
<code><a href="#topic+prior_normal">prior_normal</a>()</code>,
<code><a href="#topic+prior_poisson">prior_poisson</a>()</code>,
<code><a href="#topic+uniform_prior">uniform_prior</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>hcp &lt;- prior_half_normal(1, 1)
</code></pre>

<hr>
<h2 id='prior_normal'>Prior normal distribution</h2><span id='topic+prior_normal'></span>

<h3>Description</h3>

<p>Prior normal distribution
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prior_normal(mu, sigma)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prior_normal_+3A_mu">mu</code></td>
<td>
<p>numeric. Location.</p>
</td></tr>
<tr><td><code id="prior_normal_+3A_sigma">sigma</code></td>
<td>
<p>numeric. Scale (&gt;0).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Stan reference <a href="https://mc-stan.org/docs/functions-reference/normal-distribution.html">https://mc-stan.org/docs/functions-reference/normal-distribution.html</a>
</p>


<h3>Value</h3>

<p>Object of class <code><a href="#topic+PriorNormal-class">PriorNormal</a></code>.
</p>


<h3>See Also</h3>

<p>Other priors: 
<code><a href="#topic+prior_bernoulli">prior_bernoulli</a>()</code>,
<code><a href="#topic+prior_beta">prior_beta</a>()</code>,
<code><a href="#topic+prior_cauchy">prior_cauchy</a>()</code>,
<code><a href="#topic+prior_exponential">prior_exponential</a>()</code>,
<code><a href="#topic+prior_gamma">prior_gamma</a>()</code>,
<code><a href="#topic+prior_half_cauchy">prior_half_cauchy</a>()</code>,
<code><a href="#topic+prior_half_normal">prior_half_normal</a>()</code>,
<code><a href="#topic+prior_poisson">prior_poisson</a>()</code>,
<code><a href="#topic+uniform_prior">uniform_prior</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>np &lt;- prior_normal(1, 1)
</code></pre>

<hr>
<h2 id='prior_poisson'>Prior poisson distribution</h2><span id='topic+prior_poisson'></span>

<h3>Description</h3>

<p>Prior poisson distribution
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prior_poisson(lambda)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prior_poisson_+3A_lambda">lambda</code></td>
<td>
<p>numeric. Rate (&gt;0).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Stan reference <a href="https://mc-stan.org/docs/functions-reference/poisson.html">https://mc-stan.org/docs/functions-reference/poisson.html</a>
</p>


<h3>Value</h3>

<p>Object of class <code><a href="#topic+PriorPoisson-class">PriorPoisson</a></code>.
</p>


<h3>See Also</h3>

<p>Other priors: 
<code><a href="#topic+prior_bernoulli">prior_bernoulli</a>()</code>,
<code><a href="#topic+prior_beta">prior_beta</a>()</code>,
<code><a href="#topic+prior_cauchy">prior_cauchy</a>()</code>,
<code><a href="#topic+prior_exponential">prior_exponential</a>()</code>,
<code><a href="#topic+prior_gamma">prior_gamma</a>()</code>,
<code><a href="#topic+prior_half_cauchy">prior_half_cauchy</a>()</code>,
<code><a href="#topic+prior_half_normal">prior_half_normal</a>()</code>,
<code><a href="#topic+prior_normal">prior_normal</a>()</code>,
<code><a href="#topic+uniform_prior">uniform_prior</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>pp &lt;- prior_poisson(100)
</code></pre>

<hr>
<h2 id='Prior-class'><code>Prior</code> Class</h2><span id='topic+Prior-class'></span>

<h3>Description</h3>

<p>A class for defining priors to be translated to Stan code. Objects of class
<code>Prior</code> should not be created directly but by one of the specific prior
class constructors.
</p>


<h3>Slots</h3>


<dl>
<dt><code>stan_code</code></dt><dd><p>character. Stan implementation of the prior, with
placeholders for parameters surrounded with <code style="white-space: pre;">&#8288;{{&#8288;</code> and <code style="white-space: pre;">&#8288;}}&#8288;</code> to be replaced
with <code><a href="glue.html#topic+glue">glue::glue()</a></code>.</p>
</dd>
<dt><code>n_param</code></dt><dd><p>integer. Number of prior parameters.</p>
</dd>
<dt><code>constraint</code></dt><dd><p>character. Support of prior distribution expressed as a
Stan constraint, e.g. <code>"&lt;lower=0, upper=1&gt;"</code>.</p>
</dd>
</dl>


<h3>See Also</h3>

<p>Prior constructor functions: <code><a href="#topic+prior_bernoulli">prior_bernoulli()</a></code>, <code><a href="#topic+prior_beta">prior_beta()</a></code>, <code><a href="#topic+prior_cauchy">prior_cauchy()</a></code>, <code><a href="#topic+prior_half_cauchy">prior_half_cauchy()</a></code>,
<code><a href="#topic+prior_gamma">prior_gamma()</a></code>, <code><a href="#topic+prior_normal">prior_normal()</a></code>, <code><a href="#topic+prior_poisson">prior_poisson()</a></code>, <code><a href="#topic+uniform_prior">uniform_prior()</a></code>
</p>
<p>Other prior classes: 
<code><a href="#topic+PriorBernoulli-class">PriorBernoulli-class</a></code>,
<code><a href="#topic+PriorBeta-class">PriorBeta-class</a></code>,
<code><a href="#topic+PriorCauchy-class">PriorCauchy-class</a></code>,
<code><a href="#topic+PriorExponential-class">PriorExponential-class</a></code>,
<code><a href="#topic+PriorGamma-class">PriorGamma-class</a></code>,
<code><a href="#topic+PriorHalfCauchy-class">PriorHalfCauchy-class</a></code>,
<code><a href="#topic+PriorHalfNormal-class">PriorHalfNormal-class</a></code>,
<code><a href="#topic+PriorNormal-class">PriorNormal-class</a></code>,
<code><a href="#topic+PriorPoisson-class">PriorPoisson-class</a></code>,
<code><a href="#topic+UniformPrior-class">UniformPrior-class</a></code>
</p>

<hr>
<h2 id='PriorBernoulli-class'><code>PriorBernoulli</code> Class</h2><span id='topic+PriorBernoulli-class'></span><span id='topic+.prior_bernoulli'></span>

<h3>Description</h3>

<p>A class for defining bernoulli priors to be translated to Stan code.
Objects of class <code>PriorBernoulli</code> should not be created directly but by
the constructor <code><a href="#topic+prior_bernoulli">prior_bernoulli()</a></code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>stan_code</code></dt><dd><p>character. Stan implementation of the prior, with
placeholders for bernoulli stan function parameters surrounded with
<code style="white-space: pre;">&#8288;{{&#8288;</code> and <code style="white-space: pre;">&#8288;}}&#8288;</code> to be replaced with <code><a href="glue.html#topic+glue">glue::glue()</a></code>.</p>
</dd>
<dt><code>n_param</code></dt><dd><p>integer. Number of prior parameters (1).</p>
</dd>
<dt><code>constraint</code></dt><dd><p>character. Support of prior distribution,
<code>"&lt;lower=0, upper=1&gt;"</code>.</p>
</dd>
<dt><code>theta</code></dt><dd><p>numeric. Probability (in [0, 1]).</p>
</dd>
</dl>


<h3>See Also</h3>

<p>Other prior classes: 
<code><a href="#topic+Prior-class">Prior-class</a></code>,
<code><a href="#topic+PriorBeta-class">PriorBeta-class</a></code>,
<code><a href="#topic+PriorCauchy-class">PriorCauchy-class</a></code>,
<code><a href="#topic+PriorExponential-class">PriorExponential-class</a></code>,
<code><a href="#topic+PriorGamma-class">PriorGamma-class</a></code>,
<code><a href="#topic+PriorHalfCauchy-class">PriorHalfCauchy-class</a></code>,
<code><a href="#topic+PriorHalfNormal-class">PriorHalfNormal-class</a></code>,
<code><a href="#topic+PriorNormal-class">PriorNormal-class</a></code>,
<code><a href="#topic+PriorPoisson-class">PriorPoisson-class</a></code>,
<code><a href="#topic+UniformPrior-class">UniformPrior-class</a></code>
</p>

<hr>
<h2 id='PriorBeta-class'><code>PriorBeta</code> Class</h2><span id='topic+PriorBeta-class'></span><span id='topic+.prior_beta'></span>

<h3>Description</h3>

<p>A class for defining beta priors to be translated to Stan code.
Objects of class <code>PriorBeta</code> should not be created directly but by
the constructor <code><a href="#topic+prior_beta">prior_beta()</a></code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>stan_code</code></dt><dd><p>character. Stan implementation of the prior, with
placeholders for beta stan function parameters surrounded with
<code style="white-space: pre;">&#8288;{{&#8288;</code> and <code style="white-space: pre;">&#8288;}}&#8288;</code> to be replaced with <code><a href="glue.html#topic+glue">glue::glue()</a></code>.</p>
</dd>
<dt><code>n_param</code></dt><dd><p>integer. Number of prior parameters (2).</p>
</dd>
<dt><code>constraint</code></dt><dd><p>character. Support of prior distribution,
<code>"&lt;lower=0, upper=1&gt;"</code>.</p>
</dd>
<dt><code>alpha</code></dt><dd><p>numeric. Shape (&gt;=0).</p>
</dd>
<dt><code>beta</code></dt><dd><p>numeric. Shape (&gt;=0).</p>
</dd>
</dl>


<h3>See Also</h3>

<p>Other prior classes: 
<code><a href="#topic+Prior-class">Prior-class</a></code>,
<code><a href="#topic+PriorBernoulli-class">PriorBernoulli-class</a></code>,
<code><a href="#topic+PriorCauchy-class">PriorCauchy-class</a></code>,
<code><a href="#topic+PriorExponential-class">PriorExponential-class</a></code>,
<code><a href="#topic+PriorGamma-class">PriorGamma-class</a></code>,
<code><a href="#topic+PriorHalfCauchy-class">PriorHalfCauchy-class</a></code>,
<code><a href="#topic+PriorHalfNormal-class">PriorHalfNormal-class</a></code>,
<code><a href="#topic+PriorNormal-class">PriorNormal-class</a></code>,
<code><a href="#topic+PriorPoisson-class">PriorPoisson-class</a></code>,
<code><a href="#topic+UniformPrior-class">UniformPrior-class</a></code>
</p>

<hr>
<h2 id='PriorCauchy-class'><code>PriorCauchy</code> Class</h2><span id='topic+PriorCauchy-class'></span><span id='topic+.prior_cauchy'></span>

<h3>Description</h3>

<p>A class for defining the cauchy priors to be translated to Stan code.
Objects of class <code>PriorCauchy</code> should not be created directly but by
the constructor <code><a href="#topic+prior_cauchy">prior_cauchy()</a></code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>stan_code</code></dt><dd><p>character. Stan implementation of the prior, with
placeholders for cauchy stan function parameters surrounded with
<code style="white-space: pre;">&#8288;{{&#8288;</code> and <code style="white-space: pre;">&#8288;}}&#8288;</code> to be replaced with <code><a href="glue.html#topic+glue">glue::glue()</a></code>.</p>
</dd>
<dt><code>n_param</code></dt><dd><p>integer. Number of prior parameters (2).</p>
</dd>
<dt><code>constraint</code></dt><dd><p>character. Support of prior distribution,
(all values allowed in cauchy distribution).</p>
</dd>
<dt><code>mu</code></dt><dd><p>numeric. Location.</p>
</dd>
<dt><code>sigma</code></dt><dd><p>numeric. Scale (&gt;0).</p>
</dd>
</dl>


<h3>See Also</h3>

<p>Other prior classes: 
<code><a href="#topic+Prior-class">Prior-class</a></code>,
<code><a href="#topic+PriorBernoulli-class">PriorBernoulli-class</a></code>,
<code><a href="#topic+PriorBeta-class">PriorBeta-class</a></code>,
<code><a href="#topic+PriorExponential-class">PriorExponential-class</a></code>,
<code><a href="#topic+PriorGamma-class">PriorGamma-class</a></code>,
<code><a href="#topic+PriorHalfCauchy-class">PriorHalfCauchy-class</a></code>,
<code><a href="#topic+PriorHalfNormal-class">PriorHalfNormal-class</a></code>,
<code><a href="#topic+PriorNormal-class">PriorNormal-class</a></code>,
<code><a href="#topic+PriorPoisson-class">PriorPoisson-class</a></code>,
<code><a href="#topic+UniformPrior-class">UniformPrior-class</a></code>
</p>

<hr>
<h2 id='PriorExponential-class'><code>PriorExponential</code> Class</h2><span id='topic+PriorExponential-class'></span><span id='topic+.prior_exponential'></span>

<h3>Description</h3>

<p>A class for defining exponential priors to be translated to Stan code.
Objects of class <code>PriorExponential</code> should not be created directly but by
the constructor <code><a href="#topic+prior_exponential">prior_exponential()</a></code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>stan_code</code></dt><dd><p>character. Stan implementation of the prior, with
placeholders for exponential Stan function parameters surrounded with
<code style="white-space: pre;">&#8288;{{&#8288;</code> and <code style="white-space: pre;">&#8288;}}&#8288;</code> to be replaced with <code><a href="glue.html#topic+glue">glue::glue()</a></code>.</p>
</dd>
<dt><code>n_param</code></dt><dd><p>integer. Number of prior parameters (1).</p>
</dd>
<dt><code>constraint</code></dt><dd><p>character. Support of prior distribution,
<code>"&lt;lower=0&gt;"</code>.</p>
</dd>
<dt><code>beta</code></dt><dd><p>numeric. Inverse scale (&gt;0).</p>
</dd>
</dl>


<h3>See Also</h3>

<p>Other prior classes: 
<code><a href="#topic+Prior-class">Prior-class</a></code>,
<code><a href="#topic+PriorBernoulli-class">PriorBernoulli-class</a></code>,
<code><a href="#topic+PriorBeta-class">PriorBeta-class</a></code>,
<code><a href="#topic+PriorCauchy-class">PriorCauchy-class</a></code>,
<code><a href="#topic+PriorGamma-class">PriorGamma-class</a></code>,
<code><a href="#topic+PriorHalfCauchy-class">PriorHalfCauchy-class</a></code>,
<code><a href="#topic+PriorHalfNormal-class">PriorHalfNormal-class</a></code>,
<code><a href="#topic+PriorNormal-class">PriorNormal-class</a></code>,
<code><a href="#topic+PriorPoisson-class">PriorPoisson-class</a></code>,
<code><a href="#topic+UniformPrior-class">UniformPrior-class</a></code>
</p>

<hr>
<h2 id='PriorGamma-class'><code>PriorGamma</code> Class</h2><span id='topic+PriorGamma-class'></span><span id='topic+.prior_gamma'></span>

<h3>Description</h3>

<p>A class for defining gamma priors to be translated to Stan code.
Objects of class <code>PriorGamma</code> should not be created directly but by
the constructor <code><a href="#topic+prior_gamma">prior_gamma()</a></code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>stan_code</code></dt><dd><p>character. Stan implementation of the prior, with
placeholders for gamma stan function parameters surrounded with
<code style="white-space: pre;">&#8288;{{&#8288;</code> and <code style="white-space: pre;">&#8288;}}&#8288;</code> to be replaced with <code><a href="glue.html#topic+glue">glue::glue()</a></code>.</p>
</dd>
<dt><code>n_param</code></dt><dd><p>integer. Number of prior parameters (2).</p>
</dd>
<dt><code>constraint</code></dt><dd><p>character. Support of prior distribution,
<code>"&lt;lower=0&gt;"</code>.</p>
</dd>
<dt><code>alpha</code></dt><dd><p>numeric. Shape (&gt;0).</p>
</dd>
<dt><code>beta</code></dt><dd><p>numeric. Inverse scale (&gt;=0).</p>
</dd>
</dl>


<h3>See Also</h3>

<p>Other prior classes: 
<code><a href="#topic+Prior-class">Prior-class</a></code>,
<code><a href="#topic+PriorBernoulli-class">PriorBernoulli-class</a></code>,
<code><a href="#topic+PriorBeta-class">PriorBeta-class</a></code>,
<code><a href="#topic+PriorCauchy-class">PriorCauchy-class</a></code>,
<code><a href="#topic+PriorExponential-class">PriorExponential-class</a></code>,
<code><a href="#topic+PriorHalfCauchy-class">PriorHalfCauchy-class</a></code>,
<code><a href="#topic+PriorHalfNormal-class">PriorHalfNormal-class</a></code>,
<code><a href="#topic+PriorNormal-class">PriorNormal-class</a></code>,
<code><a href="#topic+PriorPoisson-class">PriorPoisson-class</a></code>,
<code><a href="#topic+UniformPrior-class">UniformPrior-class</a></code>
</p>

<hr>
<h2 id='PriorHalfCauchy-class'><code>PriorHalfCauchy</code> Class</h2><span id='topic+PriorHalfCauchy-class'></span><span id='topic+.prior_half_cauchy'></span>

<h3>Description</h3>

<p>A class for defining half cauchy priors to be translated to Stan code.
Objects of class <code>PriorHalfCauchy</code> should not be created directly but by
the constructor <code><a href="#topic+prior_half_cauchy">prior_half_cauchy()</a></code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>stan_code</code></dt><dd><p>character. Stan implementation of the prior, with
placeholders for the half cauchy stan function parameters surrounded with
<code style="white-space: pre;">&#8288;{{&#8288;</code> and <code style="white-space: pre;">&#8288;}}&#8288;</code> to be replaced with <code><a href="glue.html#topic+glue">glue::glue()</a></code>.</p>
</dd>
<dt><code>n_param</code></dt><dd><p>integer. Number of prior parameters (2).</p>
</dd>
<dt><code>constraint</code></dt><dd><p>character. Support of prior distribution. In a half cauchy
prior, constraint is <code>mu</code></p>
</dd>
<dt><code>mu</code></dt><dd><p>numeric. Location.</p>
</dd>
<dt><code>sigma</code></dt><dd><p>numeric. Scale (&gt;0).</p>
</dd>
</dl>


<h3>See Also</h3>

<p>Other prior classes: 
<code><a href="#topic+Prior-class">Prior-class</a></code>,
<code><a href="#topic+PriorBernoulli-class">PriorBernoulli-class</a></code>,
<code><a href="#topic+PriorBeta-class">PriorBeta-class</a></code>,
<code><a href="#topic+PriorCauchy-class">PriorCauchy-class</a></code>,
<code><a href="#topic+PriorExponential-class">PriorExponential-class</a></code>,
<code><a href="#topic+PriorGamma-class">PriorGamma-class</a></code>,
<code><a href="#topic+PriorHalfNormal-class">PriorHalfNormal-class</a></code>,
<code><a href="#topic+PriorNormal-class">PriorNormal-class</a></code>,
<code><a href="#topic+PriorPoisson-class">PriorPoisson-class</a></code>,
<code><a href="#topic+UniformPrior-class">UniformPrior-class</a></code>
</p>

<hr>
<h2 id='PriorHalfNormal-class'><code>PriorHalfNormal</code> Class</h2><span id='topic+PriorHalfNormal-class'></span><span id='topic+.prior_half_normal'></span>

<h3>Description</h3>

<p>A class for defining half normal priors to be translated to Stan code.
Objects of class <code>PriorHalfNormal</code> should not be created directly but by
the constructor <code><a href="#topic+prior_half_normal">prior_half_normal()</a></code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>stan_code</code></dt><dd><p>character. Stan implementation of the prior, with
placeholders for the half normal stan function parameters surrounded with
<code style="white-space: pre;">&#8288;{{&#8288;</code> and <code style="white-space: pre;">&#8288;}}&#8288;</code> to be replaced with <code><a href="glue.html#topic+glue">glue::glue()</a></code>.</p>
</dd>
<dt><code>n_param</code></dt><dd><p>integer. Number of prior parameters (2).</p>
</dd>
<dt><code>constraint</code></dt><dd><p>character. Support of prior distribution. In a half normal
prior, constraint is <code>mu</code></p>
</dd>
<dt><code>mu</code></dt><dd><p>numeric. Location.</p>
</dd>
<dt><code>sigma</code></dt><dd><p>numeric. Scale (&gt;0).</p>
</dd>
</dl>


<h3>See Also</h3>

<p>Other prior classes: 
<code><a href="#topic+Prior-class">Prior-class</a></code>,
<code><a href="#topic+PriorBernoulli-class">PriorBernoulli-class</a></code>,
<code><a href="#topic+PriorBeta-class">PriorBeta-class</a></code>,
<code><a href="#topic+PriorCauchy-class">PriorCauchy-class</a></code>,
<code><a href="#topic+PriorExponential-class">PriorExponential-class</a></code>,
<code><a href="#topic+PriorGamma-class">PriorGamma-class</a></code>,
<code><a href="#topic+PriorHalfCauchy-class">PriorHalfCauchy-class</a></code>,
<code><a href="#topic+PriorNormal-class">PriorNormal-class</a></code>,
<code><a href="#topic+PriorPoisson-class">PriorPoisson-class</a></code>,
<code><a href="#topic+UniformPrior-class">UniformPrior-class</a></code>
</p>

<hr>
<h2 id='PriorNormal-class'><code>PriorNormal</code> Class</h2><span id='topic+PriorNormal-class'></span><span id='topic+.prior_normal'></span>

<h3>Description</h3>

<p>A class for defining normal priors to be translated to Stan code.
Objects of class <code>PriorNormal</code> should not be created directly but by
the constructor <code><a href="#topic+prior_normal">prior_normal()</a></code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>stan_code</code></dt><dd><p>character. Stan implementation of the prior, with
placeholders for normal stan function parameters surrounded with
<code style="white-space: pre;">&#8288;{{&#8288;</code> and <code style="white-space: pre;">&#8288;}}&#8288;</code> to be replaced with <code><a href="glue.html#topic+glue">glue::glue()</a></code>.</p>
</dd>
<dt><code>n_param</code></dt><dd><p>integer. Number of prior parameters (2).</p>
</dd>
<dt><code>constraint</code></dt><dd><p>character. Support of prior distribution,
(all values allowed in normal distribution).</p>
</dd>
<dt><code>mu</code></dt><dd><p>numeric. Location.</p>
</dd>
<dt><code>sigma</code></dt><dd><p>numeric. Scale (&gt;0).</p>
</dd>
</dl>


<h3>See Also</h3>

<p>Other prior classes: 
<code><a href="#topic+Prior-class">Prior-class</a></code>,
<code><a href="#topic+PriorBernoulli-class">PriorBernoulli-class</a></code>,
<code><a href="#topic+PriorBeta-class">PriorBeta-class</a></code>,
<code><a href="#topic+PriorCauchy-class">PriorCauchy-class</a></code>,
<code><a href="#topic+PriorExponential-class">PriorExponential-class</a></code>,
<code><a href="#topic+PriorGamma-class">PriorGamma-class</a></code>,
<code><a href="#topic+PriorHalfCauchy-class">PriorHalfCauchy-class</a></code>,
<code><a href="#topic+PriorHalfNormal-class">PriorHalfNormal-class</a></code>,
<code><a href="#topic+PriorPoisson-class">PriorPoisson-class</a></code>,
<code><a href="#topic+UniformPrior-class">UniformPrior-class</a></code>
</p>

<hr>
<h2 id='PriorPoisson-class'><code>PriorPoisson</code> Class</h2><span id='topic+PriorPoisson-class'></span><span id='topic+.prior_poisson'></span>

<h3>Description</h3>

<p>A class for defining poisson priors to be translated to Stan code.
Objects of class <code>PriorPoisson</code> should not be created directly but by
the constructor <code><a href="#topic+prior_poisson">prior_poisson()</a></code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>stan_code</code></dt><dd><p>character. Stan implementation of the prior, with
placeholders for poisson stan function parameters surrounded with
<code style="white-space: pre;">&#8288;{{&#8288;</code> and <code style="white-space: pre;">&#8288;}}&#8288;</code> to be replaced with <code><a href="glue.html#topic+glue">glue::glue()</a></code>.</p>
</dd>
<dt><code>n_param</code></dt><dd><p>integer. Number of prior parameters (1).</p>
</dd>
<dt><code>constraint</code></dt><dd><p>character. Support of prior distribution,
<code>"&lt;lower=0&gt;"</code>.</p>
</dd>
<dt><code>lambda</code></dt><dd><p>numeric. Rate (&gt;0).</p>
</dd>
</dl>


<h3>See Also</h3>

<p>Other prior classes: 
<code><a href="#topic+Prior-class">Prior-class</a></code>,
<code><a href="#topic+PriorBernoulli-class">PriorBernoulli-class</a></code>,
<code><a href="#topic+PriorBeta-class">PriorBeta-class</a></code>,
<code><a href="#topic+PriorCauchy-class">PriorCauchy-class</a></code>,
<code><a href="#topic+PriorExponential-class">PriorExponential-class</a></code>,
<code><a href="#topic+PriorGamma-class">PriorGamma-class</a></code>,
<code><a href="#topic+PriorHalfCauchy-class">PriorHalfCauchy-class</a></code>,
<code><a href="#topic+PriorHalfNormal-class">PriorHalfNormal-class</a></code>,
<code><a href="#topic+PriorNormal-class">PriorNormal-class</a></code>,
<code><a href="#topic+UniformPrior-class">UniformPrior-class</a></code>
</p>

<hr>
<h2 id='rename_draws_covariates'>Rename Covariates in <code>draws</code> Object</h2><span id='topic+rename_draws_covariates'></span>

<h3>Description</h3>

<p>Rename Covariates in <code>draws</code> Object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rename_draws_covariates(draws, analysis)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rename_draws_covariates_+3A_draws">draws</code></td>
<td>
<p><code>draws</code> created from sampled analysis object. See example.</p>
</td></tr>
<tr><td><code id="rename_draws_covariates_+3A_analysis">analysis</code></td>
<td>
<p><code>Analysis</code> as created by <code><a href="#topic+create_analysis_obj">create_analysis_obj()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>draws</code>[<a href="posterior.html#topic+draws">posterior::draws</a>] object with covariate names.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (check_cmdstan()) {
  analysis_object &lt;- create_analysis_obj(
    data_matrix = example_matrix,
    covariates = add_covariates(
      covariates = c("cov1", "cov2"),
      priors = prior_normal(0, 1000)
    ),
    outcome = outcome_surv_exponential(
      "time",
      "cnsr",
      baseline_prior = prior_normal(0, 1000)
    ),
    borrowing = borrowing_hierarchical_commensurate(
      "ext",
      prior_exponential(.001)
    ),
    treatment = treatment_details(
      "trt",
      prior_normal(0, 1000)
    )
  )
  samples &lt;- mcmc_sample(analysis_object, 200, 400, 1)
  draws &lt;- samples$draws()
  renamed_draws &lt;- rename_draws_covariates(draws, analysis_object)
  summary(renamed_draws)
}
</code></pre>

<hr>
<h2 id='set_cut_off'>Set Clinical Cut Off Rule</h2><span id='topic+set_cut_off'></span>

<h3>Description</h3>

<p>Set Clinical Cut Off Rule
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_cut_off(object, internal = cut_off_none(), external = cut_off_none())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="set_cut_off_+3A_object">object</code></td>
<td>
<p><code>DataSimObject</code></p>
</td></tr>
<tr><td><code id="set_cut_off_+3A_internal">internal</code></td>
<td>
<p><code>DataSimCutOff</code> object specified by one of the cut off functions: <code>cut_off_after_events()</code>,
<code>cut_off_after_first()</code>, <code>cut_off_after_last()</code>, <code>cut_off_none()</code>.</p>
</td></tr>
<tr><td><code id="set_cut_off_+3A_external">external</code></td>
<td>
<p><code>DataSimCutOff</code> for the external data.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>DataSimObject</code> with updated <code>cut_off_internal</code> and <code>cut_off_external</code> slots.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data_sim &lt;- create_data_simulation(
  create_baseline_object(10, 10, 10),
  event_dist = create_event_dist(dist = "exponential", lambdas = 1 / 36)
)
set_cut_off(
  data_sim,
  cut_off_after_events(n = 10),
  cut_off_after_first(time = 30)
)
</code></pre>

<hr>
<h2 id='set_dropout'>Set Drop Out Distribution</h2><span id='topic+set_dropout'></span>

<h3>Description</h3>

<p>Set Drop Out Distribution
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_dropout(object, internal_treated, internal_control, external_control)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="set_dropout_+3A_object">object</code></td>
<td>
<p><code>DataSimObject</code></p>
</td></tr>
<tr><td><code id="set_dropout_+3A_internal_treated">internal_treated</code></td>
<td>
<p><code>DataSimEvent</code> object specifying distribution for internal treated patients.</p>
</td></tr>
<tr><td><code id="set_dropout_+3A_internal_control">internal_control</code></td>
<td>
<p><code>DataSimEvent</code> object specifying distribution for internal control patients.</p>
</td></tr>
<tr><td><code id="set_dropout_+3A_external_control">external_control</code></td>
<td>
<p><code>DataSimEvent</code> object specifying distribution for external control patients.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>DataSimEvent</code> objects can be specified with <code><a href="#topic+create_event_dist">create_event_dist()</a></code>. Currently no <code>beta</code> parameters can be
used in drop out distributions (unlike for the survival outcome).
</p>


<h3>Value</h3>

<p>A <code>DataSimObject</code> with updated <code>internal_treated</code>, <code>internal_control</code> and <code>external_control</code> slots.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data_sim &lt;- create_data_simulation(
  create_baseline_object(10, 10, 10),
  event_dist = create_event_dist(dist = "exponential", lambdas = 1 / 36)
)
set_dropout(
  data_sim,
  internal_treated = create_event_dist(dist = "exponential", lambdas = 1 / 55),
  internal_control = create_event_dist(dist = "exponential", lambdas = 1 / 50),
  external_control = create_event_dist(dist = "exponential", lambdas = 1 / 40)
)
</code></pre>

<hr>
<h2 id='set_enrollment'>Set Enrollment Rates for Internal and External Trials</h2><span id='topic+set_enrollment'></span>

<h3>Description</h3>

<p>Set Enrollment Rates for Internal and External Trials
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_enrollment(object, internal, external = internal)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="set_enrollment_+3A_object">object</code></td>
<td>
<p>A <code>DataSimObject</code> from <a href="#topic+create_data_simulation">create_data_simulation</a></p>
</td></tr>
<tr><td><code id="set_enrollment_+3A_internal">internal</code></td>
<td>
<p><code>DataSimEnrollment</code> object to define the enrollment times for internal data</p>
</td></tr>
<tr><td><code id="set_enrollment_+3A_external">external</code></td>
<td>
<p><code>DataSimEnrollment</code> object to define the enrollment times for external data. Defaults to be the same
as internal.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>DataSimObject</code> with updated <code>enrollment_internal</code> and <code>enrollment_external</code> slots.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data_sim &lt;- create_data_simulation(
  create_baseline_object(10, 10, 10),
  event_dist = create_event_dist(dist = "exponential", lambdas = 1 / 36)
)
set_enrollment(
  data_sim,
  internal = enrollment_constant(rate = c(10, 5), for_time = c(6, 6)),
  external = enrollment_constant(rate = c(5), for_time = c(20))
)
</code></pre>

<hr>
<h2 id='set_transformations'>Set transformations in <code>BaselineObject</code> objects</h2><span id='topic+set_transformations'></span>

<h3>Description</h3>

<p>Set transformations in <code>BaselineObject</code> objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_transformations(object, ..., overwrite = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="set_transformations_+3A_object">object</code></td>
<td>
<p><code>BaselineObject</code> object</p>
</td></tr>
<tr><td><code id="set_transformations_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to methods</p>
</td></tr>
<tr><td><code id="set_transformations_+3A_overwrite">overwrite</code></td>
<td>
<p>logical. Overwrite existing transformations?</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>BaselineObject</code> object with transformations
</p>

<hr>
<h2 id='set_transformations+2CBaselineObject-method'>Set Transformations in Baseline Objects</h2><span id='topic+set_transformations+2CBaselineObject-method'></span>

<h3>Description</h3>

<p>Set Transformations in Baseline Objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'BaselineObject'
set_transformations(object, ..., overwrite = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="set_transformations+2B2CBaselineObject-method_+3A_object">object</code></td>
<td>
<p><code>BaselineObject</code> created by <a href="#topic+create_baseline_object">create_baseline_object</a>.</p>
</td></tr>
<tr><td><code id="set_transformations+2B2CBaselineObject-method_+3A_...">...</code></td>
<td>
<p>named transformation functions. See details for more information.</p>
</td></tr>
<tr><td><code id="set_transformations+2B2CBaselineObject-method_+3A_overwrite">overwrite</code></td>
<td>
<p>If <code>TRUE</code> overwrite existing transformation list and only include newly specified transformations.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Transformation functions are evaluated in order and create or overwrite a column in the data.frame with that
name. The function should have signature <code style="white-space: pre;">&#8288;function(data)&#8288;</code>, taking a <code>data.frame</code> (specifically a
<code>BaselineDataFrame</code> object from <code>generate(BaselineObject)</code>) and return a vector with length identical to the total
number of patients. The <code style="white-space: pre;">&#8288;@BaselineObject&#8288;</code> slot of the <a href="#topic+BaselineDataFrame-class">BaselineDataFrame</a> may be accessed directly or with
<code><a href="#topic+get_quantiles">get_quantiles()</a></code> to create transformations. See <code><a href="#topic+binary_cutoff">binary_cutoff()</a></code>.
</p>


<h3>Value</h3>

<p>An updated <code>BaselineObject</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>baseline &lt;- create_baseline_object(
  100, 50, 100,
  covariates = baseline_covariates(
    names = "age", means_int = 55,
    covariance_int = covariance_matrix(5)
  )
)
set_transformations(baseline, age_scaled = function(data) scale(data$age))
</code></pre>

<hr>
<h2 id='show_guide'>Show guide for objects with guides</h2><span id='topic+show_guide'></span><span id='topic+show_guide+2CSimulation-method'></span>

<h3>Description</h3>

<p>Show the guide in <code>Simulation</code> objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>show_guide(object)

## S4 method for signature 'Simulation'
show_guide(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="show_guide_+3A_object">object</code></td>
<td>
<p><code>Simulation</code> object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>data.frame</code> showing all simulation scenarios.
</p>

<hr>
<h2 id='sim_borrowing_list'>Input borrowing details for a simulation study</h2><span id='topic+sim_borrowing_list'></span>

<h3>Description</h3>

<p>A function for defining which borrowing scenarios should be evaluated as
part of a simulation study.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sim_borrowing_list(borrowing_list)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sim_borrowing_list_+3A_borrowing_list">borrowing_list</code></td>
<td>
<p>named list of objects of class <code>Borrowing</code> created
by <code>borrowing_full()</code>, <code>borrowing_none()</code>, or <code>borrowing_hierarchical_commensurate()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Object of class <code><a href="#topic+SimBorrowingList-class">SimBorrowingList</a></code>.
</p>


<h3>See Also</h3>

<p>Other simulation classes: 
<code><a href="#topic+sim_covariate_list">sim_covariate_list</a>()</code>,
<code><a href="#topic+sim_data_list">sim_data_list</a>()</code>,
<code><a href="#topic+sim_outcome_list">sim_outcome_list</a>()</code>,
<code><a href="#topic+sim_treatment_list">sim_treatment_list</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
borrow_scenarios &lt;- sim_borrowing_list(
  list(
    "No borrowing" = borrowing_none("ext"),
    "Full borrowing" = borrowing_full("ext"),
    "BDB, uninformative prior" = borrowing_hierarchical_commensurate(
      "ext",
      prior_gamma(0.001, 0.001)
    ),
    "BDB, informative prior" = borrowing_hierarchical_commensurate(
      "ext",
      prior_gamma(1, 0.001)
    )
  )
)

</code></pre>

<hr>
<h2 id='sim_covariate_list'>Input covariate adjustment details for a simulation study</h2><span id='topic+sim_covariate_list'></span>

<h3>Description</h3>

<p>A function for defining which covariate adjustment scenarios should be evaluated as
part of a simulation study.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sim_covariate_list(covariate_list)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sim_covariate_list_+3A_covariate_list">covariate_list</code></td>
<td>
<p>named list of objects of class <code>Covariate</code> created
by <code>add_covariates()</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function allows the user to specify covariate adjustment details that will be included
as part of a simulation study. It is often of interest to compare several adjustment methods to
no adjustment. To specify no adjustment, pass <code>NULL</code> as a list item to <code>covariate_list</code>.
</p>


<h3>Value</h3>

<p>Object of class <code><a href="#topic+SimCovariateList-class">SimCovariateList</a></code>.
</p>


<h3>See Also</h3>

<p>Other simulation classes: 
<code><a href="#topic+sim_borrowing_list">sim_borrowing_list</a>()</code>,
<code><a href="#topic+sim_data_list">sim_data_list</a>()</code>,
<code><a href="#topic+sim_outcome_list">sim_outcome_list</a>()</code>,
<code><a href="#topic+sim_treatment_list">sim_treatment_list</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
covariates &lt;- sim_covariate_list(
  list(
    "No adjustment" = NULL,
    "Covariates 1 and 2" = add_covariates(c("cov1", "cov2"), prior_normal(0, 1000))
  )
)

</code></pre>

<hr>
<h2 id='sim_covariates'>Specify covariates for simulation study</h2><span id='topic+sim_covariates'></span>

<h3>Description</h3>

<p>Provide details on the desired covariate distributions and covariance for
for a simulation study.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sim_covariates(
  covariates,
  covariance_internal,
  covariance_external = covariance_internal
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sim_covariates_+3A_covariates">covariates</code></td>
<td>
<p>list. Named list of covariate mean values or probabilities as
generated through <code>bin_var()</code> (class <code>SimVarBin</code> or <code>cont_var()</code>
(class <code>SimVarCont</code>). See <code>details</code> for more information.</p>
</td></tr>
<tr><td><code id="sim_covariates_+3A_covariance_internal">covariance_internal</code></td>
<td>
<p>matrix. Covariance matrix before binarization
for internal patients.</p>
</td></tr>
<tr><td><code id="sim_covariates_+3A_covariance_external">covariance_external</code></td>
<td>
<p>matrix. Covariance matrix before binarization
for external patients. Defaults to the internal covariance.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is intended to specify the number of covariates and
relationships between them for the purposes of designing a simulation
study in <code>psborrow2</code>. Because the outcome model does not necessarily
need to adjust for covariates, this function is not necessary in
<code>create_simulation_obj()</code>. The relationship between the treatment
and the outcome is specified elsewhere (i.e, in <code>sim_survival()</code> or
<code>sim_binary_event()</code>).
</p>
<p>We need a few things to
</p>


<h3>Value</h3>

<p>Object of class <code>SimCovariates</code>
</p>


<h3>See Also</h3>

<p>Other simulation: 
<code><a href="#topic+sim_samplesize">sim_samplesize</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
set.seed(123)
covmat &lt;- matrix(rWishart(1, 2, diag(2)), ncol = 2)

covset1 &lt;- sim_covariates(
  covariates = list(
    cov1 = bin_var(0.5, 0.5),
    cov2 = cont_var(100, 130)
  ),
  covariance_internal = covmat
)
</code></pre>

<hr>
<h2 id='sim_covariates_summ'>Summarize the number of continuous and binary covariates
in a <code>SimCovariates</code> object created by <code>sim_covariates()</code></h2><span id='topic+sim_covariates_summ'></span>

<h3>Description</h3>

<p>Summarize the number of continuous and binary covariates
in a <code>SimCovariates</code> object created by <code>sim_covariates()</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sim_covariates_summ(sim_covariates_obj)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sim_covariates_summ_+3A_sim_covariates_obj">sim_covariates_obj</code></td>
<td>
<p><code>SimCovariates</code>. Object returned by
<code>sim_covariates()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame showing covariate names and types as well as
counts of binary and continuous covariates.
</p>

<hr>
<h2 id='sim_data_list'>Input generated data for a simulation study</h2><span id='topic+sim_data_list'></span>

<h3>Description</h3>

<p>A function for defining generated data for use as part of a
simulation study.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sim_data_list(data_list, guide, effect, drift, index)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sim_data_list_+3A_data_list">data_list</code></td>
<td>
<p>list of lists of matrices. The lists at the highest
level differ in that the parameters used to generate the data. The matrices
at lowest level are different iterations of the same data generation
parameters. See <code>details</code>.</p>
</td></tr>
<tr><td><code id="sim_data_list_+3A_guide">guide</code></td>
<td>
<p>data.frame. <code>guide</code> contains information on the parameters
that differ at the highest level of <code>data_list</code>. See <code>details.</code></p>
</td></tr>
<tr><td><code id="sim_data_list_+3A_effect">effect</code></td>
<td>
<p>character. The column in <code>guide</code> that
corresponds to the true treatment effect estimate (hazard ratio or odds ratio).</p>
</td></tr>
<tr><td><code id="sim_data_list_+3A_drift">drift</code></td>
<td>
<p>character. The column in <code>guide</code> that
corresponds to the true drift effect estimate (hazard ratio or odds ratio).
A drift &gt;1 means the external arm experiences greater effects.</p>
</td></tr>
<tr><td><code id="sim_data_list_+3A_index">index</code></td>
<td>
<p>character. The column in <code>guide</code> that corresponds
to the index column.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In this function, you are providing generated data for analysis in a
simulation study in <code>psborrow2</code>. Note that this function does not
do any data generation on your behalf; it assumes that you have generated
the data already. For a full working example, refer to the relevant vignette:
<code>vignette('simulation_study', package = 'psborrow2')</code>.
</p>
<p>More information on the inputs is provided below.
</p>


<h4>Matrix requirements in <code>data_list</code></h4>

<p>Each matrix embedded in <code>data_list</code> must have:
</p>

<ol>
<li><p> a flag for whether the patient is an external control
</p>
</li>
<li><p> a flag for whether the patient is in the experimental treatment arm
</p>
</li>
<li><p> outcome information (time and censorship for survival, flag for
outcome in binary endpoints)
</p>
</li></ol>

<p>Optionally, the matrices may also contain covariates. See <code>examples</code>.
</p>



<h4><code>data_list</code></h4>

<p>Each set of distinct data generation parameters should be represented by
a single list of matrices. Because multiple scenarios may want to be
compared, a list of list of matrices is preferred. See <code>examples</code>.
</p>



<h4><code>guide</code></h4>

<p>The <code>guide</code> should be a data.frame with one row per scenario. As a
consquence of this, the length of the list should equal the number of rows
in the guide. See <code>examples</code>.
</p>



<h3>Value</h3>

<p>Object of class <code><a href="#topic+SimDataList-class">SimDataList</a></code>.
</p>


<h3>See Also</h3>

<p>Other simulation classes: 
<code><a href="#topic+sim_borrowing_list">sim_borrowing_list</a>()</code>,
<code><a href="#topic+sim_covariate_list">sim_covariate_list</a>()</code>,
<code><a href="#topic+sim_outcome_list">sim_outcome_list</a>()</code>,
<code><a href="#topic+sim_treatment_list">sim_treatment_list</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>base_mat &lt;- matrix(
  c(
    rep(0, 200), rep(0, 200), rep(1, 200),
    rep(1, 200), rep(0, 200), rep(0, 200),
    rep(0, 600)
  ),
  ncol = 3,
  dimnames = list(NULL, c("ext", "trt", "driftOR"))
)

add_binary_endpoint &lt;- function(odds_ratio,
                                base_matrix = base_mat) {
  linear_predictor &lt;- base_matrix[, "trt"] * log(odds_ratio)
  prob &lt;- 1 / (1 + exp(-linear_predictor))

  bin_endpoint &lt;- rbinom(
    NROW(base_matrix),
    1,
    prob
  )

  cbind(base_matrix, matrix(bin_endpoint, ncol = 1, dimnames = list(NULL, "ep")))
}

data_list &lt;- list(
  list(add_binary_endpoint(1.5), add_binary_endpoint(1.5)),
  list(add_binary_endpoint(2.5), add_binary_endpoint(2.5))
)

guide &lt;- data.frame(
  trueOR = c(1.5, 2.5),
  driftOR = c(1.0, 1.0),
  ind = c(1, 2)
)

sdl &lt;- sim_data_list(
  data_list = data_list,
  guide = guide,
  effect = "trueOR",
  drift = "driftOR",
  index = "ind"
)

</code></pre>

<hr>
<h2 id='sim_outcome_list'>Input outcome details for a simulation study</h2><span id='topic+sim_outcome_list'></span>

<h3>Description</h3>

<p>A function for defining which outcome scenarios should be evaluated as
part of a simulation study.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sim_outcome_list(outcome_list)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sim_outcome_list_+3A_outcome_list">outcome_list</code></td>
<td>
<p>named list of objects of class <code>Outcome</code> created
by <code>outcome_details()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Object of class <code><a href="#topic+SimOutcomeList-class">SimOutcomeList</a></code>.
</p>


<h3>See Also</h3>

<p>Other simulation classes: 
<code><a href="#topic+sim_borrowing_list">sim_borrowing_list</a>()</code>,
<code><a href="#topic+sim_covariate_list">sim_covariate_list</a>()</code>,
<code><a href="#topic+sim_data_list">sim_data_list</a>()</code>,
<code><a href="#topic+sim_treatment_list">sim_treatment_list</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
outcome_scenarios &lt;- sim_outcome_list(
  list(
    "Exponential" = outcome_surv_exponential("time", "cnsr", prior_normal(0, 10000))
  )
)

</code></pre>

<hr>
<h2 id='sim_samplesize'>Set simulation study parameters for sample size</h2><span id='topic+sim_samplesize'></span>

<h3>Description</h3>

<p>Set simulation study parameters for sample size
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sim_samplesize(n_internal_control, n_external_control, n_internal_experimental)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sim_samplesize_+3A_n_internal_control">n_internal_control</code></td>
<td>
<p>integer. Number of patients to be simulated in the
internal control arm.</p>
</td></tr>
<tr><td><code id="sim_samplesize_+3A_n_external_control">n_external_control</code></td>
<td>
<p>integer. Number of patients to be simulated in the
external control arm.</p>
</td></tr>
<tr><td><code id="sim_samplesize_+3A_n_internal_experimental">n_internal_experimental</code></td>
<td>
<p>integer. Number of patients to be simulated
in the internal experimental arm.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Object of class <code>SimSampleSize</code>
</p>


<h3>See Also</h3>

<p>Other simulation: 
<code><a href="#topic+sim_covariates">sim_covariates</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ss &lt;- sim_samplesize(200, 200, 500)
</code></pre>

<hr>
<h2 id='sim_treatment_list'>Input treatment details for a simulation study</h2><span id='topic+sim_treatment_list'></span>

<h3>Description</h3>

<p>A function for defining which treatment scenarios should be evaluated as
part of a simulation study.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sim_treatment_list(treatment_list)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sim_treatment_list_+3A_treatment_list">treatment_list</code></td>
<td>
<p>named list of objects of class <code>Treatment</code> created
by <code>treatment_details()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Object of class <code><a href="#topic+SimTreatmentList-class">SimTreatmentList</a></code>.
</p>


<h3>See Also</h3>

<p>Other simulation classes: 
<code><a href="#topic+sim_borrowing_list">sim_borrowing_list</a>()</code>,
<code><a href="#topic+sim_covariate_list">sim_covariate_list</a>()</code>,
<code><a href="#topic+sim_data_list">sim_data_list</a>()</code>,
<code><a href="#topic+sim_outcome_list">sim_outcome_list</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
treatment_scenarios &lt;- sim_treatment_list(
  list(
    "Standard" = treatment_details("trt", prior_normal(0, 1000))
  )
)

</code></pre>

<hr>
<h2 id='SimBorrowingList-class'><code>SimBorrowingList</code> Class</h2><span id='topic+SimBorrowingList-class'></span><span id='topic+.sim_borrowing_list'></span>

<h3>Description</h3>

<p>A class for borrowing details as part of a simulation study.
Objects of class <code>SimBorrowingList</code> should not be created
directly but by the constructor <code>sim_borrowing_list()</code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>borrowing_list</code></dt><dd><p>named list of object of class <code>Borrowing</code>, one object
for each parameter variation.</p>
</dd>
</dl>

<hr>
<h2 id='SimCovariateList-class'><code>SimCovariateList</code> Class</h2><span id='topic+SimCovariateList-class'></span><span id='topic+.sim_covariate_list'></span>

<h3>Description</h3>

<p>A class for covariate details as part of a simulation study.
Objects of class <code>SimCovariateList</code> should not be created
directly but by the constructor <code>sim_covariate_list()</code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>covariate_list</code></dt><dd><p>named list of object of class <code>Covariate</code>, one object
for each parameter variation.</p>
</dd>
</dl>

<hr>
<h2 id='SimCovariates-class'><code>SimCovariates</code> Class</h2><span id='topic+SimCovariates-class'></span><span id='topic+.sim_covariates'></span>

<h3>Description</h3>

<p>A class for specifying covariate distributions and covariance for
simulation studies.
</p>


<h3>Slots</h3>


<dl>
<dt><code>covariates</code></dt><dd><p>list. List of covariate mean values or probabilities as
generated through <code>bin_var()</code> (class <code>SimVarBin</code> or <code>cont_var()</code>
(class <code>SimVarCont</code>).</p>
</dd>
<dt><code>covariance_internal</code></dt><dd><p>matrix. Covariance matrix before binarization
for internal patients.</p>
</dd>
<dt><code>covariance_external</code></dt><dd><p>matrix. Covariance matrix before binarization
for external patients.</p>
</dd>
</dl>

<hr>
<h2 id='SimDataList-class'><code>SimDataList</code> Class</h2><span id='topic+SimDataList-class'></span><span id='topic+.sim_data_list'></span>

<h3>Description</h3>

<p>A class for defining generated data for use as part of a
simulation study. Objects of class <code>SimDataList</code> should not be created
directly but by the constructor <code>sim_data_list()</code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>data_list</code></dt><dd><p>list of lists of matrices. The lists at the highest
level differ in that the parameters used to generate the data. The matrices
at lowest level are different iterations of the same data generation
parameters.</p>
</dd>
<dt><code>guide</code></dt><dd><p>data.frame. <code>guide</code> contains information on the parameters
that differ at the highest level of <code>data_list</code>.</p>
</dd>
<dt><code>effect</code></dt><dd><p>character. The column in <code>guide</code> that
corresponds to the true treatment effect estimate (hazard ratio or odds ratio).</p>
</dd>
<dt><code>drift</code></dt><dd><p>character. The column in <code>guide</code> that
corresponds to the drift between external and internal control arms. A
drift &gt;1 means the external arm experiences greater effects.</p>
</dd>
<dt><code>index</code></dt><dd><p>character. The column in <code>guide</code> that corresponds
to the index of the parameter situations in <code>data_list</code>.</p>
</dd>
</dl>

<hr>
<h2 id='SimOutcomeList-class'><code>SimOutcomeList</code> Class</h2><span id='topic+SimOutcomeList-class'></span><span id='topic+.sim_outcome_list'></span>

<h3>Description</h3>

<p>A class for outcome details as part of a simulation study.
Objects of class <code>SimOutcomeList</code> should not be created
directly but by the constructor <code>sim_outcome_list()</code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>outcome_list</code></dt><dd><p>named list of object of class <code>Outcome</code>, one object
for each parameter variation.</p>
</dd>
</dl>

<hr>
<h2 id='SimSampleSize-class'><code>SimSampleSize</code> Class</h2><span id='topic+SimSampleSize-class'></span><span id='topic+.sim_samplesize'></span>

<h3>Description</h3>

<p>A class for creating matrices for simulation studies
containing flags specifying whether the patient is from the concurrent
trial or not (<code>ext</code> = 0 for concurrent trial, <code>ext</code> = 1 for historical
data) and whether the patient is on the experimental therapy or not
(<code>trt</code> = 0 for no experimental therapy, <code>trt</code> = 1 for experimental therapy).
</p>


<h3>Slots</h3>


<dl>
<dt><code>n_internal_control</code></dt><dd><p>integer. Number of patients to be simulated in the
internal control arm.</p>
</dd>
<dt><code>n_external_control</code></dt><dd><p>integer. Number of patients to be simulated in the
external control arm.</p>
</dd>
<dt><code>n_internal_experimental</code></dt><dd><p>integer. Number of patients to be simulated
in the internal experimental arm.</p>
</dd>
<dt><code>mat</code></dt><dd><p>matrix. Matrix with two columns, <code>ext</code> (flag for being from
external data source) and <code>trt</code> (flag for receiving experimental
treatment)</p>
</dd>
</dl>

<hr>
<h2 id='SimTreatmentList-class'><code>SimTreatmentList</code> Class</h2><span id='topic+SimTreatmentList-class'></span><span id='topic+.sim_treatment_list'></span>

<h3>Description</h3>

<p>A class for treatment details as part of a simulation study.
Objects of class <code>SimTreatmentList</code> should not be created
directly but by the constructor <code>sim_treatment_list()</code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>treatment_list</code></dt><dd><p>named list of object of class <code>Treatment</code>, one object
for each parameter variation.</p>
</dd>
</dl>

<hr>
<h2 id='Simulation-class'><code>Simulation</code> Class</h2><span id='topic+Simulation-class'></span><span id='topic+.simulation_obj'></span>

<h3>Description</h3>

<p>A class for defining Simulation study details. Objects of class
<code>Simulation</code> should not be created directly but by the constructor
<code>create_simulation_obj()</code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>data_matrix_list</code></dt><dd><p><code>SimDataList</code>. The list of lists of data matrices created
with <code>sim_data_list()</code>.</p>
</dd>
<dt><code>outcome</code></dt><dd><p><code>SimOutcomeList</code>. List of <code>Outcome</code> objects created with
<code>sim_outcome_list()</code>.</p>
</dd>
<dt><code>borrowing</code></dt><dd><p><code>SimBorrowingList</code>. List of <code>Borrowing</code> objects created
with <code>sim_borrowing_list()</code>.</p>
</dd>
<dt><code>covariate</code></dt><dd><p><code>SimCovariateList</code> or <code>NULL</code>. List of <code>Covariate</code> objects created
with <code>sim_covariate_list()</code> or <code>NULL</code> (no covariate adjustment).</p>
</dd>
<dt><code>treatment</code></dt><dd><p><code>SimTreatmentList</code>. List of <code>Treatment</code> objects created
with <code>sim_treatment_list()</code>.</p>
</dd>
<dt><code>guide</code></dt><dd><p>data.frame. Data.frame containing information on all
combinations evaluated.</p>
</dd>
<dt><code>n_combos</code></dt><dd><p>integer. Number of combinations of parameters to be evaluated.</p>
</dd>
<dt><code>n_analyses</code></dt><dd><p>integer. Number of analyses (combos x datasets to be performed).</p>
</dd>
<dt><code>`analysis_obj_list`</code></dt><dd><p>list. List of analysis objects indexed according to <code>guide</code>.</p>
</dd>
</dl>

<hr>
<h2 id='SimVar-class'><code>SimVar</code> Class</h2><span id='topic+SimVar-class'></span>

<h3>Description</h3>

<p>A parent class for defining covariates to be created in the simulation study
calls to <code>add_covariates()</code>.
</p>

<hr>
<h2 id='SimVarBin-class'><code>SimVarBin</code> class</h2><span id='topic+SimVarBin-class'></span><span id='topic+.bin_var'></span>

<h3>Description</h3>

<p>A constructor for making objects of class <code>SimVarBin</code>.
Objects of class <code>SimVarBin</code> are used to hold proportions of
binary variables specified in a simulation study.
</p>


<h3>Slots</h3>


<dl>
<dt><code>prob_internal</code></dt><dd><p>numeric. Proportion for the internal arms.</p>
</dd>
<dt><code>prob_external</code></dt><dd><p>numeric. Proportion for the external arm.</p>
</dd>
<dt><code>mu_internal_before_bin</code></dt><dd><p>numeric. Mean value of covariate before binarization for
the internal arms.</p>
</dd>
<dt><code>mu_external_before_bin</code></dt><dd><p>numeric. Mean value of covariate before binarization for
the external arm.</p>
</dd>
<dt><code>printval_int</code></dt><dd><p>numeric. Value to print to summarize internal arms.</p>
</dd>
<dt><code>printval_ext</code></dt><dd><p>numeric. Value to print to summarize external arm.</p>
</dd>
<dt><code>type_string</code></dt><dd><p>character. 'binary'</p>
</dd>
</dl>


<h3>See Also</h3>

<p>Other simvar classes: 
<code><a href="#topic+SimVarCont-class">SimVarCont-class</a></code>
</p>

<hr>
<h2 id='SimVarCont-class'><code>SimVarCont</code> class</h2><span id='topic+SimVarCont-class'></span><span id='topic+.cont_var'></span>

<h3>Description</h3>

<p>A constructor for making objects of class <code>SimVarCont</code>.
Objects of class <code>SimVarCont</code> are used to hold mean values of
of continuous variables specified in a simulation study.
</p>


<h3>Slots</h3>


<dl>
<dt><code>mu_internal</code></dt><dd><p>numeric. Mean covariate value for the internal arms.</p>
</dd>
<dt><code>mu_external</code></dt><dd><p>numeric. Mean covariate value for the external arm.</p>
</dd>
<dt><code>printval_int</code></dt><dd><p>numeric. Value to print to summarize internal arms.</p>
</dd>
<dt><code>printval_ext</code></dt><dd><p>numeric. Value to print to summarize external arm.</p>
</dd>
<dt><code>type_string</code></dt><dd><p>character. 'continuous'</p>
</dd>
</dl>


<h3>See Also</h3>

<p>Other simvar classes: 
<code><a href="#topic+SimVarBin-class">SimVarBin-class</a></code>
</p>

<hr>
<h2 id='TimeToEvent-class'><code>TimeToEvent</code> class</h2><span id='topic+TimeToEvent-class'></span>

<h3>Description</h3>

<p><code>TimeToEvent</code> class
</p>


<h3>Slots</h3>


<dl>
<dt><code>function_stan_code</code></dt><dd><p>character. Code to include in the Stan functions program block.</p>
</dd>
<dt><code>param_stan_code</code></dt><dd><p>character. Code to include in the Stan parameters program block.</p>
</dd>
<dt><code>likelihood_stan_code</code></dt><dd><p>character. Code defining the likelihood to include in the Stan model program block.</p>
</dd>
<dt><code>data_stan_code</code></dt><dd><p>character. Code to include in the Stan data program block.</p>
</dd>
<dt><code>n_param</code></dt><dd><p>integer. Number of ancillary parameters for the model to estimate.</p>
</dd>
<dt><code>param_priors</code></dt><dd><p>list. Named list of prior distributions on the ancillary parameters in the model.</p>
</dd>
<dt><code>time_var</code></dt><dd><p>character. Variable used for time in <code>TimeToEvent</code> objects.</p>
</dd>
<dt><code>cens_var</code></dt><dd><p>character. Variable used for censoring in <code>TimeToEvent</code> objects.</p>
</dd>
<dt><code>baseline_prior</code></dt><dd><p><code>Prior</code>. Object of class <code>Prior</code>
specifying prior distribution for the baseline outcome.</p>
</dd>
<dt><code>name_beta_trt.</code></dt><dd><p>Named vector for beta_trt.</p>
</dd>
<dt><code>name_exp_trt.</code></dt><dd><p>Named vector for exponentiated beta_trt</p>
</dd>
<dt><code>alpha_type.</code></dt><dd><p>How to interpret alpha.</p>
</dd>
<dt><code>name_addnl_params.</code></dt><dd><p>Named vector for additional parameters.</p>
</dd>
</dl>


<h3>See Also</h3>

<p>Other outcome: 
<code><a href="#topic+BinaryOutcome-class">BinaryOutcome-class</a></code>,
<code><a href="#topic+ContinuousOutcome-class">ContinuousOutcome-class</a></code>,
<code><a href="#topic+Outcome-class">Outcome-class</a></code>,
<code><a href="#topic+OutcomeBinaryLogistic-class">OutcomeBinaryLogistic-class</a></code>,
<code><a href="#topic+OutcomeContinuousNormal-class">OutcomeContinuousNormal-class</a></code>,
<code><a href="#topic+OutcomeSurvExponential-class">OutcomeSurvExponential-class</a></code>,
<code><a href="#topic+OutcomeSurvWeibullPH-class">OutcomeSurvWeibullPH-class</a></code>
</p>

<hr>
<h2 id='treatment_details'>Specify Treatment Details</h2><span id='topic+treatment_details'></span>

<h3>Description</h3>

<p>Specify the treatment arm column name in the model matrix and set a prior
distribution for the treatment effect (log hazard ratio or
log odds ratio)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>treatment_details(trt_flag_col, trt_prior)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="treatment_details_+3A_trt_flag_col">trt_flag_col</code></td>
<td>
<p>character. The name of the column
in the model matrix that corresponds to the treatment flag
(<code>1</code>/<code>0</code> or <code>TRUE</code>/<code>FALSE</code>). This identifies patients as belonging
to the experimental treatment arm.</p>
</td></tr>
<tr><td><code id="treatment_details_+3A_trt_prior">trt_prior</code></td>
<td>
<p>Object of class <code>Prior</code> specifying the
prior distribution of the log effect estimate (log hazard ratio for
time to event endpoints and log odds ratio for binary endpoints).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Object of class <code><a href="#topic+Treatment-class">Treatment</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>sta &lt;- treatment_details(
  trt_flag_col = "trt",
  trt_prior = prior_normal(0, 1000)
)
</code></pre>

<hr>
<h2 id='Treatment-class'><code>Treatment</code> Class</h2><span id='topic+Treatment-class'></span><span id='topic+.treatment_class'></span>

<h3>Description</h3>

<p>A class for defining treatment details. Objects of class
<code>Treatment</code> should not be created directly but by the constructor
<code><a href="#topic+treatment_details">treatment_details()</a></code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>trt_flag_col</code></dt><dd><p>character. Character specifying the name of the column
in the model matrix that corresponds to the treatment flag
(<code>1</code>/<code>0</code> or <code>TRUE</code>/<code>FALSE</code>). This identifies patients as belonging
to the experimental treatment arm.</p>
</dd>
<dt><code>trt_prior</code></dt><dd><p><code>Prior</code>. Object of class <code>Prior</code> specifying the
prior distribution of the log effect estimate (log hazard ratio for
time to event endpoints and log odds ratio for binary endpoints).</p>
</dd>
</dl>

<hr>
<h2 id='trim_cols'>Trim columns from Data Matrix Based on Borrowing object type</h2><span id='topic+trim_cols'></span><span id='topic+trim_cols+2CBorrowing-method'></span><span id='topic+trim_cols+2CBorrowingHierarchicalCommensurate-method'></span>

<h3>Description</h3>

<p>Trim columns from Data Matrix Based on Borrowing object type
</p>


<h3>Usage</h3>

<pre><code class='language-R'>trim_cols(borrowing_object, analysis_object)

## S4 method for signature 'Borrowing'
trim_cols(borrowing_object, analysis_object)

## S4 method for signature 'BorrowingHierarchicalCommensurate'
trim_cols(borrowing_object, analysis_object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="trim_cols_+3A_borrowing_object">borrowing_object</code></td>
<td>
<p>borrowing object</p>
</td></tr>
<tr><td><code id="trim_cols_+3A_analysis_object">analysis_object</code></td>
<td>
<p>analysis object</p>
</td></tr>
</table>

<hr>
<h2 id='trim_rows'>Trim Rows from Data Matrix Based on Borrowing object type</h2><span id='topic+trim_rows'></span><span id='topic+trim_rows+2CBorrowing-method'></span><span id='topic+trim_rows+2CBorrowingNone-method'></span>

<h3>Description</h3>

<p>Trim Rows from Data Matrix Based on Borrowing object type
</p>


<h3>Usage</h3>

<pre><code class='language-R'>trim_rows(borrowing_object, analysis_object)

## S4 method for signature 'Borrowing'
trim_rows(borrowing_object, analysis_object)

## S4 method for signature 'BorrowingNone'
trim_rows(borrowing_object, analysis_object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="trim_rows_+3A_borrowing_object">borrowing_object</code></td>
<td>
<p>borrowing object</p>
</td></tr>
<tr><td><code id="trim_rows_+3A_analysis_object">analysis_object</code></td>
<td>
<p>analysis object</p>
</td></tr>
</table>

<hr>
<h2 id='uniform_prior'>Prior uniform distribution</h2><span id='topic+uniform_prior'></span>

<h3>Description</h3>

<p>Prior uniform distribution
</p>


<h3>Usage</h3>

<pre><code class='language-R'>uniform_prior(alpha, beta)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="uniform_prior_+3A_alpha">alpha</code></td>
<td>
<p>numeric. Lower bound.</p>
</td></tr>
<tr><td><code id="uniform_prior_+3A_beta">beta</code></td>
<td>
<p>numeric. Upper bound (&gt;<code>alpha</code>).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Stan reference <a href="https://mc-stan.org/docs/functions-reference/uniform-distribution.html">https://mc-stan.org/docs/functions-reference/uniform-distribution.html</a>
</p>


<h3>Value</h3>

<p>Object of class <code><a href="#topic+UniformPrior-class">UniformPrior</a></code>.
</p>


<h3>See Also</h3>

<p>Other priors: 
<code><a href="#topic+prior_bernoulli">prior_bernoulli</a>()</code>,
<code><a href="#topic+prior_beta">prior_beta</a>()</code>,
<code><a href="#topic+prior_cauchy">prior_cauchy</a>()</code>,
<code><a href="#topic+prior_exponential">prior_exponential</a>()</code>,
<code><a href="#topic+prior_gamma">prior_gamma</a>()</code>,
<code><a href="#topic+prior_half_cauchy">prior_half_cauchy</a>()</code>,
<code><a href="#topic+prior_half_normal">prior_half_normal</a>()</code>,
<code><a href="#topic+prior_normal">prior_normal</a>()</code>,
<code><a href="#topic+prior_poisson">prior_poisson</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>up &lt;- uniform_prior(0, 1)
</code></pre>

<hr>
<h2 id='UniformPrior-class'><code>UniformPrior</code> Class</h2><span id='topic+UniformPrior-class'></span><span id='topic+.uniform_prior'></span>

<h3>Description</h3>

<p>A class for defining uniform priors to be translated to Stan code.
Objects of class <code>UniformPrior</code> should not be created directly but by
the constructor <code><a href="#topic+uniform_prior">uniform_prior()</a></code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>stan_code</code></dt><dd><p>character. Stan implementation of the prior, with
placeholders for uniform stan function parameters surrounded with
<code style="white-space: pre;">&#8288;{{&#8288;</code> and <code style="white-space: pre;">&#8288;}}&#8288;</code> to be replaced with <code><a href="glue.html#topic+glue">glue::glue()</a></code>.</p>
</dd>
<dt><code>n_param</code></dt><dd><p>integer. Number of prior parameters (2).</p>
</dd>
<dt><code>constraint</code></dt><dd><p>character. Support of prior distribution,
<code style="white-space: pre;">&#8288;"&lt;lower=&#8288;</code>alpha<code style="white-space: pre;">&#8288;, upper=&#8288;</code>beta<code style="white-space: pre;">&#8288;&gt;"&#8288;</code>.</p>
</dd>
<dt><code>alpha</code></dt><dd><p>numeric. Lower bound.</p>
</dd>
<dt><code>beta</code></dt><dd><p>numeric. Upper bound (&gt;<code>alpha</code>).</p>
</dd>
</dl>


<h3>See Also</h3>

<p>Other prior classes: 
<code><a href="#topic+Prior-class">Prior-class</a></code>,
<code><a href="#topic+PriorBernoulli-class">PriorBernoulli-class</a></code>,
<code><a href="#topic+PriorBeta-class">PriorBeta-class</a></code>,
<code><a href="#topic+PriorCauchy-class">PriorCauchy-class</a></code>,
<code><a href="#topic+PriorExponential-class">PriorExponential-class</a></code>,
<code><a href="#topic+PriorGamma-class">PriorGamma-class</a></code>,
<code><a href="#topic+PriorHalfCauchy-class">PriorHalfCauchy-class</a></code>,
<code><a href="#topic+PriorHalfNormal-class">PriorHalfNormal-class</a></code>,
<code><a href="#topic+PriorNormal-class">PriorNormal-class</a></code>,
<code><a href="#topic+PriorPoisson-class">PriorPoisson-class</a></code>
</p>

<hr>
<h2 id='variable_dictionary'>Create Variable Dictionary</h2><span id='topic+variable_dictionary'></span>

<h3>Description</h3>

<p>Create Variable Dictionary
</p>


<h3>Usage</h3>

<pre><code class='language-R'>variable_dictionary(analysis_obj)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="variable_dictionary_+3A_analysis_obj">analysis_obj</code></td>
<td>
<p><code>Analysis</code>. Object to describe variable names.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>data.frame</code> with the names of Stan variables and the descriptions.
</p>

<hr>
<h2 id='weib_ph_surv_dist'>Legacy function for the Weibull proportional Hazards survival distribution</h2><span id='topic+weib_ph_surv_dist'></span>

<h3>Description</h3>

<p>Please use <code>outcome_surv_weibull_ph()</code> instead.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>weib_ph_surv_dist(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="weib_ph_surv_dist_+3A_...">...</code></td>
<td>
<p>Deprecated arguments to <code>weib_ph_surv_dist()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>This function does not return a value. When called, it triggers an error
message indicating that <code>weib_ph_surv_dist()</code> is deprecated and that
<code>outcome_surv_weibull_ph()</code> should be used instead.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

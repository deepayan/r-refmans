<!DOCTYPE html><html><head><title>Help for package rolap</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {rolap}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#add_custom_column'><p>Add custom column</p></a></li>
<li><a href='#add_dimension_instances'><p>Add dimension instances</p></a></li>
<li><a href='#add_dput_column'><p>For each row, add a vector of values</p></a></li>
<li><a href='#add_operation'><p>A <code>star_operation</code> object row is added with a new operation</p></a></li>
<li><a href='#add_surrogate_key.dimension_table'><p>Add the surrogate key from a dimension table to the instances table.</p></a></li>
<li><a href='#apply_filter_dimension'><p>Apply filter dimension</p></a></li>
<li><a href='#apply_select_dimension'><p>Apply select dimension</p></a></li>
<li><a href='#apply_select_fact'><p>Apply select fact</p></a></li>
<li><a href='#as_csv_files'><p>Generate csv files with fact and dimension tables</p></a></li>
<li><a href='#as_dm_class'><p>Generate a <code>dm</code> class with fact and dimension tables</p></a></li>
<li><a href='#as_geolayer'><p>Get a <code>geolayer</code> object</p></a></li>
<li><a href='#as_GeoPackage'><p>Save as <code>GeoPackage</code></p></a></li>
<li><a href='#as_multistar'><p>Generate a <code>geomultistar::multistar</code> object</p></a></li>
<li><a href='#as_rdb'><p>Generate tables in a relational database</p></a></li>
<li><a href='#as_single_tibble_list'><p>Generate a list of tibbles of flat tables</p></a></li>
<li><a href='#as_star_database'><p>Get a star database from a flat table</p></a></li>
<li><a href='#as_tibble_list'><p>Generate a list of tibbles with fact and dimension tables</p></a></li>
<li><a href='#as_xlsx_file'><p>Generate a xlsx file with fact and dimension tables</p></a></li>
<li><a href='#cancel_deployment'><p>Cancel deployment</p></a></li>
<li><a href='#check_geoattribute_geometry'><p>Check a <code>geoattribute</code> geometry instances.</p></a></li>
<li><a href='#check_lookup_table'><p>Check the result of joining a flat table with a lookup table</p></a></li>
<li><a href='#check_refesh'><p>Checks the refresh of the selected star database from the given database</p></a></li>
<li><a href='#conform_dimensions'><p>Conform dimensions</p></a></li>
<li><a href='#constellation'><p>Create constellation</p></a></li>
<li><a href='#coordinates_to_point'><p>Transform coordinates to point geometry</p></a></li>
<li><a href='#default_disconnect'><p>Default disconnect function</p></a></li>
<li><a href='#define_dimension'><p>Define dimension in a <code>star_schema</code> object.</p></a></li>
<li><a href='#define_facts'><p>Define facts in a <code>star_schema</code> object.</p></a></li>
<li><a href='#define_geoattribute'><p>Define <code>geoattribute</code> of a dimension</p></a></li>
<li><a href='#define_geoattribute_from_layer'><p>Define geoattribute from a layer</p></a></li>
<li><a href='#delete_all_operations_found'><p>Delete in stars all operations found</p></a></li>
<li><a href='#delete_operation'><p>Delete an operation</p></a></li>
<li><a href='#delete_operation_set'><p>Delete a set of operations</p></a></li>
<li><a href='#deploy'><p>Deploy a star database in a relational database</p></a></li>
<li><a href='#dimension_schema'><p><code>dimension_schema</code> S3 class</p></a></li>
<li><a href='#dimension_table'><p><code>dimension_table</code> S3 class</p></a></li>
<li><a href='#draw_tables'><p>Draw tables</p></a></li>
<li><a href='#fact_schema'><p><code>fact_schema</code> S3 class</p></a></li>
<li><a href='#fact_table'><p><code>fact_table</code> S3 class</p></a></li>
<li><a href='#filter_dimension'><p>Filter dimension</p></a></li>
<li><a href='#filter_geo_attributes'><p>From attributes, leave only these contained in dimensions</p></a></li>
<li><a href='#filter_geo_dimensions'><p>From geodimensions, leave only contained in vector of names</p></a></li>
<li><a href='#filter_rpd_dimensions'><p>From rpd dimensions, leave only contained in vector of names.</p></a></li>
<li><a href='#flat_table'><p><code>flat_table</code> S3 class</p></a></li>
<li><a href='#ft'><p>Mortality Reporting System</p></a></li>
<li><a href='#ft_age'><p>Mortality Reporting System by Age Group</p></a></li>
<li><a href='#ft_age_rpd'><p>Mortality Reporting System by Age</p></a></li>
<li><a href='#ft_cause_rpd'><p>Mortality Reporting System by Cause</p></a></li>
<li><a href='#ft_num'><p>Mortality Reporting System with numerical measures</p></a></li>
<li><a href='#generate_refresh_sql'><p>Generate refresh sql</p></a></li>
<li><a href='#generate_table_sql_delete'><p>Generate table sql delete</p></a></li>
<li><a href='#generate_table_sql_insert'><p>Generate table sql insert</p></a></li>
<li><a href='#generate_table_sql_update'><p>Generate table sql update</p></a></li>
<li><a href='#get_agg_functions.fact_schema'><p>Get aggregate functions</p></a></li>
<li><a href='#get_all_dimension_operations'><p>Gets the operations performed on a dimension in all <code>star_database</code> objects</p></a></li>
<li><a href='#get_attribute_names_schema.dimension_schema'><p>Get attribute names</p></a></li>
<li><a href='#get_attribute_names_schema.star_schema'><p>Get attribute names</p></a></li>
<li><a href='#get_attribute_names.flat_table'><p>Get the names of the attributes</p></a></li>
<li><a href='#get_default_unknown_value'><p>get default unknown value</p></a></li>
<li><a href='#get_deployment_names'><p>Get the names of the facts of a star database</p></a></li>
<li><a href='#get_dimension_names'><p>Get the names of the dimensions of a star database</p></a></li>
<li><a href='#get_dimension_table'><p>Get dimension table</p></a></li>
<li><a href='#get_existing_fact_instances'><p>Get existing fact instances</p></a></li>
<li><a href='#get_fact_name.fact_schema'><p>Get fact name</p></a></li>
<li><a href='#get_fact_names'><p>Get the names of the facts of a star database</p></a></li>
<li><a href='#get_geoattribute_geometries'><p>Get geoattribute geometries</p></a></li>
<li><a href='#get_geoattribute_name'><p>Get geoattribute name</p></a></li>
<li><a href='#get_geoattributes'><p>Get geoattributes</p></a></li>
<li><a href='#get_layer'><p>Get geographic information layer</p></a></li>
<li><a href='#get_layer_from_attribute'><p>Get layer from attribute</p></a></li>
<li><a href='#get_layer_geometry'><p>Get layer geometry</p></a></li>
<li><a href='#get_lookup_tables'><p>Get lookup tables</p></a></li>
<li><a href='#get_measure_names_schema.fact_schema'><p>Get measure names</p></a></li>
<li><a href='#get_measure_names_schema.star_schema'><p>Get measure names</p></a></li>
<li><a href='#get_measure_names.flat_table'><p>Get the names of the measures</p></a></li>
<li><a href='#get_new_dimension_instances'><p>Get new dimension instances</p></a></li>
<li><a href='#get_next_operation'><p>A <code>star_operation</code> object row is returned, the one following the actual given</p></a></li>
<li><a href='#get_nrow_agg.fact_schema'><p>Get number of rows aggregate column</p></a></li>
<li><a href='#get_pk_attribute_names'><p>Get the names of the primary key attributes of a flat table</p></a></li>
<li><a href='#get_point_geometry'><p>Get point geometry</p></a></li>
<li><a href='#get_role_playing_dimension_names'><p>Get the names of the role playing dimensions</p></a></li>
<li><a href='#get_rpd_dimensions'><p>Get rpd dimensions of a dimension</p></a></li>
<li><a href='#get_similar_attribute_values_individually.flat_table'><p>Get similar values for individual attributes</p></a></li>
<li><a href='#get_similar_attribute_values.flat_table'><p>Get similar attribute values combination</p></a></li>
<li><a href='#get_similar_values_table'><p>Get similar values in a table</p></a></li>
<li><a href='#get_star_database'><p>Get star database</p></a></li>
<li><a href='#get_star_query_schema'><p>Get star query schema</p></a></li>
<li><a href='#get_star_schema'><p>Get star schema</p></a></li>
<li><a href='#get_surrogate_key.dimension_table'><p>Get surrogate key names</p></a></li>
<li><a href='#get_table'><p>Get the table of the flat table</p></a></li>
<li><a href='#get_table_names'><p>Get the names of the tables of a star database</p></a></li>
<li><a href='#get_transformation_code'><p>Get transformation function code</p></a></li>
<li><a href='#get_transformation_file'><p>Get transformation function file</p></a></li>
<li><a href='#get_unique_attribute_values.flat_table'><p>Get unique attribute values</p></a></li>
<li><a href='#get_unique_values_table'><p>Get unique values in a table</p></a></li>
<li><a href='#get_unknown_value_defined'><p>Get the unknown value defined</p></a></li>
<li><a href='#get_unknown_values'><p>Get unknown attribute values</p></a></li>
<li><a href='#get_variable_description'><p>Get variable description</p></a></li>
<li><a href='#get_variables'><p>Get the variables layer</p></a></li>
<li><a href='#group_by_keys'><p>Group table instances by keys aggregating the measures using the corresponding</p>
aggregation function.</a></li>
<li><a href='#group_dimension_instances'><p>Group instances of a dimension</p></a></li>
<li><a href='#group_facts'><p>Group facts</p></a></li>
<li><a href='#incremental_refresh'><p>Refresh a star database in a constellation</p></a></li>
<li><a href='#integrate_geo_dimensions'><p>Integrate two geodimensions</p></a></li>
<li><a href='#interpret_operation_add_custom_column'><p>Interpret operation</p></a></li>
<li><a href='#interpret_operation_flat_table'><p>Interpret operation</p></a></li>
<li><a href='#interpret_operation_group_dimension_instances'><p>Interpret operation</p></a></li>
<li><a href='#interpret_operation_join_lookup_table'><p>Interpret operation</p></a></li>
<li><a href='#interpret_operation_lookup_table'><p>Interpret operation</p></a></li>
<li><a href='#interpret_operation_remove_instances_without_measures'><p>Interpret operation</p></a></li>
<li><a href='#interpret_operation_replace_attribute_values'><p>Interpret operation</p></a></li>
<li><a href='#interpret_operation_replace_empty_values'><p>Interpret operation</p></a></li>
<li><a href='#interpret_operation_replace_string'><p>Interpret operation</p></a></li>
<li><a href='#interpret_operation_replace_unknown_values'><p>Interpret operation</p></a></li>
<li><a href='#interpret_operation_role_playing_dimension'><p>Interpret operation</p></a></li>
<li><a href='#interpret_operation_select_attributes'><p>Interpret operation</p></a></li>
<li><a href='#interpret_operation_select_instances'><p>Interpret operation</p></a></li>
<li><a href='#interpret_operation_select_instances_by_comparison'><p>Interpret operation</p></a></li>
<li><a href='#interpret_operation_select_measures'><p>Interpret operation</p></a></li>
<li><a href='#interpret_operation_separate_measures'><p>Interpret operation</p></a></li>
<li><a href='#interpret_operation_set_attribute_names'><p>Interpret operation</p></a></li>
<li><a href='#interpret_operation_set_measure_names'><p>Interpret operation</p></a></li>
<li><a href='#interpret_operation_snake_case'><p>Interpret operation</p></a></li>
<li><a href='#interpret_operation_star_database'><p>Interpret operation</p></a></li>
<li><a href='#interpret_operation_transform_attribute_format'><p>Interpret operation</p></a></li>
<li><a href='#interpret_operation_transform_from_values'><p>Interpret operation</p></a></li>
<li><a href='#interpret_operation_transform_to_attribute'><p>Interpret operation</p></a></li>
<li><a href='#interpret_operation_transform_to_measure'><p>Interpret operation</p></a></li>
<li><a href='#interpret_operation_transform_to_values'><p>Interpret operation</p></a></li>
<li><a href='#is_empty_string'><p>check if a string is empty</p></a></li>
<li><a href='#is_new_operation'><p>A <code>star_operation</code> is new?</p></a></li>
<li><a href='#is_scd'><p>Is a scd dimension</p></a></li>
<li><a href='#join_lookup_table'><p>Join a flat table with a lookup table</p></a></li>
<li><a href='#line_last_op'><p>Get line last operation</p></a></li>
<li><a href='#load_star_database'><p>Load star_database (from a RDS file)</p></a></li>
<li><a href='#lookup_table'><p>Transform a flat table into a look up table</p></a></li>
<li><a href='#mrs_age_schema'><p>Star schema for Mortality Reporting System by Age</p></a></li>
<li><a href='#mrs_age_schema_rpd'><p>Star schema for Mortality Reporting System by Age with additional dates</p></a></li>
<li><a href='#mrs_cause_schema'><p>Star schema for Mortality Reporting System by Cause</p></a></li>
<li><a href='#mrs_cause_schema_rpd'><p>Star schema for Mortality Reporting System by Cause with additional dates</p></a></li>
<li><a href='#mrs_db'><p>Constellation generated from MRS file</p></a></li>
<li><a href='#mrs_db_geo'><p>Constellation generated from MRS file through a query and with geographic information</p></a></li>
<li><a href='#mrs_ft'><p>Flat table generated from MRS file</p></a></li>
<li><a href='#mrs_ft_new'><p>Flat table generated from MRS file</p></a></li>
<li><a href='#multiple_value_key'><p>Multiple value key</p></a></li>
<li><a href='#name_with_nexus'><p>Name with nexus</p></a></li>
<li><a href='#new_multistar'><p><code>multistar</code> S3 class</p></a></li>
<li><a href='#prepare_to_join'><p>Prepare the instances table implemented by a <code>tibble</code> to join</p></a></li>
<li><a href='#purge_dimension'><p>Purge instances of a dimension</p></a></li>
<li><a href='#purge_dimension_instances'><p>Purge instances of dimensions</p></a></li>
<li><a href='#purge_dimension_instances_star_database'><p>Purge instances of dimensions</p></a></li>
<li><a href='#read_flat_table_file'><p>Import flat table file</p></a></li>
<li><a href='#read_flat_table_folder'><p>Import all flat table files in a folder</p></a></li>
<li><a href='#reformat_file'><p>Get line last operation</p></a></li>
<li><a href='#refresh_deployments'><p>Refresh deployments</p></a></li>
<li><a href='#remove_all_measures_na'><p>Remove instance if all measures are na</p></a></li>
<li><a href='#remove_duplicate_dimension_rows'><p>Remove duplicate dimension rows</p></a></li>
<li><a href='#remove_instances_without_measures'><p>Remove instances without measures</p></a></li>
<li><a href='#replace_attribute_values.flat_table'><p>Replace instance values</p></a></li>
<li><a href='#replace_empty_values'><p>Replace empty values with the unknown value</p></a></li>
<li><a href='#replace_empty_values_table'><p>Replace empty values with the unknown value</p></a></li>
<li><a href='#replace_names'><p>Replace names</p></a></li>
<li><a href='#replace_string'><p>Replace strings</p></a></li>
<li><a href='#replace_unknown_values'><p>Replace unknown values with the given value</p></a></li>
<li><a href='#role_playing_dimension'><p>Define a role playing dimension and its associated dimensions</p></a></li>
<li><a href='#rpd_in_constellation'><p>Transform role playing dimensions in constellation</p></a></li>
<li><a href='#run_query'><p>Run query</p></a></li>
<li><a href='#same_granularity_facts'><p>Do all fact tables have the same granularity?</p></a></li>
<li><a href='#select_attributes'><p>Select attributes of a flat table</p></a></li>
<li><a href='#select_dimension'><p>Select dimension</p></a></li>
<li><a href='#select_fact'><p>Select fact</p></a></li>
<li><a href='#select_instances'><p>Select instances of a flat table by value</p></a></li>
<li><a href='#select_instances_by_comparison'><p>Select instances of a flat table by comparison</p></a></li>
<li><a href='#select_measures'><p>Select measures of a flat table</p></a></li>
<li><a href='#separate_measures'><p>Separate measures in flat tables</p></a></li>
<li><a href='#set_attribute_names.flat_table'><p>Rename attributes</p></a></li>
<li><a href='#set_layer'><p>Set geographic layer</p></a></li>
<li><a href='#set_measure_names.flat_table'><p>Rename measures</p></a></li>
<li><a href='#set_variables'><p>Set variables layer</p></a></li>
<li><a href='#share_dimension_instance_operations'><p>Share dimension instance operations between all <code>star_database</code> objects</p></a></li>
<li><a href='#share_dimensions'><p>Share the given dimensions in the database</p></a></li>
<li><a href='#simplify_rpd_dimensions'><p>From a vector of dimensions, leave only one of each rpd.</p></a></li>
<li><a href='#snake_case_table.dimension_table'><p>Transform names according to the snake case style</p></a></li>
<li><a href='#snake_case_table.fact_table'><p>Transform names according to the snake case style</p></a></li>
<li><a href='#snake_case.flat_table'><p>Transform names according to the snake case style</p></a></li>
<li><a href='#star_database'><p><code>star_database</code> S3 class</p></a></li>
<li><a href='#star_database_with_previous_operations'><p>Creates a <code>star_database</code> adding previous operations</p></a></li>
<li><a href='#star_operation'><p><code>star_operation</code> S3 class</p></a></li>
<li><a href='#star_query'><p><code>star_query</code> S3 class</p></a></li>
<li><a href='#star_schema'><p><code>star_schema</code> S3 class</p></a></li>
<li><a href='#string_or_null'><p>Get the representation to output</p></a></li>
<li><a href='#string_to_vector'><p>Transforms string into a vector of strings.</p></a></li>
<li><a href='#summarize_layer'><p>Summarize geometry of a layer</p></a></li>
<li><a href='#transform_attribute_format'><p>Transform attribute format</p></a></li>
<li><a href='#transform_from_values'><p>Transform attribute values into measure names</p></a></li>
<li><a href='#transform_names'><p>For each row, add a vector of values</p></a></li>
<li><a href='#transform_to_attribute'><p>Transform to attribute</p></a></li>
<li><a href='#transform_to_measure'><p>Transform to measure</p></a></li>
<li><a href='#transform_to_values'><p>Transform measure names into attribute values</p></a></li>
<li><a href='#unify_facts_and_dimensions'><p>Unify facts and dimensions in a flat table</p></a></li>
<li><a href='#unify_rpd'><p>Unify lists of dimension names if there are any in common</p></a></li>
<li><a href='#update_according_to'><p>Update a flat table according to another structure</p></a></li>
<li><a href='#us_census_state'><p>Census of US States, by sex and age</p></a></li>
<li><a href='#us_layer_state'><p>Geographic layer of US States</p></a></li>
<li><a href='#validate_attributes'><p>Validate attribute names</p></a></li>
<li><a href='#validate_dimension_attributes'><p>Validate dimension attributes</p></a></li>
<li><a href='#validate_dimension_names'><p>Validate dimension names</p></a></li>
<li><a href='#validate_facts'><p>Validate fact names</p></a></li>
<li><a href='#validate_lookup_parameters'><p>Validate lookup parameters</p></a></li>
<li><a href='#validate_measures'><p>Validate measure names</p></a></li>
<li><a href='#validate_names'><p>Validate names</p></a></li>
<li><a href='#vector_presentation'><p>vector to string for presentation</p></a></li>
<li><a href='#vector_to_string'><p>Transforms a vector of strings into a string.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Obtaining Star Databases from Flat Tables</td>
</tr>
<tr>
<td>Version:</td>
<td>2.5.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Data in multidimensional systems is obtained from operational
    systems and is transformed to adapt it to the new structure.
    Frequently, the operations to be performed aim to transform a flat
    table into a ROLAP (Relational On-Line Analytical Processing) star
    database. The main objective of the package is to allow the definition
    of these transformations easily. The implementation of the
    multidimensional database obtained can be exported to work with
    multidimensional analysis tools on spreadsheets or relational
    databases.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://josesamos.github.io/rolap/">https://josesamos.github.io/rolap/</a>,
<a href="https://github.com/josesamos/rolap">https://github.com/josesamos/rolap</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/josesamos/rolap/issues">https://github.com/josesamos/rolap/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>Imports:</td>
<td>dm, dplyr, methods, purrr, readr, rlang, sf, snakecase,
starschemar, tibble, tidyr, tidyselect, tools, utils, when,
xlsx</td>
</tr>
<tr>
<td>Suggests:</td>
<td>DBI, dbplyr, DiagrammeR, DiagrammeRsvg, knitr, lubridate,
magrittr, maps, pander, pivottabler, RMariaDB, rmarkdown,
RSQLite, stringr, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-GB</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>LazyDataCompression:</td>
<td>xz</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-01-10 09:56:17 UTC; joses</td>
</tr>
<tr>
<td>Author:</td>
<td>Jose Samos <a href="https://orcid.org/0000-0002-4457-3439"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre],
  Universidad de Granada [cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jose Samos &lt;jsamos@ugr.es&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-01-10 10:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='add_custom_column'>Add custom column</h2><span id='topic+add_custom_column'></span><span id='topic+add_custom_column.flat_table'></span>

<h3>Description</h3>

<p>Add a column returned by a function that takes the data of the flat table as
a parameter.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_custom_column(ft, name, definition)

## S3 method for class 'flat_table'
add_custom_column(ft, name = NULL, definition)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_custom_column_+3A_ft">ft</code></td>
<td>
<p>A <code>flat_table</code> object.</p>
</td></tr>
<tr><td><code id="add_custom_column_+3A_name">name</code></td>
<td>
<p>A string, new column name.</p>
</td></tr>
<tr><td><code id="add_custom_column_+3A_definition">definition</code></td>
<td>
<p>A function that returns a table column.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>flat_table</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+flat_table">flat_table</a></code>
</p>
<p>Other flat table transformation functions: 
<code><a href="#topic+remove_instances_without_measures">remove_instances_without_measures</a>()</code>,
<code><a href="#topic+replace_empty_values">replace_empty_values</a>()</code>,
<code><a href="#topic+replace_string">replace_string</a>()</code>,
<code><a href="#topic+replace_unknown_values">replace_unknown_values</a>()</code>,
<code><a href="#topic+select_attributes">select_attributes</a>()</code>,
<code><a href="#topic+select_instances_by_comparison">select_instances_by_comparison</a>()</code>,
<code><a href="#topic+select_instances">select_instances</a>()</code>,
<code><a href="#topic+select_measures">select_measures</a>()</code>,
<code><a href="#topic+separate_measures">separate_measures</a>()</code>,
<code><a href="#topic+transform_attribute_format">transform_attribute_format</a>()</code>,
<code><a href="#topic+transform_from_values">transform_from_values</a>()</code>,
<code><a href="#topic+transform_to_attribute">transform_to_attribute</a>()</code>,
<code><a href="#topic+transform_to_measure">transform_to_measure</a>()</code>,
<code><a href="#topic+transform_to_values">transform_to_values</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
f &lt;- function(table) {
  paste0(table$City, ' - ', table$State)
}

ft &lt;- flat_table('ft_num', ft_num) |&gt;
  add_custom_column(name = 'city_state', definition = f)

</code></pre>

<hr>
<h2 id='add_dimension_instances'>Add dimension instances</h2><span id='topic+add_dimension_instances'></span>

<h3>Description</h3>

<p>Add dimension instances
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_dimension_instances(db, name, table)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_dimension_instances_+3A_db">db</code></td>
<td>
<p>A <code>star_database</code> object.</p>
</td></tr>
<tr><td><code id="add_dimension_instances_+3A_name">name</code></td>
<td>
<p>A string, dimension name.</p>
</td></tr>
<tr><td><code id="add_dimension_instances_+3A_table">table</code></td>
<td>
<p>A table of new instances.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>star_database</code> object.
</p>

<hr>
<h2 id='add_dput_column'>For each row, add a vector of values</h2><span id='topic+add_dput_column'></span>

<h3>Description</h3>

<p>For each row, add a vector of values
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_dput_column(v, column)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_dput_column_+3A_v">v</code></td>
<td>
<p>A <code>tibble</code>, rows of a dimension table.</p>
</td></tr>
<tr><td><code id="add_dput_column_+3A_column">column</code></td>
<td>
<p>A string, name of the column to include a vector of values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>tibble</code>, rows of a dimension table.
</p>

<hr>
<h2 id='add_operation'>A <code>star_operation</code> object row is added with a new operation</h2><span id='topic+add_operation'></span>

<h3>Description</h3>

<p>A <code>star_operation</code> object row is added with a new operation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_operation(op, op_name, name = NULL, details = NULL, details2 = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_operation_+3A_op">op</code></td>
<td>
<p>A <code>star_operation</code> object.</p>
</td></tr>
<tr><td><code id="add_operation_+3A_op_name">op_name</code></td>
<td>
<p>A string, operation name.</p>
</td></tr>
<tr><td><code id="add_operation_+3A_name">name</code></td>
<td>
<p>A string, element name.</p>
</td></tr>
<tr><td><code id="add_operation_+3A_details">details</code></td>
<td>
<p>A vector of strings, operation details.</p>
</td></tr>
<tr><td><code id="add_operation_+3A_details2">details2</code></td>
<td>
<p>A vector of strings, operation additional details.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>star_operation</code> object.
</p>

<hr>
<h2 id='add_surrogate_key.dimension_table'>Add the surrogate key from a dimension table to the instances table.</h2><span id='topic+add_surrogate_key.dimension_table'></span>

<h3>Description</h3>

<p>Add the surrogate key from a dimension table to the instances table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'dimension_table'
add_surrogate_key(dimension_table, instances)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_surrogate_key.dimension_table_+3A_dimension_table">dimension_table</code></td>
<td>
<p>A <code>dimension_table</code> object.</p>
</td></tr>
<tr><td><code id="add_surrogate_key.dimension_table_+3A_instances">instances</code></td>
<td>
<p>A <code>tibble</code>, the instances table.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>tibble</code>.
</p>

<hr>
<h2 id='apply_filter_dimension'>Apply filter dimension</h2><span id='topic+apply_filter_dimension'></span>

<h3>Description</h3>

<p>Select the instances of the dimensions that meet the defined conditions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>apply_filter_dimension(db, sq)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="apply_filter_dimension_+3A_db">db</code></td>
<td>
<p>A <code>star_database</code> object.</p>
</td></tr>
<tr><td><code id="apply_filter_dimension_+3A_sq">sq</code></td>
<td>
<p>A <code>star_query</code> object.</p>
</td></tr>
</table>

<hr>
<h2 id='apply_select_dimension'>Apply select dimension</h2><span id='topic+apply_select_dimension'></span>

<h3>Description</h3>

<p>Select dimensions and attributes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>apply_select_dimension(db, sq)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="apply_select_dimension_+3A_db">db</code></td>
<td>
<p>A <code>star_database</code> object.</p>
</td></tr>
<tr><td><code id="apply_select_dimension_+3A_sq">sq</code></td>
<td>
<p>A <code>star_query</code> object.</p>
</td></tr>
</table>

<hr>
<h2 id='apply_select_fact'>Apply select fact</h2><span id='topic+apply_select_fact'></span>

<h3>Description</h3>

<p>Select the facts, measures and define the aggregation functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>apply_select_fact(db, sq)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="apply_select_fact_+3A_db">db</code></td>
<td>
<p>A <code>star_database</code> object.</p>
</td></tr>
<tr><td><code id="apply_select_fact_+3A_sq">sq</code></td>
<td>
<p>A <code>star_query</code> object.</p>
</td></tr>
</table>

<hr>
<h2 id='as_csv_files'>Generate csv files with fact and dimension tables</h2><span id='topic+as_csv_files'></span><span id='topic+as_csv_files.star_database'></span>

<h3>Description</h3>

<p>To port databases to other work environments it is useful to be able to
export them as csv files, as this function does.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_csv_files(db, dir, type)

## S3 method for class 'star_database'
as_csv_files(db, dir = NULL, type = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_csv_files_+3A_db">db</code></td>
<td>
<p>A <code>star_database</code> object.</p>
</td></tr>
<tr><td><code id="as_csv_files_+3A_dir">dir</code></td>
<td>
<p>A string, name of a dir.</p>
</td></tr>
<tr><td><code id="as_csv_files_+3A_type">type</code></td>
<td>
<p>An integer, 1: uses &quot;.&quot; for the decimal point and a comma for the
separator; 2: uses a comma for the decimal point and a semicolon for the
separator.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string, name of a dir.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+star_database">star_database</a></code>
</p>
<p>Other star database exportation functions: 
<code><a href="#topic+as_dm_class">as_dm_class</a>()</code>,
<code><a href="#topic+as_multistar">as_multistar</a>()</code>,
<code><a href="#topic+as_rdb">as_rdb</a>()</code>,
<code><a href="#topic+as_single_tibble_list">as_single_tibble_list</a>()</code>,
<code><a href="#topic+as_tibble_list">as_tibble_list</a>()</code>,
<code><a href="#topic+as_xlsx_file">as_xlsx_file</a>()</code>,
<code><a href="#topic+draw_tables">draw_tables</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
db1 &lt;- star_database(mrs_cause_schema, ft_num) |&gt;
  snake_case()
tl1 &lt;- db1 |&gt;
  as_csv_files()

db2 &lt;- star_database(mrs_age_schema, ft_age) |&gt;
  snake_case()

ct &lt;- constellation("MRS", db1, db2)
d &lt;- ct |&gt;
  as_csv_files(dir = tempdir())

</code></pre>

<hr>
<h2 id='as_dm_class'>Generate a <code>dm</code> class with fact and dimension tables</h2><span id='topic+as_dm_class'></span><span id='topic+as_dm_class.star_database'></span>

<h3>Description</h3>

<p>To port databases to other work environments it is useful to be able to
export them as a <code>dm</code> class, as this function does, in this way it can be
saved directly in a DBMS.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_dm_class(db, pk_facts, fk)

## S3 method for class 'star_database'
as_dm_class(db, pk_facts = TRUE, fk = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_dm_class_+3A_db">db</code></td>
<td>
<p>A <code>star_database</code> object.</p>
</td></tr>
<tr><td><code id="as_dm_class_+3A_pk_facts">pk_facts</code></td>
<td>
<p>A boolean, include primary key in fact tables.</p>
</td></tr>
<tr><td><code id="as_dm_class_+3A_fk">fk</code></td>
<td>
<p>A boolean, include foreign key in fact tables.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>dm</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+star_database">star_database</a></code>
</p>
<p>Other star database exportation functions: 
<code><a href="#topic+as_csv_files">as_csv_files</a>()</code>,
<code><a href="#topic+as_multistar">as_multistar</a>()</code>,
<code><a href="#topic+as_rdb">as_rdb</a>()</code>,
<code><a href="#topic+as_single_tibble_list">as_single_tibble_list</a>()</code>,
<code><a href="#topic+as_tibble_list">as_tibble_list</a>()</code>,
<code><a href="#topic+as_xlsx_file">as_xlsx_file</a>()</code>,
<code><a href="#topic+draw_tables">draw_tables</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
db1 &lt;- star_database(mrs_cause_schema, ft_num) |&gt;
  snake_case()
dm1 &lt;- db1 |&gt;
  as_dm_class()

db2 &lt;- star_database(mrs_age_schema, ft_age) |&gt;
  snake_case()

ct &lt;- constellation("MRS", db1, db2)
dm &lt;- ct |&gt;
  as_dm_class()

</code></pre>

<hr>
<h2 id='as_geolayer'>Get a <code>geolayer</code> object</h2><span id='topic+as_geolayer'></span><span id='topic+as_geolayer.star_database'></span>

<h3>Description</h3>

<p>From a <code>star_database</code> with at least one geoattribute, we obtain a <code>geolayer</code>
object that allows us to select the data to obtain a vector layer with
geographic information.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_geolayer(db, dimension, attribute, geometry, include_nrow_agg)

## S3 method for class 'star_database'
as_geolayer(
  db,
  dimension = NULL,
  attribute = NULL,
  geometry = NULL,
  include_nrow_agg = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_geolayer_+3A_db">db</code></td>
<td>
<p>An <code>star_database</code> object.</p>
</td></tr>
<tr><td><code id="as_geolayer_+3A_dimension">dimension</code></td>
<td>
<p>A string, dimension name.</p>
</td></tr>
<tr><td><code id="as_geolayer_+3A_attribute">attribute</code></td>
<td>
<p>A vector, attribute names.</p>
</td></tr>
<tr><td><code id="as_geolayer_+3A_geometry">geometry</code></td>
<td>
<p>A string, geometry name.</p>
</td></tr>
<tr><td><code id="as_geolayer_+3A_include_nrow_agg">include_nrow_agg</code></td>
<td>
<p>A boolean, include default measure.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If only one geographic attribute is defined, it is not necessary to indicate
the dimension or the attribute. By default, polygon geometry is considered.
</p>


<h3>Value</h3>

<p>A <code>geolayer</code> object.
</p>


<h3>See Also</h3>

<p>Other query functions: 
<code><a href="#topic+as_GeoPackage">as_GeoPackage</a>()</code>,
<code><a href="#topic+filter_dimension">filter_dimension</a>()</code>,
<code><a href="#topic+get_layer">get_layer</a>()</code>,
<code><a href="#topic+get_variable_description">get_variable_description</a>()</code>,
<code><a href="#topic+get_variables">get_variables</a>()</code>,
<code><a href="#topic+run_query">run_query</a>()</code>,
<code><a href="#topic+select_dimension">select_dimension</a>()</code>,
<code><a href="#topic+select_fact">select_fact</a>()</code>,
<code><a href="#topic+set_layer">set_layer</a>()</code>,
<code><a href="#topic+set_variables">set_variables</a>()</code>,
<code><a href="#topic+star_query">star_query</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
gl_polygon &lt;- mrs_db_geo |&gt;
  as_geolayer()

gl_point &lt;- mrs_db_geo |&gt;
  as_geolayer(geometry = "point")

</code></pre>

<hr>
<h2 id='as_GeoPackage'>Save as <code>GeoPackage</code></h2><span id='topic+as_GeoPackage'></span><span id='topic+as_GeoPackage.geolayer'></span>

<h3>Description</h3>

<p>Save the geolayer (geographic information layer) and the variables layer in a
file in <code>GeoPackage</code> format to be able to work with other tools.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_GeoPackage(gl, dir, name, keep_all_variables_na)

## S3 method for class 'geolayer'
as_GeoPackage(gl, dir = NULL, name = NULL, keep_all_variables_na = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_GeoPackage_+3A_gl">gl</code></td>
<td>
<p>A <code>geolayer</code> object.</p>
</td></tr>
<tr><td><code id="as_GeoPackage_+3A_dir">dir</code></td>
<td>
<p>A string.</p>
</td></tr>
<tr><td><code id="as_GeoPackage_+3A_name">name</code></td>
<td>
<p>A string, file name.</p>
</td></tr>
<tr><td><code id="as_GeoPackage_+3A_keep_all_variables_na">keep_all_variables_na</code></td>
<td>
<p>A boolean, keep rows with all variables NA.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If the file name is not indicated, it defaults to the name of the geovariable.
</p>
<p>By default, rows that are NA for all variables are eliminated.
</p>
<p>The <code>GeoPackage</code> format only allows defining a maximum of 1998 columns. If the
number of variables and columns in the geographic layer exceeds this number,
it cannot be saved in this format.
</p>


<h3>Value</h3>

<p>A string, file name.
</p>


<h3>See Also</h3>

<p>Other query functions: 
<code><a href="#topic+as_geolayer">as_geolayer</a>()</code>,
<code><a href="#topic+filter_dimension">filter_dimension</a>()</code>,
<code><a href="#topic+get_layer">get_layer</a>()</code>,
<code><a href="#topic+get_variable_description">get_variable_description</a>()</code>,
<code><a href="#topic+get_variables">get_variables</a>()</code>,
<code><a href="#topic+run_query">run_query</a>()</code>,
<code><a href="#topic+select_dimension">select_dimension</a>()</code>,
<code><a href="#topic+select_fact">select_fact</a>()</code>,
<code><a href="#topic+set_layer">set_layer</a>()</code>,
<code><a href="#topic+set_variables">set_variables</a>()</code>,
<code><a href="#topic+star_query">star_query</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
gl &lt;- mrs_db_geo |&gt;
  as_geolayer()

f &lt;- gl |&gt;
  as_GeoPackage(dir = tempdir())

</code></pre>

<hr>
<h2 id='as_multistar'>Generate a <code>geomultistar::multistar</code> object</h2><span id='topic+as_multistar'></span><span id='topic+as_multistar.star_database'></span>

<h3>Description</h3>

<p>In order to be able to use the query and integration functions with geographic
information offered by the <code>geomultistar</code> package, we can obtain a <code>multistar</code>
object from a star database or a constellation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_multistar(db)

## S3 method for class 'star_database'
as_multistar(db)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_multistar_+3A_db">db</code></td>
<td>
<p>A <code>star_database</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>geomultistar::multistar</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+star_database">star_database</a></code>
</p>
<p>Other star database exportation functions: 
<code><a href="#topic+as_csv_files">as_csv_files</a>()</code>,
<code><a href="#topic+as_dm_class">as_dm_class</a>()</code>,
<code><a href="#topic+as_rdb">as_rdb</a>()</code>,
<code><a href="#topic+as_single_tibble_list">as_single_tibble_list</a>()</code>,
<code><a href="#topic+as_tibble_list">as_tibble_list</a>()</code>,
<code><a href="#topic+as_xlsx_file">as_xlsx_file</a>()</code>,
<code><a href="#topic+draw_tables">draw_tables</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
db1 &lt;- star_database(mrs_cause_schema, ft_num) |&gt;
  snake_case()
ms1 &lt;- db1 |&gt;
  as_multistar()

db2 &lt;- star_database(mrs_age_schema, ft_age) |&gt;
  snake_case()

ct &lt;- constellation("MRS", db1, db2)
ms &lt;- ct |&gt;
  as_multistar()

</code></pre>

<hr>
<h2 id='as_rdb'>Generate tables in a relational database</h2><span id='topic+as_rdb'></span><span id='topic+as_rdb.star_database'></span>

<h3>Description</h3>

<p>Given a connection to a relational database, it stores the facts and
dimensions in the form of tables. Tables can be overwritten.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_rdb(db, con, overwrite)

## S3 method for class 'star_database'
as_rdb(db, con, overwrite = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_rdb_+3A_db">db</code></td>
<td>
<p>A <code>star_database</code> object.</p>
</td></tr>
<tr><td><code id="as_rdb_+3A_con">con</code></td>
<td>
<p>A <code>DBI::DBIConnection</code> object.</p>
</td></tr>
<tr><td><code id="as_rdb_+3A_overwrite">overwrite</code></td>
<td>
<p>A boolean, allow overwriting tables in the database.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Invisible NULL.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+star_database">star_database</a></code>
</p>
<p>Other star database exportation functions: 
<code><a href="#topic+as_csv_files">as_csv_files</a>()</code>,
<code><a href="#topic+as_dm_class">as_dm_class</a>()</code>,
<code><a href="#topic+as_multistar">as_multistar</a>()</code>,
<code><a href="#topic+as_single_tibble_list">as_single_tibble_list</a>()</code>,
<code><a href="#topic+as_tibble_list">as_tibble_list</a>()</code>,
<code><a href="#topic+as_xlsx_file">as_xlsx_file</a>()</code>,
<code><a href="#topic+draw_tables">draw_tables</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
my_db &lt;- DBI::dbConnect(RSQLite::SQLite())

db &lt;- star_database(mrs_cause_schema, ft_num) |&gt;
  snake_case()
db |&gt;
  as_rdb(my_db)

DBI::dbDisconnect(my_db)

</code></pre>

<hr>
<h2 id='as_single_tibble_list'>Generate a list of tibbles of flat tables</h2><span id='topic+as_single_tibble_list'></span><span id='topic+as_single_tibble_list.star_database'></span>

<h3>Description</h3>

<p>Allows you to transform a star database into a flat table. If we have a
constellation, it returns a list of flat tables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_single_tibble_list(db)

## S3 method for class 'star_database'
as_single_tibble_list(db)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_single_tibble_list_+3A_db">db</code></td>
<td>
<p>A <code>star_database</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of <code>tibble</code>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+star_database">star_database</a></code>
</p>
<p>Other star database exportation functions: 
<code><a href="#topic+as_csv_files">as_csv_files</a>()</code>,
<code><a href="#topic+as_dm_class">as_dm_class</a>()</code>,
<code><a href="#topic+as_multistar">as_multistar</a>()</code>,
<code><a href="#topic+as_rdb">as_rdb</a>()</code>,
<code><a href="#topic+as_tibble_list">as_tibble_list</a>()</code>,
<code><a href="#topic+as_xlsx_file">as_xlsx_file</a>()</code>,
<code><a href="#topic+draw_tables">draw_tables</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
db1 &lt;- star_database(mrs_cause_schema, ft_num) |&gt;
  snake_case()
tl1 &lt;- db1 |&gt;
  as_single_tibble_list()

db2 &lt;- star_database(mrs_age_schema, ft_age) |&gt;
  snake_case()

ct &lt;- constellation("MRS", db1, db2)
tl &lt;- ct |&gt;
  as_single_tibble_list()

</code></pre>

<hr>
<h2 id='as_star_database'>Get a star database from a flat table</h2><span id='topic+as_star_database'></span><span id='topic+as_star_database.flat_table'></span>

<h3>Description</h3>

<p>Obtain a star database from the flat table and a star schema.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_star_database(ft, schema)

## S3 method for class 'flat_table'
as_star_database(ft, schema)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_star_database_+3A_ft">ft</code></td>
<td>
<p>A <code>flat_table</code> object.</p>
</td></tr>
<tr><td><code id="as_star_database_+3A_schema">schema</code></td>
<td>
<p>A <code>star_schema</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>star_database</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+star_database">star_database</a></code>
</p>
<p>Other flat table definition functions: 
<code><a href="#topic+flat_table">flat_table</a>()</code>,
<code><a href="#topic+get_table">get_table</a>()</code>,
<code><a href="#topic+get_unknown_value_defined">get_unknown_value_defined</a>()</code>,
<code><a href="#topic+get_unknown_values">get_unknown_values</a>()</code>,
<code><a href="#topic+read_flat_table_file">read_flat_table_file</a>()</code>,
<code><a href="#topic+read_flat_table_folder">read_flat_table_folder</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
db &lt;- flat_table('ft_num', ft_num) |&gt;
  as_star_database(mrs_cause_schema)

</code></pre>

<hr>
<h2 id='as_tibble_list'>Generate a list of tibbles with fact and dimension tables</h2><span id='topic+as_tibble_list'></span><span id='topic+as_tibble_list.star_database'></span>

<h3>Description</h3>

<p>To port databases to other work environments it is useful to be able to
export them as a list of tibbles, as this function does.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_tibble_list(db)

## S3 method for class 'star_database'
as_tibble_list(db)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_tibble_list_+3A_db">db</code></td>
<td>
<p>A <code>star_database</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of <code>tibble</code>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+star_database">star_database</a></code>
</p>
<p>Other star database exportation functions: 
<code><a href="#topic+as_csv_files">as_csv_files</a>()</code>,
<code><a href="#topic+as_dm_class">as_dm_class</a>()</code>,
<code><a href="#topic+as_multistar">as_multistar</a>()</code>,
<code><a href="#topic+as_rdb">as_rdb</a>()</code>,
<code><a href="#topic+as_single_tibble_list">as_single_tibble_list</a>()</code>,
<code><a href="#topic+as_xlsx_file">as_xlsx_file</a>()</code>,
<code><a href="#topic+draw_tables">draw_tables</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
db1 &lt;- star_database(mrs_cause_schema, ft_num) |&gt;
  snake_case()
tl1 &lt;- db1 |&gt;
  as_tibble_list()

db2 &lt;- star_database(mrs_age_schema, ft_age) |&gt;
  snake_case()

ct &lt;- constellation("MRS", db1, db2)
tl &lt;- ct |&gt;
  as_tibble_list()

</code></pre>

<hr>
<h2 id='as_xlsx_file'>Generate a xlsx file with fact and dimension tables</h2><span id='topic+as_xlsx_file'></span><span id='topic+as_xlsx_file.star_database'></span>

<h3>Description</h3>

<p>To port databases to other work environments it is useful to be able to
export them as a xlsx file, as this function does.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_xlsx_file(db, file)

## S3 method for class 'star_database'
as_xlsx_file(db, file = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_xlsx_file_+3A_db">db</code></td>
<td>
<p>A <code>star_database</code> object.</p>
</td></tr>
<tr><td><code id="as_xlsx_file_+3A_file">file</code></td>
<td>
<p>A string, name of a file.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string, name of a file.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+star_database">star_database</a></code>
</p>
<p>Other star database exportation functions: 
<code><a href="#topic+as_csv_files">as_csv_files</a>()</code>,
<code><a href="#topic+as_dm_class">as_dm_class</a>()</code>,
<code><a href="#topic+as_multistar">as_multistar</a>()</code>,
<code><a href="#topic+as_rdb">as_rdb</a>()</code>,
<code><a href="#topic+as_single_tibble_list">as_single_tibble_list</a>()</code>,
<code><a href="#topic+as_tibble_list">as_tibble_list</a>()</code>,
<code><a href="#topic+draw_tables">draw_tables</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
db1 &lt;- star_database(mrs_cause_schema, ft_num) |&gt;
  snake_case()
tl1 &lt;- db1 |&gt;
  as_xlsx_file()

db2 &lt;- star_database(mrs_age_schema, ft_age) |&gt;
  snake_case()

ct &lt;- constellation("MRS", db1, db2)
f &lt;- ct |&gt;
  as_xlsx_file(file = tempfile())

</code></pre>

<hr>
<h2 id='cancel_deployment'>Cancel deployment</h2><span id='topic+cancel_deployment'></span><span id='topic+cancel_deployment.star_database'></span>

<h3>Description</h3>

<p>Cancel deployment
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cancel_deployment(db, name)

## S3 method for class 'star_database'
cancel_deployment(db, name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cancel_deployment_+3A_db">db</code></td>
<td>
<p>A <code>star_database</code> object.</p>
</td></tr>
<tr><td><code id="cancel_deployment_+3A_name">name</code></td>
<td>
<p>A string, name of the deployment.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>star_database</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+star_database">star_database</a></code>
</p>
<p>Other star database deployment functions: 
<code><a href="#topic+deploy">deploy</a>()</code>,
<code><a href="#topic+get_deployment_names">get_deployment_names</a>()</code>,
<code><a href="#topic+load_star_database">load_star_database</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
mrs_rdb_file &lt;- tempfile("mrs", fileext = ".rdb")
mrs_sqlite_file &lt;- tempfile("mrs", fileext = ".sqlite")

mrs_sqlite_connect &lt;- function() {
  DBI::dbConnect(RSQLite::SQLite(),
                 dbname = mrs_sqlite_file)
}

mrs_db &lt;- mrs_db |&gt;
  deploy(
    name = "mrs",
    connect = mrs_sqlite_connect,
    file = mrs_rdb_file
  )

mrs_db &lt;- mrs_db |&gt;
  cancel_deployment(name = "mrs")

</code></pre>

<hr>
<h2 id='check_geoattribute_geometry'>Check a <code>geoattribute</code> geometry instances.</h2><span id='topic+check_geoattribute_geometry'></span><span id='topic+check_geoattribute_geometry.star_database'></span>

<h3>Description</h3>

<p>Get unrelated instances of a <code>geoattribute</code> for a geometry.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_geoattribute_geometry(db, dimension, attribute, geometry)

## S3 method for class 'star_database'
check_geoattribute_geometry(
  db,
  dimension = NULL,
  attribute = NULL,
  geometry = "polygon"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_geoattribute_geometry_+3A_db">db</code></td>
<td>
<p>A <code>star_database</code> object.</p>
</td></tr>
<tr><td><code id="check_geoattribute_geometry_+3A_dimension">dimension</code></td>
<td>
<p>A string, dimension name.</p>
</td></tr>
<tr><td><code id="check_geoattribute_geometry_+3A_attribute">attribute</code></td>
<td>
<p>A vector, attribute names.</p>
</td></tr>
<tr><td><code id="check_geoattribute_geometry_+3A_geometry">geometry</code></td>
<td>
<p>A string, geometry name ('point' or 'polygon').</p>
</td></tr>
</table>


<h3>Details</h3>

<p>We obtain the values of the dimension attribute that do not have an associated
geographic element of the indicated geometry.
</p>
<p>If there is only one geoattribute defined, neither the dimension nor the attribute
must be indicated.
</p>


<h3>Value</h3>

<p>A <code>tibble</code>.
</p>


<h3>See Also</h3>

<p>Other star database geographic attributes: 
<code><a href="#topic+define_geoattribute">define_geoattribute</a>()</code>,
<code><a href="#topic+get_geoattribute_geometries">get_geoattribute_geometries</a>()</code>,
<code><a href="#topic+get_geoattributes">get_geoattributes</a>()</code>,
<code><a href="#topic+get_layer_geometry">get_layer_geometry</a>()</code>,
<code><a href="#topic+get_point_geometry">get_point_geometry</a>()</code>,
<code><a href="#topic+summarize_layer">summarize_layer</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
db &lt;- mrs_db |&gt;
  define_geoattribute(
    dimension = "where",
    attribute = "state",
    from_layer = us_layer_state,
    by = "STUSPS"
  )

instances &lt;- check_geoattribute_geometry(db,
                                         dimension = "where",
                                         attribute = "state")

</code></pre>

<hr>
<h2 id='check_lookup_table'>Check the result of joining a flat table with a lookup table</h2><span id='topic+check_lookup_table'></span><span id='topic+check_lookup_table.flat_table'></span>

<h3>Description</h3>

<p>Before joining a flat table with a lookup table we can check the result to
determine if we need to adapt the values of some instances or add new elements
to the lookup table. This function returns the values of the foreign key of
the flat table that do not correspond to the primary key of the lookup table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_lookup_table(ft, fk_attributes, lookup)

## S3 method for class 'flat_table'
check_lookup_table(ft, fk_attributes = NULL, lookup)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_lookup_table_+3A_ft">ft</code></td>
<td>
<p>A <code>flat_table</code> object.</p>
</td></tr>
<tr><td><code id="check_lookup_table_+3A_fk_attributes">fk_attributes</code></td>
<td>
<p>A vector of strings, attribute names.</p>
</td></tr>
<tr><td><code id="check_lookup_table_+3A_lookup">lookup</code></td>
<td>
<p>A <code>flat_table</code> object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If no attributes are indicated, those that form the primary key of the lookup
table are considered in the flat table.
</p>


<h3>Value</h3>

<p>A <code>tibble</code> with attribute values.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+flat_table">flat_table</a></code>
</p>
<p>Other flat table join functions: 
<code><a href="#topic+get_pk_attribute_names">get_pk_attribute_names</a>()</code>,
<code><a href="#topic+join_lookup_table">join_lookup_table</a>()</code>,
<code><a href="#topic+lookup_table">lookup_table</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
lookup &lt;- flat_table('iris', iris) |&gt;
  lookup_table(
    measures = c("Sepal.Length", "Sepal.Width", "Petal.Length", "Petal.Width"),
    measure_agg = c('MAX', 'MIN', 'SUM', 'MEAN')
  )
values &lt;- flat_table('iris', iris) |&gt;
  check_lookup_table(lookup = lookup)

</code></pre>

<hr>
<h2 id='check_refesh'>Checks the refresh of the selected star database from the given database</h2><span id='topic+check_refesh'></span>

<h3>Description</h3>

<p>Checks the refresh operation of the selected star database from the given
database. Once this operation is carried out, the results can be consulted on
the new instances in dimensions or existing instances in the facts.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_refesh(db, refresh_db)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_refesh_+3A_db">db</code></td>
<td>
<p>A <code>star_database</code> object.</p>
</td></tr>
<tr><td><code id="check_refesh_+3A_refresh_db">refresh_db</code></td>
<td>
<p>A <code>star_database</code> object with the same structure with
new data.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of facts and dimensions, first facts, then dimensions.
</p>

<hr>
<h2 id='conform_dimensions'>Conform dimensions</h2><span id='topic+conform_dimensions'></span>

<h3>Description</h3>

<p>Generate a dimension from a list of dimensions with the same schema.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>conform_dimensions(to_conform)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="conform_dimensions_+3A_to_conform">to_conform</code></td>
<td>
<p>A <code>dimension_table</code> object list.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>dimension_table</code> object.
</p>

<hr>
<h2 id='constellation'>Create constellation</h2><span id='topic+constellation'></span>

<h3>Description</h3>

<p>Creates a constellation from a list of <code>star_database</code> objects. A constellation
is also represented by a <code>star_database</code> object. All dimensions with the same
name in the star schemas have to be conformable (share the same structure, even
though they have different instances).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>constellation(name = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="constellation_+3A_name">name</code></td>
<td>
<p>A string.</p>
</td></tr>
<tr><td><code id="constellation_+3A_...">...</code></td>
<td>
<p><code>star_database</code> objects.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>star_database</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+as_tibble_list">as_tibble_list</a></code>, <code><a href="#topic+as_dm_class">as_dm_class</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
db1 &lt;- star_database(mrs_cause_schema, ft_num) |&gt;
  snake_case()
db2 &lt;- star_database(mrs_age_schema, ft_age) |&gt;
  snake_case()
ct1 &lt;- constellation("MRS", db1, db2)


db3 &lt;- star_database(mrs_cause_schema_rpd, ft_cause_rpd) |&gt;
  role_playing_dimension(
    rpd = "When",
    roles = c("When Available", "When Received")
  )

db4 &lt;- star_database(mrs_age_schema_rpd, ft_age_rpd) |&gt;
  role_playing_dimension(
    rpd = "When Arrived",
    roles = c("When Available")
  )
ct2 &lt;- constellation("MRS", db3, db4)

</code></pre>

<hr>
<h2 id='coordinates_to_point'>Transform coordinates to point geometry</h2><span id='topic+coordinates_to_point'></span>

<h3>Description</h3>

<p>From the coordinates defined in fields such as latitude and longitude, it
returns a layer of points.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>coordinates_to_point(table, lon_lat = c("intptlon", "intptlat"), crs = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="coordinates_to_point_+3A_table">table</code></td>
<td>
<p>A <code>tibble</code> object.</p>
</td></tr>
<tr><td><code id="coordinates_to_point_+3A_lon_lat">lon_lat</code></td>
<td>
<p>A vector, name of longitude and latitude attributes.</p>
</td></tr>
<tr><td><code id="coordinates_to_point_+3A_crs">crs</code></td>
<td>
<p>A coordinate reference system: integer with the EPSG code, or
character with proj4string.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If we start from a geographic layer, it initially transforms it into a table.
</p>
<p>The CRS of the new layer is indicated. If a CRS is not indicated, it
considers the layer's CRS by default and, if it is not a layer, it considers
4326 CRS (WGS84).
</p>


<h3>Value</h3>

<p>A <code>sf</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
us_state_point &lt;-
  coordinates_to_point(us_layer_state,
                       lon_lat = c("INTPTLON", "INTPTLAT"))

</code></pre>

<hr>
<h2 id='default_disconnect'>Default disconnect function</h2><span id='topic+default_disconnect'></span>

<h3>Description</h3>

<p>Disconnect function that is used if no other is indicated in the parameter of
the deploy function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>default_disconnect(con)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="default_disconnect_+3A_con">con</code></td>
<td>
<p>A <code>DBI::DBIConnection</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>TRUE, invisibly.
</p>

<hr>
<h2 id='define_dimension'>Define dimension in a <code>star_schema</code> object.</h2><span id='topic+define_dimension'></span><span id='topic+define_dimension.star_schema'></span>

<h3>Description</h3>

<p>Dimensions are part of a <code>star_schema</code> object. They can be defined directly
as a <code>dimension_schema</code> object or giving the name and a set of attributes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>define_dimension(
  schema,
  dimension,
  name,
  attributes,
  scd_nk,
  scd_t0,
  scd_t1,
  scd_t2,
  scd_t3,
  scd_t6,
  is_when,
  ...
)

## S3 method for class 'star_schema'
define_dimension(
  schema,
  dimension = NULL,
  name = NULL,
  attributes = NULL,
  scd_nk = NULL,
  scd_t0 = NULL,
  scd_t1 = NULL,
  scd_t2 = NULL,
  scd_t3 = NULL,
  scd_t6 = NULL,
  is_when = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="define_dimension_+3A_schema">schema</code></td>
<td>
<p>A <code>star_schema</code> object.</p>
</td></tr>
<tr><td><code id="define_dimension_+3A_dimension">dimension</code></td>
<td>
<p>A <code>dimension_schema</code> object.</p>
</td></tr>
<tr><td><code id="define_dimension_+3A_name">name</code></td>
<td>
<p>A string, name of the dimension.</p>
</td></tr>
<tr><td><code id="define_dimension_+3A_attributes">attributes</code></td>
<td>
<p>A vector of attribute names.</p>
</td></tr>
<tr><td><code id="define_dimension_+3A_scd_nk">scd_nk</code></td>
<td>
<p>A vector of attribute names, scd natural key.</p>
</td></tr>
<tr><td><code id="define_dimension_+3A_scd_t0">scd_t0</code></td>
<td>
<p>A vector of attribute names, scd T0 attributes.</p>
</td></tr>
<tr><td><code id="define_dimension_+3A_scd_t1">scd_t1</code></td>
<td>
<p>A vector of attribute names, scd T1 attributes.</p>
</td></tr>
<tr><td><code id="define_dimension_+3A_scd_t2">scd_t2</code></td>
<td>
<p>A vector of attribute names, scd T2 attributes.</p>
</td></tr>
<tr><td><code id="define_dimension_+3A_scd_t3">scd_t3</code></td>
<td>
<p>A vector of attribute names, scd T3 attributes.</p>
</td></tr>
<tr><td><code id="define_dimension_+3A_scd_t6">scd_t6</code></td>
<td>
<p>A vector of attribute names, scd T6 attributes.</p>
</td></tr>
<tr><td><code id="define_dimension_+3A_is_when">is_when</code></td>
<td>
<p>A boolean, is when dimension.</p>
</td></tr>
<tr><td><code id="define_dimension_+3A_...">...</code></td>
<td>
<p>When dimension configuration parameters.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>star_schema</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+star_database">star_database</a></code>
</p>
<p>Other star schema definition functions: 
<code><a href="#topic+define_facts">define_facts</a>()</code>,
<code><a href="#topic+dimension_schema">dimension_schema</a>()</code>,
<code><a href="#topic+fact_schema">fact_schema</a>()</code>,
<code><a href="#topic+star_schema">star_schema</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
s &lt;- star_schema() |&gt;
  define_dimension(
    name = "when",
    attributes = c(
      "Week Ending Date",
      "WEEK",
      "Year"
    )
  )

s &lt;- star_schema()
d &lt;- dimension_schema(
  name = "when",
  attributes = c(
    "Week Ending Date",
    "WEEK",
    "Year"
  )
)
s &lt;- s |&gt;
  define_dimension(d)
</code></pre>

<hr>
<h2 id='define_facts'>Define facts in a <code>star_schema</code> object.</h2><span id='topic+define_facts'></span><span id='topic+define_facts.star_schema'></span>

<h3>Description</h3>

<p>Facts are part of a <code>star_schema</code> object. They can be defined directly
as a <code>fact_schema</code> object or giving the name and a set of measures
that can be empty (does not have explicit measures).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>define_facts(schema, facts, name, measures, agg_functions, nrow_agg)

## S3 method for class 'star_schema'
define_facts(
  schema,
  facts = NULL,
  name = NULL,
  measures = NULL,
  agg_functions = NULL,
  nrow_agg = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="define_facts_+3A_schema">schema</code></td>
<td>
<p>A <code>star_schema</code> object.</p>
</td></tr>
<tr><td><code id="define_facts_+3A_facts">facts</code></td>
<td>
<p>A <code>fact_schema</code> object.</p>
</td></tr>
<tr><td><code id="define_facts_+3A_name">name</code></td>
<td>
<p>A string, name of the fact.</p>
</td></tr>
<tr><td><code id="define_facts_+3A_measures">measures</code></td>
<td>
<p>A vector of measure names.</p>
</td></tr>
<tr><td><code id="define_facts_+3A_agg_functions">agg_functions</code></td>
<td>
<p>A vector of aggregation function names, each one for its
corresponding measure. If none is indicated, the default is SUM. Additionally
they can be MAX or MIN.</p>
</td></tr>
<tr><td><code id="define_facts_+3A_nrow_agg">nrow_agg</code></td>
<td>
<p>A string, name of a new measure that represents the COUNT
of rows aggregated for each resulting row.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Associated with each measurement there is an aggregation function that can be
SUM, MAX or MIN. AVG is not considered among the possible aggregation
functions: The reason is that calculating AVG by considering subsets of
data does not necessarily yield the AVG of the total data.
</p>
<p>An additional measurement corresponding to the COUNT of aggregated rows is
added which, together with SUM, allows us to obtain the mean if needed.
</p>


<h3>Value</h3>

<p>A <code>star_schema</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+star_database">star_database</a></code>
</p>
<p>Other star schema definition functions: 
<code><a href="#topic+define_dimension">define_dimension</a>()</code>,
<code><a href="#topic+dimension_schema">dimension_schema</a>()</code>,
<code><a href="#topic+fact_schema">fact_schema</a>()</code>,
<code><a href="#topic+star_schema">star_schema</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
s &lt;- star_schema() |&gt;
  define_facts(
    name = "mrs_cause",
    measures = c(
      "Pneumonia and Influenza Deaths",
      "Other Deaths"
    )
  )

s &lt;- star_schema()
f &lt;- fact_schema(
  name = "mrs_cause",
  measures = c(
    "Pneumonia and Influenza Deaths",
    "Other Deaths"
  )
)
s &lt;- s |&gt;
  define_facts(f)
</code></pre>

<hr>
<h2 id='define_geoattribute'>Define <code>geoattribute</code> of a dimension</h2><span id='topic+define_geoattribute'></span><span id='topic+define_geoattribute.star_database'></span>

<h3>Description</h3>

<p>Define a set of attributes as a dimension's <code>geoattribute</code>. The set of attribute
values must uniquely designate the instances of the given geographic layer.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>define_geoattribute(db, dimension, attribute, from_layer, by, from_attribute)

## S3 method for class 'star_database'
define_geoattribute(
  db,
  dimension = NULL,
  attribute = NULL,
  from_layer = NULL,
  by = NULL,
  from_attribute = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="define_geoattribute_+3A_db">db</code></td>
<td>
<p>A <code>star_database</code> object.</p>
</td></tr>
<tr><td><code id="define_geoattribute_+3A_dimension">dimension</code></td>
<td>
<p>A string, dimension name.</p>
</td></tr>
<tr><td><code id="define_geoattribute_+3A_attribute">attribute</code></td>
<td>
<p>A vector, attribute names.</p>
</td></tr>
<tr><td><code id="define_geoattribute_+3A_from_layer">from_layer</code></td>
<td>
<p>A <code>sf</code> object.</p>
</td></tr>
<tr><td><code id="define_geoattribute_+3A_by">by</code></td>
<td>
<p>a vector of correspondence of attributes of the dimension with the
<code>sf</code> layer structure.</p>
</td></tr>
<tr><td><code id="define_geoattribute_+3A_from_attribute">from_attribute</code></td>
<td>
<p>A vector, attribute names.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The definition can be done in two ways: Associates the instances of the attributes
with the instances of a geographic layer or defines it from the geometry of
previously defined geographic attributes.
</p>
<p>Multiple attributes can be specified in the <code>attribute</code> parameter, the geographical
attribute is the combination of all of them.
</p>
<p>If defined from a layer (<code>from_layer</code> parameter), additionally the attributes
used for the join between the tables (dimension and layer tables) must be
indicated (<code>by</code> parameter).
</p>
<p>If defined from another attribute, it should have the same or finer granularity,
to obtain the result by grouping its instances. The considered attribute can be
the pair that defines longitude and latitude.
</p>
<p>If other geographic information has previously been associated with that attribute,
the new information is considered and previous instances for which no new information
is provided are also added.
</p>
<p>If the geometry provided is polygons, a point layer is also generated.
</p>


<h3>Value</h3>

<p>A <code>star_database</code> object.
</p>


<h3>See Also</h3>

<p>Other star database geographic attributes: 
<code><a href="#topic+check_geoattribute_geometry">check_geoattribute_geometry</a>()</code>,
<code><a href="#topic+get_geoattribute_geometries">get_geoattribute_geometries</a>()</code>,
<code><a href="#topic+get_geoattributes">get_geoattributes</a>()</code>,
<code><a href="#topic+get_layer_geometry">get_layer_geometry</a>()</code>,
<code><a href="#topic+get_point_geometry">get_point_geometry</a>()</code>,
<code><a href="#topic+summarize_layer">summarize_layer</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
db &lt;- mrs_db |&gt;
  define_geoattribute(
    dimension = "where",
    attribute = "state",
    from_layer = us_layer_state,
    by = "STUSPS"
  ) |&gt;
  define_geoattribute(
    dimension = "where",
    attribute = "region",
    from_attribute = "state"
  )  |&gt;
  define_geoattribute(
    dimension = "where",
    attribute = "city",
    from_attribute = c("long", "lat")
  )

</code></pre>

<hr>
<h2 id='define_geoattribute_from_layer'>Define geoattribute from a layer</h2><span id='topic+define_geoattribute_from_layer'></span>

<h3>Description</h3>

<p>Define geoattribute from a layer
</p>


<h3>Usage</h3>

<pre><code class='language-R'>define_geoattribute_from_layer(
  db,
  dimension = NULL,
  attribute = NULL,
  geoatt = NULL,
  from_layer = NULL,
  by = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="define_geoattribute_from_layer_+3A_db">db</code></td>
<td>
<p>A <code>star_database</code> object.</p>
</td></tr>
<tr><td><code id="define_geoattribute_from_layer_+3A_dimension">dimension</code></td>
<td>
<p>A string, dimension name.</p>
</td></tr>
<tr><td><code id="define_geoattribute_from_layer_+3A_attribute">attribute</code></td>
<td>
<p>A string, attribute name.</p>
</td></tr>
<tr><td><code id="define_geoattribute_from_layer_+3A_geoatt">geoatt</code></td>
<td>
<p>A string, geoattribute name.</p>
</td></tr>
<tr><td><code id="define_geoattribute_from_layer_+3A_from_layer">from_layer</code></td>
<td>
<p>A <code>sf</code> object</p>
</td></tr>
<tr><td><code id="define_geoattribute_from_layer_+3A_by">by</code></td>
<td>
<p>a vector of correspondence of attributes of the dimension with the
<code>sf</code> structure.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>star_database</code> object.
</p>

<hr>
<h2 id='delete_all_operations_found'>Delete in stars all operations found</h2><span id='topic+delete_all_operations_found'></span>

<h3>Description</h3>

<p>Delete in stars all operations found
</p>


<h3>Usage</h3>

<pre><code class='language-R'>delete_all_operations_found(stars, op)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="delete_all_operations_found_+3A_stars">stars</code></td>
<td>
<p>A list of <code>star_database</code> objects.</p>
</td></tr>
<tr><td><code id="delete_all_operations_found_+3A_op">op</code></td>
<td>
<p>A <code>star_operations</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of <code>star_database</code> objects.
</p>

<hr>
<h2 id='delete_operation'>Delete an operation</h2><span id='topic+delete_operation'></span>

<h3>Description</h3>

<p>Delete an operation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>delete_operation(op, op_name, name = NULL, details = NULL, details2 = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="delete_operation_+3A_op">op</code></td>
<td>
<p>A <code>star_operation</code> object.</p>
</td></tr>
<tr><td><code id="delete_operation_+3A_op_name">op_name</code></td>
<td>
<p>A string, operation name.</p>
</td></tr>
<tr><td><code id="delete_operation_+3A_name">name</code></td>
<td>
<p>A string, element name.</p>
</td></tr>
<tr><td><code id="delete_operation_+3A_details">details</code></td>
<td>
<p>A vector of strings, operation details.</p>
</td></tr>
<tr><td><code id="delete_operation_+3A_details2">details2</code></td>
<td>
<p>A vector of strings, operation additional details.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>op A <code>star_operation</code> object.
</p>

<hr>
<h2 id='delete_operation_set'>Delete a set of operations</h2><span id='topic+delete_operation_set'></span>

<h3>Description</h3>

<p>Delete a set of operations
</p>


<h3>Usage</h3>

<pre><code class='language-R'>delete_operation_set(op, op2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="delete_operation_set_+3A_op">op</code></td>
<td>
<p>A <code>star_operation</code> object.</p>
</td></tr>
<tr><td><code id="delete_operation_set_+3A_op2">op2</code></td>
<td>
<p>A <code>star_operation</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>op A <code>star_operation</code> object.
</p>

<hr>
<h2 id='deploy'>Deploy a star database in a relational database</h2><span id='topic+deploy'></span><span id='topic+deploy.star_database'></span>

<h3>Description</h3>

<p>To deploy the star database, we must indicate a name for the deployment, a
connection function and a disconnection function from the database. If it is
the first deployment, we must also indicate the name of a local file where the
star database will be stored.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>deploy(db, name, connect, disconnect, file)

## S3 method for class 'star_database'
deploy(db, name, connect, disconnect = NULL, file = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="deploy_+3A_db">db</code></td>
<td>
<p>A <code>star_database</code> object.</p>
</td></tr>
<tr><td><code id="deploy_+3A_name">name</code></td>
<td>
<p>A string, name of the deployment.</p>
</td></tr>
<tr><td><code id="deploy_+3A_connect">connect</code></td>
<td>
<p>A function that returns a <code>DBI::DBIConnection</code> object.</p>
</td></tr>
<tr><td><code id="deploy_+3A_disconnect">disconnect</code></td>
<td>
<p>A function that receives a <code>DBI::DBIConnection</code> object as a
parameter and close the connection.</p>
</td></tr>
<tr><td><code id="deploy_+3A_file">file</code></td>
<td>
<p>A string, name of the file to store the object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If the disconnection function consists only of calling <code>DBI::dbDisconnect(con)</code>,
there is no need to indicate it, it is taken by default.
</p>
<p>As a result, it exports the tables from the star database to the connection
database and from now on will keep them updated with each periodic refresh.
Additionally, it will also keep a copy of the star database updated on file,
which can be used when needed.
</p>


<h3>Value</h3>

<p>A <code>star_database</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+star_database">star_database</a></code>
</p>
<p>Other star database deployment functions: 
<code><a href="#topic+cancel_deployment">cancel_deployment</a>()</code>,
<code><a href="#topic+get_deployment_names">get_deployment_names</a>()</code>,
<code><a href="#topic+load_star_database">load_star_database</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
mrs_rdb_file &lt;- tempfile("mrs", fileext = ".rdb")
mrs_sqlite_file &lt;- tempfile("mrs", fileext = ".sqlite")

mrs_sqlite_connect &lt;- function() {
  DBI::dbConnect(RSQLite::SQLite(),
                 dbname = mrs_sqlite_file)
}

mrs_db &lt;- mrs_db |&gt;
  deploy(
    name = "mrs",
    connect = mrs_sqlite_connect,
    file = mrs_rdb_file
  )

</code></pre>

<hr>
<h2 id='dimension_schema'><code>dimension_schema</code> S3 class</h2><span id='topic+dimension_schema'></span>

<h3>Description</h3>

<p>A <code>dimension_schema</code> object is created, we have to define its name and the
set of attributes that make it up.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dimension_schema(
  name = NULL,
  attributes = NULL,
  scd_nk = NULL,
  scd_t0 = NULL,
  scd_t1 = NULL,
  scd_t2 = NULL,
  scd_t3 = NULL,
  scd_t6 = NULL,
  is_when = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dimension_schema_+3A_name">name</code></td>
<td>
<p>A string, name of the dimension.</p>
</td></tr>
<tr><td><code id="dimension_schema_+3A_attributes">attributes</code></td>
<td>
<p>A vector of attribute names.</p>
</td></tr>
<tr><td><code id="dimension_schema_+3A_scd_nk">scd_nk</code></td>
<td>
<p>A vector of attribute names, scd natural key.</p>
</td></tr>
<tr><td><code id="dimension_schema_+3A_scd_t0">scd_t0</code></td>
<td>
<p>A vector of attribute names, scd T0 attributes.</p>
</td></tr>
<tr><td><code id="dimension_schema_+3A_scd_t1">scd_t1</code></td>
<td>
<p>A vector of attribute names, scd T1 attributes.</p>
</td></tr>
<tr><td><code id="dimension_schema_+3A_scd_t2">scd_t2</code></td>
<td>
<p>A vector of attribute names, scd T2 attributes.</p>
</td></tr>
<tr><td><code id="dimension_schema_+3A_scd_t3">scd_t3</code></td>
<td>
<p>A vector of attribute names, scd T3 attributes.</p>
</td></tr>
<tr><td><code id="dimension_schema_+3A_scd_t6">scd_t6</code></td>
<td>
<p>A vector of attribute names, scd T6 attributes.</p>
</td></tr>
<tr><td><code id="dimension_schema_+3A_is_when">is_when</code></td>
<td>
<p>A boolean, is when dimension.</p>
</td></tr>
<tr><td><code id="dimension_schema_+3A_...">...</code></td>
<td>
<p>When dimension configuration parameters.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A <code>dimension_schema</code> object is part of a <code>star_schema</code> object, defines
a dimension of the star schema.
</p>


<h3>Value</h3>

<p>A <code>dimension_schema</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+star_database">star_database</a></code>
</p>
<p>Other star schema definition functions: 
<code><a href="#topic+define_dimension">define_dimension</a>()</code>,
<code><a href="#topic+define_facts">define_facts</a>()</code>,
<code><a href="#topic+fact_schema">fact_schema</a>()</code>,
<code><a href="#topic+star_schema">star_schema</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
d &lt;- dimension_schema(
  name = "when",
  attributes = c(
    "Week Ending Date",
    "WEEK",
    "Year"
  )
)

</code></pre>

<hr>
<h2 id='dimension_table'><code>dimension_table</code> S3 class</h2><span id='topic+dimension_table'></span>

<h3>Description</h3>

<p>A <code>dimension_table</code> object is created, we have to define its
surrogate key.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dimension_table(name = NULL, attributes = NULL, instances = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dimension_table_+3A_name">name</code></td>
<td>
<p>A string, dimension name.</p>
</td></tr>
<tr><td><code id="dimension_table_+3A_attributes">attributes</code></td>
<td>
<p>A vector of strings, attributes names.</p>
</td></tr>
<tr><td><code id="dimension_table_+3A_instances">instances</code></td>
<td>
<p>A flat table with the dimension instances.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>dimension_table</code> object.
</p>

<hr>
<h2 id='draw_tables'>Draw tables</h2><span id='topic+draw_tables'></span><span id='topic+draw_tables.star_database'></span>

<h3>Description</h3>

<p>Draw the tables of the ROLAP star diagrams.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>draw_tables(db)

## S3 method for class 'star_database'
draw_tables(db)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="draw_tables_+3A_db">db</code></td>
<td>
<p>A <code>star_database</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object with a <code>print()</code> method.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+star_database">star_database</a></code>
</p>
<p>Other star database exportation functions: 
<code><a href="#topic+as_csv_files">as_csv_files</a>()</code>,
<code><a href="#topic+as_dm_class">as_dm_class</a>()</code>,
<code><a href="#topic+as_multistar">as_multistar</a>()</code>,
<code><a href="#topic+as_rdb">as_rdb</a>()</code>,
<code><a href="#topic+as_single_tibble_list">as_single_tibble_list</a>()</code>,
<code><a href="#topic+as_tibble_list">as_tibble_list</a>()</code>,
<code><a href="#topic+as_xlsx_file">as_xlsx_file</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
db &lt;- star_database(mrs_cause_schema, ft_num) |&gt;
  snake_case()

db |&gt;
  draw_tables()


</code></pre>

<hr>
<h2 id='fact_schema'><code>fact_schema</code> S3 class</h2><span id='topic+fact_schema'></span>

<h3>Description</h3>

<p>A <code>fact_schema</code> object is created, the essential data is a name and
a set of measures that can be empty (does not have explicit measures).
It is part of a <code>star_schema</code> object, defines the facts of the star schema.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fact_schema(
  name = NULL,
  measures = NULL,
  agg_functions = NULL,
  nrow_agg = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fact_schema_+3A_name">name</code></td>
<td>
<p>A string, name of the fact.</p>
</td></tr>
<tr><td><code id="fact_schema_+3A_measures">measures</code></td>
<td>
<p>A vector of measure names.</p>
</td></tr>
<tr><td><code id="fact_schema_+3A_agg_functions">agg_functions</code></td>
<td>
<p>A vector of aggregation function names, each one for its
corresponding measure. If none is indicated, the default is SUM. Additionally
they can be MAX or MIN.</p>
</td></tr>
<tr><td><code id="fact_schema_+3A_nrow_agg">nrow_agg</code></td>
<td>
<p>A string, name of a new measure that represents the COUNT
of rows aggregated for each resulting row.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Associated with each measure there is an aggregation function that can be
SUM, MAX or MIN. AVG is not considered among the possible aggregation
functions: The reason is that calculating AVG by considering subsets of
data does not necessarily yield the AVG of the total data.
</p>
<p>An additional measure corresponding to the COUNT of aggregated rows is added
which, together with SUM, allows us to obtain the AVG if needed.
</p>


<h3>Value</h3>

<p>A <code>fact_schema</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+star_database">star_database</a></code>
</p>
<p>Other star schema definition functions: 
<code><a href="#topic+define_dimension">define_dimension</a>()</code>,
<code><a href="#topic+define_facts">define_facts</a>()</code>,
<code><a href="#topic+dimension_schema">dimension_schema</a>()</code>,
<code><a href="#topic+star_schema">star_schema</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
f &lt;- fact_schema(
  name = "mrs_cause",
  measures = c(
    "Pneumonia and Influenza Deaths",
    "Other Deaths"
  )
)

f &lt;- fact_schema(
  name = "mrs_cause",
  measures = c(
    "Pneumonia and Influenza Deaths",
    "Other Deaths"
  ),
  agg_functions = c(
    "MAX",
    "SUM"
  ),
  nrow_agg = "Nrow"
)

</code></pre>

<hr>
<h2 id='fact_table'><code>fact_table</code> S3 class</h2><span id='topic+fact_table'></span>

<h3>Description</h3>

<p>A <code>fact_table</code> object is created, we have to get its
surrogate keys.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fact_table(
  name = NULL,
  surrogate_keys = NULL,
  agg = NULL,
  dim_int_names = NULL,
  instances = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fact_table_+3A_name">name</code></td>
<td>
<p>A string, fact name.</p>
</td></tr>
<tr><td><code id="fact_table_+3A_surrogate_keys">surrogate_keys</code></td>
<td>
<p>A vector of strings, surrogate key names.</p>
</td></tr>
<tr><td><code id="fact_table_+3A_agg">agg</code></td>
<td>
<p>A vector of strings, aggregation functions.</p>
</td></tr>
<tr><td><code id="fact_table_+3A_dim_int_names">dim_int_names</code></td>
<td>
<p>A vector of strings, internal names of dimensions.</p>
</td></tr>
<tr><td><code id="fact_table_+3A_instances">instances</code></td>
<td>
<p>A flat table with the fact instances.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>fact_table</code> object.
</p>

<hr>
<h2 id='filter_dimension'>Filter dimension</h2><span id='topic+filter_dimension'></span><span id='topic+filter_dimension.star_query'></span>

<h3>Description</h3>

<p>Allows you to define selection conditions for dimension rows.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>filter_dimension(sq, name, ...)

## S3 method for class 'star_query'
filter_dimension(sq, name = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="filter_dimension_+3A_sq">sq</code></td>
<td>
<p>A <code>star_query</code> object.</p>
</td></tr>
<tr><td><code id="filter_dimension_+3A_name">name</code></td>
<td>
<p>A string, name of the dimension.</p>
</td></tr>
<tr><td><code id="filter_dimension_+3A_...">...</code></td>
<td>
<p>Conditions, defined in exactly the same way as in <code>dplyr::filter</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Conditions can be defined on any attribute of the dimension (not only on
attributes selected in the query for the dimension). The selection is made
based on the function <code>dplyr::filter</code>. Conditions are defined in exactly the
same way as in that function.
</p>


<h3>Value</h3>

<p>A <code>star_query</code> object.
</p>


<h3>See Also</h3>

<p>Other query functions: 
<code><a href="#topic+as_GeoPackage">as_GeoPackage</a>()</code>,
<code><a href="#topic+as_geolayer">as_geolayer</a>()</code>,
<code><a href="#topic+get_layer">get_layer</a>()</code>,
<code><a href="#topic+get_variable_description">get_variable_description</a>()</code>,
<code><a href="#topic+get_variables">get_variables</a>()</code>,
<code><a href="#topic+run_query">run_query</a>()</code>,
<code><a href="#topic+select_dimension">select_dimension</a>()</code>,
<code><a href="#topic+select_fact">select_fact</a>()</code>,
<code><a href="#topic+set_layer">set_layer</a>()</code>,
<code><a href="#topic+set_variables">set_variables</a>()</code>,
<code><a href="#topic+star_query">star_query</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
sq &lt;- mrs_db |&gt;
  star_query() |&gt;
  filter_dimension(name = "when", week &lt;= " 3") |&gt;
  filter_dimension(name = "where", city == "Cambridge")

</code></pre>

<hr>
<h2 id='filter_geo_attributes'>From attributes, leave only these contained in dimensions</h2><span id='topic+filter_geo_attributes'></span>

<h3>Description</h3>

<p>From attributes, leave only these contained in dimensions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>filter_geo_attributes(db)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="filter_geo_attributes_+3A_db">db</code></td>
<td>
<p>A <code>star_database</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of geodimensions.
</p>

<hr>
<h2 id='filter_geo_dimensions'>From geodimensions, leave only contained in vector of names</h2><span id='topic+filter_geo_dimensions'></span>

<h3>Description</h3>

<p>From geodimensions, leave only contained in vector of names
</p>


<h3>Usage</h3>

<pre><code class='language-R'>filter_geo_dimensions(db, dim)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="filter_geo_dimensions_+3A_db">db</code></td>
<td>
<p>A <code>star_database</code> object.</p>
</td></tr>
<tr><td><code id="filter_geo_dimensions_+3A_dim">dim</code></td>
<td>
<p>A vector of strings, dimension names.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of geodimensions.
</p>

<hr>
<h2 id='filter_rpd_dimensions'>From rpd dimensions, leave only contained in vector of names.</h2><span id='topic+filter_rpd_dimensions'></span>

<h3>Description</h3>

<p>From rpd dimensions, leave only contained in vector of names.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>filter_rpd_dimensions(db, names)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="filter_rpd_dimensions_+3A_db">db</code></td>
<td>
<p>A <code>star_database</code> object.</p>
</td></tr>
<tr><td><code id="filter_rpd_dimensions_+3A_names">names</code></td>
<td>
<p>A vector of strings, dimension names.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of vectors of dimension names.
</p>

<hr>
<h2 id='flat_table'><code>flat_table</code> S3 class</h2><span id='topic+flat_table'></span>

<h3>Description</h3>

<p>Creates a <code>flat_table</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>flat_table(name = NULL, instances, unknown_value = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="flat_table_+3A_name">name</code></td>
<td>
<p>A string.</p>
</td></tr>
<tr><td><code id="flat_table_+3A_instances">instances</code></td>
<td>
<p>A <code>tibble</code>, table of instances.</p>
</td></tr>
<tr><td><code id="flat_table_+3A_unknown_value">unknown_value</code></td>
<td>
<p>A string, value used to replace empty and NA values in
attributes.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The objective is to allow the transformation of flat tables.
</p>
<p>We indicate the name of the flat table and we can also give the value that
will be used to replace NA or empty values.
</p>


<h3>Value</h3>

<p>A <code>flat_table</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+star_database">star_database</a></code>
</p>
<p>Other flat table definition functions: 
<code><a href="#topic+as_star_database">as_star_database</a>()</code>,
<code><a href="#topic+get_table">get_table</a>()</code>,
<code><a href="#topic+get_unknown_value_defined">get_unknown_value_defined</a>()</code>,
<code><a href="#topic+get_unknown_values">get_unknown_values</a>()</code>,
<code><a href="#topic+read_flat_table_file">read_flat_table_file</a>()</code>,
<code><a href="#topic+read_flat_table_folder">read_flat_table_folder</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ft &lt;- flat_table('iris', iris)

ft &lt;- flat_table('ft_num', ft_num)

</code></pre>

<hr>
<h2 id='ft'>Mortality Reporting System</h2><span id='topic+ft'></span>

<h3>Description</h3>

<p>Selection of 20 rows from the 122 Cities Mortality Reporting System.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ft
</code></pre>


<h3>Format</h3>

<p>A <code>tibble</code>.
</p>


<h3>Details</h3>

<p>The original dataset covers from 1962 to 2016. For each week, in 122 US cities,
mortality figures by age group and cause, considered separately, are included.
In the cause, only a distinction is made between pneumonia or influenza and
others.
</p>


<h3>Source</h3>

<p><a href="https://catalog.data.gov/dataset/deaths-in-122-u-s-cities-1962-2016-122-cities-mortality-reporting-system">https://catalog.data.gov/dataset/deaths-in-122-u-s-cities-1962-2016-122-cities-mortality-reporting-system</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+mrs_cause_schema">mrs_cause_schema</a></code>
</p>
<p>Other mrs example data: 
<code><a href="#topic+ft_age_rpd">ft_age_rpd</a></code>,
<code><a href="#topic+ft_age">ft_age</a></code>,
<code><a href="#topic+ft_cause_rpd">ft_cause_rpd</a></code>,
<code><a href="#topic+ft_num">ft_num</a></code>,
<code><a href="#topic+mrs_db_geo">mrs_db_geo</a></code>,
<code><a href="#topic+mrs_db">mrs_db</a></code>,
<code><a href="#topic+mrs_ft_new">mrs_ft_new</a></code>,
<code><a href="#topic+mrs_ft">mrs_ft</a></code>
</p>

<hr>
<h2 id='ft_age'>Mortality Reporting System by Age Group</h2><span id='topic+ft_age'></span>

<h3>Description</h3>

<p>Selection data from the 122 Cities Mortality Reporting System by age group.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ft_age
</code></pre>


<h3>Format</h3>

<p>A <code>tibble</code>.
</p>


<h3>Details</h3>

<p>The original dataset covers from 1962 to 2016. For each week, in 122 US cities,
mortality figures by age group and cause, considered separately, are included.
</p>


<h3>Source</h3>

<p><a href="https://catalog.data.gov/dataset/deaths-in-122-u-s-cities-1962-2016-122-cities-mortality-reporting-system">https://catalog.data.gov/dataset/deaths-in-122-u-s-cities-1962-2016-122-cities-mortality-reporting-system</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+mrs_age_schema">mrs_age_schema</a></code>
</p>
<p>Other mrs example data: 
<code><a href="#topic+ft_age_rpd">ft_age_rpd</a></code>,
<code><a href="#topic+ft_cause_rpd">ft_cause_rpd</a></code>,
<code><a href="#topic+ft_num">ft_num</a></code>,
<code><a href="#topic+ft">ft</a></code>,
<code><a href="#topic+mrs_db_geo">mrs_db_geo</a></code>,
<code><a href="#topic+mrs_db">mrs_db</a></code>,
<code><a href="#topic+mrs_ft_new">mrs_ft_new</a></code>,
<code><a href="#topic+mrs_ft">mrs_ft</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># The operations to obtain it from the `ft` data set are:

if (rlang::is_installed("stringr")) {
  ft_age &lt;- ft |&gt;
    dplyr::select(-`Pneumonia and Influenza Deaths`, -`All Deaths`) |&gt;
    tidyr::gather("Age", "All Deaths", 7:11) |&gt;
    dplyr::mutate(`All Deaths` = as.integer(`All Deaths`)) |&gt;
    dplyr::mutate(Age = stringr::str_replace(Age, " \\(all cause deaths\\)", ""))
}

</code></pre>

<hr>
<h2 id='ft_age_rpd'>Mortality Reporting System by Age</h2><span id='topic+ft_age_rpd'></span>

<h3>Description</h3>

<p>Selection of data from the 122 Cities Mortality Reporting System by age
group, for the first 9 weeks of 1962 and 4 cities.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ft_age_rpd
</code></pre>


<h3>Format</h3>

<p>A <code>tibble</code>.
</p>


<h3>Details</h3>

<p>The original dataset begins in 1962. For each week, in 122 US cities,
mortality figures by age group and cause, considered separately, are included
(i.e., the combination of age group and cause is not included). In the cause,
only a distinction is made between pneumonia or influenza and others.
</p>
<p>Two additional dates have been generated, which were not present in the
original dataset.
</p>


<h3>Source</h3>

<p><a href="https://catalog.data.gov/dataset/deaths-in-122-u-s-cities-1962-2016-122-cities-mortality-reporting-system">https://catalog.data.gov/dataset/deaths-in-122-u-s-cities-1962-2016-122-cities-mortality-reporting-system</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+mrs_age_schema">mrs_age_schema</a></code>
</p>
<p>Other mrs example data: 
<code><a href="#topic+ft_age">ft_age</a></code>,
<code><a href="#topic+ft_cause_rpd">ft_cause_rpd</a></code>,
<code><a href="#topic+ft_num">ft_num</a></code>,
<code><a href="#topic+ft">ft</a></code>,
<code><a href="#topic+mrs_db_geo">mrs_db_geo</a></code>,
<code><a href="#topic+mrs_db">mrs_db</a></code>,
<code><a href="#topic+mrs_ft_new">mrs_ft_new</a></code>,
<code><a href="#topic+mrs_ft">mrs_ft</a></code>
</p>

<hr>
<h2 id='ft_cause_rpd'>Mortality Reporting System by Cause</h2><span id='topic+ft_cause_rpd'></span>

<h3>Description</h3>

<p>Selection of data from the 122 Cities Mortality Reporting System by cause,
for the first 9 weeks of 1962 and 4 cities.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ft_cause_rpd
</code></pre>


<h3>Format</h3>

<p>A <code>tibble</code>.
</p>


<h3>Details</h3>

<p>The original dataset begins in 1962. For each week, in 122 US cities,
mortality figures by age group and cause, considered separately, are included
(i.e., the combination of age group and cause is not included). In the cause,
only a distinction is made between pneumonia or influenza and others.
</p>
<p>Two additional dates have been generated, which were not present in the
original dataset.
</p>


<h3>Source</h3>

<p><a href="https://catalog.data.gov/dataset/deaths-in-122-u-s-cities-1962-2016-122-cities-mortality-reporting-system">https://catalog.data.gov/dataset/deaths-in-122-u-s-cities-1962-2016-122-cities-mortality-reporting-system</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+mrs_cause_schema">mrs_cause_schema</a></code>
</p>
<p>Other mrs example data: 
<code><a href="#topic+ft_age_rpd">ft_age_rpd</a></code>,
<code><a href="#topic+ft_age">ft_age</a></code>,
<code><a href="#topic+ft_num">ft_num</a></code>,
<code><a href="#topic+ft">ft</a></code>,
<code><a href="#topic+mrs_db_geo">mrs_db_geo</a></code>,
<code><a href="#topic+mrs_db">mrs_db</a></code>,
<code><a href="#topic+mrs_ft_new">mrs_ft_new</a></code>,
<code><a href="#topic+mrs_ft">mrs_ft</a></code>
</p>

<hr>
<h2 id='ft_num'>Mortality Reporting System with numerical measures</h2><span id='topic+ft_num'></span>

<h3>Description</h3>

<p>Selection of 20 rows from the 122 Cities Mortality Reporting System. Measures
have been defined as integer values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ft_num
</code></pre>


<h3>Format</h3>

<p>A <code>tibble</code>.
</p>


<h3>Details</h3>

<p>The original dataset covers from 1962 to 2016. For each week, in 122 US cities,
mortality figures by age group and cause, considered separately, are included.
In the cause, only a distinction is made between pneumonia or influenza and
others.
</p>


<h3>Source</h3>

<p><a href="https://catalog.data.gov/dataset/deaths-in-122-u-s-cities-1962-2016-122-cities-mortality-reporting-system">https://catalog.data.gov/dataset/deaths-in-122-u-s-cities-1962-2016-122-cities-mortality-reporting-system</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+mrs_cause_schema">mrs_cause_schema</a></code>
</p>
<p>Other mrs example data: 
<code><a href="#topic+ft_age_rpd">ft_age_rpd</a></code>,
<code><a href="#topic+ft_age">ft_age</a></code>,
<code><a href="#topic+ft_cause_rpd">ft_cause_rpd</a></code>,
<code><a href="#topic+ft">ft</a></code>,
<code><a href="#topic+mrs_db_geo">mrs_db_geo</a></code>,
<code><a href="#topic+mrs_db">mrs_db</a></code>,
<code><a href="#topic+mrs_ft_new">mrs_ft_new</a></code>,
<code><a href="#topic+mrs_ft">mrs_ft</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># The operations to obtain it from the `ft` data set are:

ft_num &lt;- ft |&gt;
  dplyr::mutate(`Pneumonia and Influenza Deaths` = as.integer(`Pneumonia and Influenza Deaths`)) |&gt;
  dplyr::mutate(`All Deaths` = as.integer(`All Deaths`))

</code></pre>

<hr>
<h2 id='generate_refresh_sql'>Generate refresh sql</h2><span id='topic+generate_refresh_sql'></span>

<h3>Description</h3>

<p>Generate sql code for the first refresh operation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>generate_refresh_sql(refresh)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="generate_refresh_sql_+3A_refresh">refresh</code></td>
<td>
<p>A list of operations over tables.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of strings.
</p>

<hr>
<h2 id='generate_table_sql_delete'>Generate table sql delete</h2><span id='topic+generate_table_sql_delete'></span>

<h3>Description</h3>

<p>Generate sql code for deleting instances in a table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>generate_table_sql_delete(table, instances)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="generate_table_sql_delete_+3A_table">table</code></td>
<td>
<p>A string, table name.</p>
</td></tr>
<tr><td><code id="generate_table_sql_delete_+3A_instances">instances</code></td>
<td>
<p>A <code>tibble</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of strings.
</p>

<hr>
<h2 id='generate_table_sql_insert'>Generate table sql insert</h2><span id='topic+generate_table_sql_insert'></span>

<h3>Description</h3>

<p>Generate sql code for inserting a table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>generate_table_sql_insert(table, instances)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="generate_table_sql_insert_+3A_table">table</code></td>
<td>
<p>A string, table name.</p>
</td></tr>
<tr><td><code id="generate_table_sql_insert_+3A_instances">instances</code></td>
<td>
<p>A <code>tibble</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string.
</p>

<hr>
<h2 id='generate_table_sql_update'>Generate table sql update</h2><span id='topic+generate_table_sql_update'></span>

<h3>Description</h3>

<p>Generate sql code for updating a table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>generate_table_sql_update(table, surrogate_keys, instances)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="generate_table_sql_update_+3A_table">table</code></td>
<td>
<p>A string, table name.</p>
</td></tr>
<tr><td><code id="generate_table_sql_update_+3A_surrogate_keys">surrogate_keys</code></td>
<td>
<p>A string.</p>
</td></tr>
<tr><td><code id="generate_table_sql_update_+3A_instances">instances</code></td>
<td>
<p>A <code>tibble</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of strings.
</p>

<hr>
<h2 id='get_agg_functions.fact_schema'>Get aggregate functions</h2><span id='topic+get_agg_functions.fact_schema'></span>

<h3>Description</h3>

<p>Get aggregate functions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'fact_schema'
get_agg_functions(schema)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_agg_functions.fact_schema_+3A_schema">schema</code></td>
<td>
<p>A <code>fact_schema</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of strings.
</p>

<hr>
<h2 id='get_all_dimension_operations'>Gets the operations performed on a dimension in all <code>star_database</code> objects</h2><span id='topic+get_all_dimension_operations'></span>

<h3>Description</h3>

<p>Gets the operations performed on a dimension in all <code>star_database</code> objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_all_dimension_operations(op_name, name, stars)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_all_dimension_operations_+3A_op_name">op_name</code></td>
<td>
<p>A string, operation name.</p>
</td></tr>
<tr><td><code id="get_all_dimension_operations_+3A_name">name</code></td>
<td>
<p>A string, element name.</p>
</td></tr>
<tr><td><code id="get_all_dimension_operations_+3A_stars">stars</code></td>
<td>
<p>A list of <code>star_database</code> objects.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>star_operations</code> object.
</p>

<hr>
<h2 id='get_attribute_names_schema.dimension_schema'>Get attribute names</h2><span id='topic+get_attribute_names_schema.dimension_schema'></span>

<h3>Description</h3>

<p>Get the attribute names.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'dimension_schema'
get_attribute_names_schema(schema)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_attribute_names_schema.dimension_schema_+3A_schema">schema</code></td>
<td>
<p>A <code>dimension_schema</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string.
</p>

<hr>
<h2 id='get_attribute_names_schema.star_schema'>Get attribute names</h2><span id='topic+get_attribute_names_schema.star_schema'></span>

<h3>Description</h3>

<p>Get the attribute names.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'star_schema'
get_attribute_names_schema(schema)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_attribute_names_schema.star_schema_+3A_schema">schema</code></td>
<td>
<p>A <code>dimension_schema</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string.
</p>

<hr>
<h2 id='get_attribute_names.flat_table'>Get the names of the attributes</h2><span id='topic+get_attribute_names.flat_table'></span><span id='topic+get_attribute_names'></span><span id='topic+get_attribute_names.star_database'></span>

<h3>Description</h3>

<p>Obtain the names of the attributes in a flat table or a dimension in a star
database.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'flat_table'
get_attribute_names(db, name = NULL, ordered = FALSE, as_definition = FALSE)

get_attribute_names(db, name, ordered, as_definition)

## S3 method for class 'star_database'
get_attribute_names(db, name, ordered = FALSE, as_definition = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_attribute_names.flat_table_+3A_db">db</code></td>
<td>
<p>A <code>flat_table</code> or <code>star_database</code> object.</p>
</td></tr>
<tr><td><code id="get_attribute_names.flat_table_+3A_name">name</code></td>
<td>
<p>A string, dimension name.</p>
</td></tr>
<tr><td><code id="get_attribute_names.flat_table_+3A_ordered">ordered</code></td>
<td>
<p>A boolean, sort names alphabetically.</p>
</td></tr>
<tr><td><code id="get_attribute_names.flat_table_+3A_as_definition">as_definition</code></td>
<td>
<p>A boolean, get the names as a vector definition in R.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If indicated, names can be obtained in alphabetical order or as a vector
definition in R
</p>


<h3>Value</h3>

<p>A vector of strings or a string, attribute names.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+star_database">star_database</a></code>, <code><a href="#topic+flat_table">flat_table</a></code>
</p>
<p>Other star database and flat table functions: 
<code><a href="#topic+get_measure_names.flat_table">get_measure_names.flat_table</a>()</code>,
<code><a href="#topic+get_similar_attribute_values.flat_table">get_similar_attribute_values.flat_table</a>()</code>,
<code><a href="#topic+get_similar_attribute_values_individually.flat_table">get_similar_attribute_values_individually.flat_table</a>()</code>,
<code><a href="#topic+get_unique_attribute_values.flat_table">get_unique_attribute_values.flat_table</a>()</code>,
<code><a href="#topic+replace_attribute_values.flat_table">replace_attribute_values.flat_table</a>()</code>,
<code><a href="#topic+set_attribute_names.flat_table">set_attribute_names.flat_table</a>()</code>,
<code><a href="#topic+set_measure_names.flat_table">set_measure_names.flat_table</a>()</code>,
<code><a href="#topic+snake_case.flat_table">snake_case.flat_table</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
names &lt;- star_database(mrs_cause_schema, ft_num) |&gt;
  get_attribute_names(name = "where")

names &lt;- flat_table('iris', iris) |&gt;
  get_attribute_names()

</code></pre>

<hr>
<h2 id='get_default_unknown_value'>get default unknown value</h2><span id='topic+get_default_unknown_value'></span>

<h3>Description</h3>

<p>get default unknown value
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_default_unknown_value()
</code></pre>


<h3>Value</h3>

<p>A string.
</p>

<hr>
<h2 id='get_deployment_names'>Get the names of the facts of a star database</h2><span id='topic+get_deployment_names'></span><span id='topic+get_deployment_names.star_database'></span>

<h3>Description</h3>

<p>Obtain the names of the facts of a star database.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_deployment_names(db)

## S3 method for class 'star_database'
get_deployment_names(db)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_deployment_names_+3A_db">db</code></td>
<td>
<p>A <code>star_database</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of strings, fact names.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+star_database">star_database</a></code>
</p>
<p>Other star database deployment functions: 
<code><a href="#topic+cancel_deployment">cancel_deployment</a>()</code>,
<code><a href="#topic+deploy">deploy</a>()</code>,
<code><a href="#topic+load_star_database">load_star_database</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

mrs_rdb_file &lt;- tempfile("mrs", fileext = ".rdb")
mrs_sqlite_file &lt;- tempfile("mrs", fileext = ".sqlite")

mrs_sqlite_connect &lt;- function() {
  DBI::dbConnect(RSQLite::SQLite(),
                 dbname = mrs_sqlite_file)
}

mrs_db &lt;- mrs_db |&gt;
  deploy(
    name = "mrs",
    connect = mrs_sqlite_connect,
    file = mrs_rdb_file
  )

names &lt;- mrs_db |&gt;
  get_deployment_names()

</code></pre>

<hr>
<h2 id='get_dimension_names'>Get the names of the dimensions of a star database</h2><span id='topic+get_dimension_names'></span><span id='topic+get_dimension_names.star_database'></span>

<h3>Description</h3>

<p>Obtain the names of the dimensions of a star database.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_dimension_names(db, star)

## S3 method for class 'star_database'
get_dimension_names(db, star = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_dimension_names_+3A_db">db</code></td>
<td>
<p>A <code>star_database</code> object.</p>
</td></tr>
<tr><td><code id="get_dimension_names_+3A_star">star</code></td>
<td>
<p>A string or integer, star database name or index in constellation.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of strings, dimension names.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+star_schema">star_schema</a></code>, <code><a href="#topic+flat_table">flat_table</a></code>
</p>
<p>Other star database definition functions: 
<code><a href="#topic+get_dimension_table">get_dimension_table</a>()</code>,
<code><a href="#topic+get_fact_names">get_fact_names</a>()</code>,
<code><a href="#topic+get_role_playing_dimension_names">get_role_playing_dimension_names</a>()</code>,
<code><a href="#topic+get_table_names">get_table_names</a>()</code>,
<code><a href="#topic+group_dimension_instances">group_dimension_instances</a>()</code>,
<code><a href="#topic+role_playing_dimension">role_playing_dimension</a>()</code>,
<code><a href="#topic+star_database">star_database</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
names &lt;- star_database(mrs_cause_schema, ft_num) |&gt;
  get_dimension_names()

</code></pre>

<hr>
<h2 id='get_dimension_table'>Get dimension table</h2><span id='topic+get_dimension_table'></span><span id='topic+get_dimension_table.star_database'></span>

<h3>Description</h3>

<p>Get the table for the dimension indicated by its name.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_dimension_table(db, name)

## S3 method for class 'star_database'
get_dimension_table(db, name = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_dimension_table_+3A_db">db</code></td>
<td>
<p>A <code>star_database</code> object.</p>
</td></tr>
<tr><td><code id="get_dimension_table_+3A_name">name</code></td>
<td>
<p>A string, dimension name.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>tibble</code>, dimension table.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+star_schema">star_schema</a></code>, <code><a href="#topic+flat_table">flat_table</a></code>
</p>
<p>Other star database definition functions: 
<code><a href="#topic+get_dimension_names">get_dimension_names</a>()</code>,
<code><a href="#topic+get_fact_names">get_fact_names</a>()</code>,
<code><a href="#topic+get_role_playing_dimension_names">get_role_playing_dimension_names</a>()</code>,
<code><a href="#topic+get_table_names">get_table_names</a>()</code>,
<code><a href="#topic+group_dimension_instances">group_dimension_instances</a>()</code>,
<code><a href="#topic+role_playing_dimension">role_playing_dimension</a>()</code>,
<code><a href="#topic+star_database">star_database</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
table &lt;- star_database(mrs_cause_schema, ft_num) |&gt;
  get_dimension_table("where")

</code></pre>

<hr>
<h2 id='get_existing_fact_instances'>Get existing fact instances</h2><span id='topic+get_existing_fact_instances'></span><span id='topic+get_existing_fact_instances.star_database_update'></span>

<h3>Description</h3>

<p>From the planned update, it obtains the instances of the update facts that
are already included in the star database facts to be updated.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_existing_fact_instances(sdbu)

## S3 method for class 'star_database_update'
get_existing_fact_instances(sdbu)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_existing_fact_instances_+3A_sdbu">sdbu</code></td>
<td>
<p>A <code>star_database_update</code> object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The most common thing is that refresh operations only include new instances
in fact tables, but it may be the case that repeated instances appear: They
may have different values in the measures, but the same values in the dimension
foreign keys. When the update occurs, we need to determine what happens to
these instances.
</p>


<h3>Value</h3>

<p>A <code>tibble</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+star_database">star_database</a></code>
</p>
<p>Other star database refresh functions: 
<code><a href="#topic+get_lookup_tables">get_lookup_tables</a>()</code>,
<code><a href="#topic+get_new_dimension_instances">get_new_dimension_instances</a>()</code>,
<code><a href="#topic+get_star_database">get_star_database</a>()</code>,
<code><a href="#topic+get_star_schema">get_star_schema</a>()</code>,
<code><a href="#topic+get_transformation_code">get_transformation_code</a>()</code>,
<code><a href="#topic+get_transformation_file">get_transformation_file</a>()</code>,
<code><a href="#topic+incremental_refresh">incremental_refresh</a>()</code>,
<code><a href="#topic+update_according_to">update_according_to</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
f1 &lt;-
  flat_table('ft_num', ft_cause_rpd[ft_cause_rpd$City != 'Cambridge' &amp;
                                      ft_cause_rpd$WEEK != '4',]) |&gt;
  as_star_database(mrs_cause_schema_rpd) |&gt;
  role_playing_dimension(rpd = "When",
                         roles = c("When Available", "When Received"))
f2 &lt;- flat_table('ft_num2', ft_cause_rpd[ft_cause_rpd$City != 'Bridgeport' &amp;
                                           ft_cause_rpd$WEEK != '2',])
f2 &lt;- f2 |&gt;
  update_according_to(f1)
fact_instances &lt;- f2 |&gt;
  get_existing_fact_instances()

</code></pre>

<hr>
<h2 id='get_fact_name.fact_schema'>Get fact name</h2><span id='topic+get_fact_name.fact_schema'></span>

<h3>Description</h3>

<p>Get fact name
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'fact_schema'
get_fact_name(schema)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_fact_name.fact_schema_+3A_schema">schema</code></td>
<td>
<p>A <code>fact_schema</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string.
</p>

<hr>
<h2 id='get_fact_names'>Get the names of the facts of a star database</h2><span id='topic+get_fact_names'></span><span id='topic+get_fact_names.star_database'></span>

<h3>Description</h3>

<p>Obtain the names of the facts of a star database.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_fact_names(db)

## S3 method for class 'star_database'
get_fact_names(db)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_fact_names_+3A_db">db</code></td>
<td>
<p>A <code>star_database</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of strings, fact names.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+star_schema">star_schema</a></code>, <code><a href="#topic+flat_table">flat_table</a></code>
</p>
<p>Other star database definition functions: 
<code><a href="#topic+get_dimension_names">get_dimension_names</a>()</code>,
<code><a href="#topic+get_dimension_table">get_dimension_table</a>()</code>,
<code><a href="#topic+get_role_playing_dimension_names">get_role_playing_dimension_names</a>()</code>,
<code><a href="#topic+get_table_names">get_table_names</a>()</code>,
<code><a href="#topic+group_dimension_instances">group_dimension_instances</a>()</code>,
<code><a href="#topic+role_playing_dimension">role_playing_dimension</a>()</code>,
<code><a href="#topic+star_database">star_database</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
names &lt;- star_database(mrs_cause_schema, ft_num) |&gt;
  get_fact_names()

</code></pre>

<hr>
<h2 id='get_geoattribute_geometries'>Get geoattribute geometries</h2><span id='topic+get_geoattribute_geometries'></span><span id='topic+get_geoattribute_geometries.star_database'></span>

<h3>Description</h3>

<p>For each geoattribute, get its geometries.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_geoattribute_geometries(db, dimension, attribute)

## S3 method for class 'star_database'
get_geoattribute_geometries(db, dimension = NULL, attribute = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_geoattribute_geometries_+3A_db">db</code></td>
<td>
<p>A <code>star_database</code> object.</p>
</td></tr>
<tr><td><code id="get_geoattribute_geometries_+3A_dimension">dimension</code></td>
<td>
<p>A string, dimension name.</p>
</td></tr>
<tr><td><code id="get_geoattribute_geometries_+3A_attribute">attribute</code></td>
<td>
<p>A vector, attribute names.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If the name of the dimension is not indicated, it is considered the first one
that has geoattributes defined.
</p>


<h3>Value</h3>

<p>A vector of strings.
</p>


<h3>See Also</h3>

<p>Other star database geographic attributes: 
<code><a href="#topic+check_geoattribute_geometry">check_geoattribute_geometry</a>()</code>,
<code><a href="#topic+define_geoattribute">define_geoattribute</a>()</code>,
<code><a href="#topic+get_geoattributes">get_geoattributes</a>()</code>,
<code><a href="#topic+get_layer_geometry">get_layer_geometry</a>()</code>,
<code><a href="#topic+get_point_geometry">get_point_geometry</a>()</code>,
<code><a href="#topic+summarize_layer">summarize_layer</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
db &lt;- mrs_db |&gt;
  define_geoattribute(
    dimension = "where",
    attribute = "state",
    from_layer = us_layer_state,
    by = "STUSPS"
  )

geometries &lt;- db |&gt;
  get_geoattribute_geometries(
    dimension = "where",
    attribute = "state"
  )

</code></pre>

<hr>
<h2 id='get_geoattribute_name'>Get geoattribute name</h2><span id='topic+get_geoattribute_name'></span>

<h3>Description</h3>

<p>Get the name of the geoattribute from a vector of attribute names
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_geoattribute_name(attribute)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_geoattribute_name_+3A_attribute">attribute</code></td>
<td>
<p>A vector, attribute names.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string.
</p>

<hr>
<h2 id='get_geoattributes'>Get geoattributes</h2><span id='topic+get_geoattributes'></span><span id='topic+get_geoattributes.star_database'></span>

<h3>Description</h3>

<p>For each dimension, get a list of available geoattributes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_geoattributes(db)

## S3 method for class 'star_database'
get_geoattributes(db)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_geoattributes_+3A_db">db</code></td>
<td>
<p>A <code>star_database</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of dimension geoattributes.
</p>


<h3>See Also</h3>

<p>Other star database geographic attributes: 
<code><a href="#topic+check_geoattribute_geometry">check_geoattribute_geometry</a>()</code>,
<code><a href="#topic+define_geoattribute">define_geoattribute</a>()</code>,
<code><a href="#topic+get_geoattribute_geometries">get_geoattribute_geometries</a>()</code>,
<code><a href="#topic+get_layer_geometry">get_layer_geometry</a>()</code>,
<code><a href="#topic+get_point_geometry">get_point_geometry</a>()</code>,
<code><a href="#topic+summarize_layer">summarize_layer</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
db &lt;- mrs_db |&gt;
  define_geoattribute(
    dimension = "where",
    attribute = "state",
    from_layer = us_layer_state,
    by = "STUSPS"
  )

attributes &lt;- db |&gt;
    get_geoattributes()

</code></pre>

<hr>
<h2 id='get_layer'>Get geographic information layer</h2><span id='topic+get_layer'></span><span id='topic+get_layer.geolayer'></span>

<h3>Description</h3>

<p>Get the geographic information layer from a <code>geolayer</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_layer(gl, keep_all_variables_na)

## S3 method for class 'geolayer'
get_layer(gl, keep_all_variables_na = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_layer_+3A_gl">gl</code></td>
<td>
<p>A <code>geolayer</code> object.</p>
</td></tr>
<tr><td><code id="get_layer_+3A_keep_all_variables_na">keep_all_variables_na</code></td>
<td>
<p>A boolean, keep rows with all variables NA.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>By default, rows that are NA for all variables are eliminated.
</p>


<h3>Value</h3>

<p>A <code>sf</code> object.
</p>


<h3>See Also</h3>

<p>Other query functions: 
<code><a href="#topic+as_GeoPackage">as_GeoPackage</a>()</code>,
<code><a href="#topic+as_geolayer">as_geolayer</a>()</code>,
<code><a href="#topic+filter_dimension">filter_dimension</a>()</code>,
<code><a href="#topic+get_variable_description">get_variable_description</a>()</code>,
<code><a href="#topic+get_variables">get_variables</a>()</code>,
<code><a href="#topic+run_query">run_query</a>()</code>,
<code><a href="#topic+select_dimension">select_dimension</a>()</code>,
<code><a href="#topic+select_fact">select_fact</a>()</code>,
<code><a href="#topic+set_layer">set_layer</a>()</code>,
<code><a href="#topic+set_variables">set_variables</a>()</code>,
<code><a href="#topic+star_query">star_query</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
gl &lt;- mrs_db_geo |&gt;
  as_geolayer()

l &lt;- gl |&gt;
  get_layer()

</code></pre>

<hr>
<h2 id='get_layer_from_attribute'>Get layer from attribute</h2><span id='topic+get_layer_from_attribute'></span>

<h3>Description</h3>

<p>Gets the geographic layer associated with the from_attribute at the level of
the indicated attributes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_layer_from_attribute(
  db,
  dimension = NULL,
  attribute = NULL,
  from_attribute = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_layer_from_attribute_+3A_db">db</code></td>
<td>
<p>A <code>star_database</code> object.</p>
</td></tr>
<tr><td><code id="get_layer_from_attribute_+3A_dimension">dimension</code></td>
<td>
<p>A string, dimension name.</p>
</td></tr>
<tr><td><code id="get_layer_from_attribute_+3A_attribute">attribute</code></td>
<td>
<p>A string, attribute name.</p>
</td></tr>
<tr><td><code id="get_layer_from_attribute_+3A_from_attribute">from_attribute</code></td>
<td>
<p>A string, attribute name.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>star_database</code> object.
</p>

<hr>
<h2 id='get_layer_geometry'>Get layer geometry</h2><span id='topic+get_layer_geometry'></span>

<h3>Description</h3>

<p>Get the geometry of a layer. It will only be valid if one of the two geometries
is interpreted: <em>point</em> or <em>polygon</em>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_layer_geometry(layer)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_layer_geometry_+3A_layer">layer</code></td>
<td>
<p>A <code>sf</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string.
</p>


<h3>See Also</h3>

<p>Other star database geographic attributes: 
<code><a href="#topic+check_geoattribute_geometry">check_geoattribute_geometry</a>()</code>,
<code><a href="#topic+define_geoattribute">define_geoattribute</a>()</code>,
<code><a href="#topic+get_geoattribute_geometries">get_geoattribute_geometries</a>()</code>,
<code><a href="#topic+get_geoattributes">get_geoattributes</a>()</code>,
<code><a href="#topic+get_point_geometry">get_point_geometry</a>()</code>,
<code><a href="#topic+summarize_layer">summarize_layer</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
geometry &lt;- get_layer_geometry(us_layer_state)

</code></pre>

<hr>
<h2 id='get_lookup_tables'>Get lookup tables</h2><span id='topic+get_lookup_tables'></span><span id='topic+get_lookup_tables.star_database_update'></span>

<h3>Description</h3>

<p>From the planned update, it obtains the lookup tables used to define the data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_lookup_tables(sdbu)

## S3 method for class 'star_database_update'
get_lookup_tables(sdbu)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_lookup_tables_+3A_sdbu">sdbu</code></td>
<td>
<p>A <code>star_database_update</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of <code>flat_table</code> objects.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+star_database">star_database</a></code>
</p>
<p>Other star database refresh functions: 
<code><a href="#topic+get_existing_fact_instances">get_existing_fact_instances</a>()</code>,
<code><a href="#topic+get_new_dimension_instances">get_new_dimension_instances</a>()</code>,
<code><a href="#topic+get_star_database">get_star_database</a>()</code>,
<code><a href="#topic+get_star_schema">get_star_schema</a>()</code>,
<code><a href="#topic+get_transformation_code">get_transformation_code</a>()</code>,
<code><a href="#topic+get_transformation_file">get_transformation_file</a>()</code>,
<code><a href="#topic+incremental_refresh">incremental_refresh</a>()</code>,
<code><a href="#topic+update_according_to">update_according_to</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
f1 &lt;- flat_table('ft_num', ft_cause_rpd) |&gt;
  as_star_database(mrs_cause_schema_rpd)
f2 &lt;- flat_table('ft_num2', ft_cause_rpd) |&gt;
  update_according_to(f1)
ft &lt;- f2 |&gt;
  get_lookup_tables()

</code></pre>

<hr>
<h2 id='get_measure_names_schema.fact_schema'>Get measure names</h2><span id='topic+get_measure_names_schema.fact_schema'></span>

<h3>Description</h3>

<p>Get the names of the measures defined in the fact schema.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'fact_schema'
get_measure_names_schema(schema)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_measure_names_schema.fact_schema_+3A_schema">schema</code></td>
<td>
<p>A <code>fact_schema</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of strings.
</p>

<hr>
<h2 id='get_measure_names_schema.star_schema'>Get measure names</h2><span id='topic+get_measure_names_schema.star_schema'></span>

<h3>Description</h3>

<p>Get the names of the measures defined in the fact schema.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'star_schema'
get_measure_names_schema(schema)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_measure_names_schema.star_schema_+3A_schema">schema</code></td>
<td>
<p>A <code>star_schema</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of strings.
</p>

<hr>
<h2 id='get_measure_names.flat_table'>Get the names of the measures</h2><span id='topic+get_measure_names.flat_table'></span><span id='topic+get_measure_names'></span><span id='topic+get_measure_names.star_database'></span>

<h3>Description</h3>

<p>Obtain the names of the measures in a flat table or in a star database.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'flat_table'
get_measure_names(db, name = NULL, ordered = FALSE, as_definition = FALSE)

get_measure_names(db, name, ordered, as_definition)

## S3 method for class 'star_database'
get_measure_names(db, name = NULL, ordered = FALSE, as_definition = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_measure_names.flat_table_+3A_db">db</code></td>
<td>
<p>A <code>flat_table</code> or <code>star_database</code> object.</p>
</td></tr>
<tr><td><code id="get_measure_names.flat_table_+3A_name">name</code></td>
<td>
<p>A string, dimension name.</p>
</td></tr>
<tr><td><code id="get_measure_names.flat_table_+3A_ordered">ordered</code></td>
<td>
<p>A boolean, sort names alphabetically.</p>
</td></tr>
<tr><td><code id="get_measure_names.flat_table_+3A_as_definition">as_definition</code></td>
<td>
<p>A boolean, get the names as a vector definition in R.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of strings or a string, measure names.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+star_database">star_database</a></code>, <code><a href="#topic+flat_table">flat_table</a></code>
</p>
<p>Other star database and flat table functions: 
<code><a href="#topic+get_attribute_names.flat_table">get_attribute_names.flat_table</a>()</code>,
<code><a href="#topic+get_similar_attribute_values.flat_table">get_similar_attribute_values.flat_table</a>()</code>,
<code><a href="#topic+get_similar_attribute_values_individually.flat_table">get_similar_attribute_values_individually.flat_table</a>()</code>,
<code><a href="#topic+get_unique_attribute_values.flat_table">get_unique_attribute_values.flat_table</a>()</code>,
<code><a href="#topic+replace_attribute_values.flat_table">replace_attribute_values.flat_table</a>()</code>,
<code><a href="#topic+set_attribute_names.flat_table">set_attribute_names.flat_table</a>()</code>,
<code><a href="#topic+set_measure_names.flat_table">set_measure_names.flat_table</a>()</code>,
<code><a href="#topic+snake_case.flat_table">snake_case.flat_table</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
names &lt;- star_database(mrs_cause_schema, ft_num) |&gt;
  get_measure_names()

names &lt;- flat_table('iris', iris) |&gt;
  get_measure_names()

</code></pre>

<hr>
<h2 id='get_new_dimension_instances'>Get new dimension instances</h2><span id='topic+get_new_dimension_instances'></span><span id='topic+get_new_dimension_instances.star_database_update'></span>

<h3>Description</h3>

<p>From the planned update, it obtains the instances of the update dimensions
that are not included in the star database dimensions to be updated.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_new_dimension_instances(sdbu)

## S3 method for class 'star_database_update'
get_new_dimension_instances(sdbu)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_new_dimension_instances_+3A_sdbu">sdbu</code></td>
<td>
<p>A <code>star_database_update</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of <code>tibble</code> objects.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+star_database">star_database</a></code>
</p>
<p>Other star database refresh functions: 
<code><a href="#topic+get_existing_fact_instances">get_existing_fact_instances</a>()</code>,
<code><a href="#topic+get_lookup_tables">get_lookup_tables</a>()</code>,
<code><a href="#topic+get_star_database">get_star_database</a>()</code>,
<code><a href="#topic+get_star_schema">get_star_schema</a>()</code>,
<code><a href="#topic+get_transformation_code">get_transformation_code</a>()</code>,
<code><a href="#topic+get_transformation_file">get_transformation_file</a>()</code>,
<code><a href="#topic+incremental_refresh">incremental_refresh</a>()</code>,
<code><a href="#topic+update_according_to">update_according_to</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
f1 &lt;-
  flat_table('ft_num', ft_cause_rpd[ft_cause_rpd$City != 'Cambridge' &amp;
                                      ft_cause_rpd$WEEK != '4',]) |&gt;
  as_star_database(mrs_cause_schema_rpd) |&gt;
  role_playing_dimension(rpd = "When",
                         roles = c("When Available", "When Received"))
f2 &lt;- flat_table('ft_num2', ft_cause_rpd[ft_cause_rpd$City != 'Bridgeport' &amp;
                                           ft_cause_rpd$WEEK != '2',])
f2 &lt;- f2 |&gt;
  update_according_to(f1)
dim_instances &lt;- f2 |&gt;
  get_new_dimension_instances()

</code></pre>

<hr>
<h2 id='get_next_operation'>A <code>star_operation</code> object row is returned, the one following the actual given</h2><span id='topic+get_next_operation'></span>

<h3>Description</h3>

<p>A <code>star_operation</code> object row is returned, the one following the actual given
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_next_operation(op, op_name, name = NULL, actual = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_next_operation_+3A_op">op</code></td>
<td>
<p>A <code>star_operation</code> object.</p>
</td></tr>
<tr><td><code id="get_next_operation_+3A_op_name">op_name</code></td>
<td>
<p>A string, operation name.</p>
</td></tr>
<tr><td><code id="get_next_operation_+3A_name">name</code></td>
<td>
<p>A string, element name.</p>
</td></tr>
<tr><td><code id="get_next_operation_+3A_actual">actual</code></td>
<td>
<p>A <code>star_operation</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame.
</p>

<hr>
<h2 id='get_nrow_agg.fact_schema'>Get number of rows aggregate column</h2><span id='topic+get_nrow_agg.fact_schema'></span>

<h3>Description</h3>

<p>Get number of rows aggregate column
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'fact_schema'
get_nrow_agg(schema)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_nrow_agg.fact_schema_+3A_schema">schema</code></td>
<td>
<p>A <code>fact_schema</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string.
</p>

<hr>
<h2 id='get_pk_attribute_names'>Get the names of the primary key attributes of a flat table</h2><span id='topic+get_pk_attribute_names'></span><span id='topic+get_pk_attribute_names.flat_table'></span>

<h3>Description</h3>

<p>Obtain the names of the attributes that form the primary key of a flat table,
if defined.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_pk_attribute_names(ft, as_definition)

## S3 method for class 'flat_table'
get_pk_attribute_names(ft, as_definition = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_pk_attribute_names_+3A_ft">ft</code></td>
<td>
<p>A <code>flat_table</code> object.</p>
</td></tr>
<tr><td><code id="get_pk_attribute_names_+3A_as_definition">as_definition</code></td>
<td>
<p>A boolean, as the definition of the vector in R.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of strings or a <code>tibble</code>, attribute names.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+flat_table">flat_table</a></code>
</p>
<p>Other flat table join functions: 
<code><a href="#topic+check_lookup_table">check_lookup_table</a>()</code>,
<code><a href="#topic+join_lookup_table">join_lookup_table</a>()</code>,
<code><a href="#topic+lookup_table">lookup_table</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ft &lt;- flat_table('iris', iris) |&gt;
  lookup_table(
    measures = c("Sepal.Length", "Sepal.Width", "Petal.Length", "Petal.Width"),
    measure_agg = c('MAX', 'MIN', 'SUM', 'MEAN')
  )
names &lt;- ft |&gt;
  get_pk_attribute_names()

</code></pre>

<hr>
<h2 id='get_point_geometry'>Get point geometry</h2><span id='topic+get_point_geometry'></span>

<h3>Description</h3>

<p>Obtain point geometry from polygon geometry.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_point_geometry(layer)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_point_geometry_+3A_layer">layer</code></td>
<td>
<p>A <code>sf</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>sf</code> object.
</p>


<h3>See Also</h3>

<p>Other star database geographic attributes: 
<code><a href="#topic+check_geoattribute_geometry">check_geoattribute_geometry</a>()</code>,
<code><a href="#topic+define_geoattribute">define_geoattribute</a>()</code>,
<code><a href="#topic+get_geoattribute_geometries">get_geoattribute_geometries</a>()</code>,
<code><a href="#topic+get_geoattributes">get_geoattributes</a>()</code>,
<code><a href="#topic+get_layer_geometry">get_layer_geometry</a>()</code>,
<code><a href="#topic+summarize_layer">summarize_layer</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
layer &lt;-
  get_point_geometry(us_layer_state)

</code></pre>

<hr>
<h2 id='get_role_playing_dimension_names'>Get the names of the role playing dimensions</h2><span id='topic+get_role_playing_dimension_names'></span><span id='topic+get_role_playing_dimension_names.star_database'></span>

<h3>Description</h3>

<p>Role playing dimensions are defined in star_databases. When integrating
several star_databases to form a constellation, role playing dimensions are
also integrated. This function allows you to see the result.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_role_playing_dimension_names(db)

## S3 method for class 'star_database'
get_role_playing_dimension_names(db)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_role_playing_dimension_names_+3A_db">db</code></td>
<td>
<p>A <code>constellation</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of vector of strings with dimension names.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+star_schema">star_schema</a></code>, <code><a href="#topic+flat_table">flat_table</a></code>
</p>
<p>Other star database definition functions: 
<code><a href="#topic+get_dimension_names">get_dimension_names</a>()</code>,
<code><a href="#topic+get_dimension_table">get_dimension_table</a>()</code>,
<code><a href="#topic+get_fact_names">get_fact_names</a>()</code>,
<code><a href="#topic+get_table_names">get_table_names</a>()</code>,
<code><a href="#topic+group_dimension_instances">group_dimension_instances</a>()</code>,
<code><a href="#topic+role_playing_dimension">role_playing_dimension</a>()</code>,
<code><a href="#topic+star_database">star_database</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
db1 &lt;- star_database(mrs_cause_schema_rpd, ft_cause_rpd) |&gt;
  role_playing_dimension(
    rpd = "When",
    roles = c("When Available", "When Received")
  )

db2 &lt;- star_database(mrs_age_schema_rpd, ft_age_rpd) |&gt;
  role_playing_dimension(
    rpd = "When Arrived",
    roles = c("When Available")
  )
rpd &lt;- constellation("MRS", db1, db2) |&gt;
  get_role_playing_dimension_names()

</code></pre>

<hr>
<h2 id='get_rpd_dimensions'>Get rpd dimensions of a dimension</h2><span id='topic+get_rpd_dimensions'></span>

<h3>Description</h3>

<p>Get rpd dimensions of a dimension
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_rpd_dimensions(db, name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_rpd_dimensions_+3A_db">db</code></td>
<td>
<p>A <code>star_database</code> object.</p>
</td></tr>
<tr><td><code id="get_rpd_dimensions_+3A_name">name</code></td>
<td>
<p>A string, dimension name.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of dimension names.
</p>

<hr>
<h2 id='get_similar_attribute_values_individually.flat_table'>Get similar values for individual attributes</h2><span id='topic+get_similar_attribute_values_individually.flat_table'></span><span id='topic+get_similar_attribute_values_individually'></span><span id='topic+get_similar_attribute_values_individually.star_database'></span>

<h3>Description</h3>

<p>Get sets of attribute values for individual attributes that differ only by
tildes, spaces, or punctuation marks. If no attributes are indicated, all are
considered.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'flat_table'
get_similar_attribute_values_individually(
  db,
  name = NULL,
  attributes = NULL,
  exclude_numbers = FALSE,
  col_as_vector = NULL
)

get_similar_attribute_values_individually(
  db,
  name,
  attributes,
  exclude_numbers,
  col_as_vector
)

## S3 method for class 'star_database'
get_similar_attribute_values_individually(
  db,
  name = NULL,
  attributes = NULL,
  exclude_numbers = FALSE,
  col_as_vector = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_similar_attribute_values_individually.flat_table_+3A_db">db</code></td>
<td>
<p>A <code>flat_table</code> or <code>star_database</code> object.</p>
</td></tr>
<tr><td><code id="get_similar_attribute_values_individually.flat_table_+3A_name">name</code></td>
<td>
<p>A vector of strings, dimension names.</p>
</td></tr>
<tr><td><code id="get_similar_attribute_values_individually.flat_table_+3A_attributes">attributes</code></td>
<td>
<p>A vector of strings, attribute names.</p>
</td></tr>
<tr><td><code id="get_similar_attribute_values_individually.flat_table_+3A_exclude_numbers">exclude_numbers</code></td>
<td>
<p>A boolean, exclude numbers from comparison.</p>
</td></tr>
<tr><td><code id="get_similar_attribute_values_individually.flat_table_+3A_col_as_vector">col_as_vector</code></td>
<td>
<p>A string, name of the column to include a vector of values.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For star databases, if no dimension name is indicated, all dimensions are
considered.
</p>
<p>You can indicate that the numbers are ignored to make the comparison.
</p>
<p>If a name is indicated in the <code>col_as_vector</code> parameter, it includes a column
with the data in vector form to be used in other functions.
</p>


<h3>Value</h3>

<p>A vector of <code>tibble</code> objects with similar instances.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+star_database">star_database</a></code>, <code><a href="#topic+flat_table">flat_table</a></code>
</p>
<p>Other star database and flat table functions: 
<code><a href="#topic+get_attribute_names.flat_table">get_attribute_names.flat_table</a>()</code>,
<code><a href="#topic+get_measure_names.flat_table">get_measure_names.flat_table</a>()</code>,
<code><a href="#topic+get_similar_attribute_values.flat_table">get_similar_attribute_values.flat_table</a>()</code>,
<code><a href="#topic+get_unique_attribute_values.flat_table">get_unique_attribute_values.flat_table</a>()</code>,
<code><a href="#topic+replace_attribute_values.flat_table">replace_attribute_values.flat_table</a>()</code>,
<code><a href="#topic+set_attribute_names.flat_table">set_attribute_names.flat_table</a>()</code>,
<code><a href="#topic+set_measure_names.flat_table">set_measure_names.flat_table</a>()</code>,
<code><a href="#topic+snake_case.flat_table">snake_case.flat_table</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
instances &lt;- star_database(mrs_cause_schema, ft_num) |&gt;
  get_similar_attribute_values_individually(name = c("where", "when"))

instances &lt;- star_database(mrs_cause_schema, ft_num) |&gt;
  get_similar_attribute_values_individually()

ft &lt;- flat_table('iris', iris)
ft$table$Species[20] &lt;- "se.Tosa."
ft$table$Species[60] &lt;- "Versicolor"
instances &lt;- ft |&gt;
  get_similar_attribute_values_individually()

</code></pre>

<hr>
<h2 id='get_similar_attribute_values.flat_table'>Get similar attribute values combination</h2><span id='topic+get_similar_attribute_values.flat_table'></span><span id='topic+get_similar_attribute_values'></span><span id='topic+get_similar_attribute_values.star_database'></span>

<h3>Description</h3>

<p>Get sets of attribute values that differ only by tildes, spaces, or punctuation
marks, for the combination of the given set of attributes. If no attributes are
indicated, they are all considered together.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'flat_table'
get_similar_attribute_values(
  db,
  name = NULL,
  attributes = NULL,
  exclude_numbers = FALSE,
  col_as_vector = NULL
)

get_similar_attribute_values(
  db,
  name,
  attributes,
  exclude_numbers,
  col_as_vector
)

## S3 method for class 'star_database'
get_similar_attribute_values(
  db,
  name = NULL,
  attributes = NULL,
  exclude_numbers = FALSE,
  col_as_vector = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_similar_attribute_values.flat_table_+3A_db">db</code></td>
<td>
<p>A <code>flat_table</code> or <code>star_database</code> object.</p>
</td></tr>
<tr><td><code id="get_similar_attribute_values.flat_table_+3A_name">name</code></td>
<td>
<p>A string, dimension name.</p>
</td></tr>
<tr><td><code id="get_similar_attribute_values.flat_table_+3A_attributes">attributes</code></td>
<td>
<p>A vector of strings, attribute names.</p>
</td></tr>
<tr><td><code id="get_similar_attribute_values.flat_table_+3A_exclude_numbers">exclude_numbers</code></td>
<td>
<p>A boolean, exclude numbers from comparison.</p>
</td></tr>
<tr><td><code id="get_similar_attribute_values.flat_table_+3A_col_as_vector">col_as_vector</code></td>
<td>
<p>A string, name of the column to include a vector of values.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For star databases, a list of dimensions can be indicated, otherwise it
considers all dimensions. If a dimension is indicated, a list of attributes
to be considered in it can also be indicated.
</p>
<p>You can indicate that the numbers are ignored to make the comparison.
</p>
<p>If a name is indicated in the <code>col_as_vector</code> parameter, it includes a column
with the data in vector form to be used in other functions.
</p>


<h3>Value</h3>

<p>A vector of <code>tibble</code> objects with similar instances.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+star_database">star_database</a></code>, <code><a href="#topic+flat_table">flat_table</a></code>
</p>
<p>Other star database and flat table functions: 
<code><a href="#topic+get_attribute_names.flat_table">get_attribute_names.flat_table</a>()</code>,
<code><a href="#topic+get_measure_names.flat_table">get_measure_names.flat_table</a>()</code>,
<code><a href="#topic+get_similar_attribute_values_individually.flat_table">get_similar_attribute_values_individually.flat_table</a>()</code>,
<code><a href="#topic+get_unique_attribute_values.flat_table">get_unique_attribute_values.flat_table</a>()</code>,
<code><a href="#topic+replace_attribute_values.flat_table">replace_attribute_values.flat_table</a>()</code>,
<code><a href="#topic+set_attribute_names.flat_table">set_attribute_names.flat_table</a>()</code>,
<code><a href="#topic+set_measure_names.flat_table">set_measure_names.flat_table</a>()</code>,
<code><a href="#topic+snake_case.flat_table">snake_case.flat_table</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
instances &lt;- star_database(mrs_cause_schema, ft_num) |&gt;
  get_similar_attribute_values(name = "where")

db &lt;- star_database(mrs_cause_schema, ft_num)
db$dimensions$where$table$City[2] &lt;- " BrId  gEport "
instances &lt;- db |&gt;
  get_similar_attribute_values("where")

db &lt;- star_database(mrs_cause_schema, ft_num)
db$dimensions$where$table$City[2] &lt;- " BrId  gEport "
instances &lt;- db |&gt;
  get_similar_attribute_values("where",
    attributes = c("City", "State"),
    col_as_vector = "As a vector")

ft &lt;- flat_table('iris', iris)
ft$table$Species[20] &lt;- "se.Tosa."
ft$table$Species[60] &lt;- "Versicolor"
instances &lt;- ft |&gt;
  get_similar_attribute_values()

</code></pre>

<hr>
<h2 id='get_similar_values_table'>Get similar values in a table</h2><span id='topic+get_similar_values_table'></span>

<h3>Description</h3>

<p>Get similar values in a table
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_similar_values_table(table, attributes, exclude_numbers, col_as_vector)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_similar_values_table_+3A_table">table</code></td>
<td>
<p>A <code>tibble</code> object.</p>
</td></tr>
<tr><td><code id="get_similar_values_table_+3A_attributes">attributes</code></td>
<td>
<p>A vector of strings, attribute names.</p>
</td></tr>
<tr><td><code id="get_similar_values_table_+3A_exclude_numbers">exclude_numbers</code></td>
<td>
<p>A boolean, exclude numbers from comparison.</p>
</td></tr>
<tr><td><code id="get_similar_values_table_+3A_col_as_vector">col_as_vector</code></td>
<td>
<p>A string, name of the column to include a vector of values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of <code>tibble</code> objects with similar instances.
</p>

<hr>
<h2 id='get_star_database'>Get star database</h2><span id='topic+get_star_database'></span><span id='topic+get_star_database.star_database_update'></span><span id='topic+get_star_database.star_database'></span>

<h3>Description</h3>

<p>It obtains the star database: For updates, the one defined from the data; for
constellations, the one indicated by the parameter.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_star_database(db, name)

## S3 method for class 'star_database_update'
get_star_database(db, name = NULL)

## S3 method for class 'star_database'
get_star_database(db, name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_star_database_+3A_db">db</code></td>
<td>
<p>A <code>star_database_update</code> object.</p>
</td></tr>
<tr><td><code id="get_star_database_+3A_name">name</code></td>
<td>
<p>A string, star database name (fact name).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>star_database</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+star_database">star_database</a></code>
</p>
<p>Other star database refresh functions: 
<code><a href="#topic+get_existing_fact_instances">get_existing_fact_instances</a>()</code>,
<code><a href="#topic+get_lookup_tables">get_lookup_tables</a>()</code>,
<code><a href="#topic+get_new_dimension_instances">get_new_dimension_instances</a>()</code>,
<code><a href="#topic+get_star_schema">get_star_schema</a>()</code>,
<code><a href="#topic+get_transformation_code">get_transformation_code</a>()</code>,
<code><a href="#topic+get_transformation_file">get_transformation_file</a>()</code>,
<code><a href="#topic+incremental_refresh">incremental_refresh</a>()</code>,
<code><a href="#topic+update_according_to">update_according_to</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
f1 &lt;- flat_table('ft_num', ft_cause_rpd) |&gt;
  as_star_database(mrs_cause_schema_rpd)
f2 &lt;- flat_table('ft_num2', ft_cause_rpd) |&gt;
  update_according_to(f1)
st &lt;- f2 |&gt;
  get_star_database()

db1 &lt;- star_database(mrs_cause_schema, ft_num) |&gt;
  snake_case()
db2 &lt;- star_database(mrs_age_schema, ft_age) |&gt;
  snake_case()
ct &lt;- constellation("MRS", db1, db2)
names &lt;- ct |&gt;
  get_fact_names()
st &lt;- ct |&gt;
  get_star_database(names[1])

</code></pre>

<hr>
<h2 id='get_star_query_schema'>Get star query schema</h2><span id='topic+get_star_query_schema'></span>

<h3>Description</h3>

<p>Obtain the star database schema to perform queries.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_star_query_schema(db)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_star_query_schema_+3A_db">db</code></td>
<td>
<p>A <code>star_database</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A star database schema, list of fact and dimension schemes.
</p>

<hr>
<h2 id='get_star_schema'>Get star schema</h2><span id='topic+get_star_schema'></span><span id='topic+get_star_schema.star_database_update'></span>

<h3>Description</h3>

<p>From the planned update, it obtains the star schema used to define the data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_star_schema(sdbu)

## S3 method for class 'star_database_update'
get_star_schema(sdbu)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_star_schema_+3A_sdbu">sdbu</code></td>
<td>
<p>A <code>star_database_update</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>star_schema</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+star_database">star_database</a></code>
</p>
<p>Other star database refresh functions: 
<code><a href="#topic+get_existing_fact_instances">get_existing_fact_instances</a>()</code>,
<code><a href="#topic+get_lookup_tables">get_lookup_tables</a>()</code>,
<code><a href="#topic+get_new_dimension_instances">get_new_dimension_instances</a>()</code>,
<code><a href="#topic+get_star_database">get_star_database</a>()</code>,
<code><a href="#topic+get_transformation_code">get_transformation_code</a>()</code>,
<code><a href="#topic+get_transformation_file">get_transformation_file</a>()</code>,
<code><a href="#topic+incremental_refresh">incremental_refresh</a>()</code>,
<code><a href="#topic+update_according_to">update_according_to</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
f1 &lt;- flat_table('ft_num', ft_cause_rpd) |&gt;
  as_star_database(mrs_cause_schema_rpd)
f2 &lt;- flat_table('ft_num2', ft_cause_rpd) |&gt;
  update_according_to(f1)
st &lt;- f2 |&gt;
  get_star_schema()

</code></pre>

<hr>
<h2 id='get_surrogate_key.dimension_table'>Get surrogate key names</h2><span id='topic+get_surrogate_key.dimension_table'></span>

<h3>Description</h3>

<p>Get the names of the surrogate keys defined in the dimension table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'dimension_table'
get_surrogate_key(dimension_table)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_surrogate_key.dimension_table_+3A_dimension_table">dimension_table</code></td>
<td>
<p>A <code>dimension_table</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of strings.
</p>

<hr>
<h2 id='get_table'>Get the table of the flat table</h2><span id='topic+get_table'></span><span id='topic+get_table.flat_table'></span>

<h3>Description</h3>

<p>Obtain the table of a flat table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_table(ft)

## S3 method for class 'flat_table'
get_table(ft)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_table_+3A_ft">ft</code></td>
<td>
<p>A <code>flat_table</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>tibble</code>, the table.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+star_database">star_database</a></code>
</p>
<p>Other flat table definition functions: 
<code><a href="#topic+as_star_database">as_star_database</a>()</code>,
<code><a href="#topic+flat_table">flat_table</a>()</code>,
<code><a href="#topic+get_unknown_value_defined">get_unknown_value_defined</a>()</code>,
<code><a href="#topic+get_unknown_values">get_unknown_values</a>()</code>,
<code><a href="#topic+read_flat_table_file">read_flat_table_file</a>()</code>,
<code><a href="#topic+read_flat_table_folder">read_flat_table_folder</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
table &lt;- flat_table('iris', iris) |&gt;
  get_table()

</code></pre>

<hr>
<h2 id='get_table_names'>Get the names of the tables of a star database</h2><span id='topic+get_table_names'></span><span id='topic+get_table_names.star_database'></span>

<h3>Description</h3>

<p>Obtain the names of the tables of a star database.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_table_names(db)

## S3 method for class 'star_database'
get_table_names(db)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_table_names_+3A_db">db</code></td>
<td>
<p>A <code>star_database</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of strings, table names.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+star_schema">star_schema</a></code>, <code><a href="#topic+flat_table">flat_table</a></code>
</p>
<p>Other star database definition functions: 
<code><a href="#topic+get_dimension_names">get_dimension_names</a>()</code>,
<code><a href="#topic+get_dimension_table">get_dimension_table</a>()</code>,
<code><a href="#topic+get_fact_names">get_fact_names</a>()</code>,
<code><a href="#topic+get_role_playing_dimension_names">get_role_playing_dimension_names</a>()</code>,
<code><a href="#topic+group_dimension_instances">group_dimension_instances</a>()</code>,
<code><a href="#topic+role_playing_dimension">role_playing_dimension</a>()</code>,
<code><a href="#topic+star_database">star_database</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
names &lt;- star_database(mrs_cause_schema, ft_num) |&gt;
  get_table_names()

</code></pre>

<hr>
<h2 id='get_transformation_code'>Get transformation function code</h2><span id='topic+get_transformation_code'></span><span id='topic+get_transformation_code.star_database_update'></span>

<h3>Description</h3>

<p>From the planned update, it obtains the function with the source code of the
transformations performed on the original data in string vector format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_transformation_code(sdbu)

## S3 method for class 'star_database_update'
get_transformation_code(sdbu)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_transformation_code_+3A_sdbu">sdbu</code></td>
<td>
<p>A <code>star_database_update</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of strings.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+star_database">star_database</a></code>
</p>
<p>Other star database refresh functions: 
<code><a href="#topic+get_existing_fact_instances">get_existing_fact_instances</a>()</code>,
<code><a href="#topic+get_lookup_tables">get_lookup_tables</a>()</code>,
<code><a href="#topic+get_new_dimension_instances">get_new_dimension_instances</a>()</code>,
<code><a href="#topic+get_star_database">get_star_database</a>()</code>,
<code><a href="#topic+get_star_schema">get_star_schema</a>()</code>,
<code><a href="#topic+get_transformation_file">get_transformation_file</a>()</code>,
<code><a href="#topic+incremental_refresh">incremental_refresh</a>()</code>,
<code><a href="#topic+update_according_to">update_according_to</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
f1 &lt;- flat_table('ft_num', ft_cause_rpd) |&gt;
  as_star_database(mrs_cause_schema_rpd) |&gt;
  replace_attribute_values(
    name = "When Available",
    old = c('1962', '11', '1962-03-14'),
    new = c('1962', '3', '1962-01-15')
  ) |&gt;
  group_dimension_instances(name = "When")
f2 &lt;- flat_table('ft_num2', ft_cause_rpd) |&gt;
  update_according_to(f1)
code &lt;- f2 |&gt;
  get_transformation_code()

</code></pre>

<hr>
<h2 id='get_transformation_file'>Get transformation function file</h2><span id='topic+get_transformation_file'></span><span id='topic+get_transformation_file.star_database_update'></span>

<h3>Description</h3>

<p>From the planned update, it obtains the function with the source code of the
transformations performed on the original data in file format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_transformation_file(sdbu, file)

## S3 method for class 'star_database_update'
get_transformation_file(sdbu, file = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_transformation_file_+3A_sdbu">sdbu</code></td>
<td>
<p>A <code>star_database_update</code> object.</p>
</td></tr>
<tr><td><code id="get_transformation_file_+3A_file">file</code></td>
<td>
<p>A string, file name.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string, file name.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+star_database">star_database</a></code>
</p>
<p>Other star database refresh functions: 
<code><a href="#topic+get_existing_fact_instances">get_existing_fact_instances</a>()</code>,
<code><a href="#topic+get_lookup_tables">get_lookup_tables</a>()</code>,
<code><a href="#topic+get_new_dimension_instances">get_new_dimension_instances</a>()</code>,
<code><a href="#topic+get_star_database">get_star_database</a>()</code>,
<code><a href="#topic+get_star_schema">get_star_schema</a>()</code>,
<code><a href="#topic+get_transformation_code">get_transformation_code</a>()</code>,
<code><a href="#topic+incremental_refresh">incremental_refresh</a>()</code>,
<code><a href="#topic+update_according_to">update_according_to</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
f1 &lt;- flat_table('ft_num', ft_cause_rpd) |&gt;
  as_star_database(mrs_cause_schema_rpd) |&gt;
  replace_attribute_values(
    name = "When Available",
    old = c('1962', '11', '1962-03-14'),
    new = c('1962', '3', '1962-01-15')
  ) |&gt;
  group_dimension_instances(name = "When")
f2 &lt;- flat_table('ft_num2', ft_cause_rpd) |&gt;
  update_according_to(f1)
file &lt;- f2 |&gt;
  get_transformation_file()

</code></pre>

<hr>
<h2 id='get_unique_attribute_values.flat_table'>Get unique attribute values</h2><span id='topic+get_unique_attribute_values.flat_table'></span><span id='topic+get_unique_attribute_values'></span><span id='topic+get_unique_attribute_values.star_database'></span>

<h3>Description</h3>

<p>Get unique set of values for the given attributes. If no attributes are
indicated, all are considered.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'flat_table'
get_unique_attribute_values(
  db,
  name = NULL,
  attributes = NULL,
  col_as_vector = NULL
)

get_unique_attribute_values(db, name, attributes, col_as_vector)

## S3 method for class 'star_database'
get_unique_attribute_values(
  db,
  name = NULL,
  attributes = NULL,
  col_as_vector = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_unique_attribute_values.flat_table_+3A_db">db</code></td>
<td>
<p>A <code>flat_table</code> or <code>star_database</code> object.</p>
</td></tr>
<tr><td><code id="get_unique_attribute_values.flat_table_+3A_name">name</code></td>
<td>
<p>A string, dimension name.</p>
</td></tr>
<tr><td><code id="get_unique_attribute_values.flat_table_+3A_attributes">attributes</code></td>
<td>
<p>A vector of strings, attribute names.</p>
</td></tr>
<tr><td><code id="get_unique_attribute_values.flat_table_+3A_col_as_vector">col_as_vector</code></td>
<td>
<p>A string, name of the column to include a vector of values.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If we work on a star database, a dimension must be indicated.
</p>


<h3>Value</h3>

<p>A vector of <code>tibble</code> objects with unique instances.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+star_database">star_database</a></code>, <code><a href="#topic+flat_table">flat_table</a></code>
</p>
<p>Other star database and flat table functions: 
<code><a href="#topic+get_attribute_names.flat_table">get_attribute_names.flat_table</a>()</code>,
<code><a href="#topic+get_measure_names.flat_table">get_measure_names.flat_table</a>()</code>,
<code><a href="#topic+get_similar_attribute_values.flat_table">get_similar_attribute_values.flat_table</a>()</code>,
<code><a href="#topic+get_similar_attribute_values_individually.flat_table">get_similar_attribute_values_individually.flat_table</a>()</code>,
<code><a href="#topic+replace_attribute_values.flat_table">replace_attribute_values.flat_table</a>()</code>,
<code><a href="#topic+set_attribute_names.flat_table">set_attribute_names.flat_table</a>()</code>,
<code><a href="#topic+set_measure_names.flat_table">set_measure_names.flat_table</a>()</code>,
<code><a href="#topic+snake_case.flat_table">snake_case.flat_table</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
instances &lt;- star_database(mrs_cause_schema, ft_num) |&gt;
  get_unique_attribute_values()

instances &lt;- star_database(mrs_cause_schema, ft_num) |&gt;
  get_unique_attribute_values(name = "where")

instances &lt;- star_database(mrs_cause_schema, ft_num) |&gt;
  get_unique_attribute_values("where",
    attributes = c("REGION", "State"))

instances &lt;- flat_table('iris', iris) |&gt;
  get_unique_attribute_values()

</code></pre>

<hr>
<h2 id='get_unique_values_table'>Get unique values in a table</h2><span id='topic+get_unique_values_table'></span>

<h3>Description</h3>

<p>Get unique values in a table
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_unique_values_table(table, attributes, col_as_vector)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_unique_values_table_+3A_table">table</code></td>
<td>
<p>A <code>tibble</code> object.</p>
</td></tr>
<tr><td><code id="get_unique_values_table_+3A_attributes">attributes</code></td>
<td>
<p>A vector of strings, attribute names.</p>
</td></tr>
<tr><td><code id="get_unique_values_table_+3A_col_as_vector">col_as_vector</code></td>
<td>
<p>A string, name of the column to include a vector of values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of <code>tibble</code> objects with similar instances.
</p>

<hr>
<h2 id='get_unknown_value_defined'>Get the unknown value defined</h2><span id='topic+get_unknown_value_defined'></span><span id='topic+get_unknown_value_defined.flat_table'></span>

<h3>Description</h3>

<p>Obtain the unknown value of a flat table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_unknown_value_defined(ft)

## S3 method for class 'flat_table'
get_unknown_value_defined(ft)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_unknown_value_defined_+3A_ft">ft</code></td>
<td>
<p>A <code>flat_table</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+star_database">star_database</a></code>
</p>
<p>Other flat table definition functions: 
<code><a href="#topic+as_star_database">as_star_database</a>()</code>,
<code><a href="#topic+flat_table">flat_table</a>()</code>,
<code><a href="#topic+get_table">get_table</a>()</code>,
<code><a href="#topic+get_unknown_values">get_unknown_values</a>()</code>,
<code><a href="#topic+read_flat_table_file">read_flat_table_file</a>()</code>,
<code><a href="#topic+read_flat_table_folder">read_flat_table_folder</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
table &lt;- flat_table('iris', iris) |&gt;
  get_unknown_value_defined()

</code></pre>

<hr>
<h2 id='get_unknown_values'>Get unknown attribute values</h2><span id='topic+get_unknown_values'></span><span id='topic+get_unknown_values.flat_table'></span>

<h3>Description</h3>

<p>Obtain the instances that have an empty or unknown value in any given attribute.
If no attribute is given, all are considered.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_unknown_values(ft, attributes, col_as_vector)

## S3 method for class 'flat_table'
get_unknown_values(ft, attributes = NULL, col_as_vector = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_unknown_values_+3A_ft">ft</code></td>
<td>
<p>A <code>flat_table</code> object.</p>
</td></tr>
<tr><td><code id="get_unknown_values_+3A_attributes">attributes</code></td>
<td>
<p>A vector of strings, attribute names.</p>
</td></tr>
<tr><td><code id="get_unknown_values_+3A_col_as_vector">col_as_vector</code></td>
<td>
<p>A string, name of the column to include a vector of values.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If a name is indicated in the <code>col_as_vector</code> parameter, it includes a column
with the data in vector form to be used in other functions.
</p>


<h3>Value</h3>

<p>A <code>tibble</code> with unknown values in instances.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+star_database">star_database</a></code>
</p>
<p>Other flat table definition functions: 
<code><a href="#topic+as_star_database">as_star_database</a>()</code>,
<code><a href="#topic+flat_table">flat_table</a>()</code>,
<code><a href="#topic+get_table">get_table</a>()</code>,
<code><a href="#topic+get_unknown_value_defined">get_unknown_value_defined</a>()</code>,
<code><a href="#topic+read_flat_table_file">read_flat_table_file</a>()</code>,
<code><a href="#topic+read_flat_table_folder">read_flat_table_folder</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
iris2 &lt;- iris
iris2[10, 'Species'] &lt;- NA
instances &lt;- flat_table('iris', iris2) |&gt;
  get_unknown_values()

</code></pre>

<hr>
<h2 id='get_variable_description'>Get variable description</h2><span id='topic+get_variable_description'></span><span id='topic+get_variable_description.geolayer'></span>

<h3>Description</h3>

<p>Obtain a description of the variables whose name is indicated. If no name is
indicated, all are returned.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_variable_description(gl, name, only_values)

## S3 method for class 'geolayer'
get_variable_description(gl, name = NULL, only_values = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_variable_description_+3A_gl">gl</code></td>
<td>
<p>A <code>geolayer</code> object.</p>
</td></tr>
<tr><td><code id="get_variable_description_+3A_name">name</code></td>
<td>
<p>A string vector.</p>
</td></tr>
<tr><td><code id="get_variable_description_+3A_only_values">only_values</code></td>
<td>
<p>A boolean, add names to component values.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Using the parameter <code>only_values</code>, we can obtain only the combination of values
or also the combination of names with values.
</p>


<h3>Value</h3>

<p>A string vector.
</p>


<h3>See Also</h3>

<p>Other query functions: 
<code><a href="#topic+as_GeoPackage">as_GeoPackage</a>()</code>,
<code><a href="#topic+as_geolayer">as_geolayer</a>()</code>,
<code><a href="#topic+filter_dimension">filter_dimension</a>()</code>,
<code><a href="#topic+get_layer">get_layer</a>()</code>,
<code><a href="#topic+get_variables">get_variables</a>()</code>,
<code><a href="#topic+run_query">run_query</a>()</code>,
<code><a href="#topic+select_dimension">select_dimension</a>()</code>,
<code><a href="#topic+select_fact">select_fact</a>()</code>,
<code><a href="#topic+set_layer">set_layer</a>()</code>,
<code><a href="#topic+set_variables">set_variables</a>()</code>,
<code><a href="#topic+star_query">star_query</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
gl &lt;- mrs_db_geo |&gt;
  as_geolayer()

vd &lt;- gl |&gt;
  get_variable_description()

</code></pre>

<hr>
<h2 id='get_variables'>Get the variables layer</h2><span id='topic+get_variables'></span><span id='topic+get_variables.geolayer'></span>

<h3>Description</h3>

<p>The variables layer includes the names and description through various fields
of the variables contained in the geolayer.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_variables(gl)

## S3 method for class 'geolayer'
get_variables(gl)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_variables_+3A_gl">gl</code></td>
<td>
<p>A <code>geolayer</code> object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The way to select the variables we want to work with is to filter this layer
and subsequently set it as the object's variables layer using the <code>set_variables()</code>
function.
</p>


<h3>Value</h3>

<p>A <code>tibble</code> object.
</p>


<h3>See Also</h3>

<p>Other query functions: 
<code><a href="#topic+as_GeoPackage">as_GeoPackage</a>()</code>,
<code><a href="#topic+as_geolayer">as_geolayer</a>()</code>,
<code><a href="#topic+filter_dimension">filter_dimension</a>()</code>,
<code><a href="#topic+get_layer">get_layer</a>()</code>,
<code><a href="#topic+get_variable_description">get_variable_description</a>()</code>,
<code><a href="#topic+run_query">run_query</a>()</code>,
<code><a href="#topic+select_dimension">select_dimension</a>()</code>,
<code><a href="#topic+select_fact">select_fact</a>()</code>,
<code><a href="#topic+set_layer">set_layer</a>()</code>,
<code><a href="#topic+set_variables">set_variables</a>()</code>,
<code><a href="#topic+star_query">star_query</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
gl &lt;- mrs_db_geo |&gt;
  as_geolayer()

v &lt;- gl |&gt;
  get_variables()

</code></pre>

<hr>
<h2 id='group_by_keys'>Group table instances by keys aggregating the measures using the corresponding
aggregation function.</h2><span id='topic+group_by_keys'></span>

<h3>Description</h3>

<p>Group table instances by keys aggregating the measures using the corresponding
aggregation function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>group_by_keys(table, keys, measures, agg_functions, nrow_agg)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="group_by_keys_+3A_table">table</code></td>
<td>
<p>A <code>tibble</code>, the instances table.</p>
</td></tr>
<tr><td><code id="group_by_keys_+3A_keys">keys</code></td>
<td>
<p>A vector of strings, key names to group by.</p>
</td></tr>
<tr><td><code id="group_by_keys_+3A_measures">measures</code></td>
<td>
<p>A vector of strings, measures to aggregate.</p>
</td></tr>
<tr><td><code id="group_by_keys_+3A_agg_functions">agg_functions</code></td>
<td>
<p>A vector of strings, aggregate functions.</p>
</td></tr>
<tr><td><code id="group_by_keys_+3A_nrow_agg">nrow_agg</code></td>
<td>
<p>A string, name of a new column to count the number of rows
aggregated.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>tibble</code>.
</p>

<hr>
<h2 id='group_dimension_instances'>Group instances of a dimension</h2><span id='topic+group_dimension_instances'></span><span id='topic+group_dimension_instances.star_database'></span>

<h3>Description</h3>

<p>After changes in values in the instances of a dimension, groups the instances
and, if necessary, also the related facts.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>group_dimension_instances(db, name)

## S3 method for class 'star_database'
group_dimension_instances(db, name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="group_dimension_instances_+3A_db">db</code></td>
<td>
<p>A <code>star_database</code> object.</p>
</td></tr>
<tr><td><code id="group_dimension_instances_+3A_name">name</code></td>
<td>
<p>A string, dimension name.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>star_database</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+star_schema">star_schema</a></code>, <code><a href="#topic+flat_table">flat_table</a></code>
</p>
<p>Other star database definition functions: 
<code><a href="#topic+get_dimension_names">get_dimension_names</a>()</code>,
<code><a href="#topic+get_dimension_table">get_dimension_table</a>()</code>,
<code><a href="#topic+get_fact_names">get_fact_names</a>()</code>,
<code><a href="#topic+get_role_playing_dimension_names">get_role_playing_dimension_names</a>()</code>,
<code><a href="#topic+get_table_names">get_table_names</a>()</code>,
<code><a href="#topic+role_playing_dimension">role_playing_dimension</a>()</code>,
<code><a href="#topic+star_database">star_database</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
db &lt;- star_database(mrs_cause_schema, ft_num) |&gt;
  group_dimension_instances(name = "where")

</code></pre>

<hr>
<h2 id='group_facts'>Group facts</h2><span id='topic+group_facts'></span>

<h3>Description</h3>

<p>Once the external keys have been possibly replaced, group the rows of facts.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>group_facts(db)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="group_facts_+3A_db">db</code></td>
<td>
<p>A <code>star_database</code> object.</p>
</td></tr>
</table>

<hr>
<h2 id='incremental_refresh'>Refresh a star database in a constellation</h2><span id='topic+incremental_refresh'></span><span id='topic+incremental_refresh.star_database'></span>

<h3>Description</h3>

<p>Incremental update of a star database from the star database generated with
the new data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>incremental_refresh(db, sdbu, existing_instances, replace_transformations, ...)

## S3 method for class 'star_database'
incremental_refresh(
  db,
  sdbu,
  existing_instances = "ignore",
  replace_transformations = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="incremental_refresh_+3A_db">db</code></td>
<td>
<p>A <code>star_database</code> object.</p>
</td></tr>
<tr><td><code id="incremental_refresh_+3A_sdbu">sdbu</code></td>
<td>
<p>A <code>star_database_update</code> object.</p>
</td></tr>
<tr><td><code id="incremental_refresh_+3A_existing_instances">existing_instances</code></td>
<td>
<p>A string, operation to be carried out on the instances
of already existing facts. The possible values are: &quot;ignore&quot;, &quot;replace&quot;,
&quot;group&quot; and &quot;delete&quot;.</p>
</td></tr>
<tr><td><code id="incremental_refresh_+3A_replace_transformations">replace_transformations</code></td>
<td>
<p>A boolean, replace the <code>star_database</code>
transformation code with the <code>star_database_update</code> one.</p>
</td></tr>
<tr><td><code id="incremental_refresh_+3A_...">...</code></td>
<td>
<p>internal test parameters.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>There may be data in the update that already exists in the facts: it is
indicated what to do with it, replace it, group it, delete it or ignore it in
the update.
</p>
<p>If to obtain the update data we have had to perform new transformations (which
were not necessary to obtain the star database), we can indicate that these are
the new transformation operations for the star database. These operations are
not applied to the star database, they will only be applied to new periodic
updates.
</p>


<h3>Value</h3>

<p>A <code>star_database</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+star_database">star_database</a></code>
</p>
<p>Other star database refresh functions: 
<code><a href="#topic+get_existing_fact_instances">get_existing_fact_instances</a>()</code>,
<code><a href="#topic+get_lookup_tables">get_lookup_tables</a>()</code>,
<code><a href="#topic+get_new_dimension_instances">get_new_dimension_instances</a>()</code>,
<code><a href="#topic+get_star_database">get_star_database</a>()</code>,
<code><a href="#topic+get_star_schema">get_star_schema</a>()</code>,
<code><a href="#topic+get_transformation_code">get_transformation_code</a>()</code>,
<code><a href="#topic+get_transformation_file">get_transformation_file</a>()</code>,
<code><a href="#topic+update_according_to">update_according_to</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
db &lt;-
  flat_table('ft_num', ft_cause_rpd[ft_cause_rpd$City != 'Cambridge' &amp;
                                      ft_cause_rpd$WEEK != '4',]) |&gt;
  as_star_database(mrs_cause_schema_rpd) |&gt;
  role_playing_dimension(rpd = "When",
                         roles = c("When Available", "When Received"))
f2 &lt;- flat_table('ft_num2', ft_cause_rpd[ft_cause_rpd$City != 'Bridgeport' &amp;
                                           ft_cause_rpd$WEEK != '2',])
f2 &lt;- f2 |&gt;
  update_according_to(db)

db &lt;- db |&gt;
  incremental_refresh(f2)

</code></pre>

<hr>
<h2 id='integrate_geo_dimensions'>Integrate two geodimensions</h2><span id='topic+integrate_geo_dimensions'></span>

<h3>Description</h3>

<p>Integrate two geodimensions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>integrate_geo_dimensions(gd1, gd2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="integrate_geo_dimensions_+3A_gd1">gd1</code></td>
<td>
<p>A geodimension.</p>
</td></tr>
<tr><td><code id="integrate_geo_dimensions_+3A_gd2">gd2</code></td>
<td>
<p>A geodimension.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A geodimension.
</p>

<hr>
<h2 id='interpret_operation_add_custom_column'>Interpret operation</h2><span id='topic+interpret_operation_add_custom_column'></span>

<h3>Description</h3>

<p>operation,          name, details,                  details2
&quot;add_custom_column&quot;, name, as.character(list(definition))
</p>


<h3>Usage</h3>

<pre><code class='language-R'>interpret_operation_add_custom_column(ft, op, file, last_op)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="interpret_operation_add_custom_column_+3A_ft">ft</code></td>
<td>
<p>flat table</p>
</td></tr>
<tr><td><code id="interpret_operation_add_custom_column_+3A_op">op</code></td>
<td>
<p>operation</p>
</td></tr>
<tr><td><code id="interpret_operation_add_custom_column_+3A_file">file</code></td>
<td>
<p>file to write the code</p>
</td></tr>
<tr><td><code id="interpret_operation_add_custom_column_+3A_last_op">last_op</code></td>
<td>
<p>A boolean, is the last operation?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>f &lt;- function(...)
g &lt;- as.character(list(f))
h &lt;- eval(parse(text = g))
</p>


<h3>Value</h3>

<p>A flat table.
</p>

<hr>
<h2 id='interpret_operation_flat_table'>Interpret operation</h2><span id='topic+interpret_operation_flat_table'></span>

<h3>Description</h3>

<p>Interpret operation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>interpret_operation_flat_table(ft, op, file, last_op)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="interpret_operation_flat_table_+3A_ft">ft</code></td>
<td>
<p>flat table</p>
</td></tr>
<tr><td><code id="interpret_operation_flat_table_+3A_op">op</code></td>
<td>
<p>operation</p>
</td></tr>
<tr><td><code id="interpret_operation_flat_table_+3A_file">file</code></td>
<td>
<p>file to write the code</p>
</td></tr>
<tr><td><code id="interpret_operation_flat_table_+3A_last_op">last_op</code></td>
<td>
<p>A boolean, is the last operation?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A flat table.
</p>

<hr>
<h2 id='interpret_operation_group_dimension_instances'>Interpret operation</h2><span id='topic+interpret_operation_group_dimension_instances'></span>

<h3>Description</h3>

<p>operation,                  name
&quot;group_dimension_instances&quot;, name)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>interpret_operation_group_dimension_instances(ft, op, file, last_op)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="interpret_operation_group_dimension_instances_+3A_ft">ft</code></td>
<td>
<p>flat table</p>
</td></tr>
<tr><td><code id="interpret_operation_group_dimension_instances_+3A_op">op</code></td>
<td>
<p>operation</p>
</td></tr>
<tr><td><code id="interpret_operation_group_dimension_instances_+3A_file">file</code></td>
<td>
<p>file to write the code</p>
</td></tr>
<tr><td><code id="interpret_operation_group_dimension_instances_+3A_last_op">last_op</code></td>
<td>
<p>A boolean, is the last operation?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A flat table.
</p>

<hr>
<h2 id='interpret_operation_join_lookup_table'>Interpret operation</h2><span id='topic+interpret_operation_join_lookup_table'></span>

<h3>Description</h3>

<p>operation,          name,          details, details2
&quot;join_lookup_table&quot;, fk_attributes, pos)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>interpret_operation_join_lookup_table(ft, op, lookup_tables, file, last_op)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="interpret_operation_join_lookup_table_+3A_ft">ft</code></td>
<td>
<p>flat table</p>
</td></tr>
<tr><td><code id="interpret_operation_join_lookup_table_+3A_op">op</code></td>
<td>
<p>operation</p>
</td></tr>
<tr><td><code id="interpret_operation_join_lookup_table_+3A_lookup_tables">lookup_tables</code></td>
<td>
<p>lookup tables</p>
</td></tr>
<tr><td><code id="interpret_operation_join_lookup_table_+3A_file">file</code></td>
<td>
<p>file to write the code</p>
</td></tr>
<tr><td><code id="interpret_operation_join_lookup_table_+3A_last_op">last_op</code></td>
<td>
<p>A boolean, is the last operation?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A flat table.
</p>

<hr>
<h2 id='interpret_operation_lookup_table'>Interpret operation</h2><span id='topic+interpret_operation_lookup_table'></span>

<h3>Description</h3>

<p>operation,       name,        details,                           details2
&quot;lookup_table&quot;, pk_attributes, c(attributes, '|', attribute_agg), c(measures, '|', measure_agg)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>interpret_operation_lookup_table(ft, op, file, last_op)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="interpret_operation_lookup_table_+3A_ft">ft</code></td>
<td>
<p>flat table</p>
</td></tr>
<tr><td><code id="interpret_operation_lookup_table_+3A_op">op</code></td>
<td>
<p>operation</p>
</td></tr>
<tr><td><code id="interpret_operation_lookup_table_+3A_file">file</code></td>
<td>
<p>file to write the code</p>
</td></tr>
<tr><td><code id="interpret_operation_lookup_table_+3A_last_op">last_op</code></td>
<td>
<p>A boolean, is the last operation?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A flat table.
</p>

<hr>
<h2 id='interpret_operation_remove_instances_without_measures'>Interpret operation</h2><span id='topic+interpret_operation_remove_instances_without_measures'></span>

<h3>Description</h3>

<p>operation,
&quot;remove_instances_without_measures&quot;)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>interpret_operation_remove_instances_without_measures(ft, op, file, last_op)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="interpret_operation_remove_instances_without_measures_+3A_ft">ft</code></td>
<td>
<p>flat table</p>
</td></tr>
<tr><td><code id="interpret_operation_remove_instances_without_measures_+3A_op">op</code></td>
<td>
<p>operation</p>
</td></tr>
<tr><td><code id="interpret_operation_remove_instances_without_measures_+3A_file">file</code></td>
<td>
<p>file to write the code</p>
</td></tr>
<tr><td><code id="interpret_operation_remove_instances_without_measures_+3A_last_op">last_op</code></td>
<td>
<p>A boolean, is the last operation?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A flat table.
</p>

<hr>
<h2 id='interpret_operation_replace_attribute_values'>Interpret operation</h2><span id='topic+interpret_operation_replace_attribute_values'></span>

<h3>Description</h3>

<p>operation,                 name,                     details, details2
&quot;replace_attribute_values&quot;, attributes,               old,     new)
&quot;replace_attribute_values&quot;, c(name, &quot;|&quot;, attributes), old,     new)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>interpret_operation_replace_attribute_values(ft, op, file, last_op)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="interpret_operation_replace_attribute_values_+3A_ft">ft</code></td>
<td>
<p>flat table</p>
</td></tr>
<tr><td><code id="interpret_operation_replace_attribute_values_+3A_op">op</code></td>
<td>
<p>operation</p>
</td></tr>
<tr><td><code id="interpret_operation_replace_attribute_values_+3A_file">file</code></td>
<td>
<p>file to write the code</p>
</td></tr>
<tr><td><code id="interpret_operation_replace_attribute_values_+3A_last_op">last_op</code></td>
<td>
<p>A boolean, is the last operation?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A flat table.
</p>

<hr>
<h2 id='interpret_operation_replace_empty_values'>Interpret operation</h2><span id='topic+interpret_operation_replace_empty_values'></span>

<h3>Description</h3>

<p>operation,             name,       details,                  details2
&quot;replace_empty_values&quot;, attributes, empty_values
</p>


<h3>Usage</h3>

<pre><code class='language-R'>interpret_operation_replace_empty_values(ft, op, file, last_op)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="interpret_operation_replace_empty_values_+3A_ft">ft</code></td>
<td>
<p>flat table</p>
</td></tr>
<tr><td><code id="interpret_operation_replace_empty_values_+3A_op">op</code></td>
<td>
<p>operation</p>
</td></tr>
<tr><td><code id="interpret_operation_replace_empty_values_+3A_file">file</code></td>
<td>
<p>file to write the code</p>
</td></tr>
<tr><td><code id="interpret_operation_replace_empty_values_+3A_last_op">last_op</code></td>
<td>
<p>A boolean, is the last operation?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A flat table.
</p>

<hr>
<h2 id='interpret_operation_replace_string'>Interpret operation</h2><span id='topic+interpret_operation_replace_string'></span>

<h3>Description</h3>

<p>operation,       name,       details, details2
&quot;replace_string&quot;, attributes, string, replacement)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>interpret_operation_replace_string(ft, op, file, last_op)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="interpret_operation_replace_string_+3A_ft">ft</code></td>
<td>
<p>flat table</p>
</td></tr>
<tr><td><code id="interpret_operation_replace_string_+3A_op">op</code></td>
<td>
<p>operation</p>
</td></tr>
<tr><td><code id="interpret_operation_replace_string_+3A_file">file</code></td>
<td>
<p>file to write the code</p>
</td></tr>
<tr><td><code id="interpret_operation_replace_string_+3A_last_op">last_op</code></td>
<td>
<p>A boolean, is the last operation?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A flat table.
</p>

<hr>
<h2 id='interpret_operation_replace_unknown_values'>Interpret operation</h2><span id='topic+interpret_operation_replace_unknown_values'></span>

<h3>Description</h3>

<p>operation,                name,       details, details2
&quot;replace_unknown_values&quot;,  attributes, value)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>interpret_operation_replace_unknown_values(ft, op, file, last_op)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="interpret_operation_replace_unknown_values_+3A_ft">ft</code></td>
<td>
<p>flat table</p>
</td></tr>
<tr><td><code id="interpret_operation_replace_unknown_values_+3A_op">op</code></td>
<td>
<p>operation</p>
</td></tr>
<tr><td><code id="interpret_operation_replace_unknown_values_+3A_file">file</code></td>
<td>
<p>file to write the code</p>
</td></tr>
<tr><td><code id="interpret_operation_replace_unknown_values_+3A_last_op">last_op</code></td>
<td>
<p>A boolean, is the last operation?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A flat table.
</p>

<hr>
<h2 id='interpret_operation_role_playing_dimension'>Interpret operation</h2><span id='topic+interpret_operation_role_playing_dimension'></span>

<h3>Description</h3>

<p>operation,                name, details, details2
&quot;role_playing_dimension&quot;,  rpd,  roles,   att_names)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>interpret_operation_role_playing_dimension(ft, op, file, last_op)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="interpret_operation_role_playing_dimension_+3A_ft">ft</code></td>
<td>
<p>flat table</p>
</td></tr>
<tr><td><code id="interpret_operation_role_playing_dimension_+3A_op">op</code></td>
<td>
<p>operation</p>
</td></tr>
<tr><td><code id="interpret_operation_role_playing_dimension_+3A_file">file</code></td>
<td>
<p>file to write the code</p>
</td></tr>
<tr><td><code id="interpret_operation_role_playing_dimension_+3A_last_op">last_op</code></td>
<td>
<p>A boolean, is the last operation?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A flat table.
</p>

<hr>
<h2 id='interpret_operation_select_attributes'>Interpret operation</h2><span id='topic+interpret_operation_select_attributes'></span>

<h3>Description</h3>

<p>operation,          name
&quot;select_attributes&quot;, attributes)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>interpret_operation_select_attributes(ft, op, file, last_op)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="interpret_operation_select_attributes_+3A_ft">ft</code></td>
<td>
<p>flat table</p>
</td></tr>
<tr><td><code id="interpret_operation_select_attributes_+3A_op">op</code></td>
<td>
<p>operation</p>
</td></tr>
<tr><td><code id="interpret_operation_select_attributes_+3A_file">file</code></td>
<td>
<p>file to write the code</p>
</td></tr>
<tr><td><code id="interpret_operation_select_attributes_+3A_last_op">last_op</code></td>
<td>
<p>A boolean, is the last operation?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A flat table.
</p>

<hr>
<h2 id='interpret_operation_select_instances'>Interpret operation</h2><span id='topic+interpret_operation_select_instances'></span>

<h3>Description</h3>

<p>operation,       name,       details, details2
&quot;select_instances&quot;, not, attributes, unlist(values)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>interpret_operation_select_instances(ft, op, file, last_op)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="interpret_operation_select_instances_+3A_ft">ft</code></td>
<td>
<p>flat table</p>
</td></tr>
<tr><td><code id="interpret_operation_select_instances_+3A_op">op</code></td>
<td>
<p>operation</p>
</td></tr>
<tr><td><code id="interpret_operation_select_instances_+3A_file">file</code></td>
<td>
<p>file to write the code</p>
</td></tr>
<tr><td><code id="interpret_operation_select_instances_+3A_last_op">last_op</code></td>
<td>
<p>A boolean, is the last operation?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A flat table.
</p>

<hr>
<h2 id='interpret_operation_select_instances_by_comparison'>Interpret operation</h2><span id='topic+interpret_operation_select_instances_by_comparison'></span>

<h3>Description</h3>

<p>operation,                       name,              details,            details2
&quot;select_instances_by_comparison&quot;, c(not, n_ele_set), unlist(attributes), c(unlist(comparisons), unlist(values))
</p>


<h3>Usage</h3>

<pre><code class='language-R'>interpret_operation_select_instances_by_comparison(ft, op, file, last_op)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="interpret_operation_select_instances_by_comparison_+3A_ft">ft</code></td>
<td>
<p>flat table</p>
</td></tr>
<tr><td><code id="interpret_operation_select_instances_by_comparison_+3A_op">op</code></td>
<td>
<p>operation</p>
</td></tr>
<tr><td><code id="interpret_operation_select_instances_by_comparison_+3A_file">file</code></td>
<td>
<p>file to write the code</p>
</td></tr>
<tr><td><code id="interpret_operation_select_instances_by_comparison_+3A_last_op">last_op</code></td>
<td>
<p>A boolean, is the last operation?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A flat table.
</p>

<hr>
<h2 id='interpret_operation_select_measures'>Interpret operation</h2><span id='topic+interpret_operation_select_measures'></span>

<h3>Description</h3>

<p>operation,          name,   details
&quot;select_measures&quot;, measures, na_rm
</p>


<h3>Usage</h3>

<pre><code class='language-R'>interpret_operation_select_measures(ft, op, file, last_op)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="interpret_operation_select_measures_+3A_ft">ft</code></td>
<td>
<p>flat table</p>
</td></tr>
<tr><td><code id="interpret_operation_select_measures_+3A_op">op</code></td>
<td>
<p>operation</p>
</td></tr>
<tr><td><code id="interpret_operation_select_measures_+3A_file">file</code></td>
<td>
<p>file to write the code</p>
</td></tr>
<tr><td><code id="interpret_operation_select_measures_+3A_last_op">last_op</code></td>
<td>
<p>A boolean, is the last operation?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A flat table.
</p>

<hr>
<h2 id='interpret_operation_separate_measures'>Interpret operation</h2><span id='topic+interpret_operation_separate_measures'></span>

<h3>Description</h3>

<p>operation,          name,     details,            details2
&quot;separate_measures&quot;, measures, c(name, names), na_rm)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>interpret_operation_separate_measures(ft, op, file, last_op)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="interpret_operation_separate_measures_+3A_ft">ft</code></td>
<td>
<p>flat table</p>
</td></tr>
<tr><td><code id="interpret_operation_separate_measures_+3A_op">op</code></td>
<td>
<p>operation</p>
</td></tr>
<tr><td><code id="interpret_operation_separate_measures_+3A_file">file</code></td>
<td>
<p>file to write the code</p>
</td></tr>
<tr><td><code id="interpret_operation_separate_measures_+3A_last_op">last_op</code></td>
<td>
<p>A boolean, is the last operation?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A flat table.
</p>

<hr>
<h2 id='interpret_operation_set_attribute_names'>Interpret operation</h2><span id='topic+interpret_operation_set_attribute_names'></span>

<h3>Description</h3>

<p>operation,            name, details, details2
&quot;set_attribute_names&quot;, name, old,     new)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>interpret_operation_set_attribute_names(ft, op, file, last_op)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="interpret_operation_set_attribute_names_+3A_ft">ft</code></td>
<td>
<p>flat table</p>
</td></tr>
<tr><td><code id="interpret_operation_set_attribute_names_+3A_op">op</code></td>
<td>
<p>operation</p>
</td></tr>
<tr><td><code id="interpret_operation_set_attribute_names_+3A_file">file</code></td>
<td>
<p>file to write the code</p>
</td></tr>
<tr><td><code id="interpret_operation_set_attribute_names_+3A_last_op">last_op</code></td>
<td>
<p>A boolean, is the last operation?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A flat table.
</p>

<hr>
<h2 id='interpret_operation_set_measure_names'>Interpret operation</h2><span id='topic+interpret_operation_set_measure_names'></span>

<h3>Description</h3>

<p>operation,            name, details, details2
&quot;set_measure_names&quot;, name, old,     new)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>interpret_operation_set_measure_names(ft, op, file, last_op)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="interpret_operation_set_measure_names_+3A_ft">ft</code></td>
<td>
<p>flat table</p>
</td></tr>
<tr><td><code id="interpret_operation_set_measure_names_+3A_op">op</code></td>
<td>
<p>operation</p>
</td></tr>
<tr><td><code id="interpret_operation_set_measure_names_+3A_file">file</code></td>
<td>
<p>file to write the code</p>
</td></tr>
<tr><td><code id="interpret_operation_set_measure_names_+3A_last_op">last_op</code></td>
<td>
<p>A boolean, is the last operation?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A flat table.
</p>

<hr>
<h2 id='interpret_operation_snake_case'>Interpret operation</h2><span id='topic+interpret_operation_snake_case'></span>

<h3>Description</h3>

<p>operation,
&quot;snake_case&quot;)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>interpret_operation_snake_case(ft, op, file, last_op)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="interpret_operation_snake_case_+3A_ft">ft</code></td>
<td>
<p>flat table</p>
</td></tr>
<tr><td><code id="interpret_operation_snake_case_+3A_op">op</code></td>
<td>
<p>operation</p>
</td></tr>
<tr><td><code id="interpret_operation_snake_case_+3A_file">file</code></td>
<td>
<p>file to write the code</p>
</td></tr>
<tr><td><code id="interpret_operation_snake_case_+3A_last_op">last_op</code></td>
<td>
<p>A boolean, is the last operation?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A flat table.
</p>

<hr>
<h2 id='interpret_operation_star_database'>Interpret operation</h2><span id='topic+interpret_operation_star_database'></span>

<h3>Description</h3>

<p>operation,                name,    details,      details2
&quot;star_database&quot;, names(db$schemas), unknown_value)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>interpret_operation_star_database(ft, op, schema, file, last_op)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="interpret_operation_star_database_+3A_ft">ft</code></td>
<td>
<p>flat table</p>
</td></tr>
<tr><td><code id="interpret_operation_star_database_+3A_op">op</code></td>
<td>
<p>operation</p>
</td></tr>
<tr><td><code id="interpret_operation_star_database_+3A_schema">schema</code></td>
<td>
<p>multidimensional schema</p>
</td></tr>
<tr><td><code id="interpret_operation_star_database_+3A_file">file</code></td>
<td>
<p>file to write the code</p>
</td></tr>
<tr><td><code id="interpret_operation_star_database_+3A_last_op">last_op</code></td>
<td>
<p>A boolean, is the last operation?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A flat table.
</p>

<hr>
<h2 id='interpret_operation_transform_attribute_format'>Interpret operation</h2><span id='topic+interpret_operation_transform_attribute_format'></span>

<h3>Description</h3>

<p>operation,                   name,       details,                  details2
&quot;transform_attribute_format&quot;, attributes, c(width, decimal_places), c(k_sep, decimal_sep, space_filling)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>interpret_operation_transform_attribute_format(ft, op, file, last_op)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="interpret_operation_transform_attribute_format_+3A_ft">ft</code></td>
<td>
<p>flat table</p>
</td></tr>
<tr><td><code id="interpret_operation_transform_attribute_format_+3A_op">op</code></td>
<td>
<p>operation</p>
</td></tr>
<tr><td><code id="interpret_operation_transform_attribute_format_+3A_file">file</code></td>
<td>
<p>file to write the code</p>
</td></tr>
<tr><td><code id="interpret_operation_transform_attribute_format_+3A_last_op">last_op</code></td>
<td>
<p>A boolean, is the last operation?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A flat table.
</p>

<hr>
<h2 id='interpret_operation_transform_from_values'>Interpret operation</h2><span id='topic+interpret_operation_transform_from_values'></span>

<h3>Description</h3>

<p>operation,              name,
&quot;transform_from_values&quot;, attribute)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>interpret_operation_transform_from_values(ft, op, file, last_op)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="interpret_operation_transform_from_values_+3A_ft">ft</code></td>
<td>
<p>flat table</p>
</td></tr>
<tr><td><code id="interpret_operation_transform_from_values_+3A_op">op</code></td>
<td>
<p>operation</p>
</td></tr>
<tr><td><code id="interpret_operation_transform_from_values_+3A_file">file</code></td>
<td>
<p>file to write the code</p>
</td></tr>
<tr><td><code id="interpret_operation_transform_from_values_+3A_last_op">last_op</code></td>
<td>
<p>A boolean, is the last operation?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A flat table.
</p>

<hr>
<h2 id='interpret_operation_transform_to_attribute'>Interpret operation</h2><span id='topic+interpret_operation_transform_to_attribute'></span>

<h3>Description</h3>

<p>operation,               name,     details,                  details2
&quot;transform_to_attribute&quot;, measures, c(width, decimal_places), c(k_sep, decimal_sep)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>interpret_operation_transform_to_attribute(ft, op, file, last_op)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="interpret_operation_transform_to_attribute_+3A_ft">ft</code></td>
<td>
<p>flat table</p>
</td></tr>
<tr><td><code id="interpret_operation_transform_to_attribute_+3A_op">op</code></td>
<td>
<p>operation</p>
</td></tr>
<tr><td><code id="interpret_operation_transform_to_attribute_+3A_file">file</code></td>
<td>
<p>file to write the code</p>
</td></tr>
<tr><td><code id="interpret_operation_transform_to_attribute_+3A_last_op">last_op</code></td>
<td>
<p>A boolean, is the last operation?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A flat table.
</p>

<hr>
<h2 id='interpret_operation_transform_to_measure'>Interpret operation</h2><span id='topic+interpret_operation_transform_to_measure'></span>

<h3>Description</h3>

<p>operation,             name,       details, details2
&quot;transform_to_measure&quot;, attributes, k_sep, decimal_sep
</p>


<h3>Usage</h3>

<pre><code class='language-R'>interpret_operation_transform_to_measure(ft, op, file, last_op)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="interpret_operation_transform_to_measure_+3A_ft">ft</code></td>
<td>
<p>flat table</p>
</td></tr>
<tr><td><code id="interpret_operation_transform_to_measure_+3A_op">op</code></td>
<td>
<p>operation</p>
</td></tr>
<tr><td><code id="interpret_operation_transform_to_measure_+3A_file">file</code></td>
<td>
<p>file to write the code</p>
</td></tr>
<tr><td><code id="interpret_operation_transform_to_measure_+3A_last_op">last_op</code></td>
<td>
<p>A boolean, is the last operation?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A flat table.
</p>

<hr>
<h2 id='interpret_operation_transform_to_values'>Interpret operation</h2><span id='topic+interpret_operation_transform_to_values'></span>

<h3>Description</h3>

<p>operation,            name,      details, details2
&quot;transform_to_values&quot;, attribute, measure, c(id_reverse, na_rm))
</p>


<h3>Usage</h3>

<pre><code class='language-R'>interpret_operation_transform_to_values(ft, op, file, last_op)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="interpret_operation_transform_to_values_+3A_ft">ft</code></td>
<td>
<p>flat table</p>
</td></tr>
<tr><td><code id="interpret_operation_transform_to_values_+3A_op">op</code></td>
<td>
<p>operation</p>
</td></tr>
<tr><td><code id="interpret_operation_transform_to_values_+3A_file">file</code></td>
<td>
<p>file to write the code</p>
</td></tr>
<tr><td><code id="interpret_operation_transform_to_values_+3A_last_op">last_op</code></td>
<td>
<p>A boolean, is the last operation?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A flat table.
</p>

<hr>
<h2 id='is_empty_string'>check if a string is empty</h2><span id='topic+is_empty_string'></span>

<h3>Description</h3>

<p>check if a string is empty
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_empty_string(string)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_empty_string_+3A_string">string</code></td>
<td>
<p>A string.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A boolean.
</p>

<hr>
<h2 id='is_new_operation'>A <code>star_operation</code> is new?</h2><span id='topic+is_new_operation'></span>

<h3>Description</h3>

<p>A <code>star_operation</code> is new?
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_new_operation(op, op_name, name = NULL, details = NULL, details2 = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_new_operation_+3A_op">op</code></td>
<td>
<p>A <code>star_operation</code> object.</p>
</td></tr>
<tr><td><code id="is_new_operation_+3A_op_name">op_name</code></td>
<td>
<p>A string, operation name.</p>
</td></tr>
<tr><td><code id="is_new_operation_+3A_name">name</code></td>
<td>
<p>A string, element name.</p>
</td></tr>
<tr><td><code id="is_new_operation_+3A_details">details</code></td>
<td>
<p>A vector of strings, operation details.</p>
</td></tr>
<tr><td><code id="is_new_operation_+3A_details2">details2</code></td>
<td>
<p>A vector of strings, operation additional details.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A boolean.
</p>

<hr>
<h2 id='is_scd'>Is a scd dimension</h2><span id='topic+is_scd'></span>

<h3>Description</h3>

<p>Is a scd dimension
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_scd(schema)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_scd_+3A_schema">schema</code></td>
<td>
<p>A <code>dimension_schema</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A boolean.
</p>

<hr>
<h2 id='join_lookup_table'>Join a flat table with a lookup table</h2><span id='topic+join_lookup_table'></span><span id='topic+join_lookup_table.flat_table'></span>

<h3>Description</h3>

<p>To join a flat table with a lookup table, the attributes of the first table
that will be used in the operation are indicated. The lookup table must have
the primary key previously defined.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>join_lookup_table(ft, fk_attributes, lookup)

## S3 method for class 'flat_table'
join_lookup_table(ft, fk_attributes = NULL, lookup)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="join_lookup_table_+3A_ft">ft</code></td>
<td>
<p>A <code>flat_table</code> object.</p>
</td></tr>
<tr><td><code id="join_lookup_table_+3A_fk_attributes">fk_attributes</code></td>
<td>
<p>A vector of strings, attribute names.</p>
</td></tr>
<tr><td><code id="join_lookup_table_+3A_lookup">lookup</code></td>
<td>
<p>A <code>flat_table</code> object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If no attributes are indicated, those that form the primary key of the lookup
table are considered in the flat table.
</p>


<h3>Value</h3>

<p>A <code>flat_table</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+flat_table">flat_table</a></code>
</p>
<p>Other flat table join functions: 
<code><a href="#topic+check_lookup_table">check_lookup_table</a>()</code>,
<code><a href="#topic+get_pk_attribute_names">get_pk_attribute_names</a>()</code>,
<code><a href="#topic+lookup_table">lookup_table</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
lookup &lt;- flat_table('iris', iris) |&gt;
  lookup_table(
    measures = c("Sepal.Length", "Sepal.Width", "Petal.Length", "Petal.Width"),
    measure_agg = c('MAX', 'MIN', 'SUM', 'MEAN')
  )
ft &lt;- flat_table('iris', iris) |&gt;
  join_lookup_table(lookup = lookup)

</code></pre>

<hr>
<h2 id='line_last_op'>Get line last operation</h2><span id='topic+line_last_op'></span>

<h3>Description</h3>

<p>Get line last operation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>line_last_op(last_op)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="line_last_op_+3A_last_op">last_op</code></td>
<td>
<p>A boolean, is the last operation?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string
</p>

<hr>
<h2 id='load_star_database'>Load star_database (from a RDS file)</h2><span id='topic+load_star_database'></span>

<h3>Description</h3>

<p>Load star_database (from a RDS file)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>load_star_database(file)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="load_star_database_+3A_file">file</code></td>
<td>
<p>A string, name of the file that stores the object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>star_database</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+star_database">star_database</a></code>
</p>
<p>Other star database deployment functions: 
<code><a href="#topic+cancel_deployment">cancel_deployment</a>()</code>,
<code><a href="#topic+deploy">deploy</a>()</code>,
<code><a href="#topic+get_deployment_names">get_deployment_names</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
mrs_rdb_file &lt;- tempfile("mrs", fileext = ".rdb")
mrs_sqlite_file &lt;- tempfile("mrs", fileext = ".sqlite")

mrs_sqlite_connect &lt;- function() {
  DBI::dbConnect(RSQLite::SQLite(),
                 dbname = mrs_sqlite_file)
}

mrs_db &lt;- mrs_db |&gt;
  deploy(
    name = "mrs",
    connect = mrs_sqlite_connect,
    file = mrs_rdb_file
  )

mrs_db2 &lt;- load_star_database(mrs_rdb_file)

</code></pre>

<hr>
<h2 id='lookup_table'>Transform a flat table into a look up table</h2><span id='topic+lookup_table'></span><span id='topic+lookup_table.flat_table'></span>

<h3>Description</h3>

<p>Checks that the given attributes form a primary key of the table. Otherwise,
group the records so that they form a primary key. To carry out the groupings,
aggregation functions for attributes and measures must be provided.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lookup_table(
  ft,
  pk_attributes,
  attributes,
  attribute_agg,
  measures,
  measure_agg
)

## S3 method for class 'flat_table'
lookup_table(
  ft,
  pk_attributes = NULL,
  attributes = NULL,
  attribute_agg = NULL,
  measures = NULL,
  measure_agg = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lookup_table_+3A_ft">ft</code></td>
<td>
<p>A <code>flat_table</code> object.</p>
</td></tr>
<tr><td><code id="lookup_table_+3A_pk_attributes">pk_attributes</code></td>
<td>
<p>A vector of strings, attribute names.</p>
</td></tr>
<tr><td><code id="lookup_table_+3A_attributes">attributes</code></td>
<td>
<p>A vector of strings, rest of attribute names.</p>
</td></tr>
<tr><td><code id="lookup_table_+3A_attribute_agg">attribute_agg</code></td>
<td>
<p>A vector of strings, attribute aggregation functions.</p>
</td></tr>
<tr><td><code id="lookup_table_+3A_measures">measures</code></td>
<td>
<p>A vector of strings, measure names.</p>
</td></tr>
<tr><td><code id="lookup_table_+3A_measure_agg">measure_agg</code></td>
<td>
<p>A vector of strings, measure aggregation functions.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If the table does not have measures, attributes with equal values are grouped
without the need to indicate a grouping function.
</p>
<p>If no attribute is indicated, all the attributes are considered to form the
primary key.
</p>


<h3>Value</h3>

<p>A <code>flat_table</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+flat_table">flat_table</a></code>
</p>
<p>Other flat table join functions: 
<code><a href="#topic+check_lookup_table">check_lookup_table</a>()</code>,
<code><a href="#topic+get_pk_attribute_names">get_pk_attribute_names</a>()</code>,
<code><a href="#topic+join_lookup_table">join_lookup_table</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ft &lt;- flat_table('iris', iris) |&gt;
  lookup_table(
    measures = c("Sepal.Length", "Sepal.Width", "Petal.Length", "Petal.Width"),
    measure_agg = c('MAX', 'MIN', 'SUM', 'MEAN')
  )

</code></pre>

<hr>
<h2 id='mrs_age_schema'>Star schema for Mortality Reporting System by Age</h2><span id='topic+mrs_age_schema'></span>

<h3>Description</h3>

<p>Definition of schemas for facts and dimensions for the Mortality Reporting System
considering the age classification.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mrs_age_schema
</code></pre>


<h3>Format</h3>

<p>A <code>star_schema</code> object.
</p>


<h3>Details</h3>

<p>Dimension schemes can be defined using variables so that you do not have to repeat
the definition in several multidimensional designs.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ft_age">ft_age</a></code>
</p>
<p>Other mrs example schema: 
<code><a href="#topic+mrs_age_schema_rpd">mrs_age_schema_rpd</a></code>,
<code><a href="#topic+mrs_cause_schema_rpd">mrs_cause_schema_rpd</a></code>,
<code><a href="#topic+mrs_cause_schema">mrs_cause_schema</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Defined by:

when &lt;- dimension_schema(name = "When",
                         attributes = c("Year"))
where &lt;- dimension_schema(name = "Where",
                          attributes = c("REGION",
                                         "State",
                                         "City"))
mrs_age_schema &lt;- star_schema() |&gt;
  define_facts(name = "MRS Age",
               measures = c("All Deaths")) |&gt;
  define_dimension(when) |&gt;
  define_dimension(where) |&gt;
  define_dimension(name = "Who",
                   attributes = c("Age"))

</code></pre>

<hr>
<h2 id='mrs_age_schema_rpd'>Star schema for Mortality Reporting System by Age with additional dates</h2><span id='topic+mrs_age_schema_rpd'></span>

<h3>Description</h3>

<p>Definition of schemas for facts and dimensions for the Mortality Reporting System
considering the cause classification with additional dates to be used as role
playing dimensions..
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mrs_age_schema_rpd
</code></pre>


<h3>Format</h3>

<p>A <code>star_schema</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ft_age_rpd">ft_age_rpd</a></code>
</p>
<p>Other mrs example schema: 
<code><a href="#topic+mrs_age_schema">mrs_age_schema</a></code>,
<code><a href="#topic+mrs_cause_schema_rpd">mrs_cause_schema_rpd</a></code>,
<code><a href="#topic+mrs_cause_schema">mrs_cause_schema</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Defined by:

mrs_age_schema_rpd &lt;- star_schema() |&gt;
  define_facts(fact_schema(
    name = "mrs_age",
    measures = c(
      "Deaths"
    )
  )) |&gt;
  define_dimension(dimension_schema(
    name = "When",
    attributes = c(
      "Year",
      "WEEK",
      "Week Ending Date"
    )
  )) |&gt;
  define_dimension(dimension_schema(
    name = "When Available",
    attributes = c(
      "Data Availability Year",
      "Data Availability Week",
      "Data Availability Date"
    )
  )) |&gt;
  define_dimension(dimension_schema(
    name = "When Arrived",
    attributes = c(
      "Arrival Year",
      "Arrival Week",
      "Arrival Date"
    )
  )) |&gt;
  define_dimension(dimension_schema(
    name = "Who",
    attributes = c(
      "Age Range"
    )
  )) |&gt;
  define_dimension(dimension_schema(
    name = "where",
    attributes = c(
      "REGION",
      "State",
      "City"
    )
  ))

</code></pre>

<hr>
<h2 id='mrs_cause_schema'>Star schema for Mortality Reporting System by Cause</h2><span id='topic+mrs_cause_schema'></span>

<h3>Description</h3>

<p>Definition of schemas for facts and dimensions for the Mortality Reporting System
considering the cause classification.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mrs_cause_schema
</code></pre>


<h3>Format</h3>

<p>A <code>star_schema</code> object.
</p>


<h3>Details</h3>

<p>Dimension schemes can be defined using variables so that you do not have to repeat
the definition in several multidimensional designs.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ft_num">ft_num</a></code>
</p>
<p>Other mrs example schema: 
<code><a href="#topic+mrs_age_schema_rpd">mrs_age_schema_rpd</a></code>,
<code><a href="#topic+mrs_age_schema">mrs_age_schema</a></code>,
<code><a href="#topic+mrs_cause_schema_rpd">mrs_cause_schema_rpd</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Defined by:

when &lt;- dimension_schema(name = "When",
                         attributes = c("Year"))
where &lt;- dimension_schema(name = "Where",
                          attributes = c("REGION",
                                         "State",
                                         "City"))
mrs_cause_schema &lt;- star_schema() |&gt;
  define_facts(name = "MRS Cause",
               measures = c("Pneumonia and Influenza Deaths",
                            "All Deaths")) |&gt;
  define_dimension(when) |&gt;
  define_dimension(where)

</code></pre>

<hr>
<h2 id='mrs_cause_schema_rpd'>Star schema for Mortality Reporting System by Cause with additional dates</h2><span id='topic+mrs_cause_schema_rpd'></span>

<h3>Description</h3>

<p>Definition of schemas for facts and dimensions for the Mortality Reporting System
considering the cause classification with additional dates to be used as role
playing dimensions..
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mrs_cause_schema_rpd
</code></pre>


<h3>Format</h3>

<p>A <code>star_schema</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ft_cause_rpd">ft_cause_rpd</a></code>
</p>
<p>Other mrs example schema: 
<code><a href="#topic+mrs_age_schema_rpd">mrs_age_schema_rpd</a></code>,
<code><a href="#topic+mrs_age_schema">mrs_age_schema</a></code>,
<code><a href="#topic+mrs_cause_schema">mrs_cause_schema</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Defined by:

mrs_cause_schema_rpd &lt;- star_schema() |&gt;
  define_facts(fact_schema(
    name = "mrs_cause",
    measures = c(
      "Pneumonia and Influenza Deaths",
      "All Deaths"
    )
  )) |&gt;
  define_dimension(dimension_schema(
    name = "When",
    attributes = c(
      "Year",
      "WEEK",
      "Week Ending Date"
    )
  )) |&gt;
  define_dimension(dimension_schema(
    name = "When Available",
    attributes = c(
      "Data Availability Year",
      "Data Availability Week",
      "Data Availability Date"
    )
  )) |&gt;
  define_dimension(dimension_schema(
    name = "When Received",
    attributes = c(
      "Reception Year",
      "Reception Week",
      "Reception Date"
    )
  )) |&gt;
  define_dimension(dimension_schema(
    name = "where",
    attributes = c(
      "REGION",
      "State",
      "City"
    )
  ))

</code></pre>

<hr>
<h2 id='mrs_db'>Constellation generated from MRS file</h2><span id='topic+mrs_db'></span>

<h3>Description</h3>

<p>The original dataset covers from 1962 to 2016. For each week, in 122 US cities,
from the original file, we have stored in the package a file with the same
format as the original file but that includes only 1% of its data, selected at
random.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mrs_db
</code></pre>


<h3>Format</h3>

<p>A <code>star_database</code>.
</p>


<h3>Details</h3>

<p>From these data the constellation in the vignette titled 'Obtaining and
transforming flat tables' has been generated. This variable contains the defined
constellation.
</p>


<h3>Source</h3>

<p><a href="https://catalog.data.gov/dataset/deaths-in-122-u-s-cities-1962-2016-122-cities-mortality-reporting-system">https://catalog.data.gov/dataset/deaths-in-122-u-s-cities-1962-2016-122-cities-mortality-reporting-system</a>
</p>


<h3>See Also</h3>

<p>Other mrs example data: 
<code><a href="#topic+ft_age_rpd">ft_age_rpd</a></code>,
<code><a href="#topic+ft_age">ft_age</a></code>,
<code><a href="#topic+ft_cause_rpd">ft_cause_rpd</a></code>,
<code><a href="#topic+ft_num">ft_num</a></code>,
<code><a href="#topic+ft">ft</a></code>,
<code><a href="#topic+mrs_db_geo">mrs_db_geo</a></code>,
<code><a href="#topic+mrs_ft_new">mrs_ft_new</a></code>,
<code><a href="#topic+mrs_ft">mrs_ft</a></code>
</p>

<hr>
<h2 id='mrs_db_geo'>Constellation generated from MRS file through a query and with geographic information</h2><span id='topic+mrs_db_geo'></span>

<h3>Description</h3>

<p>The original dataset covers from 1962 to 2016. For each week, in 122 US cities,
from the original file, we have stored in the package a file with the same
format as the original file but that includes only 1% of its data, selected at
random.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mrs_db_geo
</code></pre>


<h3>Format</h3>

<p>A <code>star_database</code>.
</p>


<h3>Details</h3>

<p>From these data the constellation in the vignette titled 'Obtaining and
transforming flat tables' has been generated. This variable contains the defined
constellation.
</p>


<h3>Source</h3>

<p><a href="https://catalog.data.gov/dataset/deaths-in-122-u-s-cities-1962-2016-122-cities-mortality-reporting-system">https://catalog.data.gov/dataset/deaths-in-122-u-s-cities-1962-2016-122-cities-mortality-reporting-system</a>
</p>


<h3>See Also</h3>

<p>Other mrs example data: 
<code><a href="#topic+ft_age_rpd">ft_age_rpd</a></code>,
<code><a href="#topic+ft_age">ft_age</a></code>,
<code><a href="#topic+ft_cause_rpd">ft_cause_rpd</a></code>,
<code><a href="#topic+ft_num">ft_num</a></code>,
<code><a href="#topic+ft">ft</a></code>,
<code><a href="#topic+mrs_db">mrs_db</a></code>,
<code><a href="#topic+mrs_ft_new">mrs_ft_new</a></code>,
<code><a href="#topic+mrs_ft">mrs_ft</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Defined by:

sq &lt;- mrs_db |&gt;
  star_query() |&gt;
  select_dimension(name = "where",
                   attributes = "state") |&gt;
  select_dimension(name = "when",
                   attributes = "year") |&gt;
  select_fact(
    name = "mrs_age",
    measures = "all_deaths"
  )  |&gt;
  select_fact(
    name = "mrs_cause",
    measures = "pneumonia_and_influenza_deaths"
  )

db &lt;- mrs_db |&gt;
  run_query(sq)

mrs_db_geo &lt;- db |&gt;
  define_geoattribute(
    dimension = "where",
    attribute = "state",
    from_layer = us_layer_state,
    by = "STUSPS"
  )

</code></pre>

<hr>
<h2 id='mrs_ft'>Flat table generated from MRS file</h2><span id='topic+mrs_ft'></span>

<h3>Description</h3>

<p>The original dataset covers from 1962 to 2016. For each week, in 122 US cities,
from the original file, we have stored in the package a file with the same
format as the original file but that includes only 1% of its data, selected at
random.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mrs_ft
</code></pre>


<h3>Format</h3>

<p>A <code>flat_table</code>.
</p>


<h3>Source</h3>

<p><a href="https://catalog.data.gov/dataset/deaths-in-122-u-s-cities-1962-2016-122-cities-mortality-reporting-system">https://catalog.data.gov/dataset/deaths-in-122-u-s-cities-1962-2016-122-cities-mortality-reporting-system</a>
</p>


<h3>See Also</h3>

<p>Other mrs example data: 
<code><a href="#topic+ft_age_rpd">ft_age_rpd</a></code>,
<code><a href="#topic+ft_age">ft_age</a></code>,
<code><a href="#topic+ft_cause_rpd">ft_cause_rpd</a></code>,
<code><a href="#topic+ft_num">ft_num</a></code>,
<code><a href="#topic+ft">ft</a></code>,
<code><a href="#topic+mrs_db_geo">mrs_db_geo</a></code>,
<code><a href="#topic+mrs_db">mrs_db</a></code>,
<code><a href="#topic+mrs_ft_new">mrs_ft_new</a></code>
</p>

<hr>
<h2 id='mrs_ft_new'>Flat table generated from MRS file</h2><span id='topic+mrs_ft_new'></span>

<h3>Description</h3>

<p>The original dataset covers from 1962 to 2016. For each week, in 122 US cities,
from the original file, we have stored in the package a file with the same
format as the original file but that includes only 0,1% of its data, selected at
random to test the incremental refresh.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mrs_ft_new
</code></pre>


<h3>Format</h3>

<p>A <code>flat_table</code>.
</p>


<h3>Source</h3>

<p><a href="https://catalog.data.gov/dataset/deaths-in-122-u-s-cities-1962-2016-122-cities-mortality-reporting-system">https://catalog.data.gov/dataset/deaths-in-122-u-s-cities-1962-2016-122-cities-mortality-reporting-system</a>
</p>


<h3>See Also</h3>

<p>Other mrs example data: 
<code><a href="#topic+ft_age_rpd">ft_age_rpd</a></code>,
<code><a href="#topic+ft_age">ft_age</a></code>,
<code><a href="#topic+ft_cause_rpd">ft_cause_rpd</a></code>,
<code><a href="#topic+ft_num">ft_num</a></code>,
<code><a href="#topic+ft">ft</a></code>,
<code><a href="#topic+mrs_db_geo">mrs_db_geo</a></code>,
<code><a href="#topic+mrs_db">mrs_db</a></code>,
<code><a href="#topic+mrs_ft">mrs_ft</a></code>
</p>

<hr>
<h2 id='multiple_value_key'>Multiple value key</h2><span id='topic+multiple_value_key'></span>

<h3>Description</h3>

<p>Gets the keys that have multiple values associated with them. The first field
in the table is the key, the rest of fields are the values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>multiple_value_key(tb, col_as_vector = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="multiple_value_key_+3A_tb">tb</code></td>
<td>
<p>A <code>tibble</code>.</p>
</td></tr>
<tr><td><code id="multiple_value_key_+3A_col_as_vector">col_as_vector</code></td>
<td>
<p>A string, name of the column to include a vector of values.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If a name is indicated in the <code>col_as_vector</code> parameter, it includes a column
with the data in vector form to be used in other functions.
</p>


<h3>Value</h3>

<p>A <code>tibble</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
tb &lt;- unique(ft[, c('WEEK', 'Week Ending Date')])
mvk &lt;- multiple_value_key(tb)

</code></pre>

<hr>
<h2 id='name_with_nexus'>Name with nexus</h2><span id='topic+name_with_nexus'></span>

<h3>Description</h3>

<p>Given a name, if it ends in &quot;/&quot; the nexus is the empty string, otherwise it
is &quot;/&quot;. Add the nexus.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>name_with_nexus(name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="name_with_nexus_+3A_name">name</code></td>
<td>
<p>A string.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string.
</p>

<hr>
<h2 id='new_multistar'><code>multistar</code> S3 class</h2><span id='topic+new_multistar'></span>

<h3>Description</h3>

<p>Internal low-level constructor that creates new objects with the correct
structure.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_multistar(fl = list(), dl = list())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="new_multistar_+3A_fl">fl</code></td>
<td>
<p>A <code>fact_table</code> list.</p>
</td></tr>
<tr><td><code id="new_multistar_+3A_dl">dl</code></td>
<td>
<p>A <code>dimension_table</code> list.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It only distinguishes between general and conformed dimensions, each
dimension has its own data. It can contain multiple fact tables.
</p>


<h3>Value</h3>

<p>A <code>multistar</code> object.
</p>

<hr>
<h2 id='prepare_to_join'>Prepare the instances table implemented by a <code>tibble</code> to join</h2><span id='topic+prepare_to_join'></span>

<h3>Description</h3>

<p>Transform all fields in the instances table to character type and replace
the <code>NA</code> values to facilitate the join operation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prepare_to_join(table, unknown_value)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prepare_to_join_+3A_table">table</code></td>
<td>
<p>A <code>tibble</code>, the instances table.</p>
</td></tr>
<tr><td><code id="prepare_to_join_+3A_unknown_value">unknown_value</code></td>
<td>
<p>A string, value used to replace NA values in dimensions.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>tibble</code>.
</p>

<hr>
<h2 id='purge_dimension'>Purge instances of a dimension</h2><span id='topic+purge_dimension'></span>

<h3>Description</h3>

<p>Delete instances of a dimension that are not referenced in the facts.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>purge_dimension(db, dim)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="purge_dimension_+3A_db">db</code></td>
<td>
<p>A <code>star_database</code> object.</p>
</td></tr>
<tr><td><code id="purge_dimension_+3A_dim">dim</code></td>
<td>
<p>A string, dimension name.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>tibble</code>, dimension table.
</p>

<hr>
<h2 id='purge_dimension_instances'>Purge instances of dimensions</h2><span id='topic+purge_dimension_instances'></span>

<h3>Description</h3>

<p>Delete instances of dimensions that are not referenced in the facts.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>purge_dimension_instances(db)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="purge_dimension_instances_+3A_db">db</code></td>
<td>
<p>A <code>star_database</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>star_database</code> object.
</p>

<hr>
<h2 id='purge_dimension_instances_star_database'>Purge instances of dimensions</h2><span id='topic+purge_dimension_instances_star_database'></span>

<h3>Description</h3>

<p>Delete instances of dimensions that are not referenced in the facts.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>purge_dimension_instances_star_database(db)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="purge_dimension_instances_star_database_+3A_db">db</code></td>
<td>
<p>A <code>star_database</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>star_database</code> object.
</p>

<hr>
<h2 id='read_flat_table_file'>Import flat table file</h2><span id='topic+read_flat_table_file'></span>

<h3>Description</h3>

<p>Reads a text file and creates a <code>flat_table</code> object. The file is expected to
contain a flat table whose first row contains the name of the columns. All
columns are considered to be of type String.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_flat_table_file(name, file, sep = ",", page = NULL, unknown_value = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read_flat_table_file_+3A_name">name</code></td>
<td>
<p>A string, flat table name.</p>
</td></tr>
<tr><td><code id="read_flat_table_file_+3A_file">file</code></td>
<td>
<p>A string, name of a text file.</p>
</td></tr>
<tr><td><code id="read_flat_table_file_+3A_sep">sep</code></td>
<td>
<p>Column separator character.</p>
</td></tr>
<tr><td><code id="read_flat_table_file_+3A_page">page</code></td>
<td>
<p>A string, name of the new field in which to include the name of
the file.</p>
</td></tr>
<tr><td><code id="read_flat_table_file_+3A_unknown_value">unknown_value</code></td>
<td>
<p>A string, value used to replace empty and NA values in
attributes.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When multiple files are handled, the file name may contain information
associated with the flat table, it could be the table page information if the
name of a new field in which to store it is indicated in the page parameter.
</p>
<p>We can also indicate the value that is used in the data with undefined values.
</p>


<h3>Value</h3>

<p>A <code>flat_table</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+star_database">star_database</a></code>
</p>
<p>Other flat table definition functions: 
<code><a href="#topic+as_star_database">as_star_database</a>()</code>,
<code><a href="#topic+flat_table">flat_table</a>()</code>,
<code><a href="#topic+get_table">get_table</a>()</code>,
<code><a href="#topic+get_unknown_value_defined">get_unknown_value_defined</a>()</code>,
<code><a href="#topic+get_unknown_values">get_unknown_values</a>()</code>,
<code><a href="#topic+read_flat_table_folder">read_flat_table_folder</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
file &lt;-
  system.file("extdata/mrs",
              "mrs_122_us_cities_1962_2016_new.csv",
              package = "rolap")

ft &lt;- read_flat_table_file('mrs_new', file)

</code></pre>

<hr>
<h2 id='read_flat_table_folder'>Import all flat table files in a folder</h2><span id='topic+read_flat_table_folder'></span>

<h3>Description</h3>

<p>Reads all text files in a folder and creates a <code>flat_table</code> object. Each file
is expected to contain a flat table, all with the same structure, whose first
row contains the name of the columns. All columns are considered to be of type
String.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_flat_table_folder(
  name,
  folder,
  sep = ",",
  page = NULL,
  unknown_value = NULL,
  same_columns = FALSE,
  snake_case = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read_flat_table_folder_+3A_name">name</code></td>
<td>
<p>A string, flat table name.</p>
</td></tr>
<tr><td><code id="read_flat_table_folder_+3A_folder">folder</code></td>
<td>
<p>A string, folder name.</p>
</td></tr>
<tr><td><code id="read_flat_table_folder_+3A_sep">sep</code></td>
<td>
<p>Column separator character.</p>
</td></tr>
<tr><td><code id="read_flat_table_folder_+3A_page">page</code></td>
<td>
<p>A string, name of the new field in which to include the name of
the file.</p>
</td></tr>
<tr><td><code id="read_flat_table_folder_+3A_unknown_value">unknown_value</code></td>
<td>
<p>A string, value used to replace empty and NA values in
attributes.</p>
</td></tr>
<tr><td><code id="read_flat_table_folder_+3A_same_columns">same_columns</code></td>
<td>
<p>A boolean, indicates whether all tables have the same
columns in the same order.</p>
</td></tr>
<tr><td><code id="read_flat_table_folder_+3A_snake_case">snake_case</code></td>
<td>
<p>A boolean, indicates if we want to transform the names of
the columns to snake case.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When multiple files are handled, the file name may contain information
associated with the flat table, it could be the table page information if the
name of a new field in which to store it is indicated.
</p>
<p>We can also indicate the value that is used in the data with undefined values.
</p>
<p>In some situations all the files have the same structure but the column names
may change slightly. In these cases it can be useful to transform the names to
snake case or consider for all the files the names of the columns of the first
one. These operations can be indicated by the corresponding parameters.
</p>


<h3>Value</h3>

<p>A <code>flat_table</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+star_database">star_database</a></code>
</p>
<p>Other flat table definition functions: 
<code><a href="#topic+as_star_database">as_star_database</a>()</code>,
<code><a href="#topic+flat_table">flat_table</a>()</code>,
<code><a href="#topic+get_table">get_table</a>()</code>,
<code><a href="#topic+get_unknown_value_defined">get_unknown_value_defined</a>()</code>,
<code><a href="#topic+get_unknown_values">get_unknown_values</a>()</code>,
<code><a href="#topic+read_flat_table_file">read_flat_table_file</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
file &lt;- system.file("extdata/mrs", package = "rolap")

ft &lt;- read_flat_table_folder('mrs_new', file)

</code></pre>

<hr>
<h2 id='reformat_file'>Get line last operation</h2><span id='topic+reformat_file'></span>

<h3>Description</h3>

<p>Get line last operation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reformat_file(out_file, function_name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="reformat_file_+3A_out_file">out_file</code></td>
<td>
<p>A string, file name.</p>
</td></tr>
<tr><td><code id="reformat_file_+3A_function_name">function_name</code></td>
<td>
<p>A string, name of the function to generate in the file.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string
</p>

<hr>
<h2 id='refresh_deployments'>Refresh deployments</h2><span id='topic+refresh_deployments'></span>

<h3>Description</h3>

<p>Generate sql code for the first refresh operation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>refresh_deployments(db, internal)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="refresh_deployments_+3A_db">db</code></td>
<td>
<p>A <code>star_database</code> object.</p>
</td></tr>
<tr><td><code id="refresh_deployments_+3A_internal">internal</code></td>
<td>
<p>A boolean.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>star_database</code> object.
</p>

<hr>
<h2 id='remove_all_measures_na'>Remove instance if all measures are na</h2><span id='topic+remove_all_measures_na'></span>

<h3>Description</h3>

<p>Remove instance if all measures are na
</p>


<h3>Usage</h3>

<pre><code class='language-R'>remove_all_measures_na(table, measures)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="remove_all_measures_na_+3A_table">table</code></td>
<td>
<p>A <code>tibble</code> object.</p>
</td></tr>
<tr><td><code id="remove_all_measures_na_+3A_measures">measures</code></td>
<td>
<p>A vector of strings, measure names.</p>
</td></tr>
</table>

<hr>
<h2 id='remove_duplicate_dimension_rows'>Remove duplicate dimension rows</h2><span id='topic+remove_duplicate_dimension_rows'></span>

<h3>Description</h3>

<p>After selecting only a few columns of the dimensions, there may be rows with
duplicate values. We eliminate duplicates and adapt facts to the new
dimensions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>remove_duplicate_dimension_rows(db)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="remove_duplicate_dimension_rows_+3A_db">db</code></td>
<td>
<p>A <code>star_database</code> object.</p>
</td></tr>
</table>

<hr>
<h2 id='remove_instances_without_measures'>Remove instances without measures</h2><span id='topic+remove_instances_without_measures'></span><span id='topic+remove_instances_without_measures.flat_table'></span>

<h3>Description</h3>

<p>Delete instances that have all measures undefined.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>remove_instances_without_measures(ft)

## S3 method for class 'flat_table'
remove_instances_without_measures(ft)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="remove_instances_without_measures_+3A_ft">ft</code></td>
<td>
<p>A <code>flat_table</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>flat_table</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+flat_table">flat_table</a></code>
</p>
<p>Other flat table transformation functions: 
<code><a href="#topic+add_custom_column">add_custom_column</a>()</code>,
<code><a href="#topic+replace_empty_values">replace_empty_values</a>()</code>,
<code><a href="#topic+replace_string">replace_string</a>()</code>,
<code><a href="#topic+replace_unknown_values">replace_unknown_values</a>()</code>,
<code><a href="#topic+select_attributes">select_attributes</a>()</code>,
<code><a href="#topic+select_instances_by_comparison">select_instances_by_comparison</a>()</code>,
<code><a href="#topic+select_instances">select_instances</a>()</code>,
<code><a href="#topic+select_measures">select_measures</a>()</code>,
<code><a href="#topic+separate_measures">separate_measures</a>()</code>,
<code><a href="#topic+transform_attribute_format">transform_attribute_format</a>()</code>,
<code><a href="#topic+transform_from_values">transform_from_values</a>()</code>,
<code><a href="#topic+transform_to_attribute">transform_to_attribute</a>()</code>,
<code><a href="#topic+transform_to_measure">transform_to_measure</a>()</code>,
<code><a href="#topic+transform_to_values">transform_to_values</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ft &lt;- flat_table('iris', iris) |&gt;
  remove_instances_without_measures()

</code></pre>

<hr>
<h2 id='replace_attribute_values.flat_table'>Replace instance values</h2><span id='topic+replace_attribute_values.flat_table'></span><span id='topic+replace_attribute_values'></span><span id='topic+replace_attribute_values.star_database'></span>

<h3>Description</h3>

<p>Given the values of a possible instance, for that combination, replace them
with the new data values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'flat_table'
replace_attribute_values(db, name = NULL, attributes = NULL, old, new)

replace_attribute_values(db, name, attributes, old, new)

## S3 method for class 'star_database'
replace_attribute_values(db, name, attributes = NULL, old, new)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="replace_attribute_values.flat_table_+3A_db">db</code></td>
<td>
<p>A <code>flat_table</code> or <code>star_database</code> object.</p>
</td></tr>
<tr><td><code id="replace_attribute_values.flat_table_+3A_name">name</code></td>
<td>
<p>A string, dimension name.</p>
</td></tr>
<tr><td><code id="replace_attribute_values.flat_table_+3A_attributes">attributes</code></td>
<td>
<p>A vector of strings, attribute names.</p>
</td></tr>
<tr><td><code id="replace_attribute_values.flat_table_+3A_old">old</code></td>
<td>
<p>A vector of values.</p>
</td></tr>
<tr><td><code id="replace_attribute_values.flat_table_+3A_new">new</code></td>
<td>
<p>A vector of values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>flat_table</code> or <code>star_database</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+star_database">star_database</a></code>, <code><a href="#topic+flat_table">flat_table</a></code>
</p>
<p>Other star database and flat table functions: 
<code><a href="#topic+get_attribute_names.flat_table">get_attribute_names.flat_table</a>()</code>,
<code><a href="#topic+get_measure_names.flat_table">get_measure_names.flat_table</a>()</code>,
<code><a href="#topic+get_similar_attribute_values.flat_table">get_similar_attribute_values.flat_table</a>()</code>,
<code><a href="#topic+get_similar_attribute_values_individually.flat_table">get_similar_attribute_values_individually.flat_table</a>()</code>,
<code><a href="#topic+get_unique_attribute_values.flat_table">get_unique_attribute_values.flat_table</a>()</code>,
<code><a href="#topic+set_attribute_names.flat_table">set_attribute_names.flat_table</a>()</code>,
<code><a href="#topic+set_measure_names.flat_table">set_measure_names.flat_table</a>()</code>,
<code><a href="#topic+snake_case.flat_table">snake_case.flat_table</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
db &lt;- star_database(mrs_cause_schema, ft_num) |&gt;
  replace_attribute_values(name = "where",
    old = c('1', 'CT', 'Bridgeport'),
    new = c('1', 'CT', 'Hartford'))

db &lt;- star_database(mrs_cause_schema, ft_num) |&gt;
  replace_attribute_values(name = "where",
                           attributes = c('REGION', 'State'),
                           old = c('1', 'CT'),
                           new = c('2', 'CT'))

ft &lt;- flat_table('iris', iris) |&gt;
  replace_attribute_values(
    attributes = 'Species',
    old = c('setosa'),
    new = c('versicolor')
  )

</code></pre>

<hr>
<h2 id='replace_empty_values'>Replace empty values with the unknown value</h2><span id='topic+replace_empty_values'></span><span id='topic+replace_empty_values.flat_table'></span>

<h3>Description</h3>

<p>Transforms the given attributes by replacing the empty values with the unknown
value.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>replace_empty_values(ft, attributes, empty_values)

## S3 method for class 'flat_table'
replace_empty_values(ft, attributes = NULL, empty_values = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="replace_empty_values_+3A_ft">ft</code></td>
<td>
<p>A <code>flat_table</code> object.</p>
</td></tr>
<tr><td><code id="replace_empty_values_+3A_attributes">attributes</code></td>
<td>
<p>A vector of names.</p>
</td></tr>
<tr><td><code id="replace_empty_values_+3A_empty_values">empty_values</code></td>
<td>
<p>A vector of values that correspond to empty values.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In addition to the NA or empty values, those indicated (e.g., &quot;-&quot;) can be
considered as empty values.
</p>


<h3>Value</h3>

<p>A <code>flat_table</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+flat_table">flat_table</a></code>
</p>
<p>Other flat table transformation functions: 
<code><a href="#topic+add_custom_column">add_custom_column</a>()</code>,
<code><a href="#topic+remove_instances_without_measures">remove_instances_without_measures</a>()</code>,
<code><a href="#topic+replace_string">replace_string</a>()</code>,
<code><a href="#topic+replace_unknown_values">replace_unknown_values</a>()</code>,
<code><a href="#topic+select_attributes">select_attributes</a>()</code>,
<code><a href="#topic+select_instances_by_comparison">select_instances_by_comparison</a>()</code>,
<code><a href="#topic+select_instances">select_instances</a>()</code>,
<code><a href="#topic+select_measures">select_measures</a>()</code>,
<code><a href="#topic+separate_measures">separate_measures</a>()</code>,
<code><a href="#topic+transform_attribute_format">transform_attribute_format</a>()</code>,
<code><a href="#topic+transform_from_values">transform_from_values</a>()</code>,
<code><a href="#topic+transform_to_attribute">transform_to_attribute</a>()</code>,
<code><a href="#topic+transform_to_measure">transform_to_measure</a>()</code>,
<code><a href="#topic+transform_to_values">transform_to_values</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
iris2 &lt;- iris
iris2[10, 'Species'] &lt;- NA
ft &lt;- flat_table('iris', iris2) |&gt;
  replace_empty_values()

</code></pre>

<hr>
<h2 id='replace_empty_values_table'>Replace empty values with the unknown value</h2><span id='topic+replace_empty_values_table'></span>

<h3>Description</h3>

<p>Replace empty values with the unknown value
</p>


<h3>Usage</h3>

<pre><code class='language-R'>replace_empty_values_table(
  table,
  attributes = NULL,
  empty_values = NULL,
  unknown_value
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="replace_empty_values_table_+3A_table">table</code></td>
<td>
<p>A <code>tibble</code> object.</p>
</td></tr>
<tr><td><code id="replace_empty_values_table_+3A_attributes">attributes</code></td>
<td>
<p>A vector of names.</p>
</td></tr>
<tr><td><code id="replace_empty_values_table_+3A_empty_values">empty_values</code></td>
<td>
<p>A vector of values that correspond to empty values.</p>
</td></tr>
<tr><td><code id="replace_empty_values_table_+3A_unknown_value">unknown_value</code></td>
<td>
<p>A string.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>tibble</code> object.
</p>

<hr>
<h2 id='replace_names'>Replace names</h2><span id='topic+replace_names'></span>

<h3>Description</h3>

<p>Replace names
</p>


<h3>Usage</h3>

<pre><code class='language-R'>replace_names(original, old, new)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="replace_names_+3A_original">original</code></td>
<td>
<p>A string, original names.</p>
</td></tr>
<tr><td><code id="replace_names_+3A_old">old</code></td>
<td>
<p>A vector of names to replace.</p>
</td></tr>
<tr><td><code id="replace_names_+3A_new">new</code></td>
<td>
<p>A vector of names, new names.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of strings, names replaced.
</p>

<hr>
<h2 id='replace_string'>Replace strings</h2><span id='topic+replace_string'></span><span id='topic+replace_string.flat_table'></span>

<h3>Description</h3>

<p>Transforms the given attributes by replacing the string values with the
replacement value.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>replace_string(ft, attributes, string, replacement)

## S3 method for class 'flat_table'
replace_string(ft, attributes = NULL, string, replacement = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="replace_string_+3A_ft">ft</code></td>
<td>
<p>A <code>flat_table</code> object.</p>
</td></tr>
<tr><td><code id="replace_string_+3A_attributes">attributes</code></td>
<td>
<p>A vector of strings, attribute names.</p>
</td></tr>
<tr><td><code id="replace_string_+3A_string">string</code></td>
<td>
<p>A character string to replace.</p>
</td></tr>
<tr><td><code id="replace_string_+3A_replacement">replacement</code></td>
<td>
<p>A replacement for matched string.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>flat_table</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+flat_table">flat_table</a></code>
</p>
<p>Other flat table transformation functions: 
<code><a href="#topic+add_custom_column">add_custom_column</a>()</code>,
<code><a href="#topic+remove_instances_without_measures">remove_instances_without_measures</a>()</code>,
<code><a href="#topic+replace_empty_values">replace_empty_values</a>()</code>,
<code><a href="#topic+replace_unknown_values">replace_unknown_values</a>()</code>,
<code><a href="#topic+select_attributes">select_attributes</a>()</code>,
<code><a href="#topic+select_instances_by_comparison">select_instances_by_comparison</a>()</code>,
<code><a href="#topic+select_instances">select_instances</a>()</code>,
<code><a href="#topic+select_measures">select_measures</a>()</code>,
<code><a href="#topic+separate_measures">separate_measures</a>()</code>,
<code><a href="#topic+transform_attribute_format">transform_attribute_format</a>()</code>,
<code><a href="#topic+transform_from_values">transform_from_values</a>()</code>,
<code><a href="#topic+transform_to_attribute">transform_to_attribute</a>()</code>,
<code><a href="#topic+transform_to_measure">transform_to_measure</a>()</code>,
<code><a href="#topic+transform_to_values">transform_to_values</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ft &lt;- flat_table('iris', iris) |&gt;
  replace_string(
    attributes = 'Species',
    string = c('set'),
    replacement = c('Set')
  )

</code></pre>

<hr>
<h2 id='replace_unknown_values'>Replace unknown values with the given value</h2><span id='topic+replace_unknown_values'></span><span id='topic+replace_unknown_values.flat_table'></span>

<h3>Description</h3>

<p>Transforms the given attributes by replacing unknown values in them with
the given value.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>replace_unknown_values(ft, attributes, value)

## S3 method for class 'flat_table'
replace_unknown_values(ft, attributes = NULL, value)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="replace_unknown_values_+3A_ft">ft</code></td>
<td>
<p>A <code>flat_table</code> object.</p>
</td></tr>
<tr><td><code id="replace_unknown_values_+3A_attributes">attributes</code></td>
<td>
<p>A vector of names.</p>
</td></tr>
<tr><td><code id="replace_unknown_values_+3A_value">value</code></td>
<td>
<p>A value.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>flat_table</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+flat_table">flat_table</a></code>
</p>
<p>Other flat table transformation functions: 
<code><a href="#topic+add_custom_column">add_custom_column</a>()</code>,
<code><a href="#topic+remove_instances_without_measures">remove_instances_without_measures</a>()</code>,
<code><a href="#topic+replace_empty_values">replace_empty_values</a>()</code>,
<code><a href="#topic+replace_string">replace_string</a>()</code>,
<code><a href="#topic+select_attributes">select_attributes</a>()</code>,
<code><a href="#topic+select_instances_by_comparison">select_instances_by_comparison</a>()</code>,
<code><a href="#topic+select_instances">select_instances</a>()</code>,
<code><a href="#topic+select_measures">select_measures</a>()</code>,
<code><a href="#topic+separate_measures">separate_measures</a>()</code>,
<code><a href="#topic+transform_attribute_format">transform_attribute_format</a>()</code>,
<code><a href="#topic+transform_from_values">transform_from_values</a>()</code>,
<code><a href="#topic+transform_to_attribute">transform_to_attribute</a>()</code>,
<code><a href="#topic+transform_to_measure">transform_to_measure</a>()</code>,
<code><a href="#topic+transform_to_values">transform_to_values</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
iris2 &lt;- iris
iris2[10, 'Species'] &lt;- NA
ft &lt;- flat_table('iris', iris2) |&gt;
  replace_empty_values() |&gt;
  replace_unknown_values(value = "Not available")

</code></pre>

<hr>
<h2 id='role_playing_dimension'>Define a role playing dimension and its associated dimensions</h2><span id='topic+role_playing_dimension'></span><span id='topic+role_playing_dimension.star_database'></span>

<h3>Description</h3>

<p>The same dimension can play several roles in relation to the facts. We can
define the main dimension and the dimensions that play different roles.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>role_playing_dimension(db, rpd, roles, rpd_att_names, att_names)

## S3 method for class 'star_database'
role_playing_dimension(db, rpd, roles, rpd_att_names = FALSE, att_names = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="role_playing_dimension_+3A_db">db</code></td>
<td>
<p>A <code>star_database</code> object.</p>
</td></tr>
<tr><td><code id="role_playing_dimension_+3A_rpd">rpd</code></td>
<td>
<p>A string, dimension name (role playing dimension).</p>
</td></tr>
<tr><td><code id="role_playing_dimension_+3A_roles">roles</code></td>
<td>
<p>A vector of strings, dimension names (dimension roles).</p>
</td></tr>
<tr><td><code id="role_playing_dimension_+3A_rpd_att_names">rpd_att_names</code></td>
<td>
<p>A boolean, common attribute names taken from rpd dimension.</p>
</td></tr>
<tr><td><code id="role_playing_dimension_+3A_att_names">att_names</code></td>
<td>
<p>A vector of strings, common attribute names.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>As a result, all the dimensions will have the same instances and, if we deem
it necessary, also the same name of their attributes (except the surrogate key).
</p>


<h3>Value</h3>

<p>A <code>star_database</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+star_schema">star_schema</a></code>, <code><a href="#topic+flat_table">flat_table</a></code>
</p>
<p>Other star database definition functions: 
<code><a href="#topic+get_dimension_names">get_dimension_names</a>()</code>,
<code><a href="#topic+get_dimension_table">get_dimension_table</a>()</code>,
<code><a href="#topic+get_fact_names">get_fact_names</a>()</code>,
<code><a href="#topic+get_role_playing_dimension_names">get_role_playing_dimension_names</a>()</code>,
<code><a href="#topic+get_table_names">get_table_names</a>()</code>,
<code><a href="#topic+group_dimension_instances">group_dimension_instances</a>()</code>,
<code><a href="#topic+star_database">star_database</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
s &lt;- star_schema() |&gt;
  define_facts(fact_schema(
    name = "mrs_cause",
    measures = c(
      "Pneumonia and Influenza Deaths",
      "All Deaths"
    )
  )) |&gt;
  define_dimension(dimension_schema(
    name = "When",
    attributes = c(
      "Year",
      "WEEK",
      "Week Ending Date"
    )
  )) |&gt;
  define_dimension(dimension_schema(
    name = "When Available",
    attributes = c(
      "Data Availability Year",
      "Data Availability Week",
      "Data Availability Date"
    )
  )) |&gt;
  define_dimension(dimension_schema(
    name = "When Received",
    attributes = c(
      "Reception Year",
      "Reception Week",
      "Reception Date"
    )
  )) |&gt;
  define_dimension(dimension_schema(
    name = "where",
    attributes = c(
      "REGION",
      "State",
      "City"
    )
  ))

db &lt;- star_database(s, ft_cause_rpd) |&gt;
  role_playing_dimension(
    rpd = "When",
    roles = c("When Available", "When Received"),
    rpd_att_names = TRUE
  )

db &lt;- star_database(s, ft_cause_rpd) |&gt;
  role_playing_dimension("When",
                         c("When Available", "When Received"),
                         att_names = c("Year", "Week", "Date"))

</code></pre>

<hr>
<h2 id='rpd_in_constellation'>Transform role playing dimensions in constellation</h2><span id='topic+rpd_in_constellation'></span>

<h3>Description</h3>

<p>Transform role playing dimensions in constellation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rpd_in_constellation(db)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rpd_in_constellation_+3A_db">db</code></td>
<td>
<p>A <code>constellation</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>constellation</code> object.
</p>

<hr>
<h2 id='run_query'>Run query</h2><span id='topic+run_query'></span><span id='topic+run_query.star_database'></span>

<h3>Description</h3>

<p>Once we have selected the facts, dimensions and defined the conditions on the
instances, we can execute the query to obtain the result.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>run_query(db, sq)

## S3 method for class 'star_database'
run_query(db, sq)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="run_query_+3A_db">db</code></td>
<td>
<p>A <code>star_database</code> object.</p>
</td></tr>
<tr><td><code id="run_query_+3A_sq">sq</code></td>
<td>
<p>A <code>star_query</code> object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>As an option, we can indicate if we do not want to unify the facts in the
case of having the same grain.
</p>


<h3>Value</h3>

<p>A <code>star_database</code> object.
</p>


<h3>See Also</h3>

<p>Other query functions: 
<code><a href="#topic+as_GeoPackage">as_GeoPackage</a>()</code>,
<code><a href="#topic+as_geolayer">as_geolayer</a>()</code>,
<code><a href="#topic+filter_dimension">filter_dimension</a>()</code>,
<code><a href="#topic+get_layer">get_layer</a>()</code>,
<code><a href="#topic+get_variable_description">get_variable_description</a>()</code>,
<code><a href="#topic+get_variables">get_variables</a>()</code>,
<code><a href="#topic+select_dimension">select_dimension</a>()</code>,
<code><a href="#topic+select_fact">select_fact</a>()</code>,
<code><a href="#topic+set_layer">set_layer</a>()</code>,
<code><a href="#topic+set_variables">set_variables</a>()</code>,
<code><a href="#topic+star_query">star_query</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
sq &lt;- mrs_db |&gt;
  star_query() |&gt;
  select_dimension(name = "where",
                   attributes = c("city", "state")) |&gt;
  select_dimension(name = "when",
                   attributes = "year") |&gt;
  select_fact(
    name = "mrs_age",
    measures = "all_deaths",
    agg_functions = "MAX"
  ) |&gt;
  select_fact(
    name = "mrs_cause",
    measures = c("pneumonia_and_influenza_deaths", "all_deaths")
  ) |&gt;
  filter_dimension(name = "when", week &lt;= " 3") |&gt;
  filter_dimension(name = "where", city == "Bridgeport")

mrs_db_2 &lt;- mrs_db |&gt;
  run_query(sq)

</code></pre>

<hr>
<h2 id='same_granularity_facts'>Do all fact tables have the same granularity?</h2><span id='topic+same_granularity_facts'></span>

<h3>Description</h3>

<p>Do all fact tables have the same granularity?
</p>


<h3>Usage</h3>

<pre><code class='language-R'>same_granularity_facts(db, names)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="same_granularity_facts_+3A_db">db</code></td>
<td>
<p>A <code>star_database</code> object.</p>
</td></tr>
<tr><td><code id="same_granularity_facts_+3A_names">names</code></td>
<td>
<p>A vector of strings, fact names.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A boolean.
</p>

<hr>
<h2 id='select_attributes'>Select attributes of a flat table</h2><span id='topic+select_attributes'></span><span id='topic+select_attributes.flat_table'></span>

<h3>Description</h3>

<p>Select only the indicated attributes from the flat table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>select_attributes(ft, attributes)

## S3 method for class 'flat_table'
select_attributes(ft, attributes)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="select_attributes_+3A_ft">ft</code></td>
<td>
<p>A <code>flat_table</code> object.</p>
</td></tr>
<tr><td><code id="select_attributes_+3A_attributes">attributes</code></td>
<td>
<p>A vector of names.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>flat_table</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+flat_table">flat_table</a></code>
</p>
<p>Other flat table transformation functions: 
<code><a href="#topic+add_custom_column">add_custom_column</a>()</code>,
<code><a href="#topic+remove_instances_without_measures">remove_instances_without_measures</a>()</code>,
<code><a href="#topic+replace_empty_values">replace_empty_values</a>()</code>,
<code><a href="#topic+replace_string">replace_string</a>()</code>,
<code><a href="#topic+replace_unknown_values">replace_unknown_values</a>()</code>,
<code><a href="#topic+select_instances_by_comparison">select_instances_by_comparison</a>()</code>,
<code><a href="#topic+select_instances">select_instances</a>()</code>,
<code><a href="#topic+select_measures">select_measures</a>()</code>,
<code><a href="#topic+separate_measures">separate_measures</a>()</code>,
<code><a href="#topic+transform_attribute_format">transform_attribute_format</a>()</code>,
<code><a href="#topic+transform_from_values">transform_from_values</a>()</code>,
<code><a href="#topic+transform_to_attribute">transform_to_attribute</a>()</code>,
<code><a href="#topic+transform_to_measure">transform_to_measure</a>()</code>,
<code><a href="#topic+transform_to_values">transform_to_values</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ft &lt;- flat_table('iris', iris) |&gt;
  select_attributes(attributes = c('Species'))

ft &lt;- flat_table('ft_num', ft_num) |&gt;
  select_attributes(attributes = c('Year', 'WEEK', 'Week Ending Date'))

</code></pre>

<hr>
<h2 id='select_dimension'>Select dimension</h2><span id='topic+select_dimension'></span><span id='topic+select_dimension.star_query'></span>

<h3>Description</h3>

<p>To add a dimension in a <code>star_query</code> object, we have to define its name and a
subset of the dimension attributes. If only the name of the dimension is
indicated, it is considered that all its attributes should be added.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>select_dimension(sq, name, attributes)

## S3 method for class 'star_query'
select_dimension(sq, name = NULL, attributes = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="select_dimension_+3A_sq">sq</code></td>
<td>
<p>A <code>star_query</code> object.</p>
</td></tr>
<tr><td><code id="select_dimension_+3A_name">name</code></td>
<td>
<p>A string, name of the dimension.</p>
</td></tr>
<tr><td><code id="select_dimension_+3A_attributes">attributes</code></td>
<td>
<p>A vector of attribute names.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>star_query</code> object.
</p>


<h3>See Also</h3>

<p>Other query functions: 
<code><a href="#topic+as_GeoPackage">as_GeoPackage</a>()</code>,
<code><a href="#topic+as_geolayer">as_geolayer</a>()</code>,
<code><a href="#topic+filter_dimension">filter_dimension</a>()</code>,
<code><a href="#topic+get_layer">get_layer</a>()</code>,
<code><a href="#topic+get_variable_description">get_variable_description</a>()</code>,
<code><a href="#topic+get_variables">get_variables</a>()</code>,
<code><a href="#topic+run_query">run_query</a>()</code>,
<code><a href="#topic+select_fact">select_fact</a>()</code>,
<code><a href="#topic+set_layer">set_layer</a>()</code>,
<code><a href="#topic+set_variables">set_variables</a>()</code>,
<code><a href="#topic+star_query">star_query</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
sq &lt;- mrs_db |&gt;
  star_query() |&gt;
  select_dimension(name = "where",
                  attributes = c("city", "state")) |&gt;
  select_dimension(name = "when")

</code></pre>

<hr>
<h2 id='select_fact'>Select fact</h2><span id='topic+select_fact'></span><span id='topic+select_fact.star_query'></span>

<h3>Description</h3>

<p>To define the fact to be consulted, its name is indicated, optionally, a
vector of names of selected measures, another of aggregation functions and
another of new names for measures are also indicated.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>select_fact(sq, name, measures, agg_functions, new, nrow_agg)

## S3 method for class 'star_query'
select_fact(
  sq,
  name = NULL,
  measures = NULL,
  agg_functions = NULL,
  new = NULL,
  nrow_agg = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="select_fact_+3A_sq">sq</code></td>
<td>
<p>A <code>star_query</code> object.</p>
</td></tr>
<tr><td><code id="select_fact_+3A_name">name</code></td>
<td>
<p>A string, name of the fact.</p>
</td></tr>
<tr><td><code id="select_fact_+3A_measures">measures</code></td>
<td>
<p>A vector of measure names.</p>
</td></tr>
<tr><td><code id="select_fact_+3A_agg_functions">agg_functions</code></td>
<td>
<p>A vector of aggregation function names, each one for its
corresponding measure. They can be SUM, MAX or MIN.</p>
</td></tr>
<tr><td><code id="select_fact_+3A_new">new</code></td>
<td>
<p>A vector of measure new names.</p>
</td></tr>
<tr><td><code id="select_fact_+3A_nrow_agg">nrow_agg</code></td>
<td>
<p>A string, name of a new measure that represents the COUNT
of rows aggregated for each resulting row.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If there is only one fact table, it is the one that is considered if no name
is indicated.
</p>
<p>If no aggregation function is given, those defined for the measures are considered.
</p>
<p>If no new names are given, the original names will be considered. If the
aggregation function is different from the one defined by default, it will be
included as a prefix to the name.
</p>


<h3>Value</h3>

<p>A <code>star_query</code> object.
</p>


<h3>See Also</h3>

<p>Other query functions: 
<code><a href="#topic+as_GeoPackage">as_GeoPackage</a>()</code>,
<code><a href="#topic+as_geolayer">as_geolayer</a>()</code>,
<code><a href="#topic+filter_dimension">filter_dimension</a>()</code>,
<code><a href="#topic+get_layer">get_layer</a>()</code>,
<code><a href="#topic+get_variable_description">get_variable_description</a>()</code>,
<code><a href="#topic+get_variables">get_variables</a>()</code>,
<code><a href="#topic+run_query">run_query</a>()</code>,
<code><a href="#topic+select_dimension">select_dimension</a>()</code>,
<code><a href="#topic+set_layer">set_layer</a>()</code>,
<code><a href="#topic+set_variables">set_variables</a>()</code>,
<code><a href="#topic+star_query">star_query</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
sq &lt;- mrs_db |&gt;
  star_query()

sq_1 &lt;- sq |&gt;
  select_fact(
    name = "mrs_age",
    measures = "all_deaths",
    agg_functions = "MAX"
  )

sq_2 &lt;- sq |&gt;
  select_fact(name = "mrs_age",
              measures = "all_deaths")

sq_3 &lt;- sq |&gt;
  select_fact(name = "mrs_age")

</code></pre>

<hr>
<h2 id='select_instances'>Select instances of a flat table by value</h2><span id='topic+select_instances'></span><span id='topic+select_instances.flat_table'></span>

<h3>Description</h3>

<p>Select only the indicated instances from the flat table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>select_instances(ft, not, attributes, values)

## S3 method for class 'flat_table'
select_instances(ft, not = FALSE, attributes = NULL, values)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="select_instances_+3A_ft">ft</code></td>
<td>
<p>A <code>flat_table</code> object.</p>
</td></tr>
<tr><td><code id="select_instances_+3A_not">not</code></td>
<td>
<p>A boolean.</p>
</td></tr>
<tr><td><code id="select_instances_+3A_attributes">attributes</code></td>
<td>
<p>A vector of names.</p>
</td></tr>
<tr><td><code id="select_instances_+3A_values">values</code></td>
<td>
<p>A list of value vectors.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Several values can be indicated for attributes (performs an OR operation)
or several attributes and a value for each one (performs an AND operation).
</p>
<p>If the parameter <code>not</code> is true, the reported values are those that are not
included.
</p>


<h3>Value</h3>

<p>A <code>flat_table</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+flat_table">flat_table</a></code>
</p>
<p>Other flat table transformation functions: 
<code><a href="#topic+add_custom_column">add_custom_column</a>()</code>,
<code><a href="#topic+remove_instances_without_measures">remove_instances_without_measures</a>()</code>,
<code><a href="#topic+replace_empty_values">replace_empty_values</a>()</code>,
<code><a href="#topic+replace_string">replace_string</a>()</code>,
<code><a href="#topic+replace_unknown_values">replace_unknown_values</a>()</code>,
<code><a href="#topic+select_attributes">select_attributes</a>()</code>,
<code><a href="#topic+select_instances_by_comparison">select_instances_by_comparison</a>()</code>,
<code><a href="#topic+select_measures">select_measures</a>()</code>,
<code><a href="#topic+separate_measures">separate_measures</a>()</code>,
<code><a href="#topic+transform_attribute_format">transform_attribute_format</a>()</code>,
<code><a href="#topic+transform_from_values">transform_from_values</a>()</code>,
<code><a href="#topic+transform_to_attribute">transform_to_attribute</a>()</code>,
<code><a href="#topic+transform_to_measure">transform_to_measure</a>()</code>,
<code><a href="#topic+transform_to_values">transform_to_values</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ft &lt;- flat_table('iris', iris) |&gt;
  select_instances(attributes = c('Species'),
                   values = c('versicolor', 'virginica'))

ft &lt;- flat_table('ft_num', ft_num) |&gt;
  select_instances(
    not = TRUE,
    attributes = c('Year', 'WEEK'),
    values = list(c('1962', '2'), c('1964', '2'))
  )

</code></pre>

<hr>
<h2 id='select_instances_by_comparison'>Select instances of a flat table by comparison</h2><span id='topic+select_instances_by_comparison'></span><span id='topic+select_instances_by_comparison.flat_table'></span>

<h3>Description</h3>

<p>Select only the indicated instances from the flat table by comparison.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>select_instances_by_comparison(ft, not, attributes, comparisons, values)

## S3 method for class 'flat_table'
select_instances_by_comparison(
  ft,
  not = FALSE,
  attributes = NULL,
  comparisons,
  values
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="select_instances_by_comparison_+3A_ft">ft</code></td>
<td>
<p>A <code>flat_table</code> object.</p>
</td></tr>
<tr><td><code id="select_instances_by_comparison_+3A_not">not</code></td>
<td>
<p>A boolean.</p>
</td></tr>
<tr><td><code id="select_instances_by_comparison_+3A_attributes">attributes</code></td>
<td>
<p>A list of name vectors.</p>
</td></tr>
<tr><td><code id="select_instances_by_comparison_+3A_comparisons">comparisons</code></td>
<td>
<p>A list of comparison operator vectors.</p>
</td></tr>
<tr><td><code id="select_instances_by_comparison_+3A_values">values</code></td>
<td>
<p>A list of value vectors.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The elements of the three parameter lists correspond (all three must have the
same structure and length or be of length 1). AND is performed for each
combination of attribute, operator and value within each element of each list
and OR between elements of the lists.
</p>
<p>If the parameter <code>not</code> is true, the negation operation will be applied to the
result.
</p>


<h3>Value</h3>

<p>A <code>flat_table</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+flat_table">flat_table</a></code>
</p>
<p>Other flat table transformation functions: 
<code><a href="#topic+add_custom_column">add_custom_column</a>()</code>,
<code><a href="#topic+remove_instances_without_measures">remove_instances_without_measures</a>()</code>,
<code><a href="#topic+replace_empty_values">replace_empty_values</a>()</code>,
<code><a href="#topic+replace_string">replace_string</a>()</code>,
<code><a href="#topic+replace_unknown_values">replace_unknown_values</a>()</code>,
<code><a href="#topic+select_attributes">select_attributes</a>()</code>,
<code><a href="#topic+select_instances">select_instances</a>()</code>,
<code><a href="#topic+select_measures">select_measures</a>()</code>,
<code><a href="#topic+separate_measures">separate_measures</a>()</code>,
<code><a href="#topic+transform_attribute_format">transform_attribute_format</a>()</code>,
<code><a href="#topic+transform_from_values">transform_from_values</a>()</code>,
<code><a href="#topic+transform_to_attribute">transform_to_attribute</a>()</code>,
<code><a href="#topic+transform_to_measure">transform_to_measure</a>()</code>,
<code><a href="#topic+transform_to_values">transform_to_values</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ft &lt;- flat_table('iris', iris) |&gt;
  select_instances_by_comparison(attributes = 'Species',
                                 comparisons = '&gt;=',
                                 values = 'v')

ft &lt;- flat_table('ft_num', ft_num) |&gt;
  select_instances_by_comparison(
    not = FALSE,
    attributes = c('Year', 'Year', 'WEEK'),
    comparisons = c('&gt;=', '&lt;=', '=='),
    values = c('1962', '1964', '2')
  )

ft &lt;- flat_table('ft_num', ft_num) |&gt;
  select_instances_by_comparison(
    not = FALSE,
    attributes = c('Year', 'Year', 'WEEK'),
    comparisons = c('&gt;=', '&lt;=', '=='),
    values = list(c('1962', '1964', '2'),
                  c('1962', '1964', '4'))
  )

</code></pre>

<hr>
<h2 id='select_measures'>Select measures of a flat table</h2><span id='topic+select_measures'></span><span id='topic+select_measures.flat_table'></span>

<h3>Description</h3>

<p>Select only the indicated measures from the flat table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>select_measures(ft, measures, na_rm)

## S3 method for class 'flat_table'
select_measures(ft, measures = NULL, na_rm = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="select_measures_+3A_ft">ft</code></td>
<td>
<p>A <code>flat_table</code> object.</p>
</td></tr>
<tr><td><code id="select_measures_+3A_measures">measures</code></td>
<td>
<p>A vector of names.</p>
</td></tr>
<tr><td><code id="select_measures_+3A_na_rm">na_rm</code></td>
<td>
<p>A boolean, remove rows from output where all measure values are NA.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>flat_table</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+flat_table">flat_table</a></code>
</p>
<p>Other flat table transformation functions: 
<code><a href="#topic+add_custom_column">add_custom_column</a>()</code>,
<code><a href="#topic+remove_instances_without_measures">remove_instances_without_measures</a>()</code>,
<code><a href="#topic+replace_empty_values">replace_empty_values</a>()</code>,
<code><a href="#topic+replace_string">replace_string</a>()</code>,
<code><a href="#topic+replace_unknown_values">replace_unknown_values</a>()</code>,
<code><a href="#topic+select_attributes">select_attributes</a>()</code>,
<code><a href="#topic+select_instances_by_comparison">select_instances_by_comparison</a>()</code>,
<code><a href="#topic+select_instances">select_instances</a>()</code>,
<code><a href="#topic+separate_measures">separate_measures</a>()</code>,
<code><a href="#topic+transform_attribute_format">transform_attribute_format</a>()</code>,
<code><a href="#topic+transform_from_values">transform_from_values</a>()</code>,
<code><a href="#topic+transform_to_attribute">transform_to_attribute</a>()</code>,
<code><a href="#topic+transform_to_measure">transform_to_measure</a>()</code>,
<code><a href="#topic+transform_to_values">transform_to_values</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ft &lt;- flat_table('iris', iris) |&gt;
  select_measures(measures = c('Sepal.Length', 'Sepal.Width'))

</code></pre>

<hr>
<h2 id='separate_measures'>Separate measures in flat tables</h2><span id='topic+separate_measures'></span><span id='topic+separate_measures.flat_table'></span>

<h3>Description</h3>

<p>Separate groups of measures into different flat tables. For each group we
must indicate a name. If we indicate more names than groups of measures, the
measures not included in other groups are also included in a new group.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>separate_measures(ft, measures, names, na_rm)

## S3 method for class 'flat_table'
separate_measures(ft, measures = NULL, names = NULL, na_rm = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="separate_measures_+3A_ft">ft</code></td>
<td>
<p>A <code>flat_table</code> object.</p>
</td></tr>
<tr><td><code id="separate_measures_+3A_measures">measures</code></td>
<td>
<p>A list of string vectors, groups of measure names.</p>
</td></tr>
<tr><td><code id="separate_measures_+3A_names">names</code></td>
<td>
<p>A list of string, measure group names.</p>
</td></tr>
<tr><td><code id="separate_measures_+3A_na_rm">na_rm</code></td>
<td>
<p>A boolean, remove rows from output where all measure values are NA.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A list of flat tables is returned. It assign the names to the result list.
</p>


<h3>Value</h3>

<p>A list of <code>flat_table</code> objects.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+flat_table">flat_table</a></code>
</p>
<p>Other flat table transformation functions: 
<code><a href="#topic+add_custom_column">add_custom_column</a>()</code>,
<code><a href="#topic+remove_instances_without_measures">remove_instances_without_measures</a>()</code>,
<code><a href="#topic+replace_empty_values">replace_empty_values</a>()</code>,
<code><a href="#topic+replace_string">replace_string</a>()</code>,
<code><a href="#topic+replace_unknown_values">replace_unknown_values</a>()</code>,
<code><a href="#topic+select_attributes">select_attributes</a>()</code>,
<code><a href="#topic+select_instances_by_comparison">select_instances_by_comparison</a>()</code>,
<code><a href="#topic+select_instances">select_instances</a>()</code>,
<code><a href="#topic+select_measures">select_measures</a>()</code>,
<code><a href="#topic+transform_attribute_format">transform_attribute_format</a>()</code>,
<code><a href="#topic+transform_from_values">transform_from_values</a>()</code>,
<code><a href="#topic+transform_to_attribute">transform_to_attribute</a>()</code>,
<code><a href="#topic+transform_to_measure">transform_to_measure</a>()</code>,
<code><a href="#topic+transform_to_values">transform_to_values</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
lft &lt;- flat_table('iris', iris) |&gt;
  separate_measures(
    measures = list(
      c('Petal.Length'),
      c('Petal.Width'),
      c('Sepal.Length')
    ),
    names = c('PL', 'PW', 'SL', 'SW')
  )

</code></pre>

<hr>
<h2 id='set_attribute_names.flat_table'>Rename attributes</h2><span id='topic+set_attribute_names.flat_table'></span><span id='topic+set_attribute_names'></span><span id='topic+set_attribute_names.star_database'></span>

<h3>Description</h3>

<p>Rename attributes in a flat table or a dimension in a star database.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'flat_table'
set_attribute_names(db, name = NULL, old = NULL, new)

set_attribute_names(db, name, old, new)

## S3 method for class 'star_database'
set_attribute_names(db, name, old = NULL, new)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="set_attribute_names.flat_table_+3A_db">db</code></td>
<td>
<p>A <code>flat_table</code> or <code>star_database</code> object.</p>
</td></tr>
<tr><td><code id="set_attribute_names.flat_table_+3A_name">name</code></td>
<td>
<p>A string, dimension name.</p>
</td></tr>
<tr><td><code id="set_attribute_names.flat_table_+3A_old">old</code></td>
<td>
<p>A vector of names.</p>
</td></tr>
<tr><td><code id="set_attribute_names.flat_table_+3A_new">new</code></td>
<td>
<p>A vector of names.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To rename the attributes there are three possibilities: 1) give only one vector
with the new names for all the attributes; 2) a vector of old names and another
of new names that must correspond; 3) a vector of new names whose names are
the old names they replace.
</p>


<h3>Value</h3>

<p>A <code>flat_table</code> or <code>star_database</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+star_database">star_database</a></code>, <code><a href="#topic+flat_table">flat_table</a></code>
</p>
<p>Other star database and flat table functions: 
<code><a href="#topic+get_attribute_names.flat_table">get_attribute_names.flat_table</a>()</code>,
<code><a href="#topic+get_measure_names.flat_table">get_measure_names.flat_table</a>()</code>,
<code><a href="#topic+get_similar_attribute_values.flat_table">get_similar_attribute_values.flat_table</a>()</code>,
<code><a href="#topic+get_similar_attribute_values_individually.flat_table">get_similar_attribute_values_individually.flat_table</a>()</code>,
<code><a href="#topic+get_unique_attribute_values.flat_table">get_unique_attribute_values.flat_table</a>()</code>,
<code><a href="#topic+replace_attribute_values.flat_table">replace_attribute_values.flat_table</a>()</code>,
<code><a href="#topic+set_measure_names.flat_table">set_measure_names.flat_table</a>()</code>,
<code><a href="#topic+snake_case.flat_table">snake_case.flat_table</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
db &lt;- star_database(mrs_cause_schema, ft_num) |&gt;
  set_attribute_names(
    name = "where",
    new = c(
      "Region",
      "State",
      "City"
    )
  )

db &lt;- star_database(mrs_cause_schema, ft_num) |&gt;
  set_attribute_names(name = "where",
                      old = "REGION",
                      new = "Region")

new &lt;- "Region"
names(new) &lt;- "REGION"
db &lt;- star_database(mrs_cause_schema, ft_num) |&gt;
  set_attribute_names(name = "where",
                      new = new)

ft &lt;- flat_table('iris', iris) |&gt;
  set_attribute_names(
    old = 'Species',
    new = 'species')

new &lt;- "species"
names(new) &lt;- "Species"
ft &lt;- flat_table('iris', iris) |&gt;
  set_attribute_names(
    new = new)

</code></pre>

<hr>
<h2 id='set_layer'>Set geographic layer</h2><span id='topic+set_layer'></span><span id='topic+set_layer.geolayer'></span>

<h3>Description</h3>

<p>If for some reason we modify the geographic layer, for example, to add a new
calculated variable, we can set that layer to become the new geographic layer
of the <code>geolayer</code> object using this function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_layer(gl, layer)

## S3 method for class 'geolayer'
set_layer(gl, layer)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="set_layer_+3A_gl">gl</code></td>
<td>
<p>A <code>geolayer</code> object.</p>
</td></tr>
<tr><td><code id="set_layer_+3A_layer">layer</code></td>
<td>
<p>A <code>sf</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>geolayer</code> object.
</p>


<h3>See Also</h3>

<p>Other query functions: 
<code><a href="#topic+as_GeoPackage">as_GeoPackage</a>()</code>,
<code><a href="#topic+as_geolayer">as_geolayer</a>()</code>,
<code><a href="#topic+filter_dimension">filter_dimension</a>()</code>,
<code><a href="#topic+get_layer">get_layer</a>()</code>,
<code><a href="#topic+get_variable_description">get_variable_description</a>()</code>,
<code><a href="#topic+get_variables">get_variables</a>()</code>,
<code><a href="#topic+run_query">run_query</a>()</code>,
<code><a href="#topic+select_dimension">select_dimension</a>()</code>,
<code><a href="#topic+select_fact">select_fact</a>()</code>,
<code><a href="#topic+set_variables">set_variables</a>()</code>,
<code><a href="#topic+star_query">star_query</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
gl &lt;- mrs_db_geo |&gt;
  as_geolayer()

l &lt;- gl |&gt;
  get_layer()

l$tpc_001 &lt;- l$var_002 * 100 / l$var_001

gl &lt;- gl |&gt;
  set_layer(l)

</code></pre>

<hr>
<h2 id='set_measure_names.flat_table'>Rename measures</h2><span id='topic+set_measure_names.flat_table'></span><span id='topic+set_measure_names'></span><span id='topic+set_measure_names.star_database'></span>

<h3>Description</h3>

<p>Rename measures in a flat table or in facts in a star database.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'flat_table'
set_measure_names(db, name = NULL, old = NULL, new)

set_measure_names(db, name, old, new)

## S3 method for class 'star_database'
set_measure_names(db, name = NULL, old = NULL, new)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="set_measure_names.flat_table_+3A_db">db</code></td>
<td>
<p>A <code>flat_table</code> or <code>star_database</code> object.</p>
</td></tr>
<tr><td><code id="set_measure_names.flat_table_+3A_name">name</code></td>
<td>
<p>A string, fact name.</p>
</td></tr>
<tr><td><code id="set_measure_names.flat_table_+3A_old">old</code></td>
<td>
<p>A vector of names.</p>
</td></tr>
<tr><td><code id="set_measure_names.flat_table_+3A_new">new</code></td>
<td>
<p>A vector of names.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To rename the measures there are three possibilities: 1) give only one vector
with the new names for all the measures; 2) a vector of old names and another
of new names that must correspond; 3) a vector of new names whose names are
the old names they replace.
</p>


<h3>Value</h3>

<p>A <code>flat_table</code> or <code>star_database</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+star_database">star_database</a></code>, <code><a href="#topic+flat_table">flat_table</a></code>
</p>
<p>Other star database and flat table functions: 
<code><a href="#topic+get_attribute_names.flat_table">get_attribute_names.flat_table</a>()</code>,
<code><a href="#topic+get_measure_names.flat_table">get_measure_names.flat_table</a>()</code>,
<code><a href="#topic+get_similar_attribute_values.flat_table">get_similar_attribute_values.flat_table</a>()</code>,
<code><a href="#topic+get_similar_attribute_values_individually.flat_table">get_similar_attribute_values_individually.flat_table</a>()</code>,
<code><a href="#topic+get_unique_attribute_values.flat_table">get_unique_attribute_values.flat_table</a>()</code>,
<code><a href="#topic+replace_attribute_values.flat_table">replace_attribute_values.flat_table</a>()</code>,
<code><a href="#topic+set_attribute_names.flat_table">set_attribute_names.flat_table</a>()</code>,
<code><a href="#topic+snake_case.flat_table">snake_case.flat_table</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
db &lt;- star_database(mrs_cause_schema, ft_num) |&gt;
  set_measure_names(
    new = c(
      "Pneumonia and Influenza",
      "All",
      "Rows Aggregated"
    )
  )

ft &lt;- flat_table('iris', iris) |&gt;
  set_measure_names(
    old = c('Petal.Length', 'Petal.Width', 'Sepal.Length', 'Sepal.Width'),
    new = c('pl', 'pw', 'ls', 'sw'))

new &lt;- c('pl', 'pw', 'ls', 'sw')
names(new) &lt;- c('Petal.Length', 'Petal.Width', 'Sepal.Length', 'Sepal.Width')
ft &lt;- flat_table('iris', iris) |&gt;
  set_measure_names(
    new = new)

</code></pre>

<hr>
<h2 id='set_variables'>Set variables layer</h2><span id='topic+set_variables'></span><span id='topic+set_variables.geolayer'></span>

<h3>Description</h3>

<p>The variables layer includes the names and description through various fields
of the variables contained in the reports.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_variables(gl, variables, keep_all_variables_na)

## S3 method for class 'geolayer'
set_variables(gl, variables, keep_all_variables_na = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="set_variables_+3A_gl">gl</code></td>
<td>
<p>A <code>geolayer</code> object.</p>
</td></tr>
<tr><td><code id="set_variables_+3A_variables">variables</code></td>
<td>
<p>A <code>tibble</code> object.</p>
</td></tr>
<tr><td><code id="set_variables_+3A_keep_all_variables_na">keep_all_variables_na</code></td>
<td>
<p>A boolean, keep rows with all variables NA.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When we set the variables layer, after filtering it, the data layer is also
filtered keeping only the variables from the variables layer.
</p>
<p>By default, rows that are NA for all variables are eliminated.
</p>


<h3>Value</h3>

<p>A <code>sf</code> object.
</p>


<h3>See Also</h3>

<p>Other query functions: 
<code><a href="#topic+as_GeoPackage">as_GeoPackage</a>()</code>,
<code><a href="#topic+as_geolayer">as_geolayer</a>()</code>,
<code><a href="#topic+filter_dimension">filter_dimension</a>()</code>,
<code><a href="#topic+get_layer">get_layer</a>()</code>,
<code><a href="#topic+get_variable_description">get_variable_description</a>()</code>,
<code><a href="#topic+get_variables">get_variables</a>()</code>,
<code><a href="#topic+run_query">run_query</a>()</code>,
<code><a href="#topic+select_dimension">select_dimension</a>()</code>,
<code><a href="#topic+select_fact">select_fact</a>()</code>,
<code><a href="#topic+set_layer">set_layer</a>()</code>,
<code><a href="#topic+star_query">star_query</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
gl &lt;- mrs_db_geo |&gt;
  as_geolayer()

v &lt;- gl |&gt;
  get_variables()

v &lt;- v |&gt;
  dplyr::filter(year == '1966' | year == '2016')

gl_sel &lt;- gl |&gt;
  set_variables(v)

</code></pre>

<hr>
<h2 id='share_dimension_instance_operations'>Share dimension instance operations between all <code>star_database</code> objects</h2><span id='topic+share_dimension_instance_operations'></span>

<h3>Description</h3>

<p>Share dimension instance operations between all <code>star_database</code> objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>share_dimension_instance_operations(stars, dim_freq)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="share_dimension_instance_operations_+3A_stars">stars</code></td>
<td>
<p>A list of <code>star_database</code> objects.</p>
</td></tr>
<tr><td><code id="share_dimension_instance_operations_+3A_dim_freq">dim_freq</code></td>
<td>
<p>Dimension frequency table.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of <code>star_database</code> objects.
</p>

<hr>
<h2 id='share_dimensions'>Share the given dimensions in the database</h2><span id='topic+share_dimensions'></span>

<h3>Description</h3>

<p>Share the given dimensions in the database
</p>


<h3>Usage</h3>

<pre><code class='language-R'>share_dimensions(db, dims)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="share_dimensions_+3A_db">db</code></td>
<td>
<p><code>star_database</code> object.</p>
</td></tr>
<tr><td><code id="share_dimensions_+3A_dims">dims</code></td>
<td>
<p>Vector of dimension names.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>star_database</code> object.
</p>

<hr>
<h2 id='simplify_rpd_dimensions'>From a vector of dimensions, leave only one of each rpd.</h2><span id='topic+simplify_rpd_dimensions'></span>

<h3>Description</h3>

<p>From a vector of dimensions, leave only one of each rpd.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simplify_rpd_dimensions(db, names)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simplify_rpd_dimensions_+3A_db">db</code></td>
<td>
<p>A <code>star_database</code> object.</p>
</td></tr>
<tr><td><code id="simplify_rpd_dimensions_+3A_names">names</code></td>
<td>
<p>A vector of strings, dimension names.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of dimension names.
</p>

<hr>
<h2 id='snake_case_table.dimension_table'>Transform names according to the snake case style</h2><span id='topic+snake_case_table.dimension_table'></span>

<h3>Description</h3>

<p>Transform names according to the snake case style
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'dimension_table'
snake_case_table(table)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="snake_case_table.dimension_table_+3A_table">table</code></td>
<td>
<p>A <code>dimension_table</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>dimension_table</code> object.
</p>

<hr>
<h2 id='snake_case_table.fact_table'>Transform names according to the snake case style</h2><span id='topic+snake_case_table.fact_table'></span>

<h3>Description</h3>

<p>Transform names according to the snake case style
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'fact_table'
snake_case_table(table)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="snake_case_table.fact_table_+3A_table">table</code></td>
<td>
<p>A <code>fact_table</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>fact_table</code> object.
</p>

<hr>
<h2 id='snake_case.flat_table'>Transform names according to the snake case style</h2><span id='topic+snake_case.flat_table'></span><span id='topic+snake_case'></span><span id='topic+snake_case.star_database'></span>

<h3>Description</h3>

<p>For flat tables, transform attribute and measure names according to the snake
case style. For star databases, transform fact, dimension, measures, and
attribute names according to the snake case style.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'flat_table'
snake_case(db)

snake_case(db)

## S3 method for class 'star_database'
snake_case(db)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="snake_case.flat_table_+3A_db">db</code></td>
<td>
<p>A <code>flat_table</code> or <code>star_database</code> object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This style is suitable if we are going to work with databases.
</p>


<h3>Value</h3>

<p>A <code>flat_table</code> or <code>star_database</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+star_database">star_database</a></code>, <code><a href="#topic+flat_table">flat_table</a></code>
</p>
<p>Other star database and flat table functions: 
<code><a href="#topic+get_attribute_names.flat_table">get_attribute_names.flat_table</a>()</code>,
<code><a href="#topic+get_measure_names.flat_table">get_measure_names.flat_table</a>()</code>,
<code><a href="#topic+get_similar_attribute_values.flat_table">get_similar_attribute_values.flat_table</a>()</code>,
<code><a href="#topic+get_similar_attribute_values_individually.flat_table">get_similar_attribute_values_individually.flat_table</a>()</code>,
<code><a href="#topic+get_unique_attribute_values.flat_table">get_unique_attribute_values.flat_table</a>()</code>,
<code><a href="#topic+replace_attribute_values.flat_table">replace_attribute_values.flat_table</a>()</code>,
<code><a href="#topic+set_attribute_names.flat_table">set_attribute_names.flat_table</a>()</code>,
<code><a href="#topic+set_measure_names.flat_table">set_measure_names.flat_table</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
db &lt;- star_database(mrs_cause_schema, ft_num) |&gt;
  snake_case()

ft &lt;- flat_table('iris', iris) |&gt;
  snake_case()

</code></pre>

<hr>
<h2 id='star_database'><code>star_database</code> S3 class</h2><span id='topic+star_database'></span>

<h3>Description</h3>

<p>A <code>star_database</code> object is created from a <code>star_schema</code> object and a flat
table that contains the data from which database instances are derived.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>star_database(schema, instances, unknown_value = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="star_database_+3A_schema">schema</code></td>
<td>
<p>A <code>star_schema</code> object.</p>
</td></tr>
<tr><td><code id="star_database_+3A_instances">instances</code></td>
<td>
<p>A flat table to define the database instances according to the schema.</p>
</td></tr>
<tr><td><code id="star_database_+3A_unknown_value">unknown_value</code></td>
<td>
<p>A string, value used to replace NA values in dimensions.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Measures and measures of the <code>star_schema</code> must correspond to the names of
the columns of the flat table.
</p>
<p>Since NA values cause problems when doing Join operations between tables,
you can indicate the value that will be used to replace them before doing
these operations. If none is indicated, a default value is taken.
</p>


<h3>Value</h3>

<p>A <code>star_database</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+star_schema">star_schema</a></code>, <code><a href="#topic+flat_table">flat_table</a></code>
</p>
<p>Other star database definition functions: 
<code><a href="#topic+get_dimension_names">get_dimension_names</a>()</code>,
<code><a href="#topic+get_dimension_table">get_dimension_table</a>()</code>,
<code><a href="#topic+get_fact_names">get_fact_names</a>()</code>,
<code><a href="#topic+get_role_playing_dimension_names">get_role_playing_dimension_names</a>()</code>,
<code><a href="#topic+get_table_names">get_table_names</a>()</code>,
<code><a href="#topic+group_dimension_instances">group_dimension_instances</a>()</code>,
<code><a href="#topic+role_playing_dimension">role_playing_dimension</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
db &lt;- star_database(mrs_cause_schema, ft_num)

</code></pre>

<hr>
<h2 id='star_database_with_previous_operations'>Creates a <code>star_database</code> adding previous operations</h2><span id='topic+star_database_with_previous_operations'></span>

<h3>Description</h3>

<p>Creates a <code>star_database</code> adding previous operations
</p>


<h3>Usage</h3>

<pre><code class='language-R'>star_database_with_previous_operations(
  schema,
  instances,
  unknown_value = NULL,
  operations = NULL,
  lookup_tables = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="star_database_with_previous_operations_+3A_schema">schema</code></td>
<td>
<p>A <code>star_schema</code> object.</p>
</td></tr>
<tr><td><code id="star_database_with_previous_operations_+3A_instances">instances</code></td>
<td>
<p>A flat table to define the database instances according to the schema.</p>
</td></tr>
<tr><td><code id="star_database_with_previous_operations_+3A_unknown_value">unknown_value</code></td>
<td>
<p>A string, value used to replace NA values in dimensions.</p>
</td></tr>
<tr><td><code id="star_database_with_previous_operations_+3A_operations">operations</code></td>
<td>
<p>A list of operations.</p>
</td></tr>
<tr><td><code id="star_database_with_previous_operations_+3A_lookup_tables">lookup_tables</code></td>
<td>
<p>A list of lookup tables.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>star_database</code> object.
</p>

<hr>
<h2 id='star_operation'><code>star_operation</code> S3 class</h2><span id='topic+star_operation'></span>

<h3>Description</h3>

<p>A <code>star_operation</code> object is created.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>star_operation()
</code></pre>


<h3>Details</h3>

<p>A <code>star_operation</code> object is part of a <code>star_schema</code> object, defines
operations of the star schema.
</p>


<h3>Value</h3>

<p>A <code>star_operation</code> object.
</p>

<hr>
<h2 id='star_query'><code>star_query</code> S3 class</h2><span id='topic+star_query'></span><span id='topic+star_query.star_database'></span>

<h3>Description</h3>

<p>An empty <code>star_query</code> object is created where we can select facts and
measures, dimensions, dimension attributes and filter dimension rows.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>star_query(db)

## S3 method for class 'star_database'
star_query(db)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="star_query_+3A_db">db</code></td>
<td>
<p>A <code>star_database</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>star_query</code> object.
</p>


<h3>See Also</h3>

<p>Other query functions: 
<code><a href="#topic+as_GeoPackage">as_GeoPackage</a>()</code>,
<code><a href="#topic+as_geolayer">as_geolayer</a>()</code>,
<code><a href="#topic+filter_dimension">filter_dimension</a>()</code>,
<code><a href="#topic+get_layer">get_layer</a>()</code>,
<code><a href="#topic+get_variable_description">get_variable_description</a>()</code>,
<code><a href="#topic+get_variables">get_variables</a>()</code>,
<code><a href="#topic+run_query">run_query</a>()</code>,
<code><a href="#topic+select_dimension">select_dimension</a>()</code>,
<code><a href="#topic+select_fact">select_fact</a>()</code>,
<code><a href="#topic+set_layer">set_layer</a>()</code>,
<code><a href="#topic+set_variables">set_variables</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
sq &lt;- mrs_db |&gt;
  star_query()

</code></pre>

<hr>
<h2 id='star_schema'><code>star_schema</code> S3 class</h2><span id='topic+star_schema'></span>

<h3>Description</h3>

<p>An empty <code>star_schema</code> object is created in which definition of facts
and dimensions can be added.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>star_schema()
</code></pre>


<h3>Details</h3>

<p>To get a star database (a <code>star_database</code> object) we need a flat table
and a <code>star_schema</code> object. The definition of facts and dimensions in
the <code>star_schema</code> object is made from the flat table columns.
</p>


<h3>Value</h3>

<p>A <code>star_schema</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+star_database">star_database</a></code>
</p>
<p>Other star schema definition functions: 
<code><a href="#topic+define_dimension">define_dimension</a>()</code>,
<code><a href="#topic+define_facts">define_facts</a>()</code>,
<code><a href="#topic+dimension_schema">dimension_schema</a>()</code>,
<code><a href="#topic+fact_schema">fact_schema</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
s &lt;- star_schema()

</code></pre>

<hr>
<h2 id='string_or_null'>Get the representation to output</h2><span id='topic+string_or_null'></span>

<h3>Description</h3>

<p>Get the representation to output
</p>


<h3>Usage</h3>

<pre><code class='language-R'>string_or_null(value, last = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="string_or_null_+3A_value">value</code></td>
<td>
<p>A string</p>
</td></tr>
<tr><td><code id="string_or_null_+3A_last">last</code></td>
<td>
<p>A boolean</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string
</p>

<hr>
<h2 id='string_to_vector'>Transforms string into a vector of strings.</h2><span id='topic+string_to_vector'></span>

<h3>Description</h3>

<p>Transforms string into a vector of strings.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>string_to_vector(str)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="string_to_vector_+3A_str">str</code></td>
<td>
<p>A string.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of strings.
</p>

<hr>
<h2 id='summarize_layer'>Summarize geometry of a layer</h2><span id='topic+summarize_layer'></span>

<h3>Description</h3>

<p>Groups the geometric elements of a layer according to the values of the indicated
attribute.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>summarize_layer(layer, attribute)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summarize_layer_+3A_layer">layer</code></td>
<td>
<p>A <code>sf</code> object.</p>
</td></tr>
<tr><td><code id="summarize_layer_+3A_attribute">attribute</code></td>
<td>
<p>A string, attribute name.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>sf</code> object.
</p>


<h3>See Also</h3>

<p>Other star database geographic attributes: 
<code><a href="#topic+check_geoattribute_geometry">check_geoattribute_geometry</a>()</code>,
<code><a href="#topic+define_geoattribute">define_geoattribute</a>()</code>,
<code><a href="#topic+get_geoattribute_geometries">get_geoattribute_geometries</a>()</code>,
<code><a href="#topic+get_geoattributes">get_geoattributes</a>()</code>,
<code><a href="#topic+get_layer_geometry">get_layer_geometry</a>()</code>,
<code><a href="#topic+get_point_geometry">get_point_geometry</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
layer &lt;-
  summarize_layer(us_layer_state, "REGION")

</code></pre>

<hr>
<h2 id='transform_attribute_format'>Transform attribute format</h2><span id='topic+transform_attribute_format'></span><span id='topic+transform_attribute_format.flat_table'></span>

<h3>Description</h3>

<p>Transforms numeric attributes adapting their format as indicated.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>transform_attribute_format(
  ft,
  attributes,
  width,
  decimal_places,
  k_sep,
  decimal_sep,
  space_filling
)

## S3 method for class 'flat_table'
transform_attribute_format(
  ft,
  attributes,
  width = 1,
  decimal_places = 0,
  k_sep = NULL,
  decimal_sep = NULL,
  space_filling = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="transform_attribute_format_+3A_ft">ft</code></td>
<td>
<p>A <code>flat_table</code> object.</p>
</td></tr>
<tr><td><code id="transform_attribute_format_+3A_attributes">attributes</code></td>
<td>
<p>A vector of strings, attribute names.</p>
</td></tr>
<tr><td><code id="transform_attribute_format_+3A_width">width</code></td>
<td>
<p>An integer, string length.</p>
</td></tr>
<tr><td><code id="transform_attribute_format_+3A_decimal_places">decimal_places</code></td>
<td>
<p>An integer, number of decimal places.</p>
</td></tr>
<tr><td><code id="transform_attribute_format_+3A_k_sep">k_sep</code></td>
<td>
<p>A character, thousands separator used (It can not be changed).</p>
</td></tr>
<tr><td><code id="transform_attribute_format_+3A_decimal_sep">decimal_sep</code></td>
<td>
<p>A character, decimal separator used (It can not be changed).</p>
</td></tr>
<tr><td><code id="transform_attribute_format_+3A_space_filling">space_filling</code></td>
<td>
<p>A boolean, fill on the left with spaces (with '0' otherwise).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If a number &gt; 1 is specified in the <code>width</code> parameter, at least that length
will be obtained in the result, padded with blanks on the left.
</p>


<h3>Value</h3>

<p>ft A <code>flat_table</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+flat_table">flat_table</a></code>
</p>
<p>Other flat table transformation functions: 
<code><a href="#topic+add_custom_column">add_custom_column</a>()</code>,
<code><a href="#topic+remove_instances_without_measures">remove_instances_without_measures</a>()</code>,
<code><a href="#topic+replace_empty_values">replace_empty_values</a>()</code>,
<code><a href="#topic+replace_string">replace_string</a>()</code>,
<code><a href="#topic+replace_unknown_values">replace_unknown_values</a>()</code>,
<code><a href="#topic+select_attributes">select_attributes</a>()</code>,
<code><a href="#topic+select_instances_by_comparison">select_instances_by_comparison</a>()</code>,
<code><a href="#topic+select_instances">select_instances</a>()</code>,
<code><a href="#topic+select_measures">select_measures</a>()</code>,
<code><a href="#topic+separate_measures">separate_measures</a>()</code>,
<code><a href="#topic+transform_from_values">transform_from_values</a>()</code>,
<code><a href="#topic+transform_to_attribute">transform_to_attribute</a>()</code>,
<code><a href="#topic+transform_to_measure">transform_to_measure</a>()</code>,
<code><a href="#topic+transform_to_values">transform_to_values</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ft &lt;- flat_table('iris', iris) |&gt;
  transform_to_attribute(measures = "Sepal.Length", decimal_places = 2) |&gt;
  transform_attribute_format(
    attributes = "Sepal.Length",
    width = 5,
    decimal_places = 1
  )

</code></pre>

<hr>
<h2 id='transform_from_values'>Transform attribute values into measure names</h2><span id='topic+transform_from_values'></span><span id='topic+transform_from_values.flat_table'></span>

<h3>Description</h3>

<p>The values of an attribute will become measure names. There can only be one
measure that will be from where the new defined measures take the values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>transform_from_values(ft, attribute)

## S3 method for class 'flat_table'
transform_from_values(ft, attribute = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="transform_from_values_+3A_ft">ft</code></td>
<td>
<p>A <code>flat_table</code> object.</p>
</td></tr>
<tr><td><code id="transform_from_values_+3A_attribute">attribute</code></td>
<td>
<p>A string, attribute that stores the measures names.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>flat_table</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+flat_table">flat_table</a></code>
</p>
<p>Other flat table transformation functions: 
<code><a href="#topic+add_custom_column">add_custom_column</a>()</code>,
<code><a href="#topic+remove_instances_without_measures">remove_instances_without_measures</a>()</code>,
<code><a href="#topic+replace_empty_values">replace_empty_values</a>()</code>,
<code><a href="#topic+replace_string">replace_string</a>()</code>,
<code><a href="#topic+replace_unknown_values">replace_unknown_values</a>()</code>,
<code><a href="#topic+select_attributes">select_attributes</a>()</code>,
<code><a href="#topic+select_instances_by_comparison">select_instances_by_comparison</a>()</code>,
<code><a href="#topic+select_instances">select_instances</a>()</code>,
<code><a href="#topic+select_measures">select_measures</a>()</code>,
<code><a href="#topic+separate_measures">separate_measures</a>()</code>,
<code><a href="#topic+transform_attribute_format">transform_attribute_format</a>()</code>,
<code><a href="#topic+transform_to_attribute">transform_to_attribute</a>()</code>,
<code><a href="#topic+transform_to_measure">transform_to_measure</a>()</code>,
<code><a href="#topic+transform_to_values">transform_to_values</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ft &lt;- flat_table('iris', iris) |&gt;
  transform_to_values(attribute = 'Characteristic',
                      measure = 'Value',
                      id_reverse = 'id')
ft &lt;- ft |&gt;
  transform_from_values(attribute = 'Characteristic')

</code></pre>

<hr>
<h2 id='transform_names'>For each row, add a vector of values</h2><span id='topic+transform_names'></span>

<h3>Description</h3>

<p>For each row, add a vector of values
</p>


<h3>Usage</h3>

<pre><code class='language-R'>transform_names(names, ordered, as_definition)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="transform_names_+3A_names">names</code></td>
<td>
<p>A vector of strings, names of attributes or measures.</p>
</td></tr>
<tr><td><code id="transform_names_+3A_ordered">ordered</code></td>
<td>
<p>A boolean, sort names alphabetically.</p>
</td></tr>
<tr><td><code id="transform_names_+3A_as_definition">as_definition</code></td>
<td>
<p>A boolean, as the definition of the vector in R.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of strings, attribute or measure names.
</p>

<hr>
<h2 id='transform_to_attribute'>Transform to attribute</h2><span id='topic+transform_to_attribute'></span><span id='topic+transform_to_attribute.flat_table'></span>

<h3>Description</h3>

<p>Transform measures into attributes. We can indicate if we want all the numbers
in the result to have the same length and the number of decimal places.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>transform_to_attribute(ft, measures, width, decimal_places, k_sep, decimal_sep)

## S3 method for class 'flat_table'
transform_to_attribute(
  ft,
  measures,
  width = 1,
  decimal_places = 0,
  k_sep = ",",
  decimal_sep = "."
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="transform_to_attribute_+3A_ft">ft</code></td>
<td>
<p>A <code>flat_table</code> object.</p>
</td></tr>
<tr><td><code id="transform_to_attribute_+3A_measures">measures</code></td>
<td>
<p>A vector of strings, measure names.</p>
</td></tr>
<tr><td><code id="transform_to_attribute_+3A_width">width</code></td>
<td>
<p>An integer, string length.</p>
</td></tr>
<tr><td><code id="transform_to_attribute_+3A_decimal_places">decimal_places</code></td>
<td>
<p>An integer, number of decimal places.</p>
</td></tr>
<tr><td><code id="transform_to_attribute_+3A_k_sep">k_sep</code></td>
<td>
<p>A character, indicates thousands separator.</p>
</td></tr>
<tr><td><code id="transform_to_attribute_+3A_decimal_sep">decimal_sep</code></td>
<td>
<p>A character, indicates decimal separator.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If a number &gt; 1 is specified in the <code>width</code> parameter, at least that length
will be obtained in the result, padded with blanks on the left.
</p>


<h3>Value</h3>

<p>ft A <code>flat_table</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+flat_table">flat_table</a></code>
</p>
<p>Other flat table transformation functions: 
<code><a href="#topic+add_custom_column">add_custom_column</a>()</code>,
<code><a href="#topic+remove_instances_without_measures">remove_instances_without_measures</a>()</code>,
<code><a href="#topic+replace_empty_values">replace_empty_values</a>()</code>,
<code><a href="#topic+replace_string">replace_string</a>()</code>,
<code><a href="#topic+replace_unknown_values">replace_unknown_values</a>()</code>,
<code><a href="#topic+select_attributes">select_attributes</a>()</code>,
<code><a href="#topic+select_instances_by_comparison">select_instances_by_comparison</a>()</code>,
<code><a href="#topic+select_instances">select_instances</a>()</code>,
<code><a href="#topic+select_measures">select_measures</a>()</code>,
<code><a href="#topic+separate_measures">separate_measures</a>()</code>,
<code><a href="#topic+transform_attribute_format">transform_attribute_format</a>()</code>,
<code><a href="#topic+transform_from_values">transform_from_values</a>()</code>,
<code><a href="#topic+transform_to_measure">transform_to_measure</a>()</code>,
<code><a href="#topic+transform_to_values">transform_to_values</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ft &lt;- flat_table('iris', iris) |&gt;
  transform_to_attribute(
    measures = "Sepal.Length",
    width = 3,
    decimal_places = 2
  )

</code></pre>

<hr>
<h2 id='transform_to_measure'>Transform to measure</h2><span id='topic+transform_to_measure'></span><span id='topic+transform_to_measure.flat_table'></span>

<h3>Description</h3>

<p>Transform attributes into measures.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>transform_to_measure(ft, attributes, k_sep, decimal_sep)

## S3 method for class 'flat_table'
transform_to_measure(ft, attributes, k_sep = NULL, decimal_sep = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="transform_to_measure_+3A_ft">ft</code></td>
<td>
<p>A <code>flat_table</code> object.</p>
</td></tr>
<tr><td><code id="transform_to_measure_+3A_attributes">attributes</code></td>
<td>
<p>A vector of strings, attribute names.</p>
</td></tr>
<tr><td><code id="transform_to_measure_+3A_k_sep">k_sep</code></td>
<td>
<p>A character, thousands separator to remove.</p>
</td></tr>
<tr><td><code id="transform_to_measure_+3A_decimal_sep">decimal_sep</code></td>
<td>
<p>A character, new decimal separator to use, if necessary.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>We can indicate a thousands indicator to remove and a decimal separator to use.
The only decimal separators considered are &quot;.&quot; and &quot;,&quot;.
</p>


<h3>Value</h3>

<p>ft A <code>flat_table</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+flat_table">flat_table</a></code>
</p>
<p>Other flat table transformation functions: 
<code><a href="#topic+add_custom_column">add_custom_column</a>()</code>,
<code><a href="#topic+remove_instances_without_measures">remove_instances_without_measures</a>()</code>,
<code><a href="#topic+replace_empty_values">replace_empty_values</a>()</code>,
<code><a href="#topic+replace_string">replace_string</a>()</code>,
<code><a href="#topic+replace_unknown_values">replace_unknown_values</a>()</code>,
<code><a href="#topic+select_attributes">select_attributes</a>()</code>,
<code><a href="#topic+select_instances_by_comparison">select_instances_by_comparison</a>()</code>,
<code><a href="#topic+select_instances">select_instances</a>()</code>,
<code><a href="#topic+select_measures">select_measures</a>()</code>,
<code><a href="#topic+separate_measures">separate_measures</a>()</code>,
<code><a href="#topic+transform_attribute_format">transform_attribute_format</a>()</code>,
<code><a href="#topic+transform_from_values">transform_from_values</a>()</code>,
<code><a href="#topic+transform_to_attribute">transform_to_attribute</a>()</code>,
<code><a href="#topic+transform_to_values">transform_to_values</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ft &lt;- flat_table('iris', iris) |&gt;
  transform_to_attribute(measures = "Sepal.Length", decimal_places = 2) |&gt;
  transform_to_measure(attributes = "Sepal.Length", decimal_sep = ".")

</code></pre>

<hr>
<h2 id='transform_to_values'>Transform measure names into attribute values</h2><span id='topic+transform_to_values'></span><span id='topic+transform_to_values.flat_table'></span>

<h3>Description</h3>

<p>Transforms the measure names into values of a new attribute. The values of
the measures will become values of the new measure that is indicated.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>transform_to_values(ft, attribute, measure, id_reverse, na_rm)

## S3 method for class 'flat_table'
transform_to_values(
  ft,
  attribute = NULL,
  measure = NULL,
  id_reverse = NULL,
  na_rm = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="transform_to_values_+3A_ft">ft</code></td>
<td>
<p>A <code>flat_table</code> object.</p>
</td></tr>
<tr><td><code id="transform_to_values_+3A_attribute">attribute</code></td>
<td>
<p>A string, new attribute that will store the measures names.</p>
</td></tr>
<tr><td><code id="transform_to_values_+3A_measure">measure</code></td>
<td>
<p>A string, new measure that will store the measure value.</p>
</td></tr>
<tr><td><code id="transform_to_values_+3A_id_reverse">id_reverse</code></td>
<td>
<p>A string, name of a new attribute that will store the row id.</p>
</td></tr>
<tr><td><code id="transform_to_values_+3A_na_rm">na_rm</code></td>
<td>
<p>A boolean, remove rows from output where the value column is NA.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If we wanted to perform the reverse operation later using the <code>transform_from_values</code>
function, we would need to uniquely identify each original row. By indicating
a value in the <code>id_reverse</code> parameter, an identifier is added that will allow
us to always carry out the inverse operation.
</p>


<h3>Value</h3>

<p>A <code>flat_table</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+flat_table">flat_table</a></code>
</p>
<p>Other flat table transformation functions: 
<code><a href="#topic+add_custom_column">add_custom_column</a>()</code>,
<code><a href="#topic+remove_instances_without_measures">remove_instances_without_measures</a>()</code>,
<code><a href="#topic+replace_empty_values">replace_empty_values</a>()</code>,
<code><a href="#topic+replace_string">replace_string</a>()</code>,
<code><a href="#topic+replace_unknown_values">replace_unknown_values</a>()</code>,
<code><a href="#topic+select_attributes">select_attributes</a>()</code>,
<code><a href="#topic+select_instances_by_comparison">select_instances_by_comparison</a>()</code>,
<code><a href="#topic+select_instances">select_instances</a>()</code>,
<code><a href="#topic+select_measures">select_measures</a>()</code>,
<code><a href="#topic+separate_measures">separate_measures</a>()</code>,
<code><a href="#topic+transform_attribute_format">transform_attribute_format</a>()</code>,
<code><a href="#topic+transform_from_values">transform_from_values</a>()</code>,
<code><a href="#topic+transform_to_attribute">transform_to_attribute</a>()</code>,
<code><a href="#topic+transform_to_measure">transform_to_measure</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ft &lt;- flat_table('iris', iris) |&gt;
  transform_to_values(attribute = 'Characteristic',
                      measure = 'Value')

ft &lt;- flat_table('iris', iris) |&gt;
  transform_to_values(attribute = 'Characteristic',
                      measure = 'Value',
                      id_reverse = 'id')

</code></pre>

<hr>
<h2 id='unify_facts_and_dimensions'>Unify facts and dimensions in a flat table</h2><span id='topic+unify_facts_and_dimensions'></span>

<h3>Description</h3>

<p>Unify facts and dimensions in a flat table
</p>


<h3>Usage</h3>

<pre><code class='language-R'>unify_facts_and_dimensions(db, dimension, include_nrow_agg)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="unify_facts_and_dimensions_+3A_db">db</code></td>
<td>
<p>A <code>star_database</code> object.</p>
</td></tr>
<tr><td><code id="unify_facts_and_dimensions_+3A_dimension">dimension</code></td>
<td>
<p>A vector of strings, dimension names.</p>
</td></tr>
<tr><td><code id="unify_facts_and_dimensions_+3A_include_nrow_agg">include_nrow_agg</code></td>
<td>
<p>A boolean.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>tibble</code>.
</p>

<hr>
<h2 id='unify_rpd'>Unify lists of dimension names if there are any in common</h2><span id='topic+unify_rpd'></span>

<h3>Description</h3>

<p>Unify lists of dimension names if there are any in common
</p>


<h3>Usage</h3>

<pre><code class='language-R'>unify_rpd(rpd)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="unify_rpd_+3A_rpd">rpd</code></td>
<td>
<p>A list of strings (dimension names).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of strings (dimension names).
</p>

<hr>
<h2 id='update_according_to'>Update a flat table according to another structure</h2><span id='topic+update_according_to'></span><span id='topic+update_according_to.flat_table'></span>

<h3>Description</h3>

<p>Update a flat table with the operations of another structure based on a flat
table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>update_according_to(ft, sdb, star, sdb_operations)

## S3 method for class 'flat_table'
update_according_to(ft, sdb, star = 1, sdb_operations = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="update_according_to_+3A_ft">ft</code></td>
<td>
<p>A <code>flat_table</code> object.</p>
</td></tr>
<tr><td><code id="update_according_to_+3A_sdb">sdb</code></td>
<td>
<p>A <code>star_database</code> object with defined modification operations.</p>
</td></tr>
<tr><td><code id="update_according_to_+3A_star">star</code></td>
<td>
<p>A string or integer, star database name or index in constellation.</p>
</td></tr>
<tr><td><code id="update_according_to_+3A_sdb_operations">sdb_operations</code></td>
<td>
<p>A <code>star_database</code> object with new defined modification
operations.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>star_database_update</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+star_database">star_database</a></code>
</p>
<p>Other star database refresh functions: 
<code><a href="#topic+get_existing_fact_instances">get_existing_fact_instances</a>()</code>,
<code><a href="#topic+get_lookup_tables">get_lookup_tables</a>()</code>,
<code><a href="#topic+get_new_dimension_instances">get_new_dimension_instances</a>()</code>,
<code><a href="#topic+get_star_database">get_star_database</a>()</code>,
<code><a href="#topic+get_star_schema">get_star_schema</a>()</code>,
<code><a href="#topic+get_transformation_code">get_transformation_code</a>()</code>,
<code><a href="#topic+get_transformation_file">get_transformation_file</a>()</code>,
<code><a href="#topic+incremental_refresh">incremental_refresh</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
f1 &lt;- flat_table('ft_num', ft_cause_rpd) |&gt;
  as_star_database(mrs_cause_schema_rpd) |&gt;
  replace_attribute_values(
    name = "When Available",
    old = c('1962', '11', '1962-03-14'),
    new = c('1962', '3', '1962-01-15')
  ) |&gt;
  group_dimension_instances(name = "When")
f2 &lt;- flat_table('ft_num2', ft_cause_rpd) |&gt;
  update_according_to(f1)

</code></pre>

<hr>
<h2 id='us_census_state'>Census of US States, by sex and age</h2><span id='topic+us_census_state'></span>

<h3>Description</h3>

<p>Census of US States, by sex and age, obtained from the United States Census
Bureau (USCB), American Community Survey (ACS). Obtained from the variables
defined in reports, classifying the concepts according to the defined subjects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>us_census_state
</code></pre>


<h3>Format</h3>

<p>A <code>tibble</code>.
</p>


<h3>Details</h3>

<p>U.S. Census Bureau. “Government Units: US and State: Census Years 1942 - 2022.”
Public Sector, PUB Public Sector Annual Surveys and Census of Governments,
Table CG00ORG01, 2022,
https://data.census.gov/table/GOVSTIMESERIES.CG00ORG01?q=census+state+year.
Accessed on October 25, 2023.
</p>


<h3>Source</h3>

<p><a href="https://www.census.gov/geographies/mapping-files/time-series/geo/tiger-data.2021.html">https://www.census.gov/geographies/mapping-files/time-series/geo/tiger-data.2021.html</a>
</p>

<hr>
<h2 id='us_layer_state'>Geographic layer of US States</h2><span id='topic+us_layer_state'></span>

<h3>Description</h3>

<p>Geographic layer with data from the States of the USA in polygon format, with
simplified geometry so that it takes up less space.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>us_layer_state
</code></pre>


<h3>Format</h3>

<p>A <code>sf</code>.
</p>


<h3>Details</h3>

<p>It has been obtained from the geographic data included in the US census prepared
by the U.S. Census Bureau.
</p>


<h3>Source</h3>

<p><a href="https://www.census.gov/geographies/mapping-files/time-series/geo/tiger-data.2021.html">https://www.census.gov/geographies/mapping-files/time-series/geo/tiger-data.2021.html</a>
</p>

<hr>
<h2 id='validate_attributes'>Validate attribute names</h2><span id='topic+validate_attributes'></span>

<h3>Description</h3>

<p>Validate attribute names
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate_attributes(defined_attributes, attributes, repeated = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="validate_attributes_+3A_defined_attributes">defined_attributes</code></td>
<td>
<p>A vector of strings, defined attribute names.</p>
</td></tr>
<tr><td><code id="validate_attributes_+3A_attributes">attributes</code></td>
<td>
<p>A vector of strings, new attribute names.</p>
</td></tr>
<tr><td><code id="validate_attributes_+3A_repeated">repeated</code></td>
<td>
<p>A boolean, repeated attributes allowed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of strings, attribute names.
</p>

<hr>
<h2 id='validate_dimension_attributes'>Validate dimension attributes</h2><span id='topic+validate_dimension_attributes'></span>

<h3>Description</h3>

<p>Validate dimension attributes
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate_dimension_attributes(db, dimension, attributes)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="validate_dimension_attributes_+3A_db">db</code></td>
<td>
<p>A <code>star_database</code> object.</p>
</td></tr>
<tr><td><code id="validate_dimension_attributes_+3A_dimension">dimension</code></td>
<td>
<p>A dimension name.</p>
</td></tr>
<tr><td><code id="validate_dimension_attributes_+3A_attributes">attributes</code></td>
<td>
<p>Attribute names.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of strings, dimension names.
</p>

<hr>
<h2 id='validate_dimension_names'>Validate dimension names</h2><span id='topic+validate_dimension_names'></span>

<h3>Description</h3>

<p>Validate dimension names
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate_dimension_names(db, name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="validate_dimension_names_+3A_db">db</code></td>
<td>
<p>A <code>star_database</code> object.</p>
</td></tr>
<tr><td><code id="validate_dimension_names_+3A_name">name</code></td>
<td>
<p>A vector of strings, dimension names.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of strings, dimension names.
</p>

<hr>
<h2 id='validate_facts'>Validate fact names</h2><span id='topic+validate_facts'></span>

<h3>Description</h3>

<p>Validate fact names
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate_facts(defined_facts, facts)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="validate_facts_+3A_defined_facts">defined_facts</code></td>
<td>
<p>A vector of strings, defined fact names.</p>
</td></tr>
<tr><td><code id="validate_facts_+3A_facts">facts</code></td>
<td>
<p>A vector of strings, fact names.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of strings, fact names.
</p>

<hr>
<h2 id='validate_lookup_parameters'>Validate lookup parameters</h2><span id='topic+validate_lookup_parameters'></span>

<h3>Description</h3>

<p>Validate lookup parameters
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate_lookup_parameters(ft, fk_attributes, lookup)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="validate_lookup_parameters_+3A_ft">ft</code></td>
<td>
<p>A <code>flat_table</code> object.</p>
</td></tr>
<tr><td><code id="validate_lookup_parameters_+3A_fk_attributes">fk_attributes</code></td>
<td>
<p>A vector of strings, attribute names.</p>
</td></tr>
<tr><td><code id="validate_lookup_parameters_+3A_lookup">lookup</code></td>
<td>
<p>A <code>flat_table</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of strings, fk attribute names.
</p>

<hr>
<h2 id='validate_measures'>Validate measure names</h2><span id='topic+validate_measures'></span>

<h3>Description</h3>

<p>Validate measure names
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate_measures(defined_measures, measures)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="validate_measures_+3A_defined_measures">defined_measures</code></td>
<td>
<p>A vector of strings, defined measure names.</p>
</td></tr>
<tr><td><code id="validate_measures_+3A_measures">measures</code></td>
<td>
<p>A vector of strings, measure names.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of strings, measure names.
</p>

<hr>
<h2 id='validate_names'>Validate names</h2><span id='topic+validate_names'></span>

<h3>Description</h3>

<p>Validate names
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate_names(defined_names, names, concept = "name", repeated = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="validate_names_+3A_defined_names">defined_names</code></td>
<td>
<p>A vector of strings, defined attribute names.</p>
</td></tr>
<tr><td><code id="validate_names_+3A_names">names</code></td>
<td>
<p>A vector of strings, new attribute names.</p>
</td></tr>
<tr><td><code id="validate_names_+3A_concept">concept</code></td>
<td>
<p>A string, treated concept.</p>
</td></tr>
<tr><td><code id="validate_names_+3A_repeated">repeated</code></td>
<td>
<p>A boolean, repeated names allowed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of strings, names.
</p>

<hr>
<h2 id='vector_presentation'>vector to string for presentation</h2><span id='topic+vector_presentation'></span>

<h3>Description</h3>

<p>vector to string for presentation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vector_presentation(vector)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vector_presentation_+3A_vector">vector</code></td>
<td>
<p>A vector</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string
</p>

<hr>
<h2 id='vector_to_string'>Transforms a vector of strings into a string.</h2><span id='topic+vector_to_string'></span>

<h3>Description</h3>

<p>Transforms a vector of strings into a string.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vector_to_string(vector)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vector_to_string_+3A_vector">vector</code></td>
<td>
<p>A vector of strings.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

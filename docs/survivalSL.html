<!DOCTYPE html><html><head><title>Help for package survivalSL</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {survivalSL}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#dataDIVAT2'>
<p>A Sample from the DIVAT Data Bank.</p></a></li>
<li><a href='#dataDIVAT3'>
<p>A Sample from the DIVAT Data Bank.</p></a></li>
<li><a href='#dataOFSEP'>
<p>A Simulated Sample from the OFSEP Cohort.</p></a></li>
<li><a href='#LIB_AFTgamma'>
<p>Library of the Super Learner for an Accelerated Failure Time (AFT) Model with a Gamma Distribution</p></a></li>
<li><a href='#LIB_AFTggamma'>
<p>Library of the Super Learner for an Accelerated Failure Time (AFT) Model with a Generalized Gamma Distribution</p></a></li>
<li><a href='#LIB_AFTllogis'>
<p>Library of the Super Learner for an Accelerated Failure Time (AFT) Model with a Log Logistic Distribution</p></a></li>
<li><a href='#LIB_AFTweibull'>
<p>Library of the Super Learner for an Accelerated Failure Time (AFT) Model with a Weibull Distribution</p></a></li>
<li><a href='#LIB_COXaic'>
<p>Library of the Super Learner for a Cox Model with Selected Covariates</p></a></li>
<li><a href='#LIB_COXall'>
<p>Library of the Super Learner for Cox Regression</p></a></li>
<li><a href='#LIB_COXen'>
<p>Library of the Super Learner for Elastic Net Cox Regression</p></a></li>
<li><a href='#LIB_COXlasso'>
<p>Library of the Super Learner for Lasso Cox Regression</p></a></li>
<li><a href='#LIB_COXridge'>
<p>Library of the Super Learner for Ridge Cox Regression</p></a></li>
<li><a href='#LIB_PHexponential'>
<p>Library of the Super Learner for a Proportional Hazards (PH) Model with an Exponential Distribution</p></a></li>
<li><a href='#LIB_PHgompertz'>
<p>Library of the Super Learner for an Proportional Hazards (PH) Model with a Gompertz Distribution</p></a></li>
<li><a href='#LIB_PHspline'>
<p>Library of the Super Learner for an Survival Regression using the Royston/Parmar Spline Model</p></a></li>
<li><a href='#LIB_RSF'>
<p>Library of the Super Learner for Survival Random Survival Forest</p></a></li>
<li><a href='#LIB_SNN'>
<p>Library of the Super Learner for Survival Neural Network</p></a></li>
<li><a href='#metrics'>
<p>Metrics to Evaluate the Prognostic Capacities</p></a></li>
<li><a href='#plot.libsl'>
<p>Calibration Plot for a Cox-like Model</p></a></li>
<li><a href='#plot.rocrisca'>
<p>Plot Method for 'rocrisca' Objects</p></a></li>
<li><a href='#plot.sltime'>
<p>Calibration Plot for Super Learner</p></a></li>
<li><a href='#predict.libsl'>
<p>Prediction from an Flexible Parametric Model</p></a></li>
<li><a href='#predict.sltime'>
<p>Prediction from a Super Learner for Censored Outcomes</p></a></li>
<li><a href='#print.libsl'>
<p>S3 Method for Printing an 'libsl' Object</p></a></li>
<li><a href='#print.sltime'>
<p>S3 Method for Printing an 'sltime' Object</p></a></li>
<li><a href='#roc'>
<p>Time-Dependent ROC Curves With Right Censored Data</p></a></li>
<li><a href='#summary.libsl'>
<p>Summaries of a Learner</p></a></li>
<li><a href='#summary.sltime'>
<p>Summaries of a Super Learner</p></a></li>
<li><a href='#survivalSL'>
<p>Super Learner for Censored Outcomes</p></a></li>
<li><a href='#tuneCOXaic'>
<p>Tune a Cox Model with a Forward Selection Based on the AIC</p></a></li>
<li><a href='#tuneCOXen'>
<p>Tune Elastic Net Cox Regression</p></a></li>
<li><a href='#tuneCOXlasso'>
<p>Tune Lasso Cox Regression</p></a></li>
<li><a href='#tuneCOXridge'>
<p>Tune Ridge Cox Regression</p></a></li>
<li><a href='#tunePHspline'>
<p>Tune a Survival Regression using the Royston/Parmar Spline Model</p></a></li>
<li><a href='#tuneRSF'>
<p>Tune a Survival Random Forest</p></a></li>
<li><a href='#tuneSNN'>
<p>Tune a 1-Layer Survival Neural Network</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Super Learner for Survival Prediction from Censored Data</td>
</tr>
<tr>
<td>Version:</td>
<td>0.94</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.0.0), splines, survival</td>
</tr>
<tr>
<td>Imports:</td>
<td>date, graphics, MASS, glmnet, caret, flexsurv,
randomForestSRC, hdnom, glmnetUtils, dplyr, rpart, methods</td>
</tr>
<tr>
<td>Suggests:</td>
<td>reticulate, survivalmodels</td>
</tr>
<tr>
<td>Description:</td>
<td>Several functions and S3 methods to construct a super learner in the presence of censored times-to-event and to evaluate its prognostic capacities.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/foucher-y/survivalSL/issues">https://github.com/foucher-y/survivalSL/issues</a></td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-03-19 21:42:06 UTC; foucher-y</td>
</tr>
<tr>
<td>Author:</td>
<td>Yohann Foucher <a href="https://orcid.org/0000-0003-0330-7457"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Camille Sabathe <a href="https://orcid.org/0000-0001-9353-691X"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Yohann Foucher &lt;yohann.foucher@univ-poitiers.fr&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-03-19 22:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='dataDIVAT2'>
A Sample from the DIVAT Data Bank.
</h2><span id='topic+dataDIVAT2'></span>

<h3>Description</h3>

<p>A data frame with 1912 French kidney transplant recipients from the DIVAT cohort.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(dataDIVAT2)</code></pre>


<h3>Format</h3>

<p>A data frame with the 4 following variables:
</p>

<dl>
<dt><code>age</code></dt><dd><p>This numeric vector provides the age of the recipient at the transplantation (in years).</p>
</dd>
<dt><code>hla</code></dt><dd><p>This numeric vector provides the indicator of transplantations with at least 4 HLA incompatibilities between the donor and the recipient (1 for high level and 0 otherwise).</p>
</dd>
<dt><code>retransplant</code></dt><dd><p>This numeric vector provides the indicator of re-transplantation (1 for more than one transplantation and 0 for first kidney transplantation).</p>
</dd>
<dt><code>ecd</code></dt><dd><p>The Expended Criteria Donor (1 for transplantations from ECD and 0 otherwise). ECD are defined by widely accepted criteria, which includes donors older than 60 years of age or 50-59 years of age with two of the following characteristics: history of hypertension, cerebrovascular accident as the cause of death or terminal serum creatinine higher than 1.5 mg/dL.</p>
</dd>
<dt><code>times</code></dt><dd><p>This numeric vector is the follow up times of each patient.</p>
</dd>
<dt><code>failures</code></dt><dd><p>This numeric vector is the event indicator (0=right censored, 1=event). An event is considered when return in dialysis or patient death with functioning graft is observed.</p>
</dd>
</dl>



<h3>Source</h3>

<p>URL: www.divat.fr</p>


<h3>References</h3>

<p>Le Borgne F, Giraudeau B, Querard AH, Giral M and Foucher Y. Comparisons of the performances of different statistical tests for time-to-event analysis with confounding factors: practical illustrations in kidney transplantation. Statistics in medicine. 30;35(7):1103-16, 2016. &lt;doi:10.1002/ sim.6777&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(dataDIVAT2)

# Compute the non-adjusted Hazard Ratio related to the ECD versus SCD
cox.ecd&lt;-coxph(Surv(times, failures) ~ ecd, data=dataDIVAT2)
summary(cox.ecd) # Hazard Ratio = 1.97
</code></pre>

<hr>
<h2 id='dataDIVAT3'>
A Sample from the DIVAT Data Bank.
</h2><span id='topic+dataDIVAT3'></span>

<h3>Description</h3>

<p>A data frame with 4267 French kidney transplant recipients.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(dataDIVAT3)</code></pre>


<h3>Format</h3>

<p>A data frame with 4267 observations for the 8 following variables.
</p>

<dl>
<dt><code>ageR</code></dt><dd><p>This numeric vector represents the age of the recipient (in years)</p>
</dd>
<dt><code>sexeR</code></dt><dd><p>This numeric vector represents the gender of the recipient (1=men, 0=female)</p>
</dd>
<dt><code>year.tx</code></dt><dd><p>This numeric vector represents the year of the transplantation</p>
</dd>
<dt><code>ante.diab</code></dt><dd><p>This numeric vector represents the diabetes statute (1=yes, 0=no)</p>
</dd>
<dt><code>pra</code></dt><dd><p>This numeric vector represents the pre-graft immunization using the panel reactive antibody (1=detectable, 0=undetectable)</p>
</dd>
<dt><code>ageD</code></dt><dd><p>This numeric vector represents the age of the donor (in years)</p>
</dd>
<dt><code>death.time</code></dt><dd><p>This numeric vector represents the follow up time in days (until death or censoring)</p>
</dd>
<dt><code>death</code></dt><dd><p>This numeric vector represents the death indicator at the follow-up end (1=death, 0=alive)</p>
</dd>
</dl>



<h3>Source</h3>

<p>URL: www.divat.fr</p>


<h3>References</h3>

<p>Le Borgne et al. Standardized and weighted time-dependent ROC curves to evaluate the intrinsic prognostic capacities of a marker by taking into account confounding factors. Manuscript submitted. Stat Methods Med Res. 27(11):3397-3410, 2018. &lt;doi: 10.1177/ 0962280217702416.&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(dataDIVAT3)

### a short summary of the recipient age at the transplantation
summary(dataDIVAT3$ageR)

### Kaplan and Meier estimation of the recipient survival
plot(survfit(Surv(death.time/365.25, death) ~ 1, data = dataDIVAT3),
 xlab="Post transplantation time (in years)", ylab="Patient survival",
 mark.time=FALSE)
</code></pre>

<hr>
<h2 id='dataOFSEP'>
A Simulated Sample from the OFSEP Cohort.
</h2><span id='topic+dataOFSEP'></span>

<h3>Description</h3>

<p>A data frame with 1300 simulated French patients with multiple sclerosis from the OFSEP cohort. The baseline is 1 year after the initiation of the first-line treatment.</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(dataOFSEP)</code></pre>


<h3>Format</h3>

<p>A data frame with 1300 observations for the 3 following variables:
</p>

<dl>
<dt><code>time</code></dt><dd><p>This numeric vector represents the follow up time in years (until disease progression or censoring)</p>
</dd>
<dt><code>event</code></dt><dd><p>This numeric vector represents the disease progression indicator at the follow-up end (1=progression, 0=censoring)</p>
</dd>
<dt><code>age</code></dt><dd><p>This numeric vector represents the patient age (in years) at baseline.</p>
</dd>
<dt><code>duration</code></dt><dd><p>This numeric vector represents the disease duration (in days) at baseline.</p>
</dd>  
<dt><code>period</code></dt><dd><p>This numeric vector represents the calendar period: 1 in-between 2014 and 2018, and 0 otherwise.</p>
</dd>  
<dt><code>gender</code></dt><dd><p>This numeric vector represents the gender: 1 for women.</p>
</dd>  
<dt><code>relapse</code></dt><dd><p>This numeric vector represents the diagnosis of at least one relapse since the treatment initiation : 1 if at leat one event, and 0 otherwise.</p>
</dd>
<dt><code>edss</code></dt><dd><p>This vector of character string represents the EDSS level: &quot;miss&quot; for missing, &quot;low&quot; for EDSS between 0 to 2, and &quot;high&quot; otherwise.</p>
</dd>
<dt><code>t1</code></dt><dd><p>This vector of character string represents the new gadolinium-enhancing T1 lesion: &quot;missing&quot;, &quot;0&quot; or &quot;1+&quot; for at least 1 lesion.</p>
</dd>
<dt><code>t2</code></dt><dd><p>This vector of character string represents the new T2 lesions: &quot;no&quot; or &quot;yes&quot;.</p>
</dd>
<dt><code>rio</code></dt><dd><p>This numeric vector represents the modified Rio score.</p>
</dd>   
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>data(dataOFSEP)

### Kaplan and Meier estimation of the disease progression free survival
plot(survfit(Surv(time, event) ~ 1, data = dataOFSEP),
     ylab="Disease progression free survival",
     xlab="Time after the first anniversary of the first-line treatment in years")
</code></pre>

<hr>
<h2 id='LIB_AFTgamma'>
Library of the Super Learner for an Accelerated Failure Time (AFT) Model with a Gamma Distribution
</h2><span id='topic+LIB_AFTgamma'></span>

<h3>Description</h3>

<p>Fit an AFT parametric model with a gamma distribution.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>LIB_AFTgamma(times, failures, group=NULL, cov.quanti=NULL, cov.quali=NULL, data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="LIB_AFTgamma_+3A_times">times</code></td>
<td>
<p>The name of the variable related the numeric vector with the follow-up times.</p>
</td></tr>
<tr><td><code id="LIB_AFTgamma_+3A_failures">failures</code></td>
<td>
<p>The name of the variable related the numeric vector with the event indicators (0=right censored, 1=event).</p>
</td></tr>
<tr><td><code id="LIB_AFTgamma_+3A_group">group</code></td>
<td>
<p>The name of the variable related to the exposure/treatment. This variable shall have only two modalities encoded 0 for the untreated/unexposed patients and 1 for the treated/exposed ones. The default value is NULL: no specific exposure/treatment is considered. When a specific exposure/treatment is considered, it will be forced in the algorithm or related interactions will be tested when possible.</p>
</td></tr>
<tr><td><code id="LIB_AFTgamma_+3A_cov.quanti">cov.quanti</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible quantitative covariates. These variables must be numeric.</p>
</td></tr>
<tr><td><code id="LIB_AFTgamma_+3A_cov.quali">cov.quali</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible qualitative covariates. These variables must be numeric with two levels: 0 and 1. A complete disjunctive form must be used for covariates with more levels.</p>
</td></tr>
<tr><td><code id="LIB_AFTgamma_+3A_data">data</code></td>
<td>
<p>A data frame for training the model in which to look for the variables related to the status of the follow-up time (<code>times</code>), the event (<code>failures</code>), the optional treatment/exposure (<code>group</code>) and the covariables included in the previous model (<code>cov.quanti</code> and <code>cov.quali</code>).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The model is obtained by using the <code>dist="gamma"</code> in the <code>flexsurvreg</code> package.
</p>


<h3>Value</h3>

<table>
<tr><td><code>model</code></td>
<td>
<p>The estimated model.</p>
</td></tr>
<tr><td><code>group</code></td>
<td>
<p>The name of the variable related to the exposure/treatment.</p>
</td></tr>
<tr><td><code>cov.quanti</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible quantitative covariates.</p>
</td></tr>
<tr><td><code>cov.quali</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible qualitative covariates.</p>
</td></tr>
<tr><td><code>data</code></td>
<td>
<p>The data frame used for learning. The first column is entitled <code>times</code> and corresponds to the observed follow-up times. The second column is entitled <code>failures</code> and corresponds to the event indicators. The other columns correspond to the predictors.</p>
</td></tr>
<tr><td><code>times</code></td>
<td>
<p>A vector of numeric values with the times of the <code>predictions</code>.</p>
</td></tr>
<tr><td><code>hazard</code></td>
<td>
<p>A vector of numeric values with the values of the cumulative baseline hazard function at the prediction <code>times</code>.</p>
</td></tr>
<tr><td><code>predictions</code></td>
<td>
<p>A matrix with the predictions of survivals of each subject (lines) for each observed time (columns).</p>
</td></tr>
</table>


<h3>References</h3>

<p>Jackson, C. (2016). flexsurv: A Platform for Parametric Survival Modeling in R. Journal of Statistical Software, 70(8), 1-33. doi:10.18637/jss.v070.i08
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(dataDIVAT2)

# The estimation of the model from the first 200 lignes
model &lt;- LIB_AFTgamma(times="times", failures="failures", data=dataDIVAT2[1:200,],
  cov.quanti=c("age"),  cov.quali=c("hla", "retransplant", "ecd"))

# The predicted survival of the first subject of the training sample
plot(y=model$predictions[1,], x=model$times, xlab="Time (years)",
ylab="Predicted survival", col=1, type="l", lty=1, lwd=2, ylim=c(0,1))
</code></pre>

<hr>
<h2 id='LIB_AFTggamma'>
Library of the Super Learner for an Accelerated Failure Time (AFT) Model with a Generalized Gamma Distribution
</h2><span id='topic+LIB_AFTggamma'></span>

<h3>Description</h3>

<p>Fit an AFT parametric model with a generalized gamma distribution.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>LIB_AFTggamma(times, failures, group=NULL, cov.quanti=NULL, cov.quali=NULL, data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="LIB_AFTggamma_+3A_times">times</code></td>
<td>
<p>The name of the variable related the numeric vector with the follow-up times.</p>
</td></tr>
<tr><td><code id="LIB_AFTggamma_+3A_failures">failures</code></td>
<td>
<p>The name of the variable related the numeric vector with the event indicators (0=right censored, 1=event).</p>
</td></tr>
<tr><td><code id="LIB_AFTggamma_+3A_group">group</code></td>
<td>
<p>The name of the variable related to the exposure/treatment. This variable shall have only two modalities encoded 0 for the untreated/unexposed patients and 1 for the treated/exposed ones. The default value is NULL: no specific exposure/treatment is considered. When a specific exposure/treatment is considered, it will be forced in the algorithm or related interactions will be tested when possible.</p>
</td></tr>
<tr><td><code id="LIB_AFTggamma_+3A_cov.quanti">cov.quanti</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible quantitative covariates. These variables must be numeric.</p>
</td></tr>
<tr><td><code id="LIB_AFTggamma_+3A_cov.quali">cov.quali</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible qualitative covariates. These variables must be numeric with two levels: 0 and 1. A complete disjunctive form must be used for covariates with more levels.</p>
</td></tr>
<tr><td><code id="LIB_AFTggamma_+3A_data">data</code></td>
<td>
<p>A data frame for training the model in which to look for the variables related to the status of the follow-up time (<code>times</code>), the event (<code>failures</code>), the optional treatment/exposure (<code>group</code>) and the covariables included in the previous model (<code>cov.quanti</code> and <code>cov.quali</code>).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The model is obtained by using the <code>dist="gengamma"</code> in the <code>flexsurvreg</code> package.
</p>


<h3>Value</h3>

<table>
<tr><td><code>model</code></td>
<td>
<p>The estimated model.</p>
</td></tr>
<tr><td><code>group</code></td>
<td>
<p>The name of the variable related to the exposure/treatment.</p>
</td></tr>
<tr><td><code>cov.quanti</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible quantitative covariates.</p>
</td></tr>
<tr><td><code>cov.quali</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible qualitative covariates.</p>
</td></tr>
<tr><td><code>data</code></td>
<td>
<p>The data frame used for learning. The first column is entitled <code>times</code> and corresponds to the observed follow-up times. The second column is entitled <code>failures</code> and corresponds to the event indicators. The other columns correspond to the predictors.</p>
</td></tr>
<tr><td><code>times</code></td>
<td>
<p>A vector of numeric values with the times of the <code>predictions</code>.</p>
</td></tr>
<tr><td><code>hazard</code></td>
<td>
<p>A vector of numeric values with the values of the cumulative baseline hazard function at the prediction <code>times</code>.</p>
</td></tr>
<tr><td><code>predictions</code></td>
<td>
<p>A matrix with the predictions of survivals of each subject (lines) for each observed time (columns).</p>
</td></tr>
</table>


<h3>References</h3>

<p>Jackson, C. (2016). flexsurv: A Platform for Parametric Survival Modeling in R. Journal of Statistical Software, 70(8), 1-33. doi:10.18637/jss.v070.i08
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(dataDIVAT2)

# The estimation of the model from the first 200 lignes
model &lt;- LIB_AFTggamma(times="times", failures="failures", data=dataDIVAT2[1:200,],
  cov.quanti=c("age"),  cov.quali=c("hla", "retransplant", "ecd"))

# The predicted survival of the first subject of the training sample
plot(y=model$predictions[1,], x=model$times, xlab="Time (years)",
ylab="Predicted survival", col=1, type="l", lty=1, lwd=2, ylim=c(0,1))
</code></pre>

<hr>
<h2 id='LIB_AFTllogis'>
Library of the Super Learner for an Accelerated Failure Time (AFT) Model with a Log Logistic Distribution
</h2><span id='topic+LIB_AFTllogis'></span>

<h3>Description</h3>

<p>Fit an AFT parametric model with a log logistic distribution.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>LIB_AFTllogis(times, failures, group=NULL, cov.quanti=NULL, cov.quali=NULL, data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="LIB_AFTllogis_+3A_times">times</code></td>
<td>
<p>The name of the variable related the numeric vector with the follow-up times.</p>
</td></tr>
<tr><td><code id="LIB_AFTllogis_+3A_failures">failures</code></td>
<td>
<p>The name of the variable related the numeric vector with the event indicators (0=right censored, 1=event).</p>
</td></tr>
<tr><td><code id="LIB_AFTllogis_+3A_group">group</code></td>
<td>
<p>The name of the variable related to the exposure/treatment. This variable shall have only two modalities encoded 0 for the untreated/unexposed patients and 1 for the treated/exposed ones. The default value is NULL: no specific exposure/treatment is considered. When a specific exposure/treatment is considered, it will be forced in the algorithm or related interactions will be tested when possible.</p>
</td></tr>
<tr><td><code id="LIB_AFTllogis_+3A_cov.quanti">cov.quanti</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible quantitative covariates. These variables must be numeric.</p>
</td></tr>
<tr><td><code id="LIB_AFTllogis_+3A_cov.quali">cov.quali</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible qualitative covariates. These variables must be numeric with two levels: 0 and 1. A complete disjunctive form must be used for covariates with more levels.</p>
</td></tr>
<tr><td><code id="LIB_AFTllogis_+3A_data">data</code></td>
<td>
<p>A data frame for training the model in which to look for the variables related to the status of the follow-up time (<code>times</code>), the event (<code>failures</code>), the optional treatment/exposure (<code>group</code>) and the covariables included in the previous model (<code>cov.quanti</code> and <code>cov.quali</code>).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The model is obtained by using the <code>dist="llogis"</code> in the <code>flexsurvreg</code> package.
</p>


<h3>Value</h3>

<table>
<tr><td><code>model</code></td>
<td>
<p>The estimated model.</p>
</td></tr>
<tr><td><code>group</code></td>
<td>
<p>The name of the variable related to the exposure/treatment.</p>
</td></tr>
<tr><td><code>cov.quanti</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible quantitative covariates.</p>
</td></tr>
<tr><td><code>cov.quali</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible qualitative covariates.</p>
</td></tr>
<tr><td><code>data</code></td>
<td>
<p>The data frame used for learning. The first column is entitled <code>times</code> and corresponds to the observed follow-up times. The second column is entitled <code>failures</code> and corresponds to the event indicators. The other columns correspond to the predictors.</p>
</td></tr>
<tr><td><code>times</code></td>
<td>
<p>A vector of numeric values with the times of the <code>predictions</code>.</p>
</td></tr>
<tr><td><code>hazard</code></td>
<td>
<p>A vector of numeric values with the values of the cumulative baseline hazard function at the prediction <code>times</code>.</p>
</td></tr>
<tr><td><code>predictions</code></td>
<td>
<p>A matrix with the predictions of survivals of each subject (lines) for each observed time (columns).</p>
</td></tr>
</table>


<h3>References</h3>

<p>Jackson, C. (2016). flexsurv: A Platform for Parametric Survival Modeling in R. Journal of Statistical Software, 70(8), 1-33. doi:10.18637/jss.v070.i08
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(dataDIVAT2)

# The estimation of the model from the first 200 lignes
model &lt;- LIB_AFTllogis(times="times", failures="failures", data=dataDIVAT2[1:200,],
  cov.quanti=c("age"),  cov.quali=c("hla", "retransplant", "ecd"))

# The predicted survival of the first subject of the training sample
plot(y=model$predictions[1,], x=model$times, xlab="Time (years)",
ylab="Predicted survival", col=1, type="l", lty=1, lwd=2, ylim=c(0,1))
</code></pre>

<hr>
<h2 id='LIB_AFTweibull'>
Library of the Super Learner for an Accelerated Failure Time (AFT) Model with a Weibull Distribution
</h2><span id='topic+LIB_AFTweibull'></span>

<h3>Description</h3>

<p>Fit an AFT parametric model with a Weibull distribution.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>LIB_AFTweibull(times, failures, group=NULL, cov.quanti=NULL, cov.quali=NULL, data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="LIB_AFTweibull_+3A_times">times</code></td>
<td>
<p>The name of the variable related the numeric vector with the follow-up times.</p>
</td></tr>
<tr><td><code id="LIB_AFTweibull_+3A_failures">failures</code></td>
<td>
<p>The name of the variable related the numeric vector with the event indicators (0=right censored, 1=event).</p>
</td></tr>
<tr><td><code id="LIB_AFTweibull_+3A_group">group</code></td>
<td>
<p>The name of the variable related to the exposure/treatment. This variable shall have only two modalities encoded 0 for the untreated/unexposed patients and 1 for the treated/exposed ones. The default value is NULL: no specific exposure/treatment is considered. When a specific exposure/treatment is considered, it will be forced in the algorithm or related interactions will be tested when possible.</p>
</td></tr>
<tr><td><code id="LIB_AFTweibull_+3A_cov.quanti">cov.quanti</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible quantitative covariates. These variables must be numeric.</p>
</td></tr>
<tr><td><code id="LIB_AFTweibull_+3A_cov.quali">cov.quali</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible qualitative covariates. These variables must be numeric with two levels: 0 and 1. A complete disjunctive form must be used for covariates with more levels.</p>
</td></tr>
<tr><td><code id="LIB_AFTweibull_+3A_data">data</code></td>
<td>
<p>A data frame for training the model in which to look for the variables related to the status of the follow-up time (<code>times</code>), the event (<code>failures</code>), the optional treatment/exposure (<code>group</code>) and the covariables included in the previous model (<code>cov.quanti</code> and <code>cov.quali</code>).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The model is obtained by using the <code>dist="weibull"</code> in the <code>flexsurvreg</code> package.
</p>


<h3>Value</h3>

<table>
<tr><td><code>model</code></td>
<td>
<p>The estimated model.</p>
</td></tr>
<tr><td><code>group</code></td>
<td>
<p>The name of the variable related to the exposure/treatment.</p>
</td></tr>
<tr><td><code>cov.quanti</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible quantitative covariates.</p>
</td></tr>
<tr><td><code>cov.quali</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible qualitative covariates.</p>
</td></tr>
<tr><td><code>data</code></td>
<td>
<p>The data frame used for learning. The first column is entitled <code>times</code> and corresponds to the observed follow-up times. The second column is entitled <code>failures</code> and corresponds to the event indicators. The other columns correspond to the predictors.</p>
</td></tr>
<tr><td><code>times</code></td>
<td>
<p>A vector of numeric values with the times of the <code>predictions</code>.</p>
</td></tr>
<tr><td><code>hazard</code></td>
<td>
<p>A vector of numeric values with the values of the cumulative baseline hazard function at the prediction <code>times</code>.</p>
</td></tr>
<tr><td><code>predictions</code></td>
<td>
<p>A matrix with the predictions of survivals of each subject (lines) for each observed time (columns).</p>
</td></tr>
</table>


<h3>References</h3>

<p>Jackson, C. (2016). flexsurv: A Platform for Parametric Survival Modeling in R. Journal of Statistical Software, 70(8), 1-33. doi:10.18637/jss.v070.i08
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(dataDIVAT2)

# The estimation of the model from the first 200 lignes
model &lt;- LIB_AFTweibull(times="times", failures="failures", data=dataDIVAT2[1:200,],
  cov.quanti=c("age"),  cov.quali=c("hla", "retransplant", "ecd"))

# The predicted survival of the first subject of the training sample
plot(y=model$predictions[1,], x=model$times, xlab="Time (years)",
ylab="Predicted survival", col=1, type="l", lty=1, lwd=2, ylim=c(0,1))
</code></pre>

<hr>
<h2 id='LIB_COXaic'>
Library of the Super Learner for a Cox Model with Selected Covariates
</h2><span id='topic+LIB_COXaic'></span>

<h3>Description</h3>

<p>Fit a  Cox regression for a selection of covariate.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>LIB_COXaic(times, failures, group=NULL, cov.quanti=NULL, cov.quali=NULL,
data, final.model)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="LIB_COXaic_+3A_times">times</code></td>
<td>
<p>The name of the variable related the numeric vector with the follow-up times.</p>
</td></tr>
<tr><td><code id="LIB_COXaic_+3A_failures">failures</code></td>
<td>
<p>The name of the variable related the numeric vector with the event indicators (0=right censored, 1=event).</p>
</td></tr>
<tr><td><code id="LIB_COXaic_+3A_group">group</code></td>
<td>
<p>The name of the variable related to the exposure/treatment. This variable shall have only two modalities encoded 0 for the untreated/unexposed patients and 1 for the treated/exposed ones. The default value is <code>NULL</code>: no specific exposure/treatment is considered. When a specific exposure/treatment is considered, it will be forced in the algorithm or related interactions will be tested when possible.</p>
</td></tr>
<tr><td><code id="LIB_COXaic_+3A_cov.quanti">cov.quanti</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible quantitative covariates. These variables must be numeric.</p>
</td></tr>
<tr><td><code id="LIB_COXaic_+3A_cov.quali">cov.quali</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible qualitative covariates. These variables must be numeric with two levels: 0 and 1. A complete disjunctive form must be used for covariates with more levels.</p>
</td></tr>
<tr><td><code id="LIB_COXaic_+3A_data">data</code></td>
<td>
<p>A data frame for training the model in which to look for the variables related to the status of the follow-up time (<code>times</code>), the event (<code>failures</code>), the optional treatment/exposure (<code>group</code>) and the covariates included in the previous model (<code>cov.quanti</code> and <code>cov.quali</code>)</p>
</td></tr>
<tr><td><code id="LIB_COXaic_+3A_final.model">final.model</code></td>
<td>
<p>The covariates to consider</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>model</code></td>
<td>
<p>The estimated model.</p>
</td></tr>
<tr><td><code>group</code></td>
<td>
<p>The name of the variable related to the exposure/treatment.</p>
</td></tr>
<tr><td><code>cov.quanti</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible quantitative covariates.</p>
</td></tr>
<tr><td><code>cov.quali</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible qualitative covariates.</p>
</td></tr>
<tr><td><code>data</code></td>
<td>
<p>The data frame used for learning. The first column is entitled <code>times</code> and corresponds to the observed follow-up times. The second column is entitled <code>failures</code> and corresponds to the event indicators. The other columns correspond to the predictors.</p>
</td></tr>
<tr><td><code>times</code></td>
<td>
<p>A vector of numeric values with the times of the <code>predictions</code>.</p>
</td></tr>
<tr><td><code>hazard</code></td>
<td>
<p>A vector of numeric values with the values of the cumulative baseline hazard function at the prediction <code>times</code>.</p>
</td></tr>
<tr><td><code>predictions</code></td>
<td>
<p>A matrix with the predictions of survivals of each subject (lines) for each observed time (columns).</p>
</td></tr>
</table>


<h3>References</h3>

<p>Simon, N., Friedman, J., Hastie, T. and Tibshirani, R. (2011) Regularization Paths for Cox's Proportional Hazards Model via Coordinate Descent, Journal of Statistical Software, Vol. 39(5), 1-13, https://www.jstatsoft.org/v39/i05/
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(dataDIVAT2)

# The estimation of the model
model &lt;- LIB_COXaic(times="times", failures="failures", data=dataDIVAT2,
  final.model=c("age"),  cov.quanti=c("age"),  cov.quali=c("hla", "retransplant", "ecd"))

# The predicted survival of the first subject of the training sample
plot(y=model$predictions[1,], x=model$times, xlab="Time (years)", ylab="Predicted survival",
     col=1, type="l", lty=1, lwd=2, ylim=c(0,1))
</code></pre>

<hr>
<h2 id='LIB_COXall'>
Library of the Super Learner for Cox Regression
</h2><span id='topic+LIB_COXall'></span>

<h3>Description</h3>

<p>Fit a Cox regression for all covariates to be used in the super learner.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>LIB_COXall(times, failures, group=NULL, cov.quanti=NULL, cov.quali=NULL, data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="LIB_COXall_+3A_times">times</code></td>
<td>
<p>The name of the variable related the numeric vector with the follow-up times.</p>
</td></tr>
<tr><td><code id="LIB_COXall_+3A_failures">failures</code></td>
<td>
<p>The name of the variable related the numeric vector with the event indicators (0=right censored, 1=event).</p>
</td></tr>
<tr><td><code id="LIB_COXall_+3A_group">group</code></td>
<td>
<p>The name of the variable related to the exposure/treatment. This variable shall have only two modalities encoded 0 for the untreated/unexposed patients and 1 for the treated/exposed ones. The default value is NULL: no specific exposure/treatment is considered. When a specific exposure/treatment is considered, it will be forced in the algorithm or related interactions will be tested when possible.</p>
</td></tr>
<tr><td><code id="LIB_COXall_+3A_cov.quanti">cov.quanti</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible quantitative covariates. These variables must be numeric.</p>
</td></tr>
<tr><td><code id="LIB_COXall_+3A_cov.quali">cov.quali</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible qualitative covariates. These variables must be numeric with two levels: 0 and 1. A complete disjunctive form must be used for covariates with more levels.</p>
</td></tr>
<tr><td><code id="LIB_COXall_+3A_data">data</code></td>
<td>
<p>A data frame for training the model in which to look for the variables related to the status of the follow-up time (<code>times</code>), the event (<code>failures</code>), the optional treatment/exposure (<code>group</code>) and the covariables included in the previous model (<code>cov.quanti</code> and <code>cov.quali</code>).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The Cox regression is obtained by using the <code>survival</code> package.
</p>


<h3>Value</h3>

<table>
<tr><td><code>model</code></td>
<td>
<p>The estimated model.</p>
</td></tr>
<tr><td><code>group</code></td>
<td>
<p>The name of the variable related to the exposure/treatment.</p>
</td></tr>
<tr><td><code>cov.quanti</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible quantitative covariates.</p>
</td></tr>
<tr><td><code>cov.quali</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible qualitative covariates.</p>
</td></tr>
<tr><td><code>data</code></td>
<td>
<p>The data frame used for learning. The first column is entitled <code>times</code> and corresponds to the observed follow-up times. The second column is entitled <code>failures</code> and corresponds to the event indicators. The other columns correspond to the predictors.</p>
</td></tr>
<tr><td><code>times</code></td>
<td>
<p>A vector of numeric values with the times of the <code>predictions</code>.</p>
</td></tr>
<tr><td><code>hazard</code></td>
<td>
<p>A vector of numeric values with the values of the cumulative baseline hazard function at the prediction <code>times</code>.</p>
</td></tr>
<tr><td><code>predictions</code></td>
<td>
<p>A matrix with the predictions of survivals of each subject (lines) for each observed time (columns).</p>
</td></tr>
</table>


<h3>References</h3>

<p>Terry M. Therneau (2021). A Package for Survival Analysis in R. R package version 3.2-13, https://CRAN.R-project.org/package=survival.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(dataDIVAT2)

# The estimation of the model
model &lt;- LIB_COXall(times="times", failures="failures", data=dataDIVAT2,
  cov.quanti=c("age"),  cov.quali=c("hla", "retransplant", "ecd"))

# The predicted survival of the first subject of the training sample
plot(y=model$predictions[1,], x=model$times, xlab="Time (years)",
ylab="Predicted survival", col=1, type="l", lty=1, lwd=2, ylim=c(0,1))
</code></pre>

<hr>
<h2 id='LIB_COXen'>
Library of the Super Learner for Elastic Net Cox Regression
</h2><span id='topic+LIB_COXen'></span>

<h3>Description</h3>

<p>Fit an elastic net Cox regression for fixed values of the regularization parameters.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>LIB_COXen(times, failures, group=NULL, cov.quanti=NULL, cov.quali=NULL,
data, alpha, lambda)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="LIB_COXen_+3A_times">times</code></td>
<td>
<p>The name of the variable related the numeric vector with the follow-up times.</p>
</td></tr>
<tr><td><code id="LIB_COXen_+3A_failures">failures</code></td>
<td>
<p>The name of the variable related the numeric vector with the event indicators (0=right censored, 1=event).</p>
</td></tr>
<tr><td><code id="LIB_COXen_+3A_group">group</code></td>
<td>
<p>The name of the variable related to the exposure/treatment. This variable shall have only two modalities encoded 0 for the untreated/unexposed patients and 1 for the treated/exposed ones. The default value is NULL: no specific exposure/treatment is considered. When a specific exposure/treatment is considered, it will be forced in the algorithm or related interactions will be tested when possible.</p>
</td></tr>
<tr><td><code id="LIB_COXen_+3A_cov.quanti">cov.quanti</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible quantitative covariates. These variables must be numeric.</p>
</td></tr>
<tr><td><code id="LIB_COXen_+3A_cov.quali">cov.quali</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible qualitative covariates. These variables must be numeric with two levels: 0 and 1. A complete disjunctive form must be used for covariates with more levels.</p>
</td></tr>
<tr><td><code id="LIB_COXen_+3A_data">data</code></td>
<td>
<p>A data frame for training the model in which to look for the variables related to the status of the follow-up time (<code>times</code>), the event (<code>failures</code>), the optional treatment/exposure (<code>group</code>) and the covariables included in the previous model (<code>cov.quanti</code> and <code>cov.quali</code>).</p>
</td></tr>
<tr><td><code id="LIB_COXen_+3A_alpha">alpha</code></td>
<td>
<p>The value of the regularization parameter alpha for penalizing the partial likelihood.</p>
</td></tr>
<tr><td><code id="LIB_COXen_+3A_lambda">lambda</code></td>
<td>
<p>The value of the regularization parameter lambda for penalizing the partial likelihood.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The elastic net Cox regression is obtained by using the <code>glmnet</code> package.
</p>


<h3>Value</h3>

<table>
<tr><td><code>model</code></td>
<td>
<p>The estimated model.</p>
</td></tr>
<tr><td><code>group</code></td>
<td>
<p>The name of the variable related to the exposure/treatment.</p>
</td></tr>
<tr><td><code>cov.quanti</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible quantitative covariates.</p>
</td></tr>
<tr><td><code>cov.quali</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible qualitative covariates.</p>
</td></tr>
<tr><td><code>data</code></td>
<td>
<p>The data frame used for learning. The first column is entitled <code>times</code> and corresponds to the observed follow-up times. The second column is entitled <code>failures</code> and corresponds to the event indicators. The other columns correspond to the predictors.</p>
</td></tr>
<tr><td><code>times</code></td>
<td>
<p>A vector of numeric values with the times of the <code>predictions</code>.</p>
</td></tr>
<tr><td><code>hazard</code></td>
<td>
<p>A vector of numeric values with the values of the cumulative baseline hazard function at the prediction <code>times</code>.</p>
</td></tr>
<tr><td><code>predictions</code></td>
<td>
<p>A matrix with the predictions of survivals of each subject (lines) for each observed time (columns).</p>
</td></tr>
</table>


<h3>References</h3>

<p>Simon, N., Friedman, J., Hastie, T. and Tibshirani, R. (2011) Regularization Paths for Cox's Proportional Hazards Model via Coordinate Descent, Journal of Statistical Software, Vol. 39(5), 1-13, https://www.jstatsoft.org/v39/i05/
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(dataDIVAT2)

# The estimation of the model
model &lt;- LIB_COXen(times="times", failures="failures", data=dataDIVAT2,
  cov.quanti=c("age"),  cov.quali=c("hla", "retransplant", "ecd"), lambda=.1, alpha=.1)

# The predicted survival of the first subject of the training sample
plot(y=model$predictions[1,], x=model$times, xlab="Time (years)",
ylab="Predicted survival", col=1, type="l", lty=1, lwd=2, ylim=c(0,1))
</code></pre>

<hr>
<h2 id='LIB_COXlasso'>
Library of the Super Learner for Lasso Cox Regression
</h2><span id='topic+LIB_COXlasso'></span>

<h3>Description</h3>

<p>Fit a Lasso Cox regression for a fixed value of the regularization parameter.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>LIB_COXlasso(times, failures, group=NULL, cov.quanti=NULL, cov.quali=NULL,
data, lambda)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="LIB_COXlasso_+3A_times">times</code></td>
<td>
<p>The name of the variable related the numeric vector with the follow-up times.</p>
</td></tr>
<tr><td><code id="LIB_COXlasso_+3A_failures">failures</code></td>
<td>
<p>The name of the variable related the numeric vector with the event indicators (0=right censored, 1=event).</p>
</td></tr>
<tr><td><code id="LIB_COXlasso_+3A_group">group</code></td>
<td>
<p>The name of the variable related to the exposure/treatment. This variable shall have only two modalities encoded 0 for the untreated/unexposed patients and 1 for the treated/exposed ones. The default value is NULL: no specific exposure/treatment is considered. When a specific exposure/treatment is considered, it will be forced in the algorithm or related interactions will be tested when possible.</p>
</td></tr>
<tr><td><code id="LIB_COXlasso_+3A_cov.quanti">cov.quanti</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible quantitative covariates. These variables must be numeric.</p>
</td></tr>
<tr><td><code id="LIB_COXlasso_+3A_cov.quali">cov.quali</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible qualitative covariates. These variables must be numeric with two levels: 0 and 1. A complete disjunctive form must be used for covariates with more levels.</p>
</td></tr>
<tr><td><code id="LIB_COXlasso_+3A_data">data</code></td>
<td>
<p>A data frame for training the model in which to look for the variables related to the status of the follow-up time (<code>times</code>), the event (<code>failures</code>), the optional treatment/exposure (<code>group</code>) and the covariables included in the previous model (<code>cov.quanti</code> and <code>cov.quali</code>).</p>
</td></tr>
<tr><td><code id="LIB_COXlasso_+3A_lambda">lambda</code></td>
<td>
<p>The value of the regularization parameter lambda for penalizing the partial likelihood.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The Lasso Cox regression is obtained by using the <code>glmnet</code> package.
</p>


<h3>Value</h3>

<table>
<tr><td><code>model</code></td>
<td>
<p>The estimated model.</p>
</td></tr>
<tr><td><code>group</code></td>
<td>
<p>The name of the variable related to the exposure/treatment.</p>
</td></tr>
<tr><td><code>cov.quanti</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible quantitative covariates.</p>
</td></tr>
<tr><td><code>cov.quali</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible qualitative covariates.</p>
</td></tr>
<tr><td><code>data</code></td>
<td>
<p>The data frame used for learning. The first column is entitled <code>times</code> and corresponds to the observed follow-up times. The second column is entitled <code>failures</code> and corresponds to the event indicators. The other columns correspond to the predictors.</p>
</td></tr>
<tr><td><code>times</code></td>
<td>
<p>A vector of numeric values with the times of the <code>predictions</code>.</p>
</td></tr>
<tr><td><code>hazard</code></td>
<td>
<p>A vector of numeric values with the values of the cumulative baseline hazard function at the prediction <code>times</code>.</p>
</td></tr>
<tr><td><code>predictions</code></td>
<td>
<p>A matrix with the predictions of survivals of each subject (lines) for each observed time (columns).</p>
</td></tr>
</table>


<h3>References</h3>

<p>Simon, N., Friedman, J., Hastie, T. and Tibshirani, R. (2011) Regularization Paths for Cox's Proportional Hazards Model via Coordinate Descent, Journal of Statistical Software, Vol. 39(5), 1-13, https://www.jstatsoft.org/v39/i05/
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(dataDIVAT2)

# The estimation of the model
model &lt;- LIB_COXlasso(times="times", failures="failures", data=dataDIVAT2,
  cov.quanti=c("age"),  cov.quali=c("hla", "retransplant", "ecd"), lambda=1)

# The predicted survival of the first subject of the training sample
plot(y=model$predictions[1,], x=model$times, xlab="Time (years)",
ylab="Predicted survival", col=1, type="l", lty=1, lwd=2, ylim=c(0,1))
</code></pre>

<hr>
<h2 id='LIB_COXridge'>
Library of the Super Learner for Ridge Cox Regression
</h2><span id='topic+LIB_COXridge'></span>

<h3>Description</h3>

<p>Fit a ridge Cox regression for a fixed value of the regularization parameter.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>LIB_COXridge(times, failures, group=NULL, cov.quanti=NULL, cov.quali=NULL,
data, lambda)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="LIB_COXridge_+3A_times">times</code></td>
<td>
<p>The name of the variable related the numeric vector with the follow-up times.</p>
</td></tr>
<tr><td><code id="LIB_COXridge_+3A_failures">failures</code></td>
<td>
<p>The name of the variable related the numeric vector with the event indicators (0=right censored, 1=event).</p>
</td></tr>
<tr><td><code id="LIB_COXridge_+3A_group">group</code></td>
<td>
<p>The name of the variable related to the exposure/treatment. This variable shall have only two modalities encoded 0 for the untreated/unexposed patients and 1 for the treated/exposed ones. The default value is NULL: no specific exposure/treatment is considered. When a specific exposure/treatment is considered, it will be forced in the algorithm or related interactions will be tested when possible.</p>
</td></tr>
<tr><td><code id="LIB_COXridge_+3A_cov.quanti">cov.quanti</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible quantitative covariates. These variables must be numeric.</p>
</td></tr>
<tr><td><code id="LIB_COXridge_+3A_cov.quali">cov.quali</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible qualitative covariates. These variables must be numeric with two levels: 0 and 1. A complete disjunctive form must be used for covariates with more levels.</p>
</td></tr>
<tr><td><code id="LIB_COXridge_+3A_data">data</code></td>
<td>
<p>A data frame for training the model in which to look for the variables related to the status of the follow-up time (<code>times</code>), the event (<code>failures</code>), the optional treatment/exposure (<code>group</code>) and the covariables included in the previous model (<code>cov.quanti</code> and <code>cov.quali</code>).</p>
</td></tr>
<tr><td><code id="LIB_COXridge_+3A_lambda">lambda</code></td>
<td>
<p>The value of the regularization parameter lambda for penalizing the partial likelihood.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The ridge Cox regression is obtained by using the <code>glmnet</code> package.
</p>


<h3>Value</h3>

<table>
<tr><td><code>model</code></td>
<td>
<p>The estimated model.</p>
</td></tr>
<tr><td><code>group</code></td>
<td>
<p>The name of the variable related to the exposure/treatment.</p>
</td></tr>
<tr><td><code>cov.quanti</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible quantitative covariates.</p>
</td></tr>
<tr><td><code>cov.quali</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible qualitative covariates.</p>
</td></tr>
<tr><td><code>data</code></td>
<td>
<p>The data frame used for learning. The first column is entitled <code>times</code> and corresponds to the observed follow-up times. The second column is entitled <code>failures</code> and corresponds to the event indicators. The other columns correspond to the predictors.</p>
</td></tr>
<tr><td><code>times</code></td>
<td>
<p>A vector of numeric values with the times of the <code>predictions</code>.</p>
</td></tr>
<tr><td><code>hazard</code></td>
<td>
<p>A vector of numeric values with the values of the cumulative baseline hazard function at the prediction <code>times</code>.</p>
</td></tr>
<tr><td><code>predictions</code></td>
<td>
<p>A matrix with the predictions of survivals of each subject (lines) for each observed time (columns).</p>
</td></tr>
</table>


<h3>References</h3>

<p>Simon, N., Friedman, J., Hastie, T. and Tibshirani, R. (2011) Regularization Paths for Cox's Proportional Hazards Model via Coordinate Descent, Journal of Statistical Software, Vol. 39(5), 1-13, https://www.jstatsoft.org/v39/i05/
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(dataDIVAT2)

# The estimation of the model
model &lt;- LIB_COXridge(times="times", failures="failures", data=dataDIVAT2,
  cov.quanti=c("age"),  cov.quali=c("hla", "retransplant", "ecd"), lambda=1)

# The predicted survival of the first subject of the training sample
plot(y=model$predictions[1,], x=model$times, xlab="Time (years)", ylab="Predicted survival",
     col=1, type="l", lty=1, lwd=2, ylim=c(0,1))
</code></pre>

<hr>
<h2 id='LIB_PHexponential'>
Library of the Super Learner for a Proportional Hazards (PH) Model with an Exponential Distribution
</h2><span id='topic+LIB_PHexponential'></span>

<h3>Description</h3>

<p>Fit a PH model with an Exponential distribution.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>LIB_PHexponential(times, failures, group=NULL, cov.quanti=NULL,
cov.quali=NULL, data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="LIB_PHexponential_+3A_times">times</code></td>
<td>
<p>The name of the variable related the numeric vector with the follow-up times.</p>
</td></tr>
<tr><td><code id="LIB_PHexponential_+3A_failures">failures</code></td>
<td>
<p>The name of the variable related the numeric vector with the event indicators (0=right censored, 1=event).</p>
</td></tr>
<tr><td><code id="LIB_PHexponential_+3A_group">group</code></td>
<td>
<p>The name of the variable related to the exposure/treatment. This variable shall have only two modalities encoded 0 for the untreated/unexposed patients and 1 for the treated/exposed ones. The default value is NULL: no specific exposure/treatment is considered. When a specific exposure/treatment is considered, it will be forced in the algorithm or related interactions will be tested when possible.</p>
</td></tr>
<tr><td><code id="LIB_PHexponential_+3A_cov.quanti">cov.quanti</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible quantitative covariates. These variables must be numeric.</p>
</td></tr>
<tr><td><code id="LIB_PHexponential_+3A_cov.quali">cov.quali</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible qualitative covariates. These variables must be numeric with two levels: 0 and 1. A complete disjunctive form must be used for covariates with more levels.</p>
</td></tr>
<tr><td><code id="LIB_PHexponential_+3A_data">data</code></td>
<td>
<p>A data frame for training the model in which to look for the variables related to the status of the follow-up time (<code>times</code>), the event (<code>failures</code>), the optional treatment/exposure (<code>group</code>) and the covariables included in the previous model (<code>cov.quanti</code> and <code>cov.quali</code>).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The model is obtained by using the <code>dist="exp"</code> in the <code>flexsurvreg</code> package.
</p>


<h3>Value</h3>

<table>
<tr><td><code>model</code></td>
<td>
<p>The estimated model.</p>
</td></tr>
<tr><td><code>group</code></td>
<td>
<p>The name of the variable related to the exposure/treatment.</p>
</td></tr>
<tr><td><code>cov.quanti</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible quantitative covariates.</p>
</td></tr>
<tr><td><code>cov.quali</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible qualitative covariates.</p>
</td></tr>
<tr><td><code>data</code></td>
<td>
<p>The data frame used for learning. The first column is entitled <code>times</code> and corresponds to the observed follow-up times. The second column is entitled <code>failures</code> and corresponds to the event indicators. The other columns correspond to the predictors.</p>
</td></tr>
<tr><td><code>times</code></td>
<td>
<p>A vector of numeric values with the times of the <code>predictions</code>.</p>
</td></tr>
<tr><td><code>hazard</code></td>
<td>
<p>A vector of numeric values with the values of the cumulative baseline hazard function at the prediction <code>times</code>.</p>
</td></tr>
<tr><td><code>predictions</code></td>
<td>
<p>A matrix with the predictions of survivals of each subject (lines) for each observed time (columns).</p>
</td></tr>
</table>


<h3>References</h3>

<p>Jackson, C. (2016). flexsurv: A Platform for Parametric Survival Modeling in R. Journal of Statistical Software, 70(8), 1-33. doi:10.18637/jss.v070.i08
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(dataDIVAT2)

# The estimation of the model from the first 200 lignes
model &lt;- LIB_PHexponential(times="times", failures="failures", data=dataDIVAT2[1:200,],
  cov.quanti=c("age"),  cov.quali=c("hla", "retransplant", "ecd"))

# The predicted survival of the first subject of the training sample
plot(y=model$predictions[1,], x=model$times, xlab="Time (years)",
ylab="Predicted survival", col=1, type="l", lty=1, lwd=2, ylim=c(0,1))
</code></pre>

<hr>
<h2 id='LIB_PHgompertz'>
Library of the Super Learner for an Proportional Hazards (PH) Model with a Gompertz Distribution
</h2><span id='topic+LIB_PHgompertz'></span>

<h3>Description</h3>

<p>Fit a PH parametric model with a Gompertz distribution.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>LIB_PHgompertz(times, failures, group=NULL, cov.quanti=NULL,
cov.quali=NULL, data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="LIB_PHgompertz_+3A_times">times</code></td>
<td>
<p>The name of the variable related the numeric vector with the follow-up times.</p>
</td></tr>
<tr><td><code id="LIB_PHgompertz_+3A_failures">failures</code></td>
<td>
<p>The name of the variable related the numeric vector with the event indicators (0=right censored, 1=event).</p>
</td></tr>
<tr><td><code id="LIB_PHgompertz_+3A_group">group</code></td>
<td>
<p>The name of the variable related to the exposure/treatment. This variable shall have only two modalities encoded 0 for the untreated/unexposed patients and 1 for the treated/exposed ones. The default value is NULL: no specific exposure/treatment is considered. When a specific exposure/treatment is considered, it will be forced in the algorithm or related interactions will be tested when possible.</p>
</td></tr>
<tr><td><code id="LIB_PHgompertz_+3A_cov.quanti">cov.quanti</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible quantitative covariates. These variables must be numeric.</p>
</td></tr>
<tr><td><code id="LIB_PHgompertz_+3A_cov.quali">cov.quali</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible qualitative covariates. These variables must be numeric with two levels: 0 and 1. A complete disjunctive form must be used for covariates with more levels.</p>
</td></tr>
<tr><td><code id="LIB_PHgompertz_+3A_data">data</code></td>
<td>
<p>A data frame for training the model in which to look for the variables related to the status of the follow-up time (<code>times</code>), the event (<code>failures</code>), the optional treatment/exposure (<code>group</code>) and the covariables included in the previous model (<code>cov.quanti</code> and <code>cov.quali</code>).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The model is obtained by using the <code>dist="gompertz"</code> in the <code>flexsurvreg</code> package.
</p>


<h3>Value</h3>

<table>
<tr><td><code>model</code></td>
<td>
<p>The estimated model.</p>
</td></tr>
<tr><td><code>group</code></td>
<td>
<p>The name of the variable related to the exposure/treatment.</p>
</td></tr>
<tr><td><code>cov.quanti</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible quantitative covariates.</p>
</td></tr>
<tr><td><code>cov.quali</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible qualitative covariates.</p>
</td></tr>
<tr><td><code>data</code></td>
<td>
<p>The data frame used for learning. The first column is entitled <code>times</code> and corresponds to the observed follow-up times. The second column is entitled <code>failures</code> and corresponds to the event indicators. The other columns correspond to the predictors.</p>
</td></tr>
<tr><td><code>times</code></td>
<td>
<p>A vector of numeric values with the times of the <code>predictions</code>.</p>
</td></tr>
<tr><td><code>hazard</code></td>
<td>
<p>A vector of numeric values with the values of the cumulative baseline hazard function at the prediction <code>times</code>.</p>
</td></tr>
<tr><td><code>predictions</code></td>
<td>
<p>A matrix with the predictions of survivals of each subject (lines) for each observed time (columns).</p>
</td></tr>
</table>


<h3>References</h3>

<p>Jackson, C. (2016). flexsurv: A Platform for Parametric Survival Modeling in R. Journal of Statistical Software, 70(8), 1-33. doi:10.18637/jss.v070.i08
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(dataDIVAT2)

# The estimation of the model from the first 200 lignes
model &lt;- LIB_PHgompertz(times="times", failures="failures", data=dataDIVAT2[1:200,],
  cov.quanti=c("age"),  cov.quali=c("hla", "retransplant", "ecd"))

# The predicted survival of the first subject of the training sample
plot(y=model$predictions[1,], x=model$times, xlab="Time (years)",
ylab="Predicted survival", col=1, type="l", lty=1, lwd=2, ylim=c(0,1))
</code></pre>

<hr>
<h2 id='LIB_PHspline'>
Library of the Super Learner for an Survival Regression using the Royston/Parmar Spline Model
</h2><span id='topic+LIB_PHspline'></span>

<h3>Description</h3>

<p>Fit an PH model with a survival function is modelled as a natural cubic spline function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>LIB_PHspline(times, failures, group=NULL, cov.quanti=NULL, cov.quali=NULL,
data, k)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="LIB_PHspline_+3A_times">times</code></td>
<td>
<p>The name of the variable related the numeric vector with the follow-up times.</p>
</td></tr>
<tr><td><code id="LIB_PHspline_+3A_failures">failures</code></td>
<td>
<p>The name of the variable related the numeric vector with the event indicators (0=right censored, 1=event).</p>
</td></tr>
<tr><td><code id="LIB_PHspline_+3A_group">group</code></td>
<td>
<p>The name of the variable related to the exposure/treatment. This variable shall have only two modalities encoded 0 for the untreated/unexposed patients and 1 for the treated/exposed ones. The default value is NULL: no specific exposure/treatment is considered. When a specific exposure/treatment is considered, it will be forced in the algorithm or related interactions will be tested when possible.</p>
</td></tr>
<tr><td><code id="LIB_PHspline_+3A_cov.quanti">cov.quanti</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible quantitative covariates. These variables must be numeric.</p>
</td></tr>
<tr><td><code id="LIB_PHspline_+3A_cov.quali">cov.quali</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible qualitative covariates. These variables must be numeric with two levels: 0 and 1. A complete disjunctive form must be used for covariates with more levels.</p>
</td></tr>
<tr><td><code id="LIB_PHspline_+3A_data">data</code></td>
<td>
<p>A data frame for training the model in which to look for the variables related to the status of the follow-up time (<code>times</code>), the event (<code>failures</code>), the optional treatment/exposure (<code>group</code>) and the covariables included in the previous model (<code>cov.quanti</code> and <code>cov.quali</code>).</p>
</td></tr>
<tr><td><code id="LIB_PHspline_+3A_k">k</code></td>
<td>
<p>Number of knots.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The model is obtained by using the <code>scale="hazard"</code> in the <code>flexsurvreg</code> package.
</p>


<h3>Value</h3>

<table>
<tr><td><code>model</code></td>
<td>
<p>The estimated model.</p>
</td></tr>
<tr><td><code>group</code></td>
<td>
<p>The name of the variable related to the exposure/treatment.</p>
</td></tr>
<tr><td><code>cov.quanti</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible quantitative covariates.</p>
</td></tr>
<tr><td><code>cov.quali</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible qualitative covariates.</p>
</td></tr>
<tr><td><code>data</code></td>
<td>
<p>The data frame used for learning. The first column is entitled <code>times</code> and corresponds to the observed follow-up times. The second column is entitled <code>failures</code> and corresponds to the event indicators. The other columns correspond to the predictors.</p>
</td></tr>
<tr><td><code>times</code></td>
<td>
<p>A vector of numeric values with the times of the <code>predictions</code>.</p>
</td></tr>
<tr><td><code>hazard</code></td>
<td>
<p>A vector of numeric values with the values of the cumulative baseline hazard function at the prediction <code>times</code>.</p>
</td></tr>
<tr><td><code>predictions</code></td>
<td>
<p>A matrix with the predictions of survivals of each subject (lines) for each observed time (columns).</p>
</td></tr>
</table>


<h3>References</h3>

<p>Jackson, C. (2016). flexsurv: A Platform for Parametric Survival Modeling in R. Journal of Statistical Software, 70(8), 1-33. doi:10.18637/jss.v070.i08
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(dataDIVAT2)

# The estimation of the model from the first 200 lignes with two knots
model &lt;- LIB_PHspline(times="times", failures="failures", data=dataDIVAT2[1:200,],
        cov.quanti=c("age"),  cov.quali=c("hla", "retransplant", "ecd"), k=2)

# The predicted survival of the first subject of the training sample
  plot(y=model$predictions[1,], x=model$times, xlab="Time (years)",
       ylab="Predicted survival", col=1, type="l", lty=1, lwd=2, ylim=c(0,1))
</code></pre>

<hr>
<h2 id='LIB_RSF'>
Library of the Super Learner for Survival Random Survival Forest
</h2><span id='topic+LIB_RSF'></span>

<h3>Description</h3>

<p>Fit survival random forest tree for given values of the regularization parameters.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>LIB_RSF(times, failures, group=NULL, cov.quanti=NULL, cov.quali=NULL,
data, nodesize, mtry, ntree)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="LIB_RSF_+3A_times">times</code></td>
<td>
<p>The name of the variable related the numeric vector with the follow-up times.</p>
</td></tr>
<tr><td><code id="LIB_RSF_+3A_failures">failures</code></td>
<td>
<p>The name of the variable related the numeric vector with the event indicators (0=right censored, 1=event).</p>
</td></tr>
<tr><td><code id="LIB_RSF_+3A_group">group</code></td>
<td>
<p>The name of the variable related to the exposure/treatment. This variable shall have only two modalities encoded 0 for the untreated/unexposed patients and 1 for the treated/exposed ones. The default value is <code>NULL</code>: no specific exposure/treatment is considered. When a specific exposure/treatment is considered, it will be forced in the algorithm or related interactions will be tested when possible.</p>
</td></tr>
<tr><td><code id="LIB_RSF_+3A_cov.quanti">cov.quanti</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible quantitative covariates. These variables must be numeric.</p>
</td></tr>
<tr><td><code id="LIB_RSF_+3A_cov.quali">cov.quali</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible qualitative covariates. These variables must be numeric with two levels: 0 and 1. A complete disjunctive form must be used for covariates with more levels.</p>
</td></tr>
<tr><td><code id="LIB_RSF_+3A_data">data</code></td>
<td>
<p>A data frame for training the model in which to look for the variables related to the status of the follow-up time (<code>times</code>), the event (<code>failures</code>), the optional treatment/exposure (<code>group</code>) and the covariables included in the previous model (<code>cov.quanti</code> and <code>cov.quali</code>).</p>
</td></tr>
<tr><td><code id="LIB_RSF_+3A_nodesize">nodesize</code></td>
<td>
<p>The value of the node size.</p>
</td></tr>
<tr><td><code id="LIB_RSF_+3A_mtry">mtry</code></td>
<td>
<p>The number of variables randomly sampled as candidates at each split.</p>
</td></tr>
<tr><td><code id="LIB_RSF_+3A_ntree">ntree</code></td>
<td>
<p>The number of trees.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The survival random forest tree is obtained by using the <code>randomForestSRC</code> package.
</p>


<h3>Value</h3>

<table>
<tr><td><code>model</code></td>
<td>
<p>The estimated model.</p>
</td></tr>
<tr><td><code>group</code></td>
<td>
<p>The name of the variable related to the exposure/treatment.</p>
</td></tr>
<tr><td><code>cov.quanti</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible quantitative covariates.</p>
</td></tr>
<tr><td><code>cov.quali</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible qualitative covariates.</p>
</td></tr>
<tr><td><code>data</code></td>
<td>
<p>The data frame used for learning. The first column is entitled <code>times</code> and corresponds to the observed follow-up times. The second column is entitled <code>failures</code> and corresponds to the event indicators. The other columns correspond to the predictors.</p>
</td></tr>
<tr><td><code>times</code></td>
<td>
<p>A vector of numeric values with the times of the <code>predictions</code>.</p>
</td></tr>
<tr><td><code>predictions</code></td>
<td>
<p>A matrix with the predictions of survivals of each subject (lines) for each observed time (columns).</p>
</td></tr>
</table>


<h3>References</h3>

<p>Simon, N., Friedman, J., Hastie, T. and Tibshirani, R. (2011) Regularization Paths for Cox's Proportional Hazards Model via Coordinate Descent, Journal of Statistical Software, Vol. 39(5), 1-13, https://www.jstatsoft.org/v39/i05/
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(dataDIVAT2)

# The estimation of the model
model &lt;- LIB_RSF(times="times", failures="failures", data=dataDIVAT2,
  cov.quanti=c("age"),  cov.quali=c("hla", "retransplant", "ecd"), nodesize=10,
  mtry=2, ntree=100)

# The predicted survival of the first subject of the training sample
plot(y=model$predictions[1,], x=model$times, xlab="Time (years)",
ylab="Predicted survival", col=1, type="l", lty=1, lwd=2, ylim=c(0,1))
</code></pre>

<hr>
<h2 id='LIB_SNN'>
Library of the Super Learner for Survival Neural Network
</h2><span id='topic+LIB_SNN'></span>

<h3>Description</h3>

<p>Fit a 1-layer neural network based on the partial likelihood from a Cox proportional hazards model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>LIB_SNN(times, failures, group=NULL, cov.quanti=NULL, cov.quali=NULL,
data, n.nodes, decay, batch.size, epochs)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="LIB_SNN_+3A_times">times</code></td>
<td>
<p>The name of the variable related the numeric vector with the follow-up times.</p>
</td></tr>
<tr><td><code id="LIB_SNN_+3A_failures">failures</code></td>
<td>
<p>The name of the variable related the numeric vector with the event indicators (0=right censored, 1=event).</p>
</td></tr>
<tr><td><code id="LIB_SNN_+3A_group">group</code></td>
<td>
<p>The name of the variable related to the exposure/treatment. This variable shall have only two modalities encoded 0 for the untreated/unexposed patients and 1 for the treated/exposed ones. The default value is NULL: no specific exposure/treatment is considered. When a specific exposure/treatment is considered, it will be forced in the algorithm or related interactions will be tested when possible.</p>
</td></tr>
<tr><td><code id="LIB_SNN_+3A_cov.quanti">cov.quanti</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible quantitative covariates. These variables must be numeric.</p>
</td></tr>
<tr><td><code id="LIB_SNN_+3A_cov.quali">cov.quali</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible qualitative covariates. These variables must be numeric with two levels: 0 and 1. A complete disjunctive form must be used for covariates with more levels.</p>
</td></tr>
<tr><td><code id="LIB_SNN_+3A_data">data</code></td>
<td>
<p>A data frame for training the model in which to look for the variables related to the status of the follow-up time (<code>times</code>), the event (<code>failures</code>), the optional treatment/exposure (<code>group</code>) and the covariables included in the previous model (<code>cov.quanti</code> and <code>cov.quali</code>).</p>
</td></tr>
<tr><td><code id="LIB_SNN_+3A_n.nodes">n.nodes</code></td>
<td>
<p>The number of hidden nodes.</p>
</td></tr>
<tr><td><code id="LIB_SNN_+3A_decay">decay</code></td>
<td>
<p>The value of the weight decay.</p>
</td></tr>
<tr><td><code id="LIB_SNN_+3A_batch.size">batch.size</code></td>
<td>
<p>The value of batch size.</p>
</td></tr>
<tr><td><code id="LIB_SNN_+3A_epochs">epochs</code></td>
<td>
<p>The value of epochs.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is based is based on the <code>deepsurv</code> from the <code>survivalmodels</code> package. You need to call Python using <code>reticulate</code>. In order to use it, the required Python packages must be installed with <code>reticulate::py_install</code>. Therefore, before running the present <code>LIB_SNN</code> function, you must install  and call for the <code>reticulate</code> and <code>survivalmodels</code> packages, and install <code>pycox</code> by using the following command: <code>install_pycox(pip = TRUE, install_torch = FALSE)</code>.  The <code>survivalSL</code> package functions without these supplementary installations if this learner is not included in the library.
</p>


<h3>Value</h3>

<table>
<tr><td><code>model</code></td>
<td>
<p>The estimated model.</p>
</td></tr>
<tr><td><code>group</code></td>
<td>
<p>The name of the variable related to the exposure/treatment.</p>
</td></tr>
<tr><td><code>cov.quanti</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible quantitative covariates.</p>
</td></tr>
<tr><td><code>cov.quali</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible qualitative covariates.</p>
</td></tr>
<tr><td><code>data</code></td>
<td>
<p>The data frame used for learning. The first column is entitled <code>times</code> and corresponds to the observed follow-up times. The second column is entitled <code>failures</code> and corresponds to the event indicators. The other columns correspond to the predictors.</p>
</td></tr>
<tr><td><code>times</code></td>
<td>
<p>A vector of numeric values with the times of the <code>predictions</code>.</p>
</td></tr>
<tr><td><code>predictions</code></td>
<td>
<p>A matrix with the predictions of survivals of each subject (lines) for each observed time (columns).</p>
</td></tr>
</table>


<h3>References</h3>

<p>Katzman, J. L., Shaham, U., Cloninger, A., Bates, J., Jiang, T., &amp; Kluger, Y. (2018). DeepSurv: personalized treatment recommender system using a Cox proportional hazards deep neural network. BMC Medical Research Methodology, 18(1), 24. https://doi.org/10.1186/s12874-018-0482-1
</p>

<hr>
<h2 id='metrics'>
Metrics to Evaluate the Prognostic Capacities
</h2><span id='topic+metrics'></span>

<h3>Description</h3>

<p>Compute several metrics to evaluate the prognostic capacities with time-to-event data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>metrics(times, failures, data, prediction.matrix, prediction.times, metric,
pro.time=NULL, ROC.precision=seq(.01, .99, by=.01))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="metrics_+3A_times">times</code></td>
<td>
<p>The name of the variable related the numeric vector with the follow-up times.</p>
</td></tr>
<tr><td><code id="metrics_+3A_failures">failures</code></td>
<td>
<p>The name of the variable related the numeric vector with the event indicators (0=right censored, 1=event).</p>
</td></tr>
<tr><td><code id="metrics_+3A_data">data</code></td>
<td>
<p>A data frame for in which to look for the variables related to the status of the follow-up time (<code>times</code>) and the event (<code>failures</code>).</p>
</td></tr>
<tr><td><code id="metrics_+3A_prediction.matrix">prediction.matrix</code></td>
<td>
<p>A matrix with the predictions of survivals of each subject (lines) for each prognostic times (columns).</p>
</td></tr>
<tr><td><code id="metrics_+3A_prediction.times">prediction.times</code></td>
<td>
<p>A vector of numeric values with the times of the <code>predictions</code> (same length than the number of columns of <code>prediction.matrix</code>).</p>
</td></tr>
<tr><td><code id="metrics_+3A_metric">metric</code></td>
<td>
<p>The metric to compute. See details.</p>
</td></tr>
<tr><td><code id="metrics_+3A_pro.time">pro.time</code></td>
<td>
<p>This optional value of prognostic time represents the maximum delay for which the capacity of the variable is evaluated. The same unit than the one used in the argument times. Not used for the following metrics: &quot;loglik&quot;, &quot;ibs&quot;, &quot;bll&quot;, and &quot;ibll&quot;. Default value is the time at which half of the subjects are still at risk.</p>
</td></tr>
<tr><td><code id="metrics_+3A_roc.precision">ROC.precision</code></td>
<td>
<p>An optional argument with the percentiles (between 0 and 1) of the prognostic variable used for computing each point of the time dependent ROC curve. Only used when <code>metric="auc"</code>. 0 (min) and 1 (max) are not allowed. By default, the precision is <code>seq(.01,.99,.01)</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The following metrics can be used: &quot;bs&quot; for the Brier score at the prognostic time <code>pro.time</code>, &quot;ci&quot; for the concordance index at the prognostic time <code>pro.time</code>, &quot;loglik&quot; for the log-likelihood, &quot;ibs&quot; for the integrated Brier score up to the last observed time of event, &quot;ibll&quot; for the integrated binomial log-likelihood up to the last observed time of event, &quot;bll&quot; for the binomial log-likelihood, &quot;ribs&quot; for the restricted integrated Brier score up to the prognostic time <code>pro.time</code>, &quot;ribll&quot; for the restricted integrated binomial log-likelihood up to the last observed time of event, &quot;bll&quot; for the binomial log-likelihood, &quot;auc&quot; for the area under the time-dependent ROC curve up to the prognostic time <code>pro.time</code>.
</p>


<h3>Value</h3>

<p>A numeric value with the metric estimation.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(dataDIVAT2)

# The estimation of the model
model &lt;- LIB_COXridge(times="times", failures="failures", data=dataDIVAT2,
  cov.quanti=c("age"),  cov.quali=c("hla", "retransplant", "ecd"), lambda=1)

# The apparent AUC at 10-year post-transplantation
metrics(times="times", failures="failures", data=dataDIVAT2,
  prediction.matrix=model$predictions, prediction.times=model$times,
  metric="auc", pro.time=10)

# The integrated Brier score up to 10 years post-transplanation
metrics(times="times", failures="failures", data=dataDIVAT2,
  prediction.matrix=model$predictions, prediction.times=model$times,
  metric="ribs", pro.time=10)
</code></pre>

<hr>
<h2 id='plot.libsl'>
Calibration Plot for a Cox-like Model
</h2><span id='topic+plot.libsl'></span>

<h3>Description</h3>

<p>A calibration plot of an object of the class <code>libsl</code> (library of survival super learner).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'libsl'
plot(x, n.groups=5, pro.time=NULL,
newdata=NULL, times=NULL, failures=NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.libsl_+3A_x">x</code></td>
<td>
<p>An object returned by a library of survival super learner.</p>
</td></tr>
<tr><td><code id="plot.libsl_+3A_n.groups">n.groups</code></td>
<td>
<p>A numeric value with the number of groups by their class probabilities. The default is 5.</p>
</td></tr>
<tr><td><code id="plot.libsl_+3A_pro.time">pro.time</code></td>
<td>
<p>The prognostic time at which the calibration plot of the survival probabilities.</p>
</td></tr>
<tr><td><code id="plot.libsl_+3A_newdata">newdata</code></td>
<td>
<p>An optional data frame containing the new sample for validation with covariate values, follow-up times, and event status. The default value is <code>NULL</code>, the calibration plot is performed from the same subjects of the training sample.</p>
</td></tr>
<tr><td><code id="plot.libsl_+3A_times">times</code></td>
<td>
<p>The name of the variable related the numeric vector with the follow-up times in <code>newdata</code> (optional argument only necessary when newdata is not <code>NULL</code>).</p>
</td></tr>
<tr><td><code id="plot.libsl_+3A_failures">failures</code></td>
<td>
<p>The name of the variable related the numeric vector with the event indicators (0=right censored, 1=event) in <code>newdata</code> (optional argument only necessary when newdata is not <code>NULL</code>).</p>
</td></tr>
<tr><td><code id="plot.libsl_+3A_...">...</code></td>
<td>
<p>Additional arguments affecting the plot.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The plot represents the observed survival and the related 95% confidence intervals, which are respectively estimated by the Kaplan and Meier estimator and the Greenwood formula, against the mean of the predictive values for individuals stratified into groups of the same size according to the percentiles. The identity line is usually included for reference.
</p>


<h3>Value</h3>

<p>No return value for this S3 method.</p>


<h3>See Also</h3>

<p><code><a href="graphics.html#topic+plot.default">plot.default</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(dataDIVAT2)

# The estimation of the model from the first 200 lignes
model &lt;- LIB_COXall(times="times", failures="failures", data=dataDIVAT2,
  cov.quanti=c("age"),  cov.quali=c("hla", "retransplant", "ecd"))

# The calibration plot from the validation sample of 150 patients
plot(model, n.groups=5, pro.time=12, col=3,
     xlab="Predicted 12-year survival", ylab="Observed 12-year survival",
     newdata=dataDIVAT2[151:300,], times="times", failures="failures")
</code></pre>

<hr>
<h2 id='plot.rocrisca'>
Plot Method for 'rocrisca' Objects
</h2><span id='topic+plot.rocrisca'></span>

<h3>Description</h3>

<p>A plot of ROC curves is produced.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'rocrisca'
plot(x, ..., information=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.rocrisca_+3A_x">x</code></td>
<td>
<p>An object of class <code>rocrisca</code>, returned by the functions <code>roc.binary</code>, <code>roc.net</code>, <code>roc.summary</code>, and <code>roc.time</code>.</p>
</td></tr>
<tr><td><code id="plot.rocrisca_+3A_...">...</code></td>
<td>
<p>Additional arguments affecting the plot.</p>
</td></tr>
<tr><td><code id="plot.rocrisca_+3A_information">information</code></td>
<td>
<p>A logical value indicating whether the non-information line is plotted. The default values is TRUE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value for this S3 method.</p>


<h3>See Also</h3>

<p><code><a href="graphics.html#topic+plot.default">plot.default</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(dataDIVAT3)

# A subgroup analysis to reduce the time needed for this example

dataDIVAT3 &lt;- dataDIVAT3[1:400,]

# The time-dependent ROC curve to evaluate the
# capacities of the recipient age for the prognosis of post-kidney
# transplant mortality up to 2000 days.

# Compute the raw sensitivity and specificity
roc1 &lt;- roc(times="death.time", failures="death", variable="ageR",
confounders=~1, data=dataDIVAT3, pro.time=2000,
precision=seq(0.1,0.9, by=0.2))

plot(roc1, type="b", col=1, pch=2, lty=2, xlab="1-specificity", ylab="sensibility")
</code></pre>

<hr>
<h2 id='plot.sltime'>
Calibration Plot for Super Learner
</h2><span id='topic+plot.sltime'></span>

<h3>Description</h3>

<p>A calibration plot of a Super Learner obtained by the function <code>survivalSL</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'sltime'
plot(x, method, n.groups, pro.time, newdata,
times, failures, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.sltime_+3A_x">x</code></td>
<td>
<p>An object returned by the function <code>survivalSL</code>.</p>
</td></tr>
<tr><td><code id="plot.sltime_+3A_method">method</code></td>
<td>
<p>A character string with the name of the algorithm included in the SL for which the calibration plot is performed. The default is &quot;sl&quot; for the Super Learner.</p>
</td></tr>
<tr><td><code id="plot.sltime_+3A_n.groups">n.groups</code></td>
<td>
<p>A numeric value with the number of groups by their class probabilities. The default is 5.</p>
</td></tr>
<tr><td><code id="plot.sltime_+3A_pro.time">pro.time</code></td>
<td>
<p>The prognostic time at which the calibration plot of the survival probabilities.</p>
</td></tr>
<tr><td><code id="plot.sltime_+3A_newdata">newdata</code></td>
<td>
<p>An optional data frame containing the new sample for validation with covariate values, follow-up times, and event status. The default value is <code>NULL</code>, the calibration plot is performed from the same subjects of the training sample.</p>
</td></tr>
<tr><td><code id="plot.sltime_+3A_times">times</code></td>
<td>
<p>The name of the variable related the numeric vector with the follow-up times in <code>newdata</code> (optional argument only necessary when newdata is not <code>NULL</code>).</p>
</td></tr>
<tr><td><code id="plot.sltime_+3A_failures">failures</code></td>
<td>
<p>The name of the variable related the numeric vector with the event indicators (0=right censored, 1=event) in <code>newdata</code> (optional argument only necessary when newdata is not <code>NULL</code>).</p>
</td></tr>
<tr><td><code id="plot.sltime_+3A_...">...</code></td>
<td>
<p>Additional arguments affecting the plot.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The plot represents the observed survival and the related 95% confidence intervals, which are respectively estimated by the Kaplan and Meier estimator and the Greenwood formula, against the mean of the predictive values for individuals stratified into groups of the same size according to the percentiles. The identity line is usually included for reference.
</p>


<h3>Value</h3>

<p>No return value for this S3 method.</p>


<h3>See Also</h3>

<p><code><a href="graphics.html#topic+plot.default">plot.default</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(dataDIVAT2)

#The outcome model base on a Super Learner from the first 150 individuals of the data base
sl1 &lt;- survivalSL( methods=c("LIB_AFTgamma", "LIB_PHgompertz"),  metric="ci",
  data=dataDIVAT2[1:150,],  times="times", failures="failures", group="ecd",
  cov.quanti=c("age"),  cov.quali=c("hla", "retransplant"), cv=3)

# The calibration plot from the validation sample of 150 patients
plot(sl1, method="sl", n.groups=5, pro.time=12, col=2,
     xlab="Predicted 12-year survival", ylab="Observed 12-year survival",
     newdata=dataDIVAT2[151:300,], times="times", failures="failures")
</code></pre>

<hr>
<h2 id='predict.libsl'>
Prediction from an Flexible Parametric Model
</h2><span id='topic+predict.libsl'></span>

<h3>Description</h3>

<p>Predict the survival based on a model or algorithm from an object of the class <code>libsl</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'libsl'
predict(object, newdata, newtimes, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="predict.libsl_+3A_object">object</code></td>
<td>
<p>An object returned by the function <code>LIB_AFTllogis</code>, <code>LIB_AFTggamma</code>, <code>LIB_AFTgamma</code>, <code>LIB_AFTweibull</code>, <code>LIB_PHexponential</code>, <code>LIB_PHspline</code> or <code>LIB_PHgompertz</code>.</p>
</td></tr>
<tr><td><code id="predict.libsl_+3A_newdata">newdata</code></td>
<td>
<p>An optional data frame containing covariate values at which to produce predicted values. There must be a column for every covariate included in <code>cov.quanti</code> and <code>cov.quali</code> included in the training sample. The default value is <code>NULL</code>, the predicted values are computed for the subjects of the training sample.</p>
</td></tr>
<tr><td><code id="predict.libsl_+3A_newtimes">newtimes</code></td>
<td>
<p>The times at which to produce predicted values. The default value is <code>NULL</code>, the predicted values are computed for the observed times in the training data frame.</p>
</td></tr>
<tr><td><code id="predict.libsl_+3A_...">...</code></td>
<td>
<p>For future methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The model <code>object</code> is obtained from the <code>flexsurvreg</code> package.
</p>


<h3>Value</h3>

<table>
<tr><td><code>times</code></td>
<td>
<p>A vector of numeric values with the times of the <code>predictions</code>.</p>
</td></tr>
<tr><td><code>predictions</code></td>
<td>
<p>A matrix with the predictions of survivals of each subject (lines) for each observed time (columns).</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>data(dataDIVAT2)

# The estimation of the model from the first 200 lines
model &lt;- LIB_PHgompertz(times="times", failures="failures", data=dataDIVAT2[1:200,],
  cov.quanti=c("age"),  cov.quali=c("hla", "retransplant", "ecd"))

# Predicted survival for 2 new subjects
pred &lt;- predict(model,
  newdata=data.frame(age=c(52,52), hla=c(0,1), retransplant=c(1,1), ecd=c(0,1)))

plot(y=pred$predictions[1,], x=pred$times, xlab="Time (years)", ylab="Predicted survival",
     col=1, type="l", lty=1, lwd=2, ylim=c(0,1))

lines(y=pred$predictions[2,], x=pred$times, col=2, type="l", lty=1, lwd=2)

legend("bottomright", col=c(1,2), lty=1, lwd=2, c("Subject #1", "Subject #2"))
</code></pre>

<hr>
<h2 id='predict.sltime'>
Prediction from a Super Learner for Censored Outcomes
</h2><span id='topic+predict.sltime'></span>

<h3>Description</h3>

<p>Predict the survival of new observations based on an SL by using the <code>survivalSL</code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'sltime'
predict(object, newdata, newtimes, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="predict.sltime_+3A_object">object</code></td>
<td>
<p>An object returned by the function <code>survivalSL</code>.</p>
</td></tr>
<tr><td><code id="predict.sltime_+3A_newdata">newdata</code></td>
<td>
<p>An optional data frame containing covariate values at which to produce predicted values. There must be a column for every covariate included in <code>cov.quanti</code> and <code>cov.quali</code> included in the training sample. The default value is <code>NULL</code>, the predicted values are computed for the subjects of the training sample.</p>
</td></tr>
<tr><td><code id="predict.sltime_+3A_newtimes">newtimes</code></td>
<td>
<p>The times at which to produce predicted values. The default value is <code>NULL</code>, the predicted values are computed for the observed times in the training data frame.</p>
</td></tr>
<tr><td><code id="predict.sltime_+3A_...">...</code></td>
<td>
<p>For future methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>times</code></td>
<td>
<p>A vector of numeric values with the times of the <code>predictions</code>.</p>
</td></tr>
<tr><td><code>predictions</code></td>
<td>
<p>A matrix with the predictions of survivals of each subject (lines) for each observed time (columns).</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+survivalSL">survivalSL</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(dataDIVAT2)

# The training of the super learner from the first 150 individuals of the data base
sl1 &lt;- survivalSL(method=c("LIB_COXridge", "LIB_AFTggamma"),  metric="ci",
  data=dataDIVAT2[1:150,],  times="times", failures="failures", pro.time = 12,
  cov.quanti=c("age"),  cov.quali=c("hla", "retransplant", "ecd"), cv=3)

# Individual prediction for 2 new subjects
pred &lt;- predict(sl1,
  newdata=data.frame(age=c(52,52), hla=c(0,1), retransplant=c(1,1), ecd=c(0,1)))

plot(y=pred$predictions$sl[1,], x=pred$times, xlab="Time (years)",
ylab="Predicted survival", col=1, type="l", lty=1, lwd=2, ylim=c(0,1))

lines(y=pred$predictions$sl[2,], x=pred$times, col=2, type="l", lty=1, lwd=2)

legend("bottomright", col=c(1,2), lty=1, lwd=2, c("Subject #1", "Subject #2"))
</code></pre>

<hr>
<h2 id='print.libsl'>
S3 Method for Printing an 'libsl' Object
</h2><span id='topic+print.libsl'></span>

<h3>Description</h3>

<p>Print the model or algorithm.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'libsl'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.libsl_+3A_x">x</code></td>
<td>
<p>An object returned by the function <code>flexsurv</code>.</p>
</td></tr>
<tr><td><code id="print.libsl_+3A_...">...</code></td>
<td>
<p>For future methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value for this S3 method.</p>


<h3>See Also</h3>

<p><code><a href="#topic+LIB_AFTgamma">LIB_AFTgamma</a></code>, <code><a href="#topic+LIB_AFTggamma">LIB_AFTggamma</a></code>, <code><a href="#topic+LIB_AFTllogis">LIB_AFTllogis</a></code>, <code><a href="#topic+LIB_AFTweibull">LIB_AFTweibull</a></code>,
<code><a href="#topic+LIB_PHexponential">LIB_PHexponential</a></code>, <code><a href="#topic+LIB_PHgompertz">LIB_PHgompertz</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(dataDIVAT2)

model &lt;- LIB_AFTgamma(times="times", failures="failures",  data=dataDIVAT2[1:100,],
        cov.quanti=c("age"),  cov.quali=c("hla", "retransplant", "ecd"))

print(model)
</code></pre>

<hr>
<h2 id='print.sltime'>
S3 Method for Printing an 'sltime' Object
</h2><span id='topic+print.sltime'></span>

<h3>Description</h3>

<p>Print the contribution of learners included in the super learner.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'sltime'
print(x,  digits=7, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.sltime_+3A_x">x</code></td>
<td>
<p>An object returned by the function <code>survivalSL</code>.</p>
</td></tr>
<tr><td><code id="print.sltime_+3A_digits">digits</code></td>
<td>
<p>An optional integer for the number of digits to print when printing numeric values.</p>
</td></tr>
<tr><td><code id="print.sltime_+3A_...">...</code></td>
<td>
<p>For future methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value for this S3 method.</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(dataDIVAT2)

sl1 &lt;- survivalSL(method=c("LIB_COXridge", "LIB_AFTggamma"),  metric="ci",
  data=dataDIVAT2[1:150,],  times="times", failures="failures", pro.time = 12,
  cov.quanti=c("age"),  cov.quali=c("hla", "retransplant", "ecd"), cv=3)

print(sl1, digits=4)
</code></pre>

<hr>
<h2 id='roc'>
Time-Dependent ROC Curves With Right Censored Data
</h2><span id='topic+roc'></span>

<h3>Description</h3>

<p>This function allows for the estimation of time-dependent ROC curve by considering possible confounding factors. This method is implemented by standardizing and weighting based on an IPW estimator.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>roc(times, failures, variable, confounders, data,
 pro.time, precision=seq(.01, .99, by=.01))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="roc_+3A_times">times</code></td>
<td>
<p>A character string with the name of the variable in <code>data</code> which represents the follow up times.</p>
</td></tr>
<tr><td><code id="roc_+3A_failures">failures</code></td>
<td>
<p>A character string with the name of the variable in <code>data</code> which represents the event indicator (0=right censored, 1=event).</p>
</td></tr>
<tr><td><code id="roc_+3A_variable">variable</code></td>
<td>
<p>A character string with the name of the variable in <code>data</code> which represents the prognostic variable under interest. This variable is collected at the baseline. The variable must be previously standardized according to the covariates among the controls as proposed by Le Borgne et al. (2017).</p>
</td></tr>
<tr><td><code id="roc_+3A_confounders">confounders</code></td>
<td>
<p>An object of class &quot;formula&quot;. More precisely only the right part with an expression of the form <code>~ model</code>, where <code>model</code> is the linear predictor of the logistic regressions performed for each cut-off value. The user can use <code>~1</code> to obtain the crude estimation.</p>
</td></tr>
<tr><td><code id="roc_+3A_data">data</code></td>
<td>
<p>An object of the class <code>data.frame</code> containing the variables previously detailed.</p>
</td></tr>
<tr><td><code id="roc_+3A_pro.time">pro.time</code></td>
<td>
<p>The value of prognostic time represents the maximum delay for which the capacity of the variable is evaluated. The same unit than the one used in the argument <code>times</code>.</p>
</td></tr>
<tr><td><code id="roc_+3A_precision">precision</code></td>
<td>
<p>The quintiles (between 0 and 1) of the prognostic variable used for computing each point of the time dependent ROC curve. 0 (min) and 1 (max) are not allowed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function computes confounder-adjusted time-dependent ROC curve with right-censored data. We adapted the naive IPCW estimator as explained by Blanche, Dartigues and Jacqmin-Gadda (2013) by considering the probability of experiencing the event of interest before the fixed prognostic time, given the possible confounding factors.
</p>


<h3>Value</h3>

<table>
<tr><td><code>table</code></td>
<td>
<p>This data frame presents the sensitivities and specificities associated with the cut-off values. <code>J</code> represents the Youden index.</p>
</td></tr>
<tr><td><code>auc</code></td>
<td>
<p>The area under the time-dependent ROC curve for a prognostic up to <code>pro.time</code>.</p>
</td></tr>
</table>


<h3>References</h3>

<p>Blanche et al. (2013) Review and comparison of roc curve estimators for a time-dependent outcome with marker-dependent censoring. Biometrical Journal, 55, 687-704. &lt;doi:10.1002/ bimj.201200045&gt;
</p>
<p>Le Borgne et al. Standardized and weighted time-dependent ROC curves to evaluate the intrinsic prognostic capacities of a marker by taking into account confounding factors. Stat Methods Med Res. 27(11):3397-3410, 2018. &lt;doi: 10.1177/ 0962280217702416&gt;.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># import and attach the data example
data(dataDIVAT3)

# A subgroup analysis to reduce the time needed for this example

dataDIVAT3 &lt;- dataDIVAT3[1:400,]

# The standardized and weighted time-dependent ROC curve to evaluate the
# capacities of the recipient age for the prognosis of post kidney
# transplant mortality up to 2000 days by taking into account the
# donor age and the recipient gender.

# 1. Standardize the marker according to the covariates among the controls
lm1 &lt;- lm(ageR ~ ageD + sexeR, data=dataDIVAT3[dataDIVAT3$death.time &gt;= 2500,])
dataDIVAT3$ageR_std &lt;- (dataDIVAT3$ageR - (lm1$coef[1] + lm1$coef[2] * dataDIVAT3$ageD +
 lm1$coef[3] * dataDIVAT3$sexeR)) / sd(lm1$residuals)

# 2. Compute the sensitivity and specificity from the proposed IPW estimators
roc2 &lt;- roc(times="death.time", failures="death", variable="ageR_std",
confounders=~bs(ageD, df=3) + sexeR, data=dataDIVAT3, pro.time=2000,
precision=seq(0.1,0.9, by=0.2))

# The corresponding ROC graph
plot(roc2, col=2, pch=2, lty=1, type="b", xlab="1-specificity", ylab="sensibility")

# The corresponding AUC
roc2$auc
</code></pre>

<hr>
<h2 id='summary.libsl'>
Summaries of a Learner
</h2><span id='topic+summary.libsl'></span>

<h3>Description</h3>

<p>Return predictive performances of a model or algorithm obtained by a library  of the class <code>libsl</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'libsl'
summary(object, newdata=NULL, ROC.precision=seq(.01,.99,.01), digits=7, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.libsl_+3A_object">object</code></td>
<td>
<p>An object returned by a library of the class <code>libsl</code>.</p>
</td></tr>
<tr><td><code id="summary.libsl_+3A_newdata">newdata</code></td>
<td>
<p>An optional data frame containing the new sample for validation with covariate values, follow-up times, and event status. The default value is <code>NULL</code>, the calibration plot is performed from the same subjects of the training sample.</p>
</td></tr>
<tr><td><code id="summary.libsl_+3A_roc.precision">ROC.precision</code></td>
<td>
<p>An optional argument with the percentiles (between 0 and 1) of the prognostic variable used for computing each point of the time dependent ROC curve. 0 (min) and 1 (max) are not allowed. By default, the precision is <code>seq(.01,.99,.01)</code>.</p>
</td></tr>
<tr><td><code id="summary.libsl_+3A_digits">digits</code></td>
<td>
<p>An optional integer for the number of digits to print when printing numeric values.</p>
</td></tr>
<tr><td><code id="summary.libsl_+3A_...">...</code></td>
<td>
<p>Additional arguments affecting the summary which are passed from <code>libsl</code> by default. It concerns the argument <code>times</code>, <code>failures</code>, and <code>pro.time</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The following metrics are returned: &quot;brier&quot; for the Brier score at the prognostic time <code>pro.time</code>, &quot;ibs&quot; for the Integrated Brier score up to the last observed time of event, &quot;ibll&quot; for the Integrated Binomial Log-likelihood up to the last observed time of event, &quot;bll&quot; for the binomial Log-likelihood, &quot;ribs&quot; for the restricted Integrated Brier score up to the prognostic time <code>pro.time</code>, &quot;ribll&quot; for the restricted Integrated Binomial Log-likelihood Log-likelihood up to the last observed time of event, &quot;bll&quot; for the binomial Log-likelihood, &quot;auc&quot; for the area under the time-dependent ROC curve up to the prognostic time <code>pro.time</code>.
</p>


<h3>Value</h3>

<p>No return value for this S3 method.</p>


<h3>See Also</h3>

<p><code><a href="#topic+LIB_AFTgamma">LIB_AFTgamma</a></code>, <code><a href="#topic+LIB_AFTggamma">LIB_AFTggamma</a></code>, <code><a href="#topic+LIB_AFTllogis">LIB_AFTllogis</a></code>, <code><a href="#topic+LIB_AFTweibull">LIB_AFTweibull</a></code>,
<code><a href="#topic+LIB_PHexponential">LIB_PHexponential</a></code>, <code><a href="#topic+LIB_PHgompertz">LIB_PHgompertz</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(dataDIVAT2)

# The training of the Weibull model with the first 400 patients
model &lt;- LIB_PHgompertz(times="times", failures="failures", data=dataDIVAT2[1:400,],
  cov.quanti=c("age"),  cov.quali=c("hla", "retransplant", "ecd"))

# The prognostic capacities from the same training sample
# (up to 4 years forseveral indicators)
summary(model, pro.time=4)

# The prognostic capacities from a validation of the next 150 patients
# (up to 4 years for several indicators)
 summary(model, pro.time=4, newdata=dataDIVAT2[401:550,], times="times",
 failures="failures")
</code></pre>

<hr>
<h2 id='summary.sltime'>
Summaries of a Super Learner
</h2><span id='topic+summary.sltime'></span>

<h3>Description</h3>

<p>Return goodness-of-fit indicators of a Super Learner obtained by the function <code>survivalSL</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'sltime'
summary(object,  method="sl", newdata=NULL,
ROC.precision=seq(.01,.99,.01), digits=7, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.sltime_+3A_object">object</code></td>
<td>
<p>An object returned by the function <code>survivalSL</code>.</p>
</td></tr>
<tr><td><code id="summary.sltime_+3A_method">method</code></td>
<td>
<p>A character string with the name of the algorithm included in the SL for which the calibration plot is performed. The default is &quot;sl&quot; for the Super Learner.</p>
</td></tr>
<tr><td><code id="summary.sltime_+3A_newdata">newdata</code></td>
<td>
<p>An optional data frame containing the new sample for validation with covariate values, follow-up times, and event status. The default value is <code>NULL</code>, the calibration plot is performed from the same subjects of the training sample.</p>
</td></tr>
<tr><td><code id="summary.sltime_+3A_roc.precision">ROC.precision</code></td>
<td>
<p>An optional argument with the percentiles (between 0 and 1) of the prognostic variable used for computing each point of the time dependent ROC curve. 0 (min) and 1 (max) are not allowed. By default, the precision is <code>seq(.01,.99,.01)</code>.</p>
</td></tr>
<tr><td><code id="summary.sltime_+3A_digits">digits</code></td>
<td>
<p>An optional integer for the number of digits to print when printing numeric values.</p>
</td></tr>
<tr><td><code id="summary.sltime_+3A_...">...</code></td>
<td>
<p>Additional arguments affecting the summary which are passed from <code>libsl</code> by default. It concerns the argument <code>times</code>, <code>failures</code>, and <code>pro.time</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The following metrics are returned: &quot;ci&quot; for the concordance index at the prognostic time <code>pro.time</code>, &quot;bs&quot; for the Brier score at the prognostic time <code>pro.time</code>, &quot;ibs&quot; for the integrated Brier score up to the last observed time of event, &quot;ibll&quot; for the integrated binomial log-likelihood up to the last observed time of event, &quot;bll&quot; for the binomial Log-likelihood, &quot;ribs&quot; for the restricted Integrated Brier score up to the prognostic time <code>pro.time</code>, &quot;ribll&quot; for the restricted integrated binomial log-likelihood up to the last observed time of event, &quot;bll&quot; for the binomial log-likelihood, and &quot;auc&quot; for the area under the time-dependent ROC curve up to the prognostic time <code>pro.time</code>.
</p>


<h3>Value</h3>

<p>No return value for this S3 method.</p>


<h3>See Also</h3>

<p><code><a href="#topic+survivalSL">survivalSL</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(dataDIVAT2)

dataDIVAT2$train &lt;- 1*rbinom(n=dim(dataDIVAT2)[1], size = 1, prob=1/2)

# The training of the super learner with 2 algorithms from the
   # first 100 patients of the training sample
sl1 &lt;- survivalSL(method=c("LIB_AFTgamma", "LIB_PHgompertz"),  metric="auc",
  data=dataDIVAT2[dataDIVAT2$train==1,][1:100,],  times="times", failures="failures",
  pro.time = 12,  cov.quanti=c("age"),  cov.quali=c("hla", "retransplant", "ecd"),
  cv=3)

# The prognostic capacities from the same training sample
summary(sl1)
</code></pre>

<hr>
<h2 id='survivalSL'>
Super Learner for Censored Outcomes
</h2><span id='topic+survivalSL'></span>

<h3>Description</h3>

<p>This function allows to compute a Super Learner (SL) to predict survival outcomes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>survivalSL(methods, metric="ci",  data, times, failures, group=NULL,
cov.quanti=NULL, cov.quali=NULL, cv=10, param.tune=NULL, pro.time=NULL,
optim.local.min=FALSE, ROC.precision=seq(.01,.99,.01),
param.weights.fix=NULL, param.weights.init=NULL,
keep.predictions=TRUE, progress=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="survivalSL_+3A_methods">methods</code></td>
<td>
<p>A vector of characters with the names of the algorithms included in the SL. At least two algorithms have to be included.</p>
</td></tr>
<tr><td><code id="survivalSL_+3A_metric">metric</code></td>
<td>
<p>The loss function used to estimate the weights of the algorithms in the SL. See details.</p>
</td></tr>
<tr><td><code id="survivalSL_+3A_data">data</code></td>
<td>
<p>A data frame in which to look for the variables related to the status of the follow-up time (<code>times</code>), the event (<code>failures</code>), the optional treatment/exposure (<code>group</code>) and the covariables included in the previous model (<code>cov.quanti</code> and <code>cov.quali</code>).</p>
</td></tr>
<tr><td><code id="survivalSL_+3A_times">times</code></td>
<td>
<p>The name of the variable related the numeric vector with the follow-up times.</p>
</td></tr>
<tr><td><code id="survivalSL_+3A_failures">failures</code></td>
<td>
<p>The name of the variable related the numeric vector with the event indicators (0=right censored, 1=event).</p>
</td></tr>
<tr><td><code id="survivalSL_+3A_group">group</code></td>
<td>
<p>The name of the variable related to the exposure/treatment. This variable shall have only two modalities encoded 0 for the untreated/unexposed patients and 1 for the treated/exposed ones. The default value is NULL: no specific exposure/treatment is considered. When a specific exposure/treatment is considered, it will be forced in the algorithm or related interactions will be tested when possible.</p>
</td></tr>
<tr><td><code id="survivalSL_+3A_cov.quanti">cov.quanti</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible quantitative covariates. These variables must be numeric.</p>
</td></tr>
<tr><td><code id="survivalSL_+3A_cov.quali">cov.quali</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible qualitative covariates. These variables must be numeric with two levels: 0 and 1. A complete disjunctive form must be used for covariates with more levels.</p>
</td></tr>
<tr><td><code id="survivalSL_+3A_cv">cv</code></td>
<td>
<p>The number of splits for cross-validation. The default value is 10.</p>
</td></tr>
<tr><td><code id="survivalSL_+3A_param.tune">param.tune</code></td>
<td>
<p>A list with a length equals to the number of algorithms included in <code>methods</code>. If <code>NULL</code>, the tunning parameters are estimated (see details).</p>
</td></tr>
<tr><td><code id="survivalSL_+3A_pro.time">pro.time</code></td>
<td>
<p>This optional value of prognostic time represents the maximum delay for which the capacity of the variable is evaluated. The same unit than the one used in the argument times. Not used for the following metrics: &quot;loglik&quot;, &quot;ibs&quot;, &quot;bll&quot;, and &quot;ibll&quot;. Default value is the time at which half of the subjects are still at risk.</p>
</td></tr>
<tr><td><code id="survivalSL_+3A_optim.local.min">optim.local.min</code></td>
<td>
<p>An optional logical value. If <code>TRUE</code>, the optimization is performed twice to better ensure the estimation of the weights. If <code>FALSE</code> (default value), the optimization is performed once.</p>
</td></tr>
<tr><td><code id="survivalSL_+3A_roc.precision">ROC.precision</code></td>
<td>
<p>The percentiles (between 0 and 1) of the prognostic variable used for computing each point of the time dependent ROC curve. Only used when <code>metric="auc"</code>. 0 (min) and 1 (max) are not allowed. By default: <code>seq(.01,.99,.01)</code>.</p>
</td></tr>
<tr><td><code id="survivalSL_+3A_param.weights.fix">param.weights.fix</code></td>
<td>
<p>A vector with the parameters of the multinomial logistic regression which generates the weights of the algorithms declared in <code>methods</code>. When completed, the related parameters are not estimated. The default value is NULL: the parameters are estimated by a <code>cv</code>-fold cross-validation. See details.</p>
</td></tr>
<tr><td><code id="survivalSL_+3A_param.weights.init">param.weights.init</code></td>
<td>
<p>A vector with the initial values of the parameters of the multinomial logistic regression which generates the weights of the algorithms declared in <code>methods</code>. The default value is NULL: the initial values are equaled to 0. See details.</p>
</td></tr>
<tr><td><code id="survivalSL_+3A_keep.predictions">keep.predictions</code></td>
<td>
<p>A logical value specifying if all the predictions for all the <code>methods</code> are saved. If <code>FALSE</code>, only the predictions related to the SL are saved (for space saving). The default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="survivalSL_+3A_progress">progress</code></td>
<td>
<p>A logical value to print a progress bar in the R console. The default is <code>TRUE</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>Each object of the list declared in <code>param.tune</code> must have the same name than the names of the <code>methods</code> included in the SL. If <code>param.tune</code> = <code>NULL</code>, the tunning parameters of each algorithm are estimated by <code>cv</code>-fold cross-validation. Otherwise, the user can propose a tunning grid for each method, as explained in the following table. The following metrics can be used: &quot;ci&quot; for the concordance index at the prognostic time <code>pro.time</code>, &quot;bs&quot; for the Brier score at the prognostic time <code>pro.time</code>, &quot;loglik&quot; for the log-likelihood, &quot;ibs&quot; for the integrated Brier score up to the last observed time of event, &quot;ibll&quot; for the Integrated binomial log-likelihood up to the last observed time of event, &quot;bll&quot; for the binomial log-likelihood, &quot;ribs&quot; for the restricted integrated Brier score up to the prognostic time <code>pro.time</code>, &quot;ribll&quot; for the restricted integrated binomial log-likelihood up to the last observed time of event, &quot;bll&quot; for the binomial log-likelihood, and &quot;auc&quot; for the area under the time-dependent ROC curve up to the prognostic time <code>pro.time</code>.
</p>
<p>The following learners are available:
</p>

<table>
<tr>
 <td style="text-align: left;">
  Names </td><td style="text-align: left;"> Description </td><td style="text-align: left;"> Package  </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>"LIB_AFTgamma"</code> </td><td style="text-align: left;"> Gamma-distributed AFT model </td><td style="text-align: left;"> flexsurv  </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>"LIB_AFTggamma"</code> </td><td style="text-align: left;">  Generalized Gamma-distributed AFT model </td><td style="text-align: left;"> flexsurv  </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>"LIB_AFTweibull"</code> </td><td style="text-align: left;">  Weibull-distributed AFT model </td><td style="text-align: left;"> flexsurv  </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>"LIB_PHexponential"</code> </td><td style="text-align: left;">  Exponential-distributed PH model </td><td style="text-align: left;"> flexsurv  </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>"LIB_PHgompertz"</code> </td><td style="text-align: left;">  Gompertz-distributed PH model </td><td style="text-align: left;"> flexsurv  </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>"LIB_PHspline"</code> </td><td style="text-align: left;">  Spline-based PH model </td><td style="text-align: left;"> flexsurv  </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>"LIB_COXall"</code> </td><td style="text-align: left;">  Usual Cox model </td><td style="text-align: left;"> survival  </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>"LIB_COXaic"</code> </td><td style="text-align: left;">  Cox model with AIC-based forward selection</td><td style="text-align: left;"> MASS  </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>"LIB_COXen"</code> </td><td style="text-align: left;">  Elastic Net Cox model </td><td style="text-align: left;"> glmnet  </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>"LIB_COXlasso"</code> </td><td style="text-align: left;">  Lasso Cox model </td><td style="text-align: left;"> glmnet  </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>"LIB_COXridge"</code> </td><td style="text-align: left;">   Ridge Cox model </td><td style="text-align: left;"> glmnet  </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>"LIB_RSF"</code> </td><td style="text-align: left;"> Survival Random Forest </td><td style="text-align: left;">
  randomForestSRC  </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>"LIB_SNN"</code> </td><td style="text-align: left;"> Survical Neural Network  </td><td style="text-align: left;"> survivalmodels </td>
</tr>
<tr>
 <td style="text-align: left;"> </td>
</tr>

</table>

<p>The following loss functions for the estimation of the super learner weigths are available (<code>metric</code>):
</p>

<ul>
<li><p> Area under the ROC curve (<code>"auc"</code>)
</p>
</li>
<li><p> Concordance index (<code>"ci"</code>)
</p>
</li>
<li><p> Brier score (<code>"bs"</code>)
</p>
</li>
<li><p> Binomial log-likelihood (<code>"bll"</code>)
</p>
</li>
<li><p> Integrated Brier score (<code>"ibs"</code>)
</p>
</li>
<li><p> Integrated binomial log-likelihood (<code>"ibll"</code>)
</p>
</li>
<li><p> Restricted integrated Brier score (<code>"ribs"</code>)
</p>
</li>
<li><p> Restricted integrated binomial log-Likelihood (<code>"ribll"</code>)
</p>
</li></ul>



<h3>Value</h3>

<table>
<tr><td><code>times</code></td>
<td>
<p>A vector of numeric values with the times of the <code>predictions</code>.</p>
</td></tr>
<tr><td><code>predictions</code></td>
<td>
<p>A list of matrices with the predictions of survivals of each subject (lines) for each observed time (columns). Each matrix corresponds to the included <code>methods</code> and the resulted SL (the last item entitled &quot;sl&quot;). If <code>keep.predictions=TRUE</code>, it corresponds to a matrix with predictions related to the SL.</p>
</td></tr>
<tr><td><code>data</code></td>
<td>
<p>The data frame used for learning. The first column is entitled <code>times</code> and corresponds to the observed follow-up times. The second column is entitled <code>failures</code> and corresponds to the event indicators. The other columns correspond to the predictors.</p>
</td></tr>
<tr><td><code>predictors</code></td>
<td>
<p>A list with the predictors involved in <code>group</code>, <code>cov.quanti</code> and <code>cov.quali</code>.</p>
</td></tr>
<tr><td><code>ROC.precision</code></td>
<td>
<p>The percentiles (between 0 and 1) of the prognostic variable used for computing each point of the time dependent ROC curve.</p>
</td></tr>
<tr><td><code>cv</code></td>
<td>
<p>The number of splits for cross-validation.</p>
</td></tr>
<tr><td><code>pro.time</code></td>
<td>
<p>The maximum delay for which the capacity of the variable is evaluated.</p>
</td></tr>
<tr><td><code>models</code></td>
<td>
<p>A list with the estimated models/algorithms included in the SL.</p>
</td></tr>
<tr><td><code>weights</code></td>
<td>
<p>A list composed by two vectors: the regressions <code>coefficients</code> of the logistic multinomial regression and the resulting weights' <code>values</code></p>
</td></tr>
<tr><td><code>metric</code></td>
<td>
<p>A list composed by two vectors: the loss function used to estimate the weights of the algorithms in the SL and its value.</p>
</td></tr>
<tr><td><code>param.tune</code></td>
<td>
<p>The estimated tunning parameters.</p>
</td></tr>
</table>


<h3>References</h3>

<p>Polley E and van der Laanet M. Super Learner In Prediction. http://biostats.bepress.com. 2010.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(dataDIVAT2)

#The outcome model base on a Super Learner and the first 150 individuals of the data base
sl1 &lt;- survivalSL(methods=c("LIB_AFTgamma", "LIB_PHgompertz"),  metric="ci",
  data=dataDIVAT2[1:150,],  times="times", failures="failures", group="ecd",
  cov.quanti=c("age"),  cov.quali=c("hla", "retransplant"), cv=3)

# Individual prediction
pred &lt;- predict(sl1, newdata=data.frame(age=c(52,52), hla=c(0,1),
retransplant=c(1,1), ecd=c(0,1)))

plot(y=pred$predictions$sl[1,], x=pred$times, xlab="Time (years)",
ylab="Predicted survival", col=1, type="l", lty=1, lwd=2, ylim=c(0,1))

lines(y=pred$predictions$sl[2,], x=pred$times, col=2, type="l", lty=1, lwd=2)

legend("topright", col=c(1,2), lty=1, lwd=2, c("Subject #1", "Subject #2"))
</code></pre>

<hr>
<h2 id='tuneCOXaic'>
Tune a Cox Model with a Forward Selection Based on the AIC
</h2><span id='topic+tuneCOXaic'></span>

<h3>Description</h3>

<p>This function finds the model which minimize the AIC of a Cox PH model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tuneCOXaic(times, failures, group=NULL, cov.quanti=NULL, cov.quali=NULL,
data, model.min=NULL, model.max=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tuneCOXaic_+3A_times">times</code></td>
<td>
<p>The name of the variable related the numeric vector with the follow-up times.</p>
</td></tr>
<tr><td><code id="tuneCOXaic_+3A_failures">failures</code></td>
<td>
<p>The name of the variable related the numeric vector with the event indicators (0=right censored, 1=event).</p>
</td></tr>
<tr><td><code id="tuneCOXaic_+3A_group">group</code></td>
<td>
<p>The name of the variable related to the exposure/treatment. This variable shall have only two modalities encoded 0 for the untreated/unexposed patients and 1 for the treated/exposed ones. The default value is <code>NULL</code>: no specific exposure/treatment is considered. When a specific exposure/treatment is considered, it will be forced in the algorithm or related interactions will be tested when possible.</p>
</td></tr>
<tr><td><code id="tuneCOXaic_+3A_cov.quanti">cov.quanti</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible quantitative covariates. These variables must be numeric.</p>
</td></tr>
<tr><td><code id="tuneCOXaic_+3A_cov.quali">cov.quali</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible qualitative covariates. These variables must be numeric with two levels: 0 and 1. A complete disjunctive form must be used for covariates with more levels.</p>
</td></tr>
<tr><td><code id="tuneCOXaic_+3A_data">data</code></td>
<td>
<p>A data frame for training the model in which to look for the variables related to the status of the follow-up time (<code>times</code>), the event (<code>failures</code>), the optional treatment/exposure (<code>group</code>) and the covariables included in the previous model (<code>cov.quanti</code> and <code>cov.quali</code>).</p>
</td></tr>
<tr><td><code id="tuneCOXaic_+3A_model.min">model.min</code></td>
<td>
<p>An optional argument with the minimal set of covariates.</p>
</td></tr>
<tr><td><code id="tuneCOXaic_+3A_model.max">model.max</code></td>
<td>
<p>An optional argument with the maximal set of covariates.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function runs the <code>stepAIC</code> function of the <code>MASS</code> package for covariates' selection.
</p>


<h3>Value</h3>

<table>
<tr><td><code>optimal</code></td>
<td>
<p>The names of covariate to adjuste the fit.</p>
</td></tr>
<tr><td><code>results</code></td>
<td>
<p>The result of the stepAIC process.</p>
</td></tr>
</table>


<h3>References</h3>

<p>Venables, W. N. and Ripley, B. D. (2002) Modern Applied Statistics with S. Fourth edition. Springer.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(dataDIVAT2)

tune.model &lt;- tuneCOXaic(times="times", failures="failures", data=dataDIVAT2,
  cov.quanti=c("age"),  cov.quali=c("hla", "retransplant", "ecd"))

tune.model$optimal$final.model # the covariate in the model with the best AIC

# The estimation of the training model with the corresponding lambda value
model &lt;- LIB_COXaic(times="times", failures="failures", data=dataDIVAT2,
  cov.quanti=c("age"),  cov.quali=c("hla", "retransplant", "ecd"),
  final.model=tune.model$optimal$final.model)

# The resulted predicted survival of the first subject of the training sample
plot(y=model$predictions[1,], x=model$times, xlab="Time (years)",
ylab="Predicted survival", col=1, type="l", lty=1, lwd=2, ylim=c(0,1))
</code></pre>

<hr>
<h2 id='tuneCOXen'>
Tune Elastic Net Cox Regression
</h2><span id='topic+tuneCOXen'></span>

<h3>Description</h3>

<p>This function finds the optimal lambda and alpha parameters for an elastic net Cox regression.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tuneCOXen(times, failures, group=NULL, cov.quanti=NULL, cov.quali=NULL,
data, cv=10, parallel=FALSE, alpha, lambda)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tuneCOXen_+3A_times">times</code></td>
<td>
<p>The name of the variable related the numeric vector with the follow-up times.</p>
</td></tr>
<tr><td><code id="tuneCOXen_+3A_failures">failures</code></td>
<td>
<p>The name of the variable related the numeric vector with the event indicators (0=right censored, 1=event).</p>
</td></tr>
<tr><td><code id="tuneCOXen_+3A_group">group</code></td>
<td>
<p>The name of the variable related to the exposure/treatment. This variable shall have only two modalities encoded 0 for the untreated/unexposed patients and 1 for the treated/exposed ones. The default value is <code>NULL</code>: no specific exposure/treatment is considered. When a specific exposure/treatment is considered, it will be forced in the algorithm or related interactions will be tested when possible.</p>
</td></tr>
<tr><td><code id="tuneCOXen_+3A_cov.quanti">cov.quanti</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible quantitative covariates. These variables must be numeric.</p>
</td></tr>
<tr><td><code id="tuneCOXen_+3A_cov.quali">cov.quali</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible qualitative covariates. These variables must be numeric with two levels: 0 and 1. A complete disjunctive form must be used for covariates with more levels.</p>
</td></tr>
<tr><td><code id="tuneCOXen_+3A_data">data</code></td>
<td>
<p>A data frame for training the model in which to look for the variables related to the status of the follow-up time (<code>times</code>), the event (<code>failures</code>), the optional treatment/exposure (<code>group</code>) and the covariables included in the previous model (<code>cov.quanti</code> and <code>cov.quali</code>).</p>
</td></tr>
<tr><td><code id="tuneCOXen_+3A_cv">cv</code></td>
<td>
<p>The value of the number of folds. The default value is 10.</p>
</td></tr>
<tr><td><code id="tuneCOXen_+3A_parallel">parallel</code></td>
<td>
<p>If <code>TRUE</code>, use parallel <code>foreach</code> to fit each fold. The default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="tuneCOXen_+3A_alpha">alpha</code></td>
<td>
<p>The values of the regularization parameter alpha optimized over.</p>
</td></tr>
<tr><td><code id="tuneCOXen_+3A_lambda">lambda</code></td>
<td>
<p>The values of the regularization parameter lambda optimized over.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function runs the <code>cv.glmnet</code> function of the <code>glmnet</code> package.
</p>


<h3>Value</h3>

<table>
<tr><td><code>optimal</code></td>
<td>
<p>The value of lambda that gives the minimum mean cross-validated error.</p>
</td></tr>
<tr><td><code>results</code></td>
<td>
<p>The data frame with the mean cross-validated errors for each lambda values.</p>
</td></tr>
</table>


<h3>References</h3>

<p>Simon, N., Friedman, J., Hastie, T. and Tibshirani, R. (2011) Regularization Paths for Cox's Proportional Hazards Model via Coordinate Descent, Journal of Statistical Software, Vol. 39(5), 1-13, https://www.jstatsoft.org/v39/i05/
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(dataDIVAT2)

tune.model &lt;- tuneCOXen(times="times", failures="failures", data=dataDIVAT2,
  cov.quanti=c("age"),  cov.quali=c("hla", "retransplant", "ecd"), cv=5,
  alpha=seq(.1, 1, by=.1), lambda=seq(.1, 1, by=.1))

tune.model$optimal$lambda # the estimated lambda value

# The estimation of the training modelwith the corresponding lambda value
model &lt;- LIB_COXen(times="times", failures="failures", data=dataDIVAT2,
  cov.quanti=c("age"),  cov.quali=c("hla", "retransplant", "ecd"),
  alpha=tune.model$optimal$alpha,
  lambda=tune.model$optimal$lambda)

# The resulted predicted survival of the first subject of the training sample
plot(y=model$predictions[1,], x=model$times, xlab="Time (years)",
ylab="Predicted survival", col=1, type="l", lty=1, lwd=2, ylim=c(0,1))
</code></pre>

<hr>
<h2 id='tuneCOXlasso'>
Tune Lasso Cox Regression
</h2><span id='topic+tuneCOXlasso'></span>

<h3>Description</h3>

<p>This function finds the optimal lambda parameter for a Lasso Cox regression.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tuneCOXlasso(times, failures, group=NULL, cov.quanti=NULL, cov.quali=NULL,
data, cv=10, parallel=FALSE, lambda)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tuneCOXlasso_+3A_times">times</code></td>
<td>
<p>The name of the variable related the numeric vector with the follow-up times.</p>
</td></tr>
<tr><td><code id="tuneCOXlasso_+3A_failures">failures</code></td>
<td>
<p>The name of the variable related the numeric vector with the event indicators (0=right censored, 1=event).</p>
</td></tr>
<tr><td><code id="tuneCOXlasso_+3A_group">group</code></td>
<td>
<p>The name of the variable related to the exposure/treatment. This variable shall have only two modalities encoded 0 for the untreated/unexposed patients and 1 for the treated/exposed ones. The default value is <code>NULL</code>: no specific exposure/treatment is considered. When a specific exposure/treatment is considered, it will be forced in the algorithm or related interactions will be tested when possible.</p>
</td></tr>
<tr><td><code id="tuneCOXlasso_+3A_cov.quanti">cov.quanti</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible quantitative covariates. These variables must be numeric.</p>
</td></tr>
<tr><td><code id="tuneCOXlasso_+3A_cov.quali">cov.quali</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible qualitative covariates. These variables must be numeric with two levels: 0 and 1. A complete disjunctive form must be used for covariates with more levels.</p>
</td></tr>
<tr><td><code id="tuneCOXlasso_+3A_data">data</code></td>
<td>
<p>A data frame for training the model in which to look for the variables related to the status of the follow-up time (<code>times</code>), the event (<code>failures</code>), the optional treatment/exposure (<code>group</code>) and the covariables included in the previous model (<code>cov.quanti</code> and <code>cov.quali</code>).</p>
</td></tr>
<tr><td><code id="tuneCOXlasso_+3A_cv">cv</code></td>
<td>
<p>The value of the number of folds. The default value is 10.</p>
</td></tr>
<tr><td><code id="tuneCOXlasso_+3A_parallel">parallel</code></td>
<td>
<p>If <code>TRUE</code>, use parallel <code>foreach</code> to fit each fold. The default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="tuneCOXlasso_+3A_lambda">lambda</code></td>
<td>
<p>The values of the regularization parameter lambda optimized over.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function runs the <code>cv.glmnet</code> function of the <code>glmnet</code> package.
</p>


<h3>Value</h3>

<table>
<tr><td><code>optimal</code></td>
<td>
<p>The value of lambda that gives the minimum mean cross-validated error.</p>
</td></tr>
<tr><td><code>results</code></td>
<td>
<p>The data frame with the mean cross-validated errors for each lambda values.</p>
</td></tr>
</table>


<h3>References</h3>

<p>Simon et al. (2011) Regularization Paths for Cox's Proportional Hazards Model via Coordinate Descent, Journal of Statistical Software, Vol. 39(5), 1-13, https://www.jstatsoft.org/v39/i05/
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(dataDIVAT2)

tune.model &lt;- tuneCOXlasso(times="times", failures="failures", data=dataDIVAT2,
  cov.quanti=c("age"),  cov.quali=c("hla", "retransplant", "ecd"),
  cv=5, lambda=seq(0, 10, by=.1))

tune.model$optimal$lambda # the estimated lambda value

# The estimation of the training modelwith the corresponding lambda value
model &lt;- LIB_COXlasso(times="times", failures="failures", data=dataDIVAT2,
  cov.quanti=c("age"),  cov.quali=c("hla", "retransplant", "ecd"),
  lambda=tune.model$optimal$lambda)

# The resulted predicted survival of the first subject of the training sample
plot(y=model$predictions[1,], x=model$times, xlab="Time (years)",
ylab="Predicted survival", col=1, type="l", lty=1, lwd=2, ylim=c(0,1))
</code></pre>

<hr>
<h2 id='tuneCOXridge'>
Tune Ridge Cox Regression
</h2><span id='topic+tuneCOXridge'></span>

<h3>Description</h3>

<p>This function finds the optimal lambda parameter for a ridge Cox regression.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tuneCOXridge(times, failures, group=NULL, cov.quanti=NULL,
cov.quali=NULL, data, cv=10, parallel=FALSE, lambda)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tuneCOXridge_+3A_times">times</code></td>
<td>
<p>The name of the variable related the numeric vector with the follow-up times.</p>
</td></tr>
<tr><td><code id="tuneCOXridge_+3A_failures">failures</code></td>
<td>
<p>The name of the variable related the numeric vector with the event indicators (0=right censored, 1=event).</p>
</td></tr>
<tr><td><code id="tuneCOXridge_+3A_group">group</code></td>
<td>
<p>The name of the variable related to the exposure/treatment. This variable shall have only two modalities encoded 0 for the untreated/unexposed patients and 1 for the treated/exposed ones. The default value is <code>NULL</code>: no specific exposure/treatment is considered. When a specific exposure/treatment is considered, it will be forced in the algorithm or related interactions will be tested when possible.</p>
</td></tr>
<tr><td><code id="tuneCOXridge_+3A_cov.quanti">cov.quanti</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible quantitative covariates. These variables must be numeric.</p>
</td></tr>
<tr><td><code id="tuneCOXridge_+3A_cov.quali">cov.quali</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible qualitative covariates. These variables must be numeric with two levels: 0 and 1. A complete disjunctive form must be used for covariates with more levels.</p>
</td></tr>
<tr><td><code id="tuneCOXridge_+3A_data">data</code></td>
<td>
<p>A data frame for training the model in which to look for the variables related to the status of the follow-up time (<code>times</code>), the event (<code>failures</code>), the optional treatment/exposure (<code>group</code>) and the covariables included in the previous model (<code>cov.quanti</code> and <code>cov.quali</code>).</p>
</td></tr>
<tr><td><code id="tuneCOXridge_+3A_cv">cv</code></td>
<td>
<p>The value of the number of folds. The default value is 10.</p>
</td></tr>
<tr><td><code id="tuneCOXridge_+3A_parallel">parallel</code></td>
<td>
<p>If <code>TRUE</code>, use parallel <code>foreach</code> to fit each fold. The default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="tuneCOXridge_+3A_lambda">lambda</code></td>
<td>
<p>The values of the regularization parameter lambda optimized over.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function runs the <code>cv.glmnet</code> function of the <code>glmnet</code> package.
</p>


<h3>Value</h3>

<table>
<tr><td><code>optimal</code></td>
<td>
<p>The value of lambda that gives the minimum mean cross-validated error.</p>
</td></tr>
<tr><td><code>results</code></td>
<td>
<p>The data frame with the mean cross-validated errors for each lambda values.</p>
</td></tr>
</table>


<h3>References</h3>

<p>Simon, N., Friedman, J., Hastie, T. and Tibshirani, R. (2011) Regularization Paths for Cox's Proportional Hazards Model via Coordinate Descent, Journal of Statistical Software, Vol. 39(5), 1-13, https://www.jstatsoft.org/v39/i05/
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(dataDIVAT2)

tune.model &lt;- tuneCOXridge(times="times", failures="failures", data=dataDIVAT2,
  cov.quanti=c("age"),  cov.quali=c("hla", "retransplant", "ecd"),
  cv=5, lambda=seq(0, 10, by=.1))

tune.model$optimal$lambda # the estimated lambda value

# The estimation of the training modelwith the corresponding lambda value
model &lt;- LIB_COXridge(times="times", failures="failures", data=dataDIVAT2,
  cov.quanti=c("age"),  cov.quali=c("hla", "retransplant", "ecd"),
  lambda=tune.model$optimal$lambda)

# The resulted predicted survival of the first subject of the training sample
plot(y=model$predictions[1,], x=model$times, xlab="Time (years)",
ylab="Predicted survival", col=1, type="l", lty=1, lwd=2, ylim=c(0,1))
</code></pre>

<hr>
<h2 id='tunePHspline'>
Tune a Survival Regression using the Royston/Parmar Spline Model
</h2><span id='topic+tunePHspline'></span>

<h3>Description</h3>

<p>This function finds the optimal number of knots of the spline function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tunePHspline(times, failures, group=NULL, cov.quanti=NULL, cov.quali=NULL,
data, cv=10, k)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tunePHspline_+3A_times">times</code></td>
<td>
<p>The name of the variable related the numeric vector with the follow-up times.</p>
</td></tr>
<tr><td><code id="tunePHspline_+3A_failures">failures</code></td>
<td>
<p>The name of the variable related the numeric vector with the event indicators (0=right censored, 1=event).</p>
</td></tr>
<tr><td><code id="tunePHspline_+3A_group">group</code></td>
<td>
<p>The name of the variable related to the exposure/treatment. This variable shall have only two modalities encoded 0 for the untreated/unexposed patients and 1 for the treated/exposed ones. The default value is <code>NULL</code>: no specific exposure/treatment is considered. When a specific exposure/treatment is considered, it will be forced in the algorithm or related interactions will be tested when possible.</p>
</td></tr>
<tr><td><code id="tunePHspline_+3A_cov.quanti">cov.quanti</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible quantitative covariates. These variables must be numeric.</p>
</td></tr>
<tr><td><code id="tunePHspline_+3A_cov.quali">cov.quali</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible qualitative covariates. These variables must be numeric with two levels: 0 and 1. A complete disjunctive form must be used for covariates with more levels.</p>
</td></tr>
<tr><td><code id="tunePHspline_+3A_data">data</code></td>
<td>
<p>A data frame for training the model in which to look for the variables related to the status of the follow-up time (<code>times</code>), the event (<code>failures</code>), the optional treatment/exposure (<code>group</code>) and the covariables included in the previous model (<code>cov.quanti</code> and <code>cov.quali</code>).</p>
</td></tr>
<tr><td><code id="tunePHspline_+3A_cv">cv</code></td>
<td>
<p>The value of the number of folds. The default value is 10.</p>
</td></tr>
<tr><td><code id="tunePHspline_+3A_k">k</code></td>
<td>
<p>The number of knots optimized over.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function runs the <code>flexsurvspline</code> function of the <code>flexsurv</code> package. The metric used in the cross-validation is the C-index.
</p>


<h3>Value</h3>

<table>
<tr><td><code>optimal</code></td>
<td>
<p>The value of <code>k</code> that gives the maximum mean cross-validated C-index.</p>
</td></tr>
<tr><td><code>results</code></td>
<td>
<p>The data frame with the mean cross-validated C-index according to <code>k</code>.</p>
</td></tr>
</table>


<h3>References</h3>

<p>Royston, P. and Parmar, M. (2002). Flexible parametric proportional-hazards and proportional odds models for censored survival data, with application to prognostic modelling and estimation of treatment effects. Statistics in Medicine 21(1):2175-2197. doi: 10.1002/sim.1203
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(dataDIVAT2)

# The estimation of the hyperparameters

tune.model &lt;- tunePHspline(times="times", failures="failures", data=dataDIVAT2[1:200,],
    cov.quanti=c("age"),  cov.quali=c("hla", "retransplant", "ecd"),
    cv=3, k=1:2)

# the estimated nodesize value

 tune.model$optimal
 tune.model$results

# The estimation of the training model with the corresponding lambda value

 model &lt;- LIB_PHspline(times="times", failures="failures", data=dataDIVAT2[1:200,],
   cov.quanti=c("age"),  cov.quali=c("hla", "retransplant", "ecd"),
   k=tune.model$optimal$k)

# The resulted predicted survival of the first subject of the training sample

plot(y=model$predictions[1,], x=model$times, xlab="Time (years)",
 ylab="Predicted survival", col=1, type="l", lty=1, lwd=2, ylim=c(0,1))
</code></pre>

<hr>
<h2 id='tuneRSF'>
Tune a Survival Random Forest
</h2><span id='topic+tuneRSF'></span>

<h3>Description</h3>

<p>This function finds the optimal nodesize, mtry, and ntree parameters for a survival random forest tree.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tuneRSF(times, failures, group=NULL, cov.quanti=NULL,
cov.quali=NULL, data, nodesize, mtry, ntree)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tuneRSF_+3A_times">times</code></td>
<td>
<p>The name of the variable related the numeric vector with the follow-up times.</p>
</td></tr>
<tr><td><code id="tuneRSF_+3A_failures">failures</code></td>
<td>
<p>The name of the variable related the numeric vector with the event indicators (0=right censored, 1=event).</p>
</td></tr>
<tr><td><code id="tuneRSF_+3A_group">group</code></td>
<td>
<p>The name of the variable related to the exposure/treatment. This variable shall have only two modalities encoded 0 for the untreated/unexposed patients and 1 for the treated/exposed ones. The default value is <code>NULL</code>: no specific exposure/treatment is considered. When a specific exposure/treatment is considered, it will be forced in the algorithm or related interactions will be tested when possible.</p>
</td></tr>
<tr><td><code id="tuneRSF_+3A_cov.quanti">cov.quanti</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible quantitative covariates. These variables must be numeric.</p>
</td></tr>
<tr><td><code id="tuneRSF_+3A_cov.quali">cov.quali</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible qualitative covariates. These variables must be numeric with two levels: 0 and 1. A complete disjunctive form must be used for covariates with more levels.</p>
</td></tr>
<tr><td><code id="tuneRSF_+3A_data">data</code></td>
<td>
<p>A data frame for training the model in which to look for the variables related to the status of the follow-up time (<code>times</code>), the event (<code>failures</code>), the optional treatment/exposure (<code>group</code>) and the covariables included in the previous model (<code>cov.quanti</code> and <code>cov.quali</code>).</p>
</td></tr>
<tr><td><code id="tuneRSF_+3A_nodesize">nodesize</code></td>
<td>
<p>The values of the node size optimized over.</p>
</td></tr>
<tr><td><code id="tuneRSF_+3A_mtry">mtry</code></td>
<td>
<p>The numbers of variables randomly sampled as candidates at each split optimized over.</p>
</td></tr>
<tr><td><code id="tuneRSF_+3A_ntree">ntree</code></td>
<td>
<p>The numbers of trees optimized over.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function runs the <code>tune.rfsrc</code> function of the <code>randomForestSRC</code> package.
</p>


<h3>Value</h3>

<table>
<tr><td><code>optimal</code></td>
<td>
<p>The value of lambda that gives the minimum mean cross-validated error.</p>
</td></tr>
<tr><td><code>results</code></td>
<td>
<p>The data frame with the mean cross-validated errors for each lambda values.</p>
</td></tr>
</table>


<h3>References</h3>

<p>Ishwaran H. and Kogalur U.B. (2007). Random survival forests for R, Rnews, 7(2):25-31.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(dataDIVAT2)

tune.model &lt;- tuneRSF(times="times", failures="failures", data=dataDIVAT2,
  cov.quanti=c("age"),  cov.quali=c("hla", "retransplant", "ecd"),
  nodesize=c(100, 250, 500), mtry=1, ntree=100)

tune.model$optimal # the estimated nodesize value

# The estimation of the training modelwith the corresponding lambda value
model &lt;- LIB_RSF(times="times", failures="failures", data=dataDIVAT2,
  cov.quanti=c("age"),  cov.quali=c("hla", "retransplant", "ecd"),
  nodesize=tune.model$optimal$nodesize, mtry=1, ntree=100)

# The resulted predicted survival of the first subject of the training sample
plot(y=model$predictions[1,], x=model$times, xlab="Time (years)",
ylab="Predicted survival", col=1, type="l", lty=1, lwd=2, ylim=c(0,1))
</code></pre>

<hr>
<h2 id='tuneSNN'>
Tune a 1-Layer Survival Neural Network
</h2><span id='topic+tuneSNN'></span>

<h3>Description</h3>

<p>This function finds the optimal n.nodes, decay, batch.size, and epochs parameters for a survival neural network.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tuneSNN(times, failures, group=NULL, cov.quanti=NULL, cov.quali=NULL,
data, cv=10, n.nodes, decay, batch.size, epochs)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tuneSNN_+3A_times">times</code></td>
<td>
<p>The name of the variable related the numeric vector with the follow-up times.</p>
</td></tr>
<tr><td><code id="tuneSNN_+3A_failures">failures</code></td>
<td>
<p>The name of the variable related the numeric vector with the event indicators (0=right censored, 1=event).</p>
</td></tr>
<tr><td><code id="tuneSNN_+3A_group">group</code></td>
<td>
<p>The name of the variable related to the exposure/treatment. This variable shall have only two modalities encoded 0 for the untreated/unexposed patients and 1 for the treated/exposed ones. The default value is <code>NULL</code>: no specific exposure/treatment is considered. When a specific exposure/treatment is considered, it will be forced in the algorithm or related interactions will be tested when possible.</p>
</td></tr>
<tr><td><code id="tuneSNN_+3A_cov.quanti">cov.quanti</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible quantitative covariates. These variables must be numeric.</p>
</td></tr>
<tr><td><code id="tuneSNN_+3A_cov.quali">cov.quali</code></td>
<td>
<p>The name(s) of the variable(s) related to the possible qualitative covariates. These variables must be numeric with two levels: 0 and 1. A complete disjunctive form must be used for covariates with more levels.</p>
</td></tr>
<tr><td><code id="tuneSNN_+3A_data">data</code></td>
<td>
<p>A data frame for training the model in which to look for the variables related to the status of the follow-up time (<code>times</code>), the event (<code>failures</code>), the optional treatment/exposure (<code>group</code>) and the covariables included in the previous model (<code>cov.quanti</code> and <code>cov.quali</code>).</p>
</td></tr>
<tr><td><code id="tuneSNN_+3A_cv">cv</code></td>
<td>
<p>The value of the number of folds. The default value is 10.</p>
</td></tr>
<tr><td><code id="tuneSNN_+3A_n.nodes">n.nodes</code></td>
<td>
<p>The number of hidden nodes optimized over.</p>
</td></tr>
<tr><td><code id="tuneSNN_+3A_decay">decay</code></td>
<td>
<p>The value of the weight decay optimized over.</p>
</td></tr>
<tr><td><code id="tuneSNN_+3A_batch.size">batch.size</code></td>
<td>
<p>The value of batch size</p>
</td></tr>
<tr><td><code id="tuneSNN_+3A_epochs">epochs</code></td>
<td>
<p>The value of epochs</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is based is based on the <code>deepsurv</code> from the <code>survivalmodels</code> package. You need to call Python using <code>reticulate</code>. In order to use it, the required Python packages must be installed with <code>reticulate::py_install</code>. Therefore, before running the present <code>LIB_SNN</code> function, you must install  and call for the <code>reticulate</code> and <code>survivalmodels</code> packages, and install <code>pycox</code> by using the following command: <code>install_pycox(pip = TRUE, install_torch = FALSE)</code>.  The <code>survivalSL</code> package functions without these supplementary installations if this learner is not included in the library.
</p>


<h3>Value</h3>

<table>
<tr><td><code>optimal</code></td>
<td>
<p>The value of <code>n.nodes</code>, <code>decay</code>, <code>batch.size</code>, and <code>epochs</code> that gives the maximum mean cross-validated C-index.</p>
</td></tr>
<tr><td><code>results</code></td>
<td>
<p>The data frame with the mean cross-validated C-index according to <code>n.nodes</code>, <code>decay</code>, <code>batch.size</code>, and <code>epochs</code>.</p>
</td></tr>
</table>


<h3>References</h3>

<p>Katzman et al.  DeepSurv: personalized treatment recommender system using a Cox proportional hazards deep neural network. BMC Medical Research Methodology, 18(1), 24. 1018.
</p>
<p>https://doi.org/10.1186/s12874-018-0482-1
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

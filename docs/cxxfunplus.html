<!DOCTYPE html><html><head><title>Help for package cxxfunplus</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {cxxfunplus}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#cxxdso-class'><p>Class <code>"cxxdso"</code></p></a></li>
<li><a href='#cxxfunctionplus'><p>To created an S4 class <code>cxxdso</code> from C++ code</p></a></li>
<li><a href='#cxxfunplus-package'>
<p>cxxfunplus: save the dynamic shared objects (DSO) for cxxfunction</p></a></li>
<li><a href='#getDynLib-methods'><p>Retrieve the dynamic library (or DLL) associated with</p>
an object of class <code>cxxdso</code></a></li>
<li><a href='#grab.cxxfun-methods'><p>Retrieve the functions object associated with</p>
an object of class <code>cxxdso</code></a></li>
<li><a href='#is.dso.loaded-methods'><p>Tell if a <code>cxxdso</code> object is loaded</p></a></li>
<li><a href='#is.null.cxxfun'><p>Tell if the address of functions created by <code>cxxfunction</code></p>
points to NULL</a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Extend 'cxxfunction' by Saving the Dynamic Shared Objects</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.2</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-08-22</td>
</tr>
<tr>
<td>Depends:</td>
<td>inline</td>
</tr>
<tr>
<td>Imports:</td>
<td>methods</td>
</tr>
<tr>
<td>Suggests:</td>
<td>Rcpp (&ge; 0.8.0)</td>
</tr>
<tr>
<td>Author:</td>
<td>Jiqiang Guo &lt;guojq28@gmail.com&gt;</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jiqiang Guo &lt;guojq28@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Extend 'cxxfunction' by saving the dynamic shared objects
        for reusing across R sessions.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/maverickg/cxxfunplus">https://github.com/maverickg/cxxfunplus</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-08-22 23:27:44 UTC; jq</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-08-23 02:30:02 UTC</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
</table>
<hr>
<h2 id='cxxdso-class'>Class <code>"cxxdso"</code></h2><span id='topic+cxxdso-class'></span>

<h3>Description</h3>

<p>An S4 class for saving the dynamic shared objects created on the fly
</p>


<h3>Objects from the Class</h3>

<p>Objects can be created by calls of <code>cxxfunctionplus</code>. 
</p>


<h3>Slots</h3>


<dl>
<dt><code>sig</code>:</dt><dd><p>Object of class <code>"list"</code> The signatures of functions defined.</p>
</dd>
<dt><code>dso.saved</code>:</dt><dd><p>Object of class <code>"logical"</code> Whether to save the DSO or not.</p>
</dd>
<dt><code>dso.filename</code>:</dt><dd><p>Object of class <code>"character"</code> The original file name for the DSO when it is created (no extension).</p>
</dd>
<dt><code>dso.bin</code>:</dt><dd><p>Object of class <code>"raw"</code> The raw vector containing the DSO if <code>dso.saved</code> is <code>TRUE</code></p>
</dd>
<dt><code>system</code>:</dt><dd><p>The operating system where the object is created.</p>
</dd> 
<dt><code>.MISC</code>:</dt><dd><p>Object of class <code>"environment"</code> An environment to
save the functions returned by <code>cxxfunction</code> with
name <code>cxxfun</code> and the last path for the DSO with
name <code>dso.last.path</code>.</p>
</dd>
</dl>



<h3>Methods</h3>


<dl>
<dt>grab.cxxfun</dt><dd><p><code>signature(object = "cxxdso")</code>: Return the function objects contained.</p>
</dd>
<dt>is.dso.loaded</dt><dd><p><code>signature(object = "cxxdso")</code>: Tell if the DSO (DLL) is loaded.</p>
</dd>
<dt>getDynLib</dt><dd><p><code>signature(x = "cxxdso")</code>: Obtain the DLL associated.</p>
</dd> 
</dl>



<h3>See Also</h3>

<p><code><a href="#topic+getDynLib">getDynLib</a></code>, <code><a href="#topic+grab.cxxfun">grab.cxxfun</a></code>, and 
<code><a href="#topic+cxxfunctionplus">cxxfunctionplus</a></code> 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>showClass("cxxdso")
</code></pre>

<hr>
<h2 id='cxxfunctionplus'>To created an S4 class <code>cxxdso</code> from C++ code</h2><span id='topic+cxxfunctionplus'></span>

<h3>Description</h3>

<p>This is a wrap-up of function <code>cxxfunction</code> in package <span class="pkg">inline</span>. 
Additionally, this function returns an object of class <code>cxxdso</code>,
which could be saved and reused across R sessions. All arguments except
<code>save.dso</code> are passed to function <code>cxxfunction</code>. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cxxfunctionplus(sig = character(), body = character(), 
                plugin = "default", includes = "", 
                settings = getPlugin(plugin), 
                save.dso = FALSE, ..., verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cxxfunctionplus_+3A_sig">sig</code></td>
<td>
<p>Signature of the function. A named character vector</p>
</td></tr>
<tr><td><code id="cxxfunctionplus_+3A_body">body</code></td>
<td>
<p>A character vector with C++ code to include in the body of the compiled C++ function</p>
</td></tr>
<tr><td><code id="cxxfunctionplus_+3A_plugin">plugin</code></td>
<td>
<p>Name of the plugin to use. See <code><a href="inline.html#topic+getPlugin">getPlugin</a></code> for details about plugins. </p>
</td></tr>
<tr><td><code id="cxxfunctionplus_+3A_includes">includes</code></td>
<td>
<p>User includes, inserted after the includes provided by the plugin. </p>
</td></tr>
<tr><td><code id="cxxfunctionplus_+3A_settings">settings</code></td>
<td>
<p>Result of the call to the plugin</p>
</td></tr>
<tr><td><code id="cxxfunctionplus_+3A_save.dso">save.dso</code></td>
<td>
<p>Determine whether to save the compiled code (DSO).</p>
</td></tr> 
<tr><td><code id="cxxfunctionplus_+3A_...">...</code></td>
<td>
<p>Further arguments to the plugin</p>
</td></tr>
<tr><td><code id="cxxfunctionplus_+3A_verbose">verbose</code></td>
<td>
<p>verbose output</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of S4 class <code>cxxdso</code>.</p>


<h3>See Also</h3>

<p><code><a href="inline.html#topic+cxxfunction">cxxfunction</a></code> and <code><a href="#topic+cxxdso-class">cxxdso</a></code> 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
src &lt;-  ' return ScalarReal(INTEGER(x)[0] * REAL(y)[0]);'
dso &lt;- cxxfunctionplus(signature(x = "integer", y = "numeric"), src)
show(dso)

## End(Not run)</code></pre>

<hr>
<h2 id='cxxfunplus-package'>
cxxfunplus: save the dynamic shared objects (DSO) for cxxfunction
</h2><span id='topic+cxxfunplus-package'></span><span id='topic+cxxfunplus'></span>

<h3>Description</h3>

<p>The cxxfunction function in <span class="pkg">inline</span> could not save 
the dynamic shared objects (DSO) created in a session. 
We provide a mechanism to save the DSO's if for 
example, <code>save.image</code> is called. 
</p>


<h3>Details</h3>

<p>Instead of calling cxxfunction in <span class="pkg">inline</span>, call <code>cxxfunctionplus</code> 
in this package, from which an S4 class of <code>cxxdso</code> is returned.  
We could use generic function <code>grab.cxxfun</code> of class <code>cxxdso</code>
to retrieve the functions typically returned by <code>cxxfunction</code>. 
</p>


<h3>Author(s)</h3>

<p>Jiqiang Guo &lt;guojq28@gmail.com&gt;
</p>
<p>Maintainer: Jiqiang Guo &lt;guojq28@gmail.com&gt;
</p>


<h3>See Also</h3>

<p><code><a href="#topic+cxxfunctionplus">cxxfunctionplus</a></code>, 
<code><a href="inline.html#topic+inline-package">inline</a></code>
</p>

<hr>
<h2 id='getDynLib-methods'>Retrieve the dynamic library (or DLL) associated with 
an object of class <code>cxxdso</code></h2><span id='topic+getDynLib'></span><span id='topic+getDynLib-methods'></span><span id='topic+getDynLib+2Ccxxdso-method'></span>

<h3>Description</h3>

<p>The <code>getDynLib</code> function retrieves the dynamic library (or DLL)
associated with objects of class <code>cxxdso</code> generated by
<code><a href="#topic+cxxfunctionplus">cxxfunctionplus</a></code>
</p>


<h3>Methods</h3>


<dl>
<dt><code>signature(x = "cxxdso")</code></dt><dd><p>Retrieves the dynamic
library associated with the <code>cxxdso</code> objects generated by
<code><a href="#topic+cxxfunctionplus">cxxfunctionplus</a></code>.</p>
</dd>  
</dl>


<h3>See Also</h3>

<p><code><a href="base.html#topic+getLoadedDLLs">getLoadedDLLs</a></code>, <code><a href="base.html#topic+dyn.load">dyn.load</a></code>, 
<code><a href="#topic+cxxdso-class">cxxdso</a></code>, and 
<code><a href="inline.html#topic+getDynLib">getDynLib</a></code> in <span class="pkg">inline</span>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
dso &lt;- cxxfunctionplus(signature(), "return R_NilValue;")
dll &lt;- getDynLib(dso)

## End(Not run)</code></pre>

<hr>
<h2 id='grab.cxxfun-methods'>Retrieve the functions object associated with 
an object of class <code>cxxdso</code></h2><span id='topic+grab.cxxfun'></span><span id='topic+grab.cxxfun-methods'></span><span id='topic+grab.cxxfun+2Ccxxdso-method'></span>

<h3>Description</h3>

<p>The <code>grab.cxxfun</code> function retrieves the function object
associated with objects of class <code>cxxdso</code> generated by
<code><a href="#topic+cxxfunctionplus">cxxfunctionplus</a></code>
</p>


<h3>Methods</h3>


<dl>
<dt><code>signature(x = "cxxdso")</code></dt><dd><p>Retrieves the function object
associated with the <code>cxxdso</code> objects generated by
<code><a href="#topic+cxxfunctionplus">cxxfunctionplus</a></code>.</p>
</dd>  
</dl>


<h3>See Also</h3>

<p><code>cxxfunctionplus</code>, <code><a href="#topic+cxxdso-class">cxxdso</a></code> </p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
dso &lt;- cxxfunctionplus(signature(), "return R_NilValue;")
fx &lt;- grab.cxxfun(dso)
fx()

## End(Not run)</code></pre>

<hr>
<h2 id='is.dso.loaded-methods'>Tell if a <code>cxxdso</code> object is loaded</h2><span id='topic+is.dso.loaded'></span><span id='topic+is.dso.loaded-methods'></span><span id='topic+is.dso.loaded+2Ccxxdso-method'></span>

<h3>Description</h3>

<p>The <code>is.dso.loaded</code> function tell if the dynamic shared object (DSO, or DLL) in 
an object of <code>cxxdso</code>, created by function <code><a href="#topic+cxxfunctionplus">cxxfunctionplus</a></code>, 
is loaded. 
</p>


<h3>Methods</h3>


<dl>
<dt><code>signature(x = "cxxdso")</code></dt><dd><p>Tell if a <code>cxxdso</code> object is 
loaded in the sense that the contained DSO is loaded or not.</p>
</dd></dl>



<h3>See Also</h3>

<p><code><a href="#topic+cxxdso-class">cxxdso</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
dso &lt;- cxxfunctionplus(signature(), "return R_NilValue ;")
print(is.dso.loaded(dso))

## End(Not run)</code></pre>

<hr>
<h2 id='is.null.cxxfun'>Tell if the address of functions created by <code>cxxfunction</code> 
points to NULL</h2><span id='topic+is.null.cxxfun'></span>

<h3>Description</h3>

<p>The function object returned by <code>cxxfunction</code> cannot be 
saved across R sessions. This function can be used to see
if we still have a valid function object. Also this function 
can be used for functions returned by <code>grab.cxxfun</code>
of S4 class <code>cxxdso</code> since these functions are essentially
created by <code>cxxfunction</code> or similarly. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.null.cxxfun(cx)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is.null.cxxfun_+3A_cx">cx</code></td>
<td>
<p>A function of class <code>CFunc</code>
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>R could not save the function objects that point to dynamically loaded
functions, especially for those function created on the fly using package
<span class="pkg">inline</span> at least for one reason that those DSO's are deleted after
quitting R. So it is always safe to tell if it is valid before call functions
created by <code>cxxfunction</code>. 
</p>


<h3>Value</h3>

<p>Logical: <code>TRUE</code> null pointer; <code>FALSE</code>, not 
null, this function can still be called. 
</p>


<h3>See Also</h3>

<p><code><a href="inline.html#topic+cxxfunction">cxxfunction</a></code> 
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

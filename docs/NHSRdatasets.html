<!DOCTYPE html><html lang="en-GB"><head><title>Help for package NHSRdatasets</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {NHSRdatasets}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#ae_attendances'><p>NHS England Accident &amp; Emergency Attendances and Admissions</p></a></li>
<li><a href='#LOS_model'><p>Hospital Length of Stay (LOS) Data</p></a></li>
<li><a href='#ons_mortality'><p>Deaths registered weekly in England and Wales, provisional</p></a></li>
<li><a href='#stranded_data'><p>Stranded Patient (Patients flagged as having a greater than 7 day LOS) Model</p></a></li>
<li><a href='#synthetic_news_data'><p>Synthetic National Early Warning Scores Data</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>NHS and Healthcare-Related Data for Education and Training</td>
</tr>
<tr>
<td>Date:</td>
<td>2021-03-09</td>
</tr>
<tr>
<td>Version:</td>
<td>0.3.0</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Chris Mainey &lt;c.mainey@nhs.net&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Free United Kingdom National Health Service (NHS) and other healthcare, or population health-related data for education and training purposes. This package contains synthetic data based on real healthcare datasets, or cuts of open-licenced official data.  This package exists to support skills development in the NHS-R community: <a href="https://nhsrcommunity.com/">https://nhsrcommunity.com/</a>.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://creativecommons.org/publicdomain/zero/1.0/legalcode">CC0</a></td>
</tr>
<tr>
<td>Language:</td>
<td>en-GB</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/nhs-r-community/NHSRdatasets/issues">https://github.com/nhs-r-community/NHSRdatasets/issues</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>tibble</td>
</tr>
<tr>
<td>Suggests:</td>
<td>dplyr, caret, e1071, readr, lattice, magrittr, varhandle,
rsample, ggplot2, lme4, MASS, ModelMetrics, lmtest, rmarkdown,
scales, ggrepel, lubridate, tidyr, forcats, knitr, janitor,
stringi, synthpop</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/nhs-r-community/NHSRdatasets">https://github.com/nhs-r-community/NHSRdatasets</a>,
<a href="https://nhs-r-community.github.io/NHSRdatasets/">https://nhs-r-community.github.io/NHSRdatasets/</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-03-11 08:09:48 UTC; Christopher</td>
</tr>
<tr>
<td>Author:</td>
<td>Gary Hutson [aut],
  Tom Jemmett <a href="https://orcid.org/0000-0002-6943-2990"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Chris Mainey <a href="https://orcid.org/0000-0002-3018-6171"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Zoë Turner [aut],
  NHS-R community [cph]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-03-14 00:00:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='ae_attendances'>NHS England Accident &amp; Emergency Attendances and Admissions</h2><span id='topic+ae_attendances'></span>

<h3>Description</h3>

<p>Reported attendances, 4 hour breaches and admissions for all A&amp;E departments
in England for the years 2016/17 through 2018/19 (Apr-Mar). The data has been
tidied to be easily usable within the tidyverse of packages.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(ae_attendances)
</code></pre>


<h3>Format</h3>

<p>Tibble with six columns
</p>

<dl>
<dt>period</dt><dd><p>The month that this data relates to</p>
</dd>
<dt>org_code</dt><dd><p>The <a href="https://digital.nhs.uk/services/organisation-data-service">ODS</a> code for this provider</p>
</dd>
<dt>type</dt><dd><p>The <a href="https://web.archive.org/web/20200128111444/https://www.datadictionary.nhs.uk/data_dictionary/attributes/a/acc/accident_and_emergency_department_type_de.asp">department type</a>.
either 1, 2 or other</p>
</dd>
<dt>attendances</dt><dd><p>the number of patients who attended this department in this month</p>
</dd>
<dt>breaches</dt><dd><p>the number of patients who breaches the 4 hour target in this month</p>
</dd>
<dt>admissions</dt><dd><p>the number of patients admitted from A&amp;E to the hospital in this month</p>
</dd>
</dl>



<h3>Details</h3>

<p>Data sourced from <a href="https://www.england.nhs.uk/statistics/statistical-work-areas/ae-waiting-times-and-activity/">NHS England Statistical Work Areas</a>
which is available under the <a href="https://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/">Open Government Licence v3.0</a>
</p>


<h3>Source</h3>

<p><a href="https://www.england.nhs.uk/statistics/statistical-work-areas/ae-waiting-times-and-activity/">NHS England Statistical Work Areas</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(ae_attendances)
library(dplyr)
library(ggplot2)
library(scales)

# Create a plot of the performance for England over time
ae_attendances %&gt;%
  group_by(period) %&gt;%
  summarise_at(vars(attendances, breaches), sum) %&gt;%
  mutate(performance = 1 - breaches / attendances) %&gt;%
  ggplot(aes(period, performance)) +
  geom_hline(yintercept = 0.95, linetype = "dashed") +
  geom_line() +
  geom_point() +
  scale_y_continuous(labels = percent) +
  labs(title = "4 Hour performance over time")

# Now produce a plot showing the performance of each trust
ae_attendances %&gt;%
  group_by(org_code) %&gt;%
  # select organisations that have a type 1 department
  filter(any(type == "1")) %&gt;%
  summarise_at(vars(attendances, breaches), sum) %&gt;%
  arrange(desc(attendances)) %&gt;%
  mutate(performance = 1 - breaches / attendances,
         overall_performance = 1 - sum(breaches) / sum(attendances),
         rank = rank(-performance, ties.method = "first") / n()) %&gt;%
  ggplot(aes(rank, performance)) +
  geom_vline(xintercept = c(0.25, 0.5, 0.75), linetype = "dotted") +
  geom_hline(yintercept = 0.95, colour = "red") +
  geom_hline(aes(yintercept = overall_performance), linetype = "dotted") +
  geom_point() +
  scale_y_continuous(labels = percent) +
  theme_minimal() +
  theme(panel.grid = element_blank(),
        axis.text.x = element_blank()) +
  labs(title = "4 Hour performance by trust",
       subtitle = "Apr-16 through Mar-19",
       x = "", y = "")

</code></pre>

<hr>
<h2 id='LOS_model'>Hospital Length of Stay (LOS) Data</h2><span id='topic+LOS_model'></span>

<h3>Description</h3>

<p>Artificially generated hospital data. Fictional patients at 10 fictional hospitals, with LOS, Age and Date status data
Data were generate to learn Generalized Linear Models (GLM) concepts, modelling either Death or LOS.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(LOS_model)
</code></pre>


<h3>Format</h3>

<p>Data frame with five columns
</p>

<dl>
<dt>ID</dt><dd><p>A fictional patient ID number</p>
</dd>
<dt>Organisation</dt><dd><p>A factor representing one of ten fictional hospital trusts, e.g. Trust1</p>
</dd>
<dt>Age</dt><dd><p>Age in years of each fictional patient</p>
</dd>
<dt>LOS</dt><dd><p>In-hospital length of stay in days.  The difference between admission and discharge date in dates</p>
</dd>
<dt>Death</dt><dd><p>Binary for death status: 0 = survived, 1= died in hospital</p>
</dd>
</dl>



<h3>Source</h3>

<p>Generated by Chris Mainey <a href="mailto:chris.mainey@uhb.nhs.uk">chris.mainey@uhb.nhs.uk</a>, Feb-2019
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(LOS_model)

model1 &lt;- glm(Death ~ Age + LOS, data=LOS_model, family="binomial")
summary(model1)

# Now with an Age, LOS, and Age*LOS interaction.
model2&lt;- glm(Death ~ Age * LOS, data=LOS_model, family="binomial")
summary(model2)

</code></pre>

<hr>
<h2 id='ons_mortality'>Deaths registered weekly in England and Wales, provisional</h2><span id='topic+ons_mortality'></span>

<h3>Description</h3>

<p>Provisional counts of the number of deaths registered in England and Wales, by age, sex and region, in the latest weeks for which data are available.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(ons_mortality)
</code></pre>


<h3>Format</h3>

<p>Data frame with five columns
</p>

<dl>
<dt>category_1</dt><dd><p>character, containing the names of the groups for counts, e.g. &quot;Total deaths&quot;, &quot;all ages&quot;.</p>
</dd>
<dt>category_2</dt><dd><p>character, subcategory of names of groups where necessary, e.g. details of region: &quot;East&quot;, details of age bands &quot;15-44&quot;.</p>
</dd>
<dt>counts</dt><dd><p>numeric, numbers of deaths in whole numbers and average numbers with decimal points. To retain the integrity of the format this column data is left as character.</p>
</dd>
<dt>date</dt><dd><p>date, format is yyyy-mm-dd; all dates are a Friday.</p>
</dd>
<dt>week_no</dt><dd><p>integer, each week in a year is numbered sequentially.</p>
</dd>
</dl>



<h3>Details</h3>

<p>Source and licence acknowledgement
This data has been made available through Office of National Statistics under the Open Government
Licence <a href="http://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/">http://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/</a>
</p>


<h3>Source</h3>

<p>Collected by Zoë Turner <a href="mailto:zoe.turner2@nottshc.nhs.uk">zoe.turner2@nottshc.nhs.uk</a>, Apr-2020 from <a href="https://www.ons.gov.uk/peoplepopulationandcommunity/birthsdeathsandmarriages/deaths/datasets/weeklyprovisionalfiguresondeathsregisteredinenglandandwales">https://www.ons.gov.uk/peoplepopulationandcommunity/birthsdeathsandmarriages/deaths/datasets/weeklyprovisionalfiguresondeathsregisteredinenglandandwales</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(ons_mortality)

library(dplyr)
library(tidyr)

wideForm &lt;- ons_mortality %&gt;%
 select(-week_no) %&gt;%
 pivot_wider(names_from = date,
             values_from = counts
 )

</code></pre>

<hr>
<h2 id='stranded_data'>Stranded Patient (Patients flagged as having a greater than 7 day LOS) Model</h2><span id='topic+stranded_data'></span>

<h3>Description</h3>

<p>This model is to be used as a machine learning classification model, for supervised learning. The binary outcome is stranded vs not stranded patients.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(stranded_data)
</code></pre>


<h3>Format</h3>

<p>Tibble with nine columns (1 x outcome and 8 predictors)
</p>

<dl>
<dt>stranded.label</dt><dd><p>Outcome variable - whether the patient is stranded or not</p>
</dd>
<dt>age</dt><dd><p>Patient age on admission</p>
</dd>
<dt>care.home.referral</dt><dd><p>Whether than have been referred from a care home</p>
</dd>
<dt>medicallysafe</dt><dd><p>Medically safe for discharge - means the patient is assessed as safe, but has not been discharged yet</p>
</dd>
<dt>hcop</dt><dd><p>Indicates whether they have been triaged from a Health Care for Older People specialty</p>
</dd>
<dt>mental_health_care</dt><dd><p>Flag to indicate whether they need mental health support and care</p>
</dd>
<dt>periods_of_previous_care</dt><dd><p>Count of the number of previous spells of care</p>
</dd>
<dt>admit_date</dt><dd><p>Date they were admitted to hospital</p>
</dd>
<dt>frailty_index</dt><dd><p>An initial index assessment to say if the patient is frail or not. This is needed for alignment of service provision.</p>
</dd>
</dl>



<h3>Source</h3>

<p>Synthetically generated by Gary Hutson <a href="mailto:g.hutson@nhs.net">g.hutson@nhs.net</a>, Mar-2021.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(magrittr)
library(dplyr)
data("stranded_data")
stranded_data %&gt;%
 glimpse()

</code></pre>

<hr>
<h2 id='synthetic_news_data'>Synthetic National Early Warning Scores Data</h2><span id='topic+synthetic_news_data'></span>

<h3>Description</h3>

<p>Synthetic NEWS data to show as the results of the NHSR_synpop package.
These datasets have been synthetically generated by this package to be utilised in the NHSRDatasets package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(synthetic_news_data)
</code></pre>


<h3>Format</h3>

<p>Tibble with twelve columns
</p>

<dl>
<dt>male</dt><dd><p>character string containing gender code</p>
</dd>
<dt>age</dt><dd><p>age of patient</p>
</dd>
<dt>NEWS</dt><dd><p>National Early Warning Score (NEWS)</p>
</dd>
<dt>syst</dt><dd><p>Systolic BP - Systolic BP result</p>
</dd>
<dt>dias</dt><dd><p>Diastolic Blood Pressure - result on NEWS scale</p>
</dd>
<dt>temp</dt><dd><p>Temperature of patient</p>
</dd>
<dt>pulse</dt><dd><p>Pulse of the patient</p>
</dd>
<dt>resp</dt><dd><p>Level of response from the patient</p>
</dd>
<dt>sat</dt><dd><p>SATS(Oxygen Saturation Levels) of the patient</p>
</dd>
<dt>sup</dt><dd><p>Suppressed Oxygen score</p>
</dd>
<dt>alert</dt><dd><p>Level of alertness of patient</p>
</dd>
<dt>died</dt><dd><p>Indicator to monitor patient death</p>
</dd>
</dl>



<h3>Source</h3>

<p>Generated by Dr. Muhammed Faisal and created by Gary Hutson <a href="mailto:g.hutson@nhs.net">g.hutson@nhs.net</a>, Mar-2021
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(magrittr)
library(dplyr)
data("synthetic_news_data")
synthetic_news_data %&gt;%
 glimpse()
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

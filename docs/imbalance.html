<!DOCTYPE html><html><head><title>Help for package imbalance</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {imbalance}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#banana'><p>Binary banana dataset</p></a></li>
<li><a href='#ecoli1'><p>Imbalanced binary ecoli protein localization sites</p></a></li>
<li><a href='#glass0'><p>Imbalanced binary glass identification</p></a></li>
<li><a href='#haberman'><p>Haberman's survival data</p></a></li>
<li><a href='#imbalance'><p>imabalance: A package to treat imbalanced datasets</p></a></li>
<li><a href='#imbalanceRatio'><p>Compute imbalance ratio of a binary dataset</p></a></li>
<li><a href='#iris0'><p>Imbalanced binary iris dataset</p></a></li>
<li><a href='#mwmote'><p>Majority weighted minority oversampling technique for imbalance dataset</p>
learning</a></li>
<li><a href='#neater'><p>Fitering of oversampled data based on non-cooperative game theory</p></a></li>
<li><a href='#newthyroid1'><p>Imbalanced binary thyroid gland data</p></a></li>
<li><a href='#oversample'><p>Wrapper that encapsulates a collection of algorithms to perform a class</p>
balancing preprocessing task for binary class datasets</a></li>
<li><a href='#pdfos'><p>Probability density function estimation based oversampling</p></a></li>
<li><a href='#plotComparison'><p>Plots comparison between the original and the new balanced dataset.</p></a></li>
<li><a href='#racog'><p>Rapidly converging Gibbs algorithm.</p></a></li>
<li><a href='#rwo'><p>Random walk oversampling</p></a></li>
<li><a href='#trainWrapper'><p>Generic methods to train classifiers</p></a></li>
<li><a href='#wisconsin'><p>Imbalanced binary breast cancer Wisconsin dataset</p></a></li>
<li><a href='#wracog'><p>Wrapper for rapidly converging Gibbs algorithm.</p></a></li>
<li><a href='#yeast4'><p>Imbalanced binary yeast protein localization sites</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Preprocessing Algorithms for Imbalanced Datasets</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.2.1</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Ignacio Cordón &lt;nacho.cordon.castillo@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Class imbalance usually damages the performance of classifiers. Thus, it is
             important to treat data before applying a classifier algorithm. This package
             includes recent resampling algorithms in the literature: (Barua et al. 2014)
             &lt;<a href="https://doi.org/10.1109%2Ftkde.2012.232">doi:10.1109/tkde.2012.232</a>&gt;; (Das et al. 2015) &lt;<a href="https://doi.org/10.1109%2Ftkde.2014.2324567">doi:10.1109/tkde.2014.2324567</a>&gt;,
             (Zhang et al. 2014) &lt;<a href="https://doi.org/10.1016%2Fj.inffus.2013.12.003">doi:10.1016/j.inffus.2013.12.003</a>&gt;; (Gao et al. 2014)
             &lt;<a href="https://doi.org/10.1016%2Fj.neucom.2014.02.006">doi:10.1016/j.neucom.2014.02.006</a>&gt;; (Almogahed et al. 2014)
             &lt;<a href="https://doi.org/10.1007%2Fs00500-014-1484-5">doi:10.1007/s00500-014-1484-5</a>&gt;. It also includes an useful interface to
             perform oversampling.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> | file LICENSE [expanded from: GPL (&ge; 2) | file LICENSE]</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="http://github.com/ncordon/imbalance/issues">http://github.com/ncordon/imbalance/issues</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="http://github.com/ncordon/imbalance">http://github.com/ncordon/imbalance</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.3.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>bnlearn, KernelKnn, ggplot2, utils, stats, mvtnorm, Rcpp,
smotefamily, FNN, C50</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, knitr, rmarkdown</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.0.2</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp, RcppArmadillo</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-03-30 12:10:40 UTC; hornik</td>
</tr>
<tr>
<td>Author:</td>
<td>Ignacio Cordón [aut, cre],
  Salvador García [aut],
  Alberto Fernández [aut],
  Francisco Herrera [aut]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-04-07 06:51:44 UTC</td>
</tr>
</table>
<hr>
<h2 id='banana'>Binary banana dataset</h2><span id='topic+banana'></span><span id='topic+banana_orig'></span>

<h3>Description</h3>

<p>Dataset containing two attributes as well as a class one, that, if plotted, represent
a banana shape
</p>


<h3>Usage</h3>

<pre><code class='language-R'>banana

banana_orig
</code></pre>


<h3>Format</h3>


<dl>
<dt>At1</dt><dd><p>First attribute.</p>
</dd>
<dt>At2</dt><dd><p>Second attribute.</p>
</dd>
<dt>Class</dt><dd><p>Two possible classes: positive (banana shape), negative (surrounding
of the banana).</p>
</dd>
</dl>


<h3>Shape</h3>

<p><code>banana</code>: A data frame with 2640 instances, 264 of which belong to positive class,
and 3 variables
</p>
<p><code>banana_orig</code>: A data frame with 5300 instances, 2376 of which belong to positive
class, and 3 variables:
</p>


<h3>Source</h3>

<p><a href="http://sci2s.ugr.es/keel/datasets.php">KEEL Repository</a>.
</p>

<hr>
<h2 id='ecoli1'>Imbalanced binary ecoli protein localization sites</h2><span id='topic+ecoli1'></span>

<h3>Description</h3>

<p>Imbalanced binary dataset containing protein traits for predicting their cellular
localization sites.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ecoli1
</code></pre>


<h3>Format</h3>

<p>A data frame with 336 instances, 77 of which belong to positive class,
and 8 variables:
</p>

<dl>
<dt>Mcg</dt><dd><p>McGeoch's method for signal sequence recognition.
Continuous attribute.</p>
</dd>
<dt>Gvh</dt><dd><p>Von Heijne's method for signal sequence recognition.
Continuous attribute.</p>
</dd>
<dt>Lip</dt><dd><p>von Heijne's Signal Peptidase II consensus sequence score.
Discrete attribute.</p>
</dd>
<dt>Chg</dt><dd><p>Presence of charge on N-terminus of predicted lipoproteins.
Discrete attribute.</p>
</dd>
<dt>Aac</dt><dd><p>Score of discriminant analysis of the amino acid content of outer
membrane and periplasmic proteins. Continuous attribute.</p>
</dd>
<dt>Alm1</dt><dd><p>Score of the ALOM membrane spanning region prediction program.
Continuous attribute.</p>
</dd>
<dt>Alm2</dt><dd><p>score of ALOM program after excluding putative cleavable signal
regions from the sequence. Continuous attribute.</p>
</dd>
<dt>Class</dt><dd><p>Two possible classes: positive (type im), negative (the rest).</p>
</dd>
</dl>


<h3>Source</h3>

<p><a href="http://sci2s.ugr.es/keel/datasets.php">KEEL Repository</a>.
</p>


<h3>See Also</h3>

<p>Original available in <a href="https://archive.ics.uci.edu/ml">UCI ML Repository</a>.
</p>

<hr>
<h2 id='glass0'>Imbalanced binary glass identification</h2><span id='topic+glass0'></span>

<h3>Description</h3>

<p>Imbalanced binary classification dataset containing variables to
identify types of glass.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>glass0
</code></pre>


<h3>Format</h3>

<p>A data frame with 214 instances, 70 of which belong to positve class,
and 10 variables:
</p>

<dl>
<dt>RI</dt><dd><p>Refractive Index. Continuous attribute.</p>
</dd>
<dt>Na</dt><dd><p>Sodium, weight percent in component. Continuous attribute.</p>
</dd>
<dt>Mg</dt><dd><p>Magnesium, weight percent in component. Continuous attribute.</p>
</dd>
<dt>Al</dt><dd><p>Aluminum, weight percent in component. Continuous attribute.</p>
</dd>
<dt>Si</dt><dd><p>Silicon, weight percent in component. Continuous attribute.</p>
</dd>
<dt>K</dt><dd><p>Potasium, weight percent in component. Continuous attribute.</p>
</dd>
<dt>Ca</dt><dd><p>Calcium, weight percent in component. Continuous attribute.</p>
</dd>
<dt>Ba</dt><dd><p>Barium, weight percent in component. Continuous attribute.</p>
</dd>
<dt>Fe</dt><dd><p>Iron, weight percent in component. Continuous attribute.</p>
</dd>
<dt>Class</dt><dd><p>Two possible glass types: positive (building windows, float processed)
and negative (the rest).</p>
</dd>
</dl>


<h3>Source</h3>

<p><a href="http://sci2s.ugr.es/keel/datasets.php">KEEL Repository</a>.
</p>


<h3>See Also</h3>

<p>Original available in <a href="https://archive.ics.uci.edu/ml">UCI ML Repository</a>.
</p>

<hr>
<h2 id='haberman'>Haberman's survival data</h2><span id='topic+haberman'></span>

<h3>Description</h3>

<p>The dataset contains cases from a study that was conducted between
1958 and 1970 at the University of Chicago's Billings Hospital on
the survival of patients who had undergone surgery for breast
cancer.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>haberman
</code></pre>


<h3>Format</h3>

<p>A data frame with 306 instances, 81 of which belong to positive class,
and 4 variables:
</p>

<dl>
<dt>Age</dt><dd><p>Age of patient at time of operation. Discrete attribute.</p>
</dd>
<dt>Year</dt><dd><p>Patient's year of operation. Discrete attribute.</p>
</dd>
<dt>Positive</dt><dd><p>Number of positive axillary nodes detected. Discrete attribute.</p>
</dd>
<dt>Class</dt><dd><p>Two possible survival status: positive(survival rate of less than 5 years),
negative (survival rate or more than 5 years).</p>
</dd>
</dl>


<h3>Source</h3>

<p><a href="http://sci2s.ugr.es/keel/datasets.php">KEEL Repository</a>.
</p>


<h3>See Also</h3>

<p>Original available in <a href="https://archive.ics.uci.edu/ml">UCI ML Repository</a>.
</p>

<hr>
<h2 id='imbalance'>imabalance: A package to treat imbalanced datasets</h2><span id='topic+imbalance'></span>

<h3>Description</h3>

<p>Focused on binary class datasets, the <code>imbalance</code> package provides
methods to generate synthetic examples and achieve balance between the
minority and majority classes in dataset distributions
</p>


<h3>Oversampling</h3>

<p>Methods to oversample the minority class: <code><a href="#topic+racog">racog</a></code>,
<code><a href="#topic+wracog">wracog</a></code>, <code><a href="#topic+rwo">rwo</a></code>, <code><a href="#topic+pdfos">pdfos</a></code>,
<code><a href="#topic+mwmote">mwmote</a></code>
</p>


<h3>Evaluation</h3>

<p>Method to measure imbalance ratio in a given two-class dataset:
<code><a href="#topic+imbalanceRatio">imbalanceRatio</a></code>.
</p>
<p>Method to visually evaluate algorithms: <code><a href="#topic+plotComparison">plotComparison</a></code>.
</p>


<h3>Filtering</h3>

<p>Methods to filter oversampled instances <code><a href="#topic+neater">neater</a></code>.
</p>

<hr>
<h2 id='imbalanceRatio'>Compute imbalance ratio of a binary dataset</h2><span id='topic+imbalanceRatio'></span>

<h3>Description</h3>

<p>Given a two-class dataset, it computes its imbalance ratio as {Size of
minority class}/{Size of majority class}
</p>


<h3>Usage</h3>

<pre><code class='language-R'>imbalanceRatio(dataset, classAttr = "Class")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="imbalanceRatio_+3A_dataset">dataset</code></td>
<td>
<p>A target <code>data.frame</code> to compute its imbalance ratio</p>
</td></tr>
<tr><td><code id="imbalanceRatio_+3A_classattr">classAttr</code></td>
<td>
<p>A <code>character</code> containing the class name attribute.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A real number in [0,1] representing the imbalance ratio of
<code>dataset</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(glass0)

imbalanceRatio(glass0, classAttr = "Class")
</code></pre>

<hr>
<h2 id='iris0'>Imbalanced binary iris dataset</h2><span id='topic+iris0'></span>

<h3>Description</h3>

<p>Modification of <code><a href="datasets.html#topic+iris">iris</a></code> dataset. Measurements in
centimeters of the variables sepal length and width and petal length and
width, respectively, for 50 flowers from each of 3 species of iris. The
possible classifications are positive (setosa) and negative (versicolor +
virginica).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>iris0
</code></pre>


<h3>Format</h3>

<p>A data frame with 150 instances, 50 of which belong to positive class,
and 5 variables:
</p>

<dl>
<dt>SepalLength</dt><dd><p>Measurement of sepal length, in cm. Continuous attribute.</p>
</dd>
<dt>SepalWidth</dt><dd><p>Measurement of sepal width, in cm. Continuous attribute.</p>
</dd>
<dt>PetalLength</dt><dd><p>Measurement of petal length, in cm. Continuous attribute.</p>
</dd>
<dt>PetalWidth</dt><dd><p>Measurement of petal width, in cm. Continuous attribute.</p>
</dd>
<dt>Class</dt><dd><p>Two possible classes: positive (setosa) and negative (versicolor +
virginica).</p>
</dd>
</dl>


<h3>Source</h3>

<p><a href="http://sci2s.ugr.es/keel/datasets.php">KEEL Repository</a>.
</p>

<hr>
<h2 id='mwmote'>Majority weighted minority oversampling technique for imbalance dataset
learning</h2><span id='topic+mwmote'></span>

<h3>Description</h3>

<p>Modification for SMOTE technique which overcomes some of the problems of the
SMOTE technique when there are noisy instances, in which case SMOTE would
generate more noisy instances out of them.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mwmote(
  dataset,
  numInstances,
  kNoisy = 5,
  kMajority = 3,
  kMinority,
  threshold = 5,
  cmax = 2,
  cclustering = 3,
  classAttr = "Class"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mwmote_+3A_dataset">dataset</code></td>
<td>
<p><code>data.frame</code> to treat. All columns, except
<code>classAttr</code> one, have to be numeric or coercible to numeric.</p>
</td></tr>
<tr><td><code id="mwmote_+3A_numinstances">numInstances</code></td>
<td>
<p>Integer. Number of new minority examples to generate.</p>
</td></tr>
<tr><td><code id="mwmote_+3A_knoisy">kNoisy</code></td>
<td>
<p>Integer. Parameter of euclidean KNN to detect noisy examples as
those whose whole kNoisy-neighbourhood is from the opposite class.</p>
</td></tr>
<tr><td><code id="mwmote_+3A_kmajority">kMajority</code></td>
<td>
<p>Integer. Parameter of euclidean KNN to detect majority
borderline examples as those who are in any kMajority-neighbourhood of
minority instances. Should be a low integer.</p>
</td></tr>
<tr><td><code id="mwmote_+3A_kminority">kMinority</code></td>
<td>
<p>Integer. Parameter of euclidean KNN to detect minority
borderline examples as those who are in the KMinority-neighbourhood of
majority borderline ones. It should be a large integer. By default if not
parameter is fed to the function, <code class="reqn">|S^{+}|/2</code> where <code class="reqn">S^{+}</code> is the
set of minority examples.</p>
</td></tr>
<tr><td><code id="mwmote_+3A_threshold">threshold</code></td>
<td>
<p>Numeric. A positive real indicating how much we measure
tolerance of closeness to the boundary of minority boundary examples. A
large integer indicates more margin of distance for a example to be
considerated important boundary one.</p>
</td></tr>
<tr><td><code id="mwmote_+3A_cmax">cmax</code></td>
<td>
<p>Numeric. A positive real indicating how much we measure tolerance
of closeness to the boundary of minority boundary examples. The larger this
number, the more we are valuing boundary examples.</p>
</td></tr>
<tr><td><code id="mwmote_+3A_cclustering">cclustering</code></td>
<td>
<p>Numeric. A positive real for tuning the output of an
internal clustering. The larger this parameter, the more area focused is
going to be the oversampling.</p>
</td></tr>
<tr><td><code id="mwmote_+3A_classattr">classAttr</code></td>
<td>
<p><code>character</code>. Indicates the class attribute from
<code>dataset</code>. Must exist in it.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>data.frame</code> with the same structure as <code>dataset</code>,
containing the generated synthetic examples.
</p>


<h3>References</h3>

<p>Barua, Sukarna; Islam, Md.M.; Yao, Xin; Murase, Kazuyuki. Mwmote–majority
Weighted Minority Oversampling Technique for Imbalanced Data Set Learning.
IEEE Transactions on Knowledge and Data Engineering 26 (2014), Nr. 2, p.
405–425
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(iris0)

# Generates new minority examples
newSamples &lt;- mwmote(iris0, numInstances = 100, classAttr = "Class")

</code></pre>

<hr>
<h2 id='neater'>Fitering of oversampled data based on non-cooperative game theory</h2><span id='topic+neater'></span>

<h3>Description</h3>

<p>Filters oversampled examples from a binary class <code>dataset</code> using game
theory to find out if keeping an example is worthy enough.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>neater(
  dataset,
  newSamples,
  k = 3,
  iterations = 100,
  smoothFactor = 1,
  classAttr = "Class"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="neater_+3A_dataset">dataset</code></td>
<td>
<p>The original <code>data.frame</code>. All columns, except
<code>classAttr</code> one, have to be numeric or coercible to numeric.</p>
</td></tr>
<tr><td><code id="neater_+3A_newsamples">newSamples</code></td>
<td>
<p>A <code>data.frame</code> containing the samples to be filtered.
Must have the same structure as <code>dataset</code>.</p>
</td></tr>
<tr><td><code id="neater_+3A_k">k</code></td>
<td>
<p>Integer. Number of nearest neighbours to use in KNN algorithm to
rule out samples. By default, 3.</p>
</td></tr>
<tr><td><code id="neater_+3A_iterations">iterations</code></td>
<td>
<p>Integer. Number of iterations for the algorithm. By
default, 100.</p>
</td></tr>
<tr><td><code id="neater_+3A_smoothfactor">smoothFactor</code></td>
<td>
<p>A positive <code>numeric</code>. By default, 1.</p>
</td></tr>
<tr><td><code id="neater_+3A_classattr">classAttr</code></td>
<td>
<p><code>character</code>. Indicates the class attribute from
<code>dataset</code> and <code>newSamples</code>. Must exist in them.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Uses game theory and Nash equilibriums to calculate the minority examples
probability of trully belonging to the minority class. It discards examples
which at the final stage of the algorithm have more probability of being a
majority example than a minority one.
</p>


<h3>Value</h3>

<p>Filtered samples as a <code>data.frame</code> with same structure as
<code>newSamples</code>.
</p>


<h3>References</h3>

<p>Almogahed, B.A.; Kakadiaris, I.A. Neater: Filtering of Over-Sampled Data
Using Non-Cooperative Game Theory. Soft Computing 19 (2014), Nr. 11, p.
3301–3322.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(iris0)

newSamples &lt;- smotefamily::SMOTE(iris0[,-5], iris0[,5])$syn_data
# SMOTE overrides Class attr turning it into class
# and dataset must have same class attribute as newSamples
names(newSamples) &lt;- c(names(newSamples)[-5], "Class")

neater(iris0, newSamples, k = 5, iterations = 100,
       smoothFactor = 1, classAttr = "Class")
</code></pre>

<hr>
<h2 id='newthyroid1'>Imbalanced binary thyroid gland data</h2><span id='topic+newthyroid1'></span>

<h3>Description</h3>

<p>Data to predict patient's hyperthyroidism.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>newthyroid1
</code></pre>


<h3>Format</h3>

<p>A data frame with 215 instances, 35 of which belong to positive class,
and 6 variables:
</p>

<dl>
<dt>T3resin</dt><dd><p>T3-resin uptake test, percentage. Discrete attribute.</p>
</dd>
<dt>Thyroxin</dt><dd><p>Total Serum thyroxin as measured by the isotopic
displacement method. Continuous attribute.</p>
</dd>
<dt>Triiodothyronine</dt><dd><p>Total serum triiodothyronine as measured by radioimmuno
assay. Continuous attribute.</p>
</dd>
<dt>Thyroidstimulating</dt><dd><p>Basal thyroid-stimulating hormone (TSH) as measured by
radioimmuno assay. Continuous attribute.</p>
</dd>
<dt>TSH_value</dt><dd><p>Maximal absolute difference of TSH value after injection of 200
micro grams of thyrotropin-releasing hormone as compared to the basal value.
Continuous attribute.</p>
</dd>
<dt>Class</dt><dd><p>Two possible classes: positive as hyperthyroidism, negative as non
hyperthyroidism.</p>
</dd>
</dl>


<h3>Source</h3>

<p><a href="http://sci2s.ugr.es/keel/datasets.php">KEEL Repository</a>.
</p>


<h3>See Also</h3>

<p>Original available in <a href="https://archive.ics.uci.edu/ml">UCI ML Repository</a>.
</p>

<hr>
<h2 id='oversample'>Wrapper that encapsulates a collection of algorithms to perform a class
balancing preprocessing task for binary class datasets</h2><span id='topic+oversample'></span>

<h3>Description</h3>

<p>Wrapper that encapsulates a collection of algorithms to perform a class
balancing preprocessing task for binary class datasets
</p>


<h3>Usage</h3>

<pre><code class='language-R'>oversample(
  dataset,
  ratio = NA,
  method = c("RACOG", "wRACOG", "PDFOS", "RWO", "ADASYN", "ANSMOTE", "SMOTE", "MWMOTE",
    "BLSMOTE", "DBSMOTE", "SLMOTE", "RSLSMOTE"),
  filtering = FALSE,
  classAttr = "Class",
  wrapper = c("KNN", "C5.0"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="oversample_+3A_dataset">dataset</code></td>
<td>
<p>A binary class <code>data.frame</code> to balance.</p>
</td></tr>
<tr><td><code id="oversample_+3A_ratio">ratio</code></td>
<td>
<p>Number between 0 and 1 indicating the desired ratio between
minority examples and majority ones, that is, the quotient size of
minority class/size of majority class. There are methods, such as
<code>ADASYN</code> or <code>wRACOG</code> to which this parameter does not apply.</p>
</td></tr>
<tr><td><code id="oversample_+3A_method">method</code></td>
<td>
<p>A <code>character</code> corresponding to method to apply. Possible
methods are: RACOG, wRACOG, PDFOS, RWO, ADASYN, ANSMOTE, SMOTE, MWMOTE,
BLSMOTE, DBSMOTE, SLMOTE, RSLSMOTE</p>
</td></tr>
<tr><td><code id="oversample_+3A_filtering">filtering</code></td>
<td>
<p>Logical (TRUE or FALSE) indicating wheter to apply filtering
of oversampled instances with <code><a href="#topic+neater">neater</a></code> algorithm.</p>
</td></tr>
<tr><td><code id="oversample_+3A_classattr">classAttr</code></td>
<td>
<p><code>character</code>. Indicates the class attribute from <code>dataset</code>.
Must exist in it.</p>
</td></tr>
<tr><td><code id="oversample_+3A_wrapper">wrapper</code></td>
<td>
<p>A <code>character</code> corresponding to wrapper to apply if
selected method is <code><a href="#topic+wracog">wracog</a></code>. Possibilities are: <code>"C5.0"</code>
and <code>"KNN"</code>.</p>
</td></tr>
<tr><td><code id="oversample_+3A_...">...</code></td>
<td>
<p>Further arguments to apply in selected method</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A balanced <code>data.frame</code> with same structure as <code>dataset</code>,
containing both original instances and new ones
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(glass0)

# Oversample glass0 to get an imbalance ratio of 0.8
imbalanceRatio(glass0)
# 0.4861111
newDataset &lt;- oversample(glass0, ratio = 0.8, method = "MWMOTE")
imbalanceRatio(newDataset)
newDataset &lt;- oversample(glass0, method = "ADASYN")
newDataset &lt;- oversample(glass0, ratio = 0.8, method = "SMOTE")

</code></pre>

<hr>
<h2 id='pdfos'>Probability density function estimation based oversampling</h2><span id='topic+pdfos'></span>

<h3>Description</h3>

<p>Generates synthetic minority examples for a numerical dataset approximating a
Gaussian multivariate distribution which best fits the minority data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pdfos(dataset, numInstances, classAttr = "Class")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pdfos_+3A_dataset">dataset</code></td>
<td>
<p><code>data.frame</code> to treat. All columns, except
<code>classAttr</code> one, have to be numeric or coercible to numeric.</p>
</td></tr>
<tr><td><code id="pdfos_+3A_numinstances">numInstances</code></td>
<td>
<p>Integer. Number of new minority examples to generate.</p>
</td></tr>
<tr><td><code id="pdfos_+3A_classattr">classAttr</code></td>
<td>
<p><code>character</code>. Indicates the class attribute from
<code>dataset</code>. Must exist in it.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To generate the synthetic data, it approximates a normal distribution with
mean a given example belonging to the minority class, and whose variance is
the minority class variance multiplied by a constant; that constant is
computed so that it minimizes the mean integrated squared error of a Gaussian
multivariate kernel function.
</p>


<h3>Value</h3>

<p>A <code>data.frame</code> with the same structure as <code>dataset</code>,
containing the generated synthetic examples.
</p>


<h3>References</h3>

<p>Gao, Ming; Hong, Xia; Chen, Sheng; Harris, Chris J.; Khalaf, Emad. Pdfos: Pdf
Estimation Based Oversampling for Imbalanced Two-Class Problems.
Neurocomputing 138 (2014), p. 248–259
</p>
<p>Silverman, B. W. Density Estimation for Statistics and Data Analysis. Chapman
&amp; Hall, 1986. – ISBN 0412246201
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(iris0)

newSamples &lt;- pdfos(iris0, numInstances = 100, classAttr = "Class")

</code></pre>

<hr>
<h2 id='plotComparison'>Plots comparison between the original and the new balanced dataset.</h2><span id='topic+plotComparison'></span>

<h3>Description</h3>

<p>It plots a grid of one to one variable comparison, placing the former dataset
graphics next to the balanced one, for each pair of attributes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotComparison(dataset, anotherDataset, attrs, cols = 2, classAttr = "Class")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plotComparison_+3A_dataset">dataset</code></td>
<td>
<p>A <code>data.frame</code>. The former imbalanced dataset.</p>
</td></tr>
<tr><td><code id="plotComparison_+3A_anotherdataset">anotherDataset</code></td>
<td>
<p>A <code>data.frame</code>. The balanced dataset.
<code>dataset</code> and <code>anotherDataset</code> must have the same columns.</p>
</td></tr>
<tr><td><code id="plotComparison_+3A_attrs">attrs</code></td>
<td>
<p>Vector of <code>character</code>. Attributes to compare. The function
generates each posible combination of attributes to build the comparison.</p>
</td></tr>
<tr><td><code id="plotComparison_+3A_cols">cols</code></td>
<td>
<p>Integer. It indicates the number of columns of resulting grid.
Must be an even number. By default, 2.</p>
</td></tr>
<tr><td><code id="plotComparison_+3A_classattr">classAttr</code></td>
<td>
<p><code>character</code>. Indicates the class attribute from
<code>dataset</code>. Must exist in it.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Plot of 2D comparison between the variables.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(iris0)
set.seed(12345)

rwoSamples &lt;- rwo(iris0, numInstances = 100)
rwoBalanced &lt;- rbind(iris0, rwoSamples)
plotComparison(iris0, rwoBalanced, names(iris0), cols = 2, classAttr = "Class")

</code></pre>

<hr>
<h2 id='racog'>Rapidly converging Gibbs algorithm.</h2><span id='topic+racog'></span>

<h3>Description</h3>

<p>Allows you to treat imbalanced discrete numeric datasets by generating
synthetic minority examples, approximating their probability distribution.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>racog(dataset, numInstances, burnin = 100, lag = 20, classAttr = "Class")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="racog_+3A_dataset">dataset</code></td>
<td>
<p><code>data.frame</code> to treat. All columns, except
<code>classAttr</code> one, have to be numeric or coercible to numeric.</p>
</td></tr>
<tr><td><code id="racog_+3A_numinstances">numInstances</code></td>
<td>
<p>Integer. Number of new minority examples to generate.</p>
</td></tr>
<tr><td><code id="racog_+3A_burnin">burnin</code></td>
<td>
<p>Integer. It determines how many examples generated for a given
one are going to be discarded firstly. By default, 100.</p>
</td></tr>
<tr><td><code id="racog_+3A_lag">lag</code></td>
<td>
<p>Integer. Number of iterations between new generated example for a
minority one. By default, 20.</p>
</td></tr>
<tr><td><code id="racog_+3A_classattr">classAttr</code></td>
<td>
<p><code>character</code>. Indicates the class attribute from
<code>dataset</code>. Must exist in it.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Approximates minority distribution using Gibbs Sampler. Dataset must be
discretized and numeric. In each iteration, it builds a new sample using a
Markov chain. It discards first <code>burnin</code> iterations, and from then on,
each <code>lag</code> iterations, it validates the example as a new minority
example. It generates <code class="reqn">d (iterations-burnin)/lag</code> where <code class="reqn">d</code> is
minority examples number.
</p>


<h3>Value</h3>

<p>A <code>data.frame</code> with the same structure as <code>dataset</code>,
containing the generated synthetic examples.
</p>


<h3>References</h3>

<p>Das, Barnan; Krishnan, Narayanan C.; Cook, Diane J. Racog and Wracog: Two
Probabilistic Oversampling Techniques. IEEE Transactions on Knowledge and
Data Engineering 27(2015), Nr. 1, p. 222–234.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(iris0)

# Generates new minority examples

newSamples &lt;- racog(iris0, numInstances = 40, burnin = 20, lag = 10,
                    classAttr = "Class")

newSamples &lt;- racog(iris0, numInstances = 100)

</code></pre>

<hr>
<h2 id='rwo'>Random walk oversampling</h2><span id='topic+rwo'></span>

<h3>Description</h3>

<p>Generates synthetic minority examples for a dataset trying to preserve the
variance and mean of the minority class. Works on every type of dataset.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rwo(dataset, numInstances, classAttr = "Class")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rwo_+3A_dataset">dataset</code></td>
<td>
<p><code>data.frame</code> to treat. All columns, except
<code>classAttr</code> one, have to be numeric or coercible to numeric.</p>
</td></tr>
<tr><td><code id="rwo_+3A_numinstances">numInstances</code></td>
<td>
<p>Integer. Number of new minority examples to generate.</p>
</td></tr>
<tr><td><code id="rwo_+3A_classattr">classAttr</code></td>
<td>
<p><code>character</code>. Indicates the class attribute from
<code>dataset</code>. Must exist in it.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Generates <code>numInstances</code> new minority examples for <code>dataset</code>,
adding to the each numeric column of the j-th example its variance scalated
by the inverse of the number of minority examples and a factor following a
<code class="reqn">N(0,1)</code> distribution which depends on the example. When the column is
nominal, it uses a roulette scheme.
</p>


<h3>Value</h3>

<p>A <code>data.frame</code> with the same structure as <code>dataset</code>,
containing the generated synthetic examples.
</p>


<h3>References</h3>

<p>Zhang, Huaxiang; Li, Mingfang. Rwo-Sampling: A Random Walk Over-Sampling
Approach To Imbalanced Data Classification. Information Fusion 20 (2014), p.
99–116.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(iris0)

newSamples &lt;- rwo(iris0, numInstances = 100, classAttr = "Class")

</code></pre>

<hr>
<h2 id='trainWrapper'>Generic methods to train classifiers</h2><span id='topic+trainWrapper'></span>

<h3>Description</h3>

<p>Generic methods to train classifiers
</p>


<h3>Usage</h3>

<pre><code class='language-R'>trainWrapper(wrapper, train, trainClass, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="trainWrapper_+3A_wrapper">wrapper</code></td>
<td>
<p>the wrapper instance</p>
</td></tr>
<tr><td><code id="trainWrapper_+3A_train">train</code></td>
<td>
<p><code>data.frame</code> of the train dataset without the class column</p>
</td></tr>
<tr><td><code id="trainWrapper_+3A_trainclass">trainClass</code></td>
<td>
<p>a vector containing the class column for <code>train</code></p>
</td></tr>
<tr><td><code id="trainWrapper_+3A_...">...</code></td>
<td>
<p>further arguments for <code>wrapper</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A model which is <code><a href="stats.html#topic+predict">predict</a></code> callable.
</p>


<h3>See Also</h3>

<p><code><a href="stats.html#topic+predict">predict</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>myWrapper &lt;- structure(list(), class="C50Wrapper")
trainWrapper.C50Wrapper &lt;- function(wrapper, train, trainClass){
  C50::C5.0(train, trainClass)
}
</code></pre>

<hr>
<h2 id='wisconsin'>Imbalanced binary breast cancer Wisconsin dataset</h2><span id='topic+wisconsin'></span>

<h3>Description</h3>

<p>Binary class dataset containing traits about patients with cancer. Original dataset was
obtained from the University of Wisconsin Hospitals, Madison from Dr. William H. Wolberg.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wisconsin
</code></pre>


<h3>Format</h3>

<p>A data frame with 683 instances, 239 of which belong to positive class,
and 10 variables:
</p>

<dl>
<dt>ClumpThickness</dt><dd><p>Discrete attribute.</p>
</dd>
<dt>CellSize</dt><dd><p>Discrete attribute.</p>
</dd>
<dt>CellShape</dt><dd><p>Discrete attribute.</p>
</dd>
<dt>MarginalAdhesion</dt><dd><p>Discrete attribute.</p>
</dd>
<dt>EpithelialSize</dt><dd><p>Discrete attribute.</p>
</dd>
<dt>BareNuclei</dt><dd><p>Discrete attribute.</p>
</dd>
<dt>BlandChromatin</dt><dd><p>Disrete attribute.</p>
</dd>
<dt>NormalNucleoli</dt><dd><p>Discrete attribute.</p>
</dd>
<dt>Mitoses</dt><dd><p>Discrete attribute.</p>
</dd>
<dt>Class</dt><dd><p>Two possible classes: positive (cancer) and negative (not cancer).</p>
</dd>
</dl>


<h3>Source</h3>

<p><a href="http://sci2s.ugr.es/keel/datasets.php">KEEL Repository</a>.
</p>


<h3>See Also</h3>

<p>Original available in <a href="https://archive.ics.uci.edu/ml">UCI ML Repository</a>.
</p>

<hr>
<h2 id='wracog'>Wrapper for rapidly converging Gibbs algorithm.</h2><span id='topic+wracog'></span>

<h3>Description</h3>

<p>Generates synthetic minority examples by approximating their probability
distribution until sensitivity of <code>wrapper</code> over <code>validation</code>
cannot be further improved. Works only on discrete numeric datasets.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wracog(
  train,
  validation,
  wrapper,
  slideWin = 10,
  threshold = 0.02,
  classAttr = "Class",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="wracog_+3A_train">train</code></td>
<td>
<p><code>data.frame</code>. A initial dataset to generate first model.
All columns, except <code>classAttr</code> one, have to be numeric or coercible
to numeric.</p>
</td></tr>
<tr><td><code id="wracog_+3A_validation">validation</code></td>
<td>
<p><code>data.frame</code>. A dataset to compare results of
consecutive classifiers. Must have the same structure of <code>train</code>.</p>
</td></tr>
<tr><td><code id="wracog_+3A_wrapper">wrapper</code></td>
<td>
<p>An <code>S3</code> object. There must exist a method
<code><a href="#topic+trainWrapper">trainWrapper</a></code> implemented for the class of the object, and a
<code><a href="stats.html#topic+predict">predict</a></code> method implemented for the class of the model
returned by <code>trainWrapper</code>. Alternatively, it can the name of one of
the wrappers distributed with the package, <code>"KNN"</code> or <code>"C5.0"</code>.</p>
</td></tr>
<tr><td><code id="wracog_+3A_slidewin">slideWin</code></td>
<td>
<p>Number of last sensitivities to take into account to meet the
stopping criteria. By default, 10.</p>
</td></tr>
<tr><td><code id="wracog_+3A_threshold">threshold</code></td>
<td>
<p>Threshold that the last <code>slideWin</code> sensitivities mean
should reach. By default, 0.02.</p>
</td></tr>
<tr><td><code id="wracog_+3A_classattr">classAttr</code></td>
<td>
<p><code>character</code>. Indicates the class attribute from
<code>train</code> and <code>validation</code>. Must exist in them.</p>
</td></tr>
<tr><td><code id="wracog_+3A_...">...</code></td>
<td>
<p>further arguments for <code>wrapper</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Until the last <code>slideWin</code> executions of <code>wrapper</code> over
<code>validation</code> dataset reach a mean sensitivity lower than
<code>threshold</code>, the algorithm keeps generating samples using Gibbs Sampler,
and adding misclassified samples with respect to a model generated by a
former train, to the train dataset. Initial model is built on initial
<code>train</code>.
</p>


<h3>Value</h3>

<p>A <code>data.frame</code> with the same structure as <code>train</code>,
containing the generated synthetic examples.
</p>


<h3>References</h3>

<p>Das, Barnan; Krishnan, Narayanan C.; Cook, Diane J. Racog and Wracog: Two
Probabilistic Oversampling Techniques. IEEE Transactions on Knowledge and
Data Engineering 27(2015), Nr. 1, p. 222–234.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(haberman)

# Create train and validation partitions of haberman
trainFold &lt;- sample(1:nrow(haberman), nrow(haberman)/2, FALSE)
trainSet &lt;- haberman[trainFold, ]
validationSet &lt;- haberman[-trainFold, ]

# Defines our own wrapper with a C5.0 tree
myWrapper &lt;- structure(list(), class="TestWrapper")
trainWrapper.TestWrapper &lt;- function(wrapper, train, trainClass){
  C50::C5.0(train, trainClass)
}

# Execute wRACOG with our own wrapper
newSamples &lt;- wracog(trainSet, validationSet, myWrapper,
                     classAttr = "Class")


# Execute wRACOG with predifined wrappers for "KNN" or "C5.0"
KNNSamples &lt;- wracog(trainSet, validationSet, "KNN")
C50Samples &lt;- wracog(trainSet, validationSet, "C5.0")

</code></pre>

<hr>
<h2 id='yeast4'>Imbalanced binary yeast protein localization sites</h2><span id='topic+yeast4'></span>

<h3>Description</h3>

<p>Imbalanced binary dataset containing protein traits for predicting their cellular
localization sites.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>yeast4
</code></pre>


<h3>Format</h3>

<p>A data frame with 1484 instances, 51 of which belong to positive class,
and 9 variables:
</p>

<dl>
<dt>Mcg</dt><dd><p>McGeoch's method for signal sequence recognition.
Continuous attribute.</p>
</dd>
<dt>Gvh</dt><dd><p>Von Heijne's method for signal sequence recognition.
Continuous attribute.</p>
</dd>
<dt>Alm</dt><dd><p>Score of the ALOM membrane spanning region prediction program.
Continuous attribute.</p>
</dd>
<dt>Mit</dt><dd><p>Score of discriminant analysis of the amino acid content of the
N-terminal region (20 residues long) of mitochondrial and non-mitochondrial
proteins. Continuous attribute.</p>
</dd>
<dt>Erl</dt><dd><p>Presence of &quot;HDEL&quot; substring (thought to act as a signal for
retention in the endoplasmic reticulum lumen). Binary attribute. Discrete
attribute.</p>
</dd>
<dt>Pox</dt><dd><p>Peroxisomal targeting signal in the C-terminus. Continuous attribute.</p>
</dd>
<dt>Vac</dt><dd><p>Score of discriminant analysis of the amino acid content of vacuolar
and extracellular proteins. Continuous attribute.</p>
</dd>
<dt>Nuc</dt><dd><p>Score of discriminant analysis of nuclear localization signals of
nuclear and non-nuclear proteins. Continuous attribute.</p>
</dd>
<dt>Class</dt><dd><p>Two possible classes: positive (membrane protein, uncleaved signal),
negative (rest of localizations).</p>
</dd>
</dl>


<h3>Source</h3>

<p><a href="http://sci2s.ugr.es/keel/datasets.php">KEEL Repository</a>.
</p>


<h3>See Also</h3>

<p>Original available in <a href="https://archive.ics.uci.edu/ml">UCI ML Repository</a>.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

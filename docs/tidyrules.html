<!DOCTYPE html><html><head><title>Help for package tidyrules</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {tidyrules}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#package_tidyrules'><p>About 'tidyrules' package</p></a></li>
<li><a href='#addBackquotes'><p>Add backquotes</p></a></li>
<li><a href='#positionSpaceOutsideSinglequotes'><p>Position of space outside single quotes</p></a></li>
<li><a href='#removeEmptyLines'><p>Remove empty lines</p></a></li>
<li><a href='#ruleRToPython'><p>Convert a R parsable rule to python parsable rule</p></a></li>
<li><a href='#ruleRToSQL'><p>Convert a R parsable rule to SQL parsable rule</p></a></li>
<li><a href='#strHead'><p>Vectorized semantic equivalent of 'head' for a string</p></a></li>
<li><a href='#strReplaceReduce'><p>Sequential string replace</p></a></li>
<li><a href='#strSplitSingle'><p>String split a string</p></a></li>
<li><a href='#strTail'><p>Vectorized semantic equivalent of tail for a string</p></a></li>
<li><a href='#tidyRules'><p>Obtain rules as a tidy tibble</p></a></li>
<li><a href='#tidyRules.C5.0'><p>Obtain rules as a tidy tibble from a C5.0 model</p></a></li>
<li><a href='#tidyRules.cubist'><p>Obtain rules as a tidy tibble from a cubist model</p></a></li>
<li><a href='#tidyRules.rpart'><p>Obtain rules as a tidy tibble from a rpart model</p></a></li>
<li><a href='#varSpec'><p>Get variable specification for a Cubist/C5 object</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Obtain Rules from Rule Based Models as Tidy Dataframe</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.5</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Srikanth Komala Sheshachala &lt;sri.teach@gmail.com&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.6.0),</td>
</tr>
<tr>
<td>Imports:</td>
<td>tibble (&ge; 2.0.1), stringr (&ge; 1.3.1), magrittr (&ge; 1.5),
purrr (&ge; 0.3.2), assertthat (&ge; 0.2.0), partykit (&ge; 1.2.2),</td>
</tr>
<tr>
<td>Suggests:</td>
<td>AmesHousing (&ge; 0.0.3), dplyr (&ge; 0.8), C50 (&ge; 0.1.2),
Cubist (&ge; 0.2.2), rpart (&ge; 1.2.2), rpart.plot (&ge; 3.0.7),
modeldata (&ge; 0.0.1), testthat (&ge; 2.0.1), MASS (&ge; 7.3.50),
mlbench (&ge; 2.1.1), knitr (&ge; 1.23), rmarkdown (&ge; 1.13),
pander (&ge; 0.6.3),</td>
</tr>
<tr>
<td>Description:</td>
<td>Utility to convert text based summary of rule based models to a tidy dataframe (where each row represents a rule) with related metrics such as support, confidence and lift. Rule based models from these packages are supported: 'C5.0', 'rpart' and 'Cubist'.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/talegari/tidyrules">https://github.com/talegari/tidyrules</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/talegari/tidyrules/issues">https://github.com/talegari/tidyrules/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.0</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-06-04 12:03:26 UTC; srikanth.s1</td>
</tr>
<tr>
<td>Author:</td>
<td>Srikanth Komala Sheshachala [aut, cre],
  Amith Kumar Ullur Raghavendra [aut]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-06-04 14:10:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='package_tidyrules'>About 'tidyrules' package</h2><span id='topic+tidyrules'></span><span id='topic+tidyrules-package'></span>

<h3>Description</h3>

<p>Obtain rules as tidy dataframes
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Srikanth Komala Sheshachala <a href="mailto:sri.teach@gmail.com">sri.teach@gmail.com</a>
</p>
<p>Authors:
</p>

<ul>
<li><p> Amith Kumar Ullur Raghavendra <a href="mailto:amith54@gmail.com">amith54@gmail.com</a>
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/talegari/tidyrules">https://github.com/talegari/tidyrules</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/talegari/tidyrules/issues">https://github.com/talegari/tidyrules/issues</a>
</p>
</li></ul>


<hr>
<h2 id='addBackquotes'>Add backquotes</h2><span id='topic+addBackquotes'></span>

<h3>Description</h3>

<p>(vectorized) Add backquotes when a string has a space in it
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addBackquotes(string)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addBackquotes_+3A_string">string</code></td>
<td>
<p>character vector</p>
</td></tr>
</table>


<h3>Value</h3>

<p>character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
tidyrules:::addBackquotes(c("ab", "a b"))


</code></pre>

<hr>
<h2 id='positionSpaceOutsideSinglequotes'>Position of space outside single quotes</h2><span id='topic+positionSpaceOutsideSinglequotes'></span>

<h3>Description</h3>

<p>(vectorised) Detect the position of space in a string not within
a pair of single quotes
</p>


<h3>Usage</h3>

<pre><code class='language-R'>positionSpaceOutsideSinglequotes(string)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="positionSpaceOutsideSinglequotes_+3A_string">string</code></td>
<td>
<p>A chracter vector</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A integer vector of positions
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
tidyrules:::positionSpaceOutsideSinglequotes(c("hello", "hel' 'o "))


</code></pre>

<hr>
<h2 id='removeEmptyLines'>Remove empty lines</h2><span id='topic+removeEmptyLines'></span>

<h3>Description</h3>

<p>Remove empty strings from a character vector
</p>


<h3>Usage</h3>

<pre><code class='language-R'>removeEmptyLines(strings)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="removeEmptyLines_+3A_strings">strings</code></td>
<td>
<p>A character vector</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
tidyrules:::removeEmptyLines(c("abc", "", "d"))


</code></pre>

<hr>
<h2 id='ruleRToPython'>Convert a R parsable rule to python parsable rule</h2><span id='topic+ruleRToPython'></span>

<h3>Description</h3>

<p>Expected to be passed to 'pd.query' method of pandas dataframe
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ruleRToPython(rule)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ruleRToPython_+3A_rule">rule</code></td>
<td>
<p>(chr vector) R parsable rule(s)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>(chr vector) Python parsable rule(s)
</p>

<hr>
<h2 id='ruleRToSQL'>Convert a R parsable rule to SQL parsable rule</h2><span id='topic+ruleRToSQL'></span>

<h3>Description</h3>

<p>Expected to be passed after SQL 'WHERE' clause
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ruleRToSQL(rule)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ruleRToSQL_+3A_rule">rule</code></td>
<td>
<p>(chr vector) R parsable rule(s)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>(chr vector) SQL parsable rule(s) as a 'WHERE' clause
</p>

<hr>
<h2 id='strHead'>Vectorized semantic equivalent of 'head' for a string</h2><span id='topic+strHead'></span>

<h3>Description</h3>

<p>Picks the substring starting from the first character
</p>


<h3>Usage</h3>

<pre><code class='language-R'>strHead(string, n)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="strHead_+3A_string">string</code></td>
<td>
<p>string</p>
</td></tr>
<tr><td><code id="strHead_+3A_n">n</code></td>
<td>
<p>(integer) Number of characters</p>
</td></tr>
</table>


<h3>Details</h3>

<p>'n' can be in the interval [-len + 1, len] (both ends inclusive)
</p>


<h3>Value</h3>

<p>A string
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
tidyrules:::strHead(c("string", "string2"), 2)
tidyrules:::strHead(c("string", "string2"), -1)


</code></pre>

<hr>
<h2 id='strReplaceReduce'>Sequential string replace</h2><span id='topic+strReplaceReduce'></span>

<h3>Description</h3>

<p>Sequential string replace via reduce
</p>


<h3>Usage</h3>

<pre><code class='language-R'>strReplaceReduce(string, pattern, replacement)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="strReplaceReduce_+3A_string">string</code></td>
<td>
<p>string</p>
</td></tr>
<tr><td><code id="strReplaceReduce_+3A_pattern">pattern</code></td>
<td>
<p>pattern</p>
</td></tr>
<tr><td><code id="strReplaceReduce_+3A_replacement">replacement</code></td>
<td>
<p>replacement</p>
</td></tr>
</table>


<h3>Value</h3>

<p>character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
tidyrules:::strReplaceReduce("abcd", c("ab", "dc"), c("cd", "ab"))


</code></pre>

<hr>
<h2 id='strSplitSingle'>String split a string</h2><span id='topic+strSplitSingle'></span>

<h3>Description</h3>

<p>and return a character vector (not a list)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>strSplitSingle(string, pattern)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="strSplitSingle_+3A_string">string</code></td>
<td>
<p>A string</p>
</td></tr>
<tr><td><code id="strSplitSingle_+3A_pattern">pattern</code></td>
<td>
<p>Passed as-is to 'stringr::str_split'</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
tidyrules:::strSplitSingle("abc,d", ",")


</code></pre>

<hr>
<h2 id='strTail'>Vectorized semantic equivalent of tail for a string</h2><span id='topic+strTail'></span>

<h3>Description</h3>

<p>Picks the substring starting from the first character
</p>


<h3>Usage</h3>

<pre><code class='language-R'>strTail(string, n)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="strTail_+3A_string">string</code></td>
<td>
<p>string</p>
</td></tr>
<tr><td><code id="strTail_+3A_n">n</code></td>
<td>
<p>(integer) Number of characters</p>
</td></tr>
</table>


<h3>Details</h3>

<p>'n' can be in the interval [-len + 1, len] (both ends inclusive)
</p>


<h3>Value</h3>

<p>A string
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
tidyrules:::strTail(c("string", "string2"), 2)
tidyrules:::strTail(c("string", "string2"), -1)


</code></pre>

<hr>
<h2 id='tidyRules'>Obtain rules as a tidy tibble</h2><span id='topic+tidyRules'></span>

<h3>Description</h3>

<p>Each row corresponds to a rule. A rule can be copied into
'dplyr::filter' to filter the observations corresponding to a rule
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tidyRules(object, col_classes = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tidyRules_+3A_object">object</code></td>
<td>
<p>Fitted model object with rules</p>
</td></tr>
<tr><td><code id="tidyRules_+3A_col_classes">col_classes</code></td>
<td>
<p>Named list or a named character vector of column classes.
Column names of the data used for modeling form the names and the
respective classes for the value. One way of obtaining this is by running
'lapply(data, class)'.</p>
</td></tr>
<tr><td><code id="tidyRules_+3A_...">...</code></td>
<td>
<p>Other arguments (currently unused)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>tidyRule supports these rule based models: C5, Cubist and rpart.
</p>


<h3>Value</h3>

<p>A tibble where each row corresponds to a rule
</p>


<h3>Author(s)</h3>

<p>Srikanth KS, <a href="mailto:sri.teach@gmail.com">sri.teach@gmail.com</a>
</p>

<hr>
<h2 id='tidyRules.C5.0'>Obtain rules as a tidy tibble from a C5.0 model</h2><span id='topic+tidyRules.C5.0'></span>

<h3>Description</h3>

<p>Each row corresponds to a rule. A rule can be copied into
'dplyr::filter' to filter the observations corresponding to a rule
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'C5.0'
tidyRules(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tidyRules.C5.0_+3A_object">object</code></td>
<td>
<p>Fitted model object with rules</p>
</td></tr>
<tr><td><code id="tidyRules.C5.0_+3A_...">...</code></td>
<td>
<p>Other arguments (See details)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Optional named arguments:
</p>

<ul>
<li><p> laplace(flag, default: TRUE) is supported. This computes confidence
with laplace correction as documented under 'Rulesets' here: [C5
doc](https://www.rulequest.com/see5-unix.html).
</p>
</li>
<li><p> language (string, default: &quot;r&quot;): language where the rules are parsable.
The allowed options is one among: r, python, sql
</p>
</li></ul>



<h3>Value</h3>

<p>A tibble where each row corresponds to a rule. The columns are:
support, confidence, lift, lhs, rhs, n_conditions
</p>


<h3>Author(s)</h3>

<p>Srikanth KS, <a href="mailto:sri.teach@gmail.com">sri.teach@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("attrition", package = "modeldata")
attrition &lt;- tibble::as_tibble(attrition)
c5_model &lt;- C50::C5.0(Attrition ~., data = attrition, rules = TRUE)
summary(c5_model)
tidyRules(c5_model)
</code></pre>

<hr>
<h2 id='tidyRules.cubist'>Obtain rules as a tidy tibble from a cubist model</h2><span id='topic+tidyRules.cubist'></span>

<h3>Description</h3>

<p>Each row corresponds to a rule. A rule can be copied into
'dplyr::filter' to filter the observations corresponding to a rule
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'cubist'
tidyRules(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tidyRules.cubist_+3A_object">object</code></td>
<td>
<p>Fitted model object with rules</p>
</td></tr>
<tr><td><code id="tidyRules.cubist_+3A_...">...</code></td>
<td>
<p>Other arguments (currently unused)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When col_classes argument is missing, an educated guess is made
about class by parsing the RHS of sub-rule. This might sometimes not lead
to a parsable rule.
</p>
<p>Optional named arguments:
</p>

<ul>
<li><p> language (string, default: &quot;r&quot;): language where the rules are
parsable. The allowed options is one among: r, python, sql
</p>
</li></ul>



<h3>Value</h3>

<p>A tibble where each row corresponds to a rule. The columns are:
support, mean, min, max, error, lhs, rhs and committee
</p>


<h3>Author(s)</h3>

<p>Srikanth KS, <a href="mailto:sri.teach@gmail.com">sri.teach@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("attrition", package = "modeldata")
attrition &lt;- tibble::as_tibble(attrition)
cols_att &lt;- setdiff(colnames(attrition), c("MonthlyIncome", "Attrition"))

cb_att &lt;-
  Cubist::cubist(x = attrition[, cols_att],y = attrition[["MonthlyIncome"]])
tr_att &lt;- tidyRules(cb_att)
tr_att
</code></pre>

<hr>
<h2 id='tidyRules.rpart'>Obtain rules as a tidy tibble from a rpart model</h2><span id='topic+tidyRules.rpart'></span>

<h3>Description</h3>

<p>Each row corresponds to a rule. A rule can be copied into
'dplyr::filter' to filter the observations corresponding to a rule
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'rpart'
tidyRules(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tidyRules.rpart_+3A_object">object</code></td>
<td>
<p>Fitted model object with rules</p>
</td></tr>
<tr><td><code id="tidyRules.rpart_+3A_...">...</code></td>
<td>
<p>Other arguments (currently unused)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>NOTE: For rpart rules, one should build the model without
<b>ordered factor</b> variable. We recommend you to convert <b>ordered
factor</b> to <b>factor</b> or <b>integer</b> class.
</p>
<p>Optional named arguments:
</p>

<ul>
<li><p> language (string, default: &quot;r&quot;): language where the rules are parsable.
The allowed options is one among: r, python, sql
</p>
</li></ul>



<h3>Value</h3>

<p>A tibble where each row corresponds to a rule. The columns are:
support, confidence, lift, LHS, RHS
</p>


<h3>Author(s)</h3>

<p>Amith Kumar U R, <a href="mailto:amith54@gmail.com">amith54@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>iris_rpart &lt;- rpart::rpart(Species ~ .,data = iris)
tidyRules(iris_rpart)
</code></pre>

<hr>
<h2 id='varSpec'>Get variable specification for a Cubist/C5 object</h2><span id='topic+varSpec'></span>

<h3>Description</h3>

<p>Obtain variable names, type (numeric, ordered, factor) and
levels as a tibble
</p>


<h3>Usage</h3>

<pre><code class='language-R'>varSpec(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="varSpec_+3A_object">object</code></td>
<td>
<p>Cubist/C5 object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with three columns: variable(character), type(character) and
levels(a list-column). For numeric variables, levels are set to NA.
</p>


<h3>Author(s)</h3>

<p>Srikanth KS, <a href="mailto:sri.teach@gmail.com">sri.teach@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("attrition", package = "modeldata")
attrition &lt;- tibble::as_tibble(attrition)
cols_att &lt;- setdiff(colnames(attrition), c("MonthlyIncome", "Attrition"))

cb_att &lt;-
  Cubist::cubist(x = attrition[, cols_att],y = attrition[["MonthlyIncome"]])
varSpec(cb_att)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

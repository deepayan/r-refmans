<!DOCTYPE html><html><head><title>Help for package boundingbox</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {boundingbox}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#boxer'><p>Create a bounding box in an image based on selected points</p></a></li>
<li><a href='#boxer2'><p>Create multiple bounding boxes in an image based on sets of selected points</p></a></li>
<li><a href='#outBox'><p>Generate images with bounding boxes from coordinates in a dataframe</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Create a Bounding Box in an Image</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Generate ground truth cases for object localization algorithms. 
    Cycle through a list of images, select points around which to generate bounding 
    boxes and assign classifiers. Output the coordinates, and images annotated with 
    boxes and labels. For an example study that uses bounding boxes for image 
    localization and classification see Ibrahim, Badr, Abdallah, and Eissa (2012)
    "Bounding Box Object Localization Based on Image Superpixelization"
    &lt;<a href="https://doi.org/10.1016%2Fj.procs.2012.09.119">doi:10.1016/j.procs.2012.09.119</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td>&lt;<a href="https://github.com/stomperusa/boundingbox&amp;gt;">https://github.com/stomperusa/boundingbox&gt;</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Imports:</td>
<td>imager, grDevices, graphics, utils, tools, gplots</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.0</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, knitr, rmarkdown, spelling</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-06-06 00:17:07 UTC; stomperusa</td>
</tr>
<tr>
<td>Author:</td>
<td>David Stomski [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>David Stomski &lt;stomperusa@verizon.net&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-06-09 14:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='boxer'>Create a bounding box in an image based on selected points</h2><span id='topic+boxer'></span>

<h3>Description</h3>

<p><code>boxer</code> allows the user to identify an area in an image around which to
generate a bounding box and set a common classifier for all images.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>boxer(
  names,
  file_path_input,
  color = "red",
  resize_x = NA,
  resize_y = NA,
  classifier = NA,
  batch = length(names),
  outbox = FALSE,
  file_path_output = NA,
  show_classifier = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="boxer_+3A_names">names</code></td>
<td>
<p>A vector that contains the names of JPG, PNG, or BMP image files.</p>
</td></tr>
<tr><td><code id="boxer_+3A_file_path_input">file_path_input</code></td>
<td>
<p>The directory that contains the image files.</p>
</td></tr>
<tr><td><code id="boxer_+3A_color">color</code></td>
<td>
<p>The name of the color for selected points  and the bounding box.
Default is &quot;red&quot;.</p>
</td></tr>
<tr><td><code id="boxer_+3A_resize_x">resize_x</code></td>
<td>
<p>Number of pixels to resize the x-axis. Default is NA to keep
original size.</p>
</td></tr>
<tr><td><code id="boxer_+3A_resize_y">resize_y</code></td>
<td>
<p>Number of pixels to resize the y-axis. Default is NA to keep
original size.</p>
</td></tr>
<tr><td><code id="boxer_+3A_classifier">classifier</code></td>
<td>
<p>Character string to add a classifier. Default is NA.</p>
</td></tr>
<tr><td><code id="boxer_+3A_batch">batch</code></td>
<td>
<p>Number of images before prompt to truncate stream. Default is
length(names).</p>
</td></tr>
<tr><td><code id="boxer_+3A_outbox">outbox</code></td>
<td>
<p>Logical to run outBox and output images. Default is F.</p>
</td></tr>
<tr><td><code id="boxer_+3A_file_path_output">file_path_output</code></td>
<td>
<p>The directory where to save annotated images if
outbox is T.</p>
</td></tr>
<tr><td><code id="boxer_+3A_show_classifier">show_classifier</code></td>
<td>
<p>Logical to include the classifier above the bounding
box if outbox is T. Default is F.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Stream a series of images (JPEG, PNG, BMP) from a directory. As each image
appears, indicate between 2 and 26 points around which boxer will calculate a
bounding box. The name of the original file, the bounding box coordinates, and
optional image resize values, classifier and box color are returned in a
dataframe. Boxer also offers the option to call the outBox function that
will output each image with its bounding box. If outputting the images, the
show_classifier parameter controls whether or not to show the class as a label
above the bounding box.
</p>
<p>When an image appears, use the left mouse button to select the series of
points, and the right mouse button to signal completion and to move to the
next image. At least two points must be selected to record a bounding box. If
more than 26 points are selected, only the first 26 will be used. To skip
creating a bounding box for the current image, select the right mouse button
without selecting any points. Messages noting the images skipped will appear
at the end.
</p>
<p>The dataframe of bounding box coordinates will only be returned when all of
the images have been cycled through, unless you set the batch parameter.  The
batch parameter allows for the images to be processed in batches with the
option to terminate and generate the output file at the end of each batch. The
batch parameter can be set for the number of images to cycle through before
the user is prompted to truncate the stream. Selecting &quot;y&quot; at the prompt will
truncate the stream and return the bounding box coordinates for all of the
images up to that point. Selecting any other key will continue to stream
through the next batch of images.
</p>
<p>If using the classifier and color parameters, boxer assumes all of the images
are classified the same. To be able to set the classifier per bounding box, or
to be able to generate multiple bounding boxes per image, use the boxer2
function.
</p>


<h3>Value</h3>

<p>A dataframe with the bounding box coordinates and classifier for each
image. Note the y-coordinate extends downward, not upward. Will also output
new image file with the bounding box annotation for each of the images
processed if outbox is set to T. The name of each output image file will be
the same as the corresponding input file prefixed with &quot;out_&quot;.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
boxer_results &lt;- boxer(names = c("S2.jpg"),
file_path_input = system.file("extdata", package = "boundingbox"),
resize_x = 224, resize_y = 224, classifier = "dog", outbox = FALSE)

## End(Not run)

</code></pre>

<hr>
<h2 id='boxer2'>Create multiple bounding boxes in an image based on sets of selected points</h2><span id='topic+boxer2'></span>

<h3>Description</h3>

<p><code>boxer2</code> allows the user to identify multiple areas in an image around
which to generate bounding boxes and/or the ability to set a classifier per
bounding box.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>boxer2(
  names,
  file_path_input,
  color = "red",
  resize_x = NA,
  resize_y = NA,
  classifier,
  batch = length(names),
  outbox = FALSE,
  file_path_output = NA,
  show_classifier = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="boxer2_+3A_names">names</code></td>
<td>
<p>A vector that contains the names of JPG, PNG, or BMP image files.</p>
</td></tr>
<tr><td><code id="boxer2_+3A_file_path_input">file_path_input</code></td>
<td>
<p>The directory that contains the image files.</p>
</td></tr>
<tr><td><code id="boxer2_+3A_color">color</code></td>
<td>
<p>The name of the color for selected points.Default is &quot;red&quot;.</p>
</td></tr>
<tr><td><code id="boxer2_+3A_resize_x">resize_x</code></td>
<td>
<p>Number of pixels to resize the x-axis. Default is NA to keep
original size.</p>
</td></tr>
<tr><td><code id="boxer2_+3A_resize_y">resize_y</code></td>
<td>
<p>Number of pixels to resize the y-axis. Default is NA to keep
original size.</p>
</td></tr>
<tr><td><code id="boxer2_+3A_classifier">classifier</code></td>
<td>
<p>A data frame with columns &quot;ref&quot; (int), &quot;class&quot; (chr),
and &quot;color&quot; (chr). The &quot;ref&quot; value must be unique. &quot;class&quot; will appear as
the label, and &quot;color&quot; will be used as the color of the bounding box.</p>
</td></tr>
<tr><td><code id="boxer2_+3A_batch">batch</code></td>
<td>
<p>Number of images before prompt to truncate stream. Default is
length(names).</p>
</td></tr>
<tr><td><code id="boxer2_+3A_outbox">outbox</code></td>
<td>
<p>Logical to run outBox and output images. Default is F.</p>
</td></tr>
<tr><td><code id="boxer2_+3A_file_path_output">file_path_output</code></td>
<td>
<p>The directory where to save annotated images if
outbox is T.</p>
</td></tr>
<tr><td><code id="boxer2_+3A_show_classifier">show_classifier</code></td>
<td>
<p>Logical to include the classifier above the bounding
box if outbox is T. Default is F.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Input a dataframe that captures reference information regarding the
classifiers. This includes a numeric reference, class (or name), and color.
Then stream a series of images (JPEG, PNG, BMP) from a directory. As each
image appears, indicate between 2 and 26 points around which boxer2 will
calculate a bounding box. Follow the prompt to provide the numeric reference
for the classifier. The next prompt allows to add another bounding box to the
same image or to advance to the next image.
</p>
<p>The name of the original file, bounding box coordinates, classifiers, box
colors, and optional image resize values are returned in a dataframe. Boxer2
also offers the option to call the outBox function that will output each
image with its bounding box(es). If outputting the images, the show_classifier
parameter controls whether or not to show the class as a label above the
bounding box.
</p>
<p>When an image appears, use the left mouse button to select the series of
points, and the right mouse button to signal completion and to move to the
next image. At least two points must be selected to record a bounding box. If
more than 26 points are selected, only the first 26 will be used. To skip
creating a bounding box for the current image, select the right mouse button
without selecting any points. Messages noting the images skipped will appear
at the end.
</p>
<p>The dataframe of bounding box coordinates will only be returned when all of
the images have been cycled through, unless you set the batch parameter.  The
batch parameter allows for the images to be processed in batches with the
option to terminate and generate the output file at the end of each batch. The
batch parameter can be set for the number of images to cycle through before
the user is prompted to truncate the stream. Selecting &quot;y&quot; at the prompt will
truncate the stream and return the bounding box coordinates for all of the
images up to that point. Selecting any other key will continue to stream
through the next batch of images.
</p>
<p>If all of the images have the same classifier and only one bounding box is
required per image, consider using the boxer function instead.
</p>


<h3>Value</h3>

<p>A dataframe with the bounding box coordinates for each image, and a
new image file with the bounding box annotation for each of the images
processed. Note the y-coordinate extends downward, not upward.The name of
each output image file will be the same as the corresponding input file
prefixed with &quot;out_&quot;.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># A sample classifier dataframe
dog_df &lt;- data.frame(read.csv(system.file("extdata","dog_df.csv",
package = "boundingbox")), stringsAsFactors = FALSE)

# Use 1 to classify the first dog and 2 to classify the second.
## Not run: 
boxer2_results &lt;- boxer2(names = c("SW1.jpg"),
file_path_input = system.file("extdata", package = "boundingbox"),
resize_x = 224, resize_y = 224, classifier = dog_df, outbox = FALSE)

## End(Not run)

</code></pre>

<hr>
<h2 id='outBox'>Generate images with bounding boxes from coordinates in a dataframe</h2><span id='topic+outBox'></span>

<h3>Description</h3>

<p><code>outBox</code> adds colored bounding boxes and labels to images based on
predetermined coordinates, classifiers, and image dimensions captured in a
dataframe.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>outBox(
  points_master,
  file_path_input,
  file_path_output,
  show_classifier = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="outBox_+3A_points_master">points_master</code></td>
<td>
<p>A dataframe that captures the name of the image file,
the four coordinates of the bounding box, the width and height dimensions
of the image, the classifier, and the color for the label and box. The file
format is a follows:
file_name : (chr) name of the image file;
x_left    : (int) left side x-coordinate;
y_top     : (int) top side y-coordinate;
x_right   : (int) right side x-coordinate;
y_bottom  : (int) bottom side y-coordinate;
size_x    : (int) image width in pixels;
size_y    : (int) image height in pixels;
classifier: (chr) classifier used as label;
color     : (chr) name of color to use for box and label.</p>
</td></tr>
<tr><td><code id="outBox_+3A_file_path_input">file_path_input</code></td>
<td>
<p>The directory that contains the image files.</p>
</td></tr>
<tr><td><code id="outBox_+3A_file_path_output">file_path_output</code></td>
<td>
<p>The directory where to save annotated images.</p>
</td></tr>
<tr><td><code id="outBox_+3A_show_classifier">show_classifier</code></td>
<td>
<p>Logical to include the classifier above the bounding.
box. The default is F.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Load a dataframe that captures data points for each image to process.
The file format is the same as generated by boxer and boxer2.
</p>
<p>Note y-coordinates should extend downward from the top, not upward from the
bottom.
</p>


<h3>Value</h3>

<p>A new image file with the bounding box annotation for each of the
images processed and resized accordingly. The name of each output image
file will be the same as the corresponding input file prefixed with &quot;out_&quot;.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>points_master &lt;- data.frame(read.csv(system.file("extdata","points_example.csv",
package = "boundingbox")), stringsAsFactors = FALSE)


outBox(points_master = points_master,
file_path_input = system.file("extdata", package = "boundingbox"),
file_path_output = tempdir(), show_classifier = TRUE)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

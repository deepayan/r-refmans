<!DOCTYPE html><html lang="en-CA"><head><title>Help for package cansim</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {cansim}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#add_provincial_abbreviations'><p>Add provincial abbreviations as factor</p></a></li>
<li><a href='#cansim_old_to_new'><p>Translate deprecated CANSIM table number into new NDM-format table catalogue number</p></a></li>
<li><a href='#cansim_repartition_cached_table'><p>Repartitions a cached cansim table to a new partitioning scheme</p></a></li>
<li><a href='#categories_for_level'><p>Use metadata to extract categories for column of specific level</p></a></li>
<li><a href='#collect_and_normalize'><p>Collect data from a parquet, feather or sqlite query and normalize cansim table output</p></a></li>
<li><a href='#correspondence'><p>The correspondence file for old to new StatCan table numbers is included in the package</p></a></li>
<li><a href='#create_index'><p>create database index</p></a></li>
<li><a href='#csv2arrow'><p>convert csv to arrow</p></a></li>
<li><a href='#csv2sqlite'><p>convert csv to sqlite</p>
adapted from https://rdrr.io/github/coolbutuseless/csv2sqlite/src/R/csv2sqlite.R</a></li>
<li><a href='#disconnect_cansim_sqlite'><p>Disconnect from a cansim database connection</p></a></li>
<li><a href='#fold_in_metadata_for_columns'><p>Fold in metadata and for selected columns</p></a></li>
<li><a href='#get_cansim'><p>Retrieve a Statistics Canada data table using NDM catalogue number</p></a></li>
<li><a href='#get_cansim_changed_tables'><p>Retrieve a list of modified tables since a given date</p></a></li>
<li><a href='#get_cansim_code_set'><p>Get NDM code sets</p></a></li>
<li><a href='#get_cansim_column_categories'><p>Retrieve Statistics Canada data table categories for a specific column</p></a></li>
<li><a href='#get_cansim_column_list'><p>Retrieve Statistics Canada data table column list</p></a></li>
<li><a href='#get_cansim_connection'><p>Retrieve a Statistics Canada data table using NDM catalogue number as parquet, feather, or sqlite database connection</p></a></li>
<li><a href='#get_cansim_cube_metadata'><p>Retrieve table metadata from Statistics Canada API</p></a></li>
<li><a href='#get_cansim_data_for_table_coord_periods'><p>Retrieve data for specified Statistics Canada data product for last N periods for specific coordinates</p></a></li>
<li><a href='#get_cansim_key_release_schedule'><p>Major economic indicator release schedule</p></a></li>
<li><a href='#get_cansim_sqlite'><p>Retrieve a Statistics Canada data table using NDM catalogue number as SQLite database connection</p></a></li>
<li><a href='#get_cansim_table_info'><p>Retrieve Statistics Canada data table information</p></a></li>
<li><a href='#get_cansim_table_last_release_date'><p>Get the latest release data for a StatCan table, if available</p></a></li>
<li><a href='#get_cansim_table_notes'><p>Retrieve Statistics Canada data table notes and column categories</p></a></li>
<li><a href='#get_cansim_table_overview'><p>Retrieve Statistics Canada data table overview text</p></a></li>
<li><a href='#get_cansim_table_short_notes'><p>Retrieve Statistics Canada data table short notes</p></a></li>
<li><a href='#get_cansim_table_subject'><p>Retrieve Statistics Canada data table subject detail</p></a></li>
<li><a href='#get_cansim_table_survey'><p>Retrieve Statistics Canada data table survey detail</p></a></li>
<li><a href='#get_cansim_table_url'><p>Retrieve a Statistics Canada data table URL given a table number</p></a></li>
<li><a href='#get_cansim_vector'><p>Retrieve data for a Statistics Canada data vector released within a given time frame</p></a></li>
<li><a href='#get_cansim_vector_for_latest_periods'><p>Retrieve data for specified Statistics Canada data vector(s) for last N periods</p></a></li>
<li><a href='#get_cansim_vector_info'><p>Retrieve metadata for specified Statistics Canada data vectors</p></a></li>
<li><a href='#get_deduped_column_level_data'><p>Get column names de-duplicated and in the correct order</p></a></li>
<li><a href='#list_cansim_cached_tables'><p>List cached cansim arrow and SQlite databases</p></a></li>
<li><a href='#list_cansim_cubes'><p>Get overview list for all Statistics Canada data cubes</p></a></li>
<li><a href='#list_cansim_sqlite_cached_tables'><p>List cached cansim SQLite database</p></a></li>
<li><a href='#list_cansim_tables'><p>Get overview list for all Statistics Canada data tables (deprecated)</p></a></li>
<li><a href='#normalize_cansim_values'><p>Normalize retrieved data table values to appropriate scales</p></a></li>
<li><a href='#parse_metadata'><p>Parse metadata</p></a></li>
<li><a href='#remove_cansim_cached_tables'><p>Remove cached cansim SQLite and parquet database</p></a></li>
<li><a href='#remove_cansim_sqlite_cached_table'><p>Remove cached cansim SQLite database</p></a></li>
<li><a href='#search_cansim_cubes'><p>Search through Statistics Canada data cubes</p></a></li>
<li><a href='#search_cansim_tables'><p>Search through Statistics Canada data tables (deprecated)</p></a></li>
<li><a href='#view_cansim_webpage'><p>View CANSIM table or vector information in browser</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Accessing Statistics Canada Data Table and Vectors</td>
</tr>
<tr>
<td>Version:</td>
<td>0.4.1</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jens von Bergmann &lt;jens@mountainmath.ca&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Searches for, accesses, and retrieves Statistics Canada data 
    tables, as well as individual vectors, as tidy data frames.
    This package enriches the tables with metadata, deals
    with encoding issues, allows for bilingual English or French language data retrieval, and bundles
    convenience functions to make it easier to work with retrieved table data. For more efficient data
    access the package allows for caching data in a local database and database level filtering, data
    manipulation and summarizing.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>ByteCompile:</td>
<td>yes</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.1)</td>
</tr>
<tr>
<td>Imports:</td>
<td>digest (&ge; 0.6), dplyr (&ge; 1.1), httr (&ge; 1.0.0), tidyr (&ge;
1.3), readr (&ge; 2.1), rlang (&ge; 1.1), stringr (&ge; 1.5), purrr
(&ge; 1.0), tibble (&ge; 3.2), arrow (&ge; 18.1), DBI (&ge; 1.2),
RSQLite (&ge; 2.3), utils (&ge; 4.3), dbplyr (&ge; 2.5)</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, ggplot2, scales, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/mountainMath/cansim">https://github.com/mountainMath/cansim</a>,
<a href="https://mountainmath.github.io/cansim/">https://mountainmath.github.io/cansim/</a>,
<a href="https://www.statcan.gc.ca/">https://www.statcan.gc.ca/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/mountainMath/cansim/issues">https://github.com/mountainMath/cansim/issues</a></td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Language:</td>
<td>en-CA</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-03-15 04:13:15 UTC; jens</td>
</tr>
<tr>
<td>Author:</td>
<td>Jens von Bergmann [aut, cre],
  Dmitry Shkolnik [aut]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-03-15 04:30:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='add_provincial_abbreviations'>Add provincial abbreviations as factor</h2><span id='topic+add_provincial_abbreviations'></span>

<h3>Description</h3>

<p>Add provincial abbreviations as factor
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_provincial_abbreviations(data)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="add_provincial_abbreviations_+3A_data">data</code></td>
<td>
<p>A tibble as returned by <code>get_cansim</code> with provincial level data</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The input tibble with additional factor GEO.abb that contains language-specific provincial abbreviations
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
df &lt;- get_cansim("17-10-0005")
df &lt;- add_provincial_abbreviations(df)

## End(Not run)

</code></pre>

<hr>
<h2 id='cansim_old_to_new'>Translate deprecated CANSIM table number into new NDM-format table catalogue number</h2><span id='topic+cansim_old_to_new'></span>

<h3>Description</h3>

<p>Returns NDM table catalogue equivalent given a standard old-format CANSIM table number
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cansim_old_to_new(oldCansimTableNumber)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cansim_old_to_new_+3A_oldcansimtablenumber">oldCansimTableNumber</code></td>
<td>
<p>deprecated style CANSIM table number (e.g. &quot;427-0001&quot;)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character string with the new-format NDM table number
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
cansim_old_to_new("026-0018")

## End(Not run)
</code></pre>

<hr>
<h2 id='cansim_repartition_cached_table'>Repartitions a cached cansim table to a new partitioning scheme</h2><span id='topic+cansim_repartition_cached_table'></span>

<h3>Description</h3>

<p>Repartitions and already downloaded and cached parquet or feather dataset
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cansim_repartition_cached_table(
  cansimTableNumber,
  new_partitioning = c(),
  language = "english",
  format = "parquet",
  cache_path = getOption("cansim.cache_path")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cansim_repartition_cached_table_+3A_cansimtablenumber">cansimTableNumber</code></td>
<td>
<p>the NDM table number to load</p>
</td></tr>
<tr><td><code id="cansim_repartition_cached_table_+3A_new_partitioning">new_partitioning</code></td>
<td>
<p>(Optional) Partition columns to use for parquet or feather formats.</p>
</td></tr>
<tr><td><code id="cansim_repartition_cached_table_+3A_language">language</code></td>
<td>
<p><code>"en"</code> or <code>"english"</code> for English and <code>"fr"</code> or <code>"french"</code> for French language versions (defaults to English)</p>
</td></tr>
<tr><td><code id="cansim_repartition_cached_table_+3A_format">format</code></td>
<td>
<p>(Optional) The format of the data table to retrieve. Either <code>"parquet"</code>, <code>"feather"</code>, or <code>sqlite</code> (default is <code>"parquet"</code>).</p>
</td></tr>
<tr><td><code id="cansim_repartition_cached_table_+3A_cache_path">cache_path</code></td>
<td>
<p>(Optional) Path to where to cache the table permanently. By default, the data is cached
in the path specified by 'getOption(&quot;cansim.cache_path&quot;)', if this is set. Otherwise it will use 'tempdir()'.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
cansim_repartition_cached_table("34-10-0013",new_partitioning=c("GeoUID"))


## End(Not run)
</code></pre>

<hr>
<h2 id='categories_for_level'>Use metadata to extract categories for column of specific level</h2><span id='topic+categories_for_level'></span>

<h3>Description</h3>

<p>For tables with data with hierarchical categories, metadata containing hierarchy level descriptions is used to extract categories at a specified level of hierarchy only.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>categories_for_level(
  data,
  column_name,
  level = NA,
  strict = FALSE,
  remove_duplicates = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="categories_for_level_+3A_data">data</code></td>
<td>
<p>data table object as returned from <code>get_cansim()</code></p>
</td></tr>
<tr><td><code id="categories_for_level_+3A_column_name">column_name</code></td>
<td>
<p>the quoted name of the column to extract categories from</p>
</td></tr>
<tr><td><code id="categories_for_level_+3A_level">level</code></td>
<td>
<p>the hierarchy level depth to which to extract categories, where 0 is top category</p>
</td></tr>
<tr><td><code id="categories_for_level_+3A_strict">strict</code></td>
<td>
<p>(default <code>FALSE</code>) when <code>TRUE</code> will only extract that specific hierarchy level</p>
</td></tr>
<tr><td><code id="categories_for_level_+3A_remove_duplicates">remove_duplicates</code></td>
<td>
<p>(default <code>TRUE</code>) When set to <code>TRUE</code> higher level grouping categories already captured by lower level hierarchy data will be removed</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of categories
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
data &lt;- get_cansim("16-10-0117")
categories_for_level(data,"North American Industry Classification System (NAICS)",level=2)

## End(Not run)
</code></pre>

<hr>
<h2 id='collect_and_normalize'>Collect data from a parquet, feather or sqlite query and normalize cansim table output</h2><span id='topic+collect_and_normalize'></span>

<h3>Description</h3>

<p>Collect data from a parquet, feather or sqlite query and normalize cansim table output
</p>


<h3>Usage</h3>

<pre><code class='language-R'>collect_and_normalize(
  connection,
  replacement_value = "val_norm",
  normalize_percent = TRUE,
  default_month = "07",
  default_day = "01",
  factors = TRUE,
  strip_classification_code = FALSE,
  disconnect = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="collect_and_normalize_+3A_connection">connection</code></td>
<td>
<p>A connection to a local arrow connection as returned by <code>get_cansim_connection</code>,
possibly with filters or other <code>dplyr</code> verbs applied</p>
</td></tr>
<tr><td><code id="collect_and_normalize_+3A_replacement_value">replacement_value</code></td>
<td>
<p>(Optional) the name of the column the manipulated value should be returned in. Defaults to adding the 'val_norm' value field.</p>
</td></tr>
<tr><td><code id="collect_and_normalize_+3A_normalize_percent">normalize_percent</code></td>
<td>
<p>(Optional) When <code>true</code> (the default) normalizes percentages by changing them to rates</p>
</td></tr>
<tr><td><code id="collect_and_normalize_+3A_default_month">default_month</code></td>
<td>
<p>The default month that should be used when creating Date objects for annual data (default set to &quot;07&quot;)</p>
</td></tr>
<tr><td><code id="collect_and_normalize_+3A_default_day">default_day</code></td>
<td>
<p>The default day of the month that should be used when creating Date objects for monthly data (default set to &quot;01&quot;)</p>
</td></tr>
<tr><td><code id="collect_and_normalize_+3A_factors">factors</code></td>
<td>
<p>(Optional) Logical value indicating if dimensions should be converted to factors. (Default set to <code>FALSE</code>).</p>
</td></tr>
<tr><td><code id="collect_and_normalize_+3A_strip_classification_code">strip_classification_code</code></td>
<td>
<p>(Optional) Logical value indicating if classification code should be stripped from names. (Default set to <code>false</code>).</p>
</td></tr>
<tr><td><code id="collect_and_normalize_+3A_disconnect">disconnect</code></td>
<td>
<p>(Optional) Only used when format is sqlite. Logical value to indicate if the SQLite database connection should be disconnected. (Default is <code>FALSE</code>)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with the collected and normalized data
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(dplyr)

con &lt;- get_cansim_connection("34-10-0013")
data &lt;- con %&gt;%
  filter(GEO=="Ontario") %&gt;%
  collect_and_normalize()


## End(Not run)
</code></pre>

<hr>
<h2 id='correspondence'>The correspondence file for old to new StatCan table numbers is included in the package</h2><span id='topic+correspondence'></span>

<h3>Description</h3>

<p>The correspondence file for old to new StatCan table numbers is included in the package
</p>


<h3>Author(s)</h3>

<p>Statistics Canada
</p>


<h3>References</h3>

<p><a href="https://www.statcan.gc.ca/eng/developers-developpeurs/cansim_id-product_id-concordance.csv">https://www.statcan.gc.ca/eng/developers-developpeurs/cansim_id-product_id-concordance.csv</a>
</p>

<hr>
<h2 id='create_index'>create database index</h2><span id='topic+create_index'></span>

<h3>Description</h3>

<p>create database index
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_index(connection, table_name, field)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="create_index_+3A_connection">connection</code></td>
<td>
<p>connection to database</p>
</td></tr>
<tr><td><code id="create_index_+3A_table_name">table_name</code></td>
<td>
<p>sql table name</p>
</td></tr>
<tr><td><code id="create_index_+3A_field">field</code></td>
<td>
<p>name of field to index</p>
</td></tr>
</table>


<h3>Value</h3>

<p>'NULL&ldquo;
</p>

<hr>
<h2 id='csv2arrow'>convert csv to arrow</h2><span id='topic+csv2arrow'></span>

<h3>Description</h3>

<p>convert csv to arrow
</p>


<h3>Usage</h3>

<pre><code class='language-R'>csv2arrow(
  csv_file,
  arrow_file,
  format = "parquet",
  col_names,
  value_column = "VALUE",
  partitioning = c(),
  na = c(NA, "..", "", "...", "F"),
  text_encoding = "UTF-8",
  delim = ","
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="csv2arrow_+3A_csv_file">csv_file</code></td>
<td>
<p>input csv path</p>
</td></tr>
<tr><td><code id="csv2arrow_+3A_arrow_file">arrow_file</code></td>
<td>
<p>output arrow database path</p>
</td></tr>
<tr><td><code id="csv2arrow_+3A_format">format</code></td>
<td>
<p>format of arrow file, &quot;parquet&quot; or &quot;feather&quot; (default parquet)</p>
</td></tr>
<tr><td><code id="csv2arrow_+3A_col_names">col_names</code></td>
<td>
<p>column names of the csv file</p>
</td></tr>
<tr><td><code id="csv2arrow_+3A_value_column">value_column</code></td>
<td>
<p>name of the value column with numeric data</p>
</td></tr>
<tr><td><code id="csv2arrow_+3A_partitioning">partitioning</code></td>
<td>
<p>optional partition columns</p>
</td></tr>
<tr><td><code id="csv2arrow_+3A_na">na</code></td>
<td>
<p>na character strings</p>
</td></tr>
<tr><td><code id="csv2arrow_+3A_text_encoding">text_encoding</code></td>
<td>
<p>encoding of csv file (default UTF-8)</p>
</td></tr>
<tr><td><code id="csv2arrow_+3A_delim">delim</code></td>
<td>
<p>(Optional) csv deliminator, default is &quot;,&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A database connection
</p>

<hr>
<h2 id='csv2sqlite'>convert csv to sqlite
adapted from https://rdrr.io/github/coolbutuseless/csv2sqlite/src/R/csv2sqlite.R</h2><span id='topic+csv2sqlite'></span>

<h3>Description</h3>

<p>convert csv to sqlite
adapted from https://rdrr.io/github/coolbutuseless/csv2sqlite/src/R/csv2sqlite.R
</p>


<h3>Usage</h3>

<pre><code class='language-R'>csv2sqlite(
  csv_file,
  sqlite_file,
  table_name,
  transform = NULL,
  chunk_size = 5e+06,
  append = FALSE,
  col_types = NULL,
  na = c(NA, "..", "", "...", "F"),
  text_encoding = "UTF-8",
  delim = ",",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="csv2sqlite_+3A_csv_file">csv_file</code></td>
<td>
<p>input csv path</p>
</td></tr>
<tr><td><code id="csv2sqlite_+3A_sqlite_file">sqlite_file</code></td>
<td>
<p>output sql database path</p>
</td></tr>
<tr><td><code id="csv2sqlite_+3A_table_name">table_name</code></td>
<td>
<p>sql table name</p>
</td></tr>
<tr><td><code id="csv2sqlite_+3A_transform">transform</code></td>
<td>
<p>optional function that transforms each chunk</p>
</td></tr>
<tr><td><code id="csv2sqlite_+3A_chunk_size">chunk_size</code></td>
<td>
<p>optional chunk size to read/write data, default=1,000,000</p>
</td></tr>
<tr><td><code id="csv2sqlite_+3A_append">append</code></td>
<td>
<p>optional parameter, append to database or overwrite, defaul='FALSE'</p>
</td></tr>
<tr><td><code id="csv2sqlite_+3A_col_types">col_types</code></td>
<td>
<p>optional parameter for csv column types</p>
</td></tr>
<tr><td><code id="csv2sqlite_+3A_na">na</code></td>
<td>
<p>na character strings</p>
</td></tr>
<tr><td><code id="csv2sqlite_+3A_text_encoding">text_encoding</code></td>
<td>
<p>encoding of csv file (default UTF-8)</p>
</td></tr>
<tr><td><code id="csv2sqlite_+3A_delim">delim</code></td>
<td>
<p>(Optional) csv deliminator, default is &quot;,&quot;</p>
</td></tr>
<tr><td><code id="csv2sqlite_+3A_...">...</code></td>
<td>
<p>(Optional) additional parameters passed to 'readr::read_delim_chunked'</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A database connection
</p>

<hr>
<h2 id='disconnect_cansim_sqlite'>Disconnect from a cansim database connection</h2><span id='topic+disconnect_cansim_sqlite'></span>

<h3>Description</h3>

<p>Disconnect from a cansim database connection
</p>


<h3>Usage</h3>

<pre><code class='language-R'>disconnect_cansim_sqlite(connection)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="disconnect_cansim_sqlite_+3A_connection">connection</code></td>
<td>
<p>connection to database</p>
</td></tr>
</table>


<h3>Value</h3>

<p>'NULL&ldquo;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
con &lt;- get_cansim_sqlite("34-10-0013")
disconnect_cansim_sqlite(con)

## End(Not run)
</code></pre>

<hr>
<h2 id='fold_in_metadata_for_columns'>Fold in metadata and for selected columns</h2><span id='topic+fold_in_metadata_for_columns'></span>

<h3>Description</h3>

<p>Fold in metadata and for selected columns
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fold_in_metadata_for_columns(data, data_path, column_names)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fold_in_metadata_for_columns_+3A_data">data</code></td>
<td>
<p>A tibble with StatCan table data as e.g. returned by <code>get_cansim</code>.</p>
</td></tr>
<tr><td><code id="fold_in_metadata_for_columns_+3A_data_path">data_path</code></td>
<td>
<p>base path to save parsed metadata</p>
</td></tr>
<tr><td><code id="fold_in_metadata_for_columns_+3A_column_names">column_names</code></td>
<td>
<p>the names of the columns</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble including the metadata information
</p>

<hr>
<h2 id='get_cansim'>Retrieve a Statistics Canada data table using NDM catalogue number</h2><span id='topic+get_cansim'></span>

<h3>Description</h3>

<p>Retrieves a data table using an NDM catalogue number as a tidy data frame. Retrieved table data is cached for the duration of the current R session only by default.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_cansim(
  cansimTableNumber,
  language = "english",
  refresh = FALSE,
  timeout = 200,
  factors = TRUE,
  default_month = "07",
  default_day = "01"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_cansim_+3A_cansimtablenumber">cansimTableNumber</code></td>
<td>
<p>the NDM table number to load</p>
</td></tr>
<tr><td><code id="get_cansim_+3A_language">language</code></td>
<td>
<p><code>"en"</code> or <code>"english"</code> for English and <code>"fr"</code> or <code>"french"</code> for French language versions (defaults to English)</p>
</td></tr>
<tr><td><code id="get_cansim_+3A_refresh">refresh</code></td>
<td>
<p>(Optional) When set to <code>TRUE</code>, forces a reload of data table (default is <code>FALSE</code>)</p>
</td></tr>
<tr><td><code id="get_cansim_+3A_timeout">timeout</code></td>
<td>
<p>(Optional) Timeout in seconds for downloading cansim table to work around scenarios where StatCan servers drop the network connection.</p>
</td></tr>
<tr><td><code id="get_cansim_+3A_factors">factors</code></td>
<td>
<p>(Optional) Logical value indicating if dimensions should be converted to factors. (Default set to <code>TRUE</code>).</p>
</td></tr>
<tr><td><code id="get_cansim_+3A_default_month">default_month</code></td>
<td>
<p>The default month that should be used when creating Date objects for annual data (default set to &quot;07&quot;)</p>
</td></tr>
<tr><td><code id="get_cansim_+3A_default_day">default_day</code></td>
<td>
<p>The default day of the month that should be used when creating Date objects for monthly data (default set to &quot;01&quot;)
Set to higher values for large tables and slow network connection. (Default is <code>200</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with StatCan Table data and added <code>Date</code> column with inferred date objects and
added <code>val_norm</code> column with normalized value from the <code>VALUE</code> column.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
get_cansim("34-10-0013")

## End(Not run)
</code></pre>

<hr>
<h2 id='get_cansim_changed_tables'>Retrieve a list of modified tables since a given date</h2><span id='topic+get_cansim_changed_tables'></span>

<h3>Description</h3>

<p>Retrieve a list of tables that have been modified or updated since the specified date.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_cansim_changed_tables(start_date, end_date = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_cansim_changed_tables_+3A_start_date">start_date</code></td>
<td>
<p>Starting date in <code>YYYY-MM-DD</code> format to look for changes that changed on or after that date</p>
</td></tr>
<tr><td><code id="get_cansim_changed_tables_+3A_end_date">end_date</code></td>
<td>
<p>Optional end date in <code>YYYY-MM-DD</code> format to look for changes that changed on or before that date,
default is same as start date</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with Statistics Canada data table product ids and their release times
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
get_cansim_changed_tables("2018-08-01")

## End(Not run)
</code></pre>

<hr>
<h2 id='get_cansim_code_set'>Get NDM code sets</h2><span id='topic+get_cansim_code_set'></span>

<h3>Description</h3>

<p>Useful to get a list of surveys  or subjects and used internally
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_cansim_code_set(
  code_set = c("scalar", "frequency", "symbol", "status", "uom", "survey", "subject",
    "wdsResponseStatus"),
  refresh = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_cansim_code_set_+3A_code_set">code_set</code></td>
<td>
<p>the code set to retrieve.</p>
</td></tr>
<tr><td><code id="get_cansim_code_set_+3A_refresh">refresh</code></td>
<td>
<p>Default is <code>FALSE</code>, repeated calls during the same session will hit the cached data.
To refresh the code list during a running R session set to <code>TRUE</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with english and french labels for the given code set
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
get_cansim_code_set("survey")

## End(Not run)
</code></pre>

<hr>
<h2 id='get_cansim_column_categories'>Retrieve Statistics Canada data table categories for a specific column</h2><span id='topic+get_cansim_column_categories'></span>

<h3>Description</h3>

<p>Returns table column details given an NDM table number in English or French. Retrieved table information data is cached for the duration of the R session only.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_cansim_column_categories(
  cansimTableNumber,
  column,
  language = "english",
  refresh = FALSE,
  timeout = 200
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_cansim_column_categories_+3A_cansimtablenumber">cansimTableNumber</code></td>
<td>
<p>the NDM table number to load</p>
</td></tr>
<tr><td><code id="get_cansim_column_categories_+3A_column">column</code></td>
<td>
<p>the specified column for which to retrieve category information for</p>
</td></tr>
<tr><td><code id="get_cansim_column_categories_+3A_language">language</code></td>
<td>
<p><code>"en"</code> or <code>"english"</code> for English and <code>"fr"</code> or <code>"french"</code> for French language versions (default set to English)</p>
</td></tr>
<tr><td><code id="get_cansim_column_categories_+3A_refresh">refresh</code></td>
<td>
<p>(Optional) When set to <code>TRUE</code>, forces a reload of data table (default is <code>FALSE</code>)</p>
</td></tr>
<tr><td><code id="get_cansim_column_categories_+3A_timeout">timeout</code></td>
<td>
<p>(Optional) Timeout in seconds for downloading cansim table to work around scenarios where StatCan servers drop the network connection.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with detailed information on StatCan table categories for the specified field
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
get_cansim_column_categories("34-10-0013", "Geography")

## End(Not run)
</code></pre>

<hr>
<h2 id='get_cansim_column_list'>Retrieve Statistics Canada data table column list</h2><span id='topic+get_cansim_column_list'></span>

<h3>Description</h3>

<p>Returns table column details given an NDM table number in English or French. Retrieved table information data is cached for the duration of the R session only.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_cansim_column_list(
  cansimTableNumber,
  language = "english",
  refresh = FALSE,
  timeout = 200
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_cansim_column_list_+3A_cansimtablenumber">cansimTableNumber</code></td>
<td>
<p>the NDM table number to load</p>
</td></tr>
<tr><td><code id="get_cansim_column_list_+3A_language">language</code></td>
<td>
<p><code>"en"</code> or <code>"english"</code> for English and <code>"fr"</code> or <code>"french"</code> for French language versions (default set to English)</p>
</td></tr>
<tr><td><code id="get_cansim_column_list_+3A_refresh">refresh</code></td>
<td>
<p>(Optional) When set to <code>TRUE</code>, forces a reload of data table (default is <code>FALSE</code>)</p>
</td></tr>
<tr><td><code id="get_cansim_column_list_+3A_timeout">timeout</code></td>
<td>
<p>(Optional) Timeout in seconds for downloading cansim table to work around scenarios where StatCan servers drop the network connection.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble listing the column names of the StatCan table.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
get_cansim_column_list("34-10-0013")

## End(Not run)
</code></pre>

<hr>
<h2 id='get_cansim_connection'>Retrieve a Statistics Canada data table using NDM catalogue number as parquet, feather, or sqlite database connection</h2><span id='topic+get_cansim_connection'></span>

<h3>Description</h3>

<p>Retrieves a data table using an NDM catalogue number as parquet, feather, or SQLite database connection. Retrieved table data is
cached permanently if a cache path is supplied or for duration of the current R session.
If the table is cached the function will check if a newer version is available
and emit a warning message if the cached table is out of date.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_cansim_connection(
  cansimTableNumber,
  language = "english",
  format = "parquet",
  partitioning = c(),
  refresh = FALSE,
  timeout = 1000,
  cache_path = getOption("cansim.cache_path")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_cansim_connection_+3A_cansimtablenumber">cansimTableNumber</code></td>
<td>
<p>the NDM table number to load</p>
</td></tr>
<tr><td><code id="get_cansim_connection_+3A_language">language</code></td>
<td>
<p><code>"en"</code> or <code>"english"</code> for English and <code>"fr"</code> or <code>"french"</code> for French language versions (defaults to English)</p>
</td></tr>
<tr><td><code id="get_cansim_connection_+3A_format">format</code></td>
<td>
<p>(Optional) The format of the data table to retrieve. Either <code>"parquet"</code>, <code>"feather"</code>, or <code>sqlite</code> (default is <code>"parquet"</code>).</p>
</td></tr>
<tr><td><code id="get_cansim_connection_+3A_partitioning">partitioning</code></td>
<td>
<p>(Optional) Partition columns to use for parquet or feather formats.</p>
</td></tr>
<tr><td><code id="get_cansim_connection_+3A_refresh">refresh</code></td>
<td>
<p>(Optional) Valid options are <code>FALSE</code> (the default), <code>TRUE</code>, and <code>"auto"</code>. When set
to <code>TRUE</code>, forces a reload of data table, when set to <code>"auto"</code> it will refresh the table by downloading
the newest version from StatCan if the table is out of date. If set to <code>FALSE</code> and the table is out of date
a warning will be emitted to alert the user that the data is outdated.</p>
</td></tr>
<tr><td><code id="get_cansim_connection_+3A_timeout">timeout</code></td>
<td>
<p>(Optional) Timeout in seconds for downloading cansim table to work around scenarios where StatCan servers drop the network connection.</p>
</td></tr>
<tr><td><code id="get_cansim_connection_+3A_cache_path">cache_path</code></td>
<td>
<p>(Optional) Path to where to cache the table permanently. By default, the data is cached
in the path specified by 'getOption(&quot;cansim.cache_path&quot;)', if this is set. Otherwise it will use 'tempdir()'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A database connection to a local parquet, feather, or sqlite database with the StatCan Table data. The data
frames after calling 'collect()' or 'collect_and_normalize()' are identical up to possibly different row order.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
con &lt;- get_cansim_connection("34-10-0013")

# Work with the data connection
glimpse(con)


## End(Not run)
</code></pre>

<hr>
<h2 id='get_cansim_cube_metadata'>Retrieve table metadata from Statistics Canada API</h2><span id='topic+get_cansim_cube_metadata'></span>

<h3>Description</h3>

<p>Retrieves table metadata given an input table number or vector of table numbers using either the new or old table number format. Patience is suggested as the Statistics Canada API can be very slow. The 'list_cansim_tables()' function can be used as an alternative to retrieve a (cached) list of CANSIM tables with (more limited) metadata.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_cansim_cube_metadata(cansimTableNumber, type = "overview", refresh = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_cansim_cube_metadata_+3A_cansimtablenumber">cansimTableNumber</code></td>
<td>
<p>A new or old CANSIM/NDM table number or a vector of table numbers</p>
</td></tr>
<tr><td><code id="get_cansim_cube_metadata_+3A_type">type</code></td>
<td>
<p>Which type of metadata to get, options are &quot;overview&quot;, &quot;members&quot;, &quot;notes&quot;, or &quot;corrections&quot;.</p>
</td></tr>
<tr><td><code id="get_cansim_cube_metadata_+3A_refresh">refresh</code></td>
<td>
<p>Refresh the data from the Statistics Canada API</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a tibble containing the table metadata
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
get_cansim_cube_metadata("34-10-0013")

## End(Not run)
</code></pre>

<hr>
<h2 id='get_cansim_data_for_table_coord_periods'>Retrieve data for specified Statistics Canada data product for last N periods for specific coordinates</h2><span id='topic+get_cansim_data_for_table_coord_periods'></span>

<h3>Description</h3>

<p>Allows for the retrieval of data for a Statistics Canada data table with specific coordinates for the N most-recently released periods. Caution: coordinates are concatenations of table member ID values and require familiarity with the TableMetadata data structure. Coordinates have a maximum of ten dimensions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_cansim_data_for_table_coord_periods(
  cansimTableNumber,
  coordinate,
  periods = 1,
  language = "english",
  refresh = FALSE,
  timeout = 200,
  factors = TRUE,
  default_month = "07",
  default_day = "01"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_cansim_data_for_table_coord_periods_+3A_cansimtablenumber">cansimTableNumber</code></td>
<td>
<p>Statistics Canada data table number</p>
</td></tr>
<tr><td><code id="get_cansim_data_for_table_coord_periods_+3A_coordinate">coordinate</code></td>
<td>
<p>A string of table coordinates in the form <code>"1.1.1.36.1.0.0.0.0.0"</code>. Trailing zeros can be omitted.</p>
</td></tr>
<tr><td><code id="get_cansim_data_for_table_coord_periods_+3A_periods">periods</code></td>
<td>
<p>Numeric value for number of latest periods to retrieve data for</p>
</td></tr>
<tr><td><code id="get_cansim_data_for_table_coord_periods_+3A_language">language</code></td>
<td>
<p><code>"en"</code> or <code>"english"</code> for English and <code>"fr"</code> or <code>"french"</code> for French language versions (defaults to English)</p>
</td></tr>
<tr><td><code id="get_cansim_data_for_table_coord_periods_+3A_refresh">refresh</code></td>
<td>
<p>(Optional) When set to <code>TRUE</code>, forces a reload of data table (default is <code>FALSE</code>)</p>
</td></tr>
<tr><td><code id="get_cansim_data_for_table_coord_periods_+3A_timeout">timeout</code></td>
<td>
<p>(Optional) Timeout in seconds for downloading cansim table to work around scenarios where StatCan servers drop the network connection.</p>
</td></tr>
<tr><td><code id="get_cansim_data_for_table_coord_periods_+3A_factors">factors</code></td>
<td>
<p>(Optional) Logical value indicating if dimensions should be converted to factors. (Default set to <code>TRUE</code>).</p>
</td></tr>
<tr><td><code id="get_cansim_data_for_table_coord_periods_+3A_default_month">default_month</code></td>
<td>
<p>The default month that should be used when creating Date objects for annual data (default set to &quot;07&quot;)</p>
</td></tr>
<tr><td><code id="get_cansim_data_for_table_coord_periods_+3A_default_day">default_day</code></td>
<td>
<p>The default day of the month that should be used when creating Date objects for monthly data (default set to &quot;01&quot;)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with data matching specified coordinate and period input arguments
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
get_cansim_data_for_table_coord_periods("35-10-0003",coordinate="1.12",periods=3)

## End(Not run)
</code></pre>

<hr>
<h2 id='get_cansim_key_release_schedule'>Major economic indicator release schedule</h2><span id='topic+get_cansim_key_release_schedule'></span>

<h3>Description</h3>

<p>Returns every release date of major economic indicators since March 14, 2012.
This also includes scheduled future releases.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_cansim_key_release_schedule()
</code></pre>


<h3>Value</h3>

<p>a tibble with data, and details for major economic indicator release
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
get_cansim_key_release_schedule()

## End(Not run)

</code></pre>

<hr>
<h2 id='get_cansim_sqlite'>Retrieve a Statistics Canada data table using NDM catalogue number as SQLite database connection</h2><span id='topic+get_cansim_sqlite'></span>

<h3>Description</h3>

<p>Retrieves a data table using an NDM catalogue number as an SQLite table. Retrieved table data is
cached permanently if a cache path is supplied or for duration of the current R session.
The function will check against the lastest release data for the table and emit a warning message
if the cached table is out of date.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_cansim_sqlite(
  cansimTableNumber,
  language = "english",
  refresh = FALSE,
  auto_refresh = FALSE,
  timeout = 1000,
  cache_path = getOption("cansim.cache_path")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_cansim_sqlite_+3A_cansimtablenumber">cansimTableNumber</code></td>
<td>
<p>the NDM table number to load</p>
</td></tr>
<tr><td><code id="get_cansim_sqlite_+3A_language">language</code></td>
<td>
<p><code>"en"</code> or <code>"english"</code> for English and <code>"fr"</code> or <code>"french"</code> for French language versions (defaults to English)</p>
</td></tr>
<tr><td><code id="get_cansim_sqlite_+3A_refresh">refresh</code></td>
<td>
<p>(Optional) When set to <code>TRUE</code>, forces a reload of data table (default is <code>FALSE</code>)</p>
</td></tr>
<tr><td><code id="get_cansim_sqlite_+3A_auto_refresh">auto_refresh</code></td>
<td>
<p>(Optional) When set to <code>TRUE</code>, it will reload of data table if a new version is available (default is <code>FALSE</code>)</p>
</td></tr>
<tr><td><code id="get_cansim_sqlite_+3A_timeout">timeout</code></td>
<td>
<p>(Optional) Timeout in seconds for downloading cansim table to work around scenarios where StatCan servers drop the network connection.</p>
</td></tr>
<tr><td><code id="get_cansim_sqlite_+3A_cache_path">cache_path</code></td>
<td>
<p>(Optional) Path to where to cache the table permanently. By default, the data is cached
in the path specified by 'getOption(&quot;cansim.cache_path&quot;)', if this is set. Otherwise it will use 'tempdir()'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A database connection to a local SQLite database with the StatCan Table data.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
con &lt;- get_cansim_connection("34-10-0013", format="sqlite")

# Work with the data connection
gplimpse(con)

disconnect_cansim_sqlite(con)

## End(Not run)
</code></pre>

<hr>
<h2 id='get_cansim_table_info'>Retrieve Statistics Canada data table information</h2><span id='topic+get_cansim_table_info'></span>

<h3>Description</h3>

<p>Returns table information given an NDM table catalogue number in English or French. Retrieved table information data is cached for the duration of the R session only.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_cansim_table_info(
  cansimTableNumber,
  language = "english",
  refresh = FALSE,
  timeout = 200
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_cansim_table_info_+3A_cansimtablenumber">cansimTableNumber</code></td>
<td>
<p>the NDM table number to load</p>
</td></tr>
<tr><td><code id="get_cansim_table_info_+3A_language">language</code></td>
<td>
<p><code>"en"</code> or <code>"english"</code> for English and <code>"fr"</code> or <code>"french"</code> for French language versions (default set to English)</p>
</td></tr>
<tr><td><code id="get_cansim_table_info_+3A_refresh">refresh</code></td>
<td>
<p>(Optional) When set to <code>TRUE</code>, forces a reload of data table (default is <code>FALSE</code>)</p>
</td></tr>
<tr><td><code id="get_cansim_table_info_+3A_timeout">timeout</code></td>
<td>
<p>(Optional) Timeout in seconds for downloading cansim table to work around scenarios where StatCan servers drop the network connection.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with the table overview information
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
get_cansim_table_info("34-10-0013")

## End(Not run)
</code></pre>

<hr>
<h2 id='get_cansim_table_last_release_date'>Get the latest release data for a StatCan table, if available</h2><span id='topic+get_cansim_table_last_release_date'></span>

<h3>Description</h3>

<p>This can be used to check when a table has last been updated.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_cansim_table_last_release_date(cansimTableNumber)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_cansim_table_last_release_date_+3A_cansimtablenumber">cansimTableNumber</code></td>
<td>
<p>the NDM table number</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A datatime object if a release data is available, NULL otherwise.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
get_cansim_table_last_release_date("34-10-0013")

## End(Not run)
</code></pre>

<hr>
<h2 id='get_cansim_table_notes'>Retrieve Statistics Canada data table notes and column categories</h2><span id='topic+get_cansim_table_notes'></span>

<h3>Description</h3>

<p>Returns table notes given an NDM table number in English or French. Retrieved table information data is cached for the duration of the R session only.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_cansim_table_notes(
  cansimTableNumber,
  language = "en",
  refresh = FALSE,
  timeout = 200
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_cansim_table_notes_+3A_cansimtablenumber">cansimTableNumber</code></td>
<td>
<p>the NDM table number to load</p>
</td></tr>
<tr><td><code id="get_cansim_table_notes_+3A_language">language</code></td>
<td>
<p><code>"en"</code> or <code>"english"</code> for English and <code>"fr"</code> or <code>"french"</code> for French language versions (default set to English)</p>
</td></tr>
<tr><td><code id="get_cansim_table_notes_+3A_refresh">refresh</code></td>
<td>
<p>(Optional) When set to <code>TRUE</code>, forces a reload of data table (default is <code>FALSE</code>)</p>
</td></tr>
<tr><td><code id="get_cansim_table_notes_+3A_timeout">timeout</code></td>
<td>
<p>(Optional) Timeout in seconds for downloading cansim table to work around scenarios where StatCan servers drop the network connection.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with table notes.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
get_cansim_table_notes("34-10-0013")

## End(Not run)
</code></pre>

<hr>
<h2 id='get_cansim_table_overview'>Retrieve Statistics Canada data table overview text</h2><span id='topic+get_cansim_table_overview'></span>

<h3>Description</h3>

<p>Prints table overview information as console output. In order to display table overview information, the selected CANSIM table must be loaded entirely to display overview information. Overview information is printed in console an in English or French, as specified.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_cansim_table_overview(
  cansimTableNumber,
  language = "english",
  refresh = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_cansim_table_overview_+3A_cansimtablenumber">cansimTableNumber</code></td>
<td>
<p>the NDM table number to load</p>
</td></tr>
<tr><td><code id="get_cansim_table_overview_+3A_language">language</code></td>
<td>
<p><code>"en"</code> or <code>"english"</code> for English and <code>"fr"</code> or <code>"french"</code> for French language versions (default set to English)</p>
</td></tr>
<tr><td><code id="get_cansim_table_overview_+3A_refresh">refresh</code></td>
<td>
<p>(Optional) When set to <code>TRUE</code>, forces a reload of data table (default is <code>FALSE</code>)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>none
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
get_cansim_table_overview("34-10-0013")

## End(Not run)
</code></pre>

<hr>
<h2 id='get_cansim_table_short_notes'>Retrieve Statistics Canada data table short notes</h2><span id='topic+get_cansim_table_short_notes'></span>

<h3>Description</h3>

<p>Returns table notes given an NDM table number in English or French. Retrieved table information data is cached for the duration of the R session only.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_cansim_table_short_notes(
  cansimTableNumber,
  language = "english",
  refresh = FALSE,
  timeout = 200
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_cansim_table_short_notes_+3A_cansimtablenumber">cansimTableNumber</code></td>
<td>
<p>the NDM table number to load</p>
</td></tr>
<tr><td><code id="get_cansim_table_short_notes_+3A_language">language</code></td>
<td>
<p><code>"en"</code> or <code>"english"</code> for English and <code>"fr"</code> or <code>"french"</code> for French language versions (default set to English)</p>
</td></tr>
<tr><td><code id="get_cansim_table_short_notes_+3A_refresh">refresh</code></td>
<td>
<p>(Optional) When set to <code>TRUE</code>, forces a reload of data table (default is <code>FALSE</code>)</p>
</td></tr>
<tr><td><code id="get_cansim_table_short_notes_+3A_timeout">timeout</code></td>
<td>
<p>(Optional) Timeout in seconds for downloading cansim table to work around scenarios where StatCan servers drop the network connection.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with the StatCan Notes for the table
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
get_cansim_table_short_notes("34-10-0013")

## End(Not run)
</code></pre>

<hr>
<h2 id='get_cansim_table_subject'>Retrieve Statistics Canada data table subject detail</h2><span id='topic+get_cansim_table_subject'></span>

<h3>Description</h3>

<p>Returns table subject detail given an NDM table number in English or French. Retrieved table information data is cached for the duration of the R session only.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_cansim_table_subject(
  cansimTableNumber,
  language = "english",
  refresh = FALSE,
  timeout = 200
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_cansim_table_subject_+3A_cansimtablenumber">cansimTableNumber</code></td>
<td>
<p>the NDM table number to load</p>
</td></tr>
<tr><td><code id="get_cansim_table_subject_+3A_language">language</code></td>
<td>
<p><code>"en"</code> or <code>"english"</code> for English and <code>"fr"</code> or <code>"french"</code> for French language versions (default set to English)</p>
</td></tr>
<tr><td><code id="get_cansim_table_subject_+3A_refresh">refresh</code></td>
<td>
<p>(Optional) When set to <code>TRUE</code>, forces a reload of data table (default is <code>FALSE</code>)</p>
</td></tr>
<tr><td><code id="get_cansim_table_subject_+3A_timeout">timeout</code></td>
<td>
<p>(Optional) Timeout in seconds for downloading cansim table to work around scenarios where StatCan servers drop the network connection.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with the table subject code and name.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
get_cansim_table_subject("34-10-0013")

## End(Not run)
</code></pre>

<hr>
<h2 id='get_cansim_table_survey'>Retrieve Statistics Canada data table survey detail</h2><span id='topic+get_cansim_table_survey'></span>

<h3>Description</h3>

<p>Returns table survey detail given an NDM table number in English or French. Retrieved table information data is cached for the duration of the R session only.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_cansim_table_survey(
  cansimTableNumber,
  language = "english",
  refresh = FALSE,
  timeout = 200
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_cansim_table_survey_+3A_cansimtablenumber">cansimTableNumber</code></td>
<td>
<p>the NDM table number to load</p>
</td></tr>
<tr><td><code id="get_cansim_table_survey_+3A_language">language</code></td>
<td>
<p><code>"en"</code> or <code>"english"</code> for English and <code>"fr"</code> or <code>"french"</code> for French language versions (default set to English)</p>
</td></tr>
<tr><td><code id="get_cansim_table_survey_+3A_refresh">refresh</code></td>
<td>
<p>(Optional) When set to <code>TRUE</code>, forces a reload of data table (default is <code>FALSE</code>)</p>
</td></tr>
<tr><td><code id="get_cansim_table_survey_+3A_timeout">timeout</code></td>
<td>
<p>(Optional) Timeout in seconds for downloading cansim table to work around scenarios where StatCan servers drop the network connection.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with the table survey code and name
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
get_cansim_table_survey("34-10-0013")

## End(Not run)
</code></pre>

<hr>
<h2 id='get_cansim_table_url'>Retrieve a Statistics Canada data table URL given a table number</h2><span id='topic+get_cansim_table_url'></span>

<h3>Description</h3>

<p>Retrieve URL of a table from the API given a table number. Offers a more stable approach than manually guessing the URL of the table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_cansim_table_url(cansimTableNumber, language = "en")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_cansim_table_url_+3A_cansimtablenumber">cansimTableNumber</code></td>
<td>
<p>the NDM table number to load</p>
</td></tr>
<tr><td><code id="get_cansim_table_url_+3A_language">language</code></td>
<td>
<p><code>"en"</code> or <code>"english"</code> for English and <code>"fr"</code> or <code>"french"</code> for French language versions (defaults to English)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>String object containing URL for specified table number
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
get_cansim_table_url("34-10-0013")
get_cansim_table_url("34-10-0013", language = "fr")

## End(Not run)
</code></pre>

<hr>
<h2 id='get_cansim_vector'>Retrieve data for a Statistics Canada data vector released within a given time frame</h2><span id='topic+get_cansim_vector'></span>

<h3>Description</h3>

<p>Retrieve data for a Statistics Canada data vector released within a given time frame
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_cansim_vector(
  vectors,
  start_time = as.Date("1800-01-01"),
  end_time = Sys.time(),
  use_ref_date = TRUE,
  language = "english",
  refresh = FALSE,
  timeout = 200,
  factors = TRUE,
  default_month = "07",
  default_day = "01"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_cansim_vector_+3A_vectors">vectors</code></td>
<td>
<p>The list of vectors to retrieve</p>
</td></tr>
<tr><td><code id="get_cansim_vector_+3A_start_time">start_time</code></td>
<td>
<p>Starting date in <code>YYYY-MM-DD</code> format, applies to <code>REF_DATE</code> or <code>releaseTime</code>, depending on <code>use_ref_date</code> parameter</p>
</td></tr>
<tr><td><code id="get_cansim_vector_+3A_end_time">end_time</code></td>
<td>
<p>Set an optional end time filter in <code>YYYY-MM-DD</code> format (defaults to current system time)</p>
</td></tr>
<tr><td><code id="get_cansim_vector_+3A_use_ref_date">use_ref_date</code></td>
<td>
<p>Optional, <code>TRUE</code> by default. When set to <code>TRUE</code>, uses <code>REF_DATE</code> of vector data to filter, otherwise it uses StatisticsCanada's <code>releaseDate</code> value for filtering the specified vectors.</p>
</td></tr>
<tr><td><code id="get_cansim_vector_+3A_language">language</code></td>
<td>
<p><code>"en"</code> or <code>"english"</code> for English and <code>"fr"</code> or <code>"french"</code> for French language versions (defaults to English)</p>
</td></tr>
<tr><td><code id="get_cansim_vector_+3A_refresh">refresh</code></td>
<td>
<p>(Optional) When set to <code>TRUE</code>, forces a reload of data table (default is <code>FALSE</code>)</p>
</td></tr>
<tr><td><code id="get_cansim_vector_+3A_timeout">timeout</code></td>
<td>
<p>(Optional) Timeout in seconds for downloading cansim table to work around scenarios where StatCan servers drop the network connection.</p>
</td></tr>
<tr><td><code id="get_cansim_vector_+3A_factors">factors</code></td>
<td>
<p>(Optional) Logical value indicating if dimensions should be converted to factors. (Default set to <code>TRUE</code>).</p>
</td></tr>
<tr><td><code id="get_cansim_vector_+3A_default_month">default_month</code></td>
<td>
<p>The default month that should be used when creating Date objects for annual data (default set to &quot;07&quot;)</p>
</td></tr>
<tr><td><code id="get_cansim_vector_+3A_default_day">default_day</code></td>
<td>
<p>The default day of the month that should be used when creating Date objects for monthly data (default set to &quot;01&quot;)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with data for vectors released between start and end time
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
get_cansim_vector("v41690973","2015-01-01")

## End(Not run)
</code></pre>

<hr>
<h2 id='get_cansim_vector_for_latest_periods'>Retrieve data for specified Statistics Canada data vector(s) for last N periods</h2><span id='topic+get_cansim_vector_for_latest_periods'></span>

<h3>Description</h3>

<p>Allows for the retrieval of data for specified vector series for the N most-recently released periods.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_cansim_vector_for_latest_periods(
  vectors,
  periods = 1,
  language = "english",
  refresh = FALSE,
  timeout = 200,
  factors = TRUE,
  default_month = "07",
  default_day = "01"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_cansim_vector_for_latest_periods_+3A_vectors">vectors</code></td>
<td>
<p>The list of vectors to retrieve</p>
</td></tr>
<tr><td><code id="get_cansim_vector_for_latest_periods_+3A_periods">periods</code></td>
<td>
<p>Numeric value for number of latest periods to retrieve data for</p>
</td></tr>
<tr><td><code id="get_cansim_vector_for_latest_periods_+3A_language">language</code></td>
<td>
<p><code>"en"</code> or <code>"english"</code> for English and <code>"fr"</code> or <code>"french"</code> for French language versions (defaults to English)</p>
</td></tr>
<tr><td><code id="get_cansim_vector_for_latest_periods_+3A_refresh">refresh</code></td>
<td>
<p>(Optional) When set to <code>TRUE</code>, forces a reload of data table (default is <code>FALSE</code>)</p>
</td></tr>
<tr><td><code id="get_cansim_vector_for_latest_periods_+3A_timeout">timeout</code></td>
<td>
<p>(Optional) Timeout in seconds for downloading cansim table to work around scenarios where StatCan servers drop the network connection.</p>
</td></tr>
<tr><td><code id="get_cansim_vector_for_latest_periods_+3A_factors">factors</code></td>
<td>
<p>(Optional) Logical value indicating if dimensions should be converted to factors. (Default set to <code>TRUE</code>).</p>
</td></tr>
<tr><td><code id="get_cansim_vector_for_latest_periods_+3A_default_month">default_month</code></td>
<td>
<p>The default month that should be used when creating Date objects for annual data (default set to &quot;07&quot;)</p>
</td></tr>
<tr><td><code id="get_cansim_vector_for_latest_periods_+3A_default_day">default_day</code></td>
<td>
<p>The default day of the month that should be used when creating Date objects for monthly data (default set to &quot;01&quot;)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with data for specified vector(s) for the last N periods
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
get_cansim_vector_for_latest_periods("v41690973",10)

## End(Not run)
</code></pre>

<hr>
<h2 id='get_cansim_vector_info'>Retrieve metadata for specified Statistics Canada data vectors</h2><span id='topic+get_cansim_vector_info'></span>

<h3>Description</h3>

<p>Allows for the retrieval of metadatadata for Statistics Canada data vectors
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_cansim_vector_info(vectors)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_cansim_vector_info_+3A_vectors">vectors</code></td>
<td>
<p>a vector of cansim vectors</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with metadata for selected vectors
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
get_cansim_vector_info("v41690973")

## End(Not run)
</code></pre>

<hr>
<h2 id='get_deduped_column_level_data'>Get column names de-duplicated and in the correct order</h2><span id='topic+get_deduped_column_level_data'></span>

<h3>Description</h3>

<p>Get column names de-duplicated and in the correct order
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_deduped_column_level_data(cansimTableNumber, language, column)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_deduped_column_level_data_+3A_cansimtablenumber">cansimTableNumber</code></td>
<td>
<p>The table number</p>
</td></tr>
<tr><td><code id="get_deduped_column_level_data_+3A_language">language</code></td>
<td>
<p>The language of the column names</p>
</td></tr>
<tr><td><code id="get_deduped_column_level_data_+3A_column">column</code></td>
<td>
<p>The column name</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with the column names
</p>

<hr>
<h2 id='list_cansim_cached_tables'>List cached cansim arrow and SQlite databases</h2><span id='topic+list_cansim_cached_tables'></span>

<h3>Description</h3>

<p>List cached cansim arrow and SQlite databases
</p>


<h3>Usage</h3>

<pre><code class='language-R'>list_cansim_cached_tables(
  cache_path = getOption("cansim.cache_path"),
  refresh = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="list_cansim_cached_tables_+3A_cache_path">cache_path</code></td>
<td>
<p>Optional, default value is 'getOption(&quot;cansim.cache_path&quot;)'.</p>
</td></tr>
<tr><td><code id="list_cansim_cached_tables_+3A_refresh">refresh</code></td>
<td>
<p>Optional, refresh the last updated date of cached cansim tables</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with the list of all tables that are currently cached at the given cache path.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
list_cansim_cached_tables()

## End(Not run)
</code></pre>

<hr>
<h2 id='list_cansim_cubes'>Get overview list for all Statistics Canada data cubes</h2><span id='topic+list_cansim_cubes'></span>

<h3>Description</h3>

<p>Generates an overview table containing metadata of available Statistics Canada data cubes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>list_cansim_cubes(lite = FALSE, refresh = FALSE, quiet = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="list_cansim_cubes_+3A_lite">lite</code></td>
<td>
<p>Get the version without cube dimensions and comments for faster retrieval, default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="list_cansim_cubes_+3A_refresh">refresh</code></td>
<td>
<p>Default is <code>FALSE</code>, repeated calls during the same session will hit the cached data.</p>
</td></tr>
<tr><td><code id="list_cansim_cubes_+3A_quiet">quiet</code></td>
<td>
<p>Optional, suppress messages
To refresh the code list during a running R session set to <code>TRUE</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with available Statistics Canada data cubes, including NDM table number, cube title,
start and end dates, achieve status, subject and survey codes, frequency codes and a list of cube dimensions.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
list_cansim_cubes()

## End(Not run)

</code></pre>

<hr>
<h2 id='list_cansim_sqlite_cached_tables'>List cached cansim SQLite database</h2><span id='topic+list_cansim_sqlite_cached_tables'></span>

<h3>Description</h3>

<p>List cached cansim SQLite database
</p>


<h3>Usage</h3>

<pre><code class='language-R'>list_cansim_sqlite_cached_tables(
  cache_path = getOption("cansim.cache_path"),
  refresh = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="list_cansim_sqlite_cached_tables_+3A_cache_path">cache_path</code></td>
<td>
<p>Optional, default value is 'getOption(&quot;cansim.cache_path&quot;)'.</p>
</td></tr>
<tr><td><code id="list_cansim_sqlite_cached_tables_+3A_refresh">refresh</code></td>
<td>
<p>Optional, refresh the last updated date of cached cansim tables</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with the list of all tables that are currently cached at the given cache path.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
list_cansim_cached_tables()

## End(Not run)
</code></pre>

<hr>
<h2 id='list_cansim_tables'>Get overview list for all Statistics Canada data tables (deprecated)</h2><span id='topic+list_cansim_tables'></span>

<h3>Description</h3>

<p>This method is deprecated, please use 'list_cansim_cubes' instead.
Generates an overview table containing metadata of available Statistics Canada data tables. A new and updated table will be generated if this table does not already exist in cached form or if the force refresh option is selected (set to <code>FALSE</code> by default). This can take some time as this process involves scraping through hundreds of Statistics Canada web pages to gather the required metadata. If option <code>cansim.cache_path</code> is set it will look for and store the overview table in that directory.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>list_cansim_tables(refresh = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="list_cansim_tables_+3A_refresh">refresh</code></td>
<td>
<p>Default is <code>FALSE</code>, and will regenerate the table if set to <code>TRUE</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with available Statistics Canada data tables, listing title, Statistics Canada data table catalogue number, deprecated CANSIM table number, description, and geography
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
list_cansim_tables()

## End(Not run)

</code></pre>

<hr>
<h2 id='normalize_cansim_values'>Normalize retrieved data table values to appropriate scales</h2><span id='topic+normalize_cansim_values'></span>

<h3>Description</h3>

<p>Facilitates working with Statistics Canada data table values retrieved using the package by setting all units to counts/dollars instead of millions, etc. If &quot;replacement_value&quot; is not set, it will replace the <code>VALUE</code> field with normalized values and drop the <code>scale</code> column. Otherwise it will keep the scale columns and create a new column named replacement_value with the normalized value. It will attempt to parse the <code>REF_DATE</code> field and create an R date variable. This is currently experimental.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>normalize_cansim_values(
  data,
  replacement_value = "val_norm",
  normalize_percent = TRUE,
  default_month = "01",
  default_day = "01",
  factors = TRUE,
  strip_classification_code = FALSE,
  cansimTableNumber = NULL,
  internal = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="normalize_cansim_values_+3A_data">data</code></td>
<td>
<p>A retrieved data table as returned from <code>get_cansim()</code> pr <code>get_cansim_ndm()</code></p>
</td></tr>
<tr><td><code id="normalize_cansim_values_+3A_replacement_value">replacement_value</code></td>
<td>
<p>(Optional) the name of the column the manipulated value should be returned in. Defaults to &quot;val_norm&quot;</p>
</td></tr>
<tr><td><code id="normalize_cansim_values_+3A_normalize_percent">normalize_percent</code></td>
<td>
<p>(Optional) When <code>TRUE</code> (the default) normalizes percentages by changing them to rates</p>
</td></tr>
<tr><td><code id="normalize_cansim_values_+3A_default_month">default_month</code></td>
<td>
<p>The default month that should be used when creating Date objects for annual data (default set to &quot;01&quot;)</p>
</td></tr>
<tr><td><code id="normalize_cansim_values_+3A_default_day">default_day</code></td>
<td>
<p>The default day of the month that should be used when creating Date objects for monthly data (default set to &quot;01&quot;)</p>
</td></tr>
<tr><td><code id="normalize_cansim_values_+3A_factors">factors</code></td>
<td>
<p>(Optional) Logical value indicating if dimensions should be converted to factors. (Default set to <code>TRUE</code>).</p>
</td></tr>
<tr><td><code id="normalize_cansim_values_+3A_strip_classification_code">strip_classification_code</code></td>
<td>
<p>(strip_classification_code) Logical value indicating if classification code should be stripped
from names. (Default set to <code>FALSE</code>, if <code>factors=TRUE</code> this is overridden and set to <code>TRUE</code>).</p>
</td></tr>
<tr><td><code id="normalize_cansim_values_+3A_cansimtablenumber">cansimTableNumber</code></td>
<td>
<p>(Optional) Only needed when operating on results of SQLite connections.</p>
</td></tr>
<tr><td><code id="normalize_cansim_values_+3A_internal">internal</code></td>
<td>
<p>(Optional) Flag to indicate that this function is called internally.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a tibble with with adjusted values.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
cansim_table &lt;- get_cansim("34-10-0013")
normalize_cansim_values(cansim_table)

## End(Not run)
</code></pre>

<hr>
<h2 id='parse_metadata'>Parse metadata</h2><span id='topic+parse_metadata'></span>

<h3>Description</h3>

<p>Parse metadata
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parse_metadata(meta, data_path)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="parse_metadata_+3A_meta">meta</code></td>
<td>
<p>the raw metadata table</p>
</td></tr>
<tr><td><code id="parse_metadata_+3A_data_path">data_path</code></td>
<td>
<p>base path to save parsed metadata</p>
</td></tr>
</table>

<hr>
<h2 id='remove_cansim_cached_tables'>Remove cached cansim SQLite and parquet database</h2><span id='topic+remove_cansim_cached_tables'></span>

<h3>Description</h3>

<p>Remove cached cansim SQLite and parquet database
</p>


<h3>Usage</h3>

<pre><code class='language-R'>remove_cansim_cached_tables(
  cansimTableNumber,
  format = c("parquet", "feather", "sqlite"),
  language = NULL,
  cache_path = getOption("cansim.cache_path")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="remove_cansim_cached_tables_+3A_cansimtablenumber">cansimTableNumber</code></td>
<td>
<p>Vector of the table(s) to be removed, or a (filtered) table as returned by 'list_cansim_cached_tables'
with the list of tables to be removed.</p>
</td></tr>
<tr><td><code id="remove_cansim_cached_tables_+3A_format">format</code></td>
<td>
<p>Format of cache to remove, possible values are '&quot;parquet&quot;', '&quot;feather&quot;' or '&quot;sqlite&quot;' or a subset of these (the default is all of these)</p>
</td></tr>
<tr><td><code id="remove_cansim_cached_tables_+3A_language">language</code></td>
<td>
<p>Language for which to remove the cached data. If unspecified ('NULL') tables for all languages will be removed.</p>
</td></tr>
<tr><td><code id="remove_cansim_cached_tables_+3A_cache_path">cache_path</code></td>
<td>
<p>Optional, default value is 'getOption(&quot;cansim.cache_path&quot;)'</p>
</td></tr>
</table>


<h3>Value</h3>

<p>'NULL&ldquo;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
con &lt;- get_cansim_connection("34-10-0013", format="parquet")
remove_cansim_cached_tables("34-10-0013", format="parquet")

## End(Not run)
</code></pre>

<hr>
<h2 id='remove_cansim_sqlite_cached_table'>Remove cached cansim SQLite database</h2><span id='topic+remove_cansim_sqlite_cached_table'></span>

<h3>Description</h3>

<p>Remove cached cansim SQLite database
</p>


<h3>Usage</h3>

<pre><code class='language-R'>remove_cansim_sqlite_cached_table(
  cansimTableNumber,
  language = NULL,
  cache_path = getOption("cansim.cache_path")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="remove_cansim_sqlite_cached_table_+3A_cansimtablenumber">cansimTableNumber</code></td>
<td>
<p>Number of the table to be removed</p>
</td></tr>
<tr><td><code id="remove_cansim_sqlite_cached_table_+3A_language">language</code></td>
<td>
<p>Language for which to remove the cached data. If unspecified ('NULL') tables for all languages
will be removed</p>
</td></tr>
<tr><td><code id="remove_cansim_sqlite_cached_table_+3A_cache_path">cache_path</code></td>
<td>
<p>Optional, default value is 'getOption(&quot;cansim.cache_path&quot;)'</p>
</td></tr>
</table>


<h3>Value</h3>

<p>'NULL&ldquo;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
con &lt;- get_cansim_connection("34-10-0013", format="sqlite")
disconnect_cansim_sqlite(con)
remove_cansim_cached_tables("34-10-0013", format="sqlite")

## End(Not run)
</code></pre>

<hr>
<h2 id='search_cansim_cubes'>Search through Statistics Canada data cubes</h2><span id='topic+search_cansim_cubes'></span>

<h3>Description</h3>

<p>Searches through Statistics Canada data cubes using a search term.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>search_cansim_cubes(search_term, refresh = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="search_cansim_cubes_+3A_search_term">search_term</code></td>
<td>
<p>User-supplied search term used to find Statistics Canada data cubes with matching titles, table numbers, subject and survey codes.</p>
</td></tr>
<tr><td><code id="search_cansim_cubes_+3A_refresh">refresh</code></td>
<td>
<p>Default is <code>FALSE</code>. The underlying cube list is cached for the duration of the R sessions and will regenerate the cube list if set to <code>TRUE</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with available Statistics Canada data cubes, listing title, Statistics Canada data cube catalogue number, deprecated CANSIM table number, survey and subject.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
search_cansim_cubes("Labour force")

## End(Not run)

</code></pre>

<hr>
<h2 id='search_cansim_tables'>Search through Statistics Canada data tables (deprecated)</h2><span id='topic+search_cansim_tables'></span>

<h3>Description</h3>

<p>This method is deprecated, please use 'search_cansim_cubes' instead.
Searches through Statistics Canada data tables using a search term. A new table is generated if it already does not exist or if refresh option is set to <code>TRUE</code>. Search-terms are case insensitive, but will accept regular expressions for more advanced searching. The search function can search either through table titles or through table descriptions, depending on the whether or not <code>search_description</code> is set to <code>TRUE</code> or not. If <code>refresh = TRUE</code>, the table will be updated and regenerated using Statistics Canada's latest data. This can take some time since this process involves scraping through several hundred web pages to gather the required metadata. If option <code>cache_path</code> is set it will look for and store the overview table in that directory.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>search_cansim_tables(search_term, search_fields = "both", refresh = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="search_cansim_tables_+3A_search_term">search_term</code></td>
<td>
<p>User-supplied search term used to find Statistics Canada data tables with matching titles</p>
</td></tr>
<tr><td><code id="search_cansim_tables_+3A_search_fields">search_fields</code></td>
<td>
<p>By default, this function will search through table titles and keywords. Setting this parameter to &quot;title&quot; will only search through the title, setting it to &quot;keyword&quot; will only search through keywords</p>
</td></tr>
<tr><td><code id="search_cansim_tables_+3A_refresh">refresh</code></td>
<td>
<p>Default is <code>FALSE</code>, and will regenerate the table if set to <code>TRUE</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble with available Statistics Canada data tables, listing title, Statistics Canada data table catalogue number, deprecated CANSIM table number, description and geography that match the search term.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
search_cansim_tables("Labour force")

## End(Not run)

</code></pre>

<hr>
<h2 id='view_cansim_webpage'>View CANSIM table or vector information in browser</h2><span id='topic+view_cansim_webpage'></span>

<h3>Description</h3>

<p>Opens CANSIM table or vector on Statistics Canada's website using default browser. This may be useful for getting further info on CANSIM table and survey methods.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>view_cansim_webpage(cansimTableNumber = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="view_cansim_webpage_+3A_cansimtablenumber">cansimTableNumber</code></td>
<td>
<p>CANSIM or NDM table number or cansim vectors with &quot;v&quot; prefix. If no number is provided, the vector search
page on the Statistic Canada website will be opened.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>none
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
view_cansim_webpage("34-10-0013")

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>
